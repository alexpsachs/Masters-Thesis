{
    "Synchro": "Thanks for the pull request.\nUnfortunately I see a few problems with this small change! Zend framework (in 1.10) had to remove all explicit uses of class_exists with autoload because it caused problems when trying to write autoloaders! I don't want to contribute to that problem.\nThere's an element of redundancy here too - there's an implicit condition in using require_once so it won't include the file if it's already been loaded (i.e. it's not blind - it's effectively doing the same job as class_exists), and means that the SMTP class will be already defined since it's in that file, that is this:\nif (!class_exists('SMTP', false)) require 'class.smtp.php';\nis effectively equivalent to:\nrequire_once 'class.smtp.php';\nUsing class_exists as well as require_once would mean we possibly get the worst-case scenario: a full search of the include path followed by a possible double stat from require_once. If we are going to call class_exists, we should also change to a plain require which has a slightly lower penalty (and we don't need the protection of require_once because we know the class doesn't exist).\nThe current require_once won't incur these problems because it's being given an absolute path, and will also hit APC caches first, thus calling class_exists will certainly be slower in this case.\nA neater (and more compatible) approach might be to define an SPL autoloader in the PHPMailer class so you could just say new SMTP and have the autoloader work it out, however since PHPMailer only loads a maximum of two external classes from known locations, that would be overkill, and will certainly be slower and more complicated than the simple require that's there already.\n. Well the default use case (generate a message, submit it to local sendmail) doesn't require either class. You don't need POP3 for sending email: it's only in PHPMailer because it's used for POP-before-SMTP auth, which is pretty rare now.\nThe concept of depends on class xxx existing in a file of a given name in a named, although configurable, location is pretty much the entire idea behind the PSR-0 autoload standard (not that PHPMailer is too bothered about that) being adopted by most of the major frameworks, so I don't think it's unreasonable. We're also talking about explicitly loading a single class that's an internal dependency, not navigating a huge forest of them, like Zend or Symfony might supply.\nI don't really care how libraries name stuff internally so long as it's reliable and doesn't tread on other things. Historically there has been huge variation in file naming, so trying to make external libs conform to your own naming scheme is a battle not worth fighting. I consider anything that happens inside any external library's folder to be its own problem (i.e. it should be regarded as a black box). Since you generally never have to explicitly load the SMTP class yourself (unless you're using it separately), I don't see that it should contaminate your code. Similarly, I'm happy to use Zend_Http without knowing or caring that it might use Zend_Http_Client_Adapter_Socket or where that file might be, so long as it deals with it transparently.\nThe right way to deal with the SMTP class really would be to create an instance and inject it; that would also open up opportunities for alternative implementations and make testing easier.\nAnother factor is that there are a zillion projects that include PHPMailer, so changing the way it loads isn't something that should be changed lightly.\nNow a PHP 5.4 branch with namespace support and PSR 0,1,2 compliance would be worthwhile...\nI can't quite believe I've written all this about 1 line of code :)\n. An equivalent to this request has been merged in from the Google Code project.\n. I've been meaning to do that! Thanks.\n. Thanks.\n. There's no such file or code in this repo. Are you using a very old version?\n. That link is to an ancient version from 2001! PHPMailer is no longer maintained on sourceforge. You can either get it from here on github, or on google code.\n. You could call CreateHeader manually and look at what it returns. I was sure this had been fixed years ago - I think I have some local modifications I've not pushed that rearranges the sending mechanism to provide a 'fetch' function that creates the message, but returns it rather than sending it - sending just calls that and sends the result. I'll have a rummage.\n. This is available in the current build. Call $mail->PreSend(), then you'll find the headers are in $mail->MIMEHeader and the body is in $mail->MIMEBody.\n. They look right to me. What you've got there is a multipart/signed part containing a text/plain part, and the parts of the outer multipart are divided by the defined boundary. If you put the Content-transfer-encoding and the second content-type header above the boundary, it would be wrong. Take a look at the example message in section 3.4.3.3 of RFC2633.\nThe text before the boundary (\"This is an...\") will be ignored by MIME-capable clients.\nIt wouldn't surprise me if Outlook is doing something wrong.\n. Make sure you've got all your Windows updates installed - there have been fixes like this one that could have some bearing on it, though that's not exactly the problem you're seeing.\n. Thanks for this. I didn't use yours directly as I found that someone had already created a more comprehensive composer file in packagist, so I adapted that.\n. Use the AddEmbeddedImage function; it does exactly that.\n. The regex it's using is pretty thorough (it's from here), and is constructed in a very similar way to yours, however there seems to be a problem with using regexes containing literal tabs in PHP, so I've fixed that and added an enormous array of test cases from here which all pass bar a few minor edge cases (which also fail in yours) that we can probably live without.\n. Thanks very much - I think I'd commented those other ones out while I was testing another regex and had not uncommented them, but I've fixed them as you suggested and commented out the three debatable ones and it's all happy now.\n. Could you provide a test case please?\n. No problem, got to love test cases :thumbsup:\n. You fixed this in #13! Thanks.\n. Thanks, I've tested that and it seems to work ok.\n. Thanks for the heads-up. Fixed.\n. Closing this in favour of your #17 pull request\n. This seems sensible and thanks for the pull request. Could you remove the HTML markup from the message though - it's not used anywhere else. It's more reliable to convert line breaks to <br> than the other way around, and I for one use PHPMailer mostly in non-HTML contexts. Also can you retain indenting convention please.\n. I think the right fix for this would be to add an appropriate language string, but in the mean time, it's certainly broken and this will do. Thanks for the patch.\n. This is done, though builds are currently failing as Travis appears to block the mail() function, which puts a bit of a damper on testing a mail sending class... I wonder if there's some way of faking that too?\n. Well you're getting the error because of the warning. Can you provide me with the address that's failing and the call stack at the point the warning occurs?\n. OK, I'm guessing you're running an old version of PHP, probably < 5.2 (6 years since last release!). Try it here.\nIn theory we're supposed to be maintaining compatibility back that far, but it's not a huge priority...\nThis regex was changed fairly recently, so you could use an older version of PHPMailer as a workaround.\n. You sure it's 5.3.3? That error happens under PHP 5.2. I can see that you're running via fcgi, so it may not be the same version as the cli - run a phpinfo() to be sure.\n. I'm not sure what it is in the older PCRE that the validation regex doesn't like - it maybe something like a limit of 9 capture groups. I've asked the author of the regex if he can come up with a simpler one.\n. Thanks for the heads-up - I hadn't noticed Michael had posted a reply. That's fixed now. I'm checking PCRE version rather than PHP version so that it deals with situations like @wiresfj encountered. I also added a simple fallback for PCRE being missing altogether.\n. I wasn't sure about this, so I asked on the google code project (where this change was made). The answer I got said that you should set the value of $Mail->Mailer yourself (and that's pretty much all that IsSMTP does). I think that's a bad idea as it's error prone (since there are very few valid values), and there is no scope for doing other things related to the chosen mailer, as is done in IsSendmail and IsQmail. There are other more pressing things that PHPMailer should be worrying about, so I suggest you ignore this for now. I may get rid of the deprecation should this fork diverge from google code too much, but that's not something I intend to happen yet.\n. Thanks!\n. There were some updates in the recent merge from 5.2.4 in adb0197, but we're still missing quite a few\n. Further language updates in c9b88b4, 6e499bd, 3ca3c70, b4e0312, 7741000, 9f9cea9.\n. Try reading the front page. It's not too hard.\n. I don't think this is a good idea:\n- You can't set PluginDir to an absolute path, which would probably break frameworks\n- __DIR__ only exists as of PHP 5.3, and we're supposed to work in 5.0 (could do dirname(__FILE__) instead)\n- . is in the default include_path for PHP, so it should work without this change anyway\nIf you are going to tweak this, perhaps a better approach would be to set PluginDir's default value to the current dir in the constructor.\n. Thanks for this pull request. Could you take your email address out of the test script? I doubt you want to know about it when anyone runs it! It's a good idea to use RFC2606 addresses like x@example.com. I don't know if google has any test accounts that will be safely ignored.\n. Thanks, I've merged this. When you add commits after a pull request they get added to the pull automatically. If you do add multiple commits, it's good to rebase them to squash them together into one commit. This also means that changes that get made and undone (such as including your address) are not included in the final merge.\n. Thanks but that looks like it will make a bit of a mess - stripping all line breaks will result in words being stuck together, there are two definitions of $piclinks, an incorrectly escaped /, and html_entity_decode needs to use $this->CharSet rather than a fixed UTF-8. It would be neater to write it as a single array with comments rather than using lots of local vars.\n. I've left this as a simple method that can be overridden, so you can use whatever converter you like without having to touch the base class.\n. ...and I just noticed that we already have an html to text converter class lurking in extras/class.html2text.inc, so you don't have to go too far to find an implementation. I guess we could take the giant leap of actually using code we're already shipping, much as we do for the ntml_sasl class...\n. Thanks! I didn't know anyone spoke Esperanto!\n. I just spotted that your Esperanto language file is missing one translation - any chance you could add it?\n24\n. Thanks. You might have a point there!\n. All sourceforge bugs are now either fixed, closed or migrated to github.\n. First two are fixed.\n. The whole examples folder received a major overhaul just recently, including moving the test_script code into it. All working for me, please open a new issue if you have other problems.\n. Do you have any suggestions as to how to do this? I originally submitted it to Packagist as 'master', but that doesn't work. We don't have a stable branch as such: trunk should be stable.\n. OK, I've bumped the version number (so we have a clean point of separation after the move from Google Code), and tagged that commit as 'v5.2.5'. Do I need to do anything else?\n. Excellent, thanks for your help.\n. Thanks for the notes, nice to see my efforts making a difference! The Worxware page is nothing to do with me, but Andy (a previous maintainer) wants to keep that as the 'marketing' home of PHPMailer, and it is still the top hit on google. I'll ask him to make it clearer.\nAs for releases, what was happening on google code was new stuff was developed privately, then new releases would get pushed all at once without warning, so it was actually far more unstable despite the tagging, and difficult for others to contribute to. This is one of the main reasons I set up this fork.\nMy policy on here has been to keep HEAD stable and make all commits public, and I've made big improvements to the test suite to help keep that so, but anything I'm unsure about is done in branches - for example the qmail branch I've got at present. As far as tagged releases go, there isn't any particular roadmap, so essentially I will tag 'known-good' states as releases occasionally. My main target at the moment is fixing the long header bug (#36) which will go a long way to getting message output to pass the IETF MIME linter, and possibly integrate that into the test suite.\nI may push some code back to SourceForge just so I stop getting so many bug reports on ancient versions - it's still getting 5k downloads a week!\n. I was wondering about that - I can't see how to move my repo (and all its forks) into the org, and not make it 'yet another fork' as it is at the moment, that's why it's stalled like that. My repo has existed for a couple of years, but I only set up the org just recently.\nIdeally the google and SF projects would just redirect here - I don't really want to delete them completely as there are a lot of links pointing to them from StackOverflow etc that I'd refer not to break. I think this repo only ranks 7th or so on google at the mo when you search for 'PHPMailer'.\n. That's all done, PHPMailer has a new home... Thanks for the pointers. I updated all the URLs, fixed the version numbers, cleaned up the changelog and tagged it as a new version (5.2.6, though it has no code changes), plus I updated packagist to point at the new location, and now you can do yours too.\nI've forked back to my own account so that old links still work. I also updated SourceForge to make it harder to find the downloads and put up a notice in the file area to come here.\n. Sigh, yes I did indeed forget to push the tag. Done now. I'll get there in the end.\n. Line breaks in headers are not a problem because they are folded, but that's not what this issue is about - it's about headers being allowed to get too long before they are folded.\nCan you open a new ticket and be more specific about your problem, provide examples etc?\n. Nothing to do with PHPMailer - sounds like you have include path problems in Laravel.\n. I think this has to be something up with your server - it's just a regular expression. If you extract it and run it by itself (outside PHPMailer) do you still have a problem?\n. If you try using it inside PHPMailer does it make a difference? Like this:\n```\n<?php\n$starttime = microtime( true );\n$email = isset( $argv[ 1 ] ) ? trim( $argv[ 1 ] ) : null;\nif ( $email ) {\nrequire 'class.phpmailer.php';\n$p = new PHPMailer;\n$starttime = microtime( true );\n$result = $p->ValidateAddress( $email );\necho 'Email->' . $email . \"\\n\";\nvar_dump( $result );\n}\nelse {\ndie(\"No input\\n\");\n}\n$endtime = microtime( true ) - $starttime;\nexit( $endtime );\n``\n. Have you got to the bottom of this?\n. No movement, closing.\n. It will always return false because commenting out the validation lines will prevent it adding addresses, so you'll be trying to send without an address. Checking a few return values wouldn't hurt either.\n. In the smtp-refactor branch, you can choose which validator pattern to use. The older pattern that's in PHPMailer already does not have this problem either.\n. Jim's saying that if you have trouble, you can simply override the method in your own subclass. In the branch I mentioned, the validate function allows you to select which validator it uses.\n. It was added with a different name - look atAddStringEmbeddedImage(). I guess the name was changed to make it consistent withAddStringAttachment()`.\n. Thanks for the report.\n. Hm. They were all updated to 5.2.6 but for some reason it looks like the tag was attached to an earlier commit, which is weird since it wasn't added (or even committed) until after all the version bumps.\nThe git docs don't say which commit a tag applies to by default - the one previous to its creation, or the one contained by it - I found that very confusing, as you can see!\n. I've reattached the tag to the right commit, thanks for the heads-up.\n. Thanks for noticing something was up, but your fix wasn't quite right. In the example dialogue they give at the end of section 4, 334 is the appropriate correct response after requesting an auth mechanism. The 235 comes later after succesfully using the selected auth mechanism - this is what all the other mechanisms do. With the change you suggested, it would have been checking for a 235 response twice. There is a bug here, but it's on the second check, on line 447 (which should be looking for a 235), not this line, so I've fixed it there.\n. Sorry, I didn't see your fixed commit until I'd already fixed it.\n. Tricky, but you could alter the contents of $mail->MIMEBody after calling PreSend(); MIMEBody is protected so you'll need to do it in a subclass and override the Send() function so you can get to do stuff between PreSend() and PostSend(). HTH\n. I didn't implement it exactly as you said - the IcalExists method doesn't really help much - but it should be enough for practical purposes. It's only done for the 'alt' message type as I couldn't quite get alt_inline and others behaving nicely.\nThis highlights the underlying weakness of PHPMailer's MIME implementation - you can't make arbitrary MIME structures easily, its all a bit spaghetti in there. I guess it would be nice to have flexible MIME handling like ZetaComponents Mail.\nI've bundled (in the extras folder) a simple class I found for generating basic ical event data (I've asked the author to clarify the license) and used it in the unit tests. It's not as flexible or capable as iCalCreator, but it's far smaller, simpler and easier to use.\n. @rmuktader please read #175\n. Not slow at all - it was only just pushed and it's not in a tagged release yet. I did that because it was flagged as a warning in the IETF's msglint MIME checker and the way that boundaries are generated means we can be sure they never need quoting. Any value element in a header should be a token or a quoted-string (I think both are subsets of atom), and msglint flags anything not strictly necessary, for example if you mark a message body as 8-bit when it could be 7-bit. A related change is that filenames in content-disposition headers only get quoted if they need it.\nRFC 2183 says:\n\nA short (length <= 78 characters) parameter value containing only non-'tspecials' characters SHOULD be    represented as a single 'token'.  A short parameter value containing only ASCII characters, but including 'tspecials' characters, SHOULD be represented as 'quoted-string'.  Parameter values longer than 78 characters, or which contain non-ASCII characters, MUST be encoded as specified in RFC 2184.\n\nIt would be better if we had a generic formatter for values in headers as it's a bit random at present.\n. I've done some more experiments and looked at how other email creators treat quotes on boundary definitions and decided to restore them. The way I'm treating filenames in content-dispositions is consistent with other mailers, so that will stay.\n. Fixed in c11c5af\n. More info?\n. I had a quick look into this; there are not really any mail servers that implement it yet, let alone testing tools, and judging by this interesting thread, it's unlikely to change any time soon. We can revisit it if it takes off... This series of articles is also interesting.\nIn the mean time, we could do something related to spotting unicode domains and integrate punycode.\n. I've restored boundary quotes for #48, but unnecessary filename quotes do get flagged by msglint, and using your filename in Apple Mail does not result in a quoted name. Can you give it another try and see if the boundary quoting change fixes it?\n. On 30 Apr 2013, at 13:40, Rene Rafael Vogt-Lowell notifications@github.com wrote:\n\nUNSUBSCRIBE\n\nThat's not going to do anything - go and change your settings on GitHub.\n. I'd missed a place where it was setting the cid for the embedded image, so it was making a new cid instead of using the one already created (line 2493). That's fixed in HEAD now, please give it a try.\n. Spotted another error - it was also creating those matching cids in AttachAll, which could result in duplicate suffixes when combined with MsgHTML. I've now altered it so it only uses the suffixed cids in MsgHTML - everywhere else you're expected to do it yourself, which is as it used to be.\nAll that said, I'm seeing an odd problem where it shows a 'missing plugin' error in Apple Mail when there's an embedded png (as generated by the test suite), yet the markup looks ok. This seems independent of this cid generation change.\n. Thanks, closing.\n. I agree that it is unnecessary to set reply-to - it's only needed if it's different to the from address, yet here it's guaranteed to always be the same.\nI'm not sure the same can be said for setting the sender.\nAs far as orthogonality goes, SetFrom is a convenience wrapper for setting From, FromName and Sender manually and having it do some other stuff automatically can make for simpler code overall. If you want finer control, you can always set them manually and just not call SetFrom.\nIn the same vein, I'm thinking of having MsgHTML normalize line breaks to CRLF; the vast majority of emails I see made with phpmailer use wrong line breaks to their detriment, so it would be consistent to have a convenience function do some cleaning up.\n. I've removed the creation of the unnecessary reply-to, but I think setting Sender is generally a good idea, and it won't interfere with manual overrides, so I've kept that along with 'auto' mode. That ok with you?\n. Good point!\nIf you're interested in qmail bits, there is a branch for improving qmail support - I'm somewhat interested in implementing QMQP transport.\n. QMQP is more like remote piping - you can submit multiple messages asynchronously in one hit with minimal protocol overhead, and on my sending cluster SMTP overhead is very much the main bottleneck. I certainly don't want the config complexity of a qmail setup on every node. It's not too dissimilar to what OmniTI's alexandria extension added (async SMTP), but it's dealt with at the server end.\n. This isn't really a bug report... closing.\n. There are many obsolete and duplicate issues in there and I have no admin control over them, plus the gc repo has been dead for a couple of years, so I'm really not bothered. Anything important can be recreated manually.\n. There are many obsolete and duplicate issues in there and I have no admin control over them, plus the gc repo has been dead for a couple of years, so I'm really not bothered. Anything important can be recreated manually.\n. Can you provide some more info? De-personalised headers would be good.\n. Like I said - the received headers you're seeing, the values you're putting into your config. I don't know what you mean by 'SMTP address'.\n. Can you view source on the message and paste the exact headers? What would be useful is to get the headers generated before sending (look at $phpmailer->PreSend()) too so we can see if gmail is altering them.\nWhat @sabl0r is probably true too.\nIncidentally you're using obsolete settings for gmail - you should be using:\n$phpmailer->SMTPSecure = 'tls';\n$phpmailer->Port = 587;\n. That's good - we can see that the 'From' header is missing an address. Now for checking what was sent:\n$phpmailer->PreSend();\necho $phpmailer->MIMEHeader;\nand compare the two (ignoring 'received' headers). If the From header was set correctly before sending, it does indeed look like gmail is stripping it.\n. Either subclass it or call GetSentMIMEMessage() instead.\n. I've really not seen this at all - even some of the demo scripts have invalid/incomplete HTML bodies and they work fine - email really doesn't care what's in the body, it's just a bunch of characters. We need the errors you're seeing and sample code for this.\n. I entered some random values for your placeholders and it all worked fine. Do you have some values that make this fail reliably? If you like you can email me (address in my profile) rather than posting here. Otherwise if you have a reproducible test case, I'd suggest running it in a debugger (PHPStorm rocks!) so you can see where it (or something else) is going astray. I'd also recommend using a fake mail server for testing. Does it also fail when sending via SMTP?\n. Can't reproduce this, closing.\n. One thing worth noting - even with exceptions enabled, PHPMailer doesn't use exceptions for everything - you should still check return values. Instead of:\n$mail->send();\n\nyou should still do:\nphp\nif (!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\nOr some equivalent thereof.. You can't get it back from sendmail, but you can set the message ID yourself, just set the MessageID property prior to sending.\n. Marco, thanks very much for the pull request - as you spotted, this bug has been around for a while on SourceForge and I've been meaning to get around to fixing it. While your code did the job, I thought the code could be clearer, so I rewrote most of it to succeed earlier if a connection is already open, use fewer local vars, make better use of exception handling and not to need a for loop with index values (which are often confusing). I also added both good and bad test cases and all pass. Behind all that, your approach is still there...\n. This is bound to be an encoding issue somewhere, whether in the page where users enter their content, how it's submitted to PHPMailer, or the settings you're using in PHPMailer. PHPMailer defaults to the ISO-8859-1 charset so unless you're changing that you're probably looking at a latin1 to UTF-8 mismatch.\nI'm quite happily using 4-byte UTF-8 unicode characters in PHPMailer without any issues, though I know that wordpress can't cope with that by default.\nIt's somewhat telling that the example character you posted didn't appear...\n. On 14 May 2013, at 16:11, revaxarts notifications@github.com wrote:\n\nUsers can edit the content via the built in WordPress editor (TinyMCE). This causes often some strange markup especially when pasting from Word or similar.\nPasting from Word is generally a recipe for disaster. It's very likely to include strange characters from the wrong encoding.\nBut I'm really curios why the exact mail looks ok on my iphone while it breaks on the users one? I can't change encoding on my device\nWell iPhone has better character set support than many other email clients. I know it supports things like Emojis which will work perfectly on there and break in many other places, but I doubt your users are entering 4-byte chars.\n\nI'd say the most likely source of the problem is TinyMCE. Try doing some experiments with specific characters in different encodings and see how they come out.\nMarcus\n. Those characters indicate that you're displaying UTF-8 encoded text in an 8-bit Windows-1252 charset. See this page for a map: http://www.i18nqa.com/debug/utf8-debug.html\nFor example in the title you have the sequence \u00e2\u0153\u201d, which is hex E29C94 in Windows-1252, which is apparently meant to be the character \"U+2714 HEAVY CHECK MARK\", which should look like: \u2714. Is that what you see on your phone?\nInteresting carrier you have!\n. That may be true, but if your'e providing it with content that uses the Windows-1252 charset, you'll get the problem you're seeing. Try using mb_convert_encoding to convert your content to UTF-8 first - that's not something that is up to PHPMailer.\n. Somewhere you're still using the Windows charset. You need to track that down.\nFor the most part, UTF-8 doesn't care what language your'e using, it's all just characters; having it fail when switching to a non-matching language suggests there's an 8-bit charset in use, which will fail as you're seeing.\nWhen comparing devices, it's best to use BCC to send the messages to multiple recipients rather than sending them separate messages, then you know they are receiving copies of the exact same message, which are thus comparable.\n. Lets play \"spot the 8-bit character set\"...\n. You were quite right, and there were also some bugs in the unit tests for MsgHTML that meant it wasn't using cids. I've incorporated your fix, fixed the unit tests and now all works. Thanks.\n. Yay for the 1-character pull request!\n. Spaces are not valid unless escaped or quoted. Comments are only supported in PHP 5.3+ since they require recursive regex support (because you can have comments inside comments). Check out the test cases for lots of valid and invalid examples like yours, and run the PHPUnit script to test them.\nYou don't need to create a class instance because the ValidateAddress method is static, so just call it statically without creating an instance, like PHPMailer::ValidateAddress($address);.\nYou can find many valid RFC822 addresses that are valid but useless because they conflict with other RFCs; for example it allows spaces and comments in domains.\n. Not calling IsSMTP means it will send via the mail() command by default, so it's not 'fixing' the SMTP part at all, but sending a completely different way; if you're on Windows it's quite likely you don't have a local SMTP server so it generally won't work. Do you have a working SMTP server?\nThat article is using a pretty ancient version of PHPMailer, and has a good suggestion to enable TLS in that particular case. Are you using the latest code from here on github? Can you post more specific details (i.e. your code) as generally SMTP Auth is working fine.\n. The releases were never exactly the same so I don't know how useful it would be.\n. The site is still there along with some still-open bug reports, but it's no longer in use and has a pointer here. Same goes for source forge, though I've cleared nearly all the bugs on there.\n. I've tagged all releases that were also tagged in svn using the new numbering scheme (vX.X.X).\n. Thanks!\n. Thanks for spotting that. You don't have to fix things yourself - just reporting an issue is helpful! I've fixed that (by changing thre references rather than the filename) so you don't need to do anything.\n. Reading the RFC, just adding format: flowed headers isn't enough - you need to do the space stuffing too, and that's rather more subtle.\n. Thanks for the code.\nI don't think array_map vs foreach makes any major difference, so long as it works.\nOne underlying issue here is really the use of explode on a message body. PHPMailer does this in a few places (most significantly when processing attachments), and it's really bad for memory consumption (can be ~10x size of data). The right way to do this would be with a generator as it wouldn't need to hold the whole exploded message in memory at once, however, we're a bit stuck if we're retaining PHP 5.5 compatibility. array_map doesn't make any difference to that as it assumes you've already got an array. I'll aim for a PHP 7 minimum on the next major release so that we can use nice things.. It's not the job of libraries to dictate PHP versions - that's an app/framework decision. Libraries should favour compatibility over bleeding-edge feature box-ticking. I have nothing against supporting latest stuff, it just needs to be done in a semver way.. I just checked up and found that generators were actually added in PHP 5.5!. Oh I know that 5.5 is old, but I don't know that we're really missing out on anything particular - current PHPMailer runs quite happily with no warnings on pre-release 7.3. Updating beyond 5.3 & 5.4 was critical as it meant we could use namespaces, closures & short arrays, but beyond that there's not a huge amount that leaps out as essential in later versions. There are lots of very minor changes that could be made for their own sake, but the cost of BC breaks is very high - for example, Wordpress uses PHPMailer, but it has a minimum version requirement of PHP 5.2, even in the latest 4.9 release, so even that's stuck with the 5.2-legacy branch. That's what I meant about PHP version being an app/framework choice, not up to a library - I'd call it backseat driving.\nReplacing explode with generators (everywhere, not just in this case) would likely bring an improvement of orders of magnitude in memory use, which is a much bigger payoff than any shiny new language feature.\nI'm fine with array_map, I was just saying it's an implementation choice - it sounds like you have a good idea of how you'd approach this - PRs welcome!. You had me worried with a misspelling in the pull request title!\n. If you're sending on port 25, it's very likely that your ISP is transparently redirecting you to their own mail servers - this is a very common practice intended to prevent spambots sending from ISPs. The workaround is usually to use the SMTP submission protocol (TLS on port 587 with authentication), or switch to a better ISP.\n. Thanks\n. Thanks\n. I have to admit to not having tried these at the same time. Sign() doesn't do anything beyond setting internal properties, so it doesn't matter whether you call it before or after setting DKIM properties. S/MIME signing happens in CreateBody(), DKIM signing happens later in PreSend(), the idea being that DKIM should sign S/MIME headers too. I'll try to have a look into this - it would be cool to roll DKIM testing into the test suite, perhaps using something like mailinator.\nAre you really using 'domain.com' as your DKIM selector? It would result in a lookup for domain.com._domainkey.domain.com which is an odd way of working.\n. I'm not sure if it's the root of your problem, but I'm seeing the SMTP class doing something odd - the first line of the headers seems to be lost. That's not the end of the world when a header is a single line (like Date), but in the case of DKIM-Signature, it makes a right mess of it.\nI'm in the midst of a major refactor of the SMTP class at the moment, it'll be up in a new branch shortly.\nThat it's moved here is the only thing it says on the google project home page! Admittedly it's not quite right as it's still pointing at my personal fork instead of the PHPMailer org - I've just opened an issue to fix that.\n. I've not had a chance to look at this, but my SMTP refactor went into the 5.2.7 release, and there have been lots of small changes since. I doubt your problem is fixed though. Since you seem to haev a good grasp of what's going on, it would be helpful if you would have a go at tracking down where the problem lies. I would look carefully at the list of headers included in DKIM. Any overlap with S/MIME is likely to be asking for trouble sicne they are doing such similar things - it may be a chicken-and-egg problem if they are both trying to sign each other's headers.\n. Well, I often push from my personal fork to the 'real' one and I'd need to remember not to push that change every time...\n. Thanks Jim. I've altered my fork's project description.\n. Lots done on this in my fork if anyone is interested. The SMTP class has got 200 lines shorter... \n. The smtp-refactor branch is now in this repo, not yet in master though.\n. Released in 5.2.7\n. It's quite likely to work if you use smtp with ssl or TLS to port 465/587 as that involves neither sendmail nor port 25.\nMarcus\nSent from my iPhone\nOn 11 Jul 2013, at 16:52, \u674e\u73e0\u521a notifications@github.com wrote:\n\nthanks for all of you....i have solve the problem....in my linux server, httpd_can_network_connect and other as the image shows is off.. maybe so does many of guys or Godaddy\n\u2014\nReply to this email directly or view it on GitHub.\n. OK, so it's a hosting problem, not a PHPMailer issue, closing.\n. On 7 Nov 2013, at 05:58, aljie notifications@github.com wrote:\nI also tried the code but nothing sends to the recipient. Please help, by the way this my code:\nrequire_once(\"PHPMailer_v5.1/class.phpmailer.php\");\nrequire_once(\"PHPMailer_v5.1/class.smtp.php\");\nThis is a really old version, use the latest before reporting bugs.\n\nYour code looks fine, but you need to look at the SMTP transcript with debugging turned on.\nMarcus\n. There's something else odd going on. Because you have set SMTPDebug = 2, you should be getting detailed client -> server output, not just server -> client output. For debugging SMTP issues, I highly recommend running a fake mail server so that you can see both ends of the conversation and exactly what's being submitted. There are several listed in the docs, but I recommend this one.\n. As far as PHPMailer is concerned, that all looks ok and appears to send successfully. If it's having problems beyond that point, the next step is to look in your mail server logs.\nWhen pasting chunks of code like that, can you please use github's markdown formatting - it makes it much easier to read.\n. I don't really want to do this within the PHPMailer repo since the output is huge (we were doing it for a while a few years back), but I could move it to a separate repo that gets compiled to GitHub pages; that would be a better solution.\n. Not a solution for this yet, but the smtp-refactor branch contains a complete overhaul of phpdocs.\n. Fixed! Generated phpdoc files now live in their their own gh-pages branch, and are published here.\n. These docs are a little ahead of actual code as they contain the overhauled docs from the smtp-refactor branch; they will be updated in master soon.\n. Agreed. There are no echo or print statements other than in the debug output method.\n. Everything in my fork will get here eventually - I didn't know you could do PRs from other people's forks!\n. Please take a look in the smtp-refactor branch where I've implemented a solution for this.\n. Please take a look in the smtp-refactor branch where I've implemented a solution for this. It contains a complete overhaul of phpdocs, generated docs now look far better.\n. This has finally been done!\nI wrote a parser based around the imap_rfc822_parse_adrlist function, with a fallback to a simpler parser loosely based on @neokio's and some others I found. It will parse a whole list of addresses, not just one. You use it like this:\nphp\n$a = 'Joe User <joe@example.com>, Jill User <jill@example.net>';\nforeach ($mail->parseAddresses($a) as $address) {\n    $mail->addAddress($address['address'], $address['name']);\n}\nI wrote it as a standalone parser so that it can be used for CC, BCC, ReplyTo etc as well.\n. Hey @Cyberchicken, thanks for the request - it should probably have been in a new issue, but it doesn't matter. You're quite right that it should have been done that way so I'm changing it, however, since it's a minor BC break, I've put it into the 5.4 branch and it will be released when that gets finalised. For the record, the example for 5.4 should do this:\nphp\n$a = 'Joe User <joe@example.com>, Jill User <jill@example.net>';\nforeach (PHPMailer::parseAddresses($a) as $address) {\n    $mail->addAddress($address['address'], $address['name']);\n}\n. Calling a static method dynamically is allowed, but the reverse is not, see this article, and that's what's happening in this change because the original method was not declared static.\n. This is nearly done in this branch.\n. This is now in this repo in the smtp-refactor branch. Comments please!\n. Released in 5.2.7\n. When you create a fork, github will name it automatically. Typically it will be merged into master when a PR is accepted, so it doesn't matter what you call it.. I'm approaching this this by defining an interface for SMTP implementations (and moving all SMTP property set/get into functions) and putting SMTP class loading in a function that can be overloaded. That should fix your issue and others. Ideally this would be done in a dependency-injection style (like $Mail->setSMTP(new mySMTPthing)) but I think that might break too much existing code. I may be able to do both, will see what I can do. Keep an eye on my personal fork as it will appear there before here.\n. Please take a look in the smtp-refactor branch where I've implemented a solution for this.\n. Released in 5.2.7\n. It's not doing proper dependency injection, but you can achieve it by overriding the getSMTPInstance method in a PHPMailer subclass:\nphp\nclass myMail extends PHPMailer {\n    public function getSMTPInstance() {\n        if (!is_object($this->smtp)) {\n            $this->smtp = new \\My\\Groovy\\SMTPThing;\n        }\n        return $this->smtp;\n    }\n}\nThen you're clear to implement your own SMTP class. There isn't a defined interface, but the easiest thing is to extend the existing SMTP class to ensure compatibility.\nDoing useful things with SMTP responses is something that's generally lacking in the SMTP class - for example it would be nice to parse HELO responses to get a list of mail server capabilities - this would be essential for supporting SMTPUTF8, as mentioned in #49 and #251.\n. When the function declaration declares the $from param as null, it just means that it's optional and will be set to null if it's not provided when this function is called - it's not forcing a passed param to null. The problem is actually in the uses of doCallback (for example in smtpSend()) which do not include a value for the $from parameter, so it's defaulting to null. I'm fixing that.\n. Please take a look at the changes in the smtp-refactor branch where this issue is fixed. Let me know if it works for you.\n. True, it would save a lot of effort!\n. I don't see what any of this has to do with this ticket. The internal storage problems are a high level architectural issue that affects large amounts of the code, not really anything to do with low-level mapping functions.\n. It's not just array <-> string conversions, and mixed params are not the problem. There are a load of complicated formatting and encoding steps (which may be difficult to reverse) applied and used inconsistently. Things happen to end up in the right place, but it's a rats-nest in there.\n. It's all about the BC really, and (not surprisingly) most of that was inherited. I've made method names use PSR-2 standard casing where I can (since PHP function names are not case sensitive), but I can't do the same for properties (which are case-sensitive), nor can I strip leading underscores without breaking stuff. I think the API is somewhat verbose, but it's not really that different to other projects that do the same thing. If I were to change something within PHPMailer, it would be the way that headers and MIME structures are handled internally. There's a lot of hard-coding that makes things very messy to work with and is the underlying root cause behind several open issues. The best MIME structure handling I've seen is in what was ezComponents (way better than Swift or Zend), but that seems to be fading away.\n. Well possibly, but as @ooxi said, wouldn't you just better off using Swift/Zend Mailer? There may be mileage in reimplementing some of PHPMailer to bring its more unusual features (like DKIM signing and S/MIME) to a more modern library, but I suspect that would represent more work than implementing those things in a mailer that has that structure already in place. While a cleaner library is desirable, it's not really that bad currently and rebuilding it represents a lot of effort to effectively reinvent the wheel. The majority of PHPMailer's popularity comes from its legacy support, not from its new bits.\n. I've been having more of a think about this. I think the number one feature should be arbitrary MIME structures, along with sane header/body classes and obvious boilerplate like a PHP 5.4 minimum namespaces, PSR-7 etc. That buys us a lot, solving all the structural problems we have relating to iCal, DKIM, encryption etc. I don't see that this can be accomplished within the existing code so it would involve a substantial rewrite, but I think it could be done while avoiding SwiftMailer-like overcomplication. Whatever BC breaks are done, we should also provide a BC wrapper to emulate old behaviour, a bit like Smarty did with its 2->3 transition.\nI'm also very happy to see the appearance of RFC6857 which finally provides a usable path to using SMTPUTF8, which is not currently suported by any PHP library I know of, and should be a top priority.\n. Well, to be fair, you do need compatibility checks like the others that are there because you are running a version that has a problem that will be fixed in exactly the same way, and one day that will be considered old too. You commented out large chunks of useful code (validateAddress can be used externally, not just internally), when you could have simply changed the default value of $patternselect to pcre, which is still a better validator than the PHP built-in one. There are not that many version checks (4 in total) and they really add negligible overhead.\nThere is a lot of spaghetti in PHPMailer, but BC is a very major thing - there are possibly hundreds of millions of sites running it (it's been in Wordpress since the start), many on very old deployments.\nThat said, take a look in the xoauth branch - the code for google's new auth system requires PHP 5.4, which necessarily implies a compatibilty change, however it's not a BC break because it's also a new feature and has been implemented as you suggest, using a subclass.\nI don't think that's a sane model for broader development - previous comments in here already outline how I'd like it to change, but it's still a matter of whether it's worth the effort - Swift and Zend_Mail are are already perfectly adequate 'modern' takes on the same thing, though I think there is still space for a simpler, stricter, more lightweight solution. IME, the biggest bottleneck is usually SMTP - it's tempting to write something in Zephir for that!\n. Well, to be fair, you do need compatibility checks like the others that are there because you are running a version that has a problem that will be fixed in exactly the same way, and one day that will be considered old too. You commented out large chunks of useful code (validateAddress can be used externally, not just internally), when you could have simply changed the default value of $patternselect to pcre, which is still a better validator than the PHP built-in one. There are not that many version checks (4 in total) and they really add negligible overhead.\nThere is a lot of spaghetti in PHPMailer, but BC is a very major thing - there are possibly hundreds of millions of sites running it (it's been in Wordpress since the start), many on very old deployments.\nThat said, take a look in the xoauth branch - the code for google's new auth system requires PHP 5.4, which necessarily implies a compatibilty change, however it's not a BC break because it's also a new feature and has been implemented as you suggest, using a subclass.\nI don't think that's a sane model for broader development - previous comments in here already outline how I'd like it to change, but it's still a matter of whether it's worth the effort - Swift and Zend_Mail are are already perfectly adequate 'modern' takes on the same thing, though I think there is still space for a simpler, stricter, more lightweight solution. IME, the biggest bottleneck is usually SMTP - it's tempting to write something in Zephir for that!\n. I have no problem with BC breaks in major new releases (what this ticket is all about), but I'd classify nearly everything from the last few years as maintenance, and BC breaks for no good reason are not helpful. For example, @martybalandis' problem could be fixed obtusely by refusing to run on less than PHP 5.6.10. Coming from the other direction, if something can be fixed sensibly without breaking BC, then there's no real reason not to go that way. It's not the job of a minor library to dictate major decisions like PHP version - whole frameworks maybe, but not individual components.\n. I have no problem with BC breaks in major new releases (what this ticket is all about), but I'd classify nearly everything from the last few years as maintenance, and BC breaks for no good reason are not helpful. For example, @martybalandis' problem could be fixed obtusely by refusing to run on less than PHP 5.6.10. Coming from the other direction, if something can be fixed sensibly without breaking BC, then there's no real reason not to go that way. It's not the job of a minor library to dictate major decisions like PHP version - whole frameworks maybe, but not individual components.\n. That's not really fair - the vast majority of PHPMailer users suffer the same problem, and nearly all PHPMailer updates are for bugfix or security reasons, exactly the reasons that you want to use a library in the first place. While I'll agree that we can probably do without retaining 5.0 compatibilty any more, dropping 5.2 would be a big deal. PHPMailer isn't about being bleeding edge - if you want that, there are other solutions. Reliability, safety and compatibility beats new and shiny.\n. @chris001 There's a great example of doing exactly that in Smarty. Their upgrade from 2 to 3 was a large BC break, but they wrote a BC wrapper class that emulated all 2.0 functions, with some performance penalty. One problem is that having a BC wrapper doesn't allow you to switch PHP versions arbitrarily - if an underlying class requires a later version of PHP, a BC wrapper can't fix that.\nI'm tempted to do a real split - requiring PHP 7 and making major breaking changes, and putting 5.2 into a security-fixes-only mode - it's not like it needs more features!\n. 5.2 should already be fine on 7.0 - it's been in the Travis-CI config for several months, though I've not run a source analysis on it from that point of view.\n. I just ran php7cc on it and the only things that are flagged are the calls to set_magic_quotes_runtime, which are already inside a version check that only uses them on old versions, so we're all set for 7.0 already.\n. There is a new PHPMailer 5.5 branch nearly ready to roll. It does have some BC breaks, and it bumps the version requirement to PHP 5.5 (hence the name). It's not a complete rebuild/redesign like this ticket talks about, but it does at least bring sensible file naming, namespaces, a much better XOAUTH2 implementation, and quite a lot of general cleanup. The 5.5 requirement is really down to dependencies that need it - it will probably still run ok on 5.4 if you're not using those features. Please give it a spin and open tickets for any issues you find.\n. There is a new PHPMailer 5.5 branch nearly ready to roll. It does have some BC breaks, and it bumps the version requirement to PHP 5.5 (hence the name). It's not a complete rebuild/redesign like this ticket talks about, but it does at least bring sensible file naming, namespaces, a much better XOAUTH2 implementation, and quite a lot of general cleanup. The 5.5 requirement is really down to dependencies that need it - it will probably still run ok on 5.4 if you're not using those features. Please give it a spin and open tickets for any issues you find.\n. I've had a thought - since there are some BC breaks, particularly for anyone not using composer, the next release will need to be called 6.0.\nWe've been recommending a composer.json version string of ~5.2, which will match 5.5, and result in automatic upgrades that are likely not compatible. The only way to avoid this is to follow the semver rules and bump the version to 6.0.\n. I've had a thought - since there are some BC breaks, particularly for anyone not using composer, the next release will need to be called 6.0.\nWe've been recommending a composer.json version string of ~5.2, which will match 5.5, and result in automatic upgrades that are likely not compatible. The only way to avoid this is to follow the semver rules and bump the version to 6.0.\n. Yes - there are quite a few things lurking in master that will be released as 5.2.15, and 5.2.x maintenance will be moved to the 5.2-stable branch. 6.0 will then become master.\nSince we are now committed to making some BC breaks, does anyone have anything particularly pressing (but minor!) they would like changing?\n. Yes - there are quite a few things lurking in master that will be released as 5.2.15, and 5.2.x maintenance will be moved to the 5.2-stable branch. 6.0 will then become master.\nSince we are now committed to making some BC breaks, does anyone have anything particularly pressing (but minor!) they would like changing?\n. @andig that would be a great addition for the examples folder, and as you say would be best done as an add-on rather than an internal change. Please make a PR!\n. Might be nice to combine it with the DNS-based approach that things like Outlook uses. These autoconfig things are mainly for client config, but there's no good reason not to use them for server-side outbound too.\n. @ivantcholakov Is there really an incompatibility? There's nothing preventing you from redistributing LGPL libs with an MIT project - it doesn't affect the host project at all. It only matters if you make changes to the libs themselves - which you either shouldn't need to do, or should do using a subclass that can itself be MIT-licensed. Changing licenses is very hard because you have to get written consent from everyone that has ever contributed code - and that's a lot of people in a project that's been going for 16 years!. @ivantcholakov Is there really an incompatibility? There's nothing preventing you from redistributing LGPL libs with an MIT project - it doesn't affect the host project at all. It only matters if you make changes to the libs themselves - which you either shouldn't need to do, or should do using a subclass that can itself be MIT-licensed. Changing licenses is very hard because you have to get written consent from everyone that has ever contributed code - and that's a lot of people in a project that's been going for 16 years!. @chris001 PHPMailer itself is not involved in cert checking at all; All of those things are in the realm of php.ini settings and can be set (if such flags are available) via the SMTPOptions property that gets passed to the underlying PHP function.. @chris001 PHPMailer itself is not involved in cert checking at all; All of those things are in the realm of php.ini settings and can be set (if such flags are available) via the SMTPOptions property that gets passed to the underlying PHP function.. @chris001 \n1. It is - PHPMailer uses encryption by default if the server supports it, even if you don't ask it to. The availability of recent protocols and strong ciphers in email servers is very poor, but this is an external issue handled by php.ini settings and the SMTPOptions property I mentioned before.\n2. No. That's an app-level concern that should be resolved before an app asks PHPMailer to do anything. The typical use case (and highest performance route) for PHPMailer is not affected by DNSSEC anyway - nearly every implementation will send through a local relay or nearby smarthost, so interrogation of DNS for final destinations happens there, not in PHPMailer.\n3. Definitely no. There is no easy, reliable way to auto-discover S/MIME or PGP keys, and it's extremely rare to use them at all. PHPMailer supports S/MIME and DKIM signing for integrity and authenticity, and there are some public forks that add encryption using PGP and S/MIME. There's no way you can encrypt by default - there is no such thing as universal PKI.\n4. Nope. App-level issue, not a library's job. In my own app I trap RFC2606 names and make them silently discard messages, very useful for testing, but a mechanism unique to my app. Most phishing emails do not send from real domains like paypal.com anyway, because that would cause them to fail SPF checks and never be delivered, so it's a pointless exercise.. @chris001 \n1. It is - PHPMailer uses encryption by default if the server supports it, even if you don't ask it to. The availability of recent protocols and strong ciphers in email servers is very poor, but this is an external issue handled by php.ini settings and the SMTPOptions property I mentioned before.\n2. No. That's an app-level concern that should be resolved before an app asks PHPMailer to do anything. The typical use case (and highest performance route) for PHPMailer is not affected by DNSSEC anyway - nearly every implementation will send through a local relay or nearby smarthost, so interrogation of DNS for final destinations happens there, not in PHPMailer.\n3. Definitely no. There is no easy, reliable way to auto-discover S/MIME or PGP keys, and it's extremely rare to use them at all. PHPMailer supports S/MIME and DKIM signing for integrity and authenticity, and there are some public forks that add encryption using PGP and S/MIME. There's no way you can encrypt by default - there is no such thing as universal PKI.\n4. Nope. App-level issue, not a library's job. In my own app I trap RFC2606 names and make them silently discard messages, very useful for testing, but a mechanism unique to my app. Most phishing emails do not send from real domains like paypal.com anyway, because that would cause them to fail SPF checks and never be delivered, so it's a pointless exercise.. PHPMailer 6.0 has been released, containing many of the things discussed in here. Time to start a new milestone for future changes!. For PHPMailer to be aware of this context it would need a DOM and CSS parser, which isn't going to happen. Quoted-printable encoding will help (the line breaks it adds get removed transparently by clients), and you can increase the line length used by word wrap.\n. No, quoted-printable is very inefficient for non-ASCII languages (as is base64, which would also solve your problem but probably get your messages put in spam folders). The standard is '7bit', but most will use '8bit' and longer lines, or just make sure your content uses shorter lines.\n. Thanks\n. Thanks for the report. This was a silly bug! The original code said this:\nphp\n//We put \\075 (=) as first value to make sure it's the first one\n//in being converted, preventing double encode\n$pattern = '\\075\\000-\\011\\013\\014\\016-\\037\\077\\137\\177-\\377' . $pattern;\nSo this problem was thought about, but the implementation is wrong as it does not prevent double-encoding, which was what you were seeing. The problem was that the order of matches is determined by the order of characters in the string being searched, not the search pattern. I fixed this by special-casing '=' and moving it to the front of the match array if it is found. This does prevent double encoding and your subject line now works. I added a test case for it too.\n. Can you provide minimal code to reproduce the problem?\nAside from that, using base64 for the overall message encoding will not do you any favours with spam filters anyway - I'd suggest using 8bit or quoted-printable for normal messages. Attachments are handled separately.\n. That's an ancient version - try either 5.2.6 (current release) or the 5.2.7 that's lurking in the smtp-refactor branch.\n. I just posted a change that should result in fewer blank lines in general, should fix your issue. Please give the smtp-refactor branch a go now.\n. Does this fix work for you?\n. This change is in 5.2.7. Please re-open if it's still a problem for you.\n. Those characters are in the ISO-8859-1 character set, so they should work fine. Try setting encoding to '8bit' like this: $mail->Encoding = '8bit';. PHPMailer generally won't touch content like that otherwise so I'm no sure where your entities are coming from..\n. Please post your code (but remove real email addresses).\n. I'd delete the functions file if I were you - it's got keys in.\nIn functions.php around line 204, add this:\n$mailer->Encoding = '8bit';\nIf it's still causing trouble, try:\n$mailer->Encoding = 'quoted-printable';\n. Private keys are meant to be kept secure, not posted in public!\nI suspect that your HTML entities are being introduced before it gets to the mail sending function, for example I see there is a 'sanitize' function that applies htmlentities and that could be being applied to the message body before the mailing function is called.\n. You also left passwords in the functions script... I suggest you change your password before some spammer hacks yoru gmail account.\n. Could you post the source of a received message?\n. Not the message as you see it, select 'view source' in your email program. It will show all the headers and the raw text of the message etc. I think you're just applying htmlentities somewhere in your code, I don't think PHPMailer is doing this.\n. OK, that's worse than I thought! It looks like htmlentities is being applied twice!\n&amp;amp;Atilde;&amp;amp;cedil;<br>\n&amp;amp;Atilde;&amp;amp;yen;<br>\n&amp;amp;Atilde;&amp;amp;brvbar;<br>\nI'd look more closely at your upstream code, look for inappropriate applications of sanitize. If it was only happening once, things would at least look right.\n. In your second one it's just a plain text message, so htmlentities makes no sense at all.\n. One last thing to confirm: at around line 207 in your functions.php script, put this: var_dump($m['body']);. When you run your script you should get output on your screen. You may need to view source on the web page to see what it says exactly, but it will show exactly what's being put into the body before it touches anything within PHPMailer. When you've done that you can delete it again you don't want debug output on a public site!\n. Yes, it doesn't change anything, but you now know for sure that the HTML already looks like that before it is given to PHPMailer (so it's not something that PHPMailer is doing), so I'd go and check wherever your text comes from and make sure it contains your characters. You can delete the var_dump line now.\n. I suggest you set SMTPDebug to 2 and look at the SMTP transcript. Also note that gmail ignores dots in local parts so guideproject.no.1@gmail.com is the same address as guideprojectno1@gmail.com. Generally for gmail you should always be using TLS to port 587. There's an example in the examples folder.\n. Thanks for letting me know. SSL on port 465 is obsolete, has been deprecated since 1998! Essentially the only thing using it any more is MS Exchange. TLS on 587 is the way to go.\n. This isn't unusual for standalone libraries - extra files generally do no harm and there are not very many. What you need depends on what you're doing, and we have no way of knowing what that is - for example you don't need the SMTP class if you're not doing SMTP, similarly for POP. You can get away without language files (you may get warnings but it won't break), but the code can't tell which you want in advance. Similarly there are some classes in the extras folder that are optional, but are needed if you use the features they provide. Tests may be required if you want to link library tests into your CI system. So that only leaves docs and examples. Given that this will be the only download that most will do, having basic docs there (full docs are not included) is the first line of defence against spurious ticket openings.\n. You shouldn't have the library folder accessible anyway, but I did deliberately change all the example scripts to phps so they will not run by default. I don't think it's a good idea to recommend a broken configuration and the extras scripts are safe by default (i.e. they do nothing when run in isolation, like any normal library), but by all means submit a pull request for updated copy.\n. PHPMailer-Lite is a long obsolete project. It's essentially PHPMailer 5.1 (from 2009) with the SMTP stuff stripped out, but all the bugs that have been fixed since then left in.\nIt's not really an optimisation worth doing. The overhead of the SMTP support if you're not actually using it is minimal.\n. This is a good idea, but I think it it should be handled generically along with all the other things listed there, which I've added in #284.\n. This is now supported via #320.\n. While having a templating example isn't a bad idea, I don't think this is a very good example! I'd approach this by subclassing PHPMailer and either override MsgHTML to accept the data array and have it process the template in there or implement a custom method to preprocess a template before sending. That way you would need far less code (== fewer errors), avoid all the duplicated boilerplate code for setting to, from etc (DRY), it would work with strings as well as files etc. There is also debug code left in (commented out), no phpdocs, it's missing some keywords (static) - run it through a static analyser first.\n. I'm not sure what you're saying - we already support passing in an array of stream options in the SMTP connect function, so you're free to do this anyway.\n. Since PHPMailer is all about creating messages, I don't see why you would not have the unencoded image available, otherwise how did it get there? There's nothing preventing you from decoding the image data - base64_decode() should do the trick. If you are processing incoming mail and building new messages, that's a different problem - you'll need a MIME parser (which PHPMailer doesn't have or need) - take a look at Zend_Mail_MIME or the MIME components in ezcomponents.\n. AddStringEmbeddedImage encodes the image - it's expecting plain binary content, so when you give it an already-encoded image, it ends up double-encoded, which won't make any sense to a typical client. To do what you want is going to require some other function that adds an attachment like that without encoding it, and you'll need to write that yourself. Alternatively, decode the image and re-add it.\n. Glad you worked it out - what you wrote looks reasonable.\nSending is, for the most part, synchronous, so when $mail->send() returns positively, the message is gone. It may still be in your mail server's queue and not actually delivered, but it's beyond anything that you're using your temp files for. PHPMailer has nothing to do with IMAP - it's up to you if you want to do integrations that way, like saving to a 'sent' mailbox, though your mail server may do it for you. Email messages with embedded (not linked) images are self-contained, so any media used during construction may discarded after sending.\n. Closing, since you seems to have worked this out.\n. This does look like an auth issue - the first line of the log is a little strange:\nSMTP -> FROM SERVER:CLIENT -> SMTP: EHLO www.my-domain-name.com\nIt looks like the server issued an empty response as its greeting? Can you test this with telnet?\n. Having a mail server that acts this way makes it much easier to test! Extending the connection timeout makes it work properly. I checked the specs and RFC2821 section 4.5.3.2 says:\n\nthe minimum per-command timeout values SHOULD be as follows:\nInitial 220 Message: 5 minutes\nAn SMTP client process needs to distinguish between a failed \nconnection and a delay in receiving the initial 220 \nmessage.  Many SMTP servers accept a TCP connection but\ndelivery of the 220 message until their system load permits \nmail to be processed.\n\nSo on that basis I will increase the connection timeout value to 300 to match this spec.\nBeyond the initial connection, there are specific timeouts for individual SMTP commands (especially DATA), but they all use the same value for now. If someone feels like implementing per-command timeouts, please be my guest!\nI foresee that this change will cause further tickets as pages will hang up for the duration of the greeting delay, but that's the price of using synchronous SMTP interactively; using a proper local mail server will fix that.\n. You can't have it both ways! Either we support what the RFC says and are thus able to handle greetdelay successfully, or we ignore the RFC and have greetdelay errors instead. It's also impossible to have a 'nearly instant error' for something which is by definition a timeout. You could set the timeout to 1 second, which would be 'nearly instant', but you'd get a lot of unnecessary delivery failures. Many systems are slow to respond not because of deliberate greetdelay, but because their spam processing engines slow the whole system down so much. Either way, it's not really PHPMailer's place (as a generic library) to make assumptions about usage - I happen to use it to send about 100k messages for every one I send interactively (to a local server).\nYou are free to change the default value (it's a settable property), and you can use a local mail server (which you should be doing anywhay if you are handling mail in any quantity), or submit your message to a queue that can work non-interactively. In short, there are many good workarounds and having the default behaviour exactly match the RFC doesn't seem like a bad choice, especially given that this ticket would not have been opened if we'd done that before.\n. PHPMailer strips attempts at header injection.\nFor the most part, messages bodies are not a security risk at the level of PHPMailer - an attachment could for example contain a virus, but PHPMailer won't care (that's not its job), and will ensure that it's correctly formatted and encoded for reliable transport just as it would for any other file.\nThe only real risk relating to corrupting message bodies could be if malicious content could guess its own MIME boundaries, which is essentially impossible.\nAside from header injection, email messages themselves are not a good attack vector as they are generally dumb, passive containers. Unless you're running Outlook of course, but that's not PHPMailer's fault.\n. Not necessarily anything to do with PHPMailer. Every recipient's spam filtering is unique to them. That said, there are things you can do to help:\n- Don't send spam - make sure your recipients are expecting to hear from you, use double-opt-in.\n- Implement DKIM (PHPMailer can sign for DKIM if you set it up)\n- Implement SPF\n- Don't send messages to bouncing addresses\n- Remove addresses that cause spam reports (available via some ISPs such as yahoo, hotmail)\n- Ask them to add you to their address book\n- Ask them to mark your messages as not spam, move them to inbox\n- Make unsubscribes easy, immediate, reliable and persistent\n- Don't send from a host that's also sending spam\n- Don't send from a dynamic IP block\n- Ensure your forward and reverse DNS lookups match\n- Run your message through spamassassin to check for common spam problems\n- Establish a good sending reputation (can take years)\nAny half decent ESP will do all of this for you.\n. I noticed this too. The tags are attached to the correct commits but they were only added recently (in order to fix #65), and github displays the tags by the date they were tagged rather than the date the commits the tags are attached to. I don't know that there's anything that can be done about it.\n. This doesn't feel right to me - surely the fix is to load the autoloader, not fix it from this end? I don't see this in other classes that can autoload?\nYou don't get to commit directly - you fork it, commit changes to your own fork, then issue a pull request for your fork to be merged with the upstream repo. That's the GitHub way.\nWhen pasting code inline, use markdown syntax - put three backticks on a line then your code, then 3 backticks and it will look like this:\nSome code\nSee GitHub Flavored Markdown for more on that.\n. I think this is the same problem as #108. Rather than this workaround, load the autoloader, not the class directly.\n. That's a nice simple approach to this. I think the 'right' way to do this would be to accept a mailer object via dependency injection - there is already way too much hardwired dependency on the SMTP class that really shouldn't be there. In the mean time, your approach will do nicely!\n. I doubt this is a phpmailer issue, but you can compare with email sent from the same server by other means. Try sending using 'mail' on a command line.\n. OK, so not a PHPMailer issue then.\n. Thanks for the PR. I didn't use your patch but came up with an alternative solution that avoids a regex for such a simple operation, also added unit tests for it, removed a local var.\n. I see that's a problem, but there's another bug in there too. If you set SMTPSecure to 'ssl' and also provide it in the host list, line 1256:\nif ($this->smtp->connect(($ssl ? 'ssl://' : '') . $host, $port, $this->Timeout, $options)) {\nwould cause it to try to open a connection to ssl://ssl://smtp.gmail.com:465 because the addition of the ssl prefix is independent of the host list. I think we should be looking for ssl / tls in here and use that to set SMTPSecure since you could have all three cases in a single host list, like:\nssl://smtp.gmail.com:465;tls://smtp.gmail.com:587;localhost:25\n. Give this version a spin. I've switched back to using a regex to break out the host elements and I set the encryption options locally. We can't safely set SMTPSecure from the host list because if you have a string like this:\nssl://localhost;localhost\nit would set SMTPSecure to 'ssl' for the first one, then try to use it again since no secure option is provided for the second one. Making it unset SMTPSecure if no option is provided is also wrong since this sequence is perfectly reasonable:\n$mail->SMTPSecure = 'tls';\n$mail->Host = 'localhost';\nand that should behave as if you had specified: tls://localhost. I expanded the unit tests a bit too.\n. That case is dealt with now. See any other holes?\n. If the autoloader is loaded, it should be finding that class. I'd suggest setting a breakpoint in the autoloader to make sure it's being loaded.\n. I suspect you are doing this:\nphp\nrequire 'class.phpmailer.class.php';\n$mail = new PHPMailer;\nWhat you should be doing is:\nphp\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\nThe autoloader does not autoload itself, and it's not the PHPMailer class' job to load it.\n. The autoloader depends on being in the same folder as the classes (as it is in the source) - is that the case for you?\n. Set a breakpoint in the autoloader so you can check the paths it's looking in.\n. Do PHP versions match? Is the include_path set correctly/differently in your php.ini? If you can't set a breakpoint, write a small script that just loads PHPMailer and echoes paths from the autoloader.\n. I've got a prospective solution for older PHP versions in my fork, linked above, that makes use of __autoload instead of the SPL autoloader. Please give that a go and see if it solves your problem.\n. I can't do anything from outside and frankly your server is not my problem, and I'm not here to teach you PHP. You need to investigate yourself. You can always solve it manually by simply including the SMTP class.\n. That should work fine. The autoload function looks for the class files relative to its own location. If it's still not working, I can only think there is something wrong with your PHP installation; an old version, a badly-set include_path, wrong permissions etc. As I said before - set a breakpoint in the autoloader and see where it's looking. If you can't set a breakpoint, go and download Netbeans.\n. The autoloader already takes this into account and does a version check.\n. Code? Are you loading the autoloader? Have you kept all the PHPMailer files together (as in the download)? Are you using the latest version?\n. Code? Are you loading the autoloader? Have you kept all the PHPMailer files together (as in the download)? Are you using the latest version?\n. The line number you're getting that error on does not line up with any of the last 3 releases, so I suspect you are using an old version. Please check the $Version property at the top of the PHPMailer class, and get the latest if it's not 5.2.8.\n. The line number you're getting that error on does not line up with any of the last 3 releases, so I suspect you are using an old version. Please check the $Version property at the top of the PHPMailer class, and get the latest if it's not 5.2.8.\n. OK, that looks good. Can you please post your code (don't post your passwords!)?\n. OK, that looks good. Can you please post your code (don't post your passwords!)?\n. I just had a thought - your shopping cart is probably loading class.phpmailer.php directly, and not loading the autoloader, and this means that the SMTP class is not loaded when it tries to use it. You should be able to fix that one of two ways: either alter your cart app to load the autoloader which will then be able to find the SMTP class, or load the SMTP class explicitly any time before PHPMailer gets used. If you can tell me the cart software you're using I can create a bug report for them to fix it, if they are doing it wrong.\n. I just had a thought - your shopping cart is probably loading class.phpmailer.php directly, and not loading the autoloader, and this means that the SMTP class is not loaded when it tries to use it. You should be able to fix that one of two ways: either alter your cart app to load the autoloader which will then be able to find the SMTP class, or load the SMTP class explicitly any time before PHPMailer gets used. If you can tell me the cart software you're using I can create a bug report for them to fix it, if they are doing it wrong.\n. By code I mean whatever code you are running that's not working!\nYes: this line is wrong:\nrequire(\"(location of files)/class.phpmailer.php\");\nIt should be:\nrequire '(location of files)/PHPMailerAutoload.php';\nSearch for 'class.phpmailer.php' in your code and update any lines like that.\n. By code I mean whatever code you are running that's not working!\nYes: this line is wrong:\nrequire(\"(location of files)/class.phpmailer.php\");\nIt should be:\nrequire '(location of files)/PHPMailerAutoload.php';\nSearch for 'class.phpmailer.php' in your code and update any lines like that.\n. If it's submitting but not arriving: check your spam folder in case it did really arrive, otherwise check your local mail server logs.\n. If it's submitting but not arriving: check your spam folder in case it did really arrive, otherwise check your local mail server logs.\n. Yes, it will be within the app - if you point the developer at this ticket they will be able to fix it. It's possible that it's not checking send status and is failing silently for some reason. If you get your authsmtp test script working you can confirm it's not your server that's the problem.\n. Yes, it will be within the app - if you point the developer at this ticket they will be able to fix it. It's possible that it's not checking send status and is failing silently for some reason. If you get your authsmtp test script working you can confirm it's not your server that's the problem.\n. You could just post the code here - that error is a simple syntax error, probably a mis-paste or something.\n. You could just post the code here - that error is a simple syntax error, probably a mis-paste or something.\n. OK, so this:\nrequire(\"scripts/class.PHPMailer.php\");\nshould be:\nrequire 'scripts/PHPMailerAutoload.php';\nMany file systems are case-sensitive, so their original line is also likely to fail since the actual file name is class.phpmailer.php. Aside from that it looks ok.\nPort is an integer so it should be just 587 (which is the usual port for email submission), not \"587\". It's possible to support TLS on port 25 as well, though it's less common, but I can tell that authsmtp does use/support 587.\n. OK, so this:\nrequire(\"scripts/class.PHPMailer.php\");\nshould be:\nrequire 'scripts/PHPMailerAutoload.php';\nMany file systems are case-sensitive, so their original line is also likely to fail since the actual file name is class.phpmailer.php. Aside from that it looks ok.\nPort is an integer so it should be just 587 (which is the usual port for email submission), not \"587\". It's possible to support TLS on port 25 as well, though it's less common, but I can tell that authsmtp does use/support 587.\n. You've still got some simple syntax error to cause that. Given that \\ is used for namespace separators, could it be that you're running code with namespaces on PHP 5.2, which doesn't support them?\n. You've still got some simple syntax error to cause that. Given that \\ is used for namespace separators, could it be that you're running code with namespaces on PHP 5.2, which doesn't support them?\n. Well, what's on line 8? Got to be something basic.\n. Well, what's on line 8? Got to be something basic.\n. Well as this thread has said several times:\ninclude_once(\"$smtp_phpmailer_url\");\nThis needs to be pointing at the autoloader or the implementor needs to take responsibility for loading classes - in this case he's doing neither, so it's breaking. The way that PHPMailer was doing it before was just wrong, and made it difficult to override and subclass, primary objectives for a library.\n. The previous behaviour was effectively a bug, since it was a hard-coded dependency on the SMTP class that was not possible to override. It could also interfere with autoloading mechanisms used by other frameworks that may have been including PHPMailer, for example Yii. This bug had been present for a long time, and in this case Photocart was relying on the buggy behaviour - now that it's been fixed (and now the SMTP class can be overridden), it's breaking. As mentioned many times above, the fix is to either take responsibility for loading classes yourself, or to use the provided autoloader. This is really trivial stuff; anyone with even the faintest clue about PHP will have no problem dealing with this.\nYour messages not arriving is an entirely separate problem. You need to enable debug output, check your mail server logs, check your DNS, firewalls etc.\n. Either your DNS is not working, or what you're connecting to has no DNS entry. Either way, it's not PHPMailer's problem, and don't hijack threads that are nothing to do with your question.\n. - Use the latest PHPMailer - you're using an old version.\n- Follow the example code provided with PHPMailer (use the gmail example) - your code is missing parts and it's easier to start with good code than point out your problem.\n- Don't hijack threads.\n. - Don't hijack threads\n- Read the comments above\n- Read the readme\n- Use the gmail example provided\n. - Don't hijack threads\n- Read the comments above\n- Read the readme\n- Use the gmail example provided\n. Instead of posting the same questions over and over again, why don't you read the answers that are already here?\nJust in case you bother to read this answer:\n- Use the latest version of PHPMailer\n- Read the readme to see which files you need and where to put them\n- Read the docs\n- Base your code on the examples provided, not old, broken code from elsewhere.\nI'm locking this issue now - if you have a new question that is actually different to what has been covered here, open a new issue.\n. I'm against splitting it up too - PHPMailer isn't big anyway, generated documentation is already split out, and more splitting just makes for more maintenance work. I know that some projects will look for unit tests in external libraries and run them as part of their own test suites, so I think test scripts are worth keeping in. The tarballs are generated by github, I'm not sure if I get any control over that - I don't think composer has any bearing on that since it's all about consuming rather than producing.\n. That seems to be in beta, but interesting anyway. I also found this which can generate and post releases automatically on commit.\n. That's already in the README under 'minimal installation'.\n. Thanks\n. You must be using an old version. There are no eregi_* functions anywhere in the current version. If you look at the usage of set_magic_quotes_runtime you'll see it's wrapped in version checks so it will never be used if you're running 5.3 or later. PHPMailer is designed to work in PHP 5.0 onwards where such deprecations don't exist.\n. addAddress doesn't strip anything. gmail ignores '.' in local parts, so vinod.m.06@gmail.com, vinodm06@gmail.com and v.i.n.o.d.m.0.6@gmail.com are all considered to be the same - it's gmail doing that, not PHPMailer.\n. PHPMailer should never attempt to be an MTA, it's far too complex. Sendmail's approach (like all MTAs) is exactly correct - it will send bounces on delivery failure - but this is clearly not something you care about if you're not running a proper MTA in the first place. We can already handle fake MX records because there is support for multiple hosts in the Host property. The whole idea of sending a message via SMTP during a web page submission is horribly flawed, but that doesn't stop many using it, and acting all surprised when they run into things like greetdelay breaking their web apps...\nMatching fwd/rev DNS is out of scope for PHPMailer. If sites use bad ciphers, that's their lookout - I wouldn't expect any domain that wants their email to work to deploy broken config. Falling back to plain-text is a way of allowing downgrade attacks to succeed, so it shouldn't be allowed.\n. PHPMailer should never attempt to be an MTA, it's far too complex. Sendmail's approach (like all MTAs) is exactly correct - it will send bounces on delivery failure - but this is clearly not something you care about if you're not running a proper MTA in the first place. We can already handle fake MX records because there is support for multiple hosts in the Host property. The whole idea of sending a message via SMTP during a web page submission is horribly flawed, but that doesn't stop many using it, and acting all surprised when they run into things like greetdelay breaking their web apps...\nMatching fwd/rev DNS is out of scope for PHPMailer. If sites use bad ciphers, that's their lookout - I wouldn't expect any domain that wants their email to work to deploy broken config. Falling back to plain-text is a way of allowing downgrade attacks to succeed, so it shouldn't be allowed.\n. I think this is actually just a bad idea, and not within a library's remit - this is an MTA's job!. While I have done what you suggested, I also looked into details on this and found that spl_autoload_register was only introduced in PHP 5.1.2, and the prepend param was only added in 5.3. This should really be updated in docs as PHP before 5.1.2 will not be able to use the autoloader at all.\n. I've updated the readme to explain this.\n. Yes, but be aware it's very difficult to do because of the inconsistent way that headers are handled in PHPMailer. If it was as simple as adding append/prepend methods I've have done it...\n. Yes, but be aware it's very difficult to do because of the inconsistent way that headers are handled in PHPMailer. If it was as simple as adding append/prepend methods I've have done it...\n. It needs to be more involved than a simple assoc array because you can have multiple headers with the same label. My initial thought is to create header and headerCollection classes, and these would be used within the message as a whole (possibly non-MIME), and also within (possibly nested) MIME parts. This would line up with a notional set of MIME leaf and multipart container classes. Being able to support SMTPUTF8 means that all encoding features need to be fairly dynamic. All in all, a big can of worms.... Thanks\n. I'd suspect your mail server - I've had both gmail and hotmail do this without any involvement from PHPMailer. Look at the source of the received messaged and look at their mesage IDs, and also look at your mail server logs. You can also enable SMTP debug output to get a transcript of the SMTP conversations.\n. You need to call clearAddresses() between messages, otherwise you're adding an address each time round the loop. There are similar functions for clearing CC, BCC etc too.\nDon't include the classes directly - there is an autoloader that will work better:\nrequire 'PHPMailerAutoload.php';\n. It was introduced quite recently. No, you don't need to load the classes, that's what autoloaders are for - you load the one file and it takes care of any others you need.\n. Unfortunately you can't just say that it's format: flowed, it actually has to be flowed! This has been sitting here for so long because doing that is difficult due to PHPMailer's spaghetti MIME structures, and that's holding up other things too, so I'm closing this for now.\n. The right SMTP command to use here would be RSET which would allow you to send more messages without going as far as closing the connection completely (what smtpClose does), however as you can't get at that command directly (because $mailer->smtp is protected), you'll need to subclass and add an smtpReset function like this:\nphp\npublic function smtpReset() {\n    if ($this->smtp !== null and $this->smtp->connected()) {\n        $this->smtp->reset();\n    }\n}\nAfter that you could do much as you suggested:\nphp\nif (!$mailer->send()) $mailer->smtpReset();\n. Please can you try the version that's in my fork (linked above). My old patches don't apply cleanly any more so I reimplemented them.\n. Included via manual changes\n. Yep, that would be nice. The difficulty in PHPMailer is in doing it at the right point since header and body generation is messy, and it would need to interact with S/MIME and DKIM signing too. Good example of sign and encrypt here.\n. It would be lovely, but unfortunately since PHPMailer's popularity stems largely from legacy support, we can't really do BC breaks. There's a discussion in #88.\n. No, not yet. PRs very welcome though!\n. Yes it will. Do you have a PR for it then?. I've had a look through the code and can't see any uses of /e on any preg_replace calls?\n. Nope. That line is:\nphp\necho htmlentities(preg_replace('/[\\r\\n]+/', '', $str), ENT_QUOTES, $this->CharSet) . \"<br>\\n\";\nNo sign of a /e modifier there. I think you are mistaken - preg_replace is not deprecated; the /e modifier is. Or are you looking at a really old version of PHPMailer?\n. Because you're not reading what it says in your path: PHPMailer_5.2.0. That's an ancient version. Use the latest.\n. I think this is a bad idea - it's not well supported in email clients and offers no advantages over adding embedded images and using references, which we can already do. It's different to web context because we transfer all data in one go, so there is no saving by having inline data.\n. I think this is a bad idea - it's not well supported in email clients and offers no advantages over adding embedded images and using references, which we can already do. It's different to web context because we transfer all data in one go, so there is no saving by having inline data.\n. Thanks\n. You need to show us your context. There are recent changes for improving autoloading in old PHP versions in the master branch.\n. That's incomplete. Where are you loading the autoloader? That's a minimum requirement, as described in the docs and examples.\n. So you decided not to read the docs even after I suggested it?\n``` php\nrequire 'PHPMailerAutoload.php';\n$mail1 = new PHPMailer();\n$mail2 = new PHPMailer();\n```\n. There's a change in master that should fix things for older versions of PHP, please give that a try.\n. Sorry, this fails to understand autoloading. The autoload function will only ever be called if the class does not exist, so you don't need to protect it with require_once. require_once is also slower than require.\n. OK, so that needs updating. It looks like symfony isn't using composer for loading, since composer does this right, and would also be in the vendor folder.\nphp\npublic function __construct()\n{\n    require_once sfConfig::get('sf_symfony_lib_dir').'/vendor/phpmailer/PHPMailerAutoload.php';\n    $this->mailer = new PHPMailer;\n}\n. I think you're getting a bit enthusiastic with the encoding. If I start with your subject line:\nSubject: =?UTF-8?B?PT91dGYtOD9CP1IyeGxaWG9nUTAxVElDMGcw?=\n =?UTF-8?B?Si9SZ05DKzBMTFF0ZEdBMExyUXNDRFJnTkMxMExQUXVOR0IwWUxSZ05Ddz89?=\n =?UTF-8?B?CiA9P3V0Zi04P0I/MFliUXVOQyswTDNRdmRHTDBZVWcwTFRRc05DOTBMM1Jp?=\n =?UTF-8?B?OUdGSU5DMDBMdlJqeUJUWlhKblpYaz0/PQ==?=\nI decode that and I get:\nSubject: =?utf-8?B?R2xlZXogQ01TIC0g0J/RgNC+0LLQtdGA0LrQsCDRgNC10LPQuNGB0YLRgNCw?=\n =?utf-8?B?0YbQuNC+0L3QvdGL0YUg0LTQsNC90L3Ri9GFINC00LvRjyBTZXJnZXk=?=\nwhich is what appears in your screen shot. First thought: \"it failed to decode!\"; Second thought: \"It's encoded twice!\"!\nDecode it again, and hey presto:\nSubject: Gleez CMS - \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f Sergey\nAre you, by any chance, encoding the header before passing it to PHPMailer? If so, just don't. PHPMailer will encode it for you. Just say:\nphp\n$this->mail->Subject = 'Gleez CMS - \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f Sergey';\nPHPMailer is actually cleverer than that too. B-encoding is quite an overhead if only a few chars actually need encoding, so it checks which of B and Q encoding (or none) will produce the shorter result.\n. I can't reproduce this error. This is my complete test script. I'm sending to a local fake mail server and the subject appears correctly.\nphp\n<?php\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->Host = 'localhost';\n$mail->Port = 2500;\n$mail->setFrom('sadhooklay@gmail.com', 'Gleez CMS');\n$mail->addAddress('m@example.com');\n$mail->WordWrap = 70;\n$mail->CharSet  = 'UTF-8'; // the same as 'utf-8'\n$mail->XMailer  = 'Gleez CMS 0.10.5';\n$mail->setLanguage('ru');\n$mail->Subject = 'Gleez CMS - \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f Sergey';\n$mail->Body = 'hello';\n$mail->send();\nWhen I open the resulting email, it looks like this:\n\nMaybe try a fake mail server, or enable debug output in SMTP to see what's going out. Also try putting a breakpoint or an echo in the encodeHeader function as that's the only place that B-encoding is done, and see if it's called more than once for the subject. \n. I spotted something suspicious. The double-encoded header you are getting has a charset of UTF-8 (in upper case, as does my test), but the decoded one has utf-8 (in lower case). Given that the script is definitely set to UTF-8, and that's what PHPMailer uses when it's doing the encoding (and it doesn't call strtolower), it suggests that something else is doing the encoding before it gets to the PHPMailer encoder. Maybe you have some test code lurking?\n. OK, I set up a test using your code (I added a send function to the class), and sending via SMTP or sendmail (using  the fakesendmail script in the tests folder), just adding these lines to the constructor:\nphp\n$this->mail->isSendmail();\n$this->mail->Sendmail = './test/fakesendmail.sh';\nboth sending mechanisms produced identical, correct subject lines. Maybe your mail server is doing something strange? Can you try using the fake smtp or sendmail servers?\n. Hm. So it's still double-encoding. Next step is to track down how that's happening. If you have a debugger configured (e.g. xdebug in PHPStorm), set a breakpoint in the encodeHeader function around line 2269 which is $encoding = 'B';. Otherwise print the output from debug_backtrace() from there. that way we can see how its getting there, and if it really is happening twice. What version of PHP are you running? Incidentally, I'm using the current master branch code rather than the 5.2.7 release - it might be worth checking that.\n. What I was suggesting is that with the breakpoint set there, and the problem you're seeing, we would expect to hit that line twice. in your screen shot we can see that it's being called from preSend, as expected, and $str contains the unencoded subject line - what I want to know is how and when it gets called again.\n. Nothing too special - the lower left-hand panel shows the call stack, so you can see how it got to this point. If you click the green arrow on the left, it will continue until it hits the breakpoint for the second time (or not, if it doesn't happen), at which point we'll (hopefully) know how it got there.\n. Aha! I think we've found it. The subject is encoded during preSend, but also during postSend when using the 'mail' transport in the mailPassthru function, which is why I didn't see it. I'll have more of a look tomorrow - it's 1:40am here! In the mean time, if you can switch to using sendmail (call isSendmail()) it will probably fix it temporarily.\n. I think I spoke too soon. While encodeHeader is called in mailPassthru, it is applied to the unencoded Subject property, not a header that may have already been encoded. In your last screen shot, you can see that the subject (in $str) is not encoded. I'm sending using the mail transport and it's not having a problem.\nSo we've seen that encodeHeader gets called twice, legitimately - does it get called a third time? I'm still suspicious of the casing of the charset.\nOne interesting point: when createHeader is called when you're using the 'mail' transport, it does not create a subject header because it is created by the PHP mail function itself (see line 1651). I'm wondering if your PHP is encoding the subject during the mail() call and not in PHPMailer. We can test that easily with a standalone script:\nphp\n<?php\n$headers = \"To: Sergey <sadhooklay@gmail.com>\\r\\n\".\n\"Date: Fri, 8 Nov 2013 10:21:26 +0100\\r\\n\".\n\"From: Gleez CMS <sadhooklay@gmail.com>\\r\\n\".\n\"Message-ID: <67549d27446b49fb0f5d5193c645e238@localhost.localdomain>\\r\\n\".\n\"X-Priority: 3\\r\\n\".\n\"X-Mailer: Gleez CMS 0.10.5\\r\\n\".\n\"MIME-Version: 1.0\\r\\n\".\n\"Content-Type: text/plain; charset=utf-8\\r\\n\".\n\"Content-Transfer-Encoding: 8bit\\r\\n\".\n\"\\r\\n\";\n$subject = 'Gleez CMS - \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f Sergey';\n$mailto = 'sadhooklay@gmail.com';\n$body = 'hello';\nmail($mailto, \"=?utf-8?B?\".base64_encode($subject).\"?=\", $body, $headers);\nThat works fine for me, but see if it still has the same problem for you.\n. Bah! Oh well, at least we know now, and it will show up in searches here if anyone runs into it again...\n. Yes, that's a good idea. Got a PR? :)\n. Fixed in master.\n. That's probably happening in MsgHTML, which does a fair amount of filtering on the message body. You could try skipping that and setting the Body property directly to bypass that.\n. Can you post some code to reproduce this? I just tried using your example (I tweaked your markdown to make it display correctly), but it's working fine with or without using msgHTML.\n. Testing your code in isolation, it does what you're seeing:\n``` php\n$doc = <<<'EOT'\n\n\\server\\temp\\000000_cover.pdf\n\nEOT;\necho Convert_Local_Images_To_Relative_Path($doc);\n```\nOutput:\nhtml\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"http://www.w3.org/TR/REC-html40/loose.dtd\">\n<html><head><title></title></head><body>\n<a href=\"file:///%5C%5Cserver%5Ctemp%5C000000_cover.pdf\" target=\"_new\" style=\"color: blue;\">\\\\server\\temp\\000000_cover.pdf</a>\n</body></html>\nSo I don't think this is anything to do with PHPMailer. I suspect setAttribute is applying escaping.\n. Just thought of something - your conversion code is only looking at img tags, not a tags, so it's not touching those URLs directly. I tweaked the function to inspect the a.href attributes instead of img.src in my debugger and it showed me that the URLs are OK at that point, which must mean it's saveHTML that's doing the escaping.\nYou could just do a $mail->Body = str_replace('%5C', '\\\\', $mail->Body); after your conversion to fix it.\n. I've found DOM stuff is often a bit unpredictable. Something I've done before is to use DOM to find the elements, but then feed them into regular expressions to do the replacements. That way you can use nice DOM's semantics but not suffer from output problems.\n. Firstly you should definitely upgrade to a later version of PHPMailer; 5.1 is pretty buggy and old now.\nIt's not quite clear what your issue is - are you saying that you submit one message and multiple messages are sent? I suggest you add some logging to check what's going on in your sending loop.\nWhy do you have a meta refresh in your cron script?\n. Yes you can - just use a fake mail server and you can send as much as you like without worrying about it. There are several linked from the docs, but my usual one is here.\n. Because we know what we're doing and can read the docs.\n. Because we know what we're doing and can read the docs.\n. I think that sounds reasonable; it generally won't affect anyone that's sending messages one at a time. I've posted a patch in my fork which also sets the severity code on the exception, please give it a try.\n. This is a really small change and it's not unreasonable, but I don't really see any value in adding the wrapper function just for that since it's only used in one place and has no value as an external function. I think the version check should be done inline within the set function.\nI don't really know why the set function exists at all, it's not used in anything but the unit tests and serves no useful purpose I can see since we have no virtual properties.\nI found an example in the changelog that suggests using it like this:\nphp\n$mail->set('X-Priority', '3');\n$mail->set('X-MSMail-Priority', 'Normal');\nThat strikes me as completely pointless - you can already add custom headers (which is what those look like), which have nothing to do with adding random storage features! The use of isset means that you can only set existing properties anyway, and despite the function comment that it allows 'set or reset', it doesn't provide either!\n. You could try reading the code about 1 line before that: set UseSendmailOptions to false and it will not use that param.\n. Not really. MMS has a completely different structure to email (it doesn't use MIME) and completely different transports. The only place it could possibly be used is if you have an email to MMS gateway. If you google 'PHP MMS' there are plenty of libraries and services. MMS doesn't really ever get 'sent' in the way email does: you create a message (usually with SMIL) and put it on an MMS server, then send the recipient a specially crafted SMS message that tells them where to pick it up. It's similar in concept to emailing someone a link to a web page.\n. I was aware that it should set Sender rather than Return-path, but I thought that Sender was transformed to Return-path at first submission rather than later on. Because of that, PHPMailer is setting it because it's acting as the first MTA in many circumstances (i.e. when users don't have a local MTA). Please do submit a PR if you have something.\n. Both MC and mailman work around this by setting a full name in addition to the address in the sender header, which solves most of the visual problem. It strikes me as a good way of getting flagged for phishing if the name contains an address that doesn't match the actual address, like user@example.com <user@example.net> so you'd need to tread carefully.\nThis is a bit difficult in PHPMailer because it uses the Sender property as the source address when sending via mail or sendmail methods as well as for generating the Sender header. When using SMTP though, you should be able to say:\nphp\n$mail->Sender = \"My name <some_other_address@example.com>\";\nThe logic in PHPMailer is that it only uses the Sender property if you have not specified ReturnPath, so you should be able to do what you suggest without any changes in the library.\nI also see that gmail adds an unwelcome Sender header of its own, which triggers the same issue in outlook, but obviously we have no control over that.\n. This looks reasonable - I was concerned that you were going to use that format internally, but I see you're just transforming it on add which is much less intrusive. Rather than having the same code twice, how about making a protected (so we can avoid public API changes for now) function that's called from each place?  This is quite likely to solve #82 as well. Could you add some test cases to go with it, for example using <> as well as []?\n. I'm not sure what you mean? Look at the calls in testAddressing. Just add some more in there that use the new formats that your patch allows, possibly check a little further to get the addresses back and check that they match the expected parsed output, e.g. that \"This is\" (RFC-Compliant) [user@email.net]' gets separated into \"This is\" (RFC-Compliant) and user@email.net correctly.\nWhy did you close this PR and where are your revised commits?!\n. Ah, sorry I didn't see you made a new PR in #146\n. Github is just git, so you don't update what's there, you make more commits to your fork and it will automatically add them to the PR. It's a good idea to create branches for different issues as otherwise they will get put into the same PR. Since lots of commits makes for messy pull requests and change history (e.g. if later commits undo earlier ones), it's normal practice to rebase after making multiple commits to a pull request so that they get squashed together into a single tidy patch.\nI only really got to grips with this workflow earlier this year when working on a PSR-2 patch for htmlpurifier of about 16,000 changes in 450 files, which involved a lot of rebasing!\nGenerally github's editor is only useful for doing tiny edits, since every edit results in a commit (which is effectively git's equivalent of saving). You can always open multiple files in tabs which saves a lot of to and fro. If you're doing anything more, work on your own local clone then push it to the github repo you did the PR from. Essentially what you're running into is that github isn't an IDE - it's a VCS with a pretty face. Personally I think github has totally revolutionised the world of open source - it's such a massive improvement on the depressing sourceforge and google code sites.\n. There is now a generic parseAddresses function to parse RFC822 addresses which you can then pass into addRecipient etc, which does what you're asking in a slightly less direct way.\n. Code to reproduce please. Also, use markdown code fences (triple backticks) when pasting code or output samples.\n. It's working for me :( I'm capturing the sent message using a fake mail server, as mentioned in docs. Here's my code - same as yours except using autoloader and SMTP:\n``` php\n<?php\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->CharSet = 'UTF-8';\n$mail->From = 'john@doe.com';\n$mail->FromName = 'John Doe';\n$mail->addAddress('jane@doe.com', 'Jane Doe');\n$mail->Body = 'Some body';\n$mail->isHTML(false);\n$mail->isSMTP();\n$mail->Port = 2500;\n$mail->Host = 'localhost';\n$someMBchar = \"\\xE2\\x96\\x88\"; // \u2588\n$mail->Subject = str_repeat($someMBchar, 80);\necho \"Source subject: \" . $mail->Subject . \"\\r\\n\";\nif ($mail->send())\n    echo \"On the way!\";\nelse\n    echo \"Something wrong...\";\n```\nSent message:\n```\nDate: Thu, 28 Nov 2013 13:46:53 +0100\nReturn-Path: john@doe.com\nTo: Jane Doe jane@doe.com\nFrom: John Doe john@doe.com\nSubject: =?UTF-8?B?4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI?=\n =?UTF-8?B?4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI?=\n =?UTF-8?B?4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI?=\n =?UTF-8?B?4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI?=\n =?UTF-8?B?4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI?=\n =?UTF-8?B?4paI4paI4paI4paI4paI?=\nMessage-ID: 62f393acd2bfeed30553573679fdad7d@localhost.localdomain\nX-Priority: 3\nX-Mailer: PHPMailer 5.2.7 (https://github.com/PHPMailer/PHPMailer/)\nMIME-Version: 1.0\nContent-Type: text/plain; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nSome body\n```\nand it renders right too:\n\nAre you using latest PHPMailer?\n. Thanks!\n. You shouldn't use SSL on port 465; use TLS on 587. You might find it useful to refer to the example script that does exactly what you're looking for - it's why we wrote it.\nAside from that, if you've got connectivity problems, it's nothing to do with PHPMailer.\n. Well if your connection is failing it doesn't matter if you try XYZ on 12345. Sort out your connectivity first.\n. @kilinkis you're looking in the wrong place - it's like an accident has blocked the road ahead of you and traffic is at a standstill, and you're asking us how to fix your car so you can drive on. Your car is not the problem!\nAs @myildi says, wait until it's fixed, or use a different provider.\n. @kilinkis you're looking in the wrong place - it's like an accident has blocked the road ahead of you and traffic is at a standstill, and you're asking us how to fix your car so you can drive on. Your car is not the problem!\nAs @myildi says, wait until it's fixed, or use a different provider.\n. It would possibly help if you actually read this thread before posting, and maybe even read the docs.\n. It would possibly help if you actually read this thread before posting, and maybe even read the docs.\n. No, it's not a bug. As this thread (and the docs) says, it's a connectvity problem within your ISP. Ask them to fix it - it's nothing to do with PHPMailer.\n. No, it's not a bug. As this thread (and the docs) says, it's a connectvity problem within your ISP. Ask them to fix it - it's nothing to do with PHPMailer.\n. They do it deliberately - GoDaddy is something of a bottom-feeder amongst ISPs. They have a perpetual fight against people using their servers for spamming, so you have to ask them to allow outbound email. Alternatively, use an ISP that's not cheap 'n' nasty.\n. They do it deliberately - GoDaddy is something of a bottom-feeder amongst ISPs. They have a perpetual fight against people using their servers for spamming, so you have to ask them to allow outbound email. Alternatively, use an ISP that's not cheap 'n' nasty.\n. So read this thread and try the suggestions in it instead of asking blindly.\n. So you know for sure that your DNS is working perfectly and you can telnet to smtp.gmail.com outside of PHPMailer, as the docs suggest you try?\n. As I said, read the docs that are linked from this thread!!! You claimed you already read them, but you clearly didn't.\n. Check your network configuration, ask your ISP. It's not a PHPMailer problem.\n. Sigh. Right. Because it's a network problem. Ask your ISP to fix it. There's nothing we can do here.\n. Yes, you can fix it yourself by asking your ISP. No, I can't tell you how to do that.\n. Unfortunately this is nothing to do with GitHub, and there's nothing PHPMailer can do about it either. People can send spam using pretty much any technology they like, PHPMailer included, along with Outlook, gmail and anything else that can send email. The term for what you're receiving is backscatter, where failed delivery reports are sent to where it says it came from (and it's lying), not where it actually came from.\nThe appropriate technology for preventing forged email is SPF, so I'd recommend you implement that ASAP, and look at implementing DKIM (though that's more involved). I'd also suggest reporting their spam at spamcop.net.\n. Unfortunately this is nothing to do with GitHub, and there's nothing PHPMailer can do about it either. People can send spam using pretty much any technology they like, PHPMailer included, along with Outlook, gmail and anything else that can send email. The term for what you're receiving is backscatter, where failed delivery reports are sent to where it says it came from (and it's lying), not where it actually came from.\nThe appropriate technology for preventing forged email is SPF, so I'd recommend you implement that ASAP, and look at implementing DKIM (though that's more involved). I'd also suggest reporting their spam at spamcop.net.\n. While I like the idea of this, I don't like the implementation. Setting the 'To' header as a custom header is asking for trouble. There's nothing particularly special about the 'undisclosed-recipients' name, it's the fact that it's an address string ending with :; that is important because it is an RFC2822 address group with no members. Setting To as a custom header is an invitation to break stuff, but there's no harm in using a different string for an empty group. So I'd suggest implementing this with a protected emptyGroupName property that defaults to 'undisclosed-recipients', then add a setter function that can enforce the permitted range of names for groups (which I don't know off the top of my head). So the equivalent to your code would become:\nphp\n$mailer->addBcc($address);\n$mailer->setEmptyGroupName('FakeToHeader');\nand use that in preSend() like this:\nphp\n $this->mailHeader .= $this->headerLine(\"To\", \"$this->emptyGroupName:;\");\nresulting in a To header like To: FakeToHeader:;.\n. While I like the idea of this, I don't like the implementation. Setting the 'To' header as a custom header is asking for trouble. There's nothing particularly special about the 'undisclosed-recipients' name, it's the fact that it's an address string ending with :; that is important because it is an RFC2822 address group with no members. Setting To as a custom header is an invitation to break stuff, but there's no harm in using a different string for an empty group. So I'd suggest implementing this with a protected emptyGroupName property that defaults to 'undisclosed-recipients', then add a setter function that can enforce the permitted range of names for groups (which I don't know off the top of my head). So the equivalent to your code would become:\nphp\n$mailer->addBcc($address);\n$mailer->setEmptyGroupName('FakeToHeader');\nand use that in preSend() like this:\nphp\n $this->mailHeader .= $this->headerLine(\"To\", \"$this->emptyGroupName:;\");\nresulting in a To header like To: FakeToHeader:;.\n. I'm not going to pull what's here now, but if you come up with something like I suggested and add it to this PR (and rebase!) I'll merge it. I'm the only active committer here so what I say goes :metal:\n. I'm not going to pull what's here now, but if you come up with something like I suggested and add it to this PR (and rebase!) I'll merge it. I'm the only active committer here so what I say goes :metal:\n. This looks like a local config problem - PHPMailer is trying to use some SSL function, and it's not working on your system. This report suggests:\n\nIt turned out to be a permission problem on \"/dev/urandom\" (rw-rw----, root:root) and not a PHP bug!\n. This looks like a local config problem - PHPMailer is trying to use some SSL function, and it's not working on your system. This report suggests:\nIt turned out to be a permission problem on \"/dev/urandom\" (rw-rw----, root:root) and not a PHP bug!\n. Probably. I'd suggest you write a small test that does just that step in isolation without any external libraries (like PHPMailer) so you can be sure that it's not any other code causing it.\n. Probably. I'd suggest you write a small test that does just that step in isolation without any external libraries (like PHPMailer) so you can be sure that it's not any other code causing it.\n. Looks nice - any chance you could write some tests to go with it? If you're looking into S/MIME in general, can you do anything towards #72 and #127?\n. Looks nice - any chance you could write some tests to go with it? If you're looking into S/MIME in general, can you do anything towards #72 and #127?\n. I know signing isn't the same as encryption, but it will have much in common. I suspect the DKIM clash will be down to overlapping headers. Unfortunately we can't change existing function names as that breaks backward compatibility, but we can add new ones (PSR-2-style please!).\n\nTo write tests, add them to the phpmailerTest.php script in the test folder. You can run them locally with phpunit (set up a fake mail server as described in docs), or you can push to your own fork on github and travis-ci will run the test suite aginst your code, though that's quite a bit slower than running it locally.\n. I know signing isn't the same as encryption, but it will have much in common. I suspect the DKIM clash will be down to overlapping headers. Unfortunately we can't change existing function names as that breaks backward compatibility, but we can add new ones (PSR-2-style please!).\nTo write tests, add them to the phpmailerTest.php script in the test folder. You can run them locally with phpunit (set up a fake mail server as described in docs), or you can push to your own fork on github and travis-ci will run the test suite aginst your code, though that's quite a bit slower than running it locally.\n. This was fixed in #376\n. This was fixed in #376\n. This just looks like your include paths are not right. It's expecting to find the PHP Mailer library in /homepages/37/d506592827/PHPMailer-master/class.phpmailer.php, and I'd guess it's not there. Check your paths, and I'd recommend that you use the autoloader as the examples and readme do.\nThat bug report is nothing to do with the problem you're having - PHPMailer does not touch sessions.\n. This just looks like your include paths are not right. It's expecting to find the PHP Mailer library in /homepages/37/d506592827/PHPMailer-master/class.phpmailer.php, and I'd guess it's not there. Check your paths, and I'd recommend that you use the autoloader as the examples and readme do.\nThat bug report is nothing to do with the problem you're having - PHPMailer does not touch sessions.\n. I committed a change to do pretty much what you've done, but also cleaned up the way that function worked in general and make it a bit more readable. It look ok to you?\n. I committed a change to do pretty much what you've done, but also cleaned up the way that function worked in general and make it a bit more readable. It look ok to you?\n. It's linked just above: https://github.com/Synchro/PHPMailer/commit/6767b0f21bd24d9ca7e0efcde640705772dedcbf\nIt's in my personal fork at the moment.\n. It's linked just above: https://github.com/Synchro/PHPMailer/commit/6767b0f21bd24d9ca7e0efcde640705772dedcbf\nIt's in my personal fork at the moment.\n. This seems to happen randomly on some configurations of PHP that we can't reproduce reliably - if there is a bug, it's in PHP, not PHPMailer. This is a duplicate of bug #41, so I suggest you take a look at some of the workarounds suggested there - the easiest is to subclass and force the validateAddress function to use the older implementation which is not as accurate, but is immune to this problem.\n. This seems to happen randomly on some configurations of PHP that we can't reproduce reliably - if there is a bug, it's in PHP, not PHPMailer. This is a duplicate of bug #41, so I suggest you take a look at some of the workarounds suggested there - the easiest is to subclass and force the validateAddress function to use the older implementation which is not as accurate, but is immune to this problem.\n. Yes, see addStringAttachment and addStringEmbeddedImage\n. Yes, see addStringAttachment and addStringEmbeddedImage\n. There's no point in trying to cover everything in a readme - it's not what it's for and it just adds more stuff to maintain when there is much more complete documentation and example code elsewhere.\n. There's no point in trying to cover everything in a readme - it's not what it's for and it just adds more stuff to maintain when there is much more complete documentation and example code elsewhere.\n. I'd suggest you set $test->SMTPdebug = 2 and check for any errors in the transcript (maybe set $test->Debugoutput = 'error_log' too).\nThere only needs to be a single boundary defined - it separates the multipart/mixed parts and it will be used 3 times in the body of a typical text + HTML structure:\nNo-MIME body\n--boundary\nplain-text part\n--boundary\nHTML part\n--boundary\nOne small thing - don't use SSL on port 465, use TLS on 587:\nphp\n$test->Port     = 587;\n$test->Host     = 'tls://smtp.googlemail.com';\n. A coherent bug report would help. I have no idea what you're saying! Sample code to reproduce? Environment?\n. Please read the readme.\n. Time waster\n. The STOP_CRITICAL thing is only an error code (it's a class constant), it doesn't have any implications for normal exception handling. You can just catch the exception as normal and carry on or abandon as appropriate. I didn't write that bit of the exception system - it should really be done using different exception types, with the code field used to hold a language-independent code, but I can't change it without breaking BC so we have to live with it.\n. No worries about the report. Were you using TLS encryption? Port 587 will reject logins without it. Check the gmail example to be sure you are doing it right.\n. That's not very helpful of them! SSL on 465 has been deprecated since 1998, essentially only Microsoft persists in using it. If you have another server with an IP gmail likes, you could set up a proxy on it with something like nginx or haproxy.\n. Yup, PHPList will do that for you. If you want to roll your own, you could push your queue into something like beanstalkd, have some processes generating messages and others sending them, or use simple files on disk for the same purpose.\n. \"Alternate line endings\" would be anything that's not \\r\\n, since that's the only line ending supported in SMTP, and is the line ending stipulated in RFC2045 section 6.7 which defines quoted-printable encoding, and it's been that way since 1996. Line endings get abused a lot in email - I don't think PHPMailer should allow changing LE at all but stick to the RFCs.\n. While HTML5 is certainly appropriate for the web, that's very much not the case for email. There are some extremely common clients (e.g. Outlook) which do not support it. Gmail actually forces all email to XHTML. HTML4 or XHTML remains a better choice for email.\n. Thanks\n. This does sound like a good idea. We don't have that many strings to translate, but we do now have 36 languages!\n. Thanks\n. The attachment is all that the iCal/ICS format defines. In google calendar invitations their MIME structure is exactly the same in PHPMailer, but the HTML message body contains links back to google calendar that fulfil the yes/no/maybe functions. PHPMailer doesn't know anything about the system the calendar relates to, so it's up to you to provide that functionality. If individual email clients have support for ics attachment types (I've not seen mail do this, but then I've only every received invitations from gcal) then it could possibly do something with it.\nI've found some references (on stack overflow) to exactly what things like Outlook are looking for and I've been trying them out in a local version but I've not managed to make anything special happen. I also found an ICS validator that highlighted a few problems with the bundled ICS generator class.\nI've realised that there isn't a code example for using calendar events, but there is a test case that's easily adapted.\n. That's some great research, thanks for the effort! I've had emails with the author of EasyPeasyICS and he's happy for me to take it over, so we're free to do whatever we want with it.\nPHPMailer should be defaulting to CRLF line breaks; I don't think it should allow you to switch since none of the RFCs allow it. Attaching both formats seems sensible.\nIn my experiments I needed to alter various things in PHPMailer, in particular I needed to be able to provide a content-disposition header for the ICS part (from what I read, some clients require it to be marked as 'inline') and that required extending the getBoundary method.\nI'll push my changes to my own fork later, see what you think. It would be good if you could wrap up your changes in a pull request.\n. If you read the rest of this thread, you'll see the problem is that the ICS file needs to be added both as an attachment and as a member of a multipart/alternative MIME structure to satisfy both gmail and outlook. The problem in PHPMailer is that we're heading for an exponential explosion in the number of possible combinations of MIME structures, and because PHPMailer only has preset options, it's getting out of hand.\nI did start having a look at this, but it's just really difficult to handle it in a sane way with the current MIME structure, and a complete overhaul of that is beyond the scope of this ticket. Something you could do is build the message with Zend or Pear MIME classes and then just use PHPMailer to send it.\n. PHPMailer expects a string containing the ICS data, so set it like this when using EasyPeasyICS:\nphp\n$mail->Ical = $invite->render();\n. If you read back through this thread, you'll see that gmail is broken, and that fixing this in PHPMailer is not in the least bit simple, so it's not going to be fixed soon.\n. If you read back through this thread, you'll see that gmail is broken, and that fixing this in PHPMailer is not in the least bit simple, so it's not going to be fixed soon.\n. If you don't want to give them a choice, why even ask? Just add them to the event without asking.\n. I've no idea - you'd need to talk to the calendar server directly, not via email.\n. You can specify a MIME type when you add an attachment:\n$mail->addAttachment('path/to/calendar.ics', 'calendar.ics', 'base64', 'text/calendar');\n\nIf you don't provide a MIME type manually like this, PHPMailer has a built-in list of MIME types that it associates with file extensions automatically, however ics was missing from the list. I've now added it in the 6.0 branch.\nNote that when you use PHPMailer's built-in embedded iCal support (via the Ical property mentioned in this thread), it did already set the MIME type correctly.. Thanks for the clear description. This is down to PHPMailer's preset MIME structures - as soon as you add attachments, the message is built using the alt_attach structure, which doesn't have Ical support. I've just pushed a change to the 6.0 branch that does support for that, so you can at least attempt this workaround - please report your results!. If you do just one or the other, do the buttons you're expecting appear in either? Do you have an example message that does work correctly that we could compare it with?. I've pushed some experimental changes in 6.0-ical - the main difference is the addition of a Content-Class header as suggested by articles here and here. Please can you give that a try?. Does anyone have known-working examples for all the places that we want this to work that they could share? I'm working pretty much blind here.. I happened to get sent an invitation from Apple's iCal service on iCloud. The email structure looks like this:\n```\nContent-Type: multipart/mixed; \n    boundary=\"----=_Part_889321_1826442293.1503391415807\"\n------=_Part_889321_1826442293.1503391415807\nContent-Type: multipart/alternative; \n    boundary=\"----=_Part_889322_1826442187.1503391415807\"\n------=_Part_889322_1826442187.1503391415807\nContent-Type: text/plain; charset=UTF-8\nContent-Transfer-Encoding: QUOTED-PRINTABLE\nContent-Disposition: inline\ntext part\n------=_Part_889322_1826442187.1503391415807\nContent-Type: text/html; charset=UTF-8\nContent-Transfer-Encoding: QUOTED-PRINTABLE\nContent-Disposition: inline\nHTML part\n------=_Part_889322_1826442187.1503391415807--\n------=_Part_889321_1826442293.1503391415807\nContent-Type: text/calendar; method=REQUEST\nContent-Transfer-Encoding: Base64\nContent-Disposition: attachment; filename=iCal-20170822-014335.ics\nical part\n------=_Part_889321_1826442293.1503391415807--\n```\nThis message does nothing special in Mail on either macOS or iOS. There are buttons displayed, but they are just HTML from the HTML part, and the iCal part is shown as an attachment. Note that the text/calendar part is not part of the multipart/alternative structure - it's a simple attachment within the root multipart/mixed element. That said, while it did nothing within Mail, the Calendar app on macOS displayed a notification several minutes later containing close and accept buttons, though I have no way of telling if this was triggered by the email or one of my calendar subscriptions. What I really need is details of the MIME structure & headers that causes Outlook to do its thing.. @gunkire The PHPMailer code is already doing the same as what's in that example.. @gunkire The PHPMailer code is already doing the same as what's in that example.. There's a second, related issue where parts declared as using an 8-bit charset (such as UTF-8 or ISO-8859-1), but that do not actually make use of any non-ASCII characters are flagged as declaring an excessive charset (i.e. it means that a client fires up expecting more complex UTF-8 semantics when it's not actually necessary).\nI've got a local version of this working nicely for both of these issues. It only applies to Body and AltBody properties at present - in theory it should also be applied to enclosing multiparts as the same rules apply to them (i.e. if both Body and AltBody are 7-bit clean, then the enclosing multipart should also be declared as 7bit), but the dismal way that createBody() works makes doing that reliably pretty hopeless.\nMy only reservation with the mechanism I've written is that it assumes that anything that's 7-bit-clean is also us-ascii-compatible. I don't know if that is strictly true, but it is certainly true of UTF-8, all the ISO 8859 charsets, Windows codepages, and many more, so I don't think that assumption is likely to cause major issues.\nOne advantage of this mechanism is that it reduces message size slightly because content-transfer-encoding headers only need to be specified if the encoding is not 7bit.\n. There's a second, related issue where parts declared as using an 8-bit charset (such as UTF-8 or ISO-8859-1), but that do not actually make use of any non-ASCII characters are flagged as declaring an excessive charset (i.e. it means that a client fires up expecting more complex UTF-8 semantics when it's not actually necessary).\nI've got a local version of this working nicely for both of these issues. It only applies to Body and AltBody properties at present - in theory it should also be applied to enclosing multiparts as the same rules apply to them (i.e. if both Body and AltBody are 7-bit clean, then the enclosing multipart should also be declared as 7bit), but the dismal way that createBody() works makes doing that reliably pretty hopeless.\nMy only reservation with the mechanism I've written is that it assumes that anything that's 7-bit-clean is also us-ascii-compatible. I don't know if that is strictly true, but it is certainly true of UTF-8, all the ISO 8859 charsets, Windows codepages, and many more, so I don't think that assumption is likely to cause major issues.\nOne advantage of this mechanism is that it reduces message size slightly because content-transfer-encoding headers only need to be specified if the encoding is not 7bit.\n. I don't know the php login project. Link?\nI've just pushed some changes that will fix many of those.\nThe PHPUnit ones are a local path problem.\n. Closing for now. Please open another ticket if you have more of these.\n. Closing for now. Please open another ticket if you have more of these.\n. It's not mentioned because most people don't have the problem, but it is covered in great depth in the documentation that the readme links to.\n. It's not mentioned because most people don't have the problem, but it is covered in great depth in the documentation that the readme links to.\n. When it says \"name or service not known\", it means your DNS config is broken, like the troubleshooting guide says.. No. DNS has nothing to to with SSL.. Check your DNS and PHP config, search for solutions and fix it like everyone else does. This is not a PHPMailer problem.. It's true there are several missing getters, but surely you have the addresses in hand already? Otherwise please do make a PR for them.\n. Enable debug output so you can watch the SMTP conversation and see what is taking the time. Make sure you set $mail->SMTPKeepAlive = true;.\n. It would help if you did as I suggested - watch the SMTP conversation using the debug output and you will be able to see what is taking the time. At 7 sec per message, it should be pretty obvious. Failing that, use xdebug and profile your sending script to get exact timings.\n. Thanks\n. This is not a problem with validation. AddAddress is only intended to add a single address at once, so call it once for each address you want to add. The resulting email will be exactly the same as what you're achieving, but with much better error control - for example your code will reject all addresses if just one of them is wrong, and it also fails to account for some other things that are done with the all_recipients array.\n@PeterDaveHello You don't need to do that undisclosed recipients thing (and that string is meaningless anyway - it's just an empty group address). PHPMailer will do that for you automatically if you only specify BCC recipients.\n. Yes, and that is exactly how PHPMailer encodes multiple addresses.\nThat part of the changelog is wrong - look at the code.\n. There are several parts of the RFCs that are not supported in the PHPMailer validator, in particular it doesn't support names or comments. Some machines have issues with running the current regex as it is (see ticket history), and allowing it to repeat is just adding more unnecessary complexity when there is a perfectly reasonable alternative. Comments can't be supported without recursion (not available in PHP before 5.3), and they are so rarely used that it's just not worth doing. I'd also note that none of these options are supported in the standard PHP filter_var validator or the HTML5 email address spec (which I wrote).\nThere really shouldn't be example code in the changelog; I'll remove it.\n. It's documented in the class, but it's not an especially pretty implementation!\nShort version: $mail->XMailer    = ' '; will do it.\n. Example code:\nphp\n<?php\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->CharSet = 'UTF-8';\n$mail->From = 'john@doe.com';\n$mail->addAddress('jane@doe.com', 'Jane Doe');\n$mail->Body = 'Some body';\n$mail->isHTML(false);\n$mail->isSMTP();\n$mail->Port = 2500;\n$mail->Host = 'localhost';\n$mail->Subject = \"test\";\n$mail->XMailer = ' ';\n$mail->send();\nProduces this message:\n```\nDate: Sun, 16 Feb 2014 00:03:06 +0100\nReturn-Path: john@doe.com\nTo: Jane Doe jane@doe.com\nFrom: Root User john@doe.com\nSubject: test\nMessage-ID: 97457bc1416d63516d5a4345379e407f@oc\nX-Priority: 3\nMIME-Version: 1.0\nContent-Type: text/plain; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nSome body\n```\nNote no X-Mailer header.\nIf I change the XMailer line to:\nphp\n$mail->XMailer = '';\nI get this in the output:\n```\nDate: Sun, 16 Feb 2014 00:06:02 +0100\nReturn-Path: john@doe.com\nTo: Jane Doe jane@doe.com\nFrom: Root User john@doe.com\nSubject: test\nMessage-ID: 09b359432de3875f7a3db917c65aff17@oc\nX-Priority: 3\nX-Mailer: PHPMailer 5.2.7 (https://github.com/PHPMailer/PHPMailer/)\nMIME-Version: 1.0\nContent-Type: text/plain; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nSome body\n```\nSo it's all working as documented. I suggest you set a breakpoint where the X-Mailer header is created and see what it's doing.\n. @gaecom what? XMailer is never left empty, though it may be removed altogether, as all X-prefixed headers can.\n. Good catch, thanks.\n. Try looking at the example code for sending through gmail.\n. The /e modifier was removed over 2 years ago in version 5.2.2. Please use a recent version.\n. There's no way of reorganising that unfortunately. The tags were applied retropectively, and Github orders them by date of tagging rather than the date of the commit they tag. The version numbers however, are correct.\n. Are you using a recent version (5.2.7+)? Are you checking return status? Have you tried turning on debugging and looked at the SMTP transcript? Code to reproduce?\n. Are you using a recent version (5.2.7+)? Are you checking return status? Have you tried turning on debugging and looked at the SMTP transcript? Code to reproduce?\n. Code? I expect you should use the same setup as for gmail since ports and protocols are the same - give that code a try, just swap out the hostname.\n. Code? I expect you should use the same setup as for gmail since ports and protocols are the same - give that code a try, just swap out the hostname.\n. Don't do $mail->SMTPSecure = \"starttls\";, do $mail->SMTPSecure = \"tls\";, port should be an int. Really, use the gmail example code as it's got all that set up correctly already. It looks like you're using some old version.\nMS docs are here\n. Don't do $mail->SMTPSecure = \"starttls\";, do $mail->SMTPSecure = \"tls\";, port should be an int. Really, use the gmail example code as it's got all that set up correctly already. It looks like you're using some old version.\nMS docs are here\n. Using 'starttls' looks like it's getting further because it's not a valid encryption option so it's falling back to unencrypted authentication, which is not permitted on port 587, so it's then failing.\nCan you check the response given by the startTLS method? Just make it echo something obvious or set a breakpoint on it. The 220 response is correct, and the only other thing in there is the call to enable stream encryption, and if that fails it will terminate the connection. What PHP version are you running?\n. Using 'starttls' looks like it's getting further because it's not a valid encryption option so it's falling back to unencrypted authentication, which is not permitted on port 587, so it's then failing.\nCan you check the response given by the startTLS method? Just make it echo something obvious or set a breakpoint on it. The 220 response is correct, and the only other thing in there is the call to enable stream encryption, and if that fails it will terminate the connection. What PHP version are you running?\n. Can you get a transcript out of the phpclasses code so we can see what's different?\n. Can you get a transcript out of the phpclasses code so we can see what's different?\n. No I mean a transcript of the SMTP conversation it has, like you posted for the PHPMailer debug output (just set your instance's debug property to true).\n. No I mean a transcript of the SMTP conversation it has, like you posted for the PHPMailer debug output (just set your instance's debug property to true).\n. That's a bit odd. PHPMailer doesn't need SASL as it has built-in support for the LOGIN auth method.\nCan you try replacing the startTLS function with this:\nphp\n    public function startTLS()\n    {\n        if (!$this->sendCommand('STARTTLS', 'STARTTLS', 220)) {\necho 'STARTTLS failed'; exit;\n            return false;\n        }\n        // Begin encrypted connection\n        if (!stream_socket_enable_crypto(\n            $this->smtp_conn,\n            true,\n            STREAM_CRYPTO_METHOD_TLS_CLIENT\n        )) {\necho 'enable crypto failed'; exit;\n            return false;\n        }\necho 'STARTTLS OK'; exit;\n        return true;\n    }\nso we can find out what it's unhappy about.\n. That's a bit odd. PHPMailer doesn't need SASL as it has built-in support for the LOGIN auth method.\nCan you try replacing the startTLS function with this:\nphp\n    public function startTLS()\n    {\n        if (!$this->sendCommand('STARTTLS', 'STARTTLS', 220)) {\necho 'STARTTLS failed'; exit;\n            return false;\n        }\n        // Begin encrypted connection\n        if (!stream_socket_enable_crypto(\n            $this->smtp_conn,\n            true,\n            STREAM_CRYPTO_METHOD_TLS_CLIENT\n        )) {\necho 'enable crypto failed'; exit;\n            return false;\n        }\necho 'STARTTLS OK'; exit;\n        return true;\n    }\nso we can find out what it's unhappy about.\n. It won't work because those lines I added will make it exit immediately - the exercise was to find out where it's getting to, fixing it comes later. Anyway, we now know that STARTTLS is successful, so the problem is occurring later.\nRemove those three 'echo' lines. In in the smtpConnect function in the PHPMailer class, I suspect it's throwing an exception that is not shown in debug output. So we can see that, find this section near the end of that function:\nphp\n                } catch (phpmailerException $e) {\n                    $lastexception = $e;\n                    //We must have connected, but then failed TLS or Auth, so close connection nicely\n                    $this->smtp->quit();\n                }\nand change it to:\nphp\n                } catch (phpmailerException $e) {\nvar_dump($e);\n                    $lastexception = $e;\n                    //We must have connected, but then failed TLS or Auth, so close connection nicely\n                    $this->smtp->quit();\n                }\nThe var_dump output will tell us why it's killing the connection.\n. It won't work because those lines I added will make it exit immediately - the exercise was to find out where it's getting to, fixing it comes later. Anyway, we now know that STARTTLS is successful, so the problem is occurring later.\nRemove those three 'echo' lines. In in the smtpConnect function in the PHPMailer class, I suspect it's throwing an exception that is not shown in debug output. So we can see that, find this section near the end of that function:\nphp\n                } catch (phpmailerException $e) {\n                    $lastexception = $e;\n                    //We must have connected, but then failed TLS or Auth, so close connection nicely\n                    $this->smtp->quit();\n                }\nand change it to:\nphp\n                } catch (phpmailerException $e) {\nvar_dump($e);\n                    $lastexception = $e;\n                    //We must have connected, but then failed TLS or Auth, so close connection nicely\n                    $this->smtp->quit();\n                }\nThe var_dump output will tell us why it's killing the connection.\n. Now that's weird - so it's now working with the original, unchanged code! The var_dump isn't ever being run because it's succeeding in connecting, so you can delete it now.\nI'm glad it's working, but I'd be happier if I knew why it wasn't before!\n. Now that's weird - so it's now working with the original, unchanged code! The var_dump isn't ever being run because it's succeeding in connecting, so you can delete it now.\nI'm glad it's working, but I'd be happier if I knew why it wasn't before!\n. Good to know, thanks! Microsoft making a mess of something, who'd have guessed?!\n. Good to know, thanks! Microsoft making a mess of something, who'd have guessed?!\n. That just sounds like you have a typo in a hostname somewhere in your config.\n. That just sounds like you have a typo in a hostname somewhere in your config.\n. SMTP transcript?\n. SMTP transcript?\n. That explains it; guess that's a PHPList bug or misconfig.\n. That explains it; guess that's a PHPList bug or misconfig.\n. That example is old - this is the updated version of the same script.\n. That example is old - this is the updated version of the same script.\n. Yes, you've got the wrong username or password. Please don't hijack old, closed tickets. Also, your password was easily decoded from that transcript, so you should change your password.. I just noticed that this specifies a GPL license - PHPMailer uses LGPL so this is not compatible with it. While it's fine to credit yourself with copyright and authorship, the copyright notice conflicts with the license terms: you need to remove 'all rights reserved' (see this discussion).\nIf you are ok with that, could you please add a commit changing to LGPL, or just remove the license reference since it's already covered by the project's own LICENSE file.\n. I just noticed that this specifies a GPL license - PHPMailer uses LGPL so this is not compatible with it. While it's fine to credit yourself with copyright and authorship, the copyright notice conflicts with the license terms: you need to remove 'all rights reserved' (see this discussion).\nIf you are ok with that, could you please add a commit changing to LGPL, or just remove the license reference since it's already covered by the project's own LICENSE file.\n. Because you have the same address in replyto as from, so it ignores the replyto. If you just leave out that line it will work like you ask.\n. Because you have the same address in replyto as from, so it ignores the replyto. If you just leave out that line it will work like you ask.\n. Also please look at the gmail example code. SSL on port 465 has been deprecated for 15 years! Use TLS on 587. PHPMailer does not put the username anywhere in headers, so it looks like it's gmail doing that change.\n. Also please look at the gmail example code. SSL on port 465 has been deprecated for 15 years! Use TLS on 587. PHPMailer does not put the username anywhere in headers, so it looks like it's gmail doing that change.\n. I just tested this - PHPMailer sets it correctly (it's clear in the SMTP transcript), but gmail ignores the from address, so it's not allowing you to spoof that. This is gmail policy but you can set up aliases in settings for specific addresses.\n. I just tested this - PHPMailer sets it correctly (it's clear in the SMTP transcript), but gmail ignores the from address, so it's not allowing you to spoof that. This is gmail policy but you can set up aliases in settings for specific addresses.\n. Thanks for the report. I don't this is failing because the two parts are the same (though having them the same achieves nothing). I'm not sure exactly what it's contravening - there is nothing in RFC2822 that says display-name must be different from addr-spec. I think the problem is that the display-name contains a ., because phrase does not include the period character - see sections 4.1 and 4.2. The solution to this is not removing the duplicate (though that might be worth doing anyway), but by quoting the name if it contains a . - \"foo@example.org\" <foo@example.org> is definitely valid (try it here).\n. Thanks for the report. I don't this is failing because the two parts are the same (though having them the same achieves nothing). I'm not sure exactly what it's contravening - there is nothing in RFC2822 that says display-name must be different from addr-spec. I think the problem is that the display-name contains a ., because phrase does not include the period character - see sections 4.1 and 4.2. The solution to this is not removing the duplicate (though that might be worth doing anyway), but by quoting the name if it contains a . - \"foo@example.org\" <foo@example.org> is definitely valid (try it here).\n. I've been testing around this - for me if I use $mail->addAddress('foo@example.com', 'bar@example.com');, it does quote the display name and results in a delivered message header of:\nTo: \"bar@example.com\" <foo@example.com>, which is correct. It's done by the 'phrase' mode of encodeHeader, so this appears to already be doing the right thing - are you using a recent version?\nIf you're doing $mail->addAddress('foo@example.com <bar@example.com>');, don't do that, it won't work.\n. I've been testing around this - for me if I use $mail->addAddress('foo@example.com', 'bar@example.com');, it does quote the display name and results in a delivered message header of:\nTo: \"bar@example.com\" <foo@example.com>, which is correct. It's done by the 'phrase' mode of encodeHeader, so this appears to already be doing the right thing - are you using a recent version?\nIf you're doing $mail->addAddress('foo@example.com <bar@example.com>');, don't do that, it won't work.\n. Code please.\n. Code please.\n. Ah, ok, yes, HTML collapses and ignores whitespace.\n. Ah, ok, yes, HTML collapses and ignores whitespace.\n. The second of those approaches looks better, but if you're not receiving it, I'd expect to see errors in your mail server logs explaining why. You may find that you get better debugging information if you send via SMTP to localhost instead of via sendmail directly.\nI don't see why you're adding the custom header - that adds a header to the whole message, not to any particular sub-part, so it's not doing anything, and might possibly be conflicting with something.\n. The second of those approaches looks better, but if you're not receiving it, I'd expect to see errors in your mail server logs explaining why. You may find that you get better debugging information if you send via SMTP to localhost instead of via sendmail directly.\nI don't see why you're adding the custom header - that adds a header to the whole message, not to any particular sub-part, so it's not doing anything, and might possibly be conflicting with something.\n. I'm wondering why you are doing this at all. The usual use case for cids is to allow HTML emails to refer to inline images, i.e. in a src attribute rather than href. What exactly do you expect to happen when the user clicks on one of these links? I would expect this to be highly dependent on the particular client. I found an old thread with someone trying to do the same and failing. The RFCs allow doing this, but I think this is a client problem, not a PHPMailer one.\nI know that Apple Mail will allow you to click on a .eml attachment and will open it as a new message, but I don't think it supports targeting it with a cid link. I've also found posts saying that gmail doesn't suport it either.\nTo get github to support inline code and do syntax highlighting, wrap it in code fences. You can see I've edited your earlier messages to do this.\n. I'm wondering why you are doing this at all. The usual use case for cids is to allow HTML emails to refer to inline images, i.e. in a src attribute rather than href. What exactly do you expect to happen when the user clicks on one of these links? I would expect this to be highly dependent on the particular client. I found an old thread with someone trying to do the same and failing. The RFCs allow doing this, but I think this is a client problem, not a PHPMailer one.\nI know that Apple Mail will allow you to click on a .eml attachment and will open it as a new message, but I don't think it supports targeting it with a cid link. I've also found posts saying that gmail doesn't suport it either.\nTo get github to support inline code and do syntax highlighting, wrap it in code fences. You can see I've edited your earlier messages to do this.\n. Sure, but what you're asking for is entirely down to the client. It seems that it's common to support images, but nothing else, so I think you are stuck. That it's working for images shows that the format and mechanism is correct as far as MIME and PHPMailer is concerned, it's just that your client doesn't support anything else.\n. Sure, but what you're asking for is entirely down to the client. It seems that it's common to support images, but nothing else, so I think you are stuck. That it's working for images shows that the format and mechanism is correct as far as MIME and PHPMailer is concerned, it's just that your client doesn't support anything else.\n. It's highly unlikely to work correctly (or at least via the intended implementation) in webmail because browsers generally do not support multipart MIME structures at all. Anything that you see that looks like it's working will be mapping it to some other mechanism.\n. It's highly unlikely to work correctly (or at least via the intended implementation) in webmail because browsers generally do not support multipart MIME structures at all. Anything that you see that looks like it's working will be mapping it to some other mechanism.\n. Why can't you use what was suggested in #100 and set those stream options?\n. Why can't you use what was suggested in #100 and set those stream options?\n. You don't need to modify PHPMailer, just subclass it and override like you would any library. If it's still connecting when those stream options are set, then that's a PHP bug.\n. You don't need to modify PHPMailer, just subclass it and override like you would any library. If it's still connecting when those stream options are set, then that's a PHP bug.\n. Well that will work but it's the 'wrong' way! You can do this by subclassing SMTP at the moment (see the help wiki), but the right solution is not to use a broken SSL cert! FWIW I think @AdamWill's solution is preferable to this one.\n. The stream options can now be set via the SMTPOptions property introduced recently, and will be in the 5.2.10 release.\n. The stream options can now be set via the SMTPOptions property introduced recently, and will be in the 5.2.10 release.\n. My main concern with this PR is that it's likely to cause a lot of breakage, even though it's for a good reason.\nSince this is a PHP-wide issue, I had a little search for it and found this RFC. That looks great, and the capath issue will be fixed in an OS-independent way, but we need a transparent solution for PHP < 5.6. What happens if you leave it blank?\n. My main concern with this PR is that it's likely to cause a lot of breakage, even though it's for a good reason.\nSince this is a PHP-wide issue, I had a little search for it and found this RFC. That looks great, and the capath issue will be fixed in an OS-independent way, but we need a transparent solution for PHP < 5.6. What happens if you leave it blank?\n. That's the RFC I linked to. The problem is that we don't have a way of populating capath with a reliable default value until PHP 5.6, which means that we are almost guaranteeing that it will break on earlier versions. For example, it would break for me because I'm on OS X and there is no capath because CA certs are kept in the keychain, not on disk (though it is possile to export them as PEM files).\nPerhaps we could do a version-dependent switch, so that if it can find a capath dynamically (or you set it explicitly), we set it to secure mode, but leave it insecure otherwise.\n. That's the RFC I linked to. The problem is that we don't have a way of populating capath with a reliable default value until PHP 5.6, which means that we are almost guaranteeing that it will break on earlier versions. For example, it would break for me because I'm on OS X and there is no capath because CA certs are kept in the keychain, not on disk (though it is possile to export them as PEM files).\nPerhaps we could do a version-dependent switch, so that if it can find a capath dynamically (or you set it explicitly), we set it to secure mode, but leave it insecure otherwise.\n. The problem is not with enabling SSL verification, it's that we're doing it in a way that is guaranteed to break on many systems (mine, for example). We can't just blindly require SSL verification because PHP (prior to 5.6) does not provide a mechanism for getting the CA path reliably, and even then it may not work. I'm fully aware this is a problem, but the bug is effectively a PHP one, and like the python problem, this needs fixing in the host language, not every application.\nSSLallowInsecure does not represent backward compatibility in any reasonable sense because it requires every existing user to change their code, not just some small subset. This is exactly the problem the python article raised.\nThis slashdot is entertaining reading too - my ISP (with >20% of the French market) has had a mismatched cert on their email service for the last 4 years :)\nI have no objection enabling verification by default if we can find a  CA path automatically, either by waiting for PHP 5.6, or by writing our own detector.\n. The problem is not with enabling SSL verification, it's that we're doing it in a way that is guaranteed to break on many systems (mine, for example). We can't just blindly require SSL verification because PHP (prior to 5.6) does not provide a mechanism for getting the CA path reliably, and even then it may not work. I'm fully aware this is a problem, but the bug is effectively a PHP one, and like the python problem, this needs fixing in the host language, not every application.\nSSLallowInsecure does not represent backward compatibility in any reasonable sense because it requires every existing user to change their code, not just some small subset. This is exactly the problem the python article raised.\nThis slashdot is entertaining reading too - my ISP (with >20% of the French market) has had a mismatched cert on their email service for the last 4 years :)\nI have no objection enabling verification by default if we can find a  CA path automatically, either by waiting for PHP 5.6, or by writing our own detector.\n. That sounds reasonable, but it doesn't address the primary problem that we don't have a way of finding capath. Enabling verification will break many things anyway, and is probably bearable in the name of progress, but the issue is that if we enable it without capath it breaks everything, even if it has a cert that verifies.\n. That sounds reasonable, but it doesn't address the primary problem that we don't have a way of finding capath. Enabling verification will break many things anyway, and is probably bearable in the name of progress, but the issue is that if we enable it without capath it breaks everything, even if it has a cert that verifies.\n. OK, but that's not what this patch does (yet).\nA side issue is that there is an alternative syntax for setting SMTPSecure: when you specify the host you can do so like tls://smtp.gmail.com, which sets Host as well as SMTPSecure and I know of several apps that use that, so this needs to be taken into account.\n. OK, but that's not what this patch does (yet).\nA side issue is that there is an alternative syntax for setting SMTPSecure: when you specify the host you can do so like tls://smtp.gmail.com, which sets Host as well as SMTPSecure and I know of several apps that use that, so this needs to be taken into account.\n. I got a good response to a question I posted on StackOverflow about this. It looks like we should run openssl version -d to find the SSL base path, and the certs folder in there will be the right place. The root path on Ubuntu is /usr/lib/ssl and the certs folder is in there, however it is symlinked to /etc/ssl/certs. On OS X it's /System/Library/OpenSSL; the certs folder is in there but empty. I'd be interested in hearing what results you see on other platforms.\n. This really illustrates the problem I described. If we enable verification by default, but the verification mechanism can't work, it's guaranteed to break even if the site you're connecting to offers a completely valid cert.\n. Closing this in favour of #339. The specific name of this PR is now handled by the provision of the SMTPOptions property.\n. 5.1 is from 2009, nowhere near latest.\n. 5.1 is from 2009, nowhere near latest.\n. I don't know what you mean. The Travis-CI build uses it and it's working fine?\n. I don't know what you mean. The Travis-CI build uses it and it's working fine?\n. Before doing that you should check why it's timing out. All the timeouts are pretty standard, and if your server is not responding in a reasonable amount of time (any normal, unsaturated mail server should be able to accept a delivery via SMTP in much less than a second), find out why - perhaps turn SMTPdebug on. The timeout values are public, so you can set them yourself, look at the docs.\n. Before doing that you should check why it's timing out. All the timeouts are pretty standard, and if your server is not responding in a reasonable amount of time (any normal, unsaturated mail server should be able to accept a delivery via SMTP in much less than a second), find out why - perhaps turn SMTPdebug on. The timeout values are public, so you can set them yourself, look at the docs.\n. What happens if you telnet yourservername.com 25 (or whatever port you are using) from a command line?\n. What happens if you telnet yourservername.com 25 (or whatever port you are using) from a command line?\n. Port 554 is normally used for RTSP media streaming, and is very often open. In the sequence you posted, you' re not getting any SMTP back from the server, suggesting it's not serving SMTP on that port. An SMTP server would normally say something like this:\nshell\ntelnet mail.example.com 25\nTrying x.x.x.x...\nConnected to mail.example.com.\nEscape character is '^]'.\n220 mail.example.com ESMTP Postfix (Ubuntu)\nIf it doesn't have a line starting with 220, it's not your mail server. I think you're connecting to the wrong thing.\n. Port 554 is normally used for RTSP media streaming, and is very often open. In the sequence you posted, you' re not getting any SMTP back from the server, suggesting it's not serving SMTP on that port. An SMTP server would normally say something like this:\nshell\ntelnet mail.example.com 25\nTrying x.x.x.x...\nConnected to mail.example.com.\nEscape character is '^]'.\n220 mail.example.com ESMTP Postfix (Ubuntu)\nIf it doesn't have a line starting with 220, it's not your mail server. I think you're connecting to the wrong thing.\n. BTW you can set your SMTP HELO value in $mail->Helo.\n. BTW you can set your SMTP HELO value in $mail->Helo.\n. Thanks\n. Thanks!\n. Thanks!\n. Any chance you could finish this?\n. @hackinet true, and yet you\u2019ve done nothing to help close it.. Yes my iPhone has a retina screen, it's still looking no different. The \"build passing\" text looks identical to (and slightly blurred) to the text in the other badges from scrutinizer. I know it should look better!\n. I figured out why I wasn't seeing the change - I was looking in the wrong branch in your repo. Thanks.\n. Please do!\n. Good catch. The problem was that the global Encoding property was being used for everything, including multipart elements. I've added code to spot when that happens and revert to 7bit or 8bit for multipart wrappers. It would have been intermittent as it would only have happened when a message was sent that contained quoted-printable or base64 parts - simple text, HTML or combined text/HTML would not have been affected. Let me know if this set of changes does or doesn't fix this for you.\n. Well, there's a whole stack of improvements and fixes in master that could do with releasing, so I should probably declare a 5.2.8 release soon - many will then get it automatically via composer.\n. That sounds like a hotmail bug since it's correct to use the same CID when referencing the same attached image multiple times. It would be pointless to attach multiple copies of the same image just so you can get different CIDs (and generally you're better off linking to images, not embedding), and you can't have multiple CIDs for the same image. I don't see that there's anything PHPMailer can do about this.\n. Thanks\n. Yes, but PHPMailer doesn't really have much bearing on it. In order to extract the text reliably, you'll need to use a MIME parser (try Zend_MIME), pick out the text, add the indenting/quoting, drop it into whatever you are editing your message in, and submit that as part of the message body you give to PHPMailer when sending your message reply.\n. Thanks\n. I can see that it's missing those parts, but it's the code driving it that must be at fault since PHPMailer doesn't care where its run from. It could possibly be a permissions problem if the cli user is not the same as the web server user. I suggest you stick a breakpoint in your code to check that it's actually getting to where it should, perhaps call preSend() and then getSentMIMEMessage().\n. This doesn't work as you think. That message does not need translating as it's default text in the msgHTML convenience function that is very unlikely to appear if you give it valid HTML to start with, and if you want it set to something else, you can simply specify AltBody yourself. All the existing translations are server-side only, for developers; This one is recipient-facing, and thus may have nothing to do with the developer's language.\n. Good point!\n. Thanks very much!\n. Thanks. I've just made a PR to clean up some issues in that new version. I'll need to remove the namespace declaration in PHPMailer because otherwise it's not PHP < 5.3 compatible, and there's nothing else PHP 5.3 specific in there. I also noticed that this library is GPL, which isn't compatible with the LGPL that PHPMailer uses, so I may have to remove it altogether :poop:\n. GPL projects can include LGPL code, but LGPL projects can't include GPL code. If you include GPL code, it makes your whole project GPL. The same is not true of LGPL, which is why it exists.\n. It's better than the current lib in that it uses DOM rather than regex, which is more reliable and faster on long docs. That license page is a bit of a nightmare though! He does say \"using LGPL is definitely not possible for an overall distribution that contains one of my scripts\", so I guess that's out.\n. I agree it should probably match, but PHP is not case sensitive for class and function names anyway (it is for properties and variables) so it doesn't matter much.\n. That does look tidy - however since it's available in composer, I think it would be preferable to install it that way so we don't make version & maintenance problems for ourselves. The question then is whether we should include a wrapper that refers to it so we don't need to change other APIs.\n. Great solution - given the license issues with the bundled converter, I think we should remove it altogether, and make the 'advanced' option do nothing extra by default. That way nothing will break, we get to fix the license issue and provide a better way of extending the converter.\n. This seems overcomplicated. dev-master always points at the current dev HEAD; Anything with a version number is stable. Why would you expect dev-master to ever point at a stable version? If you're comparing versions, you shouldn't even be thinking about anything with 'dev' in it.\n. This seems overcomplicated. dev-master always points at the current dev HEAD; Anything with a version number is stable. Why would you expect dev-master to ever point at a stable version? If you're comparing versions, you shouldn't even be thinking about anything with 'dev' in it.\n. Please retest with 6.0 and reopen if it's still a problem.. The dump of the object isn't much use for diagnosis. Post your code too. Set $mail->SMTPDebug = 2; and look at the SMTP transcript. Simple connection failures are often down to wrong hostnames, firewalls or DNS failures.\n. Glad you fixed it. While I'm here, you could also update to 5.2.8 as SMTP performance has improved quite a bit.\n. Of course - Body is just a string and you can generate it any way you like - from a file, from user input, from a database, from a web service, or from a combination of all of those. It's often useful to use a templating system such as Smarty or Twig, but you might not need that much complexity.\n. Couple of comments: changing case of properties is a breaking change since they are case sensitive, unlike method names. Don't prefix private functions with _ - that's not allowed in PSR-2.\nMaster branch is fine.\n. Apologies - I see you changed all the instances of that var so case isn't an issue.\nGenerally we don't like private methods - since this is a public lib, people seem to want to be able to override and reuse everything from subclasses, so all should be protected.\n. Officially phpmailer maintains compatibility back to 5.0, so closures/lambdas are indeed out.\nSent from my iPhone\n\nOn 27 May 2014, at 18:44, \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 notifications@github.com wrote:\nI used lambda, which introduced in php 5.3, but PHPMailer compatible with php since 5.1.2 version\nif (version_compare(PHP_VERSION, '5.1.2', '>='))\nIf it isn't permitted i can change lambda by ordinar protected method\n\u2014\nReply to this email directly or view it on GitHub.\n. Thanks\n. I've reverted a few of your changes. We'd only be making BC breaks if we were making major changes where many functions would cease to exist, so having todos for renaming them is a bit pointless.\n. Need more info - show us your code, show SMTPDebug output.\n. That transcript shows PHP Mailer working perfectly, successfully delivering the message to fantaonline.it. This means the problem is not in PHPMailer, but further upstream. I would look in your spam folder, and check the logs on your server.\n. You know there's this amazing thing called google...\nYou could start here: http://www.dkim.org\n\nHotmail blackholing is actually fairly rare and I doubt this is a DKIM issue - you need to get the logs from the server your'e sending through. If you can't get them, send directly to hotmail (set the Host etc property to point directly at hotmail mail server) instead of going via your mail server. That way you will see what hotmail says directly.\n. It's closed because it's not PHPMailer's problem.\n. If it's failing to even try to connect, it's most likely a local DNS or firewall problem. If you do telnet smtp.gmail.com 587, does it connect?\n. This still sounds like an environment problem. Try this:\nphp\n<?php\n$fp = stream_socket_client(\"tcp://smtp.gmail.com:587\", $errno, $errstr, 30);\nif (!$fp) {\n    echo \"$errstr ($errno)<br />\\n\";\n} else {\n    while (!feof($fp)) {\n        echo fgets($fp, 1024);\n    }\n    fclose($fp);\n}\nThat should show the same 202 response you saw from telnet, and is the same mechanism that PHPMailer uses. If it doesn't, it looks like your PHP config or other server config is preventing you from opening connections like that.\n. This still sounds like an environment problem. Try this:\nphp\n<?php\n$fp = stream_socket_client(\"tcp://smtp.gmail.com:587\", $errno, $errstr, 30);\nif (!$fp) {\n    echo \"$errstr ($errno)<br />\\n\";\n} else {\n    while (!feof($fp)) {\n        echo fgets($fp, 1024);\n    }\n    fclose($fp);\n}\nThat should show the same 202 response you saw from telnet, and is the same mechanism that PHPMailer uses. If it doesn't, it looks like your PHP config or other server config is preventing you from opening connections like that.\n. Thanks\n. 5.2.4 is very old, but there should not have been any difference in the API, unless wordpress was relying on something that was broken. Without a detailed error log there's nothing I can do. PHPMailer works back to PHP 5.0, so there should be no dependency on 5.4. You could try updating to the current 5.2.8 release.\n. That looks like a DNS, firewall or other networking problem. Try telnetting to your mail server from where that script runs, like telnet smtp.example.com 25. Also make sure that the hostname is set - try doing a var_dump of the PHPMailer instance. To troubleshoot further, edit one of the example scripts to use your server and check that runs ok.\n. If there's a networking problem I would not expect any script to work.\nWhat's strange about that transcript? Looks ok to me. It's normal for the HELO sequence to be repeated after STARTTLS.\n. 5.2.4 has no client -> server debug output. I added that later.\nYou can get more debug info if you set SMTPDebug = 3. You could also try removing the @ from the stream_socket_client() call and see if that exposes any other errors.\n. One bug in 5.2.7 that was fixed in 5.2.8 was that it allowed a longer timeout before sending anything on initial connection. This is common in mail servers that use a 'greetdelay' feature - after you connect but before it has sent anything it waits; if you send anything before it says it is ready (which contravenes RFCs), it considers that you're a badly-behaved mailer and kicks you out. I'm seeing your mail server doing this if I connect and wait:\ntelnet m10.cominfor.ru 25\nTrying 85.159.210.41...\nConnected to m10.cominfor.ru.\nEscape character is '^]'.\n220 m10.cominfor.ru ESMTP Sendmail 8.14.4/8.14.4/Debian-2ubuntu2.1; Thu, 12 Jun 2014 17:39:54 +0400; (No UCE/UBE) logging access from: 48.236.204.79.rev.sfr.net(OK)-48.236.204.79.rev.sfr.net [79.204.236.48]\nbut if I start sending as soon as I connect, it does this:\ntelnet m10.cominfor.ru 25\nTrying 85.159.210.41...\nConnected to m10.cominfor.ru.\nEscape character is '^]'.\ndfgsd\ndfg\n554 m10.cominfor.ru ESMTP not accepting messages\nThat could be what you are running into.\nAnother possibility is that there is some kind of DNS or network issue - that seems fairly likely given that it's only this server that's a problem. I suggest you either try telnetting like above, or run a PHP script that connects to the mail server directly - I found this one which should do.\n. Your experiments have shown that you're passing in the correct host and port, so the connection failure can only occur in the call to stream_socket_client, which is a PHP built-in and not implemented by PHPMailer, so that pushes the responsibility into the PHP runtime or the server environment. It would be good to compare the output of var_dump(func_get_args()) inside the SMTP::connect function in 5.2.4 and 5.2.7/8 to be absolutely sure it's getting identical params in all versions. It's worth checking that $socket_context contains something sane too.\nSomething else to try: set the $host param to '85.159.210.41' - that will eliminate DNS as the cause.\nIf the params are the same, the only thing you can do is trace the network traffic it generates in wireshark or similar.\nI've extracted the code from the point it's failing for you:\n``` php\n<?php\n$host = 'm10.cominfor.ru';\n$port = 25;\n$timeout = 30;\n$options = array();\n$errno = 0;\n$errstr = '';\n$socket_context = stream_context_create($options);\n$smtp_conn = stream_socket_client(\n    $host . \":\" . $port,\n    $errno,\n    $errstr,\n    $timeout,\n    STREAM_CLIENT_CONNECT,\n    $socket_context\n);\n// Verify we connected properly\nif (!is_resource($smtp_conn)) {\n    $error = array(\n        'error' => 'Failed to connect to server',\n        'errno' => $errno,\n        'errstr' => $errstr\n    );\n    var_dump($error);\n} else {\n    fclose($smtp_conn);\n}\n$dnsok = checkdnsrr($host, 'A');\n$ip = gethostbyname($host);\nvar_dump($errno, $errstr, $dnsok, $ip);\n```\nGive that a try; output should be:\nint(0)\nstring(0) \"\"\nbool(true)\nstring(13) \"85.159.210.41\"\nPHPMailer has no external dependencies. FWIW, I'm running WordPress 3.9.1 with PHPMailer 5.2.7 on Ubuntu 12.04 and it's quite happy.\n. OK, so that confirms that it's not specifically a PHPMailer issue, nor is it DNS, but clearly something is unhappy.\nTry setting the host as $host = 'tcp://m10.cominfor.ru';. I was checking the docs and it doesn't say if there's a default protocol. It does say this though:\n\nOn failure the errno and errstr arguments will be populated with the actual system level error that occurred in the system-level connect() call. If the value returned in errno is 0 and the function returned FALSE, it is an indication that the error occurred before the connect() call. This is most likely due to a problem initializing the socket.\n\nThat's mostly what we're seeing, and it does suggest some lower-level issue. Shame the error messages are not more helpful!\n. Excellent, glad we got to the bottom of that. I've added some code to fall back to fsockopen if stream_socket_client is not enabled. I would have expected a disabled function to act like an undefined one and produce a fatal error - it would have been much easier to diagnose!\n. You can now confiure this to do what you like (including sending email) by (as you suggested) setting Debugoutput to a callable - see #260.\n. You can now confiure this to do what you like (including sending email) by (as you suggested) setting Debugoutput to a callable - see #260.\n. Thanks\n. Sounds like you need to check the mail settings in your php.ini. You're also confusing things a bit - if you're using the mail() function, you're not using 'localhost' because there is no client/server aspect to using mail() since it submits to the local sendmail binary anyway. If you were using PHPMailer's SMTP support it would be different. I suggest you try to modify one of the examples to run on your server as a means of eliminating issues in your code.\n. You need to test using an absolutely minimal mail() command, something like:\nphp\n<?php\nini_set('display_errors', true);\n$to = 'me@example.com';\n$a = mail($to, 'subject', 'body', \"From: $to\");\nvar_dump($a);\nIf that doesn't work you know it's either your php.ini or your server config that's the problem. PHPMailer might be able to help by bypassing the local services and sending with SMTP directly - but you've not posted your code so we can't say why that might not be working.\n. I'd suggest setting $mail->SMTPDebug = 3; to see what's going on - and make sure you're using the latest release as this changed recently. Aside from that, if you really only want to check an SMTP connection, use the SMTP class directly without bothering with the PHPMailer wrapper.\n. Port isn't ignored - it gets used right here, and I use it whenever I run the unit tests.\n. I've added example code for using the SMTP class for checking connections in the 5.2.9 release that I just pushed.\n. I'd guess it's hanging on $smtp->connect. Check that your network config is happy - the tests in the troubleshooting guide will help with that.. That error is effectively saying that whatever you connected to on port 25 is not an SMTP server, or at least not one you're being allowed to use. Glad you found a workaround.. Swiftmail won't be any help since it has no IMAP support; it's just like PHPMailer in that respect.\nA sent folder is very much supported on mail servers - IMAP merely provides the means to manage and access them. The normal way that they are supported is that the mail server (e.g. postfix) places a copy of a sent message in the sent messages folder, which is then accessed using an IMAP client. All the mail servers I've ever used do this, usually in their default config. This really has no overlap with what PHPMailer does. Something I have seen done is after sending to grab a copy of the message (call $mail->getSentMIMEMessage() after sending), and upload it to the IMAP folder on the server using imap_append.\n. It just happens that that version coincides with the creation of my original GitHub repo, so it's the first commit on here. It's not tagged (I added tags much later and didn't think anyone was that interested in such ancient history!), but this commit is at version 2.2.1.\nThat what you needed?\n. I'll do that - though I hate to think why anyone wants code that old and buggy!\n. Tag pushed\n. There's more to it than validation - it changes the way that headers are encoded and requires that both servers and clients support the SMTPUTF8 extension. There are currently no open source email servers that support this out of the box. I also tested AOL, Yahoo, Hotmail and Gmail and none of them support it either. There's no point in allowing it unless the server supports it.\n. We're not getting the whole story here. There is nothing in your script to output that HTML, so there is more to it than you're saying. You need to take it out of whatever context it's in and test it by itself.\nI'm not entirely surprised you're seeing nothing - you are returning before your print statement, though I would expect to see quite a lot generated by the SMTP debug output. I'd also suggest you add:\nphp\nini_set('display_errors', true);\n(I edited your post to add code fences - please read the github intro to markdown)\n. Ah - spotted it. You need to lose the single quotes:\nphp\n$mail->AddAddress( '$email' );\nshould be\nphp\n$mail->AddAddress($email);\nPHP does not interpolate variables inside single quotes, and you don't need quotes here anyway.\nThe return effectively quits the script - nothing will be run after that point - and you don't need that break either. This would be better:\nphp\nif (!$mail->Send()) {\n    echo 'Something went wrong';\n} else {\n    echo 'Complete.';\n}\n(just corrected a little error there!)\n. Glad you worked it out. require in this case is only interested in local paths, not relative URLs.\n. Of course! Just change the hostname. If it doesn't support TLS on port 587, change that to whatever it does support.\n. It's your mail server that's rejecting it, not anything that PHPMailer can do anything about.\n. Are you sending through gmail? If so, it doesn't allow sending using from addresses that are not gmail addresses.\n. Try setting $mail->SMTPDebug = 3; and you'll see the other half of the conversation. If you have access there is likely to be more info in your mail server logs.\n. Thanks - You probably saw I'd tried hvvm before, but the environment doesn't seem to be the same as the others and it fails tests,\n. PHPMailer retains compatibility back to PHP 5.0, and namespaces were not introduced until 5.3, so the class cannot contain them. You should be able to work around this by importing non-namespaced classes into the global namespace, for example:\nphp\nuse PHPMailer;\nuse SMTP;\n. The SENT: 530 SMTP authentication is required is the important bit - looks like it's asking for something that PHPMailer doesn't understand - it should be clear from its EHLO response. You have enabled debug output - what does it say? It's a good idea to test this outside your main environment (i.e. the script by itself) so you can avoid problems that that may be introducing.\n. The SENT: 530 SMTP authentication is required is the important bit - looks like it's asking for something that PHPMailer doesn't understand - it should be clear from its EHLO response. You have enabled debug output - what does it say? It's a good idea to test this outside your main environment (i.e. the script by itself) so you can avoid problems that that may be introducing.\n. As I said, you need to cut down your script and run it outside your framework as it's clearly preventing you from seeing what's going on. SMTPDebug = 2 results in pretty verbose output.\n. As I said, you need to cut down your script and run it outside your framework as it's clearly preventing you from seeing what's going on. SMTPDebug = 2 results in pretty verbose output.\n. Glad you worked it out, and that you like it! PHPMailer supports several auth mechanisms, and really you should be using SSL for submission anyway (specifically, TLS on port 587). You may find some useful tips that are not well documented by looking at the unit tests.\n. Glad you worked it out, and that you like it! PHPMailer supports several auth mechanisms, and really you should be using SSL for submission anyway (specifically, TLS on port 587). You may find some useful tips that are not well documented by looking at the unit tests.\n. Indeed, if you need UTF-8, set it when you create an instance. There is quite a lot of overhead to enabling UTF-8, so only enable it if you need it.\n. Indeed, if you need UTF-8, set it when you create an instance. There is quite a lot of overhead to enabling UTF-8, so only enable it if you need it.\n. I can see that being a useful feature, but I think it could be better implemented - PHP already has various logging functions, so it might be better to make use of them rather than adding a manual implementation. You also need to add locking to cope with concurrent operations. If anything it might be better to allow injecting a callable so logging can be controlled from outside in a completely flexible way. Generally direct SMTP isn't a great solution for web apps anyway (because there's no guarantee the message send will happen quickly), and when you inject by mail() or sendmail, you don't get the far-end feedback you're looking for.\n. I can see that being a useful feature, but I think it could be better implemented - PHP already has various logging functions, so it might be better to make use of them rather than adding a manual implementation. You also need to add locking to cope with concurrent operations. If anything it might be better to allow injecting a callable so logging can be controlled from outside in a completely flexible way. Generally direct SMTP isn't a great solution for web apps anyway (because there's no guarantee the message send will happen quickly), and when you inject by mail() or sendmail, you don't get the far-end feedback you're looking for.\n. The reason for handling it separately is that if you're doing mail in any volume, this has to be done asynchronously - SMTP really does not work well in interactive scenarios. Only a small proportion of bounces are bounced immediately, and making users wait for something that may take a long time isn't really practical - for example SMTP can impose a 10-minute delay before accepting traffic from a new connection (see greetdelay). It's quite easy to get a script to have bounces passed to it (e.g. postfix will accept a pipe config to deliver messages to a script), but unfortunately actually processing bounces is extremely difficult.\nBy a callable I mean a lambda function or closure passed in to a logging function that gets called when the log event happens. That way you can customise what happens when a loggable event happens without having touch the original source code.\n. The reason for handling it separately is that if you're doing mail in any volume, this has to be done asynchronously - SMTP really does not work well in interactive scenarios. Only a small proportion of bounces are bounced immediately, and making users wait for something that may take a long time isn't really practical - for example SMTP can impose a 10-minute delay before accepting traffic from a new connection (see greetdelay). It's quite easy to get a script to have bounces passed to it (e.g. postfix will accept a pipe config to deliver messages to a script), but unfortunately actually processing bounces is extremely difficult.\nBy a callable I mean a lambda function or closure passed in to a logging function that gets called when the log event happens. That way you can customise what happens when a loggable event happens without having touch the original source code.\n. I've done what I suggested - the edebug() method now allows you to set Debugoutput to a callable, and it will be called whenever debug output occurs, for example:\n$email->Debugoutput = function($str, $level) {echo \"debug level $level; message: $str\";};\n. I've done what I suggested - the edebug() method now allows you to set Debugoutput to a callable, and it will be called whenever debug output occurs, for example:\n$email->Debugoutput = function($str, $level) {echo \"debug level $level; message: $str\";};\n. It's not clear what the problem is with that regex in that particular version of PCRE - and it seems that it only breaks intermittently. A reasonable fix would be to adjust the automatic setting so that that version of PCRE falls back to the simpler pattern, or the standard PHP filter_var one.\n. I've just done a little investigating on this. The PCRE_VERSION constant was introduced in PHP 5.2.4, so I need to reintroduce an extension_loaded call to check in versions without that - I originally moved away from that as extension_loaded is sometimes disabled in sites using safe mode..\n. You should find this is fixed now.\n. Thanks\n. Could you post some text that triggers the problem so I can build a test case?\n. Oddly, I can't make that complain. One thing that may be an issue is that the PHPMailer class edebug function uses the Charset property of the message (which defaults to ISO-8859-1), whereas the SMTP class uses a fixed UTF-8 encoding. In the euro/single quote example both characters are successfully converted to entities (&euro; and &rsquo;). With the default charset it does produce wrongly encoded chars (UTF-8 in ISO), but I'm not getting any errors.\nI think it should always use UTF-8 for error output and that using Charset is a mistake, so I will fix that.\n. No, I did ini_set('display_errors', true); error_reporting(E_ALL); in my test script.\n. Here's my test script:\nphp\n<?php\nerror_reporting(E_ALL);\nini_set('display_errors', true);\nrequire 'PHPMailerAutoload.php';\nclass e extends PHPMailer {\n    public function etest($str)\n    {\n        $this->edebug($str);\n    }\n}\n$email = new e;\n$email->SMTPDebug = 3;\n$email->Debugoutput = 'html';\n$email->etest('This with the euro \u20ac symbol\nand the right single quotation \u2019\nand some other funny chars: \u21d2\u21e7\u2318\u10a3\u2202\u042e');\nproduces: \nThis with the euro &euro; symboland the right single quotation &rsquo;and some other funny chars: &rArr;\u21e7\u2318\u10a3&part;\u042e<br>\n. Thanks\n. You're not looking very hard since you are not using the code provided on this site, nor have you read the documentation either. \n. @21accel You need to use the latest PHPMailer, and read the troubleshooting guide. Please don't hijack unrelated tickets.\n. You can't have been using a recent version - all releases in the last year or so include a link to the troubleshooting guide in error output, and yours did not show that.\nThis was hijacking because you posted your query on a closed ticket that had a completely different symptom than you were seeing.\n. If you set SMTPDebug to anything > 0 (2 is probably what you need), it will output an SMTP transcript to standard output, so it will just appear as normal page output. It's worth disabling any redirects after sending or you may not get to see the output. Just set it in your code before uploading.\n. Sure, just inject your own callable for the Debugoutput property, like this:\n$mail->Debugoutput = function($str, $level) {$GLOBALS['error'] .= $str;};\nThat way all the debug output will accumulate in the $errors global variable for you to do what you like with.\n. Just looks like your mail server is dead:\ntelnet mailout.one.com 25\nTrying 10.246.18.1...\ntelnet: connect to address 10.246.18.1: Connection refused\ntelnet: Unable to connect to remote host\n. Actually that IP address is not internet-accessible because it's in an RFC1918 range, so it's impossible to connect to it unless you're on the same network already.\n. Does your server have a 10.x.x.x ip address? Either way, it's refusing connections or timing out, so it's not looking good for your mail server. I suggest you contact their support, read their docs.\n. Use the gmail example provided and read the docs https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. There's a property called $Version near the top of the PHPMailer class file. That change was included in the 5.2.8 release.\n. I've built a working test script from your example code (with a few tweaks - why use that while/each instead of foreach?), and it's working fine for me - it handles invalid addresses and also failed addresses at send time:\n``` php\n<?php\nerror_reporting(E_ALL);\nini_set('display_errors', true);\nrequire 'PHPMailerAutoload.php';\n$bccz = array(\n    array(\n        'a@example.com' => array(\n            'email' => 'a@example.com',\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        ),\n        'b@example-.com' => array(\n            'email' => 'b@example-.com', //Deliberately invalid\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        )\n    ),\n    array(\n        'c@dfgsdfgdsfgsdfgsdfgsdfgs.com' => array(\n            'email' => 'c@dfgsdfgdsfgsdfgsdfgsdfgs.com', //Non-existent domain\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        ),\n        'd@example.com' => array(\n            'email' => 'd@example.com',\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        )\n    )\n);\n$mail = new PHPMailer(true);\n$mail->IsSMTP();\n$mail->Host = 'localhost';\n$mail->Port = 25;\n$mail->SMTPAuth = false;\n$mail->CharSet = 'UTF-8';\n$mail->setFrom('from@example.com', 'FromName');\n$mail->addAddress('to@example.com', 'ToName');\n$mail->msgHTML('This is the message body');\n$mail->Subject = 'Subject';\n$i = 0;\nforeach ($bccz as $bcc) {\n    $i++;\n    echo 'GROUP: ' . $i . '' . \"\\n\";\n    foreach ($bcc as $key => $value) {\n        try {\n            $mail->AddBcc($value['email'], trim($value['cFname'] . ' ' . $value['cLname']));\n        } catch (phpmailerException $e) {\n            echo \"Skipping invalid address: {$value['email']}\\n\";\n        }\n    }\n    try {\n        $mail->Send();\n        echo \"message sent hurray!\\n\";\n    } catch (phpmailerException $e) {\n        echo $e->errorMessage();\n    }\n    $mail->ClearBCCs();\n}\n```\nFor testing purposes I often use FakeSMTP, but I also have my local postfix set up to blackhole anything sent to example.com.\n. No problem, thanks for the PR!\n. You need to do what I said above - enable encryption. Yandex (like most sensible email services) will not let you use authentication without encryption, which is exactly what the error message says.\n. It may be part of your program, but it's not part of PHPMailer; there is no mysql code in PHPMailer. is_resource is used correctly in the SMTP class to check the stream resource, but that's all.\nPHPMailer 5.1 is now 5 years old, and things have moved on since then - please don't report issues with old versions.\n. But $this->smtp_conn is never anything remotely to do with mysql. If there is an open connection, it's always a resource, not an object. Changing it to is_object would break it; it's just wrong. It sounds to me like whatever tool is telling you this has a bug in it.\n. What is this conversion tool?\n. What is this conversion tool?\n. OK, well you should configure it to ignore PHPMailer's files so you can avoid this false positive. When you report a bug, its important to describe the context and provide sufficient information about how to reproduce the problem, not just some random output that you're seeing from a tool that the person reading the bug report has no knowledge of.\n. OK, well you should configure it to ignore PHPMailer's files so you can avoid this false positive. When you report a bug, its important to describe the context and provide sufficient information about how to reproduce the problem, not just some random output that you're seeing from a tool that the person reading the bug report has no knowledge of.\n. 1, 2) If your host disables it, it's probably against your terms of service to try to work around it. The sendmail binary isn't a complete sending solution - it typically just submits it to a local mail server, so is no use by itself. You're better off either switching to SMTP to send directly, or change to a host that doesn't limit you.\n3) That will work. A more usual way is to put your libraries above your web root so they are not web accessible anyway.\n4) Yes. This is covered in the readme on the front page.\n. 1, 2) If your host disables it, it's probably against your terms of service to try to work around it. The sendmail binary isn't a complete sending solution - it typically just submits it to a local mail server, so is no use by itself. You're better off either switching to SMTP to send directly, or change to a host that doesn't limit you.\n3) That will work. A more usual way is to put your libraries above your web root so they are not web accessible anyway.\n4) Yes. This is covered in the readme on the front page.\n. Yes, SMTP is implemented in there, but all you need to do is call $mail->isSMTP(); and then give it authntication details, as in the example in the readme, and PHPMailer takes care of the rest. You really should try reading the docs and examples, it does all this.\n. Yes, SMTP is implemented in there, but all you need to do is call $mail->isSMTP(); and then give it authntication details, as in the example in the readme, and PHPMailer takes care of the rest. You really should try reading the docs and examples, it does all this.\n. It is already set to 300 in the SMTP class (what most of those timeouts want), citing that section, and is a settable property in the PHPMailer class (so you can set it to whatever you want), though it defaults to 10 sec in there, so I'll fix that.\n. It is already set to 300 in the SMTP class (what most of those timeouts want), citing that section, and is a settable property in the PHPMailer class (so you can set it to whatever you want), though it defaults to 10 sec in there, so I'll fix that.\n. Ah, OK, I see what you mean, though the Timeout was wrong in the PHPMailer class anyway.\nSince the PHPMailer class does not set the Timelimit property at all, and the limits vary by command, I think we should set Timelimit within each SMTP command to match the RFC, or at least set the default to 5 mins. Do you agree?\n. Ah, OK, I see what you mean, though the Timeout was wrong in the PHPMailer class anyway.\nSince the PHPMailer class does not set the Timelimit property at all, and the limits vary by command, I think we should set Timelimit within each SMTP command to match the RFC, or at least set the default to 5 mins. Do you agree?\n. I've made it that the end of DATA waits for twice the time limit, and increased the default timelimit to 300. Should be close enough.\n. I've made it that the end of DATA waits for twice the time limit, and increased the default timelimit to 300. Should be close enough.\n. Sorry, no. The -r is an old, obsolete option that does exactly the same as the -f option that sendmail has, and PHPMailer uses. See the Exim docs.\n. Sorry, no. The -r is an old, obsolete option that does exactly the same as the -f option that sendmail has, and PHPMailer uses. See the Exim docs.\n. You say you have no terminal access to your server, so I'm guessing those examples you posted are done from somewhere else so the fact that you can get to them doesn't mean that you can from your hostgator server. It could also be a DNS issue on your hostgator config.\n. You say you have no terminal access to your server, so I'm guessing those examples you posted are done from somewhere else so the fact that you can get to them doesn't mean that you can from your hostgator server. It could also be a DNS issue on your hostgator config.\n. Glad you sorted that out.\n. Glad you sorted that out.\n. Read the guide the error links to.. You see that link to the troubleshooting guide? Click it, and read what it says about GoDaddy.. Post your code.\n. Post your code.\n. You can't use ssl with port 587. The only combinations that will work are tls/587 and ssl/465, but you should use TLS. It doesn't make any differnce if you site uses http or https.\nWhen you say \"mail not send\" you need to post your actual error messages. You could also try reading the documentation.\n. You can't use ssl with port 587. The only combinations that will work are tls/587 and ssl/465, but you should use TLS. It doesn't make any differnce if you site uses http or https.\nWhen you say \"mail not send\" you need to post your actual error messages. You could also try reading the documentation.\n. Like I said, post your errror messages. I can't help you otherwise. You could also try setting $mail->SMTPDebug = 4; for more debug output.\n. Like I said, post your errror messages. I can't help you otherwise. You could also try setting $mail->SMTPDebug = 4; for more debug output.\n. Wait - you said the mail is getting through, so you don't have a problem. Messages going into the spam folder is not PHPMailer's fault. You need to make sure you're using SPF, implement DKIM (which PHPMailer can help with) etc.\n. Wait - you said the mail is getting through, so you don't have a problem. Messages going into the spam folder is not PHPMailer's fault. You need to make sure you're using SPF, implement DKIM (which PHPMailer can help with) etc.\n. Whether you access PHPMailer's script via http or https makes no difference to whether PHPMailer itself uses TLS; They are entirely independent. If you have problems with http vs https, it's not a PHPMailer problem. Also, please don't hijack threads.. Whether you access PHPMailer's script via http or https makes no difference to whether PHPMailer itself uses TLS; They are entirely independent. If you have problems with http vs https, it's not a PHPMailer problem. Also, please don't hijack threads.. If you enable exceptions and catch the exception, you should be able to get them from getMessage() in the exception. Otherwise look in the ErrorInfo property.\n. If you enable exceptions and catch the exception, you should be able to get them from getMessage() in the exception. Otherwise look in the ErrorInfo property.\n. Unfortunately ErrorInfo has no particular format - it's just a human-readable string. There's an example of handling exceptions in the examples folder, but I don't think it wil help much for this. I think your best bet is to send each message separately; it's slower, but you will get detailed errors for every recpient individually.\n. Unfortunately ErrorInfo has no particular format - it's just a human-readable string. There's an example of handling exceptions in the examples folder, but I don't think it wil help much for this. I think your best bet is to send each message separately; it's slower, but you will get detailed errors for every recpient individually.\n. Yes, that is how it would work. You can see the results of the last SMTP operation by calling $mail->getSMTPInstance()->getLastReply(), but you may find it doesn't provide fine enough feedback. The SMTP class returns a status for each RCPT TO command (see the SMTP::recipient() method), but that is partly hidden by the PHPMailer class. I would suggest you subclass PHPMailer and override the smtpSend() method - if you look how it works you can see that it ends up with an array of the unsuccessful recipients in a variable called $bad_rcpt - you could perhaps stash that in a public property so you don't have to rely on parsing addresses back out of the ErrorInfo string.\n. Yes, that is how it would work. You can see the results of the last SMTP operation by calling $mail->getSMTPInstance()->getLastReply(), but you may find it doesn't provide fine enough feedback. The SMTP class returns a status for each RCPT TO command (see the SMTP::recipient() method), but that is partly hidden by the PHPMailer class. I would suggest you subclass PHPMailer and override the smtpSend() method - if you look how it works you can see that it ends up with an array of the unsuccessful recipients in a variable called $bad_rcpt - you could perhaps stash that in a public property so you don't have to rely on parsing addresses back out of the ErrorInfo string.\n. That's what I was suggesting - at the moment $bad_rcpt is local to the smtpSend() function, you just want to alter it so it's accessible. Something like this:\n``` php\nclassMyPHPMailer extends PHPMailer {\n    public $bad_rcpt = array();\n    protected function smtpSend($header, $body)\n    {\n        $this->bad_rcpt = array();\n    if (!$this->smtpConnect()) {\n        throw new phpmailerException($this->lang('smtp_connect_failed'), self::STOP_CRITICAL);\n    }\n    $smtp_from = ($this->Sender == '') ? $this->From : $this->Sender;\n    if (!$this->smtp->mail($smtp_from)) {\n        $this->setError($this->lang('from_failed') . $smtp_from . ' : ' . implode(',', $this->smtp->getError()));\n        throw new phpmailerException($this->ErrorInfo, self::STOP_CRITICAL);\n    }\n\n    // Attempt to send to all recipients\n    foreach ($this->to as $to) {\n        if (!$this->smtp->recipient($to[0])) {\n            $this->bad_rcpt[] = $to[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array($to[0]), array(), array(), $this->Subject, $body, $this->From);\n    }\n    foreach ($this->cc as $cc) {\n        if (!$this->smtp->recipient($cc[0])) {\n            $this->bad_rcpt[] = $cc[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array(), array($cc[0]), array(), $this->Subject, $body, $this->From);\n    }\n    foreach ($this->bcc as $bcc) {\n        if (!$this->smtp->recipient($bcc[0])) {\n            $this->bad_rcpt[] = $bcc[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array(), array(), array($bcc[0]), $this->Subject, $body, $this->From);\n    }\n\n    // Only send the DATA command if we have viable recipients\n    if ((count($this->all_recipients) > count($this->bad_rcpt)) and !$this->smtp->data($header . $body)) {\n        throw new phpmailerException($this->lang('data_not_accepted'), self::STOP_CRITICAL);\n    }\n    if ($this->SMTPKeepAlive == true) {\n        $this->smtp->reset();\n    } else {\n        $this->smtp->quit();\n        $this->smtp->close();\n    }\n    if (count($this->bad_rcpt) > 0) { // Create error message for any bad addresses\n        throw new phpmailerException(\n            $this->lang('recipients_failed') . implode(', ', $this->bad_rcpt),\n            self::STOP_CONTINUE\n        );\n    }\n    return true;\n}\n\n}\n}\n```\nAfter calling that you'll find that you have a list of bad recipients (if any) in $mail->bad_rcpt. Also looking at that code, you'll get better feedback if you make use of PHPMailer exceptions (pass true in the constructor).\n. That's what I was suggesting - at the moment $bad_rcpt is local to the smtpSend() function, you just want to alter it so it's accessible. Something like this:\n``` php\nclassMyPHPMailer extends PHPMailer {\n    public $bad_rcpt = array();\n    protected function smtpSend($header, $body)\n    {\n        $this->bad_rcpt = array();\n    if (!$this->smtpConnect()) {\n        throw new phpmailerException($this->lang('smtp_connect_failed'), self::STOP_CRITICAL);\n    }\n    $smtp_from = ($this->Sender == '') ? $this->From : $this->Sender;\n    if (!$this->smtp->mail($smtp_from)) {\n        $this->setError($this->lang('from_failed') . $smtp_from . ' : ' . implode(',', $this->smtp->getError()));\n        throw new phpmailerException($this->ErrorInfo, self::STOP_CRITICAL);\n    }\n\n    // Attempt to send to all recipients\n    foreach ($this->to as $to) {\n        if (!$this->smtp->recipient($to[0])) {\n            $this->bad_rcpt[] = $to[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array($to[0]), array(), array(), $this->Subject, $body, $this->From);\n    }\n    foreach ($this->cc as $cc) {\n        if (!$this->smtp->recipient($cc[0])) {\n            $this->bad_rcpt[] = $cc[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array(), array($cc[0]), array(), $this->Subject, $body, $this->From);\n    }\n    foreach ($this->bcc as $bcc) {\n        if (!$this->smtp->recipient($bcc[0])) {\n            $this->bad_rcpt[] = $bcc[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array(), array(), array($bcc[0]), $this->Subject, $body, $this->From);\n    }\n\n    // Only send the DATA command if we have viable recipients\n    if ((count($this->all_recipients) > count($this->bad_rcpt)) and !$this->smtp->data($header . $body)) {\n        throw new phpmailerException($this->lang('data_not_accepted'), self::STOP_CRITICAL);\n    }\n    if ($this->SMTPKeepAlive == true) {\n        $this->smtp->reset();\n    } else {\n        $this->smtp->quit();\n        $this->smtp->close();\n    }\n    if (count($this->bad_rcpt) > 0) { // Create error message for any bad addresses\n        throw new phpmailerException(\n            $this->lang('recipients_failed') . implode(', ', $this->bad_rcpt),\n            self::STOP_CONTINUE\n        );\n    }\n    return true;\n}\n\n}\n}\n```\nAfter calling that you'll find that you have a list of bad recipients (if any) in $mail->bad_rcpt. Also looking at that code, you'll get better feedback if you make use of PHPMailer exceptions (pass true in the constructor).\n. Great, glad I could help. I may even include this into PHPMailer - I'll have more of a think about it first!\n. Great, glad I could help. I may even include this into PHPMailer - I'll have more of a think about it first!\n. One shortcoming I can see is that it doesn't tell you why each recipient failed, just that they have.\n. One shortcoming I can see is that it doesn't tell you why each recipient failed, just that they have.\n. It might be as simple as:\nphp\n$this->bad_rcpt[$to[0]] = $this->smtp->getLastReply();\n. It might be as simple as:\nphp\n$this->bad_rcpt[$to[0]] = $this->smtp->getLastReply();\n. Though then you are back to parsing strings again...\n. Though then you are back to parsing strings again...\n. Yes - look at the mailing list example in the examples folder.\n. Yes - look at the mailing list example in the examples folder.\n. Also check out the wiki.\n. Also check out the wiki.\n. If you're using that subclass (i.e. your code includes $mail = new MyPHPMailer), bad_rcpt would contain a list of the failed addresses, so for example you could call var_dump($mail->bad_rcpt) to display the failed addresses after you try to send (e.g. at the end of your script). I can see you're also using an old version of PHPMailer; update.. If you're using that subclass (i.e. your code includes $mail = new MyPHPMailer), bad_rcpt would contain a list of the failed addresses, so for example you could call var_dump($mail->bad_rcpt) to display the failed addresses after you try to send (e.g. at the end of your script). I can see you're also using an old version of PHPMailer; update.. You're mixing up PHPMailer versions. phpmailerException does not exist in 6.x; it's now called PHPMailer\\PHPMailer\\Exception. Also, please don't hijack unrelated issues that have been closed for 5 years. If you have questions about how to use PHPMailer (rather than reporting bugs), Stack Overflow is the place to ask.. Yes - don't try to do this in PHPMailer. While it will work ok for messages that are rejected immediately, you should be using a local or nearby mail server to relay through for outbound, and set up a bounce handler that your mail server can pipe bounces into, which you can then process and provide feedback on. That's much, much more efficient and reliable than trying to do this at send time. Bear in mind that SMTP is inherently asynchronous, so failures may take literally days to arrive.. That page doesn't say which commands those are valid responses to, which is a bit unhelpful - 250 is a valid success response to several commands, but it's probably the end-of-data stage you want to get at. You may find this issue relevant, but you probably mainly want to look in here:\nphp\n$mail->getSMTPInstance()->getLastReply();\nThat will give you the raw text response given by the server to the most recent command - however, some PHPMailer functions issue multiple SMTP commands (like send), so you may need to override the function to get at the points where those messages may be returned. If you have keepalive enabled you might find that it contains the info you want just after calling send. Without keepalive it will automatically issue a QUIT, so you'll be left with the response to that, which isn't much use.\n. We maintain compatibility back to PHP 5.0, and the hash function only appeared in PHP 5.1.2, so this will need to be wrapped in a version check.\n. Are you actually using NTLM auth, or have you just spotted this issue in the code? I posted an update to the ntlm_sasl lib today, but it's still horrible code that's not been updated since 2006, and I suspect that the bundled code doesn't actually work by itself anyway (it depends on other classes that are not included). If you're using NTLM, it would be useful to know if it works as I don't have one to test against.\n. Good news - The problem is in the ntml_sasl class in the 'start' method - it refers to another class that's missing. If it's working for you, I guess we can get away without it.\n. Of course - once you've done them, just submit a pull request.\n. Awesome, thanks :)\n. Read the documentation. I'd also suggest you update your PHP to one that's less than 8 years old.\n. It's not clear what server is giving you this message. Like it says - in order to send from a hotmail address, you need to send through hotmail - yahoo and gmail have the same policy. One workaround is to set your from address to your company address, and set a reply-to address to be your hotmail account. That way replies will go to hotmail without you having to send through them. The other work-around is obviously to send through hotmail.\n. Then don't put their address in the from. Since it's your form it doesn't matter where it's sent from and you can include their from address in the message body.\n. Thanks\n. This is a little mysterious. The SMTP class is listed in the composer.json classmap. That setTimeout isn't the first call into the SMTP class - it creates an instance several lines before that, and calls connected() on it too, and those would fail if the SMTP class wasn't found. There were some changes in this area fairly recently but I'm not sure if they would have caused this symptom.\n. I can't reproduce this. Making a completely clean project with this composer.json:\njson\n{\n    \"require\": {\n        \"phpmailer/phpmailer\": \"*\"\n    }\n}\nand this PHP script:\nphp\nrequire 'vendor/autoload.php';\n$s = new SMTP;\n$s->setTimeout(60);\nI don't get any errors. Can you modify this to reproduce your problem? setTimeout is fairly new, so it could be that you're perhaps picking up an old version from somewhere else in your include path?\n. Would you not normally translate words like \"Error\" and \"server\"?\n. OK, thanks\n. Changing the name of the error_log option would be a BC break, so instead I'm checking for a name clash before calling is_callable.\n. The error_log option existed long before the callable option.\n. It's working fine for me - I built a little test to try it with:\nphp\nrequire 'PHPMailerAutoload.php';\nclass c extends PHPMailer {\n    public function e($s) {\n        $this->edebug($s);\n    }\n}\n$p = new c;\n$p->SMTPDebug = 1;\n$p->Debugoutput = function($e) { echo $e; };\n$p->e('hello function');\n$p->Debugoutput = 'error_log';\n$p->e('hello log');\nBoth those options now work for me, the second option outputs to the PHP error log as expected.\nWhile I agree in general about the error output, bear in mind that PHPMailer is used a lot on services where the error log is not visible to users, so it needs to be a bit noisy. Coders doing ajax stuff will have no trouble changing the settings.\n. I don't think that's a bug - addAttachment is intended to use with a local filesystem. If you want to load from elsewhere without filesystem semantics, you can simply do this instead:\nphp\n$mail->addStringAttachment(file_get_contents($myurl), 'filename');\nOr anything else that returns a string.\n. Goodness! Matt's formmail is a blast from the past, and also one of the least secure scripts ever devised!\nIt's pretty simple to do the same thing with PHPMailer. Take a look in the examples folder - you may find the generator will do the job. It might be a nice idea to bundle a drop-in replacement for formmail. You don't need to change your file names to use a script from multiple forms on your site - just put it in the action attribute of the form.\n. OK, best to talk about this off github - please email me directly via my contact page.\n. This is great stuff, thanks. Only major issue is that removing SMTP::help_rply is a BC break. Can you rearrange it that so that helo_rply is still retained and populated as before, and so server_caps will only be an addition, not a replacement?\n. This is really a bit of a mess. Make your patch against current master, not some older version. If you're going to change code, change it, don't comment out the old stuff.\nBy changing timeouts and line lengths you're breaking other things. You're assuming that it's always UTF-8, which is not true - PHPMailer defaults to ISO-8859-1. SMTP line lengths are always in bytes, not characters (we are not using SMTPUTF8 yet), so 998 and strlen is the correct combination, and is compatible with UTF-8.\nAll the handling of UTF-8 characters is not in the SMTP class, because character set is a MIME concept mostly unrelated to SMTP (which doesn't care about charset if the 8BITMIME extension is available). Look at the wrapText method, and where it uses utf8CharBoundary() to break long lines.\n. Could your user/pass be wrong? Are they working in something else using the same auth mechanism?\n. At present option #1 is what's done in the SMTP class, though by then it's too late to apply a transfer encoding, so it does the same as postfix (which is in the same boat), and that obviously doesn't get used if you're sending via mail(). I agree that it should automatically switch to quoted-printable if there are long lines - issuing errors isn't really very helpful!\nGot a PR + tests for this?\n. I've added some basic support for this - look in the longlines branch.\nI've added a method to spot overly long lines, and I use it to switch transfer encoding when assembling a message, however I don't think it's quite complete - there may be some issues around altbody with multipart messages. I've added some unit tests to check for handling both long and short lines (preserving or altering transfer-encoding) which are passing. Can you see any other places we might run into trouble?\n. @davidsickmiller, have you had a chance to look at this?\n. Good catch, thanks. It's a bit chicken & egg. I guess instead of reversing the order we'd need to retrospectively patch the headers, which isn't going to be pretty.\n. I've just pushed some changes that fix the boundary/id issue, and also merged in changes from master. Does it look good to you?\n. This was working pretty well so I merged it into master, only to discover that it caused problems with another recent dev branch concerning S/MIME signing. I've now dealt with that and now S/MIME signing does not cause a problem with headers.\nBoth changes will be in the 5.2.10 release.\n. This was working pretty well so I merged it into master, only to discover that it caused problems with another recent dev branch concerning S/MIME signing. I've now dealt with that and now S/MIME signing does not cause a problem with headers.\nBoth changes will be in the 5.2.10 release.\n. OK, I can see the problem here - it should not be touching the charset when it changes to QP-encoding. I've pushed a change for that.\n. @rosmanov, can you confirm that this change works for you?\n. You need to at least run your code before submitting a pull request. This is a tricky problem, so you will need thorough tests to prove that it works before I'll go anywhere near this.\n. I understand what you're trying to do, and it's quite reasonable, but this still won't work (look at how the tests are failing). You have url() in your pattern, and this will not match url() in a style attribute or style sheet because you have not escaped the ( or ). URLs in style declarations of either type are not HTML attributes (like the other patterns that are being matched), so you need to spot them first, rather than trying to do it more arbitrarily like this. As it stands it's much too general, you need to match things far more specifically for it to be reliable (bear in mind there are perhaps 70 million users of this code). To prove a point, your pattern will not match this:\nhtml\n<div style=\"background-image:url(http://www.example.com/image.png);\">blah</div>\nThe existing code captures subpatterns to extract the URLs and replace them. You're not capturing URLs at all, so that can't work. If it is working for you (I'd be surprised since the code won't even run), it's only by complete luck, not anything deliberate.\nI really suggest you write some unit tests to show this working - it's far more likely to be accepted, and it's just good practice, especially when the code does not do what you intend.\n. Bear in mind that this is email, so relative URLs don't work (at present the msgHTML() function does not attempt to convert relative URLs to absolute). If a URL is correctly encoded, it will only ever need quoting if the URL contains a ), but you should match all allowed variants as per RFC1738 since while you might format your HTML like that, others may not, and both ways are valid\n. I've added a fix for all message types in the branch linked above. Please could you give it a try and let me know if it works for you.\n. Nope.\nphp\nvar_dump(PHPMailer::validateAddress('john.doe@student.kit.edu'));\nbool(true)\nI'd guess your problem is elsewhere.\n. Indeed, PHPMailer doesn't care what you put in subject lines. There is something between your form and PHPMailer causing both of your issues.\n. Good catch, thanks.\n. Thanks. Another small thing about the changed array code is that the [] syntax only works in PHP 5.4 and up, and we try to retain compatibility back to 5.0.\n. Any SMTP connection is closed automatically when the PHPMailer instance goes out of scope using its class destructor - it's just not something you have to worry about.\n. Thanks\n. Thanks\n. I don't think this is possible while still maintaining backwards compatibility back to 5.0, for example we can't use namespaces.\n. That's not possible without breaking BC. Breaking BC (bearing in mind we have probably hundreds of millions of users) for something as trivial as this is really pointless - there are far bigger architectural changes that would come first - see #88. You might be able to achieve something similar in your own projects by creating wrappers that would mean you don't need to rename things in future.\n. I think I agree with this now - ignoring the major rewrite possibilities mentioned in #88, I think it's about time to add namespace support, and whatever else is beneficial in later PHP versions. I suggest we go for PHP 5.4 compatibility (since that's what's needed by the existing XOAUTH2 classes), and I think we should call it PHPMailer 5.4 to avoid confusion!\nSo, who's up for a nice fat pull request?\n. If we're going to the inconvenience of breaking things, we may as well break things properly and not release something half-baked.\nI think namespacing should be combined with renaming files and altering the folder structure to the PSR-4 default conventions, so class.smtp.php -> SMTP.php.\nIf you look at what's going on in the xoauth branch, you'll see there's about to be a proliferation of classes, and it may be better to hold off merging that lot in until we've restructured the files (and they all require PHP 5.4 anyway). I never have liked the class.* filenames.\nI'm thinking of a structure something like:\nlib/\n    PHPMailer.php\n    SMTP.php\n    POP3.php\n    extra/\n        EasyPeasyICS.php\n    XOAuth2/\n        Provider.php\n        Provider/\n            Google.php\n            Yahoo.php\n            Outlook.php\nThis would also separate all the functional parts from docs, examples, tests etc.\nIt would also be a good opportunity to improve the way that the SMTP class is loaded - at the moment there's a workable mechanism for injecting a class, but it's only usable via a subclass, which isn't pretty (but it works for BC). The POP3 class is worse.\nBundling EasyPeasyICS makes much less sense in a composer-driven context; it should be moved into its own project. I've never seen anyone use the NTLM class, and I have a suspicion that it doesn't work anyway - the original class is from PHPClasses, so it might be better to unbundle and load it via composer too.\n. XOAuth2 itself isn't bundled. The core classes are loaded from composer and these classses wrap them to implement XOAUTH2 in PHPMailer. I don't see much value in breaking them out as they are not usable outside PHPMailer (unlike EasyPeasyICS).\n. Also, gmail is by far the most common SMTP mail gateway I've seen with PHPMailer, so it makes sense to include support for it by default since XOAUTH2 is essentially a requirement for gmail now.\n. I've just pushed a first draft of PHPMailer 5.4 to the 5.4 branch. It declares a PHPMailer\\PHPMailer namespace, uses a structure similar to what I suggested, but I've not yet merged in the changes from the xoauth branch.\nSuggestions and PRs welcome!\n. I've been merging the changes into the xoauth branch, so it shouldn't be too painful when it's merged back in.\nI've been having trouble getting the POP-before-SMTP tests to pass - it's a fairly difficult thing to get working as it's highly dependent on local and travis config and relies on creating child processes via shell_exec from within PHPUnit. It's working OK for me locally, but I can't get Travis to cooperate. Anyone got any suggestions?\n. No it's not. This is a library not an app, so there is very little need to upgrade to the bleeding edge for anything since all it does is reduce the usability of the library. The project has been PHP 7 compatible for ages, but 5.4 was the last time that relevant significant language changes were made in PHP, so that's what we're doing here. In the mean time, help or go away and stop whining.\n. No it's not. This is a library not an app, so there is very little need to upgrade to the bleeding edge for anything since all it does is reduce the usability of the library. The project has been PHP 7 compatible for ages, but 5.4 was the last time that relevant significant language changes were made in PHP, so that's what we're doing here. In the mean time, help or go away and stop whining.\n. What you describe is pretty impossible without major BC breaks, something more for a 6.0 rather than a minor .x release that we're aiming for in 5.4 - see #88 for longer-term ambitions.\nPersonally I think \"fluent\" interfaces are terrible - they enhance readability in one small section of code at the expense of making the rest of it very difficult, particularly when it comes to non-fatal error handling, because the only option available in a fluent sequence is exceptions, which are a very blunt instrument and do not allow elegant recovery. Because of that, most fluent systems only use it in trivial sequential setter calls where there are few consequences to errors, and thus they are no more than syntactic sugar that's not actually very helpful.\nThere is already a phpunit.xml file that's used by the test suite? Generally don't try and add every little anomaly to .gitignore files - for example .idea or .netbeans folders should be in your global git config, not per project - or were you referring to something else?\nThere's nothing stopping you using a CSS inliner in the current version - I use one myself - and you can already get a .eml finished message using getSentMIMEMessage(). You can't currently send a pre-assembled message, and that is certainly something that could be achieved with better separation as you describe, but even then, with SMTPUTF8, message assembly is dependent on the remote server so it's not a clean division.\nThe thing I could really use some help with is the oauth2 integration - you'll find it in the xoauth branch, which is based on the 5.4 branch, and I'd like to merge it back in before release - in fact it's all that's holding up 5.4. I find OAuth utterly incomprehensible at the best of times - every implementation seems to be entirely different and incompatible, so abstracting it is proving painful, and even when it's working perfectly it's horrible for users and developers alike, but we have no choice but to do it because gmail is imposing it.\n. This is pretty much done in the 5.5 branch (so-called because it now requires PHP 5.5, though only because the dependencies do). I'm closing this ticket to reflect that, please open new tickets for anything you find amiss.\n. This is pretty much done in the 5.5 branch (so-called because it now requires PHP 5.5, though only because the dependencies do). I'm closing this ticket to reflect that, please open new tickets for anything you find amiss.\n. Because there are other projects in the PHPMailer org on GitHub, there may be more in future, and they should have their own consistent namespaces. Other projects do the same thing.\n. This is an old ticket. The next version is called 6.0 because of BC breaks that I don't want imposed on automatic semver updates. 5.2 is still 5.2, and still provides its own autoloader by default, though of course you can also load it using composer. 6.0 remains unreleased because I'm still awaiting confirmation that line break issues in #953 are resolved.. Not confusing at all - 5.2 is current master and current release version. As soon as it's released, 6.0 will become master. This is the same pattern as pretty much every other package. 5.2 will move to 5.2-stable.. Indeed, it really doesn't look like the server is up - it's not responding on port 25, 465 or 587, so the error message it gave was entirely accurate. It is responding to pings, so it's definitely there, it just doesn't seem interested in receiving email.\n. BTW you're also using an old version of PHPMailer.\n. If you want to complain that it's not working with a specific server, then make it clear which one that is. In your code you have set Host to mail.tackningsproffsen.se, which is unresponsive, and explains exactly the symptom you are seeing, yet now you say that's not the server you're having trouble with. You say that the same code is working on a different server, which suggests it's the server that's the problem (or access to it), not the code. Right now we have absolutely nothing to go on.\n. You post a random bit of output, no code, and demand that it's fixed. All the evidence you provide points to your server being down, exactly in agreement with the error message your'e getting, i.e. it appears that PHPMailer is working precisely as designed. Later you reveal that it wasn't this server, and whinge when I ask which one it is. You deliberately fail to answer straightforward questions, then insult me and demand I fix your code (which you have still failed to post), all for nothing. You're apparently unfamiliar with the basic tenets of open source development, so you should probably read this, and perhaps get up to speed on how to write a bug report that someone will want to fix\nIf you're not a programmer, why are you using a programming library? PHPMailer does absolutely nothing unless you write some code to drive it. PHPMailer can't fix your server.\nIf this isn't your problem, tell us what is, and post your code, along with accurate steps to reproduce the problem reliably. Not too hard is it?\n. You can update PHPMailer manually, but you may find that doing so prevents you from applying updates via wordpress in future, so if it's now working for you, I'd suggest you just leave it and let wordpress update it in future.\n. Check it - make sure that DNS lookups for those domains work correctly on your server, and see if you can make connections outside of PHP - as the PHPMailer troubleshooting guide suggests. PHPMailer doesn't make timeouts deliberately - if a server fails to respond, it's not the fault of the client code trying to connect to it, just as if a web server dies, you'll get timeouts in your browser, but the problem is nothing to do with the browser.\n. @battalbey Please don't hijack closed, unrelated issues. Read what the error says, do what the guide says. I can get to your server, so it suggests your ISP is blocking outbound SMTP. It's all covered in the guide.. Debug output is only meant to be used for debugging, when you don't care about header issues. You can always get message content after sending by using methods like getSentMIMEMessage(). You can change the way debug output behaves in recent versions of PHPMailer by creating a closure for debug output handling - see this question and answer\n. I'm not too keen on accpting this - it doesn't really add much that's useful or different from the other examples, and if anything I want to cut down the number of examples as there is already too much duplication. The other examples already show how to drive PHPMailer - we're not here to teach people how to wrap that in a function.\n. Fair point, I'll fix that. I suspect it appears in the other examples too.\n. 4.7.1 is a temporary failure due to spam filtering or other policy - it's likely that this is an authentication problem as allowing to send from anywhere to anywhere is effectively a spam gateway. Can you show the SMTP transcript (set SMTPDebug = 2)?\n. OK, that does look like a normal trying to send without authenticating. Notice that the server capability list does not include AUTH, but does include STARTTLS? I would guess that if you set SMTPSecure = 'tls' and Port = 587, you will find that authentication works. This is because after sending STARTTLS, the client issues EHLO again, and the server typically only allows authentication after an encrypted connection has been established.\n. Hm. I've done a little experiment and it doesn't look like they support authentication at all - starting TLS on that server does not show an an AUTH option.\nshell\nopenssl s_client -starttls smtp -crlf -connect mail.jaalumni.dk:25\nOverall it looks like this is an inbound-only mail server, which is why it works for your own domain but not others. The only other way they can reasonably let you relay through here is if they trust your IP address. I think they must have a different server for authenticated outbound to arbitrary addresses.\n. I don't think this is specific to PHPMailer - I expect you would have the same problem with any other sending software. Do you send through this server using other software, such as Outlook or Apple Mail?\n. Ah, well there we are then - that's the 'different server' I was after...\n. This is nothing to do with PHPMailer.\n. I really have no idea, and this is not the place to ask - have you tried reading the docs or googling for PHP IMAP code? PHPMailer has nothing to do with IMAP at all.\n. I answered your question on Stackoverflow\n. While I see what you're doing, this isn't a great way to fix it - it will break on servers without TLS encryption. The right way to fix this is to check the server capabilities first (e.g. with getServerExt('STARTTLS') after calling hello(). It's also still fairly common to accept unencrypted auth on port 25, less so on port 587, though RFC6409 still doesn't require STARTTLS. Another factor is that if you're using SMTPSecure = 'ssl', you don't get a chance to check for encryption since it's encrypted from the outset.\n. I think the autotls branch is a better solution - it enables opportunistic TLS if the server offers it, even if SMTPSecure is not set, so you don't need to do this any more.\n. I think the autotls branch is a better solution - it enables opportunistic TLS if the server offers it, even if SMTPSecure is not set, so you don't need to do this any more.\n. Thanks\n. I think you must be using an old version - the SMTP class has not been loaded explicitly for a while. Do you have all the files in the same directory (specifically, in the same folder as the autoloader)?\n. Set a breakpoint (or var_dump something useful) in the autoloader to make sure it's being used.\n. Anything, doesn't matter what, just need to check that the autoloader is being run.\n. isSMTP doesn't return anything so null is correct. And you put that in the autoloader? if would be more useful to ask something like:\nphp\nvar_dump($filename);\njust before the if (is_readable($filename)) { in the autoloader file.\n. And does the SMTP class file exist in that location, and have appropriate read permissions for this user (i.e. anything that might cause it to fail the is_readable test)?\n. Uh, despite what you said earlier, that screen shot shows that you have NOT put the SMTP class file in the same folder, which is why it's not finding the SMTP class! Please read the installation notes in the readme.\n. That tells me that you're not using the autoloader. Please read the readme and the rest of this ticket.\n. That tells me that you're not using the autoloader. Please read the readme and the rest of this ticket.\n. Parentheses are not needed if you're not passing any params to the constructor.\nYou don't need the include if you're using the autoloader, as you should be.\n. So what happened when you set a breakpoint in the autoloader?\n. So what happened when you set a breakpoint in the autoloader?\n. @jesuspreethi - That's not a fix - you're \"fixing\" your SMTP config by not using SMTP! The SMTP class is required if you're going to use SMTP, so use require, not include, and deal with the error if the class isn't found. It would help if you read the README which tells you exactly what files are needed and how to load them properly, and all the examples provided also do it correctly. It also looks like you've based your code on an obsolete example, so make sure you're running latest PHPMailer.\n. Have you tried doing what it says and going to https://support.google.com/mail/bin/answer.py?answer=78754 ?\n. The error posted has nothing to with firewalls. If your firewall was blocking it, it would not say anything at all. I've no idea what you mean about IPs.\nThe error is actually all about this, so I'm closing this issue in favour of that one.\n. Thanks\n. It doesn't look like your server is responding properly at all. It might not help that you're using a very old PHP. If you need custom settings for your connection, you can pass in an array of options that will be used in stream_context_create.\nCould you post your code?\n. See the recent push that fixes this issue - and thanks for giving me an incentive to clean up EasyPeasyICS!\n. Thanks for all the effort you've put in here. This all sounds very sane. I'm still in xmas mode, so I'll get back on this soon! Have a great new year!\n. Hi - I'm guessing you saw I closed the other TLS-related ticket as that's now handled with the SMTPOptions property to set stream context options. Now that we have that, it should make what you've been suggesting a bit easier. We also have opportunistic auto-TLS now too.\nAll you've said sounds very sane, and I don't have a problem causing SSL errors where it's appropriate. There have been quite a few changes recently and your patch won't apply cleanly - can you have a look at it and see how all this can fit together?\nI was planning on releasing 5.2.10 as-is tomorrow, but if you have some time to spend on this, I can postpone that.\n...and apologies for not getting back to you before.\n. This is all a bit academic now. PHP 5.6 is the only 5.x version stil current, and it solves the verification problem - it's easier to upgrade PHP than to try to resolve this for older versions.\n. Perl, Python and Ruby all did exactly the same as PHP; All started out not verifying certs, and all had exactly the same set of problems when they changed, so this isn't a PHP-specific thing at all. Those that are not upgrading PHP are unlikely to be updating PHPMailer either, so fixing things for legacy issues doesn't really help.\n. It means that either the address you are trying to connect to does not have a DNS entry, or your DNS is not working. Please read the troubleshooting guide. You also need to update your PHPMailer.\n. It would be better to set do_debug to SMTP::DEBUG_SERVER as you're not having connection problems and the low-level stuff makes it difficult to read. The key thing is this:\n250-mx.google.com at your service, [2a01:7e00::f03c:91ff:fe73:fd6e]\n250-SIZE 35882577\n250-8BITMIME\n250-STARTTLS\n250-ENHANCEDSTATUSCODES\n250-PIPELINING\n250-CHUNKING\n250 SMTPUTF8\nNotice that this list includes STARTTLS but not AUTH. This is because you need to issue STARTTLS, then EHLO a second time, after which it will return a different capabilities list that will include AUTH. If you look at how PHPMailer drives the SMTP class, you'll see that this is what it does, which is why it works.\nDid you also post this on StackOverflow as 'Arbiter'?\n. The SMTP test script is only intended to be a simple example of how to use the SMTP class rather than achieving anything particular. It's not set up for TLS, which is why it's not working for you. The PHPMailer class takes all that into account and drives it properly, which is why that's working.\n. @Sathiesh Please do not hijack unrelated issues. You do not have an authentication issue, you have a TLS problem. Read the docs that cover this extensively, and update your old version of PHPMailer.. @Sathiesh Please do not hijack unrelated issues. You do not have an authentication issue, you have a TLS problem. Read the docs that cover this extensively, and update your old version of PHPMailer.. Thanks\n. You can't - 'Received' headers are added automatically by the mail transports, not by PHPMailer. If you want to say something better than 'unknown', make sure your reverse DNS is set up.\n. Check that the generated message is formatted correctly - you can get a copy of the message by doing this just before you send:\nphp\n$mail->preSend();\n$message = $mail->getSentMIMEMessage();\n$message will then contain a copy of the message. If there is any difference between this and what you see in outlook, then it's outlook that is making the changes.\n. Update your PHPMailer - you are using an old version.\nIn your code you should have something like:\nphp\nif (!mail->send()) {...\nAdd this just before that:\nphp\n$mail->preSend();\n$bodyMsg = $mail->getSentMIMEMessage();\necho $bodyMsg;\nIt will make a mess, but you will be able to see the exact text that is being sent - if it is different to what you receive, then outlook is altering your message's content.\n. Yes, you should load the autoloader. If you're sending via SMTP and you only include the phpmailer class, it will break in recent versions, so if it's not breaking, you're not using a recent version. Also all your method calls start with capitals - this was fixed quite a long time ago in all the code, examples and documentation, so it looks like your own code is based on old examples.\n. Using an external URL as the cid seems like a really bad idea, given that both outlook and hotmail are generally horribly buggy in handling URLs. Also your HTML quoting is a bit messed up. \nNormally you'd use a simple string that doesn't look like a URL, and the easiest way to make a unique one is to just hash it - md5 will do fine. Something like this:\nphp\n$path = 'images/logo_newsletter.jpg';\n$cid = md5($path);\n$mail->AddEmbeddedImage($path, $cid, 'ImmagineLogo');\nThen in your HTML:\nhtml\n<img src=\"cid:<?php echo $cid; ?>\" alt=\"Logo\" data-embeded=\"auto\" style=\"vertical-align: top; border: 0px none transparent; border-radius: 0px; width: 330px;\" width=\"330\">\nThe point of all this is that a cid protocol URL refers to a resource within the current message, not somewhere else. If you want to point at an image somewhere else, just put the URL in your image tag directly; you don't need to embed it.\n. Note that you can avoid all of this messing about with cids by setting your content with the msgHTML() function. If you provide you local image path it will automatically embed images and set cids for you.\n. There's not much you can do about that. Some ISPs (particularly gmail) are getting quite aggressive about pre-caching email images so it's becoming harder to track opens.\n. Live without it? Rely on redirected clicks for tracking.\n. The code in the unit tests shows how it's used - just pass in your HTML body and a path to your images.\n. Please don't post unrelated comments on closed posts. You are not using AddEmbeddedImage.\nHandle your uploads correctly: look at the examples provided with PHPMailer, particularly the send_file_upload one.\n. @gusbemacbe Please don't comment on unrelated, closed issues; Create a new one.\nWhile I'm here, there's nothing preventing you from adding any file type as an \"embedded image\", but whether it will be displayed well is entirely up the client app, not PHPMailer. You will need to specify a MIME type manually; I've just added the SVG MIME type to PHPMailer 6.0, and it is image/svg+xml.. I've been reading RFC4954, and this behaviour seems to be acceptable, and it's not clear if it was allowed in the previous RFC2554. The auth parameter is optional - including it in the initial AUTH command is an optimisation (it saves a round-trip), but it should not fail if it's not there, so this looks more like an EXIM problem.\n. Good thought, sounds like a likely explanation - things like dev tools might do something similar.\n. Just wrap a condition around it and enable/disable it in your config?\nYou could try running a fake SMTP server, there are some links in the examples folder - I use https://github.com/Nilhcem/FakeSMTP\n. The code that calls PHPMailer, something like:\nphp\nif ($config['enable_email']) {\n   $mail = new PHPMailer;\n  ...\n}\n. Whatever works for you. If you're not going to send you could just skip the message building steps too.\n. @Parvezkhan you need to define \"not working\" and read the troubleshooting guide. Please don't post comments on unrelated, closed tickets.\n. Calling isSMTP makes PHPMailer send directly via SMTP. If you don't call it, it submits to your local mail server instead using the php mail() function. If you don't have a local mail server (e.g. because you're running Windows), then SMTP is the only choice. It's quite possible for you to request SMTP and then fail to set other required params and have it fail. On the other hand, if you send via SMTP to a bad address it will probably fail immediately, but submitting via mail will succeed, but fail later, which could be what's happening in your case.\n. Implemented in the 5.2.11 release.\n. This is a nice idea, thanks. I'm not convinced about setting it as a param for send() though. There is already a callback mechanism in PHPMailer (see doCallback() and actionFunction) that could probably be adapted to provide this service (and they may need some attention anyway).\nIn its current form, you need to make the listener param for send() optional ($listener = null) otherwise you break everything - see the travis errors.\nAlso it should be labelled as a callable in the docblock, and called using call_user_func, which is more reliable than using a variable function - see the html2text callback as an example.\n. No, I'm not at FOSDEM.\nFor the callbacks it might be interesting to build a more flexible mechanism around the existing one. The current one is very simple and doesn't do much (I've not heard of anyone using it). Perhaps allow registration for various different events (defaulting to the current behaviour), but add options for additional callbacks. These days I'm wary of adding too many things to PHPMailer since it's already on the heavy side.\nActually the reliabilty thing was not in the html2text method, it is in edebug - you can see there it has a check for existing output patterns - this is because a string can be considered callable if it contains the name of a built-in PHP function, such as 'echo', and in that case it caused unexpected behaviour because of the name clash. I don't think that applies here.\n. Thanks\n. Your code is based on an old example, so make sure you're using a recent one from the examples folder, and the current release of PHPMailer. The troubleshooting docs may help too. Try setting SMTPDebug = 3 to get more verbose output.\n. You just need to edit the script and change the hosts, port, user and password. I'd suggest running from a cli - just php smtp_check.php. It doesn't do much - it's really intended as a simple example of how to use the SMTP class on its own.\n. Did you get to the bottom of this?\n. Well, I know because I wrote that spec, but I don't think it's a good idea as PHPMailer gets used in lots of non-HTML5 contexts, and it's not really its job to be restrictive. If you want it to be, it can, but it should not do it by default. Also that spec needs an update for the possibilties offered by the SMTPUTF8 extension that google now supports.\n. Thanks\n. Make sure you're using latest PHPMailer, post your code, and the full error.\n. You may be using the latest version, but you've based your code on an an obsolete example.\nThat's not your complete code; please post the rest of it.\nDid you even try searching for that error message? This answer is what you should look at first, rather than repeating myself here.\n. I wonder if your mail server doesn't like your BCC being the same as To and From. You need to check your mail server logs - it should say why it's failing. Otherwise you can use SMTP to localhost (which may be faster anyway), which will let you get more detailed debugging info, though you'll need to update your code to look like one of the bundled examples.\n. Please don't hijack unrelated tickets, open a new one. I need to see your code, you need to look at your SMTP transcript and in your mail server logs.\n. Post your code.\n. Oh well - that's the rubber-duck effect that writing a good bug report encourages!\n. The most likely explanation is that your input text isn't in UTF-8, but in an 8-bit Arabic charset like ISO-8859-6.. That looks like you may have corrupt characters in your original text. If it was getting the charset wrong, the russian text would not look right (unless it's actually using an 8-bit Russian charset). Can you try a minimal example, and I suggest you validate your UTF-8 text before putting it in the email.\n. Please post a minimal example otherwise I have no way of helping you.\n. PHPMailer works just fine with PHP 5.6 - it's in the automated testing config. You're probably running into the fact that PHP 5.6 now verifies SSL certificates by default, and if you connect to a server that doesn't verify, the connection will fail. Diagnose your situation using openssl. if this is what's happening, you can provide additional params to the SMTP connection to tell it not to verify certificates, though of course that means your connection is no longer secure.\nYou should avoid using ssl on port 465 - it's been deprecated since 1998! Use TLS (SMTPSecure = 'tls') on port 587.\n. Yes.\n. Sounds like you have a corrupted file, failed upload or something. I suggest you replace the file.\n. I'm very suspicious of your server! If you open the file on the server, does it look ok? Maybe something is amiss with an opcode cache?\n. Sounds like your server's PHP is not configured correctly, or is lacking a mail server, or both. Try using isSMTP() and a mail server elsewhere (e.g. gmail) to work around it while you're looking for a server that's not rubbish!\n. Can you double check that the correct SMTP class is being loaded? Stick an \"echo 'hello'\" in it to be sure. The method definitely exists, so it must either be not loading the class, or loading some other SMTP class.\n. I know this is not an uncommon practice, but I find it hinders readability which I think is far more likely to cause a problem. Confusion between & and && is far more likely (if we're talking about defensive coding); this prints false:\nphp\n$i = 1;\n$j = 1;\n$a = isset($i) & isset($j);\nvar_dump(true === $a);\nThis is a slightly curious example: doing $a = isset($i) and isset($j); instead would give the right answer, but for the wrong reason.\nThe only place where it makes any difference is in assignments and ternary expressions (which are generally frowned-upon anyway), so there is less than zero benefit in doing it in things like if conditions. As @eexit implied, there are no assignments that even have a possibility of confusion in PHPMailer.\nYou mention standardisation, but this operator preference is not even mentioned in any of the common coding standards (I checked Pear, Pear2, Zend, Symfony2, PSR-1/2, Drupal, CakePHP, Wordpress, Typo3), nor any of the usual code sniffers (phpmd, phpcs). The only ones I found that expressed a preference (Kohana and CodeIgniter) prefer and. Some of them express a preference for exact truth over truthiness, where & vs && is more problematic. Since I'm pretty much the only one working on the code, and I'm well aware of operator precedence, I'm not that keen on making it less readable for myself!\nA more defensible defensive measure would be to ensure all scalar comparisons can't be confused with assignments, i.e. if (1 == $a) rather than if ($a == 1).\n. I've asked scrutinizer to sort out that inspection.\nI was tempted to close this as it's not worth the BC break for what amounts to a cosmetic change, but if you want to do what Ivan suggested, I'll accept that.\n. I've changed my mind on this - I don't think it's worth doing. Because setWordWrap() is called by createBody(), there should never be a need to call it yourself (as it just means it would be called twice), so it doesn't matter what it's called. It should really have been a protected method as it's only really relevant for internal use, but it's too late for that.\n. You could try reading the docs. Set SMTPDebug = 0.\n. No. I've not made any changes in the last couple of days, and this sounds like a local config issue with git/composer rather than anything to do with a specific package.\n. This is covered in the troubleshooting docs. PHP 5.6 verifies SSL certificates by default, and if your cert doesn't match, it will fail with this error. The correct solution is to fix your SSL config - it's not PHP's fault!\nIf you're sending on localhost you can use isMail() and it won't go through an encryption layer at all.\n. \"Perfect\" in the sense that you can't detect servers presenting fake credentials, the whole reason this change was made in PHP 5.6. As I said, the correct solution is to fix your SSL, not live with the breakage.\nNote that the connect function provides an options parameter in which you can do this without changing the code.\n. This is fixable without touching library code; just do this:\nphp\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\nWhile that's neat and tidy, it doesn't change the fact that your SSL config is broken :wink:\n. In your own code, in the same place you set all the other PHPMailer options.\n. Neither - in your own code.\n. No, don't do that - you do not need to call smtpConnect() because PHPMailer does it for you whan you call send(), so doing that results in it trying to connect twice, which will probably fail. This is why the SMTPOptions property exists. Similarly, you don't need to call smtpClose() either as it's done for you.\n. Yes, it's exactly the error this closed ticket is about, and you can solve it as described in the docs already linked to. Please read before posting.\n. That sounds like you have called you PHPMailer instance something other than $mail. Use whatever you have called it instead.\n. @jimobama This error is because of a config error on your server. Follow the troubleshooting guide and it will tell you what is wrong. This is not a bug in PHPMailer, and we can't fix your server for you.\n. @jimobama This error is because of a config error on your server. Follow the troubleshooting guide and it will tell you what is wrong. This is not a bug in PHPMailer, and we can't fix your server for you.\n. As already mentioned several times in this thread, read the docs. You can work around this for your entire server by setting PHP to not validate certificates in your php.ini, however, you should be aware that this is the wrong way to fix the problem - it's the mail servers with bad configuration that are at fault, not your web server or PHPMailer.\n. I don't get the problem with Hostname. It's not hard-coded at all, it's just a public property that you can set any way you like. You already have code that creates a PHPMailer instance, sets destinations etc, presumably from some local app config/database that does not get replaced when you update, so why can't you set Hostname then?\n. Thanks. Quite a lot of it is outdated and needs updating, but that's a good start.\n. I've rewritten, corrected and cleaned this up substantially, changed URL to https://github.com/PHPMailer/PHPMailer/wiki/Tutorial.\n. This may be tricky if you have more than one recipient, but try looking at what's you get from $mail->getSMTPInstance()->getLastReply();.\n. Looking at it a bit more, I think you need to subclass the SMTP class and override the recipient() method to pull out those replies at the right time - from the PHPMailer class you only see the send() function so my suggestion above will only return you the last thing the server said.\n. The recipient function is hidden inside the SMTP class, you don't call it directly. You would subclass like this:\n``` php\n<?php\nrequire 'PHPMailerAutoload.php';\nclass mySMTP extends SMTP\n{\n    public function recipient($toaddr)\n    {\n        $res = parent::recipient($toaddr);\n        if (!$res) {\n            echo 'Help, help I\\'m being repressed! ' . $this->last_reply;\n        }\n    }\n}\n//Then tell PHPMailer to load it using a subclass:\nclass myMailer extends PHPMailer\n{\n    public function getSMTPInstance()\n    {\n        if (!is_object($this->smtp)) {\n            $this->smtp = new mySMTP;\n        }\n        return $this->smtp;\n    }\n}\n//Then carry on as normal\n$mail = new myMailer;\n```\nFor sending to a list, reusing the instance, clearing etc, check out the mailing list example.\nThe call to AddAddress suggests you have started with an old example - all function names and examples were changed to have a lower-case first letter a year or so ago.\n. The problem is that the S/MIME signing is done with openssl, which returns a complete MIME structure including both header and body, but that is done in the function that creates the body. The branch I just pushed splits that up and adds the new headers into the mailHeaders property, leaving the body without headers as it should be. The resulting structure looks right in both SMTP and Mail modes for me, but please check it out before I merge it. There is so much spaghetti relating to headers :(\n. I've just pushed another commit to that branch. It's now using explode.\nI had been testing with getSentMIMEMessage(), but it produces different results than an actual send. I'm now adding the headers into MIMEHeader directly (it could probably use wrapping in secureHeader or something). The structure on send is now coming out right for me, but getSentMIMEMessage is gaining an extra line break.\nThis is the test example I'm using (along with a local fake mail server on port 2500):\n``` php\n<?php\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$dn = array(\n    'countryName' => 'UK',\n    'stateOrProvinceName' => 'Here',\n    'localityName' => 'There',\n    'organizationName' => 'PHP',\n    'organizationalUnitName' => 'PHPMailer',\n    'commonName' => 'PHPMailer Test',\n    'emailAddress' => 'phpmailer@example.com'\n);\n$password = 'password';\n$certfile = 'certfile.txt';\n$keyfile = 'keyfile.txt';\n$pk = openssl_pkey_new();\n$csr = openssl_csr_new($dn, $pk);\n$cert = openssl_csr_sign($csr, null, $pk, 1);\nopenssl_x509_export($cert, $certout);\nfile_put_contents($certfile, $certout);\nopenssl_pkey_export($pk, $pkeyout, $password);\nfile_put_contents($keyfile, $pkeyout);\n$mail->addAddress('xxx@xxx.cz');\n$mail->Subject = \"MIME sign Test\";\n$mail->sign($certfile, $keyfile, $password);\n$mail->msgHTML('Hello everyone');\n//$mail->isMail();\n$mail->isSMTP();\n$mail->Host = 'localhost';\n$mail->Port = 2500;\n$mail->Send();\n//$mail->preSend();\nvar_dump($mail->getSentMIMEMessage());\n``\n. Can you give this latest a go please? It's got a few other bits rolled in from other changes relating to message signing and headers. I'm not too worried about the extra break as it occurs in the multipart root, which is generally never seen, and is harmless - it's more important the broken headers are fixed!\n. Thanks\n. The PHP 7 and hhvm builds are failing due to a VM config issue - but these build types are not documented. I'm asking on irc how they can be fixed.\n. I've been doing some experiments iterating over the lines of an 500,000-line 18Mb string.explodeis by far the fastest approach (because it's a single call), but it's also the most memory-heavy (about 9x source string). Next up is streams - temp and memory streams use a copy of the the source string in memory (i.e. 36M in all), and take about twice as long. Next I tried splitting off the first line withstrcspnthen grabbing the line withsubstr. This uses no additional memory, but takes about 3x as long. A method usingstrtok` (what a horrible function!) consumes no additional memory and is only about 50% slower, but it skips blank lines, so is useless here. Any better ideas?\nSo, the current implementation prioritises performance over memory, and will only be a problem for large attachments, as you're finding. You could subclass the SMTP class and provide an alternative implementation as a workaround.\nI'm not too keen on compromising performance in this area - the data method in the SMTP class this appears in is a major bottleneck for performance - the tiny strlen microoptimisation that's in there resulted in a >20% speedup!\nFWIW, these are my two loop structures:\nphp\n$offset = 0;\n$len = strlen($msg_data);\nwhile ($offset < $len) {\n    $linelen = strcspn($msg_data, \"\\n\", $offset);\n    $line = substr($msg_data, $offset, $linelen);\n    $offset += ($linelen + 1);\n}\nphp\n$fp = fopen(\"php://temp/maxmemory:20000000\", 'r+');\nfputs($fp, $msg_data);\nrewind($fp);\nwhile ($line = fgets($fp)) {\n}\nfclose($fp);\n. The place this is happening has no knowledge of attachments or anything else - it's simply an implementation of the SMTP DATA command; the same function is used for your entire message - headers, message bodies, attachments etc, just treated as one big string. base64 is fine for binary attachments, but it's a bad idea for normal message bodies as it makes them unnecessarily large and will often get marked down by spam filters.\nWhy are you sending a backup by email? It would be far more efficient (and more secure) to scp/rsync/sftp it somewhere.\n. Sure it's valid, and so is my suggested solution! You're saying it's preferable to slow down every message in order to cope with one edge case that has a workaround?\n. Here's a low memory implementation of the data function in a subclass - load it as as per the link I posted earlier.\n``` php\n<?php\nclass SMTP_lowmemory extends SMTP {\n    public function data($msg_data)\n    {\n        //This will use the standard timelimit\n        if (!$this->sendCommand('DATA', 'DATA', 354)) {\n            return false;\n        }\n    /* The server is ready to accept data!\n     * According to rfc821 we should not send more than 1000 characters on a single line (including the CRLF)\n     * so we will break the data up into lines by \\r and/or \\n then if needed we will break each of those into\n     * smaller lines to fit within the limit.\n     * We will also look for lines that start with a '.' and prepend an additional '.'.\n     * NOTE: this does not count towards line-length limit.\n     */\n\n    // Normalize line breaks\n    $msg_data = str_replace(array(\"\\r\\n\", \"\\r\"), \"\\n\", $msg_data);\n\n    /* To distinguish between a complete RFC822 message and a plain message body, we check if the first field\n     * of the first line (':' separated) does not contain a space then it _should_ be a header and we will\n     * process all lines before a blank line as headers.\n     */\n\n    $firstline = substr($msg_data, 0, strcspn($msg_data, \"\\n\", 0));\n    $field = substr($firstline, 0, strpos($firstline, ':'));\n    $in_headers = false;\n    if (!empty($field) && strpos($field, ' ') === false) {\n        $in_headers = true;\n    }\n\n    $offset = 0;\n    $len = strlen($msg_data);\n    while ($offset < $len) {\n        //Get position of next line break\n        $linelen = strcspn($msg_data, \"\\n\", $offset);\n        //Get the next line\n        $line = substr($msg_data, $offset, $linelen);\n        //Remember where we have got to\n        $offset += ($linelen + 1);\n        $lines_out = array();\n        if ($in_headers and $line == '') {\n            $in_headers = false;\n        }\n        //We need to break this line up into several smaller lines\n        //This is a small micro-optimisation: isset($str[$len]) is equivalent to (strlen($str) > $len)\n        while (isset($line[self::MAX_LINE_LENGTH])) {\n            //Working backwards, try to find a space within the last MAX_LINE_LENGTH chars of the line to break on\n            //so as to avoid breaking in the middle of a word\n            $pos = strrpos(substr($line, 0, self::MAX_LINE_LENGTH), ' ');\n            //Deliberately matches both false and 0\n            if (!$pos) {\n                //No nice break found, add a hard break\n                $pos = self::MAX_LINE_LENGTH - 1;\n                $lines_out[] = substr($line, 0, $pos);\n                $line = substr($line, $pos);\n            } else {\n                //Break at the found point\n                $lines_out[] = substr($line, 0, $pos);\n                //Move along by the amount we dealt with\n                $line = substr($line, $pos + 1);\n            }\n            //If processing headers add a LWSP-char to the front of new line RFC822 section 3.1.1\n            if ($in_headers) {\n                $line = \"\\t\" . $line;\n            }\n        }\n        $lines_out[] = $line;\n\n        //Send the lines to the server\n        foreach ($lines_out as $line_out) {\n            //RFC2821 section 4.5.2\n            if (!empty($line_out) and $line_out[0] == '.') {\n                $line_out = '.' . $line_out;\n            }\n            $this->client_send($line_out . self::CRLF);\n        }\n    }\n\n    //Message data has been sent, complete the command\n    //Increase timelimit for end of DATA command\n    $savetimelimit = $this->Timelimit;\n    $this->Timelimit = $this->Timelimit * 2;\n    $result = $this->sendCommand('DATA END', '.', 250);\n    //Restore timelimit\n    $this->Timelimit = $savetimelimit;\n    return $result;\n}\n\n}\n```\nIt's untested, but based on the loop code I was playing with. Let me know if / how well it works for you.\n. The SMTP DATA command just sends one string with limitations on line length, hence the need to break it into lines to process them individually. This requirement exists only at this low level - pushing it further upstream (into the PHMailer class) would break encapsulation and make the data command unusable. The SMTP class doesn't need to know about message structure (you can use it without PHPMailer), and the PHPMailer class doesn't need to know about SMTP line length limits.\nexplode happens to be by far the fastest and most convenient way to do break a string into lines - as above, you've seen there are other ways of doing it that are more memory efficient, but much slower and given that the vast majority of messages are sufficiently small not to run into memory issues, there is no particular reason to choose an implementation that's deliberately slow. No library can be everything to everyone - this is why subclassing is an entirely normal thing to do.\n. Define \"Doesn't work\".\n. Try setting SMTPDebug to 3 or 4 for lower-level output.\n. Look at the first line of your output:\nConnection: opening to mail.mapeando.net:587, t=10, opt=array ()\nOptions is empty. If you read above, you'll see there's a comment about that - access to the options array isn't straightforward in 5.2.9, however, I have just pushed a change in ab36b539a6a76cbf06b394fa64d8af60cb2b024c that exposes it in a simple way that will appear in the next release; you will just need to do this:\nphp\n$mail->SMTPOptions = array...\nIt's available now in HEAD, please give it a try.\n. Look at the first line of your output:\nConnection: opening to mail.mapeando.net:587, t=10, opt=array ()\nOptions is empty. If you read above, you'll see there's a comment about that - access to the options array isn't straightforward in 5.2.9, however, I have just pushed a change in ab36b539a6a76cbf06b394fa64d8af60cb2b024c that exposes it in a simple way that will appear in the next release; you will just need to do this:\nphp\n$mail->SMTPOptions = array...\nIt's available now in HEAD, please give it a try.\n. autotls has now been merged into master and will be in the 5.2.10 release.\n. autotls has now been merged into master and will be in the 5.2.10 release.\n. Thanks\n. I agree that this is better put into a custom header - the mail servers I use do exactly this for the same purpose. The way these boundaries are created is not pretty, but it's a side effect of PHPMailer's preset MIME structures, and at least it's consistent.\n. You can always subclass and implement this the way you want - that is much of the point of a library.\n. Try using the gmail example provided, and read the docs.\n. So if your server can't see the network, why do you expect it to be able to send email? Find out what's wrong (using the guide I pointed you at), fix your network, and PHPMailer will work.\n. @vjkrmca Read this thread, read the docs, don't hijack tickets.. Sounds like you just need to make sure you're using the right path to the autoloader. I don't think this is anything to do with SELinux.\n. One other thing - PHP 5.3 is no longer supported, and 5.4 expires in 5 months. if you're doing anything new you should be on 5.6.\n. Try loading the autoloader using an absolute path to be sure.\nPHPMailer supports PHP versions all the way back to 5.0, but 5.3 (and older) is no longer getting security updates, so running it is risky.\n. This really hasn't changed. The error you're getting is arising before any PHPMailer code is run, so it can't be anything that's in the files. Are the permissions correct on your new copy folder and files?\n. If it is SELInux, it should be logging the block. You could also momentarily turn it off to see if it's responsible.\n. The execute bit generally should not be set on PHP files run by your web server. You need to cut this back to a minimal test case to isolate the problem - write a script that does nothing but include the PHPMailer autoloader from an absolute path, i.e just this:\nphp\n<?php\nrequire '/absolute/path/to/PHPMailerAutoload.php';\nSomething else to try - su to the user it's being run as and see if you can read the PHPMailer files.\n. Mysterious! Glad you fixed it.\nOne observation - your SMTP check (though you're not using it) could be improved a little, avoiding setting Mailer directly:\nphp\nif($site['smtp_mode'] == 'enabled') {\n    $this->isSMTP();\n    $this->Host = $site['smtp_host'];\n    $this->Port = $site['smtp_port'];\n    if($site['smtp_username'] != '') {\n         $this->SMTPAuth  = true;\n         $this->Username  = $site['smtp_username'];\n         $this->Password  =  $site['smtp_password'];\n    }\n}\n. That's a problem with your Exchange server, not PHPMailer!\n. Your server is allowing sending by someone with the wrong credentials - if it's set up correctly it will deny the client the ability to send. Yours is not. It's nothing to do with the client.\n. Port 135? That port is used by Outlook for Exchange RPC services. If that server is set up to receive email for that address, then port 25 submission will not require a login (i.e. it looks like normal inbound SMTP). It may be that your Exchange server accepts SMTP on that port, but whatever it is doing, it's not PHPMailer's problem!\n. I'm not entirely clear what this does - could you post example of what it does before and after your changes please?\n. I'm not entirely clear what this does - could you post example of what it does before and after your changes please?\n. OK, that's clear, thanks.\n. OK, that's clear, thanks.\n. This was fixed years ago. Please don't report bugs in old versions.\n. This was fixed years ago. Please don't report bugs in old versions.\n. I don't think this is true. For example, the notification I received for this ticket was sent with a from header of kenITR <notifications@github.com>, and a reply-to header of PHPMailer/PHPMailer <reply+00013e9984b60787b72092dcab6264a91abe472716e1deb492cf00000001113a79a492a169ce03f8f925@reply.github.com>. When I hit reply in iOS mail, it created a message addressed to the reply-to address, not the from address. I see that you said reply_to, not reply-to, so make sure you're not doing that wrong - use PHPMailer's built-in reply-to support, don't roll your own custom header.\n. I don't think this is true. For example, the notification I received for this ticket was sent with a from header of kenITR <notifications@github.com>, and a reply-to header of PHPMailer/PHPMailer <reply+00013e9984b60787b72092dcab6264a91abe472716e1deb492cf00000001113a79a492a169ce03f8f925@reply.github.com>. When I hit reply in iOS mail, it created a message addressed to the reply-to address, not the from address. I see that you said reply_to, not reply-to, so make sure you're not doing that wrong - use PHPMailer's built-in reply-to support, don't roll your own custom header.\n. It doesn't matter which server it's from as it's a client issue. Forging From addresses will always run into SPF trouble, so it's really worth avoiding - people are always running into this on contact forms, and this isn't much different. SMTP doesn't care about headers at all, only the envelope (set via Sender in PHPMailer).\n. It doesn't matter which server it's from as it's a client issue. Forging From addresses will always run into SPF trouble, so it's really worth avoiding - people are always running into this on contact forms, and this isn't much different. SMTP doesn't care about headers at all, only the envelope (set via Sender in PHPMailer).\n. No, because ultimately mail() is just a single function call, and we can't see what happens inside it from PHP. You can however see what's happening by looking at the logs of your local mail server. You may find that you get better performance by using SMTP to localhost than using mail() anyway, and you can obtain more debug info that way too.\n. No, because ultimately mail() is just a single function call, and we can't see what happens inside it from PHP. You can however see what's happening by looking at the logs of your local mail server. You may find that you get better performance by using SMTP to localhost than using mail() anyway, and you can obtain more debug info that way too.\n. You need to call addAddress for each To recipient. Sounds like you're calling addBCC. When making a bug report, include short example code that shows the problem happening.\n. You need to call addAddress for each To recipient. Sounds like you're calling addBCC. When making a bug report, include short example code that shows the problem happening.\n. Post your code.\n. Post your code.\n. You've based that on an obsolete example (start with the supplied Gmail one), so you're probably using an old version of PHPMailer too.\n. You've based that on an obsolete example (start with the supplied Gmail one), so you're probably using an old version of PHPMailer too.\n. In the code you posted, the address you used in this line is invalid and will result in a send failure or an empty To header:\n$mail->AddAddress('myemailid','irshad');\n\nI appreciate you may have changed this so you didn't post your actual address, but this is the most important line in the entire script when it comes to this specific issue, so make sure it's correct. Check the return value from this function. Also, just like the original poster, you have based your code on an old example, so make sure you're running the latest PHPMailer.. OK, so check the return value from that, and also enable debug output with $mail->SMTPDebug = 2; and inspect the SMTP traffic to see why it's not appearing.. You also have $mail->Port = 465; and $mail->Port = 587;; the latter will be used (and is correct since you're using SMTPSecure = 'tls'), but suggests you're not looking at this too hard.\nAs far as going into the spam folder is concerned, you have no direct control over that, but you should implement SPF and ideally DKIM & DMARC too, and ensure you have a good sending reputation for your IP, and that your content is not considered spam (received headers may tell you more about why your message is in the spam folder) - though all of these are outside the scope of PHPMailer alone.. Thanks\n. Thanks\n. Thanks\n. Thanks\n. @ooxi's quite right: PHPMailer doens't touch your content, other than for encoding and perhaps line wrapping (why do you have no line breaks?).\nOne obvious thing is that you're not sending a complete HTML document, just a fragment. It's very unlikely this will render reliably.\n. @ooxi's quite right: PHPMailer doens't touch your content, other than for encoding and perhaps line wrapping (why do you have no line breaks?).\nOne obvious thing is that you're not sending a complete HTML document, just a fragment. It's very unlikely this will render reliably.\n. Yes, CSS and HTML are very poorly supported by many mail clients. Take a look here. You need to code very defensively if it's going to render consistently, and test in all your target clients using services like email on acid and litmus. The delivery mechanism doesn't have any impact, and so PHPMailer has nothing to do with how it looks or what recipients do to it.\n. Yes, CSS and HTML are very poorly supported by many mail clients. Take a look here. You need to code very defensively if it's going to render consistently, and test in all your target clients using services like email on acid and litmus. The delivery mechanism doesn't have any impact, and so PHPMailer has nothing to do with how it looks or what recipients do to it.\n. Exactly as I suggested - by using very conservative markup and testing in multiple clients. One important step is inlining (e.g. using Ink's inliner) - converting head-tag style sheets into inline styles. It's not something you want to do until your design is complete as it makes a big mess of your markup.\n. Exactly as I suggested - by using very conservative markup and testing in multiple clients. One important step is inlining (e.g. using Ink's inliner) - converting head-tag style sheets into inline styles. It's not something you want to do until your design is complete as it makes a big mess of your markup.\n. Please read the docs. Like the example you posted suggests, addEmbeddedImage is for adding something from a local filesystem path, not a URL. If you want to load an image from a URL, fetch the contents of your remote file using file_get_contents and pass it to addStringEmbeddedImage instead. Embedding it yourself is defeating much of the point of using a library.\nAnd yes, gmail changes your code; get used to it. You could try not using embedded images and link to them instead; that's generally more reliable.\n. Please read the docs. Like the example you posted suggests, addEmbeddedImage is for adding something from a local filesystem path, not a URL. If you want to load an image from a URL, fetch the contents of your remote file using file_get_contents and pass it to addStringEmbeddedImage instead. Embedding it yourself is defeating much of the point of using a library.\nAnd yes, gmail changes your code; get used to it. You could try not using embedded images and link to them instead; that's generally more reliable.\n. This kind of change is really not worth doing. Notice that not a single one is on any kind of critical path, so the time and memory improvements will be immeasurably small and make no quantifiable difference to PHPMailer. The difference between . and , has dropped dramatically in recent versions of PHP, in some cases down to less than 2%, which is well into statistical noise on something that is only run once and only takes 0.000001 sec anyway.\nI think I'd go as far as to say that it's actually doing more harm than good - given that this syntax is used in only a single context in the entire PHP language, it's more likely to confuse and become a source of other problems, certainly more likely than it is to provide any meaningful performance gain. There might be other situations where very large numbers of things are echoed (perhaps in a tempting system), but that does not happen in PHPMailer.\n. This kind of change is really not worth doing. Notice that not a single one is on any kind of critical path, so the time and memory improvements will be immeasurably small and make no quantifiable difference to PHPMailer. The difference between . and , has dropped dramatically in recent versions of PHP, in some cases down to less than 2%, which is well into statistical noise on something that is only run once and only takes 0.000001 sec anyway.\nI think I'd go as far as to say that it's actually doing more harm than good - given that this syntax is used in only a single context in the entire PHP language, it's more likely to confuse and become a source of other problems, certainly more likely than it is to provide any meaningful performance gain. There might be other situations where very large numbers of things are echoed (perhaps in a tempting system), but that does not happen in PHPMailer.\n. Post your code to reproduce the problem.\n. Post your code to reproduce the problem.\n. This isn't specific to PHPMailer, but all solutions will amount to the same thing: don't forge a from address you don't have permission to send from. Fix your SPF record and it will work. Reply-to is not subject to SPF, so it's safe to use that.\n. This isn't specific to PHPMailer, but all solutions will amount to the same thing: don't forge a from address you don't have permission to send from. Fix your SPF record and it will work. Reply-to is not subject to SPF, so it's safe to use that.\n. How are you running this code? Command line?\n. How are you running this code? Command line?\n. I'd bet that something is causing your page to load twice, perhaps a browser extension. If you view source on the two emails you receive, do they have different message IDs? If so, that's the problem. You can confirm this more visibly by doing something like appending a random value to your subject line so that the messages look different:\nphp\n$mail->Subject = $subjectMailUser . rand();\n. I'd bet that something is causing your page to load twice, perhaps a browser extension. If you view source on the two emails you receive, do they have different message IDs? If so, that's the problem. You can confirm this more visibly by doing something like appending a random value to your subject line so that the messages look different:\nphp\n$mail->Subject = $subjectMailUser . rand();\n. Merci!\n. Merci!\n. Thanks\n. Thanks\n. I don't know what limitations Amazon imposes on email, but it sounds like your mail server is misconfigured.\n. This is nothing to do with PHPMailer. Your error_log php.ini directive is pointing somewhere invalid or forbidden by safe_mode. It's perfectly legitimate for errors to be logged while email still sends.\nYou're also using an old version of PHPMailer, so update it.\n. Sorry, yes - I'm too used to working with unreleased code!\nStill, your error_log directive looks like it's got a problem. There are some changes in the master branch that may have some effect on this, but check your ini settings first.\n. I'm not going to be in any great hurry to help you when\n- You don't even read what it says in the errors\n- You don't bother to read the documentation on this problem\n. Why are you using copy instead of move_uploaded_file? Also you are not checking that the uploads exist before trying to use them. addAttachment takes two parameters: the path to the local file, and the name you want to give the file, so do this:\nphp\n$messaggio->AddAttachment('foto-inviate/'.$allegato_name, $allegato_name);\n$messaggio->AddAttachment('foto-inviate/'.$allegato2_name, $allegato_name);\nLook at this example.\nPlease make sure you're using the latest version of PHPMailer.\n. Thanks\n. If you don't call isSMTP, it will send using PHP's built-in mail() function, which will send via a local mail server if you have one. This may mean you fail things like SPF checks - your local mail server log will tell you why it failed.\nIt's pretty unusual to allow unencrypted authentication on port 25 - I would expect you to be using SMTPSecure = 'tls' and Port = 587 on any modern mail server.\n. No, it's just that if you send using mail(), it will have the source IP of your MAMP install, rather than the SMTP host you were using when sending via SMTP. You can check SPF configs using Scott Kitterman's test page, or any other tool that does DNS lookups (like dig).\n. I don't know that it's wrong, but it's a bit unusual. Try doing this:\nphp\n$mail->SMTPAuth = true;\n$mail->SMTPSecure = 'tls';\n$mail->Port = 587;\n$mail->SMTPDebug = 3;\nHopefully that will work, but you'll get lots more feedback either way.\nI just released a new version of PHPMailer today - it has improved SMTP error reporting, so please give that a go.\n. I just checked that server myself - as you say, it's not responding at all on ports 587 or 465, and on 25 it's just saying service unavailable. I'd say this is either a service-level firewall (e.g. it only allows connections from certain places), or the mail server is having trouble. Eiteher way, there's nothing you can do about it from PHPMailer. You probably need to talk to the admin.\n. As @w3d said, it's not valid, and that behaviour is specific to gmail - it will break elsewhere, so it's not worth allowing. If you know it's a gmail address, you can always strip the dots yourself, but I'm not about to start adding per-domain filters...\n. I don't know what you mean. It does base64 encoding perfectly well (see the unit tests), and already sets the CTE header correctly.\n. Ah, ok, I can see how that can happen. It should skip the length check if the encoding is base64.\n. Using base64 for HTML bodies is generally a bad idea as it is inefficient and makes it look spammy.\n. Yep, I'm a Brit, so my style wins :smirk:. 'Licenced' is wrong in either idiom though, so I've changed that. Strictly speaking, 'license' as a noun is American English, but I can live with that.\n. Thanks\n. Yes - the LGPL license allows that, though if you distribute changes to the library itself, you need to do so under the same terms. I would advise you not to include the library directly, but use composer to install it.\n. There's nothing special you need to do. An address like that will validate fine using the default validator.\n. Well wherever your problem is, it's not in PHPMailer:\nvar_dump(PHPMailer::validateAddress('tomas.example.ab@gmail.com'));\nbool(true)\nIf your mail server is rejecting that, there's not a lot you can do, though since it's a gmail address, you could try stripping the dots.\n. Not sure how we can get more help - I've added the 'help needed' label. Could try tweeting about it.\n@fstfrognation is it working ok for you now?\n. @alexplusde That makes no sense - that article is doing exactly the same thing using nodemailer in node.js, and so is not usable in PHP. nodemailer-smtp-transport has a dependency on the xoauth2 module from npm, i.e. it's doing exactly the same thing as PHPMailer, and is using an external library. If you install PHPMailer with composer, it works exactly the same way.\n. Ah, ok I see what you mean, point taken. Given that the process for obtaining the refresh token depends on the same libraries as using the token, it's unlikely that auth will work if obtaining the token doesn't. I would expect that obtaining the token via the playground is less secure than doing it yourself as it means the signing process is not happening under your control or on your server.\n. So follow the advice in this ticket.. It's very common for browser extensions to repeat requests. PHPMailer just doesn't have a mechanism for sending multiple messages without being asked to. Did you try the random subject test described above? That will prove whether it's multiple requests. You will also see it in your web server logs.. So do what it says above. Log details.. Can anyone seeing this problem please try it with PHP 5.6.10 and 5.5.26 to see if the new build and PCRE update fixes it.\n. @Neel97 yes, read the troubleshooting guide, search on StackOverflow before posting. Your host is probably blocking outbound SMTP.. With this code it's submitting to your local mail server, which may not be configured, so it's accepting the message but not sending it on. Look in your mail server log and you should see something about it.\n. Why are you doing all that base64_encode etc with the images? You don't seem to be using $src anywhere. Are you sure that $content contains all the matching identifiers you're using in addEmbeddImage? If it's not meant to match, you should be using the simpler addAttachment instead.\nYou don't need to set WordWrap - that will be a leftover from an old example script.\nAs far as delivery goes, you're sending via your local mail server, so you need to look in your mail server log to see what is happening as that's outside PHPMailer's control.\n. OK, so it looks like you can get rid of $currImg and $src then.\nSo what does your mail server say?\n. There's nothing wrong with the PHP version matches, and none of them apply to your version anyway. What may be an issue is the version of PCRE that you are running - it's possible that you are running  a non-stock version of PHP and have a buggy PCRE version. What does your phpinfo say about PCRE?\nAlso, why are you using a 2-year-old build of 5.5?\n. See also #21 \n. Aha. I think that is the same version that has been causing issues in PHP 5.5.25 and 5.6.9 in #429. For the moment stay with your workaround, and I expect that this should be fixed by the fix for that bug too. My plan at the moment is to make that specific PCRE version fall back to the older PCRE pattern, but I want confirmation that it's fixed in the PCRE 8.37 in 5.6.10 and 5.5.26 before I do so.\n. Please post your code and an example of a mis-encoded message.\n. You are missing:\nphp\n$mail->CharSet = 'utf-8';\n. Are you getting any errors in your web server error log? Try calling validateAddress on your addresses before you try sending, and check the return value.\n. In your code, do this, where $email contains some email address that you are trying to send to.\nphp\nvar_dump(PHPMailer::validateAddress($email));\nIf this returns false, then any call to addAddress with the same address will fail too. Try doing this to show all errors:\nphp\nini_set('display_errors', true);\nerror_reporting(E_ALL);\n. OK, well I can't diagnose the problem without more info, so I suggest you open a support ticket with your hosting provider, and come back here when you have more info.\n. Sounds like you are running into #429, so I'll close this issue in favour of that one. It's very odd that when updating your PHP version, they also downgraded your PCRE lib. I guess they may have spotted other problems with it too.\n. Base your code on the gmail example provided and read the troubleshooting guide, exactly as the error message tells you. There are also over 800 questions on Stackoverflow on this exact subject.\n. Yes please, that would be helpful. I'm wondering if this has anything to do with #234\n. Thanks\n. Thanks\n. It can do it, you're just using the wrong function. Look at addStringAttachment, which you'd use like this:\n$mail->addStringAttachment(file_get_contents('http://www.menucool.com/slider/prod/image-slider-2.jpg'));\nIt's done this way because there are too many variables for PHPMailer to take on this responsibility itself, so it handles either local files or strings - anything else is up to you.\n. This will be down to your mail server or possibly your client, not PHPMailer.\n. No, just call the function. It would help if you show your code and what's happening instead of what you expect. Reply-to is a very simple thing - it's just a header, has no impact on SMTP.\n. You need to set the Sender property to the address you want bounces to go to. The receiving server will  use it to create a return-path header and ay bounces will be sent there. I also suggest you look up how to use VERP addressing for bounce handling.\n. You need to set the Sender property to the address you want bounces to go to. The receiving server will  use it to create a return-path header and ay bounces will be sent there. I also suggest you look up how to use VERP addressing for bounce handling.\n. Did it stop you following the link to the documentation that tells you how to deal with this too?\n. Did it stop you following the link to the documentation that tells you how to deal with this too?\n. Just a wild guess here, but you could go to https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting where it will tell you exactly what's wrong.\n. Just a wild guess here, but you could go to https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting where it will tell you exactly what's wrong.\n. This has nothing to do with permissions. Read the troubleshooting guide and it will tell you what you need to do with gmail - it may involve using the xoauth dev branch.\n. This has nothing to do with permissions. Read the troubleshooting guide and it will tell you what you need to do with gmail - it may involve using the xoauth dev branch.\n. If nothing is working, it just sounds like you have connectivity problems, which is what the DNS and telnet tests in the guide will tell you.\n. If nothing is working, it just sounds like you have connectivity problems, which is what the DNS and telnet tests in the guide will tell you.\n. Follow the guide. If you don't do what it says I can't help you.\n. Please don't hijack unrelated threads or post random unrelated stuff. It's not helpful.\n. Don't do that. You're undermining the point of using a library and your code will break when it gets updated. Read the docs and it tells you how to do that without altering library code.\n. 5.2.23 adds better error reporting of TLS problems if you set SMTPDebug = 3. SMTPAutoTLS is on by default as encrypted connections should be used at every opportunity, if the server offers it. Turning it off can work, but is a poor-quality workaround as it's just ignoring that either your client or server is broken.. @coder-avk, please don\u2019t hijack closed tickets. Use latest version, read the troubleshooting guide.. Thanks\n. Thanks\n. Thanks\n. Firstly, don't use such an ancient version of PHPMailer, next base your code on an up to date example, then read the documentation, especially the troubleshooting guide.\n. Firstly, don't use such an ancient version of PHPMailer, next base your code on an up to date example, then read the documentation, especially the troubleshooting guide.\n. So set the correct password??\n. So set the correct password??\n. Try setting $mail->SMTPDebug = 4 which will show you want's going on with your connections. Also check that your DNS is resolving correctly as that should cause this symptom.\n. Try setting $mail->SMTPDebug = 4 which will show you want's going on with your connections. Also check that your DNS is resolving correctly as that should cause this symptom.\n. Good tip, thanks\n. Good tip, thanks\n. Thanks\n. Thanks\n. That's an RFC2554 contravention (what a surprise, coming from Exchange!) as an empty auth-type is not allowed, but you're right that it should be trapped.\n. That's an RFC2554 contravention (what a surprise, coming from Exchange!) as an empty auth-type is not allowed, but you're right that it should be trapped.\n. I've pushed a fix for this. I implemented a bit differently than you suggested - making it deal with the AUTH type fields specially when they are parsed, resulting in an empty array in server_caps if no AUTH types are listed - your Exchange server should now fail with an unknown auth type error. If you find that's not workable we could instead remove the AUTH capability from server_caps if the type list is empty.\n. I've pushed a fix for this. I implemented a bit differently than you suggested - making it deal with the AUTH type fields specially when they are parsed, resulting in an empty array in server_caps if no AUTH types are listed - your Exchange server should now fail with an unknown auth type error. If you find that's not workable we could instead remove the AUTH capability from server_caps if the type list is empty.\n. This doesn't sound like it's anything to do with PHPMailer? You need to fix your own code and if you have a problem, include the code in your report.\n. This doesn't sound like it's anything to do with PHPMailer? You need to fix your own code and if you have a problem, include the code in your report.\n. Can you provide code to reproduce this, for example using getSentMIMEMessage()? The only thing I can think of that changed recently in this area is that 5.2.10 enables quoted-printable encoding automatically if the content contains lines that are too long for a simpler transfer encoding, and there is a fix for a problem that caused (relating to base64 encoded bodies) in the master branch at the moment.\n. Can you provide code to reproduce this, for example using getSentMIMEMessage()? The only thing I can think of that changed recently in this area is that 5.2.10 enables quoted-printable encoding automatically if the content contains lines that are too long for a simpler transfer encoding, and there is a fix for a problem that caused (relating to base64 encoded bodies) in the master branch at the moment.\n. I can't reproduce this - the quoted-printable encoding works perfectly for me. Can you paste the raw text of the received message? FWIW, here's mine:\n```\nDate: Thu, 30 Jul 2015 14:24:21 +0000\nTo: Your name you@example.com\nFrom: My name me@example.com\nSubject: Test broken line wrapping\nMessage-ID: 6426a54024d4027825413d879603f9cd@Oc.local\nX-Mailer: PHPMailer 5.2.10 (https://github.com/PHPMailer/PHPMailer/)\nMIME-Version: 1.0\nContent-Type: text/html; charset=iso-8859-1\nContent-Transfer-Encoding: quoted-printable\nHTML email testThis is a testThis is a test<=\n/p>This is a testThis is a testThis is a testThis i=\ns a testThis is a testThis is a testThis is a test=\nThis is a testThis is a testThis is a testThis is a=\n testThis is a testThis is a testThis is a test=\nThis is a testThis is a testThis is a testThis is a te=\nstThis is a testThis is a testThis is a testThi=\ns is a testThis is a testThis is a testThis is a test<=\n/p>This is a testThis is a testThis is a testThis i=\ns a testThis is a testThis is a testThis is a test=\nThis is a testThis is a testThis is a testThis is a=\n testThis is a testThis is a testThis is a test=\nThis is a testThis is a testThis is a testThis is a te=\nstThis is a testThis is a testThis is a test</body=\n\n\n```\n. I can't reproduce this - the quoted-printable encoding works perfectly for me. Can you paste the raw text of the received message? FWIW, here's mine:\n\n```\nDate: Thu, 30 Jul 2015 14:24:21 +0000\nTo: Your name you@example.com\nFrom: My name me@example.com\nSubject: Test broken line wrapping\nMessage-ID: 6426a54024d4027825413d879603f9cd@Oc.local\nX-Mailer: PHPMailer 5.2.10 (https://github.com/PHPMailer/PHPMailer/)\nMIME-Version: 1.0\nContent-Type: text/html; charset=iso-8859-1\nContent-Transfer-Encoding: quoted-printable\nHTML email testThis is a testThis is a test<=\n/p>This is a testThis is a testThis is a testThis i=\ns a testThis is a testThis is a testThis is a test=\nThis is a testThis is a testThis is a testThis is a=\n testThis is a testThis is a testThis is a test=\nThis is a testThis is a testThis is a testThis is a te=\nstThis is a testThis is a testThis is a testThi=\ns is a testThis is a testThis is a testThis is a test<=\n/p>This is a testThis is a testThis is a testThis i=\ns a testThis is a testThis is a testThis is a test=\nThis is a testThis is a testThis is a testThis is a=\n testThis is a testThis is a testThis is a test=\nThis is a testThis is a testThis is a testThis is a te=\nstThis is a testThis is a testThis is a test</body=\n\n\n```\n. Thanks for the report - You are correct - QP-encoding should always use CRLF line breaks for the encoded content (RFC2045 section 6.7), so we don't need to fix encoded output, and don't need to touch input. I also added tests to check that output == input for both line break formats.\n. Thanks for the report - You are correct - QP-encoding should always use CRLF line breaks for the encoded content (RFC2045 section 6.7), so we don't need to fix encoded output, and don't need to touch input. I also added tests to check that output == input for both line break formats.\n. Are you having trouble reading the error message? Did you try clicking on the link?\n. Are you having trouble reading the error message? Did you try clicking on the link?\n. The first issue is outside PHPMailer's control. You're submitting to localhost successfully, and after that it's all handled by your local mail server, so you need to check your mail server logs to see what has happened to the messages.\n\nFor the second problem, try setting SMTPDebug = 2 so you can see more detail of the SMTP conversation.\n. The first issue is outside PHPMailer's control. You're submitting to localhost successfully, and after that it's all handled by your local mail server, so you need to check your mail server logs to see what has happened to the messages.\nFor the second problem, try setting SMTPDebug = 2 so you can see more detail of the SMTP conversation.\n. There's no built-in way, but you could subclass and implement it in a similar way to S/MIME signing.\n. There's no built-in way, but you could subclass and implement it in a similar way to S/MIME signing.\n. 502 and 504 errors are HTTP codes, not PHPMailer errors. It sounds like you have DNS or firewall issues as that is the usual reason for connection delays. Read the troubleshooting guide.\n. 502 and 504 errors are HTTP codes, not PHPMailer errors. It sounds like you have DNS or firewall issues as that is the usual reason for connection delays. Read the troubleshooting guide.\n. Don't do that; Do this, as shown in the examples, and it will take care of everything else:\n$mail->CharSet = 'UTF-8';\n. Don't do that; Do this, as shown in the examples, and it will take care of everything else:\n$mail->CharSet = 'UTF-8';\n. That link should be https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting - I'm not sure where the \"Available\" came from. As the guide says, in pretty much every case this is nothing to do with PHPMailer, but the network config on your server or ISP. Setting SMTPDebug to anything higher than 0 should produce visible output, which you have not posted here. Most of the tests described in the guide require you to SSH into your server and run the commands from there.\nThe mail function may appear to work, but it's not doing the same thing - it's sending through your local mail server, not your Gmail account. You can do the same thing with PHPMailer by calling isMail instead of isSMTP.\n. That link should be https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting - I'm not sure where the \"Available\" came from. As the guide says, in pretty much every case this is nothing to do with PHPMailer, but the network config on your server or ISP. Setting SMTPDebug to anything higher than 0 should produce visible output, which you have not posted here. Most of the tests described in the guide require you to SSH into your server and run the commands from there.\nThe mail function may appear to work, but it's not doing the same thing - it's sending through your local mail server, not your Gmail account. You can do the same thing with PHPMailer by calling isMail instead of isSMTP.\n. That bold value is just a link tracking ID, it will end up in the same place. So it just looks like your username or password is not correct.\n. That bold value is just a link tracking ID, it will end up in the same place. So it just looks like your username or password is not correct.\n. That transcript looks like you have SMTPDebug = 1; try setting it to 2 and you should see more info.\n. That transcript looks like you have SMTPDebug = 1; try setting it to 2 and you should see more info.\n. Solve one problem at a time. Your code for handling attachments is wrong - look at the examples folder for how to do that properly, but solve your connection problem first.\nIf you're getting messages like that using isMail(), look in your mail server log and check your PHP config.\n. Solve one problem at a time. Your code for handling attachments is wrong - look at the examples folder for how to do that properly, but solve your connection problem first.\nIf you're getting messages like that using isMail(), look in your mail server log and check your PHP config.\n. \"Could not instantiate mail function\" usually means you have no local mail server, so check that you have one. In your php.ini file you should have a setting for sendmail_path, and that program must exist. If you can't change that, or it doesn't exist, contact your hosting provider.\nWhen you say \"it's working perfectly\", do you mean that the script runs and you receive the sent message?\n. \"Could not instantiate mail function\" usually means you have no local mail server, so check that you have one. In your php.ini file you should have a setting for sendmail_path, and that program must exist. If you can't change that, or it doesn't exist, contact your hosting provider.\nWhen you say \"it's working perfectly\", do you mean that the script runs and you receive the sent message?\n. How about you read the docs the error message links you to?\n\nOn 30 Sep 2015, at 12:16, shivka notifications@github.com wrote:\nhello synchro....\nI have an error in my coding\nMessage could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n<?php\nrequire 'PHPMailer-master/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->IsSMTP();\n$mail->Host = 'smtp.gmail.com';\n$mail->SMTPAuth = true;\n$mail->Username = 'sonamsingh.covetus@gmail.com mailto:sonamsingh.covetus@gmail.com';\n$mail->Password = '1234567890';\n$mail->SMTPSecure = 'tls';\n$mail->Port=587;\n$mail->From = 'sonamsingh.covetus@gmail.com mailto:sonamsingh.covetus@gmail.com';\n$mail->FromName = 'sonam';\n$mail->addAddress('sonamsingh.covetus@gmail.com mailto:sonamsingh.covetus@gmail.com', 'shanu');\n$mail->addReplyTo('sonamsingh.covetus@gmail', 'shanu');\n$mail->WordWrap = 50;\n$mail->isHTML(true);\n$mail->Subject = 'Using PHPMailer';\n$mail->Body = 'Hi Iam using PHPMailer library to sent SMTP mail from localhost';\nif(!$mail->send()) {\necho 'Message could not be sent.';\necho 'Mailer Error: ' . $mail->ErrorInfo;\nexit;\n}\necho 'Message has been sent';\n/*require 'PHPMailer-master/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->Host = 'smtp.gmail.com';\n$mail->SMTPAuth = true;\n$mail->Username = 'sonamsingh.covetus@gmail.com mailto:sonamsingh.covetus@gmail.com';\n$mail->Password = 'job2015@';\n$mail->SMTPSecure = 'ssl';\n$mail->Port=465;\n$mail->SMTPDebug = 3;\n$mail->From = 'sonamsingh.covetus@gmail.com mailto:sonamsingh.covetus@gmail.com';\n$mail->FromName = 'sonam singh';\n$mail->addAddress('monika1990.agrawal@gmail.com mailto:monika1990.agrawal@gmail.com');\n$mail->addReplyTo('sonamsingh.covetus@gmail.com mailto:sonamsingh.covetus@gmail.com', 'sonam singh');\n$mail->WordWrap = 50;\n$mail->isHTML(true);\n$mail->Subject = 'Using PHPMailer';\n$mail->Body = 'Hi Iam using PHPMailer library to sent SMTP mail from localhost';\nif(!$mail->send()) {\necho 'Message could not be sent.';\necho 'Mailer Error: ' . $mail->ErrorInfo;\nexit;\n}\necho 'Message has been sent'; */\n?>\n\u2014\nReply to this email directly or view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/469#issuecomment-144347362.\n. Read the docs, like I told you.\nOn 30 Sep 2015, at 12:36, shivka notifications@github.com wrote:\nhow can i solve my error\n\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/469#issuecomment-144347721\n.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/469#issuecomment-144350265.\n. @Mozammelctgmirbd: Read before posting, don't hijack old threads. You are using an old version of PHPMailer and have not read the docs. You've made up apparently random settings and you're wondering why it doesn't work. It's very likely that you need to say $mail->Port = 465;.\n. Sendmail settings have no effect because you're using SMTP - again, changing random settings will not help. Messages will be sent to your gmail address, but you really need to read the docs.\n. There's not much point in me trying to help you if you don't read what I say. Also, don't post your passwords - this is a public forum.\n. I don't know how I can make this any clearer: read the docs.\n. I don't know how I can make this any clearer: read the docs.\n. It will send to mozammelctgmirbd@gmail.com, from it2@aps-group.org. I can't help you if you won't do what I suggest. It sounds like you really don't know what you're doing, so read the docs not only for PHPMailer, but for PHP as well. I am not here to teach you PHP - there are many other places you can learn that.\n. It will send to mozammelctgmirbd@gmail.com, from it2@aps-group.org. I can't help you if you won't do what I suggest. It sounds like you really don't know what you're doing, so read the docs not only for PHPMailer, but for PHP as well. I am not here to teach you PHP - there are many other places you can learn that.\n. Are you not getting any higher-level errors, like with SMTPDebug = 4? That certificate name looks like it's some kind of root cert as I've found other references to the same ID in a root or sub-root cert context. Is your root cert bundle up to date, or perhaps too up to date and it's looking for an old root cert?\n. Are you not getting any higher-level errors, like with SMTPDebug = 4? That certificate name looks like it's some kind of root cert as I've found other references to the same ID in a root or sub-root cert context. Is your root cert bundle up to date, or perhaps too up to date and it's looking for an old root cert?\n. That's just a bug in Wordpress' implementation. They should be returning something more useful or not trapping exceptions. If you can get a handle on the $phpmailer object you can inspect ErrorInfo.\n. That's just a bug in Wordpress' implementation. They should be returning something more useful or not trapping exceptions. If you can get a handle on the $phpmailer object you can inspect ErrorInfo.\n. Like the error says - you are missing the OpenSSL extension.\n. Like the error says - you are missing the OpenSSL extension.\n. http://lmgtfy.com/?q=enable+php+openssl+extension\n. http://lmgtfy.com/?q=enable+php+openssl+extension\n. It's not PHPMailer doing this but your mail server. Gmail in particular does not let you send using arbitrary from addresses, though you can predefine allowed aliases.\n. It's not PHPMailer doing this but your mail server. Gmail in particular does not let you send using arbitrary from addresses, though you can predefine allowed aliases.\n. Yes, or predefine the aliases in your gmail settings.\n. Yes, or predefine the aliases in your gmail settings.\n. It's because both outlook and PHPMailer use the file name to set the default MIME type, but you're using a name with no extension and not setting the type manually, so it's defaulting to a generic type.\n. It's because both outlook and PHPMailer use the file name to set the default MIME type, but you're using a name with no extension and not setting the type manually, so it's defaulting to a generic type.\n. It's all covered in the docs and examples provided. Start with the wiki.\n. It's all covered in the docs and examples provided. Start with the wiki.\n. I'm glad it works for you, but trying random code in the hope that it works isn't really a valid means of debugging - in this case, you don't know why it works, or what you did wrong, so you've not learned anything from it. This code doesn't call move_uploaded_file so it may have security issues. Read the PHP docs on handling uploaded files.\n. I'm glad it works for you, but trying random code in the hope that it works isn't really a valid means of debugging - in this case, you don't know why it works, or what you did wrong, so you've not learned anything from it. This code doesn't call move_uploaded_file so it may have security issues. Read the PHP docs on handling uploaded files.\n. This is no great surprise - if you block outbound email, why would you expect it to work?\n. This is no great surprise - if you block outbound email, why would you expect it to work?\n. No, but you're blocking egress ports and PHPMailer has no control over what source port it uses, so it's likely to be that. If you look at your firewall log, it will tell you what it blocked.\n. It's probably that blank line before the MIME-Version: 1.0 header line - I think that was fixed in 5.2.10, so give that a try. There is an example of using S/MIME signing in the unit tests, though we could do with a better example for the examples folder - care to write one?\n. Thanks\n. Thanks for the report. I've fixed this by removing the empty name/filename properties rather than adding a default, and I added a unit test for it too. If you don't specify a name, you really must set a MIME type or it's unlikely to work anywhere. Does this work for you?\n. That sha1 call is unnecessary - it's only an identifying prefix - the tempnam function already generates a unique random filename, so do this instead:\n\n\n$uploadfile = tempnam(sys_get_temp_dir(), 'upload');\nCheck the write permissions from PHP:\nvar_dump(is_writable(sys_get_temp_dir()));\nNote that move_uploaded_file will also fail if it doesn't think the file has been uploaded correctly, not just if the destination is not writable.\n. I've seen this happen too, but it's nothing to do with PHPMailer. It's that the mail filter thinks that the domain mentioned in the message body is associated (at least historically) with spam, if for example your wordpress install has ben hacked and is being used as a spambot (take a look at plugins like ninja firewall and wordfence to help with this). Read what they say on https://spamrl.com - you might want to put a notice saying to check spam folder for password reset emails.\n. This came up yesteday. The guzzle dependency may not be needed at all - oauth2-client now has a dependency on guzzlehttp/guzzle 6, so I think it can be removed from here entirely - do you agree?\n. Thanks, I'll push this with a new tag.\n. I've edited out your exposed data...\nTake a look at the troubleshooting guide linked to in the error message - it's why it's there. You can see that it's failing after TLS initialisation.\n. It's likely that your ISP is redirecting outbound email traffic to their own mail server using their firewall. It's a common anti-bot measure. I suggest you check your host's documentation and open a support ticket with them. The troubleshooting guide has some info that can help you check if this is what's happening.\n. Please read the docs on this. Making everyone else's email insecure isn't a good solution to fixing one host or your own config.\n. The troubleshooting guide tells you exactly how to do the same change you did in this pull request, but without altering the code.\n. Please post your code.\n. When you call addAttachment() it configures where to look for the file, but the message is not constructed until you send, by which time you've deleted the attachments. Don't unlink the files until after you've called send().\nYou're also using an old version of PHPMailer and have based your code on an obsolete example - get the latest.\n. Please post your code, and look at the mailing list example provided.\n. Yes, it's in the example I mentioned. Look in the examples folder that's included with PHPMailer.\n. I think you need to check the return value from msgHTML, and make very sure that what you're putting into $message is correct too.\nThis code is pretty inefficient - you're doing lots of things that are common to all messages every time through the loop. The thing with fluent interfaces is that you need to go very heavy on exception handling since you lose out on checking return values, but there's no sign you're doing that.\nThat search/replace for accented chars is highly suspicious - don't you know whether your data source is correctly encoded?\n. Fair point. Since it's internal only, I can rename it without breaking things.\nAs far as I'm aware PHP 5.0 compat is not broken except if you use the XOAUTH2 class, which is a new feature and thus not subject to BC. This was quite deliberate and is mentioned in the readme. Just because the auth class can use a namespace doesn't mean that the others can (because that would be a BC break), and mixing namespace and no-namespace code can be messy.\n. Fixed in 5.2.13\n. Thanks\n. Have you tried using the xoauth2 support we added for gmail? I don't know whether yahoo uses that, but if it does, there's no good reason it wouldn't work.\n. From what I've been able to find, Yahoo doesn't officially provide an OAuth2 service for SMTP yet, but if I connect to their SMTP server it says this:\n250-smtp.mail.yahoo.com\n250-PIPELINING\n250-SIZE 41697280\n250-8 BITMIME\n250 AUTH PLAIN LOGIN XOAUTH2 XYMCOOKIE\nwhich suggests it is there already, so give a try as it's likely it's compatible with Google's implementation.\n. Did you follow the guide in the wiki? I know I've had no trouble with that, and others have got it working too. There's also an alternative guide in the wiki.\n. Did you follow the guide in the wiki? I know I've had no trouble with that, and others have got it working too. There's also an alternative guide in the wiki.\n. The code bundled with PHPMailer and what's in the wiki is my working example. If I follow it, it works for me, so I don't know what's amiss for you.\n. The code bundled with PHPMailer and what's in the wiki is my working example. If I follow it, it works for me, so I don't know what's amiss for you.\n. Look in the 6.0 branch - it's supported in there.. Look in the 6.0 branch - it's supported in there.. Uh, if you're running Java on Android, you need a Java mailing class. PHPMailer can't do anything to help you there.. Uh, if you're running Java on Android, you need a Java mailing class. PHPMailer can't do anything to help you there.. Are you using the latest version? There was a change relating to this just recently.\n. I don't think I've ever seen anyone doing inline HTML! Is there any reason you can't use a normal single body with embedded images? What does your intended MIME structure look like? A big multipart/related?\nYou should definitely not be calling msgHTML - that's intended to be a convenience function to help build single-body messages with embedded image references. Just set the Body property with your message body.\nPHPMailer doesn't have any ability to construct arbitrary MIME structures, just a few presets. You might be better off with a library that does, such as Zend_Mail.\n. Ah, well that's different - you're not trying to do anything unusual. Whether it's centered has nothing to do with transfer encoding or disposition. Thunderbird (and many other clients, particularly gmail, yahoo and outlook) have some pretty bad CSS support, but the ways around that are nothing to do with disposition or transfer encoding. The emails I've found from Apple and Linkedin are nothing special - they use a completely standard multipart/alternative structure with single HTML and plain text body parts. In this context, an inline disposition makes no difference at all since that's how the bodies are typically treated anyway. You can easily experiment with the headers - save the message as a .eml file and edit its raw text, altering headers as you want, then reopen it in your mail client. You might want to look at this run-down of email client CSS capabilities.\n. No. addAttachment is specifically to use with local files precisely because it can apply more checks to the process. If you want to load data from remote URLs (with all the potential problems that implies), simply do this:\n$mail->addStringAttachment(file_get_contents($url), $filename);\nThat way the process of obtaining the data is entirely within your control, and not something that PHPMailer needs to be concerned with.\n. You've based your code on an old example, so make sure you're running the latest version. The most likely explanation is that your script is being run more than once. This is quite a common problem that's often caused by browser plugins. It's easy to tell - just add some logging in here, or look at your web server logs.\n. Indeed, this is not PHPMailer's responsibility. I'd suggest using a template engine (Smarty, Twig etc) or plain PHP to template your message bodies, which is what you're doing. Whatever you do, it's done on the server side before messages are sent. There's no way to run code inside the recipient's email client.\n. Did you actually read your own error message?\nConnection: opening to ssl://localhost:25\nThat's opening a connection to localhost, not gmail. This is because you've changed the name of the relevant properties for no good reason:\n$m->HOST = 'smtp.gmail.com';\n$m->PORT = 465;\nPHP property names are case sensitive, so you can't just change them and expect it to work. They should be:\n$m->Host = 'smtp.gmail.com';\n$m->Port = 465;\nBase your code on the gmail example provided, and only change what you actually need to be different, so in this case use Port = 587 and SMTPSecure = 'tls'.\n. Did you upload the files as described in the readme? Are you using composer?\n. And you have the correct path to the autoloader set?\n. This is the code that loads the classes:\n$filename = dirname(__FILE__).DIRECTORY_SEPARATOR.'class.'.strtolower($classname).'.php';\nif (is_readable($filename)) {\n    require $filename;\n}\nThat suggests that the file is not readable - check permissions. If that doesn't work, stick an echo in there to make sure it's being run correctly.\n. This is the code that loads the classes:\n$filename = dirname(__FILE__).DIRECTORY_SEPARATOR.'class.'.strtolower($classname).'.php';\nif (is_readable($filename)) {\n    require $filename;\n}\nThat suggests that the file is not readable - check permissions. If that doesn't work, stick an echo in there to make sure it's being run correctly.\n. Merci!\n. Merci!\n. Good catch @glensc, fixed in master\n. Good catch @glensc, fixed in master\n. Good to know, but if you know you're going to do a PR, surely it's easier to clone the repo instead of downloading the tarball?\n. Please post your code.\n. Please post your code.\n. You're not making much sense. It would be better if you show me your code. PHPmailer will send whatever you put into the Body property.\n. You're not making much sense. It would be better if you show me your code. PHPmailer will send whatever you put into the Body property.\n. You need to show me the exact code you're using to set the Body property - just paste it into your reply. It sounds like you're doing something wrong with quotes.\n. You need to show me the exact code you're using to set the Body property - just paste it into your reply. It sounds like you're doing something wrong with quotes.\n. Why do you have all those spaces in there? They will break the HTML.\n$phpmailer->Body = '<a href=\"sifre.php\">\u015eifre</a>';\nAlso you should know that relative URLs will not work in email.\n. Why do you have all those spaces in there? They will break the HTML.\n$phpmailer->Body = '<a href=\"sifre.php\">\u015eifre</a>';\nAlso you should know that relative URLs will not work in email.\n. Learn how to use code fencing in github markdown.\nPHPMailer does nothing to the message body other than apply any relevant transfer encodings, so it's either a mail filter or something in your client doing this. Can you show what it looks like in the source of a received message? You can see what is sent by saying echo $mail->getSentMIMEMessage(); after sending, then you can compare that with what you receive.\n. Learn how to use code fencing in github markdown.\nPHPMailer does nothing to the message body other than apply any relevant transfer encodings, so it's either a mail filter or something in your client doing this. Can you show what it looks like in the source of a received message? You can see what is sent by saying echo $mail->getSentMIMEMessage(); after sending, then you can compare that with what you receive.\n. Disposition-Notification-To is from RFC 3798.\nThere are a several proprietary headers that try to do the same thing: X-Confirm-Reading-To, Read-Receipt-To, Return-Receipt-To, Return-Receipt-Requested, and Generate-Delivery-Report, but they all suffer from the same lack of take-up and privacy issues (along with web bugs/beacons), so I don't really see that they add much, and I wouldn't want to encourage the use of any of them; they're all a long way from 'necessary'. You can already implement any/all of these yourself via the existing addCustomHeader method.\nThere's a thread on this subject in PHPMailer from 2007(!).\n. Disposition-Notification-To is from RFC 3798.\nThere are a several proprietary headers that try to do the same thing: X-Confirm-Reading-To, Read-Receipt-To, Return-Receipt-To, Return-Receipt-Requested, and Generate-Delivery-Report, but they all suffer from the same lack of take-up and privacy issues (along with web bugs/beacons), so I don't really see that they add much, and I wouldn't want to encourage the use of any of them; they're all a long way from 'necessary'. You can already implement any/all of these yourself via the existing addCustomHeader method.\nThere's a thread on this subject in PHPMailer from 2007(!).\n. That body check could be better - you could check if the body is empty at the end of createBody() and use the existing empty_message error rather than checking it from the outside, plus also check to see if exceptions are enabled before doing so. There's already a similar check for message signing in there. Also look at AllowEmpty. From a quick look, the only other ways that createBody can fail is if encodeString or encodeFile fail.\nfile_get_contents is a reasonable workaround for that annoying bug, but I'm not too keen on it being able to use fopen wrappers at that point - other things are dependent on the thing being attached being a real file and not a remote resource, plus all the complications of needing to allow stream context params etc - PHPMailer shouldn't try to be an HTTP client. I recommend using addStringAttachment and dealing with the fetching yourself, and that would allow you to work around the bug you've run into as well, so I don't know how necessary this is.\n. That body check could be better - you could check if the body is empty at the end of createBody() and use the existing empty_message error rather than checking it from the outside, plus also check to see if exceptions are enabled before doing so. There's already a similar check for message signing in there. Also look at AllowEmpty. From a quick look, the only other ways that createBody can fail is if encodeString or encodeFile fail.\nfile_get_contents is a reasonable workaround for that annoying bug, but I'm not too keen on it being able to use fopen wrappers at that point - other things are dependent on the thing being attached being a real file and not a remote resource, plus all the complications of needing to allow stream context params etc - PHPMailer shouldn't try to be an HTTP client. I recommend using addStringAttachment and dealing with the fetching yourself, and that would allow you to work around the bug you've run into as well, so I don't know how necessary this is.\n. I think my issue with that error handling approach is that it wasn't that much more specific - you'd added it because of the is_readable problem, but there are multiple ways it could end up empty.\nI'm also slightly hesitant to add more translation strings given the number of languages we have!\nencodeFile and addAttachment make some calls that are dependent on the path being a file system path (is_file, basename) - in fact the is_readable check throws an exception already, so to fix your bug, using file_get_contents as you suggest and throwing the exception then seems reasonable, so we report the source of the problem (being unable to read a file) and use the file_access error message rather than the later, less-accurate consequence of having an empty body. Sound better?\nis_readable is also used in the setLanguage method, so it probably needs fixing there too.\n. I think my issue with that error handling approach is that it wasn't that much more specific - you'd added it because of the is_readable problem, but there are multiple ways it could end up empty.\nI'm also slightly hesitant to add more translation strings given the number of languages we have!\nencodeFile and addAttachment make some calls that are dependent on the path being a file system path (is_file, basename) - in fact the is_readable check throws an exception already, so to fix your bug, using file_get_contents as you suggest and throwing the exception then seems reasonable, so we report the source of the problem (being unable to read a file) and use the file_access error message rather than the later, less-accurate consequence of having an empty body. Sound better?\nis_readable is also used in the setLanguage method, so it probably needs fixing there too.\n. I've incorporated these changes into PHPMailer 6.0 manually.. I've incorporated these changes into PHPMailer 6.0 manually.. Thanks\n. Thanks, that is a better way of doing From, especially for examples.\n. Thanks - there is a lot of very old stuff in here!\n. Thanks\n. Excellent news - I know this has been asked for in the past.\nThere is really too much stuff in the main class, so the child class route is the way to go - look at how the XOAUTH2 support has been done for an example.\nOfficially, PHPMailer supports back to PHP 5.0 :scream: (to say we have a lot of legacy users is an understatement!), but new features (not causing BC breaks) may be added in subclasses that can require later versions - for example the XOAUTH2 class needs PHP 5.4 because the OAUTH class it uses needs that. Mixing namespaced and non-namespaced classes is not pretty, so for now we're not namespacing anything - if people really need it they can use wrappers.\n. Sorry I've been neglecting this. I don't really want to put this into PHPMailer 5.2, but I'd be very happy for it to go into 6.0. Could you perhaps update your changes for the 6.0 branch and rebase on that? Added bonuses - you get to use PHP 5.5 features and namespaces...\n. Nice work, thanks. For future expansion, and ease of adding new providers, I think it would be better to create an abstract base class and then implement each provider as a subclass containing the implementation specific parts, rather than rolling them all into one. It would also mean we don't need the additional oauthProviderName property. It would be good if we could retain backward compatibility with the existing google implementation.\nA smaller thing is that the 'require's for the class are not necessary - add the paths to the composer.json classmap and the autoloader will find them.\nWhy did you close this PR?\n. You don't need to do that to make changes to a PR - just push more commits and they will be added automatically. It's considered good practice to squash commits (and force-push) to keep history clean.\n. Don't add those dependencies as requires - put them in suggests as otherwise it will break BC with anyone running PHP < 5.4. \n. No, I'm saying that if you put each provider in its own class, you don't need the provider name at all - it's implicit in the class name.\n. Yes, that way the individual provider classes will be very simple.\n. I've accepted this into the xoauth branch, I need to change some things before merging into master.\n. Cool. The main change I want to make is that the phpmaileroauthprovider base class should not inherit from the phpmaileroauth class. There's no reason for the providers to be PHPMailer child classes - PHPMailer needs to use them, but not be them. It may be that I need to introduce other child classes to make that work, I've not thought through how best to arrange it yet.\n. Please read the docs before posting.\n. If you set your SMTPDEBUG constant to 2, you will see both client and server messages.\n. Sorry, I didn't see you changed the post. I've just pushed a commit that provides access to the POP3 error array in 40a0a1b160d91e9950e75b3e810e8e8124663183.\nWhy are you loading the classes manually? The autoloader will do it for you.\n. No, debug output will still be displayed directly; calling getErrors will return error responses without anything being displayed. Essentially if you start getting errors, you may still need to use debug output to get the underlying reason; getErrors just returns the error response from the server, which may not include a complete transcript - give it a try if you have a good example to play with (I've not seen anyone use POP-before-SMTP for about 15 years!). You don't want debug output enabled for anything public facing.\n. That's a pointless change. The static function is purely for convenience - look at the code in it, and do that in your app instead - it's identical to what you suggested and requires no changes in the library:\nphp\n$pop = new POP3; // pop3 instance to catch $errors\nif(! $pop->authorise(POP3_HOST, 110, 30, $args['pop3_user'], $args['pop3_pwd'], SMTPDEBUG)) {\n    $errors = $pop->getErrors();  // fetch pop3 $errors\n    foreach ($errors as $error) {\n        $this->logMeToFile(\"error:\".($error['error']));\n        $this->logMeToFile(\"errno:\".($error['errno']));\n        $this->logMeToFile(\"errstr:\".($error['errstr']));\n    }\n    return false;\n}\nI don't have a plan for the next release yet.\n. You can interrogate the PHPMailer instance for all those things (nearly all properties are public). That you're getting as far as that error suggests that you're probably not checking the return values of methods like 'addAddress()`, so you're not seeing a problem until later.\n. If openssl is installed you will see an openssl section in your phpinfo output, like this:\n\nCheck that you've enabled it in the appropriate SAPI - it's common for CLI and apache/FPM versions of PHP to have separate configuration files. Beyond that, refer to the PHP docs.\nPHPMailer doesn't use curl.\n. Fine - so make sure it's actually working, as described above. This is a problem with your PHP config, not PHPMailer.. Fine - so make sure it's actually working, as described above. This is a problem with your PHP config, not PHPMailer.. That constant is not used in the old 5.2 series - it uses OPENSSL_ALGO_SHA1, which was available from 5.0. PHPMailer 6.x and after uses OPENSSL_ALGO_SHA256, and also requires PHP 5.5 as a minimum.. That constant is not used in the old 5.2 series - it uses OPENSSL_ALGO_SHA1, which was available from 5.0. PHPMailer 6.x and after uses OPENSSL_ALGO_SHA256, and also requires PHP 5.5 as a minimum.. @Lakshikasur Do you have the openssl extension installed?. Does it actually show up in phpinfo() output like the above example?. Make sure your command-line and web environments are using the same PHP config. Run this to check your CLI environment:\nphp -i | grep OpenSSL\n\nYou should get output like:\nSSL Version => OpenSSL/1.0.2q\nOpenSSL support => enabled\nOpenSSL Library Version => OpenSSL 1.0.2q  20 Nov 2018\nOpenSSL Header Version => OpenSSL 1.0.2q  20 Nov 2018\nOpenSSL support => enabled. Well I have no idea how your server is configured, but if it's something like Ubuntu, then compare the CLI and FPM configs, usually in /etc/php/7.3/fpm and /etc/php/7.3/cli.. Even if you figure out how to enable the openssl extension (hint, look in the PHP docs), this isn't going to work. We don't support PHPMailer on PHP4, and have not done so since 2009. The last version that works on PHP4 is 2.3, which you can find in the releases section, but bear in mind that it is very old. You'll probably find it less hassle (and get a load of security improvements into the bargain) to upgrade to a half decent hosting config.\n. This is annoying. In 2013, PHPdoc deprecated @var in favour of @type, and the PHP FIG PSR-5 coding standard proposal did the same, so I went with that, and several other projects did the same, such as Drupal! In 2014 both reverted their change, but I didn't see that. I guess we should follow suit if you'd care to do a PR. It's unhelpful that PHPDoc's documentation has removed all references to @type.\n. Thanks\n. I can't accept this into master while we are maintaining 5.0 BC. It would be better to use a local function instead. Surely if you are converting IDNs into punycode before sending, then the MTA doesn't need to be involved?\n. Well, I'm sorry that I'd missed that you'd already wrapped it in a function check!\n. The postfix docs mention that RFC6530 says the domain part may use either IDN or UTF-8 regardless of what the local part uses, so I think we should just leave the local part untouched for that distant future when we have more widespread SMTPUTF8 support.\n. @michield Rebase and squash all the commits you've done in here, then git push -f and it will replace your previous commits with one tidy rebased one. Long version.\n. Nice one - it's so easy to forget about some PHP functions - I just ran into a use for array_fill_keys recently!\nThe PHPMailer CharSet property should have no real bearing on IDNs, since they always use UTF-8, even if the message does not, and they don't require Q/B encoding like regular headers because punycode is ASCII, however it's always good advice to tread carefully with UTF-8 anyway, and it's a good idea to apply a charset conversion to UTF-8 if CharSet is not the same.\nGood call on hasMultiBytes; would be better to use has8bitChars.\n. I'm definitely for leaving things until send, at least partly because that's the only way to support SMTPUTF8 if we ever get to that, where we will need to implement RFC6857 too.\n. I'd vote for B. I think it has less likelihood of going wrong for users, especially since the default CharSet is not UTF-8.\n. I think that the address setting functions (which mostly share the use of addAnAddress) should apply the current validation if the addresses do not contain IDNs, i.e. if we check them with has8bitChars first. This will preserve BC as the new behaviour will only apply with IDNs, which have not been supported before.\nI agree with failing send if send-time address validation fails. It's an edge case really, and will only apply to IDN addresses.\nIt might be useful to extend the validation to allow pre-punycoded addresses when setting addresses, which would allow pre-send validation. That might be a useful workaround, perhaps add a public punyencode function (using whatever CharSet is currently set to).\nI don't think I've ever seen a real-world use for any of the get* functions - PHPMailer instances are rarely kept around for long, you usually know what addresses you've put in, and re-use usually means you're going to call clearAllAddresses anyway. I don't have a strong opinion on how these should be handled, so long as it does something sensible, like you suggest.\n. This is handled by the connect method in the SMTP class, around here. The timeout is set in the socket options. As you can see, if it fails to connect or the server does not respond (e.g. if it's using a greetdelay), it will give up the transaction altogether, and should never get as far as sending HELO/EHLO.\nThe SMTP timeouts are set to the RFC2821 recommendation of 5 minutes. Is your server taking longer than that?\nI don't see how it's getting past those things - could you try tracing what's happening in your case to see how it's saying that the connection is successful when it isn't?\n. The code does wait - after connecting successfully, it then waits for input from the server. What do you see if you set SMTPDebug = 4?\n. Did you solve this?\n. The code definitely waits for input, with a long timeout. Given that it still breaks, it suggests that the server may be sending a blank line or something before it sends its greeting. I'll close this for now.\n. Before I can help you, you need to post your code, read the docs, base your code on one of the examples provided.\n. The code looks ok, but you're using an old version of PHPMailer and have based your code on an obsolete example, so please update. Please read the docs.\n. PHPMailer doesn't see the HTML on your page, so it makes no difference.\n. It's not intentional - scrutinizer is just a bit unreliable. Scrutinizer is not a CI in that it does not run the test suite; it runs things like phpmd and other code checkers. To be fair, it is usually because packagist fails to respond rather than anything scrutinizer is doing.\n. Thanks.\n. Please update your code before reporting bugs. This was fixed many years ago.\n. No. This has come up before and it's largely a fallacy. None of the major frameworks or coding standards express a preference, and those that do are in favour of and/or. See #364.\n. This isn't really the place to ask - you need to read some PHP and postfix docs, check what your system is doing. If you're not up to doing system admin yourself, get a host with a control panel to simplify it for you.\n. Like the error says, it's because the connection timed out! This usually means your network is having trouble, your ISP is blocking outbound SMTP, your DNS is not working. All are covered in the docs. Fix your network and the code will work.\n. So, like the troubleshooting guide says, enable access for 'less secure apps' in your gmail account. The same applies to other clients that do not support XOAUTH2. Apple Mail on OS X and iOS supports XOAUTH2 with gmail, but I don't know about others.\n. Read the troubleshooting guide to help diagnose your problem. It's not necessary to enable less secure apps if you use XOAUTH2 authentication - look at the wiki for more info. . Read the troubleshooting guide to help diagnose your problem. It's not necessary to enable less secure apps if you use XOAUTH2 authentication - look at the wiki for more info. . Thanks. Nice to see contributions with attention to detail!\n. :smiley_cat:\n. That's not an error, it's just debug output. Set $mail->SMTPDebug = 0; to turn it off. You're also running an old version of PHPMailer, so update it.\n. Uh, right here on github? Look on the project page for the zip download link.\n. This is great stuff. Could you rebase it on HEAD and force push to tidy up the multiple commits please?\n. Beautiful, thanks!\n. Thanks, I'd not looked at scrutinizer for a while - it's often been broken.\n. I'm sorry but this is an utterly clueless change. You're suggesting \"fixing\" SMTP by not using SMTP. It's not an appropriate solution to either of the bugs linked, and why would you alter a \"how to use SMTP\" example so that it does not use SMTP?\n. It's not really that - if you want to use SMTP and it's broken, fix whatever is wrong with you mail server or network - it's not a PHPMailer problem. Switching to isMail usually isn't an appropriate solution - it's like suggesting that the way to fix your broken-down car is to walk instead.\n. Don't hijack old, closed issues for unrelated requests. Read the docs that the error message points you at.\n. It's spamassassin that's wrong here. File a bug with them.\n. PHPMailer's behaviour is entirely compliant with the applicable email RFCs. Spamassassin's is not. The workaround is trivial - set a recipient name yourself, even if it's the same as the email address, for example:\n$mail->addAddress('user@example.com', 'user@example.com');\nThis will result in a To header like this:\nTo: user@example.com <user@example.com>\nThe addOrEnqueueAnAddress method trims the name value, so it won't let you use a space, but you can always override that, or put what's in your PR into a subclass - it's what libraries are for.\nThe only problem I have with doing this is that it's much more likely to trigger anti-phishing defences, which tend not to like seeing addresses or URLs in non-address or URL contexts. Fundamentally it's spamasassin's behaviour that is at fault - when it classifies RFC-compliant behaviour as spam, it's pressuring users to break RFCs, which is stupidly irresponsible, and frankly I'm unimpressed by their abusive bug reports.\n. No problem, and I reserve the right to change my mind on rejecting your PR once I've got over SA's abusive tactics... :wink: \n. > This mail server requires authentication\nThere's no ambiguity there. The mail server requires you to authenticate, you've decided not to, so it's not accepting mail from you.\n. Thanks\n. array_filter is expecting a callable there, so it looks correct. What version of PHP are you running?\n. That doesn't make much sense - there is a version check right there that means that code should never be run on a version that old. Why are you doing new development on such an old version of PHP? It's been out of support for nearly 5 years, so it's positively dangerous to deploy anything on it.\n. Yes, I see the issue - the version check doesn't prevent PHP from trying to compile the code, so version checks like this are OK for things like function names, but no use for language constructs. I'll fix it.\n. Fixed in HEAD\n. Thanks\n. Read the docs about how to configure composer, then install the league dependencies in the 'suggests' section of the composer.json file\n. No mistake, this is a good bug report! It might have been slightly more helpful if you'd listed the things that were wrong, but it wasn't too hard to find them.\nThere are three references that need fixing. I've fixed state with getState() and refreshToken with getRefreshToken(), but I can't see a way of setting accessType - they have changed it to protected without providing a way of setting it that I can find, so I think this is a bug in their library.\n. I reported it in their issue tracker.\n. There used to be simple get/set options for accessType in the oauth2-google class. It was added in this commit, but it seems to have disappeared since. I can't find where that happened in their commit history, but it's certainly not there now.\n. I see what you mean about the constructor. accessType is not actually used anywhere else, so removing that line seems reasonable.\nIt's odd that it's not listing XOAUTH2 in the EHLO response. Is that before or after STARTTLS?\nThanks for spotting that change @SDKiller. It seems strange to remove access when the property remains. I don't know what it does, but the PHPMailer script sets it in the constructor anyway and never accesses it again, so I think that line can be removed safely.\n. I've spotted your problem. You are being redirected to another server - look at the response to your connection:\n220-go.example.com ESMTP Exim 4.86\nEven without your altered domain name, google does not run exim, and this also explains why the auth options don't match. You need to have words with your ISP.\n. @quindo, you posted a comment on #543 that I think was meant to be on this one.\nReally, you're not connecting to a gmail server - it looks like you're connecting to localhost if you're running exim. Figure out why.\n. Yes, it's common for different PHP SAPIs (Apache, FPM, CLI, CGI etc) to have different configs, but if you're using isSMTP in PHPMailer, the config shouldn't make much difference since all the conversation happens via PHPMailer code. You may find it's something odd like your DNS setup.\n. It's nothing particular about the SMTP code - it's just that when you're sending a large volume, that's where it spends most of the time, so if it's going to break, its most likely to be somewhere there.\nI think timeout handling changed in 5.2.9, so upgrading might help, and you should anyway.\nFor a template of how to send efficiently, look at the mailing list example in the examples folder.\nThat you're hitting a max execution time tells me that you're not running from a CLI script, which has no max execution time limit by default. For sending volume like this, you really don't want to be doing it on a web page load. I suspect that max_input_time does not apply to CLI scripts.\n. Yes, that's the example. The key things are setting up outside the loop, using keepalive, clearing addresses once at the end of the loop.\nI would strongly recommend switching to a CLI script - this is not the kind of process that needs to involve a browser at all. That doesn't mean that you can't trigger it from a web page, just that the send instruction and actual sending should be decoupled.\n. It's mainly that timeout values in SMTP changed to match RFC recommendations.\n. I don't think I'd count it as a bug. You're trying to run something that should be a local, long-running process as a web page response, which is inherently not matched to that approach. I think if you reported this on the PHP bug tracker, they would just say \"you're doing it wrong\".\n. This is down to your PHP config. The critical part in there is this message:\nno shared cipher\nThis means that the mail server is not accepting any of the ciphers that your SSL client has and vice versa. You need to alter/update your client to use better ciphers, or modify your server to add some ciphers that your client supports. Going TLSv1.2-only is not appropriate for a public mail server. It is a sensible approach for web servers that are serving a known client type (for example iOS apps using ATS in iOS 9), but that's very different from a public-facing service where you have no control over client configs, especially when you're talking about mail clients that generally get updated much more slowly than web browsers.\nNone of this is anything to do with PHPMailer - it's just caught in the crossfire.\n. Your server running TLSv1.2 has certain ciphers available. Similarly, PHP on your client will have an OpenSSL library with a bunch of ciphers (run phpinfo() and info functions like openssl_get_cipher_methods to find out more). Your problem is that they have none in common. FWIW, PCI 3.1 only mandates TLSv1.1, not 1.2. You may be able to enable additional ciphers in your client php.ini, or add others to your server without necessarily needing to change TLS version. It may be that you need to upgrade the SSL library on your client in order to achieve overlap.\n. That DES is poor is well known, but PHPMailer doesn't specify a cipher at all. The only thing PHPMailer specifies is STREAM_CRYPTO_METHOD_TLS_CLIENT in the call to stream_socket_enable_crypto(). The docs on that show that this simply means it won't use SSLv3, which is an important security choice, but beyond that which cipher it uses is up to your PHP config, not PHPMailer.\n. The problem you had before didn't get as far as checking certificates - it was falling down on cipher lists, which happens before that.\nFirst of all I suggest checking your mail server's SSL config using testssl.sh from your client, which will give you a load of info about what your server will accept:\ntestssl.sh --starttls smtp mail.example.com:25\nThen compare the cipher list with what your phpinfo output says and check they have ciphers in common (also look up the openssl version you're using).\n. It's PHP itself that broke that constant in 5.6.7. Prior to that version that constant included TLS 1.2, but it no longer does, which is extremely annoying!\nWe can't change to STREAM_CRYPTO_METHOD_TLSv1_2_CLIENT because that will break every site that doesn't have 1.2, which is a lot more than those that don't have 1.0, and we can't reasonably use STREAM_CRYPTO_METHOD_SSLv23_CLIENT because that's insecure in < 5.6, though it's the recommended value in 5.6.7+ because it doens't do what it looks like it does!\nI suggest we do what this comment says.\n. Ahem. Which we are already doing! So I don't know why it's not working for you.\n. If you need to nail it specifically to that version, I suggest you subclass the SMTP class and reinject it as per the docs.\n. This might be related to #539, so try what's in the master branch at the moment. It seems that the league OAuth library changed its implementation and broke stuff.\n. Incidentally you don't need to allow \"less secure apps\" if you're using XOAUTH2. If you have it enabled you can use regular ID and password auth, which should do as a workaround until this issue is sorted out.\n. Like the troubleshooting docs say, you can enable access for \"less secure apps\" and use normal id and password auth. Unfortunately OAuth is extremely difficult to debug, just one of its many failings.\n. Have you looked at all the things on that gmail support page? Quite a few of them could cause this behaviour, not just auth.\n. So what does the notification say? It should give a reason for the bounce. XOAUTH2 only has an effect on the initial submission, anything after that is nothing to do with the auth scheme (or PHPMailer come to that).\n. I can't see it echoing '1' at the end in any of your examples, only errors. ErrorInfo is not the same thing as debug output, if that's what you mean.\n. It may be that you were running into one of the other factors listed on that support page - e.g. trying to auth too often, so you might find that XOAUTH2 works now!\n. I've not seen anything like that. I suggest you stick a breakpoint in the autoloader and see why it's failing to issue its own require. The only thing that might apply is the is_readable call in the autoloader - I recall someone having difficulty with that on some remote file systems.\n. Thanks\n. Enable debug output, read what it says, read the docs.\n. PHPMailer has nothing to do with either SQL or anything in a browser - they are separate problems that you should deal with appropriately in their own contexts. SQL injection and XSS are not issues that affect email (though it has its own issues, such as header injection). It's quite likely that if that function returns something that is not a usable hostname, then you will not be able to send email, which you would fix by setting one.\n. Thanks\n. Like many other projects, we've had a policy of preferring if over ternary operators, and in this case I don't think changing to the ternary operator helps.\nThe phpdoc type change on that oauth param is correct, but it will all be changing - see the xoauth branch.\n. It's using opportunistic STARTTLS. You have set SMTPSecure = '', but it spots that your server speaks TLS and enables it automatically. To disable that set SMTPAutoTLS = false. Beyond that, and if you want TLS even without auth, its most likely it's failing a certificate check - try setting SMTPDebug = 4 - it will be noisier but may show you something useful.\n. I'm glad it worked, but as always, I'd note that disabling verification is something you only need to do if your server is broken; the correct solution is to fix the server.\n. @luismartinez0518 Please don't hijack unrelated tickets. Diagnosing connection problems is covered extensively in the troubleshooting guide and on Stack Overflow.. @luismartinez0518 Please don't hijack unrelated tickets. Diagnosing connection problems is covered extensively in the troubleshooting guide and on Stack Overflow.. This is nothing to do with PHPMailer - it's just the tool they're using - they could use Outlook to do the same thing. It sounds like what you're seeing is backscatter, and is commonly caused by bad anti-virus software sending bounces. The appropriate way to prevent email forgeries is to implement SPF and DMARC so that other servers (including yours) can recognise forged messages. It looks like you have implemented SPF correctly, so make sure that none of your allowed servers are compromised - check the IP addresses that say they sent the original messages.\nImplementing DKIM and DMARC might help you see where the forgeries are coming from.\n. What you need in order to achieve this is to be able to set the To header addresses (within the message) separately from the envelope-to addresses (used at the SMTP level). PHPMailer won't do this out of the box because it uses a single array for both jobs, but you could probably subclass it to override that behaviour. I'd be wary of doing this as you may run into issues with spam filters, which tend to take a dim view of anything not looking like it acts, i.e. headers not matching the envelope.\n. I agree that this could be phrased better, but this isn't much of an improvement!\n. I'd go for plural, shorten it a bit:\n\nAlternatively, copy the contents of the PHPMailer folder into one of the include_path directories specified in your PHP configuration.\n. If you want to tweak your PR with that, I'll accept it, since you got this ball rolling.\n. Not loading vendor/autoloader.php breaks the loading of composer packages, the lines after it do the same as the PHPMailer autoloader on recent-ish PHP versions, which is all that's needed for Travis-CI, which is the ony reason this file exists. Also, the old autoloading system will be going away in 5.4 - see the 5.4 branch.\n. Thanks\n. Have you tried setting the Sender property but leaving the to addresses empty?\n\nEmail does not require a To header, but it does require an envelope to.\nI don't see that using a commercial service would make any difference - this error can only come from your own local mail server; any commercial service would by definition be remote and thus not callable from sendmail.\nUsing old versions of PHP is a very bad idea, especially one that is so long out of security updates.\n. When you are sending via SMTP you have the option to set the to headers and envelope to addresses separately, and that is what thunderbird is doing. Sendmail doesn't make it so easy, but the workaround is simple - don't use sendmail or mail(); use SMTP to localhost. You'll probably get better performance that way too. \n. Yes, just use:\nphp\n$mail->isSMTP();\n$mail->Host = 'localhost';\nWhen using SMTP it's also much easier to see what's going on because you can set SMTPDebug = 2 and see the whole conversation.\n. All this said, you're probably best off not trying to do this - while it's permitted by RFCs, some ISPs and spam filters don't like it - you're better off setting your own address in To and BCCing everyone else.\n. This is not in PHPMailer's control. Make sure your DNS is set up right, set up SPF and DKIM, and of course, don't send spam.\n. $DKIM_private is meant to contain the path to a private key, not the key itself. That's likely to be a problem! Take a look at the DKIM code in the phpunit tests.\n. Fails how?\n. Check your error logs, enable debug output. It's probably failing to load the file, so give it an absolute path to be sure. Putting the key data in that property will definitely not work.\n. Yes - that's normal PEM formatting, variants of that are used for all kinds of encryption things.\n. You should see the selector you set in the DKIM email header - like s=phpmailer - look at the DKIM_Add function that puts it there.\nHaving multiple selectors in your DNS is harmless and fully expected. DKIM is just one way that DNS is treated like a simple database.\nGoDaddy is very much a minimum effort provider - they break all sorts of things relating to email (e.g. they redirect everything to their own mail servers, and block access to your own, almost guaranteeing SPF failures), though to be fair they do so because many sites they host are so riddled with security holes (eg. old copies of wordpress) that they can't trust their own customers!\n. Like the error says:\nAuth method requested: XOAUTH\nAuth methods available on the server: LOGIN,PLAIN,XOAUTH2,PLAIN-CLIENTTOKEN,OAUTHBEARER,XOAUTH\nYou've requested an auth method that's not supported. If you're using OAuth2, you need to set $mail->AuthType = 'XOAUTH2'. Also make sure you read the docs.\n. You must have done something wrong in configuring your Gmail oauth credentials. It works fine for me and others, and the delivery of credentials itself is very simple. Setting them up is very complex and error-prone, but that's Gmail, not PHPMailer. Work through the oauth docs in the wiki.. Make sure you're using the latest version, and base your code on the gmail example provided.. Is it really so hard to find the ones that are right here?. Thanks for picking this up @ooxi. I suspect the main problem here is that @josebulatao has outdated CA certificates, which prevents gmail's certificate from being verified at the client end - gmail changed their cert not so long ago and this has been a very common result. Disabling verification should be a workaround for that, but the right fix is to download a new CA cert bundle and tell PHP to use that - this is described in the troubleshooting guide. You would need to do this even if using OAuth, since OAuth authentication happens after a TLS session has been established.. Thanks for picking this up @ooxi. I suspect the main problem here is that @josebulatao has outdated CA certificates, which prevents gmail's certificate from being verified at the client end - gmail changed their cert not so long ago and this has been a very common result. Disabling verification should be a workaround for that, but the right fix is to download a new CA cert bundle and tell PHP to use that - this is described in the troubleshooting guide. You would need to do this even if using OAuth, since OAuth authentication happens after a TLS session has been established.. That's not really an email question - look at projects like tcpdf. Generally you'll get much better results if you generate PDFs directly using submitted form values rather than converting from HTML.. That's not really an email question - look at projects like tcpdf. Generally you'll get much better results if you generate PDFs directly using submitted form values rather than converting from HTML.. There is no such filtering. Please post your code to reproduce this.\n. Because you're using sendmail, it's using your local mail server (and is not using the SMTP class), so you need to look in your mail server logs to see what's going on. You may find it useful to switch to isSMTP() and set Host = 'localhost' and SMTPDebug = 2, as then you will get more feedback on the message submission.\n. The code is not in question. Please post your debug output.\n. Er, that shows an entirely successful delivery.\n. The transcript shows a successful delivery, and PHPMailer's involvement ends there. If your mail server is having problems delivering after that, it will be in your mail server's log.\n. I have no trouble sending to, from or mentioning .org domains. This is a problem with your mail server.\n. The equals characters are part of RFC2045 quoted-printable encoding, which uses trailing = chars to denote soft line breaks. This encoding should be reversed by the receiving MUA (in this case hotmail) before display. As far as I'm aware, PHPMailer is pretty clean on the encoding - in any recent PHP version it uses the built-in quoted_printable_encode function. Changing the value of LE is not an appropriate solution as it will make your messages deliberately break RFC compliance, likely to cause more problems than it solves.\nThe most useful thing to diagnose this further would be to see the source of a received message. It may be that outlook/hotmail is corrupting things, but since this is not a problem I've seen before, it may be specific to your setup.\n. OK, I still need to see a received message that shows this problem. I'm expecting something like a missing transfer-encoding header, but I can't guess from this end.\n. I'm glad you found a workaround, but you really shouldn't need to change your content at all - the point of a transfer encoding is that it's transparent - you should get out exactly what you put in. You should only need to alter your content if you're using a transfer encoding that can't cope with your content, such as the default 7bit, though PHPMailer will spot that and switch to quoted-printable automatically if it needs to.\nYou should really upgrade from PHP 5.3. It's been out of support for over a year, and 5.3.15 was released over 3 years ago - you are vulnerable to attacks!\n. You shouldn't be loading the class manually at all. Please read the docs, base your code on examples, use the autoloader or composer.\n. No I mean base your code on the examples provided with PHPMailer, all of which handle loading correctly. There are zillions of others than do it wrong...\n. Thanks\n. Thanks\n. Eep! Sorry, I shouldn't have accepted this PR because of what @fbonzon said. I've reverted it. Not quite got my brain in gear after the weekend...\n. Eep! Sorry, I shouldn't have accepted this PR because of what @fbonzon said. I've reverted it. Not quite got my brain in gear after the weekend...\n. Not sure what's happened, but things are back to where they were before the incorrect pull so I'm not too worried.\n. Not sure what's happened, but things are back to where they were before the incorrect pull so I'm not too worried.\n. One problem was that I deleted the temp branch immediately after I accepted the reversion PR, which cause the travis build to fail.\n. One problem was that I deleted the temp branch immediately after I accepted the reversion PR, which cause the travis build to fail.\n. No - the entire XOAuth2 implementation requires PHP 5.4, so there is no need for any of the parts involved with it to retain any BC. If anything it's better to fail earlier to avoid people thinking it should work.\n. No - the entire XOAuth2 implementation requires PHP 5.4, so there is no need for any of the parts involved with it to retain any BC. If anything it's better to fail earlier to avoid people thinking it should work.\n. Yes, I did make a mess of the reversion - now I know how to do it right next time!\n. Yes, I did make a mess of the reversion - now I know how to do it right next time!\n. Body has little to do with attachments. Please base your code on the examples provided, and I can't do anything to help if you don't post your code.\n. Body has little to do with attachments. Please base your code on the examples provided, and I can't do anything to help if you don't post your code.\n. Look at the send upload example in the examples folder.\n. Look at the send upload example in the examples folder.\n. Good call, thanks\n. Good call, thanks\n. Read the docs.\n. Read the docs.\n. If that command completes ok, it means the message has been passed to your mail server successfully. What happens after that is outside PHPMailer's control, but you need to check that your mail server is actually running, and then check the mail log, usually in /var/log/mail.log, to see what has happened to your message.\n. If that command completes ok, it means the message has been passed to your mail server successfully. What happens after that is outside PHPMailer's control, but you need to check that your mail server is actually running, and then check the mail log, usually in /var/log/mail.log, to see what has happened to your message.\n. I have no idea what you're talking about. PHPMailer has nothing to do with inbound mail.\n. I have no idea what you're talking about. PHPMailer has nothing to do with inbound mail.\n. This makes no sense. If you have checked your mail log, you know what has happened to the message.\n. This makes no sense. If you have checked your mail log, you know what has happened to the message.\n. That explains it - you have a networking problem. This problem would have been apparent from the DNS, ping and telnet tests suggested in the troubleshooting guide. I suggest you ask your hosting provider for help.\n. That explains it - you have a networking problem. This problem would have been apparent from the DNS, ping and telnet tests suggested in the troubleshooting guide. I suggest you ask your hosting provider for help.\n. The mail function sends via a local mail server, and you get essentially no direct feedback whether it works or not - you need to look at the mail server log to tell.\nIt's quite likely that outbound SMTP is blocked from your server - that would explain ping working but not SMTP. You should update your PHPMailer - 5.2.4 is old and buggy - and base your code on an up to date example too.\n. The mail function sends via a local mail server, and you get essentially no direct feedback whether it works or not - you need to look at the mail server log to tell.\nIt's quite likely that outbound SMTP is blocked from your server - that would explain ping working but not SMTP. You should update your PHPMailer - 5.2.4 is old and buggy - and base your code on an up to date example too.\n. Did you try the tests in the troubleshooting guide? You need to check from the server the script is running on; nowhere else is relevant.\n. Well if the tests don't work, then PHPMailer can't either. You've got a network problem, not a PHP problem.\n. You could of course read the docs and do it properly instead.\n. PHPMailer does not add this header, so you need to look at what happens to the message after sending. For example if you are sending via a local mail server or nearby smarthost it's probably that that's adding it, and clearly that's outside PHPMailer's control. How are you sending?\n. No, unless you're using an old version. Return path is set by the receiver, derived from the envelope sender, which you can set in the Sender property.\n\nOn 29 Nov 2015, at 20:53, davidrossiter notifications@github.com wrote:\n@Synchro What about Return-path, that is incorrect too - is the added by phpmailer?\n\u2014\nReply to this email directly or view it on GitHub.\n. That index 1 is not expected to be an address - it's a display name for the address - in this case it might be Pat. It's empty because you've not set one. I suspect you'll find that the error is elsewhere - set SMTPDebug = 2 and see what the server says.\n. If you're loading the autoloader, this suggests you've not uploaded the SMTP class in a location where it can be found. Please read the README about minimal installations.\n. This was fixed in a later version of PHPMailer, and you should update anyway. You can set $mail->Priority = null; and the header will not be added.\n. This was fixed in a later version of PHPMailer, and you should update anyway. You can set $mail->Priority = null; and the header will not be added.\n. In the past there was a PHPMailer bounce handler sub-project, but it's long-defunct. That one on github doesn't look like it's maintained either. I use boogietools indirectly in a mail server and it works well enough, though it's not great. I know first-hand that writing your own is a deeply unpleasant experience I wouldn't want to repeat! You may find there are better implementations in python, ruby or node.js.\n. Thanks very much for doing this. I find oauth horribly confusing and would never have figured this out!\n\nSince you obviously have a clue about this, could you please take a look at the 5.4 and xoauth branches? The 5.4 branch is a big cleanup (it does the same thing as your PR in composer.json) and renames everything in a PSR-4 style, and the xoauth branch adds an xoauth abstract base class and supports more auth providers. The get_auth_token script will need altering to make that work too. Ideally I'd like to roll all that together for the 5.4 release, but I could use some help.\n. Someone else contributed some implementations for Yahoo and Microsoft (Outlook etc), but it's the general pattern that I want to get nailed down. I was thinking about merging them into 5.2, but that's really not sensible, so they are going into 5.4.\nI have done a rough merge of all recent changes into the 5.4 and xoauth branches. The xoauth branch is 5.4 + the new providers, and will eventually be merged back into 5.4, so I'd recommend looking at both of those. You'll see I've done a basic base class for the xoauth providers, but it will need corresponding changes in the token script, and possibly some other utility scripts to help use them.\nBecause my grasp of oauth is limited, I've been flying blind as far as the implementations go, and I have no idea how you go about testing them.\n. Great, thanks. Don't worry about adding more services - those are enough for now, and more can be added later. I just want to be sure we have a solid base to build from, and the three we have will be plenty for that.\n. Did you get anywhere with this?\n. Eek! This is why I pointed you at the xoauth branch where I've already done quite a lot of what you describe!\nI don't want to use a fixed enumeration for the providers as it makes maintaining them difficult, so I would prefer to do what you suggest in your second option, so users would need to do something like:\nphp\n$mail->setOAuthProvider(new OAuthProvider\\Google($mail));\nThis is more of a dependency injection approach and is much easier to maintain.\n. The level of support is not dictated by PHPMailer, but by whatever version of openssl (or libressl) you have installed. That usually means you have support for 1.0, 1.1 and 1.2.\n. You removed the important info in your report, so I added it back in!\nAlso, please show a little initiative - the error report shows two URLs: one from google explaining the problem, the second from PHPMailer telling you how to fix it. Thre are also over 800 questions on StackOverflow featuring this exact error.\n. Really, you don't have a connection problem. If you did you would not be seeing any SMTP conversation. You have exactly the auth problem described in both links. Either enable less secure apps or implement xoauth2.\n. Apologies for not getting onto this sooner. I quite agree - I can't see any reason for passing in this space, so it's fixed in HEAD and will be in the next release. Thanks for the report.\n. Isn't this basically the same thing as BCC? BCC sets RCPT TO without affecting the to header. Are you saying that the original message is never sent at all?\n. I've just remembered why I was thinking about retaining the raw message body - if you try to recreate headers and body, you're very likely to cause DKIM failures. Given that this looks like you're doing all this for abuse reporting where you're forwarding a copy of the source message, there is already a defined format for doing this - RFC5965 - that is already very common for this use case - AOL, Yahoo amd Hotmail all use it.\n. If 4) happens during the SMTP conversation started in 1), surely the message should be bounced with a 554/4.3.5 or similar error? Why would this be something that happens frequently? Are you providing hosting for abuse address scripts or something? The ARF format usually attaches the original message, exactly as you describe in 5), along with somewhere to put info about what went wrong, which seems to match what you're aiming for.\nGiven that you seem to have a use case that's very specific to you, it sounds like this would be better implemented in a local subclass?\n. Why not store everything and parse later? That way you have less risk on reception and can parse at leisure, flagging problem messages as you go. Since this is all about parsing messages it sounds like you're saving up trouble by rewriting the message before you know what's wrong with it, preventing you from accurately fixing your parser to deal with the exact original message. Forwarding this via SMTP seems a somewhat obtuse way of getting it to your helpdesk - does it not have an API you can stuff things into over HTTP?\n. @fbonzon What do you think of this?\n. Thanks - I was really meaning about the overall concept. My first thought as the way to do this was to use PHPMailer to set up, use getSentMIMEMessage() to get the message, then implement an SMTP transport to send it, since everything envelope-related happens down at the SMTP level. This way is easier to use though, so I think I'm fairly happy to let it in.\n. @fjaeger I think it complicates things quite a lot for a tiny edge case that's better dealt with at the SMTP level. See my closing comment on #607, which lets you achieve the same thing very simply.. You need to override PHPMailer too (BC issues). There's an article in the wiki that shows how.. I've just pushed a change to 6.0 that means you don't need to subclass PHPMailer any more; you can just inject an instance directly.. You're setting SMTPSecure = 'tls' (explicit STARTTLS) when talking to a port that expects implicit SSL, which won't work, but the ssl in your host overrides that so that it works. If you set Host = 'blah.amazonaws' and set SMTPSecure = 'ssl', it will work.\n. PHPMailer generates RFC-compliant Message-ID headers by default, but users may override it, as appears to be happening in your case. I would advise you continue with your current course - anyone using invalid IDs will soon get the message. This is the code in question:\nphp\n        if ($this->MessageID != '') {\n            $this->lastMessageID = $this->MessageID;\n        } else {\n            $this->lastMessageID = sprintf('<%s@%s>', $this->uniqueid, $this->serverHostname());\n        }\nThe RFC822 spec for message-id was updated by RFC2822 3.6.4 in 2001 and no longer mandates local-part and domain, preferring more generic constructs, though PHPMailer defaults to the earlier pattern.\n. The error handling in the createHeaders function isn't up to much, so failing there isn't convenient. As an alternative, I've altered it to simply ignore an invalid MessageID and use the default pattern instead.\n. The error handling in the createHeaders function isn't up to much, so failing there isn't convenient. As an alternative, I've altered it to simply ignore an invalid MessageID and use the default pattern instead.\n. Try setting SMTPDebug = 2. Read the troubleshooting guide.\n. Thanks. This was down to some inconsistent handling of the end of the header section. I've made getSentMIMEMessage remove any ambiguity!\n. You can just comment out the autoloader require and install and load all the dependencies yourself (there are lots), but doing so without composer is very painful, so I'd really recommend you go with the flow and get over it. I've not worked on a project that has not been improved by switching to composer.\n. No, there is one top-level dependency. There are many further packages that that package depends on. All packages loaded through composer are available on packagist.org, and you can download them manually from there, and see all their dependencies.\n. We already have the OAuthProvider namespace, so I don't think we need to go further into OAuthProvider\\Provider and put Provider after the name of every class. PHPMailer\\PHMailer\\OAuthProvider\\Provider\\YahooProvider is unnecessarily long; I think all we need is PHPMailer\\PHPMailer\\OAuthProvider\\Yahoo.\n. All those shell scripts need to be executable.\n. Can these two sets of files be combined? Would it make sense to make the Base class extend AbstractProvider so that all that functionality is available at that level? It really looks like they should use the base class as there is a lot of duplication.\nI would have a go at it, but I'm not clear why they are separate, so could you either do the combining or explain why we should not?\nBTW I merged in some changes from trunk and the 5.4 branch you may want to pull too.\n. Can you take a look at the xoauth branch? I've pushed all my changes to it, but I'm still having trouble getting anything to work, the league oauth classes made some BC-breaking changes that I don't understand, and the oauth class structure is still not pretty.\nIn your fork, you've got a different implementation of a google class inside get_auth_token - there's no way we should be doing that; it should be part of our base classes we've already got.\nAs you say, we don't really want to include too many implementations, but I think a few key ones is ok, and the abstract base means it's easier to provide compatible implementations that can be injected easily, possibly from other composer packages.\n. Why did you close this? I still need your help on this, and it's not usable at the moment, plus it's the main thing blocking the next PHPMailer release.\n. Why did you close this? I still need your help on this, and it's not usable at the moment, plus it's the main thing blocking the next PHPMailer release.\n. I think oauth is too complex to roll our own, and I don't want to maintain one, so I'm happy to have an external dependency for now, and the League packages seem to be well regarded.\nRather than putting all the oauth properties in the PHPMailer class, I was proposing to put them all in the oauth abstract base class, since they are not needed at any other time. As far as usage goes, I think we should inject the oauth object, something like:\n$mail->AuthType = 'xoauth2';\n$mail->setOAuth(new OAuthProvider\\Google);\nThat way all the oauth properties can stay inside the oauth class and don't pollute the global space, and we're not quite so tied to the underlying implementation. We can either provide a config array to the constructor, or allow setting properties inside the oauth instance via accessors.\nThis is approximately what I have been doing in the xoauth branch, but it's not really been tested, largely because I can't get the oauth token scripts to work.\nI also propose to put all the important things that are needed by the get_oauth_token script in the same classes so that one class deals with both getting and using a token. I've not tried to do that yet.\n. I think oauth is too complex to roll our own, and I don't want to maintain one, so I'm happy to have an external dependency for now, and the League packages seem to be well regarded.\nRather than putting all the oauth properties in the PHPMailer class, I was proposing to put them all in the oauth abstract base class, since they are not needed at any other time. As far as usage goes, I think we should inject the oauth object, something like:\n$mail->AuthType = 'xoauth2';\n$mail->setOAuth(new OAuthProvider\\Google);\nThat way all the oauth properties can stay inside the oauth class and don't pollute the global space, and we're not quite so tied to the underlying implementation. We can either provide a config array to the constructor, or allow setting properties inside the oauth instance via accessors.\nThis is approximately what I have been doing in the xoauth branch, but it's not really been tested, largely because I can't get the oauth token scripts to work.\nI also propose to put all the important things that are needed by the get_oauth_token script in the same classes so that one class deals with both getting and using a token. I've not tried to do that yet.\n. Just to clarify - I'm not using the League classes directly from the PHPMailer class, only within the abstract base class, so we do have a kind-of wrapper to abstract the implementation a bit.\n. Just to clarify - I'm not using the League classes directly from the PHPMailer class, only within the abstract base class, so we do have a kind-of wrapper to abstract the implementation a bit.\n. I think we will still need to use some kind of wrapper, even if it's very thin - it's better to code to an interface than an implementation even if we have no particular plan to use another implementation. Otherwise it gives us little opportunity to work around peculiarities of particular services while keeping a consistent interface, or if perhaps there are issues with a particular League class implementation that we need to override. I also don't see how we could integrate getting tokens without a wrapper since that does not seem to be in the League classes at all.\n. I think we will still need to use some kind of wrapper, even if it's very thin - it's better to code to an interface than an implementation even if we have no particular plan to use another implementation. Otherwise it gives us little opportunity to work around peculiarities of particular services while keeping a consistent interface, or if perhaps there are issues with a particular League class implementation that we need to override. I also don't see how we could integrate getting tokens without a wrapper since that does not seem to be in the League classes at all.\n. I do prefer a shallower $x-> x to  $x->x->x where possible, and doing what you suggest would help that, i.e. make the base class a subclass of the league base class rather than a wrapper, reducing boilerplate in the base class. Would that not mean that we run into inheritance problems because League's own classes extend its own base class and not ours?\nThe code at the moment is someone half-baked - OAuthProvider\\Base is AbstractProvider. What I do like about the current structure is that the specific implementations are very small, even when the providers are completely different.\nI do have a bit of a motivation problem with oauth in general. There are so many things wrong with it I hardly know where to start, but it's a necesary evil that needs to be done for PHPMailer!\nIncidentally someone pointed out that League's classes now require PHP 5.5. as a minimum, so the same will apply to PHPMailer.\n. I do prefer a shallower $x-> x to  $x->x->x where possible, and doing what you suggest would help that, i.e. make the base class a subclass of the league base class rather than a wrapper, reducing boilerplate in the base class. Would that not mean that we run into inheritance problems because League's own classes extend its own base class and not ours?\nThe code at the moment is someone half-baked - OAuthProvider\\Base is AbstractProvider. What I do like about the current structure is that the specific implementations are very small, even when the providers are completely different.\nI do have a bit of a motivation problem with oauth in general. There are so many things wrong with it I hardly know where to start, but it's a necesary evil that needs to be done for PHPMailer!\nIncidentally someone pointed out that League's classes now require PHP 5.5. as a minimum, so the same will apply to PHPMailer.\n. It would definitely be better to be able to use the league provider classes directly, then we don't need to bundle and maintain our own implementations at all.\nIs there some way we can implement this with a single class in PHPMailer? I'm seeing it heading in this direction:\nphp\n$provider = new League\\OAuth2\\Client\\Provider\\Google([\n    'clientId'     => '{google-app-id}',\n    'clientSecret' => '{google-app-secret}',\n    'redirectUri'  => 'https://example.com/callback-url',\n    'hostedDomain' => 'example.com',\n]);\n$mail->setOAuth(new PHPMailer\\OAuth($provider));\nIs that too ugly?\n. It would definitely be better to be able to use the league provider classes directly, then we don't need to bundle and maintain our own implementations at all.\nIs there some way we can implement this with a single class in PHPMailer? I'm seeing it heading in this direction:\nphp\n$provider = new League\\OAuth2\\Client\\Provider\\Google([\n    'clientId'     => '{google-app-id}',\n    'clientSecret' => '{google-app-secret}',\n    'redirectUri'  => 'https://example.com/callback-url',\n    'hostedDomain' => 'example.com',\n]);\n$mail->setOAuth(new PHPMailer\\OAuth($provider));\nIs that too ugly?\n. I don't think long class names alone is a good enough reason to have to provide wrappers for everything - PHPMailer\\PHPMailer\\OAuthProvider\\Google isn't really much shorter, and if someone wants to use a provider we don't have, they would have to write a wrapper to use it first, which is a far more complicated thing than typing a single long name. I'd say long names are a mostly unavoidable consequence of having namespaces, and it's pretty normal in other things - look at Zend Framework or Laravel. PHPMailer itself is already PHPMailer\\PHPMailer\\PHPMailer! You can always hide/qualify long names with use statements anyway.\nEven if we do provide a wrapper, they would still have to add the packages to their composer.json file.\n. I think that sounds good - I don't see extra params would be much of an issue; we can fix a fair amount with documentation.\n. OK, closing\n. Does /usr/sbin/sendmail exist, and can you execute it normally, outside PHP?\n. You'd need to ask the cPanel devs about that.\n. You'd need to ask the cPanel devs about that.\n. Thanks for the report - What a very odd problem! I don't think we have many using the Sendmail mailer. Can you extract the sendmail command line it generates and see if there's anything odd about that? It sounds like something is getting used as an address when it shouldn't.\n. Thanks\n. Take a look through the open tickets and see if there's anything you can help with, even if it's only documentation. You could also look at the unit tests and see what you can do to improve coverage.\n. Something appears to have gone very wrong with this translation. Please could you fix and resubmit it? Otherwise I will need to delete it.\n. You need to say what the error is and read the troubleshooting docs.\n. That's where the error is triggered, not how it gets there. Read the guide, do what it says. It's likely your PHP configs differ. \n. If that command is disabled you will need to switch to using the mail or SMTP transports.\nThe vendor folder is created when you run composer install.\n. Sorry, I know that you're just trying to get credits for a course, but there's no point in adding unnecessary weight to the project like this.\n. There is no such option. Embedded images are simply attachments that are referenced from the message body. Whether they are shown as such is up to the client.\nYou could reference external images, which is probably more reliable.\n. Thanks, I've updated it in a similar way. Note that the creation of these messages changed quite a bit between 5.2.13 and 5.2.14 - please always submit patches against the latest version.\n. Thanks, I've updated it in a similar way. Note that the creation of these messages changed quite a bit between 5.2.13 and 5.2.14 - please always submit patches against the latest version.\n. It's not in a tagged release yet, but it's committed to the master branch. If you download a zip from the project home page, it will be in there.\n. It's not in a tagged release yet, but it's committed to the master branch. If you download a zip from the project home page, it will be in there.\n. You need to add the missing libraries to your composer.json file, as described in the readme. They are not included by default because they are not compatible with older versions of PHP and not everyone needs them.\n. You need to add the missing libraries to your composer.json file, as described in the readme. They are not included by default because they are not compatible with older versions of PHP and not everyone needs them.\n. By reading the composer docs.. By reading the composer docs.. The connection to your server is being blocked. Fix that and it will work. This is covered in the docs that the error message points to.\nAlso you're using and 'ssl'-type connection to port 587. That generally won't work as port 587 expects explicit STARTTLS, so change your code to $mail->SMTPSecure = 'tls';.\n. The connection to your server is being blocked. Fix that and it will work. This is covered in the docs that the error message points to.\nAlso you're using and 'ssl'-type connection to port 587. That generally won't work as port 587 expects explicit STARTTLS, so change your code to $mail->SMTPSecure = 'tls';.\n. There have been some minor changes to the MIME structure returned by getSentMIMEMessage() recently. It has not been tagged as a release as yet, so try using the master branch or setting your composer.json to use dev-master until it's released.\nI don't know if that will fix your issue, but it's worth a try.\n. There have been some minor changes to the MIME structure returned by getSentMIMEMessage() recently. It has not been tagged as a release as yet, so try using the master branch or setting your composer.json to use dev-master until it's released.\nI don't know if that will fix your issue, but it's worth a try.\n. PHPMailer isn't an IMAP client, and that sounds like an Exchange-specific problem, but I guess it may be useful to others to know that.. PHPMailer isn't an IMAP client, and that sounds like an Exchange-specific problem, but I guess it may be useful to others to know that.. PHPMailer 5.2.x supports PHP versions back to 5.0, and checking for a deprecated ini value will not raise any warnings or errors in PHP 5.4 or later. It's use here is appropriate so I'm going to leave it there, but if you'd like to resubmit this against the 5.4 branch, I'll accept it there.\n. PHPMailer 5.2.x supports PHP versions back to 5.0, and checking for a deprecated ini value will not raise any warnings or errors in PHP 5.4 or later. It's use here is appropriate so I'm going to leave it there, but if you'd like to resubmit this against the 5.4 branch, I'll accept it there.\n. Thanks\n. Thanks\n. Unfortunately that would result in a massive performance hit. That sleep means you can never send more than 1 message per second, whereas I'm used to seeing up to about 200. We are using stream_set_timeout so I don't know why fgets would not be timing out according to that, as the docs say it should.\n. Unfortunately that would result in a massive performance hit. That sleep means you can never send more than 1 message per second, whereas I'm used to seeing up to about 200. We are using stream_set_timeout so I don't know why fgets would not be timing out according to that, as the docs say it should.\n. This seems a little strange overall. You can't even attempt to call STARTTLS until you have connected. Do you mean you're using a traditional SMTPS (Port = 465 and SMTPSecure = 'ssl')? In this case SMTPDebug = 4 should show that happening. Because the connection is opened by an earlier fsockopen, it seems strange that it would not have already issued a select for that stream. There is a comment in the docs saying that stream_select should not be used with blocking connections (which is what we're doing), though the underlying reason is not clear.\nThe 300 sec default timeout is an RFC requirement, and I frequently see Yahoo servers waiting over 2 minutes before saying responding. If you're submitting via SMTP during a page load, this obviously gets in the way, but unfortunately that's the nature of SMTP - it's just not much good for anything real-time, so you need to hand off the transaction to something async, like a cron job.\n. I think this sounds like a PHP bug since I don't see anything to suggest that fgets should ever ignore the stream timeout. I found this old bug that might be what we're seeing. Also issue #517 had exactly the opposite problem!\nAnother workaround (and what I'd recommend anyway) is to submit to a local mail server. That way you should never have timeout issues and you don't need to worry about cron running into trouble either.\nBTW Timeout is the max allowed duration for the initial connection to return something, so that's the issue here. It covers the time from the initial connection setup until the first response from the server. Timelimit is the maximum allowed time for an SMTP command to complete after it has been issued - for example if a server is doing spam filtering on end-of-DATA, it may take a while, but the timelimit does not include the upload time itself, it only starts when the '.' has been sent. Also note that PHPMailer doubles the timelimit value for DATA (i.e. 10 mins by default) - the limits set in the RFC are a bit variable and it's easier to make everything proportional to a base value than provide lots of separate timeout properties.\n. I've made this change in the 6.0 branch - thanks for all your input and testing.. Take a look at the examples, and read the troubleshooting guide that message links to.\n. What I'd like to see is an example of a complete delivered message generated using each version (preferably with identical content) so we can compare them and see the differences. The examples you posted are not encoded messages so they are no good for seeing what's wrong with the encoding.\n. @Blurn - Those examples are utterly corrupted, nothing like an email should like - they look like they are pulled from a log file or something, not an email program?\n@ttmjason - in your email program you should be able to \"show original\" or \"view source\" on a message, then copy and paste the content. Your mail program may be able to save the message directly in its raw form (usually with a \".eml\" extension).\n. @sarahkemp Those two files are absolutely identical - they look like the source of the original message body before sending, not of a delivered message. That SO answer says that the problem does not appear if you're sending using SMTP (i.e. you're calling isSMTP) - does that happen for you too?\n. @sarahkemp Those two files are absolutely identical - they look like the source of the original message body before sending, not of a delivered message. That SO answer says that the problem does not appear if you're sending using SMTP (i.e. you're calling isSMTP) - does that happen for you too?\n. @sarahkemp Those are still decoded bodies, not complete messages - they should start with email headers - both go straight into HTML. It's odd that one uses UNIX line breaks, the other Windows.\nThe HTML content is also missing <html>, <head> and <body> tags, which won't be helping, unless it's your client that has stripped them.\n. @sarahkemp Those are still decoded bodies, not complete messages - they should start with email headers - both go straight into HTML. It's odd that one uses UNIX line breaks, the other Windows.\nThe HTML content is also missing <html>, <head> and <body> tags, which won't be helping, unless it's your client that has stripped them.\n. @Blurn thanks, those look right!\nI see several oddities in both messages:\n- Two MIME-Version: 1.0 headers\n- Missing pre-multipart text (before the first boundary)\n- Boundary strings not in PHPMailer format\n- The 5.2.14 version has additional quoted-printable-encoded = at random points\nMost of these don't look like they are caused by PHPMailer since it doesn't do it in other circumstances. At a guess I'd say that your email extractor doesn't really extract, but reconstructs a message from the available data. Could you run the same code to create your message, but just before calling send() do this:\n$mail->preSend();\necho $mail->getSentMIMEMessage();\nThis should dump you a copy of the message as it is sent. Alternatively, BCC the message to an account that you don't use Outlook to read. Either way that should provide more info about where this problem is happening.\n. Thanks, that's more informative - and the structure is quite different to what's turning up in Outlook! The problems with headers have gone away, and there is no multipart structure and no plain text version, suggesting that Outlook is being quite creative with what it receives. What's left looks like a problem with line break formatting - the extra encoded = are occurring at line breaks in the bad gmail example.\nI'll look into this, but while I'm doing that could you try using the code in the current master branch rather than the 5.2.14 release version - there were some changes relating to line breaks just recently.\nIt would be useful to compare what you sent with what shows up in your mailbox, so it would be useful to see the generated messages before they are sent - if you write them directly to a file rather than echoing it will eliminate copy/paste as a source of differences:\n$mail->preSend();\nfile_put_contents('email1.eml', $mail->getSentMIMEMessage());\n. In those examples I see no gap between X-Mailer and MIME-Version headers? The 5.2.10 version has an additional X-Priority header and a trailing slash in the X-Mailer URL. Neither of those should cause such problems, but it would be good if you could experiment further to see if they do!\n. In those examples I see no gap between X-Mailer and MIME-Version headers? The 5.2.10 version has an additional X-Priority header and a trailing slash in the X-Mailer URL. Neither of those should cause such problems, but it would be good if you could experiment further to see if they do!\n. The extra line breaks looks suspiciously like we've got mixed format line breaks - the headers using \\n and the body using \\r\\n, and later on \\r has been converted to \\n, resulting in double breaks. Can you try setting $mail->LE = \"\\r\\n\";? This is something I've been contemplating setting as the default.\n. The extra line breaks looks suspiciously like we've got mixed format line breaks - the headers using \\n and the body using \\r\\n, and later on \\r has been converted to \\n, resulting in double breaks. Can you try setting $mail->LE = \"\\r\\n\";? This is something I've been contemplating setting as the default.\n. This is very weird. The only one of those that is technically correct is 5.2.15 with the changed LE, in which all line breaks are CRLF. 5.2.10 without the change has one notable feature: the line breaks immediately after the subject line (that separates headers from body) are an LF followd by a CRLF; all others are LF:\nSubject: Test Email<LF><CR><LF>\nThe original examples in this issue show a kind of strange double-QP-encoding that's causing the extra = chars, which I can only attribute to something between the sender and receiver - in my experience Outlook might render things oddly, but it doesn't mess with the message source. Does your client have any kind of mail/spam filter? I've seen some do horrific things to messages...\n@kenschenke Are these examples taken from the client's Outlook, or are they copies of what you sent?\n. BTW the reason I'm thinking of forcing CRLF as the line ending is this; it's a direct contravention of the RFCs to do anything else. In light of that, it would seem reasonable to remove/ignore the LE property altogether - its existence orginates before my time with PHPMailer!\n. To anyone seeing this happen, can you try BCCing yourself in a message that this happens in in an account not going though Outlook or that server? That way we would be able to tell if the corruption in the message is occurring before or after sending.\n. Thanks, so it sounds like I should be able to reproduce it with a live.com account.\n. Well that wasn't very productive. I'm finding it works (with your exact content) perfectly on outlook.com with either \\n or \\r\\n breaks!\n\nIs there any difference between outlook.com, hotmail and live?\nHave you tried setting $mail->Encoding = 'base64';? It's more likely to get trapped by spam filters, but it might be more robust to that forwarding system.\n. It's still not resolved. PHPMailer 5.2 can be inconsistent in its line break formats (as you can see from earlier in this thread). My best suggestion at the moment is to try PHPMailer 6.0 (not yet released) which is completely consistent in its line break format and a little more conservative about adding unneeded breaks.\n. Doing that will mean that lines may exceed the maximum length permitted by the RFC, and the approach PHPMailer takes is exactly the same as what Apple Mail does, so it's not exactly controversial. The quoted printable encoding the PHPMailer does is pretty strict and does not have problems in general. Some examples posted here show stray = chars occurring in places where PHPMailer did not insert them, so something else is messing up the encoding, possibly some spam filter. This problem appears to be specific to some particular configurations of outlook, so it's hard to reproduce - for example I have sent byte-for-byte exact copies of the problematic examples posted here into my own outlook account without any problems at all.. It does seem to be a line length issue. PHPMailer spots long lines and automatically switches to using quoted-printable encoding to wrap long lines safely. However, from what we've seen above, sometimes hotmail re-encodes and rewraps at a shorter length, resulting in a double encoding without matching MIME changes (i.e. corruption). You can tell this is happening because the spurious = chars appear in places that there were none in the original message, and the identical message CC'd to a non-corrupting client does not exhibit the problem.. There has been some work on a possibly related bug in #953, which includes various workarounds. Please can you have a go with the latest 6.0.0rc5 release to test.. The extra spaces and stray = are not being added by PHPMailer - the message is ok at the point it's sent, it's corrupted on receipt, and only by hotmail/outlook. 6.0 works from PHP 5.5 and deals with the problem in a different way, and there's a fair amount of code relating to it that I don't want to back port - I really just need to get 6.0 released, so I'm glad to hear that it's ok for you in the 6.0rc.. 6.0 has finally been released! Hopefully the changes in there will fix this problem, but if it has not, please open a new issue.. This looks very similar to #584, but implemented in a different way.\n. I'm thinking that this approach is all a bit overcomplicated. As this is a corner case that only really applies at the SMTP level, I'd say the easiest way to do this is to subclass the SMTP class and override the recipient() method to just ignore certain addresses. It's then maintainable in your app's context, can survive library updates, and does not require inclusion in core. Along the lines of:\nphp\nclass MySMTP extends PHPMailer\\PHPMailer\\SMTP\n{\n   public function recipient($address)\n    {\n        if (in_array($address, ['user@example.com', 'user2@example.net'])) {\n            return true;\n        }\n        return parent::recipient($address);\n    }\n}\nThe Content-Location commit (9874728) is unrelated and should be moved into a separate PR.\n@kidplus2002 I have no idea what you're talking about!. Good call - I've added it, though note that the wiki is publicly editable.\n. Not clear what you mean. Can you provide an example? The CTE is independent of Charset.\n. You're just misunderstanding the RFC. It doesn't say that all parts need to use the same charset, it says they need to use the same semantics, i.e. the way that the charset is expressed, which they are. You can mix whatever charsets you like without breaking the semantics.\n. Yes; install a local mail server and send via that. SMTP is not a fast protocol and is unsuited to sending messages during page submission. This is covered in the docs too.\n. This is really not within PHPMailer's scope. PHPMailer doesn't have anything to do with saving form values, that's up to your app. If you're referring to things like the code generator script, by all means submit a PR if you want to improve it, but it's not a priority.\n. No, not automatically as it's too intrusive, but many have no idea how to even get to a command line on their server, let alone install/run telnet or do DNS lookups, check SSL certs. It may still lead to duplicate questions on SO for those incapable of reading an error message, but it would make them much simpler to deal with.\nI think the most effective way would be to implement it as a method that you would call just before or after send() - perhaps adjust the examples to call it if a send fails, perhaps:\nphp\nif ($mail->send()) {\n    echo 'yay!';\n} else {\n    echo $mail->diagnose();\n}\nWe could also make the error message pointing at the guide a bit harder to ignore!\nThere was a problem sending your message.\n ____  _____    _    ____    _____ _   _ ___ ____  _\n|  _ \\| ____|  / \\  |  _ \\  |_   _| | | |_ _/ ___|| |\n| |_) |  _|   / _ \\ | | | |   | | | |_| || |\\___ \\| |\n|  _ <| |___ / ___ \\| |_| |   | | |  _  || | ___) |_|\n|_| \\_\\_____/_/   \\_\\____/    |_| |_| |_|___|____/(_)\nBefore asking a question on SO or opening an issue on github, read this page:\nhttps://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. @elminson Pulling in static copies of figlet isn't helpful - they should be loaded via composer, if at all, and isn't really the point of the diagnose function.\nAn implementation of the diagnose function as I suggested has some implications for class size - PHPMailer is already too big - and I'm not sure how to reconcile that with the need for being in-context with minimal code changes to use it. Take a look at #640 anyway.\n. Generally you will get that error when Body is empty, which really doesn't need further explanation, but it's also possible to get that exception if you do something silly like this:\nphp\n$mail->addAttachment('filename.jpg');\nunlink('filename.jpg');\n$mail->send();. Generally you will get that error when Body is empty, which really doesn't need further explanation, but it's also possible to get that exception if you do something silly like this:\nphp\n$mail->addAttachment('filename.jpg');\nunlink('filename.jpg');\n$mail->send();. Pay attention to the detail: PHP is case sensitive: $mail->body and $mail->Body are not the same thing.. Pay attention to the detail: PHP is case sensitive: $mail->body and $mail->Body are not the same thing.. Thanks; I merged the valid changes manually.\n. I didn't think thre was any particular merit in changing \"from PHP\" to \"using PHP\"; \"with PHP\" would work too, but all are interchangeable.\nmultipart is a specific MIME term; it should not be hyphenated.\nI'm fairly sure StackOverflow is officially \"StackOverflow\", not \"Stack Overflow\"; same goes for other StackExchange sites such as ServerFault, SuperUser, AskUbuntu, etc.\nanymore is an American contraction; I'm not American.\n. OK, I've fixed that. Without pedantry I don't think there would be any code! :wink: \n. Great stuff, thanks\n. Yes, that's why it says exactly this in the comment on line 2049. It willl only ever get to line 2056 if it's not a multipart message, as checked at line 2050.\n. You're misunderstanding both the code and that comment. Like it says, multipart elements will only ever have 8bit, binary or 7bit transfer encodings. Binary isn't really a viable type, and 7bit doesn't need to be declared as it's assumed by default. The comment you referred to is talking about child elements within the multipart, because you can't have a 7bit multipart containing 8bit child elements, but because quoted-printable and base64 encodings are 7-bit safe, we only need to concern ourselves with CTE for the multpart if the user has requested an 8bit CTE. I don't know how to make this clearer; There is no path through this code that will result in a multipart element having quoted-printable or base-64 CTEs; it will either be unset or 8bit.\n. Please learn to format your code properly.\nIt's failing at STARTTLS so it's likely to be a cert or local ssl config issue. Read the troubleshooting guide https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting and test your ssl connection outside PHP. \n. @rupamd and did you do what I suggested?\n. Oops, thanks\n. As @ooxi said, while this is clearly \"more unique\", it's not in a place where that actually matters.\n. Please show the SMTP transcript for this with $mail->SMTPDebug = 2;.\n. Add $mail->SMTPDebug = 2; to your script, then run it as normal.\n. Please post your whole script. Are you using isSendMail() or isMail()?\n. You need to run composer install, as the docs say.\n. The way to deal with this is simply to enable TLS and verify your connection (which PHP does automatically as of 5.6). It will fail to connect if the cert doesn't match. This is a much more reliable check that simply matching hostnames to greeting messages, since they can be faked.\n. The way to deal with this is simply to enable TLS and verify your connection (which PHP does automatically as of 5.6). It will fail to connect if the cert doesn't match. This is a much more reliable check that simply matching hostnames to greeting messages, since they can be faked.\n. Without code to reproduce and examples of received problem messages there's enothing I can do. Make sure you're using the latest version.\n. As far as I'm aware, composer doesn't have that functionality - all you can specify is the package and its version. PHPMailer is trivially small so it's really not worth worrying about - it's more of an issue with big things like symfony that download hundreds of megabytes of scripts.\n. You need to be more specific. What happens when you try to send? What version of PHPMailer? What errors appear or are logged? Have you configured SSL correctly? Have you read the troubleshooting docs and done all it suggests?\n. You're serving a self-signed cert so it's failing verification.\n. Because, in a change from 5.5, PHP 5.6 defaults to verifying SSL certificates, as it says in the guide.\n. It's in the PHP 5.6 upgrade docs. PHPMailer uses opportunistic TLS - if you don't specify to use TLS, but the server advertises it, it enables it automatically. You can disable that by setting $mail->SMTPAutoTLS = false, but it's a bad idea to do that.\nFix your cert, and all will work, like the docs say.\n. Thanks, I swear I've fixed these about 3 times now! They keep coming back during branch merges that are proving very painful!\n. Your code? I assume you're running latest PHPMailer (5.2.14)? You're also running an old and insecure version of PHP.\n. Can you set SMTPDebug = 2 and post the output (edit addresses if needed).\n. Please read the docs that the error message pointed you at.\n. Same way everyone else does; read the docs, do what it says. . Same way everyone else does; read the docs, do what it says. . Your network is preventing you from connecting, or you\u2019re trying to connect to something that is not a mail server. It\u2019s not a client code problem. Read the docs it points to for more info.. Your network is preventing you from connecting, or you\u2019re trying to connect to something that is not a mail server. It\u2019s not a client code problem. Read the docs it points to for more info.. Since #604 suggests that PHP itself lacks the ability to time out correctly, I don't know there's anything we can do - unless you have any better solutions? With that combo I would expect it to open a tcp connection successfully, but then be unable to transmit or receive anything over it due to the broken encryption layer. An appropriate solution is \"don't do that\" - it's not as if correct values are undocumented. SMTPS on port 465 has been deprecated for 18 years anyway.\n. A warning for what? We can't know there's a problem until it happens, at which point we can't do anything. You're free to use any protocol on any port, not just standard ones (e.g. it's common to use tls on port 25, and I've seen SMTPS on port 80), so we can't reasonably issue warnings where there isn't a problem as it would just be annoying. The standard port/proto combos are well documented, covered in the troubleshooting guide, and all examples use correct defaults. That said, it would be a good thing to check in the proposed diagnostic function in #612.\n. Yes, PHPMailer doesn't really intend to support sending raw messages - you're better off storing the component pieces and constructing on send, or implementing your own transport using the SMTP class and avoiding the PHPMailer class itself - and that would be a valuable PR!\nYou can already set the content type header directly, and the MIME header is never different so you shouldn't need to add them as custom headers anyway. Many headers are allowed to have duplicates, so this fudging is quite a can of worms.\n. Well there's nothing wrong with this code (though you should avoid setting Mailer directly - call isSMTP() instead), so this is not where you problem is. You don't say what the actual problem is, nor do you provide any debug output, so there's nothing for me to go on here.\n. Set up composer on your local machine, install all the packages PHPMailer wants with it, then upload the whole vendor folder to your server.\n. What? That you need this package is already documented in the readme and OAuth tutorials. It's impossible to give a list of exactly what packages are required because depending on what service you want to use, and what else you're doing in your particular app, it could expand to an unknown number of dependencies (possibly hundreds), and that could also change over time. The whole point of using composer is that you just don't have to care, because it deals with it all for you. If you'd like to provide a manual dependency resolution service that will expand to precisely the set of include lines you need, be my guest, but you'd be wasting your time.. Um, no. It would require a lot more than 8 require statements. To set up a new project with composer all you need to do is:\ncomposer require phpmailer/phpmailer\ncomposer require league/oauth2-google\n\nthen\nrequire 'vendor/autoload.php';\n\nin your script, and that is literally it. There is no more you need to do to start using all the relevant classes. You may not even need to require the autoloader because your framework probably already does it for you.\nThose two composer packages install around 70 classes, and you don't know exactly how they depend on each other, what folders they live in \u2013 but you don't need to. It could take hours of manual trawling to figure it out - and it could be all different tomorrow when one of them updates, and for a slightly different dependency like hayageek/oauth2-yahoo, it could be an entirely different set of requires. \nSomehow you're suggesting that doing all that (and documenting it, and keeping it up to date) is simpler than using composer?. I'm not assuming you're using a framework, but many are. It's not 70 different libraries, it's 70 different classes stemming from a dependency on just 2 top-level libraries (phpmailer and the gmail oauth package), and hence up to 70 different 'require' statements if you want to do it manually. Any non-trivial application will quickly descend into dependency disaster if you don't have a coherent way of managing the dependencies, which is what package managers do. As soon as you even contemplate registering an SPL autoloader for a single class, you're already in a situation where you're probably better off with a well-tested solution like composer (which doesn't necessarily imply using any external/3rd party packages at all).\nYes, the requires you need for PHPMailer alone do not amount to much - but as soon as your app needs more than a single library, it will explode. PHPMailer is not an app, it's a library that does two things, and it's entirely intended to be used with other libraries and frameworks with as little friction as possible, and for PHP, that means using composer.\nThe NPM problem was that they stupidly allowed dependent packages to be deleted, and was compounded by the fact that NPM is stuffed with a zillion tiny libraries because JS has so little baked in; PHP doesn't have that problem because so much is built in, and composer just does a better job of it anyway.. It looks like you have not loaded the oauth2 packages from composer, or you're using an old version of PHP.\n. You need to read the docs.\n. At the moment you can't. Save the properties you used to generate the message instead.\n. It's just because the openssl function that is used in DKIM signing requires a path to the key and doesn't accept a string, so it's better to leave control over where the file is written to you rather than trying to figure out somewhere safe to write it.\n. This is because you're trying to use explicit SSL on a port expecting implicit. Also, Port should be an integer, not a string. So try either tls / 587 or ssl / 465. Don't mix up the values.\n. This isn't a reasonable thing to do as while it's unlikely, none of these combinations are set in stone and all are legitimate - it's not our job to prevent anyone using SSL on 587 and TLS on 465 if they want to. I'd suggest generating a warning if debug mode is enabled instead, and it would be a good thing to include in #612.\n. I'm inclined to agree with @SDKiller on this. We don't need a massive expansion of private methods either - it can be a simple single function. It would be nice to keep it separate as PHPMailer is too big already, however part of the advantage of the diagnose function as proposed is that it automatically gets access to everything in the correct context, and making it external would necessarily make it much bigger and more complex.\nGenerally, since this is a library that anyone should be free to subclass and do anything with (I can't really think of anything that should not be accessible to child classes), we don't make anything private, only protected.\nAlso, please rebase before making PRs.\n. I can't tell what's going on if I can't see your code - please post it.\n. You've based your code on an obsolete example, so make sure you're using latest PHPMailer.\nYou're re-using the PHPMailer instance each time around the loop (which is good), but note that addAddress and addAttachment are both add operations, not set, so they will accumulate - not only are you sending both attachments the second time, you're also sending them to both users. You should clear them at the end of your loop by calling clearAttachments() and clearAllRecipients(). Look at the mailing list example in the examples folder.\n. > It seems that if openssl is detect it always attempts STARTTLS even if the server does not support this.\nNo, it automatically enables TLS if the server supports it. If the server doesn't support it, you should get a new server, but you can disable this behaviour by doing what @scara said. If your server supports TLS but it's broken (e.g. it's publishing an invalid cert), that's a server problem, not a PHPMailer problem.\n. Why is your mail server publishing an invalid cert anyway? Fix this the right way - get a real cert or disable TLS. It's not as if it will cost you anything. You can also \"fix\" this by configuring PHP not to check the cert, but that's a broken approach too. PHPMailer's treatment of it is the same as other mail servers.\n. It helps to read the docs that the error message points you at. It will tell you that PHP 5.6 changed its policy on accepting invalid certs, so you either need to allow the use of a bad cert, or fix your mail server.\n. You're actually running into another thing too, which is also covered in that doc: PHPMailer does opportunistic TLS: your server advertises that it supports TLS, so PHPMailer enables it automatically. You can disable that by setting $mail->SMTPAutoTLS = false;. All these \"fixes\" are not really fixes; they are workarounds for your misconfigured mail server.\n. Indeed, those docs are out of date and need removing.\n. DKIM docs and examples have been updated in the 6.0 branch, including key generation, so there's no longer a need to generate keys on a site you don't control (as if that was a good idea anyway!)\n. Read the troubleshooting guide on the wiki - you probably have 'less secure apps' enabled on one but not the others.\n. You're unlikely to find any recent answers because it hasn't changed since about 1982. SMTP is a slow, chatty protocol and it's unsuited to sending on an interactive basis, e.g. during web page processing. If you want it to return faster, hand it off to another process such as a local mail server, or queue it in a DB or memcache etc and send from a cron job.\n. Check memory_limit too - PHPMailer uses quite a lot when procesing large attachments, and email is really not a good way of transferring large files.\nDoes your script work correctly without the attachment?\n. Well obviously - an SMTP problem will only occur when your'e using SMTP!\nWhat happens when you do this:\nopenssl s_client -starttls smtp -crlf -connect smtp.gmail.com:587\n. You're asking PHPMailer to connect to smtp.gmail.com, but the HELO message you receive says it's main.reidash.com. Conclusion: your outbound mail connections are being redirected to your ISP's mail server, which of course uses different authentication. This is covered in the docs.\nAlso PHP 5.4 is no longer supported; you should upgrade.\n. Read the README about how to use PHPMailer; you need to load the autoloader.\n. Please don't do this.\n. That SO question is using a very old version of PHPMailer, and the chosen answer has several major errors. Are you using the latest version (5.2.14)?\n. Do you really need POP-before-SMTP? It's a very old system - I last used it in about 1992!. Usually if you have that, you don't need to authenticate via SMTP.\nTo see debug output, don't touch do_debug, and set SMTPDebug = 2.\n. Well, \"permission denied\" looks pretty clear. You have some kind of permissions issue with your PHP installation. Fix that and it will work. It would help if you did what I suggested, you'll get more feedback.\n. Nicely observed, thanks.\n. This isn't PHPMailer's problem as it has nothing to do with inbound email - you need to fix your autoresponder to detect loops. Sending out messages that look like bounces but are not is a bad idea too. I can't think of any legitimate reason to put an invalid address in Sender anyway - you can always set your mail server to blackhole it rather than having a real address.\n\nThat is what is used to answer to an invalid email destination address from a catch-all inbox. \n\nGot an RFC reference for that? How can a catch-all reject some addresses? It's either a catch-all or it's not. Anything that's an actual bounce should have its return path set to <>, but an auto-response is not a bounce, it's a reply.\nOfficially, the way around this is that autoresponders are not supposed to respond to messages marked as Precedence: bulk, but unfortunately it doesn't stop a zillion na\u00efve implementations from doing just that.\n. Thanks. I cleaned up the instance check to be more accurate too.\n. Sounds like the names are wrong, your DNS isn't working, the domain has missing DNS entries, or your network access to them is blocked.\n. Setting SMTPDebug = 2 will show what the server is doing, but generally this is not surprising. Many servers do things like virus scans after end-of-data and it can be quite slow - this is just SMTP business as usual. If you want quicker response while handling a web page request, hand off the job to an async process - e.g. queue it and send it from cron, or send it via a local mail server.\n. Demanding immediate help when you won't even click a link that tells you how to figure it out isn't going to get you very far.\n. > all the steps given in that page\nApart from the fundamental one about turning on debug output so you can see what's happening - you even went so far as to comment it out!!\n. That's not very useful without knowing where the link to that location is!\nI fixed some broken links in the readme, so I assume that's what you meant.\n. Are you sending to CC and BCC only (no To)? Can you post an example SMTP transcript of this happening (set SMTPDebug = 2) using a tiny attachment?\n. That doesn't make much sense. The transcript contains this:\n2016-03-22 17:36:58 CLIENT -> SERVER: MAIL FROM:\n2016-03-22 17:36:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2016-03-22 17:36:58 CLIENT -> SERVER: RCPT TO:\n2016-03-22 17:36:58 SERVER -> CLIENT: 250 2.1.5 Ok\n2016-03-22 17:36:58 CLIENT -> SERVER: RCPT TO:\n2016-03-22 17:36:58 SERVER -> CLIENT: 250 2.1.5 Ok\nDid you remove the parts after the Client lines?\nThe message itself does not contain a CC header, and the From and Reply-to headers do not contain email addresses. It would help to see your code (remove passwords). BTW the transcript contains easily-decoded passwords (in the lines containing CLIENT: 334) so I suggest you edit them out and/or change your passwords.\n. Your updated transcript contains another RCPT TO line with no arguments. As shown, this message will not be delivered to anyone.\n. This has been fixed by a mixture of skipping the ../ prefix and using realpath. There were several other places that used such paths, so hopefully those are fixed too.\n. @Ssasikuma Follow the link, and read what it says above - I'm not about to give you a different answer.. I can send and receive that file with no problem using PHPMailer. Looking at the structure of the message, all appears correct. PHPMailer can get quite memory intensive on large attachments, so check you're not running out of allocated memory.\n. If you set SMTPDebug = 2 you will see the entire MIME structure as it is sent. If that does not match exactly what you receive, then there is filtering breaking your stuff.\n. Um, that code doesn't make much sense. The file upload example code does it correctly - the only worthwhile thing it adds is the error message output.\n. I'm running into a silly PHP problem in the get token script - it seems impossible to create a class from a string name if the class name is aliased from another namespace, which is exactly what we're doing! I posted it on SO. Got any ideas?\n. It seems it is impossible to use dynamic class names if they are in aliased namespaces, so I just rewrote to use literals instead. The get_auth_token script should work now (you'll still have to jiggle composer.json packages), please give it a try.\nDo you know if the Yahoo and MS providers need values in the options array like Google does?\n. There doesn't seem to be a way of getting a Google refresh token using a redirect URI only accessible to the developer (like localhost or a .local). Makes it pretty hard to test. Do you know any way around that?\n. It seems inconsistent - I tried to add that URI to my credentials and it refused saying it must contain a valid TLD, but I tried it again and it worked!\n. I'm running into another problem with this. It's failing to verify the google cert after requesting permission. I have installed the latest cacert.pem file from curl and set my php.ini to point at it as both openssl.cafile and curl.cainfo properties, but I'm still getting \"cURL error 60: SSL certificate problem: unable to get local issuer certificate\":\n\nIf I manually patch guzzle to point directly at the CA file it still fails; if I disable verification it succeeds, so it's definitely a verification problem.\nLooking at the certificate chain for accounts.google.com, it uses the Google Internet Authority G2 intermediate certificate (which is not in the CA file), and then the GeoTrust Global CA cert (which is in the CA file). I downloaded the google G2 cert, converted it to PEM and added it to the CA file, but that didn't help.\nCuriously, the string verify does not appear in the league classes at all, suggesting that it relies on the default guzzle setting of true, and is then supposed to get the CA file from the PHP cafile or capath properties.\nDoes the callback URI need to be secure as well?\n. I'm running into another problem with this. It's failing to verify the google cert after requesting permission. I have installed the latest cacert.pem file from curl and set my php.ini to point at it as both openssl.cafile and curl.cainfo properties, but I'm still getting \"cURL error 60: SSL certificate problem: unable to get local issuer certificate\":\n\nIf I manually patch guzzle to point directly at the CA file it still fails; if I disable verification it succeeds, so it's definitely a verification problem.\nLooking at the certificate chain for accounts.google.com, it uses the Google Internet Authority G2 intermediate certificate (which is not in the CA file), and then the GeoTrust Global CA cert (which is in the CA file). I downloaded the google G2 cert, converted it to PEM and added it to the CA file, but that didn't help.\nCuriously, the string verify does not appear in the league classes at all, suggesting that it relies on the default guzzle setting of true, and is then supposed to get the CA file from the PHP cafile or capath properties.\nDoes the callback URI need to be secure as well?\n. Aha - I think I found the cause - my curl install (that PHP was using) was using libressl instead of openssl and it seems it doesn't like that.\n. Aha - I think I found the cause - my curl install (that PHP was using) was using libressl instead of openssl and it seems it doesn't like that.\n. BTW I've merged the xoauth branch into the new 5.5 branch\n. BTW I've merged the xoauth branch into the new 5.5 branch\n. The workaround you found is exactly what is described in the PHPMailer docs that the error message you will have seen pointed you at; this is not news.\nIt's really not a vulnerability. OAuth2 is an authorisation protocol that is being widely (ab)used as an authentication protocol. Essentially instead of saying \"I can prove who I am\" it says \"That site over there can prove who I am\", and the means by which \"that site\" knows who you are is exactly the login mechanism that google describes as \"less secure\", so it's really no different\nI suspect their painting of OAuth as a more secure approach is a means of getting more people to sign into sites using google (and similarly for other \"social logins\" such as Facebook and twitter), but it's actually (though they will swear otherwise) a means of getting more information about users on sites they would not otherwise have access to. For example, you visit a new site and sign up for it using a google login, and later on you start seeing ads relating to similar sites when you're in gmail...\nYou'll find that using OAuth as a developer is extremely unpleasant, and if you factor in the effective privacy violation inherent in most popular providers, it's pretty awful as a user too. Unfortunately there is no way around that. Everybody loses.\nPHPMailer has limited support for XOAUTH2 (currently only for gmail), but it is being improved substantially in the next major release. You can read more about it in the wiki.\n. I'm not sure what's wrong there, it looks like you're doing it all right. You may or may not be glad to know that this is all changing... If you look in the xoauth branch there is a major refactor underway that should make using xoauth2 a bit more transparent, though it's not quite there yet. I quite agree that OAuth is horribly confusing to work with!\nBTW if you find differences in the wiki, it's publicly editable, so please do update it so that others can benefit.\n. @renardrouge no - in the new version composer takes care of loading both PHPMailer and dependencies. Much neater!\n. @renardrouge you're learning that working with dev versions isn't always tidy, but you seem to be doing ok!\nI've pushed a whole load of changes merged from master and the 5.4 branch into xoauth - getting much closer to releasability!\nYou should not turn off certificate verification if you can possibly avoid it - google will not be publising invalid certs - though they can't tell if you do because you're still accepting whatever they give you, and the connection will still be encrypted.\n. That's just what I was thinking - it will be down to the operator precedence of . vs ?. I often find ? troublesome in that regard! I've just pushed that fix.\n. It's not required to be anywhere - it can be any URL. That line in the token script attempts to generate a URL that points back at itself, wherever you put it. For the token issuing mechanism to work it needs a URL to send the result back to, so rather than making you set one, we attempt to generate one that should work in many cases. If it doesn't work, you can just set it manually to whatever you need. Generally you will only need to do this once - once you have the refresh token, you don't need to go through the process again, and you can use that key as many times as you like behind the scenes for actually sending your messages. This is why the token script is pretty basic - only developers will need to use it; it's unlikely that you'd want it to be user-facing.\nIt's not really anything to do with javascript - it's just a URL that google's scripts will call when they issue the token.\n. The Version property was deprecated some time ago. The version number is not variable, so it was changed to a constant. You should change your code from $mail->Version to PHPMailer::VERSION.\n. That sounds like your local CA file is missing or out of date. Tweaking the class is a bad idea (because it's hard to maintain), and it's fixing the symptom, not the cause. Fix the cause and the symptom will go away.\n. I'm pretty happy that this script now works with the new 5.5 branch, so I'm closing it.\nFYI I ran into the cacert problem sa swell and it turned out to be a problem with the libcurl my PHP was using - it was built with libressl. I recompiled with openssl and it all started working, so I added a note to the troubleshooting guide about it.\n. I'm pretty happy that this script now works with the new 5.5 branch, so I'm closing it.\nFYI I ran into the cacert problem sa swell and it turned out to be a problem with the libcurl my PHP was using - it was built with libressl. I recompiled with openssl and it all started working, so I added a note to the troubleshooting guide about it.\n. I'll take a wild guess and say that your message body is empty and you're missing the openssl extension.\n. You really don't know what's wrong? This is very, very basic PHP, please read the PHP manual, it's very good!\nYour problem is that variables are not interpolated in single-quoted strings, so use double quotes:\nphp\n$mail->Body ='Thank for registering with Club LG breakfast and after school club, please click on the link to verify your email. \nLink: http://localhost/afterschoolclubadminstration./activate.php?email='.urlencode($email).\"&key=$confirmKey;\";\nWhen reporting a problem, it's really important to say precisely what the problem is, not just \"it's not working\". Open source developers usually do this for free, so make it easy for them to help you.\n. getLastReply should return whatever the most recent raw response from the server was - so if you just sent an EHLO, you might expect a 220 response string in there. It's not specifically for errors - I'd expect getError() to return nothing if there has not been an error. It may be that errors cause the last response to be cleared.\n. You're quite right - in that example it only ever looks at responses when there has been an error, so getError will always have something interesting in. last_reply is usually empty because most those errors occur before any response has been received, or because of non-protocol related issues where there is nothing to put in last_reply. Thanks for reporting.\n. You're missing all the PHPMailer classes! The autoloader loads the other classes, it doesn't contain anything useful itself. Upload the whole PHPMailer folder. This is covered in  the README. You're probably getting lots of \"class not found\" errors in your web server log.\n. Currently no, but if you look in the xoauth branch (which will eventually be the next release of PHPMailer), it is possible.\n. Please don't hijack unrelated issues. I really don't know what you mean - what you showed is not an error message, it's a successful delivery. If it's not turning up at the other end, check your spam folder; that's where gmail puts most email anyway, IME.. Why do this? What do you think it helps?\n. Fair enough, DRY I guess. Thanks.\n. Assertions don't have names. The description is only shown when an assertion fails, and you don't need any extra info when a test passes. There may be multiple assertions in a test, so there isn't anywhere else to put this message. What were you thinking of?\n. Well often the message contains info about why the assertion failed, and I'd find that confusing and irrelevant at any other time. During failures is pretty much the only time I see the messages, and it needs to describe what went wrong and why, not what should have gone right (which is what the assertion type itself already conveys). Tests as documentation is very much a secondary function - it needs to be effective, descriptive and concise as a test first. This is also in line with how other packages use assertion messages, including PHPUnit itself.\n. Well often the message contains info about why the assertion failed, and I'd find that confusing and irrelevant at any other time. During failures is pretty much the only time I see the messages, and it needs to describe what went wrong and why, not what should have gone right (which is what the assertion type itself already conveys). Tests as documentation is very much a secondary function - it needs to be effective, descriptive and concise as a test first. This is also in line with how other packages use assertion messages, including PHPUnit itself.\n. This code is a bit of a mess; I suggest you start again using the mailing list example provided with PHPMailer.\n. The problem with this is that / can't be used in filenames on most platforms because it's a directory separator. The docs for the basename method says:\n\nOn Windows, both slash (/) and backslash () are used as directory separator character. In other environments, it is the forward slash (/).\n\nThis path handling approach applies to nearly all file-related functions in PHP, so if you do manage to make it work, I'd expect it to be very fragile and cause problems elsewhere.\nThat said, this is easy to work around - just make a subclass and provide a different implementation of addStringAttachment that doesn't do the basename call. This is normal practice - not every library can be everything to everyone!\n. The problem with this is that / can't be used in filenames on most platforms because it's a directory separator. The docs for the basename method says:\n\nOn Windows, both slash (/) and backslash () are used as directory separator character. In other environments, it is the forward slash (/).\n\nThis path handling approach applies to nearly all file-related functions in PHP, so if you do manage to make it work, I'd expect it to be very fragile and cause problems elsewhere.\nThat said, this is easy to work around - just make a subclass and provide a different implementation of addStringAttachment that doesn't do the basename call. This is normal practice - not every library can be everything to everyone!\n. Those are not errors. That just looks like part of a var_dump of a PHPMailer instance. If mail() works for you, stick with it.\n. Those are not errors. That just looks like part of a var_dump of a PHPMailer instance. If mail() works for you, stick with it.\n. Well, if you have no errors at the time you send there is no way of telling why messages are not delivered. This is why people like to run proper mail servers - they handle non-delivery properly.\n. Well, if you have no errors at the time you send there is no way of telling why messages are not delivered. This is why people like to run proper mail servers - they handle non-delivery properly.\n. Thanks\n. Thanks\n. There is no need to put your own script in the PHPMailer namespace, and fully-qualified class names are messy. This should work:\n``` php\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse League\\OAuth2\\Client\\Provider\\Google;\nrequire 'vendor/autoload.php';\nfunction StackMail($recipient, $username, $token) {\n    $mail = new PHPMailer;\n    ...\n  }\n$result = StackMail('person@gmail.com', 'redfox', 'xyztokenstring');\n```\nThis way StackMail() is in the global namespace, so doesn't need qualifying.\n. There is no need to put your own script in the PHPMailer namespace, and fully-qualified class names are messy. This should work:\n``` php\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse League\\OAuth2\\Client\\Provider\\Google;\nrequire 'vendor/autoload.php';\nfunction StackMail($recipient, $username, $token) {\n    $mail = new PHPMailer;\n    ...\n  }\n$result = StackMail('person@gmail.com', 'redfox', 'xyztokenstring');\n```\nThis way StackMail() is in the global namespace, so doesn't need qualifying.\n. Ah, ok, because you create an OAuth instance explicitly, and it's also in the PHPMailer\\PHPMailer namespace, you need to use that too:\nuse PHPMailer\\PHPMailer\\OAuth;\nNotice that you don't have to do this for the SMTP class because that's created by PHPMailer, which is already in its own namespace. I'll tweak the example code to do this - thanks for posting!\n. I just pushed changes to all the examples.\n. The only explanation I can think of for those errors is if you have done something strange like:\nphp\n$mail = new PHPMailer;\n$mail->Body = new PHPMailer;\nI can't tell without seeing your code.\n. And the rest?\n. You have to actually read the troubleshooting guide. You've got SMTPDebug = 1, which won't show you anything google says. If it's not getting as far as showing client output, you've got a connection problem, so set SMTPDebug = 3. If it's just hanging, it's either being held up by DNS or network blockages, which you can diagnose with the guide. You've not posted what the Mailer error output says - and if your code is not getting that far, you need to check your server logs. Every one of these points is mentioned in the guide.\n. I suggested you set it to 3 and you set it to 2? Was it really so hard to understand?\nYour PHP is running on a server somewhere (even if it's your own computer), and PHP and the web server it runs in (usually apache or nginx) have log files which record errors. Find them and look at them.\n. And your telnet and DNS checks work?\n. Did you test DNS and telnet from the server, not from your local machine? You can try setting SMTPDebug = 4 for additional output.\n. OK. University servers are fairly likely to block outbound SMTP.\n. Simple: don't forge your from address. You're sending from a gmail server using a yahoo from address, which is forgery, and Yahoo's strict policy won't allow it.\n. Thanks\n. \"Solved\" may be misleading - if your mail server is advertising STARTTLS but serving an invalid certificate, it's broken, and your email is not secure. Turning off autotls \"solves\" it by not using encryption. The correct solution is to fix the mail server.\n. Follow the link it gave you. It will tell you what you need to know.\n. Thanks for noticing and reporting it!\n. This change allows any of TLS 1.0, 1.1 or 1.2 - what's the error?\n. Oh, I see!\n. If you can't follow a link I doubt anything I say is going to help.\n. Um, no.\n. The obvious problem with those is that the line break format is inconsistent. Try setting $mail->LE = \"\\r\\n\";\nCan you tell me what the plugin is you mention?\n. Actually I don't think it's that - I spotted something else. The return-path header may not be valid. In your messages it's set to this:\nReturn-Path: contactform@swimleeds.org.uk\nThat address should be wrapped in <>, and it may be that the script is setting a custom header for the return path which is a fairly major RFC5322 contravention - The sender should not set a return-path; the receiver looks at the SMTP envelope sender and turns it into a return-path header which is prepended to the message. So - it shouldn't be there at all, and it's in the wrong format. I'd suspect something in your contact form plugin because PHPMailer doesn't set a return path itself any more (old versions did).\n. OK, I read the code for that plugin, and it does the right thing - and it is using PHPMailer to send via SMTP. This suggests that whatever you're using when you're not using that plugin is doing something wrong.\n. This is because the mail function sets some headers itself. Notice that there is a Subject header even though you're not creating one.\nBTW you are forging the from address in your script, which is a good way of getting your messages bounced because of SPF failures. Put your own address in From and the submitter's address in Reply-to.\nYou're doing no input validation and your script is vulnerable to header injection attacks.\nYou're better off sticking with PHPMailer to avoid this kind of hassle, it's what it's for.\n. Nope. I don't think you understand how BCC works. When sending via SMTP, BCC addresses do not appear in the message headers, only in the SMTP envelope. If you add them like you suggest, that's exactly the same as CC.\n. If you want to see the recipient addresses in the message, use CC, not BCC. That's the difference between them. It is intended to work exactly as you describe; when you are sent a message via BCC, the headers will not include your own address, other than in Received header lines added by your own mail server.. This looks more like it's out of sync than sending a wrong response - it would be good to see what happens before this part.\n. This all looks like an invalid cert problem. Try using PHP 5.6, but set the PHPMailer ssl options to skip validation as the troubleshooting guide says.\n. I really don't think this is worth having as a core feature - it's exactly the sort of thing to put into a subclass. What's more, checking it at send time seems wrong - I would override validateAddress so that these bad domains are not allowed in in the first place. Why wouldn't you filter these address before they even get into your system?\n. clearAdddresses()\n. Your code? Debug output?\n. Learn how to use source formatting on GitHub.\nSince you have SMTPDebug = 2, you should be able to watch the output and see exactly when it is being slow. SMTP is not a fast protocol, and often includes deliberate delays. If it's a big problem, decouple your sending and send asynchronously.\n. @DannySofftie How about you actually read what this closed ticket says, do what it suggests and set SMTPDebug = 2 so that you can see what's taking the time, before posting unnecessarily here?. It's not async, but if you send via SMTP to localhost (and run your own local mail server), it is very fast; it's remote servers, latency, and bandwidth that are likely to slow you down. See the performance info in the wiki.. It's not async, but if you send via SMTP to localhost (and run your own local mail server), it is very fast; it's remote servers, latency, and bandwidth that are likely to slow you down. See the performance info in the wiki.. Because you have $mail->SMTPDebug = 2; set, it should be generating large amounts of debug output. If you're not seeing that it means you're either not actually running this script, or the output is somehow being sent somewhere else. Are you running this from a command line or via a web browser?\nIn case you're running into initial connection problems, e.g. if your ISP blocks outbound SMTP, try setting SMTPDebug = 3.\nComposer is only concerned with how you get hold of PHPMailer in the first place, and how you load it into your app. You can use the provided autoloader instead (as you are) or load the classes manually, but if it's running at all, you don't need to worry about that. If you do much PHP coding at all, you really should get to grips with composer as it makes using external libraries much, much easier.\n. Section 3.4.8 describes general limits on the length of a message header, not the local part of an email address.\nI'm very familiar with that checker - it was written by my ISP. RFC822 is not the only RFC that applies to addresses, for example it allows line breaks in addresses, which are not permitted in RFC821. Also, ICANN has ruled that 'dotless' domains are not permitted, so a@b is also considered invalid.\nThe local part is limited to 64 bytes in RFC 3696. There isn't an explicit limit on the local part in 822, but there is an implicit one - there is a limit on the overall length of an address (320 chars), and on the length of a domain part (256 chars), leaving only 64 available for the local part. Of course you may be lucky enough to have a domain shorter than 256 chars that allows you to have a longer local part in an address, however, since we're talking about RFC compliance, restricting to 64 is the only way to be absolutely sure. You can always override the validator function if you don't agree with it - PHPMailer 6.0 makes this easier by calling it as static::validateAddress from internal methods so that you can override it in subclasses.\nPHP's FILTER_VALIDATE_EMAIL has a large number of holes - if you run the PHPMailer tests using that you'll find it fails on quite a few test cases, either allowing invalid addresses, or denying valid ones. That's why we have gone to the effort of having a more complex test. You might like to know that the PHP validator is based on an earlier version of the pattern that PHPMailer uses, written by the same author.\n. Incidentally:\nphp\nvar_dump((boolean)filter_var('1234567890123456789012345678901234567890123456789012345678901234@iana.org', FILTER_VALIDATE_EMAIL));\nvar_dump((boolean)filter_var('12345678901234567890123456789012345678901234567890123456789012345@iana.org', FILTER_VALIDATE_EMAIL));\nGives:\nbool(true)\nbool(false)\ni.e. FILTER_VALIDATE_EMAIL also rejects addresses with a local part longer than 64 chars. \nI've implemented a fix for #573 for the next release - actually going one better and allowing you to inject a callable to implement your own validator.\n. Thanks\n. It does look like its missing encryption options on that page.\n. You could try setting SMTP host to tls://smtp.yandex.com:587, and set mail sending port to 587 too.\n. I suggest you raise a bug with the plugin author.\n. Never disable certificate verification just because it makes it \u201cwork\u201d. The only time it is a valid approach is in some very specific circumstances, such as when an internal server is using a self-signed very - this is not the case with Yandex, so figure out why verification is failing and fix it properly, such as by configuring openssl or updating CA certificates.. Thanks\n. @archierombo, this isn't up to you.\n. Yes, min version for PHPMailer 6.0 is PHP 5.5, as the readme says. There is detailed info on what's changed in 6.0 in the readme and changelog files.\n. So did you actually read that link? It tells you all you need to know.\n. Why are you surprised that sending to a non-existent address fails?\n. bhaskarbisht571@gmail does not exist. bhaskarbisht571@gmail.com might, but that's not the address you're trying to use.\n. What about:\n$mail->addAddress('bhaskarbisht571@gmail', 'Joe User'); // Add a recipient\n?\n. But it's for the same problem that was caused by your own mistake that I pointed out??\n. Can you stop creating these pull requests please? It's a waste of time! If you want to practice making PRs, create a second account and do it between them.\n. That's because that's not what PHPMailer does. It builds and sends messages, nothing more. If you want to fetch, parse or display messages, you need different libraries.\n. If you read the POP3 class file it says:\n\nThis POP3 class is deliberately lightweight and incomplete, and implements just enough to do authentication.\n\nYou shouldn't even think of using POP3 for collecting email. It's a terribly archaic technology; use IMAP instead, which is supported directly by a PHP extension.\n. I wouldn't implement a bounce handler with IMAP - I'd do it as a filter script in your mail server. You can still write it in PHP. Take a look at these:\n- http://serverfault.com/questions/48326/how-to-collect-bounces-in-postfix\n- http://stackoverflow.com/questions/22979379/postfix-bounce-checking-emails-are-piped-to-php-but-prevents-emails-from-being\nAlso, extracting bounce addresses from bounce messages is extremely unreliable - for example MS Exchange often sends bounces that don't contain the bouncing address! The way to solve this is to use VERP addressing on your outbound messages, which will guarantee that you can obtain the original address the bouncing message was sent to.\n. OK, so your mail server has a broken SSL config.\n. OK, so your mail server has a broken SSL config.\n. Are you sending via SMTP? Are you calling isSMTP()?\nIf you're just checking SMTP, use the smtp_check example. You don't need to use PHPMailer for that.\n. Are you sending via SMTP? Are you calling isSMTP()?\nIf you're just checking SMTP, use the smtp_check example. You don't need to use PHPMailer for that.\n. smtpConnect() doesn't use SMTPOptions by default, but when send() calls smtpConnect(), it passes them in. So you need to do this:\nvar_dump($mail->smtpConnect($this->SMTPOptions));\nI'm not sure whether I'd regard this as a bug or not.\n. smtpConnect() doesn't use SMTPOptions by default, but when send() calls smtpConnect(), it passes them in. So you need to do this:\nvar_dump($mail->smtpConnect($this->SMTPOptions));\nI'm not sure whether I'd regard this as a bug or not.\n. I decided it should do it automatically, so I've altered smtpConnect() to use SMTPOptions by default. Not in a release yet.\n. I decided it should do it automatically, so I've altered smtpConnect() to use SMTPOptions by default. Not in a release yet.\n. Sorry - it should be:\n$mail->smtpConnect($mail->SMTPOptions)\nError 500 will usually result in errors appearing in your logs, which will tell you what the problem is.\n. Sorry - it should be:\n$mail->smtpConnect($mail->SMTPOptions)\nError 500 will usually result in errors appearing in your logs, which will tell you what the problem is.\n. PHPMailer is a pawn in this game. All those sound like warnings and advice rather than anything that would actually block you from sending. It's common for web files to be owned by nobody, but then it's common to use PHPMailer in non-web contexts. PHPMailer is just PHP code that connects to SMTP ports, so if your environment has a problem with that, so will PHPMailer. I don't know anything about WHM, so I don't think I can be of much help.\n. PHPMailer is a pawn in this game. All those sound like warnings and advice rather than anything that would actually block you from sending. It's common for web files to be owned by nobody, but then it's common to use PHPMailer in non-web contexts. PHPMailer is just PHP code that connects to SMTP ports, so if your environment has a problem with that, so will PHPMailer. I don't know anything about WHM, so I don't think I can be of much help.\n. That's not an error. It's just their welcome banner. It failing after upgrading to PHP 5.6 probably means their SSL cert is invalid - see the troubleshooting guide in the wiki for more info.\n. That's not an error. It's just their welcome banner. It failing after upgrading to PHP 5.6 probably means their SSL cert is invalid - see the troubleshooting guide in the wiki for more info.\n. This is really a niche thing that I don't think has general utility. I'd say the best way to do this would be to subclass and override - we've really got too many properties as it is! If you're using the subject to identify the list, I'd suggest using the list-* headers from RFC2369, as they provide additional utility and don't break DKIM.\n. This is really a niche thing that I don't think has general utility. I'd say the best way to do this would be to subclass and override - we've really got too many properties as it is! If you're using the subject to identify the list, I'd suggest using the list-* headers from RFC2369, as they provide additional utility and don't break DKIM.\n. So fix your script? These errors are in your script, not in PHPMailer.\n. So fix your script? These errors are in your script, not in PHPMailer.\n. It's a mismatched SSL cert, which is covered in the troubleshooting guide.\n. It's a mismatched SSL cert, which is covered in the troubleshooting guide.\n. Don't use old versions. PHPMailer doesn't call exit, and it would help if you set SMTPDebug = 2; 1 isn't enough to see what's happening. This is covered in the docs.\nIt's up to your code to handle errors.\n. Don't use old versions. PHPMailer doesn't call exit, and it would help if you set SMTPDebug = 2; 1 isn't enough to see what's happening. This is covered in the docs.\nIt's up to your code to handle errors.\n. You're forging the From address. Yahoo doesn't like that. It would help if you read the docs.\n. You're forging the From address. Yahoo doesn't like that. It would help if you read the docs.\n. You can send javascript, but it's pointless because no clients support it. HTML works fine (though clients are very inconsistent in rendering), and is covered in the examples.\n. You can send javascript, but it's pointless because no clients support it. HTML works fine (though clients are very inconsistent in rendering), and is covered in the examples.\n. That header looks absolutely correct! It's using header folding as per RFC5322 section 2.2.1. For example it could split a line like this:\nheader: longlinevalue<CRLF> -> header: long<CRLF><whitespace>line<CRLF><whitespace>value<CRLF>\nWhich looks like:\nheader: longlinevalue\n->\nheader: long\n line\n value\nAt the receiving end, sendgrid should be applying the reverse transformation (the sequence <CRLF><whitespace><text> is replace by <text> within a message header section) before trying to use the value. This is a lossless transformation and can cope with any length line.\nIn your example, note that the Content-type header is doing the same thing, and is also correct.\nTo be clear, the problem described in #36 is that PHPMailer only looks at the header's value, and does not include the label, so if you get a value close to the hard 998-char limit, the additional length of the header's label might result in a line that's too long. This is generally fairly unlikely to happen, so it's not a priority to fix.\nSo, overall, I don't think that this is the cause of the problem you're having.\n. PHPMailer is already doing the same thing as that regex - they are assuming you're using a dumb script that doesn't know about mail headers. Reading the regex (which would be the same in PHP because PHP uses PCRE), it says, look for 1 - 72 characters followed by a space (greedy by default so it will match as much as it can), and replace it with the text you found, followed by a line break and two spaces. PHPMailer has a more sophisticated approach that copes with content without spaces; the sendgrid regex won't work if your content has no spaces, in fact it will probably crash as it will cause infinite backtracking.\nI wrote a little script that does header unwrapping according to the RFC and it works fine:\nphp\n$msg = 'complete received RFC822 email message in here';\n//Detect line break format\n$le = \"\\n\";\nif (strpos(\"\\r\\n\", $msg) !== false) {\n    $le = \"\\r\\n\";\n}\n//Split message into header and body\n$parts = explode($le.$le, $msg, 2);\nif (count($parts) != 2) {\n    echo $msg; // Do nothing\n}\n//Unwrap headers\n$parts[0] = preg_replace('/'.preg_quote($le).'\\s(.*)/', '$1', $parts[0]);\n//Reassemble message\necho $parts[0] . $le . $le. $parts[1];\nWhen I send a message (using PHPMailer) with your large header in, then decode it using that script, I end up with what I started with, with no unexpected line breaks.\nCan you get any feedback from sendgrid about what they don't like?\nI've also discovered that PHPMailer actually already has a workaround for #36 (which I probably wrote!) - it always wraps immediately after the header label, thus ensuring that lines in the value portion can never exceed the max length.\n. You shouldn't need to call encodeHeader yourself at all, just set the value you want and PHPMailer will encode it for you. The second param to encodeHeader is not a length, it's a position/context name that affects how the encoding is done, so putting 72 in there will not do anything useful.\nPHPMailer doesn't try to split headers on white space because it doesn't need to - header folding/unfolding is lossless so it doesn't matter where it is split. It really sounds like sendgrid is decoding the header incorrectly, which I find quite surprising. Saying that there's a problem with addresss being split in folded headers is a bit like saying that zipping a text file makes it hard to read - it doesn't matter, it's what it looks like after decoding that counts.\n. encodeHeader only does folding for headers that need B or Q header encodings, not plain ones. Line length was not a limitation in RFC822 (message format), it came from RFC821, SMTP, (message transport). That definition was changed in later RFCs, but it's academic - the way header folding works remains the same across all the encodings and no matter when it's done.\nI checked and I was wrong about it not looking for spaces - it does, but down at the SMTP level, after message generation, and just uses hard breaks if there are none, as breaking on spaces is purely cosmetic. You can see the code in SMTP::data(). If the folding has been done beforehand, it doesn't do anything.\nSomething you could try is to force it to use Q-encoding by including an 8-bit character anywhere in your submission - if you tack on a json property like \"a\":\"\u00e9\", that will force it to use Q encoding, which looks quite different and folds differently, and you may find that sendgrid likes it!\n. That extra char won't doing anything because you've escaped it first, so it's just ASCII and thus doesn't trigger the alternative encoding mechanism. Put it in as raw UTF-8 and let PHPMailer encode it, like \"a\":\"\u00e9\", not \"a\":\"\\u00e9\". (Oh, and set $mail->CharSet = 'utf-8' as well to ensure the charset matches).\n. Hm. json_encode shouldn't be doing that since it requires you to use UTF-8 to start with - check what's in the $sendgrid_options string before giving it to PHPMailer.\nYou really should not call encodeHeader yourself; PHPMailer does it for you when it builds the message, and calling it twice on the same header is unlikely to do anything good.\n. Found the cause - you need to set the JSON_UNESCAPED_UNICODE option on json_encode.\n. Yep, that looks fine - when I said it \"looks quite different\", that's what I meant!\nWhat's going on here is that email headers only support ASCII, and if your content is ASCII (7-bit compatible), it just needs folding and that's all. As soon as you have any 8-bit chars, it can't do that and so it has to use Q or B encoding to make the header ASCII-safe. They're effectively inline versions of quoted-printable and base64 encoding respectively. By including a single 8-bit character, we're forcing it to use Q encoding, which is more efficient than B encoding if less than 1/3 of the chars need encoding.\nSo, yes, you do need to keep that extra char in to force Q encoding. This is really down to sendgrid - I can't see anything amiss with our normally-encoded header (and I'd like to know if there is!), so we're only having to do that to work around the problem at their end, since they seem to be able to handle Q-encoding correctly\nThe folding mechanism is exactly the same in all of them.\n. Glad it worked - but it will be good to get to the bottom of it!\n. You posted the same question on SO. The PHP mail function (which PHPMailer calls) can fail for various reasons - in this case it looks like the apache user doesn't have sufficient permissions to run sendmail, which is what mail() does. Try fixing your permissions.\n. Check permissions on the sendmail binary, and on the main.cf file: On my working server:\n``` bash\nls -al /usr/sbin/sendmail /etc/postfix/main.cf\n-rw-r--r-- 1 root root  1398 Apr 16  2015 /etc/postfix/main.cf\n-rwxr-xr-x 1 root root 26648 Feb  5  2015 /usr/sbin/sendmail\n```\nIf yours doesn't look like that, do this: chmod 644 /etc/postfix/main.cf; chmod 755 /usr/sbin/sendmail\nBeyond that you might be having problems with apparmor or selinux.\n. Check your /var/log/syslog to see if you've got something else preventing access - contraventions should be reported there. A simple sudo -u www-data /usr/sbin/sendmail shouldn't give you an error.\n. I still think this is probably another security layer, like this. Plenty of others when I searched for that error.\n. I think we can safely say this isn't a PHPMailer issue...\n. Could you be a bit more precise or write a test case? The automatic switch to quoted-printable only applies to the individual sub-parts (in $bodyEncoding and $altBodyEncoding), not the enclosing multipart (which retains whatever encoding you set).\n. I think I see what you mean here.\n. No you don't need to do all that, switching to Q-P for the sub-parts isn't a problem, it's only not allowed on the enclosing multipart. The only place it matters is where Encoding is set at that line I pointed at, and I don't think it should be. Try commenting that line out and see if it fixes your issue.\n. Doing that will result in messages that have lines that are too long, which is why we're doing this switch in the first place - it's the same thing that Apple Mail does in the same situation. QP encoding is lossless, so you can break long lines without affecting the decoded content. You can avoid the entire situation in 2 ways: wrap your content so lines are shorter than 76 chars, or set Encoding = 'base64';.\nIt does appear that Outlook (both desktop and web versions) is buggy with respect to quoted-printable encoding - see #606 - but this seems to be the result of filtering it applies before you receive it rather than something being wrong with the original message - you will see that the message you receive is not what you sent (try BCCing the message to gmail to compare). Outlook has been getting steadily worse - the last half-decent version was 2003!\n. I didn't quite intend to close this ticket with that commit, but I think it should fix your problem - can you confirm?\n. There were a couple of other changes after that commit that should make QP encoding more consistent. Comments on the #606 bug say that most of their problems are avoided by using base64 encoding.\n. This is done for 6.0.\n. If you don't want to send yourself mail, don't send yourself mail?? It will only be sending you mail because you are telling it to; it doesn't happen automatically.\n. Are you using PHPMailer? Can you post your code? Putting sent messages in your sent is not something that PHPMailer can do (it doesn't know about mailboxes at all) - it's your mail server doing it.\n. Ahem. It already picks the AuthType automatically if you don't specify one...\n. Yes, it works fine wih PHP7, but your server's certificate is invalid. Read the troubelshooting guide the error points you at. It's not an issue with PHP, it's an issue with your mail server.\n. Read the troubleshooting guide it points you to. Your connection is failing when it tries to use TLS, so it's probably a missing openssl extension or an invalid certificate.\n. Sorry, this has nothing to do with PHPMailer.\n. This will be solved in PHPMailer 6 which uses a namespace to avoid clashes.\n. Because you're saying $mail->IsSMTP(false);, it won't try to connect to gmail at all. Your code is also incomplete - you're not actually asking it to send. Follow the examples provided and read the docs. There are also many questions on stack overflow and issues on here saying basically the same thing, so please search before you post.\nI keep seeing code almost identical to this, which is very old and has many problems. Can you tell me where you found it so I can ask them to update or remove it?\n. Gmail always allows sending via SMTP, but it often requires XOAUTH2 authentication which is very painful to set up.\n. @geethujais sure, and just like the others seeing problems like this, your solutions to that are described in the troubleshooting guide, so read that and do what it says.. @krunal111 don\u2019t hijack unrelated issues. You\u2019re using an old version, you\u2019ve based your code on an obsolete example, and you\u2019re going to considerable effort to confuse your mailer settings. Upgrade, and start again with a new example.. Paper, envelope, stamp? If you have a problem with email, say what it is, read the docs, and don't hijack old issues.. It's old, and it shows you've not tried to do a single thing the troubleshooting guide tells you.. Really, there is nothing I can write here that is not already in the guide. I can\u2019t tell what your problem is, but the diagnostic tests in the guide will let you find out exactly what the problem is - but it\u2019s very likely that it\u2019s nothing to do with the code, and all to do with your hosting.. Nope, it's correct. Must be your calling code - you shouldn't really call addAnAddress yourself anyway, use the wrapper functions or pass the correct property names in.\n. There's a big difference between sending those headers and receiving them. PHPMailer does not set an X-sender-id header. It also uses the -f option to set the envelope sender. Have you looked at the Sender property? Set SMTPDebug=2 and watch the SMTP conversation to see what is actually sent, then compare that with what you receive. Any difference is down to your ISP.\n. It really does use -f - it's right here.\nI'd recommend that you use SMTP to localhost anyway - it should be faster than using mail(), and it gives you much better feedback and control over sending.\n. Reading back over this, I think you're getting confused between return-path and reply-to addresses. The return-path is nothing to do with where replies go to, but where bounces are sent. Reply-to is only a message header, i.e. it's from RFC822; return-path is from RFC821.\n. No, it's the other way around - it only sets the -f option when Sender is not empty. Without it, sendmail extracts the From address from the message headers and uses that.\n. So is this working for you now?\n. Right, but the -f switch has nothing to do with reply-to. In fact it sets no headers at all.\n. So I suggest you echo exactly what is being passed into the mail() function inside PHPMailer so you can see what's different.\n. It would help to see your code. PHPMailer defaults to using the ISO-8859-1 Latin-1 character set, which does not include those characters, so you would need to switch to ISO-8859-2 Latin-2 or UTF-8 to make it work, for example:\n$mail->CharSet = 'utf-8';\n. I just tried that and it's working fine. Here is a resulting message:\n```\nDate: Tue, 31 May 2016 11:16:07 +0000\nTo: Joe User joe@example.net\nFrom: Mailer from@example.com\nSubject: =?utf-8?Q?Subject_is_m=C4=9B=C5=99en=C3=AD?=\nMessage-ID: 584c7dc32f68b284f3a867d3eec55109@Oc.local\nX-Mailer: PHPMailer 6.0.0 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: 8bit\nThis is the message body m\u011b\u0159en\u00ed\n```\nDepending on the subject contents, it may be encoded differently, for example:\nSubject: =?utf-8?B?bcSbxZllbsOt?=\nis just m\u011b\u0159en\u00ed.\nWhat do your subject headers look like?\n. You're using an old version of PHPMailer - 5.2.6 was released in 2013 and lots has changed since then. Try again with the latest version.\n. Your source string is in the wrong charset. You're telling it that it is UTF-8, but you are not giving it a UTF-8 string, so it's corrupting. m\u011b\u0159en\u00ed in Q-encoded UTF-8 is m=C4=9B=C5=99en=C3=AD (as in my example), where in yours it's coming out as m=EC=F8en=ED - notice that the accented characters are only 1 byte, which suggests your source string is in a 1-byte encoding, and checking the character table confirms that it is using ISO 8859-2, in which \u011b == EC, \u0159 == F8, \u00ed == ED. Encode your source string in UTF-8 and it will work.\n. This is a well-known problem that's covered in the docs: GoDaddy blocks outbound SMTP; you need to relay through their mail servers.\n. PHPMailer only imposes RFC-compliant length limits on actual addresses, not usernames, because many servers don't use email addresses as user names, so the length is not a problem here. The RFC limits are 320 chars for a whole address, 64 for the local part, so you are well within limts anyway. I suggest you double-check your ID and password.\nI edited your posting to remove easily decoded passwords.\n. It's not using IPv6 here. Are the encoded login and password the same on both?\n. Yes - they are simply your plain-text id and password, base64-encoded. Check them yourself, don't repost them here! You can check them by base64-decoding them to make sure they are the values they should be.\n. OK, in that case I can't explain it - it looks as though hotmail is blacklisting your IP or something, though it seems odd that it would do that after accepting your connection. The only other thing which is odd is that the *.smtp.microsoft.com hostnames do not appear to have DNS entries. This support doc suggests using smtp-mail.outlook.com for outbound, on outlook.com, though I'm not sure if infrastructure is shared between all of live, hotmail, outlook and office365.\n. Let me get this straight - you\u2019re using an SMTP provider that doesn\u2019t support SMTP?\nIf you want to use PHPMailer to generate a message that you can submit via HTTP, look at the getSentMIMEMessage() method that allows you to do just that.. @acollados Please don't hijack unrelated issues. Read the documentation and other examples, search and maybe ask a question on stack overflow, and create a new issue here if you think you have found a bug.. I know that this is a problem - the RFCs make it very clear that bare LFs are not allowed, however, there are things relying on this broken behaviour - if you look at the change log you'll see that if was fixed and unfixed in the past for this reason. Fortunately we have a BC break in 6.0 so this can be fixed properly - please can you give that a try and see if it solves your problem.\n. Suspect wrong version - check out the branch rather than the releases\n. Seems that the zip download still gives you the old version - check the version constant inside the class to be sure. In 6.0 the line ending is defined differently as a class constant, and it's referenced everywhere as static::LE. You may need to clone the repo and check out the 6.0 branch.\n. That's just a basic PHP syntax problem - there is no interpolation in single-quoted strings. Do this:\n...->addAttachment($filename, '');\n\nPlease read the docs before posting, and don't hijack unrelated issues.. Closing in favour of #953. I think you've structured your try/catch incorrectly. In order to be caught, the throw must be inside a try block, which it is not in your code. You don't need the second catch at all because a phpMailerAppException is already a phpMailerException by inheritance, so the first catch will trap it. You need to catch the most specific exception types first.\nAlso, the error is being generated at these ever end, not in your code.\n. I agree about patching setLanguage too, but we could just leave it as is and fix it in 6.0.\n. Thanks\n. Thanks\n. While I think I agree, it's not necessarily an obvious choice. For example, you're using French, for which UTF-8 is entirely unnecessary and is less efficient than ISO-8859-1. In English especially even 8-bit encodings are usually unnecessary, and PHPMailer contains code to automatically fall back to US-ASCII and a 7bit transfer encoding, even if you originally specified UTF-8.\n. It's actually an RFC contravention to specify an encoding that exceeds what's needed for the message! It's one of the things flagged by the IETF msglint program.\n. There's another issue - the mbstring extension (which PHPMailer requires for UTF-8 support) is not installed by default. It's also not installed by default in any of the default PHP packages on any Ubuntu LTS release of PHP, including PHP 7 on Xenial, nor on Centos and other Red Hat variants, so it must be explicitly installed. That it often is installed isn't really the point - it's not the job of a library to dictate such requirements. We already have some code that checks for the presence of mbstring, but since we don't rely on it by default it needs checking more thoroughly before we can change the default.\nIn other words, there's a lot more to consider than simply changing the default value. Patches welcome.\n. There's another issue - the mbstring extension (which PHPMailer requires for UTF-8 support) is not installed by default. It's also not installed by default in any of the default PHP packages on any Ubuntu LTS release of PHP, including PHP 7 on Xenial, nor on Centos and other Red Hat variants, so it must be explicitly installed. That it often is installed isn't really the point - it's not the job of a library to dictate such requirements. We already have some code that checks for the presence of mbstring, but since we don't rely on it by default it needs checking more thoroughly before we can change the default.\nIn other words, there's a lot more to consider than simply changing the default value. Patches welcome.\n. This is simply untrue. If you connect to a gmail server, you get a matching certificate - they're not that stupid. It's very common for ISPs to transparently redirect SMTP, so it looks like you're connecting to gmail but certificate verification fails - which is the whole point of checking the certificate! Proof:\n```\nopenssl s_client -connect smtp.gmail.com:587 -starttls smtp\nCONNECTED(00000003)\ndepth=2 /C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\nverify error:num=20:unable to get local issuer certificate\nverify return:0\n\nCertificate chain\n 0 s:/C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com\n   i:/C=US/O=Google Inc/CN=Google Internet Authority G2\n 1 s:/C=US/O=Google Inc/CN=Google Internet Authority G2\n   i:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\n 2 s:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\n   i:/C=US/O=Equifax/OU=Equifax Secure Certificate Authority\n\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIEgDCCA2igAwIBAgIIfMman9+czWkwDQYJKoZIhvcNAQELBQAwSTELMAkGA1UE\nBhMCVVMxEzARBgNVBAoTCkdvb2dsZSBJbmMxJTAjBgNVBAMTHEdvb2dsZSBJbnRl\ncm5ldCBBdXRob3JpdHkgRzIwHhcNMTYwNjMwMTQ1ODM5WhcNMTYwOTIyMTQ1MzAw\nWjBoMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwN\nTW91bnRhaW4gVmlldzETMBEGA1UECgwKR29vZ2xlIEluYzEXMBUGA1UEAwwOc210\ncC5nbWFpbC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCG2pVu\nNQl/MS3rRXTfsvMVqRwnq1Wp5lfZQzirPFDq5zVPZdUjFuvXWSARG3jTgWQmImxF\n5LHadoDT/1hUcvXdHVMDToGidd7oS34uB0tJMzg5V5EYngpNapk5tG+1RnmATMGp\n/FadP/ua5w4SQSy+HelVQDLEPBw69vaCvwVUpE/++36fJejxd3PFQTgOyxzfK7hO\nq6kjD5CU22lhdg+/DBlO6jt/3k3s0870JJDzG5yPhRTQray/q82W0rdi7nSIBrpz\nq0QjwrcqeTvEXn+WIMTKNar2pYMJ+3FM/IzMLxOZBdbkDIeC8hdOfc4nDCRHF9xr\nGCBaa1mIoVWfOatlAgMBAAGjggFLMIIBRzAdBgNVHSUEFjAUBggrBgEFBQcDAQYI\nKwYBBQUHAwIwGQYDVR0RBBIwEIIOc210cC5nbWFpbC5jb20waAYIKwYBBQUHAQEE\nXDBaMCsGCCsGAQUFBzAChh9odHRwOi8vcGtpLmdvb2dsZS5jb20vR0lBRzIuY3J0\nMCsGCCsGAQUFBzABhh9odHRwOi8vY2xpZW50czEuZ29vZ2xlLmNvbS9vY3NwMB0G\nA1UdDgQWBBRuqJafObl4pMJL80jVAaHoQvtvyTAMBgNVHRMBAf8EAjAAMB8GA1Ud\nIwQYMBaAFErdBhYbvPZotXb1gba7Yhq6WoEvMCEGA1UdIAQaMBgwDAYKKwYBBAHW\neQIFATAIBgZngQwBAgIwMAYDVR0fBCkwJzAloCOgIYYfaHR0cDovL3BraS5nb29n\nbGUuY29tL0dJQUcyLmNybDANBgkqhkiG9w0BAQsFAAOCAQEAZWAOHh4qrhVxHqfZ\nkZGrVKOksEZcjqB1sS1R3vue7L9BcReufk/SsdQHn+Uo3UKgC0BJpiP0cZ+Du4ni\nT4vUFdylXdz+N8eHCOx9lct2rcg2cEZI9nVCiQxKjXDF0eHguOrSOMt5v7cnKFei\nC8fM2kfpmXSNyWpj/P38AOtjskBHBwfzdNEnro9xODMRNnp66bnGWXnOlAgi3vup\nuTzYMTID/qE+uBKuXEvX050AqMM/DcB1DKUy97iJe8MjyHwrELJbBkIqP5gkNQsY\njOJ6ZzgW2aeCVCCoBw/EfpDYXCL6oKnn/2NJalWAfwCL7hO+DVsCKoXRBJA+eTob\nUmrB4g==\n-----END CERTIFICATE-----\nsubject=/C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com\nissuer=/C=US/O=Google Inc/CN=Google Internet Authority G2\n---\nNo client certificate CA names sent\n---\nSSL handshake has read 3493 bytes and written 491 bytes\n---\nNew, TLSv1/SSLv3, Cipher is AES128-SHA\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nSSL-Session:\n    Protocol  : TLSv1\n    Cipher    : AES128-SHA\n    Session-ID: 4B395264BC9F7CF69333008646746B28FF5692EB7947AEE9F205F25C3B9802A1\n    Session-ID-ctx:\n    Master-Key: 62A47AB8CF02E5890274ED6BC9B0BD6DC9A8233A759F1B1E24C8FB417458914959C8BF1ED09D018E68C548B8C47E33AA\n    Key-Arg   : None\n    Start Time: 1467999218\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n250 SMTPUTF8\n```\nThis is already covered in the troubleshooting guide.\n. This is simply untrue. If you connect to a gmail server, you get a matching certificate - they're not that stupid. It's very common for ISPs to transparently redirect SMTP, so it looks like you're connecting to gmail but certificate verification fails - which is the whole point of checking the certificate! Proof:\n```\nopenssl s_client -connect smtp.gmail.com:587 -starttls smtp\nCONNECTED(00000003)\ndepth=2 /C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\nverify error:num=20:unable to get local issuer certificate\nverify return:0\n\nCertificate chain\n 0 s:/C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com\n   i:/C=US/O=Google Inc/CN=Google Internet Authority G2\n 1 s:/C=US/O=Google Inc/CN=Google Internet Authority G2\n   i:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\n 2 s:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\n   i:/C=US/O=Equifax/OU=Equifax Secure Certificate Authority\n\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIEgDCCA2igAwIBAgIIfMman9+czWkwDQYJKoZIhvcNAQELBQAwSTELMAkGA1UE\nBhMCVVMxEzARBgNVBAoTCkdvb2dsZSBJbmMxJTAjBgNVBAMTHEdvb2dsZSBJbnRl\ncm5ldCBBdXRob3JpdHkgRzIwHhcNMTYwNjMwMTQ1ODM5WhcNMTYwOTIyMTQ1MzAw\nWjBoMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwN\nTW91bnRhaW4gVmlldzETMBEGA1UECgwKR29vZ2xlIEluYzEXMBUGA1UEAwwOc210\ncC5nbWFpbC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCG2pVu\nNQl/MS3rRXTfsvMVqRwnq1Wp5lfZQzirPFDq5zVPZdUjFuvXWSARG3jTgWQmImxF\n5LHadoDT/1hUcvXdHVMDToGidd7oS34uB0tJMzg5V5EYngpNapk5tG+1RnmATMGp\n/FadP/ua5w4SQSy+HelVQDLEPBw69vaCvwVUpE/++36fJejxd3PFQTgOyxzfK7hO\nq6kjD5CU22lhdg+/DBlO6jt/3k3s0870JJDzG5yPhRTQray/q82W0rdi7nSIBrpz\nq0QjwrcqeTvEXn+WIMTKNar2pYMJ+3FM/IzMLxOZBdbkDIeC8hdOfc4nDCRHF9xr\nGCBaa1mIoVWfOatlAgMBAAGjggFLMIIBRzAdBgNVHSUEFjAUBggrBgEFBQcDAQYI\nKwYBBQUHAwIwGQYDVR0RBBIwEIIOc210cC5nbWFpbC5jb20waAYIKwYBBQUHAQEE\nXDBaMCsGCCsGAQUFBzAChh9odHRwOi8vcGtpLmdvb2dsZS5jb20vR0lBRzIuY3J0\nMCsGCCsGAQUFBzABhh9odHRwOi8vY2xpZW50czEuZ29vZ2xlLmNvbS9vY3NwMB0G\nA1UdDgQWBBRuqJafObl4pMJL80jVAaHoQvtvyTAMBgNVHRMBAf8EAjAAMB8GA1Ud\nIwQYMBaAFErdBhYbvPZotXb1gba7Yhq6WoEvMCEGA1UdIAQaMBgwDAYKKwYBBAHW\neQIFATAIBgZngQwBAgIwMAYDVR0fBCkwJzAloCOgIYYfaHR0cDovL3BraS5nb29n\nbGUuY29tL0dJQUcyLmNybDANBgkqhkiG9w0BAQsFAAOCAQEAZWAOHh4qrhVxHqfZ\nkZGrVKOksEZcjqB1sS1R3vue7L9BcReufk/SsdQHn+Uo3UKgC0BJpiP0cZ+Du4ni\nT4vUFdylXdz+N8eHCOx9lct2rcg2cEZI9nVCiQxKjXDF0eHguOrSOMt5v7cnKFei\nC8fM2kfpmXSNyWpj/P38AOtjskBHBwfzdNEnro9xODMRNnp66bnGWXnOlAgi3vup\nuTzYMTID/qE+uBKuXEvX050AqMM/DcB1DKUy97iJe8MjyHwrELJbBkIqP5gkNQsY\njOJ6ZzgW2aeCVCCoBw/EfpDYXCL6oKnn/2NJalWAfwCL7hO+DVsCKoXRBJA+eTob\nUmrB4g==\n-----END CERTIFICATE-----\nsubject=/C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com\nissuer=/C=US/O=Google Inc/CN=Google Internet Authority G2\n---\nNo client certificate CA names sent\n---\nSSL handshake has read 3493 bytes and written 491 bytes\n---\nNew, TLSv1/SSLv3, Cipher is AES128-SHA\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nSSL-Session:\n    Protocol  : TLSv1\n    Cipher    : AES128-SHA\n    Session-ID: 4B395264BC9F7CF69333008646746B28FF5692EB7947AEE9F205F25C3B9802A1\n    Session-ID-ctx:\n    Master-Key: 62A47AB8CF02E5890274ED6BC9B0BD6DC9A8233A759F1B1E24C8FB417458914959C8BF1ED09D018E68C548B8C47E33AA\n    Key-Arg   : None\n    Start Time: 1467999218\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n250 SMTPUTF8\n```\nThis is already covered in the troubleshooting guide.\n. When you use isSendMail, PHPMailer hands off the message to your local MTA, which then deals with delivery. Many servers provide TLS on inbound, and all you're seeing is it being used. PHPMailer does something similar when acting as an SMTP client. PHPMailer is not involved in the transaction that is failing for you - it looks like a mail server bug, though I can't tell from your description whether the problem is at your end or theirs.\n. When you use isSendMail, PHPMailer hands off the message to your local MTA, which then deals with delivery. Many servers provide TLS on inbound, and all you're seeing is it being used. PHPMailer does something similar when acting as an SMTP client. PHPMailer is not involved in the transaction that is failing for you - it looks like a mail server bug, though I can't tell from your description whether the problem is at your end or theirs.\n. I don't think this is anything to do with PHPMailer. I'd check gmail's support docs. I'd recommend you base your code on the gmail example supplied with PHPMailer.\n. I don't think this is anything to do with PHPMailer. I'd check gmail's support docs. I'd recommend you base your code on the gmail example supplied with PHPMailer.\n. It's really not. You can use any email library to abuse things - plenty of spammers use PHPMailer - but that doesn't mean that it's doing anything wrong from a technical point of view. You could achieve exactly the same thing with Outlook. It's a policy violation, not a technical one.. It's really not. You can use any email library to abuse things - plenty of spammers use PHPMailer - but that doesn't mean that it's doing anything wrong from a technical point of view. You could achieve exactly the same thing with Outlook. It's a policy violation, not a technical one.. Version 5.1 is very old and buggy. Update it. Post your code, show exactly what the problem is.\n. @capsandiego In the code you originally posted you were giving it two images - one gif, one jpeg. For both of them you were setting a .gif filename and an image/jpeg MIME type, so I'm not that surprised it wasn't happy.\n. This is covered in the troubleshooting guide linked from that error. GoDaddy blocks outbound SMTP. You either need to ask them to allow access, relay through their mailservers (in the secureserver.net domain, search their docs for that), or use a better ISP.\n. This is covered in the troubleshooting guide linked from that error. GoDaddy blocks outbound SMTP. You either need to ask them to allow access, relay through their mailservers (in the secureserver.net domain, search their docs for that), or use a better ISP.\n. That's not a general solution. When GoDaddy blocks outbound SMTP, it doesn't matter what you set Host to (if it's not one of GoDaddy's servers).. Read the thread before posting duplicates.. Most email clients and servers do not support non-ascii characters in local parts of email addresses (it requires the SMTPUTF8 SMTP extension), only in domains (using IDN, which PHPMailer supports). Also, the return path is not created by PHPMailer - it's created by the receiving server from the envelope sender. It also wouldn't surprise me if Outlook doesn't handle things correctly as it's a horribly buggy app. Are you seeing this behaviour in other email apps?\n. Most email clients and servers do not support non-ascii characters in local parts of email addresses (it requires the SMTPUTF8 SMTP extension), only in domains (using IDN, which PHPMailer supports). Also, the return path is not created by PHPMailer - it's created by the receiving server from the envelope sender. It also wouldn't surprise me if Outlook doesn't handle things correctly as it's a horribly buggy app. Are you seeing this behaviour in other email apps?\n. Can you post the code you're using to send so that I can try it?\n. Can you post the code you're using to send so that I can try it?\n. This sounds like there's somethign going wrong in your mail clients. the encoding pattern like =?utf-8?Q?Andr=C3=A9_Otlok?= is correct - that's how you represent non-ascii chars in headers. Here's an example transcript showing sending a correctly-encoded message containing UTF-8 chars in the From header:\n2016-07-23 22:35:26 CLIENT -> SERVER: MAIL FROM:<from@example.com>\n2016-07-23 22:35:26 SERVER -> CLIENT: 250 Ok\n2016-07-23 22:35:26 CLIENT -> SERVER: RCPT TO:<joe@example.net>\n2016-07-23 22:35:26 SERVER -> CLIENT: 250 Ok\n2016-07-23 22:35:26 CLIENT -> SERVER: DATA\n2016-07-23 22:35:26 SERVER -> CLIENT: 354 End data with <CR><LF>.<CR><LF>\n2016-07-23 22:35:26 CLIENT -> SERVER: Date: Sat, 23 Jul 2016 22:35:26 +0000\n2016-07-23 22:35:26 CLIENT -> SERVER: To: Joe User <joe@example.net>\n2016-07-23 22:35:26 CLIENT -> SERVER: From: =?utf-8?Q?Andr=C3=A9_Otlok?= <from@example.com>\n2016-07-23 22:35:26 CLIENT -> SERVER: Subject: Subject\n2016-07-23 22:35:26 CLIENT -> SERVER: Message-ID: <16788dd40232bd239807a0bf26fde109@Oc.local>\n2016-07-23 22:35:26 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.0 (https://github.com/PHPMailer/PHPMailer)\n2016-07-23 22:35:26 CLIENT -> SERVER: MIME-Version: 1.0\n2016-07-23 22:35:26 CLIENT -> SERVER: Content-Type: text/plain; charset=utf-8\n2016-07-23 22:35:26 CLIENT -> SERVER:\n2016-07-23 22:35:26 CLIENT -> SERVER: This is the message body\nIn Apple Mail, that arrives looking like this:\n\nand when I hit reply, it looks like this:\n\ni.e. everything is handled correctly. I think it's most likely to be a client-side problem.\n. I suspect this is the same thing as in #1285, which was just fixed in a nicely consistent way. I'm assuming that that change has fixed this problem too (attachments were tested), but if not please reopen.. I suspect this is the same thing as in #1285, which was just fixed in a nicely consistent way. I'm assuming that that change has fixed this problem too (attachments were tested), but if not please reopen.. At a guess, you didn't read the docs.\n. At a guess, you didn't read the docs.\n. No, I can't, because I don't have (or want) access to your server. In order to identify your error, I would go through the steps in the guide. It would tell me the same things it will tell you, but if you do it, it will be quicker and you might learn something. I can tell you that there's nothing wrong with your code - it will be a problem with your server.\n. No, I can't, because I don't have (or want) access to your server. In order to identify your error, I would go through the steps in the guide. It would tell me the same things it will tell you, but if you do it, it will be quicker and you might learn something. I can tell you that there's nothing wrong with your code - it will be a problem with your server.\n. @Ju1jan From the info posted, you have no way of telling that this is the problem. If you want to add your info to the wiki, go ahead, but make sure you clarify the precise circumstances that this applies - it's not a general solution to \"SMTP connect() failed\" as you're suggesting. Access without captcha is not insecure - it's advisable for signups, but adds very little for logins, other than to annoy legitimate users.\n. You could try a command-line web browser such as elinks or lynx. They have no javascript support by default, and you may have issues with captcha rendering, but they generally work pretty well.\n. No. PHPMailer's job is email, not writing files. You wrote a lot of code to do the same thing as file_put_contents(). You also made a total mess of this PR?\n. No. PHPMailer's job is email, not writing files. You wrote a lot of code to do the same thing as file_put_contents(). You also made a total mess of this PR?\n. I think you need to become familiar with the concept of subclasses:\n`` php\nclass myPHPMailer extends PHPmailer\n{\n    public function __construct($exceptions = null)\n    {\n        parent::__construct($exceptions);\n        $this->Host = 'smtp1.example.com;smtp2.example.com';  // Specify main and backup SMTP servers\n        $this->SMTPAuth = true;                        // Enable SMTP authentication\n        $this->Username = 'user@example.com';          // SMTP username\n        $this->Password = 'secret';                    // SMTP password\n        $this->SMTPSecure = 'tls';                     // Enable TLS encryption,ssl` also accepted\n        $this->Port = 587;\n    }\n}\n$mail = new myPHPMailer;\n...\n```\n. I think you need to become familiar with the concept of subclasses:\n`` php\nclass myPHPMailer extends PHPmailer\n{\n    public function __construct($exceptions = null)\n    {\n        parent::__construct($exceptions);\n        $this->Host = 'smtp1.example.com;smtp2.example.com';  // Specify main and backup SMTP servers\n        $this->SMTPAuth = true;                        // Enable SMTP authentication\n        $this->Username = 'user@example.com';          // SMTP username\n        $this->Password = 'secret';                    // SMTP password\n        $this->SMTPSecure = 'tls';                     // Enable TLS encryption,ssl` also accepted\n        $this->Port = 587;\n    }\n}\n$mail = new myPHPMailer;\n...\n```\n. It depends on the certificate that's being presented by your mail server. Try this:\nopenssl s_client -starttls smtp -crlf -connect yourmailserver.example.com:587\nThat should give you more info about what's going on.\n. It depends on the certificate that's being presented by your mail server. Try this:\nopenssl s_client -starttls smtp -crlf -connect yourmailserver.example.com:587\nThat should give you more info about what's going on.\n. It could be that your ISP is transparently redirecting you to another server. Do a manual SMTP session with telnet and see if it comes up with a host name that sounds like office365. It works fine for me:\ntelnet smtp.office365.com 587\nTrying 132.245.55.178...\nConnected to outlook-emeasouth2.office365.com.\nEscape character is '^]'.\n220 AM3PR02CA0061.outlook.office365.com Microsoft ESMTP MAIL Service ready at Wed, 20 Jul 2016 20:12:08 +0000\nEHLO localhost\n250-AM3PR02CA0061.outlook.office365.com Hello [77.151.16.252]\n250-SIZE 157286400\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-STARTTLS\n250-8BITMIME\n250-BINARYMIME\n250 CHUNKING\nQUIT\n221 2.0.0 Service closing transmission channel\nConnection closed by foreign host.\n. It could be that your ISP is transparently redirecting you to another server. Do a manual SMTP session with telnet and see if it comes up with a host name that sounds like office365. It works fine for me:\ntelnet smtp.office365.com 587\nTrying 132.245.55.178...\nConnected to outlook-emeasouth2.office365.com.\nEscape character is '^]'.\n220 AM3PR02CA0061.outlook.office365.com Microsoft ESMTP MAIL Service ready at Wed, 20 Jul 2016 20:12:08 +0000\nEHLO localhost\n250-AM3PR02CA0061.outlook.office365.com Hello [77.151.16.252]\n250-SIZE 157286400\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-STARTTLS\n250-8BITMIME\n250-BINARYMIME\n250 CHUNKING\nQUIT\n221 2.0.0 Service closing transmission channel\nConnection closed by foreign host.\n. And with OpenSSL:\n```\nopenssl s_client -starttls smtp -crlf -connect smtp.office365.com:587\nCONNECTED(00000003)\ndepth=2 C = IE, O = Baltimore, OU = CyberTrust, CN = Baltimore CyberTrust Root\nverify return:1\ndepth=1 C = US, ST = Washington, L = Redmond, O = Microsoft Corporation, OU = Microsoft IT, CN = Microsoft IT SSL SHA2\nverify return:1\ndepth=0 C = US, ST = WA, L = Redmond, O = Microsoft Corporation, OU = Microsoft Corporation, CN = outlook.com\nverify return:1\n\nCertificate chain\n 0 s:/C=US/ST=WA/L=Redmond/O=Microsoft Corporation/OU=Microsoft Corporation/CN=outlook.com\n   i:/C=US/ST=Washington/L=Redmond/O=Microsoft Corporation/OU=Microsoft IT/CN=Microsoft IT SSL SHA2\n 1 s:/C=US/ST=Washington/L=Redmond/O=Microsoft Corporation/OU=Microsoft IT/CN=Microsoft IT SSL SHA2\n   i:/C=IE/O=Baltimore/OU=CyberTrust/CN=Baltimore CyberTrust Root\n\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIH3DCCBcSgAwIBAgITWgACDkKJ54xpWEiewQABAAIOQjANBgkqhkiG9w0BAQsF\nADCBizELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcT\nB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEVMBMGA1UE\nCxMMTWljcm9zb2Z0IElUMR4wHAYDVQQDExVNaWNyb3NvZnQgSVQgU1NMIFNIQTIw\nHhcNMTUxMDEzMjIyMDA0WhcNMTcxMDEyMjIyMDA0WjCBgjELMAkGA1UEBhMCVVMx\nCzAJBgNVBAgTAldBMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3Nv\nZnQgQ29ycG9yYXRpb24xHjAcBgNVBAsTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEU\nMBIGA1UEAxMLb3V0bG9vay5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK\nAoIBAQDk/8ftuN2cH6i5FxI/CsvuILSy8G2eOknbQS32Fm55uosydk7oAlikv4g8\nB9roHka5Sv7qBtaf9pDFdR4Yx3LgqSZl/ulYdpTlVFSbaYehQxx6CZzXmhSwk9ce\nB6SxmqHP6XeTj/J/rbAEvEoQN62o/kIU9huX0aPx74NthU2HV89YtHuTJ1c5uPf9\nvsN7tATRcgKYgPQW9EvK29Yj9Z8boEKam0gmm1Wi8RGRfKdtYjV9vKTBaNLxv4W1\nvkV8eG4lhqspa9EejUwu+TsPb1k+W8dHAy3Sq/yfJVmIGAv7hr91hWdQAqpFoER3\neNmZ/h2fUcXmQXeyxryNsB+Lm3jnAgMBAAGjggM+MIIDOjALBgNVHQ8EBAMCBLAw\nHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMHgGCSqGSIb3DQEJDwRrMGkw\nDgYIKoZIhvcNAwICAgCAMA4GCCqGSIb3DQMEAgIAgDALBglghkgBZQMEASowCwYJ\nYIZIAWUDBAEtMAsGCWCGSAFlAwQBAjALBglghkgBZQMEAQUwBwYFKw4DAgcwCgYI\nKoZIhvcNAwcwHQYDVR0OBBYEFJ2wmBwkWtSd7VFTxNf2urGNe5APMB8GA1UdIwQY\nMBaAFFGvJCac9GgiV4AmKztGYhV7HsylMH0GA1UdHwR2MHQwcqBwoG6GNmh0dHA6\nLy9tc2NybC5taWNyb3NvZnQuY29tL3BraS9tc2NvcnAvY3JsL21zaXR3d3cyLmNy\nbIY0aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraS9tc2NvcnAvY3JsL21zaXR3\nd3cyLmNybDBwBggrBgEFBQcBAQRkMGIwPAYIKwYBBQUHMAKGMGh0dHA6Ly93d3cu\nbWljcm9zb2Z0LmNvbS9wa2kvbXNjb3JwL21zaXR3d3cyLmNydDAiBggrBgEFBQcw\nAYYWaHR0cDovL29jc3AubXNvY3NwLmNvbTBOBgNVHSAERzBFMEMGCSsGAQQBgjcq\nATA2MDQGCCsGAQUFBwIBFihodHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL21z\nY29ycC9jcHMAMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUH\nAwIwgecGA1UdEQSB3zCB3IILb3V0bG9vay5jb22CDSoub3V0bG9vay5jb22CDW9m\nZmljZTM2NS5jb22CDyoub2ZmaWNlMzY1LmNvbYIKKi5saXZlLmNvbYIWKi5pbnRl\ncm5hbC5vdXRsb29rLmNvbYIXKi5vdXRsb29rLm9mZmljZTM2NS5jb22CEm91dGxv\nb2sub2ZmaWNlLmNvbYIdYXR0YWNobWVudC5vdXRsb29rLm9mZmljZS5uZXSCIGF0\ndGFjaG1lbnQub3V0bG9vay5vZmZpY2VwcGUubmV0ggwqLm9mZmljZS5jb20wDQYJ\nKoZIhvcNAQELBQADggIBAA1MnIS+r3GyiJjg2+Zsx7q94z48ovRQJqIG6/c7UUzK\n6tEFkIepADfLszI+y4dYG7GP1j9e6K2a1StF2/tEjF21IA6NS/ITiOFXoStLQZ4T\nI1Sb3IIQoOeWchtYf2KIQXYvQJutWuzp1gcRUH3xuHxKr+TFlIicWqQccnBYzUqV\ndm92IhlHqdjT4kKIYjPDXEy+GMeh9+h2CVAgitsuZHfVL9V8ik3trkh6prGotca/\nJZ06cKr7CWL/Yz0zNKkjvvTF/pJ6m4UvkuhSJoaZYU4Rj3jjWqj1IrP6pDsc99Yd\n5HkUSkUq4xN8yhDuMDEKUQ/IjRTx1znWLzTELwZeRvDk2t4xXFJIsGxm8j1aL7+O\nxXxrpM7hD71omQaxNa+4nYUuBDePp/1Ac/z7S2EPgRC/GMJ/UNcKfD/Hat8o1AP7\nYT7RYF7GSqSxcEGKVhck5YAaQsbjjNdrx8N3Wo0qvu/BvJRGU79SvWgJAEfpbQFj\nqF3x1NR+mlEriTuujqAehX8QYdTwKNLMJSF5ZickGNCi+klBAd1kmvTdY3wf3KYL\nBQfUVkga1eLoqmWrPLFYhz8QFLF/GNiLkARIguAMZV77vc0Hl9UhN2wyEnBrfjmO\ndZKD/3bIMhW1l49oCkxhFki3ED9xNPD0xEBPW72bx0HyYp7Ch/1s3XZR/IfFaKDB\n-----END CERTIFICATE-----\nsubject=/C=US/ST=WA/L=Redmond/O=Microsoft Corporation/OU=Microsoft Corporation/CN=outlook.com\nissuer=/C=US/ST=Washington/L=Redmond/O=Microsoft Corporation/OU=Microsoft IT/CN=Microsoft IT SSL SHA2\n---\nNo client certificate CA names sent\nClient Certificate Types: RSA sign, DSA sign, ECDSA sign\nRequested Signature Algorithms: RSA+SHA512:ECDSA+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA1:ECDSA+SHA256:ECDSA+SHA384:ECDSA+SHA1:DSA+SHA1\nShared Requested Signature Algorithms: RSA+SHA512:ECDSA+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA1:ECDSA+SHA256:ECDSA+SHA384:ECDSA+SHA1:DSA+SHA1\nPeer signing digest: SHA1\nServer Temp Key: ECDH, P-384, 384 bits\n---\nSSL handshake has read 4461 bytes and written 569 bytes\n---\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-SHA384\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1.2\n    Cipher    : ECDHE-RSA-AES256-SHA384\n    Session-ID: 3B1400004334D7F089AE15E7FEC45427E32B682E0924CDB3396FCB270FDEDF04\n    Session-ID-ctx:\n    Master-Key: 69418EC3C7FF57D3094C28920B9FED57E3CB6BA99AD76B62064699AA6D996E68062097896C74137DFA8F417F3D2FD662\n    Key-Arg   : None\n    PSK identity: None\n    PSK identity hint: None\n    SRP username: None\n    Start Time: 1469045635\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n250 CHUNKING\nQUIT\nDONE\n```\n. And with OpenSSL:\n```\nopenssl s_client -starttls smtp -crlf -connect smtp.office365.com:587\nCONNECTED(00000003)\ndepth=2 C = IE, O = Baltimore, OU = CyberTrust, CN = Baltimore CyberTrust Root\nverify return:1\ndepth=1 C = US, ST = Washington, L = Redmond, O = Microsoft Corporation, OU = Microsoft IT, CN = Microsoft IT SSL SHA2\nverify return:1\ndepth=0 C = US, ST = WA, L = Redmond, O = Microsoft Corporation, OU = Microsoft Corporation, CN = outlook.com\nverify return:1\n\nCertificate chain\n 0 s:/C=US/ST=WA/L=Redmond/O=Microsoft Corporation/OU=Microsoft Corporation/CN=outlook.com\n   i:/C=US/ST=Washington/L=Redmond/O=Microsoft Corporation/OU=Microsoft IT/CN=Microsoft IT SSL SHA2\n 1 s:/C=US/ST=Washington/L=Redmond/O=Microsoft Corporation/OU=Microsoft IT/CN=Microsoft IT SSL SHA2\n   i:/C=IE/O=Baltimore/OU=CyberTrust/CN=Baltimore CyberTrust Root\n\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIH3DCCBcSgAwIBAgITWgACDkKJ54xpWEiewQABAAIOQjANBgkqhkiG9w0BAQsF\nADCBizELMAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcT\nB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEVMBMGA1UE\nCxMMTWljcm9zb2Z0IElUMR4wHAYDVQQDExVNaWNyb3NvZnQgSVQgU1NMIFNIQTIw\nHhcNMTUxMDEzMjIyMDA0WhcNMTcxMDEyMjIyMDA0WjCBgjELMAkGA1UEBhMCVVMx\nCzAJBgNVBAgTAldBMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3Nv\nZnQgQ29ycG9yYXRpb24xHjAcBgNVBAsTFU1pY3Jvc29mdCBDb3Jwb3JhdGlvbjEU\nMBIGA1UEAxMLb3V0bG9vay5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK\nAoIBAQDk/8ftuN2cH6i5FxI/CsvuILSy8G2eOknbQS32Fm55uosydk7oAlikv4g8\nB9roHka5Sv7qBtaf9pDFdR4Yx3LgqSZl/ulYdpTlVFSbaYehQxx6CZzXmhSwk9ce\nB6SxmqHP6XeTj/J/rbAEvEoQN62o/kIU9huX0aPx74NthU2HV89YtHuTJ1c5uPf9\nvsN7tATRcgKYgPQW9EvK29Yj9Z8boEKam0gmm1Wi8RGRfKdtYjV9vKTBaNLxv4W1\nvkV8eG4lhqspa9EejUwu+TsPb1k+W8dHAy3Sq/yfJVmIGAv7hr91hWdQAqpFoER3\neNmZ/h2fUcXmQXeyxryNsB+Lm3jnAgMBAAGjggM+MIIDOjALBgNVHQ8EBAMCBLAw\nHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMHgGCSqGSIb3DQEJDwRrMGkw\nDgYIKoZIhvcNAwICAgCAMA4GCCqGSIb3DQMEAgIAgDALBglghkgBZQMEASowCwYJ\nYIZIAWUDBAEtMAsGCWCGSAFlAwQBAjALBglghkgBZQMEAQUwBwYFKw4DAgcwCgYI\nKoZIhvcNAwcwHQYDVR0OBBYEFJ2wmBwkWtSd7VFTxNf2urGNe5APMB8GA1UdIwQY\nMBaAFFGvJCac9GgiV4AmKztGYhV7HsylMH0GA1UdHwR2MHQwcqBwoG6GNmh0dHA6\nLy9tc2NybC5taWNyb3NvZnQuY29tL3BraS9tc2NvcnAvY3JsL21zaXR3d3cyLmNy\nbIY0aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraS9tc2NvcnAvY3JsL21zaXR3\nd3cyLmNybDBwBggrBgEFBQcBAQRkMGIwPAYIKwYBBQUHMAKGMGh0dHA6Ly93d3cu\nbWljcm9zb2Z0LmNvbS9wa2kvbXNjb3JwL21zaXR3d3cyLmNydDAiBggrBgEFBQcw\nAYYWaHR0cDovL29jc3AubXNvY3NwLmNvbTBOBgNVHSAERzBFMEMGCSsGAQQBgjcq\nATA2MDQGCCsGAQUFBwIBFihodHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpL21z\nY29ycC9jcHMAMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUH\nAwIwgecGA1UdEQSB3zCB3IILb3V0bG9vay5jb22CDSoub3V0bG9vay5jb22CDW9m\nZmljZTM2NS5jb22CDyoub2ZmaWNlMzY1LmNvbYIKKi5saXZlLmNvbYIWKi5pbnRl\ncm5hbC5vdXRsb29rLmNvbYIXKi5vdXRsb29rLm9mZmljZTM2NS5jb22CEm91dGxv\nb2sub2ZmaWNlLmNvbYIdYXR0YWNobWVudC5vdXRsb29rLm9mZmljZS5uZXSCIGF0\ndGFjaG1lbnQub3V0bG9vay5vZmZpY2VwcGUubmV0ggwqLm9mZmljZS5jb20wDQYJ\nKoZIhvcNAQELBQADggIBAA1MnIS+r3GyiJjg2+Zsx7q94z48ovRQJqIG6/c7UUzK\n6tEFkIepADfLszI+y4dYG7GP1j9e6K2a1StF2/tEjF21IA6NS/ITiOFXoStLQZ4T\nI1Sb3IIQoOeWchtYf2KIQXYvQJutWuzp1gcRUH3xuHxKr+TFlIicWqQccnBYzUqV\ndm92IhlHqdjT4kKIYjPDXEy+GMeh9+h2CVAgitsuZHfVL9V8ik3trkh6prGotca/\nJZ06cKr7CWL/Yz0zNKkjvvTF/pJ6m4UvkuhSJoaZYU4Rj3jjWqj1IrP6pDsc99Yd\n5HkUSkUq4xN8yhDuMDEKUQ/IjRTx1znWLzTELwZeRvDk2t4xXFJIsGxm8j1aL7+O\nxXxrpM7hD71omQaxNa+4nYUuBDePp/1Ac/z7S2EPgRC/GMJ/UNcKfD/Hat8o1AP7\nYT7RYF7GSqSxcEGKVhck5YAaQsbjjNdrx8N3Wo0qvu/BvJRGU79SvWgJAEfpbQFj\nqF3x1NR+mlEriTuujqAehX8QYdTwKNLMJSF5ZickGNCi+klBAd1kmvTdY3wf3KYL\nBQfUVkga1eLoqmWrPLFYhz8QFLF/GNiLkARIguAMZV77vc0Hl9UhN2wyEnBrfjmO\ndZKD/3bIMhW1l49oCkxhFki3ED9xNPD0xEBPW72bx0HyYp7Ch/1s3XZR/IfFaKDB\n-----END CERTIFICATE-----\nsubject=/C=US/ST=WA/L=Redmond/O=Microsoft Corporation/OU=Microsoft Corporation/CN=outlook.com\nissuer=/C=US/ST=Washington/L=Redmond/O=Microsoft Corporation/OU=Microsoft IT/CN=Microsoft IT SSL SHA2\n---\nNo client certificate CA names sent\nClient Certificate Types: RSA sign, DSA sign, ECDSA sign\nRequested Signature Algorithms: RSA+SHA512:ECDSA+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA1:ECDSA+SHA256:ECDSA+SHA384:ECDSA+SHA1:DSA+SHA1\nShared Requested Signature Algorithms: RSA+SHA512:ECDSA+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA1:ECDSA+SHA256:ECDSA+SHA384:ECDSA+SHA1:DSA+SHA1\nPeer signing digest: SHA1\nServer Temp Key: ECDH, P-384, 384 bits\n---\nSSL handshake has read 4461 bytes and written 569 bytes\n---\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-SHA384\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1.2\n    Cipher    : ECDHE-RSA-AES256-SHA384\n    Session-ID: 3B1400004334D7F089AE15E7FEC45427E32B682E0924CDB3396FCB270FDEDF04\n    Session-ID-ctx:\n    Master-Key: 69418EC3C7FF57D3094C28920B9FED57E3CB6BA99AD76B62064699AA6D996E68062097896C74137DFA8F417F3D2FD662\n    Key-Arg   : None\n    PSK identity: None\n    PSK identity hint: None\n    SRP username: None\n    Start Time: 1469045635\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n250 CHUNKING\nQUIT\nDONE\n``\n. You can get more info on the cert, in particular to seeServer Alternate Name` entries:\nopenssl s_client -connect smtp.office365.com:587 -starttls smtp | openssl x509 -noout -text\nIn this case it includes this:\nX509v3 Subject Alternative Name:\n                DNS:outlook.com, DNS:*.outlook.com, DNS:office365.com, DNS:*.office365.com, DNS:*.live.com, DNS:*.internal.outlook.com, DNS:*.outlook.office365.com, DNS:outlook.office.com, DNS:attachment.outlook.office.net, DNS:attachment.outlook.officeppe.net, DNS:*.office.com\nIn your output, the significant thing is this result code (note mine returns 0):\nVerify return code: 19 (self signed certificate in certificate chain)\nIf you look back at the list of certificates in your chain:\ni:/OU=generated by avast! antivirus for SSL/TLS scanning/O=avast! Web/Mail Sh\nield/CN=avast! Web/Mail Shield Root\n 1 s:/OU=generated by avast! antivirus for SSL/TLS scanning/O=avast! Web/Mail Sh\nield/CN=avast! Web/Mail Shield Root\n   i:/OU=generated by avast! antivirus for SSL/TLS scanning/O=avast! Web/Mail Sh\nield/CN=avast! Web/Mail Shield Root\nThen look at mine:\n0 s:/C=US/ST=WA/L=Redmond/O=Microsoft Corporation/OU=Microsoft Corporation/CN=outlook.com\n   i:/C=US/ST=Washington/L=Redmond/O=Microsoft Corporation/OU=Microsoft IT/CN=Microsoft IT SSL SHA2\n 1 s:/C=US/ST=Washington/L=Redmond/O=Microsoft Corporation/OU=Microsoft IT/CN=Microsoft IT SSL SHA2\n   i:/C=IE/O=Baltimore/OU=CyberTrust/CN=Baltimore CyberTrust Root\nThese do not match - it looks like your server is using some untrusted certificates from Avast. I think you should look at your CA cert file, or figure out why Avast is interfering with your config.\n. Your Avast software is interfering with your SSL. I've no idea how your configure that.\n. If you follow that link to the troubleshooting guide, it will tell you how to deal with this.\n. If you follow that link to the troubleshooting guide, it will tell you how to deal with this.\n. Do what it says in the guide. That will allow you to work out what is missing or wrong with your config. It's quite likely to be something like a missing CA file in your PHP 7 config.\n. PHPMailer does not display success messages, it's up to your code to do that. The examples show how to display something in response to a successful/failed call to send(), but they are not part of the PHPMailer libraries. PHPMailer does provide translated error messages, but again it doesn't display them at all by default - but they are there if you want them.\n. Thanks!\n. This code is nothing to do with PHPMailer.\n. I suggest checking that $mail->addAddress(\"$correoDestinatario\",\"$nombreDestinatario\"); succeeds (that it returns true). Also, you don't need to quote those variables.\n. It's well-known that GoDaddy blocks outbound SMTP - This is covered in the troubleshooting guide in the wiki. However, if that was your problem you should be seeing errors - though it could just be that you're not doing any error checking.\n. It's true it doesn't mention GoDaddy by name (I'll add it), but it covers the mechanism by which GoDaddy blocks SMTP. I'd also recommend searching Stack Overflow where this comes up frequently. Please post your code. If you're not using SMTP, you won't be running into GoDaddy's block, but you may have not configured a local mail server or something - I can't tell without seeing your code.\n. That's not necessarily a solution at all. All it means is that you're sending via a local mail server, exactly as if you had specified not to use SMTP at all. Submitting to the local mail server (if you have one) will succeed, but then it will fail to deliver messages for exactly the same reasons - outbound SMTP is blocked, and it doesn't matter whether PHPMailer or your mail server is doing the sending, it's all the same to the block. To send from GoDaddy you need to read their documentation for how to send email, which will usually involve relaying via their *.secureserver.net domain - this is what most of the SO answers say.\n. The guide linked from the error covers this - your server is not the one you asked to connect to (smtp.office365.com) - it's being intercepted and redirected to a different server (*.secureserver.net), so it will fail SSL certificate verification, and you've also given away your Office credentials to the MITM-attack this represents. You're using GoDaddy which is known to do this. You need to explicitly use their servers as they block outbound SMTP - you'll need to refer to their docs for details.\n. You're using an old version; that was fixed many years ago.\n. The docs on openssl_sign say that parameter 4 can be a string or an int (i.e. a long). PHPMailer passes in a string containing sha256WithRSAEncryption, which is in fact the exact value used in the docs! All I can think is that you're using an old version of PHP that does not contain that signature mechanism.\n. Both of those are very old, no longer supported and are known to contain security holes, so I'd recommend you upgrade if you can. Thanks for the pointer to that workaround - I have added an implementation in master - please give it a try.\n. No, PHPMailer doesn't send multiple copies, but it's very common for browsers to send duplicate requests, especially caused by some plug-ins.\n. PHPMailer's involvement ends when it delivers the message to your mail server. The chain goes like this:\nPHPMailer -> your local Exim -> recipient's server\nIf the delivery then fails from that point onwards, you won't get to know about it unless your configure a bounce handler to receive the undelivered message back from Exim, and that's entirely outside PHPMailer's remit.\n. Also, that's not a bounce - it's a deferral. The message will still be delivered later on. This is why you want to use a proper local mail server with queuing and retrying, and not try sending directly to Yahoo - PHPMailer isn't a full MTA (mail server).\n. No. All recipients receive exactly the same message. If you want different content, you must send separate messages. Look at the mailing list example provided.\n. Are they on the same network? What did the tests from the troubleshooting guide tell you?\n. I'd check your system logs for something like SELinux contraventions, which I think CentOS enforces by default.\n. Could you rebase/squash/force-push this please?\n. You did it just right - Thanks\n. Why are you setting the received header? This makes no sense - by definition you're a mail client, originating a new message, so you have no data to put into the header! Received headers are added by servers when they receive a message.\nPHPMailer doesn't remove anything, it's probably your mail server.\n. As I said, and as @wazirsoft said I said, PHPMailer will add Received headers if you ask it to - it doesn't prevent you doing so at all. If they are subsequently being stripped by your mail server, that's not anything that PHPMailer can do anything about, so this ticket will remain closed. Try setting SMTPDebug = 2 and you should see the headers being sent to the mail server. If they are not there when you receive the message, it's nothing to do with the sending software.\n. Have you done what the troubleshooting guide says? It would help to see your code.\n. That's pointless - gmail won't let you send without authentication. If you want to send fast, read the PHPMailer docs & wiki.. That just won't work - gmail requires authentication, and you're disabling it. You've also got basic syntax errors in here that means this code won't even run. All that calling gethostbyname does is force it to look up an IPv4 address rather than an IPv6 one, which generally makes no performance difference. Posting example code containing elements specific to you is also a bad idea, such as your list-unsubscribe custom header. Setting keepalive will not achieve anything in this code because you're creating a new instance ever time the code is run, so it loses the connection context and keepalive can't work. Seriously, just stick to the gmail example provided which makes none of these mistakes, and refer to the wiki article on sending to lists. Also remember that remote SMTP is not well suited to sending during page submission processing - any SMTP server can quite legitimately keep you waiting for 10 minutes, often deliberately.. Well it's bad advice, and wrong, so I've deleted it.. Could you rebase this on the 6.0 branch please? It's a BC break, so can't go into 5.2.\n. Sorry, I didn't see you'd patched the renaming too, thanks!\n. You have not asked for encryption, but the server offers it, and PHPMailer will use it automatically if it's there - but it's breaking; you can see that it fails immediately after the STARTTLS command. This is most probably from an invalid or self-signed certificate, or that your PHP is built without SSL support. You can disable this with $mail->SMTPAutoTLS = false;, but don't do that until you know exactly why it's failing as otherwise it may be compromising yoru security. The troubleshooting guide that the error message links to covers all this.\n. It doesn't need to be accessible from outside - run the tests from the same place as your script runs.\n. Great - could you uncomment them too ? \ud83d\ude3a \n. Thank you!\n. You don't need to use it. Call isSMTP(), then send() and it's all done for you, just like in the examples provided.\n. Yes, but you must call everything else in order to set up the context that it can work in. The docs for it are here.\n. This code is just a mess. PHPMailer and PHP's built-in mail() function are very different things; you can't just mix them together randomly. Base your code on the examples provided with PHPMailer, and use the latest version.\n. Please read the troubleshooting guide that the error links to; that's why it's there. PHP 5.6 introduced a straightfoward and necessary change, but it causes many problems for those with bad PHP or mail server configs.\n. As I said, don't just do that without knowing exactly why you're doing it. It means that you have a security problem, and disabling verification means you're compromising your security - it's a bit like using @ to suppress errors - it's better to fix the error.\n. You're using an old version of PHPMailer, you've written a chunk of unnecessary code (isEmailValid duplicates an existing PHPMailer function), you've based your code on an obsolete example, and you've not said what the problem is - \"it doesn't work\" isn't any use.\n. I'm not surprised - you're not even asking it to attach! Look at the send uploaded file example in the examples folder for how to do it correctly.\n. Here's the latest version, and this is the example I mentioned. It would help to read the PHP docs on file uploads too.\n. As it says \"part of their network on our block list\", i.e. it's nothing to do with the message itself, just where it's sent from, your provider.\n. It probably dosn't help that you're running old versions of Apache, PHP and OpenSSL. Try updating.\n. This just sounds like you need a local mail server to deal with your queuing and retries, and a bounce handler to deal with bounces. PHPMailer isn't an MTA, so don't expect it to act like one!\n. Sorry, an MTA is a name for a full mail server or Mail Transfer Agent. PHPMailer is only an MUA - a Mail User Agent - and so does not have support for queuing, retrying or bounce handling, though it will report delivery-time errors. The best way to use PHPMailer is to have a local or nearby mail server that you can deliver to via SMTP - this means messages will be submitted very quickly, leaving your PHP scripts to get on with other stuff, and the mail server deals with remote delivery, retrying etc.\nIn order to handle delivery failures after it's been handed to the mail server by PHPMailer, you need to set up a bounce handler that will accept the rejections from your mail server. Most significantly, this is asynchronous - bounces may happen immediately during initial delivery, or much later. It's not hard to configure your mail server to feed bounces into a PHP script, but actually processing them is deeply unpleasant.\n. This sounds like your ISP is blocking outbound SMTP (blocking DNS would be unlikely) and your web server has a shorter timeout than the connection timeout within PHPMailer. Please make sure you're using the latest version, read the troubleshooting guide to diagnose your problem, and check your ISP's documentation on their email policy.\n. And if you try setting $mail->AuthType to LOGIN or PLAIN?\n. I gave examples in my last post! Please read what I said.\n. @requillo How about you do what it says:\n\n2016-10-03 16:25:16 SMTP ERROR: Username command failed: 535 5.7.8 Error: authentication failed: One time use of a plaintext password will enable requested mechanism for user\n\nYou're not having the same problem as @AmrataRamchandani, so please don't hijack his issue.\n. I agree that the default system isn't secure, but it's not that critical either. The default works ok, and it's only used if you don't supply your own value, which is what you would do if you have higher requirements. I don't want to change things that are likely to create support issues right now! I would accept dropping the use of md5 altogether, as that's causing more harm than good.\nEasyPeasyICS is being dropped from PHPMailer in 6.0 anyway - it will be managed as a separate project, and this change will certainly be welcome there.\n. Good idea, thanks\n. There's an unexpected problem with this - it also affects the zip file download - see #856\n. Yes, I can understand that for production use with composer - but who would be using zip downloads in production? I'd classify zip downloads as being there for those that don't know how to use composer or git, i.e. those most in need of the additional files.\n. Please read the error message - it tells you what to do. It's not a firewall problem - if it was you would not be able to connect at all. You're not having a connection problem, you've got an authentication problem, one that is heavily documented and covered in many tickets on here and questions on Stack Overflow, so please search before asking.\n. As the answer to that says, this is 100% a bug/feature of OpenSSL, nothing to do with legitimate email clients. RFC says RCPT TO.\n. Thanks for the heads-up. The only mention of mcrypt in PHPMailer is in the NTLM authentication class, imported from PHPClasses. This class doesn't actually work, and has been dropped entirely from PHPMailer 6.0.\n. No. It contains those functions, but they are wrapped in version checks, and have been removed in the fothcoming 6.0. Read the code. PHPMailer has been PHP 7 compatible for a couple of years.\n. Exactly this scenario is described in the troubleshooting docs the error links to, which is why it links to it. You have a TLS problem; figure out what it is and fix it.\n. It's most likely that it's failing at the TLS stage. Follow what the guide says and enable debug output.\n. Read what it says: \nAuth method requested: UNKNOWN\nAuth methods available on the server: GSSAPI,NTLM\nSMTP Error: Could not authenticate.\nThe server does not support any of the auth methods that PHPMailer does. PHPMailer used to support NTLM via some classes from the phpclasses site, but I don't think it ever worked, and it's been removed.\n. #462 was already fixed and is a different problem, unrelated to this one. It was dealing with a case where the server did not list auth mechanisms at all in EHLO response (a bug in the server). Your case is that your server only supports auth mechanisms that PHPMailer does not support. There is still some mention of NTLM in PHPMailer 5.2, but I don't know if it ever worked and it has pieces missing (which is why it's being removed), and you're the first person to ask about it in 10 years! Various people have had a go at it elsewhere, for example here, but I've not seen a working system. There are plenty of other examples if you have a search.\n. I can't tell what's wrong - you need to follow what the troubleshooting guide says.\n. Show what you tried. I can't do it for you.\n. Can you try this: In the SMTP class, find this line in the the connected() method:\nif ($sock_status['eof']) {\nReplace it with this:\nif (feof($this->smtp_conn)) {\nDoes that make any difference?\n. So you get the same error? What happens when you use openssl to connect (as described in the guide) - do the peer_name and certificate match exactly?\n. And openssl?\n. I tested it with openssl s_client -connect smtp.mail.gov.az:587 -starttls smtp, and get this response:\n```\nCONNECTED(00000003)\ndepth=2 C = US, O = GeoTrust Inc., CN = GeoTrust Primary Certification Authority\nverify error:num=20:unable to get local issuer certificate\n\nCertificate chain\n 0 s:/jurisdictionC=AZ/businessCategory=Government Entity/serialNumber=Government Entity/C=AZ/ST=Baku/L=Baku/O=Special State Protection Service/CN=secure.mail.gov.az\n```\nTwo significant things here: it fails to verify (which could be a local problem), and the CN (secure.mail.gov.az) does not match the host name you connected to (smtp.mail.gov.az). I tried connecting to secure.mail.gov.az as well, but that didn't respond. So, it looks like this is a verification failure.\n. Is C# validating the certificate? What happens if you disable the certificate check in PHPMailer? Your original code permitted self-signed certs, but the one the server is presenting is not self-signed.\n. That won't help - There's nothing wrong with your code, it's the environment or server (as in the mismatched cert above) that's causing your problem. Try what I suggested.\n. @pipajaki Please read the guide that your error message links to.\n. 30 seconds is nowhere near long enough for reliable SMTP, you definitely need to increase the max execution time in your php.ini. That said, it probably won't help in this case. You probably have some kind of network issue on your office PC which you can test for by reading the troubleshooting guide in the wiki. I can also see that you have based your code on an obsolete example, and you're probably using an old version of PHPMailer.\n. Increase you max execution time in your php.ini, or hand it off to an async process.\n. Restart your web server for it to pick the changes in your php.ini.\n. Please read the thread before posting. The SMTP specification allows servers to take up to 10 minutes to respond to commands, so you need to increase max_execution_time in your php.ini file to allow your scripts to take that long.. Please read the thread before posting. The SMTP specification allows servers to take up to 10 minutes to respond to commands, so you need to increase max_execution_time in your php.ini file to allow your scripts to take that long.. Read the docs like everyone else does.. Read the docs like everyone else does.. You could try reading this thread, since it tells you exactly what to do.. Yes, I think you're right here, so I've changed it to pass in $level in a4de1ca. It's only applicable to the debug output function, which only decides what the output looks like, not whether it happens or not. There isn't a level option in Debugoutput in the PHPMailer class because it does not really have much debug output to apply it to.\n. Due to conflicts with #866 I had to merge this manually in af59766. Can you please check that it's OK?\n. I'm going to treat this like a BC break, so I'm putting the examples back in 5.2.x (cf8cd05), but leaving them out for 6.0 and documenting it.\n. Thanks - though note that the everything in the extras folder is being dropped in 6.0.\n. Thanks\n. I don't think so. It's probably just your server being slow.\n. There are two main ways that email can involve encryption:\n- At the transport level, so that an unencrypted message is transferred using TLS encryption, rendering it unreadable to outsiders.\n- At the message level, where the message itself is encrypted prior to transmission.\nYou can of course combine the two and send an encrypted message over an encrypted transport, and that can help hide metadata that is not hidden by message encryption (for example who a message is to). Sendmail does not provide any support for encryption at the transport level, but that doesn't really matter because it will usually be submitting to a local mail server (thus no exposure), which may use transport encryption to send the message on to its destination.\nFor encrypting messages the main choices are S/MIME and PGP. Both are common standards that are supported by many systems, though PGP usually requires additional software. PHPMailer supports S/MIME for signing messages, but not for encrypting them (though there is an open ticket for that in #127). PHPMailer has no support for PGP, however there is a child class that may work for you discussed in #505.\nWith message-level encryption, you don't need to configure anything on the server, it's just a message that's sent like any other, but you can force your local mail server to refuse to send unless the connection is encrypted, as in this question.\nHTH\n. Thanks. I cleaned up the code a little - the outcome of those first two conditions was the same, so I combined them.\n. Thanks, good to know that works!\n. You mean like it does already?\n. Thanks\n. But it will contain a list of patterns - the ones you've already proposed?\nI'd contend that writing wrappers for third-party classes is a vital part of abstracting your own interfaces away from third-party implementations, exactly in the OO design philosophy of \"code to an interface, not an implementation\". In my own code I use a two-layer wrapper that allows me to override bits of PHPMailer, but also to swap out the whole thing for completely different implementations, such as Zend_Mail. I do the same thing with many other classes doing entirely different things.. No, of course populate it, it needs to be useful!\nI'd guess that anyone using PHPMailer frequently will probably be wrapping it anyway, just to do simple things like preset the Host, Username etc properties, or to map them into their own interfaces. All the frameworks I know of using PHPMailer already do this - Drupal, Yii, CodeIgniter, Kohana, Wordpress etc. This is just business as usual. If they don't explicitly subclass, they'll usually wrap it in some mail function that effectively does the same thing.\nI agree with you on ORM though!\nThe place where I've been saved by wrappers several times is in user agent string analyser classes - several popular ones have collapsed and disappeared, but because I wrapped them, I've not had to make substantial app changes, just update my wrappers.. Could you squash and force-push your commits please?. That's down to your mail server. Most do not require these to be the same.. I suspect you're not getting data in the correct charset from your database. I suspect that corrupted char in \"folgende\" is accented, but because it's only showing a single incorrect character, it means your data is in a 1-byte, 8-bit charset, probably ISO-8859-1. Your script, PHPMailer, your database and the connection to your database all need to use UTF-8. You're using MySQL, so make sure you use the utf8mb4 charset - MySQL's standard UTF-8 isn't a complete implementation.. PHPMailer has nothing do with forms, uploaded files, or these messages. It's up to you to write code to deal with this.. I don't know, but I expect it's something client-side that you may be able to replace/override with JavaScript, and there are probably libraries to help you do it.. It's impossible to say. Spam filters are entirely arbitrary - if there was a simple way to evade them, spammers would use it. If this is your real script, then nothing mentioning example.com is likely to work, also check that you're not forging the from addresses, not trying to send from domains with strong DMARC settings etc. Ultimately it's outside PHPMailer's control.. So read the docs it links you to, do what it says.. Look in the code. It will tell you what version you have. Also, it doesn't matter - just get the latest version and use it instead of whatever you have now. Then read all the other things it says.. You could try reading what I said instead.. Seriously, you need to put in just a tiny bit of effort. Go here: https://github.com/PHPMailer/PHPMailer read what it says, then do it. There is also a download link that page.. To start with you read the readme where it tells you how to load it. PHPMailer, like nearly every PHP package there is, is usually installed either manually, along with your own scripts, or using composer, also covered in the readme. PHP packages are almost never supplied as .deb packages; there is nothing stopping you from creating one yourself, but I would not recommend it because composer does a much better job.. I have no idea about that approach - it was contributed by someone for the reasons they gave in the article, though it ends up being really quite complicated, as you're finding. OAuth is really hard to debug anyway. I really recommend that you take a look at the 6.0 branch, in which the OAuth support is significantly improved. It comes with much better examples, and it would be very useful if you could help test it.. You don't have to touch any of the library code to use OAuth - that's the point of a library. OAuth replaces the entire username/password system - they are simply not used because it does something completely different. Unless you specifically need to use that alternative implementation, I really recommend you don't - use the recommended approach instead, and look into using 6.0.. @muratyaman Unless you can provide actual code to reproduce, this isn't helpful. Have you tried the 6.0 branch as this thread recommends?. By default, gmail only allows sending when the sender address is the same as the owner address (and if you try to use something else it changes it to match the owner address), so what it says should be right.. OK, that makes sense. Most people using OAuth are sending from their own accounts, because gmail requires it now; sending from others is much less common - in fact you're the first person I've heard of doing that, at least with PHPMailer. If you'd like to submit a PR to add a comment to that file to make the distinction clear, I'll accept it. It is still effectively the account owner, but it's the account that the key is for, not the app owner.. It might help if you posted a screen shot. It's really unclear where this problem is.. Can you view source on the message and post the headers here; they will usually say what the problem is.. No, do what I said - view source of the message and post the headers, as text.. The critical part is this:\nReceived-SPF: softfail (google.com: domain of transitioning info@mydomain.com does not designate 23.83.214.30 as permitted sender) client-ip=23.83.214.30;\nAuthentication-Results: mx.google.com;\nspf=softfail (google.com: domain of transitioning info@mydomain.com does not designate 23.83.214.30 as permitted sender) smtp.mailfrom=info@mydomain.com\nYou need to add your source address to your SPF record; there's nothing wrong with your code or the message.. Yes. You would add that to your SPF using a clause like ip4:23.83.214.30, or an appropriate include. It will let you get an SPF 'pass' result.. That message was not sent with PHPMailer. It has SPF, DKIM and DMARC failures, so I\u2019m not surprised you\u2019re having trouble.. If you\u2019re not going to read what I said there\u2019s no point in me saying anything else. This is not a PHPMailer issue.. Maybe learn to read?. Hotmail seems to have problems with some perfectly valid header formatting that the PHP mail() function sometimes messes up. One workaround - if you're currently using the default isMail() transport, switch to using isSMTP() instead.. Thanks for reporting, and the workaround! Using quoted-printable forces the body to be 7-bit clean, so this is probably an encoding problem. Not sure why trailing spaces would be a problem though - DKIM signing applies some fairly severe normalisation to the body before calculating the signature. It may be interesting to try PHPMailer 6.0 (not yet released) - the DKIM normalisation is much cleaner in that.. Follow the link given in the error message and you might get some idea of where the problem lies. I'd guess that your ISP is imposing a limit on your send volume.. I'd suggest taking a look at the mailing list example provided with PHPMailer; stick a 2-second delay in the sending loop if you need to slow it down.\nThe SMTP connection will be closed automatically when the PHPMailer instance goes out of scope (or after message send is complete if you don't enable keepalive), but you can close it manually by calling $mail->getSMTPInstance()->quit();, though you should not need to.. Read the troubleshooting guide the error links to, and don't hijack unrelated, closed issues.. I could have sworn I merged this before - it's fixed in #931. Sure, that example looks good.. I suspect YMMV - there are probably many other factors that decide whether things go into spam, very few use hard rules any more. Regardless, this will be indexed by search engines now :). That doesn't really say anything that's specific to PHPMailer. It seems that 1&1 requires that you use their servers for outbound email. PHPMailer will be giving a more specific error message and code, but the code calling it is evidently not making it visible, so I'd recommend reporting this to the maintainers of whatever app you're using.. The autoloader never went away in 5.2, only in 6. Using composer is not really any different from using PHPMailer's autoloader - the only differences are that it's in the vendor folder and has a different name. The alternative is that you simply load the classes manually - typically this will only involve 2 or 3 files. PHPMailer does have multiple external dependencies (which themselves have other dependencies) if you use OAuth, and handling that within its own autoloader is pointless as it only duplicates what composer already makes a much better job of, which was the reason for getting rid of the duplicate functionality of the autoloader.. I really don't see the problem. If you use composer to include PHPMailer, you'll just get PHPMailer, nothing else, so the overhead is really minimal. If you include a bunch of other packages with many sub-dependencies, you will get lots of other files - but that is entirely up to you and has nothing to do with PHPMailer. Composer itself does not imply some massive expansion in file count and complexity; it's really pretty simple. Managing large numbers of dependencies without composer makes unnecessary work for yourself and is asking for problems.\nPHPMailer is just one tiny library, a leaf on the tree, it's not a framework that should be dictating large-scale autoloading strategy. It's likely to be just one of many packages in any given project, and it works fine with plain requires if you need it to. This shouldn't be alienating anyone. Coming up with a separate autoloading system that has potential conflicts with other autoloaders is reinventing the wheel, adds more code that needs to be maintained. If you want to bundle libraries with your app, just commit the vendor folder; that's all there is to it. Remember that the old autoloader was added before composer existed, and now it's not needed because composer does a much better job.. One other note:\n\nSome projects becoming useless one because of some dependencies make it incompatible with our softwares\n\nThe fact that a package has a dependency on another package that you have problem with simply means you need to find a different implementation of the same functionality. This is not in any way composer's fault - if you used the same package outside composer, you would still have exactly the same problem.. This is covered in the troubleshooting guide in the wiki. Gmail does not allow you to set arbitrary From addresses. You can create fixed aliases in your gmail prefs, but you can't just use any address.. You must be using an old version. The PHPMailer class does not call an errorHandler function at all, and it's marked as protected in the SMTP class.. The two links you provided point to things that no longer exist. Line 1677 in class.phpmailer.php does not contain a call to SMTP::errorHandler(), and the errorHandler method in the SMTP class is declared as protected; that scrutinizer note applies to an older version - that issue was fixed on August 29th in 7c1154b. There are no calls to errorHandler anywhere in the PHPMailer class; the string does not exist in the file.. Aha - I see why - they were fixed in 5.2.17, so you need to update.. Can you reproduce it with current master (or 5.2.17)?. The only thing I can think of is if $this is somehow not what it should be at the time. Can you please post code to reproduce and a stack trace when the error occurs, so we can see how it's getting to that point?. $mail->SMTPSecure = ''; sets an invalid value for SMTPSecure, though that didn't make a difference to me.\nI can't reproduce this, closing.. Could you please add in the main message headers? I'm expecting the main MIME type to be multipart/alternative. As far as I can see that structure looks correct. Without the embedded image the conventional text+html structure is this:\nmultipart/alternative\n    text/plain\n    text/html\nBut adding the image (which is related only to the HTML part), should result in this, which is what you have:\nmultipart/alternative\n    text/plain\n    multipart/related\n        text/html\n        image/png\nThis is covered in RFC 2046. I don't see that PHPMailer is doing anything wrong here.. I suspect the problem is that the clients are not trying hard enough to figure out which is the 'best' option of the multipart/alternative choices because one contains a composite type - looks like buggy clients to me, which is business as usual, especially for Outlook! It may be that they are going - \"we want to display a text part but the HTML part has an image in it that we will miss if we do that, so fudge the HTML version instead\".. Dang drag & drop error! Thanks.. My contact details are on my profile, please send there.. I'd guess at your messages being spam filtered. Once your message has been sent, PHPMailer has no control over it.. Have you set $mail->CharSet = 'UTF-8';?. I can't reproduce this. When I use your example I get this, which is entirely correct:\nContent-Type: text/plain; name=\"=?UTF-8?Q?=C5=BEasiukas.txt?=\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment; filename=\"=?UTF-8?Q?=C5=BEasiukas.txt?=\"\n=C5=BE is Q-encoded U+017E, the unicode value for LATIN SMALL LETTER Z WITH CARON, which is \u017e, and it looks correct in a decoded message.. > X-Mailer: PHPMailer 5.2.8 (https://github.com/PHPMailer/PHPMailer/)\nRule 1: Don't report bugs in ancient versions.. Do you have the mbstring extension enabled? Are you absolutely sure your source code is in UTF-8? Can you post a hex dump of your input data?. OK, that looks right - do your received headers not look like mine? If you set SMTPDebug = 2 does it show the headers being sent correctly?. This is the interesting part:\n```\n[attachment:protected] => Array\n            (\n                [0] => Array\n                    (\n                        [0] => 123\n                        [1] => \u017esiukas.txt\n                        [2] => asiukas.txt\n                        [3] => base64\n                        [4] => text/plain\n                        [5] => 1\n                        [6] => attachment\n                        [7] => 0\n                    )\n        )\n\n```\nElement 2 is set from the same value as 1; the only difference is that it is passed through basename() first, and according to the docs, it requires that your locale is set correctly, which I would guess yours is not:\n\nCaution basename() is locale aware, so for it to see the correct basename with multibyte character paths, the matching locale must be set using the setlocale() function.\n\nThe locale can also be set via your php.ini.. This makes little sense:\nReceived-SPF: neutral (google.com: 103.60.126.120 is neither permitted nor denied by best guess record for domain of letdeal@letdeal.com) client-ip=103.60.126.120;\n\nvs.\nReceived-SPF: pass (google.com: domain of letdeal@letdeal.com designates 103.60.126.120 as permitted sender) client-ip=103.60.126.120;\n\nYou've got the same IP giving different SPF results for the same domain. I can only conclude you changed your SPF record between these messages.\nFundamentally, you have no control over inbox placement; spam filtering is entirely arbitrary and controlled by the receiver. SPF does not make any guarantees at all about whether your message is treated as spam or not - it only authenticates that the source is legitimate for the domain, which can be just as true for spam as for non-spam.\nIn your first message, your subject line is not 7-bit clean; PHPMailer does not support SMTPUTF8, so that's unlikely to work, and I'm curious how it ended up like that in the delivered message.\nI also suggest updating to latest PHPMailer - you're using an old version.. This is a problem or restriction on your mail server. This is the critical part:\n2016-12-21 14:19:24 SERVER -> CLIENT: 452 4.1.1 NeKD1u00T1ustzm01eKRZu policy violation\n\nIf you exceeded their limits, they may have blocked you from sending, so I suggest you contact their support people.. You need to provide more info than \"not working\". Code & config to reproduce, error messages etc.. Be aware of this difference around PHP 5.6.7. If you look in the code (assuming you're running a version more recent than 5.2.15, which you should be after the recent security issues), you'll see it's implemented exactly like that in PHPMailer.\nI recommend testing your server using testssl.sh, and #923 may also be of interest.. isSendMail() is something else you probably don't need. If you use isMail() (PHPMailer's default) it will send using the standard PHP mail() function. When you send this way, it submits your message to your local mail server, which will be configured to relay through hostgator's own mail servers. This is secure enough for most purposes. There's no particular reason it should be considered spam, but make sure you list hostgator's mail servers in your SPF record. Send your self a message through that path, then inspect the message headers to confirm the servers that are involved. It's likely that hostgator has an SPF record you can include - check their support docs.. It's not quite clear, but I assume you mean you want to capture debug output when SMTPDebug = 2. You can do this by injecting a function into the Debugoutput property, like this:\nphp\n$mail->SMTPDebug  = 2;\n$mail->Debugoutput = function($str, $level) {\n    file_put_contents('smtp.log', gmdate('Y-m-d H:i:s'). \"\\t$level\\t$str\\n\", FILE_APPEND | LOCK_EX);\n};\nThis is described in the source code.. First up, you're using an old version of PHPMailer, so update it. You probably don't want encryption on a connection to localhost , so set SMTPSecure = false, and you shouldn't need auth either (SMTPAuth = false).. Indeed - Yahoo is prone to delaying mail for completely arbitrary reasons. If you check your mail server logs, you'll probably find them full of 421 deferral entries. Gmail is very fast.. Indeed - Yahoo is prone to delaying mail for completely arbitrary reasons. If you check your mail server logs, you'll probably find them full of 421 deferral entries. Gmail is very fast.. The troubleshooting guide includes some info about how to test SSL config using the openssl command-line client. See what that says.. OK, so how about enabling low-level debug output with SMTPDebug = 4 - it may be hanging up at some later point in the conversation.. It could be blocked within PHP, or by SELinux / AppArmor etc.. Look in your syslog, or logs for SELinux etc - any contraventions of policy should be logged. Also inspect the configs for those protections.. You have quite a few mistakes in here - base your code on the examples provided (you've used an old, obsolete one), don't set random things for no good reason, and read the docs. SMTPSecure should be tls, not tsl. There's no need to set Mailer yourself - isSMTP() does that. Similarly, msgHTML calls isHTML for you. If you're going to check for errors on send, examine the contents of ErrorInfo afterwards and it will tell you what the problem is. If you still have trouble, set SMTPDebug = 2 and look at what it says.. Bah - Too many version constants... Thanks for spotting that, will be fixed shortly.. This is slightly awkward - in the past we've had complaints about the install bundle including too many files, plus it's considered an information leak during pentests, so we added that .gitattributes file to skip those files when PHPMailer is deployed via composer (though this change isn't specific to composer). Unfortunately, GitHub uses these same properties when building a tarball. None of those files are necessary for a functional deployment, and you can always get them via a git clone or by browsing the site. There was a later change that brought back the examples folder, but that will be going again in 6.0. The docs folder is effectively going away altogether in 6.0 too. The docs and examples could be moved to a separate project which would make this \"missing files\" problem more transparent.. I wouldn't call this a composer bug.. Not at all. We had complaints about this long before composer existed; composer is merely making use of a standard git feature - the very same one that github uses. Are you arguing that a functional deployment should include all documentation and example code, even if it represents a security risk? Case in point - the omission of these unnecessary files in deployments may help to mitigate the nasty RCE that cropped up this weekend.. This is a bizarre line of reasoning. Most people don't use composer and are still vulnerable to exactly what you say; composer provides a reasonable fix for this problem, and is absolutely not the cause. You're describing a system-level package manager, not an application-level, OS-independent one. We'd be very happy to accept a .deb/rpm/brew etc bundler script, or use another OS-independent PHP dependency manager that provides a better implementation if you'd be so kind as to provide one.. The original discussion about this was here: https://www.reddit.com/r/PHP/comments/2jzp6k/i_dont_need_your_tests_in_my_production/\nThe docs folder really isn't worth keeping - as I said, it's gone in 6.0 because everything it covered in 5.2 is either obsolete, has been reimplemented as an example, or moved to the project wiki. phpdoc docs can be generated from the source locally, so they don't need to be included anyway.\nI know that access to the vendor (or whatever your manually-maintained equivalent is) folder should be made impossible, however it often isn't - for example Wordpress provides no such protection - often because many users don't have the luxury of a web root in a subfolder. Overall this policy is extremely common across many PHP packages (why it was done in the first place), so I don't think we're doing anything unusual here.. Strangely enough, we know about this.. Please read the troubleshooting guide.. As the document you posted states, this was fixed in PHPMailer 5.2.18.. I don't know - you'll need to ask codeigniter devs.. Quite a lot changed between 5.2.14 and 5.2.17 - you're having trouble with STARTTLS, and there were TLS changes in 5.2.15 - can you see if that release causes the issue?. What exact version of PHP are you running? Can you tell me the real hostname for the mail server?. This note explains what's going on in there: http://php.net/manual/en/function.stream-socket-enable-crypto.php#119122. There's definitely something up with their server. I tried to run testssl.sh against it and it failed to connect at all, let alone run any tests. I used their bundled openssl lib and ran it like this:\n```sh\n./testssl.sh --starttls smtp --openssl bin/openssl.Linux.x86_64 smtp.fsdata.se:587\nNo mapping file found\n\ntestssl.sh       2.8rc3 from https://testssl.sh/dev/\n(1.565 2016/12/20 13:26:11)\n\n  This program is free software. Distribution and\n         modification under GPLv2 permitted.\n  USAGE w/o ANY WARRANTY. USE IT AT YOUR OWN RISK!\n\n   Please file bugs @ https://testssl.sh/bugs/\n\n\nUsing \"OpenSSL 1.0.2-chacha (1.0.2d-dev)\" [~181 ciphers]\n on cham01:bin/openssl.Linux.x86_64\n (built: \"Jul  6 18:05:33 2015\", platform: \"linux-x86_64\")\nStart 2016-12-27 15:02:50    -->> 195.35.82.78:587 (smtp.fsdata.se) <<--\nrDNS (195.35.82.78):    smtp.fsdata.se.\nFatal error:  bin/openssl.Linux.x86_64 couldn't establish STARTTLS via smtp to 195.35.82.78:587\n```\nRunning a plain openssl client fared no better:\n```sh\n./bin/openssl.Linux.x86_64 s_client -starttls smtp -connect smtp.fsdata.se:587\nCONNECTED(00000003)\n10545216:error:140790E5:SSL routines:ssl23_write:ssl handshake failure:s23_lib.c:177:\n\nno peer certificate available\nNo client certificate CA names sent\nSSL handshake has read 303 bytes and written 405 bytes\nNew, (NONE), Cipher is (NONE)\nSecure Renegotiation IS NOT supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\n\n```\nThere's definitely something wrong at the server end.. Unfortunately using user-submitted addresses as a from address (and thus as a sender address) is a very common pattern I've battling against for years on StackOverflow and here.... Links helpful. Generally, yes, you need to update to the latest PHPMailer.. Because all this is a BC break, it is all being done much more comprehensively in the 6.0 branch.. I've patched the array names - that file is chock-full of PSR violations, and it's being removed for 6, so it's not worth expending any more effort on!. I've patched the array names - that file is chock-full of PSR violations, and it's being removed for 6, so it's not worth expending any more effort on!. Those features are only used in code that is not supported on 5.0, principally oauth support. To see where it's going, look in the 6.0 branch, which raises the language minimum version to 5.5.. I think it's pretty clear - official support is for 5.0, some specific new features require later versions. Switching major language requirement in a patch version bump isn't something any package should do. That a linter has problems with that isn't something I'm concerned about. This will go away in 6.0 anyway, where BC breaks are allowed, and there will be a single minimum language version (5.5) for everything.. I think it's pretty clear - official support is for 5.0, some specific new features require later versions. Switching major language requirement in a patch version bump isn't something any package should do. That a linter has problems with that isn't something I'm concerned about. This will go away in 6.0 anyway, where BC breaks are allowed, and there will be a single minimum language version (5.5) for everything.. Safe mode was deprecated in PHP 5.3 and removed in 5.4 anyway. All mention of it will be going away in future versions of PHPMailer.. Thanks for this - I think this will do as a general approach for now - any issues it causes should not affect anyone who was doing things correctly to start with anyway! If you've got any further comments let me know ASAP and I'll tag a new release so we can get this out.. Merged, via a slightly roundabout route, thanks. Dang, not sure how that came back! Thanks.. Code should not need any significant changes - the only sort-of breaking change was in how the classes were loaded - if you're already using the autoloader or composer it won't be a problem. Wordpress will be issuing an update shortly, and it wouldn't surprise me if they backport it to earlier releases. You can always try it and see - just put the old version into a separate folder. I'd advise running the latest version of Wordpress anyway.. Bah. Sorry.. I made a new 5.2.21 release to make sure it's all clean. On the home page and changelog of this project is the definitive place to start. Fixes have now been released for both vulns in PHPMailer, so no more needs to happen here on that subject (we hope!), but you should monitor for updates for any projects you use that depend on it. Note that nearly all PHP email libraries are vulnerable to both the same attacks, so switching libraries isn't going to help (especially now that PHPMailer has a fix). Also be aware that just because you're running an older version doesn't mean you're necessarily vulnerable. See the notes in the wiki.. Yep, that's email. None of that is created by PHPMailer.. First of all, upgrade to latest (currently 5.2.21) right now. There has just been an important security update. You can see the current version on the front page of this repo.\nTo help diagnose this, you need to provide an example of an address that's producing this behaviour, along with your code showing how you're calling it.. You may be running into a problem with certain PCRE libraries that was never resolved because it wasn't reliably reproducible. To work around that, you can set PHPMailer to use a specific validator, so in your validation function:\nphp\nfunction osc_validate_email_address($email_address)\n{\n    require_once(realpath(dirname(__FILE__) . '/../../') . '/includes/ext/phpmailer/class.phpmailer.php');\n    PHPMailer::$validator = 'php';\n    return PHPMailer::validateAddress($email_address);\n}\nThis will make it use the built-in filter_var validator for everything. You may need to set the same class property in your smtpSend function.. The fiter_var validator is not as permissive as the pcre8 one, and there are some valid RFC822 addresses that it does not allow. However, it's still pretty good as far as validations go (it was originally written by the same author), and the things that it doesn't allow are more likely to be errors than real weird addresses, plus it will become the default in PHPMailer 6, so I don't think you'll have any trouble with it.. The locale awareness shouldn't make any difference because by the time the address is checked it has already had to pass email validation, which won't be allowing any 8-bit chars, so as you say, this is redundant but harmless - I don't know why that function was chosen. Rather than merging this PR, I'd welcome a different (simpler?) implementation of the isShellSafe function - I'm sure we can do better than that for loop!. This function tests to see if the passed string is likely to need any escaping at all, firstly by using the built-in functions, but if they pass, by allowing only a very restricted set of characters, which amount to not much more than [a-zA-Z0-9@\\._-] - note that this does not include =+'\"\\ because they are used in paths, separators and escaping in various different shells. The reasoning for this is that the PHP shell escape functions are not reliable, so we need to simply avoid the need to do any escaping at all, if possible.. And tests would indeed be welcome too.. Isn't it still the case that you can call static methods dynamically without errors? The other way around doesn't work, obviously.. Well it's static because that's the right 'shape' for it, IMHO - it does not depend on any dynamic properties or $this, and it's common to all instances. The distinction is pretty academic so I'm not too bothered. It can go back to being static in 6.0 when we don't have language issues in the way of the tests. I'm about to head for bed, so I'll merge this in the morning. Thanks for this BTW.. ...and this is why I asked for your opinion! In that case I assume that in order to test this correctly, we should generate the character range from the current locale too, rather than using a fixed array? Perhaps test against all known locales? Or is that going too far?. ...and this is why I asked for your opinion! In that case I assume that in order to test this correctly, we should generate the character range from the current locale too, rather than using a fixed array? Perhaps test against all known locales? Or is that going too far?. PHPMailer requires mbstring for UTF-8 support, which many use, though it's not the default. I don't think there's ever been much testing of running without it.. PHPMailer requires mbstring for UTF-8 support, which many use, though it's not the default. I don't think there's ever been much testing of running without it.. I'm just revisiting this. Zend mail had exactly the same vulnerability (also found by Dawid Golunski / @legalhackers-lab), but their fix was quite different - and also much simpler.  They simply reject any sender address that contains the sequence \\\". I wonder if we would be better off using that solution instead - though I'm not 100% sure that it's entirely safe (compared to the more aggressive approach in PHPMailer), so your input would be appreciated!\n. What are you doing?. What are you doing?. We can't do this. We need to run tests on PHP 5.3 and 5.4, which are not supported in PHPUnit 4.8.. We can't do this. We need to run tests on PHP 5.3 and 5.4, which are not supported in PHPUnit 4.8.. Hm. You're right. I remember this came up before, but I can't remember what the problem was. 4.7 has the same minimum PHP version as 4.8. I know we're stuck with 4.8 in PHPMailer 6 because we need to run on PHP 5.5. Lets see if we can persuade this PR to run its tests.... Hm. You're right. I remember this came up before, but I can't remember what the problem was. 4.7 has the same minimum PHP version as 4.8. I know we're stuck with 4.8 in PHPMailer 6 because we need to run on PHP 5.5. Lets see if we can persuade this PR to run its tests.... That really is very old! All versions should be upgraded to be sure, but if you're stuck on that version, you can avoid the recent security issue by making sure you're not using it in an unsafe way - the main thing is to make sure you're not using a user-submitted address as a from address. It's also safe if you're sending with SMTP. That said, it's quite likely that you're vulnerable to other security issues that have been fixed in the many years since that release, so I do recommend you upgrade anyway.. That really is very old! All versions should be upgraded to be sure, but if you're stuck on that version, you can avoid the recent security issue by making sure you're not using it in an unsafe way - the main thing is to make sure you're not using a user-submitted address as a from address. It's also safe if you're sending with SMTP. That said, it's quite likely that you're vulnerable to other security issues that have been fixed in the many years since that release, so I do recommend you upgrade anyway.. Indeed - you are only exposed if you are using the default transport (isMail()), which calls mail() internally; SMTP does not call mail, and is not vulnerable. You're not necessarily exposed even if you are using mail() - the key requirement is that you use a user-supplied from address.\nMore details on the project wiki.. Indeed - you are only exposed if you are using the default transport (isMail()), which calls mail() internally; SMTP does not call mail, and is not vulnerable. You're not necessarily exposed even if you are using mail() - the key requirement is that you use a user-supplied from address.\nMore details on the project wiki.. This is mentioned in the 5.2.20 release notes. Unfortunately both = and + have significant meaning in some shells, so they can't be considered safe because we can't tell what shell is in use - this is what makes the whole of that 10045 vulnerability so much more serious, with impact well beyond PHPMailer. The workaround is simple though - switch to SMTP to localhost. This opens up quite a bit more flexibility, completely avoids the issue, and it's also faster. All that most sendmail binaries do is open a synchronous SMTP connection to localhost anyway, so you're losing overhead by talking SMTP directly. This is also what the postfix docs recommend for best performance.. This is mentioned in the 5.2.20 release notes. Unfortunately both = and + have significant meaning in some shells, so they can't be considered safe because we can't tell what shell is in use - this is what makes the whole of that 10045 vulnerability so much more serious, with impact well beyond PHPMailer. The workaround is simple though - switch to SMTP to localhost. This opens up quite a bit more flexibility, completely avoids the issue, and it's also faster. All that most sendmail binaries do is open a synchronous SMTP connection to localhost anyway, so you're losing overhead by talking SMTP directly. This is also what the postfix docs recommend for best performance.. It should be considered a bug that that ever worked at all! What is that you need to achieve by adding sendmail params that you can't achieve by using SMTP to localhost, which is also faster? You are free to subclass and substitute default values at will - this is how I use PHPMailer.. It should be considered a bug that that ever worked at all! What is that you need to achieve by adding sendmail params that you can't achieve by using SMTP to localhost, which is also faster? You are free to subclass and substitute default values at will - this is how I use PHPMailer.. For various long historical reasons, PHPMailer is a bit inconsistent in how it handles line breaks... It's been like this for many years. Whether it looks right to you depends on what you're viewing it in, though it's particularly likely to look like that on Windows. Generally you can fix this by changing the default line break format like this:\n$mail->LE = \"\\r\\n\";\n\nThis affects quite a few things that are difficult to fix without breaking things, so in PHPMailer 6.0 this will be the default, and will not be alterable, because it should not allow you to use anything else.. For various long historical reasons, PHPMailer is a bit inconsistent in how it handles line breaks... It's been like this for many years. Whether it looks right to you depends on what you're viewing it in, though it's particularly likely to look like that on Windows. Generally you can fix this by changing the default line break format like this:\n$mail->LE = \"\\r\\n\";\n\nThis affects quite a few things that are difficult to fix without breaking things, so in PHPMailer 6.0 this will be the default, and will not be alterable, because it should not allow you to use anything else.. How it looks is also how it may look to the server. Some are more forgiving than others, and generally gmail doesn't have a problem. If you do a hex dump of the exact data received, is it missing line breaks altogether, or are they present but of the wrong type for Windows?. How it looks is also how it may look to the server. Some are more forgiving than others, and generally gmail doesn't have a problem. If you do a hex dump of the exact data received, is it missing line breaks altogether, or are they present but of the wrong type for Windows?. That X-PHP-Originating-Script header is not added by PHPMailer - where is that coming from? It must be sender-side as the receiver doesn't have that info. PHPMailer doesn't put spaces before headers, so I suspect that whatever  you have that's inserting headers is messing it up.. That X-PHP-Originating-Script header is not added by PHPMailer - where is that coming from? It must be sender-side as the receiver doesn't have that info. PHPMailer doesn't put spaces before headers, so I suspect that whatever  you have that's inserting headers is messing it up.. If you do this:\nphp\n$mail->preSend();\n$msg = $mail->getSentMIMEMessage();\n$msg will contain an exact copy of what is sent to the mail server - if what you're receiving is not exactly the same, something is altering it after submission.. If you do this:\nphp\n$mail->preSend();\n$msg = $mail->getSentMIMEMessage();\n$msg will contain an exact copy of what is sent to the mail server - if what you're receiving is not exactly the same, something is altering it after submission.. I don't know of anything that would reasonably transform line breaks into spaces. There is a way that email headers can be folded onto multiple lines and the continuation lines start with a space, but never the headers themselves. From and reply-to should be created by PHPMailer, with values provided by the plugin.. I don't know of anything that would reasonably transform line breaks into spaces. There is a way that email headers can be folded onto multiple lines and the continuation lines start with a space, but never the headers themselves. From and reply-to should be created by PHPMailer, with values provided by the plugin.. It turns out that this is a bug in Windows versions of PHP, and it is fixed in PHP 7.0.17 and 7.1.3, when they are released. There has been detailed discussion of this in #953, including numbers workarounds, so I will close this ticket in favour of what's been going on in there.. That's curious. In many (most?) circumstances, not calling escapeshell* would be a security problem. I recommend you switch to using SMTP to localhost - it's both safer and faster.. That's curious. In many (most?) circumstances, not calling escapeshell* would be a security problem. I recommend you switch to using SMTP to localhost - it's both safer and faster.. Thanks. Thanks. Good catch - but don't disable verification unless you have to.\nThat server is vulnerable to all kinds of nasty things - the owner should be notified. This is what testssl.sh has to say about it:\n```\nStart 2017-01-04 17:01:26    -->> 185.102.40.52:25 (sendm.cert.legalmail.it) <<--\nrDNS (185.102.40.52):   sendm.cert.legalmail.it.\n Service set:            STARTTLS via SMTP\nTesting protocols (via openssl, SSLv2 via sockets)\nSSLv2      not offered (OK)\n SSLv3      not offered (OK)\n TLS 1      offered\n TLS 1.1    not offered\n TLS 1.2    not offered\n SPDY/NPN   (SPDY is an HTTP protocol and thus not tested here)\n HTTP2/ALPN (HTTP/2 is a HTTP protocol and thus not tested here)\nTesting ~standard cipher lists\nNull Ciphers                 not offered (OK)\n Anonymous NULL Ciphers       not offered (OK)\n Anonymous DH Ciphers         not offered (OK)\n 40 Bit encryption            offered (NOT ok)\n 56 Bit encryption            not offered (OK)\n Export Ciphers (general)     offered (NOT ok)\n Low (<=64 Bit)               offered (NOT ok)\n DES Ciphers                  offered (NOT ok)\n \"Medium\" grade encryption    offered (NOT ok)\n Triple DES Ciphers           offered\n High grade encryption        not offered\nTesting robust (perfect) forward secrecy, (P)FS -- omitting Null Authentication/Encryption, 3DES, RC4\n Cipher mapping not available, doing a fallback to openssl\nNo ciphers supporting Forward Secrecy offered\nTesting server preferences\nHas server cipher order?     nope (NOT ok)\n Negotiated protocol          TLSv1.2\n Negotiated cipher            RC4-SHA (limited sense as client will pick)\n Negotiated cipher per proto  (limited sense as client will pick)\n     (SPDY is an HTTP protocol and thus not tested here)\n     RC4-SHA:                       TLSv1\n No further cipher order check has been done as order is determined by the client\nTesting server defaults (Server Hello)\nTLS extensions (standard)    (none)\n Session Tickets RFC 5077     (none)\n SSL Session ID support       yes\n TLS clock skew               -1 sec from localtime\n Signature Algorithm          SHA256 with RSA\n Server key size              RSA 2048 bits\n Fingerprint / Serial         SHA1 92570930289103948EDC201E8FBF2BA5ED5B2C06 / 4F9FC01BCFA1641AD26491DF\n                              SHA256 2464EA9512774306D8D2759A721244D5F53754B985A336AAC894B345ABAE1643\n Common Name (CN)             \".cert.legalmail.it\"\n subjectAltName (SAN)         \".cert.legalmail.it\" \"cert.legalmail.it\"\n Issuer                       \"GlobalSign Organization Validation CA - SHA256 - G2\" (\"GlobalSign nv-sa\" from \"BE\")\n Trust (hostname)             Ok via SAN wildcard and CN wildcard\n Chain of trust               \"/usr/local/Cellar/testssl/HEAD-c23e097/bin/etc/*.pem\" cannot be found / not readable\n EV cert (experimental)       no\n Certificate Expiration       1005 >= 60 days (2016-10-06 15:16 --> 2019-10-07 15:16 +0200)\n # of certificates provided   2\n Certificate Revocation List  http://crl.globalsign.com/gs/gsorganizationvalsha2g2.crl\n OCSP URI                     http://ocsp2.globalsign.com/gsorganizationvalsha2g2\n OCSP stapling                --\nTesting vulnerabilities\nHeartbleed (CVE-2014-0160)                not vulnerable (OK), no heartbeat extension\n CCS (CVE-2014-0224)                       not vulnerable (OK)\n Secure Renegotiation (CVE-2009-3555)      VULNERABLE (NOT ok)\n Secure Client-Initiated Renegotiation     VULNERABLE (NOT ok), potential DoS threat\n CRIME, TLS (CVE-2012-4929)                not vulnerable (OK) (not using HTTP anyway)\n POODLE, SSL (CVE-2014-3566)               not vulnerable (OK)\n TLS_FALLBACK_SCSV (RFC 7507),             Downgrade attack prevention NOT supported\n FREAK (CVE-2015-0204)                     VULNERABLE (NOT ok), uses EXPORT RSA ciphers\n DROWN (CVE-2016-0800, CVE-2016-0703)          not vulnerable on this port (OK)\n                                           make sure you don't use this certificate elsewhere with SSLv2 enabled services\n                                           https://censys.io/ipv4?q=2464EA9512774306D8D2759A721244D5F53754B985A336AAC894B345ABAE1643 could help you to find out\n LOGJAM (CVE-2015-4000), experimental      VULNERABLE (NOT ok), uses DHE EXPORT ciphers, common primes not checked.\n BEAST (CVE-2011-3389)                     TLS1: EXP-RC2-CBC-MD5 EXP-DES-CBC-SHA\n                                                 DES-CBC-SHA DES-CBC3-SHA EXP-EDH-RSA-DES-CBC-SHA\n                                                 EDH-RSA-DES-CBC-SHA EDH-RSA-DES-CBC3-SHA EXP-RC2-CBC-MD5\n                                           VULNERABLE -- and no higher protocols as mitigation supported\n RC4 (CVE-2013-2566, CVE-2015-2808)        VULNERABLE (NOT ok): RC4-SHA RC4-MD5 EXP-RC4-MD5\nTesting all 181 locally available ciphers against the server, ordered by encryption strength\n Cipher mapping not available, doing a fallback to openssl\nHexcode  Cipher Suite Name (OpenSSL)       KeyExch.  Encryption Bits\nx05     RC4-SHA                           RSA        RC4       128\n x04     RC4-MD5                           RSA        RC4       128\n x16     EDH-RSA-DES-CBC3-SHA              DH 1024    3DES      168\nDone 2017-01-04 17:03:08    -->> 185.102.40.52:25 (sendm.cert.legalmail.it) <<--\n```\n. Good catch - but don't disable verification unless you have to.\nThat server is vulnerable to all kinds of nasty things - the owner should be notified. This is what testssl.sh has to say about it:\n```\nStart 2017-01-04 17:01:26    -->> 185.102.40.52:25 (sendm.cert.legalmail.it) <<--\nrDNS (185.102.40.52):   sendm.cert.legalmail.it.\n Service set:            STARTTLS via SMTP\nTesting protocols (via openssl, SSLv2 via sockets)\nSSLv2      not offered (OK)\n SSLv3      not offered (OK)\n TLS 1      offered\n TLS 1.1    not offered\n TLS 1.2    not offered\n SPDY/NPN   (SPDY is an HTTP protocol and thus not tested here)\n HTTP2/ALPN (HTTP/2 is a HTTP protocol and thus not tested here)\nTesting ~standard cipher lists\nNull Ciphers                 not offered (OK)\n Anonymous NULL Ciphers       not offered (OK)\n Anonymous DH Ciphers         not offered (OK)\n 40 Bit encryption            offered (NOT ok)\n 56 Bit encryption            not offered (OK)\n Export Ciphers (general)     offered (NOT ok)\n Low (<=64 Bit)               offered (NOT ok)\n DES Ciphers                  offered (NOT ok)\n \"Medium\" grade encryption    offered (NOT ok)\n Triple DES Ciphers           offered\n High grade encryption        not offered\nTesting robust (perfect) forward secrecy, (P)FS -- omitting Null Authentication/Encryption, 3DES, RC4\n Cipher mapping not available, doing a fallback to openssl\nNo ciphers supporting Forward Secrecy offered\nTesting server preferences\nHas server cipher order?     nope (NOT ok)\n Negotiated protocol          TLSv1.2\n Negotiated cipher            RC4-SHA (limited sense as client will pick)\n Negotiated cipher per proto  (limited sense as client will pick)\n     (SPDY is an HTTP protocol and thus not tested here)\n     RC4-SHA:                       TLSv1\n No further cipher order check has been done as order is determined by the client\nTesting server defaults (Server Hello)\nTLS extensions (standard)    (none)\n Session Tickets RFC 5077     (none)\n SSL Session ID support       yes\n TLS clock skew               -1 sec from localtime\n Signature Algorithm          SHA256 with RSA\n Server key size              RSA 2048 bits\n Fingerprint / Serial         SHA1 92570930289103948EDC201E8FBF2BA5ED5B2C06 / 4F9FC01BCFA1641AD26491DF\n                              SHA256 2464EA9512774306D8D2759A721244D5F53754B985A336AAC894B345ABAE1643\n Common Name (CN)             \".cert.legalmail.it\"\n subjectAltName (SAN)         \".cert.legalmail.it\" \"cert.legalmail.it\"\n Issuer                       \"GlobalSign Organization Validation CA - SHA256 - G2\" (\"GlobalSign nv-sa\" from \"BE\")\n Trust (hostname)             Ok via SAN wildcard and CN wildcard\n Chain of trust               \"/usr/local/Cellar/testssl/HEAD-c23e097/bin/etc/*.pem\" cannot be found / not readable\n EV cert (experimental)       no\n Certificate Expiration       1005 >= 60 days (2016-10-06 15:16 --> 2019-10-07 15:16 +0200)\n # of certificates provided   2\n Certificate Revocation List  http://crl.globalsign.com/gs/gsorganizationvalsha2g2.crl\n OCSP URI                     http://ocsp2.globalsign.com/gsorganizationvalsha2g2\n OCSP stapling                --\nTesting vulnerabilities\nHeartbleed (CVE-2014-0160)                not vulnerable (OK), no heartbeat extension\n CCS (CVE-2014-0224)                       not vulnerable (OK)\n Secure Renegotiation (CVE-2009-3555)      VULNERABLE (NOT ok)\n Secure Client-Initiated Renegotiation     VULNERABLE (NOT ok), potential DoS threat\n CRIME, TLS (CVE-2012-4929)                not vulnerable (OK) (not using HTTP anyway)\n POODLE, SSL (CVE-2014-3566)               not vulnerable (OK)\n TLS_FALLBACK_SCSV (RFC 7507),             Downgrade attack prevention NOT supported\n FREAK (CVE-2015-0204)                     VULNERABLE (NOT ok), uses EXPORT RSA ciphers\n DROWN (CVE-2016-0800, CVE-2016-0703)          not vulnerable on this port (OK)\n                                           make sure you don't use this certificate elsewhere with SSLv2 enabled services\n                                           https://censys.io/ipv4?q=2464EA9512774306D8D2759A721244D5F53754B985A336AAC894B345ABAE1643 could help you to find out\n LOGJAM (CVE-2015-4000), experimental      VULNERABLE (NOT ok), uses DHE EXPORT ciphers, common primes not checked.\n BEAST (CVE-2011-3389)                     TLS1: EXP-RC2-CBC-MD5 EXP-DES-CBC-SHA\n                                                 DES-CBC-SHA DES-CBC3-SHA EXP-EDH-RSA-DES-CBC-SHA\n                                                 EDH-RSA-DES-CBC-SHA EDH-RSA-DES-CBC3-SHA EXP-RC2-CBC-MD5\n                                           VULNERABLE -- and no higher protocols as mitigation supported\n RC4 (CVE-2013-2566, CVE-2015-2808)        VULNERABLE (NOT ok): RC4-SHA RC4-MD5 EXP-RC4-MD5\nTesting all 181 locally available ciphers against the server, ordered by encryption strength\n Cipher mapping not available, doing a fallback to openssl\nHexcode  Cipher Suite Name (OpenSSL)       KeyExch.  Encryption Bits\nx05     RC4-SHA                           RSA        RC4       128\n x04     RC4-MD5                           RSA        RC4       128\n x16     EDH-RSA-DES-CBC3-SHA              DH 1024    3DES      168\nDone 2017-01-04 17:03:08    -->> 185.102.40.52:25 (sendm.cert.legalmail.it) <<--\n``\n. Please post the bit leading up to that. The usual problem when upgrading from anything earlier than PHP 5.6 is TLS issues - see the troubleshooting guide in the wiki for more.. Please post the bit leading up to that. The usual problem when upgrading from anything earlier than PHP 5.6 is TLS issues - see the troubleshooting guide in the wiki for more.. Please don't hijack other tickets, especially closed ones; make a new one. Reference this one if it's really relevant. You also need to explain clearly what your issue is.. Please don't hijack other tickets, especially closed ones; make a new one. Reference this one if it's really relevant. You also need to explain clearly what your issue is.. Sure, I think that was made to create a PR or something.. Sure, I think that was made to create a PR or something.. It's gone.. It's gone..=0Dis a quoted-printable-encoded Unix line break. It means that your message body text (what you're assigning toBody) is using Unix LF line breaks, but the overall message is using RFC-standard Windows CRLF breaks (which changed in 6.0 - in 5.2 it's inconsistent), which is how it should be. If you convert your message body to CRLF breaks, does that help? Does changing the sending mechanism (e.g.isSMTP()rather thanisMail()) make a difference?.=0Dis a quoted-printable-encoded Unix line break. It means that your message body text (what you're assigning toBody) is using Unix LF line breaks, but the overall message is using RFC-standard Windows CRLF breaks (which changed in 6.0 - in 5.2 it's inconsistent), which is how it should be. If you convert your message body to CRLF breaks, does that help? Does changing the sending mechanism (e.g.isSMTP()rather thanisMail()`) make a difference?. The public property needs deleting, thanks for spotting that. You're not meant to be able to change it any more, though the constant is static so you can override it easily. I'll need to double-check what is happening to the body.\nThe mail function requires a local mail server, so what is stopping you connecting to localhost on port 25?. The public property needs deleting, thanks for spotting that. You're not meant to be able to change it any more, though the constant is static so you can override it easily. I'll need to double-check what is happening to the body.\nThe mail function requires a local mail server, so what is stopping you connecting to localhost on port 25?. I've been testing this. I can't get it to do anything wrong, sending via both mail and SMTP. Line break formats in bodies are preserved. If I use Unix line breaks, they get converted into =0A in quoted-printable encoding. Note that although I send the messages with CRLF breaks, postfix converts them to LF when saved to disk (I'm on OS X).\nAre you setting $mail->Encoding = 'quoted-printable';? If not, does your content contain very long lines?\nI got the wrong char earlier =0D is a carriage return (CR) char, not a line feed (LF), which is a bit of a mystery. CR is used as the line break format on old MacOS, so I don't know why you'd end up with it in there. Could you email me your code and some example content to me at phpmailer at synchromedia dot co dot uk so I can try to reproduce it?. I've been testing this. I can't get it to do anything wrong, sending via both mail and SMTP. Line break formats in bodies are preserved. If I use Unix line breaks, they get converted into =0A in quoted-printable encoding. Note that although I send the messages with CRLF breaks, postfix converts them to LF when saved to disk (I'm on OS X).\nAre you setting $mail->Encoding = 'quoted-printable';? If not, does your content contain very long lines?\nI got the wrong char earlier =0D is a carriage return (CR) char, not a line feed (LF), which is a bit of a mystery. CR is used as the line break format on old MacOS, so I don't know why you'd end up with it in there. Could you email me your code and some example content to me at phpmailer at synchromedia dot co dot uk so I can try to reproduce it?. If it's switching to quoted-printable automatically, it means you're passing in content with very long lines. It's the only way to build messages that have very long lines without breaking them, and is the same behaviour used by other apps, for example Apple Mail does the same. There are some other issues in here relating to that. It seems that outlook is particularly prone to mishandling long lines and QP-encoding.. Try wrapping your content to say 65 chars and see if that makes a difference.. The difference in config isn't apparently important; what matters is the exact binary of the sent message. It's a bit difficult to get hold of this because many MTAs (e.g. postfix) \"correct\" line breaks automatically on receipt. I think the closest we can get is to send the same message in 5.2 and 6.0 and grab the resulting message using preSend() followed by getSentMIMEMessage(), write them directly to a file and compare the two in a hex dump. It's very hard to find text editors that don't alter line breaks! I really want to fix this before 6.0 is released, but it's proving very difficult to reproduce.. @swiffer thanks for those. The next interesting thing to try would be to send a single message: grab it directly from PHPMailer, and compare that with what turns up in your outlook client - that will tell us if the messages changes between sending and receiving. This will also be visible in debug output. Ideally we'd get a control in there too, for example to BCC it to a gmail account, which will help eliminate/blame receiver-side processing.\nI can see that the reason that the message does not render is that it lacks a double line break between the header and body; this bit:\nContent-Type: text/html; charset=utf-8\nContent-Transfer-Encoding: quoted-printable\n=0D\n<!DOCTYPE html>=0D\nAs for was we should be doing, the specs are absolutely clear. RFC5322 S 2.3 says:\n\nCR and LF MUST only occur together as CRLF; they MUST NOT appear independently in the body.\n\nRFC 2046 (MIME) S 4.1.1 says:\n\nThe canonical form of any MIME \"text\" subtype MUST always represent a\n   line break as a CRLF sequence.  Similarly, any occurrence of CRLF in\n   MIME \"text\" MUST represent a line break.  Use of CR and LF outside of\n   line break sequences is also forbidden.\n\n(incidentally, this same section also mandates automatic switching of transfer encoding for content with lines that are too long - I had thought this was just good practice, but it's actually an RFC recommendation too).\nIn other words, 5.2.x is undeniably doing it wrong, which is why 6.0 is switching this way, however, something is clearly upsetting Outlook somehow. As has been mentioned earlier in this thread, it seems that only some configurations of Outlook have this issue, and it looks like it might be some kind of filter service because tests I've done in Outlook do not have any issues at all, and I have yet to manage to create an outbound message that looks anything like these corrupted received messages.. I mean send a message to an outlook account with PHPMailer; BCC it to a gmail (or other neutral provider); capture it using getSentMIMEMessage; grab the delivered message from outlook. The key thing here is you're sending only one original message, so everything should be pretty much identical (save a few headers added by receivers) across all the places it ends up. If the message that turns up in gmail does not have the =0D corruption in it, we know it's something that outlook is doing (and conversely, if it does, we know it's either an issue with our source mail server or PHPMailer), and we can also check it against the original message we submitted. For bonus points, having SMTPDebug = 2 set allows you to inspect it during message submission too, giving us 4 views of the exact same message that we can compare.. I posted about this previously - using someone else's troublesome content (posted in this thread) results in a perfectly good message in my outlook webmail.. Thanks @swiffer and @arxeiss, that's really helpful. Can you tell me what mail server you are using locally, when sending via isMail()?. If you telnet localhost 25 it will often say. For example on my Mac it says:\nTrying 127.0.0.1...\nConnected to localhost.\nEscape character is '^]'.\n220 Mac.localdomain ESMTP Postfix. I've managed to make my local postfix do something strange with line breaks that looks like it may be the underlying cause of this. PHP itself appears to add headers with a platform-specific line break type, which results in mixed line breaks in the message, which can lead to bad quoted-printable decoding. I need to look at PHP's source code to see exactly what it's up to.. I've managed to make my local postfix do something strange with line breaks that looks like it may be the underlying cause of this. PHP itself appears to add headers with a platform-specific line break type, which results in mixed line breaks in the message, which can lead to bad quoted-printable decoding. I need to look at PHP's source code to see exactly what it's up to.. Thanks @ASchmidt1 - great analysis. I think it's PHP itself causing the problem I'm seeing. If I submit a pure CRLF-break message, mail() prepends some extra headers which use LF (I'm on macOS); postfix is adaptive and uses the format of the first break it encounters as being the break it uses for the rest of the message, which then doesn't match, and you end up with with a corrupt message. I've not got around to checking the PHP source to confirm precisely what it does, but otherwise your example code looks reasonable.. I've had a look in PHP's code and it does indeed use hard-coded \\n literals in header line breaks in the mail function implementation, for example when it adds the X-PHP-Originating-Script header, and also when injecting To and Subject headers. This explains the mixed line breaks issue. I've not seen any conditional code that would suggest that it handles it differently on Windows, suggesting that platform detection is not necessary - in fact it may even be harmful.\nI will make some changes to reflect this and we can see whether it fixes these issues.. Thanks. That is a real mess! From what I read in the code, if I pass in headers containing CRLF (as you suggest I do by following the docs), then it's guaranteed to break because it will inject headers containing LF, and postfix for example will produce the problem we're seeing in here already. sendmail will accept either LF or CRLF, but it must be consistent, and will make a mess of mixed-format breaks.\nAre you saying that the code you posted previously will work though the forest of PHP versions that were affected by this?. I've just pushed some changes to attempt to address this - please give it a try.\nThere are lots of things touched by this - quoted-printable encoding (the PHP built-in function does not allow you to specify a line break format), and the DKIM functions are affected too, so it would be good to test those if you can.. Is this working for everyone? Anyone?. @ASchmidt1 Great, thanks for checking. So are there any versions of PHP that this will still be broken in?. Looking at the docs for mail.add_x_header, it says it defaults to 0, however, I've never looked at it before and it was enabled by default in my build, so  I checked in the current PHP source and it is enabled by default in the stock php.ini files provided with PHP - so the documentation is wrong and as a consequence, unsafe. I've reported it as a PHP bug. I don't see any good reason to ever have that enabled in production (it's an unnecessary information leak), so I propose disabling it unconditionally, which will, conveniently, also avoid the line break bug in older PHP versions.. Grrr. mail.add_x_header is a PHP_INI_PERDIR setting, so can't be changed from scripts. Now contemplating a noisy error instead.... I'm on macOS running PHP 7.1.2 (i.e. without the fix), mail.add_x_header is on and it's adding the X-PHP-Originating-Script with a \\n break, and I'm receiving in a local postfix configured to save files to disk, and not to alter line breaks - and all looks good.\nIn this scenario, PHP_EOL is natively \\n, which matches the hard-coded break PHP adds in that header, so using the conditional break setting we've got, the message turns up with all \\n line breaks, as expected, and not broken. As far as I can see, the only time this will not match is if PHP_EOL is \\r\\n (i.e. on Windows) and thus the error will never occur on macOS or Linux. I don't think we ever established in all the posts above (at least since the suggestion to fall back to PHP_EOL) that the problem was specific to Windows clients, though with hindsight it may have been apparent!\nAnyway, I've now added a noisy warning if this magical combination is true:\n\nSending using mail()\nRunning Windows\nRunning PHP 7.0.0 - 7.0.16 or 7.1.0 - 7.1.2\nmail.add_x_header is enabled\n\nThoughts?. In that case they could use PHPMailer's alternative isSendmail() option, which would not trigger the warning, and does not use mail() at all, or disable mail.add_x_header. Can you think of a better alternative? We need to make it very clear to anyone using broken stuff that there's a problem that's not PHPMailer's fault!. Yes you can use it, yes you can redistribute it, no there isn't a premium version, and no you didn't have to ask this in three places at once. It uses the LGPL licence, so look up what that means. Contributions are always welcome though!. Yes you can use it, yes you can redistribute it, no there isn't a premium version, and no you didn't have to ask this in three places at once. It uses the LGPL licence, so look up what that means. Contributions are always welcome though!. Did you read what the guide said and do what it suggested?. Did you read what the guide said and do what it suggested?. PHPMailer doesn't specify any particular cipher - it just uses PHP's OpenSSL defaults. You should be able to request a specific cipher using the ssloptions property (see the troubleshooting guide), however bear in mind that any well-configured TLS server should not permit clients to choose ciphers anyway, so it may not help.. PHPMailer doesn't specify any particular cipher - it just uses PHP's OpenSSL defaults. You should be able to request a specific cipher using the ssloptions property (see the troubleshooting guide), however bear in mind that any well-configured TLS server should not permit clients to choose ciphers anyway, so it may not help.. One question: why would you want to disable AES128? It's not significantly less secure than AES256, and in some scenarios may actually be better - there are demonstrable attacks against AES256 that do not apply to AES128.. I know about that. This is because of the pending removal of Startcom's root cert from some future browsers - you're running Canary, which is not yet released. Startcom have promised to have a solution for this before the end of January 2017 (prior to the scheduled release of affected versions of Chrome and Firefox), but if they don't, I will be replacing the certs using a different CA.. Either way, it's pre-release.. This is just namespacing. Look at the examples for reference - you need to either use the namespaced class or reference it absolutely, for example:\nuse PHPMailer\\PHPMailer\\PHPMailer;\n$mail = new PHPMailer(true);\n\nor\n$mail = new PHPMailer\\PHPMailer\\PHPMailer(true);. Just to confirm, I altered the beginning of the gmail example to look like this (i.e. to not use composer), and it worked fine:\n\n```php\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\SMTP;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire '../src/PHPMailer.php';\nrequire '../src/SMTP.php';\nrequire '../src/Exception.php';\n//Create a new PHPMailer instance\n$mail = new PHPMailer;\n``. Ah, well that's a PHP issue.Use` statements only apply in the file in which they are defined. As the docs say:\n\nImporting rules are per file basis, meaning included files will NOT inherit the parent file's importing rules.\n\nIf you move the use statements to your functions file, it will work.. Yes - The classes are namespaced, so any references you make to them must respect that, just like anything that uses a namespace. It's is covered pretty thoroughly in the upgrade guide, which is linked from the readme, though the link doesn't work because it's expecting it to be in master, which it's not, yet. It's already reflected in all the example files in the 6.0 branch, though obviously not in the 5.2/master branch.. Unfortunately you can't have it both ways - it's all or nothing. Namespacing is pretty important for libraries - there have been quite a few issues caused by class name clashes with SMTP in particular, it's simply expected of any modern library, and it's probably the single most requested feature.\nThis issue isn't specific to PHPMailer, it's exactly the same with all namespaced libraries & frameworks, which now covers Symfony, Zend, Laravel, Drupal, and pretty much everything else now. In your case you were doing something that would break any namespaced library, not just PHPMailer. All this kind of messing about with loading classes and defining things in the right place manually is precisely why composer exists; if you're using composer, you can pretty much forget about ever needing to know where a class file is.\nAnyway, I can make the wording a little stronger to make it unambiguous.. I can't tell from what you posted. Do what it says in the readme, base your code on the examples provided.. Read this thread, do what it says in the readme, base your code on the examples provided.. You've just got your conditions the wrong way around at the end. Do this instead:\nphp\n    if(!$mail->send())\n    {\n        echo $mail->ErrorInfo;\n        return false;\n    } else {\n        return true; \n    }. If you're sending using mail() you may be running into a security measure introduced recently that prevents VERP addressing. If you're using SMTP, set SMTPDebug = 2 and see what's going on. Also, post your code.. I'd recommend avoiding mail() or sendmail sending mechanisms anyway - if you can use those, you can also use SMTP to localhost, which is faster and easier to debug. Either way, let me know if you find something reproducible.. It's working exactly as it should. You're setting Sender:\n$mail->Sender = \"anand.saroj5@gmail.com\";\n\nand PHPMailer is using that setting:\n2018-08-03 04:28:36 CLIENT -> SERVER: MAIL FROM:<anand.saroj5@gmail.com>\n\nBut you're sending through gmail, which doesn't allow setting arbitrary sender addresses, so it will be overriding that with whatever is in $mail->Username - the fact you've obscured it suggests it's not the same. This is just how gmail works, and it's covered in the troubleshooting guide. You can set other sender addresses by configuring fixed aliases in your account settings, but you can't set them arbitrarily when sending.\nAlso, this has nothing to do with the original closed issue, so please don't hijack like this.. Bounce handling is extremely unpleasant! You need to write a script that you configure your mail server to pipe the message into (like this, then parse the content and do something useful with it. It's entirely unrelated to what PHPMailer does though - you need to look at RFC822 and MIME parsing classes, or perhaps use an off-the-shelf bounce handler package.. Look at the code around it (the next line!) - it only attempts to use auth mechanisms that your server supports. Also, you can override it with the AuthType property in the PHPMailer class, so no, there is no need to alter the source. The mechanisms are in order of strength: CRAM-MD5 is more secure than PLAIN and LOGIN.. Set $mail->SMTPDebug = 2 and post the transcript.. It should be dumping output directly to your browser or console. It may not if you have some kind of output buffering enabled - test this email code in isolation. Your settings look correct, but SMTP debug output will definitely let you know what's happening. That said, given that it's saying it's sent successfully, it probably has and messages may be sitting in a spam box.. Yes, by showing the debug output.. You've based your code on an obsolete example - use the ones bundled with PHPMailer, and make sure you're using the latest version.\nOne fundamental thing is missing: you're not telling it to send using SMTP, so none of this is going via outlook at all. Add this line and your script should get a lot noisier:\n$mail->isSMTP();\n\nYou'll need to use the autoloader, or composer, or load the SMTP class too, just as the readme says.. Glad that worked out. Could you delete the question on Stackoverflow that's a duplicate of this?. This is down to your local PHP config, not PHPMailer. Functions can be disabled for any reason, security being a common one. escapeshellcmd has a number of serious potential issues, so it looks like it's been turned off for you, causing this error. You can work around this easily by doing what PHPMailer recommends anyway: sending using SMTP to localhost, not the default mail() transport.. Read the thread, do what I said, since it addresses exactly the problem you describe. Simply add:\n$mail->isSMTP();\n\nand PHPMailer will send via SMTP to localhost, which does not involve calling escapeshellcmd.. You're not using composer and/or you didn't read the readme where it tells you how to load the classes.. Read the rest of the debug output, then read the troubleshooting guide.. Call $mail->isSMTP(); and it will not need to use escapeshellcmd.. So go read the docs, figure out why. There is nothing I can say here that is not in the guide.. Would you like me to move your mouse for you too? You could perhaps start from the project's front page.. You've enabled debug output - you should be able to see the message body in the SMTP transcript. Does it appear? Is it that the body is actually missing, or just invisible? Is it there if you view source on the message?\nThis script is incomplete - there's no send call.. The same way you include any library: either using composer, or download the tarball and drop it into your library folder, wherever that is. Both these are covered in the readme. I'd also recommend reading codeignitor's docs.. I have no idea how you have designed your login system, and this is only for PHPMailer support, not general PHP coding. In general though: base your code on the examples provided with PHPMailer - look in the examples folder. It's very easy to implement sign up / password reset procedures unsafely, and many people have done it right before, so I suggest looking at something like this, especially if you're new to coding. Beyond that, get good at searching Stack Overflow.. I have no idea how you have designed your login system, and this is only for PHPMailer support, not general PHP coding. In general though: base your code on the examples provided with PHPMailer - look in the examples folder. It's very easy to implement sign up / password reset procedures unsafely, and many people have done it right before, so I suggest looking at something like this, especially if you're new to coding. Beyond that, get good at searching Stack Overflow.. Glad you fixed it. It sounds like a corrupt certificate - testing with openssl would reveal more.. Glad you fixed it. It sounds like a corrupt certificate - testing with openssl would reveal more.. This isn't a PHPMailer concern - you need to find or design a queuing system yourself. There are many around - you might try beanstalkd, or many of the options on packagist. I would recommend pushing your mail parameters (to, from etc) to the queue and then getting your sending job to build and send a message as each is processed - in contrast to building messages in advance.. This isn't a PHPMailer concern - you need to find or design a queuing system yourself. There are many around - you might try beanstalkd, or many of the options on packagist. I would recommend pushing your mail parameters (to, from etc) to the queue and then getting your sending job to build and send a message as each is processed - in contrast to building messages in advance.. You have a TLS problem; this is covered in the troubleshooting guide pretty well. What does openssl say?. You have a TLS problem; this is covered in the troubleshooting guide pretty well. What does openssl say?. Glad it worked, but that is an odd fix, since that should achieve exactly the same as setting $mail->SMTPSecure = 'tls';, which you were already doing.. Glad it worked, but that is an odd fix, since that should achieve exactly the same as setting $mail->SMTPSecure = 'tls';, which you were already doing.. You may get notifications if you \"watch\" a project, though I'm not sure. There may be something via packagist. Other suggestions here sound good.. You may get notifications if you \"watch\" a project, though I'm not sure. There may be something via packagist. Other suggestions here sound good.. Check your return values, check your paths.. Check your return values, check your paths.. Check again. Check the return value from $phpmailer->AddEmbeddedImage($file, $uid, $name);. Check again. Check the return value from $phpmailer->AddEmbeddedImage($file, $uid, $name);. @bees4ever please don't hijack threads. Relative paths to images will not work in email. You can use them in msgHTML, but a recent change is that you must provide a root directory when doing that.. Thanks. Thanks. PHPMailer isn't involved in what's in your message - it just takes whatever string you put into the Body property. Whatever is processing your form and passing the result to PHPMailer is what decides what goes into your message, but that isn't part of PHPMailer itself.\nYou might do something like this:\nphp\n$mail->Body = <<<EOT\nA message from your site visitor\nEmail:  {$_POST['email']}\nName:   {$_POST['name']}\nPhone:  {$_POST['phone']}\nEOT;\n(That <<<EOT part is a thing called a heredoc, useful for building large strings, look it up in the PHP manual). PHPMailer isn't involved in what's in your message - it just takes whatever string you put into the Body property. Whatever is processing your form and passing the result to PHPMailer is what decides what goes into your message, but that isn't part of PHPMailer itself.\nYou might do something like this:\nphp\n$mail->Body = <<<EOT\nA message from your site visitor\nEmail:  {$_POST['email']}\nName:   {$_POST['name']}\nPhone:  {$_POST['phone']}\nEOT;\n(That <<<EOT part is a thing called a heredoc, useful for building large strings, look it up in the PHP manual). I have no idea. You know the names of your fields, your HTML, your JS, your PHP - just make sure they line up.. I have no idea. You know the names of your fields, your HTML, your JS, your PHP - just make sure they line up.. It might help if you posted your code. It's impossible to diagnose blind.. It might help if you posted your code. It's impossible to diagnose blind.. First of all I'd var_dump($_POST) to check what you're actually receiving.\nThere is no explicit mention of phone or name fields, so it is relying on your loop over $_POST - and if it's not turning up in there then that's where I'd be looking - it's not easy to tell what's going on in there. I'd set a breakpoint in a debugger and step through it. It looks like the <!-- #{BeginInfo} --> etc portions might be replaced globally the first time through the loop and never match again because they get replaced, so only the first item in $_POST will make it to your rendered body. Try echoing $template each time through the loop.\nYou should take a look at some templating tools like twig or Smarty. They are much easier to use than what you're doing here.\nYour code for handling uploaded files is unsafe - look at the send uploaded file example and the PHP docs on handling uploads.\nPHPMailer includes address validation; no need to roll your own.\n$mail->From = $_SERVER['SERVER_ADDR']; is very unlikely to work - there is no guarantee that SERVER_ADDR will be a valid email address (it's usually just a hostname), and a From address should never have a possibility of being user-supplied.. Sounds like you have a DNS problem: PHPMailer doesn't have anything to do with this.. You'll find that while that is the default, it does not get used if the server does not offer it. It gets highest priority because it's the most secure of the common mechanisms, so should be tried first. If you have trouble with a particular mail server, you can simply override it. No changes are needed in the library.\nIf you find a bug in the selection mechanism, PRs welcome!. When you use the mail() function as you show, you are not setting the SMTP envelope sender (via a -f option in the $additional_parameters parameter in the call to mail()), so it reverts to the default setting, which in your example is example@a.hosting.com.\nPHPMailer automatically sets this value using the From address as the envelope sender (unless you override it with the Sender property), and in the case your own SPF record does not permit sending from that IP address, hence the failure. You can fix this either by using your ISP's address as the envelope sender (in which case you may lose control over where bounces go), or alter your SPF record to allow sending from that IP.. That SPF record you posted (v=spf1 include:_spf.google.com ~all) does not include your own IP you're sending from, so it will fail.. So what's the problem? You are feeding it invalid addresses and not handling errors properly?. That's really the wrong way to do it. You should never have to edit library files; use the class properly, work around actual bugs or unwanted defaults by using a subclass. If you don't do that, your code will break when you update the library.. I've noticed what your actual problem is from that error message:\naddOrEnqueueAnAddress('bcc', ',', '')\n\nhere you can see that it's passing just a single comma as an email address. Handle this properly like this:\nphp\nif ($bcc != '') {\n    $indiBCC = explode(\" \", $bcc);\n    foreach ($indiBCC as $key => $value) {\n        try {\n            $mail->addBCC($value);\n        } catch (phpmailerException $e) {\n            echo 'Error: '. $e->getMessage();\n        }\n    }\n}\nWhat you've found is that you can't rely on explode to do a good enough job here.. @OcranDave Don't hijack unrelated issues.\nYou're getting an error message that says:\n\nMessage body empty\n\nIs it that much of a stretch to think that this might mean that you have left the message body empty?\nThe message body is set in the Body property, which you're not setting, hence the error.\nThis makes no sense at all:\n```php\nuse PHPMailer\\Exception;\n//Load composer's autoloader\nrequire 'PHPMailer/PHPMailerAutoload.php';\n```\nThe first line here is just wrong - you're not setting the full-qualified class name for the Exception class, which you only need to do if you're using PHPMailer 6.0. Then you're loading the autoloader that is only present in PHPMailer 5.2, and does not exist in 6.0. You've got things very confused. I suggest you scrap this code, use PHPMailer 6.0, and start again with one the of the examples.. Oh come on, this is pathetic. Can you at least read the error message and make the tiniest bit of effort to look at what you've written? The function is called isHTML, not isTHML, HTML being a well-known markup language  and THML being nothing in particular. It's not that much of a stretch.. Not worried about that. It's deprecated, not removed in 7.2 (i.e. will be around until 8.0), and the entire autoloader has been removed in the forthcoming 6.0 release of PHPMailer.. I've pushed a fix for this in c100b092dfdd0336d63efb6f3fe3502522260683 - errors encountered when enabling TLS are now trapped and reported like other problems. Can you confirm this works for you?. No. 5.2 is already EOL, the autoloader is entirely gone in PHPMailer 6.0, and removing __autoload breaks older PHP versions, which is what the 5.2 branch is used in.. Also, that's a deprecation in 7.2, which isn't even released yet, and __autoload won't be removed until PHP 8.0.. I'll allow this in, but htmlfilter (which is full of bad code anyway!) is being dropped completely from 6.0 - it's just out of scope for PHPMailer really.. Don't refer to code posted elsewhere, post it here. This is the important part:\nThe SMTP debugging output is shown below:\n2017-02-02 19:33:00 Connection: opening to ssl://smtp.gmail.com:465, timeout=300, options=array (\n                                      )\n2017-02-02 19:33:00 Connection: Failed to connect to server. Error number 2. \"Error notice: stream_socket_client(): Peer certificate CN=`srv.nicoblog.org' did not match expected CN=`smtp.gmail.com'\n2017-02-02 19:33:00 Connection: Failed to connect to server. Error number 2. \"Error notice: stream_socket_client(): Failed to enable crypto\n2017-02-02 19:33:00 Connection: Failed to connect to server. Error number 2. \"Error notice: stream_socket_client(): unable to connect to ssl://smtp.gmail.com:465 (Unknown error)\n2017-02-02 19:33:00 SMTP ERROR: Failed to connect to server:  (0)\n2017-02-02 19:33:00 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nThis is covered in the troubleshooting guide that it points you to. Did it not occur to you to follow that link?\nThe problem is that you're telling it to connect to smtp.gmail.com, but it's actually connecting to srv.nicoblog.org, which of course results in a certificate mismatch (and PHP's certificate verification is working exactly as it should). This is because you're being redirected to some other mail server (your ISP?), so you need to find out what their outbound SMTP policy is and work with it.. Talk to your ISP - tell them that they are redirecting your SMTP email sending and ask them what to do about it.. Well the main library file is called class.phpmailer.php so you could search the server for that - the config and code to drive it will probably be in another file nearby - I have no way of telling where.. Well the main library file is called class.phpmailer.php so you could search the server for that - the config and code to drive it will probably be in another file nearby - I have no way of telling where.. Can you repeat that with SMTPDebug = 2? It's hard to read what's going on there.. Can you repeat that with SMTPDebug = 2? It's hard to read what's going on there.. Why isn't it showing the client -> server output? Have you edited it out?. Why isn't it showing the client -> server output? Have you edited it out?. You must be running a really old version of PHPMailer - the debug messages have not looked like that for years, and the client-> server traffic is missing.. You must be running a really old version of PHPMailer - the debug messages have not looked like that for years, and the client-> server traffic is missing.. Apparently no idea how to follow a link either.. Apparently no idea how to follow a link either.. OK, so what happened when you tried telnet smtp.google.com 587 from your server?. OK, so what happened when you tried telnet smtp.google.com 587 from your server?. Right. Given they do that, they probably block outbound 465 and 25 too. They must provide an alternative though as pretty much everyone needs to send email from servers, so you'd better ask them what that is. For example GoDaddy does this, and they provide an internal email gateway to use instead. All this is covered in the guide.. Right. Given they do that, they probably block outbound 465 and 25 too. They must provide an alternative though as pretty much everyone needs to send email from servers, so you'd better ask them what that is. For example GoDaddy does this, and they provide an internal email gateway to use instead. All this is covered in the guide.. Auth.php is not part of PHPMailer, so this is something in your own code. The namespaced definition only works with PHPMailer 6.0, which is as yet unreleased.. Auth.php is not part of PHPMailer, so this is something in your own code. The namespaced definition only works with PHPMailer 6.0, which is as yet unreleased.. You can still use relative URLs. Say you have an image tag like this:\n<img src=\"/images/logo.png\">\n\nand you pass a base path to msgHTML as /var/www/mysite, it will load the file from /var/www/mysite/images/logo.png and add it as an attachment, and alter the img tag to use the cid value for it.\nThe recent change is that if you do not provide a base path, then it will not attempt to attach the images.\nDoes that answer your question?. You can still use relative URLs. Say you have an image tag like this:\n<img src=\"/images/logo.png\">\n\nand you pass a base path to msgHTML as /var/www/mysite, it will load the file from /var/www/mysite/images/logo.png and add it as an attachment, and alter the img tag to use the cid value for it.\nThe recent change is that if you do not provide a base path, then it will not attempt to attach the images.\nDoes that answer your question?. No - if the images have an absolute URL, or they already have a cid (in which case you shouldn't be calling msgHTML anyway), msgHTML does not touch them. The cid is a \"content identifier\" used to point to another MIME element within the same message. When an image is referenced like this in a message body:\n$msg = '<img src=\"/images/logo.png\">';\n\nand you call msgHTML like msgHTML($msg, '/var/www/mysite'), it will load the image from /var/www/mysite/images/logo.png add it as an attachment, assign it an identifier, and rewrite the image tag to point at it. The image tag will end up looking like this:\n<img src=\"cid:1bb87d41d15fe27b500a4bfcde01bb0e@phpmailer.0\">\n\nand your message will contain a MIME part like this:\n```\n--b2_7c72e87f3a1518891f51b1221fe845a9\nContent-Type: image/png; name=\"logo.png\"\nContent-Transfer-Encoding: base64\nContent-ID: 1bb87d41d15fe27b500a4bfcde01bb0e@phpmailer.0\nContent-Disposition: inline; filename=logo.png\niVBORw0KGgoAAAANSUhEUgAAAVQAAABaCAIAAABojTkmAAAWjklEQVR4AeydiVMUVx7H93963MgB\n```\nSo you can see that the URL of the image points at the image data in the MIME part identified by the cid value, which matches the value in the Content-ID part header.\nYou definitely should not use $_SERVER['DOCUMENT_ROOT'] as the base path - it's likely that variables like that can be controlled by a user, so always use a fixed path, or one that is not dependent on user input.. No - if the images have an absolute URL, or they already have a cid (in which case you shouldn't be calling msgHTML anyway), msgHTML does not touch them. The cid is a \"content identifier\" used to point to another MIME element within the same message. When an image is referenced like this in a message body:\n$msg = '<img src=\"/images/logo.png\">';\n\nand you call msgHTML like msgHTML($msg, '/var/www/mysite'), it will load the image from /var/www/mysite/images/logo.png add it as an attachment, assign it an identifier, and rewrite the image tag to point at it. The image tag will end up looking like this:\n<img src=\"cid:1bb87d41d15fe27b500a4bfcde01bb0e@phpmailer.0\">\n\nand your message will contain a MIME part like this:\n```\n--b2_7c72e87f3a1518891f51b1221fe845a9\nContent-Type: image/png; name=\"logo.png\"\nContent-Transfer-Encoding: base64\nContent-ID: 1bb87d41d15fe27b500a4bfcde01bb0e@phpmailer.0\nContent-Disposition: inline; filename=logo.png\niVBORw0KGgoAAAANSUhEUgAAAVQAAABaCAIAAABojTkmAAAWjklEQVR4AeydiVMUVx7H93963MgB\n```\nSo you can see that the URL of the image points at the image data in the MIME part identified by the cid value, which matches the value in the Content-ID part header.\nYou definitely should not use $_SERVER['DOCUMENT_ROOT'] as the base path - it's likely that variables like that can be controlled by a user, so always use a fixed path, or one that is not dependent on user input.. The CID just makes the link between the HTML and the embedded image. msgHtml just builds the message body and converts relative image references into attachments. DKIM only comes into action after you've done all that and the message is ready to send - it calculates a cryptographic signature of the message, including any attachments, so that you an tell if it has been tempered with in transit.\nIf you use absolute URLs to images, they are not imported and converted to attachments; they just remain as external references, which is generally the best way to handle images in email as it keeps the message size down.. The CID just makes the link between the HTML and the embedded image. msgHtml just builds the message body and converts relative image references into attachments. DKIM only comes into action after you've done all that and the message is ready to send - it calculates a cryptographic signature of the message, including any attachments, so that you an tell if it has been tempered with in transit.\nIf you use absolute URLs to images, they are not imported and converted to attachments; they just remain as external references, which is generally the best way to handle images in email as it keeps the message size down.. PHPMailer does't care about the usemap attribute, or any other tag attribute (other than src for images if you use msgHTML()) - you can use it if you like and PHPMailer will not touch it.. You'll need to ask GoDaddy.. You'll need to ask GoDaddy.. Then it's clearly time to find a better ISP.. Then it's clearly time to find a better ISP.. Any that don't impose such limits. GoDaddy is pretty much the worst case, so almost anyone will be better. Just search, read reviews.. Any that don't impose such limits. GoDaddy is pretty much the worst case, so almost anyone will be better. Just search, read reviews.. @vignesh-subash No it won't. The question is about GoDaddy's email quotas, nothing to do with TLS.. This page says you should be using smtp.office365.com on port 587, but you're using outlook.office365.com. Does that help?. This page says you should be using smtp.office365.com on port 587, but you're using outlook.office365.com. Does that help?. It just looks like wrong id or pass to me. Double check by using the same values on the office 365 login page.. Your ID and pass was extractable from you SMTP transcript so I edited it out, but (I hope you don't mind), I tested it too and got the same results. The ID and pass are definitely correct and they are encoded correctly in the AUTH command (otherwise I wouldn't have been able to extract them), which suggests that there's some policy at work on your office account. I searched for that error and found this which suggests that SMTP submission is something you need to enable, so I suggest looking into that or asking for support from MS.\nI also recommend that you change your password.... Please read the troubleshooting guide and make sure you are using the latest version. This issue is well covered and has existed since PHP 5.6, which introduced (quite rightly) verification of certificates by default.. If you actually read the code, you'll see it's wrapped in version conditions so that those functions are only run on old versions of PHP. It's entirely compatible with PHP 7.1.. Really - read what I said. This is not a code problem, it's that your mail server is presenting an invalid certificate, or your ISP is redirecting you to a different server than the one you're expecting.. Also, never do this:\n$mail->setFrom($formInput2, $formInput1);\n\nThis is forgery and will cause your messages to fail SPF checks, resulting in non-delivery or delivery to spam folders at best.\nUse your own address as the from address and put the submitter's address in a reply-to using addReplyTo().. Right, that mismatch is cause by this:\n$mail->Host = gethostbyname('smtp.gmail.com');\n\nThis sets the Host property to an IP address, which means that it doesn't match the name on the certificate presented by the mail server. If you don't have a specific reason to use gethostbyname (typically that you need to force it to use an IPv4 address, just don't do it, use the proper server name instead.. All of this is covered in the PHPMailer examples, documentation and the troubleshooting guide.. Yes, that's correct. It's a common mistake - it's used to be a pretty normal thing to do in the days before spam, but that's a long time ago!. There's no need - addReplyTo returns false if the address is invalid. Trap that response and do what you like with it.. That's just how PHP renders boolean value as strings. You can get more detailed output by using var_dump($mail->addReplyTo($Input2, $Input1));. To trap it you'd simply do this:\nphp\nif (!$mail->addReplyTo($formInput2, $formInput1)) {\n    echo 'Invalid email address';\n}\nI suggest reading the PHP manual, it's very good.. But in that code you have not done it?. No, because email@address.com is a valid address! The ! in front of it means \"not\", so it will only fulfil the condition the if is checking for if the address is invalid, i.e. if setFrom() returns false. \nYou can generally skip checking static values that you know to be correct - but that's not true of user-supplied input, which you should always check.. In this code you're simply telling it to display the message, which is why it's being displayed!\nphp\n            } catch ( phpmailerException $e ) {\n                echo '<i class=\"fa fa-times\"></i><div class=\"form-ajax-submit-response-message\">'.$e->errorMessage().'</div>';\n            } catch ( Exception $e ) {\n                echo '<i class=\"fa fa-times\"></i><div class=\"form-ajax-submit-response-message\">'.$e->getMessage().'</div>';\nIf you don't want to display the message, don't display it! Log it and display a generic error to the user - they don't need to know most details.\nAlso, you don't want to send the message if the user-provided address is invalid, so I suggest you throw something to prevent it trying to send:\nphp\n                if( !$mail->addReplyTo($formInput2, $formInput1) ) {\n                    throw new Exception('INVALID EMAIL ADDRESS');\n                };\nThis is all simple logic!. No? It would only display that error when the address is invalid. You do understand how exceptions work?. It is.. By default, that's exactly what PHPMailer does. If you don't set the Sender property explicitly, it will use the From address automatically.. Please see the functionality provided by the parseAddresses() method which your code largely duplicates. You're also missing quite a lot of error checking.. You're using the default isMail transport, so it's submitting to your local mail server using PHP's mail() function, and so the message is passed to your local mail server successfully. What happens to it after that is out of PHPMailer's control, but you can usually find out by looking in your mail server's log, usually in /var/log/mail.log. This is covered in the troubleshooting guide.\nIncidentally you've got this:\n$file_to_attach = '/var/www/html/tf_enrichment/';\n\nYou're passing that to addAttachment(); that won't work because it's a directory, not a file.. I can't tell what's happening in this because you've not provided any example input or debug output. Please read the troubleshooting guide in the wiki.. See my note on your duplicate posting on #704.\nYour error output code will break your redirect, which probably won't help.. Read what the error says:\n\nPeer certificate CN=outlook.com did not match expected CN=40.97.128.18\n\nYou've done something like:\n$mail->Host = gethostbyname('outlook.com');\n\nor\n$mail->Host = '40.97.128.18';\n\nBoth of these will connect expecting to see a certificate in the name of the IP address, which will not match the outlook com name that actually is on the certificate. Do this instead:\n$mail->Host = 'smtp.outlook.com';\n\n(Which I think is the correct host for sending via outlook - as I recall it has a multi-name certificate that covers this).. Looks like your DNS is broken; fix that and it should work. Amazon isn't too hot on supporting IPv6; MS is better, but it looks like your ISP is lost somewhere in between.. In the guide take a look at the section about SMTPOptions for disabling certificate verification; it's a low-quality workaround (it's a security downgrade), but it will solve your immediate problem.. Don't hijack closed issues. Read the thread, do what it says. It's probably not your PHP that's the problem, more likely your network or ISP.. If you want reliability, send via a local mail server (MTA) which will deal with intermittent connections, retrying etc - PHPMailer is not an MTA.\nYes you can send in a loop - look at the mailing list example provided with PHPMailer for how to do it efficiently.. Install a mail server:\napt-get install postfix\ndpkg-reconfigure postfix\n\nFollow the PHPMailer example in the readme with $mail->Host = 'localhost';.\nAfter that, google is your friend.. Can you do what I suggested in #517 - set SMTPDebug = 4, and you should be able to see the connection result and the response obtained after it waits for server greeting on line 338, i.e. we want to see what is in $announce.. No - if the server does not respond within the timeout, the connect function will return false, and the connection will be dropped. It would help if you tried what I said above - we need to eliminate your server as the cause.. Look at the error output in the second test:\nNo log handling enabled - turning on stderr logging\nSERVER -> CLIENT: \nCLIENT -> SERVER: EHLO gbg1-noc1\nSERVER -> CLIENT: 554 SMTP synchronization error\n(It would be clearer if you'd set SMTPDebug = 4 as I said)\nThis shows the server sending something (even an empty string) before the client does, i.e. the client is acting correctly. It would be interesting if you could add this before line 340 in the SMTP class:\nvar_dump($announce);\nvar_dump(bin2hex($announce));\n\nThis will show us exactly what the server is sending back.. Er, that output shows an empty response?. Yes. This is why I asked you to add those var_dump lines, so we can see exactly what it is sending, if anything.. I'm also suspicious of something else: your error output doesn't include a link to the PHPMailer troubleshooting guide, which means you must be using an old version of PHPMailer. Please make sure you're using the latest.. You've not included enough debug output to tell, but I would guess that you are being redirected to a different server (probably your ISP's), and it doesn't offer XOAUTH2. Checking for this is covered in the guide.. That's definitely what's happening. Google puts its name in the welcome banner, does not run exim, does not allow auth without TLS. I'm surprised you're not getting a mismatched certificate error.. It will be the ISP. It's unlikely you can prevent it happening.. It will be the ISP. It's unlikely you can prevent it happening.. It's a combination of client and server.  You request to connect to a named server, and it responds with a cert that should match the name. Look at the openssl command given in the troubleshooting guide. You may find that https and SMTP are using different certs.. When you connect using TLS, the server will automatically send a certificate to the client, which can then verify it. This is what the openssl command I mentioned shows.. The code looks OK, though it looks like it could be used as a spam gateway, and you're not checking the return value from addAddress().\nWhy are you doing new development using PHP 5.4?\nWhy are you using isSendmail()?. Well, you can do a PR if you like, but I'm really done with doing anything new for 5.2. I'll get around to releasing 6.0 very soon!. I can't reproduce this at all. Here is my test code using current master:\nphp\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->SMTPDebug = 3;\n$mail->Host = '127.0.0.1';\n$mail->Port = 2500;\n$mail->isHTML(true);\n$mail->Subject = \"test\";\n$mail->setFrom('noddy@example.com', 'Noddy');\n$mail->addAddress('bigears@example.com');\n$mail->addBCC('mrplod@example.com');\n$mail->AltBody = 'hello';\n$mail->Body = '<strong>hello</strong>';\n$mail->send();\nAnd here's the SMTP transcript:\n2017-05-16 06:39:23 Connection: opening to 127.0.0.1:2500, timeout=300, options=array (\n                                      )\n2017-05-16 06:39:23 Connection: opened\n2017-05-16 06:39:23 SERVER -> CLIENT: 220 oc ESMTP SubEthaSMTP null\n2017-05-16 06:39:23 CLIENT -> SERVER: EHLO Oc\n2017-05-16 06:39:23 SERVER -> CLIENT: 250-oc\n                                      250-8BITMIME\n                                      250-AUTH LOGIN\n                                      250 Ok\n2017-05-16 06:39:23 CLIENT -> SERVER: MAIL FROM:<noddy@example.com>\n2017-05-16 06:39:23 SERVER -> CLIENT: 250 Ok\n2017-05-16 06:39:23 CLIENT -> SERVER: RCPT TO:<bigears@example.com>\n2017-05-16 06:39:23 SERVER -> CLIENT: 250 Ok\n2017-05-16 06:39:23 CLIENT -> SERVER: RCPT TO:<mrplod@example.com>\n2017-05-16 06:39:23 SERVER -> CLIENT: 250 Ok\n2017-05-16 06:39:23 CLIENT -> SERVER: DATA\n2017-05-16 06:39:23 SERVER -> CLIENT: 354 End data with <CR><LF>.<CR><LF>\n2017-05-16 06:39:23 CLIENT -> SERVER: Date: Tue, 16 May 2017 06:39:23 +0000\n2017-05-16 06:39:23 CLIENT -> SERVER: To: bigears@example.com\n2017-05-16 06:39:23 CLIENT -> SERVER: From: Noddy <noddy@example.com>\n2017-05-16 06:39:23 CLIENT -> SERVER: Subject: test\n2017-05-16 06:39:23 CLIENT -> SERVER: Message-ID: <fa2dead1270abb20d472b7c95d5290d9@Oc>\n2017-05-16 06:39:23 CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.23 (https://github.com/PHPMailer/PHPMailer)\n2017-05-16 06:39:23 CLIENT -> SERVER: MIME-Version: 1.0\n2017-05-16 06:39:23 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2017-05-16 06:39:23 CLIENT -> SERVER:   boundary=\"b1_fa2dead1270abb20d472b7c95d5290d9\"\n2017-05-16 06:39:23 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2017-05-16 06:39:23 CLIENT -> SERVER:\n2017-05-16 06:39:23 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2017-05-16 06:39:23 CLIENT -> SERVER:\n2017-05-16 06:39:23 CLIENT -> SERVER: --b1_fa2dead1270abb20d472b7c95d5290d9\n2017-05-16 06:39:23 CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\n2017-05-16 06:39:23 CLIENT -> SERVER:\n2017-05-16 06:39:23 CLIENT -> SERVER: hello\n2017-05-16 06:39:23 CLIENT -> SERVER:\n2017-05-16 06:39:23 CLIENT -> SERVER:\n2017-05-16 06:39:23 CLIENT -> SERVER: --b1_fa2dead1270abb20d472b7c95d5290d9\n2017-05-16 06:39:23 CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2017-05-16 06:39:23 CLIENT -> SERVER:\n2017-05-16 06:39:23 CLIENT -> SERVER: <strong>hello</strong>\n2017-05-16 06:39:23 CLIENT -> SERVER:\n2017-05-16 06:39:23 CLIENT -> SERVER:\n2017-05-16 06:39:23 CLIENT -> SERVER:\n2017-05-16 06:39:23 CLIENT -> SERVER: --b1_fa2dead1270abb20d472b7c95d5290d9--\n2017-05-16 06:39:23 CLIENT -> SERVER:\n2017-05-16 06:39:23 CLIENT -> SERVER: .\n2017-05-16 06:39:23 SERVER -> CLIENT: 250 Ok\n2017-05-16 06:39:23 CLIENT -> SERVER: QUIT\n2017-05-16 06:39:23 SERVER -> CLIENT: 221 Bye\n2017-05-16 06:39:23 Connection: closed\nYou can see that it's using the BCC address in an RCPT TO command, but it does not appear in the headers, exactly as expected. 6.0 has slightly cleaner output, but it's basically the same.\nCan you make this do anything different?. This is covered in the PHPMailer documentation; Gmail does not allow you to set arbitrary from addresses. You can create fixed aliases in your gmail prefs that it will then permit, but you can't just send from any address.. Gmail will use what you put in the Username property and will ignore what you put in the From header. In your code, whatever you set $guser to:\ndefine('GUSER', $guser);\n\nYou're creating a new instance of PHPMailer each time, so there is no way for external data to leak into it or be re-used - it must be coming form your own variables.. Don't put .idea in there. It's platform-specific and belongs in your global .gitignore config, not in every project, much like .DS_store files should be ignored. Could you take that out and force-push please.. Perfect, thanks.\nI can see you've got quite a bit of activity history, but Github says this was your first PR. Congrats, if so!. Ask questions like this on Stack Overflow. There's nothing anyone can do without seeing your error, and it's most likely a wordpress problem. Creating random pull requests is not helpful.. Have you considered, perhaps, following the link that it tell you to that explains why you can't log in? Or reading the troubleshooting guide?. Right. This is covered extensively in the troubleshooting guide that the error message links you to.. If you can't use php in a windows terminal, put <?php phpinfo(); in a .php file and view it via your web server (as you do for all your other PHP scripts). That will show your php config, and search on the page for cafile and similar items. The reason the docs don't go further is that this isn't a PHPMailer problem - it's a problem with your operating system, and trying to document how to fix operating systems is well outside PHPMailer's responsibility.\nUltimately though it's not complicated - download the CA file from the URL given in the docs, store it somewhere, set that path in your php.ini (there are plenty of php docs on how to do that), and restart PHP or your web server (depending on how your PHP deployment works). after that, you should see the new setting in your phpinfo page.\nAlternatively, use an operating system that ships up to date CA certificates, and then you don't have to do anything at all.\nYou don't need to replace the certificate on your mail server - but if you did, the place to look would be in your mail server docs, not here.. If you can't use php in a windows terminal, put <?php phpinfo(); in a .php file and view it via your web server (as you do for all your other PHP scripts). That will show your php config, and search on the page for cafile and similar items. The reason the docs don't go further is that this isn't a PHPMailer problem - it's a problem with your operating system, and trying to document how to fix operating systems is well outside PHPMailer's responsibility.\nUltimately though it's not complicated - download the CA file from the URL given in the docs, store it somewhere, set that path in your php.ini (there are plenty of php docs on how to do that), and restart PHP or your web server (depending on how your PHP deployment works). after that, you should see the new setting in your phpinfo page.\nAlternatively, use an operating system that ships up to date CA certificates, and then you don't have to do anything at all.\nYou don't need to replace the certificate on your mail server - but if you did, the place to look would be in your mail server docs, not here.. Windows certainly should have up to date certs - make sure you've applied all system updates - but it still may not. PHP normally gets CA certs from the OS, but what I've described above is a PHP-specific fix.\nYou may have the same problem on your hosted domain, and you may need to do the same thing on there - but I can't tell. If you don't have full access (e.g. you're on shared hosting), you should request support from your hosting provider.. Windows certainly should have up to date certs - make sure you've applied all system updates - but it still may not. PHP normally gets CA certs from the OS, but what I've described above is a PHP-specific fix.\nYou may have the same problem on your hosted domain, and you may need to do the same thing on there - but I can't tell. If you don't have full access (e.g. you're on shared hosting), you should request support from your hosting provider.. No, that's normal - it just means it's not been set explicitly, and so will fall back to using your OS.. No, that's normal - it just means it's not been set explicitly, and so will fall back to using your OS.. As I say above, you should not have to do that at all - fix your TLS setup first. But if you insist on doing it, it should go in your own code, in the same place you use PHPMailer.. Read the troubleshooting guide. It tells you how to diagnose and fix this.. You must be using SMTP or you would not get that error. If you run php -i|grep ini, it will show you where all the config files are that PHP reads from.. I have no idea about cpanel or your hosting - ask them. I would expect you to be able to get to a phpinfo() page which will tell you the same thing as php -i on a command line, but you'll need to read channel docs for that, or just put it in a PHP file and upload it as you do your other PHP files.. No, that's the same failure happening twice in the same place; you must be causing it to be run twice. Look at the timestamps - they are several seconds apart.\nDo what the guide says - alter your PHP config to point at a fresh download of the CA certs - how you actually do that is something you need to find out from your control panel; it's not something I know about.. If you switch to mail, it won't use SMTP at all but will send via a sendmail binary that talks to your local mail server. All errors relating to that will be in your mail server logs, just as the troubleshooting guide says. No, I can't fix your server for you - and you do have a server problem, not a PHPMailer problem.. Seriously? The troubleshooting guide has specific comments on GoDaddy because they block outbound SMTP. If you won't read the docs I point you at, I'm not going to write the same thing here so you can ignore that too.. If you're talking to a SMTP server, you will see what happens to the message if you have SMTPDebug = 2 set. If you're using mail(), it will be in your mail server logs. Those are the only two possibilities, and both are covered in the docs.. PHPMailer works fine in PHP 7. If it's not working for you, you need to be more precise, and don't hijack closed, unrelated issues.. This commit makes no sense. Your code does exactly the same thing as the existing code, just rephrased as a less readable ternary expression.. I take that back - sorry, I see what you mean.. Thanks. I will merge this into master and 6.0 later.. Merged into master and 6.0. I can't tell anything specific with so little information, but this will be a problem in your app or your mail server config. PHPMailer only sends one message at a time, so for it to send more, you must be asking it to do that in your app. Alternatively, you could have a mail loop - where an auto-responder replies to itself - and in that case it's nothing to do with PHPMailer or your app. I would recommend stopping your mail server and inspecting its logs and the headers of messages you're receiving.. You should upgrade immediately. That version has security holes and bugs. You have still not said exactly how it's sending multiple messages.. You should upgrade immediately. That version has security holes and bugs. You have still not said exactly how it's sending multiple messages.. Two things: Typo:\n$mail->AuthType = 'NTML';\n\nshould be \n$mail->AuthType = 'NTLM';\n\nSecondly, the NTLM auth in PHPMailer has never actually worked, not least because it is missing files that the NTLM library it uses depends on. It's been removed from 6.0 altogether, on the basis that there has never been a single report that it was broken in the 11 years it's been in PHPMailer! You are welcome to try to get it working, but it's considered dead here.\nThe server you are connecting to supports the LOGIN auth type, so I suggest you use that instead.. Because it says so:\n250-AUTH NTLM LOGIN. Why are you disabling SSL verification? It's probably causing it to hide that you're being redirected to a different server. Did you check that the `Host` value you set matches what the server responds with, as the troubleshooting guide tells you to?. You can set `SMTPSecure = false`, but it's really worth avoiding, much better to figure out *why* it's failing (and it would help if you posted the full output of that section of the SMTP debug output wth `SMTPDebug = 3`). The openssl commands shown in the troubleshooting guide can help you find out why it doesn't like your server's certificate - for example name mismatch, unknown CA, expired, self-signed etc.. You can set `SMTPSecure = false`, but it's really worth avoiding, much better to figure out *why* it's failing (and it would help if you posted the full output of that section of the SMTP debug output wth `SMTPDebug = 3`). The openssl commands shown in the troubleshooting guide can help you find out why it doesn't like your server's certificate - for example name mismatch, unknown CA, expired, self-signed etc.. It's like I said - the names don't match! You're asking to connect to `webmail.av.it.pt`, but it says that it's called `becas.av.it.pt`!\n\nThis test confirms it: \nopenssl s_client -starttls smtp -connect webmail.av.it.pt:25. It's like I said - the names don't match! You're asking to connect to `webmail.av.it.pt`, but it says that it's called `becas.av.it.pt`!\n\nThis test confirms it: \nopenssl s_client -starttls smtp -connect webmail.av.it.pt:25. Because the name you use to connect to needs to match the name that the mail server presents - if it doesn't it's either a mistake or forgery (wrong either way), which is why turning off verification is a bad idea. If you set your `Host` value to `becas.av.it.pt`, you may find it just works.. Because the name you use to connect to needs to match the name that the mail server presents - if it doesn't it's either a mistake or forgery (wrong either way), which is why turning off verification is a bad idea. If you set your `Host` value to `becas.av.it.pt`, you may find it just works.. That openssl command shows this:\n\nCONNECTED(00000003)\ndepth=0 CN = becas\nverify error:num=18:self signed certificate\nverify return:1\ndepth=0 CN = becas\nverify error:num=21:unable to verify the first certificate\nSo, first of all it's a self-signed cert, which they really should not be using for a public service.\nI extracted their certificate and info:\nCertificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number:\n            10:cd:81:94:00:1a:a1:b4:4f:75:1f:7e:c8:9c:0d:3e\n    Signature Algorithm: sha1WithRSAEncryption\n        Issuer: CN=lecas\n        Validity\n            Not Before: Mar  3 18:34:11 2016 GMT\n            Not After : Mar  3 18:34:11 2021 GMT\n        Subject: CN=lecas\n        Subject Public Key Info:\n            Public Key Algorithm: rsaEncryption\n                Public-Key: (2048 bit)\n                Modulus:\n                    00:b9:7c:a1:ad:4e:56:78:2b:28:19:68:18:68:8e:\n                    ...\n                Exponent: 65537 (0x10001)\n        X509v3 extensions:\n            X509v3 Key Usage: critical\n                Digital Signature, Key Encipherment\n            X509v3 Subject Alternative Name:\n                DNS:lecas, DNS:lecas.av.it.pt\n            X509v3 Extended Key Usage:\n                TLS Web Server Authentication\n            X509v3 Basic Constraints: critical\n                CA:FALSE\n    Signature Algorithm: sha1WithRSAEncryption\n         2f:d7:e1:d0:6f:7c:fc:5a:ea:be:25:a1:3d:ed:bb:aa:0a:10:\n         ...\nWeirdly, this says the name is lecas rather than becas - it may be that they rotate SMTP connections between multiple servers with different names. Either way it doesn't match webmail, and self-signing isn't helping. Overall this mail server is very badly configured. I think your only way through this is to disable encryption and tell it to use LOGIN auth:\n```\n$mail->SMTPDebug = 2;\n$mail->isSMTP();\n$mail->Host = 'webmail.av.it.pt';\n$mail->SMTPAuth = true;\n$mail->AuthType = 'LOGIN';\n$mail->Username = 'username';\n$mail->Password = 'password';\n$mail->SMTPSecure = 'tls';\n$mail->Port = 25;\n\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\n\n```\nEven though you're suppressing all the verification here, it will at least encrypt your traffic. If it still fails to log in, then I think you need to take this up with your ISP, and ask them to fix their certificates while you're at it.. That openssl command shows this:\nCONNECTED(00000003)\ndepth=0 CN = becas\nverify error:num=18:self signed certificate\nverify return:1\ndepth=0 CN = becas\nverify error:num=21:unable to verify the first certificate\nSo, first of all it's a self-signed cert, which they really should not be using for a public service.\nI extracted their certificate and info:\nCertificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number:\n            10:cd:81:94:00:1a:a1:b4:4f:75:1f:7e:c8:9c:0d:3e\n    Signature Algorithm: sha1WithRSAEncryption\n        Issuer: CN=lecas\n        Validity\n            Not Before: Mar  3 18:34:11 2016 GMT\n            Not After : Mar  3 18:34:11 2021 GMT\n        Subject: CN=lecas\n        Subject Public Key Info:\n            Public Key Algorithm: rsaEncryption\n                Public-Key: (2048 bit)\n                Modulus:\n                    00:b9:7c:a1:ad:4e:56:78:2b:28:19:68:18:68:8e:\n                    ...\n                Exponent: 65537 (0x10001)\n        X509v3 extensions:\n            X509v3 Key Usage: critical\n                Digital Signature, Key Encipherment\n            X509v3 Subject Alternative Name:\n                DNS:lecas, DNS:lecas.av.it.pt\n            X509v3 Extended Key Usage:\n                TLS Web Server Authentication\n            X509v3 Basic Constraints: critical\n                CA:FALSE\n    Signature Algorithm: sha1WithRSAEncryption\n         2f:d7:e1:d0:6f:7c:fc:5a:ea:be:25:a1:3d:ed:bb:aa:0a:10:\n         ...\nWeirdly, this says the name is lecas rather than becas - it may be that they rotate SMTP connections between multiple servers with different names. Either way it doesn't match webmail, and self-signing isn't helping. Overall this mail server is very badly configured. I think your only way through this is to disable encryption and tell it to use LOGIN auth:\n```\n$mail->SMTPDebug = 2;\n$mail->isSMTP();\n$mail->Host = 'webmail.av.it.pt';\n$mail->SMTPAuth = true;\n$mail->AuthType = 'LOGIN';\n$mail->Username = 'username';\n$mail->Password = 'password';\n$mail->SMTPSecure = 'tls';\n$mail->Port = 25;\n\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\n\n```\nEven though you're suppressing all the verification here, it will at least encrypt your traffic. If it still fails to log in, then I think you need to take this up with your ISP, and ask them to fix their certificates while you're at it.. The problem is occurring before that RSET is issued - it's failing to start TLS, which is covered in the troubleshooting guide.\nYou're also using an old version of PHPMailer that has bugs and vulnerabilities, so get the latest, and base your code on the gmail example provided.. The problem is occurring before that RSET is issued - it's failing to start TLS, which is covered in the troubleshooting guide.\nYou're also using an old version of PHPMailer that has bugs and vulnerabilities, so get the latest, and base your code on the gmail example provided.. Your debug output includes strings like SMTP -> FROM SERVER - PHPMailer's debug output has not looked like that for at least a couple of years. More recent versions have more informative debug output surrounding TLS problems, especially if you set SMTPDebug = 3. If you had tried everything in troubleshooting you would know precisely why it's giving you this error - for example, what output do you get when you connect directing using openssl, using the command example given in the guide?. Your debug output includes strings like SMTP -> FROM SERVER - PHPMailer's debug output has not looked like that for at least a couple of years. More recent versions have more informative debug output surrounding TLS problems, especially if you set SMTPDebug = 3. If you had tried everything in troubleshooting you would know precisely why it's giving you this error - for example, what output do you get when you connect directing using openssl, using the command example given in the guide?. I don't understand your question. You've got no error checking code in any of this, so you won't get any feedback when it doesn't work. Base your code on the gmail example provided. PHPMailer doesn't send DSNs, that's the mail server's job.. I don't understand your question. You've got no error checking code in any of this, so you won't get any feedback when it doesn't work. Base your code on the gmail example provided. PHPMailer doesn't send DSNs, that's the mail server's job.. If a user enters a syntactically invalid email address then PHPMailer won't even attempt to send the message. If you try to send to a non-existent address (but syntactically valid) (and you're using SMTP), then PHPMailer will attempt to send. Whether it is bounced immediately or accepted and returned later depends on your mail route (e.g. whether you are using a relay or smarthost) - but either way, PHPMailer has nothing to do with the generation of DSNs - by definition they are created by the receiving (bouncing) server.. If a user enters a syntactically invalid email address then PHPMailer won't even attempt to send the message. If you try to send to a non-existent address (but syntactically valid) (and you're using SMTP), then PHPMailer will attempt to send. Whether it is bounced immediately or accepted and returned later depends on your mail route (e.g. whether you are using a relay or smarthost) - but either way, PHPMailer has nothing to do with the generation of DSNs - by definition they are created by the receiving (bouncing) server.. You are using a very old, buggy and vulnerable version of PHPMailer from 2013. The very first thing the support docs say is to make sure you're running the latest version.\nYou're not checking the return values of either call to addAttachment, nor does this code know if the files you're attaching are not corrupt already - all PHPMailer does is attach what you give it, so if you give it bad files, it will send bad files.. You are using a very old, buggy and vulnerable version of PHPMailer from 2013. The very first thing the support docs say is to make sure you're running the latest version.\nYou're not checking the return values of either call to addAttachment, nor does this code know if the files you're attaching are not corrupt already - all PHPMailer does is attach what you give it, so if you give it bad files, it will send bad files.. Yup, that's typical of SMTP, and is not within PHPMailer's control. Sending via SMTP can be slow, often deliberately so. SMTP spec allows each command to take up to 10 mins! If you don't want that, send via a local mail server, or hand off to a separate process (e.g. using cron) that sends asynchronously. Don't expect remote SMTP transactions to happen quickly enough to do during page load / XHR requests.\nBTW I removed your encoded ID and password from debug output.. Yup, that's typical of SMTP, and is not within PHPMailer's control. Sending via SMTP can be slow, often deliberately so. SMTP spec allows each command to take up to 10 mins! If you don't want that, send via a local mail server, or hand off to a separate process (e.g. using cron) that sends asynchronously. Don't expect remote SMTP transactions to happen quickly enough to do during page load / XHR requests.\nBTW I removed your encoded ID and password from debug output.. The delay is after authentication, so maybe the mail server changed its auth system?\nIf you're sending a batch of messages through the same server, set $mail->KeepAlive = true and it will re-use the same connection for all messages, should mean that it only needs to auth once per batch. Look at the mailing list example for how to send a batch efficiently.. The delay is after authentication, so maybe the mail server changed its auth system?\nIf you're sending a batch of messages through the same server, set $mail->KeepAlive = true and it will re-use the same connection for all messages, should mean that it only needs to auth once per batch. Look at the mailing list example for how to send a batch efficiently.. Sorry, that should be $mail->SMTPKeepAlive = true.. Sorry, that should be $mail->SMTPKeepAlive = true.. Nope. It works fine, you're using an old version of PHPMailer, and your fix would break other functionality.\nphp\n$mail = new PHPMailer;\n$mail->addAddress('recipient1@mail.com');\n$mail->addAddress('recipient2@mail.com');\nvar_dump($mail->getToAddresses());\nOutput:\narray(2) {\n  [0] =>\n  array(2) {\n    [0] =>\n    string(19) \"recipient1@mail.com\"\n    [1] =>\n    string(0) \"\"\n  }\n  [1] =>\n  array(2) {\n    [0] =>\n    string(19) \"recipient2@mail.com\"\n    [1] =>\n    string(0) \"\"\n  }\n}. Nope. It works fine, you're using an old version of PHPMailer, and your fix would break other functionality.\nphp\n$mail = new PHPMailer;\n$mail->addAddress('recipient1@mail.com');\n$mail->addAddress('recipient2@mail.com');\nvar_dump($mail->getToAddresses());\nOutput:\narray(2) {\n  [0] =>\n  array(2) {\n    [0] =>\n    string(19) \"recipient1@mail.com\"\n    [1] =>\n    string(0) \"\"\n  }\n  [1] =>\n  array(2) {\n    [0] =>\n    string(19) \"recipient2@mail.com\"\n    [1] =>\n    string(0) \"\"\n  }\n}. Read the docs. That is not a real solution; it just hides the problem and makes your app vulnerable to man-in-the-middle attacks. You do not need to enable access for less secure apps if you use XOAUTH2 authentication, which PHPMailer supports. This is also documented and included in examples.. Read the docs. That is not a real solution; it just hides the problem and makes your app vulnerable to man-in-the-middle attacks. You do not need to enable access for less secure apps if you use XOAUTH2 authentication, which PHPMailer supports. This is also documented and included in examples.. Read the docs. What your'e doing is unsafe. Your code is now simply hiding the error and you are vulnerable to man in the middle attacks. Gmail does not publish invalid or expired certificates - it's a configuration problem on your server, so fix your server instead of pretending to.. Read the docs. What your'e doing is unsafe. Your code is now simply hiding the error and you are vulnerable to man in the middle attacks. Gmail does not publish invalid or expired certificates - it's a configuration problem on your server, so fix your server instead of pretending to.. Don't post unrelated comments on closed issues, especially since you can apparently find the time to post multiple comments, but not to read any documentation. It's rude.\nThe Host property needs a host name, not a URL - in your case use localhost. Using localhost will not work with TLS, and you probably don't need authentication, so do this:\n$mail->SMTPAuth = false;\n$mail->SMTPSecure = false;\n\nAlso you're doing no error checking at all, so if anything fails you won't know why - base your code on the up to date examples provided with PHPMailer, and not the obsolete one you have used.. Yes. Look at the SMTP examples.. Yes. Look at the SMTP examples.. That's not really up to PHPMailer itself, it's how you use it. If you're just trying to make it return control to you faster, you're best off using SMTP to a local mail server - that will allow you to send a message very quickly, and then let your mail server asynchronously send the message on to its destination. Alternatively, trigger your message send via a database or queue system, then do the actual sending via a separate PHP process, using a daemon or cron config.. That's not really up to PHPMailer itself, it's how you use it. If you're just trying to make it return control to you faster, you're best off using SMTP to a local mail server - that will allow you to send a message very quickly, and then let your mail server asynchronously send the message on to its destination. Alternatively, trigger your message send via a database or queue system, then do the actual sending via a separate PHP process, using a daemon or cron config.. Indeed, and I said as much on the SO question. The setup you have makes little sense - you are posting your form to a URL that is responding with a JSON string. The form suggests an HTML response, perhaps with a redirect, but the JSON response suggests not submitting the form at all, but sending an XHR request instead that might issue a redirect from the client side after processing the response. You need to decide what it is you want to do - other people can't fix your intentions.. Indeed, and I said as much on the SO question. The setup you have makes little sense - you are posting your form to a URL that is responding with a JSON string. The form suggests an HTML response, perhaps with a redirect, but the JSON response suggests not submitting the form at all, but sending an XHR request instead that might issue a redirect from the client side after processing the response. You need to decide what it is you want to do - other people can't fix your intentions.. Please read the readme - it tells you exactly this.. Please read the readme - it tells you exactly this.. No, you need to look at the IMAP extension in PHP, or one of the IMAP packages on packages.org.. No, you need to look at the IMAP extension in PHP, or one of the IMAP packages on packages.org.. Thanks. Thanks. There's one simple, obvious thing that I missed in your SO question - look what you have called your class: PHPMailer. You effectively have a naming clash, which is why namespaces were introduced (and are supported in PHPMailer 6.0). Just call your class something other than PHPMailer and you should be fine.\nAlso as I observed in the SO Q: if you're using composer, you don't need to load PHPMailer's own autoloader, but why are you calling vendor/autoload.php from in here? This should be loaded way earlier by your framework's init/bootstrap function. By doing it here you're really undermining much of the point of using composer at all. Is PHPMailer really the only library you're loading with composer?. There's one simple, obvious thing that I missed in your SO question - look what you have called your class: PHPMailer. You effectively have a naming clash, which is why namespaces were introduced (and are supported in PHPMailer 6.0). Just call your class something other than PHPMailer and you should be fine.\nAlso as I observed in the SO Q: if you're using composer, you don't need to load PHPMailer's own autoloader, but why are you calling vendor/autoload.php from in here? This should be loaded way earlier by your framework's init/bootstrap function. By doing it here you're really undermining much of the point of using composer at all. Is PHPMailer really the only library you're loading with composer?. Thanks. Thanks. Thanks. Thanks. I think a better idea would be to remove the SingleTo functionality altogether. It's better to control this at a higher level - PHPMailer isn't a mailing list sender.. I think a better idea would be to remove the SingleTo functionality altogether. It's better to control this at a higher level - PHPMailer isn't a mailing list sender.. Sure - This is called a backward compatibility (BC) break, and we are about to have a big one with the release of PHPMailer 6.0 anyway. I won't remove it just yet, but I will mark the SingleTo functionality as deprecated, to be removed in 7.0. Use of the PHP mail() function needs to be discouraged because it's extremely difficult to use safely; SMTP is faster, safer, and gives more control and feedback.. Sure - This is called a backward compatibility (BC) break, and we are about to have a big one with the release of PHPMailer 6.0 anyway. I won't remove it just yet, but I will mark the SingleTo functionality as deprecated, to be removed in 7.0. Use of the PHP mail() function needs to be discouraged because it's extremely difficult to use safely; SMTP is faster, safer, and gives more control and feedback.. Frankly, no. The oauth support in 5.2 is really not much good, so don't take that as a guide. The league OAuth2 packages are very well maintained (by one of the best-known authorities on OAuth in PHP, no less), and if you look at what has been done in the 6.0 branch, you'll see that we make far more use of the league packages, which have built-in support for many other oauth providers beyond google. They are also vastly more popular than the single-use google package. I don't see any advantage in switching to the google libs at all.. Frankly, no. The oauth support in 5.2 is really not much good, so don't take that as a guide. The league OAuth2 packages are very well maintained (by one of the best-known authorities on OAuth in PHP, no less), and if you look at what has been done in the 6.0 branch, you'll see that we make far more use of the league packages, which have built-in support for many other oauth providers beyond google. They are also vastly more popular than the single-use google package. I don't see any advantage in switching to the google libs at all.. Note that if you want to, you can always use the google libs yourself - someone contributed a guide in the wiki.. Note that if you want to, you can always use the google libs yourself - someone contributed a guide in the wiki.. Ah, ok. Well, feel free to build a better wiki article on how to use the google/auth libs.. Ah, ok. Well, feel free to build a better wiki article on how to use the google/auth libs.. When it says system busy, I'd say there's a reasonable chance that the system is buy and is not accepting email right now. If it keeps doing that, I'd suggest contacting support for whoever runs qq.com.\nBTW you left your encoded plain-text id and password in the transcript, so I've removed them, but you should probably change your password now.. When it says system busy, I'd say there's a reasonable chance that the system is buy and is not accepting email right now. If it keeps doing that, I'd suggest contacting support for whoever runs qq.com.\nBTW you left your encoded plain-text id and password in the transcript, so I've removed them, but you should probably change your password now.. It's very likely that it is being delivered, but is going into your spam folder. Set $mail->SMTPDebug = 2 so you can see what the mail server says.. It's very likely that it is being delivered, but is going into your spam folder. Set $mail->SMTPDebug = 2 so you can see what the mail server says.. Quite a lot of things have been cleaned up in the new 6.0 release; please retest with that and reopen if it's still an issue.. Thanks. Thanks. Set $mail->CharSet = 'UTF-8';, make sure you actually give valid UTF-8 strings, and it will work fine.. Set $mail->CharSet = 'UTF-8';, make sure you actually give valid UTF-8 strings, and it will work fine.. Thanks. Thanks. Great idea \u2013 why don't you do that? There's a \"fork\" button in the top right to get you started.. Great idea \u2013 why don't you do that? There's a \"fork\" button in the top right to get you started.. You see where it says \"debug output\" - that's where you're meant to put your debug output when you set SMTPDebug=2. The output contains timestamps that will tell you exactly what is taking the time.. You see where it says \"debug output\" - that's where you're meant to put your debug output when you set SMTPDebug=2. The output contains timestamps that will tell you exactly what is taking the time.. It's good to see the output, but you've removed the time stamps so I can't see what's taking the time!. It's good to see the output, but you've removed the time stamps so I can't see what's taking the time!. Ah - it's $mail->Debugoutput = 'html'; - for some reason that doesn't include timestamps. Comment that out and you'll get timestamps, and I'll fix the HTML output for the next release.. Ah - it's $mail->Debugoutput = 'html'; - for some reason that doesn't include timestamps. Comment that out and you'll get timestamps, and I'll fix the HTML output for the next release.. This is the important part; gmail taking 15 sec to accept the message:\n2017-05-20 21:49:07 CLIENT -> SERVER: .\n2017-05-20 21:49:22 SERVER -> CLIENT: 250 OK id=1dCCFH-0000GL-9p\n\nThis is just gmail being slow, nothing you're doing wrong. There's nothing you can do about that other than avoiding sending during page processing, which is mentioned in the docs - use a queue/database, send using a separate process or cron job that can send async, send via a local mail server (that will do the waiting for you). Remote SMTP is just not reliably fast enough to do this interactively.\nBTW you left your encoded IDs and passwords in those transcripts. I've edited them out, but you might want to change your password.. This is the important part; gmail taking 15 sec to accept the message:\n2017-05-20 21:49:07 CLIENT -> SERVER: .\n2017-05-20 21:49:22 SERVER -> CLIENT: 250 OK id=1dCCFH-0000GL-9p\n\nThis is just gmail being slow, nothing you're doing wrong. There's nothing you can do about that other than avoiding sending during page processing, which is mentioned in the docs - use a queue/database, send using a separate process or cron job that can send async, send via a local mail server (that will do the waiting for you). Remote SMTP is just not reliably fast enough to do this interactively.\nBTW you left your encoded IDs and passwords in those transcripts. I've edited them out, but you might want to change your password.. Thanks for posting. Yes there is, it's called encodeHeader, however, it was mainly focused on encoding rather than folding, though it does both for B and Q-encoded headers. The omission was that long lines that do not require B or Q encoding did not get folded - if you add a character that does require encoding (like \u00e9), you'll find it does wrap correctly.\nI've fixed this in the 6.0 branch, see b25f93e, and also the related #818. Please give it a try and let me know your results.. That content-type is fine. The root problem is that PHPMailer doesn't support arbitrary MIME structures, which is what you really need here. You might be better off with Zend_Mail for that.. This is down to convention in formatting the message body. Indent each level of conversation by preceding each line with >. This can be quite hit & miss with HTML bodies.. It is generally not a structural MIME matter. You're doing the right thing with the In-Reply-To header, though you should also look at the References header. There is no no fix for the fatuous, offensive content however.. Thanks. You should definitely configure SPF as well; it's complementary to DKIM. The two together enable you to use DMARC.\nThere's more to DKIM than sticking some records in DNS - you have to sign every outbound message - the example you posted has no signature. To do that, base your code on this example.\nIt's possible to get your mail server to do DKIM signing for you - but I have no idea if that's possible to configure via cPanel.. Have you considered the possibility that the URL they give you in the error message might contain some clues?. It works just fine - see the unit tests for working examples. Make sure your whole workflow is UTF-8 capable, and then set it as the charset in PHPMailer:\n$mail->CharSet = 'UTF-8';. You just need to add the line I gave you! What's with all the `\\` in your code?. Also, this code implies that you're using a very old version of PHPMailer, so I suggest you get the latest.. I suspect you asked the same question on Stack Overflow. Read the spec in [RFC2369](https://tools.ietf.org/html/rfc2369). It says that all URLs must be enclosed in `<>`, which your `mailto` is not. Also, why would you think that PHPMailer would be too dumb to deal with the line break after a header?\n\nTry this instead:\nphp\n$mail->AddCustomHeader('List-Unsubscribe', \"<mailto:arjun@something.com?subject=Unsubscribe>,<http://something.com/unsubscribe.php/\".$urlid);\nMailto URLs are often not sent interactively, but automatically by host systems, so the URL you have there is probably not going to work anyway as it does not identify the recipient, and you should look into VERP-style addressing in order to handle these without user action (this isn't VERP itself as these are not bounces, but the same principle applies).\nFinally, client handling of unsubscribe links like this is very patchy; there is no guarantee that they will be presented any particular way, or at all.. You really don't need SMTPDebug = 4, it just makes the output hard to read; 3 is plenty.\nYou correctly identified the point at which it is failing, and this is covered in the troubleshooting guide. While you are connecting to post 25 and have not apparently set SMTPSecure = true, PHPMailer enables encryption automatically if the server supports it, but it's failing at this point, probably because of a certificate failure. You're not running the latest PHPMailer (the first thing the guide says to check), and it happens that the later versions improve the reporting of TLS errors.\nYou can telnet because when you do that you're not using TLS. I suspect if you tried the openssl command in the guide, you'd see a certificate verification error.\nUltimately, fix your server's certificate, your PHP SSL config, or ask PHPMailer not to use automatic TLS ($mail->SMTPAutoTLS = false).. It's quite likely that the server isn't providing a required intermediate certificate, or your CA certs are out of date. See this answer for an example.. Thanks. It's really unclear what you're saying. If you want bounces to go somewhere other than the From address, set the Sender property.. You can't tell immediately (because bounces happen asynchronously, and could take up to a week), but you would use these settings:\n$mail->addAddress('info@abc.com');\n$mail->From = 'example@example.com';\n$mail->Sender = 'example2@example.com';. You will only receive bounces at that address when messages that fail after sending. If they fail immediately you should look at the return value from send(). It helps to look at the logs of your mail server, and what it shows when you set $mail->SMTPDebug = 2;.. Read what I said.. PHPMailer's involvement extends only as far as being able to set the header, which you're doing the right way. As for what to put into a References header, read this, and many similar docs. In short, when you reply, append the previous Message-ID header value wrapped in <> to the end of the References header (you can see it being done in your example).. Quoting is also left up to you. It's easy with plain text, but much more difficult with HTML message bodies.. Uh, those two times are the same, just presented differently. 19:17 is the same time as 7:19pm. There are many PHP projects and extensions (try IMAP) that can help you parse a message and extract that date from the header. When you format it for output, use functions like date().. No, no need to touch that. Turn the inbound message date into a Date object in PHP, then render it in whatever format you like for the message body. You don't need to worry about the headers (normally they're not shown directly), and they need to be in a fixed format to be compliant with RFCs.. Thanks.. So you didn't upload the SMTP class, and now you're surprised it can't find it? It might help if you read the readme file which tells you exactly which files you need.. And you don't need that class_exists call - in fact it's not doing what you think it is as it will trigger autoloading automatically the way you're calling it. Don't just make stuff up and hope it works!. Sorry, no. Setting ssl with port 25 is pretty much guaranteed to fail, and undermines this being a minimal SMTP example.. No. There are plenty of other examples that demonstrate SMTPSecure, and PHPMailer will work with explicit TLS automatically anyway. SSL on port 465 has been deprecated since 1998, so we do not want to encourage it. There is no need to change this basic example to be compatible with your non-standard setup.. It's not worth adding a whole new example that's only 5 bytes different, especially when it's already covered extensively in documentation.. Given that your PHP script itself is always succeeding, the problem must be further upstream; in short, you need to look at your mail server logs.. Welcome to the weird world of email! You may not have access to mail server logs if you're on shared hosting. That's one of the downsides of not having full access to your server. There's not a lot you can do to diagnose problems like this that are one step removed from your scripts. Maybe ask your host for recent mail log output?. All those hours and you didn't read the troubleshooting guide or try using the provided Gmail example. Your ISP probably blocks outbound SMTP.. The best way to diagnose this is to use the OpenSSL s_client command to connect from each server and compare the differences. It could be something simple like your prod instance being redirected to an ISPs server, causing a name mismatch.. DNS lookups are broken on your server. Fix that and PHPMailer will be able to work. . Is it perhaps that office365 access is blocked from Turkey? I know all kinds of things are getting blocked and I think they are implementing blocks like this using DNS. Check your DNS by using tools like dig and host on your server.. It means that your DNS is broken on your server. Fix that and PHPMailer will be able to work.. You need to show the rest of the SMTP transcript.. This looks like a firewall issue. What happens if you telnet to port 587 from your hostgator server?. You didn't give any information about these locations or the code you're running. It looks like wherever your code is running for the second URL, outbound SMTP is blocked, so read the troubleshooting guide it links to.. Because PHPMailer 5.x is compatible with older PHP versions that don't support namespaces. You need to look at the 6.0 branch, which does use a namespace, and will be released soon. That said, you can use a class from the global namespace anyway, so there's no reason you can't make it work without it having its own namespace.. This exact symptom and possible solutions are covered in the troubleshooting guide the error message links to, and also by many results when you search for the terms on Stack Overflow.\nIn short, your TLS support in PHP is broken, for one of several reasons.. You've already got perfectly good code. That's not where the problem is - it's either a problem with the configuration of your PHP itself, or the network your server is on.. You've already got perfectly good code. That's not where the problem is - it's either a problem with the configuration of your PHP itself, or the network your server is on.. I have no idea, but if you go through the guide and do the tests it suggests, you can figure out what's wrong. I can't do it for you.. I have no idea, but if you go through the guide and do the tests it suggests, you can figure out what's wrong. I can't do it for you.. Yes, plenty. They are all written down in the troubleshooting guide.. Yes, plenty. They are all written down in the troubleshooting guide.. Post the results of your tests here so we can see that you have openssl enabled, that your certs check out, that your openssl tests produce the expected results etc.. Post the results of your tests here so we can see that you have openssl enabled, that your certs check out, that your openssl tests produce the expected results etc.. Right, so that test shows that your network is ok, but your SSL config in PHP is broken. Fix it and PHPMailer will be able to work; this is not a PHPMailer problem.. Right, so that test shows that your network is ok, but your SSL config in PHP is broken. Fix it and PHPMailer will be able to work; this is not a PHPMailer problem.. You should not need to do that, especially if you're using gmail, because google does not publish unverifiable certificates. If you need to do that, it means someone is interfering with your traffic, probably your ISP, or your PHP instance is misconfigured.. You should not need to do that, especially if you're using gmail, because google does not publish unverifiable certificates. If you need to do that, it means someone is interfering with your traffic, probably your ISP, or your PHP instance is misconfigured.. You're doing everything right, but unfortunately passing SPF and DKIM checks gives no guarantee that your messages won't be classified as spam. If there was an easy way to guarantee inbox placement, spammers would use it and render it useless. Check the headers of your received messages - they may contain some clue as to what they didn't like. It's common for messages from a new source to be classified as spam regardless, and it can take months of recipient engagement to make it to the inbox.. You're doing everything right, but unfortunately passing SPF and DKIM checks gives no guarantee that your messages won't be classified as spam. If there was an easy way to guarantee inbox placement, spammers would use it and render it useless. Check the headers of your received messages - they may contain some clue as to what they didn't like. It's common for messages from a new source to be classified as spam regardless, and it can take months of recipient engagement to make it to the inbox.. You have SMTPSecure = 'tls' with Port = 465; that won't work. Set Port = 587. This is one of the first things covered in the troubleshooting guide that the error links to; It would have been faster for you to read that than ask this question, which is why the link is provided.. You have SMTPSecure = 'tls' with Port = 465; that won't work. Set Port = 587. This is one of the first things covered in the troubleshooting guide that the error links to; It would have been faster for you to read that than ask this question, which is why the link is provided.. So do all the other tests. It's impossible to tell what you're doing as your code formatting is such a mess - please learn how to use it.. So do all the other tests. It's impossible to tell what you're doing as your code formatting is such a mess - please learn how to use it.. Someone is using PHPMailer, much as they could abuse Gmail or outlook on the same way. The sending has nothing to do with GitHub.\nWhat you're seeing is called backscatter, and you can fix it by implementing SPF for your domain. There's nothing we can do about it.. @seuns-0kiki0lu This is a very broad problem better answered on Stack Overflow and similar sites. There are many things besides your code that need to be right for email - DNS, the addresses you use, SPF, your previous sending reputation, etc, and even when you do everything perfectly, many major ISPs will put you in the spam folder anyway. If there was an easy way to guarantee inbox placement, spammers would abuse it and it would be useless.. GoDaddy is pretty much a worst-case scenario for sending email, so I would not start there. I directed you to places like stack overflow because you are asking a very general question. This place is for reporting bugs in PHPMailer, not chatting about the wider problems of sending email. There's nothing wrong with your code, but as you are discovering, there is more to email than getting your code right.. Unfortunately this is a necessary measure. The reason it was added is because there are many RFC-compliant email addresses that are also functional attack strings (see CVE-2016-10045). The results of PHP's escaping can't really be trusted in the mail() function because locale behaviour is so unpredictable, and in many cases undefined. There is a simple workaround though - don't send using mail(), use SMTP to localhost instead. Since mail() requires a local mail server anyway, this imposes no additional config, and it's also faster, more efficient, and provides better feedback, and avoids the draconian measures inherent in isShellSafe(). If your server works with mail(), then it should also work with $mail->isSMTP();.. Unfortunately this is a necessary measure. The reason it was added is because there are many RFC-compliant email addresses that are also functional attack strings (see CVE-2016-10045). The results of PHP's escaping can't really be trusted in the mail() function because locale behaviour is so unpredictable, and in many cases undefined. There is a simple workaround though - don't send using mail(), use SMTP to localhost instead. Since mail() requires a local mail server anyway, this imposes no additional config, and it's also faster, more efficient, and provides better feedback, and avoids the draconian measures inherent in isShellSafe(). If your server works with mail(), then it should also work with $mail->isSMTP();.. I double checked - If I run the same code:\n$shellcmd:\nstring(15) \"name@domain.com\"\n$shellarg:\nstring(17) \"'name@domain.com'\"\nThis is with PHP 7.1.6 on OS X. This is the kind of problem that escaping presents - it's very dependent on config and just doesn't always work predictably, or safely, so we have to be paranoid!. I double checked - If I run the same code:\n$shellcmd:\nstring(15) \"name@domain.com\"\n$shellarg:\nstring(17) \"'name@domain.com'\"\nThis is with PHP 7.1.6 on OS X. This is the kind of problem that escaping presents - it's very dependent on config and just doesn't always work predictably, or safely, so we have to be paranoid!. I'm not saying that everyone should update to PHP 7, just that different environments will produce different results, which is exactly what you're seeing - it may be that someone running 5.5.9 on Ubuntu in a different language might have entirely different results, and you may be able to fix your particular config by altering your locale settings in your php.ini. To do this safely requires complete comprehension of the entire shell locale (which is probably why escapeshellcmd's behaviour is different in your env), and it's simply impossible to do safely because we can't control (or even see) how mail() behaves internally. isShellSafe simply asks \"is this string likely to need any escaping whatsoever according to PHP's own escaping functions?\", and the slightest hint that it might is grounds for rejection. While it might be causing some inconvenience, it's simply not safe to follow any other path. PHP's mail function does not provide enough protection to permit using the additional params parameter on the mail function safely - it even says as much in the PHP docs.\nYou are of course free to override the method in your use of it to loosen this protection (why it's protected), but it's not something we're going to backtrack on in here, and it's a serious security compromise.. I'm not saying that everyone should update to PHP 7, just that different environments will produce different results, which is exactly what you're seeing - it may be that someone running 5.5.9 on Ubuntu in a different language might have entirely different results, and you may be able to fix your particular config by altering your locale settings in your php.ini. To do this safely requires complete comprehension of the entire shell locale (which is probably why escapeshellcmd's behaviour is different in your env), and it's simply impossible to do safely because we can't control (or even see) how mail() behaves internally. isShellSafe simply asks \"is this string likely to need any escaping whatsoever according to PHP's own escaping functions?\", and the slightest hint that it might is grounds for rejection. While it might be causing some inconvenience, it's simply not safe to follow any other path. PHP's mail function does not provide enough protection to permit using the additional params parameter on the mail function safely - it even says as much in the PHP docs.\nYou are of course free to override the method in your use of it to loosen this protection (why it's protected), but it's not something we're going to backtrack on in here, and it's a serious security compromise.. For deeper info, I recommend reading this. For deeper info, I recommend reading this. This is a very nicely presented PR, however, I'm not sure it is worth incorporating into PHPMailer. If you want this functionality, it would be best implemented as a subclass, which you can maintain outside of PHPMailer without sacrificing the ability to upgrade. I don't really want to encourage the use of sendmail like this - if you need to send asynchronously, use a separate process and send with SMTP to localhost. By pushing this responsibility into sendmail, you're making obtaining error feedback much more difficult.\nAlso, I really don't want to accept new features into the 5.2 branch. It needs to be deprecated in favour of 6.0 as it is!. I don't think there's much point in unifying these. They are sufficiently different that there's little to be gained, and it's probably risky to try to make them act the same. I wouldn't recommend either the mail() nor sendmail transports. If you're doing anything serious, you should be using SMTP, and if you want asynchronous operations, you should be using separate PHP processes to manage it. I have no trouble sending around 700,000 messages/hour using this approach.. You're just not doing any filtering on page accesses - any bot or scanner visiting your page will cause it to send a message. Check that you're actually handling a form submission before trying to send, for example with if (array_key_exists('message', $_POST)) {....\nYou're also using an old version of PHPMailer - the code you posted will not work with any version form the last couple of years.. This is probably because gmail doesn't know what type the file is because it depends on the uploaded filename. Try setting the attachment MIME type directly in the call to addAttachment():\n$mail->addAttachment($uploadfile, 'My uploaded file', 'base64', 'image/jpeg');\n\nThis is done automatically if the file's name has a usable extension (i.e. not just \"My uploaded file\").. Can you provide test cases to show what this fixes please?. I've had more of a look at this: removing that : will break IPv6 literals, which is why it's there along with [ and ]. The match is not terribly thorough, but it's not meant to be.. @eros23 You should find this is fixed now, and released as 5.2.24. I changed it to check for IPv6 separately.. It's quite likely that it's objecting to your reverse DNS entry not matching, for example you connect from an IP and say EHLO domainname.com, the receiving server does a reverse lookup on that and finds www.domainname.com, which isn't an exact match, and so it complains/rejects. It's not an SMTP spec contravention, but it is common anti-spam, anti-forgery practice.\nPHPMailer will derive the SMTP envelope sender address from the From address by default, but you can override that using the Hostname property (not the same thing as Host), for example:\n$mail->From = 'user@domainname.com';\n$mail->Hostname = 'www.domainname.com';\n\n. If you use an IP address for Host, you will get errors if you try to use encryption because the certificate names will never match. You can work around that by disabling verification. That said, if you're sending on your LAN, you don't really need encryption anyway, probably no auth either.. Can you give me some guidance on what to do with this please - I don't read Chinese. Is this a correction to an existing translation file or a whole new one? . It's very unlikely that TLS on port 25 will work for outbound mail; use port 587 like the office 365 docs suggest.. There's no \"forcing\" required, just set it before you use it:\n$mail->CharSet = 'UTF-8';\n\nIf you want to have it do this all the time, just create a subclass that sets it by default and always use that subclass:\nphp\nclass myPHPMailer extends PHPMailer\n{\n    public CharSet = 'UTF=8';\n}\nYou should not edit the library files themselves as it will break your code when you update the library.. It's not SPF because you're not getting as far as sending. DNS problems would probably be causing connection failures or timeouts, but it could be reverse DNS setup. You're connecting from an IP, and it's normal for the server to do a reverse lookup on your IP and check that it matches what you say in EHLO - which is going to fail for whichever of your servers don't match. That said, I'd expect this to fail earlier in the process if that was the problem. I suggest checking what it says in your mail server logs, as it may show more detail, and if necessary, increase the mail server's log level to show more info.. You can, but only if the carrier you're sending to has an email to SMS gateway, and they are generally not reliable or consistent. You're better off using an SMS provider directly, such as Clickatell. . That's another facet of the problem - you need to know the gateway address for every carrier you want to use. As I said, it's not consistent or reliable.. Set $mail->SMTPDebug = 2; and look at what it says; post the output here if it's not obvious what the problem is.. Well, that's the server saying it doesn't like your id or password. Given it works with your other IDs, I'm inclined to believe it.. Without your actual credentials I can't test it. If you base64-decode the credentials in the SMTP transcript (that you edited out) you will be able to see what is actually being sent. Beyond that, if you're sending the right creds and the server is rejecting it, it's not the client script's problem. Check your mail server's logs to confirm why it's rejecting it, turn up logging verbosity on it if it doesn't say enough.. You'll have to check the server logs to be sure - you can probably get PEAR mail to show you an SMTP transcript too, then you can compare them.. Is PEAR mail sending via the mail function? If so, it would not be using any auth.. See my answer to #1104. To handle delivery errors properly, you should also implement a bounce handler, though that's not something that PHPMailer can help with.. If you look at the examples provided with PHPMailer, you'll see that they all check for errors when sending, like this:\nphp\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\nYou can look at ErrorInfo to see what the problem is. You can also check for validity of the email address they provide by looking at the return value from addAddress():\nphp\nif (!$mail->addAddress($email)) {\n    echo 'Invalid email address';\n    exit;\n}\nBase your code on the gmail example provided with PHPMailer - it looks like you've used a very old version.. Here's a whole folder full of examples.. I have no chance of telling you what's wrong from the information you've given. Please read the documentation.. This code makes very little sense. None of the code after isMail() will do anything at all, as those settings only apply to SMTP. Please read the documentation, which contains some specific information about GoDaddy.. Like the documentation says, you need to read your mail server logs to find out why messages are being rejected; When sending via mail() you can't tell what the problem is.. Blaming PHP isn't going to help you if you can't be bothered to even read the error message right in front of you:\nPlease log in via your web browser and\n534-5.7.14 then try again.\n534-5.7.14 Learn more at\n534 5.7.14 https://support.google.com/mail/answer/78754 w7sm23591357pfw.25 - smtp. Contact gmail or check their docs - it's their policy that's keeping you out, not your script. You could try using OAuth rather than passwords, though make sure you use the PHPMailer 6.0 branch for that, and read the project wiki. It's horribly complicated to set up (because it's OAuth), but has fewer constraints at gmail's end.. Do what it says in the guide - do the display unlock captcha thing. This is a gmail problem, not a PHPMailer problem.. You need to determine if your messages are not arriving or not being sent - there's a big difference. You also need to provide more detail - base your code on the examples provided, follow the troubleshooting guide, read your mail server logs.. I don't know - perhaps you should sign with DKIM?. That just says your id and password are not correct. If you are not expecting to connect to arisvr1.adwhm1.com, then you could be being redirected to an ISP's server, where your credentials won't work.. You didn't read what I said: So you're trying to connect to gmail (which should be using the smtp.gmail.com hostname), but you're actually connecting to arisvr1.adwhm1.com instead (I assume your ISP). Your ISP is redirecting you - they are blocking access to external SMTP. I'd also guess that you are suppressing SSL validation, otherwise it would have refused to connect; don't do that.. What do you mean by \"switch\"? If gmail thinks you're spoofing messages, you probably are. Can you post your code?. You are spoofing the From address:\nphp\n$emailusuario     = $_POST['email'];\n$email->From     = $emailusuario;\nDo it like the contact form example shows.. The switch has nothing to do with it. Spoofing only applies to the From address.. You need to define exactly how it doesn't work. I can't guess. You have a whole bunch of odd things in this script - You're not setting a message Body, you're not using the $modalidade variable, you're not validating any of your inputs. The is all basic, simple PHP stuff you need to fix before you can expect more complex things to work.. You need to define exactly how it doesn't work. I can't guess. You have a whole bunch of odd things in this script - You're not setting a message Body, you're not using the $modalidade variable, you're not validating any of your inputs. The is all basic, simple PHP stuff you need to fix before you can expect more complex things to work.. That looks better, but you're still sending an empty message body, and you're not showing any kind of error message if the email address is invalid (i.e. addReplyTo returns false).. That looks better, but you're still sending an empty message body, and you're not showing any kind of error message if the email address is invalid (i.e. addReplyTo returns false).. I suggest putting a valid (i.e. within your domain) but non-responding address in the From address, like \"noreply@...\":\n$mail->setFrom('noreply@example.com', 'First Last')\n\nThat should be all you need. The reply-to addresses will mean that your directors can simply reply to messages and they will go to submitters.\nOther little things - You're not validating $_POST['desportos'], and you have no default case so your switch may not succeed in setting those vars. You're overwriting Subject and Body after you set them, but that may be just for this ticket :). I suggest putting a valid (i.e. within your domain) but non-responding address in the From address, like \"noreply@...\":\n$mail->setFrom('noreply@example.com', 'First Last')\n\nThat should be all you need. The reply-to addresses will mean that your directors can simply reply to messages and they will go to submitters.\nOther little things - You're not validating $_POST['desportos'], and you have no default case so your switch may not succeed in setting those vars. You're overwriting Subject and Body after you set them, but that may be just for this ticket :). Ah, you didn't say you were sending through gmail - gmail doesn't allow sending from arbitrary addresses, though you can preset fixed aliases. This is mentioned in the troubleshooting guide.\nI saw where desportos comes from, but that doesn't mean you should not be validating it - attackers don't care that you used a select - it makes no difference to how values are submitted to your script. Always validate, and if you get invalid values, reject the entire request, don't try to continue.. Ah, you didn't say you were sending through gmail - gmail doesn't allow sending from arbitrary addresses, though you can preset fixed aliases. This is mentioned in the troubleshooting guide.\nI saw where desportos comes from, but that doesn't mean you should not be validating it - attackers don't care that you used a select - it makes no difference to how values are submitted to your script. Always validate, and if you get invalid values, reject the entire request, don't try to continue.. I don't know what problem you have now. Gmail won't let you spoof your from address; Nothing you put in your code will change that.\nSimple validation of the property would be to add a default case which will only be used if none of the expected values match, for example:\nphp\ndefault:\n  exit('Invalid option submitted');. I don't know what problem you have now. Gmail won't let you spoof your from address; Nothing you put in your code will change that.\nSimple validation of the property would be to add a default case which will only be used if none of the expected values match, for example:\nphp\ndefault:\n  exit('Invalid option submitted');. Yes - you're using it to switch between several different options for who to the send the message to and what subject line to use. But that has absolutely nothing to do with spoofing, and my point about validation was more about general coding technique, not as a spoofing solution. . Yes - you're using it to switch between several different options for who to the send the message to and what subject line to use. But that has absolutely nothing to do with spoofing, and my point about validation was more about general coding technique, not as a spoofing solution. . No, because you're still using the user-submitted email address as the from address, which is straightforward forgery and won't work, as I said in my first response.. No, because you're still using the user-submitted email address as the from address, which is straightforward forgery and won't work, as I said in my first response.. As I said before you're spoofing your from address and gmail won't allow that. It's nothing to do with your code, you've failed to say exactly how any of this has failed at all, and you've not shown a single error. It makes it very difficult to help you. Nobody will be able to help you find a solution if all you say is \"it doesn't work\".. As I said before you're spoofing your from address and gmail won't allow that. It's nothing to do with your code, you've failed to say exactly how any of this has failed at all, and you've not shown a single error. It makes it very difficult to help you. Nobody will be able to help you find a solution if all you say is \"it doesn't work\".. This is basic PHP debugging - check your web server logs, where it will give you a proper error message from PHP - probably a syntax error. If you don't have access to that, set display_errors = true in your php.ini.. This is basic PHP debugging - check your web server logs, where it will give you a proper error message from PHP - probably a syntax error. If you don't have access to that, set display_errors = true in your php.ini.. Sorry, I don't have time to offer a free debugging service. I suggest you run PHP on your local computer where you don't have such limits - it's a better way to develop anyway. Otherwise, given that your ISP is making things difficult for you, I'd recommend you go back to a simple script and change one thing at a time.. Sorry, I don't have time to offer a free debugging service. I suggest you run PHP on your local computer where you don't have such limits - it's a better way to develop anyway. Otherwise, given that your ISP is making things difficult for you, I'd recommend you go back to a simple script and change one thing at a time.. OK, so do what the guide says and set $mail->SMTPDebug = 2;; then you will be able to see what the mail server is saying.. Like it says, you need to authenticate to send through gmail - look at how to do that in the gmail example provided with PHPMailer.. Yes, you need to read the error message and do what it says.. Gmail doesn't like you authenticating in new ways, wants to be sure it's really you.. $mail->setFrom('user@example.com') and $mail->From = 'user@example.com' are simply two ways of setting the from address, there is no difference in outcome. The only difference is that if you provide an invalid address, setFrom will return false immediately, so you don't have to wait until you send to find out it's invalid.\nAn email message can have several addresses associated with it - the from address (who sent it), the to address (where it's going), and it can also have a reply-to address (you can actually have more than 1), which is where replies should go. If you don't provide a reply-to address, replies will go to the from address.\nIf you want a reply to go somewhere that you don't have rights to send from, you can send the mail from yourself, but put a different address in reply-to, which will mostly achieve the same thing as sending from the other address. It used to be common to forge/spoof the from address, but it was exploited so much by spammers and phishing that it was blocked by almost everyone and resulted in SPF, which provides checking of email sources for a domain.\nThere is also another address called the envelope sender. This is not used directly in message headers, but at the SMTP level as part of the MAIL FROM command. Usually this is set to the same address as the From address, but there are some circumstances where you might want to control this separately (e.g. bounce routing), and PHPMailer lets you set that. The server that receives a message takes this address and adds it to your received message as a return-path header, and if a message delivery fails, this is where the message is sent. You shouldn't need to worry about this address though.. Regarde la sequence ici:\n2018-03-13 20:59:47 CLIENT -> SERVER: STARTTLS\n2018-03-13 20:59:47 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nSMTP Error: Could not connect to SMTP host.\nLa faute est imm\u00e9diatement apr\u00e8s STARTTLS, avant authentication, donc c'est probablement votre certificates des CAs - lire la troubleshooting guide pour les remplacer.. La deuxi\u00e8me. Essayer les tests dans la guide pour verifier.. Pour \u00e9liminer les autre probl\u00e8mes, t\u00e9l\u00e9charger le bundle CA et essayer \u00e0 connecter avec \u00e7a:\necho QUIT | openssl s_client -crlf -starttls smtp -CAfile /etc/ssl/cacert.pem -connect smtp.atleticaunisal.com.br:587\n\nSi cela fonctionne, vous savez que le bundle CA est le probl\u00e8me, vous pouvez donc mettre \u00e0 jour votre fichier PHP.ini pour l'utiliser, or essayer le package Certainty.. You have to actually run the Certainty code, it's not magic! I did suggest trying the manual download first.. The guide tells you how to get that.. It's not that complicated - you download the CA cert file, then alter your php.ini to point at it - that's it.. It doesn't matter how you get the CA file - they are the same either way. Certainty means you get control of it from inside your app rather than in your system config.\n\nThe problem is that php.ini is local and other users (visitors) do not have that configured php.ini and can fail to send the form contact. I do not know if I can add php.ini to the web site server.\n\nWhat? No. php.ini files live on your server, and as the server owner, you should be able to access them and alter the settings in there. Visitors have no access to php.ini. There will already be one there, because PHP ships with one as standard.\nThere is another alternative: You can provide a path to a CA cert file in the SMTPOptions property:\n$mail->SMTPOptions = [\n    'ssl' => [\n        'verify_peer' => true,\n        'verify_peer_name' => true,\n        'allow_self_signed' => false,\n        'cafile' => '/path/to/cacert.pem'\n    ]\n];\n\nThat will only fix that specific usage of PHPMailer, whereas fixing it in php.ini or the system will fix it for all PHP scripts or the entire system respectively.. cafile, just like the ssl options in my last post and also as documented in the guide.. You shouldn't need to update your CA certs very often - they don't change that frequently - doing it inline with every email send is excessive. As I said before, it doesn't matter how you get hold of your CA certs. Either of those openssl php.ini settings should work; the second one is perhaps more likely to stay working if you download more certificates in future and put them in the same folder.. I don't think that explains it - if you get your own local copy of the CA certs and use it in your PHP ssl config (and you confirm that it actually works by running phpinfo()), as discussed above, then it's not using the server's default CA certs to validate the response.. The troubleshooting guide suggests using openssl to test ssl issues, and if I do that:\nopenssl s_client -starttls smtp -connect mail.vallauris.fr:587\nI get:\nCONNECTED(00000003)\ndepth=0 C = FR, ST = PACA, L = Vallauris, O = Mairie Vallauris, OU = IT, CN = mail.vallauris.fr\nverify error:num=20:unable to get local issuer certificate\nverify return:1\ndepth=0 C = FR, ST = PACA, L = Vallauris, O = Mairie Vallauris, OU = IT, CN = mail.vallauris.fr\nverify error:num=21:unable to verify the first certificate\nverify return:1\nThat means this mail server's certificate is not signed by a common default CA, and it does not provide an intermediate certificate to link it to one. Short version: your mail server's certificate is not valid. I suggest you ask your ISP for support on this, or as a last resort (which, given they're making you use an ancient and buggy version of PHP, you may need), disable certificate verification - see the guide in the wiki for how to do that.. The troubleshooting guide suggests using openssl to test ssl issues, and if I do that:\nopenssl s_client -starttls smtp -connect mail.vallauris.fr:587\nI get:\nCONNECTED(00000003)\ndepth=0 C = FR, ST = PACA, L = Vallauris, O = Mairie Vallauris, OU = IT, CN = mail.vallauris.fr\nverify error:num=20:unable to get local issuer certificate\nverify return:1\ndepth=0 C = FR, ST = PACA, L = Vallauris, O = Mairie Vallauris, OU = IT, CN = mail.vallauris.fr\nverify error:num=21:unable to verify the first certificate\nverify return:1\nThat means this mail server's certificate is not signed by a common default CA, and it does not provide an intermediate certificate to link it to one. Short version: your mail server's certificate is not valid. I suggest you ask your ISP for support on this, or as a last resort (which, given they're making you use an ancient and buggy version of PHP, you may need), disable certificate verification - see the guide in the wiki for how to do that.. You're using addAttachment entirely wrong! It's a method that expects to be passed a string containing a path to a file. It's not a string property that you can append random stuff to. Take a look at the send_file_upload example provided with PHPMailer, and read the docs on the addAttachment method (link to docs is on the project home page & readme file). Like this:\n$mail->addAttachment('/path/to/file');. You're using `addAttachment` entirely wrong! It's a method that expects to be passed a string containing a path to a file. It's not a string property that you can append random stuff to. Take a look at the [send_file_upload example](https://github.com/PHPMailer/PHPMailer/blob/master/examples/send_file_upload.phps) provided with PHPMailer, and read the docs on the `addAttachment` method (link to docs is on the project home page & readme file). Like this:\n\n$mail->addAttachment('/path/to/file');. There's a simpler solution - use the name that the mail server says. In this case it seems to be expecting `smtp.domain.uk`, so connect to that - presumably that name will resolve to the external IP of the same server. You'll never make localhost match your cert; I don't think that's anything to do with SAN support - you've not given that a chance to work in these tests.. Do you know why access to your mail server is blocked? It's common for ISPs to do that, but they usually provide a workaround.\n\nIf you connect to a server while calling it localhost, it will not match a cert because it's extremely unlikely that a cert will contain that name as either a CN or a SAN name, but your suggestion is a reasonable workaround. I don't think there is anything odd going on here at all - a better solution would be to figure out why/how you're being blocked.\nIncidentally, CNs have been deprecated in favour of SANs for a long time - support for them was removed from Chrome altogether in April 2017.. > Access to the mail server doesn't appear to be blocked in any regard via ports 25,465,587.\nThis looks like a block of some kind as it's happening long before any TLS or SMTP activity:\nThis returned the following output:\n[29-Jul-2017 23:10:43 UTC] Connection: opening to smtp.domain.uk:587, timeout=300, options=array (\n)\n[29-Jul-2017 23:10:44 UTC] Connection: Failed to connect to server. Error number 2. \"Error notice: stream_socket_client(): unable to connect to smtp.domain.uk:587 (Connection refused)\nIt's curious that you can get out with openssl directly - this could be down to apparmor / SELinux restrictions on PHP if you're running those\nYou're on AWS, which is a little picky about outbound SMTP - they want you to use their SES service.. It does look like a limitation of your mail server, not anything that you're doing.. It's unlikely to be a server issue, far more likely to be a network issue. If you follow the troubleshooting guide, it will allow you to diagnose where the problem is.. Did you try doing what it said?\n\nPlease log in via your web browser and then try again. Learn more at https://support.google.com/mail/answer/78754 . This is a common problem that has nothing to do with the code; it's just gmail's policy, and this question has come up here and on Stack Overflow many times: when gmail sees you use a new authentication mechanism, it wants to be sure it's you.\n\nPHPMailer can act as a wrapper around mail() (in fact it does so by default). Calling mail() yourself is generally a very bad idea.. No it doesn't. It passes a message via a shell to a sendmail binary. That binary usually opens a synchronous SMTP connection to localhost, but that is entirely invisible to PHP. Sending via mail() is slower, less secure, and provides less feedback and control than sending via SMTP to localhost directly from PHPMailer. Either way, PHPMailer can act as the front-end, dealing with message construction and encoding, which mail() doesn't provide any help with at all.. The name SendAsDeniedException suggests that it doesn't like you sending as whatever from address you're using. Is it different from your Username?. You're using a from address that's different from your username, and that's what it's complaining about \u2013 so don't do that?. Are you calling addAddress()? Is it successful?. So you're not checking the return value like I asked?. addAddress is a function; check what it returns, don't just assume it works:\nif (!$mail->addAddress($to)) {\n    echo htmlspecialchars($to), ' is not a valid address';\n}. What?! Clearly whatever you're putting in $to is not an email address! This is all very basic PHP debugging, I can't hold your hand for every trivial problem like this, show some initiative!. You're passing in the user-submitted address:\n$mymail=smtpmailer(\"webdominar1@gmail.com\",$_POST['Email'], $_POST['Name'], $_POST['message']);\nThen using it as the From address:\n$mail->SetFrom($from, $from_name);\nThat's straightforward forgery/spoofing, and gmail will not allow it, and it will cause SPF failures even if it did. Base your code on the gmail example provided with PHPMailer, and read the comments in the code.. This is nice, but it has so much in common with the existing gmail example I think it would be better merged into that - that way things relating to gmail are all in one place.. Thanks. Why does it come as a surprise that asking it to send a message twice results in sending the message twice? Look at any of the code examples for the right way to check send status.. I know. Like I said - look at the way it's done in the examples and do it that way.. * http://php.net/docs.php\n* http://lmgtfy.com/?q=learn+javascript. Your code looks fine. Your URL (https://confirm.php) looks like it might be malformed? Did you edit out the domain for this issue? URLs in email must be absolute.\nAssuming you did, first check if it's a general block on links. Build a very simple body that contains a link to somewhere obviously benign, like:\nhtml\n<html>\n<head><title>Title</title></head>\n<body>\n    <a href=\"https://google.com\">Google</a>\n</body>\n</html>\nIf that works, you know there is not a general block on all links. If it doesn't work, complain to your ISP's support as that's a ridiculous restriction.\nNext replace the link URL with one of your own. If that is rejected, you know that it's links to your particular site it doesn't like.\nIf that does work, replace all the links in your big template with the google link. If that works, you know that they don't like your content, not just your links.\nKeep going like this until you figure out exactly what it doesn't like.. I suggest you contact your ISP - it's their filter that's doing this.. Can you post the rest of the headers before that point? What is in $email?. I can't tell if you don't show me exactly what's there! FWIW, I use the same thing in PHPMailer and have no trouble. What context are you viewing this in? It's not normal for anything with an email header to be displayed in an HTML context, that is, an RFC822 message is not valid HTML.. Just post it here, change your email addresses in it.. You have edited out the critical part!\n$mailer->AddCustomHeader(\"List-Unsubscribe: , \");\n\nIn your example message it looks like the email address you are appending to your unsubscribe URL contains line breaks. It's not a general problem with addCustomHeader because your Precedence header is not doing it. Try setting the value explicitly and compare the result:\n$mailer->AddCustomHeader(\"List-Unsubscribe: <mailto:support@rosresurs.net?subject=Unsubscribe>,<http://rosresurs.net/unsubscribe.php?email=kildishov.vladislav@gmail.com>');\n\nIf this produces a different result, then the problem is with the contents of $email. Also note that when an email address is inserted arbitrarily in a header like this, it does not get validated, so I suggest you trim and validate it manually first, for example:\n$email = trim($email);\nif (PHPMailer::validateAddress($email)) {\n    $mailer->AddCustomHeader(.... I prefer tokens because they can't be spoofed, but it shouldn't make any difference to the way this header is formatted.. Try it and see, no reason it shouldn't.. Just the same way, but specify the MIME type:\n\n$email->AddEmbeddedImage(\"imagens/icones/logo.svg\", \"logo\", \"logo.svg\", 'base64', 'image/svg+xml');\n\nIt's up to you to reference the cid in your HTML message body.. Yes, they are all correct.. Well as I said, whether SVGs are displayed depends on your mail client app. As far as I know, most do not render SVG, but see this question for more info - you may need to build it as an object tag as well.  Some email clients will display inline images as attachments as well as displaying them.. iOS Mail is known to have bugs involving multiple attachments.. You need to set up SPF, and ideally sign your messages with DKIM (which PHPMailer can do). See Google's notes on the subject.. In this case your postfix server is not providing a message ID, so PHPMailer can't extract one. As the docs say:\n\nIf no reply has been received yet, it will return null.\nIf no pattern has been matched, it will return false.\n\nYou'll need to read postfix documentation to figure out why your server isn't emitting queue IDs here.. I wrote a reply earlier but a power failure lost it...\nI know it's not a message ID - I just used the wrong term in that last comment, however, getLastTransactionID does retrieve the last queue/transaction ID and not the message ID. The problem is that when you have SMTPKeepAlive set, PHPMailer sends a RSET command after the DATA command, and this means that the reply to the DATA command is lost in favour of the reply to RSET. I've made a fix in the 6.0 branch - can you give it a try?. Please make sure you're running the latest version, base your code on the examples provided, and read the documentation (which covers this exact error).. That's not a syntax error. It's a variable variable.. Very probably - I'm using them in a few places, but I can't tell if you don't give me a reference.. Yes, it's intentional. While it's not very pretty, $current is used in several places in that function. It's like pointer dereferencing in C - it's not $current itself we are interested in, it's the the thing that $current points at. When $current == 'from_header', $$current is $from_header. It might help to think of it like $($current). I gave a docs link in my first comment.. Thanks. You can do that, but if you want SMTP-level logging, set SMTPDebug = 2 and then look at what you can do with the Debugoutput property: set it to a function that formats and logs the output however you like.. This is really too vague a question - this is a place to report bugs in PHPMailer, not learn PHP. Generally speaking, you need to break down your problem into small pieces, make each part work by itself, then join them together. Creating a button on a web page is one thing; getting it to submit to a PHP script is another; accepting and identifying that request is another; using the data in it is another; and so on. Trying to do everything in one go just makes it all confusing. When you ask questions, you need to extract the single, identifiable thing that you don't understand - but the process of doing that will often help you find what the problem is anyway.. Alarm bells start ringing about here:\n$mail=new PHPMailer(\"class.phpmailer.php\");\n\nPlease - base your code on the examples provided and you'll avoid making silly mistakes like this. You can't just write random code and expect it to work.\nYou probably noticed that SMTPDebug = 4 is inappropriately verbose and hard to read for problems like this (2 would be appropriate), however, you can make out in that transcript that the send is successful, and therefore any delivery issues are happening later on in the chain, so you need to check your mail server logs.. It sounds like this has nothing to do with PHPMailer - you should talk to Yahoo support.. If you follow the link to the troubleshooting guide it will help you figure out where the problem is. It's most likely to be that outbound SMTP is blocked by your ISP.. @hasibkamal The same thing applies to you. Reposting the same thing isn't going to help - you need to read the docs and do what they say. It's most likely your ISP blocks outbound SMTP.. This is a Gmail problem, nothing to do with your code or PHPMailer - you need to follow the link they provide and do what it says. There is more info in the PHPMailer troubleshooting guide that the error message links you to.. Please don't post comments on closed, unrelated issues.\nYou have two mistakes in your config - you mistyped tls as tsl, and you should be using port 587 for TLS, not 465. Both of those things are covered in the troubleshooting guide that the error links to, and demonstrated in the gmail example provided with PHPMailer. I don't know how it could be made any clearer.. So how about you do what it suggests and read the troubleshooting guide?. Please read the troubleshooting guide.. Those are equivalent to the settings that are suggested in the gmail example.. @poojakhatri No, that makes no difference - PHP is case-sensitive for variables and properties, but not functions and methods, and it is isSMTP in the PHPMailer class.. Read the docs your error message links to. You\u2019re trying to use tls mode on port 465, and you\u2019re using an old version.. This is really a bug in PHPStorm, which should not be putting an arbitrary string in a property meant to contain a valid host name, and you can work around it by setting Hostname explicitly.. Thanks. Ah, dang, thanks!. Thanks. I can't see from this what host you're sending through, but whatever it is, it will be in the mail server logs on there - PHPMailer's involvement ends after submitting the message.. Your messages should not just vanish - they will be sent somewhere and either bounce or report back an immediate error, which will be logged somewhere. There are no \"magical\" headers that will prevent messages being classified as spam (if there were, spammers would abuse them). You can look into DKIM which can help a bit, but that's entirely optional, and there's no guarantee it will help.. I've no evidence to work with - provide me with an SMTP transcript from successful direct delivery to a me.com address that then does not appear in an account and we might be able to get somewhere.\n\nSomething needs to be looked into\n\nThis is open source. Get on with it then.. From which server?. PHPMailer's SMTP debug log will do fine if you try delivering directly to a me.com MX, like mx1.mail.icloud.com, assuming your network allows you to connect to it and your domain's SPF allows you to send from wherever you're sending from. That way you don't need to get intermediate logs.. You'll be glad to hear that not only have I managed to reproduce this, I also tracked down why it happens - It's a bug in iCloud. I will push a workaround tomorrow.. This fix was released as part of 6.0.1 today, please give it a try.. Reply-to is optional anyway (because replies go to the From address by default), so this isn't really a PHPMailer question, it's about validating the data you're going to pass into it before you use it, for example:\nphp\nif (empty($emailaddress)) {\n  exit(\"Email address missing\");\n} else {\n  if (!$mail->addReplyTo($emailaddress)) {\n    exit(\"Email address invalid\");\n  }\n}. vendor/autoload.php is something generated by composer, and is a very popular and standardised way of installing packages that you might want to use in a web app. It essentially replaces what the old PHPMailerAutoload.php script used to do in older versions of PHPMailer, but works for all packages, not just PHPMailer.\nThe basic idea is that you tell composer you want to use one or more packages, it goes and gets them, and builds an autoload script that means their classes are ready to use as soon as you want them. It generally eliminates all other uses of include/require in your app.\nFor PHPMailer classes, you can avoid having to use composer by loading the class files from src/ directly (this is mentioned in the readme), but as soon as your app grows beyond trivial examples it will rapidly get out of hand, unmaintainable, and slow; composer is the way to go, and nearly all common PHP packages use it.. Yes, you need to be using a version of PHP that supports namespaces, which means PHP 5.3 or later. Given that PHP 5.2 has been out of support for over 6 years, I'd recommend upgrading to 5.6 at the very least, and you need to be running at least 5.5 to run PHPMailer 6.0 anyway. See here for current PHP support windows.\nYou don't have to use use, it's just a way of making code a little clearer to work with; it imports namespaced classes into the current namespace, meaning you don't have to use fully-qualified class names everywhere, e.g.\nphp\nuse PHPMailer\\PHPMailer\\PHPMailer;\n$mail = new PHPMailer;\n$isvalid = PHPMailer::validateAddress($email);\nEquivalent code without use:\nphp\n$mail = new PHPMailer\\PHPMailer\\PHPMailer;\n$isvalid = PHPMailer\\PHPMailer\\PHPMailer::validateAddress($email);\nuse is also unrelated to require; use is for aliasing classes; require is for loading PHP files.. I don't know where you're connecting to, but it may be that your host blocks outbound SMTP to port 587, and redirects port 25 to their own servers. That would explain both the symptoms you're seeing. Diagnosing things like this is covered in the troubleshooting guide. I'd check your cert with the openssl s_client command mentioned in there.\nI don't know of any port number related bugs in PHPMailer - it's usually problems with the network & hosting, as PHPMailer doesn't  care what ports you use. Got a reference?. By default PHP itself will reject self-signed certs - the guide shows how to allow PHPMailer to accept them, though it's better not to do that. Letsencrypt certs are fine for email servers, no need to pay for one. If you set SMTPDebug = 3 it will show connection and TLS errors.. Validation of letsencrypt can be tricky for non-web things, but yes, you can just create a new host with that ServerName and give it its own root folder somewhere harmless - it only has to work during validation, but there's no particular harm in having it respond on port 80 - that won't interfere with you mail server. Probably easiest to set it up using webroot mode.. Don't worry - you can add vhosts without interfering with your existing site. The only time it might be an issue is if you already have a web service running under your mail server's host name, for example for webmail - I do that on my own domains.. Presumably that which is set via Username and Password properties. I can't tell without seeing your code or the rest of the SMTP transcript.. The server is only offering PLAIN authentication, so LOGIN won't work - set AuthType = 'PLAIN'. I removed your encoded id and password from that transcript.. It's case-sensitive.. You need to take this up with iCloud support - you're doing everything right that I can see. Perhaps double-check your mail server's logs to be sure. It may help to update your DNS so that your hostname resolves backwards as well as forwards. It's currently like this:\n```shell\nhost leonpedro.me\nleonpedro.me has address 66.70.177.148\nleonpedro.me mail is handled by 0 leonpedro.me.\nhost 66.70.177.148\n148.177.70.66.in-addr.arpa domain name pointer hades.e-novanet.mx.\n```\nYour SPF records looks OK.. There was a workaround for an iCloud bug released in 6.0.1 today - you might want to give that a try.. Indeed it doesn't, as stated in the changelog for 6.0. AuthType is there, but Realm and Workstation were removed. The implementation that was there was broken anyway because it was missing some dependencies. Bundling third party scripts is a very bad practice, and the script it used has not been updated since 2005.\nIf you need NTLM, I'd suggest you reimplement it in a subclass using a more up to date library - there are several on packagist.. Well at least they have had updates in the last year or so, vs the 12 years of the old phpclasses library! It's also true that it's probably not that complex - but there are likely bugs/changes in PHP itself over that kind of time frame that probably need taking into account. When I tried testing the old PHPMailer version I found that it didn't work anyway because it was missing a dependency - that single class file was just not sufficient for doing NTLM - it needed some other classes from the same project. That was also a key reason for removing it, on top of the overall \"bundling is bad\" policy.. Well this is exactly what the troubleshooting guide says it will do since PHP 5.6 changed the default to verifying certificates. While you can disable verification as you say, it's a really bad idea. A better solution is to connect to the mail server using its correct name, and then you will not have a name mismatch. If it's that the mail server is providing an invalid cert anyway, you need to fix your mail server.. Don\u2019t hijack old, closed threads, especially when the exact problem you describe is covered extensively in documentation you\u2019ve been pointed at several times.. If you comment out isSMTP, it will revert to its default which is sending via PHP's mail() function, which submits your message via a sendmail binary to your local mail server. This requires no network connectivity, and it's quite likely that your ISP blocks outbound SMTP. It doesn't help that you're not doing any error checking; base your code on the examples provided with PHPMailer and it will report errors correctly.. This is all covered in the troubleshooting guide. To get rid of that output, turn off debug output by setting SMTPDebug = 0;.. This is covered in the guide and wiki. It's not really any less secure, and PHPMailer is working just fine. If you want to use it without the \"less secure apps\" setting, you need to follow that guide in the wiki and add the oauth packages to your project, because otherwise you will not have the required oauth support. It is horrifically complex and unpleasant to work with, but that's just how oauth is.. What coding standard is this? I gather it's not PSR-2. I've had trouble with php-cs-fixer in the past suggesting changes that are actually breakages (it's used in scrutinizer), and I see there is one phpdoc mistake in the suggested diff (adds a . after a multiline code tag).\nCould you fix whatever is breaking the build.. I've fixed just about everything flagged. The few things left are annoying - php-cs-fixer and PHPStorm seem to have different definitions of Symfony's coding standard. php-cs-fixer's approach is the more annoying, imposing inconsistent spacing on param descriptions, and requiring an enormous number of blank lines in docblocks - this is one reason I've disliked Symfony's standard in the past. PHPStorm doesn't seem to format params with phpdoc nullable types, like ?string correctly.\nThere are a few of the examples with the trailing . problem I mentioned remaining - they are really pointless and would look silly, plus be prone to provoking copy/paste errors, so I'm really not keen on forcing them for the sake of an arbitrary standard. Here's an example of what it would result in:\n\nphp\necho 'hi';\n.\n\nAs you can see - just silly.. Hold on a sec! The intention is to accept your PR, and it's fully appreciated that you're contributing - however, since it needs to pass before committing, the things it's going to check need to be fixed beforehand, so that's what I started on. That way your PR will pass tests before merging, rather than after. This project already used PSR-2 as the coding standard, and nearly all the changes suggested by php-cs-fixer are for the Symfony standard; what's new is your config change to enforce the rules, which is very welcome.\nThe only thing that overlaps with your PR was the addition of the php-cs-fixer package in composer.json, which I'd added locally and committed by accident - I've pushed a reversion of that change, so it should apply cleanly again - if not, please rebase.\nThis is the code that caused the extra .:\n * <code>\n * $mail->Debugoutput = new myPsr3Logger;\n * </code>\n\nand this is the diff php-cs-fixer suggests, using your config file:\n@@ @@\n      * $mail->Debugoutput = new myPsr3Logger;\n-     * </code>\n+     * </code>.\nphpdoc used to recommend using code or pre tags in docblocks for inline code examples (why these tags are there), and it's simply inappropriate to add a trailing full stop after it. That said, phpdoc now recommends markdown instead, so I've converted the code tags to use that, which avoids the problem, though see below for a similar complication.\nFor some reason it's also suggesting an incorrect change for a namespaced class that is imported correctly, as far as I can see:\n@@ @@\n      *\n-     * @uses   SMTP\n+     * @uses   \\SMTP\nThere are some inappropriate capitalisation changes too:\n@@ @@\n      * @param string        $basedir  Absolute path to a base directory to prepend to relative paths to images\n-     * @param bool|callable $advanced Whether to use the internal HTML to text converter\n-     *                                or your own custom converter @see PHPMailer::html2text().\n+     * @param bool|callable $advanced whether to use the internal HTML to text converter\n+     *                                or your own custom converter @see PHPMailer::html2text()\nThis is flagged for the trailing ., which is fine, but it also makes a capitalisation change that's just wrong. Oddly, it doesn't suggest the same change on the previous line, which uses exactly the same capitalisation pattern. I think that's a bug.\nIt doesn't accept a : as an end of sentence marker, and suggests an inappropriate fix:\n@@ @@\n      * By default PHPMailer will use `echo` if run from a `cli` or `cli-server` SAPI, `html` otherwise.\n-     * Alternatively, you can provide a callable expecting two params: a message string and the debug level:\n+     * Alternatively, you can provide a callable expecting two params: a message string and the debug level:.\nYou can't resolve that one by removing the blank line before the code block as it will fail to render the markdown, and it then suggests a trailing ```. as a fix - which is back to the same problem that the code tag had. I think this is a bug too.\nI absolutely agree that code style should be enforced - but it's a bit pointless if the enforcement mechanism introduces errors of its own.. Can you explain what the difference is between the php versioning and the matrix approach?\nThat \\SMTP fix still seems buggy to me - it doesn't flag the same thing for Exception used elsewhere, and that is especially important since that name is in both global and local namespaces. If I set it to PHPMailer\\PHPMailer\\SMTP, PHPStorm actually flags it as an error because it knows it's already in the PHPMailer\\PHPMailer namespace, so it would be referring to PHPMailer\\PHPMailer\\PHPMailer\\PHPMailer\\SMTP! I would understand better if it was suggesting \\PHPMailer\\PHPMailer\\SMTP (with a leading \\) if it wants unambiguous FQCNs.\nI agree about the param label indenting being out - that's a difference between php-cs and PHPStorm for the Symfony standard - I'll report that as a bug in PHPStorm. It seems to be different when some params are missing labels - it only makes the params that have descriptions line up, and ignores the length of param names that don't have descriptions (i.e. it doesn't consider hypothetical descriptions). I'm not that keen on adding all that white space anyway - it leads to silly line wrapping if you have a short line length limit and long var names, making things distinctly less readable when you're looking at the code, and it makes no difference to rendered phpdoc output.\nI'm familiar with committing composer.lock for projects to ensure compatibility, but as you say, that should apply to whole projects rather than individual libraries. It should fail as early as possible, especially across multiple PHP versions, so I'm entirely with you on removing it for that reason.. Thanks for all that!. That \"Connection refused\" error and as your scan shows, port 25 is blocked from your IP, so unsurprisingly, PHPMailer can't connect to it. Port 25 does appear to be open from the outside, but that is usually for inbound delivery, not outbound. Port 587 and 465 are blocked from outside (which isn't unreasonable). There's nothing PHPMailer can do here - it needs to be able to talk to your server to be able to send something.\nCheck whether you have any success telling PHPMailer to connect to ports 465 or 587 with ssl and tls for SMTPSecure respectively.. This sounds reasonable. doCallback does have quite a lot of params already; it might be better to have a single additional param that's an assoc array that arbitrary extra data can be added to, so in this case you could supply ['smtp_transaction_id' => $id] or similar. That would allow for future expansion without having to add yet more params.\nAs for accumulating results, I think that's less generally useful and so better suited to a subclass for your particular purpose. I subclass PHPMailer myself for things that I want to work differently, but are not generally useful. Actually I think I'd implement what you're doing in the subclass in the calling context instead - you know that you're sending a batch of messages, so I'd accumulate the callback results there and attach the transaction ID once you receive it with the last one.\nSo, with that in mind, PRs welcome!. Good point!\nThere is no spec or requirement for servers to provide a transaction ID at all, and it's usually not something that is ever needed externally. It's not part of any RFC, so there's no surprise that those servers that do provide one, do so inconsistently.. Closed via your PR in #1155. I don't know what you're doing there but:\n```php\n$e = 'admin@wildanfajriansyahdomainduadantidga.org';\n$mail = new PHPMailer;\nvar_dump($mail->setFrom($e));\nbool(true)\n``. That doesn't need punyencode - it's all 7-bit ASCII characters.. That domain is valid, however,@wildanfajriansyahdomainsketigadankeduabersatukembaliblahblahblah.orgwould not be valid because it contains a name segment longer than 63 chars. PHPMailer reports both of these correctly.. You're misunderstanding whatunserializedoes; It does not magically decompile/parse an RFC822 message into a PHPMailer object. If you want to store an instantiated PHPMailer object, do so with$string = serialize($mail), then unserialize with$mail = unserialize($string). What that article suggests is not this at all though. I suggest storing the individual pieces of data you need to construct a new PHPMailer instance and send it, which is more reliable and efficient than serialization.. Also, it would be much more effective to let a local mail server handle the queuing for you, since that's what it's designed to do.. The most likely explanation is that$mailBodyis empty. Can you demonstrate a case where$mailBody` is not empty and you still get the error? The code that checks it is extremely simple, so it's hard for it to go wrong.\nSMTPDebug output is concerned with SMTP-level issues - this error occurs before it even attempts to open a connection. By default it will not send at all if Body is empty.. Don't assume, check.. The tarball/zip only includes things that are needed to use it - so it's missing docs, tests and examples, none of which are needed for use or deployment.. If you want the whole lot, do a git clone.. No, there's nothing amiss with addStringAttachment.\nYou've got 6 function calls inside that addStringAttachment call -  so there's plenty to go wrong.\nSeparate it out - build the URL first and check that, if that's ok, do the HTTP request - then you have the response in hand, so you can write it to a file, echo it or whatever, then deal with emailing it afterwards.\nYou might want to look into something more controllable than file_get_contents as your HTTP client - take a look at Guzzle or pecl_http.. Sounds like you have not provided the correct privileges to the token you created when you made it in your google config? I'm a bit surprised to see it doing HTTP requests during the SMTP connection - have you used the get_oauth_token script successfully?. As the wiki says, this is due to you not having a local mail server configured, so the mail() function (which PHPMailer uses by default) cannot work.. This is failing to connect at all, not after authentication. Your ISP is probably blocking outbound SMTP. This is covered in the guide in the wiki. I can see that you've based your code on an obsolete example, and that you're using an old version of PHPMailer. Get the latest, and read the docs in the wiki and readme.. This is failing to connect at all, not after authentication. Your ISP is probably blocking outbound SMTP. This is covered in the guide in the wiki. I can see that you've based your code on an obsolete example, and that you're using an old version of PHPMailer. Get the latest, and read the docs in the wiki and readme.. That Yahoo transcript shows an entirely successful submission. If you still have a problem, it\u2019s not on the send side. Check your spam folder.\nI suggest you edit your passwords out too.. That Yahoo transcript shows an entirely successful submission. If you still have a problem, it\u2019s not on the send side. Check your spam folder.\nI suggest you edit your passwords out too.. Please don't hijack closed, unrelated issues. It would help if you read the troubleshooting guide. It sounds like you have a network connectivity problem, but you've not tried to show debug output, and you have this basic error: $mail->SMTPSecure = 'tsl'; - should be 'tls'. It also looks like you're using a very old version of PHPMailer - update now.. Please search before you post, and don't hijack old, closed, unrelated issues. The problem you have is covered extensively in the troubleshooting guide your error messages link to. It's likely that your CA certificate bundle needs updating.. Please search before you post, and don't hijack old, closed, unrelated issues. The problem you have is covered extensively in the troubleshooting guide your error messages link to. It's likely that your CA certificate bundle needs updating.. Check your spam folder.. Check your spam folder.. I suspect smtp1.gmail.com should be just smtp.gmail.com (as per the gmail example). Set SMTPDebug = 2 to show the delivery (or not).. I suspect smtp1.gmail.com should be just smtp.gmail.com (as per the gmail example). Set SMTPDebug = 2 to show the delivery (or not).. It means that the TLS certificate provided by your mail server does not match the host name you asked for. In your code you're asking to connect to smtp.mydomain.in, but the server says it's called outbound.mailhostbox.com, and a certificate for one will not match the other. Check that you're using the correct host name. It can also happen if your ISP redirects outbound SMTP traffic to their own server - something which you would not be able to detect without certificate verification.\nSetting those options will make it \"work\", but it does so by turning off verification of the certificate, which may mean that you are vulnerable to man-in-the-middle attacks, and so is unsafe. Figure out exactly why you need to do that.\nAll of this is covered in the troubleshooting guide.. It means that the TLS certificate provided by your mail server does not match the host name you asked for. In your code you're asking to connect to smtp.mydomain.in, but the server says it's called outbound.mailhostbox.com, and a certificate for one will not match the other. Check that you're using the correct host name. It can also happen if your ISP redirects outbound SMTP traffic to their own server - something which you would not be able to detect without certificate verification.\nSetting those options will make it \"work\", but it does so by turning off verification of the certificate, which may mean that you are vulnerable to man-in-the-middle attacks, and so is unsafe. Figure out exactly why you need to do that.\nAll of this is covered in the troubleshooting guide.. @klever34 Really, don't use that code: fix it properly like the guide says. It's like saying that leaving the front door of your house open is a \"working\" solution to having to remember where your keys are; there are implications to doing that.. The \"SMTP connect() failed\" message appears after all the useful information about why it failed that is shown if you set SMTPDebug = 2. That usually includes gmail's \"5.7.14 Please log in via your web browser\" error message which is mentioned in the guide, which then provides a link to google's support doc on the subject, which includes that link. I'm averse to including that link directly as it's yet another thing to maintain, and it's something that google should be doing, not package maintainers, but I have added it anyway.. The \"SMTP connect() failed\" message appears after all the useful information about why it failed that is shown if you set SMTPDebug = 2. That usually includes gmail's \"5.7.14 Please log in via your web browser\" error message which is mentioned in the guide, which then provides a link to google's support doc on the subject, which includes that link. I'm averse to including that link directly as it's yet another thing to maintain, and it's something that google should be doing, not package maintainers, but I have added it anyway.. BTW wikis are publicly editable.. BTW wikis are publicly editable.. This is nothing to do with PHPMailer. When you comment out isSMTP, it defaults to the mail() function, which submits to a local mail server, so this limit is being imposed by your mail server, which sounds like it has some kind of rate limiting. I suggest you look in your mail server's logs. You could try using isSMTP to localhost and see if it acts any differently.\nNot being able to reach gmail's server is probably because your ISP blocks outbound SMTP, which is common. They probably provide their own mail server for you to use instead - refer to their documentation.. This is nothing to do with PHPMailer. When you comment out isSMTP, it defaults to the mail() function, which submits to a local mail server, so this limit is being imposed by your mail server, which sounds like it has some kind of rate limiting. I suggest you look in your mail server's logs. You could try using isSMTP to localhost and see if it acts any differently.\nNot being able to reach gmail's server is probably because your ISP blocks outbound SMTP, which is common. They probably provide their own mail server for you to use instead - refer to their documentation.. I've thought this before - I think it's being too clever for its own good. This should only affect sending via mail() as $LE is always CRLF otherwise, so while it may be compliant for the first hop when using LF-only breaks (because 78 - 1 < 78), it's likely the local mail server will send it on with CRLF, but without reflowing the content, so it ends up 1 char too long.\nIt might be simpler to turn your solution around - set STD_LINE_LENGTH to 76 and don't bother subtracting $LE length. Want to do a PR for that?. I've thought this before - I think it's being too clever for its own good. This should only affect sending via mail() as $LE is always CRLF otherwise, so while it may be compliant for the first hop when using LF-only breaks (because 78 - 1 < 78), it's likely the local mail server will send it on with CRLF, but without reflowing the content, so it ends up 1 char too long.\nIt might be simpler to turn your solution around - set STD_LINE_LENGTH to 76 and don't bother subtracting $LE length. Want to do a PR for that?. I'll do it.. I'll do it.. Could you give that a test please?. Could you give that a test please?. Read the readme file that tells you how to load PHPMailer classes, either with or without composer.. Read the readme file that tells you how to load PHPMailer classes, either with or without composer.. That's just an example of how to add an attachment. If you don't have an attachment, delete that line. If you do, set its path in there.. That's just an example of how to add an attachment. If you don't have an attachment, delete that line. If you do, set its path in there.. This is covered in the guide you ignored the link to. Your local mail server is broken.. This is covered in the guide you ignored the link to. Your local mail server is broken.. There is clearly a problem with your Ydomain.lu domain (probably a DNS issue), nothing you can do about it from PHPMailer. Fix the domain and PHPMailer will be able to work. Also, why are you disabling certificate verification? Is the server presenting an invalid or mismatched cert?. There is clearly a problem with your Ydomain.lu domain (probably a DNS issue), nothing you can do about it from PHPMailer. Fix the domain and PHPMailer will be able to work. Also, why are you disabling certificate verification? Is the server presenting an invalid or mismatched cert?. I answered this on Stack Overflow rather than here, since it's more of a how-do-i than a bug report.. I answered this on Stack Overflow rather than here, since it's more of a how-do-i than a bug report.. This is a TLS failure, and it\u2019s covered in the troubleshooting guide linked from the error message.. This is a TLS failure, and it\u2019s covered in the troubleshooting guide linked from the error message.. What mail server are you using? Doing this produces corrupt messages with some that expect LF line breaks for local sendmail submissions (which mail() uses) - it's why I had to do this at all.. What mail server are you using? Doing this produces corrupt messages with some that expect LF line breaks for local sendmail submissions (which mail() uses) - it's why I had to do this at all.. It can't make any difference with SMTP because that code is never run when using the SMTP mailer.. It can't make any difference with SMTP because that code is never run when using the SMTP mailer.. OK, so when using SMTP, it always uses CRLF breaks. When using mail() it always uses the platform-native breaks. Whether that is appropriate depends on your mail server, and you can override its behaviour with a subclass if it doesn't work for you. Using mail is really a bad idea anyway - it's slower and less safe than SMTP to localhost.. OK, so when using SMTP, it always uses CRLF breaks. When using mail() it always uses the platform-native breaks. Whether that is appropriate depends on your mail server, and you can override its behaviour with a subclass if it doesn't work for you. Using mail is really a bad idea anyway - it's slower and less safe than SMTP to localhost.. 5.2 is/was was wildly inconsistent with line breaks, and would often generate messages containing both kind of breaks! 6.0 is entirely consistent, however, re-reading RFC6376 section 5.3 says that DKIM canonicalisation should be performed with CRLF breaks even if you're sending with a different break format. That's a messy thing to fix, so unless you have a PR handy, I'd suggest using SMTP to localhost, which is faster, safer, and avoids the problem altogether. mail() should be considered unsafe in any circumstances.. 5.2 is/was was wildly inconsistent with line breaks, and would often generate messages containing both kind of breaks! 6.0 is entirely consistent, however, re-reading RFC6376 section 5.3 says that DKIM canonicalisation should be performed with CRLF breaks even if you're sending with a different break format. That's a messy thing to fix, so unless you have a PR handy, I'd suggest using SMTP to localhost, which is faster, safer, and avoids the problem altogether. mail() should be considered unsafe in any circumstances.. It might be true in an academic sense, but it really doesn't make any practical difference. I did a quick benchmark and the difference for 500mb of data is around 0.05 sec - but where it's used in PHPMailer the typical data is rarely longer than 100 bytes, and doesn't require any replacement at all. A test of 3 lines of input data makes it 0.0002sec vs 0.00016 sec, i.e. this is a meaningless micro-optimisation - either implementation is fine. Make a PR if you can be bothered!. It might be true in an academic sense, but it really doesn't make any practical difference. I did a quick benchmark and the difference for 500mb of data is around 0.05 sec - but where it's used in PHPMailer the typical data is rarely longer than 100 bytes, and doesn't require any replacement at all. A test of 3 lines of input data makes it 0.0002sec vs 0.00016 sec, i.e. this is a meaningless micro-optimisation - either implementation is fine. Make a PR if you can be bothered!. Have you tried using 6.0.1, which contains a fix for this?. Have you tried using 6.0.1, which contains a fix for this?. The function docs say:\n\nIf no reply has been received yet, it will return null.\nIf no pattern was matched, it will return false.\n\nSo because you're seeing false, it means none of the patterns matched when recordLastTransactionID was called. That is slightly odd as the text you show looks like it should match postfix response pattern: [0-9]{3} 2.0.0 Ok: queued as (.*). I'd suggest setting a breakpoint in the data() method and seeing what's happening at the time. getLastReply isn't any use for this at the PHPMailer level because (as you're seeing) it gets overwritten by the subsequent QUIT command.. The function docs say:\n\nIf no reply has been received yet, it will return null.\nIf no pattern was matched, it will return false.\n\nSo because you're seeing false, it means none of the patterns matched when recordLastTransactionID was called. That is slightly odd as the text you show looks like it should match postfix response pattern: [0-9]{3} 2.0.0 Ok: queued as (.*). I'd suggest setting a breakpoint in the data() method and seeing what's happening at the time. getLastReply isn't any use for this at the PHPMailer level because (as you're seeing) it gets overwritten by the subsequent QUIT command.. In a development environment like NetBeans or PHPStorm, you can tell the code to stop at any point and inspect the values of everything while the code is running. It's much easier to tell what's going on than using var_dump, though doing a var_dump($reply) in recordLastTransactionID (after line 1287 of SMTP.php) would be interesting.. In a development environment like NetBeans or PHPStorm, you can tell the code to stop at any point and inspect the values of everything while the code is running. It's much easier to tell what's going on than using var_dump, though doing a var_dump($reply) in recordLastTransactionID (after line 1287 of SMTP.php) would be interesting.. Ah, I wasn't looking carefully enough - it doesn't match the postfix pattern - it's missing the 2.0.0 result code part. You would need to add this pattern to $smtp_transaction_id_patterns:\n    'myserver' => '/[0-9]{3} Ok: queued as (.*)/',\n\nCan you tell me what kind of server you are connecting to? It should say at the very beginning of the SMTP debug output.. Ah, I wasn't looking carefully enough - it doesn't match the postfix pattern - it's missing the 2.0.0 result code part. You would need to add this pattern to $smtp_transaction_id_patterns:\n    'myserver' => '/[0-9]{3} Ok: queued as (.*)/',\n\nCan you tell me what kind of server you are connecting to? It should say at the very beginning of the SMTP debug output.. I just pushed support for this format of the transaction ID - it will be in the next maintenance release, or you can just download the current master version from here.. I just pushed support for this format of the transaction ID - it will be in the next maintenance release, or you can just download the current master version from here.. It also trims all IDs now.. It also trims all IDs now.. Yes. Please read the readme file which tells you how to install and which files you need.. Yes. Please read the readme file which tells you how to install and which files you need.. Hm. That's odd. The automatic downgrade should only occur if the message contents is the same in a 7-bit encoding, i.e. the labelling as 8bit is actually wrong. I'm a bit surprised to see a CTE header there for 7bit, since 7bit is assumed by default, so it doesn't need to specify. Are you saying that your S/MIME encoded body contains 8-bit chars? Or I wonder if it's that the CTE header is included in the message signature, and the CTE change is made after signing - that sounds likely given your experiment.. Hm. That's odd. The automatic downgrade should only occur if the message contents is the same in a 7-bit encoding, i.e. the labelling as 8bit is actually wrong. I'm a bit surprised to see a CTE header there for 7bit, since 7bit is assumed by default, so it doesn't need to specify. Are you saying that your S/MIME encoded body contains 8-bit chars? Or I wonder if it's that the CTE header is included in the message signature, and the CTE change is made after signing - that sounds likely given your experiment.. Could you put that in a fork and make a PR please?. Could you put that in a fork and make a PR please?. Are you going to make new PRs for these two things? I'm not sure why php-cs-fixer made such a mess of yours \u2013 when I run it locally on the current master it doesn't suggest any changes. It should produce readable output (and not change anything) if you run ./vendor/bin/php-cs-fixer --diff --dry-run --verbose fix, and you should see it pick up the config in .php_cs. Maybe you ran it on a newer version of php-cs-fixer - PHPMailer only applies it with the lowest supported PHP version (5.5), which limits what version of php-cs-fixer can be used, so make sure you're using the require-dev packages from PHPMailer's composer and not some external version.. Are you going to make new PRs for these two things? I'm not sure why php-cs-fixer made such a mess of yours \u2013 when I run it locally on the current master it doesn't suggest any changes. It should produce readable output (and not change anything) if you run ./vendor/bin/php-cs-fixer --diff --dry-run --verbose fix, and you should see it pick up the config in .php_cs. Maybe you ran it on a newer version of php-cs-fixer - PHPMailer only applies it with the lowest supported PHP version (5.5), which limits what version of php-cs-fixer can be used, so make sure you're using the require-dev packages from PHPMailer's composer and not some external version.. You should just be able to do composer install in the PHPMailer folder. Then ./vendor/bin/php-cs-fixer should be the right version.. You should just be able to do composer install in the PHPMailer folder. Then ./vendor/bin/php-cs-fixer should be the right version.. That is fairly bad, but it may be because they have some ancient gateway that is not 8-bit safe, so they are converting your 8bit CTE part to something that is 7-bit safe, i.e. quoted-printable. I don't see any way around that from their point of view (if they are limited that way), but it should work for you if you specify quoted-printable as your encoding to start with, as then the message signature will not change. There is  probably an RFC all about exactly this.... That is fairly bad, but it may be because they have some ancient gateway that is not 8-bit safe, so they are converting your 8bit CTE part to something that is 7-bit safe, i.e. quoted-printable. I don't see any way around that from their point of view (if they are limited that way), but it should work for you if you specify quoted-printable as your encoding to start with, as then the message signature will not change. There is  probably an RFC all about exactly this.... It occurred to me that the same problem may apply to DKIM too - I don't remember offhand if DKIM canonicalisation includes stripping/ignoring CTE.. It occurred to me that the same problem may apply to DKIM too - I don't remember offhand if DKIM canonicalisation includes stripping/ignoring CTE.. I found a relevant RFC section about S/MIME and CTE that basically says 8bit will only work if you know it will work \ud83d\ude44 \nSo I guess you're stuck with 7bit and heavier CTEs - I don't think there's anything else you can do from the sending end. Maybe complain to the ISP?. I found a relevant RFC section about S/MIME and CTE that basically says 8bit will only work if you know it will work \ud83d\ude44 \nSo I guess you're stuck with 7bit and heavier CTEs - I don't think there's anything else you can do from the sending end. Maybe complain to the ISP?. But this is in msgHTML, which is specifically intended to set both Body and AltBody in one go, and you've got it doing an HTML to text conversion on something that should be plain text anyway? If you don't want AltBody overwritten, don't call msgHTML; just set AltBody explicitly. Can you explain the circumstances you're trying to address?. But this is in msgHTML, which is specifically intended to set both Body and AltBody in one go, and you've got it doing an HTML to text conversion on something that should be plain text anyway? If you don't want AltBody overwritten, don't call msgHTML; just set AltBody explicitly. Can you explain the circumstances you're trying to address?. msgHTML is a convenience function that explicitly says it's going to overwrite both bodies. Applying html2text to an existing plain-text body is likely to cause damage - for example in my own apps I often wrap URLs in <> in plain-text bodies (because some clients treat them specially if you do that), and the strip_tags in html2text would destroy them. If you don't want the body-setting behaviour, don't call it, or set AltBody afterwards - which is also what the docs say.. msgHTML is a convenience function that explicitly says it's going to overwrite both bodies. Applying html2text to an existing plain-text body is likely to cause damage - for example in my own apps I often wrap URLs in <> in plain-text bodies (because some clients treat them specially if you do that), and the strip_tags in html2text would destroy them. If you don't want the body-setting behaviour, don't call it, or set AltBody afterwards - which is also what the docs say.. I can't tell anything without seeing your loading code. Are you loading vendor/autoload.php? Have you imported PHPMailer classes into your namespace with appropriate use directives?. It won't work without use or explicit fully-qualified class names. use needs to be outside any function definition, at the top of your script. Base your code on the examples provided and load it how the readme says.. No, composer only takes care of autoloading. Namespacing and aliasing is still up to you.. Why? There should be no compatibility issues with later 5.2 versions, and such old versions are just plain dangerous to deploy since they contain known vulnerabilities.. Fair enough! That release predates the move to github, and prior to that releases were not tagged at all, though I have previously added a few back in. I've now added tags (though not releases) for v5.2.0, v5.2.1, and v5.2.2.. No offence taken, BTW - I do get people trying to deploy old versions every now and again!. Sorry, this question is nothing to do with PHPMailer. Please refer to PHP and HTML documentation.. Here you go:\n<input type=\"phone\" name=\"phone\">\n\nTime to read some docs for what to do next.. How odd - I wonder if a commit got lost somewhere. I think this is safe to merge because calling a static method dynamically is permitted in PHP and does not generate any errors or warnings, and the method does not use $this, which is really the only restriction on static methods, so there's no BC break. Since it's documented that it already works that way, that it doesn't is effectively a bug that should be fixed. Anyone calling it statically, as documented, will find they no longer get errors for calling a dynamic method statically, so that makes it a transparent fix rather than a BC break. Thanks for the PR and for spotting this.. Many mail servers still only support authentication without encryption, so that's not a reasonable thing to insist on. It's not PHPMailer's job to dictate good practices in mail server config; it tries to do its best with what you've got. Unencrypted auth is common on private networks - for example GoDaddy does it for their own internal mail servers.\nUsing TLS without authentication is also entirely normal and reasonable - in fact it's almost always the case for final delivery steps now - gmail, hotmail, yahoo, etc all do it. If your mail server advertises TLS, then PHPMailer will try to use it, without being asked to, and STARTTLS can work just fine on port 25. If you don't want it to do that (for example if you have a badly configured mail server), turn off SMTPAutoTLS.. I don't see that it will do that:\nif ($tls) {\n                        if (!$this->smtp->startTLS()) {\n                            throw new Exception($this->lang('connect_host'));\n                        }\n                        // We must resend EHLO after TLS negotiation\n                        $this->smtp->hello($hello);\n                    }\n                    if ($this->SMTPAuth) {\nIf this tries and fails to STARTTLS, it will not get as far as the auth command - you can see that if initialising TLS fails, an exception is thrown which aborts the connection. Are you seeing some other behaviour? I am slightly suspicious of not bailing if either of the hello calls fail.. That looks like it's failing STARTTLS (probably easily diagnosed with openssl), but I'm not sure where the second connect comes from. How does it look from the client side with SMTPDebug = 3?. Thank you very much!. Why are you calling $mail->SmtpClose();? That's entirely unnecessary - and will break keepalive.\nAs for your issue, I can't tell from this code, and I'd need to see the output with SMTPDebug = 2, as the bug template (which you ignored) requests.. I can't tell from this where the delays are (SMTPDebug = 2 output would show that), but it's extremely common for SMTP to be slow, often deliberately so (see greetdelay). The SMTP spec allows response times as long as 10 minutes per command, so a few seconds is normal. If you want to go consistently fast, run a local mail server and submit to it via SMTP to localhost, then the mail server will deal with the delays, not your PHP page scripts.. One obvious problem - you've commented out the call to isSMTP, so most of your config will do nothing at all. Beyond that, you just need to do normal PHP debugging - enable error output, check your web server logs - whatever you're doing wrong will be shown in there. Also please do not post code in PDFs..     $mail->SMTPSecure = 'tsl';\nshould be\n$mail->SMTPSecure = 'tls';\n\nBase your code on the examples provided to avoid silly issues like this.\nThe troubleshooting guide linked from the error message for how to diagnose TLS issues. The exact problem you're having is documented there: You're asking to connect to smtp.gmail.com, but actually connecting to 220-ip-10-0-0-9.ap-southeast-1.compute.internal - i.e. your ISP is redirecting you to their own server.. Please do what both the error message and the troubleshooting guide suggests: log in via your web browser, and possibly do the unlock captcha procedure that both describe.. Sorry I didn't see you say that you'd tried the unlock captcha - that's all I can suggest - this is a gmail problem, so I suggest you ask their support as there's nothing that can be done from outside your gmail account or in PHP, and this has worked for others in the same situation.. Maybe - but it's entirely in gmail's control, nothing we can do about it here.. Well the reason it \u201cworks\u201d is that you simply disabled sending through gmail, avoiding your auth problem, but by doing that, you are now sending via your local mail server, which is not a designated source for mail from gmail addresses, so it\u2019s forgery, and you\u2019re being classed as spam as a result. You still need to fix the real problem.. Pretty much all auth mechanisms for SMTP are not secure by themselves (including OAuth), but they can all be protected by using encryption on the connection, so just set SMTPSecure = 'tls' and your ID and pass will not be exposed.. That's because localhost is not a publicly routable hostname, plus \"dotless\" domains are also banned by ICANN. That said, you can easily disable validation by injecting your own validator:\nphp\nPHPMailer::$validator = function($addr) {\n    return true;\n};\nEven if you do this, there's no guarantee that your mail relay will accept the message, for the same reason.. Thanks. Well don\u2019t just change the code and hope it works, figure out the cause. It\u2019s most likely that your ISP has started blocking outbound SMTP. Diagnosing this is covered in the troubleshooting guide linked from the error.. If you can't run composer on your server, run it locally and upload the resulting vendor folder along with the rest of your code.\nIf you have shell access on your server, log in there and try the tests described in the troubleshooting guide, in particular telnet voda4.vodahost4.com 465 and openssl s_client -connect voda4.vodahost4.com:465. FYI, both of these work for me from outside your network. If either of these fail, the problem is definitely your network, not your script.\nOutlook will have nothing to do with this since you're sending from a different network that probably doesn't block outbound SMTP.. Whether they can connect to it has little to do with whether you can (though it's a good indicator that the problem is at your end). You need to run the connection tests from the same place you're running the script - this is a network problem, not a script problem, and it's impossible to diagnose other than from on your server - seeing your tests fail doesn't tell me much - The only indicator is that the second script takes a long time - i.e. it's timing out, which also suggests that your config or network are causing the problem, but I can't tell from what you've posted. If it's failing to even connect, then it can't be an email address problem, because it's never getting that far.. Sending EHLO a second time after TLS negotiation is a requirement of the ESMTP specification, which is why it says \"We must resend EHLO after TLS negotiation\" just before that second call to hello(). If your TLS config is broken, it should fail. Fix your broken server, don't change PHPMailer to live with it.. Having the connection time out still sounds like a network problem. While that cert failure is not a good sign, certificate issues can only make a difference after you connect, so they're not relevant here. Does SMTPDebug = 3 show anything different? Can you telnet from your server to any of these ports on your mail server?. This still just looks like a network block, so there's nothing you can do from your PHP code. You need to get some better answers from your ISP.. It's fine that it works for them, but that doesn't tell you anything about whether it works on your server, which is where networking restrictions will apply. Using the mail function means that it's sending via your local mail server (and not using SMTP directly at all), which on a shared hosting service is likely to relay through your ISP's mail servers which are probably exempt from network filters, so that's useless as a diagnostic tool.  Here is a simple test script:\nphp\n<?php\n$fp = fsockopen('ssl://voda4.vodahost4.com', 465, $errno, $errstr, 10);\nif (!$fp) {\n    echo \"$errstr ($errno)\\n\";\n} else {\n    $out = \"QUIT\\r\\n\";\n    fwrite($fp, $out);\n    while (!feof($fp)) {\n        echo fgets($fp, 128);\n    }\n    fclose($fp);\n}\nYou should get output like this:\n220-voda4.vodahost4.com ESMTP Exim 4.89 #1 Wed, 01 Nov 2017 09:39:31 +0000 \n220-We do not authorize the use of this system to transport unsolicited, \n220 and/or bulk e-mail.\n221 voda4.vodahost4.com closing connection\nIf you still get a timeout, you definitely have a network problem that no amount of messing with your scripts can fix.. This was released in 6.0.2 last week.. Authentication should be expected to work first time. The credentials remain the same for all the auth mechanisms PHPMailer supports (apart from XOAUTH2), so if a server advertises multiple methods, they should all work - if a password is wrong when using CRAM-MD5, it will also be wrong in PLAIN or LOGIN, so retrying with a different method is pointless. If you don't specify, PHPMailer chooses the most secure one it can, and CRAM-MD5 is significantly stronger than LOGIN or PLAIN. \nNow if there is a bug in an auth mechanism that stops it working (as you imply), that's a different matter.. (You only need SMTPDebug = 2 to see enough detail for this, 4 just adds noise).\nCRAM-MD5 isn't too hard to work through manually (see here), so I can only suggest that you replicate the mechanism manually with your values to check it. The basic gist is that the server provides a random value (the hash in the SERVER->CLIENT bit), then the client hashes it along with the password (or a hash of it), a MAC operation, and sends the value to the server; the server checks to see if its own calculation using its copy of the password produces the same result. I can't check this as I don't have a server that uses CRAM-MD5.. That example is there to show how to drive the SMTP class directly without PHPMailer acting as a wrapper. They are completely different classes with largely unrelated APIs, so there is no particular reason to drive them in the same way. PHPMailer uses SMTP, but PHPMailer is not a subclass of SMTP. It would be a simple exercise to wrap what's in that example in a function and call it using your PHPMailer settings.\nsmtpConnect() in the PHPMailer class does authenticate if you provide authentication details, so I don't see what you mean here.. I've run into this as well - see these PRs in reactphp and symfony. From what I've seen, it's caused by having a process signal occur while PHPMailer is waiting for stream_select to return. For this to happen, you'd need to be making use of pcntl calls, probably running your script in a daemon-like process - does that sound like what you're doing?. PHP's CLI SAPI has no time or memory limit by default - those settings usually only apply to CGI SAPIs. Those timeout values are from the SMTP spec, and if that's longer than script timeouts, that's really the environment's problem.\nThis problem can occur if any process receives a signal when PHPMailer is waiting on stream_select - and that's much more likely with daemon or cron scripts that tend to run for longer.  It doesn't necessarily have to kill the process, any kind of signal may do it I think. Looking at the patches for the other instances I pointed at, it looks like we should check the return value and then it should be safe to suppress the warning.. Follow the link to the troubleshooting guide and read and do what it says. You have a TLS problem, though it's not necessarily anything to do with your web site's certificate.. Read the guide, do what it says - I'm not about to tell you anything that's different from what's in the guide.. See #1211.. This code does not display error messages. You have turned off debug output, are catching exceptions, and are not echoing anything.. Please post some example output.. If you want PHPMailer to throw exceptions, pass true to the constructor:\n$mail = new PHPMailer(true);\n\nIf a send is successful, send() will return true. If it returns false, you know that there is a problem. You can get information about any error by looking at $mail->ErrorInfo, or in the message attached to an exception, so either of:\nphp\nif ($mail->send()) {\n    //all ok\n} else {\n    $error_message = $mail->ErrorInfo;\n}\nphp\ntry {\n    ...\n    $mail->send();\n} catch (Exception $e) {\n    $error_message = $e->getMessage();\n}\nNote that all of the examples provided with PHPMailer show how to do this.\nIf you want more detail, for example if you want to capture the whole SMTP conversation, look at the Debugoutput property - inject a closure to retain the debug output and store it somewhere instead of displaying it.. That's an office365 limitation. It's very common - gmail does it too, though you may be able to set specific aliases in your office365 account. If you want to send using arbitrary From addresses, you need to use a different mail host - it's nothing to do with your code.. Can you show the debug output of the subject line in the header too? PHPMailer automatically falls back to ASCII charset if the content doesn't need anything more - that's an RFC requirement that's otherwise flagged by the IETF msglint tool - however, it should still encode headers appropriately.. Why are you storing Chinese characters in a field that's using a latin1 charset? That's not going to work. Check that the subject string contains what you expect it to before giving it to PHPMailer.. I closed it because it's not a PHPMailer problem, it's a general PHP + MySQL problem that's happening long before PHPMailer has any involvement. Solve your PHP + MySQL problem, and then PHPMailer will have valid data to work with.. If that echo is not appearing, the problem is before you start using PHPMailer. You need to narrow this down further - comment it all out, gradually uncomment it until it stops working, then you've found the point at which it fails, check your web server's log files for errors.. Are you sure it's not waiting for a timeout? Does it show something if you leave it for 10 mins? Many ISPs block outbound SMTP, and that's the usual symptom.. Don't just believe them - test it to make sure - as described in the troubleshooting guide. And I can see that you didn't wait long enough to establish if it was waiting for a timeout..... OK, so your server is being blocked from connecting to the mail server on port 587. Since your server and your mail server are on the same network perhaps try port 25, and you may not need auth either. If that doesn't work, you need to ask 1&1 support.. If you don't read the docs, and don't provide sufficient information in a bug report (as you were asked to do when you created this request), there's nothing anyone can do to help you.. You made it sound as if this was something to do with PHPMailer. It's not. You're rejecting addresses if they are not in your database. This is obviously quite fast as it's a quick database query, and doesn't involve SMTP nor PHPMailer. Your actual question is how to make sending faster, and that is also discussed in the wiki and guide. Short version - send through a local mail server, not a remote one, and then it will be very fast.. You are including PHPMailer in your code, but your check for whether it's an existing user does not involve SMTP - if it did you'd see debug output for that too.\nI suggest you turn off debugging on public sites since it is currently displaying an easily decoded id and password.. You're using an old version of PHPMailer, so update that first, and you based your code on a long-obsolete example. It would help if you read the docs that the error message points you at, and that the issue template asked you to look at before posting. You have a network problem, probably that your ISP blocks outbound SMTP.. Don't bother building your own queuing system for outbound email - just install a local mail server and send through that. It involves a 1-line change in your code and it will just work, sending will be effectively instant as far as your web clients are concerned. This is what mail servers are designed to do, and they are very good at it.. If you want to send through gmail and use a local mail server, you need to configure the local mail server to relay through gmail, like this. I would not ship an app that you expect to run on shared hosting that relies on gmail for email; many large ISPs block outbound SMTP altogether, and require you to relay through their own servers. This also means you can't use gmail from addresses because it would be blocked by gmail's SPF records.. I'm not sure what you mean - The gh-pages branch is used and is published as a static site here, as linked from the readme. The content is generated directly from the source code using PHPDocumentor. It would be very useful to update that automatically on every push rather than relying on manual updates - is that something you could look at?\nWith the release of 6.0 I was keen to reduce the number of examples, as there is a lot of duplication and overlap in the examples, and historically there have been many complaints about having too many files (though also of course, when I reduced the number of files, we had people complaining about that too \ud83d\ude44). Also, the more examples you have, the more there is to keep up to date. What new examples were you proposing?. That documentation is basically what's in the PHPMailer readme, just spread over more pages. The API documentation they have is more or less identical to PHPMailer's - it just uses a different generator - I don't particularly like how the phpdoc generator pages look, but it does the job. There are probably better templates it could use.\nI don't see much point in adding entire example files when the only real difference between them is what goes in the Host property, which is essentially what using any 3rd-party mail server involves. That said, I can see a good use for a wiki page that collects connection info on such providers. I don't think things like that should be in the code repo itself as it's just clutter that's hard to maintain, which is what I've been trying to get away from. It's also easier for others to contribute/update on the wiki as it doesn't require the whole fork/push/PR/merge procedure that's difficult for newcomers / non-techies.. Yes, the wiki editing is completely open. You can create new articles, edit existing ones as you like. I'd recommend putting connection details in a new one rather than adding to an existing one, and cross-reference it from the tutorial.. This may be related to the things that gmail users often run into when setting up auth. Gmail doesn't like seeing new ways of using your gmail account and imposes additional security when it sees one. I'd suggest logging into your gmail account through a normal web browser, and also visiting the Display unlock CAPTCHA page as described in the troubleshooting guide. You're probably logging errors on the sending side too.. I think this goes a bit too far. We should definitely keep in LICENSE, and I know that some rely on VERSION being present at runtime (no idea why!). SECURITY contains info about how to report security issues, so I think that should probably be included too. If we consider the use case of someone unfamiliar with a project or this lib having this dumped on them, some minimal info should always be present.\nI think omitting the readme is excessive - I don't recall why that was excluded before (probably someone getting upset about \"too many files\"). Given the usual problem of people not knowing where to look for docs, we should at least include something, and that would seem a good thing to leave in, so I think the readme should be reinstated.. Thanks. I'm not entirely happy with the cs-fixer stuff either. It's good to be consistent in code style, and to enforce it (and the PRs to set it up were very welcome), but some of the rules in it (which claim to be \"Symfony standard\") do not appear to have a rational or documented basis. I've had trouble getting PHPStorm to recognise some of these annotations - or I think it may be that its own checkers conflict with those of cs-fixer, and you can't fix it for both at once. IMHO PHPStorm is more important, so whatever rule cs-fixer is enforcing there should be dropped. Save that for another PR.... Thanks. I've updated the doc. What it said was true at one point before 6.0 was released - it wasn't clear at the time that mail() on some OSs breaks if you use CRLF breaks. The CRLF constant is gone (because there is no longer any need for it), but you can get the current break string with getLE(). The line break format is manipulated automatically at send() time, so setting it beforehand is likely to not work as you expect.\nI don't know why you're using it, but generally line breaks within message bodies are normalised to the sending format before use, which may eliminate whatever you're using it for. This avoids problems with mixed line break formats which were a persistent problem in 5.2; 6.0 is far more consistent.. Similar to what msgHTML() does?. Thanks for letting me know.. You may find there is additional info in your received message headers in gmail. Select the \"show original\" option to see the raw message. You're doing the right thing with DKIP & SPF, but beyond that, gmail's inbox policy is wildly inconsistent and unpredictable - I get spam in my inbox, messages from relatives in spam. You may be able to get spam feedback by setting List-Unsubscribe headers containing a mailto URL, if you're sending to lists. I'd also recommend using isSMTP rather than going via mail(). It can save a hop and it is faster and safer.. Gmail has a requirement that you have a mailto list-unsubscribe header before they will send you spam notifications. The header itself doesn't do it, it's just one of gmail's conditions.. Read the docs on gmail's feedback loop. Yes, nothing we can do. The same applies to Outlook, gmail, Apple Mail etc.. That's very nice of you! Please contact me through the email address on my profile page.. That is strange. This is the (only) line that sets the transaction ID:\n$this->last_smtp_transaction_id = trim($matches[1]);\n\ntrim() strips \\t\\n\\r\\0\\x0B by default (docs). So I don't know how that CR is getting through. I'll see if I can reproduce it.. Ah, ok well it will be in the next release then. In the mean time you can use dev-master.. This fix has been released in 6.0.2.. You need to be very careful about your inspection of headers like that. That line is too long for a single header, so it will be folded according to RFC5322, and I would expect it to appear like this in your raw message:\nList-Unsubscribe:\n https://www.mylongwebsitename.com/folder/action.php?do=action&id=12345678901\n 234567890123456789012\nThat kind of formatting is entirely correct, and the point it's breaking at is exactly where it's expected (78 chars). It is not adding a space in a correctly decoded header - it will be removed when it is unfolded, before it is used. I use this header with longer lines that this  and it works exactly as expected.. Sorry, this is not how it works. The Sender property is used to set the SMTP-level envelope sender - the address that is used in a MAIL FROM SMTP command. It should never be put in a header, though it's very common for it to be the same value as what is in the \"From\" header, it's also common for it to be entirely different (e.g for VERP addressing). The envelope sender is added to a message in the form of a Return-Path header by the receiver, so again, this is not something you should add as a sender.. > The MAIL FROM and RCPT TO commands are called envelope commands in RFC 5321.\nYes, that's what I said; The Sender property in PHPMailer is used to set the address used in the MAIL FROM command. It should not be used to set a Sender header within a message as that has an entirely different meaning and purpose.\nYou're right on section 3.6.2 - you can have a sender header, though it has no functional purpose (it's informational only) - but there's nothing stopping you setting it as a custom header.. No, it should absolutely not set a sender header by default, especially not from the envelope sender. You are getting their purposes confused. The Sender property in PHPMailer sets the SMTP envelope sender, nothing else. A sender message header is a completely different, independent, unrelated thing, used for entirely different purposes, both technically and semantically - for example it would be pointless to put a VERP address in a sender header (what you suggested), and very likely wrong to use a semantic sender header value as an envelope sender. The sender header has nothing to do with saying that it was sent by your server - that's what the envelope sender is for. You could set it to the same value, but it won't actually do anything.\nThe ambiguous naming of the Sender property may be unfortunate, however, it was chosen for that purpose 16 years ago so it's not going to be subject to an arbitrary BC break when millions of sites don't use it as you describe.\nYou're right in that adding it as a custom header offers no validation - though you could make use of PHPMailer's header building functions to do that - however, I don't know how much value it has anyway - I did a quick test and a sender header is not displayed in gmail, Apple Mail (macOS or iOS) or Outlook web client (even with extended headers shown) - it apparently works in desktop Outlook, but I can't test that. I have seen gmail and Outlook displaying an \"on behalf of\" or \"via\" message, however, that's due to misconfigured domain auth, not a sender header. Envelope sender settings OTOH work fine everywhere - SMTP wouldn't work properly otherwise.. Please read what the error message says, and read the troubleshooting guide the error links to, which tells you exactly how to deal with this gmail problem. I suggest you remove the error log image (and don't post text as images anyway) since it contains an easily decoded password.. Read the guide - it means you don't have a local mail server configured. In this code, you're also using a very old version of PHPMailer; this is odd because you were using a newer version before.. Read the guide - it means you don't have a local mail server configured. In this code, you're also using a very old version of PHPMailer; this is odd because you were using a newer version before.. That's because you didn't base your code on a provided example, and didn't read the docs/readme.. That's because you didn't base your code on a provided example, and didn't read the docs/readme.. Seriously, this exact error is covered in the troubleshooting guide. It tells you exactly what to do to fix it. Please stop asking the same question - it won't change my answer or what you need to do.. Seriously, this exact error is covered in the troubleshooting guide. It tells you exactly what to do to fix it. Please stop asking the same question - it won't change my answer or what you need to do.. There's not enough info here. You need to show the rest of your config, a transcript of SMTP traffic (set SMTPDebug = 2) and the Received headers of a problem message. I recommend upgrading to PHPMailer 6.0 as well.. There's not enough info here. You need to show the rest of your config, a transcript of SMTP traffic (set SMTPDebug = 2) and the Received headers of a problem message. I recommend upgrading to PHPMailer 6.0 as well.. The received header is added by sendgrid, so I suggest asking them about it. You could try using ssl on port 465, see if it comes out any different.. The received header is added by sendgrid, so I suggest asking them about it. You could try using ssl on port 465, see if it comes out any different.. I don't know - ask them.. I don't know - ask them.. I assume they only provide an ID after successful submission, so those IDs should be traceable at their end. Look at using $this->smtp->getLastTransactionID(); to get mailgun's IDs (not the same thing as your message IDs). The PHPMailer SMTP class doesn't have a specific transaction ID pattern for mailgun, but it may be matched by one of the others.\nI can't guess at what the problem is - there's not enough information here to go on. Can you show an SMTP transcript (SMTPDebug = 2) of them accepting a message but then not sending it on?. I assume they only provide an ID after successful submission, so those IDs should be traceable at their end. Look at using $this->smtp->getLastTransactionID(); to get mailgun's IDs (not the same thing as your message IDs). The PHPMailer SMTP class doesn't have a specific transaction ID pattern for mailgun, but it may be matched by one of the others.\nI can't guess at what the problem is - there's not enough information here to go on. Can you show an SMTP transcript (SMTPDebug = 2) of them accepting a message but then not sending it on?. Ok, so Mailgun does not provide transaction IDs on message acceptance. It's not part of the SMTP specification - all that that asks for is that a successful DATA command returns 250 - anything after it is treated as a comment and will be ignored - and this is a feature that some services do make use of to provide a transaction ID. PHPMailer adheres exactly to this spec. Not matching a pattern in the transaction ID list is not any kind of error or problem, and it's entirely normal for it to be empty. Essentially, if mailgun accepts a message successfully, but then doesn't deliver it, it's a mailgun problem.. Ok, so Mailgun does not provide transaction IDs on message acceptance. It's not part of the SMTP specification - all that that asks for is that a successful DATA command returns 250 - anything after it is treated as a comment and will be ignored - and this is a feature that some services do make use of to provide a transaction ID. PHPMailer adheres exactly to this spec. Not matching a pattern in the transaction ID list is not any kind of error or problem, and it's entirely normal for it to be empty. Essentially, if mailgun accepts a message successfully, but then doesn't deliver it, it's a mailgun problem.. Don't be silly, of course PHPMailer checks for that response code. It wouldn't work at all otherwise. If the end of data command responds with anything other than 250, it's classed as an error and will be reported as such.. Don't be silly, of course PHPMailer checks for that response code. It wouldn't work at all otherwise. If the end of data command responds with anything other than 250, it's classed as an error and will be reported as such.. Don't take their word for it - test it, as described in the troubleshooting guide - try telnet smtp.gmail.com 587 - if that doesn't work from your server, they're blocking it.\nBTW there no point in adding a reply-to header that's the same as your from address - it will just be ignored. I hope that's not your real password.... Don't take their word for it - test it, as described in the troubleshooting guide - try telnet smtp.gmail.com 587 - if that doesn't work from your server, they're blocking it.\nBTW there no point in adding a reply-to header that's the same as your from address - it will just be ignored. I hope that's not your real password.... @hasangursoy Show your debug output with SMTPDebug = 3.. @hasangursoy Show your debug output with SMTPDebug = 3.. Right, so what you originally said is not true; you are not receiving an error that says \"Failed to connect to server: Network is unreachable\". You have a different TLS problem that is covered in the troubleshooting guide.. Right, so what you originally said is not true; you are not receiving an error that says \"Failed to connect to server: Network is unreachable\". You have a different TLS problem that is covered in the troubleshooting guide.. ```\nhost 199.189.62.40\n40.62.189.199.in-addr.arpa domain name pointer 199-189-62-40.netfire.rip.\n```\nIt belongs to Netfire, presumably your ISP.. ```\nhost 199.189.62.40\n40.62.189.199.in-addr.arpa domain name pointer 199-189-62-40.netfire.rip.\n```\nIt belongs to Netfire, presumably your ISP.. No, it's showing your client IP, not the server. If I connect it shows my client IP. If you do the openssl checks in the troubleshooting guide you'll see why it's failing to start TLS. Read the guide and do what it says. I'm not about to tell you to do anything different to what it says in there.\nThis is also a lesson in why you shouldn't hijack unrelated github issues - you're causing notifications to be sent about an unrelated problem to people that are not interested.. Indeed, and that's what the guide says. Th problem that's been coming up with gmail lately is not that the server is presenting an invalid cert, but that the client lacks the correct CA certs in order to validate it correctly. So it is a client-side issue, but one that can be fixed by updating the CA cert bundle, again, described in the guide.. Indeed, and that's what the guide says. Th problem that's been coming up with gmail lately is not that the server is presenting an invalid cert, but that the client lacks the correct CA certs in order to validate it correctly. So it is a client-side issue, but one that can be fixed by updating the CA cert bundle, again, described in the guide.. The clue is in the error message: network is unreachable. That means your ISP is blocking outbound SMTP. Nothing you can do about it from your code - talk to your ISP. This is covered in great detail in the troubleshooting guide linked from the error.. The clue is in the error message: network is unreachable. That means your ISP is blocking outbound SMTP. Nothing you can do about it from your code - talk to your ISP. This is covered in great detail in the troubleshooting guide linked from the error.. Usually because your script is being run twice - this is a common problem with some browser extensions. Either that or you have a mistake in your code, but you have not posted that.. Usually because your script is being run twice - this is a common problem with some browser extensions. Either that or you have a mistake in your code, but you have not posted that.. Your code all looks correct. If you set SMTPDebug = 4 it will include your encoded ID and password (for you to verify - don't post it here). If you're sure it's correct, I can only suggest you talk to Office365 support.. It looks like your server does not have its hostname configured correctly. If you run hostname in a shell, I expect you'll get just mantis, but you need a full hostname. Run hostname mantis.domain.com.br to set it temporarily, and echo mantis.domain.com.br > /etc/hostname to make it permanent.. Thanks!. You have a TLS problem. It's likely that your server is misconfigured (e.g. lacks openssl as @NiklasBr suggested, or has out of date CA certificates). Either way, you should read the troubleshooting guide that is linked from the error message as it tells you how to diagnose and deal with issues like this.. Thanks. Thanks. Make sure you're using 6.0.2 - there is a fix for this issue in it.. Any additional clues if you set SMTPDebug = 3, which will show more connection-related output? And with an openssl test as per the guide?. No, using openssl, not just checking that the PHP extension exists, like this (from the guide):\nopenssl s_client -starttls smtp -crlf -connect smtp.gmail.com:587\n\nor\nopenssl s_client -crlf -connect smtp.gmail.com:465\n\nThat port tester is pointless - you don't need port 465 (inbound) open on your own server, and if you check Gmail's port 465, the result is irrelevant because it's not checking from your own server.. Can you try telnet smtp.gmail.com 465, just to see if it connects? (info for installing telnet).. I'd say not. This is what I get from a working connection (which times out and closes after a few seconds):\ntelnet smtp.gmail.com 465\nTrying 64.233.166.109...\nConnected to gmail-smtp-msa.l.google.com.\nEscape character is '^]'.\nConnection closed by foreign host.. You can get the openssl binary for windows here: https://www.tbs-certificates.co.uk/FAQ/en/openssl-windows.html. Looks like you have an SSL problem (which openssl would show) - I suggest trying SMTPSecure = 'tls' and Port = 587 in PHPMailer as you'll get more feedback.. That looks like your firewall blocking it. Info. It's nothing to do with your certificate; that's not involved at all. The \"certificate verify failed\" message is unambiguous, and (since you're able to connect to gmail), is mostly likely because your CA certificates file is out of date. Running the openssl tests would tell you exactly why it's failing, but in the absence of those, you'll have to figure it out - there's nothing I can do. You're still using an old version of PHPMailer (which may explain why SMTPOptions isn't working for you), so upgrading would be a good idea anyway.. No. Openssl in your PHP installation will use an OS-supplied list of all root certificates that are used to validate TLS connections. This file is updated periodically via OS updates. In the case of smtp.gmail.com, the certificate is signed by Google Internet Authority G3, so when you connect, that certificate is looked up in your CA certs and used to verify the certificate - which in your case is failing. You can get updates for the list from Microsoft. You can also override PHP's CA certificate list and provide your own (often downloaded from cURL) which you can point at from the openssl.cafile directive  in your php.ini.. If it's the download from here on github, it's a false positive. See scan results from virustotal and BKAV.. Yes, that's why I included that second scan link from BKAV which shows it virus free. It's a false positive.. php\n$mail->SMTPSecure = 'ssl'; // Enable TLS encryption, ssl also accepted\n$mail->Port = 587; // TCP port to connect to\nThat combination won't work. Either use ssl and port 465 or tls and port 587, as all the examples do and the troubleshooting guide says.. Do the tests described in the guide, post your results here.. Read the readme, look at the wiki for tutorials etc, base your code on the contact form example provided in the examples folder.. This combo won't work:\n$mail->SMTPSecure = 'tls';\n$mail->Port = 465;\n\nUse:\n$mail->SMTPSecure = 'ssl';\n$mail->Port = 465;\n\nor\n$mail->SMTPSecure = 'tls';\n$mail->Port = 587;\n\nI suspect that's not your problem though - there has been a recent flurry of problems like this because some CA root certificates were apparently updated, see #1264, which is also covered in the troubleshooting guide.. Also you're loading the classes wrong - look at what it says in the readme. You need to use the class names to import them into your namespace, and if you're using composer, you don't need to load PHPMailer's classes separately - composer's autoloader will deal with that.. Yes, you can not use use (confusing I know!) by using fully qualified class names (FQCNs) instead. This:\nphp\nuse PHPMailer\\PHPMailer\\PHPMailer;\nrequire 'path/to/src/PHPMailer.php';\n$mail = new PHPMailer;\nis functionally identical to:\nphp\nrequire 'path/to/src/PHPMailer.php';\n$mail = new PHPMailer\\PHPMailer\\PHPMailer;\nAll the use does is alias the PHPMailer class out of its own namespace into your own (global) namespace.\n. You need to load that class, that's all:\nrequire 'src/Exception.php';. You should use the whole file containing all the certs. You don't need to pick out specific ones.. If you have multiple files, just `cat` them all together.. It's probably a PHP-level problem. Download the latest CA certificates from [curl](https://curl.haxx.se/docs/caextract.html) and point your PHP config at it via [`openssl.cafile`](http://php.net/manual/en/openssl.configuration.php). You can confirm what the problem is using the openssl test in the guide.. No, the guide linked from the error message: https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. The openssl test is run from a command line like this:\n\nopenssl s_client -starttls smtp -crlf -connect mail.hunterrafuse.dx.am:587\n\nThe output from that will show the verification chain for your certificate.\nYou need to download the CA file from curl, save that somewhere on your server, set the path for it in the openssl.cafile option in your php.ini file. So it would be something like:\nopenssl.cafile = /path/to/cafile.pem. This command you posted won't work:\n\nopenssl s_client -starttls smtp -crlf -connect mail.hunterrafuse.dx.am:465\n\nYou're asking it to use explicit TLS on a port expecting implicit. It works if you switch that to port 587. You can make it work on port 465 like this:\nopenssl s_client -connect mail.hunterrafuse.dx.am:465. Everybody can use composer. It does not require you to run it on your server. If you can run PHP *at all*, you can use composer. Everyone else can load the classes separately, like they will already be doing for all other libraries if they're not using composer.. Read the troubleshooting guide, in particular what it says about GoDaddy. Also, update your PHPMailer; theres no reason to run an old version.. Same problem, same solution.... The XOAUTH2 guide in the wiki is out of date, and the procedure is different in PHPMailer 6 (the doc says this). If you look at the [Gmail XOAuth code example](https://github.com/PHPMailer/PHPMailer/blob/master/examples/gmail_xoauth.phps) you may find it's more helpful than that doc.\n\nIf you make that work, it would be helpful if you could create a new wiki page to help others.. This doesn't appear to have anything to do with PHPMailer.. This is still nothing to do with PHPMailer.. Those files don't exist in the current version. Read the readme and examples.. No, you're doing it wrong. You should have looked at how alternativeExists() works along with the ContentType property (which defaults to text/plain). If you want to send plain text email, just do this:\n$mail->Body = 'plain text body';\n\nYou don't need to call isHTML because it defaults to plain text anyway; I suspect you're setting AltBody, which will cause it to switch to a multipart/alternative structure - AltBody doesn't mean \"the plain text body\", it means \"the alternate body\", which you don't need if you're sending a single text/plain or text/html body part.. An error saying \"certificate verify failed\" can be caused by one of three things:\n\nYour ISP is redirecting you to their own mail server\nThe mail server is presenting you with an invalid or expired certificate\nYour CA certificate list does not contain the root certificate that the mail server's certificate is signed with.\n\nIt's not 1, because you can see the server is responding with the correct name, smtp.gmail.com. It's very unlikely to be 2 because this is gmail; google is not in the habit of publishing expired certs (though you can verify that using openssl). That leaves 3, which has been happening a lot recently, and is solved by either updating your OS-supplied CA certificate store, or by downloading your own and pointing your PHP config at it using the openssl.cafile directive.\nEvery one of these is described in the guide.. You've posted a var_dump of the PHPMailer object - that's not the same thing as SMTP debug output, and it's not much use. Set $mail->SMTPDebug = 3; in your code and run it, then post the SMTP transcript it will generate.. These are not added by PHPMailer. They are not present in the original message at all, but are added by the receiving mail server.. Thanks! Glad you like it. Support docs in other languages would be very welcome, but I'd say more of a priority (if you have time) would be making docs are up to date for version 6.0, for example I know the gmail oauth doc needs updating - this would avoid you translating docs that are out of date. I don't know if there is such an option either! I think you have to create duplicate wiki pages and just name them sensibly so that they get grouped together, and you could add links to each of the other language versions. I don't know if there's any structure available for wiki pages - I have seen some projects that have hundreds, and it becomes dependent on maintaining a contents page and searching. I don't want to put wiki content into the source project - I just removed all the static documentation for the 6.0 release!. Sounds great, go ahead. Probably the most useful thing to translate would be the troubleshooting guide, though it does change fairly frequently. The basic tutorial and the gmail oauth guide would be good too, but both need updating anyway.. I don't know if there are better ways of organising the wiki, but there are only a few significant docs, so I don't see it getting too cluttered.. Nice one.. You have a TLS problem, but you need to set $mail->SMTPDebug = 3; to see more of that. You're missing a quote on this line:\n$email = xxxxx@xxxxxx.org';\n\nI'd also recommend you learn how to use the PHP switch statement rather than using all those ifs..... You have a TLS problem, but you need to set $mail->SMTPDebug = 3; to see more of that. You're missing a quote on this line:\n$email = xxxxx@xxxxxx.org';\n\nI'd also recommend you learn how to use the PHP switch statement rather than using all those ifs..... In the first case your ID or password must be wrong, and you're using an old version of PHPMailer. In the second case your server doesn't support STARTTLS, so your attempt to use it isn't working.\nYou should not be suppressing certificate verification unless you have a specific reason to do so and you fully understand the consequences; it should not normally be necessary and it's a security risk.\n@razorshaleh That comment makes no sense - how would suppressing useful debug output be any help?. In the first case your ID or password must be wrong, and you're using an old version of PHPMailer. In the second case your server doesn't support STARTTLS, so your attempt to use it isn't working.\nYou should not be suppressing certificate verification unless you have a specific reason to do so and you fully understand the consequences; it should not normally be necessary and it's a security risk.\n@razorshaleh That comment makes no sense - how would suppressing useful debug output be any help?. Suppressing the verification is academic anyway because your server doesn't apparently support encryption at all.\nThere's not really anything I can suggest regarding the auth. The auth command is pretty simple, and works. I'd recommend looking in your mail server logs to see if there is more detail there.. Suppressing the verification is academic anyway because your server doesn't apparently support encryption at all.\nThere's not really anything I can suggest regarding the auth. The auth command is pretty simple, and works. I'd recommend looking in your mail server logs to see if there is more detail there.. Read the readme on how to load PHPMailer and how to use composer.. Read the readme on how to load PHPMailer and how to use composer.. Yes - read the troubleshooting guide linked from the error. This is most probably caused by a missing or out of date CA certificate, which is an OS / PHP problem, nothing to do with your script or PHPMailer specifically.. Yes - read the troubleshooting guide linked from the error. This is most probably caused by a missing or out of date CA certificate, which is an OS / PHP problem, nothing to do with your script or PHPMailer specifically.. Where to get the CA certs is in the guide (which I have just updated), but where to put it in XAMPP is not something I can help with.. Where to get the CA certs is in the guide (which I have just updated), but where to put it in XAMPP is not something I can help with.. Good catch, thanks. Changing the overall line break format with setLE might generate the DKIM signature correctly, but it will break the message when sent via mail(). I think the right fix is to change DKIM_BodyC() to always use a literal CRLF, independent of the line break setting:\n```php\n    public function DKIM_BodyC($body)\n    {\n        if (empty($body)) {\n            return \"\\r\\n\";\n        }\n        // Normalize line endings to CRLF\n        $body = static::normalizeBreaks($body, \"\\r\\n\");\n    //Reduce multiple trailing line breaks to a single one\n    return rtrim($body, \"\\r\\n\") . \"\\r\\n\";\n}\n\n```\nand change the last line of DKIM_HeaderC() to:\nreturn implode(\"\\r\\n\", $lines);\n\nCan you test that in your env?\nI suspect this got through because for a time during 6.0 development, LE was a constant and always set to CRLF, but when that was changed to a class property, this got updated in the wrong way.. Good catch, thanks. Changing the overall line break format with setLE might generate the DKIM signature correctly, but it will break the message when sent via mail(). I think the right fix is to change DKIM_BodyC() to always use a literal CRLF, independent of the line break setting:\n```php\n    public function DKIM_BodyC($body)\n    {\n        if (empty($body)) {\n            return \"\\r\\n\";\n        }\n        // Normalize line endings to CRLF\n        $body = static::normalizeBreaks($body, \"\\r\\n\");\n    //Reduce multiple trailing line breaks to a single one\n    return rtrim($body, \"\\r\\n\") . \"\\r\\n\";\n}\n\n```\nand change the last line of DKIM_HeaderC() to:\nreturn implode(\"\\r\\n\", $lines);\n\nCan you test that in your env?\nI suspect this got through because for a time during 6.0 development, LE was a constant and always set to CRLF, but when that was changed to a class property, this got updated in the wrong way.. Hm. Section 3.4.1 says that headers should not be changed at all, doesn't mention anything about line break format. I'll be interested to see what your DKIM tests make of this change.. Hm. Section 3.4.1 says that headers should not be changed at all, doesn't mention anything about line break format. I'll be interested to see what your DKIM tests make of this change.. Yep, that makes sense - I think that's another leftover from the const->class property change. AltBody should be passed through the same functions, so I'd expect it to work the same way.. Good news. Yes, I'll push these changes shortly and they'll be in the next release.. Thank you for reporting and being able to test it!. Debug output always uses UTC. If you're going to stay sane when working with time zones, always work in UTC and correct on output if you need to. You can always override the output behaviour by injecting your own Debugoutput handler - see the source code for how to do that.. I suspect this is down to Yahoo. You're doing things right, but one thing that's likely to upset them is this:\nCLIENT -> SERVER: EHLO localhost\n\nYou're effectively giving an unverifiable identity at this point, so you need to either set the hostname of your server correctly so that PHP can find it, or put it into the Hostname property in PHPMailer:\n$mail->Hostname = 'myserver.example.com';\n\nNote this is different to the Host property, which identifies the server you're connecting to.. I can't tell. The only thing I have to go on is the boolean returned by the mail() function. PHPMailer isn't (and shouldn't be) responsible for your entire PHP and OS configuration; it's just a small component. That said, you might like to put some effort into the diagnostic utility idea in #612; PRs welcome.\nI strongly recommend (as do the docs) not using mail() anyway since it's impossible to use securely, and it's also slower and provides less feedback (as you're finding) than SMTP to localhost.. When you say \"the latest version\", do you mean the current master branch, or the 6.0.2 release? 6.0.2 is the latest released version, but there are DKIM-related changes that have not yet been released. Please can you check using the master branch?. Yes - it means you're using the release 6.0.2. Can you try changing your composer.json to say dev-master instead of 6.0.*, or whatever you have there at the moment, for the PHPMailer package version, then run composer update and it will pull the latest dev version.. That's good news! Yes - stick with dev-master for now. I'll aim to do a release next week, and I'll be sure to comment on this issue so you know when it's done.. That's good news! Yes - stick with dev-master for now. I'll aim to do a release next week, and I'll be sure to comment on this issue so you know when it's done.. I've just tagged the 6.0.3 release which includes this fix.. No, this is exactly your problem. Rejecting invalid certificates is default PHP behaviour, and it's up to you to deal with it. Anything else is compromising your security and defeating the point of using encryption at all.. No, this is exactly your problem. Rejecting invalid certificates is default PHP behaviour, and it's up to you to deal with it. Anything else is compromising your security and defeating the point of using encryption at all.. Wrong. It's the server that you connect to that provides the certificate; PHPMailer does not send any certificates at all. If you're going to insult people, know what you're talking about first.. Wrong. It's the server that you connect to that provides the certificate; PHPMailer does not send any certificates at all. If you're going to insult people, know what you're talking about first.. No, but you do need to understand the parts that you're using. Java had exactly the same issue when it did the same switch, as did ruby, perl, and python - this isn't a new problem. It's entirely possible that different installations of PHP 5.6 can have different results because they may be using different CA certificate bundles - the same applies to any other language using system-provided CA certs. All of this has been thoroughly documented here and elsewhere for years. Don't blame others for your own ignorance; learn, read documentation, and don't insult those that try to help you.. No, but you do need to understand the parts that you're using. Java had exactly the same issue when it did the same switch, as did ruby, perl, and python - this isn't a new problem. It's entirely possible that different installations of PHP 5.6 can have different results because they may be using different CA certificate bundles - the same applies to any other language using system-provided CA certs. All of this has been thoroughly documented here and elsewhere for years. Don't blame others for your own ignorance; learn, read documentation, and don't insult those that try to help you.. No, it's really not caused by PHPMailer - that's just where the symptoms show up. It's caused by either the server presenting an invalid or expired certificate, or that the CA certificates you have installed in your OS (and thus used by PHP) are outdated and do not include the root certificate required to verify the certificate presented by the server. How to diagnose and remedy this is described in the troubleshooting guide.\nIt has nothing to do with the configuration of your vhost  - that's only used for HTTPS, not SMTP.. No, it's really not caused by PHPMailer - that's just where the symptoms show up. It's caused by either the server presenting an invalid or expired certificate, or that the CA certificates you have installed in your OS (and thus used by PHP) are outdated and do not include the root certificate required to verify the certificate presented by the server. How to diagnose and remedy this is described in the troubleshooting guide.\nIt has nothing to do with the configuration of your vhost  - that's only used for HTTPS, not SMTP.. That will work, but it will only help for servers using that specific certificate. The guide suggests downloading the CA cert bundle from curl, and that download does include GlobalSign R2 certificate you pointed to, and that should also make sure that any other similar roots are updated too. You can use the SMTP options as you suggest, but I'd recommend fixing it using openssl.cainfo in your php.ini, as that will fix it for all uses of SSL in PHP, not just this specific instance with PHPMailer.. That will work, but it will only help for servers using that specific certificate. The guide suggests downloading the CA cert bundle from curl, and that download does include GlobalSign R2 certificate you pointed to, and that should also make sure that any other similar roots are updated too. You can use the SMTP options as you suggest, but I'd recommend fixing it using openssl.cainfo in your php.ini, as that will fix it for all uses of SSL in PHP, not just this specific instance with PHPMailer.. I'm not sure what you mean - it's showing the error quite clearly, and it's a problem described in the troubleshooting guide. You're asking to connect to smtp.gmail.com, but you are actually connecting to id24426.grupoallegra.com, and so of course the name on the TLS certificate does not match. This is because your ISP is transparently redirecting SMTP traffic to their own server, and the certificate mismatch is allowing you to detect that this is happening, and is then refusing to continue - so it's working exactly as intended. If it did not do this, it would proceed and give away your gmail credentials to what could be an unknown man-in-the-middle attacker, though it's more likely to just be your ISP.\nThe solution to this is to connect directly to your ISP's server intentionally (see their documentation or support services for what they want you to do - every ISP is different), and then the certificate will match. Unfortunately, this also means that you will not be able to use your gmail address as a from address as that's forgery and your messages will be rejected by SPF checks, so you will need to change your from address as well. You may be able to ask your ISP to allow SMTP connections to gmail.. I'm not sure what you mean - it's showing the error quite clearly, and it's a problem described in the troubleshooting guide. You're asking to connect to smtp.gmail.com, but you are actually connecting to id24426.grupoallegra.com, and so of course the name on the TLS certificate does not match. This is because your ISP is transparently redirecting SMTP traffic to their own server, and the certificate mismatch is allowing you to detect that this is happening, and is then refusing to continue - so it's working exactly as intended. If it did not do this, it would proceed and give away your gmail credentials to what could be an unknown man-in-the-middle attacker, though it's more likely to just be your ISP.\nThe solution to this is to connect directly to your ISP's server intentionally (see their documentation or support services for what they want you to do - every ISP is different), and then the certificate will match. Unfortunately, this also means that you will not be able to use your gmail address as a from address as that's forgery and your messages will be rejected by SPF checks, so you will need to change your from address as well. You may be able to ask your ISP to allow SMTP connections to gmail.. PHPMailer takes care of this for you. Just add BCC addresses and do not set a To address, and it will add the empty \"undisclosed recipients\" group address (which is what it is) automatically.\n. PHPMailer takes care of this for you. Just add BCC addresses and do not set a To address, and it will add the empty \"undisclosed recipients\" group address (which is what it is) automatically.\n. Look at the raw message source - how it is presented in an email client will vary, and you don't have much control over that. You can see how PHPMailer handles it in the source code.. Look at the raw message source - how it is presented in an email client will vary, and you don't have much control over that. You can see how PHPMailer handles it in the source code.. > I've read that setFrom() already sets Return-path header.\nI've no idea where you read that, but this is untrue. You can set the Sender property (not a header) in PHPMailer, which is used for the SMTP envelope sender. If you do not set it explicitly, the from address is used by default. It does not set a sender header, nor does it set a return-path header. The return-path header is added by the receiving server, and it is usually taken from whatever is used in the SMTP envelope sender. In short, the Sender property will usually end up in a return-path header in a received message, but it's not PHPMailer that puts it there, and you should not try to add it.\nIf you don't set a from address, PHPMailer will generate one from your current username (this is probably where \"apache\" comes from) and your server's host name. bear in mind that some services will not let you set an arbitrary from address (for example gmail), and will fall back to your user account name instead.. > I've read that setFrom() already sets Return-path header.\nI've no idea where you read that, but this is untrue. You can set the Sender property (not a header) in PHPMailer, which is used for the SMTP envelope sender. If you do not set it explicitly, the from address is used by default. It does not set a sender header, nor does it set a return-path header. The return-path header is added by the receiving server, and it is usually taken from whatever is used in the SMTP envelope sender. In short, the Sender property will usually end up in a return-path header in a received message, but it's not PHPMailer that puts it there, and you should not try to add it.\nIf you don't set a from address, PHPMailer will generate one from your current username (this is probably where \"apache\" comes from) and your server's host name. bear in mind that some services will not let you set an arbitrary from address (for example gmail), and will fall back to your user account name instead.. You can't see what's going on because you have not enabled sufficient debug output. Set SMTPDebug = 2 to see what the server is unhappy about. This is one of the first things that the troubleshooting guide tells you to do.. You can't see what's going on because you have not enabled sufficient debug output. Set SMTPDebug = 2 to see what the server is unhappy about. This is one of the first things that the troubleshooting guide tells you to do.. Beyond that, it's very likely that AWS throttles your email traffic, which might explain the slowdown. Sending email interactively can be very slow, so you should avoid doing it during page processing - hand it off to a queue or cron job to send asynchronously. Your code is also quite inefficient - look at the mailing list example provided with PHPMailer for how to send quickly, in particular the re-use of a single instance and keep-alive.. Beyond that, it's very likely that AWS throttles your email traffic, which might explain the slowdown. Sending email interactively can be very slow, so you should avoid doing it during page processing - hand it off to a queue or cron job to send asynchronously. Your code is also quite inefficient - look at the mailing list example provided with PHPMailer for how to send quickly, in particular the re-use of a single instance and keep-alive.. All your code is ok, so it does appear to be a throttling problem (assuming your host is the same each). If you send all your messages in a single connection you should avoid the connection throttle sufficiently.\nThere is an off-the-shelf queuing system that will work with this code, and also deal with retries, errors and rejections. It\u2019s called... any mail server you care to install. Postfix works great. Using PHP and some other queuing system to reimplement a mail server is a pointless exercise.. All your code is ok, so it does appear to be a throttling problem (assuming your host is the same each). If you send all your messages in a single connection you should avoid the connection throttle sufficiently.\nThere is an off-the-shelf queuing system that will work with this code, and also deal with retries, errors and rejections. It\u2019s called... any mail server you care to install. Postfix works great. Using PHP and some other queuing system to reimplement a mail server is a pointless exercise.. Don't do it like that. Configure a local mail server as a relay and have it deal with distribution to different mail servers. There's no point in writing PHP to do a job that a mail server will do much better. That said, it's not clear why you're sending each message via a different server; that's a strange thing to do - unless you are acting as a mail server, in which case, stop being one and let a real mail server do it.. Please read the troubleshooting guide. It shows how to diagnose and fix this problem.. Please read the troubleshooting guide. It shows how to diagnose and fix this problem.. I don't think there's anything I can do about this - it needs to be fixed in composer. PHPMailer accounts for just one line in a project's composer.json, and AFAIK the syntax for that has not changed at all. The PHPMailer file layout is bog-standard PSR-4. If PHPMailer has a problem with composer 1.6, I suspect many other packages do too.\n  . Thanks, and welcome to Github!. You have a TLS problem, probably caused by outdated CA certificates which has affected gmail recently, exactly as described in the troubleshooting guide, reported here at least 10 times, and also many times on Stack Overflow. Search before posting.. Your site's certificate has absolutely nothing to do with this. That's also mentioned in the guide, along with everything else that the error message gmail is showing you. I can't make you read the docs, but you won't fix this unless you do.. It's just very boring when I have to answer the same question over and over again when the answer is fully documented.\nSo tell me what happened when you replaced your CA certificates bundle with an updated version as the guide suggests? What happened after you did what gmail told you and logged into gmail via your browser (as mentioned in the guide)? What happened when you visited the \"display unlock captcha\" page, also in the guide?\nAlso as the guide says, setting the SMTPOptions like that will make the problem \"go away\", but it does not fix it, it just hides your security vulnerability.. That you're using PHP 5.3 (which you shouldn't be anyway as it's years out of support and contains security holes) doesn't mean that your CA certificates don't matter - they can cause validation failures in exactly the same way as other PHP versions. The only difference is that 5.3 doesn't verify by default - so you must have a non-default config that enables certificate verification in 5.3, which is a good thing.\nThe guide tells you how to validate your certificate chain using openssl, and that will tell you exactly what the problem is. Overall, this is not a PHPMailer problem - it's a PHP config issue caused by changes in gmail and using outdated packages (which is how CA certs are usually updated).\nEnabling less secure apps has nothing to do with TLS or certificates; it only affects the authentication mechanisms available, which happen after a TLS connection has been established.. @githubfranci SVP lire les messages, suivez les liens. Utiliser l'exemple gmail et utilisez votre id/pass.. Does PHPAuth depend on PHPMailer 6.0? If it's not been updated for that then the class is not namespaced and you'll get exactly that symptom. I find composer is easier for even a single dependency like PHPMailer, but when you have a project of any meaningful size, it becomes vital. Frameworks like Symfony and Laravel would be considerably worse without it.. Well that makes sense - you can\u2019t tell it you\u2019re going to use PHPMailer\u2019s namespaced class name and then use an old PHPMailer version that doesn\u2019t support it, or vice versa.. Note the meaning of your version string ^5.2 does not mean \u201c5.2 and above\u201d. It means >= 5.2.0 and < 6.0. See composer docs. I recommend using the namespace and changing the version match to ^6.0, which will match all versions up to (but not including) 7.0.. Sure. Just set it in the Host property using square brackets around the address:\n$mail->Host = \u2018[2048:1234:...:1]\u2019;\n\nObviously you also need your server to have a working IPv6 stack and address.. Well it won\u2019t work then, unless you configure a 4-to-6 tunnel, which is outside PHPMailer\u2019s control.. In the first debug output, you're trying to send without authenticating, and it looks like your server requires that, so set SMTPAuth = true. Your Host property says smtpmail.propath.com, but the server you're connecting to says it's called watchguard.propath.com, and the certificate is in that name too, so verification will fail. To fix that I suggest setting Host = 'watchguard.propath.com' and removing the verification suppression in SMTPOptions - that's never a good thing to have. Note that it's using SMTP+STARTTLS encryption (SMTPSecure = 'tls') because PHPMailer spotted that your server supports encryption and so enables it automatically, but it will fail by default because of the hostname mismatch.\nAs for the second and third sets of debug output, that just looks like outbound SMTP is blocked from your AWS server, which is common. The tests in the troubleshooting guide will help you confirm that.. You showed before that port 587 doesn't work, however, SMTP+STARTTLS works fine on port 25 (one of its advantages over SMTPS on port 465), and you've already shown that your TLS config is working (it connected successfully after you suppressed verification) - with the hostname change and removing the suppression it should be all good. I hope you work out what AWS are doing!. You have a TLS problem, exactly as described in the troubleshooting guide the error links to. It's most likely an outdated CA certificates file.. Please read the issue template before submitting requests. You're probably running into a problem validating gmail's TLS certificate, but I'm only guessing because you didn't include the information that the template requested.. As far as I'm aware, gmail's labels are completely arbitrary and user-defined, and I don't think you have any control over them from the sender's side, and their built-in labels (promotions etc) are based on the content, which is up to you, not PHPMailer. It would be interesting to find out more about how they work if you feel like experimenting, but I don't think there's anything I can do now.. Sounds like you have the wrong mail server name, or your mail server is down. There's nothing PHPMailer can do about that.. As far as firewalls go, they can't tell the difference between PHPMailer and SwiftMailer - they both connect to SMTP servers in exactly the same way. If they are blocking SMTP and you're using that in PHPMailer and SwiftMailer is using php's mail() function (common in shared hosting), that would explain the difference. But without code, I can't tell.. That won't help if its not even connecting - it will never get as far as sending the X-Mailer header.. The code is fine - what debug output do you get? If none, set SMTPDebug = 3 for more connection-level info.. You have a TLS problem. It's likely your CA certificate bundle is out of date - look at the troubleshooting guide in the wiki for how to update that, and how to diagnose other TLS issues.. The giveaway is that it gives up immediately after sending STARTTLS - that usually means that the cert is invalid, or you have outdated local CA certs so your validation fails. SMTPDebug = 3 might show more info - it's quite difficult to get at the low-level openssl messages in PHP - PRs welcome.\nSwitching to 'ssl' (SMTPS) probably won't help - the mail server will most likely use the same TLS stack for both, but you won't be able to see why it's failing in the SMTP transcript. Testing with the openssl client will be useful. Also I wouldn't call ssl/465 a downgrade - while it's been deprecated since 1998, it is more resistant to MITM attacks, and it's about to get a new lease of life in RFC8314.. Unfortunately that doesn't help much. The most likely explanation is that your local CA certs are out of date, so try updating them as described in the troubleshooting guide.. This will be down to the email client apps - PHPMailer simply sends whatever you give it, so it's up to you to make sure it's right. HTML email is very difficult because rendering across different clients is so variable. Take a look at projects like https://www.email-standards.org for more guidance.. No. autoload.php is created by composer. PHPMailer no longer has its own autoloader because composer makes a much better job of it. If you don't want to use composer, you can load the files manually as described in the readme.. OK - I'll close this PR in favour of #1331 that doesn't have a merge conflict.. Thanks. Close to 1337 too!. That looks like your ISP is blocking outbound SMTP. I suggest reading their docs or contacting their support. This is covered in the troubleshooting guide linked from the error message. FWIW, I can get to that host just fine from outside.. This is covered in the readme - it's generated by composer.. Debug output is orthogonal to error handling; you shouldn't be using the former to do the latter. One thing you can do though is inject your own handler into Debugoutput, and use that to check the error status at the time you receive an error. The Errorinfo property will tell you what kind of error it is, and you can use that inside your error handler to decide whether/when/where/how to log it. There's an example of injecting a debug handler in the source and in this example.\nUltimately this needs addressing by replacing the exception system in PHPMailer; I wrote a better one back in about 2008, but the maintainer at the time made a bit of a mess of it which resulted in the strange use of constants like self::STOP_CRITICAL rather than different Exception subclasses, which we're stuck with until we choose to break BC.. You need to set the Sender property in PHPMailer so that bounced messages go somewhere you can process them (also see VERP addressing). All mail servers have the ability to pipe inbound messages to a script, so you then need to do that. Be warned though, PHPMailer doesn't have anything to do with bounce processing, and writing bounce processors is very unpleasant; you can a start using packages though, such as voku/bounce-mail-handler.. I really don't like using empty like that because of its implicit error suppression, which means you can't tell why it's failing. For example:\nphp\n$a = ['a' => 1, 'b' => null];\necho empty($a['b']); //true\necho empty($a['c']); //also true, but you don't know why\n//but:\necho $a['b']; //Outputs nothing\necho $a['c']; //Triggers unknown array index error\narray_key_exists() does not share that ambiguity, because it checks whether the index exists, not whether the value it points to is empty.\nI want that first test for array_key_exists('to', $_POST) to check specifically whether we are looking at a POST submission containing expected form fields before proceeding to input validation (which may quite reasonably use empty for checking field contents, not existence); checking for !empty($_POST['to']) is relying on a non-obvious peculiarity of PHP (that empty suppresses errors), and while that test will work in practice, it may be doing so for the wrong reason, and wrong reasons are the foundations of future bugs. I put it firmly in the same category as using @ to suppress errors; it's worth avoiding.. We've seen this before in #189, where it turned out to be inconsistent behaviour from Office365 - the same code and credentials worked at one point, not at another. I've seen mention elsewhere of needing to create app-specific passwords in office365. You could also try XOAUTH2 authentication, though it's more complex to set up.\nI can also tell you're using an old version of PHPMailer - please upgrade.. @billjave Download the latest version, or ideally install it into your app using composer (as the readme says), write code to use it based on the examples and documentation, if you have trouble, read more docs, read questions on Stack Overflow, and if you still have trouble, ask specific questions and describe exactly what your problem is.\nDon't demand private help for undefined problems by hijacking unrelated questions, hassling those that are also asking questions, it just annoys everyone. If you don't know how to write scripts, employ someone that does.. You already have the info you need.. Here's a clue: https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nIt's probably that your ISP is blocking outbound SMTP.. We've already got fairly tight phpcs config that's enforced on PRs, and also have scrutinizer-ci configured, so it sounds like we already have quite a lot of the same stuff covered already. I'm not that big a fan of auto-fixing as I've seen it make too many mistakes. What advantages do you have over those?. SMTPDebug = 4 is too noisy, 2 or 3 is enough for this kind of issue. There's no problem shown in any of the output you posted; please show more meaningful output.. OK, you have a TLS problem - look at the troubleshooting guide for lots of info for how to diagnose that further - it's likely you need to update your CA certificates.. It's not your code, it's your environment. You need to update your CA certificates. Exactly this problem is covered in detail in the troubleshooting guide.. There isn't a provision to do that, however, you don't need it - quoted-printable transfer encoding is ASCII 7bit safe, so the default will work fine and it doesn't need an extra charset clause.\nThe addStringEmbeddedImage method lets you set a cid for the attachment which will set that header for you. You can ignore the \"image\" in the method name - it doesn't care what type of content you attach really.. The exact text of that error message tells me that you're using a very old version of PHPMailer, so I suggest updating and retrying. Fixing old versions is pointless - that's what new versions are for.. You're not getting any SMTP debug output because it's not getting as far as talking SMTP - it's failing at the network level. I'd guess that your ISP is blocking outbound SMTP. The telnet tests in the troubleshooting guide will confirm that. You probably need to refer to their docs or ask them to enable SMTP.. You've got a TLS failure after attempting STARTTLS, and you're connecting to gmail, which changed its root cert not so long ago to one that's not in many OS CA cert bundles. That's all covered in the troubleshooting guide - so try updating your local CA certs.. What are you doing?. You have a TLS problem that is covered extensively in the troubleshooting guide the error links to. Go and do what it says. Please search before creating issues, and don't ignore what it says in the issue template - it's only polite, and is far faster for you to do that than go to the effort of writing a pointless bug report for something that has been fixed/documented long ago.. It\u2019s created by composer, as documented in the readme.. Why are you trying to connect to a POP3 server? PHPMailer needs to talk to an SMTP server, so set Port = 465.. Why are you trying to connect to a POP3 server? PHPMailer needs to talk to an SMTP server, so set Port = 465.. Strange. Those headers are correct \u2013 if you have an AltBody, the overall message MIME structure needs to be a multipart/alternative. What is the $headers variable for?\nCan you try without $mail->Encoding = \"base64\";? Base64 CTE isn't really appropriate for text messages; quoted-printable is usually better, and it may be interfering with the DKIM too.. Strange. Those headers are correct \u2013 if you have an AltBody, the overall message MIME structure needs to be a multipart/alternative. What is the $headers variable for?\nCan you try without $mail->Encoding = \"base64\";? Base64 CTE isn't really appropriate for text messages; quoted-printable is usually better, and it may be interfering with the DKIM too.. Here's how to do all that - it can be tricky.. Here's how to do all that - it can be tricky.. This is a bit strange, and it works fine in the unit tests.\nI wondered if something was interfering with your debug output on github, so I looked at the source you posted and it looks like this:\nTest mit &Uuml;ml&Auml;uten &Auml;ber p&auml;sst;\nThat explains why it's us-ascii - it's using HTML entities, not real UTF-8 chars, and so it really is 7-bit us-ascii and thus the headers are correct. PHPMailer doesn't convert anything to entities, so something else you're doing is responsible for that.\nYour AltBody MIME structure is unexpected - your example contains no 8-bit chars, and so PHPMailer will normally downgrade it to ascii, 7bit CTE (as it's doing for your HTML part); not doing that is a minor RFC contravention.. This is a bit strange, and it works fine in the unit tests.\nI wondered if something was interfering with your debug output on github, so I looked at the source you posted and it looks like this:\nTest mit &Uuml;ml&Auml;uten &Auml;ber p&auml;sst;\nThat explains why it's us-ascii - it's using HTML entities, not real UTF-8 chars, and so it really is 7-bit us-ascii and thus the headers are correct. PHPMailer doesn't convert anything to entities, so something else you're doing is responsible for that.\nYour AltBody MIME structure is unexpected - your example contains no 8-bit chars, and so PHPMailer will normally downgrade it to ascii, 7bit CTE (as it's doing for your HTML part); not doing that is a minor RFC contravention.. Yes. UTF-8 and all the ISO-8859 character sets are ASCII-compatible up to 7 bits, so if you only have 7bit chars in your content, having a charset other than us-ascii does nothing, and in fact adds text processing overhead, hence the recommendation to downgrade the content-type to 7bit us-ascii.\nIf you're using UTF-8, make sure that your script itself is using UTF-8.. Yes. UTF-8 and all the ISO-8859 character sets are ASCII-compatible up to 7 bits, so if you only have 7bit chars in your content, having a charset other than us-ascii does nothing, and in fact adds text processing overhead, hence the recommendation to downgrade the content-type to 7bit us-ascii.\nIf you're using UTF-8, make sure that your script itself is using UTF-8.. PHPMailer will use multipart/mixed automatically where it's appropriate, typically where you have a single body part (i.e. just plain or HTML, not both) with attachments. If you use that pattern, that's the MIME structure you will get. What have you tried?. PHPMailer will use multipart/mixed automatically where it's appropriate, typically where you have a single body part (i.e. just plain or HTML, not both) with attachments. If you use that pattern, that's the MIME structure you will get. What have you tried?. This output is not created by PHPMailer.. This output is not created by PHPMailer.. This isn't a header problem - it's occurring before any are sent. The problem is that the TLS session is failing to start, probably due to an expired or unverifiable server certificate. It seems that the server is continuing with an encrypted TLS conversation even though its setup has failed, and that looks like random garbage to you - it's certainly not expected to be in a readable charset. PHPMailer is trying to give up politely by sending the quit message, but it's a futile attempt. The troubleshooting guide shows how to identify and fix certificate problems, so I suggest reading that.\nBYW PHPMailer is using STARTTLS on port 25 automatically because the mail server is advertising that it supports it.. The most effective thing you can do as a beginner is read the docs and code examples (because most of what you've asked is answered in there). That way you don't have to waste time writing questions and waiting for replies.\nShared hosting on GoDaddy is unfortunately something of a worst-case scenario as far as sending email goes. It's cheap for a reason. GoDaddy has documentation that you should follow.\nRead the readme, which tells you which files you need, and where autoload.php comes from (composer).. You do know that all the wiki pages are publicly editable? Anyone can make changes, so go ahead and add it. That said, the troubleshooting page is getting a bit big - it may be a good idea to break out info about particular software or ISPs into a separate page.. You\u2019re quite right. Thanks for reporting. Want to submit a pull request to fix it?. @jakecroz1 It can be confusing when you don\u2019t read the readme which tells you where the vendor folder comes from, and how to load PHPMailer.. Your actual problem here was that you had $mailer->SMTPSecure = 'tsl'; when it should be $mailer->SMTPSecure = 'tls';.. Follow that link, read what it says, follow its advice.. Read the troubleshooting guide about how to deal with \"certificate verify failed\" errors. It's probably that your CA bundle needs updating.. Set $config['smtp_debug']       = 2;, and then read the troubleshooting guide.. It's failing immediately after STARTTLS, and since this is gmail, it's probably that you need to update your CA certificates, which you already know because it's described extensively in the troubleshooting guide that you've been busy reading, right?. No. You need to use other methods for that.\nBounce handling can be facilitated by setting the Sender property in PHPMailer, then having some other script for handling bounces sent to that address (look up VERP addressing) - PHPMailer doesn't have anything to do with inbound messages.\nInbox/spam placement is not something you can detect at the point of sending, so you need to use other mechanisms for that, which are not part of PHPMailer, such as seed lists and mailbox monitors.\nSome ISPs provide feedback loops that tell you when recipients report messages as spam, but again, that's not part of PHPMailer's area of responsibility.\nSorry it's not much help, but at least you now have some terms to search for.... Read the guide. Your connection is failing just after STARTTLS, indicating a certificate problem, most likely your CA certificates need updating.. Read the guide. Your connection is failing just after STARTTLS, indicating a certificate problem, most likely your CA certificates need updating.. Sorry, no idea. That code is only provided as an example - PHPMailer doesn't have anything to do with IMAP, and this sounds more like a service provider limitation than a client code problem anyway.. Sorry, no idea. That code is only provided as an example - PHPMailer doesn't have anything to do with IMAP, and this sounds more like a service provider limitation than a client code problem anyway.. As the docs say, that means you don't have a local mail server configured, which is required for the mail() function to work. Switch to SMTP instead.. As the docs say, that means you don't have a local mail server configured, which is required for the mail() function to work. Switch to SMTP instead.. Ultimately all that PHPMailer does if you don't call isSMTP() is call the PHP mail function. Perhaps check your php.ini settings relating to mail. Alternatively, switch to using SMTP to localhost, which is both safer and faster.. Ultimately all that PHPMailer does if you don't call isSMTP() is call the PHP mail function. Perhaps check your php.ini settings relating to mail. Alternatively, switch to using SMTP to localhost, which is both safer and faster.. That is entirely down to your ISP's spam filter, but given your example message is so simple, it may be that they have a rule banning PHPMailer. Try setting $mail$mail->XMailer = ' '; (there is a space in those quotes).. That is entirely down to your ISP's spam filter, but given your example message is so simple, it may be that they have a rule banning PHPMailer. Try setting $mail$mail->XMailer = ' '; (there is a space in those quotes).. Thanks. I'd spotted this problem a while ago but not got around to reporting/fixing it.. master will never be merged into 6.0 - master is currently the 6.0 branch. The branch called 6.0 is from before 6.0 was released and merged into master; it should probably be deleted. Essentially I just need to tag a release; I'll aim to do that tomorrow.. I just tagged a 6.0.4 release containing this fix.. Very simple problem: by using what you get back from gethostbyname('smtp.gmail.com') as the Host property, you're using a literal IPv4 address, not a host name, and therefore it will never match the name on the certificate. I know Digital Ocean makes a mess of this, so I'd recommend complaining to them. You could disable certificate checking, but I'd guess you're aware of what that implies.. You could use an ISP that gives a /64 to every user, such as gandi.net, so they don't clash with anyone else - as far as I'm aware, this is the recommended way to deploy IPv6 anyway. The wiki is open for public edits BTW.. You're right. How annoying!. Thanks, fixed in v6.0.5, cb3ea13. Thanks @ooxi. I'd take a wild guess and say that your ID or password are incorrect, and follow the links to Google's support page and the troubleshooting guide - Google often imposes additional constraints on logins using passwords. You should also change your password since its easily decoded from your debug output.. There\u2019s no point in ever having duplicates in an actual sent message, but I\u2019d say you could tweak your approach slightly to achieve what you need. I\u2019d look at using address extensions such as user+randomstring@example.com for dev addresses, and use a similar pattern for those unknown addresses, rather than a single fixed address so they can be easily identified without being duplicates. HTH.. You\u2019ve ignored the link to the docs and everything in the issue template, used an old version, not used a provided example, failed to search before posting a question that has been asked and answered many times before, all of which would have helped you.. Use the guide to diagnose your problem. I can\u2019t tell from your description, but everything I would try is in the guide.. The error means that your script cannot connect to your SMTP server. There are many reasons why this might happen. I suggest starting again - get the latest version of PHPMailer, use one of the examples provided, modify it to match your own server. Set $mail->SMTPDebug = 3; so that it will show what's happening when you try to connect. All of this is in both the issue template (which you deleted) and the troubleshooting guide which your error message links to, so there's not much point in me typing the same thing here.. Sounds like it's failing silently after sending. Check your server's error logs.. How so? It looks like correct UTF-8 to me, my editors display it no problem, though to be fair I don't read Hindi.. I suspect it's your OS rather than your browser; it's quite likely you don't have Hindi fonts.. For reference, here's what I see: \n. That's far too broad a question for here, but there are plenty of resources to help you do that, so just try a bit harder.. It's because either you didn't set up SPF, DKIM and DMARC, as you were already told in #1401, and/or you're sending content that they think is spam. It's not your sending code that's at fault, so there's nothing that can be done here.. Thanks, and welcome to Github!. You have a TLS problem - it's dropping your connection as soon as you send STARTTLS. This exact problem is described in detail in the troubleshooting guide that the error message links to.. Not really. It would defeat the entire point of the setting. The idea is to work as well as possible with well-configured servers (which is most of them). If you have a defective server, it\u2019s up to you to deal with it, not to degrade everyone else.\nThat\u2019s not to say that error messages can\u2019t be improved, as per my original comment.. That wrapping (it's called header folding) is correct, but suggests the DKIM normalization might be having a problem with it. There should be some white space (a tab or space char) at the start of the second line of that folded header.. OK, I'll have a look at that.\nYou can show raw content by using triple backtick \"fences\".. I think I've spotted the problem. All the headers except the subject line are handled correctly by the DKIM_HeaderC method. The Subject line is a special case partly because it needs to be dropped from the headers when using mail(), which adds its own subject header in. The DKIM signature doesn't treat the subject header in quite the same way as the others, leading to this issue. I suspect that if you put the same (long) subject line in a custom header, the DKIM signature would be correct. That's academic though! I've not got a fix yet, but at least I know where to look.. The problem with doing that is that it's an RFC contravention. That it works for you is purely down to luck. The underlying problem is something to do with exactly how PHPMailer folds subject lines for DKIM, and the reason increasing the line length \"solves\" it is that lines do not get folded as much - but if you make your subject line longer, you'll have the same problem again, and all the while you're risking your messages not being delivered at all due to the length contravention.\nIn short, increasing the line length is a workaround, not a fix. The best kind of PR would be some failing test cases relating to very specific header folding rules.. The only reason the PHPMailer error is being displayed is that you're displaying it with echo $mail->ErrorInfo; - you don't have to do that - you can catch/trap the error and process it before displaying anything.\nIt's very likely that what your users enter will be incorrect or non-functional (i.e. for whatever reasons they are even looking at testing an SMTP connection), so you need to be very hot on your error checking and input validation. I'd recommend enabling exceptions (pass true to the constructor, see code examples) as they provide slightly finer-grained errors that you don't get through ErrorInfo.\nIf you really want to only test SMTP connections and not necessarily send anything, I'd recommend using the SMTP class directly as that gives you much finer control, though you'll need to write more code. Take a look at the SMTP connect example provided in the examples folder.. The auth call is here; SMTP AUTH commands usually involve more than one round-trip, and you can't tell whether it's the ID or password that's wrong from the SMTP response. You will see what's happening if you enable debug output that might help you understand how it works. Bear in mind that's only an example - you can build whatever variations you need on that. The SMTP class is very low-level, just implementing individual SMTP verbs - it's up to you to drive it appropriately.\nIf the only problem you have is literally the display of the URL in the message, strip it out with a str_replace. The way you have set this up at the moment is not going to be very reliable - for example you're not taking into account connection timeouts, which can be up to 10 minutes.. That looks nice, but it does appear to be primarily focused on replacing IMAP, which PHPMailer doesn't really touch. PHPMailer isn't very flexible when it comes to replacing/adding sending transports (it has some serious legacy issues in that department!) - I see you opened similar tickets for other mail projects (SwiftMailer, Zend_Mail etc), and they would probably find it easier to implement. What I suspect all have in common is a need for a generic/reference PHP JMAP client class so they don't all have to start from scratch - much as PHPMailer adopted an existing standalone SMTP implementation, or how SwiftMailer uses Guzzle for HTTP. Undertaking that is a huge piece of work, so I'd suspect it's not going to happen without some kind of backing to provide sufficient resources - perhaps fastmail might do it. It looks like roundcube (being a web app) is avoiding the problem by using a JS JMAP implementation, which isn't practical for PHP-only envs. So, nice idea, but I can't even begin to take that on personally. PRs welcome of course.. Don't use user-submitted address as a from address. It's forgery and will result in your messages being bounced or marked as spam. Put their address in a reply-to (using addReplyTo()), and put your own address in From. If you don't provide a from address, it will generate an address, which in your case comes out as root@localhost, which is not a valid address for sending on the public internet, so it's failing.. Look at the contact form example in the examples folder.. You are single-quoting $sender. That will stop it working.. Which part of the error message do you not understand? It's pretty clear - upgrade your PHP version.. Install the latest XAMPP - I assume it has some upgrade mechanism.\nAlso, read what it says in the readme about how to load PHPMailer (make up your mind about whether you're using composer or not), base your code on the examples provided. You've used an old example, have made some random changes that will break things - don't comment out critical lines and expect things to remain working. Start again with clean code.. I don't know what version PHP you're running, but it's not 3.2.2.. I'm really not clear what you're saying, but if you want to send using your gmail account and SMTP, use the gmail example you'll find in the examples folder.. Unfortunately this is life as an email sender. There are no standards for spam filters, and they can do what they like without telling you anything. You can implement SPF (which you're doing already), DKIM (which you're not), DMARC (which needs both SPF and DKIM to work), etc, ensure your messages are formatted well and do not contain spammy content, however many networks now consider everything to be spam unless you can prove otherwise, and their feedback mechanisms are very poor. There's not really much you or I can do.\nOut of all the content you posted, the most interesting is this line:\nX-Microsoft-Antispam-Mailbox-Delivery:\nabwl:0;wl:0;pcwl:0;kl:0;iwl:0;dwl:0;dkl:0;rwl:0;ex:1;auth:1;dest:J;ENG:(400001000128)(400125000095)(5062000261)(5061607266)(5061608174)(4900095)(4920089)(6375004)(4950130)(4990090)(9140004);RF:JunkEmail;OFR:SpamFilterAuthJ;\n\nThat looks like some kind of checklist which appears to show a \"Junk\" designation, but it also has a flag set for \"auth\", which could be a reference to DKIM, so I'd give that a try.. You're using an old version of PHPMailer that lacks that method.. If it's on the same machine as your script, can you not use $mail->Host = 'localhost'?\nRegardless, there's something wrong with your mail server, not your script.. It's not responding as a mail server should. If you telnet to it, do you get a response?. Can you telnet to it from localhost?.  The title of your issue makes little sense - you have to create a public key; PHPMailer merely uses what you've created. This is why it says See the DKIM_gen_keys.phps script for making a key pair. What's your actual problem here?\nThat code is interesting to see, but it's not very useful because it processes raw messages, and thus doesn't align well with PHPMailer's internal structures, plus it simply duplicates what PHPMailer already does. It's also obsolete as it uses SHA1 signatures.. Are you saying that this script writes an empty dkim_public.pem file?. Does your redirect URL match the rules they say they require?. I have no idea. I don't know of any particular limit on token length, and that one doesn't look too unreasonable. BTW, having posted that here you should probably generate a new one - it's meant to be a secret, like a password.. Unfortunately I really don't know. This is one of the problems with OAuth - every provider is completely different, using different params with different meanings and values. I can only suggest you refer to Microsoft's docs on this, and also look at the docs for the stevenmaguire/oauth2-microsoft package.. It is compatible in that it is run and operates in exactly the same way for Microsoft (or any other OAuth provider) as it does for Google. What differs is what parameters that Microsoft expects, which is not something I know about.. Read the troubleshooting guide which covers this exact problem in great detail.. Your callback URL has to be one that is externally accessible - one on localhost is not. It's also up to you to configure that callback URL.. You didn\u2019t read the troubleshooting guide that you\u2019ve been provided with links to twice. It answers this question very thoroughly.. An error message that makes sense would be a start, plus your code, you know, all the things that the issue template asked you for but you ignored.... So your mail server is not accessible from your network (I can get to it). There is nothing you can do about this from the client end. You need to fix access to your server. All of this is covered in the troubleshooting guide (which someone just unhelpfully deleted - it will return shortly).. > require(\"PHPMailer_5.2.0\\class.phpmailer.php\");\nYou didn't read the very first thing that the issue template and the troubleshooting guide suggests: get the latest version. The version you're using is years out of date and contains bugs and vulnerabilities.\nEvery one of the error messages you mention are discussed in the troubleshooting guide.. I have no idea. You'll need to look at the documentation for whatever auth service you're using, as it's not within PHPMailer's control.. Please read the error message, which tells you what to do. This is also discussed in the troubleshooting guide (in the wiki). It is probably happening because gmail is seeing a login to the same account from a different IP and is being suspicious.. I attempted to restore that version, (you can see it in the history now), but for some reason it didn't work. I've asked github for help.. I didn't get a response so I restored it manually.. GoDaddy blocks outbound SMTP; you have to use GoDaddy's own mail servers.. Why? It's considerably more verbose, and the only one that's ever likely to be used manually is CharSet. This seems to be adding complexity for no practical gain.. There would certainly be an advantage in IDEs that validate properties that could flag a typo that would not happen on a string value.\nI'd be tempted to abstract the charset more:\nconst CHARSET_DEFAULT = static::CHARSET_ISO88591;\n\nthen:\npublic $CharSet = static::CHARSET_DEFAULT;\n\nOne other issue is that this would be a BC break for anyone not using composer (possibly a majority of PHPMailer users). Since these constants are used only within the PHPMailer class, why put them outside?. I meant that mistyping a constant would be flagged by an IDE when a literal string would not.\nI don't see any advantage in separating out the constants this way - it breaks both encapsulation and BC, so I can't merge this as it is.. Thanks. This is not using PHPMailer at all.. Please read the troubleshooting guide (which has now been restored).. There's nowhere near enough info here - but even the most basic of our examples should not have this problem. Please read the issue template and provide what it asks for.. That's intentional - it only includes files necessary for production use. Everything else is documentation or examples that you don't need to actually use PHPMailer. All of those other files can be downloaded directly from github.. This looks like you have 2 entries for PHPMailer in your composer.json file. Can you post the require section here?. You are creating your own composer.json file and not using PHPMailer\u2019s?. It should be really simple, when you're just using PHPMailer, it should not load any of the dev stuff, because you're not working on PHPMailer. Here's how it works with a clean project:\n```sh\ncomposer init                                                                               \ue0b2 \u2714 \ue0b2 4494 \ue0b2 09:46:12\nWelcome to the Composer config generator\nThis command will guide you through creating your composer.json config.\nPackage name (/) [synchro/test]:\nDescription []: blah\nAuthor [Marcus Bointon marcus@example.com, n to skip]: n\nMinimum Stability []:\nPackage Type (e.g. library, project, metapackage, composer-plugin) []: project\nLicense []: MIT\nDefine your dependencies.\nWould you like to define your dependencies (require) interactively [yes]?\nSearch for a package: phpmailer\nFound 15 packages matching phpmailer\n[0] swiftmailer/swiftmailer\n   [1] phpmailer/phpmailer\n   [2] phpmailer/phpmailer\n   [3] vernes/yiimailer\n   [4] zyx/zyx-phpmailer\n   [5] yuan1994/tp-mailer\n   [6] rmrevin/yii2-postman\n   [7] dappur/framework\n   [8] byjg/mailwrapper\n   [9] phpmailerflamin/phpmailer\n  [10] phpmailer/apix-log-phpmailer\n  [11] ommu/phpmailer\n  [12] kruisdraad/phpmailer\n  [13] gelysis/silverstripe-phpmailer\n  [14] adrianorsouza/codeigniter-phpmailer\nEnter package # to add, or the complete package name if it is not listed: 1\nEnter the version constraint to require (or leave blank to use the latest version):\nUsing version ^6.0 for phpmailer/phpmailer\nSearch for a package:\nWould you like to define your dev dependencies (require-dev) interactively [yes]? no\n{\n    \"name\": \"synchro/test\",\n    \"description\": \"blah\",\n    \"type\": \"project\",\n    \"require\": {\n        \"phpmailer/phpmailer\": \"^6.0\"\n    },\n    \"license\": \"MIT\"\n}\nDo you confirm generation [yes]?\n```\nSo you can see that the composer.json it creates is really very small - this is why I asked you to post your own composer file. If I then run composer install:\nsh\n~ composer install\n    1/2:    http://packagist.org/p/provider-latest$ca1c0c072062381d96796ad42ea40132341b1c910b707aaa23d771805d83ca38.json\n    2/2:    http://packagist.org/p/provider-2018-01$44ab1e69b673c2b54bbef61eb325bbb95b352f01fda4b37b479e93959999fd6e.json\n    Finished: success: 2, skipped: 0, failure: 0, total: 2\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 1 install, 0 updates, 0 removals\n  - Installing phpmailer/phpmailer (v6.0.5): Loading from cache\nphpmailer/phpmailer suggests installing psr/log (For optional PSR-3 debug logging)\nphpmailer/phpmailer suggests installing league/oauth2-google (Needed for Google XOAUTH2 authentication)\nphpmailer/phpmailer suggests installing hayageek/oauth2-yahoo (Needed for Yahoo XOAUTH2 authentication)\nphpmailer/phpmailer suggests installing stevenmaguire/oauth2-microsoft (Needed for Microsoft XOAUTH2 authentication)\nphpmailer/phpmailer suggests installing symfony/polyfill-mbstring (To support UTF-8 if the Mbstring PHP extension is not enabled (^1.2))\nWriting lock file\nGenerating autoload files\nHere you can see it does not load any other packages - though it does suggest some.\nHow does that compare with what you've got?. Huh? That's PHPMailer's own composer file - as I said earlier, you should have your own for your own project. The example I showed was simply:\njson\n{\n    \"name\": \"synchro/test\",\n    \"description\": \"blah\",\n    \"type\": \"project\",\n    \"require\": {\n        \"phpmailer/phpmailer\": \"^6.0\"\n    },\n    \"license\": \"MIT\"\n}\nI have the feeling you're overthinking this; using composer is extremely simple! The disconnect might be that you're trying to build a project by starting with a PHPMailer folder - don't do that - PHPMailer is a library that you want to pull into your own project - it is not your project itself. Set up your own project folder first (this is what composer init is for), then ask composer to add PHPMailer to it (composer require...), or use the package search facility that composer init provides to combine the two (as my example showed).. You have a TLS problem, exactly as the troubleshooting guide describes, so do what it says.. Right, so you should follow the troubleshooting link (that you've now ignored several times) which describes exactly this problem (it's GoDaddy's fault) and how to deal with it.. No. It's not a code problem. GoDaddy is not a very good ISP, and they impose limits that prevent you from sending email.. You're not checking whether $_POST contains anything before trying to use it. Wrap all the code in a check like:\nphp\nif (array_key_exists('email', $_POST)) {\n//Your code here\n}\nYou're also doing your string interpolation and escaping incorrectly. Do this instead:\n$mail->Body = 'Hi My Name: ' . $name . \"\\n\\n\" .\n    'Email: ' . $email . \"\\n\\n\"  .\n    'Phone: ' . $phone . \"\\n\\n\" .\n    'Plan: ' . $plan. \"\\n\\n\" .\n    'Industry: ' . $industry. \"\\n\\n\" .\n    'Company: ' . $company. \"\\n\\n\" .\n    'Contact: ' . $contact . \"\\n\\n\" .\n    'Message: ' . $message;\n\n. I'm not surprised since you didn't change the body setting code as I suggested! PHP does not interpolate variables inside single-quoted strings.. This has been mentioned before in #88 and #803. This is only possible with servers that support the SMTPUTF8 extension which makes it limited in usefulness - you can't send from a UTF-8 address to an address that doesn't support it even if the sending server supports it - and it's very difficult to know if that's true. You can find out in advance whether some services support it (e.g. gmail to gmail) but the fallback/downgrade situation is tricky (requiring implementation of RFC6857). Pull requests welcome, of course.. It means your OAuth token isn't being accepted by gmail. You'll have to ask them why, but inspecting debug output might reveal more (as the troubleshooting guide tells you).. No. The default value for Debugoutput is echo, which will output to both browser or command line. Output to error_log will usually be invisible, which isn't much use for interactive debugging. I don't know why it would cause your app to hang - perhaps you had some kind of output buffering enabled? Bear in mind that debug output is for debugging during development, not production logging. If you want it to act differently, inject your own implementation - that's why it's there.. It's SMTP. There are no delivery time guarantees. Look in your mail server logs for deferrals.. You need to apply some basic common sense here. Just look at your code:\nphp\n$mail->addStringAttachment(file_get_contents($url), 'img.png');\n$url = \"https://www.pexels.com/photo/woman-wearing-black-crew-neck-shirt-and-blue-denim-shorts-911575/\";\n\nYou're setting the URL after you're trying to use it.\nThe URL does not link to an image.\n\nDoing this interactively is a bad idea anyway - it's very slow.. Another basic disconnect:\nfile_put_contents('img.png', $unencodedData);\n...\n$mail->addStringAttachment(file_get_contents('C:/xampp/example/save.php'), \"form.pdf\");\n\nYou're saving to one place, then loading from another. Not surprisingly, they don't match.\nIt's also very unlikely you want to do a file_get_contents on a PHP file - it will send the source of the file, not its output. If you want to send the PNG you generated, do this:\n$mail->addAttachment('img.png');\n\nThis line is vulnerable to XSS attack:\necho '<img src=\"'.$_POST['img_val'].'\" />';\n\nDo not disable TLS certificate checks when sending through gmail; if you have a problem, fix it, don't hide it - issues with gmail are covered extensively in the troubleshooting guide.. So check the absolute path to the file is actually correct, check the return value from addAttachment.. Connection timed out means that you have a network problem. That's nothing to do with your code.\nAUTH command used when not advertised is because you told it to use auth without encryption, which gmail doesn't support. If you had set SMTPDebug  = 2 as the docs suggest, you would see what the server is saying.\nTry again, basing your code on the gmail example provided.. Yes - follow the advice in the troubleshooting guide, which tells you how to diagnose such problems.. Very likely, yes. If it doesn't work on a command line, it's unlikely to work from PHP either.. No. If they were blocking you from sending email (for example if they think you're a spam source), they would allow you to connect, but give you SMTP-level errors telling you that they won't accept mail from you (and probably why as well). The net result is that openssl or telnet tests would still work. ISPs blocking outbound SMTP is extremely common - for example GoDaddy does it. You can test further by attempting to connect to other public mail servers such as AOL or office365.. This is Javascript, running on the client. The server has no access to this image at all; you need to upload it, then get your PHP that processes the submission to pass it to PHPMailer, either as binary data (using addStringAttachment) or via a file (with addAttachment).. What do you think you should do when it says \"Username and Password not accepted. Learn more at\nhttps://support.google.com/mail/?p=BadCredentials\"? Do you think you might possibly find something useful at https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting ?\nI also removed your ID and password from your debug output; you may want to change your password.. Er, HTML email doesn't support external style sheets.. http://lmgtfy.com/?q=how+to+style+email. You're just not trying. The first linked article in that search says:\n\nLink to an external stylesheet. Not many email clients support this, best to just forget it.\n\nThe second one:\n\nWhile external stylesheets are a great option for web design, they aren\u2019t the best option for email design\u2014many webmail clients block links to external stylesheets.\n\nThere are absolutely tons of resources on styling email, but you do have to actually read them. There's no point in me listing them here because they are the same as in the search results, and you're not listening to what I say anyway.. This is because you\u2019re running a very old version of PHP. Also read the troubleshooting guide about problems with GoDaddy.. This requires support for the SMTPUTF8 extension to SMTP, which many mail servers do not have. If you search for that term, you'll find it's already been discussed in PHPMailer. Yes we would like to support it, but it's a very big thing to implement, well beyond just address validation. Pull requests welcome, of course.. Search before posting, and read the readme that tells you how to load PHPMailer correctly. You have not used composer to install the files, and you're using an old version of PHPMailer.. You're using an old version of PHPMailer, so I recommend upgrading.\nDespite what you say, you're sending using the default transport, which is PHP's mail() function, and that requires that you have a mail server installed on the local machine. If you don't think you do, that's probably why you're having trouble. Also, since you're not sending through gmail but to gmail, none of the measures like allowing less secure apps apply. Even if you make this work, you will have trouble with sending anyway because you're forging the from address when sending via that route.\nEither switch to using Gmail for sending (see the gmail example provided with PHPMailer), or fix your local mail server.. Read the guide, do what it says in the issue. Don't keep opening empty issues.. You're asking to connect to mail.tzk-certifications.com, but you're actually connecting to bahu.corpservers.net, and the name does not match. TLS is reporting this as an error, exactly as it should. This is covered in the troubleshooting guide.\nI can't tell if this is expected, or if your traffic is being intercepted, but either way, this is TLS doing its job. Either connect to the correct host name, or complain to whoever is intercepting your traffic.. You've enabled exceptions without a try/catch block (hence your uncaught exception), and it's getting a straightforward connection failure, which is down to your network, not your script. Do what it says in the troubleshooting guide to diagnose your issue. You might find SMTPDebug = 3 gives more connection info. If it was working but now isn't, it's likely you have a TLS problem caused by gmail changing CA, and you're using outdated CA certs, so do what the guide says about that.. This looks like you're using the wrong charset - you have UTF-8 content in a message using ISO8859-1 (the default). Try setting:\n$mail->CharSet = 'UTF-8';\n\n. Show me the raw headers from a received message.. Can you show me your code as well? That encoded text is base64-encoded UTF-8. This suggests that PHPMailer is set to ISO-8859-1 (as the subject shows), but you're giving it UTF-8 data.. I can't tell from this - I need to see your code.. I saw that, thought it was suspicious - it's why I wanted to see your code!\nThere are actually some new constants for CharSet, specifically to avoid this kind of problem, but that's not been released yet.. Thanks. There is no technical limit, and PHPMailer does not impose any limit other than what will fit into your available memory or PHP memory_limit, however, any SMTP server you connect to may impose a maximum message size, which you will see in the SMTP capabilities shown when you (well, PHPMailer) issue an EHLO command. PHPMailer doesn't do anything with that value, but you will see it if you set SMTPDebug = 2 or connect using telnet. For example, my own mail server says this:\n```sh\ntelnet mail.example.com 25\nTrying 51.15.x.x...\nConnected to mail.example.com.\nEscape character is '^]'.\n220 mail.example.com ESMTP Hi, I'm a Mail-in-a-Box (Ubuntu/Postfix; see https://mailinabox.email/)\nEHLO localhost\n250-mail.example.com\n250-PIPELINING\n250-SIZE 134217728\n250-VRFY\n250-ETRN\n250-STARTTLS\n250-ENHANCEDSTATUSCODES\n250-8BITMIME\n250 DSN\n```\nThe value given in the SIZE capability is 128 megabytes. Note that the size includes all headers and encoding overhead, not just the size of the message body. The idea of this value is that the client can check that the message is below this size before attempting to send, rather than sending more than that and having it fail part way through a big transfer, though PHPMailer doesn't implement that.. Thanks, and congratulations on your first pull request!. This has nothing to do with PHPMailer.. This is covered in the troubleshooting guide the error links to. The problem is php_network_getaddresses: getaddrinfo failed: No such host is known. That means either your DNS is not working, or you are asking for a host name that does not exist, i.e. whatever it is you're really putting in $mail->Host = 'theIPaddress';.. Again, read the troubleshooting guide; you have a TLS failure, probably because you're using outdated CA certificates. The guide tells you how to fix that. And please don't type in caps.. No, addAddress has nothing to do with auth, nor custom headers. You're getting this because this is happening:\n2018-06-02 20:20:52 CLIENT -> SERVER: RCPT TO:\n\nDid you edit out the address here?. The local part of email addresses may be case sensitive. PHPMailer always preserves case and does not make changes to the address, so this is a result of you using an all upper case version of an address to a service that\u2019s expecting lower case.. Being case sensitive isn\u2019t against RFC - they say it\u2019s entirely up to the receiver, though that only really applies to the local part, which you were upper-casing.. Could you squash and force-push all these commits so that I can look at a full diff please?. Thanks for your effort.. If you're looking into DKIM stuff, I could do with some help on #1352 and #1406. It would good to do DKIM verification in the tests via something like https://packagist.org/packages/teon/dkim. Angular has nothing to do with PHPMailer. Use whatever JS you like to make an XHR and PHP will receive it and handle it. Literally any of the examples provided can work with angular.. If you\u2019re going to ask the same question in two places, it might be helpful to link one to the other.\nI answered this on Stack Overflow; use IMAP to upload the message after sending, as per the provided gmail example.. As far as I know, you're doing everything right here if you want to use SMTP - I would ask GoDaddy support. Alternatively, I think that they provide a local mail server on shared hosting, so you could try using isMail() instead of isSMTP(). Alternatively, switch ISPs - scaleway are very cheap and you can get them to allow SMTP directly.. Fairly likely I wrote that :) That is indeed a correct config for sending via a local mail server without using auth or encryption. It's probably SMTPAutoTLS that was causing a problem - if the server running on localhost offers STARTTLS, PHPMailer will try to use it - but it will always fail with a host name mismatch; this is why you can turn it off.. It's because you're running it on a very old version of PHP. Update it.. PHPMailer works fine to literal IPv4 (and IPv6) addresses. You should do it like this:\n$mail->Host = '111.22.3.44';\n\nHowever, you will not be able to use encryption to that because it will not match a host name in a certificate. You would need to get a domain name point it at that IP, then get a cert for the domain.. You need to explain more what you mean by \"not working\". What does your SMTP debug output look like (with SMTPDebug = 2)?. If you're seeing no SMTP debug output, it suggests you're not using SMTP - are you calling isSMTP()?\nIt's academic anyway; because your hostname is localhost, it will never match your certificate, and establishing an encrypted connection will fail - but there is nothing to be gained by encrypting a connection to localhost anyway.\nYou really have to upgrade your PHP, because 5.6 and 7.x are the only supported versions, and you're inviting security problems (not to mention ignoring the enormous performance gains) otherwise.. As the issue template (which you ignored and deleted) says, read the error message. When google says:\n2018-06-14 21:46:59 SERVER -> CLIENT: 535-5.7.8 Username and Password not accepted. Learn more at535 5.7.8 https://support.google.com/mail/?p=BadCredentials\nDon\u2019t you think that might have something to do with your problem?\n. @billjave Please read the documentation, base your code on the examples provided, and look on Stack Overflow for questions and answers.\n@jay34fr Look at the headers in the messages you receive on gmail and yahoo - it will often say why your messages are classed as spam - for example if SPF or DKIM tests fail.. Well, this debug() function is something defined somewhere else in your boss' code - it's not part of PHPMailer - so you need to find where you're meant to get it and load that file before calling that function.. If you'd read the issue template instead of ignoring and deleting it, you might have discovered that the most likely cause of this (since it's described in great detail in the troubleshooting guide, and is especially applicable to gmail), is that your local CA certificates are outdated. The guide also tells you how to fix that.. Context? Code?. Closed via #1468. No, that's a far more complex thing. What I'm suggesting is to provide an example which shows a request originating from a Javascript Ajax request (with and/or without jQuery), that is handled by PHP and uses PHPMailer to send a message using content supplied in the request, and then returns appropriate data (or an error) that can be handled correctly in JS. Perhaps start with the contact form example, but adapt it to send using JS rather than an HTML form submission.. An example of this kind of question popped up today.. Yes, that\u2019s exactly what happens when you tell PHPMailer to throw exceptions and then don\u2019t catch them. Refer to the troubleshooting guide for how to diagnose your problem, but my first guess would be that your host blocks outbound SMTP.. You enable debug output with SMTPDebug, generally 2 provides enough info unless you have connectivity problems. If you want to capture that output, inject a closure into the Debugoutput property that stores it somewhere you can get at it later, like this:\n$mail->Debugoutput = function($str, $level) {global $debug; $debug .= \"debug level $level; message: $str\";};\n\nAfter you have called send(), the global variable $debug will contain all the debug output.. Host needs to contain a host name, not an HTTP URL. On GoDaddy it's something like relay.secureserver.net. I'm guessing that's your own server's internal name, so it's probably the same as using localhost. You could try disabling auth. Either way, this is a GoDaddy support question.. It's just that if you're sending from your own machine back to itself, then auth isn't gaining you any extra security, and although the server advertises auth, it's probably not set up with the users and passwords you expect. This kind of setup is common in shared hosting. GoDaddy is pretty much the bottom of the barrel as far as hosting goes - you can get a whole server to yourself at scaleway.com for \u20ac3/month, though that comes with more responsibility as well as capabilty.. I'm not sure exactly why this is failing for you, but you should definitely use 2048-bit DKIM keys, not 1024.. If your PHP script is going to use the private key, it needs to be able to read it, and if it's running as www-data it won't be able to read that one. You can do that either by running your script as a different user (that can read the key), or alter the permissions on the private key so that the apache user can read it. The former approach is more secure.. I don't know, but I'd check this by building innocuous example content (with no complex layout styling) and gradually increasing its size until you find the issue. I would guess that it's more likely to be a styling issue than a content size problem, but for example I have seen iOS download half a message and then offer to download the rest later.. How are you adding to the h tag?. There's not enough to go on here. That line number is in the middle of finding MIME types. For debugging DKIM, I'd recommend using the unreleased master branch version which has some extra DKIM features to see exactly what you're signing, see PR #1468 for further info.. Please show what's in the variable.. Don't assume it's right, check:\nphp\n$addresses = explode(',', $to);                \nforeach ($addresses as $address) {\n    var_dump($address, $mail->addAddress($address));\n}. You don't define \"not working\". Word wrap is only applied as internal formatting to prevent long lines, and because HTML collapses and ignores white space, line breaks in HTML do not appear in rendered output. This is a standard feature of HTML, not specific to email or PHPMailer. If you want line breaks to appear, you need to convert them to <br> tags in your HTML, for example using PHP's nl2br() function.. You've missed off the namespace use statements at the start of your script. Look at any of the examples or the readme to see how to do this, and please read the issue template before deleting it.. OK, but as the issue template says:\n\nCheck that your problem is not dealt with in the troubleshooting guide, especially if you're having problems connecting to Gmail or GoDaddy. This is a GoDaddy documentation issue, not a PHPMailer problem. The problem is that GoDaddy blocks outbound SMTP to external hosts, so you must use either the PHP mail() function (which PHPMailer uses by default) which sends through a local mail server (i.e. on the machine your script is running on), which should be pre-configured if you're using shared hosting, or use SMTP to send via GoDaddy's internal SMTP servers without auth or encryption. As far as I'm aware, this config should work:\n\nphp\n$mail->isSMTP();\n$mail->Host = 'relay.secureserver.net';\n$mail->SMTPAuth = false;\n$mail->SMTPSecure = false;\n$mail->SMTPAutoTLS = false;\nThe exact settings should be in GoDaddy documentation.. With your other PHPMailer code - start with one of the examples, like the one in the readme, and change or add those lines.. Define \"not able to install\". If you can upload files, that's all there is to it. If you can't upload files, that's a hosting support question, not something I can help you with. Also, learn to use composer; It will make your PHP development much more pleasant.. Have you considered reading the readme which tells you how to load files manually with or without composer? If you can't run composer on your host, run it locally, where it will generate the vendor folder and autoload script, then upload the whole lot. Download composer from here.. Yes. You can put it wherever you like, and then load it with a require to the path you put it in. If you're using SMTP (as I suggested above) you will also need the SMTP class, loaded in the same way. As soon as you get beyond loading 1 external class, it's simpler to use composer.. I recommend updating to 6.0, and base your code on an up to date example - you have used a very old one.\nThis won\u2019t help:\n$mail->Smtp_port =\"465\";\n\nThere\u2019s no such property as that. If you want to set the port, do this:\n$mail->Port = 465;\n\nSet SMTPDebug = 3 and look at what it says.\n. Thanks. Your DNS is broken. Fix it and your script will be able to work.. Your DNS is broken. Fix it and your script will be able to work.. It's not your code that's different, it's the network it's running in. It's most likely that your ISP is blocking outbound SMTP.  The troubleshooting guide tells you how to diagnose that.\nBTW you had encoded ID and password in your debug output (SMTPDebug = 4 is excessive for this), so I removed it, but it would be a good idea to change your password.. It's not your code that's different, it's the network it's running in. It's most likely that your ISP is blocking outbound SMTP.  The troubleshooting guide tells you how to diagnose that.\nBTW you had encoded ID and password in your debug output (SMTPDebug = 4 is excessive for this), so I removed it, but it would be a good idea to change your password.. They may be sending to the same server, but they are sending from different networks, and that's what counts.. They may be sending to the same server, but they are sending from different networks, and that's what counts.. So what do you mean by \"it doesn't work\"? Are you saying that it sends the message but you never receive it (which is a different problem)? Is the debug output you posted (which shows a successful delivery) from your local machine or your server?. So what do you mean by \"it doesn't work\"? Are you saying that it sends the message but you never receive it (which is a different problem)? Is the debug output you posted (which shows a successful delivery) from your local machine or your server?. Aucune problem! J'habite en France, mais mon Fran\u00e7ais est trop mal!\nThe debug output shows it connecting to SSL0.OVH.NET - is that the host name you are putting into Host via your $this->host property? When you run the same script locally, does it connect to the same place? If it's not, your traffic may be being intercepted and redirected by OVH.\nThe script's involvement ends after submitting the message, so you would need to look at the mail server logs to find out what happens to the message after that, but that may be difficult/impossible on some hosting configs.. Aucune problem! J'habite en France, mais mon Fran\u00e7ais est trop mal!\nThe debug output shows it connecting to SSL0.OVH.NET - is that the host name you are putting into Host via your $this->host property? When you run the same script locally, does it connect to the same place? If it's not, your traffic may be being intercepted and redirected by OVH.\nThe script's involvement ends after submitting the message, so you would need to look at the mail server logs to find out what happens to the message after that, but that may be difficult/impossible on some hosting configs.. When it says:\n\nMessage rejected because [66.147.244.139]:16741 is blacklisted see Blocked\n\nThat means it's blacklisted & blocked. Your ISP is wrong, and it's nothing to do with your script.\nIt's common for this to happen on shared hosting; you can end up with an IP that was previously used by a spammer, and appears in blacklists Solution: don't use crappy cheap hosting... When it says:\n\nMessage rejected because [66.147.244.139]:16741 is blacklisted see Blocked\n\nThat means it's blacklisted & blocked. Your ISP is wrong, and it's nothing to do with your script.\nIt's common for this to happen on shared hosting; you can end up with an IP that was previously used by a spammer, and appears in blacklists Solution: don't use crappy cheap hosting... It\u2019s bluehost that is blocking 66.147.244.139. Mxtoolbox only checks a few public blacklists. How you get off their list, and which IPs are listed I have no idea about - it is not a PHPMailer issue - it is specific to your particular hosting, nothing to do with PHP.\nSent from my iPhone\n\nOn 21 Jul 2018, at 14:27, Ahmed Sinan notifications@github.com wrote:\nAlso it doesn't happen on this particular IP only.\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. It\u2019s bluehost that is blocking 66.147.244.139. Mxtoolbox only checks a few public blacklists. How you get off their list, and which IPs are listed I have no idea about - it is not a PHPMailer issue - it is specific to your particular hosting, nothing to do with PHP.\n\nSent from my iPhone\n\nOn 21 Jul 2018, at 14:27, Ahmed Sinan notifications@github.com wrote:\nAlso it doesn't happen on this particular IP only.\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. If you comment out isSMTP it means your Host value will be ignored, and you will be sending via your local mail server. This may just mean that your delivery gets blacklisted later on in the delivery chain, but again, the blacklist is not caused by your script.\n\nMarcus\nSent from my iPhone\n\nOn 21 Jul 2018, at 15:13, Ahmed Sinan notifications@github.com wrote:\nAlso it worked well when i removed whole of this bunch\n$mail->isSMTP(); $mail->SMTPDebug = 4; $mail->Host = 'box839.bluehost.com'; $mail->SMTPAuth = true; $mail->Username = $senderEmail; $mail->Password = $sender_email_pass; $mail->SMTPSecure = 'ssl'; $mail->Port = 465;\nand replaced it with;\n$mail->Host = 'mail.cruise-maldives.com';\nAnd they still say its an scripting issue\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. If you comment out isSMTP it means your Host value will be ignored, and you will be sending via your local mail server. This may just mean that your delivery gets blacklisted later on in the delivery chain, but again, the blacklist is not caused by your script.\n\nMarcus\nSent from my iPhone\n\nOn 21 Jul 2018, at 15:13, Ahmed Sinan notifications@github.com wrote:\nAlso it worked well when i removed whole of this bunch\n$mail->isSMTP(); $mail->SMTPDebug = 4; $mail->Host = 'box839.bluehost.com'; $mail->SMTPAuth = true; $mail->Username = $senderEmail; $mail->Password = $sender_email_pass; $mail->SMTPSecure = 'ssl'; $mail->Port = 465;\nand replaced it with;\n$mail->Host = 'mail.cruise-maldives.com';\nAnd they still say its an scripting issue\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I think you\u2019ve entirely misunderstood how this works. $address_kind takes values for to, bcc, cc etc, all of which are static properties. Addresd_kind is not used as a property at all.. I think you\u2019ve entirely misunderstood how this works. $address_kind takes values for to, bcc, cc etc, all of which are static properties. Addresd_kind is not used as a property at all.. You're missing something - it's $this->$address_kind NOT $this->address_kind. $address_kind is a local variable that holds the name of the property it's referring to.. You're missing something - it's $this->$address_kind NOT $this->address_kind. $address_kind is a local variable that holds the name of the property it's referring to.. That looks like an anti-spam measure called greetdelay. The SMTP spec allows for up to 10 minutes per command (though you can see that your connection sets a timeout of 300 sec == 5 minutes); the idea is to spot non-compliant clients by making them wait, and blacklisting them if they are impatient. This is a kind of tarpitting technique, and I know it is an option in Exchange server, so check the settings on your mail server to whitelist all your source IPs.\n\nThe way to avoid SMTP delays like this (from the script's point of view) is to run a local mail server, deliver to that, then get it to wait/queue/retry for these things rather than your script. I can see you've based your code on the PHPMailer mailing list example (thank you!), so that means you'll only get this when first opening a connection, not between every message.. That looks like an anti-spam measure called greetdelay. The SMTP spec allows for up to 10 minutes per command (though you can see that your connection sets a timeout of 300 sec == 5 minutes); the idea is to spot non-compliant clients by making them wait, and blacklisting them if they are impatient. This is a kind of tarpitting technique, and I know it is an option in Exchange server, so check the settings on your mail server to whitelist all your source IPs.\nThe way to avoid SMTP delays like this (from the script's point of view) is to run a local mail server, deliver to that, then get it to wait/queue/retry for these things rather than your script. I can see you've based your code on the PHPMailer mailing list example (thank you!), so that means you'll only get this when first opening a connection, not between every message.. It's timing out on your network connection, suggesting that your ISP is blocking outbound SMTP. Read the troubleshooting guide which tells you how to diagnose connection errors.. It's timing out on your network connection, suggesting that your ISP is blocking outbound SMTP. Read the troubleshooting guide which tells you how to diagnose connection errors.. Please read the issue template and do what it says before posting.. Please read the issue template and do what it says before posting.. It's not something we can control - it's just the software they're using, just as they could use Outlook or Apple Mail, or any number of other email libraries.\nThe way to prevent forgery of email sent from your domain is to implement SPF and DKIM; SPF restricts where may mail is allowed to be sent from, DKIM guarantees that it was sent by you and that it has not been tampered with in transit. On top of those, DMARC tells receiving servers what to do (including telling you) when they receive messages that fail those checks.. It's not something we can control - it's just the software they're using, just as they could use Outlook or Apple Mail, or any number of other email libraries.\nThe way to prevent forgery of email sent from your domain is to implement SPF and DKIM; SPF restricts where may mail is allowed to be sent from, DKIM guarantees that it was sent by you and that it has not been tampered with in transit. On top of those, DMARC tells receiving servers what to do (including telling you) when they receive messages that fail those checks.. This is a gmail limitation. Gmail does not allow you to set arbitrary from addresses, though you can use predefined aliases in gmail settings. If you try to use arbitrary addresses, it will simply use your account address instead, as you're seeing.. This is a gmail limitation. Gmail does not allow you to set arbitrary from addresses, though you can use predefined aliases in gmail settings. If you try to use arbitrary addresses, it will simply use your account address instead, as you're seeing.. Read the readme, which tells you which classes you need to load manually.. Here you go:\nrequire 'src/PHPMailer.php';\nrequire 'src/SMTP.php';. No. `use` statements are always scoped to a file, and apply everywhere within that file, so it's normal to put them at the top, before any scripting or function definitions. Also remember that they are optional and effectively cosmetic - they just help to reduce the amount of code you have to write, so you can write `PHPMailer` instead of a fully-qualified `PHPMailer\\PHPMailer\\PHPMailer`. The point of namespacing is to remove ambiguity - so you can be clear that you want to use `PHPMailer\\PHPMailer\\PHPMailer` and not some other `Foo\\Bar\\PHPMailer` implementation that the name might clash with.. That's mostly OK, though it still looks like you've based it on an obsolete example. Your method for adding an attachment is not safe; you need to apply `move_uploaded_file` or `is_uploaded_file`. See the  [send file upload example provided with PHPMailer](https://github.com/PHPMailer/PHPMailer/blob/master/examples/send_file_upload.phps) for how to do that correctly.. The version of PHP you are running is too old to run the latest PHPMailer, which requires 5.5. Either downgrade to the old 5.2-stable branch, or preferably upgrade your PHP.. In that case show what's in your script before line 32.. You're also loading the PHPMailer class twice; don't do that.. It is documented [here](http://phpmailer.github.io/PHPMailer/classes/PHPMailer.PHPMailer.PHPMailer.html#property_SMTPOptions), which is generated from the source code, but ultimately it's passed as-is to [`stream_context_create`](http://php.net/stream_context_create), so that's the place to look for what you can put in there, and the docs do mention that.\n\nThe main reason that it was added was to permit disabling certificate checks that were enabled by default in PHP 5.6, however, this is a very bad thing to do and should be strongly discouraged at every opportunity, because if you're thinking of doing that, the real problem is likely elsewhere (for example as a bad workaround for outdated CA certs), and disabling checks simply hides it and defeats the whole point of using TLS. There are some other use cases for this property, but they are very rarely needed - for example you could pass a client certificate via them, though I've never seen a mail server support that.. No, self-signed certs are not permitted by default. Allowing self-signed certs often gets lumped together with disabling certificate verification, presumably because you also need verification turned off if you do need to use self-signed certs, so it covers both use cases. That property is purely about the TLS phase of the connection, it has no effect on SMTP itself.. Dang, the number of times I type 'teh' instead of 'the'... Thanks. That build failure was also informative!. That's happening at the PHP level, not in PHPMailer - at some point between your creation of the PHPMailer instance and calling addAddress, $mail is being set to null, or going out of scope or something. You need to show the rest of your code.. There is no common User-Agent header in email like there is in HTTP; I think you're mixing it up with the X-Mailer header, which you'll find in the docs and source code, and there is explicit support for it via the XMailer public property - see the source for its exact behaviour.. Thanks. So read the guide I pointed you at. I'm not going to say anything different here.. and what happened when you did what the guide says?. You're not using the example code I pointed you at, and you've not read the readme nor the guide.\nphp\nrequire 'PHPMailer/PHPMailer.php';\nrequire 'PHPMailer/Exception.php';\nrequire 'PHPMailer/POP3.php';\nrequire 'PHPMailer/SMTP.php';\n$mail = new PHPMailer;\nYou're missing the use statements that all the example code has, and you're including classes you don't need, so this won't work. You need to change it to:\nphp\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\SMTP;\nrequire 'PHPMailer/PHPMailer.php';\nrequire 'PHPMailer/SMTP.php';\n$mail = new PHPMailer;\nReally, base your code on the examples provided and you won't have silly problems like this.. No, that means that the use statements are working fine. You have a different problem which I covered in my very first response: you have the wrong Host value. Do what I said and use the gmail example provided.. Sorry, there was a letter missing from that URL, it should have been https://github.com/PHPMailer/PHPMailer/blob/master/examples/gmail.phps\nAside from that, read the troubleshooting guide.. This exact problem is described in the guide - it's most likely that your server has out of date CA certificates and you need to update them. Please read the docs, it's what they are there for.. Please can you rebase this on the current master branch, not an old version of 5.2-stable - it shouldn't have any of those other commits in there.. Yes they have experienced this issue, no the \"We do not authorize the use of this system...\" is not an error (it's a welcome banner), and you can fix it by reading the troubleshooting guide your error message links to about what to do when your connection fails immediately after issuing a STARTTLS command, which is what is happening to you.\nIt's likely to be that your CA certificate bundle is out of date.\nYou're also running an old version of PHPMailer, and have based your code on an obsolete example, so update. All of these things were mentioned in the issue template, which you deleted.. Google drive will have some API that you can use to transfer files to it, and presumably they will end up with a URL which you could then email to someone. This is outside the scope of PHPMailer though.. You're still doing something wrong here. I suggest you bring your fork up to date (or just delete your fork and fork it again) then reapply your patch. Your changes should be the only commit in the PR, not all those old ones.. You've created a nonsensical request containing none of your own commits. The 6.0-ical branch is defunct (and should probably be deleted). If you want to submit a PR, fork the master branch, commit changes to your own fork, then create a PR.. Bounces are normally sent to the return path. This is generated by the receiving server, not the sender, from the address used in the SMTP MAIL FROM command. This is not the same as the From header within the message.\nBy default PHPMailer sets the SMTP sender from the from address, but you can override it (for example to VERP addressing to improve you bounce handling) by setting the Sender property, which you'll find covered in the docs. For example you might do this:\n$mail->From = 'me@example.com';\n$mail->Sender = 'bounces@example.com';\n\nSetting an Errors-to header can be done via the addCustomHeader method, but I don't recommend it as it's not normally used.. Thanks. What do you mean by \"not work\"?. Yes, it is.. I don't know what a youphptube script  is, but this message usually means that you are trying to send a message through a server that does not host the domain you're sending from, or one that is not listed in the domain's SPF record. There's not enough information for me to tell any further.. It sounds like you should ask your hosting provider what you need to do, since they are the ones operating the mail server.. Thanks. Download a clean copy of PHPMailer, and upgrade - you're using an old version.. Master, 6.0.x. There is no line 4046 in the 5.2-stable branch (code), so you can't be using a clean copy.. You have no use statement importing the namespaced class, so the class name PHPMailer doesn't exist. Add this at the top of your script:\nuse PHPMailer\\PHPMailer\\PHPMailer;\n\nThis is covered in the readme and all the examples.. This means the script is working - but your outbound SMTP is blocked and so it's waiting for a timeout, which will be at least 5 minutes (which is longer than your max script execution time, so you get that error first). Refer to the troubleshooting guide for how to diagnose this kind of problem.. Start here: https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting#smtp-error-could-not-connect-to-smtp-host. Deprecated != broken. PRs welcome.. Check the source of the delivered message - you will probably find that it is correct in there. Gmail, Apple Mail and others often ignore the from name and instead display the name used the first time the from address was encountered.. That's exactly what I was saying - it's correct in the message content, but the email client chooses not to display it, and you have no control over that.. There are a few ways you could deal with this, but all are below the PHP layer. You could set up a mail server that acts as a relay (effectively an SMTP-level proxy), though having different routing for multiple domains could be tricky - look at postfix's transport maps for that. Alternatively VPN to each location and select the right outbound server at send time.\nA much easier route would be to not use shared hosting - get a proper server without outbound SMTP blocks, and configure SPF for each domain you send for to give permission to your server. That is much less complicated than what you're doing now.. Thank you!. Thanks. Thanks. That's good - could you add some unit tests (look in the tests folder) for coverage and to show it working? Also add a link to RFC3461 in the phpdocs for the $dsn property.. Could you fix the build problems? It's just a few coding-standards breakages - see here.. Could you fix the build problems? It's just a few coding-standards breakages - see here.. Thanks.. Did you see the PR in #303? Yours is more complete, but more words seem to be translated in the other one - for example \"SMTP error\". I can't tell which is \"better\" as I don't speak Malagasy! . Thanks. And yes I did mean #203!. This is a generic PHP debugging question, so I'd recommend searching for that. What debugging attempts have you made? What does your web server's error log say? What happens if you enable display of PHP error messages?. It will be failing for some specific reason; better to find out what that is than just guessing.. Set the CharSet to utf-8, and ensure that all your data is also in UTF-8.\n$mail->CharSet = 'utf-8';. There is no such charset as `UDF-8`, and the content of a file doesn't really help.\n\nIf it's not working, it must mean that the data you're passing in is not in UTF-8, so check the source of your data. For example, if it's coming form MySQL, it's likely to be in in the ISO-8859-1 Latin-1 charset by default, which will produce \"corrupted\" chars like this if it's viewed as UTF-8.. Read this: https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting#using-encryption. To be sure, you should be adding to addresses using:\n$mail->addRecipient('some@email.com.br', 'Some Name');\n\nSet $mail->SMTPDebug = 2 and you'll see the actual message as it is sent, and you should see the address used in the RCPT TO command, and also in the To header within the message.. Sorry, yes should be addAddress - your code looks right. So what does the debug output show?. OK. It is appearing in RCPT TO:<to@domain.com.br>, but is not set as a message header.\nI would recommend not setting SingleTo - you're only sending to one address, so that's not needed - in fact I'm not sure how it will behave.\nIf you're submitting via port 587 with auth, why would you want to disable TLS? I would expect you to need SMTPSecure = 'tls', unless there's something wrong with your server.. It's quite possible that there are bugs relating to SingleTo, but I'm not keen on investigating & fixing because there is a better approach: send separate messages to each recipient. SingleTo raises all kind of difficulties with error handling that are best avoided by not using it.\nThe TLS connection is failing immediately after STARTTLS. That's usually caused by having an outdated CA certificate bundle, which is covered in the troubleshooting guide.. Thanks. PHPMailer acts as a mail user agent (MUA), and as such, it's not its job to set a return path, and doing so is prohibited by RFCs - so any advice you see telling you to set it is wrong. The return-path header that you see in received messages is created by the receiving server, not the sending client, and is set to whatever the SMTP MAIL FROM value is, which is not necessarily the same as the message's from address. In PHPMailer, this address is set to the same value as the from address by default, but you can override it by putting a different address in the Sender property, so you might have:\n$mail->From = 'me@example.com';\n$mail->Sender = 'info@example.com';\n\nYou might want to set this address separately if you have a bounce processing system (bounces are sent to the return path), and you might take advantage of VERP addressing to give more control over that.\nThis should not make any difference to the speed - see the notes in the wiki about sending to list for performance tips.. The most likely explanation is that you're not actually setting it - for example you might have code that says $mail->Subject = $mysubject, but $mysubject is empty. You need to show code to demonstrate this happening.. Yes, exactly. It's not hard to test - from my earlier example, you'd add this just before it:\nvar_dump($mysubject);\nexit;\n\nBetter would be a to set a breakpoint in your IDE and inspect the variable in context.. I'm glad you found a fix, though I'm a little surprised. The Encoding value is not used for headers; headers have their own (different) encoding system, and PHPMailer selects between B (which is base64) and Q (which is quoted-printable) dynamically according to which will be shorter. CharSet is used in headers, but you had that set already.. This is just wrong. The use statements import the namespaced PHPMailer class into the global scope, so you do not need to use a FQCN, and the examples are already correct.. I see what you mean, however, I think this is either a composer bug or a PHP shell issue/limitation, and not a PHPMailer problem, because set up like this, it works:\nmkdir test; cd test\ncomposer require PHPMailer/PHPMailer\n\nedit test.php to:\nphp\n<?php\nuse PHPMailer\\PHPMailer\\PHPMailer;\nrequire 'vendor/autoload.php';\n$mail = new PHPMailer;\nand run it with php test.php - no errors.\nI tested it with another random namespaced class:\n```php\ncomposer require tuupola/base62\nphp -a\nInteractive shell\nphp > use Tuupola\\Base62;\nphp > require 'vendor/autoload.php';\nphp > $b = new Base62;\nPHP Warning:  Uncaught Error: Class 'Base62' not found in php shell code:1\nStack trace:\n0 {main}\nthrown in php shell code on line 1\nWarning: Uncaught Error: Class 'Base62' not found in php shell code:1\nStack trace:\n0 {main}\nthrown in php shell code on line 1\n```\nSame problem. So there is a bug/limitation, but it's not in PHPMailer.. Thanks. You have no error checking (in fact you removed the error checking from the example you based your code on), you have not read the docs that tell you how to diagnose this exact problem, nor any of the questions on the same subject on Stack Overflow, you're using an old version, and you deleted the issue template on here that told you to do exactly those things.\nSo go deal with all of these things now, and you will find your answer - it's probably that your hosting provider blocks outbound SMTP.. You don't need to edit the library code to change the charset; do it in your own code:\n$mail->CharSet = 'gb3212';\n\nYou also need to be absolutely sure that your data is in that charset, or it will indeed appear corrupted.. It's probably that your CA certificates are out of date as it's failing immediately after STARTTLS. You'll find this discussed in depth in the troubleshooting guide linked from the error message.. This doesn't seem to have anything to do with PHPMailer.. Already fixed in master. Like the thread already says, this has been fixed. Update your PHPMailer.. The FILTER_FLAG_SCHEME_REQUIRED constant is not used anywhere in the current release. Double-check your versions.. Uh, I think you're trying to merge an old branch into master. If you want to contribute something, fork master and start from there.. Yes, this is documented in the readme. The tarball only contains essential files, just as using it with composer does. If you clone the repo, you will get everything.\nGenerally speaking, you don\u2019t need all the files if you are using PHPMailer; you only need them all if you are working on PHPMailer itself.. Run composer locally, and then upload the vendor folder along with your other files. . Run composer locally, and then upload the vendor folder along with your other files. . That example is pretty heavily commented - what exactly don't you understand?. That example is pretty heavily commented - what exactly don't you understand?. This is awesome, thank you! I will review it tomorrow.. Code style is all OK, but now it has a real test failure!. Code style is all OK, but now it has a real test failure!. Looks like there's just a bit of whitespace on a blank line causing that failure.. Looks like there's just a bit of whitespace on a blank line causing that failure.. Thanks for all your effort, it's much appreciated. As for standards, the project uses PSR-2 and Symfony coding standards. If you use an IDE like PHPStorm, you can load up your coding standards and it will flag contraventions, making it much easier to avoid problems later. You can also integrate php-cs-fixer into the IDE, or alternatively run it on a command line using the bundled config file. It is difficult to troubleshoot problems on Travis-CI, partly because it runs in a slightly strange environment that's difficult to reproduce elsewhere, and it can get very boring to go round and around waiting for it to run everything - especially when some of the tests (i.e. the timeout ones at the end) are very slow. But now you're up to speed and hopefully you'll find it easier in future!. Thanks for all your effort, it's much appreciated. As for standards, the project uses PSR-2 and Symfony coding standards. If you use an IDE like PHPStorm, you can load up your coding standards and it will flag contraventions, making it much easier to avoid problems later. You can also integrate php-cs-fixer into the IDE, or alternatively run it on a command line using the bundled config file. It is difficult to troubleshoot problems on Travis-CI, partly because it runs in a slightly strange environment that's difficult to reproduce elsewhere, and it can get very boring to go round and around waiting for it to run everything - especially when some of the tests (i.e. the timeout ones at the end) are very slow. But now you're up to speed and hopefully you'll find it easier in future!. Please read the many duplicates of this question on here and on Stack Overflow, and read the troubleshooting guide the error message links to, which addresses this exact problem.\nIt\u2019s failing immediately after STARTTLS, which probably means your CA certificates are outdated, I.e. it\u2019s a server config problem, not a PHP problem.. Thanks. You need to change CharSet = \u2018UTF-8\u2019, and ensure your data is in UTF-8, and that you have the mbstring extension. . I think this is a reasonable request. PHPMailer is usually set up in a fixed configuration, where it is always sending through the same mail server, and so any problems tend to be dealt with interactively during development, at which time descriptive error messages are appropriate.\nSend-time SMTP errors already provide SMTP error codes, and bounces (which PHPMailer doesn\u2019t attempt to handle) have embedded error information. Other runtime errors are harder to deal with because they do indeed lack clear error codes that would help you handle them programmaticly.\nSomething like an ErrorCode property that contains a numeric error code that could be used alongside the ErrorInfo property. Note that the Exception class already provides a value for that, but PHPMailer does not require the use of exceptions - the way exceptions are implemented is a little strange, but you can get more info from them than you can with ErrorInfo alone.. Please follow the link provided in the error and do what it says. This will enable you to find what the problem is; it's most likely that your hosting provider blocks outbound SMTP.. The documentation knows.. Because your question has been answered. Read the documentation linked from your error message; It tells you what this error might mean and how to solve it. Retyping the same thing here isn't going to make the problem or its solution any different. You've already avoided doing this at least 3 times.. There is nothing wrong with your code, though Host = 'smtp.example.com' will never work; you need to set it to point at a real mail server. Do what the docs say: look at the debug output.. Enable debug output and run through the diagnostics as described in the troubleshooting guide. It's impossible to tell what's wrong from your description - I need to see debug output.\n5.2.4 is very old and is actively dangerous as it contains some serious security holes.. Are you sure that the PHPMailer version is absolutely the only thing you're changing? You're not running it on a different server, or with a different version of PHP?\nIt's failing immediately after issuing a STARTTLS command. This is covered in the troubleshooting guide; it's most likely that your CA certificates are outdated. The diagnostic steps in the guide will help diagnose and fix this, and other problems like it.. Well, it's definitely a TLS problem. What version of PHP are you running? The only way that it can fail at that stage is for the call to stream_socket_enable_crypto to fail, so I suggest setting a breakpoint in the SMTP::errorHandler method which will trigger when this happens, and you'll be able to inspect the context.. Well, it's definitely a TLS problem. What version of PHP are you running? The only way that it can fail at that stage is for the call to stream_socket_enable_crypto to fail, so I suggest setting a breakpoint in the SMTP::errorHandler method which will trigger when this happens, and you'll be able to inspect the context.. That's not really a solution, it just tells you that your CA certificates are outdated. Update them as the guide tells you.. That's not really a solution, it just tells you that your CA certificates are outdated. Update them as the guide tells you.. Adding the namespace to the sub class is correct, but it looks like the way you call it from your Contact/index.php script is not. I suspect you have created an instance of PHPMailer instead of PHPMailerPGP, and so it's lacking the added methods.\nThis PGP class could do with updating - it looks like it was built for the old 5.x branch. It's also not  structured correctly - it should be pulling in PHPMailer as a dependency via composer so that all it needs to contain is its child class and not all the other stuff. If @ravisorg wants assistance with that, I'd be happy to help.. Adding the namespace to the sub class is correct, but it looks like the way you call it from your Contact/index.php script is not. I suspect you have created an instance of PHPMailer instead of PHPMailerPGP, and so it's lacking the added methods.\nThis PGP class could do with updating - it looks like it was built for the old 5.x branch. It's also not  structured correctly - it should be pulling in PHPMailer as a dependency via composer so that all it needs to contain is its child class and not all the other stuff. If @ravisorg wants assistance with that, I'd be happy to help.. Thanks for taking the initiative! Could you fix the coding standards failures highlighted in Travis please.. Thanks for taking the initiative! Could you fix the coding standards failures highlighted in Travis please.. No, it was broken the first time - that\u2019s what I linked to above.\nI recommend setting up php-cs-fixer on your local machine and use the supplied config file - it will produce more useful feedback than what you see in Travis output.. No, it was broken the first time - that\u2019s what I linked to above.\nI recommend setting up php-cs-fixer on your local machine and use the supplied config file - it will produce more useful feedback than what you see in Travis output.. Thanks. I merged this and fixed the standards issues. Random unnecessary line breaks don't make for a good pull request.. Random unnecessary line breaks don't make for a good pull request.. Thanks. 7.3 was effectively being tested in the nightly option anyway, but it's good to have it made explicit now it's available by name.. Thanks. 7.3 was effectively being tested in the nightly option anyway, but it's good to have it made explicit now it's available by name.. That's why the current version of PHPMailer doesn't do this, and the version that does is long deprecated.. That's why the current version of PHPMailer doesn't do this, and the version that does is long deprecated.. Reading the readme and any of the examples will tell that you're missing the use statement for the Exception class, which is why you're getting that error.\nYou have based your code on a long-obsolete example, which is why you're running into trouble; use the up to date examples provided with PHPMailer.\nPHPMailer has exactly zero opinion on whether you should use file_get_contents; You can get your message body any way you like, and then pass it to PHPMailer via the Body property, which can include code like this:\n$mail->Body = file_get_contents(\"email_template.html\");. That empty server-client response from your server is what\u2019s doing it, though it\u2019s not clear if that\u2019s really happening or whether the connection is dropping immediately. A wireshark trace would reveal all. It may be a PHP config problem.. Thanks. Definitely better that way.. Thanks. It's most likely that it *is* being delivered (view the received message source), but that you have not encoded the entity in your HTML body. HTML does not allow bare ampersands; you need to encode them as `&amp;`.. Do you have documentation for this requirement? Some of what you\u2019ve done in here looks like RFC contraventions.. I think the implementation of a completely separate way of handling these attachments is excessive. As far as I can see, the only real differences are:\n\n\nThe addition of the content-description header\nAllowing suppression of the filename (which the attachment process already allows, though the addAttachment function always adds one - but that could be changed)\n\nIt's possible to allow these without introducing a new attachment type. What I'd like to see is an example of one of these messages so that I can see what's really different - the existing support for a plain-text message with a single attachment is already very simple; there is no \"simple\" alternative for adding file attachments in the MIME spec, so I'm curious to see specifically what the differences are.. If you\u2019re objecting to the empty text body, make your attachment the body and set the message mime type directly - using a multipart structure for a single part message is pointless.. I'm not going to merge this - it's too much of an edge case. It's exactly the kind of thing that is better implemented as a child class, so I'd recommend changing it to that.. Thanks. Ah, good catch. I just looked at the mechanism for remapping incorrect language codes (in lang()) and I see that this was previously changed in the other direction! I will rename it correctly and update it in there.. You see that link to the troubleshooting guide? Click it, and read what it says about GoDaddy.. The error message tells you the problem:\n\nNo connection could be made because the target machine actively refused it\n\nYour mail server does not want to talk to you, so you probably have the wrong hostname or port number.. How can I tell you the error in your code without seeing your code? Please post it.. There is no such value as tsl for SMTPSecure. It should be tls or ssl.\nI can tell that you've based your code on a very old and obsolete example, so make sure you're using the latest version and base your code on an up to date example.. Also this:\n$mail = new PHPMailer\\PHPMailer();\n\nshould be either:\n$mail = new PHPMailer;\n\nif you imported the PHPMailer classes into your namespace (as the docs show), or you could use the FQCN:\n$mail = new PHPMailer\\PHPMailer\\PHPMailer;. You ignored the very first thing in the issue template - make sure you are running the latest version of PHPMailer. The version you are running contains security vulnerabilities, along with numerous fixes. The PHP version you are running will be end of life next month too.\n\nAs for your specific problem, your code looks ok, so it will be an environmental problem - the mail server\u2019s certificate may have expired or not be verifiable due to outdated CA certificates. Read the troubleshooting guide for how to deal with those issues.. I don't see the confusion - it's different because you're sending from a different server that has a different name?\nAre you setting the Sender property? if you don't do that, it may be figuring out the host name from PHP defaults, which is what is used as the SMTP envelope sender, but you can specify it explicitly:\n$mail->Sender = 'user@mail.tufiesta.com.uy';. I don't see the confusion - it's different because you're sending from a different server that has a different name?\n\nAre you setting the Sender property? if you don't do that, it may be figuring out the host name from PHP defaults, which is what is used as the SMTP envelope sender, but you can specify it explicitly:\n$mail->Sender = 'user@mail.tufiesta.com.uy';. The clue is in the name; `addAddresd` **adds** an address to the recipient list, it does not *set* the recipients. Call `clearAddresses` between your sends. See the mailing list example for how to do that.. Please show the rest of your code..     $mail->addAddress($mail);\n\nThis makes no sense.\nIt looks like you have edited out the bits that matter. What are you really passing into addaddress? What is in $ccl?. Fine, but I can\u2019t help with code if you don\u2019t show it. Where is PHPMailer instanciated? When you say iterate, that suggests a loop. Don\u2019t make me guess what you\u2019re doing!. You're still editing so much out of your code it's incomprehensible. function sendMail(params) { is not even valid PHP, and you're hiding what the params are, there is no looping in your code, so there is no way that the code you have shown can behave as you are describing.. This is still not code I can test, and you have not shown there is a bug in clearAddresses. I cut it down to a minimal example (using a local fake mail server), and it works exactly as expected:\n```php\nuse PHPMailer\\PHPMailer\\PHPMailer;\nrequire 'src/PHPMailer.php';\nrequire 'src/SMTP.php';\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->Host = 'localhost';\n$mail->SMTPAuth = false;\n$mail->SMTPKeepAlive = true;\n$mail->Port = 2500;\n$mail->setFrom('nobody@example.com', 'List manager');\n$mail->Subject = \"PHPMailer Simple database mailing list test\" . rand();\n$mail->AltBody = 'To view the message, please use an HTML compatible email viewer!';\n$mail->SMTPDebug = 2;\n$a = ['1@example.com', '2@example.com'];\nforeach ($a as $email) {\n    $mail->msgHTML(\"Hi!!! $email\");\n    $mail->addAddress($email);\n    $mail->send();\n    $mail->clearAddresses();\n}\n```\nHere's the SMTP transcript, where you can see the second message is sent only to the second address:\n2018-11-28 07:18:22 SERVER -> CLIENT: 220 oc.local ESMTP SubEthaSMTP null\n2018-11-28 07:18:22 CLIENT -> SERVER: EHLO Oc.local\n2018-11-28 07:18:22 SERVER -> CLIENT: 250-oc.local\n                                      250-8BITMIME\n                                      250-AUTH LOGIN\n                                      250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: MAIL FROM:<nobody@example.com>\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: RCPT TO:<1@example.com>\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: DATA\n2018-11-28 07:18:22 SERVER -> CLIENT: 354 End data with <CR><LF>.<CR><LF>\n2018-11-28 07:18:22 CLIENT -> SERVER: Date: Wed, 28 Nov 2018 07:18:21 +0000\n2018-11-28 07:18:22 CLIENT -> SERVER: To: 1@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER: From: List manager <nobody@example.com>\n2018-11-28 07:18:22 CLIENT -> SERVER: Subject: PHPMailer Simple database mailing list test730390203\n2018-11-28 07:18:22 CLIENT -> SERVER: Message-ID: <xZzEqtEZ5wFJsOY7sEwpbWjjHrtNzhXwPkJDABhetU@Oc.local>\n2018-11-28 07:18:22 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.6 (https://github.com/PHPMailer/PHPMailer)\n2018-11-28 07:18:22 CLIENT -> SERVER: MIME-Version: 1.0\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2018-11-28 07:18:22 CLIENT -> SERVER:   boundary=\"b1_xZzEqtEZ5wFJsOY7sEwpbWjjHrtNzhXwPkJDABhetU\"\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_xZzEqtEZ5wFJsOY7sEwpbWjjHrtNzhXwPkJDABhetU\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: Hi!!! 1@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_xZzEqtEZ5wFJsOY7sEwpbWjjHrtNzhXwPkJDABhetU\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: Hi!!! 1@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_xZzEqtEZ5wFJsOY7sEwpbWjjHrtNzhXwPkJDABhetU--\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: .\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: RSET\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: MAIL FROM:<nobody@example.com>\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: RCPT TO:<2@example.com>\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: DATA\n2018-11-28 07:18:22 SERVER -> CLIENT: 354 End data with <CR><LF>.<CR><LF>\n2018-11-28 07:18:22 CLIENT -> SERVER: Date: Wed, 28 Nov 2018 07:18:22 +0000\n2018-11-28 07:18:22 CLIENT -> SERVER: To: 2@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER: From: List manager <nobody@example.com>\n2018-11-28 07:18:22 CLIENT -> SERVER: Subject: PHPMailer Simple database mailing list test730390203\n2018-11-28 07:18:22 CLIENT -> SERVER: Message-ID: <8OLEmiDo1QkSfew54HRJ0Th3KDouxMPfUSzDjRaMzw@Oc.local>\n2018-11-28 07:18:22 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.6 (https://github.com/PHPMailer/PHPMailer)\n2018-11-28 07:18:22 CLIENT -> SERVER: MIME-Version: 1.0\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2018-11-28 07:18:22 CLIENT -> SERVER:   boundary=\"b1_8OLEmiDo1QkSfew54HRJ0Th3KDouxMPfUSzDjRaMzw\"\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_8OLEmiDo1QkSfew54HRJ0Th3KDouxMPfUSzDjRaMzw\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: Hi!!! 2@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_8OLEmiDo1QkSfew54HRJ0Th3KDouxMPfUSzDjRaMzw\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: Hi!!! 2@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_8OLEmiDo1QkSfew54HRJ0Th3KDouxMPfUSzDjRaMzw--\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: .\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: RSET\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: QUIT\n2018-11-28 07:18:22 SERVER -> CLIENT: 221 Bye\n. This is still not code I can test, and you have not shown there is a bug in clearAddresses. I cut it down to a minimal example (using a local fake mail server), and it works exactly as expected:\n```php\nuse PHPMailer\\PHPMailer\\PHPMailer;\nrequire 'src/PHPMailer.php';\nrequire 'src/SMTP.php';\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->Host = 'localhost';\n$mail->SMTPAuth = false;\n$mail->SMTPKeepAlive = true;\n$mail->Port = 2500;\n$mail->setFrom('nobody@example.com', 'List manager');\n$mail->Subject = \"PHPMailer Simple database mailing list test\" . rand();\n$mail->AltBody = 'To view the message, please use an HTML compatible email viewer!';\n$mail->SMTPDebug = 2;\n$a = ['1@example.com', '2@example.com'];\nforeach ($a as $email) {\n    $mail->msgHTML(\"Hi!!! $email\");\n    $mail->addAddress($email);\n    $mail->send();\n    $mail->clearAddresses();\n}\n```\nHere's the SMTP transcript, where you can see the second message is sent only to the second address:\n2018-11-28 07:18:22 SERVER -> CLIENT: 220 oc.local ESMTP SubEthaSMTP null\n2018-11-28 07:18:22 CLIENT -> SERVER: EHLO Oc.local\n2018-11-28 07:18:22 SERVER -> CLIENT: 250-oc.local\n                                      250-8BITMIME\n                                      250-AUTH LOGIN\n                                      250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: MAIL FROM:<nobody@example.com>\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: RCPT TO:<1@example.com>\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: DATA\n2018-11-28 07:18:22 SERVER -> CLIENT: 354 End data with <CR><LF>.<CR><LF>\n2018-11-28 07:18:22 CLIENT -> SERVER: Date: Wed, 28 Nov 2018 07:18:21 +0000\n2018-11-28 07:18:22 CLIENT -> SERVER: To: 1@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER: From: List manager <nobody@example.com>\n2018-11-28 07:18:22 CLIENT -> SERVER: Subject: PHPMailer Simple database mailing list test730390203\n2018-11-28 07:18:22 CLIENT -> SERVER: Message-ID: <xZzEqtEZ5wFJsOY7sEwpbWjjHrtNzhXwPkJDABhetU@Oc.local>\n2018-11-28 07:18:22 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.6 (https://github.com/PHPMailer/PHPMailer)\n2018-11-28 07:18:22 CLIENT -> SERVER: MIME-Version: 1.0\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2018-11-28 07:18:22 CLIENT -> SERVER:   boundary=\"b1_xZzEqtEZ5wFJsOY7sEwpbWjjHrtNzhXwPkJDABhetU\"\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_xZzEqtEZ5wFJsOY7sEwpbWjjHrtNzhXwPkJDABhetU\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: Hi!!! 1@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_xZzEqtEZ5wFJsOY7sEwpbWjjHrtNzhXwPkJDABhetU\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: Hi!!! 1@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_xZzEqtEZ5wFJsOY7sEwpbWjjHrtNzhXwPkJDABhetU--\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: .\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: RSET\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: MAIL FROM:<nobody@example.com>\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: RCPT TO:<2@example.com>\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: DATA\n2018-11-28 07:18:22 SERVER -> CLIENT: 354 End data with <CR><LF>.<CR><LF>\n2018-11-28 07:18:22 CLIENT -> SERVER: Date: Wed, 28 Nov 2018 07:18:22 +0000\n2018-11-28 07:18:22 CLIENT -> SERVER: To: 2@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER: From: List manager <nobody@example.com>\n2018-11-28 07:18:22 CLIENT -> SERVER: Subject: PHPMailer Simple database mailing list test730390203\n2018-11-28 07:18:22 CLIENT -> SERVER: Message-ID: <8OLEmiDo1QkSfew54HRJ0Th3KDouxMPfUSzDjRaMzw@Oc.local>\n2018-11-28 07:18:22 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.6 (https://github.com/PHPMailer/PHPMailer)\n2018-11-28 07:18:22 CLIENT -> SERVER: MIME-Version: 1.0\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2018-11-28 07:18:22 CLIENT -> SERVER:   boundary=\"b1_8OLEmiDo1QkSfew54HRJ0Th3KDouxMPfUSzDjRaMzw\"\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_8OLEmiDo1QkSfew54HRJ0Th3KDouxMPfUSzDjRaMzw\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: Hi!!! 2@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_8OLEmiDo1QkSfew54HRJ0Th3KDouxMPfUSzDjRaMzw\n2018-11-28 07:18:22 CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: Hi!!! 2@example.com\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: --b1_8OLEmiDo1QkSfew54HRJ0Th3KDouxMPfUSzDjRaMzw--\n2018-11-28 07:18:22 CLIENT -> SERVER:\n2018-11-28 07:18:22 CLIENT -> SERVER: .\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: RSET\n2018-11-28 07:18:22 SERVER -> CLIENT: 250 Ok\n2018-11-28 07:18:22 CLIENT -> SERVER: QUIT\n2018-11-28 07:18:22 SERVER -> CLIENT: 221 Bye\n. Hm. That is tricky!\nThe debug functions are always called; the SMTPDebug setting only determines whether it is displayed or not. What does ErrorInfo show when it fails? I'd recommend injecting your own debug output handler (see the comment for Debugoutput to see how to do that).. Hm. That is tricky!\nThe debug functions are always called; the SMTPDebug setting only determines whether it is displayed or not. What does ErrorInfo show when it fails? I'd recommend injecting your own debug output handler (see the comment for Debugoutput to see how to do that).. No. If you'd actually read the code instead of choosing to insult me, you'd have seen that the error status is retrieved correctly and returned to the calling function, i.e. it's not silent at all. The @ operator is used to suppress a duplicate out-of-band warning that cannot otherwise be dealt with. If you want to remove the use of the @ operator and also handle the duplicate warning (which I note you didn't even attempt to do, preferring a blind, dogmatic approach instead), the right way to do it is to instantiate a new error handler around this single call (something which is done elsewhere in the PHPMailer code) however, all that would achieve here is exactly the same thing as using the @ operator, so it would be pointless, which is why it wasn't done already.\nWhat's more important is that using the mail function at all is unsafe no matter what you do. It's both faster and safer to use SMTP to localhost, as the docs recommend.. No. If you'd actually read the code instead of choosing to insult me, you'd have seen that the error status is retrieved correctly and returned to the calling function, i.e. it's not silent at all. The @ operator is used to suppress a duplicate out-of-band warning that cannot otherwise be dealt with. If you want to remove the use of the @ operator and also handle the duplicate warning (which I note you didn't even attempt to do, preferring a blind, dogmatic approach instead), the right way to do it is to instantiate a new error handler around this single call (something which is done elsewhere in the PHPMailer code) however, all that would achieve here is exactly the same thing as using the @ operator, so it would be pointless, which is why it wasn't done already.\nWhat's more important is that using the mail function at all is unsafe no matter what you do. It's both faster and safer to use SMTP to localhost, as the docs recommend.. This is good stuff, thanks. PHPMailer already had the ability to do S/MIME signing but not encryption I don't see any use of those features in this addition - do they coexist (i.e. can you sign and encrypt at the same time)? Can they use the same keys? Does it break DKIM?\nThe method name add_encryption is a bit misleading, since it doesn't add encryption but adds a certificate to sign with, so I'd like to see it named more appropriately like addCertificate.\nCould you add an example of how to use this and add unit tests to cover it too please?. This is good stuff, thanks. PHPMailer already had the ability to do S/MIME signing but not encryption I don't see any use of those features in this addition - do they coexist (i.e. can you sign and encrypt at the same time)? Can they use the same keys? Does it break DKIM?\nThe method name add_encryption is a bit misleading, since it doesn't add encryption but adds a certificate to sign with, so I'd like to see it named more appropriately like addCertificate.\nCould you add an example of how to use this and add unit tests to cover it too please?. You can add an example in the examples folder - call it smime_encrypt.phps - note the phps extension. PHP will render the source code of that if requested, and it prevents examples being executable if they accidentally get deployed.\nIn the tests folder there's a file called PHPMailerTest.php. Take a look at the method called testSigning; extend that (you'll see how it generates keys for test purposes), or copy & adapt it to make an encryption-specific method. You should be able to work out how the tests interact with PHPUnit. Once that's done, it will be run by Travis automatically on every commit, hopefully making sure it doesn't break anything in future!. You can add an example in the examples folder - call it smime_encrypt.phps - note the phps extension. PHP will render the source code of that if requested, and it prevents examples being executable if they accidentally get deployed.\nIn the tests folder there's a file called PHPMailerTest.php. Take a look at the method called testSigning; extend that (you'll see how it generates keys for test purposes), or copy & adapt it to make an encryption-specific method. You should be able to work out how the tests interact with PHPUnit. Once that's done, it will be run by Travis automatically on every commit, hopefully making sure it doesn't break anything in future!. This is project specific - we can't assume where the root of the project is when PHPMailer is included as a dependency - you need to do what you have done and adapt it for your specific project. You'll probably only ever need to run it once - the tokens you get can last forever. The path it uses works correctly when you check out PHPMailer as a standalone, but it should also work if your CWD is your project root, since require/include is always relative to that (which is different to the location of the current file).\nThe script is run in one of three ways:\n\nIt's run with no URL params, in which case the menu will appear.\nIt's run with a provider param, in which case it will try to fetch a token.\nIt's run as a callback by the service provider, and it will have the code value populated, and will then display the refresh token.\n\nBecause of this third option, it can't be run successfully on localhost as the callback will never work.. This is project specific - we can't assume where the root of the project is when PHPMailer is included as a dependency - you need to do what you have done and adapt it for your specific project. You'll probably only ever need to run it once - the tokens you get can last forever. The path it uses works correctly when you check out PHPMailer as a standalone, but it should also work if your CWD is your project root, since require/include is always relative to that (which is different to the location of the current file).\nThe script is run in one of three ways:\n\nIt's run with no URL params, in which case the menu will appear.\nIt's run with a provider param, in which case it will try to fetch a token.\nIt's run as a callback by the service provider, and it will have the code value populated, and will then display the refresh token.\n\nBecause of this third option, it can't be run successfully on localhost as the callback will never work.. You are sending through localhost, so go look in your mail server logs.. Every one of the deliveries in that SMTP log is correct and successful. When it says SERVER -> CLIENT: 250 OK id=... it means it has accepted the message. They also all have an address set in MAIL FROM, which is where the Sender property is used - but that is populated from the From property if you don't set it explicitly, so I would not expect that to make any major difference (assuming your From address is valid).\nWhat you're showing is confusing - those failure messages are coming from remote servers after your local mail server tries to deliver, so it's happening after PHPMailer's involvement ends. If you have Outlook working correctly when taking exactly the same route, get an SMTP transcript from your mail server (turn up your logging) for both routes and compare them.. I've no idea what mail server software you're running - it's your server, so you'll need to find out and read its documentation.. The Microsoft pattern is actually pretty pointless because all that MS does is repeat your message ID back to you, rather than providing a remote transaction ID like the other supported providers do, so breaking it out further doesn't give you anything you don't already know.. The Microsoft pattern is actually pretty pointless because all that MS does is repeat your message ID back to you, rather than providing a remote transaction ID like the other supported providers do, so breaking it out further doesn't give you anything you don't already know.. This sounds like a question for google really - PHPMailer is just using whatever scope you give it; whether google accepts it is up to them, not PHPMailer. I'd recommend asking in a gmail google group.. This sounds like a question for google really - PHPMailer is just using whatever scope you give it; whether google accepts it is up to them, not PHPMailer. I'd recommend asking in a gmail google group.. Thanks. Thanks. This is not down to the size of the message, it's to do with the total number of files opened by PHP. If PHP is busy, it can easily exceed 1024. This can occur in any script; for you it happens to be occurring in PHPMailer, but it's not fixable by PHPMailer - you need to do what it says and make more file descriptors available for scripts, including PHPMailer, to use.. This is not down to the size of the message, it's to do with the total number of files opened by PHP. If PHP is busy, it can easily exceed 1024. This can occur in any script; for you it happens to be occurring in PHPMailer, but it's not fixable by PHPMailer - you need to do what it says and make more file descriptors available for scripts, including PHPMailer, to use.. This sounds like you have a mail server problem. Once you have successfully submitted a message, PHPMailer's involvement ends. It sounds like you're delivering to your mail server successfully, but then your mail server is failing to deliver the message. You need to check your mail server's logs to find out what's happened to the messages. Bear in mind that GoDaddy has a long history of being extremely bad for sending email, as mentioned in the troubleshooting guide.. Whoever is responsible for the mail server you send through (whatever is in your Host property in PHPMailer). Given that GoDaddy blocks external outbound SMTP, you're likely to be using their servers, in which case you may be out of luck on getting access to logs - but that's the joy of GoDaddy.... Thanks. It's a safety net. Most don't want to send empty messages as it's more likely to be an error than intentional, but you can turn off that protection with:\n$mail->AllowEmpty = true;\n\nCode is here.. Most of the examples do not contain any HTML at all, but when they do it provides context for the code in the way it\u2019s commonly used. There are infinite ways of splitting up your code, but that\u2019s really a subject for the PHP docs - what\u2019s here is to explain how to use PHPMailer, not how to use PHP in general.\nThe readme describes how to load PHPMailer without composer, but I\u2019ve not done that in any examples because it\u2019s not a pattern of library usage that should be encouraged.. It might solve that problem, but it does so by removing line breaks, which will result in lines that are too long, which is an RFC contravention, and stripping spaces, which will break lossless folding. This is likely to break header folding in general, particularly DKIM.\nThat said, that preg_match is odd - it seems to be a no-op, replacing each line with itself!. This sounds like a gmail-specific feature determined by what you put in your message body, which PHPMailer doesn't concern itself with - it just sends whatever you give it.. Read the troubleshooting guide. I can\u2019t tell what your issue is from what you posted. . setFrom is a method, not a property, so you need to call it like this:\n$mail->setFrom('lorenzomugnai43@gmail.com');. Read the troubleshooting guide - your hosting provider is probably blocking outbound SMTP.. Is that screenshot from your server? Is your server running Windows? What happened when you tried the tests listed in the troubleshooting guide?. That\u2019s not what it shows; It shows that your *local computer* does not block SMTP, which is nothing to do with whether *your server* does. Do the tests in the guide.. Read the guide again. Many of the tests do not use PHP. Error 500 means you need to look at your server\u2019s error log. I can\u2019t magically solve this for you unless you do what I ask.. Be aware that that isn\u2019t actually solving your problem, just avoiding it.. I answered this on your Q on Stack Overflow - I suspect this is a limitation of your email provider. Gmail does exactly this - you can't use arbitrary from addresses, only your account address. If you set `SMTPDebug = 2` you should be able to see PHPMailer passing the correct address as part of the `MAIL FROM` SMTP command, which is then being ignored by your email host.. You will get output with that debug setting, but only if you\u2019re using SMTP. I recommend switching to SMTP anyway as it\u2019s faster and safer than using the default mail() transport.. It will be happening within the mail channel like this:\n\nPHPMailer -> (original FROM address) -> your mail server -> (amended FROM address) -> destination mail server\n\nThere may be more steps than this, but it will be happening at some point in that chain.\nBecause of this it's unlikely to be anything to do with PHPMaielr or your wordpress config, and all to do with your ISP and mail host.. This doesn't require recompiling PHP, but it does require being able to alter runtime file descriptor limits, usually via sysctl and ulimit, which you may also not have access to, but your ISP may be able to alter that. The origin of this use of stream select is here. You can see that it replaced a simpler timeout mechanism that failed in other ways. You could create a child class and override that usage (e.g. by reverting to the old implementation) as a workaround, but be aware that doing that may create other problems elsewhere.. I'd recommend double-checking what the apache user's file limits actually are, for example run sudo -u www-data bash and then ulimit -n. IME it's common to find large global settings, but then to find that individual processes/users have the default 1024 handle limit.. I'd recommend double-checking what the apache user's file limits actually are, for example run sudo -u www-data bash and then ulimit -n. IME it's common to find large global settings, but then to find that individual processes/users have the default 1024 handle limit.. OK, so it's not that. Can you see if your PHP is built with its own FD limit, as @PDFCoder mentioned?. I'm not sure at what point the limit is applied - for example if it's per-process and you're running under a non-threaded SAPI like mod_php, you're less likely to run into it than if you're using a threaded single process like PHP-FPM.\nI'd also expect that if you're running into a limit like this, it's likely to occur in at least slightly random random places, rather than consistently the same place. It would be useful to get someone with PHP internals knowledge on this.. It says what the problem is in the output!\n\nUsername and Password not accepted. Learn more at535 5.7.8 https://support.google.com/mail/?p=BadCredentials. Both are built-in.\n\nEnable UTF-8 (note you need the mbstring PHP extension, which is why it's not enabled by default):\n$mail->CharSet = 'utf-8';\n\nTo set a custom header:\n$mail->addCustomHeader('MyCustomHeader', 'my custom value');. My first reaction to this would be to not use `mail()` at all - if you can use `mail()`, then you can use SMTP to localhost, which is faster, safer (`mail()` is inherently unsafe, and internally all it does is open a synchronous SMTP connection to localhost anyway), and easier to debug (because you can see the SMTP conversation). Using `isSendmail()` works for you because it doesn't use PHP's ini setting, but it still shares all the other downsides of using `mail()`.\n\nAn alternative fix would be to amend your php.ini so it does not add a sender address - why would you want to do that on a global basis?\nAs far as getting a more descriptive error message, all we have to go on is whether mail() returns true or false - we don't know why it fails (the usual reason is you don't have a mail server installed), and pre-emptively parsing whatever random stuff may have been put into php.ini seems counterproductive. That said, I'm curious as to where that More than one \"from\" person message comes from.. I've added a note to the troubleshooting guide here - does that address your concern? It will at least show up in search results. Feel free to improve it if you like.. Yep, this is a problem with DNS config on your server, not your code or PHPMailer.. You can't. The message has the name set correctly (you can check that by viewing the source of a received message), but the mail client uses a different name - often the first name that was used with that source address. This is very annoying, but very common, and there is nothing you can do about it from PHPMailer.. I can't reasonably cut down the require-dev dependency list because composer only provides a single context to cover all dev requirements - I can't make one specifically for the language test.\nDo you want to make a PR for the path change? I would do it as:\nforeach (new \\DirectoryIterator(__DIR__ . '/../language') as $fileInfo)\n\nthe path is never needed again, so there's no need to save it in a variable.. This was released as part of 6.0.7. Thanks for reporting it.. This was released as part of 6.0.7. Thanks for reporting it.. There is not enough information to go on here. Please read the troubleshooting guide. Update to the latest version and base your code on the examples provided - part of the reason that you don't know what's wrong is that you're not doing any error checking.. That makes no sense at all. The code you posted has nothing to do with paypal - you can test it separately from any other code.. That suggests that your original installation did not work correctly. I\u2019d recommend deleting your vendor folder and running composer install again.. OK, you're quite right here - composer.json was marked as export-ignore in .gitattributes, which stops it being exported when you check it out via composer, so you end up with that missing file problem. Since PHPMailer has no dependencies by default this doesn't stop it working, but it causes the issue you're seeing. It's a bit odd that this hasn't affected others, including me! I've pushed a fix to master in d065cd74b6ca1c5b0cacc0b67aa54c7b6fe992b4 - does that work for you (you'll probably need to change your dep to dev-master or * to pick it up until it's released)?. This has been released as part of 6.0.7, so you don't need to use dev-master any more! Thanks for reporting this.. This has been released as part of 6.0.7, so you don't need to use dev-master any more! Thanks for reporting this.. How annoying! That regex is very hard to read and isn't the default, but it is still superior to the PHP built-in pattern in some ways. Any idea what's not matching?. You really don\u2019t need smtpdebug=4 for this - it\u2019s too noisy. Anyway, this is the problem:\n2019-01-23 02:44:09 CLIENT -> SERVER: STARTTLS\n2019-01-23 02:44:09 SMTP -> get_lines(): $data is \"\"\n2019-01-23 02:44:09 SMTP -> get_lines(): $str is \"502 unimplemented (#5.5.1)\"\n2019-01-23 02:44:09 SERVER -> CLIENT: 502 unimplemented (#5.5.1)\n2019-01-23 02:44:09 SMTP ERROR: STARTTLS command failed: 502 unimplemented (#5.5.1)\nYou have told it to use STARTTLS, but your server does not support it. Set SMTPSecure = false, or try using Port = 587.\n. It\u2019s because you have debug output enabled. Turn it off:\n$mail->SMTPDebug = false;. Thanks for this, looks like a worthwhile change.. Thanks for this, looks like a worthwhile change.. There are many reasons why you might not be able to access the file, but the most likely are that the file does not exist, you've got the path wrong, or you don't have permission to read it. If you don't want to send without the attachment, then don't call `send` if the call to `addAttachment` returns false - at the moment you're logging the error and carrying on.. If you do `ls -al /path/to/file` in your shell, it will show you what user and group it's owned by, and what permissions they, (and everybody else) have. You might also want to check your logs for SELinux or apparmor access contraventions on where you web server or PHP service can access. I've no idea what cpanel might do.. Not a bad idea - do you find that the iCal support in Outlook works at all?\n\nIt would be good to validate it so we can avoid header injection attacks - enforce that it is exactly one of REQUEST or CANCEL (and whichever other values are valid) before using it.\nAlso - please fix coding standards (see Travis output) and add test coverage please!. Would it not be better to check the Ical content for what kind of event it is, and use that to set the header value? That way we would not need to introduce a new property, and it would remove the opportunity for mismatch. I don't know what distinguishes the event types within the Ical data, but I'm imagining a check along the lines of:\nphp\nif (preg_match('/TYPE: REQUEST/', $this->Ical)) {\n  $method = 'REQUEST';\n} elseif (preg_match('/TYPE: CANCEL/', $this->Ical)) {\n  $method = 'CANCEL';\n}\nThat way it would work transparently without the coder needing to know or do anything about about it. My main reservation is that this depends on knowing how this is represented inside the Ical data, and needing some degree of Ical parsing.. Would it not be better to check the Ical content for what kind of event it is, and use that to set the header value? That way we would not need to introduce a new property, and it would remove the opportunity for mismatch. I don't know what distinguishes the event types within the Ical data, but I'm imagining a check along the lines of:\nphp\nif (preg_match('/TYPE: REQUEST/', $this->Ical)) {\n  $method = 'REQUEST';\n} elseif (preg_match('/TYPE: CANCEL/', $this->Ical)) {\n  $method = 'CANCEL';\n}\nThat way it would work transparently without the coder needing to know or do anything about about it. My main reservation is that this depends on knowing how this is represented inside the Ical data, and needing some degree of Ical parsing.. Why did you close this?. Why did you close this?. This was fixed long ago.. This was fixed long ago.. npm? Not composer?. npm? Not composer?. Please read the docs you were pointed at.. Please read the docs you were pointed at.. The openssl extension doesn't provide great feedback (see #1405) so it's hard to tell why, but it's most likely an incompatible version, or obsolete CA certificate. Detailed logging on the server side should tell you what was wrong (e.g. in /var/log/mail.err, or wherever your mail server logs errors).\nI recommend testing using the openssl command line tool, as described in the troubleshooting guide.. The openssl extension doesn't provide great feedback (see #1405) so it's hard to tell why, but it's most likely an incompatible version, or obsolete CA certificate. Detailed logging on the server side should tell you what was wrong (e.g. in /var/log/mail.err, or wherever your mail server logs errors).\nI recommend testing using the openssl command line tool, as described in the troubleshooting guide.. The default validator was changed to the PHP one in 6.0 because there has been a history of particular versions of PCRE breaking (or hanging up for a long time) on the complex pattern used in pcre8. What it brings in benefits is not significant enough to continue with it as the default, given these problems, so it's really only there for backward compatibility. This is mentioned in the changelog.\nYou can change the pattern it uses by setting the class property PHPMailer::$validator (source) to a string, such as php, which will use the PHP built-in validator by default, or use it to inject your own validator, like this:\nphp\nPHPMailer::$validator = function($address) {\n    return (strpos($address, '@') !== false);\n};\nvalidateAddress() will then use whatever you have set it to, even when it's called internally.\nIt's a static class property and not a dynamic one because it's very unlikely you would want inconsistent validation in a single app.\nAlternatively, subclass PHPMailer and override the default value of the $validator property.\nAll of this is documented in the source for the validateAddress function.. The default validator was changed to the PHP one in 6.0 because there has been a history of particular versions of PCRE breaking (or hanging up for a long time) on the complex pattern used in pcre8. What it brings in benefits is not significant enough to continue with it as the default, given these problems, so it's really only there for backward compatibility. This is mentioned in the changelog.\nYou can change the pattern it uses by setting the class property PHPMailer::$validator (source) to a string, such as php, which will use the PHP built-in validator by default, or use it to inject your own validator, like this:\nphp\nPHPMailer::$validator = function($address) {\n    return (strpos($address, '@') !== false);\n};\nvalidateAddress() will then use whatever you have set it to, even when it's called internally.\nIt's a static class property and not a dynamic one because it's very unlikely you would want inconsistent validation in a single app.\nAlternatively, subclass PHPMailer and override the default value of the $validator property.\nAll of this is documented in the source for the validateAddress function.. PHPMailer doesn't have any explicit proxy support because it doesn't need to. Set up your SMTP proxy, and PHPMailer will talk through it - the proxy looks just like a normal SMTP server to PHPMailer, so you don't need to do anything.. PHPMailer doesn't have any explicit proxy support because it doesn't need to. Set up your SMTP proxy, and PHPMailer will talk through it - the proxy looks just like a normal SMTP server to PHPMailer, so you don't need to do anything.. Welcome to github. Sorry to say that's not a typo, it's intentional - it's a variable variable.. Welcome to github. Sorry to say that's not a typo, it's intentional - it's a variable variable.. Could you turn this into a PR please?. I'm not entirely clear why this is a PHPMailer issue. If you want the group address to appear in the to header, set it as the to address - that way you won't have a duplicate. If you just want to control where replies go, use a reply-to header - it's what it's for.. Surely if you don't want messages to be sent to those addresses, don't add them to the To list?\nIs it that you want the message to be sent to a set of recipients which is different from the sum of to, cc & bcc? If so, that's not something you can control through message headers; it requires intervention at the SMTP level and provision of some alternative/separate source of the list of recipients.. No, that's not what they are for. The message and how it is conveyed are entirely independent things - it's entirely possible for an SMTP server to send a message to an address not listed in headers, and the reverse - not sending it to an address that is listed. While it's very common for these recipient lists to be the same, it's not necessarily always the case. This is where the difference in roles lies between mail user agent (MUA, like PHPMailer, Outlook, Apple Mail, etc) and mail transport agent (MTA, like postfix, exim, exchange, sendmail, etc).\nI would put what you are describing firmly in MTA territory; your original message will be sent to the server, and it will forward the original message unmodified to the (invisible) group recipients without altering the To or CC addresses within the message. Most MTAs either have this kind of forwarding functionality built-in, or can add it via extensions or hooks. You would run into exactly the same problem if you tried to do this in Outlook, because Outlook is an MUA like PHPMailer is. On balance, you're using the wrong tool for the job here.\nYou can achieve this using PHPMailer, but like I said before, it would involve overriding what addresses are submitted at the SMTP level, not within the message headers, and it's not something it will do out of the box.. This is nothing to do with TLS, and is dealt with in the troubleshooting guide. Your server is being blocked from connecting to external SMTP servers. This is very common. You need to talk to your ISP, or find a new one.. This is nothing to do with TLS, and is dealt with in the troubleshooting guide. Your server is being blocked from connecting to external SMTP servers. This is very common. You need to talk to your ISP, or find a new one.. Thanks. I answered this here.. Please post your code and the error messages you're getting in your query, not in a zip attachment. Also include all the things that happened when you went through the tests in the troubleshooting guide you were pointed at.. You don't say what the problem is. What debug output do you see? The only things I can see wrong with this code is that you've got example.com placeholders in there, and your input variables ($email etc) are never used.. Good catch, thanks.. Yes, you have run into the fact that GitHub uses addresses that are invalid. I suggest you override the validation method so that you can allow them.. That will work, though be aware that you\u2019re effectively turning off address validation, though that may not be a problem for your situation. Also bear in mind that if you\u2019re sending emails from github addresses when you are not using their mail servers, it\u2019s forgery and will probably result in your messages being spam-filtered or bounced due to SPF failures.. PHPMailer can\u2019t do anything to prevent abuse of your contact form. You need to look at things like captcha to prevent that, or alternatively only allow submitting a contact email address and not a message.\nYou\u2019re also forging the from address. Don\u2019t do that. Put your own address as the from address, and the submitter\u2019s address as a reply-to. Look at the contact form example provided with PHPMailer for how to do that right.. This is the important part:\n2019-02-28 02:44:07 SMTP ERROR: Password command failed: 535-5.7.8 Username and Password not accepted. Learn more at\n535 5.7.8 https://support.google.com/mail/?p=BadCredentials d5sm23939030pfo.83 - gsmtp\nIt's nothing to do with your code or PHPMailer. It's all about your gmail account settings. You'll find lots of info about this exact problem in the troubleshooting guide.. Please follow the link to the troubleshooting guide in the error message which gives details of how to diagnose this exact problem.. That means you're not using SMTP. It looks like your ISP blocks you from using outbound SMTP, which is exactly what the guide says. When it says \"network is unreachable\" , it means it can't reach your network for sending via SMTP. Bear in mind that while sending may \"work\", you're likely to run into problems because you're forging your from address.. You're only using the submit check to set variables - you're still trying to send anyway, even if it's not a submission. You've also got no error checking on the addAddress call, in case someone submits an invalid address (it returns false if the address is bad).. You're only using the submit check to set variables - you're still trying to send anyway, even if it's not a submission. You've also got no error checking on the addAddress call, in case someone submits an invalid address (it returns false if the address is bad).. It should be a matter of changing the Host, Username and Password properties - but read their docs.. It should be a matter of changing the Host, Username and Password properties - but read their docs.. You know you can edit the wiki yourself? Thanks for the notification - I changed it to https://www.checktls.com, which does actually work.. You know you can edit the wiki yourself? Thanks for the notification - I changed it to https://www.checktls.com, which does actually work.. I think it depends on your perspective - what you say is true if you're debugging the SMTP commands. But right now for example (looking at current open issues, especially those DKIM ones) it's the message content that's the most troublesome, and I'm quite happy to see all the actual SMTP traffic at level 2, including the message. If that's too noisy, only send small messages while debugging! Level 4 (low level) is too noisy for connections that actually work - it's really for debugging connection problems, which occur before an SMTP conversation even starts.. I think it depends on your perspective - what you say is true if you're debugging the SMTP commands. But right now for example (looking at current open issues, especially those DKIM ones) it's the message content that's the most troublesome, and I'm quite happy to see all the actual SMTP traffic at level 2, including the message. If that's too noisy, only send small messages while debugging! Level 4 (low level) is too noisy for connections that actually work - it's really for debugging connection problems, which occur before an SMTP conversation even starts.. In that case I would look at injecting a debug handler into the debugoutput property (see the source for an example) as that will give you the opportunity to filter the output yourself before saving it to a file.. In that case I would look at injecting a debug handler into the debugoutput property (see the source for an example) as that will give you the opportunity to filter the output yourself before saving it to a file.. I think you've missed how composer works. All packages you depend upon have a composer.json file - it's how composer can tell what dependencies it needs. It does not clash with your own project's composer.json file. I think you've missed how composer works. All packages you depend upon have a composer.json file - it's how composer can tell what dependencies it needs. It does not clash with your own project's composer.json file. Check your spam folder, enable debug output when sending to see if your message is accepted by your mail server (assuming you're sending via SMTP), or look at your mail server's logs.. Check your spam folder, enable debug output when sending to see if your message is accepted by your mail server (assuming you're sending via SMTP), or look at your mail server's logs.. Thanks. Thanks. Wrong assumptions. Use of AltBody does not imply plain text. msgHTML is used for setting HTML and plain text message bodies at the same time, not to enable or disable HTML. PHPMailer sends plain-text messages by default, so all you need to do is:\n$mail->Body = 'Plain text body';\n\n. Wrong assumptions. Use of AltBody does not imply plain text. msgHTML is used for setting HTML and plain text message bodies at the same time, not to enable or disable HTML. PHPMailer sends plain-text messages by default, so all you need to do is:\n$mail->Body = 'Plain text body';\n\n. For the record, msgHTML($html) is a convenience wrapper that is roughly equivalent to:\nphp\n$mail->isHTML(true);\n$mail->Body = $html;\n$mail->AltBody = strip_tags($html);\nand it also does some automatic rewriting of image URLs and conversion of data URLs. It's all optional though - if you want full control, do all these things manually.. For the record, msgHTML($html) is a convenience wrapper that is roughly equivalent to:\nphp\n$mail->isHTML(true);\n$mail->Body = $html;\n$mail->AltBody = strip_tags($html);\nand it also does some automatic rewriting of image URLs and conversion of data URLs. It's all optional though - if you want full control, do all these things manually.. Read the ticket you commented on, and the docs.. Read the ticket you commented on, and the docs.. This nothing to do with get_lines. It\u2019s the call to stream_select that\u2019s failing, which suggests a problem with network or PHP config.. This nothing to do with get_lines. It\u2019s the call to stream_select that\u2019s failing, which suggests a problem with network or PHP config.. If you search on here for stream_select, you\u2019ll find the reasons for the change in the original issue. . If you search on here for stream_select, you\u2019ll find the reasons for the change in the original issue. . There's discussion in #604 about the use of stream_select with blocking, and as far as we could see the use we have should be ok. Ultimately we're suffering from multiple parts of PHP not working as expected/documented - do you have any sensible suggestions for fixing it? In your case you could work around it by sending via a local mail server, which is the recommended (and fastest) way of working anyway.. Just because you have sendmail doesn\u2019t mean you need to have to use isSendmail - both mail and SMTP transports will work.\nThe best solution is to use SMTP to localhost.. As I said, sendmail is just a binary, and it\u2019s also an SMTP server. All a local sendmail binary does is open a synchronous SMTP connection to localhost, so it\u2019s faster and safer to do that from PHPMailer.. It\u2019s not a PHP problem, it\u2019s an OS problem. Your CA certificate bundle is out of date, so it\u2019s unable to verify the certificate from the mail server. This is discussed extensively in the troubleshooting guide.. Thanks. Thanks. It's not just that - you can't send via SMTP without either loading the autoloader or loading the SMTP class explicitly. __autoload has been there since PHP 5.0, which is as far back as we support. The PHPMailer autoloader has support for __autoload, SPL autoloading, and PSR-0 autoloading via composer.\n. Welcome to the world of pull requests... I fixed it immediately back in e6f70f12483cfa737513d225467776d5600ab9e6.\n. That's good. I'd put function_exists first as it's probably a cheaper call than hasMultiBytes.\nExploding on @ may run into other issues - it's horrible, but valid, to have an @ within the local part if it's quoted, like \"a@b\"@example.com. One way around that is to reverse the address before exploding (i.e. split on the rightmost @) and limit the explode to 2 parts, then reverse the components.\n. While I know it usually works, I'm not keen on using isset to check if array elements exist since it breaks if you ever have null elements, so I tend to always use array_key_exists.\n. typo\n. I think it would be better to use self here, and static in PHPMailer 6, instead of SMTP so that it can be overridden. Actually classname::methodname was only added as a callable pattern from PHP 5.2.3, and officially PHPMailer 5.2.x still supports 5.0! You can do array('classname', 'methodname') instead.\n. This should call setError too. Otherwise If debugging is disabled, you'll never hear about the error - wasn't that the point of adding this?\n. This logic doesn't work. If you've already added a header (without overwrite) then it won't get a named index. if you call it again with overwrite, you'll get a second copy because there is no matching index. There's also a problem that you can't have an assoc array with duplicate keys. You will need to iterate through the array and find a matching name.\n. This is a bad idea. Exceptions should be thrown from where they occur, otherwise you can't tell from the error alone where the error occurred and you have to generate a stack trace to find out.\n. In pentest audits, presence of files like that is considered a risk due to information leakage. No need for them in production.\n. Because Sender could be reset later.. I'll fix that.. I think it should be && !ini_get('safe_mode'). I checked that if safe_mode is not defined, e.g. because it's in PHP > 5.4, it behaves correctly.. Ok, I'll wait for that, thanks.. Isn't escapeshellcmd appropriate here since it is a command, not an arg?. Do you have further commits to clean up these small things before I merge?. I think the cat was out of the bag some years ago: https://bugs.php.net/search.php?cmd=display&search_for=escapeshellarg, but it doesn't look like much has been done.. I don't know what to do with that, but it looks like it would form the basis of a good PR for PHP itself.. Hey @octavebenil, it's great you're still around - any chance you can finish this off and then I'll merge it.. I think you need to check whether $cid is set before doing this.. The type in that param tag should be array or string[]. Spaces after commas please. Spaces after commas please. Single-quote assoc keys, spaces around => please.. Good point!. That's a great idea. Could you add this missing translation too please?. Yes. Was removing capitalisation of Data intentional there? Other messages of a similar type do capitalise that way (e.g. file_open).. Since this is optional, I prefer having this left as a FQCN; it's clearer where it comes from at the point of use.. This (and the next one) should be yoda-flipped. I know many go on about using strict comparisons, but this is often done dogmatically rather than for any specific reason. In cases like this we really don't care, and it really doesn't matter whether it's actually a string or something that can be coerced into one. The value submitted is never actually used directly, only compared against, and such unnecessary strictness runs counter to usability, very much an instance of Postel's law.. I agree, and argued much the same on Symfony's code style recently - they say you should do it everywhere, without exception, even where it made no difference! IMHO, the only real place worth living with the readability issue is in conditions with one constant (as we have here) - the payoff in that case is that inadvertent assignment becomes a compile-time error rather than a runtime mystery, and that's worth having.. Of course, but it's all about reducing accidents, and compile-time errors are far easier to deal with whenever they happen, whether in dev or production, so I think yoda comparisons are a good defensive habit from that POV. Aside from that they are quite annoying.... I agree that's not optimal - but it might be better to add a line break, or simpler, merge these two lines into one.. Bold doesn't exist in plain text!. No, don't add tags - it's meant to work in plain text. I suggest changing it to:\necho 'Message could not be sent. Mailer Error: ', $mail->ErrorInfo;\n\nThat will produce exactly the same output as your original PR, but it's slightly more efficient. (and yes, that comma is intentional). This needs updating - ezComponents became zeta components, was an apache incubator project, then moved to github, so its link should be: https://github.com/zetacomponents/Mail. The original is correct here. You always need a require line for the SMTP class if you're using SMTP (without composer), but you don't need a use line unless you're using it directly, i.e. creating your own SMTP instances.. Could you do that last translation and uncomment it please?. Could you do that last translation and uncomment it please?. Rather than building a path string containing a relative path that will need to be interpreted, I think it's probably better to calculate the parent folder directly, something like:\n$lang_path = dirname(__DIR__) . DIRECTORY_SEPARATOR . 'language' . DIRECTORY_SEPARATOR;. I think these should all use `static` rather than `self` so that they are easily overridable: `self` always refers to the base class, even in a child class ([docs](http://php.net/manual/en/language.oop5.late-static-bindings.php)), and uses like this are exactly the kind of thing you might want to override in a subclass.\n\nThe defaults don't need to do that since we don't expect the values for things like charsets to ever change - utf-8 will always be utf-8.. You're quite correct, thanks. Annoyingly that does somewhat defeat the point of using the DEFAULT_* values; they should probably go back to more like you originally had them, like $CharSet = self::CHARSET_ISO88591;, since you can't sensibly override the value of the DEFAULT constant in a subclass and have it be used there, so you should just override the value itself directly. Apologies for the detour.. This URL shouldn't use &amp;; it's not in an HTML or XML context where that would be appropriate.. Use $privatekeyfile here. Also this file should be deleted after (and possibly before) the test run so we don't leave a mess.. This is a somewhat shallow test - it might be useful to go all the way through to getSentMIMEMessage() and check that the headers in there contain the properly encoded headers. I suspect the DKIM test coverage isn't great in this area, though this isn't specific to your code.. True - DKIM is tricky at the best of times. Are DKIM checks passing on live servers (e.g. on gmail) in your own tests using this code?. Sure - apparently nobody is particularly bothered about this translation, so you could fork it and resubmit the PR.. This should not be necessary. The overall test config already loads the autoloader, and loading it from a fixed, absolute path will break in many places.. Why comment these out?. Coding standards on these - need spaces after commas.. Why comment this out?. This test is expected to return true; the Host property is tolerant of extra spaces.. Why comment this out?. This new method needs space and a docblock. Methods should have a blank line between them.. The other changes are fine, but this one is not; It misunderstands how echo works.. If readability was the only concern, maybe, but concatenation or interpolation add unnecessary overhead (minimal though it is) with echo, so it's good practice to encourage the comma form.\nYou didn't need to close the whole PR - just push a commit that reverts that change but leaves the rest intact.. You are quite right - I get similar results. So much for conventional wisdom!. ",
    "drewm": "Ok, I agree with most of that, thanks. And you're right to reject the request.\nPerhaps the core issue is that PHPMailer not only depends on SMTP, but depends on SMTP existing in a file of a given name in a named, although configurable, location. It seems to me that it should depend on the class, but nothing more.\nI agree that an autoloader would be overkill. Considering that sending email is a comparatively expensive task compared to parsing a few hundred lines of code, whether it might be better to either statically require the SMTP and POP3 classes right at the top of the PHPMailer class (and therefore get an APC advantage) or to even compile all three down to a single file for production use. \nA single file is an attractive prospect for those looking to drop a solution into an existing project. The reason I hit this issue was because I didn't want to include a class.smtp.php in my project as \n1) its name doesn't match my class naming convention (which would be SMTP.class.php), and \n2) I like to keep third party components as self-contained as possible\nI don't know what your thoughts are on that, but I think it's an interesting issue.\n. ",
    "nathanl": "Awesome!\n. ",
    "fotografi": ". ",
    "Brainscrewer": "I've checked it on GMail and on my school's email, where it clearly states that the email is using a digital signature. I'm guessing that Outlook 2010 is doing something wrong then...\nSorry for opening the ticket!\n. ",
    "MichaelRushton": "Just an FYI but I ran the regex against the test cases (uncommenting out the ones you've excluded) and the only failings are:\nValid addresses:\n\"first\\\\\"last\"@iana.org\nThis is because the test case should be: \"first\\\"last\"@iana.org\nAn extra backslash was added to make it show up on the web page with just two backslashes (case in point: to have them show up correctly on here I've had to use 5 backslashes where you see 3 above and 3 where you see 2).\nInvalid addresses:\n\"\"@iana.org\nfirst.\"\".last@iana.org\n\"foo\"(yay)@(hoopla)[1.2.3.4]\n\"Unicode NULL \"@char.com\nThe first three are due to Dominic and I disagreeing on whether or not empty quoted strings and comments before IP literals are allowed (I believe they are and he believes they're not -- see sections 3.2.4 and 3.4.1 of RFC 5322) and the fourth one because in copying and pasting, the NULL character has been replaced with a space (you might want to replace that test case with: '\"Unicode NULL' . chr(0) . '\"@char.com')\nI'm not sure why you've commented out the others as they don't fail.\nEDIT:\nI found the problem. I hadn't updated my site with the updated regex. I noticed those failings with IPv6 addresses and fixed it. If you'd like the regex which passes everyone of Dominic's tests (except the three we disagree on and taking into account the issue with the extra backslash and the missing NULL character), it's up on my site.\n. ",
    "okonomiyaki3000": "That was embarrassing...\n. ",
    "ssx": "Probably a good idea to include the email address (obfuscated of course) that you're using.\n. ",
    "wiresfj": "Thank you for the quick reply.\nI've run phpinfo and yes it is saying 5.3.3\nTo be honest I'm a bit stuck, not sure what fcgi (I have just googled it) and cli are.\nSorry if I'm being stupid, spent days on it myself trying to resole it.\nThank you for the support.\nPatrick\n. Well its fixed now. Had some great support from the guys at HostingUK.net\nThis was the issue.. (so had no hope of getting it working myself)\nThe server is running CentOS 5, but with the php53 packages.\nUnfortunately, these php53 packages are built linked against the system-installed version of PCRE, which on Centos 5 is 6.06 (Where as php5.3 normally links against PCRE 8.\nI manually installed a newer version of PCRE onto the server to replace 6.06 and bring it in line with what php5.3 expected.\n. ",
    "DavidWiesner": "Hi Marcus,\nplease fix this Issue. I've saw you got an answer from the author of the regex to use another expression for the older php/pcre-version. Why you don't use that regex to fix this issue. On http://sandbox.onlinephpfunctions.com/code/498f2c6fce9491292f3d0bf778922186dab7c8ab you can see the current regex failed below PHP 5.3.2 so (like http://www.php.net/manual/en/pcre.installation.php says) on PCRE below 8.00.\nI have used a simple if case statement to use the alternative regex on an older php version.\nphp\nif(version_compare(PHP_VERSION, '5.3.2', '<')){\n      return (boolean) preg_match('/^...$/isD', $address);\n} else {\n      return (boolean) preg_match('/^$/isD', $address);\n}\nThanks,\nDavid\n. ",
    "ghost": "Hello,\nWould you answer my question?\n. Ok, dont cry.\n. So far so good. Current version I am using works spot on and didn't even fail once. Apart I have to mod it like explained in #439  (I like to use libraries unmodified) \nI might be nitpicking at this point but, to be honest, the library has lots of code that is totally unnecessary to 99% of the users. It is great that is compatibility to older versions but if you are using new version (even my is 2 year old version), I do not need compatibility checks to ancient versions. What I suggest is that you would separate compatibility files, that is, develop on the latest version you can and add compatibility add-ons for earlier versions if someone needs to. That would reduce the size of the file significantly, makes it lightweight and clean. Same applies #439 . the code I commented out does nothing for my version. :) Thoughts? \n. So far so good. Current version I am using works spot on and didn't even fail once. Apart I have to mod it like explained in #439  (I like to use libraries unmodified) \nI might be nitpicking at this point but, to be honest, the library has lots of code that is totally unnecessary to 99% of the users. It is great that is compatibility to older versions but if you are using new version (even my is 2 year old version), I do not need compatibility checks to ancient versions. What I suggest is that you would separate compatibility files, that is, develop on the latest version you can and add compatibility add-ons for earlier versions if someone needs to. That would reduce the size of the file significantly, makes it lightweight and clean. Same applies #439 . the code I commented out does nothing for my version. :) Thoughts? \n. Sorry for the delay on this -- turns out it's more complicated than it seems, and I haven't been able to come up with a good way to implement the change that doesn't break the interface. For now, I decided to modify our local version to fit our specific needs. Here's what I've learned, hoping it helps to further your understanding:\n- Return-Path gets inserted based on the envelope-sender (ie. what you send along with the MAIL FROM command) and not the From or the Sender headers.\n- From what I've found, the Sender header is only necessary when you are sending to outlook.com (or related) and you want to send on behalf of someone else who's DKIM key you don't have. Outlook.com lets you do this by including the Sender header and signing against that domain instead.\nAt first we included the Sender header all the time, but then discovered that Outlook (the application) will display <Sender header> on behalf of <From header> if the Sender header is present. This looks really ugly because we have a really long, autogenerated Sender address. Options we're exploring:\n- Only include Sender header when sending to outlook.com. We're not sure how this impacts deliverability to Exchange servers.\n- Set a different, and shorter Sender header from the envelope-sender so that the 'On behalf of' message is cleaner and the Return-Path address ends up retaining the autogenerated address we need. It looks like MailChimp does it this way.\nAnyway, I hope this helps. Thanks again for all your hard work on PHPMailer.\n. @ashakunt \nWould you please give me the link to this topic \"Google was blocking all logins to smtp.gmail.com\"? I can't send mail even from my machine (\"localhost\"). But I did that successfully just in last month.\n. @ashakunt \nThank you. I tried all suggestions from that Google support link (even before you gave it to me), but couldn't have it working.\nI've just tried again and it worked. I think perhaps I was wrong at some points. Thank you so much for your help.\nP.S: Just in case, my script is written in Python. At this moment, after some failed attempts, it works again. But I'm porting the script to Ruby (using built-in SMTP module that Ruby supports), but it's not working -- 535-5.7.8 Username and Password not accepted. Learn more at...\n. @Synchro exactly, GitHub isn't StackOverflow, lol.\n. I'm having this same problem. Basically -- did all the advice from above-- and when I added this code:\n$mail->Subject = 'Here is the subject '. md5(rand());\nI get 3 different emails with 3 different subjects. \nI'm capturing an image from an html5 canvas, saving it then sending it via email. Here's some of my code (the mail portion) -- maybe we can help each other.\n`   $mail = new PHPMailer();\n    $mail->Sender = \"hello@mywebsite.com\";\n    $mail->From = \"mail@mywebsite.com\";\n    $mail->FromName = \"My Web Admin\";\n    $mail->AddReplyTo( \"mail@mywebsite.com\", \"DO NOT REPLY\" );\n    $mail->AddAddress(\"myemailaddress@gmail.com\");\n```\n    // $mail->Subject  = \"Latest Sketch Image\";\n$mail->Subject = 'Here is the subject '. md5(rand());\n$mail->Body     = \"Attached! \\n\\n Thanks.\";\n$mail->AddAttachment('uploads/latestimage.png');\nif(!$mail->Send()) {\n    echo 'Message was not sent.';\n    echo 'Mailer error: ' . $mail->ErrorInfo;\n} else {\n    echo '';\n    echo 'alert(\"Thanks! Message Sent\")';\n    echo '';\n}\n```\n`\n. That makes sense. Here's my entire \"send.php\". I even updated to the latest of PHPMailer. If I go directly to the \"send.php\" file -- I get the following error. However, it also prompts that the image was sent 2 times. I'm really trying to figure out where in my script am I saying.. hey, send this, send this again, send this 3 times. I just don't see it.... tuff.\nNotice: Undefined index: dataURL in /save2.php on line 15\nUnable to save the file.latestimage.png\n```\n<?php\n    // DEFINE ERRORS \n    ini_set('display_errors',1);\n    ini_set('display_startup_errors',1);\n    error_reporting(-1);\n// RECIEVE CAPTURED IMAGE FROM .JS FILE -- STORE IT IN UPLOADS FOLDER.\ndefine('UPLOAD_DIR', '/pathtomyuploadsfolder/uploads/');\n\n    // ***** THIS IS WHERE THE ERROR FROM ABOVE IS ****** \n$img = $_POST['dataURL'];\n$img = str_replace('data:image/png;base64,', '', $img);\n$img = str_replace(' ', '+', $img);\n\n$data = base64_decode($img);\n\n$file = UPLOAD_DIR . uniqid() . '.png';\n$file = UPLOAD_DIR . 'latestimage.png';\n$success = file_put_contents($file, $data);\nprint $success ? 'Latest File:   ' . $file : 'Unable to save the file.';\n\n// GET LATEST UPLOAD -- AND HAVE IT STORED IN DOM (WHEN NEEDED) \n$path = \"/pathtomyuploadsfolder/uploads/\";\n\n$latest_ctime = 1;\n$latest_filename = '';\n\n$d = dir($path);\nwhile (false !== ($entry = $d->read())) {\n  $filepath = \"{$path}/{$entry}\";\n  // could do also other checks than just checking whether the entry is a file\n  if (is_file($filepath) && filectime($filepath) > $latest_ctime) {\n    $latest_ctime = filectime($filepath);\n    $latest_filename = $entry;\n    print $latest_filename;\n  }\n\n// SEND EMAIL W/ ATTACHMENT OF LATEST IMAGE (OVERRIDING same file EVERYTIME)\nif (!class_exists(\"phpmailer\")) {\n    require_once('PHPMailer-master2/class.phpmailer.php');\n    require_once 'PHPMailer-master2/PHPMailerAutoload.php';\n}\n\n$mail = new PHPMailer();\n\n$mail->Sender = \"hello@mywebsite.com\";\n\n$mail->Sender = \"hello@mywebsite.com\";\n    $mail->From = \"mail@mywebsite.com\";\n    $mail->FromName = \"My Web Admin\";\n    $mail->AddReplyTo( \"mail@mywebsite.com\", \"DO NOT REPLY\" );\n    $mail->AddAddress(\"myemailaddress@gmail.com\");\n\n    // $mail->Subject  = \"Latest Sketch Image\";\n$mail->Subject = 'Here is the subject '. md5(rand());\n$mail->Body     = \"Attached! \\n\\n Thanks.\";\n$mail->AddAttachment('/uploads/latestimage.png');\n\nif(!$mail->Send()) {\n    echo 'Message was not sent.';\n    echo 'Mailer error: ' . $mail->ErrorInfo;\n} else {\n    echo '<script language=\"javascript\">';\n    echo 'alert(\"Thanks! Message Sent\")';\n    echo '</script>';\n}\n\n}\n```\n. I am running a server which is Live and updating is not as simple. It was running for a while and it is Debian so unless I add custom unstable-ish repositories I am stuck to older versions of PHP. I am willing to update as soon as possible, of course. I will try to check this PCRE, not really sure how I would fix it on debian yet but thank you for info. \n. I am running a server which is Live and updating is not as simple. It was running for a while and it is Debian so unless I add custom unstable-ish repositories I am stuck to older versions of PHP. I am willing to update as soon as possible, of course. I will try to check this PCRE, not really sure how I would fix it on debian yet but thank you for info. \n. This is the info.. I cannot seem to change the version and it seems to be latest..\nPCRE (Perl Compatible Regular Expressions) Support  enabled\nPCRE Library Version    8.36 2014-09-26\nDirective   Local Value Master Value\npcre.backtrack_limit    1000000 1000000\npcre.recursion_limit    100000  100000\n. This is the info.. I cannot seem to change the version and it seems to be latest..\nPCRE (Perl Compatible Regular Expressions) Support  enabled\nPCRE Library Version    8.36 2014-09-26\nDirective   Local Value Master Value\npcre.backtrack_limit    1000000 1000000\npcre.recursion_limit    100000  100000\n. Great! Thanks for your help. What I did works now so it is OK for now. \n. Great! Thanks for your help. What I did works now so it is OK for now. \n. OK. OK. https://github.com/robyrobrob/phpsir/blob/master/register.php\nThis script uses the latest PHPMailer+SMTP classes, and successfully sends email to a .org TLD.\n. Yes, this is the code:\n``` php\n    $extensoes = array('pdf', 'doc', 'docx');\n    $extensaoArquivo = pathinfo($FILES['Arquivo']['name'], PATHINFO_EXTENSION);\n    $novoNomeArquivo = strtolower(str_replace(' ', '', $_post['Nome']) . '.' . $extensaoArquivo);\nif (in_array($extensaoArquivo, $extensoes)) {\n    if (move_uploaded_file($_FILES['Arquivo']['tmp_name'], 'uploads/' . $novoNomeArquivo)) {\n        $mailer->ContentType = \"Content-type: text/html; charset=utf-8\";\n        $mailer->setFrom($_post['Email'], $_post['Nome']);\n        $mailer->addAddress(\"mail@mail.com.br\");\n        $mailer->Subject = 'Trabalhe conosco - ' . $_post['Nome'];\n        $mailer->isHTML();\n        $mailer->MsgHTML($mensagem);\n        $mailer->addAttachment($_FILES['Arquivo']['tmp_name'], $novoNomeArquivo);\n\n        if ($mailer->send()) {\n            ...\n\n```\nAs it is now, no attachment is received. If I try to use $mailer->Body($mensagem);, it seems the if ($mailer->send()) { is not even reached. I use Ajax with FormData, and if it is a success, the form is reseted, but with Body, nothing happens.\n. Yes, this is the code:\n``` php\n    $extensoes = array('pdf', 'doc', 'docx');\n    $extensaoArquivo = pathinfo($FILES['Arquivo']['name'], PATHINFO_EXTENSION);\n    $novoNomeArquivo = strtolower(str_replace(' ', '', $_post['Nome']) . '.' . $extensaoArquivo);\nif (in_array($extensaoArquivo, $extensoes)) {\n    if (move_uploaded_file($_FILES['Arquivo']['tmp_name'], 'uploads/' . $novoNomeArquivo)) {\n        $mailer->ContentType = \"Content-type: text/html; charset=utf-8\";\n        $mailer->setFrom($_post['Email'], $_post['Nome']);\n        $mailer->addAddress(\"mail@mail.com.br\");\n        $mailer->Subject = 'Trabalhe conosco - ' . $_post['Nome'];\n        $mailer->isHTML();\n        $mailer->MsgHTML($mensagem);\n        $mailer->addAttachment($_FILES['Arquivo']['tmp_name'], $novoNomeArquivo);\n\n        if ($mailer->send()) {\n            ...\n\n```\nAs it is now, no attachment is received. If I try to use $mailer->Body($mensagem);, it seems the if ($mailer->send()) { is not even reached. I use Ajax with FormData, and if it is a success, the form is reseted, but with Body, nothing happens.\n. @SDKiller Because I have found examples doing it. Now I have fixed it. Thank you.\n. @SDKiller Because I have found examples doing it. Now I have fixed it. Thank you.\n. Synchro Help me please\nI am having problem with send email, it seems that has an error on SMTP port, i don't know\nThe following message appears for me\n2017-11-08 18:00:12 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP g8sm3148956qtg.23 - gsmtp\n2017-11-08 18:00:12 CLIENT -> SERVER: EHLO localhost\n2017-11-08 18:00:12 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [189.46.135.27]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250 SMTPUTF8\n2017-11-08 18:00:12 CLIENT -> SERVER: STARTTLS\n2017-11-08 18:00:12 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nSMTP Error: Could not connect to SMTP host.\n2017-11-08 18:00:12 CLIENT -> SERVER: QUIT\n2017-11-08 18:00:12 SERVER -> CLIENT: \n2017-11-08 18:00:12 SMTP ERROR: QUIT command failed: \nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nI already read the troobleshooting guide and nothing resolve =(\nCould you help me to resolve this problem?. I did\nrequire_once 'php/PHPMailerAutoload.php';\n$mailer = new PHPMailer();\n. Synchro came up with a solution that worked. I turned encoding to base64 and my messages didn't seem to corrupt after that.\nThanks again.\n. Do you have suggestions for what I can do? I did some research and found out the warnings happen before the php is even executed. I don't understand how I'm supposed to override the warning.. Linux Mint (Ubuntu and Debian editions) (Laptop and Desktop) and PHP 7.1.2, using the PHP_EOL, I haven't seen any of the above issues.. If you run the code through a linter like php7cc, it shows that there is code in the source that isn't supported by PHP7. I find it works perfectly fine with v5.6, which is currently the lowest supported version being LTS. Even though they have release 7.1, 7 is not suggested for production environment, unless something has changed that I am not aware in the last month or so.\n. I replaced every file with the latest version, except for send.php which contains the configurations and im still getting the error.. Thanks.\nI replaced \n$mail->Host = gethostbyname('smtp.gmail.com'); with $mail->Host = 'smtp.gmail.com';\nand that fixed the issue.\nIf I understood correctly regarding the forgery issue, I did the following:\n$mail->setFrom('myownemailaddress@domain.com');\n$mail->addReplyTo($formInput2, $formInput1);\nfor the addReplyTo, the $formInput2 variable contains the name the user entered in the input field, while $formInput1 contains the email address they entered. Is this correct? I didn't realize I would actually be sending emails to myself with the users message.. Might as well post this here:\nWhen an invalid email address is entered, the following message is returned\nInvalid address: (addAnAddress Reply-To): invalidaddress\nI can't find any documentation on how to replace this warning with my own custom message.. echo $mail->addReplyTo($Input2, $Input1); returns '1' if the email is valid and nothing if it's invalid. How do I trap the response? I know very little PHP.. I can't get this to work. I wrapped the addReplyTo function with the if statement, but I still receive the default message when the email is invalid.\n$mail->setFrom('email@address.com', 'johndoe')\nif( !$mail->addReplyTo($formInput2, $formInput1) ) {echo \"INVALID\";};\n$mail->Body = $content;. I implemented the if statement shown above. If the email is invalid I should see 'invalid' message. But I'm not.\nEDIT: sorry, I meant addReplyTo\nI should be seeing 'invalid' but I'm still getting the default error. Wouldn't that show 'INVALID EMAIL ADDRESS' for all errors? Is this something that could be made simpler?. As I mentioned before I know very little PHP. You can't possibly assume everyone knows as much PHP as you. This should be documented somewhere.. My server mail is in white-list...\n2017-03-28 07:14:57 Connection: opening to localhost:25, timeout=300, options=array (\n                                        'ssl' => \n                                        array (\n                                          'verify_peer' => false,\n                                          'verify_peer_name' => false,\n                                          'allow_self_signed' => true,\n                                        ),\n                                      )\n2017-03-28 07:14:57 Connection: opened\n2017-03-28 07:14:57 SERVER -> CLIENT: 220 argenit.com.tr ESMTP Exim 4.84_2 Tue, 28 Mar 2017 10:14:57 +0300\n2017-03-28 07:14:57 CLIENT -> SERVER: EHLO easypath.argenit.com.tr\n2017-03-28 07:14:57 SERVER -> CLIENT: 250-argenit.com.tr Hello localhost [::1]\n                                      250-SIZE 52428800\n                                      250-8BITMIME\n                                      250-PIPELINING\n                                      250 HELP\n{\"data\":\"ozgun_unlu@hotmail.com \\u00d6zg\\u00fcn \\u00dcNL\\u00dc\"}2017-03-28 07:14:57 CLIENT -> SERVER: QUIT\n2017-03-28 07:14:57 SERVER -> CLIENT: 221 argenit.com.tr closing connection\n2017-03-28 07:14:57 Connection: closed. @Eternal-Infinity Thank you, i forgot it.\nIt works with GMAIL. It seems to server problem.\nThank you for helping.. Finally! <3. Ah!  Great!  (and that now makes the routine make sense)  Thank you!. Ah!  Great!  (and that now makes the routine make sense)  Thank you!. ",
    "tarekdj": "Updates for Arabic, see #241 \n. ",
    "Chofoteddy": "In fact I utilzo Yii Framework, and to function properly, did the integration of dirname(FILE);\n. ",
    "msturdy": "Apologies, of course!  And, thanks for the advice on the RFC2606, didn't\nknow about that.\nI've updated both of the example/ scripts, would you like for me to send\nanother pull request?\nOn 27 February 2013 20:42, Marcus Bointon notifications@github.com wrote:\n\nThanks for this pull request. Could you take your email address out of the\ntest script? I doubt you want to know about it when anyone runs it! It's a\ngood idea to use RFC2606 addresses like x@example.com. I don't know if\ngoogle has any test accounts that will be safely ignored.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Synchro/PHPMailer/pull/27#issuecomment-14207706\n.\n. Great, OK!  Appreciate the good advice, and will follow it in the future.\n. \n",
    "eliovir": "You're welcome! So, I'm the first, and I think not the last to talk about Esperanto to you!\nIt is not as wide spread as it should, but speakers exist.\nMany libraries are translated, if you look at translations, you'll see a lot of translated software.\nWhen the libraries I use are not translated, I do.\nHey! It's nice, composer has already updated the \"vendor\" sources.\nThanks again.\n. Hi,\nI do not see the use of this string, for example by:\n$this->Lang('mailer_not_supported')\nAre you sure this sentence is used?\nI've done this command, it does not return any use:\ngrep -r mailer_not_supported .\nWhatever, it's easier for me to put the missing line here:\n$PHPMAILER_LANG['mailer_not_supported'] = ' mesa\u011dilo ne subtenata.';\nThanks for warning me about the missing translation for Esperanto.\n. ",
    "bretrzaun": "I would suggest creating at least one tag with a version number in a format which Composer and Packagist recognize as such.\nSee http://getcomposer.org/doc/02-libraries.md#specifying-the-version for documentation.\nAlthough the trunk may be stable currently this would give your users safety to use a stable version from now on - even if the trunk advances.\n. Perfect - go see: https://packagist.org/packages/phpmailer/phpmailer\nIt now lists version 5.2.5\nThanks\n. ",
    "sun": "That's awesome news!\nI'm one of the maintainers of the Drupal integration module.  We were eagerly awaiting a new tagged release in http://drupal.org/node/1291750 - so, many thanks for this.\nThat said, I noticed that the project README as well as discussion in this issue still states and talks about \"Rolling releases\".\nTo ensure a proper integration into applications like Drupal, ensuring security, as well as providing user/developer support, it is absolutely necessary to have properly tagged, official releases.  Otherwise, it would be impossible to know which exact version of the PHPMailer library someone is running, and, ensuring that the integration module is compatible with that.\nCould you provide a clarification on the release management?\nP.S.: I also wanted to mention that the official project homepage does not look very trustworthy currently.  It's pretty hard for users to find the proper download link on that page.  It took me a few minutes myself to figure out from where and how users are supposed to download the latest PHPMailer release.  (Worse, when I visited the page, there was an ad for some download manager software in the right sidebar, which was the only visible download link and even looked like the official download link.)  For now, we will probably deep-link the github tags page directly instead.\nThanks again!\n. Great to hear - thanks for clarifying!\nI've some positive news:  The Drupal PHPMailer integration module still fully works with the new 5.2.5 release. :)\nIn fact, I was able to simplify a couple of things and remove workarounds, since the new library code has been improved.  So it all pays out on many fronts. :)\nI only noticed very small blips:  The version wasn't updated in all files -- e.g., class.smtp.php still contains 5.2.4 in the tagged 5.2.5 package.  Likewise, the changelog doesn't contain a new version header for 5.2.5.  You likely want to write yourself a release checklist, or even better, a small script to run sed --in-place on some files before tagging a new release. :)\nGiven my experience with the move and updating to the new release, I'd actually recommend to shut down the SourceForge + GoogleCode projects entirely + add very bold and large announcements + links to the new repo instead.\nLastly, I just noticed that you already created a github organization https://github.com/PHPMailer/PHPMailer - which I just wanted to suggest ;) -- But why is the contained PHPMailer project yet another fork and not literally this repo...? ;)\nShould I change all of my links to point to https://github.com/PHPMailer/PHPMailer instead?  (I'd love to.)\nThanks!\n. This page describes the process: https://help.github.com/articles/how-to-transfer-a-repository\nIf that's not sufficient, then I'd recommend to get in touch with github -- I'm sure they can help.\n. Awesome :)\nI've updated all the links for the Drupal integration module.\nThat said, the commit for 5.2.6 appears in the history, but https://github.com/PHPMailer/PHPMailer/tags does not show it -- did you push the tag?\n. Thank you again for moving the project forward!\n. ",
    "maartenmachiels": "Hi, is there any update on this issue? Using PHPMailer in combination with Sendgrid via (SMTPAPI) and am encountering lots of issues, as the recipients are stored in a custom header. After 72 characters, newlines are inserted, which results in broken e-mail addresses...\n. Hi, is there any update on this issue? Using PHPMailer in combination with Sendgrid via (SMTPAPI) and am encountering lots of issues, as the recipients are stored in a custom header. After 72 characters, newlines are inserted, which results in broken e-mail addresses...\n. Thanks so much for your follow-up. I've posted my issue here: https://github.com/PHPMailer/PHPMailer/issues/726\nIt's a long one. Sorry in advance :-)\n. Thanks for your in-depth response. Agreed that SendGrid should reconvert the folded header in an orderly fashion, but at this time they do not, so they suggest wrapping the header manually... \nSo the only thing I can go on is their PERL snippet:\n```\nThis regex breaks the string up at whitespaces to keep the line length short\n$js =~ s/(.{1,72})(\\s)/$1\\n   /g;\n```\nHowever, I do not understand PERL nor have the ability to convert it into a valid PHP regex.\nAdditionally, in my JSON-header string (especially the part with the recipient list), there are no spaces... \nDo you have any suggestions on how to succesfully workaround this issue? I understand this is beyond the scope of PHPMailer.\n. Hi, thanks for following up. I've did some tests, and they do seem to work. As per your suggestion, I've used the encodeHeader function. I didn't find any clear examples online, so I tried to do some guesswork. Here's the code I used. Could you have a look?\n$sendgrid_options = str_replace(',', ', ',json_encode($sendgrid_options));\n$mail->addCustomHeader('x-smtpapi', $mail->encodeHeader($sendgrid_options,72));\nIs this the correct use of the encodeHeader function? Do you have any further suggestions?\nWhen using this piece of code, the mail is being sent without issue. Also, upon investigating the SMTP log, I see that the folding doesn't happen inside e-mailaddresses anymore. See below:\n2: SERVER -> CLIENT: 220 SG ESMTP service ready at ismtpd0004p1lon1.sendgrid.net\n2: CLIENT -> SERVER: EHLO cmcrm.chocolata.be\n2: SERVER -> CLIENT: 250-smtp.sendgrid.net\n250-8BITMIME\n250-PIPELINING\n250-SIZE 31457280\n250-STARTTLS\n250-AUTH PLAIN LOGIN\n250 AUTH=PLAIN LOGIN\n2: CLIENT -> SERVER: STARTTLS\n2: SERVER -> CLIENT: 220 Begin TLS negotiation now\n2: CLIENT -> SERVER: EHLO cmcrm.chocolata.be\n2: SERVER -> CLIENT: 250-smtp.sendgrid.net\n250-8BITMIME\n250-PIPELINING\n250-SIZE 31457280\n250-STARTTLS\n250-AUTH PLAIN LOGIN\n250 AUTH=PLAIN LOGIN\n2: CLIENT -> SERVER: AUTH LOGIN\n2: SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2: CLIENT -> SERVER: xxx=\n2: SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2: CLIENT -> SERVER: xxx\n2: SERVER -> CLIENT: 235 Authentication successful\n2: CLIENT -> SERVER: MAIL FROM:<noreply@website.be>\n2: SERVER -> CLIENT: 250 Sender address accepted\n2: CLIENT -> SERVER: RCPT TO:<to@address.com>\n2: SERVER -> CLIENT: 250 Recipient address accepted\n2: CLIENT -> SERVER: DATA\n2: SERVER -> CLIENT: 354 Continue\n2: CLIENT -> SERVER: Date: Fri, 20 May 2016 10:34:39 +0200\n2: CLIENT -> SERVER: To: Website <to@address.com>\n2: CLIENT -> SERVER: From: Website <noreply@website.be>\n2: CLIENT -> SERVER: Reply-To: To Name <info@website.com>\n2: CLIENT -> SERVER: Subject: Systeemtest, header wrapping\n2: CLIENT -> SERVER: Message-ID: <c06f1bda48f949bc887e186fabb584a9@cmcrm.chocolata.be>\n2: CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.13 (https://github.com/PHPMailer/PHPMailer)\n2: CLIENT -> SERVER: x-smtpapi: {\"category\":[\"https:\\/\\/cmcrm.chocolata.be\", \"wysiwyg\"], \"unique_args\":{\"token\":\"573ecc1f28bc7\", \"from_url\":\"https:\\/\\/www.website.be\"}, \"to\":[\"test@chocolata.be\", \"test01@chocolata.be\", \"test1@chocolata.be\", \"test2@chocolata.be\", \"test3@chocolata.be\", \"test4@chocolata.be\", \"test5@chocolata.be\", \"test6@chocolata.be\", \"test7@chocolata.be\", \"test8@chocolata.be\", \"test9@chocolata.be\", \"test10@chocolata.be\", \"test11@chocolata.be\", \"test12@chocolata.be\", \"test13@chocolata.be\", \"test14@chocolata.be\", \"test15@chocolata.be\", \"test16@chocolata.be\", \"test17@chocolata.be\", \"test18@chocolata.be\", \"test19@chocolata.be\", \"test20@chocolata.be\", \"test21@chocolata.be\", \"test22@chocolata.be\", \"test23@chocolata.be\", \"test24@chocolata.be\", \"test25@chocolata.be\", \"test26@chocolata.be\",\n2: CLIENT -> SERVER:    \"test27@chocolata.be\", \"test28@chocolata.be\", \"test29@chocolata.be\", \"test30@chocolata.be\", \"test31@chocolata.be\", \"test32@chocolata.be\", \"test33@chocolata.be\", \"test34@chocolata.be\", \"test35@chocolata.be\", \"test36@chocolata.be\", \"test37@chocolata.be\", \"test38@chocolata.be\", \"test39@chocolata.be\", \"test40@chocolata.be\", \"test41@chocolata.be\", \"test42@chocolata.be\", \"test43@chocolata.be\", \"test44@chocolata.be\", \"test45@chocolata.be\", \"test46@chocolata.be\", \"test47@chocolata.be\", \"test48@chocolata.be\", \"test49@chocolata.be\", \"test50@chocolata.be\", \"test51@chocolata.be\", \"test52@chocolata.be\", \"test53@chocolata.be\", \"test54@chocolata.be\", \"test55@chocolata.be\", \"test56@chocolata.be\", \"test57@chocolata.be\", \"test58@chocolata.be\", \"test59@chocolata.be\", \"test60@chocolata.be\", \"test61@chocolata.be\", \"test62@chocolata.be\", \"test63@chocolata.be\", \"test64@chocolata.be\", \"test65@chocolata.be\", \"test66@chocolata.be\", \"test67@chocolata.be\", \"test68@chocolata.be\", \"test69@chocolata.be\",\n2: CLIENT -> SERVER:    \"test70@chocolata.be\", \"test71@chocolata.be\", \"test72@chocolata.be\", \"test73@chocolata.be\", \"test74@chocolata.be\", \"test75@chocolata.be\", \"test76@chocolata.be\", \"test77@chocolata.be\", \"test78@chocolata.be\", \"test79@chocolata.be\", \"test80@chocolata.be\", \"test81@chocolata.be\", \"test82@chocolata.be\", \"test83@chocolata.be\", \"test84@chocolata.be\", \"test85@chocolata.be\", \"test86@chocolata.be\", \"test87@chocolata.be\", \"test88@chocolata.be\", \"test89@chocolata.be\", \"test90@chocolata.be\", \"test91@chocolata.be\", \"test92@chocolata.be\", \"test93@chocolata.be\", \"test94@chocolata.be\", \"test95@chocolata.be\", \"test96@chocolata.be\", \"test97@chocolata.be\", \"test98@chocolata.be\", \"test99@chocolata.be\", \"test100@chocolata.be\", \"test101@chocolata.be\", \"test102@chocolata.be\", \"test103@chocolata.be\", \"test104@chocolata.be\", \"test105@chocolata.be\", \"test106@chocolata.be\", \"test107@chocolata.be\", \"test108@chocolata.be\", \"test109@chocolata.be\", \"test110@chocolata.be\", \"test111@chocolata.be\",\n2: CLIENT -> SERVER:    \"test112@chocolata.be\", \"test113@chocolata.be\", \"test114@chocolata.be\", \"test115@chocolata.be\", \"test116@chocolata.be\", \"test117@chocolata.be\", \"test118@chocolata.be\", \"test119@chocolata.be\", \"test120@chocolata.be\", \"test121@chocolata.be\", \"test122@chocolata.be\", \"test123@chocolata.be\", \"test124@chocolata.be\", \"test125@chocolata.be\", \"test126@chocolata.be\", \"test127@chocolata.be\", \"test128@chocolata.be\", \"test129@chocolata.be\", \"test130@chocolata.be\", \"test131@chocolata.be\", \"test132@chocolata.be\", \"test133@chocolata.be\", \"test134@chocolata.be\", \"test135@chocolata.be\", \"test136@chocolata.be\", \"test137@chocolata.be\", \"test138@chocolata.be\", \"test139@chocolata.be\", \"test140@chocolata.be\", \"test141@chocolata.be\", \"test142@chocolata.be\", \"test143@chocolata.be\", \"test144@chocolata.be\", \"test145@chocolata.be\", \"test146@chocolata.be\", \"test147@chocolata.be\", \"test148@chocolata.be\", \"test149@chocolata.be\", \"test150@chocolata.be\", \"test151@chocolata.be\", \"test152@chocolata.be\",\n2: CLIENT -> SERVER:    \"test153@chocolata.be\", \"test154@chocolata.be\", \"test155@chocolata.be\", \"test156@chocolata.be\", \"test157@chocolata.be\", \"test158@chocolata.be\", \"test159@chocolata.be\", \"test160@chocolata.be\", \"test161@chocolata.be\", \"test162@chocolata.be\", \"test163@chocolata.be\", \"test164@chocolata.be\", \"test165@chocolata.be\", \"test166@chocolata.be\", \"test167@chocolata.be\", \"test168@chocolata.be\", \"test169@chocolata.be\", \"test170@chocolata.be\", \"test171@chocolata.be\", \"test172@chocolata.be\", \"test173@chocolata.be\", \"test174@chocolata.be\", \"test175@chocolata.be\"]}\n2: CLIENT -> SERVER: MIME-Version: 1.0\n2: CLIENT -> SERVER: Content-Type: multipart/alternative;\n2: CLIENT -> SERVER:    boundary=\"b1_c06f1bda48f949bc887e186fabb584a9\"\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: This is a multi-part message in MIME format.\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: --b1_c06f1bda48f949bc887e186fabb584a9\n2: CLIENT -> SERVER: Content-Type: text/plain; charset=iso-8859-1\n2: CLIENT -> SERVER: Content-Transfer-Encoding: quoted-printable\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: Systeemtest, header wrappingLorem ipsum dolor sit amet, consectetur=0Aadipi=\n2: CLIENT -> SERVER: scing elit. Curabitur dui erat, viverra sit amet tellus et,=0Aposuere matti=\n2: CLIENT -> SERVER: s libero. Vivamus lectus massa, interdum sit amet libero=0Aat, ullamcorper =\n2: CLIENT -> SERVER: vehicula sem. In sit amet est facilisis, euismod felis=0Anon, molestie maur=\n2: CLIENT -> SERVER: is. Aliquam varius ac velit ac vulputate. Fusce=0Atellus turpis, laoreet id=\n2: CLIENT -> SERVER:  erat egestas, malesuada pellentesque metus.=0ADonec consequat velit in sus=\n2: CLIENT -> SERVER: cipit ullamcorper. Donec ut imperdiet=0Aodio. Cras quis dictum orci, et lao=\n2: CLIENT -> SERVER: reet felis. Pellentesque gravida ex=0Amassa, ornare hendrerit mi vehicula e=\n2: CLIENT -> SERVER: t. Suspendisse vehicula ex quis=0Aleo congue accumsan faucibus vel erat. In=\n2: CLIENT -> SERVER:  bibendum dui accumsan arcu=0Apellentesque, quis bibendum mi maximus. Morbi=\n2: CLIENT -> SERVER:  iaculis fringilla=0Aaliquam. Cras in arcu tristique, sodales turpis non, s=\n2: CLIENT -> SERVER: uscipit dolor.=0ADonec dapibus, turpis eget dictum lobortis, mi ex finibus =\n2: CLIENT -> SERVER: tellus, at=0Afringilla purus mauris nec velit.\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: Ut lacinia dui eu ex euismod venenatis. Phasellus feugiat arcu quis=0Amauri=\n2: CLIENT -> SERVER: s cursus hendrerit. Proin a ante maximus, cursus lacus non,=0Aeleifend lect=\n2: CLIENT -> SERVER: us. Nulla ac congue sapien. Vivamus at rhoncus lectus,=0Asit amet eleifend =\n2: CLIENT -> SERVER: est. Suspendisse turpis nisi, consectetur ut=0Avestibulum ut, varius at urn=\n2: CLIENT -> SERVER: a. Maecenas placerat dolor hendrerit,=0Avolutpat metus a, dignissim est.\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: Vestibulum tempus interdum risus non ultrices. Maecenas egestas lacus=0Aid =\n2: CLIENT -> SERVER: mauris placerat viverra. Praesent tempor cursus lectus, non=0Acondimentum n=\n2: CLIENT -> SERVER: ulla vehicula accumsan. Morbi ac elementum nisi, eu=0Aultrices felis. Cras =\n2: CLIENT -> SERVER: rhoncus nibh urna, quis dignissim lectus euismod=0Avitae. Curabitur faucibu=\n2: CLIENT -> SERVER: s faucibus ex ullamcorper rutrum. Mauris=0Agravida elit at eros maximus, in=\n2: CLIENT -> SERVER:  luctus odio gravida.\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: Proin suscipit dui turpis, in semper arcu aliquet eget. Etiam pharetra=0Atr=\n2: CLIENT -> SERVER: istique rhoncus. Ut magna ipsum, molestie et justo vitae, laoreet=0Amolesti=\n2: CLIENT -> SERVER: e arcu. Phasellus at lacus quis nisl lacinia lobortis. Aliquam=0Aeleifend t=\n2: CLIENT -> SERVER: empor lorem, eget condimentum mauris accumsan sit amet.=0AMorbi cursus orci=\n2: CLIENT -> SERVER:  eget turpis ornare, eget blandit purus auctor. Nulla=0Anec nibh in velit p=\n2: CLIENT -> SERVER: orttitor faucibus eget id est. Morbi ac purus=0Acommodo felis faucibus semp=\n2: CLIENT -> SERVER: er. Vestibulum rutrum lacus condimentum=0Aligula iaculis, at tristique tell=\n2: CLIENT -> SERVER: us dictum. Curabitur pharetra erat=0Asit amet felis ultrices volutpat. Pell=\n2: CLIENT -> SERVER: entesque feugiat ut diam sit=0Aamet aliquet. Curabitur laoreet egestas arcu=\n2: CLIENT -> SERVER: , vel feugiat lectus=0Atempus ac. In sollicitudin sit amet nulla in feugiat=\n2: CLIENT -> SERVER: ..\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: In hac habitasse platea dictumst. Maecenas vitae porta lectus, vel=0Asceler=\n2: CLIENT -> SERVER: isque orci. Suspendisse semper vehicula velit nec vestibulum.=0AAliquam tem=\n2: CLIENT -> SERVER: por lacus eget tincidunt porta. Pellentesque non laoreet=0Anulla. Curabitur=\n2: CLIENT -> SERVER:  eu ante lobortis, tincidunt arcu vel, sodales neque.=0AInteger ut diam nec=\n2: CLIENT -> SERVER:  diam consequat vehicula. Sed ac tortor id dui=0Arutrum tristique. Nunc ege=\n2: CLIENT -> SERVER: t ligula sed velit pharetra dapibus. Integer=0Aeu metus sed urna fringilla =\n2: CLIENT -> SERVER: fermentum. Quisque id rutrum nulla. Ut sem=0Adui, dapibus id ex in, sagitti=\n2: CLIENT -> SERVER: s lobortis nibh.\n2: CLIENT -> SERVER: Met vriendelijke groeten - Cordialement - Kind regards Website=0AMCWEB: h=\n2: CLIENT -> SERVER: ttp://planet.website.bePHONE: 03 650 09 80MAIL:=0Ahello@website.b=\n2: CLIENT -> SERVER: eADDRESS: Ter Borcht 46 - 2930 Brasschaat\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: --b1_c06f1bda48f949bc887e186fabb584a9\n2: CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2: CLIENT -> SERVER: Content-Transfer-Encoding: quoted-printable\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: <h1 style=3D\"font-family: Arial, Helvetica, sans-serif; font-size: 24px; li=\n2: CLIENT -> SERVER: ne-height: 24px; margin-bottom: 20px;\">Systeemtest, header wrapping</h1><p>=\n2: CLIENT -> SERVER: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur dui erat=\n2: CLIENT -> SERVER: , viverra sit amet tellus et, posuere mattis libero. Vivamus lectus massa, =\n2: CLIENT -> SERVER: interdum sit amet libero at, ullamcorper vehicula sem. In sit amet est faci=\n2: CLIENT -> SERVER: lisis, euismod felis non, molestie mauris. Aliquam varius ac velit ac vulpu=\n2: CLIENT -> SERVER: tate. Fusce tellus turpis, laoreet id erat egestas, malesuada pellentesque =\n2: CLIENT -> SERVER: metus. Donec consequat velit in suscipit ullamcorper. Donec ut imperdiet od=\n2: CLIENT -> SERVER: io. Cras quis dictum orci, et laoreet felis. Pellentesque gravida ex massa,=\n2: CLIENT -> SERVER:  ornare hendrerit mi vehicula et. Suspendisse vehicula ex quis leo congue a=\n2: CLIENT -> SERVER: ccumsan faucibus vel erat. In bibendum dui accumsan arcu pellentesque, quis=\n2: CLIENT -> SERVER:  bibendum mi maximus. Morbi iaculis fringilla aliquam. Cras in arcu tristiq=\n2: CLIENT -> SERVER: ue, sodales turpis non, suscipit dolor. Donec dapibus, turpis eget dictum l=\n2: CLIENT -> SERVER: obortis, mi ex finibus tellus, at fringilla purus mauris nec velit.</p>\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: <p>Ut lacinia dui eu ex euismod venenatis. Phasellus feugiat arcu quis maur=\n2: CLIENT -> SERVER: is cursus hendrerit. Proin a ante maximus, cursus lacus non, eleifend lectu=\n2: CLIENT -> SERVER: s. Nulla ac congue sapien. Vivamus at rhoncus lectus, sit amet eleifend est=\n2: CLIENT -> SERVER: .. Suspendisse turpis nisi, consectetur ut vestibulum ut, varius at urna. Ma=\n2: CLIENT -> SERVER: ecenas placerat dolor hendrerit, volutpat metus a, dignissim est.</p>\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: <p>Vestibulum tempus interdum risus non ultrices. Maecenas egestas lacus id=\n2: CLIENT -> SERVER:  mauris placerat viverra. Praesent tempor cursus lectus, non condimentum nu=\n2: CLIENT -> SERVER: lla vehicula accumsan. Morbi ac elementum nisi, eu ultrices felis. Cras rho=\n2: CLIENT -> SERVER: ncus nibh urna, quis dignissim lectus euismod vitae. Curabitur faucibus fau=\n2: CLIENT -> SERVER: cibus ex ullamcorper rutrum. Mauris gravida elit at eros maximus, in luctus=\n2: CLIENT -> SERVER:  odio gravida.</p>\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: <p>Proin suscipit dui turpis, in semper arcu aliquet eget. Etiam pharetra t=\n2: CLIENT -> SERVER: ristique rhoncus. Ut magna ipsum, molestie et justo vitae, laoreet molestie=\n2: CLIENT -> SERVER:  arcu. Phasellus at lacus quis nisl lacinia lobortis. Aliquam eleifend temp=\n2: CLIENT -> SERVER: or lorem, eget condimentum mauris accumsan sit amet. Morbi cursus orci eget=\n2: CLIENT -> SERVER:  turpis ornare, eget blandit purus auctor. Nulla nec nibh in velit porttito=\n2: CLIENT -> SERVER: r faucibus eget id est. Morbi ac purus commodo felis faucibus semper. Vesti=\n2: CLIENT -> SERVER: bulum rutrum lacus condimentum ligula iaculis, at tristique tellus dictum. =\n2: CLIENT -> SERVER: Curabitur pharetra erat sit amet felis ultrices volutpat. Pellentesque feug=\n2: CLIENT -> SERVER: iat ut diam sit amet aliquet. Curabitur laoreet egestas arcu, vel feugiat l=\n2: CLIENT -> SERVER: ectus tempus ac. In sollicitudin sit amet nulla in feugiat.</p>\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: <p>In hac habitasse platea dictumst. Maecenas vitae porta lectus, vel scele=\n2: CLIENT -> SERVER: risque orci. Suspendisse semper vehicula velit nec vestibulum. Aliquam temp=\n2: CLIENT -> SERVER: or lacus eget tincidunt porta. Pellentesque non laoreet nulla. Curabitur eu=\n2: CLIENT -> SERVER:  ante lobortis, tincidunt arcu vel, sodales neque. Integer ut diam nec diam=\n2: CLIENT -> SERVER:  consequat vehicula. Sed ac tortor id dui rutrum tristique. Nunc eget ligul=\n2: CLIENT -> SERVER: a sed velit pharetra dapibus. Integer eu metus sed urna fringilla fermentum=\n2: CLIENT -> SERVER: .. Quisque id rutrum nulla. Ut sem dui, dapibus id ex in, sagittis lobortis =\n2: CLIENT -> SERVER: nibh.</p>\n2: CLIENT -> SERVER: <p style=3D\"font-family: Arial, Helvetica, sans-serif; font-size: 12px; lin=\n2: CLIENT -> SERVER: e-height: 20px; margin-bottom: 20px;\">Met vriendelijke groeten - Cordialeme=\n2: CLIENT -> SERVER: nt - Kind regards <br />Website MC</p><table style=3D\"border: none; font-=\n2: CLIENT -> SERVER: family: Arial, Helvetica, sans-serif; font-size: 12px; line-height: 20px; m=\n2: CLIENT -> SERVER: argin-bottom: 20px;\"><tr><td style=3D\"padding-right: 20px;\"><img src=3D\"htt=\n2: CLIENT -> SERVER: p://planet.website.be/img/logo.png\" alt=3D\"Website MC logo\" /></td><=\n2: CLIENT -> SERVER: td>WEB: <a style=3D\"color: #CA0A42;\" href=3D\"http://planet.website.be\"=\n2: CLIENT -> SERVER:  title=3D\"Visit Website MC Planet\">http://planet.website.be</a><br /=\n2: CLIENT -> SERVER: >PHONE: <a style=3D\"color: #CA0A42;\" href=3D\"tel:036500980\" class=3D\"cicon =\n2: CLIENT -> SERVER: telephone\">03 650 09 80</a><br />MAIL: <a style=3D\"color: #CA0A42;\" href=3D=\n2: CLIENT -> SERVER: \"mailto:hello@website.be\" class=3D\"cicon email\">hello@website.be<=\n2: CLIENT -> SERVER: /a><br />ADDRESS: <span class=3D\"cicon address\">Ter Borcht 46 - 2930 Brassc=\n2: CLIENT -> SERVER: haat</span></td></tr></table>\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: --b1_c06f1bda48f949bc887e186fabb584a9--\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: .\n2: SERVER -> CLIENT: 250 Ok: queued as zUQds7mMR2yE7EbZjTiRaQ\n2: CLIENT -> SERVER: QUIT\n2: SERVER -> CLIENT: 221 See you later\nSee the enclosed file for your convenience.\nnew_log.txt\n. You are completely right, I understand. However, in the short term, I need to find some kind of solution. So, what I am seeing (the correct, manual folding of the XSMTPAPI header) has nothing to do with encodeHeader? How come the header is folded at not arbitrary places after calling encodeHeader then?\nYou mentioned something:\n\nYou shouldn't need to call encodeHeader yourself at all, just set the value you want and PHPMailer will encode it for you.\n\nYou mean without any extra settings, it should just work, right..? Frustrating...\n. Hi, thanks for your additional comments. I've now included an 8-bit character. \n\"unique_args\":{\"token\":\"5742f12e669a2\", \"from_url\":\"https:\\/\\/sender.domain.com\", \"a\":\"\u00e9\"}\nThis is the setup now:\n// Some custom encoding, to avoid sendgrid issues!\n$sendgrid_options = str_replace(',', ', ',json_encode($sendgrid_options));\n$mail->addCustomHeader('x-smtpapi', $mail->encodeHeader($sendgrid_options)); // Metadata + sender info\nWhich outputs to (please note the XSMTPAPI header with the extra character. \n2: SERVER -> CLIENT: 220 SG ESMTP service ready at ismtpd0001p1lon1.sendgrid.net\n2: CLIENT -> SERVER: EHLO sender.domain.com\n2: SERVER -> CLIENT: 250-smtp.sendgrid.net\n250-8BITMIME\n250-PIPELINING\n250-SIZE 31457280\n250-STARTTLS\n250-AUTH PLAIN LOGIN\n250 AUTH=PLAIN LOGIN\n2: CLIENT -> SERVER: STARTTLS\n2: SERVER -> CLIENT: 220 Begin TLS negotiation now\n2: CLIENT -> SERVER: EHLO sender.domain.com\n2: SERVER -> CLIENT: 250-smtp.sendgrid.net\n250-8BITMIME\n250-PIPELINING\n250-SIZE 31457280\n250-STARTTLS\n250-AUTH PLAIN LOGIN\n250 AUTH=PLAIN LOGIN\n2: CLIENT -> SERVER: AUTH LOGIN\n2: SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2: CLIENT -> SERVER: xxx=\n2: SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2: CLIENT -> SERVER: xxx\n2: SERVER -> CLIENT: 235 Authentication successful\n2: CLIENT -> SERVER: MAIL FROM:<noreply@website.be>\n2: SERVER -> CLIENT: 250 Sender address accepted\n2: CLIENT -> SERVER: RCPT TO:<recipient@gmail.com>\n2: SERVER -> CLIENT: 250 Recipient address accepted\n2: CLIENT -> SERVER: DATA\n2: SERVER -> CLIENT: 354 Continue\n2: CLIENT -> SERVER: Date: Mon, 23 May 2016 14:01:50 +0200\n2: CLIENT -> SERVER: To:  Rocket <recipient@gmail.com>\n2: CLIENT -> SERVER: From: Sender Sender <noreply@website.be>\n2: CLIENT -> SERVER: Reply-To: Sender Sender <sender@gmail.com>\n2: CLIENT -> SERVER: Subject: Feunz\n2: CLIENT -> SERVER: Message-ID: <07e25a3daab58851cf911860d31022b0@sender.domain.com>\n2: CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.13 (https://github.com/PHPMailer/PHPMailer)\n2: CLIENT -> SERVER: x-smtpapi: {\"category\":[\"https:\\/\\/sender.domain.com\", \"wysiwyg\"], \"unique_args\":{\"token\":\"5742f12e669a2\", \"from_url\":\"https:\\/\\/sender.domain.com\", \"a\":\"\\u00e9\"}, \"to\":[\"lorem@recipient.com\", \"ipsum@recipient.com\", \"dolor@recipient.com\", \"sit@recipient.com\", \"amet12345@recipient.com\", \"consectetur@recipient.com\", \"adipiscing@recipient.com\", \"elit.test@recipient.com\", \"nulla@recipient.com\", \"placerat12345@recipient.com\", \"arcu@recipient.com\", \"quis@recipient.com\", \"tempus@recipient.com\", \"vestibulum12345@recipient.com\", \"felis@recipient.com\", \"tellus@recipient.com\", \"tempus@recipient.com\", \"arcu12345@recipient.com\", \"vel@recipient.com\", \"mollis@recipient.com\", \"ex@recipient.com\", \"est@recipient.com\", \"a@recipient.com\", \"elit.test@recipient.com\", \"sed@recipient.com\", \"a@recipient.com\", \"finibus@recipient.com\", \"nisi12345@recipient.com\", \"ultrices@recipient.com\", \"mollis@recipient.com\", \"ante.test@recipient.com\", \"suspendisse@recipient.com\", \"porta@recipient.com\", \"ante@recipient.com\", \"vitae@recipient.com\",\n2: CLIENT -> SERVER:    \"quam@recipient.com\", \"posuere12345@recipient.com\", \"vitae@recipient.com\", \"laoreet@recipient.com\", \"urna@recipient.com\", \"egestas.test@recipient.com\", \"fusce@recipient.com\", \"congue@recipient.com\", \"nisl@recipient.com\", \"sagittis@recipient.com\", \"ligula@recipient.com\", \"bibendum@recipient.com\", \"molestie.test@recipient.com\", \"fusce@recipient.com\", \"accumsan@recipient.com\", \"neque@recipient.com\", \"a@recipient.com\", \"velit@recipient.com\", \"consequat12345@recipient.com\", \"id@recipient.com\", \"eleifend@recipient.com\", \"lorem@recipient.com\", \"congue.test@recipient.com\", \"nullam@recipient.com\", \"rhoncus@recipient.com\", \"quis@recipient.com\", \"elit@recipient.com\", \"eu@recipient.com\", \"suscipit.test@recipient.com\", \"nunc@recipient.com\", \"mollis@recipient.com\", \"neque@recipient.com\", \"eu@recipient.com\", \"iaculis@recipient.com\", \"eleifend@recipient.com\", \"duis@recipient.com\", \"vel@recipient.com\", \"lacus@recipient.com\", \"aliquet12345@recipient.com\", \"semper@recipient.com\", \"sapien@recipient.com\", \"sit@recipient.com\",\n2: CLIENT -> SERVER:    \"amet12345@recipient.com\", \"scelerisque@recipient.com\", \"tortor.test@recipient.com\", \"duis@recipient.com\", \"rhoncus@recipient.com\", \"odio@recipient.com\", \"et@recipient.com\", \"nulla@recipient.com\", \"tempus12345@recipient.com\", \"a@recipient.com\", \"tristique@recipient.com\", \"sem@recipient.com\", \"consequat@recipient.com\", \"maecenas@recipient.com\", \"quis@recipient.com\", \"pulvinar@recipient.com\", \"ante@recipient.com\", \"sed@recipient.com\", \"vestibulum@recipient.com\", \"laoreet@recipient.com\", \"placerat.test@recipient.com\", \"mauris@recipient.com\", \"non@recipient.com\", \"enim@recipient.com\", \"eu@recipient.com\", \"mauris@recipient.com\", \"pretium@recipient.com\", \"aliquet.test@recipient.com\", \"ut@recipient.com\", \"eget@recipient.com\", \"vulputate@recipient.com\", \"urna.test@recipient.com\", \"fusce@recipient.com\", \"ut@recipient.com\", \"urna@recipient.com\", \"at@recipient.com\", \"augue@recipient.com\", \"vehicula@recipient.com\", \"tempus@recipient.com\", \"ut@recipient.com\", \"ut@recipient.com\", \"magna.test@recipient.com\", \"vestibulum@recipient.com\",\n2: CLIENT -> SERVER:    \"ante@recipient.com\", \"ipsum@recipient.com\", \"primis@recipient.com\", \"in@recipient.com\", \"faucibus@recipient.com\", \"orci@recipient.com\", \"luctus@recipient.com\", \"et@recipient.com\", \"ultrices@recipient.com\", \"posuere@recipient.com\", \"cubilia@recipient.com\", \"curae@recipient.com\", \"nunc@recipient.com\", \"fringilla@recipient.com\", \"nisi@recipient.com\", \"in@recipient.com\", \"ipsum@recipient.com\", \"pharetra@recipient.com\", \"tincidunt.test@recipient.com\", \"cras@recipient.com\", \"sapien@recipient.com\", \"urna12345@recipient.com\", \"efficitur@recipient.com\", \"sed@recipient.com\", \"tempus@recipient.com\", \"nec12345@recipient.com\", \"auctor@recipient.com\", \"ac@recipient.com\", \"nibh.test@recipient.com\", \"pellentesque@recipient.com\", \"nec@recipient.com\", \"volutpat@recipient.com\", \"dui12345@recipient.com\", \"et@recipient.com\", \"faucibus@recipient.com\", \"lectus@recipient.com\", \"morbi@recipient.com\", \"sodales12345@recipient.com\", \"sapien@recipient.com\", \"non@recipient.com\", \"convallis@recipient.com\", \"tempor12345@recipient.com\",\n2: CLIENT -> SERVER:    \"enim@recipient.com\", \"lectus@recipient.com\", \"aliquet@recipient.com\", \"lectus12345@recipient.com\", \"at@recipient.com\", \"egestas@recipient.com\", \"sem@recipient.com\", \"nunc@recipient.com\", \"ut@recipient.com\", \"pop@recipient.com\", \"hey@maartenmachiels.be\", \"pop@recipient.com\"]}\n2: CLIENT -> SERVER: MIME-Version: 1.0\n2: CLIENT -> SERVER: Content-Type: multipart/alternative;\n2: CLIENT -> SERVER:    boundary=\"b1_07e25a3daab58851cf911860d31022b0\"\n2: CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: This is a multi-part message in MIME format.\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: --b1_07e25a3daab58851cf911860d31022b0\n2: CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: FeunzLorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla\n2: CLIENT -> SERVER: placerat, arcu quis tempus vestibulum, felis tellus tempus arcu, vel\n2: CLIENT -> SERVER: mollis ex est a elit. Sed a finibus nisi, ultrices mollis ante.\n2: CLIENT -> SERVER: Suspendisse porta ante vitae quam posuere, vitae laoreet urna egestas.\n2: CLIENT -> SERVER: Fusce congue nisl sagittis ligula bibendum molestie. Fusce accumsan\n2: CLIENT -> SERVER: neque a velit consequat, id eleifend lorem congue. Nullam rhoncus quis\n2: CLIENT -> SERVER: elit eu suscipit. Nunc mollis neque eu iaculis eleifend. Duis vel\n2: CLIENT -> SERVER: lacus aliquet, semper sapien sit amet, scelerisque tortor.\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: Duis rhoncus odio et nulla tempus, a tristique sem consequat. Maecenas\n2: CLIENT -> SERVER: quis pulvinar ante. Sed vestibulum laoreet placerat. Mauris non enim\n2: CLIENT -> SERVER: eu mauris pretium aliquet. Ut eget vulputate urna. Fusce ut urna at\n2: CLIENT -> SERVER: augue vehicula tempus ut ut magna. Vestibulum ante ipsum primis in\n2: CLIENT -> SERVER: faucibus orci luctus et ultrices posuere cubilia Curae; Nunc fringilla\n2: CLIENT -> SERVER: nisi in ipsum pharetra tincidunt. Cras sapien urna, efficitur sed\n2: CLIENT -> SERVER: tempus nec, auctor ac nibh. Pellentesque nec volutpat dui, et faucibus\n2: CLIENT -> SERVER: lectus. Morbi sodales, sapien non convallis tempor, enim lectus\n2: CLIENT -> SERVER: aliquet lectus, at egestas sem nunc ut urna.\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: Aenean in nunc faucibus, varius mi eu, sollicitudin sapien. Maecenas\n2: CLIENT -> SERVER: ac volutpat nunc. Aenean sagittis faucibus odio, vitae tempor odio\n2: CLIENT -> SERVER: dictum nec. Sed eget justo a erat sagittis volutpat. Aenean ut enim\n2: CLIENT -> SERVER: elementum, semper tellus eget, feugiat enim. Phasellus sodales dolor\n2: CLIENT -> SERVER: risus, sed tincidunt ligula congue in. Morbi congue turpis nec mi\n2: CLIENT -> SERVER: tempor, eu convallis odio sagittis. Aliquam tristique efficitur neque,\n2: CLIENT -> SERVER: sed rhoncus erat varius ac. Duis ac magna aliquam, iaculis diam et,\n2: CLIENT -> SERVER: lacinia enim. Phasellus laoreet massa sapien, et imperdiet libero\n2: CLIENT -> SERVER: bibendum a. Nullam mattis massa non nisl ultrices auctor eget eget\n2: CLIENT -> SERVER: ipsum.\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: In et mauris non eros congue tincidunt. Vestibulum velit urna, rhoncus\n2: CLIENT -> SERVER: et ante et, congue tempor lorem. Nulla aliquam augue non lorem semper,\n2: CLIENT -> SERVER: ac faucibus ante eleifend. Sed eget tempus ex. Fusce ac fermentum est.\n2: CLIENT -> SERVER: In commodo, purus non varius iaculis, tortor est imperdiet sem, non\n2: CLIENT -> SERVER: semper nibh libero a urna. Phasellus ac ante a nunc condimentum rutrum\n2: CLIENT -> SERVER: eu at risus. Curabitur tempus lacinia tempus. Pellentesque posuere\n2: CLIENT -> SERVER: maximus diam nec mattis. Nulla pretium mollis nibh consequat dapibus.\n2: CLIENT -> SERVER: Suspendisse quis libero ullamcorper, faucibus risus eu, fermentum\n2: CLIENT -> SERVER: lorem. Donec lacinia ligula velit, eget accumsan neque lacinia eget.\n2: CLIENT -> SERVER: Morbi vitae augue scelerisque, condimentum ligula nec, vestibulum\n2: CLIENT -> SERVER: massa. Donec ornare nisi eget urna pretium sollicitudin. Morbi vitae\n2: CLIENT -> SERVER: metus eu mauris elementum posuere nec nec diam.\n2: CLIENT -> SERVER: Met vriendelijke groeten - Cordialement - Kind regards Challenge\n2: CLIENT -> SERVER: MCWEB: http://planet.website.bePHONE: 03 650 09 80MAIL:\n2: CLIENT -> SERVER: hello@website.beADDRESS: Ter Borcht 46 - 2930 Brasschaat\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: --b1_07e25a3daab58851cf911860d31022b0\n2: CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: <h1 style=\"font-family: Arial, Helvetica, sans-serif; font-size: 24px; line-height: 24px; margin-bottom: 20px;\">Feunz</h1><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla placerat, arcu quis tempus vestibulum, felis tellus tempus arcu, vel mollis ex est a elit. Sed a finibus nisi, ultrices mollis ante. Suspendisse porta ante vitae quam posuere, vitae laoreet urna egestas. Fusce congue nisl sagittis ligula bibendum molestie. Fusce accumsan neque a velit consequat, id eleifend lorem congue. Nullam rhoncus quis elit eu suscipit. Nunc mollis neque eu iaculis eleifend. Duis vel lacus aliquet, semper sapien sit amet, scelerisque tortor.</p>\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: <p>Duis rhoncus odio et nulla tempus, a tristique sem consequat. Maecenas quis pulvinar ante. Sed vestibulum laoreet placerat. Mauris non enim eu mauris pretium aliquet. Ut eget vulputate urna. Fusce ut urna at augue vehicula tempus ut ut magna. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nunc fringilla nisi in ipsum pharetra tincidunt. Cras sapien urna, efficitur sed tempus nec, auctor ac nibh. Pellentesque nec volutpat dui, et faucibus lectus. Morbi sodales, sapien non convallis tempor, enim lectus aliquet lectus, at egestas sem nunc ut urna.</p>\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: <p>Aenean in nunc faucibus, varius mi eu, sollicitudin sapien. Maecenas ac volutpat nunc. Aenean sagittis faucibus odio, vitae tempor odio dictum nec. Sed eget justo a erat sagittis volutpat. Aenean ut enim elementum, semper tellus eget, feugiat enim. Phasellus sodales dolor risus, sed tincidunt ligula congue in. Morbi congue turpis nec mi tempor, eu convallis odio sagittis. Aliquam tristique efficitur neque, sed rhoncus erat varius ac. Duis ac magna aliquam, iaculis diam et, lacinia enim. Phasellus laoreet massa sapien, et imperdiet libero bibendum a. Nullam mattis massa non nisl ultrices auctor eget eget ipsum.</p>\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: <p>In et mauris non eros congue tincidunt. Vestibulum velit urna, rhoncus et ante et, congue tempor lorem. Nulla aliquam augue non lorem semper, ac faucibus ante eleifend. Sed eget tempus ex. Fusce ac fermentum est. In commodo, purus non varius iaculis, tortor est imperdiet sem, non semper nibh libero a urna. Phasellus ac ante a nunc condimentum rutrum eu at risus. Curabitur tempus lacinia tempus. Pellentesque posuere maximus diam nec mattis. Nulla pretium mollis nibh consequat dapibus. Suspendisse quis libero ullamcorper, faucibus risus eu, fermentum lorem. Donec lacinia ligula velit, eget accumsan neque lacinia eget. Morbi vitae augue scelerisque, condimentum ligula nec, vestibulum massa. Donec ornare nisi eget urna pretium sollicitudin. Morbi vitae metus eu mauris elementum posuere nec nec diam.</p>\n2: CLIENT -> SERVER: <p style=\"font-family: Arial, Helvetica, sans-serif; font-size: 12px; line-height: 20px; margin-bottom: 20px;\">Met vriendelijke groeten - Cordialement - Kind regards <br /></p><table style=\"border: none; font-family: Arial, Helvetica, sans-serif; font-size: 12px; line-height: 20px; margin-bottom: 20px;\"><tr><td style=\"padding-right: 20px;\"><img src=\"http://planet.website.be/img/logo.png\" alt=\" logo\" /></td><td>WEB: <a style=\"color: #CA0A42;\" href=\"http://planet.website.be\" title=\"Visit  Planet\">http://planet.website.be</a><br />PHONE: <a style=\"color: #CA0A42;\" href=\"tel:036500980\" class=\"cicon telephone\">03 55555550</a><br />MAIL: <a style=\"color: #CA0A42;\" href=\"mailto:hello@website.be\" class=\"cicon email\">hello@website.be</a><br />ADDRESS: <span class=\"cicon address\">Address</span></td></tr></table>\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: --b1_07e25a3daab58851cf911860d31022b0--\n2: CLIENT -> SERVER: \n2: CLIENT -> SERVER: .\n2: SERVER -> CLIENT: 250 Ok: queued as hAnkBkiFRAKc9T0oDDQRlw\n2: CLIENT -> SERVER: QUIT\n2: SERVER -> CLIENT: 221 See you later\nWhen I send it like this, I get no invalid e-mail notifications. No wrapping in between e-mail addresses... Any remarks?\nThe new log in TXT for your convenience.\nnewlog.txt\n. Hi, sorry, I haven't escaped it :-) I edited my response. This is what I did:\n$sendgrid_options = array(  'category'=>array(g::site_root,$send_type),\n        'unique_args'=> array('token'=>$token,'from_url'=>g::site_root,\"a\"=>\"\u00e9\"));\nA little further down:\n```\n        $mail->isHTML(true);\n        $mail->WordWrap = 70;\n        $mail->CharSet = 'UTF-8';\n    // Set headers\n    $mail->setFrom($from_address, $from_name);\n    $mail->addReplyTo($reply_address, $reply_name);\n    $mail->addAddress($to_address, $to_name);\n    $mail->Subject = $subject;\n\n    // Some custom encoding, to avoid sendgrid issues!\n    $sendgrid_options = str_replace(',', ', ',json_encode($sendgrid_options));\n    $mail->addCustomHeader('x-smtpapi', $mail->encodeHeader($sendgrid_options)); // Metadata + sender info\n\n    // Send it\n    $mail->msgHTML($html_message);\n    if (!$mail->Send()) { ... }\n\n```\n. Hi, thanks! I now removed the encodeHeader call in my custom header. Now, the mails seem to arrive, but the log is looks a bit messed up... \nThis is the part with the XSMTPAPI header. Is this good or bad? :-$\n2: CLIENT -> SERVER: x-smtpapi: =?UTF-8?Q?{\"category\":[\"https:\\/\\/cmcrm.websiteee.be\",_\"wysiwyg\"],_\"uniqu?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?e=5Fargs\":{\"token\":\"5743002dcfd6c\",_\"from=5Furl\":\"https:\\/\\/cmc?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?rm.websiteee.be\",_\"a\":\"=C3=A9\"},_\"to\":[\"lorem@websiteee.be\",_\"i?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?psum@websiteee.be\",_\"dolor@websiteee.be\",_\"sit@websiteee.be\",_\"?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?amet12345@websiteee.be\",_\"consectetur@websiteee.be\",_\"adipiscin?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?g@websiteee.be\",_\"elit.test@websiteee.be\",_\"nulla@websiteee.be\"?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?,_\"placerat12345@websiteee.be\",_\"arcu@websiteee.be\",_\"quis@choc?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?olata.be\",_\"tempus@websiteee.be\",_\"vestibulum12345@websiteee.be?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?\",_\"felis@websiteee.be\",_\"tellus@websiteee.be\",_\"tempus@chocola?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ta.be\",_\"arcu12345@websiteee.be\",_\"vel@websiteee.be\",_\"mollis@c?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?hocolata.be\",_\"ex@websiteee.be\",_\"est@websiteee.be\",_\"a@chocola?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ta.be\",_\"elit.test@websiteee.be\",_\"sed@websiteee.be\",_\"a@chocol?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ata.be\",_\"finibus@websiteee.be\",_\"nisi12345@websiteee.be\",_\"ult?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?rices@websiteee.be\",_\"mollis@websiteee.be\",_\"ante.test@chocolat?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?a.be\",_\"suspendisse@websiteee.be\",_\"porta@websiteee.be\",_\"ante@?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?websiteee.be\",_\"vitae@websiteee.be\",_\"quam@websiteee.be\",_\"posu?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ere12345@websiteee.be\",_\"vitae@websiteee.be\",_\"laoreet@chocolat?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?a.be\",_\"urna@websiteee.be\",_\"egestas.test@websiteee.be\",_\"fusce?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?@websiteee.be\",_\"congue@websiteee.be\",_\"nisl@websiteee.be\",_\"sa?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?gittis@websiteee.be\",_\"ligula@websiteee.be\",_\"bibendum@chocolat?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?a.be\",_\"molestie.test@websiteee.be\",_\"fusce@websiteee.be\",_\"acc?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?umsan@websiteee.be\",_\"neque@websiteee.be\",_\"a@websiteee.be\",_\"v?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?elit@websiteee.be\",_\"consequat12345@websiteee.be\",_\"id@chocolat?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?a.be\",_\"eleifend@websiteee.be\",_\"lorem@websiteee.be\",_\"congue.t?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?est@websiteee.be\",_\"nullam@websiteee.be\",_\"rhoncus@websiteee.be?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?\",_\"quis@websiteee.be\",_\"elit@websiteee.be\",_\"eu@websiteee.be\",?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?_\"suscipit.test@websiteee.be\",_\"nunc@websiteee.be\",_\"mollis@cho?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?colata.be\",_\"neque@websiteee.be\",_\"eu@websiteee.be\",_\"iaculis@c?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?hocolata.be\",_\"eleifend@websiteee.be\",_\"duis@websiteee.be\",_\"ve?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?l@websiteee.be\",_\"lacus@websiteee.be\",_\"aliquet12345@websiteee.?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?be\",_\"semper@websiteee.be\",_\"sapien@websiteee.be\",_\"sit@chocola?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ta.be\",_\"amet12345@websiteee.be\",_\"scelerisque@websiteee.be\",_\"?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?tortor.test@websiteee.be\",_\"duis@websiteee.be\",_\"rhoncus@chocol?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ata.be\",_\"odio@websiteee.be\",_\"et@websiteee.be\",_\"nulla@chocola?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ta.be\",_\"tempus12345@websiteee.be\",_\"a@websiteee.be\",_\"tristiqu?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?e@websiteee.be\",_\"sem@websiteee.be\",_\"consequat@websiteee.be\",_?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?\"maecenas@websiteee.be\",_\"quis@websiteee.be\",_\"pulvinar@chocola?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ta.be\",_\"ante@websiteee.be\",_\"sed@websiteee.be\",_\"vestibulum@ch?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ocolata.be\",_\"laoreet@websiteee.be\",_\"placerat.test@websiteee.b?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?e\",_\"mauris@websiteee.be\",_\"non@websiteee.be\",_\"enim@websiteee.?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?be\",_\"eu@websiteee.be\",_\"mauris@websiteee.be\",_\"pretium@chocola?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ta.be\",_\"aliquet.test@websiteee.be\",_\"ut@websiteee.be\",_\"eget@c?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?hocolata.be\",_\"vulputate@websiteee.be\",_\"urna.test@websiteee.be?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?\",_\"fusce@websiteee.be\",_\"ut@websiteee.be\",_\"urna@websiteee.be\"?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?,_\"at@websiteee.be\",_\"augue@websiteee.be\",_\"vehicula@websiteee.?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?be\",_\"tempus@websiteee.be\",_\"ut@websiteee.be\",_\"ut@websiteee.be?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?\",_\"magna.test@websiteee.be\",_\"vestibulum@websiteee.be\",_\"ante@?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?websiteee.be\",_\"ipsum@websiteee.be\",_\"primis@websiteee.be\",_\"in?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?@websiteee.be\",_\"faucibus@websiteee.be\",_\"orci@websiteee.be\",_\"?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?luctus@websiteee.be\",_\"et@websiteee.be\",_\"ultrices@websiteee.be?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?\",_\"posuere@websiteee.be\",_\"cubilia@websiteee.be\",_\"curae@choco?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?lata.be\",_\"nunc@websiteee.be\",_\"fringilla@websiteee.be\",_\"nisi@?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?websiteee.be\",_\"in@websiteee.be\",_\"ipsum@websiteee.be\",_\"pharet?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ra@websiteee.be\",_\"tincidunt.test@websiteee.be\",_\"cras@chocolat?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?a.be\",_\"sapien@websiteee.be\",_\"urna12345@websiteee.be\",_\"effici?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?tur@websiteee.be\",_\"sed@websiteee.be\",_\"tempus@websiteee.be\",_\"?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?nec12345@websiteee.be\",_\"auctor@websiteee.be\",_\"ac@websiteee.be?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?\",_\"nibh.test@websiteee.be\",_\"pellentesque@websiteee.be\",_\"nec@?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?websiteee.be\",_\"volutpat@websiteee.be\",_\"dui12345@websiteee.be\"?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?,_\"et@websiteee.be\",_\"faucibus@websiteee.be\",_\"lectus@websiteee?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?.be\",_\"morbi@websiteee.be\",_\"sodales12345@websiteee.be\",_\"sapie?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?n@websiteee.be\",_\"non@websiteee.be\",_\"convallis@websiteee.be\",_?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?\"tempor12345@websiteee.be\",_\"enim@websiteee.be\",_\"lectus@chocol?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?ata.be\",_\"aliquet@websiteee.be\",_\"lectus12345@websiteee.be\",_\"a?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?t@websiteee.be\",_\"egestas@websiteee.be\",_\"sem@websiteee.be\",_\"n?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?unc@websiteee.be\",_\"ut@websiteee.be\",_\"pop@websiteee.be\",_\"hey@?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?maartenmachiels.be\",_\"pop@websiteee.be\",_\"maartenmachiels@gmail?=\n2: CLIENT -> SERVER:  =?UTF-8?Q?.com\"]}?=\nThis is the part now that sets the XSMTPAPI header:\n// Force custom encoding, to avoid sendgrid issues!\n        $sendgrid_options = str_replace(',', ', ',json_encode($sendgrid_options, JSON_UNESCAPED_UNICODE));\n        $mail->addCustomHeader('x-smtpapi', $sendgrid_options); // Metadata + sender info\nDo I still need the {\"a\":\"\u00e9\"} thing in my XSMTPAPI header? :-) \n. Thanks Synchro for your follow-up. It seems this issue is now resolved. I haven't heard back from SendGrid support yet, but when I do, I'll be sure to direct them to this thread. If I get any follow-up info from them, I'll be sure to post it here. \nOne last tweak I did was to remove the str_replace() that adds extra spaces in the XSMTPAPI header. I thought the folding might have had something to do with that, but after my final testing, it doesn't. As you say, the problem is in the encoding, so I can safely remove it. \nThanks for your efforts. My problem is solved!\n. ",
    "vicary": "This is strange, I have my fork replaced with the 23K pattern found here and it only takes 0.08 - 0.15 secs more for each address.\n. Can I add raw contents and a custom mime type as a last resort?\n. In my functions that handles both scalar and array inputs, I used to normalise it to always be arrays. You may take a look at isAssoc() and wrapAssoc() in my utility class here.\nHope that helps. :)\n. @ooxi A bit off topic, but you can see my \"functional\" functions here. I used to compose() when I do my usual array_map() and array_filter(). The compose() itself is not often used, instead the derived propIn() and friends is quite neat to me. ;)\n. Don't meant for going off topic.\nRegarding this\n\nit's made difficult by PHPMailer's messy and inconsistent mechanisms for handling headers - sometimes as arrays, sometimes as strings\n\nI was suggesting my way to easily have function parameters supports both scalar type and array type in PHP, people usually do that in Javascript and I kinda like that approach. Again, hope that helps.\n. ",
    "tempslar": "I extract it and put it in a new file, and run it on the same server. there is no problem. It finished in 0.011907815933228s\nBlew is my code:\n<?php\n$starttime = microtime( true );\n$email = isset( $argv[ 1 ] )  ?  trim( $argv[ 1 ] )  : null;\nif ( $email ) {\n    $result = ValidateAddress( $email );\n    echo 'Email->' . $email . \"\\n\";\n    var_dump( $result );\n}\nelse {\n    die(\"No input\\n\");\n}\n$endtime = microtime( true ) - $starttime;\nexit( $endtime );\n/* The code i extract form  PHP Mailer */\nfunction ValidateAddress( $address ) {\nif (defined('PCRE_VERSION')) { //Check this instead of extension_loaded so it works when that function is disabled\n    if (version_compare(PCRE_VERSION, '8.0') >= 0) {\n        return (boolean)preg_match('/^(?!(?>(?1)\"?(?>\\\\\\[ -~]|[^\"])\"?(?1)){255,})(?!(?>(?1)\"?(?>\\\\\\[ -~]|[^\"])\"?(?1)){65,}@)((?>(?>(?>((?>(?>(?>\\x0D\\x0A)?[\\t ])+|(?>[\\t ]*\\x0D\\x0A)?[\\t ]+)?)(\\((?>(?2)(?>[\\x01-\\x08\\x0B\\x0C\\x0E-\\'*-\\[\\]-\\x7F]|\\\\\\[\\x00-\\x7F]|(?3)))*(?2)\\)))+(?2))|(?2))?)([!#-\\'*+\\/-9=?^-~-]+|\"(?>(?2)(?>[\\x01-\\x08\\x0B\\x0C\\x0E-!#-\\[\\]-\\x7F]|\\\\\\[\\x00-\\x7F]))*(?2)\")(?>(?1)\\.(?1)(?4))*(?1)@(?!(?1)[a-z0-9-]{64,})(?1)(?>([a-z0-9](?>[a-z0-9-]*[a-z0-9])?)(?>(?1)\\.(?!(?1)[a-z0-9-]{64,})(?1)(?5)){0,126}|\\[(?:(?>IPv6:(?>([a-f0-9]{1,4})(?>:(?6)){7}|(?!(?:.*[a-f0-9][:\\]]){8,})((?6)(?>:(?6)){0,6})?::(?7)?))|(?>(?>IPv6:(?>(?6)(?>:(?6)){5}:|(?!(?:.*[a-f0-9]:){6,})(?8)?::(?>((?6)(?>:(?6)){0,4}):)?))?(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])(?>\\.(?9)){3}))\\])(?1)$/isD', $address);\n    } else {\n//Fall back to an older regex that doesn't need a recent PCRE\n        return (boolean)preg_match('/^(?!(?>\"?(?>\\\\\\[ -~]|[^\"])\"?){255,})(?!(?>\"?(?>\\\\\\[ -~]|[^\"])\"?){65,}@)(?>[!#-\\'*+\\/-9=?^-~-]+|\"(?>(?>[\\x01-\\x08\\x0B\\x0C\\x0E-!#-\\[\\]-\\x7F]|\\\\\\[\\x00-\\xFF]))*\")(?>\\.(?>[!#-\\'*+\\/-9=?^-~-]+|\"(?>(?>[\\x01-\\x08\\x0B\\x0C\\x0E-!#-\\[\\]-\\x7F]|\\\\\\[\\x00-\\xFF]))*\"))*@(?>(?![a-z0-9-]{64,})(?>[a-z0-9](?>[a-z0-9-]*[a-z0-9])?)(?>\\.(?![a-z0-9-]{64,})(?>[a-z0-9](?>[a-z0-9-]*[a-z0-9])?)){0,126}|\\[(?:(?>IPv6:(?>(?>[a-f0-9]{1,4})(?>:[a-f0-9]{1,4}){7}|(?!(?:.*[a-f0-9][:\\]]){8,})(?>[a-f0-9]{1,4}(?>:[a-f0-9]{1,4}){0,6})?::(?>[a-f0-9]{1,4}(?>:[a-f0-9]{1,4}){0,6})?))|(?>(?>IPv6:(?>[a-f0-9]{1,4}(?>:[a-f0-9]{1,4}){5}:|(?!(?:.*[a-f0-9]:){6,})(?>[a-f0-9]{1,4}(?>:[a-f0-9]{1,4}){0,4})?::(?>(?:[a-f0-9]{1,4}(?>:[a-f0-9]{1,4}){0,4}):)?))?(?>25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])(?>\\.(?>25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}))\\])$/isD', $address);\n    }\n} else {\n    //No PCRE! Do something _very_ approximate!\n    //Check the address is 3 chars or longer and contains an @ that's not the first or last char\n    return (strlen($address) >= 3 and strpos($address, '@') >= 1 and strpos($address, '@') != strlen($address) - 1);\n}\n}\n. Sorry to Reply so late. I ran your code, and it finished so quickly, well that's very weird.\nResult:\n$ php test.php 'abc@gmail.com'\nEmail->abc@gmail.com\nbool(true)\n0.013795137405396\n. ",
    "nagamiki": "hello all,\nI am new to phpmailer and meet the same problem as described above, could anyone please share the solution to this issue? my server is running on ubuntu with xampp 1.8.1. If i comments the statements in function ValidateAddress()  the $mail->send() always return false. \nIt's strange that the same php script is running perfect on my mac mamp server.\nthanks for help.\n. ",
    "jimjag": "This is exactly why ValidateAddress is public static.\nOn Wed, Aug 7, 2013 at 3:41 AM, ccoltman notifications@github.com wrote:\n\nI had the exact same experience as above, with the CPU pinning at 100% and\nexecuting until timeout at 30s. PHP version 5.4.7, PCRE version 8.12 (quad\ncore 3.4GHz w/16GB)\nThe solution was to change the PCRE to something I found on\nhacksparrow.com for a RFC2822 email regex:\nreturn (boolean)preg_match(\"/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g\", $address);\nAfter this it worked for standard email addresses. Strange/rare \"valid\"\nemails would not pass, nor would local addresses. I'm sure this could be\nimproved, but at least it got things mailing.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/41#issuecomment-22234815\n.\n. In Talaen, I leverage iCalcreator (http://kigkonsult.se/iCalcreator/index.php) which does a great job in creating the format. +1 for adding cal events.\n. It is strongly recommended that the MessageID be some unique value... I\nmean really unique :)\n\nOn Thu, May 9, 2013 at 10:15 AM, Marcus Bointon notifications@github.comwrote:\n\nYou can't get it back from sendmail, but you can set the message ID\nyourself, just set the MessageID property prior to sending.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/57#issuecomment-17666391\n.\n. this was fixed...\n\nOn Wed, Jul 10, 2013 at 4:53 AM, Marcus Bointon notifications@github.comwrote:\n\nJim,\nThe Google code project is still pointing at my personal fork. Could you\nplease update it to point at https://github.com/PHPMailer/PHPMailer.\nThanks\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/73\n.\n. This was fixed\n. What version of PHPMailer are you using?\n. \n",
    "RodionGork": "I do not know whether this could be of any help for developers, but the problem is well reproduced with:\n- Lampp (Xampp) 1.8 (on Ubuntu), PHP 5.4.4, PCRE 8.12;\n- code taken from examples/test_smtp_advanced.php.\n(with the line changed to \"return true;\" library works fine - thanks for it)\n. ",
    "michield": "great, I've updated the phpList code to handle the change\n. can't imagine there's qmail for windows, but I might be mistaken. \n. Actually implementing QMQP in phpMailer? What I recall of using qmail years ago, it's a simplified version of smtp. But piping it into the local binary seems much easier :-)\nWhat I think would be interesting to implement is direct SMTP delivery (as opposed to delivery to the smarthost). I may look at that. That would allow apps to return to the client saying \"sorry, the email could not be delivered\" in eg signup forms.\n. Synchro, can you explain why BC is so important? I don't think those hundreds of millions of sites are going to keep track of new phpMailer versions and upgrade their systems to have the latest phpMailer. They can just stay with the version they have (in fact, they probably will). It's not that you want to continue to run on PHP3 either. Eventually it's the job of the project integrators to ensure the compatibility. You can just outline the PHP version requirements for new versions (of phpMailer). It may be good to force people to upgrade their PHP versions.\n. Synchro, can you explain why BC is so important? I don't think those hundreds of millions of sites are going to keep track of new phpMailer versions and upgrade their systems to have the latest phpMailer. They can just stay with the version they have (in fact, they probably will). It's not that you want to continue to run on PHP3 either. Eventually it's the job of the project integrators to ensure the compatibility. You can just outline the PHP version requirements for new versions (of phpMailer). It may be good to force people to upgrade their PHP versions.\n. Sure, I completely understand that argument. However, that decision is for WordPress, not PHPMailer. Wordpress can always decide to stay with an older version, if they don't like the new dependencies, that's up to them. It's not good if downstream hampers and blocks upstream in new developments. \n. ok @Synchro that's a great explanation. So, we'd keep an eye on http://w3techs.com/technologies/details/pl-php/5/all to determine what versions should be supported. 5.2 still 16% is quite significant.\n. For reference, the branch is now https://github.com/PHPMailer/PHPMailer/tree/6.0\n. For reference, the branch is now https://github.com/PHPMailer/PHPMailer/tree/6.0\n. can't you use AddStringEmbeddedImage for that? That's what I use for that particular purpose in phpList.\n. well, as you write \"the image was uploaded to the \"div\" message body via a html editor, it is already encoded when its added\" that sounds rather complicated (if not convoluted). I'd try to at least for testing get the image back from the encoded code to verify.\n. Might be similar to https://mantis.phplist.com/view.php?id=16860. \nBasically, make sure rDNS and SPF entries are correct.\n. use phpList commandline processing :-) Sorry, couldn't resist a plug ...\n. Just use phplist, http://www.phplist.com It will handle all your bounces. And if it doesn't, just send a Pull Request and you're done. https://github.com/michield/phplist\n. @nestsman they work together. phpList uses phpMailer for building and sending the mails. \n. @Synchro cool. thanks a PR would be brilliant. It's been nagging me for quite some time as well. \n. @nestsman You will need to import your subscribers. phpList has a very specific (but powerful and flexible) way to handle the subscriber database\n. Uhm, I don't think that's their job to investigate. You can always hire a consultant if you like.\n. well, I think the key thing you need to read is the comment by @Synchro \nhttps://github.com/PHPMailer/PHPMailer/issues/324#issuecomment-64641222\nOnce you are working with the latest code, then yes, it is useful to find bugs, and yes, the best way to resolve them is to send a PR. Often things only go wrong in very specific situations, which is hard to replicate for others. Giving us root access to your servers would be one option. Fixing it yourself and sending a PR the other.\n. Sigh\n. Nice, I didn't know Robert Fischer's post, but it's good!\n. That would be awesome.\n. @Synchro Sorry,  I missed your comment. It's fine for BC, it's an addition in functionality, and will continue to work on PHP < 5.3 without problems\n. To test it, I had to manually compile postfix 3.0 (how retro :-) ) but it works:\nSep 30 20:47:39 debian8 postfix/local[18927]: AF73761C: to=phplist@xn--phplst-6va.com, relay=local, delay=0.09, delays=0.05/0.01/0/0.03, dsn=2.0.0, status=sent (delivered to mailbox)\n. ok, did some final optimisations, thanks for the feedback @Synchro and @fbonzon \n. @Synchro how do I force push a PR?\n. ok, PR tidied up\n. @fbonzon feel free to take over. I'm happy to do it, but you seem to have stronger opinions on how.\n. Nice! \n. This issue is also being reported by phpList users, https://mantis.phplist.org/view.php?id=17919\nphpList uses phpMailer version 5.2.14\n. Yes, I asked for some examples as well.  I haven't managed to replicate it yet.\n. phpList handles bounces, although it can do with some updating as well.\n. many thanks. many thanks. ok, will update the PR a little\n. actually, parseAddresses and imap_rfc822_parse_adrlist handle email addresses with name etc. Here we only deal with an email address, so the explode is fine. \n. ",
    "reblutus": "I ended up hacking the class.phpmailer.php 5.2.6. Here is what I did to make it work:\nIn class.phpmailer.php add attribute to the PHPMail class:\npublic $ical = \"\";\nthen I edited the CreateBody() method by altering the \"alt\" case. Additionnally, other cases would need this hack:\ncase 'alt':\n    $body .= $this->GetBoundary($this->boundary[1], '', 'text/plain', '');\n    $body .= $this->EncodeString($this->AltBody, $this->Encoding);\n    $body .= $this->LE.$this->LE;\n    $body .= $this->GetBoundary($this->boundary[1], '', 'text/html', '');\n    $body .= $this->EncodeString($this->Body, $this->Encoding);\n    $body .= $this->LE.$this->LE;\n      if($this->IcalExists()){\n          $body .= $this->GetBoundary($this->boundary[1], '', 'text/calendar; method=REQUEST', '');\n          $body .= $this->EncodeString($this->ical, $this->Encoding);\n          $body .= $this->LE.$this->LE;\n        }\n    $body .= $this->EndBoundary($this->boundary[1]);\n    break;\nI also added the helper function IcalExists():\npublic function IcalExists() {\n    return !empty($this->ical);\n}\nThen all you need to do when creating an email is assigning a valid icalendar event to the mail object:\n$mailObj = new PHPMailer(); \n    [...]\n    if($ical){\n        $mailObj->ical = $ical;\n    }\n    $result = $mailObj->Send();\n. ",
    "rmuktader": "This does not seem to work with gmail.\n. ",
    "ReneRafael": "UNSUBSCRIBE\nOn Apr 29, 2013 5:11 PM, \"Gr\u00e9gory Roussel\" notifications@github.com wrote:\n\nHi\nI've noticed on the last commit, that now inline images base64 encoded are\nwrongly attached to my mails, as before they were embedded.\nResult before the change:\n--b2_66908324beade643ef61833062a95135\nContent-Type: image/jpeg; name=\"E_maging_Compute_4e1573014c224.jpg\"\nContent-Transfer-Encoding: base64\nContent-ID:\nContent-Disposition: inline; filename=\"E_maging_Compute_4e1573014c224.jpg\"\nResult with the new commits:\n--b2_4c18b756c600578cfb921d1e3123e7c0\nContent-Type: image/jpeg; name=\"E_maging_Compute_4e1573014c224.jpg\"\nContent-Transfer-Encoding: base64\nContent-ID:\nContent-Disposition: inline; filename=E_maging_Compute_4e1573014c224.jpg\nThe \"cid:\" call of the image is the same for both source mail.\nBut in the second case, the image is broken and just attached to the mail\n(wrongly)\nLine 2493 in class.phpmailer.php could be the one.\nI don't know if the lacks of quotes could have an influence on that. Not\nyet test that point.\nAnyway it's an RFC recomend so...\nThanks for the work ;)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/50\n.\n. \n",
    "PunchyRascal": "Apparently google code offers some kind of automatic import of issues to github:\nhttps://code.google.com/p/support-tools/wiki/IssueExporterTool\n. Apparently google code offers some kind of automatic import of issues to github:\nhttps://code.google.com/p/support-tools/wiki/IssueExporterTool\n. I consider tests the ultimate documentation (apart from being tests of course) and for that purpose the assertion comment/name is a useful lead as to what the test is doing, how the actual code behaves. \nAn example: instead of \"Failed to recognise address list\", it might be better to use \"Recognizes list of addresses\". Because like you said, you only see this message, apart from reading the test itself, only when it fails and in that case, there seems to be no need to say that in the message.\n. You are already creating new PHPMailer instance for each recipient (each iteration of for), so why ClearAllRecipients() at the end anyway?\n. I am trying to say that since you create new instance of PHPMailer for each recipient, there is no point calling ClearAllRecipients() at the end, because the object is lost after each iteration and a new one is created.\nThe code quite strange. Why do you for example replace @ with @? What is the point? Why do you continue with sending if (empty($row['address']))\n. I am trying to say that since you create new instance of PHPMailer for each recipient, there is no point calling ClearAllRecipients() at the end, because the object is lost after each iteration and a new one is created.\nThe code quite strange. Why do you for example replace @ with @? What is the point? Why do you continue with sending if (empty($row['address']))\n. ",
    "valx76": "What info do you need @Synchro ?\n. Oh right. By SMTP adress, I mean SMTP host (GMail here).\nCode - SMTP config :\nphp\n$phpmailer->IsSMTP();\n$phpmailer->Host = 'smtp.gmail.com';\n$phpmailer->SMTPAuth = true;\n$phpmailer->Username = 'alctest76@gmail.com';\n$phpmailer->Password = '__';\n$phpmailer->SMTPSecure = 'ssl';\n$phpmailer->Port = 465;\nIn the header, I have : \"From: Val alctest76@gmail.com\".\n\"Val\" is the name I pass to the \"FromName\" property so it works.\nBut as you can see, the \"From\" property is not applied, the adress is one use for SMTP authentication..\n. I modified the SMTP for GMail, thanks for that !\nThe $phpmailer->PreSend() function just returns me true..\nAnd finally, here is the headers :\nDelivered-To: valx76@gmail.com\nReceived: by 10.204.228.197 with SMTP id jf5csp21717bkb;\n        Wed, 1 May 2013 10:34:56 -0700 (PDT)\nX-Received: by 10.180.182.110 with SMTP id ed14mr30792578wic.6.1367429696334;\n        Wed, 01 May 2013 10:34:56 -0700 (PDT)\nReturn-Path: <alctest76@gmail.com>\nReceived: from mail-wi0-x242.google.com (mail-wi0-x242.google.com [2a00:1450:400c:c05::242])\n        by mx.google.com with ESMTPS id mb1si172485wic.91.2013.05.01.10.34.56\n        for <valx76@gmail.com>\n        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);\n        Wed, 01 May 2013 10:34:56 -0700 (PDT)\nReceived-SPF: pass (google.com: domain of alctest76@gmail.com designates 2a00:1450:400c:c05::242 as permitted sender) client-ip=2a00:1450:400c:c05::242;\nAuthentication-Results: mx.google.com;\n       spf=pass (google.com: domain of alctest76@gmail.com designates 2a00:1450:400c:c05::242 as permitted sender) smtp.mail=alctest76@gmail.com;\n       dkim=pass header.i=@gmail.com\nReceived: by mail-wi0-x242.google.com with SMTP id hi8so769860wib.9\n        for <valx76@gmail.com>; Wed, 01 May 2013 10:34:56 -0700 (PDT)\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=gmail.com; s=20120113;\n        h=x-received:date:to:from:subject:message-id:x-priority:x-mailer\n         :mime-version:content-transfer-encoding:content-type;\n        bh=sRlGTsD70quVJL3NKaMh1HXmdtMDcDlI5yPTBH/emo8=;\n        b=dqOTTcxL1aC51lsJEb8NDVrf3JXnaWdUL2OpXbCM2hsK/Vz3Wiw/zpEaa6ukIbrWF8\n         FtYSC37vl/vvOWR3f28Kq791u49uGfb0+l2VZfQIfpTX/W3knNEvyVgRq5N9ZWWAtFz0\n         LVX1Dg1IZ0eBP4Cs8hfxX0yXjdBsWrPSUaddTrGkpsZACG4x7Ffy2HLGTPEoZ1VorDjB\n         3ZyQHBw1S4Z+09/WzeHZDuVDxsbPtKdUA+HmvoJ9Y3iEwLThBY+pCzxlU//5ErVPzJW4\n         w8iKuTAsVtbxAFtY8PV381lRE3cUGb7Ryt3fiIKZ1VE1mRBvp125vuh4Gm2qNc+3Z+Vj\n         oYQw==\nX-Received: by 10.180.105.231 with SMTP id gp7mr3461230wib.23.1367429696247;\n        Wed, 01 May 2013 10:34:56 -0700 (PDT)\nReturn-Path: <alctest76@gmail.com>\nReceived: from 127.0.0.1   [[JUST REMOVED MY IP HERE]]\n        by mx.google.com with ESMTPSA id x13sm5338346wib.3.2013.05.01.10.34.53\n        for <valx76@gmail.com>\n        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);\n        Wed, 01 May 2013 10:34:55 -0700 (PDT)\nDate: Wed, 1 May 2013 17:34:51 +0000\nReturn-Path: <valx76@gmail.com>\nTo: valx76@gmail.com\nFrom: Wordpress testing <alctest76@gmail.com>\nSubject: Newsletter to contributors\nMessage-ID: <836c2d45732bdec667412612d2a352d5@127.0.0.1>\nX-Priority: 3\nX-Mailer: PHPMailer 5.2.6 (https://github.com/PHPMailer/PHPMailer/)\nMIME-Version: 1.0\nContent-Transfer-Encoding: 8bit\nContent-Type: text/html; charset=iso-8859-1\n. I tried to put your code before the email sending but it gives me an error :\nFatal error: Cannot access protected property PHPMailer::$MIMEHeader\n. What I have with GetSentMIMEMessage() is :\n\nDate: Thu, 2 May 2013 17:55:44 +0000\nReturn-Path: \nTo: valx76@gmail.com\nFrom: Wordpress testing \nSubject: Newsletter to contributors\nMessage-ID: <1714bd4c92518b8e7644c30334bfbae2@127.0.0.1>\nX-Priority: 3\nX-Mailer: PHPMailer 5.2.6 (https://github.com/PHPMailer/PHPMailer/)\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n    boundary=\"b1_1714bd4c92518b8e7644c30334bfbae2\"\n\nSo, Gmail seems to break the From (email) attribute.\nThanks for the help, I'm closing the issue !\n. ",
    "jnday": "To make matters worse, I found another script of mine that's working fine without the HTML and BODY tags...\nAt any rate, here is the code for the specific problem I mentioned:\n```\n// send email to user for confirmation\n// build message body\n$body = '\n\n\nclient info text removed\nRegistration Confirmation:\n__________\nClass ID: '.$classid.'\nRegistered by: '.$firstname.' '.$lastname.'\nEmail: '.$email.'\n\nDate: '.$date_display.'\nClass Title: '.$title.'\nLocation: '.$location.'\nClass hours: '.$clock_hours.'\n\nYou will receive an invitation from client info text removed. You may also receive an update with documents and a reminder with client info text removed.  Please watch your e-mail.\nThanks,\nName\n____________\nclient info text removed\nclient info text removed\nclient info text removed\nclient info text removed\nclient info text removed\n\n\n';\n// phpMailer\n$mail = new PHPMailer(true);\n$mail->IsSendmail();\ntry {\n  $mail->AddAddress($email, $full_name);\n  $mail->SetFrom('email@example.com', 'xxxx');\n  $mail->AddReplyTo('email@example.com', 'xxxx');\n  $mail->AddBCC('email@example.com');\n  $mail->AddBCC('email@example.com');\n  $mail->Subject = 'client info text removed';\n  $mail->MsgHTML($body);\n  $mail->Send();\n} catch (phpmailerException $e) {\n  echo $e->errorMessage(); \n  exit();\n} catch (Exception $e) {\n  echo $e->getMessage(); \n  exit();\n}\n```\nNOTE: When searching for solutions to this problem I came across a post on Stackoverflow that mentioned a person ONLY having problems sending when a phone number appeared in the html email message.  Some of the client info I removed contained phone numbers.\n. ",
    "jorisw": "Thank you\n. ",
    "mpheyse": "They don't work with the current version. When you send the mail, the 'provide_address' exception is thrown\n. ",
    "InnoDrift": "This is not an issue, I implemented it badly. Sorry for reporting an issue that should not be here. \n. Again, sorry :)\n. ",
    "dregad": "\nThe releases were never exactly the same so I don't know how useful it would be.\n\nThat depends how the changes were merged I guess (bundled or as individual commits).\nIf the former then indeed it seems a bit difficult to tag \"foreign\" versions, but if the latter it should be possible\nAnd if your concern is a case where forks have released a version with the same name, it might be as easy as using for example vX.Y.Z for versions originally tagged here, vs vX.Y.Z-googlecode.\nI think it's useful for historical purposes, e.g. when trying to find out in which PHPMailer version an issue was fixed in, as I was trying to do to document closure of a bug downstream.\n. OK fair enough, thanks for the feedback.\n. I didn't realize that you were creating the tags via the Github releases interface. I guess that explains why they sometimes get rewritten...\nI wrote to Github support to request that they consider use of annotated/signed tags with their releases system, we'll see what they say.\nWith regards to the syntax, it's not hard, really...\ngit tag -a -m \"Message\"\nI'm not sure how composer deals with this, but the problem with submodules is the fact they use git describe to show version information, which only shows lightweight tags unless you use the --all or --tags option. That may be something that should be fixed in git, I don't know.\nAs to why we're using submodules and not composer, that's a legacy issue. We might make the switch at some point, but for now there are other priorities.\n. I contacted Github support about this:\n\nWould it be possible that the git tags created via Github releases are created as annotated (or even better, signed) tags instead of lightweight ones as is currently the case ?\nThe release title and/or description should be used for the tag's message.\nLightweight tags are more limited in functionality (e.g. they don't show up by default when using git describe), and I find it useful to have releases identified as their own object in the git repo instead of just a reference to a commit.\nSince you now support signed commits, it would make sense to allow signed tags too.\nThanks in advance for considering this feature request.\n\nHere is the feedback I got\n\nThis isn't currently possible but I do think it would be really useful to be able to create releases with annotated tags.\nI've added it to our Feature Request. [emphasis mine]\nAs a workaround you can create annotated signed tags via the command and push it up to the repository.\nWhen creating a release you should then be able to choose this tag from the list.\nHope this helps and please let me know if you need anything else!\nThanks\nStacey\n. \n",
    "mauglee": "On 2013-06-03, 12:30:55 Marcus Bointon notifications@github.com wrote:\n\nThanks!\n\nin directory \u201eexamples/images/\u201c image name must be \u201ephpmailer-mini.gif\u201c\ninstead of \u201ephpmailer_mini.gif\u201c \u2013 examples provided are using such name.\nHow to submit this via git? Must I repeat \u201efork-commit-pullrequest\u201c\nprocess from begining?\n\nDa\n. ",
    "Lewiscowles1986": "Right I have created a pull request for this in an attempt to fix your issue, but really as the headerLine function is public this should be part of application logic rather than model logic (controller rather than model), Also I believe only one of the added places is correct, but short of parsing the header for text/plain (poor idea), I doubt you will find an easier way to do this than using stock PHPMailer and just \n//below uses variable $mail as this is what is used in examples\n  $mail->headerLine(\"format\", \"flowed\"); // this should address https://github.com/PHPMailer/PHPMailer/issues/67\nif / where you need to ;)\n. ",
    "bjbrewster": "Unfortunately I've moved on to another job and not able to try your fix but\nit would still be useful for others. I'll forward it on to my old\ncolleagues.\nMany thanks,\nBren\nOn Thu, Oct 24, 2013 at 3:19 PM, Lewis Cowles notifications@github.comwrote:\n\nRight I have created a pull request for this in an attempt to fix your\nissue, but really as the headerLine function is public this should be part\nof application logic rather than intelligence, Also I believe only one of\nthe added places is correct, but short of parsing the header for text/plain\n(poor ide), I doubt you will find an easier way to do this than using stock\nPHPMailer and just\n$this->headerLine(\"format\", \"flowed\"); // this should address #67https://github.com/PHPMailer/PHPMailer/issues/67\nif / where you need to ;)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/67#issuecomment-26967344\n.\n. \n",
    "thomas-pike": "Here's some simple code I wrote that supports format=flowed. No doubt it could be adapted for use in PHPMailer:\n/* Excerpt from RFC 3676 - 4.2.  Generating Format=Flowed\n    A generating agent SHOULD:\n    o Ensure all lines (fixed and flowed) are 78 characters or fewer in\n      length, counting any trailing space as well as a space added as\n      stuffing, but not counting the CRLF, unless a word by itself\n      exceeds 78 characters.\n    o Trim spaces before user-inserted hard line breaks.\n    A generating agent MUST:\n    o Space-stuff lines which start with a space, \"From \", or \">\".\n*/\n// Trimming spaces before user-inserted hard line breaks, and wrapping:\n$lines = explode(\"\\n\", $message);\nforeach($lines as $ref => $line) {\n    $lines[$ref] = wordwrap(rtrim($line), 76, \" \\n\", false);\n}\n$message = implode(\"\\n\", $lines);\n// Space-stuffing lines which start with a space, \"From \", or \">\":\n$lines = explode(\"\\n\", $message);\nforeach($lines as $ref => $line) {\n    if(strpos($line, \" \") === 0 || strpos($line, \"From \") === 0 || strpos($line, \">\") === 0) $lines[$ref] = \" \".$line;\n}\n$message = implode(\"\\n\", $lines);\nIn essence, what has to be done is the following, in order (instead of any standard auto-word-wrapping being applied):\n1. Remove (rtrim) trailing spaces before all the line breaks in the input text.\n2. Perform word-wrapping of all lines, wrapping with \"\\n\" (space followed by newline). These are treated as \"soft-wrap\" by the receiving client if it supports format=flowed.\n3. Add a space in front of any line beginning with \"\", \"From\" or \">\".\n(wrapping is done to 76 characters to allow for the trailing space and any required space-stuffing)\nThe above code is assuming that:\n The input uses \\n line-endings and at a later point the \\n are replaced by \\r\\n for sending.\n format=flowed is added to the Content-type header.. ",
    "nightw0lv": "why support outdated php, support the latest with the better and fastest possible way.. I would suggest you to change your password because I myself tempted to enter in your email and who knows what else .... ",
    "oadaeh": "Many enterprise level Linux distributions have rather long life cycles, and anyone using them will likely be using old versions of PHP. https://linuxlifecycle.com/. Thanks for the review and comments, Marcus.\nI'm sorry for the delay in responding back. I spent too much time on the other project and had to spend some focused time paying the bills. :)\nI have updated the PR with the recommendations you made. Let me know if they are adequate.\nThanks again.\n. Hopefully I have done what you requested. I am not real familiar with Github.\n. Thank you.\n. ",
    "likudio": "Yes, I was using \"domain.com\" as a selector... but it doesn't really matter, I've tried a lot of selectors, even used * wildcard in the zone file so I can put anything as a selector... the DKIM still fails if I Sign() the mail with a third party certificate. But passes without certificate.\nThere must be something that is being changed in body after the hash is created... or so I think.\n(Offtopic: I'm glad that you answered so fast. I've been checking on code.google.com everyday for an answer to my issue, didn't know it moved here. There still are some issues there that have been added after i added this one, people seem just to not know it is not developed there anymore).\n. Hi,\nDo you have any update in this case?\nIs this going to be fixed in a future version?\nCan I help with anything?\nThank you,\n. ",
    "LeeNX": "sign() should possibly be renamed to sign_smime or smime_sign_setup or something, so that people don't think this is needed to do DKIM mail signing.\nAs for the S/MIME and DKIM, I believe they should be able to work together, but I don't have a DKIM setup to test, will see what I can do.\n. sign() should possibly be renamed to sign_smime or smime_sign_setup or something, so that people don't think this is needed to do DKIM mail signing.\nAs for the S/MIME and DKIM, I believe they should be able to work together, but I don't have a DKIM setup to test, will see what I can do.\n. I should add, that this is for signing of mail items using S/MIME, not encryption. I will have to investigate how to write any tests and see if there is any info I can give/help with the above issues.\n. I should add, that this is for signing of mail items using S/MIME, not encryption. I will have to investigate how to write any tests and see if there is any info I can give/help with the above issues.\n. ",
    "lizhug": "php\n\n<p```\n    require_once(\"class.phpmailer.php\");\n    require_once(\"class.smtp.php\");\n    $mail = new PHPMailer; //\u5efa\u7acb\u90ae\u4ef6\u53d1\u9001\u7c7b\n    $address = \"lizhug.steven@gmail.com\";\n    $mail->IsSMTP(); \n    $mail->CharSet = \"utf8\";\n    $mail->Host = \"smtp.ym.163.com\"; \n$mail->SMTPAuth = true; // \u542f\u7528SMTP\u9a8c\u8bc1\u529f\u80fd\n$mail->Username = \"no-reply@xiaoplus.com\"; // \u90ae\u5c40\u7528\u6237\u540d(\u8bf7\u586b\u5199\u5b8c\u6574\u7684email\u5730\u5740)\n$mail->Password = \"testtest\"; // \u90ae\u5c40\u5bc6\u7801\n\n$mail->From = \"no-reply@xiaoplus.com\"; //\u90ae\u4ef6\u53d1\u9001\u8005email\u5730\u5740\n$mail->FromName = \"test\";    //\u53d1\u4ef6\u4eba\n$mail->AddAddress(\"$address\", \"test\");//\u6536\u4ef6\u4eba\u5730\u5740\uff0c\u53ef\u4ee5\u66ff\u6362\u6210\u4efb\u4f55\u60f3\u8981\u63a5\u6536\u90ae\u4ef6\u7684email\u4fe1\u7bb1,\u683c\u5f0f\u662fAddAddress(\"\u6536\u4ef6\u4ebaemail\",\"\u6536\u4ef6\u4eba\u59d3\u540d\")\n\n$mail->IsHTML(true); // set email format to HTML //\u662f\u5426\u4f7f\u7528HTML\u683c\u5f0f\n\n$mail->Subject = \"demo\"; \n$mail->Body = \"testcontent\";\n\nif(!$mail->Send()){\n    echo $mail->ErrorInfo();\n    exit(\"failed\");\n} else {\n    echo \"success\";\n}\n\n```\n?>\nthis is my php code...and i succeed in windows but fail in linux....the linux server in godaddy also has the same problem ....SMTP connect() failed\n. the lastest\n\u53d1\u81ea\u6211\u7684\u5c0f\u7c73\u624b\u673a\nJim Jagielski notifications@github.com\u7f16\u5199\uff1a\n\nWhat version of PHPMailer are you using?\n\u2014\nReply to this email directly or view it on GitHub.\ufffc\n. now I have received your email....thx a lot\n\ni did some searching,  httpd_can_sendmail in my linux server is off, .... what about you..\ni will ask Godaddy later.   thank you \nBest regards,\nLi Zhugang(\u674e\u73e0\u521a)\nSchool of Software\nSun Yat-sen University\uff08\u4e2d\u5c71\u5927\u5b66\uff09\nEmail: lizhug.steven@gmail.com\nWeibo: http://weibo.com/lizhug\nPhone: 13560315164 / 15521377948\nFrom: Peder Johnsen\nDate: 2013-07-11 21:49\nTo: PHPMailer/PHPMailer\nCC: \u674e\u73e0\u521a\nSubject: Re: [PHPMailer] smtp failed in linux server but succeed under windows (#75)\nI just copy pasted your code and tested it on my own linux box without any issues at all.. (Check lizhug.steven@gmail.com if a real email for the proof).\n\u2014\nReply to this email directly or view it on GitHub.\n. I change $mail->CharSet = \"utf8\"; to $mail->CharSet = \"utf-8\";\nas you said. but  it still shows SMTP connect() failed\nthanks for your reply\nBest regards,\nLi Zhugang(\u674e\u73e0\u521a)\nSchool of Software\nSun Yat-sen University\uff08\u4e2d\u5c71\u5927\u5b66\uff09\nEmail: lizhug.steven@gmail.com\nWeibo: http://weibo.com/lizhug\nPhone: 13560315164 / 15521377948\nFrom: Ferdinand\nDate: 2013-07-11 21:35\nTo: PHPMailer/PHPMailer\nCC: \u674e\u73e0\u521a\nSubject: Re: [PHPMailer] smtp failed in linux server but succeed under windows (#75)\nMaybe it's an issue with linebreaks due to the wrong charset? The code should be\n$mail->CharSet = \"utf-8\";\n\u2014\nReply to this email directly or view it on GitHub.\n. thanks for all of you....i have solve the problem....in my linux server, httpd_can_network_connect and other as the image shows is off.. maybe  so does many of guys or Godaddy\n. @Synchro yes it does\n. ",
    "ferdiusa": "Maybe it's an issue with linebreaks due to the wrong charset? The code should be\n$mail->CharSet = \"utf-8\";\n. ",
    "aljie": "Please Help, I already tried to change my PHPMailer to a newer version and with this Code:\nphp\ninclude('PHPMailer_5.2.0/class.phpmailer.php');\ninclude('PHPMailer_5.2.0/class.smtp.php');\n\n<p$mail \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 = new PHPMailer();\n$body \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 = file_get_contents('PHPMailer_5.2.0/examples/contents.html');\n$body \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 = eregi_replace(\"[]\",'',$body);\n$mail->IsSMTP(); // telling the class to use SMTP\n$mail->Host \u00a0 \u00a0 \u00a0 = \"linkmpr01.urc.local\"; // SMTP server\n$mail->SMTPDebug \u00a0= 2; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // enables SMTP debug information\u00a0\n$mail->SMTPAuth \u00a0 = true; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// enable SMTP authentication\n$mail->Host \u00a0 \u00a0 \u00a0 = \"linkmpr01.urc.local\"; // sets the SMTP server\n$mail->Port \u00a0 \u00a0 \u00a0 = 25; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// set the SMTP port for the GMAIL server\n$mail->Username \u00a0 = \"ethnicweb\"; // SMTP account username\n$mail->Password \u00a0 = \"admintop@123\"; \u00a0 \u00a0 \u00a0 \u00a0// SMTP account password\n$mail->SetFrom('ethnicweb-mail@ethnicglobal.com.ph', 'First Last');\n$mail->AddReplyTo(\"ethnic-mail@ethnicglobal.com.ph\",\"First Last\");\n$mail->Subject \u00a0 \u00a0= \"PHPMailer Test Subject via smtp, basic with authentication\";\n$mail->AltBody \u00a0 \u00a0= \"To view the message, please use an HTML compatible email viewer!\"; \u00a0 \u00a0 \u00a0\u00a0\n$mail->MsgHTML($body);\n$address = \"algie.rosario@yahoo.com\";\n$mail->AddAddress($address, \"John Doe\");\n$mail->AddAttachment(\"PHPMailer_5.2.0/examples/images/phpmailer.gif\"); \u00a0 \u00a0 \u00a0\n$mail->AddAttachment(\"PHPMailer_5.2.0/examples/images/phpmailer_mini.gif\");\u00a0\nif(!$mail->Send())\u00a0\n{\necho \"Mailer Error: \" . $mail->ErrorInfo;\n}\u00a0\nelse\u00a0\n{\necho \"Message sent!\";\n}\n?>\nAnd i got this message after sending:\nI'm having this problem when use PHPMailer() and SMTP through our Outlook, sorry i'm a newbie with this. The only problem is that my script didn't send anything to the recipient, no error and only this message appear when the PHP script is done:\nSMTP -> FROM SERVER:220 ethnic.urc.local Microsoft ESMTP MAIL Service, Version: \u00a0 \u00a0 6.0.3790.3959 ready at Thu, 7 Nov 2013 10:09:30 +0800\u00a0\nSMTP -> FROM SERVER: 250-ethnic.urc.local Hello [192.168.56.100] 250-AUTH GSSAPI NTLM \u00a0 \u00a0 LOGIN 250-AUTH=LOGIN 250-TURN 250-SIZE 250-ETRN 250-PIPELINING 250-DSN 250- \u00a0ENHANCEDSTATUSCODES 250-8bitmime 250-BINARYMIME 250-CHUNKING 250-VRFY 250 OK\u00a0\nSMTP -> FROM SERVER:250 2.1.0 etchnicweb-mail@ethnicglobal.com.ph....Sender OK\u00a0\nSMTP -> FROM SERVER:250 2.1.5 algie.rosario@yahoo.com\nSMTP -> FROM SERVER:354 Start mail input; end with .\u00a0\nSMTP -> FROM SERVER:250 2.6.0 862ffa9d1d3e95a18396aad574673b22@192.168.56.100 Queued \u00a0mail for delivery\u00a0\nMessage sent!\n. Where to to get that version. Can't find it, Thanks :)\n. I already downloaded and change my code and use  \"include('PHPMailer-master/PHPMailerAutoload.php');\" but still nothing sends.\n. When i change my PHPmailer version to 5.2.7 this long message shows :+1: \n2013-11-08 08:33:07 SERVER -> CLIENT: 220 itech.urc.local Microsoft ESMTP MAIL Service, Version: 6.0.3790.3959 ready at Fri, 8 Nov 2013 13:14:15 +0800 2013-11-08 08:33:07  CLIENT -> SERVER: EHLO 192.168.56.100 2013-11-08 08:33:07   SERVER -> CLIENT: 250-itech.urc.local Hello [192.168.56.100] 250-AUTH GSSAPI NTLM LOGIN 250-AUTH=LOGIN 250-TURN 250-SIZE 250-ETRN 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-8bitmime 250-BINARYMIME 250-CHUNKING 250-VRFY 250 OK 2013-11-08 08:33:07   CLIENT -> SERVER: AUTH LOGIN 2013-11-08 08:33:08    SERVER -> CLIENT: 334 VXNlcm5hbWU6 2013-11-08 08:33:08  CLIENT -> SERVER: aXRlY2h3ZWI= 2013-11-08 08:33:08  SERVER -> CLIENT: 334 UGFzc3dvcmQ6 2013-11-08 08:33:08  CLIENT -> SERVER: dHNkYWRtaW5AMTIz 2013-11-08 08:33:08  SERVER -> CLIENT: 235 2.7.0 Authentication successful 2013-11-08 08:33:08   CLIENT -> SERVER: MAIL FROM: 2013-11-08 08:33:08    SERVER -> CLIENT: 250 2.1.0 ITECHWEB-MAIL@itechglobal.com.ph....Sender OK 2013-11-08 08:33:08   CLIENT -> SERVER: RCPT TO: 2013-11-08 08:33:08  SERVER -> CLIENT: 250 2.1.5 algie.rosario@yahoo.com 2013-11-08 08:33:08 CLIENT -> SERVER: DATA 2013-11-08 08:33:09  SERVER -> CLIENT: 354 Start mail input; end with . 2013-11-08 08:33:09  CLIENT -> SERVER: Date: Fri, 8 Nov 2013 09:33:07 +0100 2013-11-08 08:33:09  CLIENT -> SERVER: Return-Path: 2013-11-08 08:33:09  CLIENT -> SERVER: To: John Doe 2013-11-08 08:33:09  CLIENT -> SERVER: From: First Last 2013-11-08 08:33:09  CLIENT -> SERVER: Reply-To: First Last 2013-11-08 08:33:09  CLIENT -> SERVER: Subject: PHPMailer Test Subject via smtp, basic with authentication 2013-11-08 08:33:09   CLIENT -> SERVER: Message-ID: 9de60348ce3def005c018e890079e6d6@192.168.56.100 2013-11-08 08:33:09 CLIENT -> SERVER: X-Priority: 3 2013-11-08 08:33:09 CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.7 (https://github.com/PHPMailer/PHPMailer/) 2013-11-08 08:33:09   CLIENT -> SERVER: MIME-Version: 1.0 2013-11-08 08:33:09 CLIENT -> SERVER: Content-Type: multipart/mixed; 2013-11-08 08:33:09    CLIENT -> SERVER: boundary=\"b1_9de60348ce3def005c018e890079e6d6\" 2013-11-08 08:33:09    CLIENT -> SERVER: Content-Transfer-Encoding: 8bit 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: --b1_9de60348ce3def005c018e890079e6d6 2013-11-08 08:33:09 CLIENT -> SERVER: Content-Type: multipart/alternative; 2013-11-08 08:33:09  CLIENT -> SERVER: boundary=\"b2_9de60348ce3def005c018e890079e6d6\" 2013-11-08 08:33:09    CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: --b2_9de60348ce3def005c018e890079e6d6 2013-11-08 08:33:09 CLIENT -> SERVER: Content-Type: text/plain; charset=iso-8859-1 2013-11-08 08:33:09  CLIENT -> SERVER: Content-Transfer-Encoding: 8bit 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: This is a test of PHPMailer. 2013-11-08 08:33:09  CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: This example uses HTML. 2013-11-08 08:33:09   CLIENT -> SERVER: The PHPMailer image at the top has been embedded automatically. 2013-11-08 08:33:09 CLIENT -> SERVER: 2013-11-08 08:33:09 CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: --b2_9de60348ce3def005c018e890079e6d6 2013-11-08 08:33:09 CLIENT -> SERVER: Content-Type: text/html; charset=iso-8859-1 2013-11-08 08:33:09   CLIENT -> SERVER: Content-Transfer-Encoding: 8bit 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09 CLIENT -> SERVER: 2013-11-08 08:33:09 CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09 CLIENT -> SERVER: 2013-11-08 08:33:09 CLIENT -> SERVER:\n2013-11-08 08:33:09 CLIENT -> SERVER:\nThis is a test of PHPMailer.\n2013-11-08 08:33:09 CLIENT -> SERVER:\n2013-11-08 08:33:09 CLIENT -> SERVER:  PHPMailer rocks 2013-11-08 08:33:09  CLIENT -> SERVER:\n2013-11-08 08:33:09 CLIENT -> SERVER:\nThis example uses HTML.\n2013-11-08 08:33:09 CLIENT -> SERVER:\nThe PHPMailer image at the top has been embedded automatically.\n2013-11-08 08:33:09 CLIENT -> SERVER:\n2013-11-08 08:33:09 CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: --b2_9de60348ce3def005c018e890079e6d6-- 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: --b1_9de60348ce3def005c018e890079e6d6 2013-11-08 08:33:09 CLIENT -> SERVER: Content-Type: image/png; name=\"phpmailer.png\" 2013-11-08 08:33:09 CLIENT -> SERVER: Content-Transfer-Encoding: base64 2013-11-08 08:33:09 CLIENT -> SERVER: Content-Disposition: attachment; filename=phpmailer.png 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: iVBORw0KGgoAAAANSUhEUgAAAVQAAABaCAYAAADn765xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE 2013-11-08 08:33:09  CLIENT -> SERVER: KWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczpt 2013-11-08 08:33:09  CLIENT -> SERVER: ZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS4xLjIiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0 2013-11-08 08:33:09  CLIENT -> SERVER: dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRl 2013-11-08 08:33:09  CLIENT -> SERVER: c2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5h 2013-11-08 08:33:09  CLIENT -> SERVER: ZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxMy0wNC0yNlQx 2013-11-08 08:33:09  CLIENT -> SERVER: NDowNDo1NDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+UGl4ZWxt 2013-11-08 08:33:09  CLIENT -> SERVER: YXRvciAyLjEuNDwveG1wOkNyZWF0b3JUb29sPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAg 2013-11-08 08:33:09  CLIENT -> SERVER: ICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0i 2013-11-08 08:33:09  CLIENT -> SERVER: aHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlv 2013-11-08 08:33:09  CLIENT -> SERVER: bj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlm 2013-11-08 08:33:09  CLIENT -> SERVER: ZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6Q29tcHJlc3Npb24+NTwvdGlmZjpDb21wcmVz 2013-11-08 08:33:09  CLIENT -> SERVER: c2lvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MTwvdGlmZjpSZXNvbHV0aW9uVW5p 2013-11-08 08:33:09  CLIENT -> SERVER: dD4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzI8L3RpZmY6WFJlc29sdXRpb24+CiAgICAg 2013-11-08 08:33:09  CLIENT -> SERVER: IDwvcmRmOkRlc2NyaXB0aW9uPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgog 2013-11-08 08:33:09  CLIENT -> SERVER: ICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAg 2013-11-08 08:33:09  CLIENT -> SERVER: ICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4zNDA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgog 2013-11-08 08:33:09  CLIENT -> SERVER: ICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAg 2013-11-08 08:33:09  CLIENT -> SERVER: IDxleGlmOlBpeGVsWURpbWVuc2lvbj45MDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwv 2013-11-08 08:33:09  CLIENT -> SERVER: cmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgqsYrb0AAAdW0lEQVR4 2013-11-08 08:33:09  CLIENT -> SERVER: 2u2dC5RXVfXHfxQEZhRllrIyXK4CQylYppYtCjVbpZimUmaRmEoZPgFTwQdipqVkmmVK6h/4zcxv 2013-11-08 08:33:09  CLIENT -> SERVER: fsO8AHkPwwxvHN6vYUZhRN4qL0UQH+e/v2fOmXXmch/nvn6PmXPX2jC/x7337H32/px9Hvf8Eoyx 2013-11-08 08:33:09  CLIENT -> SERVER: p0l6kSQcpBPJt0guJbmJ5G6SB0keJnnEiBEjRtqIPCzYdrdg3aWCfZ1c+CilJ1ia8ICpKn1IBpHc 2013-11-08 08:33:09  CLIENT -> SERVER: QTJa3HysqQQjRoy0ARkrmDZaMG6QYF7Ch/TU+uLciorezw4ePGxUjx7jRycSM0mWkKwgWUWy2ogR 2013-11-08 08:33:09  CLIENT -> SERVER: I0byXFYJpoFtM8E6MA/s8wNVzy/cd8YZAx9PJF56PpFoStLXJxsxYsRIGxewDswD+8DA0EB9+c47 2013-11-08 08:33:09  CLIENT -> SERVER: uz2WSDwwKZHYbAxsxIiR9ipgIFj41JAh3QIB9bkhQ05/MpH4P5ORGjFixEizgInjrr32NF9ARWZq 2013-11-08 08:33:09  CLIENT -> SERVER: YGrEiBEjtlB9ccyYMR21gYrU1sDUiBEjRuyFGHmXG1A7qRNQZszUiBEjRlwnrFbc0rVrLyegYuFq 2013-11-08 08:33:09  CLIENT -> SERVER: oraiojeR92VjMCNGjBhxl8cTiVFOQMXTAH2w5uqFRKLJGMuIESNG3IVYWT3svPNOsgMqHrEahIWs 2013-11-08 08:33:09  CLIENT -> SERVER: ZuzUiBEjRrS6/e8P69r1Cjug4rnVO0YnErOMoYwYMWJET+5PJMbaARWbAYwelUgsNUYyYsSIET2h 2013-11-08 08:33:09  CLIENT -> SERVER: JLRizJgxn7cCFRsCPEwfrgx64Y1jxrAgx97qai5NL7/Mr1EzYECg+8vrOEmU15rbt6/teSh7kGP/ 2013-11-08 08:33:09  CLIENT -> SERVER: qlX8ujvKy7kNFl95Javs1i2SCm+Ph9/69hLUh9eBugt6ffhTUJ8L67NxlDWo2JVRhysyftwkDFs8 2013-11-08 08:33:09  CLIENT -> SERVER: gLp5+PDhF1iByndawQYBmQaq0wHA+jGA1xElhJzKFRSobmCoGzo0NqAe278/MnBnUmCTTAIVvqhz 2013-11-08 08:33:09  CLIENT -> SERVER: BLWljt94xULY86Msa9DDzn5Rc+Xw1q2hY8oC1GMjRoy43g6oj+QSUNWWX8dR2yJQ1RY4SIahU56o 2013-11-08 08:33:09  CLIENT -> SERVER: 4RO3wA5oCLzsFeU9ve4nj6CBaoDqHKNxcQV+H0UyQcxkBNR7FaB2yGmg6gKlLQNVZpPoesbh/Ki7 2013-11-08 08:33:09  CLIENT -> SERVER: fIApAkAXbpns7oft9hugOjfscXMlLFQFUB9NJBId5Gb8OQ9Umaq7Kd/WgSoPP5mqn/LEMb4UtSAA 2013-11-08 08:33:09  CLIENT -> SERVER: wmQ7cXb3ZaNngBp8iC8bXAnbQwNQR44c+URdXZ182rRzXgDVS/n2AlQ/455+ypPr46l+wBYlUHUz 2013-11-08 08:33:09  CLIENT -> SERVER: Ynn47UUYoLr3kjLBlTBjqgDq8OHDxzU2NnbOKFCRYTrNwPk5nBwjH4CK4HSygZ/A1e2i+3X+XB1P 2013-11-08 08:33:09  CLIENT -> SERVER: XX3nnZGMx8XZ3ffKtNoTUKOa4Q/DFb+935AZ6rjq6uouAqhdMgJUNwggM9LNQJzGqfIBqF7A0gWH 2013-11-08 08:33:09  CLIENT -> SERVER: btcyCIhybTw1aEYURbbtNysO2u1va0CNsv7DcAUNoi5cg/Qschaofh24rQJVZ0mQnwAJ2l3KlfFU 2013-11-08 08:33:09  CLIENT -> SERVER: nRn9OHXI1L0NUOPlCpKwuBKJnAaq7iyunXO0FaDKRdpROEBQoObCeCru72cSKmqAuHX3vXy08amn 2013-11-08 08:33:09  CLIENT -> SERVER: DFBzCKjTTz89tuGunAaqbpZql563JaDqZKk6QetVJ27AyvZ4qldW4fV5WIC4+SHu7WY7v2NyBqjx 2013-11-08 08:33:09  CLIENT -> SERVER: c8UrSWmzQNXJquyu1ZaAGtWCfC9bomFyA0O2xlPRWHjNynrpFhYgblkoxqa9yhj18jYDVANUA9Qs 2013-11-08 08:33:09  CLIENT -> SERVER: A1Uni/Map8z0eKpXdi4zc53GIszYrRcsvVYA+On2G6AaoGYVqMgQ2jtQdZ7K8XIiqYcbxDI5nuoF 2013-11-08 08:33:09  CLIENT -> SERVER: d9V+Ufmb3wxZzuJ7jcv5efzVADV+rmAYxoyhttNJKZ0xVB176gLVy+6ZGE/1mpC0PikXJ1Ddgk9t 2013-11-08 08:33:09  CLIENT -> SERVER: yLyCFNA1QM0+UHXKHGT9cF4A1ctJnRw1ysXG2QaqTqOi83SHH6ACVm62j3s81W0sF6C1jknGBVSv 2013-11-08 08:33:09  CLIENT -> SERVER: 7r7aO/IaUrHrSbUHoML2uhI3V8AKndUiQZ+Wymmg6ixEd5pBzeQRJ1C9AtpP9uMHqDr3jms81asB 2013-11-08 08:33:09  CLIENT -> SERVER: sRsPjQuofiabvPxVt9vfnh89jYMrcowbdamzDDPMsFbOAlX3qR6n67QFoOJ8HQfQzXS9rmWnh1s9 2013-11-08 08:33:09  CLIENT -> SERVER: xDGe6lXvQZ/x9rsWVKeHZH0KSqfx07GXAWp29wgJ0/vKGlDlrtmqwOnxvk433yug8wGo0NOu2wMb 2013-11-08 08:33:09  CLIENT -> SERVER: +FnErhscQa/j1pWNcjzVy15uE286/hZ1d9+uPF6+q9OVNEDNHlDDJglZA2rcLUk+ADWKww8oguqR 2013-11-08 08:33:09  CLIENT -> SERVER: ifFUrxl9r70q4wCqzvpXv8MVOqsxDFCzx5WwdslboHqNR7UHoAJAujPHYYPMS5cwjuj1WKmOnnEA 2013-11-08 08:33:09  CLIENT -> SERVER: Ncisvc6KDK8MyAA1O1yJ4qdQ8hKoOjtrt3Wg2s10xwnUTPU6ggZ/1ED16u47Neg6z4l7Ba4BamZ9 2013-11-08 08:33:09  CLIENT -> SERVER: MMofLcw7oJrflAr2m1I6EyY6QeZ3b8mwh+5So6iB6tXdd5vk8hr/9lrj2NaAiu/oSqa4IucvogJp 2013-11-08 08:33:09  CLIENT -> SERVER: 3gEVBvDz+GBbBCqy0qDjlVEEqd/fcQp7+FlcreNvUXb35c+cO00qetWjWdgfD1dkvWSqi583QJW/ 2013-11-08 08:33:09  CLIENT -> SERVER: rR20FWkLQJW7jyMbCvMsepRAzdRkm99fKo0SqLprf8McbvVpgBp+OabOWHaQYbO8f1Iqjt+fzxWg 2013-11-08 08:33:09  CLIENT -> SERVER: ZnJLvCiBqrtJb5jDz2Rb1ED16u7HnX0boEbDFR2fiPonxg1QDVB9Bxlaf7TuYTZ8dssa5P6iftYD 2013-11-08 08:33:09  CLIENT -> SERVER: RgnUOPTy0+03QI2OKzp1GSWLDFDbCVB1ukA6QSavg64SssggP8DmJnJcCxmcH6hGBVSdWfqoDqfu 2013-11-08 08:33:09  CLIENT -> SERVER: pgFqdFyJ8tFtA1QDVF/A8Qoyufg+jsF8p2f6daEahX5Bf8gw6OG0UsAANVqu6AzhRBWLBqgGqFpB 2013-11-08 08:33:09  CLIENT -> SERVER: lmmY+oVqVEDNRHdfnXQ0QI2fK7orU/J6Yb8Bav4ANVswVaHqNSMbBVB1uvuYndddU6mTGdnpZIAa 2013-11-08 08:33:09  CLIENT -> SERVER: PVd0eh5RbPZjgGqA6qoHIANH011gny2oRgFUr6Dz+2N7OoC2s6sBajxc0dl0KeiuZAao7QyoQX75 2013-11-08 08:33:09  CLIENT -> SERVER: QD5jH3T38jh+rM8JqlEA1au7HyTYvILYbtlOJoAKkPt5gkmKNYOLeoNpVex6RGG4ojMxG7axMUBt 2013-11-08 08:33:09  CLIENT -> SERVER: J0D1+8sDuQZT65Itvzv2e/mcTjYZJNB0uv3WGeZMADWq9cFxPuRhFx9huaITB2HWphqgGqAep0eu 2013-11-08 08:33:09  CLIENT -> SERVER: wtQNqmGB6tXd93pcNEyX2Nrtz1Wg2tkg34CqW96gQ1wGqAaox+khH/vNRZg6QTUsUMNuaBLmlxKs 2013-11-08 08:33:09  CLIENT -> SERVER: ts5VoNrt5ZpvQNUd/go6QWWAaoDaSg+/C+pzBaphgBrFlnthA1i1d64C1c5++QhUOdEaxwSVAWo7 2013-11-08 08:33:09  CLIENT -> SERVER: AarODCdAmi8wtUJVZ2+BMEtqwthEZzJEBXauAtXunvkIVD+bN/ndPMUAtZ0A1RzO9vbq7oetJ8DY 2013-11-08 08:33:09  CLIENT -> SERVER: T3c6V4Fq16jkK1C9ftYnaN3HBlQY2m1JRFw/QawaPszvf/u5ltNzwHjf77KQbNmjPYiTvb3Oi8JX 2013-11-08 08:33:09  CLIENT -> SERVER: cW9dn/TyGzefi6u+nSZpdMoaZX1FyRWva+naOiNANWLEiJH2JgaoRowYMWKAasSIESMGqEaMGDFi 2013-11-08 08:33:09  CLIENT -> SERVER: gGrEiBEjRmIGakkEEsc1g9w3iOR6GbNhk2zUZS74Qr7qnssxmk91Hxqo7d2ouV7h2SxPew6sEiPt 2013-11-08 08:33:09  CLIENT -> SERVER: su5DAdVUghEjRgx0YwZqWpFiRdIW0VUibSNO14zyvmEkG/dsq5LWkHzUpdhGvPQs1hS/Ngpr03RI 2013-11-08 08:33:09  CLIENT -> SERVER: 3cLo5VXeOPwlcqC6FT6Icfw6XhgJ4mRxOlOmgeHXmaMqVxC9iyMKNq+GOBPwtytzyiJeOqY8JIiN 2013-11-08 08:33:09  CLIENT -> SERVER: goLZj27FIXQr9nGNMLrlHFDTNsYpEjLjrLNY7WWXsXTnzq5GdjJEulMnlu7YseV6upL+zGdYqkMH 2013-11-08 08:33:09  CLIENT -> SERVER: /rfdfdMRw7vi5JPZvP79+d9S58mks9s5laecwr9XeeqpsYIN3ysleyyge808++xYGig3KTvxRFb+ 2013-11-08 08:33:09  CLIENT -> SERVER: +c+3nFferRsr7dLF05Z2QSZtWyL8SaecbvURF+RVgb4lpC8v76c/zX3Trz+n6Lxin+e5xRtsUX3R 2013-11-08 08:33:09  CLIENT -> SERVER: RWzyCSewCsUPUz51K6W6LaW6zZZuqYh08xNTsQIVBaikALA7Xv/f/1jDs8/yv8u++lXtypYg/ejw 2013-11-08 08:33:09  CLIENT -> SERVER: 4eYLffIJe2/rVrb0+utZAX22d8ECdnT3blZIf0MWXHMN/9rCX/2KzR0wgH187Bh/jf/31dWx2eef 2013-11-08 08:33:09  CLIENT -> SERVER: r3VPP1lAytJ4NDzzDL9nBVVco9C5nHS2O1++XiTKvZjKbecofltnt8yp4stf5vd67bnnWjV4kOJP 2013-11-08 08:33:09  CLIENT -> SERVER: fYrNPvdcVvm1r9m+DlouKU0TJ7K1o0a16H74jTfY3AsuOO6aRRZbliMIqCyzqCwVVBbUdYNiW6cA 2013-11-08 08:33:09  CLIENT -> SERVER: s16z0XJOEB38+ooq0HcO6btr9uyW2PjgnXdY/T/+wYpIv/WPPMLfm3bmmVzHUlFXjVRX8Hen8+b8 2013-11-08 08:33:09  CLIENT -> SERVER: 8Ict70/t1Yt/d66yaUlljx6OQFp41VXNvvfrX7OFwg8XKX7oVufqe1upbtdQ3TqVserii/l7y//4 2013-11-08 08:33:09  CLIENT -> SERVER: x5Z4PbB+PTu4aZOrboWUDH3y8cfN5/7hD/y7xQTIj95/n78HFkSlm594yghQS0nR1cOHs3UPPsgL 2013-11-08 08:33:09  CLIENT -> SERVER: /9aiRWwlvZ73k5+wzcKZS8mZYZQCYVSvFggtFo7dVVVsARlo3+rV7JOPPmLlp53GgXqEgJqk70Fq 2013-11-08 08:33:09  CLIENT -> SERVER: FaBW0T1xbKKKWXrDDezYgQPs0ObNx93TGsRhhAfBSSexuZRVuQX9cRWvVLZ0tsKArbPbEEqxBahF 2013-11-08 08:33:09  CLIENT -> SERVER: yr0gi669ln9WfemlvH7U17rlcmyEKDCO7NrFZp1zDv/edIIGtt1DVmK1YaHFlgU2ZbP6k1fZ1PpA 2013-11-08 08:33:09  CLIENT -> SERVER: o17oYUsnyAeVVxR931q8mB196y0272c/Y9tKSpp9loJ+nQDqFPou/HmyqKsGqiu8Vs97Qzlv/s9/ 2013-11-08 08:33:09  CLIENT -> SERVER: 3pw4HD3KXr39dv7djU8+yT46cqQZ0NQbUWNOFcTXPIJdCj0XJX6s33Wtc1G3M6lunXSbqwBVxqsE 2013-11-08 08:33:09  CLIENT -> SERVER: qlU39bxiynqlbm+WlfHvVg8c2KLbq7fe2qJbgY1uVT51042njABVOmKZyFQb/vMfXvikEgD1//oX 2013-11-08 08:33:09  CLIENT -> SERVER: O7p3L2v8739ZITkXPl92883svaYmdnTPHrZq5MhWQSCBunXSJH6dFXffzV/P+N732B4B1En0PqRG 2013-11-08 08:33:09  CLIENT -> SERVER: GK0WGaoA6pIbb+Sf7XjlFZ7p8lZPwpqy3wYqD1rEQw0N3LHw2Z7qau7Eu+fN4xnw4t/8hm2ZMIE7 2013-11-08 08:33:09  CLIENT -> SERVER: zap77uFlnnL66dwJPnz3Xfbeli2s9he/4O+vHTOGvfv66zwY1KBXK3DBlVey/WvWsA/fe49t/Pvf 2013-11-08 08:33:09  CLIENT -> SERVER: W1V2hcN1K6kBgaOhrG+k0/w6VZSF7K2t5fZcTXZTncAuO+XdThGku2bOZPtWrGAH1q5lc+g6aXLc 2013-11-08 08:33:09  CLIENT -> SERVER: I2R/HNBzJV1PfQ3H3fD44/x+m554gpdjz/z5LbqpZUEdot7eXrKEraQA50M+3/kODxg5/LLijjvY 2013-11-08 08:33:09  CLIENT -> SERVER: m6Wl/Nzqn/6U2wwZ3Gvjx/O/U9Q1lrYsJ5uoZVlOZXHyp9KvfIWfs5YaddgNPvhuY2MrCDf8+9+8 2013-11-08 08:33:09  CLIENT -> SERVER: /LBzBdnVGlRq/Wyi+sF7S4cM4dcBFLcmk6zkC1/g19TxlQKh7zbSt0DA4/Cbb3K/nEFZN46V997b 2013-11-08 08:33:09  CLIENT -> SERVER: Cqj4rEQBKl7vVc6brpy3aPDg5qSD6mP71Kn884P19WznjBn8/Znf/z4rILsDSB+8/Ta31/q//IWX 2013-11-08 08:33:09  CLIENT -> SERVER: RdoekFITEsTaUiUu4Q/4PrLo3XPm8P930L1gu+mibpFNOukmgbqMgCrjVQLVTbdSqh+pG5KiJNVx 2013-11-08 08:33:09  CLIENT -> SERVER: A9W11G3VffexZES61dD38P3lxAzUn1M8ZRWoSWE86cy7yQHfefXVFihWiN3SEayb0cWjbj2CQjpi 2013-11-08 08:33:09  CLIENT -> SERVER: SgB1F1Xigl/+kmeZUHYSgRFAxfcBH4hstQDUOQKoGygglv3pT7yLABCpLRm6CzhnKRkQgXFwwwb+ 2013-11-08 08:33:09  CLIENT -> SERVER: GSoZxxaC+IeHDvG/dxKAEFAYPkideCJLU0AhmBf99rc8a0a5VD0nE2jssvLpffvyLgzgAaecf9ll 2013-11-08 08:33:09  CLIENT -> SERVER: rYBabHNd2BBdIJ6BDBvGlt10E7/WvpUr2buvvcaWk3NUk74pjbHhMhGkgMXrL73Erwndighgb0ye 2013-11-08 08:33:09  CLIENT -> SERVER: 3Nx4FRSwqh//uNXr2dStRGDzngeBcpv4bM0DD7QqCxpH9EhKyQfQk2gqLOS2Xv3nP7f8Ddk5fTpb 2013-11-08 08:33:09  CLIENT -> SERVER: NnQoK/niF3mgvL9zJ1v/6KMtdVhIjZ20X9nXv95Sli1UlllUFid/Kj311GbQki/Bbgg02Futmz01 2013-11-08 08:33:09  CLIENT -> SERVER: NaypqIj/vf6vf22VscywqZ/ZBCT4GfTeLIYhAPCkhq8Uk6/g+jtI36Wkr8zGjlDgz6NsG+9ziPbu 2013-11-08 08:33:09  CLIENT -> SERVER: zdYKoKLh5z5NdYRjM9l9ooAOzqtSzquk85ZRA4Nj7dix7ChBpUTYYDlBnG+SfMklXP91ZN/F1DAg 2013-11-08 08:33:09  CLIENT -> SERVER: Drhf0vdqlSRETUjKRFyup7isF3E5meISf3/8wQdc1/qnnuK6raK63Up166bbbAFU+JuMV9gZ9pvg 2013-11-08 08:33:09  CLIENT -> SERVER: oBvOm0LZtdSNv9enD28spG7QaaJP3coddKsVQwSw+9tUHms85SRQy3r0YDPOP7+lBUIXRWYNr4uf 2013-11-08 08:33:09  CLIENT -> SERVER: ilh03XUtACoSQG35rRcKvgXUFYARAVRUEIIN8tbSpccBVR4AE2Cmdg8QbEcokOuffpoDm1dE9+68 2013-11-08 08:33:09  CLIENT -> SERVER: 5TxAcEW5t0ycyN8vIZ0AXu6g5BxoFVGBCCSZPU2mc6WeJQ5A3fDYY/y9KnLyAstQxQK0njbXRZnq 2013-11-08 08:33:09  CLIENT -> SERVER: RSCjPLge7zJRdonKRzYmB/NTmkDdQrbGNdDSo7FJUgMFu/KykVPDvtbX9UKfyl69uG2QUby9fDn/ 2013-11-08 08:33:09  CLIENT -> SERVER: e79SFtQZdJvasydLC6DsnjuXLRFj36nOnTk0KsgX0IXHgZ4HrrNN7LyPTKResaValglKWUrpGtMV 2013-11-08 08:33:09  CLIENT -> SERVER: f1KByq9nA9SKb3yjufwETTQEScUnZP3ME/XD36PA48CmzCkpznt/+/aWLMvLV4qEvuVU1kkCOvJA 2013-11-08 08:33:09  CLIENT -> SERVER: o4PuOewrgbpz1izuz8g2JVAldNTzNtB5eH/V6NH8PQmtlZS1oW7k6/kEClwfr9FYA0jc3yjOahyg 2013-11-08 08:33:09  CLIENT -> SERVER: s1zEZT3F5WsiLhfS9xEr/F4/+lFL130X1e1iqls33WRZYG8Zr8cOHmwFVDvdZv7gB831Tg0bYn3l 2013-11-08 08:33:09  CLIENT -> SERVER: qFHNw2jkg3xIj+p5QkDdNlt0q6HeIIf3Qw+1GgLIOlDLXYCK4Kj85jdbsgPZzUFg75g2jXfNa0Q3 2013-11-08 08:33:09  CLIENT -> SERVER: VwXq9ilT+HkFHTvy60mgoss/UbxWjSaBupoCHN0GgEoNHDmpBUDDceW9EWwIknfq6vh9JMhS1CWe 2013-11-08 08:33:09  CLIENT -> SERVER: Lww+/4oreLdTdseQwfFApfLVewBVvjeLsinr2C+vbHHdzcp1oXfhZz/LNlFGgKwHwVJAAESAosz8 2013-11-08 08:33:09  CLIENT -> SERVER: R+Tou36AKsfl5D0KMM4koDXv8stbARWvVYih4cDnBzZuZIe3beN2UsuCa6p2LqayIxjKCHZ4jXEt 2013-11-08 08:33:09  CLIENT -> SERVER: mXmjYeFdwVtu4ddEtxjHJAWoabJfrUNZYOcKxZ/wmo8Rv/giL9ebFRUcqBMt5ZfdYsBR9Qu1fmSD 2013-11-08 08:33:09  CLIENT -> SERVER: h0DlEz6UMU0SWakcanLylRrFV+YKfWVXl2dx1MtCBoZ6lf4rgVpJXX68Tou6UoEqzyug8/AeZD31 2013-11-08 08:33:09  CLIENT -> SERVER: wuAXSeplIMPHdxrGj2czBIwWEuymIfMmUO2qqmJrCBh8OIx6E07QkWXZQXG5nWJjO9Ut/F/qKBv1 2013-11-08 08:33:09  CLIENT -> SERVER: lKhbNGR2ukmdJVCXUpdf6iu7/KpulRabVIkGd8YFF/BuP75ziLJ/nPPJhx9yIEahG+qrRmSoC8Vc 2013-11-08 08:33:09  CLIENT -> SERVER: RtRAHetnYb8atBKojTZjqFagTqUUnrc048bxDKD26qtbBWPKMoYqAT1JAarOGGrSZuC67rbbeEUs 2013-11-08 08:33:09  CLIENT -> SERVER: oYxw5nnnccd3CxIVqBjH4b9T/t3v8krhQKWMzAuoCwUY0O2cP3Agm96vXyug2l23kq47e8AAVnHG 2013-11-08 08:33:09  CLIENT -> SERVER: GazxhRd48KS/9CU+NlRB3WGM92EVQ1igYkKAr8qgTKuM7lVleS112/TPf3IAcpAXF3M7oSxloiyw 2013-11-08 08:33:09  CLIENT -> SERVER: XeqEE3iwoDtYTddBNi1tsPFvf+Nd56RoMPmEYUMDb0xkt9kKVKeyWP0JmS26pGh0kOljrBQHBypl 2013-11-08 08:33:09  CLIENT -> SERVER: JBxQZOM68TtS6PoDChg7W3P//a3qp1rUD4aauM2ef74ZlNRFlHrrAHUD6Ssz5qRlDFUV6xiqCtSJ 2013-11-08 08:33:09  CLIENT -> SERVER: lnFGVVCuD/bt49/BWC6/L91/GpWdN1bDhrEFYlIPw1+rxaTxkqFDHaEj43IjxSXGNGsoLicpjYsE 2013-11-08 08:33:09  CLIENT -> SERVER: KnwGvZOkh25zFaBax1BV3SZazpON+tRvf7ul3JsoSwZQkeE2lZSw2oh0A3uiAOrw4cPHNTY2dhZA 2013-11-08 08:33:09  CLIENT -> SERVER: 7Yx/HobQhyv9PCmVtgFqoaXlL7UEABRZRV21QyJVh1HVMVR1UkoFbVJkmCpQ1a6znOVH18sKUpnO 2013-11-08 08:33:09  CLIENT -> SERVER: TyYoNYhJDd7CUdclqRkkGLZAdob7y8wMEPQaQ8XA/Wa6p1zS1UjBoJZbve525broIiHTwsA7WmFA 2013-11-08 08:33:09  CLIENT -> SERVER: 4D3xmzgYu6ylMrkB1TopJZfiNAmgFmK9bteuvAvPu+AjRrAi5XUdvZYQQ5cU9oKdMNZWZClLDZWl 2013-11-08 08:33:09  CLIENT -> SERVER: 5KSTOBwxlFNPAMZElrT//tWr+dikrMdFv/sdn4BrSqf5/ZDxTCQ7qdAsspRNtbPVnzB8gHtjyER2 2013-11-08 08:33:09  CLIENT -> SERVER: m9FgoDHCRITsXu5ft45n1miceFnhrzb1gzJi8gNl5LCtrW3JyHR8BWPh1aSvbNQldJKKLyctQE3a 2013-11-08 08:33:09  CLIENT -> SERVER: TEqpsEoq0pRKtfQU6u66i5cT9qoU3WIMhaBMKCeGd+T48YqRIx2hg2vhvINKXPIxVAWoKDvqdiPV 2013-11-08 08:33:09  CLIENT -> SERVER: bYFFtwJLb1CdlEraTEo56Ybv82SFGlGMkfOlZxddxL+HbHXHzJmR6SaBqi6tCjiG+kRdXV0nFajA 2013-11-08 08:33:09  CLIENT -> SERVER: /OhRicTSIEAttiw1kYFU4CHpz33OdQmMdclHgaZ4Lf1IdezIiqm7ZAV20uWa+Ayzypg8SVqcIOlw 2013-11-08 08:33:09  CLIENT -> SERVER: f1VSdN7kbt18XTdF9imkrn4rm5Ezqbo5LfewqxsnG2KiqEAMkUCK6TWGTNReBuArG7KkUpZWZaMs 2013-11-08 08:33:09  CLIENT -> SERVER: FfdYOGgQe4WCm9uayo8Zbzm2CplxzjkcUFPE0qJ9q1Ydl+HI+6QtZXOqI2TI1u+pwq+jDkvg+5b6 2013-11-08 08:33:09  CLIENT -> SERVER: KbHUD2CbFrP72r5no2+hjW8URChJF4Fdkh7fsfM7JzujbqdR3RY6+HlhxDpay6YCuEjoNsmnbtZY 2013-11-08 08:33:09  CLIENT -> SERVER: 1Rk/dQPqiBEjHhUwhXTCP1ibdAd9OMvvrjppm4XPXmB0W+/mZx1gocb6spRL2ewcIKhz6K4lLQrg 2013-11-08 08:33:09  CLIENT -> SERVER: dG466qxF1dXdKmrGnQyps3pPOUvPF3VT1xUZiBcwowhenXWWhRFI2LXNuteKA2B+7RVGt8KI4yRM 2013-11-08 08:33:09  CLIENT -> SERVER: whVkhl/JUO9RgJrAPzeRDLq3e/fxyQDblDk9oqezUDqK53/9XifKxf1e+qQiXjTu9DitTr3olkE6 2013-11-08 08:33:09  CLIENT -> SERVER: XHn37uyVPn1YEWX0XgDVeXKoJaum683o14/N6d+fpSnzDQPpKOsrruu6+WYqpGTDTmHi1Y+/pDKk 2013-11-08 08:33:09  CLIENT -> SERVER: k04s2bEQrPx9ly5HKUMdbAUqptb6PH711cNeSCSaotxxKqrnxLN1Hd3NHOJ8nDHIo6c6DV6QBjDs 2013-11-08 08:33:09  CLIENT -> SERVER: I5ypRPjn0YM+ElrcDiUbNklnWacgugV57PR5kstOOWUdAfVcK1C/hT+SzzzT+7FE4uWwe6LGuctS 2013-11-08 08:33:09  CLIENT -> SERVER: pq7hF8LZ2Fkp7p2Rot4sJWjjFPXmJUHrKZ2IZxexdIQS1y5tQWMu13QLwgwnFhIr2cX9+k1IJBId 2013-11-08 08:33:09  CLIENT -> SERVER: rECVM1SJYV27DqRUtsFsMq0Hp6iupfNeNvYhjXKfWZ3giGKbvXzePzXu+m3L++ZmcpNp0d1nV111 2013-11-08 08:33:09  CLIENT -> SERVER: 1Y0qTCVQWwmR96FkwuzcbyTzm0gb2xjJhx37kZ3279u35tZbb+3uCdQb+vc/eVwikQ4yQWUkN5zA 2013-11-08 08:33:09  CLIENT -> SERVER: 2MGIkXh++uTJ5rFTdvnll99uZactUCHXnXnmOQTV+V5QNdI2JGrny/VfJzViJIhImF544YXJ2267 2013-11-08 08:33:09  CLIENT -> SERVER: rbM2UCHX9O7dn1LbagNVA9ewkDMgNZLPkhTdfMB0wIAB02+++eaznLjpCFTIoEsu6fv7Ll0KHxPL 2013-11-08 08:33:09  CLIENT -> SERVER: BAxcjRgx0l4g+rwAKSag+vftyzNTN5h6AhUyZMiQLhf263c70bkGFx4tnhAwYsSIkbYqYB0y0v5n 2013-11-08 08:33:09  CLIENT -> SERVER: nw2Q1mDM1Kmb7wuoUjCjhWUCAwcOnEA3WEdylIQZMWLESBuTo4JxE8A8u9n80EBtOSGR6ICnA/DI 2013-11-08 08:33:09  CLIENT -> SERVER: FZ5jxeYA2HGF/n8SewMaMWLESD6JYNcTgmVg2mAwzrpoPxag2gm2r8KegBBstmrEiBEj+SCSW8oW 2013-11-08 08:33:09  CLIENT -> SERVER: fKEE//SM4kJGjBgx0s6lJ/55OiRUQfbOQroYMWLESJ6J5FeYLBUMffr/Ad3iHjojFebGAAAAAElF 2013-11-08 08:33:09  CLIENT -> SERVER: TkSuQmCC 2013-11-08 08:33:09  CLIENT -> SERVER: 2013-11-08 08:33:09 CLIENT -> SERVER: 2013-11-08 08:33:09 CLIENT -> SERVER: --b1_9de60348ce3def005c018e890079e6d6 2013-11-08 08:33:09 CLIENT -> SERVER: Content-Type: image/gif; name=\"phpmailer_mini.gif\" 2013-11-08 08:33:09    CLIENT -> SERVER: Content-Transfer-Encoding: base64 2013-11-08 08:33:09 CLIENT -> SERVER: Content-Disposition: attachment; filename=phpmailer_mini.gif 2013-11-08 08:33:09  CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: R0lGODlhTwA7ANX/AMDAwKwAAMFAQMZQUMtgYNBwcNaAgNuPj+Cfn+Wvr+q/v+/Pz/Xf3/rv7/// 2013-11-08 08:33:09  CLIENT -> SERVER: /8zMzMfHx8LCwsDAwL6+vry8vLm5ubi4uLe3t7W1tbS0tLOzs7Kysq2trampqaioqKampqSkpJ6e 2013-11-08 08:33:09  CLIENT -> SERVER: np2dnZycnJqampiYmJWVlZSUlJKSkpGRkY+Pj46OjoqKioiIiIeHh39/f3x8fHt7e3l5eXZ2dnR0 2013-11-08 08:33:09  CLIENT -> SERVER: dHNzc3JycnFxcXBwcG9vb25ubmNjYwAAAAAAAAAAAAAAACH5BAEAAAAALAAAAABPADsAAAb/QIBw 2013-11-08 08:33:09  CLIENT -> SERVER: SCwaj8ikcsksBp7QqHRKrVqvWCgyy+16v0+Iceoom8/otHrNbqcV0spjSFU3wPgrQQ2XZuYAUwJr 2013-11-08 08:33:09  CLIENT -> SERVER: fXmGUA1qC1MiFUKCbAaHh4lrUywdYpBsApN4C21TMCMTgVKDbHeeXghuUzQnFqZRqGyFq1cFbg5T 2013-11-08 08:33:09  CLIENT -> SERVER: OCkYs1C6bpK4VrWhUjkqGsFPBrsOncZUlW7TUDorG84B0Luq1FGg0dhP2txT32jkZ7fUCWrxaeYB 2013-11-08 08:33:09  CLIENT -> SERVER: 6N3rZwPtZsXUB2oI5DNT796UeWg6WSNIbU+aA97UDJBiUIoCNZ0cngm3amGZPgPL+Du3rdtFek9a 2013-11-08 08:33:09  CLIENT -> SERVER: oXlnyKMDBlBCOhhpr+SUkwmhMEhD81Ma/44yaVaMgvOMOYyHVKKZGFONUJtSXEqLMmyjoapnaMqE 2013-11-08 08:33:09  CLIENT -> SERVER: GGUolDX1EJphmQWZmQTq+FCEGgXslJ1oemJxuSjtm7XppLg9hbQLvzIco8h85/XJXikyo3GqMhhv 2013-11-08 08:33:09  CLIENT -> SERVER: t8MWFUcrYKVxV7ZPzDKsIlWyGQRXEjvm25eKZs9l6la2dDkvlNNTrYhFXSaL6NbOYNeLQqDBX8kN 2013-11-08 08:33:09  CLIENT -> SERVER: EqhmzDob5gAac1LZ80SB8+fQo0cnEADBcLtpRguGHKUB9VXWV5eu6foZ9yfeqYWnkthc4fZT0otD 2013-11-08 08:33:09  CLIENT -> SERVER: ENj8+PfcG1AWl7I+fOPlVQfZAqDxB8UBgf1HUoBFGQUFgQZK0dt2TuEWWV8QRihhOImNVP9Ygwwt 2013-11-08 08:33:09  CLIENT -> SERVER: QJaGE0ZUIYDOgFiGAOtpuNwdHVoYBVxpLHCdixvO1o+MX9Hm449qoYiYAUQWaeSRSCap5JJMLvnd 2013-11-08 08:33:09  CLIENT -> SERVER: gt3gKGVhUk55XJU4VnRGW1z2WFuXAfBCxpiG6bWll2JCWeaaYYLZJptvxukmm2nCCWaaWn6l5550 2013-11-08 08:33:09  CLIENT -> SERVER: 6snLn3rJGWedgvKJJ1RpJuqmomUCSiigdwZaB5950olGpI22+aigjKJp5pdqhmnGom2N6qemmPY5 2013-11-08 08:33:09  CLIENT -> SERVER: 5551ViopnIS+CWmiZ6rKp6R1LtOMnbCu2umvqfJqqy8ZPBKrnHXGCqytg5p66a1i1nDCBY9gKeUO 2013-11-08 08:33:09  CLIENT -> SERVER: MZBAAR3WunhDCx8QEYEHKbwwAw46pKsv7rrstuvuu/DG+24ONsjggghGSMBBCCakoMIKAAcs8MAE 2013-11-08 08:33:09  CLIENT -> SERVER: F2zwwQgXrAIKJYAwRBAAOw== 2013-11-08 08:33:09  CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09   CLIENT -> SERVER: --b1_9de60348ce3def005c018e890079e6d6-- 2013-11-08 08:33:09   CLIENT -> SERVER: 2013-11-08 08:33:09 CLIENT -> SERVER: . 2013-11-08 08:33:10   SERVER -> CLIENT: 250 2.6.0 9de60348ce3def005c018e890079e6d6@192.168.56.100 Queued mail for delivery 2013-11-08 08:33:10  CLIENT -> SERVER: QUIT 2013-11-08 08:33:10  SERVER -> CLIENT: 221 2.0.0 itech.urc.local Service closing transmission channel \nMessage sent!\n. Thanks you for the suggestions and answers :) I already figure out what was wrong with my code, it's just the server/host. I can already send sms now :))\n. Where can i get the version 0f  5.2.7? Thanks\n. I already downloaded PHPmailer_5.2.7 and change my code and use \"include('PHPMailer-master/PHPMailerAutoload.php');\" but still nothing sends. \n. Did you already have an answer with this @DarkViper or did you already fixed it? I already fixed mine and now its successfully running with the system.\n. Did you already have an answer with this @DarkViper or did you already fixed it? I already fixed mine and now its successfully running with the system.\n. ",
    "EduVillas": "Use vs 5.2.7\n. https://github.com/PHPMailer/PHPMailer/archive/master.zip\n. In file class.phpmailer.php have 10 times (first on line 630).\nin file class.smtp.php 1 time on line 165\n. My mistake ... sorry !\n. So ... why i have this messages so far\n\n. Im reading now \"sir\".Thak you.\n. ",
    "yukulele": "thanks!\n2013/8/8 Marcus Bointon notifications@github.com\n\nThese docs are a little ahead of actual code as they contain the\noverhauled docs from the smtp-refactor branch; they will be updated in\nmaster soon.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/76#issuecomment-22295807\n.\n. \n",
    "seiyria": "I accidentally some keys.\n. ",
    "appelgran": "If them functions work while using mail() then remove the note that says they do not. This should not be closed.\n. ",
    "kyleguate": "This is still an issue, see below:\n\nWould you like a pull request removing that note line?\n. ",
    "ChristophLu": "I have written a simple class for that task. You can use that class in your method like this:\n.php\nstatic public function parseAddr($addr) {\n    $x = new EMailAddressParser($addr);\n    if($x->isValid() == false) return false;\n    return array($x->getEMail(), $x->getDisplayName());\n}\nSee: https://bitbucket.org/christophlu/emailaddressparser/\n. ",
    "neokio": "Christoph probably put a LOT more thought into his solution than the following, but here's a quick-and-maybe-dirty approach that has worked for me for several years now:\n// split email into name / address\nfunction email_split( $str ){\n    $name = $email = '';\n    $str = trim($str);\n    if (substr($str,0,1)=='<') {\n        // first character = <\n        $email = str_replace( array('<','>'), '', $str );\n    } else if (strpos($str,'<') !== false) {\n        // possibly = name <email>\n        list($name,$email) = explode('<',$str);\n        $email = str_replace('>','',$email);\n        if (!validate_email($email)) $email = '';\n        $name = str_replace(array('\"',\"'\"),'',$name);\n    } else if (validate_email($str)) {\n        // just the email\n        $email = $str;\n    } else {\n        // unknown\n        $name = $str;\n    }\n    if ($name==$email) $name = '';\n    return array( 'name'=>trim($name), 'email'=>trim($email) );\n}\n. ",
    "Cyberchicken": "Hello Synchro, from what I read your are the author of PHPMailer::parseAddresses()\nI find it a very useful utility function and I'd like to discuss the following improvements:\nI think that lines 886, 902 and 911 (version '5.2.13') should read \nself::validateAddress()\ninstead of \n$this->validateAddress()\nbecause we are calling a static method here.\nPHPMailer::parseAddresses() itself should be declared static, so that one can call it without the need of passing around an instantiated PHPMailer.\nThank you for your code and for your attention.\n. Sorry for the hijacking if that's what you mean. I'll have to learn github's ways.\nWhy BC break? Calling dinamically a static method raises a warning?\n. Oh gosh, it's obvious! My concentration today is awful, sorry.\nAnyway. To circumvent the alteration of the contract maybe you could write a wrapper with a similar name, like parseAddresses_static that would be called by the legacy parseAddresses (dynamic). A bit ugly but functional.\n. Thank you!\nWhat version holds your update?\nSorry for the wrong version, I didn't think to check (5.2.13 was quite recent) because the diff wasn't meant as a concrete patch but just as an aid to the discussion.\n. Thank you!\nWhat version holds your update?\nSorry for the wrong version, I didn't think to check (5.2.13 was quite recent) because the diff wasn't meant as a concrete patch but just as an aid to the discussion.\n. Thank you!\n. Thank you!\n. ",
    "colinhall17": "Hi ooxl\nI use a wrapper class that then uses the phpmailer class to construct and send the email- but the following is an example.\n$this->mail = new PHPMailer(true);\n$this->mail->IsSendmail();\n$this->mail->AddBCC($bcc_email);\n$this->mail->AddCC($cc_email);\n$this->mail->AddReplyTo($reply_email);\n$this->mail->SetFrom($from_email);\n$this->mail->Subject = $subject;\n$this->mail->MsgHTML($body);\n$this->mail->ClearAddresses();\n$this->mail->AddAddress($to, $to_name);\n$this->mail->Send();\nThe send is in a try catch to catch any errors - there is no error returned.\nAll the variables are filled and correct and the $to recipient receives the email correctly, even with the CC recipients email address displayed but the CC and / or the BCC never receives the email.\nIt may be something at the host as I've just tried it on my MAMP setup on my localhost and all 3 recipients received the email.\nAre you aware of any problems on shared hosting servers?\n. Thanks ooxl - it must be down to the mail delivery agent.\nSMTP worked fine on the shared server.\n. ",
    "mymas": "Hi,\nBeforehand, I thank you for this project.\nBy the way, I\u2019d like to contribute this issue and I have a little improvement.\nHowever, this is my first challenge OSS. \nSo, please advise me. For example, what the naming policy for create new branch.\nI understand how to use git but I don\u2019t know contributing github project.. OK! I try it like you say. Thanks  a lot!. @yuhanyuhan \nThanks you for your realizing this issue's PR!\n However, I need to fix a little bug like travis build failed, don't you?. @Synchro \nI'm sorry for fix codes soon and I did it as you reviewed.\nPlease review one more when you have time.. @Synchro \nI'm sorry for fix codes soon and I did it as you reviewed.\nPlease review one more when you have time.. I'm fix this a little bug. \nplease wait.. I'm fix this a little bug. \nplease wait.. @Synchro \nI fixed bug anyway.\nIt was so difficult to reproduce travis's error at my develop environment.\nSo, I have question about developing PHPMailer.  \nIs there rule or standard for developing this?\nPlease advise me about this.\nThanks.. @Synchro \nI fixed bug anyway.\nIt was so difficult to reproduce travis's error at my develop environment.\nSo, I have question about developing PHPMailer.  \nIs there rule or standard for developing this?\nPlease advise me about this.\nThanks.. @Synchro \nThank you for your advice. I understood  coding standard and Travis-CI's trouble shooting and I should have asked you about these topics when I started this. This OSS gave me precious experience in my develop software. Thank you for your kindness!. @Synchro \nThank you for your advice. I understood  coding standard and Travis-CI's trouble shooting and I should have asked you about these topics when I started this. This OSS gave me precious experience in my develop software. Thank you for your kindness!. Thanks for your review.\nThis is just my mistake. \nI'm sorry and I fixed it.. Thanks for your review and I added dockblock.. Thanks for your review.\nI forgot code style and I fixed it.. I'm sorry. This is mistake and I remove this line.. ",
    "yuhanyuhan": "I realized that the test coverage is still at 73% and would love to improve on this lovely library! . ",
    "ServerDotBiz": "Do you have an example of how this would work? Basically I am trying to capture the message-id the server returns, for instance: \"CLIENT: 250 Ok 0000014840f1bec6-9f090911-9a4d-4321-90de-410844ddac1d-000000\" \nUnfortunately I can't use the message-id that PHPMailer generates as Amazon SES replaces this with an internal id for tracking purposes.\n. Ah, ok... that makes sense. I would like to make the software run regardless of the platform it's running but for now I've decided to use the AWS SDK to send mail. This also contains classes to verify notifications. http://docs.aws.amazon.com/aws-sdk-php/guide/latest/ \n. ",
    "4prbnc": "Thanks!  Yes, while simply inserting \", $this->From\" into the empty 7th argument slot of the doCallback calls, solved the issue for me in the 5.2.6  version -- I also tested the  5.2.7 smtp-refactor branch which worked immediately when unzipped.\n. ",
    "darlanalves": "I recently used PHPMailer class to a simple mailing on a server task, and I found it really messy and with a strong need of a complete review. The method casing and property acess are not intuitive to devs that are used to standards. I agree that there's a lot to consider when a BC is mostly desired, but I think that a total review with a new and future-prone architecture in mind would be great. Also, I'd like to contribute in a new version if needed. \nCheers.\n. @Synchro What if we do two different branches, one for BC with the current API (upper cased properties, etc) and a new branch for a future release? Technically, a new version is supposed to break API and change the way things work. The current implementation could be maintained with the current stable code and small fixes. This new major version with a complete review could lead the project to a huge improvement. \nI have some ideas to make it easier to use, even for newcomers that don't know PSR standards at all.\n. Yes, I agree, it could be a reinvention of the wheel. But: Swift is a tool capable of sending emails from a NASA satellite with lasers, I don't think that beginners would get it at first. Zend is also a great tool, but using their mail implies some knowledge of Zend itself. I think of PHPMailer as a tool to easy write and send emails with PHP, with no fancyness.\nI think that for most of the newbie/junior developers on PHP (or any person that don't use or don't know WTF is a framework) sending mails could be as easier as write something like this:\n```\n<?php\n$email = new Email();\n$email->to('john@doe.com');\n$email->from('me@meenie.com');\n$email->message('LLAP!');\n$mailer = new PHPMailer();\n$mailer->connectTo('mail.foo.com:587');\n$mailer->login('mailing@mailer.com', 'lolz123');\n$mailer->send($email);\n// ... and it's done!\n```\nFeel free to express any ideas or tell me I'm crazy, but a cleaner and simpler syntax will not scary new PHP devs and will not make more experienced devs to roll their eyes.\nP.S.: I think the DKIM stuff, or abstracting away most of the possible corner cases for mail transport is a bit too much to PHPMailer. It could be split into separated spin-offs (like plugins) to resolve these issues. The focus of PHPMailer should be only the mailing itself, to encode the message and prepare it for a MTA delivery, not the implementations of MTA drivers or abstraction of server differences (following the KISS principle). But again, just my humble opinion.\n. ",
    "andig": "I'd suggest adding Thunderbird-like auto configuration of email server settings.\n. I would love to see smtp/pop/imap autoconfiguration using mozillas database. I do have sample code as demonstration available. Its not even a bc break, more an addon that would be helpful for many users imho.\n\nAm 22.04.2016 um 15:51 schrieb ooxi notifications@github.com:\nI do not but I would suggest creating a new issue when asking for comments about BC breaks. When watching a project I mostly quiet issues after determining whether they are of interest to me or not.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub\n. > Please make a PR!\n\nI have honestly virtually no time for this right now but feel free to take a peek at https://github.com/andig/mozilla-isp. It's hacked together for my purposes and I'm open to suggestions.\nWould a simple phpmailer example plus composer.json to pull in that package suit your needs? Do you want to clone or take over the repo?\n. > Can mozzilla database be aware of something than provider itself isn't?\nNo, it cannot. What it can do however is giving a noob user the ability to e.g. send email using his own account without caring about server configuration details. Think about IoT device applications, maybe bundled in form of a raspberry pi?\n. ",
    "avindra": "Currently using PHPMailer 5.2.x. Love this library. I would like to pitch in (increasing code coverage and documentation) when some design decisions are made.\n. Currently using PHPMailer 5.2.x. Love this library. I would like to pitch in (increasing code coverage and documentation) when some design decisions are made.\n. Check your php / apache error log. The PHP log may be disabled... configure error_log in your php.ini and restart apache if so.\n. ",
    "chriscct7": "\nSynchro, can you explain why BC is so important? I don't think those hundreds of millions of sites are going to keep track of new phpMailer versions and upgrade their systems to have the latest phpMailer. \n\n~24% of the websites in the internet use WordPress. WordPress bundles PHPMailer. If BC was broken, there would be serious problems. It's very easy to go out and say, \"hey let's require PHP 5.5+\". WordPress often gets people complaining alot about why we don't upgrade our minimum version to 5.5+. Because we know, that of all of the people who are using WordPress right now only 12.5% of them are on PHP 5.5 or higher. \nIf you assume, and I would since hosting providers are pretty uniform, that you can take WordPress's 24% of the internet statistics for PHP usage as a representative percentage of the overall internet, then just under half of the internet is running either PHP 5.2 or PHP 5.3 (almost evenly divided at just over a third each). \nThis is why BC breaks should be avoided unless they are actually necessary. I agree completely with @Synchro on the matter. Hopefully, hosts will start upgrading people's PHP versions so that we can all move up.\nRef: https://wordpress.org/about/stats/. Snapshot as of this morning.\n. If you do a split, I would strongly encourage adding PHP 7.0 compatibility to the 5.2 branch as well.\n. ",
    "chris001": "Interesting discussion. The way I propose to best do this is, to make an \"interface\" of the current 5.2.x version, in other words, no breakage of any of the function calls, constructors, etc, but separate them from the actual implementation by means of an interface, call it the \"old interface\".  Then, make a \"new interface\" that maybe has slightly better or different methods..Finally, the implementation class would handle how the data and functionality actually works on the inside.  By separating the interfaces from the implementation, it's possible to maintain support for the \"old interface\" as well as the \"new interface\", while improving the implementation as you rightfully argue it should be improved, and uses of the old interface won't notice anything, while the devs and contributors are thrilled by getting to build inside of a far more organized and well put together implementation.\n. > Since we are now committed to making some BC breaks, does anyone have anything particularly pressing (but minor!) they would like changing?\nSecurity.\n1. Check and respect CRL for SSL certs. Fail on revoked certs.\n2. Check and respect DNSSEC flags. Fail DNS lookup for spoofed entries.\n3. Check and respect TLSA records for all IP socket communication with servers. Fail on spoofed entries.\n4. If using IP56, check IPsec available, if yes, enable it.\n. > Since we are now committed to making some BC breaks, does anyone have anything particularly pressing (but minor!) they would like changing?\nSecurity.\n1. Check and respect CRL for SSL certs. Fail on revoked certs.\n2. Check and respect DNSSEC flags. Fail DNS lookup for spoofed entries.\n3. Check and respect TLSA records for all IP socket communication with servers. Fail on spoofed entries.\n4. If using IP56, check IPsec available, if yes, enable it.\n. 1. The internet traffic communications performed by PHPmailer should be encrypted by default with current widely accepted strong protocols and should fail by default if it cannot be encrypted, instead of falling back to cleartext to weak encryption like RC4/MD5/EXPORT etc.\n2. PHPmailer should use secure DNSSEC by default so as to not be tricked into sharing mail contents with a spoofed remote SMTP server.\n3. The email message should also probably be encrypted by default, where possible (depends on having keys installed at both sender and receiver), this is not always possible, so it can be best effort.\n4. PHPmailer should not contribute to the spam problem - it should help reduce spam by dropping emails which a user is trying to send as a spoofed domain.  This is very easy to do.  I'm not talking about emails from the famous example.com for testing the software.  I'm talking about the very famous spoofed emails from a fake sender pretending to be paypal.com and swissbank.ch where the sender is trying to phish the account login details out of the victim and depends on phpmailer to forward the email into the internet in the hopes that 1/1000 people who read it will fall into the trap.\n. 1. The internet traffic communications performed by PHPmailer should be encrypted by default with current widely accepted strong protocols and should fail by default if it cannot be encrypted, instead of falling back to cleartext to weak encryption like RC4/MD5/EXPORT etc.\n2. PHPmailer should use secure DNSSEC by default so as to not be tricked into sharing mail contents with a spoofed remote SMTP server.\n3. The email message should also probably be encrypted by default, where possible (depends on having keys installed at both sender and receiver), this is not always possible, so it can be best effort.\n4. PHPmailer should not contribute to the spam problem - it should help reduce spam by dropping emails which a user is trying to send as a spoofed domain.  This is very easy to do.  I'm not talking about emails from the famous example.com for testing the software.  I'm talking about the very famous spoofed emails from a fake sender pretending to be paypal.com and swissbank.ch where the sender is trying to phish the account login details out of the victim and depends on phpmailer to forward the email into the internet in the hopes that 1/1000 people who read it will fall into the trap.\n. ",
    "ravisorg": "I just committed a subclass that does PGP signing / encryption and am looking for a few people to test / break it. If anyone is interested, issue #505 might be for you.\n. @ooxi only posted it here because encryption was one of the features mentioned on the \"plans for phpmailer\" above. Seemed relevant. \n. @AZimmerhofer I just committed a subclass that does PGP signing / encryption and am looking for a few people to test / break it. If you're still interested, issue #505 might be for you.\n. @7henry767 I just committed a subclass that does PGP signing / encryption and am looking for a few people to test / break it. If you're still interested, issue #505 might be for you.\n. Also (forgot to ask) what is the minimum version of PHP that PHPMailer aims to support? ie: I'd like to know which built in functions I can use, and which I need to avoid. \n. > Excellent news - I know this has been asked for in the past.\nIf anyone is looking to use this, the first commit here https://github.com/PHPMailer/PHPMailer/commit/beeabb17527b4c9488b5d4810c444ddb8cef9555. It works, but as the comments indicate it's probably not production ready and currently requires the gpg command line client and they keys in the user's keychain. Both of those requirements should be easy to remove, but I wanted to get something up.\n\nOfficially, PHPMailer supports back to PHP 5.0 :scream:\n\nThat's actually better than I was expecting :)\n\nThere is really too much stuff in the main class, so the child class route is the way to go - look at how the XOAUTH2 support has been done for an example.\n\nAgreed, and done.\n\nnew features (not causing BC breaks) may be added in subclasses that can require later versions - for example the XOAUTH2 class needs PHP 5.4 because the OAUTH class it uses needs that\n\nPerfect, in that case I won't worry too much about it :)\nSub-question: would pulling PHPMailer::sign() from the main class and moving it to a child class (eg: PHPMailerSMIME) be a possibility? I suppose it's not a huge deal, but that generic \"sign\" function name could be used for any method of signing, not just SMIME.\nI ask because I'm not sure how recently that functionality was added. If it's been around for awhile perhaps you don't want to mess with it. If it's fairly new, maybe having an SMIME class would be useful (I've been toying with the idea of getting SMIME encryption working once PGP is done).\n. Rewritten and (possibly) useful now. PHPMailerPGP https://github.com/ravisorg/PHPMailer/blob/openpgp/class.phpmailerpgp.php\nI'd like to use it for a bit to make sure there are no massively obvious problems in the design of the class before issuing a pull request, but it's been working well for me so far.\nTesters / bug reports would be very welcome.\n. Re-opening this (sorry!) just to mention that I've updated it to the current master and added support for Memory Hole protected headers (eg: encrypted subject lines) as well as updated the README.md page in my branch to give some info / examples. https://github.com/ravisorg/PHPMailer/tree/openpgp\nI will update it to work off the 6.0 branch if/when I get a moment, but considering you asked that a year and a half ago... :/\nIt works in the meantime if anyone needs PGP support though. ",
    "ivantcholakov": "Will be 5.2.15 released anyway?\n. Not from me.\n. @Synchro\nWhat would you say about dual licensing MIT & LGPL?\nHere is the occasion for this question:\nhttps://github.com/bcit-ci/CodeIgniter4/issues/276#issuecomment-298488193. Hm, this line is commented: $mail->isSMTP(); // Set mailer to use SMTP\n. The author of this code fragment had the intention of supporting PHP 5.2.x, but code is simply wrong. Also, I don't see a reason for rewriting this simple algorithm twice. I can imagine this quick patch:\nphp\n    /**\n     * Clear queued addresses of given kind.\n     * @access protected\n     * @param string $kind 'to', 'cc', or 'bcc'\n     * @return void\n     */\n    protected function clearQueuedAddresses($kind)\n    {\n        //if (version_compare(PHP_VERSION, '5.3.0', '<')) {\n            $RecipientsQueue = $this->RecipientsQueue;\n            foreach ($RecipientsQueue as $address => $params) {\n                if ($params[0] == $kind) {\n                    unset($this->RecipientsQueue[$address]);\n                }\n            }\n        //} else {\n        //    $this->RecipientsQueue = array_filter(\n        //        $this->RecipientsQueue,\n        //        function ($params) use ($kind) {\n        //            return $params[0] != $kind;\n        //        });\n        //}\n    }\n. Thank you. :-)\n. @fbonzon Under \"wrong\" I meant the PHP parsing error. Forgive me if I gave another impression.\nEdit: Something similar to your trick would work on conditionally loaded files, then the PHP parser would not be disturbed.\n. An idea I can imagine for the moment:\n1- A new file class.phpmailerdiagnostics.php is to be created, it is to contain the implementations of the methods for diagnostics. The main class PHPMailer is to create an instance of PHPMailerDiagnostics and to use it for exposing public API for diagnostics.\n2- The main class PHPMailer could have a method called diagnose:\n``` php\npublic function diagnose($what) {\nstatic $diagnostics = null;\n\nif (!is_object($diagnostics)) {\n    // Create the diagnoser instance, inject the corresponding dependency.\n    $diagnostics = new PHPMailerDiagnostics($this);\n}\n\n// If it is necessary, the naming convention what -> method might be changed.\n$method = $what;\n\n// Take the parameters, skip the first one ($what).\n$parameters = func_get_args();\narray_shift($parameters);\n\nreturn call_user_func_array(array($diagnostics, $method), $parameters);\n\n}\n```\nEdit: I've slightly corrected this code.\nThis method (which means the implementations in the auxiliary class too) is to return boolean (success/failure), the textual details are to be stored within the currently implemented info for debugging.\n3- A good example to be implemented for illustration is this one https://github.com/PHPMailer/PHPMailer/blob/v5.2.14/examples/smtp_check.phps If the main class gives me this check respecting the set PHPMailers options, and in the way described above, then I could easily build within the administrator's area a page that tests the connection and giving feedback information. If PHPMailer is not set to use SMTP, the diagnostic method will return false, the debugging text will be sort of \"SMTP is not set as mailer's protocol.\".\n4- This way also could be useful for the existing integration libraries for PHPMailer, for upgrading they would only need to expose/translate the new method PHPMailer::diagnose().\n. Are you sure?\nhttps://github.com/PHPMailer/PHPMailer/blob/master/class.phpmailer.php#L3657\n. Actually, it is possible. http://php.net/manual/en/wrappers.data.php\nphp\necho file_get_contents('data://text/plain;base64,SSBsb3ZlIFBIUAo=');\nEdit, 19-MAR-2016: Probably I am wrong about whether it is possible, because there is file_exists() inside PHPMailer's code.\n. http://www.dkim.org/specs/rfc4871-dkimbase.html#def-selectors\nI've read this and my understanding remains the same. The public key has to be taken from somewhere and this option indicates how. Anyway.\n. ",
    "SDKiller": "@andig \nCould you add a README just to know what is this addon intended for?\nIMO, email providers like yandex and gmail give you enough info to configure mailer when you register account.\nCan mozzilla database be aware of something than provider itself isn't?\n. Is it a real problem with licenses? For example, Joomla CMS is under GPL itself, but is shipped with PHPMailer bundled.\n. I cannot confirm both your issues (this one and #317).\nI'm sending emails with SMTP.\n\n. @linuxundich \nI guess you kontakt class applies it's own validation rules before passes message to mailer:\n\n. > Why are you sending a backup by email?\n\n... an 18 MB attachment...\n\n@Synchro \nThis is pretty usual filesize for other cases, pdf for example , IMO the issue is valid.\n. I'm dealing right now with sending pdf offers by email in one project.\nHad never ran out of memory like @Sandest - so was even unaware that problem exists.\nI'll also try to test your workarounds and do some benchmarking in the next few days.\n. Thanks\n. @Synchro \nSorry )\nHad several browser tabs open at the time )\n. @Synchro \nhttps://github.com/thephpleague/oauth2-google/commit/e190d0b3c1a3c24e43e05ce40ab20b4420cf706e#diff-44f351f030488e63152615e12d7ac64cL41\n. BTW, they still kept instructions of setting the accessType in readme\nhttps://github.com/thephpleague/oauth2-google/blob/master/README.md#refreshing-a-token\nI guess it was removed accidentally in that fat commit.\n. @mfgabriel92 \nWhy are you using $_FILES['Arquivo']['tmp_name'] in addAttachment() instead of path you moved uploaded file to?\n. @mfgabriel92 \nWhy are you using $_FILES['Arquivo']['tmp_name'] in addAttachment() instead of path you moved uploaded file to?\n. IMO, diagnostic features should be put in separate class/file, not to overbloat class.phpmailer.php - it is too large itself.\n. @ildar-aim \nThis particular - not\nhttps://github.com/PHPMailer/PHPMailer/blob/master/class.phpmaileroauthgoogle.php#L4\n. @Synchro \nBTW, https://github.com/thephpleague/oauth2-client/blob/master/composer.json#L6\n. https://github.com/PHPMailer/PHPMailer/blob/master/README.md#installation--loading\n\nIf you want to use Google's XOAUTH2 authentication mechanism, you need to be running at least PHP 5.4, and load the dependencies listed in composer.json.\n. Seems they released stable already with 5.5 requirements - change was introduced in https://github.com/thephpleague/oauth2-client/commit/e84bf29023ec96edc27e86795765b0e5bee1fbef\n\nMakes sense to rename 5.4 branch to 5.5 branch ;)\n. @albertoantunes \nJust try to 'Save as' file with such a filename in Excel in his presence ;)\n. @albertoantunes \nJust try to 'Save as' file with such a filename in Excel in his presence ;)\n. IMO, it's easier for users, espesially on shared hosting tariffs, to contact support to enable mbstring, than to use composer to install additional dependencies.\nMore to say - nowadays, anno 2016, it is difficult to imagine hosting with mbstring disabled.\nSuggested polyfill is an overbloat.\n. IMO its overkill for this purpose, depends on platform, availability of /dev/urandom and throw unnesessary exception if it fail.\n. @udf2457 \nI wonder, have you seen \"as per PHP docs\" in which php version it was introduced?\n. IMO fix should be L1299:\n&& (!empty($this->DKIM_private_string) || (!empty($this->DKIM_private) && file_exists($this->DKIM_private)))) {\n. Maybe it should be not property at all - but implemented as protected method to retrieve patterns list.\nUser may subclass to override method - for example to retrieve patterns from database, etc.\n. > I could use some help with 6.0 if you have time - it's really pretty complete, really just needs a last sanity check before release.\nYes, this is just what I was going to do this week.\nI need to upgrade several projects and testing 6.0 on them was planned already.. https://github.com/PHPMailer/PHPMailer/pull/843/commits/806f5cfab226a3d8584bf95a0ed5fcc228c92a65\n?. I'd agree with @orlitzky - if someone is able to open files in your vendor directory in browser - you're most probably doing something wrong - all that should be available from webroot is css, js, images and index.php as entry point.\nAbovementioned \"pentesting\" says exactly that - some developers are doing it wrong and it is not phpmailer fault.\nAnyway talking about docs as a point of version disclosure we forget about X-Mailer header which not every webmaster removes.\nOf course tests, travis config, etc. shoud not be included in tarball.. @SscSPs \nhttp://php.net/manual/en/language.basic-syntax.phptags.php\n\nIf a file is pure PHP code, it is preferable to omit the PHP closing tag at the end of the file. This prevents accidental whitespace or new lines being added after the PHP closing tag, which may cause unwanted effects because PHP will start output buffering when there is no intention from the programmer to send any output at that point in the script. . IMO, for consistency curly braced should be used like in the rest of the code.\nOtherwise it makes code readability worse.\n. I suppose changelog and README could be preserved in production\n. \n",
    "ooxi": "Moreover I would argue that the default behavior of PHPMailer should be works everywhere not as secure as possible. I'm not arguing for shipping an insecure default configuration, but a hardened configuration is not what I think the average user expects from this library.. If the mails are sent successfully (your mail server tells you that, right?) than your problem is somewhere else. Have you checked the spam folder?\n. @Synchro this is speculation but we are experiencing huge troubles with the Office 365 SMTP connector ourselfs. It looks like the deployed servers are not stable at all.\n. Is there a reason for not merging this patch @Synchro? We can always add a nosecure option to enable insecure behaviour.\n. On the one hand I think you are right, introducing such a change would be backwards incompatible though with a very easy solution of enabling SSLallowInsecure.\nOn the other hand an api client using smtps expresses her wish to communicate securely or not at all. Not providing this behaviour should be considered a bug. The python community had a recent discussion about the same topic and many people where astonished of the default behaviour even though there are big warnings in the documentation, which is not the case with PHPMailer.\n. Then how about extending the options available for SMTPSecure to include ssl-verify / tls-verify? This way '' means no encryption / verification, ssl / tls means encryption without verification and ssl-verify / tls-verify means encryption and verification.\nUsing one instead of two parameters is not the best API design but it's user friendly since the average joe will stop searching for a second property enabling verification when he already found a property to turn on encryption. This way users will at least see that there's a difference between encryption and verification, especially if we use ssl-verify in all examples.\n. I don't agree that we break everything. With the proposed change (adding ssl-verify) we only break stuff iff the user explicitly asked for certificate verification and did not set up the correct CA path.\nOf cause the fundamental problem remains the same but I think we cannot change it until we require PHP 5.6\n. I'm not sure this is a good idea since we have to deal with legacy systems.\n. :+1: \n. I'm quite sure that's not a problem in PHPMailer since it doesn't touch your message in such a way. It seams something is filtering out CSS tags on the way. Try a test SMTP server and you'll see the message will be received as send.\n. :+1:\n. It looks like smtp.sendgrid.net is accepting plain login, whereas GMail requires OAuth. Also it does not really work, as you are using smtp.sendgrid.net to send an E-Mail from xxx@gmail.com. Most recipients will drop the mail since your mail server is not allowed to send E-Mails in the name of gmail.com. Sorry I was pointing you at the wrong example, please try gmail_xoauth. Also since it's quitting immediately after STARTTLS your CA certificates might be out of date.. If the XOAuth example also does not work, try adding this from the troubleshooing guide:\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\nPlease note that this is not a real solution since it allows active eavesdropping. It's just a quick test to check whether your CA certificates need to get updated.. We're getting closer :-)\nPlease execute composer require league/oauth2-google to download a Google OAuth implementation from The League and then retry.. You should not have to change anything between lines 58 to 77.\nYou have to configure your account credentials in lines 48 to 56.. If you don't know where to get those credentials, please make sure to follow the GMail OAuth Guide :-). While I'm glad you like PHPMailer, this question actually is not about PHPMailer itself but about general application development. I'm happy to help you on stackoverflow, if you'll link the question, but this is not the right forum for such a discussion.. Please don't paste your password :-( Or is this just a dummy as well?\nThe mail server accepts the mail so there does not seem anything wrong here. You'd have to check the mail server logs. Maybe your mail is graylisted, can you send an E-Mail to hke14@mail.aub.edu from zanyservices@zany.online using a normal mail client?. The dump still contains your password, please update your issue with the following content\n~~~\n2017-05-05 12:45:54 Connection: opening to ssl://gator4093.hostgator.com:465, timeout=300, options=array ( )\n2017-05-05 12:45:54 Connection: opened\n2017-05-05 12:45:54 SERVER -> CLIENT: 220-gator4093.hostgator.com ESMTP Exim 4.87 #1 Fri, 05 May 2017 07:45:54 -0500 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\n2017-05-05 12:45:54 CLIENT -> SERVER: EHLO www.zany.online\n2017-05-05 12:45:54 SERVER -> CLIENT: 250-gator4093.hostgator.com Hello www.zany.online [192.185.4.105] 250-SIZE 52428800 250-8BITMIME 250-PIPELINING 250-AUTH PLAIN LOGIN 250 HELP\n2017-05-05 12:45:54 CLIENT -> SERVER: AUTH LOGIN\n2017-05-05 12:45:54 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-05-05 12:45:54 CLIENT -> SERVER: emFueXNlcnZpY2VzQHphbnkub25saW5l\n2017-05-05 12:45:54 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-05-05 12:45:54 CLIENT -> SERVER: ***\n2017-05-05 12:45:54 SERVER -> CLIENT: 235 Authentication succeeded\n2017-05-05 12:45:54 CLIENT -> SERVER: MAIL FROM:\n2017-05-05 12:45:54 SERVER -> CLIENT: 250 OK\n2017-05-05 12:45:54 CLIENT -> SERVER: RCPT TO:\n2017-05-05 12:45:54 SERVER -> CLIENT: 250 Accepted\n2017-05-05 12:45:54 CLIENT -> SERVER: DATA\n2017-05-05 12:45:54 SERVER -> CLIENT: 354 Enter message, ending with \".\" on a line by itself\n2017-05-05 12:45:54 CLIENT -> SERVER: Date: Fri, 5 May 2017 07:45:54 -0500\n2017-05-05 12:45:54 CLIENT -> SERVER: To: Shab ElNoux\n2017-05-05 12:45:54 CLIENT -> SERVER: From: Root User\n2017-05-05 12:45:54 CLIENT -> SERVER: Subject:\n2017-05-05 12:45:54 CLIENT -> SERVER: Message-ID:\n2017-05-05 12:45:54 CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.23 (https://github.com/PHPMailer/PHPMailer)\n2017-05-05 12:45:54 CLIENT -> SERVER: MIME-Version: 1.0\n2017-05-05 12:45:54 CLIENT -> SERVER: Content-Type: text/plain; charset=iso-8859-1\n2017-05-05 12:45:54 CLIENT -> SERVER:\n2017-05-05 12:45:54 CLIENT -> SERVER: This is the HTML message body in bold!\n2017-05-05 12:45:54 CLIENT -> SERVER:\n2017-05-05 12:45:54 CLIENT -> SERVER: .\n2017-05-05 12:45:54 SERVER -> CLIENT: 250 OK id=1d6ccM-0005wc-Mj\n2017-05-05 12:45:54 CLIENT -> SERVER: QUIT\n2017-05-05 12:45:54 SERVER -> CLIENT: 221 gator4093.hostgator.com closing connection\n2017-05-05 12:45:54 Connection: closed\n~~~\nNevertheless your server tells you the message will be delivered (2017-05-05 12:45:54 SERVER -> CLIENT: 250 OK id=1d6ccM-0005wc-Mj). Search the server logs for 1d6ccM-0005wc-Mj to find out what happed with your message.\nWhat i think is ood is To and From do not contain the E-Mail addresses, only the name. The google/auth popularity mostly seams to come from it's dependent google/apiclient. I don't really see why we should switch (and possibly introduce bugs) unless league/oauth2-google becomes unmaintained or google/auth becomes the clear superior choice.\nNevertheless when initially integrating OAuth into PHPMailer I would have chosen google/auth over league/oauth2-google if it would have been available at that time.. I most certainly see your point, but currently more libraries depend on league/oauth2-google than on google/auth (though much more people are downloading google/auth, most likely through google/apiclient).\nIn my opinion we should at least wait until the situation becomes more clear. In the long term google/auth will be likely the preferred choice.. Please paste an error log. Why would the keys be set, you could access the page with a GET request.. Please take a look at the documentation :-). Hi @naveenkumarseo,\nthanks for your interest in PHPMailer! However a question like this is much more suitable for a discussion forum like stackoverflow since PHPMailer is concerned with sending mails, not managing mailing lists :-)\nKind regards\n-- ooxi. ",
    "steffenschebesta": "If I use quoted-printable encoding there is no need for line wrap at all, right?\nShouldn't the standard be quoted-printable then?\n. Alright, it's a won't fix then I guess. \nI will close the issue.\nThanks for the quick response!\n. ",
    "zdenekvecera": "Perfect! Thank You!\n. Hello @Synchro , I have the same problem on one server.\n```\n$phpMailer = new PHPMailer();\n$phpMailer->setFrom('XXX');\n$phpMailer->addAddress('XXX');\n$phpMailer->Body    = 'Test';\n$phpMailer->AltBody = 'Test';\n$phpMailer->Subject='Bar';\n$phpMailer->DKIM_domain='XXX';\n$phpMailer->DKIM_private='XXX';\n$phpMailer->DKIM_selector='XXX';\n$phpMailer->DKIM_identity='XXX';\n$phpMailer->DKIM_passphrase='';\n//Suppress listing signed header fields in signature, defaults to true for debugging purpose\n//$phpMailer->DKIM_copyHeaderFields = false;\n//Optionally you can add extra headers for signing to meet special requirements\n//$phpMailer->DKIM_extraHeaders = ['List-Unsubscribe', 'List-Help'];\nif (!$phpMailer->send()) {\n    echo \"Mailer Error: \" . $phpMailer->ErrorInfo;\n} else {\n    echo \"Message sent!\";\n}\n```\nValidation of the above code on DKIM is fail.\nIf I set as an empty string $phpMailer->AltBody = ''; validation is a pass.\nI have a problem only on one server, on the other not (they have different configurations).\nI tried setting DKIM_copyHeaderFields to true / false, but it did not help.\nSimilarly, the presence of DKIM_extraHeaders did not help.\nI'm testing on the released version 6.0.5 and on the current Master.\nIs it possible that this may cause updating the post server (Postfix) or something? Any version about June this year? Because everything worked at the beginning of the year.\nDo you have any idea where can be a problem please?\nThanks!. Addition to this post https://github.com/PHPMailer/PHPMailer/issues/1352#issuecomment-413066300:\nHeaders (returned by site http://www.appmaildev.com/en/dkim):\nReport-Id: 3ebf0431\nSender: neodpovedat@ukazweb.cz\nSource-IP: 91.239.201.28\nValidator-Version: 1.05\nx-sender: neodpovedat@ukazweb.cz\nx-receiver: test-3ebf0431@appmaildev.com\nReceived: from replikant73.thinline.cz ([91.239.201.28]) by appmaildev.com with Microsoft SMTPSVC(8.5.9600.16384);\n     Wed, 15 Aug 2018 12:31:42 +0000\nReceived: by replikant73.thinline.cz (Postfix, from userid 1051)\n    id 83894A65; Wed, 15 Aug 2018 14:31:41 +0200 (CEST)\nAuthentication-Results: replikant73.thinline.cz;\n    dkim=fail reason=\"signature verification failed\" (2048-bit key; unprotected) header.d=ukazweb.cz header.i=neodpovedat@ukazweb.cz header.b=\"KPogShJr\";\n    dkim-atps=neutral\nDate: Wed, 15 Aug 2018 14:31:40 +0200\nFrom: =?utf-8?Q?Laser_Ar=C3=A9na_Kom=C3=A1rno?= <neodpovedat@ukazweb.cz>\nReply-To: =?utf-8?Q?Laser_Ar=C3=A9na_Kom=C3=A1rno?= <info@ukazweb.cz>\nTo: \"test-3ebf0431@appmaildev.com\" <test-3ebf0431@appmaildev.com>\nMessage-ID: <wpC6yNW4mnWMBTcQ8nhn3oyDLqOC3z27P4maS1wvE@admin.rezervacnisystemprolaserareny.cz>\nSubject: Test\nMime-Version: 1.0\nContent-Type: multipart/alternative;\n boundary=b1_wpC6yNW4mnWMBTcQ8nhn3oyDLqOC3z27P4maS1wvE\nContent-Transfer-Encoding: 7bit\nX-PHP-Originating-Script: 1051:PHPMailer.php\nX-Mailer: PHPMailer 6.0.5 (https://github.com/PHPMailer/PHPMailer)\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=301;\n s=rezervacnisystemprolaserarenycz; t=1534336300; c=relaxed/simple;\n h=From:To:Date:Subject; d=ukazweb.cz; i=neodpovedat@ukazweb.cz;\n z=From:=20=3D?utf-8?Q?Laser_Ar=3DC3=3DA9na_Kom=3DC3=3DA1rno?=3D=20<neodpovedat@ukazweb.cz>\n |To:=20\"test-3ebf0431@appmaildev.com\"=20<test-3ebf0431@appmaildev.com>\n |Date:=20Wed,=2015=20Aug=202018=2014:31:40=20+0200 |Subject:=20Test;\n bh=s7j4Gf5Us+q/pv4uMWq434BONFLt4npE0s9Jcjb/4jw=;\n b=KPogShJrtAuryF6pKHL/8+iYwS6yGAfdS055napA4Xxh3zwerrLxVo5AOh7VasXDSicNZ0l5qB7idMjT5+YEiETqV4Jj6oig9yTFqEMgSKyUWfpsPqzTSznXUmewQI4MNTYh/t5aXafQZ7C6AY/hsm3mxgy6+YgdmjtakV5iJNw3cbvnGbP7UoaaWK8pKtBMzoaGYgvgG23lkNL2LbIyyfZT1M6vhmZSGSyDAoUoFlYgYm9md6QSEapnd2LcV5B7hCVcpekSB4mvKueOixegXy+gfIpJXsSii9+g6b8bwTuI6REx60YFa7sLXR0QqbVoxSTUs7BzN9DPCJwcooLrhA==\nX-Thin-Control-Number: 1051\nReturn-Path: neodpovedat@ukazweb.cz\nX-OriginalArrivalTime: 15 Aug 2018 12:31:43.0072 (UTC) FILETIME=[EC599E00:01D43493]\nDKIM fail:\n```\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=301;\n s=rezervacnisystemprolaserarenycz; t=1534336300; c=relaxed/simple;\n h=From:To:Date:Subject; d=ukazweb.cz; i=neodpovedat@ukazweb.cz;\n z=From:=20=3D?utf-8?Q?Laser_Ar=3DC3=3DA9na_Kom=3DC3=3DA1rno?=3D=20<neodpovedat@ukazweb.cz>\n |To:=20\"test-3ebf0431@appmaildev.com\"=20<test-3ebf0431@appmaildev.com>\n |Date:=20Wed,=2015=20Aug=202018=2014:31:40=20+0200 |Subject:=20Test;\n bh=s7j4Gf5Us+q/pv4uMWq434BONFLt4npE0s9Jcjb/4jw=;\n b=KPogShJrtAuryF6pKHL/8+iYwS6yGAfdS055napA4Xxh3zwerrLxVo5AOh7VasXDSicNZ0l5qB7idMjT5+YEiETqV4Jj6oig9yTFqEMgSKyUWfpsPqzTSznXUmewQI4MNTYh/t5aXafQZ7C6AY/hsm3mxgy6+YgdmjtakV5iJNw3cbvnGbP7UoaaWK8pKtBMzoaGYgvgG23lkNL2LbIyyfZT1M6vhmZSGSyDAoUoFlYgYm9md6QSEapnd2LcV5B7hCVcpekSB4mvKueOixegXy+gfIpJXsSii9+g6b8bwTuI6REx60YFa7sLXR0QqbVoxSTUs7BzN9DPCJwcooLrhA==\nSigned-by: neodpovedat@ukazweb.cz\nExpected-Body-Hash: x9Dt+TwVsQ/X4vr0oSXyH2qg5Qf6gm78pw53XRXBV8M=\nDKIM-Result: fail (wrong body hash: s7j4Gf5Us+q/pv4uMWq434BONFLt4npE0s9Jcjb/4jw=)\n``. @Maikuolan: I'm sorry but I do not use Gmail for sending.. When I set a empty$mail->AltBody = '';`\nHeaders (returned by site http://www.appmaildev.com/en/dkim):\nReport-Id: 85c4fe00\nSender: neodpovedat@ukazweb.cz\nSource-IP: 91.239.201.28\nValidator-Version: 1.05\nx-sender: neodpovedat@ukazweb.cz\nx-receiver: test-85c4fe00@appmaildev.com\nReceived: from replikant73.thinline.cz ([91.239.201.28]) by appmaildev.com with Microsoft SMTPSVC(8.5.9600.16384);\n     Wed, 15 Aug 2018 12:39:38 +0000\nReceived: by replikant73.thinline.cz (Postfix, from userid 1051)\n    id 82E908E7; Wed, 15 Aug 2018 14:39:37 +0200 (CEST)\nAuthentication-Results: replikant73.thinline.cz;\n    dkim=pass (2048-bit key; unprotected) header.d=ukazweb.cz header.i=neodpovedat@ukazweb.cz header.b=\"puqI/c1y\";\n    dkim-atps=neutral\nDate: Wed, 15 Aug 2018 14:39:36 +0200\nFrom: =?utf-8?Q?Laser_Ar=C3=A9na_Kom=C3=A1rno?= <neodpovedat@ukazweb.cz>\nReply-To: =?utf-8?Q?Laser_Ar=C3=A9na_Kom=C3=A1rno?= <info@ukazweb.cz>\nTo: \"test-85c4fe00@appmaildev.com\" <test-85c4fe00@appmaildev.com>\nMessage-ID: <Adl57cwNi6XLrD5FkXnS9VqfsRGFDsgIx2jZfnvZs@admin.rezervacnisystemprolaserareny.cz>\nSubject: Test\nMime-Version: 1.0\nContent-Type: text/html;\n charset=utf-8\nContent-Transfer-Encoding: 7bit\nX-PHP-Originating-Script: 1051:PHPMailer.php\nX-Mailer: PHPMailer 6.0.5 (https://github.com/PHPMailer/PHPMailer)\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=6;\n s=rezervacnisystemprolaserarenycz; t=1534336776; c=relaxed/simple;\n h=From:To:Date:Subject; d=ukazweb.cz; i=neodpovedat@ukazweb.cz;\n z=From:=20=3D?utf-8?Q?Laser_Ar=3DC3=3DA9na_Kom=3DC3=3DA1rno?=3D=20<neodpovedat@ukazweb.cz>\n |To:=20\"test-85c4fe00@appmaildev.com\"=20<test-85c4fe00@appmaildev.com>\n |Date:=20Wed,=2015=20Aug=202018=2014:39:36=20+0200 |Subject:=20Test;\n bh=fdkeB/A0FkbVP2k4J4pNPoeWH6vqBm9+b0C3OY87Cw8=;\n b=puqI/c1yDDWE1AFnNqeBQzcoIS3KyiOlyCFZ06wrQbFzFE2xg/JFDZpk47B9zg71CRXEFmHAt2jHRV+MWdCfBWJUfTcqtXnTYnYVLNPtCqU+32ZLYiRiABeCC+OFCSoymwWVSTI0aok8hDXlxw+xSTi8D96CiIICxwD3geHHr7AN9WYS6XNa9SZPBwtff2VcJIs/geTeoSA2DsBuwBU6CoexcXBG6+f+kEzxNP31nKA8ZNNZP5dFpHYJzoGoWWDk4ma41Zx56gD6/ORtIyrJXvyQdssWe2JMxVLGglf8HqHFiaKNggeG7HByWikqqWeVZjkt39cuODxdQy9mEL2odg==\nX-Thin-Control-Number: 1051\nReturn-Path: neodpovedat@ukazweb.cz\nX-OriginalArrivalTime: 15 Aug 2018 12:39:38.0986 (UTC) FILETIME=[080454A0:01D43495]\nDKIM pass:\n```\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=6;\n s=rezervacnisystemprolaserarenycz; t=1534336776; c=relaxed/simple;\n h=From:To:Date:Subject; d=ukazweb.cz; i=neodpovedat@ukazweb.cz;\n z=From:=20=3D?utf-8?Q?Laser_Ar=3DC3=3DA9na_Kom=3DC3=3DA1rno?=3D=20<neodpovedat@ukazweb.cz>\n |To:=20\"test-85c4fe00@appmaildev.com\"=20<test-85c4fe00@appmaildev.com>\n |Date:=20Wed,=2015=20Aug=202018=2014:39:36=20+0200 |Subject:=20Test;\n bh=fdkeB/A0FkbVP2k4J4pNPoeWH6vqBm9+b0C3OY87Cw8=;\n b=puqI/c1yDDWE1AFnNqeBQzcoIS3KyiOlyCFZ06wrQbFzFE2xg/JFDZpk47B9zg71CRXEFmHAt2jHRV+MWdCfBWJUfTcqtXnTYnYVLNPtCqU+32ZLYiRiABeCC+OFCSoymwWVSTI0aok8hDXlxw+xSTi8D96CiIICxwD3geHHr7AN9WYS6XNa9SZPBwtff2VcJIs/geTeoSA2DsBuwBU6CoexcXBG6+f+kEzxNP31nKA8ZNNZP5dFpHYJzoGoWWDk4ma41Zx56gD6/ORtIyrJXvyQdssWe2JMxVLGglf8HqHFiaKNggeG7HByWikqqWeVZjkt39cuODxdQy9mEL2odg==\nSigned-by: neodpovedat@ukazweb.cz\nExpected-Body-Hash: fdkeB/A0FkbVP2k4J4pNPoeWH6vqBm9+b0C3OY87Cw8=\nPublic-Key: v=DKIM1; h=sha256; t=s; p=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5AcTJrW00qfCQJKCrntWIQHn/xXbibc2nCygOse9RI+UPKTZe7hH3VI/e8zOidJgSitdN14PFETPOGKGFcVcH8oc9RBZ+cUB8igJKbVhFJVa5ixiuyIWZlWPhjS3fsnAoAqQ7053JbrzgtnHCFc7eS1h4+lJO6mfyvwXaQYqz5sDjiOjCqXA0sF94Ef5R/LsKMwJAJqODo4rGaD0BNLN9+o1x4wNpRv/1r8MJEquZU3Xxp/faf3RYWVwIERrX4wl8drBFclpU2uO0aYXya3RudDi97QDdAR72xO4kz49gsG45g9MtN3V2AZ6hSN43rHHZIgzw3iztSVzpdaP6lQPswIDAQAB;\nDKIM-Result: pass\n```. I have a similar problem with the subject (https://github.com/PHPMailer/PHPMailer/issues/1526). I set STD_LINE_LENGTH = 255, which solved my problem. @lukasmedia, thanks!. My problem solved set STD_LINE_LENGTH = 255 (via https://github.com/PHPMailer/PHPMailer/issues/1406#issuecomment-413933112).. ",
    "mtrans": "I'm using Version: 5.2.2 of PHPMailer, default library with no changes.\nThe body is loaded using:\n$g_pBody                =   file_get_contents(\"file.html\");\nAnd mail parameters are being set as follow:\n            $pMail->WordWrap            =   78;\n            $pMail->Encoding            =   \"base64\";\n            $pMail->CharSet             =   'utf-8';\n            $pMail->MsgHTML($g_pBody);\n            $pMail->IsHTML(true);       \nA regular send is performed afterwards:\n            $pMail->Send();\nNormal connection settings are being used:\n        $pMail->IsSMTP();\n        $pMail->SMTPAuth                =   true;\n        $pMail->SMTPSecure          =   \"tls\";\n        $pMail->Port                    =   ;\n        $pMail->Host                    =   ;\n        $pMail->Username                =   \"\";\n        $pMail->Password                =   \"\";\n        $pMail->SMTPDebug           =   true;   \nNothing happens with the body after it's being loaded from the file.html except for the encoding in PHPMailer.\nI'm aware of the 8bit/quoted-printable encoding tho, for this specific project I'm forced to use base64..\nThanks for the quick pickup!\n. Thanks for the prompt response, I encountered the same error in version 5.2.6, I'll have to take a look at 5.2.7 to figure out if the error is gone there!\n. ",
    "rec0ildk": "Thanks for the answer, so far i haven't found the problem either.. But like i said, I'm not a very good coder. Could you explain me where to add \"$mail->Encoding = '8bit';\" I've tried some different places, but I believe i put it wrong. \n. Here you go Synchro, hope to hear from you soon\nconfig.php\nhttp://pastebin.com/sbessf6j\nfunctions.php\nhttp://pastebin.com/yxpzpQ5U\n. Keys? Is that a bad thing :o: \nSame issue occured when i tried adding those codes..\n. ohh thats the recaptcha keys, they are not in function and also outdated to be honest. So doesn't matter\nand also the passwords are not mine, nor in function i believe. So those doesn't matter neither.\nHmm so i have this file called \"form-validation.php\" which uses the sanitize as well.\nhttp://pastebin.com/0XYyuJLV\nBut this is already encoded in UTF-8.. \n. Yeah sure, here you go:\nEn ny besked er modtaget fra DejaVu official hjemmeside.\nFirst Name: Test name\nEmail: test@mail.com\nComments: Each line has a different letter.\n&Atilde;&cedil;\n&Atilde;&yen;\n&Atilde;&brvbar;\nBeskeden blev sendt: 08-02-2013 Kl. 3:39 PM\n. oh okay damn.\nWell heres the source code:\nhttp://pastebin.com/V8TuX1bi\n. actually think i broke the source code by forwarding the message.\nHeres one directly from the message inside gmail:\nhttp://pastebin.com/0vEHK5Bq\n. Seems like this is getting way to complicated for me to understand. I might just let it be and whenever i receive an e-mail with speciel letters, i will just have to use the in-build replace on notepad to replace the htmlentities with the right letters.\nThanks for your help Synchro, sorry i can't be to any help in this, but my knowledge just isn't big enough for this.\nLet me know if you have any ideas on how i could get this fixed, greatly appreciated.\n. ",
    "coffeeshopcoder": "Issue has been resolved. I was using a SSL connection to port 465. I had contacted my hosting provider to check on SMTP request restrictions, and today the same code works fine with the email address above. Thanks anyway, I'll contribute anything else that comes up while using PHPMailer.\n. ",
    "amityweb": "I agree that some files may or not be needed, the core class files, thats fine, but the docs and examples are different... Over the years would have hundreds of websites. So I would not want all these unused docs and example files uploaded to the server. Thats my reasoning.\nI figured out I only need at most 3 files so uploaded those only. The class.* files. \nThanks\n. ",
    "mjanda": "Ok, now I see the comment above. So I guess I need to call MsgHTML() first and only then set AltBody.\n. ",
    "rocketapi": "I agree, supporting the RFC is the correct call on this.  You should be using a local mail server instead of trying to \"correct\" your issue by lowering the timeout.\n. I updated the PR to remove the creation of the Return-Path header and removed the DisableReturnPath property that I had created.\n. ",
    "rizwansultan88": "I tried swiftmailer and mail function but same issue.\n. ",
    "oyejorge": "I like to avoid using preg_match too, but using explode() here would break any uses where the protocol is part of the host string. For example: ssl://smtp.gmail.com:465\n. Absolutely. I was playing around with that situation and noticed that a host string  of tls://smtp.live.com:587 would have to be stripped of the tls:// in order for $this->smtp->connect() to work.\n. The only thing I see with that code is that the ssl:// prefix wouldn't be prepended for anyone still using the $mailer->SMTPSecure = 'ssl' option.\n. ",
    "tushe": "Hi, I have the same problem:\nFatal error: Class 'SMTP' not found in /home/nuoviamici.net/public_html/PHPMailer/class.phpmailer.php on line 1147\nI did:\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\nbut it doesn't work...\n. Thanks for answer. \nYes, the autoloader is in the same folder of classes, I have this error:\nFatal error: Class 'PHPMailer' not found in /home/nuoviamici.net/public_html/inserisci_cliente.php on line 188\nwith:\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\n. It works perfectly in my local webserver, the problem is when I transfer the website to remote webserver\n. Thanks, the hosting company's webserver has a old PHP version, i solved my problem!\n. ",
    "krishaa": "hi Synchro, am also facing the same problem,\nFatal error: Class 'SMTP' not found in C:\\Inetpub.....\\beta\\httpdocs\\mailing\\PHPMailer-master\\class.phpmailer.php on line 1147\nam new to this mail application. i don't know where to put that\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\ncan u pls help me in this......\n. ",
    "sam4444": "Hi Synchro,\nI am changed that you say but my error not solve please visit this website contact form and see error and please given me solution.\nhttp://codewavedeveloper.com/Contact_Us.php\ni don't know what is PHP Version of my webserver. Please do needful for this.\n. I have added all file uploaded on server with PHPMailer folder that is create problem to finding the SMTP class ? \nyou suggest require code like this:\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\nIn my file code is:\nrequire 'PHPMailer/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n. below are the my web server php version: 5.2.17\n. ",
    "DarkViper": "sometimes i got problems in class.phpmailer.php (v.5.2.7)\n[575] require 'PHPMailerAutoload.php';\nthis statement tries to load from current working directory( or from PHP include path). But, it's not sure that in any case the working directory is identical to the directory where class.phpmailer.php is located.\n[575] require dirname(FILE).DIRECTORY_SEPARATOR.'PHPMailerAutoload.php';\nsets a clear definition which will work properly.\nhappy new year ;-)\n. sometimes i got problems in class.phpmailer.php (v.5.2.7)\n[575] require 'PHPMailerAutoload.php';\nthis statement tries to load from current working directory( or from PHP include path). But, it's not sure that in any case the working directory is identical to the directory where class.phpmailer.php is located.\n[575] require dirname(FILE).DIRECTORY_SEPARATOR.'PHPMailerAutoload.php';\nsets a clear definition which will work properly.\nhappy new year ;-)\n. ",
    "romaviv": "To solve the issue: \"Fatal error: Class 'SMTP' not found in...\" in PHP versions 5.1.2 to 5.3.0 you only need to delete last parameter at\nspl_autoload_register('PHPMailerAutoload', true, true);\nand change it as follows:\nspl_autoload_register('PHPMailerAutoload', true);\nspl_autoload_register was introduced in PHP 5.1.2 but the third parameter of that function was introduced in PHP 5.3.0.\n. ",
    "StewartCraig": "Hi Synchro\nI am having a similar problem to those mentioned above.  I am trying to use PHPMailer so that I can use AuthSMTP to send emails from my shopping cart (PhotoCart) \nMy web host (Dreamhost) constantly has it's mail servers blocked by hotmail and live.com and it has been suggested that I use authSMTP to prevent this from happening. \nAt the moment I get this error\nFatal error: Class 'SMTP' not found in /home/craigstew/photography-perth.com.au/Scripts/class.phpmailer.php on line 1194\nI have seen some suggestions you made above but the errors shown above are different to mine so I am not certain if the solution is the same and either way, I am not sure where to put this additional code.  \nMy web host  shows this in regards to the version of PHP:   PHP 5.4 x CGI\nI would be very grateful for any assistance you could provide. \nSincerely\nCraig Stewart\n. Hi Synchro\nI am having a similar problem to those mentioned above.  I am trying to use PHPMailer so that I can use AuthSMTP to send emails from my shopping cart (PhotoCart) \nMy web host (Dreamhost) constantly has it's mail servers blocked by hotmail and live.com and it has been suggested that I use authSMTP to prevent this from happening. \nAt the moment I get this error\nFatal error: Class 'SMTP' not found in /home/craigstew/photography-perth.com.au/Scripts/class.phpmailer.php on line 1194\nI have seen some suggestions you made above but the errors shown above are different to mine so I am not certain if the solution is the same and either way, I am not sure where to put this additional code.  \nMy web host  shows this in regards to the version of PHP:   PHP 5.4 x CGI\nI would be very grateful for any assistance you could provide. \nSincerely\nCraig Stewart\n. Hi Synchro\nI was told that of all the files in the folder, the ones needed to be put on the server are the hi-lighted ones in the screen grab.  Is this incorrect? \nYes they are all in the same location\n\nThe version I am using was downloaded 2 weeks ago. \nIf by \"Code?\" you are referring to this statement that I made  \" I am not sure where to put this additional code.\"  I am referring to your post above in this thread made on October 10, 2013.  \nCheers\nCraig\n. I have looked a the file highlighted on the right side, and on the left side is what I see when opening that file, which is the one that my Shopping cart is currently pointed at.  Is this the correct file to look at.  Sorry if my questions are very basic, I know very little about this subject.  Just a small business owner who has to wear the I.T. hat.\n\n. Hi\nCode\u2026 do you mean the file that was asked to create by AuthSMTP, and Dreamhost tutorial also has sample code which I have put below.  I have not used this particular code, but did implement the version that AuthSMTP asked me to do to test that their set up would work.  (it allows you to send a test email) \nProblem with the Dreamhost code sample is that I do not know what to call the resultant file and I do not know where to put it.\nMaybe this is the source of the problem? \n``` php\n    require(\"(location of files)/class.phpmailer.php\");\n    $mail = new PHPMailer();\n$mail->IsSMTP();                                      // set mailer to use SMTP\n$mail->Host = \"localhost\";  // specify main and backup server\n$mail->SMTPAuth = true;     // turn on SMTP authentication\n$mail->Username = \"your_ssh_username\";        // Make sure to replace this with your shell enabled user\n$mail->Password = \"your_ssh_user_password\";      // Make sure to use the proper password for your user\n\n\n$mail->From = \"me@mydomain\";\n$mail->FromName = \"Your Name\";\n$mail->AddAddress(\"recipient@theirdomain\", \"Their Name\");\n$mail->AddCC(\"cc@ccdomain\");\n$mail->AddBCC(\"bcc@bccdomain\");\n\n$mail->AddReplyTo(\"me@mydomain\", \"me\");\n\n$mail->WordWrap = 50;                                 // set word wrap to 50 characters\n$mail->IsHTML(true);                                  // set email format to HTML\n\n$mail->Subject = \"PHPmailer example\";\n$mail->Body    = \"This is a test of email\";\n\nif(!$mail->Send()){\necho \"Message could not be sent. <p>\";\necho \"Mailer Error: \" . $mail->ErrorInfo;\nexit;\n}\n\n```\n. Woah\u2026. Based on your last post I tried changing the path in my Shopping Cart, (which is called Photocart and is developed by Tim Grissett of PictruesPro.com)   to point at the AutoLoader file, not the class.phpmailer.php  file that I had been lead to believe was the correct thing before.\nWhen I try to send a test mail from the Cart - it says it has been sent.  \nI am not getting them though.   So, one problem solved, NEXT!   \nIf the cart emails think that they are being sent, but they are not being received anywhere - what likely is the issue now?\nCheers\nCraig\n. Hi  \nWell, Photocart thinks it is sending, but it is not arriving and it does not appear in the Maildir/New folder on my server which is where emails usually go to die. Looking at my AuthSMTP account, it shows that no emails have been sent though it either, and there should now be 3 from the test order that I just placed and the actual test email that I sent when setting it up in the first place. \nI will have  look at the test email code the AuthSMTP told me to try. \nWhen you say search any \"search my code and change any lines like that\u2026.\" \nI literally have no idea where to look\u2026 I presume not the files that I downloaded from your site\nI guess that you must mean the coding of my actual cart software\u2026 but I would not have a clue where to start with that\u2026 it is a program that I purchased.  I have contacted the developer though.\nIf you possibly have any other ideas, I would be very grateful for your continued help.\nThank you\nCraig\n. Thanks, Marcus.  \nI am trying to get the AuthSMTP test script to work now.\npreviously nothing happened, but now at least I get a error message\nParse error: syntax error, unexpected 'require' (T_REQUIRE), expecting identifier (T_STRING) in /home/craigstew/photography-perth.com.au/Scripts/authsmtp-test.php on line 8\nSo I will contact AuthSMTP and see what they have to say about that, and I will contact Tim.\nThanks for your assistance, it is genuinely appreciated. \nCraig\n. Hi Marcus\nThanks, I have also contacted AuthSMTP\nThe code is below, I have just blotted out my AuthSMTP account details.\nthe other change I  made to change the port from 25 to 587, as I read on Dreamhosts' PHPMailer Tutorial that port 25 was specifically for Dreamhost mail servers whereas 587 was for connecting to any other mail server. \n``` php\n<?php\nrequire(\"scripts/class.PHPMailer.php\");\n$mail = new PHPMailer();\n$mail->IsSMTP();    // set mailer to use SMTP\n$mail->Host = \"mail.authsmtp.com\";    // specify main and backup server\n$mail->SMTPAuth = true;    // turn on SMTP authentication\n$mail->Username = \"XXXXXXX\";    // SMTP username -- CHANGE --\n$mail->Password = \"XXXXXXXX\";    // SMTP password -- CHANGE --\n$mail->Port = \"587\";    // SMTP Port\n$mail->From = \"info@blissstudio.com.au\";    //From Address -- CHANGE --\n$mail->FromName = \"Bliss Studio\";    //From Name -- CHANGE --\n$mail->AddAddress(\"info@blissstudio.com.au\", \"Example\");    //To Address -- CHANGE --\n$mail->AddReplyTo(\"info@blissstudio.com.au\", \"Bliss Studio\"); //Reply-To Address -- CHANGE --\n$mail->WordWrap = 50;    // set word wrap to 50 characters\n$mail->IsHTML(false);    // set email format to HTML\n$mail->Subject = \"AuthSMTP Test\";\n$mail->Body    = \"AuthSMTP Test Message!\";\nif(!$mail->Send())\n{\n   echo \"Message could not be sent. \";\n   echo \"Mailer Error: \" . $mail->ErrorInfo;\n   exit;\n}\necho \"Message has been sent\";\n?>\n```\n. Ok, I made those changes and it give a new error.  I just wanted to say, Marcus, I can sort this out with AuthSMTP, this does not seem to be your issue, while I do appreciate your help, I do not want to take advantage of it either.  \nParse error: syntax error, unexpected '\\' (T_NS_SEPARATOR), expecting identifier (T_STRING) in /home/craigstew/photography-perth.com.au/Scripts/authsmtp-test.php on line 8\n. Oh, just realised I uploaded the file with my user credentials still blotted out\u2026 I will try again\n. I get same error with user credentials\u2026 \nMy Web host shows that I am using PHP 5.4.\n. ",
    "MissCP": "Hi, \nI'm getting the same too. The strange thing is the form works perfectly on my server but when it's used on the clients server the \"Class 'SMTP' not found in...\" error appears. I tend to assume it's being loaded because it works on the other server but are there any common problems with changing servers?\n(I have not yet changed the email addresses and host over to their addresses)\n Info:\n  PHP V 5.3 \n  Files are contained in the same folder\n  smtp.php file states  'require 'PHPMailerAutoload.php';' \n  host set to mail.mywebsite.com\nHopefully you can shed some light on this for me :) \nThanks! \n. ",
    "Markandeshwar": "Hi Synchro,\n      I am using following code to send email... it is showing message sent but not receiving mail in inbox... other problem is after executing code i am getting email from gmail that your account has been  blocked because sign-in attempt... please do needful in resolving this issue...\nphp\n<?php\n    require_once('PHPMailer\\PHPMailerAutoload.php');\n    $mail = new PHPMailer();  // create a new object\n    $mail->IsSMTP(); // enable SMTP\n    $mail->SMTPDebug = 0;  // debugging: 1 = errors and messages, 2 = messages only\n    $mail->SMTPAuth = true;  // authentication enabled\n    $mail->SMTPSecure = 'ssl'; // secure transfer enabled REQUIRED for GMail\n    $mail->Host = 'smtp.gmail.com';\n    $mail->Port = 465; \n        $mail->Username = 'gmailid'; // i have written my gmail id as value\n        $mail->Password = 'password'; // i have password of my mail id\n    $mail->setFrom(\"x@x.com\", \"xyz\");\n    $mail->Subject = \"test mail\";\n    $mail->Body = \"hi\";\n    $mail->AddAddress(\"xyz@gmail.com\");\n    if(!$mail->Send()) {\n        $error = 'Mail error: '.$mail->ErrorInfo; \n        echo \"sent\";\n    } else {\n        $error = 'Message sent!';\n        echo $error;\n    }\n?>\nPlease suggest the solution for this if any....\n. Hi Synchro,\n      I am using following code to send email... it is showing message sent but not receiving mail in inbox... other problem is after executing code i am getting email from gmail that your account has been  blocked because sign-in attempt... please do needful in resolving this issue...\nphp\n<?php\n    require_once('PHPMailer\\PHPMailerAutoload.php');\n    $mail = new PHPMailer();  // create a new object\n    $mail->IsSMTP(); // enable SMTP\n    $mail->SMTPDebug = 0;  // debugging: 1 = errors and messages, 2 = messages only\n    $mail->SMTPAuth = true;  // authentication enabled\n    $mail->SMTPSecure = 'ssl'; // secure transfer enabled REQUIRED for GMail\n    $mail->Host = 'smtp.gmail.com';\n    $mail->Port = 465; \n        $mail->Username = 'gmailid'; // i have written my gmail id as value\n        $mail->Password = 'password'; // i have password of my mail id\n    $mail->setFrom(\"x@x.com\", \"xyz\");\n    $mail->Subject = \"test mail\";\n    $mail->Body = \"hi\";\n    $mail->AddAddress(\"xyz@gmail.com\");\n    if(!$mail->Send()) {\n        $error = 'Mail error: '.$mail->ErrorInfo; \n        echo \"sent\";\n    } else {\n        $error = 'Message sent!';\n        echo $error;\n    }\n?>\nPlease suggest the solution for this if any....\n. ",
    "meilmeili": "hello synchro, i have a problem. I using a PHPMailer-master. but my SMTP doesnt connect. here my syntax \n``` php\n<?php\ninclude('PHPmailer/class.phpmailer.php');\ninclude ('PHPMailer/PHPMailerAutoload.php');\n//phpinfo();\n$mail = new PHPMailer();\n//$mail->IsSMTP(); // telling the class to use SMTP\n//$mail->Host = \"localhost\"; // SMTP server\n//IsSMTP(); // send via SMTP\n$mail->Host     = \"ssl://re.domain.co.id\"; // SMTP server RE\n$mail->Mailer   = \"smtp\";\n$mail->SMTPAuth = false; // turn on SMTP authentication\n$mail->SMTPSecure = 'ssl';\n$mail->Port=25;\n$mail->Username = \"admin@re.domain.co.id\"; // \n$mail->Password = \"*\"; // SMTP password\n$webmaster_email = \"admin@re.domain.co.id\"; //Please don't Reply to this email ID\n$email = \"recipient @ domian.co.id\"; // Recipients email ID\n$name = \"Meilidyaningtyas C.R\"; // Recipient's name\n$mail->From = $webmaster_email;\n$mail->FromName = \"Admin System Online\";\n$mail->AddAddress($email,$name);\n$mail->AddReplyTo($webmaster_email,\"namawebmaster\");\n$mail->WordWrap = 50; // set word wrap\n$mail->AddAttachment(\"/var/tmp/file.tar.gz\"); // attachment\n$mail->AddAttachment(\"/tmp/image.jpg\", \"new.jpg\"); // attachment\n$mail->IsHTML(true); // send as HTML\n$mail->Subject = \"Ini adalah permohonan no. project\";\n$mail->Body = \"Ini adalah email contoh. harap untuk tidak membalas pesan ini.\"; //HTML Body\n$mail->AltBody = \"This is the body when user views in plain text format\"; //Text Body \nif(!$mail->Send())\n{\necho \"Mailer Error: \" . $mail->ErrorInfo;\n}\nelse\n{\necho \"Message has been sent\";\n}\n?>\n```\nmy problem is, fist, Fatal error: Class 'SMTP' not found in line 1149, then I solve it, and now I found Mailer Error: SMTP connect() failed. What should I do? please help me to solve this problem.\n. ",
    "kdelacreme": "My initial thought is that you might have something in the content generation that evaluates as \"false\" rather than substitutes the image, the fact that the missing image is representing a 0 is what makes me think that.\nCare to share the code generating the content?\n. So is <img src=\"cid:zero\"> a part of a static html template or is it added conditionally? I'm imagining you might be adding images depending on the value of some variable, perhaps?\n. In that case I think you need to supply more detailed info (rather a pack of your files) to be able to reproduce the issue.\n. Please include your test script as well.\n. I see your problem. Quick solution is to change from double quotes to single quotes in your AddEmbeddedImage calls, since you are currently suffering from tabs, form feeds and newlines in your file name references.\nFor example instead of \n$mail->AddEmbeddedImage(\"images\\l\\two.jpg\", \"two\", \"two.jpg\"); write $mail->AddEmbeddedImage('images\\l\\two.jpg', \"two\", \"two.jpg\");\nSee here http://php.net/manual/en/language.types.string.php for more about escape sequences when using double quotes.\n. ",
    "forgacsp": "This I how to generate them :\n$mail->AddEmbeddedImage(\"images\\eight.jpg\", \"eight\", \"eight.jpg\");\n$mail->AddEmbeddedImage(\"images\\zero.jpg\", \"zero\", \"zero.jpg\");\nin code referring to : \nimg src=\"cid:eight\">\nimg src=\"cid:zero\">\n. I set this up as static to test the issue.\n. Uploaded the files here: http://speedy.sh/mRANN/numbers.rar, it seems only 1,6,7,8,0 working the rest are not. Did try copy them again to avoid problem thru transportation, but no success.\n. Sorry, i've uploaded here : http://speedy.sh/pfB6X/testmail.php\n. You're rock :) ,thank you for helping me resolve the problem, its work like a charm now.\n. ",
    "IQAndreas": "\nThe tarballs are generated by github, I'm not sure if I get any control over that\n\nThey have an API which lets you control the releases better:\n- GitHub Blog: Releases API Preview\n- Release API Docs\n. Would it be possible to add a summary somewhere (perhaps in the README?) about which of the files/directories are actually required, and which can be removed when the library is used on a project?\n. ",
    "andris9": "If this feature ever gets implemented then here's some things to look for when sending direct mail:\n- The hostname used for EHLO/HELO must match the reverse resolved hostname for the server IP address. Otherwise you get spam points.\n- There are really weird/old ciphers out there, also a lot of self signed certificates, so expect STARTTLS to fail if you try to use it \u2013 in this case you should try again, this time in plaintext and ignoring STARTTLS.\n- Greylisting is widely used, so expect to get temporary errors and then try again after a while (I guess this would assume you send using a cronjob, otherwise you'd be blocking the PHP script for 10 minutes to wait for the next try)\n- I don't know how widely fake MX records are used but I guess that not too much because of the high risk of loosing legit messages, so I wouldn't care too much about it\n- I wouldn't care too much about dynamic addresses either since this is what haunts sendmail as well. Actually in case of using sendmail the situation is even worse \u2013 sendmail queues your messages and does not inform you that recipients server rejects the connection or that your outgoing port 25 is blocked,  so it looks like the message went through even though it didn't\n. If this feature ever gets implemented then here's some things to look for when sending direct mail:\n- The hostname used for EHLO/HELO must match the reverse resolved hostname for the server IP address. Otherwise you get spam points.\n- There are really weird/old ciphers out there, also a lot of self signed certificates, so expect STARTTLS to fail if you try to use it \u2013 in this case you should try again, this time in plaintext and ignoring STARTTLS.\n- Greylisting is widely used, so expect to get temporary errors and then try again after a while (I guess this would assume you send using a cronjob, otherwise you'd be blocking the PHP script for 10 minutes to wait for the next try)\n- I don't know how widely fake MX records are used but I guess that not too much because of the high risk of loosing legit messages, so I wouldn't care too much about it\n- I wouldn't care too much about dynamic addresses either since this is what haunts sendmail as well. Actually in case of using sendmail the situation is even worse \u2013 sendmail queues your messages and does not inform you that recipients server rejects the connection or that your outgoing port 25 is blocked,  so it looks like the message went through even though it didn't\n. I guess the sane option in this case would be to try to send the message just once and if it takes too much time, or the server uses graylisting, or STARTTLS fails or whatever, then return an error with \"sorry, can't do\". This way you would only have to check the MX/A DNS records and otherwise do a normal sending. The error rate would be too high for bulk sending but for occasional user signup or password reset message it might work fine.\n. I guess the sane option in this case would be to try to send the message just once and if it takes too much time, or the server uses graylisting, or STARTTLS fails or whatever, then return an error with \"sorry, can't do\". This way you would only have to check the MX/A DNS records and otherwise do a normal sending. The error rate would be too high for bulk sending but for occasional user signup or password reset message it might work fine.\n. Just for the record I started to play around with these ideas myself and eventually I did build a MTA and it turned out just fine. I use it to send out about 500 000 emails per day all over the world (https://github.com/zone-eu/zone-mta). The hard part was not SMTP connections but queue handling which is a separate topic.\nIf you keep SMTP interaction minimal, do not give up after first connection error (if you can't connect to one MX/IP then try the next one) and allow long timeouts (some hosts use tarpitting where server responds to every command after 20sec delay) everything should work fine. TLS ciphers were an issue as expected (my favourite was a server that just dropped the connection during the handshake if client did not list ciphers the server supported - no errors nor response to the TLS handshake, it just closed the connection) but I solved it by using downgrading - if anything happens during STARTTLS call then drop the connection and retry but this time without STARTTLS.. Just for the record I started to play around with these ideas myself and eventually I did build a MTA and it turned out just fine. I use it to send out about 500 000 emails per day all over the world (https://github.com/zone-eu/zone-mta). The hard part was not SMTP connections but queue handling which is a separate topic.\nIf you keep SMTP interaction minimal, do not give up after first connection error (if you can't connect to one MX/IP then try the next one) and allow long timeouts (some hosts use tarpitting where server responds to every command after 20sec delay) everything should work fine. TLS ciphers were an issue as expected (my favourite was a server that just dropped the connection during the handshake if client did not list ciphers the server supported - no errors nor response to the TLS handshake, it just closed the connection) but I solved it by using downgrading - if anything happens during STARTTLS call then drop the connection and retry but this time without STARTTLS.. When generating message-id values then the latest convention for a lot of mailers seems to be to not use the server hostname but sender address hostname. So if I send as \"andris@example.com\" from \"smtp.somedomain.com\" then the message-id value is not going to be \"unique@smtp.somedomain.com\" but \"unique@example.com\". I guess this is caused by the fact that sometimes it is not so easy to detect the correct hostname, you might end up with something that is not FQDN (eg \"localhost\" or \"machine-name\" eg. something without valid tld) and this might end up with some spam points.\n. When generating message-id values then the latest convention for a lot of mailers seems to be to not use the server hostname but sender address hostname. So if I send as \"andris@example.com\" from \"smtp.somedomain.com\" then the message-id value is not going to be \"unique@smtp.somedomain.com\" but \"unique@example.com\". I guess this is caused by the fact that sometimes it is not so easy to detect the correct hostname, you might end up with something that is not FQDN (eg \"localhost\" or \"machine-name\" eg. something without valid tld) and this might end up with some spam points.\n. If you run the code locally in your computer then the most common reason for messed up TLS certificates are antivirus applications intercepting SMTP traffic. In production it might not be needed to skip certificate validation checks.. If you run the code locally in your computer then the most common reason for messed up TLS certificates are antivirus applications intercepting SMTP traffic. In production it might not be needed to skip certificate validation checks.. ",
    "goizueta": "Is this feature still desirable?\n. Is this feature still desirable?\n. ",
    "chornde": "This may need some refactoring on all occurancies of $mailHeader and $MIMEheader first, does it? Like, adding setters and getters to a private assoc array that can be imploded later. Just a guess .... ",
    "eddsstudio": "that was fast!\n;)\n. ",
    "antonmitsev": "Thank you! You made my day (night :) ). ",
    "pavarnos": "yes. Have you considered splitting out some functionality from class.phpmailer.php into smaller subclasses? It might help reduce the complexity if something like a decorator pattern http://en.wikipedia.org/wiki/Decorator_pattern was used to do the encryption.\nSo you might have a\nphp\nclass Message {\n   public function createHeader()\n   public function createBody()\n   public function preSend()\n   public function postSend()\n   ... etc\n}\nand then decorate it with \n``` php\nclass DKIMMessage extends Message {\n    private $parent;\n    public function __construct(Message $parent) { $this->parent = $parent; }\n    public function preSend() { $this->parent->preSend(); $this->dkimSign(); }\n    ... etc\n}\nclass SMIMESignedMessage extends Message {}\nclass SMIMEEncryptedMessage extends Message {}\n```\nas needed, assembling the classes based on configuration parameters eg $message = new SMIMESignedMessage( new SMIMEEncryptedMessage( new DKIMMessage( new Message( $header, $body ))));\n. hmmmm.... yes i see your point in #88. In theory it should be possible to completely rewrite phpmailer internally and create facade class to preserve the old interface using magic setters/getters for the properties, your existing PSR-2 methods etc. In reality, edge cases often get in the way. \nThe attraction for me of phpmailer over swiftmailer is its size: it does a lot in only a few lines of code.\n. Would love to see this as a standard (built in) feature of phpmailer. Protonmail has made pgp email accessible to a lot more people. It would be cool to allow pgp encrypted mail from a server to protonmail accounts.... ",
    "AZimmerhofer": "Does PHPmail allow to use end-to-end encryption now? Cant find any news for it?\n. ",
    "ratatine": "I might be a monkey wrench in the way of progress but here's a patch for the current master that does it native in 5.2.13.\n```\n--- PHPMailer-master/class.phpmailer.php        2015-10-14 16:33:44.000000000 -0500\n+++ phpmailer/class.phpmailer.php       2016-01-25 23:09:17.853169700 -0600\n@@ -591,6 +591,20 @@\n     protected $sign_key_pass = '';\n /**\n\n\n\n\nAn array of public PEM encoded certificates for each recipient\n\n\n\n\n@var array\n\n\n\n\n@access protected\n\n\n*/\nprotected $encrypt_recipcerts = array();\n+\n/**\n\n\nUsed if body should be S/MIME encrypted\n\n\n\n\n@var bool\n\n\n\n\n@access protected\n\n\n*/\nprotected $encrypt_body = false;\n+\n/**\nWhether to throw exceptions for errors.\n@var boolean\n@access protected\n@@ -2271,6 +2285,32 @@\n                 @unlink($signed);\n                 throw new phpmailerException($this->lang('signing') . openssl_error_string());\n             }\n+\n\n\nif($this->encrypt_body) {\n+\n// Write out the encrypted message\n$file = tempnam(sys_get_temp_dir(), \"mail\");\nif (false === file_put_contents($file, $this->MIMEHeader . $this->LE . $this->LE . $body)) {\nthrow new phpmailerException($this->lang('encrypting') . ' Could not write temp file');\n}\n$encrypted = tempnam(sys_get_temp_dir(), 'encrypted');\n+\n$encrypt = openssl_pkcs7_encrypt($file, $encrypted, $this->encrypt_recipcerts, array());\nif ($encrypt) {\n@unlink($file);\n$body = file_get_contents($encrypted);\n// As with signing, the headers get rewriting after encrypting\n$parts = explode(\"\\n\\n\", $body, 2);\n$this->MIMEHeader = $parts[0] . $this->LE . $this->LE;\n$body = $parts[1];\n@unlink($encrypted);\n} else {\n@unlink($file);\n@unlink($encrypted);\nthrow new phpmailerException($this->lang('encrypting') . openssl_error_string());\n}\n+\n\n}\n             } catch (phpmailerException $exc) {\n                 $body = '';\n                 if ($this->exceptions) {\n@@ -3623,6 +3663,18 @@\n     }\n/\n+     * Set the certificates, keys and passwords to encrypt via S/MIME\n+     * @access public\n+     * @param array $recipcerts Array of certificates used for recipients in PEM format\n+     */\n+    public function add_encryption($recipcert_file)\n+    {\n+        $this->encrypt_body = true;\n+       $cert = file_get_contents($recipcert_file);\n+        array_push($this->encrypt_recipcerts, $cert);\n+    }\n+\n+    /\n  * Quoted-Printable-encode a DKIM header.\n  * @access public\n  * @param string $txt\n\n\n```\nEverything is PEM encoded and you have to sign it and encrypt it.\nex.:\n  $mailer->sign(\"sendercert.pem\", \"senderkey.pem\", \"password\", \"sendercert_chain.pem\");\n  $mailer->add_encryption(\"recipient1.pem\");\n  $mailer->add_encryption(\"recipient2.pem\");\n. When I first wrote my piece above I had no clue about how to do a PR. Now I can barely do one. Let me know if that will help and I'll try not to cock it up too bad but if someone else can do it more easily feel free. . That always takes me longer than I think it will. \nhttps://github.com/PHPMailer/PHPMailer/pull/1611. That always takes me longer than I think it will. \nhttps://github.com/PHPMailer/PHPMailer/pull/1611. Fair points. I gave an example on the thread I attached this to but would you just suggest updating the documentation as part of the PR to include a sample? I could do that... also yes, SMIME requires you to sign it to encrypt it.\nChance you could direct me on a \"unit test\"? You're talking to a guy who can barely do a PR. My PHP is a lot stronger than my github. ;). Fair points. I gave an example on the thread I attached this to but would you just suggest updating the documentation as part of the PR to include a sample? I could do that... also yes, SMIME requires you to sign it to encrypt it.\nChance you could direct me on a \"unit test\"? You're talking to a guy who can barely do a PR. My PHP is a lot stronger than my github. ;). ",
    "fischel": "Ups, now it 2018 and nothing really happend in SMIME-Encryption? This point will be more and more important for mail-frameworks .... @ratatine I put your patch in the 5.2.27 and it works well. Now I'll try it with 6.0.6. I'll give feedback next week. So you can make a PR ? :) . @ratatine I would say it works perfectly even with 6.0.6. In 6 there was just a small modifiations for static-LE.\nI would be nice to throw an exception if you want to send an encrypted message and maybe one of the recipients is without a certificate. He will not be able to read the message ... :)\nPR?. @ratatine I would say it works perfectly even with 6.0.6. In 6 there was just a small modifiations for static-LE.\nI would be nice to throw an exception if you want to send an encrypted message and maybe one of the recipients is without a certificate. He will not be able to read the message ... :)\nPR?. ",
    "YK115": "php\n$mail1 = new PHPMailer();\n$mail2 = new PHPMailer();\n. ``` php\nrequire_once('class.phpmailer.php');\nrequire_once('class.smtp.php');\n$mail1 = new PHPMailer();\n$mail2 = new PHPMailer();\n```\n. We use PHPMailer in symfony 1 and it's sfMail constructor\n``` php\n  public function __construct()\n  {\n    require_once(sfConfig::get('sf_symfony_lib_dir').'/vendor/phpmailer/class.phpmailer.php');\n    require_once(sfConfig::get('sf_symfony_lib_dir').'/vendor/phpmailer/class.smtp.php');\n$this->mailer = new PHPMailer();\n\n}\n```\n. ",
    "Peto": "HI, I'm getting the same error even when I'm trying some of PHPMailer code examples(mail.php, code_generator.php, ...) And before this I was getting Fatal error: Class 'PHPMailer' not found...  But using include_once(\"class.phpmailer.php\"); helped with Class 'PHPMailer' not found.\n. @ooxi I'm using the newest version. I downloaded it yesterday from PHPMailer github. It should be 5.2.7. I'm just trying those code examples. For exemple .../PHPMailer-master/examples/code_generator.php .  I think it should work independently and to not require my own code. \n. @Synchro Hi, thank you. It's working now and I'm not getting errors anymore.\n. ",
    "nipund": "@Synchro That throws a \"Fatal error: Class 'PHPMailer' not found in XXX\"\n. ",
    "sergeyklay": "@Synchro Yes,  I spent a small exeperimental\n``` php\n$str = '=?UTF-8?B?PT91dGYtOD9CP1IyeGxaWG9nUTAxVElDMGcw?=\n =?UTF-8?B?Si9SZ05DKzBMTFF0ZEdBMExyUXNDRFJnTkMxMExQUXVOR0IwWUxSZ05Ddz89?=\n =?UTF-8?B?CiA9P3V0Zi04P0I/MFliUXVOQyswTDNRdmRHTDBZVWcwTFRRc05DOTBMM1Jp?=\n =?UTF-8?B?OUdGSU5DMDBMdlJqeUJUWlhKblpYaz0/PQ==?=';\n$decoded =  imap_utf8(imap_utf8($str));\n// Gleez CMS - \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f Sergey\n$decoded =  mb_decode_mimeheader(mb_decode_mimeheader($str));\n// Gleez CMS - \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f Sergey\n```\nIt's good -  at least I now understand what is happening. But frankly I'm not quite (yet) know what can I do\n. Full listing\nFirst class\n``` php\nclass Email {\n    protected $mail;\npublic static function factory() {\n    return new Email();\n}\n\npublic function __construct()\n{\n    require 'PHPMailerAutoload.php';\n\n    // Create phpmailer object\n    $this->mail = new PHPMailer(true);\n\n    // Set some defaults\n    $this->mail->setFrom('sadhooklay@gmail.com',  'Gleez CMS');\n    $this->mail->WordWrap = 70;\n    $this->mail->CharSet  = 'utf-8';\n    $this->mail->XMailer  = 'Gleez CMS 0.10.5';\n    $this->mail->setLanguage('ru');\n    $this->mail->Debugoutput = 'error_log';\n}\n\npublic function subject($subject)\n{\n    $this->mail->Subject = $subject;\n\n    return $this;\n}\n\npublic function to($email, $name = NULL)\n{\n    $this->mail->addAddress($email, $name);\n\n    return $this;\n}\n\npublic function message($body, $type = NULL)\n{\n    if ( ! $type OR $type === 'text/plain')\n    {\n        // Set the main text/plain body\n        $this->mail->Body = $body;\n    }\n    else\n    {\n        // Add a custom mime type\n        $this->mail->msgHTML($body);\n    }\n\n    return $this;\n}\n\n```\nAnother class\n``` php\n        // Create an email message\n        $email = Email::factory()\n            ->subject('Gleez CMS - \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f Sergey')\n            ->to('sadhooklay@gmail.com', 'Sergey')\n            ->message('hello'); \n    // Send the message\n    $email->send();\n\n```\nNow result is (Source of mail in GMail)\nReturn-Path: <sadhooklay@gmail.com>\nReceived: from cerber.homedomain ([213.87.143.215])\n        by mx.google.com with ESMTPSA id jv8sm3718426lbc.2.2013.11.07.10.36.59\n        for <sadhooklay@gmail.com>\n        (version=TLSv1.2 cipher=RC4-SHA bits=128/128);\n        Thu, 07 Nov 2013 10:37:02 -0800 (PST)\nReceived: from www-data by cerber.homedomain with local (Exim 4.80)\n    (envelope-from <sadhooklay@gmail.com>)\n    id 1VeUSH-0001qr-DC\n    for sadhooklay@gmail.com; Thu, 07 Nov 2013 22:37:21 +0400\nTo: Sergey <sadhooklay@gmail.com>\nSubject: =?UTF-8?B?PT91dGYtOD9CP1IyeGxaWG9nUTAxVElDMGcw?=\n =?UTF-8?B?Si9SZ05DKzBMTFF0ZEdBMExyUXNDRFJnTkMxMExQUXVOR0IwWUxSZ05Ddz89?=\n =?UTF-8?B?CiA9P3V0Zi04P0I/MFliUXVOQyswTDNRdmRHTDBZVWcwTFRRc05DOTBMM1Jp?=\n =?UTF-8?B?OUdGSU5DMDBMdlJqeUJUWlhKblpYaz0/PQ==?=\nX-PHP-Originating-Script: 1000:class.phpmailer.php\nDate: Thu, 7 Nov 2013 18:37:20 +0000\nFrom: Gleez CMS <sadhooklay@gmail.com>\nMessage-ID: <bebfbbcc85c5b16ae66e490044c104ab@gleez.lo>\nX-Priority: 3\nX-Mailer: Gleez CMS 0.10.5\nMIME-Version: 1.0\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: 8bit\nSubject in GMail\n=?utf-8?B?R2xlZXogQ01TIC0g0J/RgNC+0LLQtdGA0LrQsCDRgNC10LPQuNGB0YLRgNCw?= =?utf-8?B?0YbQuNC+0L3QvdGL0YUg0LTQsNC90L3Ri9GFINC00LvRjyBTZXJnZXk=?=\nIt turns out indeed, something is trying to encode a 2 times Subject. But then how can I decode the string before passing it to the class?\n. Hm... Maybe mail server is doing something strange...\nI have to to experience. I need some time to install and configure the appropriate software. I'll start it right now.\n. Done! I manually created fake sendmail server (shell script) and used test described above.\nThis is mail (text file): http://vpaste.net/0coAA\n. To my regret I am having difficulty with the debugger. At least further index.php I was not able to pass. Tomorrow I'll try to understand. I'll let you know results of debugging. Sorry to trouble you.\n. I managed to understand what to do. Sorry for my stupidity.\nPHP 5.4.4-14+deb7u5\nPHPMailer current master branch (class.phpmailer.php contains Version 5.2.7)\nPHPStrom screen:\n\nExcuse me, I'm not sure what other information about debugging I should provide?\n. What should I do? What kind of special debugging techniques? Any ideas?\n. Here's what I got this time\n\n. Ok! Good night :) Catch you later\n. Now, I don't understand anything :(\nI created a simple script, an example of which you provided above and sent the mail using  fake mail server.\nI has received the following:\n```\nTo: sadhooklay@gmail.com\nSubject: =?UTF-8?B?PT91dGYtOD9CP1IyeGxaWG9nUTAxVElDMGcw?=\n=?UTF-8?B?Si9SZ05DKzBMTFF0ZEdBMExyUXNDRFJnTkMxMExQUXVOR0IwWUxSZ05DdzBZ?=\n=?UTF-8?B?YlF1TkMrMEwzUXZkR0wwWVVnMExUUXNOQzkwTDNSaTlHRklOQzAwTHZSanlC?=\n=?UTF-8?B?VFpYSm5aWGs9Pz0=?=\nX-PHP-Originating-Script: 1000:test.php\nTo: Sergey sadhooklay@gmail.com\nDate: Fri, 8 Nov 2013 23:59:59 +0100\nFrom: Gleez CMS sadhooklay@gmail.com\nMessage-ID: 67549d27446b49fb0f5d5193c645e238@localhost.localdomain\nX-Priority: 3\nX-Mailer: Gleez CMS 0.10.5\nMIME-Version: 1.0\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: 8bit\nhello\n```\nEvidently should have started with this test. I distract you in vain ...\nMost likely something is wrong with my php settings. Sorry to trouble you, I am so sorry.\nBest regards\n. The main problem was that the Subject is encoded twice.\nThen I began to think that may overlap in general is a standard work php mail()...  Yes this is Mbstring!\n\nmbstring.func_overload\nFor example, if it is set to 7, mail, strings and regular expression functions will be overloaded.\u00a0\n\nI look at my php.ini and saw mbstring.func_overload = 7. Wow!\nI replaced it with 6 and the problem disappeared! Taking into account this table  http://php.net/manual/en/mbstring.overload.php the difference between the 7 and 6 - only one, overload mail() function.\nThanks!\n. Yep )\n. Good work! :+1: \n. Thanks\n. json\n{\n  \"require\": {\n    \"phpmailer/phpmailer\": \"~5.2\"\n  }\n}\nphp\nrequire_once(MY_DOCUMENT_ROOT .'vendor/autoload.php');\n``` php\n<?php\nnamespace MyAwesomeNamespace;\nuse PHPMailer;\nclass MyAwesomeClass\n{\n    public function foo()\n    {\n            $mail = new PHPMailer;\n            ...\n    }\n}\n```\n. ",
    "xeredin": "\n\"=?utf-8?B?\".base64_encode($subject).\"?=\"\n\nthank you \"=?utf-8?B?\".base64_encode($subject).\"?=\" it solved my problem. ",
    "Shad0wWulf": "Thanks for the reply!\nI had a look into that function and cannot see anything which could be causing it? Unless i am looking in the wrong place that function only fixs the inline images (which i am using) and it normalizes the line breaks.. And creates the plaintext version of the code. So i don't think it is that.. Correct me if im wrong though :) \n. This is the code i use to set the MsgHTML\n$email_system->MsgHTML(Convert_Local_Images_To_Relative_Path($message));\nThe convert local images basicly just converts the link path of a image, to a server path, so it can be grabbed and embedded. I cant remember where i found it, most probably on here :)\n```\nfunction Convert_Local_Images_To_Relative_Path($document) {\nlibxml_use_internal_errors(true);\n\n$doc = new DOMDocument();\n$doc->loadHTML($document);\n\n$images = $doc->getElementsByTagName('img');\n\nforeach ($images AS $image) {\n\n   $image->setAttribute('src',  str_replace(WEBSITE_ROOT, WEBSITE_PHP_ROOT, $image->getAttribute('src')));\n\n}\n\n return $doc->saveHTML();\n\n}\n```\nThis is a link before it goes through the system\n<a href=\"file:///\\\\server\\temp\\000000_cover.pdf\" target=\"_new\" style=\"color: blue;\">\\\\server\\temp\\000000_cover.pdf</a>\nAnd this is it after\n<a href=\"file:///%5C%5Cserver%5Ctemp%5C000000_cover.pdf\" target=\"_new\" style=\"color: blue;\">\\\\server\\temp\\000000_cover.pdf</a>\nI have edited the file names etc...\nBut i only edit the image paths before i update the HTML, And i get the converted XML after it goes through the function.\nThe same happens if i use file:// or file:///\nI save a HTML copy before and after the conversion.\nCould you possibly give me the code you used to test it, Just to see if it was my fault? But from the code apart from that one function which is only picking up images i cannot see it being me... But may be wrong of course.\n. Yeh, sorry about this. Just checked the code and using the DOMDocument it seems that its saveHTML function is encoding the URLS.\nFound out as i wrote a function to fix them, which i could see worked during debugging\n```\nfunction Fix_A_HREF_Paths($document) {\nlibxml_use_internal_errors(true);\n\n$doc = new DOMDocument();\n$doc->loadHTML($document);\n\n$links = $doc->getElementsByTagName('a');\n\nforeach ($links AS $link) {\n\n    if (StringContains(\"file:\", $link->getAttribute('href'))){\n\n        $link->setAttribute('href',  str_replace('%5C', '\\\\', $link->getAttribute('href')));\n\n    }\n\n}\n\nreturn $doc->saveHTML();\n\n}\n```\nBut then the second it saved out, it was broken again!\nTime to convert my image function to regular expressions!\nThanks for the help!\n. ",
    "graphicmist": "Yes i need to upgrade it but i am unable to replicate the bug at my end as i cant send 12k mails for testing. I am sending on mail to 12k users and some users are receiving multiple mails of same mails.\nNeed to put some logging for sure.\n. cool :) thanks. That will help\n. ",
    "narangrishab": "Why don't you guys write a bulk email function? Using while/foreach loop takes a lot of time if the addresses are more than 100. \nGive us an alternate method which is fast and effective. \nThanks,\n. Why don't you guys write a bulk email function? Using while/foreach loop takes a lot of time if the addresses are more than 100. \nGive us an alternate method which is fast and effective. \nThanks,\n. ",
    "ivoras": "Thank you, this is what I needed!\n. ",
    "w-barath": "On 13-11-25 11:16 PM, Marcus Bointon wrote:\n\nThis looks reasonable - I was concerned that you were going to use \nthat format internally, but I see you're just transforming it on add \nwhich is much less intrusive. Rather than having the same code twice, \nhow about making a protected (so we can avoid public API changes for \nnow) function that's called from each place? This is quite likely to \nsolve #82 https://github.com/PHPMailer/PHPMailer/issues/82 as well. \nCould you add some test cases to go with it, for example using <> as \nwell as []?\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/pull/145#issuecomment-29271791.\n\nI've rewritten it as you've asked.\nI'm a little confused how to add the test case.  I took a quick look at \nthe existing test code and it's not even using the setter methods... \nit's writing directly to the mailer properties to set the email addresses.\nShould I rewrite them to use $mail->setFrom() etc so that they are \nparsed and validated?\n. I closed the other branch because I couldn't find a way to update it.\nI'm not yet familiar with GitHub's UI...\nTBH it seems to be more oriented to reviewing code than to modifying it \n- I can't see a way to modify and test it without generating a commit, \n  and I can't see a way to generate a second pull request once an issue is \n  resolved. (both seem like pretty important features to me.)  It's also a \n  lot of clicking to get from the project to a diff to the editor to the \n  build result and then back to the editor.  I get the feeling that the \n  operators of GitHub are thoughtfully discouraging users from working \n  online... it's a bit discouraging, but understandable since it's a free \n  service.\n. ",
    "FallenMireq": "Code example:\n``` php\n<?php\n    header('Content-type: text/plain; charset=\"utf-8\"');\n    include dirname(FILE) . '/PHPMailer/class.phpmailer.php';\n$mail = new PHPMailer();\n$mail->CharSet = 'UTF-8';\n$mail->From = 'john@doe.com';\n$mail->FromName = 'John Doe';\n$mail->addAddress('jane@doe.com', 'Jane Doe');\n$mail->Body = 'Some body';\n$mail->isHTML(false);\n\n$someMBchar = \"\\xE2\\x96\\x88\"; // \u2588\n$mail->Subject = str_repeat($someMBchar, 80);\n\necho \"Source subject: \" . $mail->Subject . \"\\r\\n\";\n\nif ($mail->send())\n    echo \"On the way!\";\nelse\n    echo \"Something wrong...\";\n\n```\nHeader:\nSubject: =?UTF-8?B?4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI?=  =?UTF-8?B?4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI?=  =?UTF-8?B?4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI?=  =?UTF-8?B?4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI?=  =?UTF-8?B?4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI4paI?=  =?UTF-8?B?4paI4paI4paI4paI4paI?=\nP.S. Thanks for backticks tip\n. ",
    "kilinkis": "thanks Synchro :)\nI tried TLS on 587 and got the same error.\nAlso, I tried that example before, in fact was the first thing I tried but it didnt work.\n. any help on how can I fixed that please? i see the php_info if you need to know something. Thanks\n. any help on how can I fixed that please? i see the php_info if you need to know something. Thanks\n. ",
    "myildi": "First wait a day, because Gmail seems to have problems for the SMTP currently.\n. First wait a day, because Gmail seems to have problems for the SMTP currently.\n. ",
    "Voyager2718": "I've got the same problem.\nMy hosting provider is GoDaddy (which is a Linux Server), and I tried to use PHPMailer to send a mail via my Gmail acc, but it just show me \"Connection refused (111) \" every time. Could somebody help me???\n. I've got the same problem.\nMy hosting provider is GoDaddy (which is a Linux Server), and I tried to use PHPMailer to send a mail via my Gmail acc, but it just show me \"Connection refused (111) \" every time. Could somebody help me???\n. Uh, in fact, I trid TLS and 587 port. But doesn't work either. Is this a bug or I should pay for this??\n. Uh, in fact, I trid TLS and 587 port. But doesn't work either. Is this a bug or I should pay for this??\n. Oh..But I think there're so many people faced this problem, why don't they fix it?..\n. Oh..But I think there're so many people faced this problem, why don't they fix it?..\n. ",
    "prasanna76": "i am getting this error while using PHPMailer\nSMTP connect() failed. Message could not be sent.Mailer Error: SMTP connect() failed.\n. i tried all the ways but i not connecting\n. this is wat am i trying\nphp\n$mail = new PHPMailer;\n$mail->SMTPDebug = 2;\n$mail->isSMTP();\n$mail->Mailer = 'smtp';\n$mail->Host = 'smtp.gmail.com'; \n$mail->SMTPAuth = true;\n$mail->Port= 587;\n$mail->Username = 'prasanna.venkatesan83@gmail.com';\n$mail->Password = '************';\n$mail->SMTPSecure = 'tls';\n$mail->From = 'prasanna.venkatesan83@gmail.com';\n$mail->FromName = 'Prasanna';\n$mail->addAddress($to, 'Prasanna');\n$mail->addReplyTo($to, 'Prasanna');\n$mail->WordWrap = 50;\n$mail->isHTML(true);\n$mail->Subject = $subject;\n$mail->Body    = $message;\n//echo !extension_loaded('openssl')?\"Not Available\":\"Available\";\nif(!$mail->send()) {\n   echo 'Message could not be sent.';\n   echo 'Mailer Error: ' . $mail->ErrorInfo;\n   exit;\n}\n. how can i check DNS working or not?\n. how to solve DNS problem\n. dig +short smtp.gmail.com\ntelnet smtp.gmail.com 587\ni have tried this but it's still not connected\n. can i able to do it by myself can you tell the way to solve it\n. ",
    "cinnamon2": "Okay, Marcus, that's very helpful.\nThanks for your reply and the recommendations.\nKind regards\nRoy \n----- Original Message ----- \n  From: Marcus Bointon \n  To: PHPMailer/PHPMailer \n  Cc: cinnamon2 \n  Sent: Thursday, December 12, 2013 3:20 PM\n  Subject: Re: [PHPMailer] Being spammed by Github PHP mailer (#150)\nUnfortunately this is nothing to do with GitHub, and there's nothing PHPMailer can do about it either. People can send spam using pretty much any technology they like, PHPMailer included, along with Outlook, gmail and anything else that can send email. The term for what you're receiving is backscatter, where failed delivery reports are sent to where it says it came from (and it's lying), not where it actually came from.\n  The appropriate technology for preventing forged email is SPF, so I'd recommend you implement that ASAP, and look at implementing DKIM (though that's more involved). I'd also suggest reporting their spam at spamcop.net.\n\u2014\n  Reply to this email directly or view it on GitHub.\n\nThis email is free from viruses and malware because avast! Antivirus protection is active.\nhttp://www.avast.com\n. Okay, Marcus, that's very helpful.\nThanks for your reply and the recommendations.\nKind regards\nRoy \n----- Original Message ----- \n  From: Marcus Bointon \n  To: PHPMailer/PHPMailer \n  Cc: cinnamon2 \n  Sent: Thursday, December 12, 2013 3:20 PM\n  Subject: Re: [PHPMailer] Being spammed by Github PHP mailer (#150)\nUnfortunately this is nothing to do with GitHub, and there's nothing PHPMailer can do about it either. People can send spam using pretty much any technology they like, PHPMailer included, along with Outlook, gmail and anything else that can send email. The term for what you're receiving is backscatter, where failed delivery reports are sent to where it says it came from (and it's lying), not where it actually came from.\n  The appropriate technology for preventing forged email is SPF, so I'd recommend you implement that ASAP, and look at implementing DKIM (though that's more involved). I'd also suggest reporting their spam at spamcop.net.\n\u2014\n  Reply to this email directly or view it on GitHub.\n\nThis email is free from viruses and malware because avast! Antivirus protection is active.\nhttp://www.avast.com\n. ",
    "vlajos": "I can modify this at next week Monday/Tuesday if this is required to be merged. Do you know maybe this alternative solution is fine for every important person here? (I don't really know the development processes here...)\n. I made a new PR:\nhttps://github.com/PHPMailer/PHPMailer/pull/152\n. ",
    "mri-dev": "So I want to contact with the hosting about that?\n. So I want to contact with the hosting about that?\n. OK. Thanks.\n. OK. Thanks.\n. ",
    "davidsickmiller": "Could you point me to the new code?  I can't seem to find it.\n. Could you point me to the new code?  I can't seem to find it.\n. It looks like your commit would resolve the issue.  Regarding style, I had one comment here: https://github.com/Synchro/PHPMailer/commit/6767b0f21bd24d9ca7e0efcde640705772dedcbf#commitcomment-4963227\n. It looks like your commit would resolve the issue.  Regarding style, I had one comment here: https://github.com/Synchro/PHPMailer/commit/6767b0f21bd24d9ca7e0efcde640705772dedcbf#commitcomment-4963227\n. The specific logic that handles length looks good, but I think there's a problem with swapping the orders of createBody() and createHeader().  The createBody() function tries to use the data in $this->boundary, but it's not available because createHeader() hasn't run yet.\n. Maybe just spin out the initialization of $boundary into a separate function?\n. Oh wait, I see your point that the body needs to at least be analyzed before we know everything that goes into building the header.\n. ",
    "RooTooZ": "Thanks for answer!\n. ",
    "CMCDragonkai": "Thanks would be nice to mention on the readme.md.\n. Thanks would be nice to mention on the readme.md.\n. ",
    "drtobal": "sorry, my bad D:\n. ",
    "arbiant": "Thanks Synchro for the clarification.\n. ",
    "ashakunt": "Hi there, turns out that google was blocking all logins to smtp.gmail.com and I had to change our server's location. After that, everything worked fine.\nAlthough, still feel bad about creating this issue (since it was not an original PHPMailer issue), I am happy to close it. \nIn case you know any work-arounds for the original problem, feel free to ping me.\n. @Synchro \nThanks. I was using ssl with port 465 (and also tried tls with 587). As stated earlier in the original report, both of them worked fine on my localhost but not on the server. \nI would actually blame google for a wrong error message. (They could have simply said: Apps login not allowed from an un-supported location). \nI had to actually login to server, install links and try login from there to figure out the real problem.\n. @laivung \nPossibly, this should help: https://support.google.com/mail/answer/14257\nBut I cannot find out the forum topic Google Group says: The requested topic cannot be found. It might have been deleted.\n. The following content of what I wrote in the forum might help.\nHello there, \nWe just deployed our product from localhost to our production server from digitalocean. Our app relies on sending emails to new users using smtp.gmail.com. \nWhile sending emails when new accounts are created worked fine on localhost (and still works fine), this does not work on our production server.\nI have verified from our hosting provider and they have not blocked 465/587 for us. I am getting this error when I try to authenticate using PHPMailer library: \nSMTP -> ERROR: Password not accepted from server: 535-5.7.8\n279 Username and Password not accepted. Learn more at\\r\\n535 5.7.8 http://support.google.com/mail/bin/answer.py?answer=14257\n280 de1sm38014930pbc.7 - gsmtp\\r\\n\\r\\n\nNow, what are the things that I have tried already: \n1. I have tried unlocking the display captcha using the following url: https://accounts.google.com/accounts/DisplayUnlockCaptcha, and it says that access has been enabled. But it still fails to send me an email from my server. \nMy server is hosted in Amsterdam (as per the hosting provider) but the IP still geo-locates it to Russian Federation. Someone told me that smtp access to gmail is blocked from Russian Federation (but I am able to telnet from my server to smtp.gmail.com).\nCan you point me to what is the problem and how do I solve it? It is suddenly a huge blocker for us since we have announced the product on internet and social network. Everything is working like a charm but we are not sending any emails to our clients / customers.\nI have also tried to use captcha from the following url:  https://accounts.google.com/b/0/DisplayUnlockCaptcha  (it again says try accessing now, but nothing happens). \nFurther, I also tried it with  https://accounts.google.com/a//DisplayUnlockCaptcha but here, i always get that username / password do not match. \nSorry, the third captcha url is actually: https://www.google.com/a//UnlockCaptcha and not the one i posted with accounts.google.com above.\nThe URL to this post was: https://groups.google.com/a/googleproductforums.com/d/msgid/apps/1df83f0b-bf7c-46d2-871b-7039ff1c2598%40googleproductforums.com\nI hope I was able to answer your query. In case I was not, please give me more details so that I could try to help. Basically, if you are using a new set of IP to login using google apps and if the IP is not geo-located to right place, then such problems happen.\n. ",
    "priyankakhamga": "The reason to get error in console is that you have to allow less secure apps on.\nhttps://myaccount.google.com/lesssecureapps\nI hope this will help you to solve your problem. :-). ",
    "schultetwin": "I would agree that PHPMailer should just stick with \"\\r\\n\" and not allow changing line endings. That being said, if PHPMailer does support using \"\\n\" instead, I think it should be consistent throughout the email. I had an issue sending email with PHPMailer where the body lines ended in \"\\r\\n\" and the header lines ended in \"\\n\" because of the use of the quoted_printable_encode function. That made the e-mail not render properly on almost all email clients. A quick fix would be to add\nphp\nreturn $this->fixEOL(quoted_printable_encode($string))\nto the qpencode function.\n. ",
    "PeterDaveHello": "@Synchro : Welcome :)\n@ooxi : Maybe Transifex(https://www.transifex.com/) is an option\n. @ooxi : I just meet Transifex few weeks ago(I'm not a expert on i18n/l10n), I will try GetLocalization and will find out which one I like more, thanks for your information :)\n. If strings are not so many, translate them on github will be fine, because translation platform need another account and some more complex workflow. \n. line 319~340 in changelog.md:\n\n\nA note on sending bulk emails:                                                                                                                                              \nIf the email you are sending is not personalized, consider using the\n\"undisclosed-recipient:;\" strategy. That is, put all of your recipients\nin the Bcc field and set the To field to \"undisclosed-recipients:;\".\nIt's a lot faster (only one send) and saves quite a bit on resources.\nContrary to some opinions, this will not get you listed in spam engines -\nit's a legitimate way for you to send emails.                                                                                                                               \nA partial example for use with PHPMailer:                                                                                                                                   \n$mail->AddAddress(\"undisclosed-recipients:;\");                                                                                                                              \n$mail->AddBCC(\"email1@anydomain.com,email2@anyotherdomain.com,email3@anyalternatedomain.com\");\nMany email service providers restrict the number of emails that can be sent\nin any given time period. Often that is between 50 - 60 emails maximum\nper hour or per send session.                                                                                                                                               \nIf that's the case, then break up your Bcc lists into chunks that are one\nless than your limit, and put a pause in your script.                                                                                                                       \n\n. But, what about line 319~340 in changelog.md? There is no any new notes about it in change log or readme, actually, multiple addresses in a string works very well, I don't understand why not just support it? In RFC 2822, 3.6.3. Destination address fields (https://tools.ietf.org/html/rfc2822#page-22), it says:\nThe destination fields of a message consist of three possible fields,\n  each of the same form: The field name, which is either \"To\", \"Cc\", or\n  \"Bcc\", followed by a comma-separated list of one or more addresses\n  (either mailbox or group syntax).\n\nSo I think the format is totally correct to support ... the part of error control can be modify and is not the point of this problem, right? \n. May I ask why the validation can't let the RFC-compliant email addresses pass? even it works very well.\n. BTW, if change log is wrong, maybe readme file should say something about it ...\n. Okay, I got it, though I really want PHPMailer can support it, because there is no technical difficulties, and it's useful, it also works very well, hope you can consider it again, thanks!\n. ",
    "glevine-sugarcrm": "Thanks for the response. I got things sorted out. I was missing mailto: in the ORGANIZER property value. It should have been ORGANIZER;CN=Foo:mailto:foo@bar.com. And the biggest thing was that I needed to force the use of CRLF for line endings. The ATTENDEE property is also required, but that didn't seem to be a requirement to get Outlook and Mac Mail to render the RSVP buttons. My final iCal metadata looked like:\nVERSION:2.0\nBEGIN:VCALENDAR\nPRODID:-//FooBar//FooBar Calendar//EN\nMETHOD:REQUEST\nBEGIN:VEVENT\nUID:8f5a0777-bf6d-17d2-f14a-52e7feedf810\nORGANIZER;CN=Foo:mailto:foo@bar.com\nDTSTART:20140130T191500Z\nDTEND:20140130T194500Z\nDTSTAMP:20140129T144300Z\nSUMMARY:Foo Bar\nDESCRIPTION:\nEND:VEVENT\nEND:VCALENDAR\nFor my situation, I was unable to use the bundled EasyPeasyICS, but I did look at the iCal unit test to see how to set things up. And I probably used the same validators as you. The validators don't seem to catch everything though; the line endings are an example of something they missed. And as you mentioned, EasyPeasyICS doesn't seem match up with RFC 5546. As ICS support is expanded, it might be worth considering replacing EasyPeasyICS with something that implements the spec.\nSome other things of interest that I learned through this exercise:\n- Outlook and Mac Mail only show their RSVP buttons if you add the ICS content in the way that PHPMailer has implemented it. They will not show RSVP buttons if the ICS file is simply attached.\n- Gmail only shows its \"Add to calendar\" wrapper (its equivalent to RSVP buttons) if the ICS file is attached. The event is only added to your Google Calendar if the ICS file is attached.\n- When sending an invite from Outlook, the ICS content is added the way PHPMailer has implemented it. Thus, Outlook and Mac Mail will recognize it but Gmail will not.\n- When sending an invite from Mac Mail/iCal, the ICS file is attached. Thus, Gmail will recognize it but Outlook and Mac Mail will not.\n- When sending an invite from Gmail/Google Calendar, the ICS file is attached AND the ICS content is added the way PHPMailer has implemented it. Thus, all three clients will recognize it.\n. As far as the line endings go, the issue is with the ICS metadata. Since EasyPeasyICS is just wrapping a long string in EasyPeasyICS::render() the line endings are at the mercy of the OS on which the application is running (or whatever PHP_EOL is). If your system uses \\n, then those bytes will be encoded by PHPMailer. If your encoding is base64 then those lines are not fixed by PHPMailer::fixEOL. Only the lines at the end of each chunk would be fixed. That's just one detail to pay attention to.\nI didn't do any patching of PHPMailer or EasyPeasyICS -- I only made modifications in my own code that was building the ICS content to avoid changing a third-party library -- but I can certainly whip up a PR to address some of the things I learned. Is the plan to put EasyPeasyICS in its own repo and make it a dependency or to just start changing it from within the PHPMailer repo? I read some of your comments about using dependency injection for the SMTP class to allow for custom implementations, so this could be another example of the same concern.\nI did attempt a patch of PHPMailer for adding both the attachment and the ICS message part. However, I never got it to work in Gmail and I had to give up for the time being. So it would be premature for me to try to open a PR for that. But I'll share the patch I have, as well as the email sources from PHPMailer and Gmail that I've been diff-ing to help me chase down the root cause. Maybe one of us, or someone else in the community, will be able to figure it out from there.\n. ",
    "Bladezal": "Hello, i've a problem sending ical through PHPMailer to a gmail account, the ical file is send as an attachment, and for some reazon gmail don't add it to the calendar, if the same file is sent to an account and opened with Outlook, there is no problem at all. \nCould you help me with this matter?\nHere is an example of the ical file created with icalcreator:\nBEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Skytel.com//NONSGML kigkonsult.se iCalcreator 2.20.2//\nCALSCALE:GREGORIAN\nMETHOD:REQUEST\nX-WR-CALNAME:Entrevista\nX-WR-CALDESC:Entrevista con postulante para Programador\nBEGIN:VEVENT\nUID:20140522T123044PYT-5113wIaZ2j@Skytel.com\nDTSTAMP:20140522T163044Z\nATTENDEE;RSVP=TRUE;CN= EVERTON DANIEL CAZAL KONTOVSKI;X-NUM-GUESTS=0:MAILTO\n :daniel.cazal@skytel.com.py\nDESCRIPTION:El d\u00eda 23/05/2014 a las 16:30 hs  tiene entrevista con  la se\u00f1o\n ra Alicia Romina Garc\u00eda Olmedo por la postulaci\u00f3n al puesto de Programador\n .\\n\nDTSTART:20140523T163000\nDURATION:PT0H30M0S\nLOCATION:Sala de Reuniones\nORGANIZER;CN= EVERTON DANIEL CAZAL KONTOVSKI:MAILTO:daniel.cazal@skytel.com\n .py\nSEQUENCE:0\nSTATUS:CONFIRMED\nSUMMARY:Entrevista con postulante para Programador\nTRANSP:OPAQUE\nEND:VEVENT\nEND:VCALENDAR\nMany thanks for any help you could bringme.\n. ",
    "StrayDawg": "Is there an example of how to actually send an invite using phpmailer? I'm guessing on the format and order of things\n...\nphp\n    $invite = new EasyPeasyICS();\n    $invite->addEvent('06-06-2014 08:00:00','06-06-2014 17:00:00',\"TEST\",\"TEST\",\"\");\n    $mail = new PHPMailer();\n    $mail->isSMTP();\n    $mail->IsHTML(false);\n    $mail->SMTPDebug = 2;\n    $mail->Debugoutput = 'html';    \n    $mail->Host = 'spo.test.com';\n    $mail->Port = 587;\n    $mail->SMTPSecure = 'tls';\n    $mail->setFrom('david.g.obrien@test.com', 'OBrien, David');\n    $mail->addAddress('david.g.obrien@test.com', 'OBrien, David');    \n    $mail->Subject = \"TEST CALENDAR\";\n    $mail->Body = $invite; \n    $mail->AltBody = \"TEST CALENDAR\";\n    $mail->Ical = $invite;\n    if (!$mail->send()) {\n        echo \"Mailer Error: \" . $mail->ErrorInfo;\n    } else {\n        echo \"Message sent!\";\n    }\n...\n. ",
    "adsega": "Hello, I have the same problem than Bladezal , the RSVP buttons don't appear for me on Gmail however I include the ical in the multipart/alternative and as a attachment as you say and it works only on Outlook. I would appreciate if you could help me with this, here my headers and the Ical:\nContent-Type: multipart/mixed;\n    boundary=\"b1_48fb71c31b1b47230328819926821af0\"\nContent-Transfer-Encoding: 8bit\n--b1_48fb71c31b1b47230328819926821af0\nContent-Type: multipart/alternative;\n    boundary=\"b2_48fb71c31b1b47230328819926821af0\"\n--b2_48fb71c31b1b47230328819926821af0\nContent-Type: text/plain; charset=us-ascii\nTest\n--b2_48fb71c31b1b47230328819926821af0\nContent-Type: text/calendar; method=REQUEST; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nBEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Microsoft Corporation//Outlook 11.0 MIMEDIR//EN\nMETHOD:REQUEST\nBEGIN:VEVENT\nORGANIZER;CN='Bob Miller':MAILTO:bmiller34@gmail.com\nATTENDEE;CUTYPE=INDIVIDUAL;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;RSVP=TRUE;CN=Bob Miller;X-NUM-GUESTS=0:mailto:bmiller34@gmail.com\nDTSTART:20141031T170000Z\nDTEND:20141031T180000Z\nLOCATION: Online Seminar\nUID:d1b94cf324fe08271cefda68b295ee99@EasyPeasyICS.php\nDTSTAMP:20141031T170000Z\nDESCRIPTION:invitation to seminar\nSUMMARY:invitation to seminar\nSEQUENCE:0\nSTATUS:CONFIRMED\nEND:VEVENT\nEND:VCALENDAR\n--b2_48fb71c31b1b47230328819926821af0\nContent-Type: text/html; charset=us-ascii\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n\n\n\n\nSeminar invitation\n\n\n\nThis is an invitation to attend a seminar\n\nHost: smtp.gmail.comAttachments:Name: invite.ics, Encoding: base64, Type: text/calendar\n--b2_48fb71c31b1b47230328819926821af0--\n--b1_48fb71c31b1b47230328819926821af0\nContent-Type: text/calendar; name=\"invite.ics\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment; filename=invite.ics\nQkVHSU46VkNBTEVOREFSDQpWRVJTSU9OOjIuMA0KUFJPRElEOi0vL01pY3Jvc29mdCBDb3Jwb3JhdGlvbi8vT3V0bG9vayAxMS4wIE1JTUVESVIvL0VODQpNRVRIT0Q6UkVRVUVTVA0KQkVHSU46VkVWRU5UDQpPUkdBTklaRVI7Q049J0JvYiBNaWxsZXInOk1BSUxUTzpibWlsbGVyMzRAZ21haWwuY29tDQpBVFRFTkRFRTtDVVRZUEU9SU5ESVZJRFVBTDtST0xFPVJFUS1QQVJUSUNJUEFOVDtQQVJUU1RBVD1ORUVEUy1BQ1RJT047UlNWUD1UUlVFO0NOPUJvYiBNaWxsZXI7WC1OVU0tR1VFU1RTPTA6bWFpbHRvOmFkcmlhbnNlZ2FAZ21haWwuY29tDQpEVFNUQVJUOjIwMTQxMDMxVDE3MDAwMFoNCkRURU5EOjIwMTQxMDMxVDE4MDAwMFoNCkxPQ0FUSU9OOiBPbmxpbmUgU2VtaW5hciANClVJRDoyNjI4NDE3YjliN2YyOWZhZjZhMDc2N2FjZjAxNGZhNkBFYXN5UGVhc3lJQ1MucGhwDQpEVFNUQU1QOjIwMTQxMDMxVDE3MDAwMFoNCkRFU0NSSVBUSU9OOmludml0YXRpb24gdG8gc2VtaW5hcg0KU1VNTUFSWTppbnZpdGF0aW9uIHRvIHNlbWluYXINClNFUVVFTkNFOjANClNUQVRVUzpDT05GSVJNRUQNCkVORDpWRVZFTlQNCkVORDpWQ0FMRU5EQVINCg==\n--b1_48fb71c31b1b47230328819926821af0--\n. Hello, I have the same problem than Bladezal , the RSVP buttons don't appear for me on Gmail however I include the ical in the multipart/alternative and as a attachment as you say and it works only on Outlook. I would appreciate if you could help me with this, here my headers and the Ical:\nContent-Type: multipart/mixed;\n    boundary=\"b1_48fb71c31b1b47230328819926821af0\"\nContent-Transfer-Encoding: 8bit\n--b1_48fb71c31b1b47230328819926821af0\nContent-Type: multipart/alternative;\n    boundary=\"b2_48fb71c31b1b47230328819926821af0\"\n--b2_48fb71c31b1b47230328819926821af0\nContent-Type: text/plain; charset=us-ascii\nTest\n--b2_48fb71c31b1b47230328819926821af0\nContent-Type: text/calendar; method=REQUEST; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nBEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Microsoft Corporation//Outlook 11.0 MIMEDIR//EN\nMETHOD:REQUEST\nBEGIN:VEVENT\nORGANIZER;CN='Bob Miller':MAILTO:bmiller34@gmail.com\nATTENDEE;CUTYPE=INDIVIDUAL;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;RSVP=TRUE;CN=Bob Miller;X-NUM-GUESTS=0:mailto:bmiller34@gmail.com\nDTSTART:20141031T170000Z\nDTEND:20141031T180000Z\nLOCATION: Online Seminar\nUID:d1b94cf324fe08271cefda68b295ee99@EasyPeasyICS.php\nDTSTAMP:20141031T170000Z\nDESCRIPTION:invitation to seminar\nSUMMARY:invitation to seminar\nSEQUENCE:0\nSTATUS:CONFIRMED\nEND:VEVENT\nEND:VCALENDAR\n--b2_48fb71c31b1b47230328819926821af0\nContent-Type: text/html; charset=us-ascii\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n\n\n\n\nSeminar invitation\n\n\n\nThis is an invitation to attend a seminar\n\nHost: smtp.gmail.comAttachments:Name: invite.ics, Encoding: base64, Type: text/calendar\n--b2_48fb71c31b1b47230328819926821af0--\n--b1_48fb71c31b1b47230328819926821af0\nContent-Type: text/calendar; name=\"invite.ics\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment; filename=invite.ics\nQkVHSU46VkNBTEVOREFSDQpWRVJTSU9OOjIuMA0KUFJPRElEOi0vL01pY3Jvc29mdCBDb3Jwb3JhdGlvbi8vT3V0bG9vayAxMS4wIE1JTUVESVIvL0VODQpNRVRIT0Q6UkVRVUVTVA0KQkVHSU46VkVWRU5UDQpPUkdBTklaRVI7Q049J0JvYiBNaWxsZXInOk1BSUxUTzpibWlsbGVyMzRAZ21haWwuY29tDQpBVFRFTkRFRTtDVVRZUEU9SU5ESVZJRFVBTDtST0xFPVJFUS1QQVJUSUNJUEFOVDtQQVJUU1RBVD1ORUVEUy1BQ1RJT047UlNWUD1UUlVFO0NOPUJvYiBNaWxsZXI7WC1OVU0tR1VFU1RTPTA6bWFpbHRvOmFkcmlhbnNlZ2FAZ21haWwuY29tDQpEVFNUQVJUOjIwMTQxMDMxVDE3MDAwMFoNCkRURU5EOjIwMTQxMDMxVDE4MDAwMFoNCkxPQ0FUSU9OOiBPbmxpbmUgU2VtaW5hciANClVJRDoyNjI4NDE3YjliN2YyOWZhZjZhMDc2N2FjZjAxNGZhNkBFYXN5UGVhc3lJQ1MucGhwDQpEVFNUQU1QOjIwMTQxMDMxVDE3MDAwMFoNCkRFU0NSSVBUSU9OOmludml0YXRpb24gdG8gc2VtaW5hcg0KU1VNTUFSWTppbnZpdGF0aW9uIHRvIHNlbWluYXINClNFUVVFTkNFOjANClNUQVRVUzpDT05GSVJNRUQNCkVORDpWRVZFTlQNCkVORDpWQ0FMRU5EQVINCg==\n--b1_48fb71c31b1b47230328819926821af0--\n. ",
    "CM8Solutions": "Hi!\nHopefully someone is still following this topic because I really need help with this RSVP button issue. The thing is that I don't want those buttons to to appear so that the event is automatically accepted (mainly in Outlook). Any ideas how to do that?\n. But how do I do that? What changes do I have to make?\nThanks a lot!\n. ",
    "kamil-kielczewski": "For me problem was that RSVP buttons not appear in Gmail although I send valid .ics file. The solution was add proper mime type to email .ics file attachement: \n\nContent-Type: text/calendar; method=REQUEST; charset=UTF-8\n\nI do it in laravel 5 in this way:\nMail::queue('emails.reservationInvitation', compact('guest','attendeesList','reservation', 'dayBegin', 'dayName', 'hourBegin', 'hourEnd', 'length' )\n            , function ($message) use ($reservation, $subject, $guest, $icalendar) {\n                $message->attachData($icalendar, \"invite.ics\", ['mime' => 'text/calendar; method=REQUEST; charset=UTF-8']);\n                $message->to($guest['email'])->subject($subject); \n            });\nwhere $icalendar was string with content of my invite.ics file.. ",
    "christophercarlsson": "If I add an Ical and attach a file at the same time, the Ical info is not sent with the mail. If I remove the attachment, the mail is sent with the Ical info (however not recognized by Outlook/Mail..).\nMy PHP\n`$fp = fopen($_SERVER['DOCUMENT_ROOT'] . \"/ical.ics\", \"wb\");\n        fwrite($fp, $this->renderIcs($events, false));\n        fclose($fp);\n    $mail = new PHPMailer();\n    $mail->CharSet = \"UTF-8\";\n    $mail->isSMTP();\n    $mail->IsHTML(false);\n    $mail->Host = env('MAIL_HOST');\n    $mail->Port = env('MAIL_PORT');\n    $mail->SMTPAuth = true;\n    $mail->Username = env('MAIL_USERNAME');\n    $mail->Password = env('MAIL_PASSWORD');\n    $mail->setFrom($email, $name);\n    $mail->addAddress($email, $name);\n    $mail->Subject = trans('emails.reservation.email_subject', ['reservation_title' => strip_tags($reservation->title)]);\n    $mail->Body = \"test\";\n    $mail->AltBody = \"test\";\n    $mail->addAttachment($_SERVER['DOCUMENT_ROOT'] . \"/ical.ics\", 'calendar.ics', 'base64', 'text/calendar');\n    $mail->Ical = $this->renderIcs($events, false);\n\n    $mail->Send();\n    }`\n\nGives me the following mail:\n\nDate: Tue, 1 Aug 2017 14:44:29 +0000\nTo: xxx\nFrom: xxx\nSubject: Calendar Invite: asd\nMessage-ID: 7401f051c441e65793fba6425f30fccd@laravel\nX-Mailer: PHPMailer 5.2.24 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/mixed;\n  boundary=\"b1_7401f051c441e65793fba6425f30fccd\"\nContent-Transfer-Encoding: 8bit\nThis is a multi-part message in MIME format.\n--b1_7401f051c441e65793fba6425f30fccd\nContent-Type: multipart/alternative;\n  boundary=\"b2_7401f051c441e65793fba6425f30fccd\"\n--b2_7401f051c441e65793fba6425f30fccd\nContent-Type: text/plain; charset=us-ascii\ntest\n--b2_7401f051c441e65793fba6425f30fccd\nContent-Type: text/html; charset=us-ascii\ntest\n--b2_7401f051c441e65793fba6425f30fccd--\n--b1_7401f051c441e65793fba6425f30fccd\nContent-Type: text/calendar; name=\"calendar.ics\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment; filename=calendar.ics\nVkVSU0lPTjoyLjANCkJFR0lOOlZDQUxFTkRBUg0KUFJPRElEOi0vL2hhY2tzdy9oYW5kY2FsLy9OT05TR01MIHYxLjAvL0VODQpNRVRIT0Q6UkVRVUVTVA0KQkVHSU46VkVWRU5UDQpVSUQ6eHh4LTEyMy14eHgNCk9SR0FOSVpFUjtDTj14eHg6bWFpbHRvOnh4eA0KRFRTVEFSVDoyMDE3MDgwMVQxMzMwMDBaDQpEVEVORDoyMDE3MDgwMVQxMzQ1MDBaDQpEVFNUQU1QOjIwMTcwODAxVDE0NDQyOVoNClNVTU1BUlk6YXNkDQpERVNDUklQVElPTjp0ZXN0DQpMT0NBVElPTjpUZXN0aW5nIHJlc291cmNlDQpTRVFVRU5DRToxDQpFTkQ6VkVWRU5UDQpFTkQ6VkNBTEVOREFS\n--b1_7401f051c441e65793fba6425f30fccd--\n\nHowever - removing the attached file generates this:\n\nDate: Tue, 1 Aug 2017 14:44:17 +0000\nTo: xxx\nFrom: xxx\nSubject: Calendar Invite: asd\nMessage-ID: 0665272647344ea75df23a6698e8a8ff@laravel\nX-Mailer: PHPMailer 5.2.24 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n  boundary=\"b1_0665272647344ea75df23a6698e8a8ff\"\nContent-Transfer-Encoding: 8bit\nThis is a multi-part message in MIME format.\n--b1_0665272647344ea75df23a6698e8a8ff\nContent-Type: text/plain; charset=us-ascii\ntest\n--b1_0665272647344ea75df23a6698e8a8ff\nContent-Type: text/html; charset=us-ascii\ntest\n--b1_0665272647344ea75df23a6698e8a8ff\nContent-Type: text/calendar; method=REQUEST; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nVERSION:2.0\nBEGIN:VCALENDAR\nPRODID:-//hacksw/handcal//NONSGML v1.0//EN\nMETHOD:REQUEST\nBEGIN:VEVENT\nUID:xxx-123-xxx\nORGANIZER;CN=xxx:mailto:xxx\nDTSTART:20170801T131500Z\nDTEND:20170801T133000Z\nDTSTAMP:20170801T144417Z\nSUMMARY:asd\nDESCRIPTION:test\nLOCATION:Testing resource\nSEQUENCE:1\nEND:VEVENT\nEND:VCALENDAR\n--b1_0665272647344ea75df23a6698e8a8ff--\n\n\nWhat is causing this and why is it not working? Seemingly my ics file is valid and according to what i see in this thread... Thank you, that worked. They both are included now. However - I still get no RSVP buttons in either of Mac Mail and Outlook. Any idea on what is wrong? Im able to click the attached file in Mail and get it to add it to my calendar, but the same can not be done i Outlook.\n\nDate: Tue, 1 Aug 2017 15:42:22 +0000\nTo: xxx\nFrom: xxx\nSubject: Calendar Invite: test\nMessage-ID: 7f2ef0f72584f4006430793cafbac142d487260b5eeac5ab78c0058e50a9076e@laravel\nX-Mailer: PHPMailer 6.0.0 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/mixed;\n  boundary=\"b1_7f2ef0f72584f4006430793cafbac142d487260b5eeac5ab78c0058e50a9076e\"\nContent-Transfer-Encoding: 8bit\nThis is a multi-part message in MIME format.\n--b1_7f2ef0f72584f4006430793cafbac142d487260b5eeac5ab78c0058e50a9076e\nContent-Type: multipart/alternative;\n  boundary=\"b2_7f2ef0f72584f4006430793cafbac142d487260b5eeac5ab78c0058e50a9076e\"\n--b2_7f2ef0f72584f4006430793cafbac142d487260b5eeac5ab78c0058e50a9076e\nContent-Type: text/plain; charset=us-ascii\ntest\n--b2_7f2ef0f72584f4006430793cafbac142d487260b5eeac5ab78c0058e50a9076e\nContent-Type: text/html; charset=us-ascii\ntest\n--b2_7f2ef0f72584f4006430793cafbac142d487260b5eeac5ab78c0058e50a9076e\nContent-Type: text/calendar; method=REQUEST; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nBEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Microsoft Corporation//Outlook 11.0 MIMEDIR//EN\nMETHOD:REQUEST\nBEGIN:VEVENT\nUID:book-8@getmeetio.com\nORGANIZER;CN=Christopher Carlsson:mailto:xxxx\nATTENDEE;ROLE=REQ-PARTICIPANT;CN=Christopher Carlsson:mailto:xxxx\nACTION;RSVP=TRUE;CN=Christopher Carlsson;X-NUM-GUESTS=0:mailto:xxx\nDTSTART:20170802T090000Z\nDTEND:20170802T091500Z\nDTSTAMP:20170801T154222Z\nSUMMARY:test\nDESCRIPTION:test\nLOCATION:Testing resource\nSEQUENCE:1\nSTATUS:CONFIRMED\nEND:VEVENT\nEND:VCALENDAR\n--b2_7f2ef0f72584f4006430793cafbac142d487260b5eeac5ab78c0058e50a9076e--\n--b1_7f2ef0f72584f4006430793cafbac142d487260b5eeac5ab78c0058e50a9076e\nContent-Type: text/calendar; name=\"calendar.ics\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment; filename=calendar.ics\nQkVHSU46VkNBTEVOREFSDQpWRVJTSU9OOjIuMA0KUFJPRElEOi0vL01pY3Jvc29mdCBDb3Jwb3JhdGlvbi8vT3V0bG9vayAxMS4wIE1JTUVESVIvL0VODQpNRVRIT0Q6UkVRVUVTVA0KQkVHSU46VkVWRU5UDQpVSUQ6Ym9vay04QGdldG1lZXRpby5jb20NCk9SR0FOSVpFUjtDTj1DaHJpc3RvcGhlciBDYXJsc3NvbjptYWlsdG86eHh4DQpBVFRFTkRFRTtST0xFPVJFUS1QQVJUSUNJUEFOVDtDTj1DaHJpc3RvcGhlciBDYXJsc3NvbjptYWlsdG86eHh4DQpBQ1RJT047UlNWUD1UUlVFO0NOPUNocmlzdG9waGVyIENhcmxzc29uO1gtTlVNLUdVRVNUUz0wOm1haWx0bzp4eHgNCkRUU1RBUlQ6MjAxNzA4MDJUMDkwMDAwWg0KRFRFTkQ6MjAxNzA4MDJUMDkxNTAwWg0KRFRTVEFNUDoyMDE3MDgwMVQxNTQyMjJaDQpTVU1NQVJZOnRlc3QNCkRFU0NSSVBUSU9OOnRlc3QNCkxPQ0FUSU9OOlRlc3RpbmcgcmVzb3VyY2UNClNFUVVFTkNFOjENClNUQVRVUzpDT05GSVJNRUQNCkVORDpWRVZFTlQNCkVORDpWQ0FMRU5EQVI=\n--b1_7f2ef0f72584f4006430793cafbac142d487260b5eeac5ab78c0058e50a9076e--\n. Im comparing to the reply above that @adsega posted, saying he could get it to work in Outlook. Buttons don't appear with just one or the other.. Thank you for your continued efforts. Unfortunately it still does not work. The mail source is the following, but still no RSVP/ability to add to calendar in outlook nor Mail.\nSubject: Calendar Invite: Test\nMessage-ID: d83d69dae575b544ae866adb06fa17e53e7014bfcc12978a468b83895932fa87@laravel\nX-Mailer: PHPMailer 6.0.0 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Class: urn:content-classes:calendarmessage\nContent-Type: multipart/mixed;\n  boundary=\"b1_d83d69dae575b544ae866adb06fa17e53e7014bfcc12978a468b83895932fa87\"\nContent-Transfer-Encoding: 8bit\nThis is a multi-part message in MIME format.\n--b1_d83d69dae575b544ae866adb06fa17e53e7014bfcc12978a468b83895932fa87\nContent-Type: multipart/alternative;\n  boundary=\"b2_d83d69dae575b544ae866adb06fa17e53e7014bfcc12978a468b83895932fa87\"\n--b2_d83d69dae575b544ae866adb06fa17e53e7014bfcc12978a468b83895932fa87\nContent-Type: text/plain; charset=us-ascii\ntest\n--b2_d83d69dae575b544ae866adb06fa17e53e7014bfcc12978a468b83895932fa87\nContent-Type: text/html; charset=us-ascii\ntest\n--b2_d83d69dae575b544ae866adb06fa17e53e7014bfcc12978a468b83895932fa87\nContent-Type: text/calendar; method=REQUEST; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nContent-Class: urn:content-classes:calendarmessage\nBEGIN:VCALENDAR\nMETHOD:REQUEST\nPRODID:Microsoft Exchange Server 2010\nVERSION:2.0\nBEGIN:VEVENT\nUID:book-25@xxx\nORGANIZER;CN=Christopher Carlsson:mailto:xxx\nATTENDEE;ROLE=REQ-PARTICIPANT;CN=Christopher Carlsson:mailto:xxx\nACTION;RSVP=TRUE;CN=Christopher Carlsson;X-NUM-GUESTS=0:mailto:xxx\nDTSTART:20170804T134500Z\nDTEND:20170804T140000Z\nDTSTAMP:20170804T112625Z\nSUMMARY:Test\nDESCRIPTION:test\nLOCATION:Testresurs\nSEQUENCE:1\nSTATUS:CONFIRMED\nEND:VEVENT\nEND:VCALENDAR\n--b2_d83d69dae575b544ae866adb06fa17e53e7014bfcc12978a468b83895932fa87--\n--b1_d83d69dae575b544ae866adb06fa17e53e7014bfcc12978a468b83895932fa87\nContent-Type: text/calendar; name=\"calendar.ics\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment; filename=calendar.ics\nQkVHSU46VkNBTEVOREFSDQpNRVRIT0Q6UkVRVUVTVA0KUFJPRElEOk1pY3Jvc29mdCBFeGNoYW5nZSBTZXJ2ZXIgMjAxMA0KVkVSU0lPTjoyLjANCkJFR0lOOlZFVkVOVA0KVUlEOmJvb2stMjVAeHh4DQpPUkdBTklaRVI7Q049Q2hyaXN0b3BoZXIgQ2FybHNzb246bWFpbHRvOnh4eA0KQVRURU5ERUU7Uk9MRT1SRVEtUEFSVElDSVBBTlQ7Q049Q2hyaXN0b3BoZXIgQ2FybHNzb246bWFpbHRvOnh4eA0KQUNUSU9OO1JTVlA9VFJVRTtDTj1DaHJpc3RvcGhlciBDYXJsc3NvbjtYLU5VTS1HVUVTVFM9MDptYWlsdG86eHh4DQpEVFNUQVJUOjIwMTcwODA0VDEzNDUwMFoNCkRURU5EOjIwMTcwODA0VDE0MDAwMFoNCkRUU1RBTVA6MjAxNzA4MDRUMTEyNjI1Wg0KU1VNTUFSWTpUZXN0DQpERVNDUklQVElPTjp0ZXN0DQpMT0NBVElPTjpUZXN0cmVzdXJzDQpTRVFVRU5DRToxDQpTVEFUVVM6Q09ORklSTUVEDQpFTkQ6VkVWRU5UDQpFTkQ6VkNBTEVOREFS\n--b1_d83d69dae575b544ae866adb06fa17e53e7014bfcc12978a468b83895932fa87--\n. I've finally solved this outside of PHPMailer, using PHP's own mail function. The issue seems to have been that the VCALENDAR object needed to have a timezone specified - this gave me the RSVP buttons.\n$reservation = Reservation::with('user')->with('resource')->find($id);\n$boundary = \"--\" . md5(time());\n$origin_format = 'Y-m-d H:i:s';\n$format = 'Ymd\\THis';\n$headers = \"From: My sender my@sender.com\\n\";\n$headers .= \"Reply-To: My sender my@sender.com\\n\";\n$headers .= \"Content-Type: text/calendar; method=REQUEST;boundary=\\\"\" . $boundary . \"\\\";charset=\\\"utf-8\\\"\\n\";\n$headers .= \"Content-Transfer-Encoding: 7bit\\n\";\n$ical =\"X-Mailer: Microsoft Office Outlook 12.0\nBEGIN:VCALENDAR\nPRODID:-//Microsoft Corporation//Outlook 12.0 MIMEDIR//EN\nVERSION:2.0\nMETHOD:REQUEST\nX-MS-OLK-FORCEINSPECTOROPEN:TRUE\nBEGIN:VTIMEZONE\nTZID:UTC\nBEGIN:STANDARD\nDTSTART:20171010T000000\nRRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10\nTZOFFSETFROM:+0000\nTZOFFSETTO:+0000\nEND:STANDARD\nBEGIN:DAYLIGHT\nDTSTART:20170310T000000\nRRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=3\nTZOFFSETFROM:+0000\nTZOFFSETTO:+0000\nEND:DAYLIGHT\nEND:VTIMEZONE\nBEGIN:VEVENT\nATTENDEE;CN=\\\"'\" . $reservation->user->name . \"'\\\";RSVP=TRUE:mailto:\" . $reservation->user->email . \"\nCLASS:PUBLIC\nCREATED:\" . Carbon::now()->format('Ymd\\THis') . \"\nDTEND;TZID=\\\"UTC\\\":\" . Carbon::createFromFormat($origin_format, $reservation->ends_at)->format($format) . \"\nDTSTAMP:\" . Carbon::now()->format('Ymd\\THis') . \"\nDTSTART;TZID=\\\"UTC\\\":\" . Carbon::createFromFormat($origin_format, $reservation->starts_at)->format($format) . \"\nLAST-MODIFIED:20171113T133000\nLOCATION:\" . $reservation->resource->label . \"\nORGANIZER;CN=Meetio Book:mailto:my@sender.com\nPRIORITY:5\nSEQUENCE:1\nSUMMARY:Updated: \" . $reservation->title . \"\nTRANSP:OPAQUE\nUID:\" . str_random(40) . \"\nEND:VEVENT\nEND:VCALENDAR\";\n$subject = $reservation->title;\n$mail_sent = mail($reservation->user->email, $subject, $ical, $headers);\n\nHope this helps you solve the issue in PHPMailer.\n. ",
    "gunkire": "https://forums.phpfreaks.com/topic/157171-solved-phpmailer-custom-content/?p=829136. https://forums.phpfreaks.com/topic/157171-solved-phpmailer-custom-content/?p=829136. ",
    "omocinteractive": "... is there any solution with PhpMailer 5.2? Maybe in the new version of PhpMailer?\n  . ",
    "vsachin": "$mail->isSMTP();                                      // Set mailer to use\nSMTP\n      $mail->Host = 'smtp.gmail.com:465';  // Specify main and backup server\n      $mail->SMTPAuth = true;                               // Enable SMTP\nauthentication\n      $mail->Username = 'cs@arvindinternet.com';\n // SMTP username\n      $mail->Password = '***';                           // SMTP\npassword\n      $mail->SMTPSecure = 'ssl';                            // Enable\nencryption, 'ssl' also accepted\n$mail->From = 'cs@arvindinternet.com';\n  $mail->FromName = 'Creyate';\n  $mail->addAddress('sachin@arvindinternet.com', 'Sachin')\nThese are the settings i am trying to use.\nOn Tue, Feb 4, 2014 at 3:34 PM, ooxi notifications@github.com wrote:\n\nIt looks like the name or service you like to resolve does not exist.\nWhich name or service are you trying to resolve?\n\nReply to this email directly or view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/179#issuecomment-34045304\n.\n. Hey .. It worked.. I just had to change smtp settings in php.ini. It worked\nfor me.. Hurray! :)\n\nOn Tue, Feb 4, 2014 at 3:41 PM, Sachin Velaga sachin@arvindinternet.comwrote:\n\n$mail->isSMTP();                                      // Set mailer to use\nSMTP\n      $mail->Host = 'smtp.gmail.com:465';  // Specify main and backup\nserver\n      $mail->SMTPAuth = true;                               // Enable SMTP\nauthentication\n      $mail->Username = 'cs@arvindinternet.com';\n   // SMTP username\n      $mail->Password = '***';                           // SMTP\npassword\n      $mail->SMTPSecure = 'ssl';                            // Enable\nencryption, 'ssl' also accepted\n$mail->From = 'cs@arvindinternet.com';\n  $mail->FromName = 'Creyate';\n  $mail->addAddress('sachin@arvindinternet.com', 'Sachin')\nThese are the settings i am trying to use.\nOn Tue, Feb 4, 2014 at 3:34 PM, ooxi notifications@github.com wrote:\n\nIt looks like the name or service you like to resolve does not exist.\nWhich name or service are you trying to resolve?\n\nReply to this email directly or view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/179#issuecomment-34045304\n.\n. config file for php in apache server.\n\n\nOn Mon, Sep 22, 2014 at 6:13 PM, Damian Nowak notifications@github.com\nwrote:\n\n@vsachin https://github.com/vsachin What exactly in php.ini?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/179#issuecomment-56366947.\n\n\nThanks,\nRegards\nSachin\n. ",
    "Nowaker": "@vsachin What exactly in php.ini?\n. @vsachin Not what file, but what exactly you set there.\n. ",
    "zbbach": "I see there was no answer from vsachin. \nWhat you need to do is enable \"extension=php_openssl.dll\" in your PHP.INI\n(either by removing comment in front of it, or by adding the new line with this content, in \"extensions\" section)\nThen, of course, restart Apache.\n. ",
    "blackvvine": "Hi, I'm on linux and I have the very same problem. Do I have to change anything in php.ini ?\nWhy isn't this mentioned in the installation tutorial at main github page?\n. Hi, I'm on linux and I have the very same problem. Do I have to change anything in php.ini ?\nWhy isn't this mentioned in the installation tutorial at main github page?\n. ",
    "Sathiesh": "I am getting errors like below while using PHPMailer and am using php 7.0. Actually my mailing process worked good but I just restart my system and connect it  again it shows an error likes below,                                                                                       Connection: opening to smtp.gmail.com:587, timeout=300, options=array ()\nConnection failed. Error #2: stream_socket_client(): php_network_getaddresses: getaddrinfo failed: Name or service not known [/var/www/html/email/PHPMailerMaster/class.smtp.php line 292]\nConnection failed. Error #2: stream_socket_client(): unable to connect to smtp.gmail.com:587 (php_network_getaddresses: getaddrinfo failed: Name or service not known) [/var/www/html/email/PHPMailerMaster/class.smtp.php line 292]\nSMTP ERROR: Failed to connect to server: php_network_getaddresses: getaddrinfo failed: Name or service not known (0)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/TroubleshootingI  enabled \"extension=php_openssl.dll\" in my PHP.INI  Kindly help me to resolve it \n. Yeah DNS config broken means that I have enable php_openssl.dll extension in my PHP.INI right? or any other solution having\nPlease help me solve it\n. Oh right. then how to solve that issue?. @Synchro am waiting for your response. I tested all the commands which are given in troubleshoot guide, everything works perfect but the mail doesn't sent\nKindly help me. Hi,\n I'm trying to send email through PHPMailer but I'm getting the following error \n2017-05-08 06:06:02 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP e16sm22889605pfk.100 - smtp\n2017-05-08 06:06:02 CLIENT -> SERVER: EHLO localhost\n2017-05-08 06:06:02 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [117.202.190.98] 250-SIZE 35882577 250-8BITMIME 250-STARTTLS 250-ENHANCEDSTATUSCODES 250-PIPELINING 250-CHUNKING 250 SMTPUTF8\n2017-05-08 06:06:02 CLIENT -> SERVER: STARTTLS\n2017-05-08 06:06:02 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS 2017-05-08 06:06:02 SMTP Error: Could not connect to SMTP host.\n2017-05-08 06:06:02 CLIENT -> SERVER: QUIT\n2017-05-08 06:06:03 SERVER -> CLIENT:\n2017-05-08 06:06:03 SMTP ERROR: QUIT command failed: 2017-05-08 06:06:03 SMTP connect() failed.\nhow to solve it?. Hi,\n I'm trying to send email through PHPMailer but I'm getting the following error \n2017-05-08 06:06:02 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP e16sm22889605pfk.100 - smtp\n2017-05-08 06:06:02 CLIENT -> SERVER: EHLO localhost\n2017-05-08 06:06:02 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [117.202.190.98] 250-SIZE 35882577 250-8BITMIME 250-STARTTLS 250-ENHANCEDSTATUSCODES 250-PIPELINING 250-CHUNKING 250 SMTPUTF8\n2017-05-08 06:06:02 CLIENT -> SERVER: STARTTLS\n2017-05-08 06:06:02 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS 2017-05-08 06:06:02 SMTP Error: Could not connect to SMTP host.\n2017-05-08 06:06:02 CLIENT -> SERVER: QUIT\n2017-05-08 06:06:03 SERVER -> CLIENT:\n2017-05-08 06:06:03 SMTP ERROR: QUIT command failed: 2017-05-08 06:06:03 SMTP connect() failed.\nhow to solve it?. Is it necessary to turn on the less secure apps of my gmail account? why I'm asking this means am trying to do send email in production. \nI tried without turn on my less secure apps of my email account, I get error like below\nSMTP ERROR: Password command failed: 534-5.7.14 \nSMTP Error: Could not authenticate.. Is it necessary to turn on the less secure apps of my gmail account? why I'm asking this means am trying to do send email in production. \nI tried without turn on my less secure apps of my email account, I get error like below\nSMTP ERROR: Password command failed: 534-5.7.14 \nSMTP Error: Could not authenticate.. ",
    "ohmybrew": "@Synchro I've added the pull.\n. ",
    "bhall7": "I tried exactly what you said here, $mail->XMailer = ' ';, but unfortunately, it's still inserting the header, X-Mailer: PHPMailer 5.2.7 (https://github.com/PHPMailer/PHPMailer/)\n. Right. I got it to work. Turns out I had another instance in my script where I forgot to add $mail->XMailer = '';  Thanks! \n. ",
    "gaecom": "if ($this->XMailer == '') {\n            $result .= $this->headerLine(\n                'X-Mailer',\n                'PHPMailer ' . $this->Version . ' (https://github.com/PHPMailer/PHPMailer)'\n  );\nyou cant leave  $mail->XMailer empty,you should assign value.such as $this->XMailer='Microsoft Mailer';\n. ",
    "shamil8124": "It's also possible that the server you're hosting your script on, has the specified port blocked. I had a similar issue a few weeks ago, and my had port 25 blocked. Which port are you using?\n. It's also possible that the server you're hosting your script on, has the specified port blocked. I had a similar issue a few weeks ago, and my had port 25 blocked. Which port are you using?\n. ",
    "pchaigno": "Which version of PHPMailer are you using?\n. ",
    "DavidA94": "Version: 5.2.7\nReturn status: Valid\nNo debugging.\nwhile($row = $addrs->fetch(PDO::FETCH_ASSOC)){\n            // Set name and address to be sent to\n            $mail->addAddress($row[\"email\"], $row[\"name\"]);\n            $msgs .= \"Message sent to {$row[\"name\"]} <{$row[\"email\"]}> \\n\";\n        }\n$msgs shows all emails.\nMy server shows all emails being sent successfully\nThe one email the comes through shows all email addresses.\nOnly one is ever received.\n. Version: 5.2.7\nReturn status: Valid\nNo debugging.\nwhile($row = $addrs->fetch(PDO::FETCH_ASSOC)){\n            // Set name and address to be sent to\n            $mail->addAddress($row[\"email\"], $row[\"name\"]);\n            $msgs .= \"Message sent to {$row[\"name\"]} <{$row[\"email\"]}> \\n\";\n        }\n$msgs shows all emails.\nMy server shows all emails being sent successfully\nThe one email the comes through shows all email addresses.\nOnly one is ever received.\n. ",
    "jfha73": "I just did and I'm getting this, my code is at the end, I get the variables from a form:\nSMTP -> FROM SERVER:220 BLUPR06CA005.outlook.office365.com Microsoft ESMTP MAIL Service ready at Wed, 26 Feb 2014 18:17:55 +0000\nCLIENT -> SMTP: EHLO localhost\nSMTP -> FROM SERVER:250-BLUPR06CA005.outlook.office365.com Hello [74.8.80.62]250-SIZE 78643200250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-8BITMIME250-BINARYMIME250 CHUNKING\nCLIENT -> SMTP: AUTH LOGIN\nSMTP -> FROM SERVER:504 5.7.4 Unrecognized authentication type\nSMTP -> ERROR: AUTH command failed: 504 5.7.4 Unrecognized authentication type\nCLIENT -> SMTP: QUIT\nSMTP -> FROM SERVER:221 2.0.0 Service closing transmission channel\nSo how can I set the Authentication type with PHPMailer?\nThis is my code:\n``` php\n<?php\n//require('phpmailer/class.phpmailer.php');\nrequire 'phpmailer/PHPMailerAutoload.php';\n$mail = new PHPMailer(true); \n$mail->SMTPSecure = \"starttls\";\n$mail->SMTPAuth   = true;\n$mail->Username   = $_POST['from'];\n$mail->Password   = $_POST['pwd'];\n$mail_from        = $_POST['from'];\n$subject          = $_POST['subject'];\n$body             = $_POST['message'];\n$mail_to          = $_POST['to'];\n$mail->IsSMTP(); \ntry {\n  $mail->Host       = \"smtp.office365.com\"; // SMTP server\n  $mail->Port = \"587\"; //SMTP Port\n  $mail->SMTPDebug  = 2;                     // enables SMTP debug information (for testing)\n  $mail->Debugoutput = 'html';\n  $mail->AddAddress($mail_to, '');\n  $mail->SetFrom($mail_from); \n  $mail->Subject = $subject;\n  $mail->MsgHTML($body);\n  $mail->Send();\n  echo \"Message Sent...\\n\";\n  echo \"Click here to send another email\";\n} catch (phpmailerException $e) {\n  echo $e->errorMessage(); //Pretty error messages from PHPMailer\n  echo \"Using Username: \".$mail->Username.\"\";\n} catch (Exception $e) {\n  echo $e->getMessage(); //Boring error messages from anything else!\n}\n?>\n```\n. I just did and I'm getting this, my code is at the end, I get the variables from a form:\nSMTP -> FROM SERVER:220 BLUPR06CA005.outlook.office365.com Microsoft ESMTP MAIL Service ready at Wed, 26 Feb 2014 18:17:55 +0000\nCLIENT -> SMTP: EHLO localhost\nSMTP -> FROM SERVER:250-BLUPR06CA005.outlook.office365.com Hello [74.8.80.62]250-SIZE 78643200250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-8BITMIME250-BINARYMIME250 CHUNKING\nCLIENT -> SMTP: AUTH LOGIN\nSMTP -> FROM SERVER:504 5.7.4 Unrecognized authentication type\nSMTP -> ERROR: AUTH command failed: 504 5.7.4 Unrecognized authentication type\nCLIENT -> SMTP: QUIT\nSMTP -> FROM SERVER:221 2.0.0 Service closing transmission channel\nSo how can I set the Authentication type with PHPMailer?\nThis is my code:\n``` php\n<?php\n//require('phpmailer/class.phpmailer.php');\nrequire 'phpmailer/PHPMailerAutoload.php';\n$mail = new PHPMailer(true); \n$mail->SMTPSecure = \"starttls\";\n$mail->SMTPAuth   = true;\n$mail->Username   = $_POST['from'];\n$mail->Password   = $_POST['pwd'];\n$mail_from        = $_POST['from'];\n$subject          = $_POST['subject'];\n$body             = $_POST['message'];\n$mail_to          = $_POST['to'];\n$mail->IsSMTP(); \ntry {\n  $mail->Host       = \"smtp.office365.com\"; // SMTP server\n  $mail->Port = \"587\"; //SMTP Port\n  $mail->SMTPDebug  = 2;                     // enables SMTP debug information (for testing)\n  $mail->Debugoutput = 'html';\n  $mail->AddAddress($mail_to, '');\n  $mail->SetFrom($mail_from); \n  $mail->Subject = $subject;\n  $mail->MsgHTML($body);\n  $mail->Send();\n  echo \"Message Sent...\\n\";\n  echo \"Click here to send another email\";\n} catch (phpmailerException $e) {\n  echo $e->errorMessage(); //Pretty error messages from PHPMailer\n  echo \"Using Username: \".$mail->Username.\"\";\n} catch (Exception $e) {\n  echo $e->getMessage(); //Boring error messages from anything else!\n}\n?>\n```\n. Found it in the documentation, so I tried PLAIN and it didn't work either.\n. Found it in the documentation, so I tried PLAIN and it didn't work either.\n. Neither do NTLM and CRAM-MD5, so any ideas?\nAnd before you ask, yes I did include the realm and workstation with NTLM\n. Neither do NTLM and CRAM-MD5, so any ideas?\nAnd before you ask, yes I did include the realm and workstation with NTLM\n. I tried both, tls won't connect to office365, starttls connects but it doesn't authenticate.\nAlso, I tested the smtp class from phpclasses.org (http://www.phpclasses.org/package/14-PHP-Sends-e-mail-messages-via-SMTP-protocol.html) and it works, so it has to do with the smtp class that PHPMailer uses.\n. I tried both, tls won't connect to office365, starttls connects but it doesn't authenticate.\nAlso, I tested the smtp class from phpclasses.org (http://www.phpclasses.org/package/14-PHP-Sends-e-mail-messages-via-SMTP-protocol.html) and it works, so it has to do with the smtp class that PHPMailer uses.\n. This is what I get when I use tls:\nSMTP -> FROM SERVER:220 BLUPR06CA017.outlook.office365.com Microsoft ESMTP MAIL Service ready at Wed, 26 Feb 2014 19:46:08 +0000\nCLIENT -> SMTP: EHLO localhost\nSMTP -> FROM SERVER:250-BLUPR06CA017.outlook.office365.com Hello [74.8.80.62]250-SIZE 78643200250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-8BITMIME250-BINARYMIME250 CHUNKING\nCLIENT -> SMTP: STARTTLS\nSMTP -> FROM SERVER:220 2.0.0 SMTP server ready\nCLIENT -> SMTP: QUIT\nSMTP -> FROM SERVER:\nSMTP -> ERROR: QUIT command failed:\nSMTP Error: Could not connect to SMTP host.\nFor tls it looks like PHPMailer quits after the server says it's ready.\n. This is what I get when I use tls:\nSMTP -> FROM SERVER:220 BLUPR06CA017.outlook.office365.com Microsoft ESMTP MAIL Service ready at Wed, 26 Feb 2014 19:46:08 +0000\nCLIENT -> SMTP: EHLO localhost\nSMTP -> FROM SERVER:250-BLUPR06CA017.outlook.office365.com Hello [74.8.80.62]250-SIZE 78643200250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-8BITMIME250-BINARYMIME250 CHUNKING\nCLIENT -> SMTP: STARTTLS\nSMTP -> FROM SERVER:220 2.0.0 SMTP server ready\nCLIENT -> SMTP: QUIT\nSMTP -> FROM SERVER:\nSMTP -> ERROR: QUIT command failed:\nSMTP Error: Could not connect to SMTP host.\nFor tls it looks like PHPMailer quits after the server says it's ready.\n. I just downloaded the master version and tried it but I keep getting the same error and I am using the gmail example for this purpose.\n. I just downloaded the master version and tried it but I keep getting the same error and I am using the gmail example for this purpose.\n. Also, I found this problem when I downloaded and installed PHPList that uses this class and it couldn't connect either, so it's not only me or my code, there is PHPList also with this problem.\n. Also, I found this problem when I downloaded and installed PHPList that uses this class and it couldn't connect either, so it's not only me or my code, there is PHPList also with this problem.\n. The original class can be found at http://www.phpclasses.org, the one \nthe webapp I'm using where it works is this (maybe older)\n. The original class can be found at http://www.phpclasses.org, the one \nthe webapp I'm using where it works is this (maybe older)\n. I had to ask the developer of the webapp it uses it, I turned it on but \ngot no debug, so I'm waiting for him to tell me how can I get it.\n. I had to ask the developer of the webapp it uses it, I turned it on but \ngot no debug, so I'm waiting for him to tell me how can I get it.\n. Here it is a working TLS connection with Office365:\n```\nResolving SMTP server domain \"smtp.office365.com\"...\nConnecting to host address \"132.245.8.12\" port 587...\nConnected to SMTP server \"smtp.office365.com\".\nS 220 BLUPR07CA031.outlook.office365.com Microsoft ESMTP MAIL Service \nready at Thu, 27 Feb 2014 18:00:37 +0000\nC EHLO localhost\nS 250-BLUPR07CA031.outlook.office365.com Hello [xxx.xxx.xxx.xxx]\nS 250-SIZE 78643200\nS 250-PIPELINING\nS 250-DSN\nS 250-ENHANCEDSTATUSCODES\nS 250-STARTTLS\nS 250-8BITMIME\nS 250-BINARYMIME\nS 250 CHUNKING\nC STARTTLS\nS 220 2.0.0 SMTP server ready\nStarting TLS cryptograpic protocol\nTLS started\nC EHLO localhost\nS 250-BLUPR07CA031.outlook.office365.com Hello [74.8.80.62]\nS 250-SIZE 78643200\nS 250-PIPELINING\nS 250-DSN\nS 250-ENHANCEDSTATUSCODES\nS 250-AUTH LOGIN\nS 250-8BITMIME\nS 250-BINARYMIME\nS 250 CHUNKING\nC AUTH LOGIN\nS 334 VXNlcm5hbWU6\nC amZoZXJuYW5kZXpAaGVhbHRoc29sdXRpb25zLm9yZw==\nS 334 UGFzc3dvcmQ6\nC Sm9yMTA3M0xpeg==\nS 235 2.7.0 Authentication successful\nC MAIL FROM:jfhernandez@healthsolutions.org\nC RCPT TO:jfha73@gmail.com\nC DATA\nS 250 2.1.0 Sender OK\nS 250 2.1.5 Recipient OK\nS 354 Start mail input; end with .\nC From: jfhernandez@healthsolutions.org\nTo: jfha73@gmail.com\nSubject: Testing Manuel Lemos' SMTP class\nDate: Thu, 27 Feb 2014 13:00:38 Eastern Standard Time\nC Hello jfha73@gmail.com,\nIt is just to let you know that your SMTP class is working just fine.\nBye.\nC\n.\nS 250 2.6.0 \n9f632b06-9e00-4360-aa2e-159b1da04451@CO1PR02MB144.namprd02.prod.outlook.com \n[InternalId=31988916420822, \nHostname=CO1PR02MB144.namprd02.prod.outlook.com] Queued mail for delivery\nC QUIT\nS 221 2.0.0 Service closing transmission channel\nDisconnected.\nMessage sent to jfha73@gmail.com OK.\n```\n. Here it is a working TLS connection with Office365:\n```\nResolving SMTP server domain \"smtp.office365.com\"...\nConnecting to host address \"132.245.8.12\" port 587...\nConnected to SMTP server \"smtp.office365.com\".\nS 220 BLUPR07CA031.outlook.office365.com Microsoft ESMTP MAIL Service \nready at Thu, 27 Feb 2014 18:00:37 +0000\nC EHLO localhost\nS 250-BLUPR07CA031.outlook.office365.com Hello [xxx.xxx.xxx.xxx]\nS 250-SIZE 78643200\nS 250-PIPELINING\nS 250-DSN\nS 250-ENHANCEDSTATUSCODES\nS 250-STARTTLS\nS 250-8BITMIME\nS 250-BINARYMIME\nS 250 CHUNKING\nC STARTTLS\nS 220 2.0.0 SMTP server ready\nStarting TLS cryptograpic protocol\nTLS started\nC EHLO localhost\nS 250-BLUPR07CA031.outlook.office365.com Hello [74.8.80.62]\nS 250-SIZE 78643200\nS 250-PIPELINING\nS 250-DSN\nS 250-ENHANCEDSTATUSCODES\nS 250-AUTH LOGIN\nS 250-8BITMIME\nS 250-BINARYMIME\nS 250 CHUNKING\nC AUTH LOGIN\nS 334 VXNlcm5hbWU6\nC amZoZXJuYW5kZXpAaGVhbHRoc29sdXRpb25zLm9yZw==\nS 334 UGFzc3dvcmQ6\nC Sm9yMTA3M0xpeg==\nS 235 2.7.0 Authentication successful\nC MAIL FROM:jfhernandez@healthsolutions.org\nC RCPT TO:jfha73@gmail.com\nC DATA\nS 250 2.1.0 Sender OK\nS 250 2.1.5 Recipient OK\nS 354 Start mail input; end with .\nC From: jfhernandez@healthsolutions.org\nTo: jfha73@gmail.com\nSubject: Testing Manuel Lemos' SMTP class\nDate: Thu, 27 Feb 2014 13:00:38 Eastern Standard Time\nC Hello jfha73@gmail.com,\nIt is just to let you know that your SMTP class is working just fine.\nBye.\nC\n.\nS 250 2.6.0 \n9f632b06-9e00-4360-aa2e-159b1da04451@CO1PR02MB144.namprd02.prod.outlook.com \n[InternalId=31988916420822, \nHostname=CO1PR02MB144.namprd02.prod.outlook.com] Queued mail for delivery\nC QUIT\nS 221 2.0.0 Service closing transmission channel\nDisconnected.\nMessage sent to jfha73@gmail.com OK.\n```\n. What made it all work was this other library: SASL\n. What made it all work was this other library: SASL\n. I replaced it and I'm still not sending, I get this:\nSERVER -> CLIENT: 220 BN1PR07CA016.outlook.office365.com Microsoft ESMTP \nMAIL Service ready at Thu, 27 Feb 2014 18:53:11 +0000\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-BN1PR07CA016.outlook.office365.com Hello \n[74.8.80.62]250-SIZE \n78643200250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-8BITMIME250-BINARYMIME250 \nCHUNKING\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 SMTP server ready\nSTARTTLS OKCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 2.0.0 Service closing transmission channel\nI do see the STARTTLS OK that you put in it, but it quits after that, no \nemail is sent.\n. I replaced it and I'm still not sending, I get this:\nSERVER -> CLIENT: 220 BN1PR07CA016.outlook.office365.com Microsoft ESMTP \nMAIL Service ready at Thu, 27 Feb 2014 18:53:11 +0000\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-BN1PR07CA016.outlook.office365.com Hello \n[74.8.80.62]250-SIZE \n78643200250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-8BITMIME250-BINARYMIME250 \nCHUNKING\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 SMTP server ready\nSTARTTLS OKCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 2.0.0 Service closing transmission channel\nI do see the STARTTLS OK that you put in it, but it quits after that, no \nemail is sent.\n. What do you know, i erased the 3 echoes, added the var_dump($e) and it \nworked, here is the full transcript:\nSERVER -> CLIENT: 220 BN1PR07CA024.outlook.office365.com Microsoft ESMTP \nMAIL Service ready at Thu, 27 Feb 2014 20:06:13 +0000\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-BN1PR07CA024.outlook.office365.com Hello \n[74.8.80.62]250-SIZE \n78643200250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-8BITMIME250-BINARYMIME250 \nCHUNKING\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 SMTP server ready\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-BN1PR07CA024.outlook.office365.com Hello \n[74.8.80.62]250-SIZE \n78643200250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-AUTH \nLOGIN250-8BITMIME250-BINARYMIME250 CHUNKING\nCLIENT -> SERVER: AUTH LOGIN\nSERVER -> CLIENT: 334 VXNlcm5hbWU6\nCLIENT -> SERVER: SkZIZXJuYW5kZXpAaGVhbHRoc29sdXRpb25zLm9yZw==\nSERVER -> CLIENT: 334 UGFzc3dvcmQ6\nCLIENT -> SERVER: Sm9yMTA3M0xpeg==\nSERVER -> CLIENT: 235 2.7.0 Authentication successful\nCLIENT -> SERVER: MAIL FROM:<JFHernandez@healthsolutions.org>\nSERVER -> CLIENT: 250 2.1.0 Sender OK\nCLIENT -> SERVER: RCPT TO:<jfha73@gmail.com>\nSERVER -> CLIENT: 250 2.1.5 Recipient OK\nCLIENT -> SERVER: DATA\nSERVER -> CLIENT: 354 Start mail input; end with <CRLF>.<CRLF>\nCLIENT -> SERVER: Date: Thu, 27 Feb 2014 15:06:13 -0500\nCLIENT -> SERVER: Return-Path: <JFHernandez@healthsolutions.org>\nCLIENT -> SERVER: To: jfha73@gmail.com\nCLIENT -> SERVER: From: JFHernandez@healthsolutions.org\nCLIENT -> SERVER: Subject: Testing O365 SMTP\nCLIENT -> SERVER: Message-ID: <74caa31960275e0f9cca3578f4f63dec@localhost>\nCLIENT -> SERVER: X-Priority: 3\nCLIENT -> SERVER: X-Mailer: PHPMailer 5.2.7 \n(https://github.com/PHPMailer/PHPMailer/)\nCLIENT -> SERVER: MIME-Version: 1.0\nCLIENT -> SERVER: Content-Type: multipart/alternative;\nCLIENT -> SERVER: boundary=\"b1_74caa31960275e0f9cca3578f4f63dec\"\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER:\nCLIENT -> SERVER: --b1_74caa31960275e0f9cca3578f4f63dec\nCLIENT -> SERVER: Content-Type: text/plain; charset=iso-8859-1\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER:\nCLIENT -> SERVER: This is a test\nCLIENT -> SERVER:\nCLIENT -> SERVER:\nCLIENT -> SERVER: --b1_74caa31960275e0f9cca3578f4f63dec\nCLIENT -> SERVER: Content-Type: text/html; charset=iso-8859-1\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER:\nCLIENT -> SERVER: <p>This is a test</p>\nCLIENT -> SERVER:\nCLIENT -> SERVER:\nCLIENT -> SERVER:\nCLIENT -> SERVER: --b1_74caa31960275e0f9cca3578f4f63dec--\nCLIENT -> SERVER:\nCLIENT -> SERVER: .\nSERVER -> CLIENT: 250 2.6.0 <74caa31960275e0f9cca3578f4f63dec@localhost> \n[InternalId=31894427142201, \nHostname=BN1PR02MB135.namprd02.prod.outlook.com] Queued mail for delivery\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 2.0.0 Service closing transmission channel\nMessage Sent...\n. What do you know, i erased the 3 echoes, added the var_dump($e) and it \nworked, here is the full transcript:\nSERVER -> CLIENT: 220 BN1PR07CA024.outlook.office365.com Microsoft ESMTP \nMAIL Service ready at Thu, 27 Feb 2014 20:06:13 +0000\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-BN1PR07CA024.outlook.office365.com Hello \n[74.8.80.62]250-SIZE \n78643200250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-8BITMIME250-BINARYMIME250 \nCHUNKING\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 SMTP server ready\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-BN1PR07CA024.outlook.office365.com Hello \n[74.8.80.62]250-SIZE \n78643200250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-AUTH \nLOGIN250-8BITMIME250-BINARYMIME250 CHUNKING\nCLIENT -> SERVER: AUTH LOGIN\nSERVER -> CLIENT: 334 VXNlcm5hbWU6\nCLIENT -> SERVER: SkZIZXJuYW5kZXpAaGVhbHRoc29sdXRpb25zLm9yZw==\nSERVER -> CLIENT: 334 UGFzc3dvcmQ6\nCLIENT -> SERVER: Sm9yMTA3M0xpeg==\nSERVER -> CLIENT: 235 2.7.0 Authentication successful\nCLIENT -> SERVER: MAIL FROM:<JFHernandez@healthsolutions.org>\nSERVER -> CLIENT: 250 2.1.0 Sender OK\nCLIENT -> SERVER: RCPT TO:<jfha73@gmail.com>\nSERVER -> CLIENT: 250 2.1.5 Recipient OK\nCLIENT -> SERVER: DATA\nSERVER -> CLIENT: 354 Start mail input; end with <CRLF>.<CRLF>\nCLIENT -> SERVER: Date: Thu, 27 Feb 2014 15:06:13 -0500\nCLIENT -> SERVER: Return-Path: <JFHernandez@healthsolutions.org>\nCLIENT -> SERVER: To: jfha73@gmail.com\nCLIENT -> SERVER: From: JFHernandez@healthsolutions.org\nCLIENT -> SERVER: Subject: Testing O365 SMTP\nCLIENT -> SERVER: Message-ID: <74caa31960275e0f9cca3578f4f63dec@localhost>\nCLIENT -> SERVER: X-Priority: 3\nCLIENT -> SERVER: X-Mailer: PHPMailer 5.2.7 \n(https://github.com/PHPMailer/PHPMailer/)\nCLIENT -> SERVER: MIME-Version: 1.0\nCLIENT -> SERVER: Content-Type: multipart/alternative;\nCLIENT -> SERVER: boundary=\"b1_74caa31960275e0f9cca3578f4f63dec\"\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER:\nCLIENT -> SERVER: --b1_74caa31960275e0f9cca3578f4f63dec\nCLIENT -> SERVER: Content-Type: text/plain; charset=iso-8859-1\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER:\nCLIENT -> SERVER: This is a test\nCLIENT -> SERVER:\nCLIENT -> SERVER:\nCLIENT -> SERVER: --b1_74caa31960275e0f9cca3578f4f63dec\nCLIENT -> SERVER: Content-Type: text/html; charset=iso-8859-1\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER:\nCLIENT -> SERVER: <p>This is a test</p>\nCLIENT -> SERVER:\nCLIENT -> SERVER:\nCLIENT -> SERVER:\nCLIENT -> SERVER: --b1_74caa31960275e0f9cca3578f4f63dec--\nCLIENT -> SERVER:\nCLIENT -> SERVER: .\nSERVER -> CLIENT: 250 2.6.0 <74caa31960275e0f9cca3578f4f63dec@localhost> \n[InternalId=31894427142201, \nHostname=BN1PR02MB135.namprd02.prod.outlook.com] Queued mail for delivery\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 2.0.0 Service closing transmission channel\nMessage Sent...\n. Thanks Marcus.\n. Thanks Marcus.\n. Another question,\nI'm testing PHPList to connect to Office 365, it uses PHPMailer, I \nchanged the phpmailer class to the one I had on my working test server \nbut when I try to test email sending, I'm getting this:\n5.5.4 Invalid domain name SMTP connect() failed.\nIs there a way I can set this up in PHPMailer?\n. Another question,\nI'm testing PHPList to connect to Office 365, it uses PHPMailer, I \nchanged the phpmailer class to the one I had on my working test server \nbut when I try to test email sending, I'm getting this:\n5.5.4 Invalid domain name SMTP connect() failed.\nIs there a way I can set this up in PHPMailer?\n. I just checked and it's good everywhere.\n. I just checked and it's good everywhere.\n. I got it, check this:\n2014-02-28 16:12:49 CLIENT -> SERVER: EHLO server/phplist/lists\n2014-02-28 16:12:54 SERVER -> CLIENT:\n2014-02-28 16:12:54 SMTP ERROR: EHLO command failed:\n2014-02-28 16:12:54 CLIENT -> SERVER: HELO server/phplist/lists\n2014-02-28 16:12:54 SERVER -> CLIENT: 501 5.5.4 Invalid domain name\n2014-02-28 16:12:54 SMTP ERROR: HELO command failed: 501 5.5.4 Invalid domain name\n2014-02-28 16:12:54 CLIENT -> SERVER: STARTTLS\n2014-02-28 16:12:59 SERVER -> CLIENT:\nSomewhere in the config, PHPList is sending my local server name and \npath to Office 365 instead of the external IP of my NAT.\n. I got it, check this:\n2014-02-28 16:12:49 CLIENT -> SERVER: EHLO server/phplist/lists\n2014-02-28 16:12:54 SERVER -> CLIENT:\n2014-02-28 16:12:54 SMTP ERROR: EHLO command failed:\n2014-02-28 16:12:54 CLIENT -> SERVER: HELO server/phplist/lists\n2014-02-28 16:12:54 SERVER -> CLIENT: 501 5.5.4 Invalid domain name\n2014-02-28 16:12:54 SMTP ERROR: HELO command failed: 501 5.5.4 Invalid domain name\n2014-02-28 16:12:54 CLIENT -> SERVER: STARTTLS\n2014-02-28 16:12:59 SERVER -> CLIENT:\nSomewhere in the config, PHPList is sending my local server name and \npath to Office 365 instead of the external IP of my NAT.\n. Yep, I'm already in contact with them.\n. Yep, I'm already in contact with them.\n. I don't remember, but I think I used another version of PHPMailer (the \none that PHPMailer has for GMail), we are not using PHPList anymore, \nthey decided to go with an old listserv instead.\nI hope that helps.\nSignature\nJorge Hernandez\n. I don't remember, but I think I used another version of PHPMailer (the \none that PHPMailer has for GMail), we are not using PHPList anymore, \nthey decided to go with an old listserv instead.\nI hope that helps.\nSignature\nJorge Hernandez\n. I\u2019m starting to remember, after I downloaded the latest version of PHPMailer and replaced the one that comes with it, I changed the file where it calls it and changed it for what it says in this example\nDon\u2019t ask me what the file is where PHPList calls it, because that is impossible without a copy of PHPList and since we are not using it, I\u2019m not going to download it again.\nGood luck and let me know how it went.\nJorge Hernandez\n. I\u2019m starting to remember, after I downloaded the latest version of PHPMailer and replaced the one that comes with it, I changed the file where it calls it and changed it for what it says in this example\nDon\u2019t ask me what the file is where PHPList calls it, because that is impossible without a copy of PHPList and since we are not using it, I\u2019m not going to download it again.\nGood luck and let me know how it went.\nJorge Hernandez\n. ",
    "samb90": "Hi @jfha73, Did you manage to get PHPList working with Office 365? I'm having a few issues creating the connection through SMTP.\nCLIENT -> SMTP: AUTH LOGIN \nSMTP -> ERROR: AUTH not accepted from server: \nCLIENT -> SMTP: RSET \nSMTP -> FROM SERVER:504 5.7.4 Unrecognized authentication type \nSMTP -> ERROR: RSET failed: 504 5.7.4 Unrecognized authentication type \nCLIENT -> SMTP: MAIL FROM: \nSMTP -> FROM SERVER:250 2.0.0 Resetting \nCLIENT -> SMTP: RCPT TO: \nSMTP -> FROM SERVER:530 5.7.1 Client was not authenticated \nSMTP -> ERROR: RCPT not accepted from server: 530 5.7.1 Client was not authenticated\n. Thanks for the replies. I got this to work by doing the following:\nI edited the file sendemaillib.php and added the following lines and it seems to be working now:\n```\n       //Tell PHPMailer to use SMTP\n  $mail->isSMTP();\n//Set the encryption system to use - ssl (deprecated) or tls\n  $mail->SMTPSecure = 'tls';\n```\n. ",
    "DouglasTonini": "RESOLVIDO!\nUtilizando classe padr\u00e3o de envio PHPMailer_5.2.1/class.phpmailer.php\nExemplo:\nphp\nrequire(\"PHPMailer_5.2.1/class.phpmailer.php\");\n\n<p$mail             = new PHPMailer();\n$mail->IsSMTP(); // telling the class to use SMTP\n$mail->Host       = \"smtp.office365.com\"; // SMTP server\n$mail->SMTPDebug  = 2;                     // enables SMTP debug information (for testing)\n                                           // 1 = errors and messages\n                                           // 2 = messages only\n$mail->SMTPAuth   = true;                  // enable SMTP authentication\n$mail->SMTPSecure = \"tls\";                 // sets the prefix to the servier\n$mail->Host       = \"smtp.office365.com\";      // sets GMAIL as the SMTP server\n$mail->Port       = 587;                   // set the SMTP port for the OUTLOOK 465 server\n$mail->Username   = \"seuemail@dominio.com.br\";  // OUTLOOK 465 username\n$mail->Password   = \"sua senha\";            // OUTLOOK 465  password\n$mail->SetFrom('seuemail@dominio.com.br', 'First Last');\n$mail->AddReplyTo(\"seuemail@dominio.com.br\",\"First Last\");\n$mail->Subject    = \"PHPMailer Test Subject via smtp (OUTLOOK 465), basic\";\n$mail->AltBody    = \"To view the message, please use an HTML compatible email viewer!\"; // optional, comment out and test\n$body = 'teste';\n$mail->MsgHTML($body);\n$address = \"seuemail@dominio.com.br\";\n$mail->AddAddress($address, \"NOME\");\nif(!$mail->Send()) {\n  echo \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n  echo \"Message sent!\";\n}\n?>. RESOLVIDO!\nUtilizando classe padr\u00e3o de envio PHPMailer_5.2.1/class.phpmailer.php\nExemplo:\nphp\nrequire(\"PHPMailer_5.2.1/class.phpmailer.php\");\n\n<p$mail             = new PHPMailer();\n$mail->IsSMTP(); // telling the class to use SMTP\n$mail->Host       = \"smtp.office365.com\"; // SMTP server\n$mail->SMTPDebug  = 2;                     // enables SMTP debug information (for testing)\n                                           // 1 = errors and messages\n                                           // 2 = messages only\n$mail->SMTPAuth   = true;                  // enable SMTP authentication\n$mail->SMTPSecure = \"tls\";                 // sets the prefix to the servier\n$mail->Host       = \"smtp.office365.com\";      // sets GMAIL as the SMTP server\n$mail->Port       = 587;                   // set the SMTP port for the OUTLOOK 465 server\n$mail->Username   = \"seuemail@dominio.com.br\";  // OUTLOOK 465 username\n$mail->Password   = \"sua senha\";            // OUTLOOK 465  password\n$mail->SetFrom('seuemail@dominio.com.br', 'First Last');\n$mail->AddReplyTo(\"seuemail@dominio.com.br\",\"First Last\");\n$mail->Subject    = \"PHPMailer Test Subject via smtp (OUTLOOK 465), basic\";\n$mail->AltBody    = \"To view the message, please use an HTML compatible email viewer!\"; // optional, comment out and test\n$body = 'teste';\n$mail->MsgHTML($body);\n$address = \"seuemail@dominio.com.br\";\n$mail->AddAddress($address, \"NOME\");\nif(!$mail->Send()) {\n  echo \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n  echo \"Message sent!\";\n}\n?>. Verifique se a conta (email de autentica\u00e7\u00e3o) foi criada corretamente.. Parece bobagem, mas as vezes \u00e9 um pequeno descuido.  \nhttps://login.microsoftonline.com   e  veja se sua caixa postal est\u00e1 ativa.\n. Tente usar esta classe:  https://github.com/jbroadway/php-mail-test/tree/master/PHPMailer_5.2.1. Ai que ta.. funcionou comigo!  Precisa confiar.  Fa\u00e7a um teste meu caro.\n2017-05-22 14:49 GMT-03:00 LUCIANO BONFIM DE AZEVEDO \nnotifications@github.com:\n\nEstou usando a mais recente deles 5.2.3 e n\u00e3o funciona... essa ai \u00e9 de 5\nanos atr\u00e1s... n\u00e3o vai funfar !!\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:08 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br; Comment \ncomment@noreply.github.com\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nTente usar esta classe: https://github.com/jbroadway/\nphp-mail-test/tree/master/PHPMailer_5.2.1\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303161504>\n, or mute the thread https://github.com/notifications/unsubscribe-\nauth/ADClgiD4rM-Th6RaILMeQ3LeLfBWxZJ8ks5r8cD2gaJpZM4BlKjJ . <\nhttps://github.com/notifications/beacon/ADClglJxJWRU62fhTbWL4IRY3FtzK_\nnBks5r8cD2gaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303172118,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbISKgSCUT9aRbGQ4K4DI3QWCRaDVKnOks5r8cqdgaJpZM4BlKjJ\n.\n. Passa seu email. Vou te passar a classe que uso. Estou usando Office 365\ncom envio autenticado com PHP.\n\nEm 22 de mai de 2017 17:03, \"LUCIANO BONFIM DE AZEVEDO\" \nnotifications@github.com escreveu:\n\nN\u00e3o funcionou... o office365 preciso de criptografia TLS e nessa vers\u00e3o\nmais antiga nem tinha implementa\u00e7\u00e3o disso ainda...\nNa vers\u00e3o nova n\u00e3o ta funfando direito...\nEu vou fazer o envio via asp.net que eu j\u00e1 fiz pra outros clientes com\noffice365 e funcionou... \u00e9 que esse site est\u00e1 em PHP\nObrigado!\nAtenciosamente,\nLuciano Bonfim de Azevedo\nwww.bonfim.com.br http://www.bonfim.com.br/\nLuciano@bonfim.com.br Luciano@bonfim.com.br\nwww.linkedin.com/in/lucianobonfim http://www.linkedin.com/in/\nlucianobonfim\nCelular/whatsApp: (21) 99222-2030\nSkype: lucianobonfim\nAvenida das Am\u00e9ricas, 18.000\nSala 321 bloco B | Rio de Janeiro \u2013 RJ\nCEP: 22790-704\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:55 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br; Comment \ncomment@noreply.github.com\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nAi que ta.. funcionou comigo! Precisa confiar. Fa\u00e7a um teste meu caro.\n2017-05-22 14:49 GMT-03:00 LUCIANO BONFIM DE AZEVEDO <\nnotifications@github.com notifications@github.com >:\n\nEstou usando a mais recente deles 5.2.3 e n\u00e3o funciona... essa ai \u00e9 de 5\nanos atr\u00e1s... n\u00e3o vai funfar !!\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:08 PM\nTo: PHPMailer/PHPMailer \nPHPMailer@noreply.github.com >\nCc: LUCIANO BONFIM DE AZEVEDO \nluciano@bonfimsistemas.com.br >; Comment <\ncomment@noreply.github.com comment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nTente usar esta classe: https://github.com/jbroadway/\nphp-mail-test/tree/master/PHPMailer_5.2.1\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303161504\n, or mute the thread https://github.com/notifications/unsubscribe- <\nhttps://github.com/notifications/unsubscribe-%0b\nauth/ADClgiD4rM-Th6RaILMeQ3LeLfBWxZJ8ks5r8cD2gaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/ADClglJxJWRU62fhTbWL4IRY3FtzK_\nnBks5r8cD2gaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#\nissuecomment-303172118,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/\nAbISKgSCUT9aRbGQ4K4DI3QWCRaDVKnOks5r8cqdgaJpZM4BlKjJ\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303173515>\n, or mute the thread https://github.com/notifications/unsubscribe-auth/\nADClgooexyQmtea4AR250xnVBe8yB4QZks5r8cvzgaJpZM4BlKjJ . <\nhttps://github.com/notifications/beacon/ADClgisYZV6NvgUrF7uA9f_\nMbtVTLsMLks5r8cvzgaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303204915,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbISKheN8AAzsACxUsXca5h9ey8XKQ8nks5r8eoegaJpZM4BlKjJ\n.\n. Segue arquivos de envio autenticado PHP COM OFFICE 365.   Aguardo seu\nparecer!\n\nhttp://nwddesign.com.br/envio_autenticado_com_office_365/envio_com_office_365_douglas_tonini.zip\nAtt:  DOUGLAS TONINI   -   NWDSISTEMAS.com.br   - Lajeado / RS\nwww.nwdsistemas.com.br    www.nwddesign.com.br\nEm 22 de maio de 2017 18:16, LUCIANO BONFIM DE AZEVEDO \nnotifications@github.com escreveu:\n\nluciano@bonfim.com.br\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 6:07 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br; Comment \ncomment@noreply.github.com\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nPassa seu email. Vou te passar a classe que uso. Estou usando Office 365\ncom envio autenticado com PHP.\nEm 22 de mai de 2017 17:03, \"LUCIANO BONFIM DE AZEVEDO\" <\nnotifications@github.com notifications@github.com > escreveu:\n\nN\u00e3o funcionou... o office365 preciso de criptografia TLS e nessa vers\u00e3o\nmais antiga nem tinha implementa\u00e7\u00e3o disso ainda...\nNa vers\u00e3o nova n\u00e3o ta funfando direito...\nEu vou fazer o envio via asp.net que eu j\u00e1 fiz pra outros clientes com\noffice365 e funcionou... \u00e9 que esse site est\u00e1 em PHP\nObrigado!\nAtenciosamente,\nLuciano Bonfim de Azevedo\nwww.bonfim.com.br http://www.bonfim.com.br http://www.bonfim.com.br/\nLuciano@bonfim.com.br Luciano@bonfim.com.br \nLuciano@bonfim.com.br\nwww.linkedin.com/in/lucianobonfim http://www.linkedin.com/in/\nlucianobonfim http://www.linkedin.com/in/ <http://www.linkedin.com/in/%\n0b\nlucianobonfim>\nCelular/whatsApp: (21) 99222-2030\nSkype: lucianobonfim\nAvenida das Am\u00e9ricas, 18.000\nSala 321 bloco B | Rio de Janeiro \u2013 RJ\nCEP: 22790-704\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:55 PM\nTo: PHPMailer/PHPMailer \nPHPMailer@noreply.github.com >\nCc: LUCIANO BONFIM DE AZEVEDO \nluciano@bonfimsistemas.com.br >; Comment <\ncomment@noreply.github.com comment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nAi que ta.. funcionou comigo! Precisa confiar. Fa\u00e7a um teste meu caro.\n2017-05-22 14:49 GMT-03:00 LUCIANO BONFIM DE AZEVEDO <\nnotifications@github.com notifications@github.com \nnotifications@github.com >:\n\nEstou usando a mais recente deles 5.2.3 e n\u00e3o funciona... essa ai \u00e9 de\n5\nanos atr\u00e1s... n\u00e3o vai funfar !!\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:08 PM\nTo: PHPMailer/PHPMailer \nPHPMailer@noreply.github.com%20%3cmailto:%0b PHPMailer@noreply.github.com > >\nCc: LUCIANO BONFIM DE AZEVEDO \nluciano@bonfimsistemas.com.br%20%3cmailto:%0b luciano@bonfimsistemas.com.br >\n; Comment <\ncomment@noreply.github.com comment@noreply.github.com\ncomment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to\nOffice365\n(#189)\nTente usar esta classe: https://github.com/jbroadway/\nphp-mail-test/tree/master/PHPMailer_5.2.1\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#\nissuecomment-303161504\n, or mute the thread https://github.com/notifications/unsubscribe- <\nhttps://github.com/notifications/unsubscribe-%20%3c%0b <\nhttps://github.com/notifications/unsubscribe-%0b>\nauth/ADClgiD4rM-Th6RaILMeQ3LeLfBWxZJ8ks5r8cD2gaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/ADClglJxJWRU62fhTbWL4IRY3FtzK_\nnBks5r8cD2gaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189# <\nhttps://github.com/PHPMailer/PHPMailer/issues/189# \nissuecomment-303172118>,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ <\nhttps://github.com/notifications/unsubscribe-auth/%0b\nAbISKgSCUT9aRbGQ4K4DI3QWCRaDVKnOks5r8cqdgaJpZM4BlKjJ>\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303173515\n, or mute the thread https://github.com/notifications/unsubscribe-auth/\n<https://github.com/notifications/unsubscribe-auth/%0b\nADClgooexyQmtea4AR250xnVBe8yB4QZks5r8cvzgaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/ADClgisYZV6NvgUrF7uA9f_\nMbtVTLsMLks5r8cvzgaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#\nissuecomment-303204915,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/\nAbISKheN8AAzsACxUsXca5h9ey8XKQ8nks5r8eoegaJpZM4BlKjJ\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303220210>\n, or mute the thread https://github.com/notifications/unsubscribe-auth/\nADClgnphk4YYb6Aw0qi36hM9UWTem43Rks5r8fj9gaJpZM4BlKjJ . <\nhttps://github.com/notifications/beacon/ADClgjgCgVFihLtFfqUT3_\nBzksDaDOJ1ks5r8fj9gaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303222391,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbISKti99W_0_QUJMoCSe7Q4qHkJp8n1ks5r8ftJgaJpZM4BlKjJ\n.\n. manda seu arquivo por email..vou testar aqui.\n\n2017-05-22 20:35 GMT-03:00 LUCIANO BONFIM DE AZEVEDO \nnotifications@github.com:\n\nContinua dando erro aqui... estranho!\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 7:58 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br; Comment \ncomment@noreply.github.com\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nSegue arquivos de envio autenticado PHP COM OFFICE 365. Aguardo seu\nparecer!\nhttp://nwddesign.com.br/envio_autenticado_com_office_365/\nenvio_com_office_365_douglas_tonini.zip\nAtt: DOUGLAS TONINI - NWDSISTEMAS.com.br - Lajeado / RS\nwww.nwdsistemas.com.br http://www.nwdsistemas.com.br\nwww.nwddesign.com.br http://www.nwddesign.com.br\nEm 22 de maio de 2017 18:16, LUCIANO BONFIM DE AZEVEDO <\nnotifications@github.com notifications@github.com > escreveu:\n\nluciano@bonfim.com.br luciano@bonfim.com.br\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 6:07 PM\nTo: PHPMailer/PHPMailer \nPHPMailer@noreply.github.com >\nCc: LUCIANO BONFIM DE AZEVEDO \nluciano@bonfimsistemas.com.br >; Comment <\ncomment@noreply.github.com comment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nPassa seu email. Vou te passar a classe que uso. Estou usando Office 365\ncom envio autenticado com PHP.\nEm 22 de mai de 2017 17:03, \"LUCIANO BONFIM DE AZEVEDO\" <\nnotifications@github.com notifications@github.com \nnotifications@github.com > escreveu:\n\nN\u00e3o funcionou... o office365 preciso de criptografia TLS e nessa vers\u00e3o\nmais antiga nem tinha implementa\u00e7\u00e3o disso ainda...\nNa vers\u00e3o nova n\u00e3o ta funfando direito...\nEu vou fazer o envio via asp.net que eu j\u00e1 fiz pra outros clientes com\noffice365 e funcionou... \u00e9 que esse site est\u00e1 em PHP\nObrigado!\nAtenciosamente,\nLuciano Bonfim de Azevedo\nwww.bonfim.com.br http://www.bonfim.com.br http://www.bonfim.com.br\nhttp://www.bonfim.com.br/\nLuciano@bonfim.com.br Luciano@bonfim.com.br \nLuciano@bonfim.com.br \nLuciano@bonfim.com.br Luciano@bonfim.com.br >\nwww.linkedin.com/in/lucianobonfim http://www.linkedin.com/in/\nlucianobonfim http://www.linkedin.com/in/ <http://www.linkedin.com/in/%\n0b\nlucianobonfim> http://www.linkedin.com/in/ <\nhttp://www.linkedin.com/in/%20%3chttp:/www.linkedin.com/in/%25%0b <\nhttp://www.linkedin.com/in/%\n0b>\nlucianobonfim>\nCelular/whatsApp: (21) 99222-2030\nSkype: lucianobonfim\nAvenida das Am\u00e9ricas, 18.000\nSala 321 bloco B | Rio de Janeiro \u2013 RJ\nCEP: 22790-704\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:55 PM\nTo: PHPMailer/PHPMailer \nPHPMailer@noreply.github.com%20%3cmailto:%0b PHPMailer@noreply.github.com > >\nCc: LUCIANO BONFIM DE AZEVEDO \nluciano@bonfimsistemas.com.br%20%3cmailto:%0b luciano@bonfimsistemas.com.br >\n; Comment <\ncomment@noreply.github.com comment@noreply.github.com\ncomment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to\nOffice365\n(#189)\nAi que ta.. funcionou comigo! Precisa confiar. Fa\u00e7a um teste meu caro.\n2017-05-22 14:49 GMT-03:00 LUCIANO BONFIM DE AZEVEDO <\nnotifications@github.com notifications@github.com \nnotifications@github.com \nnotifications@github.com notifications@github.com > >:\n\nEstou usando a mais recente deles 5.2.3 e n\u00e3o funciona... essa ai \u00e9\nde\n5\nanos atr\u00e1s... n\u00e3o vai funfar !!\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:08 PM\nTo: PHPMailer/PHPMailer \nPHPMailer@noreply.github.com%20%3cmailto:%0b PHPMailer@noreply.\ngithub.com%20%3cmailto:%0b > \nPHPMailer@noreply.github.com PHPMailer@noreply.github.com\nPHPMailer@noreply.github.com > >\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br\n<mailto:luciano@bonfimsistemas.com.br%20%3cmailto:%0b luciano@\nbonfimsistemas.com.br%20%3cmailto:%0b > \nluciano@bonfimsistemas.com.br luciano@bonfimsistemas.com.br\nluciano@bonfimsistemas.com.br >\n; Comment <\ncomment@noreply.github.com comment@noreply.github.com\ncomment@noreply.github.com\ncomment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to\nOffice365\n(#189)\nTente usar esta classe: https://github.com/jbroadway/\nphp-mail-test/tree/master/PHPMailer_5.2.1\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#\nissuecomment-303161504\n, or mute the thread https://github.com/notifications/unsubscribe-\n<https://github.com/notifications/unsubscribe-%20%3c%0b <\nhttps://github.com/notifications/unsubscribe-%20%3c%0b> <\nhttps://github.com/notifications/unsubscribe-%0b>\nauth/ADClgiD4rM-Th6RaILMeQ3LeLfBWxZJ8ks5r8cD2gaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/\nADClglJxJWRU62fhTbWL4IRY3FtzK_\nnBks5r8cD2gaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189# <\nhttps://github.com/PHPMailer/PHPMailer/issues/189# <  <\nhttps://github.com/PHPMailer/PHPMailer/issues/189# >\nissuecomment-303172118>,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ <\nhttps://github.com/notifications/unsubscribe-auth/%20%3c%0b <\nhttps://github.com/notifications/unsubscribe-auth/%0b>\nAbISKgSCUT9aRbGQ4K4DI3QWCRaDVKnOks5r8cqdgaJpZM4BlKjJ>\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#\nissuecomment-303173515\n, or mute the thread https://github.com/notifications/unsubscribe-\nauth/ <https://github.com/notifications/unsubscribe-auth/%0b\nhttps://github.com/notifications/unsubscribe-auth/%0b\nADClgooexyQmtea4AR250xnVBe8yB4QZks5r8cvzgaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/ADClgisYZV6NvgUrF7uA9f_\nMbtVTLsMLks5r8cvzgaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189# <\nhttps://github.com/PHPMailer/PHPMailer/issues/189# \nissuecomment-303204915>,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ <\nhttps://github.com/notifications/unsubscribe-auth/%0b\nAbISKheN8AAzsACxUsXca5h9ey8XKQ8nks5r8eoegaJpZM4BlKjJ>\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303220210\n, or mute the thread https://github.com/notifications/unsubscribe-auth/\n<https://github.com/notifications/unsubscribe-auth/%0b\nADClgnphk4YYb6Aw0qi36hM9UWTem43Rks5r8fj9gaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/ADClgjgCgVFihLtFfqUT3_\nBzksDaDOJ1ks5r8fj9gaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#\nissuecomment-303222391,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbISKti99W_0_\nQUJMoCSe7Q4qHkJp8n1ks5r8ftJgaJpZM4BlKjJ\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303242453>\n, or mute the thread https://github.com/notifications/unsubscribe-auth/\nADClgroiCkNTPPNmLeg76Rffxuef9addks5r8hMNgaJpZM4BlKjJ . <\nhttps://github.com/notifications/beacon/ADClgvh0q_\nK1tNslYf7sWoFRemUV1qQ5ks5r8hMNgaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303248447,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbISKrEdFgh12uCM_wkm17AJzWXX_IWsks5r8hvagaJpZM4BlKjJ\n.\n. OL\u00c1!   Tenta colcar porta :  PORT: 465\n\n2018-09-11 18:11 GMT-03:00 imManish notifications@github.com:\n\ni am having same issue with sending email through office365 smtp\n$mail = new PHPMailer();\n$mail->CharSet = 'UTF-8';\n$mail->isSMTP();\n$mail->SMTPDebug = 2;\n$mail->Host = \"smtp.office365.com\";\n$mail->Port = 587;\n$mail->SMTPSecure = 'tls';\n$mail->SMTPAuth = true;\n$mail->Username = \"user@domain.com\";\n$mail->Password = \"*\";\n$ppbuzzyuser_email=$_POST['buzzyuser_email'];\n$mail->FromName = 'Invitation for Certefied';\n$mail->addAddress($ppbuzzyuser_email);\n$mail->Subject = 'Do not reply on this message.';\n$mail->Body   = '\nDear '.$ppbuzzyuser_email.'\nYour Employer '.$session_buzzyuser_company.' requests for you to join CertEfied. CertEfied is '.$session_buzzyuser_company.''s compliance software program, that helps you and '.$session_buzzyuser_company.' store employee licences and qualifications quickly and easily. \n\n    CertEfied is able to store your qualifications within your own individual profile for free. This will allow you to share your professional qualifications or licences with '.$session_buzzyuser_company.' quickly and easily. Just simply upload all qualifications your employer requires access to and have CertEfied look after automatically synchronising it to your employer\u2019s profile.\n  \n\n  If you undertake work with more than one employer who requires access to your credentials, you may add yourself / request to be added to their CertEfied company profile. No need to re register twice!\n  \n\n  If you wish to sign up using this link Register here this means you will be automatically be connected to '.$session_buzzyuser_company.' so you can start uploading your qualifications and licences for you and your employer right away. This helps you to remain safe and compliant at work.\n  \n  Regards\n  \n  The CertEfied Team\n  \n';\n$mail->AltBody = 'Hello user, You are now member of Certefied community. ';\nif(!$mail->send()) {\necho 'Message could not be sent.';\necho 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\necho 'Message sent successfully.';\n}\nexit;\nheader('Location: '.$link_prefix.'page.php?user-id='.$session_user_id.'&\ninvite-sent=true');\n}\nAnyone can help me on this?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-420426968,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbISKi2ShPx1nRGcwN4Tkie0hjtEbAE3ks5uaCcTgaJpZM4BlKjJ\n.\n. \n",
    "lucianobonfim": "for me don\u00b4t work.\ni am using 5.2.23 version but the same error\n2017-05-21 05:36:41 Connection: opening to smtp.office365.com:587, timeout=300, options=array ( ) \n2017-05-21 05:36:41 Connection: opened \n2017-05-21 05:36:41 SERVER -> CLIENT: 220 DM5PR17CA0038.outlook.office365.com Microsoft ESMTP MAIL Service ready at Sun, 21 May 2017 05:36:41 +0000 \n2017-05-21 05:36:41 CLIENT -> SERVER: EHLO www.strategypartners.com.br \n2017-05-21 05:36:41 SERVER -> CLIENT: 250-DM5PR17CA0038.outlook.office365.com Hello [13.65.45.30] 250-SIZE 157286400 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-STARTTLS 250-8BITMIME 250-BINARYMIME 250 CHUNKING \n2017-05-21 05:36:41 CLIENT -> SERVER: STARTTLS \n2017-05-21 05:36:41 SERVER -> CLIENT: 220 2.0.0 SMTP server ready\n2017-05-21 05:36:41 CLIENT -> SERVER: EHLO www.strategypartners.com.br \n2017-05-21 05:36:41 SERVER -> CLIENT: 250-DM5PR17CA0038.outlook.office365.com Hello [13.65.45.30] 250-SIZE 157286400 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-AUTH LOGIN 250-8BITMIME 250-BINARYMIME 250 CHUNKING \n2017-05-21 05:36:41 CLIENT -> SERVER: AUTH LOGIN \n2017-05-21 05:36:41 SERVER -> CLIENT: 334 VXNlcm5hbWU6 \n2017-05-21 05:36:41 CLIENT -> SERVER: xxx== \n2017-05-21 05:36:41 SERVER -> CLIENT: 334 UGFzc3dvcmQ6 \n2017-05-21 05:36:41 CLIENT -> SERVER: xxx \n2017-05-21 05:36:51 SERVER -> CLIENT: 535 5.7.3 Authentication unsuccessful [DM5PR17CA0038.namprd17.prod.outlook.com] \n2017-05-21 05:36:51 SMTP ERROR: Password command failed: 535 5.7.3 Authentication unsuccessful [DM5PR17CA0038.namprd17.prod.outlook.com] \n2017-05-21 05:36:51 SMTP Error: Could not authenticate. \n2017-05-21 05:36:51 CLIENT -> SERVER: QUIT \n2017-05-21 05:36:51 SERVER -> CLIENT: 221 2.0.0 Service closing transmission channel \n2017-05-21 05:36:51 Connection: closed \n2017-05-21 05:36:51 SMTP Error: Could not authenticate.. Any ideas?\nThanks.. Sim.\nFoi criada e esta funcionando normalmente pelo portal.\nJ\u00e1 enviei emails de teste via oultook e funcionou\nFrom: DouglasTonini [mailto:notifications@github.com] \nSent: Monday, May 22, 2017 1:31 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br; Comment comment@noreply.github.com\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365 (#189)\nVerifique se a conta (email de autentica\u00e7\u00e3o) foi criada corretamente.. Parece bobagem, mas as vezes \u00e9 um pequeno descuido.\nhttps://login.microsoftonline.com e veja se sua caixa postal est\u00e1 ativa.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303151679 , or mute the thread https://github.com/notifications/unsubscribe-auth/ADClghWcwk2cuy-PKy0e8217JASAFrqeks5r8bgqgaJpZM4BlKjJ .  https://github.com/notifications/beacon/ADClglmPTJ9m_qXaW4nbZaK8lBMZqESmks5r8bgqgaJpZM4BlKjJ.gif \n. Estou usando a mais recente deles 5.2.3 e n\u00e3o funciona... essa ai \u00e9 de 5 anos atr\u00e1s... n\u00e3o vai funfar !!\nFrom: DouglasTonini [mailto:notifications@github.com] \nSent: Monday, May 22, 2017 2:08 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br; Comment comment@noreply.github.com\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365 (#189)\nTente usar esta classe: https://github.com/jbroadway/php-mail-test/tree/master/PHPMailer_5.2.1\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303161504 , or mute the thread https://github.com/notifications/unsubscribe-auth/ADClgiD4rM-Th6RaILMeQ3LeLfBWxZJ8ks5r8cD2gaJpZM4BlKjJ .  https://github.com/notifications/beacon/ADClglJxJWRU62fhTbWL4IRY3FtzK_nBks5r8cD2gaJpZM4BlKjJ.gif \n. Mas vc esta usando smtp.office365.com ou um outro servidor de smtp?!\nSent from my iPhone\n\nOn 22 May 2017, at 14:54, DouglasTonini notifications@github.com wrote:\nAi que ta.. funcionou comigo! Precisa confiar. Fa\u00e7a um teste meu caro.\n2017-05-22 14:49 GMT-03:00 LUCIANO BONFIM DE AZEVEDO \nnotifications@github.com:\n\nEstou usando a mais recente deles 5.2.3 e n\u00e3o funciona... essa ai \u00e9 de 5\nanos atr\u00e1s... n\u00e3o vai funfar !!\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:08 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br; Comment \ncomment@noreply.github.com\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nTente usar esta classe: https://github.com/jbroadway/\nphp-mail-test/tree/master/PHPMailer_5.2.1\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303161504>\n, or mute the thread https://github.com/notifications/unsubscribe-\nauth/ADClgiD4rM-Th6RaILMeQ3LeLfBWxZJ8ks5r8cD2gaJpZM4BlKjJ . <\nhttps://github.com/notifications/beacon/ADClglJxJWRU62fhTbWL4IRY3FtzK_\nnBks5r8cD2gaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303172118,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbISKgSCUT9aRbGQ4K4DI3QWCRaDVKnOks5r8cqdgaJpZM4BlKjJ\n.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n\n. N\u00e3o funcionou... o office365 preciso de criptografia TLS e nessa vers\u00e3o mais antiga nem tinha implementa\u00e7\u00e3o disso ainda...\n\nNa vers\u00e3o nova n\u00e3o ta funfando direito...\nEu vou fazer o envio via asp.net que eu j\u00e1 fiz pra outros clientes com office365 e funcionou... \u00e9 que esse site est\u00e1 em PHP\nObrigado!\nAtenciosamente,\nLuciano Bonfim de Azevedo\nwww.bonfim.com.br http://www.bonfim.com.br/ \nLuciano@bonfim.com.br Luciano@bonfim.com.br \nwww.linkedin.com/in/lucianobonfim http://www.linkedin.com/in/lucianobonfim \nCelular/whatsApp: (21) 99222-2030 \nSkype: lucianobonfim\nAvenida das Am\u00e9ricas, 18.000\nSala 321 bloco B | Rio de Janeiro \u2013 RJ\nCEP: 22790-704\nFrom: DouglasTonini [mailto:notifications@github.com] \nSent: Monday, May 22, 2017 2:55 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br; Comment comment@noreply.github.com\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365 (#189)\nAi que ta.. funcionou comigo! Precisa confiar. Fa\u00e7a um teste meu caro.\n2017-05-22 14:49 GMT-03:00 LUCIANO BONFIM DE AZEVEDO <\nnotifications@github.com notifications@github.com >:\n\nEstou usando a mais recente deles 5.2.3 e n\u00e3o funciona... essa ai \u00e9 de 5\nanos atr\u00e1s... n\u00e3o vai funfar !!\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:08 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com >\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br >; Comment <\ncomment@noreply.github.com comment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nTente usar esta classe: https://github.com/jbroadway/\nphp-mail-test/tree/master/PHPMailer_5.2.1\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303161504>\n, or mute the thread https://github.com/notifications/unsubscribe- <https://github.com/notifications/unsubscribe-%0b \nauth/ADClgiD4rM-Th6RaILMeQ3LeLfBWxZJ8ks5r8cD2gaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/ADClglJxJWRU62fhTbWL4IRY3FtzK_\nnBks5r8cD2gaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303172118,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbISKgSCUT9aRbGQ4K4DI3QWCRaDVKnOks5r8cqdgaJpZM4BlKjJ\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303173515 , or mute the thread https://github.com/notifications/unsubscribe-auth/ADClgooexyQmtea4AR250xnVBe8yB4QZks5r8cvzgaJpZM4BlKjJ .  https://github.com/notifications/beacon/ADClgisYZV6NvgUrF7uA9f_MbtVTLsMLks5r8cvzgaJpZM4BlKjJ.gif \n. luciano@bonfim.com.br\nFrom: DouglasTonini [mailto:notifications@github.com] \nSent: Monday, May 22, 2017 6:07 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br; Comment comment@noreply.github.com\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365 (#189)\nPassa seu email. Vou te passar a classe que uso. Estou usando Office 365\ncom envio autenticado com PHP.\nEm 22 de mai de 2017 17:03, \"LUCIANO BONFIM DE AZEVEDO\" <\nnotifications@github.com notifications@github.com > escreveu:\n\nN\u00e3o funcionou... o office365 preciso de criptografia TLS e nessa vers\u00e3o\nmais antiga nem tinha implementa\u00e7\u00e3o disso ainda...\nNa vers\u00e3o nova n\u00e3o ta funfando direito...\nEu vou fazer o envio via asp.net que eu j\u00e1 fiz pra outros clientes com\noffice365 e funcionou... \u00e9 que esse site est\u00e1 em PHP\nObrigado!\nAtenciosamente,\nLuciano Bonfim de Azevedo\nwww.bonfim.com.br http://www.bonfim.com.br http://www.bonfim.com.br/\nLuciano@bonfim.com.br Luciano@bonfim.com.br Luciano@bonfim.com.br\nwww.linkedin.com/in/lucianobonfim http://www.linkedin.com/in/lucianobonfim http://www.linkedin.com/in/ <http://www.linkedin.com/in/%0b \nlucianobonfim>\nCelular/whatsApp: (21) 99222-2030\nSkype: lucianobonfim\nAvenida das Am\u00e9ricas, 18.000\nSala 321 bloco B | Rio de Janeiro \u2013 RJ\nCEP: 22790-704\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:55 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com >\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br >; Comment <\ncomment@noreply.github.com comment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nAi que ta.. funcionou comigo! Precisa confiar. Fa\u00e7a um teste meu caro.\n2017-05-22 14:49 GMT-03:00 LUCIANO BONFIM DE AZEVEDO <\nnotifications@github.com notifications@github.com notifications@github.com >:\n\nEstou usando a mais recente deles 5.2.3 e n\u00e3o funciona... essa ai \u00e9 de 5\nanos atr\u00e1s... n\u00e3o vai funfar !!\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:08 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com%20%3cmailto:%0b PHPMailer@noreply.github.com > >\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br%20%3cmailto:%0b luciano@bonfimsistemas.com.br > >; Comment <\ncomment@noreply.github.com comment@noreply.github.com comment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nTente usar esta classe: https://github.com/jbroadway/\nphp-mail-test/tree/master/PHPMailer_5.2.1\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303161504\n, or mute the thread https://github.com/notifications/unsubscribe-  <https://github.com/notifications/unsubscribe-%20%3c%0b <\nhttps://github.com/notifications/unsubscribe-%0b>\nauth/ADClgiD4rM-Th6RaILMeQ3LeLfBWxZJ8ks5r8cD2gaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/ADClglJxJWRU62fhTbWL4IRY3FtzK_\nnBks5r8cD2gaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189# <https://github.com/PHPMailer/PHPMailer/issues/189#\u000b \nissuecomment-303172118>,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ <https://github.com/notifications/unsubscribe-auth/%0b \nAbISKgSCUT9aRbGQ4K4DI3QWCRaDVKnOks5r8cqdgaJpZM4BlKjJ>\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303173515>\n, or mute the thread https://github.com/notifications/unsubscribe-auth/ <https://github.com/notifications/unsubscribe-auth/%0b \nADClgooexyQmtea4AR250xnVBe8yB4QZks5r8cvzgaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/ADClgisYZV6NvgUrF7uA9f_\nMbtVTLsMLks5r8cvzgaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303204915,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbISKheN8AAzsACxUsXca5h9ey8XKQ8nks5r8eoegaJpZM4BlKjJ\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303220210 , or mute the thread https://github.com/notifications/unsubscribe-auth/ADClgnphk4YYb6Aw0qi36hM9UWTem43Rks5r8fj9gaJpZM4BlKjJ .  https://github.com/notifications/beacon/ADClgjgCgVFihLtFfqUT3_BzksDaDOJ1ks5r8fj9gaJpZM4BlKjJ.gif \n. Continua dando erro aqui... estranho!\nFrom: DouglasTonini [mailto:notifications@github.com] \nSent: Monday, May 22, 2017 7:58 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br; Comment comment@noreply.github.com\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365 (#189)\nSegue arquivos de envio autenticado PHP COM OFFICE 365. Aguardo seu\nparecer!\nhttp://nwddesign.com.br/envio_autenticado_com_office_365/envio_com_office_365_douglas_tonini.zip\nAtt: DOUGLAS TONINI - NWDSISTEMAS.com.br - Lajeado / RS\nwww.nwdsistemas.com.br http://www.nwdsistemas.com.br  www.nwddesign.com.br http://www.nwddesign.com.br \nEm 22 de maio de 2017 18:16, LUCIANO BONFIM DE AZEVEDO <\nnotifications@github.com notifications@github.com > escreveu:\n\nluciano@bonfim.com.br luciano@bonfim.com.br \nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 6:07 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com >\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br >; Comment <\ncomment@noreply.github.com comment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nPassa seu email. Vou te passar a classe que uso. Estou usando Office 365\ncom envio autenticado com PHP.\nEm 22 de mai de 2017 17:03, \"LUCIANO BONFIM DE AZEVEDO\" <\nnotifications@github.com notifications@github.com notifications@github.com > escreveu:\n\nN\u00e3o funcionou... o office365 preciso de criptografia TLS e nessa vers\u00e3o\nmais antiga nem tinha implementa\u00e7\u00e3o disso ainda...\nNa vers\u00e3o nova n\u00e3o ta funfando direito...\nEu vou fazer o envio via asp.net que eu j\u00e1 fiz pra outros clientes com\noffice365 e funcionou... \u00e9 que esse site est\u00e1 em PHP\nObrigado!\nAtenciosamente,\nLuciano Bonfim de Azevedo\nwww.bonfim.com.br http://www.bonfim.com.br http://www.bonfim.com.br http://www.bonfim.com.br/\nLuciano@bonfim.com.br Luciano@bonfim.com.br Luciano@bonfim.com.br  \nLuciano@bonfim.com.br Luciano@bonfim.com.br >\nwww.linkedin.com/in/lucianobonfim http://www.linkedin.com/in/lucianobonfim http://www.linkedin.com/in/ <http://www.linkedin.com/in/%0b \nlucianobonfim> http://www.linkedin.com/in/  <http://www.linkedin.com/in/%20%3chttp:/www.linkedin.com/in/%25%0b http://www.linkedin.com/in/%\n0b\nlucianobonfim>\nCelular/whatsApp: (21) 99222-2030\nSkype: lucianobonfim\nAvenida das Am\u00e9ricas, 18.000\nSala 321 bloco B | Rio de Janeiro \u2013 RJ\nCEP: 22790-704\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:55 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com%20%3cmailto:%0b PHPMailer@noreply.github.com > >\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br%20%3cmailto:%0b luciano@bonfimsistemas.com.br > >; Comment <\ncomment@noreply.github.com comment@noreply.github.com comment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to Office365\n(#189)\nAi que ta.. funcionou comigo! Precisa confiar. Fa\u00e7a um teste meu caro.\n2017-05-22 14:49 GMT-03:00 LUCIANO BONFIM DE AZEVEDO <\nnotifications@github.com notifications@github.com notifications@github.com  \nnotifications@github.com notifications@github.com > >:\n\nEstou usando a mais recente deles 5.2.3 e n\u00e3o funciona... essa ai \u00e9 de\n5\nanos atr\u00e1s... n\u00e3o vai funfar !!\nFrom: DouglasTonini [mailto:notifications@github.com]\nSent: Monday, May 22, 2017 2:08 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com%20%3cmailto:%0b PHPMailer@noreply.github.com%20%3cmailto:%0b >  \nPHPMailer@noreply.github.com PHPMailer@noreply.github.com PHPMailer@noreply.github.com > >\nCc: LUCIANO BONFIM DE AZEVEDO luciano@bonfimsistemas.com.br%20%3cmailto:%0b luciano@bonfimsistemas.com.br%20%3cmailto:%0b >  \nluciano@bonfimsistemas.com.br luciano@bonfimsistemas.com.br luciano@bonfimsistemas.com.br >\n; Comment <\ncomment@noreply.github.com comment@noreply.github.com comment@noreply.github.com\ncomment@noreply.github.com >\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer not connecting to\nOffice365\n(#189)\nTente usar esta classe: https://github.com/jbroadway/\nphp-mail-test/tree/master/PHPMailer_5.2.1\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#\nissuecomment-303161504\n, or mute the thread https://github.com/notifications/unsubscribe-  <https://github.com/notifications/unsubscribe-%20%3c%0b <\nhttps://github.com/notifications/unsubscribe-%20%3c%0b> <\nhttps://github.com/notifications/unsubscribe-%0b>\nauth/ADClgiD4rM-Th6RaILMeQ3LeLfBWxZJ8ks5r8cD2gaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/ADClglJxJWRU62fhTbWL4IRY3FtzK_\nnBks5r8cD2gaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#  <https://github.com/PHPMailer/PHPMailer/issues/189# <\u000b <\nhttps://github.com/PHPMailer/PHPMailer/issues/189# >\nissuecomment-303172118>,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/  <https://github.com/notifications/unsubscribe-auth/%20%3c%0b <\nhttps://github.com/notifications/unsubscribe-auth/%0b>\nAbISKgSCUT9aRbGQ4K4DI3QWCRaDVKnOks5r8cqdgaJpZM4BlKjJ>\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303173515\n, or mute the thread https://github.com/notifications/unsubscribe-auth/ <https://github.com/notifications/unsubscribe-auth/%0b\nhttps://github.com/notifications/unsubscribe-auth/%0b\nADClgooexyQmtea4AR250xnVBe8yB4QZks5r8cvzgaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/ADClgisYZV6NvgUrF7uA9f_\nMbtVTLsMLks5r8cvzgaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189# <https://github.com/PHPMailer/PHPMailer/issues/189#\u000b \nissuecomment-303204915>,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ <https://github.com/notifications/unsubscribe-auth/%0b \nAbISKheN8AAzsACxUsXca5h9ey8XKQ8nks5r8eoegaJpZM4BlKjJ>\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub <\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303220210>\n, or mute the thread https://github.com/notifications/unsubscribe-auth/ <https://github.com/notifications/unsubscribe-auth/%0b \nADClgnphk4YYb6Aw0qi36hM9UWTem43Rks5r8fj9gaJpZM4BlKjJ> . <\nhttps://github.com/notifications/beacon/ADClgjgCgVFihLtFfqUT3_\nBzksDaDOJ1ks5r8fj9gaJpZM4BlKjJ.gif>\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303222391,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbISKti99W_0_QUJMoCSe7Q4qHkJp8n1ks5r8ftJgaJpZM4BlKjJ\n.\n\n\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/189#issuecomment-303242453 , or mute the thread https://github.com/notifications/unsubscribe-auth/ADClgroiCkNTPPNmLeg76Rffxuef9addks5r8hMNgaJpZM4BlKjJ .  https://github.com/notifications/beacon/ADClgvh0q_K1tNslYf7sWoFRemUV1qQ5ks5r8hMNgaJpZM4BlKjJ.gif \n. ",
    "kazakbala": "I had same problem with Microsoft Exchange with TLS. \nTry to auth without domain name.\nI just changed\n$mail->Username = 'user@domain.tdl';\nto\n$mail->Username = 'user';\nAnd its works\n. ",
    "imManish": "i am having same issue with sending email through office365 smtp\n$mail = new PHPMailer(); \n    $mail->CharSet = 'UTF-8'; \n    $mail->isSMTP(); \n    $mail->SMTPDebug = 2; \n    $mail->Host = \"smtp.office365.com\"; \n    $mail->Port = 587; \n    $mail->SMTPSecure = 'tls'; \n    $mail->SMTPAuth = true; \n    $mail->Username = \"user@domain.com\"; \n    $mail->Password = \"*\"; \n$ppbuzzyuser_email=$_POST['buzzyuser_email'];\n$mail->FromName = 'Invitation for Certefied';\n$mail->addAddress($ppbuzzyuser_email);            \n$mail->Subject = 'Do not reply on this message.';\n\n$mail->Body   = '<div style=\"background:#eee; width:551px; height:277px; margin:0 auto;\">\n  <h3  style=\"text-align:center; color:#2f4050; font-size:22px; padding-top:60px;\">Dear '.$ppbuzzyuser_email.'</h3>\n  <p style=\"text-align:center; color:#2f4050; font-size:17px; margin-top:0px;\">Your Employer <strong>'.$session_buzzyuser_company.'</strong> requests for you to join CertEfied. CertEfied is '.$session_buzzyuser_company.'&#39;s compliance software program, that helps you and '.$session_buzzyuser_company.' store employee licences and qualifications quickly and easily. </p>\n  <p style=\"text-align:center; color:#2f4050; font-size:17px; margin-top:0px;\">\n    CertEfied is able to store your qualifications within your own individual profile for free. This will allow you to share your professional qualifications or licences with '.$session_buzzyuser_company.' quickly and easily. Just simply upload all qualifications your employer requires access to and have CertEfied look after automatically synchronising it to your employer\u2019s profile.\n  </p>\n  <p style=\"text-align:center; color:#2f4050; font-size:17px; margin-top:0px;\">\n  If you undertake work with more than one employer who requires access to your credentials, you may add yourself / request to be added to their CertEfied company profile. No need to re register twice!\n  </p>\n  <p style=\"text-align:center; color:#2f4050; font-size:17px; margin-top:0px;\">\n  If you wish to sign up using this link <a  href=\"'.$buzzysiteurl.'/index.php?company-invite='.$session_user_id.'\">Register here</a> this means you will be automatically be connected to '.$session_buzzyuser_company.' so you can start uploading your qualifications and licences for you and your employer right away. This helps you to remain safe and compliant at work.\n  </p>\n  Regards\n  <p style=\"text-align:center; color:#2f4050; font-size:17px; margin-top:0px;\">\n  The CertEfied Team\n  </p>\n</div>';\n\n$mail->AltBody = 'Hello user, You are now member of Certefied community. ';  \n  if(!$mail->send()) {\n  echo 'Message could not be sent.';\n  echo 'Mailer Error: ' . $mail->ErrorInfo;\n  } else {\n    echo 'Message sent successfully.';\n }\n exit;\n        header('Location: '.$link_prefix.'page.php?user-id='.$session_user_id.'&invite-sent=true'); \n   }\nAnyone can help me on this?. ",
    "duytran31187": "I also guess so, but i'm not sure it made by gmail. Any suggest to fix it ?\ni also leave out replyto as you said but it doesn't change\n. I also guess so, but i'm not sure it made by gmail. Any suggest to fix it ?\ni also leave out replyto as you said but it doesn't change\n. many thanks\n. many thanks\n. ",
    "iandunn": "Yeah, did some testing and I think you're right. The problem was that the Name part wasn't quoted, and the reason that was happening was that WordPress was using AddCustomHeader() instead of AddReplyTo(). There's a patch to fix that in #21659.\n. Yeah, did some testing and I think you're right. The problem was that the Name part wasn't quoted, and the reason that was happening was that WordPress was using AddCustomHeader() instead of AddReplyTo(). There's a patch to fix that in #21659.\n. ",
    "wajihuzzaman": "I used this line in my code and it solved my problem. Thanks\nOn Sat, Mar 15, 2014 at 8:10 PM, Marcus Bointon notifications@github.comwrote:\n\nCode please.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/194#issuecomment-37728119\n.\n. $body = nl2br($body);\nI used this line in my code and it solved my problem. Thanks\n\nOn Sat, Mar 15, 2014 at 8:10 PM, Marcus Bointon notifications@github.comwrote:\n\nCode please.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/194#issuecomment-37728119\n.\n. \n",
    "raghuveer": "I am actually trying to do this feature with both Sendmail and SMTP. I will try SMTP now, and enable SMTPDebug with value 2.\nsome of my friend asked this and said if custom header may be helpful, I am trying to use this in that context, and when checking headers, you are right, I too observed headers as part of main email headers, I will remove that and will try this, thank you\n. I am actually trying to do this feature with both Sendmail and SMTP. I will try SMTP now, and enable SMTPDebug with value 2.\nsome of my friend asked this and said if custom header may be helpful, I am trying to use this in that context, and when checking headers, you are right, I too observed headers as part of main email headers, I will remove that and will try this, thank you\n. I am able to recieve inline attachment with .eml extension. .eml extension worked with AddstringAttachment before, now, it works with addStringEmbeddedImage (incase of SMTP transport even though not working with sendmail transport), after removing the line of code that creates custom header.\nthank you\nPlease help with linking the inline string embedded attachment (.eml file) to be opened correctly, I do not find any error specifically, when I go through SMTP debug information. Do not understand why cid do not link correctly when placed in anchor tag this way,\nhtml\n<a href='cid:my-eml-content1'>my-eml-content1.eml</a>\n. I am able to recieve inline attachment with .eml extension. .eml extension worked with AddstringAttachment before, now, it works with addStringEmbeddedImage (incase of SMTP transport even though not working with sendmail transport), after removing the line of code that creates custom header.\nthank you\nPlease help with linking the inline string embedded attachment (.eml file) to be opened correctly, I do not find any error specifically, when I go through SMTP debug information. Do not understand why cid do not link correctly when placed in anchor tag this way,\nhtml\n<a href='cid:my-eml-content1'>my-eml-content1.eml</a>\n. Actually, I have a client requirement, who asked to attach email messages as attachments (.eml files), and content will be coming from database and we need to do on the fly attachments.\nwhile, almost all the requirements that are mentioned were fulfilled, the last thing that needs to be done is about linking to those on the fly attachments in html body as part of HTML Email Message.\nthen, instead of AddStringAttachment, I did try, addStringEmbeddedImage, with hope that I may use cid concept and put hyperlinks to the attachments using an html anchor tag.\nunfortunately, I am not able to make those links work correctly in the process. As you told, while cid worked with inline image attachments, I am not fully successful in doing this requirement.\nwhile I am trying to understand where I may be going wrong, raised this issue, as I felt, you may share a better perspective to solve this situation more effectively\nthank you\n. Actually, I have a client requirement, who asked to attach email messages as attachments (.eml files), and content will be coming from database and we need to do on the fly attachments.\nwhile, almost all the requirements that are mentioned were fulfilled, the last thing that needs to be done is about linking to those on the fly attachments in html body as part of HTML Email Message.\nthen, instead of AddStringAttachment, I did try, addStringEmbeddedImage, with hope that I may use cid concept and put hyperlinks to the attachments using an html anchor tag.\nunfortunately, I am not able to make those links work correctly in the process. As you told, while cid worked with inline image attachments, I am not fully successful in doing this requirement.\nwhile I am trying to understand where I may be going wrong, raised this issue, as I felt, you may share a better perspective to solve this situation more effectively\nthank you\n. Actually, when the particular link is clicked, the email attachment has to open and it's content shown to the user.\nActually, there will be numerous attachments and the expectation is to present them effectively with a hyperlink as part of HTML Body Message,\nthank you\n. Actually, when the particular link is clicked, the email attachment has to open and it's content shown to the user.\nActually, there will be numerous attachments and the expectation is to present them effectively with a hyperlink as part of HTML Body Message,\nthank you\n. someone said swiftmailer does this, while they mentioned some other issues in the process. being a regular user of phpmailer (for emailing requirements in php websites, I did try to fulfill all the requirements using phpmailer, except the mentioned one).\nso, you meant, we cannot do something so, a reference is created (cid concept) as hyperlinks for attachments then?\nI did try in webmail mostly, even though few times in thunderbird as well\nthank you\n. someone said swiftmailer does this, while they mentioned some other issues in the process. being a regular user of phpmailer (for emailing requirements in php websites, I did try to fulfill all the requirements using phpmailer, except the mentioned one).\nso, you meant, we cannot do something so, a reference is created (cid concept) as hyperlinks for attachments then?\nI did try in webmail mostly, even though few times in thunderbird as well\nthank you\n. thank you for the confirmation\n. thank you for the confirmation\n. while, cid based solution did not work as intended in webmail and thunderbird, it worked in outlook correctly itseems\n. while, cid based solution did not work as intended in webmail and thunderbird, it worked in outlook correctly itseems\n. ",
    "tosiara": "You mean - to modify PHPMailer code and manually prepare and pass \"$option\" value to \"connect\" function?\n. You mean - to modify PHPMailer code and manually prepare and pass \"$option\" value to \"connect\" function?\n. Tried modifying it this way, but still it does not reject certificate (wrong dns name used):\ndiff --git a/class.phpmailer.php b/class.phpmailer.php\nindex 62c88c3..acd6fd2 100644\n--- a/class.phpmailer.php\n+++ b/class.phpmailer.php\n@@ -1175,8 +1175,13 @@ class PHPMailer\n     protected function smtpSend($header, $body)\n     {\n         $bad_rcpt = array();\n-\n-        if (!$this->smtpConnect()) {\n+       $options = array ();\n+       $options['ssl']['capath'] = '/etc/ssl/certs';\n+       $options['ssl']['verify_peer'] = true;\n+       $options['ssl']['verify_host'] = true;\n+       $options['ssl']['allow_self_signed'] = false;\n+       print_r($options);\n+        if (!$this->smtpConnect($options)) {\n             throw new phpmailerException($this->lang('smtp_connect_failed'), self::STOP_CRITICAL);\n         }\n         $smtp_from = ($this->Sender == '') ? $this->From : $this->Sender;\n. Tried modifying it this way, but still it does not reject certificate (wrong dns name used):\ndiff --git a/class.phpmailer.php b/class.phpmailer.php\nindex 62c88c3..acd6fd2 100644\n--- a/class.phpmailer.php\n+++ b/class.phpmailer.php\n@@ -1175,8 +1175,13 @@ class PHPMailer\n     protected function smtpSend($header, $body)\n     {\n         $bad_rcpt = array();\n-\n-        if (!$this->smtpConnect()) {\n+       $options = array ();\n+       $options['ssl']['capath'] = '/etc/ssl/certs';\n+       $options['ssl']['verify_peer'] = true;\n+       $options['ssl']['verify_host'] = true;\n+       $options['ssl']['allow_self_signed'] = false;\n+       print_r($options);\n+        if (!$this->smtpConnect($options)) {\n             throw new phpmailerException($this->lang('smtp_connect_failed'), self::STOP_CRITICAL);\n         }\n         $smtp_from = ($this->Sender == '') ? $this->From : $this->Sender;\n. Ok, looks like \"CN_match\" param is required here.\nSo I ended up by patching this way:\n```\ndiff --git a/class.phpmailer.php b/class.phpmailer.php\nindex 62c88c3..1f9bdc2 100644\n--- a/class.phpmailer.php\n+++ b/class.phpmailer.php\n@@ -1175,8 +1175,13 @@ class PHPMailer\n     protected function smtpSend($header, $body)\n     {\n         $bad_rcpt = array();\n+       $options = array ();\n+       $options['ssl']['capath'] = '/etc/ssl/certs';\n+       $options['ssl']['verify_peer'] = true;\n+       $options['ssl']['CN_match'] = $this->Host;\n+       $options['ssl']['allow_self_signed'] = false;\n\nif (!$this->smtpConnect()) {\nif (!$this->smtpConnect($options)) {\n             throw new phpmailerException($this->lang('smtp_connect_failed'), self::STOP_CRITICAL);\n         }\n         $smtp_from = ($this->Sender == '') ? $this->From : $this->Sender;\n```\n\nI beleive this change could be included into PHPMailer, because 99% of people who are using SSL does not even know that connection established by PHPMailer is not secure\n. Ok, looks like \"CN_match\" param is required here.\nSo I ended up by patching this way:\n```\ndiff --git a/class.phpmailer.php b/class.phpmailer.php\nindex 62c88c3..1f9bdc2 100644\n--- a/class.phpmailer.php\n+++ b/class.phpmailer.php\n@@ -1175,8 +1175,13 @@ class PHPMailer\n     protected function smtpSend($header, $body)\n     {\n         $bad_rcpt = array();\n+       $options = array ();\n+       $options['ssl']['capath'] = '/etc/ssl/certs';\n+       $options['ssl']['verify_peer'] = true;\n+       $options['ssl']['CN_match'] = $this->Host;\n+       $options['ssl']['allow_self_signed'] = false;\n\nif (!$this->smtpConnect()) {\nif (!$this->smtpConnect($options)) {\n             throw new phpmailerException($this->lang('smtp_connect_failed'), self::STOP_CRITICAL);\n         }\n         $smtp_from = ($this->Sender == '') ? $this->From : $this->Sender;\n```\n\nI beleive this change could be included into PHPMailer, because 99% of people who are using SSL does not even know that connection established by PHPMailer is not secure\n. I have added two parameters which could allow users to manipulate security of ssl connection. By default it won't allow to establish insecure\nhttps://github.com/tosiara/PHPMailer/commit/1758ef15b06d21887585d9182683acd79e78df45\n. I have added two parameters which could allow users to manipulate security of ssl connection. By default it won't allow to establish insecure\nhttps://github.com/tosiara/PHPMailer/commit/1758ef15b06d21887585d9182683acd79e78df45\n. Pull request: https://github.com/PHPMailer/PHPMailer/pull/197\n. Pull request: https://github.com/PHPMailer/PHPMailer/pull/197\n. @Synchro, if you leave SSLCaPath empty it will fail to validate certificate as trusted and smtp connection won't open. Because leaving capath empty means you don't care about certificate validation and so you should also set SSLallowInsecure to \"true\". In this case smtp connection is established as it was before the patch - connection in insecure\n. @Synchro, if you leave SSLCaPath empty it will fail to validate certificate as trusted and smtp connection won't open. Because leaving capath empty means you don't care about certificate validation and so you should also set SSLallowInsecure to \"true\". In this case smtp connection is established as it was before the patch - connection in insecure\n. ",
    "sergeevabc": "Gents, I don\u2019t get how to pass stream options you talked of above to get rid of the following error \nWarning: stream_socket_enable_crypto(): Peer certificate CN=*.blabla.com' did not match expected CN=smtp.blabla.net' in class.smtp.php on line 339\nSMTP Error: Could not connect to SMTP host.\nIt seems some magic line like $mail->$options['ssl']['verify_peer'] = false; is required, right?\n. SSL certificate will be updated soon, till then I\u2019ve to use a broken one, that\u2019s all mess about.\nIntermediate solution has been applied, yet another error SMTP Error: Could not authenticate is here.\nPassword is correct though, and SMTPDebug = 4 gives no additional details.\n. ",
    "smaudet": "Hmm, I got the issue to go away - here's what I did anyways, maybe there's a bug in here still:\nA) remove the \"\" from phpdocumentor and replace it with something recent from packagist\nB) run composer install\nC) get an error about needing a github api login\nD) remove the \"\" from phpunit and replace it with something recent from packagist\nE) run composer install\nF) get an error about needing a github api login.\nG) replace the version with \"*\" again\nH) get no error\nI still think it might be worth looking into this, but perhaps I need to file against composer.\nSorry for the confusion!\n. Hmm, I got the issue to go away - here's what I did anyways, maybe there's a bug in here still:\nA) remove the \"\" from phpdocumentor and replace it with something recent from packagist\nB) run composer install\nC) get an error about needing a github api login\nD) remove the \"\" from phpunit and replace it with something recent from packagist\nE) run composer install\nF) get an error about needing a github api login.\nG) replace the version with \"*\" again\nH) get no error\nI still think it might be worth looking into this, but perhaps I need to file against composer.\nSorry for the confusion!\n. ",
    "timstring": "I had already turned on the debug.  Here\u2019s the report from SMTPdebug:\nSMTP ERROR: Failed to connect to server: Operation timed out (60)\nI can\u2019t find any info on error (60).\nOn Mar 22, 2014, at 5:53 PM, Marcus Bointon notifications@github.com wrote:\n\nBefore doing that you should check why it's timing out. All the timeouts are pretty standard, and if your server is not responding in a reasonable amount of time (any normal, unsaturated mail server should be able to accept a delivery via SMTP in much less than a second), find out why - perhaps turn SMTPdebug on. The timeout values are public, so you can set them yourself, look at the docs.\n\u2014\nReply to this email directly or view it on GitHub.\n. I had already turned on the debug.  Here\u2019s the report from SMTPdebug:\n\nSMTP ERROR: Failed to connect to server: Operation timed out (60)\nI can\u2019t find any info on error (60).\nOn Mar 22, 2014, at 5:53 PM, Marcus Bointon notifications@github.com wrote:\n\nBefore doing that you should check why it's timing out. All the timeouts are pretty standard, and if your server is not responding in a reasonable amount of time (any normal, unsaturated mail server should be able to accept a delivery via SMTP in much less than a second), find out why - perhaps turn SMTPdebug on. The timeout values are public, so you can set them yourself, look at the docs.\n\u2014\nReply to this email directly or view it on GitHub.\n. So, I let Network Utility run all night, and the only open port is 554. When I telnetted over to that port I was able to connect. Now, I'm getting a host of EHLO & HELO errors\n\nFilm @ 11:00\n. So, I let Network Utility run all night, and the only open port is 554. When I telnetted over to that port I was able to connect. Now, I'm getting a host of EHLO & HELO errors\nFilm @ 11:00\n. Here's the error messages:\n2014-03-23 13:34:26 CLIENT -> SERVER: EHLO localhost  //<-----  Shouldn't this be something instead of \"localhost\"?  What should it be?  How would I change it?\n2014-03-23 13:34:36 SMTP ERROR: EHLO command failed: \n2014-03-23 13:34:36 CLIENT -> SERVER: HELO localhost \n2014-03-23 13:34:46 SMTP ERROR: HELO command failed: \n2014-03-23 13:34:46 CLIENT -> SERVER: STARTTLS \n2014-03-23 13:34:56 SMTP ERROR: STARTTLS command failed: \n2014-03-23 13:34:56 CLIENT -> SERVER: QUIT \n2014-03-23 13:35:06 SMTP ERROR: QUIT command failed: \n2014-03-23 13:35:16 CLIENT -> SERVER: EHLO localhost \n2014-03-23 13:35:26 SMTP ERROR: EHLO command failed: \n2014-03-23 13:35:26 CLIENT -> SERVER: HELO localhost \n2014-03-23 13:35:36 SMTP ERROR: HELO command failed: \n2014-03-23 13:35:36 CLIENT -> SERVER: STARTTLS \n2014-03-23 13:35:46 SMTP ERROR: STARTTLS command failed: \n2014-03-23 13:35:46 CLIENT -> SERVER: QUIT \n2014-03-23 13:35:56 SMTP ERROR: QUIT command failed: SMTP connect() failed. \nMessage could not be sent.\nMailer Error: SMTP connect() failed.\n. Here's the error messages:\n2014-03-23 13:34:26 CLIENT -> SERVER: EHLO localhost  //<-----  Shouldn't this be something instead of \"localhost\"?  What should it be?  How would I change it?\n2014-03-23 13:34:36 SMTP ERROR: EHLO command failed: \n2014-03-23 13:34:36 CLIENT -> SERVER: HELO localhost \n2014-03-23 13:34:46 SMTP ERROR: HELO command failed: \n2014-03-23 13:34:46 CLIENT -> SERVER: STARTTLS \n2014-03-23 13:34:56 SMTP ERROR: STARTTLS command failed: \n2014-03-23 13:34:56 CLIENT -> SERVER: QUIT \n2014-03-23 13:35:06 SMTP ERROR: QUIT command failed: \n2014-03-23 13:35:16 CLIENT -> SERVER: EHLO localhost \n2014-03-23 13:35:26 SMTP ERROR: EHLO command failed: \n2014-03-23 13:35:26 CLIENT -> SERVER: HELO localhost \n2014-03-23 13:35:36 SMTP ERROR: HELO command failed: \n2014-03-23 13:35:36 CLIENT -> SERVER: STARTTLS \n2014-03-23 13:35:46 SMTP ERROR: STARTTLS command failed: \n2014-03-23 13:35:46 CLIENT -> SERVER: QUIT \n2014-03-23 13:35:56 SMTP ERROR: QUIT command failed: SMTP connect() failed. \nMessage could not be sent.\nMailer Error: SMTP connect() failed.\n. ",
    "Senasum": "hello octavebenil !! are you French?\n. Salut octavebenil !! Es-tu fran\u00e7ais ?\n. ",
    "Hackinet": "This was opened 4 years ago lol. @Synchro Sorry for the late reply. Yes, I saw the PR in #203 . While creating the new lang file I took into account, the old commit. The new one is definitely better.. ",
    "stephandesouza": "Done, using version_compare() to check the PHP version, so can switch to dirname(__FILE__)  and __DIR__\nAlso changed the/ to DIRECTORY_SEPARATOR\n. Done, using version_compare() to check the PHP version, so can switch to dirname(__FILE__)  and __DIR__\nAlso changed the/ to DIRECTORY_SEPARATOR\n. ",
    "rocksfrow": "FYI, when using the old release I get bad body hash error, but from my research that was an old issue that has been resolved. So I have reverted again to using this repo's master source (5.2.7), which appears to be the same as what composer has. Anyway, using this most recent source, I get this DKIM validation error from port25:\n\nDKIM check details:\nResult:         fail (signature doesn't verify)\nAgain, I have isolated this issue to only messages sent with the phpmailer class, I haven't been able to reproduce this issue with any other method of emailing which is why I suspect PHPMailer is the cause.\nLet me know what information I can provide to assist.\n. FYI, when using the old release I get bad body hash error, but from my research that was an old issue that has been resolved. So I have reverted again to using this repo's master source (5.2.7), which appears to be the same as what composer has. Anyway, using this most recent source, I get this DKIM validation error from port25:\n\nDKIM check details:\nResult:         fail (signature doesn't verify)\nAgain, I have isolated this issue to only messages sent with the phpmailer class, I haven't been able to reproduce this issue with any other method of emailing which is why I suspect PHPMailer is the cause.\nLet me know what information I can provide to assist.\n. I notice that phpmailer is inserting X-headers into the existing headers, instead of adding them to the end of the headers... won't that break the DKIM header validation?\n. I notice that phpmailer is inserting X-headers into the existing headers, instead of adding them to the end of the headers... won't that break the DKIM header validation?\n. So apparently the Content-Transfer-Encoding header that PHPMailer is inserting is breaking DKIM validation. I just modified the source\n//RFC1341 part 5 says 7bit is assumed if not specified                                                                                                                                              \n        if ($this->Encoding != '7bit') {\n          $result .= $this->headerLine('Content-Transfer-Encoding', $this->Encoding);\n        }\nThis code is faulty, because I am ending up with this header in my message:\nContent-Transfer-Encoding: 7bit\n. So apparently the Content-Transfer-Encoding header that PHPMailer is inserting is breaking DKIM validation. I just modified the source\n//RFC1341 part 5 says 7bit is assumed if not specified                                                                                                                                              \n        if ($this->Encoding != '7bit') {\n          $result .= $this->headerLine('Content-Transfer-Encoding', $this->Encoding);\n        }\nThis code is faulty, because I am ending up with this header in my message:\nContent-Transfer-Encoding: 7bit\n. FYI, commenting this line out results in the message passing DKIM validation.\n. After further debugging, it looks like $this->Encoding is actually '8bit'... but it's getting changed to 7bit somewhere along the line.\nI will leave this issue open temporarily, but I am thinking this may be a postfix issue.\n. I was able to avoid this issue by changing $Encoding = '8bit' to '7bit'\n. @Synchro \nYes after further investigation I followed up and said it's not that. The ordering has nothing to do with it, also the X- headers don't. \nIt's 100% the Content-Transfer-Encoding header causing the issue. I confirmed it through extensive testing.\nIf I edit the default $Encoding value from 8bit, to 7bit, the emails will no longer include that header (like you said, because of that conditional)... and the DKIM validates.\nWhat's happening is, using Postfix 2.6.6, if you send a message via smtp with Content-Transfer-Encoding: 8bit, it is REWRITTEN to 7bit, and the header ends up in the resulting message with 7bit. That's why I thought it was defaulting to 7bit at first.\nI confirmed, when I use $mail->Encoding = '7bit', the message will pass DKIM.\nBut you said it's not safe for me to do this?\n. NOTE: SMTPDEBUG shows that phpmailer is sending '8bit' as the encoding in the SMTP convo, but the message that lands in my inbox comes through with 7-bit.\nSo it's gotta be a server-side thing. I am working on getting a box with a more recent version of postfix to see if the issue persists.\nMake sense?\n. Nope, still modifies\n. I did confirm it's definitely postfix though... after specifically stating 8bit with my swiftmailer test, it also breaks DKIM.\nPostfix 2.6.6. is hella-old... I need to compile from source.\n. @jcav2 i'm not sure what you're asking. The second authentication result is valid once you have 7bit set (spf=pass, dkim=pass).\n. @jcav2 thanks for the update!\n. ",
    "jcav2": "Thanks rocksfrow, the bug is still open with Postfix 2.9.6 so the solution is:\n$mail->Encoding = '7bit', and the message will pass DKIM.\nThanks !!!\n. @rocksfrow  and @Synchro \nI have multiple domains in my server, with multiple dkim, when sending without encoding to a hotmail account the source code is:\nAuthentication-Results: hotmail.com; spf=pass (sender IP is XXX.XXX.XXX.XXX; identity alignment result is pass and alignment mode is relaxed) smtp.mailfrom=info@mydomain.com; dkim=temperror (identity alignment result is pass and alignment mode is relaxed) header.d=mydomain.com; x-hmca=pass header.id=info@mydomain.com\nWhen i put  $mail->Encoding = '7bit'\nthe source code of email is:\nAuthentication-Results: hotmail.com; spf=pass (sender IP is XXX.XXX.XXX.XXX; identity alignment result is pass and alignment mode is relaxed) smtp.mailfrom=info@mydomain.com; dkim=pass (identity alignment result is pass and alignment mode is relaxed) header.d=mydomain.com; x-hmca=pass header.id=info@mydomain.com\nAll my emails to hotmail goes to spam but my spf and dkim are valid.\nI am using last code from githug, phpmailer version 5.2.14\nThanks for your comments !!!\n. ",
    "xrmx": "Thanks! \n. ",
    "StefanoDeRosso": "I'll give it a try, thanks.\nAnyway, I saw a response by a guy that said:\nYes, very easily with include and a short helper function:\n``` php\nfunction get_include_contents($filename, $variablesToMakeLocal) {\n    extract($variablesToMakeLocal);\n    if (is_file($filename)) {\n        ob_start();\n        include $filename;\n        return ob_get_clean();\n    }\n    return false;\n}\n$mail->IsHTML(true);    // set email format to HTML\n$mail->Subject = \"You have an event today\";\n$mail->Body = get_include_contents('../emails/event.php', $data); // HTML -> PHP!\n$mail->Send(); // send message\n```\n(the question was: \"Hello I am trying to send html emails using php mailer class. The problem is i would like to incllude php variables in my email while using includes as to keep things organized\")\n. The problem is that I couldn't get it done that way, too.\n. ",
    "stevevg": "Hi,\nsome providers (including some I am using for some domains) require to set the Return-path explicitly, or their antispam system for outgoing e-mails reject the message (even this behaviour is out of RFC).\nThey started to apply this enforcement in the last days, and will eventually propagate this filter all over their infrastructure in the next months.\nTherefore, I would be happy to see this function restored, eventually disabled by default, but that may be explicitly enabled. In the documentation it could be marked as out of standard, as a sort of disclaimer. In the meantime, I stick with an old version of the library.\n. You are right, I don't know why they came out with this solution, probably requiring smtp authentication on php scripts, or other solutions would have sorted the same effect while remaining RFC compliant.\nI think I'll subclass as you suggested for the moment, it seems the best solution. Thank you for your support.\n. ",
    "twisted1919": "Ah, okay i see the reason now. I remember i had a few warnings about calling a static method in a non static context(not with php mailer) and that's the entire reason why opened this issue :)\nThanks for your attention.\n. ",
    "gresakg": "Ups ... please remove this issue. Discovered my mistake. From is a property, setFrom is a method. Tried to use propperty as method ... didn't work of course :)\n. ",
    "Mithgol": "Does your iPhone have a Retina display?\n. Does your iPhone have a Retina display?\n. I've patched the\u00a0second\u00a0place in\u00a0the\u00a0readme, thanks.\n. I've patched the\u00a0second\u00a0place in\u00a0the\u00a0readme, thanks.\n. ",
    "sebastianberns": "Do you also need help translating the missing messages (commented out)?\nI could do that for you!\n. Do you also need help translating the missing messages (commented out)?\nI could do that for you!\n. Done!\n. Done!\n. ",
    "kenh": "I meant to add to the above issue ... obviously not all emails generated by PHPMailer have this issue. I'm not sure why some do, and some do not.\n. I meant to add to the above issue ... obviously not all emails generated by PHPMailer have this issue. I'm not sure why some do, and some do not.\n. > Good catch. The problem was that the global Encoding property was\n\nbeing used for everything, including multipart elements. I've added\ncode to spot when that happens and revert to 7bit or 8bit for multipart\nwrappers. It would have been intermittent as it would only have\nhappened when a message was sent that contained quoted-printable or\nbase64 parts - simple text, HTML or combined text/HTML would not have\nbeen affected. Let me know if this set of changes does or doesn't fix\nthis for you.\n\nThank you very much!  I believe this will fix it; the only issue now is\ngetting all of the various sites using PHPMailer to upgrade :-/\n--Ken\n. > Good catch. The problem was that the global Encoding property was\n\nbeing used for everything, including multipart elements. I've added\ncode to spot when that happens and revert to 7bit or 8bit for multipart\nwrappers. It would have been intermittent as it would only have\nhappened when a message was sent that contained quoted-printable or\nbase64 parts - simple text, HTML or combined text/HTML would not have\nbeen affected. Let me know if this set of changes does or doesn't fix\nthis for you.\n\nThank you very much!  I believe this will fix it; the only issue now is\ngetting all of the various sites using PHPMailer to upgrade :-/\n--Ken\n. ",
    "andyk72": "Thank you for you very quick response! I will try that :-)\n. Thank you for you very quick response! I will try that :-)\n. Solved! The problem was in the YiiMailer extension.\nThank you for your support.\nBye,\nAndrea\n. Solved! The problem was in the YiiMailer extension.\nThank you for your support.\nBye,\nAndrea\n. ",
    "PetrToman": "How about replacing html2text class with this implementation: https://github.com/soundasleep/html2text ? It seems to work nice and it is dual licensed - EPL and LGPL.\n. Agreed, using composer is logical. I'm not sure why a wrapper is needed. In PHPMailer, html2text is called only in html2text($html, $advanced = false) function. I would rather consider changing the type of $advanced parameter of msgHTML($message, $basedir = '', $advanced = false) function to mixed (boolean|callable), so that any conversion function could be plugged if needed (without breaking the current PHPMailer API):\n```\n// use default html2text function\n$mail->msgHTML($text, '', true);\n// use custom converter\n$mail->msgHTML($text, '', function($html) {\n   $converter = new MyHtml2text($html);\n   return $converter->get_text();\n});\n```\n. ",
    "tixeunem": "Someone managed to solve this problem?\n. ",
    "AlexKvazos": "Well, got good news and bad news.\nBad news is that my smtp host runs a bad service and for \"some strange reason\" it was just refusing my connection.\nGood news, I was supplied a different port and everything works now.\nThank you so much anyways for the time put into this.\n. Will do, just a quick question, would it be correct if I have a php file with my email template, and on the function I use to send mail do this:\n$mail->Body    = include('mail-template.php');\nOr what is the best way of having the html email on a different file and have phpmailer grab it?\n. ",
    "a-x-": "@ooxi, yeah, i can. \nAnd is master branch right for this?\n. I have read your comments and scrutinizer messages and split commits + make my code more compatible with your standarts.\nClean duplications patch i splitted into separate branch (pull request #237)\n. I used lambda, which introduced in php 5.3, but PHPMailer compatible with php since 5.1.2 version\nif (version_compare(PHP_VERSION, '5.1.2', '>='))\nIf it isn't permitted i can change lambda by ordinar protected method\n. ",
    "Arnaud69": "To send correctly to hotmail, be sure to be correct with DKIM... And look in your spam folder.\n. Deleted by hotmail.\nBe careful with yahoo too.\n. Closed since May 2014 !\n. ",
    "danilosantosdev": "I'm having the same problem. The outlook.com don't receive my e-mails.\n. ",
    "voquan": "Dear Synchro,\nI got same problem. I tried \"telnet smtp.gmail.com 587\", it returned : 202 mx.google.com ESMTP... but I still can not send the email. I tested this code in localhost and some hostings but it does not work either.\n. Dear Synchro,\nI got same problem. I tried \"telnet smtp.gmail.com 587\", it returned : 202 mx.google.com ESMTP... but I still can not send the email. I tested this code in localhost and some hostings but it does not work either.\n. Yep, you're right. This code returns connection error. That's my server problem. Thanks for your support.\n. Yep, you're right. This code returns connection error. That's my server problem. Thanks for your support.\n. ",
    "al2879": "I can update to any version, but the next Wordpress update reinstall 5.2.7.\nThe same site configuration works well on Debian7 but does not work on Ubuntu.\nVMWare virtual Debian7 loaded from Ubuntu site backup. So, it seems to me, the only\ndifference is system software. \n. All debug log:  CLIENT -> SMTP: Can not connect to server(0)\n. Thank you. I'll try. \n. Example script also does not work.\nSMTP -> ERROR: Failed to connect to server: (0)\nSMTP connect() failed. Message could not be sent.\nMailer Error: SMTP connect() failed\nBy the way, working 5.2.4 test shows starnge Debug message (SMTPDebug=2) - only FROM SERVER part recorded:\nSMTP -> FROM SERVER:220 m10.cominfor.ru ESMTP Sendmail 8.14.4/8.14.4/Debian-2ubuntu2.1; Tue, 10 Jun 2014 22:12:28 +0400; (No UCE/UBE) logging access from: www.cablook.com(OK)-www.cablook.com [88.80.184.181]\nSMTP -> FROM SERVER: 250-m10.cominfor.ru Hello www.cablook.com [88.80.184.181], pleased to meet you 250-ENHANCEDSTATUSCODES 250-PIPELINING 250-EXPN 250-VERB 250-8BITMIME 250-SIZE 250-DSN 250-ETRN 250-AUTH DIGEST-MD5 CRAM-MD5 250-STARTTLS 250-DELIVERBY 250 HELP\nSMTP -> FROM SERVER:220 2.0.0 Ready to start TLS\nSMTP -> FROM SERVER: 250-m10.cominfor.ru Hello www.cablook.com [88.80.184.181], pleased to meet you 250-ENHANCEDSTATUSCODES 250-PIPELINING 250-EXPN 250-VERB 250-8BITMIME 250-SIZE 250-DSN 250-ETRN 250-AUTH LOGIN PLAIN DIGEST-MD5 CRAM-MD5 250-DELIVERBY 250 HELP\nSMTP -> FROM SERVER:250 2.1.0 ... Sender ok\nSMTP -> FROM SERVER:250 2.1.5 ... Recipient ok\nSMTP -> FROM SERVER:354 Enter mail, end with \".\" on a line by itself\nSMTP -> FROM SERVER:250 2.0.0 s5AICSsI015951 Message accepted for delivery\nSMTP -> FROM SERVER:221 2.0.0 m10.cominfor.ru closing connection\nMessage has been sent\n. There is no common networking problem at the site - 5.2.4 works well.\nUsual debug log consists from two parts: CLIENT and SERVER. Log above shows only\npart from server.\n. I've added some debug output (host,port, var_dump($options)) to phpmailer 5.2.7 class.smtp.php file in the function connect, before // Connect to the SMTP server, \nremoved @ before stream_socket_client()  and got the following log:\nBefore connect:host=m10.cominfor.ru port=25--- options=array(0) { } \nSMTP -> ERROR: Failed to connect to server: (0)\nSMTP connect() failed. Message could not be sent.Mailer Error: \nSMTP connect() failed.\nFile to run was simple.php:\n``` php\n<?php\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->SMTPDebug = 2;\n$mail->isSMTP();                                    \n$mail->Host = 'm10.cominfor.ru';            \n$mail->SMTPAuth = true;                             \n$mail->Username = 'xxxx';               \n$mail->Password = 'xxxxxx';                         \n$mail->SMTPSecure = 'tls';                          \n$mail->From = 'uskov@m10.cominfor.ru';\n$mail->FromName = 'Mailer';\n$mail->addAddress('al2879@mail.ru', 'al2879');   \n$mail->addReplyTo('info@example.com', 'Information');\n$mail->WordWrap = 50;                                 // Set word wrap to 50 characters\n//$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n//$mail->addAttachment('/tmp/image.jpg', 'new.jpg');    // Optional name\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body in bold!';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n?>\n```\nDo you have any idea, why mailer works in all my debug environments (Debian VMWare+Nginx,\nUbuntu+Apache) but does not work in production (Ubuntu+Nginx)?\nWhat next I can debug?\n. This server behavior is not the matter - the same problem with smtp.gmail.com, and as I've pointed out before - everythig works OK with this (and any other) server within several other debug environments.\nThere are many ways to walk around the problem (mail via internal mail server and so on) but\nphpmailer is included in Wordpress and I am very ineterested to know what I can use the package.\nMay be my installation lacks for some dependencies? \nWhat kind of DNS or network issues can make impact on 5.2.7 but do not touch 5.2.4?\n(By the way, 5.2.8 also does not work)\n. ",
    "mgumz": "this is just a special case of a general user-cb. 2 options:\n1) straightforward: the default-case checks if $this->Debugoutput is callable and calls it with $str. a user can easily hand over a closure to achieve mail() or log_to_db() or whatever\n2) complicate: adding a 'trigger_error' case, use trigger_error() to report the $str to the handle set via set_error_handler().\nright now already \"there\" but ugly as hell:\nfunction mail_cb($smtp_log) {\n    mail($to, $subject, $smtp_log);\n}\nob_start('mail_cb');\n$mailer->setDebugLevel(2);\n$mailer->send();\nob_end_clean();\n. ",
    "MortonVisuals": "Trying to access the php.ini. The mail() command was working 2 weeks ago, because I got a couple of customer inquiries on 6/13. But at some point in the last 2 weeks all of them stopped. And my hosting provider can't help. I've added PHPMailer but I'm not getting anything from it either. Of course I'm much less confident about its configuration. I'm wondering if some Parallels Plesk update has caused a problem with Sendmail. Parallels couldn't help me either, saying I needed to deal with my hosting provider. :-(\nFYI I just tried the smtp.php file and this is all that displayed (a blank white page):\n[!DOCTYPE html]\n[html]\n[head]\n    [meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/]\n    [title]PHPMailer - SMTP test[/title]\n[/head]\n[body]\n. Sorry, I pasted just the PHP code from my page. I inserted that code in to the BODY section of a blank page. Just added the ini_set and got a \"failed to open...\" the Autoload doc. I changed the reference from /phpmailer/ to phpmailer/ and now I'm only getting \"Invalid address: $email\" error. \n$email = 'myalternateemail@yahoo.com';\nI was trying to print the \"Complete.\" after sending the email, assuming it ran that far. Am I misunderstanding the return mail->send() line? \nThanks for your patience -- believe it or not, I AM learning...\n. Thank you! I finally got it working. I also found that the require statement wouldn't work relative to the site root -- I had to specify a document-relative URL. \n. ",
    "WyrdNexus": "~~A bug I'm about to report, if it hasn't yet been, is that the $mail->port~~ $mail->Port value ~~is ignored~~ works just fine. * facepalm *\nInstead, you may specify the port in the $mail->Host value:\nphp\n$mail->Host = 'tls://smtp.yourdomain.com:587;ssl://smtp.yourdomain.com:465';\n. Turns out there are 2 people reporting that this is working for them as intended, so I will triple-check my findings and update this with the results.\nStarting at class.phpmailer.php:1327\nphp\n            $host = $hostinfo[3];\n            $port = $this->Port;\n            $tport = (integer)$hostinfo[4];\n            if ($tport > 0 and $tport < 65536) {\n                $port = $tport;\n            }\nChecking results through class.smtp.php:216\nphp\n        if (empty($port)) {\n            $port = self::DEFAULT_SMTP_PORT;\n        }\nTroubleshooting to commence. Yay. May end up being my server, so yay again.\n. Wow, facepalm. \n. ",
    "anandp83": "Just confirmed, Port is working fine on my end as well.\nOn Aug 12, 2014, at 6:51 PM, Marcus Bointon notifications@github.com wrote:\n\nPort isn't ignored - it gets used right here, and I use it whenever I run the unit tests.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "HS79": "Thank you! Please consider tagging it, as it's still sought-after by Drupal users.\n. The Drupal 6 version of SMTP Authentication Support module can only be used with phpmailer 2.2.1. See info on this page: https://www.drupal.org/project/smtp\nNot sure why they require such an old version of phpmailer because the latest Drupal 6 version of that module was released last year.\n. ",
    "wundo": "(Drupal's SMTP module maintainer here)\nPlease notice that Drupal 6 is also an old (but not so buggy) version of Drupal ;)\n. ",
    "joshbrw": "4 years on and having to deal with legacy code - this tag saved my bacon! Thank you! \ud83e\udd53 . 4 years on and having to deal with legacy code - this tag saved my bacon! Thank you! \ud83e\udd53 . ",
    "lode": "As of today, Gmail supports it (sort of). I would also love to see this implemented.\n. As of today, Gmail supports it (sort of). I would also love to see this implemented.\n. ",
    "vinuf666": "I made changes like this\n                $mail->AuthType ='PLAIN';\n                $mail->Debugoutput='error_log';\nI enabled error_log for debug but all I see in apache error log is:\n[Thu Jul 17 06:28:38 2014] [error] [client 127.0.0.1] PHP WARNING: 2014-07-17 10:28:38 (UTC): \"mail() [function.mail]: SMTP server response: 530 SMTP authentication is required.\" in file C:\\wamp\\www\\elgg\\engine\\lib\\notification.php (line 365), referer: http://localhost/elgg/contactus/add\nHowever when I ran Thunderbird to send using the same SMTP these are the logs on successful send:\n\"TCPIP\" 2652    \"2014-07-17 06:39:17.701\"   \"TCP - 127.0.0.1 connected to 127.0.0.1:25.\"\n\"DEBUG\" 2652    \"2014-07-17 06:39:17.795\"   \"Creating session 10\"\n\"SMTPD\" 2652    10  \"2014-07-17 06:39:17.795\"   \"127.0.0.1\" \"SENT: 220 Welcome here\"\n\"SMTPD\" 2652    10  \"2014-07-17 06:39:17.811\"   \"127.0.0.1\" \"RECEIVED: EHLO [127.0.0.1]\"\n\"SMTPD\" 2652    10  \"2014-07-17 06:39:17.811\"   \"127.0.0.1\" \"SENT: 250-GTS-W2K3-FB[nl]250-SIZE 20480000[nl]250 AUTH LOGIN PLAIN\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.811\"   \"127.0.0.1\" \"RECEIVED: AUTH PLAIN AG5vcmVwbHlAcGhpbGFxdWFydGVycy5jb20AcGE1NXcwcmQ=\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.873\"   \"127.0.0.1\" \"SENT: 235 authenticated.\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.873\"   \"127.0.0.1\" \"RECEIVED: MAIL FROM:noreply@philaquarters.com SIZE=993\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.873\"   \"127.0.0.1\" \"SENT: 250 OK\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.889\"   \"127.0.0.1\" \"RECEIVED: RCPT TO:contact@philaquarters.com\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.904\"   \"127.0.0.1\" \"SENT: 250 OK\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.904\"   \"127.0.0.1\" \"RECEIVED: DATA\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.904\"   \"127.0.0.1\" \"SENT: 354 OK, send.\"\n\"DEBUG\" 4008    \"2014-07-17 06:39:17.951\"   \"Saving message: {B281AEE0-2CDD-43E0-8D71-EF087666B480}.eml\"\n\"DEBUG\" 4008    \"2014-07-17 06:39:18.061\"   \"Requesting SMTPDeliveryManager to start message delivery\"\n\"SMTPD\" 4008    10  \"2014-07-17 06:39:18.061\"   \"127.0.0.1\" \"SENT: 250 Queued (0.047 seconds)\"\n\"SMTPD\" 2748    10  \"2014-07-17 06:39:18.076\"   \"127.0.0.1\" \"RECEIVED: QUIT\"\n\"SMTPD\" 2748    10  \"2014-07-17 06:39:18.076\"   \"127.0.0.1\" \"SENT: 221 goodbye\"\n\"DEBUG\" 3200    \"2014-07-17 06:39:18.076\"   \"Closing TCP/IP socket\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.139\"   \"Delivering message...\"\n\"DEBUG\" 3200    \"2014-07-17 06:39:18.295\"   \"Ending session 10\"\n\"APPLICATION\"   3328    \"2014-07-17 06:39:18.295\"   \"SMTPDeliverer - Message 1: Delivering message from noreply@philaquarters.com to contact@philaquarters.com. File: C:\\Program Files\\hMailServer\\Data{B281AEE0-2CDD-43E0-8D71-EF087666B480}.eml\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.357\"   \"Applying rules\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.373\"   \"Performing local delivery\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.404\"   \"Creating out-of-office message.\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.451\"   \"Saving message: {E84EB343-148B-4E9D-88D7-FC222EA037B9}.eml\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.576\"   \"Requesting SMTPDeliveryManager to start message delivery\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.576\"   \"Applying rules\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.639\"   \"Delivering message...\"\n\"APPLICATION\"   1976    \"2014-07-17 06:39:18.639\"   \"SMTPDeliverer - Message 2: Delivering message from contact@philaquarters.com to noreply@philaquarters.com. File: C:\\Program Files\\hMailServer\\Data{E84EB343-148B-4E9D-88D7-FC222EA037B9}.eml\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.654\"   \"Applying rules\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.654\"   \"Performing local delivery\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.654\"   \"Applying rules\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.686\"   \"Saving message: {E84EB343-148B-4E9D-88D7-FC222EA037B9}.eml\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.686\"   \"Saving message: {B281AEE0-2CDD-43E0-8D71-EF087666B480}.eml\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.779\"   \"AWStats::LogDeliverySuccess\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.811\"   \"AWStats::LogDeliverySuccess\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.857\"   \"Local delivery completed\"\n\"APPLICATION\"   1976    \"2014-07-17 06:39:18.857\"   \"SMTPDeliverer - Message 2: Message delivery thread completed.\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.873\"   \"Local delivery completed\"\n\"APPLICATION\"   3328    \"2014-07-17 06:39:18.873\"   \"SMTPDeliverer - Message 1: Message delivery thread completed.\"\n. I made changes like this\n                $mail->AuthType ='PLAIN';\n                $mail->Debugoutput='error_log';\nI enabled error_log for debug but all I see in apache error log is:\n[Thu Jul 17 06:28:38 2014] [error] [client 127.0.0.1] PHP WARNING: 2014-07-17 10:28:38 (UTC): \"mail() [function.mail]: SMTP server response: 530 SMTP authentication is required.\" in file C:\\wamp\\www\\elgg\\engine\\lib\\notification.php (line 365), referer: http://localhost/elgg/contactus/add\nHowever when I ran Thunderbird to send using the same SMTP these are the logs on successful send:\n\"TCPIP\" 2652    \"2014-07-17 06:39:17.701\"   \"TCP - 127.0.0.1 connected to 127.0.0.1:25.\"\n\"DEBUG\" 2652    \"2014-07-17 06:39:17.795\"   \"Creating session 10\"\n\"SMTPD\" 2652    10  \"2014-07-17 06:39:17.795\"   \"127.0.0.1\" \"SENT: 220 Welcome here\"\n\"SMTPD\" 2652    10  \"2014-07-17 06:39:17.811\"   \"127.0.0.1\" \"RECEIVED: EHLO [127.0.0.1]\"\n\"SMTPD\" 2652    10  \"2014-07-17 06:39:17.811\"   \"127.0.0.1\" \"SENT: 250-GTS-W2K3-FB[nl]250-SIZE 20480000[nl]250 AUTH LOGIN PLAIN\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.811\"   \"127.0.0.1\" \"RECEIVED: AUTH PLAIN AG5vcmVwbHlAcGhpbGFxdWFydGVycy5jb20AcGE1NXcwcmQ=\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.873\"   \"127.0.0.1\" \"SENT: 235 authenticated.\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.873\"   \"127.0.0.1\" \"RECEIVED: MAIL FROM:noreply@philaquarters.com SIZE=993\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.873\"   \"127.0.0.1\" \"SENT: 250 OK\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.889\"   \"127.0.0.1\" \"RECEIVED: RCPT TO:contact@philaquarters.com\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.904\"   \"127.0.0.1\" \"SENT: 250 OK\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.904\"   \"127.0.0.1\" \"RECEIVED: DATA\"\n\"SMTPD\" 3812    10  \"2014-07-17 06:39:17.904\"   \"127.0.0.1\" \"SENT: 354 OK, send.\"\n\"DEBUG\" 4008    \"2014-07-17 06:39:17.951\"   \"Saving message: {B281AEE0-2CDD-43E0-8D71-EF087666B480}.eml\"\n\"DEBUG\" 4008    \"2014-07-17 06:39:18.061\"   \"Requesting SMTPDeliveryManager to start message delivery\"\n\"SMTPD\" 4008    10  \"2014-07-17 06:39:18.061\"   \"127.0.0.1\" \"SENT: 250 Queued (0.047 seconds)\"\n\"SMTPD\" 2748    10  \"2014-07-17 06:39:18.076\"   \"127.0.0.1\" \"RECEIVED: QUIT\"\n\"SMTPD\" 2748    10  \"2014-07-17 06:39:18.076\"   \"127.0.0.1\" \"SENT: 221 goodbye\"\n\"DEBUG\" 3200    \"2014-07-17 06:39:18.076\"   \"Closing TCP/IP socket\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.139\"   \"Delivering message...\"\n\"DEBUG\" 3200    \"2014-07-17 06:39:18.295\"   \"Ending session 10\"\n\"APPLICATION\"   3328    \"2014-07-17 06:39:18.295\"   \"SMTPDeliverer - Message 1: Delivering message from noreply@philaquarters.com to contact@philaquarters.com. File: C:\\Program Files\\hMailServer\\Data{B281AEE0-2CDD-43E0-8D71-EF087666B480}.eml\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.357\"   \"Applying rules\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.373\"   \"Performing local delivery\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.404\"   \"Creating out-of-office message.\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.451\"   \"Saving message: {E84EB343-148B-4E9D-88D7-FC222EA037B9}.eml\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.576\"   \"Requesting SMTPDeliveryManager to start message delivery\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.576\"   \"Applying rules\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.639\"   \"Delivering message...\"\n\"APPLICATION\"   1976    \"2014-07-17 06:39:18.639\"   \"SMTPDeliverer - Message 2: Delivering message from contact@philaquarters.com to noreply@philaquarters.com. File: C:\\Program Files\\hMailServer\\Data{E84EB343-148B-4E9D-88D7-FC222EA037B9}.eml\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.654\"   \"Applying rules\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.654\"   \"Performing local delivery\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.654\"   \"Applying rules\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.686\"   \"Saving message: {E84EB343-148B-4E9D-88D7-FC222EA037B9}.eml\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.686\"   \"Saving message: {B281AEE0-2CDD-43E0-8D71-EF087666B480}.eml\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.779\"   \"AWStats::LogDeliverySuccess\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.811\"   \"AWStats::LogDeliverySuccess\"\n\"DEBUG\" 1976    \"2014-07-17 06:39:18.857\"   \"Local delivery completed\"\n\"APPLICATION\"   1976    \"2014-07-17 06:39:18.857\"   \"SMTPDeliverer - Message 2: Message delivery thread completed.\"\n\"DEBUG\" 3328    \"2014-07-17 06:39:18.873\"   \"Local delivery completed\"\n\"APPLICATION\"   3328    \"2014-07-17 06:39:18.873\"   \"SMTPDeliverer - Message 1: Message delivery thread completed.\"\n. and awstats log shows : \n2014-07-17 06:39:18 noreply@philaquarters.com   contact@philaquarters.com   127.0.0.1   127.0.0.1   SMTP    ?   250 1098\n. and awstats log shows : \n2014-07-17 06:39:18 noreply@philaquarters.com   contact@philaquarters.com   127.0.0.1   127.0.0.1   SMTP    ?   250 1098\n. Thanks Synchro,\nI am not sure but after using SSL and changing port number it seems to work in the server/website(though it has plaintext auth as well). I haven't tested on my local virtual machine(which does not have SSL and works on default port) whose logs are given above.But it was a great learning experience because I went through almost the entire code of PHPMail trying to figure out how it works internally. I plan to update html_email plugin with smtp using PHPMailer because its a fantastically written library. The only thing I have to test is whether it works well with non SSL PLAIN AUTH where i had problem in the local.\nThank you for your help and patience.\n. Thanks Synchro,\nI am not sure but after using SSL and changing port number it seems to work in the server/website(though it has plaintext auth as well). I haven't tested on my local virtual machine(which does not have SSL and works on default port) whose logs are given above.But it was a great learning experience because I went through almost the entire code of PHPMail trying to figure out how it works internally. I plan to update html_email plugin with smtp using PHPMailer because its a fantastically written library. The only thing I have to test is whether it works well with non SSL PLAIN AUTH where i had problem in the local.\nThank you for your help and patience.\n. ",
    "mjmunger": "I am very open to your suggestions. Let me give you some background on the idea: sending mail via mail(), (in most cases I have Postfix running), doesn't give me the flexibility to update a database based on the disposition of the sent mail. In most cases, people code a separate module to look for bounce messages. But, if you could handle it directly in the class, you'd have the remote server reply right there and can mark an address as bad.\nYou mentioned PHP has various logging functions. I assume you're recommending that I use these (http://php.net/manual/en/ref.errorfunc.php). I can certainly swap that out.\nAs far as injecting a callable, can you post a link to where I can read about this methodology? I am not too familiar with it, but it shouldn't be hard to add.\n. I am very open to your suggestions. Let me give you some background on the idea: sending mail via mail(), (in most cases I have Postfix running), doesn't give me the flexibility to update a database based on the disposition of the sent mail. In most cases, people code a separate module to look for bounce messages. But, if you could handle it directly in the class, you'd have the remote server reply right there and can mark an address as bad.\nYou mentioned PHP has various logging functions. I assume you're recommending that I use these (http://php.net/manual/en/ref.errorfunc.php). I can certainly swap that out.\nAs far as injecting a callable, can you post a link to where I can read about this methodology? I am not too familiar with it, but it shouldn't be hard to add.\n. ",
    "JayDi85": "That code on PCRE version 8.33 work fine. That's why It's not PHPMailer problem.It's PCRE issue. But you must know about it (old #41 like it too).\n. That code on PCRE version 8.33 work fine. That's why It's not PHPMailer problem.It's PCRE issue. But you must know about it (old #41 like it too).\n. ",
    "glenara": "I did some testing and discovered it was the use of the \"right single quotation mark\" ( chr(146); character).\ne.g. Canada\u2019s ....\n$SMTPDebug was set to 1 or 2 \nNo error if you use & # 146 ; in the HTML document instead of the \"right single quotation mark\".\nI assume all chars above 127 will cause this error.\nFor example the euro symbol \u20ac chr(128) will also generate the error.\nThe screen output will be blank on the line that the error occurs.\n\"This line of text with the euro \u20ac  symbol will generate one error.\"\nAnd\n\"This with the euro \u20ac  symbol\nand the right single quotation mark will generate two error\u2019s\"\nAdding the \"u\" prevents the log files from filling up with bogus errors during debugging.\nGlen\n. I did some testing and discovered it was the use of the \"right single quotation mark\" ( chr(146); character).\ne.g. Canada\u2019s ....\n$SMTPDebug was set to 1 or 2 \nNo error if you use & # 146 ; in the HTML document instead of the \"right single quotation mark\".\nI assume all chars above 127 will cause this error.\nFor example the euro symbol \u20ac chr(128) will also generate the error.\nThe screen output will be blank on the line that the error occurs.\n\"This line of text with the euro \u20ac  symbol will generate one error.\"\nAnd\n\"This with the euro \u20ac  symbol\nand the right single quotation mark will generate two error\u2019s\"\nAdding the \"u\" prevents the log files from filling up with bogus errors during debugging.\nGlen\n. Is it possible you have \"warnings\" turned off in your .ini settings and it set to just show errors?\n. Is it possible you have \"warnings\" turned off in your .ini settings and it set to just show errors?\n. Don't think I can be of any more help.\nBut does really hurt anything to add the \"u\" modifier?\nPHP manual:\n\nu (PCRE_UTF8) \nThis modifier turns on additional functionality of PCRE that is incompatible with Perl. Pattern strings are treated as UTF-8. This modifier is available from PHP 4.1.0 or greater on Unix and from PHP 4.2.3 on win32. UTF-8 validity of the pattern is checked since PHP 4.3.5. \n\nI should also mention that although adding the u eliminates logging an error, the lines containing these extended chars are still blank in the screen output.\nI'm more concerned about the error logging since I have seen unattended error logs grow to ridiculous sizes.  Although I'm sure you would want to fix the screen output as well if you were able to reproduce the error.\n. On my screen your output was:\nThis with the euro \ufffd symboland the right single quotation \ufffdand some other funny chars: ??????\n. I'm running the files on a remote server with slightly older php version (php 5.2.17). \nI just downloaded PHPMailer a few weeks ago so I assume it is current.\nAlso remember the emails generated with the special chars display just fine.\nIt's only the debugging that logs and error and doesn't display the line on the screen.\n. I replaced the \"class.phpmailer.php\" and \"class.smtp.php\" code with the current code as you suggested.\nUnfortunately, this did not fix the issue.\nFYI: I used your test code.\nUpdate:  Removing the charset all together on line 165 works best (for me at least).\necho htmlentities(\n                    preg_replace('/[\\r\\n]+/', '', $str),\n                    ENT_QUOTES\n                )\nThere is no error added to the log file and the line is output to the screen.\nThe line appears like this: \nCLIENT -> SERVER: This with the euro \ufffd symbol\nCLIENT -> SERVER: and the right single quotation \ufffd\nCLIENT -> SERVER: and some other funny chars: ??????\n. ",
    "webbird": "Of course, here it is (I just removed some sensible data):\nConnection: opening\nConnection: opened\nSERVER -> CLIENT: 220 <Hostname> ESMTP (...)\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-<Hostname>\n250-PIPELINING\n250-SIZE 31457280\n250-VRFY\n250-ETRN\n250-STARTTLS\n250-ENHANCEDSTATUSCODES\n250-8BITMIME\n250 DSN\nCLIENT -> SERVER: AUTH LOGIN\nSERVER -> CLIENT: 502 5.5.2 Error: command not recognized\nSMTP ERROR: AUTH command failed: 502 5.5.2 Error: command not recognized\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 2.0.0 Bye\nConnection: closed\n. I thought I would have to enable authentication to send mail, but you're right - disabling auth works. Maybe it's due to the fact that I am a domain user working on a domain member machine.\nI'm sorry for this mistake. Thank you very much for your help and keep up your great work! :+1: \n. ",
    "daviedR": "Ah I see, thanks!\n. ",
    "nileshcool": "Synchro,\nTried the reply submitted by you, first let me commit that I am just an enthusiast user, and so am not so I might miss a point or two due to lack of knowledge, so please pardon if you feels so,\nNext, \"fopen\" is allowed from my php.ini file, because I have used this function more then once, but for fcgi socket, I really don't know that.\nI have tried the above suggestion by keeping $mail->SMTPDebug = 4; and using tls on 587, and here is the error, I am getting\n2014-08-31 18:28:49 Connection: opening to smtp.gmail.com:587, t=10, opt=array ( )\n2014-08-31 18:28:59 SMTP ERROR: Failed to connect to server: Permission denied (13)\n2014-08-31 18:28:59 SMTP connect() failed. array(1) { [0]=> string(46) \"SMTP connect() failed.\nIs their a chance that and I am (my gmail account) not allowed to use smtp.gmail.com.\nAlso, for you reference I am putting my code below (removing password, and only the part which is responsible for sending mail, not the whole)\nif (empty($errors)) {\n    $mail = new PHPMailer(true); //defaults to using php \"mail()\"; the true param means it will throw exceptions on errors, which we need to catch\ntry {\n    $mail->SMTPDebug = 4;                               // Enable verbose debug output\n    $mail->isSMTP();                                    // Set mailer to use SMTP\n    $mail->Host = 'smtp.gmail.com'; // Specify main and backup SMTP servers\n    $mail->SMTPAuth = true;                             // Enable SMTP authentication\n    $mail->Username = 'nileshcool@gmail.com';           // SMTP username\n    $mail->Password = 'password';                       // SMTP password\n    $mail->SMTPSecure = 'tls';                          // Enable TLS encryption, `ssl` also accepted\n    $mail->Port = 587;                                  // TCP port to connect, tls=587, ssl=465\n    $mail->From = 'admin@teknaps.com';\n    $mail->FromName = 'Teknaps Contact Form';\n    $mail->addAddress($fields['email'], $fields['name']);     // Add a recipient\n    $mail->addReplyTo($fields['email'], $fields['name']);\n    $mail->WordWrap = 50;                                 // Set word wrap to 50 characters\n    $mail->isHTML(false);                                  // Set email format to HTML\n    $mail->Subject = $fields['subject'];\n    $mail->Body    = $fields['message'];\n    $mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\n    if(!$mail->send()) {\n        echo 'Message could not be sent.';\n        echo 'Mailer Error: ' . $mail->ErrorInfo;\n    } else {\n        echo 'Message has been sent';\n    }\n    $errors[] = \"Send mail sucsessfully\";\n} catch (phpmailerException $e) {\n    $errors[] = $e->errorMessage(); //Pretty error messages from PHPMailer\n} catch (Exception $e) {\n    $errors[] = $e->getMessage(); //Boring error messages from anything else!\n}\n}\n. Also, when using localhost for sending mail, I am getting suscess message\nConnection: closed Message has been sentarray(1)\nSo, again I doubt that my user is not allowed to use the smtp.gmail.com server, though I have POP/IMAP enabled.\nSo, is their any thing else, I have to enable from my email.\n. ",
    "adonis1989": "hi there\nI have problem with my php mailer which has this error :  SMTP connect() failed.\nmy openssl is on \nmy fopen is on\nand i have tryed every solution i found in web\nmy code is like this:\ninclude 'class/class.phpmailer.php' ;\ninclude 'class/class.smtp.php';\n$mail= new PHPMailer();\n$mail->IsSMTP();\n$mail->Host = \"ssl://smtp.gmail.com\";\n$mail->SMTPAuth=true;\n$mail->SMTPSecure = 'tls';\n$mail->Username = \"secret@gmail.com\";  // SMTP username\n$mail->Password = \"secret\"; // SMTP password\n$mail->SetFrom(\"secret\",\" secret\");\n$mail->AddReplyTo(\"secret\", \"secret\");\n$address = \"secret\" ;\n $mail->AddAddress($address);\n $mail->Subject    = \"subject\";\n $mail->IsHTML(true);\n$body = '';\n$body .= '';\n$body .= \"\";\n$mail->MsgHTML($body);\n$mail->AltBody= \"message\";\n//$mail->SMTPDebug = 4;\nif(!$mail->Send()) {\necho \"no  \" . $mail->ErrorInfo;\n} else {\necho \"message sent\";\n}\ni can't recognize why it dose not work\nplease help me. \n. hi there\nI have problem with my php mailer which has this error :  SMTP connect() failed.\nmy openssl is on \nmy fopen is on\nand i have tryed every solution i found in web\nmy code is like this:\ninclude 'class/class.phpmailer.php' ;\ninclude 'class/class.smtp.php';\n$mail= new PHPMailer();\n$mail->IsSMTP();\n$mail->Host = \"ssl://smtp.gmail.com\";\n$mail->SMTPAuth=true;\n$mail->SMTPSecure = 'tls';\n$mail->Username = \"secret@gmail.com\";  // SMTP username\n$mail->Password = \"secret\"; // SMTP password\n$mail->SetFrom(\"secret\",\" secret\");\n$mail->AddReplyTo(\"secret\", \"secret\");\n$address = \"secret\" ;\n $mail->AddAddress($address);\n $mail->Subject    = \"subject\";\n $mail->IsHTML(true);\n$body = '';\n$body .= '';\n$body .= \"\";\n$mail->MsgHTML($body);\n$mail->AltBody= \"message\";\n//$mail->SMTPDebug = 4;\nif(!$mail->Send()) {\necho \"no  \" . $mail->ErrorInfo;\n} else {\necho \"message sent\";\n}\ni can't recognize why it dose not work\nplease help me. \n. thank you ! you could solve my problem . \n. thank you ! you could solve my problem . \n. ",
    "andres18281": "Hi to all, i have this problem often i see SMTP Error: Could not connect to SMTP host but from a server Hostinger,  how  would  recommend me ?\nsorry per the bad english, i speak spanish\n. ",
    "Ali3nKill3r": "Try to remove the $mail->IsSMTP();\nIt's already declared in $mail->SMTPAuth=true;\n. ",
    "cony69": "It's an incredibly, but I remove $mail->IsSMTP(); and all work fine\n. ",
    "DonaldKellett": "Just a simple question relating to SMTP and PHPMailer.\nIs it true that if you comment out the $mail->isSMTP() function, PHPMailer ignores all the $mail->Username, $mail->Password authentication and just defaults to using the PHP mail() function?\nI currently use GoDaddy as my website hosting platform (which I believe is what someone else was referring to when he/she said \"s** hosting company\") and when I tried to use Gmail SMTP authentication via PHPMailer, it did not work (apparently the SMTP request never left the GoDaddy servers).  Once I commented out the $mail->isSMTP(), sending emails was like 10x faster and the problem disappeared.  *However, I also noticed that the $mail->SMTPDebug no longer worked and that I could finally alter the \"From\" email address which I could not alter when using $mail->isSMTP().\n. ",
    "21accel": "Hi, I have an error for connecting to SMTP...\nThe error said \n\n2016-03-16 03:06:40 Connection: opening to ssl://smtp.gmail.com:465, timeout=600, options=array ( )\n 2016-03-16 03:06:40 SMTP ERROR: Failed to connect to server: (0)\n2016-03-16 03:06:40 SMTP connect() failed.\n\nI've tried with this setting using Codeigniter : \n$config['useragent']        = 'PHPMailer';\n$config['protocol']         = 'smtp';\n$config['mailpath']         = '/usr/sbin/sendmail';\n$config['smtp_host']        = 'smtp.gmail.com';\n$config['smtp_user']        = 'my_email@gmail.com';\n$config['smtp_pass']        = 'my_password';\n$config['smtp_port']        = 465;\n$config['smtp_timeout']     = 600;\n$config['smtp_crypto']      = 'ssl';\n$config['smtp_debug']       = 3;\n$config['wordwrap']         = true;\n$config['wrapchars']        = 76;\n$config['mailtype']         = 'html';\n$config['charset']          = null;\n$config['validate']         = true;\n$config['priority']         = 4;\n$config['crlf']             = \"\\n\";\n$config['newline']          = \"\\n\";\n$config['bcc_batch_mode']   = false;\n$config['bcc_batch_size']   = 200;\n$config['encoding']         = '8bit';\nAnd I'm using local server using XAMPP...\nHow can i fix the error?\n. Hi, I have an error for connecting to SMTP...\nThe error said \n\n2016-03-16 03:06:40 Connection: opening to ssl://smtp.gmail.com:465, timeout=600, options=array ( )\n 2016-03-16 03:06:40 SMTP ERROR: Failed to connect to server: (0)\n2016-03-16 03:06:40 SMTP connect() failed.\n\nI've tried with this setting using Codeigniter : \n$config['useragent']        = 'PHPMailer';\n$config['protocol']         = 'smtp';\n$config['mailpath']         = '/usr/sbin/sendmail';\n$config['smtp_host']        = 'smtp.gmail.com';\n$config['smtp_user']        = 'my_email@gmail.com';\n$config['smtp_pass']        = 'my_password';\n$config['smtp_port']        = 465;\n$config['smtp_timeout']     = 600;\n$config['smtp_crypto']      = 'ssl';\n$config['smtp_debug']       = 3;\n$config['wordwrap']         = true;\n$config['wrapchars']        = 76;\n$config['mailtype']         = 'html';\n$config['charset']          = null;\n$config['validate']         = true;\n$config['priority']         = 4;\n$config['crlf']             = \"\\n\";\n$config['newline']          = \"\\n\";\n$config['bcc_batch_mode']   = false;\n$config['bcc_batch_size']   = 200;\n$config['encoding']         = '8bit';\nAnd I'm using local server using XAMPP...\nHow can i fix the error?\n. Yes I had use the latest version that I just downloaded some days ago...\nAnd thanks after I read the troubleshooting guide, now I have a conclusion for my problem, that I don't have any access right into gmail SMTP.\nBy the way, what do you mean with \"Please don't hijack unrelated tickets\"?\n. Yes I had use the latest version that I just downloaded some days ago...\nAnd thanks after I read the troubleshooting guide, now I have a conclusion for my problem, that I don't have any access right into gmail SMTP.\nBy the way, what do you mean with \"Please don't hijack unrelated tickets\"?\n. ",
    "dickrex": "From the http-side, how can I get som informaion from SMTPDebug? I have PHPMailer on a standrad web-hotel without consol access, just ftp. \n. From the http-side, how can I get som informaion from SMTPDebug? I have PHPMailer on a standrad web-hotel without consol access, just ftp. \n. OK, but if I would like to have the output to a variable like I can do with $error = $mail->ErrorInfo; is it possible?\n. OK, but if I would like to have the output to a variable like I can do with $error = $mail->ErrorInfo; is it possible?\n. Thank You!!!\n. Thank You!!!\n. But.... To get the Deugoutput, shall I do like this:\n$error = $mail->Debugoutput = function($str, $level) {$GLOBALS['error'] .= $str;};\n. But.... To get the Deugoutput, shall I do like this:\n$error = $mail->Debugoutput = function($str, $level) {$GLOBALS['error'] .= $str;};\n. OK, forget the last post...\n. OK, forget the last post...\n. At most I get this:\nConnection: opening to mailout.one.com:25, timeout=300, options=array (\n)SMTP ERROR: Failed to connect to server: Connection timed out (110)SMTP connect()\nAnd this must be before the password and everyting else that can go wrong I suppose?\n. At most I get this:\nConnection: opening to mailout.one.com:25, timeout=300, options=array (\n)SMTP ERROR: Failed to connect to server: Connection timed out (110)SMTP connect()\nAnd this must be before the password and everyting else that can go wrong I suppose?\n. Well, I have my web space at their (one.com) server, so I am at the same network in some way even if I have my own domain. \n. Well, I have my web space at their (one.com) server, so I am at the same network in some way even if I have my own domain. \n. one.com is a big actor, and I don't thing they kan have a mail-server down for several hours. But I've sent a mail to their support.\n. one.com is a big actor, and I don't thing they kan have a mail-server down for several hours. But I've sent a mail to their support.\n. But it was like you said :-) The server was down and now it's working just fine.\n. But it was like you said :-) The server was down and now it's working just fine.\n. ",
    "Hagenzone": "Hi @dickrex and anybody else :),\nI've been searching and trying now for several hours to find the correct settings for PHPMailer on one.com but nothing seems to work. Both, mail and website run on one.com so I think its just a matter of misconfiguration.\nAlso I dont get any error if it comes to $mail->send (not even with SMTPDebug = 4, no timeout just loading and waiting).\nI would really appreciate it if you could post your settings or help otherwise. Thank you!\n. Hi @Msz900,\nthank you for posting your code. Unfortunately this code does not work. I suppose its because your configuration is for gmail, not for one.com which seems to need a slightly more different config.\nBut thank you anyway!\n. The one.com-support helped me out. Here is the configuration that worked for me:\nsmtp: true\nsmtpauth: true\nhost: send.one.com\nusername, password,\nsmtpsecure: ssl,\nport: 465\nHope this one can help somebody.\n. ",
    "Msz900": "Hi @Hagenzone  Please use the below config, as it works for me, and i am also using it.\nrequire 'PHPMailer-master/class.phpmailer.php';\nrequire 'PHPMailer-master/PHPMailerAutoload.php';\n$mail = new PHPMailer();\n    $mail->isSMTP(true);     // telling the class to use SMTP\n    $mail->SMTPOptions = array(\n        'ssl' => array(\n            'verify_peer' => false,\n            'verify_peer_name' => false,\n            'allow_self_signed' => true\n        )\n    );\n    $mail->SMTPSecure = 'tls';\n    $mail->Host = 'tls://smtp.gmail.com';\n    $mail->Port = 587;\n    $mail->SMTPAuth = true;\n    $mail->Username = \"your Email address\"; // SMTP username\n    $mail->Password = \"your Email password here\"; // SMTP password\n   // TCP port to connect to\n  // $mail->SMTPDebug = 1;\n    $mail->setFrom('your Email address');\n    $mail->AddAddress(\"user/client email address\");\n$mail->Subject = \"some text, what ever you want\";\n$mail->Body = \"Email info/message here. \";\n$mail->WordWrap = 70;\n    $mail->Send();\nHope it will help you....\n. ",
    "faizalnurrozi": "when i use gmail I had problems connecting\n2015-04-26 08:47:00 Connection: opening to ssl://smtp.gmail.com:587, t=300, opt=array ( ) 2015-04-26 08:47:00 SMTP ERROR: Failed to connect to server: (0) 2015-04-26 08:47:00 SMTP connect() failed. Gagal mengirim email: SMTP connect() failed.\nhow to solve this problems ?\n. when i use gmail I had problems connecting\n2015-04-26 08:47:00 Connection: opening to ssl://smtp.gmail.com:587, t=300, opt=array ( ) 2015-04-26 08:47:00 SMTP ERROR: Failed to connect to server: (0) 2015-04-26 08:47:00 SMTP connect() failed. Gagal mengirim email: SMTP connect() failed.\nhow to solve this problems ?\n. ",
    "skashmeri": "Sorry yup I am doing that but on the list, its looping through an array getting the list by 75s and then sending...\nso loop\naddBCC\nadd email stuff\n``` php\nforeach ($bccz as $bcc) {\n    $i++;\n    echo 'GROUP: '.$i.'';\nwhile (list($key, $value) = each($bcc)) {\n        //echo $key . ':' . $value['email'] . ' ';\n        $fullname = $value['cFname'] . ' ' . $value['cLname'];\n        if ($fullname == ' '){\n        echo  $key . ': ' . '$mail->addBCC(' . $value['email'] . ');';\n        $mail->AddBcc($value['email']);\n        }else{\n        echo  $key . ': ' . '$mail->addBCC(' . $value['email'] .', ' . $fullname . ');';\n        $mail->AddBcc($value['email'], $fullname);\n        }\n}//end while loop!\n$mail->addAddress('validemail', 'name');\ntry{\n  // Clear all addresses and attachments for next loop\n  $mail->Send();\necho 'message sent hurray!';\n}  catch (phpmailerException $e) {\necho $e->errorMessage(); //Pretty error messages from PHPMailer\n} catch (Exception $e) {\necho $e->getMessage(); //Boring error messages from anything else!\n}\n$mail->ClearAddresses();\n  $mail->ClearCCs();\n  $mail->ClearBCCs();\n  $mail->ClearAttachments();\n}//END FOREACH LOOP\n```\n. ok so something like the change I made to the above code? or do I need to instantiate the try/catch sooner?\n. ok off to test... thank you, sorry I didnt figure out I needed the try/catch in there...\n. Weird... ok so I get the error output but it doesnt move on to the next group...\nGROUP: 1\n0: $mail->addBCC(notvalid@bmo.jp, NotValid Name);\n1: $mail->addBCC(validemail@gmail.com, Valid Name);\nSMTP Error: The following recipients failed: notvalid@bmo.jp\n. well from what I can see it says that its a fatal error in my error log, I think thats why it doesn't continue... The logic works if there are no bad email addresses but if there is it just registers a fatal error and exits the loop...\n. ```\n[10-Sep-2014 14:06:28 UTC] PHP Fatal error:  Uncaught exception 'phpmailerException' with message 'SMTP Error: The following recipients failed: rahjiggah@bmo.jp' in /.../.../.../.../PHPMailer-master/class.phpmailer.php:1243\nStack trace:\n0 /.../.../.../.../public/PHPMailer-master/class.phpmailer.php(1038): PHPMailer->smtpSend('Date: Wed, 10 S...', '--b1_e85c5634c8...')\n1  /.../.../.../.../public/PHPMailer-master/class.phpmailer.php(945): PHPMailer->postSend()\n2  /.../.../.../.../public/admin/proc_test.php(435): PHPMailer->send()\n3 {main}\nthrown in  /.../.../.../.../public/PHPMailer-master/class.phpmailer.php on line 1243\n```\nStack trace:\n```\n0 /.../.../.../.../public/PHPMailer-master/class.phpmailer.php(1038): PHPMailer->smtpSend('Date: Wed, 10 S...', '--b1_e85c5634c8...')\n1  /.../.../.../.../public/PHPMailer-master/class.phpmailer.php(945): PHPMailer->postSend()\n2  /.../.../.../.../public/admin/proc_test.php(435): PHPMailer->send()\n3 {main}\nthrown in  /.../.../.../.../public/PHPMailer-master/class.phpmailer.php on line 1243\n```\n. posted above... sorry....\n. no... nowhere else...\ndo you want me to send the full code to you? well, from where phpmailer begins?\n. sorry but how do I see the version?\n. public $Version = '5.2.8';\nIs it the way Im calling it?\n```\nrequire '../PHPMailer-master/PHPMailerAutoload.php';\n$mail = new PHPMailer(true); //defaults to using php \"mail()\"; the true param means it will throw exceptions on errors, which we need to catch\n$mail->IsSMTP();\n$mail->Host = \"xxxxx\";\n$mail->Port = 2525;\n$mail->SMTPAuth = false; // turn off SMTP authentication\n$mail->CharSet = 'UTF-8';\n$mail->setFrom('xxxxx', 'xxxxx');\n//Set an alternative reply-to address\n$mail->addReplyTo('xxxxx', 'xxxxx');\n$mail->addAddress('xxxx'', 'xxxx');\n$mail->IsHTML(true);\n$mail->Body = $ermail;\n$mail->AltBody = '';\n//Set who the message is to be sent to\n.\npublic $Version = '5.2.8';\n```\nIs it the way Im calling it?\n```\nrequire '../PHPMailer-master/PHPMailerAutoload.php';\n$mail = new PHPMailer(true); //defaults to using php \"mail()\"; the true param means it will throw exceptions on errors, which we need to catch\n$mail->IsSMTP();\n$mail->Host = \"xxxxx\";\n$mail->Port = 2525;\n$mail->SMTPAuth = false; // turn off SMTP authentication\n$mail->CharSet = 'UTF-8';\n$mail->setFrom('xxxxx', 'xxxxx');\n//Set an alternative reply-to address\n$mail->addReplyTo('xxxxx', 'xxxxx');\n$mail->addAddress('xxxx'', 'xxxx');\n$mail->IsHTML(true);\n$mail->Body = $ermail;\n$mail->AltBody = '';\n//Set who the message is to be sent to\n```\n. Hmmmmm no luck, the version I have is the newest but I downloaded the 5.2.8\nrelease as well and linked... same result...\nnot sure where this is going wrong...\nOn 10 Sep 2014 11:37, \"Marcus Bointon\" notifications@github.com wrote:\n\nThere's a property called $Version near the top of the PHPMailer class\nfile. That change was included in the 5.2.8 release.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/273#issuecomment-55134227.\n. Hmmmmm no luck, the version I have is the newest but I downloaded the 5.2.8\nrelease as well and linked... same result...\n\nnot sure where this is going wrong...\nOn 10 Sep 2014 11:37, \"Marcus Bointon\" notifications@github.com wrote:\n\nThere's a property called $Version near the top of the PHPMailer class\nfile. That change was included in the 5.2.8 release.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/273#issuecomment-55134227.\n. OK Im going to try this thank you so much...\n\nEdit: works! thank you man! it doesnt display the skipping email invalid address part for me\nbut it still sends to the recipients in that group Im assuming thats because of the fix you had put in phpmailer that does the error stuff with bad recipients last?\nThis is what I got...\nGROUP: 1\nSMTP Error: The following recipients failed: invalidemail@bmo.jp\nGROUP: 2\nmessage sent hurray!\n. OK Im going to try this thank you so much...\nEdit: works! thank you man! it doesnt display the skipping email invalid address part for me\nbut it still sends to the recipients in that group Im assuming thats because of the fix you had put in phpmailer that does the error stuff with bad recipients last?\nThis is what I got...\nGROUP: 1\nSMTP Error: The following recipients failed: invalidemail@bmo.jp\nGROUP: 2\nmessage sent hurray!\n. ",
    "Zodiac1978": "That was fast. :+1: Thx!\n. ",
    "ahmadawais": "I was just about to do that.\n. :palm_tree: :) \n. ",
    "PolishedStaple": "Ok, my code is quite long, so I've pasted in the part that handles SMTP errors.\nThanks!\n``` php\nif(!$mail->Send()) {\n// Message had problems\n\n$error = \"Yes\";\n$singleErrorMessage = $mail->ErrorInfo;\n\n// Make note of this error in the notifications table\n\n$updateRows = \"UPDATE notifications SET error = 'Yes', errorMessage = '$singleErrorMessage' where nID = '$nID'\";\n\nmysql_query($updateRows) OR die(\"<b>A fatal MySQL error occurred</b>.\\n<br />Query: \" . $updateRows . \"<br />\\nError: (\" . mysql_errno() . \") \" . mysql_error());\n\n$combinedErrorMessages .= \"\\n\\n\\n$type - $nID - $firstName - \" . $mail->ErrorInfo;\n\necho \"<p>$type - $nID - $firstName - \" . $mail->ErrorInfo . \"</p>\";\n\n} else {\n// Message was successfully sent\n\n$nIDS[] = $nID;\n\n$emailSent++;\n\nprint (\"<p>$type - $format - $nID - $firstName - $recipient</p>\");\n\n}\n// Clear all addresses and attachments for the next loop\n$mail->ClearAddresses();\n$mail->ClearAttachments();\n$mail->ClearReplyTos();\n$mail->ClearAllRecipients();\n$mail->ClearCustomHeaders();\n```\n. I'm not sure the best way to paste in code from CODA 2.  Sorry, it didn't turn out very nice.\n. @michield, I just looked over the phplist.com website and it seems very impressive. Is this a tool that works in conjunction with PHPMailer?  Or are they competing products?  Does it make me upload my users to a new phplist database?  Or can it work with my existing mySQL one?\nThank you!\n. @michield, Does phplist require that I import/upload my list of members/subscribers into a new phplist database? Or can it work with my existing mySQL database?\nThanks!\n. Is there any way to get a better reason as to why a recipient fails?  Is it due to their mailbox being full, a typo in the email address or some other reason?\nThanks!\n. I need to subclass the SMTP class?  Huh?  I'm just a frozen cave-man lawyer and don't understand these things.  (Saturday Night Live joke).  I just  checked my code and it doesn't use the recipient() function either.  Instead it uses addAddress $mail->AddAddress($recipient, \"$firstName $lastName\").  Maybe I have an older version of the example code?\nI send emails out in batches of 20 with a cron.  My script uses a loop to send out each email until it reaches 20.  At the end of this loop I have the following:\nphp\n// Clear all addresses and attachments for the next loop\n$mail->ClearAddresses();\n$mail->ClearAttachments();\n$mail->ClearReplyTos();\n$mail->ClearAllRecipients();\n$mail->ClearCustomHeaders();\nCould part of my problem be that I'm not clearing something correctly?  And when the loop repeats itself it causes a delivery problem for the next recipient in line?\nThank you, Sir.\n. After turning on the debug feature I am seeing the following error for each email trying to go out, which is strange, because I no longer use a shared hosting plan but a VPS instead.  The only other thing that that has changed on the server recently was that I upgraded PHP from 5.4 to 5.6.10.  Could that be the cause?\nThank you Synchro!\n\"We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\"\nSERVER CLIENT: 220-server.domain.com ESMTP Exim 4.87 #1 Sat, 14 May 2016 11:09:59 -0600 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\nCLIENT SERVER: EHLO server.domain.com\nSERVER CLIENT: 250-server.domain.com Hello server.domain.com [198.154.231.164]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250-STARTTLS250 HELP\nCLIENT SERVER: STARTTLS\nSERVER CLIENT: 220 TLS go ahead\nCLIENT SERVER: QUIT\nSERVER CLIENT: 221 server.domain.com closing connection\n. After turning on the debug feature I am seeing the following error for each email trying to go out, which is strange, because I no longer use a shared hosting plan but a VPS instead.  The only other thing that that has changed on the server recently was that I upgraded PHP from 5.4 to 5.6.10.  Could that be the cause?\nThank you Synchro!\n\"We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\"\nSERVER CLIENT: 220-server.domain.com ESMTP Exim 4.87 #1 Sat, 14 May 2016 11:09:59 -0600 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\nCLIENT SERVER: EHLO server.domain.com\nSERVER CLIENT: 250-server.domain.com Hello server.domain.com [198.154.231.164]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250-STARTTLS250 HELP\nCLIENT SERVER: STARTTLS\nSERVER CLIENT: 220 TLS go ahead\nCLIENT SERVER: QUIT\nSERVER CLIENT: 221 server.domain.com closing connection\n. ",
    "ortodata": "$mail->CharSet = \"UTF-8\";. $mail->CharSet = \"UTF-8\";. ",
    "david20240": "Hi Synchro,\nI work as a French City Hall webmaster and we have a trouble receiving emails with french accents.\nI went everywhere on your Github phpmailer and I have done what you explained like:\n-$mail->CharSet = 'utf-8';\n-All the html pages are in utf8\nmbstring is on\nAnd nothing is OK the accents are not OK and when there is accents in the body message, the message body is empty ;-)\nI use phpmailer 5.2.20 and I cannot change to 6.0.6 as I will have to modify the whole things\n```php\n<?php\nsession_start();\ninclude(\"php/abcdefghikjl/PHPMailerAutoload.php\");\n$to = 'commune@domain.fr';\nif(isset($_POST['emailSent'])) {\n$subject = utf8_decode($_POST[\u2018subject\u2019]);\n\nif (strtolower($_POST[\"captcha\"]) == strtolower($_SESSION['captcha']['code'])) {\n\n    $name = $_POST['name'];\n    $email = $_POST['email'];\n    $message = $_POST['message'];\n    $message = utf8_decode($message);\n\n    // Step 3 - Configure the fields list that you want to receive on the email.\n    $fields = array(\n        0 => array(\n            'text' => 'Nom',\n            'val' => $_POST['name']\n        ),\n        1 => array(\n            'text' => 'Adresse Email',\n            'val' => $_POST['email']\n        ),\n        2 => array(\n            'text' => 'Message',\n            'val' => $_POST['message']\n        ),\n        3 => array(\n            'text' => 'Objet de ce Message',\n            'val' => $_POST['select']\n        ),\n        4 => array(\n            'text' => '-Raisons de votre Demande',\n            'val' => implode($_POST['checkboxes'], \", \")\n        ),\n        5 => array(\n            'text' => '-Qui souhaitez-vous Rencontrer',\n            'val' => $_POST['radios']\n        )\n    );\n\n    $message = \"\";\n\n    foreach($fields as $field) {\n        $message .= $field['text'].\":  \" . htmlspecialchars($field['val'], ENT_QUOTES) . \"<br>\\n\";\n    }\n\n    $mail = new PHPMailer;\n    $mail->isHTML(true);\n    $mail->CharSet = 'utf-8';\n\n    //$mail->IsSMTP();                                      // Set mailer to use SMTP\n    //$mail->SMTPDebug = 0;                                 // Debug Mode\n\n    $mail->Host = 'mail.domain.fr';               // Specify main and backup server\n    $mail->SMTPAuth = true;                             // Enable SMTP authentication\n    $mail->Username = 'noreply@domain.fr';               // SMTP username\n    $mail->Password = 'secretpassword';                         // SMTP password\n    $mail->SMTPSecure = 'tls';                          // Enable encryption, 'ssl' also accepted\n    $mail->Port = 587;                                    // TCP port to connect to\n\n    $mail->From = $email;\n    $mail->FromName = $_POST['name'];\n    $mail->AddAddress($to);\n    $mail->AddReplyTo($email, $name);\n\n    $mail->IsHTML(true);\n\n\n    $mail->Subject = $subject;\n    $mail->Body    = $message;\n\n\n\n\n    if($mail->Send()) {\n        $arrResult = array('response'=> 'success');\n    } else {\n        $arrResult = array('response'=> 'error', 'error'=> $mail->ErrorInfo);\n    }\n\n} else {\n\n    $arrResult['response'] = 'captchaError';\n\n}\n\n}\n?>\nAnd my message input is:\n\n\n\nMessage\n\n\n\n\n```\n\nPlease, can help do solving this accent troubles as users are complaining to the City Hall and I do not know what to answer\nI really thank you if you may help\nDavid. Bonjour Synchro,\nI'll try this and I'll let you know\nThanks a lot for your time ;-) et MERCI ;-)\nDavid. Hi again @Synchro I am really sorry to inform you that the message body is empty ;-)\n`\nNom: David Axxxxxxxxx\nAdresse Email: david.xxxxxxxxx@gmail.com\n**Message:** \nObjet de ce Message: **Demenagement** \n-Raisons de votre Demande: Mutation Definitive, Mutation Temporaire, Retraite\n-Qui souhaitez-vous Rencontrer: Antoine\nAs you may see, **Message is empty** and ### Demenagement is without accents like \n**D\u00e9m\u00e9nagement**\nAnd I strictly done what you told me.\n_Underneath do find the form_<?php\nsession_start();\ninclude(\"php/@7PSBYyAFFDzzU64/PHPMailerAutoload.php\"); \n$to = 'commune@domain.fr';\nif(isset($_POST['emailSent'])) {\n$subject = $_POST['subject'];\n\nif (strtolower($_POST[\"captcha\"]) == strtolower($_SESSION['captcha']['code'])) {\n\n    $name = $_POST['name'];\n    $email = $_POST['email'];\n    $message = $_POST['message'];\n\n\n    // Step 3 - Configure the fields list that you want to receive on the email.\n    $fields = array(\n        0 => array(\n            'text' => 'Nom',\n            'val' => $_POST['name']\n        ),\n        1 => array(\n            'text' => 'Adresse Email',\n            'val' => $_POST['email']\n        ),\n        2 => array(\n            'text' => 'Message',\n            'val' => $_POST['message']\n        ),\n        3 => array(\n            'text' => 'Objet de ce Message',\n            'val' => $_POST['select']\n        ),\n        4 => array(\n            'text' => '-Raisons de votre Demande',\n            'val' => implode($_POST['checkboxes'], \", \")\n        ),\n        5 => array(\n            'text' => '-Qui souhaitez-vous Rencontrer',\n            'val' => $_POST['radios']\n        )\n    );\n\n    $message = \"\";\n\n    foreach($fields as $field) {\n        $message .= $field['text'].\":  \" . htmlspecialchars($field['val'], ENT_QUOTES) . \"<br>\\n\";\n    }\n\n    $mail = new PHPMailer;\n    $mail->isHTML(true);\n    $mail->CharSet = 'utf-8';\n\n    //$mail->IsSMTP();                                      // Set mailer to use SMTP\n    //$mail->SMTPDebug = 0;                                 // Debug Mode\n\n    $mail->Host = 'mail.domain.fr';               // Specify main and backup server\n    $mail->SMTPAuth = true;                                        // Enable SMTP authentication\n    $mail->Username = 'noreply@domain.fr';               // SMTP username\n    $mail->Password = 'xxxxxxxxxxxxxxxxxx';                 // SMTP password\n    $mail->SMTPSecure = 'tls';                                        // Enable encryption, 'ssl' also accepted\n    $mail->Port = 587;                            // TCP port to connect to\n\n    $mail->From = $email;\n    $mail->FromName = $_POST['name'];\n    $mail->AddAddress($to);\n    $mail->AddReplyTo($email, $name);\n\n    $mail->IsHTML(true);\n\n\n\n    $mail->Subject = $subject;\n    $mail->Body    = $message;\n\n\n\n\n    if($mail->Send()) {\n        $arrResult = array('response'=> 'success');\n    } else {\n        $arrResult = array('response'=> 'error', 'error'=> $mail->ErrorInfo);\n    }\n\n} else {\n\n    $arrResult['response'] = 'captchaError';\n\n}\n\n}\n?>`\nSynchro, I am really sorry to bother you again with this kind of little troubles,\nI may also give you all my credentials if you may take time to see what's going on\nThanks again for helping me MERCI\nDavid. OK @Synchro I'll do what you answered me and I'll tell you ;-)\nMerci beaucoup, il fait beau \u00e0 Sallanches ??\n@Synchro \nJe viens de tester avec les param\u00e8tres que vous m'avez fourni tel que:\n$mail->Subject = 'D\u00e9m\u00e9nagement';\nEt le sujet dans l'email est vide et me corps du message aussi et pourtant j'ai rempli avec des accents.\nD\u00e9sol\u00e9 encore de vous importuner avec cela mais je suis vraiment dans la m........\nJe suis le webmaster d'une commune en Corse et la Mairie commence \u00e0 r\u00e2ler un maximum\nPouvez-vous m'aider encore un peu\nMerci beaucoup\nDavid\nPetite pr\u00e9cision: Il n'y a que le message qui pose probl\u00e8me et dans le html du message, voil\u00e0 ce qu'il y a:\n<div class=\"col-md-12\">\n                                            <label>Message</label>\n                                            <textarea maxlength=\"1000\" data-msg-required=\"Merci de saisir votre Message\" rows=\"5\" class=\"form-control\" name=\"message\" id=\"message\" required></textarea>\n                                        </div>. Hi @Synchro \nThank you \ud83d\udc4d so much as It works for now and It was my fault ;-)\nI had introduce in my Centos 7 specific php like 8859-1 and both iso-8859-1 and UTF-8 were doing the job ;-) ;-)\nThanks again for your help\nDavid. ",
    "has27": "OK; let me explain what I've done, and then you can perhaps tell me why it's a bad idea and what I should be doing.\n- I made a wrapper function, sendEmail($from, $to, $subject, $body) and in there have the code exactly as from the example in README.MD. \n- I want to send two completely different emails, so I call sendEmail with the relevant parameters twice, on consecutive lines of php. \n- The first sends, the second does not because of the fatal error. \nI am using the Autoloader, and note I'm not looping over any require - I'm simply calling the function twice in swift succession.\nI don't want to have the emailing code sprinkled around my site; I want it in one place, which is why I made a function for it. \nAny insights as to what I should be doing instead gratefully received.\n. Thanks!\n. ",
    "nrtszr": "My code:\n``` php\n<?php\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host = 'smtp.yandex.com';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'satis@yandex.com.tr';                 // SMTP username\n$mail->Password = 'aaaaa';                           // SMTP password\n$mail->SMTPSecure = 'ssl';                            // Enable TLS encryption, ssl also accepted\n$mail->Port = 465;                                    // TCP port to connect to\n$mail->From = 'satis@a.gen.tr';\n$mail->FromName = 'satis@yandex.com.tr';\n$mail->addAddress('nurettin@a.com', 'a');     // Add a recipient\n$mail->addAddress('nurettin@a.com');               // Name is optional\n$mail->addReplyTo('satis@yandex.com.tr', 'aaa sitesii');\n//$mail->addCC('cc@example.com');\n//$mail->addBCC('bcc@example.com');\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'konu ba\u015fl\u0131g\u0131';\n$mail->Body    = 'This is the HTML message body in bold!';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n```\nif my local (win) run it is ok\nbut linux server run\nDon't work\nError:\n2014-09-24 20:11:39 Connection: opening to ssl://smtp.yandex.com:465, t=10, opt=array ( )\n2014-09-24 20:11:50 SMTP ERROR: Failed to connect to server: Connection timed out (110)\n2014-09-24 20:11:50 SMTP connect() failed. Message could not be sent.Mailer Error: SMTP connect() failed.\nNote: \nyandex ne systems change\n. Thanks\n. Hi,\nnow don't work this\n. ",
    "dexdizayn": "This is my result of yandex :(\nSMTP -> FROM SERVER:220 smtp4m.mail.yandex.net ESMTP (Want to use Yandex.Mail for your domain? Visit http://pdd.yandex.ru) \nSMTP -> FROM SERVER: 250-smtp4m.mail.yandex.net 250-8BITMIME 250-PIPELINING 250-SIZE 42991616 250-STARTTLS 250-AUTH LOGIN PLAIN 250-DSN 250 ENHANCEDSTATUSCODES \nSMTP -> ERROR: AUTH not accepted from server: 530 5.7.7 Email sending without SSL/TLS encryption is not allowed. Please see: http://help.yandex.ru/mail/mail-clients/ssl.xml \nSMTP -> FROM SERVER: \nSMTP -> ERROR: RSET failed: \nSMTP -> NOTICE: EOF caught while checking if connectedThe following From address failed: info@xxx.com : Called Mail() without being connected Message could not be sent.Mailer Error: The following From address failed: info@xxx.com : Called Mail() without being connected. This is my result of yandex :(\nSMTP -> FROM SERVER:220 smtp4m.mail.yandex.net ESMTP (Want to use Yandex.Mail for your domain? Visit http://pdd.yandex.ru) \nSMTP -> FROM SERVER: 250-smtp4m.mail.yandex.net 250-8BITMIME 250-PIPELINING 250-SIZE 42991616 250-STARTTLS 250-AUTH LOGIN PLAIN 250-DSN 250 ENHANCEDSTATUSCODES \nSMTP -> ERROR: AUTH not accepted from server: 530 5.7.7 Email sending without SSL/TLS encryption is not allowed. Please see: http://help.yandex.ru/mail/mail-clients/ssl.xml \nSMTP -> FROM SERVER: \nSMTP -> ERROR: RSET failed: \nSMTP -> NOTICE: EOF caught while checking if connectedThe following From address failed: info@xxx.com : Called Mail() without being connected Message could not be sent.Mailer Error: The following From address failed: info@xxx.com : Called Mail() without being connected. ",
    "tahelromero": "You must use the app password in order to send the message thru PHPMailer\n. ",
    "rickerd": "The thing is that a deprecated message is shown when using 5.4 because the magic_quotes is no longer available.\nThis will suppress that message since the function is no longer called if you're using >= 5.4\nI hope you'll understand.\n\nMet vriendelijke groet,\nRick de Graaff\nVerstuurd vanaf mijn iPhone 4S\n\nOp 1 okt. 2014 om 07:36 heeft \"Marcus Bointon\" notifications@github.com het volgende geschreven:\nI'm not clear what this is achieving - magic quotes will already be off in 5.4. Forcing magic quotes to be on in 5.3 (the opposite of current behaviour ) is a breaking change that's unrelated to 5.4. Why do you want to do that?\n\u2014\nReply to this email directly or view it on GitHub.\n. Can we change \u00e0 little about the code so it doesnt break <5.3?\nOr just leave it at all.\n\nI wasnt having these problems a developer online had them.\n\nMet vriendelijke groet,\nRick de Graaff\nVerstuurd vanaf mijn iPhone 4S\n\nOp 1 okt. 2014 om 17:42 heeft Marcus Bointon notifications@github.com het volgende geschreven:\nThe only thing that should be run on 5.4 is get_magic_quotes_runtime, which according to the docs is not marked as deprecated, though in PHP 5.4 and up it always returns false. If I run a test in PHP 5.4, 5.5 and 5.6, it doesn't throw any warnings or errors, so I don't know why you are seeing them - can you post minimal code to reproduce the problem?\nThe main problem with your patch is not that it deals with PHP5.4 wrong, but that it breaks PHP 5.3 and below.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "patelsumit5192": "only just put.\n$mail->Body = \"This Mail Check .Mail send Using SMTP Gmail Server\";\nafter that run code.\n. ``` php\n<?php\n//require 'PHPMailerAutoload.php';require 'class.phpmailer.php';\nif(isset($_POST[\"send\"])){\n    echo ' mail send. ';\nrequire 'PHPMailerAutoload.php';\n//Create a new PHPMailer instance\n$mail = new PHPMailer;\n//Tell PHPMailer to use SMTP\n//$mail->isSMTP();\n//Enable SMTP debugging\n// 0 = off (for production use)\n// 1 = client messages\n// 2 = client and server messages\n$mail->SMTPDebug = 2;\n//Ask for HTML-friendly debug output\n$mail->Debugoutput = 'html';\n//Set the hostname of the mail server\n$mail->Host = 'smtp.gmail.com';\n//Set the SMTP port number - 587 for authenticated TLS, a.k.a. RFC4409 SMTP submission\n$mail->Port = 587;\n//Set the encryption system to use - ssl (deprecated) or tls\n$mail->SMTPSecure = 'ssl';\n//Whether to use SMTP authentication\n$mail->SMTPAuth = true;\n//Username to use for SMTP authentication - use full email address for gmail \n$mail->Username = \"****8@gmail.com\";\n//Password to use for SMTP authentication\n$mail->Password = \"**\";\n//Set who the message is to be sent from\n$mail->setFrom('****88@gmail.com', 'patel'); // Rply this mail in this mail id\n//Set an alternative reply-to address\n$mail->addReplyTo('*88@gmail.com', 'First Last');\n//Set who the message is to be sent to\n$mail->addAddress('**88@gmail.com', ' Sumit'); // send email id\n//Set the subject line\n$mail->Subject = 'Sumit Test GMail SMTP ';\n//Read an HTML message body from an external file, convert referenced images to embedded,\n//convert HTML into a basic plain-text alternative body\n //$mail->msgHTML(file_get_contents('contents.html'), dirname(FILE));\n$mail->addCC('*', \" Gmail Sumit patel\");\n // $mail->addBCC('bcc@example.com');\n// Attachment\n     //$mail->addAttachment('/usr/labnol/file.doc');         // Add attachments\n     // $mail->addAttachment('/images/image.jpg', 'new.jpg');\n//Replace the plain text body with one created manually\n $mail->AltBody = 'This is a plain-text message body';\n $mail->Body = \"This Mail Check .Mail send Using SMTP Gmail Server\";\n//Attach an image file\n //$mail->addAttachment('images/phpmailer_mini.png');\n//send the message, check for errors\nif (!$mail->send()) {\n    echo \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n    echo \"Message sent!\";\n}\n}\n```\n. i have use  $mail->SMTPSecure = 'ssl'; and tls ;\nbut mail not send \n. hello .\ni have use second try in use ssl and use port  :465  then mail are send but mail in Span folder \nhow can slove this problem, ??\n. hello .\ni have use second try in use ssl and use port  :465  then mail are send but mail in Span folder \nhow can slove this problem, ??\n. k.thanks for help ..\n. k.thanks for help ..\n. ",
    "flier56": "converting a program from mysql to mysqli and phpmailer is part of the program, the is_resource is bringing up the error.\nwhat i have found\nmysql passes resources but mysqli passes objects, so comparisons done in your source with is_resource() may no longer work.\nphpmailer-5.1 does not have is_resource in the code so it does not set a warning the code was added later. was just wonder what to replace is_resource with in current phpmailer \n. it is  code in class.smtp.php is_resource works with mysql but not with mysqli  here \nif (!is_resource($this->smtp_conn)) {\nand here\nwhile (is_resource($this->smtp_conn) && !feof($this->smtp_conn)) {\nnot sure how to explain it any better\n. ok thanks a lot\n. ok thanks a lot\n. here is the read me\nhttps://wikis.oracle.com/display/mysql/Converting+to+MySQLi\nand the download\nhttp://download.softagency.net/mysql/Downloads/Contrib/mysqli_converter/\n. here is the read me\nhttps://wikis.oracle.com/display/mysql/Converting+to+MySQLi\nand the download\nhttp://download.softagency.net/mysql/Downloads/Contrib/mysqli_converter/\n. i didn't know it was a false positive that is why i was asking, now i know\nthanks again for your help\n. i didn't know it was a false positive that is why i was asking, now i know\nthanks again for your help\n. ",
    "drmad": "@flier56: just ignore those warnings. The conversion program is just warning you about the use of \"is_resource\" in case is used along with mysql, which is not the case here (PHPMailer use the is_resource, but in another completely different context). \nSo be happy, and in the process upgrade that really-old version of PHPMailer :)\n. This sounds like a network/sysadmin problem, not a PHPMailer problem. Try a\ntelnet smtp.office365.com 587\nin your console, for checking conectivity. If everything is working ok, it should write a message like 'ESMTP MAIL Service ready'. Otherwise that server is blocking yours.\n. This sounds like a network/sysadmin problem, not a PHPMailer problem. Try a\ntelnet smtp.office365.com 587\nin your console, for checking conectivity. If everything is working ok, it should write a message like 'ESMTP MAIL Service ready'. Otherwise that server is blocking yours.\n. Perhaps office365.com is blocking your hostgator server. The fastest (and easiest) way is creating a support ticket in hostgator for they to check that conectivity issue.\n. Perhaps office365.com is blocking your hostgator server. The fastest (and easiest) way is creating a support ticket in hostgator for they to check that conectivity issue.\n. You should give more information. The code you're using for sending, for instance.\n. Sorry for this, but PHP4 on Windows! Wow, so retro :smile: \n. ",
    "Beeblebrox-BSD": "Thank you for your time.\nI was trying to remember having read smtp alternatives, and you answered that:\n\nYou're better off switching to SMTP to send directly\n\nHow is that done? Is it part of \"class.smtp.php\"?\nThank you again.\n. ",
    "EionRobb": "No, the timeout defaults to 300 but the timelimit defaults to 30. Two\ndifferent properties :)\nOn 10/10/2014 6:46 pm, \"Marcus Bointon\" notifications@github.com wrote:\n\nIt is already set to 300 in the SMTP class (what most of those timeouts\nwant), citing that section, and is a settable property in the PHPMailer\nclass (so you can set it to whatever you want), though it defaults to 10\nsec in there, so I'll fix that.\n\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/293#issuecomment-58614988.\n. No, the timeout defaults to 300 but the timelimit defaults to 30. Two\ndifferent properties :)\nOn 10/10/2014 6:46 pm, \"Marcus Bointon\" notifications@github.com wrote:\nIt is already set to 300 in the SMTP class (what most of those timeouts\nwant), citing that section, and is a settable property in the PHPMailer\nclass (so you can set it to whatever you want), though it defaults to 10\nsec in there, so I'll fix that.\n\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/293#issuecomment-58614988.\n. Technically a consistent 5 minutes isn't long enough to wait for a response to the end of DATA, but I'd consider it an acceptable compromise :)\n. Technically a consistent 5 minutes isn't long enough to wait for a response to the end of DATA, but I'd consider it an acceptable compromise :)\n. \n",
    "ndub": "@drmad Thanks!\nI've checked the 587 ports on both servers - mine and smtp.office365.com - with telnet and nmap. They both appear to be open and responding. Because I'm on a shared hosting account (Hostgator, cPanel), I don't have terminal access on my web server (that I can find), unless you know some way for me to run the telnet remotely. Sorry, I'm not very versed in telnet usage.\nHere's the response from telnet to smtp.office365.com:\nTrying 132.245.81.178...\nConnected to outlook-namsouth.office365.com.\nEscape character is '^]'.\n220 BY2PR06CA037.outlook.office365.com Microsoft ESMTP MAIL Service ready at Sun, 12 Oct 2014 00:38:36 +0000\nAnd here is the response from my host server:\nTrying 192.254.235.140...\nConnected to appinc.co.\nEscape character is '^]'.\n220-gator3253.hostgator.com ESMTP Exim 4.82 #2 Sat, 11 Oct 2014 19:39:34 -0500 \n220-We do not authorize the use of this system to transport unsolicited, \n220 and/or bulk e-mail.\nThanks in advanced for any extra help you can provide.\n. @drmad Thanks!\nI've checked the 587 ports on both servers - mine and smtp.office365.com - with telnet and nmap. They both appear to be open and responding. Because I'm on a shared hosting account (Hostgator, cPanel), I don't have terminal access on my web server (that I can find), unless you know some way for me to run the telnet remotely. Sorry, I'm not very versed in telnet usage.\nHere's the response from telnet to smtp.office365.com:\nTrying 132.245.81.178...\nConnected to outlook-namsouth.office365.com.\nEscape character is '^]'.\n220 BY2PR06CA037.outlook.office365.com Microsoft ESMTP MAIL Service ready at Sun, 12 Oct 2014 00:38:36 +0000\nAnd here is the response from my host server:\nTrying 192.254.235.140...\nConnected to appinc.co.\nEscape character is '^]'.\n220-gator3253.hostgator.com ESMTP Exim 4.82 #2 Sat, 11 Oct 2014 19:39:34 -0500 \n220-We do not authorize the use of this system to transport unsolicited, \n220 and/or bulk e-mail.\nThanks in advanced for any extra help you can provide.\n. Thanks for the advice @Synchro. I contacted HG, again, and asked them about the DNS and could there be anything in the firewall that would be blocking outbound traffic. Sure enough, it was the firewall. They made a change and now it works great! Really appreciate your and @drmad's help!\n. Thanks for the advice @Synchro. I contacted HG, again, and asked them about the DNS and could there be anything in the firewall that would be blocking outbound traffic. Sure enough, it was the firewall. They made a change and now it works great! Really appreciate your and @drmad's help!\n. My problem was ultimately resolved by contacting my host and having them\nchange the way the firewall was configured for my site. If you haven't, I'd\ncontact your host or look at your firewall settings.\nOn Mon, Nov 9, 2015 at 12:01 PM, hargrig notifications@github.com wrote:\n\nhey friends i have error like this, can anybody help me ? ))\nSMTP ERROR: Failed to connect to server: php_network_getaddresses:\ngetaddrinfo failed: No address associated with hostname (0)\nSMTP connect() failed.\nhttps://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed.\nhttps://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/295#issuecomment-155141192\n.\n. \n",
    "hargrig": "Thanks bro..i will try that ))\n. ",
    "sahilsunesara": "@ndub did u get solution regarding above matter?. @ndub did u get solution regarding above matter?. ",
    "mrshiru": "2017-12-25 11:02:41 Connection: opening to ssl://smtp.gmail.com:587, timeout=300, options=array ( ) 2017-12-25 11:02:41 SMTP ERROR: Failed to connect to server: (0) 2017-12-25 11:02:41    SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting Mail Not Send. ",
    "haroldvelez": "I have same problem, Ive tried with ssl, tls and the respective ports. The same script work on http but no on https folder.\nThanks. I have same problem, Ive tried with ssl, tls and the respective ports. The same script work on http but no on https folder.\nThanks. ",
    "bongobongo": "Where do I find the format of the ErrorInfo property? \nIf you know about any example code for how to handle this situation, that would also be of great help.\n. Where do I find the format of the ErrorInfo property? \nIf you know about any example code for how to handle this situation, that would also be of great help.\n. Hi again... and thanks for responding so quickly:\nFrom the smtp server person I get the message that I should be able to \ndetect the status for each email recipient by writing a script that analyze the response from the SMTP server. Below is an example response I should see from the SMTP server, according to the server-person. He says I can just check the status for each RCPT TO recipient, if it start with \"S: 2\" then it has been sent, if not then it failed for that recipient.\nMy question now, is how I get access to this response RAW message text from the SMTP server from my script that send the SMTP email(s)?\nS: 220 fw.bornado.no ESMTP - rate limit 10000/24 hours\nC: HELO tools.byse.no\nS: 250 smtp.bysedata.no Hello tools.byse.no [200.159.29.5]\nC: MAIL FROM:<bj@byse.no>\nS: 250 OK\nC: RCPT TO:<1@byse.no>\nS: 250 OK - sent to 1/10000 recipients last 24 hours\nC: RCPT TO:<2@byse.no>\nS: 250 OK - sent to 2/10000 recipients last 24 hours\nC: RCPT TO:<3@byse.no>\nS: 250 OK - sent to 3/10000 recipients last 24 hours\nC: RCPT TO:<4@byse.no>\nS: 250 OK - sent to 4/10000 recipients last 24 hours\nC: RCPT TO:<5@byse.no>\nS: 250 OK - sent to 5/10000 recipients last 24 hours\nC: DATA \nS: 354 Enter message, ending with \".\" on a line by itself\nC: Subject: test\nC: \nC: test\nC: .\nS: 250 OK id=1Xe08E-00023k-4h - sent to 5/10000 recipients last 24 hours\nC: QUIT\nS: 221 smtp.bysedata.no closing connection\n. Hi again... and thanks for responding so quickly:\nFrom the smtp server person I get the message that I should be able to \ndetect the status for each email recipient by writing a script that analyze the response from the SMTP server. Below is an example response I should see from the SMTP server, according to the server-person. He says I can just check the status for each RCPT TO recipient, if it start with \"S: 2\" then it has been sent, if not then it failed for that recipient.\nMy question now, is how I get access to this response RAW message text from the SMTP server from my script that send the SMTP email(s)?\nS: 220 fw.bornado.no ESMTP - rate limit 10000/24 hours\nC: HELO tools.byse.no\nS: 250 smtp.bysedata.no Hello tools.byse.no [200.159.29.5]\nC: MAIL FROM:<bj@byse.no>\nS: 250 OK\nC: RCPT TO:<1@byse.no>\nS: 250 OK - sent to 1/10000 recipients last 24 hours\nC: RCPT TO:<2@byse.no>\nS: 250 OK - sent to 2/10000 recipients last 24 hours\nC: RCPT TO:<3@byse.no>\nS: 250 OK - sent to 3/10000 recipients last 24 hours\nC: RCPT TO:<4@byse.no>\nS: 250 OK - sent to 4/10000 recipients last 24 hours\nC: RCPT TO:<5@byse.no>\nS: 250 OK - sent to 5/10000 recipients last 24 hours\nC: DATA \nS: 354 Enter message, ending with \".\" on a line by itself\nC: Subject: test\nC: \nC: test\nC: .\nS: 250 OK id=1Xe08E-00023k-4h - sent to 5/10000 recipients last 24 hours\nC: QUIT\nS: 221 smtp.bysedata.no closing connection\n. Okay... probably getting closer now.\nBut now it looks like phpmailer handles the unsuccessful recipients.... then it should not be needed by my to analyze the raw data from the SMTP server....\nCould I not just juse the $bad_rcpt variable to get a list of unsuccessful recipients, after doing the $mail->Send command? \nAnother thing I need to know is how I can detect if only some of the recipients was successful, after doing the $mail->Send command?\nAs it is now, it looks to me that the $mail->Send only return true or false (success or failure), but not handling the partly success option where some emails where sent, and some failed.\n. Okay... probably getting closer now.\nBut now it looks like phpmailer handles the unsuccessful recipients.... then it should not be needed by my to analyze the raw data from the SMTP server....\nCould I not just juse the $bad_rcpt variable to get a list of unsuccessful recipients, after doing the $mail->Send command? \nAnother thing I need to know is how I can detect if only some of the recipients was successful, after doing the $mail->Send command?\nAs it is now, it looks to me that the $mail->Send only return true or false (success or failure), but not handling the partly success option where some emails where sent, and some failed.\n. Thanks a lot for your time and excellent support.\nNow I see no reason to mess around with the raw response from the SMTP server, with these changes to PHPMailer, I should be able to solve this issue. \n. Thanks a lot for your time and excellent support.\nNow I see no reason to mess around with the raw response from the SMTP server, with these changes to PHPMailer, I should be able to solve this issue. \n. You said:\n\"One shortcoming I can see is that it doesn't tell you why each recipient failed, just that they have.\"\nMaybe that can be handled in the next version of PHPMailer, if this \"issue\" is taken care of in the next version?\n. You said:\n\"One shortcoming I can see is that it doesn't tell you why each recipient failed, just that they have.\"\nMaybe that can be handled in the next version of PHPMailer, if this \"issue\" is taken care of in the next version?\n. Is it possible to send multiple emails using several calls to the send command for the same PHPMailer object? \nThe reason I ask this is that my client probably want to make sure one recipient cannot see the email of another recipient (in the TO field of the email), and we must use the TO field and not bcc or cc.\nExample:\n$mail = new PHPMailer();\nThen I set SMTP stuff,\nfrom email, body, subject etc.\nand then in a loop call $mail->Send() like this:\nfor ($i=0; $i<=$emailCount; $i++){ \n   $mail->ClearAddresses();\n   $mail->AddAddress($email_arr[i]);\n   if(!$mail->Send()){\n        // handle error\n   } else { \n        // handle success\n   }\n}\n. Is it possible to send multiple emails using several calls to the send command for the same PHPMailer object? \nThe reason I ask this is that my client probably want to make sure one recipient cannot see the email of another recipient (in the TO field of the email), and we must use the TO field and not bcc or cc.\nExample:\n$mail = new PHPMailer();\nThen I set SMTP stuff,\nfrom email, body, subject etc.\nand then in a loop call $mail->Send() like this:\nfor ($i=0; $i<=$emailCount; $i++){ \n   $mail->ClearAddresses();\n   $mail->AddAddress($email_arr[i]);\n   if(!$mail->Send()){\n        // handle error\n   } else { \n        // handle success\n   }\n}\n. Thanks a lot.\n. Thanks a lot.\n. ",
    "ashrafulgit": "Thanks for your writing code!\n```php\nclass MyPHPMailer extends PHPMailer {\n    public $bad_rcpt = array();\n    protected function smtpSend($header, $body)\n    {\n        $this->bad_rcpt = array();\n    if (!$this->smtpConnect()) {\n        throw new phpmailerException($this->lang('smtp_connect_failed'), self::STOP_CRITICAL);\n    }\n    $smtp_from = ($this->Sender == '') ? $this->From : $this->Sender;\n    if (!$this->smtp->mail($smtp_from)) {\n        $this->setError($this->lang('from_failed') . $smtp_from . ' : ' . implode(',', $this->smtp->getError()));\n        throw new phpmailerException($this->ErrorInfo, self::STOP_CRITICAL);\n    }\n\n    // Attempt to send to all recipients\n    foreach ($this->to as $to) {\n        if (!$this->smtp->recipient($to[0])) {\n            $this->bad_rcpt[] = $to[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array($to[0]), array(), array(), $this->Subject, $body, $this->From);\n    }\n    foreach ($this->cc as $cc) {\n        if (!$this->smtp->recipient($cc[0])) {\n            $this->bad_rcpt[] = $cc[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array(), array($cc[0]), array(), $this->Subject, $body, $this->From);\n    }\n    foreach ($this->bcc as $bcc) {\n        if (!$this->smtp->recipient($bcc[0])) {\n            $this->bad_rcpt[] = $bcc[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array(), array(), array($bcc[0]), $this->Subject, $body, $this->From);\n    }\n\n    // Only send the DATA command if we have viable recipients\n    if ((count($this->all_recipients) > count($this->bad_rcpt)) and !$this->smtp->data($header . $body)) {\n        throw new phpmailerException($this->lang('data_not_accepted'), self::STOP_CRITICAL);\n    }\n    if ($this->SMTPKeepAlive == true) {\n        $this->smtp->reset();\n    } else {\n        $this->smtp->quit();\n        $this->smtp->close();\n    }\n    if (count($this->bad_rcpt) > 0) { // Create error message for any bad addresses\n        throw new phpmailerException(\n            $this->lang('recipients_failed') . implode(', ', $this->bad_rcpt),\n            self::STOP_CONTINUE\n        );\n    }\n    return true;\n}\n\n}\nBut I don't understand how to call/use it in my sendemail.php file also where to use it $mail->bad_rcpt Can you clarify me with example code?\nI am using your another example code below-\nhttps://github.com/PHPMailer/PHPMailer/issues/273php\n<?php\nerror_reporting(E_ALL);\nini_set('display_errors', true);\nrequire 'PHPMailerAutoload.php';\n$bccz = array(\n    array(\n        'a@example.com' => array(\n            'email' => 'a@example.com',\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        ),\n        'b@example-.com' => array(\n            'email' => 'b@example-.com', //Deliberately invalid\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        )\n    ),\n    array(\n        'c@dfgsdfgdsfgsdfgsdfgsdfgs.com' => array(\n            'email' => 'c@dfgsdfgdsfgsdfgsdfgsdfgs.com', //Non-existent domain\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        ),\n        'd@example.com' => array(\n            'email' => 'd@example.com',\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        )\n    )\n);\n$mail = new PHPMailer(true);\n$mail->IsSMTP();\n$mail->Host = 'localhost';\n$mail->Port = 25;\n$mail->SMTPAuth = false;\n$mail->CharSet = 'UTF-8';\n$mail->setFrom('from@example.com', 'FromName');\n$mail->addAddress('to@example.com', 'ToName');\n$mail->msgHTML('This is the message body');\n$mail->Subject = 'Subject';\n$i = 0;\nforeach ($bccz as $bcc) {\n    $i++;\n    echo 'GROUP: ' . $i . '' . \"\\n\";\n    foreach ($bcc as $key => $value) {\n        try {\n            $mail->AddBcc($value['email'], trim($value['cFname'] . ' ' . $value['cLname']));\n        } catch (phpmailerException $e) {\n            echo \"Skipping invalid address: {$value['email']}\\n\";\n        }\n    }\n    try {\n        $mail->Send();\n        echo \"message sent hurray!\\n\";\n    } catch (phpmailerException $e) {\n        echo $e->errorMessage();\n    }\n    $mail->ClearBCCs();\n}\n```\nplease modify this code for me I will be very glad to you.\nThank you.. Basically I am trying to save an error log in my database table which recipients failed/reach is over quota/disabled etc. But I am unable to do that. As per your instruction and my knowledge I did it like below-\nStep-1: I created a class file named MyPHPMailer.php and saved with your code.\n```php\n<?php\nrequire 'PHPMailer.php';\nuse PHPMailer\\PHPMailer\\PHPMailer;\nclass MyPHPMailer extends PHPMailer {\n    public $bad_rcpt = array();\n    protected function smtpSend($header, $body)\n    {\n        $this->bad_rcpt = array();\n    if (!$this->smtpConnect()) {\n        throw new phpmailerException($this->lang('smtp_connect_failed'), self::STOP_CRITICAL);\n    }\n    $smtp_from = ($this->Sender == '') ? $this->From : $this->Sender;\n    if (!$this->smtp->mail($smtp_from)) {\n        $this->setError($this->lang('from_failed') . $smtp_from . ' : ' . implode(',', $this->smtp->getError()));\n        throw new phpmailerException($this->ErrorInfo, self::STOP_CRITICAL);\n    }\n\n    // Attempt to send to all recipients\n    foreach ($this->to as $to) {\n        if (!$this->smtp->recipient($to[0])) {\n            $this->bad_rcpt[] = $to[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array($to[0]), array(), array(), $this->Subject, $body, $this->From);\n    }\n    foreach ($this->cc as $cc) {\n        if (!$this->smtp->recipient($cc[0])) {\n            $this->bad_rcpt[] = $cc[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array(), array($cc[0]), array(), $this->Subject, $body, $this->From);\n    }\n    foreach ($this->bcc as $bcc) {\n        if (!$this->smtp->recipient($bcc[0])) {\n            $this->bad_rcpt[] = $bcc[0];\n            $isSent = false;\n        } else {\n            $isSent = true;\n        }\n        $this->doCallback($isSent, array(), array(), array($bcc[0]), $this->Subject, $body, $this->From);\n    }\n\n    // Only send the DATA command if we have viable recipients\n    if ((count($this->all_recipients) > count($this->bad_rcpt)) and !$this->smtp->data($header . $body)) {\n        throw new phpmailerException($this->lang('data_not_accepted'), self::STOP_CRITICAL);\n    }\n    if ($this->SMTPKeepAlive == true) {\n        $this->smtp->reset();\n    } else {\n        $this->smtp->quit();\n        $this->smtp->close();\n    }\n    if (count($this->bad_rcpt) > 0) { // Create error message for any bad addresses\n        throw new phpmailerException(\n            $this->lang('recipients_failed') . implode(', ', $this->bad_rcpt),\n            self::STOP_CONTINUE\n        );\n    }\n    return true;\n}\n\n}\n?>\nStep-2: Next I included class file in sendemail.php like belowphp\n<?php\nerror_reporting(E_ALL);\nini_set('display_errors', true);\nrequire 'PHPMailer/src/Exception.php';\nrequire 'PHPMailer/src/SMTP.php';\nrequire 'PHPMailer/src/MyPHPMailer.php';\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\n$bccz = array(\n    array(\n        'a@example.com' => array(\n            'email' => 'a@example.com',\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        ),\n        'b@example-.com' => array(\n            'email' => 'b@example-.com', //Deliberately invalid\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        )\n    ),\n    array(\n        'c@dfgsdfgdsfgsdfgsdfgsdfgs.com' => array(\n            'email' => 'c@dfgsdfgdsfgsdfgsdfgsdfgs.com', //Non-existent domain\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        ),\n        'd@example.com' => array(\n            'email' => 'd@example.com',\n            'cFname' => 'firstname',\n            'cLname' => 'lastname'\n        )\n    )\n);\n$mail = new MyPHPMailer;\n$mail->IsSMTP();\n$mail->Host = 'localhost';\n$mail->Port = 25;\n$mail->SMTPAuth = false;\n$mail->CharSet = 'UTF-8';\n$mail->setFrom('from@example.com', 'FromName');\n$mail->addAddress('to@example.com', 'ToName');\n$mail->msgHTML('This is the message body');\n$mail->Subject = 'Subject';\n$i = 0;\nforeach ($bccz as $bcc) {\n    $i++;\n    echo 'GROUP: ' . $i . '' . \"\\n\";\n    foreach ($bcc as $key => $value) {\n        try {\n            $mail->AddBcc($value['email'], trim($value['cFname'] . ' ' . $value['cLname']));\n        } catch (phpmailerException $e) {\n            echo \"Skipping invalid address: {$value['email']}\\n\";\n        }\n    }\n    try {\n        $mail->Send();\n        echo \"message sent hurray!\\n\";\n    } catch (phpmailerException $e) {\n        echo $e->errorMessage();\n    }\n    $mail->ClearBCCs();\n}\nvar_dump($mail->bad_rcpt);\n?>\n```\nI got the result below-\nGROUP: 1\nFatal error: Uncaught Error: Class 'phpmailerException' not found in C:\\xampp\\htdocs\\sendemail\\PHPMailer\\src\\MyPHPMailer.php:14 Stack trace: #0 C:\\xampp\\htdocs\\sendemail\\PHPMailer\\src\\PHPMailer.php(1529): MyPHPMailer->smtpSend('Date: Mon, 4 Ma...', 'This is a multi...') #1 C:\\xampp\\htdocs\\sendemail\\PHPMailer\\src\\PHPMailer.php(1365): PHPMailer\\PHPMailer\\PHPMailer->postSend() #2 C:\\xampp\\htdocs\\sendemail\\test.php(62): PHPMailer\\PHPMailer\\PHPMailer->send() #3 {main} thrown in C:\\xampp\\htdocs\\sendemail\\PHPMailer\\src\\MyPHPMailer.php on line 14\nWhat should I do now? I will be happy if you correction my mentioned code and clarify me.\nNote: I am using latest version of PHPMailer 6.0.7\nThanks again.. Ok, could you please tell me how can I overcome my problem now, if you have any instruction?. Got it. Thanks a lot.. Got it. Thanks a lot.. ",
    "tribulant": "I realize this is closed and quite old. Sorry for replying here. But this is still an issue when using Amazon SES with phpMailer SMTP.\nWhen using SMTP, Amazon SES includes the message-id of the email after the \"250 Ok\" response.\nIt is not the last reply because after resetting or disconnecting, there are more replies from the server after that.\nIs there any way of extracting the Amazon SES message-id in the OK response from the server?\n. ",
    "CocoRid": "Yes, I use PHPMailer with this update of the code! And it's working!\nI will check tomorrow if there are others updates in the code (of PHPMailer) to have a functionnal NTLM auth protocol.\n. ",
    "mirjalal": "Thanks for accepting. You are welcome :)\n. ",
    "Alf71": "Yes, that's the point. I set my company email address but it is rejecting the FROM-e-mail address in the form, which is, if you are a visitor and have an HOTMAIL address, you won't be able to send the form.\n. Thanks... I now have my own mail server running and my form accepts ALL visitor e-mail addresses.\n. ",
    "Fuitad": "For what it's worth, I had the same error with 5.2.7. I tried upgrading to the latest version before I opened this issue ticket.\n. For what it's worth, I had the same error with 5.2.7. I tried upgrading to the latest version before I opened this issue ticket.\n. ",
    "viper007131": "i am also having this same issue, i get  Fatal error: Call to undefined method SMTP::setTimeout() \ni am not sure how to solve this issue, i am using version 5.2.9 and have autoloader in same dir.\ni have this added to class.phpmailer.php\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\nim sorry im new to php, any help would be great\n. ",
    "jcodesdotme": "My project has same class names because i am revamping it. I manually loaded phpmailer and smtp classes into controller instead of using $mail = new PHPMailer etc. And it worked. So composer autoload doesn't load the correct file. Just edited classmap in vendor/composer and it is fixed.\n. Hi @Synchro ,  below is the workaround I did:\n1. Open /vendor/composer/autoload_classmap.php\n2. Find class.smtp.php and class.phpmailer.php in the key => value array\n3. make sure their values are starting with $vendorDir, but not with $baseDir(respective to smtp and phpmailer).\n4. That is those paths should have been set up like this:\n         'PHPMailer' => $vendorDir . '/phpmailer/phpmailer/class.phpmailer.php',\n         'SMTP' => $vendorDir . '/phpmailer/phpmailer/class.smtp.php',\n5. And make sure, in that array, there is no any other class.smtp.php or class.phpmailer.php except the above 2.\nNote: running composer update or composer dump-autoload will do this for you automatically, but if you have multiple same classes inside your project, this will help to get it work till you clean the project files.\n. My project has same class names because i am revamping it. I manually loaded phpmailer and smtp classes into controller instead of using $mail = new PHPMailer etc. And it worked. So that means, composer autoload didn't loaded the correct class file. Then I edited classmap in vendor/composer and it is fixed.\n. ",
    "ceceprawiro": "FYI, server translated as \"peladen\".\nWell I don't know but I think people not too familiar with term \"peladen\".\n. FYI, server translated as \"peladen\".\nWell I don't know but I think people not too familiar with term \"peladen\".\n. ",
    "richo67": "Not really as it never could worked before.\n. Not really as it never could worked before.\n. OK I understand. Still it could not work after upgrade.\nWould be much better to use error_log option as default instead of echo? This would be standard php behaviour and would not break ajax pages.\n. OK I understand. Still it could not work after upgrade.\nWould be much better to use error_log option as default instead of echo? This would be standard php behaviour and would not break ajax pages.\n. ",
    "JonJonny": "Easy for you not for me....Haa\nI could figure it out but I would also pay if it gets to that\nThis server it is a big one and I am not sure if they want me to mention names on this forum but i found out today they re-written Matts script and they do allow it.\nInsecure probably but there is no real information on that form other than a name, dimensions, and email address in that form result....\nIf my client decides they really don't like \"MonsterMail\" (the current script supplied by the webhosting company) then I would like to get a price for you to show me how.....or I would have to go to their version of Matt's script. Matt re-wrote it in 2009 but that may not still be secure and I do not know when the hosting company supposedly updated it.\nIf you are looking in that examples folder and come across that let me know which one it is.\nI could paypal you the money or whatever but lest wait to see if he wants to sepnd the dough.\nI will say that he can afford it if it gets to that option\nI hope it is OK for me to say that but I don't have the time to figure out that PHP configuration.\nI could, I think, if my life depended on it......I just want to retire this PHP is giving me kind of a headache....Haaaa\nso the bottom line\n1) The client may like \"Monstermail\"\n2) He may want to pay me to code the \"html pages to Matts CGI script\"\n3) Get somebody to configure the \"PHPMailer\" and I could add that to the html pages.\nI can also give you more detailed info if you want to email me or whatever\nThank you very much \"Synchro\" for your response and KNOW that I greatly appreciate your advice and generosity with your response with information.\nYou Rock\nJonny\n. Easy for you not for me....Haa\nI could figure it out but I would also pay if it gets to that\nThis server it is a big one and I am not sure if they want me to mention names on this forum but i found out today they re-written Matts script and they do allow it.\nInsecure probably but there is no real information on that form other than a name, dimensions, and email address in that form result....\nIf my client decides they really don't like \"MonsterMail\" (the current script supplied by the webhosting company) then I would like to get a price for you to show me how.....or I would have to go to their version of Matt's script. Matt re-wrote it in 2009 but that may not still be secure and I do not know when the hosting company supposedly updated it.\nIf you are looking in that examples folder and come across that let me know which one it is.\nI could paypal you the money or whatever but lest wait to see if he wants to sepnd the dough.\nI will say that he can afford it if it gets to that option\nI hope it is OK for me to say that but I don't have the time to figure out that PHP configuration.\nI could, I think, if my life depended on it......I just want to retire this PHP is giving me kind of a headache....Haaaa\nso the bottom line\n1) The client may like \"Monstermail\"\n2) He may want to pay me to code the \"html pages to Matts CGI script\"\n3) Get somebody to configure the \"PHPMailer\" and I could add that to the html pages.\nI can also give you more detailed info if you want to email me or whatever\nThank you very much \"Synchro\" for your response and KNOW that I greatly appreciate your advice and generosity with your response with information.\nYou Rock\nJonny\n. ",
    "phillipp": "After this commit, SMTP with postfix doesn't work anymore, because postfix EHLO response looks like this:\nSERVER -> CLIENT: 250-mail.lima-city.de\n250-PIPELINING\n250-SIZE 104854600250-VRFY\n250-ETRN\n250-ENHANCEDSTATUSCODES\n250-8BITMIME\n250 DSN\nIs this expected?\n. Ah, never mind. That was caused by an entry in the mynetworks setting in postfix.\n. ",
    "mymicroblog": "Please check ,3Q\n. ",
    "GilberthLGC": "I just tried with PLAIN auth type, this the result:\nConnection: opening to smtp.office365.com:587, t=800, opt=array ()\nConnection: opened\nSERVER -> CLIENT: 220-ns17.admintekcr.net ESMTP Exim 4.84 #2 Mon, 10 Nov 2014 11:32:16 -0600 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\nCLIENT -> SERVER: EHLO cuc.ac.cr\nSERVER -> CLIENT: 250-ns17.admintekcr.net Hello ns17.admintekcr.net [190.112.221.83]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250-STARTTLS250 HELP\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 TLS go ahead\nCLIENT -> SERVER: EHLO cuc.ac.cr\nSERVER -> CLIENT: 250-ns17.admintekcr.net Hello ns17.admintekcr.net [190.112.221.83]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250 HELP\nCLIENT -> SERVER: AUTH PLAIN\nSERVER -> CLIENT: 334\nCLIENT -> SERVER: AG5vcmVwbHlAY3VjLmFjLmNyAEJlbnF0eWNvMjAxMA==\nSERVER -> CLIENT: 535 Incorrect authentication data\nSMTP ERROR: User & Password command failed: 535 Incorrect authentication data\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 ns17.admintekcr.net closing connection\nConnection: closed\nSMTP connect() failed.\nalmost the same.\n. ",
    "rosmanov": "These changes (https://github.com/PHPMailer/PHPMailer/commit/aa8e499b8a0654a93cf933654c7ffca351091bdc#diff-ace81e501931d8763b49f2410cf3094dR1839) break UTF-8 characters:\n``` php\n$m = new PHPMailer();\n$m->CharSet = 'utf-8';\n$m->ContentType = 'text/html';\n$m->Encoding = 'base64';\n$m->isSendmail();\n$m->setFrom($from_parts[0], $from_parts[1]);\n$m->addAddress($to_parts[0], $to_parts[1]);\n$m->ReturnPath = self::_filterFrom(false);\n$m->Subject = $topic;\n$m->msgHTML($body, '/some/dir/');\n$m->send();\n```\nHTML part of the E-mail body\n```\n--b1_c1099f51cc9c1fb026ec37ca5334d24f\nContent-Type: text/html; charset=us-ascii\nContent-Transfer-Encoding: quoted-printable\n=D0=A4=D0=98=D0=9E: test =D0=9A=D0=BE=D0=BC=D0=BF=D0=B0=D0=BD=D0=B8=\n=D1=8F:  =D0=A2=D0=B5=D0=BB=D0=B5=D1=84=D0=BE=D0=BD: 89872380097 =\nEmail: alexei@molin.pro =D0=94=D0=BE=D0=BF=D0=BE=D0=BB=D0=BD=D0=B8=\n=D1=82=D0=B5=D0=BB=D1=8C=D0=BD=D0=B0=D1=8F =D0=B8=D0=BD=D1=84=D0=BE=D1=\n=80=D0=BC=D0=B0=D1=86=D0=B8=D1=8F:  =D0=A1=D0=BF=D0=BE=D1=81=D0=BE=\n=D0=B1 =D0=BE=D0=BF=D0=BB=D0=B0=D1=82=D1=8B: =D0=9D=D0=B0=D0=BB=D0=B8=D1=\n=87=D0=BD=D1=8B=D0=BC=D0=B8 =D0=BA=D1=83=D1=80=D1=8C=D0=B5=D1=80=D1=83 <br/=\n\n=D0=A1=D0=BF=D0=B8=D1=81=D0=BE=D0=BA =D1=82=D0=BE=D0=B2=D0=B0=D1=\n=80=D0=BE=D0=B2:=E2=84=96=D0=90=D1=80=D1=82=D0=B8=D0=BA=D1=83=D0=BB=D0=9D=D0=B0=D0=B8=D0=BC=\n=D0=B5=D0=BD=D0=BE=D0=B2=D0=B0=D0=BD=D0=B8=D0=B5 =D1=82=D0=BE=D0=B2=D0=\n=B0=D1=80=D0=B0=D0=A6=D0=B5=D0=BD=D0=B0=D1=80=D1=83=D0=B1. =D0=9A=D0=BE=D0=BB-=D0=\n=B2=D0=BE=D1=80=D1=83=D0=B1. =D0=90=D0=BA=D1=86=D0=B8=\n=D1=8F=\n=D0=9F=D0=B0=D1=80=D0=B0=D0=BC=D0=B5=D1=82=D1=80=D1=8B 1 22985 =D0=\n=AD=D0=BB=D0=B5=D0=BA=D1=82=D1=80=D0=BE=D0=B4=D1=8B =D0=BE=D0=BA-46 2,0 =\n=D0=BC=D0=BC 4,5=D0=BA=D0=B3<td style=3D\"width:70px; border:1px solid =\n\n000; padding:5px;\"> 336.00<td  style=3D\"width:50px; border:1px solid =\n000; padding:5px;\">  1<td style=3D\"width:80px; border:1px solid #000;=\npadding:5px;\"> 336.00=D0=90=D0=BA=D1=86=\n=D0=B8=D0=B8:-10 =D1=80=D1=83=D0=B1.: - 10.00 =D1=80=D1=83=D0=B1.=\n=D0=A1=D1=83=D0=BC=D0=BC=D0=B0: 336.00 =D1=80=D1=83=D0=B1. =\n=D0=A1=D0=BA=D0=B8=D0=B4=D0=BA=D0=B0: 10.00 =D1=80=D1=83=D0=B1. =\n=D0=98=D1=82=D0=BE=D0=B3=D0=BE: 326.00 =D1=80=D1=83=D0=B1. \n```\nwhere \"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432:\" looks like \"\u00d0\u00a1\u00d0\u00bf\u00d0\u00b8\u00d1\u0081\u00d0\u00be\u00d0\u00ba \u00d1\u201a\u00d0\u00be\u00d0\u00b2\u00d0\u00b0\u00d1\u20ac\u00d0\u00be\u00d0\u00b2:\"\n\n. @Synchro, yes, it is fixed now. Thanks.\n. ",
    "lubberscorrado": "sorry, i need to leave out the = you are right. copy paste error.\nThis way there will not be a url()=. I have this fix in my environment. Anyway it's your choice to implement it or not. I just had the problem using emails with integrated url() css and this is not covered by the library\n. i now corrected the pattern at least to ...url( ...this will cover at least all my needs for\n<style>\n.foo {\n    background: url(\"mygreatimage.png\");\n}\n</style>\nor\n<div style=\"background-image:url('mygreatimage.png');\">blah</div>\ni always use quotes within url() so this works at least for my needs .\nBut I respect that the base library should cover all possible situtations (like your example without quotes and http). I am trying to make the pattern (maybe we need some additional pattern) completely working and also write unit tests then...\n. ",
    "hemmerich": "Great point, makes sense!\n. ",
    "tasso85": "You could use pseudo-namespaces like for example:\nclass PHPMailer -> class PHPMailer_Mailer\nclass POP3 -> class PHPMailer_Pop3\nclass SMTP -> class PHPMailer_Smtp\nclass phpmailerException -> class PHPMailer_Exception\nand then name the files:\nMailer.php\nPop3.php\nSmtp.php\nException.php\nAll to be placed in folder PHPMailer.\nThis is what I do when I include this library in a project.\n. I would agree with @debugteam \nAlso, if you have any decent IDE, doing a search and replace would require just seconds.\n. Why did you choose to use a \"double\" namespace PHPMailer\\PHPMailer? Wasn't a single one sufficient?\n. ",
    "programster": "Could PHP mailer not use a new branch or release for this. E.g. I see that phpmailer is currently on 5.2.10, why not have a 5.3 release that requires PHP 5.3 (ties in nicely) and can therefore make use of namespaces.\nWorth mentioning that 5.3 is so old now that it is no longer \"currently supported\" and the earliest supported release is now 5.4\n. Could PHP mailer not use a new branch or release for this. E.g. I see that phpmailer is currently on 5.2.10, why not have a 5.3 release that requires PHP 5.3 (ties in nicely) and can therefore make use of namespaces.\nWorth mentioning that 5.3 is so old now that it is no longer \"currently supported\" and the earliest supported release is now 5.4\n. > Personally I think \"fluent\" interfaces are terrible - they enhance readability in one small section of code at the expense of making the rest of it very difficult, particularly when it comes to non-fatal error handling, because the only option available in a fluent sequence is exceptions, which are a very blunt instrument and do not allow elegant recovery. Because of that, most fluent systems only use it in trivial sequential setter calls where there are few consequences to errors, and thus they are no more than syntactic sugar that's not actually very helpful.\n+1 Fluent interfaces are evil.\n. ",
    "H1X4Dev": "Why are you even supporting PHP5.0 wtf man. Just make branches and move them there.. Use PHP7 for main branch, i dont understand whats wrong with that. Everywhere its 5.5++\n. ",
    "manix": "@Synchro yeah sorry about that, I noticed the broken links and commented before I actually looked at the branches. I hope that gets resolved soon because it is a little confusing having the older version in master. Best!. ",
    "enoch85": "I wouldn't post this bug if I haven't already checked the obvious. ;) Ofc the server is up. \nAnd yes, I masked the password.\n. @Synchro @ooxi \nHey, don\u00b4t close so fast. mail.tackningsproffsen.se isn\u00b4t pingable beacuse it\u00b4s going trhu mail.citynetwork.se and the mail is hosted at citywork.se so the mail isn\u00b4t direct on my server.\nI tested to login and both send and receive emails from sales@tackningproffsen.se and it works. So no, your assumption that the server is down is wrong.\nPlease reopen and investigate. \n. @michield \nSorry, but isn\u00b4t you keen to solve bugs? I can do the investigate-stuff, but tell me that I should do.\n. Btw, the same settings work on fsgo.se. So something is wrong...\n. @Synchro \n\nIf you want to complain\n\nHmm, don\u00b4t like your attitude.\n. FYI I\u00b4m not a dev, I\u00b4m a user. I build servers, don\u00b4t code in PHP. That\u00b4s your job.\n. Ok, I\u00b4m sorry. I found the issue. I had the wrong password.\nSo please tell me, how do I update PHPMailer? Download the tar or zip, and then unpack it in Wordpress? Or is PHPmailer updated automatically with Wordpress?\n. @Synchro I've found the error doing the same on another domain. \nNotice it says 2db54bb921010fcd42ec0e912cb57f33@shop.techandme.se and not 2db54bb921010fcd42ec0e912cb57f33@techandme.se\n[\"lastMessageID\":protected]=>\n  string(52) \"<2db54bb921010fcd42ec0e912cb57f33@shop.techandme.se>\"\n  [\"message_type\":protected]=>\n  string(5) \"plain\"\n  [\"boundary\":protected]=>\n  array(3) {\n    [1]=>\n    string(35) \"b1_2db54bb921010fcd42ec0e912cb57f33\"\n    [2]=>\n    string(35) \"b2_2db54bb921010fcd42ec0e912cb57f33\"\n    [3]=>\n    string(35) \"b3_2db54bb921010fcd42ec0e912cb57f33\"\n  }\nIf the domain is without a subdomain it works, but as long as it's a subdomain e.g. shop, www, or subdomain it doesn't work. Isn't this a bug after all?\n. (And this time it isn't the wrong password)\n. ",
    "battalbey": "Versions:\nWordPress: 4.9.1\nWordPress MS: No\nPHP: 5.6.31\nWP Mail SMTP: 1.2.2\nParams:\nMailer: smtp\nConstants: No\nErrorInfo: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nHost: smtp.cigkoftesiparisi.com\nPort: 587\nSMTPSecure: string(0) \"\"\nSMTPAutoTLS: bool(false)\nSMTPAuth: bool(true)\nServer:\nOpenSSL: Yes\nApache.mod_security: No\nSMTP Debug:\n2018-01-04 07:38:25 Connection: opening to smtp.cigkoftesiparisi.com:587, timeout=300, options=array (\n)\n2018-01-04 07:39:28 Connection: Failed to connect to server. Error number 2. \"Error notice: stream_socket_client(): unable to connect to smtp.cigkoftesiparisi.com:587 (Connection timed out)\n2018-01-04 07:39:28 SMTP ERROR: Failed to connect to server: Connection timed out (110)\n2018-01-04 07:39:28 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n  getting error somebody help me. ",
    "efratoosh": "Thank you!\n. ",
    "andreybleme": "So, a  require '../PHPMailerAutoload.php'; instead of require the Mailler class would fix the problem.\n\nI understand this is not the main ideia, that's why i sent a pull request for the \"example\" paste. There are some examples for some kind of situations that should be cutted down instead of avoid a simple function using the main features of PHPMailer. \nBTW  thanx for attention and the awesome Mailer class !\n. Thanks for notice !\nThe Autoload file with ___autoload()_ function, is just used if you don't want to use the requires for each class. This function was included on PHP5 and it doens't work on php's older versions :( so i didn't use it because you maybe using an older php version for a specific project(like me).\n\nSee [http://php.net/manual/en/language.oop5.autoload.php]\n. ",
    "dylanhansch": "Notice: For those of you who come across this in search for help, please note that this only works for certain setups. It really depends on how you have your code running.\nSimply had to change FROM\nif(!$mail->send()){\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n}else{\n    echo 'Message has been sent.';\n}\nTO\nif(!$mail->send()){\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n    exit;\n}else{\n    echo 'Message has been sent.';\n    exit;\n}\n. ",
    "jonathanparisi": "Yes of course.\nHere it is:\nSERVER -> CLIENT: 220 mail32.unoeuro.com - Ready to serve\nCLIENT -> SERVER: EHLO jaalumni.dk\nSERVER -> CLIENT: 250-mail32.unoeuro.com250-PIPELINING250-SIZE250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\nCLIENT -> SERVER: MAIL FROM:<jonathan@jaalumni.dk>\nSERVER -> CLIENT: 250 2.1.0 Ok\nCLIENT -> SERVER: RCPT TO:<web-tY5RRQ@mail-tester.com>\nSERVER -> CLIENT: 454 4.7.1 <web-tY5RRQ@mail-tester.com>: Relay access denied\nSMTP ERROR: RCPT TO command failed: 454 4.7.1 <web-tY5RRQ@mail-tester.com>: Relay access denied\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 2.0.0 Bye\nSMTP Error: The following recipients failed: web-tY5RRQ@mail-tester.com\nMailer Error: SMTP Error: The following recipients failed: web-tY5RRQ@mail-tester.com\n. My host told me that the port should be 25.\nBut i tried this (correct?):\n$mail->SMTPDebug = 2;\n//Ask for HTML-friendly debug output\n$mail->Debugoutput = 'html';\n//Set the hostname of the mail server\n$mail->Host = \"mail.jaalumni.dk\";\n//Set the SMTP port number - likely to be 25, 465 or 587\n$mail->SMTPSecure = 'tls';\n$mail->Port = 587;\n//Whether to use SMTP authentication\n$mail->SMTPAuth = false;\nect ect.\nI get this error:\nSMTP ERROR: Failed to connect to server: Connection refused (111)\nSMTP connect() failed.\nMailer Error: SMTP connect() failed.\n. Weird - it was them who suggested to use PHPMailer, so I guess there must be a solution somewhere.\n. Nope, but I solved the problem. For some reason the hostname is smtp.unoeuro.com rather than mail.jaalumni.dk\nBut thanks for the help anyway :)\n. ",
    "rajatshetty": "Hi,\nThe function should behave simlairly to both gmail and office365 right...?\n. Do we have any other function for reading mails from office365 or any sdk's  please let me know more on this...\n. Hi Marcus,\nPlease let me know if you have information on reading only unread mails\nfrom office365 using imap functions avaliable in php.\nAny inputs on this will really help us.\nRegards\nRajat\nOn Wed, Dec 10, 2014 at 2:33 PM, Marcus Bointon notifications@github.com\nwrote:\n\nThis is nothing to do with PHPMailer.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/330#issuecomment-66421852.\n. \n",
    "offboard": "I created a simple application in ajax to check SMTP authentication using ssl and tls and this change solved my problem, but not tested without authentication.\nAnyway I go waiting a better solution.\n. ",
    "shivugu": "I have to say thank you. I have been trying to send emails from localhost only getting errors till i followed Synchro's responses to this issue.\nThank you.\n. ",
    "atikurahman": "I have the same error. I put all the classes in the same location. Whenever  I try to send mail it gives me following error: Class 'SMTP' not found in [.../xampp7\\htdocs\\dhingi.dev\\app\\Vendor\\PhpMailer\\class.phpmailer.php, line 1291\nWhat could be the wrong? Please help.\n. I have the same error. I put all the classes in the same location. Whenever  I try to send mail it gives me following error: Class 'SMTP' not found in [.../xampp7\\htdocs\\dhingi.dev\\app\\Vendor\\PhpMailer\\class.phpmailer.php, line 1291\nWhat could be the wrong? Please help.\n. I am using CakePHP v2.63\n. I am using CakePHP v2.63\n. ",
    "gitpmjj": "I had the same problem in other line of my code in class.phpmailer.php.\nI found a problem in line 1443.\npublic function getSMTPInstance()\n    {\n        if (!is_object($this->smtp)) {\n            $this->smtp = new smtp;  //Here is the problem !!!\n        }\n        return $this->smtp;\n    }\nThere are no parenthesis when creating the object.\nNow other problem: It\u00b4s missing the include line before the class.\ninclude_once 'class.smtp.php';\nI run my code and now its ok.\nIm not sure if i helped you but i tried to.\n. ",
    "payalpadiya": "pls help me i m having the problem\nhave tried all the above things\nFatal error: Class 'smtp' not found in /Applications/XAMPP/xamppfiles/htdocs/PHPMailer/class.phpmailer.php on line 1443\n. Ohhkkk will try and let u knw\nThnk u so much\nOn 25-Nov-2015 11:14 pm, \"Marcus Bointon\" notifications@github.com wrote:\n\nClosed #570 https://github.com/PHPMailer/PHPMailer/issues/570.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/570#event-474786051.\n. thnk u so much \n\nit woks with this path\nsendmail_path =  \"env -i /usr/sbin/sendmail -t -i\"\nand but i got the messsage has been sent but still i didn't got any mail\nplease help....\n. i m getting the notification in Mail app also for incoming mails\nand i can also send the mail from the Mail app\nthen what's the problem?\n. I m getting the message has been sent but it is not showing in mailbox .As\nu have told to chek mail.log and outgoing mail server\nit's all running ok but the issue is not receiving mails\n. when I open the mail.log it shows this error :\nlocal delivery temporarily suspended: connect to smtp.gmail.com[2404:6800:4003:c00::6d]:587: No route to host\n. ",
    "jesuspreethi": "I have also same problem.. Fatal error shown..Now Fixed my problem! \nAll I had to do was comment out $mail->IsSMTP();\nthis is my code\n```\n<?php\nrequire 'phpmailer/class.phpmailer.php';\ninclude 'phpmailer/class.smtp.php';\n$mail = new PHPMailer;\n//$mail->isSMTP();   //  ---> Comment this line mail will send\n$mail->Host = 'smtp.gmail.com';\n$mail->SMTPAuth = true;\n$mail->Username = 'test@gmail.com';\n$mail->Password = \"\";\n$mail->SMTPSecure = 'tls';\n$mail->Port = 587;\n$mail->From = 'jp@gmail.com';\n$mail->FromName ='J P';\n$mail->addAddress('tesr1@gmail.com', 'name');\n$mail->addReplyTo('sample@gmail.com', ' name ');\n$mail->WordWrap = 50;\n$mail->isHTML(true);\n$mail->Subject = 'Using PHPMailer';\n$mail->Body    = 'Hi Iam using PHPMailer library to sent SMTP mail from localhost';\nif(!$mail->send()) {\n   echo 'Message could not be sent.';\n   echo 'Mailer Error: ' . $mail->ErrorInfo;\n   exit;\n}\necho 'Message has been sent';\n?>\n```\ncheck here https://teamtreehouse.com/community/why-am-i-getting-this-error-phpmailer\n. ",
    "jtphelan": "I had the same issue. If you are using csf and SMTP_BLOCK = 1 you'll get SMTP connect() failed. You need either disable SMTP_BLOCK or add the user to the SMTP_ALLOWUSER list.\n. ",
    "TheWitness": "Debug=4 output... for reference...\n2014-12-25 17:25:01 Connection: opening to lostinspace.net:465, t=5, opt=array ( ) \n2014-12-25 17:25:01 Connection: opened \n2014-12-25 17:25:06 SMTP -> get_lines(): $data was \"\" \n2014-12-25 17:25:06 SMTP -> get_lines(): $str is \"\" \n2014-12-25 17:25:06 SMTP -> get_lines(): $data is \"\" \n2014-12-25 17:25:06 SMTP -> get_lines(): timed-out (5 sec) \n2014-12-25 17:25:06 SERVER -> CLIENT: \n2014-12-25 17:25:06 CLIENT -> SERVER: EHLO 192.168.11.195 \n2014-12-25 17:25:06 SMTP -> get_lines(): $data was \"\" \n2014-12-25 17:25:06 SMTP -> get_lines(): $str is \"\" \n2014-12-25 17:25:06 SMTP -> get_lines(): $data is \"\" \n2014-12-25 17:25:06 SERVER -> CLIENT: \n2014-12-25 17:25:06 SMTP ERROR: EHLO command failed: \n2014-12-25 17:25:06 SMTP NOTICE: EOF caught while checking if connected \n2014-12-25 17:25:06 Connection: closed \n2014-12-25 17:25:06 SMTP connect() failed.\n. Synchro,\nOn a whim, I did some additional testing.  Logged in as root, the following (from your examples works fine + modified to use SSL).\nphp -q smtp.phps\nConnection: opening to smtp.comcast.net:465, t=300, opt=array (  'ssl' =>   array (    'allow_self_signed' => true,    'verify_peer' => true,    'peer_name' => 'vmhost0',    'capath' => '/etc/ssl/certs/',  ),)\nConnection: opened\nSMTP -> get_lines(): $data was \"\"\nSMTP -> get_lines(): $str is \"220 resomta-po-04v.sys.comcast.net comcast ESMTP server ready\"\nSMTP -> get_lines(): $data is \"220 resomta-po-04v.sys.comcast.net comcast ESMTP server ready\"\nSERVER -> CLIENT: 220 resomta-po-04v.sys.comcast.net comcast ESMTP server ready\nCLIENT -> SERVER: EHLO vmhost0\n\nSERVER -> CLIENT: 250 2.0.0 YFU71p00446Hew901FU7wx mail accepted for delivery\nCLIENT -> SERVER: QUIT\nSMTP -> get_lines(): $data was \"\"\nSMTP -> get_lines(): $str is \"221 2.0.0 resomta-po-04v.sys.comcast.net comcast closing connection\"\nSMTP -> get_lines(): $data is \"221 2.0.0 resomta-po-04v.sys.comcast.net comcast closing connection\"\nSERVER -> CLIENT: 221 2.0.0 resomta-po-04v.sys.comcast.net comcast closing connection\nConnection: closed\nMessage sent!\nBut, when attempting to do it this way:\nsu -s /bin/bash apache -c \"php -q smtp.phps\"\nConnection: opening to smtp.comcast.net:465, t=300, opt=array (  'ssl' =>   array (    'allow_self_signed' => true,    'verify_peer' => true,    'peer_name' => 'vmhost0',    'capath' => '/etc/ssl/certs/',  ),)\nConnection: opened\nSMTP -> get_lines(): $data was \"\"\nSMTP -> get_lines(): $str is \"\"\nSMTP -> get_lines(): $data is \"\"\nSERVER -> CLIENT: \nSMTP NOTICE: EOF caught while checking if connected\nConnection: closed\nSMTP connect() failed.\nMailer Error: SMTP connect() failed.\nVoila, problem reproduced.  For some reason apache can create a socket just fine, but when it comes to communicating on it, it's a no go.  Any tips would be appreciated...  There is no SELinux for sure.\nTheWitness\n. Things appears to be working.  I've forced the tag on the front of all the hosts when using SSL, and that seems to be working.\n. ",
    "alfupe": "Ok, thanks!\nMany thanks ooxi for your comments also, I will take it into account in the future.\n. ",
    "gatogeek": "Please post code with function msgHTML(), thank you.\n. ",
    "gusbemacbe": "@Synchro Is AddEmbeddedImage supported in the last version of PHP Mailer? Does it support svg for e-mails?. Here is the code:\n```\nrequire_once 'phpmailer/PHPMailerAutoload.php';\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n$curso            = $_POST['cursos'];\n  $ip               = $_SERVER['REMOTE_ADDR'];\n  $nomeusuario      = $_POST['nome'];\n  $emailusuario     = $_POST['email'];\n  $idade            = $_POST['idade'];\n  $nascimento       = $_POST['nascimento'];\n  $cidade           = $_POST['cidade'];\n  $cpf              = $_POST['cpf'];\n  $rg               = $_POST['rg'];\n  $navegador        = $_SERVER['HTTP_USER_AGENT'];\n  $pais             = json_decode(file_get_contents(\"http://ipinfo.io/\"));\n  $perfilfacebook   = $_POST['perfilfacebook'];\n  $telefone         = $_POST['phone'];\n$email = new PHPMailer();\n  $email->CharSet    = 'utf-8';\n  $email->SetLanguage(\"br\");\n  $email->IsHTML(true);\n$email->From     = $emailusuario;\n  $email->FromName = $nomeusuario;\nswitch ($_POST['desportos'])\n  {\n    case \"basqf\":\n      $assunto = \"Candidato-me ao Basquete Feminino\";\n      $modalidade = \"Basquete Feminino\";\n      $desportos = \"ggg@gmail.com\";\n      break;\n    case \"basqm\":\n      $assunto = \"Candidato-me ao Basquete Masculino\";\n      $modalidade = \"Basquete Masculino\";\n      $desportos = \"ggg4@gmail.com\";\n      break;\n    case \"futebol\":\n      $assunto = \"Candidato-me ao Futebol Futebol\";\n      $modalidade = \"Futebol\";\n      $desportos = \"ggg5@icloud.com\";\n      break;\n  }\n$email->Subject   = $assunto;\n  $email->Body = \"\";\n  $email->addAddress($desportos);\nif(! $email->Send())  {\n    echo $naoenviada;\n    echo $erro . $Email->ErrorInfo . \"\";\n  }  else {\n    echo $enviada;\n  }\n}\n``. No, I used it before several times and spent 3 days without sleeping, trying to repair it, it never worked with \"switch\". Look with attention to the switch. . I used this example and nothing worked. . I replaced if($_SERVER['REQUEST_METHOD'] === 'POST') {for if (array_key_exists('email', $_POST)) { date_default_timezone_set('Etc/UTC');`.\nThen I added:\n$mail = new PHPMailer;\n    $mail->isSMTP();\n    $mail->Host = 'localhost';\n    $mail->Port = 25;\nI replaced $email->From     = emailusuario; for $mail->setFrom('from@example.com', 'First Last');\nI added and put the switch inside:\n```\n  if ($mail->addReplyTo($_POST['email'], $_POST['name'])) {\n        switch ($_POST['desportos'])\n  {\n    case \"basqf\":\n      $assunto = \"Candidato-me ao Basquete Feminino\";\n      $modalidade = \"Basquete Feminino\";\n      $mail->setFrom('from1@example.com')\n      break;\n    case \"basqm\":\n      $assunto = \"Candidato-me ao Basquete Masculino\";\n      $modalidade = \"Basquete Masculino\";\n      $mail->setFrom('from2@example.com')\n      break;\n    case \"futebol\":\n      $assunto = \"Candidato-me ao Futebol Futebol\";\n      $modalidade = \"Futebol\";\n      $mail->setFrom('from3@example.com')\n      break;\n  }\n$email->Subject   = $assunto;\n  $email->Body = \"\";\n}\n``. I replaced if($_SERVER['REQUEST_METHOD'] === 'POST') {for if (array_key_exists('email', $_POST)) { date_default_timezone_set('Etc/UTC');`.\nThen I added:\n$mail = new PHPMailer;\n    $mail->isSMTP();\n    $mail->Host = 'localhost';\n    $mail->Port = 25;\nI replaced $email->From     = emailusuario; for $mail->setFrom('from@example.com', 'First Last');\nI added and put the switch inside:\n```\n  if ($mail->addReplyTo($_POST['email'], $_POST['name'])) {\n        switch ($_POST['desportos'])\n  {\n    case \"basqf\":\n      $assunto = \"Candidato-me ao Basquete Feminino\";\n      $modalidade = \"Basquete Feminino\";\n      $mail->setFrom('from1@example.com')\n      break;\n    case \"basqm\":\n      $assunto = \"Candidato-me ao Basquete Masculino\";\n      $modalidade = \"Basquete Masculino\";\n      $mail->setFrom('from2@example.com')\n      break;\n    case \"futebol\":\n      $assunto = \"Candidato-me ao Futebol Futebol\";\n      $modalidade = \"Futebol\";\n      $mail->setFrom('from3@example.com')\n      break;\n  }\n$email->Subject   = $assunto;\n  $email->Body = \"\";\n}\n```. > sending an empty message body\nIt is just an example. My body is looooonger. Do you want me to put 800 lines of code? :-)\n\nyou're not using the $modalidade variable, you're not validating any of your inputs. The is all basic, simple PHP stuff you need to fix before you can expect more complex things to work.\n\nIt comes from the switch and is \"echoed\" inside $email->Body\nI want to remove $mail->setFrom('from@example.com', 'First Last'), because I do not want to receive the e-mails of people. The determined subjects of this switch will send to the e-ail of directors of each sport. Can I? The code like:\n```\n<?php\nrequire_once 'phpmailer/PHPMailerAutoload.php';\nif (array_key_exists('email', $_POST)) { \n   date_default_timezone_set('Etc/UTC');\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->Host = 'localhost';\n$mail->Port = 25;\n\n$mail->CharSet    = 'utf-8';\n$mail->SetLanguage(\"br\");\n$mail->IsHTML(true);\n\n$curso            = $_POST['cursos'];\n  $ip               = $_SERVER['REMOTE_ADDR'];\n  $nome             = $_POST['nome'];\n  $email            = $_POST['email'];\n  $idade            = $_POST['idade'];\n  $nascimento       = $_POST['nascimento'];\n  $cidade           = $_POST['cidade'];\n  $cpf              = $_POST['cpf'];\n  $rg               = $_POST['rg'];\n  $navegador        = $_SERVER['HTTP_USER_AGENT'];\n  $pais             = json_decode(file_get_contents(\"http://ipinfo.io/\"));\n  $perfilfacebook   = $_POST['perfilfacebook'];\n  $telefone         = $_POST['phone'];\n$mail->From     = $email;\n  $mail->FromName = $nome;\nif ($mail->addReplyTo($_POST['email'], $_POST['nome'])) {\n        switch ($_POST['desportos'])\n       {\n         case \"basqf\":\n           $assunto = \"Candidato-me ao Basquete Feminino\";\n           $modalidade = \"Basquete Feminino\";\n           $mail->setFrom('from1@example.com')\n           break;\n        case \"basqm\":\n          $assunto = \"Candidato-me ao Basquete Masculino\";\n          $modalidade = \"Basquete Masculino\";\n          $mail->setFrom('from2@example.com')\n          break;\n        case \"futebol\":\n          $assunto = \"Candidato-me ao Futebol Futebol\";\n          $modalidade = \"Futebol\";\n          $mail->setFrom('from3@example.com')\n         break;\n      }\n$email->Subject   = $assunto;\n$email->Body = \"Hello director of $modalidade! My name is $nome and my e-mail is $email\";\n\n}\nif(! $email->Send())  {\n    echo $naoenviada;\n    echo $erro . $Email->ErrorInfo . \"\";\n  }  else {\n    echo $enviada;\n  }\n}\n?>\n        role=\"form\">\n\n\n\n\ud83d\udc64\n\nphp echo _nome ?\n\n\n\u2709\ufe0f\n\nphp echo _email ?\n\n\n\ud83d\udcdd\n\nphp echo _escolher_desportos ?\nphp echo _basqf ?\nphp echo _basqm ?\nphp echo _futebol ?\nphp echo _futsalf ?\nphp echo _futsalm ?\nphp echo _handf ?\nphp echo _handm ?\nphp echo _jiujitsu ?\nphp echo _volei ?\n\nphp echo _pergunta_desportos ?\n\n\n<input class=\"indigo darken-3 waves-effect waves-light btn\" type=\"submit\" name=\"submit\" value=\"<?php echo $enviar ?>\"/>\n\n\n```\nDoes it seem better for you?. > sending an empty message body\nIt is just an example. My body is looooonger. Do you want me to put 800 lines of code? :-)\n\nyou're not using the $modalidade variable, you're not validating any of your inputs. The is all basic, simple PHP stuff you need to fix before you can expect more complex things to work.\n\nIt comes from the switch and is \"echoed\" inside $email->Body\nI want to remove $mail->setFrom('from@example.com', 'First Last'), because I do not want to receive the e-mails of people. The determined subjects of this switch will send to the e-ail of directors of each sport. Can I? The code like:\n```\n<?php\nrequire_once 'phpmailer/PHPMailerAutoload.php';\nif (array_key_exists('email', $_POST)) { \n   date_default_timezone_set('Etc/UTC');\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->Host = 'localhost';\n$mail->Port = 25;\n\n$mail->CharSet    = 'utf-8';\n$mail->SetLanguage(\"br\");\n$mail->IsHTML(true);\n\n$curso            = $_POST['cursos'];\n  $ip               = $_SERVER['REMOTE_ADDR'];\n  $nome             = $_POST['nome'];\n  $email            = $_POST['email'];\n  $idade            = $_POST['idade'];\n  $nascimento       = $_POST['nascimento'];\n  $cidade           = $_POST['cidade'];\n  $cpf              = $_POST['cpf'];\n  $rg               = $_POST['rg'];\n  $navegador        = $_SERVER['HTTP_USER_AGENT'];\n  $pais             = json_decode(file_get_contents(\"http://ipinfo.io/\"));\n  $perfilfacebook   = $_POST['perfilfacebook'];\n  $telefone         = $_POST['phone'];\n$mail->From     = $email;\n  $mail->FromName = $nome;\nif ($mail->addReplyTo($_POST['email'], $_POST['nome'])) {\n        switch ($_POST['desportos'])\n       {\n         case \"basqf\":\n           $assunto = \"Candidato-me ao Basquete Feminino\";\n           $modalidade = \"Basquete Feminino\";\n           $mail->setFrom('from1@example.com')\n           break;\n        case \"basqm\":\n          $assunto = \"Candidato-me ao Basquete Masculino\";\n          $modalidade = \"Basquete Masculino\";\n          $mail->setFrom('from2@example.com')\n          break;\n        case \"futebol\":\n          $assunto = \"Candidato-me ao Futebol Futebol\";\n          $modalidade = \"Futebol\";\n          $mail->setFrom('from3@example.com')\n         break;\n      }\n$email->Subject   = $assunto;\n$email->Body = \"Hello director of $modalidade! My name is $nome and my e-mail is $email\";\n\n}\nif(! $email->Send())  {\n    echo $naoenviada;\n    echo $erro . $Email->ErrorInfo . \"\";\n  }  else {\n    echo $enviada;\n  }\n}\n?>\n        role=\"form\">\n\n\n\n\ud83d\udc64\n\nphp echo _nome ?\n\n\n\u2709\ufe0f\n\nphp echo _email ?\n\n\n\ud83d\udcdd\n\nphp echo _escolher_desportos ?\nphp echo _basqf ?\nphp echo _basqm ?\nphp echo _futebol ?\nphp echo _futsalf ?\nphp echo _futsalm ?\nphp echo _handf ?\nphp echo _handm ?\nphp echo _jiujitsu ?\nphp echo _volei ?\n\nphp echo _pergunta_desportos ?\n\n\n<input class=\"indigo darken-3 waves-effect waves-light btn\" type=\"submit\" name=\"submit\" value=\"<?php echo $enviar ?>\"/>\n\n\n```\nDoes it seem better for you?. I fixed my errors and updated my comment. . I fixed my errors and updated my comment. . > Other little things - You're not validating $_POST['desportos'], and you have no default case so your switch may not succeed in setting those vars. You're overwriting Subject and Body after you set them, but that may be just for this ticket :)\nNo, it worked very well when I chose the determined subject, but without STMP and without these codes you suggested. \nThe $_POST['desportos'] comes from the select and is demanded by switch, inside the which \"cases\" detect the option value from the select. As-tu compris ?\nI have just had an interesting analysis after doing a test without STMP, if I sent my same own e-mail (ggr@gmail.com) as sender to my same own e-mail as receiver (ggr@gmail.cm), Gmail classified it as spoof because I was spoofing myself. But if I sent my e-mail (ggr@gmail.com) as sender to my different e-mail (ggr@gmail.com) as receiver, Gmail didn't classify it as spoof because I wasn't spoofing myself. . > Other little things - You're not validating $_POST['desportos'], and you have no default case so your switch may not succeed in setting those vars. You're overwriting Subject and Body after you set them, but that may be just for this ticket :)\nNo, it worked very well when I chose the determined subject, but without STMP and without these codes you suggested. \nThe $_POST['desportos'] comes from the select and is demanded by switch, inside the which \"cases\" detect the option value from the select. As-tu compris ?\nI have just had an interesting analysis after doing a test without STMP, if I sent my same own e-mail (ggr@gmail.com) as sender to my same own e-mail as receiver (ggr@gmail.cm), Gmail classified it as spoof because I was spoofing myself. But if I sent my e-mail (ggr@gmail.com) as sender to my different e-mail (ggr@gmail.com) as receiver, Gmail didn't classify it as spoof because I wasn't spoofing myself. . To validate that, I do not know how to fix or figure. :-/ Sorry!. To validate that, I do not know how to fix or figure. :-/ Sorry!. I copied my last code with your suggestions and it worked nothing. :-/. I copied my last code with your suggestions and it worked nothing. :-/. It worked nothing either. . It worked nothing either. . Do you know why I put switch?. Do you know why I put switch?. Then I want only the spoofing solution. To solution the spoofing problem, look that last code and does it look OK for you? . Then I want only the spoofing solution. To solution the spoofing problem, look that last code and does it look OK for you? . I wrote up everything and copied and tested your example that you gave and nothing worked.. I wrote up everything and copied and tested your example that you gave and nothing worked.. I added many things from other examples, nothing worked. Your project has only errors. I gave up. I'm going to find an alternative.. I added many things from other examples, nothing worked. Your project has only errors. I gave up. I'm going to find an alternative.. Ah, it showed \"Sorry, message failed\". I have to add $mail->ErrorInfo; to see the errors. . Ah, it showed \"Sorry, message failed\". I have to add $mail->ErrorInfo; to see the errors. . I fixed and I removed user-submitted email. Impossible, it didn't want to show the errors and showed only the only error:\n\n. I fixed and I removed user-submitted email. Impossible, it didn't want to show the errors and showed only the only error:\n\n. I do not have access to php.ini. \nCan I send the attached zip to you by e-mail?. I do not have access to php.ini. \nCan I send the attached zip to you by e-mail?. I got visible errors!\nWarning: Attempt to assign property of non-object in .../desportos-backup.php on line 109\nWarning: Attempt to assign property of non-object in .../desportos-backup.php on line 110\n109: $email->Subject   = $assunto;\n110: $email->Body = \"bablablabla\";\nFatal error: Uncaught Error: Call to a member function Send() on string in .../desportos-backup.php:513 Stack trace: #0 {main} thrown in .../desportos-backup.php on line 513\nif(! $email->Send())  {\n    echo $naoenviada;\n    echo $erro . $Email->ErrorInfo . \"</p></div>\";\n  }  else {\n    echo $enviada;\n  }\nIs $mail->addAddress($email_sport) ($email_sport comes from the switch) bad; . I got visible errors!\nWarning: Attempt to assign property of non-object in .../desportos-backup.php on line 109\nWarning: Attempt to assign property of non-object in .../desportos-backup.php on line 110\n109: $email->Subject   = $assunto;\n110: $email->Body = \"bablablabla\";\nFatal error: Uncaught Error: Call to a member function Send() on string in .../desportos-backup.php:513 Stack trace: #0 {main} thrown in .../desportos-backup.php on line 513\nif(! $email->Send())  {\n    echo $naoenviada;\n    echo $erro . $Email->ErrorInfo . \"</p></div>\";\n  }  else {\n    echo $enviada;\n  }\nIs $mail->addAddress($email_sport) ($email_sport comes from the switch) bad; . I fixed three errors, but other errors are still there. . I fixed three errors, but other errors are still there. . I fixed all other errors, but it gave the last error:\n```\nThe message wasn't sent\nErro: SMTP Connect() falhou. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n```. I fixed all other errors, but it gave the last error:\n```\nThe message wasn't sent\nErro: SMTP Connect() falhou. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n```. Too bad, I have just read: https://productforums.google.com/forum/#!topic/gmail/9KCgzXY4G_c. I read again this whole discussion.\nWithout STMP, would Gmail accuse the e-mails of spoofing? So you argued that only $email->From = $emailusuario; caused spoof.\nThen what is the diference between $mail->addReplyTo, $mail->setFrom and $email->From? Do all these variables cause spoof without STMP? I am confused. Salut @Synchro ,\nEn utilisant l'ancienne version de PHPMailer et avant, tout allait bien et nous recevions normalement les e-mails. Mas comme vous avez fait l'upgrade de la nouvelle version du PHPMailer, j'ai ajout\u00e9 l'upgrade de la nouvelle version.\nDepuis l'upgrade et avec les configurations du SMTP, je recevais normalement les e-mail parce j'utilisais l-email de Gmail. Mais comme l'association athl\u00e9tique utilise le SMTP diff\u00e9rent, ils ne re\u00e7oivent pas les e-mails, je devais reajouter et readjuster les configurations du SMTP et \u00e7a ne fonctionne rien. Leur SMTP utilise le port 587. Et le TLS ne connait pas leur SMTP.\nJ'ai ajout\u00e9 les commentaires en fran\u00e7ais pour que vous puisse comprendre. \nVous m'avez sugg\u00e9r\u00e9 que j'ajoutais if (array_key_exists('email', $_POST) et if ($mail->addReplyTo($_POST['email'], $_POST['name'])), mais je les considere inutiles. \nVoici le code-source :\n```php\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\ndate_default_timezone_set('America/Sao_Paulo');\nrequire 'phpmailer/src/Exception.php';\nrequire 'phpmailer/src/PHPMailer.php';\nrequire 'phpmailer/src/SMTP.php';\nif ($_SERVER['REQUEST_METHOD'] === 'POST') \n{\n$curso             = $_POST['cursos'];                                      // pr\u00e9nom du cours de qui envoie le formulaire\n  $emailusuario      = $_POST['email'];                                       // l'e-mail de qui envoie le formulaire\n  $faculdade         = $_POST['faculdades'];                                  // pr\u00e9nom de l'universit\u00e9 de qui envoie le formulaire\n  $idade             = $_POST['idade'];                                       // \u00e2ge de qui envoie le formulaire\n  $ip                = $_SERVER['REMOTE_ADDR'];                               // IP de qui envoie le formulaire\n  $mensagem          = $_POST['mensagem'];                                    // message de qui envoie le formulaire\n  $navegador         = $_SERVER['HTTP_USER_AGENT'];                           // le browser de l'utilisateur qui envoie le formulaire\n  $nomeusuario       = $_POST['nome'];                                        // pr\u00e9nom et nom de qui envoie le formulaire\n  $pais              = json_decode(file_get_contents(\"http://ipinfo.io/\"));    // IP du pays de qui envoie le formulaire\n  $telefone          = $_POST['phone'];                                       // t\u00e9l\u00e9phone de qui envoie le formulaire\n$email             = new PHPMailer();\ntry \n  {\n      $email->CharSet    = 'utf-8';\n      $email->setLanguage('br', '/phpmailer/language/');\n      $email->isHTML(true);\n  $email->AddEmbeddedImage(\"imagens/logo-formulario.png\", \"logo-formulario\", \"logo-formulario.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/heart.png\", \"coracao\", \"heart.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/materialize.png\", \"materialize\", \"materialize.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/phpmailer.png\", \"phpmailer\", \"phpmailer.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/atom.png\", \"atom\", \"atom.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/apple.png\", \"apple\", \"apple.png\", 'base64', 'image/png');\n\n  $email->SMTPDebug = 2;                                 // Enable verbose debug output\n  $email->isSMTP();                                      // Set mailer to use SMTP\n  $email->Host = 'smtp.atleticaunisal.com.br';           // Specify main and backup SMTP servers\n  $email->SMTPAuth = true;                               // Enable SMTP authentication\n  $email->Username = 'contato@atleticaunisal.com.br';    // SMTP username\n  $email->Password = 'atleticaunisalorena';            // SMTP password\n  $email->SMTPSecure = 'tls';                            // Enable TLS encryption, `ssl` also accepted\n  $email->Port = 587;                                    // TCP port to connect to\n\n  $email->setFrom('contato@atleticaunisal.com.br', 'Atl\u00e9tica UNISAL'); \n  $email->From        = $emailusuario;  // l'e-mail de qui envoie le formulaire\n  $email->FromName    = $nomeusuario;   // pr\u00e9nom et nom de qui envoie le formulaire\n\n  switch ($_POST['sectores'])\n  {\n    case 'basqf':\n      $assunto = \"Contato \u2013 Basquete Feminino\";\n      $departamento = \"basqf@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"Basquete Feminino\";\n      $profissao = \"diretora\";\n      break;\n    case 'basqm':\n      $assunto = \"Contato \u2013 Basquete Masculino\";\n      $departamento = \"basqm@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"Basquete Masculino\";\n      $profissao = \"diretor\";\n      break;\n    case \"dpf\":\n      $assunto = \"Contato \u2013 Departamento Financeiro\";\n      $departamento = \"dpf@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"Departamento Financeiro\";\n      $profissao = \"diretor(a)\";\n      break;\n    case \"dpm\":\n      $assunto = \"Contato \u2013 Departamento de Marketing\";\n      $departamento = \"dpm@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"Departamento de Marketing\";\n      $profissao = \"diretor(a)\";\n      break;\n    case \"dps\":\n      $assunto = \"Contato \u2013 Departamento Social\";\n      $departamento = \"dps@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"Departamento Social\";\n      $profissao = \"diretor(a)\";\n      break;\n    case 'duvidas':\n      $assunto = \"Atl\u00e9tica UNISAL \u2013 D\u00favidas\";\n      $departamento = \"contato@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas\";\n      $modalidade = \"Atl\u00e9tica UNISAL\";\n      $profissao = \"gerente\";\n      break;\n    case 'futebol':\n      $assunto = \"Contato \u2013 Futebol\";\n      $departamento = \"futebol@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"BFutebol\";\n      $profissao = \"diretor\";\n      break;\n    case 'futsalf':\n      $assunto = \"Contato \u2013 Futsal Feminino\";\n      $departamento = \"futsalf@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"Futsal Feminino\";\n      $profissao = \"diretora\";\n      break;\n    case 'futsalm':\n      $assunto = \"Contato \u2013 Futsal Masculino\";\n      $departamento = \"futsalm@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"Futsal Masculino\";\n      $profissao = \"diretor\";\n      break;\n    case 'handf':\n      $assunto = \"Contato \u2013 Handebol Feminino\";\n      $departamento = \"handf@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"Handebol Feminino\";\n      $profissao = \"diretora\";\n      break;\n    case 'handm':\n      $assunto = \"Contato \u2013 Handebol Masculino\";\n      $departamento = \"handm@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"Handebol Masculino\";\n      $profissao = \"diretor\";\n      break;\n    case 'jiujitsu':\n      $assunto = \"Contato \u2013 Jiu-jitsu Brasileiro\";\n      $departamento = \"jiujitsu@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"Jiu-jitsu Brasileiro\";\n      $profissao = \"diretor\";\n      break;\n    case 'sugestoes':\n      $assunto = \"Atl\u00e9tica UNISAL \u2013 Sugest\u00f5es\";\n      $departamento = \"contato@atleticaunisal.com.br\";\n      $indicao = \"sugest\u00f5es\";\n      $modalidade = \"Atl\u00e9tica UNISAL\";\n      $profissao = \"gerente\";\n      break;\n    case 'tubatera':\n      $assunto = \"Contato \u2013 Tubatera\";\n      $departamento = \"tubatera@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"Tubatera\";\n      $profissao = \"diretor\";\n      break;\n    case 'voleif':\n      $assunto = \"Contato \u2013 V\u00f4lei Feminino\";\n      $departamento = \"voleif@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"V\u00f4lei\";\n      $profissao = \"diretor\";\n      break;\n    case 'voleim':\n      $assunto = \"Contato \u2013 V\u00f4lei Masculino\";\n      $departamento = \"voleim@atleticaunisal.com.br\";\n      $indicao = \"d\u00favidas ou sugest\u00f5es\";\n      $modalidade = \"V\u00f4lei\";\n      $profissao = \"diretor\";\n      break;\n  }\n\n  $email->Body = \"<!DOCTYPE html><html> (...)\";\n  $email->Subject   = $assunto;         // sujet di qui envoie le formulaire\n  $email->addAddress($departamento);    // adresse di qui re\u00e7oit\n  $email->send();\n\n  echo _enviada;            // message de succ\u00e8s\n\n} \ncatch (Exception $e) \n  {\n    echo _naoenviada;       // message d'\u00e9chec\n    echo _erro . $email->ErrorInfo . \"\";\n  }\n}\n```\nEt les fautes : \n2018-03-13 20:59:47 SERVER -> CLIENT: 220 proxy.email-ssl.com.br ESMTP Postfix (Debian/GNU)\n2018-03-13 20:59:47 CLIENT -> SERVER: EHLO atleticaunisal.com.br\n2018-03-13 20:59:47 SERVER -> CLIENT: 250-proxy.email-ssl.com.br250-PIPELINING250-SIZE 50000000250-VRFY250-ETRN250-STARTTLS250-AUTH PLAIN LOGIN250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\n2018-03-13 20:59:47 CLIENT -> SERVER: STARTTLS\n2018-03-13 20:59:47 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nSMTP Error: Could not connect to SMTP host.\n2018-03-13 20:59:47 CLIENT -> SERVER: QUIT\n2018-03-13 20:59:47 SERVER -> CLIENT: \n2018-03-13 20:59:47 SMTP ERROR: QUIT command failed:. Si vous voulez voir le fichier entier, le voici:\ncontacto.php\nVous pouvez tester le formulaire du site de l'association athl\u00e9tique: http://atleticaunisal.com.br/contacto.php?hl=fr. Il a d\u00e9j\u00e0 des versions fran\u00e7aise m\u00e9tropolitaine et qu\u00e9b\u00e9coise. \n. R\u00e9f\u00e9rez-vous \u00e0 l'Encryption Flavours ou au Certificate verification failure ?. Malgr\u00e9 de mon macOS ne pas avoir openssl.cafile dans le premier commande, mais le second commande fonctionne :\n```shell\n$ php -i | grep cafile\nopenssl.cafile => no value => no value\n$ echo QUIT | openssl s_client -starttls smtp -crlf -connect smtp.atleticaunisal.com.br:587\nCONNECTED(00000005)\ndepth=1 C = US, O = \"thawte, Inc.\", CN = thawte SSL CA - G2\nverify error:num=20:unable to get local issuer certificate\nverify return:0\n\nCertificate chain\n 0 s:/C=BR/ST=Sao Paulo/L=Sao Paulo/O=LOCAWEB LTDA/OU=Hospedagem de sites/CN=*.locaweb.com.br\n   i:/C=US/O=thawte, Inc./CN=thawte SSL CA - G2\n 1 s:/C=US/O=thawte, Inc./CN=thawte SHA256 SSL CA\n   i:/C=US/O=thawte, Inc./OU=Certification Services Division/OU=(c) 2008 thawte, Inc. - For authorized use only/CN=thawte Primary Root CA - G3\n 2 s:/C=US/O=thawte, Inc./CN=thawte SSL CA - G2\n   i:/C=US/O=thawte, Inc./OU=Certification Services Division/OU=(c) 2006 thawte, Inc. - For authorized use only/CN=thawte Primary Root CA\n\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIF3TCCBMWgAwIBAgIQJ0dIUx5xnvtgtbhKcUCdKjANBgkqhkiG9w0BAQsFADBB\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMdGhhd3RlLCBJbmMuMRswGQYDVQQDExJ0\naGF3dGUgU1NMIENBIC0gRzIwHhcNMTcwODA0MDAwMDAwWhcNMTgwNjA1MjM1OTU5\nWjCBhTELMAkGA1UEBhMCQlIxEjAQBgNVBAgMCVNhbyBQYXVsbzESMBAGA1UEBwwJ\nU2FvIFBhdWxvMRUwEwYDVQQKDAxMT0NBV0VCIExUREExHDAaBgNVBAsME0hvc3Bl\nZGFnZW0gZGUgc2l0ZXMxGTAXBgNVBAMMECoubG9jYXdlYi5jb20uYnIwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDU9Mqs03GZyuD1DrbFoBfHnlyeanXz\nr7X3TvbQf8bs6nvaSLqOwfF3LIPFrxrMAEa7VGkMOs52M9US7bXnAcaV7NBvBRPh\nQetjmjzCQ/aADM9kGLSqSq6HEnupMzrsw1WogrOWXQyLon8YE925IhvwsqM0UM2/\nd6102hTlddR3HCwHOa/3El0WxfD2DIsNJ4Su8WfNXKYIm1yBxkadLYIbq5ClLAI/\nVBfjFXd/OnTsGY0FaJM515pK84pKzX5A/0Y0f3kCzkc92ktj0ac/t1yOUX+tGW/d\noxyvFJh/VhGFoGXLdnDdnlStd/ZFcinpe7CWcoJnxHvfDKowBe+fsJopAgMBAAGj\nggKKMIIChjArBgNVHREEJDAighAqLmxvY2F3ZWIuY29tLmJygg5sb2Nhd2ViLmNv\nbS5icjAJBgNVHRMEAjAAMG4GA1UdIARnMGUwYwYGZ4EMAQICMFkwJgYIKwYBBQUH\nAgEWGmh0dHBzOi8vd3d3LnRoYXd0ZS5jb20vY3BzMC8GCCsGAQUFBwICMCMMIWh0\ndHBzOi8vd3d3LnRoYXd0ZS5jb20vcmVwb3NpdG9yeTAOBgNVHQ8BAf8EBAMCBaAw\nHwYDVR0jBBgwFoAUwk9IV/zRT5rAXTh9DgXb2S61UmAwKwYDVR0fBCQwIjAgoB6g\nHIYaaHR0cDovL3RqLnN5bWNiLmNvbS90ai5jcmwwHQYDVR0lBBYwFAYIKwYBBQUH\nAwEGCCsGAQUFBwMCMFcGCCsGAQUFBwEBBEswSTAfBggrBgEFBQcwAYYTaHR0cDov\nL3RqLnN5bWNkLmNvbTAmBggrBgEFBQcwAoYaaHR0cDovL3RqLnN5bWNiLmNvbS90\nai5jcnQwggEEBgorBgEEAdZ5AgQCBIH1BIHyAPAAdwDd6x0reg1PpiCLga2BaHB+\nLo6dAdVciI09EcTNtuy+zAAAAV2umd06AAAEAwBIMEYCIQDcgkgGk49ufkI70RLD\nrqglp4tuve7FGGka6Z2w9T9BWwIhAP3uCtUxgjJO+anvJqisjfUHEQAstQWBhtWX\non1GhJiXAHUApLkJkLQYWBSHuxOizGdwCjw1mAT5G9+443fNDsgN3BAAAAFdrpne\nyAAABAMARjBEAiAZ8RmIjMcsI7zyggVB1kJVvMSvBKHBmzG7VmJgtyKalQIgftuB\nwnJa7R1/A35zacemk7xKe/9uxj2aNQMKG4/i/QMwDQYJKoZIhvcNAQELBQADggEB\nAKoqxuynHOThNY/GsNTaW51B2LDkfCQOyorS0Le5fdL/rdouKcH9KQ6irAIqCOeo\nkNrEQ+P/E/lot+LZ4m3xWj/vannCfbAdNOoboJ63R/8UwVZYdU9hGwOnh1dTutAv\n4uagtN5NDcyF6XY7rILtdBtI/R3XX5Xk8JPuybBZnl4F7kEtAM3coP3efDggogjg\nkYh1pwjCKrb+OIbQ42YJQvU4h6rPLcyiMGNDfK1gZHuTtk8Hy9ZE10YTGUJWvc5X\ngtH4MsLyzT7nKLEUSdc6GVeVeadQ1L9h9M8eh2Wm7z0fnXWPH4tTxnuZ/QcKs1M8\nod4zKv+tRHxRQUq4gp7GLrc=\n-----END CERTIFICATE-----\nsubject=/C=BR/ST=Sao Paulo/L=Sao Paulo/O=LOCAWEB LTDA/OU=Hospedagem de sites/CN=.locaweb.com.br\nissuer=/C=US/O=thawte, Inc./CN=thawte SSL CA - G2\n---\nNo client certificate CA names sent\n---\nSSL handshake has read 4845 bytes and written 479 bytes\n---\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1.2\n    Cipher    : ECDHE-RSA-AES256-GCM-SHA384\n    Session-ID: CBA5AA19FCA800D6ADF8EB621BBFF651619381643D1F869EEE9982A0CCD855FE\n    Session-ID-ctx: \n    Master-Key: A8AEF91DE91552FA516B44F708F0291373A7CB10612542EA424DE37411A06C4C6710EC369CB196F0CEC562EE8D47A3D3\n    TLS session ticket lifetime hint: 7200 (seconds)\n    TLS session ticket:\n    0000 - 2c fe d4 da 97 e4 5f 87-76 bc 45 14 20 0d c4 05   ,......v.E. ...\n    0010 - 37 71 6e 49 0c d9 8c 70-89 b3 4d aa 36 85 6f 4a   7qnI...p..M.6.oJ\n    0020 - 83 19 87 eb 5f 21 d5 41-32 85 2f b1 29 0e 56 2a   ....!.A2./.).V\n    0030 - b0 98 0a 2b 68 c1 82 9e-35 29 c1 53 04 ec 6a a3   ...+h...5).S..j.\n    0040 - ac 28 4a 03 19 3e be 42-21 8c 34 e0 67 de c6 94   .(J..>.B!.4.g...\n    0050 - ff ab b2 2e 0f 0d e0 0c-3c 7f 91 5f 66 28 cb 07   ........<.._f(..\n    0060 - 70 27 87 eb 0b 51 0c c5-97 72 15 66 5b 0c 77 cd   p'...Q...r.f[.w.\n    0070 - 69 e8 d9 1f 39 12 b1 b8-30 cd e6 fb 85 c7 5d fb   i...9...0.....].\n    0080 - 55 8f 91 21 23 47 7d 33-42 d8 ff e5 78 2c f4 bf   U..!#G}3B...x,..\n    0090 - ce a7 6a 06 83 dc 72 c6-66 93 58 c1 f0 5e 14 8c   ..j...r.f.X..^..\nStart Time: 1520984537\nTimeout   : 300 (sec)\nVerify return code: 0 (ok)\n\n\n250 DSN\nDONE\n```\nEst-ce que c'est \u00e0 cause de No client certificate CA names sent ? Ou d'autre chose ?. J'ai ex\u00e9cut\u00e9 ce commande-ci et \u00e7a fonctionne. J'ai install\u00e9 ce paquet, mais apr\u00e8s en utilisant php -i | grep cafile et echo QUIT | openssl s_client -starttls smtp -crlf -connect smtp.atleticaunisal.com.br:587, rien fonctionne rien. J'utilise PHP 7.2. Voici :\n```shell\n$ composer require paragonie/certainty\nUsing version ^1.0 for paragonie/certainty\n./composer.json has been created\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nPackage operations: 8 installs, 0 updates, 0 removals\n  - Installing paragonie/random_compat (v2.0.11): Downloading (100%)       \n  - Installing paragonie/sodium_compat (v1.6.0): Downloading (100%)       \n  - Installing paragonie/constant_time_encoding (v2.2.2): Downloading (100%)       \n  - Installing guzzlehttp/promises (v1.3.1): Downloading (100%)       \n  - Installing psr/http-message (1.0.1): Downloading (100%)       \n  - Installing guzzlehttp/psr7 (1.4.2): Downloading (100%)       \n  - Installing guzzlehttp/guzzle (6.3.0): Downloading (100%)       \n  - Installing paragonie/certainty (v1.0.2): Downloading (100%)       \nparagonie/random_compat suggests installing ext-libsodium (Provides a modern crypto API that can be used to generate random bytes.)\nparagonie/sodium_compat suggests installing ext-libsodium (PHP < 7.0: Better performance, password hashing (Argon2i), secure memory management (memzero), and better security.)\nguzzlehttp/guzzle suggests installing psr/log (Required for using the Log middleware)\nWriting lock file\nGenerating autoload files\n$ php -i | grep cafile\nopenssl.cafile => no value => no value\n$ echo QUIT | openssl s_client -starttls smtp -crlf -connect smtp.atleticaunisal.com.br:587\nCONNECTED(00000005)\ndepth=1 C = US, O = \"thawte, Inc.\", CN = thawte SSL CA - G2\nverify error:num=20:unable to get local issuer certificate\nverify return:0\n\nCertificate chain\n 0 s:/C=BR/ST=Sao Paulo/L=Sao Paulo/O=LOCAWEB LTDA/OU=Hospedagem de sites/CN=*.locaweb.com.br\n   i:/C=US/O=thawte, Inc./CN=thawte SSL CA - G2\n 1 s:/C=US/O=thawte, Inc./CN=thawte SHA256 SSL CA\n   i:/C=US/O=thawte, Inc./OU=Certification Services Division/OU=(c) 2008 thawte, Inc. - For authorized use only/CN=thawte Primary Root CA - G3\n 2 s:/C=US/O=thawte, Inc./CN=thawte SSL CA - G2\n   i:/C=US/O=thawte, Inc./OU=Certification Services Division/OU=(c) 2006 thawte, Inc. - For authorized use only/CN=thawte Primary Root CA\n\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIF3TCCBMWgAwIBAgIQJ0dIUx5xnvtgtbhKcUCdKjANBgkqhkiG9w0BAQsFADBB\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMdGhhd3RlLCBJbmMuMRswGQYDVQQDExJ0\naGF3dGUgU1NMIENBIC0gRzIwHhcNMTcwODA0MDAwMDAwWhcNMTgwNjA1MjM1OTU5\nWjCBhTELMAkGA1UEBhMCQlIxEjAQBgNVBAgMCVNhbyBQYXVsbzESMBAGA1UEBwwJ\nU2FvIFBhdWxvMRUwEwYDVQQKDAxMT0NBV0VCIExUREExHDAaBgNVBAsME0hvc3Bl\nZGFnZW0gZGUgc2l0ZXMxGTAXBgNVBAMMECoubG9jYXdlYi5jb20uYnIwggEiMA0G\nCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDU9Mqs03GZyuD1DrbFoBfHnlyeanXz\nr7X3TvbQf8bs6nvaSLqOwfF3LIPFrxrMAEa7VGkMOs52M9US7bXnAcaV7NBvBRPh\nQetjmjzCQ/aADM9kGLSqSq6HEnupMzrsw1WogrOWXQyLon8YE925IhvwsqM0UM2/\nd6102hTlddR3HCwHOa/3El0WxfD2DIsNJ4Su8WfNXKYIm1yBxkadLYIbq5ClLAI/\nVBfjFXd/OnTsGY0FaJM515pK84pKzX5A/0Y0f3kCzkc92ktj0ac/t1yOUX+tGW/d\noxyvFJh/VhGFoGXLdnDdnlStd/ZFcinpe7CWcoJnxHvfDKowBe+fsJopAgMBAAGj\nggKKMIIChjArBgNVHREEJDAighAqLmxvY2F3ZWIuY29tLmJygg5sb2Nhd2ViLmNv\nbS5icjAJBgNVHRMEAjAAMG4GA1UdIARnMGUwYwYGZ4EMAQICMFkwJgYIKwYBBQUH\nAgEWGmh0dHBzOi8vd3d3LnRoYXd0ZS5jb20vY3BzMC8GCCsGAQUFBwICMCMMIWh0\ndHBzOi8vd3d3LnRoYXd0ZS5jb20vcmVwb3NpdG9yeTAOBgNVHQ8BAf8EBAMCBaAw\nHwYDVR0jBBgwFoAUwk9IV/zRT5rAXTh9DgXb2S61UmAwKwYDVR0fBCQwIjAgoB6g\nHIYaaHR0cDovL3RqLnN5bWNiLmNvbS90ai5jcmwwHQYDVR0lBBYwFAYIKwYBBQUH\nAwEGCCsGAQUFBwMCMFcGCCsGAQUFBwEBBEswSTAfBggrBgEFBQcwAYYTaHR0cDov\nL3RqLnN5bWNkLmNvbTAmBggrBgEFBQcwAoYaaHR0cDovL3RqLnN5bWNiLmNvbS90\nai5jcnQwggEEBgorBgEEAdZ5AgQCBIH1BIHyAPAAdwDd6x0reg1PpiCLga2BaHB+\nLo6dAdVciI09EcTNtuy+zAAAAV2umd06AAAEAwBIMEYCIQDcgkgGk49ufkI70RLD\nrqglp4tuve7FGGka6Z2w9T9BWwIhAP3uCtUxgjJO+anvJqisjfUHEQAstQWBhtWX\non1GhJiXAHUApLkJkLQYWBSHuxOizGdwCjw1mAT5G9+443fNDsgN3BAAAAFdrpne\nyAAABAMARjBEAiAZ8RmIjMcsI7zyggVB1kJVvMSvBKHBmzG7VmJgtyKalQIgftuB\nwnJa7R1/A35zacemk7xKe/9uxj2aNQMKG4/i/QMwDQYJKoZIhvcNAQELBQADggEB\nAKoqxuynHOThNY/GsNTaW51B2LDkfCQOyorS0Le5fdL/rdouKcH9KQ6irAIqCOeo\nkNrEQ+P/E/lot+LZ4m3xWj/vannCfbAdNOoboJ63R/8UwVZYdU9hGwOnh1dTutAv\n4uagtN5NDcyF6XY7rILtdBtI/R3XX5Xk8JPuybBZnl4F7kEtAM3coP3efDggogjg\nkYh1pwjCKrb+OIbQ42YJQvU4h6rPLcyiMGNDfK1gZHuTtk8Hy9ZE10YTGUJWvc5X\ngtH4MsLyzT7nKLEUSdc6GVeVeadQ1L9h9M8eh2Wm7z0fnXWPH4tTxnuZ/QcKs1M8\nod4zKv+tRHxRQUq4gp7GLrc=\n-----END CERTIFICATE-----\nsubject=/C=BR/ST=Sao Paulo/L=Sao Paulo/O=LOCAWEB LTDA/OU=Hospedagem de sites/CN=*.locaweb.com.br\nissuer=/C=US/O=thawte, Inc./CN=thawte SSL CA - G2\n---\nNo client certificate CA names sent\n---\nSSL handshake has read 4845 bytes and written 479 bytes\n---\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1.2\n    Cipher    : ECDHE-RSA-AES256-GCM-SHA384\n    Session-ID: 4FF8158BC0664F35811923F14B8EF5A049E2AB547D36E6EEAA6C2E6024DD9E10\n    Session-ID-ctx: \n    Master-Key: C80F480E46EE162B168F864386D729920C9A91247C56C866DAC32E93C2003194A530FD8E4045147EC42D8455245219D4\n    TLS session ticket lifetime hint: 7200 (seconds)\n    TLS session ticket:\n    0000 - 16 4b 0a 61 41 68 af 81-04 c8 fc 10 74 c6 18 2e   .K.aAh......t...\n    0010 - f1 88 9b 52 13 f9 be b9-f6 8c 6b 13 c7 84 36 39   ...R......k...69\n    0020 - 18 c6 4a fa 4c 23 33 a9-a0 f3 47 65 b1 c5 51 0c   ..J.L#3...Ge..Q.\n    0030 - 36 0b e7 cf 0b 3f ed 71-b6 3a 44 08 6c c8 61 5c   6....?.q.:D.l.a\\\n    0040 - 9b 3f 2d 84 7e 51 d0 bb-e8 4d 10 6d fd a4 9a bd   .?-.~Q...M.m....\n    0050 - e2 23 d4 7e e2 b2 71 4a-b5 5a 32 d4 9e 7a ef e6   .#.~..qJ.Z2..z..\n    0060 - 87 2c 6f bb 3e 85 01 27-44 c1 5b 22 5b ac 6a 9d   .,o.>..'D.[\"[.j.\n    0070 - 67 53 57 89 f1 92 a5 f2-9e 92 93 d5 3c 60 e5 2b   gSW.........<`.+\n    0080 - d8 a3 6f f8 d5 98 30 4c-f9 93 36 4f 18 b2 4a 92   ..o...0L..6O..J.\n    0090 - 89 d2 30 fd d7 cb 27 ed-20 d9 22 6a 3e 96 e6 6f   ..0...'. .\"j>..o\nStart Time: 1520986296\nTimeout   : 300 (sec)\nVerify return code: 0 (ok)\n\n\n250 DSN\nDONE\n``. Then I have to copy the guzzlehttp, paragonie and par folders to web site server, because without them, it wouldn't work. . The problem is that I do not havecacert.pem`. . I did everything what the guide taught, but it worked nothing. Maybe the guide didn't tell which fils to require. . >you download the CA cert file\nI am confused, are you referring to any CA cert of paragonie/certainly/data/* or that CA cert that I downloaded from my terminal to generate with the athletic association's SMTP?\n\nthen alter your php.ini to point at it - that's it.\n\nThe problem is that php.ini is local and other users (visitors) do not have that configured php.ini and can fail to send the form contact. I do not know if I can add php.ini to the web site server. . Which is one of them to uncomment?\nphp\n[openssl]\n;openssl.cafile=\n;openssl.capath=. I need to know if it is all right, if the order is correct and if I need to add Paragonie too:\n```shell\ntry \n  {\n      $email->CharSet    = 'utf-8';\n      $email->setLanguage('br', '/phpmailer/language/');\n      $email->isHTML(true);\n  $email->AddEmbeddedImage(\"imagens/logo-formulario.png\", \"logo-formulario\", \"logo-formulario.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/heart.png\", \"coracao\", \"heart.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/materialize.png\", \"materialize\", \"materialize.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/phpmailer.png\", \"phpmailer\", \"phpmailer.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/atom.png\", \"atom\", \"atom.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/apple.png\", \"apple\", \"apple.png\", 'base64', 'image/png');\n\n  $email->SMTPOptions = \n  [\n      'ssl' => \n      [\n          'verify_peer' => true,\n          'verify_peer_name' => true,\n          'allow_self_signed' => false,\n          'cafile' => 'paragonie/certainty/data/cacert-2018-03-07.pem'\n      ]\n  ];\n  $email->SMTPDebug = 2;                                    // Enable verbose debug output\n  $email->isSMTP();                                         // Set mailer to use SMTP\n  $email->Host = 'smtp.atleticaunisal.com.br';              // Specify main and backup SMTP servers\n  $email->SMTPAuth = true;                                  // Enable SMTP authentication\n  $email->Username = 'contato@atleticaunisal.com.br';       // SMTP username\n  $email->Password = 'atleticaunisalorena';                 // SMTP password\n  $email->SMTPSecure = 'tls';                               // Enable TLS encryption, `ssl` also accepted\n  $email->Port = 587;                                       // TCP port to connect to\n  $email->Host = 'tls://smtp.atleticaunisal.com.br:587';\n\n  $email->setFrom('contato@atleticaunisal.com.br', 'Atl\u00e9tica UNISAL');\n\n```\nor\n```php\nuse ParagonIE\\Certainty\\RemoteFetch;\n$latest = (new RemoteFetch())->getLatestBundle();\n$latest->createSymlink('paragonie/certainty/data/cacert-2018-03-07.pem', true);\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\ndate_default_timezone_set('America/Sao_Paulo');\nrequire 'phpmailer/src/Exception.php';\nrequire 'phpmailer/src/PHPMailer.php';\nrequire 'phpmailer/src/SMTP.php';\nif ($_SERVER['REQUEST_METHOD'] === 'POST') \n{\n$curso             = $_POST['cursos'];                                      // pr\u00e9nom du cours de qui envoie le formulaire\n  $emailusuario      = $_POST['email'];                                       // l'e-mail de qui envoie le formulaire\n  $faculdade         = $_POST['faculdades'];                                  // pr\u00e9nom de l'universit\u00e9 de qui envoie le formulaire\n  $idade             = $_POST['idade'];                                       // \u00e2ge de qui envoie le formulaire\n  $ip                = $_SERVER['REMOTE_ADDR'];                               // IP de qui envoie le formulaire\n  $mensagem          = $_POST['mensagem'];                                    // message de qui envoie le formulaire\n  $navegador         = $_SERVER['HTTP_USER_AGENT'];                           // le browser de l'utilisateur qui envoie le formulaire\n  $nomeusuario       = $_POST['nome'];                                        // pr\u00e9nom et nom de qui envoie le formulaire\n  $pais              = json_decode(file_get_contents(\"http://ipinfo.io/\"));    // IP du pays de qui envoie le formulaire\n  $telefone          = $_POST['phone'];                                       // t\u00e9l\u00e9phone de qui envoie le formulaire\n$email             = new PHPMailer();\ntry \n  {\n      $email->CharSet    = 'utf-8';\n      $email->setLanguage('br', '/phpmailer/language/');\n      $email->isHTML(true);\n  $email->AddEmbeddedImage(\"imagens/logo-formulario.png\", \"logo-formulario\", \"logo-formulario.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/heart.png\", \"coracao\", \"heart.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/materialize.png\", \"materialize\", \"materialize.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/phpmailer.png\", \"phpmailer\", \"phpmailer.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/atom.png\", \"atom\", \"atom.png\", 'base64', 'image/png');\n  $email->AddEmbeddedImage(\"imagens/icones/apple.png\", \"apple\", \"apple.png\", 'base64', 'image/png');\n\n  $email->SMTPOptions = \n  [\n      'ssl' => \n      [\n          'verify_peer' => true,\n          'verify_peer_name' => true,\n          'allow_self_signed' => false,\n          'cafile' => 'paragonie/certainty/data/cacert-2018-03-07.pem'\n      ]\n  ];\n  $email->SMTPDebug = 2;                                    // Enable verbose debug output\n  $email->isSMTP();                                         // Set mailer to use SMTP\n  $email->Host = 'smtp.atleticaunisal.com.br';              // Specify main and backup SMTP servers\n  $email->SMTPAuth = true;                                  // Enable SMTP authentication\n  $email->Username = 'contato@atleticaunisal.com.br';       // SMTP username\n  $email->Password = 'contatoatleticaunisal';                 // SMTP password\n  $email->SMTPSecure = 'tls';                               // Enable TLS encryption, `ssl` also accepted\n  $email->Port = 587;                                       // TCP port to connect to\n  $email->Host = 'tls://smtp.atleticaunisal.com.br:587';\n\n  $email->setFrom('contato@atleticaunisal.com.br', 'Atl\u00e9tica UNISAL'); \n  $email->From        = $emailusuario;  // l'e-mail de qui envoie le formulaire\n  $email->FromName    = $nomeusuario;   // pr\u00e9nom et nom de qui envoie le formulaire\n\n```\nWhich of them is better?\nAnd php.ini:\nphp\nopenssl.cafile='/Users/gus/paragonie/certainty/data/cacert-2018-03-07.pem'\nopenssl.capath='/Users/gus/paragonie/certainty/data/'\nIs it right?. Hi @Synchro \nAlthough PHPMailer and SendGrid are unrelated, it is the same problem of authorisation certificate. The problem isn't PHPMailer or SendGrid, it is Locaweb's server, because they use very old server and they do not have authentication, authorisation certificates and credentials. I have contacted Loacweb. Due to these lacks, e-mails are classified as spams. \nSee the end of the topic: https://github.com/sendgrid/sendgrid-php/issues/591.  . @Synchro, I found how to solve the Locaweb's authentication error.\nI had to reinstall PHP, using Homebrew to correct the curl, authentication and authorisation errors. I copied correctly cacert.pem to /etc/ssl/cacert.pem, setted correctly etc/ssl/cacert.pem) to the uncommented openssl.cafile and curl.cainfo in my php.ini file. I required correctly from Composer to my project to install Certainly and the I copied the SMTPOptions to my form contact file. I had to set $email->SMTPAuth = true;.\nFinally it worked. Surprisingly, the e-mails are no longer as spams. \nI will find how to solution the Locaweb server problem in SendGrid.\nIt is solved.\nMerci beaucoup pour votre patience !\n. And is the multiple is wrong or right?. I still use PHPMailer 5. Do I need to update to 6?\nSo, I've just tested, the SVG files do not load. But it added attachments.\n\n```\n$email->AddEmbeddedImage(\"imagens/icones/phpmailer.svg\", \"phpmailer\", \"phpmailer.svg\", 'base64', 'image/svg+xml');\n $email->AddEmbeddedImage(\"imagens/icones/heart.svg\", \"heart2\", \"heart2.svg\", 'base64', 'image/svg+xml');\n...\n,\n...\n\n\n\n```. I decided to switch to JPEG or PNG, but it loaded only one of two images. . It depends on browser and client mail you were testing. . Syncro, he means he wants the errors to be seen only for himself, but not for the users. \nSyncro, il dit qu'il veut que les fautes soient vues seulement \u00e0 lui-m\u00eame, mais pas aux utilisateurs. . ",
    "iLoveSarabear": "I get \"Message has been sent\" but nothing comes through the inbox. When I comment out $email2->CharSet = 'UTF-8' the messages comes in again but with the same garbled characters. \nI did remove $email2->Encoding = \"8bit\"; as well.\n. ",
    "ken-jones1": "Here's the code - pretty basic:\n``` php\nrequire '../pathtophpmailer/phpmailer/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host = 'smtplocation';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'username';                 // SMTP username\n$mail->Password = 'password';                           // SMTP password\n$mail->Port = 25;\n$mail->From = 'sender@gmail.com';\n$mail->FromName = 'John Smith';\n$mail->addAddress('info@mydomain.com');               // Name is optional\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body in bold!';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n```\nIn the same directory as the autoload I have the class.smtp.php, class.pop3.php and class.phpmailer.php.  Thanks for any assistance.\n. I haven't set the Debug on, its sending 3 of the same emails to the 1 address and I've looked at the server logs but didn't see much in them - just the file that I ran when I received the emails.\n. Ok cool I appreciate you time & assistance here :) !!  I ran it with the debug on and got this one thing that I'm wondering if it is the problem (oh and I'm putting the md5 stuff in now.  \nSERVER -> CLIENT: 354 enter mail, end with \".\" on a line by itself 2015-01-21 15:24:48\n. Ok cool with that added I just received only 1 email, but there was nothing in the body of the email and coding after the Subject. Which I take was the md5 random stuff.\n. Opps yes there was a body sorry\n. Yep your right - the subject just had the coding after the Subject line - awesome I appreciate you assistance in this matter greatly !!  Just one more question is there anyway to get rid of that coding after the Subject or will I have to live with that.\n. Oppps sorry - yes it seems to be all working now - I really appreciate your assistance in this matter. I will close this ticket !  Awesome !!\n. Well I just tried it again and it sent 3 emails - so I put the random code back in and it sent 4 emails with different Subjects??\n. Yes that is the complete script\n. ",
    "cybergenio": "About: \"Synchro: It sounds like your browser may be sending multiple requests - do you see that in your web server logs?\"\nI had a similar error, When the script runs, three consecutive emails were sent, I thought the code was failing.\nThen I saw who were following sending while you are watching the page in the browser.\nI found the following: The \"Realplayer Downloader\" plugin reviews the page in the background, the plugin ran the page several times in order to find video links. I removed the plugin and corrected, only happened in Chrome!\n. About: \"Synchro: It sounds like your browser may be sending multiple requests - do you see that in your web server logs?\"\nI had a similar error, When the script runs, three consecutive emails were sent, I thought the code was failing.\nThen I saw who were following sending while you are watching the page in the browser.\nI found the following: The \"Realplayer Downloader\" plugin reviews the page in the background, the plugin ran the page several times in order to find video links. I removed the plugin and corrected, only happened in Chrome!\n. ",
    "Atmiya735": "Hello Synchro,\nI m facing same issue in this. It is sending 2 email to every email please suggest me the solution.. ",
    "Redani": "Thank you Synchro for your answer.\nOK, I have downloaded class.phpmailer.php and class.smtp.php that I'm now using!\nAcutally I wasn't using arbitrary email addresses from gmail or yahoo, i was using my own ones but still it doesn't work!!\nI'm now trying to use gmail SMTP but my web hoster apparently blocks connection on port 465, i'll call them to find out what to do!\nMeanwhile, any suggestions for the problem i'm having??\nThanks\n. I followed exactely the gmail example but i still get an error:\nSERVER -> CLIENT: 220 mx.google.com ESMTP ej10sm1813444wib.1 - gsmtp\nCLIENT -> SERVER: EHLO site.com\nSERVER -> CLIENT: 250-mx.google.com at your service, [217.160.90.97]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: EHLO site.com\nSERVER -> CLIENT: 250-mx.google.com at your service, [217.160.90.97]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH XOAUTH2 PLAIN-CLIENTTOKEN250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\nCLIENT -> SERVER: AUTH LOGIN\nSERVER -> CLIENT: 334 VXNlcm5hbWU6\nCLIENT -> SERVER: b3B0aWd1cmFAZ21haWwuY29t\nSERVER -> CLIENT: 334 UGFzc3dvcmQ6\nCLIENT -> SERVER: QGRtaW5vZzJPMU8h\nSERVER -> CLIENT: 534-5.7.14 <https://accounts.google.com/ContinueSignIn?sarp=1&scc=1&plt=AKgnsbvLb534-5.7.14 XIwYkG9J_wuAvmHiw4RnhyEfhwpG-6TQKbM9KjqVBTkonjaYi8zpBBanDB-sZO6s-G2JtD534-5.7.14 fKBXtIbsDlwuxfdv-hnYFbBNj5SswsYdGYrj0WA5Uka46T3X2REzXxTbeoNQkBi7eTdAk2534-5.7.14 uqPXJ-fEKmhauljHkI3-Atp-Pwqsmo8NnzL5gFlKtMPBxLaDyzkdg7UZWjRbRqFuzkEa_2534-5.7.14 3ZqmnxA> Please log in via your web browser and then try again.534-5.7.14 Learn more at534 5.7.14 https://support.google.com/mail/bin/answer.py?answer=78754 ej10sm1813444wib.1 - gsmtp\nSMTP ERROR: Password command failed: 534-5.7.14 <https://accounts.google.com/ContinueSignIn?sarp=1&scc=1&plt=AKgnsbvLb534-5.7.14 XIwYkG9J_wuAvmHiw4RnhyEfhwpG-6TQKbM9KjqVBTkonjaYi8zpBBanDB-sZO6s-G2JtD534-5.7.14 fKBXtIbsDlwuxfdv-hnYFbBNj5SswsYdGYrj0WA5Uka46T3X2REzXxTbeoNQkBi7eTdAk2534-5.7.14 uqPXJ-fEKmhauljHkI3-Atp-Pwqsmo8NnzL5gFlKtMPBxLaDyzkdg7UZWjRbRqFuzkEa_2534-5.7.14 3ZqmnxA> Please log in via your web browser and then try again.534-5.7.14 Learn more at534 5.7.14 https://support.google.com/mail/bin/answer.py?answer=78754 ej10sm1813444wib.1 - gsmtp\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 2.0.0 closing connection ej10sm1813444wib.1 - gsmtp\nSMTP connect() failed.\nI'm only including class.phpmailer.php and class.smtp.php, but i don't think it's the issue!!\nand here is my code:\n```\n$mail             = new PHPMailer();\n              $mail->IsSMTP();\n              $mail->SMTPAuth   = true;\n              $mail->SMTPDebug = 2;\n              $mail->Debugoutput = 'html';\n          $mail->Host       = \"smtp.gmail.com\";\n          $mail->Username   = \"email@gmail.com\";\n          $mail->Password   = \"pwd\";\n          $mail->SMTPSecure = 'tls';\n          $mail->Port       = 587; //465\n\n          $mail->setFrom('email@gmail.com', 'Matt');\n          $mail->addReplyTo(\"noreply@site.com\",\"Matt\");\n          $mail->addAddress(\"myemail@domain.com\", \"My Name\");\n\n          $mail->Subject    = $subject;\n          //$mail->Body       = $message;\n          $mail->msgHTML($message);\n          $mail->AltBody    = \"Any message.\";\n\n```\n. Yes, I followed the links but it redirects me to my personal email instead of the email I used in $mail->Username to signup with!!\nAnd don't you think it's caused by a misconfiguration in the server? or even something I should set in gmail account?\n. Following the links shows now some info about the correct gmail account, but it only shows some account info...\nI'm sure it must be a little stupid parameter which is blocking everything! :/\nP.S. I'm now using PHPMailerAutoload.php :D\n. that's exactly what I did!!\nI think I'm gonna give up using gmail.smtp, but before, please i'd like to ask you one question. What's the benefit of using gmail.smtp??\n. OK, well, i'm so confused now, don't know if the problem comes from the server, or from the gmail account!!\nAre they any specific settings that need to be done in gmail account to be able to use smtp.gmail? the more i check tutorials and videos about it the more i get crazy coz it's not working for me :-(\n. I have already tried all the changes mentioned in the link you sent me!!\nIT'S INCREDIBLE, have just hang up with my web hoster 1&1, they asked me to use port 25 and it WOOOORKED :D hard to believe :) I'll do some more testing and will get back to you ASAP ;)\n. OMG, it's a real nightmare!! as soon as I signed out from the gmail account, the problems starts again!!\nI'm trying to figure out how to fix this!! :/\n. Yes, \"Access for less secure apps\" is enabled!!\nI was using port 25 with tls when it worked for few minutes...\n. Hi,\nAfter struggling the whole day, i came with the following conclusions...\n1- setFrom(\"noreply@company.com\", \"Company.com\") MUST ALWAYS be the company name to prevent the mail from being filtered by gmail or yahoo\n2- if the email is being sent by someone through the contact form, WE MUST use the following:\n    $mail->setFrom(\"noreply@company.com\", \"Company.com\");\n   $mail->addReplyTo(\"email-sender@mail.com\", \"\");\nwith this, we can be sure to receive all emails...\nas per the smtp.gmail, i finaly made it work again, but it was always showing the @gmail.com in \"sender\" field, i added a new email address i can send mails from, but in this case, it shows \"sent via gmail\" !\nso i'm still thinking what to do\nHope this will help people who were in the same situation as me!\nTo be continued and a special thank you to Synchro for his help ;)\n. I'm thinking to use Mandrill with phpMailer, what do you think about it?\n. Well, i'm just happy the problem is solved :) thanks  ;)\nI'll have some very few questions please, I would love to have your opinion:\n1- do I have to start all my emails with the following code ?\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n    <html xmlns=\"http://www.w3.org/1999/xhtml\">\n        <head>\n            <title>Mail Title</title>\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n        </head>\n    ...\nI just don't see how the title would be used since we mention an $mail->subject\n2- what's the recommender $mail->Priority to use?\n3- when using $mail->msgHTML() do we still need to add $mail->isHTML(true); ??\nThanks a lot ;)\n. 1- I didn't find any info about doctype... :/\n and are the head and title tags necessary ??\n2- OK\n3- OK thanks ;)\n. Great, thanks for the explanations... ;)\nCheers\n. Hi Synchro, I'll have one last question please.\nWhen I'm running some tests in local, it takes forever the page to render cause phpmailer can't be executed. how can i fix this?\nP.S. i don't want to make it work by sending message when in local\nThanks\n. Thanks for the fast reply\nsorry I don't really undersantd what you mean, i shoudl wrap a condition around what?\n. Ah Ok, i see the idea\nand what about somethibg like this ?\nif(!strpos($_SERVER['SERVER_NAME'], \".localhost\")) $mail->send();\n. OK, thanks you very much and have an amazing week end ;)\nCheers\n. You're very welcome deifos ;)\nI'm glad it helped you, and this is the purpose of the community ;)\nGood luck for the rest.\nCheers\n. You're very welcome, and glad it helped you ;)\n. ",
    "ruimelodev": "@Redani,  thank you for your solution.\nThis was what helped me:\n\n1- setFrom(\"noreply@company.com\", \"Company.com\") MUST ALWAYS be the company name to prevent the mail from being filtered by gmail or yahoo\n\nI was using gmail.com as my Postfix in my MAMP server.\n. ",
    "Parvezkhan": "I am using PHPMAILER.\nMy Email is working fine with all the email id like example@gmail.com, example@yahoo.com \nbut it is not working with some Email id like example@companyname.com \nwhen I am sending the email through PHPMAILER  to the Email id like example@companyname.com it is not receiving at recipient end. \nCan somebody help me here.\n. I tried lots to do receive the email at parvez16khan@gmx.com\nBut it is not receiving at that particular email id.\nSame time I am adding parvez16khan@gmail.com but it is receiving properly.\nSo, is it the problem of PHPMAILER or it is server issue.\n. <?php\nrequire(\"PHPMailer_5.2.0/class.phpmailer.php\");\n$subject = 'Booking Confirmation test 3234';\n$msg = 'Test 3234';\n$mail = new PHPMailer();\n$mail->IsSMTP();\n$mail->Host = \"mail.airportshuttles24.com\";\n//$mail->Host = \"smtp.gmail.com\";\n$mail->SMTPDebug  = 2;\n$mail->Port = 25;\n$mail->SMTPAuth = true;\n//$mail->SMTPSecure = \"ssl\";\n$mail->Username = \"info@example.com\";\n$mail->Password = \"**\"; \n$mail->From = \"info@example.com\";\n$mail->FromName = \"example.com Team\";\n$mail->WordWrap = 50;\n$mail->IsHTML(true);\n$mail->AddAddress('info@example.com');\n$mail->AddAddress('parvez16khan@gmail.com');\n$mail->AddAddress('parvezkhan.01@hotmail.com');\n//All the above are receiving but below email id is not receiving email\n$mail->AddAddress('parvez16khan@gmx.com');\n$mail->Subject = $subject;\n$mail->Body    = $msg;\n$mail->AltBody = $msg;\nif(!$mail->Send()){echo \"Email Not sent. \"; exit; }\n?>\n. SMTP -> FROM SERVER:220-p3plcpnl0382.prod.phx3.secureserver.net ESMTP Exim 4.85_1 #1 Mon, 04 Apr 2016 05:21:27 -0700 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\nSMTP -> FROM SERVER: 250-p3plcpnl0382.prod.phx3.secureserver.net Hello ip-23-229-134-162.ip.secureserver.net [23.229.134.162] 250-SIZE 52428800 250-8BITMIME 250-PIPELINING 250-AUTH PLAIN LOGIN 250-STARTTLS 250 HELP\nSMTP -> FROM SERVER:250 OK\nSMTP -> FROM SERVER:250 Accepted\nSMTP -> FROM SERVER:250 Accepted\nSMTP -> FROM SERVER:250 Accepted\nSMTP -> FROM SERVER:354 Enter message, ending with \".\" on a line by itself\nSMTP -> FROM SERVER:250 OK id=1an3VX-0002yx-Dw \nThis is result I am getting when SMTPDebug = 2\n. Above I had send you the debug code.\nCan you please check that.\n. You can also see that at my gmx.com email id where I am sending and not receiving\nhttp://www.gmx.com/\nUsername:parvez16khan@gmx.com\nPassword:xxx\nCan you please check this particular email id.\nAnd please explain me what is the problem there.\nIs it from godaddy server or from that particular Email id?\n. I did all the setting as per your docs provided by you but still is not working. \nThats why telling you to try it from your side.\nIf you have the latest version please check it with this particular Email id.\nIf I am getting email on that at gmail why I am not getting email when that kind of email is there.\nThats is my question actually.\n. Can you please reply me.\nIf I am getting Email at gmail.com so why I am not getting Email on another Email id like gmx.com\n. But this kind of problem wont came with good website like flipkart. Email are going there with all the email Id.\n. ",
    "raghucodingbrains": "getting \"Could not access file\".. path of attachment is correct.. \n. ",
    "mrdemc": "the receiving mailserver may send a reply to the replyaddress with the notification why it fails. Then you can see within this reply why the mailserver is denying your e-mail.\nHowever, this mailserver might never get your e-mail if for instance your dns lookup is not working correctly.\n. Character output and document output are two different things. Your document output seems to be ISO-8859-1 while your content is UTF-8. So change the document headers or change the content in the same encoding as your document.\n. Please notice this comment in case you are using a Windows server which I suspect;\nhttp://php.net/manual/en/function.mail.php#refsect1-function.mail-notes\n. I'll check the tutorial and examples today and see if they need some adjustments when I'm back home. I'll keep it updated here.\n. The part that is in between those headers is the value $this->CustomHeader which is an array. The default CustomHeader array is empty, but you might set this yourself in your code. Could you try to find out if it is set? If it is, you could try to run $this->clearCustomHeaders() to see if it solves your problem.\nSee code https://github.com/PHPMailer/PHPMailer/blob/master/class.phpmailer.php#L1726\n. I'll try to reproduce this problem with both codes to see if it is resolved.\n. SMTP -> ERROR: Password not accepted from server: 535 Incorrect authentication data\nYour password is either incorrect or you are connecting with the wrong serverdetails. Are you sure you are using the correct port and server? Is the username and password combination correct? Can you connect with this server with the same details using other clients? What did you do to debug this situation? And why do you think this is an error in PHPMailer and not a server-/userside error?\n. SMTP -> ERROR: Password not accepted from server: 535 Incorrect authentication data\nYour password is either incorrect or you are connecting with the wrong serverdetails. Are you sure you are using the correct port and server? Is the username and password combination correct? Can you connect with this server with the same details using other clients? What did you do to debug this situation? And why do you think this is an error in PHPMailer and not a server-/userside error?\n. ",
    "ochameau": "Reusing action callback sounds great, but I do not see exactly how to adapt it.\nMy main concern is that users of action_function are expected to be called only once per mail,\nwhereas, here, we would call it up to 100 times per mail. I imagine it can break many existing programs.\nWould you happen to be at FOSDEM by any chance?\n. Sorry for the delay, I just rebased the patch and tried to do something like what you described.\nBut I'm not sure the integration with doCallback and action_listener is perfect?\nI imagine a better integration would be to just get rid of them and replace them completely with emit/listen...\nOnce we agree on the API, I will start looking at tests!\n. ",
    "seala56": "I've rewritten the code using most of the example (version 5.2.9 of phpmailer) and changed the SMTPDebug to 3. Everything looks fine until the very last line where i get this: 2015-02-03 17:29:14 SERVER -> CLIENT: 250 Ok: queued as 1217D776D18 Mail Not Sent \nTo me that says everything's ok - we've queued your message but it wasn't sent?? But then again I'm a newbie so..... Do you know what that means and what is causing this?\n. We were on a testing server. We decided to move everything to production and then have the company we have our mail server on set everything up to allow the mail relay. Why set everything up on a test basis only to have to do it all over again once we go live. So, just waiting for things to propogate to resume testing. Thanks for your input.\n. Not yet\nSent from my iPhone\n\nOn Mar 25, 2015, at 3:58 PM, Marcus Bointon notifications@github.com wrote:\nDid you get to the bottom of this?\n\u2014\nReply to this email directly or view it on GitHub.\n. Oh I'm sorry I thought this was about something else - yes problem solved thank you\n\nSent from my iPhone\n\nOn Mar 25, 2015, at 3:58 PM, Marcus Bointon notifications@github.com wrote:\nDid you get to the bottom of this?\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "ali-h2010": "@scrnjakovic How did you fix the issue?\nI am also having ????? when using Arabic text in the email\nI set the charset as UTF-8. ```php\n$mail->isSMTP();                                      // Set mailer to use SMTP\n                                $mail->Host = '*';  // Specify main and backup SMTP servers\n                                $mail->SMTPAuth = true;                               // Enable SMTP authentication\n                                $mail->Username = '';                 // SMTP username\n                                $mail->Password = '**';                           // SMTP password\n                                $mail->Port = 25;                                    // TCP port to connect to\n                                $mail->CharSet = 'UTF-8';\n                            //Recipients\n                            $mail->setFrom(****', 'Mailer');\n                            $mail->addAddress($isValdUser->customerEmail);               // Name is optional\n\n                            //Content\n\n                            $randomEmailVerficationKey = $isConfirmationRequested->EmailVerificationKey;\n                            $dateTimeNow = date('Y-m-d H:i:s');\n                            $emailVerificationExpirationDate = date('Y-m-d H:i:s',strtotime('+3 day',strtotime($dateTimeNow)));\n                            $isConfirmationRequested->EmailVerificationKeyExpiry = $emailVerificationExpirationDate;\n                            $isConfirmationRequested->save();\n\n                            $WebApiDomain = '*****;\n                            $verificationURL = $WebApiDomain.\"/VerifyEmail?id=\".$_customerID.\"&key=\".$randomEmailVerficationKey;\n\n\n\n                            $mail->isHTML(true);                                  // Set email format to HTML\n                            $mail->Subject = 'Welcome to Radm System';\n                             $mail->Body    = '<p dir=\"rtl\">\u0634\u0643\u0631\u0627 \u0644\u062a\u0633\u062c\u064a\u0644\u0643 \u0641\u064a \u0628\u0631\u0646\u0627\u0645\u062c \u0631\u062f\u0645 \u0644\u062d\u062c\u0632 \u0627\u0644\u062d\u0627\u0648\u064a\u0627\u062a </p>\n                                                <p dir=\"rtl\"><b><a href=\"'.$verificationURL.'\">\u0627\u0636\u063a\u0637 \u0647\u0646\u0627 \u0644\u062a\u0623\u0643\u064a\u062f \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a</a></b></p>\n                                                <p dir=\"rtl\">\u0623\u0648 \u0627\u0646\u0633\u062e \u0627\u0644\u0631\u0627\u0628\u0637 \u0627\u0644\u062a\u0627\u0644\u064a \u0625\u0644\u0649 \u0623\u064a \u0645\u062a\u0635\u0641\u062d '. $verificationURL .'\n                                                <p dir=\"rtl\" >\u0645\u0646 \u0641\u0636\u0644\u0643 \u062a\u062c\u0627\u0647\u0644 \u0647\u0630\u0647 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0625\u0646 \u0644\u0645 \u062a\u0633\u062c\u0644 \u0641\u064a \u0628\u0631\u0646\u0627\u0645\u062c \u0631\u062f\u0645 \u0644\u0644\u062d\u0627\u0648\u064a\u0627\u062a</p>\n                                                <p dir=\"rtl\">---------------------------------------------------------------</p>\n                                                <p>Thank you for registering in Radm (Containers Reservation System) <b><a href=\"'.$verificationURL.'\">click Here to activate your account</a></b><p>\n                                                <p>Or copy and paste this link in your browser:'.$verificationURL.'</p>\n                                                <p>Please ignore this message if you did not register in Radm</p>';\n                            $mail->AltBody = 'Click or copy and paste this link to Verify your email:'.$verificationURL;\n\n                            $mail->send();\n\n```. ???????? ?????????????? ???? ???????????? ?????? ???????? ???????????????? \n???????? ?????? ???????????? ?????????? ????????????????????\n???? ???????? ???????????? ???????????? ?????? ???? ?????????? http://someURL\n???? ???????? ?????????? ?????? ?????????????? ???? ???? ???????? ???? ???????????? ?????? ????????????????\n\nThank you for registering in Radm (Containers Reservation System) click Here to activate your account\n. Thanks for the support. \nchanging the Encoding to 'base64' and the charset to 'UTF-8\" solved the issue for me\n$mail->CharSet = 'UTF-8';       \n$mail->Encoding     = \"base64\";\nI got the answer from here\nhttps://stackoverflow.com/a/24622496/4017847. ",
    "OleksZ": "Thank you!\nJust a question - you say \"PHP 5.6 now verifies SSL certificates by default\" - does that mean that all self-signed certificates will be invalid? \n. ",
    "HiPower": "Thanks for the response.  I have replaced the file several times with fresh downloads from Github.  All come back with the same problem.\n. OK, to be sure, I re-downloaded PHPmailer, removed it from the host and re-uploaded it.  Now I get a parse error on a different line; 2669.\n. I will review the file on the server.  Additionally, I am using MS Expression Web to upload the files.  I will try a fresh upload using another FTP program and see if that helps.\n. Verified that the class file on the server was about 900 lines short.  I uploaded through a different method and it seems to have worked, but now I am getting \"Mailer Error: Could not instantiate mail function.\".\n. Thanks for all the help.  It turned out to be my host and they were less than helpful.  I have moved the site to a new host and all is working as it should.\n. ",
    "eexit": "It won't change anything in the LOC you updated but yea, bringing more standardization is a good thing!\n. Can you guys fix your CI, thanks!\n. > It should really have been a protected method\nYes, that'd be even better. Issue when using wrong names is that when building interfaces on the top of this will affect them. This method should be a setter, not a command. \nEither renaming it or changing its visibility is a BCB.\n. ",
    "skynet": ":+1: \n. ",
    "udara86": "Dear Synchro,\nThanks so much. I able to handle the situation with the support of you dear. Thanks lot..I'm really appreciate your support.\nBye\n. Dear Synchro,\nThanks so much. I able to handle the situation with the support of you\ndear. Thanks lot..I'm really appreciate your support.\nHave a Nice Day...>>Best Regards From  Lt Udara Pathirage        Master of\nIT, UCSC, Colombo | BSc in ENCM, Kelaniya | Dip. IT, NIBM\nSoftware Engineer (IT OFFICER)\n-              Directorate of Information Technology\n-              SRI LANKA ARMY\nEmail:    udara86@gmail.com udara86@gmail.com\nudara@army.lk udara@army.lk\nWeb:      http://udara.umpwebsolutions.com\nhttp://udara.umpwebsolutions.com/SkypeID: udara1986Phone: 094 71 8110497\nOn Thu, Feb 19, 2015 at 8:32 PM, Marcus Bointon notifications@github.com\nwrote:\n\nYou could try reading the docs. Set SMTPDebug = 0.\n\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/366#issuecomment-75066121.\n. \n",
    "ozgrozer": "I changed the file class.smtp.php in line 242\nphp\npublic function connect($host, $port = null, $timeout = 30, $options = array())\n{\n    if(count($options)==0){\n        $options[\"ssl\"]=array(\"verify_peer\"=>false,\"verify_peer_name\"=>false,\"allow_self_signed\"=>true);\n    }\nand now it works perfect.\n. I couldn't fix my SSL and so I found that method.\nNow I send options through the smtpConnect function.\nphp\n$mail->smtpConnect(\n    array(\n        \"ssl\" => array(\n            \"verify_peer\" => false,\n            \"verify_peer_name\" => false,\n            \"allow_self_signed\" => true\n        )\n    )\n);\nThanks.\n. ",
    "ivkremer": "@ozgrozer thank you very much, I didn't connect the PHP version upgrade with this error and was wondering why there is such an error when I'm trying to send an email.\nMy first thoughts were that there is something wrong with a gmail account. Thanks for such an easy and quick solution.\n. @ozgrozer thank you very much, I didn't connect the PHP version upgrade with this error and was wondering why there is such an error when I'm trying to send an email.\nMy first thoughts were that there is something wrong with a gmail account. Thanks for such an easy and quick solution.\n. @Damiano8 just before you make your $mail->send(), like this:\nphp\n$mail = new PHPMailer();\n$mail->isSMTP(); // $mail->Body = $body; etc\n$mail->smtpConnect([\n    'ssl' => [\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    ]\n]);\n$mail->send();\n$mail->smtpClose();\n. @Synchro thank you very much for information about using isSMTP() and smtpClose. I've just copied a snippet like this somewhere without analysing it.\n. ",
    "Damiano8": "where do you write code this $mail ->> SMTP Options = array..?\n. in class.smtp.php ? or class phpmailer.php? \n. look guys, i have this warning when i try to send email:\nWarning: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed in D:\\xampp15\\htdocs\\stran\\class.smtp.php on line 345\nThere are some issue.\n. well now i have included this part of code in my code and it returns the same error as before and another error: \nWarning: Creating default object from empty value in D:\\xampp15\\htdocs\\stran\\kontakt.php on line 101\n. could i send you the code so you can take a quick look? because i don't have any ideas what to do anymore..\n. just wanted to let you know that i somehow fixed it. i installed a older version of xampp and it worked.. i was running xampp version 5.6.3 and then i switched to 1.8.1. i mean..this versions..\n. ",
    "jimobama": "I really want this problem solved , have done everything said in this thread except configuration of my SSL (Who do you done that) , even update my Linux certificate. everything works on console. Same codes work on windows but when I used it in Linux this error codes up.\n. I really want this problem solved , have done everything said in this thread except configuration of my SSL (Who do you done that) , even update my Linux certificate. everything works on console. Same codes work on windows but when I used it in Linux this error codes up.\n. Thanks for the reply , the problem lies with my SMTP server Host information and now working fine.\n. Thanks for the reply , the problem lies with my SMTP server Host information and now working fine.\n. ",
    "brruoff": "Works perfect @ozgrozer \nthanks\n. ",
    "DavorSaric": "Ok, how about a hosting server with 150 websites? We have upgraded from php 5.5 to php5.6 and every web that uses PHPMailer now is broken because contact forms are not working. Is there any fix for this or should we downgrade and freeze php version to 5.5?\n. ",
    "fluxcorenz": "Quite right - I'll try to coax some parameter setting from the other project. Thanks!\n. ",
    "jplitza": "Thanks for the quick responses!\n@mrdemc Yes, I used custom headers, but removing them with clearCustomHeaders() as you mentioned does not help.\n@Synchro Your patch helps in the body part, as it removes the MIME-Version and Content-Type lines from the body. Problem is, they don't turn up in the header. :wink:\nAlso, isn't preg_split() a bit overkill in that situation? Wouldn't explode() do the job just fine?\n. By mentioning getSentMIMEMessage() you simultaneously told me which method I need for the next step of my program and that it doesn't work for me. :grinning: \nJust to be sure, because it sounded different in your post: The extra blank line in getSentMIMEMessage() is caused neither by isMail() nor by your patches. It see it in my v5.2.9 checkout using isSMTP() as well.\n. Well, you already merged the mimesign branch obviously, but yes, this fixed it apparently. Thanks!\n. ",
    "Sandest": "Obviously in my case I'll take any performance hit over increased memory usage, since the 18 MB attachment (in this case a regular website backup sent via email) exhausts the shared hosting's enforced 128 MB memory limit. I'll definitely have a play with your supplied loop structures, thanks for those.\nAs for my own suggestions, not sure. I created my own rough and ready smtp attachment code which simply got the binary data and wrote it to the smtp server as such (after all the mime headers of course):\nfwrite($sh, chunk_split(base64_encode(file_get_contents(\"backup.zip\"))));\nSo I'm not sure of the necessity of the exploding and similar functions when it comes to processing attachments, but I suppose I'm missing something?\n. My client wants regular backups, and emailing them is the most convenient method.\nIsn't the issue then that you are creating one giant string and then exploding it? Why not only explode the components of the email which need exploding before adding them to the giant string, rather than creating the giant string first and then exploding it?\n. PHP code failing with a memory shortage error is pretty ugly though. Would there be a way to add code to predict memory exhaustion and automatically fall back to a method which uses less memory?\n. I will certainly look at the subclass, thanks for that. I was just suggesting things which may be of benefit to the project overall, and which might help avoid memory exhaustion script failures for other people such as I experienced. Hopefully other people experiencing the issue will manage to find this thread for your solution.\nI will leave it there, thanks for your help.\n. I suppose I should say also (at the risk of sounding rude!) that I have just set up Swift Mailer with the Swift_SmtpTransport to do the same job and it worked fine with no memory issue.\n. If we look at the SMTP size limits of the 3 of largest mail providers:\nGmail: 35 MB\nOutlook.com: 35 MB\nYahoo: 40 MB\n18 MB isn't huge then, really. I have no idea how well Swift Mailer benchmarks against PHPMailer, but as I say, Swift Mailer does not exhibit this memory issue for me.\n. But seemingly Swift Mailer's function does not consume 9x the source string size unlike PHPMailer, because my 18 MB attachment sends with 128 MB of PHP memory (and 128 MB a pretty generous amount of memory for shared hosting).\nI think unilaterally dismissing memory usage over performance is the wrong way to go, especially considering the 35+ MB SMTP limits I quoted earlier, and the somewhat undersized memory limits of some shared hosting providers.\nIt is likely when people hit this issue they simply drop PHPMailer in favour of Swift Mailer rather than report the issue here as I have, so just how \"edge case\" I am is debatable.\nBut yes, this is your project to do with as you please, and yes, I am free to use the alternative software solution that works for me.\n. ",
    "IgitBuh": "\nThat issue with using the relative path to the extra certs is a bit strange - I would want to be very sure of how that works.\n\nWell it probably doesn't have to be a relative path, but it definitely must be used without \"file://\" in front. I don't know why. It was driving me nuts for a while, but searching the web I found some examples like the one from Maciej_Niemir at http://php.net/manual/en/function.openssl-pkcs7-sign.php or some at stackoverflow that showed a different path format than the other two path parameters.\n\ncould you put these changes in a fork?\n\nTo be honest, I have absolutely no experience in how everyhing works here. My idea was to share that information and see what happens. If you want you're welcome to use the code in any way you want.\n. ... and I just realized that I've used a false or at least confusing naming for the new parameter. Instead of \"$sign_key_extracerts\" / \"$key_extracerts\" it should probably be \"$sign_extracerts_file\" / \"$extracerts_filename\"\n. I've edited the issue description (variable names and \"file:\" issue) according to my last comments.\n. Why would you pass null as the fourth parameter!?\nWith the current code both these versions work absolutely fine:\n$mail->sign(\"cert.pem\", \"key.pem\", $key_pass)\n$mail->sign(\"cert.pem\", \"key.pem\", $key_pass, \"certchain.pem\")\n. Oh dang it, you're right ... but basically not because of null but apparently an empty string ('') causes the problem as well. I thought I've tried that as well... Sorry. :-/\n. ",
    "Myicefrog": "Hi\uff0cit seems like the connection problem\u3002\nI used to config the PHPMailer in the PHP framewor called ThinkPHP\uff0c and I have the similar problem.\nAt last, I config as the following and it return the \u201csuccess\u201d information.\nIt may not resolve your problem,but I hope it will give you some help.\n$mail->IsSMTP();\n         $mail->SMTPSecure = 'ssl'; \n         $mail->SMTPDebug = 1;\n         $mail->Host = 'smtp.126.com';\n     $mail->SMTPAuth = true;\n         $mail->Username = 'haikuotiankong2007';\n         $mail->Password = '*******';\n     $mail->Port = 465;\n     $mail->From = 'haikuotiankong2007@126.com';\n     $mail->AddAddress(\"$address\", \"my friend\");\n         $mail->IsHTML(true);\n. I agree with Synchro.\nSo I advice that you can use my configuration that I have mentioned befor.\nchange TLS to SSL,use the port 465 or 587\n. SSL on port 587 is better than 465?\nI am not good at ssl or tls\n. Thanks for your comments!\nI just use the ssl port on 587, find out it also works for the smtp.126.com(just for fun),\nthough Synchro do not recommend to do that,haha\n. ",
    "perryhs": "OK, I got it. You are correct in that I have not completed the final configuration for a secure server; however, the instructions I've been following tell me not to configure that part until I can verify that everything else works - both internally and externally on port 25. I had assumed that PHPMailer would work like everything else I've tested on port 25. My fauxpas.\nI'll complete the security configuration and try it again using port 587. Then I'll get back to you tomorrow with the results...\nThanks for your help. PHPMailer will solve a lot of issues for me if I can get it to work.\n. ",
    "glevine": "I can't argue with that.\n. ",
    "Noob4sure": "thank you sir!, based on your answer, i done it and works perfectly :D\n. ",
    "cbergmann": "Hi,\nThere are three parts in your answer:\nFirst about splitting the smtp connections:\nMy first implementation was by modifying the smtpSend function. The problem is that the recipients are likely from different domains and therefore we need different SMTP connections for each recipient (or at least for each domain). We could group the recipients by domain to reduce the connections.\nSecond about how to find the MX Server for each domain:\nAn interesting part about how to prevent Spam with specially crafted MX entrys can be found in the SpamAssassin Wiki. This (and the TLS autodetection) is the reason why I did the connections in descending preference order and returned the first matched smtp server. On second thought it would be possible to merge these two steps. \nWe could just get MX \"candidates\" in the getMXforAddress  function and then loop over them trying to connect. When we successfully connect to one we could reuse this connection to send the mail. (possibly including TLS autodetection). This (in combination with the recipient-grouping from above) could reduce the SMTP connections to the minimum of one connection per domain.\nLast about TLS autodetection:\nI agree that it is a better way to do it like you did. Especially because that would also effect \"smtpSend\" connections and would therefore increase the overall security.\n. I think this is a very good idea. \nI also think that today it is no problem to get a cheap (free) valid SSL certificate but we are not in the control of the receiving smtp server (especially with directSend) this might not help us.\nWhat do you think about a second new Flag \"SMTPDontVerifyCerts\" that would set the stream context up so it would not verify the certificates?\n. ",
    "jonataswalker": "This works on RoundCube\nphp\n$config['smtp_server'] = 'tls://mail.example.net';\n$config['smtp_conn_options'] = array(\n   'ssl'         => array(\n        'verify_peer'  => true,\n        'verify_depth' => 3,\n        'allow_self_signed' => true,\n        'peer_name'  => 'mail.example.net',\n        'cafile'  => '/home/admin/ssl/mail.example.net.pem'\n   )\n);\nBut this doesn't on PHPMailer\nphp\n$options = array(\n    'ssl' => array(\n            'verify_peer'  => true,\n            'verify_depth' => 3,\n            'allow_self_signed' => true,\n            'peer_name' => 'mail.example.net',\n            'cafile' => '/home/admin/ssl/mail.example.net.pem'\n    )\n);\n. This works on RoundCube\nphp\n$config['smtp_server'] = 'tls://mail.example.net';\n$config['smtp_conn_options'] = array(\n   'ssl'         => array(\n        'verify_peer'  => true,\n        'verify_depth' => 3,\n        'allow_self_signed' => true,\n        'peer_name'  => 'mail.example.net',\n        'cafile'  => '/home/admin/ssl/mail.example.net.pem'\n   )\n);\nBut this doesn't on PHPMailer\nphp\n$options = array(\n    'ssl' => array(\n            'verify_peer'  => true,\n            'verify_depth' => 3,\n            'allow_self_signed' => true,\n            'peer_name' => 'mail.example.net',\n            'cafile' => '/home/admin/ssl/mail.example.net.pem'\n    )\n);\n. I know this is a very repeated question but I've got RoundCube working with a self-signed ssl and php 5.6.8.\nI got this PHPMailer debug:\n```\nConnection: opening to mail.mapeando.net:587, t=10, opt=array ()\nConnection: opened\nSERVER -> CLIENT: 220 mail.mapeando.net ESMTP Postfix\nCLIENT -> SERVER: EHLO mapeando.net\nSERVER -> CLIENT: 250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: QUIT\nConnection: closed\nSMTP connect() failed.\nSMTP connect() failed.\n```\n. I know this is a very repeated question but I've got RoundCube working with a self-signed ssl and php 5.6.8.\nI got this PHPMailer debug:\n```\nConnection: opening to mail.mapeando.net:587, t=10, opt=array ()\nConnection: opened\nSERVER -> CLIENT: 220 mail.mapeando.net ESMTP Postfix\nCLIENT -> SERVER: EHLO mapeando.net\nSERVER -> CLIENT: 250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: QUIT\nConnection: closed\nSMTP connect() failed.\nSMTP connect() failed.\n```\n. It is SMTPDebug = 3 already.\nAnd SMTPDebug = 4\n``` php\nConnection: opening to mail.mapeando.net:587, t=10, opt=array ()\nConnection: opened\nSMTP -> get_lines(): $data was \"\"\nSMTP -> get_lines(): $str is \"220 mail.mapeando.net ESMTP Postfix\"\nSMTP -> get_lines(): $data is \"220 mail.mapeando.net ESMTP Postfix\"\nSERVER -> CLIENT: 220 mail.mapeando.net ESMTP Postfix\nCLIENT -> SERVER: EHLO mapeando.net\nSMTP -> get_lines(): $data was \"\"\nSMTP -> get_lines(): $str is \"250-mail.mapeando.net\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net\"\nSMTP -> get_lines(): $str is \"250-PIPELINING\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING\"\nSMTP -> get_lines(): $str is \"250-SIZE 10240000\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000\"\nSMTP -> get_lines(): $str is \"250-VRFY\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY\"\nSMTP -> get_lines(): $str is \"250-ETRN\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN\"\nSMTP -> get_lines(): $str is \"250-STARTTLS\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS\"\nSMTP -> get_lines(): $str is \"250-ENHANCEDSTATUSCODES\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES\"\nSMTP -> get_lines(): $str is \"250-8BITMIME\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME\"\nSMTP -> get_lines(): $str is \"250 DSN\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\"\nSERVER -> CLIENT: 250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\nCLIENT -> SERVER: STARTTLS\nSMTP -> get_lines(): $data was \"\"\nSMTP -> get_lines(): $str is \"220 2.0.0 Ready to start TLS\"\nSMTP -> get_lines(): $data is \"220 2.0.0 Ready to start TLS\"\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: QUIT\nSMTP -> get_lines(): $data was \"\"\nConnection: closed\nSMTP connect() failed.\nSMTP connect() failed.\n```\n. It is SMTPDebug = 3 already.\nAnd SMTPDebug = 4\n``` php\nConnection: opening to mail.mapeando.net:587, t=10, opt=array ()\nConnection: opened\nSMTP -> get_lines(): $data was \"\"\nSMTP -> get_lines(): $str is \"220 mail.mapeando.net ESMTP Postfix\"\nSMTP -> get_lines(): $data is \"220 mail.mapeando.net ESMTP Postfix\"\nSERVER -> CLIENT: 220 mail.mapeando.net ESMTP Postfix\nCLIENT -> SERVER: EHLO mapeando.net\nSMTP -> get_lines(): $data was \"\"\nSMTP -> get_lines(): $str is \"250-mail.mapeando.net\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net\"\nSMTP -> get_lines(): $str is \"250-PIPELINING\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING\"\nSMTP -> get_lines(): $str is \"250-SIZE 10240000\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000\"\nSMTP -> get_lines(): $str is \"250-VRFY\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY\"\nSMTP -> get_lines(): $str is \"250-ETRN\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN\"\nSMTP -> get_lines(): $str is \"250-STARTTLS\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS\"\nSMTP -> get_lines(): $str is \"250-ENHANCEDSTATUSCODES\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES\"\nSMTP -> get_lines(): $str is \"250-8BITMIME\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME\"\nSMTP -> get_lines(): $data was \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME\"\nSMTP -> get_lines(): $str is \"250 DSN\"\nSMTP -> get_lines(): $data is \"250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\"\nSERVER -> CLIENT: 250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\nCLIENT -> SERVER: STARTTLS\nSMTP -> get_lines(): $data was \"\"\nSMTP -> get_lines(): $str is \"220 2.0.0 Ready to start TLS\"\nSMTP -> get_lines(): $data is \"220 2.0.0 Ready to start TLS\"\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: QUIT\nSMTP -> get_lines(): $data was \"\"\nConnection: closed\nSMTP connect() failed.\nSMTP connect() failed.\n```\n. I can confirm this is also working with Swift Mailer.\nUsing .... Swift_SmtpTransport::newInstance('mail.mapeando.net', 587, 'tls') and\n$options = array(\n    'ssl' => array(\n            'verify_peer'  => true,\n            'verify_depth' => 3,\n            'allow_self_signed' => true,\n            'peer_name' => 'mail.mapeando.net',\n            'cafile' => '/home/admin/ssl/mail.mapeando.net.pem',\n    )\n);\n++ Starting Swift_SmtpTransport\n<< 220 mail.mapeando.net ESMTP Postfix\n\n\nEHLO mapeando.net\n<< 250-mail.mapeando.net 250-PIPELINING 250-SIZE 10240000 250-VRFY 250-ETRN 250-STARTTLS 250-ENHANCEDSTATUSCODES 250-8BITMIME 250 DSN\nSTARTTLS\n<< 220 2.0.0 Ready to start TLS\nEHLO mapeando.net\n<< 250-mail.mapeando.net 250-PIPELINING 250-SIZE 10240000 250-VRFY 250-ETRN 250-AUTH PLAIN LOGIN 250-AUTH=PLAIN LOGIN 250-ENHANCEDSTATUSCODES 250-8BITMIME 250 DSN\nAUTH LOGIN\n....\n<< 235 2.7.0 Authentication successful\n++ Swift_SmtpTransport started\nMAIL FROM: suporte@mapeando.net\n<< 250 2.1.0 Ok\nRCPT TO: jonataswalker@g....com\n<< 250 2.1.5 Ok\nRCPT TO: jonataswalker@y.....com\n<< 250 2.1.5 Ok\nDATA\n<< 354 End data with .\n.\n<< 250 2.0.0 Ok: queued as 7CBB4121163\n++ Stopping Swift_SmtpTransport\nQUIT\n<< 221 2.0.0 Bye\n++ Swift_SmtpTransport stopped\n. I can confirm this is also working with Swift Mailer.\n\n\nUsing .... Swift_SmtpTransport::newInstance('mail.mapeando.net', 587, 'tls') and\n$options = array(\n    'ssl' => array(\n            'verify_peer'  => true,\n            'verify_depth' => 3,\n            'allow_self_signed' => true,\n            'peer_name' => 'mail.mapeando.net',\n            'cafile' => '/home/admin/ssl/mail.mapeando.net.pem',\n    )\n);\n++ Starting Swift_SmtpTransport\n<< 220 mail.mapeando.net ESMTP Postfix\n\n\nEHLO mapeando.net\n<< 250-mail.mapeando.net 250-PIPELINING 250-SIZE 10240000 250-VRFY 250-ETRN 250-STARTTLS 250-ENHANCEDSTATUSCODES 250-8BITMIME 250 DSN\nSTARTTLS\n<< 220 2.0.0 Ready to start TLS\nEHLO mapeando.net\n<< 250-mail.mapeando.net 250-PIPELINING 250-SIZE 10240000 250-VRFY 250-ETRN 250-AUTH PLAIN LOGIN 250-AUTH=PLAIN LOGIN 250-ENHANCEDSTATUSCODES 250-8BITMIME 250 DSN\nAUTH LOGIN\n....\n<< 235 2.7.0 Authentication successful\n++ Swift_SmtpTransport started\nMAIL FROM: suporte@mapeando.net\n<< 250 2.1.0 Ok\nRCPT TO: jonataswalker@g....com\n<< 250 2.1.5 Ok\nRCPT TO: jonataswalker@y.....com\n<< 250 2.1.5 Ok\nDATA\n<< 354 End data with .\n.\n<< 250 2.0.0 Ok: queued as 7CBB4121163\n++ Stopping Swift_SmtpTransport\nQUIT\n<< 221 2.0.0 Bye\n++ Swift_SmtpTransport stopped\n. That's perfect man! Good job!\n\n\nConnection: opening to mail.mapeando.net:587, timeout=300, options=array ( 'ssl' => array ( 'verify_peer' => true, 'verify_depth' => 3, 'allow_self_signed' => true, 'peer_name' => 'mail.mapeando.net', 'cafile' => '/home/admin/ssl/mail.mapeando.net.pem', ),)\nConnection: opened\nSERVER -> CLIENT: 220 mail.mapeando.net ESMTP Postfix\nCLIENT -> SERVER: EHLO mapeando.net\nSERVER -> CLIENT: 250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: EHLO mapeando.net\nSERVER -> CLIENT: 250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-AUTH PLAIN LOGIN250-AUTH=PLAIN LOGIN250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\nCLIENT -> SERVER: AUTH LOGIN\n.....\nSERVER -> CLIENT: 235 2.7.0 Authentication successful\nCLIENT -> SERVER: MAIL FROM:<suporte@mapeando.net>\nSERVER -> CLIENT: 250 2.1.0 Ok\nCLIENT -> SERVER: RCPT TO:<jonataswalker@.....com>\nSERVER -> CLIENT: 250 2.1.5 Ok\nCLIENT -> SERVER: DATA\nSERVER -> CLIENT: 354 End data with <CR><LF>.<CR><LF>\nCLIENT -> SERVER: Date: Mon, 27 Apr 2015 16:32:46 -0300\nCLIENT -> SERVER: To: jonataswalker@g....com\nCLIENT -> SERVER: From: suporte@mapeando.net\nCLIENT -> SERVER: Reply-To: suporte@mapeando.net\nCLIENT -> SERVER: Subject: suporte@mapeando.net\nCLIENT -> SERVER: Message-ID: <b7e2650a0be8880520ee7016093d7b8e@mapeando.net>\nCLIENT -> SERVER: X-Priority: 3\nCLIENT -> SERVER: X-Mailer: PHPMailer 5.2.9 (https://github.com/PHPMailer/PHPMailer/)\nCLIENT -> SERVER: MIME-Version: 1.0\nCLIENT -> SERVER: Content-Type: text/html; charset=UTF-8\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER:\nCLIENT -> SERVER: suporte@mapeando.net\nCLIENT -> SERVER:\nCLIENT -> SERVER: .\nSERVER -> CLIENT: 250 2.0.0 Ok: queued as 6B5E3121151\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 2.0.0 Bye\nConnection: closed\n. That's perfect man! Good job!\nConnection: opening to mail.mapeando.net:587, timeout=300, options=array ( 'ssl' => array ( 'verify_peer' => true, 'verify_depth' => 3, 'allow_self_signed' => true, 'peer_name' => 'mail.mapeando.net', 'cafile' => '/home/admin/ssl/mail.mapeando.net.pem', ),)\nConnection: opened\nSERVER -> CLIENT: 220 mail.mapeando.net ESMTP Postfix\nCLIENT -> SERVER: EHLO mapeando.net\nSERVER -> CLIENT: 250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: EHLO mapeando.net\nSERVER -> CLIENT: 250-mail.mapeando.net250-PIPELINING250-SIZE 10240000250-VRFY250-ETRN250-AUTH PLAIN LOGIN250-AUTH=PLAIN LOGIN250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\nCLIENT -> SERVER: AUTH LOGIN\n.....\nSERVER -> CLIENT: 235 2.7.0 Authentication successful\nCLIENT -> SERVER: MAIL FROM:<suporte@mapeando.net>\nSERVER -> CLIENT: 250 2.1.0 Ok\nCLIENT -> SERVER: RCPT TO:<jonataswalker@.....com>\nSERVER -> CLIENT: 250 2.1.5 Ok\nCLIENT -> SERVER: DATA\nSERVER -> CLIENT: 354 End data with <CR><LF>.<CR><LF>\nCLIENT -> SERVER: Date: Mon, 27 Apr 2015 16:32:46 -0300\nCLIENT -> SERVER: To: jonataswalker@g....com\nCLIENT -> SERVER: From: suporte@mapeando.net\nCLIENT -> SERVER: Reply-To: suporte@mapeando.net\nCLIENT -> SERVER: Subject: suporte@mapeando.net\nCLIENT -> SERVER: Message-ID: <b7e2650a0be8880520ee7016093d7b8e@mapeando.net>\nCLIENT -> SERVER: X-Priority: 3\nCLIENT -> SERVER: X-Mailer: PHPMailer 5.2.9 (https://github.com/PHPMailer/PHPMailer/)\nCLIENT -> SERVER: MIME-Version: 1.0\nCLIENT -> SERVER: Content-Type: text/html; charset=UTF-8\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER:\nCLIENT -> SERVER: suporte@mapeando.net\nCLIENT -> SERVER:\nCLIENT -> SERVER: .\nSERVER -> CLIENT: 250 2.0.0 Ok: queued as 6B5E3121151\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 2.0.0 Bye\nConnection: closed\n. ",
    "vjkrmca": "phpmailer working localhost but not working live server  ERROR 504 - GATEWAY TIMEOUT. ",
    "kenITR": "Hi,\nThanks for your reply. I put the new phpmailer and autoloader versions \nexactly where the old ones were.\nKen\nOn 04/01/2015 10:27 AM, Marcus Bointon wrote:\n\nSounds like you just need to make sure you're using the right path to \nthe autoloader. I don't think this is anything to do with SELinux.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/391#issuecomment-88504758.\n\n\nKen Loomis\nIT Resources\n1646 Massachusetts Ave\nLexington, MA 02420\n. Thanks, again. CentOS 5 does not support higher than 5.3. In order to \nmove to php 5.6 we need to migrate our server to CentOS 6 which a \nplanned but much dreaded move.  PHPmailer claims it works under 5.3.\nOn 04/01/2015 10:32 AM, Marcus Bointon wrote:\n\nOne other thing - PHP 5.3 is no longer supported, and 5.4 expires in 5 \nmonths http://php.net/supported-versions.php. if you're doing \nanything new you should be on 5.6.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/391#issuecomment-88506495.\n\n\nKen Loomis\nIT Resources\n1646 Massachusetts Ave\nLexington, MA 02420\n. I failed to mention that the reason for the fail to open error was \"permission denied\". As I mentioned, the application was able to open phpmailer using the same path system. My guess is that the new version is trying to access some part of the system that the prior one did not, but I cannot find where that is.\n. Also, if it were a php error, I'd think I'd get a php error not a system error. (Ah, I see you posted that). The file permissions and ownership are identical. I have gotten these kinds of errors when a referenced file cannot be reached.\n. I'm using the same directory for both versions so that can't be it.\nI turned on SELinux on our stage machine and although it didn't run \nsendmail, it had no problem running PHPMailer. I can't test this on \nproduction until tonight.\nThere is an execute bit for the owner of the old phpmailer file that \ndoesn't exist on the new one. I assumed that was a mistake, but now it \nis the only difference I can find. I can't imagine that would make a \ndifference; the owner isn't the one running it and it should be \nnecessary anyway, should it? I'll test it tonight.\nBy the way, I am using the old setup of an class extending phpmailer \nwith some default values, but I'm using the same class file for both \nversions.\nKen\nOn 04/01/2015 10:57 AM, Marcus Bointon wrote:\n\nThis really hasn't changed. The error you're getting is arising before \nany PHPMailer code is run, so it can't be anything that's in the \nfiles. Are the permissions correct on your new copy folder and files?\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/391#issuecomment-88513823.\n\n\nKen Loomis\nIT Resources\n1646 Massachusetts Avenue\nLexington, MA 02420\n781-863-2661 x 111\n. I assume apache is running it, but I don't think I can su as apache. \nI ran your suggested php script and it was consistent. I could open  class.phpmailer.php v 5.1 but not v 5.2.9.  I could not open either directly but I went through an intermediary script as shown below.\nThe setup is a bit convoluted. The script requires mailConfig.php which is located in root that has some default values, and it requires mailClass.inc which is a php file above root that has an absolute path to phpmailer (above root) that extends phpmailer.  Here is the mailClass.inc script:\n``` php\n<?php\nrequire_once('/var/www/phpmailer/class.phpmailer.php');\nclass ITRMailer extends PHPMailer {\n    var $priority = 3;\n    var $to_name;\n    var $to_email;\n    var $From = null;\n    var $FromName = null;\n    var $Sender = null;\nfunction ITRMailer()     {\n  global $site;\n  // Comes from config.php $site array\n  // We use sendmail. Smtp is not enabled.\n  if($site['smtp_mode'] == 'enabled') {\n    $this->Host = $site['smtp_host'];\n    $this->Port = $site['smtp_port'];\n    if($site['smtp_username'] != '') {\n     $this->SMTPAuth  = true;\n     $this->Username  = $site['smtp_username'];\n     $this->Password  =  $site['smtp_password'];\n    }\n    $this->Mailer = \"smtp\";\n  }\n\n  if(!$this->FromName) {\n    $this-> FromName = $site['from_name'];\n  }\n  if(!$this->From) {\n    $this->From = $site['from_email'];\n  }\n  if(!$this->Sender) {\n    $this->Sender = $site['from_sender'];\n  }\n\n  if(!$this->DKIM_domain) {\n    $this->DKIM_domain = $site['DKIM_domain'];\n    $this->DKIM_private = $site['DKIM_privatekey'];\n    $this->DKIM_selector = $site['DKIM_selector'];\n    $this->DKIM_passphrase = $site['DKIM_passphrase'];\n  }\n\n  /* in phpmailer the returnPath is automatically set to the \n   * ->Sender, otherwise set it with ReturnPath\n  if(!$this->returnPath) {\n    $this->ReturnPath = $site['returnPath'];\n  } \n   * */\n   $this->Priority = $this->priority;\n }\n\n}\n```\n. Well, all of this was solved by moving class.phpmailer.php into the same path as the calling mailClass.inc file and editing mailClass appropriately. It still remains a mystery why the old version could be opened in its original location while the new one could not. The upshot is that this 6 yr old routine now is a bit cleaner and DKIM works! Thanks very much for your help and a great program.\n. Thanks for your help, Marcus. I really appreciate it. And thanks for the \nhelpful critique.\nOn 4/2/2015 2:01 AM, Marcus Bointon wrote:\n\nMysterious! Glad you fixed it.\nOne observation - your SMTP check (though you're not using it) could \nbe improved a little, avoiding setting |Mailer| directly:\nif($site['smtp_mode']==  'enabled') {\n     $this->isSMTP();\n     $this->Host  =  $site['smtp_host'];\n     $this->Port  =  $site['smtp_port'];\n     if($site['smtp_username']!=  '') {\n          $this->SMTPAuth   =  true;\n          $this->Username   =  $site['smtp_username'];\n          $this->Password   =   $site['smtp_password'];\n     }\n}\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/391#issuecomment-88753381.\n\n\nKen Loomis\nIT Resources\n1646 Mass Ave.\nLexington, MA 02420\n781-863-2661\n. Hi Marcus,\nThanks for your reply. The server this mail comes from is not the one in \nquestion.\nI got a reply from the folks at SPF.org IRC channel. They said that SPF \ndoesn't care about the FROM: Header except in the case of SMPT, so that \nI can use the user's email address in the from: header as long as I use \nthe host's url in the Sender: Header.\nI'm testing that now.\nKen\nOn 04/06/2015 02:12 PM, Marcus Bointon wrote:\n\nI don't think this is true. For example, the notification I received \nfor this ticket was sent with a from header of |kenITR \nnotifications@github.com|, and a reply-to header of \n|PHPMailer/PHPMailer \nreply@reply.github.com|. \nWhen I hit reply in iOS mail, it created a message addressed to the \nreply-to address, not the from address. I see that you said \n|reply_to|, not |reply-to|, so make sure you're not doing that wrong - \nuse PHPMailer's built-in reply-to support, don't roll your own custom \nheader.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/395#issuecomment-90179710.\n\n\nKen Loomis\nIT Resources\n1646 Massachusetts Avenue\nLexington, MA 02420\n781-863-2661 x 111\n. Hi Marcus,\nThanks for your reply. The server this mail comes from is not the one in \nquestion.\nI got a reply from the folks at SPF.org IRC channel. They said that SPF \ndoesn't care about the FROM: Header except in the case of SMPT, so that \nI can use the user's email address in the from: header as long as I use \nthe host's url in the Sender: Header.\nI'm testing that now.\nKen\nOn 04/06/2015 02:12 PM, Marcus Bointon wrote:\n\nI don't think this is true. For example, the notification I received \nfor this ticket was sent with a from header of |kenITR \nnotifications@github.com|, and a reply-to header of \n|PHPMailer/PHPMailer \nreply@reply.github.com|. \nWhen I hit reply in iOS mail, it created a message addressed to the \nreply-to address, not the from address. I see that you said \n|reply_to|, not |reply-to|, so make sure you're not doing that wrong - \nuse PHPMailer's built-in reply-to support, don't roll your own custom \nheader.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/395#issuecomment-90179710.\n\n\nKen Loomis\nIT Resources\n1646 Massachusetts Avenue\nLexington, MA 02420\n781-863-2661 x 111\n. Hi Marcus,\nThanks for the reply.\nYes, I have the Sender property set.\nWhat I meant by commercial services is that if I use Thunderbird and \nsend email through an ISP I can leave the To header blank and send to \nBCC.  But when I send directly from my Linux server using PHPMailer I \ncannot do that.\nI know, I know, about older versions. Same with my older MySQL. The \nproblem is I have to update CentOS and this application will be a \nmonster to migrate to a new OS.\nAny idea why a empty or non-existent AddAddress with PHPMailer would \ncause sendmail to fail.\nKen\nOn 11/15/2015 12:54 PM, Marcus Bointon wrote:\n\nHave you tried setting the |Sender| property but leaving the to \naddresses empty?\nEmail does not require a To header, but it does require an envelope to.\nI don't see that using a commercial service would make any difference \n- this error can only come from your own local mail server; any \n  commercial service would by definition be remote and thus not callable \n  from sendmail.\nUsing old versions of PHP is a very bad idea, especially one that is \nso long out of security updates.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/558#issuecomment-156838386.\n\n\nKen Loomis\nIT Resources\n1646 Massachusetts Ave\nLexington, MA 02420\n. Are there prerequisites for this or do I just use the PHPMailer IsSMTP \nwith my current configuration?\nOn 11/15/2015 06:06 PM, Marcus Bointon wrote:\n\nWhen you are sending via SMTP you have the option to set the to \nheaders and envelope to addresses separately, and that is what \nthunderbird is doing. Sendmail doesn't make it so easy, but the \nworkaround is simple - don't use sendmail or mail(); use SMTP to \nlocalhost. You'll probably get better performance that way too.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/558#issuecomment-156867646.\n\n\nKen Loomis\nIT Resources\n1646 Massachusetts Ave\nLexington, MA 02420\n. OK, Thanks.\n. Thanks, Marcus.\nIs there any information I could give you or any way that would tell if \nit's on my end or theirs?\nKen\nOn 07/11/2016 12:45 PM, Marcus Bointon wrote:\n\nWhen you use isSendMail, PHPMailer hands off the message to your local \nMTA, which then deals with delivery. Many servers provide TLS on \ninbound, and all you're seeing is it being used. PHPMailer does \nsomething similar when acting as an SMTP client. PHPMailer is not \ninvolved in the transaction that is failing for you - it looks like a \nmail server bug, though I can't tell from your description whether the \nproblem is at your end or theirs.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/767#issuecomment-231792450, \nor mute the thread \nhttps://github.com/notifications/unsubscribe/AI_D7TQ7ivHYWCZYXyl6ecQ-GKJKLVphks5qUnMcgaJpZM4JJe8C.\n\n\nKen Loomis\nIT Resources\nLexington MA\n781-863-2661 x111\n. Thanks, Marcus.\nIs there any information I could give you or any way that would tell if \nit's on my end or theirs?\nKen\nOn 07/11/2016 12:45 PM, Marcus Bointon wrote:\n\nWhen you use isSendMail, PHPMailer hands off the message to your local \nMTA, which then deals with delivery. Many servers provide TLS on \ninbound, and all you're seeing is it being used. PHPMailer does \nsomething similar when acting as an SMTP client. PHPMailer is not \ninvolved in the transaction that is failing for you - it looks like a \nmail server bug, though I can't tell from your description whether the \nproblem is at your end or theirs.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/767#issuecomment-231792450, \nor mute the thread \nhttps://github.com/notifications/unsubscribe/AI_D7TQ7ivHYWCZYXyl6ecQ-GKJKLVphks5qUnMcgaJpZM4JJe8C.\n\n\nKen Loomis\nIT Resources\nLexington MA\n781-863-2661 x111\n. I sent complete info via email reply, but here are relevant sections:\nSMTP debug:[Tue Nov 21 23:32:29.760633 2017] [proxy_fcgi:error] [pid 4895] [client 146.115.73.156:34178] AH01071: Got error 'PHP message: SERVER -> CLIENT: 220 SG ESMTP service ready at ismtpd0006p1iad1.sendgrid.net\\r\\n\\nPHP message: CLIENT -> SERVER: EHLO mydomain\\r\\n\\nPHP message: SERVER -> CLIENT: 250-smtp.sendgrid.net\\r\\n250-8BITMIME\\r\\n250-PIPELINING\\r\\n250-SIZE 31457280\\r\\n250-STARTTLS\\r\\n250-AUTH PLAIN LOGIN\\r\\n250 AUTH=PLAIN LOGIN\\r\\n\\nPHP message: CLIENT -> SERVER: STARTTLS\\r\\n\\nPHP message: SERVER -> CLIENT: 220 Begin TLS negotiation now\\r\\n\\nPHP message: CLIENT -> SERVER: EHLO mydomain\\r\\n\\nPHP message: SERVER -> CLIENT: 250-smtp.sendgrid.net\\r\\n250-8BITMIME\\r\\n250-PIPELINING\\r\\n250-SIZE 31457280\\r\\n250-STARTTLS\\r\\n250-AUTH PLAIN LOGIN\\r\\n250 AUTH=PLAIN LOGIN\\r\\n\\nPHP message: CLIENT -> SERVER: AUTH LOGIN\\r\\n\\nPHP message: SERVER -> CLIENT: 334 VXNlcm5hbWU6\\r\\n\\nPHP message: CLIENT -> SERVER: xxx\\r\\n\\nPHP message: SERVER -> CLIENT: 334 UGFzc3dvcmQ6\\r\\n\\nPHP message: CLIENT -> SERVER: xxx\\r\\n\\nPHP message: SERVER -> CLIENT: 235 Authentication successful\\r\\n\\nPHP message: CLIENT -> SERVER: MAIL FROM:\\r\\n\\nPHP message: SERVER -> CLIENT: 250 Sender address accepted\\r\\n\\nPHP message: CLIENT -> SERVER: RCPT TO:\\r\\n\\nPHP message: SERVER -> CLIENT: 250 Recipient address accepted\\r\\n\\nPHP message: CLIENT -> SERVER: RCPT TO:\\r\\n\\nPHP message: SERVER -> CLIENT: 250 Recipient address accepted\\r\\n\\nPHP message: CLIENT -> SERVER: DATA\\r\\n\\nPHP message: SERVER -> CLIENT: 354 Continue\\r\\n\\nPHP message: CLIENT -> SERVER: Date: Tue, 21 Nov 2017 23:32:29 -0500\\r\\n\\nPHP message: CLIENT -> SERVER: To: myname@example.com, myname@gmail.com\\r\\n\\nPH\nheader: Received: from mydomain.com (mail.netriplexboston.com [173.237.192.175]) by ismtpd0006p1iad1.sendgrid.net (SG) with ESMTP id 8Q0vRrNKTWed5z5y9BLrUA Wed, 22 Nov 2017 04:32:29.754 +0000 (UTC)\nDate: Wed, 22 Nov 2017 04:32:31 +0000 (UTC)\nIt appears that a TSL connection is being established, but no TLS is in the header.. I sent complete info via email reply, but here are relevant sections:\nSMTP debug:[Tue Nov 21 23:32:29.760633 2017] [proxy_fcgi:error] [pid 4895] [client 146.115.73.156:34178] AH01071: Got error 'PHP message: SERVER -> CLIENT: 220 SG ESMTP service ready at ismtpd0006p1iad1.sendgrid.net\\r\\n\\nPHP message: CLIENT -> SERVER: EHLO mydomain\\r\\n\\nPHP message: SERVER -> CLIENT: 250-smtp.sendgrid.net\\r\\n250-8BITMIME\\r\\n250-PIPELINING\\r\\n250-SIZE 31457280\\r\\n250-STARTTLS\\r\\n250-AUTH PLAIN LOGIN\\r\\n250 AUTH=PLAIN LOGIN\\r\\n\\nPHP message: CLIENT -> SERVER: STARTTLS\\r\\n\\nPHP message: SERVER -> CLIENT: 220 Begin TLS negotiation now\\r\\n\\nPHP message: CLIENT -> SERVER: EHLO mydomain\\r\\n\\nPHP message: SERVER -> CLIENT: 250-smtp.sendgrid.net\\r\\n250-8BITMIME\\r\\n250-PIPELINING\\r\\n250-SIZE 31457280\\r\\n250-STARTTLS\\r\\n250-AUTH PLAIN LOGIN\\r\\n250 AUTH=PLAIN LOGIN\\r\\n\\nPHP message: CLIENT -> SERVER: AUTH LOGIN\\r\\n\\nPHP message: SERVER -> CLIENT: 334 VXNlcm5hbWU6\\r\\n\\nPHP message: CLIENT -> SERVER: xxx\\r\\n\\nPHP message: SERVER -> CLIENT: 334 UGFzc3dvcmQ6\\r\\n\\nPHP message: CLIENT -> SERVER: xxx\\r\\n\\nPHP message: SERVER -> CLIENT: 235 Authentication successful\\r\\n\\nPHP message: CLIENT -> SERVER: MAIL FROM:\\r\\n\\nPHP message: SERVER -> CLIENT: 250 Sender address accepted\\r\\n\\nPHP message: CLIENT -> SERVER: RCPT TO:\\r\\n\\nPHP message: SERVER -> CLIENT: 250 Recipient address accepted\\r\\n\\nPHP message: CLIENT -> SERVER: RCPT TO:\\r\\n\\nPHP message: SERVER -> CLIENT: 250 Recipient address accepted\\r\\n\\nPHP message: CLIENT -> SERVER: DATA\\r\\n\\nPHP message: SERVER -> CLIENT: 354 Continue\\r\\n\\nPHP message: CLIENT -> SERVER: Date: Tue, 21 Nov 2017 23:32:29 -0500\\r\\n\\nPHP message: CLIENT -> SERVER: To: myname@example.com, myname@gmail.com\\r\\n\\nPH\nheader: Received: from mydomain.com (mail.netriplexboston.com [173.237.192.175]) by ismtpd0006p1iad1.sendgrid.net (SG) with ESMTP id 8Q0vRrNKTWed5z5y9BLrUA Wed, 22 Nov 2017 04:32:29.754 +0000 (UTC)\nDate: Wed, 22 Nov 2017 04:32:31 +0000 (UTC)\nIt appears that a TSL connection is being established, but no TLS is in the header.. ",
    "vijaydogra": "Ok, for now if we agree that it could be my exchange server problem, why would email be still sent and received to recipient email even in case of credentials being wrong? \nAm sorry, if this is too obvious question for you, however, am struggling with this for past few days.\n. My client is outlook.com with port 135, am sending email from\nvijaydogra123@hotmail.com with my wrong password abcdefgh.\nIf I try to do same with web, it says me wrong password.\nAgain, apologies for this and thank you for answering\nOn Fri, Apr 3, 2015 at 11:43 AM Marcus Bointon notifications@github.com\nwrote:\n\nYour server is allowing sending by someone with the wrong credentials - if\nit's set up correctly it will deny the client the ability to send. Yours is\nnot. It's nothign to do with the client.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/392#issuecomment-89183268.\n. Ok thank you for the support really appreciate it\nOn Fri, 3 Apr 2015 at 19:35 Marcus Bointon notifications@github.com wrote:\nPort 135? That port is used by Outlook for Exchange RPC services. If that\nserver is set up to receive email for that address, then port 25 submission\nwill not require a login (i.e. it looks like normal inbound SMTP). It may\nbe that your Exchange server accepts SMTP on that port, but whatever it is\ndoing, it's not PHPMailer's problem!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/392#issuecomment-89299716.\n. Ok thank you for the support really appreciate it\nOn Fri, 3 Apr 2015 at 19:35 Marcus Bointon notifications@github.com wrote:\nPort 135? That port is used by Outlook for Exchange RPC services. If that\nserver is set up to receive email for that address, then port 25 submission\nwill not require a login (i.e. it looks like normal inbound SMTP). It may\nbe that your Exchange server accepts SMTP on that port, but whatever it is\ndoing, it's not PHPMailer's problem!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/392#issuecomment-89299716.\n. \n",
    "sveneld": "if parameter FromName is use UTF-8 symbols and has a long length\nfor example \"\u0456\u043c'\u044f \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043d\u0438\u043a\u0430 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u044e \u043c\u043e\u0432\u043e\u044e\"\nPhpmailer will convert it to such header (2 lines)\nphp\nstring(78) \"From: =?utf-8?B?0ZbQvCfRjyDQstGW0LTQv9GA0LDQstC90LjQutCwINGD0LrRgNCw0ZfQvdGB?=\"\nstring(58) \" =?utf-8?B?0YzQutC+0Y4g0LzQvtCy0L7Rjg==?= \"\nFor DKIM sign this to line should be combined in one. \nresult before my fix:\nphp\nstring(78) \"From: =?utf-8?B?0ZbQvCfRjyDQstGW0LTQv9GA0LDQstC90LjQutCwINGD0LrRgNCw0ZfQvdGB?=\"\nresult after my fix:\nphp\nstring(136) \"From: =?utf-8?B?0ZbQvCfRjyDQstGW0LTQv9GA0LDQstC90LjQutCwINGD0LrRgNCw0ZfQvdGB?= =?utf-8?B?0YzQutC+0Y4g0LzQvtCy0L7Rjg==?= \"\n. ",
    "akvarshney19": "I am using addAddress  function here i pass akvarshney19@yahoo.com in addAddress and iec.ankit@gmail.com in addCC.\nthen i am not getting To: in Header. Here output of Header is \nDelivered-To: iec.ankit@gmail.com\nReceived: by 10.64.235.148 with SMTP id um20csp1623187iec;\n        Tue, 7 Apr 2015 06:54:09 -0700 (PDT)\nX-Received: by 10.68.190.228 with SMTP id gt4mr37103372pbc.6.1428414848409;\n        Tue, 07 Apr 2015 06:54:08 -0700 (PDT)\nReturn-Path: <neerajn@ecomexpress.in>\nReceived: from GOH-HUB02.hosting.local (abs1.exchangemails.com. [202.65.150.104])\n        by mx.google.com with ESMTPS id fy4si11483917pbb.100.2015.04.07.06.54.07\n        for <iec.ankit@gmail.com>\n        (version=TLSv1 cipher=ECDHE-RSA-AES128-SHA bits=128/128);\n        Tue, 07 Apr 2015 06:54:08 -0700 (PDT)\nReceived-SPF: neutral (google.com: 202.65.150.104 is neither permitted nor denied by domain of neerajn@ecomexpress.in) client-ip=202.65.150.104;\nAuthentication-Results: mx.google.com;\n       spf=neutral (google.com: 202.65.150.104 is neither permitted nor denied by domain of neerajn@ecomexpress.in) smtp.mail=neerajn@ecomexpress.in\nReceived: from localhost (10.1.0.156) by smtp.exchangemails.com (10.1.0.104)\n with Microsoft SMTP Server id 14.3.224.2; Tue, 7 Apr 2015 19:25:18 +0530\nDate: Tue, 7 Apr 2015 19:23:59 +0530\nCC: <iec.ankit@gmail.com>\n. require 'class.phpmailer.php';\nrequire 'class.smtp.php';\n$mail = new PHPMailer();\n$mail->IsSMTP();\n$mail->Mailer = 'smtp';\n$mail->SMTPAuth = true;\n$mail->SMTPDebug = 4;\n$mail->Host = 'smtp.exchangemails.com'; // \"ssl://smtp.gmail.com\" didn't worked\n$mail->Port = 25;\n//$mail->SMTPSecure = 'ssl';\n// or try these settings (worked on XAMPP and WAMP):\n// $mail->Port = 587;\n//$mail->SMTPSecure = 'tls';\n$mail->Username = \"neerajn@ecomexpress.in\";\n$mail->Password = \"#4553\";\n$mail->IsHTML(true); // if you are going to send HTML formatted emails\n$mail->SingleTo = true; // if you want to send a same email to multiple users. multiple emails will be sent one-by-one.\n$mail->From = \"neerajn@ecomexpress.in\";\n$mail->FromName = \"Ankit Varshney\";\n$mail->addAddress(\"akvarshney19@yahoo.com\",\"User 1\");\n//$mail->addAddress(\"ankit.varshney@ecomexpress.in\",\"User 2\");\n//$mail->addAddress(\"neerajn@ecomexpress.in\",\"User 2\");\n$mail->addCC(\"iec.ankit@gmail.com\");\n //$mail->addBCC(\"akvarshney19@yahoo.com\");\n$mail->Subject = \"Testing PHPMailer with localhost\";\n$mail->Body = \"Hi,This system is working perfectly @phase1.\";\nif(!$mail->Send())\n    echo \"Message was not sent PHPMailer Error: \" . $mail->ErrorInfo;\nelse\n    echo \"Message has been sent\";\n. ",
    "Irshadkhan786": "I am getting the same issue. here is my code.\n$mail = new PHPMailer();\n$mail->IsSMTP();                 \n$mail->Host   = \"###.com\";\n   $mail->SMTPAuth  = true;\n   $mail->Username  = \"####\";\n   $mail->Password  = \"####\";\n$mail->Port   = 465; \n$mail->SMTPSecure  = 'tls'; \n$mail->Port   = 587; \n   $mail->From   = \"noreply@####.com\";\n   $mail->FromName  = \"Franchisee Mail\";\n   $mail->AddAddress('myemailid','irshad');\n   $mail->addStringAttachment(file_get_contents($img1), $img1name);\n   $mail->addStringAttachment(file_get_contents($img2), $img2name);\n   $mail->IsHTML(true); \n$mail->Subject = \"Franchisee Mail\";                \n$mail->Body = $message;\nif(!$mail->Send())\n{\n   echo \"Mail could not be sent. \";\n   echo \"Mailer Error: \" . $mail->ErrorInfo;\n}\nelse\n{\n   echo \"Mail sent successfully.\";\n}\nmail is coming but to is coming blank in header section.  I have one more problem that, mail is coming in spam folder. what is wrong with the code please tell me.. No no i am sending proper email in code\n$mail->AddAddress('irshad.ahamad@finesofttechnologies.com','irshad');\ni just did not display that in code.. ",
    "rajasajidmanzoor": "Hello\nI have also tried this by creating a separate email template but still css is not properly sent to yahoomail.\nIn gmail  all CSS and HTML is removed. Only text of email is received in gmail.\nhere is the code that i am using now\nIn Invoice template\n```\n  \n\n\n\n\n",
    "lor-vader": "The code is part of a PHP File that is running in a Apache Server\nEnviado desde mi iPhone\n\nEl 23/4/2015, a las 18:39, Marcus Bointon notifications@github.com escribi\u00f3:\nHow are you running this code? Command line?\n\u2014\nReply to this email directly or view it on GitHub.\n. The code is part of a PHP File that is running in a Apache Server\n\nEnviado desde mi iPhone\n\nEl 23/4/2015, a las 18:39, Marcus Bointon notifications@github.com escribi\u00f3:\nHow are you running this code? Command line?\n\u2014\nReply to this email directly or view it on GitHub.\n. Thank you for your help Marcus.\n\nI will try your solution later at home. \nEnviado desde mi iPhone\n\nEl 23/4/2015, a las 19:22, Marcus Bointon notifications@github.com escribi\u00f3:\nI'd bet that something is causing your page to load twice, perhaps a browser extension. If you view source on the two emails you receive, do they have different message IDs? If so, that's the problem. You can confirm this more visibly by doing something like appending a random value to your subject line so that the messages look different:\n$mail->Subject = $subjectMailUser . rand();\n\u2014\nReply to this email directly or view it on GitHub.\n. Thank you for your help Marcus.\n\nI will try your solution later at home. \nEnviado desde mi iPhone\n\nEl 23/4/2015, a las 19:22, Marcus Bointon notifications@github.com escribi\u00f3:\nI'd bet that something is causing your page to load twice, perhaps a browser extension. If you view source on the two emails you receive, do they have different message IDs? If so, that's the problem. You can confirm this more visibly by doing something like appending a random value to your subject line so that the messages look different:\n$mail->Subject = $subjectMailUser . rand();\n\u2014\nReply to this email directly or view it on GitHub.\n. Hi again Marcus,\n\nI tried your idea and, you're right. The page load twice due to a bad configuration in .htaccess file. I solved the problem and now all works fine.\nThank you for your advice and your time.\nRegards\n. Hi again Marcus,\nI tried your idea and, you're right. The page load twice due to a bad configuration in .htaccess file. I solved the problem and now all works fine.\nThank you for your advice and your time.\nRegards\n. ",
    "Rewt0r": "I'm using version 5.2.9? That's the latest release.\n. Yeah sorry for not picking that up before posting... Also I'll try changing to master and see if that stops the tcp/ip error\n. ",
    "vikasnagare88": "Please help me as early as possible.\n. code of php page is \n``` php\n<?php\nrequire 'PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host = 'smtp.gmail.com';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'vikasnagare88@gmail.com';                 // SMTP username\n$mail->Password = 'xxxxxxxxxxxxx';                           // SMTP password\n$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, ssl also accepted\n$mail->Port = 587;                                    // TCP port to connect to\n$mail->From = 'vikasnagare88@gmail.com';\n$mail->FromName = 'Mailer';\n$mail->addAddress('vikasnagare88@gmail.com', 'Joe User');     // Add a recipient\n//$mail->addAddress('ellen@example.com');               // Name is optional\n//$mail->addReplyTo('info@example.com', 'Information');\n//$mail->addCC('cc@example.com');\n//$mail->addBCC('bcc@example.com');\n//$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n//$mail->addAttachment('/tmp/image.jpg', 'new.jpg');    // Optional name\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body in bold!';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n```\n. ",
    "frankstepanski": "Would the SMTP host name be the same as URL that I log into? Sorry, never did this before.\nI can login the exhange email with the username and password\nhttps://mail2.constitutioncenter.org\nusername: isigned\npassword: same as used in script.\n. Now if I remove the $mail->IsSMTP(); \nThe mail gets sent, but test emails do not get to gmail.com (not even junk folder), only hotmail and yahoo? strange?\n. So you think the SMTP host is not correct? I am just using MAMP as my test mail server.\n. I did have the client add my IP address to their SPF record. Any way  I can check if they added correctly?\n. Ah...ok, Sorry was confused.\nSo adding IP of device to SPF record is only needed if using Mail() NOT SMTP, got it.\nI'd rather do SMTP, so emails will get sent successfully.\nSo for SMTP, and the error I got, do you think their SMTP info they gave me was incorrect? They have to be using SMTP since they can access Outlook online right?\n. With the 587 port it give me error:\n2015-05-04 17:29:56 Connection: opening to Mail2.constitutioncenter.org:587, timeout=300, options=array ( )\n2015-05-04 17:31:12 SMTP ERROR: Failed to connect to server: Operation timed out (60) 2015-05-04 17:31:12 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting Message could not be sent.\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nWith the 25 port it gives me error:\n2015-05-04 17:36:45 Connection: opening to Mail2.constitutioncenter.org:25, timeout=300, options=array ( )\n2015-05-04 17:36:45 Connection: opened\n2015-05-04 17:36:45 SERVER -> CLIENT: 421 4.3.2 Service not available\n2015-05-04 17:36:45 CLIENT -> SERVER: EHLO email\n2015-05-04 17:36:45 SERVER -> CLIENT:\n2015-05-04 17:36:45 SMTP ERROR: EHLO command failed:\n2015-05-04 17:36:45 SMTP NOTICE: EOF caught while checking if connected\n2015-05-04 17:36:45 Connection: closed\n2015-05-04 17:36:45 SMTP Error: Could not connect to SMTP host. 2015-05-04 17:36:45 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMessage could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. ok, thanks do much!!! I will contact them and let them know. \n. ",
    "rossnick": "Thanks, we'll do that...\n. ",
    "aqnouch": ":dancer:\n. ",
    "hamdan-mahran": "You is Awesome @Synchro \nThanks very much!\n. Thanks very much for your reply :) \nBut i see this article is so complicated for me, and i don't understand, i just want to send a message, and i make all steps ( user - pass - etc )\nThanks!\n. Thanks very much for your reply :) \nBut i see this article is so complicated for me, and i don't understand, i just want to send a message, and i make all steps ( user - pass - etc )\nThanks!\n. Wow, you is awesome,\nI want to thank you a lot for your support, from my heart i don't see any man like you, you is awesome, and i hope you like my last theme on themeforest http://themeforest.net/item/enar-responsive-multipurpose-html5-template/11107340\nI can send it as a gift if you like it :)\nAll the best\n. Thanks very much @Synchro , it's my pleasure to like it :) \n. ",
    "mr-esj": "Thanks for that. I get your point. It won't really help me as this means that I need to make quite a lot of changes in different parts of the website I'm using PHPMailer for as opposed to making a small change in one place only, but I agree that that's no reason for you to accept/deal with RFC invalid addresses.\n. Thanks for that. I'll look a bit more into the theory that\n\nyou'll probably find that the same address without dots will also work\n\nas this is not always the case, but once that's clear I'll follow your approach. Again, thanks for your fast and helpful response.\n. @ooxi \nThanks for that.\nThere are 3 major mobile phone providers in Japan - Softbank, Docomo and au. Docomo (@docomo.ne.jp) and au (@[*].ezweb.ne.jp) both allow trailing dots and double dots in the local part of their email addresses. Apparently, they issue a warning upon creation that this pattern might cause problems, but that's ignored by some users.\nUnfortunately, I cannot easily reproduce the problem, since you can only set up an email with Docomo and au when you have a contract with them. I can try and run some tests later on -- my first two points of attack would be:\na) removing the dots\nb) wrapping the local part in double quotation marks\nbut I can't validate easily as these are customer email addresses.\nI did some more research on this and found some developers addressing the same issue, but all of those threads are in Japanese, and none of them offer a real solution apart from telling the user to change their email address. Outlook seems to ignore these addresses, and Gmail seems to fail as well, though it seems to be possible to force Gmail to send if the local part is wrapped in double quotation marks. \nThere is no indication that removing the dots will work. In fact, I don't think (though I might be wrong) that removing the dots is the same as including the dots is expected behaviour. It doesn't work on Google Apps for Business for example. \nOne address I have here on a list is \nxy..z..@\n(letters only changed) and I very much doubt that xyz@ will resolve to the same address. Instead, the user has introduced the dots/double dots because xyz@ was already taken.\nIn terms of frequency -- I have access to a list of 120,000 email addresses, all Japanese, with both mobile and other email addresses. Searching for a double dot, there are 75 cases, and searching for a trailing dot in the local part, there are 71 cases (some are overlapping, see example).\nI'll update this thread if I found a solution but it might take a while as the priority is not that high.\n. We are using Google Apps with some of our domains. \nAnd in those cases, us.er@mydomain.com is not sent to user@mydomain.com. It's returned immediately, saying that user doesn't exist. Which makes me think that Gmail's way of handling dots is not a universal rule.\n. ",
    "TIP93": "Hello,\nI would like to reopen this old thread. I need to validate e-mails which include two dots (such as tomas.example.ab@gmail.com) and am a beginner to programming. Could you please help me where to implement the code @Synchro posted earlier and what other steps are necessary?\nI am really desperate as I cannot figure it out\nThanks a lot!\n. It is not working, though. The e-mail is sent only if the address contains maximally 1 dot.\n. It is not working, though. The e-mail is sent only if the address contains maximally 1 dot.\n. Thank you. I will have to look somewhere else for the error.\n. Thank you. I will have to look somewhere else for the error.\n. ",
    "KamranMackey": "Oh wait, nevermind. Figured it out.\n. ",
    "sherryl4george": "Hi Synchro,\nHow can we go about pulling more people to test the OAUTH 2 feature for GMail\n. I am more than glad to help you. \nCan you please guide me on what I should be doing. If we are extending OAuth for more providers, which all are we targeting at? And other things should I do further \n. Let us take this forward \nI will provide the required coding latest by this weekend. Please let me know if there are more services to be added\n. I was working on this using the branch 5.4. Below are my findings:\n1. Inorder to completely eliminate the use of ClientProviders like Google, Yahoo for OAuth from composer, we have to create classes which does the functionality of those classes for us. These can be placed inside a seperate folder in OAuthProvider. The phpleauge/oauth-client will still be used as the base.\n2. While creating the OAuth instance, how can one distinguish between GMail, Yahoo, Microsoft or anyother.\n- There should be a new variable( say a integer for each service ) added to PHPMailerOAuth class which indicate the service provider being used. This has to be set by the user\n- Pass the OAuth instance of the service provider itself. It adds the overhead to the end user to create the instance. Not very advisable.\n-  According to the SMTP passed, the provider has to be figured out using some logic in the getOAUTHInstance() method of PHPMailerOAuth class. Incase of Microsoft, will we end up having more than one SMTP addresses.\nIn all above cases when a new provider is added, code changes are required into the PHPMailerOAuth class.\nPlease share your views & suggest on this, so that we can go ahead.\n. So, now how should we go further? What changes need to be reverted? \n. Can you please check and let me know whether further changes are needed.\n- One drawback I can see is If we implement for 100 providers then 100 new\n  classes extending Base has to be created. Would that be a good idea to go with. Or adding\n  dependencies in composer would be good. Eventually adding more providers would make PHPMailer heavy.\nAnother thought can be to maintain the OAuthProvider classes in a separate repo or similar kind of thing that can be maintained by us\nPlease suggest.\n. @synchro Can you suggest on what changes has to be made to this? \n. I am really sorry for closing the request. I was under the assumption that everything was working fine.\nI was going through the code XOAUTH branch. I could find a little bit of issues. I would like to get clarifications on the following:\n1. Are we going to use external dependency like league/oauth2-google as the OAUTH Client or do we need a class implementation of our own. I guess if we use external dependency a lot of code duplication may happen ( say methods like getOauth64 and few variables will have to be declared in each class). If necessary I can make changes in both ways and we can have a discussion on it.\n2. All data like ClientId, ClientSecret etc for successful OAUTH is contained in objects of classes like Google. How are we passing it to the PHPMailer class, since we are planning to go ahead with only one PHPMailer main class. In this commit I have passed it as a object, with all the data in it to the method setOAuth of PHPMailer class.\n. I am really sorry for closing the request. I was under the assumption that everything was working fine.\nI was going through the code XOAUTH branch. I could find a little bit of issues. I would like to get clarifications on the following:\n1. Are we going to use external dependency like league/oauth2-google as the OAUTH Client or do we need a class implementation of our own. I guess if we use external dependency a lot of code duplication may happen ( say methods like getOauth64 and few variables will have to be declared in each class). If necessary I can make changes in both ways and we can have a discussion on it.\n2. All data like ClientId, ClientSecret etc for successful OAUTH is contained in objects of classes like Google. How are we passing it to the PHPMailer class, since we are planning to go ahead with only one PHPMailer main class. In this commit I have passed it as a object, with all the data in it to the method setOAuth of PHPMailer class.\n. If we use League classes like (LeagueGoogle, SteveMicrosoft etc.), then most part of the Base class will not be used, as the League classes are self-contained and the code in Base will be redundant.In this case Google class will extend LeagueGoogle directly. We can actually convert Base into a trait since the OAuth variables and methods taken out of PHPMailer is contained in Base. There is a method argument for setOAuth which is of type of Base class. This would have to be changed to some other type or without any type in case we are going this way.\n. If we use League classes like (LeagueGoogle, SteveMicrosoft etc.), then most part of the Base class will not be used, as the League classes are self-contained and the code in Base will be redundant.In this case Google class will extend LeagueGoogle directly. We can actually convert Base into a trait since the OAuth variables and methods taken out of PHPMailer is contained in Base. There is a method argument for setOAuth which is of type of Base class. This would have to be changed to some other type or without any type in case we are going this way.\n. So what do you suggest is to keep the Base class intact? In that case there will be more method additions to the Google class which is needed to provide Authorization URL and other methods, which would more likely look like the code in this pull. I dont think a code cleanup like the on in XOAUTH branch has a chance to work. Also getting tokens wont be a problem as far as I see. If we code Base extending AbstractProvider then there will be no use of League classes as we can override all necessary methods of AbstractProvider and make it work.\n. So what do you suggest is to keep the Base class intact? In that case there will be more method additions to the Google class which is needed to provide Authorization URL and other methods, which would more likely look like the code in this pull. I dont think a code cleanup like the on in XOAUTH branch has a chance to work. Also getting tokens wont be a problem as far as I see. If we code Base extending AbstractProvider then there will be no use of League classes as we can override all necessary methods of AbstractProvider and make it work.\n. So just for a clarification: How will the class be now Base extends AbstractProvider and Google extends Base or directly implement Google from LeagueClient? The former is already implemented in this Pull, but as you can see needs a lot of redundant code. The latter is a simpler approach. Please clarify.\nYes it is true that League needs PHP5.5 as a minimum, which is sad to hear. PHPMailer would also go to 5.5 which is not a good thing.\n. So just for a clarification: How will the class be now Base extends AbstractProvider and Google extends Base or directly implement Google from LeagueClient? The former is already implemented in this Pull, but as you can see needs a lot of redundant code. The latter is a simpler approach. Please clarify.\nYes it is true that League needs PHP5.5 as a minimum, which is sad to hear. PHPMailer would also go to 5.5 which is not a good thing.\n. I don't find a the above piece of code to be ugly. But would it be difficult for the user to provide the long League class names. Different providers have different naming. Someone not aware of the names can easily break it.\nWe can go with one class each for each provider. To avoid the declaration OAuth variables and getOAuth64 method in each class and to keep it simple we can use a trait.\n. I don't find a the above piece of code to be ugly. But would it be difficult for the user to provide the long League class names. Different providers have different naming. Someone not aware of the names can easily break it.\nWe can go with one class each for each provider. To avoid the declaration OAuth variables and getOAuth64 method in each class and to keep it simple we can use a trait.\n. Then it has pretty much boiled down to using the league classes directly to create the provider and use another generic class to pass all details and set the OAuth64 string. This class should accept Email Id and Refresh Token also as parameters along with the provider object. There would be some overhead at the user end of declaring proper scopes(different for each provider) when obtaining refresh tokens. Shall we finalize this and go ahead?\n. Can we close this pull as the code in this is no more needed for us. \n. Please let me know if any further help required regarding OAuth\n. Can we try using class_alias. I tried using this. But it gave me a error\nthat the class was found even when I was using the qualified class name.\nMay be I was doing something wrong.\nOn Tuesday, April 5, 2016, Marcus Bointon notifications@github.com\n<javascript:_e(%7B%7D,'cvml','notifications@github.com');> wrote:\n\nI'm running into a silly PHP problem in the get token script - it seems\nimpossible to create a class from a string name if the class name is\naliased from another namespace, which is exactly what we're doing! I\nposted it on SO\nhttp://stackoverflow.com/questions/36432073/create-new-class-instance-from-string-name-in-an-aliased-namespace.\nGot any ideas?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/pull/675#issuecomment-205886632\n\n\nRegards,\nSherryl George\n+91 7036858184\n. Yes. MS needs the values to be populated. I wasn't able to get to any\ndocumentation regarding Yahoo OAuth2 for their mail sending. So I don't\nthink we can make Yahoo work for the time being. I can provide you with the\nexact values that need to be passed for MS latest by tomorrow.\nOn Thursday, April 7, 2016, Marcus Bointon notifications@github.com wrote:\n\nIt seems it is impossible to use dynamic class names if they are in\naliased namespaces, so I just rewrote to use literals instead. The\nget_auth_token script should work now (you'll still have to jiggle\ncomposer.json packages), please give it a try.\nDo you know if the Yahoo and MS providers need values in the options array\nlike Google does?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/pull/675#issuecomment-206505659\n\n\nRegards,\nSherryl George\n+91 7036858184\n. I found the scopes that need to be included in options array for MS\n'wl.imap', 'wl.offline_access'. I have tested this long back but I\nsuppose this to be working now also. Apologies that I can't test because I\nam out currently.\nOn Thursday, April 7, 2016, Sherryl George sherryl4george@gmail.com wrote:\n\nYes. MS needs the values to be populated. I wasn't able to get to any\ndocumentation regarding Yahoo OAuth2 for their mail sending. So I don't\nthink we can make Yahoo work for the time being. I can provide you with the\nexact values that need to be passed for MS latest by tomorrow.\nOn Thursday, April 7, 2016, Marcus Bointon notifications@github.com\n<javascript:_e(%7B%7D,'cvml','notifications@github.com');> wrote:\n\nIt seems it is impossible to use dynamic class names if they are in\naliased namespaces, so I just rewrote to use literals instead. The\nget_auth_token script should work now (you'll still have to jiggle\ncomposer.json packages), please give it a try.\nDo you know if the Yahoo and MS providers need values in the options\narray like Google does?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/pull/675#issuecomment-206505659\n\n\nRegards,\nSherryl George\n+91 7036858184\n\n\nRegards,\nSherryl George\n+91 7036858184\n. You can provide the Redirect URI as the http://localhost/folder/get_oauth_token.php when you register the App. I have been testing all the time with a localhost only.\n. I have never faced such a issue. I have never ever taken it to the live server actually. But I am not sure if they have something country specific or so.\n. I am not very sure on how to mitigate the error. I am currently out of\ntown. Hope to help you as soon as I am back.\nOn Monday, April 18, 2016, Marcus Bointon notifications@github.com wrote:\n\nI'm running into another problem with this. It's failing to verify the\ngoogle cert after requesting permission. I have installed the latest cacert.pem\nfile from curl http://curl.haxx.se/ca/cacert.pem and set my php.ini to\npoint at it as both openssl.cafile and curl.cainfo properties, but I'm\nstill getting \"cURL error 60: SSL certificate problem: unable to get local\nissuer certificate\":\n[image: screen shot 2016-04-18 at 11 02 01]\nhttps://cloud.githubusercontent.com/assets/81561/14598951/0b92bcc2-0555-11e6-9e9c-242befddf4d1.png\nIf I manually patch guzzle to point directly at the CA file it still\nfails; if I disable verification it succeeds, so it's definitely a\nverification problem.\nLooking at the certificate chain for accounts.google.com, it uses the Google\nInternet Authority G2 intermediate certificate (which is not in the CA\nfile), and then the GeoTrust Global CA cert (which is in the CA file). I\ndownloaded the google G2 cert, converted it to PEM and added it to the CA\nfile, but that didn't help.\nCuriously, the string verify does not appear in the league classes at\nall, suggesting that it relies on the default guzzle setting of true, and\nis then supposed to get the CA file from the PHP cafile or capath\nproperties.\nDoes the callback URI need to be secure as well?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/pull/675#issuecomment-211293634\n\n\nRegards,\nSherryl George\n+91 7036858184\n. I am not very sure on how to mitigate the error. I am currently out of\ntown. Hope to help you as soon as I am back.\nOn Monday, April 18, 2016, Marcus Bointon notifications@github.com wrote:\n\nI'm running into another problem with this. It's failing to verify the\ngoogle cert after requesting permission. I have installed the latest cacert.pem\nfile from curl http://curl.haxx.se/ca/cacert.pem and set my php.ini to\npoint at it as both openssl.cafile and curl.cainfo properties, but I'm\nstill getting \"cURL error 60: SSL certificate problem: unable to get local\nissuer certificate\":\n[image: screen shot 2016-04-18 at 11 02 01]\nhttps://cloud.githubusercontent.com/assets/81561/14598951/0b92bcc2-0555-11e6-9e9c-242befddf4d1.png\nIf I manually patch guzzle to point directly at the CA file it still\nfails; if I disable verification it succeeds, so it's definitely a\nverification problem.\nLooking at the certificate chain for accounts.google.com, it uses the Google\nInternet Authority G2 intermediate certificate (which is not in the CA\nfile), and then the GeoTrust Global CA cert (which is in the CA file). I\ndownloaded the google G2 cert, converted it to PEM and added it to the CA\nfile, but that didn't help.\nCuriously, the string verify does not appear in the league classes at\nall, suggesting that it relies on the default guzzle setting of true, and\nis then supposed to get the CA file from the PHP cafile or capath\nproperties.\nDoes the callback URI need to be secure as well?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/pull/675#issuecomment-211293634\n\n\nRegards,\nSherryl George\n+91 7036858184\n. @renardrouge I see that you are obtaining a Client Id for Web Server app. Can you please try getting the credentials for a Client Side using Javascript option for Calling from where option. Even though we run PHPMailer from a Web Server the working of a google Webserver App is completely different from our scenario. We make PHPMailer work as a client side app in order to get the refresh token. We store this refresh token and use it for subsequent calls and send mails. \n. @renardrouge I think the above way should work if everything else is fine at your ebd. Or if you still have issues you can simply try using the code in Xoauth branch to double check things\n. Below is the screenshot of the option I wanted you to select when you create the app\n\nI meant to say that in order to confirm that the Refresh token you have created works fine you can actually use the xoauth branch. Just because the code in Xoauth branch is 100% sure to works if we have the correct parameters. Hope this helps. \n. Typically Access tokens are short lived unlike Refresh tokens which are\nlong lived. In OAuth2 setup we trade the refresh tokens to obtain a Access\ntoken and this access token is used for authentication and thereby send\nmails.  So internally when a mail is sent this is the process that happens.\nIf we use a Access token directly without a Refresh token we don't have a\nway to get a new Access Token once the it is expired, without a user\nintervention. Remember the fact that access tokens have a very short life.\nWe want to avoid this user intervention since PHPMailer is going to be on\nthe server side and for this setup the user is actually the sender of the\nemail and not the end user.\nOn Thursday, April 7, 2016, renardrouge notifications@github.com wrote:\n\nThanks ! Can you explain why a refresh token is used in the\ngmail_xoauth.php example rather than an access token ? I will try your\ncredential setup suggestion to see if that makes any difference.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/677#issuecomment-206527769\n\n\nRegards,\nSherryl George\n+91 7036858184\n. Yes. You are absolutely correct. To see what the current access token, and if you are using the Master branch go to the file class.phpmaileroauthgoogle.php and you can echo the $token variable after line 74. If in Xoauth branch the same can be found in src\\OAuth.php around line 100. The function getToken just above this does all the work to get access token from refresh token.\n. Yes this is fine. You can go ahead and create the credentials. The\nscreenshot I gave is reached when you create a new project and add apis.\nThe way you follow is also fine. Go ahead.\nOn Thursday, April 7, 2016, renardrouge notifications@github.com wrote:\n\nHi ! I tried to follow your instructions on the Google Developer site, but\nI do not know how to get to the screen shot you displayed. This is the\nsetup I see. Do you have the URI for your screen ?\n[image: phpmailer2_credentials]\nhttps://cloud.githubusercontent.com/assets/10366395/14331647/35a9908e-fc14-11e5-8144-fca6a2875757.JPG\n\u2014\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/677#issuecomment-206545282\n\n\nRegards,\nSherryl George\n+91 7036858184\n. Can you please run me through how you go about from the first step. Just to\nbe sure did you change the required dependencies in composer.json. Have did\nyou run the composer?\nOn Thursday, April 7, 2016, renardrouge notifications@github.com wrote:\n\nHello Syncro ! I am stuck. I uninstalled and reinstalled the latest\ncomposer. Composer version 1.0-dev\n(40c14709f79f9d7ea35ac969cfbd7f41beb525bb) 2016-04-05\nI tried the new gmail_xoauth.php code again, with the single require for\nautoload.php and I get \"Fatal error: Class 'PHPMailer\\PHPMailer\\PHPMailer'\nnot found in C:\\xampp\\htdocs\\phpmailer2\\gmail_xoauth_v2.php on line 18\"\nSuggestions ??? I am running on a Windows laptop.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/677#issuecomment-206617475\n\n\nRegards,\nSherryl George\n+91 7036858184\n. I feel you have a lot of stuff going into the composer.json file. My version would just have and addition of \"league/oauth2-google\":\"*.*\" under the require block. And run a composer update --no-dev\n. Hope you did a Clone of xoauth branch and you have the correct files. Now go to composer.json and add \"league/oauth2-google\":\"*.*\" under require. There's really no need to add anything else as you have said above in the composer file. Now run a composer update. And things should work fine. \n. Now are you able to get it work properly. If not what's the error you face? \n. I guess things are going in the right direction now. To resolve this issue please check https://github.com/PHPMailer/PHPMailer/issues/368 See the code solution by Synchro\n. There is something wrong in the way you built the file. That's what I guess. Can't you get a fork directly of the xoauth branch?\n. It isnt the issue. I had the same issue and could send mails properly bypassing it. Please download a fresh copy of PHPMailer from XOAUTH branch and change composer in the root folder and run it from the root folder\n. Can you please send me the file you are running to me. I will check and let\nyou know\nOn Friday, April 8, 2016, renardrouge notifications@github.com wrote:\n\nGood day members !\nLatest results after reinstalling under localhost root directory. I cloned\nthe recent updates and exercised get_oauth_token as before with success.\nHowever I seem to be at the same place as before with the previous\nstructure.\nI don't know where to go from here. Any suggestions that might aid in\nnarrowing down why Google refuses to authenticate ???\nSERVER -> CLIENT: 220 smtp.gmail.com ESMTP cl4sm4182496igb.4 - gsmtp\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-smtp.gmail.com at your service,\n[67.193.150.17]250-SIZE\n35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250\nSMTPUTF8\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-smtp.gmail.com at your service,\n[67.193.150.17]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH2\nPLAIN-CLIENTTOKEN OAUTHBEARER\nXOAUTH250-ENHANCEDSTATUSCODES250-PIPELINING250 SMTPUTF8\nCLIENT -> SERVER: AUTH XOAUTH2\ndXNlcj1zb21lb25lQGdtYWlsLmNvbQFhdXRoPUJlYXJlciB5YTI5Li52UUtYeHRoM3lMc0lxWldqWnI1WlVNZTZuLWc0M25OR2FrSXBjaTAybU5nNEt0bmpQYjNOZF9BcDJJSzFpNFdfTlEBAQ==\nSERVER -> CLIENT: 334\neyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP ERROR: AUTH command failed: 334\neyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP Error: Could not authenticate.\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 535-5.7.8 Username and Password not accepted. Learn more\nat535 5.7.8 https://support.google.com/mail/answer/14257\ncl4sm4182496igb.4 - gsmtp\nSMTP ERROR: QUIT command failed: 535-5.7.8 Username and Password not\naccepted. Learn more at535 5.7.8\nhttps://support.google.com/mail/answer/14257 cl4sm4182496igb.4 - gsmtp\nSMTP connect() failed.\nhttps://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed.\nhttps://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n\u2014\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/677#issuecomment-207045279\n\n\nRegards,\nSherryl George\n+91 7036858184\n. Yes you can. You can move it to anywhere now. I asked to move it to the root just to make sure that we don't miss anything while creating the refresh token. You can move it to any level now but may have to set the proper redericturi once if at all you have to generate the refresh token. Sorry for the confusion that I made. \n. Really appreciate your patience to sit through and sort out things. Hope now it works like a charm. \n. Yes. It is unneeded. It would have crept in when did the code cleanup.\nOn Thursday, April 21, 2016, Marcus Bointon notifications@github.com\nwrote:\n\n@sherryl4george https://github.com/sherryl4george The state property in\nthe OAuth class seems unneeded - nothing uses it and there is no way of\nsetting it, just this getter\nhttps://github.com/PHPMailer/PHPMailer/blob/6.0/src/OAuth.php#L93. I\nthink it has been confused with the League provider classes which have a\nstate property.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/687\n\n\nRegards,\nSherryl George\n+91 7036858184\n. Yes. It is unneeded. It would have crept in when did the code cleanup.\nOn Thursday, April 21, 2016, Marcus Bointon notifications@github.com\nwrote:\n\n@sherryl4george https://github.com/sherryl4george The state property in\nthe OAuth class seems unneeded - nothing uses it and there is no way of\nsetting it, just this getter\nhttps://github.com/PHPMailer/PHPMailer/blob/6.0/src/OAuth.php#L93. I\nthink it has been confused with the League provider classes which have a\nstate property.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/687\n\n\nRegards,\nSherryl George\n+91 7036858184\n. ",
    "fstfrognation": "Sorry - I thought I had commented earlier - but obviously I didn't - sorry about that.  Everything is working perfectly now.  I've been using it for the past 5-6 weeks without any problems.  I haven't found anything else new to report back.\nUsage, error messages, and performance all seem great to me.\n- Rob\n. ",
    "alexplusde": "Just for the record: I tried to follow \nhttps://github.com/PHPMailer/PHPMailer/wiki/Using-Gmail-with-XOAUTH2\nand failed to generate a RefreshToken.\nBut i followed the instructions given in: \nhttp://masashi-k.blogspot.de/2013/06/sending-mail-with-gmail-using-xoauth2.html\nwhich seem much easier as you don't have to mess with an external library.\n. Just for the record: I tried to follow \nhttps://github.com/PHPMailer/PHPMailer/wiki/Using-Gmail-with-XOAUTH2\nand failed to generate a RefreshToken.\nBut i followed the instructions given in: \nhttp://masashi-k.blogspot.de/2013/06/sending-mail-with-gmail-using-xoauth2.html\nwhich seem much easier as you don't have to mess with an external library.\n. I just talked about getting the refresh token part. \nWell, I don't use composer, that's why it was not as easy for me and the instructions for getting the refresh token via https://developers.google.com/oauthplayground may be an alternative for people with less server-side experience (like me).\nAnyway, thanks for the effort, the wiki pages and examples really helped a lot.\n. I just talked about getting the refresh token part. \nWell, I don't use composer, that's why it was not as easy for me and the instructions for getting the refresh token via https://developers.google.com/oauthplayground may be an alternative for people with less server-side experience (like me).\nAnyway, thanks for the effort, the wiki pages and examples really helped a lot.\n. ",
    "10029759": "Hi Synchro, could you suggest a way to fix my server settings. As I'm using the troubleshooting work around at present. \n. ",
    "prakashpandey0": "getting such error , using laragon as a local server.\nplease help me!\n2018-02-01 18:22:58 Connection: opening to smtp.gmail.com:587, timeout=300, options=array()\n2018-02-01 18:22:58 Connection: opened\n2018-02-01 18:22:59 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP y18sm198595pfa.175 - gsmtp\n2018-02-01 18:22:59 CLIENT -> SERVER: EHLO localhost\n2018-02-01 18:22:59 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [103.226.90.197]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2018-02-01 18:22:59 CLIENT -> SERVER: STARTTLS\n2018-02-01 18:22:59 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\n2018-02-01 18:22:59 Connection failed. Error #2: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages:error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed [C:\\laragon\\www\\gmail\\vendor\\phpmailer\\phpmailer\\src\\SMTP.php line 404]\nSMTP Error: Could not connect to SMTP host.\n2018-02-01 18:22:59 CLIENT -> SERVER: QUIT\n2018-02-01 18:23:00 \n2018-02-01 18:23:00 \n2018-02-01 18:23:00 Connection: closed\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. ",
    "dextel2": "djmakaay, If you're sending mails from local environment, smtp4dev should solve your problem . And you're exposing your own password, I'd recommend to hide me it unless it's a dummy account?. And you're exposing your own password, I'd recommend to hide me it unless it's a dummy account?. It also amazes me that number of my first contribution to someone else's work is a palindrome number. Have you read the documentation or even saw the examples?. $mail = new PHPMailer();\nAlso, if you're still facing error add \n$mail->SMTPDebug = 2; in your code and paste the stack trace. @Synchro Ahh... He's using legacy version, that's why no parenthesis... there is no exact translation for that, I can do a closest translation. ",
    "bizley": "It's true, I can do it that way. But since this is important part of the class I was hoping for easier solution like the one with class property for $patternselect (very small change required). Anyway - thanks and keep up the good work!\n. For me it was typical email address: test@test1.com\n. Actually the solution given in #424 is enough to work around this issue.\n. ",
    "pkorsukov": "In my case it was for all e-mail addresses of our new users. Something like\nuser@test-domain.com throws exception\n. For me the validation is not important at all, so I would prefer to have a component which always works without any version-specific functions. Especially when it comes to mail function which popular across the community.\nPlease consider removing the pcre8 mode as soon as it have no impact on security but impacting the stability.\n. ",
    "speicus": "We use PHPCS with VariableAnalysis plugin, that's what flagged this line with a warning.\nI see you point, though this really seems like a micro-optimization which comes at the cost of readability and may cause an error if, say, at some point in the future somebody decides to replace for with while or makes some other modification to the loop body. The original function (http://www.php.net/manual/en/function.mb-encode-mimeheader.php#60283) didn't have it.\nI agree though, presently this is not an error.\n. ",
    "glouk7": "I have a similar issue, and i use the latest PHPmailer version.. I have a similar issue, and i use the latest PHPmailer version.. I've done a lot of checks and logging out apache logs...\nLet's say that the code is at thanks.php\nIt seems that the thanks.php file that runs the email code, run sometimes more than 1 time without any specific reason after few seconds difference (around 2-8 seconds).\nOf course the code of that php file, doesn't have any loop in order to do that, and also the strange thing that this this is not happening every time, but sometimes.\nThe result of it, is the same receiver to receive more than 2-3 copies of the same email...\nI believe that the issue is coming out from the PHPMailer script...i've \"updated\" to the latest version, but the problem remains.\n. I've done a lot of checks and logging out apache logs...\nLet's say that the code is at thanks.php\nIt seems that the thanks.php file that runs the email code, run sometimes more than 1 time without any specific reason after few seconds difference (around 2-8 seconds).\nOf course the code of that php file, doesn't have any loop in order to do that, and also the strange thing that this this is not happening every time, but sometimes.\nThe result of it, is the same receiver to receive more than 2-3 copies of the same email...\nI believe that the issue is coming out from the PHPMailer script...i've \"updated\" to the latest version, but the problem remains.\n. ",
    "HemalBhalodia": "I am having the same issues. PHPMailer sends sometime two or more emails. But it's done randomly as we are sending 1000+ emails daily. So it's sending after we start to send more emails. It's working fine when we send 200-300 emails a day but if we start to send more it's sending 2-3 emails to some customers.. I am having the same issues. PHPMailer sends sometime two or more emails. But it's done randomly as we are sending 1000+ emails daily. So it's sending after we start to send more emails. It's working fine when we send 200-300 emails a day but if we start to send more it's sending 2-3 emails to some customers.. Thanks Synchro for quick followup. $mail->clearAddresses fixed my issue. Thank you again.. Thanks Synchro for quick followup. $mail->clearAddresses fixed my issue. Thank you again.. ",
    "shishkin17": "I thought I had the same issue until I realised that if you want to send 2 (or more) separate emails to different addresses you need to clear addresses and attachments (and everything that has clear functions). The problem that it is not obvious. I found that you have those clear functions only in that issue after an hour of trying to figure out why is that happening. I am not sure that I have to read all the documentation and all the functions available just to do the basic action - send email.\nYou should write about that on the main page and in the example!. ",
    "davidearl": "Thanks - so how would debugging become enabled (or how would I turn it off)? I'm not aware of doing anything that would turn debugging on. It definitely seems to be coming from AddAddress.\n. OK, I found it - the error message was \"Invalid address: \" - it was indeed an echo in addAnAddress, but in an older version (I'd forgotten I'd taken it from another project rather than direct off GitHub). The current version doesn't have that, as you say, but does then fail completely quietly. However I noticed I can give TRUE to the constructor and have it throw an error, which fitted perfectly with the try..catch I already had. Sorry to have bothered you, I should have tried updating first.\n. ",
    "bostonmacosx": "Hello there...I did the troubleshooting guide...the thing you might want to change in the guide is that it takes almost 1hr for the less secure apps option to propagate through the google system. So it is working now and I intend to switch to the 5.2.11 oAuth when it is released. \nThanks for the work. I\"ve been a VERY long user of PHPMAiler\n. ",
    "Lambik": "I agree that it's not the best solution to add the block to all switch cases. I've tested in Outlook 2010 and gmail that there was no need to add an .ics file with the attachments (but this was not really the issue I'm fixing, I'm just using the existing logic of iCals in another case)\n. ",
    "neotropic2023": "Thank you, that was very helpful!\n. ",
    "Neel97": "Not working when the host the script in gearhost server but works in localhost enivronment. \nCan anyone help what to do?. Not working when the host the script in gearhost server but works in localhost enivronment. \nCan anyone help what to do?. ",
    "cyberrock": "I had some issues with another server last week, and had to downgrade and upgrade PHP a few times. I had just noticed today that my PHPMailer script was no longer working.\nthere are no errors coming up though there is no HTML being displayed under $mail = new PHPMailer;.. previously it has been working fine..\n. ",
    "cinder09": "```\nfor($i = 0; $i< $_SESSION[\"productCount\"];$i++)\n{\n    $currImg = base64_encode(file_get_contents($imagenames[$i]));\n    $src = 'data: '.mime_content_type($imagenames[$i]).';base64,'.$currImg;\n$content .=\n'<tr>\n<td><table width=\"600\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td colspan=\"3\" style=\"font-size:18px; font-weight: normal; color:#070000; text-transform: uppercase;\">image '.($i+1).'</td>\n</tr>\n<tr>\n<td colspan=\"3\">&nbsp;</td>\n</tr>\n<tr>\n<td width=\"146\" rowspan=\"4\" valign=\"top\" style=\"padding:0\"><img src=\"cid:imgname'.$i.'\" alt=\"imgname'.$i.'\" width=\"146\"></td>\n<td width=\"40\">&nbsp;</td>\n<td style=\"color:#000; font-size:15px; height: 146px;\">'\n</td>\n</tr>\n<tr>\n<td width=\"40\">&nbsp;</td>\n<td>&nbsp;</td>\n</tr>\n<tr>\n<td width=\"40\">&nbsp;</td>\n<td>&nbsp;</td>\n</tr>\n<tr>\n<td valign=\"top\">&nbsp;</td>\n<td>&nbsp;</td>\n<td>&nbsp;</td>\n</tr>\n</table></td>\n</tr>';\n\n}\n```\nI'm embeding the images like so. It seems like I'm redeclaring the $src inside the loop.\nAnyway the images are embeded correctly when the email is delivered\nI guess using smtp won't solve the issue.\nThe emails are pretty big too. \n. ```\nfor($i = 0; $i< $_SESSION[\"productCount\"];$i++)\n{\n    $currImg = base64_encode(file_get_contents($imagenames[$i]));\n    $src = 'data: '.mime_content_type($imagenames[$i]).';base64,'.$currImg;\n$content .=\n'<tr>\n<td><table width=\"600\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n<tr>\n<td colspan=\"3\" style=\"font-size:18px; font-weight: normal; color:#070000; text-transform: uppercase;\">image '.($i+1).'</td>\n</tr>\n<tr>\n<td colspan=\"3\">&nbsp;</td>\n</tr>\n<tr>\n<td width=\"146\" rowspan=\"4\" valign=\"top\" style=\"padding:0\"><img src=\"cid:imgname'.$i.'\" alt=\"imgname'.$i.'\" width=\"146\"></td>\n<td width=\"40\">&nbsp;</td>\n<td style=\"color:#000; font-size:15px; height: 146px;\">'\n</td>\n</tr>\n<tr>\n<td width=\"40\">&nbsp;</td>\n<td>&nbsp;</td>\n</tr>\n<tr>\n<td width=\"40\">&nbsp;</td>\n<td>&nbsp;</td>\n</tr>\n<tr>\n<td valign=\"top\">&nbsp;</td>\n<td>&nbsp;</td>\n<td>&nbsp;</td>\n</tr>\n</table></td>\n</tr>';\n\n}\n```\nI'm embeding the images like so. It seems like I'm redeclaring the $src inside the loop.\nAnyway the images are embeded correctly when the email is delivered\nI guess using smtp won't solve the issue.\nThe emails are pretty big too. \n. sadly I don't have access to a mail log, but I'll try it with smtp, maybe this will solve the problem\n. sadly I don't have access to a mail log, but I'll try it with smtp, maybe this will solve the problem\n. ",
    "johnsmeeth": "my code:\nhttp://pastebin.com/raw.php?i=MMvsiHrY\nError email:\n\n. my code:\nhttp://pastebin.com/raw.php?i=MMvsiHrY\nError email:\n\n. Many thank @Synchro . it's done.\n. Many thank @Synchro . it's done.\n. ",
    "fontanil": "Thanks Synchro!\nNo error in errors log. No trace in phpmail.log on server: mail is not sent...\nI tried to add \"count($this->to)\" and the result is \"0\".\nI don't know how to add code to get a return value: where \"to\" address is kepted and tested to return empty?\n. Thanks Synchro!\nNo error in errors log. No trace in phpmail.log on server: mail is not sent...\nI tried to add \"count($this->to)\" and the result is \"0\".\nI don't know how to add code to get a return value: where \"to\" address is kepted and tested to return empty?\n. Sorry Marcus, I am not a coder, and I don't know where to add this code (var_dump). It's not \"my\" code but joomla's code. ;)\nAll addresses are correct, all emails were sent yesterday on PHP 5.4, not today on 5.5, so there is somewhere something that delete them, where Joomal! validate original address.\nNo errors with error reporting in index.php (you code above), debug and error reporting at development value in configuration.\nAnd I can't test anymore, as my hoster seems to change something in PHP setting, so emails works now on my own server! not on my client server yet :))\nThanks!\n. Sorry Marcus, I am not a coder, and I don't know where to add this code (var_dump). It's not \"my\" code but joomla's code. ;)\nAll addresses are correct, all emails were sent yesterday on PHP 5.4, not today on 5.5, so there is somewhere something that delete them, where Joomal! validate original address.\nNo errors with error reporting in index.php (you code above), debug and error reporting at development value in configuration.\nAnd I can't test anymore, as my hoster seems to change something in PHP setting, so emails works now on my own server! not on my client server yet :))\nThanks!\n. I will tell you what my hoster will say.\nThanks\n. I will tell you what my hoster will say.\nThanks\n. My host did not answer me yet, but I compared PHP infos and found that PHP has increased from 5.5.25-1~dotdeb+7.1 to 5.5.26-1~dotdeb+7.3 and version of PCRE library changed from 8.36 2014-09-26 to 8.30 2012-02-04\n. My host did not answer me yet, but I compared PHP infos and found that PHP has increased from 5.5.25-1~dotdeb+7.1 to 5.5.26-1~dotdeb+7.3 and version of PCRE library changed from 8.36 2014-09-26 to 8.30 2012-02-04\n. ",
    "patschi": "I had exactly this issue on one of my Wordpress installations. After updating PHP 5.6.9-1~dotdeb+7.1 to 5.6.10-1~dotdeb+7.3 this problem has gone and sending mails does work again. Seems to be a PHP related problem itself?\n. I had exactly this issue on one of my Wordpress installations. After updating PHP 5.6.9-1~dotdeb+7.1 to 5.6.10-1~dotdeb+7.3 this problem has gone and sending mails does work again. Seems to be a PHP related problem itself?\n. ",
    "evanb2": "I was having this same problem. I tried literally everything, checked everything on my server settings but still nothing.\nIn the end I removed this one line:    $mail->isSMTP();\nThat fixed my SMTP connection error. Don't know why, but it works. Any ideas @Synchro ?\n. ",
    "bsoujanya": "Does PHP Mailer need the from address to be yahoo mail ID only, if the username in mail settings is yahoo mail id?\nBecause mails are working if we use the following code chunk only. Otherwise it is throwing SMTP connect failed / From email ID not verified error.\n$yahoo_smtp = strpos($config['username'], 'yahoo');\n        if($yahoo_smtp !== false) {\n            $mail->setFrom('username','Do not Reply');\n        } else {\n            $mail->setFrom(EMAIL,'Do not Reply');\n        }\n. Okay...But that is not how we are using yahoo account.\nUser uses his yahoo settings to setup a mail server account for an application. Using the mail sever settings, notification mails are being sent through the application.\n. Yes, gmail does have some settings to enable sending mails. Shall check for Yahoo.\nAlso, does PHP Mailer work for any mail server settings or are there any limitations?\n. Just curious...if yahoo doesn't allow sending emails, how is PHP Mailer able to send mail with the above code chunk?\n. ",
    "vahalia": "Thank you guys.\nAll I really needed to do wa sto change the require statement in my php file to require_once with the vendor/autoload.php argument as suggested above.\nI did not need to do any of the namespace stuff or put the call to new inside a function or a classs. Not sure what the significance of those steps is; would be great if you could clarify.\nAnyway, I am now making progress, so thanks again.\n. ",
    "mrbellek": "Well, then the check can be replaced with substr($url, 'cid:') === FALSE or strpos($url, 'cid:') === FALSE. :smiley: \n. OK, updated the PR.\n. Fixed. Apologies, I don't contribute to repos often. :)\n. ",
    "ModulaShop": "Here is an example mail that fails to show the AltBody after a switch view to Plain text in Thunderbird it still shows Body (b2_6f3892f9ba6f5a810bd7be687bdae145 / the HTML).\nHTML-View of the Mail is fine.\n```\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n    boundary=\"b1_6f3892f9ba6f5a810bd7be687bdae145\"\nContent-Transfer-Encoding: 8bit\nThis is a multi-part message in MIME format.\n--b1_6f3892f9ba6f5a810bd7be687bdae145\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: 8bit\nPlaintext is here ... \n--b1_6f3892f9ba6f5a810bd7be687bdae145\nContent-Type: multipart/related;\n    boundary=\"b2_6f3892f9ba6f5a810bd7be687bdae145\"\n--b2_6f3892f9ba6f5a810bd7be687bdae145\nContent-Type: text/html; charset=us-ascii\nHTML CONTENT,\n\n[.... more HTML here]\n--b2_6f3892f9ba6f5a810bd7be687bdae145\nContent-Type: image/jpeg; name=\"image.jpg\"\nContent-Transfer-Encoding: base64\nContent-ID: <0d5b1c4c7f720f698946c7f6ab08f687>\nContent-Disposition: inline; filename=image.jpg\n/9j/4AAQSkZJRgABAQEASABIAAD/4ZAIRXhpZgAATU0AKgAAAAgACgEPAAIAAAASAAAAiAEQAAIA\n[.... encoded image here]\n--b2_6f3892f9ba6f5a810bd7be687bdae145--\n--b1_6f3892f9ba6f5a810bd7be687bdae145--\n``\n. Yes, is latest version, but had german Umlauts (\u00e4\u00f6\u00fc\u00df) in my original mail what caused the 8Bit encoding.\nI also had a close look on the mime-structure and couldn't see anything wrong (at least on my knowledge).\nIts just strange that thunderbird doesn't show the AltBody. I also compared with a similar structured mail written in thunderbird that doesn't have this problem. \nI could post 2 Mails tomorrow, one sent by phpmailer and the other authored in thunderbird if it helps.\n. Sorry, this is obviously a bug or very strange behavior of Thunderbird and not related to PHPMailer.\nI just changed the text/plain part of an E-Mail sent with Thunderbird in an Editor to know exactly what part is shown. Then i submitted the changed Mail by Telnet.\n=> Thunderbird still shows the simplified text/html instead of text/plain while Mutt shows the plaintext. This is also true for the Mails sent with PHPMailer.\nThis was my test, can be submitted with telnet after HELO / MAIL FROM / RCPT TO / DATA\n```\nSubject: Subject\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n boundary=\"------------090508060004010505010805\"\nThis is a multi-part message in MIME format.\n--------------090508060004010505010805\nContent-Type: text/plain; charset=utf-8; format=flowed\nContent-Transfer-Encoding: 7bit\nPlain Text content\nThis is AltBody\n--------------090508060004010505010805\nContent-Type: multipart/related;\n boundary=\"------------090705000807000105070707\"\n--------------090705000807000105070707\nContent-Type: text/html; charset=utf-8\nContent-Transfer-Encoding: 7bit\n\n\n<meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\">\n\n\n\nHTML Content,\n\nThis is Body\n\n\n--------------090705000807000105070707\nContent-Type: image/gif; x-mac-type=\"47494666\"; x-mac-creator=\"3842494D\";\n name=\"red.gif\"\nContent-Transfer-Encoding: base64\nContent-ID: \nContent-Disposition: inline;\n filename=\"red.gif\"\nR0lGODlhZAAUAIAAAP8AAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78i\nIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJh\nZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0\nNzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9\nImh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRl\nc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20v\neGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0v\nIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291\ncmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9z\naCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBQjRGNTRFRjE3MjUxMUU1OUM4NkRDMjgz\nNTY5OTU2QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBQjRGNTRGMDE3MjUxMUU1OUM4\nNkRDMjgzNTY5OTU2QSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4\nbXAuaWlkOkFCNEY1NEVEMTcyNTExRTU5Qzg2REMyODM1Njk5NTZBIiBzdFJlZjpkb2N1bWVu\ndElEPSJ4bXAuZGlkOkFCNEY1NEVFMTcyNTExRTU5Qzg2REMyODM1Njk5NTZBIi8+IDwvcmRm\nOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJy\nIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/O\nzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmY\nl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNi\nYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0s\nKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAAAAAAAs\nAAAAAGQAFABAAiyEj6nL7Q+jnLTai7PevPsPhuJIluaJpurKtu4Lx/JM1/aN5/rO9/4PDApn\nBQA7\n--------------090705000807000105070707--\n--------------090508060004010505010805--\n```\n. ",
    "nishitsoni": "No, there is no issue on server side, do I need to do anything to enable addreplyto?\n. ",
    "edgren": "I have already tried those settings. I have also tried to change the permissions of all the class files from 644 to 755. Didn't work. Tried 777 instead. Same result so I changed back to 644. I have double checked the connection setup and everything works just fine on localhost but not on my webserver.\n. I have already tried those settings. I have also tried to change the permissions of all the class files from 644 to 755. Didn't work. Tried 777 instead. Same result so I changed back to 644. I have double checked the connection setup and everything works just fine on localhost but not on my webserver.\n. openssl is enabled on the webserver. I have read the troubleshooting a \"million\" times now. Nothing works! The webserver is on a web hotel but it has a lot of issues so I'm on my way to create my own webserver. It will be a huge relief!\n. openssl is enabled on the webserver. I have read the troubleshooting a \"million\" times now. Nothing works! The webserver is on a web hotel but it has a lot of issues so I'm on my way to create my own webserver. It will be a huge relief!\n. ",
    "boomsya": "the same problem after update php 5.4 to 7.0.4\n2016-03-28 14:38:30 Invalid address: \u0412\u0430\u0448 \u043f\u0435\u043d\u0441\u0456\u0439\u043d\u0438\u0439 \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u043d\u0442\n2016-03-28 14:38:30 Connection: opening to ssl://mail.site.com:465, timeout=300, options=array (\n                                      )\n2016-03-28 14:38:30 SMTP ERROR: Failed to connect to server:  (0)\n2016-03-28 14:38:30 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. i resolve this problem in file libraries/vendor/phpmailer/phpmailer/class.phpmailer.php\nonly add\n$options= array_merge( array('ssl' => array (\n                    'verify_peer' => false,\n                    'verify_peer_name' => false,\n                    'allow_self_signed' => true)\n                    ), \n                $options\n                );\nin function     public function smtpConnect($options = array())\n. thanks. i will try\n. thanks. i will try\n. ",
    "NaseebullahSafi": "Guys, I have had the same problem and I fixed it by just simply doing the following:\n$mail->Host = 'tls://smtp.gmail.com:587'; \nYou guys should do the same\n. Guys, I have had the same problem and I fixed it by just simply doing the following:\n$mail->Host = 'tls://smtp.gmail.com:587'; \nYou guys should do the same\n. ",
    "AlexGnatko": "I did a debug, the code returns \"false\" here:\n// Begin encrypted connection\n    if (!stream_socket_enable_crypto(\n        $this->smtp_conn,\n        true,\n        STREAM_CRYPTO_METHOD_TLS_CLIENT\n    )) {\n        return false;\n    }\nLine 345, class.smtp.php\n. I did a debug, the code returns \"false\" here:\n// Begin encrypted connection\n    if (!stream_socket_enable_crypto(\n        $this->smtp_conn,\n        true,\n        STREAM_CRYPTO_METHOD_TLS_CLIENT\n    )) {\n        return false;\n    }\nLine 345, class.smtp.php\n. Maybe if stream_socket_enable_crypto fails like this, PHPMailer should go on using a regular unencrypted connection if the client doesn't require a TLS or SSL?\n. Maybe if stream_socket_enable_crypto fails like this, PHPMailer should go on using a regular unencrypted connection if the client doesn't require a TLS or SSL?\n. OK, I resolved the issue by myself.\nAdded:\n$mail->SMTPAutoTLS = false;\nLooks like in the new version the \"SMTPAutoTLS\" is enabled by default, I just disabled it.\n. OK, I resolved the issue by myself.\nAdded:\n$mail->SMTPAutoTLS = false;\nLooks like in the new version the \"SMTPAutoTLS\" is enabled by default, I just disabled it.\n. ",
    "phors-men": "where it to add Mr. AlexGnatko.. ",
    "meetavkhere": "i'm having trouble in PHPMailer , the error ,\nSMTP Error: Could not connect to SMTP host.\nwhat to do??. ",
    "enrichweb": "It is prompting said error for password because, it is connecting to local server i.e. vps.lotuscentre.ac.in instead of getting connected to smtp.mandrillapp.com and hence Password not accepted\n. It is prompting said error for password because, it is connecting to local server i.e. vps.lotuscentre.ac.in instead of getting connected to smtp.mandrillapp.com and hence Password not accepted\n. Thank You,  I will try the latest one, Issues is not with the password password is correct and working on one URL. Issue is I have set $mail->Host = \"smtp.mandrillapp.com\"; wheas request is connecting to local server Exim where is this site is running vps.lotuscentre.ac.in which should not...\n. Thank You,  I will try the latest one, Issues is not with the password password is correct and working on one URL. Issue is I have set $mail->Host = \"smtp.mandrillapp.com\"; wheas request is connecting to local server Exim where is this site is running vps.lotuscentre.ac.in which should not...\n. ",
    "greecemunky": "@Synchro Thanks for the heads-up on Exchange not complying with RFC2554. I wasn't aware.\nI've tested a small snippet that can be inserted between the if (!array_key_exists('AUTH', $this->server_caps)) { } and self::edebug('Auth method requested: ' . ($authtype ? $authtype : 'UNKNOWN'), self::DEBUG_LOWLEVEL); code fragments:\nif (!is_array($this->server_caps['AUTH']))  {\n    $this->setError('Server returned an invalid list of authentication methods');\n    return false;\n}\n. @Synchro Thanks for the heads-up on Exchange not complying with RFC2554. I wasn't aware.\nI've tested a small snippet that can be inserted between the if (!array_key_exists('AUTH', $this->server_caps)) { } and self::edebug('Auth method requested: ' . ($authtype ? $authtype : 'UNKNOWN'), self::DEBUG_LOWLEVEL); code fragments:\nif (!is_array($this->server_caps['AUTH']))  {\n    $this->setError('Server returned an invalid list of authentication methods');\n    return false;\n}\n. ",
    "theodorejb": "I can reproduce it with the following code:\n``` php\n$mail = new PHPMailer();\n$mail->isHTML(true);\n$mail->setFrom('me@example.com', 'My name');\n$mail->addAddress('you@example.com', 'Your name');\n$mail->Subject = 'Test broken line wrapping';\n$bodyText = 'This is a test';\n$repeatCount = ceil(PHPMailer::MAX_LINE_LENGTH / strlen($bodyText));\n$mail->Body = '' . 'HTML email test'\n    . str_repeat($bodyText, $repeatCount)\n    . '';\n$mail->send();\n```\nThe email I receive looks like this:\nHTML email test\nThis is a test\nThis is a test<=p>\n... and so on, with an equals sign replacing every 75th character in the email HTML.\n. Here's what I get when I view source in Outlook 2013:\n```\nDate: Thu, 30 Jul 2015 14:10:18 +0000\nTo: Your name you@example.com\nFrom: My name me@example.com\nSubject: Test broken line wrapping\nMessage-ID: a204h591ol76u39e0b5q946mn646ywgv@server\nX-Mailer: PHPMailer 5.2.10 (https://github.com/PHPMailer/PHPMailer/)\nMIME-Version: 1.0\nContent-Type: text/html; charset=\"iso-8859-1\"\nContent-Transfer-Encoding: quoted-printable\nHTML email testThis is a testThis is a test<=p>This is a testThis is a testThis is a testThis i= a testThis is a testThis is a testThis is a test=p>This is a testThis is a testThis is a testThis is a=estThis is a testThis is a testThis is a test=his is a testThis is a testThis is a testThis is a te=tThis is a testThis is a testThis is a testThi= is a testThis is a testThis is a testThis is a test<=p>This is a testThis is a testThis is a testThis i= a testThis is a testThis is a testThis is a test=p>This is a testThis is a testThis is a testThis is a=estThis is a testThis is a testThis is a test=his is a testThis is a testThis is a testThis is a te=tThis is a testThis is a testThis is a test\n``\n. The problem disappears if I remove the call tofixEOL()in theencodeQP()method (directly returning the result ofquoted_printable_encode()`). Could this be a Windows-specific issue with line endings?\nAs a temporary workaround, I can set $mail->LE = PHP_EOL; before sending the email.\n. ",
    "GuillermoCasanova": "@Synchro Thanks. We're first gonna try the first route so we've submitted a support ticket to GreenGeeks to receive the mail server logs. Will keep you updated. \n. @Synchro Thanks. We're first gonna try the first route so we've submitted a support ticket to GreenGeeks to receive the mail server logs. Will keep you updated. \n. ",
    "TheSDTM": "Ok, thank you. Another problem: when I try ti send email in russian, I recieve email with charset problem. How to set charset to UTF-8? I tried to add \"Content-Type: text/html; charset=\\\"UTF-8\\\";\\r\\n\" before main message, and it doesnt't help, and if I add this like on line 658 in SMPT file class($this->client_send(LINE . self::CRLF);), I recieve file with correct charset, but everywhere in my email writes  \"Content-Type: text/html; charset=\\\"UTF-8\\\";\\r\\n\" (because this line is placed in Foreach), and some of line contain ISO-8859-1 charset\n. Ok, thank you. Another problem: when I try ti send email in russian, I recieve email with charset problem. How to set charset to UTF-8? I tried to add \"Content-Type: text/html; charset=\\\"UTF-8\\\";\\r\\n\" before main message, and it doesnt't help, and if I add this like on line 658 in SMPT file class($this->client_send(LINE . self::CRLF);), I recieve file with correct charset, but everywhere in my email writes  \"Content-Type: text/html; charset=\\\"UTF-8\\\";\\r\\n\" (because this line is placed in Foreach), and some of line contain ISO-8859-1 charset\n. ",
    "rocky5469": "thank you so much Synchro for your precious feedback .\nisMail() working perfectly. but i dnt knw y isSMTP is still giving some error, which i dont understand at all\nERROR is:\n2015-08-04 01:59:54 CLIENT -> SERVER: EHLO mysite.com\n2015-08-04 01:59:54 CLIENT -> SERVER: AUTH LOGIN\n2015-08-04 01:59:54 CLIENT -> SERVER: cm9ja3k1NDY5QGdtYWlsLmNvbQ==\n2015-08-04 01:59:55 CLIENT -> SERVER: KioqKioqKioqKioqKioq\n2015-08-04 01:59:55 SMTP ERROR: Password command failed: 535-5.7.8 Username and Password not accepted. Learn more at 535 5.7.8 https://support.google.com/mail/answer/14257 <b>i7sm8522522obe.8</b> - gsmtp\n2015-08-04 01:59:55 SMTP Error: Could not authenticate.\n2015-08-04 01:59:55 CLIENT -> SERVER: QUIT 2015-08-04 01:59:55 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting Message could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/TroubleshootingAvailable\nMy coding\n``` php\n<?php\nrequire 'phpmailer/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n//$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host = 'smtp.gmail.com';              // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'userid@gmail.com';                 // SMTP username\n$mail->Password = 'secret';                           // SMTP password\n$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, ssl also accepted\n$mail->Port = 587;                                    // TCP port to connect to\n$mail->From = userid@gmail.com';\n$mail->FromName = 'Mailer';\n//$mail->addAddress('joe@example.net', 'Joe User');     // Add a recipient\n$mail->addAddress('name@mysite.com');               // Name is optional\n//$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n//$mail->addAttachment('/tmp/image.jpg', 'new.jpg');    // Optional name\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body in bold!';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n?>\n```\n. thank you so much Synchro for your precious feedback .\nisMail() working perfectly. but i dnt knw y isSMTP is still giving some error, which i dont understand at all\nERROR is:\n2015-08-04 01:59:54 CLIENT -> SERVER: EHLO mysite.com\n2015-08-04 01:59:54 CLIENT -> SERVER: AUTH LOGIN\n2015-08-04 01:59:54 CLIENT -> SERVER: cm9ja3k1NDY5QGdtYWlsLmNvbQ==\n2015-08-04 01:59:55 CLIENT -> SERVER: KioqKioqKioqKioqKioq\n2015-08-04 01:59:55 SMTP ERROR: Password command failed: 535-5.7.8 Username and Password not accepted. Learn more at 535 5.7.8 https://support.google.com/mail/answer/14257 <b>i7sm8522522obe.8</b> - gsmtp\n2015-08-04 01:59:55 SMTP Error: Could not authenticate.\n2015-08-04 01:59:55 CLIENT -> SERVER: QUIT 2015-08-04 01:59:55 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting Message could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/TroubleshootingAvailable\nMy coding\n``` php\n<?php\nrequire 'phpmailer/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n//$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host = 'smtp.gmail.com';              // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'userid@gmail.com';                 // SMTP username\n$mail->Password = 'secret';                           // SMTP password\n$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, ssl also accepted\n$mail->Port = 587;                                    // TCP port to connect to\n$mail->From = userid@gmail.com';\n$mail->FromName = 'Mailer';\n//$mail->addAddress('joe@example.net', 'Joe User');     // Add a recipient\n$mail->addAddress('name@mysite.com');               // Name is optional\n//$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n//$mail->addAttachment('/tmp/image.jpg', 'new.jpg');    // Optional name\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body in bold!';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n?>\n```\n. Synchro sorry, i didnt mentioned that the bold values in error message, keeps on changing each time i refresh my page...\n. Synchro sorry, i didnt mentioned that the bold values in error message, keeps on changing each time i refresh my page...\n. dear synchro. thanks for your reply. but got some issues.\n``` php\n<?php\nrequire 'phpmailer/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$name = $_POST['name'];\n$phone = $_POST['phone'];\n$email = $_POST['email'];\n$file = $_FILES['attachment']['tmp_name'];\n$message = $_POST['message'];\n//$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isMail();                                      // Set mailer to use SMTP\n$mail->Host = 'localhost';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'name@site.com';                 // SMTP username\n$mail->Password = 'password';                           // SMTP password\n$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, ssl also accepted\n$mail->Port = 587;                                    // TCP port to connect to\n$mail->From = 'name@site.com';\n$mail->FromName = $name;\n//$mail->addAddress('joe@example.net', 'Joe User');     // Add a recipient\n$mail->addAddress('mame1@gmail.com');               // Name is optional\n//$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'SASP Contact Form';\n$mail->Body = $message;\n$mail->Body .= \"Below are my contact details  Name: \";\n$mail->Body .= $name;\n$mail->Body .= \"My Phone number: \";\n$mail->Body .= $phone;\n$mail->Body .= \" My email address: \";\n$mail->Body .= $email;\n$mail->AltBody = 'You are using basic web browser ';\nif(is_array($_FILES)) {\n    $mail->AddAttachment($_FILES['attachment']['tmp_name'],$_FILES['attachment']['name']); \n}\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    //echo 'Message has been sent';\n    header('Location: thankyou.html');\n}\n?>\n```\n1. in the above code, when i send mail from isMail() function, its working perfectly  wen the recipient mail is name@mysite.com. but if i change the recipient mail to, name@gmail.com, its shows. following error...\nMessage could not be sent.Mailer Error: Could not instantiate mail function.\n. dear synchro. thanks for your reply. but got some issues.\n``` php\n<?php\nrequire 'phpmailer/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$name = $_POST['name'];\n$phone = $_POST['phone'];\n$email = $_POST['email'];\n$file = $_FILES['attachment']['tmp_name'];\n$message = $_POST['message'];\n//$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isMail();                                      // Set mailer to use SMTP\n$mail->Host = 'localhost';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'name@site.com';                 // SMTP username\n$mail->Password = 'password';                           // SMTP password\n$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, ssl also accepted\n$mail->Port = 587;                                    // TCP port to connect to\n$mail->From = 'name@site.com';\n$mail->FromName = $name;\n//$mail->addAddress('joe@example.net', 'Joe User');     // Add a recipient\n$mail->addAddress('mame1@gmail.com');               // Name is optional\n//$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'SASP Contact Form';\n$mail->Body = $message;\n$mail->Body .= \"Below are my contact details  Name: \";\n$mail->Body .= $name;\n$mail->Body .= \"My Phone number: \";\n$mail->Body .= $phone;\n$mail->Body .= \" My email address: \";\n$mail->Body .= $email;\n$mail->AltBody = 'You are using basic web browser ';\nif(is_array($_FILES)) {\n    $mail->AddAttachment($_FILES['attachment']['tmp_name'],$_FILES['attachment']['name']); \n}\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    //echo 'Message has been sent';\n    header('Location: thankyou.html');\n}\n?>\n```\n1. in the above code, when i send mail from isMail() function, its working perfectly  wen the recipient mail is name@mysite.com. but if i change the recipient mail to, name@gmail.com, its shows. following error...\nMessage could not be sent.Mailer Error: Could not instantiate mail function.\n. thank u fr the replay..\nbut i'm clueless what i need to check in php config..?\ni m using shared hosting..\n. thank u fr the replay..\nbut i'm clueless what i need to check in php config..?\ni m using shared hosting..\n. yes. when i use isMail(). i receive message perfectly. only when the recipient mail is name@mysite.com\nbut when i change the $mail->addAddress('name@mysite.com'); to $mail->addAddress('name@gmail.com');.\nwith rest of the code untouched, i get \"Could not instantiate mail function\"\n. yes. when i use isMail(). i receive message perfectly. only when the recipient mail is name@mysite.com\nbut when i change the $mail->addAddress('name@mysite.com'); to $mail->addAddress('name@gmail.com');.\nwith rest of the code untouched, i get \"Could not instantiate mail function\"\n. ",
    "shivka": "its show on my page\n.  how can i solve my error\n\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/469#issuecomment-144347721\n.\n. \n",
    "Mozammelctgmirbd": "Dear brother(synchro)\nassalamualaikum.i got successfully messase(when i run form localhost).but i dont get message when i open my gmail account(mozammelctgmirbd@gmail.com).\n. this is my code\n``` php\n<?php\nrequire('phpmailer/class.phpmailer.php');\n$mail = new PHPMailer;\n$name = 'name';\n$phone = 'phone';\n$email = 'email';\n$message = 'HI Friends How are you';\n//$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isMail();                                      // Set mailer to use SMTP\n$mail->Host = 'localhost';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'it2@aps-group.org';                 // SMTP username\n$mail->Password = '*';                           // SMTP password\n$mail->SMTPSecure = 'ssl';                            // Enable TLS encryption, ssl also accepted\n$mail->Port = 486;                                    // TCP port to connect to\n$mail->From = 'it2@aps-group.org';\n$mail->FromName = $name;\n//$mail->addAddress('joe@example.net', 'Joe User');     // Add a recipient\n$mail->addAddress('mozammelctgmirbd@gmail.com');               // Name is optional\n//$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'SASP Contact Form';\n$mail->Body = $message;\n$mail->Body .= \"Below are my contact details  Name: \";\n$mail->Body .= $name;\n$mail->Body .= \"My Phone number: \";\n$mail->Body .= $phone;\n$mail->Body .= \" My email address: \";\n$mail->Body .= $email;\n$mail->AltBody = 'You are using basic web browser ';\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n?>\n```\n. Dear Brother\nwhich mail address i will get message. i am Confucius.i am not getting message in mozammelctgmirbd@gmail.com and it2@aps-group.org.\nbut i am getting echo 'Message has been sent'\n. sendmail.inc  i change flowing this\n[sendmail]\nsmtp_server=smtp.gmail.com\nsmtp_port=465\nsmtp_ssl=auto\nerror_logfile=error.log\nauth_username=mozammelctgmirbd@gmail.com\nauth_password=\n. you told me that for change $mail->Port = 465;.\ni change this \nbut\ni am not getting message in mozammelctgmirbd@gmail.com and it2@aps-group.org.\nbut i am getting echo 'Message has been sent'\n. i dont undestand.please help me\n. Dear Brother \ni forget before code of sendmail.inc\nsendmail.inc i change flowing this\n[sendmail]\nsmtp_server=smtp.gmail.com\nsmtp_port=465\nsmtp_ssl=auto\nerror_logfile=error.log\nauth_username=mozammelctgmirbd@gmail.com\nauth_password=\n. sorry my dear Brother\n. you are helper so that i know about you \n. Dear Brother\nagain insttal xampp.try again but dont get any message i sing in mozammelctgmirbd@gmail.com\nthis my code\n<?php\nrequire('phpmailer/class.phpmailer.php');\n$mail = new PHPMailer;\n$name = 'name';\n$phone = 'phone';\n$email = 'email';\n$message = 'HI Friends How are you';\n//$mail->SMTPDebug = 3; // Enable verbose debug output\n$mail->isMail(); // Set mailer to use SMTP\n$mail->Host = 'localhost'; // Specify main and backup SMTP servers\n$mail->SMTPAuth = true; // Enable SMTP authentication\n$mail->Username = 'it2@aps-group.org'; // SMTP username\n$mail->Password = '*'; // SMTP password\n$mail->SMTPSecure = 'ssl'; // Enable TLS encryption, ssl also accepted\n$mail->Port = 465; // TCP port to connect to\n$mail->From = 'it2@aps-group.org';\n$mail->FromName = $name;\n//$mail->addAddress('joe@example.net', 'Joe User'); // Add a recipient\n$mail->addAddress('mozammelctgmirbd@gmail.com'); // Name is optional\n//$mail->addAttachment('/var/tmp/file.tar.gz'); // Add attachments\n$mail->isHTML(true); // Set email format to HTML\n$mail->Subject = 'SASP Contact Form';\n$mail->Body = $message;\n$mail->Body .= \"\nBelow are my contact details \nName: \";\n$mail->Body .= $name;\n$mail->Body .= \"\nMy Phone number: \";\n$mail->Body .= $phone;\n$mail->Body .= \"\nMy email address: \";\n$mail->Body .= $email;\n$mail->AltBody = 'You are using basic web browser ';\nif(!$mail->send()) {\necho 'Message could not be sent.';\necho 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\necho 'Message has been sent';\n}\n?>\n. Dear Brother\nagain insttal xampp.try again but dont get any message i sing in mozammelctgmirbd@gmail.com\nthis my code\n<?php\nrequire('phpmailer/class.phpmailer.php');\n$mail = new PHPMailer;\n$name = 'name';\n$phone = 'phone';\n$email = 'email';\n$message = 'HI Friends How are you';\n//$mail->SMTPDebug = 3; // Enable verbose debug output\n$mail->isMail(); // Set mailer to use SMTP\n$mail->Host = 'localhost'; // Specify main and backup SMTP servers\n$mail->SMTPAuth = true; // Enable SMTP authentication\n$mail->Username = 'it2@aps-group.org'; // SMTP username\n$mail->Password = '*'; // SMTP password\n$mail->SMTPSecure = 'ssl'; // Enable TLS encryption, ssl also accepted\n$mail->Port = 465; // TCP port to connect to\n$mail->From = 'it2@aps-group.org';\n$mail->FromName = $name;\n//$mail->addAddress('joe@example.net', 'Joe User'); // Add a recipient\n$mail->addAddress('mozammelctgmirbd@gmail.com'); // Name is optional\n//$mail->addAttachment('/var/tmp/file.tar.gz'); // Add attachments\n$mail->isHTML(true); // Set email format to HTML\n$mail->Subject = 'SASP Contact Form';\n$mail->Body = $message;\n$mail->Body .= \"\nBelow are my contact details \nName: \";\n$mail->Body .= $name;\n$mail->Body .= \"\nMy Phone number: \";\n$mail->Body .= $phone;\n$mail->Body .= \"\nMy email address: \";\n$mail->Body .= $email;\n$mail->AltBody = 'You are using basic web browser ';\nif(!$mail->send()) {\necho 'Message could not be sent.';\necho 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\necho 'Message has been sent';\n}\n?>\n. please help me\n. please help me\n. Dear broth (Synchro)\nwhat can i do.\n. Dear broth (Synchro)\nwhat can i do.\n. ok dear you say i want to see message. which mail this message will be store\n. ok dear you say i want to see message. which mail this message will be store\n. mozammelctgmirbd@gmail.com or it2@aps-group.org ------------------which--????\n. mozammelctgmirbd@gmail.com or it2@aps-group.org ------------------which--????\n. please please please\ni use this code localy\nlan local area network\n. please please please\ni use this code localy\nlan local area network\n. not online from any site\n. not online from any site\n. ",
    "GreasyMonkee": "Hi,\nI will call up some higher-level logs today and post them.\nThe certificate is the most recent CA-bundle from cURL's repository, and it has the valid signing authority (Startcom) in the list. Have tried with the default Mozilla CA-bundle, same result.\nI shall do more testing and see if I can dig out a bit more detail on the problem.\nThanks for the link on the cert contexts - that adds a useful snippet to the troubleshooting process :-)\nCheers.\n. Hi,\nI will call up some higher-level logs today and post them.\nThe certificate is the most recent CA-bundle from cURL's repository, and it has the valid signing authority (Startcom) in the list. Have tried with the default Mozilla CA-bundle, same result.\nI shall do more testing and see if I can dig out a bit more detail on the problem.\nThanks for the link on the cert contexts - that adds a useful snippet to the troubleshooting process :-)\nCheers.\n. Hi,\nNOW things are progressing - I am not sure why, but I had overlooked creating the sym-links for the certificates - sleep deprivation is my excuse.\nA BIG thank you for the nudge in the correct direction.\nThere is still a problem with sending the mails out, the SASL Auth request to Dovecot is with a PID = 0.\nShall need to chase that one down, but at least I am through the crypto maze.\nCheers,\nGM.\n. Hi,\nNOW things are progressing - I am not sure why, but I had overlooked creating the sym-links for the certificates - sleep deprivation is my excuse.\nA BIG thank you for the nudge in the correct direction.\nThere is still a problem with sending the mails out, the SASL Auth request to Dovecot is with a PID = 0.\nShall need to chase that one down, but at least I am through the crypto maze.\nCheers,\nGM.\n. ",
    "szepeviktor": "\nPlease advise how to silently prevent message sending.\n\nReading my own lines it seems that this would be a fatal failure in PHPMailer.\nBut I am waiting for your advise.\n. Thank you very much!!\nI will save the &$phpmailer reference and analyze that property on shutdown.\n. > If an entity is\n\nof type \"multipart\" the Content-Transfer-Encoding is not permitted to\n   have any value other than \"7bit\", \"8bit\" or \"binary\"\n\nhttps://github.com/PHPMailer/PHPMailer/blob/9211ba67288c5cdd4980786085c3f026b1aef2b2/class.phpmailer.php#L2056 could be base64 for example.\n. @Synchro \nphp\n            if ($ismultipart) {\n                if ($this->Encoding == '8bit') {\n                    $result .= $this->headerLine('Content-Transfer-Encoding', '8bit');\n                }\n                // The only remaining alternatives are quoted-printable and base64, which are both 7bit compatible\n            } else {\n                $result .= $this->headerLine('Content-Transfer-Encoding', $this->Encoding);\n            }\nHere you state that quoted-printable and base64 equal 7bit but the standard does not allow these two.\nPlease consider again forbidding these in multiparts' encoding. Thank you.\n. See in munpack also:\nhttps://github.com/league/mpack/blob/master/decode.c#L116-L122\n. Thank you.\nThat error was only in 5.2.6.\n5.2.14 proves to be CTE-less in multipart.\n. Very nice & fast.\n. After setting our mailserver's TLS protocol to v1.2 only it turned out there is an error.\n. This was before the error report.\n. Seems to be working\nphp\n$mail->ContentType = 'multipart/report; report-type=delivery-status; boundary=\"=_mailjet_bounce_0\"';\nBut here we have an extra long line:\nContent-Type: multipart/report; report-type=delivery-status; boundary=\"=_mailjet_bounce_0\"; charset=iso-8859-1\nPlease advise.. Is there a function to wrap header lines?\nContent-Type: multipart/report; report-type=delivery-status;\n<TAB>boundary=\"=_mailjet_bounce_0\"; charset=iso-8859-1. Thank you.\nDo you think the Content-Type header should be encoded?\nI've never seen such an email.\nIf you run the above string through encodeHeader() it will change its content.. Thank you very much!. ",
    "xJoeyv": "Yea, But what is this and how can I solve this?\n. Yea, But what is this and how can I solve this?\n. ",
    "saisudheern": "Oh... Otherwise can I achieve this one by using other than GMAIL(mail servers) ?\n. ",
    "TerrySchroeder": "Hi Marcus,\nThank you for the information!\nDo you have an example I can look at?\nThis is all new territory to me so any examples are VERY helpful.\nThank you again,\nTerry Schroeder\nFrom: Marcus Bointon [mailto:notifications@github.com] \nSent: Saturday, August 15, 2015 2:49 PM\nTo: PHPMailer/PHPMailer\nCc: TerrySchroeder\nSubject: Re: [PHPMailer] Can not open attached email file (#474)\nIt's because both outlook and PHPMailer use the file name to set the default MIME type, but you're using a name with no extension and not setting the type manually, so it's defaulting to a generic type.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/474#issuecomment-131438074 .  https://github.com/notifications/beacon/AF-1ABd9xBV4QD9yvYqOz0GsXjCmWrzRks5on48bgaJpZM4FsNLy.gif \n. Hi Marcus,\nThank you for the information!\nDo you have an example I can look at?\nThis is all new territory to me so any examples are VERY helpful.\nThank you again,\nTerry Schroeder\nFrom: Marcus Bointon [mailto:notifications@github.com] \nSent: Saturday, August 15, 2015 2:49 PM\nTo: PHPMailer/PHPMailer\nCc: TerrySchroeder\nSubject: Re: [PHPMailer] Can not open attached email file (#474)\nIt's because both outlook and PHPMailer use the file name to set the default MIME type, but you're using a name with no extension and not setting the type manually, so it's defaulting to a generic type.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/474#issuecomment-131438074 .  https://github.com/notifications/beacon/AF-1ABd9xBV4QD9yvYqOz0GsXjCmWrzRks5on48bgaJpZM4FsNLy.gif \n. SUPER!!!! Thank you!\nFrom: Marcus Bointon [mailto:notifications@github.com] \nSent: Saturday, August 15, 2015 3:22 PM\nTo: PHPMailer/PHPMailer\nCc: TerrySchroeder\nSubject: Re: [PHPMailer] Can not open attached email file (#474)\nIt's all covered in the docs and examples provided. Start with the wiki https://github.com/PHPMailer/PHPMailer/wiki .\n\u2014\nReply to this email directly or view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/474#issuecomment-131442539 .  https://github.com/notifications/beacon/AF-1AKe5ExvD5ghlhSJB-MbrDXciirX3ks5on5brgaJpZM4FsNLy.gif \n. SUPER!!!! Thank you!\nFrom: Marcus Bointon [mailto:notifications@github.com] \nSent: Saturday, August 15, 2015 3:22 PM\nTo: PHPMailer/PHPMailer\nCc: TerrySchroeder\nSubject: Re: [PHPMailer] Can not open attached email file (#474)\nIt's all covered in the docs and examples provided. Start with the wiki https://github.com/PHPMailer/PHPMailer/wiki .\n\u2014\nReply to this email directly or view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/474#issuecomment-131442539 .  https://github.com/notifications/beacon/AF-1AKe5ExvD5ghlhSJB-MbrDXciirX3ks5on5brgaJpZM4FsNLy.gif \n. Hi Marcus,\nAfter some research, I got it to work. Here is the code I found on Stackoverflow.\nThank you again,\nTerry\n\nphp\n\n<p$msg = ''; \nrequire 'phpmailer/PHPMailerAutoload.php';\n$mail = new PHPMailer; \n$mail->setFrom('from@example.com', 'First Last'); \n$mail->addAddress('thedrywallartist@gmail.com', 'Terry'); \n$mail->Subject = 'PHPMailer file sender'; \n$mail->msgHTML(\"My message body\"); \n// Attach the uploaded file \nif (isset($_FILES['uploaded_file']) &&\n```\n$_FILES['uploaded_file']['error'] == UPLOAD_ERR_OK) {\n$mail->AddAttachment($_FILES['uploaded_file']['tmp_name'],\n                                             $_FILES['uploaded_file']['name']);\n\n```\n}\nif($mail->Send()){\necho 'Email Successfully Sent!';\n}else{\necho 'Email Sending Failed!';\n}\n?>\n\nFrom: Marcus Bointon [mailto:notifications@github.com] \nSent: Saturday, August 15, 2015 3:22 PM\nTo: PHPMailer/PHPMailer\nCc: TerrySchroeder\nSubject: Re: [PHPMailer] Can not open attached email file (#474)\nIt's all covered in the docs and examples provided. Start with the wiki https://github.com/PHPMailer/PHPMailer/wiki .\n\u2014\nReply to this email directly or view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/474#issuecomment-131442539 .  https://github.com/notifications/beacon/AF-1AKe5ExvD5ghlhSJB-MbrDXciirX3ks5on5brgaJpZM4FsNLy.gif \n. Hi Marcus,\nAfter some research, I got it to work. Here is the code I found on Stackoverflow.\nThank you again,\nTerry\n\nphp\n\n<p$msg = ''; \nrequire 'phpmailer/PHPMailerAutoload.php';\n$mail = new PHPMailer; \n$mail->setFrom('from@example.com', 'First Last'); \n$mail->addAddress('thedrywallartist@gmail.com', 'Terry'); \n$mail->Subject = 'PHPMailer file sender'; \n$mail->msgHTML(\"My message body\"); \n// Attach the uploaded file \nif (isset($_FILES['uploaded_file']) &&\n```\n$_FILES['uploaded_file']['error'] == UPLOAD_ERR_OK) {\n$mail->AddAttachment($_FILES['uploaded_file']['tmp_name'],\n                                             $_FILES['uploaded_file']['name']);\n\n```\n}\nif($mail->Send()){\necho 'Email Successfully Sent!';\n}else{\necho 'Email Sending Failed!';\n}\n?>\n\nFrom: Marcus Bointon [mailto:notifications@github.com] \nSent: Saturday, August 15, 2015 3:22 PM\nTo: PHPMailer/PHPMailer\nCc: TerrySchroeder\nSubject: Re: [PHPMailer] Can not open attached email file (#474)\nIt's all covered in the docs and examples provided. Start with the wiki https://github.com/PHPMailer/PHPMailer/wiki .\n\u2014\nReply to this email directly or view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/474#issuecomment-131442539 .  https://github.com/notifications/beacon/AF-1AKe5ExvD5ghlhSJB-MbrDXciirX3ks5on5brgaJpZM4FsNLy.gif \n. ",
    "enrichelife": "Thank You for you response but We have already allowed TCP Port IN/OUT for 25, 465,587, 995. which are being used in the script to send email.\nIs there any other port for Php Mailer we should enable ?\n. Thank You for you response but We have already allowed TCP Port IN/OUT for 25, 465,587, 995. which are being used in the script to send email.\nIs there any other port for Php Mailer we should enable ?\n. ",
    "wjentner": "Ohh and yes it got fixed by updating to 5.2.10. Thanks.\n. ",
    "frederikbosch": "@Synchro In that case, I would suggest league/oauth2 and remove guzzle completely.\n. @Synchro Thanks for the fast responses; and for the tag in advance. Much appreciated.\n. @Synchro Hmm, I think you are right. My bad. Thanks for the quick reply.\n. ",
    "Eternal-Infinity": "You should, really REALLY quickly, delete all the important data from your example!\nWe can see the mailserver, the port and, more important, your login-data there!\n. You can't use 'IF' in a string.\nEither you'd have to \"end\" the string completely to use an IF there or you could use the ternary operator:\n[...]\n<h2>TEST</h2><br/>\n\".(true ? 'test' : '').\"\n</body >\n[...]\nThis has nothing to do with PHPMailer by the way.\n. @ozgunlu: and in case you use true credentials in the test-code, you should mask it ASAP here. @ozgunlu: you're welcome. maybe you should change your password now, just in case. . Also, next time it would be helpful if you write in english.... Also, next time it would be helpful if you write in english.... Also note that when you are at school and try to achieve this, you may be behind a proxy.\nIn that case, google \"composer proxy\", you may find something that helps you.. If it is your real credentials you use, you should change them ASAP!. Can you please close this issue?\nYou didn't write anything.\nAnd for your next issues:\nYou should use a meaningful subject, not \"hi, how do i this-and-that\".\nThis should be common-sense... Misspelled \"function\" as \"fucntion\"\n. ",
    "marciseli": "I read the config but no point helped me. The problem was, that i could send mails when I work on xampp(localhost) but when I load the code on hoststar it didn't work. So if you have a better idea pleas let me know.\n. ",
    "amirkoklan": "don't we have something like \"ClearAddresses()\" for the body ? cause I had problem with Addresses too and that function solved my problem\n. ```\nforeach ($resellers as $reseller)  {\n.\n.\n.\n      $content = file_get_contents($this->emailObject->getEmailTemplate() . 'supplies_order.html');\n      $midContent = str_replace($placeHolder, $ticketData, $content);// Ticket data may contain \u00dc,\u00d6\n      $umlaut = array('\u00c3\u00bc', '\u00c3\u00a4');\n      $replace = array('\u00fc', '\u00e4');\n      $emailBody = str_replace($umlaut, $replace, $midContent);\n      $returnValue = $this->emailObject->setFromName($data['reseller_name'])\n                  ->setFromEmail($fromEmail)\n                  ->setBCCName($data['reseller_user_firstname'] . ' ' . $data['reseller_user_lastname'])\n                  ->setBCCEmail($data['reseller_user_email'])\n                  ->addContent($emailBody)\n                  ->sendSMTPMail($subject, $distributorSupplyEmail, $data['supply_contact_name']);\n}\npublic function sendSMTPMail($subject, $toEmail, $toName=NULL) {\n    try {\n        $this->mailerObject->IsSMTP();\n        $this->mailerObject->SMTPAuth = true;\n        $this->mailerObject->Port = $this->PORT;\n        $this->mailerObject->SMTPSecure = 'tls';\n        $this->mailerObject->Username = $this->USERNAME;\n        $this->mailerObject->Password = $this->PASS;\n        $this->mailerObject->Host = $this->HOST;\n    $this->mailerObject->AddAddress($toEmail, $toName);\n    $this->mailerObject->SetFrom($this->getConfig()['mailing']['sender_email'], $this->getConfig()['mailing']['sender_name']);\n    $this->mailerObject->Subject = $subject;\n    $value = $this->mailerObject->Send();\n    $this->mailerObject->ClearAddresses();\n    return ($value) ? 1 : 0;\n\n} catch (MailException $e) {\n     echo $e->errorMessage();\n}\n\n}\npublic function addContent($message, $useFile = 0) {\n      if ($useFile === 1) {\n          $this->mailerObject->MsgHTML(file_get_contents($message));\n      } else {\n          $this->mailerObject->MsgHTML($message);\n      }\n  return $this;\n\n}\n```\n. ",
    "hayageek": "Hi Synchro,\nI have tried Google XOAUTH. but not working.\nI got the the access token & refresh token.  From the refresh token i got one more token.\nI tried both tokens (1st refresh token, and 2nd refresh token). Both are not working.\nSERVER -> CLIENT: 220 smtp.gmail.com ESMTP we9sm26614732pab.3 - gsmtp\nCLIENT -> SERVER: EHLO Ravishankers-MacBook-Pro.local\nSERVER -> CLIENT: 250-smtp.gmail.com at your service, [58.185.185.139]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: EHLO Ravishankers-MacBook-Pro.local\nSERVER -> CLIENT: 250-smtp.gmail.com at your service, [58.185.185.139]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN XOAUTH250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\nCLIENT -> SERVER: AUTH XOAUTH2 dXNlcj1yYXZpQGhheWFnZWVrLmNvbQFhdXRoPUJlYXJlciB5YTI5LjhBSENJcWFfMDdRU2NBSnRMazRZS09WUjJ3a0JkU0Qtc0gxaHV6R2NzWE9yUzhDVVZqUWFycWhlTFRsQmJtakFOUEtGAQE=\nSERVER -> CLIENT: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP ERROR: AUTH command failed: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP Error: Could not authenticate.\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 535-5.7.8 Username and Password not accepted. Learn more at535 5.7.8  https://support.google.com/mail/answer/14257 we9sm26614732pab.3 - gsmtp\nSMTP ERROR: QUIT command failed: 535-5.7.8 Username and Password not accepted. Learn more at535 5.7.8  https://support.google.com/mail/answer/14257 we9sm26614732pab.3 - gsmtp\nConnection: closed\n. Hi Synchro,\nI have tried Google XOAUTH. but not working.\nI got the the access token & refresh token.  From the refresh token i got one more token.\nI tried both tokens (1st refresh token, and 2nd refresh token). Both are not working.\nSERVER -> CLIENT: 220 smtp.gmail.com ESMTP we9sm26614732pab.3 - gsmtp\nCLIENT -> SERVER: EHLO Ravishankers-MacBook-Pro.local\nSERVER -> CLIENT: 250-smtp.gmail.com at your service, [58.185.185.139]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: EHLO Ravishankers-MacBook-Pro.local\nSERVER -> CLIENT: 250-smtp.gmail.com at your service, [58.185.185.139]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN XOAUTH250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\nCLIENT -> SERVER: AUTH XOAUTH2 dXNlcj1yYXZpQGhheWFnZWVrLmNvbQFhdXRoPUJlYXJlciB5YTI5LjhBSENJcWFfMDdRU2NBSnRMazRZS09WUjJ3a0JkU0Qtc0gxaHV6R2NzWE9yUzhDVVZqUWFycWhlTFRsQmJtakFOUEtGAQE=\nSERVER -> CLIENT: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP ERROR: AUTH command failed: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP Error: Could not authenticate.\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 535-5.7.8 Username and Password not accepted. Learn more at535 5.7.8  https://support.google.com/mail/answer/14257 we9sm26614732pab.3 - gsmtp\nSMTP ERROR: QUIT command failed: 535-5.7.8 Username and Password not accepted. Learn more at535 5.7.8  https://support.google.com/mail/answer/14257 we9sm26614732pab.3 - gsmtp\nConnection: closed\n. i dont know the reason why it is failing, can you help me.\n. i dont know the reason why it is failing, can you help me.\n. I followed that.  I got the refresh token. but the xAUTH failed. do you have any working sample with you. I can use it.\n. I followed that.  I got the refresh token. but the xAUTH failed. do you have any working sample with you. I can use it.\n. It is not working . get_auth_token.php is giving errors. Because oauth\nclient library is changed .\nIf you have time, can you please run your code once.\nI got the code using composer.\nOn Wednesday, 16 September 2015, Marcus Bointon notifications@github.com\nwrote:\n\nThe code bundled with PHPMailer and what's in the wiki is my working\nexample. If I follow it, it works for me, so I don't know what's amiss for\nyou.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/490#issuecomment-140691657\n.\n. It is not working . get_auth_token.php is giving errors. Because oauth\nclient library is changed .\nIf you have time, can you please run your code once.\nI got the code using composer.\n\nOn Wednesday, 16 September 2015, Marcus Bointon notifications@github.com\nwrote:\n\nThe code bundled with PHPMailer and what's in the wiki is my working\nexample. If I follow it, it works for me, so I don't know what's amiss for\nyou.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/490#issuecomment-140691657\n.\n. Please help me. I will contribute for Yahoo xAuth.\n\nOn Wednesday, 16 September 2015, Ravishanker Kusuma ravi@hayageek.com\nwrote:\n\nIt is not working . get_auth_token.php is giving errors. Because oauth\nclient library is changed .\nIf you have time, can you please run your code once.\nI got the code using composer.\nOn Wednesday, 16 September 2015, Marcus Bointon notifications@github.com\n<javascript:_e(%7B%7D,'cvml','notifications@github.com');> wrote:\n\nThe code bundled with PHPMailer and what's in the wiki is my working\nexample. If I follow it, it works for me, so I don't know what's amiss for\nyou.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/490#issuecomment-140691657\n.\n. Please help me. I will contribute for Yahoo xAuth.\n\n\nOn Wednesday, 16 September 2015, Ravishanker Kusuma ravi@hayageek.com\nwrote:\n\nIt is not working . get_auth_token.php is giving errors. Because oauth\nclient library is changed .\nIf you have time, can you please run your code once.\nI got the code using composer.\nOn Wednesday, 16 September 2015, Marcus Bointon notifications@github.com\n<javascript:_e(%7B%7D,'cvml','notifications@github.com');> wrote:\n\nThe code bundled with PHPMailer and what's in the wiki is my working\nexample. If I follow it, it works for me, so I don't know what's amiss for\nyou.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/490#issuecomment-140691657\n.\n. Gmail is working is fine. i will check yahoo.\n. Gmail is working is fine. i will check yahoo.\n. I did not update composer.json. :(\n. I did not check in the composer.json.  And i am seing some errors in travis job. But I have tested locally working fine. tested all authentication.\nAnyways I requested one more. You can take the changes. make customization. \n\n\nhttps://github.com/PHPMailer/PHPMailer/pull/507\n. OK. I will make the backward comparability for additional oauthProviderName property, by defaulting it to Google.\nLet me fix all the errors and I will provide the clean code.\n. But how the PHPMailerOAuth knows to pick the right provider class name. \nIf you don't mind can you explain bit .\n. got it \nFor example: .\n1).PHPMailOauthGoogle  extends PHPMailerOAuth \n$mail = new PHPMailOauthGoogle();\n2).PHPMailOauthYahoo  extends PHPMailerOAuth \n$mail = new PHPMailOauthYahoo();\nis that OK ?\n. Please review the code.\n. Fixed all the issues.\n. Please let me know the changes are ok\n. Thanks. Slowly I will add some more providers.\nYandex, Mail.ru\n. ",
    "ManishPatiyal": "Any update to this issue so far?. thanks, I want to use this in android application that requires a java version of it I guess, I even dont have the php server and skills to run it right now so wanted to know that can it work on android device as I want to access mails of yahoo using Oauth as I am able with gmail.\n . ",
    "LM1LC3N7": "Thank you for your both answer. \n. ",
    "abhishekjain-itsme": "@Synchro It is working for me. Thanks. @Synchro It is working for me. Thanks. ",
    "borsti87": "I have downloaded the zip-file and unzip it in my test environment then I rename the mail.phps to mail.php to test it\n. autoloader is included with \"require '../PHPMailerAutoload.php';\" in mail php. \nmail.php is in folder examples\n. autoloader is included with \"require '../PHPMailerAutoload.php';\" in mail php. \nmail.php is in folder examples\n. Okay that was the problem. Thanks!\n. Okay that was the problem. Thanks!\n. ",
    "glensc": "class.phpmailer.php 100644 \u2192 100755\nDISLIKE!\n. class.phpmailer.php 100644 \u2192 100755\nDISLIKE!\n. :)\n. :)\n. And even more simplier is just to navigate to file in github and press edit button. you can make such trivial changes like translations straight from github web!\n. however i see there's 6.0 rc1 and rc2 on release page, but no information what changed. i.e i see travis removed 5.3 and 5.4 testing, meaning min version is 5.5?\n. i'm using github export tarball to make distro rpm package (https://github.com/pld-linux/php-phpmailer); and it's affected as well. now the rpm package is without changelog and documentation; \nsome solution i see is to upload full tarball (tar.xz perhaps even) to github release so i could use that as source for distro packaging.. agreed: it's copy in from other project and in modern world that should be separate composer package.. agreed: it's copy in from other project and in modern world that should be separate composer package.. it's probably meant that php5.0 support is for code paths that used to exist when php5.0 was mainstream. the new features are not supported for php5.0, like oauth.. it's probably meant that php5.0 support is for code paths that used to exist when php5.0 was mainstream. the new features are not supported for php5.0, like oauth.. also, ctype_alnum is locale aware, are you sure that is intended?. sadly i don't see testcases being submitted. it would be easy to rewrite it with regexp knowing it behaves the same as before with given testcases. it's hard figuring out what the method is supposed to do now :). it's supposed to handle some kind of escaping for windows that php native escapeshellarg/escapeshellcmd don't do? i've came across this library at some point in the past: https://github.com/johnstevenson/winbox-args. #938 - no actual tests filled. i'm thinking maybe just test each byte and put it either to bad or good list? that doesn't test combination of bytes, but should help to cover so the underlying method could be refactored (https://github.com/PHPMailer/PHPMailer/pull/937#issuecomment-269540929). can be merged likely if tests pass as every single byte is tested, sequence tests can be added later. yes, that would work, but it's ugly/inconsistent, and may broke in the future php engine? is there reason why it needs to be static in main class? if you insist removing that change, i'll do it (local test still passes). ok, i'll leave as is, static methods/properties are hard to test, phpunit doesn't support TestDoubles for static methods for example.\nsleep time here as well :). @Synchro slept well? :). @Synchro slept well? :). @Zenexer this PR is about adding testing support. not actually changing (yet) the actual isShellSafe implementation suggested here: https://github.com/PHPMailer/PHPMailer/pull/937#issuecomment-269540929\nso as i see it: first get unit tests in place, then go change implementation. @Zenexer this PR is about adding testing support. not actually changing (yet) the actual isShellSafe implementation suggested here: https://github.com/PHPMailer/PHPMailer/pull/937#issuecomment-269540929\nso as i see it: first get unit tests in place, then go change implementation. @Synchro you may close or merge or pick fragments from this PR. i'm not going to finish this whatever was planned. sorry :). @Synchro you may close or merge or pick fragments from this PR. i'm not going to finish this whatever was planned. sorry :). PR should describe purpose, not just contents of commit message, which can be read out anyway.. PR should describe purpose, not just contents of commit message, which can be read out anyway.. you need to provide code snippet how you use and raw output of the rendered email. and information what client you used to validate the output.\nalso utf8mb4 is mysql specific problem. there's no limit of unicode planes in email (it's just stream of bytes).. you need to provide code snippet how you use and raw output of the rendered email. and information what client you used to validate the output.\nalso utf8mb4 is mysql specific problem. there's no limit of unicode planes in email (it's just stream of bytes).. close the ticket then. close the ticket then. ```\n$ wget https://github.com/glensc/php-phpmailer/archive/export-ignore.zip\n$ unzip -l export-ignore.zip | awk '/export/ {print $NF}'\nphp-phpmailer-export-ignore/\nphp-phpmailer-export-ignore/get_oauth_token.php\nphp-phpmailer-export-ignore/language/\nphp-phpmailer-export-ignore/language/phpmailer.lang-am.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-ar.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-az.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-ba.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-be.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-bg.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-ca.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-ch.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-cs.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-da.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-de.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-el.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-eo.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-es.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-et.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-fa.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-fi.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-fo.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-fr.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-gl.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-he.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-hr.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-hu.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-id.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-it.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-ja.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-ka.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-ko.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-lt.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-lv.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-ms.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-nb.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-nl.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-pl.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-pt.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-pt_br.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-ro.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-rs.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-ru.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-sk.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-sl.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-sv.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-tr.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-uk.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-vi.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-zh.php\nphp-phpmailer-export-ignore/language/phpmailer.lang-zh_cn.php\nphp-phpmailer-export-ignore/src/\nphp-phpmailer-export-ignore/src/Exception.php\nphp-phpmailer-export-ignore/src/OAuth.php\nphp-phpmailer-export-ignore/src/PHPMailer.php\nphp-phpmailer-export-ignore/src/POP3.php\nphp-phpmailer-export-ignore/src/SMTP.php\n```. based on your comments, rebasing to add back:\n\n/LICENSE export-ignore\n/README.md export-ignore\n/SECURITY.md export-ignore\n/VERSION export-ignore\n\n. the previous docs were excluded by 5ba58a7b via #843. \ncs-fixer broken rule\nhttps://travis-ci.org/PHPMailer/PHPMailer/jobs/303264823\n1) src/PHPMailer.php (phpdoc_to_comment, no_blank_lines_after_phpdoc, single_blank_line_before_namespace)\n      ---------- begin diff ----------\n--- Original\n+++ New\n@@ @@\n              */\n-            /** @noinspection PhpMissingBreakStatementInspection */\n+            /* @noinspection PhpMissingBreakStatementInspection */\nthis is not good. PHPSTORM requires the @noinspection to be inside /** */ to work. /* * will not work.\ni'm going to remove the commit that changed that part to get this PR merged.\nalso the cs-fixer diff from that travis link is rather annoying to read, if it prints out whole file, not like regular diff which shows just few lines of context. off topic, but still annoying :). i  think there's bug in cs-fixer fixer, as some other annotation in same file doesn't get reported. likely related to consecutive comment blocks.\nthe output could be fixed by using udiff i think: https://github.com/FriendsOfPHP/PHP-CS-Fixer/pull/3211. i'm sure this file is not for french. this probably worth merging in, as separate MR and with different purpose (Array is like from JavaScript, array is the php capitalization). yes. it was my hint for @octavebenil to fix this line as well :). yeah, i picked only comparisons, that compare strings against strings as that is considered safe.\nanyway, removing these two commits from this PR:\n- Applying: strict in_array comparision\n- Applying: strict string comparison\n. rewritten the commit. done, also more yoda.\naltho my personal opinion it's counter to intuitive. forces one reading left to right to start reading from right to left.\nand if it's intended to be protection against accidential assign, there's no correct way to solve if both sides are non-constants, you can still cause wrong behaviour by using wrong operator:\nphp\n                return $params[0] = $kind;. having compile time error vs runtime error - it's already to late, the file is in production.\ncode quality and behavior should be tested with unit/integration-tests. broken code should never be merged to default branch (master) :)\n. ",
    "fbonzon": "I used the \"Source code (zip)\" link for PHPMailer 5.2.13 on https://github.com/PHPMailer/PHPMailer/releases as source to prepare this pull request, on Mac OS. After repeating it now, I realize that after unzipping all files have the exec bit on :(\nThe files from the \"Source code (tar.gz)\" link do preserve correct exec bits though. A good reason to use only tar.gz links from now on.\n. I used the \"Source code (zip)\" link for PHPMailer 5.2.13 on https://github.com/PHPMailer/PHPMailer/releases as source to prepare this pull request, on Mac OS. After repeating it now, I realize that after unzipping all files have the exec bit on :(\nThe files from the \"Source code (tar.gz)\" link do preserve correct exec bits though. A good reason to use only tar.gz links from now on.\n. Thanks for your suggestions.\nFYI, I can add about unzipping the GitHub .zip files on Mac OS. I did further tests and can say that whether file permissions are preserved or not actually depends on the software used for decompressing.\nWith Archive Utility (built-in app from Apple) and 2 other popular free apps StuffIt Expander and The Unarchiver, all files become executable. But with the unzip command in Terminal, correct executable bits are preserved. I learned something today.\n. The code checks if function_exists('idn_to_ascii'), how is this incompatible with PHP 5.2 and before? Those versions just won't have this additional feature, but it will not break them. Just like the XOAUTH2 authentication functionality already present in PHPMailer, that requires PHP 5.4+.\n. Another possible optimization: if the mailbox element (username) has multibytes characters but not the host element (domain), this new code does nothing. Is it cheaper to first split username/domain and then check if domain has multibytes characters?\n. I tested the latest snapshot of this PR, and see two problems:\n- As @Synchro mentioned, and specified in the idn_to_ascii() documentation too, the domain name must be presented in UTF-8 encoding. If the web pages / PHP scripts are not in UTF-8 (i.e. you did not change the CharSet of your PHPMailer object to 'UTF-8'), additional code is required to convert the domain name from the current CharSet to UTF-8, before passing it to idn_to_ascii(). FYI, the default CharSet in PHPMailer is 'iso-8859-1'.\n- hasMultiBytes() is not a good criterion to decide if idn_to_ascii() should be applied on the domain name or not. E.g. the non-ASCII upper 128 characters in ISO 8859-1 are single byte and should still be converted with idn_to_ascii().\n. Agree. Thinking further about the two options:\n- A Following RFC6530 spirit, require the address to be always specified in UTF-8 (whatever is PHPMailer CharSet) \n- B Apply a conversion to UTF-8 when CharSet is not the same\nCompare the order:\nphp\n$mail->CharSet = 'UTF-8';\n$mail->addAddress($email, $name);\n$mail->Body = $message;\n$mail->send();\nphp\n$mail->addAddress($email, $name);\n$mail->Body = $message;\n$mail->CharSet = 'UTF-8';\n$mail->send();\nBoth are valid ways to use PHPMailer and make currently no difference, as all encoding (both $name and $message) happen inside send().\nWith option B and current implementation inside the addAnAddress() method, we add a dependency in the order in which CharSet and addresses are specified. Shouldn't idn_to_ascii() calls rather happen inside send()?\nIn any case, PHPMailer user documentation should be made very clear. E.g.:\nWith A: \"IDN domains in e-mail addresses are allowed and MUST be passed in UTF-8 encoding, per RFC6530, even if PHPMailer CharSet property is different.\"\nWith B, current implementation in addAnAddress(): \"IDN domains in e-mail addresses are allowed. If different than the default 'iso-8859-1', PHPMailer CharSet property MUST be set before adding any address with an IDN domain, to ensure proper encoding.\"\nMy vote: B, but with encoding to punycode happening in send(). I don't have strong opinion though. A is good too, with proper documentation.\n. Agree again. Do you have a preference for option A or B? With things moved in send() for B. For A, in addAnAddress() or send() doesn't matter.\nAbout using hasMultiBytes() or has8bitChars(), maybe we shouldn't use either and simply always call idn_to_ascii(). Applying this function to a standard domain name in ASCII is no-op and does no harm. The function implementation in C probably already starts with checking if any encoding is required at all. So why re-do the same check ourselves in PHP beforehand?\n@michield will you work further on this PR? I will work on it if you don't.\n. @michield OK, I'm taking over.\n@Synchro Agreed B is best option. Implementing it requires the two following functional changes. Are you OK with them, and do you consider these backward compatibility issues?\n1) Moment when invalid_address errors are reported is postponed to send()\nThese 5 public methods currently report an error and return false when given an invalid address:\nphp\nsetFrom()\naddAddress()\naddCC()\naddBCC()\naddReplyTo()\nBecause we can't validate addresses with IDNs before we know what is PHPMailer CharSet, address validation and duplicates detection would happen in send() (more precisely, at the start of preSend()).\nThis would cause the 5 above methods to always return true. Code that currently checks the return value of these 5 methods would become useless. Note that in all example code, return value is always ignored.\nsend() on the other hand would either (subject to discussion):\n- Stop and return false when an invalid address was previously passed to any of these 5 methods, and silently ignore duplicates. [My preference]\n- Silently ignore invalid addresses and duplicates.\n2) Access to addresses before calling send()\nThese 5 public methods currently always return validated and unique addresses, possibly before send():\nphp\ngetToAddresses()\ngetCcAddresses()\ngetBccAddresses()\ngetReplyToAddresses()\ngetAllRecipientAddresses()\nAgain because addresses would not be validated until send(), these 5 methods, when called before send(), would return either of (subject to discussion):\n- Empty array. [My preference]\n- Raw addresses, possibly invalid and with duplicates.\nWhen called after send(), there is no change, i.e. only validated and unique addresses are returned.  None of these 5 methods are used in PHPMailer example code.\n. OK. Thanks for your suggestions.\nAbout validation. Current rules already allow pre-punycoded addresses. See this test case.\nProviding a convenience public punyencode function is good idea. I will do that. This will allow PHPMailer users, if they want, to convert IDNs to punycode themselves prior to adding addresses, and benefit from pre-send validation.\n. This PR can be closed. Obsoleted by PR #529.\n. No functional changes here. I'd like to separate these changes from my coming up PR about IDNs support.\n. Done.\nFor own reference:\ngit reset --hard 6b12c212c40d31378e6250f26145c3c2c0445262\ngit merge --squash HEAD@{1}\ngit commit\ngit push --force\n. I committed this code 7 days ago \u2013 my bad. I learned something today: version checks are good only if also using valid language constructs in older versions we want supported.\nI can add that I had looked at the Travis CI report of the pull request for this commit. It obviously didn't report any problem\u2026 because Travis CI supports PHP versions only down to 5.3. It's time to have PHPMailer minimum requirements in sync with the developer tools, and I was happy to read 5 days ago in #323 that PHPMailer is soon going to require PHP 5.4. This will avoid such problems in the future.\n@ivantcholakov: A single array_filter() call is faster and more memory friendly than copying the whole array first, followed by a foreach loop, thus my initial intention to make the code more efficient for PHP 5.3+. It may be duplicated simple algorithm, but not \"wrong\" IMHO.\n. This is on purpose. PHP 5.4 is minimum requirement to use the XOAUTH2 extension in PHPMailer. Compatibility down to PHP 5.0 is for the remaining of PHPMailer only.\nFrom PHPMailer homepage in GitHub: \"If you want to use Google's XOAUTH2 authentication mechanism, you need to be running at least PHP 5.4, and load the dependencies listed in composer.json.\"\n. I don't think this is a wise way implement this feature.\nExpanding on your example, when third@example.com receives an e-mail where header \"To: someone@example.com\" appears, he can't tell whether someone@ did receive the message or not, i.e. he can't tell whether:\na) someone@ did receive and redirect the message, either manually (e.g. 'Mail Redirect' add-on) or automatically (redirection configured in e-mail server);\nb) someone@ did not receive the message, it was \"redirected\" with PHPMailer with your new feature.\nIMHO, if header \"To: someone@example.com\" appears, it is standard expectation that someone@ did receive the message, and we should not circumvent it.\nIn your use case, I think the right solutions are:\n1) (recommended) Configure a redirection on the mail server for someone@example.com. Every e-mail system I know has some kind of redirection setting, or option to add filters including redirection.\n2) In PHP-Mailer, specify only third@example.com as regular recipient, and add custom headers with addCustomHeader():\nResent-From: someone@example.com\nResent-To: third@example.com\nResent-Date: \u2026\nFor reference, I'll copy below section 3.6.6. of RFC2822, that you mention, that discusses redirection.\nThe bug you mention is >16 years old and still not addressed :)\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=12916\nReported:   1999-08-31 18:07 PDT by Phil Peterson\n\nSource: https://www.ietf.org/rfc/rfc2822.txt\n3.6.6. Resent fields\nResent fields SHOULD be added to any message that is reintroduced by\n   a user into the transport system.  A separate set of resent fields\n   SHOULD be added each time this is done.  All of the resent fields\n   corresponding to a particular resending of the message SHOULD be\n   together.  Each new set of resent fields is prepended to the message;\n   that is, the most recent set of resent fields appear earlier in the\n   message.  No other fields in the message are changed when resent\n   fields are added.\nEach of the resent fields corresponds to a particular field elsewhere\n   in the syntax.  For instance, the \"Resent-Date:\" field corresponds to\n   the \"Date:\" field and the \"Resent-To:\" field corresponds to the \"To:\"\n   field.  In each case, the syntax for the field body is identical to\n   the syntax given previously for the corresponding field.\nWhen resent fields are used, the \"Resent-From:\" and \"Resent-Date:\"\n   fields MUST be sent.  The \"Resent-Message-ID:\" field SHOULD be sent.\n   \"Resent-Sender:\" SHOULD NOT be used if \"Resent-Sender:\" would be\n   identical to \"Resent-From:\".\nresent-date     =       \"Resent-Date:\" date-time CRLF\nresent-from     =       \"Resent-From:\" mailbox-list CRLF\nresent-sender   =       \"Resent-Sender:\" mailbox CRLF\nresent-to       =       \"Resent-To:\" address-list CRLF\nresent-cc       =       \"Resent-Cc:\" address-list CRLF\nresent-bcc      =       \"Resent-Bcc:\" (address-list / [CFWS]) CRLF\nresent-msg-id   =       \"Resent-Message-ID:\" msg-id CRLF\nResent fields are used to identify a message as having been\n   reintroduced into the transport system by a user.  The purpose of\n   using resent fields is to have the message appear to the final\n   recipient as if it were sent directly by the original sender, with\n   all of the original fields remaining the same.  Each set of resent\n   fields correspond to a particular resending event.  That is, if a\n   message is resent multiple times, each set of resent fields gives\n   identifying information for each individual time.  Resent fields are\n   strictly informational.  They MUST NOT be used in the normal\n   processing of replies or other such automatic actions on messages.\nNote: Reintroducing a message into the transport system and using\n   resent fields is a different operation from \"forwarding\".\n   \"Forwarding\" has two meanings: One sense of forwarding is that a mail\n   reading program can be told by a user to forward a copy of a message\n   to another person, making the forwarded message the body of the new\n   message.  A forwarded message in this sense does not appear to have\n   come from the original sender, but is an entirely new message from\n   the forwarder of the message.  On the other hand, forwarding is also\n   used to mean when a mail transport program gets a message and\n   forwards it on to a different destination for final delivery.  Resent\n   header fields are not intended for use with either type of\n   forwarding.\nThe resent originator fields indicate the mailbox of the person(s) or\n   system(s) that resent the message.  As with the regular originator\n   fields, there are two forms: a simple \"Resent-From:\" form which\n   contains the mailbox of the individual doing the resending, and the\n   more complex form, when one individual (identified in the\n   \"Resent-Sender:\" field) resends a message on behalf of one or more\n   others (identified in the \"Resent-From:\" field).\nNote: When replying to a resent message, replies behave just as they\n   would with any other message, using the original \"From:\",\n\"Reply-To:\", \"Message-ID:\", and other fields.  The resent fields are\n   only informational and MUST NOT be used in the normal processing of\n   replies.\nThe \"Resent-Date:\" indicates the date and time at which the resent\n   message is dispatched by the resender of the message.  Like the\n   \"Date:\" field, it is not the date and time that the message was\n   actually transported.\nThe \"Resent-To:\", \"Resent-Cc:\", and \"Resent-Bcc:\" fields function\n   identically to the \"To:\", \"Cc:\", and \"Bcc:\" fields respectively,\n   except that they indicate the recipients of the resent message, not\n   the recipients of the original message.\nThe \"Resent-Message-ID:\" field provides a unique identifier for the\n   resent message.\n. @Synchro See my comments about the overall concept in the issue. I was writing them simultaneously to your reply :)\n. Comments for $RecipientsQueue line 503 would need update too. \"envelope_to\" addresses with IDN would be enqueued there.\n. Actually, your PR would not change the behavior about a recipient  in To and CC simultaneously, because this line:\nphp\nif (!array_key_exists(strtolower($address), $this->all_recipients)) {\nRelevant is only the first call to addAddress() or addCC(). The second call with a duplicate address returns false and is ignored.\n. Did you copy this code from an example? If yes, please give the reference, so it can be fixed.\n$mail->SetFrom = ('test@gmail.com');\n\nThis is incorrect usage of SetFrom. It is a method, but your code treats it as a variable. Replace with:\n$mail->SetFrom('test@gmail.com');\n\n. Did you copy this code from an example? If yes, please give the reference, so it can be fixed.\n$mail->SetFrom = ('test@gmail.com');\n\nThis is incorrect usage of SetFrom. It is a method, but your code treats it as a variable. Replace with:\n$mail->SetFrom('test@gmail.com');\n\n. 1. You made the same mistake as the original poster. Read again this thread. You should write $mail->setFrom($email);.\n2. Remove your password from your code snippet.. This is expected behavior, there is nothing wrong in PHPMailer itself.\nThe rewriting of the From address is done by Gmail for security reason (fight SPAM, phishing, etc.), not by PHPMailer. Gmail (and many others) doesn't allow sending messages with random From addresses.\nTo fix your problem, do one of:\n- Use another From address than from@example.com, a real address that you own. If this is not the same address than the Gmail account you connect with for sending the e-mail, also add that address in your Gmail account according to instructions on https://support.google.com/mail/answer/22370?hl=en\n- Find and use another SMTP server than Gmail, one that does not rewrite From addresses.\n. I would add a comment here:\nTODO: Write our own \"idn_to_ascii\" function for PHP 5.2 and earlier.\n. Like $this->parseAddresses that does if ($useimap and function_exists('imap_rfc822_parse_adrlist')), I would first try to use here the builtin imap_rfc822_parse_adrlist() to extract the domain name (looks at mailbox and host keys in returned array), and then only as fallback use your own parser with explode().\nAlso, your parser should first verify that explode('@',$address) has exactly 2 elements. If there are less, it will produce a PHP Notice error for undefined array key 1 when assigning $D. If there are more elements, the e-mail address is not valid\u2026\n. I rarely use strrpos(), but here IMHO it would make more readable and cheaper code than the triple strrev():\nphp\nif (false !== $pos = strrpos($address, '@')) {\n    ++$pos;\n    $address = substr($address, 0, $pos).idn_to_ascii(substr($address, $pos));\n}\nunset($pos);\n. Leave this line before the new code? Makes sense to trim before\n. For consistency with isset() 6 lines above.\n. Duplicate to 5 lines above\n. If I read this correctly: as soon as I specify at least 1 \"envelope_to\" recipient, then the mail is delivered only these \"envelope_to\" recipients, and none of the \"to\", \"cc\", and \"bcc\" recipients? This should be made clear in the code comments here, and elsewhere where \"envelope_to\" recipients appear.\nIn the same PR, a new or modified example in the \"examples\" directory would be welcome too, to explain what is this \"envelope_to\" mechanism, and how to use it.\n. s/to/envelope_to/\n. remove blank line\n. remove blank line\n. By not adding \"envelope_to\" recipients in the $this->all_recipients array, you allow duplicates in the \"envelope_to\" array. You need to add a mechanism to disallow duplicates in the \"envelope_to\" array.\n. > foreach($headers['from'] as $from) {\n\n$mail->setFrom($from['address'], $from['name']);\n}\n\nThere can be only one sender. Fix your code to have a scalar in $headers['from'], or arbitrary select the first item in array $headers['from'].\n. ",
    "BgR8": "Any code i didnt write just copy the codes of phpmailer to repass file and i wrote link code of html a href = \"\" etc. But after sending email to person who wants just a text we encounter with. The variable i said is $mtn = ' < a href = \"\" > \u015eifre < /a>\n. Yes absolutely will send  what i want thanks for this script to share with us. I did anything that phpmailer indicated Absolutely body property i wrote any html code it works for examle strong but the a href is not working a href converted to < a > Sifre < / a > \n. php\nheader('Content-Type: text/html; charset=utf-8');\nrequire 'PHPMailerAutoload.php';\n$phpmailer = new PHPMailer;\n$phpmailer->isSMTP();\n$phpmailer->Host = 'mail.abc.com'; // eposta sunucusu\n$phpmailer->SMTPAuth = true;\n$phpmailer->Username = 'abc@abc.com'; // epostam\n$phpmailer->Password = '12345'; // \u015fifre\n$phpmailer->SMTPSecure = 'tls'; // g\u00fcvenlik\n$phpmailer->Port = '587'; // port\n$phpmailer->From = $eposta; // g\u00f6nderen\n$phpmailer->FromName = $rumuz; // g\u00f6nderenin ad\u0131\n$phpmailer->AddReplyTo($alici, $rumuz);\n$phpmailer->addAddress($eposta); // duzenlenecek\n$phpmailer->isHTML(true);\n$phpmailer->Subject = $konu;\n$phpmailer->Body    = '< a href = \" sifre.php \" >\u015eifre< / a >';\n$phpmailer->CharSet = 'UTF-8';\nif(!$phpmailer->send()) {\n   echo 'E-Posta gonderilemedi. Hata: ' . $phpmailer->ErrorInfo; \n   exit; \n}\n. no i do spaces for github to share with you. Without spaces i wrote. Github shows me a mistake. By the way all this conversation wrote from mobile because of i can't write code that you want sorry\n. thank you i downloaded it again it works i use the\nhttps://github.com/PHPMailer/PHPMailer/blob/master/examples/smtp.phps\n. ",
    "cesare-brn": "There are different things about your comments i haven't understood quite well.\nI thought empty_message was for user error, when no body is provided. What i'm trying to catch are errors that make createBody() return empty, even if user provided a body. I think it could be misleading to throw an exception with an empty_message error when this->Body is set. And the same for AllowEmpty: if a body was provided but createBody() returned empty, that should be an error even it AllowEmpty is true.\nBy the way, in these days i'll modify the code to use empty_message and to comply with the other requests.\nWhat i understand less is your comment about file_get_contents(): that function was already present, i've only added a check on its return code, to completely avoid is_readable(). I understand your addStringAttachment() workaround and i'll use it if you are not going to accept my proposal. But i don't understand what's wrong with checking file_get_contents() return code. Please could you explain one more time?\n. There are different things about your comments i haven't understood quite well.\nI thought empty_message was for user error, when no body is provided. What i'm trying to catch are errors that make createBody() return empty, even if user provided a body. I think it could be misleading to throw an exception with an empty_message error when this->Body is set. And the same for AllowEmpty: if a body was provided but createBody() returned empty, that should be an error even it AllowEmpty is true.\nBy the way, in these days i'll modify the code to use empty_message and to comply with the other requests.\nWhat i understand less is your comment about file_get_contents(): that function was already present, i've only added a check on its return code, to completely avoid is_readable(). I understand your addStringAttachment() workaround and i'll use it if you are not going to accept my proposal. But i don't understand what's wrong with checking file_get_contents() return code. Please could you explain one more time?\n. Ok with the translation strings: removed.\nI've addressed some of your issues and tested the code: i think that now more error conditions are catched. But i admit it is effective only if exceptions are active: if not, the code is substantially the same as before (apart is_readable()) and a failure with file_get_contents() can still cause an empty message to be sent. The problem is that the errors caught by inner functions are lost and at the end createBody() returns empty and nothing checks that. I think that we ought check what createBody() returns, something like what i proposed at the beginning.\nFor the rest from my tests i've seen that other filesystem functions like is_file() or file_exists() doesn't suffer the problem that is_readable() have. And for the is_readable() inside setLanguage() it's not that easy to avoid it, because it's needed to guard an include, which is not a function, so not testable. But i think it's not a problem, because language files are bundled with phpmailer and are not supposed to be on an UNC path.\n. ",
    "meitar": "@ravisorg I am developing a WordPress plugin to encrypt attachments created by other plugins transparently, and have an almost-working experimental branch of my plugin to do this (tracked in meitar/wp-pgp-encrypted-emails#4). I say \"almost working\" because while the data gets encrypted, it's not PGP/MIME formatted correctly and so the data needs to be manually decrypted once received. Obviously, it would be preferable if the OpenPGP-compatible email clients could understand the email my plugin sends and treat the encrypted contents appropriately.\nAs far as I understand it, PHPMailer does not yet support doing this. Your PHPMailerPGP class looks like the perfect solution for me, but to work with my plugin it would need to at least optionally use the singpolyma/openpgp-php OpenPGP implementation instead of the PHP GnuPG extension to work.\nSo, two questions, similar to your own, above:\n1. Am I even barking up the right tree, or is there an alternative approach better suited for what I am trying to do?\n2. If I do already have the right idea, then to add support for OpenPGP-PHP to PHPMailerPGP, would you prefer I subclass it or send a pull request adding it as an optional backend to your own class?\nThanks!\n. ",
    "saimguptagkp": "this is my code\n<?php \nrequire('PHPMailerAutoload.php');\n//include('class.phpmailer.php');\n//require(\"class.smtp.php\");\n    if (isset($_POST['send'])) {\n        $name=$_POST['name'];\n        $email=$_POST['email'];\n        $phone=$_POST['phone'];\n        $message=$_POST['message'];\n    }\n$mail = new PHPMailer;\n//$mail->SMTPDebug = 3;\n//$admin_email=\"proyotech@gmail.com\";\n$mail->setFrom($email, $name);\n$mail->addAddress(\"svkdatt@gmail.com\", 'Proyo Technologies');     // Add a recipient\n$mail->addReplyTo($email, $name);\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'this is subject part';\n$mail->Body    = \"\".$name.\"\".\"\".$phone.\"\".$email.\"\".$message;\n$mail->AltBody = 'nice job';\nif(!$mail->send()) {\n    echo 'Message could not be sent. ';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    header(\"Location: http://www.digitalseocompany.in/demo/index.php\"); / Redirect browser /\nexit();\n}\n?>\nand this is my result: Message could not be sent. Mailer Error: Could not instantiate mail function.\non server. ",
    "nbsbhat": "here is the code:\n``` php\n    require_once PATH_LIB_PHPMAILER.'PHPMailerAutoload.php';\n    require_once PATH_LIB_PHPMAILER.'class.phpmailer.php';\n    require_once PATH_LIB_PHPMAILER.'class.smtp.php';\n    require_once PATH_LIB_PHPMAILER.'class.pop3.php';\nclass smtpMailer {\n    function __construct(){       \n    }\n    function sendMail($args) {\n        POP3::popBeforeSmtp(POP3_HOST, 110, 30, $args['pop3_user'], $args['pop3_pwd'], SMTPDEBUG);\n\n        $mail = new PHPMailer(true);\n        try {\n            $mail->SMTPDebug = SMTPDEBUG;  // Enable verbose debug output\n            $mail->isSMTP();        // Set mailer to use SMTP\n            $mail->SMTPAuth = false;// SMTP authentication; use popBeforeSmtp authentication        \n            $mail->Port = 25;       // TCP port to connect to\n            $mail->IsHTML(true);\n            $mail->Host = SMTP_HOST;                // Specify main and backup SMTP servers\n            $mail->Username = $args['mail_user'];   // SMTP username\n            $mail->Password = $args['mail_pwd'];    // SMTP password\n\n            $mail->From = $args['from'];\n            $mail->FromName = $args['from_name'];\n            $mail->addAddress($args['to']);         // Name is optional\n            $mail->addReplyTo($args['replyto'], $args['replyto_name']);         \n            $mail->Subject = $args['subject'];\n\n            $mail->Body    = $args['body'];\n\n            if($mail->send()) {\n                $this->logMeToFile(\"Mail has been sent to \".$args['to']);\n                return true;\n            }\n        } \n        catch (phpmailerException $e) {\n            // $this->logMeToFile(print_r($mail));\n            $this->logMeToFile(\"Mailer Error (\".$mail->Host.\")[\".$args['to'].\"]: \".$e->getMessage());\n            //$this->logMeToFile(\"ErrorInfo:\".$mail->ErrorInfo);\n            return false;\n        } \n        catch (Exception $e) {\n            $this->logMeToFile(\"Mailer Exception (\".$mail->Host.\")[\".$args['to'].\"]: \".$e->getMessage()); \n            return false;\n        }\n    }\n\n    function logMeToFile($content = \"\"){\n        file_put_contents($_SERVER['DOCUMENT_ROOT'] .URL_PREFIX .\"/logs/\".date(\"Ymd\").\"_wsLog.log\", date(\"D M j G:i:s T Y\") .\" : \" .print_r($content, true) .\"\\n\", FILE_APPEND);\n    }\n}\n\n```\n. Ok, for some reason my application did not autoload; will try again\nAwesome! \n- so, I can now print complete error from $errors Array to my log using $mail->getErrors() and SMTPDEBUG set to 2 ?\n- whether leaving SMTPDEBUG set to 2  result in performance?\n. Took class.pop3.php changes from  40a0a1b and I got what I wanted; but popBeforeSmtp updated to be non-static and SMTPDEBUG set to 0\nBelow changes were made to get the server errstr onto the application log:\n- In class.pop3.php (non-static popBeforeSmtp)\npublic function popBeforeSmtp(\n    $host,\n    $port = false,\n    $timeout = false,\n    $username = '',\n    $password = '',\n    $debug_level = 0\n    ) {\n        return $this->authorise($host, $port, $timeout, $username, $password, $debug_level);\n}\n- Client to fetch errors using getErrors():\nIn my code above, the following line of code is updated accordingly\nPOP3::popBeforeSmtp(POP3_HOST, 110, 30, $args['pop3_user'], $args['pop3_pwd'], SMTPDEBUG);\nto this,\n$pop = new POP3; // pop3 instance to catch $errors\nif(! $pop->popBeforeSmtp(POP3_HOST, 110, 30, $args['pop3_user'], $args['pop3_pwd'], SMTPDEBUG)) {\n    $errors = $pop->getErrors();  // fetch pop3 $errors\n    foreach ($errors as $error) {\n        $this->logMeToFile(\"error:\".($error['error']));\n        $this->logMeToFile(\"errno:\".($error['errno']));\n        $this->logMeToFile(\"errstr:\".($error['errstr']));\n    }\n    return false;\n}\nnow, the application log has:\nThu Sep 24 16:59:13 IST 2015 : error:Connecting to the POP3 server raised a PHP warning: \nThu Sep 24 16:59:13 IST 2015 : errno:2\nThu Sep 24 16:59:13 IST 2015 : errstr:fsockopen(): unable to connect to <IP>:110 (A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.\n)\nThu Sep 24 16:59:13 IST 2015 : error:Failed to connect to server <IP> on port 110\nThu Sep 24 16:59:13 IST 2015 : errno:10060\nThu Sep 24 16:59:13 IST 2015 : errstr:A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.\n-   is the host address to connect to pop3 server\n@Synchro , could you tell me, when will I get these updates in a release?\n. ah! that's correct - no change reqd in the library if my app calls $pop->authorise() directly :)\nthanks.\n. ",
    "tarak1006": "this is the error i have got\nMail error: Extension missing: openssl\ni have tried this \nmodifying extension=php_openssl.dll in php.ini\nbut it doesnt work out\n. this is the error i have got\nMail error: Extension missing: openssl\ni have tried this \nmodifying extension=php_openssl.dll in php.ini\nbut it doesnt work out\n. ",
    "Rombusevil": "For everyone reaching here while googling this error:\nCheck your PHPMailer version requirements against your installed php version.\nRecent PHPMailer versions uses 'OPENSSL_ALGO_SHA256' variable to check for openssl. \nPHP versions prior to 5.4.8 don't define that variable.. For everyone reaching here while googling this error:\nCheck your PHPMailer version requirements against your installed php version.\nRecent PHPMailer versions uses 'OPENSSL_ALGO_SHA256' variable to check for openssl. \nPHP versions prior to 5.4.8 don't define that variable.. ",
    "Lakshikasur": "I got same error even I use PHP 7.2. \n. @Synchro  Yes, I have installed and enabled from php.ini. thanks. @Synchro  Even I enabled openssl in php.ini, I was not showing as it enabled when get phpinfo();\nYou are correct. Thanks for your quick response.. ",
    "Cmumbi": "\nopenssl support is enabled but I'm still getting the 'missing extension' error. Could you kindly assist? @Synchro . @Synchro my header version is different from the rest. How do I rectify that?. ",
    "ricksherm": "My host upgraded to PHP Version 5.5.38 and I have removed www.escortsdosdonts.com/php.ini. Thank you for your comments, this issue is now closed.. My host upgraded to PHP Version 5.5.38 and I have removed www.escortsdosdonts.com/php.ini. Thank you for your comments, this issue is now closed.. ",
    "dnepro": "Yes, thats true they really could leave the reference on that and mark as \"under development\" or \"please use var instead\" but ok i will prepare a PR for that. Thanks for the fast answer!\n. Sorry, don't know how it happened, that i opened two PR's but here they are :)\n. Thanks @Synchro !\n. ",
    "f0o": "Bump @cusco\nOn 18 November 2015 08:49:40 CET, Marcus Bointon notifications@github.com wrote:\n\nDid you solve this?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/PHPMailer/PHPMailer/issues/517#issuecomment-157634549\n. \n",
    "kapilbhardwajj": "I little update this:- \n``` php\nif ($resp != null && $resp->success) {\nif(!empty($m_name) && !empty($m_email) && !empty($m_contact) && !empty($m_message)) {\n\n    if (preg_match('/^[\\w-]+(\\.[\\w-]+)*@([0-9a-z][0-9a-z-]*[0-9a-z]\\.)+([a-z]{2,4})$/i', $m_email )) {\n\n\n        require(\"class.phpmailer.php\");\n\n        $mail             = new PHPMailer();\n\n        $mail->IsSMTP(); // telling the class to use SMTP\n        $mail->Host       = \"sg2plcpnl0031.prod.sin2.secureserver.net\"; // SMTP server\n        $mail->SMTPAuth   = true;                  // enable SMTP authentication\n        $mail->Host       = \"sg2plcpnl0031.prod.sin2.secureserver.net\"; // sets the SMTP server\n        $mail->Port       = 25;                    // set the SMTP port for the GMAIL server\n        $mail->Username   = \"contact@datapackers.in\"; // SMTP account username\n        $mail->Password   = \"xxxxxxx\";        // SMTP account password\n        $mail->SMTPSecure = 'tls';               // Enable TLS encryption, `ssl` also accepted\n\n        $mail->From = \"contact@datapackers.in\";\n        $mail->FromName = \"DataPackers\";\n\n        $mail->AddReplyTo($m_email,$m_name);\n\n        $mail->AddAddress(\"contact@datapackers.in\", \"Data Packers\");\n\n        $mail->Subject    = \"Data Packers\";\n\n        $body =     \"Name : \". $m_name .\"\\r\\n\\n\" .\n                    \"Email : \". $m_email .\"\\r\\n\\n\" .\n                    \"Contact No. : \". $m_contact .\"\\r\\n\\n\" .\n                    \"Message : \". $m_message .\"\\r\\n\\n\".\n                    \"Page : \". $m_page .\"\\r\\n\\n\";\n\n        $mail->Body = $body;\n\n```\ni only update this details.. And all other are same.\n. Ok Synchro. i read it and update with your latest code.. I update you shortly :)\n. One more thing. I mention in my HTML page:- \n\n\nid=\"formail\" is correct?? or i need to change it..\n. ok.. i try to add you update PHPMailer :100: \n.",
    "wildqaga": "Thank for reply ...\nWhere is new version of PHP mailer?\n. ",
    "JoseCage": "Hello @Synchro, I understand you and you are quite right. I have reviewed my code and tested it again and confirmed that she was wearing the wrong way. Since using Ismail(); literally not the SMTP credentials necessary. With this I learned once more from my mistakes. So I hope suggestions. Thank you very much. :+1: \n. Got it. Thank you once again for the explanation and excuse for failure.\nIn case you need to delete this pull request in order to avoid possible mistakes (:bug:) by other developers, accepted without problems.\n. ",
    "FalsAlarm": "I'm trying to use phpmailer with gmail for smtp mail settings. however doesn't matter what settings i try, still get GMail SMTP connect() failed\n. Does anyone know how to fix that error?\n. below is my code for the phpmailer and gmail smtp settings.\n[code]\n    public function SendEmailToUser($email, $subject, $message, $plainTextMessage)\n    {\n        //require_once './includes/mailer/class.phpmailer.php';\n/**\n     * This example shows settings to use when sending via Google's Gmail servers.\n     */\n    //SMTP needs accurate times, and the PHP time zone MUST be set\n    //This should be done in your php.ini, but this is how to do it if you don't have access to that\n    date_default_timezone_set('Etc/UTC');\n    //require '../PHPMailerAutoload.php';\n    require_once(\"./includes/mailer/PHPMailerAutoload.php\");\n    //Create a new PHPMailer instance\n    $mail = new PHPMailer;\n    //Tell PHPMailer to use SMTP\n    $mail->isSMTP();\n    //Enable SMTP debugging\n    // 0 = off (for production use)\n    // 1 = client messages\n    // 2 = client and server messages\n    $mail->SMTPDebug = 2;\n    //Ask for HTML-friendly debug output\n    $mail->Debugoutput = 'html';\n    //Set the hostname of the mail server\n    $mail->Host = 'smtp.gmail.com';\n    // use\n    // $mail->Host = gethostbyname('smtp.gmail.com');\n    // if your network does not support SMTP over IPv6\n    //Set the SMTP port number - 587 for authenticated TLS, a.k.a. RFC4409 SMTP submission\n    $mail->Port = 587;\n    $mail->isHTML = false;\n    //Set the encryption system to use - ssl (deprecated) or tls\n    //$mail->SMTPSecure = 'tls';\n    $mail->SMTPSecure = 'tls';\n    //Whether to use SMTP authentication\n    $mail->SMTPAuth = true;\n    //Username to use for SMTP authentication - use full email address for gmail\n    $mail->Username = \"******@gmail.com\";\n    //Password to use for SMTP authentication\n    $mail->Password = \"********\";\n    //Set who the message is to be sent from\n    $mail->setFrom('canadeals@gmail.com', 'Ricky Mossip');\n    //Set an alternative reply-to address\n    $mail->addReplyTo('canadeals@sasktel.net', 'Ricky Mossip');\n    //Set who the message is to be sent to\n    $mail->addAddress($email, 'First Nation Circle Member');\n    //Set the subject line\n    $mail->Subject = $subject;\n    //Read an HTML message body from an external file, convert referenced images to embedded,\n    //convert HTML into a basic plain-text alternative body\n    $mail->msgHTML($message);\n    //Replace the plain text body with one created manually\n    $mail->AltBody = $message;\n    //Attach an image file\n    //$mail->addAttachment('images/phpmailer_mini.png');\n    //send the message, check for errors\n    if (!$mail->send()) {\n        echo \"<p>Mailer Error: \" . $mail->ErrorInfo . \"</p>\";\n    } else {\n        echo \"<h2>Message sent!</h2>\";\n    }\n}\n[/code]\n. by the way, the default code in gmail.phps file also produces this same error.\n. I'm having this same problem as well. I've even tried using EricMcWinNer's code and i receive the same SMTP Connect Failed error.  I just tried adding SMTPDebug = 4 to see what it outputs.\nI also enabled access to less secure apps in google settings by visiting here, https://www.google.com/settings/security/lesssecureapps\nand i think you have to run this url on the server in order for you to enable something else but i'm using cent os 7 and i don't know how to visit webpages from the command line interface.,\nhttps://accounts.google.com/b/0/DisplayUnlockCaptcha\nmaybe these solutions will work for Eric\n. I tried using lynx but it's different when you sign in to the web browser that is at the command line. I'm using lynx\n. ok so after installing lynx command line browser and visiting https://accounts.google.com/b/0/DisplayUnlockCaptcha\nthe email send is working fine now.\nHopefully this resolves the issue for Eric\n. ",
    "matteotrubini": "Unfortunately SpamAssassin won't change its rules (there are some thread about that). To be more \"friendly\" we need add recipients names everytime.\nAnyway, for my reference, which is the reason to not make this change?\n. Got it. Probably I will override addrFormat() as it's the best path that I've found to change only the header filed without make problems to the recipient list at sending time.\nJust to share my idea: the RFC5322 define the recipient as \"[...] (2) an addr-spec address enclosed in angle brackets (\"<\" and \">\"). [...]\" - see https://tools.ietf.org/html/rfc5322#section-3.4\nThe bracketless notation is also accepted as simple form, so it's right that SA it's too strict, but it's also true that in this case they don't go against RFC.\nThanks again for the reviews!\n. ",
    "chybaDapi": "My version of PHP is 5.2.17\n. ",
    "quindo": "Sorry,  bumped enter and submitted this before I have compiled all the information.\n. Sorry.  When writing the original post I was not confident that I had found all the problem lines.\nI currently attempting to run the script with that line commented out.  I am able to get a refresh token.  Everything appears to be working until I attempt to run a gmail_xoauth.php test email.  I get the following output.\nSERVER -> CLIENT: 250-go.example.com Hello www.example.com [107.6.149.106]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250 HELP\nAuth method requested: XOAUTH2\nAuth methods available on the server: PLAIN,LOGIN\nSMTP Error: Could not authenticate.\nCLIENT -> SERVER: QUIT\nI am not sure if this is related to the commenting out of the accessType or if there is something wrong with my setup.\nLooking into the code the construct allows us to set accessType, but there does not seem to be generic get/set available post construction in oauth2-client or oauth2-google.  What in the If else statement causes accessType to become unset?\n. It is happening after STARTTLS.\nhttp://pastebin.com/U7HTxAez\nThere is a pastebin of the full debugging output.  I am going through the link below again to make sure I did not miss a step somewhere.\nhttps://github.com/PHPMailer/PHPMailer/wiki/Using-Gmail-with-XOAUTH2\n. I found part of the problem.\nI get 2 completely different outputs depending on if I run the script through the command line verses if I hit the script via a web.  It is giving me a \"Username and Password not accepted.\" error.\nThis is probably just my inexperience not knowing that running via cron/command line and a web request would result in 2 different outputs.\n. Have you tried setting $mail->SMTPDebug = 4;\nI did that to get more verbose output I linked before. \nSERVER -> CLIENT: 220-go.example.com ESMTP Exim 4.86 #2 Mon, 26 Oct 2015 14:54:55 -0400 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\nCLIENT -> SERVER: EHLO example.com\nSERVER -> CLIENT: 250-go.example.com Hello example.com [107.6.149.106]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250-STARTTLS250 HELP\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 TLS go ahead\nCLIENT -> SERVER: EHLO example.com\nSERVER -> CLIENT: 250-go.example.com Hello example.com [107.6.149.106]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250 HELP\nSMTP Error: Could not authenticate.\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 go.example.com closing connection\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMy issue might be related to my webserver using Exim as the Message Transfer Agent.  I contacted my ServerHost and they said \"We do not redirect any traffic nor prevent any outbound connections from our network.\"\nYou seem to at least by attempting to authenticate and getting the correct responses from google.  Are you sure you got a refresh token and not a normal token?\nI have gone through all the troubleshooting on my side and as far as I can tell I am connecting to 'a google server'.  I have no idea why oauth2 is not available.  I am in random RnD mode trying to troubleshoot it.  If I get any progress on it I will update you all in this ticket.\n. ",
    "RoxKilly": "@ooxi,\nThanks for the response and the security consideration; I get your point. Your response brings to mind two questions.\n1) How to disable certificate checking? You said it can be done without telling me how :-)\n2) Is there a middle ground? In other words, if certificate validation fails, only accept certificates from a supplied whitelist.  This would allow for a secure connection since I know I can trust a particular certificate but would not be exposed to other invalid certs.  This is how some email clients handle the situation. My Android phone and computer will accept the certificate from my server even though it's self-signed but will not accept other self-signed or invalid certs unless I add them to the whitelist. Same thing with the FTP server I use to connect to the server.\n. Thanks I'll take a look!\n. You've pointed me in the right direction. I'm able to resolve my point 1 above by adding:\n\n$mailer->SMTPOptions = ['ssl'=> ['allow_self_signed' => true]];\n\nThis worked! Now I wanted to take your advice and strengthen the security by white-listing the certificate I actually expected. So, as instructed by your 2nd link, I've tried to make use of the peer_fingerprint option by modifying my code to the following:\n\n$mailer->SMTPOptions = ['ssl'=>[\n                'allow_self_signed' => true,\n                'peer_fingerprint'=>['sha1'=>'751608908fd7361258827e081c136cb4ae73df4c']\n            ]];\n\nThis however throws the puzzling error non-Fatal stream_socket_enable_crypto(): Expected peer fingerprint must be a string or an array.  I tried changing the peer fingerprint value to a string:\n\n$mailer->SMTPOptions = ['ssl'=>[\n                'allow_self_signed' => true,\n                'peer_fingerprint'=>'751608908fd7361258827e081c136cb4ae73df4c'\n            ]];\n\nThe same error is thrown. This is quite strange. peer_fingerprint was added with PHP 5.6 and I am using PHP 5.6.13 on Windows, so I should be set. \n. great idea. For reference, here is the post on StackOverflow\n. ",
    "imusorka": "Thank you for responding.\nThis is a dedicated server running osCommerce. We had to go TLSv1.2-only due to PCI compliance requirements. Could you please clarify what is meant by \"need to alter/update your client to use better ciphers\"?\n. After days of trying to get this to work we have received the following from our host. Please advise.\n\"It looks like phpmailer is currently hard coded to use DES. This is a bad idea since it's an outdated, weak cryptographic algorithm. Changing it to use a more modern cipher like AES should work.\"\n. Unbelievable! That error was being generated simply because of Exim using a self-signed certificate on our server. Thank you for patiently assisting us throughout the process.\n. Having had TLS 1.2 integration delayed by one year, we are back with the same issue. It turns out that certificates are not to blame here as we now have properly signed ones for all services including Exim. Our host suggests that this is not a server-side issue. Most likely, it is PHP-related. Could you possibly point us in the right direction in terms of identifying the correct config for PHP in order for PHPMailer to work correctly in this new TLS 1.2 environment?\n. It was the PHPMailer script after all. All we had to do was change the\ncommand to the following.\nSTREAM_CRYPTO_METHOD_TLSv1_2_CLIENT\nThanks.\nOn Fri, Oct 28, 2016 at 6:49 PM, Marcus Bointon notifications@github.com\nwrote:\n\nThe problem you had before didn't get as far as checking certificates - it\nwas falling down on cipher lists, which happens before that.\nFirst of all I suggest checking your mail server's SSL config using\ntestssl.sh from your client, which will give you a load of info about\nwhat your server will accept:\ntestssl.sh --starttls smtp mail.example.com:25\nThen compare the cipher list with what your phpinfo output says and check\nthey have ciphers in common (also look up the openssl version you're using).\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/542#issuecomment-256956515,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AOnJffO-yYWALzLEVlFqf8--xh29yw4vks5q4hmIgaJpZM4GVfs7\n.\n. Our version of PHPMailer was missing the following.\n\n//PHP 5.6.7 dropped inclusion of TLS 1.1 and 1.2 in\nSTREAM_CRYPTO_METHOD_TLS_CLIENT\n//so add them back in manually if we can\nif (defined('STREAM_CRYPTO_METHOD_TLSv1_2_CLIENT')) {\n$crypto_method |= STREAM_CRYPTO_METHOD_TLSv1_2_CLIENT;\n$crypto_method |= STREAM_CRYPTO_METHOD_TLSv1_1_CLIENT;\n}\nOn Sat, Oct 29, 2016 at 12:57 AM, Marcus Bointon notifications@github.com\nwrote:\n\nIf you need to nail it specifically to that version, I suggest you\nsubclass the SMTP class and reinject it as per the docs.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/542#issuecomment-257038816,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AOnJfXmRGGT_iGJbQi0l2CCIXOXn4anSks5q4m_bgaJpZM4GVfs7\n.\n. \n",
    "PrincessOfSecret": "I have also experienced those broken stuff that people reported there, but I think I could fix them, while I finally got the token. Or it can be wrong this way?\n. First I had tried just that simple way without XOAUTH2 and with username and password, but got the same error. I have also tried it again after I enabled less secure apps, but same error. But god, I will try  it again just to be sure.\n. Not much success again.\n2015-10-26 17:55:10 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP p18sm14759216wik.21 - gsmtp\n2015-10-26 17:55:10 CLIENT -> SERVER: EHLO test.com\n2015-10-26 17:55:10 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [85.25.210.226]\n                                      250-SIZE 35882577\n                                      250-8BITMIME\n                                      250-STARTTLS\n                                      250-ENHANCEDSTATUSCODES\n                                      250-PIPELINING\n                                      250-CHUNKING\n                                      250 SMTPUTF8\n2015-10-26 17:55:10 CLIENT -> SERVER: STARTTLS\n2015-10-26 17:55:10 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\n2015-10-26 17:55:10 CLIENT -> SERVER: EHLO test.com\n2015-10-26 17:55:10 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [85.25.210.226]\n                                      250-SIZE 35882577\n                                      250-8BITMIME\n                                      250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH\n                                      250-ENHANCEDSTATUSCODES\n                                      250-PIPELINING\n                                      250-CHUNKING\n                                      250 SMTPUTF8\n2015-10-26 17:55:10 CLIENT -> SERVER: AUTH LOGIN\n2015-10-26 17:55:10 SERVER -> CLIENT: 334 ******\n2015-10-26 17:55:10 CLIENT -> SERVER: ******\n2015-10-26 17:55:10 SERVER -> CLIENT: 334 ******\n2015-10-26 17:55:10 CLIENT -> SERVER: ******\n2015-10-26 17:55:10 SERVER -> CLIENT: 534-5.7.14 <https://accounts.google.com/ContinueSignIn?sarp=1&scc=1&plt=******\n                                      534-5.7.14 ******\n                                      534-5.7.14 ******\n                                      534-5.7.14 ******\n                                      534-5.7.14 ******> Please log in via your web browser and\n                                      534-5.7.14 then try again.\n                                      534-5.7.14  Learn more at\n                                      534 5.7.14  https://support.google.com/mail/answer/78754 p18sm14759216wik.21 - gsmtp\n2015-10-26 17:55:10 SMTP ERROR: Password command failed: 534-5.7.14 <https://accounts.google.com/ContinueSignIn?sarp=1&scc=1&plt=******\n                                      534-5.7.14 ******\n                                      534-5.7.14 ******\n                                      534-5.7.14 ******\n                                      534-5.7.14 ******> Please log in via your web browser and\n                                      534-5.7.14 then try again.\n                                      534-5.7.14  Learn more at\n                                      534 5.7.14  https://support.google.com/mail/answer/78754 p18sm14759216wik.21 - gsmtp\n2015-10-26 17:55:10 SMTP Error: Could not authenticate.\n2015-10-26 17:55:10 CLIENT -> SERVER: QUIT\n2015-10-26 17:55:10 SERVER -> CLIENT: 221 2.0.0 closing connection p18sm14759216wik.21 - gsmtp\n2015-10-26 17:55:10 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. Yeah, my webserver has no problem, I get to authentication every time, but it always fails. Login data is right, I can log in via browser. And yes, I've got both refresh and normal token, but I don't know how can I check if they are right or usable.\nI tried with SMTPDebug = 4 as you adviced and here what I get (before this everything works well):\n2015-10-27 11:56:34 Auth method requested: XOAUTH2\n2015-10-27 11:56:34 Auth methods available on the server: LOGIN,PLAIN,XOAUTH2,PLAIN-CLIENTTOKEN,OAUTHBEARER,XOAUTH\n2015-10-27 11:56:36 CLIENT -> SERVER: AUTH XOAUTH2 ******\n2015-10-27 11:56:37 SMTP -> get_lines(): $data is \"\"\n2015-10-27 11:56:37 SMTP -> get_lines(): $str is  \"334 ******\"\n2015-10-27 11:56:37 SERVER -> CLIENT: 334 ******\n2015-10-27 11:56:37 SMTP ERROR: AUTH command failed: 334 ******\n2015-10-27 11:56:37 SMTP Error: Could not authenticate.\n2015-10-27 11:56:37 CLIENT -> SERVER: QUIT\n2015-10-27 11:56:37 SMTP -> get_lines(): $data is \"\"\n2015-10-27 11:56:37 SMTP -> get_lines(): $str is  \"535-5.7.8 Username and Password not accepted. Learn more at\n                                      \"\n2015-10-27 11:56:37 SMTP -> get_lines(): $data is \"535-5.7.8 Username and Password not accepted. Learn more at\n                                      \"\n2015-10-27 11:56:37 SMTP -> get_lines(): $str is  \"535 5.7.8  https://support.google.com/mail/answer/14257 e79sm2655985wmd.16 - gsmtp\n                                      \"\n2015-10-27 11:56:37 SERVER -> CLIENT: 535-5.7.8 Username and Password not accepted. Learn more at\n                                      535 5.7.8  https://support.google.com/mail/answer/14257 e79sm2655985wmd.16 - gsmtp\n2015-10-27 11:56:37 SMTP ERROR: QUIT command failed: 535-5.7.8 Username and Password not accepted. Learn more at\n                                      535 5.7.8  https://support.google.com/mail/answer/14257 e79sm2655985wmd.16 - gsmtp\n2015-10-27 11:56:37 Connection: closed\n2015-10-27 11:56:37 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nWhen I try do the simple way without OAUTH2, I get this below. Maybe the auth type is not right for the simple username-pass authentication?\n2015-10-27 10:24:10 Auth method requested: PLAIN\n2015-10-27 10:24:10 Auth methods available on the server: LOGIN,PLAIN,XOAUTH2,PLAIN-CLIENTTOKEN,OAUTHBEARER,XOAUTH\n2015-10-27 10:24:10 CLIENT -> SERVER: AUTH PLAIN\n2015-10-27 10:24:10 SMTP -> get_lines(): $data is \"\"\n2015-10-27 10:24:10 SMTP -> get_lines(): $str is  \"334 \n                                      \"\n2015-10-27 10:24:10 SERVER -> CLIENT: 334\n2015-10-27 10:24:10 CLIENT -> SERVER: ******\n2015-10-27 10:24:11 SMTP -> get_lines(): $data is \"\"\n2015-10-27 10:24:11 SMTP -> get_lines(): $str is  \"534-5.7.9 Please log in with your web browser and then try again. Learn more at\n                                      \"\n2015-10-27 10:24:11 SMTP -> get_lines(): $data is \"534-5.7.9 Please log in with your web browser and then try again. Learn more at\n                                      \"\n2015-10-27 10:24:11 SMTP -> get_lines(): $str is  \"534 5.7.9  https://support.google.com/mail/answer/78754 65sm14738282qhf.4 - gsmtp\n                                      \"\n2015-10-27 10:24:11 SERVER -> CLIENT: 534-5.7.9 Please log in with your web browser and then try again. Learn more at\n                                      534 5.7.9  https://support.google.com/mail/answer/78754 65sm14738282qhf.4 - gsmtp\n2015-10-27 10:24:11 SMTP ERROR: User & Password command failed: 534-5.7.9 Please log in with your web browser and then try again. Learn more at\n                                      534 5.7.9  https://support.google.com/mail/answer/78754 65sm14738282qhf.4 - gsmtp\n2015-10-27 10:24:11 SMTP Error: Could not authenticate.\n2015-10-27 10:24:11 CLIENT -> SERVER: QUIT\n2015-10-27 10:24:11 SMTP -> get_lines(): $data is \"\"\n2015-10-27 10:24:11 SMTP -> get_lines(): $str is  \"221 2.0.0 closing connection 65sm14738282qhf.4 - gsmtp\n                                      \"\n2015-10-27 10:24:11 SERVER -> CLIENT: 221 2.0.0 closing connection 65sm14738282qhf.4 - gsmtp\n2015-10-27 10:24:11 Connection: closed\n2015-10-27 10:24:11 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nGoogle also advices app password. Can it help in my case?\n. I've just check the Gmail inbox for this account, and I saw that when I had tried to send the message without OAUTH2 and got the result above, a mail delivery notification arrived, that the delivery for that mail is failed. What the hell is going on? I feel quite desperate now...\n. It's enabled, as I said still in my first post. That's why I don't understand why it is still not working. As you can see in the last debug, the authentication fails even if I use the normal user-pass way, but it sends mail delivery notification about the failure, while it didn't happen before.\n. I've checked every parameter once again then tried to send a message. Now the debugger says this:\n2015-10-27 12:19:26 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP v83sm5982905qkv.1 - gsmtp\n2015-10-27 12:19:26 CLIENT -> SERVER: EHLO test.com\n2015-10-27 12:19:26 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [85.25.210.226]\n                                      250-SIZE 35882577\n                                      250-8BITMIME\n                                      250-STARTTLS\n                                      250-ENHANCEDSTATUSCODES\n                                      250-PIPELINING\n                                      250-CHUNKING\n                                      250 SMTPUTF8\n2015-10-27 12:19:26 CLIENT -> SERVER: STARTTLS\n2015-10-27 12:19:26 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\n2015-10-27 12:19:27 CLIENT -> SERVER: EHLO test.com\n2015-10-27 12:19:28 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [85.25.210.226]\n                                      250-SIZE 35882577\n                                      250-8BITMIME\n                                      250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH\n                                      250-ENHANCEDSTATUSCODES\n                                      250-PIPELINING\n                                      250-CHUNKING\n                                      250 SMTPUTF8\n2015-10-27 12:19:28 CLIENT -> SERVER: AUTH PLAIN\n2015-10-27 12:19:28 SERVER -> CLIENT: 334\n2015-10-27 12:19:28 CLIENT -> SERVER: ******\n2015-10-27 12:19:28 SERVER -> CLIENT: 235 2.7.0 Accepted\n2015-10-27 12:19:28 CLIENT -> SERVER: MAIL FROM:<test@gmail.com>\n2015-10-27 12:19:29 SERVER -> CLIENT: 250 2.1.0 OK v83sm5982905qkv.1 - gsmtp\n2015-10-27 12:19:29 CLIENT -> SERVER: RCPT TO:<emese.buza.9@gmail.com>\n2015-10-27 12:19:29 SERVER -> CLIENT: 250 2.1.5 OK v83sm5982905qkv.1 - gsmtp\n2015-10-27 12:19:29 CLIENT -> SERVER: DATA\n2015-10-27 12:19:30 SERVER -> CLIENT: 354  Go ahead v83sm5982905qkv.1 - gsmtp\n2015-10-27 12:19:30 CLIENT -> SERVER: Date: Tue, 27 Oct 2015 13:19:25 +0100\n2015-10-27 12:19:30 CLIENT -> SERVER: To: test <test2@gmail.com>\n2015-10-27 12:19:30 CLIENT -> SERVER: From: Test <test@gmail.com>\n2015-10-27 12:19:30 CLIENT -> SERVER: Subject: Poruka od Test.com 2015. 10. 27. - 13:19:20\n2015-10-27 12:19:30 CLIENT -> SERVER: Message-ID: <****@test.com>\n2015-10-27 12:19:30 CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.13 (https://github.com/PHPMailer/PHPMailer/)\n2015-10-27 12:19:30 CLIENT -> SERVER: MIME-Version: 1.0\n2015-10-27 12:19:30 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2015-10-27 12:19:30 CLIENT -> SERVER:   boundary=\"***\"\n2015-10-27 12:19:30 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2015-10-27 12:19:30 CLIENT -> SERVER:\n2015-10-27 12:19:30 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2015-10-27 12:19:30 CLIENT -> SERVER:\n2015-10-27 12:19:30 CLIENT -> SERVER: --***\n2015-10-27 12:19:30 CLIENT -> SERVER: Content-Type: text/plain; charset=iso-8859-1\n2015-10-27 12:19:30 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2015-10-27 12:19:30 CLIENT -> SERVER:\n2015-10-27 12:19:30 CLIENT -> SERVER: Po\u0161tovani,Dobili ste poruku preko Test.com na Va\u0161 oglas Lorem ipsum dolor sit amet, consectetur adipiscing elit.Ime: testE-mail: test@test.comPoruka: \"test\"Test.com\n2015-10-27 12:19:30 CLIENT -> SERVER:\n2015-10-27 12:19:30 CLIENT -> SERVER:\n2015-10-27 12:19:30 CLIENT -> SERVER: --***\n2015-10-27 12:19:30 CLIENT -> SERVER: Content-Type: text/html; charset=iso-8859-1\n2015-10-27 12:19:30 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2015-10-27 12:19:30 CLIENT -> SERVER:\n2015-10-27 12:19:30 CLIENT -> SERVER: <p>Po\u0161tovani,</p><p>Dobili ste poruku preko Test.com na Va\u0161 oglas <a href=\"http://test.com/detalj/1251/lorem-ipsum-dolor-sit-amet-consectetur-adipiscing-elit-sve-ostalo-ostalo-srbija-test\"><b>Lorem ipsum dolor sit amet, consectetur adipiscing elit</b></a>.</p><hr /><p><label>Ime:</label> <b>test</b><br /><label>E-mail:</label> <b>test@test.com</b><br /><label>Poruka:</label></p> <p><i>\"test\"</i></p><hr /><i>Test.com</i>\n2015-10-27 12:19:30 CLIENT -> SERVER:\n2015-10-27 12:19:30 CLIENT -> SERVER:\n2015-10-27 12:19:30 CLIENT -> SERVER:\n2015-10-27 12:19:30 CLIENT -> SERVER: --***--\n2015-10-27 12:19:30 CLIENT -> SERVER:\n2015-10-27 12:19:30 CLIENT -> SERVER: .\n2015-10-27 12:19:31 SERVER -> CLIENT: 250 2.0.0 OK 1445948365 v83sm5982905qkv.1 - gsmtp\n2015-10-27 12:19:31 CLIENT -> SERVER: QUIT\n2015-10-27 12:19:31 SERVER -> CLIENT: 221 2.0.0 closing connection v83sm5982905qkv.1 - gsmtp\nSo it seems that now it works, but somehow the recipient still doesn't get the mail, only the sender receives a delivery failure notification. Well, at least it works somehow.\nI'm still looking forward for a solution to OAUTH2, if there is any.\n. It says:\nDelivery to the following recipient failed permanently:\n     username@gmail.com\nTechnical details of permanent failure:\nMessage rejected.  See https://support.google.com/mail/answer/69585 for more information.\nI think it's because of the e-mail got blacklisted or something like that. I have to check that and contact the owner. So it's no longer a PHPMailer issue, cause it does its job now.\nHowever, I have one more question.\nAs you could see in my PHP in my first post, I have this at the end:\nphp\nif (!$mail->send()) {\n    echo $mail->ErrorInfo;\n} else {\n    echo \"1\";\n}\nIf the mail sending is successful, then why do I see the ErrorInfo posted before? And why it echoes \"1\" also at the end? It should echo only \"1\" and go on, right?\n. Yes, I see now, sorry. I forgot to turn off the debugger, that's why I didn't see what I had to. I got blind from this many debugging. :)\nSo, PHPMailer is working fine now without XOAUTH2 and with the simple username-pass verification. However, recipient still doesn't get the message, it returns to the sender, but it's not the script's fault.\nWe haven't found solution for the original XOAUTH2 issue, but the workaround works, so you can close this issue if you think. Thanks for the help and replies.\n. ",
    "terrymun": "@Synchro Thanks for the input. I have found out that setting SMTPAutoTLS to false helps, in conjunction with turning off peer verification off through the SMTPoptions.\nThanks :+1: \n. ",
    "luismartinezo": "Hello, I'm the same, I just got this message: SMTP Error: Could not connect to SMTP server.\nWhat can be. Hello, I'm the same, I just got this message: SMTP Error: Could not connect to SMTP server.\nWhat can be. ",
    "zero0029": "@Synchro  It's help a lot thank you!!!. @Synchro  It's help a lot thank you!!!. ",
    "bado57": "Thank u @Synchro its ok.\n. ",
    "Shaun0517": "Hi Synchro, thanks for the reply.\nI did try $vlMailMessage->DKIM_private = '.DDBNethtkeyprivate';\nwhere '.DDBNethtkeyprivate' contains the file from worxware, ie\n-----BEGIN RSA PRIVATE KEY-----\nProc-Type: 4,ENCRYPTED\nDEK-Info: DES-EDE3-CBC,3C3BC78B0311AA1A\n+omRObgdkAdTAZZbWHvbf+E5S6swHoHUr4rW5yp+BmadMlUMT3Jpkm5HJc1Dd26I\nbzDAHy9+m9xf3EQLkIcAdNXFwKmgll8AAcJoBRjPDLnt4zmJBgLAyPSZ3h8OI1UE\nlHcDjoUVtIWqNDi1uQXwyi3DrftzyLdxeHDpbXDLcy/qyhZsrnvs4smWAvxcLo8g\nFwq1o1IpxQawariOH+C4oxbENCHoCh7WZi0qnECjyPbi4aqvf0SSDAc3eYH9x0+s\nc9Ne2DXq7w4sX6md/pd8EChvo8g+OYcuTKSPKZborQibnvrvXs1G+e2kDSF78x/Y\nSXhIyXL3WXcAuNwqeGVSKIUMd+HelSWAjnQYI3JI792nzuj0S78WlP0i+oUtcWy+\nV+RsLJlWGZJql1KHrXFUdBvMdYhmBhmdNqdyUWOKxgYwHB7EHgvYP4Ho2ijxr3U1\nqjczGAr4h5WtHTvBgUp25EwEyhcFAWX1MlAT9+C5qTsO8vDavi/uLI805WyKgwFN\njp7qx2CmlSmpIwPhvrV88ajf119yHveQHYPIfXg2ZOo2AGrJeDmvp0S3B6BSY4EU\n1YODRaoZVMQCaJHPkTwEe4hc2IHrA1y6ZcnYpu1K1a81uvXVDzvfylqqG3SjLwfP\niZ6vhC2E/Ncjnvi4eJt9+j67HSA4CYhpxMTvOI+4zrdK/Pucar0saNeFQQnJ3sNM\n0cnl+Z/XCH30ERi3GuDAJXWkUkJvKfbk2dwXW8QgdOZIdU+Gj0gDCevdR8wsO5Vr\nyDUXIErZcdZvlaqEcviUOBbJ0LMm7d/1DL5QAvVl1an76YT/qChzZQ==\n-----END RSA PRIVATE KEY-----\nBut if I do that, then the script fails to execute\n. It just bombs out saying 'Failed To Load Page' in Chrome\n. ok cheers, will try now, but for my information, as to be honest I'm new to dkim, the...\n-----BEGIN RSA PRIVATE KEY-----\n&\n-----END RSA PRIVATE KEY-----\nis fine to leave in the file, i.e. the downloaded file should be left untouched?\n. Ok,\nJust one more thing, I have looked through the mailer scripts, and the DKIM_selector does seem to get assigned, however; whatever I assign it to, mail_tester.com reads it as being set to default, is that a problem at their end, or am i missing something?\nI'm only asking as I am not sure if having phpmailer._domainkey & default._domainkey in my zone file is a good thing or not.\nAnd to be honest, goddaddy does not have the greatest help forums, if you go anything other than basic questions\n. ",
    "dlhenke": "hey.. that was a second try.. \nXOAUTH2, XOAUTH ..\n. PIPELINING250-CHUNKING250 SMTPUTF8\nAuth method requested: XOAUTH2\nAuth methods available on the server: LOGIN,PLAIN,XOAUTH2,PLAIN-CLIENTTOKEN,OAUTHBEARER,XOAUTH\nCLIENT -> SERVER: AUTH XOAUTH2 dXNlcj1hZnBlc3AuYXJpbkBnbWFpbC5jb20BYXV0aD1CZWFyZXIgeWEyOS5Md0twb2V3c0NIN21QaTViLTFLcE8tYUZaNGxWenhWWGRvV3RjN3kzZVR5T09oMnNiNGNMcS1mYUZUaEZPak1KZC1tazB3AQE=\nSMTP -> get_lines(): $data is \"\"\nSMTP -> get_lines(): $str is \"334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\"\nSERVER -> CLIENT: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP ERROR: AUTH command failed: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP Error: Could not authenticate.\nCLIENT -> SERVER: QUIT\nSMTP -> get_lines(): $data is \"\"\nSMTP -> get_lines(): $str is \"535-5.7.8 Username and Password not accepted. Learn more at\"\nSMTP -> get_lines(): $data is \"535-5.7.8 Username and Password not accepted. Learn more at\"\nSMTP -> get_lines(): $str is \"535 5.7.8 https://support.google.com/mail/answer/14257 x139sm2326702vkd.7 - gsmtp\"\nSERVER -> CLIENT: 535-5.7.8 Username and Password not accepted. Learn more at535 5.7.8 https://support.google.com/mail/answer/14257 x139sm2326702vkd.7 - gsmtp\nSMTP ERROR: QUIT command failed: 535-5.7.8 Username and Password not accepted. Learn more at535 5.7.8 https://support.google.com/mail/answer/14257 x139sm2326702vkd.7 - gsmtp\nConnection: closed\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. ",
    "usamamashkoor": "did you find any solution...?. ",
    "josebulatao": "SMTP -> FROM SERVER:220 smtp.gmail.com ESMTP c6sm21581911pfm.165 - gsmtp\nSMTP -> FROM SERVER: 250-smtp.gmail.com at your service, [205.144.171.59] 250-SIZE 35882577 250-8BITMIME 250-STARTTLS 250-ENHANCEDSTATUSCODES 250-PIPELINING 250-CHUNKING 250 SMTPUTF8\nSMTP -> ERROR: AUTH not accepted from server: 530 5.7.0 Must issue a STARTTLS command first. c6sm21581911pfm.165 - gsmtp\nSMTP -> FROM SERVER:250 2.1.5 Flushed c6sm21581911pfm.165 - gsmtp\nSMTP Error: Could not authenticate. Mailer Error: SMTP Error: Could not authenticate.\ni am having this error.. please help me. i am using the latest version of the PHPmailer.. can you please provide me an php example for sending email ? . could you give me the proper phpmailer files to use ? the one that can be\ndownloaded in command prompt using composer.. i cannot download it on my\ncommand prompt and i don't know why it isn't downloading.\nOn Tue, Feb 27, 2018 at 4:47 PM, Marcus Bointon notifications@github.com\nwrote:\n\nIs it really so hard to find the ones that are right here\nhttps://github.com/PHPMailer/PHPMailer/tree/master/examples?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/561#issuecomment-368789883,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AfDk4edkDRcRYSMx_VFapzLiCFBu2WWIks5tY8EbgaJpZM4GjVEp\n.\n. [image: Inline image 1]\n\nOn Wed, Feb 28, 2018 at 9:19 AM, ooxi notifications@github.com wrote:\n\nPlease paste the output of running composer require phpmailer/phpmailer.\nWe might have to move this discussion to a more suitable place like\nstackoverflow since this is clearly not a PHPMailer issue.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/561#issuecomment-369086830,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AfDk4RGCQHQWAdgW-vRRECh_pQqTSeF5ks5tZKmMgaJpZM4GjVEp\n.\n. \n. i'll just start over from the scratch.. please help me set up phpmailer\n. So that's what im missing... Thanks alot ! :) Downloading PHPmailer now.... \n getting this error from smtp.. i used smtp.gmail.com . yes... everytime i use gmail the smtp error is always occuring. oh im sorry hahaha. 2018-02-28 02:12:11 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP s127sm603999pfb.178 - gsmtp\n2018-02-28 02:12:11 CLIENT -> SERVER: EHLO maybanksurvey-001-site1.atempurl.com\n2018-02-28 02:12:11 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [205.144.171.59]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2018-02-28 02:12:11 CLIENT -> SERVER: STARTTLS\n2018-02-28 02:12:11 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nSMTP Error: Could not connect to SMTP host.\n2018-02-28 02:12:13 CLIENT -> SERVER: QUIT\n2018-02-28 02:12:13\n2018-02-28 02:12:13\nSMTP Error: Could not connect to SMTP host.\nMessage could not be sent. Mailer Error: SMTP Error: Could not connect to SMTP host.\n\nthis is the error from smtp.gmail.com. use League\\OAuth2\\Client\\Provider\\Google; this file doesn't exist in my directory\n. use League\\OAuth2\\Client\\Provider\\Google; this file doesn't exist in my directory\n. yes close hahaha. yes close hahaha. $mail->setOAuth(\n    new OAuth(\n        [\n            'provider' => $provider,\n            'clientId' => $clientId,\n            'clientSecret' => $clientSecret,\n            'refreshToken' => $refreshToken,\n            'josebulatao17@gmail.com' => $email,\n        ]\n    )\n);\nwhat should i input here ? :(. $mail->setOAuth(\n    new OAuth(\n        [\n            'provider' => $provider,\n            'clientId' => $clientId,\n            'clientSecret' => $clientSecret,\n            'refreshToken' => $refreshToken,\n            'josebulatao17@gmail.com' => $email,\n        ]\n    )\n);\nwhat should i input here ? :(. i can't get the Gmail OAuth.. i think i'll stick with sendgrid for now.. Thankyou ! @ooxi . i can't get the Gmail OAuth.. i think i'll stick with sendgrid for now.. Thankyou ! @ooxi . sir @Synchro do you have a sample for making a html be downloaded as pdf file.. i am creating a online request form and want to printout the filled out form.. sir @Synchro do you have a sample for making a html be downloaded as pdf file.. i am creating a online request form and want to printout the filled out form.. ",
    "beijingnj": "Here is my basic code:\nphp\n\n<pinclude '../class.phpmailer.php';\ninclude '../PHPMailerAutoload.php';\n//Create a new PHPMailer instance\n$mail = new PHPMailer;\n// Set PHPMailer to use the sendmail transport\n$mail->isSendmail();\n$mail->setFrom('from@example.org');\n$mail->addReplyTo('replyto@example.org');\n$mail->addAddress('whoto1@example.org');\n$mail->addAddress('whoto2@example.org');\n$mail->addAddress('whoto3@example.org');\n$mail->Subject = 'PHPMailer sendmail test';\n$mail->Body = '$content';    //the content include - like 'go to website http://www.someschool.org'\nif (!$mail->send()) {\n    echo \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n    echo \"Message sent!\";\n}\nI have tested the function one by one. If I include the word '.org', no one receive email. I haven't tested like '.net' or '.gov'. but with '.com' it work fine.\nThank you in advance.\n. Hi Synchro,\nI have tried SMTP class. it still has the same issue. '.com' works. but not work for '.org'. Please see my code below.\n<?php\ninclude_once $cwd.'include/class.phpmailer.php';\ninclude_once $cwd.'include/class.smtp.php';\ninclude_once $cwd.'include/PHPMailerAutoload.php';\n$mail = new PHPMailer();\n//$mail->SMTPDebug = 2;  // debugging: 1 = errors and messages, 2 = messages only\n$mail->isSMTP(); // enable SMTP\n$mail->Host = 'smtp.mydomain.org';\n$mail->SMTPAuth = true;  // authentication enabled\n$mail->Username = 'webmaster@mydomain.org';\n$mail->Password = 'mypassword';\n$mail->SMTPSecure = 'tls'; // secure transfer enabled REQUIRED for GMail or 'tls'\n$mail->Port = 25; //25 or 587\n$mail->setFrom('director@mydomain.org');   //if I change .org to .com. it works.\n$mail->isHTML(true);\n$mail->Subject = 'Testing';\n$mail->Body = 'Testing body';\n$mail->addAddress('mygmailaccount@gmail.com');\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n?>\n. Here is debug output: ($mail->Body has same issue)\n2015-11-19 23:37:26 SERVER -> CLIENT: 220 ESMTP Thu, 19 Nov 2015 18:37:26 -0500: UCE strictly prohibited \n2015-11-19 23:37:26 CLIENT -> SERVER: EHLO yhls.yinghuaschool.org \n2015-11-19 23:37:26 SERVER -> CLIENT: 250-bosauthsmtp01.yourhostingaccount.com Hello yhls.yinghuaschool.org [66.96.183.90] 250-SIZE 34603008 250-8BITMIME 250-PIPELINING 250-AUTH PLAIN LOGIN 250-STARTTLS 250 HELP \n2015-11-19 23:37:26 CLIENT -> SERVER: STARTTLS \n2015-11-19 23:37:26 SERVER -> CLIENT: 220 TLS go ahead \n2015-11-19 23:37:26 CLIENT -> SERVER: EHLO yhls.yinghuaschool.org \n2015-11-19 23:37:26 SERVER -> CLIENT: 250-bosauthsmtp01.yourhostingaccount.com Hello yhls.yinghuaschool.org [66.96.183.90] 250-SIZE 34603008 250-8BITMIME 250-PIPELINING 250-AUTH PLAIN LOGIN 250 HELP \n2015-11-19 23:37:26 CLIENT -> SERVER: AUTH LOGIN \n2015-11-19 23:37:26 SERVER -> CLIENT: 334 VXNlcm5hbWU6 \n2015-11-19 23:37:26 CLIENT -> SERVER: d2VibWFzdGVyQHlpbmdodWFzY2hvb2wub3Jn \n2015-11-19 23:37:26 SERVER -> CLIENT: 334 UGFzc3dvcmQ6 \n2015-11-19 23:37:26 CLIENT -> SERVER: eWluZ0h1YTE= \n2015-11-19 23:37:26 SERVER -> CLIENT: 235 Authentication succeeded \n2015-11-19 23:37:26 CLIENT -> SERVER: MAIL FROM: \n2015-11-19 23:37:26 SERVER -> CLIENT: 250 OK \n2015-11-19 23:37:26 CLIENT -> SERVER: RCPT TO: \n2015-11-19 23:37:30 SERVER -> CLIENT: 250 Accepted \n2015-11-19 23:37:30 CLIENT -> SERVER: DATA \n2015-11-19 23:37:30 SERVER -> CLIENT: 354 Enter message, ending with \".\" on a line by itself \n2015-11-19 23:37:30 CLIENT -> SERVER: Date: Thu, 19 Nov 2015 18:37:26 -0500 \n2015-11-19 23:37:30 CLIENT -> SERVER: To: beijing.nj@gmail.com \n2015-11-19 23:37:30 CLIENT -> SERVER: From: director@yinghua.org \n2015-11-19 23:37:30 CLIENT -> SERVER: Subject: Testing \n2015-11-19 23:37:30 CLIENT -> SERVER: Message-ID: 8bd2fdc4c0e551465f9046654f60d94f@yhls.yinghuaschool.org \n2015-11-19 23:37:30 CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.14 (https://github.com/PHPMailer/PHPMailer) \n2015-11-19 23:37:30 CLIENT -> SERVER: MIME-Version: 1.0 \n2015-11-19 23:37:30 CLIENT -> SERVER: Content-Type: text/html; charset=iso-8859-1 \n2015-11-19 23:37:30 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit \n2015-11-19 23:37:30 CLIENT -> SERVER: \n2015-11-19 23:37:30 CLIENT -> SERVER: Testing body \n2015-11-19 23:37:30 CLIENT -> SERVER: \n2015-11-19 23:37:30 CLIENT -> SERVER: . \n2015-11-19 23:37:30 SERVER -> CLIENT: 250 OK id=1ZzYle-0000u1-0l \n2015-11-19 23:37:30 CLIENT -> SERVER: QUIT \n2015-11-19 23:37:30 SERVER -> CLIENT: 221 bosauthsmtp01.yourhostingaccount.com closing connection\n. That's the problem. I can't receive the email if I use setFrom('from@sample.org'). But I can receive the email with setFrom('from@sample.com') \nAnd if setFrom is using .com and the Body includes some .org letter, no can receive email neither.\n. Actually, Can you please try it on your web host with setFrom('from@sample.org') or Body = 'www.sample.org'? See if you can receive email. If you can, so that mean our web host server has some problem. \nAppreciate it.\n. ",
    "khandah": "I think that, the receiver think that it is a spam or something else.\n. I think that, the receiver think that it is a spam or something else.\n. ",
    "theonlydavewilliams": "This also had me puzzled for weeks. I managed to solve this problem by setting $email->Encoding = \"base64\".. ",
    "dogmaticslumbers": "My bad!  Solved by inserting \"require_once(\"class.smtp.php\");\" instead of \"include(\"class.smtp.php\")\" in my function.\nPlease delete this noise.  I couldn't figure out how to do it. :-)\n. Actually, it was the basing of my code on an example and that got me into trouble to begin with.  Please see my mea culpa post 2 hours before yours.  My bad.  I'm sorry.\n. ",
    "Rikk": "empty commit?\n. empty commit?\n. Whatever, 6d7f16a shows no change to files, for me it looks like you rewrote commits history by overwritting d4ca09d. You could just have changed heads to previous commit (37d355070657a52acaced277de977cb498c31b63)...\n(sorry for my edits too lol)\n. Whatever, 6d7f16a shows no change to files, for me it looks like you rewrote commits history by overwritting d4ca09d. You could just have changed heads to previous commit (37d355070657a52acaced277de977cb498c31b63)...\n(sorry for my edits too lol)\n. ",
    "djc-developer": "I took a deeper look into the Google XOAuth 2.0 playground. It looks like maybe a scope problem.\n. I took a deeper look into the Google XOAuth 2.0 playground. It looks like maybe a scope problem.\n. ",
    "bartbutler": "Thanks for all the good work!\n. Thanks for all the good work!\n. Yeah, it is similar. I didn't see the earlier one. Either would work for my purposes. I'm not sure whether a separate envelope_to list or having a flag in the recipient adding functions is 'cleaner' from an interface perspective. I also noticed that changing the iteration from $this->to, $this->cc, and $this->bcc to all_recipients might suppress multiple messages to recipients listed in both To and CC, for example.\n. I'm trying to find the relevant RFC for what should happen if a recipient is in To and CC simultaneously, two messages received or one? Gmail seems to do one, in which case iterating over all_recipients is fine.\n. It might be worth noting that this version, using all_recipients, is a much more minimal change to the codebase, which probably speaks in it's favor.\n. Yeah, noticed that. So it's all set.\n. Ahh, I forgot this PR was still open. Yeah, we are using this branch in production, so trying to address this: https://hackaday.com/2016/12/25/santa-knows-if-your-contact-form-uses-phpmailer-5-2-18/\nSorry for the noise. At some point I'll rebase onto the head.. ",
    "MattyTheWizz": "I've abandoned the mail command - the host we use also has other sites and they can send email happily using PHPMailer v5.2.4.\nThe mail server is managed by a third party so no access to that. Will try the latest version.\nEven if I try from local host (desktop pc) still doesn't go through.\n. I've abandoned the mail command - the host we use also has other sites and they can send email happily using PHPMailer v5.2.4.\nThe mail server is managed by a third party so no access to that. Will try the latest version.\nEven if I try from local host (desktop pc) still doesn't go through.\n. I'm wondering if it's Exchange causing the problem? \n. Yeah been through it - no luck though.\n. ",
    "r-a-y": "Thanks @Synchro!\n. Thanks for the detailed reply.  I get that PHPMailer wants to be compliant.\nMaybe update the DocBlock to remove the FILTER_VALIDATE_EMAIL mention as that was the cause of my confusion:\nhttps://github.com/PHPMailer/PHPMailer/blob/v5.2.14/class.phpmailer.php#L1072\nAs I mentioned above, I'm already working around this behavior, but thought it was worth opening an issue to talk about it.  Feel free to close this one.\nAlso, #573 is a pretty good ticket as well so devs could set the default $patternselect instead of having to override the static validateAddress() method in v6.0.\n. ",
    "tylerimmel5": "I've gone to the troubleshooting page and looked over all the information. None of it provided any support so I came here. The other link just tells me how to fix the username and password which isn't the problem. The issue is the connection. I see many people have been having this problem as well. I'm not sure if there as an issue with my php.ini or my firewall or my gmail settings, but I have changed all of those. I don't know what I am missing. \n. ",
    "kruisdraad": "No, because if i add a BCC i still need to add a TO for the receiving recipient's client to see the original recipient. But if i add the TO field that person will get the e-mail as well and we just want to 'redirect' it.\nSo basically i want to:\n- Send the message to a BCC recipient (envelope to)\n- Keep the original to header\n- Do NOT send the message to the TO recipient\nThe same as the mutt implementation at http://dev.mutt.org/hg/mutt/file/02bc14ed1569/sendlib.c#l2520\nAs well as the Thunderbird/Icedove implemention add-on called 'Mail Redirect', and to just quote the description:\nIn office environment there is sometimes a need to forward email with original headers to somebody else. If Forward or Edit as new command is used, headers are very different comparing to original message (other From, Message-Id, Date fields). If you use the Mailredirect Extension headers are not changed, so the recipient of redirected mail has almost the original message. In practice all important headers in redirected message are identical to original one (From, CC, Message-Id, Date). \nWhen redirecting email, body and headers are left untouched, so fields like Received:, From:, To: in redirected message are the same as in original one.\nHowever redirected mail differs a bit from original one. A few new headers are added: Resent-From:, Resent-To:, Resent-Date:, Resent-Message-Id: and Resent-User-Agent: which allow to identify redirected mails.\nFor more details about redirecting feature and discussion about it go to bug #12916 page on bugzilla. You can also take a look at RFC 2822 section 3.6.6. \n. No, adding TO's will exactly does the wrong thing, which a bounce there is no expectation that a TO should receive this e-mail ... as its the original to that is resending/bouncing it.\nIll work out a more detailed 'why' if needed , but that would be done when i am better\nworkcase:\n1. abuse@someone.tld gets an e-mail\n2. the MTA delevers this to a PHP script, using pipes (aliases: abuse: php script.php)\n3. magic happens in script\n4. the script fails. then the original script would be either be:\n5. forwardded e.g. as eml attachment. Still has the original mail however requires actions to read the mail (save and open the EML with a client that understands).\n6. bounce is to another receipiant. Leaving all the items intact like i shown so the new receipiant (script or human) will see the original mail for him to handle. Think on stuff like mail tracking and support systems that allows you to search for a 'to' or 'from'.\nAnd yes i am aware of DKIM, SPF and other measures that might present it. Luckally its 99% internal sending e.g. abuse@domain to support@domain therefor whitelistable.\nA feedback report is a different usecase and not really the problem. THe problem is simple put:\nif not using bounces the new receipiant will not see the correct, to, from and headers which result in tracking systems not logging the wanted headers for stuff like searches.\nthankx . back to hot tea and bed again\n. No, as then the e-mail would bounce back to the original 'from' and we use Queuing in laravel so the e-mail is always accepted (and logged). We basicly receive a e-mail from someone, transparantly try to parse it into a automatic system and if that fails bounce it to the admin/supportdesk. ABuseIO basicly tries to 'parse' every incoming abuse mail into something useable and does a lot more magic once its parsed (see https://abuse.io).\nPlease this is not ARF, nor a feedback loop. We use ARF even ourselves as a parsing method (which could lead into ARF in ARF, inception! :p) The project is AbuseIO where we currently be using this:\nhttps://github.com/AbuseIO/AbuseIO/blob/master/app/Jobs/EmailProcess.php line 243 and futher.\nThis is how we do it now, adding it as attachment (and it doesnt matter if you ARF this) and sending it the the admin of the system. Useally a system like OTRS which logs the TO, from, etc. Instead of opening the attachment using a bounce would directly log the 'case' directly into the tracking system.\ncreating 'bounces' is not really new and widely adopted in mail clients, hence my request to add it here. My example was more a PoC that i quickly tested and works with minor changes. I know other projects that implemented php 'telnets' and doing the MTA transfer manually which is very ugly and those people would be able to use phpmailer too. but if we need to maintain our own package i understand, i was just hoping to get this mainstream as its really odd nobody implemented this on any of the mailer libs as far as i can see.\nthnx again\n. It seems i still fail to show you the need for this ... please do not think about my projects requirements, but just the 'bounce' functionality that most mailclients do have (mutt, icedove, etc). I think i will never be able to successfully explain the implementation. Ill do a final try to persuade you, else we will just go with building our own library for this.\nTo still answer your questions we ARE saving and parsing it later, which is not the issue. Nor the default way of contacting for 'help something went wrong here'. No we are not rewriting a message at all, my example was just a very crude way of 'bouncing' the e-mail i wanted to bounce as there is no simple way to override these values without setting them/providing a raw EML. All the parsers work just fine. Its the exception handling we want to improve, but it is already working ... like i said it will 'forward' the mail as an attachment which works fine.\nAn API would be great, but that would mean we would (now) first need to implement every and any tool any helpdesk might be using for us to 'transfer a failed mail'. Thats not going to work, especially if there are custom build 'helpdesk tools'\nAnd yes, the forward method works fine and the abusedesk gets the mail and would be able to act on it. But because its an attachment, changed to address, changed from address, or whatever alternative there is any kind of 'normal' searching will not work.\nThe problem is that if you are not using the BOUNCE method then you would have problems with the mail sorting, searching, etc with a tool like OTRS (one of the many widely used). This problem is what i want to try and solve by introducing the functionality\n. Thank you for your replies.  That is correct and intended as per RFC.  Currently i am sick and will add an example when i am back again. My example would be an implementation snippet.\n// Make mailer object using SMTP method\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->SMTPDebug = 2;\n// Bypass actuall receipiant(s)\n$mail->addEnvelopeTo('bart@vrancken.eu', 'Bart');\n// Enforce these headers with their original values\nforeach($headers['from'] as $from) {\n    $mail->setFrom($from['address'], $from['name']);\n}\nforeach($headers['to'] as $to) {\n    $mail->addAddress($to['address'], $to['name']);\n}\n$mail->Subject = !empty($headers['subject']) ? $headers['subject'] : '';\n$mail->Body = !empty($body) ? $body : '';\n$mail->MessageID = !empty($headers['message-id']) ? $headers['message-id'] : '';\n$mail->MessageDate = !empty($headers['date']) ? $headers['date'] : date('D, j M Y H:i:s O');\n$mail->ContentType = !empty($headers['content-type']) ? str_replace(';', '', $headers['content-type']) : '';\n$mail->XMailer = 'AbuseIO Failed Mail Sender';\n// Add headers accourding to RFC 2822 section 3.6.6.\n$mail->addCustomHeader('Resent-From', $resendFrom);\n$mail->addCustomHeader('Resent-To', $resendTo);\n$mail->addCustomHeader('Resent-Date', $mail->buildMessageDate());\n$mail->addCustomHeader('Resent-Message-Id', $mail->buildMessageID());\n$mail->addCustomHeader('Resent-User-Agent', 'AbuseIO Failed Mail Sender');\nif (!$mail->send()) {\n    echo \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n    echo \"Message sent!\";\n}\n. ",
    "fjaeger": "What's the reason for this merge request to be closed eventually? I am looking for exactly this kind of mechanism of specifying \"envelope_to\" and is also conforms to the RFC. If required, I would like to help ironing out remaining issues.. Is there an option to use a SMTP subclass with PHPMailer or would I also use a PHPMailer subclass?. Awesome, thanks!. ",
    "hdatma": "The point with the OP is the complete absence of the \"@\" part. The more recent RFC-2822 mandates  msg-id = [CFWS] \"<\" id-left \"@\" id-right \">\" [CFWS], which still includes an \"@\" symbol, a local-part and a domain part: \n\nid-left = dot-atom-text / no-fold-quote / obs-id-left\nobs-id-left = local-part\nid-right = dot-atom-text / no-fold-literal / obs-id-right\nobs-id-right = domain \n\nAssuming the PHPMailer user is in good faith (did not tamper with the source code), then the case at hand cannot fall into the second case below, because the \"@\" symbol would still be printed. \nif ($this->MessageID != '') {\n        $this->lastMessageID = $this->MessageID;\n    } else {\n        $this->lastMessageID = sprintf('<%s@%s>', $this->uniqueid, $this->serverHostname());\n    }\nI would improve the first result of the conditional test, \nto fail (exit 1) when $this->MessageID is not well formed. \n. The point with the OP is the complete absence of the \"@\" part. The more recent RFC-2822 mandates  msg-id = [CFWS] \"<\" id-left \"@\" id-right \">\" [CFWS], which still includes an \"@\" symbol, a local-part and a domain part: \n\nid-left = dot-atom-text / no-fold-quote / obs-id-left\nobs-id-left = local-part\nid-right = dot-atom-text / no-fold-literal / obs-id-right\nobs-id-right = domain \n\nAssuming the PHPMailer user is in good faith (did not tamper with the source code), then the case at hand cannot fall into the second case below, because the \"@\" symbol would still be printed. \nif ($this->MessageID != '') {\n        $this->lastMessageID = $this->MessageID;\n    } else {\n        $this->lastMessageID = sprintf('<%s@%s>', $this->uniqueid, $this->serverHostname());\n    }\nI would improve the first result of the conditional test, \nto fail (exit 1) when $this->MessageID is not well formed. \n. ",
    "jhack89": "You were blazingly fast, thank you! I'll be downloading the updated version.\n. ",
    "ananthulasrikar": "Thanks this was very helpful to me.\n. ",
    "himanshushankhala": "Thank you for the resolution. One stop solution. Thumbs UP!\n. ",
    "kenchoong": "It appears this error in my command prompt \n Could not scan for classes inside \"extras/EasyPeasyICS.php\" which does not appear to be a file nor a folder\nafter i install the composer via this command.\n$ composer require league/oauth2-client\ncan somebody help?. ",
    "TJProgrammer": "And how to do this through cPanel?\n. ",
    "okCodeIT": "Please see below\n/Applications/MAMP/htdocs/democompany/php_util/mailer/phpmailer/class.phpmailer.php\nLine: 1460\nMessage: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n0 /Applications/MAMP/htdocs/democompany/php_util/mailer/phpmailer/class.phpmailer.php(1296): PHPMailer->smtpSend('Date: Fri, 25 D...', 'This is a multi...')\n1 /Applications/MAMP/htdocs/democompany/php_util/mailer/phpmailer/class.phpmailer.php(1176): PHPMailer->postSend()\n2 /Applications/MAMP/htdocs/democompany/php_util/mailer/mailer.php(50): PHPMailer->send()\n... rest are from my php calling \nend\n---What has me confused is that I am running it on the same machine, with the same code, and it works fine when the version is < 5.6. When it is greater than or equal to 5.6 i get this error. This is replicated on my deployment server as well not just the local test server I have.\nThanks\n. ",
    "nghipt99": "in the file get_oauth_token.php has line: \nrequire 'vendor/autoload.php';\nbut where don't i search folder vendor and the file autoload.php \n. ",
    "michaelik": "how with i do that?\n. ",
    "scottngill": "From my testing today, if using PHPMailer getSentMIMEMessage() function and PHP's imap_open and imap_append functions in order to send to an Exchange based IMAP server with an attachment or embedded image greater than 7kb, you will need to change the line returns from unix format to windows format.  I simply did a string replace on '\\n' and replaced with '\\r\\n' to get this done.\n$content =  str_replace(\"\\n\", \"\\r\\n\", $mail->getSentMIMEMessage());\n$result = imap_append($imapStream, $path, $content);. From my testing today, if using PHPMailer's getSentMIMEMessage() function and PHP's imap_open() and imap_append() functions in order to send to an Exchange based IMAP server with an attachment or embedded image greater than 7kb, you will need to change the line returns from unix format to windows format. I simply did a string replace on '\\n' and replaced with '\\r\\n' to get this done.\n$content =  str_replace(\"\\n\", \"\\r\\n\", $mail->getSentMIMEMessage());\n$result = imap_append($imapStream, $path, $content);. ",
    "vuthao": "@Synchro, I'm send  pull requests  for  5.4 branch.\n. @Synchro, I'm send  pull requests  for  5.4 branch.\n. ",
    "BurninLeo": "Hello,\n\nWe are using stream_set_timeout so I don't know why gets would not be timing out according to that, as the docs say it should.\n\nit does. I spent a whole day on tracking it down to this point :) I do not exactly know the background, but under some circumstances (possibly, if no data is received at all) stream_set_timeout does not limit the blocking as expected.\nI also was unhappy with the performance reduction... I tried with shorter usleeps() - starting with 0 and increasing, but the feof() did not work as expected then. Finally, I came up with a solution that requires no additional sleep and solves the issue.\nReplace these lines...\nphp\n        while (is_resource($this->smtp_conn) && !feof($this->smtp_conn)) {\n            $str = @fgets($this->smtp_conn, 515);\nWith those ones:\nphp\n        $selR = array($this->smtp_conn);\n        $selW = null;\n        while (is_resource($this->smtp_conn) && !feof($this->smtp_conn)) {\n            if (!stream_select($selR, $selW, $selW, $this->Timelimit)) {\n                $this->edebug(\n                        'SMTP -> get_lines(): timed-out (' . $this->Timeout . ' sec)',\n                        self::DEBUG_LOWLEVEL\n                        );\n                break;\n            }\n            $str = @fgets($this->smtp_conn, 515);\nThe stream_select() timeout works as stream_set_timeout() should (but does not). In my script, 300 sec. is a bit long and it may be sensible for SMTP::setTimeout() to also affect $Timelimit - but that is another issue :)\n. By the way... here's the output (with the stream_select() modification, using 10 sec. $Timelimit) from the connection that originally caused my script to hang during SMTP. The underlying cause seems to be that a user did not set TLS in the SMTP settings, but tried to connect unencrypted.\n2016-01-10 13:03:40 SERVER -> CLIENT:\n2016-01-10 13:03:40 CLIENT -> SERVER: EHLO www.\n2016-01-10 13:03:40 SERVER -> CLIENT: * BYE Fatal error: tls_start_servertls() failed\n2016-01-10 13:03:40 SMTP ERROR: EHLO command failed: * BYE Fatal error: tls_start_servertls() failed\n2016-01-10 13:03:40 SMTP NOTICE: EOF caught while checking if connected\n2016-01-10 13:03:40 SMTP Error: Could not authenticate.\n2016-01-10 13:03:40 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. As far as I can see, the connection is created (in the logfile you see that there's a BYE response that does not stem from the PHPMailer, if I interpret this correctly?), but while the server expects TLS, some plain data is sent (no SSL or TLS). I do not exactly understand why the server ceases communication, maybe it's just waiting for further input.\n\nThere is a comment in the docs saying that stream_select should not be used with blocking connections\n\nGood point. I read through the note twice, and can follow the argument (I hope). It says that - when set to blocking (which it is) than the stream operation will be completed before anything else is done. As stream_select() is some kind of temporary blocking function (is returns as soon as something happens or the time is up), this seems useless on a blocking read. But: As I placed the stream_select() before the reading operation, there is no blocking operation before stream_select() - making it's use sensible. If I got it correct, it's not the stream that is blocking/non-blocking, but the operation. In PHP, one may change the blocking-behavior before every fgets().\nRegarding the $Timelimit: There's nothing wrong with the RFC ... well except that SMTP is somewhat outdated. I just thought that, if there is a function SMTP::setTimeout() than it may be sensible that this function does not only change $Timeout, but $Timelimit as well. Just in case, the $Timeout is set to a smaller value than $Timelimit. But possibly, I just messed up the meaning of $Timeout and $Timelimit. You probably know better which it the correct variable to be used in stream_select(), should I be able to convince you of adding this line of code :)\nOf course, one should not use SMTP when loading a page. In my case it was a cronjob - but if the cronjob is killed after 1 hour due to a failed SMTP-connection (leaving later stuff in the cronjob undone), this still is a problem. Here's my trial of convincing you: Currently, under special circumstances, the $Timeout in the SMTP module seems to fail. If stream_select() does not cause other trouble (maybe its worthwhile asking the commenter from the PHP manual), catching a possible \"hang up\" would add reliability to PHPMailer.\n. Hi, I had the issue with PHP 5.5.9 (should be the latest stable). Possible, it's still the \"old\" bug ... the bug report's status is still \"open\". Why should anyone fix the bug: The original cause still is the counterpart server ... easy to fix, usually ;)\n\nAnother workaround (and what I'd recommend anyway) is to submit to a local mail server.\n\nUnfortunately, this is not an option in our software. Different users may specify \"their own\" SMTP servers - and these are usually not local... I am aware that this is not the intended use :) Btw.: A local SMTP may also fail. Imagine an update of the mailserver that changes it's response behavior...\nEven if it's only a PHP bug, I'd still argue that stream_select() has no obvious disadvantages, but increases reliability by avoiding running into a PHP issue.\nThanks for the explanations regarding $Timeout and $Timelimit. $Timeout would be the appropriate variable for stream_select() then.\n. ",
    "Blurn": "Thanks for the response! I'm new to troubleshooting mail issues like this. Pardon me sending the incorrect examples.  I have grabbed the messages straight from the postfix queue (immediately after generation). They are identical messages. One generated with 5.2.10 and the other with 5.2.14.\nSee below:\nGood-Example-5.2.10.txt\nBad-Example-5.2.14.txt\nLet me know if that isn't what you need. I will try my best to provide whatever is needed. Thanks again!\n. @Synchro I have exported mime (.eml) examples. See attached files below (I am using .txt instead of .eml to get around the Github file extension filter):\n- Good-Example-5.2.10.txt\n- Bad-Example-5.2.14.txt\nLet me know if I can provide anything else. Sorry about the original examples. I grabbed them right out of the email server mail queue...\n. @Synchro I have exported mime (.eml) examples. See attached files below (I am using .txt instead of .eml to get around the Github file extension filter):\n- Good-Example-5.2.10.txt\n- Bad-Example-5.2.14.txt\nLet me know if I can provide anything else. Sorry about the original examples. I grabbed them right out of the email server mail queue...\n. @sarahkemp I hope so too. To get mime files (.eml) from Outlook I used: http://www.maildev.com/msgextract/ ... There's a free trial. Outlook is great in so many ways but you're right, no surprise we're running into issues rendering messages and that there is a limitation on what it can export messages as.\n. @Synchro I sent the same messages to my Gmail account and used the show original function to save the .eml files. See below:\n- Good-Example-5.2.10-from-GMail.txt\n- Bad-Example-5.2.14-from-GMail.txt\nLet me know if those don't work and I'll run your other method. Thanks again!\n. ",
    "ttmjason": "How would I generate the copy of an encoded message? I'm running into the same issue but not on Wordpress using version 5.2.14\n. ",
    "sarahkemp": "Same issue with Wordpress 4.4.1 and PHPMailer 5.2.14. Unfortunately these emails aren't quite identical but they are very close (aside from the equals issue):\nphpmailer-5.4.14.txt\nphpmailer-5.4.10.txt\nThe mention in this answer: http://stackoverflow.com/a/34589032/1947155 pointed me to why this was only happening to some of my emails - the ones with a single line over 1,002 characters in length. \nI rolled back to 5.4.10 and the problem appears resolved, but I would obviously like to be able to keep up with the release, so I hope these files will help with this issue.\nUsing Outlook 2010.\n. Same issue with Wordpress 4.4.1 and PHPMailer 5.2.14. Unfortunately these emails aren't quite identical but they are very close (aside from the equals issue):\nphpmailer-5.4.14.txt\nphpmailer-5.4.10.txt\nThe mention in this answer: http://stackoverflow.com/a/34589032/1947155 pointed me to why this was only happening to some of my emails - the ones with a single line over 1,002 characters in length. \nI rolled back to 5.4.10 and the problem appears resolved, but I would obviously like to be able to keep up with the release, so I hope these files will help with this issue.\nUsing Outlook 2010.\n. I would have sworn that I checked those files when I uploaded them and they were different, but I agree they are identical. Let me try again:\nphpmailer-5.4.10.txt\nphpmailer-5.4.14.txt\nThese are pulled from Outlook's Other Actions > View Source.\nI added this code to my wordpress functions.php:\nadd_action( 'phpmailer_init', 'configure_smtp' );\nfunction configure_smtp( PHPMailer $phpmailer ){\n    $phpmailer->isSMTP(); //switch to smtp\n    $phpmailer->Host = 'mail.mydomain.com';\n    $phpmailer->SMTPAuth = true;\n    $phpmailer->Port = 25;\n    $phpmailer->Username = 'Username Here';\n    $phpmailer->Password = 'myemailpassword';\n    $phpmailer->SMTPSecure = false;\n    $phpmailer->From = 'From Email Here;\n    $phpmailer->FromName='Sender Name';\n}\nAnd the emails I received were plain text so I know the snippet was used (I later added a call to isHTML()). The emails sent with isSMTP() were not affected by this issue. I used smtp.gmail.com for testing this. \nSorry for the bad uploads last time, I really don't know how I managed that.\n. I would have sworn that I checked those files when I uploaded them and they were different, but I agree they are identical. Let me try again:\nphpmailer-5.4.10.txt\nphpmailer-5.4.14.txt\nThese are pulled from Outlook's Other Actions > View Source.\nI added this code to my wordpress functions.php:\nadd_action( 'phpmailer_init', 'configure_smtp' );\nfunction configure_smtp( PHPMailer $phpmailer ){\n    $phpmailer->isSMTP(); //switch to smtp\n    $phpmailer->Host = 'mail.mydomain.com';\n    $phpmailer->SMTPAuth = true;\n    $phpmailer->Port = 25;\n    $phpmailer->Username = 'Username Here';\n    $phpmailer->Password = 'myemailpassword';\n    $phpmailer->SMTPSecure = false;\n    $phpmailer->From = 'From Email Here;\n    $phpmailer->FromName='Sender Name';\n}\nAnd the emails I received were plain text so I know the snippet was used (I later added a call to isHTML()). The emails sent with isSMTP() were not affected by this issue. I used smtp.gmail.com for testing this. \nSorry for the bad uploads last time, I really don't know how I managed that.\n. @Synchro I'm sorry these don't help. Outlook doesn't have an option to export the full message that I can find. That SO thread also mentioned that more well-formed HTML might not see this issue, but this HTML hasn't changed since version 5.4.10 was working with it. It also suggested this issue doesn't occur in all email clients, Outlook was one of the unlucky ones (surprise surprise). \nThe line breaks changed (disappeared in windows) when I saved the file. I couldn't say why one changed and the other didn't, I used the same method for both. \nHopefully @Blurn's files can help with this issue.\n. Per @kenschenke suggestion that another version of PHP would work, I moved from 5.3.3 to 5.4.45 with no improvement on this issue. I also fixed the structure of my emails to include HTML and BODY tags hoping that would help but no luck. When the emails go through Gmail they are fine, even when they auto forward to Outlook they look fine in Outlook. Only when they are sent directly to Outlook do I see this issue. We also use the spam filtering service mentioned above formerly known as Forefront, now \"Exchange Online Protection\", I believe.\nI installed Easy WP SMTP and with that plugin enabled, the message looks fine. \n. ",
    "kenschenke": "I'm seeing the same issue in my own PHP code.  In my case, the recipients using Outlook report the extraneous equal signs when I send the messages using 5.2.15 but not with 5.2.10.  I have sent the exact same message in PHPMailer 5.2.10 and 5.2.15 and the only difference I can find in the message content is an extra blank line between the X-Mailer the MIME-Version headers in 5.2.15.  Could this be what is confusing Outlook?  I have attached the message sources (as provided by GMail).\nphpmailer_5.2.10.txt\nphpmailer_5.2.15.txt\n. You're right - I completely misunderstood what WinMerge was showing me in the side-by-side diff.  I re-ran the test using preSend().  Here are the two outputs again.  This time, the major difference is the end of line characters.  I ran both of these tests on a Linux machine with PHP 5.3.3.\nphpmailer_5.2.10.txt\nphpmailer_5.2.15.txt\n. You're right - I completely misunderstood what WinMerge was showing me in the side-by-side diff.  I re-ran the test using preSend().  Here are the two outputs again.  This time, the major difference is the end of line characters.  I ran both of these tests on a Linux machine with PHP 5.3.3.\nphpmailer_5.2.10.txt\nphpmailer_5.2.15.txt\n. I added the$mail->LE = \"\\r\\n\"; using 5.2.10 and 5.2.15.  In both versions, the recipient's email body was rendered blank (Microsoft Outlook).  Overlooking the Message-ID and MIME boundary lines, the messages were identical between the versions.  Not surprising, considering they both rendered blank.\nSo far, the only combination that seems to work with this recipient's Outlook client is 5.2.10 without the $mail->LE set.  I saved outputs on both versions with and without the LE set.\n5.2.10_noLE.txt\n5.2.10_withLE.txt\n5.2.15_noLE.txt\n5.2.15_withLE.txt\n. @Synchro The examples I have uploaded were gathered using $mail->preSend() and file_put_contents('filename.txt', $mail->getSentMIMEMessage()).  My email client is Outlook 2013 using POP.  My recipient is using an unknown version of Outlook on an Exchange server.  The emails are being forwarded through a filtering service on outlook.com (formally known as Forefront).\nWhen I Cc myself to either my POP mailbox or a GMail account, the emails always look fine no matter which version of PHPMailer or the LE settings.  My educated guess is that the mail scanning service on the recipient's end is where the messages are getting messed up.\nI also have a free account on outlook.com.  It's set to auto-forward everything to my GMail.  When I sent a message to my live.com email using 5.2.15, the forwarded message to GMail has the extra equal signs.  When that same message (using 5.2.15) is sent directly to my GMail account, it looks fine.  If I instead send the message my to live.com email using 5.2.10, the message arrives in my GMail looking fine.\n. Some observations:\n1) Explicitly setting $mail->Encoding = 'base64'; works.\n2) Break each line of content at less that 76 characters also works.\n3) Using a different version of PHP works.\nI have two different Linux machines.  One is running PHP 5.3.3 and other is running 5.4.16.  The failure occurs when PHP 5.3.3 composes the message using quoted printable encoding.  If I pre-format the content using line breaks or force base64 encoding, the message arrives readable.\nThe part that still continues to REALLY confuse me is, both versions of PHP construct the quoted-printable block in the exact same way.\n. ",
    "madurapa": "That's odd, specially since not all the ns are transliterated and not at a specific position.\nTry calling set CRLF with \"\\r\\n\" as well. Look up the message details in Exchange and inspect the Content-Type and Charset / Encoding - post the raw thing here so we can inspect it.\nMicrosoft Knowledgebase\n\nMicrosoft Exchange uses an enhanced character set. The default MIME character set for Microsoft Exchange is ISO 8859-1. Some gateways do not support the way this character set issues a soft return for line feeds. When this occurs, each line is terminated with an equal sign showing the line break where the gateway's line-length support ends.\n. \n",
    "Alexis2000": "We just had similar issues here. We fixed it by reformatting the html in the email to be properly indented with line breaks. I used my IDE for this (code formatting). I think if one line exceeds 1002 characters in the email then hotmail/outlook is inserting equal signs to escape things.. ",
    "kidplus2002": "I have been working on CRM systems for the purpose of integration.\nWith the increase of Hacking into Mailer systems and Thusly investigation on possible patch deployments as quickly as possible,  We are thankful.. ",
    "ammoriz": "Thanks for help :+1: \n. ",
    "TiagoGouvea": "Sorry. I don't know why I wrote it here. It was to be added on a Wordpress SMTP plugin, that uses PHPMailer.\n. ",
    "elminson": "Who is working on this ? \n. I create the implementation of this but i don't now how to create a pull request. Who can help me?\ne.g.                                                   _                   _                                        \n |  \\/  |      _ _     _        | |_      | |  _   _         _ _     _    | |_   _   _ \n | |\\/| |  / _ \\ / | / |  / |  / _ |  / _ \\   | ' \\   / _ \\   / | | | | |    / _ \\ | '_ _ \\  | ' \\  | | | | | |\n | |  | | |  / ** \\  \\ | (| | | (_| | |  /   | |) | | () | | (| | | || |   |  / | | | | | | | |) | | |  | || |\n ||  ||  _| |/ |/  ,_|  , |  |   |./   /   **,_|  , |    | || || |_| | ./   |  , |\n                                      |_/                                    |/                       |_|            |___/ \n. You don't say if you restart your service (apache or gnix) to this change take effect. this change need to be done in the /etc/php.ini some web servers not support set this parameter directly in the php script. \n. ",
    "net4u": "Hi,\nTroubleshooting guide it may nice, but it don't cover some scenarios: e.g. I have troubles with:\nMailer Error: Message body empty\nsince body is not empty at all (I used to echoed it just one row above).  And I did not find any word about this exception.. Hi,\nTroubleshooting guide it may nice, but it don't cover some scenarios: e.g. I have troubles with:\nMailer Error: Message body empty\nsince body is not empty at all (I used to echoed it just one row above).  And I did not find any word about this exception.. Hi,\nNo I don't attach nothing. \nShortly is:\n $email_message = \"\";\n $email_message .= \"Nume: $first_name |\\n\";\n $email_message .= \"Prenume: $last_name |\\n\";\n $email_message .= \"Email: $email_from |\\n\";\n $email_message .= \"Telefon: $telephone |\\n\";\n $email_message .= \"Mesaj: $comments |\\n\";\n echo(\"<p>Continutul mesajului: $email_message</p>\");\n //\n $mail->isHTML(false);\n $mail->body = $email_message; \n //send the message, check for errors\n if (!$mail->send()) {\n     echo 'Mailer Error: ' . $mail->ErrorInfo;\n } else {\n     echo 'Message sent!';\n }\n\n. Hi,\nNo I don't attach nothing. \nShortly is:\n $email_message = \"\";\n $email_message .= \"Nume: $first_name |\\n\";\n $email_message .= \"Prenume: $last_name |\\n\";\n $email_message .= \"Email: $email_from |\\n\";\n $email_message .= \"Telefon: $telephone |\\n\";\n $email_message .= \"Mesaj: $comments |\\n\";\n echo(\"<p>Continutul mesajului: $email_message</p>\");\n //\n $mail->isHTML(false);\n $mail->body = $email_message; \n //send the message, check for errors\n if (!$mail->send()) {\n     echo 'Mailer Error: ' . $mail->ErrorInfo;\n } else {\n     echo 'Message sent!';\n }\n\n. Thnx. \nI am not PHP based so I have no Idea that is case sensitive.  Now is working fine.\nHave a nice day.. Thnx. \nI am not PHP based so I have no Idea that is case sensitive.  Now is working fine.\nHave a nice day.. ",
    "amalmurali47": "@Synchro Hey, thanks. What were the invalid changes, by the way? I can't seem to find a view that shows this.\n. You're right. But as someone who's been around all these Stack Exchange sites and its metas for a while (beep boop), I can safely say that \"Stack Overflow\" is the correct spelling. Same goes for \"Stack Exchange\".  It's mentioned in http://stackexchange.com/legal. \nPlease excuse my pedantry - it's not a big deal anyway. Keep up the good work and have a great day :)\n. @ccoltman: Yes, that's the link I needed. Thanks! How did you find this issue thread? I don't hang around this part of the GitHub that frequently, so I'm curious how you found out.\n. ",
    "rupamd": "@JMteam09 Did you get the solution? I'm too facing the same issue.\n. ",
    "supwr": "Thanks for the quick reply. Just used the latest version and it worked beautifully. Here's the code:\n```\nfunction eMail($mailTo,$mailToName,$mailFrom,$mailFromNome,$mailSub,$mailMesage_html,$mailMesage_text,$vtAttachments=Array())\n{ \n    $mail = new PHPMailer();\nif (isSet($GLOBALS[\"cfgAdm\"]))\n{\n    $mail->IsSMTP();\n    $mail->SMTPAuth   = true;\n    $mail->Host       = $GLOBALS[\"cfgAdm\"][\"smtp\"];\n    $mail->Username   = $GLOBALS[\"cfgAdm\"][\"smtpLogin\"];\n    $mail->Password   = $GLOBALS[\"cfgAdm\"][\"smtpSenha\"];\n    $mail->Port = $GLOBALS[\"cfgAdm\"][\"smtpPort\"];\n    $mail->SMTPDebug  = false;\n}\n\n$mail->SetFrom($mailFrom, $mailFromNome);\n$mail->AddReplyTo($mailFrom, $mailFromNome);\n\n$mail->Subject    = $mailSub;\n\n$mail->AltBody    = $mailMesage_text;\n$mail->MsgHTML($mailMesage_html);\n\nif (is_array($mailTo)) {\n    for ($x=0;$x<count($mailTo);$x++) {\n        $mail->AddAddress($mailTo[$x], $mailToName[$x]);\n    }\n} else {\n    $mail->AddAddress($mailTo, $mailToName);\n}\n\nif (count($vtAttachments) > 0) {\n    for ($x=0;$x<count($vtAttachments);$x++) {\n        if (is_array($vtAttachments[$x]))\n        {\n            $mail->AddAttachment($vtAttachments[$x][0],$vtAttachments[$x][1]);\n        }\n        else\n        {\n            $mail->AddAttachment($vtAttachments[$x]);\n        }\n    }\n}\n\n$mailSent = false;\nif ($mail->Send())\n    $mailSent = true;\n\n$mail->ClearAddresses();\n$mail->ClearAttachments();\n\nreturn $mailSent;\n\n}\n```\n. Messed up some names and stuff, since this is a corporate email.\n```\nDelivered-To: marcelo.rodrigues@sender.com.br\nReceived: by 10.57.221.78 with SMTP id n75csp195asdasd83qki; Wed, 10 Feb 2016\n 09:53:52 -0800 (PST)\nX-Received: by 10.31.183.223 with SMTP id hhkjhkr9mr606ac.18.145;\n Wed, 10 Feb 2016 09:53:52 -0800 (PST)\nReturn-Path: auto@sender.com.br\nReceived: from mail.organization.com.br (6a.e4.6132.ip4.static.sl-reverse.com.\n [40.87.228.116]) by mx.google.com with ESMTP id\n 26si6434314pfj.98.2016.02.10.09.53.51 for\n marcelo.rodrigues@sender.com.br; Wed, 10 Feb 2016 09:53:52 -0800 (PST)\nReceived-SPF: neutral (google.com: 40.87.228.116 is neither permitted nor\n denied by best guess record for domain of auto@sender.com.br)\n client-ip=40.97.218.106;\nAuthentication-Results: mx.google.com; spf=neutral (google.com: 40.87.228.116\n is neither permitted nor denied by best guess record for domain of\n auto@sender.com.br) smtp.mailfrom=auto@sender.com.br\nReceived: from 192.168.0.104 ([188.21.193.176]) by organization.com.br with\n MailEnable ESMTP; Wed, 10 Feb 2016 15:53:47 -0200\nDate: Wed, 10 Feb 2016 15:53:45 -0200\nTo: marcelo.rodrigues@sender.com.br\nFrom: Test auto@sender.com.br\nReply-To: Test auto@sender.com.br\nSubject: =?iso-8859-1?Q?Ordem_de_servi=E7o_created_XML_10-02-2016?=\nMessage-ID: 68ecca43419f7029a13546xca335fa69bd3f45db6b@192.168.0.104\nX-Mailer: PHPMailer 5.2.14 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/mixed; boundary=\"b1_68ecca43419f70yeywquiyeoiyuqdb6b\"\n--b1_68ecca43419f70yeywquiyeoiyuqdb6b\nContent-Type: multipart/alternative;\n boundary=\"b2_68ecca4341954ds5a6d465as4777f702\"\n--b2_68ecca4341954ds5a6d465as4777f702\nContent-Type: text/plain; charset=iso-8859-1\nContent-Transfer-Encoding: quoted-printable\nSolicita=E7=E3o de Servi=E7o: Solicita=E7=E3o de Reembolsos=09=09=09=09=09=\n=09=A0=09=09=09=09=09=09=09=09=09Empresa=09=09=09=09=09=09=09=09=09=09=09Fi=\nlial 30 - Santos=09=09=09=09=09=09=09=09=09=09=09Solicitante=09=09=09=09=09=\n=09=09=09=09=09=09marcelo=09=09=09=09=09=09=09=09=09=09=09=C9 necess=\n=E1rio retirar imobilizado/equipamento ?=09=09=09=09=09=09=09=09=09=09=09N=\n=E3o=09=09=09=09=09=09=09=09=09=09=09Descreva os itens para retirada=09=09=\n=09=09=09=09=09=09=09=09=09=09=09=09=09=09=09=09=09=09=09=09Tipo da solicit=\na=E7=E3o=09=09=09=09=09=09=09=09=09=09=09Instala=E7=E3o/Reparo - Ar Condici=\nonado - Instala=E7=E3o Completa=09=09=09=09=09=09=09=09=09=09=09Descri=\n=E7=E3o da ordem de servi=E7o=09=09=09=09=09=09=09=09=09=09=09=09=09=09=09=\n=09=09=09=09=09=09=09Resumo da solicita=E7=E3o=09=09=09=09=09=09=09=09=09=\n=09=09resumo=09=09=09=09=09=09=09=09=09=09=09Criticidade da solicita=\n=E7=E3o=09=09=09=09=09=09=09=09=09=09=09M=E9dia=09=09=09=09=09=09=09=09=09=\n=09=09Quem ir=E1 executar=09=09=09=09=09=09=09=09=09=09=09Prestador de sevi=\n=E7o=09=09=09=09=09=09=09=09=09=09=09Quem ir=E1 executar=09=09=09=09=09=09=\n=09=09=09=09=09Fornecedor1=09=09=09=09=09=09=09=09=09=09=09Contato=09=09=09=\n=09=09=09=09=09=09=09=09contato=09=09=09=09=09=09=09=09=09=09=09Data previs=\nta=09=09=09=09=09=09=09=09=09=09=092016-02-04=09=09=09=09=09=09=09=09=09=09=\n=09Precisa comprar algo ?=09=09=09=09=09=09=09=09=09=09=09N=E3o=09=09=09=09=\n=09=09=09=09=09=09=09Para acessar o organization, clique no link: www.organiz=\nation.com.br/folder/sender\n--b2_68ecca4341954ds5a6d465as4777f702\nContent-Type: text/html; charset=iso-8859-1\nContent-Transfer-Encoding: quoted-printable\nhtml PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.=\nw3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"       =\n           Facebook sharing informat=\nion tags   EMAIL_SUBJECT   =\n              Solicita=E7=E3o de Servi=E7o: Solicita=E7=E3o de Reembolsos=\n    \u00a0          Empresa     Filial 30 - Santos     Solicitante     marcelo           =\n =C9 necess=E1rio retirar imobilizado/equipame=\nnto ?     N=E3o     Descr=\neva os itens para retirada          Tipo da solicita=E7=E3o     Instala=E7=E3o/Reparo - Ar Condicionad=\no - Instala=E7=E3o Completa     Descri=E7=E3o da ordem de servi=E7o       =\n       =\n      Resumo da solicita=E7=E3o =\n              =\n            resumo=\ndiv     Criticidade da=\n solicita=E7=E3o     M=E9dia     Quem ir=E1 executar     Prestador de sevi=E7o     =\n  Quem ir=E1 executar     Fornecedor1     Contato =\n              =\n            contato<=\n/div>           Data prevista=\ndiv     =\n2016-02-04     Precisa=\n comprar algo ?     N=E3o     Para acessar o organization, clique=\n no link: www.organization.com.br/folder/sender =\n     \n--b2_68ecca4341954ds5a6d465as4777f702--\n--b1_68ecca43419f70yeywquiyeoiyuqdb6b\nContent-Type: application/octet-stream;\n name=\"=?iso-8859-1?Q?Investiga=C3=83=C2=A7=5Fo_-Tela_2.jpg?=\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment;\n filename=\"=?iso-8859-1?Q?Investiga=C3=83=C2=A7=5Fo-_Tela_2.jpg?=\"\n/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcG\nBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwM\nDAwMDAwMDAwMDAwMDAwMDAw4654564MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAJ1B\nAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQA\nAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3\nODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWm\np6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEA\nAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSEx\nBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElK\nU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3\nuLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD99P7J\ntf8An2t/+/Y/wrhP2ivira/AL4e22vf2Hb6t9o1zSdG8jzBBt+3ahb2fmbtjfc8/ftx823GVzkeh\n14x+3l4W1Pxh8DNPtNJ06/1S7Txh4Zumhs7d55Fii1uyllkKqCdiRozs3RVUk4AJpw1qQT2cop+j\nkk/wGuvo/wAjpYf2ifhVcePrLwrH46+Hz+KNSklitNHXWrM3908TyRyrHBv8xijwzKwCna0Tg4Kn\nG2fiB4MHhjT9a/tvwx/Y2r3MVnY3/wBsg+y3s8sgiiiikztd3kIRVUksxwATxXyVD8CtX079j/V7\nW38IarFrt78c/wDhInhTTJPtcsQ8YxyC+27dxQWiK4l6eUobO0ZrU8PfAjxdcftQXnw8i0rV9M+H\n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\nvzIdP0+DSbCG1tYIra2to1ihhiQJHEijCqqjgAAAADpisvx5/wAgOD/sI2P/AKVw1tVi+PP+QHB/\n2EbH/wBK4aG23dglZWRtUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFF\nFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUU\nAFFFFAGLff8AJQ9L/wCwdef+jbWtqsW+/wCSh6X/ANg68/8ARtrW1QAUUUUAFFFFABRRRQAUUUUA\nFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAU\nUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRR\nRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFYvjz/kBwf8AYRsf/SuGtqsXx5/yA4P+wjY/\n+lcNAG1RRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQA\nUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAYt9/wAl\nD0v/ALB15/6Nta2qxb7/AJKHpf8A2Drz/wBG2tbVABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRR\nRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFF\nABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUA\nFFFFABRRRQAUUUUAFFFFABRRRQAVR8RaP/b2jy23mGFyVkikAz5ciMHRsd8MoOPar1QajqMOk2Ml\nzcyLDBCNzu3QCgDLj8RapbpsuNAvJZV4Z7SeBom913yI35rS/wDCUX3/AELms/8Af20/+P0f8J7Y\nn/ljrJ9xpF3/APG6P+E8sf8AnhrP/gnu/wD43QAf8JRff9C5rP8A39tP/j9H/CUX3/Quaz/39tP/\nAI/R/wAJ5Y/88NZ/8E93/wDG6P8AhPLH/nhrP/gnu/8A43QAf8JRff8AQuaz/wB/bT/4/R/wlF9/\n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\njO5VCcAuxA5NFn4L0fTvFd9rtvpOmQa5qcEVreajHaot3dxRFzFHJKBvdEMj7VJIXe2MZNWnGN1F\naO+nbVcr+UIqOvm1bYylzSs5bq2vfdu++8pSl5+7e7VzToooqSgooooAKKKKACiiigAooooAKKKK\nACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA\nKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAo\noooAKKKKACiivO/2qPjJf/Ar4LX2uaPp9vqmuT3ljo+k21wzLBJe315DZwGUr83lrJOrPt5KqwHJ\nFGuy3/NvZfMaV3Y9EorxjRfg78WvBXizQ9Xh+Ll34zge6VPEGia/pGnWenG3fHmPp72dqlzDJGeY\n1uJrhWTKO24iZeW+C37V/iab4bXE934U8afEvxBceMvE2mW9t4fs7GD7JZWOq3NvEZprma1tYwsa\nxIoeXzZTkqsm2RlP6/L/AD/PsKztzeaX3qT/APbX967n0hRXhWj/ALeWkeMPDHhyfw34I8e+JPEf\niI6kB4YtY9Pt9U04abdC0vjcPc3cVovk3DRxkLcMXMisgdNzDR1P9sWOCz8P2tj8OviTqni7xBHe\nTr4UWzsrHU7OGzkjiupZJLy6htGjSWaBQ8VxIsvnK0RkTLg8v6dt2u6XVrRdR2f9fk+z8nqeyUV8\np/tS/t4Xvw0+FOoa7ovh74i6d4uh8E+ItatfDepaZY28NvNp72sUkt2ZpAz+Q86urWs7wzRecUMx\nMOb3ww/aqi+EPhrUU8f618UtS13RPC+k6teWOvWGiNcTTahfXdvawwLpSKj3U0saxBAxjC/Z+Q5m\nanFOUeZbdPP4tu/wv718nKLSTfW/ys4rW+2s1+J9PUV5ho/7Ss938Otf1vUfhv8AEzQtT0C6SzPh\n650yC41LUZJFjaL7K9rPNazIxlUGRZ/LiKyec0QjcrzVv+3poek2XjFfFfhDxz4G1rwZb6fczaLq\nsNlc3upJfzSW9kLU2N1cQytNcRtCF8wEPjcFUhqX9ff27vyWpOtr/wBfPsvN6HulFeOeIP2gdc8T\nfAfxpfWvg34keBfFelA6bZ2F7oNtqmoNdTRp9nmtkt7mSzuk3SrlvtIijKP5zRKjked/Bv8Aa+v/\n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\nHnX7J+keJv2er34a+L/GXg/4mxaXpl14+0q/H/CMS6nq1nLf63Dd2kk9ppcDfJNHBK3m20RtwxGC\nFdM/oRRThJxd4+f43X5Nrp0bTd3Jttq0u9/uT/V369k7WS+BfCPhPU/DHw30zxTfWvxt+F/i4eIf\nGp0vVdG8EDxIbOK/1p7mO2v9OS3u52imEUMokhSNSsLKLqMyoJNG48VePtI0XwBf6x4Vuvh3Fqk3\niO6vvFfgH4T3Goa2okvopLbydPdL2TSpNQh/f3BuoLglotjmKXaV+6aKW1kumi9P610tG+soy1u5\nzcm2+rb++/4a+q+y0fnn+yToHiX9nvWPh94y8deB/iZNo2nzeOdIkDeGn1PVtEur7XEvILiay02F\nsrc28MgM9pCYFYgAqkoNaP7LPha9/Z/tfhf4y1r4YeNNE8H6LN460+LSLbQLvUdR8KS32vNPZSf2\nfaxyylJLWKSMTQq6qsqjd5cm4/fdFX7RpRS6XX381/8A0p27adtZl7ykn9qXM/VbW7Lv317nxT+y\nj8A9f8M/G74N6nrHhLUtLsNO0zx5qVlFPaHb4bi1HWbWextZGGVgmNpI4ERIKgSIB8hx9kaF4hg8\nRJdNbx30Ys7mS0k+1WU1qWdDhiglVd6f3ZEyjDlWIq9RSvoorZX/ABk3+tvPcNW3J7vf+v6stDF8\nL/8AIc8R/wDYRT/0ktq2qxPDEir4i8RxkjzPt0cm3PO02sADY9Mqwz7H0rbqQCiiigAooooAKKKK\nACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA\nKKKKACiiigArF8B/8gOf/sI33/pXNWyTtGTWL8P3Evh53UhklvryRGHRla6lZSPYgg/jQBt0UUUA\nFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAU\nUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRR\nRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFF\nABRRRQAUUUUAFFFFAFDVvC+m69Ir32nWN6yDCtPbrIVHoMg1U/4Vx4e/6AOjf+AUX/xNbVFAGL/w\n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\nqWi+ENQjkuBLqVtYvZeRqMjxSxYMqWkyiJolmCSFgqukH7PfX86luy1Si3tvurihZxg57638v4fz\n09+278memeEv2+fDnxI8aaBovhXwx4z8Sf274c0vxc17bQ2dvaaZpV+8yJc3D3NzER5ZhbzI0V5c\nH5Ek2vtn+H37c+g+Pte8PA+GPGWi+F/GjSx+FvFWpQ2aaV4kdY3mRYFS4e6TzYYpZYjcW8QkSMlS\nSyBuP/Y4/Yk8Q/Auwt7PxRe6Hd2v/CsNB8C3H9mTylnuLFr/AM+Rd8SARst1HsPXIYFRgE81+yr/\nAME8rj9n3xB4Tsm+Fv7N9vH4KRoovHdnoYfxNrSxxtHbyNAtrCtpcsCjSzC7n3FHAQebui1qqCqS\nUNtbel5em0VFrVXbe6slLul8l9/LF+f2nJPTSy23PYPhT+1+vxa1PQpbT4cfEmy8KeK083RPFM9n\nZTaZqMTRmWGUpb3Ut3bRyxgsr3VvCoyquUdlQ+qeG9Wn13Q7e7utMvtGnmUl7K8eFp7c5Iwxhkkj\nJ7/K7Dn14r5d+Ev7F/izwp+0FoPieHwz8OPhfDpl09zr954B8Qajb23jvENzEFu9E+zQ2cTPJcef\n50k13NEYljWRx+8H1F4buNSutDt5NYtLGx1JlPnwWd213BGcnAWVo4mYYxyY1+neo0smv6/L8o/4\nV1b+J22/4fT8ur336K9RRRUgFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFF\nABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUA\nFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAU\nUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRR\nRQAUUUUAFFFFABRRRQAUUUUANmmW3haR2CIgLMzHAUDqTWMnxA0+ZA0aarKjDKvHpV06MPUMIyCP\ncUvxGP8Axb3Xv+wdcf8Aotq2QNowKAMb/hPLH/nhrP8A4J7v/wCN0f8ACeWP/PDWf/BPd/8Axutq\nigDF/wCE8sf+eGs/+Ce7/wDjdH/CeWP/ADw1n/wT3f8A8braooAxf+E8sf8AnhrP/gnu/wD43R/w\n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\nQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFA\nBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAF\nFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBi+A/8AkBz/APYRvv8A0rmrarF8B/8AIDn/\nAOwjff8ApXNW1QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRR\nRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBFe2cWo2ctvOgkhnQxyIejKRgj8qyY/CV3BGETxDrS\noowoK2z4H1aEk/UkmtuigDF/4Re+/wChj1n/AL9Wn/xij/hF77/oY9Z/79Wn/wAYraooAxf+EXvv\n+hj1n/v1af8Axij/AIRe+/6GPWf+/Vp/8YraooAxf+EXvv8AoY9Z/wC/Vp/8Yo/4Re+/6GPWf+/V\np/8AGK2qKAMX/hF77/oY9Z/79Wn/AMYo/wCEXvv+hj1n/v1af/GK2qKAMX/hF77/AKGPWf8Av1af\n/GKP+EXvv+hj1n/v1af/ABitqigDF/4Re+/6GPWf+/Vp/wDGKP8AhF77/oY9Z/79Wn/xitqigDF/\n4Re+/wChj1n/AL9Wn/xij/hF77/oY9Z/79Wn/wAYraooAxf+EXvv+hj1n/v1af8Axij/AIRe+/6G\nPWf+/Vp/8YraooAxf+EXvv8AoY9Z/wC/Vp/8Yo/4Re+/6GPWf+/Vp/8AGK2qKAMX/hF77/oY9Z/7\n9Wn/AMYo/wCEXvv+hj1n/v1af/GK2qKAMX/hF77/AKGPWf8Av1af/GKP+EXvv+hj1n/v1af/ABit\nqigDF/4Re+/6GPWf+/Vp/wDGKP8AhF77/oY9Z/79Wn/xitqigDF/4Re+/wChj1n/AL9Wn/xij/hF\n77/oY9Z/79Wn/wAYraooAxf+EXvv+hj1n/v1af8Axij/AIRe+/6GPWf+/Vp/8YraooAxf+EXvv8A\noY9Z/wC/Vp/8Yo/4Re+/6GPWf+/Vp/8AGK2qKAMX/hF77/oY9Z/79Wn/AMYo/wCEXvv+hj1n/v1a\nf/GK2qKAMX/hF77/AKGPWf8Av1af/GKP+EXvv+hj1n/v1af/ABitqigDF/4Re+/6GPWf+/Vp/wDG\n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\nt5269DzcvpqeCpxfZGZc/wCmq0rwL4sfsx,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\nZXjv/kQ9e/7Bl1/6Jerp/Gio7o7f44/8l78Qf9g/R/8A03Q18gePfBlg3/BRXQNaVtP/ALf3Wy26\nrqNna4sfsrrdebCzpdT3G7yShjEsZTajqu0mvr/44/8AJe/EH/YP0f8A9N0NfFnje1t5/wDgp3pk\nmNNutVto7LyftElws9javEocxpLbvbsCUk+e3mR90gVuQwP3+cX/ANYMdbtP9PwPYxN/rVe3Z/of\ncP7Nf/J0fw3/AOwvcf8Aptva/RCvzv8A2a/+To/hv/2F7j/023tfohX6b4Vf8iR/9fJflE97h7/d\nfm/0Ciiiv0k9wKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoooo\nAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigA\nooooAKKKKACiiigAooooA4b4Yf8AJTPiR/2GLX/022ddzRRQAUUUUAcZ8CP+RLv/APsYtb/9Ot3X\nZ0UUAFFFFABRRRQAUUUUAFFFFABRRRQBxPxZ/wCRw+HX/YyP/wCmy/rtqKKACiiigAooooAKKKKA\nCiiigDzj4vaLZ+I/ir4BsdQtLa+srmXUFmt7iJZYpQLYkBlYEEZAPI7CtTXf2c/AHiXRxp994K8K\n3NirxOIH0uHZmJ1ePjb0DKvHTjHTiiigCx/wojwPiMf8IZ4UxFcG6jH9kW/yTHdmQfJw53N83X5j\n603UfgJ4I1Wzkt5/CPhx7ee6F7NENOiVLiYI0YeRQuHOx3X5s/KxHQ0UUAVdR/Zq+HmqWs8M3gbw\nlsuUEchTSYEZlCsoG5VB4V2A56Mw7mu2AwKKKAFooooA4j4B/wDIoar/ANjJrf8A6c7mu3oooAKK\nKKACiiigAooooA4D4D/6/wAb/wDY1Xn/AKBFXf0UUAfHn/BSX/ksHgb/ALAmqf8ApRYV4FRRX8x+\nJX/JQVvSH/pCPg89/wB8l8vyQUUUV8GeOFc34m/5KX4O+mo/+iEooraj8Xyl/wCksuG/3/kdJRRR\nWJAUUUUAc58Qf+Qh4U/7D0f/AKS3VdHRRW0/gj/XUt7IKKKKxICuc+KH/Iu2f/YY0z/0ugoorbD/\nAMWPqiofEjo6KKKxJCiiigDl/jZ/ySPxD/15t/MV1l5/x+S/75/nRRWr/hR9X+USn8K+f6EdFFFZ\nEhWV47/5EPXv+wZdf+iXooq6fxoqO6O3+OP/ACXvxB/2D9H/APTdDXjHiH9mG38W/HzSviLJ4i1x\nrnQADBpNzL5+nW+EKM1vH8pgkcH5mBYNk5U8YKK+q4vxFSjnuKlTdm5NfJ7nfmU5RxdTl6ux7r+z\nX/ydH8N/+wvcf+m29r9EKKK/YvCr/kSP/r5L8on0/D3+6/N/oFFFFfpJ7gUUUUAFFFFABRRRQAUU\nUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRR\nQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH//Z\n--b1_68ecca43419f70yeywquiyeoiyuqdb6b--\n```\n. ",
    "ludah2008": "But its works with php 5.5.9 so why\n. can u explain feather, I dont get you sir\n. Even if am not using SSL its still not working on php 7 and 5.6\n. ",
    "freultwah": "However, Let's Encrypt certificates (which the poster uses) are not self-signed and their root CA is definitely in the ca_root_nss package. I had the same issue with PHPlist, until I figured it out. The trick, which is not a trick at all really, is to access the SMTP server by the same name that the certificate was issued to. Even if the certificates are all kosher, PHP aborts the mission if you access localhost and the certificate is issued to domain.com. The two must match. There can be multiple hosts mentioned in the cert, but the first one in the list is the one that matters, so if you create a cert for the array of \"domain.com smtp.domain.com\" etc, you need to access the SMTP server by the name of domain.com.\n. ",
    "davideng14": "``` php\n$mail = new PHPMailer();\n$mail->isSMTP();                                // Set mailer to use SMTP\n$mail->Host = $this->config['host'];                // Specify main and backup SMTP servers\n$mail->SMTPAuth = $this->config['SMTPAuth'];          // Enable SMTP authentication\n$mail->Username = $this->config['username'];          // SMTP username\n$mail->Password = $this->config['password'];        // SMTP password\n$mail->SMTPSecure = $this->config['SMTPSecure'];\n$mail->setFrom('info@example.com');\n$mail->isHTML(true); \n$mail->Subject = 'TEST '; //Set Subject\n$mail->Body = $message;\n$mail->addAddress('example@something.com');\n$mail->AddBBC('examplehidden@something.com');\nif($mail->send())\n{\n     echo 'SUCCESS';\n}else{\n    echo 'ERRORS '.$mail->ErrorInfo;\n}\n```\n. ",
    "umendrap": "SMTP ERROR: Failed to connect to server: Connection refused (111)SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nPlease show this error. ",
    "Paulens007": "same here, how to fix ? . SMTP ERROR: Failed to connect to server: Connection refused (111)SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. ",
    "koogle": "I agree with you on that. I would suggest of issuing a warning calling $mail->send() or putting it in the README (if you prefer something I would just create a PR for that).\n. Okay. Maybe then I just add a section for this in the troubleshooting guide? Just to let other devs know that there is this problem inside PHP and how it affects PHPMailer.\n. ",
    "ThomasPerraudin": "Have you tried with 'ssl' ?\n. ",
    "john-mcgowan-wowza": "Thanks, that's what I was thinking, which is why I didn't go straight to a pull request.\n/John\n. ",
    "gmariani": "Is it so difficult just to tell people the list of like 10 lines or require vs answering all the questions on how to avoid composer?. Nope, i take back what i said. I did eventually stumble upon a thread where you mentioned your examples. I had downloaded the Zip and didn't see them there and only saw the one example on the main page. I didn't navigate through the repository to find it. So I apologize there for not digging in further, I has assumed to find some mention on the main page is all.\nBut to address your comment, PHPMailer has 5 files, and has 3 requires for OAuth2. So I'm seeing a maximum of 8 requires here in order to use PHPMailer without composer. Am I missing something here? I get WHAT composer does, but just to use PHPMailer it seems like it's over-complicating things. You would know better than I, but I'm not seeing the 'need' for it.. You're assuming I'm using a framework.\nMaybe you're coming from building large projects with hundreds of dependencies. But all the projects I've worked on, I've never had to require 70+ different libraries. I'll give that that may be a matter of taste, but the way 'modern' php developers (web developers in general) include libraries upon libraries upon libraries are causing a problem and then building a solution (composer) to fix their mess. It reminds me of the NPM apocalypse of 2016 where one library broke the builds of millions of programs. Personally, I prefer control over my dependencies, I can't blindly trust 3rd programmers that easily. So whenever possible, I try to just include what is necessary. For me, enabling PHPMailer 6 took about 6 lines of code, which is much simpler than installing, configuring and modifying my program to use Composer. Yes OAuth would be a pita the first time, but after that it's not a big deal. I also don't update the libraries every build, that's just asking for bugs to be introduced. But when I do need to update the libraries, it's a minor hassle at that point. Again. I get that it's a matter of taste. Just kind of getting fed up with other developers forcing their style just to use their library.. ",
    "agenciahouse": "N\u00e3o entendi como carregar o Composer. (I did not understand how to load the Composer.) \n. ",
    "ozzi-": "Wow .. i was off by far.\nThanks a lot and keep up the great work!\n. ",
    "tarikhagustia": "\n<?php\nrequire(\"classes/mail/PHPMailerAutoload.php\");\n$cars = array\n  (\n  array('username' => \"firstuser\", \"email\" => \"agustia.tarikh150@gmail.com\"),\n  array('username' => \"seconduser\", \"email\" => \"tarikh@si.co.id\")\n);\n$mail = new PHPMailer();\nforeach($cars as $row) {\n$email = $row['email'];\n  $mail->IsSMTP();\n$mail->SMTPAuth = true; // enable SMTP authentication\n$mail->SMTPSecure = \"ssl\";\n$mail->Host = \"plus.smtp.mail.yahoo.com\";\n$mail->Port = 465; // set the SMTP port\n$mail->Username = \"myemail\";\n$mail->Password = \"mypassword\";\n$mail->From = \"myemail\";\n$mail->FromName = \"Tarikh Agustia\";\n$mail->AddAddress(\"$email\");\n$mail->Subject = \"This Subject\";\n$mail->Body = \"This Body .\";\n$mail->AddAttachment('file.xlsx', 'This email');\n$mail->Send();\necho $mail;\n}\n   ?>\n\ni want send thoose email with attachment one by one ..\n. ",
    "scara": "Try setting SMTPAutoTLS to false.\nHTH,\nMatteo\n. You should open an issue in that WP plug-in giving this issue as reference: that setting should be set to false.\nIMHO WP admin users could not be expert enough to understand that the library could be configured to automatically use TLS when available: TLS should be configured explicitly when admins know about its full working support.\n. FYI: https://core.trac.wordpress.org/ticket/36125.\n. ",
    "mike-pt": "You are correct this was driving me nuts yesterday but I totally missed the \"SMTPAutoTLS\" option.\nI also had false information about the server not supporting STATRTLS, but I double checked my self and ofc as you say it does support STARTTLS but its using a self signed certs (and for another domain)\nSo sorry about the noise, I should have checked that first.\nIt would be nice if the wordpress plugin had an options for \"SMTPAutoTLS\" = yes/no though.\nNOTE: Do you guys recommend any particular plugin btw?\nThanks\n. Yeah @scara I agree, I was testing outside the plugin to be sure the issue was not wordpress, but I did look into how wordpres/plugin and even wordpress class-phpmailler.php sets it to true.\n. @Synchro I'm using letsencrypt already for this wordpress site and others, but this mail server is not \"mine\" its an old shared mail server, and the cert is not only self signed but it the domain name also doesn't match. The good thing they are moving to Office 365 which is also free for them since this is a ONG (sorry NGO, ONG is the Portuguese acronym)  :)\nSo for now the allow self sign setting will have to do.\nI'd like to add though that my comments on the setting were for WP/WP plugins, we can easily change this cause PHPMailler does have the settings, WP/most plugins are just not exposing them and worst hard coding defaults and that doesn't seem to be the best approach IMHO, but its certainly not a PHPMailler issue so again sorry for the noise.\n. ",
    "MarcGodard": "I didn't see that. I did check it. Sorry.\n. I got it working. \nThe server is just a Dev server that I am using. The production server will be better. \nThanks for your comments. \n. ",
    "hamedmoody": "Thanks you solved my problem, exactly related to 'less secure apps'.\n. ",
    "adrianrios25": "working great without and with small attachment, I just have problem with big files as mentioned, @elminson I created a php.ini file and checked the phpinfo() and changes are applied.\nI will try to increase memory_limit\n. ",
    "sanjib-dev": "using the 5.2.14 with cakephp 2\n. Actually sending emails from Amazon. so just want to call the send() function with some batches of mail.\nand not per single recipients. so that the no of calls to server will be less\n. so what i am trying to achieve is not really possible?\n. fully understand your point. but the thing I want to achieve is not possible then..\n. so call the send() function call for every email...thus call the amazon API for every user...and not for a batch of emails?\nBy using SingleTo, I want to hide the user email ids in the mail from each other so that data is kept secret and at the same time reduce the call to the amazon API..\n. yes..but with bcc the TO field in the mail will be the first email id..i.e. the users' email id is nowhere in the to field.\n. yes..I understands your points..thanks for the advice and help..\n. ",
    "ergungunduz": "\u0130 tried again that your codes. \u0130t gives extra error that SMTP NOTICE: EOF caught while checking if connected . \u0130 add pdf to my mail and it's size 648 KB only. \u0130n body, i write 5 lines for info. \n. I edit my last post and add at the end of message after encoded data.\n. I edit my last post and add at the end of message after encoded data.\n. ",
    "diegoangc": "I deleted the connection POP-before-SMTP and now I have the following code:\n`\nrequire $_SERVER[\"DOCUMENT_ROOT\"].'/realcorreo/PHPMailerAutoload.php';\n$mail = new PHPMailer(TRUE);\ntry{\n$mail->isSMTP();\n$mail->SMTPDebug = 2;\n$mail->Host = 'correo.gestionsecretariasdeeducacion.gov.co';\n$mail->Port = 465;\n$mail->SMTPAuth = true;\n$mail->Username = \"no-reply@sempalmira.gov.co\";\n$mail->Password = \"xxxxxxxxx\";\n$mail->SMTPSecure = 'ssl';\n$mail->WordWrap = 50;\n$mail->isHTML(true);\n$mail->SMTPDebug = true;\n$mail->do_debug = 1;\n$mail->setFrom(\"no-reply@sempalmira.gov.co\", 'Administrador SIPE WEB');\n$mail->addAddress(\"diego.angc@hotmail.com\", \"diego perez\");\n$mail->Subject = 'Remember Password ';\n$mail->Body = 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXX';\n$mail->AltBody = 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX';\nif($mail->send()) {\necho 'Se ha enviado el mensaje';\n} else {\necho $mail->ErrorInfo;\n}\n}catch (phpmailerException $e) {\necho $e->errorMessage(); \n}catch (Exception $e) {\necho $e->getMessage(); \n}\n`\nERROR: 2016-03-15 12:47:13  Connection: opening to ssl://correo.gestionsecretariasdeeducacion.gov.co:465, timeout=300, options=array ( ) 2016-03-15 12:47:13    SMTP ERROR: Failed to connect to server: Permission denied (13) 2016-03-15 12:47:13 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. I deleted the connection POP-before-SMTP and now I have the following code:\n`\nrequire $_SERVER[\"DOCUMENT_ROOT\"].'/realcorreo/PHPMailerAutoload.php';\n$mail = new PHPMailer(TRUE);\ntry{\n$mail->isSMTP();\n$mail->SMTPDebug = 2;\n$mail->Host = 'correo.gestionsecretariasdeeducacion.gov.co';\n$mail->Port = 465;\n$mail->SMTPAuth = true;\n$mail->Username = \"no-reply@sempalmira.gov.co\";\n$mail->Password = \"xxxxxxxxx\";\n$mail->SMTPSecure = 'ssl';\n$mail->WordWrap = 50;\n$mail->isHTML(true);\n$mail->SMTPDebug = true;\n$mail->do_debug = 1;\n$mail->setFrom(\"no-reply@sempalmira.gov.co\", 'Administrador SIPE WEB');\n$mail->addAddress(\"diego.angc@hotmail.com\", \"diego perez\");\n$mail->Subject = 'Remember Password ';\n$mail->Body = 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXX';\n$mail->AltBody = 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX';\nif($mail->send()) {\necho 'Se ha enviado el mensaje';\n} else {\necho $mail->ErrorInfo;\n}\n}catch (phpmailerException $e) {\necho $e->errorMessage(); \n}catch (Exception $e) {\necho $e->getMessage(); \n}\n`\nERROR: 2016-03-15 12:47:13  Connection: opening to ssl://correo.gestionsecretariasdeeducacion.gov.co:465, timeout=300, options=array ( ) 2016-03-15 12:47:13    SMTP ERROR: Failed to connect to server: Permission denied (13) 2016-03-15 12:47:13 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. ",
    "AldoOmar": "Thanks for your answer.\nI use this inbox to catch all reply to my emails, then I daily process the answers and use them to mark the real rejected mail addresses as failed in the database. When I detect an email that is not a rejection, i assume it was sent in error, and answer to it with an invalid destination message just for courtesy (yes, may be a reply that looks like a bounce).\nI can stop reply's and just delete those mails (and that's what I probably will do), but I would prefer to inform the sender that it was not an inbox available to send messages.\nNo idea if there is an RFC that voids a Return-Path: <> header.\nRegards.\n. Thanks for your answer.\nI use this inbox to catch all reply to my emails, then I daily process the answers and use them to mark the real rejected mail addresses as failed in the database. When I detect an email that is not a rejection, i assume it was sent in error, and answer to it with an invalid destination message just for courtesy (yes, may be a reply that looks like a bounce).\nI can stop reply's and just delete those mails (and that's what I probably will do), but I would prefer to inform the sender that it was not an inbox available to send messages.\nNo idea if there is an RFC that voids a Return-Path: <> header.\nRegards.\n. ",
    "tankyagnik1911": "@Synchro  I have check that link and all the steps given in that page.\n- have checked inclusion of mailer file.\n- have checked openssl extension. it is loaded successfully.\n  -checked dns availability\n  -checked mail server.\n. @Synchro  I have check that link and all the steps given in that page.\n- have checked inclusion of mailer file.\n- have checked openssl extension. it is loaded successfully.\n  -checked dns availability\n  -checked mail server.\n. is it necessary to install local mail server?\nany recommended mail server for win7?\n. is it necessary to install local mail server?\nany recommended mail server for win7?\n. hello sir @Synchro \nit worked.\nthank you very much.\nthe problem was that in my account \"allow less secure app\" setting was disabled i have just enable it and it work.\nthanks again :)\n. hello sir @Synchro \nit worked.\nthank you very much.\nthe problem was that in my account \"allow less secure app\" setting was disabled i have just enable it and it work.\nthanks again :)\n. ",
    "dianally19": "Hello sir , i have a problem with SMTP.\nYesterday i'm making contact to send email in my website with SMTP and success but now my website can't send a email. \nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting.\nPlease help me . Thanks. ",
    "zacaro": "You are right, I didn't mentioned that the broken link was in the github project, in the Minimal Installation section.\n\"For all of these, we recommend you use the autoloader...\" That link.\nIt's solved right now. \nRegards\n. ",
    "sokolukasz": "Oferta - test.txt\n. Oferta - test.txt\n. Oferta - test1.txt\n. Oferta - test1.txt\n. Are you sure that phpmailer should send attechments when is set CC and BCC?, in my software attechments are sending fine to To: and i can open them, but in email CC, and BCC attechment is sent but i cant open it.\n. 2016-03-22 17:36:58 CLIENT -> SERVER: MAIL FROM:\n2016-03-22 17:36:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2016-03-22 17:36:58 CLIENT -> SERVER: RCPT TO:\n2016-03-22 17:36:58 SERVER -> CLIENT: 250 2.1.5 Ok\n2016-03-22 17:36:58 CLIENT -> SERVER: RCPT TO:\n2016-03-22 17:36:58 SERVER -> CLIENT: 250 2.1.5 Ok\nThey are not empty - i copy debug from browser, and browser doesnt show it <lukasz.s@agendo.pl> etc.\n. Can i add more then one CC recipient ?\nI test it and it's working fine - great software !\n. Please try to test add atteachment (PDF) add send it to CC nad BCC and try to open this attechment in both recipients.\n. oferta-test2.txt\nIn this file RCPT TO: is fine\n. ",
    "cyberkaa": "works for me. \n. ",
    "Ssasikuma": "Message could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n how to solve plz ans. Message could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n how to solve plz ans. ",
    "conaris": "I removed require(\"inc/phpmailer/class.smtp.php\"); and require(\"inc/phpmailer/class.phpmailer.php\"); from the top, but now it tells me \"Fatal error: Cannot declare class SMTP, because the name is already in use in /customers/c/2/9/lifeofaris.se/httpd.www/flexboss/inc/phpmailer/class.phpmailer.php on line 26\"\nShould i remove class.phpmailer.php from my website directory?\n. i forgot to remove the require class.phpmailer.php from my main php, but now i  did it gives me other error line \"Fatal error: Uncaught Error: Class 'PHPMailer' not found in /customers/c/2/9/lifeofaris.se/httpd.www/flexboss/suggest.php:17 Stack trace: #0 {main} thrown in /customers/c/2/9/lifeofaris.se/httpd.www/flexboss/suggest.php on line 17\"\n. ```\n<?php \nini_set('display_errors', 1);\n    require(\"inc/phpmailer/PHPMailerAutoload.php\");\nif ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n    $name = trim(filter_input(INPUT_POST,\"name\",FILTER_SANITIZE_STRING));\n    $email = trim(filter_input(INPUT_POST,\"email\",FILTER_SANITIZE_EMAIL));\n    $details = trim(filter_input(INPUT_POST,\"details\",FILTER_SANITIZE_SPECIAL_CHARS));\nif ($name == \"\" || $email == \"\" || $details == \"\") {\n    echo \"Please fill in the required fields: Name, Email and Details\";\n    exit;\n}\nif ($_POST[\"address\"] != \"\") {\n    echo \"Bad form input\";\n    exit;\n}\n$mail = new PHPMailer;\n\nif (!$mail->ValidateAddress($email)) {\n    echo \"Invalid Email Address\";\n    exit;\n}\n//$mail->IsSMTP();\n$email_body = \"\";\n$email_body .= \"Name: \" . $name . \"<br>\";\n$email_body .= \"Email: \" . $email . \"<br>\";\n$email_body .= \"Customer Question: \" . $details . \"<br>\";\n\n\n$mail->setFrom($email, $name);\n$mail->addAddress('arisconstantinou@cytanet.com.cy', 'Author');     // Add a recipient\n\n$mail->isHTML(true);                                  // Set email format to HTML\n\n$mail->Subject = 'Customer Question ' . $name;\n$mail->Body    = $email_body;\n\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n    exit;\n}\n\n\nheader(\"location:suggest.php?status=thanks\");\n\n}\n?>\n```\n. I read the Readme and follow your comments in this conversation but still get the error \"Fatal error: Uncaught Error: Class 'PHPMailer' not found in /customers/c/2/9/lifeofaris.se/httpd.www/flexboss/suggest.php:17 Stack trace: #0 {main} thrown in /customers/c/2/9/lifeofaris.se/httpd.www/flexboss/suggest.php on line 17\" \n```\n<?php \nini_set('display_errors', 1);\n    require(\"inc/phpmailer/PHPMailerAutoload.php\");\nif ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n    $name = trim(filter_input(INPUT_POST,\"name\",FILTER_SANITIZE_STRING));\n    $email = trim(filter_input(INPUT_POST,\"email\",FILTER_SANITIZE_EMAIL));\n    $details = trim(filter_input(INPUT_POST,\"details\",FILTER_SANITIZE_SPECIAL_CHARS));\nif ($name == \"\" || $email == \"\" || $details == \"\") {\n    echo \"Please fill in the required fields: Name, Email and Details\";\n    exit;\n}\nif ($_POST[\"address\"] != \"\") {\n    echo \"Bad form input\";\n    exit;\n}\n$mail = new PHPMailer;\n$mail->isSMTP();\nif (!$mail->ValidateAddress($email)) {\n    echo \"Invalid Email Address\";\n    exit;\n}\n$email_body = \"\";\n$email_body .= \"Name: \" . $name . \"<br>\";\n$email_body .= \"Email: \" . $email . \"<br>\";\n$email_body .= \"Customer Question: \" . $details . \"<br>\";\n\n\n$mail->setFrom('example@example.com');     // Add a recipient\n$mail->addReplyTo($email, $name);\n$mail->isHTML(true);                      // Set email format to HTML\n\n$mail->Subject = 'Customer Question ' . $name;\n$mail->Body    = $email_body;\n\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n    exit;\n}else{\n    echo 'Message has been sent';\n}\n\n\nheader(\"location:suggest.php?status=thanks\");\n\n}\n?>\n```\n\n. in my hosting i have php 7.0\n. change it to 5.5 or 5.6?\n. i did put echo \"hello\"; on autoloader and navigated to it and it shows the output \"Hello\" so it works\n. i read also https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting where it says \n\"\"SMTP Error: Could not connect to SMTP host.\"\nThis may also appear as SMTP connect() failed or Called Mail() without being connected in debug output. This is often reported as a PHPMailer problem, but it's almost always down to local DNS failure, firewall blocking or other issue on your local network. It means that PHPMailer is unable to contact the SMTP server you have specified in the Host property, but doesn't say exactly why. It can also be caused by not having the openssl extension loaded (See encryption notes below).\nYou can get a verbose transcript of the whole SMTP conversation by setting SMTPDebug = 2 - if you're submitting a bug report that's probably the best option to choose. If you are having trouble with the initial connection, SMTPDebug = 3 or 4 will give more info, but rather too much if your problem is not related to the connection itself.\nSome techniques to diagnose the source of this error are discussed below.\" \nSo it could be a problem with my internet connection? the solutions that you have are for gmail only, i cant find one for single/personal emails\n. well i think i got a clue why is not sending emails at all, its because of my hosting provider, and the specifically told not to use SMTP \n. ",
    "rishijash": "Yes it is based on exact same code.\nI am able to send regular email without attachments and some attachments like .jpeg files.\nBut seems like it is not working with .pdfs, .docx and many other.\nThis is what my code looks like:\n```\n$mail->IsSMTP(); // enable SMTP\n$mail->SMTPDebug = 0; // debugging: 1 = errors and messages, 2 = messages only\n$mail->SMTPAuth = true; // authentication enabled\n$mail->SMTPSecure = \"ssl\"; // secure transfer enabled REQUIRED for GMail\n$mail->Host = \"smtp.mail.me.com\";\n$mail->Port = 465; // or 587\n$mail->IsHTML(true);\n$mail->Username = \"from address\";\n$mail->Password = \"mypassword\";\n$mail->SetFrom(\"from address\");\n$mail->Subject = \"my subject\";\n$mail->Body = \"message\";\n$mail->addAddress(\"to address\");\n$uploadfile = tempnam(sys_get_temp_dir(), sha1($_FILES['userfile']['name']));\n$filename =$_FILES['userfile']['name'];\nif (move_uploaded_file($_FILES['userfile']['tmp_name'], $uploadfile)) {\n    $mail->addAttachment($uploadfile, $filename);\n}\nif ($mail->send()) {\n    $_SESSION['Sent']=null;\n    echo \"Sent\";\n} else {\n    echo \"Mailer Error: \" . $mail->ErrorInfo;\n}\n```\n. Checked it twice.\nSomehow I am not able to send few files from my desktop.\nI have deployed same code on Hoodoomail.com\nbut not able to send this file(Google Drive Link). \nMay be files are corrupted or something.\n. Thanks for the help. :) \n. Thanks for the help. :) \n. If any one is facing such issue first make sure if move_uploaded_file is working or not.\n```\n// Upload file\n$moved = if (move_uploaded_file($_FILES['userfile']['tmp_name'], $uploadfile)) ;\nif( $moved ) {\n//PHPMailer Add Attachment Code\n} else {\n  echo \"Not uploaded because of error #\".$_FILES[\"file\"][\"error\"];\n}\n```\nReference: http://stackoverflow.com/questions/3501749/php-move-uploaded-file-error\n. If any one is facing such issue first make sure if move_uploaded_file is working or not.\n```\n// Upload file\n$moved = if (move_uploaded_file($_FILES['userfile']['tmp_name'], $uploadfile)) ;\nif( $moved ) {\n//PHPMailer Add Attachment Code\n} else {\n  echo \"Not uploaded because of error #\".$_FILES[\"file\"][\"error\"];\n}\n```\nReference: http://stackoverflow.com/questions/3501749/php-move-uploaded-file-error\n. ",
    "danielson317": "Thanks for the explanation. I didn't realize google was forcing OAuth on everyone. I guess it's kind of like an intermediate ssl cert. Either way I now have no problem selecting the \"allow less secure apps\" setting.\n. I see. Thanks for the quick reply.\nThe example code only calls getLastReply when their is an error. if an error clears that value it may not be the right function to call in that example. Not sure it's a bug per say but I found the get error code much more helpful in that example.\n. ",
    "renardrouge": "Hello Syncro !   I am stuck.   I uninstalled and reinstalled the latest composer.   Composer version 1.0-dev (40c14709f79f9d7ea35ac969cfbd7f41beb525bb) 2016-04-05   I then executed a \"composer update\".  \nI tried the new gmail_xoauth.php code again, with the single require for autoload.php and I get \"Fatal error: Class 'PHPMailer\\PHPMailer\\PHPMailer' not found in C:\\xampp\\htdocs\\phpmailer2\\gmail_xoauth_v2.php on line 18\"\nSuggestions ???   I am running on a Windows laptop.\n. Hi sherryl4george !   Well, I found I had to dig into composer syntax again.  The ReadME says to add \"phpmailer/phpmailer\": \"~5.4\" to the .json file, but that did not work.  I finally got version 5.4 to install with a \"composer update\" and the following .json\n{\n    \"require-dev\": {\n        \"phpmailer/phpmailer\": \"5.4.x-dev\",\n        \"league/oauth2-client\": \"^1.3\",\n        \"league/oauth2-google\": \"^1.0\"\n    }\n}\nI then ran gmail_xoauth again and I am stuck at\nFatal error: Call to undefined method PHPMailer\\PHPMailer\\PHPMailer::setOAuth() in C:\\xampp\\htdocs\\phpmailer2\\gmail_xoauth_v2.php on line 56\nline 56 starts with\n$mail->setOAuth(\n    new OAuth([\n        'provider' => $provider,\n        'clientId' => $clientId,\n        'clientSecret' => $clientSecret,\n        'refreshToken' => $refreshToken,\n        'userName' => $email\n    ])\n);\nSuggestions ???\nLooking at this further, perhaps I do not have the correct levels of the \"league/\" components ?\nI will check further.\n. OK, here is my composer.json now\n{\n    \"require-dev\": {\n        \"phpmailer/phpmailer\": \"5.4.x-dev\"\n    },\n    \"require\": {\n        \"league/oauth2-client\": \"^1.3\",\n        \"league/oauth2-google\" :  \" * . * \"\n    }\n}\ncomposer update -- no-dev says                                                                                                     \"Package \"no-dev\" listed for update is not installed. Ignoring.\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nNothing to install or update\nWriting lock file\nGenerating autoload files\nI still get the same error  \"Fatal error: Call to undefined method PHPMailer\\PHPMailer\\PHPMailer::setOAuth() in C:\\xampp\\htdocs\\phpmailer2\\gmail_xoauth_v2.php on line 56\"\n. I have been searching the /vendor libraries for setOauth() and have not been successful.  Where should it be located ???\n. So ... I deleted my /vendor library and ran \"composer update\" with this .json \n                                       {\n    \"require-dev\": {\n        \"phpmailer/phpmailer\": \"5.4.x-dev\"\n    },\n    \"require\": {\n        \"league/oauth2-client\":  \" * . * \",\n        \"league/oauth2-google\":  \" * . * \"\n    }\n}\nThe result is\nUpdating dependencies (including require-dev)\n- Installing phpmailer/phpmailer (5.4.x-dev a9054a5)\n  Cloning a9054a5d6158ff97fc51b8aa15528ede973b2f89\n  - Installing ircmaxell/security-lib (1.0.0)\n    Loading from cache\n  - Installing ircmaxell/random-lib (v1.1.0)\n    Loading from cache\n  - Installing guzzlehttp/promises (1.1.0)\n    Loading from cache\n  - Installing psr/http-message (1.0)\n    Loading from cache\n  - Installing guzzlehttp/psr7 (1.2.3)\n    Loading from cache\n  - Installing guzzlehttp/guzzle (6.2.0)\n    Loading from cache\n  - Installing league/oauth2-client (1.3.0)\n    Loading from cache\n  - Installing league/oauth2-google (1.0.1)\n    Loading from cache\n    Generating autoload files\nSame failure on gmail_xoauth.php.  So ... the problem seems to be the absence of setOauth().   Would you mind checking the library list above with your install ?  Have you been able to run the new gmail_xoauth successfully ?                                                                                      \n. Hi Sherryl4george !\n6 hours ago, you stated \"If in Xoauth branch the same can be found in src\\OAuth.php around line 100. The function getToken just above this does all the work to get access token from refresh token.\" \nI can not find a src\\OAuth.php file anywhere under the \\vendor directory so I am obviously not using the same source libraries as you are.\nThe closest I can find is PHPMailerOAuth.php\nSo it seems I am stuck until someone can tell me how to properly build the correct library structure.\n. OK, I am a little slow at figuring out what is going on.  I finally found the \"missing\" files at https://github.com/PHPMailer/PHPMailer/tree/xoauth .       My question is \"How do I properly build the library ?\"    Can I do this with composer ?   How ?  If not, do I build it manually ?\n. Hi !    See my comments 1 hour ago.   I have already run the composer update with\n\"league/oauth2-google\" : \" * . * \" \n. So, I crudely copied all of the /src files from https://github.com/PHPMailer/PHPMailer/tree/xoauth to my local /src directory.  Now I do find OAuth.php but execution fails with \nNotice: Undefined index: provdier in C:\\xampp\\htdocs\\phpmailer2\\vendor\\phpmailer\\phpmailer\\src\\OAuth.php on line 47\nCall Stack\nTime    Memory  Function    Location\n1   0.0007  147160  {main}( )   ..\\gmail_xoauth_v2.php:0\n2   0.0375  1668256 PHPMailer\\PHPMailer\\OAuth->__construct( )   ..\\gmail_xoauth_v2.php:63\nSERVER -> CLIENT: 220 smtp.gmail.com ESMTP g13sm6140469igz.12 - gsmtp\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-smtp.gmail.com at your service, [67.193.150.17]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250 SMTPUTF8\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\n( ! ) Warning: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed in C:\\xampp\\htdocs\\phpmailer2\\vendor\\phpmailer\\phpmailer\\src\\SMTP.php on line 299\nSMTP Error: Could not connect to SMTP host.\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT:\nSMTP ERROR: QUIT command failed:\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nThis is probably because I have not properly built stuff.   If you can give me a COMPLETE composer.json file that will properly build this test environment I will try a complete rebuild.\n. OK, that fix got me past the crypto error.  Now I have\nNotice: Undefined index: provdier in C:\\xampp\\htdocs\\phpmailer2\\vendor\\phpmailer\\phpmailer\\src\\OAuth.php on line 47\nCall Stack\nTime    Memory  Function    Location\n1   0.0009  148528  {main}( )   ..\\gmail_xoauth_v2.php:0\n2   0.0442  1670112 PHPMailer\\PHPMailer\\OAuth->__construct( )   ..\\gmail_xoauth_v2.php:76\nSERVER -> CLIENT: 220 smtp.gmail.com ESMTP q198sm2057445iod.6 - gsmtp\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-smtp.gmail.com at your service, [67.193.150.17]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250 SMTPUTF8\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-smtp.gmail.com at your service, [67.193.150.17]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH250-ENHANCEDSTATUSCODES250-PIPELINING250 SMTPUTF8\n( ! ) Fatal error: Call to a member function getAccessToken() on null in C:\\xampp\\htdocs\\phpmailer2\\vendor\\phpmailer\\phpmailer\\src\\OAuth.php on line 79\nCall Stack\nTime    Memory  Function    Location\n1   0.0009  148528  {main}( )   ..\\gmail_xoauth_v2.php:0\n2   0.0474  1672104 PHPMailer\\PHPMailer\\PHPMailer->send( )  ..\\gmail_xoauth_v2.php:96\n3   0.0482  1678016 PHPMailer\\PHPMailer\\PHPMailer->postSend( )  ..\\PHPMailer.php:1045\n4   0.0482  1678384 PHPMailer\\PHPMailer\\PHPMailer->smtpSend( )  ..\\PHPMailer.php:1156\n5   0.0482  1678984 PHPMailer\\PHPMailer\\PHPMailer->smtpConnect( )   ..\\PHPMailer.php:1313\n6   0.6913  1837016 PHPMailer\\PHPMailer\\SMTP->authenticate( )   ..\\PHPMailer.php:1452\n7   0.6914  1837088 PHPMailer\\PHPMailer\\OAuth->getOauth64( )    ..\\SMTP.php:392\n8   0.6914  1837128 PHPMailer\\PHPMailer\\OAuth->getToken( )  ..\\OAuth.php:88\nI still am wondering if my crudely built /src directory is correct.   Is this particular breed of code even supported by composer yet ??\n. So it is not supported by Composer yet ???\n. I guess I could take a fork from the xoauth branch, but I do not see how that will be any different from the crude build that I did from the /src directory.  Do you think my problem is completely within the PHPMailer code ?  Do I have to worry about the league levels ?  Currently I have\n league/oauth2-client (1.3.0)\n league/oauth2-google (1.0.1)\nDo these correspond with the level you are running at ?\nDo you have a working version of gmail_xoauth.php that runs at this level of code ???\n. Is this a spelling error in OAuth.php ???\n public function __construct(\n    $options) {\n        $this->provider = $options['provdier'];  // incorrect ???\n// ### should this be      // $this->provider = $options['provider']; \n        $this->oauthUserEmail = $options['userName'];\n        $this->oauthClientSecret = $options['clientSecret'];\n        $this->oauthClientId = $options['clientId'];\n        $this->oauthRefreshToken = $options['refreshToken'];\n. So ...  I changed the OAuth.php spelling and got past that error.\nNow I have this error.\nSERVER -> CLIENT: 220 smtp.gmail.com ESMTP 7sm10895420igt.6 - gsmtp\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-smtp.gmail.com at your service, [67.193.150.17]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250 SMTPUTF8\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-smtp.gmail.com at your service, [67.193.150.17]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH250-ENHANCEDSTATUSCODES250-PIPELINING250 SMTPUTF8\nCLIENT -> SERVER: AUTH XOAUTH2 dXNlcj1sb3JuZWR1ZGxleUBnbWFpbC5jb20BYXV0aD1CZWFyZXIgeWEyOS4udlFKVEk3UXRuMXB0Z2czSDd6UUpiTGJ3ZzU4VEMzT2VCaXFISTAzM010X1BacjlXOGxqb2tMd3JKdWFzWEh4VEFEawEB\nSERVER -> CLIENT: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP ERROR: AUTH command failed: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP Error: Could not authenticate.\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 535-5.7.8 Username and Password not accepted. Learn more at535 5.7.8 https://support.google.com/mail/answer/14257 7sm10895420igt.6 - gsmtp\nSMTP ERROR: QUIT command failed: 535-5.7.8 Username and Password not accepted. Learn more at535 5.7.8 https://support.google.com/mail/answer/14257 7sm10895420igt.6 - gsmtp\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. Hello Synchro !\nBack in Feb 24, 2015 in https://github.com/PHPMailer/PHPMailer/issues/368 you commented that PHP 5.6 verifies SSL certificates by default ...\nI put the suggested \"bypass fix\" in place, but I am wondering if the lack of verifying SSL certificates is the reason that Google is refusing to authenticate my gmail_xoauth.php connection ???\nI will do some searching on SSL certificates but this will be new territory for me.  Do you have any references handy on how to do this properly on an xampp Apache server running on a Windows 10 laptop ?\n. OK, I will try the root directory suggestion.  I had wondered about the Google Developer credential setup for Javascript which only allowed https://localhost as a specification.  Is that why you suggest that I use the root directory ???  I see that the OAuth.php spelling error has been fixed. It is 2:39 a.m. here so that will be a task for later in the day. Thanks for the assistance to date.  Later !!!\n. Good day members !\nLatest results after reinstalling under localhost root directory.  I cloned the recent updates and exercised get_oauth_token as before with success.  However I seem to be at the same place as before with the previous structure.\nI don't know where to go from here.  Any suggestions that might aid in narrowing down why Google refuses to authenticate ???\nI wonder if one of you could try the latest gmail_xoauth.php code yourself and report on successful execution ???\nSERVER -> CLIENT: 220 smtp.gmail.com ESMTP cl4sm4182496igb.4 - gsmtp\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-smtp.gmail.com at your service, [67.193.150.17]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250 SMTPUTF8\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nCLIENT -> SERVER: EHLO localhost\nSERVER -> CLIENT: 250-smtp.gmail.com at your service, [67.193.150.17]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH250-ENHANCEDSTATUSCODES250-PIPELINING250 SMTPUTF8\nCLIENT -> SERVER: AUTH XOAUTH2 dXNlcj1zb21lb25lQGdtYWlsLmNvbQFhdXRoPUJlYXJlciB5YTI5Li52UUtYeHRoM3lMc0lxWldqWnI1WlVNZTZuLWc0M25OR2FrSXBjaTAybU5nNEt0bmpQYjNOZF9BcDJJSzFpNFdfTlEBAQ==\nSERVER -> CLIENT: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP ERROR: AUTH command failed: 334 eyJzdGF0dXMiOiI0MDAiLCJzY2hlbWVzIjoiQmVhcmVyIiwic2NvcGUiOiJodHRwczovL21haWwuZ29vZ2xlLmNvbS8ifQ==\nSMTP Error: Could not authenticate.\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 535-5.7.8 Username and Password not accepted. Learn more at535 5.7.8 https://support.google.com/mail/answer/14257 cl4sm4182496igb.4 - gsmtp\nSMTP ERROR: QUIT command failed: 535-5.7.8 Username and Password not accepted. Learn more at535 5.7.8 https://support.google.com/mail/answer/14257 cl4sm4182496igb.4 - gsmtp\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. Hi Sherryl ! \nIt works !!!  It works !!!\nAs I was cleaning up the client secret and id for dispatch I noticed that I had neglected to change the\n$email = 'someone@gmail.com';    After changing to my correct email @ gmail, everything executed as expected.\nThank you for getting me to this point.\nCan you explain the technical details as to why it only works at the root level ?  I do not understand why the Javascript declaration of https://localhost  was necessary or how it comes into play in the interaction.\n. Here is a puzzle in the new get_oauth_token.php code.\nI had to use  $redirectUri = 'https://localhost/get_oauth_token.php';\nExamining the code yields these results.\nredirectUri = https://\nHTTPS = on\nHTTP_HOST = localhost\nPHP_SELF = /$server.php     (that's the name used for the test code below)\n<?php\n$redirectUri = isset($_SERVER['HTTPS']) ? 'https://' : 'http://' . $_SERVER['HTTP_HOST'] . $_SERVER['PHP_SELF'];\necho 'redirectUri = '.$redirectUri. '<br/>';\necho 'HTTPS     = '.$_SERVER['HTTPS']. '<br/>';\necho 'HTTP_HOST = '.$_SERVER['HTTP_HOST']. '<br/>';\necho 'PHP_SELF  = '.$_SERVER['PHP_SELF']. '<br/>';\n//$redirectUri = 'https://localhost/get_oauth_token.php';\n. My solution:\n$protocol = isset($_SERVER['HTTPS']) ? 'https://' : 'http://';\n$redirectUri = $protocol . $_SERVER['HTTP_HOST'] . $_SERVER['PHP_SELF'];\n. A better solution:\n$redirectUri = (isset($_SERVER['HTTPS']) ? 'https://' : 'http://') . $_SERVER['HTTP_HOST'] . $_SERVER['PHP_SELF'];\n. Hi Synchro !\nCan you explain technically why the Javascript credential declaration at Google of https//:localhost is required, forcing all of my code to the document root ?   I'm not aware of any Javascript code.  Is it hidden in /vendor somewhere ?  If so, what is its function ???\n. Now I am puzzled.  I think it was  sherryl4george's advice to set up the Javascript uri to point at https://localhost  along with moving all of the operational code to the localhost root that got me going.\nAre you suggesting I can move the current code into a directory below the root (with approprate redirectUri changes and still be executable ???  That would be my preference.\n. OK, thanks for the response.  I am still puzzled as to why it suddenly executed at the root level though.\nI did not knowingly do anything different.  I will try shifting back to the previous location.\n. ???     in the last version, this code executed properly.\necho 'PHPMailer version = '.$mail->Version;  // line 17\nNow I get \"Notice: Undefined property: PHPMailer\\PHPMailer\\PHPMailer::$Version in C:\\xampp\\htdocs2\\phpmailer_version.php on line 17\"\nWhere do I look to find valid properties in the new code ???\n. Thank you all !\nI have moved back to directory /phpmailer under the root directory with complete success.\n(No Javascript specification required.)\nMy only outstanding item now is how to fix the code below that executed successfully in the last previous version of PHPMailer.\necho 'PHPMailer version = '.$mail->Version;  // line 17\nNow I get \"Notice: Undefined property: PHPMailer\\PHPMailer\\PHPMailer::$Version in C:\\xampp\\htdocs1\\phpmailer\\phpmailer_version.php on line 17\"\n. Thank you for the VERSION solution !!!\nI am now checking for documentation.  The best I have found so far is at http://phpmailer.github.io/PHPMailer/  ...   but it does not include VERSION as a constant.  \nI see generatedocs.sh can generate documentation, but it appears to not be Windows compatible ??? \nFor example, my command line does not understand the \"rm\" command.  If it did work it appears that I need the phpdoc package too ???  Is there any hope for me to be able to generate this documentation on a Windows 10 platform ???  \nIf so, any references for building on Windows 10 ???\n. Well ...  I have phpDocumentor running on a sample.php file and the output looks good.\nI had a warning message during the run, so I will try to fix that.\nUnable to find the dot command of the GraphViz package. Is GraphViz correctly installed and present in your path?\nThe question is ...  if I manage to get this running, will I be able to get documentation relative to the latest development code that I am currently running on ???\n. OK, GraphViz installed and sample runs clean.\n. OK, I have answered my own question.  I have phpDocumentor producing documentation for PHPMailer.php and VERSION shows under Constants.  That's it for tonight !!!\n. I have upgraded to the latest xampp with PHP 7.0 and have encountered the following error with gmail_oauth.php\nFatal error: Uncaught GuzzleHttp\\Exception\\RequestException: cURL error 60: SSL certificate problem: unable to get local issuer certificate\nI can make this go away by patching the Client.php module of guzzle under /vendors in the private function configureDefaults from 'verify' => true,  to  'verify' => false,\nI know it is not proper protocol to modify modules under /vendor, but alas, my PHP skills are lacking.  I have tried for the last day to set this from gmail_oauth.php with out success.\nCan any of you PHP professionals tell me how to do this ???\n. Hi Synchro !\nThanks for looking.   I reviewed my xampp php7 setup and found that I had neglected to set\n[curl] curl.cainfo = \"C:\\xampp7\\php\\cacert.pem\" ; in the php.ini file.\nOnce that was set and the cacert.pem file copied into place, everything operated as expected.\nThanks again for the assistance.  I will send an email on an off-topic item that I hope you can assist with.\n. Problem solved and closed !\nThe following works.\n$result = \\PHPMailer\\PHPMailer\\StackMail('person@gmail.com', 'redfox', 'xyztokenstring');\n. Problem solved and closed !\nThe following works.\n$result = \\PHPMailer\\PHPMailer\\StackMail('person@gmail.com', 'redfox', 'xyztokenstring');\n. Hello Synchro !\nThanks for the idea.  That would be a much better solution if I could get it to work.\nI tried the following.\nIn stack_gmail.php I commented out \nnamespace PHPMailer\\PHPMailer;\nand added\nuse PHPMailer\\PHPMailer\\PHPMailer;\nThe statements\nuse League\\OAuth2\\Client\\Provider\\Google;\nrequire 'vendor/autoload.php';\nare already there.\nI modified stack_gmail_test.php from\n$result = \\PHPMailer\\PHPMailer\\StackMail('person@gmail.com', 'redfox', 'xyztokenstring');\nto\n$result = StackMail('person@gmail.com', 'redfox', 'xyztokenstring');\nI get the following error in the \"required\" file 'stack_gmail.php'\n\"Fatal error: Class 'OAuth' not found in stack_gmail.php on line 84\"\nDid I follow your instructions properly ???  If so, is there a way around this error ???\n. The code in the area of error is\n$mail->setOAuth(\n    new OAuth([\n        'provider' => $provider,\n        'clientId' => $clientId,\n        'clientSecret' => $clientSecret,\n        'refreshToken' => $refreshToken,\n        'userName' => $email\n    ])\n);\n. Great !   That did it.  Everything now works as expected.  Thanks for the better solution and the furtherance of my PHP education !\n. ",
    "WM2016": "Thank you Synchro, yes l had noticed that. It's now working correctly, added\nopenssl extension in php.ini file and changed the variable for message body.\nl appreciate your quick response.\nOn Wed, Apr 6, 2016 at 10:53 AM, Marcus Bointon notifications@github.com\nwrote:\n\nClosed #678 https://github.com/PHPMailer/PHPMailer/issues/678.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/678#event-616526413\n. \n",
    "1234abhishekjoshi": "i am sending mail from outlook to outlook phpmailer give message queued mail for delivery, but the message coming in my outlook inbox.\n2018-01-16 13:04:38 SERVER -> CLIENT: 250 2.6.0 a9c31fe58455ee26b6ec780eb97a6b80@localhost [InternalId=26718991549381, Hostname=BN6PR10MB1905.namprd10.prod.outlook.com] 15266 bytes in 0.759, 19.620 KB/sec Queued mail for delivery\nif i send message from outlook smtp account using phpmailer  to send to gmail account they give same error but message is not come in my gmail inbox account.. synchro can you please help me on this.. ",
    "eusonlito": "If you have a default value for exceptions into variables definition list, why to force to use one value from construct?\nNow you have two false definition to $exceptions, one into construct and one into variable definition. If you change one, you need to remember to change in two places or the other one will be inconsistent.\nNOTE: Change $exceptions value is referring to a team developers change into the code.\n. ",
    "joyahm": "@punchyrascal I've tried without ClearAllRecipients() too, but no good result.\nanother thing is every messages using different smtp, subject, content and sender. all of them are coming from database.\n. @punchyrascal I've tried without ClearAllRecipients() too, but no good result.\nanother thing is every messages using different smtp, subject, content and sender. all of them are coming from database.\n. @PunchyRascal that's from mailing list example provided with PHPMailer.\nI was tried to intact use of example provided here after 36 hours lost to find out the problem.\nMy original code was:\n        $mail = new PHPMailer;\n```\n    $mail->SMTPDebug = 0;\n$mail->isSMTP();\n$mail->Host = \"$host\";\n$mail->SMTPAuth = true;\n$mail->Username = \"$email\";\n$mail->Password = \"$pass\";\n$mail->SMTPSecure = \"$tls\";\n$mail->Port = \"$port\";\n\n$mail->setFrom(\"$email\", \"$name\");\n$mail->addAddress(\"$to\", \"$toname\");\n//$mail->addReplyTo('replyto@example.com', 'First Last');\n\n$mail->isHTML(true);\n\n$mail->Subject = \"$subject\";\n$mail->Body    = \"$body\";\n$mail->AltBody = \"\";\n\n$send = $mail->Send();\n\nif(!$send) {\n?>\n<div class=\"alert alert-danger\" role=\"alert\">\n<center>\n<?php\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n?>\n</center>\n</div>\n<?php\n} else {\n?>\n<div class=\"alert alert-success\" role=\"alert\">\n<center>\n<?php\n    echo \"sent to $to\";\n    $query = \"UPDATE recepient status = '0' WHERE ID='$RecepientID'\";\n    $result = $mysqli->query($query);\n\n?>\n</center>\n</div>\n<?php\n}\n\n```\n. @PunchyRascal that's from mailing list example provided with PHPMailer.\nI was tried to intact use of example provided here after 36 hours lost to find out the problem.\nMy original code was:\n        $mail = new PHPMailer;\n```\n    $mail->SMTPDebug = 0;\n$mail->isSMTP();\n$mail->Host = \"$host\";\n$mail->SMTPAuth = true;\n$mail->Username = \"$email\";\n$mail->Password = \"$pass\";\n$mail->SMTPSecure = \"$tls\";\n$mail->Port = \"$port\";\n\n$mail->setFrom(\"$email\", \"$name\");\n$mail->addAddress(\"$to\", \"$toname\");\n//$mail->addReplyTo('replyto@example.com', 'First Last');\n\n$mail->isHTML(true);\n\n$mail->Subject = \"$subject\";\n$mail->Body    = \"$body\";\n$mail->AltBody = \"\";\n\n$send = $mail->Send();\n\nif(!$send) {\n?>\n<div class=\"alert alert-danger\" role=\"alert\">\n<center>\n<?php\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n?>\n</center>\n</div>\n<?php\n} else {\n?>\n<div class=\"alert alert-success\" role=\"alert\">\n<center>\n<?php\n    echo \"sent to $to\";\n    $query = \"UPDATE recepient status = '0' WHERE ID='$RecepientID'\";\n    $result = $mysqli->query($query);\n\n?>\n</center>\n</div>\n<?php\n}\n\n```\n. ",
    "albertoantunes": "Fair enough! Will try to educate the client but in last case will use your suggestion. Thanks!\n. Fair enough! Will try to educate the client but in last case will use your suggestion. Thanks!\n. ",
    "anetk": "Hmmm. It works for me with gmail account but my client with outlook account is not receiving anything. Also, hostgator is I guess not supporting mail() so that's why i'm trying to work around this. Any idea how I could fix this?\n. ",
    "Ashra96": "I changed SMTP from the set of 2 and I said it doesnt get that far. its stuck just loading. and server logs? Im just using the gmail server\n. No I mean I set to 1 from the default of 2 from the example before. I set it to 3 and it doesnt change anything because it doesnt get that far\n. And the php is running from my university server so I can't check logs and don't know how to. and yes they were when I was trying it like 2 hours ago\n. I'll have to test on the server later when I can. Thanks ill update if I get any more details\n. ",
    "clarkk": "setting SMTPAutoTLS to false solved it :)\n. ",
    "raftho": "Thanks,\u00a0Cordialmente,\nRafael Thomas B.\n\u00a0\"La locura es hacer siempre lo mismo y esperar resultados diferentes\"\u00a0\u00a0 Albert Einstein.\u00a0\u00a0 \nDe vez en cuando me gusta jugar a ser loco ........y a veces me da resultado.\nEl Martes, 26 de abril, 2016 13:15:55, Marcus Bointon <notifications@github.com> escribi\u00f3:\nFollow the link it gave you. It will tell you what you need to know.\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. ",
    "SergioRe": "Tengo el mismo problema, cuyando envio correo local.... Tengo el mismo problema, cuyando envio correo local.... ",
    "BlerkSlerk": "Sure, the Wordpress plugin is \"wp-mail-smtp\", it works fine when we use this and switch it to SMTP instead of PHPMailer. OK, where in the Wordpress sites do we make the change you mention? These are standard installs that we haven't touched.\n. Thank you. We have isolated the issue to mail() which for some reason is inserting duplicate headers into emails before sending them! We've created a very simply test script (see attached - https://github.com/PHPMailer/PHPMailer/files/245090/sample-code.zip) and below are the headers that this generates. As you can see there are 2 x \"From:\" headers. What on earth could be causing this?\nReceived: from SEPTEMBER ([127.0.0.1]) by september.weare79.co with Microsoft SMTPSVC(8.5.9600.16384);\n     Mon, 2 May 2016 13:54:55 +0100\nDate: Mon, 02 May 2016 13:54:55 +0100\nSubject: SendMail Test\nTo: bds@weare79.co\nX-PHP-Originating-Script: 0:form-respond.php\nFrom: Behrooz bds@weare79.co\nFrom: bds@weare79.co\nReturn-Path: bds@weare79.co\nMessage-ID: SEPTEMBERAUfKRfcjcM00000036@september.weare79.co\nX-OriginalArrivalTime: 02 May 2016 12:54:55.0548 (UTC) FILETIME=[D36757C0:01D1A471]\nName: Behrooz\nMessage: testing...\n. ",
    "risototh": "Maybe we do not understand, how the Bcc is working with the SMTP, but in the practice, all clients shows the Bcc, when it's set. An the recipient is happy, when it sees, why he got that particular email.\nThis was our solution (modified PHPMailer class), but now i'm forced to do a child class that will fix this, as we want to use the base via composer.. Ok, thanks, i will use the getLE(), i overlooked this method. \nWhy i'm using it? It's a special filter that switches all data-uri and external images into embedded attachments and also manipulates Body and AltBody... . ",
    "januzi": "Hello again. You were right about that:\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 Begin TLS negotiation\nCLIENT -> SERVER: EHLO name\nSMTP -> get_lines(): timed-out (10 sec)\nSMTP ERROR: EHLO command failed:\nCLIENT -> SERVER: HELO name\nSERVER -> CLIENT: 250 all possible commands\nI've found that on the server's control panel there is an option allowing users to pick php version. So, I changed it from the 5.6 to the 5.5 (just to check if that would make a change) and voila: no more timeouts. \nI've also found php.ini used by the website and it looks like it is suppressing invalid cert hostname.\n. ",
    "yassinakra": "thanks alot\n2016-05-03 11:16 GMT+01:00 Marcus Bointon notifications@github.com:\n\nClosed #703 https://github.com/PHPMailer/PHPMailer/issues/703.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/703#event-648651240\n. ``` php\n$mail->SMTPDebug = 2;\n$mail->Debugoutput = 'html';\n\n\n$boitea = explode ('/',$boites[$i]);\n$boite = $boitea[0];\n$pass = $boitea[1];\n$froms =  explode ('@',$boite);\n//Username to use for SMTP authentication - use full email address for gmail\n$mail->Username = $boite;\n//Password to use for SMTP authentication\n$mail->Password = $pass;\nif (isset($_POST['from_name']))\n     {\n         $from_name = $_POST['from_name'];\n     }\nelse {\n         $from_name = $froms[0];\n    }\n$mail->setFrom($boite, $from_name);\n$mail->addReplyTo($boite, $from_name);\n$datas = '';\n$select = \"select email from emails offset $offset limit $limit\";\n        $res_data = pg_query($connection $select);\n        while ($object_data = pg_fetch_array($res_data))\n        {\n          $email = trim($object_data[0]) ;\n              $emails = explode('@',$email);\n          $from_name_to = $emails[0];\n          $mail->addAddress($email, $from_name_to);\n        }\nif ($mail->send()) {\n        echo \"Message sent!\";\n} else {\n        echo \"Mail Error: \"  . $mail->ErrorInfo;\n}\n$mail->ClearAddresses();\n```\n. the problem that I find the email that I send to my customers in my sent mails\n. ",
    "dannysofftie": "PHPMailer has been sending emails fast and conveniently, even with attatched documents in my local server (Using Microsoft IIS), but when my app goes live, I can't send emails. And am pretty sure my net speed is not the issue.\n```php\n        // send email without attachment\n        $mail = new PHPMailer;\n    $mail->isSMTP();                                   // Set mailer to use SMTP\n    $mail->Host = 'smtp.gmail.com';                    // Specify main and backup SMTP servers\n    $mail->SMTPAuth = true;                            // Enable SMTP authentication\n    $mail->Username = 'mymail@gmail.com';           // SMTP username\n    $mail->Password = 'mypass';                      // SMTP password\n    $mail->SMTPSecure = 'tls';                         // Enable TLS encryption, `ssl` also accepted\n    $mail->Port = 587;                                 // TCP port to connect to\n\n    $mail->setFrom('dankim761@gmail.com', 'Kimmy Soft Inc.');\n    $mail->addReplyTo($email, $fname);\n\n    $recipients = array('dankim761@gmail.com');\n    foreach($recipients as $to ){\n\n        $mail->addAddress($to); // Add a recipient\n\n    }\n\n    //$mail->addCC('cc@example.com');\n    //$mail->addBCC('bcc@example.com');\n\n    $mail->isHTML(true);  // Set email format to HTML\n\n    $bodyContent = \"\"\n    $mail->Subject = 'Employee Leave Application.';\n    $mail->Body    = $bodyContent;\n\n    if(!$mail->send()) {\n        echo 'Message could not be sent.';\n        echo 'Mailer Error: ' . $mail->ErrorInfo;\n\n        // redirect to previous page with an error message\n        header(\"Location: ../content/apply_leave.php?ceoMailNotSent\");\n    } else {\n\n        echo \"Email sent successfully\";\n\n}\n```. ",
    "filips123": "@Synchro Is it possible to send mail asynchronously and not wait to finish? How?. @Synchro Is it possible to send mail asynchronously and not wait to finish? How?. ",
    "Qored": "unfortunately didn't work..\n. ",
    "gdarcan": "I was also struggling about that. Below is verified, working settings. But also you need to login to Yandex and accept eula or something thru https://mail.yandex.com before trying these settings.\n$mail->Host = 'smtp.yandex.com';\n$mail->Port = 465;\n$mail->SMTPAuth = true;\n$mail->SMTPSecure = 'ssl';\n$mail->SMTPOptions = array (\n    'ssl' => array(\n    'verify_peer' => false,\n    'verify_peer_name' => false,\n    'allow_self_signed' => true)\n);.\n",
    "harshadduasane": "Ya thanks. the problem is in another file. thanks.\n. ",
    "Bhaskar1989": "In inbox show message-\nDelivery to the following recipient failed permanently:\nbhaskarbisht571@gmail\nTechnical details of permanent failure:\nDNS Error: 18143032 DNS type 'mx' lookup of gmail responded with code NOERROR\n18143032 DNS type 'mx' lookup of gmail had no relevant answers.\n18143032 DNS type 'aaaa' lookup of gmail responded with code NOERROR\n18143032 DNS type 'aaaa' lookup of gmail had no relevant answers.\n18143032 DNS type 'a' lookup of gmail responded with code NOERROR\n18143032 DNS type 'a' lookup of gmail had no relevant answers.\n----- Original message -----\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=gmail.com; s=20120113;\n        h=date:to:from:cc:reply-to:subject:message-id:mime-version\n         :content-transfer-encoding;\n        bh=yAZ5dzvCeAdKQLyCNCigaxcnC/7ABlR8NkuTRFJb5b0=;\n        b=eBv/2DRnamCyDXuOMtejFy/BALPK8j5xysK+xVsK7qTPWyrEQTClBZ34IyfyAPI5pR\n         G8DIqVTvXC/eJSH1pcL7JVabs/ROdHQ0BdSlIMa8KqHZYpV0i+RHStGDwPS6aWkh07Gg\n         S2GwcxykCUDpaJUnjT2qlVQzLUcOvyA1hjMH2uziy7WcuZhYfFoTO5PZNp902P0lbs//\n         NSJXGm/FI1Rs7kD4zmMMLcvPZvk3Avtb9mgd4ST4HlhR1A5kd8d6I0aUt89pMHC9ueWN\n         X/mrMNBVi5wZQZKvZoEHJbeIhJxU+UaRZjzj1lFq0fs/2bto/RGjWi9ik8VKcSo9fbc9\n         SoEQ==\nX-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=1e100.net; s=20130820;\n        h=x-gm-message-state:date:to:from:cc:reply-to:subject:message-id\n         :mime-version:content-transfer-encoding;\n        bh=yAZ5dzvCeAdKQLyCNCigaxcnC/7ABlR8NkuTRFJb5b0=;\n        b=isSePrOhtIe/v6H0Q5hU/Ya6cr/O2dRphN089PUK/adWSLll+Sd4nmcSeYGQrSYFyF\n         oD4r5b6lS51pSOje2x87z7TMdTIDL43CEdKxqa9vHCwARqOvXwZQU3a4Ojv4b39tZ1s/\n         TnIgTw+gLlNUONOKxPpzYUqEG755Nampuc8E2ygVF1kcGlTnViCq/WuejjGhAp4Wwl0M\n         lbghHAJ70uVX0Il1dbu+ZSrOWGRegXT+OR8u3HDLXxjzJlGBA1BjjpyT4GlDzngmskE0\n         g9ZYWLtKTPIMZq9oXx6HkmJQmXAjz6UdjTYHhNT41H9aIaUACGLgWvdGMnWN1Q++CmS0\n         X0RA==\nX-Gm-Message-State: AOPr4FXt0Zr659Isq2v5hzJZpBRWmuFvYmng1JCg1PxYvF7K1LR4Pm+SJU4nLMKmtCnYjw==\nX-Received: by 10.98.84.65 with SMTP id i62mr4293563pfb.97.1462968387081;\n        Wed, 11 May 2016 05:06:27 -0700 (PDT)\nReturn-Path: bhaskarbisht571@gmail.com\nReceived: from localhost ([122.177.109.149])\n        by smtp.gmail.com with ESMTPSA id 133sm11808067pfw.35.2016.05.11.05.06.24\n        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);\n        Wed, 11 May 2016 05:06:26 -0700 (PDT)\nDate: Thu, 12 May 2016 02:36:16 +0200\nTo: Joe User bhaskarbisht571@gmail, ellen@example.com\nFrom: Mailer bhaskarbisht571@gmail.com\nCc: cc@example.com\nReply-To: Information info@example.com\nSubject: Here is the subject\nMessage-ID: c648d83214c6aee4c6f57094bc798f57@localhost\nX-Mailer: PHPMailer 5.2.15 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n        boundary=\"b1_c648d83214c6aee4c6f57094bc798f57\"\nContent-Transfer-Encoding: 8bit\n. but this email address exist. then why show this message.\n. I will send you whole code.I written everywhere only bhaskarbisht571@gmail.com.But it will show in inbox bhaskarbisht571@gmail.I am unable to understand the problem.Please help\n``` php\n<?php\nrequire 'phpmailer/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n//$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host = 'smtp.gmail.com';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'bhaskarbisht571@gmail.com';                 // SMTP username\n$mail->Password = '**';                           // SMTP password\n$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, ssl also accepted\n$mail->Port = 587;                                    // TCP port to connect to\n$mail->setFrom('bhaskarbisht571@gmail.com', 'Mailer');\n$mail->addAddress('bhaskarbisht571@gmail', 'Joe User');     // Add a recipient\n$mail->addAddress('ellen@example.com');               // Name is optional\n$mail->addReplyTo('info@example.com', 'Information');\n$mail->addCC('cc@example.com');\n$mail->addBCC('bcc@example.com');\n$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n$mail->addAttachment('/tmp/image.jpg', 'new.jpg');    // Optional name\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body in bold!';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n?>\n```\n. oh so sorry Marcus. Actually i am new in php.\nThanks for reply.\nOn Wed, May 11, 2016 at 6:48 AM, Marcus Bointon notifications@github.com\nwrote:\n\nWhat about:\n$mail->addAddress('bhaskarbisht571@gmail', 'Joe User'); // Add a recipient\n?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/713#issuecomment-218464234\n. Sory but i thought that ticket #713 was closed. So we make a fresh ticket.\n\nOn Wed, May 11, 2016 at 7:49 AM, ooxi notifications@github.com wrote:\n\nWhy did you open multiple issues? This is already resolved by #713\nhttps://github.com/PHPMailer/PHPMailer/issues/713\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/715#issuecomment-218482716\n. \n",
    "rabihmb": "I know what, and I'm working on it since long time, but I see in the libraries there is a pop3 file I though it could be help\n. Thank you very much for your clarification, I will try to use the IMAP instead of POP3 classes.\nDo you recommend any class for IMAP?  the purpose of the request is to get the list of email in the bounce back email such as noreply@domain.com and extract the header \n. ",
    "sujit223": "Thanks for quick response\n. Why is that the the sending is working but connecting is failing\n. This is what i am trying to do\n```\n<?php\nrequire 'PHPMailer-master/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->SMTPOptions = array(\n     'ssl' => array(\n         'verify_peer' => false,\n         'verify_peer_name' => false,\n         'allow_self_signed' => true\n     )\n);\n$mail->Host = '**';  // Specify main and backup SMTP servers\n$mail->Username = '*';                 // SMTP username\n$mail->Password = '****';                           // SMTP password\n$mail->SMTPSecure = 'ssl';                            // Enable TLS encryption, ssl also accepted\n$mail->Port = 465;                                    // TCP port to connect to\n$mail->setFrom('**', '*');\n$mail->addAddress('**', '*');     // Add a recipient\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body in bold!';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nvar_dump($mail->smtpConnect());     // failing\nvar_dump($mail->smtpClose());\nvar_dump($mail->ErrorInfo);\necho $mail->send();            // sending\n```\n. if i try like this \n```\n<?php\nrequire 'PHPMailer-master/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->SMTPOptions = array(\n     'ssl' => array(\n         'verify_peer' => false,\n         'verify_peer_name' => false,\n         'allow_self_signed' => true\n     )\n);\n$mail->Host = 'server.example.com';  // Specify main and backup SMTP servers\n$mail->Username = 'xxx';                 // SMTP username\n$mail->Password = 'xxx';                           // SMTP password\n$mail->SMTPSecure = 'ssl';                            // Enable TLS encryption, ssl also accepted\n$mail->Port = 465;                                    // TCP port to connect to\n$mail->setFrom('faveo@moebro.de', 'faveo');\n$mail->addAddress('sujit.prasad@ladybirdweb.com', 'Sujit Prasad');     // Add a recipient\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body in bold!';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nvar_dump($mail->smtpConnect($this->SMTPOptions));\nvar_dump($mail->smtpClose());\nvar_dump($mail->ErrorInfo);\necho $mail->send();\n```\nAnd this is what i get after this\n\n. Thank you for your help it works flawlessly\n. You guys rocks\n. ",
    "jndemenge": "$mail->smtpConnect(\n                array(\n                    \"ssl\" => array(\n                        \"verify_peer\" => false,\n                        \"verify_peer_name\" => false,\n                        \"allow_self_signed\" => true\n                    )\n                )\n            );. ",
    "npalmius": "Yes, you're right - I knew that it was niche, but I hadn't considered subclassing and overriding (I haven't worked with OOP in PHP much).\nIn the end, and for anyone else who finds this, it was as simple as\nclass MyMailer extends PHPMailer\n{\n  public function DKIM_Add($headers_line, $subject, $body)\n  {\n    return parent::DKIM_Add($headers_line, $this->encodeHeader($this->secureHeader('[list name] ' . $this->Subject)), $body);\n  }\n}\nThanks for the great work on PHPMailer!\n. Yes, you're right - I knew that it was niche, but I hadn't considered subclassing and overriding (I haven't worked with OOP in PHP much).\nIn the end, and for anyone else who finds this, it was as simple as\nclass MyMailer extends PHPMailer\n{\n  public function DKIM_Add($headers_line, $subject, $body)\n  {\n    return parent::DKIM_Add($headers_line, $this->encodeHeader($this->secureHeader('[list name] ' . $this->Subject)), $body);\n  }\n}\nThanks for the great work on PHPMailer!\n. ",
    "alejoat": "tnx Synchro iLL read. Hope find how to fix it!\n. tnx Synchro iLL read. Hope find how to fix it!\n. ",
    "aolko": "you can send html, not sure about js\n. you can send html, not sure about js\n. ",
    "ml48603": "Hi synchro, Yeah that's mine on Stack. Don't know why I didn't think of putting it here first.  I do have good luck on Stack, so is a first stop for me.  \nI reinstalled the servers this week and just tested my auction script.  My auction script is not sending emails anymore. Consistent with BlackHole not sending and the common thread being the Apache user, as you suggested, thanks.\nHow do I authorized my Apache user to use the mail() calls? I have had the servers setup for 5 months and have lost my notes on how to do this.\n. My permissions are set the same as your:\n```\nls -al /usr/sbin/sendmail /etc/postfix/main.cf\n-rw-r--r-- 1 root root  1646 May 14 23:37 /etc/postfix/main.cf\n-rwxr-xr-x 1 root root 26648 Feb  5  2015 /usr/sbin/sendmail\n```\n. When my auction script attempts to send a mail running as the Apache user the following errors appear in  /var/log/syslog\nMay 19 19:23:39 domainname postfix/sendmail[17256]: fatal: open /etc/postfix/main.cf: Permission denied\nMay 19 19:23:44 domainname postfix/qmgr[17228]: C7C01A0C1F: from=<user@domain2.tld>, size=4052, nrcpt=1 (queue active)\nMay 19 19:23:44 domainname postfix/local[17258]: warning: lookup root, NIS domain domainname.tld, map mail. aliases: internal yp server or client error\nMay 19 19:23:44 domainname postfix/local[17258]: warning: nis:mail.aliases: lookup of 'root' failed\nMay 19 19:23:44 domainname postfix/local[17258]: C7C01A0C1F: to=<root@domainname.tld>, relay=local, delay=573, delays=573/0.01/0/0.01, dsn=4.3.0, status=deferred (alias database unavailable)\n. Ubuntu uses Apparmor instead of selinux.\nI sent a mail to the root user from my other mail account and no mail is received. I get no error on the other end either.  Noticed in /var/mail no user mail files (nobody for root) are being created. \n. Yes. Something more fundamental\n. I wanted to provide a solution I found that worked on multiple Ubuntu 14.04 LAMP servers. It will re-enable Postfix to provide mail services to Apache. Once this \"connection\" has been re-established PHPMailer will be able to function again, as it depends on a working Postfix configuration with mailtutils installed and working.\n(Non-programmer explanation) When Postfix is first installed the installer automatically configures itself allow existing softwares access to mail services by reading the exisiting configurations of the other softwares on the machine that are likely to use Postfix services. If after the PostFix installation the configuration of softwares that use Postfix services are changed, it is possible that the \"connection\" to Postfix can be severed. In this case there are two remedies that have been proven to re-establish the connection of softwares to Postfix.  The first is to run a dpkg reconfiguration, the second is to purge and reinstall Postfix.\nOPTION 1\n```\ndpkg-reconfigure postfix\n```\nIf this option does not work try purging Postfix from the system and reinstalling:\nOPTION 2\nSTEP 1 # apt-get purge postfix\nSTEP 2 # apt-get install postfix\nUpload and access the sample mail test script (provided below) from Apache to verify that PHP scripts runs under Apache user permissions can now send mail()\n<?php\n/*\nFrom http://www.html-form-guide.com \nThis is the simplest emailer one can have in PHP.\nIf this does not work, then the PHP email configuration is bad!\n*/\n$msg=\"\";\nif(isset($_POST['submit']))\n{\n    /* ****Important!****\n    replace name@your-web-site.com below \n    with an email address that belongs to \n    the website where the script is uploaded.\n    For example, if you are uploading this script to\n    www.my-web-site.com, then an email like\n    form@my-web-site.com is good.\n    */\n    $from_add = \"serverrootuseraddress@domain.tld\"; \n    $to_add = \"recipientaddress@domain.tld\"; //<-- put your yahoo/gmail email address here\n    $subject = \"CS7 Test Subject\";\n    $message = \"CS7 Test Message from samplemail.php\";\n    $headers = \"From: $from_add \\r\\n\";\n    $headers .= \"Reply-To: $from_add \\r\\n\";\n    $headers .= \"Return-Path: $from_add\\r\\n\";\n    $headers .= \"X-Mailer: PHP \\r\\n\";\n    if(mail($to_add,$subject,$message,$headers)) \n    {\n        $msg = \"Mail sent OK\";\n    } \n    else \n    {\n       $msg = \"Error sending email!\";\n    }\n}\n?>\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"> \n<html>\n<head>\n    <title>Test form to email</title>\n</head>\n<body>\n<?php echo $msg ?>\n<p>\n<form action='<?php echo htmlentities($_SERVER['PHP_SELF']); ?>' method='post'>\n<input type='submit' name='submit' value='Submit'>\n</form>\n</p>\n</body>\n</html>\n. ",
    "jeffrosenzweig": "Yes, that is one of the lines, but in general I think anything that changes the encoding to quoted-printable should first check to see if the message is multi-part.\nThe following appears to have fixed the issue for me:\n``` php\n//Use this method to determine if message is multipart\npublic function isMultipart() {\n        $ismultipart = true;\n        switch ($this->message_type) {\n            case 'inline':\n            case 'attach':\n            case 'inline_attach':\n            case 'alt_attach':\n            case 'alt_inline_attach':\n            case 'alt':\n            case 'alt_inline':\n                break;\n            default:\n                // Catches case 'plain': and case '':\n                $ismultipart = false;\n                break;\n        }\n    return $ismultipart;\n}\n\n```\n//check if is multi-part before switching to quoted-printable\n``` php\n public function createBody()\n    {\n        $body = '';\n        $ismultipart = $this->isMultipart();\n    //Create unique IDs and preset boundaries\n    $this->uniqueid = md5(uniqid(time()));\n    $this->boundary[1] = 'b1_' . $this->uniqueid;\n    $this->boundary[2] = 'b2_' . $this->uniqueid;\n    $this->boundary[3] = 'b3_' . $this->uniqueid;\n\n    if ($this->sign_key_file) {\n        $body .= $this->getMailMIME() . $this->LE;\n    }\n\n    $this->setWordWrap();\n\n    $bodyEncoding = $this->Encoding;\n    $bodyCharSet = $this->CharSet;\n    //Can we do a 7-bit downgrade?\n    if ($bodyEncoding == '8bit' and !$this->has8bitChars($this->Body)) {\n        $bodyEncoding = '7bit';\n        $bodyCharSet = 'us-ascii';\n    }\n    //If lines are too long, and we're not already using an encoding that will shorten them,\n    //change to quoted-printable transfer encoding\n    if ('base64' != $this->Encoding and !$ismultipart and self::hasLineLongerThanMax($this->Body)) {\n        $this->Encoding = 'quoted-printable';\n        $bodyEncoding = 'quoted-printable';\n    }\n\n    $altBodyEncoding = $this->Encoding;\n    $altBodyCharSet = $this->CharSet;\n    //Can we do a 7-bit downgrade?\n    if ($altBodyEncoding == '8bit' and !$this->has8bitChars($this->AltBody)) {\n        $altBodyEncoding = '7bit';\n        $altBodyCharSet = 'us-ascii';\n    }\n    //If lines are too long, and we're not already using an encoding that will shorten them,\n    //change to quoted-printable transfer encoding\n    if ('base64' != $altBodyEncoding and !$ismultipart and self::hasLineLongerThanMax($this->AltBody)) {\n        $altBodyEncoding = 'quoted-printable';\n    }\n\n```\n//getMailMIME should also be modified to use isMultipart()\n``` php\n    public function getMailMIME()\n    {\n        $result = '';\n        switch ($this->message_type) {\n            case 'inline':\n                $result .= $this->headerLine('Content-Type', 'multipart/related;');\n                $result .= $this->textLine(\"\\tboundary=\\\"\" . $this->boundary[1] . '\"');\n                break;\n            case 'attach':\n            case 'inline_attach':\n            case 'alt_attach':\n            case 'alt_inline_attach':\n                $result .= $this->headerLine('Content-Type', 'multipart/mixed;');\n                $result .= $this->textLine(\"\\tboundary=\\\"\" . $this->boundary[1] . '\"');\n                break;\n            case 'alt':\n            case 'alt_inline':\n                $result .= $this->headerLine('Content-Type', 'multipart/alternative;');\n                $result .= $this->textLine(\"\\tboundary=\\\"\" . $this->boundary[1] . '\"');\n                break;\n            default:\n                // Catches case 'plain': and case '':\n                $result .= $this->textLine('Content-Type: ' . $this->ContentType . '; charset=' . $this->CharSet);\n                break;\n        }\n        // RFC1341 part 5 says 7bit is assumed if not specified\n        if ($this->Encoding != '7bit') {\n            // RFC 2045 section 6.4 says multipart MIME parts may only use 7bit, 8bit or binary CTE\n            if ($this->isMultipart()) {\n                if ($this->Encoding == '8bit') {\n                    $result .= $this->headerLine('Content-Transfer-Encoding', '8bit');\n                }\n                // The only remaining alternatives are quoted-printable and base64, which are both 7bit compatible\n            } else {\n                $result .= $this->headerLine('Content-Transfer-Encoding', $this->Encoding);\n            }\n        }\n    if ($this->Mailer != 'mail') {\n        $result .= $this->LE;\n    }\n\n    return $result;\n}\n\n```\n. To get the email to work properly, I had to comment out both lines:\nphp\nif ('base64' != $this->Encoding and self::hasLineLongerThanMax($this->Body)) {\n            #$this->Encoding = 'quoted-printable';\n            #$bodyEncoding = 'quoted-printable';\n        }\nIf it helps, the message_type is 'alt' and there are two message parts: text/plain & text/html.\nWhen viewing the email in Outlook 2010 and viewing the email in Office365 via my browser, the quoted-printable encoding isn't decoded properly. This appears to happen for any sub-part encoded with 'quoted-printable' - maybe it's an issue with those clients.\n. It doesn't fix the issue for me.\n. ",
    "niteshluharuka": "This issue was created when we had classes with same names. The issues has been resolved.\n. This would be a great addition.\n. ",
    "kalpeshpatil75": "I tried using the tls connection with 587 port.\nThis also not working for me.\nIs there any IIS related SMTP configuration i am missing?\n. Gmail is not allowing to send messages over SMTP server bydefault. So I have using now SMTP server of Yahoo and it is working fine for me.\nThanks\n. ",
    "pvagare": "I tried using the tls connection with 587 port.\nThis also not working for me.\nPlease let us know your comments.\n. ",
    "geethujais": "I have the same problem. When I try to send mail, it shows the following error\nError : SMTP ERROR: Failed to connect to server: (0) 2017-12-20 04:24:41    SMTP connect() failed.\nHere is my code\n                $mail = new PHPMailer();\n                $to_id = $_POST['toid'];\n                $message = $_POST['message'];\n                 $subject = $_POST['subject'];\n\n                $mail->isSMTP();\n\n                $mail->Host = 'smtp.gmail.com';\n\n                $mail->Port = 465;\n\n                $mail->SMTPSecure = 'ssl';\n\n                $mail->SMTPAuth = true;\n\n                $mail->SMTPDebug = 2;\n\n                $mail->Username = 'noreply.xxxxx@gmail.com';\n\n                $mail->Password = 'xxxxxxxx';\n\n                $mail->setFrom('noreply.xxxxxx@gmail.com', 'Webmaster');\n\n                $mail->addAddress($to_id);\n\n                $mail->Subject = $subject;\n\n                $mail->msgHTML($message);\n\n                if (!$mail->send()) {\n                   $error = \"Mailer Error: \" . $mail->ErrorInfo;\n                    ?><script>alert('<?php echo $error ?>');</script><?php\n                } \n                else {\n                   echo '<script>alert(\"Message sent!\");</script>';\n                }`.\n",
    "ckaitlynmathers": "I have already done and read the troubleshooting guide but I still get the same error. I don't know why I still have this SMTP ERROR: Failed to connect to server: (0)\nSMTP connect() failed. \n . ",
    "arkid": "Hi @Synchro I've just done tests looking at the headers of an email sent with mail() and with phpmailer (using sendmail) and the \"reply-to\" header from php mailer is always the php generated email address which isn't for my domain.   So from what I see it isn't using the -f switch.\nI've just used the latest version of the class from github btw.\n. Ok... so it only uses it when the sender is blank, not in all circumstances.   Thanks for pointing me to this.\n. Ok sorry yes of course yes you are correct.   ;)\n. No... what I wrote earlier today still stands.  Even if the phpmailer code is apparently running the -f switch, the headers I get running phpmailer against mail(), specifically in terms of \"Return-Path\" are different.\n. Sorry!  I meant \"Return-Path\".   I have corrected in previous comment.\n. ",
    "Stoupa-tr": "Hi, friend,\nthank you for answer.\nmy php is utf-8 and in my php is:\nmb_internal_encoding(\"UTF-8\");\nSetLocale(LC_ALL, \"Czech\");\ndate_default_timezone_set(\"Europe/Prague\");\nNext in my php class is this:\n$mail->CharSet = 'utf-8';\nOnly problem is the subject of the letter \u0159 and \u011b( word m\u011b\u0159en\u00ed)\n\u00cd word is good (and others - \u00e1 etc.)\nThank.\n. Hi, THX,\nShipped standard PHP mailer (public $CharSet = 'iso-8859-1';)\n\n-- Detail mail: \n```\nTo: stoupa-tr@seznam.cz\nSubject: =?utf-8?Q?Denn=ED_statistika_|www.stasi.cz(m=EC=F8en=ED_dostupnosti)...?=\nX-PHP-Originating-Script: 1001:class.phpmailer.php\nDate: Tue, 31 May 2016 00:05:01 +0200\nFrom: =?utf-8?Q?Port=E1l_www=2Estasi=2Ecz=2E=2E=2E?= mereni@stasi.cz\nReply-To: =?utf-8?Q?Port=E1l_www=2Estasi=2Ecz=2E=2E=2E?= mereni@stasi.cz\nMessage-ID: d41bd56836657dfa0e1403549efa246c@localhost.localdomain\nX-Priority: 3\nX-Mailer: PHPMailer 5.2.6 (https://github.com/PHPMailer/PHPMailer/)\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n    boundary=\"b1_d41bd56836657dfa0e1403549efa246c\"\n--b1_d41bd56836657dfa0e1403549efa246c\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: 8bit\nChcete-li zobrazit zpravu, pouzijte kompatibiln\ufffd HTML e-mailovy prohlizec!\n```\nand if im change at UTF-8 ($mail->CharSet = 'utf-8';)\n\n-- Detail mail: \n```\nTo: stoupa-tr@seznam.cz\nSubject: =?utf-8?Q?Denn=ED_statistika_|www.stasi.cz(m=EC=F8en=ED_dostupnosti)...?=\nX-PHP-Originating-Script: 1001:class.phpmailer.php\nDate: Tue, 31 May 2016 00:05:01 +0200\nFrom: =?utf-8?Q?Port=E1l_www=2Estasi=2Ecz=2E=2E=2E?= mereni@stasi.cz\nReply-To: =?utf-8?Q?Port=E1l_www=2Estasi=2Ecz=2E=2E=2E?= mereni@stasi.cz\nMessage-ID: d41bd56836657dfa0e1403549efa246c@localhost.localdomain\nX-Priority: 3\nX-Mailer: PHPMailer 5.2.6 (https://github.com/PHPMailer/PHPMailer/)\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n    boundary=\"b1_d41bd56836657dfa0e1403549efa246c\"\n--b1_d41bd56836657dfa0e1403549efa246c\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: 8bit\n```\nthx.\n. same:\n```\nSubject: =?utf-8?Q?Denn=ED_statistika_|www.stasi.cz(m=EC=F8en=ED_dostupnosti)...?=\nX-PHP-Originating-Script: 1001:class.phpmailer.php\nDate: Tue, 31 May 2016 17:05:01 +0200\nFrom: =?utf-8?Q?Port=E1l_www=2Estasi=2Ecz=2E=2E=2E?= mereni@stasi.cz\nMessage-ID: 430cf442cfd269b552cdb12de031833e@stasi\nX-Mailer: PHPMailer 5.2.15 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n    boundary=\"b1_430cf442cfd269b552cdb12de031833e\"\nContent-Transfer-Encoding: 8bit\nThis is a multi-part message in MIME format.\n--b1_430cf442cfd269b552cdb12de031833e\nContent-Type: text/plain; charset=utf-8\nContent-Transfer-Encoding: 8bit\nChcete-li zobrazit zpravu, pouzijte kompatibiln\ufffd HTML e-mailovy prohlizec!\n```\nTHX..\n. Hi, same problems :-( \nAnd im chge type :multipart/alternative;  send only html and again bad..\nThx for help.\n. HI,\nim test and you right. Im Netbeans and this not UFT-8 , ven though I have set PHP UTF-8.\nSorry, thank you very much for your help.\nGood luck in further development.\n. ",
    "ardabalkans": "Thank you so much!\n. ",
    "NielBuys": "Thanks for the reply, i am continuing my fault finding i am just posting here maybe you see the problem before i do:\nTo test my username and password i hardcoded it into my php code:\n$mail->Username = 'xxx';                 // SMTP username\n$mail->Password = 'yyy';                           // SMTP password\nLocally on my development machine it sends without a problem see below the success log. But still my live server fails with the exact same username and password hardcoded.\nHopefully i have removed all identifiable info from the logs.\nLocal pass logs\n```\n2016-06-02 13:03:05 Connection: opening to 65.55.176.126:587, timeout=300, options=array ( ) \n2016-06-02 13:03:05 Connection: opened \n2016-06-02 13:03:06 SERVER -> CLIENT: 220 BLU436-SMTP241.smtp.hotmail.com Microsoft ESMTP MAIL Service, Version: 8.0.9200.16384 ready at Thu, 2 Jun 2016 06:03:07 -0700\n2016-06-02 13:03:06 CLIENT -> SERVER: EHLO localhost \n2016-06-02 13:03:06 SERVER -> CLIENT: 250-BLU436-SMTP241.smtp.hotmail.com Hello [154.70.211.42] 250-TURN 250-SIZE 41943040 250-ETRN 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-8bitmime 250-VRFY 250-TLS 250-STARTTLS 250 OK \n2016-06-02 13:03:06 CLIENT -> SERVER: STARTTLS \n2016-06-02 13:03:06 SERVER -> CLIENT: 220 2.0.0 SMTP server ready \n2016-06-02 13:03:07 CLIENT -> SERVER: EHLO localhost \n2016-06-02 13:03:07 SERVER -> CLIENT: 250-BLU436-SMTP241.smtp.hotmail.com Hello [154.70.211.42] 250-TURN 250-SIZE 41943040 250-ETRN 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-8bitmime 250-VRFY 250-AUTH LOGIN PLAIN XOAUTH2 250 OK \n2016-06-02 13:03:07 CLIENT -> SERVER: AUTH LOGIN \n2016-06-02 13:03:08 SERVER -> CLIENT: 334 VXNlcm5hbWU6 \n2016-06-02 13:03:08 CLIENT -> SERVER: xxx== \n2016-06-02 13:03:08 SERVER -> CLIENT: 334 UGFzc3dvcmQ6 \n2016-06-02 13:03:08 CLIENT -> SERVER: xxx== \n2016-06-02 13:03:09 SERVER -> CLIENT: 235 2.7.0 Authentication succeeded \n2016-06-02 13:03:09 CLIENT -> SERVER: MAIL FROM: \n2016-06-02 13:03:09 SERVER -> CLIENT: 250 2.1.0 xxx....Sender OK \n2016-06-02 13:03:09 CLIENT -> SERVER: RCPT TO: \n2016-06-02 13:03:09 SERVER -> CLIENT: 250 2.1.5 xxx \n2016-06-02 13:03:09 CLIENT -> SERVER: DATA \n2016-06-02 13:03:09 SERVER -> CLIENT: 354 Start mail input; end with . \n2016-06-02 13:03:09 CLIENT -> SERVER: Date: Thu, 2 Jun 2016 15:03:05 +0200 \n2016-06-02 13:03:09 CLIENT -> SERVER: To: Piet Pompies \n2016-06-02 13:03:09 CLIENT -> SERVER: From: xxx \n2016-06-02 13:03:09 CLIENT -> SERVER: Subject: Voltooi asb die vorm \n2016-06-02 13:03:09 CLIENT -> SERVER: Message-ID: 183d136418a3384a846f02321b29cc4f@localhost \n2016-06-02 13:03:09 CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.15 (https://github.com/PHPMailer/PHPMailer) \n2016-06-02 13:03:09 CLIENT -> SERVER: MIME-Version: 1.0 \n2016-06-02 13:03:09 CLIENT -> SERVER: Content-Type: multipart/alternative; \n2016-06-02 13:03:09 CLIENT -> SERVER: boundary=\"b1_183d136418a3384a846f02321b29cc4f\" \n2016-06-02 13:03:09 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit \n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER: This is a multi-part message in MIME format. \n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER: --b1_183d136418a3384a846f02321b29cc4f \n2016-06-02 13:03:09 CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii \n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER: Piet Pompies \n2016-06-02 13:03:09 CLIENT -> SERVER: Find the links below. \n2016-06-02 13:03:09 CLIENT -> SERVER: http://localhost:81/formsncomp/url.php?uid=9d9d13a5b95f65bd7d981d7cc77e213f&surv=7 \n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER:\n2016-06-02 13:03:09 CLIENT -> SERVER: Regards, \n2016-06-02 13:03:09 CLIENT -> SERVER: xxx \n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER: --b1_183d136418a3384a846f02321b29cc4f \n2016-06-02 13:03:09 CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii \n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER:\nPiet Pompies\n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER:\nVoltooi asb die vorm in deur te druk op onderstaande skakel.\n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER:\nVW1 Link\n2016-06-02 13:03:09 CLIENT -> SERVER: 2016-06-02 13:03:09 CLIENT -> SERVER:\nGroete\n2016-06-02 13:03:09 CLIENT -> SERVER: 2016-06-02 13:03:09 CLIENT -> SERVER:\nxxx\n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER: --b1_183d136418a3384a846f02321b29cc4f-- \n2016-06-02 13:03:09 CLIENT -> SERVER: \n2016-06-02 13:03:09 CLIENT -> SERVER: . \n2016-06-02 13:03:18 SERVER -> CLIENT: 250 2.6.0 183d136418a3384a846f02321b29cc4f@localhost Queued mail for delivery \n2016-06-02 13:03:18 CLIENT -> SERVER: QUIT \n2016-06-02 13:03:18 SERVER -> CLIENT: 221 2.0.0 BLU436-SMTP241.smtp.hotmail.com Service closing transmission channel \n2016-06-02 13:03:18 Connection: closed \n```\nLive server failed logs\n2016-06-02 13:11:55 Connection: opening to 65.55.176.126:587, timeout=300, options=array ( ) \n2016-06-02 13:11:55 Connection: opened \n2016-06-02 13:11:55 SERVER -> CLIENT: 220 BLU436-SMTP186.smtp.hotmail.com Microsoft ESMTP MAIL Service, Version: 8.0.9200.16384 ready at Thu, 2 Jun 2016 06:11:55 -0700 \n2016-06-02 13:11:55 CLIENT -> SERVER: EHLO forms.ncomp.co.za \n2016-06-02 13:11:56 SERVER -> CLIENT: 250-BLU436-SMTP186.smtp.hotmail.com Hello [88.198.228.13] 250-TURN 250-SIZE 41943040 250-ETRN 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-8bitmime 250-BINARYMIME 250-CHUNKING 250-VRFY 250-TLS 250-STARTTLS 250 OK \n2016-06-02 13:11:56 CLIENT -> SERVER: STARTTLS \n2016-06-02 13:11:56 SERVER -> CLIENT: 220 2.0.0 SMTP server ready \n2016-06-02 13:11:56 CLIENT -> SERVER: EHLO forms.ncomp.co.za \n2016-06-02 13:11:56 SERVER -> CLIENT: 250-BLU436-SMTP186.smtp.hotmail.com Hello [88.198.228.13] 250-TURN 250-SIZE 41943040 250-ETRN 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-8bitmime 250-BINARYMIME 250-CHUNKING 250-VRFY 250-AUTH LOGIN PLAIN XOAUTH2 250 OK \n2016-06-02 13:11:56 CLIENT -> SERVER: AUTH LOGIN \n2016-06-02 13:11:56 SERVER -> CLIENT: 334 VXNlcm5hbWU6 \n2016-06-02 13:11:56 CLIENT -> SERVER: xxx== \n2016-06-02 13:11:56 SERVER -> CLIENT: 334 UGFzc3dvcmQ6 \n2016-06-02 13:11:56 CLIENT -> SERVER: xxx== \n2016-06-02 13:11:56 SERVER -> CLIENT: 535 5.0.0 Authentication Failed \n2016-06-02 13:11:56 SMTP ERROR: Password command failed: 535 5.0.0 Authentication Failed \n2016-06-02 13:11:56 SMTP Error: Could not authenticate. \n2016-06-02 13:11:56 CLIENT -> SERVER: QUIT \n2016-06-02 13:11:56 SERVER -> CLIENT: 221 2.0.0 BLU436-SMTP186.smtp.hotmail.com Service closing transmission channel \n2016-06-02 13:11:56 Connection: closed \n2016-06-02 13:11:56 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nThanks in advance\n. I don't know if this makes a difference. On my development environment i don't have an active ipv6 connection. But on my live server the ipv6 is active.\nI have tried the ipv6 paragraph you have on the troubleshooting guide. But it didn't work.\n. What do you mean do you want me to compare the xxx values that i removed on the 2 error reports.\n. The pass and fail log matches on this 4 lines of the log.\n2016-06-02 13:03:07 CLIENT -> SERVER: AUTH LOGIN \n2016-06-02 13:03:08 SERVER -> CLIENT: 334 VXNlcm5hbWU6 \n2016-06-02 13:03:08 CLIENT -> SERVER: xxx== \n2016-06-02 13:03:08 SERVER -> CLIENT: 334 UGFzc3dvcmQ6 \n2016-06-02 13:03:08 CLIENT -> SERVER: xxx==\n. If I base64_decode them they are the correct username and password.\n. \"smtp-mail.outlook.com\" is the host that I use. Microsoft probably routes it or something.\n. I got the info from the same link as you posted.\n. Thanks for the help. You wouldn't probably know who to contact. I don\"t  think the calll centre will know anything about this. I will see what i can find.\n-----Oorspronklike Boodskap-----\nVan: \"Marcus Bointon\" notifications@github.com\nGestuur: \u200e02/\u200e06/\u200e2016 05:48 nm.\nAan: \"PHPMailer/PHPMailer\" PHPMailer@noreply.github.com\nAA: \"NielBuys\" nbuys@ncomp.co.za; \"Author\" author@noreply.github.com\nOnderwerp: Re: [PHPMailer/PHPMailer] SMTP Auth problem (#741)\nOk, well I think you need to open a support ticket with them as there doesn't seem to be anything wrong at your end.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Yes problem found.\nMy server is in Germany and I live in South Africa. Microsoft found the activity as suspicious. You go onto your live account onto the following link: https://account.live.com/Activity And press on the Germany activity and press the button \"this is me\". Then the smtp started to work.\n. ",
    "frank12311": "Attachment is valid, same issue with PDF's. (ttf and pdf only ones tried so far)\n``` php\n<?php\nrequire 'PHPMailer/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n//$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->setFrom('info@mail.com', 'Mailer');\n$mail->addAddress('info@mail.com', 'Joe User');     // Add a recipient\n$mail->addAttachment('fonts/metro.ttf');         // Add attachments\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body in bold!';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n```\n. @Synchro Any idea? I love phpmailer, i would hate to switch to something else just becouse we encounter this error with attachments.\n. Thank you for your reply, addAttachment returns true.\n\n. Thanks for your reply.\nI found inside the message the following HTML:\n<br><pre>\n(null)</pre><br>\n<br><pre>\n(null)</pre><br>\nAnd realized this was added by our disclaimer software. (even tho its not configured to add anything on this particulair e-mailadress)\nI am sorry to have bothered you with this problem. Problem solved.\n. ",
    "DePalmo": "Will try that, thank you for your response.\n. ",
    "sharda123": "Please provide me any solution, Because i waste my too much time in this task and now i want to solution. so please...\n. ",
    "vbijan": "this is my code not receiving email... please help\n``` php\n<?php\nrequire_once \"vendor/autoload.php\";\n//PHPMailer Object\n$mail = new PHPMailer;\n//From email address and name\n$mail->From = \"bijan.gopali@yahoo.com\";\n//$mail->FromName = \"Full Name\";\n//To address and name\n$mail->addAddress(\"gopalibijan@gmail.com\"); //Recipient name is optional\n//Address to which recipient will reply\n$mail->addReplyTo(\"gopalibijan@gmail.com\");\n// //CC and BCC\n// $mail->addCC(\"cc@example.com\");\n// $mail->addBCC(\"bcc@example.com\");\n//Send HTML or Plain Text email\n$mail->isHTML(true);\n$mail->Subject = \"Subject Text\";\n$mail->Body = \"Mail body in HTML\";\n$mail->AltBody = \"This is the plain text version of the email content\";\nif(!$mail->send()) \n{\n    echo \"Mailer Error: \" . $mail->ErrorInfo;\n} \nelse \n{\n    echo \"Message has been sent successfully\";\n}\n?>\n```\n. i did use SMTP before but the username i gave sent message rather than mail->FROM.. any suggestions?\n. ",
    "nalindaDJ": "Thanks buddy, got it worked with latest version. \n. ",
    "Ayesh": "Retrying the tests. It failed due to an internal issue I believe.\n. ",
    "amberino": "$message = '<div style=\"Margin-left: 20px;Margin-right: 20px;text-align: left; font-size:16px; line-height:24px;font-family: roboto,tahoma,sans-serif;color:#4e5561;\"><p style=\"Margin-top: 0;Margin-bottom: 0;\">Thanks for taking the time out of your very busy day to fill out our form. One of our wonderful representatives will contact you soon. While you wait, we&rsquo;ve included some things specifically just for you. Enjoy!&nbsp;</p><p style=\"Margin-top: 20px;Margin-bottom: 20px;\"><a href=\"http://info.iacmedsupp.com/map/\" style=\"text-decoration: underline;transition: opacity 0.1s ease-in;color: #2186b8;\">IAC Rate Adjustment Map</a>.&nbsp;</p><p style=\"Margin-top: 20px;Margin-bottom: 20px;\">Thank you,<br />Heartland Financial Group</p></div>';\n```\n            //send reply to email to user\n            require 'phpmailer/PHPMailerAutoload.php';\n            $mail = new PHPMailer;\n            $mail->IsSendmail();\n            $mail->setFrom('aking@e-hfg.com', 'Amber King');\n            $mail->addAddress($email);\n            $mail->Subject = 'Thanks for Your Interest! Sweet Stuff Inside.';\n            $mail->isHTML(true);\n            $mail->Body = wordwrap($message, 70);\n            $mail->AltBody = 'Thanks for your interest in IAC!\\n\\nOne of our wonderful representatives will contact you soon. While you wait, take a gander at the items we\u2019ve attached for your viewing pleasure.\\n\\nThank you,\\nHeartland Financial Group';\n            //array of iac states\n            $stateArray = array(\"AK\", \"AL\", \"AR\", \"AZ\", \"CA\", \"CO\", \"DE\", \"IA\", \"ID\", \"IL\", \"IN\", \"KS\", \"KY\", \"LA\", \"MD\", \"MI\", \"MN\", \"MO\", \"MS\", \"MT\", \"NC\", \"ND\", \"NE\", \"NJ\", \"NM\", \"NV\", \"OH\", \"OK\", \"OR\", \"PA\", \"SC\", \"SD\", \"TN\", \"TX\", \"UT\", \"VA\", \"WI\", \"WV\", \"WY\");\n            $arrayLength = count($stateArray);\n            //loop through array and checking if user data matches. if so attach rate and app packet.\n            for($x = 0; $x < $arrayLength; $x++){\n                if(preg_match('/'.$stateArray[$x].'/', $state)) {\n                    $mail->addAttachment('docs/'.$stateArray[$x].'.pdf');\n                    $mail->addAttachment('docs/app-packets/IAC-'.$stateArray[$x].'-Packet-2016.pdf');\n                } \n            }\n        //send the message, check for errors\n        if (!$mail->send()) {\n            echo \"Mailer Error: \" . $mail->ErrorInfo;\n        } else {\n            //echo \"Message sent!\";\n            // set our boolean completion value to TRUE\n            $emailSent = true;\n        }\n\n```\n. I do not receive any error. The email just doesn't get sent. I was using SendMail because that's what was included in one of the examples. \n. Here is the article i found regarding the single line limit: http://www.ehow.com/info_12198732_php-mail-character-limit.html\n. Okay, thank you for your help.\n. I am now sending using the SMTP option and get a returned email with error: Message rejected for spam or virus content. I only get this error if message is over 500 characters. I spoke with hosting provider and they say it is not a server issue. I've tried sending to different email servers with same results. Any suggestions?\n. debug-output.txt\n. Yes it was in a bounced message. I discovered the issue lies with me using a link. The message is sent successfully and is received as long as it does not contain a link. When the message contains a link, that is when I get the returned email. Sorry for all the trouble. My first assumption about the issue being the number of characters was wrong. Thanks for you help.\n. ",
    "mooncloudmoon": "Yeah, you are right. I didn't use the autoload.\nThis is my first time to use phpmailer, thank you very much.\n----- \u539f\u59cb\u90ae\u4ef6 -----\n\u53d1\u4ef6\u4eba\uff1aMarcus Bointon notifications@github.com\n\u6536\u4ef6\u4eba\uff1aPHPMailer/PHPMailer PHPMailer@noreply.github.com\n\u6284\u9001\u4eba\uff1amooncloudmoon mooncloudmoon@sina.com,  Author author@noreply.github.com\n\u4e3b\u9898\uff1aRe: [PHPMailer/PHPMailer] phpmailer 5.2 stable (#756)\n\u65e5\u671f\uff1a2016\u5e7406\u670822\u65e5 16\u70b918\u5206\nNo, it just means you didn't read the docs. Look at the readme file where it tells you how to load PHPMailer classes.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. ",
    "javicaballero": "I have the same issue with turboSMTP, that is a smtp server provider. More info: https://serversmtp.com\nIt only works using their API: https://serversmtp.com/turbo-api/#send-email\nI can't use their API because we use Moodle Learning Platform that uses PHPMailer to send mails.. ",
    "sweepyoface": "The issue with that is it shows everyone it was sent to in the email header, and I need to include a unique unsubscribe code for each email.\n. ",
    "acollados": "ok..I'm sorry. ",
    "boozy1": "The problem can be obfuscated. In some cases the smtp server will correct the inconsistent CR+LF en LF usage.\nAlso, the inconsistent CR+LF vs single LF starts after the headers, after the line \"This is a multi-part message in MIME format.\" So it only comes clear when viewing the full original message with a text editor that can display CR and LF codes.\n. ",
    "marcelmolenaar": "Thanks Marcus, i downloaded version 6.0 but i still see: public $LE = \"\\n\"; there so that will be a problem again or did i download the wrong version?\n. I am not very into github site, i just selected branche 6.0 in de select menu at the left and downloaded the zip file.\n. ",
    "arnested": "OK, I added backward compatibility handling in setLanguage().\n. ",
    "aduh95": "I get that UTF-8 is not the absolute best choice, but I think it's a better choice as a default encoding: ISO-8859-1 is limited to 189 characters, and many applications offer more possibilities to their users (from emoji to different alphabets). Especially if PHPMailer optimises automatically for full ASCII emails as you said, I don't see why ISO-8859-1 should remain as default encoding charset.\n. I get that UTF-8 is not the absolute best choice, but I think it's a better choice as a default encoding: ISO-8859-1 is limited to 189 characters, and many applications offer more possibilities to their users (from emoji to different alphabets). Especially if PHPMailer optimises automatically for full ASCII emails as you said, I don't see why ISO-8859-1 should remain as default encoding charset.\n. Actually, Symfony's polyfills have PHPUnit test implemented, you can find the Mbstring one here.\nI'd suggest that we highly encourage users to activate the Mbstring extension, especially if they're not  using Composer or using a different encoding. For those who don't want to or cannot, the polyfill implementation is good enough as far as I'm concerned, since iconv is enabled by default in all supported versions of PHP.\nAbout linking to Symfony components, as the library is under MIT license, we could \"copy/paste\" the code into the PHPMailer repo, but we don't want to do that, do we? \u263a You have certainly already noticed that this mbstring library is performance-wise harmless when the real PHP extension is activated.\nAbout test cases, I'm kind of a newbie on that, what do you want me to do? To replace in the phpmailerTest.php ISO-8859-1 by UTF-8 and vice versa? I feel like it must something a bit more complicated than that...\n. > nowadays, anno 2016, it is difficult to imagine hosting with mbstring disabled.\nAs @Synchro said:\n\nThat it often is installed isn't really the point - it's not the job of a library to dictate such requirements.\n\nAnd if many users won't use composer, I disagree that it's a difficult way to install a library or a dependency: there are plenty of tutorials all over the web; even more it is a good practice and PHPMailer does encourage it. Whatever the hosting policies you have to deal with, it doesn't matter if you have downloaded the PHP files manually or through Composer, it's PHP files anyway.\nIf we don't want PHPMailer to have any dependency, maybe ISO-8859-1 should remain PHPMailer's default encoding charset?\n. Could I? The Git documentation says:\n\nDo not rebase commits that exist outside your repository.\nIf you follow that guideline, you\u2019ll be fine. If you don\u2019t, people will hate you, and you\u2019ll be scorned by friends and family.\n\nWhen I try, it seems to affect only my fork repo, and not this pull request. If you want to avoid to merge, you may close my pull request and make a commit on your own. In the end, the only file that changed is composer.json in my commit c5ab0d47f74dc8fdbe51c129ab76c245c3c66920.\n. BTW @Synchro, should I update the lock file? I'm not sure it's up to me.\n. Indeed! Thanks for pointing out \ud83d\ude09\n. ",
    "gbittmann": "The same command from our server.\n```\nopenssl s_client -connect smtp.gmail.com:587 -starttls smtp\nCONNECTED(00000003)\ndepth=3 C = US, O = Equifax, OU = Equifax Secure Certificate Authority\nverify return:1\ndepth=2 C = US, O = GeoTrust Inc., CN = GeoTrust Global CA\nverify return:1\ndepth=1 C = US, O = Google Inc, CN = Google Internet Authority G2\nverify return:1\ndepth=0 C = US, ST = California, L = Mountain View, O = Google Inc, CN = smtp.gmail.com\nverify return:1\n\nCertificate chain\n 0 s:/C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com\n   i:/C=US/O=Google Inc/CN=Google Internet Authority G2\n 1 s:/C=US/O=Google Inc/CN=Google Internet Authority G2\n   i:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\n 2 s:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\n   i:/C=US/O=Equifax/OU=Equifax Secure Certificate Authority\n\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIEgDCCA2igAwIBAgIIfMman9+czWkwDQYJKoZIhvcNAQELBQAwSTELMAkGA1UE\nBhMCVVMxEzARBgNVBAoTCkdvb2dsZSBJbmMxJTAjBgNVBAMTHEdvb2dsZSBJbnRl\ncm5ldCBBdXRob3JpdHkgRzIwHhcNMTYwNjMwMTQ1ODM5WhcNMTYwOTIyMTQ1MzAw\nWjBoMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwN\nTW91bnRhaW4gVmlldzETMBEGA1UECgwKR29vZ2xlIEluYzEXMBUGA1UEAwwOc210\ncC5nbWFpbC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCG2pVu\nNQl/MS3rRXTfsvMVqRwnq1Wp5lfZQzirPFDq5zVPZdUjFuvXWSARG3jTgWQmImxF\n5LHadoDT/1hUcvXdHVMDToGidd7oS34uB0tJMzg5V5EYngpNapk5tG+1RnmATMGp\n/FadP/ua5w4SQSy+HelVQDLEPBw69vaCvwVUpE/++36fJejxd3PFQTgOyxzfK7hO\nq6kjD5CU22lhdg+/DBlO6jt/3k3s0870JJDzG5yPhRTQray/q82W0rdi7nSIBrpz\nq0QjwrcqeTvEXn+WIMTKNar2pYMJ+3FM/IzMLxOZBdbkDIeC8hdOfc4nDCRHF9xr\nGCBaa1mIoVWfOatlAgMBAAGjggFLMIIBRzAdBgNVHSUEFjAUBggrBgEFBQcDAQYI\nKwYBBQUHAwIwGQYDVR0RBBIwEIIOc210cC5nbWFpbC5jb20waAYIKwYBBQUHAQEE\nXDBaMCsGCCsGAQUFBzAChh9odHRwOi8vcGtpLmdvb2dsZS5jb20vR0lBRzIuY3J0\nMCsGCCsGAQUFBzABhh9odHRwOi8vY2xpZW50czEuZ29vZ2xlLmNvbS9vY3NwMB0G\nA1UdDgQWBBRuqJafObl4pMJL80jVAaHoQvtvyTAMBgNVHRMBAf8EAjAAMB8GA1Ud\nIwQYMBaAFErdBhYbvPZotXb1gba7Yhq6WoEvMCEGA1UdIAQaMBgwDAYKKwYBBAHW\neQIFATAIBgZngQwBAgIwMAYDVR0fBCkwJzAloCOgIYYfaHR0cDovL3BraS5nb29n\nbGUuY29tL0dJQUcyLmNybDANBgkqhkiG9w0BAQsFAAOCAQEAZWAOHh4qrhVxHqfZ\nkZGrVKOksEZcjqB1sS1R3vue7L9BcReufk/SsdQHn+Uo3UKgC0BJpiP0cZ+Du4ni\nT4vUFdylXdz+N8eHCOx9lct2rcg2cEZI9nVCiQxKjXDF0eHguOrSOMt5v7cnKFei\nC8fM2kfpmXSNyWpj/P38AOtjskBHBwfzdNEnro9xODMRNnp66bnGWXnOlAgi3vup\nuTzYMTID/qE+uBKuXEvX050AqMM/DcB1DKUy97iJe8MjyHwrELJbBkIqP5gkNQsY\njOJ6ZzgW2aeCVCCoBw/EfpDYXCL6oKnn/2NJalWAfwCL7hO+DVsCKoXRBJA+eTob\nUmrB4g==\n-----END CERTIFICATE-----\nsubject=/C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com\nissuer=/C=US/O=Google Inc/CN=Google Internet Authority G2\n---\nNo client certificate CA names sent\nServer Temp Key: ECDH, prime256v1, 256 bits\n---\nSSL handshake has read 3982 bytes and written 408 bytes\n---\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES128-GCM-SHA256\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES128-GCM-SHA256\nSSL-Session:\n    Protocol  : TLSv1.2\n    Cipher    : ECDHE-RSA-AES128-GCM-SHA256\n    Session-ID: 650672210E4701A6C38F4A98F69C060DB7D4DF283CBA7C2D96EAC460096FA56B\n    Session-ID-ctx: \n    Master-Key: B47A0684EC080F4B78F7B285E3900F472B67ADAC5C2C6319AE4C91713BFCAF4EDD704728C953964B1DFE754B94550D\n5F\n    Key-Arg   : None\n    Krb5 Principal: None\n    PSK identity: None\n    PSK identity hint: None\n    TLS session ticket lifetime hint: 100800 (seconds)\n    TLS session ticket:\n    0000 - 33 bb ab db fb dc b3 9b-04 4c b1 a3 4a c5 c6 45   3........L..J..E\n    0010 - a3 a3 0a 4d 3d 1a 04 31-af f0 48 ea 9a 6a ae 38   ...M=..1..H..j.8\n    0020 - ef 6a 4c 8e 55 5a 19 a9-35 c3 de 61 9b 4f fd 24   .jL.UZ..5..a.O.$\n    0030 - 1b eb 19 b7 da d1 9a 34-ec 1b f8 83 f3 80 5c 23   .......4......#\n    0040 - ca fd 34 82 ac 35 48 32-af 5e d4 51 5e 33 ca 56   ..4..5H2.^.Q^3.V\n    0050 - 54 d1 f3 49 d2 19 75 bc-33 26 06 fe 70 b8 a0 75   T..I..u.3&..p..u\n    0060 - a0 d3 11 d8 77 27 2d a2-83 f7 b8 db 3f 2b 47 c1   ....w'-.....?+G.\n    0070 - ed ae b3 db 9c 24 0a d0-00 2e 94 92 55 8f bb 61   .....$......U..a\n    0080 - 20 0c 20 24 7d ab d0 5e-a8 d8 fc 1a 72 b1 dc 70    . $}..^....r..p\n    0090 - 6a 82 5d e3 41 cb 4a 1d-e5 fc 59 41 4c 78 cd ec   j.].A.J...YALx..\n    00a0 - 80 70 12 14                                       .p..\n    Start Time: 1468002009\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n250 SMTPUTF8\n```\nReferencing this: \nhttps://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting#php-56-certificate-verification-failure\nWe started with the all security disabled version from the wiki, which worked.\nWe then put verify_peer as true, as well as turned allow_self_signed to false, still works. \nIf we add verify_peer_name to true the connection fails.\nHere are the settings we have working.\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => true,\n        'verify_peer_name' => false,\n        'allow_self_signed' => false\n    )\n);\nThese are the only settings where it would run for us both prod (lamp) and dev (wamp), we're using php 7 if it matters.\nIf it's something specific to our environment only, that's fine, at least someone will have a shot at finding this if they run a similar environment with the same issue.\n. The same command from our server.\n```\nopenssl s_client -connect smtp.gmail.com:587 -starttls smtp\nCONNECTED(00000003)\ndepth=3 C = US, O = Equifax, OU = Equifax Secure Certificate Authority\nverify return:1\ndepth=2 C = US, O = GeoTrust Inc., CN = GeoTrust Global CA\nverify return:1\ndepth=1 C = US, O = Google Inc, CN = Google Internet Authority G2\nverify return:1\ndepth=0 C = US, ST = California, L = Mountain View, O = Google Inc, CN = smtp.gmail.com\nverify return:1\n\nCertificate chain\n 0 s:/C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com\n   i:/C=US/O=Google Inc/CN=Google Internet Authority G2\n 1 s:/C=US/O=Google Inc/CN=Google Internet Authority G2\n   i:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\n 2 s:/C=US/O=GeoTrust Inc./CN=GeoTrust Global CA\n   i:/C=US/O=Equifax/OU=Equifax Secure Certificate Authority\n\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIEgDCCA2igAwIBAgIIfMman9+czWkwDQYJKoZIhvcNAQELBQAwSTELMAkGA1UE\nBhMCVVMxEzARBgNVBAoTCkdvb2dsZSBJbmMxJTAjBgNVBAMTHEdvb2dsZSBJbnRl\ncm5ldCBBdXRob3JpdHkgRzIwHhcNMTYwNjMwMTQ1ODM5WhcNMTYwOTIyMTQ1MzAw\nWjBoMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwN\nTW91bnRhaW4gVmlldzETMBEGA1UECgwKR29vZ2xlIEluYzEXMBUGA1UEAwwOc210\ncC5nbWFpbC5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCG2pVu\nNQl/MS3rRXTfsvMVqRwnq1Wp5lfZQzirPFDq5zVPZdUjFuvXWSARG3jTgWQmImxF\n5LHadoDT/1hUcvXdHVMDToGidd7oS34uB0tJMzg5V5EYngpNapk5tG+1RnmATMGp\n/FadP/ua5w4SQSy+HelVQDLEPBw69vaCvwVUpE/++36fJejxd3PFQTgOyxzfK7hO\nq6kjD5CU22lhdg+/DBlO6jt/3k3s0870JJDzG5yPhRTQray/q82W0rdi7nSIBrpz\nq0QjwrcqeTvEXn+WIMTKNar2pYMJ+3FM/IzMLxOZBdbkDIeC8hdOfc4nDCRHF9xr\nGCBaa1mIoVWfOatlAgMBAAGjggFLMIIBRzAdBgNVHSUEFjAUBggrBgEFBQcDAQYI\nKwYBBQUHAwIwGQYDVR0RBBIwEIIOc210cC5nbWFpbC5jb20waAYIKwYBBQUHAQEE\nXDBaMCsGCCsGAQUFBzAChh9odHRwOi8vcGtpLmdvb2dsZS5jb20vR0lBRzIuY3J0\nMCsGCCsGAQUFBzABhh9odHRwOi8vY2xpZW50czEuZ29vZ2xlLmNvbS9vY3NwMB0G\nA1UdDgQWBBRuqJafObl4pMJL80jVAaHoQvtvyTAMBgNVHRMBAf8EAjAAMB8GA1Ud\nIwQYMBaAFErdBhYbvPZotXb1gba7Yhq6WoEvMCEGA1UdIAQaMBgwDAYKKwYBBAHW\neQIFATAIBgZngQwBAgIwMAYDVR0fBCkwJzAloCOgIYYfaHR0cDovL3BraS5nb29n\nbGUuY29tL0dJQUcyLmNybDANBgkqhkiG9w0BAQsFAAOCAQEAZWAOHh4qrhVxHqfZ\nkZGrVKOksEZcjqB1sS1R3vue7L9BcReufk/SsdQHn+Uo3UKgC0BJpiP0cZ+Du4ni\nT4vUFdylXdz+N8eHCOx9lct2rcg2cEZI9nVCiQxKjXDF0eHguOrSOMt5v7cnKFei\nC8fM2kfpmXSNyWpj/P38AOtjskBHBwfzdNEnro9xODMRNnp66bnGWXnOlAgi3vup\nuTzYMTID/qE+uBKuXEvX050AqMM/DcB1DKUy97iJe8MjyHwrELJbBkIqP5gkNQsY\njOJ6ZzgW2aeCVCCoBw/EfpDYXCL6oKnn/2NJalWAfwCL7hO+DVsCKoXRBJA+eTob\nUmrB4g==\n-----END CERTIFICATE-----\nsubject=/C=US/ST=California/L=Mountain View/O=Google Inc/CN=smtp.gmail.com\nissuer=/C=US/O=Google Inc/CN=Google Internet Authority G2\n---\nNo client certificate CA names sent\nServer Temp Key: ECDH, prime256v1, 256 bits\n---\nSSL handshake has read 3982 bytes and written 408 bytes\n---\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES128-GCM-SHA256\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES128-GCM-SHA256\nSSL-Session:\n    Protocol  : TLSv1.2\n    Cipher    : ECDHE-RSA-AES128-GCM-SHA256\n    Session-ID: 650672210E4701A6C38F4A98F69C060DB7D4DF283CBA7C2D96EAC460096FA56B\n    Session-ID-ctx: \n    Master-Key: B47A0684EC080F4B78F7B285E3900F472B67ADAC5C2C6319AE4C91713BFCAF4EDD704728C953964B1DFE754B94550D\n5F\n    Key-Arg   : None\n    Krb5 Principal: None\n    PSK identity: None\n    PSK identity hint: None\n    TLS session ticket lifetime hint: 100800 (seconds)\n    TLS session ticket:\n    0000 - 33 bb ab db fb dc b3 9b-04 4c b1 a3 4a c5 c6 45   3........L..J..E\n    0010 - a3 a3 0a 4d 3d 1a 04 31-af f0 48 ea 9a 6a ae 38   ...M=..1..H..j.8\n    0020 - ef 6a 4c 8e 55 5a 19 a9-35 c3 de 61 9b 4f fd 24   .jL.UZ..5..a.O.$\n    0030 - 1b eb 19 b7 da d1 9a 34-ec 1b f8 83 f3 80 5c 23   .......4......#\n    0040 - ca fd 34 82 ac 35 48 32-af 5e d4 51 5e 33 ca 56   ..4..5H2.^.Q^3.V\n    0050 - 54 d1 f3 49 d2 19 75 bc-33 26 06 fe 70 b8 a0 75   T..I..u.3&..p..u\n    0060 - a0 d3 11 d8 77 27 2d a2-83 f7 b8 db 3f 2b 47 c1   ....w'-.....?+G.\n    0070 - ed ae b3 db 9c 24 0a d0-00 2e 94 92 55 8f bb 61   .....$......U..a\n    0080 - 20 0c 20 24 7d ab d0 5e-a8 d8 fc 1a 72 b1 dc 70    . $}..^....r..p\n    0090 - 6a 82 5d e3 41 cb 4a 1d-e5 fc 59 41 4c 78 cd ec   j.].A.J...YALx..\n    00a0 - 80 70 12 14                                       .p..\n    Start Time: 1468002009\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n250 SMTPUTF8\n```\nReferencing this: \nhttps://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting#php-56-certificate-verification-failure\nWe started with the all security disabled version from the wiki, which worked.\nWe then put verify_peer as true, as well as turned allow_self_signed to false, still works. \nIf we add verify_peer_name to true the connection fails.\nHere are the settings we have working.\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => true,\n        'verify_peer_name' => false,\n        'allow_self_signed' => false\n    )\n);\nThese are the only settings where it would run for us both prod (lamp) and dev (wamp), we're using php 7 if it matters.\nIf it's something specific to our environment only, that's fine, at least someone will have a shot at finding this if they run a similar environment with the same issue.\n. ",
    "DimitarBogdanov": "Before I start, I am like an year later but this is to help future users..\n@Synchro You're not correct. It is with PHPMailer, because an third party bot logs into a google acc. This is an violation, but\n@kenchanejfq Create a new GMAIL account and FILL the Your current email address with an alt-email (not an gmail account if possible), send a mail from it (using phpmailer) and for the next 5 mins check the alt-acc. Google will email you on the alt that you have violated the rules, but you'll see an button/link to report the suspend. Google checks it and your gmail will be unblocked. If you got unsuspended you won't be suspended for that again \ud83d\ude04 . Before I start, I am like an year later but this is to help future users..\n@Synchro You're not correct. It is with PHPMailer, because an third party bot logs into a google acc. This is an violation, but\n@kenchanejfq Create a new GMAIL account and FILL the Your current email address with an alt-email (not an gmail account if possible), send a mail from it (using phpmailer) and for the next 5 mins check the alt-acc. Google will email you on the alt that you have violated the rules, but you'll see an button/link to report the suspend. Google checks it and your gmail will be unblocked. If you got unsuspended you won't be suspended for that again \ud83d\ude04 . ",
    "capsandiego": "Did you find a solution for your issue? I'm having the same issue as you. Is related to phpMailer version? I can see the pdf on iPhone but I can't visualize embedded images in the email body. Did you try to use addEmbeddedImage() ?\n. Looks like it's an iPhone mail client bug. The embedded images are visible only after I kill the app and restart it. PHPMailer works fine!\n. @synchro Marcus, ops... I didn't note that indeed... I'll run again a full test session asap and come back with an update.\nThank you so much for your help!\n. @synchro Marcus, I did a full test again but nothing changes. All images are gif and the MIME is image/gif. The iPhone mail client problem occurs only if there are embedded images and a file attached (pdf in my case). The workaround solution is to kill/restart the iPhone mail app and the images will finally appear. Looks like iOS 10 needs some work to do...\n. I use php-7.0.3 on Windows 2012 Server. PHPMailer version is 5.2.14\nWhen I send an HTML email to iPhone mail client with embedded images in the\nbody email together with a file attachment, the email is unreadable\n(message received as text, embedded images not loaded).\nphp\nrequire_once(\"C:\\apps\\shared\\lib\\PHPMailer\\PHPMailerAutoload.php\");\n\n<p$mail                   = new PHPMailer;\n$mail->CharSet          = \"UTF-8\";\n$mail->isSMTP();                                               // Set\nmailer to use SMTP\n$mail->Host             = 'smtprelay1.example.com';       // Specify main\nand backup SMTP servers\n$mail->SMTPAuth         = false;                               // Enable\nSMTP authentication\n$mail->Port             = 25;                                  // TCP port\nto connect to\n$mail->setFrom('SENDER@example.com', 'SENDER');\n$mail->addReplyTo('sender@example.com', 'The Sender');\n$mail->Subject          = 'iPhone - Test';\n$mail->isHTML(true);\n$mail->SMTPDebug        = false;\n$mail->Debugoutput      = 'echo';\n/* Add the pdf file as a normal attachment */\n$mail->addAttachment(\"C:\\apps\\web\\pdf\\2098722387.pdf\", \"File.pdf\");\n/* Build the email body */\n$_email_body = '';\n$_email_body = '\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"\nhttp://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n\n\n\nSimple HTML Email\n\n            @media only screen and (min-device-width: 601px) {\n            .content {width: 600px !important;}\n            }\n        \n\n\n\nHello World! \u4f60\u597d\uff0c\u4e16\u754c\uff01\n';\n$image_list  = array('789284757_1' => \"C:\\apps\\web\\img\\1.jpg\",\n                     '789284757_2' => \"C:\\apps\\web\\img\\2.gif\",);\nforeach($image_list AS $id => $image_name_full){\n   $mail->AddEmbeddedImage($image_name_full, $id, $id.'.gif',\n'base64','image/jpeg');\n   $_email_body .= '';\n}\n/* set the email body */\n$mail->Body  = $_email_body.'';\n/* send BCC email */\n$mail->addAddress('SENDER@example.com','SENDER');\n$mail->addBCC('someone@example.com');\n$mail->send();\n$mail->clearAttachments();\n$mail->clearAllRecipients();\n$mail = null;\nOn Fri, Oct 21, 2016 at 3:45 AM, Marcus Bointon notifications@github.com\nwrote:\n\nVersion 5.1 is very old and buggy. Update it. Post your code, show\nexactly what the problem is.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/769#issuecomment-255208249,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AM-DIKlOrZsX5Qi5ec64gjKf6DL9WQWvks5q18TXgaJpZM4JK-36\n.\n. Solveta, this is an iOS bug, not PHPMailer. You can verify it by using Gmail or Outlook or another mail client. Send an email to your iPhone with a couple of embedded images and a 1MB+ file attached and you will see that the message will be flagged as \"Downloaded as Plain Text\" on your iPhone. \nThis behavior is related to the size of the message. I checked this doesn't happen if the message is <~500KB.\n\nThe (very) sad thing is that, at least on iOS10.x, even when you click on \"Donwload full Message\" it will not show the embedded images anyway. Workaround is to double click on home button, kill the mail app and re-open the message.\nI've opened 2 bugs on Apple website but no answer... (won't comment this). Solveta, this is an iOS bug, not PHPMailer. You can verify it by using Gmail or Outlook or another mail client. Send an email to your iPhone with a couple of embedded images and a 1MB+ file attached and you will see that the message will be flagged as \"Downloaded as Plain Text\" on your iPhone. \nThis behavior is related to the size of the message. I checked this doesn't happen if the message is <~500KB.\nThe (very) sad thing is that, at least on iOS10.x, even when you click on \"Donwload full Message\" it will not show the embedded images anyway. Workaround is to double click on home button, kill the mail app and re-open the message.\nI've opened 2 bugs on Apple website but no answer... (won't comment this). ",
    "Solveta": "I have the same problem using phpmailer 5.2.15. It looks like 1 embedded image works, but the moment I embed the second one Mail on iOS often has problems (not Mail on MacOS). The images won't be shown (0 Bytes), but if you click on the dummy, you will see the image anyway. Very annoying. \nDoes anybody found a solution for it? I. Thanks for your answer on this. And I will not comment about Apple as well - they were great, once. In the past.... ",
    "Slinjez": "The trick is to use your host address.\nThis question has been answered here: https://stackoverflow.com/questions/21841834/phpmailer-godaddy-server-smtp-connection-refused/44255787#44255787. ",
    "Sipestian": "Its actually GoDaddy. Problem is my contracts ends in 2031 :( . ",
    "neilkapadia7": "php\nrequire 'phpmailer/PHPMailerAutoload.php';\n\n<p$mail = new PHPMailer;        \n                      // Set mailer to use SMTP\n\n$mail->Host = \"smtp.gmail.com\";  // Specify main and backup SMTP servers\n$mail->isSMTP(); \n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'neilkapadia7@gmail.com';                 // SMTP username\n$mail->Password = 'neilkap7';                           // SMTP password\n$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, ssl also accepted\n$mail->Port = 587;\n$mail->SMTPDebug = 4;\n$mail->setFrom('neilkapadia7@gmail.com');\n$mail->addAddress('neilkapadia7@gmail.com');\n   $mail->addReplyTo('neilkapadia7@gmail.com ');\n$mail->addCC('neilkapadia7@gmail.com');\n$mail->addBCC('neilkapadia7@gmail.com');\n $mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body <b>in bold!</b>';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\n\n\nif($mail->send()){\necho 'Message has been sent';\n}\n\nelse{\necho 'Message could not be sent. Mailer Error: ', $mail->ErrorInfo;\n\n}\n?>\nhave got a connection error please help.. ",
    "andreuerj": "I can see this behavior in webmails (e.g. Roundcube) in general and IBM Lotus Notes. I do not know about outlook.\n. I can see this behavior in webmails (e.g. Roundcube) in general and IBM Lotus Notes. I do not know about outlook.\n. I'm using a plugin (WP Mail SMTP) with a theme ClassiPress. Can it help you to check the code?\nAnd just to complement the previously info sent, when the user replies the e-mail the \"To\" address is filled with something more like below:\n=?UTF-8?Q?Andr=C3=A9_Otlok_ <andre.otlok@xpto.com.br>, @bart0175.correio.biz\nPlease, let me know if this info is enough for you. Or, I can try to dig some code for you.\n. I'm using a plugin (WP Mail SMTP) with a theme ClassiPress. Can it help you to check the code?\nAnd just to complement the previously info sent, when the user replies the e-mail the \"To\" address is filled with something more like below:\n=?UTF-8?Q?Andr=C3=A9_Otlok_ <andre.otlok@xpto.com.br>, @bart0175.correio.biz\nPlease, let me know if this info is enough for you. Or, I can try to dig some code for you.\n. Any idea?\n. ",
    "samstradling": "My only idea of what might be wrong is phpmailer creating a signature from an incorrect body, so here is an example (generated by dkimvalidator.com) of an application that doesn't work, and one that does.\n```\nReceived: from 6.mo154.mail-out.ovh.net (6.mo154.mail-out.ovh.net [46.105.45.245])\n    by relay-5.us-west-2.relay-prod (Postfix) with ESMTP id 76A2E6033E\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Mon, 18 Jul 2016 23:37:24 +0000 (UTC)\nReceived: from 118.mail-out.ovh.net (unknown [10.108.2.136])\n    by mo154.mail-out.ovh.net (Postfix) with ESMTP id 95C9FFF83D2\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:37:22 +0200 (CEST)\nReceived: from 118.mail-out.ovh.net (localhost [127.0.0.1])\n    by 118.mail-out.ovh.net (Postfix) with ESMTP id 92C3280028\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:37:22 +0200 (CEST)\nReceived: from 240plan.ovh.net (gw-cluster003.ovh.net [213.251.182.103])\n by 118.mail-out.ovh.net (Postfix) with ESMTP id E11A180028\n for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:37:21 +0200 (CEST)\nReceived: from localhost.localdomain (localhost [127.0.0.1])\n by localhost.domain.tld (Postfix) with ESMTP id DB6949415B\n for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:37:21 +0200 (CEST)\nReceived: by 240plan.ovh.net (Postfix, from userid 660232)\n id CF9D894177; Tue, 19 Jul 2016 01:37:21 +0200 (CEST)\nTo: eYLvbSoOhS2XfQ@dkimvalidator.com\nSubject: subject\nDate: Tue, 19 Jul 2016 01:37:21 +0200\nFrom: Site Admin admin@samstradling.com\nReply-To: Reply To Email info@samstradling.com\nMessage-ID: 837eaf9a5462b4f828ca8beeb963cf60@samstradling.com\nX-Mailer: PHPMailer 5.2.16 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n boundary=\"b1_837eaf9a5462b4f828ca8beeb963cf60\"\nContent-Transfer-Encoding: 8bit\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=313; s=dkim;\n t=1468885041; c=relaxed/simple; h=From:To:Date:Subject;\n d=samstradling.com; i=admin@samstradling.com;\n z=From:=20Site=20Admin=20admin@samstradling.com\n |To:=20eYLvbSoOhS2XfQ@dkimvalidator.com\n |Date:=20Tue,=2019=20Jul=202016=2001:37:21=20+0200\n |Subject:=20subject;\n bh=qL1OLNwgyTYlh+b+T4qYVlxurcDBmCqCBJ9DOxlB558=;\n b=LN6Ms2UlGel/QiD2U+j8vLbMq+2Z0A6nKL++wNIdYBrEtiv6w1T6Zm8SQOZudVcBPwalur/bDBOqbNdAqBLv+Fg3vwJGBi5FjEHiMB4QlsyW/GOS7xRlGR/LQ7cr6pFD5YtWCfvGgL5ep9rlXtPyf1/PanuLzYUm5tp1CNszJeA=\nX-Ovh-Tracer-Id: 7507782056469249831\nX-VR-SPAMSTATE: OK\nX-VR-SPAMSCORE: 0\nX-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeeltddrhedtgddvjecutefuodetggdotefrodftvfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu\nThis is a multi-part message in MIME format.\n--b1_837eaf9a5462b4f828ca8beeb963cf60\nContent-Type: text/plain; charset=us-ascii\nSome non HTML body.\n--b1_837eaf9a5462b4f828ca8beeb963cf60\nContent-Type: text/html; charset=us-ascii\nSome HTML body.\n--b1_837eaf9a5462b4f828ca8beeb963cf60--\n```\n```\nDKIM Information:\nDKIM Signature\nMessage contains this DKIM Signature:\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=313; s=dkim;\n t=1468885041; c=relaxed/simple; h=From:To:Date:Subject;\n d=samstradling.com; i=admin@samstradling.com;\n z=From:=20Site=20Admin=20\n |To:=20eYLvbSoOhS2XfQ@dkimvalidator.com\n |Date:=20Tue,=2019=20Jul=202016=2001:37:21=20+0200\n |Subject:=20subject;\n bh=qL1OLNwgyTYlh+b+T4qYVlxurcDBmCqCBJ9DOxlB558=;\n b=LN6Ms2UlGel/QiD2U+j8vLbMq+2Z0A6nKL++wNIdYBrEtiv6w1T6Zm8SQOZudVcBPwalur/bDBOqbNdAqBLv+Fg3vwJGBi5FjEHiMB4QlsyW/GOS7xRlGR/LQ7cr6pFD5YtWCfvGgL5ep9rlXtPyf1/PanuLzYUm5tp1CNszJeA=\nSignature Information:\nv= Version:         1\na= Algorithm:       rsa-sha256\nc= Method:          relaxed/simple\nd= Domain:          samstradling.com\ns= Selector:        dkim\nq= Protocol:        dns/txt\nbh=                 qL1OLNwgyTYlh+b+T4qYVlxurcDBmCqCBJ9DOxlB558=\nh= Signed Headers:  From:To:Date:Subject\nb= Data:            LN6Ms2UlGel/QiD2U+j8vLbMq+2Z0A6nKL++wNIdYBrEtiv6w1T6Zm8SQOZudVcBPwalur/bDBOqbNdAqBLv+Fg3vwJGBi5FjEHiMB4QlsyW/GOS7xRlGR/LQ7cr6pFD5YtWCfvGgL5ep9rlXtPyf1/PanuLzYUm5tp1CNszJeA=\nPublic Key DNS Lookup\nBuilding DNS Query for dkim._domainkey.samstradling.com\nRetrieved this publickey from DNS: v=DKIM1; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC8qB6oHiV6qp89dFLirWqI+8yfPvxu+R89lJxPzlD+OVEUqf4WzoXtd/F71JxzSK446jc2AyvXn5KavKFbAYl7PSh/HsTF82O8CDfi6U+082QuPVGOJ6ZatDOtfY7QpuJJZlV0A86VKLHpMsXxgxbExPQlrNj/yI+iRFEZnVQM7QIDAQAB\nValidating Signature\nresult = pass\nDetails:\n```\nAnd now with the attachment:\n```\nReceived: from 9.mo167.mail-out.ovh.net (9.mo167.mail-out.ovh.net [46.105.54.237])\n    by relay-2.us-west-2.relay-prod (Postfix) with ESMTP id 99F0F60262\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Mon, 18 Jul 2016 23:42:23 +0000 (UTC)\nReceived: from 118.mail-out.ovh.net (unknown [10.108.2.127])\n    by mo167.mail-out.ovh.net (Postfix) with ESMTP id B0141FFAF46\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:42:21 +0200 (CEST)\nReceived: from 118.mail-out.ovh.net (localhost [127.0.0.1])\n    by 118.mail-out.ovh.net (Postfix) with ESMTP id 65CCF80025\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:42:21 +0200 (CEST)\nReceived: from 240plan.ovh.net (gw-cluster003.ovh.net [213.251.182.103])\n by 118.mail-out.ovh.net (Postfix) with ESMTP id B1C3080028\n for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:42:20 +0200 (CEST)\nReceived: from localhost.localdomain (localhost [127.0.0.1])\n by localhost.domain.tld (Postfix) with ESMTP id AC48A9415B\n for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:42:20 +0200 (CEST)\nReceived: by 240plan.ovh.net (Postfix, from userid 660232)\n id A019294177; Tue, 19 Jul 2016 01:42:20 +0200 (CEST)\nTo: eYLvbSoOhS2XfQ@dkimvalidator.com\nSubject: subject\nDate: Tue, 19 Jul 2016 01:42:20 +0200\nFrom: Site Admin admin@samstradling.com\nReply-To: Reply To Email info@samstradling.com\nMessage-ID: 9dde12a0368f0f1ff1aa4feb726c8c55@samstradling.com\nX-Mailer: PHPMailer 5.2.16 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/mixed; boundary=\"b1_9dde12a0368f0f1ff1aa4feb726c8c55\"\nContent-Transfer-Encoding: 8bit\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=689; s=dkim;\n t=1468885340; c=relaxed/simple; h=From:To:Date:Subject;\n d=samstradling.com; i=admin@samstradling.com;\n z=From:=20Site=20Admin=20admin@samstradling.com\n |To:=20eYLvbSoOhS2XfQ@dkimvalidator.com\n |Date:=20Tue,=2019=20Jul=202016=2001:42:20=20+0200\n |Subject:=20subject;\n bh=xdkCHAGl3MKDPopUK9andciT77Y0RnC6DMeWwK/b86g=;\n b=mEgkTnMVYoqjdoFq/aOxYjFGrT+0fg9pwkS76YNUWetxjxchhjVc4XZ8RhKgppTiE4b1NRJf3NENW4J5b9WxUdsCZVQbkBJgJ2z25DtGypljD26utQblglR9LQmWUm9twQ6t2IgJb9IduUtILQ4MHtaMoBDqbOq5ZBxeJxFt9E0=\nX-Ovh-Tracer-Id: 7591943075178921767\nX-VR-SPAMSTATE: OK\nX-VR-SPAMSCORE: 0\nX-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeeltddrhedtgddvlecutefuodetggdotefrodftvfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu\nThis is a multi-part message in MIME format.\n--b1_9dde12a0368f0f1ff1aa4feb726c8c55\nContent-Type: multipart/alternative;\n boundary=\"b2_9dde12a0368f0f1ff1aa4feb726c8c55\"\n--b2_9dde12a0368f0f1ff1aa4feb726c8c55\nContent-Type: text/plain; charset=us-ascii\nSome non HTML body.\n--b2_9dde12a0368f0f1ff1aa4feb726c8c55\nContent-Type: text/html; charset=us-ascii\nSome HTML body.\n--b2_9dde12a0368f0f1ff1aa4feb726c8c55--\n--b1_9dde12a0368f0f1ff1aa4feb726c8c55\nContent-Type: text/plain; name=\"TextFile.txt\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment; filename=TextFile.txt\nVGVzdApUZXh0CkZpbGU=\n--b1_9dde12a0368f0f1ff1aa4feb726c8c55--\n```\n```\nDKIM Information:\nDKIM Signature\nMessage contains this DKIM Signature:\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=689; s=dkim;\n t=1468885340; c=relaxed/simple; h=From:To:Date:Subject;\n d=samstradling.com; i=admin@samstradling.com;\n z=From:=20Site=20Admin=20\n |To:=20eYLvbSoOhS2XfQ@dkimvalidator.com\n |Date:=20Tue,=2019=20Jul=202016=2001:42:20=20+0200\n |Subject:=20subject;\n bh=xdkCHAGl3MKDPopUK9andciT77Y0RnC6DMeWwK/b86g=;\n b=mEgkTnMVYoqjdoFq/aOxYjFGrT+0fg9pwkS76YNUWetxjxchhjVc4XZ8RhKgppTiE4b1NRJf3NENW4J5b9WxUdsCZVQbkBJgJ2z25DtGypljD26utQblglR9LQmWUm9twQ6t2IgJb9IduUtILQ4MHtaMoBDqbOq5ZBxeJxFt9E0=\nSignature Information:\nv= Version:         1\na= Algorithm:       rsa-sha256\nc= Method:          relaxed/simple\nd= Domain:          samstradling.com\ns= Selector:        dkim\nq= Protocol:        dns/txt\nbh=                 xdkCHAGl3MKDPopUK9andciT77Y0RnC6DMeWwK/b86g=\nh= Signed Headers:  From:To:Date:Subject\nb= Data:            mEgkTnMVYoqjdoFq/aOxYjFGrT+0fg9pwkS76YNUWetxjxchhjVc4XZ8RhKgppTiE4b1NRJf3NENW4J5b9WxUdsCZVQbkBJgJ2z25DtGypljD26utQblglR9LQmWUm9twQ6t2IgJb9IduUtILQ4MHtaMoBDqbOq5ZBxeJxFt9E0=\nPublic Key DNS Lookup\nBuilding DNS Query for dkim._domainkey.samstradling.com\nRetrieved this publickey from DNS: v=DKIM1; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC8qB6oHiV6qp89dFLirWqI+8yfPvxu+R89lJxPzlD+OVEUqf4WzoXtd/F71JxzSK446jc2AyvXn5KavKFbAYl7PSh/HsTF82O8CDfi6U+082QuPVGOJ6ZatDOtfY7QpuJJZlV0A86VKLHpMsXxgxbExPQlrNj/yI+iRFEZnVQM7QIDAQAB\nValidating Signature\nresult = fail\nDetails: body has been altered\n```\nKeys (now revoked):\n-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC8qB6oHiV6qp89dFLirWqI+8yf\nPvxu+R89lJxPzlD+OVEUqf4WzoXtd/F71JxzSK446jc2AyvXn5KavKFbAYl7PSh/\nHsTF82O8CDfi6U+082QuPVGOJ6ZatDOtfY7QpuJJZlV0A86VKLHpMsXxgxbExPQl\nrNj/yI+iRFEZnVQM7QIDAQAB\n-----END PUBLIC KEY-----\n```\n-----BEGIN RSA PRIVATE KEY-----\nProc-Type: 4,ENCRYPTED\nDEK-Info: DES-EDE3-CBC,47E75A5090B40EA2\nyZzamUEojN8iSktdzsTes7tbPzRR1T3WYLfVwboaL3TUL+zDGE1pDwrhN5Gx7rv1\nBLAWXoTXd3euP40dnAqSk7SZCeh8WysYKws6CKxT3BESw3MMGX7EO5C6V6ksX3x4\nN9T9WOdApWaIE271iqxcYzYKqwrL1BwdqGbb7DLdrFpGEq0Unq5o7be0JFi5NxUt\nNDxBMlNp0XyKw0YiHFUQ71df7ec1FWj8A/aXfuA/hbbQiaVJzbcQCFT29EQic8FE\no+rxLR1sdBmecAytnl+czbrkSjY5luwrnZY69fI0N8ol1NG84zuqvDy5CKAsxnF6\npG3Dnui0MM8jRhT/5PrSlLHC/zg6H4jMw79Kabvy8fHEk14fzG98VjWtLbPWSdln\nPuHOKQkm1F1tlYsg1hQCVMf0uZ2hhNfuGmhO2RtC7ZS28roFcc/hggMEW0aDfq9Y\nDAE4PPx+HAJWdRcmL+IpmuF/fNhTjOBMBrx1JrA2laeCGbdPjajrd2uX472gYiCg\no893uX7qPd5pZEFcgjsvKyldAI9dCxDPR1Q/sfhl1Tdu/cpmu25jHs+IMfzE4tjs\n5GiePKi1sF+A+VN/m0lojD3LOp7iTSaA8ijITRTH54bXZCZY2ZYIb8M+UoaoZ9vb\n8A6cPdn7qAB7JQO5oxggwTnGIbmgIQZGeNlgQtVIGqgDAYs4eyQEZr6f2aWY9vZ7\nOZqZ7LFbgZggR1p88ayKXk1vvkabTeUu83sKSySH8EhyLZRIynAlSWGcFhTzBa98\nuZyhL0YXfcD86lY1Jw1L6i6QLybxS55iCfKWtaJeqwky1Kyj9WMXWA==\n-----END RSA PRIVATE KEY-----\n```\n``` php\n$this->PHPMailer->setFrom('admin@samstradling.com', 'Site Admin');\n$this->PHPMailer->addAddress('eYLvbSoOhS2XfQ@dkimvalidator.com');\n$this->PHPMailer->addReplyTo('info@samstradling.com', 'Reply To Email');\n$this->PHPMailer->isHTML(true); \n$this->PHPMailer->Subject = 'subject';\n$this->PHPMailer->Body    = 'Some HTML body.';\n$this->PHPMailer->AltBody = 'Some non HTML body.';\n$this->PHPMailer->DKIM_domain = 'samstradling.com';\n$this->PHPMailer->DKIM_private = APPPATH.'keys/private.pem';\n$this->PHPMailer->DKIM_selector = 'dkim';\n$this->PHPMailer->DKIM_passphrase = 'ZPsRd58V8jjh'; //Again, don't get excited, it's been revoked\n$this->PHPMailer->DKIM_identity = $this->PHPMailer->From;\n$this->PHPMailer->addAttachment(APPPATH.'myfile.txt', 'TextFile.txt');\n$this->PHPMailer->send();\n```\nBody as reported by logging the $body variable at the start of the DKIM_Add() function, I think the line endings are correct but can double check this if required. (from a different email, so has a different boundary)\n```\nThis is a multi-part message in MIME format.[cr][lf]\n[cr][lf]\n--b1_dead2239a19a1aba4e8252fe90ee73e3[cr][lf]\nContent-Type: multipart/alternative;[cr][lf]\n    boundary=\"b2_dead2239a19a1aba4e8252fe90ee73e3\"[cr][lf]\n[cr][lf]\n--b2_dead2239a19a1aba4e8252fe90ee73e3[cr][lf]\nContent-Type: text/plain; charset=us-ascii[cr][lf]\n[cr][lf]\nSome non HTML body.[cr][lf]\n[cr][lf]\n[cr][lf]\n--b2_dead2239a19a1aba4e8252fe90ee73e3[cr][lf]\nContent-Type: text/html; charset=us-ascii[cr][lf]\n[cr][lf]\nSome HTML body.[cr][lf]\n[cr][lf]\n[cr][lf]\n[cr][lf]\n--b2_dead2239a19a1aba4e8252fe90ee73e3--[cr][lf]\n[cr][lf]\n--b1_dead2239a19a1aba4e8252fe90ee73e3[cr][lf]\nContent-Type: text/plain; name=\"TextFile.txt\"[cr][lf]\nContent-Transfer-Encoding: base64[cr][lf]\nContent-Disposition: attachment; filename=TextFile.txt[cr][lf]\n[cr][lf]\nVGVzdApUZXh0CkZpbGU=[cr][lf]\n[cr][lf]\n[cr][lf]\n--b1_dead2239a19a1aba4e8252fe90ee73e3--[cr][lf]\n```\n. My only idea of what might be wrong is phpmailer creating a signature from an incorrect body, so here is an example (generated by dkimvalidator.com) of an application that doesn't work, and one that does.\n```\nReceived: from 6.mo154.mail-out.ovh.net (6.mo154.mail-out.ovh.net [46.105.45.245])\n    by relay-5.us-west-2.relay-prod (Postfix) with ESMTP id 76A2E6033E\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Mon, 18 Jul 2016 23:37:24 +0000 (UTC)\nReceived: from 118.mail-out.ovh.net (unknown [10.108.2.136])\n    by mo154.mail-out.ovh.net (Postfix) with ESMTP id 95C9FFF83D2\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:37:22 +0200 (CEST)\nReceived: from 118.mail-out.ovh.net (localhost [127.0.0.1])\n    by 118.mail-out.ovh.net (Postfix) with ESMTP id 92C3280028\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:37:22 +0200 (CEST)\nReceived: from 240plan.ovh.net (gw-cluster003.ovh.net [213.251.182.103])\n by 118.mail-out.ovh.net (Postfix) with ESMTP id E11A180028\n for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:37:21 +0200 (CEST)\nReceived: from localhost.localdomain (localhost [127.0.0.1])\n by localhost.domain.tld (Postfix) with ESMTP id DB6949415B\n for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:37:21 +0200 (CEST)\nReceived: by 240plan.ovh.net (Postfix, from userid 660232)\n id CF9D894177; Tue, 19 Jul 2016 01:37:21 +0200 (CEST)\nTo: eYLvbSoOhS2XfQ@dkimvalidator.com\nSubject: subject\nDate: Tue, 19 Jul 2016 01:37:21 +0200\nFrom: Site Admin admin@samstradling.com\nReply-To: Reply To Email info@samstradling.com\nMessage-ID: 837eaf9a5462b4f828ca8beeb963cf60@samstradling.com\nX-Mailer: PHPMailer 5.2.16 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n boundary=\"b1_837eaf9a5462b4f828ca8beeb963cf60\"\nContent-Transfer-Encoding: 8bit\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=313; s=dkim;\n t=1468885041; c=relaxed/simple; h=From:To:Date:Subject;\n d=samstradling.com; i=admin@samstradling.com;\n z=From:=20Site=20Admin=20admin@samstradling.com\n |To:=20eYLvbSoOhS2XfQ@dkimvalidator.com\n |Date:=20Tue,=2019=20Jul=202016=2001:37:21=20+0200\n |Subject:=20subject;\n bh=qL1OLNwgyTYlh+b+T4qYVlxurcDBmCqCBJ9DOxlB558=;\n b=LN6Ms2UlGel/QiD2U+j8vLbMq+2Z0A6nKL++wNIdYBrEtiv6w1T6Zm8SQOZudVcBPwalur/bDBOqbNdAqBLv+Fg3vwJGBi5FjEHiMB4QlsyW/GOS7xRlGR/LQ7cr6pFD5YtWCfvGgL5ep9rlXtPyf1/PanuLzYUm5tp1CNszJeA=\nX-Ovh-Tracer-Id: 7507782056469249831\nX-VR-SPAMSTATE: OK\nX-VR-SPAMSCORE: 0\nX-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeeltddrhedtgddvjecutefuodetggdotefrodftvfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu\nThis is a multi-part message in MIME format.\n--b1_837eaf9a5462b4f828ca8beeb963cf60\nContent-Type: text/plain; charset=us-ascii\nSome non HTML body.\n--b1_837eaf9a5462b4f828ca8beeb963cf60\nContent-Type: text/html; charset=us-ascii\nSome HTML body.\n--b1_837eaf9a5462b4f828ca8beeb963cf60--\n```\n```\nDKIM Information:\nDKIM Signature\nMessage contains this DKIM Signature:\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=313; s=dkim;\n t=1468885041; c=relaxed/simple; h=From:To:Date:Subject;\n d=samstradling.com; i=admin@samstradling.com;\n z=From:=20Site=20Admin=20\n |To:=20eYLvbSoOhS2XfQ@dkimvalidator.com\n |Date:=20Tue,=2019=20Jul=202016=2001:37:21=20+0200\n |Subject:=20subject;\n bh=qL1OLNwgyTYlh+b+T4qYVlxurcDBmCqCBJ9DOxlB558=;\n b=LN6Ms2UlGel/QiD2U+j8vLbMq+2Z0A6nKL++wNIdYBrEtiv6w1T6Zm8SQOZudVcBPwalur/bDBOqbNdAqBLv+Fg3vwJGBi5FjEHiMB4QlsyW/GOS7xRlGR/LQ7cr6pFD5YtWCfvGgL5ep9rlXtPyf1/PanuLzYUm5tp1CNszJeA=\nSignature Information:\nv= Version:         1\na= Algorithm:       rsa-sha256\nc= Method:          relaxed/simple\nd= Domain:          samstradling.com\ns= Selector:        dkim\nq= Protocol:        dns/txt\nbh=                 qL1OLNwgyTYlh+b+T4qYVlxurcDBmCqCBJ9DOxlB558=\nh= Signed Headers:  From:To:Date:Subject\nb= Data:            LN6Ms2UlGel/QiD2U+j8vLbMq+2Z0A6nKL++wNIdYBrEtiv6w1T6Zm8SQOZudVcBPwalur/bDBOqbNdAqBLv+Fg3vwJGBi5FjEHiMB4QlsyW/GOS7xRlGR/LQ7cr6pFD5YtWCfvGgL5ep9rlXtPyf1/PanuLzYUm5tp1CNszJeA=\nPublic Key DNS Lookup\nBuilding DNS Query for dkim._domainkey.samstradling.com\nRetrieved this publickey from DNS: v=DKIM1; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC8qB6oHiV6qp89dFLirWqI+8yfPvxu+R89lJxPzlD+OVEUqf4WzoXtd/F71JxzSK446jc2AyvXn5KavKFbAYl7PSh/HsTF82O8CDfi6U+082QuPVGOJ6ZatDOtfY7QpuJJZlV0A86VKLHpMsXxgxbExPQlrNj/yI+iRFEZnVQM7QIDAQAB\nValidating Signature\nresult = pass\nDetails:\n```\nAnd now with the attachment:\n```\nReceived: from 9.mo167.mail-out.ovh.net (9.mo167.mail-out.ovh.net [46.105.54.237])\n    by relay-2.us-west-2.relay-prod (Postfix) with ESMTP id 99F0F60262\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Mon, 18 Jul 2016 23:42:23 +0000 (UTC)\nReceived: from 118.mail-out.ovh.net (unknown [10.108.2.127])\n    by mo167.mail-out.ovh.net (Postfix) with ESMTP id B0141FFAF46\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:42:21 +0200 (CEST)\nReceived: from 118.mail-out.ovh.net (localhost [127.0.0.1])\n    by 118.mail-out.ovh.net (Postfix) with ESMTP id 65CCF80025\n    for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:42:21 +0200 (CEST)\nReceived: from 240plan.ovh.net (gw-cluster003.ovh.net [213.251.182.103])\n by 118.mail-out.ovh.net (Postfix) with ESMTP id B1C3080028\n for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:42:20 +0200 (CEST)\nReceived: from localhost.localdomain (localhost [127.0.0.1])\n by localhost.domain.tld (Postfix) with ESMTP id AC48A9415B\n for eYLvbSoOhS2XfQ@dkimvalidator.com; Tue, 19 Jul 2016 01:42:20 +0200 (CEST)\nReceived: by 240plan.ovh.net (Postfix, from userid 660232)\n id A019294177; Tue, 19 Jul 2016 01:42:20 +0200 (CEST)\nTo: eYLvbSoOhS2XfQ@dkimvalidator.com\nSubject: subject\nDate: Tue, 19 Jul 2016 01:42:20 +0200\nFrom: Site Admin admin@samstradling.com\nReply-To: Reply To Email info@samstradling.com\nMessage-ID: 9dde12a0368f0f1ff1aa4feb726c8c55@samstradling.com\nX-Mailer: PHPMailer 5.2.16 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/mixed; boundary=\"b1_9dde12a0368f0f1ff1aa4feb726c8c55\"\nContent-Transfer-Encoding: 8bit\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=689; s=dkim;\n t=1468885340; c=relaxed/simple; h=From:To:Date:Subject;\n d=samstradling.com; i=admin@samstradling.com;\n z=From:=20Site=20Admin=20admin@samstradling.com\n |To:=20eYLvbSoOhS2XfQ@dkimvalidator.com\n |Date:=20Tue,=2019=20Jul=202016=2001:42:20=20+0200\n |Subject:=20subject;\n bh=xdkCHAGl3MKDPopUK9andciT77Y0RnC6DMeWwK/b86g=;\n b=mEgkTnMVYoqjdoFq/aOxYjFGrT+0fg9pwkS76YNUWetxjxchhjVc4XZ8RhKgppTiE4b1NRJf3NENW4J5b9WxUdsCZVQbkBJgJ2z25DtGypljD26utQblglR9LQmWUm9twQ6t2IgJb9IduUtILQ4MHtaMoBDqbOq5ZBxeJxFt9E0=\nX-Ovh-Tracer-Id: 7591943075178921767\nX-VR-SPAMSTATE: OK\nX-VR-SPAMSCORE: 0\nX-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrfeeltddrhedtgddvlecutefuodetggdotefrodftvfcurfhrohhfihhlvgemucfqggfjnecuuegrihhlohhuthemuceftddtnecu\nThis is a multi-part message in MIME format.\n--b1_9dde12a0368f0f1ff1aa4feb726c8c55\nContent-Type: multipart/alternative;\n boundary=\"b2_9dde12a0368f0f1ff1aa4feb726c8c55\"\n--b2_9dde12a0368f0f1ff1aa4feb726c8c55\nContent-Type: text/plain; charset=us-ascii\nSome non HTML body.\n--b2_9dde12a0368f0f1ff1aa4feb726c8c55\nContent-Type: text/html; charset=us-ascii\nSome HTML body.\n--b2_9dde12a0368f0f1ff1aa4feb726c8c55--\n--b1_9dde12a0368f0f1ff1aa4feb726c8c55\nContent-Type: text/plain; name=\"TextFile.txt\"\nContent-Transfer-Encoding: base64\nContent-Disposition: attachment; filename=TextFile.txt\nVGVzdApUZXh0CkZpbGU=\n--b1_9dde12a0368f0f1ff1aa4feb726c8c55--\n```\n```\nDKIM Information:\nDKIM Signature\nMessage contains this DKIM Signature:\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=689; s=dkim;\n t=1468885340; c=relaxed/simple; h=From:To:Date:Subject;\n d=samstradling.com; i=admin@samstradling.com;\n z=From:=20Site=20Admin=20\n |To:=20eYLvbSoOhS2XfQ@dkimvalidator.com\n |Date:=20Tue,=2019=20Jul=202016=2001:42:20=20+0200\n |Subject:=20subject;\n bh=xdkCHAGl3MKDPopUK9andciT77Y0RnC6DMeWwK/b86g=;\n b=mEgkTnMVYoqjdoFq/aOxYjFGrT+0fg9pwkS76YNUWetxjxchhjVc4XZ8RhKgppTiE4b1NRJf3NENW4J5b9WxUdsCZVQbkBJgJ2z25DtGypljD26utQblglR9LQmWUm9twQ6t2IgJb9IduUtILQ4MHtaMoBDqbOq5ZBxeJxFt9E0=\nSignature Information:\nv= Version:         1\na= Algorithm:       rsa-sha256\nc= Method:          relaxed/simple\nd= Domain:          samstradling.com\ns= Selector:        dkim\nq= Protocol:        dns/txt\nbh=                 xdkCHAGl3MKDPopUK9andciT77Y0RnC6DMeWwK/b86g=\nh= Signed Headers:  From:To:Date:Subject\nb= Data:            mEgkTnMVYoqjdoFq/aOxYjFGrT+0fg9pwkS76YNUWetxjxchhjVc4XZ8RhKgppTiE4b1NRJf3NENW4J5b9WxUdsCZVQbkBJgJ2z25DtGypljD26utQblglR9LQmWUm9twQ6t2IgJb9IduUtILQ4MHtaMoBDqbOq5ZBxeJxFt9E0=\nPublic Key DNS Lookup\nBuilding DNS Query for dkim._domainkey.samstradling.com\nRetrieved this publickey from DNS: v=DKIM1; p=MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC8qB6oHiV6qp89dFLirWqI+8yfPvxu+R89lJxPzlD+OVEUqf4WzoXtd/F71JxzSK446jc2AyvXn5KavKFbAYl7PSh/HsTF82O8CDfi6U+082QuPVGOJ6ZatDOtfY7QpuJJZlV0A86VKLHpMsXxgxbExPQlrNj/yI+iRFEZnVQM7QIDAQAB\nValidating Signature\nresult = fail\nDetails: body has been altered\n```\nKeys (now revoked):\n-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC8qB6oHiV6qp89dFLirWqI+8yf\nPvxu+R89lJxPzlD+OVEUqf4WzoXtd/F71JxzSK446jc2AyvXn5KavKFbAYl7PSh/\nHsTF82O8CDfi6U+082QuPVGOJ6ZatDOtfY7QpuJJZlV0A86VKLHpMsXxgxbExPQl\nrNj/yI+iRFEZnVQM7QIDAQAB\n-----END PUBLIC KEY-----\n```\n-----BEGIN RSA PRIVATE KEY-----\nProc-Type: 4,ENCRYPTED\nDEK-Info: DES-EDE3-CBC,47E75A5090B40EA2\nyZzamUEojN8iSktdzsTes7tbPzRR1T3WYLfVwboaL3TUL+zDGE1pDwrhN5Gx7rv1\nBLAWXoTXd3euP40dnAqSk7SZCeh8WysYKws6CKxT3BESw3MMGX7EO5C6V6ksX3x4\nN9T9WOdApWaIE271iqxcYzYKqwrL1BwdqGbb7DLdrFpGEq0Unq5o7be0JFi5NxUt\nNDxBMlNp0XyKw0YiHFUQ71df7ec1FWj8A/aXfuA/hbbQiaVJzbcQCFT29EQic8FE\no+rxLR1sdBmecAytnl+czbrkSjY5luwrnZY69fI0N8ol1NG84zuqvDy5CKAsxnF6\npG3Dnui0MM8jRhT/5PrSlLHC/zg6H4jMw79Kabvy8fHEk14fzG98VjWtLbPWSdln\nPuHOKQkm1F1tlYsg1hQCVMf0uZ2hhNfuGmhO2RtC7ZS28roFcc/hggMEW0aDfq9Y\nDAE4PPx+HAJWdRcmL+IpmuF/fNhTjOBMBrx1JrA2laeCGbdPjajrd2uX472gYiCg\no893uX7qPd5pZEFcgjsvKyldAI9dCxDPR1Q/sfhl1Tdu/cpmu25jHs+IMfzE4tjs\n5GiePKi1sF+A+VN/m0lojD3LOp7iTSaA8ijITRTH54bXZCZY2ZYIb8M+UoaoZ9vb\n8A6cPdn7qAB7JQO5oxggwTnGIbmgIQZGeNlgQtVIGqgDAYs4eyQEZr6f2aWY9vZ7\nOZqZ7LFbgZggR1p88ayKXk1vvkabTeUu83sKSySH8EhyLZRIynAlSWGcFhTzBa98\nuZyhL0YXfcD86lY1Jw1L6i6QLybxS55iCfKWtaJeqwky1Kyj9WMXWA==\n-----END RSA PRIVATE KEY-----\n```\n``` php\n$this->PHPMailer->setFrom('admin@samstradling.com', 'Site Admin');\n$this->PHPMailer->addAddress('eYLvbSoOhS2XfQ@dkimvalidator.com');\n$this->PHPMailer->addReplyTo('info@samstradling.com', 'Reply To Email');\n$this->PHPMailer->isHTML(true); \n$this->PHPMailer->Subject = 'subject';\n$this->PHPMailer->Body    = 'Some HTML body.';\n$this->PHPMailer->AltBody = 'Some non HTML body.';\n$this->PHPMailer->DKIM_domain = 'samstradling.com';\n$this->PHPMailer->DKIM_private = APPPATH.'keys/private.pem';\n$this->PHPMailer->DKIM_selector = 'dkim';\n$this->PHPMailer->DKIM_passphrase = 'ZPsRd58V8jjh'; //Again, don't get excited, it's been revoked\n$this->PHPMailer->DKIM_identity = $this->PHPMailer->From;\n$this->PHPMailer->addAttachment(APPPATH.'myfile.txt', 'TextFile.txt');\n$this->PHPMailer->send();\n```\nBody as reported by logging the $body variable at the start of the DKIM_Add() function, I think the line endings are correct but can double check this if required. (from a different email, so has a different boundary)\n```\nThis is a multi-part message in MIME format.[cr][lf]\n[cr][lf]\n--b1_dead2239a19a1aba4e8252fe90ee73e3[cr][lf]\nContent-Type: multipart/alternative;[cr][lf]\n    boundary=\"b2_dead2239a19a1aba4e8252fe90ee73e3\"[cr][lf]\n[cr][lf]\n--b2_dead2239a19a1aba4e8252fe90ee73e3[cr][lf]\nContent-Type: text/plain; charset=us-ascii[cr][lf]\n[cr][lf]\nSome non HTML body.[cr][lf]\n[cr][lf]\n[cr][lf]\n--b2_dead2239a19a1aba4e8252fe90ee73e3[cr][lf]\nContent-Type: text/html; charset=us-ascii[cr][lf]\n[cr][lf]\nSome HTML body.[cr][lf]\n[cr][lf]\n[cr][lf]\n[cr][lf]\n--b2_dead2239a19a1aba4e8252fe90ee73e3--[cr][lf]\n[cr][lf]\n--b1_dead2239a19a1aba4e8252fe90ee73e3[cr][lf]\nContent-Type: text/plain; name=\"TextFile.txt\"[cr][lf]\nContent-Transfer-Encoding: base64[cr][lf]\nContent-Disposition: attachment; filename=TextFile.txt[cr][lf]\n[cr][lf]\nVGVzdApUZXh0CkZpbGU=[cr][lf]\n[cr][lf]\n[cr][lf]\n--b1_dead2239a19a1aba4e8252fe90ee73e3--[cr][lf]\n```\n. ",
    "gothge": "To make it Work I changed:\ninstead of calling normalizeBreaks() i call SimpleBodyCanonicalization() at DKIM_BodyC\npublic function DKIM_BodyC($body) {\n        if (empty($body)) {\n            return static::$LE;\n        }\n        // Normalize line endings\n        $body = static::SimpleBodyCanonicalization($body);\n        // Reduce multiple trailing line breaks to a single one\n        return rtrim($body, \"\\r\\n\") . static::$LE;\n   }\npublic static function SimpleBodyCanonicalization($body) {        \n        if ($body == '') return \"\\r\\n\";\n        // Just in case the body comes from Windows, replace all \\r\\n by the Unix \\n\n        $body = str_replace(\"\\r\\n\", \"\\n\", $body);\n        // Replace all \\n by \\r\\n\n        $body = str_replace(\"\\n\", \"\\r\\n\", $body);\n        // Should remove trailing empty lines... I.e. even a trailing \\r\\n\\r\\n\n        // TODO\n        while (substr($body, strlen($body) - 4, 4) == \"\\r\\n\\r\\n\") $body = substr($body, 0, strlen($body) - 2);\n        return $body;\n    }\nMaybe somebody clean up mess\nTHX. ",
    "EricMcWinNer": "Synchro I'll read it...but if you could identify my error, could you please tell me where I went wrong? Thanks\n. Synchro I'll read it...but if you could identify my error, could you please tell me where I went wrong? Thanks\n. ",
    "jukuan": "I'd like to share my experience in solving this.\nAllowing access without captcha helped me:\nhttps://accounts.google.com/DisplayUnlockCaptcha\n\nI had to allow access (visit that link) directly before running script on local machine and once again before running on remote server.\nGmail refused access from suspicious (new?) devices/IPs.\nAnd you have to allow authentication from new device. And then it'll work fine.\nI'm not sure about other gmail settings. Maybe it's somewhere possible to allow access from any new device without captcha. But it's very insecure.\nPS It Would be nice to add this link and info to documentation (\"troubleshooting\"). As far as i can see, some people are looking solution for such case. I tried all advices from doc, but only that trick helped me.\n. ",
    "carvingpixel": "never mind, I found a way to get it installed on windows and run the query you provided.. :D\n. never mind, I found a way to get it installed on windows and run the query you provided.. :D\n. didn't find starttls in server response, try anyway...\nwrite: errno:10053\nopenssl> 3\nwhich from what I see online suggests that the server does not support tls, but this is smtp.office365.com on port 587 that im trying to connect to\n. didn't find starttls in server response, try anyway...\nwrite: errno:10053\nopenssl> 3\nwhich from what I see online suggests that the server does not support tls, but this is smtp.office365.com on port 587 that im trying to connect to\n. yes, the telnet does seem to be having issues. We are sort of our own network but comcast runs our backbone. I'm thinking we might be having some tls issues too.  Thanks for the help and direction, cheers!\n. yes, the telnet does seem to be having issues. We are sort of our own network but comcast runs our backbone. I'm thinking we might be having some tls issues too.  Thanks for the help and direction, cheers!\n. Here's the telnet now.\n220 DM2PR03CA0050.outlook.office365.com Microsoft ESMTP MAIL Service ready at Thu, 21 Jul 2016 12:37:39 +0000\nEHLO localhost\n250-DM2PR03CA0050.outlook.office365.com Hello [50.203.244.178]\n250-SIZE 157286400\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-STARTTLS\n250 8BITMIME\n. now able to verify via openssl, but still getting that error like before.\n```\nOpenSSL> s_client -starttls smtp -crlf -connect smtp.office365.com:587\nLoading 'screen' into random state - done\nCONNECTED(00000144)\ndepth=1 /OU=generated by avast! antivirus for SSL/TLS scanning/O=avast! Web/Mail\n Shield/CN=avast! Web/Mail Shield Root\nverify error:num=19:self signed certificate in certificate chain\nverify return:0\n\nCertificate chain\n 0 s:/C=US/ST=WA/L=Redmond/O=Microsoft Corporation/OU=Microsoft Corporation/CN=o\nutlook.com\n   i:/OU=generated by avast! antivirus for SSL/TLS scanning/O=avast! Web/Mail Sh\nield/CN=avast! Web/Mail Shield Root\n 1 s:/OU=generated by avast! antivirus for SSL/TLS scanning/O=avast! Web/Mail Sh\nield/CN=avast! Web/Mail Shield Root\n   i:/OU=generated by avast! antivirus for SSL/TLS scanning/O=avast! Web/Mail Sh\nield/CN=avast! Web/Mail Shield Root\n\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIF4TCCBMmgAwIBAgIQfjhLdg7xrkew0gV5y6KmZDANBgkqhkiG9w0BAQsFADCB\nhDE7MDkGA1UECwwyZ2VuZXJhdGVkIGJ5IGF2YXN0ISBhbnRpdmlydXMgZm9yIFNT\nTC9UTFMgc2Nhbm5pbmcxHzAdBgNVBAoMFmF2YXN0ISBXZWIvTWFpbCBTaGllbGQx\nJDAiBgNVBAMMG2F2YXN0ISBXZWIvTWFpbCBTaGllbGQgUm9vdDAeFw0xNTEwMTMy\nMjIwMDRaFw0xNzEwMTIyMjIwMDRaMIGCMQswCQYDVQQGEwJVUzELMAkGA1UECBMC\nV0ExEDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3Jh\ndGlvbjEeMBwGA1UECxMVTWljcm9zb2Z0IENvcnBvcmF0aW9uMRQwEgYDVQQDEwtv\ndXRsb29rLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALVWQNfN\ngs2iygvN83aY6BknBS9eGtjH5sKokrlHLcOf7+28sDdeu9eLUUxQAmOKyVIN1EIW\nDQWuVrL8d0zDpM9Oe39izrhuzcduirNQFzVsdAErxZWW65zo7+owIn/CXmXheSPm\nCeMIIgYZIdJE1ANrlIPpwr222daege9zFquKSRyBoEQl4cqqCjLz11xhF1+x9xzE\ncmE37EFfqiJxnfbbhSQOGuwpU8i188yC7U74NtxT6mCjZyDfeYtU3EGYvmzhSsKc\nSy3YKLsIuV1Q5YG4YnAwyuxSL89BzEuTY6L6WxvZNUlCmbleMl9AnRemDs8aDw2t\n66qXz3WsCpjLAtECAwEAAaOCAk0wggJJMAsGA1UdDwQEAwIEsDAdBgNVHSUEFjAU\nBggrBgEFBQcDAQYIKwYBBQUHAwIweAYJKoZIhvcNAQkPBGswaTAOBggqhkiG9w0D\nAgICAIAwDgYIKoZIhvcNAwQCAgCAMAsGCWCGSAFlAwQBKjALBglghkgBZQMEAS0w\nCwYJYIZIAWUDBAECMAsGCWCGSAFlAwQBBTAHBgUrDgMCBzAKBggqhkiG9w0DBzAd\nBgNVHQ4EFgQUnbCYHCRa1J3tUVPE1/a6sY17kA8wHwYDVR0jBBgwFoAUMv1k242l\ngdu6gDiswfv/CkT2QPwwTgYDVR0gBEcwRTBDBgkrBgEEAYI3KgEwNjA0BggrBgEF\nBQcCARYoaHR0cDovL3d3dy5taWNyb3NvZnQuY29tL3BraS9tc2NvcnAvY3BzADAn\nBgkrBgEEAYI3FQoEGjAYMAoGCCsGAQUFBwMBMAoGCCsGAQUFBwMCMIHnBgNVHREE\ngd8wgdyCC291dGxvb2suY29tgg0qLm91dGxvb2suY29tgg1vZmZpY2UzNjUuY29t\ngg8qLm9mZmljZTM2NS5jb22CCioubGl2ZS5jb22CFiouaW50ZXJuYWwub3V0bG9v\nay5jb22CFyoub3V0bG9vay5vZmZpY2UzNjUuY29tghJvdXRsb29rLm9mZmljZS5j\nb22CHWF0dGFjaG1lbnQub3V0bG9vay5vZmZpY2UubmV0giBhdHRhY2htZW50Lm91\ndGxvb2sub2ZmaWNlcHBlLm5ldIIMKi5vZmZpY2UuY29tMA0GCSqGSIb3DQEBCwUA\nA4IBAQBukR7OhPEjxes1DnSPOOVWXyC9tYO4+Qlr8iw8s6z8eSrJ+AfZ5YLTj69t\nM2clovaFSZEAIDy1oRycF30Dfiqt0AN2PlfFG5Bj+5u1OcAsyaI5VqPSeIN+F/IG\nzsSgPFF5VTYnh3cZTk3T/BW9LSI4Uzwy+VyJAnVXHueK/w2Iv9pFCJXr8Ppywtc7\nIDIqxX0BeTV9wrjjCxHFMUKj6aZ14sBd2PGr2RtvJBOhmynrDmHiHgCWHLDyCQ7r\nPEr8pFAxanJ0w/1O32/FsH5PzLsKwUGzW2EJv8He7VHd3tK+WdzYNE96uoPSIPgP\n2dSkEfS3S/3e9Nd4Zp/zV1xBPVF8\n-----END CERTIFICATE-----\nsubject=/C=US/ST=WA/L=Redmond/O=Microsoft Corporation/OU=Microsoft Corporation/C\nN=outlook.com\nissuer=/OU=generated by avast! antivirus for SSL/TLS scanning/O=avast! Web/Mail\nShield/CN=avast! Web/Mail Shield Root\n---\nNo client certificate CA names sent\n---\nSSL handshake has read 3543 bytes and written 357 bytes\n---\nNew, TLSv1/SSLv3, Cipher is DHE-RSA-AES256-SHA\nServer public key is 2048 bit\nCompression: NONE\nExpansion: NONE\nSSL-Session:\n    Protocol  : TLSv1\n    Cipher    : DHE-RSA-AES256-SHA\n    Session-ID: 22C9E9D814B120665E5D4470E8171436644F388219041FE5D6C5F00C93D48BB0\nSession-ID-ctx:\nMaster-Key: 5745B7A1735B9E3FF8883FDDE59078988C35714EA9159E000D04892690BDD0EC\n\n43F233ED5E27359CACFEE929CDF66840\n    Key-Arg   : None\n    Start Time: 1469106057\n    Timeout   : 300 (sec)\n    Verify return code: 19 (self signed certificate in certificate chain)\n\n250 8BITMIME\n```\n. I notice your verify return shows 1 whereas my verify return shows 0.  I also see this in mine >> verify error:num=19:self signed certificate in certificate chain.  Yours has CN = Baltimore CyberTrust Root. How to resolve my none local certificate?\n. Awesome, thanks a million again. I will check into the CA certificate and with my network counterpart regarding Avast! :D\n. Disabled Avast until next reboot as a test because the server already has an SSL installed correctly which should suffice that requirement. The disable worked perfectly and the email went through! Connection: closed Message has been sent  Now we just have to config Avast! Thanks so much Synchro!! :+1: \n. Additional info regarding Avast in case others find this:  Under Active Protection > Mail Shield > Customize > SSL Scanning > Scan SLL Connections will probably be checked. This was the case for us. We turned it off and this solved the issue on reboot and having Avast backup and running.  The info under SSL Scanning is below:\nThe Mail Shield will scan your email even when SSL/TLS security is enabled in your mail client. If your mail client uses its own certificate store(YES, in this case), the SSL scan feature will require you to export the Mail Shield certificate to a file and then import it to your mail client. \nIt provides a button that allows you to then Export Certificate in the folllowing extensions .der, .crt, .perm \nif I am correct, you can then use the following code as well. \n$arrContextOptions=array(\n    \"ssl\"=>array(\n        \"cafile\" => \"path/MailShield.pem\",\n        \"verify_peer\"=> true,\n        \"verify_peer_name\"=> true,\n    ),\n);\n. ",
    "DriWashSolutions": "I searched for \"godaddy\" on github and it returned nothing.  Also searched for \"godaddy\" on the troubleshooting page of the wiki and found nothing.  So, to me, it doesn't appear to be widely known that Godaddy blocks Outbound.  On my old host, I was getting an error - On Godaddy, it comes back with a green \"Message was sent\".\nI'm sorry that I'm not truely a coder, but i can make my way around it code given the chance, and I do search before posting.\n. After all this, one quick look at StackOverflow gives the solution for Godaddy: \n$mail->Host = localhost;                              // Specify main and backup SMTP servers\nand comment out the following four account lines\n//      $mail->SMTPAuth = true;                               // Enable SMTP authentication\n//      $mail->Username = 'xxx';                              // SMTP username\n//      $mail->Password = 'xxx';                              // SMTP password\n//      $mail->SMTPSecure = 'tls';  \nMaybe putting this in a section for Godaddy will help as well.\n. ",
    "jjchaos": "I should have checked the apache logs before posting. It wasn't finding oauth2-google referenced in class.phpmaileroauthgoogle.php. Ran composer require league/oauth2-google and uploaded new vendor folder to server. I had oauth2-client in the league folder but not oauth2-google.\nProblem resolved. \n. ",
    "therockers": "@Synchro They are all on the same network. The debugger says \"Permission denied\". I just tried it on my Ubuntu OS and it's working. Maybe it's one of the core files that is messing up. The configuration files are exactly the same, but not the core files. The one on the CentOS has a little more stuff added to the core files which then requires the configuration file which then will use PHPMailer. I will have to copy over this copy again and try to see if it is because of the core files.\nIf it isn't, then it's a PHPMailer problem. Probably from CentOS.\n\nEDIT: Yes. It is only a CentOS problem right now. I don't know what it is, but it's just not sending emails and it keeps going back to that message. When using $mail->SMTPDebug = 2; it shows me this.\n2016-08-04 03:17:10 SMTP ERROR: Failed to connect to server: Permission denied (13) 2016-08-04 03:17:10 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nI created a vhost and a subdomain so this part of the test actually does use the exact core files from the Windows OS. I get the same message, but when I use Ubuntu and use the exact core files, it actually sends. I think it has something to do with Security Context since I remember it was blocking some stuff from working on my first CentOS. This is my 2nd one because I am doing a multi-boot on my laptop HD. The first CentOS is on my desktop HD.\n. @Synchro\nI gave up on the issue. If one of my clients use CentOS, I'll just warn them about this issue.\n. ",
    "wazirsoft": "@bjoernv no as @Synchro said it's not a problem with phpmailer but my SMTP was removing \"Received\" not phpmailer\n. ",
    "s26": "@Synchro Thanks for pointing to the troubleshooting guide. figured out the issue with the help of SMTPDebug. I have setup environment variable and somehow it was giving blank result for smtp host,username,password.\n. ",
    "biax": "I don't have a mail server. I thought the purpose of PHPMailer is to use an external mail server? Am i wrong?\n. I'm fairly convinced now this has to do with my php-fpm chroot setup and bind mounts. However anyway, can the guides be more specific? To begin with which \"guide\" are you referring to? Mind directly linking me?\n. I don't know why you're so convinced the issue is at the mail server end... I'm using yandex\nalso check this\n`root@agosto ~http/x/www/_www # cat test_chroot.php \n<?php\n        header('Content-Type: text/plain');\n        ini_set('display_errors',1);\n        error_reporting(E_ALL);\n```\n    echo \"----- DNS + TLS  -----\\n\";\n    file_get_contents('https://www.x.com') && print(\"OK\");\necho \"\\n\\n----- Timezone database -----\\n\";\necho \"Date:  \".date('r');\n\n```\n?>`\n`\n\nroot@agosto ~http/x/www/_www # curl https://www.x.com/test_chroot.php\n----- DNS + TLS  -----\n\nWarning:  file_get_contents(): SSL operation failed with code 1. OpenSSL Error messages:\nerror:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed in /_www/test_chroot.php on line 7\n\nWarning:  file_get_contents(): Failed to enable crypto in /_www/test_chroot.php on line 7\n\nWarning:  file_get_contents(https://www.x.com): failed to open stream: operation failed in /_www/test_chroot.php on line 7\n----- Timezone database -----\nDate:  Mon, 08 Aug 2016 00:42:15 +0800#\n`\nI did a testing earlier without chroot and i didnt get that openssl error msg. Unfortunately I didnt save the output and i dont wanna change the settings right now.\nI'm gonna look deeper into my chroot issue. Thanks\n. You're right. Fixed by adding ini_cafile in php.ini to a cacert.\nThanks for your time.\n. ",
    "gagathos": "WHM/Cpanel Users-- there is a tweak setting that may be tripping you up and redirectiong outgoing email connections to localhost (which is then rejecting your connection). I'm just leaving this here because I spent two hours trying to figure out why my mail wasn't working\nhttps://features.cpanel.net/topic/change-fka-smtp-tweak-behavior-to-encourage-correct-user-behavior. ",
    "chasmckjr": "My apologies I copied the wrong code over.  Here it is.  Also I am very new to Wordpress.  It's a lot I don't understand.\n``` php\n<?php\nrequire(\"class.PHPMailer.php\");\n//PHPMailer Object\n$mail = new PHPMailer;\nif( isset( $_POST['action'] ) ) {\n//From email address and name\n$mail->From = \"hello@voice-exchange.com\";\n$mail->FromName = \"Voice Exchange\";\n//To address and name\n$mail->addAddress(\"krystal.harter@gmail.com\", \"Krystal Harter\");\n//Address to which recipient will reply\n$mail->addReplyTo(\"no-reply@voice-exchange.com\", \"No Reply\");\n//CC and BCC\n$mail->addCC(\"tiffany@voice-exchange.com\", \u201ccimcollier@gmail.com\u201d,  \u201clovellsmith7@gmail.com\u201d);\n//Send HTML or Plain Text email\n$mail->isHTML(true);\n$mail->Subject = \"New Medical Client\";\n$mail->Body = \"Account Number: ____\"\n\"Call Forwarding Number: ______\"\n\"Professional Business Name: \" . $busnme .\n\"Specialty: \" . $spec\n\"Tax ID: \" . $taxid\n\"Name of Highest Ranking Officer: \" . $rankoff\n\"Social Security Number of Highest Ranking Officer: \" . $socsecrankoff\n\"Birth Date of Highest Ranking Officer: \" . $birthdate\n\"Business Address: \" . $bussadd\n\"Billing Address: \" . $billadd\n\"Office Open Days & Hours: \" . $dayhr\n\"Telephone Numbers: \" . $phnum\n\"Private Line (Back UP): \" . $privln\n\"Fax: \" . $fax\n\"Do You Want Daily Fax: \" . $faxyesno\n\"If Yes, Time and Days to Fax: \" . $tmedayfax\n\"Do You Want Voice Mail: \" . $voicemail\n\"Do You Want Email: \" . $doemail\n\"If Yes, Time and Days To Email: \" . $tmedayemail\n\"Answer Phrase You Would Like Us To Use When Answering Your Line: \" . phrase\n\"Call Schedule: \" . $callsch\n\"Times Call Schedule In Effect? \" . $cllschdayfr . \"To\" . $cllschdayto\n\"WeekEnd: \" . $cllschwkendfr . \"To\" . $cllschwkendto\n\"Doctor(s) and Office Staff We Will Be Contacting: \"\n\"Name: \" . $name\n\"Home: \" . $home\n\"Pager: \" . $pager\n\"THIS INFORMATION MUST BE COMPLETED BEFORE SERVICE IS IMPLEMENTED\n\"Client's Name: \" . $clntnme\n\"Client's ESignature: \" . $clntsig\u201d;\n$mail->AltBody = \"Please Do Not Reply To This Email!!!\";\n}\nif(!$mail->send()) \n{\n    echo \"Mailer Error: \" . $mail->ErrorInfo;\n} \nelse \n{\n    echo \"Message has been sent successfully\";\n}\n```\n. My vars are good. They are coming from an html form.  I'm not getting an error message.  I didn't realize part of my code shows on the website.  It looks like where I'm using Mail ->, the code is showing up on the web page.  I'm trying to use wp_mail\n. I'm using a plugin Allow PHP execute.  I thought it will let me put the PHP right on the page\n. It there a script I can run on a page to test the wp_mail.  Just to see if it's working on a wordpress page.  I tested it in settings email and it sends the email.\n. Did I lose my help?\n. ok thanks\n. ",
    "ADTC": "Oh I didn't know. What's the best way to make a contact form in PHP send email from a generic email address, but make the email look like it's coming from a personal email address? I thought \"on behalf of\" would work:\n\nContact Form contactform@mywebsite.com on behalf of Jane jane@example.com\n\nI know about \"Reply To\" and it works, but the original email still appears to come from generic email address:\n\nContact Form contactform@mywebsite.com\n\nI am settling to simply show the submitter's name and email address in the From's name part, likewise:\n\nJane (jane@example.com) contactform@mywebsite.com\n\nThis is the closest I can get. Unless there's a better way.\n. > Don't try to use the submitters name in the from address as that will cause SPF failures.\nCould you give me an example? The last format works fine for me, as the email address of the submitter is not in angle brackets but in parentheses. Note that the angle brackets contains the email address in my domain (and which I can send a message \"from\"), so the message is sent correctly. The message is only sent internally and will never go directly to an external email server (different domain). Should I still be worried about SPF failures?\n. The last bit is interesting. Perhaps I could ignore SPF rules for emails sent to internal addresses (still applying them for those going external). It would be possible to do the configuration if I'm running my own mail server. But I'm using a cloud service, so it may not be possible. I will need to check.\nThanks for the insight, @ooxi . \n. ",
    "m0lmk": "Looks like I solved this one. The remote server was using an invalid certificate. I added this to my code and all works fine...\n$mail->SMTPOptions = array(\n  'ssl' => array(\n    'verify_peer' => false,\n    'verify_peer_name' => false,\n    'allow_self_signed' => true\n  )\n);\nI'll leave it here in case anyone else runs into this.\n. Yes, good points Synchro.\nI've updated the certificate on the server and removed the code but it was very useful for debugging. \n. ",
    "tesmond": "Well my current solution is something like the following:\nif (parent::validateAddress($address)) return true;\n$address = iconv('ISO-8859-1', 'ASCII//TRANSLIT', $address);\nreturn parent::validateAddress($address);\nI was just concerned about somehow generating false positives. Of course we capture failed email addresses and log bounces, but as I couldn't find anything about this I was wondering if any work was planned or already done in this. Thanks for the info.\n. ",
    "bor0": "As far as I investigated, the issue seems to be around this on the page:\n```\n// Comments and folding white spaces\n'/^((?>(?>(?>((?>(?>(?>\\x0D\\x0A)?[\\t ])+|(?>[\\t ]\\x0D\\x0A)?[\\t ]+)?)(((?>(?2)(?>[\\x01-\\x08\\x0B\\x0C\\x0E-\\'-[]-\\x7F]|\\[\\x00-\\x7F]|(?3)))*(?2))))+(?2))|(?2))?)$/iD'\n```\nHowever, dealing with the regex is a bit tricky. Do you have any recommendations @Synchro? I tried using https://regex101.com/ but it's still complex :)\n. @Synchro, looks good! But the Kept for BC comment doesn't make sense, since it's a breaking change right? So backwards compatibility using a broken change kind of contradicts.\nIf we go ahead with that change imo we should remove those comments and also document what would break as you said.\n. See this link for PHP's internal regex.\n. @Synchro agreed with your points, but https://github.com/PHPMailer/PHPMailer/issues/804 is still valid imo.\n. ",
    "blokeish": "Thanks Synchro. That does speed it up a bit but not as fast as it did on PHP 5.5\n. ",
    "sagarindia": "Dear Synchro, I have same issue. http://83.110.153.143:9009/login?reset  this my site url this page use for reset password. \ntry here to use a wrong email address example;  abcd@xys.com\nit load within second because that time PHP mail function not call\nbut when you enter a correct email id   as    sagarindia2088@gmail.com    it take time to load i start debugging for you.  Please check and give me ans.\nmy PHP version is 5.6.15\n. anyone can help me regarding this issue. Dear Synchro, I give you all links when you access that links you got all bugs report because i enable debugging with value 2. Ya i am ussing PHP mailer \n. Ok i will try it with local server, If i have any issue after that i reply on this issue. Thanks for your suggestion. . Ok, i just enable it for you to debugging . can you give me any suggestion where it check\nif($stm->num_rows>0){\n        include('inc/mailclass.php');\n        $stm->bind_result($seo_name,$title,$description,$images,$post_date,$expire_on,$full_name,$email);\n        while($stm->fetch()){   \n            $images_array = array_filter(explode(',',$images));\n            $mailimage = $images_array[0];\n            $key=md5($post_date * $expire_on);\n            $detail = strlen($description) > 50 ? substr($description,0,50).\"...\" : $description;\n            ob_start();\n            include \"/email_templates/post_expired.php\";\n            $htmlmessage =  ob_get_contents();\n            ob_end_clean();            \n            sendmail($email,'Ad Expiry Notification',$htmlmessage,'',array());\n        }\n    }\nbecause it work fine it outside of loop. ",
    "FlashWebTech": "By using \n<?php\n$mail->Host = gethostedbyname('smtp.google.com');\n?>\nit will be dimely Fast or use disable SMSTPAuth using  SMTPAuth = false;. By using \n<?php\n$mail->Host = gethostedbyname('smtp.google.com');\n?>\nit will be dimely Fast or use disable SMSTPAuth using  SMTPAuth = false;. I am using this On my new Project and is sending in Milliseconds I will send the configurations here.. I am using this On my new Project and is sending in Milliseconds I will send the configurations here.. But is working for me anyway.. But is working for me anyway.. ",
    "SalientAnimal": "Hi there, \nI know there error is somewhere on my side, which is why I was asking for advice.\nI wasn't sure if I had not configured something correctly.\nWhat I would like to know is, is the error on the Webserver? Or would it be a problem on the mail server that I would need to take up with the ISP?\nThanks\nSent from my iPhone\n\nOn 18 Aug 2016, at 17:46, Marcus Bointon notifications@github.com wrote:\nThis isn't anything to do with PHP or PHPMailer - it means your server's DNS config is broken. This is covered in the troubleshoting guide that the error message links to. Fix your DNS and PHPMailer will be able to work.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thanks, I will try this when I am back in the office tomorrow. \n\nI read through the suggested trouble shooting guide. Are you able to suggest a dnsutils that I would be able to use on Windows Server? As this seems to be for Debian/Ubuntu, or am I mistaken?\nFrom: Marcus Bointon [mailto:notifications@github.com] \nSent: Thursday, August 18, 2016 6:42 PM\nTo: PHPMailer/PHPMailer PHPMailer@noreply.github.com\nCc: SalientAnimal leon.claassen@techdesignlab.co.za; Author author@noreply.github.com\nSubject: Re: [PHPMailer/PHPMailer] PHPMailer SMTP ERROR (#808)\nIt will be wherever the script is running, so on your web server. The problem is that the web server can't find the IP address of your mail server from the name you've given it (smtp.sebenzela.co.za), hence the error. Read the guide and do the tests that it suggests, which will tell you what's going wrong, but it can't tell you how to fix it.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/808#issuecomment-240782744 , or mute the thread https://github.com/notifications/unsubscribe-auth/ATwk4uJBQzrJ0xXPXsa3hiqPaEliTsL_ks5qhItLgaJpZM4Jnh1j .  https://github.com/notifications/beacon/ATwk4pdg_ZofNVlQY-zHF5rEsgUQcuS3ks5qhItLgaJpZM4Jnh1j.gif \n. Hi there,\nI just wanted to say thanks for your help yesterday. I'm not able to understand why my server can not resolve the host name. \nI have changed my host attribute to reflect the smtp mail server's IP address and the mail function now works.\nI know this isn't normal practice, and just want to be sure that there isn't a security risk or any other risks of configuring it in this way?\nThanks again, as pretty much a newbie, every bit of help goes a long way.\nSent from my iPhone\n\nOn 18 Aug 2016, at 19:18, Marcus Bointon notifications@github.com wrote:\nI can't really be much help on the windows admin front, but you could try nslookup\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "juanmafx": "Do you check spam?\n. ",
    "sudarshansaha": "Hello Sir,\nFirst of all thanks for your reply. \nOn your suggestion I just checked Trash directory and they all are there. Whatever, later I was able to figure out source of the problem. There was some problem with the data structure - I used some extra spaces in the Subject section which was causing the error. I am not an expert in this field, but when I googled it I found there is some issues with \"space\" character. Here is my code which is working fine apart from the fact, when I turn on my localhost I have to restart apache server everytime otherwise I would get this error\nConnection: opening to smtp.gmail.com:587, timeout=300, options=array ( 'ssl' => array ( 'verify_peer' => false, 'verify_peer_name' => false, 'allow_self_signed' => false, ),)\nSMTP ERROR: Failed to connect to server: php_network_getaddresses: getaddrinfo failed: Name or service not known (0)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nCode:\nphp\nrequire 'PHPMailer-master/PHPMailerAutoload.php';\n\n<p$mail = new PHPMailer;\n$mail->SMTPDebug = 3;\n$mail->Debugoutput = 'html'; \n$mail->IsHTML(true);\n$mail->WordWrap = 50;                                       \n$mail->isSMTP();\n$mail->Mailer='smtp';\n$mail->SMTPAutoTLS = false;\n$mail->SMTPAuth = true;\n$mail->SMTPOptions = array(\n    'ssl' => array(\n       'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => false\n    )\n);\n// For GMail\n$mail->Host = \"tls://smtp.gmail.com:587\";\n// For GMail\n$mail->Username = \"someone@gmail.com\";\n$mail->Password = \"someSecret\";\n$mail->From = \"someone@gmail.com\";\n$from = \"Someone Stupid\";\n$to = \"Someone Else\";\n$mail->FromName = $from;\n$mail->addAddress(\"someone.else@somedomain.someprotocol\", \"$to\");\n$mail->Subject = \"Somesubject- Somematter\";\n// This is a HTML message\n$mail->Body = \"Hello, This is a system generated email, please do not reply to it.Thanks\";\n// This is a plain text message\n$mail->AltBody = \"Hello, \\r\\n\\r\\nThis is a system generated email, please do not reply to it.\\r\\n\\r\\nThanks\";\nif(!$mail->send()) {\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    //perform success actions\n    echo 'mail was sent';\n   exit();\n}\n$mail->SmtpClose();\n?>\n. ",
    "Daichisan": "Hm...now I'm getting this error:\n[26-Aug-2016 02:27:08 CST6CDT] mail() on [/home/onixgami/public_html/alpha/includes/plugins/phpmailer/class.phpmailer.php:611]: To: \"davidrok.roglic@gmail.com\" <davidrok.roglic@gmail.com> -- Headers: Date: Fri, 26 Aug 2016 02:27:08 -0500 Return-Path: <root@localhost> From: Root User <root@localhost> Message-ID: <78df0a5494d69566e0b44eafff073a85@alpha.drrbox.com> X-Priority: 3 X-Mailer: PHPMailer 5.2.7 (https://github.com/PHPMailer/PHPMailer/) MIME-Version: 1.0 Content-Type: text/plain; charset=iso-8859-1 Content-Transfer-Encoding: 8bit\n. Hm...I've updated the PHPMailer, but still I can't get the mails to send.\nError log:\nmail() on [/home/onixgami/public_html/alpha/includes/plugins/phpmailer/class.phpmailer.php:689\nMy code for sending\n``` php\nclass Mail {\n    function mail() {\n        global $db;\n        global $cache;\n    $mail_settings = $cache->get(\"mail_settings\");\n\n    if ($mail_settings == null) {\n        $query = $db->query(\"SELECT * FROM mail_settings\");\n\n        while ($result = $db->fetch_array($query)) {\n            $mail_settings[$result['field']] = $result['value'];\n        }\n\n        $cache->set(\"mail_settings\", $mail_settings, 604800);\n    }\n\n    $this->mail_settings = $mail_settings;\n    $this->mail = new PHPMailer();\n\n    if ($this->mail_settings['email_type'] == \"smtp\") {\n        $this->mail->IsSMTP();\n        $this->mail->SMTPAuth = true;\n        $this->mail->SMTPSecure = $this->mail_settings['smtp_ssl'];\n        $this->mail->Host = $this->mail_settings['smtp_host'];\n        $this->mail->Port = $this->mail_settings['smtp_port'];\n        $this->mail->Username = $this->mail_settings['smtp_username'];\n        $this->mail->Password = $this->mail_settings['smtp_password'];\n    }\n\n}\n\nfunction setFrom($from_email = null, $name = null) {\n    if (!empty($from_email)) {\n        $this->from = $this->mail_settings['email_from_address'];\n        $this->from_name = $this->mail_settings['email_from_name'];\n    }\n    else {\n        $this->from = $from_email;\n\n        if ($name == \"\") {\n            $this->from_name = $this->from;\n        }\n        else {\n            $this->from_name = $name;\n        }\n    }\n\n    $this->mail->SetFrom($this->from, $this->from_name);\n    $this->mail->AddReplyTo($this->from, $this->from_name);\n}\n\nfunction addTo($to_email, $to_name = null) {\n    $this->to = $to_email;\n\n    if ($to_name == \"\") {\n        $this->to_name = $this->to;\n    }\n    else {\n        $this->to_name = $to_name;\n    }\n\n    $this->mail->AddAddress($this->to, $this->to_name);\n}\n\nfunction setSubject($subject) {\n    $this->mail->Subject = $subject;\n}\n\nfunction setBodyText($message) {\n    $this->mail->ContentType = \"text/plain\";\n    $this->mail->IsHTML(false);\n    $this->mail->Body = $message;\n}\n\nfunction setBodyHtml($message) {\n    $this->mail->AltBody = \"To view the message, please use an HTML compatible email viewer!\";\n    $this->mail->MsgHTML(stripslashes($message));\n}\n\nfunction send() {\n    if (!$this->mail->Send()) {\n    }\n\n}\n\n}\nrequire ROOTPATH . \"includes/classes/class_refcron.php\";\n```\nBut the notice I'm getting is that the email was send. But I'm not receiving it. Don't know whats wrong.\n. Yeah I'm creating a PHP error log file. From where I can see this error:\nPHP Fatal error:  Class 'SMTP' not found in /home/onixgami/public_html/alpha/includes/plugins/phpmailer/class.phpmailer.php on line 1466\nThis is the line: $this->smtp = new SMTP;\n/**\n     * Get an instance to use for SMTP operations.\n     * Override this function to load your own SMTP implementation\n     * @return SMTP\n     */\n    public function getSMTPInstance()\n    {\n        if (!is_object($this->smtp)) {\n            $this->smtp = new SMTP;\n        }\n        return $this->smtp;\n    }\nIf it helps, I'm using SiteGround hosting. And thanks for helping me out!\n. ",
    "MGITPI": "Hi,\nI am trying to send auto email from scheduled task created in plesk panel(12.5.30) PHP (5.6.31), email works when I run file directly but getting below error when I am trying to run through scheduled task.\n[02-Jan-2018 03:49:30 UTC] PHP Parse error:  syntax error, unexpected '[' in Automation\\PHPMailer\\src\\PHPMailer.php on line 288. ",
    "bharathjinka09": "( ! )\u00a0Parse error: syntax error, unexpected '[' in F:\\wamp\\www\\phpmail\\mailer\\src\\PHPMailer.php on line\u00a0288\n. Can anyone solve this error please. ",
    "PaulRest": "@Synchro Right, thanks for the help.. @Synchro Right, thanks for the help.. ",
    "godwinshobowale": "Thank you, it just worked now. \n. ",
    "mrojas18": "i have the last version downloaded from github in the github say : 5.5.23 but inside the file its says: version 5.2.23, \nand i have the same problem, \nthe question here is: where is the newest version? on github master branch or another place?\n. ",
    "ibonly": "@Synchro: Okay, thanks for the update. If I understand what you're suggesting:\n- Exception should not be abstracted from where it is thrown\n- Avoid the use of private methods because it goes against PHPMailer's policy\n- @access public and @return void should not be defined because they are default.\n- Turning if into a method doesn't help readability.\nTo fix these issues:\n- Throw exception where its suppose to be thrown\n- Use protected methods instead of private methods\n- Remove @access public and @return void, though the order isn't specified in PSR-2 but PHPMailer can have a default order to enhance consistency.\n- Avoid abstracting if statement\n- Target unreleased 6.0 branch, but only one branch is available for apart from 6.0 which is xoauth which is dated later than 6.0\n. Okay, I will make the update.\n. ",
    "thierry-masson": "I confirm that PHPMailer does not work with SMTP on 1and1, even if I use an email account from 1and1. It works with PHPMailer configured to use the PHP mail() function. So, it is unlikely that they block outbound SMTP since I test with their own smtp server! I will send an email to 1and1 to ask them the reason\u2026\nBTW: I can send emails using \"PHPMailer + smtp + 1and1 account\" from a server installed on my computer (localhost with MAMP). So, PHPMailer is not \"incompatible\" with 1and1!\nThierry\n. ",
    "mattstein": "I appreciate your responses in these issue threads, @Synchro, as your guess pointed me in the right direction. Per this source and my experience thus far, 1&1 doesn't allow any third party SMTP connections from its servers. I've spent more than an hour on the phone with three agents, and nobody seems to understand the context of the problem let alone answer or confirm. They've each had me try sendmail, mail(), and anything but SMTP without explicitly acknowledging (or seemingly comprehending) that I'd like to use SMTP in the first place.\nI mention this for posterity and the next unfortunate developer that gets stuck dealing with 1&1.. 1and1 is only lenient with its own SMTP, @whikloj, so your $mail->Host = \"smtp.1and1.com\"; is the critical detail there. If it was smtp.google.com or smtp.[ANYTHING ELSE].tld, you'd be having problems because of 1and1's policy.. 1and1 is only lenient with its own SMTP, @whikloj, so your $mail->Host = \"smtp.1and1.com\"; is the critical detail there. If it was smtp.google.com or smtp.[ANYTHING ELSE].tld, you'd be having problems because of 1and1's policy.. ",
    "whikloj": "I am able to send mail using PHPMailer (commit 48261992765204ea5e3772b003075ad053937155) on a 1and1.com site.\nI used.\n```\n$mail = new PHPMailer();\n//Tell PHPMailer to use SMTP\n$mail->isSMTP();\n//Enable SMTP debugging\n// 0 = off (for production use)\n// 1 = client messages\n// 2 = client and server messages\n$mail->SMTPDebug = 0;\n//Set the hostname of the mail server\n$mail->Host = \"smtp.1and1.com\";\n//Set the SMTP port number - likely to be 25, 465 or 587\n$mail->Port = 25;\n//Whether to use SMTP authentication\n$mail->SMTPAuth = true;\n$mail->SMTPSecure = 'tls';\n//Username to use for SMTP authentication\n$mail->Username = \"\";\n//Password to use for SMTP authentication\n$mail->Password = \"\";\n```\nNot sure if that helps anyone, hopefully it does. The whole using TLS with port 25 was kind of confusing.\n Edit \nAlso I'm using PHP 7.1. I am able to send mail using PHPMailer (commit 48261992765204ea5e3772b003075ad053937155) on a 1and1.com site.\nI used.\n```\n$mail = new PHPMailer();\n//Tell PHPMailer to use SMTP\n$mail->isSMTP();\n//Enable SMTP debugging\n// 0 = off (for production use)\n// 1 = client messages\n// 2 = client and server messages\n$mail->SMTPDebug = 0;\n//Set the hostname of the mail server\n$mail->Host = \"smtp.1and1.com\";\n//Set the SMTP port number - likely to be 25, 465 or 587\n$mail->Port = 25;\n//Whether to use SMTP authentication\n$mail->SMTPAuth = true;\n$mail->SMTPSecure = 'tls';\n//Username to use for SMTP authentication\n$mail->Username = \"\";\n//Password to use for SMTP authentication\n$mail->Password = \"\";\n```\nNot sure if that helps anyone, hopefully it does. The whole using TLS with port 25 was kind of confusing.\n Edit \nAlso I'm using PHP 7.1. @mattstein Ahhhh, so if you are trying to send mail via a different email provider (for instance Google) then you can't connect. I understand.. @mattstein Ahhhh, so if you are trying to send mail via a different email provider (for instance Google) then you can't connect. I understand.. @bguinen I'm using the email address (<user>@<domain>) as the user, and yes the control panel PW. I haven't tried the account ID or anything else.. @bguinen I'm using the email address (<user>@<domain>) as the user, and yes the control panel PW. I haven't tried the account ID or anything else.. ",
    "bguinen": "@whikloj what 1&1 credentials are you using for your Username/PW? the same used to access their control panel?. I also ended up creating an email with 1&1 and using that for the PHP script, then forwarded to the preferred gmail account. . ",
    "inboudayo": "I am using smtp.1and1.com and it still doesn't work.\n\nSMTP ERROR: Failed to connect to server: Connection timed out (110) 2017-06-01 05:45:40   SMTP connect() failed\n\nWorks fine on localhost.\nUPDATE: works with port 25, not 587.. I am using smtp.1and1.com and it still doesn't work.\n\nSMTP ERROR: Failed to connect to server: Connection timed out (110) 2017-06-01 05:45:40   SMTP connect() failed\n\nWorks fine on localhost.\nUPDATE: works with port 25, not 587.. ",
    "cafiah": "Thanks a lot for this thread, I was fighting with 1and1 smtp mailing for 1 week... and finally this is all about smtp.1and1.com on port 25 rather than using auth.smtp.1and1.fr on port 465 !. Thanks a lot for this thread, I was fighting with 1and1 smtp mailing for 1 week... and finally this is all about smtp.1and1.com on port 25 rather than using auth.smtp.1and1.fr on port 465 !. btw on a related topic do you also have your mails ending up in spam at least on gmail when using 1and1 smtp?. btw on a related topic do you also have your mails ending up in spam at least on gmail when using 1and1 smtp?. ",
    "rtrdigital": "The problem with 1and1 is that it doesn't support the fined $mailer as \"smtp.\" Every program installed on 1and1 has to be reconfigured to use the \"sendmail\" option in whatever php file manages the outgoing mail.. ",
    "boteha": "Hello Synchro,\nI find this piece of code in lign 2725 of class.phpmailer.php\nWith value at 65 :\nSubject: =?ISO-8859-1?Q?monsite.com_:_SUIVI_de_votre_devis_11,\n _pro?=  =?ISO-8859-1?Q?position_d'=E9change?=\nBut with value at 55 :\nSubject: =?ISO-8859-1?Q?monsite.com_:_SUIVI_de_votre_dev?=\n =?ISO-8859-1?Q?is_11, _proposition_d'=E9change?=\nAnd at least display in the header of Thunderbird is good :\nmonsite.com : SUIVI de votre devis 11,  proposition d'\u00e9change\nSo the solution seems to be :\n$maxlen = 55 - 7 - strlen($this->CharSet);\nThank you very much for your help.\n. ",
    "paica": "Thank you Marcus!\nDe: Marcus Bointon [mailto:notifications@github.com] \nEnviado el: lunes, 05 de septiembre de 2016 03:33 p.m.\nPara: PHPMailer/PHPMailer\nCC: paica; Author\nAsunto: Re: [PHPMailer/PHPMailer] reCaptcha server side (#819)\nSorry, I have no idea about using recaptcha, and PHPMailer doesn't depend on it at all, so you'll need to ask them. The basic idea will be to validate the recaptcha submission before you go ahead and send mail.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/PHPMailer/PHPMailer/issues/819#issuecomment-244796757 , or mute the thread https://github.com/notifications/unsubscribe-auth/AU_fgVifN8NmjiO0vT1WC9qm7X4u4_WNks5qnGBbgaJpZM4J1Qi8 .  https://github.com/notifications/beacon/AU_fgSUpjZoyqVW9x-IJ49_cWuXwsROwks5qnGBbgaJpZM4J1Qi8.gif \n. ",
    "sc0Vu": "https://github.com/PHPMailer/PHPMailer/blob/master/examples/smtp.phps\n. ",
    "kiruthikanaethra": "ok thanks to advising me. Here after i will take care of it.\nBut im using $mail->Host = smtp.gmail.com;\nOn Wed, Sep 14, 2016 at 4:14 PM, ooxi notifications@github.com wrote:\n\nP.S.: Are you aware that you are posting your credentials (\nramsatt@gmail.com / 42127600Ram) on a public forum?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/826#issuecomment-246974360,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AVKjNWjNXdyklIVjxcoHMGuf1SAlh0gGks5qp9AbgaJpZM4J8nNt\n.\n. So its not a code problem....How to fix this? any suggestion please\n\nOn Wed, Sep 14, 2016 at 4:36 PM, Marcus Bointon notifications@github.com\nwrote:\n\nWell exactly - as the guide says, check that the server you are connecting\nto is the one you expect - you are asking for smtp.gmail.com but you can\nsee it's not connecting to a gmail server, which suggests it's being\nintercepted and redirected to your ISP's mail server, on which your\ncredentials will obviously not work. This is why you should never turn off\ncertificate verification.\nNote that your own change of certificate has nothing to do wtih this.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/826#issuecomment-246979167,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AVKjNXEc1BGd5FhX5yxGFL_UDmYd-T3Dks5qp9UpgaJpZM4J8nNt\n.\n. Ok.Thanks for your support.I will ask my hosting provider regarding this\nissue\n\nOn Wed, Sep 14, 2016 at 4:41 PM, Marcus Bointon notifications@github.com\nwrote:\n\nNope, not a code issue, and as such not something we can fix for you. Talk\nto your ISP, read their docs.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/826#issuecomment-246980294,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AVKjNXk9zI-A2i-_GMVIkr-vZGJdRbvtks5qp9ZlgaJpZM4J8nNt\n.\n. \n",
    "BlackFayah": "Oh wow I had a little typo in my code (didn't post that part) and that caused it... Thanks to your reply I took a closer look and found it. Cheers!\n. ",
    "vanessasoutoc": "Bug solved! You need to change the file class.phpmailer.php, on the functions 'addStringAttachment and addAttachment:\nORIGINAL CODE:\n$this->attachment[] = array(\n            0 => $string,\n            1 => $filename,\n            2 => basename($filename),\n            3 => $encoding,\n            4 => $type,\n            5 => true, // isStringAttachment\n            6 => $disposition,\n            7 => 0\n        );\nPATCHED CODE:\n $this->attachment[] = array(\n            0 => $string,\n            1 => $filename,\n            2 => basename($filename),\n            3 => $encoding,\n            4 => $type,\n            5 => true, // isStringAttachment\n            6 => $disposition,\n            7 => count($this->attachment)\n        );\n. I have Array of the image in code base64... So i do a for and create $mail->addStringAttchament \neach time it enters the for:\nfor($i = 0; $i < count($images); $i++){\n$mail->addStringAttachment(base64_decode($images[$i]), \"test\".$i.\".jpeg\", \"base64\", \"image/jpeg\");\n}\nThe modification in file class.phpmailer.php is required for send many attachments, otherwise only send an attachment.\nPlease, insert new modification in the next version!\nunderstood? \n. I do not know how to do this.\n. ",
    "jop217": "Thanks for your reply. The server is not accessible from outside on this port. But I'll investigate in why I had this error.\n. ",
    "Padnezz": "Yeah ofcourse! I added them to the latest commit\n. Doooone\n. ",
    "maramba7": "Thank you, i think that it can be used to pass the header and the message directly\n. ",
    "asantos88": "I add this code to make it work on PHP7\nIt seems that i've got a misconfigured certificate\nphp\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\nThanks!\n. ",
    "Elessar64": "Don't be mad at me for not understanding how all of this works :/\nI had to google \"MTA\" to understand what you were talking about.\nI thought my case was just another case of non-delivery, who could result in an smtp error, witch worked fine until now. For exemple if my script try to send an email to an adress that doesn't exist, the script will receive a non-delivery status and move on to the next email. I thought it was the same here, and maybe I didn't use the right function or something.\nThanks for your help, I'll try to understand how to deal with it with the informations you gave me.\n(Sorry for my English, i'm not a native speaker but I try my best ;) )\n. ",
    "AmrataRamchandani": "I am not setting $mail->AuthType parameter\nIs it required ? If yes then which value should i choose for it ?\n. Setting., $mail->AuthType = 'LOGIN';  worked like charm !\nCheers !\n. ",
    "requillo": "Hi Synchro,\nbeen having the same problem check error\n2016-10-03 16:25:14 Connection: opening to mail.rudisa.net:26, timeout=300, options=array ( 'ssl' => array ( 'verify_peer' => false, 'verify_peer_name' => false, 'allow_self_signed' => true, ), ) \n2016-10-03 16:25:15 Connection: opened \n2016-10-03 16:25:15 SERVER -> CLIENT: 220 rudisa.net ESMTP Postfix \n2016-10-03 16:25:15 CLIENT -> SERVER: EHLO localhost \n2016-10-03 16:25:15 SERVER -> CLIENT: 250-rudisa.net 250-PIPELINING 250-SIZE 102400000 250-ETRN 250-STARTTLS 250-AUTH CRAM-MD5 PLAIN LOGIN 250-ENHANCEDSTATUSCODES 250-8BITMIME 250 DSN \n2016-10-03 16:25:15 CLIENT -> SERVER: STARTTLS \n2016-10-03 16:25:15 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS \n2016-10-03 16:25:16 CLIENT -> SERVER: EHLO localhost \n2016-10-03 16:25:16 SERVER -> CLIENT: 250-rudisa.net 250-PIPELINING 250-SIZE 102400000 250-ETRN 250-AUTH CRAM-MD5 PLAIN LOGIN 250-ENHANCEDSTATUSCODES 250-8BITMIME 250 DSN \n2016-10-03 16:25:16 CLIENT -> SERVER: AUTH CRAM-MD5 \n2016-10-03 16:25:16 SERVER -> CLIENT: 334 PDM5NzM4MDA1ODguMTU4OTQyMTFAcnVkaXNhLm5ldD4= \n2016-10-03 16:25:16 CLIENT -> SERVER: bm9yZXBseUByZXF1aWxsby5jb20gYjgxODE4Zjk5ZTI2MTY1ZTcxMjU5OTYwZjczOTcwMDA= \n2016-10-03 16:25:16 SERVER -> CLIENT: 535 5.7.8 Error: authentication failed: One time use of a plaintext password will enable requested mechanism for user \n2016-10-03 16:25:16 SMTP ERROR: Username command failed: 535 5.7.8 Error: authentication failed: One time use of a plaintext password will enable requested mechanism for user \n2016-10-03 16:25:16 SMTP Error: Could not authenticate. \n2016-10-03 16:25:16 CLIENT -> SERVER: QUIT \n2016-10-03 16:25:16     SERVER -> CLIENT: 221 2.0.0 Bye \n2016-10-03 16:25:16 Connection: closed 2016-10-03 16:25:16  SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. Setting are\n$mailer = new PHPMailer();\n$mailer->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\n//SMTP Configuration\n$mailer->isSMTP();\n$mailer->SMTPAuth   = true; //We need to authenticate\n$mailer->Host       = $smtp['host'];\n$mailer->Mailer = \"smtp\";\n//$mailer->AuthType =  \"login\";\n// $mailer->Host = gethostbyname('tls://mail.rudisa.net');\n$mailer->Port       = $smtp['port'];\n$mailer->SMTPDebug = 3;\n$mailer->Username   = $smtp['username'];\n$mailer->Password   = $smtp['password'];\n$mailer->SMTPSecure = $smtp['secure'];\n//Now, send mail :\n//From - To :\n$mailer->From       = $crendentials['email'];\n$mailer->FromName   = $em_name; //Optional\n$mailer->addAddress($to);  // Add a recipient\n//Subject - Body :\n$mailer->Subject        = $subject;\n$mailer->Body           = $html;\n$mailer->isHTML(true); //Mail body contains HTML tags\n//Check if mail is sent :\nif(!$mailer->send()) {\n    $data['success'] = 'Sent Failed';\n    $data['message']= 'Problem sending mail. '. $mailer->ErrorInfo;\necho json_encode($data);\n} else {\n    $cmodel->update_client_single_data($data['id'],'sent', 2);\n    echo json_encode($data);\n}\n. Could you check if I'm doing something wrong\n. Mail username and password are correct\n. My biggest apologies good sir @Synchro and also to @AmrataRamchandani, wasn't my intentions to hijack any issue\nCan i make a new issue regarding my problem good sir @Synchro \n. ",
    "bs-thomas": "Setting., $mail->AuthType = 'LOGIN'; worked like charm !\nCheers !. ",
    "vinkla": "Thanks for merging!\n. @Synchro yeah, this is how export-ignore works. Though, I don't think it is much of a problem. We want to be able to exclude files in production.\n. The PHP League has this as one of their 10 commandments https://thephpleague.com/\n. Then you need to revert this pull request. Though, then we can't exclude those files in production.\n. If you clone this repository instead of downloading it as a zip file you will get the examples directory.\n. Yeah, I agree with @Synchro. These files just take up space in production. The only file important to keep is LICENSE.\n. ",
    "laubosslink": "I'm not sure, is that only link with openssl ?\n. ",
    "rkaartikeyan": "Its Because Restriction in WHM Panel, that SMTP Restriction On. this prevent Remote SMTP Access. I Disable the SMTP Restriction now its working :)\n. ",
    "SoftCreatR": "Connection: opening to my.host.tld:465, timeout=300, options=array ()\nConnection: opened\nSMTP -> get_lines(): $data is \"\"\nSMTP -> get_lines(): $str is \"220 my.host.tld Microsoft ESMTP MAIL Service ready at Sun, 9 Oct 2016 11:51:04 +0200\"\nSERVER -> CLIENT: 220 my.host.tld Microsoft ESMTP MAIL Service ready at Sun, 9 Oct 2016 11:51:04 +0200\nCLIENT -> SERVER: EHLO www.mywordpress.tld\nSMTP -> get_lines(): $data is \"\"\nSMTP -> get_lines(): $str is \"250-my.host.tld Hello [1.2.3.4]\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]\"\nSMTP -> get_lines(): $str is \"250-SIZE 104857600\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600\"\nSMTP -> get_lines(): $str is \"250-PIPELINING\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING\"\nSMTP -> get_lines(): $str is \"250-DSN\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN\"\nSMTP -> get_lines(): $str is \"250-ENHANCEDSTATUSCODES\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES\"\nSMTP -> get_lines(): $str is \"250-STARTTLS\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS\"\nSMTP -> get_lines(): $str is \"250-X-ANONYMOUSTLS\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-X-ANONYMOUSTLS\"\nSMTP -> get_lines(): $str is \"250-AUTH GSSAPI NTLM\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-X-ANONYMOUSTLS250-AUTH GSSAPI NTLM\"\nSMTP -> get_lines(): $str is \"250-X-EXPS GSSAPI NTLM\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-X-ANONYMOUSTLS250-AUTH GSSAPI NTLM250-X-EXPS GSSAPI NTLM\"\nSMTP -> get_lines(): $str is \"250-8BITMIME\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-X-ANONYMOUSTLS250-AUTH GSSAPI NTLM250-X-EXPS GSSAPI NTLM250-8BITMIME\"\nSMTP -> get_lines(): $str is \"250-BINARYMIME\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-X-ANONYMOUSTLS250-AUTH GSSAPI NTLM250-X-EXPS GSSAPI NTLM250-8BITMIME250-BINARYMIME\"\nSMTP -> get_lines(): $str is \"250-CHUNKING\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-X-ANONYMOUSTLS250-AUTH GSSAPI NTLM250-X-EXPS GSSAPI NTLM250-8BITMIME250-BINARYMIME250-CHUNKING\"\nSMTP -> get_lines(): $str is \"250-XEXCH50\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-X-ANONYMOUSTLS250-AUTH GSSAPI NTLM250-X-EXPS GSSAPI NTLM250-8BITMIME250-BINARYMIME250-CHUNKING250-XEXCH50\"\nSMTP -> get_lines(): $str is \"250-XRDST\"\nSMTP -> get_lines(): $data is \"250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-X-ANONYMOUSTLS250-AUTH GSSAPI NTLM250-X-EXPS GSSAPI NTLM250-8BITMIME250-BINARYMIME250-CHUNKING250-XEXCH50250-XRDST\"\nSMTP -> get_lines(): $str is \"250 XSHADOWREQUEST\"\nSERVER -> CLIENT: 250-my.host.tld Hello [1.2.3.4]250-SIZE 104857600250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-X-ANONYMOUSTLS250-AUTH GSSAPI NTLM250-X-EXPS GSSAPI NTLM250-8BITMIME250-BINARYMIME250-CHUNKING250-XEXCH50250-XRDST250 XSHADOWREQUEST\nAuth method requested: UNKNOWN\nAuth methods available on the server: GSSAPI,NTLM\nSMTP Error: Could not authenticate.\nCLIENT -> SERVER: QUIT\nSMTP -> get_lines(): $data is \"\"\nSMTP -> get_lines(): $str is \"221 2.0.0 Service closing transmission channel\"\nSERVER -> CLIENT: 221 2.0.0 Service closing transmission channel\nConnection: closed\nIt says Could not authenticate. but the login data is correct.\n. Seems to be related to this one: https://github.com/PHPMailer/PHPMailer/issues/462\nAny advice on how to fix that?\n. ",
    "muradsofiyev": "I follow troubleshooting guide says but not work\n. secret\n. secret. No it's not worked \n.  b. I test send mail with c# this worked but i try with php and php mailer it is not worked \n. I send to you  my code . Do you can try my code ? \n. ",
    "pipajaki": "Hi\nI ccan not solution ...\npleas help me :/\nthis is my code:\n``` php\n$mail->isSMTP(); // Set mailer to use SMTP\n$mail->Host = 'mail.pidh.ir'; // Specify main and backup SMTP servers\n$mail->SMTPAuth = true; // Enable SMTP authentication\n$mail->Username = ' info@pidh.ir'; // SMTP username\n$mail->Password = 'password'; // SMTP password\n$mail->SMTPSecure = 'tls'; // Enable TLS encryption, ssl also accepted\n$mail->Port = 25; // TCP port to connect to\n$mail->CharSet = 'UTF-8';\n$mail->SMTPOptions = array(\n'ssl' => array(\n'verify_peer' => false,\n'verify_peer_name' => false,\n'allow_self_signed' => true\n)\n);\n$mail->setFrom(' info@pidh.ir', 'name');\n$mail->addAddress('zahra.maleki91@gmail.com');\n```\nbut I have this error:\nMessage could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. ",
    "mqasim1990": "I am getting email of users from database with while loop and sending email through PhpMailer, but its give an error of Maximum execution time 30 second . How can i fix it ?\n. where is php.ini file can you please proper guide to me ?\n. i changed the max_execution_time to 300sec in php.ini file but its still giving an error!\nFatal error:  Maximum execution time of 30 seconds exceeded in C:\\xampp\\htdocs\\bims2016\\PHPMailer\\class.smtp.php on line 276\n. Thank you so much its working  :)\n. ",
    "sumeetbhardwaj88": "Dear frnds my code bt im fnd the error     Message could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nphp\nfunction send_code($ver_code,$email){\nrequire 'PHPMailer/PHPMailerAutoload.php';\n\n<p$mail = new PHPMailer;\n//$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host = 'smtp.gmail.com';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'sumeetbhardwaj88@gmail.com';                 // SMTP username\n$mail->Password = '';                           // SMTP password\n$mail->SMTPSecure = 'ssl';                            // Enable TLS encryption, ssl also accepted\n$mail->Port =587;                                    // TCP port to connect to\n$mail->setFrom('sumeetbhardwaj88@gmail.com', 'SUMEET BHARDWAJ');\n$mail->addAddress($email);     // Add a recipient\n$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n$mail->addAttachment('/tmp/image.jpg', 'new.jpg');    // Optional name\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Confirmation Code';\n$mail->Body    = \"Thank You! For Joining Your Confirmation code is:\".$ver_code;\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n}. Dear frnds my code bt im fnd the error     Message could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nphp\nfunction send_code($ver_code,$email){\nrequire 'PHPMailer/PHPMailerAutoload.php';\n\n<p$mail = new PHPMailer;\n//$mail->SMTPDebug = 3;                               // Enable verbose debug output\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host = 'smtp.gmail.com';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'sumeetbhardwaj88@gmail.com';                 // SMTP username\n$mail->Password = '';                           // SMTP password\n$mail->SMTPSecure = 'ssl';                            // Enable TLS encryption, ssl also accepted\n$mail->Port =587;                                    // TCP port to connect to\n$mail->setFrom('sumeetbhardwaj88@gmail.com', 'SUMEET BHARDWAJ');\n$mail->addAddress($email);     // Add a recipient\n$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n$mail->addAttachment('/tmp/image.jpg', 'new.jpg');    // Optional name\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'Confirmation Code';\n$mail->Body    = \"Thank You! For Joining Your Confirmation code is:\".$ver_code;\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n}. hello Sir,\nhow to increase  time plz tell me. plz sir. hello Sir,\nhow to increase  time plz tell me. plz sir. ",
    "jerald-jacob": "I'm trying to send mail to localhost at many times but. I have to reach different error at different times.can you help me to remove this error .\nFatal error: Maximum execution time of 30 seconds exceeded in C:\\xampp\\htdocs\\mail\\PHPMailer-master\\class.smtp.php on line 1227\n. ",
    "lmerlini": "Aqui deu tudo certo, muito obrigado!. ",
    "e7o-de": "Looks ok, thx.\n. ",
    "WuHuaJi0": "thanks\uff0cI find out the problem is the smtp server being slow for some reason.\n. ",
    "neo22s": "You are right!! Didnt notice. Thanksbgot fast reply ;)\n. ",
    "developius": "So sorry, I read that line completely wrong.\n. ",
    "KingCandian": "Thats it! \nThank you very much for helping me out!\n. ",
    "byshine": "Alright, I did this and we found out that everything has been OK'd\nSERVER -> CLIENT: 250 ok:  Message 4092405 accepted\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221\nI'm guessing this is out of our control?\n. Maybe the received it, but refuse to send it out?\n. ",
    "1stborn": "FeedBack Lists, Yandex hide all possible way to detect which our user is complain for spam from us and automatically unsubscribe it from mailing lists - they call it \"security\". But they left some headers of our message untouched and content-type one of them\n. I ask myself the same question :)\n. ",
    "puransari": "I have same problem when I send a link kike  www.example.com/page.php?x=1y=2 , but when I send www.example.com it works. ",
    "JesusTheHun": "I may have missnamed things, the point is to track the smtp id, I'll update this\n. Shall I add a proxy method to this method in PHPMailer ? Or better keep it in the smtp class to avoid confusion ?\nPS: it's a legal thing, prove we actually informed the user. (kinda sucks, but you know ... law)\n. Well, as for getLastReply() method, it will simply returns false if you call it before a call. I don't see why we should restrict its access only upon success. Plus as you mentioned, if may be useful in case of error too.\n. After some mess up (I deleted my fork, oups), I re-opened a PR.\nWhat do you mean by \"transcript\" ? to demonstrate what ? ^^\n. We do know it's not perfect. But at least we can prove we tried, even if something that happened made it fail.\nWell I'm a fan of exceptions, but since PHPMailer does not use them, I'm afraid to throw some.\n. And for transcripts :\nExim: 250 OK id=1REMFv-0001wd-BG\nSendmail : 250 2.0.0 p9DERpqf001411 Message accepted for delivery\nPostfix : 250 2.0.0 Ok: queued as 3VmHNZ28NLz2Nr7\n. The SMTP has no constructor :/ I'll send null & false. Better than two false.... public : if the user wants to add its own pattern, he can.\nconst : unless you turn PHPMailer to be compatible php7 only, it's compromised.\nI chose public because you used to set a lot of properties as public, avoiding setter and getter, so I tried to copy the project's code style. I can add prependPattern and appendPattern, but it's easier to manipulate if you have direct access : maybe one server has a very close pattern to another, so one must be placed before the other. For exemple :\nFoo's message : 250 OK TR 123456ABCDEF ( with TR ([A-Z0-9]+) )\nBar's message  250 OK TR ID123456ABCDEF (with TR ID([A-Z0-9]+) ) \nFoo's pattern is provided by PHPMailer and will catch any alphanum character after TR\nBar's pattern will be catch by Foo's pattern, unless bar's pattern is added before foo's pattern or Foo's pattern is modified.\n. The part where I think we diverge is I think it could be very nice if PHPMailer provides a list of known patterns. The SMTP class has 8 public properties, 2 related to debug. However I do understand your point. Moreover if the list of known pattern grows, significantly, we cannot store dozen of patterns in the class. So, what do you think of a protected property with getter & setter, and a static JSON resource ?\n@Synchro : what is the minimum PHP version of the 6.0 ?. I respectfully disagree. You're the maintainer, I comply to your expectation for the project. I'm updating the PR.. It does not. I simply am against overriding third-party classes on one hand, and on the other hand I think a class should include the knowledge required to make a feature work (a list of patterns here). On my perspective, extending third-party classes introduces legacy complexity in your project.. You want it to include the list I proposed ? I understood you wanted an empty property.\nI do agree with that vision, in theory. From my experience it's idealistic, and introduce complexity without real necessity. Look at ORMs \"I can switch database engine\", it's wrong and even if true, nobody actually does it. Moreover, unless you start a project, you have to deal with all the legacy stack and code and practices.\nBut I concede for a mailer, it can be done without much complexity.. Seems ok to me.. ",
    "farhadarshad2000": "According to the URL I have to update the PHPMailer version. But How could I test the version of PHP mailer?\n. In which file of code?\n. secondly, How can I install the lastest version of it on Linux.. would you please help me in that. there is but you didn;t get my point. I mean in Linux we do write apt-get install application_\nname\nso what we will do for PHP mailer in this case.. It's resolved. I have just updated PHPMailer module.. ",
    "jg-user": "As I said, I already used your simple example and with SMTP without any problem.\nAnyway, in SMTP you need username and password, so in what part of this code do you replace the SMTP password (you avoid using it) by the OAuth2 login? (I guess in the class.smtp.php file)\nThank you once again. I will analyze it. Thank you!. ",
    "muratyaman": "I've been struggling with PHPMailer over the last 3 days!\nI was getting error 535 5.7.8 username and password error from smtp.gmail.com\nI have now proved to myself that this is buggy.\nBecause same credentials and refresh_token works in Python,\nand I've just been able to send an email.. Sorry, I understand, but it has been very frustrating because the sample code in this repo did not work.\nI've found the reason, here is the misleading code on line 46.\nIt says use your email address (owner of app) used on google dev console:\nhttps://github.com/PHPMailer/PHPMailer/blob/master/examples/gmail_xoauth.phps\nBut when I used the sender's email address as the oauth username, it worked.\nYou can close the issue.\n. My app will be sending emails on behalf of my users, not me.\nThe owner of the app is me, for instance, and I define my app only once on google.\nI get the credentials, create a URL and send the users to google. Google gives me auth code and I exchange it with an access token and a refresh token (for \"offline\" purposes, non-interactive/background processes).\nSo, each user will authorize my app to send emails for them, and I will keep the refresh tokens with the corresponding user email address. OAuth username should be user's email address, not mine.\nThat works.\n. I've been working on some issues with SuiteCRM which heavily relies on PHPMailer. So, I guess in such CRM systems etc. this is an important feature. Normally, I use my own SMTP server but I don't have a choice in the environments I'm working on.\nI've created the PR for that tiny change. Does it look all right?\nThanks.. ",
    "commgdog": "What do you mean by \"red question mark\". Are you talking about when they receive the email in something such as gmail, and they are getting the message flagged with a question mark in their webmail client?. Assuming you have your domain set up properly to send email (reverse dns, etc), try using DKIM with phpmailer. I had issues with gmail saying emails weren't legitimate before I enabled DKIM.. ",
    "googol8080": "The red question mark appears instead of the profile photo, and when you hover it, it says that gmail.com can't verify that domain.com actually send this email.. How? I asked my hosting provider and it says that DKIM and SPF is already enabled to my account, I am using a shared hosting service.. \n. That is only my problem, when sending an email using my domain's email + phpmailer I get that. (I even tried domain's email + gmail and domain's email + mail() and still get that.). \n. ```\nDelivered-To: googol8080@gmail.com\nReceived: by 10.237.36.7 with SMTP id r7csp126644qtc;\n        Tue, 29 Nov 2016 22:02:10 -0800 (PST)\nX-Received: by 10.99.97.15 with SMTP id v15mr57306605pgb.10.1480485730049;\n        Tue, 29 Nov 2016 22:02:10 -0800 (PST)\nReturn-Path: info@mydomain.com\nReceived: from caracal.maple.relay.mailchannels.net (caracal.maple.relay.mailchannels.net. [23.83.214.30])\n        by mx.google.com with ESMTPS id n23si62876213pfj.268.2016.11.29.22.02.09\n        for googol8080@gmail.com\n        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);\n        Tue, 29 Nov 2016 22:02:09 -0800 (PST)\nReceived-SPF: softfail (google.com: domain of transitioning info@mydomain.com does not designate 23.83.214.30 as permitted sender) client-ip=23.83.214.30;\nAuthentication-Results: mx.google.com;\n       spf=softfail (google.com: domain of transitioning info@mydomain.com does not designate 23.83.214.30 as permitted sender) smtp.mailfrom=info@mydomain.com\nX-Sender-Id: iconceptglobal|x-authuser|info@mydomain.com\nReceived: from relay.mailchannels.net (localhost [127.0.0.1]) by relay.mailchannels.net (Postfix) with ESMTP id B64ACA1BCB for googol8080@gmail.com; Wed, 30 Nov 2016 06:02:08 +0000 (UTC)\nReceived: from virgo.zoom.ph (ip-10-220-3-24.us-west-2.compute.internal [10.220.3.24]) by relay.mailchannels.net (Postfix) with ESMTPA id E1923A1B5A for googol8080@gmail.com; Wed, 30 Nov 2016 06:02:07 +0000 (UTC)\nX-Sender-Id: iconceptglobal|x-authuser|info@mydomain.com\nReceived: from virgo.zoom.ph (virgo.zoom.ph [10.135.9.54]) (using TLSv1.2 with cipher DHE-RSA-AES256-GCM-SHA384) by 0.0.0.0:2500 (trex/5.7.8); Wed, 30 Nov 2016 06:02:08 +0000\nX-MC-Relay: Neutral\nX-MailChannels-SenderId: iconceptglobal|x-authuser|info@mydomain.com\nX-MailChannels-Auth-Id: iconceptglobal\nX-MC-Loop-Signature: 1480485728226:2615264436\nX-MC-Ingress-Time: 1480485728225\nReceived: from mail-qk0-f182.google.com ([209.85.220.182]:36094) by virgo.zoom.ph with esmtpsa (TLSv1.2:ECDHE-RSA-AES128-GCM-SHA256:128) (Exim 4.87) (envelope-from info@mydomain.com) id 1cBxy1-0039B0-B0 for googol8080@gmail.com; Wed, 30 Nov 2016 14:02:05 +0800\nReceived: by mail-qk0-f182.google.com with SMTP id n21so199451019qka.3\n        for googol8080@gmail.com; Tue, 29 Nov 2016 22:02:05 -0800 (PST)\nX-Gm-Message-State: AKaTC006YjUcZeXcUWOAt54A5wUa8rCXBzJ8gUk0m+pMQGDZfts+vWKgpBxUOFo/doXcTJ4bJSm1Bx1fAhtHkA==\nX-Received: by 10.55.190.1 with SMTP id o1mr26726008qkf.305.1480485724145; Tue, 29 Nov 2016 22:02:04 -0800 (PST)\nMIME-Version: 1.0\nReceived: by 10.12.166.154 with HTTP; Tue, 29 Nov 2016 22:02:03 -0800 (PST)\nFrom: Domain - Information info@mydomain.com\nDate: Wed, 30 Nov 2016 14:02:03 +0800\nX-Gmail-Original-Message-ID: CADgT1k-wWwduro7GgqsmpqnFG8TT21dO88kc9YkeXYHSqGzFuw@mail.gmail.com\nMessage-ID: CADgT1k-wWwduro7GgqsmpqnFG8TT21dO88kc9YkeXYHSqGzFuw@mail.gmail.com\nSubject: asdasd\nTo: googol8080@gmail.com\nContent-Type: multipart/alternative; boundary=94eb2c0438a4aed2e205427e7198\nX-AuthUser: info@mydomain.com\n--94eb2c0438a4aed2e205427e7198\nContent-Type: text/plain; charset=UTF-8\nasdasd\n--94eb2c0438a4aed2e205427e7198\nContent-Type: text/html; charset=UTF-8\nasdasd\n--94eb2c0438a4aed2e205427e7198--\n``. Do you mean by source address is this23.83.214.30` ?. ",
    "prabhmeet133": "please tell me also\n```\nDelivered-To: test@gmail.com\nReceived: by 2002:a9d:be9:0:0:0:0:0 with SMTP id 96-v6csp2163081oth;\n        Sat, 21 Apr 2018 18:16:54 -0700 (PDT)\nX-Google-Smtp-Source: AIpwx49gmxe0W8xiDoih51pCloV/Rx4+aNHemHiEUPEPVR3VHaNfTJYxEj8Up16vViM1mrK3gBs7\nX-Received: by 2002:a9d:19a6:: with SMTP id k35-v6mr10789474otk.328.1524359814678;\n        Sat, 21 Apr 2018 18:16:54 -0700 (PDT)\nARC-Seal: i=1; a=rsa-sha256; t=1524359814; cv=none;\n        d=google.com; s=arc-20160816;\n        b=WK9EAjl5x+HOCfZWQm2MaYLGln/AQzbWcBEhk2xjMFlT7iUBtJooUEbHRb4IWIChyM\n         TS25Vd1Q6EbacPSRMviEkd3qA3tqp6i8XHsFHPPbzm39+W1aZXwe/JIWHlmnHBRwjQbx\n         Pxwd+i8wdNXG/fRil7RUP2mqW09tTbpBoKrG0QQYxda5HM6TqeiS+tjALou1+1DmJ1Zj\n         x/SQXxaGjl1Ebp9NSOWDUlvcEsYHL9hKfhW87tBBP3mk+78S14QDrg6DBApW4MPYzrpu\n         zkgkGi1bSUytYrL0BIj/1WtLQmWGv4LNtdG5UDEuoETGa+x9AFR2CjTACbMp634J0ggz\n         RNJw==\nARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;\n        h=user-agent:message-id:organization:subject:to:from:date\n         :content-transfer-encoding:mime-version:dkim-signature\n         :arc-authentication-results;\n        bh=7k8kELJAjYt2Un0Fk2wa4d3uziMokmA+Y2ZnI6jXJH0=;\n        b=fs30KIJ5Q2Ukx2Pjo0z3uoEM8O6GRosrQtSmIZzibRlsn4I/9UtiGy/ZTcX0svhpjy\n         vfSUm6i8plmQ8ho/IEmxOiU1+zlGW6bx0LAwGf2UY2WW7CR3rEuW9Yzjw+mTGabsEAVX\n         twTyj/1HV+V/pBrkw6OAhKku3uMJTRBylyzFBKVfgyAlNC53g5ffSmWkXJtYc334AGpq\n         Qpm3YLiIPaI5/pYW++4nvK4a644cBEXUI1xN/TCd1lw4uZCTUbafEY76WlVlmUutAhog\n         xIBcZXORQatFDLNu7CvnPIE/4kcqkUHHeFyhWHHxYtuY3bHJMf2Xxcn03DypD9PRUOiz\n         2tyw==\nARC-Authentication-Results: i=1; mx.google.com;\n       dkim=fail header.i=@tanaksh.com header.s=default header.b=Azn+Rc9z;\n       spf=softfail (google.com: domain of transitioning support@tanaksh.com does not designate 192.185.59.4 as permitted sender) smtp.mailfrom=support@tanaksh.com;\n       dmarc=fail (p=NONE sp=NONE dis=NONE) header.from=tanaksh.com\nReturn-Path: support@tanaksh.com\nReceived: from gateway20.websitewelcome.com (gateway20.websitewelcome.com. [192.185.59.4])\n        by mx.google.com with ESMTPS id j7-v6si3450692otd.398.2018.04.21.18.16.54\n        for test@gmail.com\n        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);\n        Sat, 21 Apr 2018 18:16:54 -0700 (PDT)\nReceived-SPF: softfail (google.com: domain of transitioning support@tanaksh.com does not designate 192.185.59.4 as permitted sender) client-ip=192.185.59.4;\nAuthentication-Results: mx.google.com;\n       dkim=fail header.i=@tanaksh.com header.s=default header.b=Azn+Rc9z;\n       spf=softfail (google.com: domain of transitioning support@tanaksh.com does not designate 192.185.59.4 as permitted sender) smtp.mailfrom=support@tanaksh.com;\n       dmarc=fail (p=NONE sp=NONE dis=NONE) header.from=tanaksh.com\nReceived: from cm10.websitewelcome.com (cm10.websitewelcome.com [100.42.49.4]) by gateway20.websitewelcome.com (Postfix) with ESMTP id 7646D400D622F for test@gmail.com; Sat, 21 Apr 2018 20:16:54 -0500 (CDT)\nReceived: from cloud266.hostgator.com ([50.116.95.63]) by cmsmtp with SMTP id A3ccfsCcC6il3A3ccftBDp; Sat, 21 Apr 2018 20:16:54 -0500\nX-Authority-Reason: ss=1\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=tanaksh.com ; s=default; h=Message-ID:Subject:To:From:Date:Content-Transfer-Encoding: Content-Type:MIME-Version:Sender:Reply-To:Cc:Content-ID:Content-Description: Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID: In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe: List-Post:List-Owner:List-Archive; bh=7k8kELJAjYt2Un0Fk2wa4d3uziMokmA+Y2ZnI6jXJH0=; b=Azn+Rc9z9OutzjlWTrotCp8r3J VNNkqkv9m52Bwsxw3SC6reDMISyF+NsBMPBDuKlw5n3Y+FLOrVNmM8OYWu2u460q8aEzIa/h9rzFA tnKmNNfAqWiJdax2vQkVaqDKbzFgjk/Hbam61VMosz2/0x9yJeigB4dqy/5UY8AvHBxqN+QdaY1X/ MzMr7+K65Tg0lHX094kylQLEc7b9R4NgfvxxumvEQ77vudq7vdPY0Z0fu/cPfulPJyWPX49mOniaM yjyDjIDC0X/PRMtRtfFTVLKZHVXH9wzNAtlXONPaRXoYU9S+Ui5ggT5HC9UhmDqmkR8FJgBCd5N9i OfJZljyw==;\nReceived: from [127.0.0.1] (port=27809 helo=cloud266.hostgator.com) by cloud266.hostgator.com with esmtpa (Exim 4.89_1) (envelope-from support@tanaksh.com) id 1fA3cc-0029cw-9t for test@gmail.com; Sat, 21 Apr 2018 20:16:54 -0500\nMIME-Version: 1.0\nContent-Type: text/plain; charset=US-ASCII; format=flowed\nContent-Transfer-Encoding: 7bit\nDate: Sat, 21 Apr 2018 19:16:54 -0600\nFrom: Tanaksh support@tanaksh.com\nTo: test@gmail.com\nSubject: sdasdasd\nOrganization: Tanaksh\nMessage-ID: 6a856d0073bd88cd58c9e79fd0866f70@tanaksh.com\nX-Sender: support@tanaksh.com\nUser-Agent: Roundcube Webmail/1.2.7\nX-AntiAbuse: This header was added to track abuse, please include it with any abuse report\nX-AntiAbuse: Primary Hostname - cloud266.hostgator.com\nX-AntiAbuse: Original Domain - gmail.com\nX-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]\nX-AntiAbuse: Sender Address Domain - tanaksh.com\nX-BWhitelist: no\nX-Source-IP: 127.0.0.1\nX-Source-L: Yes\nX-Exim-ID: 1fA3cc-0029cw-9t\nX-Source: \nX-Source-Args: \nX-Source-Dir: \nX-Source-Sender: (cloud266.hostgator.com) [127.0.0.1]:27809\nX-Source-Auth: support@tanaksh.com\nX-Email-Count: 3\nX-Source-Cap: b3VyMHlodXA7b3VyMHlodXA7Y2xvdWQyNjYuaG9zdGdhdG9yLmNvbQ==\nX-Local-Domain: yes\nTest\n```. But mails are show red question mark in gmail so what can i do please help me i searched lot of on google but no answer found hostgator will not help me please do anything  synchro. So no solution forme?. ",
    "pcm211": "@prabhmeet133 ... Its been said that the issue you are referring to is a DNS/Domain Config problem. \nAuthentication-Results: mx.google.com;\n       dkim=fail \n       spf=softfail \n      dmarc=fail \nSo you need to address the problem ... outside phpmailer \n. ",
    "upcontact": "I am using isSMTP() with a postfix server. I discover that with a very simple, one line only and no utf8 character, I get a DKIM pass at hotmail. Very strange behavior... I can't find a way so far to have my full html page passing. Even an ampersand character in the HTML body fails. I finally got it working doing the following :\n1/ change the encoding $mail->Encoding     = 'quoted-printable';\n2/ trimming all body lines : \n$htmlMsg = \"\";\n$lines = explode(\"\\n\",  $myHTML);\nforeach ($lines as $line) $htmlMsg .= trim($line).\"\\n\";\n$mail->MsgHTML($htmlMsg);\nThank you Microsoft for those nice hours ;). ",
    "lukasmedia": "@upcontact  you just saved me a few days of my life. Dude thanks!. I think there is a bug in \"encodeHeader\", the part after the following comments:\n//RFCs specify a maximum line length of 78 chars, however mail() will sometimes\n//corrupt messages with headers longer than 65 chars. See #818\nThe result of \"encodeHeader\" with a \"faulty\" subject:\n=?UTF-8?Q?Reminder_give_feedb=C3=A4ck_to_R1_R1_/_Reminder_to?=\n =?UTF-8?Q?_Ronald?=\nThe result with a \"correct\" subject:\n=?UTF-8?Q?Reminder_give_feedb=C3=A4ck_to_R1_R1_/_Reminder_to?=. Actually there is a white space but the Github editor filters it / does not display it. Here a screenshot:\n\nI've updated the const STD_LINE_LENGTH from 76 to 255 and my (our?) problem is solved. So yes, i can confirm there is a bug in the DKIM normalization concerning subject length > STD_LINE_LENGTH\n. @Synchro thank you so far!. Working with STD_LINE_LENGTH = 255 for months now, no problems.. Agree that it is a workaround. So far all DKIM checks are passing, i have tried several companies in my network and also Gmail, Zoho, Yahoo and (the greatest whiner of all) Hotmail. We also use Office 365, no problems. A RFC contravention will sooner or later result in messages not being delivered.. You will have to give us more information. If \"Relove\" is a SMTP relay service you have to ask them.. You cannot compare Outlook with phpmailer when sending emails. Also, we need more information about your phpmailer setup. Can you copy/paste your code here? Please mask any login and/or passwords.. You cannot compare Outlook with phpmailer when sending emails. Also, we need more information about your phpmailer setup. Can you copy/paste your code here? Please mask any login and/or passwords.. It seems mail is actually sent; but not delivered. \nLooking at your code; it seems \"Sender\" is missing so plz. add:\n$mail->Sender\nwhich is for example:\n$mail->Sender = 'your.working@emailaddress.ext';\n. Send a e-mail to https://www.mail-tester.com/\nTheir report is pretty advanced. What do they say?. @pipesportugal in the mail-tester.com result; please open item 2,3 and 4 (i cannot read that language). They do not have a green check so there is something wrong. Please post the results here. \nAlso switch to EN for us so we see what is wrong in EN.. Allright so obviously the biggest problem is here: RDNS_NONE\nThe most simple solution is that you create the a-record for the (sub)domain which you are sending email from. \nPlease use google to find a solution (never had the problem before): https://goo.gl/aYCttc\nAgain, this is not a PHPMailer issue so this issue should be closed. Please contact a hosting and/or DNS  forum for more information and/or solutions.. ",
    "henno": "@upcontact, thank you!\n@Microsoft... \ud83d\ude1e.. ",
    "eskholm": "@upcontact You just saved me a lot of debugging hours - thank you! :). ",
    "BenoitProot": "Thank for your response.\nI contacted the ISP, and they found that two many SMTP connections were open at the same time.\nCan I close each connection in my PHP code?\nThey now advise to use SMTPKeepAlive.. ",
    "sabbir420": "require 'PHPMailer/src/PHPMailerAutoload.php';\nuse PHPMailer\\PHPMailer\\PHPMailer; \nuse PHPMailer\\PHPMailer\\Exception;\ndefine('GUSER', 'falaksabbir3@gmail.com'); // GMail username\ndefine('GPWD', 'password');\n    define('SMTPUSER', 'falaksabbir3@gmail.com'); // sec. smtp username\ndefine('SMTPPWD', 'password'); // sec. password\ndefine('SMTPSERVER', 'smtp.gmail.com'); // sec. smtp server\n    function smtpmailer($to, $from, $from_name, $subject, $body, $is_gmail = true) { \n    global $error;\n    $mail = new PHPMailer();\n    $mail->IsSMTP();\n    $mail->SMTPAuth = true; \n    if ($is_gmail) {\n        $mail->SMTPSecure = 'ssl'; \n        $mail->Host = 'ssl://smtp.gmail.com';\n        $mail->Port = 465;\n        $mail->Username = GUSER;\n        $mail->Password = GPWD; \n    } else {\n        $mail->Host = SMTPSERVER;\n        $mail->Username = SMTPUSER;\n        $mail->Password = SMTPPWD;\n    }      \n    $mail->SetFrom($from, $from_name);\n    $mail->Subject = $subject;\n    $mail->Body = $body;\n    $mail->AddAddress($to);\n    if(!$mail->Send()) {\n        $error = 'Mail error: '.$mail->ErrorInfo;\n        return false;\n    } else {\n        $error = 'Message sent!';\n        return true;\n    }\n}\n$msg = 'Hello World';\n$subj = 'test mail message';\n$to = 'falak@oddly.co';\n$from = 'falaksabbir3@gmail.com';\n$name = 'Falak Sabbir';\nif (smtpmailer($to, $from, $name, $subj, $msg)) {\n    echo 'Yippie, message send via Gmail';\n} else {\n    if (!smtpmailer($to, $from, $name, $subj, $msg, false)) {\n        if (!empty($error)) echo $error;\n    } else {\n        echo 'Yep, the message is send (after doing some hard work)';\n    }\n}\nThis is my code. But it's giving this error.\nMail error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nHow to fix this?. ",
    "NiklasBr": "I have created an example on how to do this because I needed it myself.\nWould you accept a pull request @Synchro?. I created a pull request: #1116. New pull request: #1117. Absolutely.. It looks like you have some duplicate rows in your __construct(). For example: \nphp\n    $this->objMailer = new PHPMailer(true);\n    $this->objMailer->SMTPDebug = 2;\n    $this->objMailer->isSMTP();\n    $this->objMailer->Host = \"smtp.gmail.com\";\n    $this->objMailer->SMTPAuth = true;\n\u2026all appears twice. Then the row:\n$this->objMailer->Username = \"\n\u2026is a syntax error. I believe this might be some copy-paste problem.\nAnyway, please check phpinfo(); if you have extension=php_openssl.dll enabled.. @drt420 It is very easy to find your email server's IP address for anyone who have your email domain. Your real domain is not abc.com, but here's your example, try it with your own domain.. @drt420 It is very easy to find your email server's IP address for anyone who have your email domain. Your real domain is not abc.com, but here's your example, try it with your own domain.. ",
    "MESWEB": "@NiklasBr Thanks mate - good work bro. We need this in PHPMailer!!!. @NiklasBr Thanks mate - good work bro. We need this in PHPMailer!!!. ",
    "geins": "I have the same issue on 1and1 hosting. \nIt's Linux shared hosting on PHP 7.0 and PHPmailer 5 (latest at date of post)\nOn my local test environment, same config works flawlessly, on production-server on hosting,\ncode hangs on           if ( !$mail->send() ) {  without any output on debug or php error log\nWorkaround for me: send with $mail->isSendMail(); on hosting.\nMy code:\ntry {\n$mail = new PHPMailer;\n$mail->setLanguage( 'de', SERVER_DIR . '/php/' );\n$mail->CharSet   = \"UTF-8\";\n$mail->SMTPDebug = 3;                                // Enable verbose debug output\n//$mail->isSendMail(); //-->Bugfix f\u00fcr 1und1\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host       = 'smtp.1und1.de';                  // Specify main and backup SMTP servers\n$mail->SMTPAuth   = true;                             // Enable SMTP authentication\n$mail->Username   = 'myusername@mydomain.com';               // SMTP username\n$mail->Password   = 'mypassword';                         // SMTP password\n$mail->SMTPSecure = 'ssl';                            // Enable TLS encryption, ssl also accepted\n$mail->Port       = 465;  //==SSL                            // TCP port to connect to\n$mail->setFrom( 'myusername@mydomain.com', 'myusername' );\n$mail->addAddress( 'testreceiver@mydomain.com' );\n$mail->Subject = 'Some subject';\n$mail->Body = 'Some test' . PHP_EOL  . 'more text';\nif ( !$mail->send() ) {\nthrow new Exception( $mail -> ErrorInfo );\n}\n}\ncatch ( Exception $e ) {\nheader( $redirect . 'msg_alert=Fehler beim Senden der Email' ); //. $e -> getMessage() );\nexit();\n. ",
    "vincent-guesnard": "I have not been accurate on my affirmation : \"no 'must have' dependency\". I agree with you if we use OAuth (that's not my case).\nDealing with dependencies and manage to keep softwares up to date in a multiple dependencies context is a true work. \nComposer allow everyone to put a huge potential amount of unnecessary dependencies very \"quickly\" and some project's managers forget to manage standalone version of their softwares. Some projects becoming useless one because of some dependencies make it incompatible with our softwares. That's why i'm afraid every time i see Composer becoming a prerequis inside projects.\nIf you manage to keep an internal autoloader, that force you to manualy manage dependencies, and that's a good things, because you keep in mind that a dependency is a potential problem for someone.\nWell, in all case, i understand your point of view. I just hope this project will not become an alien in the futur because of Composer.. ",
    "buddycat75": "Here the header -->\n```\nFrom - Fri Dec 16 15:12:12 2016\nX-Account-Key: account4\nX-UIDL: GmailId15907f9cd2962764\nX-Mozilla-Status: 0001\nX-Mozilla-Status2: 00000000\nX-Mozilla-Keys:                                                                               \nDelivered-To: buil.com\nReceived: by 5 with SMTP id 27csp1108938qvf;\n        Fri, 16 Dec 2016 06:12:08 -0800 (PST)\nX-Received: by 10.194.109.168 with SMTP id ht8mr3000042wjb.36.1481897528628;\n        Fri, 16 Dec 2016 06:12:08 -0800 (PST)\nReturn-Path: \nReceived: from maom (mam. [5\n        by mx.google.com with ESM16.12.16.06.12.08\n        for \n        (version=TLS1_2 cipher=E-GCM-SHA256 bits=128/128);\n        Fri, 16 Dec 2016 06:12:08 -0800 (PST)\nReceived-SPF: neutral (google.com: 0 is neither permitted nor denied by best guess record for domain of fr.ch) client-ip=50;\nAuthentication-Results: mx.google.com;\n       spf=neutral (google.com: 50 is neither permitted nor denied by best guess record for domain of fh) smom=frx.ch\nReceived: from mm (localhost.localdomain [127.0.0.1])\n    by mm (Postfix) with ESMTP id \n    for ; Fri, 16 Dec 2016 15:12:28 +0100 (CET)\nReceived: from ms.com ([127.0.0.1])\n    by mm (ma.1]) (amavisd-new, port 10026)\n    with ESMTP id SYYgcxs9TGbj for ;\n    Fri, 16 Dec 2016 15:12:28 +0100 (CET)\nReceived: from com (w\n    by mm (Postfix) with ESMTPSA id 6FC8F14C0016\n    for ; Fri, 16 Dec 2016 15:12:28 +0100 (CET)\nDate: Fri, 16 Dec 2016 15:12:07 +0100\nTo: bud5@gmail.com\nFrom: fred f@ax.ch\nSubject: mon sujet\nMessage-ID: 4727b81c@com\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n    boundary=\"b1_4738195de309b372cb3ed2204a27b81c\"\nContent-Transfer-Encoding: 7bit\nX-Antivirus: avast! (VPS 161216-0, 16.12.2016), Inbound message\nX-Antivirus-Status: Clean\nThis is a multi-part message in MIME format.\n--b1_4738195de309b372cb3ed2204a27b81c\n```\nI m ok with your analyse \nBut the fact is that thunderbird or Outlook dont display \"plainText\"\nI dont now why\nThanks for your time and fast reply. ",
    "zeeshan4971": "it is not in spam. ",
    "anewjump": "First of all, Thank you for your quick reply.\nYes, you are correct the change of SPF records was made between fiirst and second.\nBy the way, I think Gmail server don't much care about SPF when judge spam or not. \nAnd I want to tell you I had gave up using local SMTP send mail. Actually, @letdeal.com has another commercial SMTP server by email hosting company. So I had change my way to send using that server on the setting and succeeded.\nSo, finally I knew that there is nothing relation spam or not on PHPMailer's setting.\nAs you know, I had set\n$mail->Host = \"smtp.xxxxx.com\"; // SMTP server\n$mail->SMTPAuth = true;\n$mail->Username   = \"letdeal@letdeal.com\";\n$mail->Password   = \"xxxxxxx\";\nAnd messege had sent to In-box correctly.\nThank you for your advice of all, especially your comment about subject (not 7-bit clean), But I had gave up because I had so tired to try. And as you metioned, we cannot guarantee all about different spam polishs. Let it concern by commercial email services company.\nThanks a lot Synchro. ",
    "jxs714": "Hi Synchro,\nThanks for the update and sorry for delay. Ended up using sendmail for now. If any update to this, we will be sure to reach back with it on our end.\nThanks so much! :). Hi Synchro,\nThanks for the update and sorry for delay. Ended up using sendmail for now. If any update to this, we will be sure to reach back with it on our end.\nThanks so much! :). ",
    "bobby5892": "Has nothing to do with php mailer.\nhttps://help.yahoo.com/kb/postmaster/complaint-feedback-loop-program-sln3438.html?impressions=true\nYou need to make sure your sending domain is properly configured on your server. You also need to setup the yahoo feedback loop to get the \"bounce\" report, on why they rejected your mail.\nThings can be more than this list but good starts.\nInvalid SPF \nInvalid MX Record on Sender Domain\nResidential IP of Sending Server\nMessage contains bad image to text ratio\nMessage contains links from domains reported as spam\nMessage has a spam score above 5.0\netc etc. Has nothing to do with php mailer.\nhttps://help.yahoo.com/kb/postmaster/complaint-feedback-loop-program-sln3438.html?impressions=true\nYou need to make sure your sending domain is properly configured on your server. You also need to setup the yahoo feedback loop to get the \"bounce\" report, on why they rejected your mail.\nThings can be more than this list but good starts.\nInvalid SPF \nInvalid MX Record on Sender Domain\nResidential IP of Sending Server\nMessage contains bad image to text ratio\nMessage contains links from domains reported as spam\nMessage has a spam score above 5.0\netc etc. ",
    "judodan": "Being a n00b for SMTP, I didn't realize TLS and SSL were related.  I ran test from WIKI and found that it was a self-signed certificate.  I added options to allow it and it now works.  Looks like I need to resolve the certificate issue.\nThanks, and thanks for PHPMailer!\n. ",
    "mantissefr": "Hello, here is what I found on the net \ud83d\udc4d \n$mail->SMTPOptions = array(\n                    'ssl' => array(\n                        'verify_peer' => false,\n                        'verify_peer_name' => false,\n                        'allow_self_signed' => true\n                    )\n                );\nAll the best. ",
    "G93264": "Oh Oh just out of shear curiosity, just cause Im curious, what were the settings that you changed. \n        \"I ran test from WIKI and found that it was a self-signed certificate. I added options to allow it and it now works.\"\nHAHAHAHAHAHA,  I TRY FOR 3 DAYS TO SEND ONE EMAIL FROM GMAIL PROGRAMATICALLY WITH PHP. \nHAHA, DO I WANT TO PROGRAM FOR THE REST OF MY LIFE/ \nOF COURRRRRRRRSE HAHAHAHAHAHAHAHAHAHA./ i LOVE ESPECIALLY THE COMMUNITY'S HELP WITH PROBLEMATIC QUESTIONS, THEYRE SOOOOO UNDERSTANDING AND FORGIVING . THEY ALWAYS KEEP IN MIND THAT THEY WERE ALSO ONCE NEW \nHAHAHAHHAA\nYES I LOVE LIFE.\n. ",
    "jellycsc": "@mantissefr You saved my day! Cheers!. ",
    "writetosalman": "Sadly SMTPDebug is already set to 4 and still there is not much details.. That is my guess also. That can be only thing if command line is working. Is there a way to check this in server? Where can i see if it is blocked ?\nIt was working for year and then stopped.. ",
    "vikas5914": "it was fixed in 5.2.18.. ",
    "matt-": "https://github.com/PHPMailer/PHPMailer/commit/4835657cd639fbd09afd33307cef164edf807cdc. ",
    "Jamalc0m": "Is this issue affect codeigniter 2.x.x ?\n. ",
    "henkeberg": "Thank you for your quick respond! \nYes you are right, I get the same error using 5.2.15. The code is very simple, built from the example (I've edited out the private stuff). The server we connect to is smtp.fsdata.se, is it anything due to TLS 1.2 on their side? What am I missing? \n```php\ndate_default_timezone_set( \"Europe/Berlin\" ); // tried with and without\n$mail = new PHPMailer;                \n$mail->CharSet = 'UTF-8';\n$mail->Encoding = 'base64';\n$mail->setLanguage( 'se' );\n//$mail->SMTPDebug = 3;\n$mail->isSMTP();\n$mail->Host = 'smtp.xyz.se';\n$mail->SMTPAuth = true;\n$mail->Username = 'username';\n$mail->Password = 'password';\n$mail->SMTPSecure = 'tls';\n$mail->Port = 587;\n// To solve certificate problem (tried with and without) \n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\n$mail->setFrom( 'from@from.se', 'From Name' );\n$mail->addAddress( 'to@to.se', 'To Name' );\n$mail->isHTML(false);\n$mail->Subject = 'Test subject';\n$mail->Body = $body_plain; // no HTML at all\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n}else{}\n```\nHope you can point me in the right direction. Best regards Henrik\n. Sorry to hammer the thread. I spoke to the company regarding TLS. They said they had TLS 1.2 and that they previously had 1.0. They couldn't explain the problem. \nI changed class.smtp.php line 356 to: \n$crypto_method = STREAM_CRYPTO_METHOD_TLSv1_0_CLIENT; \nand edited out the following if (defined('STREAM_CRYPTO_METHOD_TLSv1_2_CLIENT'))... \nNow everything is okay (except the downgrade). Can you provide me with information what is wrong with the providers setup so they can fix it? \nThank you for your patience and best regards Henrik\n. I read your link and tried different variants of the \"defined\" code with no luck (tried to check for 1.2 first).  The only combination that works. Maybe I missunderstood this part: \n$crypto_method = STREAM_CRYPTO_METHOD_TLSv1_0_CLIENT;\nif (defined('STREAM_CRYPTO_METHOD_TLSv1_0_CLIENT')) {\n        $crypto_method |= STREAM_CRYPTO_METHOD_TLSv1_0_CLIENT;\n        $crypto_method |= STREAM_CRYPTO_METHOD_TLSv1_2_CLIENT;\n}\nWe run PHP 7.0.1 and 7.0.7 (same errors). The mail server is smtp.fsdata.se (according to them they use TLS 1.2). I suspect something is wrong with their setup? \nThanks again for your patience. Best regards Henrik . ",
    "cnizzardini": "More than this: https://news.ycombinator.com/item?id=13268692. @Zenexer thanks, trying to get this exploit working locally, nadda yet.. ",
    "Zenexer": "@cnizzdotcom Confirmed, that's the same vulnerability.  At the time, I didn't know there was a CVE for it.  Editing title to match.. Can confirm both CVE-2016-10033 and CVE-2016-10045 are exploitable.  10045 takes a little more thought.  Both require that the attacker have control over the sender address, which is unadvisable anyway.  Just because a CRM uses PHPMailer doesn't mean that it's vulnerable.  Contact forms are likely to be the most susceptible because they're often poorly designed.. Sadly, that practice is likely to outlive all of us.. I've written a technical analysis of the underlying issues behind CVE-2016-10033 and CVE-2016-10045: https://gist.github.com/Zenexer/40d02da5e07f151adeaeeaa11af9ab36. There have been numerous developments since that blog post was written.  You should update to 5.2.20 as soon as possible.  I've been informed by the WordPress team that WordPress isn't directly vulnerable, probably because of this.. Note: if safe mode is enabled, -f will never be used for the sendmail transport, but may be used for the mail transport.  The checks in mail can be extracted to their own function and used in sendmail if that behavior needs to be preserved, but safe mode is inherently insecure and incompatible anyway.\nTo-do: Use fork + execve instead of the shell where available (e.g., pcntl_fork + pcntl_exec).. @Synchro I figured, which is why I didn't go out of my way to support it.  The CVEs are patched, but some minor functionality will be lost in safe mode.. I wrote this while tired; I'm going to need to go through it more thoroughly in the morning. There's one particular case I'm not confident about.. This will be insecure in many Eastern countries because it's not locale-aware.  You have no idea what locale the shell is using, and if it's not ASCII-compatible, your \"@\" character could end up meaning something completely different, in theory.  Of course, there's always the possibility that the locale of the shell and the locale of PHP are incompatible, but that seems less likely than an alternative 7-bit charset.  Testing for specific bytes actually ends up being dangerous.  (For example, Shift JIS encodes backspace and tilde differently than ASCII.)  Now, you could always hope the user converts the PHP file to their locale of choice when they copy it to their server, but that's putting a bit too much trust in the user for my liking, and it's definitely not going to work if your hardcode the individual bytes.  Nevertheless, that's what we have to rely on for a few symbols in the original version.. This will be insecure in many Eastern countries because it's not locale-aware.  You have no idea what locale the shell is using, and if it's not ASCII-compatible, your \"@\" character could end up meaning something completely different, in theory.  Of course, there's always the possibility that the locale of the shell and the locale of PHP are incompatible, but that seems less likely than an alternative 7-bit charset.  Testing for specific bytes actually ends up being dangerous.  (For example, Shift JIS encodes backspace and tilde differently than ASCII.)  Now, you could always hope the user converts the PHP file to their locale of choice when they copy it to their server, but that's putting a bit too much trust in the user for my liking, and it's definitely not going to work if your hardcode the individual bytes.  Nevertheless, that's what we have to rely on for a few symbols in the original version.. If you happen to have PCRE functions compiled in but not ctype for some crazy reason (looking at you, Gentoo), you can use a regex instead, but it will be slower:\nphp\npreg_match('/\\A[\\pl\\pn._@-]+\\Z/ui', $string). If you happen to have PCRE functions compiled in but not ctype for some crazy reason (looking at you, Gentoo), you can use a regex instead, but it will be slower:\nphp\npreg_match('/\\A[\\pl\\pn._@-]+\\Z/ui', $string). I'm working on a \"one-size-fits-all\" solution here.  It's completely untested, but that may be closer to what you're aiming for.  I'm not really sure how you'd generate the arrays in the current PR dynamically without relying on mbstring, iconv, or intl.\nI'm wondering if we should still test against ASCII just to be on the safe side, even in a non-compatible locale.  I doubt most shells handle non-Western charsets as gracefully as they should.\nEUC seems to be a decent candidate for testing.  Variants of it are widely used, and it's a stateful charset, so bytes < 128 may or may not translate to ASCII at any given point in a string.  The ctype test is likely to erroneously pass many characters that it shouldn't, although the preg_match test should still succeed.. I'm working on a \"one-size-fits-all\" solution here.  It's completely untested, but that may be closer to what you're aiming for.  I'm not really sure how you'd generate the arrays in the current PR dynamically without relying on mbstring, iconv, or intl.\nI'm wondering if we should still test against ASCII just to be on the safe side, even in a non-compatible locale.  I doubt most shells handle non-Western charsets as gracefully as they should.\nEUC seems to be a decent candidate for testing.  Variants of it are widely used, and it's a stateful charset, so bytes < 128 may or may not translate to ASCII at any given point in a string.  The ctype test is likely to erroneously pass many characters that it shouldn't, although the preg_match test should still succeed.. That could work.  I'm beginning to think the most robust and efficient method is just a simple regex.  I try to avoid regexes, but this regex should guarantee O(n) time.. That could work.  I'm beginning to think the most robust and efficient method is just a simple regex.  I try to avoid regexes, but this regex should guarantee O(n) time.. @glensc Then yes, mbstring would be the way to go for locale testing.  I don't know a whole lot about EUC, but it sounds like EUCKR would make for a good test, since it will likely break the existing function.. @glensc Then yes, mbstring would be the way to go for locale testing.  I don't know a whole lot about EUC, but it sounds like EUCKR would make for a good test, since it will likely break the existing function.. It's definitely not safe in all environments, and may be quite easy to\nevade; I haven't tested it.  I don't recall needing that sequence to\nexploit the vuln, but it's been a while since I did the testing.\nUltimately, there's no solution that's both reasonable and perfect if the\napplication is allowing end users to affect that parameter.  Applications\nmost likely to be affected regardless of what precautions we take are those\nin countries that primarily write in non-Latin scripts and have\nhistorically employed non-ASCII-compatible charsets, including stateful\ncharsets.  This is a fundamental flaw in the design of PHP's mail\nfunction.  I've reported it, but no interest was shown in fixing it or\nproviding an alternative.\nIf pcntl_exec is available, it should be safe to use, as it doesn't rely on\nthe shell's parsing.  We should prioritize that method of invoking sendmail\nwhen it's available.\n. Yes, you're right. I originally rearranged the if statement a bit and didn't properly refactor.. Yes, it should be.  I have a pull request on the way; I'm just checking something else while I'm at it.. Ideally this should be escapeshellarg rather than escapeshellcmd, but that would break any applications that rely on the existing behavior to pass their own parameters to sendmail via sendmail_path.. Forgot to remove escapeshellarg here, although it shouldn't have had much effect.. I've completely removed the safe_mode test because it's still insecure even without safe mode.  escapeshellcmd and escapeshellarg miss far too many cases, especially on Windows.. Given its actual implementation, I'm not really sure what the PHP developers were thinking when they created it.  I doubt there's ever a legitimate reason to use it.  Each argument--including the command/binary itself--should be escaped as a separate argument.  At least, that would be the best solution if escapeshellarg were actually complete.\nAs it stands, escapeshellcmd's effect in this statement is unintuitive and probably not what anyone would expect.  For example, it will allow the path to contain spaces, but only if the path is quoted (e.g., set_ini('sendmail_path', '\"/some dir/sendmail\"'))  It's also going to have weird effects on certain characters in the pathname, including the backslashes commonly found on Windows.. Here's an adaptation of PHP's escapeshellcmd and escapeshellarg code that will help you test different scenarios: https://gist.github.com/Zenexer/c123604d57914970ac297413751c3f21  Note that argument parsing in Windows is nothing like it is in bash.  For example, commas, equals signs, and semicolons are argument separators, not just whitespace, and escaping highly dependent on context.. Probably not.  I was trying to fix the CVEs without giving away too much about the underlying issues, hence the incompleteness, but I've pretty much given up on that with this latest pull request.  However, it's 7 AM here and I haven't slept, so it's certainly possible I'm missing something.. That's a bit concerning.  I'll see if I can come up with some sort of hackish long-term solution when I wake up.  This should do for now, though.. ",
    "reedy": "And you're using traits in https://github.com/PHPMailer/PHPMailer/blob/master/get_oauth_token.php. That's not really an excuse for the 5.2 releases of your code to not be compatible with the PHP version you're claiming to support\nSure, it may not be used, but how does an upstream linter know that?\nhttps://github.com/PHPMailer/PHPMailer/tree/1d51856b76c06fc687fcd9180efa7a0bed0d761e. That's not really an excuse for the 5.2 releases of your code to not be compatible with the PHP version you're claiming to support\nSure, it may not be used, but how does an upstream linter know that?\nhttps://github.com/PHPMailer/PHPMailer/tree/1d51856b76c06fc687fcd9180efa7a0bed0d761e. ",
    "mshannaq": "tthese information attached to the email header to track any abuse.\nOn Dec 28, 2016 9:13 PM, \"uligh\" notifications@github.com wrote:\n\nThe header of sent mails shows too much information about my mail account.\n... ([my server] [my IP address])\n(using TLSv1.2 with cipher ECDHE-RSA-AES256-* (256/256 bits))\n(No client certificate requested)\n(Authenticated sender: [my user name])\nby mail2.[my server] (mail2.[my server]*) with ESMTPSA ...\nSo it is easy to find my provider via the internal server name. With that\ninformation it is easy to find the login page (FAQ) for the admin panel of\nthat server. The user name is also in the header.\nAnd if someone reads the FAQ of my provider he finds out that the username\nis just a modification of my client number ...\nSo in 60 sec he has\n\nmy real name (via Whois)\nmy client number\nmy user name\nmy login server\nmy admin panel login page\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/935, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAJ65_Dm5RMEn3RLferM56kGX1WiJw6jks5rMqbggaJpZM4LXGEU\n.\n. \n",
    "Ramoonus": "@Synchro according to the release notes not https://github.com/sebastianbergmann/phpunit/wiki/Release-Announcement-for-PHPUnit-4.8.0 . @Synchro according to the release notes not https://github.com/sebastianbergmann/phpunit/wiki/Release-Announcement-for-PHPUnit-4.8.0 . ",
    "lramarojaona": "Ok, I'll check that.\nMany thanks for your quick answer! :). Ok, I'll check that.\nMany thanks for your quick answer! :). ",
    "dellaemme": "I have few email (and relative subjects) email templates stored in mysql db.\nA function prepare a custom email and send it via phpmailer.\nHere's the part of the code where the function prepare for send email\n```\n$sql = \"SELECT mail_tmpl_html,mail_tmpl_subj FROM mail_template WHERE mail_tmpl_id=\".$mail_tmpl;\n$result = mysql_query($sql) or die (\"Query fallita :( $sql \" .mysql_error());\nwhile($riga = mysql_fetch_row($result)){\n    $mail_html=$riga[0];\n    $mail_subj=$riga[1];\n}       \n$mail->CharSet = 'UTF-8'; \n$mail->addAddress($mail_address);\n$mail->addReplyTo($my_mail);\n$mail->isHTML(true);\n$mail->Subject = $mail_subj;\n$mail->Body    = $mail_html;\n```\nthe mail_tmpl_subj row have the utf8mb4_general_ci coding.\nI saw the output with ? instead emoji in gmail website and also in mail app in my iPhone\n. I have few email (and relative subjects) email templates stored in mysql db.\nA function prepare a custom email and send it via phpmailer.\nHere's the part of the code where the function prepare for send email\n```\n$sql = \"SELECT mail_tmpl_html,mail_tmpl_subj FROM mail_template WHERE mail_tmpl_id=\".$mail_tmpl;\n$result = mysql_query($sql) or die (\"Query fallita :( $sql \" .mysql_error());\nwhile($riga = mysql_fetch_row($result)){\n    $mail_html=$riga[0];\n    $mail_subj=$riga[1];\n}       \n$mail->CharSet = 'UTF-8'; \n$mail->addAddress($mail_address);\n$mail->addReplyTo($my_mail);\n$mail->isHTML(true);\n$mail->Subject = $mail_subj;\n$mail->Body    = $mail_html;\n```\nthe mail_tmpl_subj row have the utf8mb4_general_ci coding.\nI saw the output with ? instead emoji in gmail website and also in mail app in my iPhone\n. sorry, I solved working on mysql connection, i set\nSET NAMES utf8mb4\nmysql_set_charset('utf8mb4');\nand the subject now is correct with emoji.. sorry, I solved working on mysql connection, i set\nSET NAMES utf8mb4\nmysql_set_charset('utf8mb4');\nand the subject now is correct with emoji.. ",
    "abeverley": "\nIt should be considered a bug that that ever worked at all!\n\nAgreed...\n\nWhat is that you need to achieve by adding sendmail params that you can't achieve by using SMTP to localhost, which is also faster?\n\nI use sendmail as a fallback. So I try and deliver by SMTP to localhost first, but if that's not running for whatever reason, I know that I can always drop a copy to the sendmail binary, and it will eventually be delivered.\n\nYou are free to subclass and substitute default values at will - this is how I use PHPMailer.\n\nOkay, thanks, I'll do that, I just thought an option to pass args would be a quick win and probably something others would want to use.\nCheers,\nAndy\n. > It should be considered a bug that that ever worked at all!\nAgreed...\n\nWhat is that you need to achieve by adding sendmail params that you can't achieve by using SMTP to localhost, which is also faster?\n\nI use sendmail as a fallback. So I try and deliver by SMTP to localhost first, but if that's not running for whatever reason, I know that I can always drop a copy to the sendmail binary, and it will eventually be delivered.\n\nYou are free to subclass and substitute default values at will - this is how I use PHPMailer.\n\nOkay, thanks, I'll do that, I just thought an option to pass args would be a quick win and probably something others would want to use.\nCheers,\nAndy\n. ",
    "gunleik": "It's not if I think it looks right or not - gmail sent an NDR saying the mail was not RFC compliant because of missing header fields.\nI believe I did try to change the public $LE = \"\\n\"; to \\r\\n without it working (though it is a couple of weeks since I tested it, so I could remember wrong).\nBut what you say is that it is in Wordpress that I could add $phpmailer->LE = \"\\r\\n\"; in he script that sends mail?\nOr I should wait for PHPMailer 6 where this will be default?. It's not if I think it looks right or not - gmail sent an NDR saying the mail was not RFC compliant because of missing header fields.\nI believe I did try to change the public $LE = \"\\n\"; to \\r\\n without it working (though it is a couple of weeks since I tested it, so I could remember wrong).\nBut what you say is that it is in Wordpress that I could add $phpmailer->LE = \"\\r\\n\"; in he script that sends mail?\nOr I should wait for PHPMailer 6 where this will be default?. If looking at the header with problem: \"X-PHP-Originating-Script: 0:class-phpmailer.php Date: Thu, 15 Dec 2016 12:36:39 +0000 From: \"...\nOn a Linux server with good old qmail there is no line break before Date and From at all. Just a space (HEX 20). Possibly the MTA stripped out the line breaks as it don't expect a header field starting with space as seen below.\nOn an Exchange server (header read from Outlook) there is line breaks: CR+LF and then a space (HEX: 0d 0a 20) before Date and From. So the space infront of the Date and From would probably be causing the problem.\nIn the NDR from google it looks similar to the Exchange header, though only with LF at the line break and then space before Date and From (added quotes on each line for readabillity):\n\"X-PHP-Originating-Script: 0:class-phpmailer.php[LF]\"\n\" Date: Thu, 15 Dec 2016 12:33:29 +0000[LF]\"\n\" From: xxxx...[LF]\"\n ^ space infront of header field\nExcerpt from the google NDR error:\nA message that you sent could not be delivered to all of its recipients.\nThe following address(es) failed:\n  xxx@gmail.com\n    SMTP error from remote mail server after end of data:\n    host gmail-smtp-in.l.google.com [108.177.14.27]:\n    550-5.7.1 [79.xxx.xx.2      11] Our system has detected that this message is not\n    550-5.7.1 RFC 5322 compliant:\n    550-5.7.1 'From' header is missing.. If looking at the header with problem: \"X-PHP-Originating-Script: 0:class-phpmailer.php Date: Thu, 15 Dec 2016 12:36:39 +0000 From: \"...\nOn a Linux server with good old qmail there is no line break before Date and From at all. Just a space (HEX 20). Possibly the MTA stripped out the line breaks as it don't expect a header field starting with space as seen below.\nOn an Exchange server (header read from Outlook) there is line breaks: CR+LF and then a space (HEX: 0d 0a 20) before Date and From. So the space infront of the Date and From would probably be causing the problem.\nIn the NDR from google it looks similar to the Exchange header, though only with LF at the line break and then space before Date and From (added quotes on each line for readabillity):\n\"X-PHP-Originating-Script: 0:class-phpmailer.php[LF]\"\n\" Date: Thu, 15 Dec 2016 12:33:29 +0000[LF]\"\n\" From: xxxx...[LF]\"\n ^ space infront of header field\nExcerpt from the google NDR error:\nA message that you sent could not be delivered to all of its recipients.\nThe following address(es) failed:\n  xxx@gmail.com\n    SMTP error from remote mail server after end of data:\n    host gmail-smtp-in.l.google.com [108.177.14.27]:\n    550-5.7.1 [79.xxx.xx.2      11] Our system has detected that this message is not\n    550-5.7.1 RFC 5322 compliant:\n    550-5.7.1 'From' header is missing.. I see that the \"X-PHP-Originating-Script\" is added by the PHP installation.\nThe \"from\" and \"reply-to\" i would guess is added by a contact form in Wordpress.\nThere is also a \" X-Mailer: PHPMailer 5.2.17\" - will upgrade very soon ;-)\nI guess this field is added by PHPMailer? This field also have a space infront of it.\nSo if fields from both the contact form and from PHPMailer have spaces infront of it - then it must be related to how PHP handles the line breaks, right?\nI will test the getSentMIMEMessage and save it to a file to compare with what i receive.. I see that the \"X-PHP-Originating-Script\" is added by the PHP installation.\nThe \"from\" and \"reply-to\" i would guess is added by a contact form in Wordpress.\nThere is also a \" X-Mailer: PHPMailer 5.2.17\" - will upgrade very soon ;-)\nI guess this field is added by PHPMailer? This field also have a space infront of it.\nSo if fields from both the contact form and from PHPMailer have spaces infront of it - then it must be related to how PHP handles the line breaks, right?\nI will test the getSentMIMEMessage and save it to a file to compare with what i receive.. ",
    "ToRvaLDz": "Wow after 1 week goggling I found a response:\n$mail->SMTPOptions = array(\n                    'ssl' => array(\n                        'ciphers' => 'TLSv1',\n                        'verify_peer' => false,\n                        'verify_peer_name' => false,\n                        'allow_self_signed' => true\n                    )\n                );. Wow after 1 week goggling I found a response:\n$mail->SMTPOptions = array(\n                    'ssl' => array(\n                        'ciphers' => 'TLSv1',\n                        'verify_peer' => false,\n                        'verify_peer_name' => false,\n                        'allow_self_signed' => true\n                    )\n                );. ",
    "ojfrs": "I use in my domain DNS zone a CNAME for smtprecord.\nIf in my script i use the \"final\" name record and it works good.\nIn my case, i got this record : smtp CNAME relay.mail.gandi.net.\nAnd relay.mail.gandi.net is CNAME record for mail.gandi.net.\nSo in my script, it doesn't work with stmp.mydomain.com, it doesn't work with relay.mail.gandi.net, but it works with mail.gandi.net. ",
    "younas-bangash": "can you explain what is the \"final\" name record  i have also facing issue in while sending mail using smtp. can you explain what is the \"final\" name record  i have also facing issue in while sending mail using smtp. I try it using Testing SSL outside PHP and it output not exactly same what it mention but it return code is 0. I try it using Testing SSL outside PHP and it output not exactly same what it mention but it return code is 0. Thanks dear I solve the problem just putting tls:// with hostname. Thanks dear I solve the problem just putting tls:// with hostname. but older version of php i did not use it and it work fine. but older version of php i did not use it and it work fine. Thanks @Synchro  for your reply I solved the issue . Thanks @Synchro  for your reply I solved the issue . I solved the issue by removing the gethostbyname. I solved the issue by removing the gethostbyname. After sending one email now again i am facing that problem. After sending one email now again i am facing that problem. ",
    "arxeiss": "Cannot use SMTP, so I'm using only mail function.\nBut I still think, that this is wrong. You have in code:\n```php\n/\n * The default line ending.\n \n * @note The default remains \"\\n\". We force LE where we know\n *        it must be used via static::LE.\n * @var  string\n /\npublic $LE = \"\\n\";\n/\n * SMTP RFC standard line ending.\n \n * @var string\n /\nconst LE = \"\\r\\n\";\n```\nEverywhere in your code you are using static::LE which actually points to const LE so public $LE is never used. So even if I change all my Windows endings \\r\\n to UNIX ones \\n before assigning to Body, after all procedures inside your script, I receive email again with those =0D everywhere.. Cannot use SMTP, so I'm using only mail function.\nBut I still think, that this is wrong. You have in code:\n```php\n/\n * The default line ending.\n \n * @note The default remains \"\\n\". We force LE where we know\n *        it must be used via static::LE.\n * @var  string\n /\npublic $LE = \"\\n\";\n/\n * SMTP RFC standard line ending.\n \n * @var string\n /\nconst LE = \"\\r\\n\";\n```\nEverywhere in your code you are using static::LE which actually points to const LE so public $LE is never used. So even if I change all my Windows endings \\r\\n to UNIX ones \\n before assigning to Body, after all procedures inside your script, I receive email again with those =0D everywhere.. No no.. Probably misunderstanding.. Email is sent, that is OK. I don't have a problem with isMail()...\nProblem is, that if message is full of those characters =0D then some email clients show empty message, even I received 30kB message. This is happening to Body and AltBody as well, so even I change view from HTML to plain text, or vice versa, I still see nothing.. No no.. Probably misunderstanding.. Email is sent, that is OK. I don't have a problem with isMail()...\nProblem is, that if message is full of those characters =0D then some email clients show empty message, even I received 30kB message. This is happening to Body and AltBody as well, so even I change view from HTML to plain text, or vice versa, I still see nothing.. Sorry for my late answer. I will send it to your email, but also type it here:\nI'm not changing Encoding, so it stays 8bit. But incoming email is quoted-printable. Here is my code:\n```\n$mailer = new \\PHPMailer(true);\n$mailer->CharSet = 'UTF-8';\n$mailer->isHTML(true);\n$mailer->setFrom(EMAIL_FROM, EMAIL_FROM_NAME);\n$mailer->Subject = $this->emailSubject;\n$mailer->addAddress($orderData['email'], $orderData['name'].\" \".$orderData['surname']);\n// Email normally contains also PDF attachments\n/ But for testing, this was commented, and email source codes are without attachments\nfor ($i=0; $i < count($orderData['tickets']); $i++) {\n    $mailer->addStringAttachment(\n        $this->generateTicketPDF($orderData['tickets'][$i], $this->ticketTemplate),\n        $orderData['tickets'][$i]['code'].\".pdf\"\n    );\n}\n// Getting from template, can be changed to get_file_contents()\n$mailer->Body = $tpl->render(true);\n$mailer->AltBody = $tpl_plain->render(true);\n$mailer->send();\n```\nI'm using Windows, so my files contains \\r\\n. Problem is with both Body and AltBody. Here you can download templates and also received source code: Templates and Email source codes. In my code I also tried before assigning to Body and AltBody replace \\r\\n to \\n by this code, but happen the same:\n// Getting from template\n$mailer->Body = str_replace(\"\\r\\n\", \"\\n\", $tpl->render(true));\n$mailer->AltBody = str_replace(\"\\r\\n\", \"\\n\", $tpl_plain->render(true));. I tried it as well and I got the same result. wrapText() did not help and when viewing message in binary mode, got different line endings:\nVersion 5:\n\nVersion 6:\n\nAlso this printed message with PHP with replacing line endings like this:\nheader(\"Content-type: text/plain\");\n$mailer->preSend();\n$msg = $mailer->getSentMIMEMessage();\n$f = fopen(\"v5.bin\", \"wb\");\nfwrite($f, $msg);\nfclose($f);\n$msg = str_replace([\"\\n\", \"\\r\"], [\"\\\\n\\n\", \"\\\\r\"], $msg);\necho $msg;\nVersion 5:\ntakto zobrazit\\n\n\\n\n\\n\nVersion 6:\ntakto zobrazit\\r\\n\n\\r\\n\n\\r\\n. # isMail\nNote that I'm still using isMail() to send email.\nI just tried send the same message as above into my 3 accounts. GMail, Outlook (outlook.com) and Centrum.cz (Czech mail service).\nIn GMail it works perfectly, viewing source code of message, there are no =0D .\nIn Outlook.com it says Empty message, but viewing source code, there are no =0D but there are much more new headers.\nIn Centrum.cz it also says Empty message, but viewing source code show =0D in every line.\nOutput in file is same as in my previous post.\nAfter I changed like this: const LE = \"\\n\"; It works perfectly in GMail, Outlook.com and Centrum.cz. \nisSMTP\nNow I also tried IsSMTP() with my university SMTP server (vsb.cz)\nIf I tried to send email with SMTP, everything works in all those clients mentioned above. If I check source code, there is no =0D anywhere. (Yes, I changed const LE back to \\r\\n before I tried isSMTP). Sadly I cannot. I'm using it on webhosting, not VPS or something similar and I cannot get more info about it. I will try to reproduce this error on different webhostings I have access to, but not sure that somewhere else I can find more info.... I cannot telnet my webhosting. It is blocked. That problem is happening on webhosting, where I don't have full access. It is regular webhosting as many others.. I cannot telnet my webhosting. It is blocked. That problem is happening on webhosting, where I don't have full access. It is regular webhosting as many others.. Hi,\nI cannot test DKIM, but I tried to send email as I did before and it works in same clients perfectly without changes. So for regular sending I can say, it is fixed.\nI did test for isMail() and isSMTP(), both works perfectly.. ",
    "ASchmidt1": "Your \"legacy\" challenge is the use of the PHP mail function, which (until PHP 5) has been reconciling two directly opposing requirements \n\nmail() under Linux was designed to talk to a (command line) mailer, some of which had flat-out required the input to be operating system line end (single line feed) and rejected/mangled any SMTP compliant CR/LF.\nmail() under win32 on the other hand is talking directly to SMTP, which absolutely mandates RFC compliant line-ends.\n\nUp to PHP 5, they had taken the logical/pragmatic step of simply adapting the win32 implementation to fix any lone LF (which kept everyone happy).\nPHP eliminated the automatic fix-up for v7 and clarified the documentation that RFC-compliant CR LF should be used in for additional headers (with a footnote to try lone LF if they legacy Linux mailer has issues). They have also stated intentions that change this \"string\" parameter to an \"array\", thus completely eliminating ANY line end issues.\nFor maximum compatibility with PHP 5 vs PHP 7 on Linux vs. PHP 7 on Windows, you  could make the $LE default depending on the mailer AND operating system platform:\n- If the mailer is SMTP (e.g, if PHP 7 reports win32, and the mailer is mail() ) THEN the default $LE absolutely MUST be the RFC compliant CRLF. \n- However if the mailer is NOT direct SMTP (e.g., PHP mail() and not win 32), THEN you COULD allow $LE to use a lone LF as the default to maintain backward compatibility.\nThis might provide for best backward compatibility while achieving standards compliance:\nif ( $this->Mailer == 'smtp' || ( $this->Mailer == 'mail' && stripos(PHP_OS, 'WIN') === 0 ) {    // SMTP, mandates RFC compliant line ending\n       $LE = '\\r\\n'; \n       }\n   else {\n       $LE = PHP_EOL;   // maintain backward compatibility for legacy Linux command line mailers\n       }\n. Fixed by PHP (https://bugs.php.net/bug.php?id=74005) in February snapshot so that it's backward compatible with PHP 5. \nThe fix missed the 7.0.16 cut-off, but should be part of 7.0.17.. FWIW - if you are using PHP mail, then it would be prudent to follow the manual, which explicitly states that all additional headers should be passed with CRLF (but that a lone LF could be attempted if one has to work around a qmail quirk). With the latest bug fix, the normalizing of headers in PHP 7 mail() has been reinstanted the way it had done it in PHP 5.. Hi,\nIt might help to see this in the historical context, because it explains why this clash of two philosophies was not recognized initially/early on - leaving all of us today with two incompatible, legacy branches. As you know, on Linux \\n is the operating system line end. Any command line tool that expects input will look for \\n. Since the PHP mail() function was conceived as a front-end to a Linux command line tool (sendmail), it made sense to work with \"\\n\". \nWhen Windows hosting of PHP (and with that, the eventual hosting of PHP applications) became \"a thing\" PHP at some point recognized that there was no \"standard\" command line mailer and eventually started using the more convenient direct SMTP for the Win32 implementation.\nEventually, Anti-Spam/Anti-Virus efforts in the SMTP world caught up and started enforcing strict RFC compliance and suddenly lone LF headers under Windows (or qmail doubled up CRLFCR under Linux) caused emails to not be delivered to certain recipients (\"my gmail users don't get my emails...\")\nAt first, the answer for PHP seemed simple - stick to the RFCs and require CRLF. But then qmail failed because it translates each lone CR and each LF into CRLF. So the Linux site pointed out that mail() was never meant to be \"SMTP\" it was meant to be a sendmail frontend. (On top of that, people had abused the \"additional_header\" parameters to stuff entire nested MIME entities into it - so now they even contained data!)\nConclusion:\n\nKeeping \\n is necessary, because it will prevent breaking legacy Linux mailers that don't understand \\r\\n.\nConditionally using \\r\\n for SMTP will prevent delivery problems (specially under Windows, where \\n was never a thing)\n\nAs far as my code snippet:\n- I can only speak to the Windows side of things with confidence, because that's where I have been patching various emailer code/components of various CMS for many years and through many PHP versions. Although I have hosted a Linux server here and there, I don't have a good testing platform.\n. Hi, I pulled the phpmailer.php 6.0 labeled \"Attempt solution to line break issue, see #953\" from a few days ago, then I used WordPress 4.7.2 on Windows, added the WordPress Exception class, and then replaced their 5.x version with the new \"class_phpmailer.php\". \nUsing an unpatched PHP 7.1.2 on Windows 2012 R2 WordPress was able to use phpmailer to send messages to a the native Windows IIS SMTP server. However, the result were the following headers:\nSubject: [develop] Please moderate: \"Hello world!\"\\r\\n\nTo: argos.networks@myproject.com\\r\\n\nX-PHP-Originating-Script: 0:class-phpmailer.php\\n\nDate: Mon, 20 Feb 2017 17:23:05 +0000\\r\\n\nFrom: WordPress <wordpress@develop.myproject.com>\\r\\n\nMessage-ID: <9cee6f51e46889a1d753f36f970ca67a@develop.myproject.com>\\r\\n\nX-Mailer: PHPMailer 6.0.0 (https://github.com/PHPMailer/PHPMailer)\\r\\n\nMIME-Version: 1.0\\r\\n\nContent-Type: text/plain; charset=UTF-8\\r\\n\nReturn-Path: Postmaster@myproject.com\\r\\n\nThe good news - nothing broke due to your changes. Basically, all the custom headers had proper CRLF endings, EXCEPT...\nfor the X-PHP-Originating header that is injected by the php mail() function based on the PHP.ini setting: mail.add_x_header = On.\nTHAT one has a lone \\n, which will cause these emails to be bounced by RFC enforcing SMTP relays or servers. PHP has developed a fix for THAT bug which is scheduled to be included in the next 7.x updates.. I now retested with the today's PHP 7.1.3 snapshot which includes the fix for the X-PHP-Originating header. With that, all headers are sent with proper \\r\\n from Wordpress->phpmailer->mail()->SMTP under Windows:\n\nSubject: [develop.anamera] Please moderate: \"Hello world!\"\\r\\n\nTo: argos.networks@myproject.com\\r\\n\nX-PHP-Originating-Script: 0:class-phpmailer.php\\r\\n\nDate: Mon, 20 Feb 2017 17:56:38 +0000\\r\\n\nFrom: WordPress wordpress@develop.myproject.com\\r\\n\nMessage-ID: 00f165664b914a4e682e52b0077c12fc@develop.myproject.com\\r\\n\nX-Mailer: PHPMailer 6.0.0 (https://github.com/PHPMailer/PHPMailer)\\r\\n\nMIME-Version: 1.0\\r\\n\nContent-Type: text/plain; charset=UTF-8\\r\\n\nReturn-Path: Postmaster@myproject.com\\r\\n\n\nTherefore, it seems that under Windows, your new code results in proper mail headers from WordPress now, regardless if the (otherwise necessary) 7.x fix is in place - or not. Also, since the 7.x fix simply restores the (unintentionally omitted) header normalization that had been in place in 5.x, I feel comfortable that your code will also work with PHP 5.x (although I have NOT test that explicitly). . The only problem I'm aware of is sites with 7.x before 7.0.17 and before 7.1.3. They will have to specify mail.add_x_header = 0 to circumvent the PHP 7 bug, if they configured a (most likely Windows) SMTP server that blocks or doesn't fix-up lone LF headers. But at least if they do that, then the \"to\" and \"additional_headers\" parameters that PHPmailer 6 passes to the mail() function will be able to go through now.\nI'm not aware of any clashes with your updated PHPmailer 6 code and the mail() function of PHP 5.\nWithout your updated code, users of PHP 7x before 7.0.17 and before 7.1.3 would have to explicitly set $LE = '\\r\\n', which of course is a customization of \"core\" code that would be beyond the ability of most CMS end users.. Yes, I had checked into the possibility to suppress this PHP setting for the affected 7.0/7.1 versions and came to the same conclusion. Frankly, now that a 7.x fix is out, at least it will be reasonable to advise folks to upgrade to the latest update for the current release.\nMy gut feeling is that by the time PHPmailer 6 will be widely adopted (where any noisy error could be seen) by the various CMS, many PHP 7.x installations may have already installed current/fixed updates. Also, listing the PHP bug among the issues \"circumvented\" with PHPmailer will further help affected installations \"discover\" the need to upgrade to the current update of their PHP 7.x version, when googling for their symptoms.\nIf it makes you feel any better: Keep in mind, that PHP bug had been able to linger for so long, because many MTAs will of course whitelist their own users (either by IP or with SMTP AUTH) - so the emails are always accepted. Many MTA might even fix up the headers as they are injecting their own Received headers before relaying it - thus also suppressing it. That's why it took me quite a bit to track this down, because of my two different Windows MTAs, only ONE brand kept the faulty headers intact so for the longest time, I never actually observed the lone line feed while trying to produce it until I tested with our secondary MTA.. One possible combination is someone who (maybe for historical reasons) is actually using a sendmail-like command line mailer on Windows rather than SMTP. Early adopters of PHP under Windows might have had to go that route.\nIn that case their INI would have:\nSMTP = \nsmtp_port = \nsendmail-path = x:\\path\\to\\mailer.exe\nObviously the result would depend on each specific mailer program, however, since they all do expect a Windows file or pipe as input, it would be reasonable to assume that they all will expect \\r\\n, but may also have also been designed to fix-up lone \\n. In which case, these would have never been effected by any of the back and forth and thus might not need to be \"warned\".. Agreed, other than changing their code to isSendmail(), just disabling mail.add_x_header for those PHP versions is the most sensible temporary alternative if someone encounteres issues, until they can install their fixed PHP release.. ",
    "long76": "PHP 7.1.3/7.0.17\nFixed bug #74005 (mail.add_x_header causes RFC-breaking lone line feed).. ",
    "IDavidCP": "Set this:\n$mail->SMTPDebug = 2;\nSo you can check what is wrong. I didn't copy the $mail->Send() part because as I said, I'm getting the mail in my inbox.\nif($mail->Send()){\n        $output = json_encode(array('type'=>'message', 'text' => 'Thanks for your message'));\n        die($output);\n    }else{\n        $output = json_encode(array('type'=>'error', 'text' => $mail->ErrorInfo));\n        die($output);\n    }. Problem solved, something related to the encode. \nThanks for your time!. Problem solved, something related to the encode. \nThanks for your time!. ",
    "ashrafkm": "Thank you for the suggestions.\nI found the solution.. the problem was with gmail account.. less secure apps permission was turned off. after I made it on, it worked properly.\n. Thank you for the suggestions.\nI found the solution.. the problem was with gmail account.. less secure apps permission was turned off. after I made it on, it worked properly.\n. ",
    "IPTRACE": "Thanks. I've just disabled AES128 and PHPMailer uses cipher as I would expect.\npostfix config entry:\nsmtpd_tls_mandatory_exclude_ciphers = aNULL, eNULL, DES, 3DES, MD5, DES+MD5, RC4, AES128. Thanks. I've just disabled AES128 and PHPMailer uses cipher as I would expect.\npostfix config entry:\nsmtpd_tls_mandatory_exclude_ciphers = aNULL, eNULL, DES, 3DES, MD5, DES+MD5, RC4, AES128. I didn\u2019t know that. I thought AES256 is better than AES128.\nI\u2019ll study about weakness of AES256.. The problem has been solved by changing permissions for crt and key files to readable by www user.... The problem has been solved by changing permissions for crt and key files to readable by www user.... ",
    "UweKeim": "Thanks. \n(I'm not running Canary channel, I'm running Dev channel). ",
    "ridera": "No work   I copied your lines to make certain of no typo errors, \nThese are in my config file, which is called before the functions file\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\SMTP;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire MAILER_DIR .'/src/PHPMailer.php';\n  require MAILER_DIR .'/src/SMTP.php';\n  require MAILER_DIR .'/src/Exception.php';\nNo errors on these requires\nThis is in my functions file\n$mail = new PHPMailer;  I even took out the (test)\nsame error \nFatal error:  Uncaught Error: Class 'PHPMailer' not found in .....\nusing PHP Ver: 7.1.0;. I replied this via GitHub\nNo work I copied your lines to make certain of no typo errors,\nThese are in my config file, which is called before the functions file\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\SMTP;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire MAILER_DIR .'/src/PHPMailer.php';\nrequire MAILER_DIR .'/src/SMTP.php';\nrequire MAILER_DIR .'/src/Exception.php';\nNo errors on these requires\nThis is in my functions file\n$mail = new PHPMailer; I even took out the (test)\nsame error\nFatal error: Uncaught Error: Class 'PHPMailer' not found in .....\nusing PHP Ver: 7.1.0;\nOn 1/11/2017 2:26 PM, Marcus Bointon wrote:\n\nJust to confirm, I altered the beginning of the gmail example to look like this, and it worked fine:\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\SMTP;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire '../src/PHPMailer.php';\nrequire '../src/SMTP.php';\nrequire '../src/Exception.php';\n//Create a new PHPMailer instance\n$mail = new PHPMailer;\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/959#issuecomment-271968542, or mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AX5f65maSL7ZBJ61tHhNzg84o1U_d13Xks5rRSzUgaJpZM4Lg7Sd.\n\n\n. Many thanks. That worked\nJust so I'm clear.  Does version 6 require the use of namespace?  If so, would be good to make this point explicit in the upgrade [Upgrading from PHPMailer 5.2 to 6.0] and examples files.  . I saw the \"You will need to import classes you're using explicitly into your own namespace, or the global namespace - \nall the examples show how to do this.\"\nIn my opinion, this is not very explicit.  Suggest rewording to read \"You Must import classes you're using \nexplicitly into your own namespace, or the global namespace.\nI believe this feature will cause a lot of grief to others as they attempt to upgrade the phpMailer 5.xx installations \nto 6.xx.  Once I got the classes to load the 6.0, my 5.2.21 smtp mode settings ran perfect without any changes.\nSeems to me the use of namespace should be an option, not a requirement.\nAl....\nOn 1/11/2017 5:55 PM, Marcus Bointon wrote:\n\nYes - The classes are namespaced, so any references you make to them must respect that, just like anything that uses a \nnamespace. It's is covered pretty thoroughly in the upgrade guide \nhttps://github.com/PHPMailer/PHPMailer/blob/6.0/UPGRADING.md, which is linked from the readme, though the link \ndoesn't work because it's expecting it to be in master, which it's not, yet. It's already reflected in all the example \nfiles in the 6.0 branch, though obviously not in the 5.2/master branch.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/959#issuecomment-272022121, or mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AX5f68UuWiyk4BBFZJxEUOhNhqEQUpJDks5rRV3KgaJpZM4Lg7Sd.\n\n\n. ",
    "andrealansp": "Hello, I used the composer for install phpmailer, on my project, but when i call de autoload i receive the error  Uncaught Error: Class 'PHPMailer' not found in C:\\wamp64\\www\\php\\tpl\\email.php:24 Stack trace: #0 {main} thrown in C:\\wamp64\\www\\php\\tpl\\email.php on line 24. \nWhat do i can do ?\nThanks for help!  . ",
    "sunil-tamang": "Fatal error: Uncaught Error: Class 'PHPMailer\\PHPMailer' not found\nused this  $mail = new PHPMailer(true); \nalmost tried everythin help....... how to avoid this message \nWarning: escapeshellcmd() has been disabled for security reasons in /storage/ssd2/771/4867771/public_html/PHPMailer/PHPMailer.php on line 1584. Fatal error: Uncaught Error: Class 'PHPMailer\\PHPMailer\\SMTP' not found in. please help solving this....\nSMTP ERROR: Password command failed:\nSMTP Error: Could not authenticate. \n                  $mail->isSMTP(); \n                    $mail->SMTPDebug = 2;  \n                    $mail->SMTPAuth = true;                             \n                    $mail->SMTPSecure = 'ssl';                                 \n                    $mail->Host = 'smtp.gmail.com';\n                    $mail->Port = 465;\n\n\n                    $mail->Username = 'account@gmail.com';                 \n                    $mail->Password = '';                           \n                    $mail->setFrom('@gmail.com');   \n                    $mail->addAddress($email, $name);\n                    $mail->Subject = \"Please verify email!\";\n                    $mail->isHTML(true); \n                    $mail->Body = \" Please click on the link below:<br><br> \";\n\n                    $mail->send();\n\n                         $msg = \"You have been registered! Please verify your email!\";\n\n                      }catch (Exception $e) {\n                             $msg = \"Something wrong happened! Please try again!\";\n\n                 }.\n",
    "Toxaris-NL": "doh! Why didn't I see that. So sorry.... ",
    "SscSPs": "Okay! learned something new! Thanks @SDKiller . ",
    "amiga-500": "Much appreciated for the reply.  I did s'more digging and it definitely isnt a PHPMailer issue.  Seems there is some conflict with PHP7.1 and the underlying sendmail calling.. Hi @Synchro. Apparently when i closed this issue i guess somehow my closing comment wasn't stored with it as well.  I ended up discovering the issue yesterday with the help of the guys at php.net.  They figured it out to be the result of a misconfigured mail.force_extra_parameters being used which was in affect preventing the \"-f\" envelope-from field from being used properly.  So everything is awesome again.\nMuch appreciated.. ",
    "premiwebsquare": "Hi @amiga-500 I am facing the Same Issue here is the my log file.\n2018-08-03 04:28:34 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP b67-v6sm6095273pfd.74 - gsmtp\n2018-08-03 04:28:34 CLIENT -> SERVER: EHLO localhost\n2018-08-03 04:28:35 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [120.72.90.155]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2018-08-03 04:28:35 CLIENT -> SERVER: STARTTLS\n2018-08-03 04:28:35 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\n2018-08-03 04:28:35 CLIENT -> SERVER: EHLO localhost\n2018-08-03 04:28:35 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [120.72.90.155]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2018-08-03 04:28:35 CLIENT -> SERVER: AUTH LOGIN\n2018-08-03 04:28:36 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2018-08-03 04:28:36 CLIENT -> SERVER: <credentials hidden>\n2018-08-03 04:28:36 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2018-08-03 04:28:36 CLIENT -> SERVER: <credentials hidden>\n2018-08-03 04:28:36 SERVER -> CLIENT: 235 2.7.0 Accepted\n2018-08-03 04:28:36 CLIENT -> SERVER: MAIL FROM:<anand.saroj5@gmail.com>\n2018-08-03 04:28:37 SERVER -> CLIENT: 250 2.1.0 OK b67-v6sm6095273pfd.74 - gsmtp\n2018-08-03 04:28:37 CLIENT -> SERVER: RCPT TO:<prem@iwebsqaure.com>\n2018-08-03 04:28:37 SERVER -> CLIENT: 250 2.1.5 OK b67-v6sm6095273pfd.74 - gsmtp\n2018-08-03 04:28:37 CLIENT -> SERVER: DATA\n2018-08-03 04:28:38 SERVER -> CLIENT: 354 Go ahead b67-v6sm6095273pfd.74 - gsmtp\n2018-08-03 04:28:38 CLIENT -> SERVER: Date: Fri, 3 Aug 2018 04:28:34 +0000\n2018-08-03 04:28:38 CLIENT -> SERVER: To: Prem Sarojanand <prem@iwebsqaure.com>\n2018-08-03 04:28:38 CLIENT -> SERVER: From: Nancy Brown <xxxxxxxxxx@gmail.com>\n2018-08-03 04:28:38 CLIENT -> SERVER: Subject: Subject Text\n2018-08-03 04:28:38 CLIENT -> SERVER: Message-ID: <3JJA6Kb3wZKGRgb02veGtiZzdZG0FIP0sOyp4c7wc@localhost>\n2018-08-03 04:28:38 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.5 (https://github.com/PHPMailer/PHPMailer)\n2018-08-03 04:28:38 CLIENT -> SERVER: MIME-Version: 1.0\n2018-08-03 04:28:38 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2018-08-03 04:28:38 CLIENT -> SERVER: boundary=\"b1_3JJA6Kb3wZKGRgb02veGtiZzdZG0FIP0sOyp4c7wc\"\n2018-08-03 04:28:38 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2018-08-03 04:28:38 CLIENT -> SERVER: \n2018-08-03 04:28:38 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2018-08-03 04:28:38 CLIENT -> SERVER: --b1_3JJA6Kb3wZKGRgb02veGtiZzdZG0FIP0sOyp4c7wc\n2018-08-03 04:28:38 CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\n2018-08-03 04:28:38 CLIENT -> SERVER: \n2018-08-03 04:28:38 CLIENT -> SERVER: This is the plain text version of the email content\n2018-08-03 04:28:38 CLIENT -> SERVER: \n2018-08-03 04:28:38 CLIENT -> SERVER: --b1_3JJA6Kb3wZKGRgb02veGtiZzdZG0FIP0sOyp4c7wc\n2018-08-03 04:28:38 CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2018-08-03 04:28:38 CLIENT -> SERVER: \n2018-08-03 04:28:38 CLIENT -> SERVER: <i>Mail body in HTML</i>\n2018-08-03 04:28:38 CLIENT -> SERVER: \n2018-08-03 04:28:38 CLIENT -> SERVER: \n2018-08-03 04:28:38 CLIENT -> SERVER: --b1_3JJA6Kb3wZKGRgb02veGtiZzdZG0FIP0sOyp4c7wc--\n2018-08-03 04:28:38 CLIENT -> SERVER: \n2018-08-03 04:28:38 CLIENT -> SERVER: .\n2018-08-03 04:28:38 SERVER -> CLIENT: 250 2.0.0 OK 1533270520 b67-v6sm6095273pfd.74 - gsmtp\n2018-08-03 04:28:38 CLIENT -> SERVER: QUIT\n2018-08-03 04:28:39 SERVER -> CLIENT: 221 2.0.0 closing connection b67-v6sm6095273pfd.74 - gsmtp\nMessage has been sent successfully\n```php\nerror_reporting(E_All);\n// require DIR .'\\phpmailers\\PHPMailerAutoload.php';\n// require DIR .'\\phpmailers\\class.smtp.php';\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\n// require 'path/to/PHPMailer/src/Exception.php';\n// require 'path/to/PHPMailer/src/PHPMailer.php';\n// require 'path/to/PHPMailer/src/SMTP.php';\nrequire DIR.'/PHPMailer/src/Exception.php';\nrequire DIR.'/PHPMailer/src/PHPMailer.php';\nrequire DIR.'/PHPMailer/src/SMTP.php';\nrequire_once \"vendor/autoload.php\";\necho 'hi';\n  $mail = new PHPMailer(true);\ntry{\n//Enable SMTP debugging.\n  $mail->SMTPDebug = 2;\n  //Set PHPMailer to use SMTP.\n  $mail->isSMTP();\n  //Set SMTP host name\n  $mail->Host = \"smtp.gmail.com\";\n  //Set this to true if SMTP host requires authentication to send email\n  $mail->SMTPAuth = true;\n  //Provide username and password\n  $mail->Username = \"XXXXXXX@gmail.com\";\n  $mail->Password = \"XXXXXX\";\n  $mail->Sender = \"anand.saroj5@gmail.com\";\n//If SMTP requires TLS encryption then set it\n  $mail->SMTPSecure = \"tls\";\n  //Set TCP port to connect to\n  $mail->Port = 587;\n$mail->From = \"XXXXXXXX@gmail.com\";\n  $mail->FromName = \"Nancy Brown\";\n$mail->addAddress(\"prem@iwebsqaure.com\", \"Prem Sarojanand\");\n$mail->isHTML(true);\n$mail->Subject = \"Subject Text\";\n  $mail->Body = \"Mail body in HTML\";\n  $mail->AltBody = \"This is the plain text version of the email content\";\n  if(!$mail->send())\n  {\n      echo \"Mailer Error: \" . $mail->ErrorInfo;\n  }\n  else\n  {\n      echo \"Message has been sent successfully\";\n  }\n}catch(phpmailerException $e){\n  echo $e->errorMessage();\n}catch(Exception $e){\n  echo $e->getMessage();\n}\n```\ntesting through Localhost in Windows 10.1 Php Version 7.1.14  Kindly Help. Bounce Back Is returning to same email id rather than Sender Email Id.. Hey @Synchro , \nI am sorry, For Gmail Part thanks I will look into trouble shooting guide. Any Suggestion with Handling Bounce mail through application. \nThanks. Thanks @Synchro  for Your Help!. ",
    "cova-sa": "There doesn't seem to be any trace of the emails in the spam folder either. Is there any way to tell if the email was successfully received by the recipient email server?. So I change that process and decided to try connecting to the recipients mail server using their host name, user name, and password. When I sent the email I got \"Your message to noreply@domain.com couldn't be delivered. noreply wasn't found at domain.com.\" This was sent to me in an email and this is because I set the property $mail->SetFrom ('noreply@domain.com', 'Ticket Submission'); Also, even though I got this email, the debug still only printed out true and no errors.. I'm change the code to look like this and still no luck.\nrequire_once('scripts/phpmailer/class.phpmailer.php');\n          $mail = new PHPMailer();\n          $mail->SMTPDebug = 2;\n          $mail->SMTPAuth = true;\n          $mail->SMTPSecure = \"tls\";\n          $mail->Host = \"smtp.office365.com\";\n          //$mail->Host = \"domain-com.mail.protection.outlook.com\";\n          $mail->Port = '587';\n          $mail->Username = \"Website@domain.com\";\n          $mail->Password = \"password\";\n          $mail->CharSet = 'windows-1250';\n          $mail->SetFrom ('website@domain.com', 'Ticket Submission'); \n          $mail->Subject = $email->subject;\n          $mail->ContentType = 'text/plain'; \n          $mail->IsHTML(false);\n          $mail->Body = $email->body;\n          $mail->AddAddress ('Website@domain.com', 'Clay Smith');\n          $mail->AddAddress ('Website@mailserver.domain.com', 'Clay Smith');\nI logged into the email account Website@domain.com via the outlook.office365.com weblink and I don't see anything in the Inbox or the Junk Email list. I also am still not getting an errors from the debug option.. After making those edits the problem has been solved. Thank you so much for the help. Looking forward to continuous use.. Will do. ",
    "jameelsid": "it working in local host \nwhen i try to wok in my domain \nit showing  this error \nWarning: escapeshellcmd() has been disabled for security reasons\npls help me with this\\\ncode\nphp \n$email='YYYY@gmail.com';\nrequire 'mailer/PHPMailerAutoload.php';\n$mail = new PHPMailer;\n\n<p$mail->Host ='smtp.gmail.com';\n$mail->Port =587;\n$mail->SMTPAuth=true;\n$mail->SMTPSecure='tls';\n$mail->Username='YYYY@gmail.com';\n$mail->Password=\"XXXXXXXX\";\n$mail->setFrom('YYYY@gmail.com','YYYYY');\n$mail->addAddress($email);\n$mail->addReplyTo('YYYY@gmail.com');\n$mail->isHTML(true);\n$mail->Subject='XXXXX';\n$mail->Body=\"hai\";\nif(!$mail->send())\n{\n    echo\"no\";\n}\nelse\n{\n    echo\"yes\";\n}\n?>. i used that ,mail is not sending iam using in my domain\n. when i used that it show no error bt mail is not sending\n. where i find the docs???\n. ",
    "coggie": "hi thanks for the reply and sorry i did not know about Stack overview but\nwill look there so thanks for that.\nthe php login system i got was from github PHP Login Master\nOn Fri, Jan 20, 2017 at 2:33 PM, Marcus Bointon notifications@github.com\nwrote:\n\nClosed #969 https://github.com/PHPMailer/PHPMailer/issues/969.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/969#event-930774552, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AX-Ub2i2bQ3_s95h8QCoIFDK0C-hvRj9ks5rUMW8gaJpZM4LpWRL\n.\n. hi thanks for the reply and sorry i did not know about Stack overview but\nwill look there so thanks for that.\n\nthe php login system i got was from github PHP Login Master\nOn Fri, Jan 20, 2017 at 2:33 PM, Marcus Bointon notifications@github.com\nwrote:\n\nClosed #969 https://github.com/PHPMailer/PHPMailer/issues/969.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/969#event-930774552, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AX-Ub2i2bQ3_s95h8QCoIFDK0C-hvRj9ks5rUMW8gaJpZM4LpWRL\n.\n. \n",
    "irthinker": "Well, I discovered the problem. The mailhost changed without notice. I am still not able to send email, but the connection is not throwing an error now that I have updated the mailhost name. I need to troubleshoot to figure out what is going on, so please feel free to close this.. Well, I discovered the problem. The mailhost changed without notice. I am still not able to send email, but the connection is not throwing an error now that I have updated the mailhost name. I need to troubleshoot to figure out what is going on, so please feel free to close this.. Agreed. They are investigating on their end. They recently updated some\nsecurity certificates.\nOn Sun, Jan 22, 2017 at 10:27 AM, Marcus Bointon notifications@github.com\nwrote:\n\nGlad you fixed it. It sounds like a corrupt certificate - testing with\nopenssl would reveal more.\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/970#issuecomment-274341064,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AI481dMPlDxCGnT_N1gEy9iR2zfc_qYeks5rU4NwgaJpZM4LqLb4\n.\n\n\n-- \nMichael\n. Agreed. They are investigating on their end. They recently updated some\nsecurity certificates.\nOn Sun, Jan 22, 2017 at 10:27 AM, Marcus Bointon notifications@github.com\nwrote:\n\nGlad you fixed it. It sounds like a corrupt certificate - testing with\nopenssl would reveal more.\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/970#issuecomment-274341064,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AI481dMPlDxCGnT_N1gEy9iR2zfc_qYeks5rU4NwgaJpZM4LqLb4\n.\n\n\n-- \nMichael\n. ",
    "xenofx": "thank you for your reply.  it is seems good https://packagist.org/packages/selbil/mail-queue. thank you for your reply.  it is seems good https://packagist.org/packages/selbil/mail-queue. ",
    "mathishuettl": "As I wrote it worked before the update so the paths are 100% correct and which return values you mean?. As I wrote it worked before the update so the paths are 100% correct and which return values you mean?. ",
    "bees4ever": "I even don't get images in my mail by adding just the html code with relative links to the image. I also  just changes the phpmailer library and nothing else. \nI now reseted my phpmailer to version 5.2.14 because of this. Sorry, I hope someone find the bug and the next release will include the fix or I found it myself. \nOr does anyone has an idea?. ",
    "mairtg": "Thanks for your help. I appreciate that. I've tried the above. Would you reckon the problem is with js then? \n. Thanks for your help. I appreciate that. I've tried the above. Would you reckon the problem is with js then? \n. Yep. And they do all line up. Like I said, it done everything I wanted it to do until recently. I didn't changed anything and now I only receive 2 of my 4 fields. Thanks anyway for your help. I'll go back to the drawing board.. Yep. And they do all line up. Like I said, it done everything I wanted it to do until recently. I didn't changed anything and now I only receive 2 of my 4 fields. Thanks anyway for your help. I'll go back to the drawing board.. Here's the file...\nrd-mailform.zip\n. ```php\n<?php\n$recipients = 'mail@gmail.com, info@mydomain.com';\n//$recipients = '#';\ntry {\n    require './phpmailer/PHPMailerAutoload.php';\npreg_match_all(\"/([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)/\", $recipients, $addresses, PREG_OFFSET_CAPTURE);\n\nif (!count($addresses[0])) {\n    die('MF001');\n}\n\nif (preg_match('/^(127\\.|192\\.168\\.)/', $_SERVER['REMOTE_ADDR'])) {\n    die('MF002');\n}\n\n$template = file_get_contents('rd-mailform.tpl');\n\nif (isset($_POST['form-type'])) {\n    switch ($_POST['form-type']){\n        case 'contact':\n            $subject = 'A message from your site visitor';\n            break;\n        case 'subscribe':\n            $subject = 'Subscribe request';\n            break;\n        case 'order':\n            $subject = 'Order request';\n            break;\n        default:\n            $subject = 'A message from your site visitor';\n            break;\n    }\n}else{\n    die('MF004');\n}\n\nif (isset($_POST['email'])) {\n    $template = str_replace(\n        [\"<!-- #{FromState} -->\", \"<!-- #{FromEmail} -->\"],\n        [\"Email:\", $_POST['email']],\n        $template);\n}else{\n    die('MF003');\n}\n\nif (isset($_POST['message'])) {\n    $template = str_replace(\n        [\"<!-- #{MessageState} -->\", \"<!-- #{MessageDescription} -->\"],\n        [\"Message:\", $_POST['message']],\n        $template);\n}\n\npreg_match(\"/(<!-- #{BeginInfo} -->)(.|\\n)+(<!-- #{EndInfo} -->)/\", $template, $tmp, PREG_OFFSET_CAPTURE);\nforeach ($_POST as $key => $value) {\n    if ($key != \"email\" && $key != \"message\" && $key != \"form-type\" && !empty($value)){\n        $info = str_replace(\n            [\"<!-- #{BeginInfo} -->\", \"<!-- #{InfoState} -->\", \"<!-- #{InfoDescription} -->\"],\n            [\"\", ucfirst($key) . ':', $value],\n            $tmp[0][0]);\n\n        $template = str_replace(\"<!-- #{EndInfo} -->\", $info, $template);\n    }\n}\n\n$template = str_replace(\n    [\"<!-- #{Subject} -->\", \"<!-- #{SiteName} -->\"],\n    [$subject, $_SERVER['SERVER_NAME']],\n    $template);\n\n$mail = new PHPMailer();\n$mail->From = $_SERVER['SERVER_ADDR'];\n$mail->FromName = $_SERVER['SERVER_NAME'];\n\nforeach ($addresses[0] as $key => $value) {\n    $mail->addAddress($value[0]);\n}\n\n$mail->CharSet = 'utf-8';\n$mail->Subject = $subject;\n$mail->MsgHTML($template);\n\nif (isset($_FILES['attachment'])) {\n    foreach ($_FILES['attachment']['error'] as $key => $error) {\n        if ($error == UPLOAD_ERR_OK) {\n            $mail->AddAttachment($_FILES['attachment']['tmp_name'][$key], $_FILES['Attachment']['name'][$key]);\n        }\n    }\n}\n\n$mail->send();\n\ndie('MF000');\n\n} catch (phpmailerException $e) {\n    die('MF254');\n} catch (Exception $e) {\n    die('MF255');\n}\n?>\n```. There's the php. Sorry about the previous unformatted mess.. I can post the html too but I know there's no issue with that. The fields are 'name', 'phone', 'email' and 'message' in that order. I can post it if it would be better to see it. \n. JS.zip\nThere are the two JS files that correspond to the form.. OK. Thanks mate. Much appreciated. I'll do that. Thanks for your time man.. ",
    "abdfahim": "Thanks a lot.. Thanks Synchro, I actually realized that just after posting, that's why i deleted the post before you replied. Sorry for that, you can restore that deleted post if you want.\nThanks again.. ",
    "sportyboty": "Thank you, I have managed to fix the bug by editing phpmailer class. ",
    "OcranDave": "Fatal error: Uncaught phpmailerException: Message body empty in C:\\xampp\\htdocs\\NEWPROJECT\\contactform\\PHPMailer\\class.phpmailer.php:1272 Stack trace: #0 \nI have this error have received . Please any help\nC:\\xampp\\htdocs\\NEWPROJECT\\contactform\\PHPMailer\\class.phpmailer.php(1212): PHPMailer->preSend() #1 C:\\xampp\\htdocs\\NEWPROJECT\\contactform\\contact.php(58): PHPMailer->send() #2 {main} thrown in C:\\xampp\\htdocs\\NEWPROJECT\\contactform\\PHPMailer\\class.phpmailer.php on line 1272\n. here is the code:\n```php\n<?php\nsession_start();\n// Import PHPMailer classes into the global namespace\n// These must be at the top of your script, not inside a function\n//use PHPMailer\\PHPMailer;\nuse PHPMailer\\Exception;\n//Load composer's autoloader\nrequire 'PHPMailer/PHPMailerAutoload.php';\n$mail = new PHPMailer(true); \ntry {\nif(isset($_POST['name'], $_POST['email'], $_POST['message'])){\n$fields = [\n  'name' => $_POST['name'],\n    'email' => $_POST['email'],\n      'message' => $_POST['message']\n];\nforeach($fields as $field => $data){\n    if(empty($data)){\n        $errors[] = ' The ' . $field . ' field is required.';\n    }\n}                             // Passing true enables exceptions\n    //Server settings\n    $mail->SMTPDebug = 2;                                 // Enable verbose debug output\n    $mail->isSMTP();                                      // Set mailer to use SMTP\n    $mail->Host = 'smtp.comcast.net';  // Specify main and backup SMTP servers\n    $mail->SMTPAuth = true;                               // Enable SMTP authentication\n    $mail->Username = 'ocrand9@gmail.com';                 // SMTP username\n    $mail->Password = 'teres';                           // SMTP password\n    $mail->SMTPSecure = 'tls';                            // Enable TLS encryption, ssl also accepted\n    $mail->Port = 587;                                    // TCP port to connect to\n//Content\n$mail->isHTML(true);\n\n// Set email format to HTML\n$mail->Subject = 'Contact form submitted';\n//$mail->AltBody = 'From: ' . $fields['name'] . ' (' . $fields['email'] . ')<p>' . $fields['message'] . '</p>';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\n\n//$mail->FromName = 'Contact';\n    //Recipients\n   $mail->setFrom('from@example.com', 'Mailer');\n    $mail->addAddress('ocrand9@gmail.com', 'David Ocran');     // Add a recipient\n    $mail->addAddress('ellen@example.com');               // Name is optional\n    $mail->addReplyTo('davisetad@gmail.com', 'David');\n    $mail->addCC('cc@example.com');\n    $mail->addBCC('bcc@example.com');\n//Attachments\n\n// $mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n    //$mail->addAttachment('/tmp/image.jpg', 'new.jpg');    // Optional name\nif($mail->send()){\n        header('location: thanks.php');\n        die();\n    }\n    else{\n        $errors[] = 'Sorry, could not send email. Try again later.';\n    }\n\n}\n$_SESSION['errors'] = $errors;\n$_SESSION['fields'] = $fields;\nheader('Location: index.php');\n} catch (Exception $e) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n}\n?>\n```. Oh ok thank you! Synchro\ni have this error\nFatal error: Uncaught Error: Call to undefined method PHPMailer\\PHPMailer\\PHPMailer::isTHML() in C:\\xampp\\htdocs\\tutorial\\index.php:19 Stack trace: #0 {main} thrown in C:\\xampp\\htdocs\\tutorial\\index.php on line 19\nAnd here is the code\ni have installed autoloader\nphp\n\n<prequire 'vendor/phpmailer/phpmailer/src/PHPMailer.php';\nrequire_once 'vendor/autoload.php';\nif(isset($_POST['email'])){\n    if(!filter_var($_POST['email'] ,FILTER_VALIDATE_EMAIL)){\n} else{\n    $mail = new PHPMailer();\n    $mail->setFrom(\"davisetad@gmail.com\" ,\"David Ocran\");\n    $mail->addAddress($_POST['email'] ,$_POST['name']);\n    $mail->isTHML(true);\n    $mail->Subject = \"Here are the subject of email\";\n    $mail->Body = \"\".$_POST['msg'].\"\";\n}\n    if($mail->send()){\n        echo \"email sent\";\n    }\n    else{\n        echo \"error\";\n    }\n}\n?>\n\n\n\n\n\n\n. ",
    "ilhansubasi": "Thanks! Now it works as you've described.. ",
    "drbyte": "Thanks!. ",
    "Salamander3": "Sorry i don't even know who to ask about this. I changed nothing it worked for months now i have no idea how to proceed i'm not a programmer.. This is being sent from a server, is there any particular setting or config file i could find this at?. Oh this is great, i started poking around cpanel and i found this was enabled:\nhttps://documentation.cpanel.net/display/ALD/SMTP+Restrictions\nDisabling that made it possible to send email again! Thanks for your patience can't believe this is working again!. Oh this is great, i started poking around cpanel and i found this was enabled:\nhttps://documentation.cpanel.net/display/ALD/SMTP+Restrictions\nDisabling that made it possible to send email again! Thanks for your patience can't believe this is working again!. ",
    "rohitchokhani": "This is from SMTPDebug = 2\nSMTP -> FROM SERVER:220 smtp.gmail.com ESMTP j28sm73020369pfj.2 - gsmtp \nSMTP -> FROM SERVER: 250-smtp.gmail.com at your service, [server_ip] 250-SIZE 35882577 250-8BITMIME 250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH 250-ENHANCEDSTATUSCODES 250-PIPELINING 250 SMTPUTF8 \nSMTP -> FROM SERVER:250 2.1.0 OK j28sm73020369pfj.2 - gsmtp \nSMTP -> FROM SERVER:250 2.1.5 OK j28sm73020369pfj.2 - gsmtp \nSMTP -> FROM SERVER: \nSMTP -> ERROR: DATA command not accepted from server: . This is from SMTPDebug = 2\nSMTP -> FROM SERVER:220 smtp.gmail.com ESMTP j28sm73020369pfj.2 - gsmtp \nSMTP -> FROM SERVER: 250-smtp.gmail.com at your service, [server_ip] 250-SIZE 35882577 250-8BITMIME 250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH 250-ENHANCEDSTATUSCODES 250-PIPELINING 250 SMTPUTF8 \nSMTP -> FROM SERVER:250 2.1.0 OK j28sm73020369pfj.2 - gsmtp \nSMTP -> FROM SERVER:250 2.1.5 OK j28sm73020369pfj.2 - gsmtp \nSMTP -> FROM SERVER: \nSMTP -> ERROR: DATA command not accepted from server: . No, have not edited the PHP Mailer core files. The same version of the Mailer, works from my localhost, for the same code.\nI will give in the SMTPDebug = 2, details for the localhost tomorrow. No, have not edited the PHP Mailer core files. The same version of the Mailer, works from my localhost, for the same code.\nI will give in the SMTPDebug = 2, details for the localhost tomorrow. Thanks all for the help. I have upgraded to the latest PHP Mailer class and have also upgraded the Firewall on my server and reset the port blocking settings for my firewall and that solved the issue. ",
    "iz29": "I follow the link already and have done what has been suggested in the link, and asked to hosting team which is wpengine, and wpengine recommend me to ask to developer about this, that's why I'm here. I follow the link already and have done what has been suggested in the link, and asked to hosting team which is wpengine, and wpengine recommend me to ask to developer about this, that's why I'm here. Well, WPEngine said they block port 587, which means I can't use it, right?. Well, WPEngine said they block port 587, which means I can't use it, right?. Well, they recommend plugin which can send thru GMail API.\nAnyway thanks ^^\nOn Tue, Feb 7, 2017 at 1:35 PM, Marcus Bointon notifications@github.com\nwrote:\n\nRight. Given they do that, they probably block outbound 465 and 25 too.\nThey must provide an alternative though as pretty much everyone needs to\nsend email from servers, so you'd better ask them what that is. For example\nGoDaddy does this, and they provide an internal email gateway to use\ninstead. All this is covered in the guide.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/987#issuecomment-277913959,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AWUJ09enII3CQNEsrxf19ok8sGxaU_xuks5raBCYgaJpZM4L3x7R\n.\n\n\n-- \nSincerely,\nIz\nYuliana Isma Graha I REC Staff I STMIK RAHARJA - Tangerang I Jl. Jend.\nSudirman No.40 Tangerang | 15117 |\n( +62 21 552 9692 | [image: fax] +62 21 552 9742 | )+62 813 179308 78\n| *  iz@raharja.info\niz@raharja.info I\nRaharja.ac.id http://Raharja.ac.id l iz.ilearning.me\nhttp://iz.ilearning.me\n-- \nPerguruan Tinggi Raharja\nhttp://www.raharja.ac.id http://raharja.ac.id/\n. Well, they recommend plugin which can send thru GMail API.\nAnyway thanks ^^\nOn Tue, Feb 7, 2017 at 1:35 PM, Marcus Bointon notifications@github.com\nwrote:\n\nRight. Given they do that, they probably block outbound 465 and 25 too.\nThey must provide an alternative though as pretty much everyone needs to\nsend email from servers, so you'd better ask them what that is. For example\nGoDaddy does this, and they provide an internal email gateway to use\ninstead. All this is covered in the guide.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/987#issuecomment-277913959,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AWUJ09enII3CQNEsrxf19ok8sGxaU_xuks5raBCYgaJpZM4L3x7R\n.\n\n\n-- \nSincerely,\nIz\nYuliana Isma Graha I REC Staff I STMIK RAHARJA - Tangerang I Jl. Jend.\nSudirman No.40 Tangerang | 15117 |\n( +62 21 552 9692 | [image: fax] +62 21 552 9742 | )+62 813 179308 78\n| *  iz@raharja.info\niz@raharja.info I\nRaharja.ac.id http://Raharja.ac.id l iz.ilearning.me\nhttp://iz.ilearning.me\n-- \nPerguruan Tinggi Raharja\nhttp://www.raharja.ac.id http://raharja.ac.id/\n. ",
    "ZoIcHi": "I'm sorry, but I did not understand ...\nNow the images take an absolute path, like this:\n<img src=\"http://www.mysito.com/images/logo.png\">\nfor CID and msgHTML () is correct?\nor so:\n<img src=\"cid:http://www.mysito.com/images/logo.png\">\nOr should I set the path like this:\n<img src=\"<?php echo dirname(__FILE__) . \"images/logo.png\"?>\">\nor so:\n<img src=\"cid:<?php echo dirname(__FILE__) . \"images/logo.png\"?>\">\nThanks again. or so:\n<img src=\"<?php echo $_SERVER['DOCUMENT_ROOT'] . \"/images/logo.png\"?>\"\nand cid, is made automatically?. OK thanks!!!\nI understand and now works everything and the CID, it is automatically added to images.\n... But let's step back\nI send, with STMP and valid DKIM signature, and as you understand, with msgHTML ().\nSo the CID is needed? what is it exactly?\nI knew, that was used to download images automatically. Right?\nIf you use the absolute path for images, what changes?\nAdditional points for the reputation of the email?\nThanks again for the Possible \"lesson\" :). Thanks a lot for the explanation!!!. ",
    "lois-dowell": "Hello\nHow can i use AddEmbeddedImage() with image usemap attribute ?\nbecause using of usemap mail not send and if i remove usemap attribute mail is send properly but i have to set multiple link to that image.\nhere is my code,\n\n\n\n. Thanks for the help.. ",
    "edgardomilan22": "I spoke with a tech support from godaddy and they did not help me with the problem. I spoke with a tech support from godaddy and they did not help me with the problem. Which you recommend not to have problems with relay. Which you recommend not to have problems with relay. ",
    "vignesh-subash": "@edgardomilan22\nadd these lines in your connect.php file and this will work.\n $mail->SMTPAutoTLS = false;\n$mail->SMTPSecure = false;. ",
    "deanhtid": "I'm using an AWS server running ubuntu with the latest version of PHPMailer. The smtp server i am using is an office365 outlook account.. I'm using an AWS server running ubuntu with the latest version of PHPMailer. The smtp server i am using is an office365 outlook account.. Yes I am using \n$smtp_server = \"smtp.office365.com\";\nnot sure why it shows differently on the log\nSorry, should have said. . That's what I thought but I can log in no problem with the same details on the office365 portal. It's a weird one.\nDriving me crazy as it was working before Christmas. Hi Synchro, \nNo, I don't mind at all. I'll get that changed now.\nI'll check with work first if no solution is found I will speak to MS. Thanks for the advice.\nKind Regards\nDean. ",
    "Matkill": "Ok solved in removing $mail->isSMTP();\ndon't know why but now it works.. ",
    "phet11234": "o? It would only display that error when the address is invalid. You do\nunderstand how exceptions work?\n\u0e40\u0e21\u0e37\u0e48\u0e2d 20 \u0e01.\u0e1e. 2017 12:33 \u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07 \"Marcus Bointon\" \nnotifications@github.com \u0e40\u0e02\u0e35\u0e22\u0e19\u0e27\u0e48\u0e32\n\nNo? It would only display that error when the address is invalid. You do\nunderstand how exceptions work?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/994#issuecomment-280934216,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYK5PMZBpd178lKv189a2HGFGE2LusaVks5reH0EgaJpZM4L-Ahr\n.\n. Hehe. \n",
    "GooGoVu": "None of the above options work.  If I don't use gethostbyname(), I get this error\nConnection: opening to smtp.outlook.com:587, timeout=300, options=array ()\nConnection: Failed to connect to server. Error number 2. \"Error notice: stream_socket_client(): php_network_getaddresses: getaddrinfo failed: Name or service not known\nConnection: Failed to connect to server. Error number 2. \"Error notice: stream_socket_client(): unable to connect to smtp.outlook.com:587 (php_network_getaddresses: getaddrinfo failed: Name or service not known)\nSMTP ERROR: Failed to connect to server: php_network_getaddresses: getaddrinfo failed: Name or service not known (0)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nFatal error: Uncaught phpmailerException: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting in /var/www/vhosts/localhost.localdomain/omodelstalent.com/pm/class.phpmailer.php:1541 Stack trace: #0 /var/www/vhosts/localhost.localdomain/omodelstalent.com/pm/class.phpmailer.php(1335): PHPMailer->smtpSend('Date: Tue, 28 F...', 'This is a multi...') #1 /var/www/vhosts/localhost.localdomain/omodelstalent.com/pm/class.phpmailer.php(1213): PHPMailer->postSend() #2 /var/www/vhosts/localhost.localdomain/omodelstalent.com/submit-upload2.php(99): PHPMailer->send() #3 {main} thrown in /var/www/vhosts/localhost.localdomain/omodelstalent.com/pm/class.phpmailer.php on line 1541\nWhen I switch to Amazon SMTP it works perfect. Did Microsoft make changes?\n. ",
    "kapilsurolia": "I am not able to connect with $mail->Host = 'smtp.outlook.com';\nShowing error. Please share how can i fix this error with PHPMailer class. . ",
    "AndroidDesigner": "how can I send an email by MTA in php code?. ",
    "r0073rr0r": "Provide some more info, like your code, debug logs, phpinfo or something like this. Cause, this error can be anything. :). Try putting:\nheader('Content-Type: text/html; charset=utf-8'); at first line of code (page).\nAlso if you content get from MySQL datadabase,\nyou need to define after connection:\n$conn->query(\"set names 'utf8'\");\n    $conn->set_charset(\"utf8\");. Headers allways goes at first lines of code in index.php\nBut i thinks if you grab from MySQL you need to define names and charset.. Try:\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\">\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n  <title>New message from \u00c9lodie B\u00e9rang\u00e8re</title>\n  <!--[if !mso]><!-- -->\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <!--<![endif]-->\nAccording to W3 tags should be:\nMeta charset\nTitle\nMeta name=\"descripition\"\nMeta name=\"keywords\"\nStylesheet\nJavaScript Files\nMaybe HTML4 have problems, try changing to HTML5 instead.\nI dont know what can else be a problem.. Please include Debug logs, not just code.. One more thing, please do real_escape_string and htmlspecialchars($_POST['fname'], ENT_QUOTES, 'UTF-8')\non $_POST['fname'] and $_POST['lname'], and never send POST and GET request without validating and preparing cause you are at big problem ;)\nGood refer for doing right job is: https://www.owasp.org/index.php/PHP_Security_Cheat_Sheet. One more thing, please do real_escape_string and htmlspecialchars($_POST['fname'], ENT_QUOTES, 'UTF-8')\non $_POST['fname'] and $_POST['lname'], and never send POST and GET request without validating and preparing cause you are at big problem ;)\nGood refer for doing right job is: https://www.owasp.org/index.php/PHP_Security_Cheat_Sheet. Np ;). Np ;). Read docs @ https://www.zoho.com/mail/help/zoho-smtp.html\n\nUnable to connect to Outgoing Server/ SMTP Server\nSometimes, the email clients connect to the default port 25 when connecting to the SMTP server. In case of Zoho Mail, you need to connect to smtp.zoho.com in SSL or TLS ports i.e 465 or 587 respectively. Ex: In Outlook, you need to check the 'Advanced Server Settings' section. \nIf the port details are correct and there are still issues in connecting to the server, you need to get the traceroute details for smtp.zoho.com server and share it to support (at) zohomail (dot) com with the details of your account, your email client, screenshots of the configuration, etc.. if(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n//put error in WS error.log\n    error_log('Mailer Error: ' . $mail->ErrorInfo);\n} else {\n    echo 'Message has been sent';\n    error_log('Message has been sent to '.$someVarThatDetermineRecipientAddr,'somefilewhereto.log');\n}. Try change XMailer header with:\n$mail->XMailer = 'MyMailer';\nMaybe this will help \ud83d\ude08 . Did you setup SPF, DKIM and DMARC ?\nCan you give some debug logs?. Can you please post and Debug logs for us to investigate where is problem?. But for debug errors you can print them $mail->ErrorInfo or save all Debug logs (you need to enable debug first) and parse only what you need from that.. \n",
    "Xake": "I'm trying to figure out where the debug infoprmation from when running from cacti lands..... Do you have a little cli-debug-version I can try with?. Was able to reproduce by creating a little cli version based on smtp.phps and setting the timeout to 5s like in the cacti code.\nIs phpmailer supposed to act like this if timeout is set to a too short time?. I tried it, it works fine as long as I do not set a to short timeout.\nTimeout not set:\npehj01@gbg1-noc1:/var/www/cacti/include/phpmailer$ php test.phps\nNo log handling enabled - turning on stderr logging\n SERVER -> CLIENT: 220 *****************************************************************************\nCLIENT -> SERVER: EHLO gbg1-noc1\nSERVER -> CLIENT: 250-withheld Hello gbg1-noc1 [192.168.5.23]250-SIZE 52428800250-8BITMIME250-PIPELINING250 XXXA\nCLIENT -> SERVER: MAIL FROM:&lt;withheld@withheld>\nSERVER -> CLIENT: 250 OK\nCLIENT -> SERVER: RCPT TO:&lt;withheld@withheld>\nSERVER -> CLIENT: 250 Accepted\nCLIENT -> SERVER: DATA\nSERVER -> CLIENT: 354 Enter message, ending with &quot;.&quot; on a line by itself\nCLIENT -> SERVER: Date: Fri, 10 Mar 2017 16:48:30 +0100\nCLIENT -> SERVER: To: John Doe &lt;withheld@withheld>\nCLIENT -> SERVER: From: First Last &lt;withheld@withheld>\nCLIENT -> SERVER: Subject: PHPMailer SMTP test\nCLIENT -> SERVER: Message-ID: &lt;5c019f0dcf19dcef2aaa24fa7131245d@gbg1-noc1>\nCLIENT -> SERVER: X-Mailer: PHPMailer 5.2.22 (https://github.com/PHPMailer/PHPMailer)\nCLIENT -> SERVER: MIME-Version: 1.0\nCLIENT -> SERVER: Content-Type: multipart/alternative;\nCLIENT -> SERVER:    boundary=&quot;b1_5c019f0dcf19dcef2aaa24fa7131245d&quot;\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER: \nCLIENT -> SERVER: This is a multi-part message in MIME format.\nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_5c019f0dcf19dcef2aaa24fa7131245d\nCLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\nCLIENT -> SERVER: \nCLIENT -> SERVER: This is a plain-text message body\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_5c019f0dcf19dcef2aaa24fa7131245d\nCLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\nCLIENT -> SERVER: \nCLIENT -> SERVER: This is a plain-text message body\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_5c019f0dcf19dcef2aaa24fa7131245d--\nCLIENT -> SERVER: \nCLIENT -> SERVER: .\nSERVER -> CLIENT: 250 OK id=1cmMmR-0006np-MA\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 withheld closing connection\nWith timeout of 5 s:\npehj01@gbg1-noc1:/var/www/cacti/include/phpmailer$ php test.phps\nNo log handling enabled - turning on stderr logging\n SERVER -> CLIENT: \nCLIENT -> SERVER: EHLO gbg1-noc1\nSERVER -> CLIENT: 554 SMTP synchronization error\nSMTP ERROR: EHLO command failed: 554 SMTP synchronization error\nCLIENT -> SERVER: HELO gbg1-noc1\nSERVER -> CLIENT: \nSMTP ERROR: HELO command failed: \nSMTP NOTICE: EOF caught while checking if connected\nThe following From address failed: withheld@withheld : Called MAIL FROM without being connected,,,SMTP server error: Called MAIL FROM without being connected\nMailer Error: The following From address failed: withheld@withheld : Called MAIL FROM without being connected,,,SMTP server error: Called MAIL FROM without being connectedSMTP server error: Called MAIL FROM without being connected\ntest.phps:\nphp\n<?php\nrequire './PHPMailerAutoload.php';\n$mail = new PHPMailer;\n$mail->Timeout = 5;\n$mail->isSMTP();\n$mail->SMTPDebug = 2;\n$mail->Debugoutput = 'html';\n$mail->Host = \"83.255.238.66\";\n$mail->Port = 25;\n$mail->SMTPAuth = false;\n$mail->setFrom('cacti@itux.se', 'First Last');\n$mail->addAddress('support@itux.se', 'John Doe');\n$mail->Subject = 'PHPMailer SMTP test';\n$mail->Body = 'This is a plain-text message body';\n$mail->AltBody = 'This is a plain-text message body';\nif (!$mail->send()) {\n    echo \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n    echo \"Message sent!\";\n}. Then how come  it works with a longer timout, and no empty \"response\" is to\nbe seen?\npehj01@gbg1-noc1:/var/www/cacti/include/phpmailer$ php test.phps\nNo log handling enabled - turning on stderr logging\nConnection: opening to withheld:25, timeout=300, options=array ()\nConnection: opened\nSMTP -> get_lines(): $data is \"\"\nSMTP -> get_lines(): $str is  \"220\n*****************************************************************************\"\nSERVER -> CLIENT: 220\n*****************************************************************************\nCLIENT -> SERVER: EHLO gbg1-noc1\nSMTP -> get_lines(): $data is \"\". Is it the \"SMTP -> get_lines(): $data is \"\"\" that is the empty repons?. ",
    "GNHenkin": "Were you ever able to avoid server redirection, if so how.  I have the same problem.. Were you ever able to avoid server redirection, if so how.  I have the same problem.. ",
    "yu0307": "Thank you for your response, so if I have server Cert installed for SMTP service, Do i need to do anything at the client side to have it acknowledge the cert?. ",
    "umesh-naik": "Thanks for your quick reply @Synchro . addAddress() return values are strings that I get from mysql db. And I was checking multiple options and some has written isSendmail() to instantiate.. @Synchro I have cross checked the email address. Even though it wasn't working.. @Synchro I have tried using SMTP too but no use. And this is the code:\n```php\n        $mail = new PHPMailer;\n$mail->IsSMTP();\n$mail->SMTPDebug = 1;\n$mail->SMTPAuth = true;\n$mail->SMTPSecure = 'ssl';\n$mail->Host = \"smtp.gmail.com\";\n$mail->Port = 465; // or 587\n$mail->IsHTML(true);\n$mail->Username = \"mygmailid\";\n$mail->Password = \"mygmailpwd\";\n\n$mail->setFrom('support@some.com', 'support');\n$mail->addAddress('validEmail', 'Uma');\n$mail->addReplyTo('validEmail', 'Support');\n$mail->isHTML(true);\n\n$mail->Subject = 'Subject';\n$mail->Body = 'Body';\n$mail->AltBody = 'Dear Uma, Thank you for your interest.';\n\n\nif(!$mail->send()) {\n    echo \"Opps! For some technical reasons we couldn't able to sent you an email. We will shortly get back to you with download details.\";  \n    echo \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n    echo \"Message has been sent\";\n}\n\n```\nHas changed port too and SMTPSecure to tls too. Even that didn't work. The same (code pasted first) was working till 12th of this month.\n. ",
    "bahmanian": "Hello everyone\nHow to send an email via PHPMailer but instead of send as rendered html, user get a email with content of $message as a HTML file?. Thanks for the answer. I found a solution to fix my problem.. ",
    "blaaat": "Same issue probably exists with POP3 connections. . @Synchro Yes; haven't had a chance to really test it with the SSL errors. but appears to work perfect. Thanks! \ud83d\udc4d . I'm not really sure what's correct according to the RFC (which describes that folding should only happen before WSP). \nBut in the example given: \n\nFor example, the header field:\nSubject: This is a test\ncan be represented as:\nSubject: This\n   [space]is a test\n\n\nNo additional space is introduced (there is no space after This).\nI tested with both Apple mail (which displays the additional spaces in subject) as the mailparse libraries (which also outputs the spaces).\nWhen folding without introducing additional spaces (just CRLF) output is as expected in both clients.\nAlso when using Apple Mail or the Gmail web client to send a long header, folding occurs without additional spaces. \nSince it's not absolutely clear that spaces should be introduced while folding, I would propose to match the interpretation of other clients/senders.. Complex! To give the counter example; List-Unsubscribe headers may contain long URLs which should not contain spaces in the middle of the url after unfolding.\nI noticed Apple Mail even adds a new iine directly after the : (and the header name/value separator space is on the next line) \n\nSubject:\n[space here]AaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaaAaaaaaaaaaaaaaaaaa\n\nI don't know what's the correct solution here either. \n . ",
    "mparini2107": "I have the same issue, but it's not always.\nWarning: fwrite(): SSL: Connection reset by peer in /home/betadb/public_html/gss/phpm/class.smtp.php on line 992\nWarning: fwrite(): SSL operation failed with code 1. OpenSSL Error messages: error:1409F07F:SSL routines:SSL3_WRITE_PENDING:bad write retry in /home/betadb/public_html/gss/phpm/class.smtp.php on line 992\n. I have the same issue, but it's not always.\nWarning: fwrite(): SSL: Connection reset by peer in /home/betadb/public_html/gss/phpm/class.smtp.php on line 992\nWarning: fwrite(): SSL operation failed with code 1. OpenSSL Error messages: error:1409F07F:SSL routines:SSL3_WRITE_PENDING:bad write retry in /home/betadb/public_html/gss/phpm/class.smtp.php on line 992\n. ",
    "lewa": "@Synchro any chance the same set_error_handler() fix could be applied to PHPMailer 5.2?. @Synchro since I'm not switching to 6.0 yet, you've got PR.. ",
    "9redhat": "It's a SSL related problem. We try with another smtp provider and it works. Probably it's something with the certificate. Sorry for some inconvenient.. ",
    "The4Syndicate": "Yeah.. My markdown skills aren't the best. Trying to fix it.. The code has been reformatted. Also, when I go to send the message, I use the following. Also, attached is a copy paste from outlook.\nmessage.txt\nPHP\n$this->mailer->setFrom(\"support@mydomain.com\", \"Support\");\n$this->mailer->addAddress(\"destination@theirdomain.com\", \"John Doe\");\n$this->mailer->MsgHTML(\"<strong>This is an example</strong>\");\n$this->mailer->send();. Attached is the output from getSentMIMEMessage();\nmessage2.txt\n. It's a bit strange to me, I've used older versions of PHPMailer in the past and never had this issue... Matter of fact this is the same exact class I built for an older version.. ",
    "letsbyteit": "\nThat's strange. The BCC header should only be there if you're not sending with SMTP - you can see the check here. The isSMTP() method sets Mailer to smtp (note that it doesn't take a parameter), so it should never get past that check.\n\n@Synchro Can you explain why BCC is ignored when using SMTP-Mailing with PHPMailer? I'm not very familiar with mailing in general. I just debugged an issue where our BCC are ignored and the cause of this is the mentioned check. But why would that be? The BCC recipient does not get the mail, so I'm a bit confused what the underlying cause for the check is. . @Synchro I'm using the SMTP-Plugin for Drupal with Drupal 8, which uses PHPMailer 5.1 as a dependency. So, I can't really provide example-code, as the construct around PHPMailer is very complex. \nThe check looks like this in V5.1:\n// sendmail and mail() extract Bcc from the header before sending\n    if ((($this->Mailer == 'sendmail') || ($this->Mailer == 'mail')) && (count($this->bcc) > 0)) {\n      $result .= $this->AddrAppend('Bcc', $this->bcc);\n    }\nIn my case, the BCC does not get appended, due to the reason that ($this->Mailer == 'mail')) evaluates to false, as I am using isSMTP() and thus, $this->Mailer is smtp.\nI'm just wondering about the reason, why smtp is not allowed to append the BCC address.\nThis might not be the correct place to discuss my issue, but you seem to understand why the check does not allow SMTP-Mailer to use BCC. There might be a valid design reason or similar that I am not aware of. I'm just looking for the reason why this check is performed at all. \nHowever, I attached (censored) screenshots of debug-data from within the CreateHeader() method.\n\n . This makes perfectly sense, thank you for this information. So, in my case, I will not get the instance of PHPMailer, I guess, due to the abstraction of Drupal and the Modules. What is the correct way of adding the BCC when using SMTP-Mode? I've seen people using the addCustomHeader() method for this as well? Do you have a hint?\nThank you for your help. \ud83d\udc4d\ud83c\udffb. ",
    "MXStayeR": "Thank's a lot, you was right. Server don't sends any bare codes. It simply sends status codes in 3 digits without any comments. . ",
    "mkortink": "Synchro was right, i did read the Troubleshooting but didn't recognise the problem was described there. The solution is at \nhttps://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting#php-56-certificate-verification-failure\nand involves adding \n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\nMy website is hosted by hostpapa. \nRegards\n. ",
    "krystyna93": "@Synchro I am having the same issue. \nThe troubleshooting guide does not really help me, being a novice at php. How do I check my certificate on a windows 10 PC terminal as the given sample: \nphp -i | grep cafile\nopenssl.cafile => /etc/ssl/cacert.pem => /etc/ssl/cacert.pem\nthe above snippet does not work in my terminal, and how do I even replace the certificate on my mail server???\nPlease be more specific, or give steps as to go about it...\nThanks.. @Synchro I am having the same issue. \nThe troubleshooting guide does not really help me, being a novice at php. How do I check my certificate on a windows 10 PC terminal as the given sample: \nphp -i | grep cafile\nopenssl.cafile => /etc/ssl/cacert.pem => /etc/ssl/cacert.pem\nthe above snippet does not work in my terminal, and how do I even replace the certificate on my mail server???\nPlease be more specific, or give steps as to go about it...\nThanks.. @Synchro Ok. \nThis seems much more understandable.\nI have windows 10 OS, so it should have an up-to-date CA certificate, yes? \nI will test your directions out on my localhost. \nHowever, what happens when I migrate this file to a hosted domain? Will have the same issue?\nBy the way, when you refer to the mail server docs, do you mean in my instance, gmail?\nThanks.. @Synchro Ok. \nThis seems much more understandable.\nI have windows 10 OS, so it should have an up-to-date CA certificate, yes? \nI will test your directions out on my localhost. \nHowever, what happens when I migrate this file to a hosted domain? Will have the same issue?\nBy the way, when you refer to the mail server docs, do you mean in my instance, gmail?\nThanks.. @Synchro Wow, I checked my phpinfo file and it seems there is no set value, its empty! \nDirective | Local Value | Master Value\n-- | -- | --\nopenssl.cafile | no value | no value\nopenssl.capath | no value | no value\nIs this abnormal??\n. @Synchro Wow, I checked my phpinfo file and it seems there is no set value, its empty! \nDirective | Local Value | Master Value\n-- | -- | --\nopenssl.cafile | no value | no value\nopenssl.capath | no value | no value\nIs this abnormal??\n. @Synchro Oh right, okay. \nWell, thank you for your help.. @Synchro Oh right, okay. \nWell, thank you for your help.. Ah, well thank you for clarifying that up, that makes it much more clear. Ah, well thank you for clarifying that up, that makes it much more clear. @Synchro I am having the exact issue, and the troubleshooting page doesnt help me to rectify. Its too difficult to understand.\n. @Synchro I am having the exact issue, and the troubleshooting page doesnt help me to rectify. Its too difficult to understand.\n. @arnabmunshi did you work out what the issue was?\nThanks.. @arnabmunshi did you work out what the issue was?\nThanks.. ",
    "husseinsheikh": "in which file do we need to write this code? \n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);. I am getting this error \net_enable_crypto(): SSL operation failed with code 1.\nOpenSSL Error messages: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed\nHosting company got no clue how to fix this.\nIs there any DNS entry needs to be done to fix this as well?. My certificate location on cPanel is ssl/certs but I can't find the codes where you mentioned below\nphp -i | grep cafile\nopenssl.cafile => /etc/ssl/cacert.pem => /etc/ssl/cacert.pem\nin which file is this?. I am not using the SMTP method but still getting this error message as below\n[10-Mar-2018 19:23:35 UTC] PHP Warning:  stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages:\nerror:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed in /home/username/public_html/domainname/wp-includes/class-smtp.php on line 369. Where do I run this command from I am on a cpanel hosting? Any idea in which file the SMTP details would be as I don't seem to find any file with username or password contained in it considering it was working previously and not on the new hosting?. I managed to view the openssl config details using below php code - any idea how to update the value on it?\n<?php\n// Show all information, defaults to INFO_ALL\nphpinfo();\n?>\nopenssl.cafile   = no value\nopenssl.capath = no value\nAny way to update it via SSH access command line? . It looks like my codes already has what you suggested but still getting the same error \nif ($controls->data['ssl_insecure'] == 1) {\n                $mail->SMTPOptions = array(\n                    'ssl' => array(\n                        'verify_peer' => false,\n                        'verify_peer_name' => false,\n                        'allow_self_signed' => true\n                    )\n                );\n        }. @Synchro I have noticed that it might be due to the path for the ca-bundle.crt file located on the server which is not verifying? located under public_html/wp-includes/certificates/ca-bundle.crt. I am getting the error twice so i think it is failing at two different lines\n[12-Mar-2018 17:49:25 UTC] PHP Warning:  stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages:\nerror:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed in /home/public_html/wp-includes/class-smtp.php on line 369\n[12-Mar-2018 17:49:31 UTC] PHP Warning:  stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages:\nerror:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed in /home/public_html/wp-includes/class-smtp.php on line 369. @Synchro I have switched to public $Mailer = 'mail'; and not getting any error message but the PHPMailer is not working as well as I am not getting any email through. I tried your solution as well but still can't make it work, can you FTP and look in to this for me? \n. @Synchro it is a GoDaddy shared hosting account who got no clue and wouldn't help on this, I have configured the smtp with the username and password and the host ip address now, it doesn't give any error message but still no message going through. Any ways thanks for reply back on this. . @Synchro I have followed your documentation as mentioned earlier and get no errors - but I don't get any email as well from the form so not sure what's happening.. ",
    "narutojone1218": "Hi @Synchro , Thanks for your help.\nBut It doesn't work in php version 7. Do you know how to use PHP mailer in PHP 7?. ",
    "webmasterHPCR": "i have checked my code and the block where i send this email works perfectly with other emails which means that i have no problem with my code (and in this block i don't use any loop or recursive function), my app was using phpmailer 5.2.9, i have read that this version has some security updates but i don't know if my problem happens before with some version equal or different of this one i'm using.\nPlease tell me what kind of information you need and i will try te sent it to you.\nmany thanks for reply.. i have checked my code and the block where i send this email works perfectly with other emails which means that i have no problem with my code (and in this block i don't use any loop or recursive function), my app was using phpmailer 5.2.9, i have read that this version has some security updates but i don't know if my problem happens before with some version equal or different of this one i'm using.\nPlease tell me what kind of information you need and i will try te sent it to you.\nmany thanks for reply.. ",
    "luismiguelroliveira": "I enabled de SSL verification and now can't connect to smtp host.\nAnd yes I set that it matches. How Can I connect without starttls command? . Connection: opening to webmail.av.it.pt:25, timeout=300, options=array ()\nConnection: opened\nSERVER -> CLIENT: 220 becas.av.it.pt Microsoft ESMTP MAIL Service ready at Thu, 13 Apr 2017 17:55:24 +0100\nCLIENT -> SERVER: EHLO sigest.av.it.pt\nSERVER -> CLIENT: 250-becas.av.it.pt Hello [192.168.86.40]250-SIZE 37748736250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-X-ANONYMOUSTLS250-AUTH NTLM250-X-EXPS GSSAPI NTLM250-8BITMIME250-BINARYMIME250-CHUNKING250 XRDST\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 SMTP server ready\nConnection failed. Error #2: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages:error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed [C:\\SIGEST\\web_pre\\data\\PHPMailer\\class.smtp.php line 370]\nSMTP Error: Could not connect to SMTP host.\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: \nSMTP ERROR: QUIT command failed: \nConnection: closed\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshootingv. And it happens why? Sorry i'm noob here!. Chaging to becas.av.it.pt doesn't solve it. \n\nConnection: opening to becas.av.it.pt:25, timeout=300, options=array ()\nConnection: opened\nSERVER -> CLIENT: 220 becas.av.it.pt Microsoft ESMTP MAIL Service ready at Fri, 14 Apr 2017 10:53:17 +0100\nCLIENT -> SERVER: EHLO sigest.av.it.pt\nSERVER -> CLIENT: 250-becas.av.it.pt Hello [192.168.86.40]250-SIZE 37748736250-PIPELINING250-DSN250-ENHANCEDSTATUSCODES250-STARTTLS250-X-ANONYMOUSTLS250-AUTH NTLM250-X-EXPS GSSAPI NTLM250-8BITMIME250-BINARYMIME250-CHUNKING250 XRDST\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 2.0.0 SMTP server ready\nConnection failed. Error #2: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages:error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed [C:\\SIGEST\\web_pre\\data\\PHPMailer\\class.smtp.php line 370]\nSMTP Error: Could not connect to SMTP host.\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: \nSMTP ERROR: QUIT command failed: \nConnection: closed. \n",
    "nimbly2go": "The message you received is part of Google's security fabric and was likely generated when you either logged into the Gmail account or when you used the PHPMailer script to send email via Gmail's SMTP servers.. The message you received is part of Google's security fabric and was likely generated when you either logged into the Gmail account or when you used the PHPMailer script to send email via Gmail's SMTP servers.. Are you trying to send mail via SMTP using a username/password?  If so, what service provider and port number are you using?  The wiki at https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting provides some basic recommendations to check.. Are you trying to send mail via SMTP using a username/password?  If so, what service provider and port number are you using?  The wiki at https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting provides some basic recommendations to check.. As an additional note, this is running on PHP 5.3.29, CentOS 7. As an additional note, this is running on PHP 5.3.29, CentOS 7. ",
    "ivan-filho": "I'm using the latest version of PHPMailer. I've tried everything in troubleshooting. I'm using the latest version of PHPMailer. I've tried everything in troubleshooting. Ok. I'm sorry, now it's working, it was a certification problema. Update the code and the:\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\nfix the problem. Thank you.\n. Ok. I'm sorry, now it's working, it was a certification problema. Update the code and the:\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\nfix the problem. Thank you.\n. ",
    "vdanelia": "I am not getting Google Delivery Status Notification (Failure) If user enters invalid email address \nI have configured php mailer with gmail smtp.. for user registration... the registration system itself works perfectly.... when user is registered the phpmailer is sending the activation code to the user then user clicks the link and easily activates the account..\nNow My Question: If user enters invalid email address on registration form i want to be informed by google Delivery Status Notification ..\nWhen I was using PHPMailer - Version: 2.0.0 it did.... \nif user entered invalid mail i was getting the Google Delivery Status Notification message (Saying.. Address not found). ",
    "mjubbs": "Thanks. We have been using PHPMailer to send subscription emails to our customers and it worked seamlessly for over 2 years with the browser page loading almost instantaneously.\nThen suddenly it takes 2.5 minutes to send just 10 emails. Sending about 50 emails is now impossible because the browser never finishes loading.\nDo you know what could cause this to happen? I know it's not really your area, but any pointers would be really appreciated. My hosting provider can't figure it out either.\n. Thanks. We have been using PHPMailer to send subscription emails to our customers and it worked seamlessly for over 2 years with the browser page loading almost instantaneously.\nThen suddenly it takes 2.5 minutes to send just 10 emails. Sending about 50 emails is now impossible because the browser never finishes loading.\nDo you know what could cause this to happen? I know it's not really your area, but any pointers would be really appreciated. My hosting provider can't figure it out either.\n. Thanks Synchro. Thanks Synchro. ",
    "vladstarrk": "i solve it by adding this line of code:\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\nim using ssl 465..\nand its really important to do this on your gmail account. \nbasically turned it on.\n\"Access for less secure apps has been turned on\"\n. i solve it by adding this line of code:\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\nim using ssl 465..\nand its really important to do this on your gmail account. \nbasically turned it on.\n\"Access for less secure apps has been turned on\"\n. ",
    "AndriLaksono": "Assalamualaikkum...\nHi  @vladstarrk , i'm very thanks for your solution. That solve my problem.. Thanks.. Assalamualaikkum...\nHi  @vladstarrk , i'm very thanks for your solution. That solve my problem.. Thanks.. ",
    "akki23396": "SMTP connect() failed ..please help me..\nthis is my code..\n$mail->SMTPDebug = $debug;                                 // Debug Mode\n// Step 2 (Optional) - If you don't receive the email, try to configure the parameters below:\n$mail->IsSMTP();                                         // Set mailer to use SMTP\n//$mail->Host = 'mail.yourserver.com';\n$mail->Host = 'http://localhost/properties/contact.php';                       // Specify main and backup server\n$mail->SMTPAuth = true;                                  // Enable SMTP authentication\n$mail->Username = 'user@example.com';                    // SMTP username\n$mail->Password = 'secret';                              // SMTP password\n$mail->SMTPSecure = 'tls';                               // Enable encryption, 'ssl' also accepted\n$mail->Port = 587;                                         // TCP port to connect to\n$mail->AddAddress($email);                                 // Add another recipient\n//$mail->AddAddress('person2@domain.com', 'Person 2');     // Add a secondary recipient\n//$mail->AddCC('person3@domain.com', 'Person 3');          // Add a \"Cc\" address. \n//$mail->AddBCC('person4@domain.com', 'Person 4');         // Add a \"Bcc\" address. \n$mail->SetFrom($email, $_POST['name']);\n$mail->AddReplyTo($_POST['email'], $_POST['name']);\n$mail->IsHTML(true);                                  // Set email format to HTML\n$mail->CharSet = 'UTF-8';\n$mail->Subject = $subject;\n$mail->Body    = $message;\n$mail->Send();\n$arrResult = array ('response'=>'success');. ",
    "KomaBeyond": "Sorry, it it not sync, it is async async async async. . Sorry, it it not sync, it is async async async async. . OK, thanks. I just want to make sure that whether i can do that. Thanks again~ . OK, thanks. I just want to make sure that whether i can do that. Thanks again~ . OK, thanks for alert. The encoded plain-text id and password i had already mix them up before i send to here. This problem was fixed. Thanks~. ",
    "hke14": "I apologize, I edited it out now as I forgot to the first time.  I used thunderbird to try and send an e-mail from zanyservices@zany.online and I received it after 5 minutes. Is there a way to know if my mail is greylisted.. I apologize, I edited it out now as I forgot to the first time.  I used thunderbird to try and send an e-mail from zanyservices@zany.online and I received it after 5 minutes. Is there a way to know if my mail is greylisted.. Ok I also did that right now, but are the MAIL FROM: and RCPT TO: fields supposed to be empty, and why do you think hke14@mail.aub.edu and zanyservices@zany.online are not found in the debug output. Thanks for the help.. Ok I also did that right now, but are the MAIL FROM: and RCPT TO: fields supposed to be empty, and why do you think hke14@mail.aub.edu and zanyservices@zany.online are not found in the debug output. Thanks for the help.. ooxi, sorry for the incessant questions, but do you think it would work if I perhaps used a gmail and changed the credentials(port, server, etc...) to those of google's? Would it still work if it is hosted on hostgator, but uses a gmail? Thanks in advance.. ooxi, sorry for the incessant questions, but do you think it would work if I perhaps used a gmail and changed the credentials(port, server, etc...) to those of google's? Would it still work if it is hosted on hostgator, but uses a gmail? Thanks in advance.. I have resolved the issue after talking with my hosting service and seeing the logs which confirmed that my messages were being perceived as spam. After resolving that issue, it was still slow to send, so I ended up using a gmail and now the e-mails are being sent very quickly.. I have resolved the issue after talking with my hosting service and seeing the logs which confirmed that my messages were being perceived as spam. After resolving that issue, it was still slow to send, so I ended up using a gmail and now the e-mails are being sent very quickly.. ",
    "Graphap": "That's the right answer which I have never seen! I changed the class name and it works fine as well! Thank you!!!. That's the right answer which I have never seen! I changed the class name and it works fine as well! Thank you!!!. ",
    "maximmasiutin": "I have just spotted a potential problem - but you decide the rest :-) I don't think that removing the SingleTo  is a good idea, since it did exist for ages and many people are using it, so if you remove it, people will have to rewrite the code. Besides that, anyway, they will have to be somehow notified that the property have been removed. Otherwise, they will continue running the old code on the new class and they will anyway need some form of exception or error to be aware that it is no longer supported ;-). I have just spotted a potential problem - but you decide the rest :-) I don't think that removing the SingleTo  is a good idea, since it did exist for ages and many people are using it, so if you remove it, people will have to rewrite the code. Besides that, anyway, they will have to be somehow notified that the property have been removed. Otherwise, they will continue running the old code on the new class and they will anyway need some form of exception or error to be aware that it is no longer supported ;-). ",
    "hakimio": "The thing is, if you are using other google libraries and PHPMailer, you'll have both dependencies: \"league/oauth2-google\" and \"google/auth\" which might not be desirable for a lot of projects.\nAnyway, if the owner of the project disagrees, this issue can be closed.. The thing is, if you are using other google libraries and PHPMailer, you'll have both dependencies: \"league/oauth2-google\" and \"google/auth\" which might not be desirable for a lot of projects.\nAnyway, if the owner of the project disagrees, this issue can be closed.. The guide is for \"google/apiclient\", not \"google/auth\". Also, the guide is pretty terrible.\nAnyway, if you look at the code I posted above, I am using \"google/auth\" in my code.. The guide is for \"google/apiclient\", not \"google/auth\". Also, the guide is pretty terrible.\nAnyway, if you look at the code I posted above, I am using \"google/auth\" in my code.. ",
    "yuf107": "Got same issue here. How did you solved it please? . ",
    "bhartidhiman": "Thanks dear,\nI got the clue and finally problem resolved .. Thanks dear,\nI got the clue and finally problem resolved .. ",
    "schwim0341": "Thanks very much for your help, Synchro.\nEDITED FOR PROGRESS\nI've switched the PHPMailer to use SMTP instead of PHP's mail function and the issue persists. To clarify:\nUsing this code to send an email to json@schwim.net results in an almost instant page load.  Sending an email identical in every way to any of my gmail addresses results in 10-20 second page load time before it actually sends the mail.\nMy code:\n```\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->SMTPDebug = 0;\n$mail->Debugoutput = 'html';\n$mail->Host = \"domain.com\";\n$mail->SMTPSecure = \"ssl\";\n$mail->Port = 465;\n$mail->SMTPAuth = true;\n$mail->Username = \"mail@domain.com\";\n$mail->Password = \"password\";\n$mail->setFrom($site_email, $site_name);\n$mail->addReplyTo($site_email, $site_name);\n$mail->addAddress($mail_address, $mail_address);\n$mail->Subject = $mail_subject;\n$mail->msgHTML($mail_body);\n//Replace the plain text body with one created manually\n//$mail->AltBody = 'This is a plain-text message body';\n//Attach an image file\n//$mail->addAttachment('images/phpmailer_mini.png');\n//send the message, check for errors\nif (!$mail->send()) {\n    echo \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n    echo \"Message sent!\";\n}\n```\nMy Debug output when sending to schwim.dandy@gmail.com:\n```\nSERVER -> CLIENT: 220-mailserver.com ESMTP Exim 4.89 #1 Sat, 20 May 2017 08:56:12 -0400 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\nCLIENT -> SERVER: EHLO domain.com\nSERVER -> CLIENT: 250-mailserver.com Hello domain.com [23.235.195.139]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250 HELP\nCLIENT -> SERVER: AUTH LOGIN\nSERVER -> CLIENT: 334 VXNlcm5hbWU6\nCLIENT -> SERVER: xxx=\nSERVER -> CLIENT: 334 UGFzc3dvcmQ6\nCLIENT -> SERVER: xxx\nSERVER -> CLIENT: 235 Authentication succeeded\nCLIENT -> SERVER: MAIL FROM:support@domain.com\nSERVER -> CLIENT: 250 OK\nCLIENT -> SERVER: RCPT TO:schwim.dandy@gmail.com\nSERVER -> CLIENT: 250 Accepted\nCLIENT -> SERVER: DATA\nSERVER -> CLIENT: 354 Enter message, ending with \".\" on a line by itself\nCLIENT -> SERVER: Date: Sat, 20 May 2017 07:56:12 -0500\nCLIENT -> SERVER: To: \"schwim.dandy@gmail.com\" schwim.dandy@gmail.com\nCLIENT -> SERVER: From: \"domain.com\" support@domain.com\nCLIENT -> SERVER: Reply-To: \"domain.com\" support@domain.com\nCLIENT -> SERVER: Subject: You have a gift certificate at domain.com!\nCLIENT -> SERVER: Message-ID: a0d479a98844490061fc33c5a06f422b@domain.com\nCLIENT -> SERVER: X-Mailer: PHPMailer 5.2.23 (https://github.com/PHPMailer/PHPMailer)\nCLIENT -> SERVER: MIME-Version: 1.0\nCLIENT -> SERVER: Content-Type: multipart/alternative;\nCLIENT -> SERVER: boundary=\"b1_a0d479a98844490061fc33c5a06f422b\"\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER: \nCLIENT -> SERVER: This is a multi-part message in MIME format.\nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_a0d479a98844490061fc33c5a06f422b\nCLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\nCLIENT -> SERVER: \nCLIENT -> SERVER: Hey, you! Guess what?\nCLIENT -> SERVER: \nCLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!\nCLIENT -> SERVER: \nCLIENT -> SERVER: Why did you get one? Well, who can say, really. Maybe it's because you're such a nifty person. Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack. Perhaps it was a mistake. If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.\nCLIENT -> SERVER: \nCLIENT -> SERVER: To spend it, you can do one of two things:\nCLIENT -> SERVER: \nCLIENT -> SERVER: First, and only if you have an account on our site, you can visit your account page and apply it to your account. \nCLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.\nCLIENT -> SERVER: \nCLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart. It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.\nCLIENT -> SERVER: \nCLIENT -> SERVER: YOUR CODE:LVHPNGQFJZ785L3WValue: $1,500.00\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: Yours until the end of time,\nCLIENT -> SERVER: The folks at domain.com!\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_a0d479a98844490061fc33c5a06f422b\nCLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: Hey, you! Guess what?\nCLIENT -> SERVER: \nCLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!\nCLIENT -> SERVER: \nCLIENT -> SERVER: Why did you get one? Well, who can say, really. Maybe it's because you're such a nifty person. Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack. Perhaps it was a mistake. If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.\nCLIENT -> SERVER: \nCLIENT -> SERVER: To spend it, you can do one of two things:\nCLIENT -> SERVER: \nCLIENT -> SERVER: First, and only if you have an account on our site, you can visit your account page and apply it to your account. \nCLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.\nCLIENT -> SERVER: \nCLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart. It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.\nCLIENT -> SERVER: \nCLIENT -> SERVER: YOUR CODE:LVHPNGQFJZ785L3WValue: $1,500.00\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: Yours until the end of time,\nCLIENT -> SERVER: The folks at domain.com!\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_a0d479a98844490061fc33c5a06f422b--\nCLIENT -> SERVER: \nCLIENT -> SERVER: .\n\nThis is where the lag in the page load occurs\nSERVER -> CLIENT: 250 OK id=1dC3vY-0006Nz-O8\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 mailserver.com closing connection\nMessage sent!\n```\nDebug output when sending to another domain:\nSERVER -> CLIENT: 220-mailserver.com ESMTP Exim 4.89 #1 Sat, 20 May 2017 08:59:28 -0400 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\nCLIENT -> SERVER: EHLO domain.com\nSERVER -> CLIENT: 250-mailserver.com Hello domain.com [23.235.195.139]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250 HELP\nCLIENT -> SERVER: AUTH LOGIN\nSERVER -> CLIENT: 334 VXNlcm5hbWU6\nCLIENT -> SERVER: xxx=\nSERVER -> CLIENT: 334 UGFzc3dvcmQ6\nCLIENT -> SERVER: xxx\nSERVER -> CLIENT: 235 Authentication succeeded\nCLIENT -> SERVER: MAIL FROM:<support@domain.com>\nSERVER -> CLIENT: 250 OK\nCLIENT -> SERVER: RCPT TO:<json@schwim.net>\nSERVER -> CLIENT: 250 Accepted\nCLIENT -> SERVER: DATA\nSERVER -> CLIENT: 354 Enter message, ending with \".\" on a line by itself\nCLIENT -> SERVER: Date: Sat, 20 May 2017 07:59:28 -0500\nCLIENT -> SERVER: To: \"json@schwim.net\" <json@schwim.net>\nCLIENT -> SERVER: From: \"domain.com\" <support@domain.com>\nCLIENT -> SERVER: Reply-To: \"domain.com\" <support@domain.com>\nCLIENT -> SERVER: Subject: You have a gift certificate at domain.com!\nCLIENT -> SERVER: Message-ID: <206aee105f0d14effc48e5c20d54966c@domain.com>\nCLIENT -> SERVER: X-Mailer: PHPMailer 5.2.23 (https://github.com/PHPMailer/PHPMailer)\nCLIENT -> SERVER: MIME-Version: 1.0\nCLIENT -> SERVER: Content-Type: multipart/alternative;\nCLIENT -> SERVER: boundary=\"b1_206aee105f0d14effc48e5c20d54966c\"\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER: \nCLIENT -> SERVER: This is a multi-part message in MIME format.\nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_206aee105f0d14effc48e5c20d54966c\nCLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\nCLIENT -> SERVER: \nCLIENT -> SERVER: Hey, you! Guess what?\nCLIENT -> SERVER: \nCLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!\nCLIENT -> SERVER: \nCLIENT -> SERVER: Why did you get one? Well, who can say, really. Maybe it's because you're such a nifty person. Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack. Perhaps it was a mistake. If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.\nCLIENT -> SERVER: \nCLIENT -> SERVER: To spend it, you can do one of two things:\nCLIENT -> SERVER: \nCLIENT -> SERVER: First, and only if you have an account on our site, you can visit your account page and apply it to your account. \nCLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.\nCLIENT -> SERVER: \nCLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart. It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.\nCLIENT -> SERVER: \nCLIENT -> SERVER: YOUR CODE:5T5CT9CNZZGV8W4RValue: $1,500.00\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: Yours until the end of time,\nCLIENT -> SERVER: The folks at domain.com!\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_206aee105f0d14effc48e5c20d54966c\nCLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: <table width='100%' border='0' cellspacing='0' cellpadding='0'>\nCLIENT -> SERVER: <tr>\nCLIENT -> SERVER: <td width='100%' style='text-align:left'>\nCLIENT -> SERVER: <table width='100%' border='0' cellspacing='0' cellpadding='0'>\nCLIENT -> SERVER: <tr>\nCLIENT -> SERVER: <td align='left' width='150' style='vertical-align:top; text-align:left'>\nCLIENT -> SERVER: <img src='https://domain.com/theme/1/images/schwim-logo-email.png' alt='domain&#39;s Super Nifty Logo!' title='domain&#39;s Super Nifty Logo!' />\nCLIENT -> SERVER: </td>\nCLIENT -> SERVER: <td width='100%' style='vertical-align:top; text-align:left'>\nCLIENT -> SERVER: \nCLIENT -> SERVER: </td>\nCLIENT -> SERVER: </tr>\nCLIENT -> SERVER: </table>\nCLIENT -> SERVER: </td>\nCLIENT -> SERVER: </tr>\nCLIENT -> SERVER: </table>\nCLIENT -> SERVER: <br />\nCLIENT -> SERVER: <br />\nCLIENT -> SERVER: \nCLIENT -> SERVER: Hey, you! Guess what?<br />\nCLIENT -> SERVER: <br />\nCLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!<br>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: Why did you get one? Well, who can say, really. Maybe it's because you're such a nifty person. Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack. Perhaps it was a mistake. If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.<br>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: To spend it, you can do one of two things:\nCLIENT -> SERVER: \nCLIENT -> SERVER: First, and only if you have an account on our site, you can visit <a href='https://domain.com?action=my_stuff'>your account page</a> and apply it to your account. \nCLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.<br>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart. It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.<br>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: <div style='text-align:center'><h1><b>YOUR CODE:</b></h1><h2><b>5T5CT9CNZZGV8W4R</b></h2><h3><b>Value: $1,500.00</b></h3>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: \nCLIENT -> SERVER: </div>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: Yours until the end of time,<br />\nCLIENT -> SERVER: The folks at <a href='https://domain.com'>domain.com</a>!<br />\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_206aee105f0d14effc48e5c20d54966c--\nCLIENT -> SERVER: \nCLIENT -> SERVER: .\nSERVER -> CLIENT: 250 OK id=1dC3yi-0006ON-Bp\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 mailserver.com closing connection\nMessage sent!. Thanks very much for your help, Synchro.\nEDITED FOR PROGRESS\nI've switched the PHPMailer to use SMTP instead of PHP's mail function and the issue persists. To clarify:\nUsing this code to send an email to json@schwim.net results in an almost instant page load.  Sending an email identical in every way to any of my gmail addresses results in 10-20 second page load time before it actually sends the mail.\nMy code:\n```\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->SMTPDebug = 0;\n$mail->Debugoutput = 'html';\n$mail->Host = \"domain.com\";\n$mail->SMTPSecure = \"ssl\";\n$mail->Port = 465;\n$mail->SMTPAuth = true;\n$mail->Username = \"mail@domain.com\";\n$mail->Password = \"password\";\n$mail->setFrom($site_email, $site_name);\n$mail->addReplyTo($site_email, $site_name);\n$mail->addAddress($mail_address, $mail_address);\n$mail->Subject = $mail_subject;\n$mail->msgHTML($mail_body);\n//Replace the plain text body with one created manually\n//$mail->AltBody = 'This is a plain-text message body';\n//Attach an image file\n//$mail->addAttachment('images/phpmailer_mini.png');\n//send the message, check for errors\nif (!$mail->send()) {\n    echo \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n    echo \"Message sent!\";\n}\n```\nMy Debug output when sending to schwim.dandy@gmail.com:\n```\nSERVER -> CLIENT: 220-mailserver.com ESMTP Exim 4.89 #1 Sat, 20 May 2017 08:56:12 -0400 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\nCLIENT -> SERVER: EHLO domain.com\nSERVER -> CLIENT: 250-mailserver.com Hello domain.com [23.235.195.139]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250 HELP\nCLIENT -> SERVER: AUTH LOGIN\nSERVER -> CLIENT: 334 VXNlcm5hbWU6\nCLIENT -> SERVER: xxx=\nSERVER -> CLIENT: 334 UGFzc3dvcmQ6\nCLIENT -> SERVER: xxx\nSERVER -> CLIENT: 235 Authentication succeeded\nCLIENT -> SERVER: MAIL FROM:support@domain.com\nSERVER -> CLIENT: 250 OK\nCLIENT -> SERVER: RCPT TO:schwim.dandy@gmail.com\nSERVER -> CLIENT: 250 Accepted\nCLIENT -> SERVER: DATA\nSERVER -> CLIENT: 354 Enter message, ending with \".\" on a line by itself\nCLIENT -> SERVER: Date: Sat, 20 May 2017 07:56:12 -0500\nCLIENT -> SERVER: To: \"schwim.dandy@gmail.com\" schwim.dandy@gmail.com\nCLIENT -> SERVER: From: \"domain.com\" support@domain.com\nCLIENT -> SERVER: Reply-To: \"domain.com\" support@domain.com\nCLIENT -> SERVER: Subject: You have a gift certificate at domain.com!\nCLIENT -> SERVER: Message-ID: a0d479a98844490061fc33c5a06f422b@domain.com\nCLIENT -> SERVER: X-Mailer: PHPMailer 5.2.23 (https://github.com/PHPMailer/PHPMailer)\nCLIENT -> SERVER: MIME-Version: 1.0\nCLIENT -> SERVER: Content-Type: multipart/alternative;\nCLIENT -> SERVER: boundary=\"b1_a0d479a98844490061fc33c5a06f422b\"\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER: \nCLIENT -> SERVER: This is a multi-part message in MIME format.\nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_a0d479a98844490061fc33c5a06f422b\nCLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\nCLIENT -> SERVER: \nCLIENT -> SERVER: Hey, you! Guess what?\nCLIENT -> SERVER: \nCLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!\nCLIENT -> SERVER: \nCLIENT -> SERVER: Why did you get one? Well, who can say, really. Maybe it's because you're such a nifty person. Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack. Perhaps it was a mistake. If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.\nCLIENT -> SERVER: \nCLIENT -> SERVER: To spend it, you can do one of two things:\nCLIENT -> SERVER: \nCLIENT -> SERVER: First, and only if you have an account on our site, you can visit your account page and apply it to your account. \nCLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.\nCLIENT -> SERVER: \nCLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart. It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.\nCLIENT -> SERVER: \nCLIENT -> SERVER: YOUR CODE:LVHPNGQFJZ785L3WValue: $1,500.00\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: Yours until the end of time,\nCLIENT -> SERVER: The folks at domain.com!\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_a0d479a98844490061fc33c5a06f422b\nCLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: Hey, you! Guess what?\nCLIENT -> SERVER: \nCLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!\nCLIENT -> SERVER: \nCLIENT -> SERVER: Why did you get one? Well, who can say, really. Maybe it's because you're such a nifty person. Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack. Perhaps it was a mistake. If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.\nCLIENT -> SERVER: \nCLIENT -> SERVER: To spend it, you can do one of two things:\nCLIENT -> SERVER: \nCLIENT -> SERVER: First, and only if you have an account on our site, you can visit your account page and apply it to your account. \nCLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.\nCLIENT -> SERVER: \nCLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart. It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.\nCLIENT -> SERVER: \nCLIENT -> SERVER: YOUR CODE:LVHPNGQFJZ785L3WValue: $1,500.00\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: Yours until the end of time,\nCLIENT -> SERVER: The folks at domain.com!\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_a0d479a98844490061fc33c5a06f422b--\nCLIENT -> SERVER: \nCLIENT -> SERVER: .\n\nThis is where the lag in the page load occurs\nSERVER -> CLIENT: 250 OK id=1dC3vY-0006Nz-O8\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 mailserver.com closing connection\nMessage sent!\n```\nDebug output when sending to another domain:\nSERVER -> CLIENT: 220-mailserver.com ESMTP Exim 4.89 #1 Sat, 20 May 2017 08:59:28 -0400 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\nCLIENT -> SERVER: EHLO domain.com\nSERVER -> CLIENT: 250-mailserver.com Hello domain.com [23.235.195.139]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250 HELP\nCLIENT -> SERVER: AUTH LOGIN\nSERVER -> CLIENT: 334 VXNlcm5hbWU6\nCLIENT -> SERVER: xxx=\nSERVER -> CLIENT: 334 UGFzc3dvcmQ6\nCLIENT -> SERVER: xxx\nSERVER -> CLIENT: 235 Authentication succeeded\nCLIENT -> SERVER: MAIL FROM:<support@domain.com>\nSERVER -> CLIENT: 250 OK\nCLIENT -> SERVER: RCPT TO:<json@schwim.net>\nSERVER -> CLIENT: 250 Accepted\nCLIENT -> SERVER: DATA\nSERVER -> CLIENT: 354 Enter message, ending with \".\" on a line by itself\nCLIENT -> SERVER: Date: Sat, 20 May 2017 07:59:28 -0500\nCLIENT -> SERVER: To: \"json@schwim.net\" <json@schwim.net>\nCLIENT -> SERVER: From: \"domain.com\" <support@domain.com>\nCLIENT -> SERVER: Reply-To: \"domain.com\" <support@domain.com>\nCLIENT -> SERVER: Subject: You have a gift certificate at domain.com!\nCLIENT -> SERVER: Message-ID: <206aee105f0d14effc48e5c20d54966c@domain.com>\nCLIENT -> SERVER: X-Mailer: PHPMailer 5.2.23 (https://github.com/PHPMailer/PHPMailer)\nCLIENT -> SERVER: MIME-Version: 1.0\nCLIENT -> SERVER: Content-Type: multipart/alternative;\nCLIENT -> SERVER: boundary=\"b1_206aee105f0d14effc48e5c20d54966c\"\nCLIENT -> SERVER: Content-Transfer-Encoding: 8bit\nCLIENT -> SERVER: \nCLIENT -> SERVER: This is a multi-part message in MIME format.\nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_206aee105f0d14effc48e5c20d54966c\nCLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\nCLIENT -> SERVER: \nCLIENT -> SERVER: Hey, you! Guess what?\nCLIENT -> SERVER: \nCLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!\nCLIENT -> SERVER: \nCLIENT -> SERVER: Why did you get one? Well, who can say, really. Maybe it's because you're such a nifty person. Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack. Perhaps it was a mistake. If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.\nCLIENT -> SERVER: \nCLIENT -> SERVER: To spend it, you can do one of two things:\nCLIENT -> SERVER: \nCLIENT -> SERVER: First, and only if you have an account on our site, you can visit your account page and apply it to your account. \nCLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.\nCLIENT -> SERVER: \nCLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart. It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.\nCLIENT -> SERVER: \nCLIENT -> SERVER: YOUR CODE:5T5CT9CNZZGV8W4RValue: $1,500.00\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: Yours until the end of time,\nCLIENT -> SERVER: The folks at domain.com!\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_206aee105f0d14effc48e5c20d54966c\nCLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: <table width='100%' border='0' cellspacing='0' cellpadding='0'>\nCLIENT -> SERVER: <tr>\nCLIENT -> SERVER: <td width='100%' style='text-align:left'>\nCLIENT -> SERVER: <table width='100%' border='0' cellspacing='0' cellpadding='0'>\nCLIENT -> SERVER: <tr>\nCLIENT -> SERVER: <td align='left' width='150' style='vertical-align:top; text-align:left'>\nCLIENT -> SERVER: <img src='https://domain.com/theme/1/images/schwim-logo-email.png' alt='domain&#39;s Super Nifty Logo!' title='domain&#39;s Super Nifty Logo!' />\nCLIENT -> SERVER: </td>\nCLIENT -> SERVER: <td width='100%' style='vertical-align:top; text-align:left'>\nCLIENT -> SERVER: \nCLIENT -> SERVER: </td>\nCLIENT -> SERVER: </tr>\nCLIENT -> SERVER: </table>\nCLIENT -> SERVER: </td>\nCLIENT -> SERVER: </tr>\nCLIENT -> SERVER: </table>\nCLIENT -> SERVER: <br />\nCLIENT -> SERVER: <br />\nCLIENT -> SERVER: \nCLIENT -> SERVER: Hey, you! Guess what?<br />\nCLIENT -> SERVER: <br />\nCLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!<br>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: Why did you get one? Well, who can say, really. Maybe it's because you're such a nifty person. Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack. Perhaps it was a mistake. If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.<br>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: To spend it, you can do one of two things:\nCLIENT -> SERVER: \nCLIENT -> SERVER: First, and only if you have an account on our site, you can visit <a href='https://domain.com?action=my_stuff'>your account page</a> and apply it to your account. \nCLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.<br>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart. It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.<br>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: <div style='text-align:center'><h1><b>YOUR CODE:</b></h1><h2><b>5T5CT9CNZZGV8W4R</b></h2><h3><b>Value: $1,500.00</b></h3>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: \nCLIENT -> SERVER: </div>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: <br>\nCLIENT -> SERVER: Yours until the end of time,<br />\nCLIENT -> SERVER: The folks at <a href='https://domain.com'>domain.com</a>!<br />\nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: \nCLIENT -> SERVER: --b1_206aee105f0d14effc48e5c20d54966c--\nCLIENT -> SERVER: \nCLIENT -> SERVER: .\nSERVER -> CLIENT: 250 OK id=1dC3yi-0006ON-Bp\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 mailserver.com closing connection\nMessage sent!. I didn't intentionally remove anything, I just copied and pasted what generated to the page after changing the debug to 2.  Is there perhaps another setting I need to enable to get it to print the timestamps?. I didn't intentionally remove anything, I just copied and pasted what generated to the page after changing the debug to 2.  Is there perhaps another setting I need to enable to get it to print the timestamps?. That works much better :)  Please just let me know if there's anything else I can provide.\nHere's with a non-gmail address:\n2017-05-20 21:46:47 SERVER -> CLIENT: 220-vps12687.mailserver.com ESMTP Exim 4.89 #1 Sat, 20 May 2017 17:46:47 -0400 \n                                      220-We do not authorize the use of this system to transport unsolicited, \n                                      220 and/or bulk e-mail.\n2017-05-20 21:46:47 CLIENT -> SERVER: EHLO domain.com\n2017-05-20 21:46:47 SERVER -> CLIENT: 250-vps12687.mailserver.com Hello domain.com [23.235.195.139]\n                                      250-SIZE 52428800\n                                      250-8BITMIME\n                                      250-PIPELINING\n                                      250-AUTH PLAIN LOGIN\n                                      250 HELP\n2017-05-20 21:46:47 CLIENT -> SERVER: AUTH LOGIN\n2017-05-20 21:46:47 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-05-20 21:46:47 CLIENT -> SERVER: xxx=\n2017-05-20 21:46:47 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-05-20 21:46:47 CLIENT -> SERVER: xxx\n2017-05-20 21:46:48 SERVER -> CLIENT: 235 Authentication succeeded\n2017-05-20 21:46:48 CLIENT -> SERVER: MAIL FROM:<support@domain.com>\n2017-05-20 21:46:48 SERVER -> CLIENT: 250 OK\n2017-05-20 21:46:48 CLIENT -> SERVER: RCPT TO:<json@schwim.net>\n2017-05-20 21:46:48 SERVER -> CLIENT: 250 Accepted\n2017-05-20 21:46:48 CLIENT -> SERVER: DATA\n2017-05-20 21:46:48 SERVER -> CLIENT: 354 Enter message, ending with \".\" on a line by itself\n2017-05-20 21:46:48 CLIENT -> SERVER: Date: Sat, 20 May 2017 16:46:47 -0500\n2017-05-20 21:46:48 CLIENT -> SERVER: To: \"json@schwim.net\" <json@schwim.net>\n2017-05-20 21:46:48 CLIENT -> SERVER: From: \"domain.com\" <support@domain.com>\n2017-05-20 21:46:48 CLIENT -> SERVER: Reply-To: \"domain.com\" <support@domain.com>\n2017-05-20 21:46:48 CLIENT -> SERVER: Subject: You have a gift certificate at domain.com!\n2017-05-20 21:46:48 CLIENT -> SERVER: Message-ID: <ebc3cb4dc5be98b5b92a74ddd679bfdf@domain.com>\n2017-05-20 21:46:48 CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.23 (https://github.com/PHPMailer/PHPMailer)\n2017-05-20 21:46:48 CLIENT -> SERVER: MIME-Version: 1.0\n2017-05-20 21:46:48 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2017-05-20 21:46:48 CLIENT -> SERVER:   boundary=\"b1_ebc3cb4dc5be98b5b92a74ddd679bfdf\"\n2017-05-20 21:46:48 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: --b1_ebc3cb4dc5be98b5b92a74ddd679bfdf\n2017-05-20 21:46:48 CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: Hey, you! Guess what?\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: Why did you get one?  Well, who can say, really. Maybe it's because you're such a nifty person.  Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack.  Perhaps it was a mistake.  If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: To spend it, you can do one of two things:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: First, and only if you have an account on our site, you can visit your account page and apply it to your account.\n2017-05-20 21:46:48 CLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart.  It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: YOUR CODE:L1XF2KF4STMP6H3LValue: $1,500.00\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: Yours until the end of time,\n2017-05-20 21:46:48 CLIENT -> SERVER: The folks at domain.com!\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: --b1_ebc3cb4dc5be98b5b92a74ddd679bfdf\n2017-05-20 21:46:48 CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: <table width='100%' border='0' cellspacing='0' cellpadding='0'>\n2017-05-20 21:46:48 CLIENT -> SERVER:   <tr>\n2017-05-20 21:46:48 CLIENT -> SERVER:       <td width='100%' style='text-align:left'>\n2017-05-20 21:46:48 CLIENT -> SERVER:       <table width='100%' border='0' cellspacing='0' cellpadding='0'>\n2017-05-20 21:46:48 CLIENT -> SERVER:           <tr>\n2017-05-20 21:46:48 CLIENT -> SERVER:               <td align='left' width='150' style='vertical-align:top; text-align:left'>\n2017-05-20 21:46:48 CLIENT -> SERVER:               <img src='https://domain.com/theme/1/images/schwim-logo-email.png' alt='domain&#39;s Super Nifty Logo!' title='domain&#39;s Super Nifty Logo!' />\n2017-05-20 21:46:48 CLIENT -> SERVER:               </td>\n2017-05-20 21:46:48 CLIENT -> SERVER:               <td width='100%' style='vertical-align:top; text-align:left'>\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:               </td>\n2017-05-20 21:46:48 CLIENT -> SERVER:           </tr>\n2017-05-20 21:46:48 CLIENT -> SERVER:       </table>\n2017-05-20 21:46:48 CLIENT -> SERVER:       </td>\n2017-05-20 21:46:48 CLIENT -> SERVER:   </tr>\n2017-05-20 21:46:48 CLIENT -> SERVER: </table>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br />\n2017-05-20 21:46:48 CLIENT -> SERVER: <br />\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: Hey, you! Guess what?<br />\n2017-05-20 21:46:48 CLIENT -> SERVER: <br />\n2017-05-20 21:46:48 CLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!<br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: Why did you get one?  Well, who can say, really. Maybe it's because you're such a nifty person.  Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack.  Perhaps it was a mistake.  If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.<br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: To spend it, you can do one of two things:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: First, and only if you have an account on our site, you can visit <a href='https://domain.com?action=my_stuff'>your account page</a> and apply it to your account.\n2017-05-20 21:46:48 CLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.<br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart.  It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.<br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <div style='text-align:center'><h1><b>YOUR CODE:</b></h1><h2><b>L1XF2KF4STMP6H3L</b></h2><h3><b>Value: $1,500.00</b></h3>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: </div>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: Yours until the end of time,<br />\n2017-05-20 21:46:48 CLIENT -> SERVER: The folks at <a href='https://domain.com'>domain.com</a>!<br />\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: --b1_ebc3cb4dc5be98b5b92a74ddd679bfdf--\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: .\n2017-05-20 21:46:48 SERVER -> CLIENT: 250 OK id=1dCCD2-0000FK-3F\n2017-05-20 21:46:48 CLIENT -> SERVER: QUIT\n2017-05-20 21:46:48 SERVER -> CLIENT: 221 vps12687.mailserver.com closing connection\nAnd a gmail address:\n2017-05-20 21:49:07 SERVER -> CLIENT: 220-vps12687.mailserver.com ESMTP Exim 4.89 #1 Sat, 20 May 2017 17:49:07 -0400 \n                                      220-We do not authorize the use of this system to transport unsolicited, \n                                      220 and/or bulk e-mail.\n2017-05-20 21:49:07 CLIENT -> SERVER: EHLO domain.com\n2017-05-20 21:49:07 SERVER -> CLIENT: 250-vps12687.mailserver.com Hello domain.com [23.235.195.139]\n                                      250-SIZE 52428800\n                                      250-8BITMIME\n                                      250-PIPELINING\n                                      250-AUTH PLAIN LOGIN\n                                      250 HELP\n2017-05-20 21:49:07 CLIENT -> SERVER: AUTH LOGIN\n2017-05-20 21:49:07 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-05-20 21:49:07 CLIENT -> SERVER: xxx=\n2017-05-20 21:49:07 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-05-20 21:49:07 CLIENT -> SERVER: xxx\n2017-05-20 21:49:07 SERVER -> CLIENT: 235 Authentication succeeded\n2017-05-20 21:49:07 CLIENT -> SERVER: MAIL FROM:<support@domain.com>\n2017-05-20 21:49:07 SERVER -> CLIENT: 250 OK\n2017-05-20 21:49:07 CLIENT -> SERVER: RCPT TO:<schwim.dandy@gmail.com>\n2017-05-20 21:49:07 SERVER -> CLIENT: 250 Accepted\n2017-05-20 21:49:07 CLIENT -> SERVER: DATA\n2017-05-20 21:49:07 SERVER -> CLIENT: 354 Enter message, ending with \".\" on a line by itself\n2017-05-20 21:49:07 CLIENT -> SERVER: Date: Sat, 20 May 2017 16:49:07 -0500\n2017-05-20 21:49:07 CLIENT -> SERVER: To: \"schwim.dandy@gmail.com\" <schwim.dandy@gmail.com>\n2017-05-20 21:49:07 CLIENT -> SERVER: From: \"domain.com\" <support@domain.com>\n2017-05-20 21:49:07 CLIENT -> SERVER: Reply-To: \"domain.com\" <support@domain.com>\n2017-05-20 21:49:07 CLIENT -> SERVER: Subject: You have a gift certificate at domain.com!\n2017-05-20 21:49:07 CLIENT -> SERVER: Message-ID: <619218f2302b1c403e6456e52b3636fb@domain.com>\n2017-05-20 21:49:07 CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.23 (https://github.com/PHPMailer/PHPMailer)\n2017-05-20 21:49:07 CLIENT -> SERVER: MIME-Version: 1.0\n2017-05-20 21:49:07 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2017-05-20 21:49:07 CLIENT -> SERVER:   boundary=\"b1_619218f2302b1c403e6456e52b3636fb\"\n2017-05-20 21:49:07 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: --b1_619218f2302b1c403e6456e52b3636fb\n2017-05-20 21:49:07 CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: Hey, you! Guess what?\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: Why did you get one?  Well, who can say, really. Maybe it's because you're such a nifty person.  Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack.  Perhaps it was a mistake.  If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: To spend it, you can do one of two things:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: First, and only if you have an account on our site, you can visit your account page and apply it to your account.\n2017-05-20 21:49:07 CLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart.  It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: YOUR CODE:ZTLL3HN0WBDP0SJYValue: $1,500.00\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: Yours until the end of time,\n2017-05-20 21:49:07 CLIENT -> SERVER: The folks at domain.com!\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: --b1_619218f2302b1c403e6456e52b3636fb\n2017-05-20 21:49:07 CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: <table width='100%' border='0' cellspacing='0' cellpadding='0'>\n2017-05-20 21:49:07 CLIENT -> SERVER:   <tr>\n2017-05-20 21:49:07 CLIENT -> SERVER:       <td width='100%' style='text-align:left'>\n2017-05-20 21:49:07 CLIENT -> SERVER:       <table width='100%' border='0' cellspacing='0' cellpadding='0'>\n2017-05-20 21:49:07 CLIENT -> SERVER:           <tr>\n2017-05-20 21:49:07 CLIENT -> SERVER:               <td align='left' width='150' style='vertical-align:top; text-align:left'>\n2017-05-20 21:49:07 CLIENT -> SERVER:               <img src='https://domain.com/theme/1/images/schwim-logo-email.png' alt='domain&#39;s Super Nifty Logo!' title='domain&#39;s Super Nifty Logo!' />\n2017-05-20 21:49:07 CLIENT -> SERVER:               </td>\n2017-05-20 21:49:07 CLIENT -> SERVER:               <td width='100%' style='vertical-align:top; text-align:left'>\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:               </td>\n2017-05-20 21:49:07 CLIENT -> SERVER:           </tr>\n2017-05-20 21:49:07 CLIENT -> SERVER:       </table>\n2017-05-20 21:49:07 CLIENT -> SERVER:       </td>\n2017-05-20 21:49:07 CLIENT -> SERVER:   </tr>\n2017-05-20 21:49:07 CLIENT -> SERVER: </table>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br />\n2017-05-20 21:49:07 CLIENT -> SERVER: <br />\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: Hey, you! Guess what?<br />\n2017-05-20 21:49:07 CLIENT -> SERVER: <br />\n2017-05-20 21:49:07 CLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!<br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: Why did you get one?  Well, who can say, really. Maybe it's because you're such a nifty person.  Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack.  Perhaps it was a mistake.  If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.<br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: To spend it, you can do one of two things:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: First, and only if you have an account on our site, you can visit <a href='https://domain.com?action=my_stuff'>your account page</a> and apply it to your account.\n2017-05-20 21:49:07 CLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.<br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart.  It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.<br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <div style='text-align:center'><h1><b>YOUR CODE:</b></h1><h2><b>ZTLL3HN0WBDP0SJY</b></h2><h3><b>Value: $1,500.00</b></h3>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: </div>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: Yours until the end of time,<br />\n2017-05-20 21:49:07 CLIENT -> SERVER: The folks at <a href='https://domain.com'>domain.com</a>!<br />\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: --b1_619218f2302b1c403e6456e52b3636fb--\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: .\n2017-05-20 21:49:22 SERVER -> CLIENT: 250 OK id=1dCCFH-0000GL-9p\n2017-05-20 21:49:22 CLIENT -> SERVER: QUIT\n2017-05-20 21:49:22 SERVER -> CLIENT: 221 vps12687.mailserver.com closing connection. That works much better :)  Please just let me know if there's anything else I can provide.\nHere's with a non-gmail address:\n2017-05-20 21:46:47 SERVER -> CLIENT: 220-vps12687.mailserver.com ESMTP Exim 4.89 #1 Sat, 20 May 2017 17:46:47 -0400 \n                                      220-We do not authorize the use of this system to transport unsolicited, \n                                      220 and/or bulk e-mail.\n2017-05-20 21:46:47 CLIENT -> SERVER: EHLO domain.com\n2017-05-20 21:46:47 SERVER -> CLIENT: 250-vps12687.mailserver.com Hello domain.com [23.235.195.139]\n                                      250-SIZE 52428800\n                                      250-8BITMIME\n                                      250-PIPELINING\n                                      250-AUTH PLAIN LOGIN\n                                      250 HELP\n2017-05-20 21:46:47 CLIENT -> SERVER: AUTH LOGIN\n2017-05-20 21:46:47 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-05-20 21:46:47 CLIENT -> SERVER: xxx=\n2017-05-20 21:46:47 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-05-20 21:46:47 CLIENT -> SERVER: xxx\n2017-05-20 21:46:48 SERVER -> CLIENT: 235 Authentication succeeded\n2017-05-20 21:46:48 CLIENT -> SERVER: MAIL FROM:<support@domain.com>\n2017-05-20 21:46:48 SERVER -> CLIENT: 250 OK\n2017-05-20 21:46:48 CLIENT -> SERVER: RCPT TO:<json@schwim.net>\n2017-05-20 21:46:48 SERVER -> CLIENT: 250 Accepted\n2017-05-20 21:46:48 CLIENT -> SERVER: DATA\n2017-05-20 21:46:48 SERVER -> CLIENT: 354 Enter message, ending with \".\" on a line by itself\n2017-05-20 21:46:48 CLIENT -> SERVER: Date: Sat, 20 May 2017 16:46:47 -0500\n2017-05-20 21:46:48 CLIENT -> SERVER: To: \"json@schwim.net\" <json@schwim.net>\n2017-05-20 21:46:48 CLIENT -> SERVER: From: \"domain.com\" <support@domain.com>\n2017-05-20 21:46:48 CLIENT -> SERVER: Reply-To: \"domain.com\" <support@domain.com>\n2017-05-20 21:46:48 CLIENT -> SERVER: Subject: You have a gift certificate at domain.com!\n2017-05-20 21:46:48 CLIENT -> SERVER: Message-ID: <ebc3cb4dc5be98b5b92a74ddd679bfdf@domain.com>\n2017-05-20 21:46:48 CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.23 (https://github.com/PHPMailer/PHPMailer)\n2017-05-20 21:46:48 CLIENT -> SERVER: MIME-Version: 1.0\n2017-05-20 21:46:48 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2017-05-20 21:46:48 CLIENT -> SERVER:   boundary=\"b1_ebc3cb4dc5be98b5b92a74ddd679bfdf\"\n2017-05-20 21:46:48 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: --b1_ebc3cb4dc5be98b5b92a74ddd679bfdf\n2017-05-20 21:46:48 CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: Hey, you! Guess what?\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: Why did you get one?  Well, who can say, really. Maybe it's because you're such a nifty person.  Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack.  Perhaps it was a mistake.  If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: To spend it, you can do one of two things:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: First, and only if you have an account on our site, you can visit your account page and apply it to your account.\n2017-05-20 21:46:48 CLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart.  It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: YOUR CODE:L1XF2KF4STMP6H3LValue: $1,500.00\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: Yours until the end of time,\n2017-05-20 21:46:48 CLIENT -> SERVER: The folks at domain.com!\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: --b1_ebc3cb4dc5be98b5b92a74ddd679bfdf\n2017-05-20 21:46:48 CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: <table width='100%' border='0' cellspacing='0' cellpadding='0'>\n2017-05-20 21:46:48 CLIENT -> SERVER:   <tr>\n2017-05-20 21:46:48 CLIENT -> SERVER:       <td width='100%' style='text-align:left'>\n2017-05-20 21:46:48 CLIENT -> SERVER:       <table width='100%' border='0' cellspacing='0' cellpadding='0'>\n2017-05-20 21:46:48 CLIENT -> SERVER:           <tr>\n2017-05-20 21:46:48 CLIENT -> SERVER:               <td align='left' width='150' style='vertical-align:top; text-align:left'>\n2017-05-20 21:46:48 CLIENT -> SERVER:               <img src='https://domain.com/theme/1/images/schwim-logo-email.png' alt='domain&#39;s Super Nifty Logo!' title='domain&#39;s Super Nifty Logo!' />\n2017-05-20 21:46:48 CLIENT -> SERVER:               </td>\n2017-05-20 21:46:48 CLIENT -> SERVER:               <td width='100%' style='vertical-align:top; text-align:left'>\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:               </td>\n2017-05-20 21:46:48 CLIENT -> SERVER:           </tr>\n2017-05-20 21:46:48 CLIENT -> SERVER:       </table>\n2017-05-20 21:46:48 CLIENT -> SERVER:       </td>\n2017-05-20 21:46:48 CLIENT -> SERVER:   </tr>\n2017-05-20 21:46:48 CLIENT -> SERVER: </table>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br />\n2017-05-20 21:46:48 CLIENT -> SERVER: <br />\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: Hey, you! Guess what?<br />\n2017-05-20 21:46:48 CLIENT -> SERVER: <br />\n2017-05-20 21:46:48 CLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!<br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: Why did you get one?  Well, who can say, really. Maybe it's because you're such a nifty person.  Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack.  Perhaps it was a mistake.  If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.<br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: To spend it, you can do one of two things:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: First, and only if you have an account on our site, you can visit <a href='https://domain.com?action=my_stuff'>your account page</a> and apply it to your account.\n2017-05-20 21:46:48 CLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.<br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart.  It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.<br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <div style='text-align:center'><h1><b>YOUR CODE:</b></h1><h2><b>L1XF2KF4STMP6H3L</b></h2><h3><b>Value: $1,500.00</b></h3>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: </div>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: <br>\n2017-05-20 21:46:48 CLIENT -> SERVER: Yours until the end of time,<br />\n2017-05-20 21:46:48 CLIENT -> SERVER: The folks at <a href='https://domain.com'>domain.com</a>!<br />\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: --b1_ebc3cb4dc5be98b5b92a74ddd679bfdf--\n2017-05-20 21:46:48 CLIENT -> SERVER:\n2017-05-20 21:46:48 CLIENT -> SERVER: .\n2017-05-20 21:46:48 SERVER -> CLIENT: 250 OK id=1dCCD2-0000FK-3F\n2017-05-20 21:46:48 CLIENT -> SERVER: QUIT\n2017-05-20 21:46:48 SERVER -> CLIENT: 221 vps12687.mailserver.com closing connection\nAnd a gmail address:\n2017-05-20 21:49:07 SERVER -> CLIENT: 220-vps12687.mailserver.com ESMTP Exim 4.89 #1 Sat, 20 May 2017 17:49:07 -0400 \n                                      220-We do not authorize the use of this system to transport unsolicited, \n                                      220 and/or bulk e-mail.\n2017-05-20 21:49:07 CLIENT -> SERVER: EHLO domain.com\n2017-05-20 21:49:07 SERVER -> CLIENT: 250-vps12687.mailserver.com Hello domain.com [23.235.195.139]\n                                      250-SIZE 52428800\n                                      250-8BITMIME\n                                      250-PIPELINING\n                                      250-AUTH PLAIN LOGIN\n                                      250 HELP\n2017-05-20 21:49:07 CLIENT -> SERVER: AUTH LOGIN\n2017-05-20 21:49:07 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-05-20 21:49:07 CLIENT -> SERVER: xxx=\n2017-05-20 21:49:07 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-05-20 21:49:07 CLIENT -> SERVER: xxx\n2017-05-20 21:49:07 SERVER -> CLIENT: 235 Authentication succeeded\n2017-05-20 21:49:07 CLIENT -> SERVER: MAIL FROM:<support@domain.com>\n2017-05-20 21:49:07 SERVER -> CLIENT: 250 OK\n2017-05-20 21:49:07 CLIENT -> SERVER: RCPT TO:<schwim.dandy@gmail.com>\n2017-05-20 21:49:07 SERVER -> CLIENT: 250 Accepted\n2017-05-20 21:49:07 CLIENT -> SERVER: DATA\n2017-05-20 21:49:07 SERVER -> CLIENT: 354 Enter message, ending with \".\" on a line by itself\n2017-05-20 21:49:07 CLIENT -> SERVER: Date: Sat, 20 May 2017 16:49:07 -0500\n2017-05-20 21:49:07 CLIENT -> SERVER: To: \"schwim.dandy@gmail.com\" <schwim.dandy@gmail.com>\n2017-05-20 21:49:07 CLIENT -> SERVER: From: \"domain.com\" <support@domain.com>\n2017-05-20 21:49:07 CLIENT -> SERVER: Reply-To: \"domain.com\" <support@domain.com>\n2017-05-20 21:49:07 CLIENT -> SERVER: Subject: You have a gift certificate at domain.com!\n2017-05-20 21:49:07 CLIENT -> SERVER: Message-ID: <619218f2302b1c403e6456e52b3636fb@domain.com>\n2017-05-20 21:49:07 CLIENT -> SERVER: X-Mailer: PHPMailer 5.2.23 (https://github.com/PHPMailer/PHPMailer)\n2017-05-20 21:49:07 CLIENT -> SERVER: MIME-Version: 1.0\n2017-05-20 21:49:07 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2017-05-20 21:49:07 CLIENT -> SERVER:   boundary=\"b1_619218f2302b1c403e6456e52b3636fb\"\n2017-05-20 21:49:07 CLIENT -> SERVER: Content-Transfer-Encoding: 8bit\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: --b1_619218f2302b1c403e6456e52b3636fb\n2017-05-20 21:49:07 CLIENT -> SERVER: Content-Type: text/plain; charset=us-ascii\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: Hey, you! Guess what?\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: Why did you get one?  Well, who can say, really. Maybe it's because you're such a nifty person.  Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack.  Perhaps it was a mistake.  If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: To spend it, you can do one of two things:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: First, and only if you have an account on our site, you can visit your account page and apply it to your account.\n2017-05-20 21:49:07 CLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart.  It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: YOUR CODE:ZTLL3HN0WBDP0SJYValue: $1,500.00\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: Yours until the end of time,\n2017-05-20 21:49:07 CLIENT -> SERVER: The folks at domain.com!\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: --b1_619218f2302b1c403e6456e52b3636fb\n2017-05-20 21:49:07 CLIENT -> SERVER: Content-Type: text/html; charset=us-ascii\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: <table width='100%' border='0' cellspacing='0' cellpadding='0'>\n2017-05-20 21:49:07 CLIENT -> SERVER:   <tr>\n2017-05-20 21:49:07 CLIENT -> SERVER:       <td width='100%' style='text-align:left'>\n2017-05-20 21:49:07 CLIENT -> SERVER:       <table width='100%' border='0' cellspacing='0' cellpadding='0'>\n2017-05-20 21:49:07 CLIENT -> SERVER:           <tr>\n2017-05-20 21:49:07 CLIENT -> SERVER:               <td align='left' width='150' style='vertical-align:top; text-align:left'>\n2017-05-20 21:49:07 CLIENT -> SERVER:               <img src='https://domain.com/theme/1/images/schwim-logo-email.png' alt='domain&#39;s Super Nifty Logo!' title='domain&#39;s Super Nifty Logo!' />\n2017-05-20 21:49:07 CLIENT -> SERVER:               </td>\n2017-05-20 21:49:07 CLIENT -> SERVER:               <td width='100%' style='vertical-align:top; text-align:left'>\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:               </td>\n2017-05-20 21:49:07 CLIENT -> SERVER:           </tr>\n2017-05-20 21:49:07 CLIENT -> SERVER:       </table>\n2017-05-20 21:49:07 CLIENT -> SERVER:       </td>\n2017-05-20 21:49:07 CLIENT -> SERVER:   </tr>\n2017-05-20 21:49:07 CLIENT -> SERVER: </table>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br />\n2017-05-20 21:49:07 CLIENT -> SERVER: <br />\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: Hey, you! Guess what?<br />\n2017-05-20 21:49:07 CLIENT -> SERVER: <br />\n2017-05-20 21:49:07 CLIENT -> SERVER: You've got a gift certificate waiting for you at the greatest offroad parts and supplies website on the face of the internet!<br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: Why did you get one?  Well, who can say, really. Maybe it's because you're such a nifty person.  Maybe it's because someone's trying to grease the wheels before asking to borrow your floor jack.  Perhaps it was a mistake.  If that's the case, we suggest spending it quickly before they figure out what they've done and ask for it back.<br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: To spend it, you can do one of two things:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: First, and only if you have an account on our site, you can visit <a href='https://domain.com?action=my_stuff'>your account page</a> and apply it to your account.\n2017-05-20 21:49:07 CLIENT -> SERVER: Once you've done that, it will automatically get used when you order anything while logged into your account. It's pretty zoomy stuff.<br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: Your second option is to enter the code below into the little box while viewing your cart.  It will do the hard math and deduct the value of the gift certificate from the total for your cart contents. If you don't use all of the gift certificate, the value will be adjusted to reflect the remaining balance so you can use it the next time.<br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <div style='text-align:center'><h1><b>YOUR CODE:</b></h1><h2><b>ZTLL3HN0WBDP0SJY</b></h2><h3><b>Value: $1,500.00</b></h3>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: </div>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: <br>\n2017-05-20 21:49:07 CLIENT -> SERVER: Yours until the end of time,<br />\n2017-05-20 21:49:07 CLIENT -> SERVER: The folks at <a href='https://domain.com'>domain.com</a>!<br />\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: --b1_619218f2302b1c403e6456e52b3636fb--\n2017-05-20 21:49:07 CLIENT -> SERVER:\n2017-05-20 21:49:07 CLIENT -> SERVER: .\n2017-05-20 21:49:22 SERVER -> CLIENT: 250 OK id=1dCCFH-0000GL-9p\n2017-05-20 21:49:22 CLIENT -> SERVER: QUIT\n2017-05-20 21:49:22 SERVER -> CLIENT: 221 vps12687.mailserver.com closing connection. Thank you so much for your help!  I'll find the relevant stuff in the docs start working on a solution that doesn't integrate the sending of mail with the page generation.\nThank you again!. Thank you so much for your help!  I'll find the relevant stuff in the docs start working on a solution that doesn't integrate the sending of mail with the page generation.\nThank you again!. ",
    "electronyxbazaar": "Kindly show an example\nMy script\nphp\nrequire_once('class.phpmailer.php');\n$mail = new PHPMailer(true); // the true param means it will throw exceptions on errors, which we need to catch\n$mail->IsSMTP(true); // telling the class to use SMTP\n$mail->IsHTML(true);\ntry {\n\\mail->Host = \"ssl://server.com\"; // SMTP server\n$mail->SMTPDebug = 2; // enables SMTP debug information (for testing)\n$mail->SMTPAuth = true; // enable SMTP authentication\n\\mail->Host = \"ssl://server.com\"; // sets the SMTP server\n$mail->Port = 465; // set the SMTP port for the GMAIL server\n\\mail->Username = \"mail@server.com\"; // SMTP account username\n$mail->Password = \"abc@123\"; // SMTP account password\n\\mail->AddReplyTo('mail@apnaprice.com', 'Server');\n$mail->AddAddress(\"$email\", \"$firstname $lastname\");\n\\mail->SetFrom('mail@server.com', 'Server');\n\\mail->AddReplyTo('mail@server.com', 'Server');\n$mail->Subject = 'Get upto 61% OFF on Shoes \ud83d\udc5f';\n$mail->AltBody = 'To view the message, please use an HTML compatible email viewer!'; // optional - MsgHTML will create an alternate automatically\n$mail->Body = \" \";\n$mail->Send();\necho \"Message Sent to $email | Subject\n\\n\";\n} catch (phpmailerException $e) {\necho $e->errorMessage(); //Pretty error messages from PHPMailer\n} catch (Exception $e) {\necho $e->getMessage(); //Boring error messages from anything else!\n}. ",
    "dr00bie": "Thank you Synchro, I was able to workaround with $mail->SMTPAutoTLS = false, for now.\nHowever, I would like to ask a follow up question,\nIf OpenSSL is loaded (<?php echo (extension_loaded('openssl')?'SSL loaded':'SSL not loaded').\"\\n\"; ?> == \"SSL loaded\"), then it points directly to the server's certificate being the culprit?\nI ran openssl s_client -starttls smtp -crlf -connect mail.domain.com:25 and it returned, Verify return code: 21 (unable to verify the first certificate).  I feel like this means that the email server's certificate is the problem, but I am not sure I am reading this correctly.\nThanks for your time and effort on this!. ",
    "JohnZakaria": "if i send an email to address: info@abc.com which is not a real mail \n1- i have mail from example@example.com but i want to get delivery failure into example2@example.com\n2- i want to get a message in browser that mail  info@abc.com did not receive the message because of failure. i am using $mail->setFrom(\"example@example.com\", $display_name);\nhow to make failure mail?\ni did not receive using $mail->Sender = 'example2@example.com';. ",
    "ashikkaiser": "how can i do it http://prntscr.com/fdhe2m . ok . one more thing . just tell me how  can i get  mail time \n\nnot in  from there \n\nif i use    $overview[0]->date    then its get  time from picture2 . but i need to Pic one \nor  if possible to change time format picture 2 is same as picture 1 . its also work for me .\nIts need to add extra text in massage body like this \n\n. can i chnage it from class.phpmiler.php\npublic static function rfcDate()\n    {\n        // Set the time zone to whatever the default is to avoid 500 errors\n        // Will default to UTC if it's not set properly in php.ini\n        date_default_timezone_set(@date_default_timezone_get());\n        return date('D, j M Y H:i:s O');\n. SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting SMTP PROBLEM \nIpv6 have in my mail server . but my script server have no ipv6. i tried . but its use when im sending with attachment . but  there is no attachment but content type multipart/mixed ,, How they do this?\n`MIME-Version: 1.0\nContent-Type: multipart/mixed; boundary=\"----=_Part_38430_1756052976.1518224052466\"\n------=_Part_38430_1756052976.1518224052466\nContent-Type: text/html; charset=utf-8\nContent-Transfer-Encoding: 7bit\n\nHey just saw that you responded to my ad lol who are you ? \nyou got pics?\nOn Fri Feb 09 19:51:56 EST 2018, Avinash <affiliateman123@gmail.com> wrote:reply-01\n\n\n------=_Part_38430_1756052976.1518224052466--`. i tried . but its use when im sending with attachment . but  there is no attachment but content type multipart/mixed ,, How they do this?\n`MIME-Version: 1.0\nContent-Type: multipart/mixed; boundary=\"----=_Part_38430_1756052976.1518224052466\"\n------=_Part_38430_1756052976.1518224052466\nContent-Type: text/html; charset=utf-8\nContent-Transfer-Encoding: 7bit\n\nHey just saw that you responded to my ad lol who are you ? \nyou got pics?\nOn Fri Feb 09 19:51:56 EST 2018, Avinash <affiliateman123@gmail.com> wrote:reply-01\n\n\n------=_Part_38430_1756052976.1518224052466--`. ",
    "yantze": "Smtp also can use port 576 and 587\nI use the port 576, if not add SMTPSecure to ssl, it will run fail, so am i push another example ?. Smtp also can use port 576 and 587\nI use the port 576, if not add SMTPSecure to ssl, it will run fail, so am i push another example ?. Also can indicate port 465 use ssl and port 587 use tls. Also can indicate port 465 use ssl and port 587 use tls. Deprecated but developers must use it, because many(at least my country) mail providers only provide service 465 with ssl\nThis is not changed by developers, and this problem took me a lot of time. may be others also.\nSo i suggest that add another example such as smtp_legacy_netease_sina.phps file.\nIt may be more convenient for developers. . Deprecated but developers must use it, because many(at least my country) mail providers only provide service 465 with ssl\nThis is not changed by developers, and this problem took me a lot of time. may be others also.\nSo i suggest that add another example such as smtp_legacy_netease_sina.phps file.\nIt may be more convenient for developers. . ",
    "mjoycemilburn": "Thanks Synchro. I've been doing quite a bit more work on this and I think I know what's been going on.\nI'm new to this bit of the game and I hadn't appreciated that, in the smtp world, while you may send messages in a particular order you can't expect to see them received in the same order.\nThis only became apparent to me when I started testing despatch of large blocks of mail. I sent a block of 20 with sequence numbers in their title.  Arrival was only vaguely sequential and I got very alarmed by the fact that the second message seemed to have been lost entirely.\nThen fully 15 minutes later it arrived!\nI now think that when I believed I'd lost messages they were in fact just delayed. Their subsequent arrival was then masked by other testing activity. \nWell - it's a theory. \nJust as a follow-up. My ISP seem to have access to my SMTP logs but I'm not sure that I can see them. Am I missing something here?\nRegards, MJ. Thanks Synchro. I've been doing quite a bit more work on this and I think I know what's been going on.\nI'm new to this bit of the game and I hadn't appreciated that, in the smtp world, while you may send messages in a particular order you can't expect to see them received in the same order.\nThis only became apparent to me when I started testing despatch of large blocks of mail. I sent a block of 20 with sequence numbers in their title.  Arrival was only vaguely sequential and I got very alarmed by the fact that the second message seemed to have been lost entirely.\nThen fully 15 minutes later it arrived!\nI now think that when I believed I'd lost messages they were in fact just delayed. Their subsequent arrival was then masked by other testing activity. \nWell - it's a theory. \nJust as a follow-up. My ISP seem to have access to my SMTP logs but I'm not sure that I can see them. Am I missing something here?\nRegards, MJ. Thanks synchro. My ISP has actually been very helpful over this one. At least I know now where to look.\nRegards, MJ. Thanks synchro. My ISP has actually been very helpful over this one. At least I know now where to look.\nRegards, MJ. ",
    "whittardm": "Thanks, but its very strange as the dev box does not have open ssl as a folder. Its got something to do with the cert phpmailer / apache is trying to use. Just cant figure out which cert is the one that its actually using. Tried exporting the cert from exchange back to the prod and restarting apache was of no help.\nExchange is sent exactly same response up until the TLS negotiation then fails.\nCLIENT -> SERVER: STARTTLS\nSMTP -> get_lines(): $data is \"\"\nSMTP -> get_lines(): $str is \"220 2.0.0 SMTP server ready\"\nSERVER -> CLIENT: 220 2.0.0 SMTP server ready\nConnection failed. Error #2: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages:error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed [C:\\Apache24\\htdocs\\selfpwd\\lib\\vendor\\PHPMailer\\class.smtp.php line 369]\nSMTP Error: Could not connect to SMTP host.\nCLIENT -> SERVER: QUIT\n. Thanks, but its very strange as the dev box does not have open ssl as a folder. Its got something to do with the cert phpmailer / apache is trying to use. Just cant figure out which cert is the one that its actually using. Tried exporting the cert from exchange back to the prod and restarting apache was of no help.\nExchange is sent exactly same response up until the TLS negotiation then fails.\nCLIENT -> SERVER: STARTTLS\nSMTP -> get_lines(): $data is \"\"\nSMTP -> get_lines(): $str is \"220 2.0.0 SMTP server ready\"\nSERVER -> CLIENT: 220 2.0.0 SMTP server ready\nConnection failed. Error #2: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages:error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed [C:\\Apache24\\htdocs\\selfpwd\\lib\\vendor\\PHPMailer\\class.smtp.php line 369]\nSMTP Error: Could not connect to SMTP host.\nCLIENT -> SERVER: QUIT\n. on the dev box contrast. just hide the server address to mail.blah.com\n2017-06-05 04:51:26 SMTP -> get_lines(): $str is \"220 2.0.0 SMTP server ready \" \n2017-06-05 04:51:26 SERVER -> CLIENT: 220 2.0.0 SMTP server ready \n2017-06-05 04:51:27 CLIENT -> SERVER: EHLO localhost\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"\" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-mail.blah.com Hello [192.168.2.57] \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-SIZE 10485760 \" \n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-PIPELINING \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-DSN \" 2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN \" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-ENHANCEDSTATUSCODES \" \n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES \" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-AUTH GSSAPI NTLM LOGIN \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-AUTH GSSAPI NTLM LOGIN \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-8BITMIME \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-AUTH GSSAPI NTLM LOGIN 250-8BITMIME \" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-BINARYMIME \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-AUTH GSSAPI NTLM LOGIN 250-8BITMIME 250-BINARYMIME \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250 CHUNKING \" \n2017-06-05 04:51:27 SERVER -> CLIENT: 250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-AUTH GSSAPI NTLM LOGIN 250-8BITMIME 250-BINARYMIME 250 CHUNKING\n2017-06-05 04:51:27 Auth method requested: UNKNOWN \n2017-06-05 04:51:27 Auth methods available on the server: GSSAPI,NTLM,LOGIN \n2017-06-05 04:51:27 Auth method selected: LOGIN 2017-06-05 04:51:27 CLIENT -> SERVER: AUTH LOGIN\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"\" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"334 VXNlcm5hbWU6 \" \n2017-06-05 04:51:27 SERVER -> CLIENT: 334 VXNlcm5hbWU6 \n2017-06-05 04:51:27 CLIENT -> SERVER: ZW5naW5lZXJpbmdcc3ZjX2FkbWluaXN0cmF0b3I= \n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"\" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"334 UGFzc3dvcmQ6 \" \n2017-06-05 04:51:27 SERVER -> CLIENT: 334 UGFzc3dvcmQ6 \n2017-06-05 04:51:27 CLIENT -> SERVER: TWp3MDE4NjA4QA== \n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"\" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"235 2.7.0 Authentication successful \" \n2017-06-05 04:51:27 SERVER -> CLIENT: 235 2.7.0 Authentication successful \n2017-06-05 04:51:27 CLIENT -> SERVER: MAIL FROM: . on the dev box contrast. just hide the server address to mail.blah.com\n2017-06-05 04:51:26 SMTP -> get_lines(): $str is \"220 2.0.0 SMTP server ready \" \n2017-06-05 04:51:26 SERVER -> CLIENT: 220 2.0.0 SMTP server ready \n2017-06-05 04:51:27 CLIENT -> SERVER: EHLO localhost\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"\" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-mail.blah.com Hello [192.168.2.57] \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-SIZE 10485760 \" \n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-PIPELINING \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-DSN \" 2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN \" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-ENHANCEDSTATUSCODES \" \n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES \" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-AUTH GSSAPI NTLM LOGIN \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-AUTH GSSAPI NTLM LOGIN \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-8BITMIME \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-AUTH GSSAPI NTLM LOGIN 250-8BITMIME \" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250-BINARYMIME \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-AUTH GSSAPI NTLM LOGIN 250-8BITMIME 250-BINARYMIME \"\n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"250 CHUNKING \" \n2017-06-05 04:51:27 SERVER -> CLIENT: 250-mail.blah.com Hello [192.168.2.57] 250-SIZE 10485760 250-PIPELINING 250-DSN 250-ENHANCEDSTATUSCODES 250-AUTH GSSAPI NTLM LOGIN 250-8BITMIME 250-BINARYMIME 250 CHUNKING\n2017-06-05 04:51:27 Auth method requested: UNKNOWN \n2017-06-05 04:51:27 Auth methods available on the server: GSSAPI,NTLM,LOGIN \n2017-06-05 04:51:27 Auth method selected: LOGIN 2017-06-05 04:51:27 CLIENT -> SERVER: AUTH LOGIN\n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"\" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"334 VXNlcm5hbWU6 \" \n2017-06-05 04:51:27 SERVER -> CLIENT: 334 VXNlcm5hbWU6 \n2017-06-05 04:51:27 CLIENT -> SERVER: ZW5naW5lZXJpbmdcc3ZjX2FkbWluaXN0cmF0b3I= \n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"\" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"334 UGFzc3dvcmQ6 \" \n2017-06-05 04:51:27 SERVER -> CLIENT: 334 UGFzc3dvcmQ6 \n2017-06-05 04:51:27 CLIENT -> SERVER: TWp3MDE4NjA4QA== \n2017-06-05 04:51:27 SMTP -> get_lines(): $data is \"\" \n2017-06-05 04:51:27 SMTP -> get_lines(): $str is \"235 2.7.0 Authentication successful \" \n2017-06-05 04:51:27 SERVER -> CLIENT: 235 2.7.0 Authentication successful \n2017-06-05 04:51:27 CLIENT -> SERVER: MAIL FROM: . I found the issue was that the issuing CA cert was not imported into the new target server. Under Certificates (Local Computer) ->Trusted Root Certificate Authorities -> Certificates. I simply exported out from the Dev box and into Prod and restarted Apache and retested. All working now thanks!. I found the issue was that the issuing CA cert was not imported into the new target server. Under Certificates (Local Computer) ->Trusted Root Certificate Authorities -> Certificates. I simply exported out from the Dev box and into Prod and restarted Apache and retested. All working now thanks!. ",
    "omer9464": "Wrong entry dns address. My problem is solved. thank you.. Wrong entry dns address. My problem is solved. thank you.. ",
    "muhamedRadwan": "are you have an article on how to fix DNS, Please?. ",
    "blackdevilk9it": "Hello Synchro\nI also suffered the same error.\n2017-06-12 04:47:18 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP t82sm14565916pfe.88 - gsmtp\n2017-06-12 04:47:18 CLIENT -> SERVER: EHLO localhost\n2017-06-12 04:47:18 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [14.162.164.53]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250 SMTPUTF8\n2017-06-12 04:47:18 CLIENT -> SERVER: STARTTLS\n2017-06-12 04:47:18 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\n2017-06-12 04:47:18 CLIENT -> SERVER: EHLO localhost\n2017-06-12 04:47:18 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [14.162.164.53]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH250-ENHANCEDSTATUSCODES250-PIPELINING250 SMTPUTF8\n2017-06-12 04:47:18 CLIENT -> SERVER: AUTH LOGIN\n2017-06-12 04:47:18 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-06-12 04:47:18 CLIENT -> SERVER: bGVva2luZ3ZwODkyQGdtYWlsLmNvbQ==\n2017-06-12 04:47:19 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-06-12 04:47:19 CLIENT -> SERVER: a0R5UmRxRmtHZUtHWHJXOQ==\n2017-06-12 04:47:19 SERVER -> CLIENT: 534-5.7.14 https://accounts.google.com/signin/continue?sarp=1&scc=1&plt=AKgnsbvL534-5.7.14 nKYzjzdnyLVA001rbb6iNpB29HCW9I46fYFPp_6ZsHSimnJgvdBNyQjab2JqN7Y-NyTq1P534-5.7.14 mxwm7GaB61i6JPkyBjtulDM6tJKlqSRZKIUoKLoDeouROwyEI_XlBtpx5dFF8N0CbebWNC534-5.7.14 r56Pqauyxe5hWg4kTZxuSzZH5gFQ01zNKbNlcgKx0HCWYFje-d20ip56e7UpSaBPRcBtq-534-5.7.14 dNQpnVdKbqsJy3NCTkWvtKCVLXMnE Please log in via your web browser and534-5.7.14 then try again.534-5.7.14 Learn more at534 5.7.14 https://support.google.com/mail/answer/78754 t82sm14565916pfe.88 - gsmtp\n2017-06-12 04:47:19 SMTP ERROR: Password command failed: 534-5.7.14 https://accounts.google.com/signin/continue?sarp=1&scc=1&plt=AKgnsbvL534-5.7.14 nKYzjzdnyLVA001rbb6iNpB29HCW9I46fYFPp_6ZsHSimnJgvdBNyQjab2JqN7Y-NyTq1P534-5.7.14 mxwm7GaB61i6JPkyBjtulDM6tJKlqSRZKIUoKLoDeouROwyEI_XlBtpx5dFF8N0CbebWNC534-5.7.14 r56Pqauyxe5hWg4kTZxuSzZH5gFQ01zNKbNlcgKx0HCWYFje-d20ip56e7UpSaBPRcBtq-534-5.7.14 dNQpnVdKbqsJy3NCTkWvtKCVLXMnE Please log in via your web browser and534-5.7.14 then try again.534-5.7.14 Learn more at534 5.7.14 https://support.google.com/mail/answer/78754 t82sm14565916pfe.88 - gsmtp\nSMTP Error: Could not authenticate.\n2017-06-12 04:47:19 CLIENT -> SERVER: QUIT\n2017-06-12 04:47:19 SERVER -> CLIENT: 221 2.0.0 closing connection t82sm14565916pfe.88 - gsmtp\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nYour code:\n$mail_con = array(\n    'smtp_host' => 'smtp.gmail.com',\n    'smtp_port' => 587,\n    'smtp_user' => 'yourmail@gmail.com',\n    'smtp_pass' => 'yourpass'\n);\n\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->SMTPDebug = 2;\n$mail->Debugoutput = 'html';\n$mail->Host = $mail_con['smtp_host'];\n$mail->Port = $mail_con['smtp_port'];\n$mail->SMTPSecure = 'tls';\n$mail->SMTPAuth = true;\n$mail->Username = $mail_con['smtp_user'];\n$mail->Password = $mail_con['smtp_pass'];\n$mail->setFrom($mail_con['smtp_user'], 'First Last');\n$mail->addReplyTo($mail_con['smtp_user'], 'First Last');\n$mail->addAddress($info['mail'], 'John Doe');\n$mail->Subject = $info['subject'];\n$mail->msgHTML($tsd_router->get_mail_url().'content.html', dirname(__FILE__));\n$mail->AltBody = 'This is a plain-text message body';\nif (!$mail->send()) {\n     echo \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n      echo \"Message sent!\";\n}\n\nHow to fix this? Thank you.\n. I will check it again, thank you.. ",
    "JURALOVE": "Thank you Synchro for your answer to blackdevilk and me, it solvented my problem :). ",
    "donriga": "Update to version 6.0 fix that problem.\nTanx. ",
    "manzoorwanijk": "I'm using it as a trigger to process the sent emails in one of my WordPress plugins. The plugin checks the recipients and if it contains one of the given recipients, then an API call is initiated with the email content posted to the API endpoint. Emails are not sent by my plugin, rather they are sent by other plugins or by WordPress itself. So, I needed a hook by which I could monitor the sent email. I could not find anything better than this.. ",
    "nsssim": "I found the problem, it was related to a security feature in WHM/cPanel \n\nRestrict outgoing SMTP to root, exim, and mailman (FKA SMTP Tweak)\n\nLogin to CPanel > Tweak Settings > All> \"Restrict outgoing SMTP to root, exim, and mailman (FKA SMTP Tweak) and switch it from \u201cOn\u201d to \u201cOff\u201d.\nfor my case I used the shell (ssh) to fix this : \n/scripts/smtpmailgidonly off\nand I posted an answer here \nhttps://stackoverflow.com/questions/14297264/password-not-accepted-from-server-535-incorrect-authentication-data-when-send/44564332#44564332. ",
    "darryldecode": "@nsssim thank you for posting your solution.. ",
    "yusufdemir": "@nsssim thanks for solution. . ",
    "nishantbkw": "@nsssim Thanks for the Solution Saved Me Hours! \nCheers :+1: . ",
    "niiapa": "I've done everything, my code follows the example to the and it works fine on localhost too. I read your replies on other threads and cranked it up from 0 to 2 to 4 to see the results but still no go. Let me post the results. Thanks.\nDebug 2 results:\n2017-06-16 15:04:31 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP 201sm2958616wmr.4 - gsmtp\n2017-06-16 15:04:31 CLIENT -> SERVER: EHLO chalkboard.education\n2017-06-16 15:04:31 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [213.251.182.117]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2017-06-16 15:04:31 CLIENT -> SERVER: QUIT\n2017-06-16 15:04:31 SERVER -> CLIENT: 221 2.0.0 closing connection 201sm2958616wmr.4 - gsmtp\nEditing main post to add my code. Thanks again.\nEdit: I have an Error 500 on my get_oauth_token.php page. I'm assuming I need to get a new token for the host site that's different from the localhost refresh token?. Kindly close this issue. It was randomly fixed. I wish I could help someone out there but after several hours of trying to debug, the script just randomly started working at 2am. Thanks for all the help @Synchro . ",
    "kinutkarsh": "I have tried it again with port 465 with SSL, still its giving the same error\nConnection: opening to ssl://smtp.gmail.com:465, timeout=300, options=array ( 'ssl' => array ( 'verify_peer' => false, 'verify_peer_name' => false, 'allow_self_signed' => true, ),)\nConnection: Failed to connect to server. Error number 2. \"Error notice: stream_socket_client(): unable to connect to ssl://smtp.gmail.com:80 (Network is unreachable)\nSMTP ERROR: Failed to connect to server: Network is unreachable (101)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. ",
    "hls380": "Changing tls to ssl and the port number to 465 didn't let me send emails through php mailer. What is the problem? Can you send me a snippet of code that works fine with gmail?. I am using wamp 3.0.6 with PHP 5.6.25 do I need to change the default configuration?. I am using wamp 3.0.6 with PHP 5.6.25 do I need to change the default configuration?. That will be very helpful. Thanks in Advance!!!. That will be very helpful. Thanks in Advance!!!. Hey Synchro, did you find any solutions?. Hey Synchro, did you find any solutions?. I have gone through all of them and none of them worked for my case. . I have gone through all of them and none of them worked for my case. . Here is the error:\n2017-07-05 07:21:11 CLIENT -> SERVER: EHLO localhost\n2017-07-05 07:21:11 CLIENT -> SERVER: STARTTLS\nSMTP Error: Could not connect to SMTP host.\n2017-07-05 07:21:12 CLIENT -> SERVER: QUIT\n2017-07-05 07:21:12 \nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nHere is the result when I connect in telnet to \n telnet smtp.gmail.com 587\n220 smtp.gmail.com ESMTP c55sm21738360wrc.7 - gsmtp\n. Here is the error:\n2017-07-05 07:21:11 CLIENT -> SERVER: EHLO localhost\n2017-07-05 07:21:11 CLIENT -> SERVER: STARTTLS\nSMTP Error: Could not connect to SMTP host.\n2017-07-05 07:21:12 CLIENT -> SERVER: QUIT\n2017-07-05 07:21:12 \nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nHere is the result when I connect in telnet to \n telnet smtp.gmail.com 587\n220 smtp.gmail.com ESMTP c55sm21738360wrc.7 - gsmtp\n. Sorry, for taking your time it worked for me when I added\n $mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n); \nThanks a lot !!!. Sorry, for taking your time it worked for me when I added\n $mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n); \nThanks a lot !!!. ",
    "uligh": "Sorry, it was not PHPMailer. It was the PHP function mail().. Sorry, it was not PHPMailer. It was the PHP function mail().. ",
    "asert1234": "ghghghgh. ghghghgh. ",
    "HaliAlduhoky": "Thanks for your fast replaying :)\nStill not working bro :( \nOutPut error.\nMessage could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. Thanks for your fast replaying :)\nStill not working bro :( \nOutPut error.\nMessage could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. NOTE: I DO NOT ENABLED SMTPSecure = 'tls' . NOTE: I DO NOT ENABLED SMTPSecure = 'tls' . i will teat on server, and i will give you replay. \nthanks. . i will teat on server, and i will give you replay. \nthanks. . same problem in web server bro !!\ni just want that way to resolve this error ? . same problem in web server bro !!\ni just want that way to resolve this error ? . In the latter, I remembered something \nFrom my gmail after i allowed ( Less secure apps ).\nIt's worked now for me.\nAnyway, Thanks for replying .\nRESOLVED \ud83d\udc4d \ud83d\udc4d \ud83d\udc4d \nPlease close. In the latter, I remembered something \nFrom my gmail after i allowed ( Less secure apps ).\nIt's worked now for me.\nAnyway, Thanks for replying .\nRESOLVED \ud83d\udc4d \ud83d\udc4d \ud83d\udc4d \nPlease close. so how can i know carrier i sending to is SMS gateway or not ?\ni will send messages to more than 10 carriers !! . So what is the best way to styling my template? please just give me the informations.. hhh that was best sulation,\nhttp://lmgtfy.com/?s=d&q=Thanks+a+loot.+but+i+already+searched+on+google+about+it+and+i+do+not+found+the+best+answer.. ",
    "romainnorberg": "Hello @eskimopest The problem does not come from the smtp relay? (And not phpmailer)\nDo you have the source of the message that was considered spam?. Hello @eskimopest The problem does not come from the smtp relay? (And not phpmailer)\nDo you have the source of the message that was considered spam?. @eskimopest yes I think, your code is Ok. If you have an Gmail address you can test to go through the Gmail relay to test the functioning of your code.. ",
    "eskimopest": "Hi @romainnorberg, Tks for your answer. I'm beginning to think that this is related to my server. Its a free server. The message itself was only pure text. Do you think this could be from the server being free? Im going nuts with this. My code seems to be ok, but no matter what do, i cant make it work.. Hi @romainnorberg, Tks for your answer. I'm beginning to think that this is related to my server. Its a free server. The message itself was only pure text. Do you think this could be from the server being free? Im going nuts with this. My code seems to be ok, but no matter what do, i cant make it work.. Tks, I'll give it a try. Let me just ask you something. When you say the problem comes from smtp relay are you talking about certificates? tks.. ",
    "Beefeater": "I'm receiving masses of bounced emails from someone wrongly using my email address as the sender.  I did not send the e-mails.  \nThe tracking list shows github as originator.  Do you police this kind of behavior?\nHere's the tracking \nThis message was created automatically by mail delivery software.\nA message that you sent could not be delivered to one or more of its\nrecipients. This is a permanent error. The following address(es) failed:\nmatthew@matthewdorhauer.com\n   host impout-pool.yourhostingaccount.com [10.1.55.41]\n   SMTP error from remote mail server after RCPT TO:matthew@matthewdorhauer.com:\n   550 5.1.1 matthew@matthewdorhauer.com Recipient is invalid - ERR011\nReporting-MTA: dns; walauthsmtp04.yourhostingaccount.com\nAction: failed\nFinal-Recipient: rfc822;matthew@matthewdorhauer.com\nStatus: 5.0.0\nRemote-MTA: dns; impout-pool.yourhostingaccount.com\nRemote-MTA: X-ip; [10.1.55.41]\nX-Exim-Diagnostic: X-str; SMTP error from remote mail server after RCPT TO:matthew@matthewdorhauer.com: 550 5.1.1 matthew@matthewdorhauer.com Recipient is invalid - ERR011\nDiagnostic-Code: smtp; 550 5.1.1 matthew@matthewdorhauer.com Recipient is invalid - ERR011\nReturn-path: bhughes@toysrbob.com\nReceived: from ec2-54-229-67-119.eu-west-1.compute.amazonaws.com ([54.229.67.119]:45682 helo=www.burntjam.com)\n    by walauthsmtp04.yourhostingaccount.com with esmtpsa (TLSv1:ECDHE-RSA-AES256-SHA:256)\n    (Exim)\n    id 1dS2XK-00022q-UC\n    for matthew@matthewdorhauer.com; Mon, 03 Jul 2017 10:41:15 -0400\nDate: Mon, 3 Jul 2017 14:37:38 +0000\nTo: matthew@matthewdorhauer.com\nFrom: \"Judith E.\" bhughes@toysrbob.com\nReply-To: \"Judith E.\" bhughes@toysrbob.com\nSubject: Looking for an obedient guy to make my filthy dreams come true!\nMessage-ID: 51d3d774098cbe4626405fc2f5d1758c@www.burntjam.com\nX-Mailer: PHPMailer 5.2.23 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n    boundary=\"b1_51d3d774098cbe4626405fc2f5d1758c\"\nContent-Transfer-Encoding: 8bit\nX-EN-UserInfo: 58ade2e1926b37c6692a2a5c970f4e68:931c98230c6409dcc37fa7e93b490c27\nX-EN-AuthUser: bhughes@toysrbob.com\n. ",
    "seuns-0kiki0lu": "hello Synchro, i really appreciate your effort on getting things right on this platform. thank for the tutorial on phpMailer, it worked after so many debugging. i managed to send email using phpMailer as decribed in the tutorial. i am using only windows 7 starter with xampp server. the problem is that the email get sent to the junk folder in my live.com account instead of the inbox. is there anything i can do sir? and dont forget that i dont have any webspace or whatsoever in addition to my windows OS, xampp server and my gmail login credentials. is there something i can do to correct that error. thank you.. thanks for your quick Synchro. does that mean if i actually host my site on godaddy.com and use the webspace to send the email, it won't  still be placed in the inbox. or would godaddy.com takes care of that for me?\n. @Synchro. i noted that studying codes on stackoverflow website could be fruitless. i read about this somewhere on github website. so why would you refer me to stackoverflow website when most code are not correct there?. ",
    "NicktheGeek": "@Synchro did you read the issue I reported? This is failing with every email address I've tried. This isn't just some limited scope, fringe email addresses. It fails on name@domain.com (which isn't valid for actual use but is just an example instead of posting my real world addresses that I tried).\n. @Synchro what about in PHP 5.5.9-1ubuntu4.21 (that is why I intentionally added the PHP version)\nUnfortunately I've got to support a wide variety of PHP and cannot force users into SMTP or PHP7 on OSX\nI suspect that this can be done in a way that works with simple email addresses.. ",
    "balazslang": "I see. The subclass-implementation is a possibility. Our problem is, that there is no unified way to control the parameters that will be passed as command to popen() or as $params to mail(). In case of sendmailSend we must inject our parameter into the Sendmail property, while with mailSend the mailPassthru method must be overwritten.\nIt would be nice to have a method, that builds this parameter list. That could be the point to inject some custom parameters.\nIs there a way to make this method available in both 6.0 and 5.2? Is there a chance that it makes it into the release if we refactor the code in 5.2 and in 6.0 that way?\n. We've found a solution so this PR is obsolete. Thank you for your time and advice.. ",
    "eros23": "When i use ssl://smtp.name.it:25;tls://smtp.test2.it:586\nThe script creates this situation:\nConnection: opening to tls://smtp.test2.it:586:25, timeout=300, options=array (....\nIt does not find the fourth optional parameter (port) and add the standard port.\nThis is for domain name. For ipv6, i think i need to make a special regex\nFor this:\n^((ssl|tls):\\/\\/)*([a-zA-Z0-9\\.-]*):?([0-9]*)$\nI have:\nFull match | 0-23 | tls://smtp.test2.it:586\nGroup 1. | 0-6 | tls://\nGroup 2. | 0-3 | tls\nGroup 3. | 6-19 | smtp.test2.it\nGroup 4. | 20-23 | 586\nFor this:\n^((ssl|tls):\\/\\/)*([a-zA-Z0-9:\\[\\]\\.-]*):?([0-9]*)$\nI have:\nFull match | 0-23 | tls://smtp.test2.it:586\nGroup 1. | 0-6 | tls://\nGroup 2. | 0-3 | tls\nGroup 3. | 6-23 | smtp.test2.it:586\nGroup 4. | 23-23 | null<------that is the question \n. ",
    "velocius": "SOLVED! Thank You!\n  ```\n   $mail->Host = 'smtp.example.pl';  // Specify main and backup SMTP servers\n    $mail->SMTPDebug = 3;\n    $mail->SMTPAuth = true;                               \n    $mail->Username = 'biuro@example.pl';                \n    $mail->Password = 'secret';                           \n    $mail->SMTPSecure = 'tls';                            \n    $mail->Port = 587;\n\n    $mail->setFrom('biuro@example.pl', 'NicePack.pl');\n    $mail->Hostname = 'www.example.pl';\n\n```. ",
    "hakeryk2": "Hello,\nHow about If in my case when \n$mail->Host = some.ip.address.ip4 ie 192.168.1.1;\nbecause I have mail server on different hosting and this is the only way that I can send emails?. ",
    "energy6uk": "2017-07-22 10:17:04 SERVER -> CLIENT: 220-server.blablabla.com ESMTP Exim 4.89 #1 Sat, 22 Jul 2017 11:17:04 +0100 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail. 2017-07-22 10:17:04  CLIENT -> SERVER: EHLO www.blablabla.com\n2017-07-22 10:17:04 SERVER -> CLIENT: 250-server.blablabla.com Hello www.blablabla.com [111.111.111.111] 250-SIZE 52428800 250-8BITMIME 250-PIPELINING 250-AUTH PLAIN LOGIN 250-STARTTLS 250 HELP\n2017-07-22 10:17:04 CLIENT -> SERVER: STARTTLS\n2017-07-22 10:17:04 SERVER -> CLIENT: 220 TLS go ahead\n2017-07-22 10:17:04 CLIENT -> SERVER: EHLO www.blablabla.com\n2017-07-22 10:17:04 SERVER -> CLIENT: 250-server.blablabla.com Hello www.blablabla.com [111.111.111.111] 250-SIZE 52428800 250-8BITMIME 250-PIPELINING 250-AUTH PLAIN LOGIN 250 HELP\n2017-07-22 10:17:04 CLIENT -> SERVER: AUTH LOGIN\n2017-07-22 10:17:04 SERVER -> CLIENT: 334 xxx\n2017-07-22 10:17:04 CLIENT -> SERVER: xxx\n2017-07-22 10:17:04     SERVER -> CLIENT: 334 xxx\n2017-07-22 10:17:04 CLIENT -> SERVER: xxx\n2017-07-22 10:17:06 SERVER -> CLIENT: 535 Incorrect authentication data\n2017-07-22 10:17:06 SMTP ERROR: Password command failed: 535 Incorrect authentication data\n2017-07-22 10:17:06 SMTP Error: Could not authenticate.\n2017-07-22 10:17:06 CLIENT -> SERVER: QUIT\n2017-07-22 10:17:06 SERVER -> CLIENT: 221 server.blablabla.com closing connection\n2017-07-22 10:17:06 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. I wish it was that simple. The username and password are 100% correct, and the very same details were working fine for several years with phpmailer, until a few weeks ago. The same details are working fine with PEAR mail, just not with phpmailer.. Already tried the base64-decode, and the details are 100% correct. Also, if the server was rejecting it, surely it would reject the same using PEAR mail? As I said at the beginning, it's a strange one. Anyway, thanks for trying to help.. Just wanted to update. I've found the cause of the issue, but it's actually left me even more confused. WHM (WebHost Manager) has a feature called CPHulk Brute Force Protection, and one of the settings is Username-Based Protection whereby a username is blocked for a specific period of time after a specific number of failed login attempts. Mine is set to block for 240 minutes after 10 failed login attempts. My codes@blablabla.com email account had been blocked by CPHulk after numerous failed attempts at login (obviously by hackers or whatever). This is where it becomes confusing. Even though my codes@blablabla.com email account had been blocked by CPHulk, I was still able to send emails through that account using PEAR mail. So anyway, this isn't a PHPMailer issue. Thanks for your help.. ",
    "fdiengdoh": "UPDATE: The Oauth works on a free Gmail account. The first account I used was from Google Apps for education, and it seems our Admin block some access and that's why it wasn't working.  Anyway as of now I'll use my free gmail account. . ",
    "tareqhasanconcord": "when we use GoDaddy server there was no problem at all. but when my server was change (ResellerClub) then this problem was found. \nemail was send and received by gmail and yahoo mail . but problem is   tareq@l2nsoft.com  this type of mail not received this mail. \nif corporate mail block it then how can i fix this issue??. ok  thanks\nOn Tue, Jul 25, 2017 at 3:13 PM, Marcus Bointon notifications@github.com\nwrote:\n\nLike the documentation says, you need to read your mail server logs to\nfind out why messages are being rejected; When sending via mail() you\ncan't tell what the problem is.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1105#issuecomment-317678410,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AS95MxQW-2lYet2D7V6eIVUE6Y2DafjNks5sRbG9gaJpZM4OiHm8\n.\n\n\n-- \nBest Regards\nMd Tareq HasanJr. Software Developer\n\nL2N *SOFTWARE LIMITED\nHouse # 294, Road # 04, DOHS Baridhara,\nDhaka-1206, Bangladesh.\n\nM : +88 017 55 690 464\n T  : +88 02 8415966-9\nF  : +88 02 8415970\nE  : tareq@L2Nsoft.com masum@L2NSOFT.com\nW : www.L2Nsoft.com\n. ",
    "Neuroforge": "Also, that didn't work. The error message is the same.\n1) I logged out of GMAIL.\n2) I logged back into GMAIL.\n3) I attempted to call the PHP script again.\nWhat is your next piece of advice?\nThanks.. Thank you for your help. I will post a resolution here if i find one.. ",
    "imlolman": "I have also done the same\nChanged the email, password to mine\nAllowed less secure applications for my Gmail account\nRemoved the HTML and $mail->Body = \"This is a message\";\nStill Getting Error Using it in Laravel 5.4\n\n2017-11-06 21:12:51 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP h1sm23026103pgf.37 - gsmtp\n2017-11-06 21:12:51 CLIENT -> SERVER: EHLO localhost\n2017-11-06 21:12:52 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [47.247.13.31]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2017-11-06 21:12:52 CLIENT -> SERVER: STARTTLS\n2017-11-06 21:12:52 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\n2017-11-06 21:12:52 CLIENT -> SERVER: EHLO localhost\n2017-11-06 21:12:52 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [47.247.13.31]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2017-11-06 21:12:52 CLIENT -> SERVER: AUTH LOGIN\n2017-11-06 21:12:53 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-11-06 21:12:53 CLIENT -> SERVER: xxx==\n2017-11-06 21:12:53 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-11-06 21:12:53 CLIENT -> SERVER: xxx==\n2017-11-06 21:12:53 SERVER -> CLIENT: 534-5.7.9 Please log in with your web browser and then try again. Learn more at534 5.7.9 https://support.google.com/mail/?p=WebLoginRequired h1sm23026103pgf.37 - gsmtp\n2017-11-06 21:12:53 SMTP ERROR: Password command failed: 534-5.7.9 Please log in with your web browser and then try again. Learn more at534 5.7.9 https://support.google.com/mail/?p=WebLoginRequired h1sm23026103pgf.37 - gsmtp\nSMTP Error: Could not authenticate.\n2017-11-06 21:12:53 CLIENT -> SERVER: QUIT\n2017-11-06 21:12:53 SERVER -> CLIENT: 221 2.0.0 closing connection h1sm23026103pgf.37 - gsmtp\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. \n",
    "neroshin": "Here the additional info \n2017-07-27 10:57:27 SERVER -> CLIENT: 220-arisvr1.adwhm1.com ESMTP Exim 4.89 #1 Thu, 27 Jul 2017 10:57:27 +0000 \n                                      220-We do not authorize the use of this system to transport unsolicited, \n                                      220 and/or bulk e-mail.\n2017-07-27 10:57:27 CLIENT -> SERVER: EHLO www.xzqt.com.sg\n2017-07-27 10:57:27 SERVER -> CLIENT: 250-arisvr1.adwhm1.com Hello www.xzqt.com.sg [69.87.220.199]\n                                      250-SIZE 52428800\n                                      250-8BITMIME\n                                      250-PIPELINING\n                                      250-AUTH PLAIN LOGIN\n                                      250-STARTTLS\n                                      250 HELP\n2017-07-27 10:57:27 CLIENT -> SERVER: STARTTLS\n2017-07-27 10:57:27 SERVER -> CLIENT: 220 TLS go ahead\n2017-07-27 10:57:27 CLIENT -> SERVER: EHLO www.xzqt.com.sg\n2017-07-27 10:57:27 SERVER -> CLIENT: 250-arisvr1.adwhm1.com Hello www.xzqt.com.sg [69.87.220.199]\n                                      250-SIZE 52428800\n                                      250-8BITMIME\n                                      250-PIPELINING\n                                      250-AUTH PLAIN LOGIN\n                                      250 HELP\n2017-07-27 10:57:27 CLIENT -> SERVER: AUTH LOGIN\n2017-07-27 10:57:31 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-07-27 10:57:31 CLIENT -> SERVER: xxx\n2017-07-27 10:57:31 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-07-27 10:57:31 CLIENT -> SERVER: xxx=\n2017-07-27 10:57:33 SERVER -> CLIENT: 535 Incorrect authentication data\n2017-07-27 10:57:33 SMTP ERROR: Password command failed: 535 Incorrect authentication data\n2017-07-27 10:57:33 SMTP Error: Could not authenticate.\n2017-07-27 10:57:33 CLIENT -> SERVER: QUIT\n2017-07-27 10:57:33 SERVER -> CLIENT: 221 arisvr1.adwhm1.com closing connection\n2017-07-27 10:57:33 SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n2Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. Hi @Synchro I already tried to login the user and pass in gmail it is working there.. Okay @Synchro I understand thank you for your respond.. ",
    "Bamako": "Oh nice ! I missed that in guide...\nThanks a lot !!. Oh nice ! I missed that in guide...\nThanks a lot !!. ",
    "ds4a": "Before embarking on the course outlined above I had already followed the documentation for the configuration of the SMTP mail server. I should have included that in my original reply. This had obviously involved specifying the FQDN of the mail server (smtp.domain.uk). This FQDN is contained within the SAN of the cert.\nNB: Domain name and IP addresses have been sanitised.\nThe server correctly resolves the FQDN to the public IP:\nPING smtp.domain.uk (nnn.nnn.nnn.nnn) 56(84) bytes of data.\nThe setting $SMTPOptions = array(); (The default) in class.phpmailer.php, results in the SMTP connection failing.\nSee the following output:\n[30-Jul-2017 07:47:10 UTC] Connection: opening to smtp.domain.uk:587, timeout=300, options=array (\n)\n[30-Jul-2017 07:47:11 UTC] Connection: Failed to connect to server. Error number 2. \"Error notice: stream_socket_client(): unable to connect to smtp.domain.uk:587 (Connection refused)\n[30-Jul-2017 07:47:11 UTC] SMTP ERROR: Failed to connect to server: Connection refused (111)\n[30-Jul-2017 07:47:11 UTC] SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nThe course of action then follows from my original post from the point:\n\"This lead me onto several threads that advised using 'localhost' as the specified SMTP server. I edited the settings in suiteCRM.\"\nIn summary, in the configuration I outlined in my original post, specifying 'localhost' as the mailserver in the SMTP Mail Server setting of suiteCRM->Admin->Email Settings AND setting the $SMTPOptions in in class.phpmailer.php as:\n$SMTPOptions = array(\n'ssl' => array(\n'verify_peer' => true,\n'peer_name' => 'smtp.domain.uk',\n'verify_peer_name' => true\n)\n);\nThis results in the SMTP connection succeeding, as reported in my original post.\nUsing anything other than localhost as the SMTP Mail Server results in the SMTP connection failing.\nThe 'peer_name' can be substituted for any valid SAN in the server presented certificate and the connection succeeds.\nI have now also established that simplifying the setting:\n$SMTPOptions = array(\n'ssl' => array(\n'peer_name' => 'smtp.domain.uk'\n                     )\n);\nAlso results in a successful SMTP connection. Therefore in the configuration I outlined the SMTP connection issue is resolved with the simplified:\nsuiteCRM->Admin->Email Settings->SMTP Mail Server: localhost\nin class.phpmailer.php:\n$SMTPOptions = array(\n'ssl' => array(\n'peer_name' => 'smtp.domain.uk'\n)\n);\nIt initially appears this forces the SAN(s) within the presented server SSL certificate to be queried explicitly during the SMTP connection handshake and not simply accepting the primary Subject Name / Certificate Name (CN) to be used. The SMTP connection is failing during the SSL handshake / peer_name check.\nI'm not saying categorically this is an issue with PHPMailer, but this resolution works for me in my configuration and may work for others. With more data it may be possible to establish where in the process the issue is, and with which element (PHPMailer / cPanel / suiteCRM / CentOS / AWS etc.). Access to the mail server doesn't appear to be blocked in any regard via ports 25,465,587.\nAll other external mail clients connect successfully to the mail server using the smtp.domain.uk FQDN.\nCLI SSL connections can be made successfully from the localhost to the localhost mail server using the FQDN using any standard mail port (25,465,587).\ne.g: openssl s_client -starttls smtp -connect smtp.domain.uk:587\nThis establishes a successful SMTP connection, I can authenticate and send mail from the cli.\nThe solution I have implemented currently would appear to be the preferable option to the \"PHP 5.6 certificate verification failure\" resolution as the connection is indeed secure when using:\nsuiteCRM->Admin->Email Settings->SMTP Mail Server: localhost\n$SMTPOptions = array(\n'ssl' => array(\n'peer_name' => 'smtp.domain.uk'\n)\n);\nThe SSL / TLS handshake is established and all subsequent data is encrypted.\nI will investigate this further when I have more time and will update should I discover anything of use.. ",
    "R4nd0mC0d3r": "Solved this using same mail on both from and to. Guess I can work with that atm. ",
    "csandreas1": "i have enabled smtdebug= 2 and i get this message \nhttps://accounts.google.com/signin/continue?sarp=1&amp;scc=1&amp;plt=AKgnsbsL534-5.7.14 K_XXe3SWe2qjPJYq-kU5AaU-jnFYMuusqAfob5XogbUT79zz30h9m5tSBZZX8e-C1im0ua534-5.7.14 Pnt8duPHjHcH6GCvGS4QfMnHemJrFb2X8zcZEVxRBzkugNfaTxzaVW0sXVQU9YefRqlPmG534-5.7.14 IHfVVqnHqX7IJL6h0mQw2JBRfmUepEO-okVPkjSqLUt2NUEvB0_kMcVrxV9a1dDX-5Oeuf534-5.7.14 hwzcgLor80gVTn8mZyfCyVUnx2LYE&gt; Please log in via your web browser and534-5.7.14 then try again.534-5.7.14 Learn more at534 5.7.14 https://support.google.com/mail/answer/78754 v44sm40952005wrb.53 - gsmtp<br>\n2017-08-01 19:22:01 SMTP ERROR: Password command failed: 534-5.7.14 &lt;https://accounts.google.com/signin/continue?sarp=1&amp;scc=1&amp;plt=AKgnsbsL534-5.7.14 K_XXe3SWe2qjPJYq-kU5AaU-jnFYMuusqAfob5XogbUT79zz30h9m5tSBZZX8e-C1im0ua534-5.7.14 Pnt8duPHjHcH6GCvGS4QfMnHemJrFb2X8zcZEVxRBzkugNfaTxzaVW0sXVQU9YefRqlPmG534-5.7.14 IHfVVqnHqX7IJL6h0mQw2JBRfmUepEO-okVPkjSqLUt2NUEvB0_kMcVrxV9a1dDX-5Oeuf534-5.7.14 hwzcgLor80gVTn8mZyfCyVUnx2LYE&gt; Please log in via your web browser and534-5.7.14 then try again.534-5.7.14 Learn more at534 5.7.14 https://support.google.com/mail/answer/78754 v44sm40952005wrb.53 - gsmtp<br>\nSMTP Error: Could not authenticate.<br>\n2017-08-01 19:22:01 CLIENT -&gt; SERVER: QUIT<br>\n2017-08-01 19:22:01 SERVER -&gt; CLIENT: 221 2.0.0 closing connection v44sm40952005wrb.53 - gsmtp<br>\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting<br>\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting \n. yes i did. By the way i just changed host today. . I will see what i can do if i won't find a solution until tomorrow i will swap to php Mail(). Php mail sends emails directly from a script which opens and closes an SMTP socket. . okay nice to know it, i know smtp is much faster and better but i have to figure how to solve this problem. Is that possible to try using microsoft smtp settings? I'm having trouble to find those settings. okay here they are: \n\nServer name: smtp-mail.outlook.com\nPort: 587\nEncryption method: STARTTLS. Now i get different error:\n2017-08-02 07:33:28 SMTP ERROR: DATA END command failed: 550 5.3.4 554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:69000000, 17.43559:0000000060010000000000000000000000000000, 20.521\nSMTP Error: data not accepted.\nMailer Error: SMTP Error: data not accepted.SMTP server error: DATA END command failed Detail: 554 5.2.0 STOREDRV.Submission.Exception:SendAsDeniedException.MapiExceptionSendAsDenied; Failed to process message due to a permanent exception with message Cannot submit message. 16.55847:69000000, 17.43559:0000000060010000000000000000000000000000, 20.521\n SMTP code: 550 Additional SMTP info: 5.3.42017-08-02 07:33:28 CLIENT -> SERVER: QUIT\n2017-08-02 07:33:28 SERVER -> CLIENT: \n2017-08-02 07:33:28 SMTP ERROR: QUIT command failed: . yes. emails are receiving in localhost and heroku but not in namecheap hosting. I have contacted again their support but they can't find a solution.. here is the script: https://www.mpoliasma.top/blog/blog.php try it your self. I told you script works fine nothing error in the code.. i get this now: {\"error\":\"You must provide at least one recipient email address.\"}\n. $mail->AddAddress($to);. the return value is my email. What do you mean ?. anyway they said they opened a  Ticket DKY-580-73644  and  they will try to solve this issue. this is what it returns:\n\nMailer Error: SMTP connect() failed. https:<a class=\"__cf_email__\" href=\"/cdn-cgi/l/email-protection\" data-cfemail=\"5c73733b352834293e723f3331730c140c113d3530392e730c140c113d3530392e732b35373573082e33293e30392f3433332835323b2b393e38333135323d2e6d1c\">[email&#160;protected]</a><script data-cfhash='f9e31' type=\"text/javascript\">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>gmail.com is not a valid address\n. sorry i am not experienced in programming , i am still a student . Here is my complete script:\nsendemail.zip\n. In localhost where i receive the email it returns : \n\nwebdominar1@gmail.com is not a valid address\n. But why they allow it through heroku and localhost with the same code. That's weird. I will try to change my code to see if emails will be sent.\n\nBased on this code: https://github.com/PHPMailer/PHPMailer/blob/master/examples/gmail.phps. I have added exactly the same script as this link but it doesn't seem to send emails. They send from localhost though. . i'm not an expert otherwise i would fix the problem the same day. OKay i fixed the problem. The trick was this link: \n\nhttps://accounts.google.com/b/0/DisplayUnlockCaptcha\n\n. ```\n//send the message, check for errors\nif (!$mail->send()) {\n    $asd = false;\n    $errorConsole =  $mail->ErrorInfo;\nheader(\"Content-type: application/json\");\necho json_encode(array('MessageSent'=>$asd,'PhpMailer info '=>$errorConsole));\n} \nelse if($mail->send()) {\n    $asd = true;\n    $msgSent = \"Well done $from_name, your message has been sent! We will reply to the following email: $from. Your Message: $body \";\nheader(\"Content-type: application/json\");\necho json_encode(array('MessageSent'=>$asd,'Details '=>$msgSent));\n\n}\n``. OKay thiselse if($mail->send())` is calling the function again and that is why i receive emails twice. IT was inside an if statement, i was using it to check if messages are actually sending and retrieve info into javascript to print the appropriate message.. ",
    "arslbbt": "@csandreas1  last link is for asking to app confirmation .... any one has an answer ? about MapiExceptionSendAsDenied it outlook issue\n. ",
    "danydacosta": "Indeed my URL was an example. It seems to be my HTML template as\n<html>\n<head><title>Title</title></head>\n<body>\n    <a href=\"https://google.com\">Google</a>\n</body>\n</html>\nworks well. It's very weird. href=\\\"https://google.com\\\" is the only thing that give a SMTP Error: data not accepted exception.. ",
    "andrewgorpenko": "There are no more custom headers in php script. $email contains actual email. Like example@gmail.com. Maybe some mysqli_escape_string may help? Or maybe some quotes are missing? Or it\u2019s actual PHPMailer fault?. I can upload email source and actual script to site, so you will see anything you need. Okay?. Here is email source: (php script in next comment in 2 minutes):\n```\nDelivered-To: some.email@gmail.com\nReceived: by 10.80.139.1 with SMTP id l1csp2250868edl;\n        Sat, 5 Aug 2017 11:58:38 -0700 (PDT)\nX-Received: by 10.107.24.66 with SMTP id 63mr6444297ioy.111.1501959518024;\n        Sat, 05 Aug 2017 11:58:38 -0700 (PDT)\nARC-Seal: i=1; a=rsa-sha256; t=1501959517; cv=none;\n        d=google.com; s=arc-20160816;\n        b=ceh41eTpcfTOHCGFwBGhRtif8OlhcARXrLaDpL+eRuroyzOvpz3R0G9/qNPvITHRb2\n         yhbQJVizJMhb2FfyN5bpWAigDMg6GiDyhlVRBFP6cWeRZngVP6dEd2t188m1iBMWg4+n\n         z8qA+yucFt8BBNwxa8vyHDEHWaph4XZy4foN44OD3LurLItTnCImLPmSgA/vdZ+4lpIA\n         fPjbhPRz3TArRlRdgMdz26kmNeFMi5QiO1e4nETIH8QhJv00dcGFkeWdr1AGUiF2c+ET\n         bSZZM2z+P9NRk8ersUp0XXn6KqUJGD4VQhCm+dPIIgOYIYXK5+LOnsTdq1mxfAhodfHu\n         FCYA==\nARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;\n        h=list-unsubscribe:message-id:reply-to:from:date:subject:to\n         :dkim-signature:arc-authentication-results;\n        bh=rjEHIxNcrw+8/39mek0BvpjNlQxQYXce0aGP2+soexQ=;\n        b=fCEFmiGf70AAvbhZKbP8RQUK0Xcoj9C6erKtsvnkubIT76Bcir3aAsPNgpLWCkdgNV\n         mz/Giv1IzGnUuBI8G8J4LpbZ969+Wt8BMVIqGN3jZOf/j4cpTo4ynaQ1NS6+eBcs2ki4\n         +/0nfZ0rNWj2yNQR0RXv6Yxfc42DNAAAYrhddG4X5Q3gvVpBtnecIorJnHLY9rPoxjBT\n         p3aG4QtNs91JhBshfZxwQ2dQAlrj/lAS1F2com+LAnko5cmHXAnk6DTqPE9c7LfnpV4x\n         bekQQclN56D5twhU0qJ2XOUyifCO0M5/XuT1+u7ABwDWImZaHuaO+0ZEIxvqHlIv6czf\n         nu3A==\nARC-Authentication-Results: i=1; mx.google.com;\n       dkim=pass header.i=@rosresurs.net header.b=CxM36SZj;\n       spf=softfail (google.com: domain of transitioning team@rosresurs.net does not designate 2a01:4f8:120:61a9::2 as permitted sender) smtp.mailfrom=team@rosresurs.net;\n       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=rosresurs.net\nReturn-Path: team@rosresurs.net\nReceived: from rosresurs.net ([2a01:4f8:120:61a9::2])\n        by mx.google.com with ESMTPS id m34si4328296iod.388.2017.08.05.11.58.37\n        for some.email@gmail.com\n        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);\n        Sat, 05 Aug 2017 11:58:37 -0700 (PDT)\nReceived-SPF: softfail (google.com: domain of transitioning team@rosresurs.net does not designate 2a01:4f8:120:61a9::2 as permitted sender) client-ip=2a01:4f8:120:61a9::2;\nAuthentication-Results: mx.google.com;\n       dkim=pass header.i=@rosresurs.net header.b=CxM36SZj;\n       spf=softfail (google.com: domain of transitioning team@rosresurs.net does not designate 2a01:4f8:120:61a9::2 as permitted sender) smtp.mailfrom=team@rosresurs.net;\n       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=rosresurs.net\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;\n    d=rosresurs.net; s=mail; h=List-Unsubscribe:Message-ID:Reply-To:From:Date:\n    Subject:To:Sender:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:\n    Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:\n    Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:\n    List-Help:List-Subscribe:List-Post:List-Owner:List-Archive;\n    bh=rjEHIxNcrw+8/39mek0BvpjNlQxQYXce0aGP2+soexQ=; b=CxM36SZjanvY5dQOyfrf47uo2s\n    a9S3d++jCi+6VJ0D+T/TQXxKCBmUEBRlbq4T6VIxd7prqbt5K527yRNR8cdkc8cKQx/9yBb7E6pg/\n    aNGqYjrC5Co6MqdmclQsJzsq9wPVgD88nG6jMaPMEVLNXzci7CmArPE69yyUqCZ8miQGTYzvsMJNe\n    NOEPAOpf4S2xD4Tr53/67Wfxg275umBy5qFjqF0mtLDZxRul54KjTCibZUEYWFeVMifcClue5U5vr\n    oeZ1TZg8nM27qq0FSussgwHlKnjertpTmi4SfsvXDvbegTdVK1+E5aqIE2NGg68Pfor7OuKUIFh9M\n    uXH2dEZA==;\nReceived: from root by rosresurs.net with local (Exim 4.89)\n    (envelope-from team@rosresurs.net)\n    id 1de4HU-0008Pg-Ef\n    for some.email@gmail.com; Sat, 05 Aug 2017 20:58:36 +0200\nTo: \"Sender\" some.email@gmail.com\nSubject: =?UTF-8?B?0JLQsNGBINC/0YDQuNCy0LXRgtGB0YLQstGD0LXRgiDQoNC+0YHRgNC10YE=?=  =?UTF-8?B?0YPRgNGBIQ==?=\nX-PHP-Originating-Script: 0:class.phpmailer.php\nDate: Sat, 5 Aug 2017 18:58:36 +0000\nFrom: \"Rosresurs1.ru\" team@rosresurs.net\nReply-To: =?UTF-8?B?0KHQstGP0LfQsNGC0YzRgdGPINGBINC90LDQvNC4?= reply@rosresurs.net\nMessage-ID: b24b5b0a93e2d4e71e73a210cd03fff8@rosresurs.net\nX-Priority: 3\nList-Unsubscribe: support@rosresurs.net?subject=Unsubscribe, <http://rosresurs.net/unsubscribe.php?email=some.email@gmail.com\n\nPrecedence: bulk\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n    boundary=\"b1_b24b5b0a93e2d4e71e73a210cd03fff8\"\nContent-Transfer-Encoding: 8bit\n\nThis is a multi-part message in MIME format.\n--b1_b24b5b0a93e2d4e71e73a210cd03fff8\nContent-Type: text/plain; charset=UTF-8\nContent-Transfer-Encoding: 8bit\n\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c, \u0441\u0442\u0440\u043e\u0438\u0442\u0435 \u0434\u043e\u043c? \u0423 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c \u043a\u043e\u0435-\u0447\u0442\u043e \u0434\u043b\u044f \u0412\u0430\u0441 !\n\u041c\u044b \u044f\u0432\u043b\u044f\u0435\u043c\u0441\u044f \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0434\u0438\u043b\u0435\u0440\u0430\u043c\u0438 \u0437\u0430\u0432\u043e\u0434\u043e\u0432-\u0438\u0437\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u0435\u043b\u0435\u0439 \u0430\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u044b\u0445 \u043a\u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0439: \u0411\u0438\u043e\u0434\u0435\u043a\u0430, \u042d\u043a\u043e-\u0433\u0440\u0430\u043d\u0434 \u0438 \u042e\u043d\u0438\u043b\u043e\u0441 \u0410\u0441\u0442\u0440\u0430. \u0425\u043e\u0442\u0435\u043b\u0438 \u0431\u044b \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0412\u0430\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438 \u043f\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u0412\u0430\u043c\u0438 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0445 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u043e\u0432 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0449\u0438\u043a\u043e\u0432 \u0430\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u044b\u0445 \u043a\u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0439 BioDeka \u0434\u043b\u044f \u0412\u0430\u0448\u0438\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432.\n\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 \u043c\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043c\u043e\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432 \u043f\u043e \u043f\u0440\u043e\u0434\u0430\u0436\u0430\u043c, \u043c\u0435\u0445\u0430\u043d\u0438\u043a\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u0430\u043a\u0446\u0438\u0438 \u0432\u043e \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0438!\n\u0421\u0423\u0422\u042c \u0410\u041a\u0426\u0418\u0418: \u0437\u0430 \u043a\u0430\u0436\u0434\u0443\u044e \u043f\u0440\u043e\u0434\u0430\u043d\u043d\u0443\u044e \u0441\u0442\u0430\u043d\u0446\u0438\u044e BioDeka \u0441 \u043c\u043e\u043d\u0442\u0430\u0436\u043e\u043c, \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0434\u0435\u043d\u0435\u0436\u043d\u043e\u0435 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u043c\u0435\u0441\u044f\u0446\u0430 \u0438\u0437 \u0440\u0430\u0441\u0447\u0435\u0442\u0430: 1 \u0441\u0442\u0430\u043d\u0446\u0438\u044f = 3000 \u0440\u0443\u0431. \n\u0414\u043e\u043f. \u043c\u043e\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u043f\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u043a\u0432\u0430\u0440\u0442\u0430\u043b\u0430 3 \u043c\u0435\u0441.: \u041f\u0423\u0422\u0415\u0412\u041a\u0410 \u041d\u0410 2 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u043d\u0430 5 \u0434\u043d\u0435\u0439 \u0432 \u0422\u0430\u0439\u043b\u0430\u043d\u0434, \u0418\u0442\u0430\u043b\u0438\u044e, \u0418\u0441\u043f\u0430\u043d\u0438\u044e, \u0438 \u0434\u0440. \u0441\u0442\u0440\u0430\u043d\u044b \u043d\u0430 \u0432\u044b\u0431\u043e\u0440 \u043b\u0443\u0447\u0448\u0435\u043c\u0443 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0443!\n \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0412\u0430\u0448\u0435\u0439 \u0437\u0430\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u0432 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u0438 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443 \u043a \u0430\u043a\u0446\u0438\u0438, \u043c\u044b \u0431\u044b \u043c\u043e\u0433\u043b\u0438 \u043e\u0431\u0441\u0443\u0434\u0438\u0442\u044c \u0435\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u0412\u0430\u043c\u0438! \n\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u0432 \u0430\u043a\u0446\u0438\u0438 \u00ab\u041b\u0438\u0447\u043d\u044b\u0439 \u0437\u0430\u0447\u0435\u0442\u00bb \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e. \u0417\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f \u0434\u043e 07 \u0430\u0432\u0433\u0443\u0441\u0442\u0430 2017. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0439 \u0434\u0430\u0442\u044b, \u0437\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0441\u043e \u043c\u043d\u043e\u0439 \u0432 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435!\n\u0413\u0440\u0443\u043f\u043f\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 \u0420\u043e\u0441\u0440\u0435\u0441\u0443\u0440\u0441\n\u041c\u0430\u043b\u0438\u043d\u0438\u043d \u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0412\u0430\u043b\u0435\u0440\u044c\u0435\u0432\u0438\u0447\n\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440 \u043f\u043e \u0441\u043d\u0430\u0431\u0436\u0435\u043d\u0438\u044e \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432\nRosresurs1.ru\n\u0411\u0426 \u00ab\u041c\u0438\u0440\u00bb, \u0433. \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u0443\u043b. \u0415\u0444\u0438\u043c\u043e\u0432\u0430 4\u0410, \u043e\u0444\u0438\u0441 416.\n+7 812 915 26 64\n+7 931 354 73 21\n--b1_b24b5b0a93e2d4e71e73a210cd03fff8\nContent-Type: text/html; charset=UTF-8\nContent-Transfer-Encoding: 8bit\n\n\n\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u043c!\n\n\n\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c, \u0441\u0442\u0440\u043e\u0438\u0442\u0435 \u0434\u043e\u043c? \u0423 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c \u043a\u043e\u0435-\u0447\u0442\u043e \u0434\u043b\u044f \u0412\u0430\u0441 !\n\u041c\u044b \u044f\u0432\u043b\u044f\u0435\u043c\u0441\u044f \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0434\u0438\u043b\u0435\u0440\u0430\u043c\u0438 \u0437\u0430\u0432\u043e\u0434\u043e\u0432-\u0438\u0437\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u0435\u043b\u0435\u0439 \u0430\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u044b\u0445 \u043a\u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0439: \u0411\u0438\u043e\u0434\u0435\u043a\u0430, \u042d\u043a\u043e-\u0433\u0440\u0430\u043d\u0434 \u0438 \u042e\u043d\u0438\u043b\u043e\u0441 \u0410\u0441\u0442\u0440\u0430. \u0425\u043e\u0442\u0435\u043b\u0438 \u0431\u044b \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0412\u0430\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438 \u043f\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u0412\u0430\u043c\u0438 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0445 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u043e\u0432 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0449\u0438\u043a\u043e\u0432 \u0430\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u044b\u0445 \u043a\u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0439 BioDeka \u0434\u043b\u044f \u0412\u0430\u0448\u0438\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432.\n\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 \u043c\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043c\u043e\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432 \u043f\u043e \u043f\u0440\u043e\u0434\u0430\u0436\u0430\u043c, \u043c\u0435\u0445\u0430\u043d\u0438\u043a\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u0430\u043a\u0446\u0438\u0438 \u0432\u043e \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0438!\n\u0421\u0423\u0422\u042c \u0410\u041a\u0426\u0418\u0418: \u0437\u0430 \u043a\u0430\u0436\u0434\u0443\u044e \u043f\u0440\u043e\u0434\u0430\u043d\u043d\u0443\u044e \u0441\u0442\u0430\u043d\u0446\u0438\u044e BioDeka \u0441 \u043c\u043e\u043d\u0442\u0430\u0436\u043e\u043c, \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0434\u0435\u043d\u0435\u0436\u043d\u043e\u0435 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u043c\u0435\u0441\u044f\u0446\u0430 \u0438\u0437 \u0440\u0430\u0441\u0447\u0435\u0442\u0430: 1 \u0441\u0442\u0430\u043d\u0446\u0438\u044f = 3000 \u0440\u0443\u0431. \n\u0414\u043e\u043f. \u043c\u043e\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u043f\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u043a\u0432\u0430\u0440\u0442\u0430\u043b\u0430 3 \u043c\u0435\u0441.: \u041f\u0423\u0422\u0415\u0412\u041a\u0410 \u041d\u0410 2 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u043d\u0430 5 \u0434\u043d\u0435\u0439 \u0432 \u0422\u0430\u0439\u043b\u0430\u043d\u0434, \u0418\u0442\u0430\u043b\u0438\u044e, \u0418\u0441\u043f\u0430\u043d\u0438\u044e, \u0438 \u0434\u0440. \u0441\u0442\u0440\u0430\u043d\u044b \u043d\u0430 \u0432\u044b\u0431\u043e\u0440 \u043b\u0443\u0447\u0448\u0435\u043c\u0443 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0443!\n \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0412\u0430\u0448\u0435\u0439 \u0437\u0430\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u0432 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u0438 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443 \u043a \u0430\u043a\u0446\u0438\u0438, \u043c\u044b \u0431\u044b \u043c\u043e\u0433\u043b\u0438 \u043e\u0431\u0441\u0443\u0434\u0438\u0442\u044c \u0435\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u0412\u0430\u043c\u0438! \n\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u0432 \u0430\u043a\u0446\u0438\u0438 \u00ab\u041b\u0438\u0447\u043d\u044b\u0439 \u0437\u0430\u0447\u0435\u0442\u00bb \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e. \u0417\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f \u0434\u043e 07 \u0430\u0432\u0433\u0443\u0441\u0442\u0430 2017. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0439 \u0434\u0430\u0442\u044b, \u0437\u0430\u044f\u0432\u043a\u0438 \u043d\u0430 \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0441\u043e \u043c\u043d\u043e\u0439 \u0432 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435!\n\u0413\u0440\u0443\u043f\u043f\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 \u0420\u043e\u0441\u0440\u0435\u0441\u0443\u0440\u0441\n\u041c\u0430\u043b\u0438\u043d\u0438\u043d \u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0412\u0430\u043b\u0435\u0440\u044c\u0435\u0432\u0438\u0447\n\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440 \u043f\u043e \u0441\u043d\u0430\u0431\u0436\u0435\u043d\u0438\u044e \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 Rosresurs1.ru \n\u0411\u0426 \u00ab\u041c\u0438\u0440\u00bb, \u0433. \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u0443\u043b. \u0415\u0444\u0438\u043c\u043e\u0432\u0430 4\u0410, \u043e\u0444\u0438\u0441 416.\n+7 812 915 26 64 \n+7 931 354 73 21 \n\n\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f\n\n\n```. Php script(if you need mail text and html templates-write me):\n<?php \nset_time_limit(0); \nrequire_once('config.php');\nrequire_once('lib/MailClass.php');\nrequire_once('etheme.php');\n$mailer = new FreakMailer(true);\n$mailer->CharSet = 'UTF-8';\n$conn = new mysqli(\"localhost\", \"root\", \"lalalalala\", \"email1\");\n$sql = mysqli_query($conn, \"SELECT email FROM email WHERE 1 && sent=''\");\nwhile($row = mysqli_fetch_object($sql))\n{\n    $promo = \"\u0441\u0442\u0440\u043e\u0438\u0442\u0435 \u0434\u043e\u043c? \u0423 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c \u043a\u043e\u0435-\u0447\u0442\u043e \u0434\u043b\u044f \u0412\u0430\u0441\";\n    $email = $row->email;\n$humanname = explode(\"@\", $email);\n$newhumanname = ucfirst($humanname[0]);\n\n$mailer->Subject  = '\u0412\u0430\u0441 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0420\u043e\u0441\u0440\u0435\u0441\u0443\u0440\u0441!';\n$mailer->Body = str_replace('{PROMO}', $promo, $htmlBody);\n\n$mailer->IsHTML(true);\n$mailer->AltBody = str_replace('{PROMO}', $promo, $textBody);\n\n$mailer->AddAddress($row->email, $newhumanname);\n$mailer->AddReplyTo($site['reply_email'], '\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u043d\u0430\u043c\u0438');\n$mailer->AddCustomHeader(\"List-Unsubscribe: <mailto:support@rosresurs.net?subject=Unsubscribe>, <http://rosresurs.net/unsubscribe.php?email=$email>\");\n$mailer->AddCustomHeader(\"Precedence: bulk\");       \n$mailer->XMailer = ' ';\n\nif($mailer->Send()) {\n    mysqli_query($conn,\"UPDATE email SET sent='yes' WHERE email='$email'\");\n    echo \"\u041f\u0438\u0441\u044c\u043c\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e. \u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430: $newhumanname \u0438 email: $email\\n\";\n}\nelse {\n    echo \"\u041f\u0438\u0441\u044c\u043c\u043e \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e! \u041f\u0440\u0438\u0447\u0438\u043d\u0430: \" . $mailer->ErrorInfo;\n}\n\n\n$mailer->clearAddresses();\n$mailer->clearCustomHeaders();\n$mailer->clearAttachments();\n\n}\n?>\n. I decided to migrate from email in unsubscribe to tokens. Is it good idea?. \nThis is a new variant. Will it work?(From email source)\nHere is new header. I am getting $token with $token = $row->token; and then trim($token); to be sure.\n$mailer->AddCustomHeader(\"List-Unsubscribe: <mailto:support@rosresurs.net?subject=Unsubscribe>, <http://rosresurs.net/escript/unsubscribe.php?token=$token>\");. Yep, it worked. Thanks for fast response!. Problem solved: Exim refused to accept Sender header. You will need to tell Exim not to rewrite Sender by server user.\n. Problem solved: Exim refused to accept Sender header. You will need to tell Exim not to rewrite Sender by server user.\n. ",
    "Benjamin0000": "I'm assuming that you know how to  make the functionalities  that will send the email and that will bring out the users information from the database base on the users id.   I think all you need to do is just to create a method or function for the functionalities and then call it well the button to send the email is being  clicked  like this    \n\nif this was helpful just leave a comment if not leave a comment about it too. try including \n                            $mail->username = \"your email address\" \n                            $mail->password = \"your email password\"\n                            $mail->SMTPSecure = 'tls';                        \n                            $mail->SMTPAuth = true;\nnote that the smtp is the simple male transfer protocol.\ntherefore \n                $mail->username = your email address;\n                $mail->password = your email password;\nthis should enable you login to your email account and  send mail from your email  through the script. \nI think  that is what is missing in your code so try it and comment on it if it worked    or if  it does  not work also comment on it  or you can email me at    benco00@yahoo.com let me help you.\n. good. ",
    "alielkamel": "okay i'm sorry for that .. ",
    "baseloo": "@hasibkamal  how solved please ?. ",
    "devatahir30": "error in Sentrifugo_3.2\n\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. ",
    "satishnamagiri": "If you are using in localhost, \nremove semicolon ; in this line extension=php_openssl.dll  in your php.ini file.\nOR\nDisable your antivirus and try it. It worked for me. ",
    "jvitoroc": "https://www.000webhost.com/. I solved the problem using: $mail->Host = 'tls://smtp.gmail.com:587';. ",
    "poojakhatri": "$mail->IsSMTP();\ninstead of small i you have to write I. No, I am not on GoDaddy.. ",
    "DanTheMan-NL": "Are you sure it has nothing to do with headers that are or aren't sent with this mail? Because I read a lot about headers that prevent mails from being marked as spam. . @Synchro: Since your are confident that PHPMailer 6 should work sending mails to @icloud.com. Have you tried this yourself and was it succesfull? I find different people struggling with icloud. I have a SPF record which solved being notified as SPAM at hotmail but icloud doesn't show any e-mail. The smtp server I'm using is smtp.rzone.de.. Good to hear this problem might be solved in a short period. Thanks in advance. \n. Thank you very much Synchro! PHPMailer 6.0.1 works perfect and e-mails are well received!! \nThanks for the effort.. ",
    "markgcarter": "I can confirm apple is silently deleting emails sent from PHP mailer. No bounce back or error report. They dont end up in user spam. Something needs to be looked into. I have manually sent from the account im using with php mailer to the same @me.com address, it works fine.. Hi, I have requested SMTP logs for the message. I assume providing the PHPMailer SMTPdebug output will not help as it shows as successful?. From the SMTP server. Unfortunately its shared hosting so I'm not sure how far I'll get (smtp server is SSL0.OVH.NET).\nI have requested to logs pertaining to two specific messages: one to a gmail.com (which was received) and one to a me.com (which wasn't). Hi, working well to the addresses I had on hand to test! Thanks for the quick turnaround!\nOn 14 September 2017 at 19:01:33, Marcus Bointon (notifications@github.com) wrote:\nThis fix was released as part of 6.0.1 today, please give it a try.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. ",
    "eddiejibson": "Nevermind, it was inside a function instead of at the top of the PHP file.. ",
    "jotasprout": "I got use to work after moving it outside the class. I'm using PHP 7. When I use port 587, the error \"SMTP ERROR: Failed to connect to server: Connection refused (111)\" is thrown on line 1639. When I use port 25, error \"STARTTLS command failed\" is thrown on line 1785. Telnet doesn't like 587 but likes 25 (I just read somewhere there's a bug with PHPMailer that makes me use 25 but since my 587 doesn't seem to be working, I don't think it's related). I can send and receive email locally and remotely. I have ports 25 and 587 open. I have spent days, honestly, trying everything I find. OpenSSL is enabled. I have a shiny, brand new cert from LetsEncrypt. All other https-related stuff is working. My hostname passes tests I throw at it. I'm going to chase after this 587 thing not working thing. . Thanks for getting back with me each time, BTW. I can't believe how patient, professional, and awesome your answers are. . Oh, and also BTW, I've always been happy and carefree with previous versions of PHPMailer. I just switched from shared to VPS and I'm experiencing quite the learning curve. I'm certainly not blaming your software. . Reference? Um ... yeah ... I think, as it turns out, it might be, \"Turn the page in my fat CentOS 7 Linux Server manual and config Postfix to use my TLS before bothering the PHPMailer people and wasting 2-3 days\" but I could be wrong. I'll let you know.. Completed that task. For whatever it's worth, telnet now likes 587. Still doesn't work. I've been combing through the troubleshooting guide. Hadn't tried s_client yet and the response included \"verify error:num=18:self signed certificate\" ... the TLS + Postfix tutorial tasks I'd just completed from my book included generating a self-signed certificate and I wondered if that would work. I have one from LetsEncrypt. Would that work better? How is LetsEncrypt with PHPmailer? In your opinion, is paying for one better?. Coolness. I'll hunt down where that cert is and update my configs. Thanks again for all your feedback and help. I can't remember if I set that debug ... I set some debug to 2. I'll do this, too. . I know this isn't a PHPMailer thing but any guidance would be appreciated. I tried to update/renew using certbot, adding \"mailtime.roxorsoxor.com\" (hostname/subdomain for my mail server) but certbot told me there wasn't a vhost for that. Where can I add it? I'm not sure what I should do to add it as a virtual host without changing my main hostname. The whole domain, DNS, etc. thing confuses the crap out of me. Do I add \"VirtualHost mailtime.roxorsoxor.com:587\"? I can't do \"*:80\" with ServerName of \"mailtime ...\" can I? What confuses me is there's no separate DocumentRoot because it's just the mail server. Or do I even need to do any of that? Do I just point to the current cert like I said in the previous comment?. It is my mail server -- I'm worried about it interfering with the \"regular\" website. . Cool. I'll try today to find and config like I said a few comments back. I'm writing a bunch of tutorials that I hope are more thorough and clear for folks like myself. Right now, they're just a jumble of notes as I do things by trial and error. Learning a lot and having fun. . I think I'm making progress because now I get:\n2017-09-06 19:55:43 SERVER -> CLIENT: 535 5.7.8 Error: authentication failed:\n2017-09-06 19:55:43 SMTP ERROR: User & Password command failed: 535 5.7.8 Error: authentication failed:\nSMTP Error: Could not authenticate.\nError thrown from PHPMailer line 1798. I don't know to what user & pw it refers.. I've spent another few hours trying everything I find on Google ... here's the full ...\n2017-09-06 23:19:14 SERVER -> CLIENT: 220 mailtime.roxorsoxor.com ESMTP Postfix\n2017-09-06 23:19:14 CLIENT -> SERVER: EHLO www.roxorsoxor.com\n2017-09-06 23:19:14 SERVER -> CLIENT: 250-mailtime.roxorsoxor.com250-PIPELINING250-SIZE 10485760250-VRFY250-ETRN250-STARTTLS250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\n2017-09-06 23:19:14 CLIENT -> SERVER: STARTTLS\n2017-09-06 23:19:14 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\n2017-09-06 23:19:14 CLIENT -> SERVER: EHLO www.roxorsoxor.com\n2017-09-06 23:19:14 SERVER -> CLIENT: 250-mailtime.roxorsoxor.com250-PIPELINING250-SIZE 10485760250-VRFY250-ETRN250-AUTH PLAIN250-AUTH=PLAIN250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\n2017-09-06 23:19:14 CLIENT -> SERVER: AUTH PLAIN\n2017-09-06 23:19:14 SERVER -> CLIENT: 334 \n2017-09-06 23:19:14 CLIENT -> SERVER: xxx=\n2017-09-06 23:19:18 SERVER -> CLIENT: 535 5.7.8 Error: authentication failed: \n2017-09-06 23:19:18 SMTP ERROR: User & Password command failed: 535 5.7.8 Error: authentication failed: \nSMTP Error: Could not authenticate.\n2017-09-06 23:19:18 CLIENT -> SERVER: QUIT\n2017-09-06 23:19:18 SERVER -> CLIENT: 221 2.0.0 Bye\nSMTP Error: Could not authenticate.\nCrap! \nFatal error: Uncaught PHPMailer\\PHPMailer\\Exception: SMTP Error: Could not authenticate. in /var/www/html/stakeout/vendor/phpmailer/phpmailer/src/PHPMailer.php:1798 Stack trace: #0 /var/www/html/stakeout/vendor/phpmailer/phpmailer/src/PHPMailer.php(1638): PHPMailer\\PHPMailer\\PHPMailer->smtpConnect(Array) #1 /var/www/html/stakeout/vendor/phpmailer/phpmailer/src/PHPMailer.php(1409): PHPMailer\\PHPMailer\\PHPMailer->smtpSend('Date: Wed, 6 Se...', 'This is a multi...') #2 /var/www/html/stakeout/vendor/phpmailer/phpmailer/src/PHPMailer.php(1256): PHPMailer\\PHPMailer\\PHPMailer->postSend() #3 /var/www/html/stakeout/class.gator.php(114): PHPMailer\\PHPMailer\\PHPMailer->send() #4 /var/www/html/stakeout/insert_gator.php(48): USER->send_mail('msprout@tgh.org', 'Welcome to Stak...', 'Confirm Registr...') #5 {main} thrown in /var/www/html/stakeout/vendor/phpmailer/phpmailer/src/PHPMailer.php on line 1798\nI see it says \"auth plain\" a couple places. My AuthType = \"login\" so shouldn't it say login instead of plain?. Wouldn't have recognized the encoded id & pw. If it was totally in plain text, I feel really stupid. Will test this change later. I live in Tampa so we've been rather busy. . I changed it to \"plain\" and got exactly the same result. You don't need to respond--I'm going to look for a different solution. I've wasted too much time on this. I need to get real work done so I'm just going to remove the email component for right now. Thanks for all your help, though.. That didn't change anything but thank you.. ",
    "OliverLeitner": "first of all: thank you for the information.\nsecondly: sadly non of the things on the list youve linked are that fresh anymore, seems ntlm auth isnt getting much love... or could it be that the authentification is a few lines that kinda dont have that much around them that the security risks of not having it patched in a long time dont hurt so much?\nanyways, i respect that you dont want to do ntlm handshakes and ignore ms exchange in intranet setups.. ",
    "namangarg88": "This is the error in log file:\nPHP Warning:  stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages:\nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed in /home/giftjaipur/public_html/class.smtp.php on line 197\nSame error was coming earlier before applying the fix.\n. ",
    "Kinjalchhaparwal": "require_once 'phpmailer/class.smtp.php';\n              require_once 'phpmailer/PHPMailerAutoload.php';\n             $mail = new PHPMailer();\n              $mail->isSMTP();\n            //  $mail->SMTPDebug = 0;\n                $mail->SMTPSecure = 'tls';\n                   $mail->Port = 587;\n              $mail->Host = \"smtp.gmail.com\";\n             $mail->SMTPAuth = true;\n              $mail->IsHTML(true);\n              $mail->Username = \"abc@gmail.com\";\n              $mail->Password = \"password\";\n              $mail->SetFrom('abc@gmail.com');\n              $mail->Subject = \"Confirm to Vrify\";\n               $mail->Body = \"hello\";\n              $mail->AddAddress($email);\n              $mail->addReplyTo($email, $user_name);\n              if(!$mail->Send()) {\n              echo \"Mailer Error: \" . $mail->ErrorInfo;\n              } \n              else\n               {\n              echo \"Message has been sent\";\n              }    \n    I am using phpmailer for using mail function in windows 10 (xampp) but i am not able to send mail i have already tried ssl or tsl with ports 587 or 465 or 25 but it is showing error\nWarning: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages: error:1416F086:SSL routines:tls_process_server_certificate:certificate verify failed\nMailer Error: SMTP connect() failed.\nPlease help me to solve this issue. I am stucked in this from 2 days but i am not getting any solution. I have OFF firewall and ON less secure apps from my gmail account settings.\nThanks in advance!!!!\n. ",
    "Slamdunk": "\nWhat coding standard is this? I gather it's not PSR-2.\n\nThe main rule activated is @Symfony, and refers to a series of rules that inclue PSR-2. You can inspect them here: https://github.com/FriendsOfPHP/PHP-CS-Fixer/blob/2.2/src/RuleSet.php#L55\nTake care to browse the repository at 2.2 branch, the latest one that supports PHP 5.5.\n\nI've had trouble with php-cs-fixer in the past suggesting changes that are actually breakages\n\nSince version 2 PHP-CS-Fixer distinguishes safe fixers from risky ones. But what does the tool consider risky? Risky is when and only when a user overwrites default PHP behaviours, for example is_null fixer converts is_null($variable) to null === $variable, and this could break compatibility if the user defined a custom namespaced is_null() function.\nApart from these edge cases, version 2 suppresses regex substitutions in favor of proper code tokenization, that led to a huge improvement avoding false-positives and false-negatives.\nThe fixers proposed here don't introduce any breakage, even though some of them are risky; after ending this discussion/review I'll apply the fixer and you'll see no test failing.\n\nI see there is one phpdoc mistake in the suggested diff (adds a . after a multiline code tag).\n\nThe fixer applying this change is phpdoc_summary that has this purpose:\nPhpdocs summary should end in either a full stop, exclamation mark, or question mark.\nI don't see any breakage/mistake: can you point build line out please?\n\nCould you fix whatever is breaking the build.\n\nThis PR integrates coding standards check in the build to force commiters adhere to the standards, but I intentionally avoided applying them for now because I expected this topic to be discussed, and to show you what changes, so for now the build intentionally fails.\nAs soon as we agree on the set of fixers to adopt and the way to check them, I'll push a final commit that applies those changes and the PR build will pass.. > I've fixed just about everything flagged.\nI appreciate that you took this PR advice to fix the current code.\nBut my intention with this PR is wider.\n\nIt is good for a project to choose and adopt a standard for writing the code, so it's easier to read for everyone\nStandards are boring to check and apply manually, computers instead are good at it: a dedicated tool can check and fix everything automatically\nFor a standard to be called so, it must be mandatory for everyone: it must be checked at the build status, so every commit from the maintaners and every pull-requests from contributors are granted to adhere to the standard\n\nInstead, in the commit https://github.com/PHPMailer/PHPMailer/commit/31493b6732733c961e62cee1b1991b5d389d209f\n\nI don't see the .php_cs file where you can specify the standards adopted by this project\nI don't see any changes in the .travis.yml file in order to force the standard ad the build level\n\nThe result is that the next commit from you or from contributors can be written without rules, and either you have to check them manually (boring and error-prone) or accept the code standard of someone else.\nMoreover, I am a bit sad that you committed a part of this PR without actually discussing and merging this very PR. As a sign of gratitude for a contributor that spent his/her time improving your project, it is appreciated to discuss the topic and to merge the code proposed by him/her, so the contributor can become part of the code through commits authoring.\n\nThere are a few of the examples with the trailing . problem I mentioned remaining\n\n\nphpdoc_summary fixer that adds the point is just one of the hundred fixers enable, we can easily disable this if you don't like it\nAll fixers are well tested, here you can see the phpdoc_summary test: https://github.com/FriendsOfPHP/PHP-CS-Fixer/blob/2.5/tests/Fixer/Phpdoc/PhpdocSummaryFixerTest.php I honestly highly doubt there is a bug in it\n\n\nHere's an example of what it would result in:\n\nThe code that follows this statement, echo 'hi';, is not affected by phpdoc_summary fixer: can you please provide the before and after of the code you consider silly?. > since it needs to pass before committing, the things it's going to check need to be fixed beforehand, so that's what I started on. That way your PR will pass tests before merging, rather than after.\nI'm sorry I didn't explained myself enough. It was never my intention to have the build passing after merging, it should never happen. The build process is there for this very reason: a PR needs to pass before merge. So why I am still leaving the build failing (for now)?\nWhen a project is inspected for the first time by a new coding standard, often a lot of files are marked with changes, and the diff of the commit is very large.\nIf I had to push a PR that simultaneously:\n\nIntroduces a coding standard and inserts it on Travis\nApplies the coding standard\n\nIt would be much harder for you (the maintaner) to inspect the Files changed tab on Github and to understand the changes of the former and the ones of the latter.\nWithout immediately applying the fix:\n\nFiles changed tab on Github consists of a few files, easy to read and discuss\nI can prove Travis build matrix is correctly adapted, because it is shown where it fails and why\n\nSo, when you'll tell me the configuration is ok to you, I'll apply the fix, the build will pass and then, and only then, you will agree whether or not merging the PR\n\nAbout the config:\n\nI agree with your point against the dot fixer; I disabled phpdoc_summary\nRegarding \\SMTP, most active PHP projects right now tend to use FQCN in docs, in this case it should be PHPMailer\\PHPMailer\\SMTP, and so it adds the backslash; this project follows another convention, so I disabled the related php_unit_fqcn_annotation fixer\nStill the build is failing due to phpdoc_align fixer, that align:\n\ndiff\n@@ @@\n      *\n-     * @param string   $host    The hostname to connect to\n-     * @param int|bool $port    The port number to connect to\n-     * @param int|bool $timeout The timeout value\n+     * @param string   $host        The hostname to connect to\n+     * @param int|bool $port        The port number to connect to\n+     * @param int|bool $timeout     The timeout value\n      * @param string   $username\n      * @param string   $password\n      * @param int      $debug_level\nThat I consider valid, so if now the config is ok to you, I'll apply the fix, push a new commit, the PR should pass and you can merge it.\n\ncomposer.lock is removed\nI care a lot that you note the second commit of this PR removes composer.lock. This is because:\n\nWe must check coding standards on the lowest PHP version\nPHP-CS-Fixer supports PHP 5.5 till v2.2\nPHP-CS-Fixer v2.2 can't be installed on later PHP version because of dependencies version resolution conflicts.\n\nThis is not an issue, and instead is good. Composer documentation says Commit Your composer.lock File to Version Control, but the statement only refers to applications, not to libraries.\nIf you commit the composer.lock on PHP 5.5, Travis will always use the locked dependencies to run the build, but on newer PHP versions you may miss new improvements or new changes, and you can't adapt to it as soon as they happen.\nIf you commit the composer.lock, you may end up in the future with a dependency considered unsecure/broke without bugfixes, and you must spend days to adapt to the newer version.\nIf you don't commit it, you catch the eventual forward-compatibility break as soon as they appear.. > Can you explain what the difference is between the php versioning and the matrix approach?\nWithing matrix you can have specific env variable, so we can tell with a variable to do the code-coverage or the php-cs fixing only on one particular version of PHP. This approach:\n\nreduces the build time, because those operations are done once instead of five times\nremoves unnecessary operations: code-coverage can be uploaded on code-quality tools like scrutinizer only once for every commit, and php-cs fixing must be done on the lower version to ensure compatibility, no need to check it on latest\n\n\nThat \\SMTP fix still seems buggy to me\n\nSymfony standards suppose users always use FQCN, and so the fixer adds the root backslash to avoid IDE like PHPStorm doing a mess. As you said, the fixer expects you to write PHPMailer\\PHPMailer\\SMTP so it can add the missing root \\. By the way it's just a convention: this project follows another convention, an that's fine.\n\nI've applied the fix and pushed the commit, if you like it the PR is ready to be merged.. > The diffs that php-cs-fixer produces are a bit broken - after the last difference, they include the whole of the rest of the file. It would also be better if it included line numbers.\nIt does, but in newer versions.\nI have in mind to do the coding standard checks first, before tests, and if they fail no test is executed in the build, so we can save a lot of times, and contributor notices them early. What do you think?\nRebased.. Xdebug is already disable in every build except code-coverage one.. PR is ready to merge, @Synchro may you have a look at it? . Of course you'll see the cache working only on commits after this merge, since the merge build is the first that will create the cache.. @Synchro array() long syntax is here on purpose so you can see how the build fails. ",
    "deebuck": "Thanks for getting back so quick.\nI can see that an additional parameter to doCallback might be generally \nuseful, but it won't be useful at all for smtp_transaction_id unless we \nactually obtain the smtp_transaction_id before the callback. The \nsmtp_transaction_id is not available until after you have done the DATA \ncommand. As it is now, all the callback invocations are already done \nwhen you issue the DATA.\nAs a side benefit of changing the order, it you invoke the callbacks \nafter doing the DATA, you have the option at least of informing the \ncallback that the DATA transmission failed. Granted, right now if the \nDATA command fails you throw an exception, so it is a moot point. But I \nthink a case could be made that (at least conceptually) it is an error \nto inform the callback that a message was sent when the data transfer \nmight still fail.\nAnyway, I am sending you a pull request, and you can have a look. I \nthink when I described it I probably made it sound like a bigger deal \nthan it is.\nI had a devil of a time testing, till I finally realized that the set of \nsmtp_transaction_id_patterns didn't find a match. I am using Amazon \nsimple mail service for this customer, as her site is on an Amazon \ninstance, and so she can get information about bounces and complaints. I \nhad to add an smtp_transaction_id_pattern for Amazon for my tests to \nwork, and so I left it in there. I have no clue why Amazon feels it is \nnecessary to have a different format for the reply to the Data command!\nOn 09/09/2017 02:36 AM, Marcus Bointon wrote:\n\nThis sounds reasonable. |doCallback| does have quite a lot of params \nalready; it might be better to have a single additional param that's \nan assoc array that arbitrary extra data can be added to, so in this \ncase you could supply |['smtp_transaction_id' => $id]| or similar. \nThat would allow for future expansion without having to add yet more \nparams.\nAs for accumulating results, I think that's less generally useful and \nso better suited to a subclass for your particular purpose. I subclass \nPHPMailer myself for things that I want to work differently, but are \nnot generally useful. Actually I think I'd implement what you're doing \nin the subclass in the calling context instead - you know that you're \nsending a batch of messages, so I'd accumulate the callback results \nthere and attach the transaction ID once you receive it with the last one.\nSo, with that in mind, PRs welcome!\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/1150#issuecomment-328263503, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AAcyQ8qZAD5AhunvnldcTvCpMCxKYJoOks5sgk4lgaJpZM4PRcIy.\n\n\n. ",
    "wfajriansyahh": "punyEncode..\nhow with this ? @wildanfajriansyahdomainsketigadankeduabersatukembali.org\n?. ",
    "stutteringp0et": "PHPMailer isn't fault tolerant though.  Sure, it catches errors in send - but without a facility to store the message and retry later, it's up to the system to store the message parts prior to attempting to send them.\nAdditionally, many sites use message queues so sending emails don't take away from the user experience.. Did you miss the \"errors in send\" part?  What if the mail server is offline?\nIt would be nice to retrieve the message and store it.....\nFortunately, that's not difficult to do after reading through the API.\n$header = $mailer->createHeader();\n$body = $mailer->createBody();\n\nOnce those two items are saved, they can be revived for later sending via any of the 3 Send() methods - which all take 2 arguments - $heading and $body.. Who runs a mail server on their web server?. You might consider that people using this class are asking for a feature - and they're asking here, on StackOverflow, and in various forums - it might be something they need for their environment.  I found the question asked in 6 different places.. ",
    "peter279k": "Hi @romseb, I think this is the PHP version problem.\nAccording to the function manual, the UTS#46 has been added since PHP 5.4.You can see the changelog to get more details.\nHowever, you use the PHP 5.3.\nI think the current way is to upgrade your PHP version to 5.4.\nThanks.. BTW, I also found that the PHPMailer 5.2 is not tested completely under the Travis-CI.\nIt usually presents the building error during testing PHPMailer 5.2 with PHP 5.2.. I think the @romseb cannot upgrade the PHP version so changing the source code is necessary.. Yes.If possible, I think he can try to use the PHP 5.4.\nPerhaps it will be fine.. Hi @romseb, did you install the phpmailer 6 via Composer?I think this is the general PHP error.\nYou have to consider this example.\nThanks.\n. I think the @romseb does not add the namespace after including the PHPMailer library files.\nTry to add the use PHPMailer\\PHPMailer\\PHPMailer; and use PHPMailer\\PHPMailer\\Exception; before creating an instance of the PHPMailer class.. BTW, I think changing the @Synchro's manual approach to\nrequire_once __DIR__.'/src/PHPMailer.php';\nrequire_once __DIR__.'/src/SMTP.php';\n.And this approach is proper.. Hi @martinvivian, I have run this PHPMailer OAuth code successfully.\nAnd I notice that your getting refresh token approach is weird....\nI think your approach is not correct.\nPlease consider the get_oauth_token.php file and get the correct refresh token.\nThe get_oauth_token.php file is available here.\nYou can also checkout my completed sample repository.\nThanks.. Hi @martinvivian, I have run this PHPMailer OAuth code successfully.\nAnd I notice that your getting refresh token approach is weird....\nI think your approach is not correct.\nPlease consider the get_oauth_token.php file and get the correct refresh token.\nThe get_oauth_token.php file is available here.\nYou can also checkout my completed sample repository.\nThanks.. Hi, do you use this sample code?\nThe error code 10060 seems that it cannot receive the server respond.\nAnd I remember that you have to make your account low security access via Google account management page.\nPlease see more details about this.\nYou can do this and try your code again.\nPerhaps I will try your sample code at my available time.\nThanks.. Hi, It seems that you're using the Nginx and this is the normal Nginx problem...\nThe status code 504 Gateway timeout happened because the max execution time need to be larger.\nYou can also refer this post to try to solve the problem.\nThanks.. Ok, you may consider the message queue system.\nYou can let mail work add the queue so that you won't let people wait 300 seconds after submitting the order.. Ok, I mean the documentation is like this.\nBut I see it has the wiki in this repository.\nI can provide the example is about connecting the third-party SMTP server.\nFor example, the third-party services is like Mailgun and mailjet.\nThanks.. Hi @Synchro, thank you for your reply.\nI know that. If I want to add the third-party tutorial on the wiki, how can I contribute them?\nJust edit page on this tutorial?\nThanks.\n. ",
    "as4wd": "@Synchro  Thanks for the prompt reply.\nWhat do you suggest to troubleshoot this type of network connectivity issues.  This is a CENTOS 7.3 machine with WHM Cpanel and I have root access.\nBest,\nAslan Ozcakir\n. ",
    "raphaelrosello": "@Synchro \nI'm sending a mail body by including a dynamic php file. \nob_start();\n$base_path = \"/storage/email/{$email}.php\";\ninclude base_path().$base_path;\n$mailBody = ob_get_clean();\n$email  is just static filename string of the receipt passed from another function and I'm quite sure that it would not return empty\nIf it would also help, I'm using Lumen 5.3 and Beanstalkd driver for email queuing. . @Synchro \nI'm sending a mail body by including a dynamic php file. \nob_start();\n$base_path = \"/storage/email/{$email}.php\";\ninclude base_path().$base_path;\n$mailBody = ob_get_clean();\n$email  is just static filename string of the receipt passed from another function and I'm quite sure that it would not return empty\nIf it would also help, I'm using Lumen 5.3 and Beanstalkd driver for email queuing. . ",
    "martinvivian": "Ive been burying deep into this problem. Maybe that will help someone tell me whats happening.\nIt hangs on\nOAuth.php getToken() function.\nwhich calls getAccessToken() from League\\OAuth2\\Client\\Provider\n```\n    public function getAccessToken($grant, array $options = [])\n    {\n        $grant = $this->verifyGrant($grant);\n    $params = [\n        'client_id'     => $this->clientId,\n        'client_secret' => $this->clientSecret,\n        'redirect_uri'  => $this->redirectUri,\n    ];\n    $params   = $grant->prepareRequestParameters($params, $options);\n    $request  = $this->getAccessTokenRequest($params);\n    $response = $this->getParsedResponse($request);\n    $prepared = $this->prepareAccessTokenResponse($response);\n    $token    = $this->createAccessToken($prepared, $grant);\n    return $token;\n}\n\nthat method calls getParsedResponse() which is where things seem to go bad....\npublic function getParsedResponse(RequestInterface $request)\n{\n    try {\n        $response = $this->getResponse($request);\n    } catch (BadResponseException $e) {\n        $response = $e->getResponse();\n    }\n\n    $parsed = $this->parseResponse($response);\n\n    $this->checkResponse($response, $parsed);\n\n    return $parsed;\n}\n\n```\nThe code hangs on   $this->checkResponse($response, $parsed);\nSO I var_dump($parsed)  before that and got this...\narray(1) { [\"error\"]=> string(13) \"invalid_grant\" }\nConsidering that I decided to var_dump($request) and got this\nobject(GuzzleHttp\\Psr7\\Request)#22 (7) { [\"method\":\"GuzzleHttp\\Psr7\\Request\":private]=> string(4) \"POST\" [\"requestTarget\":\"GuzzleHttp\\Psr7\\Request\":private]=> NULL [\"uri\":\"GuzzleHttp\\Psr7\\Request\":private]=> object(GuzzleHttp\\Psr7\\Uri)#23 (7) { [\"scheme\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(5) \"https\" [\"userInfo\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(0) \"\" [\"host\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(19) \"accounts.google.com\" [\"port\":\"GuzzleHttp\\Psr7\\Uri\":private]=> NULL [\"path\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(15) \"/o/oauth2/token\" [\"query\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(0) \"\" [\"fragment\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(0) \"\" } [\"headers\":\"GuzzleHttp\\Psr7\\Request\":private]=> array(2) { [\"Host\"]=> array(1) { [0]=> string(19) \"accounts.google.com\" } [\"content-type\"]=> array(1) { [0]=> string(33) \"application/x-www-form-urlencoded\" } } [\"headerNames\":\"GuzzleHttp\\Psr7\\Request\":private]=> array(2) { [\"content-type\"]=> string(12) \"content-type\" [\"host\"]=> string(4) \"Host\" } [\"protocol\":\"GuzzleHttp\\Psr7\\Request\":private]=> string(3) \"1.1\" [\"stream\":\"GuzzleHttp\\Psr7\\Request\":private]=> object(GuzzleHttp\\Psr7\\Stream)#24 (7) { [\"stream\":\"GuzzleHttp\\Psr7\\Stream\":private]=> resource(51) of type (stream) [\"size\":\"GuzzleHttp\\Psr7\\Stream\":private]=> NULL [\"seekable\":\"GuzzleHttp\\Psr7\\Stream\":private]=> bool(true) [\"readable\":\"GuzzleHttp\\Psr7\\Stream\":private]=> bool(true) [\"writable\":\"GuzzleHttp\\Psr7\\Stream\":private]=> bool(true) [\"uri\":\"GuzzleHttp\\Psr7\\Stream\":private]=> string(10) \"php://temp\" [\"customMetadata\":\"GuzzleHttp\\Psr7\\Stream\":private]=> array(0) { } } }\nI got lost again here, I dont know what is wrong here.... but maybe that helps someone else help me.. Ive been burying deep into this problem. Maybe that will help someone tell me whats happening.\nIt hangs on\nOAuth.php getToken() function.\nwhich calls getAccessToken() from League\\OAuth2\\Client\\Provider\n```\n    public function getAccessToken($grant, array $options = [])\n    {\n        $grant = $this->verifyGrant($grant);\n    $params = [\n        'client_id'     => $this->clientId,\n        'client_secret' => $this->clientSecret,\n        'redirect_uri'  => $this->redirectUri,\n    ];\n    $params   = $grant->prepareRequestParameters($params, $options);\n    $request  = $this->getAccessTokenRequest($params);\n    $response = $this->getParsedResponse($request);\n    $prepared = $this->prepareAccessTokenResponse($response);\n    $token    = $this->createAccessToken($prepared, $grant);\n    return $token;\n}\n\nthat method calls getParsedResponse() which is where things seem to go bad....\npublic function getParsedResponse(RequestInterface $request)\n{\n    try {\n        $response = $this->getResponse($request);\n    } catch (BadResponseException $e) {\n        $response = $e->getResponse();\n    }\n\n    $parsed = $this->parseResponse($response);\n\n    $this->checkResponse($response, $parsed);\n\n    return $parsed;\n}\n\n```\nThe code hangs on   $this->checkResponse($response, $parsed);\nSO I var_dump($parsed)  before that and got this...\narray(1) { [\"error\"]=> string(13) \"invalid_grant\" }\nConsidering that I decided to var_dump($request) and got this\nobject(GuzzleHttp\\Psr7\\Request)#22 (7) { [\"method\":\"GuzzleHttp\\Psr7\\Request\":private]=> string(4) \"POST\" [\"requestTarget\":\"GuzzleHttp\\Psr7\\Request\":private]=> NULL [\"uri\":\"GuzzleHttp\\Psr7\\Request\":private]=> object(GuzzleHttp\\Psr7\\Uri)#23 (7) { [\"scheme\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(5) \"https\" [\"userInfo\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(0) \"\" [\"host\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(19) \"accounts.google.com\" [\"port\":\"GuzzleHttp\\Psr7\\Uri\":private]=> NULL [\"path\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(15) \"/o/oauth2/token\" [\"query\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(0) \"\" [\"fragment\":\"GuzzleHttp\\Psr7\\Uri\":private]=> string(0) \"\" } [\"headers\":\"GuzzleHttp\\Psr7\\Request\":private]=> array(2) { [\"Host\"]=> array(1) { [0]=> string(19) \"accounts.google.com\" } [\"content-type\"]=> array(1) { [0]=> string(33) \"application/x-www-form-urlencoded\" } } [\"headerNames\":\"GuzzleHttp\\Psr7\\Request\":private]=> array(2) { [\"content-type\"]=> string(12) \"content-type\" [\"host\"]=> string(4) \"Host\" } [\"protocol\":\"GuzzleHttp\\Psr7\\Request\":private]=> string(3) \"1.1\" [\"stream\":\"GuzzleHttp\\Psr7\\Request\":private]=> object(GuzzleHttp\\Psr7\\Stream)#24 (7) { [\"stream\":\"GuzzleHttp\\Psr7\\Stream\":private]=> resource(51) of type (stream) [\"size\":\"GuzzleHttp\\Psr7\\Stream\":private]=> NULL [\"seekable\":\"GuzzleHttp\\Psr7\\Stream\":private]=> bool(true) [\"readable\":\"GuzzleHttp\\Psr7\\Stream\":private]=> bool(true) [\"writable\":\"GuzzleHttp\\Psr7\\Stream\":private]=> bool(true) [\"uri\":\"GuzzleHttp\\Psr7\\Stream\":private]=> string(10) \"php://temp\" [\"customMetadata\":\"GuzzleHttp\\Psr7\\Stream\":private]=> array(0) { } } }\nI got lost again here, I dont know what is wrong here.... but maybe that helps someone else help me.. ",
    "kushal4": "ok thanks . ok thanks . I am using it in ubuntu could you please guide me hoe to troubleshoot whether it is blocked or not. I am using it in ubuntu could you please guide me hoe to troubleshoot whether it is blocked or not. include this at the start of your php file since it has to have access to the namespace\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\nuse PHPMailer\\PHPMailer\\SMTP;. include this at the start of your php file since it has to have access to the namespace\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\nuse PHPMailer\\PHPMailer\\SMTP;. ",
    "Portal365": "@Synchro \nwhen I use  yahoo small business with PHP Mailer concept it keeps giving \"SMTP connect() failed\". what can i do? Here is my code...\n```php\n<?php\nsession_start();\nrequire 'class.phpmailer.php';\n$mail = new PHPMailer();\n$mail->IsSMTP();\n$mail->Mailer = 'smtp';\n$mail->SMTPAuth = true;\n$mail->Host = \"smtp.bizmail.yahoo.com\"; \n$mail->Port = 25;\n$mail->SMTPSecure = 'tsl';\n$mail->Username = \"kasthuri_co@yahoo.co.in\";\n$mail->Password = \"SupporT@123\";\n$mail->IsHTML(true); \n$mail->SingleTo = true; \n$mail->From = \"webdeveloper@kasthurigroups.com\";\n$mail->FromName = \"Priya\";\nif(isset($_POST['assign_to'])) \n$_SESSION['assign_to'] = $_POST['assign_to'];\n$current = $_SESSION['assign_to'];\n$mail->addAddress($current);\n$mail->addAddress(\"user.2@gmail.com\",\"User 2\");\n$mail->addCC(\"user.3@ymail.com\",\"User 3\");\n$mail->addBCC(\"user.4@in.com\",\"User 4\");\n$mail->Subject = \"Testing PHPMailer with localhost\";\n$mail->Body = \"Hi,This system is working perfectly.\";\nif(!$mail->Send())\n    echo \"Message was not sent PHPMailer Error: \" . $mail->ErrorInfo;\nelse\n    echo \"Message has been sent\";\n?>\n\n```\n. ",
    "saidfathalla": "this code always gives me error\n```php\n<!DOCTYPE html>\n\n\n\nPHPMailer - GMail SMTP test\n\n\n<?php\n//SMTP needs accurate times, and the PHP time zone MUST be set\n//This should be done in your php.ini, but this is how to do it if you don't have access to that\ndate_default_timezone_set('Etc/UTC');\n//require 'PHPMailerAutoload.php';\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire 'src/Exception.php';\nrequire 'src/PHPMailer.php';\nrequire 'src/SMTP.php';\n//Create a new PHPMailer instance\n$mail = new PHPMailer();\n//Tell PHPMailer to use SMTP\n$mail->isSMTP();\n//Enable SMTP debugging\n// 0 = off (for production use)\n// 1 = client messages\n// 2 = client and server messages\n$mail->SMTPDebug = 2;\n$mail->SMTPAuth = true;\n//S/et the hostname of the mail server\n$mail->Host = 'smtp.mail.yahoo.com';\n//$mail->Host = $smtp_name;\n//Set the SMTP port number - likely to be 25, 465 or 587\n$mail->Port = 587;\n$mail->SMTPSecure = 'tls';\n//Whether to use SMTP authentication\n//Username to use for SMTP authentication\n$mail->Username = \"sx_fathalla@yahoo.com\";\n// $mail->Username = 'bhattacharya.kushal45@yahoo.com';\n//Password to use for SMTP authentication\n$mail->Password = 'xxxxxx';\n//Set who the message is to be sent from\n$mail->setFrom(\"sm_fathalla@yahoo.com\", 'Kus_yahoo');\n//Set an alternative reply-to address\n$mail->addReplyTo('sensennium.kushal4@gmail.com', 'Kus_gmail');\n//Set who the message is to be sent to\n$mail->addAddress('sm.fathalla@gmail.com', 'Kus_bhatt');\n//Set the subject line\n$mail->Subject = 'dddd';\n//Read an HTML message body from an external file, convert referenced images to embedded,\n//convert HTML into a basic plain-text alternative body\n// $mail->msgHTML(file_get_contents('contents.html'), dirname(FILE));\n//Replace the plain text body with one created manually\n// $mail->AltBody = $body;\n//Attach an image file\n$body  = \"hello, world!\";\n$mail->MsgHTML($body);\n// $mail->addAttachment('images/phpmailer_mini.png');\n//send the message, check for errors\nif (!$mail->send()) {\necho 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\necho 'Message sent!';\n}\n?>\n\n\n```\n\n2019-01-30 14:10:43 SERVER -> CLIENT: 220 smtp.mail.yahoo.com ESMTP ready\n2019-01-30 14:10:43 CLIENT -> SERVER: EHLO localhost\n2019-01-30 14:10:43 SERVER -> CLIENT: 250-smtp412.mail.ir2.yahoo.com Hello localhost [131.220.50.107])250-PIPELINING250-ENHANCEDSTATUSCODES250-8BITMIME250-SIZE 41697280250 STARTTLS\n2019-01-30 14:10:43 CLIENT -> SERVER: STARTTLS\n2019-01-30 14:10:43 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nSMTP Error: Could not connect to SMTP host.\n2019-01-30 14:10:43 CLIENT -> SERVER: QUIT\n2019-01-30 14:10:43 SERVER -> CLIENT: \n2019-01-30 14:10:43 SMTP ERROR: QUIT command failed:. ",
    "anshulmahipal": "@kushal4 thanks but it not working i am using this \n<?php\n/**\n * This example shows making an SMTP connection with authentication.\n */\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\nuse PHPMailer\\PHPMailer\\SMTP;\nbut still it throws error b>Fatal error:  Class 'PHPMailer\\PHPMailer' not found in\nwill you please clear it more?\nmy all files are in src folder. @kushal4 thanks but it not working i am using this \n<?php\n/**\n * This example shows making an SMTP connection with authentication.\n */\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\nuse PHPMailer\\PHPMailer\\SMTP;\nbut still it throws error b>Fatal error:  Class 'PHPMailer\\PHPMailer' not found in\nwill you please clear it more?\nmy all files are in src folder. My server smtp work fine with port 80 don't know how to do it with gmail. My server smtp work fine with port 80 don't know how to do it with gmail. ",
    "IsaacSantaella": "i dont have message, in my folder spam . ",
    "ek-thaviti": "When i put below code, it works fine perfectly\nWhat this below code mean?\n$mail->SMTPOptions = array(\n'ssl' => array(\n'verify_peer' => false,\n'verify_peer_name' => false,\n'allow_self_signed' => true\n)\n);. When i put below code, it works fine perfectly\nWhat this below code mean?\n$mail->SMTPOptions = array(\n'ssl' => array(\n'verify_peer' => false,\n'verify_peer_name' => false,\n'allow_self_signed' => true\n)\n);. Thank you so much .... @Synchro . Thank you so much .... @Synchro . ",
    "jai35": "Thank you so much .... @Synchro. Thank you so much .... @Synchro. ",
    "KhanhKid": "@edukondalu123  thank you. It's work for me.. ",
    "darkworks": "ok thanks for updating wiki ... . ",
    "diogojesus95": "hi thanks for the reply, right know we are just trying out some tests so we don't really need a cert over this server (for now)\nI will take a look into the DNS settings of Ydomain.lu thank you. hi thanks for the reply, right know we are just trying out some tests so we don't really need a cert over this server (for now)\nI will take a look into the DNS settings of Ydomain.lu thank you. ",
    "Sebaortiz": "Hi Synchro, I checked this guide, but is not able to make it work. Hi Synchro, I checked this guide, but is not able to make it work. ",
    "R1c2rdo": "I had the same problem using Gmail and I solved it by downloading the cacert.pem certificate from the site https://curl.haxx.se/docs/caextract.html You should write in the php.ini file the  follows: \nextension = php_openssl.dll \nopenssl.cafile = C:\\ xampp\\php\\extras\\ssl\\cacert.pem \nIt must be activated in the GMail account in the label: Access and security the option: Allow less secure apps access: ON\nThis solution is thanks to the matteobin user contribution of stackoverflow. I had the same problem using Gmail and I solved it by downloading the cacert.pem certificate from the site https://curl.haxx.se/docs/caextract.html You should write in the php.ini file the  follows: \nextension = php_openssl.dll \nopenssl.cafile = C:\\ xampp\\php\\extras\\ssl\\cacert.pem \nIt must be activated in the GMail account in the label: Access and security the option: Allow less secure apps access: ON\nThis solution is thanks to the matteobin user contribution of stackoverflow. ",
    "Tibbel": "Hi, the error appears with mail, sendmail and SMTP.. Hi, the error appears with mail, sendmail and SMTP.. Have checked it again, SMTP works. Have checked it again, SMTP works. Thanks, i was a little bit annoyed because with the older version it works great and now after updating PHPMailer DKIM fails.. Thanks, i was a little bit annoyed because with the older version it works great and now after updating PHPMailer DKIM fails.. Hi, no there are no 8bit chars.\ni'm not sure but the downgrading in line 2440 is active and downgrades to 7bit\npublic function createBody()\nLine 2440\n        if ('8bit' == $bodyEncoding and !$this->has8bitChars($this->Body)) {\nBut i think there is no overall 7bit downgrade, because here 8bit is set.\nThe only point where $this->Encoding is assigend is here, but this line isn't executed\nLine 2572\n            default:\n                // Catch case 'plain' and case '', applies to simple text/plain and text/html body content types\n                //Reset the Encoding property in case we changed it for line length reasons\n                echo $this->Encoding = $bodyEncoding;\nhere the overall encoding is set\npublic function getMailMIME()\nline 2360 :\n        if ('7bit' != $this->Encoding) {\n            // RFC 2045 section 6.4 says multipart MIME parts may only use 7bit, 8bit or binary CTE\n            if ($ismultipart) {\n                if ('8bit' == $this->Encoding) {\n                    echo $result .= $this->headerLine('Content-Transfer-Encoding', '8bit');\n                }\n                // The only remaining alternatives are quoted-printable and base64, which are both 7bit compatible\n            } else {\n                $result .= $this->headerLine('Content-Transfer-Encoding', $this->Encoding);\n            }\n        }\nhope that helps\n. Hi, no there are no 8bit chars.\ni'm not sure but the downgrading in line 2440 is active and downgrades to 7bit\npublic function createBody()\nLine 2440\n        if ('8bit' == $bodyEncoding and !$this->has8bitChars($this->Body)) {\nBut i think there is no overall 7bit downgrade, because here 8bit is set.\nThe only point where $this->Encoding is assigend is here, but this line isn't executed\nLine 2572\n            default:\n                // Catch case 'plain' and case '', applies to simple text/plain and text/html body content types\n                //Reset the Encoding property in case we changed it for line length reasons\n                echo $this->Encoding = $bodyEncoding;\nhere the overall encoding is set\npublic function getMailMIME()\nline 2360 :\n        if ('7bit' != $this->Encoding) {\n            // RFC 2045 section 6.4 says multipart MIME parts may only use 7bit, 8bit or binary CTE\n            if ($ismultipart) {\n                if ('8bit' == $this->Encoding) {\n                    echo $result .= $this->headerLine('Content-Transfer-Encoding', '8bit');\n                }\n                // The only remaining alternatives are quoted-printable and base64, which are both 7bit compatible\n            } else {\n                $result .= $this->headerLine('Content-Transfer-Encoding', $this->Encoding);\n            }\n        }\nhope that helps\n. Hi,\nthis workaround solves the problem for me,\nin public function createBody()\nputting:\n        if ($this->sign_key_file) {\n            $body .= $this->getMailMIME() . static::$LE;\n        }\nafter the downgrading and change the encoding\nLine 2470:\n        //If lines are too long, and we're not already using an encoding that will shorten them,\n        //change to quoted-printable transfer encoding for the alt body part only\n        if ('base64' != $altBodyEncoding and static::hasLineLongerThanMax($this->AltBody)) {\n            $altBodyEncoding = 'quoted-printable';\n        }\n    if ( $this->Encoding != $bodyEncoding\n        and $altBodyEncoding == $bodyEncoding\n        and $this->Encoding == '8bit' )\n    {\n        $this->Encoding = $bodyEncoding;\n    }\n\n    if ($this->sign_key_file) {\n        $body .= $this->getMailMIME() . static::$LE;\n    }\n\nI think the best is to get a second internal protected Encoding_intern variable\nwhich can be updated for such cases. Hi,\nthis workaround solves the problem for me,\nin public function createBody()\nputting:\n        if ($this->sign_key_file) {\n            $body .= $this->getMailMIME() . static::$LE;\n        }\nafter the downgrading and change the encoding\nLine 2470:\n        //If lines are too long, and we're not already using an encoding that will shorten them,\n        //change to quoted-printable transfer encoding for the alt body part only\n        if ('base64' != $altBodyEncoding and static::hasLineLongerThanMax($this->AltBody)) {\n            $altBodyEncoding = 'quoted-printable';\n        }\n    if ( $this->Encoding != $bodyEncoding\n        and $altBodyEncoding == $bodyEncoding\n        and $this->Encoding == '8bit' )\n    {\n        $this->Encoding = $bodyEncoding;\n    }\n\n    if ($this->sign_key_file) {\n        $body .= $this->getMailMIME() . static::$LE;\n    }\n\nI think the best is to get a second internal protected Encoding_intern variable\nwhich can be updated for such cases. Sorry forgotten to use\n ./vendor/bin/php-cs-fixer fix\nand have made also a change to the AltBody handling. Sorry forgotten to use\n ./vendor/bin/php-cs-fixer fix\nand have made also a change to the AltBody handling. Yeah, i have just getting the right php-cs-fixer to work, than i create patches. Yeah, i have just getting the right php-cs-fixer to work, than i create patches. Where is the best location to get the right version?. Where is the best location to get the right version?. okay thanks for your fast answer.\nThe solution is using the following for S/MIME signed/encrypted Messages:\n    $mail->CharSet = 'utf-8';\n    $mail->Encoding = 'quoted-printable';\n@DKIM I'm going to just check this\n. okay thanks for your fast answer.\nThe solution is using the following for S/MIME signed/encrypted Messages:\n    $mail->CharSet = 'utf-8';\n    $mail->Encoding = 'quoted-printable';\n@DKIM I'm going to just check this\n. Yes, if the body is changed by the mail server DKIM also failed.\n. Yes, if the body is changed by the mail server DKIM also failed.\n. For me this means using DKIM and/or S/MIME no 8bit encoding could by used,\nbecause of mail servers with 8bit to 7bit downgrading. For me this means using DKIM and/or S/MIME no 8bit encoding could by used,\nbecause of mail servers with 8bit to 7bit downgrading. Just using 7bit encodings for S/MIME and DKIM seems to be the easiest and safest way.\nI think a patch like this prevent others from this pitfall\nif ( dkim== true || smime == true ) {\n    $this->Encoding = 'quoted-printable';\n}\n. Just using 7bit encodings for S/MIME and DKIM seems to be the easiest and safest way.\nI think a patch like this prevent others from this pitfall\nif ( dkim== true || smime == true ) {\n    $this->Encoding = 'quoted-printable';\n}\n. okay at this point '' === $this->AltBody can be replaced with $this->alternativeExists()\nBut the hole thing is that the AltBody is overwritten every time in the old code\nand this case is such a stupid one, where html2text(Body) returns an empty string, it can be reached by setting Body only to Characters which will be replaced by trim.. okay at this point '' === $this->AltBody can be replaced with $this->alternativeExists()\nBut the hole thing is that the AltBody is overwritten every time in the old code\nand this case is such a stupid one, where html2text(Body) returns an empty string, it can be reached by setting Body only to Characters which will be replaced by trim.. okay, i think the problem is my script sets first AltBody and then calls msgHTML.\nBut from my point of view it's better to ignore the order of settings.. okay, i think the problem is my script sets first AltBody and then calls msgHTML.\nBut from my point of view it's better to ignore the order of settings.. ",
    "des4hosting": "Hello Synchro,\nI just downloaded the latest PHPmailer and tried again, same result\n2017-10-09 12:23:54 CLIENT -> SERVER: .\n2017-10-09 12:23:54 SERVER -> CLIENT: 250 Ok: queued as 68qeqHy5BaP4Rw\n2017-10-09 12:23:54 CLIENT -> SERVER: QUIT\n2017-10-09 12:23:54 SERVER -> CLIENT: 221 See you later\n$tid = $mail->getSMTPInstance()->getLastTransactionID();\nvar_dump($tid);\nbool(false)\n$reply = $mail->getSMTPInstance()->getLastReply();\nvar_dump($reply);\nstring(19) \"221 See you later \"\nAny ideas?\nThank you. Hello Synchro,\nI just downloaded the latest PHPmailer and tried again, same result\n2017-10-09 12:23:54 CLIENT -> SERVER: .\n2017-10-09 12:23:54 SERVER -> CLIENT: 250 Ok: queued as 68qeqHy5BaP4Rw\n2017-10-09 12:23:54 CLIENT -> SERVER: QUIT\n2017-10-09 12:23:54 SERVER -> CLIENT: 221 See you later\n$tid = $mail->getSMTPInstance()->getLastTransactionID();\nvar_dump($tid);\nbool(false)\n$reply = $mail->getSMTPInstance()->getLastReply();\nvar_dump($reply);\nstring(19) \"221 See you later \"\nAny ideas?\nThank you. Hello,\nI am not sure what you mean by setting a breakpoint in the data() method?\nCan you please provide an example\nThank you. Hello,\nI am not sure what you mean by setting a breakpoint in the data() method?\nCan you please provide an example\nThank you. Hello,\nThe results are interesting please see below, I can see the queue ID from the var_dump($reply) on line 1287 as you suggested\n2017-10-09 13:17:00 CLIENT -> SERVER: .\n2017-10-09 13:17:00 SERVER -> CLIENT: 250 Ok: queued as 0byqG5-MT2iy1UE1IjAtjA\nbelow is the result of vardump reply \n:string(42) \"250 Ok: queued as 0byqG5-MT2iy1UE1IjAtjA \" \nEnd of vardump\n2017-10-09 13:17:00 CLIENT -> SERVER: QUIT\n2017-10-09 13:17:00 SERVER -> CLIENT: 221 See you later\nAny ideas?\nThank you. Hello,\nThe results are interesting please see below, I can see the queue ID from the var_dump($reply) on line 1287 as you suggested\n2017-10-09 13:17:00 CLIENT -> SERVER: .\n2017-10-09 13:17:00 SERVER -> CLIENT: 250 Ok: queued as 0byqG5-MT2iy1UE1IjAtjA\nbelow is the result of vardump reply \n:string(42) \"250 Ok: queued as 0byqG5-MT2iy1UE1IjAtjA \" \nEnd of vardump\n2017-10-09 13:17:00 CLIENT -> SERVER: QUIT\n2017-10-09 13:17:00 SERVER -> CLIENT: 221 See you later\nAny ideas?\nThank you. Hello,\nYou are amazing! It is working now like a charm thank you, any ideas why it is adding a whitespace at the end of the string though?\n2017-10-09 13:27:21 SERVER -> CLIENT: 250 Ok: queued as hVpD7-26SJSdDOloTZnslg\n2017-10-09 13:27:21 CLIENT -> SERVER: QUIT\n2017-10-09 13:27:21 SERVER -> CLIENT: 221 See you later\nstring(23) \"hVpD7-26SJSdDOloTZnslg \"\nIs this what you are looking for?\n2017-10-09 13:17:00 SERVER -> CLIENT: 220 SG ESMTP service ready at ismtpd0001p1iad1.sendgrid.net\nThank you. Hello,\nYou are amazing! It is working now like a charm thank you, any ideas why it is adding a whitespace at the end of the string though?\n2017-10-09 13:27:21 SERVER -> CLIENT: 250 Ok: queued as hVpD7-26SJSdDOloTZnslg\n2017-10-09 13:27:21 CLIENT -> SERVER: QUIT\n2017-10-09 13:27:21 SERVER -> CLIENT: 221 See you later\nstring(23) \"hVpD7-26SJSdDOloTZnslg \"\nIs this what you are looking for?\n2017-10-09 13:17:00 SERVER -> CLIENT: 220 SG ESMTP service ready at ismtpd0001p1iad1.sendgrid.net\nThank you. Perfect\nThank you Marcus\nGreat effort, all the best. Perfect\nThank you Marcus\nGreat effort, all the best. ",
    "Gnurps": "I should add that the bigger issue is that my production server has the same problem. Running on Windows Server 2012 R2, Composer install and PHPMailer install both ran okay. But my PHP script will not create a new PHPMailer object. The problems mentioned above exist on my Mac testing server.. I should add that the bigger issue is that my production server has the same problem. Running on Windows Server 2012 R2, Composer install and PHPMailer install both ran okay. But my PHP script will not create a new PHPMailer object. The problems mentioned above exist on my Mac testing server.. I fixed the root ownership issue using this command:\n\nsudo chown -R $USER $HOME/.composer\nThen reinstalled PHPMailer with Composer into the project directory and did not get the cache error. But PHPMailer still will not load. Fails when trying to create the object.. I fixed the root ownership issue using this command:\nsudo chown -R $USER $HOME/.composer\nThen reinstalled PHPMailer with Composer into the project directory and did not get the cache error. But PHPMailer still will not load. Fails when trying to create the object.. When I have a \"use\" directive in my code, the page breaks; completely blank. I take it out and the pages loads again.\n\nExcerpts from my code:\n\nrequire './vendor/autoload.php';\n                $mail = new PHPMailer(true);\n            try{  \n                echo \"made new mailer\"; (does not display; nothing happens after that point)\n                $mail->IsSMTP();\n                $mail->SMTPDebug = 2;\n                $mail->Debugoutput = 'html';\n\n            $mail->isHTML(false. I thought the Composer autoload took care of the `use` and class names issues. From the ReadMe.md:\n\n\nAlternatively, if you're not using composer, copy the contents of the PHPMailer folder into one of the include_path directories specified in your PHP configuration and load each class file manually:\n<?php\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\n. I added the two use directives and that made the page work. I now understand the problem. I was copying code successfully used on another site, but that site uses v.5.2 and this newer site uses 6.0, which requires the use directives. So you helped me, Mr. Synchro. Thanks.. \n",
    "MuhammadBilalMughal": "I need phone option in html contact form . Thank you Synchro.. ",
    "hugo-lip": "Ok, I understand that that you have to setup the script for all kind of mail servers, but when I ask tls with authentication and for some reason the tls fails you are always sending the credentials no matter if tls was succeed. am i right or I read you code in a wrong way about the \"if ($this->SMTPAuth)\" of line 1887 outside the  \"if ($tls)\" statement of line 1880 ??\nIf i ask for tls and auth at the same time, you should only try the auth after the tls is established with success, otherwise you are sending my auth in clear.\nThanks very much for your help,\nHugo Gomes. At my mail log I see two \"connect\" so i was looking why do i  have 2 connects at the same time! \nI don't know exactly why, it can be some extra info of my maillog, i don't see any tries of authentication, so i suppose the exception is thrown.\npostfix/smtpd[31618]: connect from myserver[x.x.x.x]\npostfix/smtpd[31618]: SSL_accept error from myserver[x.x.x.x]: 0\npostfix/smtpd[31618]: lost connection after STARTTLS from myserver[x.x.x.x]\npostfix/smtpd[31618]: connect from myserver[x.x.x.x]\npostfix/smtpd[31618]: disconnect from myserver[x.x.x.x]\nMy problem it can something with the certificates probably, i will investigate more my certificates.\nBut thank you very much for your answers.\nRegards. ",
    "januridp": "you're welcome @Synchro . you mean extension_missing ?. of course with pleasure. ",
    "AL3X1": "@Synchro But i am log in via browser and unlock captcha procedure :|. Ahh... But in other users from stackoverflow login and unlock helps :\\ Only me unfortunately guy?. Ahh... But in other users from stackoverflow login and unlock helps :\\ Only me unfortunately guy?. Thanks for the answer :). Thanks for the answer :). # I FIXED IT!\nJust comment isSMTP(); \nNow my code look like this:\n//$mail->isSMTP();\n$mail->SMTPDebug = 2;\n$mail->Host = \"smtp.gmail.com\";\n$mail->SMTPAuth = true;\n// But you can comment from here\n$mail->SMTPSecure = \"tls\";\n$mail->Port = 587;\n$mail->CharSet = \"UTF-8\";\n// To here. 'cause default secure is TLS.\n$mail->setFrom(\"123456@gmail.com\", \"Ololoev\");\n$mail->Username = \"mygmail@gmail.com\";\n$mail->Password = \"**\";\n$mail->Subject = \"\u0422\u0435\u0441\u0442\";\n$mail->msgHTML(\"Test\");\n$mail->addAddress(\"example@gmail.com\", \"Alex\");\nif (!$mail->send()) {\n    $mail->ErrorInfo;\n} else {\n    echo 123;\n}\nIt send the message, but it falls into \"spam\" and write something like \"\nThis email was not sent with the address 123456@gmail.com, report about fishing attack?\" :. # I FIXED IT!\nJust comment isSMTP(); \nNow my code look like this:\n//$mail->isSMTP();\n$mail->SMTPDebug = 2;\n$mail->Host = \"smtp.gmail.com\";\n$mail->SMTPAuth = true;\n// But you can comment from here\n$mail->SMTPSecure = \"tls\";\n$mail->Port = 587;\n$mail->CharSet = \"UTF-8\";\n// To here. 'cause default secure is TLS.\n$mail->setFrom(\"123456@gmail.com\", \"Ololoev\");\n$mail->Username = \"mygmail@gmail.com\";\n$mail->Password = \"**\";\n$mail->Subject = \"\u0422\u0435\u0441\u0442\";\n$mail->msgHTML(\"Test\");\n$mail->addAddress(\"example@gmail.com\", \"Alex\");\nif (!$mail->send()) {\n    $mail->ErrorInfo;\n} else {\n    echo 123;\n}\nIt send the message, but it falls into \"spam\" and write something like \"\nThis email was not sent with the address 123456@gmail.com, report about fishing attack?\" :. ",
    "shrishail-smartlybuilt": "$mail->isSMTP();\nDon't comment this.\nYou just need to enable less secure apps for the Gmail account mentioned in $mail->setFrom to solve this. Go and enable it here https://myaccount.google.com/lesssecureapps. ",
    "shakilkhan12": "email is sent but still display lots of  errors . ",
    "aorborc": "I has the same issue. Like Synchro pointed it out, it's a gmail's security measure to block smtp access from insecure apps (localhost for example). Read more about this at https://support.google.com/accounts/answer/6010255\nI would suggest you use Oauth https://github.com/PHPMailer/PHPMailer/wiki/Using-Gmail-with-XOAUTH2. ",
    "cschivaz": "Thank you so much.. Thank you so much.. ",
    "istiyakaminsanto": "```\n(<?php\n// Import PHPMailer classes into the global namespace\n// These must be at the top of your script, not inside a function\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire \"vendor/autoload.php\";\nif(isset($_POST['name']) && isset($_POST['email']) && isset($_POST['message'])){\n    $name = filter_var($_POST['name'], FILTER_SANITIZE_STRING);\n    $email = $_POST['email'];\n    $message = $_POST['message'];\n$mail = new PHPMailer(true);                          \n$mail->isSMTP();\n$mail->SMTPDebug = 2;\n$mail->Host = 'smtp.gmail.com';\n$mail->Port = 587;\n$mail->SMTPSecure = 'tls';\n$mail->SMTPAuth = true;\n$mail->Username = \"moslemuddin6991@gmail.com\";\n$mail->Password = \"moslem420\";\n$mail->setFrom = $email ;\n$mail->addAddress('istiyakaminsanto@gmail.com', 'Istiyak Amin');\n$mail->isHTML(true);                                  \n$mail->Subject = 'Got one new messege from your website';\n$mail->Body    = '<b>name: </b>' . $name . '<br>' . '<b>Email: </b>' . $email . '<br>' . '<b>Message: </b>' . $message;\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\n$mail->send();\n\nheader('Location: ' . $_SERVER['HTTP_REFERER']);\n\n} \nelse header('location: http://istiyak.xyz/#contact');\n)\n```\n**Invalid address: (From): root@localhost\nFatal error: Uncaught PHPMailer\\PHPMailer\\Exception: Invalid address: (From): root@localhost in /home/worldspo/istiyak.xyz/vendor/phpmailer/phpmailer/src/PHPMailer.php:1428 Stack trace: #0 /home/worldspo/istiyak.xyz/vendor/phpmailer/phpmailer/src/PHPMailer.php(1348): PHPMailer\\PHPMailer\\PHPMailer->preSend() #1 /home/worldspo/istiyak.xyz/sendMail.php(29): PHPMailer\\PHPMailer\\PHPMailer->send() #2 {main} thrown in /home/worldspo/istiyak.xyz/vendor/phpmailer/phpmailer/src/PHPMailer.php on line 1428**. ```\n(<?php\n// Import PHPMailer classes into the global namespace\n// These must be at the top of your script, not inside a function\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire \"vendor/autoload.php\";\nif(isset($_POST['name']) && isset($_POST['email']) && isset($_POST['message'])){\n    $name = filter_var($_POST['name'], FILTER_SANITIZE_STRING);\n    $email = $_POST['email'];\n    $message = $_POST['message'];\n$mail = new PHPMailer(true);                          \n$mail->isSMTP();\n$mail->SMTPDebug = 2;\n$mail->Host = 'smtp.gmail.com';\n$mail->Port = 587;\n$mail->SMTPSecure = 'tls';\n$mail->SMTPAuth = true;\n$mail->Username = \"moslemuddin6991@gmail.com\";\n$mail->Password = \"moslem420\";\n$mail->setFrom = $email ;\n$mail->addAddress('istiyakaminsanto@gmail.com', 'Istiyak Amin');\n$mail->isHTML(true);                                  \n$mail->Subject = 'Got one new messege from your website';\n$mail->Body    = '<b>name: </b>' . $name . '<br>' . '<b>Email: </b>' . $email . '<br>' . '<b>Message: </b>' . $message;\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\n$mail->send();\n\nheader('Location: ' . $_SERVER['HTTP_REFERER']);\n\n} \nelse header('location: http://istiyak.xyz/#contact');\n)\n```\n**Invalid address: (From): root@localhost\nFatal error: Uncaught PHPMailer\\PHPMailer\\Exception: Invalid address: (From): root@localhost in /home/worldspo/istiyak.xyz/vendor/phpmailer/phpmailer/src/PHPMailer.php:1428 Stack trace: #0 /home/worldspo/istiyak.xyz/vendor/phpmailer/phpmailer/src/PHPMailer.php(1348): PHPMailer\\PHPMailer\\PHPMailer->preSend() #1 /home/worldspo/istiyak.xyz/sendMail.php(29): PHPMailer\\PHPMailer\\PHPMailer->send() #2 {main} thrown in /home/worldspo/istiyak.xyz/vendor/phpmailer/phpmailer/src/PHPMailer.php on line 1428**. ",
    "dileepverma107": "Pahele php mailer ki  Error sahi karle bhai\nOn Sat, 22 Dec 2018 16:25 Mugna00 <notifications@github.com wrote:\n\n[image: codicemail]\nhttps://user-images.githubusercontent.com/46057469/50373498-4205cb80-05e0-11e9-9636-07155f46fce6.png\nInvalid address: (From): root@localhost\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1212#issuecomment-449562129,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYpwek0XvwGp74O9wrv3CT3xx-8uCGSIks5u7g-SgaJpZM4QJKCB\n.\n. \n",
    "gregbaggins": "The foul example code is posted at cloudways.com.\nI left them a comment, hope they fix it.. ",
    "pipesportugal": "@Synchro \nI have complained to my Hosting provider (vodahost) and their reply was:\n\nHello,\nI've checked and could not find any issues from our end also we didn't make any changes from our side. It seems the issue with your phpmailer script. Please check with the script from your and let me know if any changes need to be made from our end.\nRegards,\n\n\nThe above is the configuration recommended by vodahost:\n\nAccording to their instructions, I changed the following part of my code accordingly:\n``\n$mail->Host = \"voda4.vodahost4.com\"; // SMTP server  \n$mail->SMTPSecure = 'ssl'; // Enable TLS encryption,ssl` also accepted\n$mail->Port = 465; //587 tls  \n```\nI also tested the ssl and it is loaded. Please check:\nhttp://www.crmpt.com/teste_ssl.php\nThis same email is being used to send emails, without any problem from Microsoft Outlook, so if this was to be a block from vodahost on outbond SMTP, it would not be possible for Outlook to perform that task, right ?\nThanks for your help Mr Bointon,\nRegards\nJose\n. @Synchro \nI have complained to my Hosting provider (vodahost) and their reply was:\n\nHello,\nI've checked and could not find any issues from our end also we didn't make any changes from our side. It seems the issue with your phpmailer script. Please check with the script from your and let me know if any changes need to be made from our end.\nRegards,\n\n\nThe above is the configuration recommended by vodahost:\n\nAccording to their instructions, I changed the following part of my code accordingly:\n``\n$mail->Host = \"voda4.vodahost4.com\"; // SMTP server  \n$mail->SMTPSecure = 'ssl'; // Enable TLS encryption,ssl` also accepted\n$mail->Port = 465; //587 tls  \n```\nI also tested the ssl and it is loaded. Please check:\nhttp://www.crmpt.com/teste_ssl.php\nThis same email is being used to send emails, without any problem from Microsoft Outlook, so if this was to be a block from vodahost on outbond SMTP, it would not be possible for Outlook to perform that task, right ?\nThanks for your help Mr Bointon,\nRegards\nJose\n. @Synchro \nThese emails work perfectly well in Microsoft outlook, but when starting present the following warning:\n\nThe message says:\nThe server to which you are connected is using a security certificate that cannot be verified.\nThe main name of destination is incprrect.\nSee certificate:\n\nIt says that it has been issued to voda4.vodahost4.com\nI don't know which more information I can provide....\nThanks again and again,\nJose\n. @Synchro \nThese emails work perfectly well in Microsoft outlook, but when starting present the following warning:\n\nThe message says:\nThe server to which you are connected is using a security certificate that cannot be verified.\nThe main name of destination is incprrect.\nSee certificate:\n\nIt says that it has been issued to voda4.vodahost4.com\nI don't know which more information I can provide....\nThanks again and again,\nJose\n. @Synchro \nanother thing is:\nI asked them to execute those shell commands but they never really confirmed me weather they did them or not.\ntelnet voda4.vodahost4.com 465\nand\nopenssl s_client -connect voda4.vodahost4.com:465\nI would be happy to provide you my ftp credentials....\njose.jc.almeida(at)hotmail.com\nThanks \nJose\n. @Synchro \nanother thing is:\nI asked them to execute those shell commands but they never really confirmed me weather they did them or not.\ntelnet voda4.vodahost4.com 465\nand\nopenssl s_client -connect voda4.vodahost4.com:465\nI would be happy to provide you my ftp credentials....\njose.jc.almeida(at)hotmail.com\nThanks \nJose\n. @Synchro \nhttp://www.crmpt.com/email_test_send_new.php\n\n2017-10-31 14:19:33 Connection: opening to ssl://voda4.vodahost4.com:465, timeout=300, options=array()\n2017-10-31 14:20:36 Connection failed. Error #2: stream_socket_client(): unable to connect to ssl://voda4.vodahost4.com:465 (Connection timed out) [/home/vnhdpwxq/public_html/phpmailer6/src/SMTP.php line 326]\n2017-10-31 14:20:36 SMTP ERROR: Failed to connect to server: Connection timed out (110)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMessage could not be sent (phpmailer6)\nFrom: 2e@afaturar.com\nTo: ca@mz2e.com\nSecure= ssl\nPort= 465\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n\n\nmany thanks\nJose. @Synchro \nhttp://www.crmpt.com/email_test_send_new.php\n\n2017-10-31 14:19:33 Connection: opening to ssl://voda4.vodahost4.com:465, timeout=300, options=array()\n2017-10-31 14:20:36 Connection failed. Error #2: stream_socket_client(): unable to connect to ssl://voda4.vodahost4.com:465 (Connection timed out) [/home/vnhdpwxq/public_html/phpmailer6/src/SMTP.php line 326]\n2017-10-31 14:20:36 SMTP ERROR: Failed to connect to server: Connection timed out (110)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMessage could not be sent (phpmailer6)\nFrom: 2e@afaturar.com\nTo: ca@mz2e.com\nSecure= ssl\nPort= 465\nMailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n\n\nmany thanks\nJose. Hi Mr Bointon,\nThe below script timed out.\nwww.crmpt.com/test2.phphttp://www.crmpt.com/test2.php\nI appologize in advance for my ignorance, but when you mention the word network, do you mean the wifi network that I am using here in Mozambique ?\nOr the internet network that my provider vodahost is using ?\nBecause in my mind I always imagined that my emails were leaving from my provider's server, therefore having nothing to do with my internet provider here in Mozambique.\nMy scripts are running locally at the Vodahost server in US, I imagine...... right ?\nSorry for my stupid question.\nThanks in advance\nJos\u00e9\n\nDe: Marcus Bointon notifications@github.com\nEnviado: 1 de novembro de 2017 11:51\nPara: PHPMailer/PHPMailer\nCc: pipesportugal; Author\nAssunto: Re: [PHPMailer/PHPMailer] SMTP ERROR: Failed to connect to server: Connection timed out (110) SMTP connect() failed. part#5 (#1221)\nIt's fine that it works for them, but that doesn't tell you anything about whether it works on your server, which is where networking restrictions will apply. Using the mail function means that it's sending via your local mail server (and not using SMTP directly at all), which on a shared hosting service is likely to relay through your ISP's mail servers which are probably exempt from network filters, so that's useless as a diagnostic tool. Here is a simple test script:\nphp\n$fp = fsockopen('ssl://voda4.vodahost4.com', 465, $errno, $errstr, 10);\nif (!$fp) {\n    echo \"$errstr ($errno)\\n\";\n} else {\n    $out = \"QUIT\\r\\n\";\n    fwrite($fp, $out);\n    while (!feof($fp)) {\n        echo fgets($fp, 128);\n    }\n    fclose($fp);\n}\n\n<pYou should get output like this:\n220-voda4.vodahost4.com ESMTP Exim 4.89 #1 Wed, 01 Nov 2017 09:39:31 +0000\n220-We do not authorize the use of this system to transport unsolicited,\n220 and/or bulk e-mail.\n221 voda4.vodahost4.com closing connection\nIf you still get a timeout, you definitely have a network problem that no amount of messing with your scripts can fix.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/1221#issuecomment-341056557, or mute the threadhttps://github.com/notifications/unsubscribe-auth/Afp7PUlSyzxspYiBasVSEba8KQxHSKm7ks5syD8fgaJpZM4QN66g.\n. Hi Mr Bointon,\nThe below script timed out.\nwww.crmpt.com/test2.phphttp://www.crmpt.com/test2.php\nI appologize in advance for my ignorance, but when you mention the word network, do you mean the wifi network that I am using here in Mozambique ?\nOr the internet network that my provider vodahost is using ?\nBecause in my mind I always imagined that my emails were leaving from my provider's server, therefore having nothing to do with my internet provider here in Mozambique.\nMy scripts are running locally at the Vodahost server in US, I imagine...... right ?\nSorry for my stupid question.\nThanks in advance\nJos\u00e9\n\nDe: Marcus Bointon notifications@github.com\nEnviado: 1 de novembro de 2017 11:51\nPara: PHPMailer/PHPMailer\nCc: pipesportugal; Author\nAssunto: Re: [PHPMailer/PHPMailer] SMTP ERROR: Failed to connect to server: Connection timed out (110) SMTP connect() failed. part#5 (#1221)\nIt's fine that it works for them, but that doesn't tell you anything about whether it works on your server, which is where networking restrictions will apply. Using the mail function means that it's sending via your local mail server (and not using SMTP directly at all), which on a shared hosting service is likely to relay through your ISP's mail servers which are probably exempt from network filters, so that's useless as a diagnostic tool. Here is a simple test script:\nphp\n$fp = fsockopen('ssl://voda4.vodahost4.com', 465, $errno, $errstr, 10);\nif (!$fp) {\n    echo \"$errstr ($errno)\\n\";\n} else {\n    $out = \"QUIT\\r\\n\";\n    fwrite($fp, $out);\n    while (!feof($fp)) {\n        echo fgets($fp, 128);\n    }\n    fclose($fp);\n}\n\n<pYou should get output like this:\n220-voda4.vodahost4.com ESMTP Exim 4.89 #1 Wed, 01 Nov 2017 09:39:31 +0000\n220-We do not authorize the use of this system to transport unsolicited,\n220 and/or bulk e-mail.\n221 voda4.vodahost4.com closing connection\nIf you still get a timeout, you definitely have a network problem that no amount of messing with your scripts can fix.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHubhttps://github.com/PHPMailer/PHPMailer/issues/1221#issuecomment-341056557, or mute the threadhttps://github.com/notifications/unsubscribe-auth/Afp7PUlSyzxspYiBasVSEba8KQxHSKm7ks5syD8fgaJpZM4QN66g.\n. @Synchro \nHi Mr Bointon,\nDid as you told me to and there was a different message now.\nhttp://www.crmpt.com/test2.php\nCould I please ask you to have a look at the message ?\nRESULT:\n220 gamma.vodahost.com ESMTP Postfix 221 2.0.0 Bye \nas a side note, I would like to add that I've always used and am using localhost as my server in all phpmailer scripts, which are some tenths all over my routines.\nAlso changed to localhost the server on the.\nAlso changed the variables:\n```\n$emailsecure = \"\";\n$emailport = 25;\n``` \nhttp://www.crmpt.com/email_test_send_new.php\nCould I please ask you to have a look at the message ?\nAny ideas ?\nThank you in advance for all the help.\nRegards\nJose\n. ",
    "bhaveshsrkaycg": "This is my code.\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->SMTPDebug = 2;\n$mail->Debugoutput = 'html';\n$mail->Host = \"mail.domain.com\";\n$mail->Port = 25;\n$mail->SMTPAuth = true;\n$mail->Username = 'marketing@domain.com';\n$mail->Password = \"***********\";\nFollowing is my credentials :\nEmail:marketing@domain.com\nPassword:****\nAccount Type \u2013 \u201cPOP\u201d\nIncoming and Outgoing Mail Server Details \u2013 \u201cmail.domain.com\u201d\nIncoming Server \u2013 \u201c110\u201d\nOutgoing Server \u2013 \u201c25\u201d\nIt gives me following error :\nSMTP ERROR: Failed to connect to server: Connection timed out (110)\nPHP mailer works well with my gmail smtp ssl authenticatoin.\nBut for client email host, it gives error.\nCan you tell me what is the problem ?\n. Thanks for taking interest in my problem.  But my mail server is working well. The mail server I shared here is for the reference. My correct mail server is mail.suprabha.com. ",
    "pgorod": "Thanks for your clarifications. I agree level 3 debugging is more than enough. I am already using a (very simple) injected debug handler to get the debugOutput.\nI started this whole thing following two hard cases I met in real-world scenarios of failing SMTP configurations:\n\nFrom field was different from the Account email address, so the server was rejecting it\nWarning: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages:\nerror:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed\n\nOn both these cases, SuiteCRM wasn't giving any useful information to the admin user trying to configure email accounts. I am now making sure we grab the Exception string and display it, something we weren't doing, but I still find the debug logs tell a more complete story, you can get a better sense of what worked, and what didn't.\nAnyway, I'm not intending to use this for every email that gets sent from the system, that's overkill, I was planning of including this in the Email accounts configuration area, where you can click a Test Sending an email button. I'm seeing too many people getting stuck there when they aren't able to get the configuration right. It's normal for a CRM to have one or more outbound accounts, plus bounce-handling accounts, plus one account per user, plus some group accounts, so it can get complicated.\nPart of these problems were caused by bugs in our new Email Module code, part is because we have many clueless sysadmins using our software, and part is because there are actual complexities in SMTP as servers get more restrictive and things like Certificates configuration come into play.\nI take it the feature suggestion doesn't sound appropriate to you? If so, it's alright for you to close this Issue and I will keep working on it myself. Thanks for your input, it was helpful. . Thanks @Synchro!\nIn numeric terms, the first debug level that includes passwords would be what, 4? . @Synchro I expect this will be coming out as PhpMailer 5.2.27 pretty soon. Do yo have any set date, or a Release Schedule I can check? I would like to synchronize our SuiteCRM release with this, so that I can put in the code to provide detailed logs at the same time that we update the included PhpMailer to have the obfuscated output.. Hhmm ok. I'll have a look at the Upgrade Guide, it looks a bit more challenging for us, but that's the way to the future, I guess. Thanks.. ",
    "peetervois": "Thanks, then something must be stll wrong with the server I suppose. I am in situation where CRAM-MD5 fails but LOGIN succeeds. I will attach here some logs illustrating the CRAM-MD5 fail:\n```\n2: SERVER -> CLIENT: 250-arvuti.localdomain Hello gateway [192.168.2.1], pleased to meet you\n250-ENHANCEDSTATUSCODES\n250-PIPELINING\n250-8BITMIME\n250-SIZE\n250-DSN\n250-AUTH GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN PLAIN\n250-DELIVERBY\n250 HELP\n4: Auth method requested: UNKNOWN\n4: Auth methods available on the server: GSSAPI,DIGEST-MD5,CRAM-MD5,LOGIN,PLAIN\n4: Auth method selected: CRAM-MD5\n1: CLIENT -> SERVER: AUTH CRAM-MD5\n4: SMTP -> get_lines(): $data is \"\"\n4: SMTP -> get_lines(): $str is  \"HASHREMOVED\"\n2: SERVER -> CLIENT: HASHREMOVED\n1: CLIENT -> SERVER: HASHREMOVED\n4: SMTP -> get_lines(): $data is \"\"\n4: SMTP -> get_lines(): $str is  \"535 5.7.0 authentication failed\n\"\n2: SERVER -> CLIENT: 535 5.7.0 authentication failed\n1: SMTP ERROR: Username command failed: 535 5.7.0 authentication failed\n4: SMTP Error: Could not authenticate.\n1: CLIENT -> SERVER: QUIT\n```. ",
    "piernik": "You're right - smtpConnect() works as needed. I don't know why I though i does not authenticate.\nIf I pass wrogn smtp server it does not throws exception but returs false\nThanks for quick response.\n. ",
    "deepak458": "Then what is need to do\nOn Nov 7, 2017 12:53 PM, \"Marcus Bointon\" notifications@github.com wrote:\n\nClosed #1228 https://github.com/PHPMailer/PHPMailer/issues/1228.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1228#event-1329109061, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/Ab5MVgEwcaSCmDBZ9VCTQJzGLvXo7PMSks5s0AWCgaJpZM4QUV1o\n.\n. \n",
    "gorge2004": "For this reason i do the new issue . I test my views and the smtpError and another appear and the user can read it. example sometimes print  : \n\nSMTP Error: Could not connect to SMTP host.\nInvalid address: \n\nbut i want that it doesnt print because when no send i save the information and dont want to show it to users. ",
    "philippschiweck": "You're right, I didn't wait long enough, thank you.\nAfter waiting, the following line is displayed:\nTestPDFtesttest2017-11-10 14:07:06 Connection: opening to smtp.1und1.de:587, timeout=300, options=array()\nand nothing else.\nThe TestPDF is the first echo, the two following \"test\" can be seen in my code above.\nEdit: Is the connection only established when $mail->send(); is called? Commented out only the $mail->send(); line, and it still works\nEdit2: Port 25 worked fine, thank you! Didn't try it, because before I tried using the GMail smtp and tried port 25, which didn't work. With their own server, it's working fine.. ",
    "8i11y": "Hi,\nhere are the settings that will work on 1&1 or ionos:\nHost: smtp.ionos.de\nPort: 25\nEncryption: None or TLS will work\nAuthentication: true. ",
    "Webotvorba": "Yes I have nginx. But wont the sxript be running for long then? When I connect to other smtp from another hosting it is working. I mean I cant have people waiting 300 seconds after they submit order for example. I changed the execution time to 300 and it is working ok. Doesnt take long to proccess script. But I will create some queue system for bulk emails thanks for ideas. Could you send me any reference how I could do that using phpmailer and gmail? I dont quite understand how that could be achieved\n\nEdit: for the record I have postfix isntalled on server\n\nEdit2: but sometimes the application is on shared server and I they wont change the mail server settings so I think I would have to create it. ",
    "jd440": "spf, dkim and dmarc keys is good things but not enough.\nYou can register to  postmaster.google.com that could help to determine you problem.\nBut is oftenly problem of domain/ip reputation\u2026 inbox rates is a large topic.\nBu you can share header of one of your newsletter on the forum to check!!. @Synchro could you devellop \n\nYou may be able to get spam feedback by setting List-Unsubscribe headers containing a mailto URL,\n\nBy setting List-Unsubscribe headers containing a mailto, you will just receive email when receipe will click on gmails' action button \"unsubscribe\" but not any feedback about spam?. Ok. Thanks\nbut how will they send you notification of spam? by postmaster tools?. ",
    "colandchan": "It is $this->last_smtp_transaction_id = $matches[1]; on 6.0.1,\nbut $this->last_smtp_transaction_id = trim($matches[1]); on master. ",
    "adrium": "Oh sorry, I misinterpreted the statement concerning the return-path... Sure, it should not be put in a header and is common to be the same as the ffrom address.\nNevertheless, the sender field should be allowed to be set.. Thanks for your reply. I haven't noticed the method.\n\nThe Sender property in PHPMailer is used to set the address used in the MAIL FROM command\n\nThe naming is quite a bit misleading when there is a public property of the same name.\n\nyou can have a sender header, though it has no functional purpose.\n\nWell, our software sends a lot of mails to users with a lot of different hosts. Sometimes we even end on blacklists. It is important that we carefully set the necessary headers. And though Sender has no functional purpose, it has a semantic meaning. The headers From and Sender are perfectly suited, since the mails are often triggered by a person, but sent by our mail server.\nI assume that mail servers check the Originator Fields of incoming mails for credibility. Therefore, Sender plays a crucial role and it is misleading that it has to be set by a method called addCustomHeader. The name is more associated with X-Something headers.\nAlso, how can I ensure correct encoding of the name-addr and angle-addr parts of the mailbox?\nHence, to get the intended result, both lines are necessary:\nphp\n$phpmailer->Sender = 'noreply@example.com';\n$phpmailer->addCustomHeader('Sender', 'ACME <noreply@example.com>');\nBecause of the description above, PHPMailer::Sender shoud set both, the Sender and the envelope sender. And it should be possible, to set a mailbox (the ABNF rule name). This would not break BC, although there is a new header (iff it does differ from From).\nThere should be another property or method to also override the envelope sender.. Thanks for clearing up some things. I did not know about VERP addressing. It seems my confusion mainly originated from the ambiguous naming of the Sender property. \ud83d\ude48 Thanks for your time to reply!\nOf course, changing the semantics or the name of the Sender property is not a good idea. However, maybe a hint in the documentation would be helpful for novice users of the library...\nI implemented mail sending from our server as described above. Let's see, if the recipient's servers accept the mails.\nThis issue is closed for me.. Thanks for clearing up some things. I did not know about VERP addressing. It seems my confusion mainly originated from the ambiguous naming of the Sender property. \ud83d\ude48 Thanks for your time to reply!\nOf course, changing the semantics or the name of the Sender property is not a good idea. However, maybe a hint in the documentation would be helpful for novice users of the library...\nI implemented mail sending from our server as described above. Let's see, if the recipient's servers accept the mails.\nThis issue is closed for me.. ",
    "sharathsr": "Thank you for reply, this time i changed the code, here is the code\n\nBut am getting \"Message could not be sent.Mailer Error: Could not instantiate mail function.\" like this, please give me the solution to resolve my problem.. Thank you for reply, this time i changed the code, here is the code\n\nBut am getting \"Message could not be sent.Mailer Error: Could not instantiate mail function.\" like this, please give me the solution to resolve my problem.. Yes you are correct , i used older version of PHPMailer but when am using the newer version of PHPMailer, am getting error like this\n\n. Yes you are correct , i used older version of PHPMailer but when am using the newer version of PHPMailer, am getting error like this\n\n. \nThis is code is coded based on the procedures in docs, From this code am facing the errors like this\n\n. \nThis is code is coded based on the procedures in docs, From this code am facing the errors like this\n\n. ",
    "applibs": "I asked them, and as I wrote here they did not received them.. I asked them, and as I wrote here they did not received them.. After debug this line:\n$smtp_transaction_id = $this->smtp->getLastTransactionID();\nI found that my testing email has $smtp_transaction_id = false and at Mailgun log was registered my test email. \nBy me this is not solution.. After debug this line:\n$smtp_transaction_id = $this->smtp->getLastTransactionID();\nI found that my testing email has $smtp_transaction_id = false and at Mailgun log was registered my test email. \nBy me this is not solution.. In this function: protected function recordLastTransactionID()\nI see $reply = \"250 Great success\\r\\n\"\nbut function always return false.\nIn $smtp_transaction_id_patterns is not regex pattern which matches this answer.\nSee https://www.greenend.org.uk/rjk/tech/smtpreplies.html#DATA. In this function: protected function recordLastTransactionID()\nI see $reply = \"250 Great success\\r\\n\"\nbut function always return false.\nIn $smtp_transaction_id_patterns is not regex pattern which matches this answer.\nSee https://www.greenend.org.uk/rjk/tech/smtpreplies.html#DATA. And another thing is access to $smtp_transaction_id. \nThen protected function smtpSend($header, $body) always return true even if $smtp_transaction_id will be with fail code like now when it $smtp_transaction_id is always false. \nLooks like SMTP class not processing smtp result specification codes (mainly 250 -> success, rest codes -> not success). Like SMTP is not torn to the end.. And another thing is access to $smtp_transaction_id. \nThen protected function smtpSend($header, $body) always return true even if $smtp_transaction_id will be with fail code like now when it $smtp_transaction_id is always false. \nLooks like SMTP class not processing smtp result specification codes (mainly 250 -> success, rest codes -> not success). Like SMTP is not torn to the end.. OK, but when Mailgun will not send 250 code then sending is failed. In PHPMailer is not this condition.. OK, but when Mailgun will not send 250 code then sending is failed. In PHPMailer is not this condition.. ",
    "HuddledMasses": "Team, we found a solvation. You can close the issue. thanks! . ",
    "maurohmartinez": "Yes.. dummy account! But thanks anyway.. Yes.. dummy account! But thanks anyway.. ",
    "hasangursoy": "Having same issue with latest WP and WP Mail SMTP. telnet is working fine.. Having same issue with latest WP and WP Mail SMTP. telnet is working fine.. 2017-11-28 08:50:19 Connection: opening to smtp.gmail.com:587, timeout=300, options=array (\n                                      )\n2017-11-28 08:50:19 Connection: opened\n2017-11-28 08:50:19 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP 81sm8636027itl.20 - gsmtp\n2017-11-28 08:50:19 CLIENT -> SERVER: EHLO test.sellercloud.com\n2017-11-28 08:50:19 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [199.189.62.40]\n                                      250-SIZE 35882577\n                                      250-8BITMIME\n                                      250-STARTTLS\n                                      250-ENHANCEDSTATUSCODES\n                                      250-PIPELINING\n                                      250-CHUNKING\n                                      250 SMTPUTF8\n2017-11-28 08:50:19 CLIENT -> SERVER: STARTTLS\n2017-11-28 08:50:19 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\n2017-11-28 08:50:20 SMTP Error: Could not connect to SMTP host.\n2017-11-28 08:50:20 CLIENT -> SERVER: QUIT\n2017-11-28 08:50:20 SERVER -> CLIENT: \u0016\u0001M\f\u0001I\u0017A\u0004J\ufffd\ufffd\u0015\ufffd\ufffd\u000f\u04ea\ufffd~5\ufffd7\ufffd\ufffd\ufffd\ufffd\u0005\ufffdul\ufffd\ufffd\b\ufffd\u0125\ufffd:\u0013\ufffdS&g\ufffdc|\ufffdZ\ufffdIuP\ufffd\ufffd8e\ufffd\ufffd\ufffd\ufffd\u00130\ufffd\ufffdv\ufffd\n                                      l#\ufffd~\u0004\u0001\u0001\u0019m\u0019\"b\ufffd\ufffdV\u9f78\ufffd\ufffd\ufffd\ufffdJ3\ufffd>\ufffd\ufffd\u000ehW\ufffd\ufffd\u0631\ufffd&hq\u0012K\ufffd\ufffd4(\ufffd\u000e\ufffd#\ufffdjIGE\ufffd8\ufffdkg\ufffd\ufffd\ufffd\ufffd\u0004\ufffd\ufffd\ufffd\ufffd\ufffdn7\ufffdm%F?\ufffd\ufffd\ufffd\ufffdG\ufffd\u06a8\u0005\u0016/\n                                      \\\u001cM\u000b\ufffd@>\ufffd\u07d7Y\ufffd\ufffdR\ufffd3\ufffdVR\ufffdV\ufffdjt\ufffdv\u053a\u0368\ufffd\u001b\ufffdQ\ufffd\ufffdU\ufffd\ufffd\ua637\u0007\u007f\ufffd\ufffd\ufffd\ufffd\ufffd!\ufffd4\ufffd\u001e\ufffd%\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u000e\"H\u76b1c*\ufffd\ufffd\u0013\ufffd\ufffd^\ufffd\ufffd\ufffdE\ufffd\u073a)\u000bW\ufffd\u0161Zo\ufffd\ufffdd\u0005\ufffd7\ufffd~!>\ufffdj\ufffd\ufffd~\ufffd\"$\u0005cg>!\ufffd|\u5974\ufffdQ,\ufffd\ufffd\ufffd\ufffdk\ufffd|\ufffd&t\ufffd\ufffd\ufffd\ufffdN\ufffd\u0006k\ufffd\"\ufffd\\\ufffd\ufffd?\ufffdU\ufffd\u0019\ufffd\ufffdM\u0015`;\ufffdvt\ufffd)7\u0016\u0004\u000e\n2017-11-28 08:50:20 SMTP ERROR: QUIT command failed: \u0016\u0001M\f\u0001I\u0017A\u0004J\ufffd\ufffd\u0015\ufffd\ufffd\u000f\u04ea\ufffd~5\ufffd7\ufffd\ufffd\ufffd\ufffd\u0005\ufffdul\ufffd\ufffd\b\ufffd\u0125\ufffd:\u0013\ufffdS&g\ufffdc|\ufffdZ\ufffdIuP\ufffd\ufffd8e\ufffd\ufffd\ufffd\ufffd\u00130\ufffd\ufffdv\ufffd\n                                      l#\ufffd~\u0004\u0001\u0001\u0019m\u0019\"b\ufffd\ufffdV\u9f78\ufffd\ufffd\ufffd\ufffdJ3\ufffd>\ufffd\ufffd\u000ehW\ufffd\ufffd\u0631\ufffd&hq\u0012K\ufffd\ufffd4(\ufffd\u000e\ufffd#\ufffdjIGE\ufffd8\ufffdkg\ufffd\ufffd\ufffd\ufffd\u0004\ufffd\ufffd\ufffd\ufffd\ufffdn7\ufffdm%F?\ufffd\ufffd\ufffd\ufffdG\ufffd\u06a8\u0005\u0016/\n                                      \\\u001cM\u000b\ufffd@>\ufffd\u07d7Y\ufffd\ufffdR\ufffd3\ufffdVR\ufffdV\ufffdjt\ufffdv\u053a\u0368\ufffd\u001b\ufffdQ\ufffd\ufffdU\ufffd\ufffd\ua637\u0007\u007f\ufffd\ufffd\ufffd\ufffd\ufffd!\ufffd4\ufffd\u001e\ufffd%\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u000e\"H\u76b1c*\ufffd\ufffd\u0013\ufffd\ufffd^\ufffd\ufffd\ufffdE\ufffd\u073a)\u000bW\ufffd\u0161Zo\ufffd\ufffdd\u0005\ufffd7\ufffd~!>\ufffdj\ufffd\ufffd~\ufffd\"$\u0005cg>!\ufffd|\u5974\ufffdQ,\ufffd\ufffd\ufffd\ufffdk\ufffd|\ufffd&t\ufffd\ufffd\ufffd\ufffdN\ufffd\u0006k\ufffd\"\ufffd\\\ufffd\ufffd?\ufffdU\ufffd\u0019\ufffd\ufffdM\u0015`;\ufffdvt\ufffd)7\u0016\u0004\u000e\n2017-11-28 08:50:20 Connection: closed\n2017-11-28 08:50:20 SMTP Error: Could not connect to SMTP host.. 2017-11-28 08:50:19 Connection: opening to smtp.gmail.com:587, timeout=300, options=array (\n                                      )\n2017-11-28 08:50:19 Connection: opened\n2017-11-28 08:50:19 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP 81sm8636027itl.20 - gsmtp\n2017-11-28 08:50:19 CLIENT -> SERVER: EHLO test.sellercloud.com\n2017-11-28 08:50:19 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [199.189.62.40]\n                                      250-SIZE 35882577\n                                      250-8BITMIME\n                                      250-STARTTLS\n                                      250-ENHANCEDSTATUSCODES\n                                      250-PIPELINING\n                                      250-CHUNKING\n                                      250 SMTPUTF8\n2017-11-28 08:50:19 CLIENT -> SERVER: STARTTLS\n2017-11-28 08:50:19 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\n2017-11-28 08:50:20 SMTP Error: Could not connect to SMTP host.\n2017-11-28 08:50:20 CLIENT -> SERVER: QUIT\n2017-11-28 08:50:20 SERVER -> CLIENT: \u0016\u0001M\f\u0001I\u0017A\u0004J\ufffd\ufffd\u0015\ufffd\ufffd\u000f\u04ea\ufffd~5\ufffd7\ufffd\ufffd\ufffd\ufffd\u0005\ufffdul\ufffd\ufffd\b\ufffd\u0125\ufffd:\u0013\ufffdS&g\ufffdc|\ufffdZ\ufffdIuP\ufffd\ufffd8e\ufffd\ufffd\ufffd\ufffd\u00130\ufffd\ufffdv\ufffd\n                                      l#\ufffd~\u0004\u0001\u0001\u0019m\u0019\"b\ufffd\ufffdV\u9f78\ufffd\ufffd\ufffd\ufffdJ3\ufffd>\ufffd\ufffd\u000ehW\ufffd\ufffd\u0631\ufffd&hq\u0012K\ufffd\ufffd4(\ufffd\u000e\ufffd#\ufffdjIGE\ufffd8\ufffdkg\ufffd\ufffd\ufffd\ufffd\u0004\ufffd\ufffd\ufffd\ufffd\ufffdn7\ufffdm%F?\ufffd\ufffd\ufffd\ufffdG\ufffd\u06a8\u0005\u0016/\n                                      \\\u001cM\u000b\ufffd@>\ufffd\u07d7Y\ufffd\ufffdR\ufffd3\ufffdVR\ufffdV\ufffdjt\ufffdv\u053a\u0368\ufffd\u001b\ufffdQ\ufffd\ufffdU\ufffd\ufffd\ua637\u0007\u007f\ufffd\ufffd\ufffd\ufffd\ufffd!\ufffd4\ufffd\u001e\ufffd%\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u000e\"H\u76b1c*\ufffd\ufffd\u0013\ufffd\ufffd^\ufffd\ufffd\ufffdE\ufffd\u073a)\u000bW\ufffd\u0161Zo\ufffd\ufffdd\u0005\ufffd7\ufffd~!>\ufffdj\ufffd\ufffd~\ufffd\"$\u0005cg>!\ufffd|\u5974\ufffdQ,\ufffd\ufffd\ufffd\ufffdk\ufffd|\ufffd&t\ufffd\ufffd\ufffd\ufffdN\ufffd\u0006k\ufffd\"\ufffd\\\ufffd\ufffd?\ufffdU\ufffd\u0019\ufffd\ufffdM\u0015`;\ufffdvt\ufffd)7\u0016\u0004\u000e\n2017-11-28 08:50:20 SMTP ERROR: QUIT command failed: \u0016\u0001M\f\u0001I\u0017A\u0004J\ufffd\ufffd\u0015\ufffd\ufffd\u000f\u04ea\ufffd~5\ufffd7\ufffd\ufffd\ufffd\ufffd\u0005\ufffdul\ufffd\ufffd\b\ufffd\u0125\ufffd:\u0013\ufffdS&g\ufffdc|\ufffdZ\ufffdIuP\ufffd\ufffd8e\ufffd\ufffd\ufffd\ufffd\u00130\ufffd\ufffdv\ufffd\n                                      l#\ufffd~\u0004\u0001\u0001\u0019m\u0019\"b\ufffd\ufffdV\u9f78\ufffd\ufffd\ufffd\ufffdJ3\ufffd>\ufffd\ufffd\u000ehW\ufffd\ufffd\u0631\ufffd&hq\u0012K\ufffd\ufffd4(\ufffd\u000e\ufffd#\ufffdjIGE\ufffd8\ufffdkg\ufffd\ufffd\ufffd\ufffd\u0004\ufffd\ufffd\ufffd\ufffd\ufffdn7\ufffdm%F?\ufffd\ufffd\ufffd\ufffdG\ufffd\u06a8\u0005\u0016/\n                                      \\\u001cM\u000b\ufffd@>\ufffd\u07d7Y\ufffd\ufffdR\ufffd3\ufffdVR\ufffdV\ufffdjt\ufffdv\u053a\u0368\ufffd\u001b\ufffdQ\ufffd\ufffdU\ufffd\ufffd\ua637\u0007\u007f\ufffd\ufffd\ufffd\ufffd\ufffd!\ufffd4\ufffd\u001e\ufffd%\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u000e\"H\u76b1c*\ufffd\ufffd\u0013\ufffd\ufffd^\ufffd\ufffd\ufffdE\ufffd\u073a)\u000bW\ufffd\u0161Zo\ufffd\ufffdd\u0005\ufffd7\ufffd~!>\ufffdj\ufffd\ufffd~\ufffd\"$\u0005cg>!\ufffd|\u5974\ufffdQ,\ufffd\ufffd\ufffd\ufffdk\ufffd|\ufffd&t\ufffd\ufffd\ufffd\ufffdN\ufffd\u0006k\ufffd\"\ufffd\\\ufffd\ufffd?\ufffdU\ufffd\u0019\ufffd\ufffdM\u0015`;\ufffdvt\ufffd)7\u0016\u0004\u000e\n2017-11-28 08:50:20 Connection: closed\n2017-11-28 08:50:20 SMTP Error: Could not connect to SMTP host.. Oh, sorry. Just saw the smtp connect failed and gmail part :). Is this line showing the resolved IP for smtp.gmail.com or the IP from which connection is made?\nsmtp.gmail.com at your service, [199.189.62.40]. Oh, sorry. Just saw the smtp connect failed and gmail part :). Is this line showing the resolved IP for smtp.gmail.com or the IP from which connection is made?\nsmtp.gmail.com at your service, [199.189.62.40]. So it is showing the IP which smtp.gmail.com should resolve, and it is wrong. It seems it is DNS failure. But the weird thing is on same windows server asp.net is working fine with smtp.gmail.com and successfully sending emails. It also fails on my local Windows machine, same problem, wrong IP resolution.\nWhen I check with echo(gethostbyname(\"smtp.gmail.com\")); it shows IP that belongs to google (74.125.124.109). But I don't know where I should gethostbyname so phpmailer uses it instead.. So it is showing the IP which smtp.gmail.com should resolve, and it is wrong. It seems it is DNS failure. But the weird thing is on same windows server asp.net is working fine with smtp.gmail.com and successfully sending emails. It also fails on my local Windows machine, same problem, wrong IP resolution.\nWhen I check with echo(gethostbyname(\"smtp.gmail.com\")); it shows IP that belongs to google (74.125.124.109). But I don't know where I should gethostbyname so phpmailer uses it instead.. Sorry, and thank you. This solved my issue :) https://stackoverflow.com/a/28759959/259881. ",
    "douglasg14b": "Same issue here.\nThe above \"fix\" is pretty horrible. You're just ignoring potentially forged certs instead of ensuring whoever you're connecting to has a valid one.. ",
    "mananth310": "how to solve the following error\n2019-03-08 10:07:45 Connection: opening to smtp.gmail.com:465, timeout=300, options=array ()\n2019-03-08 10:07:46 Connection failed. Error #2: stream_socket_client(): unable to connect to smtp.gmail.com:465 (Network is unreachable) [/home/vcewacin/public_html/faculty1/phpmailer/class.smtp.php line 299]\n. how to solve the following error\n2019-03-08 10:07:45 Connection: opening to smtp.gmail.com:465, timeout=300, options=array ()\n2019-03-08 10:07:46 Connection failed. Error #2: stream_socket_client(): unable to connect to smtp.gmail.com:465 (Network is unreachable) [/home/vcewacin/public_html/faculty1/phpmailer/class.smtp.php line 299]\n. ",
    "valentinoPereira": "need a solution for this problem.. Im stuck on this too. ",
    "LingaTigeen": "It is with the office365 mail. Check on the admin side whether the user has the rights to access with the email clients. Try to connect with email clients like Thunderbird first and if it doesn't work,  it should be a problem with the email configuration. Contact the email administrator to provide all the options.. ",
    "K4bl0-Skat3R": "great!. ",
    "AFwcxx": "Side note,\nI did a ping via PHP in that server with:\n$host = 'smtp.gmail.com'; \n$port = 465; \n$waitTimeoutInSeconds = 1; \nif($fp = fsockopen($host,$port,$errCode,$errStr,$waitTimeoutInSeconds)){ \n   die('it works');\n} else {\n   die('nope');\n} \nfclose($fp);\nAnd \"it works\"..\nIf I ping from CMD:\n\nping smtp.gmail.com\n\nPinging gmail-smtp-msa.l.google.com [74.125.24.108] with 32 bytes of data:\nReply from 74.125.24.108: bytes=32 time=2ms TTL=48\nReply from 74.125.24.108: bytes=32 time=2ms TTL=48\nReply from 74.125.24.108: bytes=32 time=2ms TTL=48\nReply from 74.125.24.108: bytes=32 time=2ms TTL=48\nAs for SSL:\ndie (extension_loaded('openssl')?'SSL loaded':'SSL not loaded').\"\\n\";\nOUTPUT: \"SSL loaded\". Sure did sir,\nI did the openssl test as stated in my second reply above as well.\nWith SMTPDebug=3, I get as follow:\n2017-12-05 07:19:55 Connection: opening to ssl://smtp.gmail.com:465, t=10, opt=array ( ) 2017-12-05 07:19:55 SMTP ERROR: Failed to connect to server: (0) 2017-12-05 07:19:55 SMTP connect() failed. \nAnd yes, I've gone through your troubleshooting document as well..\nI did however tried this tool:\nhttps://www.yougetsignal.com/tools/open-ports/\nand found out that the port 465 is closed.\nI've \"allow\" the port in the inbound and outbound rule in the firewall setting.\nStill get the same result.\nAny idea?. Is there another way to test this?\nI can't install the openssl in the windows server. Yeah. I got an empty blank screen. It means the connection is made right?\nThe header says \"Telnet smtp.gmail.com\". Ok. I got the telnet to connect to the smtp.gmail.com 456\nConnected to gmail-smtp-msa.l.google.com\nhmm... I got this for the tls\n2017-12-05 08:52:21 Connection: opening to smtp.gmail.com:587, t=10, opt=array ( ) 2017-12-05 08:52:21 SMTP ERROR: Failed to connect to server: An attempt was made to access a socket in a way forbidden by its access permissions. (10013) 2017-12-05 08:52:21 SMTP connect() failed. . I've disabled the firewall and disabled the anti-virus.\nStill same result.. I got something back:\n2017-12-05 09:11:06 Connection: opening to smtp.gmail.com:587, t=10, opt=array ( ) 2017-12-05 09:11:06 Connection: opened 2017-12-05 09:11:06 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP 77sm28486357pfh.43 - gsmtp 2017-12-05 09:11:06 CLIENT -> SERVER: EHLO my_site.com 2017-12-05 09:11:06 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [161.202.188.20] 250-SIZE 35882577 250-8BITMIME 250-STARTTLS 250-ENHANCEDSTATUSCODES 250-PIPELINING 250-CHUNKING 250 SMTPUTF8 2017-12-05 09:11:06 CLIENT -> SERVER: STARTTLS 2017-12-05 09:11:07 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nWarning: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed in C:\\xampp\\htdocs\\path_to_file on line 299\n2017-12-05 09:11:07 CLIENT -> SERVER: QUIT 2017-12-05 09:11:07 SERVER -> CLIENT: \u0016\u0001\u0001K\f\u0001G\u0017A\u0004\ufffdr+\ufffd\u0007\u0019\ufffd\"9\u001c\ufffd\ufffdZ\ufffdYr\u02ff\ufffd!\ufffd\ufffd\ufffdra\ufffd\u001f\ufffdC\u0013\ufffd\u001cZ\ufffd\u001f\ufffd\ufffdKK\ufffd\ufffd\ufffd\ufffd/b\ufffd\u0004\ufffd\u01c75!\ufffd\ufffd\ufffds\ufffd\ufffd \u0001\ufffd\u001af\ufffd\ufffd~\ufffds\ufffd\ufffd \\\ufffd~l}\ufffds\u0019\ufffd\ufffd\u001b\ufffd@\u010a\ufffd\ufffd=$\u0015\ufffd\ufffdT\ufffd\ufffd5\ufffd\ufffd\ufffd\ufffd\ufffd\u0017\ufffda\ufffd\ufffd<\ufffd\ufffd\ufffd\u001dW\ufffd\u0005\u0013\u001a\u000et\ufffd5x-M_\ufffd\ufffd\ufffd\u0466?hT\u07f4I+\ufffd\ufffd\ufffd \ufffd\ufffdF\ufffd\ufffd8\u0001\ufffd\ufffd\ufffdyE\u0018%\u0016\ufffds\ufffdl>\ufffd\ufffdn\ufffd\ufffd\bj\ufffd\ufffdj[\ufffd\ufffd\ufffddu>!\ufffd\ufffd\ufffd\ufffd[t\ufffd \u046d\u0683\u0001v\u0004\u0013@\ufffd\ufffd\ufffd\u02ef\ufffd>0\ufffdU]_\ufffd\ufffd\ufffd\ufffd(\ufffdt!\ufffdN^\ufffd\ufffd\u0001\ufffd\ufffd\u001c\u06c5\ufffd~^\ufffd\ufffd\u001d\ufffd\ufffd\ufffd{\ufffdw_x\ufffd\ufffd\ufffdh\ufffd'\ufffd\ufffd\ufffdRz\u0001\ufffd\u0016\u001f\ufffd\u0001&\ufffd\ufffdP\ufffdh\ufffd\ufffd?]\u0012\ufffd\u0634\ufffd\u037a6\u0004\ufffd\ufffd6K\ufffd\ufffd+\ufffd,B\ufffdQ\ufffdv\ufffdj\ufffd/\ufffd\u02c5\ufffd\u001fsB$\ufffd\u0012\ufffdk\u0016\u0001\u0004\u000e 2017-12-05 09:11:07 SMTP ERROR: QUIT command failed: \u0016\u0001\u0001K\f\u0001G\u0017A\u0004\ufffdr+\ufffd\u0007\u0019\ufffd\"9\u001c\ufffd\ufffdZ\ufffdYr\u02ff\ufffd!\ufffd\ufffd\ufffdra\ufffd\u001f\ufffdC\u0013\ufffd\u001cZ\ufffd\u001f\ufffd\ufffdKK\ufffd\ufffd\ufffd\ufffd/b\ufffd\u0004\ufffd\u01c75!\ufffd\ufffd\ufffds\ufffd\ufffd \u0001\ufffd\u001af\ufffd\ufffd~\ufffds\ufffd\ufffd \\\ufffd~l}\ufffds\u0019\ufffd\ufffd\u001b\ufffd@\u010a\ufffd\ufffd=$\u0015\ufffd\ufffdT\ufffd\ufffd5\ufffd\ufffd\ufffd\ufffd\ufffd\u0017\ufffda\ufffd\ufffd<\ufffd\ufffd\ufffd\u001dW\ufffd\u0005\u0013\u001a\u000et\ufffd5x-M_\ufffd\ufffd_\ufffd\u0466?hT\u07f4I+\ufffd\ufffd\ufffd \ufffd\ufffdF\ufffd\ufffd8\u0001\ufffd\ufffd\ufffdyE\u0018%\u0016\ufffds\ufffdl>\ufffd\ufffdn\ufffd\ufffd\bj\ufffd\ufffdj[\ufffd\ufffd\ufffddu>!\ufffd\ufffd\ufffd\ufffd[t\ufffd \u046d\u0683\u0001v\u0004\u0013@\ufffd\ufffd\ufffd\u02ef\ufffd>0\ufffdU]\ufffd\ufffd\ufffd\ufffd(\ufffdt!\ufffdN^\ufffd\ufffd\u0001\ufffd\ufffd\u001c\u06c5\ufffd~^\ufffd\ufffd\u001d\ufffd\ufffd\ufffd{\ufffdw_x\ufffd\ufffd\ufffdh\ufffd'\ufffd\ufffd\ufffdRz\u0001\ufffd\u0016\u001f\ufffd\u0001&\ufffd\ufffdP\ufffdh\ufffd\ufffd?]\u0012\ufffd\u0634\ufffd\u037a6\u0004\ufffd\ufffd6K\ufffd\ufffd+\ufffd,B\ufffdQ\ufffdv\ufffdj\ufffd/\ufffd\u02c5\ufffd\u001fsB$\ufffd\u0012\ufffdk\u0016\u0001\u0004\u000e 2017-12-05 09:11:07 Connection: closed 2017-12-05 09:11:07 SMTP connect() failed. . I used this from the guide:\n$mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\nI set\n$mail->SMTPSecure = \"tls\"; \n$mail->Port       = 587;\nafter that\n$mail->SMTPSecure = \"ssl\";\n$mail->Port       = 465;\nBoth doesn't work.\nI've checked my SSL certificate via https://www.digicert.com/help/ and it's all good. \"CA certificates file is out of date\"\nIs that the SSLCertificateChainFile ?\nThe SSL certificates are valid till 07 Oct 2020 though.\nIs there something I'm missing?. mate. thanks very much.\nThis part here saved my day\n\"You can also override PHP's CA certificate list and provide your own (often downloaded from cURL) which you can point at from the openssl.cafile directive in your php.ini.\"\nyou are my hero. ",
    "prafullwizorbit": "ok thanks i am contacting my hosting provider. ",
    "nuubguy": "yeah i already changed it to port 465 and used ssl it still didn't work\ni got the same problem Failed to connect to server: (0). `<?php \nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\SMTP;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire 'PHPMailer-master/src/PHPMailer.php';\nrequire 'PHPMailer-master/src/SMTP.php';\nrequire 'PHPMailer-master/src/Exception.php';\n$mail = new PHPMailer(true);                              // Passing true enables exceptions\ntry {\n    //Server settings\n    $mail->SMTPDebug = 2;                                 // Enable verbose debug output\n    $mail->isSMTP();                                      // Set mailer to use SMTP\n    $mail->Host = 'smtp.gmail.com';  // Specify main and backup SMTP servers\n    $mail->SMTPAuth = true;                               // Enable SMTP authentication\n    $mail->Username = 'secret1@gmail.com';                 // SMTP username\n    $mail->Password = 'secret1';                           // SMTP password\n    $mail->SMTPSecure = 'ssl';                            // Enable TLS encryption, ssl also accepted\n    $mail->Port = 465;                                    // TCP port to connect to\n//Recipients\n$mail->setFrom('secret1@gmail.com', 'Mailer');\n$mail->addAddress('secret1@gmail.com', 'John');     // Add a recipient\n// $mail->addAddress('ellen@example.com');               // Name is optional\n// $mail->addReplyTo('info@example.com', 'Information');\n// $mail->addCC('cc@example.com');\n// $mail->addBCC('bcc@example.com');\n\n//Attachments\n// $mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n// $mail->addAttachment('/tmp/image.jpg', 'new.jpg');    // Optional name\n\n//Content\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'hello';\n$mail->Body    = 'dasdasd';\n$mail->AltBody = 'dasdasd';\n\n$mail->send();\necho 'Message has been sent';\n\n} catch (Exception $e) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n}\n ?>`\n*debug output\n2017-12-05 13:16:57 SMTP ERROR: Failed to connect to server: (0)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMessage could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. ",
    "ImpoZ": "I received the same error, but PHPmailer WAS working while on a site (Unix back-end) hosted from a the SAME provider as the Mail server (let's call it provider A). Once i switched the site hosting from provider A to GoDaddy, while keeping the my mail server, unaffected, with Provider A), I began receiving this exact error (below). And my friend was hammering my \"send request\" component on my site (running this PHPMailer) HOURS before i switched my site hosting from Provider A to GoDaddy.\nrunning PHPMailer 5.2.15\nMessage could not be sent.Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. ",
    "rbenitezpagan": "I have the same problem.\nLatest code...\n2018-02-22 18:01:53 SMTP ERROR: Failed to connect to server: (0)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMessage could not be sent. Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting \nThat update completely broke my webapp. ",
    "jonathan-dc": "Thank you very much and sorry for this waste of unnecessary time. When I have time I will try to create a new wiki page ;). ",
    "larsmw": "Thanks, I will try that again.. ",
    "frknasir": "Hello,\nCan you post your code too?....so as to help us understand where the problem is.. ",
    "laijusv": "Hi, \nSorry for the trouble, I am not a technical person hence can you tell me form where I should copy the code.\n. Thank you Synchro for your support, I would finally resolve the issue with the support of the godaddy technical support team. Thanks again. . ",
    "dknacht": "Hi!\nThanks for your answer!.\nYes! that makes a lot of sense, it's better to complete the documentation before translate it.\nMore than time, what difficults me on making new documentation is the knowledge about the project that I must have before starting, but yeah!, I'll get on it. Its going to take quite longer while I explore and understand all well enough to start, but I will.\nIf you want, give me a list of the features you know or suspect that require update or that are undocumented and I am going to check them in that order. By now I will start with the Gmail OauthX2 that you mentioned. \n(P.S. I think it's a good idea to have somewhere to post the state of the documentation, I mean, some TO-DO documentation list, that contains all pending things. For example: X needs documentation, Y needs update, Z needs review etc.)\nThanks again and best regards.\nDknacht.. Hi!\nThanks for your answer!.\nYes! that makes a lot of sense, it's better to complete the documentation before translate it.\nMore than time, what difficults me on making new documentation is the knowledge about the project that I must have before starting, but yeah!, I'll get on it. Its going to take quite longer while I explore and understand all well enough to start, but I will.\nIf you want, give me a list of the features you know or suspect that require update or that are undocumented and I am going to check them in that order. By now I will start with the Gmail OauthX2 that you mentioned. \n(P.S. I think it's a good idea to have somewhere to post the state of the documentation, I mean, some TO-DO documentation list, that contains all pending things. For example: X needs documentation, Y needs update, Z needs review etc.)\nThanks again and best regards.\nDknacht.. Hi!\nI was checking the OAUTH X2 documentation and it seems that the current process is up and working.\nThe missing part would be add documentation for the other servers that are supported but don't have a doc related (like Yahoo and Microsoft).\nShould I create a new document for each server?. @Synchro , Do you remember that we had a doubt in how we were going to put the documentation in other languages in order to keep it organized?\nHave you thought any ideas on it? I don't see if the wiki supports even folders.\nP.S. about the topic of this threat, I am working on it. I just got a new work and now I have less time. Sorry for not showing any news :S.. Yes but, even if there are only 5 files, having 4 languages (let's say Spanish, English, Chinese and another one) adds up to 20 files. And as you can't group them maybe end up in a disorganized wiki. \nI've got two ideas:\n1. Use the docs folder to keep the other languages docs or\n2. Keep them in the same file in sections \nI'd go for the first one. But if you believe that it's ok to put all in the wiki if you want I upload the translation that I've made to Spanish and see how it goes.\n. Hi @Synchro !,\nI posted in the GitHub forum to see if someone could help us with this.\nThey gave me a great idea. \nI will test it and then implement it here.\nhttps://github.community/t5/How-to-use-Git-and-GitHub/Folders-or-grouping-pages-in-GitHub-Wikis/m-p/7784\nBest regards. Hi!\nThanks so much for your review.\nI will make the corrections you mentioned and by the way I realized there is a couple of extra changes that I can make (Correct a little mistake in Spanish translation, complete the Swedish translation (I don't speak Swedish but my English teacher does)).\nI don't manage really well git hub; I thought that I could make a pull request for new changes but it seems like it pulls again all the files so I will close this, make all the changes and make a new PR. \n. Hi,\nI don't know if I understood you correctly.\nDid you send an email and that email displayed well in Gmail web but didn't in the Android Gmail app?\nIf this is the case, I thing this is more related to the content of the mail body.\nIf this is what you meant or not could you add an image of how your problem looks like? and maybe some related code? (please remove any sensibly information before post here)\nI also speak Spanish if it's easier for you!. ",
    "razorshaleh": "problem solved,i not setting sertificate in apache xampp.thank for you code. problem solved,i not setting sertificate in apache xampp.thank for you code. ",
    "Checoportela91": "How are you\nI apologize where to configure the CA for PHPMailer and that I have the same problem, could you please indicate me.. How are you\nI apologize where to configure the CA for PHPMailer and that I have the same problem, could you please indicate me.. Thank you.\nCan you tell me where I can get the Gmail Certificate and in Xampp where it should be inserted? please. Thank you.\nCan you tell me where I can get the Gmail Certificate and in Xampp where it should be inserted? please. ",
    "arkisoul": "@Synchro So, I can completely rule out the second case. In the first case, I crosschecked with my client couple of times and the user id and password I am using are correct. I used the latest version of PHPmailer too, it did not produce any debug output from my production server, though my local server product the same error in debug output. I wasn't using the certificate suppression until now, but my client asked to use mail.asmakanengineering.com server for SMTP connect which is internally redirecting to mail.almaskanserver.com. More so, they don't have SSL certificate. So, though it would help by suppressing certificates.. I understand that. It was working a few months ago then stopped working all of a sudden which made me curious. So, I thought of getting your help in this matter. I will check with my server admin to get better clarity about what's going wrong in authenticating.\nThank you so much for looking into this matter. Much appreciated. :). ",
    "veer2041": "require 'vendor/autoload.php'; not found. require 'vendor/autoload.php'; not found. ",
    "themichaelhall": "Thank you for your quick reply! \nYes, i also thought that my suggested changes might break something else. It was just a quick fix to get things to work, since im currently at work ;-)\nThe changes you suggested almost works.\nWhen I replaced the DKIM_BodyC()  method, the Body Hash was calculated correctly, and when i inserted the line in DKIM_HeaderC(), the DKIM signature was also calculated correctly for my test case.\nHowever, I noted that it still didn't work in production, and found out that there is still an issue with mail bodys spanning multiple lines.\nphp\n$phpMailer->Body=\"Foo\"; // Works\n$phpMailer->Body=\"Foo\\n\"; // Works\n$phpMailer->Body=\"Foo\\r\\n\"; // Works\n$phpMailer->Body=\"Foo\\nBar\"; // Does not work. bh=nYa6o+c426ViHFkcrCRe+s5D6ueRU7/z7WukgfI+al0=; Expected-Body-Hash: CDXPSDzbf5uNTLgxBw7eMdFtO1tRewuVEB6f1z8sIGI=\n$phpMailer->Body=\"Foo\\r\\nBar\"; // Does not work. bh=nYa6o+c426ViHFkcrCRe+s5D6ueRU7/z7WukgfI+al0=; Expected-Body-Hash: CDXPSDzbf5uNTLgxBw7eMdFtO1tRewuVEB6f1z8sIGI=\nTested on http://www.appmaildev.com/en/dkim\nI guess AltBody also is affected. I have not tested this yet.\n. Thank you for your quick reply! \nYes, i also thought that my suggested changes might break something else. It was just a quick fix to get things to work, since im currently at work ;-)\nThe changes you suggested almost works.\nWhen I replaced the DKIM_BodyC()  method, the Body Hash was calculated correctly, and when i inserted the line in DKIM_HeaderC(), the DKIM signature was also calculated correctly for my test case.\nHowever, I noted that it still didn't work in production, and found out that there is still an issue with mail bodys spanning multiple lines.\nphp\n$phpMailer->Body=\"Foo\"; // Works\n$phpMailer->Body=\"Foo\\n\"; // Works\n$phpMailer->Body=\"Foo\\r\\n\"; // Works\n$phpMailer->Body=\"Foo\\nBar\"; // Does not work. bh=nYa6o+c426ViHFkcrCRe+s5D6ueRU7/z7WukgfI+al0=; Expected-Body-Hash: CDXPSDzbf5uNTLgxBw7eMdFtO1tRewuVEB6f1z8sIGI=\n$phpMailer->Body=\"Foo\\r\\nBar\"; // Does not work. bh=nYa6o+c426ViHFkcrCRe+s5D6ueRU7/z7WukgfI+al0=; Expected-Body-Hash: CDXPSDzbf5uNTLgxBw7eMdFtO1tRewuVEB6f1z8sIGI=\nTested on http://www.appmaildev.com/en/dkim\nI guess AltBody also is affected. I have not tested this yet.\n. nYa6o+c426ViHFkcrCRe+s5D6ueRU7/z7WukgfI+al0=; seems to be the body hash of \"Foo\\nBar\\r\\n\". nYa6o+c426ViHFkcrCRe+s5D6ueRU7/z7WukgfI+al0=; seems to be the body hash of \"Foo\\nBar\\r\\n\". If i make the following change in normalizeBreaks() method, everything works:\nphp\n// Now convert LE as needed\nif (\"\\n\" !== $breaktype) { // Changed from static::$LE to $breaktype\n   $text = str_replace(\"\\n\", $breaktype, $text);\n}\n. If i make the following change in normalizeBreaks() method, everything works:\nphp\n// Now convert LE as needed\nif (\"\\n\" !== $breaktype) { // Changed from static::$LE to $breaktype\n   $text = str_replace(\"\\n\", $breaktype, $text);\n}\n. Yes, I can confirm that it works with AltBody, and also with attachments. \nWill these fixes be added to an upcoming release of PHPMailer?. Yes, I can confirm that it works with AltBody, and also with attachments. \nWill these fixes be added to an upcoming release of PHPMailer?. Sounds great! Thank you very much for helping out and solving this issue so quickly.. Sounds great! Thank you very much for helping out and solving this issue so quickly.. ",
    "ikatron": "I have exactly the same problem ... few other SMTP Servers.... PHPMailer via composer... PHP 7.1.12.... ",
    "TariGit": "thanks for help,\nwhat is the default name folder for sent items, you Know?. okey, thanks . ",
    "Deldros": "The header show this:\n```\nDKIM:   temperror\nDelay   From *          To *    Protocol    Time received\n0       [45.32.3.98]    \u2192       id24426.grupoallegra.com        18/12/2017 17:21:28 GMT-3 \n1   1 sec   id24426.grupoallegra.com    \u2192   [Google]    mx.google.com   ESMTPS  18/12/2017 17:21:29 GMT-3 \n2           \u2192   [Google]    10.237.37.177   SMTP    18/12/2017 17:21:29 GMT-3 \n3           \u2192   [Google]    10.157.20.199   SMTP    18/12/2017 17:21:29 GMT-3\n```\nI think the DKIM is sending my mail to spam, how can I configure that?. That page show me this header\n```\nReceived: from id24426.grupoallegra.com (45.32.3.98.choopa.com [45.32.3.98])\n    by relay-1.us-west-2.relay-prod (Postfix) with ESMTPS id 7AB8EE0363\n    for 8V6MbMbMZU3iXU@dkimvalidator.com; Wed, 20 Dec 2017 19:23:45 +0000 (UTC)\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;\n    d=lexvirtual.cl; s=default; h=Content-Type:MIME-Version:Message-ID:Subject:\n    From:To:Date:Sender:Reply-To:Cc:Content-Transfer-Encoding:Content-ID:\n    Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc\n    :Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:\n    List-Subscribe:List-Post:List-Owner:List-Archive;\n    bh=b7lfPwMmGq+Ws6Rc+5D6t+mJrRFKk6HB0k07Ne08H+0=; b=efeXH1sgleq8yScaCD7kLwJLBC\n    qsM/RuIdUdfY7XmP39lS+iHM6DqlyvRjxp6eQe98PZmwRpI+8NhB73KUJLbWq2LMRQ3hLz1n7s1Fu\n    x2jsEEZfc3YnETnvHxYpoL2x4FJRyPl5B5KbbcQnBLz0DRKMrfzvTRJ9V2DgCYVCHi4/oYh8kS3Mm\n    cIRzl3STRVQ1UC5KylNaSGGLRuhqz0Z9A4glL2F6xvPIhSLoK9btt44Fjbh9vhh0Qu3lCOM4IqwT2\n    zk4vbUDbUKnBQcRzpqaMM7dKNPQ1wfeH284kzKe4bveMJUt08r0kNDR88a/5W+zxnV+JPTVfXCkCh\n    N34/I4ig==;\nReceived: from [45.32.3.98] (port=36176 helo=lexvirtual.cl)\n    by id24426.grupoallegra.com with esmtpsa (TLSv1.2:ECDHE-RSA-AES128-GCM-SHA256:128)\n    (Exim 4.89_1)\n    (envelope-from contacto@lexvirtual.cl)\n    id 1eRjxw-0000BN-Kd\n    for 8V6MbMbMZU3iXU@dkimvalidator.com; Wed, 20 Dec 2017 14:23:44 -0500\nDate: Wed, 20 Dec 2017 19:23:44 +0000\nTo: Test 8V6MbMbMZU3iXU@dkimvalidator.com\nFrom: \"Lexvirtual.cl\" contacto@lexvirtual.cl\nSubject: mesnajito de prueba\nMessage-ID: s0EML2zce5pAbfuVkiA6sdqgiApA1YwlxN6XABl8JMM@lexvirtual.cl\nX-Mailer: PHPMailer 6.0.2 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/alternative;\n    boundary=\"b1_s0EML2zce5pAbfuVkiA6sdqgiApA1YwlxN6XABl8JMM\"\nX-AntiAbuse: This header was added to track abuse, please include it with any abuse report\nX-AntiAbuse: Primary Hostname - id24426.grupoallegra.com\nX-AntiAbuse: Original Domain - dkimvalidator.com\nX-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]\nX-AntiAbuse: Sender Address Domain - lexvirtual.cl\nX-Get-Message-Sender-Via: id24426.grupoallegra.com: authenticated_id: contacto@lexvirtual.cl\nX-Authenticated-Sender: id24426.grupoallegra.com: contacto@lexvirtual.cl\nX-Source: \nX-Source-Args: \nX-Source-Dir: \nThis is a multi-part message in MIME format.\n--b1_s0EML2zce5pAbfuVkiA6sdqgiApA1YwlxN6XABl8JMM\nContent-Type: text/plain; charset=iso-8859-1\nThis is the body in plain text for non-HTML mail clients\n--b1_s0EML2zce5pAbfuVkiA6sdqgiApA1YwlxN6XABl8JMM\nContent-Type: text/html; charset=iso-8859-1\nProbando el envio de  email, que opinas, fnciona\u00c2\u00b4ra? talves no pero hay que intentarlo\n--b1_s0EML2zce5pAbfuVkiA6sdqgiApA1YwlxN6XABl8JMM--\n```\nAnd this DKIM information\n```\nDKIM Signature\nMessage contains this DKIM Signature:\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;\n    d=lexvirtual.cl; s=default; h=Content-Type:MIME-Version:Message-ID:Subject:\n    From:To:Date:Sender:Reply-To:Cc:Content-Transfer-Encoding:Content-ID:\n    Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc\n    :Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:\n    List-Subscribe:List-Post:List-Owner:List-Archive;\n    bh=b7lfPwMmGq+Ws6Rc+5D6t+mJrRFKk6HB0k07Ne08H+0=; b=efeXH1sgleq8yScaCD7kLwJLBC\n    qsM/RuIdUdfY7XmP39lS+iHM6DqlyvRjxp6eQe98PZmwRpI+8NhB73KUJLbWq2LMRQ3hLz1n7s1Fu\n    x2jsEEZfc3YnETnvHxYpoL2x4FJRyPl5B5KbbcQnBLz0DRKMrfzvTRJ9V2DgCYVCHi4/oYh8kS3Mm\n    cIRzl3STRVQ1UC5KylNaSGGLRuhqz0Z9A4glL2F6xvPIhSLoK9btt44Fjbh9vhh0Qu3lCOM4IqwT2\n    zk4vbUDbUKnBQcRzpqaMM7dKNPQ1wfeH284kzKe4bveMJUt08r0kNDR88a/5W+zxnV+JPTVfXCkCh\n    N34/I4ig==;\nSignature Information:\nv= Version:         1\na= Algorithm:       rsa-sha256\nc= Method:          relaxed/relaxed\nd= Domain:          lexvirtual.cl\ns= Selector:        default\nq= Protocol:        dns/txt\nbh=                 b7lfPwMmGq+Ws6Rc+5D6t+mJrRFKk6HB0k07Ne08H+0=\nh= Signed Headers:  Content-Type:MIME-Version:Message-ID:Subject:\n    From:To:Date:Sender:Reply-To:Cc:Content-Transfer-Encoding:Content-ID:\n    Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc\n    :Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:\n    List-Subscribe:List-Post:List-Owner:List-Archive\nb= Data:            efeXH1sgleq8yScaCD7kLwJLBC\n    qsM/RuIdUdfY7XmP39lS+iHM6DqlyvRjxp6eQe98PZmwRpI+8NhB73KUJLbWq2LMRQ3hLz1n7s1Fu\n    x2jsEEZfc3YnETnvHxYpoL2x4FJRyPl5B5KbbcQnBLz0DRKMrfzvTRJ9V2DgCYVCHi4/oYh8kS3Mm\n    cIRzl3STRVQ1UC5KylNaSGGLRuhqz0Z9A4glL2F6xvPIhSLoK9btt44Fjbh9vhh0Qu3lCOM4IqwT2\n    zk4vbUDbUKnBQcRzpqaMM7dKNPQ1wfeH284kzKe4bveMJUt08r0kNDR88a/5W+zxnV+JPTVfXCkCh\n    N34/I4ig==\nPublic Key DNS Lookup\nBuilding DNS Query for default._domainkey.lexvirtual.cl\nRetrieved this publickey from DNS: \nValidating Signature\nresult = invalid\nDetails: public key: not available\n```\nalso says it's not spam here:\nSpamAssassin Score: 1.199\nMessage is NOT marked as spam\nPoints breakdown: \n 0.0 HTML_MESSAGE           BODY: HTML included in message\n 0.0 HTML_EXTRA_CLOSE       BODY: HTML contains far too many close tags\n 0.7 MPART_ALT_DIFF         BODY: HTML and text parts are different\n 0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily valid\n 0.0 T_DKIM_INVALID         DKIM-Signature header exists but is not valid\n 0.4 RDNS_DYNAMIC           Delivered to internal network by host with\n                            dynamic-looking rDNS\nThe problem is that i dont configure de DKIM? If this it's the problem how can i configure it (sorry for all the questions but i'm a little confused here). ",
    "razasaleem": "how can i solve it?\n. @Synchro I have tried so many things but didnt able to sort it kindly help me out if you were there\n. ",
    "gtilflm": "Ok, thanks for the explanation.  That makes sense.\nAny ideas on my SO post (https://stackoverflow.com/questions/47916568/unintended-indents-with-plain-text-email) by chance?. ",
    "MarkMcCorrie": "Do you know why it says a DKIM passed and one failed? It looks like the headers are listed under one DKIM, and the body under another?\n\nOn 25 Dec 2017, at 23:16, Marcus Bointon notifications@github.com wrote:\nThis doesn't make much sense - there is only one DKIM signature and it covers both headers and body, so if either are wrong it won't match.\nThere are some unreleased changes in the master branch relating to DKIM signatures, so you could give that a try anyway (using dev-master in composer).\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "vivinblack": "U made awesome script for us. But why don't u keep simple download full zip file as required by us. Now before setting up phpmailer, i have to deal with this composer stuff and still I am not getting it .. I got vendor folder with \"composer\" , \"phpmaile\" folders & autoload.php file . but little bit of confusion here,what to upload in my sites folder. I moved vendor folder in my sites /html  but still its throwing an error 500.. ",
    "Anorionil": "I'm using composer (with default settings) and according to the headers I'm using PHPMailer 6.0.2. Does that answer your question?. That fixes the issue! Any advice on how to proceed? Should I keep dev-master until there is a new release?. ",
    "miguelk5": "No , is not up to me , program should send valid certificate , learn to code lol !. No , is not up to me , program should send valid certificate , learn to code lol !. 95% of open-source is garbage .... 95% of open-source is garbage .... Typical open source fan ... so a programmer need to know everything what OS do on background , i think you use your own OS coded 100% on ASM . No , i dont know every detail of what PHPEmailer does , i just get stupid error message  . On computer A with php 5.6 works , on computer B with php5.6 do not works , people say it can be about certificate . \nHowever fail project , and looking for my own solution .\nBTW i created Bulk emailer application using java mail api without any problem : it connect to any mail server like yahoo , gmail , qq , live.com , yandex , own local mail server , and gives 0 ERRORS thing that you can't say about this software , so dont talk to me like i dont know what im doing.\nConsider close this project PHPEmailer sucks... Typical open source fan ... so a programmer need to know everything what OS do on background , i think you use your own OS coded 100% on ASM . No , i dont know every detail of what PHPEmailer does , i just get stupid error message  . On computer A with php 5.6 works , on computer B with php5.6 do not works , people say it can be about certificate . \nHowever fail project , and looking for my own solution .\nBTW i created Bulk emailer application using java mail api without any problem : it connect to any mail server like yahoo , gmail , qq , live.com , yandex , own local mail server , and gives 0 ERRORS thing that you can't say about this software , so dont talk to me like i dont know what im doing.\nConsider close this project PHPEmailer sucks... ",
    "sbhelper": "What worked for me (using Windows 10 and Apache with the included OpenSSL) was to create a gmail.crt file, like this:\n\nopenssl s_client -starttls smtp -connect smtp.gmail.com:587 -showcerts\n   a. Copy the first cert (cert chain)\n   b. Paste it to a text file\nDownload the root certificate as specified above the second certificate (I bolded what to look for)\n   a. In my case, it showed: 1 s:/C=US/O=Google Trust Services/CN=Google Internet Authority G3\n   i:/OU=GlobalSign Root CA - R2/O=GlobalSign/CN=GlobalSign\n   b. I went here: https://support.globalsign.com/customer/portal/articles/1426602-globalsign-root-certificates\n   c. Copied the base64 cert from R2 GlobalSign Root Certificate\n   d. Pasted it to the bottom of the text file, below the cert chain\nSave the text file and change the extension to .crt (ie. gmail.crt)\n\nThen use this:\n$mail->SMTPOptions = array(\n            'ssl' => array(\n                'verify_peer' => true,\n                'verify_peer_name' => true,\n                'allow_self_signed' => false,\n                'cafile' => '[path-to-cert].crt'\n            )\n        );\nI hope this helps at least one person.. ",
    "mkrahamath": "But i see \"to address is empty in the mails\" \n\n. ",
    "rahul9222": "Updated the SMTPDebug = 2\nDebug Output\n2017-12-30 05:34:57 SERVER -> CLIENT: 220 debugmail ESMTP ready\n2017-12-30 05:34:57 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:57 SERVER -> CLIENT: 250-debugmail250-AUTH PLAIN LOGIN250 STARTTLS\n2017-12-30 05:34:57 CLIENT -> SERVER: STARTTLS\n2017-12-30 05:34:57 SERVER -> CLIENT: 220 2.0.0 Start TLS\n2017-12-30 05:34:57 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:57 SERVER -> CLIENT: 250-debugmail250 AUTH PLAIN LOGIN\n2017-12-30 05:34:57 CLIENT -> SERVER: AUTH LOGIN\n2017-12-30 05:34:57 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-12-30 05:34:57 CLIENT -> SERVER: \n2017-12-30 05:34:57 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-12-30 05:34:57 CLIENT -> SERVER: \n2017-12-30 05:34:57 SERVER -> CLIENT: 235 2.0.0 OK\n2017-12-30 05:34:57 CLIENT -> SERVER: MAIL FROM:from@example.com\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:57 CLIENT -> SERVER: RCPT TO:joe@example.net\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:57 CLIENT -> SERVER: RCPT TO:ellen@example.com\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:57 CLIENT -> SERVER: RCPT TO:cc@example.com\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:57 CLIENT -> SERVER: RCPT TO:bcc@example.com\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:57 CLIENT -> SERVER: DATA\n2017-12-30 05:34:57 SERVER -> CLIENT: 354 End data with .\n2017-12-30 05:34:57 CLIENT -> SERVER: Date: Sat, 30 Dec 2017 00:34:57 -0500\n2017-12-30 05:34:57 CLIENT -> SERVER: To: joe@example.net, ellen@example.com\n2017-12-30 05:34:57 CLIENT -> SERVER: From: Mailer from@example.com\n2017-12-30 05:34:57 CLIENT -> SERVER: Cc: cc@example.com\n2017-12-30 05:34:57 CLIENT -> SERVER: Reply-To: info@example.com\n2017-12-30 05:34:57 CLIENT -> SERVER: Subject: Here is the subject\n2017-12-30 05:34:57 CLIENT -> SERVER: Message-ID: dNYiIK423OmIoaBEVW9CLwvL9D6Ep0LJihKJ9q5Dhhs@pmwatest.sassitest.info\n2017-12-30 05:34:57 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.2 (https://github.com/PHPMailer/PHPMailer)\n2017-12-30 05:34:57 CLIENT -> SERVER: MIME-Version: 1.0\n2017-12-30 05:34:57 CLIENT -> SERVER: Content-Type: text/html; charset=iso-8859-1\n2017-12-30 05:34:57 CLIENT -> SERVER: \n2017-12-30 05:34:57 CLIENT -> SERVER: This is the HTML message body in bold!\n2017-12-30 05:34:57 CLIENT -> SERVER: \n2017-12-30 05:34:57 CLIENT -> SERVER: .\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.0.0 Ok: queued as 1\n2017-12-30 05:34:57 CLIENT -> SERVER: QUIT\n2017-12-30 05:34:57 SERVER -> CLIENT: 221 2.0.0 Goodbye!\nMessage has been sent.\n2017-12-30 05:34:57 SERVER -> CLIENT: 220 debugmail ESMTP ready\n2017-12-30 05:34:57 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:57 SERVER -> CLIENT: 250-debugmail250-AUTH PLAIN LOGIN250 STARTTLS\n2017-12-30 05:34:57 CLIENT -> SERVER: STARTTLS\n2017-12-30 05:34:57 SERVER -> CLIENT: 220 2.0.0 Start TLS\n2017-12-30 05:34:58 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:58 SERVER -> CLIENT: 250-debugmail250 AUTH PLAIN LOGIN\n2017-12-30 05:34:58 CLIENT -> SERVER: AUTH LOGIN\n2017-12-30 05:34:58 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 SERVER -> CLIENT: 235 2.0.0 OK\n2017-12-30 05:34:58 CLIENT -> SERVER: MAIL FROM:from@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:joe@example.net\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:ellen@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:cc@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:bcc@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: DATA\n2017-12-30 05:34:58 SERVER -> CLIENT: 354 End data with .\n2017-12-30 05:34:58 CLIENT -> SERVER: Date: Sat, 30 Dec 2017 00:34:57 -0500\n2017-12-30 05:34:58 CLIENT -> SERVER: To: joe@example.net, ellen@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: From: Mailer from@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Cc: cc@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Reply-To: info@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Subject: Here is the subject\n2017-12-30 05:34:58 CLIENT -> SERVER: Message-ID: LEOfVPn35LkAHFqEWWGTSVUFcAOj9dr7gUPIiJIsc@pmwatest.sassitest.info\n2017-12-30 05:34:58 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.2 (https://github.com/PHPMailer/PHPMailer)\n2017-12-30 05:34:58 CLIENT -> SERVER: MIME-Version: 1.0\n2017-12-30 05:34:58 CLIENT -> SERVER: Content-Type: text/html; charset=iso-8859-1\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 CLIENT -> SERVER: This is the HTML message body in bold!\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 CLIENT -> SERVER: .\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.0.0 Ok: queued as 2\n2017-12-30 05:34:58 CLIENT -> SERVER: QUIT\n2017-12-30 05:34:58 SERVER -> CLIENT: 221 2.0.0 Goodbye!\nMessage has been sent.\n2017-12-30 05:34:58 SERVER -> CLIENT: 220 debugmail ESMTP ready\n2017-12-30 05:34:58 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:58 SERVER -> CLIENT: 250-debugmail250-AUTH PLAIN LOGIN250 STARTTLS\n2017-12-30 05:34:58 CLIENT -> SERVER: STARTTLS\n2017-12-30 05:34:58 SERVER -> CLIENT: 220 2.0.0 Start TLS\n2017-12-30 05:34:58 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:58 SERVER -> CLIENT: 250-debugmail250 AUTH PLAIN LOGIN\n2017-12-30 05:34:58 CLIENT -> SERVER: AUTH LOGIN\n2017-12-30 05:34:58 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 SERVER -> CLIENT: 235 2.0.0 OK\n2017-12-30 05:34:58 CLIENT -> SERVER: MAIL FROM:from@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:joe@example.net\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:ellen@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:cc@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:bcc@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: DATA\n2017-12-30 05:34:58 SERVER -> CLIENT: 354 End data with .\n2017-12-30 05:34:58 CLIENT -> SERVER: Date: Sat, 30 Dec 2017 00:34:58 -0500\n2017-12-30 05:34:58 CLIENT -> SERVER: To: joe@example.net, ellen@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: From: Mailer from@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Cc: cc@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Reply-To: info@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Subject: Here is the subject\n2017-12-30 05:34:58 CLIENT -> SERVER: Message-ID: sdMNgIOGn2CqX4hbnsVB2sXu6UurGUAugY54puQe4Rc@pmwatest.sassitest.info\n2017-12-30 05:34:58 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.2 (https://github.com/PHPMailer/PHPMailer)\n2017-12-30 05:34:58 CLIENT -> SERVER: MIME-Version: 1.0\n2017-12-30 05:34:58 CLIENT -> SERVER: Content-Type: text/html; charset=iso-8859-1\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 CLIENT -> SERVER: This is the HTML message body in bold!\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 CLIENT -> SERVER: .\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.0.0 Ok: queued as 3\n2017-12-30 05:34:58 CLIENT -> SERVER: QUIT\n2017-12-30 05:34:58 SERVER -> CLIENT: 221 2.0.0 Goodbye!\nMessage has been sent.\n2017-12-30 05:37:05 SMTP ERROR: Failed to connect to server: Connection timed out (110)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMessage could not be sent.Mailer Error:. Updated the SMTPDebug = 2\nDebug Output\n2017-12-30 05:34:57 SERVER -> CLIENT: 220 debugmail ESMTP ready\n2017-12-30 05:34:57 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:57 SERVER -> CLIENT: 250-debugmail250-AUTH PLAIN LOGIN250 STARTTLS\n2017-12-30 05:34:57 CLIENT -> SERVER: STARTTLS\n2017-12-30 05:34:57 SERVER -> CLIENT: 220 2.0.0 Start TLS\n2017-12-30 05:34:57 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:57 SERVER -> CLIENT: 250-debugmail250 AUTH PLAIN LOGIN\n2017-12-30 05:34:57 CLIENT -> SERVER: AUTH LOGIN\n2017-12-30 05:34:57 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-12-30 05:34:57 CLIENT -> SERVER: \n2017-12-30 05:34:57 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-12-30 05:34:57 CLIENT -> SERVER: \n2017-12-30 05:34:57 SERVER -> CLIENT: 235 2.0.0 OK\n2017-12-30 05:34:57 CLIENT -> SERVER: MAIL FROM:from@example.com\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:57 CLIENT -> SERVER: RCPT TO:joe@example.net\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:57 CLIENT -> SERVER: RCPT TO:ellen@example.com\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:57 CLIENT -> SERVER: RCPT TO:cc@example.com\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:57 CLIENT -> SERVER: RCPT TO:bcc@example.com\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:57 CLIENT -> SERVER: DATA\n2017-12-30 05:34:57 SERVER -> CLIENT: 354 End data with .\n2017-12-30 05:34:57 CLIENT -> SERVER: Date: Sat, 30 Dec 2017 00:34:57 -0500\n2017-12-30 05:34:57 CLIENT -> SERVER: To: joe@example.net, ellen@example.com\n2017-12-30 05:34:57 CLIENT -> SERVER: From: Mailer from@example.com\n2017-12-30 05:34:57 CLIENT -> SERVER: Cc: cc@example.com\n2017-12-30 05:34:57 CLIENT -> SERVER: Reply-To: info@example.com\n2017-12-30 05:34:57 CLIENT -> SERVER: Subject: Here is the subject\n2017-12-30 05:34:57 CLIENT -> SERVER: Message-ID: dNYiIK423OmIoaBEVW9CLwvL9D6Ep0LJihKJ9q5Dhhs@pmwatest.sassitest.info\n2017-12-30 05:34:57 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.2 (https://github.com/PHPMailer/PHPMailer)\n2017-12-30 05:34:57 CLIENT -> SERVER: MIME-Version: 1.0\n2017-12-30 05:34:57 CLIENT -> SERVER: Content-Type: text/html; charset=iso-8859-1\n2017-12-30 05:34:57 CLIENT -> SERVER: \n2017-12-30 05:34:57 CLIENT -> SERVER: This is the HTML message body in bold!\n2017-12-30 05:34:57 CLIENT -> SERVER: \n2017-12-30 05:34:57 CLIENT -> SERVER: .\n2017-12-30 05:34:57 SERVER -> CLIENT: 250 2.0.0 Ok: queued as 1\n2017-12-30 05:34:57 CLIENT -> SERVER: QUIT\n2017-12-30 05:34:57 SERVER -> CLIENT: 221 2.0.0 Goodbye!\nMessage has been sent.\n2017-12-30 05:34:57 SERVER -> CLIENT: 220 debugmail ESMTP ready\n2017-12-30 05:34:57 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:57 SERVER -> CLIENT: 250-debugmail250-AUTH PLAIN LOGIN250 STARTTLS\n2017-12-30 05:34:57 CLIENT -> SERVER: STARTTLS\n2017-12-30 05:34:57 SERVER -> CLIENT: 220 2.0.0 Start TLS\n2017-12-30 05:34:58 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:58 SERVER -> CLIENT: 250-debugmail250 AUTH PLAIN LOGIN\n2017-12-30 05:34:58 CLIENT -> SERVER: AUTH LOGIN\n2017-12-30 05:34:58 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 SERVER -> CLIENT: 235 2.0.0 OK\n2017-12-30 05:34:58 CLIENT -> SERVER: MAIL FROM:from@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:joe@example.net\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:ellen@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:cc@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:bcc@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: DATA\n2017-12-30 05:34:58 SERVER -> CLIENT: 354 End data with .\n2017-12-30 05:34:58 CLIENT -> SERVER: Date: Sat, 30 Dec 2017 00:34:57 -0500\n2017-12-30 05:34:58 CLIENT -> SERVER: To: joe@example.net, ellen@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: From: Mailer from@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Cc: cc@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Reply-To: info@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Subject: Here is the subject\n2017-12-30 05:34:58 CLIENT -> SERVER: Message-ID: LEOfVPn35LkAHFqEWWGTSVUFcAOj9dr7gUPIiJIsc@pmwatest.sassitest.info\n2017-12-30 05:34:58 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.2 (https://github.com/PHPMailer/PHPMailer)\n2017-12-30 05:34:58 CLIENT -> SERVER: MIME-Version: 1.0\n2017-12-30 05:34:58 CLIENT -> SERVER: Content-Type: text/html; charset=iso-8859-1\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 CLIENT -> SERVER: This is the HTML message body in bold!\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 CLIENT -> SERVER: .\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.0.0 Ok: queued as 2\n2017-12-30 05:34:58 CLIENT -> SERVER: QUIT\n2017-12-30 05:34:58 SERVER -> CLIENT: 221 2.0.0 Goodbye!\nMessage has been sent.\n2017-12-30 05:34:58 SERVER -> CLIENT: 220 debugmail ESMTP ready\n2017-12-30 05:34:58 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:58 SERVER -> CLIENT: 250-debugmail250-AUTH PLAIN LOGIN250 STARTTLS\n2017-12-30 05:34:58 CLIENT -> SERVER: STARTTLS\n2017-12-30 05:34:58 SERVER -> CLIENT: 220 2.0.0 Start TLS\n2017-12-30 05:34:58 CLIENT -> SERVER: EHLO pmwatest.sassitest.info\n2017-12-30 05:34:58 SERVER -> CLIENT: 250-debugmail250 AUTH PLAIN LOGIN\n2017-12-30 05:34:58 CLIENT -> SERVER: AUTH LOGIN\n2017-12-30 05:34:58 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 SERVER -> CLIENT: 235 2.0.0 OK\n2017-12-30 05:34:58 CLIENT -> SERVER: MAIL FROM:from@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:joe@example.net\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:ellen@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:cc@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: RCPT TO:bcc@example.com\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.1.0 Ok\n2017-12-30 05:34:58 CLIENT -> SERVER: DATA\n2017-12-30 05:34:58 SERVER -> CLIENT: 354 End data with .\n2017-12-30 05:34:58 CLIENT -> SERVER: Date: Sat, 30 Dec 2017 00:34:58 -0500\n2017-12-30 05:34:58 CLIENT -> SERVER: To: joe@example.net, ellen@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: From: Mailer from@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Cc: cc@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Reply-To: info@example.com\n2017-12-30 05:34:58 CLIENT -> SERVER: Subject: Here is the subject\n2017-12-30 05:34:58 CLIENT -> SERVER: Message-ID: sdMNgIOGn2CqX4hbnsVB2sXu6UurGUAugY54puQe4Rc@pmwatest.sassitest.info\n2017-12-30 05:34:58 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.2 (https://github.com/PHPMailer/PHPMailer)\n2017-12-30 05:34:58 CLIENT -> SERVER: MIME-Version: 1.0\n2017-12-30 05:34:58 CLIENT -> SERVER: Content-Type: text/html; charset=iso-8859-1\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 CLIENT -> SERVER: This is the HTML message body in bold!\n2017-12-30 05:34:58 CLIENT -> SERVER: \n2017-12-30 05:34:58 CLIENT -> SERVER: .\n2017-12-30 05:34:58 SERVER -> CLIENT: 250 2.0.0 Ok: queued as 3\n2017-12-30 05:34:58 CLIENT -> SERVER: QUIT\n2017-12-30 05:34:58 SERVER -> CLIENT: 221 2.0.0 Goodbye!\nMessage has been sent.\n2017-12-30 05:37:05 SMTP ERROR: Failed to connect to server: Connection timed out (110)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMessage could not be sent.Mailer Error:. I think it is a good Idea to have Email Queue management in the system to handle all the emails.\nCan you suggest any library for Email Queue in PHP?\nThanks. I think it is a good Idea to have Email Queue management in the system to handle all the emails.\nCan you suggest any library for Email Queue in PHP?\nThanks. Thanks for your help with AWS throttle problem.\nFix\nChange the PORT with 2525 or 465 or 587 . ",
    "laurin1": "Fails in 1.6.1 as well. FYI, I have 2 packages failing:\nhttps://github.com/mtdowling/cron-expression/issues/166\nOh, duh:\nhttps://github.com/composer/composer/issues/6977. I agree - I didn't see this as Composer issue until after I opened this one.. ",
    "githubfranci": "bonjour les amis j'ai un souci un peu comme celui de la haut quand je postule pour l'envoi de mail voila ce que je recois comme message d'erreur .\n2018-11-05 12:17:23 SERVEUR -> CLIENT: 220 smtp.gmail.com ESMTP e66-v6sm3294672wmf.40 - gsmtp \n2018-11-05 12:17:23 CLIENT -> SERVEUR: EHLO localhost \n2018-11- 05 12:17:23 SERVEUR -> CLIENT: 250-smtp.gmail.com \u00e0 votre service, [41.189.49.196] 250 TAILLE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8 \n05/11/2018 12:17 : 23 CLIENT -> SERVEUR: STARTTLS \n2018-11-05 12:17:23 SERVEUR -> CLIENT: 220 2.0.0 Pr\u00eat \u00e0 d\u00e9marrer TLS \n2018-11-05 12:17:24 CLIENT -> SERVEUR: EHLO localhost \n2018- 11-05 12:17:24 SERVEUR -> CLIENT: 250-smtp.gmail.com \u00e0 votre service, [41.189.49.196] 250-SIZE 35882577250-8BITMIME250-AUTH LOGIN CHUNKING250 SMTPUTF8\n2018-11-05 12:17:24 CLIENT -> SERVEUR: MAIL DE: zabuza225@gmail.com \n2018-11-05 12:17:24 SERVEUR -> CLIENT: 530 - 5.5.1 Authentification requise. En savoir plus sur at530 5.5.1 https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp \n2018-11-05 12:17:24 ERREUR SMTP: Echec de la commande MAIL FROM: 530-5.5 .1 Authentification requise. En savoir plus sur530 5.5.1 https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp\nL'adresse d'exp\u00e9diteur suivante a \u00e9chou\u00e9: zabuza225@gmail.com: \u00e9chec de la commande MAIL FROM, authentification requise. Pour plus d'informations, consultez la page https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp, 530,5.5.1SMTP erreur de serveur: \u00e9chec de la commande MAIL FROM D\u00e9tail: authentification requise. Pour plus d'informations, consultez la page https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp Code SMTP: 530 Informations SMTP suppl\u00e9mentaires: 5.5.1\nLe message n'a pas pu \u00eatre envoy\u00e9. Erreur de publipostage: l'adresse d'exp\u00e9diteur suivante a \u00e9chou\u00e9: zabuza225@gmail.com: \u00e9chec de la commande MAIL FROM, authentification requise. Pour plus d'informations, consultez la page https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp, 530,5.5.1SMTP erreur de serveur: \u00e9chec de la commande MAIL FROM D\u00e9tail: authentification requise. Pour plus d'informations, consultez la page https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp Code SMTP: 530 Informations SMTP suppl\u00e9mentaires: 5.5.1SMTP Erreur de serveur: \u00c9chec de la commande MAIL FROM: Authentification requise. Pour plus d'informations, consultez la page https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp Code SMTP: 530 Informations SMTP suppl\u00e9mentaires: 5.5.12018-11-05 12:17:24 CLIENT -> SERVEUR : QUIT \n2018-11-05 12:17:24 SERVEUR -> CLIENT: 221 2.0.0 connexion de fermeture e66-v6sm3294672wmf.40 - gsmtp\n.  bonjour les amis j'ai un souci un peu comme celui de la haut quand je postule pour l'envoi de mail voila ce que je recois comme message d'erreur .\n2018-11-05 12:17:23 SERVEUR -> CLIENT: 220 smtp.gmail.com ESMTP e66-v6sm3294672wmf.40 - gsmtp \n2018-11-05 12:17:23 CLIENT -> SERVEUR: EHLO localhost \n2018-11- 05 12:17:23 SERVEUR -> CLIENT: 250-smtp.gmail.com \u00e0 votre service, [41.189.49.196] 250 TAILLE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8 \n05/11/2018 12:17 : 23 CLIENT -> SERVEUR: STARTTLS \n2018-11-05 12:17:23 SERVEUR -> CLIENT: 220 2.0.0 Pr\u00eat \u00e0 d\u00e9marrer TLS \n2018-11-05 12:17:24 CLIENT -> SERVEUR: EHLO localhost \n2018- 11-05 12:17:24 SERVEUR -> CLIENT: 250-smtp.gmail.com \u00e0 votre service, [41.189.49.196] 250-SIZE 35882577250-8BITMIME250-AUTH LOGIN CHUNKING250 SMTPUTF8\n2018-11-05 12:17:24 CLIENT -> SERVEUR: MAIL DE: zabuza225@gmail.com \n2018-11-05 12:17:24 SERVEUR -> CLIENT: 530 - 5.5.1 Authentification requise. En savoir plus sur at530 5.5.1 https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp \n2018-11-05 12:17:24 ERREUR SMTP: Echec de la commande MAIL FROM: 530-5.5 .1 Authentification requise. En savoir plus sur530 5.5.1 https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp\nL'adresse d'exp\u00e9diteur suivante a \u00e9chou\u00e9: zabuza225@gmail.com: \u00e9chec de la commande MAIL FROM, authentification requise. Pour plus d'informations, consultez la page https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp, 530,5.5.1SMTP erreur de serveur: \u00e9chec de la commande MAIL FROM D\u00e9tail: authentification requise. Pour plus d'informations, consultez la page https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp Code SMTP: 530 Informations SMTP suppl\u00e9mentaires: 5.5.1\nLe message n'a pas pu \u00eatre envoy\u00e9. Erreur de publipostage: l'adresse d'exp\u00e9diteur suivante a \u00e9chou\u00e9: zabuza225@gmail.com: \u00e9chec de la commande MAIL FROM, authentification requise. Pour plus d'informations, consultez la page https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp, 530,5.5.1SMTP erreur de serveur: \u00e9chec de la commande MAIL FROM D\u00e9tail: authentification requise. Pour plus d'informations, consultez la page https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp Code SMTP: 530 Informations SMTP suppl\u00e9mentaires: 5.5.1SMTP Erreur de serveur: \u00c9chec de la commande MAIL FROM: Authentification requise. Pour plus d'informations, consultez la page https://support.google.com/mail/?p=WantAuthError e66-v6sm3294672wmf.40 - gsmtp Code SMTP: 530 Informations SMTP suppl\u00e9mentaires: 5.5.12018-11-05 12:17:24 CLIENT -> SERVEUR : QUIT \n2018-11-05 12:17:24 SERVEUR -> CLIENT: 221 2.0.0 connexion de fermeture e66-v6sm3294672wmf.40 - gsmtp\n. ",
    "cameraki": "I am having the same issues with this. Did you find a solution?. I applied this fix (bottom of the page). But meant I had to actually edit the Auth.php file.\n@Synchro it just requires anything above 5.2.\n\"phpmailer/phpmailer\": \"^5.2\"\nI have checked the version of the one I have (used composer to download this a few days ago) and its 5.2.26. @Synchro I will try and require 6.0 and see if that fixes it and also submit this to PHP AUTH to be adjusted\nThanks for the help. ",
    "tamerciaga": "I stopped using Composer and simply include the required files, the easy way!. ",
    "halfer": "There's a lot of boilerplate here, and no evidence of effort. I suggest this issue is closed.\nIt looks like the error is self-explanatory anyway - there is no network path to the SMTP server. You're using the wrong port, or the wrong address, or a firewall is preventing access to SMTP servers.\n. Please refrain from adding \"please help me\" or \"urgent\" messages in support requests to open source projects. While this advice was written with Stack Overflow in mind, it could be linked to from anywhere where the helpers are volunteers:\n\nPlease read Under what circumstances may I add \u201curgent\u201d or other similar phrases to my question, in order to obtain faster answers? - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions.\n. Try downgrading your encryption to SSL/465 instead.\n\nWhat debug level are you using? I wonder if a higher level would give you more information.\n(Aside: readers would probably prefer more professional titles here - Hostgator may not be a good host, but nevertheless, please keep titles succinct and useful).\n. > Also I wouldn't call ssl/465 a downgrade - while it's been deprecated since 1998, it is more resistant to MITM attacks, and it's about to get a new lease of life in RFC8314.\n@Synchro - aha, thanks, useful to know. I am writing an application to help users configure mail servers, and I've added guidance that TLS is to be preferred over SSL. I'll consider amending things accordingly!. Try turning on SMTP debug and looking at the logs. Log level 2 is usually enough.\n. Cheeky, but I appreciate as a start-up owner, one has to try everything to gain traction. :wink:\nI've no association with the project, other than as a user, but could you analyse some current/past PRs to show what sort of suggestions your product would make? If they are really good, maybe you'd get some bites.\n. Can you turn on SMTP debugging in PHPMailer, grab the logs, and post them here, so we can take a look?\n(Tip: use the code formatting tool in the editor title bar to render code. Please make that change now, so that your code is readable for current and future readers).\n. > PHPMailer is using STARTTLS on port 25 automatically because the mail server is advertising that it supports it.\nThanks. That strikes me as an unusual configuration, which is why it didn't occur to me that the problem might be on my side. I thought it might be broken :smiley_cat: \n\nThe troubleshooting guide shows how to identify and fix certificate problems, so I suggest reading that.\n\nI will, cheers! I haven't determined how old my certs are, so I will look at that first.\n. ",
    "Yodavish": "Thanks for the reply.  I've tried updating the code as you suggested but it fails to connect\nCode to reproduce\n//Server settings\n            $mail->SMTPDebug = 3;                                  // Enable verbose debug output\n            $mail->isSMTP();                                       // Set mailer to use SMTP\n            $mail->Host = 'watchguard.propath.com';                    // Specify main and backup SMTP servers\n            $mail->SMTPAuth = true;                               // Enable SMTP authentication\n            $mail->Username = 'myUserName';                        // SMTP username\n            $mail->Password = 'myPassWord';                    // SMTP password\n            $mail->SMTPSecure = 'tls';                             // Enable TLS encryption, ssl also accepted\n            $mail->Port = 587; \nDebug output\n2018-01-08 16:54:46 Connection: opening to watchguard.propath.com:587, timeout=300, options=array()\n2018-01-08 16:56:53 Connection failed. Error #2: stream_socket_client(): unable to connect to watchguard.propath.com:587 (Connection timed out) [/opt/bitnami/apps/joomla/htdocs/PHPMailer/vendor/phpmailer/phpmailer/src/SMTP.php line 325]\n2018-01-08 16:56:53 SMTP ERROR: Failed to connect to server: Connection timed out (110)\nI've tested the telnet on Watchguard with port 587 which fails to connect, \"Could not open connection to the host, on port 587: connect failed\". However, it does connect using port 25. I've also checked and confirmed that OpenSSL is enabled. I suppose the culprit is AWS blocking the outbound email. I'll see how to unblock it from their side, thanks!\n  . ",
    "aimanbaharum": "On a side note, please remove your email login details as described in your question. Could be a sensitive information to give out to public imo.. ",
    "dianazahir": "Hey, Thanks for that I totally forgot haha \ud83d\ude05\nOn Wed, 24 Jan 2018 at 10:24 PM, Aiman notifications@github.com wrote:\n\nOn a side note, please remove your email login details as described in\nyour question. Could be a sensitive information to give out to public imo.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1324#issuecomment-360151193,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AffeRv8FgwS2Fukf-qLMAqvQzIVkIWpXks5tNz0wgaJpZM4RY6io\n.\n-- \nThanks and regards,\n\nDiana Zahir\nCreative Designer & Converge Consultant\n+601-74412462 (Phone)\nnurdianazahir@gmail.com\n(QuessGlobal Malaysia Sdn Bhd)\n. ",
    "Shinseiten": "I don't know PHPmailer or Swiftmailer code (i'm not good enough to read into it). Or you were talking about my code?\nThe XMailer code part didn't do much.\nHere's the code:\n```php\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\n$myMail=\"auto@guebbit.com\";\n$toMail=\"guerzoni.andrea91@gmail.com\";\n$myName=\"Mailer\";\n$toName=\"Andrea\";\n$mail = new PHPMailer(true);       \ntry {\n    //Server settings\n    $mail->isSMTP();       \n    $mail->SMTPDebug = 2;   \n    $mail->Host = 'mail.test.com'; //or IP\n    $mail->SMTPAuth = true; \n    $mail->Username = 'test@test.com'; \n    $mail->Password = 'password';     \n    $mail->SMTPSecure = 'tls';\n    $mail->Port = 587;    //tryed this ports: 465  25   26\n$mail->setFrom('test@test.com', 'test');\n$mail->addAddress('test@gmail.com', 'John');\n\n$mail->isHTML(true);         \n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body <b>in bold!</b>';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\n\n$mail->send();\necho 'Message has been sent';\n\n} catch (Exception $e) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n}\n```. Sorry I don't know how to style it better.\nI get this error:\n2018-01-11 15:02:54 SERVER -> CLIENT: XXX-gatorXXXX.hostgator.com ESMTP Exim 4.89 #1 Thu, 11 Jan 2018 09:02:54 -0600 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\n2018-01-11 15:02:54 CLIENT -> SERVER: EHLO test.com\n2018-01-11 15:02:54 SERVER -> CLIENT: XXX-gatorXXXX.hostgator.com Hello test.com [111.111.111]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250-STARTTLS250 HELP\n2018-01-11 15:02:54 CLIENT -> SERVER: STARTTLS\n2018-01-11 15:02:54 SERVER -> CLIENT: 220 TLS go ahead\nSMTP Error: Could not connect to SMTP host.\n2018-01-11 15:02:54 CLIENT -> SERVER: QUIT\n2018-01-11 15:02:54 SERVER -> CLIENT: 221 gatorXXXX.hostgator.com closing connection\nSMTP Error: Could not connect to SMTP host.\nMessage could not be sent.Mailer Error: SMTP Error: Could not connect to SMTP host.. ",
    "simmonspaul": "Just to let you know.\nI am using hostgator shared server and have had no issue using ssl.\nI used the 'simple example' from https://github.com/PHPMailer/PHPMailer\n$mail->Host = 'gatorXXXX.hostgator.com';\n$mail->SMTPSecure = 'ssl';\n$mail->Port = 465;   \n. Just to let you know.\nI am using hostgator shared server and have had no issue using ssl.\nI used the 'simple example' from https://github.com/PHPMailer/PHPMailer\n$mail->Host = 'gatorXXXX.hostgator.com';\n$mail->SMTPSecure = 'ssl';\n$mail->Port = 465;   \n. ",
    "J3llyBean": "cloning the repository all files are downloaded, maybe an issue with the zip file itself?. Please ignore this issue as its user error and i neglected to do some reading before hand, i do apologies for creating an unnecessary issue, working great after running composer all required files have been installed.. ",
    "leadboots5": "Because that's how PHP is coded? I don't know why the developers took that direction when creating PHP.. @Synchro I started this thinking of subject/query which will never reach their else/failure when blank and blanket applied that logic for the rest of the instances where it doesn't apply. Thanks for the review.. ",
    "edenpark59": "$mail->Username = mail@zfu.ch; \nYour mail adress is a string, so use \" or ';\nexample :  $mail->Username = 'mail@zfu.ch';. ",
    "billjave": "Pls can someone chat me up private...i need to be having serious issue in getting php mailer...Can someone please help me with this, and i compensate for this...please... i need a good mailer php, that i can be sending mails to my clients...Please. @bibz0r @edenpark59 Pls kindly be of help.... Admin, is it wrong to drop my icq or email here ... Please i will need help on Php Mailer. @Synchro I dont have a good mailer php script... I need one that i can upload on an easy host, like shell. ",
    "mk94mishra": "how to solve this problem??. ",
    "tgrundmanis": "I am cheeky, and persistent \ud83d\ude09. Let me get you some examples from my tech partner. Stay tuned!. Hello again!\nI have an example of how our product works. Take a look at this PR thread:\nhttps://github.com/cakephp/cakephp/pull/11645\nIf you dive deeper into the second commit, which has the fixes, you can see how it works in a more detailed fashion:\nhttps://github.com/cakephp/cakephp/pull/11645/commits/c259c729778b76257cf1f71e02c989b46cf2f727\nHowever, if your current service already performs these fixes, I am wondering if you have any other code quality issues that aren't being met by your current product. If so, we can discuss how we might be able to fill that gap \ud83d\ude0a.\nCheers,\nTara. ",
    "joshuaatkins": "Hi @Synchro, \nA SMTPDebug = 2 below: \n```\nSERVER -> CLIENT: 220-node0.mydomain.com ESMTP Exim 4.89_1 #1 Fri, 26 Jan 2018 00:20:30 +0000 \n220-We do not authorize the use of this system to transport unsolicited, \n220 and/or bulk e-mail.\nCLIENT -> SERVER: EHLO site.mydomain.com\nSERVER -> CLIENT: 250-node0.mydomain.com Hello site.mydomain.com [84.18.215.233]\n250-SIZE 52428800\n250-8BITMIME\n250-PIPELINING\n250-STARTTLS\n250 HELP\nCLIENT -> SERVER: STARTTLS\nSERVER -> CLIENT: 220 TLS go ahead\nSMTP Error: Could not connect to SMTP host.\nCLIENT -> SERVER: QUIT\nSERVER -> CLIENT: 221 node0.mydomain.com closing connection\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n```\n. Thanks for the direction! Such a simple fix. . ",
    "aswinsasi": "sir \nhow to fix this problem can u explain. ",
    "Med-All": "I have tried that method and it works fine for text containing attachments (or a string in my case) but when I will do something like\n$mail->addStringEmbeddedImage('sample.pdf', $uuid, 'sample.pdf', 'base64', '', 'attachment');\nresult is not the same as\n$mail->addAttachment('sample.pdf');\nShould I stream sample.pdf first or just open it to stream and then pass that to the function?. Never mind - file_get_contents() did the job. \nThanks for you help. You can close that topic.. ",
    "alexsdesign": "The code was pasted inbetween the code \"quote marks\" so I don't know why that occurred, apologies.\nSMTP Debugging is turned on... and set to 2 ... client and server side.\n$mail->SMTPDebug = 2;\nThe total response is: \n```\n2018-01-31 21:13:03 SMTP ERROR: Failed to connect to server: (0) SMTP connect() failed.\nhttps://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting Message could not be sent. Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n``\nWith SMTPDebug turned off ( set to 0 ) I get the following:Message could not be sent. Mailer Error: SMTP connect() failed. Https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting`. The code is running on my own colocated server.\nI'm currently running phpMailer 5 on a seperate domain (on the same server) and that connects with no issue.\nI'll do some more testing and digging and see what I can work out.\n(The current setup is not using the composer built version, so I might try that next). ",
    "arnabmunshi": "2018-02-05 02:38:08 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP r3sm10281083pgf.46 - gsmtp\n2018-02-05 02:38:08 CLIENT -> SERVER: EHLO localhost\n2018-02-05 02:38:08 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [103.77.46.221]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2018-02-05 02:38:08 CLIENT -> SERVER: STARTTLS\n2018-02-05 02:38:08 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nSMTP Error: Could not connect to SMTP host.\n2018-02-05 02:38:08 CLIENT -> SERVER: QUIT\n2018-02-05 02:38:08\n2018-02-05 02:38:08\nSMTP Error: Could not connect to SMTP host.\nMessage could not be sent. Mailer Error: SMTP Error: Could not connect to SMTP host.. 2018-02-05 02:38:08 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP r3sm10281083pgf.46 - gsmtp\n2018-02-05 02:38:08 CLIENT -> SERVER: EHLO localhost\n2018-02-05 02:38:08 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [103.77.46.221]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2018-02-05 02:38:08 CLIENT -> SERVER: STARTTLS\n2018-02-05 02:38:08 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nSMTP Error: Could not connect to SMTP host.\n2018-02-05 02:38:08 CLIENT -> SERVER: QUIT\n2018-02-05 02:38:08\n2018-02-05 02:38:08\nSMTP Error: Could not connect to SMTP host.\nMessage could not be sent. Mailer Error: SMTP Error: Could not connect to SMTP host.. ",
    "kdemay": "I read another suggestion for how to connect with GoDaddy mail and it looks like it worked. Thanks!. I read another suggestion for how to connect with GoDaddy mail and it looks like it worked. Thanks!. ",
    "NicolasINATIC": "```php\n$headers  = \"MIME-Version: 1.0\\r\\n\";\n$headers .= \"Content-type: text/html; charset=iso-8859-1\\r\\n\";\n$subject = 'TEST';\n$HTMLmessage = '\n\n\n\nMessage de test en html\n        \n\n';\n$TEXTmessage = 'Message de test en text';\n$mail = new PHPMailer();\n$mail->isSMTP(); // Set mailer to use SMTP\n$mail->Host = 'xxxxxxxx'; // Specify main and backup SMTP servers   ns0.ovh.net\n$mail->SMTPAuth = true; // Enable SMTP authentication\n$mail->Username = 'xxxxxxxx'; // SMTP username\n$mail->Password = 'xxxxxxxx'; // SMTP password\n$mail->SMTPSecure = 'tls'; // tls sur port 587, ssl sur port 465\n$mail->Port = 587; // TCP port to connect to\n$mail->From = \"xxxxxxxx\";\n$mail->FromName = \"xxxxxxxx\";\n$mail->AddAddress(\"xxxxxxxx\");\n$mail->Subject = $subject;\n$mail->IsHTML(TRUE);\n$mail->Body = $HTMLmessage;\n$mail->AltBody  =  $TEXTmessagetext; //if I disable this, it pass\n$mail->Encoding = \"base64\";\n$mail->DKIM_domain = 'xxxxxxxxx';\n$mail->DKIM_private = 'dkim/dkim.private';\n$mail->DKIM_selector = 'xxxxxxx';\n$mail->DKIM_passphrase = '';\n$mail->DKIM_identity = $mail->From;\nif(!$mail->Send())\n{\n        $error_message = \"Mailer Error: \" . $mail->ErrorInfo;\n        echo $error_message;\n} else \n{\n        $error_message = \"Successfully sent!\";\n        echo $error_message;\n}\n.php\n$headers  = \"MIME-Version: 1.0\\r\\n\";\n$headers .= \"Content-type: text/html; charset=iso-8859-1\\r\\n\";\n$subject = 'TEST';\n$HTMLmessage = '\n\n\n\nMessage de test en html\n        \n\n';\n$TEXTmessage = 'Message de test en text';\n$mail = new PHPMailer();\n$mail->isSMTP(); // Set mailer to use SMTP\n$mail->Host = 'xxxxxxxx'; // Specify main and backup SMTP servers   ns0.ovh.net\n$mail->SMTPAuth = true; // Enable SMTP authentication\n$mail->Username = 'xxxxxxxx'; // SMTP username\n$mail->Password = 'xxxxxxxx'; // SMTP password\n$mail->SMTPSecure = 'tls'; // tls sur port 587, ssl sur port 465\n$mail->Port = 587; // TCP port to connect to\n$mail->From = \"xxxxxxxx\";\n$mail->FromName = \"xxxxxxxx\";\n$mail->AddAddress(\"xxxxxxxx\");\n$mail->Subject = $subject;\n$mail->IsHTML(TRUE);\n$mail->Body = $HTMLmessage;\n$mail->AltBody  =  $TEXTmessagetext; //if I disable this, it pass\n$mail->Encoding = \"base64\";\n$mail->DKIM_domain = 'xxxxxxxxx';\n$mail->DKIM_private = 'dkim/dkim.private';\n$mail->DKIM_selector = 'xxxxxxx';\n$mail->DKIM_passphrase = '';\n$mail->DKIM_identity = $mail->From;\nif(!$mail->Send())\n{\n        $error_message = \"Mailer Error: \" . $mail->ErrorInfo;\n        echo $error_message;\n} else \n{\n        $error_message = \"Successfully sent!\";\n        echo $error_message;\n}\n```. When it pass (without altbody) I have :\n   MIME-Version: 1.0\n   Content-Type: text/html; charset=\"iso-8859-1\"\n\nBut with altBody it fail and I have : \n   MIME-Version: 1.0 \n   Content-Type: multipart/alternative; boundary=\"b1_rYkK3mYMaouR8CNbl6iNr0wCQqT6psvQpPoqCiJ7XU\"\n\n. When it pass (without altbody) I have :\n   MIME-Version: 1.0\n   Content-Type: text/html; charset=\"iso-8859-1\"\n\nBut with altBody it fail and I have : \n   MIME-Version: 1.0 \n   Content-Type: multipart/alternative; boundary=\"b1_rYkK3mYMaouR8CNbl6iNr0wCQqT6psvQpPoqCiJ7XU\"\n\n. I test without $header variable and without Encoding or with quoted-printable but it always fail.\n. I test without $header variable and without Encoding or with quoted-printable but it always fail.\n. Thank you for helping me, do you have another idea ?. Thank you for helping me, do you have another idea ?. ",
    "Maikuolan": "@zdenekvecera : Just a passing thought (I could be completely off-base here), but are you using Gmail to send emails by any chance? I've seen some weird, unexpected behaviour there before, which sometimes needed outbound emails to be formed in non-recommended or non-standard ways in order to work properly in some weird cases. (Not having a go at Gmail here of course.. I actually use Gmail myself, have done so for many years, and I like their service.. but just sharing it as a possible idea, as it is something I've encountered before).. Hm, okay. It was an idea, anyhow. Must be something else then. :-). Hi @Kumarnivas,\nJust another user (not a maintainer), but would you consider modifying your issue title, to something smaller, and instead just include all that information in the issue message itself? I'm subscribed to this repository, and when I received an email notification about your issue, the subject line was absolutely huge, because of the huge issue title. Keeping the issue title smaller, would improve readability.\nThanks.. ",
    "seehma": "Thanks for your reply.\nDo i understand that right, that i only get UTF-8 encoded E-Mails when there are characters in the text, which require UTF-8? I did not think about this, because i thought when i set the CharSet Variable that PHPMailer is sending E-Mails always with UTF-8.\nI will try that!\nWhat you said about the alt body could be a problem of my example code. As i said i did not think about that PHPMailer is always setting the encoding to ASCII if there is no character which is requiring UTF-8 so i shortened the text of the AltBody, I have to see if there is a special tag in the longer version.\nThanks in Advance,\nM.. ",
    "asmaulhq": "Hi marwanelsamman,\nI completely agree with @Synchro \nHere's the few steps to do it quickly.\n\nDownload composer from https://getcomposer.org/\nSelect php.exe while installing. E.g D:\\xampp\\php\\php.exe\nCreate a new folder in htdocs\nOpen CMD and navigate to that folder\nPaste \"composer require phpmailer/phpmailer\" and hit enter.\nUse \"Example\" code from https://github.com/PHPMailer/PHPMailer#a-simple-example\n\nYou're DONE.\nIf you're still facing problem using xampp/composer, you can simply download files from the link below.\nhttps://www.dropbox.com/s/1banmio6yg43rfi/phpmailer_with_autoload.php.zip?dl=0\n-\nThanks. ",
    "ziuta": "OK will do later! . ",
    "JakeCroz1": "There is no folder and file, vendor/autoload.php, located in PHPMailer directory. This is confusing.... ",
    "mazwied": "sorry  i solve this problem after read and learn this https://github.com/PHPMailer/PHPMailer/issues/1106, and solve this issues like this \n\n. ",
    "sanjayacloud": "I got Below Error.\n2018-02-27 11:41:37 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP b8sm23296587pff.31 - gsmtp\n2018-02-27 11:41:37 CLIENT -> SERVER: EHLO localhost\n2018-02-27 11:41:38 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [175.157.153.32]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2018-02-27 11:41:38 CLIENT -> SERVER: STARTTLS\n2018-02-27 11:41:38 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nSMTP Error: Could not connect to SMTP host.\n2018-02-27 11:41:38 CLIENT -> SERVER: QUIT\n2018-02-27 11:41:38 \n2018-02-27 11:41:38 \nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nAn Error Was Encountered\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. Which information do you need?. config file:\n```php\n<?php defined('BASEPATH') OR exit('No direct script access allowed.');\n$config['useragent']        = 'PHPMailer';              // Mail engine switcher: 'CodeIgniter' or 'PHPMailer'\n$config['protocol']         = 'smtp';                   // 'mail', 'sendmail', or 'smtp'\n$config['mailpath']         = '/usr/sbin/sendmail';\n$config['smtp_host']        = 'mail.sghapps.tk';\n$config['smtp_user']        = 'admin@sghapps.tk';\n$config['smtp_pass']        = 'MyPassword';\n$config['smtp_port']        = 465;\n$config['smtp_timeout']     = 30;                       // (in seconds)\n$config['smtp_crypto']      = '';                       // '' or 'tls' or 'ssl'\n$config['smtp_debug']       = 3;                        // PHPMailer's SMTP debug info level: 0 = off, 1 = commands, 2 = commands and data, 3 = as 2 plus connection status, 4 = low level data output.\n$config['debug_output']     = '';                       // PHPMailer's SMTP debug output: 'html', 'echo', 'error_log' or user defined function with parameter $str and $level. NULL or '' means 'echo' on CLI, 'html' otherwise.\n$config['smtp_auto_tls']    = false;                     // Whether to enable TLS encryption automatically if a server supports it, even if smtp_crypto is not set to 'tls'.\n$config['smtp_conn_options'] = array();                 // SMTP connection options, an array passed to the function stream_context_create() when connecting via SMTP.\n$config['wordwrap']         = true;\n$config['wrapchars']        = 76;\n$config['mailtype']         = 'html';                   // 'text' or 'html'\n$config['charset']          = null;                     // 'UTF-8', 'ISO-8859-15', ...; NULL (preferable) means config_item('charset'), i.e. the character set of the site.\n$config['validate']         = true;\n$config['priority']         = 3;                        // 1, 2, 3, 4, 5; on PHPMailer useragent NULL is a possible option, it means that X-priority header is not set at all, see https://github.com/PHPMailer/PHPMailer/issues/449\n$config['crlf']             = \"\\n\";                     // \"\\r\\n\" or \"\\n\" or \"\\r\"\n$config['newline']          = \"\\n\";                     // \"\\r\\n\" or \"\\n\" or \"\\r\"\n$config['bcc_batch_mode']   = false;\n$config['bcc_batch_size']   = 200;\n$config['encoding']         = '8bit';                   // The body encoding. For CodeIgniter: '8bit' or '7bit'. For PHPMailer: '8bit', '7bit', 'binary', 'base64', or 'quoted-printable'.\n// DKIM Signing\n// See https://yomotherboard.com/how-to-setup-email-server-dkim-keys/\n// See http://stackoverflow.com/questions/24463425/send-mail-in-phpmailer-using-dkim-keys\n// See https://github.com/PHPMailer/PHPMailer/blob/v5.2.14/test/phpmailerTest.php#L1708\n$config['dkim_domain']      = '';                       // DKIM signing domain name, for exmple 'example.com'.\n$config['dkim_private']     = '';                       // DKIM private key, set as a file path.\n$config['dkim_private_string'] = '';                    // DKIM private key, set directly from a string.\n$config['dkim_selector']    = '';                       // DKIM selector.\n$config['dkim_passphrase']  = '';                       // DKIM passphrase, used if your key is encrypted.\n$config['dkim_identity']    = '';                       // DKIM Identity, usually the email address used as the source of the email.\n```\nModel:\n```php\n<?php\nClass User_model extends CI_Model\n{\npublic function __construct()\n{\n    parent::__construct();\n\n}\n\npublic function all_forms()\n{\n\n}\n\nfunction get_location()\n{\n    $query = $this->db->query(\"SELECT * FROM location\");\n    $result = $query->result();\n    return $result;\n\n}\n\nfunction insert_data()\n{\n    $now = date_default_timezone_set('Asia/Colombo'); // Set Time-Zone\n    $now = date('Y-m-d H:i'); //Fomat Date and time\n    $data[\"place\"] = $this->input->post(\"place\");\n    $data[\"request_date\"] = $this->input->post(\"request_date\");\n    $data[\"location_id\"] = $this->input->post(\"location_id\");\n    $data[\"user\"] = $this->session->userdata(\"ID\");\n    $data[\"request_by\"] = $this->input->post(\"requested_by\");\n    $data[\"date\"]= $now;\n    $data[\"urgency\"] = $this->input->post(\"urgency\");\n    $this->db->insert('requisition', $data);\n    $config = Array(\n        'protocol' => 'smtp',\n        'smtp_host' => 'tls://mail.sghapps.tk',\n        'smtp_port' => '465',\n        'smpt_user' => 'admin@sghapps.tk',\n        'smtp_pass' => '**MyPassword**',\n    );\n\n    $this->load->library('email', $config);\n    $this->email->set_newline(\"\\r\\n\");\n\n    $this->email->from('admin@sghapps.tk', 'Sanjaya prasanna');\n    $this->email->to('sanjayaprasanna20@gmail.com');\n    // $this->email->cc('another@another-example.com');\n    //$this->email->bcc('them@their-example.com');\n\n    //Setup Email Body..\n    $place = \"<p style='color: darkorange'>Place</p>\";\n    $date = \"<p style='color: darkorange'>Date</p>\";\n    $request_by = \"<p style='color: darkorange'>Requested By</p>\";\n    $urgency = \"<p style='color: darkorange'>Urgency</p>\";\n    $heading = \"<h2 style='text-align: center; color: darkorange'>New Requisition has been arrived !</h2></br>\";\n    $time = \"<p style='color: darkorange'>Requested Time</p>\";\n    $this->email->subject('Email Test');\n    $this->email->message($heading.$place.$data['place'] = $this->input->post('place').'<br>'.$date.$data[\"request_date\"] = $this->input->post(\"request_date\").'<br>'.$request_by.$data[\"request_by\"] = $this->input->post(\"requested_by\").'<br>'.$urgency.$data[\"urgency\"] = $this->input->post(\"urgency\").'<br>'.$time.$data[\"date\"]= $now);\n\n    if($this->email->send())\n    {\n       // echo \"Your Email Has Been Sent.\";\n    }\n    else\n    {\n        show_error($this->email->print_debugger());\n        echo \"Your Request not sent. Try again later\";\n    }\n\n}\n\n}\n```\nController:\n```php\n<?php\ndefined('BASEPATH') OR exit('No direct script access allowed');\nclass User extends CI_Controller\n{\npublic function __construct()\n{\n    parent::__construct();\n    $this->load->model(\"Login_model\");\n    $this->load->library('session');\n}\n\npublic function index()\n{\n    if ($this->session->userdata(\"NAME\"))\n    {\n        $role = $this->session->userdata(\"ROLE\");\n        if ($role >= 0)\n        {\n            if ($this->input->post()) {\n                $this->form_validation->set_rules('place', 'lace of visit', 'required|max_length[100]');\n                $this->form_validation->set_rules('request_date', 'Requested Date', 'required');\n                $this->form_validation->set_rules('requested_by', 'Request By', 'required');\n\n                if ($this->form_validation->run() === TRUE) {\n                    $this->load->model('User_model');\n                    $this->User_model->insert_data();\n                    $this->session->set_flashdata('message_name', 'Your Requisition has been sent to the administrator');\n                    redirect('user/index');\n\n                }\n            }\n            $this->load->model(\"User_model\");\n            $data[\"location\"] = $this->User_model->get_location();\n            $this->load->view('user/public', $data);\n        }\n    }else\n    {\n        $this->session->set_flashdata('message_name', 'Your session has been expired. Please Login');\n        redirect('login/employee_login');\n    }\n}\n\n}\n```. Error Massage \n2018-04-25 05:00:30 Connection: opening to mail.sghapps.tk:465, timeout=30, options=array ()\n2018-04-25 05:01:00 Connection failed. Error #2: stream_socket_client(): unable to connect to mail.sghapps.tk:465 (Connection timed out) [/home/idex/public_html/sanjayaprasanna.tk/application/third_party/phpmailer/class.smtp.php line 299]\n2018-04-25 05:01:00 SMTP ERROR: Failed to connect to server: Connection timed out (110)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. I don't think. Because, It's work as normal PHP script with same configuration in this server.. . ",
    "younesyzd": "Thank you very much .. ",
    "krishanbagri08": "but the php mail() is working fine, i have send a mail from the server using the php mail function.. thanks ,it worked using SMTP. ",
    "gLevaa": "Nope, didn't change anything. Should I talk to my host?. ",
    "wl1508702360": "@Eternal-Infinity The password is wrong\n. Seen part of the source code, the phpMailer.php function smtpSend () under the code (as shown below) commented out, you can send, I would like to ask the following code commented out what can be the problem?\n\n. ",
    "vinothkumarmohan": "Hi there,\nI have tried Office 365 with PHP Mailer to send emails, and I could not able to connect to the SMTP server. \nIt is throwing the following errors.\nSMTP -> ERROR: Failed to connect to server: Connection timed out (110)\nI have tried finding the answers on github issues as well as on stackoverflow however code seems to be correct on my side. I suspect there is some settings or verification needs to be enabled on the Office365 but not sure what it is and where it is.\nCould someone please help to make it work with Office365?\nThanks\npls update the ticket with this content. Hi,\nI have checked with my host provider and they confirmed that none of the ports are blocking outbound SMTP. I have pasted my code below for your reference.\n<?php\nrequire_once '../class.phpmailer.php';\nini_set(\"display_errors\", \"1\");\n$mail = new PHPMailer(true);\n$mail->isSMTP();\n$mail->Host = 'smtp.office365.com';\n$mail->AuthType = 'LOGIN';\n$mail->Port = 465;\n$mail->SMTPSecure = 'tls';\n$mail->SMTPAuth = true;\n$mail->Username = 'su***t@**o**to*.com';\n$mail->Password = '************';\n$mail->SetFrom('su***t@**o**to*.com', 'FromEmail');\n$mail->addReplyTo('su***t@**o**to*.com', 'ReplyTo');\n$mail->AddAddress(\"st*****.m@sa****ug*.com\");\n$mail->SMTPDebug = 4;\n$mail->Debugoutput = \"html\";\n$mail->IsHTML(true);\n$mail->Subject = 'This is a test mail from Office 365';\n$mail->Body = '<h1>PHP Script test:</h1> <br/> <p>No modification in core file.</p>';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\nif (!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n?>\nAlso on side note, I am running this script with IP like below URL and not from the domain.\nhttp://MY_IP_ADDRESS/PHPMailer/examples/office365.php\n. ",
    "torressam333": "If you are using a gmail account you may need to adjust your security settings in order for the email to be passed and sent. Although, I don\u2019t recommend making this a permanent change as it leaves your email vulnerable. You can use a pseudo email address that you have opened for testing purposes. \n\nOn Oct 5, 2018, at 7:24 AM, Marcus Bointon notifications@github.com wrote:\nIt\u2019s probably your hosting provider blocking outbound SMTP, not your code. Read the troubleshooting guide for how to diagnose it.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n.  **PHPMailer is meant to be for assembling messages, not parsing user\ninput.****\n\nWell Said!\nOn Tue, Aug 14, 2018 at 12:34 AM, Marcus Bointon notifications@github.com\nwrote:\n\nThis is a bit more complex than you make out.\nThe split of addresses in addAddress by comma is too na\u00efve - addresses\ncan contain commas - for example \"smith,jane\"@example.com\" is a valid\naddress. Parsing these reliably is extremely difficult, so it's easier to\nnot do so and limit this method to adding a single address, i.e. what it\nalready does.\nIf you have one address that fails validation, you fail the whole\ncollection, so you can't tell which one was bad, though if exceptions are\nenabled it will throw an exception (from addOrEnqueue...) as soon as it\nhits a bad address. Because the source format used for multiple addresses\nvaries so much (comma-delimited, semi-colon delimited, line\nbreak-delimited, in an array (with or without names) etc), it's better to\ndo that in user code, which is why this method has been rejected in the\npast. If we were going to support one format, it should be a simple array;\nPHPMailer is meant to be for assembling messages, not parsing user input.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/pull/1520#issuecomment-412781338,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AgUDadERwnFRsf4LgB0FhjbS2fASbkEYks5uQn1qgaJpZM4V7JKj\n.\n. \n",
    "soywod": "Yes I'm sure about port 25 and telnet is OK. After some research I found the problem. It's because of ... the underscore in the hostname :rofl: ! In fact there is 2 things : the first one is the regex that checks the hostname, it does not take in consideration this underscore. The 2nd thing is there is a 2nd check on this hostname, and it uses the filter_var with FILTER_VALIDATE_URL, which comes from the RFC2396 (a bit obsolete IMO). I tried in local with parse_url and PHP_URL_HOST (from RFC3986) and it works well. If you agree, I would like to do a PR about this. I think underscore should be accepted.. Yes you right, it's not a URL but a Hostname, and this _ is not permitted. So I guess I have to change my docker hostnames insead. Thank you for your fast replies !. 1. Could you speak in English ?\n2. Could you give some logs ? Informations about the commands you tried ? Your environment ?. The _ character is allowed in URLs, but not in Hostname. ",
    "WaaZaa666": "Pardon me reopening this issue, but perhaps you would like to reconsider your standpoint. \nEven if I cannot set this in a 'regular' hostname, I am able to set this in a docker 'link' name. Although I agree this is not a valid hostname for regular machines, these docker links will be increasingly more used, which will probably let other users run in to this again as well. \nIn my opinion, checking the hostname this strict is a little overkill and it could allow more different characters. In any case, a better error message that this is an invalid hostname would be appreciated, since I spent some time finding the issue here ;)\nLittle addition: since docker-compose by default inserts an underscore, I am confident more people will run into this... \n. ",
    "abelnexus": "when install composer in cmd is freeze. it works now lol \nit took too long. SMTP Error: Could not authenticate.\n2018-03-20 23:43:48 CLIENT -> SERVER: QUIT\n2018-03-20 23:43:48 SERVER -> CLIENT: 221 2.0.0 closing connection j192sm862033vke.9 - gsmtp\nSMTP Error: Could not authenticate.\nMessage could not be sent. Mailer Error: SMTP Error: Could not authenticate.. 2018-03-21 00:08:13 SERVER -> CLIENT: 220 smtp.gmail.com ESMTP m185sm1106113ywf.52 - gsmtp\n2018-03-21 00:08:13 CLIENT -> SERVER: EHLO localhost\n2018-03-21 00:08:13 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [2800:200:f548:a4:eca2:a44a:c49d:e02c]250-SIZE 35882577250-8BITMIME250-STARTTLS250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2018-03-21 00:08:13 CLIENT -> SERVER: STARTTLS\n2018-03-21 00:08:13 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\n2018-03-21 00:08:14 CLIENT -> SERVER: EHLO localhost\n2018-03-21 00:08:14 SERVER -> CLIENT: 250-smtp.gmail.com at your service, [2800:200:f548:a4:eca2:a44a:c49d:e02c]250-SIZE 35882577250-8BITMIME250-AUTH LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH250-ENHANCEDSTATUSCODES250-PIPELINING250-CHUNKING250 SMTPUTF8\n2018-03-21 00:08:14 CLIENT -> SERVER: MAIL FROM:easywash17@gmail.com\n2018-03-21 00:08:14 SERVER -> CLIENT: 530-5.5.1 Authentication Required. Learn more at530 5.5.1 https://support.google.com/mail/?p=WantAuthError m185sm1106113ywf.52 - gsmtp\n2018-03-21 00:08:14 SMTP ERROR: MAIL FROM command failed: 530-5.5.1 Authentication Required. Learn more at530 5.5.1 https://support.google.com/mail/?p=WantAuthError m185sm1106113ywf.52 - gsmtp\nThe following From address failed: easywash17@gmail.com : MAIL FROM command failed,Authentication Required. Learn more at https://support.google.com/mail/?p=WantAuthError m185sm1106113ywf.52 - gsmtp,530,5.5.1SMTP server error: MAIL FROM command failed Detail: Authentication Required. Learn more at https://support.google.com/mail/?p=WantAuthError m185sm1106113ywf.52 - gsmtp SMTP code: 530 Additional SMTP info: 5.5.1\nMessage could not be sent. Mailer Error: The following From address failed: easywash17@gmail.com : MAIL FROM command failed,Authentication Required. Learn more at https://support.google.com/mail/?p=WantAuthError m185sm1106113ywf.52 - gsmtp ,530,5.5.1SMTP server error: MAIL FROM command failed Detail: Authentication Required. Learn more at https://support.google.com/mail/?p=WantAuthError m185sm1106113ywf.52 - gsmtp SMTP code: 530 Additional SMTP info: 5.5.1SMTP server error: MAIL FROM command failed Detail: Authentication Required. Learn more at https://support.google.com/mail/?p=WantAuthError m185sm1106113ywf.52 - gsmtp SMTP code: 530 Additional SMTP info: 5.5.12018-03-21 00:08:14 CLIENT -> SERVER: QUIT\n2018-03-21 00:08:14 SERVER -> CLIENT: 221 2.0.0 closing connection m185sm1106113ywf.52 - gsmtp. ",
    "ayushrajmishra": "2018-03-23 11:47:27 SERVER -> CLIENT: 220 us2.outbound.mailhostbox.com ESMTP Postfix\n2018-03-23 11:47:27 CLIENT -> SERVER: EHLO dtitsphp.000webhostapp.com\n2018-03-23 11:47:27 SERVER -> CLIENT: 250-us2.outbound.mailhostbox.com250-PIPELINING250-SIZE 41648128250-VRFY250-ETRN250-STARTTLS250-AUTH PLAIN LOGIN250-AUTH=PLAIN LOGIN250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\n2018-03-23 11:47:27 CLIENT -> SERVER: STARTTLS\n2018-03-23 11:47:27 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nSMTP Error: Could not connect to SMTP host.\n2018-03-23 11:47:27 CLIENT -> SERVER: QUIT\n2018-03-23 11:47:27 SERVER -> CLIENT: \n2018-03-23 11:47:27 SMTP ERROR: QUIT command failed: \nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nAgain i am getting this error even after changing the tls. i don't get what  you are saying..Please help me. ",
    "notian": "When do you plan to merge master into 6.0? I can update my composer to dev-master, but I'd rather stick to a numeric version.. Done.. ",
    "AdamSEY": "Thanks for your reply, I've been in contact with digitalocean and they said that the main reason why they have chosen to block these ports by default is due to how blacklists handle IPv6 spam complaints. Blacklists will block the full /64 subnet of reported address in the event of a spam complaint. This impacts a whole range of customers and Droplets unaffiliated with incriminating Droplet/user.\u200b\n. A solution came up to my mind is editing the /etc/gai.conf file to prioritize IPv4. Adding this to your wiki could be a good help. so instead of calling gethostbyname and getting google IP address, after that change, we will get IPv4 instead of IPv6 by default. but what surprised me that nothing changed and I'm still getting the same exact error. but before when I call telnet smtp.gmail.com 587 I'm getting trying some-IPv6 and it fails to connect but now I'm getting: \nTrying 66.102.1.108...\nConnected to gmail-smtp-msa.l.google.com.\nEscape character is '^]'.\n220 smtp.gmail.com ESMTP d48sm1488096wrd.12 - gsmtp. ",
    "fi5er": "After taking a closer look, it seems that the implementation has changed quite a bit. In earlier versions of PHPMailer, the $all_recipients array was used for the dupe check, but now $RecipientsQueue is used differently. I don't think what I'm looking for is feasible without more substantial changes.\nI'm closing this now; please ignore.. ",
    "hardikdiff": "Hello sir,\nbut when i use Host : smtp.gmail.com and i use gmail id & password at that time this script is executing with mail outgoing from this host and when i use for my website domain name in Host at that time i got this type of error\nif i use to new version than problem can be solve?\nplease give me some solution as soon as possible. can you tell that how can i solve this issue in short words please.\nthanks. Hello sir,\nConnection: opening to mail.mydomain.com:465, timeout=300, options=array ( ) \nConnection: opened 2018-03-31 07:12:22\nSERVER -> CLIENT: \nSMTP NOTICE: EOF caught while checking if connected   \nConnection: closed\nSMTP Error: Could not connect to SMTP host.   \nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting \ni used new version also\nnow i set my host, after that i got this error frequently\nplease help me solve this issue. ",
    "ajlucena78": "\nI see this, maybe my Firefox version does not support hindi characters. Others are fine.. ",
    "anshul0430": "i dont know what you do mean sir? how to stepup that. How can i setup SPF , dkim and dmarc ? \n. It is working but after sometime my emails are  going to spam in gmail.. ",
    "madbananaman": "Would setting SMTPAutoTLS = false as default be a viable option?\nOr potentially echoing a message for users as feedback to include:\n$mail->SMTPAutoTLS = false;. ",
    "EnTeteDuNet": "Hi there,\nI have been facing exactly the same issue today, and it took me a long while to get to same conclusion, and so I ended up here.\nJust checking if you have any relaible solution for this \"too long\" subject issue to suggest in the meantime ? Is changing the const STD_LINE_LENGTH value effectively ok ? as I suppose it would impact other parts..\nThanks !. @lukasmedia Thank you, I will give it a try then.. ",
    "bkonetzny": "Same issue here, can confirm that STD_LINE_LENGTH = 255 fixes the issue.\nWhats the way to go here to solve this issue? Do a PR with the changed value? I don't know enough about DKIM to understand whats the negative consequence of increasing this setting.. ",
    "oneprez": "Hello,\nHave you found a fix for this problem ?. ",
    "felipefreitasweb": "look my screen:\n\nI would not like to show 'https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting' to the client. \nIt would be nice if you just showed: SMTP connect() failed. ~~https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting~~. @Synchro  Firstly I used the SMTP test class, plus I encountered a problem (I think), when I test with login authentication and I type a wrong username, the class returns true. Only the error is displayed if the password is wrong.. Thank you, I'll handle the message. :). ",
    "ardi0106": "Invalid address: (From): $sender\nInvalid address: (Reply-To): $sender\nInvalid address: (From): root@localhost\nMessage could not been sent\n//Server settings\n    $sender = 'ardi.64463@gmail.com';\n    $mail->SMTPDebug = 2;                                 // Enable verbose debug output\n    $mail->isSMTP();                                      // Set mailer to use SMTP\n    $mail->Host = 'smtp.gmail.com';  // Specify main and backup SMTP servers\n    $mail->SMTPAuth = true;                                 // Enable SMTP authentication\n    $mail->Username = '$sender';                 // SMTP username\n    $mail->Password = '**';                           // SMTP password\n    $mail->SMTPSecure = 'tls';                            // Enable TLS encryption, ssl also accepted\n    $mail->Port = 587;                                    // TCP port to connect to\n//Recipients\n$mail->SetFrom('$sender', 'Mailer');\n$mail->addReplyTo('$sender', 'Information');\n$mail->addAddress($_POST['receiver']);               // Name is optional\n$file_name = $_FILES['file']['name'];\nmove_uploaded_file($_FILES['file']['tmp_name'], $file_name);\n//Attachments\n$mail->addAttachment($file_name);         // Add attachments\n\n//Content\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = $_POST[\"subject\"];\n$mail->Body    = $_POST[\"message\"];\n\n}catch (Exception $e) {\n    echo 'Message could not be sent. Mailer Error: ', $mail->ErrorInfo;\n}\nif(!$mail->send()){\necho \"Message could not been sent\";\n}\nelse{\necho \"Message has been sent\";\n\n}\n    }   \n?>. ohh it works, thank you somuch, god blessing you @Synchro . at the title ( WARNING ............)\n\nhow can i upgrade my PHP version ?. if i upgrade my PHP thats mean i must uninstall that xampp, right?. but My PHP version now  v3.2.2 . ok i'll try it , thanks a lot.... I wanna send email to my friend, but i dont have a domain website, i used\nby localhost, but my script is always error, i set mail form with my\naccount gmail, ,\nPada tanggal 12 Apr 2018 14.30, \"Marcus Bointon\" notifications@github.com\nmenulis:\n\nI don't know what version PHP you're running, but it's not 3.2.2.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1410#issuecomment-380706301,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AkW3IsassxXanJ_X3KivInEIG9WIMkA8ks5tnwKagaJpZM4TRPrq\n.\n. Im sorry if my english is not good enough, im student of indonesian, and im\nstill study english, thank you so much sir for your attention,,,\n\nPada tanggal 12 Apr 2018 22.19, \"Marcus Bointon\" notifications@github.com\nmenulis:\n\nI'm really not clear what you're saying, but if you want to send using\nyour gmail account and SMTP, use the gmail example you'll find in the\nexamples folder.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1410#issuecomment-380842799,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AkW3IufA0fGc4q6rc3Xodt6NTR0YtABdks5tn3CSgaJpZM4TRPrq\n.\n. Thankyou so much , i got a new solution from you, and now my project is\nrunning like i hope... thank you sir\n\nPada tanggal 12 Apr 2018 23.08, \"Ardi Saputra\" ardi.64463@gmail.com\nmenulis:\n\nIm sorry if my english is not good enough, im student of indonesian, and\nim still study english, thank you so much sir for your attention,,,\nPada tanggal 12 Apr 2018 22.19, \"Marcus Bointon\" notifications@github.com\nmenulis:\n\nI'm really not clear what you're saying, but if you want to send using\nyour gmail account and SMTP, use the gmail example you'll find in the\nexamples folder.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1410#issuecomment-380842799,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AkW3IufA0fGc4q6rc3Xodt6NTR0YtABdks5tn3CSgaJpZM4TRPrq\n.\n\n\n. \n",
    "kmchen13": "Using \"localhost\" gives the same results.\nWhat's wrong with my mail server ?. Thanks for notifying. server was down. Telnet works now on port 587 but conection through PHP still is the same. I fixed some issues and implemented a letsencrypt certificate for the mail server. Now thunderbird accepts conections without warnings but php still can't connect\nWhat do you think ?. ",
    "juragandotid": "please update DKIM_sign like this : \nnew.txt\nThank you.. this more complex and best\ndkim.zip\nPlease update dkim feature, Thank you.. The problem i got blank dkim public key file after generate. . ",
    "laurelBE": "Yes is it working now, but refresh token retrieved is too much is in length, is that fine? . ",
    "ltbedev": "Thanks for reply but is it possible to make the gmail xauth code compatible with exchange account. ",
    "dracken": "Doesn't look like the reversion that @syncro performed worked as I'm still seeing 'hhihi' on that page, the last good revision before user angilinea87 (who has since deleted their profile) is https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting/f5babff28c37b728c4230e23d781c6f97bec2a5d.  @Synchro Are you able to revert back to this branch in the wiki?. ",
    "thusila": "Thank you very much it works. ",
    "earvinnill": "113kb downloaded only. anyone can help?. Thank you.. ",
    "menriquez": "thank you for your help...so you were right and I removed the \"second\" entry in the require section and ran composer install...keep in mind I don't want the dev stuff I just want the few files needed to run the script...and that seems to be the problem now...it seems to trying to install all the require-dev files and I really don't need or want that stuff in my project dir...here is the dump.\n```\nC:\\xampp70\\htdocs\\tasks>composer install\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\nProblem 1\n    - phpdocumentor/phpdocumentor v2.0.0 requires phpdocumentor/template-zend ~1.3 -> satisfiable by phpdocumentor/template-zend[1.3.0, 1.3.1, 1.3.2].\n    - phpdocumentor/phpdocumentor v2.0.1 requires phpdocumentor/template-zend ~1.3 -> satisfiable by phpdocumentor/template-zend[1.3.0, 1.3.1, 1.3.2].\n    - phpdocumentor/phpdocumentor v2.1.0 requires phpdocumentor/template-zend ~1.3 -> satisfiable by phpdocumentor/template-zend[1.3.0, 1.3.1, 1.3.2].\n    - phpdocumentor/phpdocumentor v2.2.0 requires phpdocumentor/template-zend ~1.3 -> satisfiable by phpdocumentor/template-zend[1.3.0, 1.3.1, 1.3.2].\n    - phpdocumentor/phpdocumentor v2.3.2 requires phpdocumentor/template-zend ~1.3 -> satisfiable by phpdocumentor/template-zend[1.3.0, 1.3.1, 1.3.2].\n    - phpdocumentor/phpdocumentor v2.7.1 requires phpdocumentor/template-zend ~1.3 -> satisfiable by phpdocumentor/template-zend[1.3.0, 1.3.1, 1.3.2].\n    - phpdocumentor/phpdocumentor v2.8.0 requires phpdocumentor/template-zend ~1.3 -> satisfiable by phpdocumentor/template-zend[1.3.0, 1.3.1, 1.3.2].\n    - phpdocumentor/phpdocumentor v2.8.1 requires phpdocumentor/template-zend ~1.3 -> satisfiable by phpdocumentor/template-zend[1.3.0, 1.3.1, 1.3.2].\n    - phpdocumentor/phpdocumentor v2.8.2 requires phpdocumentor/template-zend ~1.3 -> satisfiable by phpdocumentor/template-zend[1.3.0, 1.3.1, 1.3.2].\n    - phpdocumentor/phpdocumentor v2.7.0 requires zendframework/zend-i18n 2.1. -> satisfiable by zendframework/zend-i18n[2.1.0, 2.1.1, 2.1.2, 2.1.3, 2.1.4, 2.1.5, 2.1.6] but these conflict with your requirements or minimum-stability.\n    - phpdocumentor/phpdocumentor v2.6.1 requires zendframework/zend-i18n 2.1. -> satisfiable by zendframework/zend-i18n[2.1.0, 2.1.1, 2.1.2, 2.1.3, 2.1.4, 2.1.5, 2.1.6] but these conflict with your requirements or minimum-stability.\n    - phpdocumentor/phpdocumentor v2.6.0 requires zendframework/zend-i18n 2.1. -> satisfiable by zendframework/zend-i18n[2.1.0, 2.1.1, 2.1.2, 2.1.3, 2.1.4, 2.1.5, 2.1.6] but these conflict with your requirements or minimum-stability.\n    - phpdocumentor/phpdocumentor v2.5.0 requires zendframework/zend-i18n 2.1. -> satisfiable by zendframework/zend-i18n[2.1.0, 2.1.1, 2.1.2, 2.1.3, 2.1.4, 2.1.5, 2.1.6] but these conflict with your requirements or minimum-stability.\n    - phpdocumentor/phpdocumentor v2.4.0 requires zendframework/zend-i18n 2.1. -> satisfiable by zendframework/zend-i18n[2.1.0, 2.1.1, 2.1.2, 2.1.3, 2.1.4, 2.1.5, 2.1.6] but these conflict with your requirements or minimum-stability.\n    - phpdocumentor/phpdocumentor v2.3.1 requires dompdf/dompdf dev-master@dev -> satisfiable by dompdf/dompdf[dev-master] but these conflict with your requirements or minimum-stability.\n    - phpdocumentor/phpdocumentor v2.3.0 requires dompdf/dompdf dev-master@dev -> satisfiable by dompdf/dompdf[dev-master] but these conflict with your requirements or minimum-stability.\n    - phpdocumentor/template-zend 1.3.2 requires ext-xsl * -> the requested PHP extension xsl is missing from your system.\n    - phpdocumentor/template-zend 1.3.1 requires ext-xsl * -> the requested PHP extension xsl is missing from your system.\n    - phpdocumentor/template-zend 1.3.0 requires ext-xsl * -> the requested PHP extension xsl is missing from your system.\n    - Conclusion: don't install phpdocumentor/phpdocumentor v2.9.0\n    - phpdocumentor/phpdocumentor v2.8.3 requires phpdocumentor/fileset ~1.0 -> satisfiable by phpdocumentor/fileset[1.0.0].\n    - phpdocumentor/phpdocumentor v2.8.4 requires phpdocumentor/fileset ~1.0 -> satisfiable by phpdocumentor/fileset[1.0.0].\n    - phpdocumentor/phpdocumentor v2.8.5 requires phpdocumentor/fileset ~1.0 -> satisfiable by phpdocumentor/fileset[1.0.0].\n    - Conclusion: don't install phpdocumentor/fileset 1.0.0|install phpdocumentor/phpdocumentor v2.9.0\n    - Installation request for phpdocumentor/phpdocumentor 2. -> satisfiable by phpdocumentor/phpdocumentor[v2.0.0, v2.0.1, v2.1.0, v2.2.0, v2.3.0, v2.3.1, v2.3.2, v2.4.0, v2.5.0, v2.6.0, v2.6.1, v2.7.0, v2.7.1, v2.8.0, v2.8.1, v2.8.2, v2.8.3, v2.8.4, v2.8.5, v2.9.0].\nTo enable extensions, verify that they are enabled in your .ini files:\n    - C:\\xampp72\\php\\php.ini\n  You can also run php --ini inside terminal to see which files are used by PHP in CLI mode.\n```. ",
    "ylikzeh": "Oh shit i think i have to resend the code and error message\nCode : \n`<?php\n// Import PHPMailer classes into the global namespace\n// These must be at the top of your script, not inside a function\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\n//Load Composer's autoloader\nrequire './PHPMailer/src/PHPMailer.php';\nrequire './PHPMailer/src/SMTP.php';\nrequire './PHPMailer/src/Exception.php';\n$mail = new PHPMailer(true);                              // Passing true enables exceptions\ntry {\n    //Server settings\n    $mail->SMTPDebug = 2;                              // Enable verbose debug output\n    $mail->isSMTP();                                      // Set mailer to use SMTP\n    $mail->Host = 'smtp.gmail.com';  // Specify main and backup SMTP servers\n    $mail->SMTPAuth = true;                               // Enable SMTP authentication\n    $mail->Username = 'ylikzeh@gmail.com';                 // SMTP username\n    $mail->Password = '980514016349';                           // SMTP password\n    //$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, ssl also accepted\n    $mail->Port = 25;                                    // TCP port to connect to\n//Recipients\n$mail->setFrom('ylikzeh@gmail.com', 'Mailer');\n$mail->addAddress('ylikzeh@gmail.com', 'Vegeta');     // Add a recipient\n//$mail->addAddress('ellen@example.com');               // Name is optional\n//$mail->addReplyTo('info@example.com', 'Information');\n\n//  $mail->addCC('cc@example.com');\n   // $mail->addBCC('bcc@example.com');\n//Attachments\n//$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n//$mail->addAttachment('/tmp/image.jpg', 'new.jpg');    // Optional name\n\n//Content\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = 'At least we done this';\n$mail->Body    = 'Been waiting for you whole night';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\n$mail->SMTPOptions = array(\n'ssl' => array(\n    'verify_peer' => false,\n    'verify_peer_name' => false,\n    'allow_self_signed' => true\n)\n\n);\n    $mail->send();\n    echo 'Message has been sent';\n} catch (Exception $e) {\n    echo 'Message could not be sent. Mailer Error: ', $mail->ErrorInfo;\n}\n?>Error Message:Fatal error: Maximum execution time of 30 seconds exceeded in C:\\xampp\\htdocs\\php_test\\System Warranty\\PHPMailer\\src\\SMTP.php on line 1272. And the page seem loading forever before this message is outputed. I tried a desperate move by changing execution time in php.ini file... Now this erroe appear2018-04-29 02:24:09 SMTP ERROR: Failed to connect to server: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. (10060). Thanks guys issue has been settle.... Thanks to the developer of PHPMailer... and for anyone who encountered error like this, please change the smtp secure server to tls and port to 587...Wish you have a good day with php$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, ssl also accepted\n    $mail->Port = 587;                                    // TCP port to connect to`. ",
    "Ronzfz": "can you code it for me please.. . ",
    "mengzhen94": "@Synchro Thanks for your reply. Is there any way to check if the network connection timeout issue is caused by ISP or Gmail? . @Synchro https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting#testing-ssl-outside-php I am testing this part and get connect timeout issue so is the problem caused by ISP? . @Synchro Is it possible that it was Gmail/Hotmail that blocked my connection, not ISP? Sorry for so many questions. . For people who have similar issues: Finally we found it was AWS EC2 that blocked SMTP Port 25 and as it said on EC2 Port 25 Throttle, Amazon EC2 throttles traffic on port 25 of all EC2 instances by default. We start to use AWS SES and it is working fine till now. \nMarcus, thanks so much for your help!. ",
    "123wong": "ok. can help me check.. ",
    "ayushbhardwaj": "It's versioning issue I switch to PHPMailer ver. 5.2.26 and it works perfectly fine. Thanks for an awesome script.. Thanks a lot Synchro. appreciate your support and help :). ",
    "nikkkko": "I used this setting but this only solved the problem with the body but not to the subject.. From - Tue May 15 11:49:55 2018\nX-Account-Key: account1\nX-UIDL: UID7218-1496435176\nX-Mozilla-Status: 0001\nX-Mozilla-Status2: 00000000\nX-Mozilla-Keys:                                                                                 \nReturn-Path: <nnirich@kirke.com.ar>\nX-Original-To: nnirich@kirke.ws\nDelivered-To: x16604457@homiemail-mx34.g.dreamhost.com\nReceived: from vade-backend5.dreamhost.com (caibbdcaaaai.dreamhost.com [208.113.200.8])\n    (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))\n    (No client certificate requested)\n    by homiemail-mx34.g.dreamhost.com (Postfix) with ESMTPS id B38806002AC03\n    for <nnirich@kirke.ws>; Tue, 15 May 2018 07:49:52 -0700 (PDT)\nReceived: from homiemail-a91.g.dreamhost.com (sub5.mail.dreamhost.com [208.113.200.129])\n    by vade-backend5.dreamhost.com (Postfix) with ESMTPS id 522BC5C2EB068\n    for <nnirich@kirke.ws>; Tue, 15 May 2018 07:49:52 -0700 (PDT)\nAuthentication-Results: vade-backend5.dreamhost.com; dkim=pass\n    reason=\"1024-bit key; unprotected key\"\n    header.d=kirke.com.ar header.i=@kirke.com.ar header.b=XwcX7/Gd;\n    dkim-adsp=pass; dkim-atps=neutral\nReceived: from homiemail-a91.g.dreamhost.com (localhost [127.0.0.1])\n    by homiemail-a91.g.dreamhost.com (Postfix) with ESMTP id D0B046A22;\n    Tue, 15 May 2018 07:49:51 -0700 (PDT)\nDKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=kirke.com.ar; h=date:to\n    :from:cc:subject:message-id:mime-version:content-type\n    :content-transfer-encoding; s=kirke.com.ar; bh=TxAlRNIjBaSfW+a4s\n    lb1keMl0fY=; b=XwcX7/Gd7WU3q2K9N5brvsV5YWvWSE8FWJPWLJ4kH236Eibo1\n    G65qVMxzdd/lvpZlBKdDVcvQt1/RaRiC+C4P732kVvOWg9w6Tjv/zCCfjQM5OxD3\n    gWGvHzKPVwtDxCkn/kAKBSZlt+rYByIpzma6R1Vrxm6BrzZh5cN+0lawFM=\nReceived: from 192.168.143.11 (unknown [190.195.24.178])\n    (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))\n    (No client certificate requested)\n    (Authenticated sender: nnirich@kirke.com.ar)\n    by homiemail-a91.g.dreamhost.com (Postfix) with ESMTPSA id 0225F6A1F;\n    Tue, 15 May 2018 07:49:50 -0700 (PDT)\nDate: Tue, 15 May 2018 11:49:59 -0300\nTo: nnirich@kirke.ws\nFrom: \"Nicolas Nirich [KIRKE]\" <nnirich@kirke.com.ar>\nCc: nnirich@protonmail.com\n**Subject: =?iso-8859-1?B?w6HDqcOtw7PDusOx?=**\nMessage-ID: <5OiAVLXTyOrtYDWZMOb9SSa0GeQ54EAxB0mvP5kjKg@192.168.143.11>\nX-Mailer: PHPMailer 6.0.5 (https://github.com/PHPMailer/PHPMailer)\nMIME-Version: 1.0\nContent-Type: multipart/mixed;\n    boundary=\"b1_5OiAVLXTyOrtYDWZMOb9SSa0GeQ54EAxB0mvP5kjKg\"\nContent-Transfer-Encoding: 7bit\nX-VR-STATUS: OK\nX-VR-SCORE: 70\nX-VR-SPAMCAUSE: gggruggvucftvghtrhhoucdtuddrgedthedrvdejgdekudcutefuodetggdotefrodftvfcurfhrohhfihhlvgemucggtfgfnhhsuhgsshgtrhhisggvpdfftffgtefojffquffvnecuuegrihhlohhuthemuceftddtnecuhdfknhhvihhsihgslhgvucifohhrughsucdlhedtmdenfghrlhcuvffnffculddvtddmnecujfgurhepfffvhffukffogggtgfesmhejreerhedtudenucfhrhhomhepfdfpihgtohhlrghsucfpihhrihgthhculgfmkfftmffgngdfuceonhhnihhrihgthheskhhirhhkvgdrtghomhdrrghrqeenucffohhmrghinhepkhhirhhkvgdrfihsnecukfhppedvtdekrdduudefrddvtddtrdduvdelpdduledtrdduleehrddvgedrudejkeenucfrrghrrghmpehmohguvgepshhmthhppdhhvghlohephhhomhhivghmrghilhdqrgeluddrghdrughrvggrmhhhohhsthdrtghomhdpihhnvghtpedvtdekrdduudefrddvtddtrdduvdelpdhrvghtuhhrnhdqphgrthhhpedfpfhitgholhgrshcupfhirhhitghhucglmffktffmgfgnfdcuoehnnhhirhhitghhsehkihhrkhgvrdgtohhmrdgrrheqpdhmrghilhhfrhhomhepnhhnihhrihgthheskhhirhhkvgdrtghomhdrrghrpdhnrhgtphhtthhopehnnhhirhhitghhsehkihhrkhgvrdifshenucevlhhushhtvghrufhiiigvpeeh. ",
    "eidoriantan": "The language code for Tagalog is 'tl'. I'm renaming it. ",
    "Svetoslav92": "No, I haven't modified the phpmailerclass except changed to public UTF8 encoding nor the $to_email is modified when sending. As I am telling this is happening for certain hosts and never bugs for yahoo,live.com etc. Can you please test it your own with mail-tester.com? (smtpauth false). Ok I found the Bug! Used strtolower on the $email_to and it was sent successfully. So It seems that phpmailer is strlowering the address at that point you mentioned,which is indeed a change? Usually emails are case insensitive but if the external host has this check the problem appears.. I guess mail-tester.com and some other providers are against RFC ..  Anyways thanks for the help.\nCan I ask offtopic thing? Is there a way to see if mx record will accept the message and if so try another mx record. Currently I get the lowest priority record but if it is not available it does again \"data not accepted\" error. Or at least is there a way to retry sendout (probably at the point it denies the STARTTLS use goto command x times or something).. ",
    "gwi-mmuths": "Commits are squashed, so you can have a look at a full diff.. I also added the features to the example.. @MaxLucky you can check https://github.com/PHPMailer/PHPMailer/blob/master/examples/DKIM_sign.phps.\nAt the moment it's not possible to add message-id. Using current master supports adding custom header only. . Done. That's true, but it's enough for me.\nIt would be better having an end2end test by checking DKIM signature is passing at all. . Yes it's passing, this fork is already in production \ud83d\ude09. ",
    "JelleSFS": "Does anyone have any thoughts on this?. > I see what you mean - but also I can't see a way to preserve spaces in the original header line that would not result in breaking lines that should not have spaces - folding/unfolding should be lossless, regardless of whether lines contain spaces or not.\nI think the way of folding is perfectly fine for critical headers like DKIM, but causes issues for other kind of headers.\nMaybe there should be 2 kind of folding-methods? One for the critical headers where additional spaces are needed to guarantee proper working. The other one without additional spaces.\nI'd like to add another example of the breaking and adding spacing causing issues:\nI created issue #1469 a few months ago about spaces and linebreaks causing issues with filenames of attachments.. Yesterday I saw a new case in which the additional space causes issues:\nBecause the subjects of the messages my system sends out can contain UTF-8 characters which didn't seem to be escaped correctly, I base64-encode the subjects of all messages (RFC2047:2).\n$mailer->Subject = \"=?UTF-8?B?\" . base64_encode($this->subject) . \"?=\";\nYesterdays case: one of our clients got the literal base64-encoded string as subject because there was an additional space which his mailclient didn't delete.\nSubject: =?UTF-8?B?RU1EIFdlcmtib246IE5hdHVyYWxpcyBCaW9kaXZlcnNpdHkgQ2VudGVyXzA4OTJfMT ctMDktMjAxOA==?=. I'll try again without, but had some issues with some characters before. Maybe I have made some mistakes during implementation.\nBut it still leaves the space-issue. Without the space, it probably would've been decoded properly. (We've sent thousands of messages with the described technique and have only seen a handful errors). ",
    "slanden": "I've struggled with this and Godaddy support as well, and this is working using a gmail account as the From account. I finally came across a post on SO with these options: $mail->SMTPAutoTLS = false; and $mail->Host = 'localhost';. Unfortunately, I accidentally exited out of the tab to that post so I cannot offer explanation or credit the poster :/\nHere's a test script that works for me:\n<?php\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\OAuth;\nuse League\\OAuth2\\Client\\Provider\\Google;\n//SMTP needs accurate times, and the PHP time zone MUST be set\n//This should be done in your php.ini, but this is how to do it if you don't have access to that\ndate_default_timezone_set('America/Chicago'); // your timezone\nrequire './vendor/autoload.php';\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->SMTPDebug = 3;\n$mail->Host = 'localhost'; //'relay-hosting.secureserver.net' didn't work\n$mail->Port = 25;\n$mail->SMTPAuth = false;\n$mail->SMTPSecure = false;\n$mail->SMTPAutoTLS = false;\n$mail->setFrom('test@mydomain.com', 'no-name'); // Add a sender\n$mail->addAddress('recipient@otherdomain.com'); // Add a recipient\n$mail->isHTML(true);                      // Set email format to HTML\n$mail->Subject = 'Test Email';\n$mail->Body    = 'Some body';\n$mail->CharSet = 'utf-8';\n$mail->AltBody = 'alt body';\n//send the message, check for errors\nif (!$mail->send()) {\n    echo \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n    //http_response_code(204);\n}. Oh good, then thanks for that haha. The only thing that is somewhat bothersome is that it takes a lot longer for emails to go through. Well, as opposed to not going through at all it's great but it does take a few minutes to show up in an inbox... ",
    "ItsJustATypo": "To help others struggling with GoDaddy, these two variations worked for me:\nHosting: GoDaddy shared/cPanel\nSending \"From:\" a GMail address\nPHPMailer version 6.0.5\n```\n  $mail = new PHPMailer;\n  $mail->isSMTP();\n$mail->SMTPDebug = 2;\n$send_using_config = 1; // set to 1, 2, etc. to test different settings\n  switch ($send_using_config):\n    case 1:\n      $mail->Host = 'localhost';\n      $mail->Port = 25;\n      $mail->SMTPSecure = FALSE;\n      $mail->SMTPAuth = FALSE;\n      $mail->SMTPAutoTLS = FALSE;\n      break;\n    case 2:\n      # Host amnd Port info obtained from:\n      #   Godaddy > cPanel Home > Email > cPanel Email > Mail Configuration > \"Secure SSL/TLS Settings\" > Outgoing Server\n      $mail->Host = 'a2plcpnxyzw.prod.iad2.secureserver.net';\n      $mail->Port = 465;\n      $mail->SMTPSecure = 'ssl';\n      $mail->SMTPAuth = FALSE;\n      $mail->SMTPOptions = array(\n          'ssl' => array(\n            'verify_peer' => FALSE,\n            'verify_peer_name' => FALSE,\n            'allow_self_signed' => TRUE\n          )\n      );\n      break;\n  endswitch;\n$mail->Username = 'you@gmail.com';\n  $mail->Password = 'your_gmail_password';\n$mail->setFrom($from);\n  $mail->addAddress($to);\n  $mail->Subject = $subject;\n  $mail->msgHTML($message);\n  $mail->send();\n```\nThese settings are based on the question posted here and modified with the advice from @Synchro on StackOverflow and GitHub. Thank you @Synchro!. To help others struggling with GoDaddy, these two variations worked for me:\nHosting: GoDaddy shared/cPanel\nSending \"From:\" a GMail address\nPHPMailer version 6.0.5\n```\n  $mail = new PHPMailer;\n  $mail->isSMTP();\n$mail->SMTPDebug = 2;\n$send_using_config = 1; // set to 1, 2, etc. to test different settings\n  switch ($send_using_config):\n    case 1:\n      $mail->Host = 'localhost';\n      $mail->Port = 25;\n      $mail->SMTPSecure = FALSE;\n      $mail->SMTPAuth = FALSE;\n      $mail->SMTPAutoTLS = FALSE;\n      break;\n    case 2:\n      # Host amnd Port info obtained from:\n      #   Godaddy > cPanel Home > Email > cPanel Email > Mail Configuration > \"Secure SSL/TLS Settings\" > Outgoing Server\n      $mail->Host = 'a2plcpnxyzw.prod.iad2.secureserver.net';\n      $mail->Port = 465;\n      $mail->SMTPSecure = 'ssl';\n      $mail->SMTPAuth = FALSE;\n      $mail->SMTPOptions = array(\n          'ssl' => array(\n            'verify_peer' => FALSE,\n            'verify_peer_name' => FALSE,\n            'allow_self_signed' => TRUE\n          )\n      );\n      break;\n  endswitch;\n$mail->Username = 'you@gmail.com';\n  $mail->Password = 'your_gmail_password';\n$mail->setFrom($from);\n  $mail->addAddress($to);\n  $mail->Subject = $subject;\n  $mail->msgHTML($message);\n  $mail->send();\n```\nThese settings are based on the question posted here and modified with the advice from @Synchro on StackOverflow and GitHub. Thank you @Synchro!. ",
    "zakblacki": "Fixed I had to replace\nthoses three lines in EmailComponent\n$sender = \"xxx@gmail.com\";\n$mail->Username   = \"xxx@gmail.com\";\n$mail->Password   = \"GMAIL_PASSWORD\";. ",
    "Pupin-C": "I'm noob at php so be kink thank you !. the whole code is here: \nphp\n\n<pinclude(\"class.phpmailer.php\");\ninclude(\"class.smtp.php\");\nfunction enviar_mail($parametros){\n    global $_SYSTEM;\n    global $_ERRO;\n    global $_EMAILS;\n    global $_DEBUG;\n    global $_HTML;\nif($_SYSTEM['EMAIL'] || $_SYSTEM['EMAIL_TESTE']){\n    $dominio_sem_www = preg_replace('/www./i', '', $_SYSTEM['DOMINIO']);\n\n    if(!$parametros['smtp_host'])$parametros['smtp_host'] = ($_SYSTEM['SMTP_FORCE_HOST']?$_SYSTEM['SMTP_FORCE_HOST']:'smtp.'.$dominio_sem_www);\n    if(!$parametros['smtp_porta'])$parametros['smtp_porta'] = $_SYSTEM['MAILER_PORT'];\n    if(!$parametros['smtp_usuario'])$parametros['smtp_usuario'] = $_SYSTEM['SMTP_USER'].'@'.($_SYSTEM['SMTP_FORCE_HOST_EMAIL']?$_SYSTEM['SMTP_FORCE_HOST_EMAIL']:$dominio_sem_www);\n    if(!$parametros['smtp_senha'])$parametros['smtp_senha'] = $_SYSTEM['SMTP_PASS'];\n\n    if(!$parametros[\"texto\"]){\n        $mensagem = modelo_abrir($_SYSTEM['PATH'].'includes'.$_SYSTEM['SEPARADOR'].'email.html');\n\n        $mensagem = modelo_var_troca($mensagem,\"#email#titulo#\",$parametros[\"from_name\"]);\n        $mensagem = modelo_var_troca($mensagem,\"#email#css#\",'http://'.$_SYSTEM['DOMINIO'].'/'.$_SYSTEM['ROOT'].$_SYSTEM['PADRAO_CSS']);\n        $mensagem = modelo_var_troca($mensagem,\"#email#body#\",$parametros[\"mensagem\"]);\n        $mensagem = modelo_var_troca($mensagem,\"#email#body_style#\",$parametros[\"body_style\"]);\n    } else {\n        $mensagem = $parametros[\"mensagem\"];\n    }\n\n    #prepara\u00e7\u00e3o para o envio do email\n    $mail = new PHPMailer();\n    $mail->SetLanguage(\"br\");;\n    $mail->IsSMTP(true);\n    if(!$parametros[\"texto\"])$mail->IsHTML(true);\n\n    #dados da conta\n    $mail->Host = $parametros[\"smtp_host\"];\n    $mail->Port = $parametros[\"smtp_porta\"];\n    $mail->SMTPAuth = true;\n    $mail->Username = $parametros[\"smtp_usuario\"];\n    $mail->Password = $parametros[\"smtp_senha\"];\n\n    #dados do disparo\n    $mail->FromName = ($parametros[\"from_name\"] ? $parametros[\"from_name\"] : \"Sistema \".$_HTML['TITULO']);\n    $mail->From = ($parametros[\"from\"] ? $parametros[\"from\"] : $parametros[\"smtp_usuario\"]);\n\n    if($parametros[\"email\"] && $parametros[\"email_name\"])\n        $mail->AddAddress($parametros[\"email\"],$parametros[\"email_name\"]);\n    else\n        $mail->AddAddress($parametros[\"email\"]);\n\n    if($parametros[\"cc\"]){\n        $ccs = $parametros[\"cc\"];\n        foreach($ccs as $cc){\n            $mail->AddCC($cc['email']);\n        }\n    }\n\n    if($parametros[\"bcc\"]){\n        $bccs = $parametros[\"bcc\"];\n        debug($bccs,false,true);\n        foreach($bccs as $bcc){\n            debug($bcc['email']);\n            $mail->AddBCC($bcc['email']);\n        }\n    }\n\n    $mail->Subject = $parametros[\"subject\"];\n    $mail->Body = $mensagem;\n\n    if($_DEBUG)$mail->SMTPDebug  = 2;\n\n    debug($parametros,true);\n\n    if(!$mail->Send()){\n        $_ERRO = 'Problema com o envio do e-mail.';\n        $mail->ClearAddresses();\n        return false;\n    } else {\n        $_ERRO = 'Enviado!';\n        $mail->ClearAddresses();\n        return true;\n    }\n} else {\n    $_ERRO = 'ENVIO DE E-MAIL DESABILITADO.';\n\n    debug($parametros,true);\n\n    if($_DEBUG)\n        return true;\n    else\n        return false;\n}\n\n}\nfunction main(){\n    $nome = $_REQUEST['nome'];\n    $cidade = $_REQUEST['cidade'];\n    $email = $_REQUEST['email'];\n    $telefoneFixo = $_REQUEST['telefoneFixo'];\n    $celular = $_REQUEST['celular'];\n$mensagem = '<h1>Oi tudo bem</h1>';\n$mensagem .= '<p>nome: '.$nome.'</p>';\n\n$params = Array(\n    'subject' => 'Assunto',\n    'email_name' => 'Destino',\n    'email' => 'carlos_e_figueiredo@yahoo.om.br',\n    'from_name' => 'Formul\u00e1rio Gnatus',\n    'smtp_usuario' => 'carlos@b2make.com',\n    'smtp_senha' => ' DUBl-JvdL42n',\n    'smtp_porta' => '587',\n    'smtp_host' => 'wp1.b2make.com',\n    'mensagem' => $mensagem,\n    'cc' => Array(\n        'email' => 'nheresjob@gmail.com',\n        'email' => 'otavio@b2make.com',\n    ),\n);\n\n$ret = enviar_mail($params);\n\nif($ret){\n    // enviou\n} else {\n    // nao enviou\n}\n\n}\nmain();\n?>. ",
    "praneethkatragadda": "Are you asking to provide some kind of confirmation whether mail is delivered or not ? \nI am not able to understand the requirement. It would be great you post those stack overflow questions  where users posted their queries. Please elaborate if possible.. I got your point. It's clear now.  I will do it. Thanks for eloborating and for quick response.   . I got your point. It's clear now.  I will do it. Thanks for eloborating and for quick response.   . ",
    "aks30498": "@Synchro you mean this:  sg2plcpnl0207.prod.sin2.secureserver.net right?\nbut using it shows this:\n2018-07-03 07:42:02 SERVER -> CLIENT: 220-sg2plcpnl0207.prod.sin2.secureserver.net ESMTP Exim 4.89_1 #1 Tue, 03 Jul 2018 00:42:02 -0700 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail. 2018-07-03 07:42:02    CLIENT -> SERVER: EHLO websitename.com 2018-07-03 07:42:02  SERVER -> CLIENT: 250-sg2plcpnl0207.prod.sin2.secureserver.net Hello sg2plcpnl0207.prod.sin2.secureserver.net [148.72.232.108] 250-SIZE 52428800 250-8BITMIME 250-PIPELINING 250-AUTH PLAIN LOGIN 250-CHUNKING 250-STARTTLS 250 HELP 2018-07-03 07:42:02    CLIENT -> SERVER: STARTTLS 2018-07-03 07:42:02  SERVER -> CLIENT: 220 TLS go ahead 2018-07-03 07:42:02  CLIENT -> SERVER: EHLO websitename.com 2018-07-03 07:42:02  SERVER -> CLIENT: 250-sg2plcpnl0207.prod.sin2.secureserver.net Hello sg2plcpnl0207.prod.sin2.secureserver.net [148.72.232.108] 250-SIZE 52428800 250-8BITMIME 250-PIPELINING 250-AUTH PLAIN LOGIN 250-CHUNKING 250 HELP 2018-07-03 07:42:02 CLIENT -> SERVER: AUTH LOGIN 2018-07-03 07:42:02    SERVER -> CLIENT: 334 VXNlcm5hbWU6 2018-07-03 07:42:02  CLIENT -> SERVER: cHJhY3RpY2VtYWlsMzA0OThAZ21haWwuY29t 2018-07-03 07:42:02  SERVER -> CLIENT: 334 UGFzc3dvcmQ6 2018-07-03 07:42:02 CLIENT -> SERVER: QXVyb3JhX0JvcmVhbGlzOTg= 2018-07-03 07:42:04   SERVER -> CLIENT: 535 Incorrect authentication data 2018-07-03 07:42:04 SMTP ERROR: Password command failed: 535 Incorrect authentication data 2018-07-03 07:42:04  SMTP Error: Could not authenticate. 2018-07-03 07:42:04 CLIENT -> SERVER: QUIT 2018-07-03 07:42:04  SERVER -> CLIENT: 221 sg2plcpnl0207.prod.sin2.secureserver.net closing connection 2018-07-03 07:42:04   SMTP connect() failed. @Synchro m a newbie to this... and godaddy support is stupid, i mean nothing worked from there.... can you help in any way or i have to post in their forum ?\n. ",
    "Seeryos": "Hi again : \nI tried to regenerate my key using this commands : \nopenssl genrsa -out private.key 1024\nopenssl rsa -in private.key -pubout -out public.key\nBut same problem ... \nresult = fail\nDetails: OpenSSL error: data too small for key size. Ok thanks. I just generate a new 2048 private key. \nI ask me if my problem come from of the rights on my private file... \n-rw------- 1 root root 1679 juil. 12 11:57 private.key\nThe apache user is www-data.\nWhat do you think about it ?. It works !!! Thank you very much... \nNow, I have to correct a last error to pass my score to 10/10 :) \n-1.274 | RDNS_NONE | Delivered to internal network by a host with no rDNS\nGoogle is my friend. \nThank you again. \n. ",
    "MaxLucky": "PHPMailer.php\nline 4022. \u0421an you give more details? What exactly is necessary to write in my case?. ",
    "kohgaywee2015": "Is your email really email or something I don't know.. Also, could there be a blank end of array?. for this,\n$to = $email1.\" , \"; $to .= $email2.\" , \";\nit should become this,\n$to = $email1.\" , \"; $to .= $email2;. ",
    "alec-w": "@kohgaywee2015  is right. The code\n$to = $email1.\",\"; $to .= $email2.\",\";\n$addresses = explode(',', $to);\nwill result in the last element of $addresses being an empty string.\nInstead do\n$to = $email1 . ',';\n$to .= $email2';\n$addresses = explode(',', $to);. ",
    "Areso": "Changed to error_reporting(E_ALL | E_STRICT) and now I have the error text. I forgot required other files in /src folder.\nNo more actual.. ",
    "shaunrc493": "My bad! Hit the wrong button. Where about's is this going? . As per my opening post, I'm not able to install this project, so changing code is irrelevant at this point.. I downloaded the latest PHPmailer files as a zip folder and added them to my public_html directory, however it threw an error 500 every time I through the script. To stop this from happening I had to comment out the line:\nrequire '../vendor/autoload.php';\nAfter this I did not get the error, however the email still was not able to send. After a bit of further reading I assumed I had to use composer also? This brought more problems as I can't even download the composer package.. As for 'installing' I mean downloading the files and uploading them to the directory.. Yes I read through the README file several times to make sure I had everything right but I still wasn't able to get it to work.\nSo, as stated in the 'Minimal Installation',\n\"At the very least you will need src/PHPMailer.php.\"\nCan I put this into the public_html and still call it from anywhere without any additional steps which haven't been mentioned?. ",
    "Artmisya": "I just update to version 6 and use $mail->Port = 465  instead of $mail->Smtp_port =\"465\" and now it works perfectly.\nThank you so so much,I have been stuck on this problem for 3 days already.\n. ",
    "isabelhgarcia33": "\u2714. ",
    "balajibpa": "Adding mx to my nameserver(aws) is beeing the problem and now added and\nproblem is solved now\nOn Wed, 18 Jul 2018, 8:26 pm Marcus Bointon, notifications@github.com\nwrote:\n\nClosed #1500 https://github.com/PHPMailer/PHPMailer/issues/1500.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1500#event-1740948083, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AneSGDhIFtnxBPWh2FMTV1Cryo5uI4aSks5uH4vPgaJpZM4VVFwb\n.\n. Adding mx to my nameserver(aws) is beeing the problem and now added and\nproblem is solved now\n\nOn Wed, 18 Jul 2018, 8:26 pm Marcus Bointon, notifications@github.com\nwrote:\n\nClosed #1500 https://github.com/PHPMailer/PHPMailer/issues/1500.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1500#event-1740948083, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AneSGDhIFtnxBPWh2FMTV1Cryo5uI4aSks5uH4vPgaJpZM4VVFwb\n.\n. \n",
    "Yop-La": "But that code works on local with the same ISP.\nIn both case, I use the same smtp server to send emails. But it only works on local. \nThank you, for the advice.. But that code works on local with the same ISP.\nIn both case, I use the same smtp server to send emails. But it only works on local. \nThank you, for the advice.. Ok, but why, the log tells me everything is ok on my webserver ?\nIt look like my webserver can connect to my smtp server without any problem ... \nI don't know what to do as I don't have any error messages ... Everything looks fine .\nDo I have to change the smtp server ?. Ok, but why, the log tells me everything is ok on my webserver ?\nIt look like my webserver can connect to my smtp server without any problem ... \nI don't know what to do as I don't have any error messages ... Everything looks fine .\nDo I have to change the smtp server ?. Ok sorry. My english is not perfect ( I am french ^^ ).\nYes, that's it ! The message is sent. Yes, the debug output is from my server. \nI got a successful delivery on my web server in the debug output but I don't receive email ( even in spam folder ). And everything is ok with the same email on my local machine.\nThank you for your help ( I really appreciate that )\n. Ok sorry. My english is not perfect ( I am french ^^ ).\nYes, that's it ! The message is sent. Yes, the debug output is from my server. \nI got a successful delivery on my web server in the debug output but I don't receive email ( even in spam folder ). And everything is ok with the same email on my local machine.\nThank you for your help ( I really appreciate that )\n. Ton fran\u00e7ais est bien, j'arrive \u00e0 te comprendre ^^\nYes, I put SSL0.OVH.NET in the $this->host property. Yes, it connect to the same place locally. \nOk, I'll try to get the mail server logs.. Ton fran\u00e7ais est bien, j'arrive \u00e0 te comprendre ^^\nYes, I put SSL0.OVH.NET in the $this->host property. Yes, it connect to the same place locally. \nOk, I'll try to get the mail server logs.. ",
    "asinan007": "Yeah I can understand that, but i could send mail to the same add via outlook or gmail. and i could ping to box839.bluehost.com as well... i am not sure if that is suppose to happen or not if its blocked. So how do i check if the IP is blacklisted or blocked, so i can show to the hosts that its blocked. AND how long does it take this block to be removed.. i have checked if its blacklisted but it isn't on this\nhttps://mxtoolbox.com/SuperTool.aspx?action=blacklist%3a66.147.244.139&run=toolpage. Also it doesn't happen on this particular IP only.. Also it worked well when i removed whole of this bunch\n$mail->isSMTP();\n                $mail->SMTPDebug = 4;\n                $mail->Host = 'box839.bluehost.com';\n                $mail->SMTPAuth = true;\n                $mail->Username = $senderEmail;\n                $mail->Password = $sender_email_pass;\n                $mail->SMTPSecure = 'ssl';\n                $mail->Port = 465;\nand replaced it with;\n$mail->Host = 'mail.cruise-maldives.com';\nAnd they still say its an scripting issue. ",
    "doganoo": "@Synchro probably. But $this->$address_kind is never used anywhere else?!. Hm, ok. So then it is my fault, sorry. I close the pull request.. ",
    "AlexWinder": "Thanks for the response! I've tried adding in the web server IP address to the IP allow list, even tried disabling the IP Allow List on Exchange and no luck unfortunately.\nI may ask the Exchange guys at work to see if there is anything else further which is causing this weird issue on the mail servers as I'm completely stumped!\nIf they can't find anything then I will take your advice and use a local mail server. Thanks again!. Thanks for the response! I've tried adding in the web server IP address to the IP allow list, even tried disabling the IP Allow List on Exchange and no luck unfortunately.\nI may ask the Exchange guys at work to see if there is anything else further which is causing this weird issue on the mail servers as I'm completely stumped!\nIf they can't find anything then I will take your advice and use a local mail server. Thanks again!. ",
    "Theolodewijk": "Okay a exaple well be nice! . Fatal error: Cannot declare class PHPMailer\\PHPMailer\\PHPMailer, because the name is already in use in /home/theolodewijk/domains/theolodewijk.nl/plugins/phpmailer/src/PHPMailer.php on line 31\nfunction mailclass($from_name, $from_email, $to_name, $to_email, $mail_subject, $mail_message, $Priority) {\n    # Email priority (1 = High, 3 = Normal, 5 = low)\n    global $system_from_name, $system_from_email, $db, $remote_addr;\nrequire '../plugins/phpmailer/src/PHPMailer.php';\nrequire '../plugins/phpmailer/src/SMTP.php';\n\n$mail = new PHPMailer\\PHPMailer\\PHPMailer;\n\n$mail->AddReplyTo($from_email, $from_name);\n$mail->AddAddress($to_email, $to_name);\n$mail->SetFrom($system_from_email, $system_from_name);\n$mail->Priority = $Priority;\n$mail->Subject  = $mail_subject;\n$mail->AltBody  = \"To view the message, please use an HTML compatible email viewer!\";\n$mail->MsgHTML($mail_message);\n//$mail->Send();\nif (isset($_FILES['uploaded_file']) && $_FILES['uploaded_file']['error'] == UPLOAD_ERR_OK) {\n    $mail->AddAttachment($_FILES['uploaded_file']['tmp_name'], $_FILES['uploaded_file']['name']);\n}\n\nif(!$mail->Send()) {\n    $rapport = \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n    $rapport = \"Message sent!\";\n}\n\ntry {\n    $sql = \"INSERT INTO systeemmails (sender, receiver, remote_addr, subject, message, rapport) VALUES (:sender, :receiver, :remote_addr, :subject, :message, :rapport)\";\n    $sql = $db->prepare($sql);\n    $sql->execute(array('sender' => $from_name.' <'.$from_email.'>', 'receiver' => $to_name.' <'.$to_email.'>', 'remote_addr' => $remote_addr, 'subject' => $mail_subject, 'message' => $mail_message, 'rapport' => $rapport));\n} catch(PDOException $e) {\n    echo '<pre>';\n    echo 'Regel: '.$e->getLine().'<br>';\n    echo 'Bestand: '.$e->getFile().'<br>';\n    echo 'Foutmelding: '.$e->getMessage();\n    echo '</pre>';\n}\n\n}. I see, in a function not possbale ? \nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;. Thanks, is this corect? I have test it and for now it seems to work\n```php\n use PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire '../plugins/phpmailer/src/PHPMailer.php';\nrequire '../plugins/phpmailer/src/SMTP.php';\nfunction mailclass($from_name, $from_email, $to_name, $to_email, $mail_subject, $mail_message, $Priority) {\n    # Email priority (1 = High, 3 = Normal, 5 = low)\n    global $system_from_name, $system_from_email, $db, $remote_addr;\n//Create a new PHPMailer instance\n$mail = new PHPMailer;\n//Set who the message is to be sent from\n$mail->SetFrom($system_from_email, $system_from_name);\n//Set an alternative reply-to address\n$mail->AddReplyTo($from_email, $from_name);\n//Set who the message is to be sent to\n$mail->AddAddress($to_email, $to_name);\n// mail Priority\n$mail->Priority = $Priority;\n//Set the subject line\n$mail->Subject  = $mail_subject;\n//Read an HTML message body from an external file, convert referenced images to embedded,\n//convert HTML into a basic plain-text alternative body\n$mail->MsgHTML($mail_message);\n//Replace the plain text body with one created manually\n$mail->AltBody = 'This is a plain-text message body (To view the message, please use an HTML compatible email viewer!)';\n\n//send the message, check for errors\nif(!$mail->Send()) {\n    $rapport = \"Mailer Error: \" . $mail->ErrorInfo;\n} else {\n    $rapport = \"Message sent!\";\n}\n\nif (isset($_FILES['uploaded_file']) && $_FILES['uploaded_file']['error'] == UPLOAD_ERR_OK) {\n    $mail->AddAttachment($_FILES['uploaded_file']['tmp_name'], $_FILES['uploaded_file']['name']);\n}\n\n\ntry {\n    $sql = \"INSERT INTO systeemmails (sender, receiver, remote_addr, subject, message, rapport) VALUES (:sender, :receiver, :remote_addr, :subject, :message, :rapport)\";\n    $sql = $db->prepare($sql);\n    $sql->execute(array('sender' => $from_name.' <'.$from_email.'>', 'receiver' => $to_name.' <'.$to_email.'>', 'remote_addr' => $remote_addr, 'subject' => $mail_subject, 'message' => $mail_message, 'rapport' => $rapport));\n} catch(PDOException $e) {\n    echo '<pre>';\n    echo 'Regel: '.$e->getLine().'<br>';\n    echo 'Bestand: '.$e->getFile().'<br>';\n    echo 'Foutmelding: '.$e->getMessage();\n    echo '</pre>';\n}\n\n} \n```. That's right because I want to work first before I've done a lot of changes, thank you for the tip, the file uploader will also change.. \n. I am running PHP 7.1. ",
    "ChazyTheBest": "Oh, in that case I won't use it, I thought I could specify some more options from my SMTP server (postfix) but it is already working without it.\nFor example, I saw in the example there's allow_self_signed => true, but I'm not using self signed certificates, is that the default option? If so I should probably change it to false. But I guess if I just leave the host option hardcoded, as the SMTP server is already properly configured (what to allow and what not) it should work without any problems.. ",
    "DemoCrazer": "```\n<?php\nrequire(\"PHPMailer-master/src/PHPMailer.php\");\nrequire(\"PHPMailer-master/src/Exception.php\");\nrequire(\"PHPMailer-master/src/SMTP.php\");\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\n//Data returned from other HTML page\n$mail_title = $_POST[\"mail_title\"];\n$mail_body = $_POST[\"mail_body\"];\n$send_time = $_POST[\"send_time\"];\necho \"Title: \" . $mail_title . \"\";\necho \"Body: \" . $mail_body . \"\";\necho \"Send Time: After \" . $send_time . \" days\";\n$dbh = mysqli_connect(\"...\");\nif (mysqli_connect_errno()) {\n  echo \"DB Connection Failed: \" . mysqli_connect_errno() . \", \" . mysqli_connect_error() . \"\";\n} else {\n  echo \"DB Connection Success\";\n}\nmysqli_set_charset($dbh, \"utf8\");\necho \"\";\n$mail = new PHPMailer(true);\n$mail->isSMTP();\n$mail->isHTML(true);\n$mail->CharSet = \"utf-8\";\n$mail->Encoding = \"base64\";\n$mail->SMTPSecure = \"tls\";\n$mail->SMTPAuth = true;\n$mail->SMTPDebug = 2;\n$mail->Host = \"...;\n$mail->Port = 587;\n$mail->Username = \"...\";\n$mail->Password = \"...\";\n$mail->addCustomHeader(\"X-SES-CONFIGURATION-SET\", \"ConfigSet\");\n$mail->Subject = \"$mail_title\";\n$mail->Body = \"$mail_body\";\n$s_buyer_query = \"SELECT buyer_name, buyer_email, delivered_date FROM order_list;\";\n$sQryExec = $dbh->query($s_buyer_query);\nwhile ($buyerInfo = mysqli_fetch_array($sQryExec)) {\n  $mail->addAddress(\"${buyerInfo[\"buyer_email\"]}\", \"${buyerInfo[\"buyer_name\"]}\");\n$date = date(DATE_ATOM, strtotime($buyerInfo[\"delivered_date\"]));\n  echo \"Delivery Date: \" . $date;\n  echo \"\";\n$send_date = date(DATE_ATOM, strtotime(\"+${send_time} days\", strtotime($date)));\n  echo \"Posting Date: \" . $send_date;\n  echo \"\";\n$ymd_send_date = date(\"Y-m-d\", strtotime($send_date));\n  echo \"Posting Date(Y-M-D): \" . $ymd_send_date;\n  echo \"\";\n$today = date(\"Y-m-d\");\n  echo \"Today(Y-M-D): \" . $today;\n  echo \"\";\necho \"\";\nif (!strcmp($today, $ymd_send_date)) {\n    try {\n      $mail->setFrom(\"...\", \"...);\n      $mail->send();\n  echo \"Email posting success<br/>\";\n\n  $update_query = \"UPDATE order_list SET send = 'T' WHERE buyer_name = '${buyerInfo[\"buyer_name\"]}' AND send = 'F';\";\n  $uQryExec = $dbh->query($update_query);\n\n  if ($uQryExec == true) {\n    echo \"The record updated successfully.<br/><br/>\";\n  }\n\n} catch (Exception $e) {\n  echo \"Email posting failed.<br/>\";\n  $e->errorMessage();\n}\n\n}\n}\nmysqli_close($dbh);\n```\n@Synchro Here's my code. I can't figure out what is the problem.. ",
    "Kumarnivas": "```php\n1. in /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Transport/MailTransport.php at line 259\n2. yii\\base\\ErrorHandler::handleError(2, 'escapeshellcmd() has been disabl...', '/home/vol14_3/unaux.com/unaux_22...', 259, ...)\n3. in /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Transport/MailTransport.php at line 259 \u2013 escapeshellcmd('social@example.com')\n253254255256257258259260261262263264265                         \n     * @return bool\n     /\n    private function _isShellSafe($string)\n    {\n        // Future-proof\n        if (escapeshellcmd($string) !== $string || !in_array(escapeshellarg($string), array(\"'$string'\", \"\\\"$string\\\"\"))) {\n            return false;\n        }\n    $length = strlen($string);\n    for ($i = 0; $i < $length; ++$i) {\n        $c = $string[$i];\n\n\n\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Transport/MailTransport.php at line 288 \u2013 Swift_Transport_MailTransport::_isShellSafe('social@example.com')\n282283284285286287288289290291292293294                         *\n\n@return string|null\n */\nprivate function _formatExtraParams($extraParams, $reversePath)\n{\n    if (false !== strpos($extraParams, '-f%s')) {\n        if (empty($reversePath) || false === $this->_isShellSafe($reversePath)) {\n            $extraParams = str_replace('-f%s', '', $extraParams);\n        } else {\n            $extraParams = sprintf($extraParams, $reversePath);\n        }\n    }\n\n\n\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Transport/MailTransport.php at line 176 \u2013 Swift_Transport_MailTransport::_formatExtraParams('-f%s', 'social@example.com')\n170171172173174175176177178179180181182                                $headers = str_replace(\"\\r\\n.\", \"\\r\\n..\", $headers);\n            $subject = str_replace(\"\\r\\n.\", \"\\r\\n..\", $subject);\n            $body = str_replace(\"\\r\\n.\", \"\\r\\n..\", $body);\n            $to = str_replace(\"\\r\\n.\", \"\\r\\n..\", $to);\n        }\nif ($this->_invoker->mail($to, $subject, $body, $headers, $this->_formatExtraParams($this->_extraParams, $reversePath))) {\n    if ($evt) {\n        $evt->setResult(Swift_Events_SendEvent::RESULT_SUCCESS);\n        $evt->setFailedRecipients($failedRecipients);\n        $this->_eventDispatcher->dispatchEvent($evt, 'sendPerformed');\n    }\n} else {\n\n\n\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Mailer.php at line 85 \u2013 Swift_Transport_MailTransport::send(Swift_Message, [])\n79808182838485868788899091                                $this->_transport->start();\n        }\n$sent = 0;\n\ntry {\n    $sent = $this->_transport->send($message, $failedRecipients);\n} catch (Swift_RfcComplianceException $e) {\n    foreach ($message->getTo() as $address => $name) {\n        $failedRecipients[] = $address;\n    }\n}\n\n\n\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/yiisoft/yii2-swiftmailer/Mailer.php at line 146 \u2013 Swift_Mailer::send(Swift_Message)\n140141142143144145146147148149150151152                            $address = $message->getTo();\n        if (is_array($address)) {\n            $address = implode(', ', array_keys($address));\n        }\n        Yii::info('Sending email \"' . $message->getSubject() . '\" to \"' . $address . '\"', METHOD);\nreturn $this->getSwiftMailer()->send($message->getSwiftMessage()) > 0;\n\n}\n/*\n * Creates Swift mailer instance.\n * @return \\Swift_Mailer mailer instance.\n /\n\n\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/humhub/components/mail/Mailer.php at line 91 \u2013 yii\\swiftmailer\\Mailer::sendMessage(humhub\\components\\mail\\Message)\n85868788899091929394959697                                }\n            $message->setTo($address);\n        } elseif ($this->isRecipientSurpressed($address)) {\n            return true;\n        }\nreturn parent::sendMessage($message);\n\n}\n/*\n * Checks if an given e-mail address is surpressed.\n \n * @since 1.3\n\n\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/yiisoft/yii2/mail/BaseMailer.php at line 263 \u2013 humhub\\components\\mail\\Mailer::sendMessage(humhub\\components\\mail\\Message)\n\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/yiisoft/yii2/mail/BaseMessage.php at line 49 \u2013 yii\\mail\\BaseMailer::send(humhub\\components\\mail\\Message)\n\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/humhub/modules/user/models/Invite.php at line 140 \u2013 yii\\mail\\BaseMessage::send()\n134135136137138139140141142143144145146                                ], [\n                'token' => $this->token,\n                'registrationUrl' => $registrationUrl\n            ]);\n            $mail->setTo($this->email);\n            $mail->setSubject(Yii::t('UserModule.views_mails_UserInviteSelf', 'Welcome to %appName%', ['%appName%' => Yii::$app->name]));\n            $mail->send();\n        } elseif ($this->source == self::SOURCE_INVITE && $this->space !== null) {\n    if ($module->sendInviteMailsInGlobalLanguage) {\n        Yii::$app->language = Yii::$app->settings->get('defaultLanguage');\n    }\n\n\n\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/humhub/modules/user/models/Invite.php at line 114 \u2013 humhub\\modules\\user\\models\\Invite::sendInviteMail()\n108109110111112113114115116117118119120                            if ($existingInvite !== null) {\n            $this->token = $existingInvite->token;\n            $existingInvite->delete();\n        }\nif ($this->allowSelfInvite() && $this->validate() && $this->save()) {\n    $this->sendInviteMail();\n    return true;\n}\n\nreturn false;\n\n}\n\n\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/humhub/modules/user/controllers/AuthController.php at line 84 \u2013 humhub\\modules\\user\\models\\Invite::selfInvite()\n78798081828384858687888990                                return $this->onAuthSuccess($login->authClient);\n        }\n// Self Invite \n$invite = new Invite();\n$invite->scenario = 'invite';\nif ($invite->load(Yii::$app->request->post()) && $invite->selfInvite()) {\n    if (Yii::$app->request->isAjax) {\n        return $this->renderAjax('register_success_modal', ['model' => $invite]);\n    } else {\n        return $this->render('register_success', ['model' => $invite]);\n    }\n}\n\n\n\nhumhub\\modules\\user\\controllers\\AuthController::actionLogin()\n\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/yiisoft/yii2/base/InlineAction.php at line 57 \u2013 call_user_func_array([humhub\\modules\\user\\controllers\\AuthController, 'actionLogin'], [])\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/yiisoft/yii2/base/Controller.php at line 157 \u2013 yii\\base\\InlineAction::runWithParams(['r' => 'user/auth/login', 'i' => '1'])\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/yiisoft/yii2/base/Module.php at line 528 \u2013 yii\\base\\Controller::runAction('login', ['r' => 'user/auth/login', 'i' => '1'])\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/yiisoft/yii2/web/Application.php at line 103 \u2013 yii\\base\\Module::runAction('user/auth/login', ['r' => 'user/auth/login', 'i' => '1'])\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/protected/vendor/yiisoft/yii2/base/Application.php at line 386 \u2013 yii\\web\\Application::handleRequest(humhub\\components\\Request)\nin /home/vol14_3/unaux.com/unaux_22561782/htdocs/humhub/index.php at line 25 \u2013 yii\\base\\Application::run()\n19202122232425                        require(DIR . '/protected/humhub/config/web.php'),\n    (is_readable(DIR . '/protected/config/dynamic.php')) ? require(DIR . '/protected/config/dynamic.php') : [],\n    require(DIR . '/protected/config/common.php'),\n    require(DIR . '/protected/config/web.php')\n);\n\n(new humhub\\components\\Application($config))->run();\n$_GET = [\n    'r' => 'user/auth/login',\n    'i' => '1',\n];\n$_POST = [\n    '_csrf' => 'bXoLM3nX_ALtmffRZ2Iby4jlhU8mTxgqpnovp9RYeRsUE39EC--vaLeshaMTJVSjuo_XAmMHYHvCE0r-oRINKg==',\n    'Invite' => [\n        'email' => 'nivaskumar823@gmail.com',\n    ],\n];\n$_COOKIE = [\n    'PHPSESSID' => '2d8d4422294b19916740b8e75da8a7da',\n    '_csrf' => '45b003789842c7fc793a4d0a9290659a8fbe58c9292fb460e0f153d68e50a8ada:2:{i:0;s:5:\"_csrf\";i:1;s:32:\"yitwr8SjZ5rrtGOh2jRMEHxQdieYuJt1\";}',\n    '__test' => '096890b97f95ac7b45c9cb3da60e8f15',\n];\n$_SESSION = [\n    '__flash' => [],\n    '__returnUrl' => '/humhub/index.php?r=dashboard%2Fdashboard',\n];\n```. very very thank u sir for Responsing Me\nOn Mon, Aug 13, 2018 at 8:15 PM Caleb Mazalevskis notifications@github.com\nwrote:\n\nHi @Kumarnivas https://github.com/Kumarnivas,\nJust another user (not a maintainer), but would you consider modifying\nyour issue title, to something smaller, and instead just include all that\ninformation in the issue message itself? I'm subscribed to this repository,\nand when I received an email notification about your issue, the subject\nline was absolutely huge, because of the huge issue title. Keeping the\nissue title smaller, would improve readability.\nThanks.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1519#issuecomment-412543322,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AkSSxphlPf8UvqpHKIDv10ASTNX7aLZgks5uQZEMgaJpZM4V6icf\n.\n. i want to install humhub social comunity software to my server... so please\nhelp me sir\n\ni am sending error of the pic and complete code .\nOn Mon, Aug 13, 2018 at 8:23 PM Nivas-Kumar virrat58@gmail.com wrote:\n\nvery very thank u sir for Responsing Me\nOn Mon, Aug 13, 2018 at 8:15 PM Caleb Mazalevskis \nnotifications@github.com wrote:\n\nHi @Kumarnivas https://github.com/Kumarnivas,\nJust another user (not a maintainer), but would you consider modifying\nyour issue title, to something smaller, and instead just include all that\ninformation in the issue message itself? I'm subscribed to this repository,\nand when I received an email notification about your issue, the subject\nline was absolutely huge, because of the huge issue title. Keeping the\nissue title smaller, would improve readability.\nThanks.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1519#issuecomment-412543322,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AkSSxphlPf8UvqpHKIDv10ASTNX7aLZgks5uQZEMgaJpZM4V6icf\n.\n\n\n. \n",
    "agentd00nut": "Wasn't aware that commas in emails were valid, guess i've just never seen one, sorry for that.\nIf the input was changed to only accept an array of email addresses without names, so just an array of strings, and it returned an array of booleans that corresponded to the input would that be acceptable?\nI decided to fail the whole collection because i didn't want to change the default response of the addAddress method... Essentially that's why i added addAddreses since then i could return the array of success and failures.\nNo problem if this idea is generally bad or been beaten to death in the past, i'll close the request in that case.\nThanks for your time.. ",
    "robbrandt": "Thank you for the explanation.  It wasn't at all clear to me from the debug output and the Troubleshooting page that CA certificates were the problem.\nBut it seems more complicated than this. Using the \necho QUIT | openssl s_client -crlf -starttls smtp -CAfile /etc/ssl/cacert.pem -connect smtp.gmail.com:587\ncommand shows that there is indeed a problem, yet my OS is completely up to date and even using the specific update-ca-certificates command says everything is updated.  This is Ubuntu 14.04.  Yet others report similar problems:\nhttps://askubuntu.com/questions/646594/how-to-fix-ca-cert-issues-with-curl-in-ubuntu-14-04\nI am still working through this.... So it seems I have everything up to date now, getting a good result from \n    echo QUIT | openssl s_client -crlf -starttls smtp -CAfile /etc/ssl/cacert.pem -connect smtp.gmail.com:587\nWhat seemed to work was downloading a fresh .pem from http://curl.haxx.se/ca/cacert.pem.  I also did update-ca-certificates --fresh but that didn't seem to improve things.\nHowever mail still cannot be sent.  I tried adding\n    openssl.cafile = /etc/ssl/cacert.pem\n    curl.cainfo = /etc/ssl/cacert.pem\nto my php.ini but I am still running php 5.9.x, and those directives are for 5.6.  (this is a server running some older apps not updated to mysqli, and that's the last version that \"works\").\nDebug output is still the same:\n2018-08-15 22:29:42 SERVER -> CLIENT: 220 2.0.0 smtp.sparkpostmail.com ESMTP ecelerity 4.2.39.65443 r(Core:4.2.39.51) Wed, 15 Aug 2018 22:29:42 +0000\n2018-08-15 22:29:42 CLIENT -> SERVER: EHLO localhost\n2018-08-15 22:29:42 SERVER -> CLIENT: 250-b.mta1vsmtp.cc.aws-usw2b.prd.sparkpost says EHLO to 54.225.91.96:41019250-PIPELINING250-STARTTLS250-AUTH=LOGIN PLAIN250-AUTH LOGIN PLAIN250-ENHANCEDSTATUSCODES250 8BITMIME\n2018-08-15 22:29:42 CLIENT -> SERVER: STARTTLS\n2018-08-15 22:29:42 SERVER -> CLIENT: 220 2.0.0 continue\nSMTP Error: Could not connect to SMTP host.\n2018-08-15 22:29:42 SMTP NOTICE: EOF caught while checking if connected\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n. Adding \n    $mail->SMTPOptions = array(\n    'ssl' => array(\n        'verify_peer' => false,\n        'verify_peer_name' => false,\n        'allow_self_signed' => true\n    )\n);\ndoes not change the situation.. ",
    "oasfuyou": "INI directive 'mbstring.func_overload' is deprecated since PHP 7.2,pelase add a new release. ",
    "dreinkaos": "Thank you for your fast reply!\nLogging in with a browser does not help. More or less, it gives me the same log.\nWhat do you mean with \"Outlook sometimes blocks logins\"? Is there any setting implied?\n. I think this is not the case, as I'm logged in the web browser and I can also send mails to my address. By the way the account is currently in use, so it should not be this type of issue.\nAny other idea? \n. Minwhile I also asked for office365 support.\nI hope you can check it out, maybe it can be helpful.\nhttps://answers.microsoft.com/en-us/msoffice/forum/msoffice_outlook-mso_other-mso_o365b/php-mailer-and-outlook/f8d16a46-e6e9-4129-b2f8-b3f9e5c9f172?messageId=c57c9e0d-7edb-4176-9d07-ed334d35e42c\nOf course feel free to mod my post if it is against the rules.\nThanks again.. Yeah, I know it, I've read a lot of post here and I know it is better to use smtpdebug = 3 ;)\nIt's not that easy to get the conversation as I should go really deep in the python libraries.\nThat's because the send mail function uses the API url https://outlook.office365.com/api/v1.0/me/sendmail. \nIt makes a post using the requests library. I'm not a php expert but is it connecting via socket or something? I guess the the difference is just in the implementation, therefore there is no real chance to compare the traces.. Well, thanks for your support, I managed to deal with my issue by posting the message to the service.\nI think this might close the issue.\nThere surely is some issue, considering that the plain access solved the problem.\nBest wishes and thanks again for your support.. ",
    "ilyasbat": "My codes:\n```\n$mail = new PHPMailer();\n     try {\n            $mail->ClearAddresses();\n            $mail->ClearAllRecipients();\n            $mail->ClearAttachments();\n            $mail->SMTPOptions = array(\n                'ssl' => array(\n                    'verify_peer' => false,\n                    'verify_peer_name' => false,\n                    'allow_self_signed' => true\n                )\n            );\n        //Server settings\n        $mail->SMTPDebug = false;                                 // Enable verbose debug output\n        $mail->isSMTP();     \n        $mail->SMTPSecure = 'tls';                            // Enable TLS encryption, `ssl` also accepted\n        $mail->Port = 587;                      // Set mailer to use SMTP\n        $mail->Host = 'smtp.gmail.com';  // Specify main and backup SMTP servers\n        $mail->Username = '******@gmail.com';                 // SMTP username\n        $mail->Password = '********';                           // SMTP password\n\n        $mail->SMTPAuth = true;                               // Enable SMTP authentication\n\n                                        // TCP port to connect to\n        $mail->CharSet = 'utf-8';\n\n        //Recipients\n        $mail->setFrom('****@gmail.com', 'Sinnav.com');\n        $mail->addBCC($mailx, $kime);     // Add a recipient\n\n\n        //Content\n        $mail->isHTML(true);                                  // Set email format to HTML\n        $mail->Subject = $konu;\n        $mail->Body    = $neyi;\n\n        if($mail->send())\n        {\n               $mail->smtpClose();\n            return true;\n        }\n\n\n\n\n\n    }\n    catch (Exception $e) {\n    //die($e->getMessage());\n        return false;\n    }\n\n```\nAnd debug:\n\n2018-09-02 14:15:43 Connection: opening to smtp.gmail.com:587, timeout=300, options=array ( 'ssl' => array ( 'verify_peer' => false, 'verify_peer_name' => false, 'allow_self_signed' => true, ),)\n2018-09-02 14:15:43 Connection: opened\n2018-09-02 14:15:43 SMTP -> get_lines(): timed-out (300 sec)\n2018-09-02 14:15:43 SERVER -> CLIENT: \n2018-09-02 14:15:43 CLIENT -> SERVER: EHLO www.domain.com\n2018-09-02 14:15:43 SMTP -> get_lines(): timed-out (300 sec)\n2018-09-02 14:15:43 SERVER -> CLIENT: \n2018-09-02 14:15:43 SMTP ERROR: EHLO command failed: \n2018-09-02 14:15:43 CLIENT -> SERVER: HELO www.domain.com\n2018-09-02 14:15:43 SMTP -> get_lines(): timed-out (300 sec)\n2018-09-02 14:15:43 SERVER -> CLIENT: \n2018-09-02 14:15:43 SMTP ERROR: HELO command failed: \n2018-09-02 14:15:43 CLIENT -> SERVER: STARTTLS\n2018-09-02 14:15:43 SMTP -> get_lines(): timed-out (300 sec)\n2018-09-02 14:15:43 SERVER -> CLIENT: \n2018-09-02 14:15:43 SMTP ERROR: STARTTLS command failed: \nSMTP Error: Could not connect to SMTP host.\n2018-09-02 14:15:43 CLIENT -> SERVER: QUIT\n2018-09-02 14:15:43 SMTP -> get_lines(): timed-out (300 sec)\n2018-09-02 14:15:43 SERVER -> CLIENT: \n2018-09-02 14:15:43 SMTP ERROR: QUIT command failed: \n2018-09-02 14:15:43 Connection: closed\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. \n",
    "carlosmaug": "I have created a new pull request #1539 on the master branch, with new patches that conform the style of the master branch.. As you suggested I added some unit tests to cover the code and show it is working. I also added the link to RFC3461 in the phpdocs. . As you suggested I added some unit tests to cover the code and show it is working. I also added the link to RFC3461 in the phpdocs. . Done, I think now all is correct.. ",
    "mahmoodn": "Excuse me. There was a problem with configuration. \nPlease delete this post.. ",
    "limabibi": "I would like to know if phpmailer is compatible with php 7.2.8. ",
    "wikt0r": "\nin PHPMailer-6.0.5/src/PHPMailer.php on line 3599\n\nif (filter_var('http://' . $host, FILTER_VALIDATE_URL, FILTER_FLAG_HOST_REQUIRED)) {\n            //Is it a syntactically valid hostname?\n            return true;\n        }\n. ",
    "cskushwah": "I am not getting then why  it is showing when i send it with local machine? \nCODE: \n        $this->phpMailer = new PHPMailer(true);                                    \n        $this->phpMailer->isSMTP();                                    \n        $this->phpMailer->Host = '';\n        $this->phpMailer->SMTPAuth = true;                           \n        $this->phpMailer->Username = '';               \n        $this->phpMailer->Password = '';                         \n        $this->phpMailer->SMTPSecure = 'tls';                        \n        $this->phpMailer->Port = 587;  \n        $this->phpMailer->isHTML(true);\n        $this->phpMailer->setFrom('support@gmail', 'Chandan singh');\n        $this->phpMailer->addReplyTo('support@gmail', 'Chandan singh');\n        $this->phpMailer->addAddress($email); \n        $this->phpMailer->Body = $mailMessageArray['mailBody'];\n        $this->phpMailer->Subject  = $mailMessageArray['subject'];\n        $result = $this->phpMailer->send();\nThe this debug result from both code\nDEBUG : \n2018-09-24 15:11:44 CLIENT -> SERVER: From: Chandan singh <support@gmail.com>\n. ",
    "montelin": "Hello, i have testing this, but that don\u00b4t work.. ",
    "blackcrack": "problem ? no, it's a task.. ;)\nhow to be formatted the other files it self .. and the header of the Files and html .. metainformation and directly formation of the files ?\nhttp://www.blackysgate.net/phpfilemirror/\nlook there in the header of the html-files.\nview-source:http://www.blackysgate.net/phpfilemirror/\n<meta charset=\"UDF-8\" />\n<meta name=\"Content-language\" content=\"UDF-8\">\nbest regards\nBlacky. ",
    "wanderleihuttel": "Hello @Synchro. The method addRecipient doesn't exists.\nI'm using this way:\n````\n    require_once( 'vendor/phpmailer/phpmailer/src/PHPMailer.php' );\n    require_once( 'vendor/phpmailer/phpmailer/src/SMTP.php' );\n    require_once( 'vendor/phpmailer/phpmailer/src/Exception.php' );\n$sFrom = \"sender@domain.com.br\";\n$sNameFrom = \"Sender Name\";\n$sTo = \"to@domain.com.br\";\n$sNameTo = \"To Name\";\n\n\n$mail             = new PHPMailer\\PHPMailer\\PHPMailer();\n$mail->CharSet = 'UTF-8';\n$mail->Encoding = 'base64';\n$mail->IsSMTP();                                 // telling the class to use SMTP\n$mail->SMTPAutoTLS = false;\n$mail->SMTPDebug  = 2;                           // enables SMTP debug information (for testing)\n                                                // 1 = errors and messages\n                                                // 2 = messages only\n$mail->SMTPAuth   = true;                        // enable SMTP authentication\n$mail->Host       = \"smtp.domain.com.br\";        // sets the SMTP server\n$mail->Port       = 587;                         // set the SMTP port for the GMAIL server\n$mail->Username   = \"user@domain.com.br\";        // SMTP account username\n$mail->Password   = \"SomeStrongPassword\";        // SMTP account password\n$mail->SingleTo   = true;\n$mail->From       = $sFrom;                      // Email do remetente\n$mail->FromName   = $sNameFrom;                  // Nome do remetente\n$mail->setFrom($sFrom, $sNameFrom);\n$mail->Sender     = $sFrom;                      // Seu e-mail\n\n$mail->addAddress($sTo, $sNameTo);\n\n$mail->Subject = $sSubject;\n$mail->IsHTML(true);\n$mail->MsgHTML($sBody);\n\nif(!$mail->Send()) {\n    return \"Mailer Error: \".$mail->ErrorInfo;\n} else{\n    return true;\n}\n\n`.\n2018-10-02 15:56:01 SERVER -> CLIENT: 220-br32.hostgator.com.br ESMTP Exim 4.91 #1 Tue, 02 Oct 2018 12:56:00 -0300 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\n2018-10-02 15:56:01 CLIENT -> SERVER: EHLO 192.168.1.90\n2018-10-02 15:56:01 SERVER -> CLIENT: 250-br32.hostgator.com.br Hello 192.168.1.90 [177.69.78.164]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250-STARTTLS250 HELP\n2018-10-02 15:56:01 CLIENT -> SERVER: AUTH LOGIN\n2018-10-02 15:56:01 SERVER -> CLIENT: 334 VXNlcm5hbWU6\n2018-10-02 15:56:01 CLIENT -> SERVER: \n2018-10-02 15:56:01 SERVER -> CLIENT: 334 UGFzc3dvcmQ6\n2018-10-02 15:56:01 CLIENT -> SERVER: \n2018-10-02 15:56:01 SERVER -> CLIENT: 235 Authentication succeeded\n2018-10-02 15:56:01 CLIENT -> SERVER: MAIL FROM:sender@domain.com.br\n2018-10-02 15:56:01 SERVER -> CLIENT: 250 OK\n2018-10-02 15:56:01 CLIENT -> SERVER: RCPT TO:to@domain.com.br\n2018-10-02 15:56:01 SERVER -> CLIENT: 250 Accepted\n2018-10-02 15:56:01 CLIENT -> SERVER: DATA\n2018-10-02 15:56:02 SERVER -> CLIENT: 354 Enter message, ending with \".\" on a line by itself\n2018-10-02 15:56:02 CLIENT -> SERVER: Date: Tue, 2 Oct 2018 12:56:00 -0300\n2018-10-02 15:56:02 CLIENT -> SERVER: From: Intranet sender@domain.com.br\n2018-10-02 15:56:02 CLIENT -> SERVER: Subject: =?UTF-8?Q?Resumo_Lan=C3=A7amentos_Controle_de_Horas_-25/09/2018=C3=A0_0?=\n2018-10-02 15:56:02 CLIENT -> SERVER: =?UTF-8?Q?2/10/2018?=\n2018-10-02 15:56:02 CLIENT -> SERVER: Message-ID: rJnLI5mtCuS9iRHGVShaILLtYlgdegCGqH8vORfSJI@192.168.1.90\n2018-10-02 15:56:02 CLIENT -> SERVER: X-Mailer: PHPMailer 6.0.5 (https://github.com/PHPMailer/PHPMailer)\n2018-10-02 15:56:02 CLIENT -> SERVER: MIME-Version: 1.0\n2018-10-02 15:56:02 CLIENT -> SERVER: Content-Type: multipart/alternative;\n2018-10-02 15:56:02 CLIENT -> SERVER: boundary=\"b1_rJnLI5mtCuS9iRHGVShaILLtYlgdegCGqH8vORfSJI\"\n2018-10-02 15:56:02 CLIENT -> SERVER: \n2018-10-02 15:56:02 CLIENT -> SERVER: This is a multi-part message in MIME format.\n2018-10-02 15:56:02 CLIENT -> SERVER: --b1_rJnLI5mtCuS9iRHGVShaILLtYlgdegCGqH8vORfSJI\n2018-10-02 15:56:02 CLIENT -> SERVER: Content-Type: text/plain; charset=UTF-8\n2018-10-02 15:56:02 CLIENT -> SERVER: Content-Transfer-Encoding: base64\n2018-10-02 15:56:02 CLIENT -> SERVER: \n2018-10-02 15:56:02 CLIENT -> SERVER: UkVTVU1PIERFIExBTsOHQU1FTlRPUyBERSBIT1JBUw0KDQowNDAtQU5EUklFTEUgQkFUSVNUQSBL\n2018-10-02 15:56:02 CLIENT -> SERVER: UlnDh0ENCjI1LzA5LzIwMTggIDA4OjQyOjAwICBURVLDh0EtRkVJUkENCjI2LzA5LzIwMTggIDA4\n2018-10-02 15:56:02 CLIENT -> SERVER: OjQyOjAwICBRVUFSVEEtRkVJUkENCjI3LzA5LzIwMTggIDA4OjQyOjAwICBRVUlOVEEtRkVJUkEN\n2018-10-02 15:56:02 CLIENT -> SERVER: CjI4LzA5LzIwMTggIDA4OjIwOjAwICBTRVhUQS1GRUlSQQ0KMDEvMTAvMjAxOCAgMDg6NDI6MDAg\n2018-10-02 15:56:02 CLIENT -> SERVER: IFNFR1VOREEtRkVJUkENCg0KMDEwLUNMQVVESUEgUk9CRVJUQSBIw5xUVEVMIEZVUlNUDQoyNS8w\n...\n2018-10-02 15:56:02 CLIENT -> SERVER: YWRhIGF1dG9tYXRpY2FtZW50ZSwgZmF2b3IgbsOjbyByZXNwb25kZXIuDQpGQU1BQ1JJUyBDT05U\n2018-10-02 15:56:02 CLIENT -> SERVER: QUJJTElEQURFIFMvUyBMVERBDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09\n2018-10-02 15:56:02 CLIENT -> SERVER: PT09PT09PT09PT09PT09\n2018-10-02 15:56:02 CLIENT -> SERVER: \n2018-10-02 15:56:02 CLIENT -> SERVER: --b1_rJnLI5mtCuS9iRHGVShaILLtYlgdegCGqH8vORfSJI\n2018-10-02 15:56:02 CLIENT -> SERVER: Content-Type: text/html; charset=UTF-8\n2018-10-02 15:56:02 CLIENT -> SERVER: Content-Transfer-Encoding: base64\n2018-10-02 15:56:02 CLIENT -> SERVER: \n2018-10-02 15:56:02 CLIENT -> SERVER: PHByZT48Yj5SRVNVTU8gREUgTEFOw4dBTUVOVE9TIERFIEhPUkFTPC9iPg0KDQo8Yj4wNDAtQU5E\n2018-10-02 15:56:02 CLIENT -> SERVER: UklFTEUgQkFUSVNUQSBLUlnDh0E8L2I+DQoyNS8wOS8yMDE4ICAwODo0MjowMCAgVEVSw4dBLUZF\n2018-10-02 15:56:02 CLIENT -> SERVER: SVJBDQoyNi8wOS8yMDE4ICAwODo0MjowMCAgUVVBUlRBLUZFSVJBDQoyNy8wOS8yMDE4ICAwODo0\n2018-10-02 15:56:02 CLIENT -> SERVER: MjowMCAgUVVJTlRBLUZFSVJBDQoyOC8wOS8yMDE4ICAwODoyMDowMCAgU0VYVEEtRkVJUkENCjAx\n...\n2018-10-02 15:56:02 CLIENT -> SERVER: Jz4wMDowMDowMDwvc3Bhbj4gIFNFR1VOREEtRkVJUkENCg0KPT09PT09PT09PT09PT09PT09PT09\n2018-10-02 15:56:02 CLIENT -> SERVER: PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KTWVuc2FnZW0gZ2VyYWRhIGF1dG9tYXRp\n2018-10-02 15:56:02 CLIENT -> SERVER: Y2FtZW50ZSwgZmF2b3IgbsOjbyByZXNwb25kZXIuDQpGQU1BQ1JJUyBDT05UQUJJTElEQURFIFMv\n2018-10-02 15:56:02 CLIENT -> SERVER: UyBMVERBDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09\n2018-10-02 15:56:02 CLIENT -> SERVER: PT09PC9wcmU+\n2018-10-02 15:56:02 CLIENT -> SERVER: \n2018-10-02 15:56:02 CLIENT -> SERVER: \n2018-10-02 15:56:02 CLIENT -> SERVER: --b1_rJnLI5mtCuS9iRHGVShaILLtYlgdegCGqH8vORfSJI--\n2018-10-02 15:56:02 CLIENT -> SERVER: \n2018-10-02 15:56:02 CLIENT -> SERVER: .\n2018-10-02 15:56:02 SERVER -> CLIENT: 250 OK id=1g7N1m-001IMy-23\n2018-10-02 15:56:02 CLIENT -> SERVER: QUIT\n2018-10-02 15:56:02 SERVER -> CLIENT: 221 br32.hostgator.com.br closing connection\n```. If I 'only remove the param \"SingleTo\" works fine, but if I have more than one recipient both of them appear in the Field To, for this I've used SingleTo.\nIn the oldest version of PHPMailer, the same config worked fine.\nIf I set these params:\n$mail->SMTPAutoTLS = true;\n$mail->SMTPSecure = \"tls\";\nI've receive the errors below:\n2018-10-02 16:23:33 SERVER -> CLIENT: 220-br32.hostgator.com.br ESMTP Exim 4.91 #1 Tue, 02 Oct 2018 13:23:33 -0300 220-We do not authorize the use of this system to transport unsolicited, 220 and/or bulk e-mail.\n2018-10-02 16:23:33 CLIENT -> SERVER: EHLO 192.168.1.90\n2018-10-02 16:23:33 SERVER -> CLIENT: 250-br32.hostgator.com.br Hello 192.168.1.90 [177.69.78.164]250-SIZE 52428800250-8BITMIME250-PIPELINING250-AUTH PLAIN LOGIN250-STARTTLS250 HELP\n2018-10-02 16:23:33 CLIENT -> SERVER: STARTTLS\n2018-10-02 16:23:33 SERVER -> CLIENT: 220 TLS go ahead\nSMTP Error: Could not connect to SMTP host.\n2018-10-02 16:23:33 CLIENT -> SERVER: QUIT\n2018-10-02 16:23:34 \n2018-10-02 16:23:34 \nSMTP Error: Could not connect to SMTP host.\nMessage could not be sent. Mailer Error: SMTP Error: Could not connect to SMTP host.. ",
    "gthb1": "Not sure how the 'not setting it' could happen, but that is more a lack of ideas ;)\nWhat is known: the script working with PhpMailer or SwiftMailer is the same, and it happened before and after server update the same way (emails sent w/ PhpMlr do not have the subject line (only showing \"(No Subject)\", while w/ SwiftMlr they have it has set up). They only thing I can think of would be some database corruption. Not sure how to test it. Probably the state shortly before when the subject variable's value is handed over to the mailer?. ",
    "gitsnippet": "    $mail->CharSet = 'UTF-8';\n    $mail->Encoding = \"base64\";\n\nsolved.. ",
    "silviodelgado": "This error is also shown to me when I send an email.. My version is the last stable (6.0.7) and the problem are still there.. Sorry for my complain. \nMy VSCode cache from Github was keeping the old code, instead of update it (even after composer.json update). ",
    "PresPhuture": "Hi phpmailer\nI cannot download or clone all the files from the github repository. It only downloads two folders and some few files from the zip file I extracted.\n\n. ",
    "benoitmignault": "Hi ! I have the same kind of issue...If my server does'nt work with composer, how can i use it?\nBut on my environnement dev , I use comose to simulate localhost:8080\nMerci. Hi ! I have the same kind of issue...If my server does'nt work with composer, how can i use it?\nBut on my environnement dev , I use comose to simulate localhost:8080\nMerci. Thx for the rapidly answer...\nI will try it soon !\nLe ven. 2 nov. 2018 10 h 12, Marcus Bointon notifications@github.com a\n\u00e9crit :\n\nRun composer locally, and then upload the vendor folder along with your\nother files.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1574#issuecomment-435392665,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbBJlH_DXs2jd4ZlhdqRjErM23l9-9ppks5urFLfgaJpZM4XajEH\n.\n. Thx for the rapidly answer...\nI will try it soon !\n\nLe ven. 2 nov. 2018 10 h 12, Marcus Bointon notifications@github.com a\n\u00e9crit :\n\nRun composer locally, and then upload the vendor folder along with your\nother files.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1574#issuecomment-435392665,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbBJlH_DXs2jd4ZlhdqRjErM23l9-9ppks5urFLfgaJpZM4XajEH\n.\n. Finaly, i succes install phpmailer with composer and i put on my server on (one.com)\n\nThey keep the port 25 open at least...\nIt's complex to understand how to use/configure\nWhat i need to put at the beginning from my php file ...\nBecause i m not familiar with class in PHP...\nI m not sure to understand all in this example :\nhttps://github.com/PHPMailer/PHPMailer/blob/master/examples/gmail.phps. Finaly, i succes install phpmailer with composer and i put on my server on (one.com)\nThey keep the port 25 open at least...\nIt's complex to understand how to use/configure\nWhat i need to put at the beginning from my php file ...\nBecause i m not familiar with class in PHP...\nI m not sure to understand all in this example :\nhttps://github.com/PHPMailer/PHPMailer/blob/master/examples/gmail.phps. Hi Marcus,\nI appreciate that you take time to respond at my issues :)\nIn parallel of my job, i m learning by myself any language i like (php, js,\ncss etc...)\nI never use before this discover(phpmailer) the term Class in php\nMy understanding is what i need to put at the beginning of my php file to\nuse after correctly phpmailer with Gmail.\nThx\nPs My english is not perfect :) After all, i m a french canadian lol\nLe lun. 5 nov. 2018 07 h 42, Marcus Bointon notifications@github.com a\n\u00e9crit :\n\nThat example is pretty heavily commented - what exactly don't you\nunderstand?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1574#issuecomment-435860351,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbBJlKiTJrk1VstCB8UYm9noDXO5MHYPks5usDIwgaJpZM4XajEH\n.\n. \n",
    "XL-2000": "Although this seems a valid question at first glance, you want to resend regardless of the error right?\nWhere do you need the errorcode for? Next to this, keep in mind that auto-resending might be a bad idea i.e. if you run into quotum or abuse limitations.\nAlso, any error once the email is delivered to the mail server can not be caught on application-level, so keep in mind this will not be full proof.\n. ",
    "AkinOlawale": "@Synchro Yes that's exactly what i have in mind. The ErrorInfo property could be improved to contain numeric code. This should be a feature request. ",
    "luoyajiang": "why close my issue?. \n\n\nthis can not help me?please\n. thank you! \nbecause  163.com\nso\n$mail->Host = 'smtp.163.com'; \n$mail->SMTPSecure = 'ssl';                         \n$mail->Port = 465;\n. ",
    "woakazam": "2018-10-25 20:23:21 SERVER -> CLIENT: 220 server.domain.com ESMTP Postfix\n2018-10-25 20:23:21 CLIENT -> SERVER: EHLO www.domain.com\n2018-10-25 20:23:21 SERVER -> CLIENT: 250-server.domain.com250-PIPELINING250-SIZE 204800000250-ETRN250-STARTTLS250-AUTH PLAIN LOGIN250-AUTH=PLAIN LOGIN250-ENHANCEDSTATUSCODES250-8BITMIME250 DSN\n2018-10-25 20:23:21 CLIENT -> SERVER: STARTTLS\n2018-10-25 20:23:21 SERVER -> CLIENT: 220 2.0.0 Ready to start TLS\nSMTP Error: Could not connect to SMTP host.\n2018-10-25 20:23:21 CLIENT -> SERVER: QUIT\n2018-10-25 20:23:21 \n2018-10-25 20:23:21 \nSMTP Error: Could not connect to SMTP host.. Yes. Just different PHPMailer includes. Same PHP Codes (after try part). No outdated. Checked everywhere.\n5.2.4 works, 6.0.5 not work. Interesting .... stream_socket_enable_crypto return false. i guess about CA ...\nnow i use 6.0.5 with this codes;\n$mail->SMTPOptions = array(\n        'ssl' => array(\n            'verify_peer' => false,\n            'verify_peer_name' => false,\n            'allow_self_signed' => true\n        )\n);\nThanx for help.. stream_socket_enable_crypto return false. i guess about CA ...\nnow i use 6.0.5 with this codes;\n$mail->SMTPOptions = array(\n        'ssl' => array(\n            'verify_peer' => false,\n            'verify_peer_name' => false,\n            'allow_self_signed' => true\n        )\n);\nThanx for help.. ",
    "Gratusfr": "What are the standards failures to fix ? Mayby spaces before \"$body = $parts[1];\" ?. Seem working when I PR but seem brocken now.. ",
    "ibrahimsayar": "Thanks\nMarcus Bointon notifications@github.com, 29 Eki 2018 Pzt, 10:20 tarihinde\n\u015funu yazd\u0131:\n\nClosed #1586 https://github.com/PHPMailer/PHPMailer/pull/1586.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/pull/1586#event-1931443863, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/Ai3DZA06LeauzVwnhDINRQj2R1cPAhNVks5upqw5gaJpZM4X-KNs\n.\n\n\n-- \n\u0130brahim SAYAR\nWeb Developer\n. ",
    "slloyd88": "Ok, I am sure it is on the the windows SMTP side. Using the same PHP code I am able to connect and send with many other systems.  I will close but just thought you may want to know that there are windows SMTP servers out there that are causing issues.. ",
    "vjardin": "I'll fix it.. Please, how to get it applied ?. Thanks for your follow up, below some replies:\n\nDo you have documentation for this requirement?\n\nI did highlight its usage into the commit log / pull request. Should I add it into the README too?\n\nSome of what you\u2019ve done in here looks like RFC contraventions.\n\nWhy do you believe that it is against the SMTP RFCs ? Years ago, the French Administration has defined some SMTP exchanges that require only a very small set of SMTP records. Emails with too many records are rejected. The purpose of this patch is to allow sending such light emails. It remains compliant with the RFCs. I did some tests with many SMTP relays/servers (gmail.com, free.fr, etc.), all transactions were working fine using PHPMailer. Moreover, since this model is widely used in France without any RFC issues for many years, that why I am very confident to push it into PHPMailer. It will allow anyone using PHP to develop some systems that interconnect with the Administration.\nBest regards,. Thanks for this review. I think that you are missing one item that creates some issues.\nFor most message_type, the following is done:\n```\n                $body .= $mimepre;\n                $body .= $this->getBoundary($this->boundary[1], $bodyCharSet, '', $bodyEncoding);\n                $body .= $this->encodeString($this->Body, $bodyEncoding);\n                $body .= static::$LE;\n                $body .= $this->attachAll('attachment', $this->boundary[1]);\n```\nso, the body has too many entries. I need a case with only a very light body:\n```\n            case 'attach_one':\n                $body .= $this->attachAll('attach_one', $this->boundary[1]);\n```\nthat's why I had to create a new type. I did not find a better may.\nSo, we can get the following:\n```\n2018-11-18 14:34:47     SERVER -> CLIENT: 354  Go ahead l17-v6sm33145105wrb.86 - gsmtp\n2018-11-18 14:34:47     CLIENT -> SERVER: Date: Sun, 18 Nov 2018 15:34:47 +0100\n2018-11-18 14:34:47     CLIENT -> SERVER: To: OCT vjardin+oct@xyzXYZxyz.fr\n2018-11-18 14:34:47     CLIENT -> SERVER: From: VJ vjardin@xyzXYZxy.fr\n2018-11-18 14:34:47     CLIENT -> SERVER: Subject: test\n2018-11-18 14:34:47     CLIENT -> SERVER: Message-ID: q1NRAgPooG3fE0d0GYmqruWOmcTLnyHSau54rBEHNLE@pluton\n2018-11-18 14:34:47     CLIENT -> SERVER: X-Mailer: VJ mailer\n2018-11-18 14:34:47     CLIENT -> SERVER: MIME-Version: 1.0\n2018-11-18 14:34:47     CLIENT -> SERVER: Content-Type: multipart/mixed;\n2018-11-18 14:34:47     CLIENT -> SERVER:       boundary=\"b1_q1NRAgPooG3fE0d0GYmqruWOmcTLnyHSau54rBEHNLE\"\n2018-11-18 14:34:47     CLIENT -> SERVER:\n2018-11-18 14:34:47     CLIENT -> SERVER: --b1_q1NRAgPooG3fE0d0GYmqruWOmcTLnyHSau54rBEHNLE\n2018-11-18 14:34:47     CLIENT -> SERVER: Content-Type: Application/EDI-consent\n2018-11-18 14:34:47     CLIENT -> SERVER: Content-Transfer-Encoding: BASE64\n2018-11-18 14:34:47     CLIENT -> SERVER: Content-Description: TEST/test\n2018-11-18 14:34:47     CLIENT -> SERVER:\n2018-11-18 14:34:47     CLIENT -> SERVER: MIIB1AYJKoZIhvcNAQcDoIIBxTCCAcECAQAxggF8MIIBeAIBADBgMFoxCzAJBgNVBAYTAkZSMRkw\n2018-11-18 14:34:47     CLIENT -> SERVER: FwYDVQQKDBBHSUUtU0VTQU0tVklUQUxFMRcwFQYDVQQLDA4wMDAyXzM5MTcyMjg4MTEXMBUGA1UE\n2018-11-18 14:34:47     CLIENT -> SERVER: AwwOQUMtRkFDVFVSQVRJT04CAgYLMA0GCSqGSIb3DQEBAQUABIIBAIma8Ut4KHHqR0xVHtjSzdFg\n[...]\n2018-11-18 14:34:47     CLIENT -> SERVER: xWQlfxmqw3YYuro2yPBk+g==\n2018-11-18 14:34:47     CLIENT -> SERVER:\n2018-11-18 14:34:47     CLIENT -> SERVER: --b1_q1NRAgPooG3fE0d0GYmqruWOmcTLnyHSau54rBEHNLE--\n2018-11-18 14:34:47     CLIENT -> SERVER:\n2018-11-18 14:34:47     CLIENT -> SERVER: .\n```\nWithout this attach_one case, I do cannot remove this overhead:\n```\n  XX             $body .= $mimepre;\n  XX             $body .= $this->getBoundary($this->boundary[1], $bodyCharSet, '', $bodyEncoding);\n  XX             $body .= $this->encodeString($this->Body, $bodyEncoding);\n  XX             $body .= static::$LE;\n. I'd like to agree with you, but unfortunatey it cannot work due to:\n  XX             $body .= $this->getBoundary($this->boundary[1], $bodyCharSet, '', $bodyEncoding);\n  XX             $body .= $this->encodeString($this->Body, $bodyEncoding);\n```\nbecause these 2 lines would add : \n2018-11-18 18:13:46 CLIENT -> SERVER: --b1_MaMKJYisdxrriVOgLdj8wRcl8PvVzSoaic9fQ7ZU\n2018-11-18 18:13:46 CLIENT -> SERVER: Content-Type: multipart/mixed; charset=iso-8859-1\n2018-11-18 18:13:46 CLIENT -> SERVER:\nI agree that it is wired / kind of hack to send a multipart message having 1 single attachment only ?! but that what is expected by the receiver. Without adding such special type to PHPMailer, is there any other and better option to avoid these 2 lines ?!\nbest regards,. ",
    "mmilanovic4": "Hi, there is already Serbian translation under rs code (ISO 3166, codes for the names of the countries). I used ISO 639 (codes for the names of languages) sr. You can keep the old one, eventually apply the missing properties from mine.. ",
    "DanielZambranoC": "I did what you told me, went to the example and identified \n$mail->clearAddresses();\nHowever, it didn't work, and I got it on the internet:\n$mail->clearAllRecipients();\nBut it didn't work either.\nUsing PHPMailer 6.0.5\nThis is the end of my sendingMail Function\nif(!$mail->send()) {\n    logFunction();\n    return true;\n}\n$mail->clearAddresses();\n$mail->clearAttachments();. > Please show the rest of your code.\n```\nfunction sendMail(params) {                      \n$mail->isSMTP();\n$mail->Debugoutput = 'html';\n$mail->Host = $smtp;\n$mail->SMTPAuth = true;\n$mail->SMTPKeepAlive = true;\n$mail->Username = $user;\n$mail->Password = $pass;\n$mail->SMTPSecure = 'tls';\n$mail->SMTPSecure = false;\n$mail->Port = 587;\n$mail->setFrom($noreply, 'XXX');\n$mail->addAddress($mail);   \n$mail->addBCC($cc1);\n$mail->isHTML(true);\n\n\n    $text = 'Body';\n\n\n$mail->Subject = \"Subject\"\n$body = $text;\n\n\n$mail->Body    = $body;\n\nif(!$mail->send()) {\n    logs()\n}\n$mail->clearAddresses();\n    $mail->clearAttachments();\n\n}\nI've altered the content a little, but the functional structure is exactly that.. >\n\n$mail->addAddress($mail); \n```\nThis makes no sense.\nIt looks like you have edited out the bits that matter. What are you really passing into addaddress? What is in $ccl?\n\nSorry, I didn't realize that I used the same variable in this setting, but there they are happening in every iteration:\n1@abc.com\n2@abc.com\nThe string that contains the email address to which the notification should arrive, is only 1 address that is used in each iteration.\n$cc1 is a fixed account in gmail where I send a copy of the sent mail.\nI do 2 logs of sent mail, one per database and one in gmail.\n. Thanks for your time, I will give you all the info you need\n```\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire 'vendor/autoload.php';\n$class_mail = new PHPMailer(true);\n$class_mail->CharSet = 'UTF-8';\nfunction sendMail(params) {                    \n        global $class_mail;\n        $mail = $class_mail;\n    $mail->isSMTP();\n    $mail->Debugoutput = 'html';\n    $mail->Host = $smtp;\n    $mail->SMTPAuth = true;\n    $mail->SMTPKeepAlive = true;\n    $mail->Username = $user;\n    $mail->Password = $pass;\n    $mail->SMTPSecure = 'tls';\n    $mail->SMTPSecure = false;\n    $mail->Port = 587;\n    $mail->setFrom('noreplyemail', 'XXX');\n    $mail->addAddress('user thats going to be notified'); \n    $mail->addBCC(\"log_email@gmail.com');\n    $mail->isHTML(true);  \n        $text = 'Body';\n    $mail->Subject = \"Subject\"\n    $body = $text;\n    $mail->Body    = $body;\nif(!$mail->send()) {\n    logs()\n}\n$mail->clearAddresses();\n    $mail->clearAttachments();\n\n}\n```\nFor each notification sendMail function is executed, and yes, I meant loop.\nSending emails works perfect, I haven't had any problem with that, except now that I'm implementing a reminder system that is mixing my emails.\nYour first response fits the problem, except that this function is not properly cleaning the previous address.. > You're still editing so much out of your code it's incomprehensible. function sendMail(params) { is not even valid PHP, and you're hiding what the params are, there is no looping in your code, so there is no way that the code you have shown can behave as you are describing.\nThis is the definition of the function, then I query all the people who must be notified, for each result the function must be executed waiting for the mail and the name.\neach loop has 1 different mail\n```\n$persons = QUERY_CALL\n    foreach ($persons as $i => $p) {\n\n\n        $mailE = mailRecordatorio(email,name,datetime,message);\n\n        if($mailE) {\n            log\n        } \n    }\n\n```\nFirst: 1@abc.com\nSecond: 2@abc.com\nAs you might have guessed, it seems that it remains in memory, for the second loop 1@abc.com does not disappear.\nI haven't tested if this can be a chain reaction, if I keep incorporating mails, the most probable is that in the third loop the first 2 mails will be incorporated to the sent mail, and so on.\n. Took the example I and got the same result\n```\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->Host = 'xxx';\n$mail->SMTPAuth = true;\n$mail->SMTPKeepAlive = true; // SMTP connection will not close after each email sent, reduces SMTP overhead\n$mail->Port = 587;\n$mail->SMTPSecure = 'tls';\n$mail->Username = 'xxx';\n$mail->Password = 'xxx';\n$mail->setFrom('xxx', 'List manager');\n$mail->Subject = \"PHPMailer Simple database mailing list test\".rand();\n$mail->AltBody = 'To view the message, please use an HTML compatible email viewer!';\n$a = dbExec($sX,$pX);\nif(count($a)>0) {\nforeach ($a as $r) {\n\n    $p = dbExec($sqlp,$paramsp);\n\n    if(count($p)<1) return false;\n\n    foreach ($p as $i => $p) {\n\n        $mail->msgHTML(\"Hi!!! $nombre\");\n\n        $mail->addAddress($email,$name); \n        if($mail->send()) {\n\n            log()\n        }\n    }\n\n    if($error===false) {\n        log\n    }\n    echo \"<br/>\";\n    // Clear all addresses and attachments for next loop\n    $mail->clearAddresses();\n    $mail->clearAttachments();\n\n}\n\n}\n```\nThere is a bug with clearAddresses(), hope you can flag it. Took the example I and got the same result\n```\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\n$mail = new PHPMailer;\n$mail->isSMTP();\n$mail->Host = 'xxx';\n$mail->SMTPAuth = true;\n$mail->SMTPKeepAlive = true; // SMTP connection will not close after each email sent, reduces SMTP overhead\n$mail->Port = 587;\n$mail->SMTPSecure = 'tls';\n$mail->Username = 'xxx';\n$mail->Password = 'xxx';\n$mail->setFrom('xxx', 'List manager');\n$mail->Subject = \"PHPMailer Simple database mailing list test\".rand();\n$mail->AltBody = 'To view the message, please use an HTML compatible email viewer!';\n$a = dbExec($sX,$pX);\nif(count($a)>0) {\nforeach ($a as $r) {\n\n    $p = dbExec($sqlp,$paramsp);\n\n    if(count($p)<1) return false;\n\n    foreach ($p as $i => $p) {\n\n        $mail->msgHTML(\"Hi!!! $nombre\");\n\n        $mail->addAddress($email,$name); \n        if($mail->send()) {\n\n            log()\n        }\n    }\n\n    if($error===false) {\n        log\n    }\n    echo \"<br/>\";\n    // Clear all addresses and attachments for next loop\n    $mail->clearAddresses();\n    $mail->clearAttachments();\n\n}\n\n}\n```\nThere is a bug with clearAddresses(), hope you can flag it. ",
    "MedShake": "Thaks for your answer. \nI'll try to test deeply and I'll be back to complete this thread.\nB.  . Thaks for your answer. \nI'll try to test deeply and I'll be back to complete this thread.\nB.  . ",
    "Letsgetitons": "Thanks. ",
    "petercrowley": "For anyone interested in the topic, here is the announcement from google.\nhttps://developers.googleblog.com/2018/10/elevating-user-trust-in-our-api.html\nI've sent some messages to Google to see what I can find and I'll report back if I have a solution.. ",
    "kilkujadek": "Have you find solution? I've similar problem in new APP.\nIt is working fine when access token is obtained with \n'scope' => [\n                'https://mail.google.com/'\n            ]\nbut when changed to \n'scope' => ['https://www.googleapis.com/auth/gmail.send']\nResponse is:\n2019-02-15 10:12:40     SMTP Error: Could not authenticate.\n2019-02-15 10:12:40     CLIENT -> SERVER: QUIT\n2019-02-15 10:12:40     SERVER -> CLIENT: 535-5.7.8 Username and Password not accepted. Learn more at\n                                          535 5.7.8  https://support.google.com/mail/?p=BadCredentials n184sm14639706wmf.5 - gsmtp\n2019-02-15 10:12:40     SMTP ERROR: QUIT command failed: 535-5.7.8 Username and Password not accepted. Learn more at\n                                          535 5.7.8  https://support.google.com/mail/?p=BadCredentials n184sm14639706wmf.5 - gsmtp\n2019-02-15 10:12:40     SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting. ",
    "jethromay": "Turns out my issue was because i had:\n`$mail->IsSMTP(); // enable SMTP\n$mail->Mailer = \u201csmtp\u201d;`\nSo i removed the first line and it stopped adding duplicate addresses to the mail.. ",
    "diegoferia": "Thanks for answering. A final question to clarify.\nWhen you say \"You must check the records on your mail server to know what happened to the messages.\", It refers to the hosting provider (Godaddy) or the mail service provider (G-suite google). Thank you.. ",
    "Mugna00": "I do not understand where the problem is. ",
    "CamiloAPR": "I'm thinking it's better for us to have this talk here rather than on StackOverflow. So, I've already tried to set up SMTPDebug to 2. But that isn't showing up anything... and I think setting that var isn't enough since the function edebug(which is the only one that uses it) is only called on errors. \nOn the other hand, I checked the value of Hostname and MIMEHeaders and they're both set right after running  preSend()\nJust so we're on the same page, this is the file I'm editing, even though is not that different from the one hosted here: https://core.trac.wordpress.org/browser/tags/5.0.2/src/wp-includes/class-phpmailer.php#L0. Oh, my bad, I tested it wrong. Well, as you said the address is set right at the MAIL FROM log. Would this mean that the bug is between WordPress Multisite configuration and my environment (Maybe my Apache2 conf)? ,or is there any other factor that you think could be interfering?. ",
    "PDFCoder": "OK, as I see now, this might be a duplicate to #1618.\nBut do you see any disadvantages in deleting the stream_select if condition? As I understand, it should prevent a timeout under certain circumstances?. ",
    "dpeca": "Very interesting thing is that:\n- When PHP is running on Apache (mod_php) - bug occur\n- When PHP is running on PHP-FPM - there is no bug\n- When PHP is running from SSH console - there is no bug\nTested on the same machine.\nDebian9, php packages from sury.org. Very interesting thing is that:\n- When PHP is running on Apache (mod_php) - bug occur\n- When PHP is running on PHP-FPM - there is no bug\n- When PHP is running from SSH console - there is no bug\nTested on the same machine.\nDebian9, php packages from sury.org. And, btw, in sysctl.conf we have\nfs.file-max = 200000\nAnd in limits.conf we have\n* soft     nofile         200000\n* hard     nofile         200000\nSo file descriptors ar not limited at all.... And, btw, in sysctl.conf we have\nfs.file-max = 200000\nAnd in limits.conf we have\n* soft     nofile         200000\n* hard     nofile         200000\nSo file descriptors ar not limited at all.... Btw, solution that @PDFCoder found (to comment if (!stream_select) solved a problem.. Btw, solution that @PDFCoder found (to comment if (!stream_select) solved a problem.. @Synchro \n```\nroot@server:~# sudo -u www-data bash\nwww-data@server:/root$ ulimit -n\n200000\n```. I'm pretty sure we would have much larger issues if ulimit is only 1024...\n@Synchro \nHow I can check it?. I got just empty output with it, @chriscroome . ```\nphp-config7.0 --configure-options\n--includedir=/usr/include --mandir=/usr/share/man --infodir=/usr/share/info --disable-silent-rules --libdir=/usr/lib/x86_64-linux-gnu --libexecdir=/usr/lib/x86_64-linux-gnu --disable-maintainer-mode --disable-dependency-tracking --prefix=/usr --enable-cli --disable-cgi --disable-phpdbg --with-config-file-path=/etc/php/7.0/cli --with-config-file-scan-dir=/etc/php/7.0/cli/conf.d --build=x86_64-linux-gnu --host=x86_64-linux-gnu --config-cache --cache-file=/build/php7.0-7.0.33/config.cache --libdir=${prefix}/lib/php --libexecdir=${prefix}/lib/php --datadir=${prefix}/share/php/7.0 --program-suffix=7.0 --sysconfdir=/etc --localstatedir=/var --mandir=/usr/share/man --disable-all --disable-debug --disable-rpath --disable-static --with-pic --with-layout=GNU --without-pear --enable-filter --with-openssl=yes --with-pcre-regex=/usr --enable-hash --with-mhash=/usr --enable-libxml --enable-session --with-system-tzdata --with-zlib=/usr --with-zlib-dir=/usr --enable-dtrace --enable-pcntl --with-libedit=shared,/usr build_alias=x86_64-linux-gnu host_alias=x86_64-linux-gnu CFLAGS=-g -O2 -fdebug-prefix-map=/build/php7.0-7.0.33=. -fstack-protector-strong -Wformat -Werror=format-security -O2 -Wall -pedantic -fsigned-char -fno-strict-aliasing -g\n```\nThere is no enable-fd-setsize. Both Apache (with mod_php) and PHP-FPM are configured to switch process UID and GID to user - so we do not run scripts as www-data, for sure.\nFor Apache we are using mod_ruid2 to switch UID and GID to script owner user...\nI'm testing PHPMailer as user that only runs phpmailer test script.\nAnd as I previously said, there is no issues if script is run through PHP-FPM.\nHard to believe that mod_ruid2 is not doing proper UID and GID switching... we are running 50 servers with mod_ruid2, everything works fine with switching process to UID and GID of script owner... \nAgain, I expect pretty much issues if scripts are reaching ulimits... but we don't have any issues, even we hosts 200 sites on that server.\nThis is the first time to see error about FD_SETSIZE.... ",
    "chriscroome": "I've come across this issue and it doesn't appear to depend on the user that is running Apache and their file limits, it also doesn't appear to depend on PHP, Apache and OpenSSL being recompiled to support more than 1024 file descriptors, I have tried to address this by re-building the Debian packages and on a server running these rebuilt packages the test script posted to this issue can be run and will open more that 1024 sockets if edited to do so (it won't open more than 1024 sockets with the versions of Apache and PHP Debian provides).\nThis Plesk guide suggests that libc-client2002edebian also needs rebuilding, this is now the libc-client2007e package and it provides the uw-imap library, I couldn't get this to recompile, could this be where the problem lies?. I've come across this issue and it doesn't appear to depend on the user that is running Apache and their file limits, it also doesn't appear to depend on PHP, Apache and OpenSSL being recompiled to support more than 1024 file descriptors, I have tried to address this by re-building the Debian packages and on a server running these rebuilt packages the test script posted to this issue can be run and will open more that 1024 sockets if edited to do so (it won't open more than 1024 sockets with the versions of Apache and PHP Debian provides).\nThis Plesk guide suggests that libc-client2002edebian also needs rebuilding, this is now the libc-client2007e package and it provides the uw-imap library, I couldn't get this to recompile, could this be where the problem lies?. This is how I checked the enable-fd-setsize variable on Debian Stretch:\nbash\napt install -y php-dev\nphp-config --configure-options | sed 's/\\s\\+/\\n/g' | grep enable-fd-setsize\nBut having it set to a value higher than 1024 doesn't actually appear to help\u2026. Empty output means it has the default of 1024 as far as I could work out.. I you have a dev / test Stretch server feel free to try the debs I built which are available here https://deb.webarch.net/ they have --enable-fd-setsize 2048 but servers running them still hit the limit, it appears to make no difference\u2026. I'm using Apache 2 ITK MPM, it is in Debian, I haven't come across mod_ruid2 before, I see that this is also in Debian, I guess they do more-or-less that same thing\u2026. ",
    "Dylan-M": "To address your points:\nWe're limited by the author of the software, because it's a RapidWeaver plugin. So, we have to work with what he's providing (not by my choice, I hate RW myself - but it's a friend's stuff and I just help out). The developer insists we can only use mail(). And yes, I don't like it either.\nAs for the php.ini, it isn't globally. It's per website hosted on the server, and without it many of the other software used refuse to send email at all. Same issues, they're written exclusively for mail() and expect it to work w/out setting some parameters. Ugh.\nAnd the More than one \"from\" person appears on the command line when executing the script that way. It does not show in browser. Hence why I put how I was executing it in the original report.\nMy suggestion to add it to documentation was more along the lines of adding an \"Other possible causes and fixes\" section that includes this information.. Works for me thank you. I'll be reviewing the RapidWeaver side of things with my friend this evening to see if we can address it within this guy's RW plugin settings. I really hate being limited in the fashion I am by the software choices this friend uses, but they won't ditch RW and just bother to learn how to do things for themselves.. ",
    "aalfiann": "php_network_getaddresses: getaddrinfo failed: Name or service not known\nmeans DNS have problem to communicate to your server.. ",
    "shoko93": "I understand about the composer, but would it be possible to say something like \"Please consider modifying the composer file if it is taking too long to install dependencies.\" on the README? I believe this is not only for the language test, but it applies to any other part of the development as well. I wanted to contribute, but had trouble with installing dependencies and wasn't really sure what was going on at first. So I think adding such suggestion will give some direction on what to do for people who are willing to help with the development. \nI will make the PR about the path change.\n. ",
    "Wouterkaas": "I can't because i cant go to the page only paypal can \n. ",
    "totalAldo": "Promising news: The original issue arose on the PHP 7.3.1 running on FreeBSD which is using PCRE  10.31 2018-02-12. \nWhen I tried to reproduce on MacOS which uses PCRE 10.32 2018-09-10, the regexp passes so I'm closing the issue. \noutput from MacOS with PHP 7.3.1\n10.32 2018-09-10\nbool(true). ",
    "Paktusin": "I tested on Outlook. When Event must cancel and header method and ical file method are different, Outlook do not deleting event from calendar. If methods in header and in body the same (CANCEL) all work properly. I tested on Outlook. When Event must cancel and header method and ical file method are different, Outlook do not deleting event from calendar. If methods in header and in body the same (CANCEL) all work properly. Yes. Its good Idea. I recode solution accroding  this rules:\nhttps://tools.ietf.org/html/rfc5545#section-8.1\n\n The \"method\" parameter is used to convey the iCalendar objec\n  method or transaction semantics for the calendaring and scheduling\n  information.  It also is an identifier for the restricted set of\n  properties and values of which the iCalendar object consists.  The\n  parameter is to be used as a guide for applications interpreting\n  the information contained within the body part.  It SHOULD NOT be\n  used to exclude or require particular pieces of information unless\n  the identified method definition specifically calls for this\n  behavior.  Unless specifically forbidden by a particular method\n  definition, a text/calendar content type can contain any set of\n  properties permitted by the Calendaring and Scheduling Core Object\n  Specification.  The \"method\" parameter MUST be specified and MUST\n  be set to the same value as the \"METHOD\" component property of the\n  iCalendar objects of the iCalendar stream if and only if the\n  iCalendar objects in the iCalendar stream all have a \"METHOD\"\n  component property set to the same value.. Yes. Its good Idea. I recode solution accroding  this rules:\n\nhttps://tools.ietf.org/html/rfc5545#section-8.1\n The \"method\" parameter is used to convey the iCalendar objec\n  method or transaction semantics for the calendaring and scheduling\n  information.  It also is an identifier for the restricted set of\n  properties and values of which the iCalendar object consists.  The\n  parameter is to be used as a guide for applications interpreting\n  the information contained within the body part.  It SHOULD NOT be\n  used to exclude or require particular pieces of information unless\n  the identified method definition specifically calls for this\n  behavior.  Unless specifically forbidden by a particular method\n  definition, a text/calendar content type can contain any set of\n  properties permitted by the Calendaring and Scheduling Core Object\n  Specification.  The \"method\" parameter MUST be specified and MUST\n  be set to the same value as the \"METHOD\" component property of the\n  iCalendar objects of the iCalendar stream if and only if the\n  iCalendar objects in the iCalendar stream all have a \"METHOD\"\n  component property set to the same value.. Sorry I'm busy right now. Sorry I'm busy right now.\n\n",
    "ortreum": "I only get the version of 2018-03-27 with npm even after deleting phpmailer ... but thx for pointing me on this problem. dev-master fixed it. dont know why it is stuck to 6.0.5.. ",
    "robGuess": "Marcus\nIf as you suggest, the group address is set as a To address, then \nPHPMailer will send the message to that address but the message has \nalready been sent to that address. It is the Mail forward for that \naddress that is being processed and sent to PHPMailer. I can handle that \nin the code however when the To or CC includes other addresses than the \ngroup address, then the problem occurs because in that case PHPMailer \nwould send the mail (which has already been sent to the non group \nmembers) a second time. I can not see a way of including the non group \naddresses as either To or CC without PHPMailer actually sending the \nmessage to those addresses without putting them in the header.\nRobin\nOn 15/02/2019 08:20, Marcus Bointon wrote:\n\nI'm not entirely clear why this is a PHPMailer issue. If you want the \ngroup address to appear in the to header, set it as the to address - \nthat way you won't have a duplicate. If you just want to control where \nreplies go, use a reply-to header - it's what it's for.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/1656#issuecomment-463948601, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AtTrMQlM5OmcTdP_HgMlmlJiuY7TLBu-ks5vNm2-gaJpZM4azU2k.\n. You say that to achieve what is needed, and alternative list of \nrecipients is required fort he SMTP server. Surely that is what the To: \nand CC: headers are. When a message is sent out by a client then each \nSMTP server receives a copy of the To: and Cc headers but only forwards \nthem to the destination. If you try and replicate this behaviour using \nPHPMailer by including To:/CC: headers to show the original group \ndestination then PHPMailer adds the incorrect duplicate To: header for \nundisclosed recipients but does not flag this as an error. The SMTP \nserver then rejects the message as invalid because it has more than one \nTo: header. It is this error that I am trying to stop.\n\nAs an example sender@domain1.com sends message to recipient1@domain2.com \nand group1@domain3.com. Then forwarder for group1@domain3.com sends the \nmessage using PHPMailer to member1@domain4.com and member2@domain5.com. \nMember1 and member2 also need to know that the original message went to \nrecipient1 so that when they click reply to all, recipient1 is included \nin list of recipients.\u00a0 Unless you add a To: header how can you format \nthe message to member1 and member2 which enables this with out sending \nthe message a second time to recipient1?\nRobin\nOn 15/02/2019 08:39, Marcus Bointon wrote:\n\nSurely if you don't want messages to be sent to those addresses, don't \nadd them to the To list?\nIs it that you want the message to be sent to a set of recipients \nwhich is different from the sum of to, cc & bcc? If so, that's not \nsomething you can control through message headers; it requires \nintervention at the SMTP level and provision of some \nalternative/separate source of the list of recipients.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub \nhttps://github.com/PHPMailer/PHPMailer/issues/1656#issuecomment-463953739, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AtTrMb1vLULyheDGLe93JhIZdHhpsQdnks5vNnJVgaJpZM4azU2k.\n. \n",
    "mobility2015": "Hello all, I fixed this crush, because of ECS forbidden port 25 with outgoing stream. thanks all. Hello all, I fixed this crush, because of ECS forbidden port 25 with outgoing stream. thanks all. ",
    "korangu": "@Synchro . i am using the latest version of phpmailer , grabed this copy from master branch. but i also tested with old versions none seem to work. :| . @Synchro $mail->validator = function ($addr){return true;};\ni tried like this but still have problem. am i lost?. hmm\n. ok i fixed with $mail::$validator = function ($addr){return true;};\n. addresses are validated before passed to phpmailer so its not a problem for me. \ud83d\ude44 i am not sending mail from github address just sending to address the one used to reply to issues comments.\n. ",
    "ErfanImmortal": "2019-02-28 12:00:46 Connection: opening to smtp.gmail.com:587, timeout=300, options=array()\n2019-02-28 12:00:47 Connection failed. Error #2: stream_socket_client(): unable to connect to smtp.gmail.com:587 (Network is unreachable) [/home/marvemhc/public_html/lab2/PHPmailer/src/SMTP.php line 327]\n2019-02-28 12:00:47 SMTP ERROR: Failed to connect to server: Network is unreachable (101)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n2019-02-28 12:00:47 Connection: opening to smtp.gmail.com:587, timeout=300, options=array()\n2019-02-28 12:00:48 Connection failed. Error #2: stream_socket_client(): unable to connect to smtp.gmail.com:587 (Network is unreachable) [/home/marvemhc/public_html/lab2/PHPmailer/src/SMTP.php line 327]\n2019-02-28 12:00:48 SMTP ERROR: Failed to connect to server: Network is unreachable (101)\nSMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\nMessage could not be sent.Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting\n\nPlease follow the link to the troubleshooting guide in the error message which gives details of how to diagnose this exact problem.\n\n. if i disable this line , email will be send\n\"//$mail->isSMTP();                                      // Set mailer to use SMTP\". So i solve my previous problem\nbut i have new problem\nif get this error\nInvalid address: (to):\nMessage could not be sent.Error: You must provide at least one recipient email address.\ni have form.html with this code\nphp\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\" />\n    <title>Send Email</title>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"main.css\"> \n<script  src=\"http://jqueryjs.googlecode.com/files/jquery-1.3.2.min.js\"></script>\n    <!--[if IE]><script>\n    $(document).ready(function() { \n$(\"#form_wrap\").addClass('hide');\n})\n</script><![endif]-->\n</head>\n<body>\n    <div id=\"wrap\">\n        <div id='form_wrap'>\n            <form action=\"submit.php\" method=\"post\">\n                <p>Send Email</p>\n                <label for=\"email\">Email </label>\n                <input type=\"text\" name=\"emailphp\" value=\"\" id=\"emailphp\" />    \n                <label for=\"subject\">Subject </label>\n                <input type=\"text\" name=\"subjectphp\" value=\"\" id=\"subjectphp\" />\n                <label for=\"message\">Your Message : </label>\n                <textarea  name=\"messagephp\" value=\"Your Message\" id=\"messagephp\" ></textarea>              \n                <input type=\"submit\" name =\"submit\" value=\"Now, Send!\" />\n            </form>\n        </div>\n    </div>\n</body>\n</html>\nand i have \"submit.php\" too\n```php\n<?php\n// Import PHPMailer classes into the global namespace\n// These must be at the top of your script, not inside a function\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire 'PHPmailer/src/Exception.php';\nrequire 'PHPmailer/src/PHPMailer.php';\nrequire 'PHPmailer/src/SMTP.php';\n$mail = new PHPMailer;                              // Passing true enables exceptions\nif (isset($_POST['submit'])) {\n    $emailinp = $_POST['email'];\n    $subjectinp = $_POST['subject'];\n    $messageinp = $_POST['message'];\n}\n//Server settings\n$mail->SMTPDebug = 4; \n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host = 'server119.web-hosting.com';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'admin@marviiii.com';                 // SMTP username\n$mail->Password = '*******';                           // SMTP password\n$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, `ssl` also accepted\n$mail->Port = 587;                                    // TCP port to connect to\n//Recipients\n$mail->setFrom('admin@marviiii.com', 'Mari');\n$mail->addAddress($emailinp); \n$mail->addReplyTo('marviiii@gmail.com');\n//Content\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = $subjectinp ;\n\n$mailContent = '\n\nEri\nEri\nEri';\n$mail->Body    = $mailContent ;\n\nif(!$mail->send()){\n    echo 'Message could not be sent.';\n    echo 'Error: '. $mail->ErrorInfo;\n}else{\n    echo 'Message has been sent';\n}   \n?>\n.php\n<?php\n// Import PHPMailer classes into the global namespace\n// These must be at the top of your script, not inside a function\nuse PHPMailer\\PHPMailer\\PHPMailer;\nuse PHPMailer\\PHPMailer\\Exception;\nrequire 'PHPmailer/src/Exception.php';\nrequire 'PHPmailer/src/PHPMailer.php';\nrequire 'PHPmailer/src/SMTP.php';\n$mail = new PHPMailer;                              // Passing true enables exceptions\nif (isset($_POST['submit'])) {\n    $emailinp = $_POST['email'];\n    $subjectinp = $_POST['subject'];\n    $messageinp = $_POST['message'];\n}\n//Server settings\n$mail->SMTPDebug = 4; \n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host = 'server.web-hosting.com';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'admin@marii.com';                 // SMTP username\n$mail->Password = '********';                           // SMTP password\n$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, `ssl` also accepted\n$mail->Port = 587;                                    // TCP port to connect to\n//Recipients\n$mail->setFrom('admin@marii.com', 'Mariii');\n$mail->addAddress($emailinp); \n$mail->addReplyTo('test@gmail.com');\n//Content\n$mail->isHTML(true);                                  // Set email format to HTML\n$mail->Subject = $subjectinp ;\n\n$mailContent = '\n\nEri\nEri\nEri';\n$mail->Body    = $mailContent ;\n\nif(!$mail->send()){\n    echo 'Message could not be sent.';\n    echo 'Error: '. $mail->ErrorInfo;\n}else{\n    echo 'Message has been sent';\n}   \n?>\n```. > \n\nYou're only using the submit check to set variables - you're still trying to send anyway, even if it's not a submission. You've also got no error checking on the addAddress call, in case someone submits an invalid address (it returns false if the address is bad).\n\nthanks\nsolved\nmy next problem is smtp with send grid\nhow can i send email with sendgrid smtp?. > \n\nYou're only using the submit check to set variables - you're still trying to send anyway, even if it's not a submission. You've also got no error checking on the addAddress call, in case someone submits an invalid address (it returns false if the address is bad).\n\nthanks\nsolved\nmy next problem is smtp with send grid\nhow can i send email with sendgrid smtp?. ",
    "teo1978": "\nYou know you can edit the wiki yourself?\n\nYes, thanks. I would have if I had known the alternative (I was tempted to edit it just to add \"broken link\" or something, hoping that somebody would be notified of the change, but it seemed rude). >  You know you can edit the wiki yourself?\nYes, thanks. I would have if I had known the alternative (I was tempted to edit it just to add \"broken link\" or something, hoping that somebody would be notified of the change, but it seemed rude). ",
    "stevenandres": "Fair enough -- consider it a suggestion for future (perhaps something\ninsane like level 2.5). My use case is that I want to have a process that\nis always logging the SMTP interaction to a permanent log file, so it\nwouldn't be just temporary debugging. Thanks for the quick reply anyway!\nOn Fri, Mar 1, 2019 at 2:43 PM Marcus Bointon notifications@github.com\nwrote:\n\nI think it depends on your perspective - what you say is true if you're\ndebugging the SMTP commands. But right now for example (looking at current\nopen issues, especially those DKIM ones) it's the message content that's\nthe most troublesome, and I'm quite happy to see all the actual SMTP\ntraffic at level 2, including the message. If that's too noisy, only send\nsmall messages while debugging! Level 4 (low level) is too noisy for\nconnections that actually work - it's really for debugging connection\nproblems, which occur before an SMTP conversation even starts.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1677#issuecomment-468836659,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AKqqisF7nusKh_A-PN1KYYti4P8xSRdkks5vSazpgaJpZM4bZ7oj\n.\n. Fair enough -- consider it a suggestion for future (perhaps something\ninsane like level 2.5). My use case is that I want to have a process that\nis always logging the SMTP interaction to a permanent log file, so it\nwouldn't be just temporary debugging. Thanks for the quick reply anyway!\n\nOn Fri, Mar 1, 2019 at 2:43 PM Marcus Bointon notifications@github.com\nwrote:\n\nI think it depends on your perspective - what you say is true if you're\ndebugging the SMTP commands. But right now for example (looking at current\nopen issues, especially those DKIM ones) it's the message content that's\nthe most troublesome, and I'm quite happy to see all the actual SMTP\ntraffic at level 2, including the message. If that's too noisy, only send\nsmall messages while debugging! Level 4 (low level) is too noisy for\nconnections that actually work - it's really for debugging connection\nproblems, which occur before an SMTP conversation even starts.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHPMailer/PHPMailer/issues/1677#issuecomment-468836659,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AKqqisF7nusKh_A-PN1KYYti4P8xSRdkks5vSazpgaJpZM4bZ7oj\n.\n. \n",
    "osworx": "Sorry, closed it therefore .. should sleep mpore.. Sorry, closed it therefore .. should sleep mpore.. ",
    "vboctor": "@Synchro thanks for your prompt response.  The code is in get_lines(), and removing it doesn't break the code and emails flow successfully.  The debug logs indicates a timeout, but unclear what the reasons can be.  Are there specific configs or gotchas that I should look for?  What is the reason for this code not being there in older versions of PHPMailer.. @Synchro thanks for your prompt response.  The code is in get_lines(), and removing it doesn't break the code and emails flow successfully.  The debug logs indicates a timeout, but unclear what the reasons can be.  Are there specific configs or gotchas that I should look for?  What is the reason for this code not being there in older versions of PHPMailer.. I assume you are referring to #604.  I have read this already.\nI added more debugging and noticed the following behavior:\n\nfeof() - returns false\nstream_select() returns 0 after TimeLimit.\nfeof() - returns false (added for debugging)\nfget() - returns a valid line from the AWS SES (added for debugging)\n\nUnfortunately, in the original code when stream_select() returns 0, an empty response for get_lines() is returned and everything fails afterwards.\nKind of looks like the PHP bug referenced here, but that should be fixed as per bug.\nOne of the notes in PHP documentation indicates that stream_select() shouldn't be called on blocking streams.\nSo as I see why it was added, it seems to have introduced regression at least for some environments with healthy servers.  The code was introduced to protect against unhealthy SMTP servers that never respond.. I assume you are referring to #604.  I have read this already.\nI added more debugging and noticed the following behavior:\n\nfeof() - returns false\nstream_select() returns 0 after TimeLimit.\nfeof() - returns false (added for debugging)\nfget() - returns a valid line from the AWS SES (added for debugging)\n\nUnfortunately, in the original code when stream_select() returns 0, an empty response for get_lines() is returned and everything fails afterwards.\nKind of looks like the PHP bug referenced here, but that should be fixed as per bug.\nOne of the notes in PHP documentation indicates that stream_select() shouldn't be called on blocking streams.\nSo as I see why it was added, it seems to have introduced regression at least for some environments with healthy servers.  The code was introduced to protect against unhealthy SMTP servers that never respond.. > do you have any sensible suggestions for fixing it?\nUnfortunately, there is no perfect solution here.  You can either:\n- Remove these lines since they attempt to fix an issue with mis-behaving SMTP servers and introduces an issue with behaving ones in some environments.  This will also be consistent with behavior in previous versions of PHPMailer (5.x).\n- Add a flag in SMTP class that enables/disables such functionality.\n\nwork around it by sending via a local mail server\n\nI suspect that with the same PHP environment and OS, it is likely that this won't work either since in my case EC2 -> AWS SES is as responsive as localhost, so not much benefit and likely to hit same bug.  Also I think the benefit of using PHPMailer over mail() function is to be able to send to other servers.  Also this enables the ability for the app to make the SMTP server configurable and less environment dependencies and settings.. ",
    "oitsuki": "what do you recommend on this line :  $this->phpMail->isSendmail();\nbecause it's not on computer, but on  a server. And linux use sendmail, not stmp.. ",
    "kmvan": "\nThanks\n\nMy honor. All the same.\nBut I think \"This is {$string}\" is more conducive to reading than \"This is\", $string, is it?. Let me do a performance benchmark, just wait a second.. - OS: Arch x64\n- PHP: 7.3.3 nts\n```php\n<?php\n// echoWithComma.php\n// The result: 112bytes and 0.16124796867371s\ndeclare(strict_types = 1);\n$count         = 100000;\n$isItRight     = 'is it right?';\n$startMemUsage = \\memory_get_usage();\n$startTime     = \\microtime(true);\nwhile ($count > 0) {\n    echo 'Synchro said comma is good, ', $isItRight, '';\n    --$count;\n}\n$endMenUsage = \\memory_get_usage() - $startMemUsage;\n$endTime     = \\microtime(true)    - $startTime;\necho \"${endMenUsage}bytes\";\necho \"${endTime}s\";\nAnd next:php\n<?php\n// echoWithoutComma.php\n// The result: 112bytes and 0.10986399650574s\ndeclare(strict_types = 1);\n$count         = 100000;\n$isItRight     = 'is it right?';\n$startMemUsage = \\memory_get_usage();\n$startTime     = \\microtime(true);\nwhile ($count > 0) {\n    echo \"Synchro said comma is good, {$isItRight}\";\n    --$count;\n}\n$endMenUsage = \\memory_get_usage() - $startMemUsage;\n$endTime     = \\microtime(true)    - $startTime;\necho \"${endMenUsage}bytes\";\necho \"${endTime}s\";\n```\nJust easy to get the results. The withoutComma scheme is 68.133569% faster than withComma scheme (multi benchmark).. ",
    "NanoCaiordo": "Should probably be replaced by:\n$this->smtp->Quit();\n. ",
    "sebastianlp": "This won't work. You have to require the file PHPMailerAutoload.php\nCheers\n. ",
    "svenluijten": "UFT-8 should be UTF-8 here, right? :smiley: \n. ",
    "torunar": "Is it me, or this condition will result in always passing the Sender (even when empty) when the safe_mode is enabled?. Why don't put this check into the setFrom() method?. ",
    "PatrickTrempond": "No, it's not French, it's Malgache, language spoken in Madagascar and other islands in the same region... ",
    "octavebenil": "Yes, It's not a french, it's a language of my country. . ",
    "RAZERZ": "Correct, I do agree on the line break, however it would be even better if we added a bold for the preprogrammed messages and then let the error message come after, like this:\necho 'Message could not be sent. ';\n:). I added <br> tags but they didn't show up haha. ",
    "maxbeckers": "You can't use static in this (precompiled) context, because of that it's here and in method headers self.. Yes you're right, I'll change. "
}