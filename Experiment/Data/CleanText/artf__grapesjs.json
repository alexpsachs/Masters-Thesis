{
    "washaqq": "here is another attempt:\n0 info it worked if it ends with ok\n1 verbose cli [ 'C:\\Program Files\\nodejs\\node.exe',\n1 verbose cli   'C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js',\n1 verbose cli   'run',\n1 verbose cli   'build' ]\n2 info using npm@3.3.12\n3 info using node@v5.5.0\n4 verbose run-script [ 'prebuild', 'build', 'postbuild' ]\n5 info lifecycle grapesjs@0.1.0~prebuild: grapesjs@0.1.0\n6 silly lifecycle grapesjs@0.1.0~prebuild: no script for prebuild, continuing\n7 info lifecycle grapesjs@0.1.0~build: grapesjs@0.1.0\n8 verbose lifecycle grapesjs@0.1.0~build: unsafe-perm in lifecycle true\n9 verbose lifecycle grapesjs@0.1.0~build: PATH: C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\node-gyp-bin;C:\\Users[UserName]\\Desktop\\GrapesJs\\node_modules.bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\system32\\wbem;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\Microsoft\\Web Platform Installer;C:\\Program Files\\Microsoft SQL Server\\120\\Tools\\Binn;C:\\Program Files (x86)\\Windows Kits\\8.1\\Windows Performance Toolkit;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn;C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\1.0;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files\\Git\\cmd;C:\\Program Files\\nodejs\\;C:\\Users[UserName]\\AppData\\Roaming\\npm\n10 verbose lifecycle grapesjs@0.1.0~build: CWD: C:\\Users[UserName]\\Desktop\\GrapesJs\n11 silly lifecycle grapesjs@0.1.0~build: Args: [ '/d /s /c', 'grunt build' ]\n12 silly lifecycle grapesjs@0.1.0~build: Returned: code: 6  signal: null\n13 info lifecycle grapesjs@0.1.0~build: Failed to exec build script\n14 verbose stack Error: grapesjs@0.1.0 build: grunt build\n14 verbose stack Exit status 6\n14 verbose stack     at EventEmitter. (C:\\Program Files\\nodejs\\node_modules\\npm\\lib\\utils\\lifecycle.js:232:16)\n14 verbose stack     at emitTwo (events.js:100:13)\n14 verbose stack     at EventEmitter.emit (events.js:185:7)\n14 verbose stack     at ChildProcess. (C:\\Program Files\\nodejs\\node_modules\\npm\\lib\\utils\\spawn.js:24:14)\n14 verbose stack     at emitTwo (events.js:100:13)\n14 verbose stack     at ChildProcess.emit (events.js:185:7)\n14 verbose stack     at maybeClose (internal/child_process.js:821:16)\n14 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:211:5)\n15 verbose pkgid grapesjs@0.1.0\n16 verbose cwd C:\\Users[UserName]\\Desktop\\GrapesJs\n17 error Windows_NT 6.1.7601\n18 error argv \"C:\\Program Files\\nodejs\\node.exe\" \"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"run\" \"build\"\n19 error node v5.5.0\n20 error npm  v3.3.12\n21 error code ELIFECYCLE\n22 error grapesjs@0.1.0 build: grunt build\n22 error Exit status 6\n23 error Failed at the grapesjs@0.1.0 build script 'grunt build'.\n23 error Make sure you have the latest version of node.js and npm installed.\n23 error If you do, this is most likely a problem with the grapesjs package,\n23 error not with npm itself.\n23 error Tell the author that this fails on your system:\n23 error     grunt build\n23 error You can get their info via:\n23 error     npm owner ls grapesjs\n23 error There is likely additional logging output above.\n24 verbose exit [ 1, true ]\n. hi,\nbefore i try to run it i read installation part and did all of you\nmentioned before, it was the errors i get.\nregards.\n2016-02-08 21:27 GMT+02:00 Artur Arseniev notifications@github.com:\n\nSeems like you are stuck at npm run build which requires Grunt.\nI suggest to try to install Grunt globally first, so run npm install -g\ngrunt-cli and then retry npm run build\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/artf/grapesjs/issues/1#issuecomment-181466532.\n. \n",
    "artf": "Seems like you are stuck at npm run build which requires Grunt.\nI suggest to try to install Grunt globally first, so run npm install -g grunt-cli and then retry npm run build\n. Thanks @MK2018 I'll propagate it from dev branch, next time push directly there. \n. Thanks @timotius02 for the help, but anyway I'm not totaly sure if it will help 'cause I'm able to run npm run test even without run dev command :/\nMaybe there is some conflict with some dependency. I have updated my node, npm and all dependencies and still can't reproduce it. \nTry, at first, to check if after npm run dev you're able to see localhost:8000/test without errors. Then, can you show me the output with npm ls phantomjs?\n. @brandonshowers oh well sure, without npm run build you can't even run the application.\n@timotius02 let me know if you've solved\n. @timotius02 great, glad you've solved. Anyway I think it would be better integrate node-sass, in this way to avoid Ruby dependency\n. Hi @DavidKohav I think this part describes what you're looking for: https://github.com/artf/grapesjs#usage\nSo it's something like this:\n``` html\n\n\n\n\n\n  var gjs  = new GrapesJS({\n      container : '#gjs',\n  });\n  gjs.render();\n\n```\n. Hi @pingram3541 thanks for all your suggestions. I apologize for the lack of documentation, hope to find some free time to write it. \nAnyway at the moment you're able to add new styling elements via configuration and I suggest you to look at the demo code for better understanding, so you'll see something like this:\njs\nvar gjs  = new GrapesJS({\n...\nstyleManager : {\n  sectors: [{\n    name: 'SECTOR-NAME',\n    properties:[{\n              name: 'PROPERTY-NAME',\n              property: 'CSS-PROPERTY',\n              type: 'TYPE',   // Options: integer | radio | select | color | file | composite | stack\n              ....\n    }]\n  }]\n}\n...\n });\nAbout breakpoints, I've already thought how to implement their management but before I need something to manage components classes. In effect, if you look at the generated CSS you'll see there is no classes but only ids and it's no good at all. So with a 'ClassManager' will be easy to add 'BreakpointManager'\nWhat about editable code viewer, it's possible but it's hard. Each component of the canvas has a lot of meta-informations (eg. removable, movable, stylable) that you lose after code generation so I see it as an unidirectional operation.\n. @pingram3541 glad you get some much stuff even without docs :D\nAnyway I have tried this solution and it worked\njs\n...\n{\n  name:     'Position Y',\n  property:   'background-position',\n  type:     'select',\n  defaults:   'top',\n  list:   [ { value : 'top',    name : 'Top', },\n              { value : 'center',   name : 'Center', },\n              { value : 'bottom',   name : 'Bottom', }],\n},{\n  name:     'slash',\n  property:   'slash',\n  type:     'select',\n  defaults:   '/',\n  list:   [{ value : '/', name : '/', }],\n},{\n  name:     'Size',\n  property:   'background-size',\n  type:     'select',\n  defaults:   'auto',\n  list:   [{ value : 'cover', name : 'Cover', },\n           { value : 'contain', name : 'Contain', }],\n},{\n  name:     'Attach',\n  property:   'background-attachment',\n  type:     'select',\n  defaults:   'scroll',\n  list:   [{ value : 'scroll', name : 'Scroll', },\n           { value : 'fixed', name : 'Fixed', },\n           { value : 'local', name : 'Local', }],\n}\n...\nYou can eventually hide 'slash' property with CSS\nOf course this is only the workaround. Unfortunately there is a lot of issue in compatibility with background shorthand (I've also tried to add background color inside stack but it works only for the first layer). \nThe final solution will be to add some kind of property to 'stack' types for decide to render style from this:\ncss\nbackground: layer1, layer2, layer3 ...\nto:\ncss\nbackground-prop1: layer1, layer2, layer3 ...\nbackground-prop2: layer1, layer2, layer3 ...\nbackground-prop3: layer1, layer2, layer3 ...\n. Hi @nikadotme , I'm not sure why did you reply here, it might be better open a new issue.\nUnfortunately, I see that you didn't get the true value of GrapesJS but I don't blame you, it's my fault for not providing a good documentation.\n\nI mean you can't just download something from themeforest and parse simple HTML document. you have to build it first on Javascript, maybe I didn't read everything fully into codes, but everything that I see inside demo.js, it builds entire HTML document from JavaScript\n\nYeah, you're right, the whole template is made up by a single JSON object, but there is a reason of this choice. At first, I've not yet implemented the HTML/CSS parser and then, it simply faster to load.\n\nhow people will make templates? who will use it?\n\nWhen you build templates inside GrapesJS you're able not only to export them but also to store the structure, for example, inside some DB. It's not yet documented but basically I'll show how to store HTML/CSS (front-end) and JSON (back-end), so let's see the JSON part as some kind of GrapesJS's file/extension to save your template projects.\n\nSee the Ckeditor...\n\nOk, I agree with you about the HTML parser, but let's be honest, it's not fair comparing CKEditor vs GrapesJS. I would like to see you building something similar to GrapesJS's demo inside CKEditor, without coding...\n\nsorry, but I was looking drag n drop builder for landing pages, to save time I tried to use opensource, but i decided to not use it. because I have to waste same time writing new editor myself, instead of making JSON based templates.\n\nI'm not sure what you're looking for. The demo here it's not GrapesJS, but it's what you're able to achieve with it. The demo shows you some kind of 'website builder' but it's not the main purpose, you could also make some newsletter or webapp builder.\nSo if you're looking a tool for building website pages you should check some other well-known SAAS solution, otherwise I suggest you to try Silex which is completely free HTML builder and you're able to make stuff in few minutes.\nFor any other question open another issue, please\n. Hi @pingram3541 I've added 'detached' property for the 'stack' type. So it's now possible to change the output from this:\ncss-prop: layer1, layer2, layer3 ...\nto:\ncss-prop1: layer1-1, layer2-1, layer3-1 ...\ncss-prop2: layer1-2, layer2-2, layer3-2 ...\ncss-prop3: layer1-3, layer2-3, layer3-3 ...\nFor example with a background property:\njs\n...\n{\n  name    : 'Background',\n   property  : 'background',\n   type    : 'stack',\n   preview   : true,\n   detached: true, // <- default is false\n   properties  : [{\n        name: 'Image',\n        property:   'background-image',\n        type:     'file',\n        defaults:   'none',\n      },{\n         name:     'Repeat',\n         property:   'background-repeat',\n         ....\n      }, {\n          name: 'Position',\n          ....\n      },\n      ...\n}\n...\n. Just click the button below and you'll get HTML and CSS\n\n. Hi @2braincells2go ,\ndo you mean something like 'Export to ZIP'?\n. @2braincells2go Indeed, I think I'll gonna create a plugin for this purpose :)\n. @2braincells2go \nHey Woody, I updated the demo with this new plugin:\nhttps://github.com/artf/grapesjs-plugin-export\nYou should see now the export button inside 'Export template' dialog\nUnfortunately doesn't export images at the moment but maybe soon :)\nThanks for the advice\n. @cubemoon \nTry to install bower globally first npm install -g bower, retry and let me know\n. At first make sure to have npm and node updated. \nTry to run this node ./node_modules/bower/bin/bower install --config.interactive=false inside grapesjs folder and in case of errors post the full stack trace\n. @cubemoon you're welcome\n. Thanks @2braincells2go  for your kind words, I really appreciate this and glad you find it useful.\nAnyway, you can use CTRL/CMD + Z to undo and CTRL/CMD + SHIFT + Z to redo\n. Mmm sounds like a bug, I've tried quickly with firefox on my old win7 and it works.\nCan you tell me which is your OS and browser and eventually could you try with an other browser.\nThanks.\n. @2braincells2go Can you post the log in case of error?\nCheck also this #9 \n. Sorry @2braincells2go forgot to update this issue. \nYou should see now the buttons you've requested\n\n. Hi @lexoyo and @budislav thanks for your advice. Silex is awesome, I've never heard about it, love how easily you can design stuff, unfortunately absolute approach doesn't fit very well with dynamic contents :(\nDecouple modules, like Style Manager, from GrapesJS would be definitely a goal but not now as the project is pretty far from being complete. I do my best, at the expense of my spare time, to bring it forward and will take care about it, so we could merge best of our projects :)\nAnyway if you already want to check my code and there is something not clear don't hesitate to ask me\n. @budislav wow that's cool!!! \nI would definitely try to add it to the demo, maybe not so sophisticated but something similar.\nAnyway I'm totaly agree with you about older browsers.\n@lexoyo will keep eye on it ;)\n. Not perfect but seems to work http://grapesjs.com/demo.html\n. @lexoyo 'in the flow as well as positioned in absolute' this is hot :)\nAnyway why not pick one of already well-known crowdfunding platform? I think you'll get more visibility there\n. @lexoyo \n\nIf absolutely positioned it just moves the element, otherwise it make it absolute while dragging and put it back in the flow on drop\n\nYeah, I was already thinking about something similar :)\n\nthe only thing I'm realizing now is that I'll need to handle click on the body and not use event.target to know where it clicks because I'll probably want to display a bootstrap-style grid on top of the stage in some cases... What do you think?\n\nWhat do you mean with 'display a bootstrap-style grid on top'? Something like a grid for snapping?\nAnyway how could you catch clicked element without event.target? I use Event Delegation to speed up performances with many nested components inside and without e.target it seems impossible for me\n. @lexoyo \nDidn't know about elementsFromPoint method, pretty nice, although it's an experimental feature.\nI would suggest you to simply use 'pointer-events: none;' to detach events so you should be able to interact with elements below that layer.\n. @lexoyo absolutely not, I'd like to have more time to get in touch with other stuff\n. thanks @Immortalin hope so :)\nAnyway soon I'll release a version with some new feature, especially an improvement to reduce configurations.\n. @Immortalin nice tool, thanks.\nAnyway, I pushed some new updates to the main demo, hope to document it soon :)\n. thanks @WebCrew It means a lot for me and I really appreciate it.\nUnfortunately I have less time for GrapesJS in this period but hope to back to work soon\n. Thanks again @WebCrew I'm very glad you like it :)\n. @Immortalin niiiiice :)\nI also like the name \ud83d\ude02\n. thanks @Immortalin I had never heard about contentbuilder.js, seems clean and easy to use\n. Different targets but really impressive work, thanks @Immortalin . Thanks @Immortalin I hope it will bring more improvements on GrapesJS itself :). thanks @walkskyer \nYou're right! The remoteStorage part is wrong and your fix is right for the remote configuration, but actually I would like to keep local as default storage in demo. So if you would restore storageType back to local and remove storageManager part (you don't need it with local) I'll merge it :)\n.  thanks @walkskyer\n. @walkskyer nice, thanks\n. Hi @Immortalin, nice question.\nAnyway, GrapesJS is pure javascript so, from some point of view, it doesn't make sense discuss about security here. For example, it's not a problem for me, or someone else, integrate some kind of escaping function, but if your concerns are about malicous code injection it's totaly useless since anyone could disable javascript.\nSo all your security policy should be plugged at server-side logic and not client-side\n. Hi @fgiannar , at first, you should update your grapesjs because from the 0.3.10 I've refactored a lot of stuff and moved store/load methods on the top level of each module.\nThen let me know if you still have problems.\nThanks\n. Hi Woody,\nthat trick with transparent color was there to solve annoying outline in Firefox but seems like it's causing problems on Windows (on Mac in Chrome it's ok).\nI'll let you know you when I done with it\n. Don't you just love all the browser quirks:)\nSure, the world would be too much boring without :)\nAnyway, hope to solved your issue with this 05aee801a26387ff514eded93633cbfa535e9d7c\nTry the demo and let me know, unfortunately couldn't test it on my own\n. Ok, thanks Woody.\nSeems like <option> tags inherits the color but not the background...\nDoes background value is actually 0 0?? \nIf so, seems not to be correct, try to change it and see if it fixes.\nOtherwise, try to add this rule:\n``` css\ngjs-clm-states > option {\nbackground-color: #444;\n}\n```\nAnd let me know \nThanks\n. Thanks Woody, very exhaustive elucidation.\nI'll ping you back as soon as possible, lately I have less time to work on it\n. Demo updated, let me know Woody :)\n. thanks @WebCrew I forced <option> bg color now, does it change?\n. My deepest condolences @2braincells2go \nI had bad period too, but not so bad.\n. Hi @pierreozoux thank you, I really appreciate your initiative.\nI've already seen some of those amazing projects and they're pretty much further than me.\nAnyway, another big goal for me is to show how to integrate GrapesJS with some other software so if anybody here is adventurous enough to play with an alpha-stage, undocumented project I'm here to help :)\n. thanks for the reply @joshmarom \n. Thank you @andrew-worsfold hope to see you here in the future. Anyway, I'm surprised that didn't hear about Tailor, truly simple and well done.\n. Thanks for the interest @etewiah excited to see your results :). Of course you can @pavan168 The library is under BSD 3-clause license. sure @pavan168 no problem, there is no other licenses for the commercial use. Anyway, would be cool to see your final work :). @subek not at the moment, it's possible to add one via plugins but at the moment I have no time to make one.. Thanks @LukeTowers I'd say that the goal point is to make GrapesJS as much extendable/modular as possible.\nYou can already find examples on how to replace/modify built-in features:\n plugin-ckeditor - Replace the default RTE with CKEditor - How-to guide\nplugin-filestack - Enable Filestack uploader inside the Asset Manager\nYou can import previously saved HTML as well. In GrapesJS, you can store templates as HTML (this is actually what the final user will see, so clean HTML without additional info) and, of course, reimport them later, in addition, there is also a JSON structure which stores additional informations (eg. edited name inside Layers panel)\n. thanks @remcovo \nIt's definitely possible, but not yet available. thanks @fgiannar you're right, it's not working properly (seems to work only with numeric inputs like width, height, etc.)\n. thanks @francoisandre anyway it's my fault with bower, I'm not updating the master branch which is trying to download :)\n. @magixsource done :)\n. Hi @fgiannar \nsorry but I can't reproduce the bug\nAnyway, the return of rule.get('selectors').add(selectors) should be the \"same\" selectors array\n``` js\nvar sm = editor.SelectorManager;\nvar sel1 = sm.add('myClass1');\nvar sel2 = sm.add('myClass2');\nvar selectors = [sel1, sel2]; \nvar cssComposer = editor.CssComposer;\nvar rule = cssComposer.add(selectors, 'hover');\n//...\n// And inside the add()... when you are at 173 line:\nvar addedSelectors = rule.get('selectors').add(selectors); \n/\n'addedSelectors' and 'selectors' are 2 different arrays but contain\nthe same instances of sel1 and sel2\n/\n```\nDo you have some use case inside the editor where I can catch some strange behaviour?\n. Hi @fgiannar I think I get it, target.get('selectors') returns a Backbone Collection but cssComposer.add accepts Array as the first argument, so you should fix with this:\ncssComposer.add(target.get('selectors').models, '', '480px');\n. Hi @tania-pets indeed this behaviour is not yet implemented, so thanks for the tip\n. Hi @leejunkit\nthanks to you for giving GrapesJS a try. To be honest I've never encountered this type of error so I'll gonna check and at least try to reproduce it. I'll let you know as I know more about it.\nAnyway does it happen also with HTML/CSS export? I'm not trying to convince to use it because I would prefer JSON format too in this case but I need to know if it somehow related to JSON API\n. @leejunkit updated also the demo\nThanks for reporting the bug\n. Hi @jujusharp, \nGrapesJS, on its own, rarely outputs texts, but when it does, often, there is a way to override it. For example, in Style Manager the message you see before selecting an element\n\ncould be overridden with this configuration\njs\nvar editor = grapesjs.init({\n  ...\n  styleManager: {\n    textNoElement: 'Some text',\n  }\n});\nWhen instead you add, for example, buttons/blocks you specify all the texts\njs\neditor.BlockManager.add('blockID', {\n  label: 'My label text',\n  attributes: { \n    title: 'My tooltip text' \n  },\n  content: '<div>Hello</div>',\n})\nSo this is the reason behind the lack of the i18n module. \nAnyway, don't hesitate to let me know about some missed text to override.. @jujusharp text in templates are part of the demo and not the core library itself. @jujusharp I saw now your updated reply with the example and this is actually a missed part. So I need to fix it. @jujusharp fixed for the next release, you can change that text with:\njs\nassetManager: {\n    addBtnText: 'Add image',\n }. @Covicake this is how I change them in the demo https://github.com/artf/grapesjs/blob/6cb1199048a753a77466efd4ae8ff3752d413623/demo.html#L1032-L1049. Hi @piyalmaduranga,\nI think I don't get what you're trying to achieve. Do you want to import bootstrap inside the GrapesJS's canvas? If so, you should be able to do it with the simple <link> tag inside your template (tried now and it's worked for me). Hi @desilvaNSP \nfor import you can use this API:\njs\nvar editor = grapesjs.init({...});\neditor.setComponents('<div class=\"cls\">Your template</div><style>...</style>');\n// Or add CSS separately\n// editor.setStyle('.cls{color: red}');\nBut GrapesJS is class-based so only CSS rules like these are parsed by the editor:\ncss\n.class1 {...}\n.class1.class2 {...}\n.class1.class2, .class3 {...}\nFor example templates made with BEM methodology are perfect for GrapesJS . Hi @bariscimen thanks for the report, but I can't replicate the issue, can you post your template here? Or at least, a part of it?. @bariscimen Did you solve the problem?. @Alcuin-van-Zijl tried in the demo but it works as expected. js\nvar html = editor.getHtml();\nvar css = editor.getCss(); . Sorry @piyalmaduranga but I can't see what you posted.. @piyalmaduranga  Indeed is not yet documented, sorry about that.\nAnyway, the target (a Backbone Collection) could accept an object or an array of objects like this:\njs\ntarget.add([\n  {\n    src: 'http://img.jpg',\n    height: 300,\n    width: 200,\n  },{\n    src: 'http://img2.jpg',\n  },\n  ...\n]). Hi @piyalmaduranga \nyou can override this event easily in this way:\njs\nvar editor = grapesjs.init({...});\n...\nwindow.onbeforeunload = function(e) {\n  console.log('Do something');\n  //...\n  editor.store();\n  //...\n  return 1; // Return something if you want the alert message\n};. Hi @3ch3r46 \ncan you post here your html code? \nFrom the error seems like you're trying to load it via node :/ bit strange. ah ok, not sure about this technique, but anyway could you replace mod() with b() inside the grapes.min.js and let me know if it solves the problem. Thanks. @3ch3r46 solved?. Hi @piyalmaduranga \nthose in the image are what I call Blocks, and a Block contains Components.\n```js\nvar blockManager = editor.BlockManager;\n// Add new block\nblockManager.add('my-block-id', {\n  label: 'Simple block',\n  content: 'This string will be parsed and turned into a Component',\n});\n// Edit\nblockManager.get('my-block-id').set({\n  label: 'Updated simple block',\n  attributes: {title: 'My title'}\n});\n// Add a block as a Component\nblockManager.add('my-map-block', {\n  label: 'Simple map block',\n  attributes: {\n    class:'fa fa-map-o'\n  },\n  content: {\n    // Built-in 'map' component\n    type: 'map',\n    style: { height: '350px'},\n    // Once inserted it can't be removed (just an example)\n    removable: false\n  }\n});\n```\n\nhow can I add modal pop up after drop component to our template?\n\nIf you want to add custom behavior to your Components (eg. pop up a modal when inserted into the canvas, do something when is double clicked, etc.) you need to define a new Component type but I've not yet added those API to GrapesJS but are coming soon. \n. @piyalmaduranga I'm still in progress to make templates work properly with javascript so for this reason I simply throw away all script tags, I can eventually add a new config property to let it import but not sure about the consequence. @piyalmaduranga can you show me maybe some screenshot about your problem, I don't get it. You were able to import correctly the <script> with Block but not with the already saved template?!?. @sebastianha @andrepeitz working on it. I'll ping you back when it's ready.\nIn the meantime, can you explain me your cases?. @sebastianha For the asset manager you don't need another component. You can pass custom names for image assets in this way:\njs\nvar editor = grapesjs.init({\n  ...\n  assetManager: {\n    assets: [\n      {src: '.../cc4360/fff/image.jpg',} // Here you'll get image.jpg as asset label\n      {src: '.../cc4360/fff/image2.jpg', name: 'Custom name'}\n    ]\n  }\n  ...\n});\n\nAlso I wanted to remove the ability to add images via URL, so only upload and the list should be available.\n\nJust hide it with CSS :). @sebastianha @andrepeitz @piyalmaduranga\nYou can check now the new Component doc. Feedbacks are welcome :)\nFor any bugs open a new issue\n. @Gerald-AuZ \neg. HTML string\ncontent: '<div>...</div>'\nor GrapesJS's Component object\ncontent: {\n     tagName: 'section'\n     attributes: {...}\n     components: [{..}, {...}, ...]\n}\n. @vikrantkumar26021990 :) \ud83d\udc4d . So basically you drop the Block inside the canvas but you don't want to see it in the code, right?\nAbout the drop event, in the next release, there will be the possibility to catch when a new component is added to the canvas but anyway, I don't think this gonna help you in this particular case.. @piyalmaduranga \nHow do you insert that <img>? getHtml() returns simply a string, if you want you can manipulate before saving it. Anyway, can you explain me your case, because I really don't get the sense of what you're asking. \nIf you don't want the <img> why do you drop it???. #35 . Hi @igor-bel I can't reproduce it. Can you give more details? Are you talking about the online demo or your own instance (which version then)? How did you drop boxes? via Blocks panel?. @igor-bel great \ud83d\udc4d. @igor-bel same questions of #38 . Thanks @igor-bel bug confirmed. Hi @asimakos, great questions.\nUnfortunately, GrapesJS is not able to fetch style from an external CSS file, so you'll see it applied but won't be readable by the Style Manager. So you have to make style available at the beginning, eg.\n```html\n\nHello world!\n.txt-red{color: red}\n\n\n  var editor = grapesjs.init({\n      container : '#gjs',\n      fromElement: true,\n  });\n\n```\nBy the way, If the style is not immediately available, you could add it asynchronously.\nTo get the idea of how CSS Rules should be, in the way to be accepted by the editor, refer please to #28 \nAbout the PHP code is not a problem, for the editor, it's just a text node. You could also create specific Blocks for those:\njs\neditor.BlockManager.add('module-one', {\n  label: 'Module 1',\n  content: '<div class=\"simple_pad\"><?php $eDoc->component(); ?></div>',\n});\n. @asimakos all you'll need to do is to save your templates in DB\nID | template_name | html | css\n---|---|---|---\n1| My Template|<div ...><?php ... ?>...|.cls{...}\n2|...|...|...\nThen, all the back-end part is up to you. You'll fetch data from DB and paste them somewhere in page following the CMS-specific rules.\nOf course, if you use server-side code inside your templates, like <?php ... ?>, you should eval it before rendering (commonly, this is handled by the CMS), otherwise, you can define your own variables, eg. <div> {{SOME_VAR}} </div>, and replace them later, before rendering.. If you mean grouping blocks inside the UI, there is still no category yet (maybe soon), but you can actually create groups manually and move blocks via js, all the events will be still attached, so you should be able to drag them inside the canvas.. Hi @sebastianha thanks for the hint\nI think I forgot to mention one important step in docs.\n```html\n\n ...\n \n ...\n\n\n var editor = grapesjs.init({\n      container : '#gjs',\n      fromElement: true,\n  });\n\n  editor.DomComponents.addType('cutom-element-type', {...});\n\n```\nIn the example above the editor will not get the new type from the HTML because the content is already parsed and appended, so it'll get it only with new components (eg. from Blocks)\nSolution 1: turn off autorender\n```html\n\n var editor = grapesjs.init({\n      autorender: 0,\n      container : '#gjs',\n      fromElement: true,\n  });</p>\n<p>editor.DomComponents.addType('cutom-element-type', {...});</p>\n<p>// after all new types\n  editor.render();\n\n```\nSolution 2: put all the stuff inside a plugin (Creating plugins)\nCould you try and let me know? If it's not working please post some reproducible example.. Thanks @sebastianha your code is ok, seems like there is a bug with extending the attributes property. \nActually try with this, putting your props inside 'attributes' not only will avoid the bug but you have also less to write\n```js\ncomps.addType(\"test-type\", {\n  model: defaultModel.extend({\n    defaults: Object.assign({}, defaultModel.prototype.defaults, {\n      droppable : false,\n      resizable : true,\n      attributes: {\n        testmarker: \"test\",\n        testvalue : \"1\",\n      }\n    }),\n},{\n    isComponent: function(el) {\n      var result = \"\";\n      if(el.tagName == \"DIV\" && el.getAttribute(\"testmarker\") === \"test\") {\n        result = {type: \"test-type\"};\n      }\n      return result;\n    }\n  }),\nview: defaultView.extend({\n    tagName: \"div\",\n    events: {\n      \"dblclick\": \"openModal\",\n      \"click\": \"initResize\"\n    },\ninit: function(o) {\n  this.listenTo(this.model, \"dblclick active\", this.openModal);\n},\n\nopenModal: function(e) {\n  var testvalue = parseInt(prompt(\"Please enter the test value\"));\n  var attr = this.model.get(\"attributes\");\n  if(testvalue > 0) {\n    attr.testvalue = testvalue;\n  } else {\n    attr.testvalue = 1;\n  }\n  // Have to pass a new object otherwise the model will not see changes\n  this.model.set(\"attributes\", Object.assign({}, attr));\n  this.render();\n},\n\nrender: function() {\n  defaultType.view.prototype.render.apply(this, arguments);\n  var sm = this.config.em.get(\"StyleManager\");\n  var style = sm.getModelToStyle(this.model).get(\"style\");\n  if(!style.width) {\n    sm.getModelToStyle(this.model).set(\"style\", {\n      \"width\"           : \"320px\",\n      \"height\"          : \"180px\",\n      \"background-color\": \"black\",\n      \"color\"           : \"white\"\n    });\n  }\n  this.$el.empty();\n  var value = document.createElement(\"div\");\n  value.style.textAlign = \"center\";\n  value.innerHTML = \"Test: \" + this.model.get(\"attributes\").testvalue;\n  this.el.appendChild(value);\n  this.$el.attr(\"onmousedown\", \"return false\");\n  return this;\n},\n\n}),\n})\n``` . Yeah, it's possibly something wrong with the AssetManager. Maybe catching the 'add:component' event might help you\njs\n// Triggered when a new component is added to the canvas  \neditor.on('add:component', function(model) {\n   // Few hints:\n   // You can reach the view from the added model\n   var view = model.view;\n   // You can get the parent model from the collection which model belongs to\n   var parentModel = model.collection.parent;\n  });. There is no '#gjs' element in your code?!?. Not sure about what you're asking but you can listen when the Asset Manager is shown\njs\neditor.on('run:open-assets', function() {\n console.log('Asset Manager is opened');\n}). @eckyerdhyka \njs\neditor.runCommand('open-assets');. What do you mean with preload templates?\nYou can load templates in this way\n```html\n\nHello world!\n.txt-red{color: red}\n\n\n  var editor = grapesjs.init({\n      container : '#gjs',\n      fromElement: true,\n  });\n\n```\nAbout drag and drop buttons, have you checked docs about Blocks? Seems like exactly what you're asking\n. @piyalmaduranga \nWhen you're extending the view, with new components, you decide how to render it and what logic to use, I've done something similar with the video component so you can check the source if you want, here quick example for your case\n```js\neditor.DomComponents.addType('advert', {\n  model: {...},\nview: defaultType.view.extend({\n    // By default the view will get the tagName from the model\n    tagName: 'div',\n// The render() should return 'this'\nrender: function () {\n  // Extend the original render method\n  defaultType.view.prototype.render.apply(this, arguments);\n\n  // Here you apply all your custom logic\n  var imgPreview = document.createElement('img');\n  imgPreview.src = this.model.get('src') + '.png'; // just an example\n  this.el.appendChild(imgPreview);\n\n  return this;\n},\n\n}),\n});\n. I think this what happenshtml\n Here you load all the stuff for GrapesJS \n\n\n\nHello world!\n.txt-red{color: red}\n\n  Before the editor's work this script will be loaded by the main document\n  and will overwrite the one you've loaded before (so you'll break deps for GrapesJS)\n  \n\n\n\n  var editor = grapesjs.init({...});\n\n```\nHonestly I've not played too much with scripts inside templates but I'm working on it in this days.\nFor now I'd suggest to add scripts after \njs\nvar editor = grapesjs.init({...});\nvar dc = editor.DomComponents.getComponents();\ndc.add(`<script>\nvar execScripts = function(e){\n // ...\n};\nvar script = document.createElement('script');\nscript.onload = execScripts;\nscript.src = 'https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js';\ndocument.body.appendChild(script);\n</script>`);\n. Hi @witzig \nthanks for your work on the integration, anyway, you can check #26 about i18n and why I have no plans about it. @rgcarrasqueira those messages are just here for debugging purpose, maybe, in this case, just a simple 'logger' module is a correct solution. @ehausen you're able to deselect classes by clicking on \"checkboxes\"\n\n. GrapesJS is just a front-end library, so it really doesn't make sense recommend backends, just pick one of your favorites and add the logic to store/fetch html/css data. @desilvaNSP if the built-in button interface (illustrated also by @sirsmac) doesn't fit your needs just use your UI components.\nQuick example\njs\nvar selectEl = $('<select> <option>Desktop</option> <option>Tablet</option> </select>');\nselectEl.appendTo('#gjs-pn-options .gjs-pn-buttons');\nselectEl.on('change', function() {\n  // Use GrapesJS's API if you need to\n  editor.setDevice(this.value);\n});. Sure, you can update the entire content with setComponents\njs\neditor.setComponents('<div class=\"test\">Hello</div><style>.test{color:red}</style>');\nor just only the style\njs\neditor.setStyle('.test{color:blue}');. Have you tried using editor.getComponents()? This method returns JSON representation of components. Hi @desilvaNSP each component has editable property which by default is set to true for Text Components (you can check all props are here)\nIf you want you can set this props also during the parsing using data-gjs attribute:\nhtml\n...\n<label data-gjs-editable=\"false\">Text here<label>\n.... Hi @spatsatzis at the moment, I'd suggest to use only npm/ yarn(faster). Hi @cloudseasail and thanks, would be awesome to see it in your app :)\nAnyway, in your case, I'd definitely suggest you to check this plugin where I basically replaced the default uploader.\nThe most interesting part is how to intercept the asset manager inside the modal:\njs\n  editor.on('run:open-assets', () => {\n    const modal = editor.Modal;\n    const modalBody = modal.getContentEl();\n   // here you can add your stuff and remove/style other\nand how to add new uploaded images inside the asset manager\njs\n editor.AssetManager.add(urls);. For the default devices you can just hide it with CSS or use this option\njs\ngrapesjs.init({\n...\nshowDevices: false,\n})\nAbout blocks, you just forgot to add the command for the button :)\njs\n...\nbuttons: [{\n  id: 'open-style-manager',\n  className: 'fa fa-paint-brush',\n  command: 'open-sm',\n  active: true\n}, {\n  id: 'open-block-manager',\n  className: 'fa fa-edit',\n  command: 'open-blocks' // <-- here\n}]\n. this should work\njs\neditor.BlockManager.getAll().reset();. so basically, CTRL+Z never works for you?\nIn test1, when you try to undo, are you still focused on the text component?. thanks @cloudseasail I'll investigate more about this. thanks @vankyy26 for your feedback, unfortunately, I didn't have time check it. There is definitely something to do with the keymaster, undo manager and content-editable elements. About the newsletter, check here. v0.10.2 should fix this, would be great to hear some feedback from you guys. Hi @narraressan, yeah, component settings are what I call 'traits'. \nAnyway, did you already checked the wiki here? Traits are relative to the component so you define them on component level.\nI'm still working on the wiki about Traits so if you have any question or just tell what you'd like to achieve maybe I can help you here.. yeah sure:\njs\npanels: { \n  ...\n  defaults: [{\n    id: 'open-tm',\n    className: 'fa fa-cog',\n    command: 'open-tm',\n  }]\n  ...\n}. Hi @NicholasGati I got your point but unfortunately, at the moment, there is no way to accomplish it easily with the current API. Actually, setComponents is the way to go. The problem is that it overwrites the whole template. I think I'll add addComponents on the next release but it'll be basically the same as:\njs\neditor.getComponents().add('<link rel=\"stylesheet\" href=\"...\">');\n@allmonday your snippet actually will add the link tag but the problem it won't update the template state, so when you'll call editor.getHtml() you won't see it inside the code.\n. Hi @prtjack can you elaborate why the 1st option is not working? Can you post some code?. Hi @allmonday and thanks for your efforts, unfortunately, you've not considered the state of the template and it's almost the same as I explained you here #66 \nThere is also a problem with async loading to take care, for instance:\njs\n...\nscripts: [\n  \".../jquery.js\",\n  \".../jquery-tiny-plugin.js\" // this probably will be loaded first and so you'll get '$' ref error\n        ]\nCan you past here your template (at least an example) so I can try to give you the workaround?\nHave you tried with:\njs\nvar dc = editor.getComponents();\ndc.add('<script src=\"...\"></script>');\neditor.render();. Thanks @allmonday for well explaining your case, which is pretty interesting.\nAnyway, if you add templates with components: option, I think this should already work for you:\njs\nvar editor = grapesjs.init({\n  ...  \n  components: `<div class=\"txt-red\">Hello__ world!</div>\n   <script src=\"...\"></script>`,\n  ...\n});\nAbout twice inserted thing, is happening because you store the template, which already contains your inserted script,  then refresh (load) and add the script again. So, in this case, you should add only with not yet saved templates.\nOverall, I think the idea of injecting scripts independently from the template (as you'll manage them outside manually) could be a nice feature, but there is still a problem with async loading to fix (you should be able to do it by appending next scripts inside each onload callback)\n. Thanks @allmonday \ud83d\udc4d . Maybe something like this:\njs\n// Triggered when a new component is added to the editor\neditor.on('component:add', function(model) {\n  // each model has a reference to its view, so...\n  var el = model.view.el;\n  el.style...\n}). Hi @sebastianha, yeah seems like it doesn't take care of the window scroll, will try to fix it. \nAnyway, for the moment, could you just try to fill all outer window height with the editor:\njs\nvar editor  = grapesjs.init({\n  ...\n  height: '100%',\n}). Hi @sebastianha the last release (v0.5.40) should fix the issue, can you confirm?. Thanks @kawikaconnell really glad to see so much interest :)\nRoadmap/Todo list is definitely a must, I'll open a new issue about it and later we can actually use Github's 'Projects' as a kanban :). #74 ;). Hi @aloksharma1 GrapesJS is just a frontend library so the backend part is up to you.\nYou can play with the editor, locally, also without any backend, just download the last release and follow instructions here\nFor the development environment, all you need is Git and NodeJS.. /index.html and /test/index.html are just for development purpose, to make them work you have to install all dependencies and run them behind a nodejs server. @johnjunpeng editor.getHtml() and editor.getCss(). Thanks @jakzal I guess I already know where is the problem, so I'll ping you back when it's fixed. eh @jakzal let me know if it fixes the problem (you have to clean previously saved styles). Thanks @jakzal for all details. I just pushed a new release which should fix disappearing issue.\nAnyway, I'd like to point out that those CSS rules are coming from the default 'protectedCss' option which are styles injected inside the template but can't be modified by the user. You can eventually disable this option just by passing an empty string:\njs\ngrapesjs.init({\n...\nprotectedCss: '',\n...\n})\nAt the moment, when you just loading html/css you have to empty 'protectedCss' as those rules are already stored inside you template.\nInstead with components/styles, I'm just using your code and can't reproduce it :/ Can you please track changes in your localStorage?\n. thanks @jakzal the issue with protectedCss should be fixed. Honestly, I'd expect remote storage to work if it works with the local one. Please let me know. thanks to you @jakzal for your feedback. > are you on gitter\nnot yet :)\nExactly, what do you mean by 'adding bootstrap'? If you're talking about loading external styles inside the template, you're already able to do so, check this issue for example. well, yeah, I add it to plugins. Thanks @givanz for your kind words and suggestions.\nAbout blocks, shown always on the left, could be a cool idea but not in the way how the canvas is now rendered. I'd like to keep canvas as wide as possible and with another side panel the view will be too much squashed. But this is just my opinion, you could easily move the block container wherever you want.\nI definitely agree about 'Settings panel', I think an additional option could be a solution. Anyway I've not yet figured out the best/easiest way to manage the UI (panels, buttons, etc.) for devs, therefore all that part it's just a default set (but can be easily moved around with js).\nNo 'theme' options for the moment, but you can easily change the entire UI with few CSS changes\n\n```css\ngjs-rte-toolbar, .gjs-bg-main, .gjs-clm-select option, .gjs-clm-tags .gjs-sm-colorp-c, .gjs-editor, .gjs-mdl-dialog, .gjs-nv-item .gjs-nv-title-c, .gjs-off-prv, .gjs-pn-panel, .gjs-select option, .gjs-sm-sector .gjs-sm-colorp-c, .gjs-sm-select option, .gjs-sm-unit option, .sp-container, .gjs-block {\nbackground-color: white;\n\n}\ngjs-rte-toolbar .gjs-rte-btn, .gjs-btn-prim, .gjs-btnt, .gjs-clm-tags .gjs-sm-composite.gjs-clm-field, .gjs-clm-tags .gjs-sm-field.gjs-sm-composite, .gjs-clm-tags .gjs-sm-stack #gjs-sm-add, .gjs-color-main, .gjs-mdl-dialog, .gjs-off-prv, .gjs-pn-btn, .gjs-pn-panel, .gjs-sm-sector .gjs-sm-composite.gjs-clm-field, .gjs-sm-sector .gjs-sm-field.gjs-sm-composite, .gjs-sm-sector .gjs-sm-stack #gjs-sm-add {\ncolor: #777;\n\n}\n.gjs-btnt.gjs-pn-active, .gjs-color-active, .gjs-pn-btn.gjs-pn-active, .gjs-pn-btn:active, .gjs-block:hover {\n    color: #59a6e6;\n}\n.gjs-btnt.gjs-pn-active, .gjs-pn-btn.gjs-pn-active {\n    background-color: rgba(0, 0, 0, 0.03);\n}\n```\nYou can already disable dashed boxes in demo\n\nFor creating new Blocks I suggest you check this wiki there you should also find how to change components properties (eg. make element not editable). thanks @meteorsnows, smart guides and snapping are definitely a must in Designer mode so I've already considered it. @ShinJii89 Scripts are just ignored by configurations.\nIf you want to try it in the demo, you have to paste this in devtools:\njs\neditor.getConfig().allowScripts = 1\n. Thanks @vinzee I'd really appreciate any help, something such as template manager would be awesome to have. If you want to discuss anything related to grapesjs I think \"Github's Issues\" is all we need, it'd be a mess tracking stuff with more discussion channels.. Hi @rgcarrasqueira you can check #26 about i18n and why I don't plan to add it. thanks @rgcarrasqueira \ud83d\udc4d  I'll try to make a good use of your code. Sorry @Geczy but haven't worked yet on this. @Geczy I'm busy with other stuff in this period but I could work on this the next week in a couple of days. Thank you @foaadnami for the suggestion but I already rely on Releases to keep track of changes. @Geczy sure :). @Deepak813 https://github.com/artf/grapesjs/issues/601#issuecomment-350229378. Custom CSS parsers available from https://github.com/artf/grapesjs/releases/tag/v0.14.33 \nCreated also for that case https://github.com/artf/grapesjs-parser-postcss. @FrciSmrci unfortunately, I didn't plan it yet and IMHO I'm not even sure anymore if it's the correct way of customization. Probably it would be better to create some kind of customizable UI system, where the developer can change/update the color input itself (as all other inputs) and not only the color picker. @luisalvarado correct. As a tiny update, I've started working on a new feature which, once finished, will allow me to add the designer mode easily.. Hi @BellaliNaoufel, seems like you problem is not related to GrapesJS but your server configuration. Try to use CORS with you scripts. Thanks @allmonday seems totally legit to me, but what about:\njs\ncontentType: 'content-type-string',\nwill be x-www-form-urlencoded in case it's not defined. Really strange. Seems like it's unable to load keymaster (which should be loaded globally), maybe there is some issue with the bundler.\nCan you load grapes.min.js just via script tag?. Yeah maybe, let me know. @kkinder I think there is some problem with the keymaster binding. \nAnyway, in these days I'm switching from requirejs to webpack2 and babel so hope to see some improvements here :). yeah, CodeMirror is a merged dependency for now.\nAt the moment I've always managed to import grapesjs directly via script tags. Hi @narraressan you can definitely achieve it via a custom component, in this way:\njs\ncomps.addType('Input-Fields', {\n  model: defaultModel ...\n    defaults: {...},\n    init: function() {\n      this.set('attributes', { id: randomID() });\n    },\n  )}, { \n  ...\n});\nOtherwise, you can also do it with an event listener:\njs\neditor.on('component:add', function(model) {\n  // ... eg. check if the id is already generated\n  model.set('attributes', { id: randomID() });\n});. Good catch, thanks @vladflorescu94 . I think your web page templates will work without any changes. Consider <div id=\"gjs\"> just as a <body> tag, so you can put there whatever you want. I just don't recommend adding <script> as it might break stuff . You have to pass the url upload in assetManager\njs\ngrapesjs.init({\n  ...\n  assetManager: {\n    upload: 'http://path/to/your/server/script',\n    uploadText: 'Drop files here',\n  }\n});. How do you check it? Because with devtools I don't see the content but the server script actually receives the file. @truongnv169 using the latest release you can use these listeners \n\nasset:upload:start - Before the upload is started\nasset:upload:end - After the upload is ended (successful or not)\nasset:upload:error - On any error in upload, passes the error as an argument\nasset:upload:response - On upload response, passes the result as an argument\n\njs\neditor.on('EVENT NAME', () => {...}). I don't see any issue in the demo :/\nPast here your env info pls. Ok thanks @allmonday I got it, the same as #19 \njust need to update the style. I'll fix it for the next release. So you mean it's not working at the beginning (empty canvas)?\nCan I see the snippet of how you init the editor?. thanks @vankyy26 will try to fix it then. @yashvijalan-adl can you update to the last release and check if it's solved?  If the issue is still there I'd like to see your code. You're right @vankyy26, there are no official events for assets yet, but you can actually use Backbone's internal one\njs\nvar assets = editor.AssetManager.getAll() // <- Backbone collection\nassets.on('remove', function(asset) {\n  console.log(asset.get('src'));\n}). Seems like you've reached the quota limit provided by the localStorage. There is no other way if not switch to another storage type. You can use the 'remote' one (already implemented wiki), otherwise, another solution is to integrate IndexedDB, which has no storage limits.. @tribulant it's just due to the localStorage limit. IndexedDB plugin https://github.com/artf/grapesjs-indexeddb. You have to use Link Block for this purpose\n\nOnce inserted in canvas you can drop inside any other component. Have to create another Component for this purpose. @murphmar it's correct, some of the blocks are just there for the demo or added via presets.. Hi @Ted-Mohamed thanks for the question, unfortunately, before documenting Traits I was thinking about refactoring that part, to make it more reliable and elegant, but not yet done, so eventually methods might change in the future.\nA really basic example of a custom Trait could be:\n```js\n// Each new type extends the default Trait\neditor.TraitManager.addType('my-textarea-trait', {\n  events: {\n      'keyup': 'onChange', // trigger parent onChange method on keyup\n  },\n/*\n   * Triggered when the value of the model is changed\n   /\n  onValueChange() {\n    var traitModel = this.model;\n    var selectedComponent = this.target;\n    var inputValue = traitModel.get('value');\n    //... eg. update attributes \n    selectedComponent.set('attributes', {...});\n  },\n/*\n   * Returns the input element\n   * @return {HTMLElement}\n   /\n  getInputEl() {\n    var input = document.createElement('textarea');\n    // ...\n    return input;\n  },\n})\nAnd then you can use it inside some component (eg. inside the Block or just for a new one):js\ntraits: [{\n  label: 'My custom label',\n  type: 'my-textarea-trait' // built-in types: text, number, select, checkbox, color\n}],\n```. Hi @walkskyer can you post your code here pls? so I can eventually reproduce it. @walkskyer can you check if #43 solves your issue?. yeah, currently it uses toLowerCase on any new class, I think a custom naming strategy might be a good option.. sorry @roytang but at the moment it's not possible :/. @roytang I think that was just a stylistic choice and I removed it indeed. In #89 I show an example of how to create a basic custom trait, you could create, for example, a textarea which contains the list of options (1 option per row) and reset its components on change:\njs\nonValueChange() {\n      var options = this.model.get('value').split('\\n');\n      var optComps = [];\n      for (var i = 0; i < options.length; i++) {\n        optComps.push({\n          tagName: 'option',\n          content: options[i]\n        });\n      }\n      var component = this.target;\n      component.get('components').reset(optComps);\n      component.view.render();\n    },. Yeah it's ok but I think it's better to assign value directly in getInputEl\njs\ngetInputEl() {\n    ...\n    var traitModel = this.model;\n    input.value = traitModel.get('value');\n    return input;\n},. Just use this :)\nhttps://github.com/artf/grapesjs-plugin-ckeditor. Ah ok, I didn't get what you meant.\nI think CKEDITOR is throwing an error because there is actually no id in your component (<textarea></textarea>), but you can eventually pass the element itself:\njs\nif (el.tagName == 'TEXTAREA') {\n  CKEDITOR.replace(el);\n}\nTake in consideration that you RTE components will work only on add in GrapesJS, you need also somehow to init CKEDITOR once your pages are \"in production\". One of the solutions might be just to put textarea as a placeholder\n```js\n// in grapesjs\nblockManager.add('textarea-block', {\n    label: 'Rich Text Editor',\n    content: 'This textarea will be replaced with CKEDITOR',\n  });\n// production render page\n$('[data-rte]').each(function() {\n CKEDITOR.replace(this);\n});\n. I think the problem might be that trait changes are not triggering the storage. Did you try to make some other change after the one with the trait (add new block, change some style property, etc.) and check if it stored?. This should be fixed by #187. Sorry @kedrzu, but It's not related to GrapesJS itself, so can't help you here. You can check webpack/webpack#1435 which is basically the same issue but has more info about. Seems also that `npm install --no-optional` solves the problem. Hi @narraressan, I think It might be enough some CSS and JS work (you can move panels once they rendered) to make it more mobile friendly :). Hi @dedanirungu, GrapesJS is just a front-end library so there is no reason to have it in Packagist if not for some kind of wrappers. @dedanirungu nothing personal, but Packagist is the \"PHP Package Repository\" so I just see it somehow wrong.\nAnyway, I think you can use custom repositories with composer to get what you want:json\n\"require\": {\n        \"php\": \">=5.6.4\",\n        \"artf/grapesjs\": \"dev-master\"\n    },\n\"repositories\": [{\n            \"type\"    : \"package\",\n            \"package\" : {\n                \"name\"    : \"artf/grapesjs\",\n                \"version\" : \"dev-master\",\n                \"type\"    : \"js-library\",\n                \"source\"  : {\n                    \"url\"       : \"https://github.com/artf/grapesjs.git\",\n                    \"type\"      : \"git\",\n                    \"reference\" : \"origin/dev\"\n                }\n     }\n}],\n```\n. the same as #99 . Hi @kmahera can you show me exactly how does it happen?. Hi @noone-silentrunner I didn't test your code but one of the problems might be the absence of 'isComponent' method, I've also mentioned this in wiki:\njs\n  // The second argument of .extend are static methods and we'll put inside our\n  // isComponent() method. As you're putting a new Component type on top of the stack,\n  // not declaring isComponent() might probably break stuff, especially if you extend\n  // the default one.\n  {\n    isComponent: function(el) {\n      if(el.tagName == 'INPUT'){\n        return {type: 'input'};\n      }\n    },\n  }\nAnyway, I don't even think you need to create a new component, maybe a simple block is enough:\njs\nblockManager.add('panel-default', {\n    label: 'Default panel',\n    attributes: {class: 'fa fa-square-o'}\n    content: `\n     <div class=\"panel panel-default\">\n       <div class=\"panel-heading\" data-gjs-draggable=\"false\" data-gjs-copyable=\"false\">\n         <h3 class=\"panel-title\">Your title goes here</h3>\n       </div>\n       <div class=\"panel-body\">Your content goes here</div>\n     </div>`,\n});. ah ok in that case custom component is necessary. @ccwalkerjm what do you mean?. thanks @vankyy26 for pointing this out. I added the request to the roadmap. thanks @Chinese1904 for your kind words, really appreciate :)\nAnyway, seems like it's related to the float property of those components, I'll try to investigate better. thanks @rgcarrasqueira but I think your problem is due to another issue with the last version, I'll fix it for the next release. This actually should be closed already... @bassouma21001 can you elaborate your issue please?. thanks @kawikaconnell for your willing to help. If you want to get more about javascript I'd recommend to check https://github.com/getify/You-Dont-Know-JS which is a really well-written resource about the language. For backbone, I think their site is the best resource, there is not so much to learn (especially to be used in grapesjs), there is just a good solid principle of how to manage your business logic (Models and Collections) and listen/update changes in your Views, the rest is just a bunch of helpers.\n. thanks @givanz . README shows exactly what you're asking:\n```html\n\n\n  var editor = grapesjs.init({\n      container : '#gjs',\n      components: '<div class=\"txt-red\">Hello world!</div>',\n      style: '.txt-red{color: red}',\n  });\n\n```\nAll the html and css is loaded inside an iframe (exactly as you described with jetstrap) so no conflicts there.\n'getHtml' returns the html without indentation as expected. For missing attributes, you have to provide some code because I'm unable to reproduce it\n. I think you might be able to do so with changing the block collection and rerendering (not tested)\njs\nvar blockCollection = editor.BlockManager.getAll();\n// We gonna reset the actual collection so we need to keep it somewhere\nvar clonedCollection = blockCollection.clone();\n// For the sake of simplicity, I use where() helper as a filter function\nvar filtered = clonedCollection.where({label: 'Image'});\n// Reset the collection\nblockCollection.reset(filtered);\n// Rerender\neditor.BlockManager.render();\n. might be the issue with the cache in the render method which I've fixed in the last release, pls try to update and let me know if it works. thanks @justvinz the last release should fix the issue, let me know if you have any other problem. thanks @integrateddigital glad to hear you like the tool.\n\n\nHonestly, in the last period, I thought about it and came to the conclusion that is much more easier to manage icons directly with SVG and the last plugin (grapesjs-plugin-forms) is the result. You don't have to include extra files, SVG are extra lightweight and you have more control over customization. Here is the example\nof the icon taken from forms plugin:\njs\neditor.BlockManager.add('input', {\n      label: `\n      <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\"></path>\n        <polygon class=\"gjs-block-svg-path\" points=\"4 10 5 10 5 14 4 14\"></polygon>\n      </svg>\n      <div class=\"gjs-block-label\">${c.labelInputName}</div>`,\n      category: 'Forms',\n      content: '<input class=\"input\"/>',\n    }); \nI've just added to svg elements few class helpers for the color and size customization\n\n\nI don't get about what 'New Block' button you're talking about and what do you mean \"is not invoking the code\"? You don't see the content in the editor? Can you post the snippet of the code?\n\n\nHonestly, I didn't know about the google's filepicker, would be cool to have also its own plugin but unfortunately, I busy with other stuff right now. \nAnyway, all the code for the picker is here https://github.com/artf/grapesjs-plugin-filestack/blob/master/src/main.js just 100 lines of code, I don't think is hard to read. The important parts are:\n\n\nIntercept when the asset manager is called and attach the button for the picker\njs\n editor.on('run:open-assets', () => {\n ...\nbtnEl = document.createElement('button');\n...\nassetsBody.insertBefore(btnEl, assetsHeader);\n});\nThe button has a click handler for opening the picker\njs\nbtnEl.onclick = () => {\n   fsClient.pick({/* OPTIONS */}) // <-- Filepicker init\n  .then((objs) => {  // <-- Filepicker callback\n          const blob = objs.filesUploaded;\n          const blobs = blob instanceof Array ? blob : [blob];\n          let assets = addAssets(blobs);  // <-- Call my helper\n        });\n      };\nThe helper (might be similar for other pickers)\njs\nconst addAssets = (files) => {\n    const urls = files.map((file) => {\n        file.src = file.url;\n        return file;\n    });\n    return editor.AssetManager.add(urls);  // <-- GrapesJS's API\n  };\n. yeah, I've removed that button from the default list but the command is still there, so you don't have to overwrite it, just add a button with the command\njs\nvar newButton = editor.Panels.addButton('myPanelID', {\n    id: 'create-comp',\n    className: 'fa fa-pencil-square-o',\n    command: 'create-comp',  // <-- the ID of the command\n    attributes: { title : 'Create element' },\n    stopDefaultCommand: 1,\n});\nAbout mobile device, currently, I don't plan any kind of support. I'd definitely start from designing the interface, honestly I hardly believe is possible to create a builder which is work also on mobile, I mean you can reduce/remove a lot of stuff and just let the text editing (maybe moving some block), but not sure if it worth it.. First of all, editable elements are generated dynamically so you have to delegate the event and then you have to catch events inside the iframe of grapesjs, I think something like this should work:\njs\nvar iframeBody = editor.Canvas.getBody();\n$(iframeBody).on(\"paste\", '[contenteditable=\"true\"]', function(e) {\n  e.preventDefault();\n  var text = e.originalEvent.clipboardData.getData('text');\n  console.log('text to past: ', text);\n  e.target.ownerDocument.execCommand(\"insertText\", false, text);\n});. Sorry, not sure if I totally get what do you want to build, for tags, you mean replaceable variables (inside text components)? In that case, I'd simply do what you already suggested, appending text at the selected position. The editable component is inside the canvas (which is inside the iframe) so you have to access its document before executing commands\njs\nvar canvasDoc = editor.Canvas.getBody().ownerDocument;\n// Insert text at the current pointer position\ncanvasDoc.execCommand(\"insertText\", false, 'TEST');. If you import HTML you should check my reply to this issue. Sorry @jay0319 but I don't get what is your issue. Can you elaborate the question?. Thanks @jay0319 now I got what do you mean and this is something I'm still working on.\nAt the moment you can tell a model what elements are acceptable and where they could be dragged, eg. example with a row/cell elements:\nhtml\n<div class=\"row\" data-gjs-droppable=\".row-cell\">\n  <div class=\"row-cell\" data-gjs-draggable=\".row\"></div>\n  <div class=\"row-cell\" data-gjs-draggable=\".row\"></div>\n</div>\nBut this double opt-in process is only executed once the component is dropped, I think moving this process up in dragging event might solve some of the issues.\nI'll add this to the Roadmap. @jay0319 can you elaborate better what is doesn't work with the current model properties? What do you do and what do you expect to happen? . I think you should wait for the improvement I've explained before because with droppable/draggable properties you can limit stuff but it's not gonna fix you problem with adjacent components. The orange outline just helps understand which is the parent but nothing more. Hi @jay0319 I implemented the behavior explained before. I'd suggest you trying the demo with new column components (be sure to clean the cache/localStorage). You might notice how you aren't able to drag rows between cells and it should be easier drag rows around adjacent components.. what do you mean with failed? Did you get some kind of error?. Ok, I confirm the issue, have to manage SVG differently (need an extra component). I'll try to bring this for the next release. js\nvar editor = grapesjs.init({\n  ...\n  canvas: {\n    scripts: [\n      'https://...',\n      ...\n    ],\n  }\n});. you can set external CSS directly in your templates, eg:\njs\nvar editor = grapesjs.init({\n      container : '#gjs',\n      components: '<div>Hello world!</div><link rel=\"stylesheet\" href=\"https://...\">',\n  }); . Can't reproduce it (same versione). Do you have any error in console?. Ok, I got the same behavior now (don't know why didn't get it in the last check). Seems like it's due to how differently html and body threaten in different render engines. Will try to fix it. At the moment is not possible as the fix I've tried (fill the height of html/body) breaks other stuff. @tribulant @bassouma21001 I can't reproduce in either of them. Do you use the last version? Are you able to reproduce it in the demo?. @davellanedam @danaketh @tribulant thanks guys, can you also provide the browser and OS? On my side (mac, chrome 59) I have a similar issue but the reason it's completely different with the on from the Firefox. The error is popping out when you drop the component near to the edge of the wrapper (fixable) but it works otherwise, here the screencast:\n\n. thanks @tribulant . @tribulant will do my best to fix it soon. Would be great to hear someone else with macOS and Safari because I can't reproduce it.\n@tribulant in the inspector, does the empty wrapper fill all the canvas?\n\n. Hi guys, I made a little update on this (v0.9.13, demo updated), besides the issue with edge corners you should be able to drag stuff in empty canvas even with Firefox (at least on my side it works now). Let me know. Seems like there is an issue with input blocks, which also affect next drops. Should work properly with other blocks. The issue with edge corners should be fixed in the latest version https://github.com/artf/grapesjs/releases/tag/v0.12.15. Currently, is not possible, but I'd accept a PR for this. Yeah, I think grapesjs-plugin-filestack is a good example of how to extend the basic functionality, but, in the same way, you can \"override\" it (close the actual modal and call whatever you want). thanks @thecodefish I think you're right and it should work correctly with your fix, editor/model/Editor.js is actually one of the files I have to hardly check and refactor. I'll fix it for the next release. Thanks for your suggestion @chuqingsheng it's definitely a good resource for inspiration but I'd like to specify that, even if Absolute/Designer mode is in the Roadmap the main GrapesJS goal is to create valid templates. \nBasically, ALL prototype tools are strictly relying on absolute positioning (which is more friendly for designers), this means you can't use them with dynamic content and are not mobile ready (generally those tools create a totally different template to handle mobile devices).\nJust want to point this out that I'm not building another \"Sketch App\", the main purpose of GrapesJS is different even though we're all trying to make this process easiest for people.\n. try to remove the prefix in this way:\njs\nvar editor = grapesjs.init({\n    container : '#gjs',\n    ...\n    storageManager: {\n      type: 'remote',\n      ....\n      id: '', // <- default is 'gjs-'\n    }\n});. @adaman93 once you've setup the storage the editor tries to load it by itself, but you can do it manually if you want to:\n```js\nvar editor = grapesjs.init({\n    container : '#gjs',\n    ...\n    storageManager: {\n      autoload: 0\n    },\n});\neditor.load();\nYou need `storageManager.id` option just to prevent collisions, so if it's not your case just set it as an empty string, in this way the editor will always pass clean params like `html`, `style`, `components`, etc. and will expect the same on loading (so your endpoint have to return `html`, `style`, etc.)\n. Sure @nhanlego1 you just have to send data via remote storage to some back-end script which stores data in mysqljs\nvar editor = grapesjs.init({\n    container : '#gjs',\n    ...\n    storageManager: {\n      type: 'remote',\n      urlStore: 'http://store/endpoint',\n      urlLoad: 'http://load/endpoint',\n      params: {},   // For custom values on requests\n    }\n});\n. @virazura \nAs already mentioned and suggested by @martcot all you have to do is setup the remote storagejs\nvar editor = grapesjs.init({\n    container : '#gjs',\n    ...\n    storageManager: {\n      type: 'remote',\n      params: {},   // For custom values on requests\n      // your SERVER endpoints\n      urlStore: 'http://store/endpoint',\n      urlLoad: 'http://load/endpoint',\n    }\n});\nYou can add a button to trigger the storage, as suggested by @nhanlego1js\n// Add the button\neditor.Panels.addButton('options', [{ \n  id: 'save-db', \n  className: 'fa fa-flopy icon-flopy', \n  command: 'save-db',\n  attributes: {title: 'Save DB'} \n}]);\n// Add the command\neditor.Commands.add('save-db', {\n    run: function(editor, sender) {\n      sender && sender.set('active', 0); // turn off the button\n      editor.store();\n    }\n  });\n``` \n@nhanlego1 if you want your custom storage logic is ok, but don't do this\njs\nvar InnerHtml =  this.frameEl.contentDocument.activeElement.innerHTML\nyou'll also store stuff related to the editor (styles, scripts, etc.), to get the full template you might use this:\njs\nvar InnerHtml =  editor.getHtml() + '<style>' + editor.getCss()  + '</style>';\n. urlStore and urlLoad are endpoints of your server scripts which supposed to store stuff in DB. @irshadalif for other kinds of problems please open another issue, by the way, you set background images via style manager (check the demo page if you need it). I think you didn't load JQuery. Unfortunately, have no plans for carousel or animation editor.\nAbout the animate.css, something like this should work\n```html\n\n\nExample\n.txt-red{color: red}\n\n\n  var editor = grapesjs.init({\n      container : '#gjs',\n      fromElement: true,\n  });\n\n. Hi @chrisbarton126 you can create components, directly in blocks, with model properties which can be used for limiting your scope (more info [here](https://github.com/artf/grapesjs/wiki/Blocks)), for instance, you can create something like this:js\nblockManager.add('the-row-block', {\n  label: 'Example block',\n  content: <div>\n<div data-gjs-editable=\"false\">Not editable</div>\n<div data-gjs-draggable=\"false\">Not draggable</div>\n<div data-gjs-removable=\"false\">Not removable</div>\n</div>,\n});\nCan you explain better which is your issue with the toolbar (maybe some screenshots)?. First of all, you can use model properties with the starting template, so something like this should work:html\n\nHello world!\n.txt-red{color: red}\n\n\n  var editor = grapesjs.init({\n      container : '#gjs',\n      fromElement: true,\n  });\n\nOnce the component is imported inside the editor the attribute is replaced with the model property, therefore you won't see it in the final HTML (eg. with `editor.getHtml()`) but inside the model (`editor. getComponents()`). You're also able to pass component models on store:js\nvar editor = grapesjs.init({\n   ...\n   storageManager: {\n     ...\n     storeComponents: true, \n   }\n  });\n```\nAbout the layout issue you should be able to solve it with some custom CSS.\nI didn't get exactly what you've tried to achieve, can you post some code snippet?. thanks @kkinder didn't notice it. Anyway, I don't get if you suggest to include .eslintrc. Form components come from the plugin https://github.com/artf/grapesjs-plugin-forms. Hi @adrian1207 your JSON is correct, I think there is might be a bug with the Asset Manager loader. For a moment, as a workaround, I'd suggest loading assets via the main config:\njs\n...\nassetManager: {\n  assets: {!! $jsonAssets !!}\n},. There is might be something wrong with the renderer, can you check if there are actually no assets\njs\neditor.AssetManager.getAll().length\nMight help you setting some listener before rendering\n```js\nvar editor = grapesjs.init({\n autorender: 0,\n ...\n});\neditor.on('storage:load', function(obj) {\n  console.log('Loaded ', obj);\n})\neditor.on('storage:store', function(obj) {\n console.log('Stored ', obj);\n})\neditor.AssetManager.getAll().on('reset change', function(asset){\n  console.log('Assets changed', asset);\n})\neditor.render();\n. ah ok the loader, in asset manager, uses `JSON.parse` on any value \ud83d\ude01\nwill fix it for the next release. You should output your assets as an encoded JSON string. thanks for the catch @FlashPapa seems like it doesn't take into account styled attributes, but as it seems to be related only with mjml components I'll move it there. Hi @dreamhuo currently is not possible to add custom events on blocks but you might make use of global listeners:js\neditor.on('block:drag:start', function(e) {\n   //\n});\neditor.on('block:drag:move', function(e) {\n  //\n});\neditor.on('block:drag:stop', function(model) {\n  //\n});\n. Ok, I think I got where is the problem, I'll fix it for the next release.. thanks @fzs1994, I think the problem is the same as #131 will fix it for the next release.\nI close this as a duplicate, please subscribe there to be notified when will be solved. You can place the bootstrap's `<link>` directly inside your template (same question #27). . @dreamhuo adding JS is slightly different from adding CSS (same as #51) and as in this case, it breaks stuff. I'd suggest you adding JS after the renderjs\neditor.addComponents(<script src=\"dist/jquery-3.2.1.min.js\"></script>\n<script src=\"demo/assets/js/bootstrap.min.js\"></script>)\nor even better try to load your template via confightml\n\n\n  var editor = grapesjs.init({\n      container : '#gjs',\n      components: `\n        <div>...</div>\n        <script src=\"dist/jquery-3.2.1.min.js\">\n\n      `,\n      style: '.txt-red{color: red}',\n  });\n\n. Seems like browser's parser issue, can't do a lot, you might try with '<\\\\/script>' if you want. On which OS/browser? I can't able to reproduce it in chrome/firefox on Mac. Sorry @Chronis77 but can't reproduce it.\nFirst of all, did you run `npm i`? \nAre you able to start the project with `npm start`? \nCan you try to upgrade node to the latest version?. Not currently, but it would be possible integrate a new [Component](https://github.com/artf/grapesjs/wiki/Components). Are you talking about the demo or the last version itself?. Did you set up the remote storage?\nCheck the console and let me know if you see any error. The preview shows up only when the asset is already added to the Asset Manager.\nCan I see your config pls?. It's working from my side (the ajax call is correctly called). Are you able to see the ajax call in dev tools? . in php, uploaded files are in $_FILES . the ajax call expects, as the result, a JSON with assets inside `data` key:js\n{\n  data: [\n    'https://image/path',\n    {type: 'image', src: 'https://image/path', height:350, width:250},\n    ..\n  ]\n}\n. @aliassad it's just your server script which receives uploading files, stores them and outputs the result as a JSON. Yeah, Traits are what you need if you want to add custom settings, but are Component related so you have to create a new [Component](https://github.com/artf/grapesjs/wiki/Components). @gkumar77 \nFirst of all, you create a Component with your custom traitsjs\neditor.DomComponents.addType('cutom-type', {\n  model: { ...\n   ... traits: [...]\n...\n});\nthen you can call it directly within Blocksjs\neditor.BlockManager.add('cutom-type-block', {\n  ...\n  content: {type: 'cutom-type'}\n})\n. Indeed PutsMail hasn't any public API so I just send raw backend requests from a `grapes.16mb.com` (PutsMail authorized me to do so). I have to check the backend script to see what is going on. @derblub unfortunately, PutsMail added a reCaptcha on their form, therefore I'm unable to send other requests from the backend. Can't do much so I just removed it from the demo :/. This what `addComponent` does under the hood:js\naddComponent(component) {\n  return this.getComponents().add(component);\n}\nso I think you're doing something wrong from your side (in your example you add 1 image). What do you mean?.js\ndoStuff() {\n this.get('traits').each(function(trait){\n   console.log(trait.get('value'));\n });\n},\n. this should work:js\nthis.get('traits').where({name: '...'})[0].get('value')\n. Check if the model is actually returned `this.get('traits').where({name: '...'})[0]`, you might passed a wrong name. @HarshOB just like abovejs\ncomponentModel.get('traits').where({name: 'TRAIT-NAME'})[0].get('value')\n. thanks @rgcarrasqueira for pointing this out, those traits actually should not be there (I think I left them just for a demo purpose), the base component has to be as dry as possible. The correct behavior is to extend those components you want to be attached with custom traits. In this case you might want to extend the default one:js\nvar domc = editor.DomComponents;\nvar defaultType = domc.getType('default');\nvar defaultModel = defaultType.model;\nvar defaultView = defaultType.view;\ndomc.addType('default', {\n  model: defaultModel.extend({\n    defaults: Object.assign({}, defaultModel.prototype.defaults, {\n      traits: [{\n        name: 'title',\n        label: 'T\u00edtulo',\n        placeholder: 'Insira um texto aqui'\n      }]\n    }),\n  }),\n});\n\n```. @bungambohlah I have not yet defined a public list but you can keep track of them in the Editor\n@derblub you can use editor.store() method. @bungambohlah \ud83d\udc4d . @gkumar77 If you want to rerender your Component I think a listener inside the View (not in the Model) might be a solution (take the  VideoComponent as an example):\njs\nview: defaultType.view.extend({\n  init() {\n    this.listenTo(this.model, 'change:apiurl', this.render);\n  }\n}). @fzs1994 you items listener is not working just because you've missed the changeProp: 1 in your traits configuration :). You have to call the render method in the View (or using the ref in the model this.view.render()). thanks @lovesandy, good catch. I've not yet touched this, so I guess the bug is still there. Should be fixed in the latest release https://github.com/artf/grapesjs/releases/tag/v0.12.8. quick and dirty example\n```html\n\n\n\nHome\nAnother link\nNext link\nLast link\n\n\n\n\n\n\n\n content of page \n\n\n\n\n\n\n\n.wrap {\n  transition: all 0.4s ease 0s;\n  padding-left: 250px;\n}</p>\n<p>.sidebar-wrapper {\n  margin-left: -250px;\n  left: 250px;\n  width: 250px;\n  background: #CCC;\n  position: fixed;\n  height: 100%;\n  overflow-y: auto;\n  z-index: 1000;\n  transition: all 0.4s ease 0s;\n}</p>\n<p>.page-content-wrapper {\n  width: 100%;\n}</p>\n<p>.sidebar-nav {\n  position: absolute;\n  top: 0;\n  width: 250px;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}</p>\n<p>@media (max-width:767px) {</p>\n<pre><code>.wrapper {\n  padding-left: 0;\n}\n\n.sidebar-wrapper {\n  left: 0;\n}\n\n.wrapper.active {\n  position: relative;\n  left: 250px;\n}\n\n.wrapper.active .sidebar-wrapper {\n  left: 250px;\n  width: 250px;\n  transition: all 0.4s ease 0s;\n}\n</code></pre>\n<p>}\n\n``\nYou might want to check the [Component](https://github.com/artf/grapesjs/wiki/Components) wiki about how to handle different scopes with model properties. just put atag of bootstrap inside your template, similar to #27 . Thanks @Dari4sho I'd say the exporter is not optimizing properly. Never used polymer so can't help you, about the link tag you can create a new Component withhiddenLayer: true` property, in this way it won't be visible in layers\nupdate: \nfrom v0.9.32 hiddenLayer is now layerable. Create a new Trait type. Will check for the loader. About the listeners, some events are called at render so you have to put those listeners before the call (you have to use autoload: false).  should be fixed in https://github.com/artf/grapesjs/releases/tag/v0.10.2. Hi @cmcintosh sounds like you've missed something in config, if you want you can open a new issue with some detail about it. I think, in your case, you can use blocks as placeholder elements (eg. <input class=\"date-input\">) and add js in your result page (eg. $('.date-input').createDatePicker()). thanks @niagi I've already fixed this issue, should be available in the next release . I think '+' button triggers the send because there is no 'type=\"button\"'\nYou can wait for the fix or put the editor off from the form  (and update some hidden input on editor change). You can make use of this listener\njs\neditor.on('component:add', function(model) {\n // ... put some check logic\n model.set('style', { color: 'blue' });\n}). You should get the trait from the model and then update its options:\njs\ndoStuff(){\n  var categsTrait = this.get('traits').where({name: 'cats'})[0];\n  categsTrait.set('options', [{ value:'val1',name:'name1' }, ....])\n}. @fzs1994 @gkumar77 does this rerender traits?\njs\ndoStuff(){\n  ...\n  editor.trigger('change:selectedComponent');\n}. See here. I guess I know where is the issue, will fix it for the next release. CKEditor is not included in the library. @prtjack you just have to include CKEditor library inside your project. Actually I've already implemented copy/paste with Ctr+C/Ctr+V but there are few issues with keymaster library, seems like you can't bind keys to another window object (like the one I use for the canvas). Indeed if you select a component and click outside of the canvas, copy/paste is working. released v0.10.2 which fixes issues with the keymaster. I think exactly as you will do with any other js library. @kartboy16 I think you're importing, somewhere, jquery twice. 1. Not built-in but you can achieve it with custom Traits\n2. You can style buttons as you like with CSS, if you want to get rid off font awesome you can use Panel API . For the demo I've used this preset (just add it as another plugin)\nhttps://github.com/artf/grapesjs/blob/gh-pages/js/grapesjs-preset-mjml.js. Honestly, checking the grapesjs-mjml plugin is the best advice I can give you at the moment (especially components) as basically, it's the same concept. Technically, you have to create custom Components with a custom render logic.. Correct, but you have to disable autorender first to make it work\n```js\nvar editor = grapesjs.init({\n autorender: false,\n ...\n});\neditor.on('load', function(){ ... });\neditor.render();\n. Good question @pournami17, actually, at the moment, it's not so easy, you have to create a gap between inner sections to select it. I'm not exposing the wrapper/body inside layers and not even taking in consideration that the wrapper will be the `<body>`. Will work on this. From the [v0.9.32](https://github.com/artf/grapesjs/releases/tag/v0.9.32) is now possible select the body/wrapper from layers. Hi @Chronis77 for such customization you have to use custom [Components](https://github.com/artf/grapesjs/wiki/Components) (eg. you bind events in the View of the component). @Chronis77 artur.catch at hotmail.it. Correct, you can use `editor.on('block:drag:stop', function(model) {});` or if you want something more component specific you can create a custom Component and make use of `activeOnRender` propertyjs\neditor.DomComponents.addType('custom-type', {\n  model: {...},\n  view: defaultView.extend({\n     init() {\n       this.listenTo(this.model, 'active', this.doStuff); // listen for active event\n     },\n     doStuff() {...}\n  }),\n});\nblockManager.add('test-block', {\n label: 'Label',\n content: {\n    type: 'custom-type',\n    activeOnRender: 1, // <- this will trigger the active event\n },\n});\n. I was thinking about some kind of grid component with `<div>`s where you can easily create cells in a row but not `<table>` and honestly don't plan it. I'd really like to make some but, at the moment, can't find time to do so. It's not built-in but you can make it possible with custom [Traits](https://github.com/artf/grapesjs/wiki/Traits). Hi @pournami17 you can set the height of the editor or tweak some CSS to change the canvas but height of the wrapper is always without limits and you can't restrict drag and drop on this. I've used that trick to avoid some issues with text components and `span` tags but not sure if it's still necessary. You can avoid it by changing the `span` tag or make the parent see there is more than one child inside, for example, just by adding an empty space an the end, so from `<div><span class=\"my-class\">Test</span></div>` to `<div><span class=\"my-class\">Test</span> </div>`. Thanks @rgcarrasqueira for your screen cast, but I just didn't get where is the disappeared text (or how is happening), I'd really like to solve this, so can you explain better your use case? thk. Ok thanks @rgcarrasqueira I'll try to fix it as soon as possible. Once the image(s) is uploaded the ajax request expects a JSON response with `data` key containing an array of images to add inside the asset manager. This might help #138 . @mhsdts store your templates remotely and fetch them from another page, otherwise, you can get HTML and CSS from the local storage and send them via ajax to your server but it doesn't make too much sense, just use the remote storage. Error notifications are not built-in, I use `toastr` plugin in the demo for drag and drop warnings, you can check [here](https://github.com/artf/grapesjs/blob/gh-pages/demo.html#L1272-L1285) how it's done. Check this https://github.com/artf/grapesjs-preset-newsletter/issues/4. Hi @NETCreator-US can you try with this and let me know if it works:js\n/*\n  * Returns the input element\n  * @return {HTMLElement}\n  /\n  getInputEl: function() {\n     if(!this.inputEl) {\n        var input = document.createElement('textarea');\n        input.value = this.target.get('content');\n        this.inputEl = input;\n      }\n      return this.inputEl;\n  },\n. done. I used your snippet directly in the demo and the image component was recognized as expected. Are you sure you're not overwriting `thumbnail` block somewhere else?. thanks @vladflorescu94 but can you provide a test case for this, please?\nYou'll find them here: https://github.com/artf/grapesjs/blob/dev/test/specs/parser/model/ParserHtml.js. Thanks @vladflorescu94 . Thanks @thecodefish for the catch, actually I can confirm the behavior, I add temporarily the component on start of the dragging ([Sorter](https://github.com/artf/grapesjs/blob/dev/src/utils/Sorter.js) inside `getSourceModel` method) to get model info and this triggers the event, I have to add some kind of option to prevent it ([ComponentsView](https://github.com/artf/grapesjs/blob/dev/src/dom_components/view/ComponentsView.js) inside `addTo` method).. Sorry @NETCreator-US but as #186 I can't reproduce your issue, do you use the last version?. I'd suggest you to create a custom [Trait](https://github.com/artf/grapesjs/wiki/Traits) which applies different classes on change. [Here](https://github.com/artf/grapesjs/wiki#storeload-data) you can find more about storage options. Basically, all you need is the HTML and CSS stored remotely by the editor and then you can wrap and render those contents in another page. . What you're asking is what I call a `Designer mode` and is already on the [Roadmap](https://github.com/artf/grapesjs/issues/74) ;)\n . Agree, I'll add it soon, for the moment you can use this `editor.BlockManager.getAll().remove('block-id')`. @Geczy probably something like thisjs\nconst bm = editor.BlockManager;\nconst blocks = bm.getAll();\nconst toRemove = blocks.filter(block => block.get('category') === ...);\ntoRemove.forEach(block => bm.remove(block.get('id')))\n. @cmoutafidis you're looking in the wrong place https://grapesjs.com/docs/api/block_manager.html. For block specific styles I'd recommend just using `style` tagjs\ncontent: <section class=\"big-hero\">...</section>\n<style>\n  .big-hero{...} ....\n</style>,\nIf you want to preload external stylesheet inside the canvasjs\nvar editor = grapesjs.init({\n  ...\n  canvas: {\n    styles: [\n      'https://...',\n      ...\n    ]\n  }\n});\n```. As suggested by @rgcarrasqueira just install and build it via nodejs\nHere is the Development steps from the README\nClone the repository and install all the necessary dependencies\nsh\n$ git clone https://github.com/artf/grapesjs.git\n$ cd grapesjs\n$ npm i\nStart the dev server (visit the printed url, eg. http://localhost:8080). When you update files, inside the src/ folder, the server will automatically reload the page\nsh\n$ npm start\nWhen you're ready, build the source, you'll find the output minified file(s) in the dist/ folder\nsh\n$ npm run build. \ud83d\udc4d  Like it, added to the Roadmap, thanks. I don't get if it's uploading the image or not. Actually, I've not implemented what you're asking. At the moment I just upload images dragged inside the editor and show them by opening the asset manager (more options here https://github.com/artf/grapesjs/blob/dev/src/asset_manager/config/config.js). I'll check if it's possible what you're asking.\nps. what do you expect if you drag multiple images?. @cpcashion check the code from the demo preset https://github.com/artf/grapesjs/blob/gh-pages/js/grapesjs-preset-webpage.js#L284-L288. @aliassad you have to indicate your image storage endpoint, check this #138 . You can add a class to the model in this way:\njs\nmodel.get('classes').add({name: 'class-name'});\nAbout the value, by default, Traits relies on attributes of the model, so, for example, adding a trait named data-test you will be able to assign the value by importing this <div data-test=\"value\"></div>. When you use changeProp, the trait relies on the model property, so you have to use this format for importing model properties from the HTML <div data-gjs-data-test=\"value\"></div>. thanks @thecodefish really appreciate your contribution, I've tested your branch and it works as expected. About tests in Windows, I think it's due to path variables, therefore I just added cross-env for the next release (hope to push soon). @adamlc in the next release component:add are not triggered with temporary adds :). Thanks @dmac1025 but if you encountered a new bug please create a new issue and follow its template. As already explained here #138 all you have to do is to return a JSON (from you server) with your uploaded assets, example result:\njs\n{\n  data: [\n    'https://image/path',\n    {type: 'image', src: 'https://image/path', height:350, width:250},\n    ..\n  ]\n}\nif the JSON is correct the editor will add those images automatically to the Asset Manager, don't know how to explain you better...\n. Hi @Pisikoll at the moment I haven't yet documented components toolbar but it's just an array of objects containing 2 keys: attributes and command which indicates the command to execute.\nFor instance, the default component would be like this:\njs\ndefaults: {\n  // other model properties\n  toolbar: [{\n    attributes: {class: 'fa fa-arrows'},\n    command: 'tlb-move',\n  },{\n    attributes: {class: 'fa fa-clone'},\n    command: 'tlb-clone',\n  },{\n    ...\n  }],\n}\nIf you want to know when one of those buttons is executed you can listen to command events\njs\neditor.on('run:tlb-clone', () => {});. Actually, there is no particular support but I think you just have to create a wrapper and call the init method inside componentDidMount. Thanks @jbmusso for such detailed explanation. as already mentioned by @aliassad it's related to CORS settings, if you're uploading stuff directly from the browser to some other domain, the end point script should accept your requests via CORS. . Hi @BryceBubbles, thanks for your kind words, really appreciate and glad to hear you're willing to contribute.\nFirst of all, we're open to any feature proposal and we can discuss it directly here if it makes sense to add it to the core or via plugins (when possible). Style Manager is one of the modules with a wide range of stuff to improve, starting, for instance, from refactoring some methods to make it easier to extend. \n More CSS - PropertyFactory was made to facilitate some properties creation and, obviously, more is better, but it'd be insane cover all needs, therefore, I think making it extendable is a much wiser move.\n Layout/Styling - agree, I've already started refactoring few styles but there is still a lot to do\n Usability - I'd really like to make style property types extendable (for instance, like Traits) and this involves also PropertyView refactoring.\n Complex Selectors - definitely agree, I just like the class-based approach because it's highly comprehensible also by non-tech people (GrapesJS somehow born with this ideology), but some kind of \"PRO level mode\" might enable typing of selectors just by input text.\n Html/body/head - At the moment you can inject styles and scripts via [canvas configuration] (https://github.com/artf/grapesjs/blob/dev/src/canvas/config/config.js) but I have to adjust how the main component wrapper is handled (which is the body in most cases) and make it easier to style.\n Template Loop Tags - The main idea was to have fragmented templates, where variables, or loop of variables, are replaced dynamically and rendered via a server script. I haven't any example to show but I'm working on this :)\nThanks for your interest. If not yet done check the Components wiki and add a new custom Component in this way:\n```js\n    var textnodeType = domc.getType('textnode');\ndomc.addType('comment', {\n  model: textnodeType.model.extend({\n    toHTML() {\n      return `<!--${this.get('content')}-->`;\n    },\n  },{\n    isComponent(el) {\n      if (el.nodeType == 8) {\n        return {\n          tagName: 'NULL', // just need this to avoid some parser rule\n          type: 'comment',\n          content: el.textContent\n        }\n      }\n    },\n  }),\n  view: textnodeType.view,\n});\n\n. @rgcarrasqueira unfortunately, the code viewer part is not so well designed and should be definitely refactored, at the moment few options available are just [hard-coded](https://github.com/artf/grapesjs/blob/dev/src/code_manager/model/CodeMirrorEditor.js) and it's not possible to add other options. not yet. I think I don't get exactly what do you mean, can you provide some example?. Canvas location? your canvas seems to be in the correct position, maybe you mean moving the entire editor down?!? Anyway, try to trigger this after you moved it down `editor.trigger('change:canvasOffset')`. Try to change the Device select and see if it corrects the position. ok, but did you try to update the device select?. Ok I need to see your code because I can't reproduce it. any update @altalker?. seems like an old issue for me... @altalker  Are you sure you're using the last version?. ping @altalker . post your code @altalker because if I can't reproduce it I can't help you. thanks @uniacid \ud83d\udc4d . Awesome, thanks @uniacid \ud83d\udc4d . Can you show me exactly what kind of errors do you have?. thanks @altalker unfortunately, I'm not able to check those issues right now but hope to do so soon. hey @nicksav can you post please your errors. I think it's clear that we have to add some polyfill for those methods, but at the moment, it's just not my priority (can't even test them properly), so... PRs are welcome. Can anybody try the latest version (the demo is updated too) and report if you get errors in console? . @vishal5033 do you see any error in console?\n@umangpasricha what about the current demo (v0.12.25) in IE11? Can you tell me if you see any error. @ateshuseyin seems like [babel-preset-env](https://github.com/babel/babel/tree/master/experimental/babel-preset-env) doesn't work as expected \ud83e\udd14  or I'm missing something?. Thanks for the help @ateshuseyin, by the way, I was trying to use the library with `babel-polyfill` but unfortunately, keep getting this error in console `only one instance of babel-polyfill is allowed`. Obviously, the `babel-polyfill` is included once but seems like it conflicts with some other library and I believe this will happen with someone other, so I have to remove it from the next release.\nAnyway, are you sure about using `babel-polyfill` in conjunction with `babel-preset-env`? Can't find anything about it https://github.com/babel/babel/tree/master/experimental/babel-preset-env :/. @tomichal apologize but nothing planned. Sorry guys but still not able to work on this, any PR is welcome.\nI'd create a new `polyfill.js` file here [/src/utils](https://github.com/artf/grapesjs/tree/dev/src/utils) and import it in [/src/grapesjs/index.js](https://github.com/artf/grapesjs/blob/dev/src/grapesjs/index.js). @NorthstarTech I hope to fix this for the next release (this week). Did you find other errors in mjml plugin? (post them here). @NorthstarTech it might be an issue with MJML itself.js\n$.ajax({url: 'http://localhost/grapeJs/src/file_uploader/fileUpload.php',\n          type: 'POST',\n          data: formData,\n          contentType:false,\n          crossDomain: true,\n          mimeType: \"multipart/form-data\",\n          processData:false,\n          success: function(result){\n            var images = result.data; // <- should be an array of uploaded images\n            editor. AssetManager.add(images);\n          }\n});\n. Sorry but you can't do it if you want the class to be selectable by the Style Manager, but you can use this trick to keep some not class based selectors inside the rule:html\n\n\n.Frame,\ndiv.Frame {\n               border: #d6d8dd 2px solid;\n               border-radius: 4px 4px;\n               position: absolute;\n            }\n\n```. @aliassad usually this error shows up when you load jquery twice (one before grapesjs and one after). Seems like you forgot jquery. What is on the right-hand side of 'instanceof'?. > Unable to figure out\nIf the error is in console just click on it and show the part which throws the error. thanks @andre-bonfatti-movile for your examples, might be useful for someone else \n@aliassad try to update the grapesjs to the latest version, I've made some errors a little bit more verbose (eg. missing jQuery). For now, I close this one\n. Seems like the view is not updating, will fix it for the next release. \ud83d\udc4d \n\nshould i run npm run build before pushing?\n\nI'll do it before pushing the release so don't worry. \ud83d\udc4d . @aryeharmon would be awesome to see your work as a plugin :)\n@rgcarrasqueira #88 the Link Block was made for this purpose. Sorry @rgcarrasqueira but I think the #88 explains pretty much well the same situation. You can't attach links on the Image Component but there is 'Link Block'. \nWithout the link block, you should probably create a new component type, best as a plugin . Hi @rubendsc at the moment I don't plan support any i18n module and you can check #26 why. See grapesjs as a template builder, not just as a page, so changing the title is out of the scope. What you can actually do, for instance, is printing/storing something before/after the final HTML (as I do in grapesjs-plugin-export). \nGA actually could be a custom component. Yeah it's how the Style Manager supposed to work, all the styles are applied to the selected component, not the text. \nThe native text editor is pretty simple and I didn't try with more complex cases but you might try to add another button to it which creates the component, just like the link.\njs\nvar editor  = grapesjs.init({\n  ...\n  rte: {\n        commands  : [{\n          command: 'bold',\n          title: 'Bold',\n          class: 'fa fa-bold',\n        },{\n          command: 'italic',\n          title: 'Italic',\n          class: 'fa fa-italic',\n        },{\n          command: 'underline',\n          title: 'Underline',\n          class: 'fa fa-underline',\n         },{\n          command: 'strikethrough',\n          title: 'Strikethrough',\n          class: 'fa fa-strikethrough',\n          group: 'format'\n        },{\n          command: 'insertHTML',\n          title: 'Insert element',\n          class: 'fa fa-bold',\n          args: '<b style=\"color:red\">${content}</b>',\n         }],\n      },\n});\nAbout the CKeditor, maybe there is some option to set which removes that waste.\nThere is also a possibility to attach any other RTE (how-to) . @pournami17 well, it's possible, but I don't see it as a feature to add to the core, maybe more likely as a plugin. @davellanedam are you able to post some code? I'd like to see how you append the editor inside the modal. At the moment there are no groups in the Asset Manager, maybe in the future, I'll think to implement something more functional. In your case, what do you think about adding, for instance, a select which on change resets the collection by a selected value?. @danaketh thanks Dan, the combobox concept is exactly what I thought.\nAbout the upload I think it's exactly as you described, the uploader might send also the group ID. New Assets wiki explains how to achieve it :). thanks @aryeharmon can you provide an example of your issue?. thanks @aryeharmon got it and confirmed. @aryeharmon you might want this\njs\neditor.on('block:drag:stop', function(model){\n //...\n});. thanks @aryeharmon just realized I haven't provided an easy API method to select a component, will add it in the next release . @ErickUmanchuk the error is generating from here https://github.com/artf/grapesjs/blob/dev/src/parser/model/ParserHtml.js#L20-L31\nSeems like there is something wrong with some of your style attributes.\nCan you provide your HTML?. @ErickUmanchuk I've tried to paste your HTML content (using the demo, which uses the last version) but didn't encounter any issue with it. Are you sure posting the right HTML?. @ErickUmanchuk \ud83d\udc4d  thanks for letting me know. Hi @rgcarrasqueira, first of all, the <img> is an inline element, so if you want to center it with margin: 0 auto trick you have to apply first something like this display: block. \nAnyway you've already posted the solution:\nhtml\n<div style=\"text-align:center\"><img src=\"blabla\"></div>\njust apply text-align:center to the parent\n. Same like this I guess #158 but it was already fixed in the last version, try to update grapesjs. Well, usually variables inside newsletter templates are replaced by the server, but if you want to replace something before submitting it, you might want to create just come custom function\nhtml\n<div id=\"sbm\">Submit<div>\n<script>\n...\n$('sbm').on('click', function() {\n var finalHtml = editor.getHtml();\n finalHtml = finalHtml.replace('{{ VAR }}', 'value');\n $.ajax({\n  ...\n  data: {html: finalHtml}\n })\n})\n</script>. You're adding attributes instead of the content\njs\n// From\nvar comp1 = wrapperChildren.add(mjText.attributes);\n// To\nvar comp1 = wrapperChildren.add(mjText.content);. @aryeharmon I close it as already fixed by this https://github.com/artf/grapesjs/commit/562e0e039085df016cdc714dea88e47f047843ee. Hi @bungambohlah can you show me how you inject the script inside the canvas. Maybe this might help you https://github.com/artf/grapesjs/wiki/Components-&-JS#template-related. @bungambohlah you're loading an entire HTML document inside another, don't do it, it's wrong just by definition. Basically, this is what happening before the browser fixes it by itself\nhtml\n...\n</head>\n  <body>\n    <div id=\"gjs\" style=\"height:0px; overflow:hidden\">\n       <html> <!-- not good -->\n          <head>\n          ...\n             <!-- With this new jquery you're overriding the one already in and therefore breaks it -->\n             <script type=\"text/javascript\" src=\"//code.jquery.com/jquery-3.2.1.min.js\"></script>\n          ...\n    </div>\n    ...\n\ncan i initialize jQuery for the content directly from the element\n\nSure, this is what you see here\nhttps://github.com/artf/grapesjs/wiki/Components-&-JS#component-related. Nice workaround, about how to store templates properly I think I'll make a quick guide later. Hi @aryeharmon Can you provide the code of your custom component?. Long short story, it's due to stylable: false, like a workaround just use stylable: [] . Hi @phil1995 if you're talking about elements like input, textarea, select, etc. you have to drop them inside a Form component. This is how are implemented in grapesjs-plugin-forms, but you can extend them and change this behaviour if it's what you want. \nFor the warn issue try to update your Firefox. https://www.bountysource.com/issues/48502777-add-touch-support-bs-1000\nseems like @denim2x still working on this. Hi @Unsigno you should only interact with the dev branch, so fork from dev and make PR to dev. I didn't get further updates on the PR https://github.com/artf/grapesjs/pull/1042. Hi @ruiJorge what you're asking is probably a Designer mode (eg. like the Wix builder), it's already on the Roadmap but still in development. Hi @pournami17 if the component you want to style is the selected one you can get the correct model directly via\njs\n// The model could be a Component (no classes, so just inline style) or CssRule\n// Both of them implement Styleable interface\n// https://github.com/artf/grapesjs/blob/dev/src/domain_abstract/model/Styleable.js\nconst model = editor.getSelectedToStyle();\nmodel.setStyle({...});\nOr you can get the same for a particular component\njs\nconst model = editor.StyleManager.getModelToStyle(componentModel);\n.... Hi @aryeharmon <template> is a particular HTML5 tag which behaves in a different way https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template. Maybe something like this\njs\ndomc.addType('template', {\n      model: defaultModel.extend({}, {\n        isComponent: function(el) {\n          if (el.tagName == 'TEMPLATE') {\n            // as template.children will return an empty array the traverser\n            // will skip all nodes, therefore attach them as a string (they \n            // will be processed later)\n            return {type: 'template', components: el.innerHTML}\n          }\n        }\n      }),\n      view: defaultView.extend({\n        // '<template>' can't be shown so in canvas use another tag\n        tagName: 'div'\n      }),\n    });. @bungambohlah you can add a new class on the element (eg. btn-right) or just turn off all classes by clicking on their checkboxes, this will affect the style manager selection. Thanks for your requests @aryeharmon I already thought about tags selection in style manager but decided to avoid it as class-based only selection is much easier to understand for non-dev people. About CSS variables, are good for developers but in this kind of application I think it'll just make stuff more complex, I'd prefer instead something like theme changer which simply switches color values inside CSS rules (maybe as a plugin).. Hi @nguyenhiep2906 grapesjs has no concept of pages, but definitely could be added via plugin. Will add this to the Roadmap. thanks @nguyenhiep2906 it'd be awesome. Sure you can. I used an import only inside demos so I guess you're using some of those presets, in that case just add type=\"button\" to the button. sure, this one https://github.com/artf/grapesjs/wiki/API-Editor#setcomponents. There is already an issue about the undo #64 but exactly what do you mean does not work very well? Can you provide any use case? \nGrapesjs doesn't imply any standard, it's all about users of your application domain, you can set it just as a bootstrap template builder if you want. For all updates about undo issues check #64. @Geczy sure, you can create new component types, where in view you put whatever you want as a placeholder and in model, you might want override the toHTML and return some kind of variable to replace later\n```js\ncomps.addType('placeholder', {\n  model: ...\n        toHTML() {\n          return 'VAR-TO-REPLACE';\n        }\n        ...\n  view: ...\n      render() {\n       this.el.innerHTML = 'placeholder content...';\n       return this;\n      }\n}),\n});\n. @Geczy glad you've solved, but would like to point out that `isComponent` defined like this will break stuff in importing.\n`isComponent` is used by the editor to recognize HTML elements and attach the appropriate type. When you define a new Component Type, this one is added on top of the **type stack** and on any new HTML element, this stack is iterated from the top so with your `isComponent` everything will be of `orderSnippet` type.. Because when you click inside that embed box you're interacting with .swf object and it doesn't propagate click events, so you have to ignore it somehow. I suggest to wrap it and turn off its pointer eventsjs\ncontent: '< embed ... style=\"pointer-events: none\" >'\n. The `/` was intended for `OR` if you use yarn (faster) is `yarn add grapesjs` otherwise `npm i grapesjs` :). You might want to check out how to create custom [Blocks](https://github.com/artf/grapesjs/wiki/Blocks) . Sure @tranbaduyuy check out [Components](https://github.com/artf/grapesjs/wiki/Components) and [Components-&-JS](https://github.com/artf/grapesjs/wiki/Components-&-JS) to get more about how to create a custom component like a slider. Should be something like thisjs\nvar comps = editor.DomComponents;\n...\n// As explained in docs, you can add a new component type or even using the script key via Blocks\ncomps.addType('slider', {\n  model: defaultModel.extend({\n    defaults: ... {\n      ...\n      script: function () {\n         // here you put your init slider function\n      }\n    }\n  }, {\n    isComponent:...\n  }),\n view: ...\n});\n. @nhanlego1 what are you talking about?\njust put the `<link>` with an external CSS in your template. Which version of grapesjs are you using?\nDoes it happen on init or after loading a stored template?. I've not yet documented how correctly to store/load templates and the default configuration of the Storage Manager it's not helping at all (will make a change for the next release)...\nIf you disable the storagejs\ngrapesjs.init({\n     ...\n     storageManager: {\n          autoload: 0,\n     }\n});\ndoes everything work as expected?. `editor.setComponents(localStorage.getItem('gjs-html'))` this is what I was trying to prevent you by disabling storage manager \ud83d\ude02\nYou should load stuff not from the HTML but from the JSON structure (which contains all the data about your models). Try to set the storage manager like this (clear your actual data with `localStorage.clear()`)js\n...\nstorageManager: {\n          ...\n          //Enable/Disable storing components model (JSON format)\n          storeComponents: 1,\n      //Enable/Disable storing styles model (JSON format)\n      storeStyles: 1,\n      ...\n\n}\n.js\nconst editor = window.grapesjs.init({\n        storeComponents: 1,\n        storeStyles: 1,\n        autorender: false,\n        container: \"#gjs\",\n        plugins: [\"gjs-preset-newsletter\"]\n      });\n```\njs\nconst editor = window.grapesjs.init({\n        storageManager: {\n          storeComponents: 1,\n          storeStyles: 1,\n        },\n        autorender: false,\n        container: \"#gjs\",\n        plugins: [\"gjs-preset-newsletter\"]\n      });. great, I close this then. Basically, your content inserted with innerHTML has no model attached and this way the editor is not able to \"see it\" (and this is correct because you want a placeholder) but it's also blocking from selecting its parents. In this case, I suggest to do this:\njs\nthis.el.innerHTML = `<div style=\"pointer-events: none\">${placeholderImage(a.name)}</div>`;. Thanks @Fi1osof got also the notice from Travis \ud83d\ude01. Hi @bungambohlah I'm glad you like it and don't worry about your english, it's always good :)\nAnyway, when you inject stuff via canvas config (JS or CSS) it means that you have to add them manually later in your final page.\neg. editor.js\njs\nvar editor  = grapesjs.init({\n...\n  canvas: {\n    scripts: ['...script1.js', '...script2.js']\n    styles: ['...style1.css', '...style2.css'],\n   },\n...\neg. final-page.html\n```html\n\n\n\n\n{{ HTML FROM GRAPESJS }}\n. the snippet provided by @ahmeddabak is correct (`src/grapesjs/dom_components/model/Component.js` actually is the best place to see all available properties \ud83d\ude04 ) but would like also to add that you can attach those properties via blocks as well by using `data-gjs-{property name}` attributesjs\neditor.BlockManager.add('the-row-block', {\n  label: '2 Columns',\n  content: '' +\n      '' +\n      '' +\n    '',\n});\n. Actually, I didn't plan to document too much about utils as are more for internal use, but what exactly do you mean with the sorter height?. Great overview @ahmeddabak \ud83d\udc4d. Here an example codejs\nconst model = editor.getSelected();\n// using the Model\nconst classCollection = model.get('classes');\nif (classCollection.where({name: 'your-class'}).length) {\n     // has 'your-class'\n}\n// using the View\nif (model.view.$el.hasClass('your-class')) {\n     // has 'your-class'\n}\n```. @sakshigarg9 this is how I add the pencil button, to all images, via the image editor plugin\nhttps://github.com/artf/grapesjs-tui-image-editor/blob/e76e65cb9c4ecbb66c96207d79a266b88f1e4b4c/src/index.js#L121-L137. Hi @darves I'm actually trying to reproduce it (using the current demo) but unable, maybe I got it wrong\n\n. Seems like I haven't the right permission to see the video.\nAnyway, just tried with no storage active and it the same from my side. Are you working with the current demo? Did you also face the issue with the webpage one?. yeah Darko, thanks to the screencast I got it and was able to reproduce, but only within the newsletter preset which is bit strange... will ping you back when it's fixed\n. @fzs1994 will fix it for the next release. I don't think I understand properly what you say... but maybe this is what you're looking for:\njs\nvar finalHtml = editor.getHtml(); \nfinalHtml = finalHtml.replace(\"test\", \"caca\"); \neditor.setComponents(finalHtml). strangely on my side, everything works fine even when apparently shouldn't \njs\nexternals: {jquery: 'dasjkdhas'}, // jquery \"correctly\" unbundled\n//...\nexternals: {stuff: 'dasjkdhas'}, // no errors, but at least jquery is bundled\nI think this should work fine for everyone\njs\nexternals: ['jquery'],\nwill update on the next release. Have to rectify, with externals: ['jquery'], once it's bundled, it doesn't work as expected and spectrum throws errors about missing jQuery (?!? wtf). What I've discovered is that the bundled file was loading as an amd module instead as a root and as jquery might be loaded differently  ($, jQuery, require('jquery')...)  this causes a mess with some dependency.\nSeems like the correct way is:\njs\nexternals: {\n    jquery: {\n      commonjs: 'jquery',\n      amd: 'jquery',\n      root: 'jQuery'\n    }\n  },\nwill try also to update the webpack. as @ahmeddabak already said https://github.com/artf/grapesjs/tree/dev/src is where all the source in (https://github.com/artf/grapesjs/blob/dev/src/grapesjs/index.js is the starting point). thanks for the help @ahmeddabak really appreciate\nAnyway @marwa1994 I'd recommend to check out Components-&-JS which deeply explains how to deal with custom components containing javascript. Close this as many of you give already good examples, thanks . At the moment I just don't support them, for now, you can load them staticly inside the editor\njs\ngrapesjs.init({\n    canvas: {\n            styles: ['https://...style.css'],\n    }\n}). For the Panel, I'd just add the content once the editor is loaded\njs\nconst content = document.querySelector('#your-content');\neditor.on('load', () => {\n     document.querySelector('.your-custom-panel'). appendChild(content);\n})\nCheck out #174 to see how to setup commands on drop\n. Just add whatever content/input/button you want.... html\n<div id=\"your-content\">\n     Input: <input/>\n     ...\n     <button>Button</button> \n      <!-- eg. bind a click event on button and do something with GrapesJS API -->\n</div>\njs\nconst content = document.querySelector('#your-content');. You can place it in index. You have to append it\njs\nconst content = document.querySelector('#your-content');\neditor.on('load', () => {\n     document.querySelector('.your-custom-panel'). appendChild(content);\n}). What does confuse you @bungambohlah ?\nYou can add data-gjs-{property name} on any HTML element you want and therefore limit where stuff could be dropped. Sorry @bungambohlah but I don't think I get where is your problem, do you have an issue with selecting the ul or copying it?\n\nOr any other option like boolean true/false for example data-gjs-{property boolean} ?\n\nyeah, you can use boolean types, eg. <div data-gjs-droppable=\"false\">. Hey @bungambohlah in the latest versions there is a new toolbar button which allows you to select parents easily\n\n. ok but, isn't the same as import grapesjs from 'grapesjs'?. try to check this one #273 :). Hi @g41n honestly, I've done some refactoring work on Assets so some bug might appear, but testing your snippet in the demo (editor var is exposed to window globally so you can play with APIs) I can't reproduce it.\nBy the way, in the last release, I've introduced new \"official\" events for Assets\n\nasset:add - New asset added\nasset:remove - Asset removed\nasset:upload:start - Before the upload is started\nasset:upload:end - After the upload is ended\nasset:upload:error - On any error in upload, passes the error as an argument\nasset:upload:response - On upload response, passes the result as an argument\n\nLet me know. >  Every time I run that code I have a new item in grapesjs.editors array and that seems not so good to me.\nWhy do you care about grapesjs.editors? It just contains the initialized editor, nothing more.\nYour configuration seems good, so can you explain more about the issue with the uploader, because I'm not able to reproduce it. The ajax is not firing?!? you're not able to select files?!?\n. Amazing, thanks \ud83d\udc4d. thanks @A---- absolutely a must-have option, don't know why I haven't done this before :D\n. wtf @suchithmahadi stop posting here, your problem it's not related with this PR.... @A---- no problem thanks to you, by the way, don't run npm run build for PRs as you get useless conflicts with minified files \ud83d\ude2c. > Also I needed a compiled version for tests\nYou can run npm test for tests\nThe problem is not with v:patch but with the building itself, you may need to build because you need your custom minified GrapesJS but for PRs I think it's just not necessary. Maybe I should just add Don't build for PRs?!?  \ud83e\udd14. ok... read this Components-&-JS and then let me know what is not working. @suchithmahadi take this as example for binding Traits with js variables/configs\nhttps://github.com/artf/grapesjs-component-countdown/blob/master/src/components.js. Hi @pirmax by default GrapesJS don't inline styles but you might want to check how I made it in the newsletter preset\nhttps://github.com/artf/grapesjs-preset-newsletter/blob/master/src/openExportCommand.js. To understand what to do with the model you have to read this Components, I've just put dots because I supposed you've already read that part. About doStuff it's just up to you\njs\ndoStuff() {\n    // Open the modal\n    const modal = this.em.get('Model');\n     modal.setTitle('Title');\n     modal.setContent('Your content');\n     modal.open();\n}. @selwynshen you can pass HTMLElements to setContent if you want\njs\nconst btn = document.createElement('button');\nbtn.innerHTML = 'Test';\nbtn.onclick = () => {\n    alert('Do stuff');\n    // ...\n};\neditor.Modal.setTitle('Title').setContent(btn).open();. You might want to add a text block with custom text inside\njs\neditor.BlockManager.add('text-block-plh', {\n    label: 'Text',\n    attributes: {class:'gjs-fonts gjs-f-text'},\n    content: {\n              type:'text',\n              content:'Insert your text here',\n              style: {padding: '10px' },\n              activeOnRender: 1\n     },\n}). Then I don't get what do you mean with a placeholder, maybe something like this #252 . Hi @vladflorescu94 thanks for the PR but can I ask you to provide an example code (or template) with which I can see the problem, thanks. ping @vladflorescu94 . The canvas/preview is located in its own iframe so it doesn't see any of your document styles/scripts. You can inject your styles via canvas option and load them later in your final page/template (check also #262 to get more about it)\njs\nconst editor = grapesjs.init({\n     ...\n     canvas: {\n            styles: ['https://...style', 'https://...font'],\n          },\n})\nor you can just put the <link> tag inside your template and it will be loaded\n```html\n\n \nContent\n\n\nconst editor = grapesjs.init({\n     container : '#gjs',\n     fromElement: true,\n})\n\n``. Are you sure your server outputs a correct and valid JSON? Can you show me the response of your ajax requests?. any update @matiponce91?. Can you provide an example of your templates?.enableEditingis attached to to the view and you can get its instance from the model, so select the component and run this in consoleeditor.getSelected().view.enableEditing()`. > I've tried it but nothing happens when I call it. Not even an error occurs.\nweird... I just tried it in the demo and it works, are you sure you have selected an editable component?\n\nGitHub tip: https://guides.github.com/features/mastering-markdown/ use triple backquotes (and name of the language for colors) if you want the formatted code. which button? how do you call the command tlb-edit?. Try to add some debug inside the command (eg. debugger;/console.log) and call it via the editor to see if it's actually there\njs\neditor.runCommand('tlb-edit');\nps: is there a reason of why you're editing the source file?. maybe there is some event overlapping between the click and focus, try to call it in this way\njs\n...\nsetTimeout(() => editor.getSelected().view.enableEditing(), 0). Did you tried with editor.on('storage:load', res => {...})?. Yeah, probably because I put all events in API Editor under Available Events :)\nTo be sure to have an updated list of events check the source\nhttps://github.com/artf/grapesjs/blob/dev/src/editor/index.js#L34. You're extending the default model and placing INSIDE the content of the table but the wrapper it's still a div component, so it's a correct behavior. You might want to do this:\njs\nmodel: defaultModel.extend({\n        defaults: Object.assign({}, defaultModel.prototype.defaults, {\n            tagName: 'table', // <- change the container tagname\n            attributes: {\n               cellpadding: 0,\n               ...\n            },\n            content: `<tr>...</tr>`\n        }),\n    }),\n\nCan we edit direct the code in the export code modal\n\nYes, but you have to create a custom command which shows the exported HTML in a modal and let you import it back, check how I've done the importer in newsletter preset\nhttps://github.com/artf/grapesjs-preset-newsletter/blob/master/src/openImportCommand.js\n. For CSS you have to check here https://github.com/artf/grapesjs/wiki/API-Css-Composer\nIf you want to clear all CSS: editor.CssComposer.getAll().reset()\nAdding rules via CssComposer it's a little bit harder so I'd suggest just editor.addComponents('<style>...</style>') / editor.setStyle('.cls{color: red}');\nYou can get the CSS string with editor.getCss() and its structure with editor.getStyle() (all rules)\nFor the asset manager please check here https://github.com/artf/grapesjs/wiki/Assets. haha please do it, it'd be awesome \ud83d\ude01. Sorry @pournami17 but the toolbar position is fixed at the moment and I haven't planned any support to make it variable. Which version of grapesjs do you use? It's happening only with column blocks? Are you able to see the green dragging helper?\nNot sure, but try also with another version of jquery (eg. https://code.jquery.com/jquery-3.2.1.min.js). I was thinking if it might be an issue with styles, can you check in Layers (or even via inspector) if components are actually added to the structure. What about other blocks?. On my side dropzone works fine, are you able to provide some code to reproduce?\nAbout JSZip, there is an example on their README which explains how to do it\njs\nvar img = zip.folder(\"images\");\nimg.file(\"smile.gif\", imgData, {base64: true});\nif you don't know how to fetch image data check here https://stackoverflow.com/questions/6150289/how-to-convert-image-into-base64-string-using-javascript. Which version of grapesjs do you use?. First of all, update to the latest version and then assetManager.upload should an url to your uploading script. At the moment it's not possible if not extending the built-in TextComponent with your custom one. Probably due to @keyframes (or some other CSS instance with node.cssRules property), if it is the case, please close this issue and subscribe here #276  . any update Thiago?. Amazing feature, thanks mate. I'll check it, thanks. This should be fixed after the assets refactoring, if not, let me know. Yeap\n```js\ngrapesjs.init({\n     assetManager: {\n         ....\n           // Custom headers to pass with the upload request\n          headers: {},\n      // Custom parameters to pass with the upload request\n      params: {},\n }\n\n})\n``. Hi @ahmeddabak from [v0.9.32](https://github.com/artf/grapesjs/releases/tag/v0.9.32) I've switchedhiddenLayertolayerable`\nThere is no body type but you can actually update the wrapper via API\njs\neditor.DomComponents.getWrapper().set({\n  droppable: false,\n  removable: false,\n  draggable : false,\n  badgable : false,\n  highlightable : false,\n  copyable : false,\n  resizable : false,\n  editable : false,\n});. Hi @broncha you can update Component properties by using data-gjs-* attributes, so, for example, in your case you might want to add this to your child components\nhtml\n<div data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-copyable=\"false\" ...></div>\n... . Still didn't get which is your final goal but you can append your children as a static content, eg.\njs\nblockManager.add('some-block', {\n    ...\n    content: {\n        type: 'your-custom-type',\n        ...\n        // This will parse, create and append models to the structure\n        components: '<div...>...',\n        // This will just add the content as a plain HTML, no models (therefore you can't select them)\n        //  here you don't need model attributes\n        content: '<div ..',\n    }\n})\nbut take into account that those elements, added via content, are not selectable but are may still blocking the pointer from selecting the parent, the solution is to add pointer-events: none to the container of your children \njs\neditor.DomComponents.addType('your-custom-type', {\n     ...\n     view: ... {\n          ...\n          render() {\n            // ... call the parent render and other stuff\n            // Make your content wrapped inside some container so it will be the firstChild\n            this.el.firstChild.style.pointerEvents = 'none';\n           }\n    }\n}). @broncha if you use content you don't need any of those data attributes. You can get components via DomComponents\u00a0 module\n```js\nconst dc = editor.domComponents;\nconst wrapper = dc.getWrapper();\n// Iterate children\nwrapper.get('components').each(component => {\n     const traits = component.get('traits'); // trait collection\n     traits.each(trait => ...);\n// go deeper\ncomponent.get('components').each(....)\n\n})\n``. Do you mean like the one you see in style manager (eg. box-shadow)?. at the moment it's not possible, but you can create your own [Trait](https://github.com/artf/grapesjs/wiki/Traits). 1. Can't do much with the CSS, this is what is generated from the browser, I've already added to Roadmap the integration with some custom CSS parser.\n2. Check here to see how to create a command which opens a Modal https://github.com/artf/grapesjs/blob/dev/src/commands/view/OpenAssets.js\n3. https://github.com/prettier/prettier. Check out [Components](https://github.com/artf/grapesjs/wiki/Components) and [Components-&-JS](https://github.com/artf/grapesjs/wiki/Components-&-JS). Hi Paolo, unfortunately, multiple selections are not supported and not even planned, but I agree that it could be a really good feature. Honestly, I've already thought about this but was a little bit concerned about few points: \n* Being a class-based editor, how styles, applied via style manager, have to be applied (each component could have multiple classes)\n* Assuming I'd also like to select multiple components withshift` key (like generally happens), how does this should work if those components are in two different parents. Thanks Paolo for your considerations, really appreciate. About the styling, I'd rather consider the intersection of classes instead of properties (as the editor is class-based), so you can style only components which have at least one class in common, does it make sense?\nCan you tell me more about how do you see the integration with web components?. The first version of multiple selection is available from https://github.com/artf/grapesjs/releases/tag/v0.14.20. Provide an example because I'm not able to reproduce it. Tried this in the demo:\nhtml\n<div>Hello world!</div>\n<div>\n  <a href=\"https://google.com\">\n    <img class=\"img-phone\" src=\"./img/phone-app.png\"/>\n  </a>\n</div>\neverything works as expected. Hi @blackbirdzzz in your code you're missing the isComponent method and this creates mess with all other components, check out better this part Components#manage-components\nAbout your other issue, it's not a bug but an expected behavior, when you call editor.getHtml() you get the HTML and the inline CSS is isolated with IDs <a class=\"cta\" id=\"c694\" <-- so if yo reimport everytime all the HTML take also the CSS \njs\nvar finalHtml = `${editor.getHtml()}<style>${editor.getCss()}</style>`;. isComponent is used as a recognizer and it strictly depends on how you gonna import your components.  In your case, you add a component just with this\njs\n// inside your block\ncontent: {\n        type: 'product1',\n         ....\n      },\nand in this case, you don't even need the isComponent cause you already saying its type but you have to add the method anyway as a new Component is added on top of the stack, you might just want to place something like this\njs\nisComponent: function (el)  {\n            if(el.getAttribute && el.getAttribute('data-gjs-type') == 'product1')\n              return {type: 'product1'};\n          },\nthis will also make the editor understand your custom type with strings like this <div data-gjs-type=\"product1\"></div> . Don't get which is the issue with defaultType?\nAbout the class creation, try this:\njs\ngrapesjs.init({\n     ...\n     forceClass: false,\n}). @blackbirdzzz I still don't see isComponent in your code. Have you tried already the one from https://github.com/artf/grapesjs/issues/313#issuecomment-330529145 ?. @blackbirdzzz, show me the code WITH isComponent. No @blackbirdzzz, please read more carefully about how to apply isComponent https://github.com/artf/grapesjs/wiki/Components#define-new-component. well, there is an example actually\njs\nmodel: defaultModel.extend({\n        defaults: ...      // your stuff\n    },{ // second object\n        isComponent: ...\n    }),\nview: .... What do you mean with editing? Editing text or like moving around/removing a component?. You might want to update your component types (Components#update-component-type)[https://github.com/artf/grapesjs/wiki/Components#update-component-type], specifically, updating the default one you will cover most of them. Sure, editor.getSelected().view.el. @daniel-farina \ud83d\udc4d . Hi Dan, when you add a block you can indicate the category and its state if you want\njs\neditor.BlockManager.add('block-id', {\n    ...\n    label: 'Lable content',\n    category: {\n        id: 'some-cat', \n        label: 'Some cat', \n        open: true\n    }\n})\nIf you want to close all block categories opened by default just add this\njs\neditor.BlockManager.getCategories().each(ctg => ctg.set('open', false)). you can listen to changes with this (not only on selected elements)\njs\neditor.on('component:update:content', model => {\n  console.log('New content', model.get('content'));\n  // do your stuff...\n}). I don't trigger any event on keyup so, at the moment, binding on iframe is the only way to do.\nAbout refreshing the page, maybe you want to define your custom onbeforeunload function?!?\njs\nwindow.onbeforeunload = e => {\n     const comp = editor.getSelected();\n     comp.view.disableEditing && comp.view.disableEditing();\n     editor.store();\n     return 1;\n};\n. no @vmourya it's not good at all, try to add a new component and your code will not work.\nkeyup it's a bubbling event you don't have to add it on ALL elements and if you use GrapesJS API it's even much easier\n```js\nvar timer;\n...\nrun: function(editor) {\n    editor.Canvas.getBody().addEventListener('keyup', e => {\n        timer && clearTimeout(timer);\n        timer = setTimeout(() => {\n             const comp = editor.getSelected();\n         // Store the current state of the focused text element\n         if (comp.get('type') == 'text') {\n           comp.set('content', comp.view.el.innerHTML);\n         }\n\n         // If you've configured the remote storage you can just call\n         editor.store();\n    }, 1000);\n});\n ...\n\n}\n```\nps: avoid this as hell frameBody.querySelector(\"#wrapper\").innerHTML. Hi Dan, this is happening because content should only contain stuff you'd like to edit via the text editor (like a raw text), if you want actually to add other components you can use components key\njs\neditor.addComponents({\n    type: 'text',\n    components: block.attributes.content,\n});. Thanks Dan, really appreciate your kind words :). You should be able to put them directly within a Block\njs\neditor.BlockManager.add('svg-block', {\n    label:'SVG BLOCK', \n    content:`<svg ...>...</svg>`\n}). Yeah, you should be able to do so by using a new Component Type or even directly within a block as explained in Components&JS. what do you mean with regions? And what headers are you talking about?. Thanks @ArtDesignCreativeStudio this should work. I'll update the escaping function. https://github.com/artf/grapesjs/blob/dev/src/selector_manager/model/Selector.js#L65\nfrom /([^a-z0-9\\w]+)/gi\nto /([^a-z0-9\\w-]+)/gi. If you're talking about divs generated in text editing mode, by using the built-in RTE, this is just how the browser handles it (probably chrome in your case). You might want to try grapesjs-plugin-ckeditor. What you're asking will be achievable with Designer mode and it's already on Roadmap. @Sibbir7350 nope. Unfortunately, it's taking more than I expected, especially with regressions and some issue with spectrum (which is a JQuery plugin), by the way, it's almost done just need to refactor few other modules and then I'll release the rc, here is the branch\nhttps://github.com/artf/grapesjs/tree/no-jquery. thanks @arthuralmeidap I'd really appreciate any feedback when I'll publish a new release. Hi guys, I've just published the first RC (npm install grapesjs@v0.11.3-rc) which you can try online here http://grapesjs.com/demo-no-jq.html\nFew notes about this update:\nYou don't need jQuery anymore but you can still use some of its API, which is possible thanks to the integration of https://github.com/kenwheeler/cash (An absurdly small jQuery alternative for modern browsers - 3.71 kb). With this approach, I break less stuff and still leave the possibility to manage the DOM easily (view.$el.find(...))\nAny feedback is highly welcomed thk. Hi @Geczy if the demo seems ok for you (or for anyone) I'll release it officially the next week. @arthuralmeidap everything done until the latest release will be merged into this branch (plan to do it today \ud83d\ude2c). Ok it's out https://github.com/artf/grapesjs/releases/tag/v0.12.5 \ud83c\udf89\nAll demos are updated too. oops! forgot to remove it, will update soon. @Geczy npm updated. thanks Dan. Can you elaborate exactly where is your problem and what do you expect?\nIf you expect an output like this <div style=\"...\">text</div>, at the moment, it's not possible as the editor will always put the style outside of HTML, so the result will be <div id=\"c123\">text</div> where c123 is pushed in CSS. the export used in newsletter it's just another command, with the built-in one it's not possible.\nThe cell is not an editable element, so you can create a new one or just wrap the text with another tag\n. Can you elaborate better your statement, please. The demo just uses a website preset\nhttps://github.com/artf/grapesjs/blob/gh-pages/js/grapesjs-preset-webpage.js. Unfortunately, can't help you here (never used NetlifyCMS), if it's as you said I think there is no other way if not to ask a direct integration by NetlifyCMS team. Can you tell me exactly which are your questions about external styles/js libraries? I've added something here Components-&-JS but maybe not too much in details. Ah ok got it, would be great to use some tool which does this work automatically (eg. documentationjs) and then wrap it in something like docsify. I close this as https://grapesjs.com/docs/ is actually online. Hi @ArtDesignCreativeStudio honestly, I didn't spend too much time on this, even because I was thinking to replace the built-in RTE with something more stable (eg. pell)  but if you want it anyway check for example this #226 or directly the source of the module. Does this solve the issue?\njs\ndocument.querySelector('.cke_dialog').addEventListener('mousedown', function(e){ \n    e.stopPropagation();\n}). All components are editable by default, you can change their properties with data-gjs-* attributes\nhtml\n<header data-gjs-editable=\"false\" data-gjs-removable=\"false\" ...>...</header>\nTo get more about components check here. Probably the easiest way is to update all components\njs\nconst updateComp = (component) => {\n    if (/* is not editable */) {\n        component.set({\n            removable: false,\n                ...\n            })\n    }\n    component.get('components').each(c => updateComp(c))\n}\neditor.domComponents.getComponents().each(c => updateComp(c)). Duplicate of #214 . Check here for an example #324 . For an example on how to configure the Remote Storage, check here #122 Hope to post soon some wiki about it. @mekamleshk your code should work, where is the problem?. > Not receiving data in POST\nWell, might be just a problem with your server script, so it's not helping. Check what it's sending in devtools. @mekamleshk please use for posting formatted code, anyway I don't understand where is your problem.... Are you able to see the ajax call in inspector? \nHave you tried to add storage listeners?js\neditor.on('storage:load', function(e) {\n      console.log('Loaded ', e);\n})\neditor.on('storage:store', function(e) {\n      console.log('Stored ', e);\n})\n. @shareefhiasat read this https://github.com/artf/grapesjs/wiki/Storage. This was already fixed (#271). Are you sure you're using the latest version?. @aryeharmon any update?. Hi @FlashPapa I think this is where the issue coming from\nhttps://github.com/artf/grapesjs/blob/dev/src/parser/model/ParserHtml.js#L136-L139\nactually, all this part is a bit odd and need to be revisited, I'd appreciate any help\n. @MichaelKlemersson honestly I'm not even sure if it's necessary anymore, have to find time to test it. \nIf I remember well, the main issue was to make the editor understand if the element should be a 'text component' (all content goes to `model.content`) or just a 'standard component' (with children inside `model.components`). @Geczy the problem it's not with the HTML parser but just how the result is transformed (probably not correctly in this case). Obviously, failed tests should be updated. Should be fixed https://github.com/artf/grapesjs/releases/tag/v0.12.50. Hi @blackbirdzzz I just styled it with CSS, eg.css\n.gjs-mdl-dialog {\n min-width: 1000px;\n ....\n}\n.gjs-am-assets {\n  height: 500px;\n}\n. Here https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/Component.js\nI'm removing the `style` key from `getAttrToHTML()` and adding the `id=\"...\"` in `toHTML()`. `model.getStyle()`. This should workjs\nvar index = 1;\neditor.getComponents().add('Text', {at: index});\n``.modal is not a function` seems like you just didn't add the js library of materializecss\n\ncan i customize DOM element from your source? or is there any other way?\n\nYou can do it but then you have probably to update the source at any new update, so you should always extend the code with plugins. @cmcintosh for a custom storage you only have to indicate store and load functions, eg.\njs\nstorageManager.add('local2', {\n  load: function(keys){\n    var res = {};\n    for (var i = 0, len = keys.length; i < len; i++){\n      var v = localStorage.getItem(keys[i]);\n      if(v) res[keys[i]] = v;\n    }\n    return res;\n  },\n  store: function(data){\n    for(var key in data)\n      localStorage.setItem(key, data[key]);\n  }\n});\n...\nstorageManager.setCurrent('local2');. I'm not sure this is somehow related to GrapesJS but provide an example. Not sure about why you're loading another template from a load function, but how about just setting a new template by something like this\njs\nconst newHtml = fetch..\neditor.CssComposer.getAll().reset();\neditor.setComponents(newHtml);. @cmcintosh like this editor.setStyle('.cls{color: red}');?. As already mentioned by Chris you'll find everything in the src folder ;). Fixed and published a new release, thanks for the catch. Hi @Owchzzz \n- Which version of grapesjs? \n- Did you run npm i? \n- Why do you run the build? Did you make changes?. ping @Owchzzz. Hi Arthur and thanks for the contribution, by the way, I can't accept it as it's important that onLoad  triggers after plugins and the reason is just above in the comment\njs\n// Execute `onLoad` on modules once all plugins are initialized.\n// A plugin might have extended/added some custom type so this\n// is a good point to load stuff like components, css rules, etc.\nIf you want to fix 'default command overriding' I'd suggest you try to move onLoad() at the end of  init() (in https://github.com/artf/grapesjs/blob/dev/src/commands/index.js)\n. > Why can't the Command Module load the default commands on init?\nThis is exactly what I meant with If you want to fix 'default command overriding' I'd suggest you try to move onLoad() at the end of init() \ud83d\ude04 \n```js\ninit() {\n    ...\n    this.loadDefaultCommands(); // this is all the content from onLoad\n    return this; \n}\n// Remove onLoad\nonLoad() {\n    ...\n. Great \ud83d\udc4d , can you just bring `editor.getModel().loadOnStart();` under the plugin loader then I can merge. Thanks Arthur \u2764\ufe0f . Thanks @arthuralmeidap for a good overview.\n@manjunaras I'd just add that buttons inside default panels (that you can actually hide) are executing [built-in commands](https://github.com/artf/grapesjs/blob/dev/src/commands/index.js#L88), so, for example, if you want to open the modal with HTML code just use `runCommand`:js\neditor.runCommand('export-template')\n. Thanks @thecodefish good to know you were able to tweak GrapesJS and fit your needs \ud83d\udc4d . Hi @daniel-farina this is something might confuse a lot of people, especially when you see the `script` as a function. Everything inside `script` is completely out of the scope of GrapesJS, there is nothing to access (model/view/methods) all the transformations should be inside that `script`.  Let's just take as an example some new custom component with js, the editor will generate a code similar to this:html\n...\n Generated HTML \nYour component content...\n\n     ...\n     // Generated JS\n     var el = document.getElementById('c123');\n     el.updateScript() // &lt;-- This will obviously throw an error\n     // This is your final template with JS, there is no GrapesJS, no models/views\n\n```\nJust take a look on how I've made the script part in Countdown Component\nThere you can see a trick used to grab a property from the model.\njs\n...\nscript: function() {\n     // will be replaced by GrapesJS with `model.get('startfrom')`\n     var startfrom = '{[ startfrom ]}';\n     ...\nThis is the only way you can pass \"stuff\" \nI hope this helps. Amazing work @daniel-farina excited to see it done \ud83d\ude0d. Nope, but it's definitely something to add \ud83d\udc4d . This method was made to cover such a case: editor.StyleManager.setTarget. Confirmed, thanks for the catch. oops \ud83d\ude05  thanks @MichaelKlemersson will update the demo soon then. Hi guys try to check out this #286 . Great, I close this then. I'd avoid doing this with the block event listener, custom component is the way to go.\nYour doStuff is not working just because you didn't tell when to trigger it. You're missing this in your component view (components.js):\n```js\n...\nview: defaultView.extend({\n      events: {\n        'click': 'handleClick'\n      },\n init() { \n   // The 'active' is triggered by the 'activeOnRender' you've used inside your block\n   this.listenTo(this.model, 'active', this.doStuff);\n },\n\n doStuff() {...}\n ...\n\n. @telliott22js\nconst model = editor.getSelected();\nmodel.setAttributes({href: ...});\n...\n. Surejs\nmodel.get('components').each(child => console.log(child))\n. Not currently. At the moment, are added in the order of insertion, but one possible trick might be the use of flexbox. nothing to add, thanks @daniel-farina . WOW \ud83d\ude2e  thanks @daniel-farina this is huge, I really appreciate your words and really grateful for your support on Open Collective, this means a lot \u2764\ufe0f \u2764\ufe0f \u2764\ufe0f \nI'll open a Discord channel soon. Discord channel created :)\n[![Chat](https://img.shields.io/badge/chat-discord-7289da.svg)](https://discord.gg/QAbgGXq). I think it's legit you're not able to send if you comment `urlStore`js\ntype: 'remote',\nautosave: false,\n//urlStore: 'dragdrop/edit/id',\nurlLoad: 'dragdrop/edit/id',\ncontentTypeJson: true,\nand then fix your url strings\n`'dragdrop/edit/id' - > 'dragdrop/edit/' + id`. correct @ateshuseyin I just never configured it to work properly from source, indeed have to move few configurations from webpack to npm. Appreciate your help \ud83d\udc4d . Thanks @ateshuseyin \nI'm not a big fan of `../../` are ugly and don't even scale well, maybe we can use npm local modules?!?\neg.js\n\u201cdependencies\u201d: {\n     ...\n   \u201cgjs\u201d: \u201cfile:src\u201d,\n }\n. any update @ateshuseyin?. well, I think it's possible to create an alias for the `gjs` module in webpack config :). By reading this https://gist.github.com/branneman/8048520 seems like there are no solid solutions for this issue.... @tommedema webpack supports `require.main` but not `require.main.require`. @Piterden thanks for the suggestion but how exactly would you implement it with npm as there is no concept of aliases?. Well cool, but that warning basically discourages the main point of the PR, using grapesjs from source (usually inside other npm modules) :(. Hi @edwardjiawei, it doesn't work because the `command: 'tlb'` in `RichTextEditor.add` it's not GrapesJS's Command but the one from `execCommand`'s API (eg. 'fontSize', 'insertHTML', etc.) so currently, you can't attach custom behaviors to RTE.\nI close it because I don't plan to support the current RTE anymore, instead, I'll replace it with another one which will support also custom actions (added to Roadmap). CKEditor is too much big for being the built-in solution (but you can find it as a plugin if you want to use it) \nI'll probably go with https://github.com/jaredreich/pell this is all its code https://github.com/jaredreich/pell/blob/master/src/pell.js and this is all I need.js\ntypeof text === 'text' \n```\nLOL\nYeah I'd say it's definitely the reason behind the bug\nWould you like to PR it? :)\n. Merged, soon I'll publish a new release. @sonnylloyd actually the real issue is here\nhttps://github.com/artf/grapesjs/blob/dev/src/domain_abstract/ui/Input.js#L24-L27\nshould be instead:\njs\n  handleChange(e) {\n    e.stopPropagation();\n    this.model.set('value', this.getInputEl().value);\n    this.elementUpdated();\n  },\nI've already made this change in the latest RC, you can see it working here\nhttp://grapesjs.com/demo-no-jq.html. Should be fixed. This is how traits should work. When you update the value of the trait that change is reflected up to the component (example of input type in select component https://github.com/artf/grapesjs-plugin-forms/blob/master/src/components.js#L70-L78) . Well, yeah, you can create traits with changeProp, then add a listener on that property change (inside Component's model) which triggers the appropriate action. I think you're confusing blocks with components, read first about Blocks and Components. ok, what about editor.setComponents('<div>...</div>')?. @mekamleshk we're already talking about this here #368 there is no need to create another issue with the same content, thanks. Thanks @sonnylloyd . Just add this plugin https://github.com/artf/grapesjs-preset-newsletter. Check here about the uploader https://github.com/artf/grapesjs/issues/380. \n. yeah probably there is an issue with the Filestack's API, I'll check later. Updated the API key. duplicate of https://github.com/artf/grapesjs-preset-newsletter/issues/16. Hi @daniel-farina you don't see .c1019's background because your component has two classes so, by default, the Style Manager select the CSS rule where the selector is a combination of all its classes, in your case .col-8.c1019. If you want to see .c1019's styles you can just deselect .col-8\n\nYou can also avoid automatic class generation if you want\njs\ngrapesjs.init({\n     ...\n     forceClass: false\n}). Duplicate of https://github.com/artf/grapesjs-preset-newsletter/issues/17. Just put an SVG inside your template and the editor should be able to parse it. Hi @RuudH thanks for the suggestion, I hope to publish soon something more about this argument. For now, I can only suggest you check commands used for those panels (eg. OpenBlocks)\n. Well, there is always an option to use your custom ajax call where you might just add getHtml and getCss to your data. \nIf the use of editor.store() is necessary you can add/update params (which will be passed with any request) on RemoteStorage instance\njs\nconst RemoteStorage = editor.StorageManager.get('remote');\nRemoteStorage.set('params', {yourKey: 'yourValue'})\neditor.store();. You have to change selector states\njs\ngrapesjs.init({\n     ...\n    selectorManager: {\n        states: [\n              { name: 'hover', label: 'Hover' },\n              { name: 'nth-of-type(2n)', label: 'Even/Odd' },\n              { name: ':before', label: 'Before' }, \n              { name: ':after', label: 'After' }, \n          ],    \n    }\n}). Yeap, I should definitely remove font-awesome from the core. Hi @tomichal at the moment it's not possible but I think it's a good feature, so I'll add it to the Roadmap. Actually, you can add a listener on new selectors and add a prefix there\n```js\n    const prefix = 'myprefix-';\neditor.on('selector:add', selector => {\n    const name = selector.get('name');\n\n    if (selector.get('type') === editor.SelectorManager.Selector.TYPE_CLASS && \n        name.indexOf(prefix) !== 0) {\n        selector.set('name', prefix + name);\n    }\n});\n\n. You can access selectors from the modeljs\nmodel.get('classes').each(selector => selector.set('active', 0))\n```\nor for example, disable them all from its module\njs\neditor.SelectorManager.getAll().each(selector => selector.set('active', 0)). >1.  I am able to upload and load images into the asset manager.\nThe thing I am missing on is after uploading the image, it is not reflected immediately in the asset manager image list.\nHere is the problem\njs\nhandleAdd: '<?php base_url(); ?>/dragdropeditor/dragdrop/upload',\nIn https://github.com/artf/grapesjs/blob/dev/src/asset_manager/config/config.js I explain why you need it\njs\n// Handle the image url submit from the built-in 'Add image' form\n  // @example\n  // handleAdd: (textFromInput) => {\n  //   // some check...\n  //   editor.AssetManager.add(textFromInput);\n  // }\n  handleAdd: '',\nSo in your case, just remove it, you don't need it. You can hide Add image input with CSS if you want\n\n\nI want to show the preview button for newsletter as used for webpage templates\n\n\nI remove it here https://github.com/artf/grapesjs-preset-newsletter/blob/master/src/buttons.js#L36-L37 You can add it back. The Add button works exactly as expected, it shouldn't upload/download stuff. If you need custom behaviors add your UI\n\nWhy do I have to refresh the page every time.\nIs it possible to load the images directly after uploading\n\nI've already told you where is the problem... read my previous answer. Hi @daniel-farina this is a default behavior in WebKit browsers, here you can find current solutions\nhttps://stackoverflow.com/questions/18552336/prevent-contenteditable-adding-div-on-enter-chrome\nI actually started rewriting the current RTE and will take into account this issue. You'll find the answer here #358 . Have to add a listener for options change. I meant \"I have to add\" \ud83d\ude2c. Hi @vtista the purpose of this part is to load scripts before any other component as one of them might need them as a dependency. Basically, it's trying to simulate the <head> synchronous loading. I'd say the correct way to do so is to extend initToolbar() of the Component model and put there you logic. You can access the element from the model\njs\nconst selectedModel = editor.getSelected();\nconst elem = selectedModel.view.el.querySelector('#photostack-1');\nelem.style.display = 'none';. The upload endpoint should return a JSON, your seems to return an HTML. I close this @gasserol as it seems to be just a server-side issue. Good question. Didn't think too much about it, probably I'd say a more stable API, make the core dry as possible (less opinionated stuff) and probably have to complete some feature from the current Roadmap.. Actually it does\n\n. I'd say you have 2 options:\n1. Just deselect the class, in this case, the style manager scope will change to the component and not the rule\n2. Add a new class to the component, instead of .menu-item rule you will get .menu-item.your-new-class. Exactly, how would you expect this config setting to work? I mean, just ignore classes in Style Manager and apply always the style on the component?. thanks @thecodefish I'll try to figure out the best way to do so. Hi @thecodefish what do you think about this approach?\nhttps://codepen.io/artf/pen/jaaKvq\nYou will see there how to make selectors private (not stylable by the user) and the usage of the new avoidInlineStyle option which allows you to style components (not class selectors) without losing the responsivity and the use of states (eg. :hover). Hey @sura2k I think what you've described is basically the concept I've done here \nhttps://codepen.io/artf/pen/jaaKvq\nBy default, all \"factory classes\" are not visible so when you select the component \"Selected Item\" is what you get. In the demo, with the last line, I've basically disabled the possibility to add new classes but if you remove it the user is able to create its own classes.\nBy the way, I think your implementation could be made with a plugin (by making use of Selectors and CssComposer) so no need to have it inside the core. @sura2k unfortunately not everything is overridable (yet) . not sure but I think this some related to forceClass option (which is true by default)\nhttps://github.com/artf/grapesjs/blob/dev/src/dom_components/model/Components.js#L77\ntry to disable it . Hi @NicholasGati I think it might be an issue with data-gjs-stylable=\"false\" can you try to remove it from <ul> and <li> and check if it works. Are you able to reproduce it by using something like jsfiddle/codesandbox?. Hi @NicholasGati can I ask you to check if the latest release solves the issue?\nthk. ok thanks @NicholasGati, I close this for now as probably it was an issue with the sorter (should be fixed now). Thanks @thecodefish but this should already work because of this:\njs\nattributes() {\n   return this.model.get('attributes');\n},. Seems to work properly on my side, can I see your code example?. no problem :). Try to add this inside isComponent\njs\nreturn {\n     type: 'error',\n     components: el.innerHTML\n}\n. Ok I close then, but check Components to see how to add correctly new component types\n. You can set a listener on component update\njs\neditor.on('component:update', () => {\n     editor.runCommand('testCommand');\n})\nBe aware that with var styles = sel.get('style')  you get the style of the component and not what is selected in Style Manager (if the component has classes, the css rule will be selected). follow the issue posted by Kamlesh. No, but you can create a new Component by following this\nhttps://github.com/artf/grapesjs/wiki/Components and #286 . Seems to work fine on my side, provide a screencast of the issue, please. You should drop inputs/labels only inside form . https://github.com/artf/grapesjs/wiki. Hey Tim thanks for this PR, but I've just pushed the all-new RTE module \ud83d\ude02  but don't worry, it includes basically your same events, 'rte:enable' and 'rte:disable' (I pass the view instead of the model as the argument). @mekamleshk \n\nThe response from your php code should be like this :\n[{\"type\":\"image\",\"src\":\"localhost/test/img/wechat.jpg\",\"height\":\"350\",\"weight\":\"250\"}],\n\nNope, { data: [... is a correct format\n@vtista seems like the same as #372 which has been fixed. Are sure to use the latest version?. If you had problems with CORS you wouldn't be able to see the response. \nAnyway, try to add this listener and see what you get\njs\neditor.on('asset:upload:response', jsonRes => console.log('You should see a json: ', jsonRes))\nAre you sure you haven't disabled autoAdd in assetManager config?. @HarshOB Create your Component (or extend one) and add your toolbar buttons (as suggested by @ateshuseyin). @sakshigarg9 https://github.com/artf/grapesjs/issues/266#issuecomment-470329181\n. Ok, probably I have to set the Link Component not editable if children nodes are not texts.\nAt the moment, you have to set it explicitly\nhtml\n<a href=\"http://www.google.com\" data-gjs-editable=\"false\">\n    <img src=\"http://via.placeholder.com/350x150\">\n</a> . Read more about how components work\nYou have to add components via model (eg. model.get('components').add('<div>...</div>')) if you want them to be selectable (you can't select elements without models). Like you did, it's just a static content for the editor. Sorry @momu-smartcoach but before diving in grapesjs's code I'd recommend to start with something more basic, check some of these:\nhttps://github.com/mbeaudru/modern-js-cheatsheet\nhttps://github.com/getify/You-Dont-Know-JS\nhttps://docs.npmjs.com/getting-started/what-is-npm. No @edsonmartins you have to set them manually via configurations (more about it #26 ). Are you aware already of data-gjs-* attributes?\neg.\nhtml\n<div data-gjs-editable=\"false\" data-gjs-removable=\"false\" ...>\n... html inside ..\n</div>\n. Yeah, @MichaelKlemersson is right currently you have to set them manually on any element.\nAnother trick would be to update all children via model\njs\nconst updateAll = model => {\n    model.set({editable: false, ...});\n    model.get('components').each(model => updateAll(model));\n}\nupdateAll(component);\nBut what I think would be the best it's some kind of property which propagates (suggestions for a better term are welcome) properties from the parent to its children, eg.\n```html\n\n this will be not editable too and the same for its children \n...\n<!-- possibility to overwrite and 'break' the chain -->\n <div data-gjs-editable=\"true\" data-gjs-propagate=\"\"></div>\n\n\nwhat do you think?. thanks for the feedback guys, I'll put it on the Roadmap. An example you can use in the demo\n1. Select an element (eg. some section) \n2. Execute this in consolejs\neditor.getSelected().append(<div data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-propagate='[\"removable\", \"draggable\"]' style=\"color:blue\">\n  <div>Comp01</div>\n    <div>\n    <div>Comp11</div>\n    <div data-gjs-stop=\"1\" data-gjs-removable=\"true\" data-gjs-draggable=\"true\" data-gjs-propagate='[\"stop\"]' style=\"color:red\">\n      <div>Comp21</div>\n      <div>Comp22</div>\n    </div>\n    <div>\n      <div>Comp31</div>\n      <div>Comp32</div>\n    </div>\n  </div>\n  <div>Comp03</div>\n</div>)\n. @AustinTBiggs is already there\nbe careful because `['editable', ...]` is not a valid JSON (you have to use double quotes for keys), therefore `data-gjs-propagate='[\"editable\", ...]'`. @Jakobud what attributes are you talking about? By default, you don't edit attributes, indeed one would define a Trait for such a case. @Jakobud you should [define the Style Manager](https://grapesjs.com/docs/getting-started.html#style-manager) accordingly to your needs and then you can also restrict styleable properties on components via [`styleable`](https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/Component.js#L62). Currently, it's not so easy to achieve but definitely, it'd be cool to add and have some kind of API for this behaviour. Thanks for the suggestion. Hey @aryeharmon I just used this in the demo (try it by yourself in console)js\nvar domc = editor.DomComponents;\nvar defaultModel = domc.getType('default').model;\nvar defaultView = domc.getType('default').view;\ndomc.addType('template', {\n  model: defaultModel.extend({}, {\n    isComponent: function(el) {\n      if (el.tagName == 'TEMPLATE') {\n      console.log(el, el.innerHTML);\n        // as template.children will return an empty array the traverser\n        // will skip all nodes, therefore attach them as a string (they \n        // will be processed later)\n        return {type: 'template', components: el.innerHTML}\n      }\n    }\n  }),\n  view: defaultView.extend({\n    // '' can't be shown so in canvas use another tag\n    tagName: 'div'\n  }),\n});\n``\nand importingSOME TEXT` works just as expected.. This is a correct behaviour, indeed, I recommend registering new types inside plugins. https://github.com/artf/grapesjs/wiki/Components-&-JS. > I used this but this is not working\nProvide a live example (using services like jsfiddle/codesandbox) of what you've done so we can see what is not working. Sorry @umeshsingh131 but from what I see you didn't even check https://github.com/artf/grapesjs/wiki/Components-&-JS and your live example doesn't load grapesjs library so it can't start. ??? \nwe're already talking about this here and YOU even said that you were able to do so, so... what is the point of opening another issue?!?. Can you try with the latest version? (your RTE code is the old one). Hi @asvine-p\n\nI want to add a button in the block manager which can give a quick access to change the background of the body (without going to the component tree).\n\nOnce the editor is loaded you can add/remove stuff with JS (your button will be binded with some handler)\n\nFurthermore, how can I reorganize the commands buttons in the panel manager? (I want to change positons and delete some) -> I'm using the newsletter preset\n\nHere is an example from the newsletter preset how I change/remove buttons\nhttps://github.com/artf/grapesjs-preset-newsletter/blob/master/src/buttons.js#L36-L37\n\nI don't know if there is a way to resize the preset \"button\" block after changing its style. Or if I add a custom block \"button\", how can I make it resizable and add the href property to it?\n\nYou can't \"change\" (besides playing with paddings) its size because the built-in \"Button\" block is a link (inline element), but you can add your custom block and set, for example, in style \"display: block\" (or inline-block) this will allow editing it size\n. @asvine-p please open another issue if your problem is different from the original one. Hi @sonnylloyd I think the problem is that you're not reflecting correctly the icon property.\nTry with this\n```js\n...model\n// Try to leave inside the model only \"model-related\" stuff,\nupdateIcons() {\n        this.set('icon', this.get('iconslist'));\n},\n...view\ninit() {\n    this.listenTo(this.model, 'change:icon', this.updateIcon);\n}\nupdateIcon() {\n     const icon = this.model.get('icon');\n     this.el.innerHTML = <i data-js=\"icon\" class=\"fa ${icon}\"></i>;\n}\nrender() {\n     defaultView.prototype.render.apply(this);\n     this.updateIcon();\n     return this;\n}\n. @sonnylloyd check better my code, you've changed `init()` inside the model which was ok in your previous code. As you see,  under the `...model`, you only have to change the `updateIcons()`. \ud83d\udc4d  I close this then. No, there is no option to do so, but you can try to override the [`editor.DomComponets.store`](https://github.com/artf/grapesjs/blob/dev/src/dom_components/index.js) method and implement there your logic (try to understand how the current method works). just follow these instructions (the issue is with `node-sass` not `grapesjs` itself)\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the node-sass package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/install.js\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs node-sass\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls node-sass\n``. Hi @cindygao93 if you want to dig into the code you just have to check [/src](https://github.com/artf/grapesjs/tree/dev/src) folder. @z-vr we're already discussing about it here https://github.com/artf/grapesjs/pull/370. This is due to the browser's parser, I've already added the possibility to set a custom one to the [Roadmap](https://github.com/artf/grapesjs/issues/74). Awesome \ud83d\udc4d . One of the ideas ofurlLoadis too get only requested resources by usingkeys(eg.[\"html\", \"css\", ...]). Unfortunately, the fetch specs don't allow an 'easy' way to add query parameters (https://github.com/github/fetch/issues/256) so this is why I left it as it is \ud83d\ude2c\nSo before merging, I'd say we need to transform that array in a query string (eg.keys[]=val&key[]=val2)\n. What do you think about removingkeyscompletely? If anybody need to fetch one resource or more all you have to do is to updateurlLoadwith yourkeys` and logic.\nI don't even see the point of adding bodilessMethods check, grapesjs's fetch polyfill was made to fit its own needs, if someone will use it for other scenarios it's not my responsability to check their requests, moreover you're applying the same logic twice (in RemoteStorage.js and fetch.js) :)\nSo, if you just remove the keys, from the load method, I'm gonna merge it\n. Thanks @santiph \ud83d\udc4d . published. This happens because td component is not editable, so the easiest solution would be, as you already get it, to wrap it inside some other component. Otherwise, you should extend the TableCell. Weird, never got those issues, but if you see defaultTypes in components.js you're definitely working with an old version of grapesjs. ok then, let's focus on #440 first because I'm not gonna provide fixes for older versions. Do you get the same error with all of your blocks? Even with some official one?. Ok, I'd like to understand if it's something related to jquery. Are you able to reproduce it without the mjml plugin? (latest version). Can you reproduce it with http://codesandbox.io please?. Hi @santiph well, if the problem is onbeforeunload you can disable it with noticeOnUnload\njs\ngrapesjs.init({\n     ...\n     noticeOnUnload: false\n}). There is no other way if not to set it directly just after setComponents()\njs\neditor.setComponents('...');\n...\neditor.getModel().set('changesCount', 0);\nbut you said it's not working, can you share the command because I'm not able to reproduce. Ah ok. if I got it right this time, you mean update changesCount after the storage load, in this case, try with storage:end event\njs\neditor.on('storage:end', () => editor.getModel().set('changesCount', 0)). yeap, actually the storage:end is not enough, the editor sets its components once the storage process is ended editor. load. As a workaround, you have to override the function. \nI was thinking about adding this.set('changesCount', 0); just before the callback but not totally sure if it's a correct behaviour \ud83e\udd14\nps: if you call editor.load() manually, actually, this should work \neditor.load(() => editor.getModel().set('changesCount', 0))\n. > Btw, templates are being loaded through a Promise, and onResponse() is being called when resolved (triggering storage:response event, followed by storage:end). I think I've mimic the way RemoteStorage model behaves. Might that be affecting it somehow?\nI don't get how you're loading templates, can you give some example? . @santiph what I was asking is if editor.load() was triggered by you manually\nHave you tried to override editor.load?. > Within this load command, we're executing editor.load() manually, yes\nOk great, have you tried calling it with the load callback?\njs\neditor.load(() => {\n     editor.getModel().set('changesCount', 0);\n})\nThe callback is called just after the result is applied so from what I see this should work.\n. You can inject scripts/styles via canvas config option\njs\nconst editor = grapesjs.init({\n  ...\n  canvas: {\n    styles: ['https://...', '...'],\n    scripts: ['https://...'],\n  }\n});. Not something built-in, but definitely achievable by using the GrapesJS's API\nExtremely easy would be adding a listener (eg, change:changesCount), search your component and then apply your logic\njs\neditor.on('change:changesCount', () => {\n     editor.getComponents().each(model => ...)\n}). You were almost there :)\njs\ncanvas: {\n    styles: ['https://...'] \n}. If you want a function attached inside the string you have to pass a string\njs\ndrawGauge: `function(id){\n        alert(1);\n}`. Inside your script property, {[ d ]} will be replaced with a d property of the componet and it can't be a function, so if your final result should be like this:\njs\nvar di =  function() {...};\nyou have to set a string for d\njs\n...\nremovable: true,\nd: \"function() {...}\",// <- string, NOT function\ndraggable: true,\neditable: true,\n.... ok, d just can't be a function, it should contain your final string. It's up to you understand how/when to update it, eg. on init/trait change\njs\n..In your model\ninit() {\n     this.set('d', options.drawGauge()); // initial value\n     // then you could add a listener for your traits and change its value later\n     this.listenTo(this, 'change:circles', this.doStuff)\n},\ndoStuff() {\n     this.set('d', options.drawGauge());\n}. Try with this\njs\nconst categories = editor.BlockManager.getCategories();\ncategories.each(category => {\n    category.set('open', false).on('change:open', opened => {\n        opened.get('open') && categories.each(category => {\n            category !== opened && category.set('open', false)\n        })\n    })\n}). awesome \ud83d\ude0d. \ud83d\udc4d  I'll update for the next release. What do you mean? SelectorManager is necessary to keep the collection of classes, it's a part of the  core, you can't remove it. Currently, there is no option to disable it, but you can eventually hide/remove it with css/js for now. If for content you mean html/css, probably you're looking for editor.setComponents('<div>...'). Hi @desprit the demo extends the core grapesjs library with its own preset (styles and plugins). Probably soon I'll create its own repo\nBy the way, here you find the flex configuration: https://github.com/artf/grapesjs/blob/gh-pages/demo.html#L1149. Sure, you can find more about it here https://github.com/artf/grapesjs/wiki/Assets#uploading-assets. Yeah, you're right. This happens just because functions are not serializable, therefore when grapesjs calls JSON.stringify(Component) are simply ripped off.\nThe solution for your case is to override toJSON method in the custom Component\n```js\neditor.DomComponents.addType('grid-col', {\n     model: ..\n            defaults: ... // here you define your resizable\n             ...\n            // and then avoid its storing\n            toJSON() {\n               const obj = defaultModel.prototype.toJSON.apply(this, arguments);\n               delete obj.resizable;\n               return obj;\n            }\n          ...\n     view:...\n});\n. Post the grapesjs config and its version. To try with the latest version. try just withjs\neditor.Panels.getButton('views', 'open-blocks').set('active', true)\nbut put it after the render (if you're using `autorender: false`). check here #286 . Check out [Blocks](https://github.com/artf/grapesjs/wiki/Blocks) and [Components](https://github.com/artf/grapesjs/wiki/Components) documentation. Thanks @leantorres73 a PR would be great.\nIt's all about CSS and the problem is the `<option>` styling that should be here:\nhttps://github.com/artf/grapesjs/blob/dev/src/styles/scss/_gjs_inputs.scss\n(just try to search `option`)\nI think it would be best to remove all those stylings\n. 1. Check the [Panels API](https://github.com/artf/grapesjs/wiki/API-Panels) or you can just append/remove stuff once the editor is loadedjs\neditor.on('load', () => {\n     // change your DOM here\n})\n2. Just tried it the demo and works as expected, probably you have multiple nested text components, where in that case the toolbar appears on top of the highest editable component. good catch thanks Santiago \ud83d\udc4d. The `view` is mandatory when you're defining a new Component typejs\ncomps.addType('image-container', {\n    model: defaultModel...\n    view: defaultView;\n  });\n. You can extend the Text Component instead of the base onejs\nconst defaultType = comps.getType('default');\nconst textType = comps.getType('text');\n...\nview: textType.view.extend({ ...\n. Sorry I didn't notice thisjs\nvar html = this.el.innerHTML;\nhtml = \"ABC\" + html;\nthis.el.innerHTML = html;\nyou basically remove elements with models and attach a new string as HTML (the editor can't access their models anymore). If you want to add a new component you should do it via models (eg. `view.model.append('<div>stuff</div>')`). Seems like it's  just not hidden on render, will fix it for the next release. It's not a photo but actually, a video (I just turned off autoplay), if you toggle controls and turn on the preview you should be able to see it play.\nAbout the edit button, I think it's a bug, should not be there, I'll check it later. ![text-edit](https://user-images.githubusercontent.com/11614725/32446045-f2c025aa-c307-11e7-876e-5bbb83c4ef0b.gif)\n. Use `classes` keyjs\n...\ncontent: {\n     type: 'input',\n     classes: ['class1', 'class2', ...],\n     // Inside style you put inline styles\n     style: {'text-align': 'center', ....}\n}\n...\n. great, thanks Pascal. Hi Arthur, unfortunately, there is no 'disable' feature, but it'd be cool to have. `disable` attribute is ok \ud83d\udc4d  but be patient because ButtonView is really old and messy (Panels is one of the modules that require huge refactoring). Probably I'd just add `.#{$app-prefix}disabled` to this https://github.com/artf/grapesjs/blob/dev/src/styles/scss/main.scss#L120\nWhat do you think?. I close this as #479 was already merged. Which popup are you talking about? The built-in modal?. well, if it's your custom popup I think it's up to you managing the focus. to select another component you should use https://github.com/artf/grapesjs/wiki/API-Editor#select. sorry but I don't get it, what do you mean. Use thisjs\nconst categories = editor.StyleManager.getSectors();\ncategories.each(category => {\n    category.set('open', false).on('change:open', opened => {\n        opened.get('open') && categories.each(category => {\n            category !== opened && category.set('open', false)\n        })\n    })\n})\n. @mekamleshk that button was removed, you can check it also here http://grapesjs.com/demo-newsletter-editor.html. It never was part of the framework, it's just a custom panel I used in https://github.com/artf/grapesjs/blob/gh-pages/demo-newsletter-editor.html. Hi @tomichal seems like you get exactly where is the issue.\nI close this in favor of https://github.com/artf/grapesjs-blocks-basic/issues/2. Use storage events (you can find the complete list of events here: [API Editor](https://github.com/artf/grapesjs/wiki/API-Editor))js\neditor.on('storage:store', res => {\n     // ...do stuff\n})\n. This is a correct behavior if you're loading CSS as a remote resource. One workaround, for your case, would be to load CSS via ajax and add the result with `editor.addComponents('<style>${cssText}</style>')`. Great, thanks Adam. You can use this code from Assets documentationjs\n// Extend the original image\neditor.AssetManager.addType('image', {\n  view: {\n    onRemove(e) {\n      e.stopPropagation();\n      const model = this.model;\n      confirm('Are you sure?') && model.collection.remove(model);\n    }\n  },\n})\nPut it inside a plugin otherwise it won't take effect on already defined images. I agree with you Matt, indeed, as already mentioned, I'd like to remove it but need to find time to test it, to be sure it's not breaking other stuff.\nI close this in favor of #341 . @HarshOB Did you check already the wiki about [Traits](https://github.com/artf/grapesjs/wiki/Traits)? I explain there how to add checkbox inputs and how to react to their changes. If it's not clear can you point me out what should I add?. No, it's not something you can do with a built-in trait, but you can define your own type (which can even include all your inputs) by extending the [default one](https://github.com/artf/grapesjs/blob/dev/src/trait_manager/view/TraitView.js). @HarshOB I don't understand where is the issue. Have you tried just to drag another input?. Duplicate of #477. Huge thanks Arthur \ud83d\udc4d \nI hope to publish today a new release with all last updates. thanks @leantorres73 . Have you checked [API-Rich-Text-Editor](https://github.com/artf/grapesjs/wiki/API-Rich-Text-Editor)? You can add a custom action like thisjs\neditor.RichTextEditor.add('custom-vars', {\n  icon: <select class=\"gjs-field\">\n        <option value=\"\">- Select -</option>\n        <option value=\"[[firstname]]\">FirstName</option>\n        <option value=\"[[lastname]]\">LastName</option>\n        <option value=\"[[age]]\">Age</option>\n      </select>,\n    // Bind the 'result' on 'change' listener\n  event: 'change',\n  result: (rte, action) => rte.insertHTML(action.btn.firstChild.value),\n  // Reset the select on change\n  update: (rte, action) => { action.btn.firstChild.value = \"\";}\n})\n![rte-action](https://user-images.githubusercontent.com/11614725/32463242-810de0fc-c33c-11e7-81df-3524c0ad55ac.gif)\n. Well @mathieuk I've never taken into account the possibility to add stuff inside a text component, mainly because it might lead to strange behaviors (probably even from UX), but it is definitely an interesting proposal. About your Sorter question, I'd suggest creating a new property for blocks, eg.js\nblockManager.add('my-block', {\n     label: 'Block',\n     textable: 1, // allow the block to be inserted inside text components\n     content: ...,\n})\nand differentiate the sorter's behavior by this property. Wow @mathieuk, this is amazing \ud83d\ude0d  it'd awesome to have it in core. @mathieuk can I just use any block content? I mean something like this:js\nblockManager.add('my-block', {\n     label: 'Block',\n     textable: 1, \n     content: <div style=\"...\">custom stuff / custom components</div>,\n})\nI don't care about the`content`, I know that with `textable` I'm able to drag it inside text components.\nWould be awesome if you set up a demo just to test it online :) (with something like codepan/codesandbox). I hope to hear more from @mathieuk about this :). Thanks for the help @LKozakewycz looking forward to your updates. BTW, before applying your changes I'd like to understand why `contenteditable` is removed when parsed, honestly, I'd expect to see it kept. @chris-robbins it works fine, by trying my old snippet, so be sure not adding that action every time you \"re-enter the editor\". @krunal039 Why do you need a custom component? Your template seems to be pretty simple, what about just a simple block?js\neditor.BlockManager.add('your-block', {\n     label: 'Custom Block',\n     content: <div class=\"row-class\">\n          <div class=\"column-class\">\n               <img src=\"...\" />\n          </div>\n           ...\n     </div>\n})\n```\n. Try to create a block with your template, drag it inside the canvas and you will be able to change all that stuff. yes please, create a jsfiddle because I'm not getting your case. Sorry, I was busy with other stuff. Anyway I got your problem and actually, you have to build a custom component (probably playing with traits) or find another way which allows users to select images, can't help you more. Thanks man. @roytang your code seems ok, probably the problem is just because your component is \"too much empty\" so the mouse pointer just can't get in. Try to add a little bit of padding and see if it works\njs\ncontent: '<div class=\"image-container\" style=\"padding:20px\"></div>',. I think it might be a problem with the d&d of the block manager. Are you able to drop images dragged from canvas instead of the block panel?. Discussed it several times (eg. #26) \nNext time, try to search before opening a new issue (eg. translation was already enough)\nthanks. In your model, you don't need defining data-gjs-* it's only make sense for importing from HTML, so remove this:\njs\nattributes: {  'data-gjs-type': 'cust-section', },\nand you don't need type: 'section', either.\nFrom what I see you should define addType like this\njs\ncomps.addType('cust-section', {...\nYou can't edit this\njs\nvar rowDiv = document.createElement('section');\nrowDiv.className = \"row\";\nrowDiv.innerHTML = \"Sample Text Please change here\";\nbecause it's just a plain HTML, the editor works with models attached to elements, so you probably want this this.model.append('<section class=\"row\"> Sample ...</section>') in this way you update the model tree which then reflect changes on canvas. First of all, update your grapesjs version, then be more specific about your changes. What did you change? What do you mean with unwanted css?. That explosion of style rules is due to the browser's CSS parser and I can't do much about until there will be a possibility to attach custom CSS parsers. Not sure if it's the duplicate of style you were talking about. thanks @leantorres73. Yeah, you're right, I use editable only for text components, but what you're asking actually make sense. I'd be happy to accept your PR.\nYou should add editable: true, to the model https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/ComponentImage.js\nand then check it in the view here https://github.com/artf/grapesjs/blob/dev/src/dom_components/view/ComponentImageView.js#L44\njs\n...\nif (editor && this.model.get('editable')) {\n     ...\n}\n. Merged https://github.com/artf/grapesjs/pull/496 \ud83d\udc4d . Well, never tried it before but I think you can achieve it just by replacing the current command\njs\neditor.Commands.add('open-assets', {\n     run(editor) {\n          ...\n    }\n})\nThis is how the command is called https://github.com/artf/grapesjs/blob/e921165a8d681b5d1056c816f88dd7719d4f61e0/src/dom_components/view/ComponentImageView.js#L68\nthe target is actually all what you need. When you select the element from a custom manager you just update the target with target.set('src', url). You can update the block's content in this way\njs\nconst dblock = blockManager.get('dynamic-nav');\ndblock.set('content', `<ul>...`);. @bungambohlah first of all, provide a complete error stack, probably you have some syntax error in your code (and innerHTML is not a function).\nAnyway, this is not related to your original problem so next time open a new issue, please. You can actually get the model from the cash element instance with view.$el.data('model'), so you might make it work with less code\njs\nwrapper.view.$el.find('#hero .text').each((el, i, $el) => \n    console.log($el.data('model'))\n). @z-vr currently you can't but honestly, I don't even see why do you need it here. I'm aware of the toolbar \"jump\" when the content inside it changes (by adding or removing buttons) but not with the highlighter. Do you use the editor inside a scrolled page?. Yeah, unfortunately, there is a bug which doesn't get a correct dimension of the scrolled page. thanks @ryandeba. Duplicate of #491 . no @suraj740 target is the component model, you should add your custom open-assets command\njs\neditor.Commands.add('open-assets', {\n     run(editor) {\n          // here you call your custom manager\n          // and you can get the selected component (target)\n          // with editor.getSelected();\n    }\n}). js\neditor.Commands.add('open-assets', {\n     run(editor) {\n          // here you call YOUR CUSTOM MANAGER\n          someCustomeManager.open({\n                 onCustomSelect(url) {\n                    // update the selected component\n                    editor.getSelected().set('src', url);\n                    ...\n                 } \n          })\n    }\n}). Thanks for the suggestion @ryandeba it'd be cool to have search functionality on all collections, probably even something like this, this will allow filtering also in other modules. I'd rather prefer to keep the UI side away from the core library. Thanks Arthur, really appreciate your help. Seems like you're doing an awesome work, I think this feature could be a perfect candidate for a plugin :). Well, besides the UI (which can be a simple <select> or even your tabs), all you have to do is to use render method\n```js\nconst bm = editor.BlockManager;\nconst blocks = bm.getAll();\n// Show me just column1 and column2 blocks\nbm.render(blocks.filter(\n  block => ['column1', 'column2'].indexOf(block.get('id')) >= 0\n));\n// Render all blocks again\nbm.render();\n. Once the block manager is rendered you can make use of the containerjs\nconst blocksEl = bm.getContainer(); \n// The content of the container will change on render, so..\nblocksEl.parentNode ... // append/prepand stuff on the parent element\n```. > The BlockManager.onLoad is called after the plugin is executed and then all the blocks are reset\nWhy do you care about blocks inside your plugin? I mean, I'd define the logic inside your tabs\njs\ntabs: [{\n                    id: 'content',\n                    label: 'Content',\n                    attributes: {class:'gjs-fonts gjs-f-b1'},\n                    blocks: ['block-id1', 'block-id2', ...],\n                },{\n                    ...\n                }]\n            },\nWhat exactly do you call inside editor.on('load')?. I don't see any problem with overriding the command so go ahead with it \ud83d\udc4d . You can get it from the demo https://github.com/artf/grapesjs/blob/gh-pages/demo.html#L1054. try with this\njs\neditor.addComponents('<style>[attr=val]{ color:red }</style>'). You can make use of command events inside your component, eg.\njs\neditor.on('run:preview', () => { console.log('preview ON') }). stop:preview. Fixed by https://github.com/artf/grapesjs/pull/592. Thanks for your contribution Tomasz. First of all, seems like you're pushing from a not updated branch (your webpack still has a jquery), always git pull before a PR.\nI'd say that, personally, I agree about if(env != 'DEV'), but also find much more ugliest creating 3 different files for such a tiny configuration.\nI close this for now, but would really like to see a solution for #433 without overwhelming stuff :)\n. @roytang I can't reproduce it with the current version https://codesandbox.io/s/p554z8yv7j. Are you dropping files inside the AssetManager's dropzone or just on canvas?. @duskhacker ok, in this case, what happens is that dropzone is active by default and is showing when someone drags elements inside the editor, so when you drop an image in assets modal, you're also dropping it inside the dropzone\nI will set it to false by default. Should be fixed. For editable contents, you have to use content\njs\n...\ncontent: el.innerHTML\n.... You mean something like model.set('style', {...})? This adds an inline style on the component. You can now make use of setClassRule/getClassRule from CSS Composer API. @IrinaCodixis from the https://github.com/artf/grapesjs/releases/tag/v0.14.52 we've added setRule/getRule methods, so to add some CSS rule programatically you should do this:\n```js\neditor.CssComposer.setRule('.some-class', { color: 'red' })\n// Remove\nconst rule = editor.CssComposer.getRule('.some-class');\neditor.CssComposer.getAll().remove(rule);\n. @edwardjiawei just change `content` (used only for text content) with `components`js\n// from\ncontent: '...',\n// to\ncomponents: '...',\n@bungambohlah \nYou should not do this `el.insertAdjacentHTML( 'beforeend', contentDynamic );`\nIf you replace the DOM you remove also its attached `model`s\nIf you need to replace the DOM and still be able to select this new content you have to do it at the model level (eg. `model.components('<div>...')`) otherwise it's just doesn't make sense. Thanks Adam, you should use `.#{$app-prefix}` instead of `.gjs-` but for this time it's ok, I'll handle it. @krunal039 It's not an issue, it's just how you've defined a custom type. If you define traits on `div` you will get them there. If you need to update some nested component you can always access it from the component itselfjs\nconst linkModel = model.components().at(0);\n...\n. Well, with `data-gjs-*` attribute you can even use objects (JSONs)js\ncontent: '',\nbut, for bigger templates, I'd recommend block definition via an object insteadjs\ncontent: {\n      // Just model's properties\n      draggable: false,\n      traits: ...\n      ...\n      // It's ok also using a string, components: `<div ...>...`\n      components: [{\n            type: 'text',\n            content: 'Text here'\n        }, ...\n      ]\n},\n\n. Thanks @ateshuseyin . Sure @ateshuseyin The UI management with Panels API will be refactored soon and I'll add `appendTo` option on modules which should indicate where panels should be rendered. Thanks @ateshuseyin for the PR but I'd like to stop keep adding configuration files from dev's personal preferences, otherwise this repo will become a bucket of config files, this also confuses a lot of people (I'm one of them). If anyone wants to use it, I'd rather accept to add it to the `.gitignore`, but grapesjs don't need it. You can replace the content of the modeljs\n// model could be, for instance, editor.getSelected()\nmodel.components('Text 1Text 2')\n. Tried with this `model.components('Hello')`?!?. @HarshOB well, yeah Harsh... you have obviously to define your model... (eg. `var model = editor.getSelected()`). Hi @Eman-Shaaban, GrapesJS is just a client-side library and doesn't deal with back-end stuff. The remote storage just sends data to some server-side script, then it's up to handle it (you can store it inside a file or maybe in some DB table). This is all the code you needjs\nvar editor = grapesjs.init({\n    container : '#gjs',\n    ...\n    storageManager: {\n      type: 'remote',\n      urlStore: 'http://store/endpoint', // <-- here you have to set up your endpoint\n      urlLoad: 'http://load/endpoint', // <-- here you have to set up your endpoint\n    }\n});\n. You can trigger your actions on render...js\n...Inside your model\ninit() {\n ....\n}\nupdateAllStuff() {\n     this.updateTitle();\n     this.updateHoverText();\n     ...\n}\n...Inside your view\nrender(...args) {\n     ...\n     this.model.updateAllStuff();\n    return this;\n}\n. Hi @tldrjumps I'm not sure if I properly got your problem. You can simply get all the CSS with `editor.getCss()`, which also tries to optimize it by removing classes without components.\nStyles inserted via `canvas.styles` option are just injected inside the canvas but actually, the editor doesn't see their rules. Well, if you want, for instance, to export the selected component HTML/CSS you can do thisjs\nconst model = editor.getSelected();\nconst html = model.toHTML();\nconst css = editor.CodeManager.getCode(model, 'css', {cssc: editor.CssComposer});\nconst final = ${html}<style>${css}</style>;\n. @chiqui3d definitely it shouldn't be added to what is used for storing otherwise you will add those styles twice.. Check here https://github.com/artf/grapesjs/blob/gh-pages/js/grapesjs-preset-webpage.js#L198. Hi Enric, actually the wiki is not updated with the new signature, you have to call the callbackjs\nstore(data, clb) {\n ... async store\n          clb(resultObject);\n ...\n},\nload(keys, clb) {\n    ... async load\n        clb(resultObject);\n    ...\n}\n``\nthanks for pointing this out. Just check here https://github.com/artf/grapesjs/issues/499 :). @krunal039editor.getHtml()it's your FINAL output and obviously, there are no pieces of information about traits and other stuff. Store and useeditor.getComponents()then, if you need the user to edit templates again.. Thanks for the catch @tomichal the fix will be available in the next release. Currently, the core comes with a [default set](https://github.com/artf/grapesjs/blob/dev/src/panels/config/config.js) of [Panels](https://github.com/artf/grapesjs/wiki/API-Panels) but likely this will be removed in the future. Grapesjs doesn't care too much about the UI part around the canvas, so if you need something complex, animated panels, etc. just use js/css. Be aware that from https://github.com/artf/grapesjs/releases/tag/v0.14.5#gjs-pn-are now.gjs-pn-`. Fixed with the latest version https://github.com/artf/grapesjs/releases/tag/v0.12.37. @tomichal thanks for the PR, but already fixed here https://github.com/artf/grapesjs/releases/tag/v0.12.37. Great, seems to work perfectly @tomichal  :1st_place_medal: \nWould you mind to check also this https://github.com/artf/grapesjs/issues/162 \ud83d\ude2c  which is also affected by a scrolled page?. To add more buttons there\njs\neditor.Panels.addButton('views', {\n    id: 'yourBtnId',\n    className: 'fa fa-paint-brush yourClass',\n    command: 'yourCommand',\n    attributes: { title: 'Some title'},\n})\nThen create yourCommand Command, which might be very similar to \nhttps://github.com/artf/grapesjs/blob/dev/src/commands/view/OpenBlocks.js. If you're creating your editor you can easily tweak some CSS (eg. change the font size of blocks), don't see this as something to \"fix\" at the core level. Hey Matt, probably you're using the code from the demo and therefore you're conflicting with this https://github.com/artf/grapesjs/blob/gh-pages/js/grapesjs-preset-webpage.js#L257-L268\njust try to remove that part. Thanks @tomichal, really appreciate your help \ud83d\udc4d \nAnyway, I see that it fixes the starting position but still persists when you drag it over the canvas, isn't the same for you?!?. Thanks for the update @tomichal but I still see this (I use margin-top on #gjs container)\n\nDon't know if it the same for you, can you confirm?\n. Thanks Arthur, for the PR and your clean work :). @milapshah15 panelManager.removeButton('options', 'preview'). @milapshah15 update grapesjs. Thanks for the catch @kickbk, actually src was not listened. The fix will be available in the next release. I'm closing this as we've removed render method from the public Panel API, it should be executed only on init by the editor. In addition, now you can remove buttons easily by doing this panelManager.removeButton('panelId', 'buttonId'). @brandonburr86 about what demo are you talking about?. Hey @brandonburr86 try to reset the cache of your browser and retry because I don't see any error\n\n. I think the source of the issue is the basic block plugin\nhttps://github.com/artf/grapesjs-blocks-basic/blob/master/src/index.js#L28\nthose styles should be placed inside their relative blocks and not outside via editor.addComponents.\nI'd really appreciate a PR :). Should be fixed with latest versions of grapesjs-blocks-basic. Hi @mohit5540, you have to define a new Trait if you want custom stuff . @NorthstarTech what is your use case with a button?. Well, if you check http://grapesjs.com/demo.html you'll see there is a Setting Sector, just above General, which is simply defined here\nhttps://github.com/artf/grapesjs/blob/gh-pages/js/grapesjs-preset-webpage.js#L276-L292\nso you can try the same approach. Have you tried with forceClass?\njs\ngrapesjs.init({\n     ...\n     forceClass: false,\n}). @blackbirdzzz Ok I can add some new option to the Roadmap but I'm not sure if I got exactly about what class you're talking about. \nI mean if I look at @francesca-cicileo's example I don't see any class there. In the exporter, I just put the inlined style inside an id rule (just to make the code cleaner),  do you want to see that style inlined?. If you grep forceClass you will see that it does just one thing\nhttps://github.com/artf/grapesjs/blob/dev/src/dom_components/model/Components.js#L77\nso when you add a new component and there is a not empty style attribute, all its properties will be moved into new class, so I apologize, probably have to change its name as seems to confuse a lot of people\nFor the newly proposed option, I was thinking about something which just brings back #ids styles inside the component style but if we're talking also about .classes, well, I don't think we need this kind of feature inside the core.  So, If you need to inline all your styles, just use juice as I did here https://github.com/artf/grapesjs-preset-newsletter/blob/master/src/openExportCommand.js\n@ryandeba editor.runCommand('gjs-get-inlined-html') :). @blackbirdzzz as I said I don't want to inline classes (as you suggested here)\nFor anyone interested in style inlining, just create a command like this\nhttps://github.com/artf/grapesjs-preset-newsletter/blob/master/src/openExportCommand.js\nI close this as, currently, I don't see any value in adding a feature for style inlining (as a solution, outside of the core, already exists). Thanks mate \ud83d\udc4d . Thanks @kickbk :)\nAnyway, I don't get exactly which is your solution. @kickbk well actually I plan to remove FA (#74)  from core's dependencies and replace the used icons with SVGs. @kickbk well actually it's not mandatory, for example, I use custom SVGs inside label here:\nhttps://github.com/artf/grapesjs-plugin-forms/blob/master/src/blocks.js. @kickbk I close this then and keep the idea of removing FA from the core . Merged, HUUUGE thanks Ryan :1st_place_medal: . value !== '' was here to keep html clean in case one removes a value of the attribute, but not having boolean attributes it's actually a big issue, so for now I merge it, thanks \ud83d\udc4d . > There's not really a good way to programmatically add a boolean attribute right now either, other than setting it's value to an empty string.\nYeah, it's exactly what I thought and probably the best solution would be to provide a way to remove the attribute, but currently, I don't see it as something strictly indispensable. There is an internal counter which you can use like this\njs\neditor.on('change:changesCount', () => {\n     const editorModel = editor.getModel();\n     const changes = editorModel.get('changesCount');\n     if (changes) {\n          // dirty\n     }\n});\n// same as\neditor.on('change:changesCount', (editorModel, changes) => { ... });. Yeah, the problem here is with the wrapper's style, it's inside its component and not in the Rule of CssComposer, so you have to use editor.DomComponents.getWrapper().setStyle('');\nhttps://jsfiddle.net/y420c2pL/\n\neditor.setStyle(\"body { background-color: blue}\");\n\nUnfortunately, this creates another body rule (you can see it in the exporter). Probably I have to find a better way to manage the wrapper/body style :/. @duskhacker I'd say it's somehow related but not the same issue.\nCSS you're mentioning it's generated from two different places and it's some kind of a basic CSS reset\n*{box-sizing: border-box;} comes from https://github.com/artf/grapesjs/blob/dev/src/editor/config/config.js#L34\nand body{margin:0;} from https://github.com/artf/grapesjs/blob/dev/src/dom_components/config/config.js#L10\nProbably what I'll gonna do for the next release is to move the current wrapper style inside protectedCss option. \nFor those who are trying to achieve edit the CSS directly with the code editor should add a new view code command (current) and replace em.getCss() with em.getCss({ avoidProtected: 1 }) (not yet implemented)\n. Should be fixed if you use avoidInlineStyle: true (probably one day or another this option will be true by default)\nhttps://jsfiddle.net/gbqsxwtL. You can rely on the view via model and use a query string to find models\njs\nconst result = [];\nconst wrapper = editor.DomComponents.getWrapper();\nwrapper.view.$el.find('#query-str').each((el, i, $el) => result.push($el.data('model')))\nconsole.log(result);\nProbably we should add find() in Component Model but it's important to know that this method will gonna work only with rendered models (otherwise model.view is undefined). > 1. Prevent the hover highlight effect on certain components.\nComponents already have a \"highlightable\" property that is being used for the dotted outline style. I was thinking about using that same property to prevent the hover highlight effect, but it could also be a new property (maybe \"hoverable\" or \"highlightOnHover\"?). I haven't tested it yet, but it looks like I could just check the value of the property in SelectComponent.updateHighlighter() and return early if the value is set to false.\nhoverable approved \ud83d\udc4d\nI'd like to point out not to use camelCase naming in Model's properties as it makes them invaluable via data-gjs-* attributes.\nConfirm also about your thoughts on SelectComponent.updateHighlighter\n\n\nPrevent selecting certain components.\nI would also like to completely prevent selecting certain components when they are clicked. I have some hacky code now that adds a \"selectable\" property to components, and if that property is set to false when the component:selected event fires then I un-select it (editor.select(\"\")). I would prefer the component to not actually get selected in the first place to prevent other component:selected listeners from running, as well as to prevent the quick flash of the blue style outline & toolbar that briefly appears (I see this happen in chrome...not sure about other browsers). Is there an existing property that could be used for this? If not, what do you think about me adding a \"selectable\" property that could be used to prevent component selection?\n\n\nI was already thinking about adding something like so go on.\nThanks to you for your help :). Merged, Thanks Ryan \ud83d\udc4d . @HarshOB https://github.com/artf/grapesjs/wiki/Components-&-JS#template-related. @suchithmahadi for this kind of question I'd recommend asking on https://stackoverflow.com. the default tagName property is a div, change this in your model\njs\n ...\n defaults: Object.assign({}, defaultModel.prototype.defaults, {\n              tagName: 'span', //<---\n              droppable: false,\n.... hey Ryan ping me on discord chat pls. @fsaiyedOB yeah, I've made the table component like this because at that moment of writing the sorter was acting differently and it was messy ordering rows with tbody-like elements around. Currently, dealing with tables it's not my priority but I'll leave this issue open in case someone else would like to do so. @ryandeba right start :) The main problem I was facing initially it was with the sorting so, for the rest, I'd probably update the current droppable with just ['tbody', 'thead', 'tfoot'], and create 3 simple components:\nComponentTableBody, ComponentTableHead, ComponentTableFoot which basically accept only <tr>s inside and could be dropped only inside <table>s. Merged #606. Hi Paul, you can inject external styles in this way\n```js\nconst editor = grapesjs.init({\n  ...\n  canvas: {\n    styles: ['...file1.css', '...file2.css', '...']\n  }\n});\n. Yeah you can use different tag names in your custom componentjs\nconst dc = editor.DomComponents;\nconst defaultType = dc.getType('default');\ndc.addType('my-custom-type', {\nmodel: defaultType.model.extend({\n    tagName: custom-tag\n  }, {\n    isComponent(el) {\n        if(el.tagName == 'CUSTOM-TAG') \n          return {type: 'my-custom-type'}\n    },\n  }),\nview: defaultType.view.extend({\n     tagName: 'div' //<-- in canvas div will be used\n  })\n});\n. You mean something like this?js\neditor.BlockManager.add('custom-block', {\n     label: 'Custom Block'\n     content: '...',\n})\n. @paulroberttaylor sorry but I don't get which is your question. If you use the code above, you create a new block in the **Block Panel**, then you can drag inside the canvas. Once you've defined your custom component all you have to do is to drag stuff inside it.html\n\n\nText1\nText2\n\n\n\n  var editor = grapesjs.init({\n      autorender: 0,\n      container : '#gjs',\n      fromElement: true,\n  });\n  // ... Define your custom component and blocks\n\n  // Here I explain the reason of `render()`\n  // https://github.com/artf/grapesjs/wiki/Components#hints\n  editor.render();\n\n. I'd say it's a totally different kind of [Component](https://github.com/artf/grapesjs/wiki/Components).. @matthewgertner Ryan's solution should work, and, yes, I do not apply them by design for reasons already explained by Ryan but you can actually create blocks/components with resizable enabled. Thanks Ryan \ud83d\udc9c. Thanks Ryan for the detailed explanation, by the way, I think this is the same as #111 so close as a duplication. Hi Jeffery, unfortunately, Daniel is right, if you want to use GrapesJS in other projects someone (devs) need to integrate it first. \nI think you can try at least to ask ZeroNet's devs if they put GrapesJS integration in their Roadmap. @NorthstarTech \nExample for the right borderjs\neditor.StyleManager.addProperty('Decorations', {\n  name: 'Border right',\n  property: 'border-right',\n  type: 'composite',\n  properties: [{\n    name: 'Width',\n    type: 'integer',\n    units: ['px', 'em', 'rem'],\n    property: 'border-right-width',\n  },{\n    name: 'Style',\n    type: 'select',\n    property: 'border-right-style',\n    options: [\n      {value: 'none'},\n      {value: 'solid'},\n      {value: 'dotted'},\n      {value: 'dashed'},\n      {value: 'double'},\n      {value: 'groove'},\n      {value: 'ridge'},\n      {value: 'inset'},\n      {value: 'outset'}\n    ]\n  }, {\n    name: 'Color',\n    type: 'color',\n    property: 'border-right-color',\n  }]\n});\n```. Hi @ryandeba the problem I was facing is how to understand where to declare a component a Text Component, for instance:\n1. Element with a single textnode inside\nhtml\n<div> Simple </div>\nNo problem, I mark the div as a text and this will be editable by the user.\n2. Element with nested elements\nhtml\n<div>\n     <div>El1</div>\n     <div>El2</div>\n</div>\nOk El1 and El2 are just like above (ediatble text components) but our main div is a container so it will be a simple component (not a text one)\n3. Element with nested mixed elements\nhtml\n<div>\n     Some textnode\n     <b>here</b>\n     and\n     <i>here</i>\n</div>\nOk here we find textnodes (['Some textnode', 'and']) and other elements (['<b>here</b>', '<i>here</i>']). Well, we can easily say that elements like <b>, <i>, <u>, etc. are editable too therefore I've added this option in parser config and use it with c.textTags.indexOf(comp.tagName) < 0\nnote: I'll add <a> in the next release so this issue will be fixed\n4. Element with nested mixed elements 2\nhtml\n<div>\n     Some textnode\n     <div>...</div>\n</div>\nWhat about this???\nThere is another div inside, which can contain other complex components so I can't mark the main <div> as text, but there is a textnode which becomes uneditable. The only solution I see would be to wrap that textnode (eg. span) but not sure if it's a good thing changing the structure (eg. there is a CSS like span { color: red })\n. Thanks Daniel, I agree with you and will take care of your suggestions.\nI just would like to point out, for the 4th case, that you can also indicate explicitly to the editor where is a text component\nhtml\n<div data-gjs-type=\"text\">\n     Some textnode\n     <div>Text to edit</div>\n     <ul>...</ul>\n</div>\n. Should be fixed https://github.com/artf/grapesjs/releases/tag/v0.12.50. @krunal039 Ryan's suggestion is the correct way to accomplish your request. @krunal039 as already mentioned by Ryan, upload: false is the way to go. @shareefhiasat just use CSS. > where do i change the css?\nWherever you want, just place it after GrapesJS' CSS. @NorthstarTech never tried with separate file (check the net console, probably your path is wrong) so I recommend using inline configs. I'd add also a block specific event\njs\neditor.on('block:drag:stop', model => console.log('dropped ', model)). @chrisrobbins85kw I'd put some check (eg. some attribute/property) inside the callback. Thanks @ppisecky for pointing this out, I updated the source, but basiclly any component-related event just receives the triggered model. \nAbout your font-size case, you can set up this listener\njs\neditor.on('component:styleUpdate:font-size', model => \n     console.log('Font size: ', model.getStyle()['font-size'])\n);. Use this\njs\neditor.getSelected()\n    .addStyle({'background-image': `url(${url})`});. just looking at the source file\nhttps://raw.githubusercontent.com/artf/grapesjs/dev/dist/grapes.js\nwhere the interesting part comes from\nhttps://github.com/artf/grapesjs/blob/dev/src/domain_abstract/ui/InputColor.js#L93\nindeed that \"C\" is not a \"real\" C \ud83e\udd14\n\nI'll fix it for the next release, thanks for the catch. Inputs are binded to the target (Components/Css Rules) so it doesn't make sense just changing the input, you have to update the target (eg. editor.getSelectedToStyle().addStyle({ 'margin-top': 0 })). @vishal5033 I'll add removeSector and removeProperty in the next release. Added to the next release. Domain abstract stuff are just for internal usage so I don't even plan to let them overwritable, which is your use case?. Ok, got the case, but at the moment there is just no easy way to accomplish it :/. @krunal039 definitely is possible, but I'd say you have to make it by yourself as it's totally not an essential feature for the editor. use native js events . Great \ud83d\udc4d  Thank you @gabrigcl . unfortunately, I didn't find the time yet to investigate this. @ateshuseyin should be fixed in the latest version. Are you able to provide a live example of the issue? (jsfiddle, codepen, etc..). Ok, I guess there is something wrong with the calculation of the position when the editor doesn't fit the window size. Thanks @swarnat I really appreciate your efforts, a PR on this is highly welcome. @TrungPham383 does the @fguslinski solution work for you? I wasn't even able to reproduce it (I suppose it happens when the editor is in some particular external layout, would be great if someone could indicate a reproducible case). @cmoutafidis are you able to re-create the layout situation which shows the issue, please?. @DeathStapler first of all, be sure to use the latest release. Check if this helps #159\nOtherwise put this editor.on('storage:load', obj => console.log('Loaded ', obj)) and post here what do you get.\nActually, I do not recommend storing/loading from HTML/CSS, this is your final result, you lose all the information added by the editor (eg. traits, component's properties, etc.), therefore you should rely on \njs\n// are `true` by default\nstoreComponents: true,\nstoreStyles: true,\nbut besides this, your code should work. \nIn case, does enabling storeComponents and storeStyles makes the loading works?. @shareefhiasat I explain here how to use them  https://github.com/artf/grapesjs/wiki/Storage#store-and-load-templates. 3. Drag back to blocks panel\nHonestly, never seen kind of UX... why not the classic Esc? (which works already). @Geczy ok seems like I just never seen it because I always used Esc \ud83d\ude02\nBy the way, it would be tricky to accomplish with the current implementation of the Sorter, what I'd really like is to refactor it and start using the HTML5 D&D APIs as it allows doing other cool stuff (eg. d&d data-driven elements between browser's tabs, os's apps, etc.). @Geczy Now blocks support HTML5 D&D https://github.com/artf/grapesjs/releases/tag/v0.13.5\n\n. Hi @attaalive I'll add the possibility to set the height of devices in the next release. Honestly, I don't get what do you mean by its margin property of editor does not work. @attaalive can you provide a live example (eg. jsfiddel)? Your screenshot is ambiguous on what exactly is not working. works correctly on my side...\n. I totally agree about adding \"Custom Code\" block/component but confused too about this in the video category, would be cool to see some example of \"Custom HTML embed video type\". https://github.com/artf/grapesjs-custom-code. @Deepak813 this is highly discussed argument, so just make a search in issues (eg. #597) . Amazing job Ryan \ud83d\ude0d\nThanks . Hi Fabiano, check here please #266 . Currently, not on my priority list but I know that someone else was already working on it https://github.com/Immortalin/Merlot. @niutech there are no funds for a serious work... . Hi Daniel,\njust remove the default protectedCss\njs\ngrapesjs.init({\n     ...\n     protectedCss: '',\n}). @duskhacker empty protectedCss just removes default * and body rules, so what do you mean with the body section and everything in it disappears?. Hi Daniel, are you able to provide a live demo of your case?\nBTW try to avoid storing HTML inside your CSS save function (and vice-versa), for example, the CSS save button would might just be:\njs\nbtnSaveCss.onclick = () => {\n    editor.CssComposer.clear();\n    editor.setStyle(codeViewer.editor.getValue().trim());\n    modal.close();\n  };. @NorthstarTech actually the statement about the Pell is already checked. I've started from the Pell code (which is very small) and adapted it to my needs (credits). That's all, probably I should update that statement, I apologize for the confusion.\nBy the way, thanks to everyone for suggestions and I agree that default RTE is too much raw but I see it as a good compromise for the core (Ryan has shown its extendability). For a more complex and ready to use solutions I think third party WYSIWYG plugins are what we need. \nUnfortunately, at the moment we have only CKEditor Plugin, probably it's not the best fit for everyone and what makes matters worse seems like I broke something \ud83d\ude2c  IMHO the first thing to do is to fix that bug (not in the release of this week, which I hope to push today, but probably the next one) and then maybe look around for a better WYSIWYG to integrate as a plugin (How-To)\nWhat do you think?\n. FYI CKEditor issue should be fixed with this release https://github.com/artf/grapesjs-plugin-ckeditor/releases/tag/v0.0.9 (demos not yet updated). @duskhacker I'm trying the behavior described in the demo and can't reproduce it. Hi @absolution54321 it's something you should be able to implement by yourself, make use of Blocks API\njs\n// Just an example, on selected component you click, somewhere... 'Save element', and\nconst selected = editor.getSelected();\neditor.BlockManager.add('new-block-uuid...', {\n  label: `Saved ${selected.getName()}`,\n  content: selected.toHTML(),\n});\n. If you get duplicate components only when using your custom Asset Manager, well you should check how you assign the src, I can't help you more. @ShepelE just use JS\njs\ngrapesjs.init({\n     ...\n});\nconsole.log(document.getElementById('gjs-pn-commands'));\n.... Start with checking https://github.com/artf/grapesjs-plugin-filestack/blob/master/src/index.js#L50 there you will find how to customize assets modal. Once you got the result from a third party API make use of Assets API. @ajaysofto GrapesJS is a class-based style editor so if you import that kind of selector you will not be able to select it in Style Manager, so I recommend to assign specific classes to your elements. > Is something like this already possible and I missed it? If not, would you consider merging a pull request that adds this functionality?\nUnfortunately, not yet possible but I'll definitely accept a PR (ok for the option colorPicker)\nThe spectrum is called inside InputColor and used then in PropertyColorView and TraitColorView\nI'd put a comment to not override default options like change, move, etc. as it will break it. Honestly, I was thinking about a less invasive approach\n\nNone of those objects appear to currently have any reference to the editor object\n\nActually, PropertyColorView injectsEditorModel (which I commonly reference as em) as an option via target (probably will be best to rename it to em) but not in TraitColorView (easy fix, just need to pass this.config.em). After we have the em inside we can easily update InputColor like this\njs\ncolorEl.spectrum({\n         //...\n         palette: [],\n         ...this.target.getConfig('colorPicker'), // or this.em.getConfig...\n         // We need move(), change(), etc. to make the color input work properly\n         // so I'd keep them out\n         move(color) {...},\n         //...\nWhat do you think?. @michaellwatson blocks shouldn't be wrapped (just tested it in the demo), indeed if you drop an image block you just get an img. @MuTaToR08 open issues only in English, please. > GrapesJS seems to be loading okay, I put the editor.render() after the init and also inside the load event to try out.\nYou should use editor.render() only with autorender: 0, so remove it. @xeux I get a better look at the loading process in components and I think the problem is with \"gjs-components\":\"[]\" GrapesJS at first checks if components exists and if it's parsable. When you load your templates via HTML (I don't recommend it) leave components empty. @vishal5033 Let's keep \"Free Consultancy Requests\" out of the issue tracker, thanks. @HarshOB I can't reproduce it (with the current demo). Are you able to provide a live demo?. Ok I close this for now but will reopen once you provide a demo. You can make use of selectable property, so you should return return { type: 'your-type',  selectable: false }. Every time you call save-db\njs\ncmdm.add('save-db',{\n    run: function(editor, sender){\n   ...\nyou attach a new listener\njs\neditor.on('storage:store', function(e) { ...\npull it out from your command. Greate @z1lk I think even something like this will work\njs\nconst canvas = editor.Canvas;\nconst surround = document.createElement('div');\nsurround.innerHTML = '<div>Some text</div>';\ncanvas.getBody().appendChild(surround);\nsurround.appendChild(canvas.getWrapperEl());\nI close this as you've solved your case. @tristanMatthias I think you might want to check this https://jsfiddle.net/5vcc3en6/. Thanks Ryan for the complete overview, I'd say it's exactly as it should be implemented.\n\nwhat do you think about making the HTML/Html capitalization consistent between editor.getHtml() and component.toHTML()? I don't have a preference on which style to go with, but I think it would make more sense to change them to either editor.getHtml() / component.toHtml() or editor.getHTML() / component.toHTML()\n\nReally good question but probably it's too much opinionable for an exact answer \ud83d\ude02\nProbably I'd prefer xxxHtml format but I've chosen toHTML to be compliant with the standard toJSON. I'd like to collect more feedbacks/opinions. Hi @afotey \n\nWhat about if I wanted to return just the ID of a div as entered using the Component Settings panel?\n\nId assigned from component settings goes directly inside attributes therefore you can use this\njs\nconst comp = editor.getSelected();\nconst id = comp.getAttributes()['id'];\n\nIs there a way to have the export be ONLY those IDs and NOT any of the accompanying HTML/CSS?\n\nYou get other ids when your component has some style. If you use classes you should not see any of those. Hi @afotey I think you might do something like this:\njs\nmodel: defaultType.model.extend({\n        toHTML: function() {\n            if (['1', '2', '3', ...].indexOf(this.getId()) >= 0) {\n                return defaultType.model.prototype.toHTML.apply(this);\n            } else {\n                return \"\";\n            }\n        }\n    }\n...\n\nI just backed this application on Open Collective BTW! I hope it helps!\n\nThank you, really appreciated \ud83d\ude18. @krunal039 about what event are you talking about? Can you provide at least an example of how reproduce it. I can't reproduce any error, but what I see wrong at the first look is how you update models\njs\n...\nsomeModel.attributes.href = this.get(\"a_href\");\n// use\nsomeModel.set('href', this.get(\"a_href\"));\nthen you don't need $(this.el), you have already this.$el. @krunal039 first of all, update grapesjs to the latest version. \nYou don't need jquery anymore, but if you still want to use its common APIs GrapesJS includes internally cash,  so you can use it like this\njs\nconst $ = grapesjs.$;\n$(...)\nBTW how do you listen to trait changes??. @kkuksin you don't need to remove blocks/categories, you should just rerender blocks. We discussed about blocks and tabs here  #499 . @volgan sure #27 . Check here https://github.com/artf/grapesjs/issues/589. change this\ncomponents: \"<h1>hello 123</h1>\",. well, there are no traits inside your block...\nIf you're trying instead to use a custom component you have to set the type\njs\ncontent: {\n        type: 'your-component-type',\n        script: \"console.log('the element', this)\",\n        content: \"<h1>hello 123</h1>\",. > specific changes\nwhat kind of changes?. @HarshOB I didn't get exactly what do you mean with I pass codes explicitly to grapes but if you use correctly the Editor API you should see the canvas update, eg.\njs\neditor.setComponents('<div class=\"cls\">New component</div><style>...</style>');. Seems legit, thanks @gabrigcl . > we need to make the merge tags can be added from a button on the panel and then save the added tags to a config file or DB\nWell, this is up to you building such a thing. The user creates a tag using your New Merge Tags panel and update stuff on your server, then, as already mentioned by @hoainam12k, you just use RTE API to update GrapesJS. @frank-tenzing just pass them in plugins\njs\ngrapesjs.init({\n      ...\n      plugins: ['plugin1', 'plugin2', ...],\n      // options\n      pluginsOpts: {\n        'plugin1': {...},\n        'plugin2': {...},\n        ...\n      }\n  });. Yeah this is because you can't change the tag name of an existing DOM element. Probably the solution would be, on tagName change, remove and replace the node (at the same position). @z1lk I already added such a thing for the next release\njs\n// Model\n// inside init\nthis.listenTo(this, 'change:tagName', this.tagUpdated);\n// ...\ntagUpdated() {\n    const coll = this.collection;\n    const at = coll.indexOf(this);\n    coll.remove(this);\n    coll.add(this, { at });\n},. Check this #575 . O.o weird...\nI tried this and everything seems ok\nhttps://jsfiddle.net/3bprucnv/2/. Actually there is an option for the purpose\njs\nvar editor = grapesjs.init({\n     ...\n      container : '#gjs',\n      plugins: ['gjs-blocks-basic'],\n      pluginsOpts: {\n        'gjs-blocks-basic': {\n          // Which blocks to add, just omit 'video'\n          blocks: ['column1', 'column2', 'column3', 'column3-7', 'text', 'link', 'image', 'map']\n        }\n      }\n  });. Hi Matt, we're already planning to remove Fontawesome from the core and use instead SVGs for icons :). Sorry Matt, busy period :/ \nCurrently, it's already a goal replying to some issue in few days. @chiqui3d nope. \nI'd really appreciate a PR. It's about removing font awesome and replace with <svg>s (probably not placed directly inside templates but imported from utils/icons.js, in that way I can re-use them easily) where it was used (default buttons, style manager, blocks, layers).. Prefix added, will be available in the next release . @tomichal correct, but dropzone was disabled by default in https://github.com/artf/grapesjs/releases/tag/v0.12.50  we've discussed that here #507 . @HarshOB show how you create the custom trait. @HarshOB try to see if the change actually triggers\n```js\neditor.TraitManager.addType('customConent1', {\n    events:{\n        'change': 'onChange'\n    },\nonChange() {\n    console.log('changed');\n    this.model.set('value', this.getInputEl().value);\n},\n\ngetInputEl: function () {\n    ...\n. I'm not able to reproduce any issue with the current release. In case the issue still persists please provide a live demo. Hi @effectief, create a wrapper for children with that `propagate` property\nparent // movable, removable, etc\n    wrapper // with propogate, not movable, etc.\n        child\n        child\n        ...\n. @blackbirdzzz we already discussed it here #307. Hi @AH1N1 you could set up thisjs\nconst sm = document.getElementById('gjs-sm-sectors');\nconst updateStyleManager = () => {\n    const model = editor.getSelected();\n    sm.style.display = model.getAttributes()['id'] ? 'block' : 'none';\n}\n// Triggers on component change\neditor.on('component:selected', updateStyleManager);\n// Triggers when you update component's attributes\neditor.on('component:update:attributes', updateStyleManager);\n. Good job, thanks Ryan \ud83d\udc4d \nI checked the error and it's actually true, InputColor expects the model to be a `StyleManager/Property` which is obviously not the same for traits \ud83d\ude2c  have to refactor that part, thanks for the clue. You can also do thisjs\ncontent: <div class=\"header-banner\">...</div>\n    <style>\n        .header-banner {\n            ...\n        }\n    </style>\n```. Thanks Mike for pointing this out, I definitely add this to the Roadmap (#74). > Has anyone started on this?\nFrom what I know none\n\nI'd be willing be contribute\n\nIt'd be awesome\n. Well done @z1lk let me know when you've done, I'd be glad to put on README. I'll add removeClass in the next release. Hi Michael, you might want to rely on Component's view for this purpose\n```js\nconst selected = editor.getSelected();\n// Here you can use any type of query string\nselected.view.$el.find('[type=hidden]').each((el, i, $el) => {\n    const model = $el.data('model');\n    model && console.log('Hidden component found', model);\n});\nProbably I'll add `find(query)` into Component in the next release. `find()` was added in the latest release, try with thisjs\nconst selected = editor.getSelected();\nconst input = selected.find('[name=my_field]')[0];\ninput && input.setAttributes({ value: 'Value here' });\n```\n\nIt would be good to know if there was an \"on selected\" kind of trigger that fired when an element was selected\n\njs\neditor.on('component:selected', () => console.log('Selected', editor.getSelected()))\n. @Deepak813 why you don't update to the latest version?. Currently, each new release ends the support of the previous one, so in your case, you have to figure it out by yourself what is changed.\nI highly recommend to update to the latest version and create always plugins for any customization. . Hi @tranleanhthe it's up to Aviary changing its UI\nCheck the docs https://www.adobe.io/apis/creativecloud/creativesdk/docs/websdk.html. @tommywulove I'd say it's another issue, this one was patched by Ryan. Hi @mingodad and thanks for this catch, actually the real issue was updating attributes reference here https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/Component.js#L285\nI'll publish the fix in the next release. Thanks  @mingodad . Hi Jeremy, might this https://github.com/artf/grapesjs/wiki/Components#hints be the case?. > My component is detected with his className 'img-link' and the type 'img-link' is return and so re-rendered.\nisComponent is used only when an HTML is parsed, so I'm not sure it's the case.\nWhat do you get with a simple getHtml? Are you able to provide the live demo of your case?. The problem with src is here\njs\n// view\neditor.runCommand( 'open-assets', {\n                        //  the model should be the one inside img-link\n                        target: this.model,\nWhat I think you just should do is to create a custom view where you disable the pointer events on the inner img (eg. in render, in this way you'll always select the img-link model) and then on openModal pass the inner img model as a target. Great, thanks Ryan  \ud83c\udf96 \ud83d\udc4d. Hi @tlatforlz first of all check out the docs page about Assets which could be helpful\n\nHow I can set a image by select, current logic after I upload image, I must select image in list Asset ? I want after I upload Image, I set it in the component.\n\nYou might want to rely on Assets Events\n\nHow I can reload Asset. I write api to save image in Get Image. Image auto save in Asset. I want reload Asset to load image from my database.\n\nUse can make use of load method from Assets API. You can make use of Events\njs\neditor.on('component:add', model => {\n    const cls = model.getAttributes()['class'];\n    cls == 'non-copyable' && model.set('copyable', 0);\n}). Hi @tlatforlz you have to update the src of the component\njs\nimageComponent.set('src', 'https://.../image.jpg');. Thanks for the PR Domingo but as already mentioned here the real issue was different and already fixed. The patch will be available in the next release. Hi @mingodad there is actually an option which enables the possibility to clear values but it's still a work in progress (have to deal better with composite types)\njs\ngrapesjs.init({\n    ...\n    styleManager: {\n        clearProperties: true,\n        ...\n    }\n})\n. clearProperties is more stable now. Hi @crazyxhz currently it's not possible to achieve via configuration but it's something I'd like to improve.\nCurrently, as a workaround, you can move panels via js once are rendered, for the block manager you have to activate it first\n```js\nconst editor = grapesjs.init({\n    ...\n});\neditor.on('load', () => {\n    // Load blocks and put them in another element\n    editor.runCommand('open-blocks'); // this will render blocks\n    const blocksEl = document.querySelector('.gjs-blocks-cs');\n    yourContainer.appendChild(blocksEl);\n})\n``. Thanks @lorrandavid for pointing this out, this issue can be closed now. Thanks Samina. Hi @mingodad, unfortunately, I can't merge this as it will break all other imports/exports with current text elements (which should not be escaped). I think we just have to create a new Component for` tags which escapes its contents.\nps. I'd prefer to use escape from underscore\n``js\nimport { escape } fromunderscore`;\nconst escaped = escape('string');\n. As already mentioned [here](https://github.com/artf/grapesjs/pull/676) we have to create a new Component for `<pre>` as escaping everything it's not an option. @suchithmahadi GrapesJS just comes with a default UI that you can easily change with JS and CSS. Thanks @z1lk for the suggestion, it definitely makes sense but I'm not sure about copying stuff, I'd like to avoid repeating code, probably it would make sense create an abstract view which does the same thing and which we can use in other points. Thanks @z1lk I confirm you about the issue in the demo, but the bug behind this was already fixed thanks to #661 The patch will be available in the next release. Should be fixed now https://github.com/artf/grapesjs/releases/tag/v0.12.58. Thanks @vishal5033 I found the bug, it should be fixed in the next release.. Hi @chiqui3d you can create blocks with an object as a content with all [available properties](https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/Component.js#L17)js\nblockManager.add('my-block', {\n  label: 'Simple block',\n  content: {\n    // Component properties\n    removable: false,\n    draggable: false,\n    ...\n  }\n})\n``. @chiqui3d remove thiscontent: \"Test Block\",. @chiqui3d, first of all, I had to remove alsodraggable: false` otherwise you're not able to drop it inside the canvas, then, honestly, I don't understand what is actually your issue. > @artf I don't want it to be draggable and I don't want to drag it into the canvas. I just want to click on the Link Replace block button, this show an input to put URL and a submit button (these options as Style Manager does, which shows the options inside the panel).\nOk, this is has nothing to do with Blocks then\nFor your case, I'd suggest adding a new button with a custom command which just opens a Modal with your stuff and executes your logic. Hi @suchithmahadi first of all, exporting the zip is done by this plugin and not inside the grapesjs core. Besides this, there is no such functionality so you have to implement it by yourself (eg. using jszip). Thanks Ryan \ud83d\udc4d . Refactored TraitView for such functionality, will be added in the next release.\nThanks\n\nSorry for all the issues\n\nReporting bugs it's already an aid :). @tommywulove ok I close this then\n@ryandeba As you already mentioned the toolbar is created when the component is initialized so, honestly, I don't see it as a bug and overall, your snippet should work well. BTW thanks for your willingness to help. Hi @standus I explain here #26 why there is no reason to have i18n module. Hi Harsh, \n\nIs there any methods to manipulate the input value of an attribute that is passed through traits.\n\nNope, probably the best you can do is creating a custom Trait and override onValueChange but take care also on how you will retrieve the value. @tommywulove I tried this in the demo\njs\neditor.on('run:preview', () => console.log('run preview'))\neditor.on('stop:preview', () => console.log('stop preview'))\nand the sequence seems correct. Hey @tommywulove  are you able to provide a live demo of your case cause as I said I can't reproduce it. Hi @tommywulove can you provide a live example? As I said I can't reproduce it so there is no reason  to merge your PR. That code is from the webpack dev server and honestly, have no idea why you get CORS issues here. What about another browser?. Hi Luiz, [] just stands for that uploadName is an array as you might need to upload multiple files. Hi Benjamin, thanks for the suggestion but currently I'm not interested in such functionality. Hi @integrateddigital are you able to provide a live demo of your case because honestly, I didn't get how exactly properties are overridden. Hi @NHKK if your goal was to extend input component with some binded event you were almost there (you just need to use comps.addType)\njs\n//...\ncomps.addType('input', {\n    //.. \n    view: defaultType.view.extend({\n        events: {\n          click: 'handleClick',\n          dblclick: 'someOtherFunction',\n          // or\n          dblclick: function() {...}\n        },. Hi @vishal5033 currently the canvas is not a droppable element but I've added HTML5 D&D support to the Rodmap (#74) . @vishal5033 probably in the next release. Inside your html-block component create a new property (eg. custom-code) for user's code and retrieve it with editor.getSelected().get('custom-code'). @crazyxhz are you sure you're using the latest version? (can't reproduce it with the current version)\n  . Not sure, but, again, are you using the latest version?. @crazyxhz does this helps?\njs\nwindow.addEventListener('resize', () => editor.trigger('change:canvasOffset')). @krunal039 great I close this then, the IE11 support was added in the latest release https://github.com/artf/grapesjs/releases/tag/v0.12.55\nThanks for help Ryan.\nFor anyone else encountering issues with undo manager clearing be sure to call editor.UndoManager.clear() once your async methods are finished. Hi Austin, the reason behind your issue it's just because the built-in RTE works differently from a custom one (eg. CKEditor plugin) which just writes all changes inside content. \nhttps://github.com/artf/grapesjs/blob/dev/src/dom_components/view/ComponentTextView.js#L67-L90\nThe default RTE resets its components with a newly updated content so you have to check them through model.components() instead of model.get('content')\n  . \ud83d\udc4d . Sure, you can make use of data-gjs-* attributes (eg. data-gjs-draggable=\"ul\")\nCheck the last example code here https://github.com/artf/grapesjs/wiki/Blocks. Thanks Austin :). @sakshigarg9 you can use any query selector (eg. div#some-id > .class). Actually, I was thinking about adding such a functionality but didn't go so far \ud83d\ude2c\nhttps://github.com/artf/grapesjs/blob/dev/src/commands/view/MoveComponent.js#L74. I don't remember exactly why but I'd appreciate a PR for this (preferably disabled by default and activable via configuration). Probably the reason of why I gave up \ud83d\ude02\nAs you see from here \nhttps://github.com/artf/grapesjs/blob/dev/src/commands/view/MoveComponent.js#L74\nI tried using setDragHelper which copies the element's style from getComputedStyle but I also remove its children dragHelper.innerHTML = '' as getting inners style could be too much expensive. At the moment, I see these possible solutions:\n1. Show only the shape of the element\n1. Let the user define its function which returns the placeholder element\n1. Find a way to use the native HTML5 d&d \"ghost\" image (creates already a screenshot of the element). One of the problems with this is to trigger drag event by clicking external element (in our case move icon). Unfortunately, moving components is slightly different so I'm still working on this. Still in progress @ahmeddabak \nI was trying to make native DnD work also on components inside the canvas (for now its enabled for blocks and external d&d). Doesn't seem like a big deal but the problem is to trigger it from the 'move' toolbar button.\nHere you find how to activate the dragstart event on the button https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/Component.js#L535\nThe logic of setting up the DragImage is inside tlb-move https://github.com/artf/grapesjs/blob/dev/src/commands/index.js#L143\n. @tommywulove follow my instructions before submitting a PR\nthk. @suchithmahadi you're free to use it inside your project but it's not something we need inside the core of GrapesJS. Because this is how <template> tag works https://github.com/artf/grapesjs/issues/244. Hi Nicholas, are you defining selectReference inside a plugin?. Tried your code here\nhttps://jsfiddle.net/vv7sch2u/\nand seems to work properly. >  it actually broke everything\nI'd appreciate more information. Do you have errors in console? From which version are you trying to switch?\n\nIt seems that certain things are no longer in the newer versions that were in the older ones\n\nExactly, what are you talking about? If I remove something from the core (as I did with default blocks) generally I replace it with some plugin/s\n\nand there are no explanations as to what the replacement of each removed thing is\n\nAll changes are tracked here https://github.com/artf/grapesjs/releases\n\nMaybe there is a workaround to fix isComponent\n\nI didn't make any change with isComponent itself, so I guess it's something else.\nAre you able to provide some live example of the problem?\n. Try with something like this\n```js\neditor.on('component:selected', () => {\n    const selected = editor.getSelected();\n    if (!selected || !selected.get('draggable')) return;\n    const el = selected.view.el;\nif (!el._hasCustomEvent) {\n    el._hasCustomEvent = 1;\n    el.addEventListener('mousedown', () => { editor.runCommand('tlb-move') })\n}\n\n});\n``\n  . Hi Michael, \nthere is actually a kind of bug in 'open-sm' which doesn't allow calling the command withrunCommand` but the reason is that it was designed to be called just by its relative button, indeed I'd recommend doing this for your case\njs\neditor.on('component:selected', () => {\n    const openSmBtn = editor.Panels.getButton('views', 'open-sm');\n    openSmBtn.set('active', 1);\n});. Sure editor.DomComponents.getWrapper().addClass('wrapper'). > I do not want to update to latest release, so can you tellme , any possible way to achieve this\nSorry but GrapesJS is in active development so it doesn't make sense for me supporting older versions. You probably need to do something like this on render\njs\nconst wrapper = editor.DomComponents.getWrapper();\nwrapper.view.$el.find('#someid img').each((el, i, $els) => {\n   const $el = $els.eq(i);\n   const model = $el.data('model');\n   model && model.set('resizable', 0);\n});. Hi @endersaka, thanks for your appreciations and suggestions. WordPress plugin for GrapesJS is definitely a good showcase of an integration with CMS but working on the project just in spare time and lack of deep knowledge of WP codebase was always an impediment.\n\nDoes this solution make any sense to you? Or would you suggest any other approach?\n\nHonestly, I don't know if this is the best approach but definitely makes sense :). Great \ud83d\udc4d \n\nSince Components are actually stored in to the JavaScript data model of Grapesjs, I am not sure, but I see an oportunity to output something that affects Componets model instead of their in editor HTML representation.\n\nExactly, usually, you would store JSON object as it keeps more information about components and the HTML is just the \"final product\" which will be seen by the final user (not the wp's admin). Nope, but you can define custom Traits and customize renderField method. > there is an error when parsing the response at grapesjs\nWhich error???  \nProbably just try to change context.Response.ContentType = \"text/plain\"; with context.Response.ContentType = \"application/json\";. Unexpected token E in JSON at position 0 means your response it's not a valid JSON  string (which should start, for instance, with { or [ not E, probably there is an Error...). Check the response in your dev tools and you will see it\n. Tried this in the demo and works as expected\njs\neditor.on('change:changesCount', (model) => { \n    console.log('changed'); \n});. > This works for you?\nYeah, it works with the demo (which uses the latest version)\n\nI tried this in my code an nothing happens\n\nHave you tried to change the structure of the template?. @wvaymen sure, but you have to enable script importing before\njs\nconst editor = grapesjs.init({\n    ...\n    allowScripts: 1,\n});\neditor.addComponents('<script>alert(1)</script>');. no @wvaymen you can only put blocks inside categories. js\nblockManager.add('your-block', {\n  label: 'Label',\n  category: 'Some category',\n  content: '<div>Content</div>',\n});. Hi @NicholasGati,\nyou can find the changelog inside github releases https://github.com/artf/grapesjs/releases. Hi @kickbk and thanks for the debugging, I was able to reproduce it and fix it.\nThe issue was the loading of Traits before Classes\nhttps://github.com/artf/grapesjs/blob/dev/src/dom_components/model/Component.js#L167-L168\nThe fix is ready and will be available in the next release. Yeap, I updated the site with a temporary release, thanks\n  . Hi @hesa2020 \nyou should definitely create plugins to customize the editor and you can start from reading here.  Another important resource for customization is API Reference, if you have problems try to check first in repo's issues. For the Split view try to check the Preview Command, CSS Editor / HTML Editor should not be too much different from this one (used inside the demo).. Probably you're just storing/loading HTML (which doesn't have this information) instead of JSON. What do you mean by the elements from the preview don't answer?\n  . @kevinalvarez can't reproduce. Can you create a live demo?. > Is calling em.stopDefault() necessary inside FrameView.updateDim()? I'm guessing there's a good reason for it, but I'm not sure what that reason is.\nIt's there to prevent fixed highlighting box which appears when you hover components during the animation \ud83d\ude2c\nI'll put a fix which will gonna check on the dimension change otherwise udpateOffset will be triggered immediately\n. hey thanks @z1lk but before the review, can you update tests first?. @AustinTBiggs did you try to use corner handlers? By default, the ratio is preserved, otherwise you can hold shift to turn it off\n\n. > I had a max-width on my images which was skewing them when I resized them too large, whoops!\nGreate, I close this then\n\nIs there a way to disable certain handles? Besides w/ CSS\n\nEach component has a resizable property where you can also pass an object as options for the Resizer. > Does the Trait object need a setValueFromInput method?\nThis leads to the duplication of code but still think this will gonna work better\n```js\n// in Trait.js\nsetValueFromInput(value, final = 1, opts = {}) {\n    const toSet = { value };\n    this.set(toSet, { ...opts, avoidStore: 1});\n// Have to trigger the change\nif (final) {\n  this.set('value', '', opts);\n  this.set(toSet, opts);\n}\n\n},\n``\nmoreoversetTargetValue` it's not actually a correct way because you have to update the model first (a listener will update the target later)\nThe real problem is a bad design from the start. To be correct I should have inside 'abstract/ui' an InputModel and its InputView (same for other types of input), then using them inside traits and styles. Basically, the structure has to be closer to what is done with properties inside style manager but there is a little bit more work to do -.-\n  . This is how it's done on the image component https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/ComponentImage.js#L33-L38. @HarshOB I've tried with the demo and it works as expected. Hey Austin, as suggested by Ryan, just remove the class. Well yeah removing was just one of the options. You could for example adding another one or disabling (by clicking the checkbox) the current (without active classes you style a single component). Thanks Ryan. Are you sure there are no strange styles loaded which forces img style? Try to inspect and see if style actually changes. Are you able to reproduce it with a live example?. Apologize @theanhmx but if you're not able to reproduce it, probably this means it's something wrong in your application, try to isolate the editor from the angular to verify if this is somehow related to the issue.\nI close this for now, but for anyone else facing the same issue please try to create a live demo first and I'll reopen it. I'll add component:clone event on the next release. yeap, setClass is available in latest versions. @duskhacker \nhere editor.setStyle(codeViewer.editor.getValue().trim()); you're setting this string <style>.txt-red....</style> when it should be .txt-red...\nQuick fix, just replace setStyle with addComponents. I think that change in BlocksView is not necessary (at first look). If you pass the category as an object it will be added as it is with all its properties. If for a change you mean updating the view of the category with an order style (if exists) I'm ok with it. well if you add, the editor stores the template (local/remote), after refresh editor loads it and you still use add... well, it's a correct behavior.. @suchithmahadi you just have to avoid it triggering twice, try to find the way to let you know when the content is new or already loaded\njs\nif (notYetLoaded) {\n    editor.getComponents().add(...);\n}. https://jsfiddle.net/wswvuvab/2/\nSeems to work properly (check your version), I added data-gjs-hoverable=\"false\" property to prevent the highlighting box. I think Ryan's example explains everything. Great \ud83d\udc4d  thanks Juan. Added for the next release. Hi @Deepak813 first of all, this had to be open in countdown repository as it strictly related to it. Not by chance I call it Simple countdown component if you want something more just extend it or create a new one (the code is there if you want to copy). BTW with options already available your able to use   datetime-local. @Deepak813 You can find the snipper here https://github.com/artf/grapesjs/blob/gh-pages/demo.html#L1366-L1397. @Deepak813 try to check here how to setup a custom UI. Thanks @MuTaToR08 \ud83d\udc4d . @vishal5033 you can make use of model.find('tr > td[something]')[0], in this way you get the model (use the v0.12.60 as it fixes some stuff related to find). I'd just add \njs\nattributes() {\n    return this.model.get('attributes');\n },\nin PanelView and put some checks in PanelView.render (just to avoid those hard coded attrs), then when you create panels you just pass attributes key\njs\neditor.Panels.addPanel({\n    id: '...',\n    attributes: { ... }\n});. toHTML prints everything inside its component, be sure to add you attributes inside the model, not the view. Hi @gordon-matt and apologize for the late response. As you already get it, the store expects nothing, but onResponse callback is always executed therefore you get that error.\nProbably just putting typeJson && text && typeof text === 'string' might solve the issue.. Hi @raphaelraj1035 GrapesJS is framework-agnostic so you can use it wherever you want. @gabrigcl I agree and think that Ryan's suggestion could be a solution (apart the fact insertHTML is not supported by IE)\n. @gabrigcl I leave this issue as an opened bug so no need to put it into roadmap. > when use SHIFT + \"Enter\" to break line in text it will create  tag instead of creating a new component maybe is rich text editor behavior (using default rte not using CKEditor).\nWebKit's behavior. The new release https://github.com/artf/grapesjs/releases/tag/v0.14.33 improved a bit the TextComponent. It still creates new paragraphs but the editor will hide them from the selection.\n@gabrigcl from your original problem, one big issue that I guess you're doing there is, when you change the page, relying on HTML/CSS instead of the JSON and this is why are not editable after the change. Great, for now, I close this. @frasza your issue is not related https://github.com/artf/grapesjs/issues/1635#issuecomment-445242563. You mean something like this?!?\n```js\nimport grapesjs from 'grapesjs';\nimport 'grapesjs-blocks-basic'; // <-- autoloads inside grapesjs instance\nconst editor = grapesjs.init({\n    // ...\n    plugins: ['gjs-blocks-basic'],\n});\n. Try to use eventsjs\nlet prv;\neditor.on('run:preview', () => prv = 1)\neditor.on('stop:preview', () => prv = 0)\neditor.on('run:open-assets', () => prv && editor.Modal.close())\n. Nope, but there is an open bounty about touch support https://github.com/artf/grapesjs/issues/241. Hi @perfect-coders, with the latest version https://github.com/artf/grapesjs/releases/tag/v0.13.5 the HTML5 drag and drop is enabled by default (disableable by `nativeDnd` option) and unfortunately I wasn't able to keep such events with this approach. The new d&d module provides [similar functionality](https://github.com/artf/grapesjs/wiki/API-Editor#canvas) but now it's more generic, therefore `canvas:drop` will be triggered with any component drop (from blocks or any other OS source). \nSo you have two options:\n1. Keep the new d&d module and replace your old `block:drag:stop` events with something thisjs\neditor.on('canvas:drop', (DataTransfer, model) => {\n    // ... \n})\n2. Disable the new modulejs\ngrapesjs.init({\n    //...\n    nativeDnd: false\n})\nThanks for pointing this out, actually I'll update the changelog. Hi Austin, can you explain which is your issue with a selected component? I've seen a lot of builders with the same behavior so honestly, I don't see it as a problem.\nBy the way, I think you could implement something on your own, with `editor.select()` you deselect the component\n. @frank-tenzing you shouldn't edit files in the `dist` folder, those are generated every time by `npm run build` You have to edit files inside `src`.\nBTW that code seems to come from cash library, not grapesjs itself (about the issue let's keep talking here #768 ). @frank-tenzing not sure if it's IE's only error,  are you facing this issue with some kind of template (which probably contains some SVG element)?. @frank-tenzing thanks, but what about other browsers?. That snippet is from cash library and I think it's related to https://github.com/kenwheeler/cash/issues/131\nBTW we could patch it internally in https://github.com/artf/grapesjs/blob/dev/src/utils/extender.js#L104\nprobably by doing this https://stackoverflow.com/questions/12588913/svganimatedstring-missing-method-indexof#answer-12592009. Hi @gordon-matt, you manage assets with [Asset API](https://github.com/artf/grapesjs/wiki/API-Asset-Manager) and its [events](https://github.com/artf/grapesjs/wiki/API-Editor#assets), the remote part is up to youjs\n// Init the editor with assets\nconst editor = grapesjs.init({\n    // ...\n    assetManager: {\n        assets: [\n            'https://.../image.png',\n            { src: 'https://...', name: 'Image Title' },\n            // ...\n        ],\n        // ...\n    }\n});\n// or even later with Asset's API\nconst assets = await fetchUsersAssets(); // ['http://...', { ... }]\neditor.AssetManager.add(assets);\n// For the delete, you can make use of events\neditor.on('block:remove', asset => {\n    const uuid = asset.get('id') // <- you can pass to assets any custom property\n    removeAsset(uuid);\n} )\n``. @goldengrisha a little bit more specific?!?. @goldengrisha I apologize, but are you talking about adding custom attributes to HTML element or Component models?. @goldengrishayeswhat? \ud83d\ude02  HTML  or Component models?. @Deepak813 as already mentioned by Ryan you have to useeditor.getSelected().set('src',image_Url)`. @AkibDeraiya123 All available methods are here: https://grapesjs.com/docs/api/component.html. > The only way I know to do something like would be to make a custom trait \nCorrect. @krunal039 with custom traits you define the DOM so you can create whatever you want (look at the example there). Thanks @kevinalvarez probably I got where the issue is, I'm gonna push a fix soon.. Hey Ryan what about this custom component\n```js\n    const domc = editor.DomComponents;\n    const textType = domc.getType('text');\ndomc.addType('raw-text', {\n  model: textType.model.extend({\n    },{\n      isComponent: function(el) {\n        if (el.hasAttribute && el.hasAttribute('data-raw-text')) {\n          return {\n            type: 'raw-text',\n            content: el.innerHTML,\n            components: [] // this will avoid parsing children\n          };\n        }\n      }\n    }\n  ),\n  view: textType.view.extend({\n    disableEditing() {\n      const model = this.model;\n      const rte = this.rte;\n\n      if (rte && model.get('editable')) {\n        rte.disable(this, this.activeRte);\n        model.set('content', this.getChildrenContainer().innerHTML)\n        .trigger('change:content', model);\n      }\n\n      this.rteEnabled = 0;\n      this.toggleEvents();\n    },\n  })\n});\n\n```. You should never trust developers \ud83d\ude02  particularly those who work on front-end\n. Yeap, seems like quotes were missing in background-image: url(. Will be fixed in the next release.\nThanks. You might want to try this one https://github.com/artf/grapesjs-lory-slider. > Its urgent,please reply as soon as possible as we are struck in the middle of the tasks\nPRs are welcome.... @ghena you should store HTML/CSS for the final result, for the editor you have to rely on JSON format\njs\nconst comps = editor.getComponents();\nconst style = editor. getStyle();\nI think it would be better for you using the built-in remote storage instead of a custom one\njs\ngrapesjs.init({\n...\nstorageManager: {\n            type: 'remote',\n            stepsBeforeSave: 10,\n            contentTypeJson: true,\n            urlStore: \"<?php echo $pathHttpGrapes ?>/scripts/save.php\",\n            // You don't need this if you already init the editor with a template\n            // autoload:  true,\n            // urlLoad: \"/load-template/2\", \n            params: {\n                post_id: <?php echo $_post->ID ?>\n            },\n          },\n})\nCheck also #597 . @shareefhiasat all you need is here https://github.com/artf/grapesjs/wiki/Storage. @Deepak813 yeap, seems like the colorpicker breaks the drag event attached to blocks. Ok I think I found it\nspectrum tries to unbind its custom events with this\nhttps://github.com/artf/grapesjs/blob/dev/src/utils/ColorPicker.js#L1218\nbut the patched unbind is unable to receive objects \ud83d\ude2c. @JulyanoF you can re-render them in this way\njs\nconst bm = editor.BlockManager;\nbm.render([\n    bm.get('column3'), \n    bm.get('column2'), \n    bm.get('column1')\n]);\nor, if it's just about reordering inside their categories, you can rely on order css property as its container is flex. Don't remove them, just update and render\njs\nconst bm = editor.BlockManager;\nconst colmBlock = bm.get('column3').set({\n    label: 'Clm label'\n})\nbm.render([\n    colmBlock,\n    //...\n]);. Read here please https://github.com/artf/grapesjs/wiki/Traits. I created a dedicated jobs channel on Discord https://discordapp.com/channels/365099684114464769/404263782559514624. Sure. @lypliuyinping everything you need is inside src folder. Probably you're looking for Components with JS\n. Here is an example of getting a previous model and updating it with new attributes\njs\nconst sel = editor.getSelected();\nconst coll = sel.collection;\nconst index = coll.indexOf(sel);\nconst prevModel = coll.at(index - 1);\nprevModel && prevModel.set({ \n    attributes: { ... }\n});. You have to create the comment component #208 . @Geczy probably I've to update the description, but getComponents just returns wrapper's components (with its children), if you want to return an array of all components you can do this:\njs\nconst getAllComponents = (model, result = []) => {\n    result.push(model);\n    model.components().each(mod => getAllComponents(mod, result))\n    return result;\n}\nconst all = getAllComponents(editor.DomComponents.getWrapper());. @JulyanoF sure, you can create a custom Trait (eg. textarea which, on render, initializes with some custom RTE) and on update change the component's content\nps: please, next time, follow the issue template. @lauragadea probably you should try to extend default component types (eg. default, image, text, etc.). Find where is the issue, it will be fixed in the next release. @chiqui3d should be fixed. This is just a default Panel with 3 buttons where each button triggers its own command\nOpenStyleManager\nOpenTraitManager\nOpenBlocks <- being the last modified, use this as a starting point\nSo if want to add a new button there you can use this\njs\neditor.Panels.addButton('views',{ // `views` is the panel's id\n    id: 'yourBtnID',\n    className: 'someClass',\n    command: 'yourCommand',\n    attributes: { title: 'Some title'},\n})\n. Apologize @chiqui3d but try to elaborate better, because I didn't get a single statement of what you're asking. If you're working with a custom asset manager take a look here #491 . Pay attention to the current command \nYour command should be something like this\njs\neditor.Commands.add('open-assets', {\n     run(editor, sender, opts = {}) {\n        // Here you call your custom asset manager, for example\n          someCustomeManager.open({\n                 onImageSelect(url) {\n                    // update the selected component\n                    opts.target.set('src', url);\n                    ...\n                 } \n          })\n     }\n});. @kickbk I can't reproduce it, but I think I'm doing something wrong, can you provide a screencast/gif of the behavior? (or anyone who faces the same issue)\nThanks. Thanks @kickbk now I get it. It was already fixed here #779 and will be available in the next release. Hi Denis, can you leave the webpack file as it is?. Thanks Denis, but one more thing. Why do we need babel-eslint?\nWhen you push a PR you should avoid the build command otherwise we get useless conflicts with dist files\n. Update deps with the latest version. @Piterden \nplease avoid changing the styleguide of the project especially without discussing such a thing\nhttps://github.com/artf/grapesjs/blob/dev/CONTRIBUTING.md#styleguide. Thanks @cjpollard BTW it was already solved https://github.com/artf/grapesjs/issues/796#issuecomment-360610181. Thanks @larshisken . @goldengrisha first of all, your isType(value) is not correct\nIf you pass a string in assetManager.add the value will be that string and just by returning it you say nothing about its type (isType should return a Boolean or { type: 'something', ... }), moreover I think this doesn't make sense\njs\nassetManager.add('<video src=\"http://localhost:2195/malls/78620a57-d32f-40a5-9b06-003c2338c377/SampleVideo_1280x720_1mb.mp4\" class=\"gjs-no-pointer\" style=\"height: 100%; width: 100%;\"></video>');\nyou're working with assets not Components, probably what you're looking for is something like this\njs\nassetManager.addType('video', {\n            ...\n      view: {\n           getPreview() {\n             const src = this.model.get('src');\n             return `<div>\n                    <video \n                        class=\"gjs-no-pointer\" \n                        style=\"height: 100%; width: 100%;\"\n                        src=\"${src}\">\n                    </video></div>`;\n           },\n        ...\n       },\n       isType(value) {\n                // eg. here you might check/parse/fetch url and try to \n                // understand the type\n                if (isString(value) && propablyVideoUrl(value)) {\n                    return { type: 'video', src: value  }\n                }\n       }\n});\nassetManager.add('http://local ... 1mb.mp4');\nIf you add your assets via objects (eg. { type: 'video', src: '...', ... })  you don't even need isType as you're declaring it explicitly\nAnother good question, why you don't see your assetManager.add([ { type: 'video', src: ... which are actually correct?!? \nWell this is because  by default OpenAssets command shows only images\nYou can extend that Command and just rendering them in this way\njs\nconst assets = assetManager.getAll();\nassetManager.render(assets.filter(asset => asset.get('type') == 'video'))\n. Yeah, load is the event to use for this case. Try with this\njs\nchange: function() {\n    editor.getSelected().trigger('change:startfrom')\n}. > From what I understand of the drop placeholder (green bar in attachment), it's in a separate \"Layer\" and actually lives outside the canvas. I want to implement a better drop placeholder, I'm just not sure where to start when implementing this.\nExactly and the reason behind this approach is better performances (less DOM manipulations) and IMHO less confusing, so I don't have any valid reason to start working on this feature.\nIf you want to start by yourself I think onMove method from the Sorter is a good start. I just merged https://github.com/artf/grapesjs-blocks-basic/pull/4  which solves the issue. I'll publish soon a new release of the plugin. Done https://github.com/artf/grapesjs-blocks-basic/releases/tag/v0.1.3. > deleted few classes[ unable to understand why so ]\nNot used classes are not rendered\nThe suggestion proposed by @JulyanoF is the valid one\n\nit just loads all of the results page and few classes from other pages\n\nYou can use as many styles you need \njs\nstyles: [ '..file1.css', '..file2.css', ...]. Thanks Kevin, I've found the issue and the fix will be available in the next release. Probably because you're passing a collection (wrapperChildren) to updateAll which expects a model\njs\nupdateAll(editor.DomComponents.getWrapper());. The Link extends Text Component so you just have to double-click on it to start editing. @arthuralmeidap you can trigger the event directly on the added component\njs\nconst model = editor.addComponents({ type: 'image' });\nmodel.trigger('active');. @arthuralmeidap I don't think that such behavior should be attached to the component by default, therefore, I delegated it to the dropper. No problem, @arthuralmeidap I'm always open to any discussion about the design, but in this case, I'm still concerned about adding such a behavior by default. Adding an object and an HTML string it's basically the same, so imagine to add such a component\njs\neditor.addComponents(`<div>\n  ...stuff\n  <img alt=\"img1\" \\>\n  ... other stuff\n  <img alt=\"img2\" \\>\n  ....\n</div>`);\nWith a default active trigger you'll \"see\" the Modal twice\nWhy model.trigger('active') is not good for your case?\n. Good point @alimajed93 but can you update here the file https://github.com/artf/grapesjs/blob/dev/src/styles/scss/main.scss#L629\nFiles inside dist(distribution) are just generated on npm run build command and shouldn't be touched. Thanks @alimajed93 \ud83d\udc4d . > different panel's view than StyleManager\nProbably you're talking about the behavior in the demo, implemented by the webpage preset here \nhttps://github.com/artf/grapesjs-preset-webpage/blob/master/src/panels/index.js#L106\nSo in your case, it'd be something like this:\n```js\neditor.on('component:selected', () => {\n    const selected = editor.getSelected();\nif (selected && selected.is('text')) {\n    // do stuff\n}\n\n});\n. Did you create the `abrirEditor` command?. Provide a live demo. Thanks Juan \ud83d\udc4d . @JulyanoF be aware that `content` is for static strings (used mainly for custom RTEs) therefore by doing this `editor.getSelected().set('content', '<div>TEXT1</div>...')` you wouldn't be able to edit inner elements.js\nconst selected = editor.getSelected();\n// Get the JSON of the Component\nJSON.stringify(selected.toJSON())\n// Get its HTML\nselected.toHTML();\n// Set new components\nselected.components('Text1Text2')\n```\n. @Deepak813 \njs\nconst allAnchorModels = model.find('a');\nallAnchorModels.forEach(model => model.setAttributes({ href: '...' })). > update all three anchor tag with different href when element is dragged\nwell... this logic is up to you. @pranzikkin you can set up a remote storage #778 which will store your data automatically. https://github.com/artf/grapesjs/issues/820#issuecomment-361732512. Thanks Ryan, I'll add a new listener, in the next release, which should fix the issue. Hi @hillelcoren \n\nHow can I move the command panel from the top to the left as is shown here\n\nPanels are all arranged freely by CSS so you can move them as you want\n\nI was having trouble getting the block icons to show, I saw individual letters instead. I was able to fix it by copying the main-fonts.woff file, should I need this file?\n\nYeah, unfortunately, most of the icons are coming from fonts, therefore you have to include them if you want to use the same icon.\nBTW we're planning to remove them as a dependency #644. Hi @maxtacco, unfortunately, this is due to how the Sorter works when moves components and honestly, at the moment, I can't see better workaround than your one. Hi @JulyanoF unfortunately just some legacy part, as Assets are already highly customizable I'm not gonna implement such a feature in the core. The correct way of doing so would be updating the Storage model\njs\neditor.StorageManager.get('remote').set({ urlStore: '...', ... }). @chiqui3d indeed I've updated the grid system which enables a more natural editing of rows/columns. \nBTW I still think the example of images is a nice showcase of the \"power\" of classes and not a \"problem\". @rohanreddyg can you create a live demo of your case, please. @chiqui3d in this way you're just updating the view, the output code is generated by the model instead (when you update the model changes are reflected in the view)\nSo your example will be something like this\njs\nconst wrapper = editor.DomComponents.getWrapper();\nwrapper.find('a').forEach(aModel => aModel.addAttributes({ href: '.../...' })). You have to set allowScripts to true\njs\ngrapesjs.init({\n  ...\n  allowScripts: true,\n}). @JulyanoF if the issue is solved please close it\nps. big thanks to @arthuralmeidap for his support \u2764\ufe0f . @AustinTBiggs I don't know if it's just this, but your links have data-gjs-draggable=\".menu nav.menu\" which instead should be something like data-gjs-draggable=\"nav.menu\". With .menu nav.menu you mean that you can drag only inside nested menus, maybe it supposed to be .menu, nav.menu?\nHere is my version and it works as expected https://jsfiddle.net/wsn33167/. > How we can set array values using editor.getSelected().set('attributes',array value);\nYou can't set array on attributes property, it should be an object instead.\nI'd recommend using a more specific methods like model.setAttributes({ title: '' }) or addAttributes({ ... }). > QQ: The CssComposer module removes the unused css classes?\nYeap. Hey @chiqui3d try to copy the view logic from the ComponentMapView. Basically you're not able to select it because everything inside it is overlapping the iframe element itself (elements inside iframe are out of the editor's scope).\nAs you see from the Map, basically you have to wrap the iframe inside a div and disable pointer events (via gjs-no-pointer class) otherwise the div will be overlapped too. @davidherlopgt Have you tried to use built-in table components instead of extending them?\nBTW create a live demo please. > maybe the disadvantage is that if I change the color of the row to the header the body is changed too, so I have to remove the class from the body row so that it is not affected\nOk... but if you don't put the class you haven't the disadvantage?!?\nFor a live demo I was referring to something like jsfiddle. Never looked too much at the re-initialization/destroying of the editor and as personally don't see it as a \"high priority\" feature, therefore I'd probably will wait for PRs. Have you tried with Components-&-JS?. For now, you can try to use sorter:drag:start/sorter:drag:end. > I have to set 'editor.autorender' to false and then render editor manually once my plugin is initialized. This is fine for now, but I'm not quite sure how I would handle this case if I had multiple custom plugins depending on some async logic\nJust use a variable as a flag which counts your custom execution logic and once it's finished you're ready to render it. IMHO, the solution with Promises it's absolutely overwhelmed for such a thing. @JulyanoF \nso you just need to style the wrapper?!?. Like the current public demo which allows updating the body's background?. Hi @webnoob currently the only way to do so is to add it via the initialization object. Here is the snippet from the demo \nhttps://github.com/artf/grapesjs/blob/gh-pages/demo.html#L1045-L1062\nAs you see can see I don't specify any font family I just update its name\njs\nbuildProps: ['font-family', ...],\nproperties:[\n    { name: 'Font', property: 'font-family'},\n    ...\nDefault fonts are taken from its PropertyFactory so if you want to add others you have to declare them all on init\njs\nbuildProps: ['font-family', ...],\nproperties:[\n    {  \n        property: 'font-family',\n        name: 'Font',\n        list: [\n            { name: 'Arial', value: 'Arial, Helvetica, sans-serif' }\n            ...\n        ]\n    },\n    ...\n. If you're talking about storing your templates int DB or any other remote endpoint you can setup the built-in RemoteStorage, take a look here #778 . Hi @vrudikov JS seems to be loading correctly (and you can see that by other JS elements like dialog) but seems like MDL is not auto-initializing. I think you just have to find how to call its init method. > ... it adds a blank image to the canvas\nCan't reproduce it. Any live demo? Or at least a screencast/gif?. You have to load JQuery first.\nRead more about it here https://github.com/artf/grapesjs/wiki/Components-&-JS#dependencies. Actually, this is how style manager works with classes. When you select the \"Box\" you can see that you have picked \".fluid-container.c318\" selector, which doesn't have any bg, but when you uncheck \"fluid-container\" class, the current selector will be \"c318\" and now the bg is shown. \nProbably we need to highlight better the inheritance of styles. What do you mean exactly with makes my styles unreachable?. Hi @panagulis72, unfortunately, that piece of code is generated by the compiler from this method (is it intentional your use of embedAsBase64?) if you want to find a way to write it up without generating it I'd be glad to merge your PR. I don't think editing a compiled file could be called a \"solution\".... As I said I don't, but editing a compiled file is not a solution, you should never touch them. You can change the tagName of any component, at any moment, in this way:\njs\nconst component = editor.getSelected(); // I use a selected one just as an example\ncomponent.set('tagName', 'article');\n// or on some group of components\nconst components = editor.DomComponents.getWrapper().find('div');\ncomponents.forEach(component => component.set('tagName', 'article'));\nYou can also change it at the component level, in this way any new one of its type will get it by definition. Read more about Components and how to extend them. Basically, you would create/extend a component with a custom tagName in this way:\njs\ncomps.addType('you-component', {\n    model: defaultModel.extend({\n        defaults: { ... \n            tagName: 'tr'\n        },\n        ...\n    }),\n    view: defaultView,\n}) . If it's not a public method you can't use it. Thanks for the catch James, I'll fix it for the next release. @lv-alex I planned to release for the end of this week. > Should there be a message in the traits panel similar to the one in the styles panel?\nI'm would be glad to add such a functionality. Cool idea. Thanks Juan. Hi @chthomos and thanks for the issue, but are you able to provide a live demo of this bug (eg. via jsfiddel)?\nI've just tried this on the public demo and it worked as expected\njs\neditor.addComponents(`\n    <div style=\"color:red; padding: 50px 100px\" data-gjs-stylable='[\"width\"]'>\n        Text\n     </div>`, \n{at: 0});. @chthomos good, I close this then for now and reopen when the fiddle is available. Thanks for the catch @v8jupiter it was actually an issue with the component javascript loading. I'll publish the fix with the next release. @AlessandroMagri you basically set custom parameters in the storageManager configuration:\njs\ngrapesjs.init({\n    ...\n    storageManager: {\n            type: 'remote',\n            ...\n            params: {\n                // You custom parameters\n                _token: '...'\n            }, \n   }\n});\nThose are used for both the load and store requests, if you want you can find here #831  how to customize the already initiliazed storage manager\n . @eddyjl077 you can create a new command and initialize another codemirror instance with your options (eg. #209). Hi @rathish there is no intention to introduce such a functionality in the core but you definitely might be able to compile your templates just before passing them to grapesjs. @rajatkumcom your server have to set a correct header output, eg. in php it should be something like this\nphp\nheader('Content-Type: application/json');\necho json_encode($data);. > 1. I can not handle double click event for open modal and changing image (in double click event working ImageViewer click event)\nThis depends on what the plugin does with the DOM. The double-click event is binded to you images but if images are somehow modified/replaced that binding might be broken. It that case I'd suggest reimplementing the double-click logic on you parent <div class=\"bzoom_wrap\"> element with a new custom component\n\n\nscript which is used ImageViewer plugin (in script function) after refreshing page doesn't work again and viewer not created.\n\n\nI think this one is related to #873. Thanks @maxtacco \ud83d\udc4d . Sure. @vladggordiichuk please submit a correct Pull Request. You're just merging master into dev which basically does nothing (I have to see your changes). > and I couldn't\nCan you provide an example so I can see what is wrong :). Just tested your code with the public demo, everything works as expected\n\nTry to check also the block content via the inspector console as it might also be some server-side effect\njs\neditor.BlockManager.get('login').get('content'). > So, first things first, how can i include my own stylesheet in the iframe of the editor?\nYou can inject styles and javascripts on init via canvas options\njs\ngrapesjs.init({\n    ...\n    canvas: {\n        scripts: ['https://.../file1.js', 'https://..../file2.js'],\n        styles: ['https://..../file1.css', '...'],\n    }\n})\n\nMy second problem is that i have some parts of my site that i need to show in the editor, but i don't want the user to edit them, nor to be visible in the html editor. They should only be editable through a generale Page Setup sidebar.\n\nI think in this case you can try to create a new custom component similar to this\njs\ndomc.addType('void-component', {\n      model: defaultModel.extend({\n        defaults: { ...defaultModel.prototype.defaults,\n          style: { 'pointer-events': 'none' } // you won't be able to select it\n        },\n        toHTML() {\n          return ''; // returns none HTML\n        }\n      }, {\n        isComponent: function(el) {/**/},\n      }),\n      view: defaultView,\n});\nAnd then in your templates set the type explicitly\nhtml\n<div data-gjs-type=\"void-component\">\n    ... \n</div>\n\nhow do I create a new sidebar\n\nYou might want to use Panels API but don't limit yourself just to grapesjs's panels, you can create your own containers, with your styles, your animations, just put stuff inside and use grapesjs's API. From the https://github.com/artf/grapesjs/releases/tag/v0.14.5 you can even change where to render built-in panels. Update your node. Tabs SVG example https://github.com/artf/grapesjs-tabs/blob/master/src/blocks.js#L10-L17. Check here https://github.com/artf/grapesjs/issues/849. Try with this instead\nhtml\n<link rel=\"stylesheet\" href=\"https://unpkg.com/grapesjs/dist/css/grapes.min.css\n\">\n<script src=\"https://unpkg.com/grapesjs\"></script>\n<div id=\"gjs\"></div>\n<script type=\"text/javascript\">\n  var editor = grapesjs.init({\n      container : '#gjs',\n      components: '<div class=\"txt-red\">Hello world!</div>',\n      style: '.txt-red{color: red}',\n  });\n</script>. @ekennedy80 it might be just a wrong path to resources (CSS/JS), check for errors in  console. Well, this is already as it is\n\n. js\neditor.DomComponents.getWrapper().find('a').forEach(aModel => {\n    const current = aModel.getAttributes()['href'] || '';\n    aModel.addAttributes({ href: `https://proxy?u=${current}`});\n}). Just like James suggested but without selected.view.render() as the view will receive changes simultaneously. @alimajed93 I think you're referring to this\nhtml\n<div data-gjs-custom-attribute=\"value\"></div>\nso then editor.getSelected().get('custom-attribute')\nBe aware that attributes keys in HTML are case insensitive, therefore data-gjs-customAttribute=\"value\" is parsed to customattribute. gjs-html contains the final HTML, the HTML your users will gonna see so it's correct that you see the script \"compiled\". For a correct editing, you have to rely on gjs-components which is basically a JSON representation of the template and so contains all the informations about your components. Thanks for the catch guys and the great video @vrudikov, was really helpful. I'll investigate this. I think the right pattern would be to create different style containers (ordered by the media width of rules) for each device and for any new rule append it to the relative container. \nNew rules are appended by CssRulesView. Hey thanks, Valentin, it's exactly what I meant. Sorry @NorthstarTech but I totally didn't get what you're talking about. @sergeysova follow @chiqui3d suggestion. Toolbar buttons are component-specific, so you can have a different set of buttons for each element. Here you can see how the toolbar is created by default: Component.initToolbar. Yeah, just leave the default localStorage active and create a button which makes use of remote storage\njs\neditor.StorageManager.get('remote').set({\n    urlStore: 'somewhere', // set your configs\n    ...\n}).store({html: editor.getHtml()}). Hi @isaacnikon and welcome on board :)\nBtw grapesjs-preset-newsletter is not added in a proper way if you want to load it globally, try with this instead\njs\nvar grapesjs = require('grapesjs');\nvar nlPlugin = require('grapesjs-preset-newsletter');\ngrapesjs.plugins.add('gjs-preset-newsletter-2', nlPlugin);\n...\nplugins: ['gjs-preset-newsletter-2'],. JSON.stringify(editor.AssetManager.getAll()). > The form section has the usual widgets but no 'range' option. How can I add one?\nYou should read about Blocks\n\nMore complex perhaps: is there an example of how to wrap (say) a chart.js instance so it appears in the tool palette etc?\n\nJust like above, but for a more complex behavior you have to create a new Component\n\nCan the tool palette be extended to allow (for example) list/picker content to be set - so it is possible to get a slightly more WYSIWYG view of the design?\n\nI think in this case you have to deal with Traits. Hi Konstantin, first of all, canvas:* events were introduced from the https://github.com/artf/grapesjs/releases/tag/v0.13.5 by using HTML5 D&D and from your screencast seems like you're not using it.\nBTW what about checking the parent element from the current one\njs\neditor.on('block:drag:stop', droppedComponent => {\n    console.log('Am I inside the form?', droppedComponent.closest('form'));\n}. The components() method is the way to go to change the inner content editor.getSelected().components('<div>New inner content</div>'); but take care that with editor.getSelected().toHTML() you're getting the outer content (with its component tag). gjs-html and gjs-css are your final results, so probably you would print them on some page for the end user.\ngjs-components and gjs-style contains the JSON data about your template so you have to use those if you need to edit the template in the editor. @pranzikkin if you use custom elements and you care about the consistency with editing your templates, well yeah, you'll get problems. You can set attributes in this way\njs\neditor.Panels.addPanel({\n    id: 'myNewPanel',\n    ...\n    attributes: {'data-stuff': 'val1', 'classe': 'val2'}\n}). > I believe that Grapes works solely with BEM-like CSS styling. I.e. each component has its own class. Is this correct?\nIs the \"selector/class viewer\" which is only able to let you edit styles of class-based selectors, like .class1 .class1.class2 but GrapesJS should import all your rules without any problem\n\nIn addition, some of these static sites depend on large CSS libraries like Bootstrap, which I would want to pass into grapes.init's style property. Would this be very challenging to achieve?\n\nYou can load external stuff in this way\njs\nconst editor = grapesjs.init({\n  ...\n  canvas: {\n    styles: ['...file1.css', '...file2.css', '...']\n    scripts: ['...file1.js', '...file2.js', '...']\n  }\n});\n\nHow complex would it be for me to built in support for arbitrary CSS styling?\n\nWhat do you mean exactly with arbitrary CSS styling?. > 1. shouldn't the .panel class have selectors defined? it's currently an empty string; the div css rule does have have a valid selector\nCorrect, you should see selectors: ['panel']... this is strange, I mean without a correct selector parsing I'm not surprised you see all your templates broken, moreover, the main public demo probably would be unstyled with such a bug (and this is not what does happen). Can you please setup a live demo via jsfiddle?\n\n\nwhy is the #eee color definition converted to rgb notation? wouldn't it be much safer to keep CSS the way it is defined initially? additional parsing may expose you to bugs when the added value is questionable?\nwhere do the undefined css rules like font-variant-east-asian: normal; come from? it seems likely that such additional grunt work will render inconsistencies with the original when you parse CSS files that are thousands of lines long\n\n\nAs you see it's not only about colors but the whole style definition is bloated and this is due to the browser's CSS parser. I've already added to Roadmap the integration with some custom CSS parser (eg. postcss). Unfortunately, this one of the big pain point of importing stuff inside grapesjs and without such a plugin I can do nothing. Just don't use them for loading your template data \njs\neditor.setStyle( arr_data['style'] ),\neditor.setComponents( arr_data['components'] );\nis all what you need. Thanks for the catch James\nPRs are welcome. Fixed by https://github.com/artf/grapesjs/pull/939. @nojacko I don't build files before the release so if you're using files from dist you're still using the old one. As already mentioned here, currently, I don't see any value in starting such a feature (creating a good destroy method) but would really happy to see some PR :)\n. Nope, but you can extend the default tlb-delete command\njs\neditor.Commands.add('tlb-delete', ed => {\n    if (confirm('Sure?')) {\n        const selected = ed.getSelected();\n        selected && selected.destroy();\n    }\n});. Hi @Iceweex, unfortunately, at the moment, you can't. For the next release, I'll centralize those commands and will update also its event lifecycle, so in that case, you'll able to achieve the task in this way\njs\n    const commandName = 'core:component-delete';\n    editor.on(`run:${commandName}:before`, (options) => {\n      console.log(`BEFORE ${commandName}`);\n      if (!confirm('Are you sure')) {\n        options.abort = 1; \n      }\n    });\n    editor.on(`run:${commandName}`, (deleted, options) => {\n      console.log(`AFTER ${commandName}`, deleted);\n    });\n    editor.on(`abort:${commandName}`, (options) => {\n      console.log(`ABORT ${commandName}`);\n    });. Yes, I've used the same trick for the flex grid.\nIn your Style Manager configuration create a property in this way\njs\nproperties: [\n    ...\n    {\n        id: 'font-size-radio',\n        type: 'radio',\n        name: 'Font size (Radio)',\n        property: 'font-size',\n        options: [{...}, {...}],\n        // With this option the proprty will be hidden \n        // until someone will not require it\n        toRequire: true,\n    },\n    ...\n]\nthen in your custom component model require the property\njs\ndefaults: {\n    ...,\n    'stylable-require': ['font-size-radio'],\n    // Probably in your case you might want to hide the original property\n    // for this component\n    'unstylable': ['font-size'], \n}\n. Currently, to change the trait's label you have to do it on the component level\njs\n// Component model\ndefaults: {\n    ...,\n    traits: [...]\n}. Subscribe to #914 probably this will be fixed in the next release. Thanks James \ud83d\udc4d . If for focus you mean scrolling the view to the component, unfortunately, there is no such a method, but you can actually implement it by relying on editor.Canvas.getBody().scrollTop. Your change on the block doesn't work because you don't change the actual component (just the block's property)\njs\neditor.BlockManager.get('image').get('content').style = { 'max-width':'100%' }\nWith cssComposer instead, by default, selectorManager accepts classes\njs\n...\nvar sel1 = sm.add('img'); // here you'r adding `.img` selector and not `img`\nAn easier way to add custom CSS might be this one\njs\neditor.addComponents('<style> ... </style>');\nBut be careful, if store your templates and then run this command on any refresh this will continue to create styles. For default CSS I'd recommend:\n```js\ngrapesjs.init({\n  // CSS that could only be seen (for instance, inside the code viewer)\n  protectedCss: 'img { ... }',\n// If have an external file, like for example, some reset CSS\n  // you can use this\n  canvas: {\n    styles: ['https://...file.css']\n  }\n})\n. `protectedCss` is loaded so the CSS is here, if it doesn't work probably your CSS technique is not correct. Yeah, you should make use of thisjs\neditor.on('load', () => editor.runCommand('preview'))\n```. Probably you should read more about Blocks\nSeems like someone has made a plugin for headings :) https://github.com/olivmonnier/grapesjs-plugin-header. > If grapejs requires NodeJS, the doc/wiki should say that clearly upfront somewhere\nIndeed it doesn't... you need nodejs just for the development purpose\n\nYou mention it runs in a CMS, but don't state that it will create a full page and can or cannot run outside of a CMS\n\nI think you should read better that statement...\n\nQuestion: If it runs with NodeJS - will it run on AWS Lambda (serverless)?\n\nSure\n. Yeah it's not only about CMS but a general purpose use.\nInside grapes.min.js you will get everything you need, NodeJS is just for a correct development server (testing, merging dependencies, etc..). Extend the image Component and put as a model property resizable: false. Thanks Tom. Thanks Ryan \ud83d\udc4d \ud83d\udc4d \ud83d\udc4d . Try to reselect the component\njs\nvar selected = editor.getSelected();\neditor.select().select(selected);. > but the image is not ready yet when I launch selection update\nAnd how do you select it if it's not yet ready? . @alfaalex81 mine was a question. How do you select an image if it's not yet loaded???. Seems like the image you posted is corrupted. BTW, just look what does it happen at the network level (via inspector) and I'm sure you will find the error\nOne more thing, I know that you copied this from some other issue but here you're adding listeners on any new run of the command\n```js\neditor.Commands.add('save-db', {\n  run: function(editor, sender){\n    sender && sender.set('active',0);\n    editor.store();\n// Put them outside\neditor.on('storage:load', function(e) {\n  console.log('Loaded ', e);\n});\neditor.on('storage:store', function(e) {\n  console.log('Stored ', e);\n});\n\n}\n});\n``. First of all, I suggest usingself.target.addStyle({'background-image': 'url(...)'})` for your case which is less verbose.\n\nMaybe related to this problem: The element also has a class with a default background image. When I open the StyleManager I only see that background image in there. Not the images from the Id style rules. Looks like it doesn't really use them at all?\n\nWell if the Style Manager sees the class on the selected component you will get its styles, try to deselect the class (by using the checkbox). Can you provide a live demo of your case because I'm not able to reproduce it. Start from this https://jsfiddle.net/szLp8h4n\nProviding a live demo not only it shows a clear proof of the bug but also others can contribute. Thanks for the example @samuelmattos currently the only workaround I can give you is starting to use this option:\njs\ngrapesjs.init({\n  // Usually when you update the `style` of the component this changes the\n  // element's `style` attribute. Unfortunately, inline styling doesn't allow\n  // use of media queries (@media) or even pseudo selectors (eg. :hover).\n  // When `avoidInlineStyle` is true all styles are inserted inside the css rule\n  avoidInlineStyle: true,\n})\nProbably in some next release I'll set it to true by default. Unfortunately, this will not gonna fix the bug of duplicated rules but at least the rule will be placed in the way to guarantee its override. I've started to investigate the bug. Duplicate of #932 . Thanks for the PR mate, but unfortunately I have to refuse this one. Adding such a change not only will introduce an impact in performances but we'll probably get a lot of inconsistencies (each browser might have its own rules for managing elements and \"cut\" some expected custom component). For this issue, I'd simply and trivially escape double quotes. Check Traits. Follow the issue template please. Unfortunately, the current implementation of traits doesn't allow extending its types. You should create a custom Component which implements the template engine inside its view (eg. compile the template inside the render method). Great, thanks Ryan \ud83d\udc4d . @phucphanJaneto you're doing something wrong here\njs\n$.get(response.HtmlLink, function (e) {\n      // check the `e`, shoud be an HTML string or Component Object\n      newComps.setComponents(e);\n   })\n}). Check better the response (it might be a case to escape the string) and if headers are correct. Thanks Tom \ud83d\udc4d . probably the same as https://github.com/artf/grapesjs/issues/912#issuecomment-373208517. Follow the issue template please. Hi @FoxXav you can check #26 about i18n and why currently I have no plans for it. I'm not facing it on my side (Mac), probably due to the font size differences the whole content exceeds block's height: 90px;. We need overflow:hidden to avoid the text overflow with big strings. Probably just by setting min-height: 90px; on the block is enough. https://github.com/artf/grapesjs/commit/e6593e7ad9a8771ef1a9bef33d061b131df1ea76. No, currently you should import stuff only from the body. Please follow the issue template. Hi, I'd say this is the same as #260 so your const value = document.createElement('div'); which is purely a DOM element, without a binded model, is blocking the editor to select its custom-component parent. Solution:\njs\nconst value = document.createElement('div');\nvalue.style.pointerEvents = 'none';\nthis.el.appendChild(value);. The highlight is applied via gjs-comp-selected class which uses outline property, so check via inspector what is going on, probably you have some kind of reset property on them (eg. outline: none;). > 1. Is it possible to reduce the size?\nCan't do much about it, the size is big because I had to bundle the MJML core inside it, as there is no client-side bundle for it.\n\n\nShall I proceed with this MJML or custruct my own components using Custom HTML/CSS as mentioned in second point?\nIf constructing own means - Need to achieve all the things...as you did in \"Grapejs MJML\"\n\n\nWell the choice is up to you, you know that with MJML you might face limits, with a custom approach you will get more control but replicate the same functionalities of MJML it's not an easy (and quick) task\n\n\nCan we remove MJML parser - (import 'mjml2html' from 'mjml') and map that generated html code as a custom component\n\n\nSame as above: YES, you can, but it involves a lot of effort.. The source of the demo is here https://github.com/artf/grapesjs/blob/gh-pages/demo-newsletter-editor.html. You can query the wrapper to get component models, eg.\njs\nconst component = editor.DomComponents.getWrapper().find('#somid')[0];\ncomponent.components(`<div>Add some content inside</div>`);\nBTW it's not clear why the content is not updating while you say I can change the text in the visual editor (inside the iframe). Your solution only updates the element inside the canvas and not its model (so in your final code you'll not gonna see them). When you update the model its element in view is updated automatically, eg.\njs\neditor.on('component:update:src', component => {\n    component.is('image') && component.addAttributes({'data-uuid': '...'});\n});\n. > Should we wait for all modules to have loaded prior to attaching the event listeners?\nMmmm that piece of code is running synchronously so I don't think it's gonna help\nBTW never faced this issue within my environment \ud83e\udd14. can't reproduce (without global webpack-dev-server)\nI think it might be an issue with your environment, post please your info about OS, npm and node versions. There are no rules on \"how to create YOUR endpoints\" just receive/send data from the server (check the devtool network inspector if you're not sure about the data). About the grapesjs configuration https://github.com/artf/grapesjs/wiki#storeload-data. You should definitely use Custom Components, which is exactly the same way I do in grapesjs-mjml but, in your case, instead of relying on MJML renderer you would do it on your own logic. @mandarinobellino I can't reproduce it by using the official demo (uses the latest version). Do you use the latest version? Are you able to reproduce a live demo?. @francesca-cicileo you can use this one https://unpkg.com/grapesjs-preset-webpage. Should be fixed with this one https://github.com/artf/grapesjs-preset-webpage/releases/tag/v0.1.10. > Main question is why the demo and new release code are different?\nThe demo uses different plugins and some other customizations so this is why are different\n\nAlso, traits are working file with 0.13.8 release but changed in 0.14.5 or 6 version.\n\nOpen a new issue explaining exactly what is wrong with traits (follow the issue template please) . Seems like the loop is broken and works only with playlist enabled https://stackoverflow.com/questions/25779966/youtube-iframe-loop-doesnt-work\nI'll add it to the loop parameter. Well Vimeo's case is pretty much self-explanatory, about the Youtube, it's a chromium bug https://bugs.chromium.org/p/chromium/issues/detail?id=807304 and you'll see this error on any page with an embedded youtube player, so just need to wait till they'll sort this out. Thanks Jason. Hi @vrudikov I didn't get what do you suggest. Would you like to have some kind of init() method which acts as a callback after the initialization?. Traits should read the default directly from their props/attributes, so in your case, it should be something like this:\njs\niconColor: '#000000',\nplaceholder: 'Type your text here',\ntraits: [ {\n          type: 'text',\n          label: 'Placeholder',\n          changeProp: 1,\n          name: 'placeholder'\n        },\n        {\n          type: 'color',\n          label: 'Icon Color',\n          changeProp: 1,\n          name: 'iconColor'\n        }]. > Realtime width change of cell does not track the mouse pointer\nThe current grid uses flexbox and as it tries to adapt itself in relation to its sibling nodes what you're asking it's not possible\n\nDimensions fields/calculation seem broken, switching between % and px in unexpected ways.\n\nNot broken, there are just no calculations in unit changes\n\nResize handle intermittently disappears\n\nThis is something I can try to fix\n. Seems like now it's only a feature for Pro accounts...\nhttps://help.vimeo.com/hc/en-us/articles/224969968-Embedding-videos-overview\nI'll remove it then. You can't use data-gjs-* attributes if you attach them directly to the DOM, those attributes are parsed from the model level, so model.components('<div data-gjs-*...'). I don't know what your Align stands for but Text align should be applied to the parent element. Thanks for the catch Vlad, it'll be fixed in the next release. No, there is no \"production\" command, but you can create easily one by checking the Preview.\njs\neditor.Commands.add('production', {\n    run() {\n        // production mode ON\n    },\n    stop() {\n        // production mode OFF\n    }\n}). Thanks Tim. Good question, I think the issue is the OpenAssets command itself that should be renamed in OpenImageAssets (indeed it renders only images types). So, what you can try to do is to create another command (eg. a more generic one or just for documents) and see if the customization works out for you.\nIf you will see any point of improvement in the process I'll be glad to discuss it.. Thanks James, we already aware of it #552 but unfortunately not yet provided any fix :/\nThe main problem is that GrapesJS doesn't handle well body/wrapper styling and so, as a result, we have the body coming from 3 different spots:\n- from protectedCss option\n- from the wrapper's component style (which usually is the body and so I handle it separately) \n- and like in your case, also from another CSSRule (created by style: 'body{background-color:#000000;}')\nWe need to find a correct way to handle all these cases but I didn't yet find time to look at it, so I'd appreciate any advice/help.\nI close this and suggest you subscribe to #552 if you want any further updates.\n. I think the reason is that test asks for storables in EditorModel (due to autoload) which is passed by reference to its defaults. So a quick fix would be to add this.set('storables', []); here. Thank you very much Valentin for this PR \u2764\ufe0f . I'm quite confident to release it in the next version :). This is due to the node cleaning while traversing\nhttps://github.com/artf/grapesjs/blob/dev/src/parser/model/ParserHtml.js#L155-L158\n. Yeah Tom thanks, I think a configurable option (eg. keepWhitespace?!?) might be  a good solution. 1. For component's properties use this.listenTo(this.model, \"change:prop-name\" ...\n2. By doing ...attributes.align = \"left\" Component doesn't see your changes, use instead this.model.components().at(0).addAttributes({ align: 'left' }), you don't need to update/render the element.. You can update the tag name of the component in this way model.set('tagName', 'new-tag'). @ecmascriptguru I would rather suggest to extend the video component and implement the modal (like in ComponentImageView). eg. editor.DomComponents.getWrapper().find('.some-query').forEach(model => model.setStyle({display: ...})). So when you refresh the page the load request is sent, right?\nTry to see what you get from these listeners\njs\n    editor.on('storage:load', function(e) {\n      console.log('LOAD ', e);\n    })\n    editor.on('storage:store', function(e) {\n      console.log('STORE ', e);\n    }). In your case, you have to update all those models\nmodel.get('traits').add([{name: 'product'}, {...}]). You should be able to achieve it via a custom trait, eg. by overriding getValueForTarget method. I'd say it's enough just this\njs\ngetValueForTarget: function() {\n    return 'item.text' + this.model.get('value');\n  }. This behavior was just adapted for the demo (where there is shouldn't be an issue with the size) you can tweak it easily with CSS. What about the client-side? Do you see the upload request correctly (eg. from the inspector)?. https://github.com/artf/grapesjs/wiki/API-Editor. fix your loop.... Try to implement a custom Storage Manager https://github.com/artf/grapesjs/wiki/API-Storage-Manager#add. You mean something like draggable: \"*:not(your-component)\"?. Inside draggable and droppable properties you can pass any CSS-like query string so it's already possible. Implement it via a custom storage https://github.com/artf/grapesjs/wiki/API-Storage-Manager#add. @krunal039 if you want an RTE trait, create a custom one and initialize it (eg. CKEditor) in getInputEl. @tommedema the PR is good thanks but I had to revert it as you pushed it on master instead of dev. Can you resubmit it on dev please :). There is no such a built-in feature but you can easily extend grapesjs for it.\nIf you're looking for the usage of variables during the text editing this snippet might help you.\nYou can also make use of Blocks to create draggable variables, eg:\njs\neditor.BlockManager.add('my-var-block', {\n  label: 'Simple variable',\n  content: '{{ SOME_VAR_EXAMPLE }}',\n});\nor even mixing them with custom Components to display variables differently inside the canvas. Quick example https://jsfiddle.net/jhf0rsbj/. No @anand-gopinath, data-gjs-* attributes are only for import purpose. Aware and agree, the question is just How?. Text nodes don't have contentEditable property, so probably we need to try to wrap them all inside <span>s (only in its View) and see how all is handled. > could we just make the parent contentEditable\nNo, we can't do that, precisely due to the possibility to break/delete its siblings.\n\nThis seems preferred over adding spans because you don't know how such span would render since we do not have full control over its CSS (the user may be using a stylesheet that renders spans differently).\n\nWe can use a custom tag (eg. <gjs-text-node>) :). I really like the idea, what about keeping track of all commands status at Commands level?!? Like for example, on any runCommand(CMD_ID) we gonna store it inside Commands.active object (eg. active[CMD_ID] = 1) and clear on stopCommand. Then we'll need Commands.isActive(CMD_ID) method for the check and probably also Editor.isCommandActive(CMD_ID) (just as a proxy method). I'd like also to move the runCommand/stopCommand logic from Editor and put it inside new Commands.run/stop methods (just to make it a more organized). What do you think? Would you able to create such a PR? :). For Commands I mean the Commands module\n\nCould you elaborate more on this?\n\nI'd like, for example, moving this Editor. runCommand logic inside the Commands module, so in the Editor we will get:\njs\n    runCommand(id, options = {}) {\n      return em.get('Commands').run(id, options);\n    },. Released https://github.com/artf/grapesjs/releases/tag/v0.14.27\nNow you can track the state of a command\n```js\nconst cm = editor.Commands;\ncm.run('preview');\ncm.isActive('preview'); // -> true\ncm.stop('preview');\ncm.isActive('preview'); // -> false\n// Get all active commands\ncm.getActive();\n. Hi Andres, if you're talking about Component's properties you will find them [here](https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/Component.js#L28). Ah ok, those are created from this [factory object](https://github.com/artf/grapesjs/blob/dev/src/style_manager/model/PropertyFactory.js). The button instance is passed as a second argument if the command is executed from a button, so you can disable it in this wayjs\nrun(editor, sender) {\n    sender && sender.set('active', false);\n    ...\n},\nstop(editor, sender) {\n    ...\n},\n. Well yeah, those panels are designed that way just to create the \"tab effect\", you can add a new command with the **same id** and implement your logic. I also suggest  to have a look at how to create a [fully custom panels](https://codepen.io/artf/full/MQpZPj/). Hey thanks Faizan, as you already realized, we aware of this issue, therefore I close this one and suggest you to follow it there (subscribe to it). We're using [webpack-dev-server](https://github.com/webpack/webpack-dev-server) as a development server therefore you can use any of its options, eg.sh\nnpm start -- --port 8088\n```. >  I think that the demo project code if open sourced would come real handy when it comes to understanding of the grapesjs as a whole.\nIt is indeed, the whole site is open sourced, you just have to switch the branch https://github.com/artf/grapesjs/tree/gh-pages :)\nBTW the part you were looking for\nhttps://github.com/artf/grapesjs/blob/gh-pages/demo.html#L1394-L1415. Fixed here #768 will be available in the next release. Thanks Tom \ud83d\udc4d . Hey Tom, at the end, I decided to rename the option in keepEmptyTextNodes (default false), generally (at least from my experience), it's easier to work with new options when are falsy by default. I hope it's not a problem :). Thanks for the suggestion @tommedema but currently I don't see any value in start working on such improvement, the current implementation works if you want to build a responsive template and this is what really matters. BTW if you really want to work on this PRs are welcome :). Seems like you're doing something wrong when saving/loading the template, look at the error, it's trying to use \":{\"s as an attribute. > you don't feel like defining the type of accepted files should belong in the definition of the asset manager asset type?\nExactly, for instance, this will allow showing one kind of type but accepting a more generic one. Thanks @tomichal \ud83d\udc4d . We have already a Resizer utility which fits perfectly our needs. @francesca-cicileo 'change:*' is used for model's properties (eg. tagName, removable, etc.), probably you're looking for change:attributes:ATTR-NAME. Be sure to update model's properties properly (eg. model.addAttributes({ attrName: 'value' })). At the moment, there is no label property on buttons so you can edit them only via className. BTW I like the idea, I'll make it available in the next release. Totally agree with you Tom, the main goal of cssComposer is just to provide a lean interface for style definitions. What we have inside CssParser right now it's actually a browser's parser and the rest of code is just a traverser. Actually, we have issues like #307 which show the inconsistency generated by browser's parsers (indeed you will get different outputs on each browser). \nMy idea (added alredy to the Roadmap #74) was to create an extendable interface which could allow adding custom parsers to the editor (eg. postcss parser for CSS) but obvisosly didn't yet find the time to start it.\nBTW thank you for such a quick solution. Related to #932\nUse avoidInlineStyle: true. Given the current model you can add other components in this way model.components('<h1>Hello world</h1>'). Cool, thanks Duarte. Big thanks for the help Tom \ud83d\udc4d. Great \ud83d\udc4d . Thanks Duarte. It might be a good idea, but what about improving those events (eg. pass model/pr to callbacks) to allow such customizations. @tommedema Components and CssRules implement Styleable, therefore you would get it in all case.\n\ndo you mean that we'd have to then write plugins to listen to those events and add additional styling to the component?\n\nNot additional, you overwrite the style triggered on that model, eg.\njs\n    // eg. your configs\n    const styleImportant = 1;\n    // ...\n    editor.on('styleable:change', (model, property) => {\n      const value = model.getStyle()[property];\n      console.log('Styled ', property, value);\n      if (styleImportant) {\n        model.addStyle({ [property]: value + ` !important` });\n      }\n    });. > The important statement should probably be ignored by the color picker, before it tries to parse the color?\nTo be honest, I'd expect such a check on all inputs \ud83e\udd14 Do have such an issue only with color inputs?. @Unsigno as you see you have conflicts, don't use run build when sending PRs. Hi @saltyfoam as you can see I've commented few important stuff and didn't get any reply. Well, @Unsigno you could at least reply to my concerns...\nBTW I don't want those polyfills because we don't need them inside the core, if anybody wants them they can just include those files inside their projects as you did:\ntouchpolyfill: https://github.com/CamHenlin/TouchPolyfill/blob/master/touchpolyfill.js\nDragDropTouch: https://github.com/Bernardo-Castilho/dragdroptouch/blob/master/DragDropTouch.js\n\nThe other issues aren't relevant\n\nThey are relevant, because they are poorly written. Sorry for the late reply @Unsigno @saltyfoam what do you think about merging all the stuff which enable grapesjs on touch devices and creating a plugin which just contains polyfills to make it work properly on mobile?. > I don\u2019t care how it\u2019s integrated. I just want the ability to keep upgrading my GrapesJS without having to merge in the touch changes.\nYeah, that was the point.\nNot sure if this week, but I'll try to make it possible for the next one maybe, I hope. Hi @saltyfoam I created this new branch https://github.com/artf/grapesjs/tree/touch-support-plg which merges most of the work done by @Unsigno \nTouch polyfills are now moved here https://www.npmjs.com/package/grapesjs-touch\nHere a direct demo, to test, with this new setup:\nhttps://474yo4x40.codesandbox.io (sandbox: https://codesandbox.io/s/474yo4x40)\nWould be great if you can test it properly (tried with the emulator and seems to work). Great, thanks @saltyfoam Seems like the issues you have faced are not related to the touch support itself, so I'll try to investigate later too.\nI'm gonna try to release the new version as soon as possible and then we can close this PR. Released https://github.com/artf/grapesjs/releases/tag/v0.14.29. > For my use case, I would not want to save the css, I would prefer have it already defined and let my users just play around with the existent options. Although, I've seen that, let's say, when inserting a map, a new specific class is created for that element, so I would need to export the css as well.\nany recommendation on this? Should I always save the css as well?\nSo this mean you don't want the user to apply styles on components, in that case just hide the style panel\n\nI could find the base blocks for some elements in the examples provided (webpage demo and newsletter demo, thanks!) but I could not find where the grids are set.\nI would like to avoid the grid resize (not sure why it's even allowed :) ) Any way to do that?\n\nGrids are from grapesjs-blocks-basic and you can find their implmentation here\n\nWhen using the grapesjs-blocks-basic I was able to set the wanted blocks, now I am using the gjs-preset-webpage the bellow does not seem to work\n\nCheck better the options, you have to pass them via blocksBasicOpts key. Correct your custom asset manager implementation, it's not reliable (eg. if the user double click on the image you'll still see the default one). Follow this #491 and the problem with the src will be fixed. Can you show me please your implementation of that trait? A live demo with jsfiddle it's even better. Released a new grapesjs-plugin-forms version with the fix. Great, thanks for the help Duarte. Really cool @dsgh I like it. Honestly, my main goal is to make GrapesJS more usable for people who don't know how to code, but at least your plugin shows a more advanced usage. I would only suggest using the standard way of initializing plugins :). Well yeah it makes sense, the plugin would just allow adding commands and panels transparently. Ops, my oversight \ud83d\ude47 Hope to release soon with this fix. Thanks Max, appreciate also your tests :). Thanks @arthuralmeidap for the help, in the next release, this option will be available via config.dumpUnusedStyles. Yeah generally, if you ever worked with databases, the \"dump\" is associated with \"export\", but I agree that this term might sound differently for someone else, so @arthuralmeidap what about renaming it in keepUnusedStyles?. LGTM \ud83d\udc4d \nlet me know when it's ready. Well done @arthuralmeidap \ud83d\udc4d . @indikaanu83 subscribe to #1013 if you want to be notified when the issue is solved. Great, thanks Tom. > when the browser itself already has a DOM tree and all styling information etc can be retrieved on-demand once a component is selected\nProbably this is something I've tried to build before grapesjs, and to be honest, after few weeks of work I realized that the result was just a big, unmaintainable, unreliable, SLOW, piece of crap. Believe me Tom, keeping the state of such a big application inside the DOM, it's just not an option. And again, I'm using the browser's parser but the problem is just how the CSS state of rules is build.\nBTW, GrapesJS before creating a new style rule checks if one, with same properties, already exists. If one is found, it updates its style, so this is what happens:\n1. The first body declaration is created and inserted inside the state:\njs\n[\n    // First rule\n    {\n        selectors: [], // <-- this one is used only for Selectors (classes)\n        selectorsAdd: 'body', // Additonal selectors\n        style: {...},\n    }\n]\n2. Same for the second one\njs\n[\n    // First rule\n    {\n        selectors: [],\n        selectorsAdd: 'body',\n        style: {...},\n    }, \n    // Second rule\n    {\n        selectors: [],\n        selectorsAdd: 'body, span', // different from the previous\n        style: {...},\n    }\n]\n3. The next body declaration, is the same as the first one, therefore only its style will be updated\njs\n[\n    // First/Third rule\n    {\n        selectors: [],\n        selectorsAdd: 'body',\n        style: {...}, // style updated\n    }, \n    // Second rule\n    {\n        selectors: [],\n        selectorsAdd: 'body, span',\n        style: {...},\n    }\n]\nSo as you see the problem here is that the third rule is inserted inside the first one and this breaks the cascading principle.\nProbably, the quick & dirty solution would be to add some option which ignores all the checks and adds all rules inconditionally.. I'd really appreciate a PR.\nI think the check would be ok inside the add method. > StoreManager api documentation is limited and looks like default load looks for a specific JSON structure with separate html, css as data.\nBecause this is the right way of loading template data, but if this is the first time you load a template you can place all the HTML inside html key instead of components (by leaving it empty) and the editor will use it. @suresh5 can you please avoid making requests on closed issues.... Duplicate of https://github.com/artf/grapesjs-component-countdown/issues/4. editor.addComponents('<div data-gjs-type=\"countdown\"></div>')\nYou can create a custom template by relying on data-js identifiers\njs\neditor.addComponents(`<div data-gjs-type=\"countdown\">\n    <span data-js=\"countdown\">\n        Days: <span data-js=\"countdown-day\"></span>\n        Hours: <span data-js=\"countdown-hour\"></span>\n        Minutes: <span data-js=\"countdown-minute\"></span>\n        Seconds: <span data-js=\"countdown-second\"></span>\n    </span>\n    <span data-js=\"countdown-endtext\">\n    </span>\n</div>`);. Unfortunately, it's a bug introduced by the 0.14.9 version, but already fixed and ready for the next release. @mmeeeooowww you don't have that command inside the website demo. There is a width option if you want, but it should adapt correctly to the parent width. To get a better of what is wrong with your layout a live demo in jsfiddle would be great. @chapterjason Seems like it doesn't handle issues closed by OP \ud83d\ude2c https://github.com/probot/no-response/issues/16. https://github.com/artf/grapesjs/blob/gh-pages/demo.html. Can you provide a live demo on jsfiddle?. Your demo doesn't help, you should create something minimal which indicates the issue, not just a copy-paste of your project (let's be respectful with the time of others). Store and load data as JSON not HTML. Search in issues how to store/load data for more informations. I hope to release it today :). The demo uses Filestack's free plan therefore when the limit is reached the plugin is blocked (it resets each month). Moreover, the demo is designed to show GrapesJS's features and not as a service to create websites. Yes, it's a normal behavior, the editor optimizes the exported code, but in the next release you'll find a new keepUnusedStyles option, which allows you to skip this optimization. I don't know how GWT works but I'd not expect anything different from using any other external library. You just need to include one grapesjs js file https://unpkg.com/grapesjs@0.14.9/dist/grapes.min.js (probably you will need a style too) and then use it inside the correct context.. No, data-gjs-* attributes are used only for the import purpose. You can always extend the default component view and add attributes you need. https://github.com/artf/grapesjs/wiki/Blocks. You can do something like this\njs\nconst component = editor.getSelected();\nconst coll = component.collection;\nconst at = coll.indexOf(component);\ncoll.remove(component);\nreturn coll.add('<div>New content</div>', { at });. @kuldeepcis please take a look at how to create custom Traits. Thanks @Coyote6 we're already aware of this issue. This happens due to the browser's CSS parser and I can't do much about until there will be a possibility to attach custom CSS parsers, hope to implement it soon.. From https://github.com/artf/grapesjs/releases/tag/v0.14.33 you can use custom CSS parsers, the first to be released is grapesjs-parser-postcss. You can access nested properties like this var customAttribute = '{[ attributes.customAttribute ]}'; inside the script. You should use model's properties:\njs\n...\ncustomAttribute: '',\nscript: function() {\n...\nand then in your script var customAttribute = '{[ customProp ]}';\nOne more thing, you can't update the variable inside the script and expect it to propagate that change, the script works in a totally separate context #358. I'll add a listener on this too. Honestly, I'd recommend following the flow with the storage manager, but in any way, you could achieve it in this way:\njs\nconst obj = var tt = JSON.parse(yourJsonString);\neditor.setComponents(obj.components);\neditor. setStyle(obj.styles);. Totally agree about the consistency \ud83d\udc4d . Thanks Duarte \ud83d\udc4d . Creating a Component (check also how to create them with js) will give you more control (eg. adding your traits), but in your case, if you just need a draggable element you can wrap it inside such a div\nhtml\n<div class=\"fb-wrapper\" data-gjs-droppable=\"false\">\n    <div style=\"pointer-events: none;\">\n        ... fb stuff\n    </div>\n</div>. Well, just drag your buttons inside your blocks\n. Create your block with your whatever you want wrapper and inside put the map component\n\ncan you please provide un-minified js of grapesjs-preset-webpage.min.js?\n\nYou can build it by yourself, check scripts in package.json. @kuldeepcis you're not showing how you use the component, provide a live example via jsfiddle please. @kuldeepcis I think you're doing a bit of mess with the copy-pasted code from the demo (where traits are moved). They're actually there\n\n. the easiest way .gjs-toolbar { display: none }. Do it when the editor is loaded\njs\nconst dc = editor.DomComponents;\neditor.on('load', () => editor.select(dc.getComponents().at(0)));. Should be fixed by this https://github.com/artf/grapesjs/commit/32c1b2c1f4e1bef967f43b0013bfd481cddb81c7. @xr0master it's fixed in the dev branch but was not yet released. You have to run npm i first\nhttps://github.com/artf/grapesjs#development\nThe demo branch is here https://github.com/artf/grapesjs/tree/gh-pages. Hi @Chilli-B it would be better if you provide a live example of what you're trying to accomplish. BTW, if the trait is correctly created it should be synced with the component model, for example:\n```js\n{\n            type: 'select',\n            options: [\n              { value: 'h1', name: 'H1'},\n              { value: 'h2', name: 'H2'},\n            ],\n            label: 'TAG',\n            // Set the same name as the model's property and add changeProp\n            name: 'tagName',\n            changeProp: 1,\n}\n```. > The problem is not the synchronization. The problem is, when I'm adding complete layouts to the canvas, which are including h2 or h3 tags (or any others), and I'm clicking on them, the header type select in the settings (traits) always stays at \"Headline 1\", as this is the first option in the select and there's no possibility to give any of the select options the attribute 'selected'\nThis the exactly the type of synchronization I was talking about... Have you tried my example???\n. > However, I don't get the logic behind or how to replicate that on other examples. If I want the trait select being synced with the component, I need to choose a trait name according to the property of the component it should listen to? So that might also be the property dragable, dropable, etc...? And the value of the property must fit the value of the trait select? Is it that?\nYou can use whatever property you want, as you see it's worked with tagName because with that trait you 'write/read' on that property. I explain more about it here https://github.com/artf/grapesjs/wiki/Traits#add-traits-to-components. For the point 1 you can pass this to your init options:\njs\n...\nlayerManager: {\n    showWrapper: 0,\n},\nPoint 2, what about something like a custom placeholder component which just overwrites toHtml method in the model definiton\njs\nmodel: ...\n    {\n        toHTML() {\n            return '';\n        }\n    },\n. Hey @dsgh, did you manage to accomplish your task?. Great, thanks Duarte, let me know then if you get issues. With showWrapper you shouldn't see the body in Layers\n\nIsn't what you've asked?\n\nwere you suggesting that I pre-render something like a ... wrapping everything, and then having the custom placeholder component 'recognizing' that through isComponent\n\nYeah, this is what I was suggesting\n\nbut the editor canvas just reflects what was pre-rendered, not what the custom toHTML returns.\n\nThis is correct, the canvas will show the placeholder element but will not gonna export it in your export/final code\nTook a look a this example: https://jsfiddle.net/5vcc3en6/. Ok so if I get it right the only issue now is with Layers, right? You'd like to see the content-area as a root of Layers, correct? In that case, it's not yet possible but definitely, it's something we can implement. gis-plugin-export -> gjs-plugin-export. Please keep track of your issues here, you're talking about the same case #1089. First of all, next time use this https://jsfiddle.net/szLp8h4n as a starting point for your fiddles, without all the stuff not regarding the issue.\nTo make properties defined on other devices you have to set the CSS on that media query:\ncss\n@media (max-width: 992px){\n  .your-map-class{\n    ...\n  }\n}\n@media (max-width: 480px){\n  .your-map-class{\n    ...\n  }\n}\n. As you see @Deepak813 those icons have classes too so you can use the same technique\n\n. Thanks for the report and details @Nuzsk This should be fixed for the next release. @jdodsoncollins it's fixed in the dev branch but was not yet released. You can define them easily inside Blocks. 1. This is because you're selecting your div wrapper and not the actual component, you can make not selectable:\n<div data-js=\"social-icons\" data-gjs-selectable=\"false\"> ...\n2. Trait's value is set from the component's model, so if you use changeProp the value is inside component.get(TRAIT_NAME) otherwise component.getAttributes()[TRAIT_NAME]\n3. The final code is built from the model, not from what YOU edit in canvas. When you trigger the method on change:facebook_url and do facebookUrl.href = facebook_url you're just updating the view and not the model of that element. Please read carefully here. Hi @FrciSmrci honestly, I don't understand what is going on and can't reproduce it with the current demo. Did you customize those blocks somehow? From which preset/plugin do you get them? Are you able to reproduce it via jsfiddle? Your grapesjs version?. > I was thinking that maybe it would be a good idea defaulting it to a key like gjs-. What do you think?\nYeah, probably that would prevent scenarios like this \ud83d\ude2c PRs are welcome :)\n. Please check here to get all available methods on Components. Use Assets API. Just include your changes in a plugin\nhttps://jsfiddle.net/on1g5xqb/. You should put your custom components in a plugin and it will work. Hi @Lethrir as you can see this is the command and the behavour is totally intended. This also shows you how ridiculously the command is, so you can create your own via Commands API\njs\neditor.Commands.add('clear-html', () => editor.DomComponents.clear() );\nI'd also suggest to create blocks with their own styles, just to keep thing modular and independent (in that case you'll gonna care less about document's styles)\njs\nblockManager.add('foo-block', {\n    label: 'Foo Block',\n    content: `<div class=\"foo\">Foo</div>\n        <style>\n            .foo {\n                ...\n            }\n        </style>`\n});. > Plugin gjs-style-gradient not found\nAre you sure you've imported it correctly?. Your fiddle doesn't work (you didn't setup it correctly), btw this is the demo, it uses the latest version and it works as expected\n. Hi Umar,\nGrapesJS supports native HTML5 Drag&Drop, therefore you are able to drop ANY kind of draggable resources (not only from the browser)\n\nYou can also extend it's capabilities by using canvas:* events, like canvas:dragdata which allows you to define what Components to use on specific dataTransfer type (eg. by default the editor accepts images and texts, you can make it understand also stuff like video and music files)\nBTW you're not forced to use the whole GrapesJS UI, you can configure it to use only the Canvas and Blocks (which is just really handy). Just take a look at this example https://codepen.io/artf/full/MQpZPj/. > BTW what about designer mode is that available?\nNot yet, I'm having hard times to implement new features due to my limited spare time. You can make use of this event\njs\neditor.on('canvas:drop', (dataTransfer, component) => {\n    if (component.getEl().tagName === 'GG-LIST'){\n        ...\n    }\n});. > Just to follow up I dont believe there's a way to detect which block was actually dropped during the event, correct? \nThe component it's just the first one of your list, if you wrap your 2 elements inside another div that one will be the dropped component. You mean something like this? https://jsfiddle.net/0m46y1fL. js\nif (model.components().length === 0 && !model.get('contents')) {\n    // is empty\n}. I think this happens because when you add the HtmlCode is parsed by the browser, but outside of the table scope and therefore it strips your tags. Try to skip the parser by passing a component object:\njs\n// And instead of adding <tbody> I'd prefer to set a new one as you might end adding 2 of them \neditor.getSelected().components({\n    tagName: 'tbody',\n    components: {\n        tagName: 'tr',\n        components: {\n            tagName: 'td',\n            components: '[Rest of the HTML code]'\n        }\n    }\n});. You just need to add CSS direction property in your Style Manager (check the getting started). Have you tried with this?\njs\nconst editor = grapesjs.init({\n    ...\n    allowScripts: 1,\n});. @alfaalex81 can you provide a live demo of the issue?. Tested with the demo, everything works as expected. Without any kind of live demo demonstrating the opposite, IMHO, there is no reason to keep this issue open.\nBTW, check this if you store and load templates back. @milapshah15 can't reproduce it, are you able to provide a simple live demo of the issue?. Don't drag the text from the component, create a new one or drag from blocks. Great, thanks Juan \ud83d\udc4d . A component model has 3 different properties which allow to customize the behavior of the StyleManager: stylable, unstylable, stylable-require (for more details look at source file). There is an option for it\njs\neditor.init({\n    ...\n    exportWrapper: true,\n}). @kuldeepcis You create a social-icons component as a <div>(by default) and then on init you add this:\nhtml\n<a data-js=\"social-icons\" href=\"\" target=\"_blank\" style=\"border: none;text-decoration: none;\" class=\"facebook\">\n                <img src=\"https://www.ctltrax.com/staging/frontend/assets/files/ext-mbuilder-email-editor/assets/social/facebook.png\" border=\"0\"><!---->\n            </a>\nThen you select the <a> and expect to see social-icons traits on it, well you're wrong, because that <a> is another component...\nChange your logic, make the a as a component and inject only the image\njs\ndomc.addType('social-icons', {\n    model: ...\n        defaults:  {\n            tagName: 'a',\n            attributes: {\n                target: '_blank',\n                ...\n            }\n        },\n        ...\n    view: ...\n        init() {\n            ...\n            // If you need you can make the image not \n            // selectable with `data-gjs-selectable=\"false\"` \n            // or just ignore it at all with `style=\"pointer-events:none\"`\n            comps.add(`<img src=\"https://www.ctltrax.com/staging/frontend/assets/files/ext-mbuilder-email-editor/assets/social/facebook.png\" border=\"0\">`);\n        }\n});. You can add it in template or inside blocks. BTW check other issues before opening a new one, there are plenty of questions like this. You should create a custom component. Hi @shareefhiasat I'm not sure if component's content property is exactly what you need here. \nThe content is used for static text/HTML (indeed is used as editable part in RTE), in your case what is happaning is when the <div>{BLOCK C}</div>... is rendered that <div> (which is static, without model and therefore non selectable) \"covers\" your component and so you're unable to select it. \nSo generally, you would use the content for something like this: content: \"Here <b>is</b> my static HTML, no div around\", but I think in your case, as you also use another custom component inside it (<component-b>), probably you just need components\n``js\nbm.add('ev-name', {\n          label: 'Block C',\n          category: 'Basic',\n          content: {\n            // Force the div not to be editable with data-gjs-type=\"default\"\n            components:{BLOCK C}\n`\n          }\n      });\n// Or just\nbm.add('ev-name', {\n          label: 'Block C',\n          category: 'Basic',\n          content: <div data-gjs-type=\"default\">{BLOCK C}</div>\n<component-b></component-b>\n      });\n```\nLet me know if it works for you. I didn't get what is wrong with the solution I proposed to you. Should work now. Just a problem on the site https://github.com/artf/grapesjs/commit/911caf34f1804f7e21cd18ea90b231d229174350 :). You don't need to update the view in this case, just change the classes inside the model. All you need is this\njs\ndoStuff() {\n    this.setClass(this.get('classProp'));\n},. Obviously, if you add rows on init every time, you will get them any time you refresh the page. No, unfortunately, there is no way to trigger d&d in that way, something similar you can do with a selected component in canvas via editor.runCommand('tlb-move') but not with blocks . Hi Fernando, you can find more about the Style Manager API here. Nope, style manager works per property. But you can create custom behaviors with Traits, in your case you can change the style. All you need to know about the argument is here. > But I had to add other wrapper configs such as emovable, copyable, etc. Since wrapper is only a config element I hope this is the default behavior. However if there is a way to just add traits[] without other properties, how it could be done?\nIf you do it via init config, this is the way and you have to specify all other properties if you need them.\n\nAlso I did following.\nDomComponents.getWrapper().get('traits').add({'name':'test', 'type': 'text', 'label':'Test'})\nWhen I click on wrapper element, I get following error message.\n\nJust tried the same code on the demo and it worked as expected (try to update to the latest version)\n. js\nconst selector = '#itvmm';\neditor.select(editor.DomComponents.getWrapper().find(selector)[0]);. If you use any kind of minifier, the script is affected too. You can set the script as a string if you need to show the complete code to the user. @ionic666 follow the issue template, please, I don't even understand the context of your question. Have you tried with this?\njs\nassetManager: {\n    ...\n    uploadFile: false,\n    embedAsBase64: true,. Well then use uploadFile and if you don't know how to get the base64 of the file try to copy embedAsBase64. > Its working.Thank you.\nI'm closing this then\n\nIs there a method which makes button disabled and not clickable.The Enable property is just about making it selected.Do we have anything to disable the button.\n\njs\nbtnModel.set('disable', true);. Check this example https://codepen.io/artf/full/MQpZPj/. This happens because in the inner box you propagate droppable and when you drop the table its droppable goes to columns\nBTW use always the latest version. el.tagName === 'IMG'. but some time ...?!? \nPlease just check if the plugin is actually loaded, because it's just you. Well from what you've posted I can't tell what is happening but definitely, there is nothing generated randomly, just go deeper with the debug.\nBTW you can solve this easier by using find(query) method:\njs\nvar title = this.get('title');\n...\nvar h4 = this.find('h4')[0]; // returns an array of models\nh4 && h4.set(\"content\", title);\n.... Just update grapesjs. > I did update grapesjs to 0.12.17 \nI mean the latest version.... Seems like you're still confusing the model with the view...\nFrom what I see your model is empty, so obviously model.find returns no data.\nProbably what you need is creating the template inside the model, NOT the view.\njs\nmodel:\n    ..\n    initialize() {\n        ...\n        // If I have no inner components\n        if (!this.components().length) {\n            // Here you're actually creating the structure of the model, \n            // the view will reflect its strucute by default\n            this.components(template);\n        }\n    }\n. Just make use of storage:store event and store it by yourself. Check this #324. This is just because you're requesting the page under HTTPS and  https://feather.aviary.com/imaging/v3/editor.js has invalid certificate (you have to accept it explicitly before)\nI'll make some further improvements to avoid breaking the editor. For now, if you're requesting the site over HTTPS you get the error until you don't accept the certificate otherwise it's all ok. Indeed, I'm not forcing right now HTTPS so it's something on your side.\n\nWhy don't you simply fix the pages on the website!?\n\n@blaasvaer my friend, the site is here, open-sourced also for you https://github.com/artf/grapesjs/tree/gh-pages PRs are welcome, now I'm using my spare time replying and helping others with Issues. \nThe fix could also be: download http://feather.aviary.com/imaging/v3/editor.js, put it inside the js directory of the site and require it from there. @blaasvaer welcome to open source \ud83d\ude02. @besingasj the styling of the dropzone is up to you. I see there are some conflicts in few points:\n Keep the source code of the handlebars template\n Have the individual elements of the rendered handlebars template be editable in the grapes editor\nIf you edit stuff you'd expect to get those edits, right? But you're still asking handlebars template as a return, so which is the point of editing them??\nBTW I'll give you few hints, then try to figure it out what do you need (didn't test it):\njs\ncomps.addType('handlebars', {\n      model: defaultModel.extend({\n              defaults: {\n                ...defaultModel.prototype.defaults\n                droppable: true,\n                editable: true\n              },\n              init() {\n                // If I have no components inside, I compile the template\n                // and it will be an editable content\n                if (!this.components().length) {\n                    this.components(Handlebars.compile(this.get('template')));\n                }\n              },\n              toHTML() {\n                // If I have components I'll follow the original method\n                // otherwise return the template\n                if (this.components().length) {\n                    return defaultModel.prototype.toHTML.apply(this, arguments);\n                } else {\n                    return this.get('template');\n                }\n              }\n      }, {\n            // isComponent is mandatory when you define new components\n            isComponent(el) {\n                // Accept it only when `handlebars` type is explicitly requested\n                return false;\n            }\n      }),\n      view: defaultType.view\n    });\nThen add a block like this\njs\neditor.BlockManager.add('hdb1', {\n    label: 'Template 1',\n    content: {\n        type: 'handlebars',\n        template: '<div ...>...</div>', // you Handlebars template\n    }\n}). @agungaja there is no importWrapper option and you can't import tag <body>. GrapesJS expect the user to pass the CONTENT... not the WRAPPER (which in most cases is body), the wrapper should be defined by its configuration;. This is what you've asked to render... components: are children in your case, probably you just need this content: '<div>123</div>'. Thanks @maxencehenneron but I don't understand how this I'm thinking of a way to directly load the configuration from a remote server and render it on a web page on the fly (that you can alredy do it via the built-in remote storage) is related to other export options than HTML/CSS, what else do you need?\nBtw maybe this can help: https://github.com/artf/grapesjs/wiki/Storage. Yeah sure, I explain the exact thing here https://github.com/artf/grapesjs/wiki/Storage#store-and-load-templates\nYou can init the editor from HTML or directly (without parsing) via the JSON\njs\ngrapesjs.init({\n  ...\n  components: `<div>...</div><div>...</div>`,\n});\n// Or\nconst editor = grapesjs.init({\n  ...\n  components: [{...}, {...}],\n});\n// and now I can get its HTML\nconst html = editor.getHtml();. It's missing just because this is how is defined in the preset plugin but you can actually override it with your configuration and add all the transform you need. Well, not really but you can create a trait which on change updates the style of the component. again @ionic666, components are children, so you're NOT replacing the component, you're just adding children. If you need for example to update attributes of the wrapper you do this selected.setAttributes({ property: 'value' }). This is how the map block is inserted via basic blocks plugin\nSo you can override it in this way\njs\neditor.BlockManager.add('map', {\n    label: 'My Map',\n    attributes: { class:'fa fa-map-o' },\n    content: {\n      type: 'map',\n      style: { height: '350px' },\n      mapType: 'q', // q - Roadmap / w - Satellite\n      address: 'Miami',\n      zoom: 1, // max 20\n    },\n  });. GrapesJS is not designed to handle stuff outside of the body, indeed all the content are appended inside the body. So, for example, if you're creating a Page Builder you use GrapesJS for creating the template of the page NOT its metadata, that part should be handled outside. Follow the issue template and post your code. Sorry but there is no built-in configuration for such a thing, the only thing I can suggest is to start with this listener\njs\neditor.on('change:device', () => {\n    console.log('new device', editor.getDevice());\n}). > I think that the current implementation may be a little confusing from the perspective that the user expects that his action will reflect on the specific element he chose to style not every other element with the same style.\nYeah, I agree with you, the current implementation of classes is probably too much tech/dev oriented, what I have planned to do in the future is to create a similar approach used in Sketch but unfortunately, don't have time to implement it.\nBTW for now the only solution I can suggest is to make you selectors (classes) private, here is an example https://codepen.io/artf/pen/jaaKvq. No, currently there is no way to import a wrapper, but I'd be glad to accept a PR for this. I've already made a fix for this, it will be available in the next release. @sakshigarg9 add grapesjs via npm, then in your code just use import grapesjs from 'grapesjs' It will work, without any need to update the webpack configuration. For the local storage check this https://github.com/artf/grapesjs-indexeddb\nFor PHP, obviously, it's up to you. I answered you already here #1171 use setAttributes. editor.destroy() method is available from https://github.com/artf/grapesjs/releases/tag/v0.14.20. You're just missing the check for the current dragged model. Thanks for the effort Duarte, but I think I've figured out a better way to accomplish the same task (inspired by your idea btw) so I close this PR. I've created a new branch where I refactored few old ideas and implemented the new one: https://github.com/artf/grapesjs/blob/dynamic-layer-root/src/navigator/index.js\nI plan to merge it for the next release\nBasically, for the initialization, a query string is enough as I moved all the logic in LayerManager.postRender()\njs\nconst editor = grapesjs.init({\n  container: '#gjs',\n  layerManager: { root: '#my-root' },\n  // ...\n})\nBesides this, you can also change the root after\njs\neditor.LayerManager.setRoot('#other-root');\n// or via model\neditor.LayerManager.setRoot(editor.getSelected());\n. @chiqui3d You should basically setup header, footer and sidebar as placeholders and just let other stuff editable\nhttps://jsfiddle.net/5vcc3en6/. For such an issue I'd require a live demo because you might be using an old version. BTW I wasn't able to reproduce it, so it might also be fixed. In case it's not, please open another issue, with a link to a live demo and exact steps on how to reproduce it. I think it's just because you need to indicate the height for your document\ncss\nhtml,\nbody {\n    height: 100%;\n}. @ssabrewolf check better the JS code, I just rerender blocks with another collection, if you don't do it, you see them all. I think the usage example is all you need to know about it. You can use find() method at any component, so to get all button components of the canvas, you would do this\njs\ndomc.getWrapper().find('button.some-class'); // returns an array of components. > Do you allow that?\nSure\n\nIs attribution mandatory?\n\nNope. Internally, it's a modified version of https://github.com/bgrins/spectrum. You can import it as it is but take care of this #1173. The recognition of the component depends on this https://github.com/artf/grapesjs/wiki/Components#component-recognition \nSo the \"form\", for example, is recognized just be the tagName so you don't need to do anything else, but the \"column\" it's not a component, its just an HTML block.\nWhen you need, you can strictly declare the component type in this way\nhtml\n<div data-gjs-type=\"text\">\n    <span>Don't parse the inner span, just treat it as a text component</span>\n</div>. Found the bug, will be fixed for the next release\nThanks for the catch. https://laravel.com/docs/5.6/filesystem#file-uploads. https://github.com/artf/grapesjs/issues/1157#issuecomment-397104559. @algodata44 for the built-in RTE you need to implement a new action for that. I think it will be much easier to understand what is wrong with am.addType. Please provide a live demo of your case.\nps. As you've created an issue I removed your comment in #802 because the content is the same but left like this it was just creating confusion. You can create customized panels like this one https://codepen.io/artf/full/MQpZPj\nbut for the rest, it's up to you, so just move it as you wish\njs\neditor.on('load', () => {\n    // move stuff\n}). Look how the original ExportTemplate is done, then add your own export command. > When I click on the line \"at fetchFile (grapes.js:17107)\" I see this function\nWhich is just a step before you real issue... click on uploadFile step and you will find the issue. > I don't know how to get chart from my block. Global variables are not available.\nI don't understand what do you want to do\n\nAnd i also want to modify configuration items for charts\n\nYou can use changeProp to get the property value of your components\njs\ncontent: {\n    type: 'mycharts',\n    xaxis: 100,\n    traits: [{\n        label: 'xAxis',\n        // Use changeProp and assign the same \n        // name of the property to get its value\n        changeProp: 1,\n        name: 'xaxis',\n    }]\n}. Check your code, it's completly messed up, you're mixing component related stuff inside blocks and then you put everything inside style(???)\n\n. @ssabrewolf as you get it right, BlockManager points only to one single DOM element, so you can't create 2 different collections, but you can definitely move elements around with plain javascript. You should do it once the content is rendered\njs\neditor.on('load', () => {\n    // move stuff\n}). https://github.com/artf/grapesjs/wiki/Traits. @ogousseau avoid panelDevices.render() and check your panel in the inspector, probably it's just behind some other one. Please read about Panels API addButton() and Command API add()\n\nI think the request never started\n\nYou shouldn't think, you have to use devtools to debug. @kuldeepcis provide a live demo. I think the real issue here is a need to have methods like\njs\nfontProperty.addOption({ value: 'Roboto, Arial, sans-serif', name: 'Roboto' })\n// or\nfontProperty.setOptions([...])\nwhich then update the view accordingly to the change. So I'll add them for the next release.\nFor now, declare your Style Manager in init configuration object or try with something like this\njs\n...\nfontProperty.set('list', list);\nfontProperty.view.input = null;\nfontProperty.view.onRender();\n// styleManager.render();. Can't reproduce it on the demo, are you working with the latest version? Can you provide a live example?. > the problem occurs only on newly uploaded pictures\nI've tried to add it via url as you've suggested and it works as expected\n\nAfter upgrading to the latest version from 0.14.15 the asset:add event isn't firing anymore.\n\nSame, not able to reproduce it\n. Just try to add the image via path and you'll see the event triggered\n\n. > adding the asset to canvas\nWhat do you mean? Via drag and drop to the canvas?. Ah ok you're talking about this https://github.com/artf/grapesjs/issues/1196 fixed now in https://github.com/artf/grapesjs/releases/tag/v0.14.21. Will be fixed in the next release. var myImg = editor.find('img') there is no editor.find method. Hi @algodata44, do you use the latest version? Any error in console? Honestly, I don't face any issue with other browsers so can't actually help you here. You should at least provide a live demo with steps on how to reproduce the issue.. Currently, you should try with something like this\n```js\neditor.BlockManager.add('your-block', {\n    label: 'Your block',\n    // ...\n    content: { // your component\n        price: 123,\n        // ...\n    }\n});\neditor.on('canvas:drop', (dr, component) => {\n    const price = component.get('price');\n    ...\n})\n```\nBTW I'd like to re-enable block specific events, so probably with the next release the process will be more concise\n```js\neditor.BlockManager.add('your-block', {\n    label: 'Your block',\n    price: 123, // Add stuff to the block, not the component\n    // ...\n});\neditor.on('block:drag:stop', (component, blockModel) => {\n    const price = blockModel.get('price');\n    ...\n})\n. Check via devtool if the request is sent from your browser, the server part is up to you, can't help you there. @peakrams, unfortunately, no one worked on this. Add the type via attribute `data-gjs-type=\"input_box\"`. Update your view in this wayjs\nview: dView.extend({\n    init() {\n        this.listenTo(this.model, 'change:attributes:data-dummyimage', this.render)\n    },\n    ...\n})\n``. This is because you're just clearing components. You can use the built-in commandcore:canvas-clear`. > To remove the CSS codes that belong to a specific block.\nIndeed that block of CSS doesn't belong to any component (I'm talking about how the editor works) so that declaration is always rendered. GrapesJS can associate only class-based selectors, eg.\ncss\n.class1 {...}\n.class1.class2 {...}\n.class1.class2, .class3 {...}\nnot even nested like .class1 .class2, in that case the rule is imported correctly but do not belong to any component. > which causes it to be in quirks mode\nWhich browser?. @tomichal it's nothing to do with the doctype, fff it's just not an HEX, it works because of the color picker, nothing more.\nBTW I think it's awful still talking about 'quirks mode' in 2018. Please @Deepak813... follow the template of the issue, provide a demo and steps to reproduce. Follow the issue template please and always write ONE problem/question/bug per issue. You have to paste plain text instead of the formatted one copied from Word, use Ctrl + \u21e7 (shift) + V. This is might be strictly related to CKEditor 5 and not GrapesJS. I'd suggest start asking why you're getting that error. For now, there is no reason to keep this issue open. @ionic666 you can change the background-image from the style manager.\nAnd again @ionic666 you HAVE TO follow the issue template otherwise you're making us waste our time to understand what you asking. Next time @Abhisheknanda1344463 \n Follow the issue template\n Don't write in uppercase\n* Close the issue if it's solved. You just have to set the already translated string\njs\nname: i18n[locale]['headlineSettings'],. @Abhisheknanda1344463 it's definitely something wrong on your side with the browser rendering, seems like it doesn't update some pixels when the animation is performed. Try to restart your computer.\nI'm using the same OS but with even older Safari and nothing strange happens. First of all, I'd avoid applying the style on selected component editor.getSelected(), you should do it on opts.target as it might be different from the selected one editor.runCommand('open-assets', { target: someOtherComponet })\n\nhow do I detect what property or attribute the user is editting?\n\nMake use of https://github.com/artf/grapesjs/wiki/API-Editor#available-events\n\nAnd how to reflect the new state in the panel?\n\nTry to use this editor.trigger('component:toggled') after addStyle\n. Ok you have to provide a live demo of this because you have strange issues. I hope you're using the latest version.... Ok, now I understand where is the issue, have to fix the call in style manager, should be ready for the next release. Instead of\njs\nblockManager.add('new-block', {\n  label: 'My label',\n  content: '<section data-attr=\"some-value\"><h1>Hello!<h1></section>',\n})\nYou can do this\njs\nblockManager.add('new-block', {\n  label: 'My label',\n  content: {\n    tagName: 'section',\n    attributes: { 'data-attr': 'some-value' },\n    components: [{\n        tagName: 'h1',\n        content: 'Hello!',\n    }]\n  },\n}). Wrong repository. Wrong repository. I don't understand your issue, so please be more specific or even better post a live demo.\nBTW I don't think you want 1 as a maximum value of the margin, it would make more sense something like this: step: 1, min: -100, max: 100. > but now the id's are not in the html anymore\nCan you explain better your case because this new feature shouldn't change the previous behavior.\nBTW to explain this new option let's take for example a component that on component.toHTML() returns this:\nhtml\n<section id=\"some-id\">\n    <h1>Hello!</h1>\n</section>\nSo now, for example, you can do this:\njs\ncomponent.toHTML({\n    attributes(component, attr) {\n        if (attr.id == 'some-id') {\n            attr['some-attr'] = 'some-value';\n        } else if (component.get('tagName') == 'h1') {\n            attr.class = 'h1';\n        }\n        return attr;\n    },\n});\nto return\nhtml\n<section id=\"some-id\" some-attr=\"some-value\">\n    <h1 class=\"h1\">Hello!</h1>\n</section>. Thanks @Jogai, you're actually right, there is a bug (will be fixed for the next release), but I'd like to suggest to try this option which should also correct the current behaviour:\njs\ngrapesjs.init({\n    ...\n    // Usually when you update the `style` of the component this changes the\n    // element's `style` attribute. Unfortunately, inline styling doesn't allow\n    // use of media queries (@media) or even pseudo selectors (eg. :hover).\n    // When `avoidInlineStyle` is true all styles are inserted inside the css rule\n    avoidInlineStyle: true,\n})\nOne day or another, probably, this will be true by default, as without it you can't style single component on different devices or in different states (eg. :hover). > Our templates heavily use inline styles, and with the option set to true, those are completely ignored (I load my template from an element)\nBut wait, all the things just change internally, the import you do right now is always the same... can you provide a live example of your issue?. > My template is imported without the inline styles. But thats not a problem for me if I leave avoidInlineStyle out.\nIt works exactly the same... https://jsfiddle.net/szLp8h4n/245/ so check if it's something wrong on your side, because as I said one day or another that will be the default behaviour. Wrong position for isComponent, it should be passed in the second argument object\njs\ndefaultType.model.extend({\n    isComponent //<- wrong\n}, {\n    isComponent //<- correct\n})\nSo it's like not declaring it, and as mentioned in Components\n\nAs you're putting a new Component type on top of the stack, not declaring isComponent() might probably break stuff, especially if you extend the default one.. And as the last command of npm start is webpack dev server you can pass them in this way\nnpm start -- --host XXX --port 80. 1. The countdown is a plugin, so you should open all the relative issues here https://github.com/artf/grapesjs-component-countdown ... already told you here\n2. Just create a custom trait (eg. by using some date picker) and use it inside the plugin dateInputType: 'your-date-picker'. @bhavinshiroya1994 thanks for the report, this will be fixed for the next release. Hi @alperenuzun we don't support old versions so, please try to update to the latest and check if everything works. By the way, when you add new components be sure to do it from a plugin.\n. @alperenuzun as I said, we don't support old versions, so try to upgrade please and in case you still face the problem open a new issue and follow its template. Well with this this.attributes.template = ... you do nothing to the view so it's just empty. You have to update the model so the view reacts to the change.\nEg.\njs\n// inside the Model\n// use init instead of initialize, so you avoid `defaultType.model.prototype...`\ninit () {\n    // ...\n    // if the component has no children\n    if (!this.components().length) {\n        this.components(`<div ${attrsRow}>\n                    <div ${attrsCellAside}><p>Aside</p></div>\n                    <div ${attrsCellMain}><p>Main</p></div>\n                </div>${styles}`);\n    }\n}. IMHO its ok, but if you don't like this behavior you can create your own preview command. > td Tags are not editable\n\nCorrect, you have to wrap the text inside some other tag. Follow the issue template and provide a live demo. Check this for the RTE toolbar https://github.com/artf/grapesjs/wiki/Replace-Rich-Text-Editor#toolbar-position\nFor the component toolbar there are no options for the positioning. try to drag also the other cell, it's just about the initial width. You should wrap the text in some other tag.\nIf you can't change the content you should probably have to extend the original component\nEg. inside isComponent make some kind of change\n```js\nisComponent(el) {\n      let result = '';\n      const tag = el.tagName;\n  if (tag == 'TD' || tag == 'TH') {\n    result = {\n      type: 'cell',\n      tagName: tag.toLowerCase()\n    };\n\n    if ( /* eg. el has one textnode element  */ ) {\n        result.components = `<div>${el.innerText}</div>`\n    }\n  }\n\n  return result;\n}\n\n. https://github.com/artf/grapesjs/wiki/Assets#uploading-assets. Hi @roufriyas you can use PHP to render templates dynamically but it doesn't make sense use PHP functions inside the iframe (probably only as a variable placeholder). I'd recommend asking such a question in some WP related forum. Assets have nothing to do with components, you have to store them too.\nhttps://github.com/artf/grapesjs/wiki/Assets. Just add the style inside the blockjs\ncontent: <button class=\"btn\"></button>\n    <style>\n        .btn:hover {\n            ...\n        }\n    </style>,\n```. > Because it's an external stylesheet\uff0cWhen i export, i don't get it\nThis is how external stylesheets work. Cool! \ud83d\udc4d Thanks James. https://github.com/artf/grapesjs/issues/1074#issuecomment-405020535. For the size of the window, I think it's just a matter of adding some CSS. For the basic filtering, it's a bit different, you can do it by yourself actually (create the element, on change filter rendered assets and, for example, append the search element every time you call the asset manager) but we had thought about adding a more generic behavior on all collections #498 . We're using fetch under the hood so check this out https://stackoverflow.com/questions/36669911/post-not-retrieving-data-from-javascripts-fetch and let me know. Thanks Duarte \ud83d\udc4d . @AnkitKachhadiya you can also update dynamically the default one\njs\neditor.BlockManager.get('id-of-the-block').set({\n    content: {\n        type: 'link',\n        content:'Text for the link',\n        attributes: { href: '...' }\n    }\n}). Sure. Vue compiles at runtime if you use the version with compiler. Exactly like this component https://github.com/alexjoverm/v-runtime-template\n\nAs second question I'd like to know whether it is possible to hook onto events from the editor from inside a component\n\nYeah, you can access the editor model from components via this.em\njs\nsomeMethodInComponent() {\n    const { em } = this;\n    em.on('some-event', ...);\n    em.once('some-event', ...);\n    em.trigger('some-event');\n    // ...\n}. > The problem with Vue is that there is not really a method that allows me to put a string in as parameter and get html as an output. I have asked this question on StackOverflow and hopefully I will get an answer in near time.\nyeah but you can always create an element and mount the Vue instance at runtime and then get its HTML content. > Am I doing this right?\nNot really.\nYou have to setup the remote storage. Just tried this https://jsfiddle.net/szLp8h4n/235/ and works as expected (uses the default local storage)\nAre you sure you're saving properly?. Please, try to search for issues before opening a new one\nhttps://github.com/artf/grapesjs/issues/1215\nhttps://github.com/artf/grapesjs/issues/857. Download the library (eg. https://unpkg.com/grapesjs), include it inside your html page and launch it https://github.com/artf/grapesjs#usage. Because GrapesJS is supposed to be a framework, not a ready to use application https://grapesjs.com/docs/#what-is-grapesjs. I think GrapesJS fits perfectly your needs, just read about the Storage to get an idea on how you would work. Hi @Barahten please try to provide a live demo for your issues, just can't help you without seeing how you set up the editor.\n. Regarding the first point\n\nBut when updating the page and repeating all the above manipulations, the asset manager (the one on the left is empty).\n\nFirst of all, update the library, 0.12.17 is too much outdated actually\nBTW, just to give you an overview of how stuff supposed to work. At the beginning, your assets are loaded from what you have defined in config.assetManager.assets but if you have configured the StorageManager and you're fetching a JSON object like this { 'gjs-assets': [{ src: '' }, ...], ... } (gjs- is a default value from config.storageManager.id) your assets will be replaced by gjs-assets array, so take care of this flow.. Do you use the latest version? The error appears only in the templates list? So, does it work when you click back to the edit page?. @cmoutafidis would you able to provide a live demo, please?. @mararn1618 you might be right! When you create component wrappers in frameworks like Angular, React, Vue, etc remember always to use editor.destroy() in a onDestroy-like life-cycle hook. No, those attributes are only used for the import. Please, learn how to store correctly your templates https://grapesjs.com/docs/modules/Storage.html#store-and-load-templates. Seems like it doesn't update on the first reset but it actually reacts on changes, indeed you're able to clean it after the first change. I'll check it. @AnkitKachhadiya the fix will be available in the next release . If you need to use libraries inside your final templates you have to implement custom components with javascript https://grapesjs.com/docs/modules/Components-js.html#basic-scripts. Which IE?. I'd really appreciate a help, it might be just a CSS \"issue\". > I figured that if I just add something to the select element around the units\n@theanhmx What do you mean? Adding what and how?. well, in that case, it's a normal behavior because it's like doing el.innerHTML = \"<select>...\" which creates new nodes... it also explains that IE fails for no real reason -.-. To be honest, I don't know but maybe this happening because by clicking outside you're unfocusing from the input, indeed, you should probably append those buttons inside rteToolbar which has this listener on(rteToolbar, 'mousedown', e => e.stopPropagation()); and so prevents from blur. Will be fixed in the next release. I think it's because the preset force the rendering inside its custom panels and, as the element of blocks is unique, is probably moved from the specified position.\nI close this issue as it has nothing to do with the core but I'd be glad to accept a PR for preventing forced rendering. Hi Logan, I like this concept, those benefits are real and it doesn't break current API, so I don't see any reason of why to not apply it.\nWould you mind to add a test case here and add few lines about this approach here? It'd be great. Thanks Logan, about your issue with other plugins I think that happens because of the previous boilerplate when I wasn't using the import grapesjs ... (old index, new index)\nBTW, I'm gonna merge this PR because I like the approach and it doesn't cost too much, but still not sure about using it as a recommended way, especially when you use plugins directly in the browser\nhtml\n<script src=\"/your/path/to/grapesjs.min.js\"></script>\n<script src=\"/your/path/to/grapesjs-plugin.js\"></script>\n...\ngrapesjs.init({\n    container : '#gjs',\n    plugins: [ ?? ] // would require some kind of global\n})\n\nCan you have a look at this CI error? Tests are working locally.\n\nSeems to be related here, I think with a new version of jest will be fixed. Thanks for the suggestion, Logan. Just to be clear, with the proposed state UMD namespace implies the plugin developer to define explicitly the global, eg.\njs\nconst myPlugin = editor => { ... };\nwindow.myPlugin = myPlugin;\nexport default myPlugin;\ncorrect?\nBTW, to be honest, I didn't even remember the global definition made by UMD wrapper, so in that case, when you ask for plugins: [\"gjs-preset-newsletter\"] instead of just looking for it inside grapesjs.plugins we can also check inside window... what do you think?. > So plugins: [\"gjs-preset-newsletter\"] would be equivalent to plugins: window[\"gjs-preset-newsletter\"]?\nI'd say more like this plugins: [ window[\"gjs-preset-newsletter\"] ], the plugins options should always be an array\nIn that case, for the next release, I'll add the check inside the window and, later, update the grapesjs-plugin-boilerplate to clean it from peerDependencies. https://grapesjs.com/docs/modules/Storage.html#setup-the-server. You need to create a custom component\nhttps://grapesjs.com/docs/modules/Components.html\nhttps://grapesjs.com/docs/modules/Components-js.html. There is a very similar issue #1288 please discuss it here.\nBTW I'd need a minimal live demo for such a case. You're completely misunderstanding the concept of JS in Components. Read the basics https://grapesjs.com/docs/modules/Components-js.html#basic-scripts and search in issues before posting a new one. No, with this editorRTE.DomComponents.render() you're triggering the render of all component, please read carefully about Components, by looking at stuff like this editorRTE.getSelected().view.$el[0].innerHTML = value I think you just didn't get how really components work. > But I'm still confusing of how I can update the traits attributes of a component programmatically without typing on traits input field like for instance the title of a component.\nTake a look at this https://jsfiddle.net/szLp8h4n/286/. @Abhisheknanda1344463 This should explain you some stuff https://jsfiddle.net/szLp8h4n/267/\nPlease @Abhisheknanda1344463, next time, create a demo for this kind of questions. Hi @inventorbit for such a case you should manipulate directly the canvas document\njs\nconst scriptEl = document.createElement('script');\nscriptEl.src = '...';\neditor.Canvas.getDocument().head.appendChild(scriptEl);. Hi @aj0022, as @xamdam777 already suggested you have to create a server-side script which receives values from the form. By default, the initial value of the trait corresponds to component's attribute. In the case of changeProp use, you should pass the initial value via data-gjs-* attribute. @jvillena it's up to you triggering events... $(element).val(\"test\").trigger('change'). https://jsfiddle.net/szLp8h4n/286. @xamdam777 you can use component.addStyle({ 'margin-top': '10px' }) (or setStyle for a compete replace of the style).. @xamdam777 you're right, in that case you should use editor.getSelectedToStyle() which will return the proper object, a Component if you don't have any class selector associated (the same you get with editor.getSelected()) or the CSS Rule object associated to the selected component by its classes. @YashPrince check the API https://grapesjs.com/docs/api/css_composer.html. Like the one which already exists?\n\n. Ok... the feature is active by default on all number inputs. Unfortunately, this is caused by the browser's CSS parser which rearranges the order of box-shadow values, so if you import your templates from HTML we can do nothing until we'll be able to use custom CSS parsers (I close this in favor of #1079), but if you create templates from the editor and store them correctly it should be ok. Hi @Moikapy, can you provide a minimal live demo of the issue, please?. You're using incorrectly the template. You should place attributes like data-tab and data-tab-container without assigning any value, those are used internally by JS to understand where pieces are placed\njs\n<nav data-tab-container>\n        <a href=\"#tab1\" data-tab>Tab 1</a>\n        <a href=\"#tab2\" data-tab>Tab 2</a>\n        <a href=\"#tab3\" data-tab>Tab 3</a>\n      </nav>. Thanks Maryia, it should be actually fixed with the latest version https://github.com/artf/grapesjs/releases/tag/v0.14.25 (same as #1298). js\neditor.on('run:preview', () => {\n    // Execute a callback on all inner components starting from the root\n    editor.DomComponents.getWrapper().onAll(comp => \n        comp.is('text') && comp.set({ editable: false })\n    );\n});\n// Same for the `stop:preview` but set editable to true. js\nconst attr = component.getAttributes();\ndelete attr.title;\ncomponent.setAttributes(attr);. From the https://github.com/artf/grapesjs/releases/tag/v0.14.17 you get data-gjs-type on all rendered components, therefore you can do something like this:\ndroppable: '[data-gjs-type=\"column\"], [data-gjs-type=\"other\"]',. The content of the model is actually updated once you blur from the editable component, so when you call getHtml it's just not yet there. Never had time to debug it but I think it caused somehow by components with float: right style applied. @inventorbit next time, if someone solves your issue, close it. You could make use of this special attribute selectors div[class~=\"some-class\"], [class~=\"some-other-class\"]\n ~= contains word\n *= contains\n ^= starts with\n $= ends with. I think you're looking for https://github.com/olivmonnier/grapesjs-plugin-header Please, check its source, I think it might give more context on how to create your own components. Only class-based selectors are tracked and therefore could be removed, others are left.. @YashPrince you can use HTML string or Component objects\n``js\neditor.BlockManager.add('some-id', {\n    label: '...',\n    content:\nSome content\n`,\n});\n// Same as ...\neditor.BlockManager.add('some-id', {\n    label: '...',\n    content: {\n        draggable: false,\n        attributes: { title: 'text' },\n        components: [\n            {\n                tagName: 'h1',\n                components: 'Some content',\n            }\n        ] \n    },\n})\n```. Just remove the current from the list before uploading the one with the same name. It's happening just because grapesjs-preset-newsletter uses an old way of loading the plugin, I'll fix it soon. > Problem 1\nIt depends (you can extend other types), but that is the base for all the components\n\nProblem 2\n\nHere you should point out only issues related to the core library and not its plugins\n\nProblem 3\n\nPlease read carefully this https://grapesjs.com/docs/modules/Components.html. Each property is independent from the other so there are no global options. @alibouaziz the #wrapper is inside the GrapesJS's iframe, so querySelector returns nothing.\nYou can access the content of the iframe via Canvas module, so to get the body you would do editor.Canvas.getBody(). It could be already possible with this kind of configuration\njs\n{\n        type: 'slider',\n        property: 'font-size',\n        units: [],\n        unit: 'em',\n        defaults: 14,\n        max: 40,\n        min: 1,\n}\nbut unfortunately I notice that currently the slider itself does not update its pointer (due to a not numeric value). I'll fix that in the next release. Yeah, sorry, I was too much busy with other stuff this week, hope to release this weekend \ud83d\ude2c. Yes, please check #1131. editor.Panels.getPanel('options').get('buttons').reset(). You should follow this guide. You have these\nhttps://grapesjs.com/docs/api/editor.html#setcomponents\nhttps://grapesjs.com/docs/api/editor.html#setstyle\nno methods for js, it only can be a result of custom components. Go ahead @emilsedgh \ud83d\udc4d \nPropertyCheckbox is ok. Hi David, I think currently is the best you can do, but I'm open for suggestions to make it less hacky. Are you just asking to rename the Add image with Insert image?. ok, so the problem is it's not clear how to select and close the modal, right? In that case, probably, something like 'Select' button (at the bottom) might be a good solution. I need to know what do you store in DB and how do you load it.. @yosoyfran ok but there is one thing that is not clear for me, is it just about the background or all of your content? I mean, if you add some block inside, save and refresh, you see them correctly, right? If you completely don't see anything of your content, check the load request via inspector. Ok thanks for the video @yosoyfran I'll try to figure it out was is going on there. > Also when clearing the canvas (with the trashcan icon) it doesn't clear the background styles, i think that might be related. You can test it on grapesjs.com/demo.html Set a background image and press clear canvas. The background is still there.\nmmmm I'd say it's just because the clear canvas command doesn't touch wrapper's style (it's about adding the line suggested by @maryia-kabash in CanvasClear, could be an easy PR), so not related\nBTW I've added this issue for the Next release. Guys, can you try to use this option and let me know if it fixes the issue:\njs\ngrapesjs.init({\n    //...\n    domComponents: { storeWrapper: 1 },\n}). @yosoyfran can you check what do you load? The main difference with that option is that the stored components key is not an array of components anymore ([{type: 'header', ...}, {...}]) but a component itself, the wrapper ({ type: 'wrapper', components: [{type: 'header', ...}, {...}], ... }). Thanks @v8jupiter for the video and the data, it helps a lot, but still not getting why it's not working on your machine (the data stored seems to be correct though). Do you use the latest version? How do you load the stored data, simply via config.storageManager.urlLoad?\nFor anyone who is interested, this is where we get the loaded data and check if it is an object: https://github.com/artf/grapesjs/blob/dev/src/dom_components/index.js#L327-L343\n. Example with localStorage (the process is the same as the remote one) https://jsfiddle.net/n2a3rvct/ the load works correctly. Can someone confirm that it works with the latest version? @yosoyfran @v8jupiter @maryia-kabash @ageir \n. As already explained here with domComponents.storeWrapper you store also the wrapper in your components data instead of the array. After thinking about it for a while it might be correct to keep the wrapper always stored, so probably I'll set true as the default value. @v8jupiter weird... can you post your config regarding the storage?. Hi @v8jupiter (and others), can you check please the new released RC https://github.com/artf/grapesjs/tree/15-beta/dist (npm https://www.npmjs.com/package/grapesjs/v/0.15.3-rc)\nUnfortunately, I'm stuck with releasing the new version due to this bug, so if you're able to test and report (domComponents.storeWrapper is true by default now) I'll be really gratefull. @yosoyfran I didn't get if you use the 0.15.3-rc version. @v8jupiter can you confirm that this happens after the load (I'm not able to reproduce it with an empty template)? In that case, can you post the components JSON you get from the load?. > a lot of bugs\n@v8jupiter  Be more specific, please.... @v8jupiter check the new 0.15.3-rc.2 \nI wasn't able to reproduce your issue because of another bug on load (now fixed). Can't reproduce it even after the fix so please try re-create it in a live demo, it might be only on your side. \nps: To simulate the load on components you can do something like this editor.DomComponents.load({ components: '{\"tagName\":\"div\",\"type\":\"wrapper\"...' })\n. Hi guys, I just published the new release https://github.com/artf/grapesjs/releases/tag/v0.14.40\nwhich was in pending for too much. To avoid breaking changes I rolled back the default of storeWrapper to false\n@v8jupiter I close this issue. For your new feedbacks please open a new one. > 1 - How can I check the implementation of the \"Link\" action of the richTextEditor in \"demo newsletter editor\" so I can replicate it? Since there and if the modal is closed without submitting, the link is no created.\nThat modal is from CKEditor\n\n2-Why richTextEditor.exec('createLink', 'new'); or rte.insertHTML(${rte.selection()}) dont lead to creating the link if placed on button click event? so If those 2 commands are executed only on button clicked (ok of the modal), the link is not created.\n\nProbably because you unfocus from the component, indeed your problem link is created even before the modal opens is actually because you're executing the link creation before the link is even confirmed. So, keep the focus and you'll be able to execute it later. You need to catch events which trigger a blur and call stopPropagation. This is how is kept by clicking on the toolbar itself https://github.com/artf/grapesjs/blob/dev/src/rich_text_editor/index.js#L82. Yes James, that was actually an intentional behaviour, if activeElement was different from Body, some editable component, inside the canvas, was selected. Actually I had other issues with this method and now I prefer to rely on em.isEditing, probably I'll replace it in Undo Manager in the next release and will see what to do with this method, for now I accept you PR as it's a good check in any way. Hi Greg, for the grapesjs part I think that all you need is here https://grapesjs.com/docs/modules/Storage.html#setup-remote-storage this approach, which allows you custom parameters and headers covers 99% of cases. So, for the rest you have to deal with the third-party integration and it has nothing to do with grapesjs itself. Great Duarte \ud83d\udc4d  but can you resend the PR on the dev branch pls \ud83d\ude01. Can you provide a reproducible live demo of your case, please?\nps. make sure to work with the latest version of grapesjs. @shlomoko sorry but I close this issue, has nothing to do with grapesjs itself, it's just about your UI layout setting. @blairpanek I don't understand how to reproduce the issue, provide a live demo please. @yomeshgupta please, indicate steps required to reproduce the issue because I don't see any repeating CSS. \ud83d\udc4d . No @shlomoko, canvas is not resizable but I'd be glad to see a PR for that (possibly with the same logic used in panels). Hi @jvillena your implementation seems really good, if you're able to share the code it'd be awesome.\nBTW editor.refresh is the way to go in that case. Thanks @jvillena really appreciate the overview. Can't reproduce it, just provide a live demo (as I suggest in the issue template) with that block. I understand what is your problem but still, you have to post a live demo because I can't reproduce it. It might depends on many stuff, just screenshots are not enough. I'm not even sure you're using the latest version, so update it please...\n\nAnother question is how can I add another things like this? so let's say I want to add under the 'selected' something like tagname, to show the tagname of the selected component; In another words, I want that on each time the user clicks on a block, to see the tagname of it under the classes and the id. Is there a way to implement this?\n\nYou can rely on this:\njs\neditor.on('component:selected', component => {\n    someSelectedEl.innerHTML = component.get('tagName');\n    ...\n}). GrapesJS outputs style in CSS, it doesn't inline it, so in this case, it would require the user to indicate always the ID before applying the style, so it works like that by design. > 1. The checkboxes look like toggles. Just like PropertyRadio.\nOk then PropertyCheckbox is not appropriate, let's call it PropertyToggle\n\n\nThere is an option to hide the name and clear button of each property.\nEach property defines an on and and off value. When toggled on, it sets the property to on value and vice versa. Does that make sense?\n\n\nAll ok, but in case of new model properties you should indicate them inside the model, it's important because I know what I can do with that type without reading the view.\n\n\nIs the HTML/CSS structure OK?\n\n\nThe code is good but please change that ugly this.constructor.__super__ with the less ugly PropertyView.prototype.templateLabel.apply(this, arguments); \ud83d\ude06 \n`\n. I'd make a custom component to handle such a case.\n```js\ndomc.addType('data-list', {\n    model: ...\n        defaults: () => ({\n            ...\n            list: []\n        }),\nview: ...\n    render() {\n        ... \n        const list = this.model.get('list');\n        const content = this.el.innerHTML;\n        // interpolate / use some template engine\n    }\n\n});\nblockManager.add('products', {\n  label: 'products',\n  content: <ul gjs-data-type=\"data-list\" gjs-data-list=\"[{...}, {...}]\">\n    {% for product in products %}\n      <li>{{ product.name }}</li>\n    {% endfor %}\n  </ul>,\n});\n. I don't know, try to load that library after GrapesJS or maybe check this http://backbonejs.org/#Utility-Backbone-noConflict it might be an issue as grapesjs, once compiled, contains its own version of Backbone. You can update the `default` component https://grapesjs.com/docs/modules/Components.html#update-component-type. @jereddanielson correct, this is how you should do to update also already defined component types. Thanks for pointing this out. \ud83d\udc4d . I don't know exactly how the path is generated for you but you can easily inspect the grapesjs' `iframe` and check inside which path is used. It's just a styled Panel so you can add/remove buttonsjs\neditor.Panels.addButton('views', {id: \"another-button\", className: \"fa fa-paint-brush\", command: \"open-sm\",})\n. ???... your code is all broken (check the syntax)\nProbably you want something like thisjs\npnm.getButton('views', 'open-sm').set({\n    label: '...'\n});\n. Ok, it doesn't change because the editor is already rendered. For now, put those changes under a plugin (I'd recommend anyway to make use of plugins when possible), then I'll fix to make it work also after the render. Yeah put those changes inside your pluginjs\ngrapesjs.init({\n    ...\n    plugins: [\n        // start your plugin\n        editor => {\n            ...\n            pnm.getButton('views', 'open-sm').set({\n                label: '...'\n            });\n        }\n    ]\n})\n. Hi @bright-ic what you're asking is what we call the `Designer mode`, it's on our [Roadmap](https://github.com/artf/grapesjs/issues/74) but unfortunately not yet implemented :/. You can update the video component by adding a new text trait which adds this functionality or you can use https://github.com/artf/grapesjs-custom-code. https://github.com/artf/grapesjs/issues/1379#issuecomment-417939769. Styles of those blocks are defined [here](https://github.com/artf/grapesjs/blob/gh-pages/demo-newsletter-editor.html), you can copy them or define your own. I thinks he's just looking for [addAttributes](https://grapesjs.com/docs/api/component.html#addattributes). You can init the editor with custom style/scripts if you needjs\nvar editor = grapesjs.init({\n        canvas: {\n            styles: [\n                'https://fonts.googleapis.com/css...',\n                // ...\n            ],\n            scripts: [\n                'https://...some-script.js',\n                // ...\n            ],\n        },\n    });\nor you can add them dynamicly like thisjs\neditor.Canvas.getDocument().head.appendChild(someEl);\n``. Ok, if you select an element like this:Hello`\nYou have these options:\n1. Use editor.getSelected().setStyle({ color: 'red' }) to change only the selected component style, so in result you will get:\n```css\ninul {\ncolor: red;\n\n}\n2. Change the selected CSS rule style (if one exists) by using `editor.getSelectedToStyle().setStyle({ color: 'red' })`, in that case the result iscss\n.class1 {\n    color: red;\n}\n``. @froderf when you do.setStyle(content );contentshould be an object like{ color: 'red' }and not a string with also the selector. @vtsofteditor.getSelected()returns the [Component](https://grapesjs.com/docs/api/component.html) object so check its API to see the list of all available methods. To update the content you can just do this editor.getSelected().components(content)`. Check here all the methods available for components: https://grapesjs.com/docs/api/component.html\nBtw you would something like this\n```js\nelement.on('component:add', component => {\n    component.find('.col1, .col2').forEach(comp => {\n        comp.addAttributes({ ... });\n    });\n// YOU DON'T NEED TO RE-RENDER\n// editor.render();\n\n});\n```. > I created a example/demo where it's visible that the configuration is the same in both scenarios\nActually, you didn't indicate the defaults, where in case of line-height takes normal by default and so resets its unit on initialization. onChange is triggered when you keyup from the input, onValueChange instead when the value of the model is changed. The example is just showing the existence of that method :). Hi @pnellesen this is actually a really good question, definitely, we should allow doing so but unfortunately, right now it's not so straightforward. We should refactor few modules to make the UI more reusable.\nBTW try to extend editor.TraitManager.getType('color').prototype.getInputEl inside getInputEl method and see if it might help you. Great @pnellesen, I'm glad it worked out for you. Thanks @nojacko found the issue, will be fixed in the next release. Without any reproducible demo seems more like an issue on your side (db/server). I'll reopen this in case you're able to show the issue. Thanks @xamdam777 for the report. Actually, as you already indicated, this happens when you import the style (and browser's CSS parsers are pretty messy), and unfortunately, in few cases, conflicts happen. (eg. Chrome generates a style that even itself doesn't understand)\n\nthe strange think happens here when you add a new layer\n\nas you see background-repeat and background-position contain more than 3 expected values (they have 5 for some reason).\nBTW if you would like to fix it you can probably start from the function which adds a new layer https://github.com/artf/grapesjs/blob/dev/src/style_manager/view/PropertyStackView.js#L69. Hi @huzineczerik if you check the Getting Started guide you will see that all the texts are defined by the configuration object. If your goal is to extend an existing preset in that case you have to access each element of the module via its API.\nLet's say for example you'd like to change the label of some block, you would do this:\njs\neditor.BlockManager.get('ID-OF-THE-BLOCK').set({ label: 'Some label' })\nthe same for some style property\njs\neditor.StyleManager.getProperty('Dimension', 'height').set({ name: 'Some name' })\n. Same as here https://github.com/artf/grapesjs/issues/1379#issuecomment-417939769. I think for your case you would need to extend the input components and open the modal (eg. on double-click) where you can help the user setting its traits. @FlashPapa your grapesjs version is outdated and this is the core repository, which has nothing to do with mjml plugin. https://grapesjs.com/docs/modules/Components.html. Please check here https://grapesjs.com/docs/api/panels.html#panels\npanelManager.getButton('options', 'fullscreen').set({ attributes: { title: 'Something' } })\nThe devices button are always Button from Panels. npm run build minifies also CSS via \"build-dev\": \"webpack --env=dev && npm run build:css\",. If you don't show the error how can I help you???. @Abhisheknanda1344463 @Siddharth-ss42279 guys... it's not difficult... look here https://github.com/artf/grapesjs/blob/dev/package.json#L105 \nthere is an option... --output-style compressed come on.... I don't know about angular 6 but I'm quite sure it won't be too much different from this https://github.com/artf/grapesjs/issues/220#issuecomment-322574774. What do you store in your database? The HTML and CSS?. @Siddharth-ss42279 If you need to EDIT the template created from GrapesJS, you SHOULD NOT USE ITS HTML.... you should import its JSON... so you're doing it WRONG\nIt's like doing this \njs\nel.addEventListener('click', ...);\nsomeOtheEl.innerHTML = el.innerHTML;\nand then complaining why your el doesn't have click listener anymore... you're just ripping off all the information created by the editor.\nRead here: https://grapesjs.com/docs/modules/Storage.html. In your case, I think it would be better listen to inner components changes (eg. what if I delete all children components?), but currently, there is no such an event, so I'll try to add it for the next release. It should be something like this\njs\neditor.on('component:update:components', component => {\n    // just modify the view element\n    const el = component.getEl();\n    const hasChildren = component.components().length;\n    el.classList[hasChildren ? 'remove' : 'add']('component--is-empty');\n}). Create a live demo, please. The issue is that currently open-assets doesn't handle correctly the default types option (which I think, in this case, it should return all assets, even not images). I'll fix this in the next release, but for now, what I think it should be even more correctly is to ask explicitly the type of assets\njs\neditor.runCommand('open-assets', { types: ['image'] });. @aj0022 I can't help you in this way, start from reading the documentation like everybody else do\nhttps://grapesjs.com/docs/getting-started.html. https://github.com/artf/grapesjs/issues/1412#issuecomment-420089769. You can use onRender\njs\nview: defaultView.extend({\n      // ...\n      onRender() {\n        const chartModelSaved = this.el.getAttribute('chartmodel');\n        if (chartModelSaved) {\n          this.model.set('chartModel', JSON.parse(chartModelSaved));\n          this.model.set('chartType', this.model.get('chartModel').type)\n        } else {\n          this.model.set('chartModel', JSON.parse(ChartDefaultData));\n        }\n      }\n}). @gabrigcl I don't understand which is the problem now... \n\nI can't persist anything inside a custom html attribute of the component, the way I want\n\nBut it's exactly what you've showed in your previous post, try elaborate better what you need and what you're not able to achieve, a live demo would be better.. Very cool, I see you used widthAuto in SelectComponent.js instead of autoWidth but it's ok, I'm gonna fix it :)\nThanks @nojacko \ud83d\udc4d . Thanks Duarte, fix applied and will be available in the next release\n\nI'm not passing in a noticeOnUnload config to grapesjs, so I wouldn't expect grapesjs to mess with it.\n\nJust a note, noticeOnUnload is true by default \ud83d\ude2c. Cool, thanks @dsgh \ud83d\udc4d . Hi G\u00f6ran\n\nbut reappearing when reloading the page\n\nyou're initializing the asset manager with assets: all_files so if you don't change all_files you always get the same set of images\n\nAlso when dragging an image to the canvas, the image is not showing up. Only the \"missing file\" ico and the name of the image.\n\nFor this, I'd like to ask to create another issue and maybe also with the demo. Ah ok probably because your assets are already rendered. Try to apply those changes but inside a plugin. @Cosmograph welcome to the strange world of web design \ud83d\ude02\n\n\n\n. I would suggest creating a new component, add a new property (eg. columns), listen to change:columns and update them accordingly to the requested number (check methods available in the Component).\nFor the modal opening I'd suggest another approach. The Block Manager can trigger active event on dropped blocks:\njs\nblockManager.add('your-block', {\n      activate: true,\n      label: 'Some Block',\n      content: '<div>...</div>',\n    });\nNow you add onActive method in your Component's view\n```js\nview: ... {\n    ...\n    onActive() {\n        const { em, model } = this;\n        const Modal = em.get('Modal');\n    // Definitly you'd need some element which shows your UI \n    // for column selecting, it might be already in the document\n    // or you can create it at runtime\n    const yourPanelElement = '...';\n\n    // Then you would attach an event (click/submit) on some element\n    // which should update the model.\n    // I use jquery-like API just to make more readible\n    yourPanelElement.find('.some-button').on('click', () => {\n        // Find the data you need\n        const columns = ...;\n        model.set({ columns });\n        Modal.close();\n    })\n\n    Modal.open({\n        title: 'Select the number of columns',\n        content: yourPanelElement,\n    });\n}\n\n},\n``\nIn this way the logic for the Modal is insde the component itself and you can re-use it later (eg. by double-cliking on the component or selecting some command from the component's toolbar). Yeap, the fix is ready for the next release. Thanks. Probably during next week. You're right, I think I should useparseFloathere, will be fixed in the next release. Each component has astatusproperty, so in your breadcrumb view you can listen tochange:statuson each component model. Look at how it's implemented in [ComponentView](https://github.com/artf/grapesjs/blob/dev/src/dom_components/view/ComponentView.js#L102) and just re-used in Layers here [ItemView](https://github.com/artf/grapesjs/blob/dev/src/navigator/view/ItemView.js#L254). So you can basically do the same (re-use that method from thedefaultcomponent type) you might just need to handle the CSS. @mararn1618 can you create a reproducible live demo of this issue, please?. Thanks @mararn1618 for providing such a good demo.\nBTW, to be honest, the fact that the view is rendered differently it's not a big deal for me, the canvas structure/behavior could be extremely different from the final result, the important for both is to be coherent and the case illustrated in the demo is ok.\nThe thing that I think might be actually a problem is that you might want to see in the final HTMLshow-name=\"true\"and not justshow-name(even if in HTML5 that means true). Unfortunately, current checkbox implementation generates only boolean values, we can think about addingvalueTrueandvalueFalse` option for checkbox traits. What do you think?\nps. the initial show-name=\"true\" works because of this\njs\n        ret.push({\n            type: 'checkbox',\n            label: 'Show Name',\n            name: 'show-name',\n            value: 'true' // <-- you're passing the string not the boolean\n        });. There is no built-in functionality for such a thing but keep in mind that once you render the style manager, all the elements, even when not visible, are still reachable via DOM, so you can add your validation logic post render. Extend the text component type and implement your logic in isComponent. If the element meets your conditions (you would probably check for inner elements) just return the object in this way\njs\nisComponent(el) {\n    // ...\n    if (isWhatYouNeed) {\n        return {\n            type: 'text',       \n            content: el.innerHTML,\n            components: [], \n            // By putting components you prevent the parser \n            // from going deeper traversing of your DOM elements\n        }\n    }\n},. Actually, you can also rely on a few Component's properties made exactly for this purpose:\n stylable - True if it's possible to style the component. You can also indicate an array of CSS properties which is possible to style, eg. ['color', 'width'], all other properties will be hidden from the style manager. Default: true\n unstylable - Indicate an array of style properties which should be hidden from the style manager. Default: []\n* stylable-require - Indicate an array of style properties to show up in Style Manager which have been marked as toRequire. Default: []\nAbout the stylable-require, it works when you configure your Style Manager with some property containing toRequire options, so it will be hidden until some component will not require it. Eg.\njs\n{\n      name: 'Dimension',\n      open: false,\n      // use buildProps to create built-in properties\n      buildProps: [ 'width', 'flex-width', 'height', 'max-width', 'min-height'],\n      // flex-width doesn't actually exist, so extend it in properties via `id`\n      properties: [{\n        id: 'flex-width',\n        type: 'integer',\n        name: 'Width to req',\n        units: ['px', '%'],\n        property: 'flex-basis',\n        // This will hide the property and will be shown only if some \n        // selected component would have something like: \n        // 'stylable-require': ['flex-basis']\n        toRequire: 1,\n      }]\n    }\n. @peakrams the warning is actually there but the Github's Markdown doesn't let you apply custom styles to make it more visible \u00af\\_(\u30c4)_/\u00af\n\n. There is actually might be a bug, can you try to return gjs-components as a string (so try to json encode your array). Thanks @iainheng, for now, keep it like this until the next release (hope to push it the next week). Hi Tom, thanks for your great PR, I'm pretty sure such config might also be useful for someone else \ud83d\udc4d . @mrajeshkrossark contentTypeHTML?!? I don't think guessing options will help you here. \n\nI tried with below endpoints that also shows error\nstorageManager: {\ntype: 'remote',\nstoreHtml: true,\nstoreCss: true,\ncontentTypeHTML: true,\nurlStore: \"http://www.lightblue.byethost4.com/index.html\",\nurlLoad: \"http://www.lightblue.byethost4.com/index.html\",\nparams: {},\n}\n\nmmm nope, it doesn't work like this, those should be enpoints, usually a server-side script result, not simple HTML files.. @mrajeshkrossark the problem is still your endpoint, it's an HTML document, you have to return an application/json like this:\njs\n{\n    \"gjs-components\": ...,\n    \"gjs-style\": ...\n}\nRead this please: https://grapesjs.com/docs/modules/Storage.html#store-and-load-templates. @JulyanoF you should never do this editor.DomComponents.render() if you feel like you need that function, probably you're doing something wrong... \nthen in your custom component, you don't set isComponent method, so please review this guide: https://grapesjs.com/docs/modules/Components.html\nfor the rest, provide a live demo with the issue. I'm still not sure you're doing it right. If you re-render the component means that you print to the canvas data from the model, so you have to update the model, the view should update accordingly. > I'm trying getting html of selected element (editor.getSelected().toHTML()), manipulating it and changing original content\nThis is wrong...\nYou should use Component's API, don't touch the view or even worse, its HTML. If you don't understand this concept (you should EDIT the MODEL of the component, not its VIEW) you will face a lot of issues\n. what do you mean with fire the component?. content is for static stuff, if you need to select inner nodes then you should use editor.getSelected().components('myNewContent'). The only way I can help you here is to tell you to check this command https://github.com/artf/grapesjs/blob/dev/src/commands/view/SelectComponent.js (id of the command: select-comp) which is responsible for showing the toolbar. So you can try to use Commands API to extend it. At the moment the position is hard-coded but we can extend it as we do with the RTE toolbar via events . Closed by https://github.com/artf/grapesjs/pull/1730. Should be fixed with the latest https://github.com/artf/grapesjs/releases/tag/v0.14.33 and https://github.com/artf/grapesjs-plugin-forms/releases/tag/v1.0.1 (changed the name of the plugin gjs-plugin-forms -> grapesjs-plugin-forms). > The main issue that I can foresee is that the source code should be importable so as it is generated by the editor and I'm not sure if the editor can distinguish the separator element from any td component of a table component used for tabular data and if it can sniff all the styles to repopulate the traits and the properties in the editor.\nYeah this is a good question, basically, the editor has a stack of component types and every time you add a new one it's placed on top of the stack\n[\nyouLastAddedComponent,\n...\ntable,\nimage,\ntext,\ndefault,\n]\nLet's say you need to add a table component inside the selected one (Component's API)\njs\nconst selected = editor.getSelected(); \n// selected is the Component's model\nselected.append(`<table>...</table>`);\nNow when you pass the HTML, the string is parsed and each Node is translated in a component object (at the moment, just a JS object) and once appended to selected's inner components (selected.components().add({ ...component object...  })) it becomes the Component. But to distinguish exactly which type of model is the Node, you iterate over the stack, execute on each type isComponent static method and check if it's valid (you generally return an object like { type: 'my-type', ... })\nSo isComponent method here is the key, there you can implement the correct logic to make the editor understand if it's a normal table or the separator one (the method takes the Node as the argument so you just use normal DOM's API for the logic). \nYou can also skip the recognition part by setting the type explicitly, in this way:\nhtml\n<table data-gjs-type=\"separator\">...</table>\nBe sure to check also the guide on how to correctly store and load templates, because if you use the same HTML, stored from the editor, for the editing, it's WRONG, you have to use the JSON data (which already contains all the info about your types, so you just skip the parsing and the recognition).. > the fact that it has returned a type for this node prevents the editor from testing the inner nodes of this node for a component type?\nNo, inner nodes will be still traversed, but you can actually prevent that with this as a return to your isComponent\njs\nisComponent(el) {\n    ... \n        return {\n            type: 'separator',\n            // If the returned object contains `components`, \n            // inner nodes will be skipped\n            components: [],\n        }\n}\nbut, with this current setting you're telling that you have no components, so you'd actually get this rendered in you canvas:\njs\n<table ...></table>\nempty table, so what you can do?!? With this:\njs\ncomponents: [el.innerHTML],\nit's the same like not putting components, because the string will be parsed and processed again. What you can actually do, what I think might be your case:\njs\nreturn {\n            type: 'separator',\n            content: el.innerHTML,\n            components: [],\n        }\ncontent is for static stuff, the editor won't create Components and you won't even be able to select them (not being a Component you don't have the model). > Yeah, the content property could really solve my problem but I guess I have to manually keep it's value in sync (with string manipulation) with the changes made by the users to the properties and the traits of the separator component, and, since it is part of the model of a separator component, any change to it will trigger a view update, right?\nWell as you said I would like that the click on any component of this separator block in reality selects the table I supposed that the separator was something static, without the need to change inner stuff, it depends what your traits are doing, eg. if you just change attributes of the component itself it's still in sync with its view\n\nOtherwise, if I let the inner nodes to be traversed but check the ancestors and/or the descendants to establish if e.g. the they are part of my separator component and make them not droppable, not draggable and not selectable (maybe defining separated components like separator-tr, separator-td, etc.)? Could this be a better solution?\n\nYeah sure. > Now, in his Style Panel he edits the properties Width, Height, Margin e Background and he sees the canvas updated accordingly. The tricky part is that at the source code level not all the properties need to affect the table node of the Separator block, since the height and background properties should update the named properties in the inner td node. In this case, I think I have to listen for any change at the properties of the separator component and trigger my own login to manage the model (or the style attribute if I'm using the content approach) of all the nodes of the component.\nCorrect, if you need to select inner models you can use find and css query selectors tableModel.find('tr td')[0].setStyle({ height: '100px' }). Yeah, I think it's the best way if you want to manage the component as a single block of elements.. Great \ud83d\udc4d, thanks @tabaliov I like this improvement. https://grapesjs.com/docs/getting-started.html. > I am thinking the solution here could be that when we remove the image from AM it should also remove it from the canvas and LS.\nOk, but this kind of logic it's only up to you, definitely not something we should add inside the core\n\nMind you, I do have a function running that I can tap into the function of removing images from the AM with the code below, so perhaps I should add something to it?\n\nCorrect, once the ajax call is complete you remove the component\njs\nam.addType('image', {\n    view: {\n        onRemove(e) {\n            const src = this.model.get('src');\n            const wrapper = this.em.get('DomComponents').getWrapper();\n            ...\n            deleteOnServer(...).then(res => {\n                    if(res.isDeleted) {\n                        wrapper.find(`img[src=\"${src}\"]`).forEach(component => {\n                            component.collection.remove(component);\n                            // just realised we don't have component.remove method...\n                            // I'll add it in the next release\n                        });\n                    }\n            }). weird, definitely there is something wrong on your side. If you run this on the demo, in console, editor.DomComponents.getWrapper().find('img') you get what you'd expect, so try to do the same. Ok... @kickbk this is why I ask to specify all the info when you create new issues, so please, next time, do it\nbtw those are different components, try this:\nwrapper.find('[data-gjs-type=mj-image][src=\"....\"]')\n. not having changeProp: 1, it will be a simple attribute, so you have listen to: change:attributes:data-sensor. Because of your custom uploadFile (why not using just the original???), you're not calling the callback\nhttps://github.com/artf/grapesjs/blob/dev/src/asset_manager/view/FileUploader.js#L105. All custom scripts loaded via canvas.scripts are loaded BEFORE components, so if you try to mount on something obviously it doesn't work. Probably you need also make use of Component related scripts. npm run build-dev. https://grapesjs.com/docs/getting-started.html. If you add elements via View you can't select them, only Models can be selectable\nRead this page https://grapesjs.com/docs/modules/Components.html you also create new types without isComponent\n. Ok, now I got it. The getChildrenContainer should work as you expect, I'll just try to remove those pointer-events stuff and make the hover work more like the select.\nBTW you don't need jquery, grapesjs under the hood uses cash (which has jquery-like API) so you can do:\nthis.$el.html('...');\nThere is also a method to get the children container\nthis.getChildrenContainer().style..... Device buttons are inserted by grapesjs-preset-newsletter, you have to move them on load via JS. https://grapesjs.com/docs/modules/Components-js.html. Thanks \ud83d\udc4d. Hi Daniel, to be honest, I never looked at the size of the repo so thanks for the report.\nI can run git gc --aggressive --prune=now but it's not that effective (-15% in size). Unfortunately, skipping dist files is not an option because this is what you actually use when you call \nimport grapesjs from 'grapesjs'\nI close this because I don't think there is any valid option to solve the issue (if not to actually removing stuff from the git history...), but any suggestion is welcome.. \ud83d\udc4d . Ok but -- -w is intended for the watch on SCSS files, with your change, I think it will not work. (I guess you're using Windows)\nProbably we should do something like this to make it run cross-platform:\njs\n \"start\": \"npm run build:css:dev & webpack-dev-server --open --progress --colors\",\n \"build:css:dev\": \"node-sass src/styles/scss/main.scss dist/css/grapes.min.css --output-style compressed -w\",\nPlease @Gyanxie try it and let me know if it works. > I have just try it with your change, but not works\nWhat happens there? Nothing? It should work, try to understand why watch doesn't work with your node-sass (eg. maybe you just have to place -w before or using --watch instead). Ok, I forgot that & works differently in Windows. I'll add some lib to manage that in the next release. @Stejsi inside opts you have onSelect callback which should update stuff in Style Manager. Unfortunately, it only accepts asset (object) as the argument (my bad, I'll make it also understand strings) so, for now you have to do this\njs\nconst fakeAsset = { get: () => path };\nopts.onSelect(fakeAsset);. Please a create a live demo of the issue. You can pass something like this attributes: {style: 'display: none'}. You should output this for your upload endpoint: https://grapesjs.com/docs/modules/Assets.html#response\neg.\njs\n{\n    data: [{src: '.../image.png'}]\n}. @aerionTech right, but I think I'll update the upload function to make it understand also string items. @Abhisheknanda1344463 if you see \"yellow area\" probably because you're using showOffsets: true in your configurations (default is false). The \"Designer mode\" is not yet available but planned in the Roadmap (#74). There are no built-in methods to add custom undo manager, but you can definitely improve the integration with the default one by opening some PR. Read this: https://grapesjs.com/docs/modules/Storage.html#store-and-load-templates. I can't reproduce it, provide a live demo please. Start from checking out available events https://grapesjs.com/docs/api/editor.html#available-events. @BrainMaxxx would be glad to have a help on this :). > I add the code with block manager, but on drop into canvas asset manager doesn't open\nThe editor is not able to do that, your HTML code, for example, can contain 10 images, for which should I open the Asset Manager?!?\nIn your case you have two options:\n1. Create a custom component with all the logic to put in activation (view.onActive method), so your block would be:\njs\nblockManager.add(\"image\", {\n        // ...\n        activate: 1,\n        content: `<div data-gj-type=\"you-custom-component\">...</div>`\n    });\n2. Detect the component via events\n``js\nblockManager.add(\"image\", {\n        // ...\n        content:...`\n});\neditor.on('block:drag:stop', component => {\n    if (component && component.getAttribute()['data-custom-attr']) {\n        cons imgComponent = component.find('img')[0];\n        imgComponent && imgComponent.trigger('active');\n    }\n});\n. @cjpollard \ud83d\udc4f\ud83d\udc4f\ud83d\udc4f. Should not cause any issue as being the first element inserted but for the sake of completeness we gonna move it inside the head element. [cdnjs doesn't store fontawesome](https://cdnjs.com/libraries/grapesjs) in grapesjs (but grapesjs' CSS tries to load them). The solution proposed by @detectedstealth it's for the **canvas CSS** so it has nothing to do with this **editor CSS** issue\nSo try to include fontawesome manually on your HTML page or just use https://unpkg.com/grapesjs/dist/css/grapes.min.css. Hi @shlomoko to make the filter work properly via `stack` type you have to add a custom style manager type, because, as you already noticed, you have to deal with dynamic stuff (eg. `functionName`). Unfortunately, we didn't document that part yet and the only example we have is [grapesjs-style-gradient](https://github.com/artf/grapesjs-style-gradient). Extending the stack property might be even a bit harder (probably will require also some enhancement on the current API), so I'll try to provide an example of this case.. Hi @shlomoko I've created a plugin with the filter type input https://github.com/artf/grapesjs-style-filter\nYou can use it with the latest release https://github.com/artf/grapesjs/releases/tag/v0.14.40. Probably related to some style of the preset, please open the issue in the relative repository. You can't use SSR on GrapesJS. Are just simple blocks, nothing different, I've only added a select which switches the set of blocks to render. Use the latest version, everything works correctly. \ud83d\udc4d . Thanks @mararn1618 for all the details, would you mind to move your last post in a new dedicated issue as it's not related to the main topic of this one (and eventually you can close this). Yeah you should use `data-gjs-stylable=\"false\"`. You don't need that custom command, use the built-in remote storage, just storing HTML is not enough https://grapesjs.com/docs/modules/Storage.html. Use eventsjs\neditor.on('storage:start:store', data => {\n    const compH1 = editor.DomComponents.getWrapper().find('#campaign_title')[0];\n    data.title = compH1 && compH1.getEl().innerText;\n})\n. Open the issue in the correct repository and indicate steps to reproduce it, `when trying to change value of slider` what does it mean?!?. Just pass the set of blocks to the `BlockManager.render` method\nhttps://grapesjs.com/docs/api/block_manager.html#render. @dancodes can you provide a live demo of the issue, please?. I'd appreciate a PR :). Sure https://grapesjs.com/docs/modules/Assets.html#uploading-assets. Sure, but be sure to understand correctly the context of `script` and how it works\nhttps://grapesjs.com/docs/modules/Components-js.html#components-js\nYou can't use `$` if you didn't include it first. Use the latest version please. @taufeek6 you've created a component **A** (`<input>`) with a script **B** (`.attr(\"value\", \"Enter you question here...\")`) which should produce the **C** (`<input ... value=\"Enter you question here...\">`). The editor exports **A** and **B** so if you put them together inside a blank page you will get the **C** \nSo the **C** is the result for the end-user and not for the export step. Did you get now the point of using components with scripts?. This is just how [execCommand](https://developer.mozilla.org/it/docs/Web/API/Document/execCommand) works and the built-in RTE is based on it. If you need something more sophisticated you can try [grapesjs-plugin-ckeditor](https://github.com/artf/grapesjs-plugin-ckeditor) or implement any other 3rd-party editor by following this guide: https://grapesjs.com/docs/guides/Replace-Rich-Text-Editor.html. Thanks @bakgat. Not by default, but you should be able to do so by relying on [Events](https://grapesjs.com/docs/api/editor.html#available-events) . You should add the stylejs\ncontent: <div class=\"row\">..\n    </div>\n    <style>\n        .row {\n        ...\n    </style>,\n``. @YashPrince PRs are welcome. @himanshubudhlakotieditor.Panels.getPanels().forEach(item => console.log(item.get('id')))`\n\nin output i am getting object i am not getting that where is panels name which are available.\n\nYou can open that object and explore it all by yourself, try to be a bit more proactive instead of being pushed step by step\n. On undo/redo events https://grapesjs.com/docs/api/editor.html#general\nyou can use Undo Manager APIs https://grapesjs.com/docs/api/undo_manager.html. Thanks Yomesh, I'm investigating on this. Do you mean the editor object from GrapesJS.editors? The one you remove manually with delete GrapesJS.editors[this.id];?. Ok then, we have already an issue related to the destroy method #1501 If you need to add something do it there. Hi @FrciSmrci I can't say it's one of my priorities but you can actually evaluate opening a bounty on https://www.bountysource.com/teams/grapesjs and see if someone else can check it out. \nBTW I'd prefer an integration with the original CKEditor 5 and not some fork. Honestly, I didn't get exactly which are the conflicts between the new and the old version, but I think the purpose of this issue is to make the Text Component work properly with the new CKEditor. If we're not able to do so with the current component I think it won't work with a new one.. You can put inside blocks any HTML/SVG/CSS you want, how you achieve the result (Rectangle , Triangle , Square) it's up to you. Thanks for the PR @jereddanielson but it's actually correct.\nBy default, traits are appending to attributes so if you need to listen their changes change:attributes:* is the correct event, but in case you use changeProp: 1, in you trait definition, change:* is the one to use. @krunal039 follow the issue template please. Check this PR https://github.com/artf/grapesjs/pull/1430\nTo update the config of the upload url:\neditor.AssetManager.getConfig().upload = 'asdasd'. https://github.com/artf/grapesjs/issues/111#issuecomment-310059057. Duplicate of #1517. In the editor you just specify the action of the form, the rest has nothing to do with it (you have to deal with some server endpoint). Good point, the default Fullscreen command enables the fullscreen on the container (#gjs) but with external panels this obviosly doesn't work, and this is why you see only the canvas.\nI'd really appreciate a PR for a new option which would allow me to do something like this:\njs\n// from\ncommand: 'fullscreen',\n// to\ncommand: editor => editor.runCommand('fullscreen', { target: '.ogaeditor' }),\n// The target might be a selector string or any HTMLElement\n. Duplicate of #1512\n@Deepak813 more issues you open, later you get the response... so please avoid generating useless noise. You should put the HTML not inside content(in the block definition) but components. > traits are not visible when clicked on component.\nBecause you're clicking another component (the inner one, which has its own traits), if you don't need that component to be selectable you can use selectable property <div data-gjs-selectable=\"false\">.... @alfaalex81 I can't reproduce it, create a live demo please. For your first issue, just set forceClass: false,, about the bug please open another issue. At the bottom of this https://grapesjs.com/docs/modules/Blocks.html\nyou find an example of a Row block which does exactly what you need by using droppable/draggable properties of Component. For now, use this editor.trigger('component:toggled') maybe one day I'll make it update automatically. Ok thanks for the report. I'll fix that in the next release. > Any way I can add selectable: true to the parent and propagate a false value?\nI'd say that the only way is to create a wrapper in the middle:\nhtml\n<parent> <-- selectable\n    <div data-gjs-selectable=\"false\" propagate..> <-- not selectable\n        <child>\n        ...\n\nAnd, in a similar vein, is it possible to override propagation down the line?\n\nNo, you can't stop the propagation only via props\nIf you need, you all the stuff, about the propagation, happens here: https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/Component.js#L125-L135\n. Hi @hpruvot I'd like to say, at first, if you clone a component with a class and you change it, you see changes on both, this is because how classes work.\nIf you want to avoid the editor creating classes for you, use this option:\njs\ngrapesjs.init({\n    ...\n    forceClass: false,\n})\n. @Geelik you can set the tagName in Component definition. If you want to define the action before dropping the form (eg. defined in the block) you just need to specify it as an attribute <form action=\"your/end/point\" method=\"POST\">. You can use command events, eg:\njs\neditor.on('run:preview', () => {\n    // do stuff...\n});\neditor.on('stop:preview', () => {\n    // undo stuff...\n});. The only way to move the pointer is to use undo/redo methods, so if you need to remove X steps you have to execute undo X times. Thanks Jacob, I really appreciate the help. I'm gonna merge it because I already like what I see so far. If you use changeProp you get the value from the component value, eg:\njs\n...\ndefaults: {\n    ...\n    'model-loop-bool': true, // <- default value\n    traits: [{ \n        type: 'checkbox', \n        label: 'Loop', \n        name: 'model-loop-bool', \n        changeProp: 1, \n    }]\n}\nwithout changeProp, it would be:\njs\ndefaults: {\n    ...\n    attributes: {\n        'model-loop-bool': true,\n    },\n    traits: [{ \n        type: 'checkbox',\n        label: 'Loop', \n        name: 'model-loop-bool', \n    }]\n}. Thanks Miguel \ud83d\udc4d . By what I see, from how you create blocks, it has nothing to do with the rendering of components, eg. parameters=\"null\" is null because arrBlocks[j].value.parameters is null, that's all. @jotakar it's just an import of a pre-made template https://github.com/artf/grapesjs/blob/gh-pages/demo.html#L147. It's not \"the same array\", you just get all the assets visible by default, so if do editor.AssetManager.render(['img1.jpg', 'img2.jpg']) you'll see the difference. You've only forget to remove debugger; but for the rest is ok, thanks @mcsekar12 . Thanks Jacob \u2764\ufe0f. @isvaljek use this.$el instead of this.el. You can use draggable and droppable properties of the Component as CSS selectors to control what can be dropped and where, so you have the same limits of CSS selectors. If you drop a not valid HTML structure it will be rearranged by the browser, you can't prevent it. If you're looking for how to extend Style Manager check this https://grapesjs.com/docs/getting-started.html#style-manager. Hi @froderf, for now, the only way to get that rule is to use CssComposer.get method. In your case, .classx .c1234 is stored inside selectorsAdd as not being a single level class selector (eg. .class1.class2)\njs\neditor.CssComposer.get([], null, null, { selectorsAdd: '.classx .c1234' }). https://github.com/artf/grapesjs/issues/1558. That happens due to the browser's CSS parser, which is used by default in GrapesJS. You can prevent that by using grapesjs-parser-postcss. You should create a new custom type of input by using StyleManager.addType Unfortunately that part still missing the documentation, for now, you should expect the code of some available plugins, like: \n grapesjs-style-gradient\n grapesjs-style-filter. Thanks for the report @tranthanhhoa I'll fix it in the next release. @Chilli-B the latest release is https://github.com/artf/grapesjs/releases/tag/v0.14.40. @Chilli-B you're right but releases are on NPM, the dev branch can go further . Somehow you're not able to load fonts, check in your dev-tools, probably you will see the error. You should add the proper style to see something, try with something like this\n``js\nblockManager.add('the-row-block', {\n  label: '2 Columns',\n  content:\n\n\n\n\n\n        .row {\n          display: flex;\n          justify-content: flex-start;\n          align-items: stretch;\n          flex-wrap: nowrap;\n          padding: 10px;\n          min-height: 75px;\n        }\n        .row-cell {\n          flex-grow: 1;\n          flex-basis: 100%;\n          padding: 5px;\n        }\n    \n`,\n})\n. You can make that class private to avoid selecting them in Style Manager, in that way you will style the component and not the rulejs\nconst privateCls = ['.mdc_block_header'];\neditor.on('selector:add', (selector) => {\n    if (privateCls.indexOf(selector.getFullName()) >= 0) {\n      selector.set({private: 1});\n    }\n});\n``. Use [avoidInlineStyleoption](https://github.com/artf/grapesjs/blob/dev/src/editor/config/config.js#L122-L126). Yeah, that happens because of [this check](https://github.com/artf/grapesjs/blob/dev/src/commands/view/ComponentDelete.js#L5), being in editing mode we need to prevent some actions (eg. clicking canc/backspace triggers the same command). Probably we need to put some kind of force option. Without those checks, for instance, in text editing mode CTRL+C/V instead of just copying/pasting the selected text will copy/paste the component. This is why I suggest a kind offorce` option. @arthuralmeidap actually you're right, all current default keymaps should work like this (be off when something is editing, like text component or input element).\n\nCan you see any problems on this approach?\n\nThe only possible caveats I see in this approach is what to do when someone wants to trigger a keymap even in editing mode. For this case, I'd suggest adding a new options argument in Keymaps.add method, eg:\njs\nadd(id, keys, handler, opts = {}) {\n    ...\n        if (ableToRun || opts.force) {\n            typeof handler == 'object' ? handler.run(editor) : handler(editor);\n            ...\n        }\n    ...\n}. @dkmurakaru pay attention that you're creating not a real input\njs\nvar input = document.createElement('div');\ntherefore you should update also methods like onChange and setInputValue. Probably you're not storing correctly https://grapesjs.com/docs/modules/Storage.html\nBTW you can add a script inside blocks but I highly recommend creating a custom component for that case. 1. Wrong repository\n2. Look at the version: https://github.com/artf/grapesjs-preset-webpage/blob/master/package.json#L53. The style you see on <video> is only applied in canvas, your styles are applied to the wrapper and you should see them correctly applied in the export code. @umairabid use the activate option on your block (eg. https://grapesjs.com/docs/getting-started.html#add-blocks) and then create a component with onActive method (exactly like Image component). No @ThomasLaigneau you have to manage that by yourself, eg.\njs\nfetch(`../myblock.html`)\n.then(res => res.text())\n.then(html => {\n    editor.BlockManager.add...\n}). You might want to use propagate to inject indicated properties from component to its children\njs\nbm.add('your-block', {\n      label: 'lol',\n      // ...\n      content: `<div>\n        <div data-gjs-selectable=\"false\" data-gjs-hoverable=\"false\" data-gjs-propagate='[\"selectable\", \"hoverable\"]'>\n          <div>Text 1</div>\n          <div>Text 2</div>\n          <div>Text 3</div>\n        </div>\n      </div>`,\n    }). Hi Emil, I tried this https://jsfiddle.net/37n5691f/ but can't see the issue. Hi Mathias, currently the only possibility I see now is to extend the image component and its render() method. Probably I'll add some new component event to make such a case easier to manage. Hi @mathiasbc by using the latest https://github.com/artf/grapesjs/releases/tag/v0.14.43\nIt should work with something like this\njs\neditor.on('component:mount', model => {\n  if (model.is('image')) {\n      if (model.get('src') == '{{image_url}}') {\n        model.getEl().src = \"http://via.placeholder.com/350x150\";\n      }\n  }\n});. > everything to do with whitespace\nCorrect, it's just a poor parsing on composed types. \nWe should split the value (eg. 1px solid rgba(255, 0, 0, 0)) by spaces (or even better propertyModel.get('separator'), which exists already) but taking care of functions. If the script is a function and you can't serialize it in a JSON. I think, in your case, you need a new custom component type (you're just adding a block) then you'll export only changed properties (the script will be part of the component definition, so you won't need it in the JSON). @taufeek6 #1576 . Can you provide a live example? I'd expect the toolbar to be hidden due to display none. > Put a breakpoint at the beginning of the enable method and make a double click on the element, you can see the same thing as in the screenshot\nOk, but what is the point if at the end of the execution the element will be hidden?. > but this flicker is noticeable\nah, this is the point then.\n\nThe easiest and fastest fix is to change 100px to 1000px\n\nI agree, would you like to create a PR? :). For the component dropped from the block manager you can use this event block:drag:stop. As arguments for the callback you get, the dropped component model (if dropped successfully) and the model of the block. The export of the demo is not intended to be importable...\nIn your case, #wrapper{ style rule breaks stuff, the RTE it doesn't work due to the optimized export code. > css links editable\nWell not by default but you can create a custom component for such a case (eg. with a custom trait). > Expected behavior would be that the attribute name would remain unchanged.\nThis is how HTML5 works. Then you just shouldn't initialize the editor by HTML, but use Component objects, then check how to store correctly your template data https://grapesjs.com/docs/modules/Storage.html#store-and-load-templates. Yeah, I've noticed that just after the release, the fix should be ready for the next release . Thanks @goremukin . You should be already able to do that by implementing your own uploadFile method. You can create external resizable panels like in this example https://codepen.io/artf/full/MQpZPj/\nor you can use any other kind of javascript library and make the panel resizable (once the editor is loaded). Thanks for the report @kewilson but that line is totally legit for the editor. The library itself shouldn't be \"able to hurt\", most of the vulnerabilities might be added during the integration. Seems like the issue is due to different empty \"textnode\"s you have in your JSON. How do you obtain that structure?. Please update the live demo with cleaned JSON. \nI think the issue happens because the number of DOM elements inside the sqh-global-container is not the same as its component models. Those last elements seems not to be inserted via the proper API\n. Hi @loganvolkers thanks for your feedback. Probably you're right, something is conflicting with one of the web components specs. The module responsible for the d&d is Sorter and in  case of the canvas it starts from startSort method\nCan you show me your integration with Web Components?\n. > I was digging into the source code and I didn't find any use to the visible property for the Panel model.\nYeap, you're right \ud83d\ude2c I'd expect to see a listener in PanelView\nWould you like to create a PR for such a case?. > Toggle the style display property between none and block?\nYeah I think it's enough, but in case it's true just don't set any display (eg. if someone had customized the panel with flex that would break its layout). Thanks Arthur \ud83d\udc4d . The option object is passed to the plugin as it is and there is no reason to clone it. Use insertHTML instead of insertText. insertHTML is the native way to insert HTML strings but probably each browser implements its own set of rules. \nInstead, check this https://stackoverflow.com/questions/25941559/is-there-a-way-to-keep-execcommandinserthtml-from-removing-attributes-in-chr/25943182#25943182. No. If you need to update CSS rules you should rely on CSS Composer module. https://stackoverflow.com/questions/28259389/how-to-put-script-in-a-javascript-string. Hi @gcoda you should use property for the CSS property name (eg. color). > is there another way to edit css custom properties on components?\nWell, not currently, the style manager was made to edit style properties and not CSS custom one, but they have a lot in common. Probably it works for your case, from my general point of view this is probably not enough for a complete use of CSS custom properties. BTW, if you want to submit that as a PR I'll accept it. This has nothing to do with GrapesJS itself, please investigate why in Edge you can find window.frames[0].editor. > Question 1 : I've a situation where if a particular block is already in the canvas, I can't let that block to be added again. What I'm doing is, I'm listing to block:drag:start and compares if the component is already dropped (in gjs-components), I got success till now, but how to prevent the drag event right there?\nI'd suggest to move this logic to components. So create a new component type (eg. my-cmp) and setup few listeners:\njs\neditor.on('component:add', component => {\n    if (component.is('my-cmp')) {\n        editor.BlockManager.get('my-cmp-block') // eg. hide the block\n        // ...\n    }\n});\neditor.on('component:remove', component => {\n    if (component.is('my-cmp')) {\n        editor.BlockManager.get('my-cmp-block') // eg. show the block\n        // ...\n    }\n});\n\nQuestion 2 : When a component is bound to specific tag/component, where can listen when the invalid drop happens?\n\nCurrently you can do it only via sorter:drag:end event\njs\neditor.on('sorter:drag:end', (targetCollection, modelToDrop, errors) => {\n    if (errors.length) {\n        console.log('errors', errors);\n    }\n}). Please create a live demo with steps to reproduce the issue. I've tried your demo but wasn't able to see the Overview panel content as in your video, so I've only played around with your blocks (Widgets and Blocks categories) and everything was as expected.\nBefore move\n\nAfter move\n\n. Ah ok, I didn't notice that. The content inside Component definition is for static texts (like the one used inside Rich Text Editor), indeed for your case, use only components.. You can do it by intercepting their commands\njs\nconst getDialog = () => document.querySelector('.gjs-mdl-dialog');\nconst assetsCls = 'gjs-mdl-dialog--assets';\neditor.on('run:open-assets', () => getDialog().classList.add(assetsCls))\neditor.on('stop:open-assets', () => getDialog().classList.remove(assetsCls)). >  I get the placeholder text Text Here\n??? no, it's not a placeholder text, this is what you wrote inside your table...\n\nI am not able to edit it\n\nIt works here https://jsfiddle.net/7oeh2man/. > Where can I see the full list of classes?\nBy using the API Selector Manager\n\nHow do I know that I have to add container-width to center?\n\nWell, if the demo doesn't tell probably there is no reason to let you know...\n\nWhere is that class defined?\n\nFrom the imported template\n. The problem here is the computed font of the selected component. You need to have that computed font inside your list otherwise you won't see it. As already suggested by @jrking4 you can set your default font-family to the body. @froderf it's up to you how to create/maintain a Design System, you can import your classes and them by changing them you will change the design on any component with that class. You should change the model of the component, not its view\njs\nif (model) {\n    const resourceModel = model.find('.resource')[0];\n    resourceModel.components(data);\n}. You can resourceModel.set({ selectable: false, editable: false }). Thanks @ProfSaputo I'll fix it in the next release. Traits are not created by default if not requested, indeed I'm doing this in the demo https://github.com/artf/grapesjs/blob/gh-pages/demo.html#L1407-L1408. \ud83d\udc4d . The export command in the newsletter plugin doesn't take into account protectedCss, you can submit a PR if you want\n. 1. The content inside the component definition is for static text (eg. the content is used for editing with Rich Text Editor) so you can't select its element once added, instead you should use components: '<tr data-gjs-type=\"row\" ...'\n2. You can always get the selected Component and use its API, so your table-insert-row-above could be:\n```js\neditor.Commands.add('table-insert-row-above', editor => {\n  const selected = editor.getSelected();\nif (selected.is('cell')) {\n      const rowComponent = selected.parent();\n      const rowIndex = rowComponent.collection.indexOf(rowComponent);\n      const cells = rowComponent.components().length;\n      const rowContainer = rowComponent.parent();\n  rowContainer.components().add({\n    type: 'row',\n    components: [ ...Array(cells).keys() ].map(i => ({\n      type: 'cell',\n      content: 'New Cell',\n    }))\n  }, { at: rowIndex });\n\n}\n});\n. 1. You're not using the latest version\n2. Webpage preset doesn't have `gjs-get-inlined-html` command, but you can copy it from the newsletter preset if you need it\n3. It works here https://grapesjs.com/demo-newsletter-editor.html. Read here first https://grapesjs.com/docs/modules/Traits.html. You're storing the template incorrectly https://grapesjs.com/docs/modules/Storage.html#setup-remote-storage. Thanks @prina92 for the report and @alimajed93 for the incoming PR.\nI'm gonna close this issue as is not related to the core itself. Update your grapesjs and next time, please, create a live demo of your issues. @SeongwoonHong you can do whatever you want by adding your custom action to RTE\nhttps://grapesjs.com/docs/api/rich_text_editor.html#add. Settings/Traits are for components. When you select the text there are no component, just a text, so probably you have to create your own panel (or [Modal](https://grapesjs.com/docs/api/modal_dialog.html)) with all the fields. Hi @northkode modules are only used internally by GrapesJS, it's not something you have to deal in your plugin, just init all your stuff inside your plugin function. @weedkiller this is the issue tracker for the grapesjs library. Try to ask samples on [SO](https://stackoverflow.com). Nested @media are not supported. @alialrabi Read this before opening an issue on Github https://guides.github.com/features/mastering-markdown/ Thanks. Yeah it makes much more sense, probably I'm just gonna update the old one as `component:paste`. Correct, as you see I'm doing the same here: https://grapesjs.com/docs/getting-started.html#start-from-the-canvas. For integration questions [SO](https://stackoverflow.com) is more valuable. Thanks for the request, Benjamin. Actually, we have already an open issue about this argument [here](https://github.com/artf/grapesjs/issues/644), so I close this one. The same version of grapesjs with the same CKEditor plugin works fine [here](https://grapesjs.com/demo-newsletter-editor.html), so it seems not related to the latest version. mjml demo is not my priority right now, but if you submit a PR I'd be glad to review it. You can use `rte.exec('unlink')`. You can do it by creating new asset types https://grapesjs.com/docs/modules/Assets.html#customization. @suresh5 open the issue in a proper way, please.. `isComponent` is used, inside the parser, when you add an HTML string and you don't declare explicitly its type (eg. `<div data-gjs-type=\"my-custom-type\">..` tells already the type so `isComponent` is not necessary). If you pass an object `content: { type: \"alea-video\" }` the parsing is skipped. Thanks David \ud83d\udc4d . Hi Ahmed, when you drag a component in the canvas a temporary one is created to check some functionality. If you need to skip something inside the render method you can check if it's temporary in this wayjs\nrender() {\n    ...\n    if (!this.model.opt.temporary) {\n        // do something...\n    }\n    ...\n}\n. 1. Update your grapesjs version\n2. The trait **reads** the value from the component, so place the initial value at the component level, not at the trait one. I mean, when you add the checkbox element, put checked there \n`<input data-gjs-editable=\"false\" .... type=\"checkbox\" ... checked/>`. You can create your custom asset types https://grapesjs.com/docs/modules/Assets.html. Before opening an issue be sure to have the latest version of grapesjs (0.14.37 doesn't even exist as a release...) in case the issue is still there, create a reproducible demo, thanks. Hi Konstantin, by doing this `this.el.innerHTML = template;` you're basically removing components by replacing them with a static HTML. Each component, once inserted inside the canvas has a Model (let's say, the component's JSON structure) bind to its View (render elements), so this `View.el.innerHTML = '<div>...</div>'` it' is like just adding another View but without the Model, the editor doesn't see elements without models. \nYou need to update the model if you want to keep components live, so in your case, probably what you probably need is to move your `view.getHtmlTemplate` content inside the init of the modeljs\ndomComps.addType('f7-list-item-table', {\n        model: dModel.extend({\n            ...\n            // use init instead of initialize, so you can skip \n            // calling the parent method dModel.prototype.initialize....\n            init() {\n                ...\n                // Check if the component is empty\n                if (!this.components().length) {\n                    this.components(<li>\n                    <table border=\"1\"... you content from view.getHtmlTemplate)\n                }\n            }\n. I think this should be enoughjs\neditor.DomComponents.clear(); // Clear components\neditor.CssComposer.clear();  // Clear styles\neditor.UndoManager.clear(); // Clear undo history\neditor.setComponents([{}, {}, ...]) // Add components\neditor.setStyle([{}, {}, ...]) // Add rules\n``. Ahmed... please... read and be compliant to the issue template.. @SeongwoonHong this has nothing to do with the core of grapesjs, open this issue in the newsletter preset and provide a live example of your issue. Thanks @arachnosoft for the report, seems to be a new kind of error throw from the new Chrome 71. I'll fix it in the next release. 1. Change this:rte.insertHTML('${rte.selection()}');torte.insertHTML(linkInputEl.value);2.rte.selection()will be empty because the focus is lost, learn how to store the selection (eg. https://stackoverflow.com/questions/9841082/execcommand-inserthtml-breaks-stored-window-getselection), that part is up to you..editor.setComponents(<section>...</section>)Use the [API Reference](https://grapesjs.com/docs/api/editor.html). Ok thanks guys, I'll publish soon a new release with this hotfix. https://github.com/artf/grapesjs/releases/tag/v0.14.49. Hi @sarindaSenevirathne you have to use this plugin to make it work properly on mobile devices https://github.com/artf/grapesjs-touch. Inside the canvas you have [Components](https://grapesjs.com/docs/api/component.html)... not blocks. A block is just a container which creates components when you drag them inside the canvas.\nRead carefully https://grapesjs.com/docs/modules/Components-js.html and see how you can interpolate component's properties to create dynamic scripts. Yes, you can listen for trait changes and doing whatever you want. https://grapesjs.com/docs/modules/Traits.html. You can open traits default panel via a commandeditor.runCommand('open-tm')and to close it backeditor.stopCommand('open-tm')`. Components inside the text component are refreshed/created only on blur, so the link component doesn't even exist when you add it... You have to add the href when you insert the HTML. If you're not able to implement the link via custom modal I'd recommend then to use this plugin https://github.com/artf/grapesjs-plugin-ckeditor. In your doStuff method you're only getting the name of the trait, so nothing useful. I think if you change that checkbox trait in a simple input, you'll see the script changing correctly in the export code. Those attributes were made to be removed, if you need them, probably you're doing something wrong.... Please follow the issue template. > because GrapesJS is saving the edits as a cookie\nlocalStorage, not cookies...\nRead the documentation please https://grapesjs.com/docs/modules/Storage.html. In your block:drag:stop callback you should make a change to the droppedComponent (is an instance of Component, so use its API), the $('#staticId') doesn't even exist, the canvas is in the other frame of the document.\njs\nconst randomId = '...';\ndroppedComponent.addAttributes({\n    id: randomId,\n    onclick: `jsFunc('#${randomId}')`,\n}). @AkibDeraiya123 you can do whatever you want, check the API please https://grapesjs.com/docs/api/component.html. Hi @B-Esmaili GrapesJS is framework-agnostic so you just need to use its API to define new components. Here some doc where you can get started:\n Create plugins\n Create custom Components. You can manage GrapesJS assets via Asset Manager or if you want you can even replace the built-in one (find more about this here #491). I just copy pasted your code and everything works as expected\nhttps://jsfiddle.net/mxdLpe0k/. @ramachandranvenkat where did you get that link?\nThe correct one is https://grapesjs.com/docs/modules/Components-js.html. I've just made use of them for the demo page, you copy the code from here: https://github.com/artf/grapesjs/blob/gh-pages/demo.html. You can't, they're not in the same context, read carefully this page https://grapesjs.com/docs/modules/Components-js.html\nYou need to copy your global variables inside the script property or you can inject them in the canvas as a dependecy. @arthuralmeidap correct, @Yamakasi you can set editable as false on any text Component. BTW that wiki is outdated, you can find all the documentation here: \n https://grapesjs.com/docs\n Component: https://grapesjs.com/docs/modules/Components.html\n* Blocks: https://grapesjs.com/docs/modules/Blocks.html. > All elements were deleted but there is still an empty div-container in the viewport\nYou don't explain steps to reproduce this issue, but please check in Layers first. I'm pretty much sure you don't delete some kind of wrapper, which has no style so you just can't see it on the canvas\n\nThere are strange charaters within CSS (and also the HTML preview)\n\nI can't reproduce it, also in the demo it's all ok. Try to update your files\n\nThe default viewport width is 100% instead of the mobile one\n\nFor the mobile-first approach check this https://github.com/artf/grapesjs/issues/900#issuecomment-369560034. I can't reproduce it due to missing resources (and as I said, it's probably a problem with your files...)\n```html\n    \n\n<script src=\"/vendor/ckeditor/ckeditor.js\"></script>\n\n<script src=\"/vendor/grapejs/grapes.min.js\"></script>\n<script src=\"/vendor/grapejs/grapesjs-preset-webpage.min.js\"></script>\n<script src=\"/vendor/grapejs/grapesjs-plugin-ckeditor.min.js\"></script>\n<script src=\"/vendor/grapejs/grapesjs-blocks-bootstrap4.min.js\"></script>\n\n``. This is not how [setClassRule](https://grapesjs.com/docs/api/css_composer.html#setclassrule) is supposed to work. The first argument is only for 1 class name. \nCurrently, there is no specific API method for your case, probably the best one, for now, iseditor.CssComposer.getAll().add('.class1 .class2{...}'). @mailtopaul8 I'll try to bring it in the next release. Extend the [videotype](https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/ComponentVideo.js) not thedefaultone and be careful with yourisComponentmethod, you're returningreturn {type: 'input'};`\n. @ahmedeldeeb25 please refer to the source of the video component. There, traits are created differently (look at the initialize method).\nps: work always with an update version of grapesjs, your is outdated. Please create a live demo of this issue. Hi @chiqui3d I'll try to check this out and will let you know. Unfortunately, due to this issue https://github.com/tinymce/tinymce/issues/4629, it's not possible to implement TinyMCE, indeed the wrapper of the grapesjs is inside another iframe and the formatting doesn't work (only undo/redo buttons work).\nHere is my, almost complete, plugin example with tinyMCE:\nhttps://jsfiddle.net/uq9hfL8p\nI have to close this issue as the problem is related to tinyMCE. @momu-2016 data-gjs-droppable=\".class1, .class2, .class3\". For now, init the editor with this option:\njs\ngrapesjs.init({\n    ...\n    canvas: {\n        ...\n        notTextable: ['button', 'a', 'input[type=checkbox]', 'input[type=radio]'],\n    }\n})\nin the next release I'll adjust the default value. To be honest @hemanthmc , by lookings this:\njs\nload() {\n'template.html'\n},\nI'm not sure you even know what you're doing...\nStart from the beginning:\nhttps://grapesjs.com/docs/getting-started.html\n. Hi @B-Esmaili for the filter you can create your UI (panel, input for the search, etc.) and use the block's API to filter them (example https://github.com/artf/grapesjs/issues/499#issuecomment-343482511)\n\nother thing annoying me is lack of auto-scroll when dragging elements up or down on the canvas\n\nThe auto-scroll should work instead (try to get closer to the canvas edge). The escape function is applied in the Selector model. I think it might be a good idea to provide some option as a custom escape strategy.. Thanks for the help @arthuralmeidap great and clean as always \ud83d\udc4d \n\nHow could I improve the docs for this?\n\nI think it's all good as we point to the configuration source file here: https://grapesjs.com/docs/modules/Storage.html. rte.selection() returns the Selection object which you can use to detect the pointed node (from which you can get all the attributes you need). It's all described here https://developer.mozilla.org/en-US/docs/Web/API/Selection\nYou can start by looking at Selection.focusNode...\n. focusNode returns string here this is how the Node works, so to get the element just do rte.selection().focusNode.parentElement. js\neditor.getWrapper() // Get the wrapper Component \n    .find('img') // Find all inner components by a query string\n    .map(comp => comp.getAttributes()['src']) // map found components\nComponent API: https://grapesjs.com/docs/api/component.html. It might be a bit tricky but yeah, you can do it.\nFor sure you have to create a custom Component and inside its init method (model) you would place listeners to traits/styles. Then, inside the callback method, of the listener, you'd use find method to detect child components. > It only happens under specific circumstances, I am not yet sure exactly what those are. Could it be Block related?\nmmm the view is not available immediately on the model but only after the mounting, so I'm thinking if, somehow, you're reaching that part of code before the view is created (eg. maybe auto-selecting the component on canvas drop \ud83e\udd14)\nps. I'd also suggest making that check easier to read:\njs\nconst parentComp = trg.parent();\nconst parentEl = parentComp && parentComp.getEl();\nif (parentEl) {\n    const style = ....\n}. > Weird, I am currently investigating a bug, whereby clicking on a flex item that has been loaded from html the view isn't available.\n@david-polak so I didn't get if you face the issue after the mounting. Ah sorry, I didn't get it was already solved \ud83d\ude2c \nJust fix that conflict and I'm gonna merge it :). Thanks @david-polak great work. Thanks for the report @fulus06 can you provide a reproducible demo on https://jsfiddle.net/, please?. You have to use Custom Components\nexample https://jsfiddle.net/5vcc3en6/. Hi @adamlc this one is related to #1699 . >  I thought the advantage of RTE was that, that if I add a component from RTE the TRAIT options of that component will be shown. Not that I have to exit the TEXT again :(\nYou're right @chiqui3d but when you're editing, the HTML text is \"flat\", so only when you disable the RTE the text is parsed and transformed in Components. Your solution actually works (and is ok) because of this selectedText.set('content', selectedTextInner) and the listener on content property. As already mentioned by @arthuralmeidap you have to extend the image component.\nSo in your case (by using the latest grapesjs version) it could just be:\njs\neditor.DomComponents.addType('image', {\n    model: {\n        defaults: {\n            traits: [ 'name', 'id', 'alt', 'width', 'height']\n        }\n    }\n});. Hi @chiqui3d you can tell the editor when to append blocks at initialization:\njs\ngrapesjs.init({\n    ...\n    blockManager: {\n        appendTo: '#block-container',\n    }\n})\nand then using the BlockManager.render method (check the example) to render filtered blocks. yeah, correct, render method re-renders on the same container. I'll try to find a solution for the next release. You can pass ignoreCategories option to avoid rendering categories. Sure, I'll add them in the next release. > i had tried with this event for change id, but not worked\nYou should use setId method\n\nWhen this asset manager will close then also need to get event that notify like modal is closed and on which image tag i had clicked. (Want to know about this event.)\n\nYou can make use of stop:open-assets event\n. Well, obviously you can't resize and crop without having all the image data at first. So, on asset:add event propose your \"crop and resize\" solution and then update the asset with the new data. js\ncontent: {\n        // use components not content\n        components: `<ion-list class=\"list list-md\">. js\nfirstButton() {\n    const component = this.find('ion-segment-button')[0];\n    // eg. update inner component contents\n    component.components('<div>New content</div>')\n},\nPlease check the Component API. This is not a [QUESTION], please FOLLOW the instructions for a bug report and PROVIDE a live demo of your issue. Yes it works https://github.com/artf/grapesjs-custom-code. Reproduce the issue in a live demo, if you're able to do so, open an issue as a BUG (follow the template). Hi @arthuralmeidap I think the #1434 talks about the same problem.\nHonestly, I've already solved, basically the same issue, with the RTE toolbar, so I guess, if you have time, you could copy/share the same functionality for the Component's toolbar.\nI'll place below a few hints about the current implementation in RTE:\nCurrently, if you activate the RTE, its toolbar will be placed at the top. Once the top canvas edge is reached, the toolbar is placed below the component.\nReproducible on the demo\nImplemented here: https://github.com/artf/grapesjs/blob/8af686cb7fa66863c04b786ed1aa704e5406252e/src/rich_text_editor/index.js#L234-L253\nAs you might see I pass also rteToolbarPosUpdate event to the getTargetToElementDim method, which allows to customize the position extarnally (example usage in the CKEditor plugin: https://github.com/artf/grapesjs-plugin-ckeditor/blob/7c227de0b187da8cb7b1e22b3da34837659977d1/src/index.js#L110-L132)\nThe only problem with this implementetion is when you have to deal with big component (eg. section), not that common in text components. For instance, when you reach the top canvas edge but the bottom of the component it's still below the canvas. So, in that case, it might be good to leave the current positioning: https://github.com/artf/grapesjs/blob/8af686cb7fa66863c04b786ed1aa704e5406252e/src/commands/view/SelectComponent.js#L529-L544. Thanks Arthur, well done \ud83d\udc4d . You can make use of a custom component and variables to replace on server-side.\nTake a look at the example I made for you:\nhttps://jsfiddle.net/fcsa6z75/7/. Hi @thinkanymore we have already an issue regarding the UndoManager #1512 (I close this so reply there if you need)\nTo be honest, I didn't get one thing, you're telling me the issue is with that model.set('attributes', attr)?! Can you tell me how did you end up with this conclusion?. @AkibDeraiya123 use jsInHtml option https://github.com/artf/grapesjs/blob/6cb73f328fcc1b3771a483160d6d6f5f8d34b80c/src/editor/config/config.js#L108\n@thinkanymore no, you should never use the raw HTML inside the canvas' wrapper. Thanks @david-polak . This is very close to how I made the mjml editor, he created a custom component with its own renderer\nhttps://github.com/Patrick-Spiegel/vue-grapesjs/blob/master/src/components/grapes-components/v-btn/index.js\nUnfortunately, it's a not generic renderer but only for that VBtn component, which means you have to create the new file for each component.. Great, thanks @arthuralmeidap . The real problem here is the class actually, so I'm ok with removing them from the core (they are actually useless here), but I'd avoid other table-related components.. Do this\njs\nconst head = editor.Canvas.getDocument().head;\nhead.insertAdjacentHTML('beforeend', `<style>YOUR CSS</style>`). Read here about storing templates in DB: https://grapesjs.com/docs/modules/Storage.html#setup-remote-storage\nOn the front-end, you don't need the editor, just print the HTML and CSS stored in your DB. > Actually I can't store CSS along with HTML and Styles as I am using a CMS table fields and only using its API to save the body content, can't create any additional fields in table, also I save styles as I don't want to lose responsiveness of site.\nWhere you store the array of Styles, use the same field to save all the data from grapesjs, no need to create another field.\n\nIf I save final CSS in DB instead of Styles, and then restore them in editor via setStyle, will I lose anything?\n\nFrom the documentation...\n\nSo be careful, GrapesJS is able to start from any HTML/CSS but use this approach only for importing already existent HTML templates, once the user starts editing, rely always on JSON objects because the HTML doesn't contain information about your components. https://github.com/artf/grapesjs#usage\ncomponents not component.... Currently, the editor imports only the content inside the body. To make it understand also other document nodes, it'd require a refactor of the current HTML parser. > can we expect this feature to be in next version?\n\nI'm not sure, but I'm gonna try. Duplicate of #1745. Start from reading this: https://grapesjs.com/docs/modules/Components.html\nthen check all the available properties on Components: https://grapesjs.com/docs/api/component.html. It works for me with the latest version https://jsfiddle.net/06L5ng19\nNext time, create a reproducible demo before opening a BUG issue, thanks.... I keep seeing it correctly.... ok now I get it... you were talking about comments in the canvas... Well, to be honest, I don't think you need to care about what you see in the canvas (the important part indeed is in toHTML of the comment component).In any case, you can always try to tweak the view to obtain what you need. Each component has the highlightable property, that you can disable on all types (by extending them) and change it on component select change (by listening to component:selected event). In that demo, uploading is not even enabled so I don't know what are you talking about.\nps. when you talk about IE, specify the version please. > If using the \"name\" attribute is intentional here, and not a copy/paste mistake (in case you meant model.get('id') instead of model.get('name')), what's the purpose of this?\nRather than using, say, an \"id\" property we could define ourselves? (and naturally avoiding to use any spaces or special characters with a such-named property).\nEh definitely not a wise choice, probably I was not yet using ids on that models. I'll change it in the next release.\n\nSubsidiary question: is it dangerous to keep this change while waiting for an official fix (or not) from you?\n\nI think, to make it more customize friendly, it would be a case to remove that id attribute and add a new class instead, so the final result should be class=\"gjs-sm-sector gjs-sm-sector__MYID\". hey @hpruvot did you setup correctly the remote storage https://grapesjs.com/docs/modules/Storage.html#setup-remote-storage\nI believe you're storing/loading the HTML instead of the JSON. @hpruvot mmm I'm not sure this is the real problem, I mean, I use avoidInlineStyle every day and I'm not facing this issue. Moreover, soon or later, this option will be removed and the true behavior will be the only way to go (for a lot of reasons). \nThe problem is, why your RTE content is parsed by the editor (<span style=\"color:#ffffff;\">HELLO</span> should be stored as static and loaded as it is). I think the fact it works without avoidInlineStyle, it's just a fluke. Try to create a reproducible demo. Great, I see it works now \ud83d\udc4d . Can you explain how do you resize the editor?. Well, this is actually a manual resizing of the container so, if this code is added after editor initialization, I have no idea why it works in Firefox and Opera... but you should add editor.refresh() at the end of your function (probably it would be best to debounce it). > server didn't parse it\nThe server should take the POST content from the body of the HTTP request. > php didn't parse it and I receive an empty POST\nAgain @madcowtuning... the JSON is in the body\nhttps://stackoverflow.com/questions/7047870/issue-reading-http-request-body-from-a-json-post-in-php. First of all, use the latest version and then, can you show an example and the error returned by setStyle?. I'm not that much into Typescript, so I'd appreciate a PR. Thanks @Rottohawkins really appreciate your work\n\ndts-gen is not compatible with grapesjs, not even the browser version\n\nCan you elaborate on this? Can I help somehow with this point?. You can't prevent the style to be generated, unstylable might be used to prevent showing display property in style manager. Do this: editor.StyleManager.getConfig().textNoElement = '...'. You didn't show any code but I guess you've just edited DOM elements of the component when instead you should change its Component model data (eg. imgModel.set('src', 'base64....')). > In this function right now i am changing the image src using jQuery which is working fine. But when i get editor.getHtml() It's not reflacted.\n... @AkibDeraiya123 this is exactlly what I told you in my previous comment... DON'T EDIT the DOM with JQuery... edit the model as I told you. You can get imgModel from the currently selected image component\njs\nconst imgModel = editor.getSelected();\n\nCan i get this imgModel using id/class selector?\n\nYes, if it's not selected you can find it by a selector \njs\nconst imgModel = editor.getWrapper().find('img#eg-some-id')[0];. js\nvar mainDiv = \"<div id='\" + mainDivId + \"'><img src ='\" + updatedSrc + \"' id ='\" + previousImageId  + \"' /><button onClick='doneExternal(previousImageId )'>Done</button></div>\";\n        iframeDocument.getElementById(previousImageId).replaceWith(mainDiv);\nAgain... you're editing the DOM and you're breaking the element with its model.... js\ncontent: {\n                    script: function(){\n                        console.log(\"I am dragged!\")\n                    },\n                    components: `...`, // use components instead of content\n                }\nBTW, I think, for your case, a custom component is more appropriate. @hemanthmc check for errors in your code please, this has nothing to do with GrapesJS or CKEditor. > .. and has just not been moved over into the master branch yet\nYeah, in this case, 0.14.52 is the latest . Unfortunately, Aviary is dismissed so grapesjs-aviary doesn't work properly, but you can check its code to see how it was implemented. Yeah, this is exactly how it works.\nI'll try to check if I'm able to merge the temporary state before getting the HTML data. https://github.com/artf/grapesjs/issues/1764#issuecomment-460853741. There are 2 issues:\n You forgot to specify isComponent (used in the parsing process)\njs\ncomps.addType('test-component-type', {\n    isComponent: el => el.tagName === 'TEST-TAG',\n    view: {\n        // use onRender hook instead of render\n        onRender() {\n            const el = document.createElement(\"h1\");\n            el.innerText = 'TEST-COMPONENT OK';\n            this.el.appendChild(el);\n        }\n    },\n});\n Currently, new component types are not working for the initial template,\nso the only way is to add them via plugins (I didn't find time to see why it's happening)\nhttps://jsfiddle.net/m8hkuza3/. Hi @Soharab-Shaikh you have to pass the command option (will be executed on click):\njs\ntraits: [\n    {\n        ...\n        type: 'button',\n        command: 'COMMAND-ID',\n        // or like a function\n        command: editor => {\n            const selected = editor.getSelected();\n            // do something...\n        },\n    }\n]. Try to disable (and then probably clean) the storage with passing storageManager: {type: null}\nhttps://jsfiddle.net/h204La5o/. Not yet implemented, but it's in our Roadmap. Create your own trait https://grapesjs.com/docs/modules/Traits.html. You don't need to extend the model in this way \njs\nvar content = response.data;\nvar originalMap = comps.getType('dynamic');\noriginalMap.model.extend({\n    ...\n    toHTML: function () { ... }\n})\nyou can just update the toHTML method if the current instance, eg.\njs\neditor.getSelected().toHTML = () => newContent;\n. Be sure to use contentTypeJson: true in your storageManager configuration and read this: https://grapesjs.com/docs/modules/Storage.html. The trait reads from the component, edit the component itself not the trait value.\nthis.set('pagination',  paginationData == \"true\" ? true : false). Create a custom trait: https://grapesjs.com/docs/modules/Traits.html. Extend the link component\nhttps://jsfiddle.net/0y6fu9d1/. You have to update trait's options\njs\neditor.getSelected().getTrait('href').set('options', [\n    { value: 'page1.html', name: 'Page 1' },\n    ...\n]). Does it work if, after adding the option, you add editor.trigger('component:toggled');?. In your code, after updating trait options.... Seems to work on my side: https://jsfiddle.net/ewyb2zcu/. Hi Adam, I've updated the branch by your suggestion. The index.html is there for the dev environment... so create your app first, then deploy wherever you want. no, it's up to you decide how to store your data, more info here: https://grapesjs.com/docs/modules/Storage.html. ??? There are no default components if you don't load them (eg. from LocalStorage). Good catch, thanks @WebEtSolutions . Right now it's not possible, but I'll add this possibility in the next release, so it'll be something like this:\njs\neditor.Panels.addButton('PANEL-ID', {\n    id: 'test',\n    tagName: 'button',\n    className: 'someClass',\n    command: editor => alert('Test'),\n}). Hi @sunhillbd I think this is a perfect case when you should use the view in components. The \"plus button\" is part of the component but only inside the canvas/editor and it shouldn't be exported in the final code\nhttps://jsfiddle.net/xcv07abt/. Sorry guys, I really appreciate your efforts, but I can't accept this PR. \nThis is just a big copy paste from the BlockManager module, even with some logic IMHO that doesn't make sense to have (like private and public collections, it's ok for Blocks but not for Traits).\nFirst of all, the correct approach for any PR (especially big like your) on OSS projects it should be to ask the team (by opening an issue) if this is something we need to add to the core. Then probably we would tell you ok and we would share some guidelines about the implementation (like creating an abstract module for categories and refactoring the BlockManager code).. No, currently it's not handled, but I'd accept a PR for this (I think it might be a case to create a new command to handle the badge). Seems like it happens with the upgrade of CKEditor (4.6.2 -> 4.9.2), BTW @tranthanhhoa I kindly ask you to move this issue to the appropriate repository as it's not related to the core one. https://grapesjs.com/docs/modules/Components-js.html. editor.Panels.removePanel('devices-c'). Thanks for the report @arachnosoft \nBTW I'm able to reproduce it, but only once the first CKEditor instance is activated, can you confirm?. > I noticed that a new CKEditor instance was being created into the DOM each time a new component is edited, even though the CKEditor plugin uses CKEditor's inline() method. I don't know if this is \"by-design\", or if it could explain that kind of issue.\nYeah this is how their inline plugins works but I don't think this somehow related\nBTW definitely CKEditor adds its type to dataTransfer object and edits, for some reason (probably to handle some their edge cases), the 'text/plain' (GrapesJS relies completely on native objects without touching them).. @tristanMatthias wow! seems quite promising \ud83d\udc4f. @noogen great, thanks for sharing. Amazing work @loganvolkers thanks for pointing out your use cases. You can keep discussing all the details here but I close the issue as it's kinda off-topic . Thank you very much @arthuralmeidap for the idea and the PR. You should use {state: ':after'}, anyway I'd recommend to start using the new getRule as it would be even faster cssComposer.getRule('.sample-class::after'). Have you tried the Device Manager API?\n\nThis will (sometimes) add scrolling in the canvas in the webpage template of course, but I don't see that as a problem as its more important to know that the design you're working on will look the same on the tv.\n\nProbably from the next release will expose an API for zooming (from the Canvas module). > Yeah I did, works great if you are editing on a screen that is larger than the intended content. But if your for example editing for a 4k screen on a full HD screen its a bit problematic. Zooming seems great! Would be great if you can zoom at a pixel level as well as percent.\nThe zoom will be a value from 0 to 100\n\nThe Device Manager API doesn't support max height, which makes it impossible to know where it will cut the content vertically. This is pretty important for editing fixed height displays. Would be great to have that option. Any idea how to solve this? Is there an easy fix? or is it a big change? The best would be to limit vertical height so you can't add new content below it. Or next best would be to have a divider/line/indicator so you can see where it will cut off for a set height.\n\nWell, you can pass the height to the device, it's not clear to me what exactly MAX height would do here. If you exceed the limit, eg. by adding a component to the wrapper or changing the height style of a section, you will obviously see the canvas with the scrollbar. @ageir look at the example...\n\nMax height in my idea, would limit the height, so that you can't add new components when the height of the contents in the canvas reaches the limit..\n\nNo, this is not something I'd like to have in the core, would be too much expensive as a check on any update. > Yeah, probably. But some kind of horizontal indicator where it cuts off would be great.\nWhy horizontal indicator? I think the fixed frame of the canvas is already an indicator?!?\n. The HTML code is already loaded in canvas? Did you try to execute your custom component definition via a plugin? Otherwise you're trying to see changes on already loaded components. Read about Components, check the API of each Component, check the source of the ImageComponent's view. Hi @WebEtSolutions follow my indications posted on your PR, so if we need to implement the same logic in Traits we have to abstract it from Blocks . Well it's not that hard to break stuff with CSS, so yes, a bad written CSS (eg. using global selectors * or via tags like div, span { ... }) definitely can break the editor. You can use this options for the resizable property of components. > How can I update these properties if I'm using the grapesjs-preset-webpage?\nYou can always update a component type (but do it as a plugin)\njs\neditor.DomComponents.addType('image', {\n    model: {\n        defaults: {\n            resizable: {\n                  tl: 0, // Top left\n                  tc: 0, // Top center\n                  tr: 0, // Top right\n                  cl: 0, // Center left\n                  bl: 0, // Bottom left\n            }\n        }\n    }\n}). https://grapesjs.com/docs/getting-started.html. No, you can't disable it. > 9. Try to add any other new image, and nothing works\nI can't reproduce this one. @NicoEngler are you able to reproduce also the 9th?. You're doing something wrong, works as expected here https://jsfiddle.net/nfkha41p/\nNext time, create a reproducible demo first, then open an issue.... https://github.com/artf/grapesjs/issues/1813#issuecomment-466408328. @ateebahmed please don't open issues like this. Follow the template. We have to clear the file input once the image is selected. No @AkibDeraiya123 if you're trying to access the model from the script it means you've totally misunderstood its concept, please read carefully here https://grapesjs.com/docs/modules/Components-js.html#basic-scripts script is for the final HTML (where model, editor and GrapesJS don't exist) not the editor. Of course you can, but not via script property. You have to create a custom component and update there its model. ngModel is converted in ngmodel by the browser (HTML5 doesn't accept uppercase for attributes)\nYou can skip the parser by passing a component object\njs\nbm.add('radio-block', { \n    label:'Basic Form Element', \n    content: {\n        tagName: 'input',\n        attributes: { type: 'text', ngModel: true }\n    }\n}). Currently, it's not possible to have multiple editor.Modal instances. @abozhinov \n\nThanks ... The UI is not user-friendly.\n\nSuggestions are not prohibited.... No, unfortunately, editing templates of the UI it's not yet possible but we hope to achieve it one day. Yeah I think it's possible, you should append a new sector with your inputs manually on editor load and on input change update the wrapper style editor.getWrapper().addStyle({ color: yourInputEl.value }) or if you need some specific CSS rule editor.CssComposer.setRule('.your-class', { color: '...' });. @sanjib00 I think this demo https://jsfiddle.net/xcv07abt/ is enough to understand what to do next. You can intercept the asset open command and then manipulate the DOM for your needs\njs\neditor.on('run:open-assets', () => {\n    const el = editor.Modal.getContent().querySelector('.gjs-am-assets-cont');\n    ...\n}). > In my case this is a sub-property of a stack, where it wouldn't make sense for a property to be defined.\nYeah, it makes sense, but unfortunately, the property is kind of mandatory for the Style Manager, probably for now I'll just check the model on init and update property in the case is empty (eg. by taking the name or id). js\neditor.on('block:drag:stop', target => {\n      if (target && target.getName() === 'Link') {\n        editor.runCommand('open-assets', {\n            target, // Not sure if the 'Link' is the correct target as it doesn't have `src`\n            onSelect: () => editor.Modal.close(),\n        });\n      }\n    });. https://github.com/artf/grapesjs/issues/1809#issuecomment-469027859\n@sakshigarg9 avoid opening duplicates of your own issues, please...\n. @diktar you have to pass all the background properties to styleable\njs\n'background',\n      'background-color',\n      'background-image',\n      'background-repeat',\n      'background-attachment',\n      'background-position',\n      'background-size'\nprobably it's not the cleanest way to customize stuff but for now I wouldn't spend time on this. @SeongwoonHong That settings panel it's a custom element\nhttps://github.com/artf/grapesjs/blob/6cb1199048a753a77466efd4ae8ff3752d413623/demo.html#L1409-L1430\nI just append traits there, but the toggle (open/close) is actually a custom thing. Thanks @NicoEngler for the help \ud83d\udc4f . Just extend the component (do it via plugins)\njs\neditor.DomComponents.addType('link', {\n    model: {\n        defaults: {\n            traits: [\n                { type: 'text', label: 'My title', name: 'title' },\n                { type: 'text', label: 'My href', name: 'href' },\n                { \n                    type: 'select', \n                    label: 'My href', \n                    name: 'href', \n                    options: [\n                        { value: '', name: 'This' }, \n                        { value: '_blank', name: 'New' }  \n                    ] \n                },\n            ]\n        }\n    }\n}). > I observed that css gets added inline when using setStyle() and once the data is stored and loaded, the css is defined in classes.\nFirst of all, be sure to store your templates correctly: Store and load templates in that case, when you set style via component.setStyle(...) on the next page reload you should be able to get that style via component.getStyle(...) without the need to touch the CodeManager/CssComposer\nYou might also want to take in account setRule/getRule if you need to manipulate CSS rules. \ud83d\udc4d . I'd add that if you rely on HTML5 drag & drop, you can use canvas:dragdata event https://grapesjs.com/docs/api/editor.html#available-events\nThis allows you to make the editor understand \"external drops\", eg. by default GrapesJS can recognize images, by using canvas:dragdata you can make it recognize files like videos, PDFs, etc.. Thanks for the report @kickbk this is already fixed by https://github.com/artf/grapesjs/pull/1800 and will be available in the next release. Create a custom abstract component with ngModel and then just use it when you need it. @minuwan well actually the view already renders the icon https://github.com/artf/grapesjs/blob/94e295ef919dceaade90a3aa36355f2e23935657/src/navigator/view/ItemView.js#L47 but the idea of customizing the render of layers it's not bad. . @sanjib00 probably you're loading incorrectly your template data https://grapesjs.com/docs/modules/Storage.html#store-and-load-templates. Hi @sunhillbd I don't know exactly what is not clear in that issue but I think all you have to know is here. With the BlockManager.render method you can control block listing, which logic/UI you'll use (select input, tabs, search, etc.) it's up to you. @MisterFK https://grapesjs.com/docs/api/editor.html#available-events you can use block:drag where the mouse event is passed as a second argument. > I don't understand how can i put mouse event into the block:drag event... The first argument is the \"Datatransfert\" and the second is the \"model\"\nNo @MisterFK... read carefully...\n\nblock:drag - Dragging block, the block's model and the drag event are passed as arguments\n\nThe event is passed as a second argument. > Is it possible implement a a copy paste between 2 different pages with the editor opened\nWell, if for 2 different pages you mean 2 different tabs, I don't think so. Obviously, you're dealing with different editor instances so you have to find your way to make them talk with each other (eg. localStorage if you're on the same domain). getHtml is based on the component model data, you probably just changing its view data (eg. this.$el.append('<i class=\"fa ...')). Read carefully this part https://grapesjs.com/docs/modules/Components.html. Thanks @WebEtSolutions \ud83d\udc4d . > I didn't found the way to change the type of an element already insert in the editor.\nThe solution will be the same in case you would like to change a <div> with an <img>... so you remove it and replace it with another component at the same index. @sakshigarg9 with custom Components you can do whatever you want. Probably just take a look at how the image component is made (its model and view). @sakshigarg9 \n1. Read the documentation https://grapesjs.com/docs\n2. Try to understand what you're reading\n3. Try to solve your issues by yourself\n4. If you're not able to do it, then you can open an issue, by following its template, and SHOW US what you have tried to do. @sakshigarg9 you should put data-gjs-draggable=\".social\" on the root element of the block, not on the inner image.\nBTW don't reopen an issue just to talk about another problem, create a new one next time.... Actually, the solution provided by @a-bashtannik is the most accurate, even if that event is not public (probably I'll add a new one in the next release)\n\nsometimes it didn't detect the change instantly, unless I clicked somewhere else to blur or something like that\n\nWell, by looking at what you said here\n\nI am not talking about any actual changes in the Canvas itself but changes that apply to the final HTML when I call the method editor.getHtml().\n\nit should work as expected. For example, when you change the color with the color picker, only when you blur or click the OK button the structure will change (and so editor.getHtml()) otherwhise you only see the preview\n. Ok, we use the scrollIntoView API to center elements in the canvas (when you select the component in Layers) and layers (on component select in canvas) but seems like this bubbles up to the main window. By looking at https://stackoverflow.com/a/52835382 this configuration seems to fix the issue\njs\nconst editor = grapesjs.init({\n    // ...\n    layerManager: {\n        scrollCanvas: { behavior: 'smooth', block: 'nearest' },\n        scrollLayers: { behavior: 'auto', block: 'nearest'},\n    },\n});\nI'll update the default values in the next release. > The problem is happening when I attach the Js through the script key while I'm adding the block.\nThe isComponent method is not being called for my new custom component.\nHi Arthur, can you provide some code example of your case because I can't really get what is the issue. \nBy looking at your PR, I don't understand why are you trying to parse the content property, which is used by the editor for static content (eg. as a content to be edit by RTE) and so it shouldn't be parsed\njs\neditor.addComponents({\n    type: 'text',\n    content: `<i>Some</i> <b>static content</b> for RTE`,\n});\n. You store/load incorrectly, read here please https://grapesjs.com/docs/modules/Storage.html#store-and-load-templates. CKEditor bug (indeed the default RTE is ok), probably related to the element being in the iframe (unfortunately a lot of text editors fails by not considering this aspect)\n\nAt some point it starts highlighting other components and acting all crazy.\nI am only clicking enter. Nothing else. Not moving the mouse.\n\nIt's just hovering components due to your mouse position (not that crazy \ud83d\ude02). This is because the grid uses flex so you should use flex-basis for the width. In that case resizable should be an object like this { keyWidth: 'flex-basis' }. yeah, it's totally personal, using 1 character instead of 4/5 for the same functionality makes me feel better \ud83d\ude04. The doc in this case is the one from the canvas and its scroll is irrelevant for us, we need the main document's scroll. \nBy the way, be aware, if you use document.body.scrollTop it won't gonna work (will return always 0), use document.documentElement.scrollTop instead. > 1. Re document.body.scrollTop - it worked for me (in Chrome) - it returns a scroll offset of the canvas inside the editor's iframe...\nDid you try then to drag inside a scrolled canvas, because I'm facing issues when taking into account canvas's offset. From my side, it seems to work with something like this\njs\nvar posY = e.pageY;\n...\nif (frame) {\n  posY = e.clientY;\n  var frameRect = frame.getBoundingClientRect();\n  addTop = frameRect.top + document.documentElement.scrollTop;\n  ...\n}\n...\ndragHelperStyle.top = (posY + addTop) + 'px';. Great, this is actually working \ud83d\udc4d . Hi @tomichal I confirm that your code works correctly without margins at first element, but mine fix seems to work good in both cases. I merge your PR and then will apply my fix.\nThanks for your time. Unfortunately, this breaks stuff, try for example to remove a word and then execute undo and redo, this will duplicate the content. The issue is with model.set('content', '') (line 85), it doesn't trigger the change as the content is already empty so it doesn't reset its content. \nFor now the only fix I see it's something like this model.set('content', Math.random()).set('content', ''). Seems definitely less hacky \ud83d\ude2c. In this case, I think it makes more sense checking against hoverable property. It's ok just if (model) {. Good catch \ud83d\udc4d . Let's keep the README lean, you've placed the same sentence inside the config.js and it's already ok for me, maybe later we can add something more about in documentation. For the rest, it's all good \ud83d\udc4d . (max-width: it's not always the same, it depends on mediaCondition option. It will work only when devices are already sorted by widthMedia which is not always true. Might be a case to use sortBy method:\njs\n.getAll()\n.sortBy(device => ...)\n.forEach. You should be able to get it directly from the config this.em.getConfig('mediaCondition'). mmm there is no mediaCondition inside this.config, you should get it from this.em.getConfig('mediaCondition'). I'm quite reluctant to merge those 2 files inside the core, we don't need them. Who wants to enable the editor with touch devices probably has already polyfills for them.. I think this will be more easier and readable\njs\n'mousedown [data-toggle-move]': 'startSort',\n'touchstart [data-toggle-move]': 'startSort',. Same as in ItemView.js. Which is the reason of this?. as above, no need touch detect. In this case, you can't pass options, so config.pluginsOpts[pluginId] doesn't make sense.\nYou could pass them only in this way\njs\nplugins: [\n    myPluginNoOptions,\n    e => myPluginWithOptions(e, { ... }),\n]. Array.includes is not available in IE, so use import { includes } from 'underscore' instead. Object.entries is not available in IE, use _.each(requiresParent, (values, property) => {...}). It would be great if you add those properties to defaults (in style_manager/model/Property.js) and write a tiny comment about the usage, otherwise, we risk to forget about them. Somehow I've missed to add it to the config file, thanks.\nBTW we need it false as default. For a correct setup you just have to provide the upload endpoint but with this option as true the uploading will not work (it will be even a breaking change), so we'll get a lot of complaints that uploading is not working. Good idea, I like it \ud83d\udc4d . What about a simple const offset = this.em.get('canvasOffset') || {};?. ",
    "brandonshowers": "@timotius02 with this current configuration, you'll want to make sure you're connected to a development server before running the test command. Try running npm run dev and then in another tab run npm run test. You should be good to go now.\n. @artf it looks like this is happening after a fresh clone. After running npm run build I was able to run npm run test with no issues.\n. ",
    "timotius02": "Yep, I had just forgotten to build as well as install sass in my environment. Now I'm able to run the tests without npm run dev. \nAlso I think mentioning somewhere in the installation that Ruby Sass is a prior dependency might be beneficial.\n. ",
    "pingram3541": "Thanks, this perfectly explains how to add new styling elements also visible in demo.js.\nWhere I'm hung up is in that the background-size property must be an option available within the background \"stack\" (due to multiple backgrounds being allowed per element), we would need to be able to control the background-size of each background added to the stack, however it appears the stack only deals with producing a single inline property and the way background-size is introduced via shorthand is incompatible with inline styling (i.e. background-position / background-size, the / is not allowed).  However, being able to add a separate background-size rule would suffice just fine.\nIs there a way to to add a background-size property within the background stack but have it produce its own css attribute vs adding to the inline background property which doesn't allow the / notation?\n. ",
    "scalecheapinc": "I don't like this script only, and I tell you why. this script maybe used into existing template editing, or something like that. 90% people who uses template editing they just edit existing one, but to make templates for this is not so easy, I mean you can't just download something from themeforest and parse simple HTML document. you have to build it first on Javascript, maybe I didn't read everything fully into codes, but everything that I see inside demo.js, it builds entire HTML document from JavaScript. and? how people will make templates? who will use it? no one. just some of them. I appreciate how good it is made, but when you do so big thing, you have to first think what will be useful for real people, why someone will use this script, if 10 template creation for this may take same amount of time, everyone will make their own. \nSee the Ckeditor, I think ck is lot better, why? because you can parse html directly, without coding anything, and what is the idea here? program that needs tons of time to remake template for it? \nI don't know, I'd never used this. I know it's much like builder thing than ckEditor, but again, doing something and doing something but useful, are two different way of doing something.\nsorry, but I was looking drag n drop builder for landing pages, to save time I tried to use opensource, but i decided to not use it. because I have to waste same time writing new editor myself, instead of making JSON based templates. \nif, I'm wrong... tell me why I am.\n. ",
    "2braincells2go": "Hey Art.\nThinking of using GrapeJS in a school room project. Like for students to be able to create simple \"about me page\" and then export.\nIs there a simpler way for them to export? Like a page with the complete build, all HTML, JS (if any) and CSS? This way they could just save as HTML page.\nThanks for any input.\nWoody\n. Hey Art.\n\"do you mean something like 'Export to ZIP'?\" that would be ideal but even a folder would work.\nTotally understand Grapejs is for CMS but would be excellent for a local editor:)\nThanks much,\nWoody\n. That is cool Art! Can't wait to see if images can be incorporated.\nThank you much.\nwoody\n. Thanks for reply. Unfortunate that does not work for us. We use Windows and Ctrl+Z normally provides undo, but not on Grapejs.\n. Getting mixed results. Using Win 10 and Chrome Version 48.0.2564.116 m. Got it to step back one time but no more. Would not \"redo\".\nDid try on FF and worked for a few steps back then stopped. Could not get it to work again. Very possible it is Win 10. \nUsing your demo for these tests. Cannot get good install on local machine so no way to test their. This is another issue and will try that again later. Report results in another issue if fails. Never got it to install correctly at Heroku.\n. Great job on GrapeJS Art! Thanks for update.\n. Don't you just love all the browser quirks:)\nNo big issue, just thought you may like to know about.\nThanks much!\n. Tried on Chrome and Edge, no change, still invisible until hoovered.\nSorry...\n. I forgot to add:\nWhen disabling the color in chrome dev console the word \"state\" turns black and then the other items in drop down are visible (black):\n.gjs-clm-tags .gjs-clm-field select, .gjs-clm-tags .gjs-sm-field select, .gjs-sm-sector .gjs-clm-field select, .gjs-sm-sector .gjs-sm-field select {\n    background: 0 0;\n    border: none;\n    /* color: rgba(255,255,255,.7); */ <= disabled\n    width: 100%;\n    padding: 2px 10px 2px 2px;\n    position: relative;\n    z-index: 1;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n}\n. Hey Art!\nGoing to be a few days before back and can actually try changes on my setup but using your demo thsis is what I see (notice the changes I made in dev console).\nHOW IT APPEARS WITH NO MODS:\n\nHOW IT APPEARS BY REMOVING BACKGROUND 0 0:\n\nHOW IT APPEARS BY ADDING BG COLOR #444:\n\nHope this helps:)\n. Don't worry about it Art. No biggie for me, just alert you to issue:)\n. @WebCrew Sometimes bad things happen to good people. Have been out of touch due to death of a parent. This was the last thing on mind.\n@artf Just tried the demo and seems like you have solved the issue. The text in drop is visible. Thank you!\n. Thank you @artf and @WebCrew \nAppreciate the words.\n. ",
    "xamdam777": "@artf \nFirst thanks for grapesjs, it is really amazing!\nSecond: I have been trying some approaches to save a sample image (from URL) inside the .zip file. \nAfter being able to save a valid image from URL inside the .zip file, exporting all images should be easier.\nMy main problem is that I can save any text file from URL and add it to the .zip (it works nice) but I cannot do the same with images, probably the image headers are missing or the image is broken when saving it as a string.\nThis is a part of the current .zip creation function with my additional file:\nimagentest1rm.file(\"28b2682305f6d0cce43e21f38379d8a5.jpg\", jpegImg),e.generateAsync({\nDo you have any clue about how can I save a valid image that I got from URL in the jpegImg var?\nThanks a lot!\n. Hi @artf \nThis is not working in the current demo (neither on my side). If you change any image and reload the page, the image goes to it's previous src.\nIt's not working the first time you load a template. If you add new images in the current canvas, the src listener works as expected.\nI have been debugging it for some hours, but all the ideas were unsuccessful :(. I had to solve this using a workaround and it seems like a good solution at the moment.\nI have created my own localstorage and I'm saving the template on $(window).on('unload... \nand loading it again on $(window).on('load'. @art @tommedema \nAll you can try is something like this:\nhttp://jsfiddle.net/dirkk0/EEgTx/\nMore info: https://stackoverflow.com/questions/166160/how-can-i-scale-the-content-of-an-iframe\nThe problem of not being able to control iframe contents is an old one, not really related to grapesjs.. I have been checking it in IE11 but I do not see any CSS problem in the selectors.\nAnyway, I found another problem when trying to toggle any of the groups (sectors) from the style manager:\nthis.getPropertiesEl().style.display=\"none\",\nUnable to get property 'style' of undefined or null reference\nI think supporting IE would be a bad idea.\nExample: I have my own grapesjs code full of this: https://stackoverflow.com/questions/44437497/syntax-error-using-in-ie\nI am sure that if I rewrite all that functions, new problems will appear.. You will usually need a server side language for coding this. As long as I know, that is out of the scope from grapesjs.. If you do not really type on them, the JS listener is not triggered, so they are not saved.\nI tried everything some weeks ago, even trying to emulate human typing and press enter with code, but the traits were still not saved.\nYou would need to know that kind of event are traits listening (I still do not know it) and call it manually with your own code.. @jvillena thank you very much! I've been trying your code and it seems great.\nHave you tried it with color picker traits? I found that color picker ones needed more work since when you do not manually type the color, not only the model, but the selected color in the picker won't update too.\nDo you think that we could use this approach for updating style manager properties without typing? In my case, I have been trying everything to correct bugs like this one:\nhttps://github.com/artf/grapesjs/issues/1319\nAnd I think that automatically typing (correct) style manager values when they are wrong could be a solution.\n. @jvillena that sounds hard! good luck :)\nThanks. That fiddle will be very useful, thanks a lot @artf !\nDo you think that we could use something like that to update style properties programmatically?\nI would love to be able to update any value, like for example setting margin-top 10px to the selected component.\nI can already do it, but the change will not appear on the style manager like your previous example, so it is not a solution.\nAgain thanks for your great work!\n. @artf thanks a lot for finding time to reply.\nI have tried that before, but it did not work as expected.\nDemo example:\n\nSelect \"Build your templates without coding\" (class .lead-title)\nApply this command in the console: editor.getSelected().setStyle({'margin-top': '75px'});\nYou will see that the property is not changed in the style manager. Instead, it is added to a new #id selector, but the margin-top from the class .lead-title stays the same as before (150px).\n\nThat is the reason because I'm trying to find a way to programmatically trigger the user inputs on the style manager. That would \"mimic\" the user interaction and it should work fine.\nUnfortunately, I have spent tons of hours trying to trigger every event that I can see in the code, but my jQuery inputs .val() on the style manager boxes are never triggered.\nThanks again!. Thats cool @artf \nI think this is the solution I was looking for :+1: \nThis code will add or update the selected element CSS property. I changed to addStyle, since when using setStyle all the previous properties were deleted (complete css replacement, not by property). \nvar test = editor.getSelectedToStyle();\ntest.addStyle({'margin-top': '75px'});\nA minor problem is that when you change the style using the previous code, you need to unselect & select the block again to see the new value in the style manager.\nI have tried triggering editor.select(null); after applying the code, but it only works fine in the console. If I use it inside editor.on(\"component:selected\", the editor seems to crash.\nThank you very much for your previous code, it helps a lot!!!. editor.getCss(); -> will give you all the CSS, is up to you to find what you need.\ncomp = editor.getSelected();  \nconst html = comp.toHTML(); -> selected comp html\nconst css = editor.CodeManager.getCode(comp, 'css', {cssc: editor.CssComposer}); -> selected comp CSS. Thank you @artf \nIs there any clue of what part of the code \"explodes\" the browser parser attributes to fill in complex style manager properties? (it happens when you open the style manager)\nI would love to know where you transform this:\nbox-shadow:10px 10px 5px 10px black ;\nInto this:\nX position: 10px;\nY position: 10px;\nBlur: 5px;\nSpread: 10px;\nColor: black;\nThat would allow me to detect and try to correct this bug. Unfortunately, with my current latest grapesjs init, the box shadow border still happens even if you create the templates in the editor.\nThanks!. Yes, it is related to the float right property. Actually, that is the real behavior of the float right property (the last html element appears the first) so I do not see an easy solution.. @YashPrince take a look at your browser local storage values, you will see what/how is stored.\nAnyway, if you make a custom component and load the normal html/css, grapesjs will recognize it as the right type when you import it. The custom component type in grapesjs is usually linked to the main container id, so you do not really need a json to accomplish that.. @YashPrince I think that is a small bug from the default countdown component. If you make your own custom component, that problem should not happen (it will still show settings (traits) when you load from HTML). . If I understood you ok, you are trying to create a new button like the others under \"text-decoration\" in https://grapesjs.com/demo.html\nI do not have text decoration in my project, but I have text-align buttons that work the same. \nThis should be the code that creates the text-align buttons in the style manager.\nNotice that you may already have a font-weight property, so if you add it as a radio button, you will need to remove the default dropdown.\nproperties: [{\n                        property: \"text-align\",\n                        list: [{\n                            value: \"left\",\n                            className: \"fa fa-align-left\"\n                        }, {\n                            value: \"center\",\n                            className: \"fa fa-align-center\"\n                        }, {\n                            value: \"right\",\n                            className: \"fa fa-align-right\"\n                        }, {\n                            value: \"justify\",\n                            className: \"fa fa-align-justify\"\n                        }]\n                    }]\n........ \ncase \"text-align\":\n                                r.type = \"radio\";\n........\ncase \"text-align\":\n                                r.list = [{\n                                    value: \"left\"\n                                }, {\n                                    value: \"center\"\n                                }, {\n                                    value: \"right\"\n                                }, {\n                                    value: \"justify\"\n                                }];\n                                break;. Oh, sorry, I just got right what you need now.\nYou could try a dirty jquery solution while waiting, using 2 radio buttons with the different on/off states and show/hide every button when you need it.. That would be great!. Thanks @artf and all the other people in this thread.\nI was experiencing the same problem. I\u00b4m not saving to DB, but the same happens in local storage or saving to txt files.\nAfter some investigation:\n\n\nWhen you create a new background in a blank page, grapes automatically sets two selectors using that background: body & #wrapper.\n\n\nIf you reload the page (save & open operation in my localstorage), grapes will duplicate the body tag, since when grapes finds a #wrapper, it will clone it to a new body.\n\n\nIf you reload again, you will see that it won't create more than 2 body tags.\n\n\nSo the bug seems to be: when cloning the #wrapper into a body, grapes is not checking correctly if a previous body exists. It only stops cloning after two body selectors exists. It should stop cloning if there is only one body selector.\nAnd the fix I\u00b4m using is: just delete all the body styles after opening your page.\nconst regex = /body{(.*?)}/mgs;\nmyContent = myContent.replace(regex, '');\neditor.setComponents(myContent);\nNotes about the fix:\n\n\nIt seems that you will lose nothing if you continuosly delete the body tag CSS properties. Everything is cloned in #wrapper and a new body is created after page load, based on that #wrapper.\n\n\nThis fix seems to solve all the related bugs with duplicate body selectors for me (clear canvas, change background, remove background...)\n\n\nI have tested it only a few hours, I hope it works for you too!\n\n\n. Thank you very much @artf, now I completely understand the problem, damned browser's parsers! :)\nI have been doing some tests in addLayer() and refreshLayers().\nThis is my current approach, modifying refreshLayers() function, I try to detect the wrong layers and do not show them. \nI placed the code below in line 131 of https://github.com/artf/grapesjs/blob/dev/src/style_manager/view/PropertyStackView.js#L69 \n(near the end of refreshLayers function)\nIt seems to be working fine with a lot of bugged samples (it never shows bugged layers), but since it does not really removes the wrong code (the wrong CSS is still there), I wonder if this is a bad solution.\n```\n    var arrayWrongLayers = new Array;                 \n    var myLayersArray = layersObj;\n    var arrayLength = myLayersArray.length;\n    for (var i = 0; i < arrayLength; i++) {\n        //console.log(myLayersArray[i]);\n        var imagevalue= myLayersArray[i].properties[0].value;\n        if(( imagevalue.toLowerCase().indexOf('.png') >= 0)||( imagevalue.toLowerCase().indexOf('.jpg') >= 0)||( imagevalue.toLowerCase().indexOf('.gif') >= 0)||( imagevalue.toLowerCase().indexOf('.jpeg') >= 0)||( imagevalue.toLowerCase().indexOf('.svg') >= 0)){\n            console.log(\"It's image\");\n        } else {\n            console.log(\"It's NOT image\");\n            arrayWrongLayers.push(i);\n        } \n    }\n   console.log(\"the wrong layers are\" + arrayWrongLayers);\n\nvar arrayWrongLayersLength = arrayWrongLayers.length;\nfor (var i = 0; i < arrayWrongLayersLength; i++) {\n    console.log(arrayWrongLayers[i]);\n    //Deletes the last layer on the stack before rendering them in the style manager\n           //Better to delete the layer by index, but I found problems doing that and pop() works too\n    layersObj.pop();\n}\n\n```\nMaybe we could really delete the layer from the model using this approach?\nThanks again!\n. ",
    "cubemoon": "Install failed again\n. Installed correctly. thanks\n. ",
    "budislav": "I think Grapesjs and Silex should be merged into one project. Both of projects have a common ground  and same goals. I think there is no space on the world for two same open source projects. World need only one most powerful open source web designer tool, like Blender in 3d world. \nFor example you have five digital audio workstation (ardour, lmms, rosengarden, muse, qtractor). Every of them have something nice but none of them have all necessary things and never will. Don't make the same mistake. Krita and Gimp is also one of many examples. I am always for bonding of strength and this two projects are excellent chance for this.\n@artf I proposed new mockup for silex based on this system. http://enjoycss.com/59e/1\nI see Grapesjs looks so much as Webflow which I think is the best web designer tool today (the most complete and smartest). Visit a page from bellow to see what we want to accomplish. It is the same thing as Grapesjs and Webflow. So why not join forces to achieve the same goal. \nhttps://github.com/silexlabs/Silex/issues/387\n. @lexoyo @artf \nThis flexbox system is more than awesome. Someone really need to implement this.\nhttps://flexbox.webflow.com/?utm_campaign=flexlaunch&utm_source=newsletter&utm_medium=email\n. @lexoyo I think they will not. Personally I don't care about those users who use older browsers. Everyone on the web should need to have up to date web browser. Also every browser today have automatic update so that problem is gone. The progress of mankind should not stop because of older browsers and these users if they exist.\n. @artf wow, this escalated quickly :) Nice work!!\n. > Maybe it is too early to think about it... But yes, at one point we will have to display things on top of the stage, like a bootstrap grid (like this @budislav ;) ?):\nNice! Absolutely!\n. I don't mind. I like to see all news about the project, although I do not understand so many technical terms.\n. ",
    "lexoyo": ":+1: \nIndeed we have the absolute vs positioned approaches which are 2 important choices. At one point Silex will offer lists and containers with positioned content and a flow, and grapejs will probably have a way to have absolute positioning too\nMeanwhile it is clear to me that free software needs both :)\n. @budislav this is a really nice feature\nDo you think they will do something to support older browsers? (see the browser compatibility of flexbox on mozilla's docs)\n. @artf I started to work on a new version of the stage component for Silex\nhttps://github.com/lexoyo/stage\n. That is great!\nStage is made to support drag/drop/resize elements in the flow as well as positioned in absolute\nhttps://github.com/lexoyo/stage\nAlso I will make a live demo of Silex in a few hours\nhttps://www.silexlabs.org/event/silex-webinar-1-eng/\nAnd here is the crowd funding campaign which will start in a few days\nhttp://crowdfunding.silex.me/\nThat would be great to have you there and please let people know about it\nThx!\n. > @lexoyo 'in the flow as well as positioned in absolute' this is hot :)\nlike sex and coffe, that's why it's good :heart_eyes: \nI'm working on it but a proof of concept is already running\nIf absolutely positioned it just moves the element, otherwise it make it absolute while dragging and put it back in the flow on drop\nthe only thing I'm realizing now is that I'll need to handle click on the body and not use event.target to know where it clicks because I'll probably want to display a bootstrap-style grid on top of the stage in some cases... What do you think?\n\nAnyway why not pick one of already well-known crowdfunding platform? I think you'll get more visibility there\n\nit was only a teasing website to get mail adresses, but now it is on ulule:\nhttp://crowdfunding.silex.me/\n. > > the only thing I'm realizing now is that I'll need to handle click on the body and not use event.target to know where it clicks because I'll probably want to display a bootstrap-style grid on top of the stage in some cases... What do you think?\n\nWhat do you mean with 'display a bootstrap-style grid on top'? Something like a grid for snapping?\nAnyway how could you catch clicked element without event.target? I use Event Delegation to speed up performances with many nested components inside and without e.target it seems impossible for me\n\nMaybe it is too early to think about it... But yes, at one point we will have to display things on top of the stage, like a bootstrap grid (like this @budislav ;) ?):\n\nThen there will be no other way than computing the target with something like document.elementsFromPoint(x, y)\nhttps://developer.mozilla.org/en-US/docs/Web/API/Document/elementsFromPoint\nAnyway feel free to make issues on the stage project, with features you would like or constructive critics on the code, I will definitely appreciate it!\nhttps://github.com/lexoyo/stage/\n. Nice! 'pointer-events: none;' is better indeed! :+1:\n. I hope you don't feel like I spam you both with my \"stage\" component... Maybe I should stop here, but I would love someone to review my code as I just created this PR to add the \"draw region\" feature.\nAlso a \"strategic\" question here about wether the UI should live in the same DOM as the elements.\n. :+1: great spirit :D\nI have had new ideas to discuss, I will put them soon in the issues of stage\n. @integrateddigital I use unifile which provide routes to manage files with dropbox, ftp, github... and it is easy to add new services so you could use it (even as a canvas for 1 service it is interesting)\nhttps://github.com/silexlabs/unifile. Nice! I'd like to have this functionality. The code is really clean and a state of the art in nodejs, so it should be feasible without headaches, I'll poke the lead developer @JbIPS to know for sure. ",
    "Immortalin": "It's amazing how advanced both tools are. With a bit more polish, and perhaps bundling them into a desktop tool with electron, you guys could give Pinegrow and Macaw some serious competition! :D\n. https://github.com/voidlabs/mosaico\n. @webcrew I have started a project turning grapesjs into a standalone editor using electron: https://github.com/Immortalin/Merlot\n. @artf you might want to take a look at contentbuilder.js  and this thread\n. And also the Odoo builder (AGPL)\n. @artf https://github.com/abdullah/plekan\n. @artf https://github.com/tandemcode/tandem. @artf https://huu.la/. @artf https://microweber.com. @artf https://github.com/givanz/VvvebJs. @artf congrats on shipping grapesdrop! \ud83d\ude04. I almost forgot that you could disable JavaScript ;)\n. ",
    "WebCrew": "@artf I`m lookinf forward to the new update. By the way, I like Your grapejs a lot. Keep up the good work and thank You for that nice piece of software. \n. Time is always a issue with which we have to deal with. \ud83d\ude02 I wish you would\nfind some other githubers to help with the development. Your graphejs is in\nmany ways easier to handle as some of the other competitors out there. I also like your whole layout a lot more. \nI try to get it working with HumHub CMS as a backend template editor module.\nI wish you good luck and much success. \ud83d\ude4c\ud83d\ude0a\nAm 03.10.2016 15:01 schrieb \"Artur Arseniev\" notifications@github.com:\n\nthanks @WebCrew https://github.com/WebCrew It means a lot for me and I\nreally appreciate it.\nUnfortunately I have less time for GrapesJS in this period but hope to\nback to work soon\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/13#issuecomment-251099778, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AMYm0yoY9BMeZvG2kPKsBxEbAAo4CXUlks5qwPy4gaJpZM4Hz-uB\n.\n. It seems, that Woody has no time to answer so I will do it. I tested Your demo and nothing has changed. I use latest Chrome Browser and the drop down menu still looks like:\n\n\n. @artf You did it :+1: it is working now and all the dropdown entries are visible.\n. @2braincells2go I`m sorry for You.\n. the template/theme has to be a grapejs project. ",
    "sfkazmi": "@artf Did you implemented absolute positioning in grapes??. i got a way to fix it, I directly passed the html and css content in .. I got a new issue, when i pass the css in  to render it and html, i change the style and get it with editor.getCss(); it gets the old style that i passed into style tag in . ",
    "walkskyer": "@artf Thank you! It's more helpful for me!\n. At first I follow the wiki,then I copy the model and view of the map component for test.\nHere is the code:\n```\n<!DOCTYPE html>\n\n\n\nTitle\n\n\n\n\n\n\n\n    var editor = grapesjs.init({\n        container : '#gjs',\n        components: '<div class=\"txt-red\">Hello world!</div>',\n        style: '.txt-red{color: red}',\n    });</p>\n<pre><code>var blockManager = editor.BlockManager;\n\n// Get DomComponents module\nvar comps = editor.DomComponents;\n\n// Get the model and the view from the default Component type\nvar defaultType = comps.getType('default');\nvar OComponent = defaultType.model;\nvar OComponentView = defaultType.view;\nvar ImageType = comps.getType('image');\nvar Component = ImageType.model;\nvar ComponentView = ImageType.view;\n\nvar inputTypes = [\n    {value: 'text', name: 'Text'},\n    {value: 'email', name: 'Email'},\n    {value: 'password', name: 'Password'},\n    {value: 'number', name: 'Number'},\n];\n\n// The `input` will be the Component type ID\n// copied from map component\ncomps.addType('player', {\n    // Define the Model\n    model: Component.extend({\n\n        defaults: _.extend({}, Component.prototype.defaults, {\n            type: 'player',\n            void: 0,\n            mapUrl: 'http://backbonejs.org',\n            tagName: 'iframe',\n            mapType: 'q',\n            address: '',\n            zoom: '1',\n            attributes: {frameborder: 0},\n            toolbar: OComponent.prototype.defaults.toolbar,\n            traits: [{\n                label: 'Address',\n                name: 'address',\n                placeholder: 'eg. London, UK',\n                changeProp: 1,\n            },{\n                type: 'select',\n                label: 'Map type',\n                name: 'mapType',\n                changeProp: 1,\n                options: [\n                    {value: 'q', name: 'Roadmap'},\n                    {value: 'w', name: 'Satellite'}\n                ]\n            },{\n                label: 'Zoom',\n                name: 'zoom',\n                type: 'range',\n                min: '1',\n                max: '20',\n                changeProp: 1,\n            }],\n        }),\n\n\n        initialize: function(o, opt) {\n            if(this.get('src'))\n                this.parseFromSrc();\n            else\n                this.updateSrc();\n            Component.prototype.initialize.apply(this, arguments);\n            this.listenTo(this, 'change:address change:zoom change:mapType', this.updateSrc);\n        },\n\n        updateSrc: function() {\n            this.set('src', this.getMapUrl());\n        },\n\n        /**\n         * Returns url of the map\n         * @return {string}\n         * @private\n         */\n        getMapUrl: function() {\n            var md = this;\n            var addr = md.get('address');\n            var zoom = md.get('zoom');\n            var type = md.get('mapType');\n            var size = '';\n            addr = addr ? '&amp;q=' + addr : '';\n            zoom = zoom ? '&amp;z=' + zoom : '';\n            type = type ? '&amp;t=' + type : '';\n            var result = md.get('mapUrl')+'?' + addr + zoom + type;\n            result += '&amp;output=embed';\n            return result;\n        },\n\n        /**\n         * Set attributes by src string\n         * @private\n         */\n        parseFromSrc: function() {\n            var uri = this.parseUri(this.get('src'));\n            var qr = uri.query;\n            if(qr.q)\n                this.set('address', qr.q);\n            if(qr.z)\n                this.set('zoom', qr.z);\n            if(qr.t)\n                this.set('mapType', qr.t);\n        },\n\n    },{\n\n        /**\n         * Detect if the passed element is a valid component.\n         * In case the element is valid an object abstracted\n         * from the element will be returned\n         * @param {HTMLElement}\n         * @return {Object}\n         * @private\n         */\n        isComponent: function(el) {\n            var result = '';\n            if(el.tagName == 'IFRAME' &amp;&amp;\n                /backbonejs\\.org/.test(el.src) ){\n                result = {type: 'player', src: el.src};\n            }\n            return result;\n        },\n\n    }),\n\n    // Define the View\n    view: ComponentView.extend({\n\n        tagName: 'div',\n\n        events: {},\n\n        initialize: function(o){\n            ComponentView.prototype.initialize.apply(this, arguments);\n            this.classEmpty = this.ppfx + 'plh-map';\n        },\n\n        /**\n         * Update the map on the canvas\n         * @private\n         */\n        updateSrc: function() {\n            this.getIframe().src = this.model.get('src');\n        },\n\n        getIframe: function() {\n            if(!this.iframe){\n                var ifrm = document.createElement(\"iframe\");\n                ifrm.src = this.model.get('src');\n                ifrm.frameBorder = 0;\n                ifrm.style.height = '100%';\n                ifrm.style.width = '100%';\n                ifrm.className = this.ppfx + 'no-pointer';\n                this.iframe = ifrm;\n            }\n            return this.iframe;\n        },\n\n        render: function() {\n            ComponentView.prototype.render.apply(this, arguments);\n            this.updateClasses();\n            this.el.appendChild(this.getIframe());\n            return this;\n        },\n\n    }),\n});\n// just copy the map component\nblockManager.add('my-map-block', {\n    label: 'Map block',\n    content: {\n        type: 'mymap',\n        style: {\n            height: '400px',\n            width:'600px'\n        },\n    }\n});\n\n// custom component\nblockManager.add('my-player-block', {\n    label: 'Player block',\n    content: {\n        type: 'player',\n        style: {\n            height: '400px',\n            width:'600px'\n        },\n    }\n});\n</code></pre>\n<p>\n\n\n```. Yes,it Works!!! Thank you my boss! I just understand how to use the plugin.. ",
    "iCoachLive": "artf looks very clean and promising. \n. Check on Gimp. Says it IS open source. GL.\nOn Sep 7, 2016 7:55 AM, \"Pierre Ozoux\" notifications@github.com wrote:\n\nAh ok :) It is not open-source then, I call it fauxpen-source (faux means\nfake in french). Or maybe I missed it? Where is the code? What is the\nlicense?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/20#issuecomment-245257658, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AT5e84iMo7uwf-PCdnvpdgFFG10WV69Mks5qnqZJgaJpZM4J1O1t\n.\n. \n",
    "tuongpgjz": "Hi pierreozoux,\nI think you can add other one is KingComposer page builder into your list\nThey just release new version 2.5.\n. Oh, it is open source for backend. You can try from https://wordpress.org/plugins/kingcomposer/\n. ",
    "pierreozoux": "@tuongpgjz nice try :) But there are not open source, so... they do their life :) would be nice if they use this also, but I don't know where to ping them... Would you like to try?\n. Ah ok :) It is not open-source then, I call it fauxpen-source (faux means fake in french). Or maybe I missed it? Where is the code? What is the license?\n. ",
    "joshmarom": "https://github.com/pojome/elementor/issues/509\n. ",
    "andrew-worsfold": "Really impressive project and something I intend to delve into for an upcoming project!  Please see my comments re: Tailor here.\n. ",
    "etewiah": "grapejs is truly awesome.  I will try to integrate it in my website builder for real estate over the coming weeks: \nhttps://github.com/etewiah/property_web_builder/issues/7. ",
    "pavan168": "Hello @artf, this is a lovely tool. I have been looking for something like this for ages. We have a SaaS product where we give websites for customers. However, we need to incorporate a website builder. Do you think we can use your library? How are the licensing done?. Can we integrate this to our product and sell with the package as well? There wont be any licensing issues right?. Sure. would love to speak more on this line. Would you be able to pass me your email address?. ",
    "subek": "Is there any editing tools for the image ?? I couldn't find any.. @artf : Ok Thank You ! . ",
    "LukeTowers": "@artf What would you say in regards to how extendable this library is? \nSay if I wanted to replace / modify certain components (for example the RTE and Asset Manager) dynamically via a plugin or other means; how difficult would that be to accomplish? What about custom styling / \"themes\" for the GrapeJS editor as a whole? \nAnd one final question, does GrapeJS support editing previously saved HTML (even if it's just editing previously saved HTML that has been created by GrapeJS)? If not, what are the major hurdles in adding such support?\nThis project looks quite interesting and it looks like you've put a lot of work into it! Great job so far!. ",
    "remcovo": "At this moment I am playing with Grapejs, it looks really amazing!\nIs there also an example available how to add/control repeating elements? \nFor example I want to add tabs or image slider. f.e.  <li><a href=\"#\">image.jpg </a></li>\nIt would be handy if you can upload in de component panel the image slides and set the links. Or edit/ remove a li element. ",
    "francoisandre": "Dear Sir,\nI clone the repo instead of using bower and everithing seems to be ok now.\nI apalogize for having opened this issue.\nSincerly\nFran\u00e7ois\n. ",
    "magixsource": "@artf update the master please,i use bower and this exception still.\n. ",
    "sebastianha": "The problem still exists, just tried the same with the same problem. > If you want to add custom behavior to your Components (eg. pop up a modal when inserted into the canvas, do something when is double clicked, etc.) you need to define a new Component type but I've not yet added those API to GrapesJS but are coming soon.\nDo you have any updates on this? I would need this feature, too.. Hi,\nfor example I wanted to use the image component but as I store my images in a way that the file names get prefixed with md5 sum etc, the current component is not ideal for me as it shows the full path name in the list (this is very ugly for the user).\nI wanted to show only parts of the file name or a different key of the returned object of the asset manager. I am also thinking about organizing my images in folders. Also I wanted to remove the ability to add images via URL, so only upload and the list should be available.\nAt the end I planned to add my own custom image component type for this (and also for learning how to write them).\nBTW: Thanks for the great editor and keep continuing your work!. Thanks for the hint, didn't see that!\nBut for all other things a component type API would be nice :). Thank you very much, I will try it and let you know!. That's it, thank you very much!. Thank you very much, now it works as expected!. Hi, the problem is, that \u2013 depending on the CMS template \u2013 I also have sites with a large header image, so I definitely have to scroll to get to the editing area. It would be very cool if you could take a look at it. Thank you very much!. ",
    "fgiannar": "No I'm afraid not. This occurred from a custom script of mine, where I had:\ncssComposer.add(target.get('selectors'), '', '480px');  where target is an instance of a CssRule with maxWidth not set.\nIf I replaced the line 173, as explained in my first comment above, the selector models had ids else they had the name attribute set but empty id which lead me to think it's a general bug.\nProbably my bad, I am closing it since it's not reproducible on your end.\nThanks a lot for your prompt response.\n. Just an update, in case anyone else faces the same issue:\nThe mistake was passing the selectors collection instead of array of models, so replacing:\ncssComposer.add(target.get('selectors'), '', '480px');\nwith\ncssComposer.add(target.get('selectors').models, '', '480px');\nfixed the issue.\nAgain thanks for your time.\n. ",
    "leejunkit": "Thank you for fixing the bug so fast! Really appreciate it :)\nOn Friday, 28 October 2016, Artur Arseniev notifications@github.com wrote:\n\n@leejunkit https://github.com/leejunkit updated also the demo\nThanks for reporting the bug\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/25#issuecomment-256906833, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAyk7LYzsRkoTBZhLWFCN7id34dEObUvks5q4ejbgaJpZM4KjPE5\n.\n. \n",
    "jujusharp": "@artf , I saw much of text in templates are in pure English text, have you have plan for Internationalization support? for example: \n/src/asset_manager/template/assets.html at line 7: \n<button class=\"<%= ppfx %>btn-prim\">Add image</button> is just a pure english text.. @artf Got it, thanks for your reply. ",
    "rgcarrasqueira": "Hi Art! I would like to change a tittle for a panel, how to do that, without change all parameters?. Hi Art! I think that we need to reopen this matter. In the code there are some messages that cannot be translated, because they are hard coded, as I can show to you:\n```\nif(targetCollection && droppable && accepted && draggable) {\n          index = pos.method === 'after' ? index + 1 : index;\n          var opts = {at: index, noIncrement: 1};\n          if(!this.dropContent){\n            modelTemp = targetCollection.add({}, opts);\n            if(model)\n              modelToDrop = model.collection.remove(model);\n      }else{\n        modelToDrop = this.dropContent;\n        opts.silent = false;\n      }\n      created = targetCollection.add(modelToDrop, opts);\n      if(!this.dropContent){\n        targetCollection.remove(modelTemp);\n      }else{\n        this.dropContent = null;\n      }\n      // This will cause to recalculate children dimensions\n      this.prevTarget = null;\n    } else {\n      if(!targetCollection){\n        warns.push('target collection not found');\n      }\n      if(!droppable){\n        warns.push('target is not droppable');\n      }\n      if(!draggable){\n        warns.push('component not draggable, accepted only by [' + toDrag + ']');\n      }\n      if(!accepted){\n        warns.push('target accepts only [' + toDrop + ']');\n      }\n      console.warn('Invalid target position: ' + warns.join(', '));\n    }\n\n    if (em)\n      em.trigger('component:dragEnd', targetCollection, modelToDrop, warns);\n\n    return created;\n\n```\nThis is inside the CreateComponent.js at folder utils inside grapesjs main core. So how can we deal with that if these messages are hardcoded?\nThanks in advance!\n. Hey Artur! How to contribute with translating for other languages. I would like to translate it to Brazilian Portuguese?. Hey Art!\nI've tweak some stuffs on my editor and I create a way to open a template gallery, choose a layout and set it at the canvas, I'm sharing the code above:\n```\ncmdm.add('choose-layout',{\n        run(editor, sender) {\n            var layout_id = opts.id\n            var url  = \"http://localhost/template/id.json\";\n            url = url.replace('123', layout_id);\n        $.getJSON(url, function(data){\n            var html_code = data.message\n            var iframe = $('iframe.gjs-frame'); // or some other selector to get the iframe\n            $('#wrapper', iframe.contents()).html('')\n            comps.clear();\n            localStorage.clear();\n            comps.getWrapper().set('content', '');\n            opts.editor.setComponents(html_code);\n        });\n        // once chosen a layout close the modal window\n        $('#choose-layout-modal').modal('hide');\n    }\n});\n\ncmdm.add('open-layout-list',{\n    run(editor, sender) {\n        sender.set('active', 0);\n        // opens a bootstrap modal\n        $('#choose-layout-modal').modal('show').load(\"{% url email-template-layout-list %}\");\n    }\n})\n\npnm.addButton('options', {\n    id: 'open-modal-layout-list',\n    className: 'fa fa-newspaper-o',\n    command: 'open-layout-list',\n    attributes: {\n        'title': 'Choose a layout',\n        'data-tooltip-pos': 'bottom',\n    },\n    active: false,\n});\n\n```\nHope that it helps!. Hi Art!\nFor the custom code editor I've did at my project:\n```\ncmdm.add('export-template', {\n        run(editor, sender) {\n            sender.set('active', 0);\n            // used a bootstrap modal\n            $('#source-code').modal('show');\n            $('#source-code').modal({\n                backdrop: 'static',\n                keyboard: false\n            })\n        }\n    });\nvar ViewCodeBtn = editor.Panels.getButton('options', 'export-template');\nViewCodeBtn.set('command', 'export-template');\n\ncodeViewer = editor && editor.CodeManager.getViewer('CodeMirror').clone();\n\ncodeViewer.set({\n    codeName: 'htmlmixed',\n    readOnly: 0,\n    theme: 'hopscotch',\n    autoBeautify: true,\n    autoCloseTags: true,\n    autoCloseBrackets: true,\n    styleActiveLine: true,\n    smartIndent: true,\n});\n\ncodeViewer.init(document.getElementById('code'));\nviewer = codeViewer.editor;\n\nfunction updatePreview() {\n    var iframe = $('iframe.gjs-frame'); // or some other selector to get the iframe\n\n    html_code = cmdm.get('gjs-get-inlined-html').run(editor)\n\n    if(viewer.getValue()){\n        html_code = viewer.getValue()\n    }\n\n    $('#wrapper', iframe.contents()).html('')\n    editor.DomComponents.getWrapper().set('content', '');\n    editor.setComponents(html_code);\n}\n\nvar delay;\n\nviewer.on(\"change\", function() {\n    clearTimeout(delay);\n    delay = setTimeout(updatePreview, 300);\n});\n\nviewer.refresh();\n\nsetTimeout(updatePreview, 300);\n\n```\nIt is running like a charm. This a HTML content, in my case a boostrap modal:\n```\n\n    $(document).ready(function() {\n        var commands = editor.Commands;\n        $(\"input[id^='choose']\").click(function() {\n            opts = {\n                id: $(this).attr(\"data-model-value\"),\n                editor: editor\n            }\n            commands.get('choose-layout').run(opts)\n        })\n    });\n\n\n    #basic,\n    #theme {\n        margin-top: 15px !important;\n    }\n\n    h5,\n    .h5 {\n        font-size: 14px;\n        padding-bottom: 10px;\n    }\n\n    #choose-layout-modal .tab-pane {\n        overflow-y: scroll !important;\n        overflow-x: hidden !important;\n        height: 340px;\n    }\n\n    #choose-layout-modal .tab-content {\n        padding-top: 0px;\n        overflow: hidden;\n    }\n\n    #choose-layout-modal .tab-content>.tab-pane {\n        margin-top: 20px;\n    }\n\n\n\n\n\u00d7\nVamos come\u00e7ar?\n\n\n\n\nSelecione um dos exemplos abaixo para come\u00e7ar o seu novo modelo de e-mail:\n\n\n\n\n\n\n\nModelos B\u00e1sicos\n\n\nTem\u00e1ticos\n\n\nModelos Salvos\n\n\n\n\n\n\n\n1 Coluna\n\n\n\n\n\n\n\n\n\n\n\n\n2 Colunas\n\n\n\n\n\n\n\n\n\n\n\n\n2 e 3 Colunas\n\n\n\n\n\n\n\n\n\n\n\n\n3 Colunas\n\n\n\n\n\n\n\n\n\n\n\n\n3 e 2 Colunas\n\n\n\n\n\n\n\n\n\n\n\n\nColuna Lateral \u00e0 Direita\n\n\n\n\n\n\n\n\n\n\n\n\nColuna Lateral \u00e0 Esquerda\n\n\n\n\n\n\n\n\n\n\n\n\nTexto e 3 Colunas\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nVou criar meu pr\u00f3prio modelo\n\n\n /.modal-content \n\n /.modal-dialog \n```. If it helps, I got the same error. I'm attaching a screenshot with the error\n\n. I have cheated on this way:\n```\nvar iframe = $('iframe.gjs-frame');\niframe.contents().find(\"head\").append($(''));\n$('#wrapper', iframe.contents()).css('padding-bottom','100px'); // set a backgroud-color for the body\n```\nFor me solved my problem.. Hi art! I'm having the same problem. This problem is very evident when we use ckeditor plugin. See my screen cast\n\n. Hi Art!\nI thought that my screencast could explain better than writing it. So the problem happens mainly with ckeditor plugin that addw div and span tags into the code. So, we save into a database with all stuffs right and when we recover the data from a database, or a session, for example, the grapesjs strips all code that has as div or span applied.\nI've tried to replace the content for p tag and table>tr>td, after that I've saved into the database and recovered from there and all things was normal. So there is a problem with grapesjs to deal with these div and span tags, mainly if we have ckeditor applied html tags on it.\nThanks for you time to attempt that!. Hey Art!\nAfter this last update, the problem was not perceived any more running grapejs with ckeditor. I've made some content with ckeditor and the divs were not stripped from the canvas. I did not tested with default rte.\nThanks\nRog\u00e9rio. My advice to you is install it as a NodeJS project and build the min.js from there. It is more safe and more productive.. Art, it is not working well :-(\n\n. Art,\nIt is uploading, but not placing the image inside the editor.\nRog\u00e9rio Carrasqueira\n2017-08-10 17:12 GMT-03:00 Artur Arseniev notifications@github.com:\n\nI don't get if it's uploading the image or not\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/198#issuecomment-321660511, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAF9BPbU1VIqS3q4ieqfEvM2p9UPJ6uFks5sW2QsgaJpZM4OnXf7\n.\n. Hey Art!\n\nI think that the correct dynamic is select a component and drag images to\nthere. If the user drop more than one image, the asset window can open and\nselect just one or place all images and the user can adjust using the\ncurrent flow. But I think that it is important to drag and place the images\nat canvas. It will be very appreciated.\nThanks!\nRog\u00e9rio Carrasqueira\n2017-08-11 8:53 GMT-03:00 Artur Arseniev notifications@github.com:\n\nActually, I've not implemented what you're asking. At the moment I just\nupload images dragged inside the editor and show them by opening the asset\nmanager (more options here https://github.com/artf/\ngrapesjs/blob/dev/src/asset_manager/config/config.js). I'll check if it's\npossible what you're asking.\nps. what do you expect if you drag multiple images?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/198#issuecomment-321793187, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAF9BPhTKw_O_ZymCvL5OaNBDhirSbCLks5sXECkgaJpZM4OnXf7\n.\n. @altalker I've suggest to place a screencast here showing what is happening. There is a program called Kap that helps a lot on trying to explain the problems.. I've already tried to do that, see what is happening\n\n\n. It will be great!. See my screencast\n\n. Ok, it follows\n\nBut I must confess we have to improve better this, because the user experience is not going well. I have some uses with not high acknowledge like us and are having some problems to deal with this use case.. Ok, how to set it? I think it not intuitive for final user. I think that is a problem, because this is inside the grapejs-preset-newsletter plugin, I have to change it and ask for a pull request. Have you got my point that means that it is not intuitive?\n. I would like to help you, how to join with you in this journey?\n. Art, sorry I did not understand why you closed this ticket. I think that this matter still remains.. Hi!\nArt I have the same issue, it follows my code:\n```\n\n{{pagina alternativa}}\n\n\n\n\n\n\n\n\n\n\n\n\nAo inv\u00e9s de passar\u00a0o filme,\n                                    voc\u00ea passou vergonha?\n\n\n\n\n\nN\u00e3o passe constrangimento durante suas apresenta\u00e7\u00f5es.\n\u00a0\n\nSomente a Projetor Ideal tem solu\u00e7\u00f5es exclusivas como\n                        o N\u00f4made Multim\u00eddia! \n\u00a0\n\n\u00a0\n\u00a0\n\n\n\n\n\n\n\n\u00a0\n\n\n\n\n\n\n\n\u00a0\n\n\n\n\n\u00a0  \n\n\nClique na foto ao lado para assistir a uma pequena demonstra\u00e7\u00e3o desta solu\u00e7\u00e3o.\n\n\n\n\nTranquilidade e efici\u00eancia\n                        nas suas aulas e apresenta\u00e7\u00f5es.\n\u00a0\n\u00a0\n\n\n\n\nA Projetor Ideal cuida dos equipamentos de \u00e1udio e v\u00eddeo de sua escola.\n\n\n\nL\u00e2mpadas,\nTelas de proje\u00e7\u00e3o,\n                                    Caixas ac\u00fasticas,\nProjetores,\nTodos os tipos\n                                    de cabos, etc.\n\n\n\n\n\u00a0\n\n\n\n\n\nInstala\u00e7\u00f5es e manuten\u00e7\u00f5es:\nSonoriza\u00e7\u00e3o de p\u00e1tios,\n                                    salas de aulas,\nsalas de reuni\u00f5es,\nsalas de treinamento,\naudit\u00f3rios, etc.\n\n\n\n\n\n\u00a0\nConsulte-nos em seu pr\u00f3ximo projeto!\n\u00a0\nAbra\u00e7os,\n\u00a0\nPaulo S\u00e9rgio C. Santos\nDiretor\n(11) 2729-7053\n(11) 97247-6806\u00a0 WhatsApp\n\u00a0\n\n                        paulo@projetorideal.com.br\n\u00a0\n\u00a0\nwww.projetorideal.com.br\n                        \u00a0\n\n\n\n\n\n\n\n\n\n\n\u00a0\n\n\n\n\n\u00a0\n\n\n\n{{descadastro}}\n\n```\nIf you place it on other editor like CKEditor there is no problem. I've done this screencast the shows what is happening https://imgur.com/a/QCeNv\n. ",
    "carloswbarros": "styleManager sectors and assetManager modalTitle are not changing the text.. ",
    "carboni-rob": "Some strings, especially in the grapes-preset-newsletter, are being overwritten by an editor.on(\"load\") method. I would recommend placing your custom strings in the same method.. ",
    "Covicake": "Before anything, this is a great library!\nI'm only struggling with the internationalization. I can't find what do I need to override to translate the 'Margin top', 'Margin bottom' (...) at Styles manager.\nI realize this is a closed issue, but I don't know where else to post this and I don't think this deserves a new thread.\nThanks in advance. ",
    "piyalmaduranga": "HI @artf \nthank you so much , now working for me . Thank you so much.. Thanks artf..It works fine... Thanks lot. Hi @artf \nI tried load the script inside editor,  \nblockManager.add('advert-id', {\n        label: 'advert',\n        content: '<div id=\"advertDiv\"><script src =\"https://www.sample.net/invocationcode\"></div>',\n    });\nWhen I add component into template.It is not generate script tag.I want to get work script that I inserted.\nblock content is : <div id=\"advertDiv\"><script src =\"https://www.sample.net/invocationcode\"></div>\nIt included script tag. but result not show script tag statement. Only show  <div id =\"advertDiv\"></div>\nmissing my external script \nCan I add external javascript block into template? \n. HI @artf \ni added block using block manager it was like block content  then i save my edited template and i tried edit this template again , in this time run script that i added it show image with  tag and ",
    "Alcuin-van-Zijl": "Hi,\nThis is quite easy to reproduce. Try loading this html:\n<div id=\"c818\" style=\"box-sizing: border-box; padding: 10px;\"><span style=\"box-sizing: border-box; font-size: 28px;\">Insert your text here</span></div>\nThe result should be text with font-size 28. This element is removed though.\nBest regards,. Hi, \nThanks for your reply and the great work you do here.\nI came to the conclusion later that this was an issue that played in an older version.\nPlease ignore my post. I should have removed it.\nBest regards!. ",
    "devhameed": "can you send me complete grapesjs.min.js file and php files please?. ",
    "3ch3r46": "My html code look like your index.html\nbut, js file is rendered using node.. Yes, that is solved. thanks.. ",
    "andrepeitz": "I would need the feature to define a new complex Component with custom behavior too and would really appreciate the implementation.. I would like to use it for formulars where I can send the data via AJAX request to my backend.. Looks very good from my side! Thank you very much, I really appreciate that!. ",
    "GeraldAburto": "Which are the properties available for the content property of the block?\ncontent: { ??? }. ",
    "igor-bel": "I use locally the latest dev version of the sources and demo page that I saved locally. Please have a look: https://cl.ly/3I1X123n0x2N This shows that there is no dropping line when I am trying dragging.. I saved the current demo page, added grapes.js that was compiled from the latest sources and it seems resolved the issue. I am not sure when I saved the previous UI demo. Now even UI looks differently. Probably I had outdated UI part.. ",
    "asimakos": "Thanks for your reply! That was for me an easy scenario to build a PHP CMS template, but i would like to ask your help for a more responsive PHP CMS template (difficult scenario).\nAt the beginning of the template before html tag, i would like to include the following PHP snippet:\n\nAfterwards via an installed XML file: \n\ni define the following auxilliary PHP class to  get value parameters for XML file:\n\nIn the above PHP class, i define some dynamic css classes and finally extract them to the PHP CMS template:\n\nIs that scenario possible via Grapesjs, i could email you the PHP CMS template, if there is any problem!\nRegards. I think a json file would be a far better option instead of a table DB by using  heavy SQL code that might not work.\nThanks a lot!. ",
    "nhinq": "We can write to a new for template like:\nindex.html, about-us.html, contact.html. Ok Thank you - will try it. ",
    "NJseo": "It needs to use DOM ready before executing the javascript\n. ",
    "eckyerdhyka": "thanks @artf , how open modal asset manager without drag and drop block manager ? . @artf thanks a lot. ",
    "witzig": "That's perfect, thanks!\nAlso, I should have seen that. My apologies.\n. ",
    "sirsmac": "Please go thru the demo.js file in detail. Scroll to the bottom and modify the following code to add new desired option in top header bar.\n,{\n      id: 'clean-all',\n      className: 'fa fa-trash icon-blank',\n      command:  function(editor, sender) {\n        if(sender) sender.set('active',false);\n        if(confirm('Are you sure to clean the canvas?')){\n          var comps = editor.DomComponents.clear();\n          localStorage.setItem('gjs-css', '');\n          localStorage.setItem('gjs-html', '');\n        }\n      },\n      attributes: { title: 'Empty canvas' }\n    }. ",
    "desilvaNSP": "I have overide grapejs.init in my code.not in the demo.js\n```\nvar editor = grapesjs.init({\n        container: '#gjs',\n        fromElement: true,\n        plugins: ['gjs-plugin-export'],\n        pluginsOpts: {\n            'gjs-plugin-export': {\n                btnLabel: 'EXPORT',\n                preHtml: '<!doctype><html><head><link rel=\"stylesheet\" href=\"./css/style.css\"></head><body>'\n            }\n        }\n    });\nHow I add new element into this.\n```. ",
    "cloudseasail": "Hi, add more comments:\nTest1.1: remove some text when still focosed on the text component:\nundo button didnot work\nCTRL+Z works,\nTest2.1: remove a box using the \"delete icon\"\nundo button works\nCTRL+Z works. ",
    "vankyy26": "I've seen some issues with it too. After dragging some text blocks and editing the text when I press ctrl+z nothing happened, then I used the undo button and half of the blocks disappeared. Then I pressed the Redo button and they were back but the text was missing. Works even stranger with imported HTML. I've added custom email template inside, did some corrections and when I used the undo then redo the editor wasn't able to redo the last change - some content was lost. I'm using the newsletter preset. Plus there is another issue related to it. As it is newsletter the whole styling should be inlined but still when I call getHtml() I receive HTML with class attributes. My workaround was to get the CSS and use PreMailer to inline the styles programmatically. . In my case the % didn't worked that's why i used view height. May help someone.\nvar editor  = grapesjs.init({\n  ...\n  height: '100vh',\n}). I think same thing happened to me when i left the root element without any childs while using fromElement: true. Empty element inside makes it work.. Oo works like a charm. Thanks man, just made my day! I will implement it right now. Didn't know how to map the internal backbone events but now I know. . Well, the tags are replaced in a service... that's not the case. But I want to place that tag inside the editor text block at my current selection. Simply I have modal window with all tags, when I click on a tag must be appended to the text I'm editing at the moment - on the current cursor position. Will attach snipping, hope it will help you understand what I'm talking about. \n\n. ",
    "narraressan": "Hi, thanks for the information. This is exactly what I wanted, to change the type and id of the input elements...\nBut how do I activate the view for the trait in the editor, I tried to copy and paste the example but I can't find the way to activate the trails editor, I am thinking it should be something similar with opening the block manager in the panel \npanels: { \n  ...\n  defaults: [{\n    id: 'open-block-manager',\n    className: 'fa fa-edit',\n    command: 'open-blocks',\n    active: true\n  }]\n  ...\n}\nbut how do i do this for the traits? thank you.... Well, I think I found a work around, I am not sure if it works 100% \nI added  to editor using setComponent.... Oke, Hi! So I tried doing it like multiple=\"multiple\" instead of just multiple and it worked... ^_^ Thanks!. ",
    "NicholasGati": "Hi @artf, you're currently helping me with another issue but since I found this thread and I have a question that is in regards to traits and their relationship to components, I figured that this thread would be the more appropriate place to ask. Is it possible for a trait of \"Component A\" to change, update or affect the rendered canvas element for \"Component B\"? To explain it more, I have a list, which we'll call \"Component A\" and a list item, \"Component B\". When adding \"Component B\" to \"Component A\", I want to append a text input field in the component settings for \"Component A\" so that I can write into that text input field and have it update \"Component B\" text in the rendered list item inside of the canvas. So, I don't want to have the input field in the component settings of \"Component B\", even though it's updating that component. I want it in the component settings of \"Component A\". Is this possible? (Apologies if my explanation and question are not clear.). Hey @artf, Ok, I see. I'll have to implement this as a custom thing then. Thanks for letting me know. . Hey @artf, thanks for replying. I removed data-gjs-stylable=\"false\" and it still does not work. I get the same error: 'Target collection not found, Target is not droppable...'. . Actually, so far I have not tried that. I'll give that a shot and see if I have any progress. In order to get around the issue in the meantime, I have been implementing a workaround way to produce a similar result. I added a component setting in the right-side menu which increments the list item on the canvas like so:\n```\ncomps.addType('multiple-choice', {\n      model: defaultModel.extend(\n      {\n          defaults: Object.assign({}, defaultModel.prototype.defaults, {\n            traits: [\n              {\n                changeProp: true,\n                type: 'select',\n                label: 'Options',\n                name: 'options',\n                options: [\n                  {value: '0', name: '0'},\n                  {value: '1', name: '1'},\n                  {value: '2', name: '2'},\n                  {value: '3', name: '3'},\n                  {value: '4', name: '4'},\n                ]\n              }\n            ],\n          }),\n          init: function() {\n            this.listenTo(this, 'change:options', this.addOption)\n          },\n          addOption: function(e) {\n            var value = e.changed.options;\n            // console.log(value);\n            var id = this.getId();\n            var componentList = editor.getComponents();\n            var models = componentList.models;\n            var c = editor.getSelected();\n            // c.collection.models.forEach(function(m) {\n            //   //TODO\n            // });\n        c.set('content', c.get('content') + functionThatReturnsAListItem());\n        c.view.render();\n      }\n  },\n  {\n    isComponent: function(el) {\n      if (el.tagName == 'FORM' && el.className == 'multiple-choice-text-form') {\n        console.log('You betcha!');\n        return {type: 'multiple-choice'};\n      }\n    },\n  }),\n  view: defaultType.view.extend({\n    render: function() {\n      defaultType.view.prototype.render.apply(this, arguments);\n      return this;\n    },\n  })\n});\n\n```. Hi Artur, \nIt turns out that I was tasked with working on other parts of the application soon after posting this issue so I haven\u2019t been keeping up with the progress on the editor which we use grapesjs for. However, before moving on to other features of our app, I was able to append list items another way but I had to customize a bit. \nNicholas Gati\n\nOn Nov 22, 2017, at 5:49 PM, Artur Arseniev notifications@github.com wrote:\nHi @NicholasGati can I ask you to check if the latest release solves the issue?\nthk\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hey Artur. Yes, it's inside of a plugin.. Hmm, this is interesting. In JsFiddle did you try this with the latest version of GrapesJS? I think my issue might be pertaining to the fact that I am using an older version of GrapesJS. I will let you know if switching the version helps.. Hey Artur. \n\nI switched to the newest version of GrapesJS and it actually broke everything. I am not sure what to do about isComponent if we can't use the newest version. There is too much code that we have written and the library does not seem backwards compatible for us to switch. It seems that certain things are no longer in the newer versions that were in the older ones and there are no explanations as to what the replacement of each removed thing is. Maybe there is a workaround to fix isComponent? What was changed from older versions to make it so that there are no longer issues with isComponent? \nThanks!. Just wondering, does this.get(...) return an array? If not, maybe you can try this:\nconst c = this.get(\"classes\");\nArray.from(c).forEach(e => t.push(e.get(\"name\")));\nNot sure if that's what the issue is but I figured I'd chime in and try to help :) . ",
    "allmonday": "Maybe you can append it in head of iframe.\njs\nvar iframe = editor.Canvas.getFrameEl();\niframe.contentDocument.head.appendChild(/* your link tag here */);. hi @artf , I've tried editor.getComponents();, but has a problem: \nfirst version, set autorender: 0 and add new script tag, then call render(), It does not work.\n``javascript\n// app.js\nvar editor = grapesjs.init({\n    allowScripts: 1,\n    autorender: 0,\n    container : '#gjs',\n    components:Hello__ world!`,\n    style: '.txt-red{color: red;}',\n});\nvar dc = editor.getComponents();\ndc.add('');\neditor.render();\nsecond version, It works and insert the script.javascript\nvar editor = grapesjs.init({\n    allowScripts: 1,\n    // autorender: 0,\n    container : '#gjs',\n    components: <div class=\"txt-red\">Hello__ world!</div>,\n    style: '.txt-red{color: red;}',\n});\nvar dc = editor.getComponents();\ndc.add('');\n// editor.render();\n```\nbut here comes a problem, if I edit the page, after save, then reload the page (reading it from localstorage),  the jquery script will be inserted twice.\nfirst time:  (just ignore the first jquery it's on the page itself, not iframe)\n\nedit something and reload:\n\n. I understand that insert a list of script will cause the async loading which will cause dependency error, and I'll explain why I make these changes:\nI need to add some customrized blocks which  has snippets of script,\n(and make it a reference like component, which means if I change the template and script, all the page using it will be changed)\neg:\njavascript\n// blockManager.blocks:\n    {\n            id: 'my-first-block',\n            label: 'leadform',\n            attributes: {class:'fa fa-link'},\n            content: `\n            <div class=\"row\">\n                <div id=\"form-demo\" ng-cloak class=\"my-block\">\n                    <leadform></leadform>   <!-- wrap it as a element tag -->\n                </div>\n            </div>\n            <script>\n                var s = document.createElement(\"script\");\n                s.type = \"text/javascript\";\n                s.src = \"/javascripts/lead.js\";  // read it from server\n                document.body.appendChild(s);\n            </script>\n}\njavascript\n// lead.js\nangular.module(\"app\", [])\n    .component(\"leadform\", {\n        templateUrl: \"/api/leadtemplate/\",    // read it from server \n        controller: function LeadFormController($http, $scope) {\n        // .. some code here\n    });\nangular.bootstrap(document.getElementById(\"form-demo\"), [\"app\"]);\nthen I can manage all the blocks.\nIn production, I can prepare all the library at head of template and insert gjs-html content (and css ..) into it, then render.\nbut in grapesjs editor, inserting necessary library is not that easy. using getComponent, add is not that fit to it because of the order.\nThat's why I want to insert scripts into iframe's head, I wanna a clear order: loading necessary scripts, then renderBody. (create iframe -> insert scripts -> renderBody)\nbtw, the defect is also obvious, user need to add the scripts at their own template (but maintaining script and css tag in gjs-html's edit and save cycle is kind of complicated).\n. yes, in my scenario the vendor scripts may be also required by other blocks, I used to try to check whether the vendor is existed in every script of block, if not, then append it, but this makes the blocks keeping too much business-unrelated code.\n.  Yes, I've considered this solution before, I wanna it be easy to use cause the content type is also related to data (stringify or not) , there will be another parameter about how to deal with the data\nIt may looks less flexible though, but much easy to use and meet the major requirement  :). \nos: windows 7/windows 10\nchrome version: 57.0.2987.110\nit's caused by color: rgba(255, 255, 255, .7) on option element.\nI'll try to fix it.\nBTW, it works fine in mac.\n. ",
    "prtjack": "hey! @artf \nHow can i save an existing template with its own external CSS properties? I tried the both options: \n1. By placing entire HTML and CSS under the  id=\"gjs\".\n2. By using editor.setComponents() i can achieve my purpose but its very complicated to minify the whole CSS and place under editor.setStyle().\nSo what is the best option to export  an existing template with it's CSS.\n. Hey! @artf \nSorry for this  extremely late reply. I wanted to load my existing templates dynamically. So, what is the best workaround for me? . hey! @artf ,\nI am facing the same problem \"Uncaught ReferenceError: CKEDITOR is not defined at grapesjs-plugin-ckeditor.min.js:2\" . I wont get your answer in this  \"CKEditor is not included in the library\".\nSorry if i ask a silly one!. ",
    "octavebenil": "Hey,\nyou can use canvas property like this : \n var editor = grapesjs.init({\n    ......\n    canvas: {\n              scripts: ['https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js'],\n              styles: ['https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css']\n        }\n}). ",
    "aloksharma1": "ok got it; but i tried the test and src folders they are showing js errors, i need a starting point . i already started on a similar tool to build for our cms but i found yours it looks more complete and we want to integrated it in our system.\n\nas you can see there are errors in here , i will be looking into your given links but please update a boilerplate to start with minimal code from our side, as you already have this set on grapejs site.\nthanks\n. are you on gitter, also how about adding bootstrap support in the roadmap?. i mean adding bootstrap components in drag-drop builder, for easy build up of websites.. ",
    "johnjunpeng": "So after building/authoring everything, what's the standard way to retrieve the final HTML output which was hosted in an iframe on your demo site? Thanks!. Thank you @artf !\nObviously there is no need for GrapeJS to output any JavaScript code since it only aims at helping build HTML template for CMS. But I just wonder how easy it would be to incorporate custom-built web components (standard based). Does GrapeJS team envision to expand its framework to support web components  by default? Thanks again.. ",
    "jakzal": "That's brilliant, thanks! Let me know if I could do anything to help please.. I quickly gave it a go and unfortunately the problem is still there. What's worse is that components and related stylesheets disappear after few page refreshes. I've tried two approaches - loading html/css vs loading components/styles. Behaves really weird in both cases.\n\n\n. The problem seems to be fixed for local storage.\nI first created the document:\n\nThen I refreshed the page and noticed it's shown as expected. Multiple page refreshes don't duplicate CSS definitions anymore:\n\nCreating a new document when protectedCss: '' doesn't work as it's not possible to drop any component to canvas. \nCreating a new document when protectedCss is set to defaults, and then refreshing the page when it's set to an empty value, results in a messed layout (protectedCss definitions don't seem to be saved with the document):\n\nI'll follow up with remote storage.\n. I can't seem to get the remote storage to work again. I'm getting an empty document after refreshing. Will try tomorrow again.. I have recently updated grapesjs and the problem is no longer there.\nThank you for all your hard work. The project is awesome!. ",
    "givanz": "Hi\nCongratulations, GrapeJs looks awesome, the most feature rich and cleanly coded open source online html editor by far.\nThere are some features that might make it even better in my option, here are some of my proposals.\nCan the components tab be changed to show as a panel on the left? Most editors have properties and blocks shown at the same time for easier editing (jetstrap, http://ionic.io/products/creator etc).\nWhen I click on a block, for example on map block (after adding it), I must click settings to see the block settings and to configure the map, I think that it would be easier for blocks to show settings by default or even better have only one tab for both settings and style and show settings first.\nCan the interface colors/theme be easily changed by editting a scss/less file or something similar? to have different themes like one with white background.\nIs it possible to toggle the elements grids (dashed boxes) by config or button? It looks cleaner without them and if it used mainly for editing editing blocks and not html elements (regular users without css/html knowledge) it might not be very useful.\nIs it possible to have an option to limit highlighting/editing to only some elements (only blocks without html elements for example) on the page? I plan to use grapejs in an open source cms I'm developing and this option is helpful to limit editing only to blocks for users that are not familiar with html/css.\nIs there any documentation/examples on how to add new blocks or change settings?\nThanks.. ",
    "meteorsnows": "For Absolute/Designer mode, There is feature like Smart Guide Line / Snapping to Object, which Simex also not having this feature.\nOne picture worth thousand word, that align feature most of us used in Microsoft Office to align object:\nhttps://www.edrawsoft.com/flowchart.php\nhttp://www.guidingtech.com/52926/smart-guide-optimization-powerpoint/\n. ",
    "ShinJii89": "Hi,\nAre you planning add possibility to paste for example in import javascript code? Because now when I import some page with html, css & javascript, your builder cut off all JS code :D . ",
    "integrateddigital": "Hi @artf and everyone, \nI would be happy to contribute with a plugin that offers the ability to use Google's File and Image picker instead of the filestack one ( mainly because of the cost of FileStack .. ) ... I am currently coding it anyways, and if there's interest then I would be happy to place it in git.. txs again for the great library.. thanks @lexoyo , does unifile allow image search by keyword ? that's the actual specific functionality that I want to replicate ... good timing as I've just realized the google image picker might not be ideal as it does bring ads; If I can type a keyword, get back images then it's good, suggestions welcome... . It's very handy, the gjs-plugin-filestack does have that, but it is too costly per month,.... i'm playing with a couple of other pickers right now, ...  engagement goes very high when you allow the user to fetch images without having to switch tabs or windows... let me know and I will let you know .. :-). Hi Artur ( @artf ), \nThanks for the detailed explanation !\n1.Perfect, thanks ! \n2. I've attached a picture of the button and the code ... sorry for not explaining well, the command name is 'create-comp' ( legend Create Element ) ... I tried removing the hello world, but nothing happens when button clicked, not sure how to trigger the actual routine .... any help would be great. \n3. Oh, ok, Thanks ! I will try to create a new plugin, .. if I succeed, I will share :-) \nAlso, I meant to ask, does the builder work on any mobile device ? ( I've tried Android, iOS.. ). \nagain, thanks for your kind answers, \nbest,\ns\n\n. Thanks @artf, that worked ( I had that, but I had a command.add later on that was preventing...) \nAs per mobile, if one were to work on it, where would one start ? :-)\n. Hi Art, Yes I would. I will create it and post back here.... txs.s\nOn 2018-01-03 22:46, Artur Arseniev wrote:\n\nHi @integrateddigital [1] are you able to provide a live demo of your\ncase because honestly, I didn't get how exactly properties are\noverridden\n--\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub [2], or mute the\nthread [3].\n*\nLinks:\n[1] https://github.com/integrateddigital\n[2] https://github.com/artf/grapesjs/issues/695#issuecomment-355149282\n[3]\nhttps://github.com/notifications/unsubscribe-auth/ARmVIDHA-mpw8JdApmc5Fz0zjPh9M-_fks5tHAMqgaJpZM4RPbq7\n. \n",
    "JbIPS": "Hello! I've been invoked here to talk about unifile. To be clear, unifile is a nodejs library that replicate the filesystem module but for cloud storage (GitHub, Dropbox, WebDAV, FTP SFTP,...). It let you manipulate files so you could use it to search images but you'll have to implement that yourself (I'd be glad to help). . ",
    "vinzee": "Hello, I really appreciate the work you guys are doing and the fact that such a library is open source. \nI would be happy to contribute to as I have worked on a product very similar to this one created using backboneJS & marionetteJS along with Rails on the backend. We had a async save, a peer-to-peer sync and a template manager in place along with all the stuff currently present here.\nIs there a gitter / slack channel wherein we can discuss ?. ",
    "Geczy": "Any updates on the jQuery deprecation? Wanting to use GrapesJS in a ReactJS application, and it doesn't make sense to load jQuery . @artf my company would like to offer a bounty for removal of jQuery, and are asking for an estimate on this. What do you think? . @artf it is still important to us to remove jQuery, will you accept a bounty to do it sooner? . And if you don't have selected component context, here's how I get all values of a type:\njs\nwindow.grapesjs.editors[0]\n  .getComponents()\n  .models.filter(_ => _.attributes.type === 'facebook-messenger')\n  .forEach(_ => {\n    console.log(\n      _.get('traits')\n        .where({\n          name: 'campaign',\n        })[0]\n        .get('value')\n    )\n  }). Any way to remove block by category? . @artf What does the isComponent look like? Do I extend default type? \n```js\nblockManager.add('placehole', {\n  label: 'Orders Placeholder',\n  category: 'Snippets',\n  content: 'This is a simple block',\n})\nconst defaultType = comps.getType('placehole')\ncomps.addType('placehole', {\n  model: defaultType.model.extend({\n    toHTML() {\n      return '{var-to-replace}'\n    },\n  }),\n  view: defaultType.view.extend({\n    render(...args) {\n      this.el.innerHTML = 'Image placeholder goes here' // <- Doesn't affect the final HTML code\n      return this\n    },\n  }),\n})\n```\nIs this correct? \nHow can I turn this into a block? \nNew to GrapesJS, trying to read the Wiki but still a little confusing. Figured it out, for anyone else wondering it's like this:\n```js\nblockManager.add('orderSnippet', {\n  label: 'Orders',\n  category: 'Snippets',\n  content: { type: 'orderSnippet' },\n})\nconst defaultType = comps.getType('default')\ncomps.addType('orderSnippet', {\n  model: defaultType.model.extend({\n    toHTML() {\n      return '{var-to-replace}'\n    },\n  }),\n  view: defaultType.view.extend({\n    render(...args) {\n      defaultType.view.prototype.render.apply(this, args)\n      this.el.innerHTML = 'Image placeholder goes here' // <- Doesn't affect the final HTML code\n      return this\n    },\n  }),\n})\n``. So that works, but when I refresh it shows the{var-to-replace}`\nHow can I make it show the placeholder again on refresh? . Tried adding isComponent which is supposed to fix that I think, but that doesn't work \n```js\nconst editor = window.grapesjs.init({\n  container: '#gjs',\n  plugins: ['gjs-preset-newsletter', 'gjs-blocks-basic'],\n})\neditor.BlockManager.add('orderSnippet', {\n  label: 'Order Items',\n  category: 'Snippets',\n  content: { type: 'orderSnippet' },\n})\nconst defaultType = editor.DomComponents.getType('default')\neditor.DomComponents.addType('orderSnippet', {\n  model: defaultType.model.extend(\n    {\n      toHTML() {\n        return '{var-to-replace}'\n      },\n    },\n    {\n      isComponent(el) {\n        return { type: 'orderSnippet' }\n      },\n    }\n  ),\n  view: defaultType.view.extend({\n    render(...args) {\n      defaultType.view.prototype.render.apply(this, args)\n      this.el.innerHTML = placeholderImage('Order Items')\n      return this\n    },\n  }),\n})\n```\nCan you see the issue? Even tried:\njs\n{\n  isComponent(el) {\n    return { type: 'orderSnippet' }\n  },\n}\n. @artf \nRefresh:\n\nWhat I want it to display on refresh, which it isn't currently:\n\n. Solved via https://github.com/artf/grapesjs/issues/43. I was using that just to debug, I have it changed to https://github.com/artf/grapesjs/issues/260#issue-253742728\njs\n              isComponent(el) {\n                if (\n                  el &&\n                  typeof el === 'object' &&\n                  el.getAttribute &&\n                  el.hasAttribute('data-type') &&\n                  el.getAttribute('data-type') === camelCase(a.name)\n                ) {\n                  return { type: camelCase(a.name) }\n                }\n. Using v0.9.32 via https://unpkg.com/grapesjs\nNot sure what you mean, it happens when I refresh the page and the content is loaded from localstorage via your Storage api \nNotice I disabled autorender so it wouldn't be on init, it's on render() . If I add  disable storageManager autoload and add editor.setComponents(localStorage.getItem('gjs-html')) to the bottom after render(), it is still the same issue\nSo what is the correct way to store / load templates that have traits like this?. Added those flags but now nothing is saving to storage. I drag a new block and all it does is save a div\n\n. Try it out here\nhttps://codesandbox.io/s/vnkxpy4pzl. That fixes it \ud83d\udc4d . So the key is to add pointer-events: none...Unsure still why that fixes it, but it's working for now, thanks!. For anyone else that doesn't want to go through an hour of debugging, here's how to override variables in grapesjs:\n```scss\n$fontPath: '~grapesjs/src/styles/fonts';\n$fa-font-path: '~grapesjs/src/styles/fonts';\n@import '~grapesjs/src/styles/scss/main';\n```\nTrick was to include fa-font-path as well . @artf any word? \ud83e\udd47 . Gave it a test and it seems to be working in our environment! Great job. @artf grapesjs still bundling jquery https://github.com/artf/grapesjs/blob/dev/package.json#L20. Looks like it comes from this commit:\nhttps://github.com/artf/grapesjs/commit/d6ae05ea6fd7b0ff365877f2b009fac3346ebd14#diff-f7273f6ad6e02b491c339656bd6fc2ed\nTest involved:\nhttps://github.com/artf/grapesjs/blob/d02234cb555994456eeaf75b39680e2a79222e72/test/specs/parser/model/ParserHtml.js#L282\nIs there maybe a library we can use instead of a custom html parser?. There's been a bounty posted to get this issue resolved . I see you kind of have this on the roadmap https://github.com/artf/grapesjs/issues/74 to replace with svg's. +1 on the propagation idea . Thanks sorry . Here's how I remove buttons\njs\neditor.Panels.getButton('views', 'open-sm').set('active', false). This is the HTML that I am using https://pastebin.com/wNseLeqh is it because text is not wrapped in <p> ?. Ah, setting it after render works great. Thanks. You can reproduce on http://grapesjs.com/demo-newsletter-editor.html\nMy issue is described here https://github.com/artf/grapesjs/issues/341 \nhttps://github.com/artf/grapesjs/blob/dev/src/parser/model/ParserHtml.js#L145. In my case it is preferable to not strip the <span> and leave it in the HTML. Why was it removed? \nBe careful of things like:\nhtml\n<p style=\"font-size:12px;\"><span style=\"font-size:50px;\">hi</span> hey</p> \nWhat should the expected output be after the parser? \nHi should be 50px, hey should be 12px. This is why the html parser should not remove spans. @JuanTincho yes please post the plugin . Good thinking, thanks ! Overwrote it in .init before render. No, it's on the roadmap though https://github.com/artf/grapesjs/issues/74\n\nAbsolute/Designer mode With this mode enabled the user should be able to move components \"freely\" inside the canvas (relying on absolute positioning)\n. I use newsletter-plugin and const html = window.grapesjs.editors[0].runCommand('gjs-get-inlined-html'). Include the newsletter plugin . Don't think gjs- prefixed classes will return . You can use the sandbox demo here https://github.com/artf/grapesjs/issues/559\n\nIt lets you modify traits and updates the dom. Should get you started . Makes sense now, thanks. I want to customize the appearance of the form fields in the settings panel of a component, by using existing classes in bootstrap or another css framework I use. \nSo I want to replace  gjs-field with form-group . Likewise I need to replace gjs-input-holder with my own class, form-control (bootstrap) . This is a very common UX anywhere you go\nhttps://w3c.github.io/html/editing.html#drag-and-drop\n\nHowever it is implemented, drag-and-drop operations must have a starting point (e.g., where the mouse was clicked, or the start of the selection or element that was selected for the drag), may have any number of intermediate steps (elements that the mouse moves over during a drag, or elements that the user picks as possible drop points as he cycles through possibilities), and must either have an end point (the element above which the mouse button was released, or the element that was finally selected), or be canceled. The end point must be the last element selected as a possible drop point before the drop occurs (so if the operation is not canceled, there must be at least one element in the middle step).\n\nhttps://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations\n\nWhen the user releases the mouse, the drag and drop operation ends. If the mouse was released over an element that is a valid drop target, that is, one that cancelled the last dragenter or dragover event, and then the drop will be successful, and a drop event will fire at the target. Otherwise, the drag operation is cancelled, and no drop event is fired.\n\nHere's some examples I found\n\n\n\n. Great!!. PS, FA5 uses SVGs ;) . Can this be re-opened since FA5 uses svgs? Really need this . https://fontawesome.com/how-to-use/upgrading-from-4. Just a note that the newsletter plugin will need upgrading too to fa5. Still very important, any update? . Works great, thanks . ",
    "foaadnami": "Awesome work! Suggestion to add a changelog. Looked around and couldn't find one (?). This is perfect. Sorry missed it!\nOn Sep 13, 2017 12:04 AM, \"Artur Arseniev\" notifications@github.com wrote:\n\nThank you @foaadnami https://github.com/foaadnami for the suggestion\nbut I already rely on Releases https://github.com/artf/grapesjs/releases\nto keep track of changes\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/74#issuecomment-328968682, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AQWpzPFwY9aNKik7EYRAV2m-jmbfwixvks5shuPKgaJpZM4NBANr\n.\n. \n",
    "JFOC": "@rgcarrasqueira Hi, would you mine to share the id.json for layout of template gallery ?\nand at here:\n$('#choose-layout-modal').modal('show').load(\"{% url email-template-layout-list %}\");\nwhat this should ?\nthank you. ",
    "Deepak813": "Did we get the Custom HTML type in video traits so that user can able to enter the iframe code and it will embed in the html.\nAs,all the famous editor have this feature which is common one in video category.\nIs this video traits is in roadmap.\nAs we have created this new component but that conflicts with the existing video traits.. Did we get this component in next version in video type traits.. Hi @ryandeba,\nThanks for the message.\nThe exact scenario in Custom HTML type in video is very simple.If user enter any non-iframe HTML then we will display the error message just as shown in vimeo video type or if user enter any iframe HTML that doesn't point to a video (), then whatever iframe src contains it will display that irrespective of valid or non valid src. If its valid src then video is displayed or if its not valid then it displays blank iframe.\nAlso, as we are providing full flexibility to user in template builder then what user enter its his or her choose to do that.\nIf you want further assistant in that then i'll show you the example where every big template builder contains this feature in video element. \n. Hi @ryandeba,\nThanks for the message.\nYes sure,i'll show the example of Custom HTML embed video type in template builder.. Hi @artf,\nThanks for the message.\nYes sure,i'll show the example of Custom HTML embed video type in template builder.Just give me few time to provide you the exact video.we have multiple template builder that contain Custom HTML Video type.. Hi @ateshuseyin,\nThanks for the message.\nI don't know how to create our own storage.Please elaborate how to do that as i am in the middle of the this tasks and not able to go further.\neditor.replace(); refresh the complete html of browser due to that video element is not working proparly as all the html of video is removed.\nPlease help us to resolve this. . Hi @artf,\nThanks for the message.\nActually, we have certain customisation in grapes.min.js file due to which we are not in that position to update to the latest version.so please kindly provide solution for changes done in Navbar plugin in grapes.min.js.\nLook forward for the prompt reply.. Hi @artf,\nStill we are not able to get the navbar changes in grapes.min.js file.please provide this information from your development team as we are stuck in the middle of tasks and not able to continue further.\nLook forward for positive response.\n. Hi @ryandeba,\nThanks for the message.\nI have already used this but its showing following error:\n----------Uncaught TypeError: editor.getSelected(...).setClass is not a function------------------\nPlease let us know how to remove this error to resolve the issue.\nThanks. Hi @artf ,\nThanks for the message.\nPlease let us know how we can set the dynamic Timezone so that user select timezone and time will be automatically changed according to selected timezone.\nAlso, timezone category are not showing in Countdown options.. Hi @artf, \nWith this reference link, i am not able to display the traits settings in style manager along with css settings.\nPlease help us to resolve this.. Hi @ryandeba,\nThanks for the message,\nPlease find below the attached video link of reproducing the bug:\nUrl 1 : https://vimeo.com/251763933\nUrl 2: https://vimeo.com/251784423\nThis error exists in using color picker with any element in the website.\nI have tested this issue in chrome as well as mozilla browser.\n. Hi @artf, @ryandeba,\nThanks for the message.\nYes,right drag event breaks when colorpicker is selected.\nIs this issue in correction process or resolved soon?. Hi @artf,\nThanks for the message.\nWe also try to look into this.. Hi @JulyanoF,\nThanks for the message,\nI have used this code when element is dragged but display following error:\nUncaught TypeError: Cannot read property 'set' of null.\nAs i want to update the href of anchor tag inside the div when element is dragged.. Hi @JulyanoF,\nThanks for the message,\nYes, i want to update the anchor when is draggin/dropping.. Hi @JulyanoF,\nThanks for the message,\nBut this code is not working when element is dragged not updating the html as well.. Yes, we need to change the anchor href value dynamically when element is dragged. . Thanks very much for your instant Reply. \nBut I have other scenario,  let me explain. \nI have multiple divs in a block, I have already done this but this is only updating the parent Div, i also want to update the href of Child Divs. I have three anchor tags in a block. And I want to update the href attribute of all.\n. Hi @artf,\nThanks for the message,\nProvided code is correct and update all the href when element is dragged but i want to update all three anchor tag with different href when element is dragged.. Hi @artf,\nThanks for the message,\nIf i know then i definitely do this. Please let us know how we can find class and update its attributes in html.. Hello @artf,\nHow we can get the particular script based on selected element as provided code \"editor.getJs()\" provides all the script contained in the HTML page.\nI want to get all the selected element script like when we click on section then all the scripts contained in that section need to fetch.\nThanks in advance.. Hi artf,\nPlease find the below video reflecting countdown issue:\nhttps://vimeo.com/266054022\nPlease review it once and let me know if need further assistance in countdown issue understanding.. Hi artf,\nPlease find another example of video reflecting countdown issue:\nhttps://vimeo.com/266063785\nPlease review it once and let me know if need further assistance in countdown issue understanding.. Hi artf,\nThanks for the message and provided code is working fine but i am getting below error:\nUncaught TypeError: Cannot read property 'indexOf' of undefined\n    at HTMLDivElement. (template.js?1.15:3784)\n    at HTMLDivElement.dispatch (jquery.min.js:5)\n    at HTMLDivElement.v.handle (jquery.min.js:5)\n    at ZoneDelegate.webpackJsonp.../../../../zone.js/dist/zone.js.ZoneDelegate.invokeTask (zone.js:421)\n    at Zone.webpackJsonp.../../../../zone.js/dist/zone.js.Zone.runTask (zone.js:188)\n    at ZoneTask.webpackJsonp.../../../../zone.js/dist/zone.js.ZoneTask.invokeTask [as invoke] (zone.js:496)\n    at invokeTask (zone.js:1517)\n    at HTMLDivElement.globalZoneAwareCallback (zone.js:1543). Hi artf,\nThanks for the message.\nI just want to hide the particular icon of the toolbar not the complete the toolbar.Like in complete toolbar i want to hide the delete icon, rest of the icons are same.\n. Hi @ssabrewolf,\nThanks for the message.\nI have used the same code but some time i get the same error \"Plugin gjs-style-gradient not found\" .See the code below:\neditor.StyleManager.addProperty('Page Settings', {\n    name: 'Gradient',\n    property: 'background-image',\n    type: 'gradient',\n    defaults: '100'\n});\neditor.StyleManager.addProperty('Section Settings', {\n    name: 'Gradient',\n    property: 'background-image',\n    type: 'gradient',\n    defaults: '100'\n});\nI have also follow all the errors and discussions regarding the gradient plugin but not able to get the solution.\nPlease provide the valuable solution.. @artf Any Update about this as it's a big issue. User not able to undo/redo the countdown/navigation element once these elements are dragged.They need to delete and dragged element again and do the required changes.. Hello @artf,\nMy bad.I forgot that i have already opened this issue.\nI'll not repeat this thing.\nThankyou. ",
    "Jogai": "Regarding font-awesome, bootstrap-select makes it an option to specify on initialization which I like. It would need a mapping for icons that have different names. (Boostrap-select only has one icon, so thats easy for them). That way its always possible to use icons you already have in your project instead of pulling in another dependency.\nThe component toolbar is easy to customize (for example I just add data-gjs-removable=\"false\" to an element in my template and thats enough) but there is no option to hide the \"select-parent\" command. An attribute like \"traverse\" would be helpful for me (i'm just dumbing the editor down for my users)\n. I followed your suggestion, but I get an error: \"Uncaught TypeError: Cannot read property 'type' of undefined\"\n    editor.on('component:selected', () => {\n        const selected = editor.getSelected();\n        if (!selected || !selected.get('draggable')) return;\n        const el = selected.view.el;\n        if (!el._hasCustomEvent) {\n            el._hasCustomEvent = 1;\n            el.addEventListener('mousedown', () => { editor.runCommand('tlb-move') });\n            console.log(\"should work\");\n        }\n    });\n\nIf I click once on a component the console log is executed saying \"should work\", but if I drag, I get the error. Any further suggestions?. Thanks so much for the update! I'm still a bit struggling to implement it right. I made an example:\nhttps://codepen.io/anon/pen/vRoRBX\nThe example is preventing the user from doing too much. Most of the elements are made non-draggable. The user should be able to reorder.\nI've got several problems with selecting and dragging. Here are the steps I take and the problems I encounter:\n\nClick on item number 2. Problem 1: The element is not selected, only highlighted.\nClick on item number 1, its selected now visible by the thicker highlight.\nClick on item number 2, which get selected. Problem 2: Number 1 stays 'selected'.\nDrag (without clicking first) item number 1 below item 3. \nProblem 3: The 'selected' state isnt moved if you drag immediately, resulting in dragging number 2 instead of number 1.\n\n. You can put all your separate pieces of content in the blockmanager making it ready to be dragged in a template.. You're probably right. It's not this feature that's changed that behavior. Maybe its a bug, you can change the title of the issue if you confirm it.\nMy test case:\nTemplate:\n<head>\n    <meta charset=\"utf-8\">\n    <style>div{margin:0 auto;}</style>\n</head>\n<div style=\"width:500px; border:2px solid black;\">\n    <div style=\"width:400px;height:400px; border:2px solid red;\">\n    </div>                     \n    <div style=\"width:300px;height:300px; border:2px solid green;\">\n    </div>                    \n    <div style=\"width:200px;height:200px; border:2px solid blue;\">\n    </div>\n</div>\nVersion 0.14.21 html output (from grapesjs.com/demo.html):\n<meta charset=\"utf-8\"/>\n<div class=\"c3945\">\n  <div>\n  </div>\n  <div>\n  </div>\n  <div>\n  </div>\n</div>\nVersion 0.14.21 html output\n```\n* {\n  box-sizing: border-box;\n}\nbody {\n  margin: 0;\n}\niht0ek{\nwidth:400px;\n  height:400px;\n  border:2px solid red;\n}\ni9ry44{\nwidth:300px;\n  height:300px;\n  border:2px solid green;\n}\nigqj8h{\nwidth:200px;\n  height:200px;\n  border:2px solid blue;\n}\ndiv{\n  margin-top:0px;\n  margin-right:auto;\n  margin-bottom:0px;\n  margin-left:auto;\n}\n.c3945{\n  width:500px;\n  border:2px solid black;\n}\n```\nThe css have the proper id's, but the html doesn't have them.\nIn my local environment is still on 0.14.20 and the output is including the id's in both html & css:\nHTML:\n<meta charset=\"utf-8\"/>\n<div id=\"izai\">\n   <div id=\"iupd\"></div>\n   <div id=\"invg\"></div>\n   <div id=\"itzz\"></div>\n</div>\nCSS\n```\n* {\n     box-sizing: border-box;\n}\n body {\n    margin: 0;\n}\nizai{\nwidth:500px;\nborder:2px solid black;\n\n}\niupd{\nwidth:400px;\nheight:400px;\nborder:2px solid red;\n\n}\ninvg{\nwidth:300px;\nheight:300px;\nborder:2px solid green;\n\n}\nitzz{\nwidth:200px;\nheight:200px;\nborder:2px solid blue;\n\n}\ndiv{\n    margin-top:0px;\n    margin-right:auto;\n    margin-bottom:0px;\n    margin-left:auto;\n}\n```. Thank you for looking into it. I'm looking forward to the update (as always, i'm very thankful for this project). \nAvoiding inline styles is not an option for us (yet). Our templates heavily use inline styles, and with the option set to true, those are completely ignored (I load my template from an element).. 0.14.23 fixes my original problem. Thanks!\nIf I set the following options:\n        fromElement: 1,\n        height: \"1050px\",\n        container: '#gjs',\n        forceClass: false,\n        storageManager: { type: 'none' },\n        plugins: p,\n        avoidInlineStyle: true,\n\nMy template is imported without the inline styles. But thats not a problem for me if I leave avoidInlineStyle out.. Thanks, I'll close this and will keep an eye on the pr. ",
    "FrciSmrci": "@artf Do you have an estimate on when the following feature is going to be released => Custom color picker. eg. as with RTE using editor.setCustomRte() it might be editor.setCustomColorPicker()? \n. @artf thank you for this, it resolved one of the issues I encountered and saved me a lot of debugging time. :) Do you have any idea what the second issue would be about? Some of the components aren't highlighted, even though they have the same configuration as the others. I'm providing a [screenshot] of the problem.(https://drive.google.com/open?id=1ap9PR8fidQGdqjp3X9UP2x_hcFVgpaby ) I wish you a great day. @artf Thank you once again, will debug with this in mind. :) . @artf Omg, thank you. :) Not sure how I manage to miss this.. Hey @arthuralmeidap , thanks for the pull request and letting me know. :) Have a great day.. @arthuralmeidap @artf Thank you both for the quick reply. :) @artf When could I expect the next release?\n. @arthuralmeidap @artf I built the dev branch and tested the implementation in my project, for all I can tell when the flag dumpUnusedStyles is set to true it leaves them and when it's set to false it removes them. According to the dumpUnusedStyles naming I would say that this is an mistake? Or am I missing something? \ud83d\ude10 . Hey @arthuralmeidap , I'm great thanks for asking. And you? :) \nOhh now I understand what you meant, something like keepUnusedStyles/preserveUnusedStyles. Hmm I read dumpUnusedStyles as dispose them, because dump verb according to the dictionary means dispose of (rubbish, waste, or unwanted material), typically in a careless or hurried way. \nOtherwise I'm really grateful for this addition, thank you! You spared me a lot of time.\n. Hey @mmeeeooowww , \nthe panels should be removed as discussed in this issue. \nHave a great day.\n. Hey @sai-kishore , \nhere you have an resolved issue discussing how to use grapesjs in an Vue project. Hope it helps.\nHave a great day.. Hey @artf , \nfigured out what was going on today, but forgot to close the issue in the euphoria. \ud83d\ude04 \nThe classes from GrapesJS and Bootstrap were colliding, took me some time to realise that, because it worked when trying the same in layers. \nGreat job on the stylePrefix option in basic blocks, it fixed my problem. I was thinking that maybe it would be a good idea defaulting it to a key like gjs-. What do you think? \nHave a great day! \n. Hey @milapshah15 ,\nI added a style prefix like this blocksBasicOpts: {\n            stylePrefix: 'ch-'\n          } into the grapesJS initialisation.\nI did create a pull request on the repo setting the default style prefix to -gjs if none is provided, hopefully will prevent scenarios like this in the future. \nHave a great day! . Hey @milapshah15 , which plugin do you use? I used grapesjs preset webpage, it may have a somewhat different structure of configuration, here is an example.  grapesjs.init({\n      container: '#gjs',\n      plugins: ['gjs-preset-webpage'],\n      pluginsOpts: {\n        'gjs-preset-webpage': {\n          blocksBasicOpts: {\n            blocks: ['link-block', 'quote', 'image', 'video', 'text', 'column1', 'column2', 'column3'],\n            stylePrefix: 'ch-'\n          }}}}); \nI found out that the bootstraps class \"row\" I included was \"fighting\" with grapesjs \"row\" class. Here is the pull request I created, but it wasn't merged yet.\nHave a great day! . Hey @milapshah15 ,\ncould you provide a little more information? Do you import bootstrap through the GrapesJS initialisation config under canvas styles property? Is the issue you are facing with responsiveness on bootstrap navbar or grapesjs?\nAre your styles clashing with bootstraps when using basic blocks plugin? Here is an closed issue discussing the solution. Basically all you need to do is add an stylePrefix to the initialisation config under blocksBasicOpts. grapesjs.init({ container: '#gjs', plugins: ['gjs-preset-webpage'], pluginsOpts: { 'gjs-preset-webpage': { blocksBasicOpts: { blocks: ['link-block', 'quote', 'image', 'video', 'text', 'column1', 'column2', 'column3'], stylePrefix: 'ch-' }}}});\nHave a great day.\n. Hey @ionic666 ,\nas it's stated in the documentation for the components. Turn off autorender when adding new types of component and call it manually after you declare them. \nYou can change the content of an component extending the view of the defaultModel inside the render function. There are two possibilities: \n1. Change the model --> This will affect the final HTML code\n2. Change the DOM element --> This doesn't affect the final HTML code just the view.  \nAll of the above can be found in the provided GrapesJS docs.\nHave a great day. :) . @artf the proposed solution works great. Thank you! :) . Hey @artf , the problem occurs only on newly uploaded pictures - which isn't possible to do in the demo. You can only select the ones that are already in the storage. After upgrading to the latest version from 0.14.15 the asset:add event isn't firing anymore.. Hey @artf , I created an example on Stackblitz (should probably do that before opening a ticket and bugging you :/)  In the process of creating the example I discovered that the first issue of the image not rendering correctly lays inside my project. Regarding the second issue  event trigger on asset:add it still persist (example => app.component.ts => line 24).\nThanks in advance. . @artf Yes, but in the previous version of grapesjs 0.14.15 the event asset add was triggered when adding the asset to canvas. I downgraded the version in the example so you can check it out. . @artf I'm attaching the video of the behaviour that is being skipped in the latest version of the library. But yeah, I misinterpreted the event trigger asset:add. . @artf thank you. :) . Hey @jvillena and @gabrigcl  I managed to research the issue and create a build of the ckeditor inline build 5 where the error doesn't occur anymore (the fix is not yet released). Although, there are some new/other issues when trying to style the selected element. I will research this errors, but if you find a solution before me it'll be awesome if you share your findings.. Thank you @artf :) When is the plan to do the next release?. @artf Not sure if this question slipped by. . @artf Awesome, thank you! :) . @artf I think that this specific fix messed up the properties without units, like Opacity. The slider behaves weirdly in this case, even on the demo.. Hi @artf, thanks for the reply. \nThe custom build is not necessary anymore, because the fix was inside the latest release. I'm using the @ckeditor/ckeditor5-editor-inline build version.\nI'll check out the BountySource and give it a try. :) . @Unsigno The code should be a new plugin that can be provided in the GrapesJS like grapesjs-plugin-ckeditor, just that this plugin should support ckeditor5 (grapesjs-plugin-ckeditor5).\n@gabrigcl developed a great part of the mentioned plugin already, you can get the code in this task. \nAs mentioned above the problem is that the bullet points and number points are created without a problem, but the Bold, Italic and Link option aren't. Let me know if you need any additional information. \nI wish you a great day! \n. @Unsigno As far as you can see from the following issue the support for iframe was pushed some time ago into the master with this pull request. . Hi @Unsigno , I noticed the newly added <p> element, but didn't look into it more thoroughly yet. \nI'm not sure I get what do you mean if it could be caused by using the standalone files? . ",
    "loganvolkers": "We actually have a custom color picker wired up with GrapesJS.\nWhat we did:\n\nCreate a whole new panel for editing traits\nConnect the panel to the Backbone model for list of components and currently selected component\nEmbed a custom tree view with embedded JSON Schema Forms\n\nHere's the result:\n\nIdeally the forms used in Grapes would be more pluggable without that work, though.\n@artf if you're looking for inspiration, then JSON Schema auto-generated forms may serve as a good start. I'm a fan of React JSON Schema Forms because it makes it very easy to add custom widgets or fields components, override styling, titles, helptext, etc.. Thanks for the feedback, I'll see about adding some tests and docs soon.. FYI - I might have gone too far with the docs. I think that this new functional approach to plugins is much nicer that the old namespace approach, and I'd like to see all plugins migrated this way.\nThat is in part because in our project we have problems with this:\njs\nexport default grapesjs.plugins.add('my-plugin-name', (editor, options) => {\n  console.log(options);\n  //{ customField: 'customValue' }\n})\nBecause we use a bundler and lots of tests, it's a pain to always force grapesjs into global scope, causing workaround like this:\n```js\nimport grapesjs from 'grapesjs'\nwindows.grapesjs  = grapesjs\nfunction onLoad(){\n   require(\"grapesjs-preset-newsletter\");\n}\n```\nThat sounds like a bigger project, but I figured it would be a good idea to share.. @artf Can you have a look at this CI error? Tests are working locally.\nSecurityError: localStorage is not available for opaque origins\n^ that's the error that I'm getting, and it sounds unrelated to the feature I added. > ... still not sure about using it as a recommended way, especially when you use plugins directly in the browser\n\nplugins: [ ?? ] // would require some kind of global\n\nTo be clear, your plugin already provides a global export UMD module by default.\nCurrent state\n\nUMD namespace: window[\"grapesjs-preset-newsletter\"] (current UMD naming - source)\nNPM namespace: npm install grapesjs-preset-newsletter\nGrapes Plugin namespace: plugins: ['gjs-preset-newsletter']\n\nPlugins can use either plugins: [window[\"grapesjs-preset-newsletter\"]] or plugins: [\"gjs-preset-newsletter\"]\nProposed state\nIf you embraced plugins as functions, you would remove 1 of your 3 namespaces.\nplugins: [window.grapesjsPresetNewsletter]\nIdeally your plugins and boilerplate would use a more sane UMD export.\n\nUMD namespace: ~~window[\"grapesjs-preset-newsletter\"]~~ window.grapesjsPresetNewsletter (better UMD naming)\nNPM namespace: npm install grapesjs-preset-newsletter\n~~Grapes Plugin namespace: plugins: ['gjs-preset-newsletter']~~\n\n. > const myPlugin = editor => { ... };\n\nwindow.myPlugin = myPlugin;\nexport default myPlugin;\ncorrect?\n\nNot quite correct. Webpack will turn export default myPlugin into window.myPlugin = myPlugin;. \nThere should be no need to ever manually add library to window in modern JS anymore, that should always be handled by webpack, or rollup, or parcel.\n\nBTW, to be honest, I didn't even remember the global definition made by UMD wrapper, so in that case, when you ask for plugins: [\"gjs-preset-newsletter\"] instead of just looking for it inside grapesjs.plugins we can also check inside window... what do you think?\n\nSo plugins: [\"gjs-preset-newsletter\"] would be equivalent to plugins: window[\"gjs-preset-newsletter\"]?\nThat seems reasonable to me.. I can reproduce this on the demo website\nCopy and pasting can trigger this error, but it looks like it has nothing to do with copy and paste and everything to do with whitespace.\nValues that work:\n\nrgb(255,0,0)\nrgb(255,0,0)\n\nValues that don't work:\n\nrgb(255,0,0    ) transforms to rgb(255,0,0\nrgb(255,0,   0) transforms to rgb(255,0,\nrgb(255,0    ,   0) transforms to rgb(255,0\nrgb(255,    0    ,   0) transforms to rgb(255,\nrgb(      255,0,0) transforms to rgb(\n\nAs far as I can tell this affect the field for border-color, but not for background or font-color.. hey @artf thanks for responding so quickly to this one.\nI work with @00salmon and we've been using Grapes with web components. I think that this bug is related to the interaction with the <slot/> elements required by web components and the canvas.\nIt's interesting that drag and drop via the side panels or by updating the Backbone models work correctly. The components are re-ordered and the canvas is updated correctly. Only drag and drop in the canvas itself seems to cause problems.\nWe'd be happy to provide more tests or a pull request, but we're really not sure where to start.\nLet us know if there's anything else we can provide!. That demo link is probably the best starting point.\nAlternatively, we could put some more test scenarios together with a collection of Polymer and/or Stencil libraries, or even put together a super vanilla web component.\nI should note that I think that GrapesJS + Web Components is an incredibly powerful combination that could change a lot about how people build web page templates. If you're not already using it for your new spin off project @artf I highly suggest you take a look ;). Here's a good example library to look at: BlazeUI\nFor example their timeline: https://www.blazeui.com/components/timelines\n\n<blaze-timeline alternate loading>\n  <blaze-timeline-item left>Nothing</blaze-timeline-item>\n  <blaze-timeline-item type=\"brand\">\n    Big bang\n    <p class=\"c-paragraph\">\n      Widely considered to be how the universe began\n    </p>\n  </blaze-timeline-item>\n  <blaze-timeline-item type=\"info\">Galaxies go everywhere</blaze-timeline-item>\n  <blaze-timeline-item type=\"warning\">Solar systems form</blaze-timeline-item>\n  <blaze-timeline-item type=\"success\">Earth appears</blaze-timeline-item>\n  <blaze-timeline-item type=\"error\">Human infestation occurs!</blaze-timeline-item>\n  <blaze-timeline-item last>All this has happened before and will happen again</blaze-timeline-item>\n  <blaze-timeline-item loading>Evolution</blaze-timeline-item>\n</blaze-timeline>\nAnd source code here: https://github.com/BlazeUI/blaze/blob/master/packages/atoms/src/components/timeline/blaze-timeline-item.tsx\nAnd another demo link here: https://jsfiddle.net/ocbxqm91/128/. We use GrapesJS to power our CMS at http://saasquatch.com\nWidgets\n\nGrapesJS powers the editing of the content in our in-app javascript widget\nWe have customized most of the toolbars, removed most of the default components, and have it made up of only custom web components\nPlugged in https://cloudinary.com/ for asset management\nIt works pretty great with Web Components and https://stenciljs.com/ \u2764\ufe0f \nRecommendation: Use GrapesJS with Web Components\n\n\nEmails\n\nWe also use it for HTML email editing, but find that it isn't great (because HTML emails are a nightmare to get right, not directly a fault of GrapesJS....) We're looking to switch to GrapesJS + MJML or https://beefree.io/ to make the end-user experience more bearable.\nRecommendation: Avoid GrapesJS for plain HTML email templates\n\n\n. I was on the fence about this too.\n\nOn one hand you can use objects as keys (see: https://jsfiddle.net/n0ou7x84/)\nOn the other hand, this is a bit of an obscure syntax for most people\n\nI left it in because I didn't imagine that it would cause much harm, the options may be null or ignored in many cases.\nIn terms of docs, though, I think the option-passing approach you explained is the more user-friendly approach and should be included as the recommended way of passing in plugin options.. ",
    "Sibbir7350": "Hello @artf \n327 I just wanted to know is there sample code for drag and drop.. I am having difficulty while wanted to drag component inside the canvas.. My aim is to move the element by absolute position.. not by sorting\n. Hello @artf ,\nI wanted to move the functionality of changing class name, width, height etc to my custom dialogue box while creating on one component.\nEg: - Suppose I added Text to the editor and now while I click on Text component its giving me an option to changed classname, width height, font size. All this functionality I want in my custom dialogue.\nCould you help me to proceed??. Hello @artf ,\nI have also similar kind of issue.\nCase: I open Block Manager. Then when i click on any component I open the Layer manager.\nBut the issue is when I open the layer manager first time its not showing the selected element on layer manager.. its showing from body.. to get the selected element i need to scroll the layer manager..\nBut when the layer manager already open then on click its showing the selected elements..\nPlease refer my two screen shot.. you will get some idea.. Please help me.\n\n\n. Hello @artf @ArtDesignCreativeStudio \nCan we display the HTML and CSS Part in two different text box like by default export code viewer having?. Hello @artf \nAny update on drop event?. Hello @artf ,\nCan you help to make a movable component ?\nI mean if Can we move an image or div anywhere in our editor.. \nit always start from left only.\nI want to move by dragging to middle or my custom position.\nPlease help me @artf . ",
    "luisalvarado": "Hi @artf , just to understand the design mode better, will this allow me to drag an element (link, div, span, anything..) around the page and position it in a specific place. More like a more intuitive, drag & drop replacement for the current one and allow the use to organize items in the way that is not restricted by the current block concept?. @artf This is beautiful, thank you.. ",
    "jakemonton": "@artf I'm excited about the design mode feature! . ",
    "psycura": "I'll try, \nMaybe I can import the keymaster to the component?. Thank for you advice - inesring link to script into the index.html did the trick (maybe something in webpack broke the dependencies in your file)\nNow everythin work fine.\nAnd again, thanks for help, and for the development ). ",
    "kkinder": "So, to clarify, is there not an elegant way to import grapes.js using webpack and ECMAScript 6 import statements?. @artf Thanks! That's actually what I'm using too, but I'm running into Grapes.js apparently wanting to load CodeMirror directly. What are you doing to import Grapes?. Yeah, that makes sense.\nIt's just that bringing it in via script tags isn't very elegant if you're generally using a client build system like webpack.. Also, since the project has no eslint configuration anyway, a user has to create one, which may or may not be compatible with the project's coding standards.. I would include .eslintrc, since if you choose some of the defaults (eg, Google), eslint comes up with all kinds of warnings.. ",
    "madhavbc": "how to upload image locally. does this post HttpPostedFileBase or string?. I am doing same but its not posting anything its just posting 'files[] ' but no value. ",
    "atuleshK": "@artf thnx for the guidelines... I'm sorry, couldn't reply for this issue due to busy schedule. But it worked as u said. ",
    "truongnv169": "@artf : i don't know how to detect Uploading image complete event in Grapesjs. Could you tell me how to detect it ?\nThanks !. ",
    "g41n": "It worked like a charm for me too with 0.9.8 version.\nNow I've upgraded to 0.9.32 and results in firing the function twice...\nThat's a problem for me: the second time raise an error because the image was deleted the first time. \nAny hint about that?. Hi,\nI've tried to implement it in this manner\n```javascript\nthis.templateEditor = grapesjs.init({\n    container : '#HtmlTemplateEditorGjs:not(.gjs-editor-cont)',\n    storageManager: {\n        type: 'none'\n    },\n    plugins: ['gjs-preset-newsletter'],\n    assetManager: {\n        upload: '/asset'\n    }\n});\nthis.templateEditor.on('asset:remove', (asset) => {\n    var filename = asset.get('src').split('/').reverse()[0];\n    this.http.DELETE(/assets/${filename}, (response) => {\n        console.log('asset remove', response);\n    });\n});\n```\nbut seems that the second time I open the AssetManager the upload is not fired anymore...\nMaybe I use the editor in the wrong way? Every time I run that code I have a new item in grapesjs.editors array and that seems not so good to me.\nAny hint on how to initialize and reuse it in a complex application?\nThanks for the support.. With version 0.12.8 my previous implementation seems working.\nThanks for the support :smile: . Hi @ryandeba, thanks for the reply.\nAfter some digging here there is a fiddle https://jsfiddle.net/x118ks1v/ and steps to reproduce:\n1. click on the reset button, reset is successfull\n2. click on body and change background from the panel on the right\n3. click on the reset button, reset failed\nThe problem seems occour only after you change body background from grapesjs panel manually.\nHope it helps to find a solution... :/. > Unfortunately, this creates another body rule (you can see it in the exporter).\nI see it... and sadly if I use the export in a webpage I see the old background... :(\nHope to find a little hack while waiting for a fix.. ",
    "tribulant": "Are you in Safari? I get this problem in Safari even if not in private browsing mode.\nBest is to set the \nstorageManager: {\ntype: ''\n}. Same problem in Safari as well but it is intermittent.\nIn most browsers, dropping blocks onto empty canvas doesn't work.\nIdeally the Javascript could just check if the canvas is empty when dropping a block and then first put an empty DIV on the canvas to drop the block into maybe?. @artf \nSame here, I can duplicate it locally as well as on the online demo.\nAs they said above, clear the canvas and try to drag an element onto the blank canvas.\nThen you'll see the Javascript error in the browser's console.. @artf That is the problem I believe, the block just doesn't add to the canvas. See this video: https://goo.gl/RhsReH. Btw, I'm in Safari on macOS, not Firefox although I could reproduce it on Firefox. The problem doesn't seem to occur in Chrome though.. @artf You're welcome and thanks for everything you do. It will be nice to be able to start with a blank canvas and build a webpage from the blank canvas. At the moment, it just doesn't seem possible.. @artf It happens to me in Safari on macOS. Cannot drag a block to an empty canvas. Nothing happens.. @artf \nVery sorry for the false report. Something went wrong on my computer with Parallels Toolbox and keyboard shortcuts it seems. So it is not GrapesJS, rather Parallels Toolbox hooking to keyboard shortcuts. Please mark as invalid.. @artf \nThank you so much, you rock!. ",
    "tommedema": "FYI it still happens when you disable storageManager's autoload\nstorageManager: { autoload: 0 }\nis not sufficient, but this does disable it completely:\nstorageManager: { type: '', autoload: 0 }. @artf I realize this is from 2017, but the var Article = require.main.require('app/models/article'); solution seems pretty solid to me.. @g40 if you ever get to do this would it be open source? would like to have a peek. @artf Thanks for the answer! I think I may need to explain my use case more.\nIt's not always realistic to expect someone importing a template to define what CSS comes from external libraries. The reason for this is that typically CSS is compiled and minified to a single bundle. So, bootstrap rules etc. will be merged together with the rules specific to this HTML page. Therefore it's not possible to define which files should be imported separately.\nWith arbitrary CSS styling I meant the collection of the different ways to style HTML elements with CSS selectors (classes vs native html elements vs inline etc.)\nSo far I noticed 3 reasons why my current templates render wrong in Grapes' editor:\n\n\nthe doctype of the template is ignored; html4 templates are rendered differently than html5, therefore doctypes should be preserved or defined when importing a template (html + css + doctype instead of html + css)\n\n\nall class and style information defined above the wrapper is ignored, e.g. a template with such structure:\n\n\n<!DOCTYPE html>\n<html lang=\"nl\" xmlns:og=\"http://ogp.me/ns#\" xmlns:fb=\"https://www.facebook.com/2008/fbml\" class=\"js flexbox canvas no-touch hashchange rgba multiplebgs ...\">\n...\n<body class=\"  m-nl l-nl page-homepage is-loggedout  reboot  index-homepage  \">\nWill not be rendered as it should because the classes defined in the template's html and body elements are lost.\n\nGrapes is injecting CSS into my template that affects the way it renders, some of this CSS is redundant. For example it forces a margin: 0 even though the original template did not depend on a reset margin. This causes the template to render differently inside the editor than inside a normal browser window. Fortunately this is easily fixed by removing the CSS rules that are not necessary.\n\nI have spent 2 days going through your source code. Really like the documentation, MVC pattern, and structure with Backbone! I would be happy to propose a solution to retaining this \"wrapper information\" and to create a PR to resolve this.\nMy current priority is to go through the code again to fully understand the CSS parser as to answer my own questions above. I'll probably find one or two issues for which I would be happy to create PRs too.\nMy ultimate goal is to be able to import static HTML documents (including doctype and all styling without knowing which css rules are part of Bootstrap etc., including minified CSS etc) and to have them render in Grapes as they would in a normal browser window.\nSince you suggest that Grapes should already work out of the box with any kind of CSS styling, would it be an idea that I come back to you with a static HTML + css template that renders wrong inside Grapes? I will also do my own research on why I believe it is not rendering the way it should be (other than the 3 reasons above).. @artf in addition to the above questions, I have a few more questions after digging through the source. Note that I am more than willing to help you with this (I can contribute with PRs). Just need your input to see if I understand things correctly.\nIf I declare a simple HTML/css structure like so:\n\nAnd then put a log line at dom_components/Components.js's add function:\n\nThis results in a surprising output of:\n\nThis raises a few questions:\n\n\nshouldn't the .panel class have selectors defined? it's currently an empty string; the div css rule does have have a valid selector\n\n\nwhy is the #eee color definition converted to rgb notation? wouldn't it be much safer to keep CSS the way it is defined initially? additional parsing may expose you to bugs when the added value is questionable?\n\n\nwhere do the undefined css rules like font-variant-east-asian: normal; come from? it seems likely that such additional grunt work will render inconsistencies with the original when you parse CSS files that are thousands of lines long. @artf thanks, I see. I actually like that you rely on the browser's CSS parser because I am already noticing performance issues with large templates. If you also rely on something like postcss I fear that performance may further degrade.\n\n\nI am currently testing Grapes with a large variety of templates. Will compile a list of issues with fiddles.\nMost rendering issues come from the fact that doctypes are not applied, but there are some others as well. There are some some functionality issues such as if you duplicate a component, and then change its style, the original component's style is also adjusted. This seems to be because grapes adjusts the original class rather than editing styles inline for the component that you have selected.\nI hope I will be able to contribute as well, so first goal would be to get your insights on each issue, and then hopefully I can help out in fixing them.\nWill close this issue for now and re-open when I have some examples.. @maxtacco what's the difference between a Component and a HTML element / tag? From my understanding of the source code, each Component maps 1:1 to a HTML element (tag).. @maxtacco browsers only read HTML + CSS; if you use angular, react.js, etc., they will ultimately write html elements to the document. Are you sure that GrapeJS tries to accommodate for Angular/react components? They way I understand it from reading the source code it doesn't do this. Also doesn't seem very reasonable to me; since it's not manageable to support every popular javascript framework, but it is manageable to support HTML / browser standards.\nAlso, from looking at the source it seems relatively simple to change the behavior to display the element's tag name by default rather than its type. Question therefore remains if this is preferred. I could create a PR to accommodate for this. Alternative is something like tagname (type), e.g. span (text) or div (box). @maxtacco I see, that does make sense. I will keep this in mind; perhaps I can write a plugin for \"html output\"?\nMy goal is indeed to have a HTML/CSS WYSIWYG editor. I wonder if I could write a plugin that would set the layer names as tag names.. Thanks but these are mostly related to adding more kinds of html blocks, which is not a problem I am facing at the moment. It would be better for the core to be flexible enough through plugins such that it is not necessary to add additional configuration to it to customize the tree node display. I will close this for now and come back to it once I have figured out a solution.. @maxtacco thanks I will use that when I create a PR. @artf I managed to test this properly now; please review :)\nP.S. I cannot rename the branch name anymore; to be clear: this is no longer wip and is now ready to be merged.. Hey @artf, let me know if I can help in any way to speed this up a little. Cheers.. @artf it's easily reproducible here. Try to run it repeatedly as suggested above.\nHere's proof:\n\nMy environment:\nOSX High Sierra 10.13.3\nNode.js v9.2.1\nLatest rapes dev branch commit #e6593e7ad9a\nFor some reason this.get('DomComponents') returns null when it should return the wrapper on line 308 in editor/model/Editor.js. I haven't seen this in a while. Will close for now.. Thanks @artf, I see. I would suggest removing this or at least making this configurable (defaulting to true then to prevent breaking changes). Would you accept a PR for this?. @artf great, submitted PR. @artf resubmitted, please have a look at #1023 . @artf could we just make the parent contentEditable, even though the text node has siblings? At the end of the day, any text node will have at least 1 parent (the body).\nThis seems preferred over adding spans because you don't know how such span would render since we do not have full control over its CSS (the user may be using a stylesheet that renders spans differently).. @artf <gjs-text-node> seems like a good solution!. @artf I can probably do it if I can ask some questions here along the way. I'm still getting used to Backbone. Where would you put that Commands object?\nCould you elaborate more on this?\n\nI'd like also to move the runCommand/stopCommand logic from Editor and put it inside new Commands.run/stop methods (just to make it a more organized).. @artf is this OK? . @artf no problem, as long as the functionality is there ;) \n\nI don't see your change yet in the commits, is that right?. @nojacko that assumes that I have control over the CSS. That's not the case ;)\nAlso, the above example does not use min-device-width. It simply uses width: 900px. Small devices are smart enough to scale accordingly. A real responsive mode would therefore do the same.. Not asking to start a new project, just asking if people have ideas on how this could be achieved.. @artf FYI I can now reproduce this in a failing test case:\nit('Init editor from element with multiple font-face at-rules', () => {\n      config.fromElement = 1;\n      config.storageManager = { type: 0 };\n      fixture.innerHTML = `\n      <style>\n        @font-face {\n          font-family: 'Glyphicons Halflings';\n          src: url(https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.woff2) format('woff2');\n        }\n        @font-face {\n          font-family: 'Droid Sans';\n          src: url(https://fonts.gstatic.com/s/droidsans/v8/SlGVmQWMvZQIdix7AFxXkHNSbRYXags.woff2) format('woff2');\n        }\n      </style>` + htmlString;\n      const editor = obj.init(config);\n      const css = editor.getCss();\n      const styles = editor.getStyle();\n      expect(styles.length).toEqual(2);\n    });\nAfter further debugging this seems to be caused by cssComposer thinking that the second rule is the same rule as the previous one and then returning the first rule:\nhttps://github.com/artf/grapesjs/blob/dev/src/css_composer/index.js#L185. @cjpollard thanks, but it seems like you are taking apart something that was stitched together for the wrong reason.\nI believe a better approach is to not stitch together these at-rules in the first place. @artf  I have submitted a PR for this:\nhttps://github.com/artf/grapesjs/pull/1036\nTo be honest, in my opinion the parsers should not try to be smart and optimize code. The browser is a parser itself, and if the rules are found in the browser, grapes should honor this. By making the parser complicated we introduce several bugs (I myself have gathered a list already). In fact I'd recommend not having a parser at all and just getting components and their styles etc. in real time from the DOM / Javascript API.. @artf I see, but then you probably shouldn't do things like removing empty tags or concatenating the same rules; that's extending your \"traverser\" with parser capabilities ;). @dsgh would be nice to also add unit tests. @chapterjason I am not in control over the template. So I wouldn't know how to answer that question. Grapes should work with any HTML and CSS, so I don't think it's relevant.\nI would not want to remove !important statements from templates, because doing so can affect the render. If they have multiple statements, some with important and some without, and in a certain order, you want it to render exactly as it was intended to. Removing important statements would change this.. @artf do you mean that we'd have to then write plugins to listen to those events and add additional styling to the component? This seems complicated as it depends on if the styling is inline or through classes.\nSince the core of grapes is editing and styling components, I'd argue that this feature suits well in core. There is already an important flag anyway, it just doesn't work as one would expect :). added PR at #1056 . @artf so now that I am using this in production it turns out that there is an issue with the style manager's color picker when styles have !important:\n\n(e50000 is red but it's shown as white here)\nThe color picker becomes buggy in several ways, probably because it cannot parse the color anymore after !important is added.\n1) when choosing a color and pressing \"OK\" in the color picker, the new color is ignored and the old color is kept\n2) when choosing a color and then dismissing the color picker by pressing outside of its view, the new color is kept; but when you then view the color picker again, it does not show the correct color preview due to the important statement confusing it\nThe important statement should probably be ignored by the color picker, before it tries to parse the color?. This is due to https://github.com/artf/grapesjs/issues/1013. @artf it's surprising to me that this is slower because I thought the browser would be heavily optimized for this, but you definitely have more experience with this project so I'll trust in your judgement ;)\nI'm definitely in favor of an option to just add all rules unconditionally. This makes sense to me because for me the browser is truth and there should be no need to do additional checking on top of what the browser tells you.\nWould you like to do this or should I create a PR? If the latter, could you tell me where these checks are  done? Is it really in this getter that you previously linked? I would expect the checks to be done outside of a getter.. @artf thanks :) happy this can be merged; I updated the PR; please merge when convenient. ",
    "rogerbten": "@artf , Can you add a direct link to the image? Without using the link block. ",
    "murphmar": "@artf It looks like several components that are shown on the demos (ie: this Link Block, Grids) aren't part of project here on GH. Am I missing something obvious here, or is that actually the case? Thanks!. ",
    "roytang": "While there is no fix yet, is there an easy way for me to override escapeName in my local build? (Sorry, I'm not too familiar with how Backbone works). May I ask why it has to be set to lowercase? Will there be any adverse effects if I just remove the toLowerCase call in my local build?. thanks!. Thanks! FYI, I had to change the getInputEl example in #89 to get it working:\n```\n    getInputEl() {\n      if(!this.textarea) {\n        this.textarea = document.createElement('textarea');\n      }\n      return this.textarea;\n    },\n```\nFollow-up question: Is there also a way to update the value of the trait in the settings panel from the current options in the select when the settings panel is loaded? Currently I can update the trait to set the options in the select, but if i leave the component and go back to it, the textarea is now empty after the settings panel reloads. FYI, I was able to do it by overriding render() and adding the code to read the options and assigning it to the textarea's value. Not sure if this is the best place to put it, but it seems to work haha. Correct me if I'm wrong, but that plugin only changes the inline editor grapesjs uses for editing the contents of text elements yes? It's a bit different from what we want - we want to be able to add an actual  control with rich text editing features. Is this possible? Thank you!. Hmm. Behavior is weird. I tried something like style change, trait change, style change, trait change, style change. On reload, the last trait change and the last style change were retained. I'll test in more detail when I have time. This was on grapesjs.com/demo. No errors in the console.\nYou know how there's a green bar that shows you where you can drop the component? When this problem happens, there is no green bar at all no matter where I drag the component over the canvas. Releasing the mouse button loses the component icon on the cursor, but otherwise does nothing.\n(There is also an \"e is null\" JS error in the console if I try to drag the component beyond the upper border of the browser window, but that doesnt seem relevant.). I spent some time looking for a workaround for this since it wasn't possible directly.\nMy workaround was to add an event on open of the asset manager (editor.on('run:open-assets', ...)), where I changed the \"ondrop\" handler of the form element to use my own upload function. I also changed the id of the file input element (since the old change handler was tied to the specific id), and attached my upload function there.\nSomething like this:\nfunction uploadFile(e) {\n    var files   = e.dataTransfer ? e.dataTransfer.files : e.target.files;\n    .[... your custom upload logic ]\n  }\n// modify the upload functionality\n  // When the Asset Manager modal is opened\n  editor.on('run:open-assets', () => {\n    if (editor.uploaderModified) {\n      return;\n    } else {\n      const modal = editor.Modal;\n      const modalBody = modal.getContentEl();\n      const uploader = modalBody.querySelector('.gjs-am-file-uploader');\n      const uploadInput = modalBody.querySelector(\"#gjs-am-uploadFile\");\n  var uploadForm = $(uploader).find(\"form\").get(0);\n  uploadForm.ondrop = function(e) {\n    this.className = '';\ne.preventDefault();\n    uploadFile(e);\n    return;\n  }\n  // change the id of the upload input\n  // this turns off the old change handler bound to that id\n  // (so that it no longer sends needless requests to /assets/upload)\n  // but also turns off the stylesheet so we have to replace the css\n  $(uploadInput).attr(\"id\", \"dummy\");\n  $(uploadInput).css(\"opacity\", \"0\")\n    .css(\"filter\", \"alpha(opacity=0)\")\n    .css(\"padding\", \"150px 10px\")\n    .css(\"width\", \"100%\")\n    .css(\"box-sizing\", \"border-box\");\n\n  $(uploadInput).change(uploadFile);\n  editor.uploaderModified = true;\n}\n\n});\nHope that helps!. Please ignore. I was able to make it work by adding a call to view.render(). Please ignore. I ended up injecting the stylesheet link using javascript into Grapes' canvas' iframe\n// insert external stylesheet into the grapesjs window\nvar iframes = Utilities_GetElementsByClass(\"gjs-frame\", \"IFRAME\", document.body);\nfor (var i=0; i<iframes.length; i++) {\n  var iframe = iframes[i];\n  var doc = iframe.contentDocument;\n  var element = document.createElement(\"link\");\n  element.setAttribute(\"rel\", \"stylesheet\");\n  element.setAttribute(\"type\", \"text/css\");\n  element.setAttribute(\"href\", \"/CSS/Website.css\");\n  doc.getElementsByTagName(\"head\")[0].appendChild(element);\n}\n. Thanks!. Thanks! Adding the defaultView did indeed get rid of the error, but I'm still unable to do what I want - I can't seem to drop an image inside the \"image-container\" part of the sample above. When I try to drop the an image component there, it's inserted into the containing \"test-block\" instead.\nMy test code is now:\n```\n  comps.addType('image-container', \n  {\n    model: defaultModel.extend(\n    {\n      // Extend default properties\n      defaults: Object.assign({}, defaultModel.prototype.defaults, \n      {\n        // Can only drop these elements inside it\n        droppable: \"img\",\n      }),\n    },\n    {\n      isComponent: function(el) \n      {\n        if(el.tagName == 'DIV' && $(el).hasClass(\"image-container\"))\n        {\n          return {type: \"image-container\"};\n        }\n      },\n    }),\n    view: defaultView\n  });\nblockManager.add('test-with-image-container', \n  {\n    label: 'Test Block With Image Container',\n    attributes: {class:'fa fa-pencil'},\n    content: 'You can drop an image below:',\n    category: 'Blocks',\n  });\n```\nAm I using the \"droppable\" property incorrectly? It just needs to be a CSS selector right?. Seeing as how your comment fixed the original error I encountered, I'll close this comment and post a separate one for my questions about usage of the droppable property.. I tried the above, as follows:\n```\n  var textType = comps.getType('text');\n  comps.addType('section-test', {\n    // Define the Model\n    model: defaultModel.extend({\n      // Extend default properties\n      defaults: Object.assign({}, defaultModel.prototype.defaults, {\n        draggable: 'body, body div'\n      }),\n    },\n    {\n      isComponent: function(el) {\n        if(el.tagName == \"SECTION\"){\n          return {type: 'section-test'};\n        }\n      },\n    }),\n// Define the View\nview: textType.view.extend({\n  // The render() should return 'this'\n  render: function () {\n    // Extend the original render method\n    defaultType.view.prototype.render.apply(this, arguments);\n    //this.el.placeholder = 'Text here'; // <- Doesn't affect the final HTML code\n    var html = this.el.innerHTML;\n    html = \"<h1>ABC</h1>\" + html;\n    this.el.innerHTML = html;\n\n    return this;\n  },\n})\n\n});\n  blockManager.add('section-typography', {\n    label: 'Text section',\n    category: 'Sections',\n    content: <section class=\"bdg-sect\">\n      <h1 class=\"heading\">Click here to edit title</h1>\n      <p class=\"paragraph\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>\n      </section>,\n    attributes: {class:'gjs-fonts gjs-f-h1p'}\n  });  \n```\nBut I'm still unable to edit the text in the h1 and p elements after dropping the component on the canvas. :(. How to toggle controls and turn on the preview?. Mmm. I have image-container styled with width and height 100px. Also, removing the droppable property in the extended model allows me to drop text and images inside it.. This fix works. Thanks!. ",
    "dedanirungu": "Hi @artf We usually use a number of javascript and css files that are hosted on packagist for easy distribution and update. some of this scripts are tinymce, fontawesome, bootstrap etc. \nI am about to start working on a project that will use grapejs. How can I receive update files every time you release an update.. The best thing with packagist is version control. Take the following example.\nI have a project that uses grapejs version 0.5. and I want to only pull that version until such a time when I will be able to upgrade to a new version. Let assume grapejs upgrades to version 1.0. and in the process some features and functions are deprecated. With packagist all applications that use 0.5.* will not be affect by the changes and they will have enough time to migrate and update their code to the newer version.\nI prefer packagist due to it version control within my application for all dependencies.\nTo add this project to packagist is an easy process\n\nOpen packagist.org\nCopy the link https://github.com/artf/grapesjs and past it in submit input box in https://packagist.org/packages/submit\nOpen the page https://github.com/artf/grapesjs/settings, click the tab \"Integration and Service\" and and look for button \"Add Service\"\nIn \"Add Service\" List select packagist\nDeploy\n. Would you please add it for me or anyone who would prefer to control dependency version in similiar way.\nFor example with bootstrap I am able to control the version to be used for the project without worrying about future changes. Currently in all projects I am using version 3 and will only move to version 4 once I complete updating my code.\n\n. Is ok then. \nbut just know even none php project are on packagist and it helps alot. eg bootstrap, fontawesome, jquery, tinymce etc. \nYou can close the issue.. ",
    "Chris1904": "Why don't you use GitHub? Just pull whatever or all the changes you need. It's super easy and every modern PHP framework I have worked with lets you create a post update script (for example) in which you can pull the changes. There are tons of ways haha. Sure, I know what packagist is and pulling components from there is pretty easy, even though I never would never use packagist to pull components. \nWhat you just described can be done just as easily without being on packagist though for the time being it isn't.\n. Anything front-end related you should try yarn and webpack. \ud83d\udc4d . ",
    "noone-silent": "Hi, the missing isComponent method was the problem. After adding this, everything works like expected. Thank you. \nThe component is needed to add an additional class to every element to style them separately and don't overwrite any bootstrap default classes, or is there any other method for this?. ",
    "bassouma21001": "@artf  When is the new version\nI have the same problem. Same Problem also in Chrome\nConsole alert (grapes.min.js:2 Invalid target position) . I make it ;\ni get html  and Css from string val then i use javascript to build new page html  like this \n(var htmlx = editor.getHtml; \nvar cssx = editor.getCss;)\nthan \nconcat = (\"+\"\"+cssx+\"\"+htmlx+\"\") . ",
    "chrisjsimpson": "Thumbs up to https://github.com/getify/You-Dont-Know-JS it's brilliant.\nMore learning programming generally really thoughtful talk:\nhttps://youtu.be/AUYPnxv0yss enjoy! \ud83d\ude00\nOn 8 Jun 2017 8:55 p.m., \"Artur Arseniev\" notifications@github.com wrote:\nthanks @kawikaconnell https://github.com/kawikaconnell for your willing\nto help. If you want to get more about javascript I'd recommend to check\nhttps://github.com/getify/You-Dont-Know-JS which is a really well-written\nresource about the language. For backbone, I think their site is the best\nresource, there is not so much to learn (especially to be used in\ngrapesjs), there is just a good solid principle of how to manage your\nbusiness logic (Models and Collections) and listen/update changes in your\nViews, the rest is just a bunch of helpers.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/104#issuecomment-307209833, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ABo5YMJl30--4JbLZZcBXO3ShuTep-XJks5sCFGdgaJpZM4NyIOw\n.\n. ",
    "thecodefish": "@artf Sorry I typed up a reply to this a few days ago but I must not have posted it. I tried your approach and I managed to get something working that would filter the available blocks for the first render. However if I then tried to change the filter (or even run the same filter again) it would blank out the list. If I debugged things it looked like the collection had the right items in it (eg editor.BlockManager.getAll() would have the right number of items) however the UI was rendering nothing on that second pass.\nI don't have my exact code on hand unfortunately but here's some rough code for what I was doing:\n```\n//performed once during init to get a copy of all blocks\nvar allBlocks = editor.BlockManager.getAll().clone();\n//performed on an event (filter changed)\nvar filteredBlocks = allBlocks.where({label: 'Image'});\neditor.BlockManager.getAll().reset(filteredBlocks);\n//at this point if I debug editor.BlockManager.getAll() it contains the items I expect\neditor.BlockManager.render();\n```\nAny thoughts on why this code might work the first time, but not the second?. I dug through the Backbone docs a little more and looked at some other grapesjs examples and I think it's just how I'm setting those attributes.\nThis exhibits the 'problem':\njs\nvar attributes = model.get('attributes');\nattributes.foo = Math.random();\nmodel.set('attributes', attributes);\nThis works how I expect:\njs\nmodel.set('attributes', { foo: Math.random() });\nI'll use the latter from now on.\n. @manjunaras @artf Hi I thought I'd throw in my own comment here as it sounds like your request is pretty similar to what I've built. I've got a 'report builder' built with AngularJs that uses GrapesJs to handle the actual html editing and it's working pretty well. We use our own code to handle the template management and just pass content/components back and forth to the grapesjs editor. We load the editor within a container so that we can tweak the CSS for the canvas, and using a combination of CSS and a plugin (which interacts with the various managers) we've hidden the grape components that we don't need.\nI added a gist which you could maybe use as a starting point - it's an angular directive that will load a grapesjs editor (or more than one if you need) and it lets you hook into the grapesjs events and handle them within your Angular code. Note that it's using TypeScript. https://gist.github.com/thecodefish/d5680a5e6842fcc91f006714eb647106\nIt's probably not in a state where you can just copy it and go - it will most likely require some customisation (I stripped a bunch of our own custom stuff out of it and haven't really tested).\nFor preview mode what we do is retrieve the html from the editor (editor.getHtml()) and the css, inject it into the page into a preview container, hide the editor, and show the container - all through AngularJs.\nAlso I haven't modified the GrapesJs source at all. We're either working with what GrapesJs provides by default, we've turned things off (or hidden it), or we've overridden the commands/buttons to call back into our own code.\nHope this helps a little.. The way that I've done that (handled passing data back and forth) is not to go via the directive, but rather to get a reference to the editor and then use the editor API directly.\nFor example, in my gist above, in MyController I have a reference to the editor object. I can call things like editor.getHtml() or editor.setComponents(html). For example, this is my code to set up a new report:\nts\ncreateBlankReport()\n{\n    var template = '<h1 reporttitle=\"1\">New Report</h1><div>Report Description</div>';\n    this.editor.setComponents(template);\n}\nAnd if I want to replace the content with an existing report, for example, I have code like this:\nts\nthis.editor.CssComposer.getAll().reset();\nthis.editors.setComponents(components); //components is a JSON object in my case - not html\nthis.editors.setStyle(css);\nI also already have an event handler in my gist which detects when content is changed - you could combine that with a call to editor.getHtml() (or whatever you need) if you wanted to keep a copy of the html up to date. Personally I only get the html when it's needed, like when saving, I don't bother keeping it up to date all the time.. @daniel-farina @artf Any thoughts on how to manage this without modifying the source? I have a situation where I have blocks/components that contain classes that I don't want to modify. If I change the styles for an individual component, it is adding css rules for the combination of all classes (which then apply to all instances of that component) - it's not actually creating a new class for my selected component.. I would probably prefer some kind of config setting I could toggle off to change the behaviour, but I've managed to find a workaround. In my case all the content comes from our own system (no worry about external content etc), so I found all the instances where this was a problem and converted them into mini components - I then automatically add a unique class when the component is created.\nI think that this would be nice to have as a config setting though, regardless. In our use case (and many others, I'm sure), the end users are unlikely to be HTML savvy and so having them deal with classes and selectors and the like is going to be confusing. We've actually hidden the css class selector panel from view, hence why I was looking for an automated solution.. I was thinking that the behaviour could be something like this:\nDefault (current setup):\n- If element has no classes, create unique class based on cid and apply styles\n- If element has classes, apply styles to the union of those classes (or whatever classes are selected in the UI)\nToggled behaviour\n- Test if element has an existing class based on the cid, if one does not exist, create one\n- Always apply custom styles to the cid class only. @artf I think your approach could work quite well (at least for my use case, where I've hidden the selector UI through CSS).\nOne thing I noticed with my current workaround - is the cid property persisted? I noticed some behaviour whereby if I manually created a class .c232 (for example), after saving/reloading the component list, I would end up with new cids and therefore .c232 .c137 (or the like). I worked around this as well but is this normal behaviour? Would we get the same issues with your update?. Example config:\n...\ntoolbar: [\n  {\n    attributes: { 'class': 'fa fa-pencil', title: 'Configure this Widget' },\n    command: 'myCustomCommand'\n  },\n  {\n    attributes: { 'class': 'fa fa-arrows', title: 'Move Widget' },\n   command: 'tlb-move'\n  },\n  {\n    attributes: { 'class': 'fa fa-clone', title: 'Clone Widget' },\n    command: 'tlb-clone'\n  },\n   {\n    attributes: { 'class': 'fa fa-trash', title: 'Delete Widget' },\n    command: 'tlb-delete'\n  }\n]\nExample output:\nhtml\n<div class=\"gjs-toolbar\" style=\"pointer-events: all; top: 132px; left: 1035px;\">\n  <div>\n    <div class=\"fa fa-pencil gjs-toolbar-item\" title=\"Configure this Widget\"></div>\n    <div class=\"fa fa-arrows gjs-toolbar-item\" title=\"Move Widget\"></div>\n    <div class=\"fa fa-clone gjs-toolbar-item\" title=\"Clone Widget\"></div>\n    <div class=\"fa fa-trash gjs-toolbar-item\" title=\"Delete Widget\"></div>\n  </div>\n</div>. It doesn't, from what I've seen. I've added the title attribute to my config and nothing gets rendered without my change.. .. I stand corrected, sorry. I upgraded from an older version around the same time I was testing this so I must have been testing against the old version. I've done a new test against the latest version (without any of my modifications) and the toolbar title is working fine. I guess this PR isn't needed after all - sorry for wasting your time!. Try this:\ncss\n.gjs-clm-tags { display: none; }\nBe aware though that by hiding this section, you lose the ability to select individual classes to modify. This means that if you make changes to the styles, you may encounter weird behaviour (for example, you have duplicate components on the page with custom classes, your changes may apply to both). See #404.. Thanks @artf that did the trick.. In my use case I am constantly getting & setting the html/css inside the editor, and what I found is that it would end up duplicating the 'default' styles (see the * and body styles in the image above - they appear twice).\nI managed to solve that by making sure to clear the css before I (re)set it - something like the following:\njs\neditor.CssComposer.getAll().reset();\neditor.setComponents(components);\neditor.setStyle(css);. @chiqui3d I think whenever you need to modify the css from some external source, you'll probably want to reset the css composer first. So if you have something like editor.setStyle(css); in your code, you may need to call editor.CssComposer.getAll().reset(); first.. ",
    "jay0319": "$('[contenteditable=\"true\"]').on(\"paste\", function(e) {\n    e.preventDefault();\n    var text =  e.originalEvent.clipboardData.getData('text'); \n   document.execCommand(\"insertText\", false, text);\n});\nI can insert this code to anywhere?. artf thank you for your reply, this can work i got it.. like this, this easy drag to canvas because section have padding.\n\nBut this not easy drag to canvas, because between section have not padding.\n\nSorry my english not very well, so I use img, hope you can understand my question thanks @artf .. Sorry @artf, I try this solution but not work, there are my code.\ndata-gjs-draggable, data-gjs-droppable <-- this will remove on drag to canvas is correct\uff1f\nbm.add('Banner2col', {\n            category: 'Section',\n            label: 'Banner2col',\n            attributes: {\n                class: 'gjs-fonts gjs-f-b1'\n            },\n            content: '<div class=\"banner2col row\" data-gjs-droppable=\".row-cell\" data-gjs-custom-name=\"Row\">' +\n                '<div class=\"banner2col__grid row-cell\" data-gjs-draggable=\".row\">' +\n                '<div class=\"banner2col__cover\">' +\n                '</div>' +\n                '</div>' +\n                '<div class=\"banner2col__grid row-cell\" data-gjs-draggable=\".row\">' +\n                '<div class=\"banner2col__cover\">' +\n                '</div>' +\n                '</div>' +\n                '</div>'\n        });. Sorry @artf I want ask this function being built? Thank you.. @artf I used you support method to test drag to between two no padding component, I has upgrated new version, thats show a orange outline can limit drag but still can't insert between two component, thank you.. @artf Ok, I know thank you for your reply.. Thanks @artf I will try the new version, thank you very much.. ",
    "edwardjiawei": "How to persist the data after reload, after execCommand insert?. Do my API call correctly, want to add a RTE commands to add a link:\nhttp://grapesjs.com/demo.html\n```\n editor.Commands.add('tlb', {\n    run:  function(editor, sender){\n      editor.getSelected().view.enableEditing();\n      //sethref for link etc\n      alert('Hello world!');\n    },\n    stop:  function(editor, sender){\n    },\n  });\n    editor.RichTextEditor.add('tlb', {\n    command: 'tlb',\n    class: 'fa fa-link',\n    title: 'test'\n});  \n```\n. Sound good enough for my case. I have similar intention with #286 \nvar dynamicValue;\n      model.set('content', dynamicValue);\n. Actually I having issues for doStuff (#286) not get called if I adding to view in my (src/components.js) placeholders plugins. \nCan you help me to look into the design.html that wired them up together. \nBut I have trouble to filter out which is the custom text/TextPlaceHolder (grapes-plugin-placeholder) and which is the text components (grapes-blocks-basic). Maybe also guide/code the custom link block and change the dropdown field to text input (For allows users to type their link in one flow).\nI guess I doing something wrong in the plugins, can you help?\nsrc/blocks.js\neditor.on('block:drag:stop', function(model) {\n  //if I change the type in block contents: {type: 'custom-type', content: 'text', activeonrender:1}, the text changes according to prompt but only after page refresh (how to initiate refresh manually?)\n   if(model.attributes.type == 'custom-type' || model.attributes.type =='text' ){\n     model.setContent('promptValue')\n     //refresh\n. @krunal039 \nSee my plugin and how to use it / create similar flow, no much info than the how to create components in Wiki. No cleanup and might got some bad practice. Mine is simple text, and you have to migrate it to insert HTML. Bad practice that I use last time I tries is listen for the drag event for the particular components or I forgot to commit.\nhttps://github.com/edwardjiawei/grapesjs-plugin-placeholder/commit/da55a2fad7b8ec757e0512d0f3b61eb8cc324ca0\n. Should the plugin added components being sort.\n```\n        var editor = grapesjs.init(grapesjsoptions);\n        plugins: [ 'gjs-plugin-placeholder'],\n        pluginsOpts: {\n            'gjs-plugin-placeholder': {/ ...options /},\n        }\n       //Also added some manually\n       editor.BlockManager.add('grid-items', {\n            label: 'Grid items',\n            content: 'Grid code'}\n      });\n```\nshould able to customized afterward like\neditor.BlockManager.sort(filter) -- by filter of label, by any config of order in BlockManager.add\n. Hopefully support some RTE with more permissive license like MIT or BSD. I guess some companies might even don't choose BSD. CKEditor integration are quite easy, but the license might not be good for some companies. \nThanks anyway.. That really lightweight and permissive license.\nYou know as nowadays the open source world, most people like me always rely on RTE plugins like insertHTML, Emoji, Unicode, PlaceHolder/Token (Server Side Templateing) that will useful for hobby project and work. All that use case are mostly align with grapes.js use case, as most personal and professional project will evaluate how easy to integrate with RTE.\n. Similar to what I did in grapesjs-plugin-customrte. But I no propose my code to be based on, at it is mess.\nYou should able to test the code in design,html in my repo.\nAlso can set lower priority for implement el.contentEditable, \nso that the placeholder text is not editable. #287\nIf it is a block then grapesjs have default great option: \nremovable: false, // Once inserted it can't be removed\nFinal, thanks for the good freedom work for artf. There is a lot of priority in grapesjs, maybe can shift to community plugin (artf/api-richtexteditor-plugin), maybe artf can decide to initiate the repo for #481. So we can contribute when all of the requester if free.\n. Similar issue, nested element is not being detected\nTo setup simple flow to drag and drop table, so user can drag the row Block to make the table for second row, but the td in the row is not editable, not selectable for styling\n```\n    bm.add('Table', {\n      label: 'Table',\n      category: 'Forms',\n      attributes: {class:'fa fa-map-o'},\n      content: {\n        type: 'table',\n        style: {width: '100%'},\n        columns: 2,\n        rows: 1, \n      },\n    });\n  }\nbm.add('TableRow', {\n  label: 'TableRow',\n  category: 'Forms',\n  attributes: {class:'fa fa-map-o'},\n  content: {\n    type: 'row',\n    classes: ['tablerow'],\n    content: '<td class=\"cell\">Not Editable, Not Stylized from Decoration</td><td class\"cell\">Not Editable, Not Stylized from Decoration</td>'\n    style: {height: '75px'} //padding 10\n  },\n    removable: true,\n    draggable: true,\n    droppable: true,\n    badgable: true,\n    stylable: true,\n    highlightable: true,\n    copyable: true,\n    resizable: true,\n    editable: true\n\n});\n\n. ",
    "ganjarsetia": "@artf I import this code in demo page:\n<svg height=\"210\" width=\"500\">\n  <polygon points=\"200,10 250,190 160,210\" style=\"fill:lime;stroke:purple;stroke-width:1\" />\n  Sorry, your browser does not support inline SVG.\n</svg>\n\nbut it wont show. And there is no error.\nMy 2nd method is Add configuration block manager like \"badge\" demo. And the result is same.. @artf thank bro. Its cool. I'll donate for you :). ",
    "nhanlego1": "And more question\nPlease help me how ton import more css \nthanks. Hi @virazura \nI did it, and will share to you\n1. Add button in panel http://prntscr.com/ftp6wd\nvar pnm = editor.Panels;\n    pnm.addButton('options', [\n{\n        id: 'save-database',\n        className: 'fa fa-floppy-o',\n        command: 'save-database',\n        attributes: {title: 'Save to database'}\n    }\n])\n2. Add action for this button then get all setting then save db\ncmdm.add('save-database', {\n    run: function (em, sender) {\n        sender.set('active', true);\n        var InnerHtml = this.frameEl.contentDocument.activeElement.innerHTML;\n        $.post(\"/components/save/component\", {html: InnerHtml}, function (result) {\n//do some code\n});\n    },\n});\nGood luck to you\nFriend!\n. Hi @virazura \nThis is full my code\n1. Add button save\nvar pnm = editor.Panels;\n    pnm.addButton('options', [{\n        id: 'save-db',\n        className: 'fa fa-flopy icon-flopy',\n        command: 'save-db',\n        attributes: {title: 'Save DB'}\n    }\n2. Function code to action command\nvar cmdm = editor.Commands;\ncmdm.add('save-db', {\n        run: function (em, sender) {\n            sender.set('active', true);\n            //get full HTML structure after design\n            var InnerHtml = this.frameEl.contentDocument.activeElement.innerHTML;\n           //set post to save all HTML structure after design to DB\n           $.post(\"save.php\", {html: InnerHtml}, function (result) {\n            //action after save success\n            });\n        },\n    });\n\nFunction code to save db\nThe code is in file save.php\nif (isset($_POST['html'])) {\n       $created = time();\n       $sql = \"INSERT INTO templates ( html, created) VALUES ( '$_POST['html']', $created)\";\n          if (mysqli_query($conn, $sql)) {\n           echo 'done';\n          } else {\n           die(\"Error:\" . mysqli_error($conn));\n         }\n    }. \n",
    "pournami17": "Got the same issue. Any fixes?. This adds text as a value and not as a placeholder. ",
    "davellanedam": "I can reproduce it in the demo, try to delete everything, then drag and drop any component and it breaks. The error message I got in the console is \"Invalid target position: Target collection not found, Target is not droppable, accepts [undefined], Component not draggable, acceptable by [undefined]\" The message also appears as an orange alert box at top right.. @artf Thanks to you! Using macOS, I usually test in all browsers, but it\u00b4s on Firefox 55 where the problem is.. Besides the issue with edge corners, it\u00b4s working now on Firefox.. I\u00b4m really sorry, I was testing this in Firefox, and we were discussing a bug on Firefox #116 , That\u00b4s the problem, It works perfect inside a modal dialog on other browsers. ",
    "danaketh": "Same. With empty canvas you can't drag in anything. Once you have a single element in canvas, everything else seems to placed inside of it and there isn't a way of placing them outside. Like as if it needs some kind of wrapper element first.. Firefox 55.0 (64-bit) on Windows 10. I worked my way around it by adding styled <div> into #gjs element and having that one stripped away on saving the output into textarea in the page form.. I've sketched two possible ways of doing it: http://imgur.com/a/H6wMl (can't upload files to GitHub for some reason).\nImplementation could be kept simple. Each asset would have a group property, which can be either string or array and carries the IDs of the groups it belongs to. Picking a group from combo box would then filter out everything that doesn't belong in selected group.\nImplementing it as a file browser would be a bit trickier and since the modal itself is quite small, I'd probably stick with the combo box. It's simple and it does the job done.\nQuestion is if the upload should respect the selected group and along the file also send a group ID.. ",
    "oas": "Hi @artf! As for me, the issue is not fixed. I have the same problem, but not only in the corners. I tried the demo using Google Chrome (Version 61.0.3163.100) and Firefox (Version 61.0.3163.100).\nHere is a short video:\nhttps://gfycat.com/OldRepentantBeaver\nThank you in advance, great work! I hope this issue will be fixed so I can use this editor with my students!. ",
    "adaman93": "I think I asked my question wrong\nMy question is how do I load the previous saved css/html when I open it up again?\nand how do I replace \"gjs-css\" with my saved css/etc.? . ",
    "martcot": "Hi, I think you have to use the remote store manager save data like explained here https://github.com/artf/grapesjs/wiki/API-Storage-Manager\nstorageManager.add('local2', {\n  load: function(keys){\n    var res = {};\n    for (var i = 0, len = keys.length; i < len; i++){\n      var v = localStorage.getItem(keys[i]);\n      if(v) res[keys[i]] = v;\n    }\n    return res;\n  },\n  store: function(data){\n    for(var key in data)\n      localStorage.setItem(key, data[key]);\n  }\n//Send ajax to save data to mysql\n});\nstorageManager.setCurrent('local2');\n. @artf I did what you just said but I have some problem. \nIs load url suppose to trigger automatically like the save url?\nI get data manually with something like:\nvar storageManager = editor.StorageManager;\nstorageManager.load('gjs-assets')\nit return data like this:\n[{\"type\":\"image\",\"src\":\"http://localhost:8000/media/userimages/hdc-accueil_yB5aNNB.jpg\",\"unitDim\":\"px\",\"height\":0,\"width\":0}]\nBut images are not loaded in images components.\nI'm looking a way to save images added and deleted by users. I'm able to upload images but not manage it in images components.\n. I got it!. Hi @virazura ,\nI did exactly what @artf said:\nstorageManager: {\n            autosave: false,\n            //setStepsBeforeSave: 2,\n            type: 'remote',\n            urlStore: '/app/save_gjs_data/',\n            urlLoad: '/app/load_gjs_data/',\n        },. Thank you! I will check if I can put editor off from the form. . ok thanks I will do this!. ok thanks I'll do this.\nhttps://mailtrack.io/ Sent with Mailtrack\nhttps://mailtrack.io/install?source=signature&lang=en&referral=mcote@d-modules.com&idSignature=22\n---\nMartin C\u00f4t\u00e9, Directeur technologique\nD-Modules.com http://www.d-modules.com\nBureau: (418) 613-0825\nSkype: martyman01\nAgence d'inbound marketing\n2017-08-25 15:13 GMT-04:00 Artur Arseniev notifications@github.com:\n\nI used an import only inside demos so I guess you're using some of those\npresets, in that case just add type=\"button\" to the button\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/249#issuecomment-325012171, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAZozYKV8H5izO68COgwIzZGn78szm3sks5sbxzxgaJpZM4PCFEE\n.\n. \n",
    "virazura": "@martcot how do you do that? i want to save it to mysql and then post it do you know how?. @nhanlego1 i tried the code, it works to add the button but im kinda stuck with the function. Can you be more specific or show me your code so it'll enlighten me. Sorry to bother you. @nhanlego1 i tried the code, it works to add the button but im kinda stuck with the function. Can you be more specific or show me your code so it'll enlighten me. Sorry to bother you. @artf what does urlstore and urlload supposed to be? I tried it but the button didnt do any action. @artf when i put the type: 'remote' it ruined the look of my website. ",
    "irshadalif": "Can anyone let me know how to store and retrieve the template from mysql in php ? As per my requirement i had list of clients and each client have editor area, so i need to store and fetch the editor for each client. Also let me know how to store and upload images. \nThanks. Thanks dmodules.. Can anyone let me know how to set the background image in grapesjs?\nI am able to add image element and upload it, but i am not able to set background image, please help for the same.\nMy code is as below:\nvar editor = grapesjs.init({\n      fromElement: 1,\n      container : '#gjs',\n      plugins: ['gjs-plugin-forms','gjs-blocks-basic'],\n      pluginsOpts: {\n        'gjs-plugin-forms': {/ ...options /},\n        'gjs-blocks-basic': {/ ...options /}\n      },\n      assetManager: {\n            assets: lp+'1503660158_781.jpg',\n            upload: '<?php echo base_url('').'Prom_ed/uploadimage'; ?>', // Set to false to disable it\n            uploadText: 'Upload image',\n            contentTypeJson: true,\n        },\n      storageManager: {\n            autosave: false,\n            //setStepsBeforeSave: 1,\n            type: 'remote',\n            urlStore: '<?php echo base_url('').'Prom_ed/save_ed/'.$moduleId; ?>',\n            urlLoad: '<?php echo base_url('').'Prom_ed/get_ed/'.$moduleId; ?>',\n            contentTypeJson: true,\n        },\n  });\neditor.Panels.addButton('options', [{ \n      id: 'save-db', \n      className: 'fa fa-floppy-o', \n      command: 'save-db',\n      attributes: {title: 'Save DB'} \n    }]);\n// Add the command\neditor.Commands.add('save-db', {\n    run: function(editor, sender) {\n\n      sender && sender.set('active', 0); // turn off the button\n      editor.store();\n    }\n});. @artf thanks for the reply, this helped me, i'll take care of it..\n",
    "dmodules": "Here my code JS and python. In my case I save only assets.\njs code: ----------------\n```js\neditor = grapesjs.init({\n        clearOnRender: true,\n        height: '100%',\n        fromElement: 1,\n        clearOnRender: true,\n        assetManager: {\n          //assets: images,\n          upload: '/app/upload_image/2/', // Set to false to disable it\n          uploadText: 'Cliquez ici pour t\u00e9l\u00e9charger une image',\n    },\n    storageManager: {\n        autosave: false,\n        //setStepsBeforeSave: 2,\n        type: 'remote',\n        urlStore: '/app/save_gjs_data/',\n        urlLoad: '/app/load_gjs_data/',\n    },\n    container : '#gjs',\n    plugins: ['gjs-preset-newsletter', 'gjs-aviary'],\n    pluginsOpts: {\n      'gjs-preset-newsletter': {\n        modalLabelImport: 'Paste all your code here below and click import',\n        modalLabelExport: 'Copy the code and use it wherever you want',\n        codeViewerTheme: 'material',\n        //defaultTemplate: templateImport,\n        importPlaceholder: '<table class=\"table\"><tr><td class=\"cell\">Hello world!</td></tr></table>',\n        cellStyle: {\n          'font-size': '12px',\n          'font-weight': 300,\n          'vertical-align': 'top',\n          color: 'rgb(111, 119, 125)',\n          margin: 0,\n          padding: 0,\n        }\n      },\n\n    }\n});\n\n```\npython code: ---\npython\nstore, created = GrapesStorage.objects.get_or_create(site=request.cuser.site)\nstore.data = request.POST.get('gjs-assets')\nstore.save()\nIn POST you have others information.\n. of course thanks!. Thanks for this answer!\nhttps://mailtrack.io/ Sent with Mailtrack\nhttps://mailtrack.io/install?source=signature&lang=en&referral=mcote@d-modules.com&idSignature=22\n---\nMartin C\u00f4t\u00e9, Directeur technologique\nD-Modules.com http://www.d-modules.com\nBureau: (418) 613-0825\nSkype: martyman01\nAgence d'inbound marketing\n2017-10-03 8:21 GMT-04:00 Artur Arseniev notifications@github.com:\n\nnothing to add, thanks @daniel-farina https://github.com/daniel-farina\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/366#issuecomment-333824765, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/APt04WZm9ipmYzomZPdrUpns5uNo8cjSks5soibbgaJpZM4PrD5s\n.\n. \n",
    "dreamhuo": "https://daneden.github.io/animate.css/\nI want to put the animate.css into the grapesjs editor, But I don't know how to do. thanks very much @artf .  for sample:\nNote that the three custom methods in Commands\nblockManager: {\n         blocks: [{\n                  id: 'b1',\n                  label: '1t',\n                  category: 'Basic',\n                  content: '<style>'+ blkStyle +'.blk1{width: 100%;padding: 10px;min-height: 75px;}</style>',\n                  attributes: {class:'d7js-fonts d7js-f-b1'},\n                  Commands:{\n                           DragStart: function(editor, sender){\n                                    alert('Hello world_DragStart!');\n                           },\n                           DragMove: function(editor, sender){\n                                    alert('Hello world_DragMove!');\n                           },\n                           DragEnd: function(editor, sender){\n                                    alert('Hello world_DragEnd!');\n                           }\n                  }\n         }]\n}. @artf Thank you very much.. thanks. \n\n\n. Look at the pictures, for example\uff1a\nAdd\n<script src=\"dist/jquery-3.2.1.min.js\"></script> <script src=\"demo/assets/js/bootstrap.min.js\"></script>\nin grapesjs is not work.\nIt's normal to delete it.. <div id=\"gjs\">\n      <!--code\u2026-->\n      <script src=\"dist/jquery-3.2.1.min.js\"></script>\n      <script src=\"demo/assets/js/bootstrap.min.js\"></script>\n </div>. Master, on your way, I always make mistakes here:\nUncaught SyntaxError: Invalid or unexpected token. \n\n. The same is true of the addComponents method.. @artf \nHi Master, I solved the mistake\uff0csplitting the script\uff1a\n\nBut code is not neat, is there a better way?\n. Thank you very much for your patience. @artf . ",
    "chrisbarton126": "Hi @artf thanks for the quick response. My aim is to have a page with many elements on, but only for certain elements to be editable. So ultimately the editing would need to be disabled for the entire page, except for certain elements within. The editor would be instantiated using fromElement: true so that the editor picks up the entire page, but upon saving would need to be able to identify each editable element and post its data back to the server individually. Do you think this would be feasible with GrapesJS, or is the use-case perhaps a little too abstract from the original intentions of the project?\nI have attempted to use the data attributes you provided, however this means the attributes would need to be specified on every element on the page, except for those that would need to be editable. I did try applying the attributes to the body of the page and then applying them again to the editable elements but with the property values inverted, however this did not work as expected. \nWith regards my alternative which would be to have multiple editors on the page (one for each editable element), the screenshot below illustrates what happens when you instantiate the editor on a specific container which is not the full width of the page:\n. ",
    "mhsdts": "i have an existing theme i just want  to make user be able to style only header and footer of the theme and then store it in json object  and keep the theme css before: \n\nafter:\n\nhow to fix this. thak you, now i created an api to store the image , \nnow how can i use the images , the exact way. lets say i created a template and stored it in local storage how can i preview only the created template without showing the grapejs editor lets say in another html page i want to see the only final template css and html. ",
    "sathishstar": "@mhsdts \nUse \ncanvas: {\n     styles : ['styles.css']\n}\nIt can your template styles.. just look the images\n\n. ",
    "Chronis77": "Hi, I have got the latest version and I also seem to have nothing rendering. \nThe JSON that is being returned looks like this. \n{\"gjs-html\":\"<HTML>\",\"gjs-assets\":[{\"src\":\"http:\\/\\/placehold.it\\/350x250\\/78c5d6\\/fff\\/image1.jpg\",\"type\":\"image\"},{\"src\":\"http:\\/\\/placehold.it\\/350x250\\/78c5d6\\/fff\\/image2.jpg\",\"type\":\"image\"}]}\nI have the latest version of Grapesjs: 0.9.4. \nMaybe it is something with my configuration. When i try and load the images is asset manager it doesn't work either. The only way the asset manager works is if I change the storageManager type to 'local'. \nMy configuration looks like this: \nvar editor = grapesjs.init({\n                    clearOnRender: true,\n                   /* height: '100%',*/\n                    storageManager: {\n                      type: 'remote',\n                      stepsBeforeSave: 5,\n                      autoload: true,\n                      autosave: true,\n                      urlStore: '<?php echo Yii::app()->baseUrl . '/index.php/campaigns/'.$campaign->campaign_uid.'/push_campaign_template'; ?>',\n                      urlLoad: '<?php echo Yii::app()->baseUrl . '/index.php/campaigns/'.$campaign->campaign_uid.'/pull_campaign_template'; ?>',\n                      //control-dev.mailblaze.com/customer/index.php/campaigns/yy582mldbd38f/pull_campaign_template',\n                      contentTypeJson: true,\n                      params: {},   // For custom values on requests\n                    },\n                    assetManager: {\n                      storageType      : '',\n                      storeOnChange    : true,\n                      storeAfterUpload  : true,        \n                    },\n                    container : '#gjs',\n                    fromElement: true,. See attached for the output. \n\n. Thanks, any quick fix i can plug just for temporary testing purposes? \n. Thank you so much for the help. It was my node version!. Hi Art, would it be possible to get you to do a bit of custom development for us. We would obviously pay...\nPlease let me know if there is a way to contact you outside of git. \nThanks,\nSpiro. ",
    "shimulch": "I have faced same issue. But escaping / character solved my problem. \nex.\njs\neditor.addComponents('<script src=\"../somejs.js\"><\\/script>'). ",
    "saiaungpyae": "@fzs1994 Form Elements are included in Form Plugin (http://grapesjs.com/js/grapesjs-plugin-forms.min.js)\nOnline demo is using form plugin.\nHow to insert plugin =>\nvar editor  = grapesjs.init({\n      height: '100%',\n      container : '#gjs',\n      plugins: ['gjs-plugin-forms'],\n)}. Hello @gkumarOB \nYou can simply add components ( or blocks, Commands, ... ) in your own plugin.\nHere is my sample-form-plugin.js ( copy paste from form plugin :D )  which adds form elements using BlockManager. \ngrapesjs.plugins.add('sample-form-plugin', function(editor, options){\n  var blockManager = editor.BlockManager;\n  blockManager.add(\"form\", {\n                label: '\\n      <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\\n        <path class=\"gjs-block-svg-path\" d=\"M22,5.5 C22,5.2 21.5,5 20.75,5 L3.25,5 C2.5,5 2,5.2 2,5.5 L2,8.5 C2,8.8 2.5,9 3.25,9 L20.75,9 C21.5,9 22,8.8 22,8.5 L22,5.5 Z M21,8 L3,8 L3,6 L21,6 L21,8 Z\" fill-rule=\"nonzero\"></path>\\n        <path class=\"gjs-block-svg-path\" d=\"M22,10.5 C22,10.2 21.5,10 20.75,10 L3.25,10 C2.5,10 2,10.2 2,10.5 L2,13.5 C2,13.8 2.5,14 3.25,14 L20.75,14 C21.5,14 22,13.8 22,13.5 L22,10.5 Z M21,13 L3,13 L3,11 L21,11 L21,13 Z\" fill-rule=\"nonzero\"></path>\\n        <rect class=\"gjs-block-svg-path\" x=\"2\" y=\"15\" width=\"10\" height=\"3\" rx=\"0.5\"></rect>\\n      </svg>\\n      <div class=\"gjs-block-label\">Form</div>',\n                category: \"Forms\",\n                content: '\\n        <form class=\"form\">\\n          <div class=\"form-group\">\\n            <label class=\"label\">Name</label>\\n            <input placeholder=\"Type here your name\" class=\"input\"/>\\n          </div>\\n          <div class=\"form-group\">\\n            <label class=\"label\">Email</label>\\n            <input type=\"email\" placeholder=\"Type here your email\" class=\"input\"/>\\n          </div>\\n          <div class=\"form-group\">\\n            <label class=\"label\">Gender</label>\\n            <input type=\"checkbox\" class=\"checkbox\" value=\"M\">\\n            <label class=\"checkbox-label\">M</label>\\n            <input type=\"checkbox\" class=\"checkbox\" value=\"F\">\\n            <label class=\"checkbox-label\">F</label>\\n          </div>\\n          <div class=\"form-group\">\\n            <label class=\"label\">Message</label>\\n            <textarea class=\"textarea\"></textarea>\\n          </div>\\n          <div class=\"form-group\">\\n            <button type=\"submit\" class=\"button\">Send</button>\\n          </div>\\n        </form>\\n      '\n  });\n  blockManager.add(\"input\", {\n                label: '\\n      <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\\n        <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\"></path>\\n        <polygon class=\"gjs-block-svg-path\" points=\"4 10 5 10 5 14 4 14\"></polygon>\\n      </svg>\\n      <div class=\"gjs-block-label\">' + \"Input\" + \"</div>\",\n                category: \"Forms\",\n                content: '<input class=\"input\"/>'\n  });\n});\nHow to add blocks => https://github.com/artf/grapesjs/wiki/Blocks\n. @gkumarOB Loop before bm.add().\n```\nvar name='{\"firstname\":\"jhon\",\"lastname\":\"doe\"}';\nvar res = JSON.parse(name);\nvar content = \"\";\nfor(var k in res){\n    content+=\"\"+res[k]+\"\";\n}\n  bm.add('Json data',{\n    label: \"Json data\",\n    category: \"Basic\",\n    content: content,\n      attributes: {\n        class: \"fa fa-calendar\"\n    }\n  });\n```. Hi @fzs1994 \nHere is how I customize my component =>\nbm.add('productListing', {\n      label: 'Product',\n      content: {content: '<figure class=\"product-card\">Hello</figure>',\n                style: {\n                  \"max-width\":'280px',                  \n                  \"font-size\":'12px',\n                  \"margin\":'5px',\n                  \"box-shadow\":'2px 2px 15px #999'\n                  }\n                },\n      attributes: {\n        class: 'fa fa-user',\n        title: 'Product Block'\n      },\n      category: 'Basic',\n    });. @fzs1994  You can add custom class with style by using CssComposer and SelectorManager.\nvar cssComposer = editor.CssComposer;\n  var sm = editor.SelectorManager;\n  var sel1 = sm.add('product-card');\n  var rule = cssComposer.add([sel1]);\n  rule.set('style', {\n    \"max-width\":\"280px\",\n    \"font-size\":\"12px\",\n    \"margin\":\"5px\",\n    \"box-shadow\":\"2px 2px 15px #999\",\n  });\nFor more =>\nhttps://github.com/artf/grapesjs/wiki/API-Css-Composer\nhttps://github.com/artf/grapesjs/wiki/API-Selector-Manager\nPlease insert double quote (\" \") when \"-\" sign is used.\nHope this will help you :D. LOL great job !!! @fzs1994  \ud83d\ude06 . ",
    "fzs1994": "Thanks! Works fine.. Hello @saiaungpyae ,\nthanks a lot for the above solution. A little more help, how can I define custom css in custom component??\nMy code:\n``\nbm.add('productListing', {\n      label: 'Product',\n      content: '',\n      attributes: {\n        class: 'fa fa-user',\n        title: 'Product Block'\n      },\n      category: 'Basic',\n      cssComposer: {\n       rules: '.product-card{max-width:280px;font-size:12px;margin:5px;box-shadow:2px 2px 15px #999}'\n      }\n    });\n````\nThanks.. Thanks, but what if I have too many classes?\nMy Actual code is:\n<figure class=\"product-card\">\n  <a href=\"#\">\n    <img class=\"product-card-img\" src=\"https://2.bp.blogspot.com/-eR7OIV0go7U/UdJxVSMzHeI/AAAAAAAAZNA/-is7Wx1eQyA/s600/DUSIT-THANI-HOTEL-MALDIVES_TRAVEL_SUMMER-TRAVEL_TROPICAL-VACATION-10.jpg\"/>\n    <figcaption>\n      <h5 class=\"product-card-title\">Product Title</h5>\n      <p>Lorem ipsum dolor sit amet, nisl rebum moderatius ut pri, ius te dico exerci, legimus facilis expetendis</p>\n      <p class=\"product-card-address\">\n        <i class=\"fa fa-map-marker\"></i>Address information\n      </p>\n      <div class=\"product-card-price\">\n        <span class=\"price-savings\">Save 25%</span>\n        <s class=\"original-price\">$176</s>\n        <p class=\"amount-price\">\n          <span class=\"from\">starting at</span>\n          $99<span class=\"from\">/night</span>\n        </p>\n      </div>\n    </figcaption>\n  </a>\n</figure>\nThanks again!\n. Will check this. Thanks a lot man...!!!. @saiaungpyae , the solution is great but for my project, this thing gets too complex. So for easily working with styles, I directly appended style tag into the custom component itself and it worked fine! :stuck_out_tongue_winking_eye:\nFinal code:\n````\nvar products = '[{\"title\":\"Apple MacBook Air 13\",\"image_url\":\"https://store.storeimages.cdn-apple.com/4974/as-images.apple.com/is/image/AppleInc/aos/published/images/m/ac/macbook/air/macbook-air-select-201706?wid=452&hei=420&fmt=jpeg&qlt=95&op_sharpen=0&resMode=bicub&op_usm=0.5,0.5,0,0&iccEmbed=0&layer=comp&.v=1496085621130\",\"description\":\"lorem ipsum dolor simit\",\"a_price\":123,\"location\":\"Vadodara\",\"discount\":25,\"d_price\":90},{\"title\":\"Lenovo Y50\",\"image_url\":\"https://rukminim1.flixcart.com/image/832/832/j1mggi80/computer/e/j/f/lenovo-2-in-1-laptop-original-imaezzztyq6zadhj.jpeg?q=70\",\"description\":\"lorem ipsum dolor simit\",\"a_price\":456,\"location\":\"Ahmedabad\",\"discount\":5,\"d_price\":400},{\"title\":\"Acer Aspire R11 Pentium Quad Core \",\"image_url\":\"https://rukminim1.flixcart.com/image/832/832/computer/x/f/m/acer-aspire-2-in-1-laptop-original-imaemgnwxcdzxhhq.jpeg?q=70\",\"description\":\"lorem ipsum dolor simit\",\"a_price\":741,\"location\":\"Rajkot\",\"discount\":25,\"d_price\":650}]'\nvar eachProduct = JSON.parse(products);\nvar allProducts =\"\";\nfor( var i in eachProduct){\n      allProducts += '    '+eachProduct[i].title+' '+eachProduct[i].description+' '+eachProduct[i].location+'  Save '+eachProduct[i].discount+'% $'+eachProduct[i].a_price+'  starting at $'+eachProduct[i].d_price+'/night  '\n    }\nbm.add('productListing', {\n    label: 'Product`',\n    content: '.product-card{max-width:23%;font-size:12px;margin:5px;box-shadow:2px 2px 15px #999;display:inline-block;box-shadow: 2px 2px 15px #999;}.product-card&gt;a{background:#f2f2f2;color:#333;transition:all .1s;position:relative;display:block;z-index:0;padding-bottom:5px;text-decoration:none}.product-card&gt;a:hover{text-decoration:none;box-shadow:0 1px 3px rgba(0,0,0,.3)}.product-card .product-card-img{display:block;height:250px;width:100%}.product-card figcaption{display:block;padding:0 10px}.product-card .product-card-address{color:#888;line-height:1.2}.product-card .product-card-address i{font-size:14px;margin-right:2px;line-height:1.2}.product-card .product-card-price{display:block;text-align:right}.product-card .product-card-price .original-price,.product-card .product-card-price .price-savings{line-height:22px;display:inline-block;vertical-align:middle}.product-card .product-card-price .price-savings{float:left;color:#82b548}.product-card .product-card-price .original-price{color:#aaa;font-size:14px}.product-card .product-card-price .amount-price{text-align:right;font-size:20px;color:#82b548}.product-card .product-card-price .from{font-size:12px}' + allProducts,\n      attributes: {\n        class: 'fa fa-user',\n        title: 'Product Block'\n      },\n      category: 'Basic'\n    });\n````\nAnd I think the actual issue has gone too far beyond north of the wall...!!!\nThanks a lot bro!. My Environment:\n\nUbuntu 16.04\nNode: 8.1.1\nNPM: 5.0.3\n\nnpm start works fine. Works like butter...!!!\nThanks!. How about getting particular named trait?:innocent:. Uncaught TypeError: this.get is not a function. I checked all. Didn't worked. Same error. But I got it working for now by pushing values into array.\nThanks for the help.. Fine works, but I'm still looking on how to render component manually?. Yes @artf , options are bounded in the traits, but I think the view is not updated:\nvar categsTrait = this.get('traits').where({name: 'cats'})[0];\ncategsTrait.set('options', catsVals)\nconsole.log(this.get('traits').where({name: 'cats'})[0].get('options'));\nThis works and I get my array in console, but the traits panel view is not updated.. My solution, in your grapesjs.init method, init your images:\nvar your_image = '[ \"/path/to/your/image.png\", \"/path/to/your/image2.png\" ]';\neditor = grapesjs.init({\n...,\nassetManager: {\n      assets: your_image\n}\n...\nElse,\nYou need to post images to your API.. https://github.com/artf/grapesjs/wiki/API-Asset-Manager\nhttps://github.com/artf/grapesjs/wiki/API-Asset-Manager#add\nCheck this out.\n. Thanks, just saw now that this is fixed! Thanks!. Wow man, Thanks a lot!\nSneak Peak:\n\n:heart_eyes:\n. ",
    "ghost": "@artf @saiaungpyae  hey thanks for the solution . Can u tell me how can i make a plugin of my own i.e a custom one. I know that u have a link of creating a plugin https://github.com/artf/grapesjs/wiki/Creating-plugins but the thing is i want something like you did in above form plugin. \nwhat did u did in that js file ? which added the components. i could do directly by simply adding in grapes.min.js file. \nBut thats a rookie style.\nhelp would me appreciated . . @saiaungpyae man this is nice helped alot. \nbut can i add script to particular.\nlet say i wanna run a loop through a json object and show the value.\nvar name='{\"firstname\":\"jhon\",\"lastname\":\"doe}';\n  var res = JSON.parse(name);\n  bm.add('Json data',{\n    label: \"Json data\",\n    category: \"Basic\",\n    content: \"<p id='demo'>\"+res.firstname+\"</p>\",\n      attributes: {\n        class: \"fa fa-calendar\"\n    }\n  });\nthe above code can show the firstname but if there were to have much more key value pair then looping is a solution but how ??. @saiaungpyae Thanks alot brother. \nsolution is simple and neat.\nYou have been a saviour. . @artf but for the form plugin ( which i added for my local environment ) had component setting .HOW DID THAT HAPPEN ??\nI want something like that adding a new plugin with its block component having custom setting.. \nyou see the product card .\nnow i want a max-width property in setting which if i set to 50 % gives me two cards in a row.\n. ```\ncomps.addType('productList', {\n    // Define the Model\n    model: defaultModel.extend({\n      init() {\n        // ComponentView.prototype.initialize.apply(this, arguments);\n        this.listenTo(this, 'change:apiurl change:items', this.doStuff);\n        // this.listenTo(this, 'change:items', this.doStuff);\n      },\n  doStuff() {\n    this.get('traits').each(function(trait){\n      gettraits.push(trait.get('value'));\n      // console.log(this.get('traits').where({name: 'apiurl'})[0].get('value'));\n      // gettraits[0] = this.get('traits').where({name: 'apiurl'})[0].get('value')\n    });\n\n    $.ajax({\n      type: 'GET',\n      url: gettraits[0],\n      // url: 'https://554babe34aa78d4ac60745ab85148d81.us-east-1.aws.found.io:9243/pdm1/_search',\n      data: data,\n      async: false,\n      beforeSend: function (xhr) {\n        xhr.setRequestHeader (\"Authorization\", \"Basic \" + btoa(username + \":\" + password));\n    },\n      dataType: 'json',\n      success: function (data) {\n        console.log(data);\n        rawData = data \n      }\n    });\n\n    // var rawData = '{\"took\":2,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":116,\"max_score\":1,\"hits\":[{\"_index\":\"pdm1\",\"_type\":\"product\",\"_id\":\"c53cc780-60a3-11e7-91b9-3fd67217cf37\",\"_score\":1,\"_source\":{\"product_id\":\"1290772\",\"sku\":\"20-60031\",\"country\":\"US\",\"language\":\"en\",\"currency\":\"USD\",\"product_name\":\"Overseas Direct, Camo Insulated Cooler Bag\",\"description\":\"description\",\"linename\":\"AAkron Line\",\"categories\":[\"Insulated Bags\",\"New for 2017\",\"Overseas Direct\"],\"search_keyword\":[\"tote bag\",\"insulated tote\",\"insulated tote bag\",\"insulated bag\",\"camo bag\",\"camo tote\"],\"default_image\":\"5/20-60031-pink-camo.jpg\",\"valid_up_to\":\"2016-12-12T00:00:00.000Z\",\"price\":5.5,\"username\":\"aakron\",\"attributes\":{\"colors\":[\"Pink Camo\",\"Green Camo\"]},\"supplier_id\":5,\"supplier_info\":{\"company\":\"Aakron Line\",\"username\":\"aakron\",\"ownerId\":\"hi4v28wiizb8tHrrT\"},\"vid\":[\"sup5_2\",\"dist1001-1\"],\"pricing\":[{\"_id\":\"HNgDQ3EiQGuA284aS\",\"product_id\":\"1290772\",\"sku\":\"20-60031\",\"price_type\":\"regular\",\"type\":\"decorative\",\"global_price_type\":\"global\",\"price_unit\":\"box\",\"price_range\":[{\"qty\":{\"gte\":3000,\"lte\":4999},\"price\":3.22,\"code\":\"C\"},{\"qty\":{\"gte\":5000,\"lte\":9999},\"price\":3.14,\"code\":\"C\"},{\"qty\":{\"gte\":10000,\"lte\":24999},\"price\":3.09,\"code\":\"C\"}]}]}},{\"_index\":\"pdm1\",\"_type\":\"product\",\"_id\":\"c542e200-60a3-11e7-91b9-3fd67217cf37\",\"_score\":1,\"_source\":{\"product_id\":\"1290770\",\"sku\":\"20-59865\",\"country\":\"US\",\"language\":\"en\",\"currency\":\"USD\",\"product_name\":\"Overseas Direct, Camo RPET Fold-Away Carryall\",\"description\":\"description\",\"linename\":\"AAkron Line\",\"categories\":[\"RPET BAGS\",\"New for 2017\",\"Overseas Direct\"],\"search_keyword\":[\"tote bag\",\"camo bag\",\"camo tote bag\",\"camo\",\"recycled bag\",\"RPET bag\"],\"default_image\":\"5/20-59865-pink-camo.jpg\",\"valid_up_to\":\"2016-12-12T00:00:00.000Z\",\"price\":6.5,\"username\":\"aakron\",\"attributes\":{\"colors\":[\"Pink Camo\",\"Green Camo\"]},\"supplier_id\":5,\"supplier_info\":{\"company\":\"Aakron Line\",\"username\":\"aakron\",\"ownerId\":\"hi4v28wiizb8tHrrT\"},\"vid\":[\"sup5_2\",\"dist1001-1\"],\"pricing\":[{\"_id\":\"N4tm3GG9kKhfZ7dF4\",\"product_id\":\"1290770\",\"sku\":\"20-59865\",\"price_type\":\"regular\",\"type\":\"decorative\",\"global_price_type\":\"global\",\"price_unit\":\"box\",\"price_range\":[{\"qty\":{\"gte\":5000,\"lte\":9999},\"price\":2.2,\"code\":\"C\"},{\"qty\":{\"gte\":10000,\"lte\":24999},\"price\":2.15,\"code\":\"C\"},{\"qty\":{\"gte\":25000,\"lte\":49999},\"price\":2.07,\"code\":\"C\"}]}]}},{\"_index\":\"pdm1\",\"_type\":\"product\",\"_id\":\"c5483930-60a3-11e7-91b9-3fd67217cf37\",\"_score\":1,\"_source\":{\"product_id\":\"1290775\",\"sku\":\"20-43600\",\"country\":\"US\",\"language\":\"en\",\"currency\":\"USD\",\"product_name\":\"Overseas Direct, Cooling Towel with Tube\",\"description\":\"description\",\"linename\":\"AAkron Line\",\"categories\":[\"New for 2017\",\"Overseas Direct\",\"Towel\"],\"search_keyword\":[\"towel\",\"cooling towel\",\"cool towel\",\"chill towel\",\"chilling towel\",\"cold towel\",\"reusable towel\"],\"default_image\":\"5/20-43600-blue.jpg\",\"valid_up_to\":\"2016-12-12T00:00:00.000Z\",\"price\":21.11,\"username\":\"aakron\",\"attributes\":{\"colors\":[\"Blue\",\"Pink\",\"Light Green\"]},\"supplier_id\":5,\"supplier_info\":{\"company\":\"Aakron Line\",\"username\":\"aakron\",\"ownerId\":\"hi4v28wiizb8tHrrT\"},\"vid\":[\"sup5_2\",\"dist1001-1\"],\"pricing\":[{\"_id\":\"wrZabZyzhuJFBmWyo\",\"product_id\":\"1290775\",\"sku\":\"20-43600\",\"price_type\":\"regular\",\"type\":\"decorative\",\"global_price_type\":\"global\",\"price_unit\":\"box\",\"price_range\":[{\"qty\":{\"gte\":3000,\"lte\":4999},\"price\":2.19,\"code\":\"C\"},{\"qty\":{\"gte\":5000,\"lte\":9999},\"price\":2.14,\"code\":\"C\"},{\"qty\":{\"gte\":10000,\"lte\":24999},\"price\":2.1,\"code\":\"C\"}]}]}},{\"_index\":\"pdm1\",\"_type\":\"product\",\"_id\":\"c54f8c30-60a3-11e7-91b9-3fd67217cf37\",\"_score\":1,\"_source\":{\"product_id\":\"1290767\",\"sku\":\"20-44715\",\"country\":\"US\",\"language\":\"en\",\"currency\":\"USD\",\"product_name\":\"Overseas Direct, Earbuds in Case\",\"description\":\"description\",\"linename\":\"AAkron Line\",\"categories\":[\"Ear Buds\",\"New for 2017\",\"Overseas Direct\",\"Phone Accessories\"],\"search_keyword\":[\"ear buds\",\"earbuds\",\"ear phones\",\"earphones\",\"head phones\",\"headphones\"],\"default_image\":\"5/20-44715-red.jpg\",\"valid_up_to\":\"2016-12-12T00:00:00.000Z\",\"price\":8.5,\"username\":\"aakron\",\"attributes\":{\"colors\":[\"Red\",\"Blue\",\"Purple\",\"White\",\"Lime green\",\"Black\"]},\"supplier_id\":5,\"supplier_info\":{\"company\":\"Aakron Line\",\"username\":\"aakron\",\"ownerId\":\"hi4v28wiizb8tHrrT\"},\"vid\":[\"sup5_2\",\"dist1001-1\"]}},{\"_index\":\"pdm1\",\"_type\":\"product\",\"_id\":\"c5463d60-60a3-11e7-91b9-3fd67217cf37\",\"_score\":1,\"_source\":{\"product_id\":\"1290760\",\"sku\":\"20-44340\",\"country\":\"US\",\"language\":\"en\",\"currency\":\"USD\",\"product_name\":\"Overseas Direct, Large Cord Keeper\",\"description\":\"description\",\"linename\":\"AAkron Line\",\"categories\":[\"New for 2017\",\"Overseas Direct\",\"Phone Accessories\"],\"search_keyword\":[\"keeper\",\"cord holder\",\"charger holder\",\"charger keeper\",\"ear bud  holder\",\"cord organizer\"],\"default_image\":\"5/20-44340-blue.jpg\",\"valid_up_to\":\"2016-12-12T00:00:00.000Z\",\"price\":3.6,\"username\":\"aakron\",\"attributes\":{\"colors\":[\"Blue\",\"Black\",\"Lime green\",\"White\"]},\"supplier_id\":5,\"supplier_info\":{\"company\":\"Aakron Line\",\"username\":\"aakron\",\"ownerId\":\"hi4v28wiizb8tHrrT\"},\"vid\":[\"sup5_2\",\"dist1001-1\"]}},{\"_index\":\"pdm1\",\"_type\":\"product\",\"_id\":\"c549e6e0-60a3-11e7-91b9-3fd67217cf37\",\"_score\":1,\"_source\":{\"product_id\":\"1290763\",\"sku\":\"20-44427\",\"country\":\"US\",\"language\":\"en\",\"currency\":\"USD\",\"product_name\":\"Overseas Direct, Textured Sport Smart Wallet - Football\",\"description\":\"description\",\"linename\":\"AAkron Line\",\"categories\":[\"New for 2017\",\"Overseas Direct\",\"Phone Accessories\",\"Smart Wallet\"],\"search_keyword\":[\"smart wallet\",\"ID holder\",\"phone wallet\",\"card wallet\",\"card holder\",\"cell phone wallet\",\"phone card holder\",\"phone ID holder\"],\"default_image\":\"5/20-44427-brown.jpg\",\"valid_up_to\":\"2016-12-12T00:00:00.000Z\",\"price\":13.5,\"username\":\"aakron\",\"attributes\":{\"colors\":[\"Brown\"]},\"supplier_id\":5,\"supplier_info\":{\"company\":\"Aakron Line\",\"username\":\"aakron\",\"ownerId\":\"hi4v28wiizb8tHrrT\"},\"vid\":[\"sup5_2\",\"dist1001-1\"]}},{\"_index\":\"pdm1\",\"_type\":\"product\",\"_id\":\"c54aaa30-60a3-11e7-91b9-3fd67217cf37\",\"_score\":1,\"_source\":{\"product_id\":\"1290755\",\"sku\":\"20-49020\",\"country\":\"US\",\"language\":\"en\",\"currency\":\"USD\",\"product_name\":\"Overseas Direct, Rectangle Purse Hook\",\"description\":\"description\",\"linename\":\"AAkron Line\",\"categories\":[\"PURSE HOOK\",\"New for 2017\",\"Overseas Direct\"],\"search_keyword\":[\"purse holder\",\"purse hook\",\"bag holder\",\"bag hook\"],\"default_image\":\"5/20-49020-black.jpg\",\"valid_up_to\":\"2016-12-12T00:00:00.000Z\",\"price\":1.2,\"username\":\"aakron\",\"attributes\":{\"colors\":[\"Black\",\"White\"]},\"supplier_id\":5,\"supplier_info\":{\"company\":\"Aakron Line\",\"username\":\"aakron\",\"ownerId\":\"hi4v28wiizb8tHrrT\"},\"vid\":[\"sup5_2\",\"dist1001-1\"]}},{\"_index\":\"pdm1\",\"_type\":\"product\",\"_id\":\"c5504f80-60a3-11e7-91b9-3fd67217cf37\",\"_score\":1,\"_source\":{\"product_id\":\"1290754\",\"sku\":\"20-76520\",\"country\":\"US\",\"language\":\"en\",\"currency\":\"USD\",\"product_name\":\"Overseas Direct, 20 oz. Halcyon Tumbler\",\"description\":\"description\",\"linename\":\"AAkron Line\",\"categories\":[\"TUMBLERS\",\"New for 2017\",\"Overseas Direct\"],\"search_keyword\":[\"tumbler\",\"halcyon\",\"rubberized tumbler\",\"yeti\",\"drinkware\",\"insulated tumbler\",\"insulated\",\"stainless steel tumbler\",\"stainless\",\"vacuum insulated\"],\"default_image\":\"5/20-76520-white.jpg\",\"valid_up_to\":\"2016-12-12T00:00:00.000Z\",\"price\":2.2,\"username\":\"aakron\",\"attributes\":{\"colors\":[\"Black\",\"Blue\",\"Gray\",\"White\"]},\"supplier_id\":5,\"supplier_info\":{\"company\":\"Aakron Line\",\"username\":\"aakron\",\"ownerId\":\"hi4v28wiizb8tHrrT\"},\"vid\":[\"sup5_2\",\"dist1001-1\"]}},{\"_index\":\"pdm1\",\"_type\":\"product\",\"_id\":\"c55cd2a0-60a3-11e7-91b9-3fd67217cf37\",\"_score\":1,\"_source\":{\"product_id\":\"1290761\",\"sku\":\"20-44230\",\"country\":\"US\",\"language\":\"en\",\"currency\":\"USD\",\"product_name\":\"Overseas Direct, 3 in 1 Car Mount Phone Stand\",\"description\":\"description\",\"linename\":\"AAkron Line\",\"categories\":[\"New for 2017\",\"Overseas Direct\",\"Phone Accessories\",\"Tech Industry\"],\"search_keyword\":[\"phone stand\",\"phone holder\",\"phone mount\",\"car phone holder\",\"cell phone holder\"],\"default_image\":\"5/20-44230-lime-green.jpg\",\"valid_up_to\":\"2016-12-12T00:00:00.000Z\",\"price\":2.6,\"username\":\"aakron\",\"attributes\":{\"colors\":[\"Lime green\",\"Blue\",\"Black\",\"Gray\"]},\"supplier_id\":5,\"supplier_info\":{\"company\":\"Aakron Line\",\"username\":\"aakron\",\"ownerId\":\"hi4v28wiizb8tHrrT\"},\"vid\":[\"sup5_2\",\"dist1001-1\"]}},{\"_index\":\"pdm1\",\"_type\":\"product\",\"_id\":\"4a3cab10-60b0-11e7-bdb8-bd8ae0cf175f\",\"_score\":1,\"_source\":{\"product_id\":\"1290773\",\"sku\":\"20-60035@!!\",\"country\":\"US\",\"language\":\"en\",\"currency\":\"USD\",\"product_name\":\"Overseas Direct, Insulated Cooler Bag\",\"description\":\"description\",\"linename\":\"AAkron Line\",\"categories\":[\"Insulated Bags\",\"New for 2017\",\"Overseas Direct\"],\"search_keyword\":[\"tote bag\",\"insulated tote bag\",\"insulated tote\",\"insulated bag\",\"cooler bag\",\"cooler tote\"],\"default_image\":\"5/20-60035-black.jpg\",\"valid_up_to\":\"2016-12-12T00:00:00.000Z\",\"price\":22.11,\"username\":\"aakron\",\"attributes\":{\"colors\":[\"Black\",\"Blue\"]},\"supplier_id\":5,\"supplier_info\":{\"company\":\"Aakron Line\",\"username\":\"aakron\",\"ownerId\":\"hi4v28wiizb8tHrrT\"},\"vid\":[\"sup5-3\",\"dist1001-1\"]}}]}}'\n    var productHits = rawData;\n    var eachProduct = productHits.hits.hits;\n\n    // Number of item to show stored in variable\n    var numb = gettraits[1];\n    var numProducts = [];\n\n    for(var j = 0; j < numb; j++){\n      numProducts.push(eachProduct[j]);\n    } \n    console.log(numProducts)\n\n    // '+eachProduct[i]._source.description+'\n    // Looping only number of items to show\n    for( var i in numProducts){\n      allProducts += '<div class=\"product-card\"> <img class=\"product-card-img\" src=\"http://104.239.249.114/live-api/web/images/' + eachProduct[i]._source.default_image + '\"/> <figcaption> <h3 class=\"product-card-title\">'+eachProduct[i]._source.product_name+'</h3> <p class=\"product-description\">'+eachProduct[i]._source.description+'</p><p class=\"product-card-address\"> <i class=\"fa fa-map-marker\"></i>'+eachProduct[i]._source.country+' </p><div class=\"product-card-price\"> <span class=\"price-savings\">Save 25%</span> <s class=\"original-price\">$'+eachProduct[i]._source.price+'</s> <p class=\"amount-price\"> <span class=\"from\">starting at</span> $'+eachProduct[i]._source.price+'<span class=\"from\">/night</span> </p></div></figcaption></div>'\n    }\n    // console.log(allProducts);\n\n    // localStorage.setItem(\"productsListData\", JSON.stringify(allProducts));\n    // console.log(localStorage.getItem(\"productsListData\"));\n\n    // bm.render();\n    // this.el.innerHTML = '';\n    // this.$el.appendChild(allProducts);\n    // console.log(\"$('#listings'):\",$('#listings'));\n\n    $('iframe.gjs-frame').contents().find('#listings').append(allProducts);\n  },\n  // Extend default properties\n  defaults: Object.assign({}, defaultModel.prototype.defaults, {\n    editable: true,\n    // Traits (Settings)\n    traits: [\n      // strings are automatically converted to text types\n      {\n        label: 'API URL',\n        name: 'apiurl',\n        options: [\n          {value: 'text', name: 'Text'}\n        ],changeProp: 1\n      },\n      {\n        label: 'Items',\n        name: 'items',\n        type: 'number',\n        changeProp: 0\n      }],\n  }),\n},\n// The second argument of .extend are static methods and we'll put inside our\n// isComponent() method. As you're putting a new Component type on top of the stack,\n// not declaring isComponent() might probably break stuff, especially if you extend\n// the default one.\n{\n  isComponent: function(el) {\n    if(el.tagName == 'PRODUCTLIST'){\n      return {type: 'productList'};\n    }\n  },\n}),\n\n// Define the View\nview: defaultType.view,\n\n});\n```\nP.S comments might not be helpful. . not working bro....:cry:\nYou need to give much more comprehensive documentation.\n. hey @artf working on same thing.\nYour solution does set values but nothing in editor side.\nvar categsTrait = this.get('traits').where({name: 'cats'})[0];\nconsole.log(categsTrait);\ncategsTrait.set('options', [{ value:'val1',name:'name12' }, { value:'val2',name:'name13' }]);\nHere is the screenshot for reference:\n\nYou can see in the console the data is set in the categsTrait.\nThanks.\nEDIT:\n{\n            label: 'Categories',\n            name: 'cats',\n            type: 'select',\n            options: [{value:'',name:''}]\n }. This doesn't show how to show images in the \"uplodaer\" after the image has been uploaded. Also, function load() of AssetManager, does not always load the images in the modal.\n-edit:\nhad to user function load() with passed data, eg:\njavascript\nam.load({\n  assets: images,\n});\nbut still, after using drag&drop uploader or selectin the file manually, it does not show in the list to the right immediately, I have to reload the page to see those.. Awesome, thank you for the project :). Thanks Ryan, that worked great! :D. me too, i sometimes get the same error with angular 6. . Hi Artur ( @artf ),\nI need to add save and publish button so is there any plugin available or do i need to hardcoded.\nCan you please help me.. Looks like I forgot about the DomComponents, after downloading and having a look through the src for grapesjs-newsletter, I was in the openImportCommand and noticed how the DomComponents were being updated. So I added the following into my react componentWillReceiveProps method just after I update the html in local storage.\neditor.DomComponents.getWrapper().set('content', '');\n editor.setComponents($f('body').html());\nNow it shows the image correctly, its not perfect yet but I seem to be on the right track now.. Great, thanks @artf.\nI will give it a go.. ",
    "imamovicm": "@artf Last version, everything is on my localhost and when I want to upload some image from my local folder and want to use it - nothing happens.. Remote storage?\nWhen I drag or upload image there is no preview but it run upload file which I provided but when I tried to debug it shows me only empty array, so I can't write anything to db because its empty. \nAlso shouldn't there will be preview for image no matter if its uploaded or not?\n. assetManager: {\n        storageType      : '',\n        upload: 'http://localhost/uploadImage.php',\n        storeOnChange    : true,\n        storeAfterUpload  : true,\n        assets        : [\n           { type: 'image', src : 'http://placehold.it/350x250/78c5d6/fff/image1.jpg', height:350, width:250},\n           { type: 'image', src : 'http://placehold.it/350x250/459ba8/fff/image2.jpg', height:350, width:250},\n           { type: 'image', src : 'http://placehold.it/350x250/79c267/fff/image3.jpg', height:350, width:250},\n           { type: 'image', src : 'http://placehold.it/350x250/c5d647/fff/image4.jpg', height:350, width:250},\n           { type: 'image', src : 'http://placehold.it/350x250/f28c33/fff/image5.jpg', height:350, width:250},\n           { type: 'image', src : 'http://placehold.it/350x250/e868a2/fff/image6.jpg', height:350, width:250},\n           { type: 'image', src : 'http://placehold.it/350x250/cc4360/fff/image7.jpg', height:350, width:250},\n           { type: 'image', src : './img/work-desk.jpg', date: '2015-02-01',height:1080, width:1728},\n           { type: 'image', src : './img/phone-app.png', date: '2015-02-01',height:650, width:320},\n           { type: 'image', src : './img/bg-gr-v.png', date: '2015-02-01',height:1, width:1728},\n         ]\n      },. \n. You're right, my mistake but my question wasn't about that. Even when I record image to DB how I can use it in realtime in my builder with preview?. ",
    "aliassad": "upload: 'http://localhost/uploadImage.php', \nwhat type of code is in this file ? @artf . can you create a demo i have unable to handle this, after upload how the image will shown in that image component ? . Actually your GrapeJS code is Running on Localhost:8080 u need to set cors header settings. Jquery added\nPlease don't close this issue without fixing it. Unable to figure out this think now i am using AngularJS to test this liberary work with AngularJS 1 or not . ",
    "ashishvarma04": "nice guide  webner solution  is best to guide me on grapesjs thanks it worked for me, for more learning for students you can also visit\n more details . ",
    "derblub": "I've ended up, using a payed Litmus account.. I'd like to add:\nCurrently, I couldn't find an event to trigger the store method, when autosave: false.\nCan you recommend a different way to trigger a storage-save, without having to manually read/pass data?. ",
    "HarshOB": "How to get the value of a particular or single trait? @artf . doStuff(){\n  ...\n  editor.trigger('change:selectedComponent');\n}\nThis does not render traits(YES, I got an array in console). Is there any other way to immediately reflect changes to traits based on previous select value?. Let's say I made custom component and add that to grapes editor then I want to change body(You can say whole HTML/CSS) of that component using selected value in the drop-down from traits. Is it possible?\n. I tried that. I write one function inside the model to change existing component.\n// Edit\nblockManager.get('productListing').set({\nlabel: 'Updated simple block',\ncontent: response\n});\nBut this will not update that current component. When I drag same component again then It will reflect the change. What can I do to reflect the changes on the current window?\n. \nWhat I want is when user select any templates from the drop-down(shown on right side) then that template will be loaded from template folder(shown on the left side) and on the fly, it will reflect on a window without reloading. Hope this will clarify what my requirement is.. And How can I add a listener for option change?. No this is not solved yet, but you can add a listener on option change like this way\n```\ninit() {\n        this.listenTo(this, 'change:name', this.doStuff); // \n      },\ndoStuff() {\n        console.log('changed');\n      },\ndefaults: Object.assign({}, defaultModel.prototype.defaults, {\n        editable: true,\n        droppable: true,\n        traits: [{\n          label: 'data',\n          name: 'name',\n          type: 'customConent',\n          changeProp: 1,\n        }],\n      }),\n```. Is this resolved now? because you closed it.. Hello @ateshuseyin  \nI don't want the same editor as an image I want to build my own. I just want to add that icon to my component and when I click on that icon I want to display area through the user can add text, image, HTML code etc and that will be reflected in that component.\n. Here I explain again with a screenshot. You can see that there are two text fields under one checkbox. So, when I clicked on checkbox/ check that checkbox then that two input fields will be enabled(I want it to disable when it loads for the first time).\n\n. Yes, I have tried but it won't work. Like I want two text boxes in front of one label like if as shown in below image I want to make two text boxes under the same label \"TOKEN\"\n\n. How can I replace the content of a component with specific value like \"Hello\"? . Yes, But getting error \"model is not defined\". I'll provide a link to a live demo.. I didn't get traits if I use script while creating a custom component. Is there any problem with traits? . like I pass codes explicitly to grapes. and I got my HTML and CSS while clicking on view code button on the header of grapes editor. but it wasn't shown to the editor. Once I refresh the page or reopen the same page I got the structure in the editor as well.. Here is the code:\neditor.TraitManager.addType('customConent1', {\n  getInputEl: function () {\n    if (!this.inputEl) {\n      var input = document.createElement('select');\n      input.setAttribute(\"id\", \"Div1\");\n      input.setAttribute(\"name\", \"Div1\");\n      input.setAttribute(\"style\", \"background:#363636\");\n      $.each(partialOptions, function (key, value) { //partialOptions is an array\n        var group = $('<optgroup label=\"' + key + '\" />');\n        $.each(value, function () {\n            $('<option />').html(this.name).appendTo(group);\n        });\n        group.appendTo(input);\n      });\n      input.value = this.target.get('customConent1');\n      this.inputEl = input;\n    }\n    return this.inputEl;\n  },\n});. No, I didn't got any changes.. Thanks for the reply but as I told you (#647) that custom traits value is not getting in HTML code . I tried creating custom trait and override a method but didn't see any attribute generated. can you please look at this code and correct me if there's any error. When I write data in traits it should generate attribute as  ':text=item.text.data' at datatextfield.\n```\n getInputEl: function() {\n    if (!this.inputEl) {\n      var input = document.createElement('textarea');\n      input.value = this.target.get('content');\n      this.inputEl = input;\n    }\n    return this.inputEl;\n  },\n/*\n   * Triggered when the value of the model is changed\n   /\n  onValueChange: function () {\n    this.target.set('content', this.model.get('value'));\n  },\ngetValueForTarget: function() {\n      console.log(\"inside getValueForTargetss\")\n    return this.model.get( 'item.text' + 'value');\n  }\n});\n```\n\n. Thanks, @artf for this help. I got another problem (I have multiple pages) when I set a value of trait using method overloading then it's value is not persistent in trait textarea. like if I typed \"id\" in textarea then click on other page and come back to same page and then if I open settings and saw then it's value is automatically cleared from the textarea but it is still in attribute. How can I set value in traits that is present in attribute? . ",
    "nethzor": "\nAnd if you don't have selected component context, here's how I get all values of a type:\njs\nwindow.grapesjs.editors[0]\n  .getComponents()\n  .models.filter(_ => _.attributes.type === 'facebook-messenger')\n  .forEach(_ => {\n    console.log(\n      _.get('traits')\n        .where({\n          name: 'campaign',\n        })[0]\n        .get('value')\n    )\n  })\n\nOne year later, I cannot seem to get this to work.\n@artf, how do we get and set traits of a specific type?\nOr even better, how can I set up a trait so that I can select it by ID rather than the default .gjs-trt-trait class and/or its children?. ",
    "bungambohlah": "Sorry before, this issue was fixed by me with method:\n1. allowScript option must enable in the grapejs config\nexample :\njavascript\nvar editor  = grapesjs.init({\n    allowScripts: 1,\n...\n\n\nThen give your materialize's js or script and your init component script inside the canvas container\n<div id=\"gjs\">\n...\n<script src=\"https://code.jquery.com/jquery-2.1.1.min.js\"></script>\n<!-- The framework -->\n<script src=\"js/materialize.min.js\"></script>\n<!-- The initialize components for the framework -->\n<script src=\"js/slider.js\"></script>\n</div>\n\n\nContent of slider.js is\njavascript\nfor (var i = 0; i < 1; i++) {\n  $('iframe').ready(function () {\n    var frame = $(\"iframe\").contents();\n    console.log($('html', frame).html());\n    $('.slider', frame).slider();\n    $('select', frame).material_select();\n  });\n}\nAnd it's work\nNote for step 3, you must get content from iframe canvas. then select with jQuery selector to initialize component\nThank you and sorry for my bad english or grammar.. Thank u for ur reply, i can show my code\n\n\nFirst in the container with id \"gjs\" and grab the content directly from the element and load dynamically with .load jQuery, of course this is contain JQuery :\n```html\n\n\n\n\n\n\n\n<link rel=\"stylesheet\" href=\"/dev/css/grapesjs-plugin-filestack.css\">\n<script src=\"https://static.filestackapi.com/v3/filestack-0.1.12.js\"></script>\n\n\n\n\n\n\n\n\n\n...\n    \n    $( \"#gjs\" ).load( \"someinternalhtmlforload.html\", function( response, status, xhr ) {\n      if ( status == \"error\" ) {\n            var msg = \"Sorry but there was an error: \";\n            $( \"#gjs\" ).html( msg + xhr.status + \" \" + xhr.statusText );\n      } else {\n        // initialize grapesjs\n        var editor  = grapesjs.init({\n          allowScripts: 1,\n          clearOnRender: true,\n          autorender: 0,\n          height: '100%',\n          container : '#gjs',\n          fromElement: true,\n          showOffsets: true,\n          plugins: ['gjs-plugin-export', 'gjs-preset-webpage', /<em>'gjs-plugin-filestack'</em>/,\n            'gjs-aviary', 'gjs-blocks-basic', 'gjs-plugin-forms'],\n          ....\n        });\n      }\n    });\n    \n\n\nthen in mysomeinternalhtmlforload.htmlcontain JQuery likehtml\n\n\nImport Google Icon Font\n\nImport materialize.css\n\nLet browser know website is optimized for mobile\n\n    ...\n  \n\n    ...\n    Import jQuery before materialize.js\n\n\n\n      $(document).ready(function(){\n        $('.slider').slider();\n      });\n    \n\n\n```\nI will try for this option:\nEDIT: sorry for my previous edit, this is really works, but can i initialize jQuery for the content directly from the element ?, it's make more easy because, my JQuery included in HTML section, not in grapesJS section\n https://github.com/artf/grapesjs/wiki/Cmponents-&-JS#component-related. Thank u as ur help @artf ,\n\nyou're loading an entire HTML document inside another, don't do it, it's wrong just by definition. Basically, this is what happening before the browser fixes it by itself\n\nYes sure, i want to load dynamically html that changed or saved by user and could be edit again, it's done with load/save storage method but i want to get the file from my web designer intact and when the client made the first change will be sure load html entirely, and the second change and so on will use load/save storage method, am i right? or you have another suggestion?\ni have a suggestion with this,\nit's works when i try execute this script in my someinternalhtmlforload.html file that from my web designer :\nhtml\n...\n<script>\n    if(typeof jQuery == 'undefined')\n    {\n      console.log('inserting jquery...');\n      var script = document.createElement('script');\n      script.type = \"text/javascript\";\n      script.src = \"https://code.jquery.com/jquery-3.2.1.min.js\";\n      document.getElementsByTagName('head')[0].appendChild(script);\n    }\n</script>\n...\nit's make more compatibility and not overriding with anyone component, i can give that script to my web designer :+1: \nThank u and sorry for my bad english. Hello @ahmeddabak Thank you very much for your help, but it's initialized for all components right? and can i initialize for specific component like link's component?. @ahmeddabak Thank you very much, this is nice and helpfully, :+1: . @ahmeddabak can you show some example code of check for component have class properties, like\nhtml\n<div class=\"modal-trigger item-menu\"></div>\nI want to check component have modal-trigger or not. if have it then that component will be add the my custom toolbar. > Feel free to let me know if there is a cleaner way with backbone.\nThank you very much @daniel-farina , it's very helpful. btw i don't know nothing about Backbone :rofl: . thank you :+1: . @ahmeddabak i was try and confuse about the logic :face_with_head_bandage: \nplease, can you explain that? and please give me some example for my case :smile: \nthank you for your help :+1:  :clinking_glasses: . @artf i have cases, first case that i already define a new component accordion, then it's works successfully but i want to copy item that i've clicked and in the layer manager show selected element with the red marker. i want to select for li tag with the blue marker and can copy that with the toolbar, i mean can i select this element and can copy li tag not for child?\n\nthen in my second case is turn off droppable for all content not for limitation, how to do that?\nOr any other option like boolean true/false for example data-gjs-{property boolean} ?\nThank you for your help guys. Sorry @artf for very late reply, i have a issue with selecting the ul, no want to select the li tag, and i want to copy element per section with the ul tag selected, but when i select the element, li selected, can i disable li tag for being selected?\nThank you very much @artf  have a nice day. Hi all..\n\nor you can just put the  tag inside your template and it will be loaded\n\ni dont recommend this, when empty the canvas, <link> tag will be removed. > I'd say the correct way to do so is to extend initToolbar() of the Component model\nOf course, i make my custom toolbar in initToolbar() method\nand please @artf can you explain about the logic to push the toolbar in the child object? i confuse about the backbone structure :confused: \nThank you before :+1: . Sorry i have fixed this with my logic, thank you @artf :+1: . Oh i see , thank a lot @artf\n. Hi, @artf I have a problem, my dynamic-nav's block works now, but when I give some script to that component its give me an error Unexpected identifier. May I correct? if not please correct me, thank you very much\nThat's my script : \n```javascript\n...\n          // Dynamic navigation\n          blockManager.add('dynamic-nav', {\n            label: 'Dynamic Navigation',\n            attributes: {\n              class: 'fa fa-ellipsis-h',\n              title: 'Insert Dynamic Menu of Navigation'\n            },\n            category: 'Section',\n            content: {\n              script: function () {\n                var contentDynamic = \"\";\n                var xhr = new XMLHttpRequest();\n            contentDynamic += `<div id=\"dynamic-nav-wrapper\" class=\"nav-wrapper\" data-section-type=\"dynamic-menu-nav\">\n            <a href=\"index.html\" class=\"brand-logo\"><img src=\"images/logo.png\"></a>\n            <a href=\"index.html\" data-activates=\"mobile-demo\" class=\"button-collapse\"><i class=\"material-icons\">menu</i></a>\n            <ul id=\"dynamic-page\" class=\"right hide-on-med-and-down\">`;\n\n            xhr.onreadystatechange = function() {\n              if (xhr.readyState == XMLHttpRequest.DONE) {\n                var pages = \"\";\n                pages = JSON.parse(xhr.responseText);\n                for (var i = 0; i < pages.length; ++i) {\n                  console.log(pages[i]);\n                  if (pages[i].uuid == \"<%= page.uuid %>\") {\n                    contentDynamic += `<li class=\"current\"><a href=\"${pages[i].url}\">${pages[i].menu_name}</a></li>`;\n                  } else {\n                    contentDynamic += `<li><a href=\"${pages[i].url}\">${pages[i].menu_name}</a></li>`;\n                  }\n                }\n              }\n            }\n            xhr.open('GET', '/dev/editor/dynamicnav', true);\n            xhr.send(null);\n            contentDynamic += `</ul></div>`;\n\n            this.innerHTML(contentDynamic);\n\n            console.log('the element', this);\n          },\n        }\n      });\n\n...\n```. Thaks a lot @artf i got some idea and little tricky for what to do in the model level, thank you so much, you saved my day :rofl: . ",
    "vitanshu": "yes it's not working.. But properties of html are not editable in canvas.. this issue is valid. . ",
    "sachinbhise76": "productList is your block?. ",
    "arthuralmeidap": "@lovesandy @artf , is this still happening on the current version of grapesjs?. @altalker wich Windows version are you using?\n. @artf how can I help you to achieve that? I cloned the repo and ran the tests against the no-jquery branch and some were skipped but the rest of them were fine. @artf , the next release will come with all bug fixes?. @artf , thanks! Let me know if I can help you in anything!. I've created a PR with a fix to this behavior.\nTake a look here: https://github.com/artf/grapesjs/pull/356. I forgot to mention but this PR is related for the issue #355 . Hi @artf,\n  Don't worry, I saw the comment but when I ran the tests and everything went fine, I give a try for this PR.\n  Unfortunately, your suggestion won't work either because the modules are being loaded after the plugins.\n  One question: Why can't the Command Module load the default commands on init? I have a solution using this approach but one of the tests says : \"Main Commands - No default commands on init\" and it fails.. \n  Looking forward to hear from you\n . Hi @artf ,\n  I did what you suggested. Look and tell what you think about it.\n  All commands are loaded at the end of Command init  and removed toLoad property to not override again the default commands.\n  . @artf Ops, sorry! Fixed now!. Hi @manjunaras ,\n  I'm not @artf but , as far I have been reading about GrapesJS, with it's API , everything you mentioned is possible.\n  Take a look here: https://github.com/artf/grapesjs/wiki. Hi @manjunaras ,\n  For css, GrapesJS provides some Sass variables that you can override and change some colors. Here you can check the available sass variables: https://github.com/artf/grapesjs/blob/dev/src/styles/scss/_gjs_variables.scss\nStarting from this API-Editor you can start to save some templates ( from Submit button) \nUsing the same API you can implement a way to load the template from the templates palletes.\n Preview mode, should be a little bit harder to achieve but is pretty possible too.\nAre you having perfomance issues with GrapesJS ? Why do you want to remove some modules and others not? If you don't use, you can leave them there without problems but if you really need a new grapesjs without some folders, you can clone the code from github and remove what you want.\nHope I could help \n. @mekamleshk You have to do in a custom way. Using the GrapesJS Api you can achieve this. @mekamleshk,\n  This (API-Editor)[https://github.com/artf/grapesjs/wiki/API-Editor] has a lot of methods. \n  One of them is getComponents that you can get the data from inside the grapes or getStyle that you can get style data used for the page\n  You will need to customize in some how to achieve what you want..\n. @mekamleshk open the Developer Tools and see if the XHR is happening for the urlLoad and what is the response. you need to return in the same format that is used to save.\nSo the same format that GrapesJS send to the remote when saving (urlStore) you should return when GrapesJS is loading the content (urlLoad). hi @artf ,\n  I will try to work on that, ok?\n  I will starting adding a new disable attribute for the button. What you think?. Hey @artf ,\n  This is not related to this issue, but do you know when a next version will be released?\n  There is some improvements on dev branch that would be nice to have them.. @artf , \n  WHere can I create a disable css class  like you created for active?. Thanks @artf .\n. I need to make some changes into some Models/Views inside GrapesJS.\nHow can I achieve with plugins? Any ideas?. owww.. Mind blowing... So simple but never thought about it... Thanks a lot!!!\nAnd about the UI? Any tips how to change it without change grapes itself?. You are the man!!! Thanks a lot!! I will try it !!!!. @art, I can't found a moment to execute the code.\nThe BlockManager.onLoad is called after the plugin is executed and then all the blocks are reset.\nI tried to use the editor.on('load')  and tried to call the code just after the grapesjs.init and didn't work any of them.\nI know that my code is working because I was trying first on Chrome DevTools and everything was fine. \n. @artf ,\nlet me show you what I'm trying:\n I create the blocks like this:\nblocks: [\n                    {\n                        id: 'b1',\n                        label: '1 Block',\n                        category: 'Basic',\n                        tab: 'content',\n                        attributes: { class: 'gjs-fonts gjs-f-b1' },\n                        content: `<div class=\"row\" data-gjs-droppable=\".cell\" data-gjs-custom-name=\"Row\">\n                <div class=\"cell\" data-gjs-draggable=\".row\" data-gjs-custom-name=\"Cell\"></div>\n              </div>`,\n                    },\n                    {\n                        id: 'b2',\n                        label: '2 Blocks',\n                        category: 'Basic',\n                        tab: 'layout',\n                        attributes: { class: 'gjs-fonts gjs-f-b2' },\n                        content: `<div class=\"row\" data-gjs-droppable=\".cell\" data-gjs-custom-name=\"Row\">\n                    <div class=\"cell\" data-gjs-draggable=\".row\" data-gjs-custom-name=\"Cell\"></div>\n                    <div class=\"cell\" data-gjs-draggable=\".row\" data-gjs-custom-name=\"Cell\"></div>\n                </div>`,\n                    },\n                ]\nand inside my plugin I'm using something like \n```\nexport default grapesjs.plugins.add('navis-block-tabs-handler', (editor) => {\n    const blockManager = editor.BlockManager;\n    const blocks = blockManager.getAll();\n    blockManager.render( blocks.filter((block) => { \n        if (block.get('tab') === 'layout') { \n            return true; \n        } \n     }));\n});\n```\n. Hi @artf ,\n  Just leaving some feedback. After reading carefully your comments and take a deeper look at GrapesJS code I've figure ou how to implement those Tabs inside the plugin.\nBasically what I did was override the OpenBlocks.js command to work as I expected. \nWhat you think about this idea? Can you see any drawbacks about this implementation?\nThanks for all your help. I'm closing the issue but if you have any  feedback, please, let me know.. You have two options:\n*  The  grapesjs-preset-newsletter plugin provides this functionality. You can install it and be happy\n\nUse the juice library to combine the css and html. You can get the html and css from the editor using: editor.getHtml() and editor.getCss(). Move the script tag to import CKEditor on the html page and just call the script inside the block. \n. When you use the editor.getHtml it returns just the html .  If you need the css too, you can use the editor.getCss().. As I said, the editor.getHtml() does not returns the applied css on the canvas.\nYou will need a the editor.getCss() to get the css. @chiqui3d, thanks for the feedback but the image block was just an example. In my case I have created a new Type and I was trying to trigger the active event for my component. It works exactly like the image block that's why I used the image block as an example.\n\n@artf, thanks for the response! it worked fine!  \nWhy the active event is not triggered internally when we call the editor.addComponents method? . IMHO, this behaviour should be attached by default because , like in my case, if I want to add a new image block, or any other block that has a special behaviour when activated, within the canvas through the API it was necessary to understand how grapes works and do that manually.\nI'm justing adding the components by API but I still want everything that comes with it. In this case the ability to upload images.\nWhat do you think?\nOBS: Please, this is just a discussion about the GrapesJS design. I'm not saying anything bad about your work at all. I really appreciate a lot what you have been doing with GrapesJS.. yes, you are right @artf . I didn't think about dumb cases like that you mentioned. \nIt worked very fine to me. I just thought if was not the case to embedded such behaviour within the addComponents or somewhere else.\nThanks for all the help btw! Closing the issue in 3, 2, 1...... What is the name of the plugin?. try to run editor.getJs().  see if it returns the previous imported JS.. @pranzikkin the name of the input is file. So you should access something like $_FILES['file'].\nTry that and let me know. @pranzikkin , \n  This error is happening because the grapes is probably running on a different port from the server.\n  Something like localhost:8080 and the server runs on 80.\n  as @JulyanoF mention you can enable the CORS for this . @pranzikkin \nput the http\\https for the url;\nsomething like http://<youraddress>. @pranzikkin \ntry to return a JSON with a src property that points to the image url. Instead of returning an array of files, try to return just one. \n```\n$file = array(\n'src' => 'http://localhost/grapesjs-dev/uploads/'.$_FILES['files']['name'][0],\n'width' => '150',\n'height' => '150',\n);\nreturn json_encode($file);die;\n```. @pranzikkin  @JulyanoF \nHere we go guys. In GrapesJS docs has a topic about what is expected as a response from the server.\nTake a look here: https://github.com/artf/grapesjs/wiki/Assets#response\n. something like:\n```\n$file = array(\n  'data' => array(\n'src' => 'http://localhost/grapesjs-dev/uploads/'.$_FILES['files']['name'][0],\n'width' => '150',\n'height' => '150',\n)\n);\nreturn json_encode($file);die;\n```\n. Here is what you looking for: https://github.com/artf/grapesjs/wiki/Components. If I understood, when you have a text component inside the canvas you can selected it and then clicks on a new button that you have created that opens the CKEditor, right? \nThen every change made on CKEditor you send back to the text component.  Am I missing something here?\nNow , when you click on the text component,   do you want to be able to change some custom component settings for this component ,right? Did I understand correctly?\n. I got it now. \nWithin grapes we have the TraitManager. This module shows the Traits options (component settings)\nTry to do something like yourContainer.append(editor.TraitManager.getTraitsViewer.el)\nit gets the whole module and inject within a container, in your case your panel.. @JulyanoF ,\nI told you without test.\n  Give me a moment to test. @JulyanoF ,\nSorry, I missed the parenthesis.\n  It is editor.TraitManager.getTraitsViewer().el. hahahha... Quando eu vi teu c\u00f3digo com selecionadoB eu reparei tbm... \nvoc\u00ea vai precisar criar uma trait para os bot\u00f5es. To vendo se \u00e9 poss\u00edvel de s\u00f3 adicionar uma trait em um component j\u00e1 existente. @JulyanoF at\u00e9 agora n\u00e3o consegui adicionar uma trait em um componente j\u00e1 existente, mas, voc\u00ea pode sobrescrever esse componente e somente adicionar as suas customiza\u00e7\u00f5es nele.\nNesse link mostra como criar um componente: https://github.com/artf/grapesjs/wiki/Components\nA \u00fanica diferen\u00e7a que ao inv\u00e9s de criar, voc\u00ea vai sobrescrever. \nAqui  \u00e9 mostrado onde pegar o componente padr\u00e3o (default type) \nvar defaultType = comps.getType('default');\nAo inv\u00e9s disso pega o componente espec\u00edfico e o sobrescreve . Esses s\u00e3o os tipos existentes:\ncell\nrow\ntable\nthead\ntbody\ntfoot\nmap\nlink\nvideo\nimage\nscript\nsvg\ntextnode\ntext\ndefault\nEu estava olhando e n\u00e3o existe um componente bot\u00e3o espec\u00edfico, mas sim um link com uma classe css para o exibir como um bot\u00e3o. \nVoc\u00ea vai precisar criar um tipo bot\u00e3o espec\u00edfico se vc quiser uma tag <Button> no seu html.. voc\u00ea n\u00e3o precisa de uma nova trait para alterar o backgroundColor ou width do template.\nSe voc\u00ea clicar no body do template e ir no Style Manager (bot\u00e3o de pincel) voc\u00ea consegue alterar essas propriedades facilmente.\n. @JulyanoF ,   at my company we faced the same problem of the Button block.. \nYou will need to wait or apply some kind of fix OR create a new component called button and use it.\nHere you find more details about how to create the a component (sometimes called Type) .\nhttps://github.com/artf/grapesjs/wiki/Components. @Deepak813 ,\nYou should follow one of the following syntaxes:\n\n\neditor.getSelected().set({title: \"March 20\", content: \"In his eyes she eclipses...\"}); -> for multiple attributes. You send a object\n\n\neditor.getSelected().set(\"title\", \"March 20\"); -> for a specific attribute. Nice, thanks! . go to the  grapesjs-preset-webpage repo on github and check the source code.  There you can take a look over all the code and check what you need.\n\n\nRepo: https://github.com/artf/grapesjs-preset-webpage. @ajwootto ,\nYou can create a custom Remote Storage and inside it apply your custom saving/updating logic.\nTake a look on this link: https://github.com/artf/grapesjs/wiki/API-Storage-Manager. Just for tests purposes, try to listen all changes on your model. \ntry with this.listenTo(model, 'change') and see what you get.. Hi @artf ,\nAdded a basic support for this. Take a look on the #1054  and let me know what do you think. hey @FrciSmrci ,\nJust to let you know... I just added support for this for grapesjs. I created a new PR and I'm waiting for Artur's review and approval.. hey @FrciSmrci , how are you?\nI'm not a native english speaker, maybe the naming is confusing. For me makes sense. What do you think?\nFor me, when I say: \" dump unused styles\" , it means export the used + unused styles from the editor.\nIs this makes sense for you?\nThe behaviour is correct. For now when you set as true it should leaves them and you set to  false it won't dump the unused styles.. okay my friends, doing now! Thanks for the feedback and the english lesson! . hey @artf , it's done!\nTake a look and thanks for the quick feedback! . Hi @artf, how are you? I really need this feature for my project, sorry to rush you but do you have any expectations about when you are going to release a new version with this? . hi @peakrams ,\nI have tested with the latest version of grapes and I think the main problem is solved. \n  I reproduced all your steps and the only problem I have found is, when changing the device mode (Desktop, Tablet, smartphone), the padding-left isn't being automatically updated with the correct value but if you de-select and select again the all the properties will be displayed correctly.\nI would like to check if you can replicate this.  Reproduce all your tests but after moving between devices de-select and select again the block and see if they display the right values.\n  . any luck?. so, in the second case do you want to update the same data-info attribute with a new key, right?\nsince data-info has a string as a type value, first you need to get it and parse to an object.\nconst dataInfoObject = JSON.parse(this.model.get('data-info'))\nafter that, you can update the object with the new key\ndataInfoObject[newKey] = newValue\nand then you change it back to string and replace the attribute value for your model\nthis.model.set('data-info', JSON.stringfy(dataInfoObject))\nlet me know if it works. Since the resize is just changing the value for width and/or height I haven't tried but I think you could try with the event styleManager:change:{propertyName}\nTake a look here for available events: https://grapesjs.com/docs/api/editor.html#available-events. @alfaalex81 \n  For the content object, you can add a new index called classes. This index needs to be an array of classes, which will be applied to the new Image block;\nFinal code:\nblockManager.add(\"image\", {\n        label: 'Image',\n        category: 'Basic',\n        attributes: { class: \"gjs-fonts gjs-f-image\" },\n        content: {\n            style: { color: \"black\" },\n            type: \"image\",\n            classes: ['class1', 'class2']\n            activeOnRender: 1,\n        },\n    });. This is not the current grapesjs's behavior.  the AssetManager only opens if you dropping directly am img block.\nYou must have to select the img block within your custom block and execute a code like that:\neditor.runCommand('open-assets', {\n  target: editor.getSelected()\n});\n. Hi @artf ,\nI have been thinking about this problem.\n  What do you think about adding a validation, when a shortcut is pressed like ctrl+c, to run only when the editor is not on editing mode or the canvas has not the input focused?\n  It would be to change this line https://github.com/artf/grapesjs/blob/dev/src/keymaps/index.js#L148 and add this validation. \n  Any thoughts on this?. @artf , Just to make myself clear about the last comment.\nThe fix would be move this validation here https://github.com/artf/grapesjs/blob/dev/src/commands/view/ComponentDelete.js#L5\nfrom the command classes and move to the https://github.com/artf/grapesjs/blob/dev/src/keymaps/index.js#L148.\nThat would make less duplicate code, and will fix the problem.\nIt would deactivate the key bindings when the editor is on editing mode.\nCan you see any problems on this approach?. PR: https://github.com/artf/grapesjs/pull/1800. Oh, I didn't say but I want to hide/show the panel according to some condition.\nI know how  I could get the panel html element itself and change the display but I was wondering about the visible property. ohh, thanks for fixing the typo! \nYes, I can do it. What should be the behavior for this case? Toggle the style display property between none and block?. created MR https://github.com/artf/grapesjs/pull/1603. Created MR #1705 . You can find some documentation here: https://github.com/artf/grapesjs/wiki/Components-&-JS. Yes, it is.  \nI can see, at least, one way to achieve this. You could create a new non-editable component and use it to create your own custom blocks.\nPS: I don't remember if you can add non-editable blocks. If it's possible to do that, you don't need to create a new component. Just add non-editable custom blocks with your content\nHere you can see how to create components: https://github.com/artf/grapesjs/wiki/Components\nHere you can see how to add blocks: https://github.com/artf/grapesjs/wiki/Blocks. You could use the editor.setComponents to load the HTML. Here you can see an example: https://github.com/artf/grapesjs/wiki/API-Editor#setcomponents\nYou will need to get the content from the HTML file first. . Try to override from the image type itself instead of default type. @artf I created the PR #1730 for this. Take a look when possible! Thanks for your help as always!. Unfortunately, I can disclosure the app built on top of GrapesJS, but I have been working on an UI tool to build E-mail marketing. We have a lot of customizations/integrations to improve the existing greatness of GrapesJS like creating a custom Asset Manager; Social blocks (to add social medias to the email); . @kuggaa , I'm interested. How could I reach you out?. At the Style Manager painel, you have a way to select/unselect to which css selectors (classes or id) \nyou want to apply the styling. \nClick on a block and open the Style Manager panel. You will see all selectors applied to that block. . Just an example:\nThe user has selected a Text Block. On the Style Manager panel, would display as it is today. The css selectors applied to it and the sections like General or Decorations to style it and besides that would have some Global section that apply the styling for a specific css rule. There are several drawbacks to my approach but, since on this app we are not using the Selectors for the Style Manager, look what I did;\nI added a custom target property to my new sector. I started to listen the change:open for each sector and if the sector has my new custom prop I set the css rule that I want as target using editor.StyleManager.setTarget('.my-class', { targetIsClass: true }); otherwise I set the current selected block like editor.StyleManager.setTarget(editor.getSelected());. Yeah, GrapesJS doesn't work like that. \nIn this case you will need to get the reference and use the API provided by GrapesJS to handle the changes.\nTake a look here: https://reactjs.org/docs/refs-and-the-dom.html. You can implement this very easily. \nThere are 2 commands that do this job.  You can override them to work as you expect.\nTake a look at the CopyComponent command. It copies the selected block to a property called clipboard. \nIn your case instead of saving everything into a property you will need to save the components into the OS clipboard and them getting them back to paste properly\n. Well, I know, at least, one workaround for this problem.\nYou can use the component toHTML  method to get the string representation that you need.\nFor the css, since I don't know a way to get only the css for that component,  you could inline the css for your html and it will inline only for that element because you only have the html for that component.\nI'm not sure if I was clear enough. Take a look here: https://grapesjs.com/docs/modules/Traits.html#add-traits-to-components\nIt shows how to add/remove custom traits for existing types. It may help you. Well, component and blocks are different concepts.  \nIf you are saying about blocks you can use the .trigger('remove') on the block that will remove it from the BlockManager. The id is used internally to track each block individually. As @WebEtSolutions said you should put unique identifiers to each new block. as far as I can see, for the droppable prop, you can only define on which HTML elements are allowed to drop your block. Since your social section is a div element, almost everywhere would be possible to drop your block.\nmaybe @artf , has better ideas about it. . What do you want to achieve at the end? \nYou could use something like editor.on('all', () => //your code here ); but this is not practical at all. there are many events being triggered by GrapesJS and I don't think this will suit your needs.\n. What do you want to achieve? I mean, what is your function supposed to do?\n. The way you did is the simplest way to achieve that in my opinion. \n. You are on the right path. Yes, you have to create a new component for that but you can't override the Image component type otherwise, as you have seen, all the images will get that.\nWhat makes those images unique? How could you differentiate between a regular image and a specific image? That logic you will need to add to your isComponent fn. \nTip: Extends your new component type from the existing Image component type.. In the docs, there is exactly an explanation about what you are looking for. \nTake a look here: https://grapesjs.com/docs/modules/Traits.html#add-traits-to-components. ",
    "cmcintosh": "@artf the thing I have noticed is that when you run .store() or .load() i am not seeing ajax calls out to the provided urls.  My worklow instead is to have a $.ajax call inside of the store/load functions.. Any follow up on this?. If no-body has looked at taking this up, I may take a look at it.. I was thinking more like what unity does for their classes, https://docs.unity3d.com/410/Documentation/ScriptReference/GameObject.html .. Im not familiar with the tools but can look into it.  Seeing as this is something im building a Drupal 8 module around it would be beneficial for everyone to have strong docs.. I believe it is only read-only.  Although it would be nice to get something like Ace for editing.. Take a look at https://github.com/artf/grapesjs/wiki/API-Storage-Manager\nYou can define a new type of storage, and use AJAX to store the template info in the database.  TBH im working on the loading part still myself.\nIt would be good @artf if we could get a wiki page added for an example tutorial around this or expand the documentation a bit around what things can be done with Remote storage.. you can use editor.getHtml() or editor.getCss() respectively to get that part.  What i am doing is storing the json returned when it sends to post to my endpoint, then just returning when the editor calls my load endpoint.. Im onto a fix.  My issue was I was assuming setCurrent was asking for the id of the storage I was creating.  it is however not.. The implementation I am doing is for Drupal which has a hierarchy for templates.  Additionally, I am looking to provide a/b testing for site builders.\nI am pulling the same data that is sent via store, to the database. \nBasically i get back the values:\ngjs-assets, gjs-components, gjs-css, gjs-html, and gjs-styles.\nAll except HTML are object arrays, what I am looking to do is update the editor with those values and refresh the display.. At this stage of my workflow, they are not yet Physical files.. setComponents works well for getting the HTML in btw.  Now im just working on getting the stored css and styles in.. Following up on this, I can get the css out of the canvas using the editor.getCss() command, is there a way to load that back in?\n. You can see the uncompressed versions in the src folder.  not totally sure how to load the unminified ones though.  . We could look at something simple as adding a Weight parameter like CMS's like drupal do.\n Ill look at the code to see how hard it would be to create a PR.. hmm, Where in the workflow would I add this.  In my case, I am loading the template information via a remote store.  Could I add it during that, or can a add it on a editor.init callback.  \nI tried adding it manually, but was still able to edit the inner elements.. Yes i think that the propagation idea is great.  To be clear the reason im looking for this is im building out a module for Drupal 8 that will allow creating themes via the GrapeJS tool.  In Drupal you have elements called Blocks, and my thought was to block of editing of those on the Main editor, and instead have a popup editor to edit them and allow reusing those across various pages.\nThis is due to how Drupal renders content via PHP and thus I need to convert the html to php variables when storing the template into a twig file.. @artf can you expand on the first option on your previous comment, \n'''\nconst updateAll = model => {\n    model.set({editable: false, ...});\n    model.get('components').each(model => updateAll(model));\n}\nupdateAll(component);\n'''\nI am not familiar with what framework your using so am still picking up how its supposed to work (actually dont know what framwork you are using and have been leaning mostly on jquery). Thanks, looks like time for me to learn a new framework ;). nothing, I had thought that would be the ideal path.  Not totally sure to implement it yet\n. Thanks, ill look at this tomorrow ;). @Coyote6 I am still working on things for this. Was busy on other things, but am now back at it.. ",
    "brandonburr86": "I noticed my PHP framework was kicking a space out in front of the JSON object. Resolved that but it's still not working.. Got it to kick back the correct JSON object after removing the space by using: header('Content-Type: application/json'); in my PHP code.\nNow it's returning the JSON object but still not rendering a page. It's blank.. Got it resolved. Page is successfully loading from remote. The final issue was I called editor.render(); manually and that was causing it to break.. Where is the issue? I'll create a temporary patch to fix it on my end before you put out the next release.. I see in the inspector that the \"row\" css class is non-existent. I checked the demo and see that the \"row\" css class is put in dynamically into the \"gjs-css-rules\" block.. http://grapesjs.com/demo.html. No the demo works fine, but it doesn't work in my app. Here is a screen capture video of the issue.\nGrapesJS issue video. Also I did try clearing the cache and launching my app in private mode. Still didn't work.. Okay I'll get that working and do a PR. ",
    "xeux": "@brandonburr86 can you copy more of you code please? I'm having the same issue but still not working, I also noticed when content type is set to json, GrapesJS do not read it correctly, it have to be plain.. @DeathStapler thanks, I was able to load the urlLoad with that setting.\n@artf still not able to render the editor, the console shows the loaded urlLoad but nothing on editor, also in the view source button.\nI'm using the latest version.. @artf I changed \"gjs-components\":\"[]\" to \"gjs-components\":\"\" and it loaded and rendered the HTML.\nThanks guys for the help.. ",
    "altalker": "What I am struggling with is with changing values of DOM Components after reloading of the Canvas.\n      var comps = editor.DomComponents;\n        var hType = comps.getType('div');  *I am trying to get the exact component by ID not by Type*\n        var mmodel = hType.model;    error- does not work\n        mmodel.set('style', { color: $(\"Color\").val() });. \nAfter moving the canvas location to the bottom of the screen, the Drag icon will be placed above the canvas and will not correspond to cursor position.. Yes, moving the div section containing the editor down causes this issue. \n editor.trigger('change:canvasOffset') does not correct this issue.\n. It seems that the scroll position of the document makes the difference. If the document main page scroll bar is on top position the drag icon will be placed correctly. However, when scrolled down then the drag icon is off its drag position.\n. I tried and device select did not make a difference. Only the outer scroll bar position alters the drag icon location. I was on vacation. I tried device select. If the div div id=\"gjs\" is on top the cursor will show the correct position. However if scrolled down and the div is below other content the cursor if off.\n\n\n. Latest version.  I also removed some code blocks that were not compatible with IE 11 and caused errors. 1. \n  content: `<di\n\n\n\n\n. This is when I use IE 11 when items are dragged into the Canvas or using filestack.  MS Edge it is ok. (JavaScript ECMA compatibility differences). ",
    "blairpanek": "@artf Is this issue still being resolved? Was wanting to do the same implementation of the select menus... Thanks! . editor.TraitManager.getTraitsViewer().render(); this is what you are looking for...\n@HarshOB \n@cmcintosh . @artf  Well, yeah, you can create traits with changeProp, then add a listener on that property change (inside Component's model) which triggers the appropriate action\nWhat property changes when selecting something different for dropdown menus.\nCreated listener for name/value/selectedComponent/and component:update:content none worked\nformat was this.listenTo(this, 'change: x', this.myFunction)\nmyFunction(){\n    //do stuff\n}. ",
    "shareefhiasat": "what a wonderfull work @artf is there a specific version ! or just try latest always , i can t find docs on this please advise thanks.\nwish you best\n@prtjack  any clues my friend\nI tried including \n<script src=\"https://cdn.ckeditor.com/4.9.2/standard/ckeditor.js\"></script>\njust before the \n<script src=\"https://cdn.jsdelivr.net/npm/grapesjs-plugin-ckeditor@0.0.9/dist/grapesjs-plugin-ckeditor.min.js\"></script>\nand came up with another error\nUncaught Error: [CKEDITOR.resourceManager.load] Resource name \"sharedspace\" was not found at \"https://cdn.ckeditor.com/4.9.2/standard/plugins/sharedspace/plugin.js?t=I3I8\".\n    at CKEDITOR.resourceManager.<anonymous> (ckeditor.js:255)\n    at e (ckeditor.js:250)\n    at Array.z (ckeditor.js:250)\n    at y (ckeditor.js:250)\n    at HTMLScriptElement.A.CKEDITOR.env.ie.e.$.onerror (ckeditor.js:251). Thank its working now\n@prtjack  @artf  i got it , some text elements dose not open the dialog but if you added new one it works\nexampls\nThis dose not work , on basic or standard, or even full\nfrom\nhttps://ckeditor.com/ckeditor-4/download/#ckeditor4\n<script src=\"//cdn.ckeditor.com/4.9.2/standard/ckeditor.js\"></script>\nBut this worked dont know why, but its not always working on all text elements, especially the one that are styled with old ( default toolbar like if you did bold in my case with old toolbar ) then added the ckeditor and tried double click nothing happens and says the following\nUncaught Error: [CKEDITOR.resourceManager.load] Resource name \"sharedspace\" was not found at \"http://cdn.ckeditor.com/4.9.2/standard/plugins/sharedspace/plugin.js?t=I3I8\".\n    at CKEDITOR.resourceManager.<anonymous> (ckeditor.js:255)\n    at e (ckeditor.js:250)\n    at Array.z (ckeditor.js:250)\n    at y (ckeditor.js:250)\n    at HTMLScriptElement.A.CKEDITOR.env.ie.e.$.onerror (ckeditor.js:251). @milapshah15 \nAm using newsletter-preset , here is my scripts\n```\n \n\n\n\n\n\n```\nThe main notes to notice is \n\nOnly including the cdn version syntax from \n\n\n//cdn.ckeditor.com/4.9.2/standard/ckeditor.js\nWorked.\n\n\nIt is still not stable enought for all different operations for the ckeditor for example.\ninsert special character and insert table did not work with js exception.\n\nFinally\nAbout the js exception that appear for the old elements\n\nBut this worked dont know why, but its not always working on all text elements, especially the one that are styled with old ( default toolbar like if you did bold in my case with old toolbar ) then added the ckeditor and tried double click nothing happens and says the following\n\nUncaught Error: [CKEDITOR.resourceManager.load] Resource name \"sharedspace\" was not found at \"http://cdn.ckeditor.com/4.9.2/standard/plugins/sharedspace/plugin.js?t=I3I8\".\n    at CKEDITOR.resourceManager.<anonymous> (ckeditor.js:255)\n    at e (ckeditor.js:250)\n    at Array.z (ckeditor.js:250)\n    at y (ckeditor.js:250)\n    at HTMLScriptElement.A.CKEDITOR.env.ie.e.$.onerror (ckeditor.js:251)\nI believe its not backward compatable templates , meaning either you save your template with ckeditor included as plugin and continue that way, or the default way.\notherwise you may have little in compatabilities with element or you shall delete it and re add it ( i mean like text for example readd and re edit it.\n. @kamleshkatpara i dont understand on your last post you said it worked , i noticed you removed the post part.\nwhile at first post or second you say is storeurl or loadurl is even used !.\nwhat happend since you discarded your post part, dose the store automatically send the html and css objects/jsons, because in my case it dose not send it\n@artf  can you comment please thanks , docs dose not clearly say what it will send to store/load url as parameter. How to hide the box of dragging it still appears i use\nplease advise thanks. look false has no effect in my case, i mean its not working so i decided to stop\nand hide and make selecting image , and import from url the only options .\nthanks again my friend\nassetManager: {\n          assets: images,\n          upload: false/*,\n          uploadText: 'Uploading is not available in this demo',*/\n        },. @DeathStapler do you store each of the following in column in database ?\nwhen you save , and then retrive please advise thanks\n{\n    \"gjs-css\":\"*{box-sizing: border-box;}body{margin:0;}.c1050{padding:10px;}\", \n    \"gjs-html\":\"<div class=\"c1050\">Hi</div>\", \n    \"gjs-assets\":\"[]\", \n    \"gjs-styles\":\"[]\", \n    \"gjs-components\":\"[]\"\n  }. do it like this so we dont attach listeners every time\n```\neditor.on('storage:load', function(e) {\n        console.log('Loaded ', e);\n    });\neditor.on('storage:store', function(e) {\n    console.log('Stored ', e);\n});\n\ncmdm.add('save-db', {\n  run: function(editor, sender)\n  {\n        sender && sender.set('active'); // turn off the button\n        editor.store();\n  }\n});\n\n```. @artf how to save with remote end point with inlined html mode  , i mean html and css into html sent to server ? thanks . @milapshah15  please check @artf response and my response here\nhttps://github.com/artf/grapesjs/issues/625. @julyanof @artf\nPlease help may be it too simple to figure out my self. please can you clarify me this question to close thanks @artf . Hi @artf  million thanks for having time to reply , i know you have very tight schedule.\nMy requirment which is i have free marker replaced with my back end.\nTo summarize as mentioned in the screen shot below, i dont want user to change text in these\nbecause it will through exception in my logs ( free marker exception )\nhttps://github.com/apache/freemarker\n\nDo you need more info, \nBTW\nP.S i updated the fiddle and removed  because its typo and not relevant\nfrom another fiddle.\nhttps://jsfiddle.net/shareefhiasat/u8Lodyh7/1/\n. @artf  yes its working my friend , thanks a million\nhere how it is now for future reference , fiddle you cant edit , but you can style\nhttps://jsfiddle.net/shareefhiasat/jdpkccz0/\nYou can close it,\nRegards. UPDATE for future reference , i updated jsfiddle with editable and none editable component example,\nnote that the appearance and behavior of hovering over elements dose not work with its not editable. @TclasenITVT  please edit steps to reproduce and add this link\nTest Browser online check IE 11 online grapesjs link\n@artf its working on Edge IEs ( version 20 in my case )\nRegards. @TclasenITVT your issue is crystal clear and beautifully written.\nDo you really need it for IE11 that badly , sorry am not familiar with code yet but hope some one will \ncreate this as improvment , but i dont think it blocker ? for you no ?. @artf yes it works now\nhttps://www.browserling.com/browse/win/7/ie/11/http%3A%2F%2Fgrapesjs.com%2Fdemo-newsletter-editor.html\nwhat did you do to fix this ? what was the issue i dont see commits, sorry am new to github collaboration if am missing something.. Hi @agungaja  , can you please point the documentation of exportWrapper: true, for some reason i cant find it , i think it may solve me the problem but curious to read its wiki ! Thanks. @ionic666 good question , can you prepare js fiddle like this, https://jsfiddle.net/ssabrewolf/7ur0cwq3/32/ it will save us time to respond , thanks. @ionic666 its just jsfiddle url it opens\nhttps://jsfiddle.net/ssabrewolf/7ur0cwq3/32/\n\nYou can open any issue with jsfiddle link prepared\nfork it\nAnd edit to match your code\n\nThe idea just try provide a demo so any one can trace/solve\n. ",
    "milapshah15": "@shareefhiasat were you able to fix this?I am getting the exact same issue\nWarm regards\nMilap. @shareefhiasat It is working if I use the exact same libraries as you have and the point you said as it is not backward compatible.\nThanks for your help.\nWarm regards\nMilap. I am trying to use \n//get Panel Object\nvar panelObj = panelManager.getPanel('options');\n//Remove unwanted buttons\npanelObj.get('buttons').remove('preview');\nIt is not removing the button.Am I doing anything wrong?\nWarm regards\nMilap. @artf  it says panelManager.removeButton is not a function. @FrciSmrci How did you fix the issue? I am facing the same issue.\nWarm regards\nMilap. @FrciSmrci It is still not working for me.How did you find that this is the cause?\nFor me, all other blocks are working like text, image, link etc except the one which related to layouts.\nWarm regards\nMilap. Yeah I just figured that display: flex;\n        justify-content: flex-start;\n        align-items: stretch;\n        flex-wrap: nowrap;\n        padding-top: 10px;\n        padding-right: 10px;\n        padding-bottom: 10px;\n        padding-left: 10px;\nThis thing was not added in the row class.. @FrciSmrci \nIts working now.Thanks a ton and yes it was indeed tricky.\nWarm regards\nMilap. This does the job.\nhttps://github.com/artf/grapesjs/wiki/API-Style-Manager\nWarm regards\nMilap. @artf Can you please help on this.. @shareefhiasat if you see my code, I guess that issue is different than what I am facing.Moreover, I see that I face the issue when I load website-preset plugin. @artf I ended up blocking the executing by setting/resetting a flag.\nClosing this issue.\nWarm regards\nMilap. @artf Thanks for closing this.I implemented the same and its working like a charm.. @IStirton10 Let me try it out.I guess this should work.\nWarm regards\nMilap. @IStirton10 Its working.Thank you.\nIs there a method which makes button disabled and not clickable.The Enable property is just about making it selected.Do we have anything to disable the button.\n@artf Any thoughts?\nWarm regards\nMilap. @ionic666 No I did not find any method which can disable the button\nWarm regards\nMilap. @artf Please help if I am missing anything.  f = s ? \"\\n    .\" + u + \" {\\n      display: flex;\\n      justify-content: flex-start;\\n      align-items: stretch;\\n      flex-wrap: nowrap;\\n      padding: 10px;\\n    }\\n    @media (max-width: 768px) {\\n      .\" + u + \" {\\n        flex-wrap: wrap;\\n      }\\n    }\" : \"\\n    .\" + u + \" {\\n      display: table;\\n      padding: 10px;\\n      width: 100%;\\n    }\\n    @media (max-width: 768px) {\\n      .\" + o + \"cell, .\" + o + \"cell30, .\" + o + \"cell70 {\\n        width: 100%;\\n        display: block;\\n      }\\n    }\",\nI guess this line from the minified version causes this.Not sure why it is choosing the other case for me.\nWarm regards\nMilap. Issue fixed.\nflexGrid : true in the options for basic plugin fixed the issue\nWarm regards\nMilap. ",
    "kartboy16": "@emiledpretorius Were you able to import grapesjs?  I ran the imports but none of the menus are rendering.  \n```\nimport grapesjs from \"grapesjs\";\nimport \"grapesjs/dist/css/grapes.min.css\";\ncomponentDidMount() {\n        let editor = grapesjs.init({\n            container : '#gjs',\n            components: 'Hello world!',\n            style: '.txt-red{color: red}',\n        });\n    }\n```\n\n\n. ",
    "oransolutions": "You need the spectrum colorpicker ;). ",
    "tyua07": "thank you @artf . ",
    "aditya-dikonia": "@tyua07 Can you please explain here how you grapesjs component with reactjs?. @jbmusso I checked the given link but don't understand how to integrate this component with the reactjs. Can you please explain it in brief?. @jbmusso Thanks for taking time to explain it, It's really helpful. . ",
    "niagi": "editor.on('load',\n            function() {\n                alert(\"loaded\"); // or call another funcion here\n            });. Oh yeah, didn't think of that one. Already had that set :) . ",
    "DaveOrDead": "Cheers, thanks guys - I'd just figured out the autorender disabling this second :). ",
    "dmac1025": "@roytang this just helped me so much thanks for posting the answer. I'm wondering if there should be a check for the temporary flag in the components.js onAdd event like below:\n\nOr if I am missing something, because it seems with the latest release the CSS class is generated twice for a custom component when added to the canvas.  Great project by the way.\nThanks.. It seems to be when you reload the content via setComponents.  In the demo, if you drop a text block onto the canvas, and add a link via CKEditor.  In the console run editor.getHTML() -> copy the output, clear the canvas and run editor.setComponents(copiedHtml), you can see the behavior.  If you look at the components in localStorage, you can see on page load or using the method described above that a parent div component is created and 2 child components are added.  If you double click on the text block or link, and re-check the component structure in localStorage, it's now a single component with no children.  If you manually remove the contenteditable and data-highlightable attributes from the link at this point, clicking on the link will work as expected.  I'm trying to figure out how to solve this behavior with no luck yet.. ",
    "NETCreator-US": "Thank you, @artf ! It works now.. Thank you, @artf, for your answer! I am overriding the image component. I haven't redefined is_component, because I need the default is_component, and I thought if I don't override it, it will use the default. I just rewrite is_component, and seems to work.. Thank you, @artf for your message! I have updated GrapesJS from 0.9.7 to the latest version, and it is working now.. ",
    "RuudH": "Cool, this worked for me.\nCould you please update the example on https://github.com/artf/grapesjs/wiki/Traits#define-new-trait-type with this code. I took some serieus time before i found this bug report.. ",
    "vladflorescu94": "You're welcome! I did. ",
    "uniacid": "I second this, I ended up editing grapesjs and adding my own for the time being as it's pretty simple, I can make a merge request or if @artf can update it whenever possible to add the remove function :)\nFor the time being you can place this in your block_manager/index.js and re-compile grapesjs:\n/**\n       * Remove block by id\n       * @param {string} id Block id\n       */\n      remove(id) {\n        return blocks.remove(id);\n      },. You have to build the API/web endpoint for the assets/upload function itself as there is no pre-existing function to actually handle the upload itself if you're using the default uploader provided.. ",
    "cmoutafidis": "I believe the docs should also be updated regarding this change\nhttps://github.com/artf/grapesjs/wiki/API-Block-Manager. @artf In the application I am working on the user can scroll vertically. grapesjs is loaded inside an iframe. The color picker is displayed with different left values before and after vertical scroll. So if I scroll to the left, the color picker will have a higher left value. But if I scroll to the right, the color picker will have a smaller left value. That is not really correct because the style property element is not actually moving, only the preview window does. \nAs @fguslinski mentioned above, if I define a standard value for the left property, e.g. 1000px, the issue is \"resolved\". The problem is that not everyone has the same monitor, so this is not a resolution. For example, if I open the devTools to the right of the browser, color picker's position is ruined again.. @swarnat suggested a great solution, as the color picker's left value is not affected by vertical scroll.. I sometimes get the same error whenever I hit ctrl+c. Grapesjs is integrated with angularjs.. ",
    "iyadboustany": "Actually, I was able to solve it, it was a pretty dumb mistake. I was loading the plugin before jquery.. ",
    "Pisikoll": "Got it! Sorry. ",
    "cpcashion": "@Pisikoll how did you solve this? Looking to do the same thing.... ",
    "adamlc": "I've just come across this issue and this fix works, probably worth mentioning in the docs?. I know a lot of developers use Gitter too, might be worth looking at.. @krunal039 this isn't a support form. If you have any problems asking here is only going to infuriate the contributors. If you have a problem ask on Stack overflow, thats what its for..... The link is in the Components & JS section for the Component Manager - https://grapesjs.com/docs/modules/Components.html#components-js. ",
    "rejesh": "@aliassad  i have also uploaded the image with php. But not found any way to load that in uploaded image .. Thanks for the help\nhttps://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail\nVirus-free.\nwww.avast.com\nhttps://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail\n<#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>\nOn Mon, Aug 7, 2017 at 6:33 PM, Artur Arseniev notifications@github.com\nwrote:\n\nAs already explained here #138\nhttps://github.com/artf/grapesjs/issues/138 all you have to do is to\nreturn a JSON (from you server) with your uploaded assets, example result:\n{\n  data: [\n    'https://image/path',\n    {type: 'image', src: 'https://image/path', height:350, width:250},\n    ..\n  ]\n}\nif the JSON is correct the editor will add those images automatically to\nthe Asset Manager, don't know how to explain you better...\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/203#issuecomment-320657496, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAptLk4BFK7fH47SC_YknTUYQAlnnwPJks5sVws0gaJpZM4OsB--\n.\n\n\n-- \nyours friendly\n. i am using  following php code to return the json response from server.\n$result=array('type'=>'image',\n                 'src'=>'http://\n'.$_SERVER['HTTP_HOST'].'/clients_email_templates/grape/uploads/'.$_FILES['files']['name'][0],\n                 'height'=>350,\n                 'width'=>250\n                 );\n    $response = array(\n        'data' => $result\n        );\necho json_encode((object)$response);\nexit();\nhttps://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail\nVirus-free.\nwww.avast.com\nhttps://www.avast.com/sig-email?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail\n<#DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>\nOn Fri, Aug 25, 2017 at 3:13 PM, abureviewer1 notifications@github.com\nwrote:\n\nHi, I'm getting as you mention above code so that I'm getting following\nhttp://prntscr.com/gcuca9\nBut it does not automatically added to list realtime after upload the\nimages.\nKindly help.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/203#issuecomment-324872017, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAptLmxr5DmK79AQEhMo0X78TDRp-X6Yks5sbpcvgaJpZM4OsB--\n.\n\n\n-- \nyours friendly\n. ",
    "abureviewer1": "Hi, I'm getting response as you mentioned above code\nhttp://prntscr.com/gcuca9\nBut it does not automatically added to list realtime after upload the images.\nKindly help.\n. ",
    "navidkhn1": "Hi, \nIf the JSON returned by the upload API is not in the format expected by GrapeJs, what can we modify to make it work without modifying the API? \nFor instance, my upload URL shall return \n{\n\"file\": \"https://abc.cdn.xyz/image.jpg\",\n\"title\": \"profile_pic\"\n}. ",
    "kukreja38": "hi @artf can we add button and like star icon in right toolbox?\nThanks!. ",
    "jbmusso": "The following in the React documentation should be useful: https://reactjs.org/docs/integrating-with-other-libraries.html\n. Sure. In a typical React application, React will handle all DOM manipulations for you up from the root component (say, <App/>) down to the leaves. In the present case, you want a way to tell React to stop interacting with a specific portion of the DOM, so that part should be handled by Grape.js instead.\nThe React documentation suggests that you implement a React.Component with a super simple render method:\njavascript\nrender() {\n    return <div ref={el => this.el = el} />;\n  }\nThe important part is ref={el => this.el = el} so you can keep track, in that component, of the actual DOM node which the third party library should be interacting with (Grape, in the present case). When the component is mounted into the DOM, you can then interact with that ref and call Grape methods to do whatever it should be doing with the DOM under that specific portion of your app.\ncomponentWillUnmount is especially useful for cleaning stuffs started by the 3rd party library, such as setInterval or event listeners, in order to avoid some memory leaks.\nLifecycle:\n-> mount once / prepare (componentDidMount)\n-> render one or more times (render)\n-> cleanup once / clean-up stuffs (componentWillUnmount)\nTry to imagine the DOM as a canvas and React as a brush. In the present case, you're just adding one more brush (Grape) that will draw/paint stuffs on the same canvas (note that I'm not talking about HTML5 canvas here). The developer is the artist.\ntldr; You just need to implement a component that tells React that it should stop painting on that specific part of the DOM, but delegate that responsibility to another library.. ",
    "BryceBubbles": "Oh wow, I see that media queries are possible already, awesome, and handled by Device Manager. It's just not so obvious in Style Manager and you can't tell what's happening inheritance wise for each CSS property. \nIt would be awesome if media queries could be decoupled from Device Manager, so that more complex media queries can be used on a per selector basis. \nWould also be cool if Device Manager had a height property.. ",
    "adamdyson": "@rgcarrasqueira Could this simply be because the object data being set is malformed?\n```\nodeViewer = editor.CodeManager.getViewer('CodeMirror').clone();\ncodeViewer.set({\n    codeName: 'htmlmixed',\n    readOnly: 0,\n    theme: 'hopscotch',\n    autoBeautify: true,\n    autoCloseTags: true,\n    autoCloseBrackets: true,\n    //lineWrapping: true,\n    styleActiveLine: true,\n    smartIndent: true // Missing comma\n   # Where I'm trying to add:\n    indentWithTabs: true, // Remove trailing comma just to be safe\n});\n\ncodeViewer.init(document.getElementById('code'));\nviewer = codeViewer.editor;\n\n```. ",
    "vtista": "so there is nothing we can do about this code editor? @artf . @mekamleshk Thanks a lot,i just did as you said,but the issue was still there\n\n\n\ndo you have any idea? :). I followed #372 also used latest version,but problem still there,do you think the problem cause i used it in cross domian ?@artf\nhttps://user-images.githubusercontent.com/22438077/31529039-3c5a130e-b009-11e7-8db9-6a2eb600f337.png. hey,guys sorry to reply this late.I got another project of our company need to update in hurry last week.Anyway,the solution you guys provided works fine after i moved the files in same domain.But if you guys have time please take a look at how we can upload images in cross domain condition.Thanks in advanced! \ud83d\udc4d . ",
    "nicksav": "Actually have dnd broken on Edge as well.\nJust doesn't work. ",
    "umangpasricha": "I am facing the same problem when using GrapesJs on IE11. Even http://grapesjs.com/demo.html is not working fine. I am getting these errors:\n\nwhen I drag the components/blocks to the canvas(even before I drop them). . I added polyfill for these methods and now it is working fine on IE too. \nHere is the code I added for 'assign' method in the .js file I am using:\nif (typeof Object.assign != 'function') {\n          Object.defineProperty(Object, \"assign\", {\n            value: function assign(target, varArgs) { \n              'use strict';\n              if (target == null) { \n                throw new TypeError('Cannot convert undefined or null to object');\n              }\n              var to = Object(target);\n              for (var index = 1; index < arguments.length; index++) {\n                var nextSource = arguments[index];\n                if (nextSource != null) { \n                  for (var nextKey in nextSource) {\n                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                      to[nextKey] = nextSource[nextKey];\n                    }\n                  }\n                }\n              }\n              return to;\n            },\n            writable: true,\n            configurable: true\n         });\n    }\nand here is the code I added before the use of 'matches' function in grapes.min.js:\nif (!object.matches)\n         object.matches = object.msMatchesSelector || object.webkitMatchesSelector;\nAs IE does not support these methods so before using matches function in grapes.min.js, we are going to check if any object.matches method exists. If not then define object.matches with object.msMatchesSelector(this is supported by IE instead of matches).. Yes, GrapesJS editor is working fine on Firefox, Chrome. IE11 and safari at my end. The changes I made in my code are:\nIn index file, I added the following code:\nif (typeof Object.assign != 'function') {\n          Object.defineProperty(Object, \"assign\", {\n            value: function assign(target, varArgs) { \n              'use strict';\n              if (target == null) { \n                throw new TypeError('Cannot convert undefined or null to object');\n              }\n              var to = Object(target);\n              for (var index = 1; index < arguments.length; index++) {\n                var nextSource = arguments[index];\n                if (nextSource != null) { \n                  for (var nextKey in nextSource) {\n                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                      to[nextKey] = nextSource[nextKey];\n                    }\n                  }\n                }\n              }\n              return to;\n            },\n            writable: true,\n            configurable: true\n         });\n    }\nThen I made some changes in the grapes.min.js file. Here I am attaching this file as .txt:\ngrapesminjs.txt\n. @artf Yes I am getting the same error:\n\nObject doesn't support property or method 'assign'\n\nTo resolve this I added the same code(mentioned above) in index.php file at my end.. ",
    "ateshuseyin": "@artf I can change babel presets with env preset. It should  work with appropriate configuration. Or we can add babel-polyfill to this configuration. @artf I'm busy next 2 days but I will be look at as soon as possible. I fond the problem. I forgot to add babel-polyfill into project. So new js features was undefined in old browsers like Object.assign. fixed and sended a pull request #515.\nSo, are there any one who will test with IE. I am a mac user also.\nYou can test by http://grapesjs-ie-polyfill.surge.sh/\n. @vishal5033 It is only about demo page. I fixed and deployed. Could you try again please?. This is the last update I hope. I added babel-plugin-transform-object-assign into babel config and transform all Object.assign parts. \nCould you try again? If won't I will find a windows machine . ok. I will find a windows machine then fix this. It is too hard to fix with remote help. \n@vishal5033 Thank for your help.. Canvas works inside of a iframe. So, you can use document.querySelector('iframe').contentWindow.$; I think it should works. At DevicesView.js:5 there is underscore usage w/o require: `template: _.template(``. I just notice that you are using ProvidePlugin. That is a solution but these kind of configurative solutions are a limitation to grapesjs users which are using from source.. I tried local modules with webpack but it cannot resolve local modules without defining resolve statement in webpack config.\nYou are right ../.. are ugly but it is just the solution. . Any configuration trick in webpack config obligates the users to make some configuration in their webpack config like me. I still think  ../.. is the less nicer but the unique solution of #369 \n. Thanks @gasserol. I saw but I could not find the problem.. Now works on drop :) But still cannot parse from element.. Thanks @artf. I just fixed it. It was about place of editor.getModel().loadOnStart();. I moved this line after loading components. components: el.innerHTML has no effect.. Hi @HarshOB,\nIt is simple as image does https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/ComponentImage.js#L32. The above link I referenced before is only for adding button to toolbar. I think you should just follow below steps to complete your task;\n\nCreate/Implement a editor according to your needs. grapesjs-aviary uses aviary editor (see)\nDefine a command which is capable to open your editor  like grapesjs-aviary see\nDefine toolbar button as I referenced before which runs your command \n\nThats all. . There is no unminified version of grapesjs. I think this is a necessity. Until @artf add unminified version checkout the project then link grapesjs into your project. See: https://docs.npmjs.com/cli/link. Another error is;\n\ncomponents.js:169 Uncaught TypeError: Cannot read property 'defaultTypes' of undefined\n    at child.renderChildren (components.js:169)\n    at child.render (components.js:212)\n    at child.addToCollection (ComponentsView.js:65)\n    at ComponentsView.js:107\n    at Function..each..forEach (underscore.js:153)\n    at child.each (backbone.js:87)\n    at child.render (ComponentsView.js:107)\n    at child.renderChildren (ComponentView.js:315)\n    at child.render (ComponentView.js:349)\n    at Object.render (index.js:386)\n. I am using macOS sierra chrome v61 and get error with http://grapesjs.com/demo.html.\nYeah I am using v0.10.8 because of #440 . I found the problem. One of my chrome extension (I think it is Backbone Inspector) causes the problem. Issue can be closed. Right. I get the same error with all blocks defined in mjml plugin. . I try to run mjml plugin with several versions of grapesjs. mjml plugin works with 0.12.6 and older but get above error with 0.12.7 and newer. Ok. I will try without mjml plugin. @artf This issue is about mjml plugin. This can be closed. I will open an issue to mjml plugin. At the top of style manager UI, there is Classes section. I want to remove it from UI. . @thecodefish It works. Thanks.\n@artf This issue can be closed.. @artf Thanks. I found it inside grapesjs-preset-webpage.js. I think this should be a feature. \nIssue can be closed for now.. You can change scss variables and and recompile to css:\nhttps://github.com/artf/grapesjs/blob/dev/src/styles/scss/_gjs_variables.scss#L22 . Any one have an idea?. Is this fixed?. There is not an event related with your requirement. You can easily override tlb-deletecommand. I created a sandbox for you https://codesandbox.io/s/k2yoxjjr95. \nIf you want to handle programatically removed components, I don't know how to do it. You are welcome to create a new sandbox for it.\n. You can create your own storage to handle whole data in the editor (html, css, assets etc)\n\nHTML part only contains links of assets (image, video etc). If you want to get uploaded data you should override uploadFile method of AssetsManager. ",
    "vishal5033": "@artf Can you please help me out. It is not working for me also. I have tried the demo , it is not working as well.\n@umangpasricha if you have working copy of js which works in IE11 can you please send me?. Hi @ateshuseyin \nit is still giving error in IE11 as invalid character.\n\n. @ateshuseyin Sorry but now same old error \"Object doesn't support property or method 'assign' \".. No problem. I will check. But again new error now. \"Argument not optional\". @ateshuseyin No problem. Welcome.. Hello All,\nAfter some modifications, I am able to work grapesJS in IE11 also. I will post it here.\nThanks,. Hi @JuanTincho , Can you please provide me that plugin.\nI also want to implement tabs in the panel menu. If you have some details about that also. Can you please share with me, it would be very helpful.. Closing the issue. I have found the solution. Hi @artf , Can you please share, when will HTML5 D&D available?.\nBy the way thank you very much for such a wonderful project.\nThanks. Hi \nYou can allow script when you init grapesJS instance.\nconst editor = grapesjs.init({\n    ...\n    allowScripts: 1,\n});\nHope that helps you.. ",
    "NorthstarTech": "I m getting this error when I am running grapesjs with MJML in IE11\nSCRIPT5007: Unable to get property 'plugins' of undefined or null reference\nFile: grapesjs-mjml.min.js, Line: 61790, Column: 1\nI made the changes given by umangpasricha mentioned above. but still not working.\nI am using the grapesJS latest version 0.12.30 and latest grapesmjml version 0.0.26\nPlease help me out to resolve this issue asap.\nThanks.. Where should I place this code of originalCreateHTMLDocument.... @sura2k  @tomichal ? Can you please let me know the file name or correct position, so I can run this on IE explorer and MSEdge too. because I still get the error of not argument option. Thanks.. @tomichal I added in the script tag, The page is loading now, Thanks. but as I am using mjml with grapesjs, the following error is coming now on loading grapesjs with mjml. Help needed to fix this issue. I want to run grapesjs-mjml in IE11 and Edge too. Thanks.\n\n. I am experiencing the same error for both. I have used the fixes suggested in this thread. @artf Is there any additional work to be done in the grapejs-mjml.min,js?. any update on IE11 issue with grapesmjml? GrapesJS is not working in IE11 and Edge with MJML. Can anyone help to fix this issue?\nThanks.. @artf , I updated the grapesJS updated version of  0.12.55. I am getting these errors now when using with mjml.\n\n\n. @artf Is IE11 and Edge Issue also fixed with MJML?? I am still getting the above errors.\n  . @artf is there any plan to fix this issue with mjml? Any timeline when this issue will be fix?. I go through with your code @matthieuk , but its not working properly. It doesnot allow to add inside the text. It always drag on a separate textfield. I also added the textable:1 . here is my code.\nNeed your help asap. Thanks.\nbm.add('mergefield', {\n     label: 'Merge Field',\n     textable: 1, \n     attributes: {class:'fa fa-image'},\n     content: {\n     type: 'mergefield',\n     attributes: { \n          'data-mergefield': 1,\n          'data-highlightable': 1,\n          readonly: 'true',\n          value: 'mergefield'\n     },\n     style: {\n          height: '100px',\n          width: '200px',\n          display: 'inline-block',\n          border: '1px dashed #455699',\n          'text-align': 'center',\n          'background-color': '#000000',\n          'padding': '3px',\n          'border-radius': '5px',\n          'color': 'black'\n         }\n     } \n  });\ndomc.addType('mergefield', {\n                 model: defaultModel.extend({\n                   toolbar: [\n                      {\n                           attributes: {class: 'fa fa-arrows'},\n                           command: 'tlb-move',\n                       }\n                   ],\n                   defaults: Object.assign({}, defaultModel.prototype.defaults, {\n                   'custom-name': \"Merge field\",\n                   tagName: 'input',\n                   class: 'merge-field',\n                   badgable: true,\n                   highlightable: true,\n                   editable: true,\n                   droppable: false,\n                   draggable: true,\n                             removable: true,\n                 traits: [\n                 {\n                     label: \"mergefield\",\n                     type: 'select',\n                     name: 'value',\n                     options: [\n                       {value: 'invoice.invoicenumber', name: \"invoice.invoicenumber\"},\n                       {value: 'invoice.invoicedate', name: \"invoice.invoicedate\"},\n                       {value: 'company.name', name: \"company.name\"},\n                       {value: 'company.business_regnr', name: \"company.business_regnr1\"},\n                     ]\n             }\n                 ]\n               }),\n             }, {\n               toolbar: [\n                   {\n                       attributes: {class: 'fa fa-arrows'},\n                       command: 'tlb-move',\n                   }\n               ],\n               isComponent(el) {\n                 if(el.tagName == 'INPUT' && el.dataset.mergefield == \"1\") {\n                   return {type: 'mergefield'};\n             }\n               },\n             }),\n             view: defaultView.extend({\n\n                     events: {\n                       'click': function(e) { \n                           console.log(\"click\"); \n                           },\n                      //  'dragstart': function(e) {\n                      //     e.target.id = 'mergefield-' + (new Date()).getTime();\n                      //     console.log('dragstart', e.target.id);\n                      //     e.dataTransfer.setData('mergefield', e.target.id);\n                      // },\n                      'keydown': function(e) {\n                          if (e.key == 'Backspace') {\n                              e.target.parentNode.removeChild(e.target);\n                          }\n                          // console.log(\"KEYDOWN:\", e);\n                      }\n                     }\n             }),\n           });\n\n. It doesn't need to be a button specifically. We want to add the merge tags/placeholders. Since we offer a large library of them, it would be user-friendly to have inside a sector. Essentially, we would like the placeholders to divided into subcategories and be easy to use. \n. #287 is similar but we are unsure where they are adding the merge tags within the editor.. Its working fine after adding this plugin. Issue resolved.\nThank u so much @ryandeba . Thank u so much. working fine now.. yes I also added the plugin on grapesjs.init() but not working. It gives the error shown below.\n\n. Thanks alot, I added the sharedspace ckeditor plugins and now it is displaying default toolbar. I want to use my own toolbar, I made a separate file of config.js and add it as a customconfigfile. But its not working. How should I resolve this.  Here is my code.\nvar editor = grapesjs.init({\n    height: '100%',\n    noticeOnUnload: 0,\n    storageManager:{autoload: 0},\n    container : '#gjs',\n    fromElement: true,\n    plugins: ['gjs-mjml','gjs-plugin-ckeditor'],\n    pluginsOpts: {\n        'gjs-plugin-ckeditor': {\n            position: 'center',\n            option: {\n                customConfig: 'config_gjs.js',\n            }\n        }\n    } \n  });. so there is no solution of link button in ckeditor?\nOn Friday, December 1, 2017, Daniel P. Zepeda notifications@github.com\nwrote:\n\nI had all kinds of problems with the CKEditor link editor.\nI gave up and disabled the link editor in CKEditor in favor of the link\ncomponent that is provided by GrapesJS.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/593#issuecomment-348362746, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/Af_LtsWNbZWDNgOTp1yOH9877fIYEv7jks5s70TjgaJpZM4QwNYT\n.\n. https://github.com/ryandeba/grapesjs-html-block.\n\ncheck out this plugin. It helped us to write our own block that provides a similar function but with HTML. \n . I am looking for the same functionality and I am not getting it from rte or ckeditor. So whatever code you could provide would be helpful. \nThe growing pains with ckeditor and rte are too much for me. I might just switch to pell. . Would you also be working to support the proposed change from RTE to pell? \nThe jsfiddle works really well for what I have in mind. What kind of timeline are we working with here? I am going to play around with it more before I offer my thoughts.\n. I ask about pell because it's on @artf's roadmap. Currently RTE is providing a lot of challenges to customize for link. I want to provide  a few buttons that lead to different modal dialogs. The commands on the list are great but when the functionality like link get more complicated. I have invested time in RTE and ckeditor. Both frustrate me. Going off on my experiences so far, RTE is the more stable option. Pell is my back-up if I can't get what I need from RTE.  \nIf you can provide any help or direction with what you have got with this plugin, a link dialog is a must for me. Any code you can provide for the plugin would be great. After working on your jsfiddle, I would add for my own needs, a target.\nOn the off-topic, my users would feel more comfortable with an inline editor. . @ryandeba I am also facing the same issue, when loading the html from db into the editor. I also clear the undomanager but its not working. here is the code,\neditor.DomComponents.clear();\neditor.DomComponents.getWrapper().set('content', '');\neditor.setComponents(htmlString); //loading the html content\neditor.UndoManager.clear(); //clearing the undomanager\nPlease provide the fix. Hep needed. \nThanks\n  . @ryandeba Thank u so much. Fixed the issue.. Ohh Okay. Thanks alot @artf . ",
    "tomichal": "Hey all, I guess this is already known, but the editor on the demo site, at http://grapesjs.com/demo.html,  does not get initialized at all in MS Edge and IE 11.. Hey @artf is there a timeline for when MS Edge / IE 11 would be supported or nothing planned yet?. No worries @artf \nI'm trying to go through the Edge / IE errors and fix them in my project. \nSo far made a fix for an \"... Argument not optional...\" error. \nThis seems to make MS Edge happy enough for the editor to run without any more errors (not sure about IE 11 yet).\nIn case it would help others here is the code I added to my project (it needs to be added such that the browser gets it after the grapesjs JS code:\n// 'detectIE()' sourced from https://codepen.io/gapcode/pen/vEJNZN\nif (detectIE()) {\n    var originalCreateHTMLDocument = DOMImplementation.prototype.createHTMLDocument\n    DOMImplementation.prototype.createHTMLDocument = function (title) {\n      if (!title) title = ''\n      return originalCreateHTMLDocument.apply(document.implementation, [title]);\n    }\n}. @NorthstarTech there are a few ways to do that. You could for example place it inside a `<script>` tag at the end of your HTML page code, right before the closing `</body>` tag.. @NorthstarTech Are you hitting this errors in MS Edge and IE11 or only IE11?\n\nFrom what I experienced, after adding that code snippet (if (detectIE()) ...) MS Edge worked fine and I didn't spend that much time debugging/fixing cases for IE11. I would like to make the editor work in IE11, but am currently working on other project.. Ah, just saw this: https://github.com/artf/grapesjs/issues/372. OK, thanks @artf . Adding a prefix per @danfitz36 suggestion sounds great from my POV. . I looked inside the https://github.com/artf/grapesjs-blocks-basic plugin and it looks like the problem I'm experiencing is coming from there, namely the plugin does not use the grapesjs editor's stylePrefix config setting, despite initially fetching it from the editor here: \nhttps://github.com/artf/grapesjs-blocks-basic/blob/22d7799d7ecfccd55da67035acb797c8e7f86ccd/src/index.js#L4\nAfter getting the stylePrefix from the editor the plugin proceeds to hard code CSS class names, e.g. .row, which is one of the, or maybe the only, class conflicting with the external library styles I'm trying to use in the editor (https://vmware.github.io/clarity/).. Hey @artf, do you have any info on this bug? I would like to help, and just wondering if I need to start from scratch or if you have a good idea what/where the issue is?. Just created a pull request for a fix for the #162 @artf :). Ah, sorry @artf - I didn't account for a scroll within the editor canvas (I must've skipped a check for when the editor canvas was scrolled).. @artf I created the referenced pull request. I admit my motivation was my specific use case, but hopefully it was coded generically enough to be acceptable in the core editor codebase.. ... oh and just to clarify - another chunk of code written alongside this pull request resides in a custom plugin of my project. It's a plugin that essentially does the following:\n1. Customises the Link DOM component such that upon creating a link via the RTE, the asset manager opens up at which point an arbitrary asset can be uploaded and linked to the newly created link component.\n2. Customises the Image asset type of the asset manager such that upon selection of an image in the asset manager, either the src or href attribute of the target component get updated.\n3. Adds an Other asset type to the asset manager. The Other asset type is used alongside the Image asset type if the asset manager is used for the Link DOM component.. Sounds good @artf , I'll update the pull request with the change you mentioned.. ...although, just for completeness of the argument sake's - you don't feel like defining the type of accepted files should belong in the definition of the asset manager asset type?. Made changes per your suggestion @artf (sorry it took so long). @artf One issue I noticed with the lack of doctype is with HEX color definitions.\nIf a user defines a HEX color as, e.g.: \"fff\", rather than \"#fff\", this will work in the editor, but once the page is rendered inside a HTML with doctype specified, that \"fff\" color definition fails.\nTested this on Mac OS Chrome, Safari and Firefox.. Thanks @artf !. Hey @artf I'll check those issues... but I could swear the doc.body.scrollTop worked in that case, hmm.... Here are my observations:\n1. Re document.body.scrollTop - it worked for me (in Chrome) - it returns a scroll offset of the canvas inside the editor's iframe and I wanted that to offset the Y position returned from the e.pageY - since the e is an event coming from the iframe, the pageY is a value from the top of the iframe, but that will be too large if the iframe is scrolled, hence the use of doc.body.scrollTop to offset that? And doc.documentElement.scrollTop was always returning 0 for me, but doc.body.scrollTop was showing the correct scroll offset.\n2. Re the bug shown in the screencast: Yup...  I noticed that in situations when the first element of the body has a margin set on it. If you place an element with a height set on it, rather than a margin, the positions will appear correctly (even if then you also have a top margin set on the #gjs container).. Yes - I dragged inside a scrolled canvas, as well as the scrolled container. Odd... well if your code works, then just roll with it?\nJust to confirm, although no reason for the git diff to be wrong, but this is the full code of that function on my end:\nmoveDragHelper(e) {\n  var doc = e.target.ownerDocument;\n\n  if(!this.dragHelper || !doc) {\n    return;\n  }\n\n  var addTop = 0;\n  var addLeft = 0;\n  var window = doc.defaultView || doc.parentWindow;\n  var frame = window.frameElement;\n  var dragHelperStyle = this.dragHelper.style;\n\n  // If frame is present that means mouse has moved over the editor's canvas,\n  // which is rendered inside the iframe and the mouse move event comes from\n  // the iframe, not the parent window. Mouse position relative to the frame's\n  // parent window needs to account for the frame's position relative to the\n  // parent window.\n  if(frame) {\n    // TODO: Cache ?!?\n    var frameRect = frame.getBoundingClientRect();\n    var ownerDocBodyRect = frame.ownerDocument.body.getBoundingClientRect();\n    addTop = frameRect.top - ownerDocBodyRect.top - doc.body.scrollTop;\n    addLeft = frameRect.left - ownerDocBodyRect.left - doc.body.scrollLeft;\n  }\n  dragHelperStyle.top = (e.pageY + addTop) + 'px';\n  dragHelperStyle.left = (e.pageX + addLeft) + 'px';\n},. Oh, not sure if that would be a factor but I was testing it against the v0.12.37 tag rather than the dev branch.... Ok, just pulled the latest dev branch and tests on there look fine for me (puzzled).. Sounds good :) ... and btw, thank you for creating this editor - I think it\u2019s an awesome tool..\n",
    "sura2k": "@tomichal Thanks, that worked. In IE 11 I had to replace dragHelper.remove() with dragHelper.parentNode.removeChild(dragHelper).. @NorthstarTech didn't check the above suggested fix with mjml, but without mjml it works. Tested on IE 11 and Edge 15.. @artf I just started to use your IDE today. Thanks for making impossible possible.\nI have the same concern that @thecodefish has and here is my suggestion.\nGive a simple dropdown with 2 fixed options as,\nApplies To : \"Selected Item\", \"Selected Type\"\nBy default (when select a component) it is set to \"Selected Item\". And when the component is initialized, create a random class and link it to \"Selected Item\" option and the common class is linked to \"Selected Type\".\nEx: menu-item\nWhen \"Selected Item\" option is selected\n.menu-item -> unchecked\n.random -> checked\n\nWhen \"Selected Type\" option is selected\n.menu-item -> checked\n(no other classes other than user defined)\n\nUser should not be able to check/uncheck factory made classes of \"Applies To\" options, but user should be able to add user's own classes by adding new classes as now.\nBy this way, \"Applies To\" defines a factory setting.\n\nIt is better if we can add following marked area into a according or some sort of a collapsible area which is collapsed by default.\n\nWith this nobody wants to hide it manually as @thecodefish did, but feature stays and however users can add their own styles if they want with user defined classes. And users can check/uncheck those classes which they have added.\n\nI see one major concern which is now you have to have class config states for both the options \"Selected Type\" and \"Selected Item\" and that could effect to the whole IDE/system :(\nThis could be a very user friendly change if you can make it work.\nI was going to change it as I described, but since you are already up to it I though to wait for you answer.\nIf it is not possible I will make the change an send you a pull request, but I'm not a frontend guy so code could be so ugly and hacky and will take some time and I'm going to hide the complete custom class selection area and so the concern I was thinking and mentioned above will go away - easy for me.\nThanks again!. Wow..nothing me to worry. It seems avoidInlineStylecovers all the logic I need except the UI part.\n@artf Is there a way to override/modify views using a plugin? (I ended up modifying ClassTagsView of core, couldn't find a way to plug a template)\n. I was able to manage it by modifying ToolbarButton and its view. But later I decided to expose them by adding those to DomComponents via separate property rather than modifying ToolBar..., so I can extend them and since the changes are few lines, I can easily merge it with new versions of the core. I'm not a javascript guy but the way your team designed this is highly extensible. Thanks.. I was using 0.14.5. It is working nicely with 0.14.15. Thanks for the tip and sorry to bother without testing it against latest version.. ",
    "permpkin": "Just include the library in your template header then declare var grapesjs:any; in your component.. It would be nice if there was a better \".destroy()\" kind of option though.. ",
    "andre-bonfatti-movile": "I think you're doing something wrong, @aliassad \nThis is how I got to use grapesjs with ~~Angular 2/4~~ Angular:\n1) npm install grapesjs --save. jQuery will be installed for you\n2) on .angular-cli.json, add the source of both style and script of grapesjs and jQuery script:\njs\n  // ...\n  apps: {\n    // ...\n    \"styles\": [\n       \"styles.scss\", // your styles\n       \"../node_modules/grapesjs/dist/css/grapes.min.css\"\n     ],\n     \"scripts\": [\n       \"../node_modules/jquery/dist/jquery.min.js\",\n       \"../node_modules/grapesjs/dist/grapes.min.js\" // ORDER MATTERS!\n     ]\n  }\n3) call grapes on your module:\n```js\nimport { Component, OnInit } from '@angular/core';\ndeclare var grapesjs: any; // Important!\n@Component({\n  selector: 'app-awesome-component',\n  template: ''\n})\nexport class AwesomeComponent implements OnInit {\n  // ...\n  ngOnInit() {\n    grapesjs.init({\n      container : '#gjs',\n      components: 'Hello world!',\n      style: '.txt-red{color: red}',\n    });\n  }\n}\n```\n--\nI'd close this issue if these steps above work (which is the Angular way of dealing with 3rd party libraries). It is somewhat confusing to configure grapesjs on an Angular project, but it works.\nI faced @aliassad's problem when I was importing jQuery@2.2.4 on the index.html. It could be that jQuery's version is your problem \nObs: it works if you import jQuery@3.2.1 on the index.html. But please, don't.. Oops. Just now realized he was talking about Angular 1 :see_no_evil: . ",
    "deepuke": "Thanks @andre-bonfatti-movile :). ",
    "abdodeve": "\nI think you're doing something wrong, @aliassad\nThis is how I got to use grapesjs with Angular 2/4 Angular:\n\nnpm install grapesjs --save. jQuery will be installed for you\non .angular-cli.json, add the source of both style and script of grapesjs and jQuery script:\n\njs\n  // ...\n  apps: {\n    // ...\n    \"styles\": [\n       \"styles.scss\", // your styles\n       \"../node_modules/grapesjs/dist/css/grapes.min.css\"\n     ],\n     \"scripts\": [\n       \"../node_modules/jquery/dist/jquery.min.js\",\n       \"../node_modules/grapesjs/dist/grapes.min.js\" // ORDER MATTERS!\n     ]\n  }\n\ncall grapes on your module:\n\n```js\nimport { Component, OnInit } from '@angular/core';\ndeclare var grapesjs: any; // Important!\n@Component({\n  selector: 'app-awesome-component',\n  template: ''\n})\nexport class AwesomeComponent implements OnInit {\n  // ...\n  ngOnInit() {\n    grapesjs.init({\n      container : '#gjs',\n      components: 'Hello world!',\n      style: '.txt-red{color: red}',\n    });\n  }\n}\n```\n--\nI'd close this issue if these steps above work (which is the Angular way of dealing with 3rd party libraries). It is somewhat confusing to configure grapesjs on an Angular project, but it works.\nI faced @aliassad's problem when I was importing jQuery@2.2.4 on the index.html. It could be that jQuery's version is your problem\nObs: it works if you import jQuery@3.2.1 on the index.html. But please, don't.\n\nYou help a lot thanks a million. >Thank you my problem was i missed this -----> before retrieving html editor.store();\n. ",
    "aryeharmon": "i fixed this issue, \nQuestion regarding pull requests, should i run npm run build before pushing?. @rgcarrasqueira create an \"a\" tag component then put the image in there.. @artf i am working on a component builder, where one can save and build custom components. saving them externally or locally. is that something your interested in adding to the project once completed? \nFor example someone wanting to add an 'a' tag component will be able to do so from the UI.. @rgcarrasqueira are you sure the image is under the link component? seems to be working fine by me.. @rgcarrasqueira add screenshot of layer manager link section. It seems to me we should set a minimum hight for links. To make sure you can drop into it.. 5px should do it. Edit the component code. Add style property min-height: 5px\nOn Aug 9, 2017 9:04 PM, \"Rog\u00e9rio Carrasqueira\" notifications@github.com\nwrote:\n\nOk, how to set it? I think it not intuitive for final user\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/223#issuecomment-321335158, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AMVQQrSXnwQplDvAyBHwnyjuTAehG-cZks5sWfS1gaJpZM4OyHyC\n.\n. So fork, and use your fork. Yes I agree with you. I am in the middle of\nmaking a builder for the component's so we will be able to edit them\n\nOn Aug 9, 2017 9:10 PM, \"Rog\u00e9rio Carrasqueira\" notifications@github.com\nwrote:\n\nI think that is a problem, because this is inside the\ngrapejs-preset-newsletter plugin, I have to change it and ask for a pull\nrequest. Have you got my point that means that it is not intuitive?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/223#issuecomment-321336765, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AMVQQvn6KtuFgYXglxLJmhfJZ1T6yKXyks5sWfYagaJpZM4OyHyC\n.\n. i created a small little dirty prototype today, i will commit tomorrow to my fork and we can implement it properly. . Text is hard coded. You can't in my opinion. If for example i have a component with traits:\n[{\n        name: 'ng-repeat',\n        value: 'e in data track by $index',\n        default: 'e in data track by $index',\n}]\nif i add a block with that component, when i add it to the page. the html element will not have my default settings. only if i change the value in the settings will the element update \n\n```\n// before change settings tab\n\n// after change settings tab\n\n```\ni hope i'm clear, let me know if not i will try to explain better.\n. I tried changing the the value on block drop event, however this only worked when the component was selected. \nCan you give me some hint about where and when i should implement this?. @artf it seems like the html only gets updated on a component that is selected by the builder. how would i would automatically select a component that is dropped? . ```\ncomps.addType('amp-list', {\n  model: defaultModel.extend({\n    defaults: Object.assign({}, defaultModel.prototype.defaults, {\n      style: {\n        // \"min-height\": '40px',\n        \"display\": 'block',\n      },\n      tagName: 'amp-list',\n      classes: ['cutom-element-type'],\n      stylable: false,\n      draggable: '*',\n      droppable: true,\n      saveable: true,\n      traits: [{\"type\":\"text\",\"label\":\"Width\",\"name\":\"width\",\"default\":\"auto\",\"value\":\"auto\"},{\"type\":\"text\",\"label\":\"Height\",\"name\":\"height\",\"default\":\"auto\",\"value\":\"auto\"},{\"type\":\"text\",\"label\":\"Layout\",\"name\":\"layout\",\"default\":\"\",\"value\":\"\"},{\"type\":\"text\",\"label\":\"Src\",\"name\":\"src\",\"default\":\"\",\"value\":\"\"},{\"type\":\"text\",\"label\":\"Credentials\",\"name\":\"credentials\",\"default\":\"\",\"value\":\"\"},{\"type\":\"text\",\"label\":\"Class\",\"name\":\"class\",\"default\":\"\",\"value\":\"\"},{\"type\":\"text\",\"label\":\"Template\",\"name\":\"template\",\"default\":\"\",\"value\":\"\"},{\"name\":\"ng-transclude\",\"value\":\"ng-transclude\",\"default\":\"ng-transclude\"}],\n    }),\n  },\n  {\n    isComponent: function(el) {\n      if(el.tagName == 'AMP-LIST'){\n        return {type: 'amp-list'};\n      }\n    },\n  }),\n// Define the View\n  view: defaultType.view,\n});\n```\n. @artf i am trying to create an AMP builder, and need to use that component. how do i do so? . @artf works like a charm thanks\n. @artf this fix no longer works with latest version. @artf yes in the latest update it works. thanks. OK so i see what the issue is, apparently when i add:\nvar domc = editor.DomComponents;\nvar defaultModel = domc.getType('default').model;\nvar defaultView = domc.getType('default').view;\ndomc.addType('template', {\n  model: defaultModel.extend({}, {\n    isComponent: function(el) {\n      if (el.tagName == 'TEMPLATE') {\n      console.log(el, el.innerHTML);\n        // as template.children will return an empty array the traverser\n        // will skip all nodes, therefore attach them as a string (they \n        // will be processed later)\n        return {type: 'template', components: el.innerHTML}\n      }\n    }\n  }),\n  view: defaultView.extend({\n    // '<template>' can't be shown so in canvas use another tag\n    tagName: 'div'\n  }),\n});\nto html the existing elements on page do not take effect. only newly added dom elements.\nfor example i already have a template tag on page when load, i will not get the properties. but if i add the template after it will work.. btw, the editor.render(); is after the register of domc.addType. ",
    "ErickUmanchuk": "@artf here is my HTML:\ni apply the plugin on: . It's important to say that i'm using another plugin called Bootstrap Wizard, that's why in my JS i use the jQuery.noConflict line so that way the two plugins can work together.\n```html\n<!DOCTYPE html>\n\n\n\nAsoquim | {% block title %}{% endblock %}\n\n\n\n Base Css Files \n\n\n\n\n\n\n\n\n\n\n\n\n\n Code Highlighter for Demo \n\n Extra CSS Libraries Start \n\n Extra CSS Libraries End \n\n\n\n\n\n<link href=\"{{ asset('assets/libs/bootstrap-validator/css/bootstrapValidator.min.css') }}\"\n      rel=\"stylesheet\" type=\"text/css\"/>\n\n<link href=\"{{ asset('assets/libs/jquery-jvectormap/css/jquery-jvectormap-1.2.2.css') }}\"\n      rel=\"stylesheet\" type=\"text/css\"/>\n<link href=\"{{ asset('assets/libs/sortable/sortable-theme-bootstrap.css') }}\" rel=\"stylesheet\"\n      type=\"text/css\"/>\n<link href=\"{{ asset('assets/libs/bootstrap-xeditable/css/bootstrap-editable.css') }}\" rel=\"stylesheet\"\n      type=\"text/css\"/>\n<link href=\"{{ asset('assets/libs/grapesjs/dist/css/grapes.min.css') }}\" rel=\"stylesheet\" type=\"text/css\"/>\n<link href=\"{{ asset('assets/libs/grapesjs/dist/css/grapesjs-preset-newsletter.css') }}\" rel=\"stylesheet\" type=\"text/css\"/>\n<link href=\"{{ asset('assets/css/bootstrap-select.css') }}\" rel=\"stylesheet\" type=\"text/css\"/>\n\n{#<link href=\"{{asset('assets/libs/bootstrap-select/bootstrap-select.min.css')}}\" rel=\"stylesheet\" type=\"text/css\" />#}\n\n\n<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->\n<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->\n<!--[if lt IE 9]>\n<script src=\"https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js\"></script>\n<script src=\"https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js\"></script>\n<![endif]-->\n\n<link rel=\"shortcut icon\" href=\"{{ asset('assets/img/favicon.ico') }}\">\n<link rel=\"apple-touch-icon\" href=\"{{ asset('assets/img/apple-touch-icon.png') }}\"/>\n<link rel=\"apple-touch-icon\" sizes=\"57x57\" href=\"{{ asset('assets/img/apple-touch-icon-57x57.png') }}\"/>\n<link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"{{ asset('assets/img/apple-touch-icon-72x72.png') }}\"/>\n<link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"{{ asset('assets/img/apple-touch-icon-76x76.png') }}\"/>\n<link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"{{ asset('assets/img/apple-touch-icon-114x114.png') }}\"/>\n<link rel=\"apple-touch-icon\" sizes=\"120x120\" href=\"{{ asset('assets/img/apple-touch-icon-120x120.png') }}\"/>\n<link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"{{ asset('assets/img/apple-touch-icon-144x144.png') }}\"/>\n<link rel=\"apple-touch-icon\" sizes=\"152x152\" href=\"{{ asset('assets/img/apple-touch-icon-152x152.png') }}\"/>\n{% block stylesheets %}\n{% endblock %}\n\n\n    {% block content %}\n    {% block body %}\n        {% include 'nuevaListaCorreo.html.twig' %}\n        \n ============================================================== \n Start Content here \n ============================================================== \n\n Page Heading Start \n\n\n Crear comunicado\n                    \nLista de pagos de afiliados\n\n Page Heading End\n Your awesome content goes here \n\n\n\n\n\n\n\n\n\nSelecci\u00f3n de plantilla\n\nEdici\u00f3n de plantilla\nEnv\u00edo de comunicado\n\n\n\n\n\n\n\n\n\n\n\n\n\nCategor\u00edas:\n\n-Seleccione-\n                                                                {% for c in categorias %}\n                                                                    {{ c.descripcion }}\n                                                                {% endfor %}\n                                                            \n\n\n\n\n\n\n                                                        {% for t in templates %}\n                                                            \n\n\n                                                        {% endfor %}\n                                                    \n\n\n\n\n\n\n                                    <div class=\"tab-pane\" id=\"tab3\">\n                                        <div class=\"container\">\n                                            <div id=\"foo\"></div>\n                                            <div class=\"row\">\n                                                <div class=\"col-md-4 col-md-push-8\">\n                                                    <div class=\"form-group\">\n                                                        <a href=\"\" class=\"btn btn-success btn-xs pull-right\"\n                                                           data-toggle=\"modal\" data-target=\"#nuevaListaCorreo\">Nueva\n                                                            lista de correos</a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class=\"clearfix\"></div>\n                                            <hr/>\n                                            <div class=\"row\" style=\"margin: auto\">\n                                                <div class=\"col-md-4\">\n                                                    <div class=\"form-group\">\n                                                        <label>Asunto:</label>\n                                                        <input type=\"text\" class=\"form-control\" id=\"subject\"\n                                                               title=\"\"/>\n                                                    </div>\n                                                </div>\n                                                <div class=\"col-md-4\">\n                                                    <div class=\"form-group\">\n                                                        <label for=\"\">Elija los destinatarios:</label>\n                                                        <div class=\"radio\">\n                                                            <label>\n                                                                <input type=\"radio\"\n                                                                       id=\"toggleListaCorreos\"/>\n                                                                Agregar correos\n                                                            </label>\n                                                            <label>\n                                                                <input type=\"radio\" id=\"toggleListaContactos\">\n                                                                Listas\n                                                                de contactos\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"col-md-4\">\n                                                    <div class=\"form-group\">\n                                                        <label>Destinatario:</label>\n                                                        <select class=\"form-control selectpicker\"\n                                                                id=\"listaCorreos\"\n                                                                multiple\n                                                                data-live-search-placeholder=\"Buscar\"\n                                                                data-actions-box=\"true\" title=\"-Seleccione-\">\n                                                        </select>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class=\"row\">\n                                                <div class=\"col-md-4\">\n                                                    <div class=\"form-group\">\n                                                        <label>\u00bfCu\u00e1ndo se realizar\u00e1 el env\u00edo?</label>\n                                                        <div class=\"checkbox\">\n                                                            <label>\n                                                                <input type=\"checkbox\" class=\"sendNow\"> Enviar ahora\n                                                            </label>\n                                                        </div>\n                                                        <div class=\"checkbox\">\n                                                            <label>\n                                                                <input type=\"checkbox\" class=\"scheduleMsg\">\n                                                                Programar env\u00edo\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"col-md-4\">\n                                                    <div class=\"form-group sendDateContainer\">\n                                                        <label>Fecha de env\u00edo:</label>\n                                                        <input type=\"text\" class=\"form-control fechaEnvio\"\n                                                               placeholder=\"\" disabled>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <ul class=\"pager wizard\">\n                                        <li class=\"previous first\" style=\"display:none;\"><a href=\"#\">First</a></li>\n                                        <li class=\"previous\"><a href=\"#\">Volver</a></li>\n                                        <li class=\"next last\" style=\"display:none;\"><a href=\"#\">Last</a></li>\n                                        <li class=\"next next-btn\"><a href=\"#\">Continuar</a></li>\n                                        <li class=\"finish\" style=\"display: none;\"><a\n                                                    href=\"\" id=\"enviar\"\n                                                    data-loading-text=\"Enviando, por favor espere...\">Enviar <i\n                                                        class=\"fa fa-send\"></i></a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <!-- ============================================================== -->\n        <!-- End content here -->\n        <!-- ============================================================== -->\n    </div>\n{% endblock %}\n\n{% endblock %}\n{% block javascript %}\n    var resizefunc = [];\n<!-- jQuery (necessary for Bootstrap's JavaScript plugins)-->\n{#<script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"></script>#}\n<script src=\"{{ asset('assets/libs/jquery/jquery-1.11.1.min.js') }}\"></script>\n<script src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js\"></script><!--para el datepicker -->\n<script src=\"{{ asset('assets/libs/jqueryui/jquery-ui-1.10.4.custom.min.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/jquery-ui-touch/jquery.ui.touch-punch.min.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/bootstrap/js/bootstrap.min.js') }}\"></script>\n{#<script src=\"{{ asset('assets/js/jquery-2.1.3.min.js') }}\"></script>#}\n{# <script src=\"{{ asset('assets/js/bootstrap-3.3.2.min.js') }}\"></script>#}\n<script src=\"//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js\"></script>\n<script src=\"//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js\"></script>\n<script src=\"https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js\" rel=\"stylesheet\"></script>\n<script src=\"https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js\" rel=\"stylesheet\"></script>\n<script src=\"https://cdn.datatables.net/responsive/2.1.0/js/dataTables.responsive.min.js\" rel=\"stylesheet\"></script>\n<script src=\"https://cdn.datatables.net/responsive/2.1.0/js/responsive.bootstrap.min.js\" rel=\"stylesheet\"></script>\n<script src=\"{{ asset('assets/libs/jquery-detectmobile/detect.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/jquery-animate-numbers/jquery.animateNumbers.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/ios7-switch/ios7.switch.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/fastclick/fastclick.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/jquery-blockui/jquery.blockUI.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/bootstrap-bootbox/bootbox.min.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/jquery-slimscroll/jquery.slimscroll.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/jquery-sparkline/jquery-sparkline.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/nifty-modal/js/classie.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/nifty-modal/js/modalEffects.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/sortable/sortable.min.js') }}\"></script>\n{#<script src=\"{{ asset('assets/libs/bootstrap-fileinput/bootstrap.file-input.js') }}\"></script>#}\n<script src=\"{{ asset('assets/libs/magnific-popup/jquery.magnific-popup.min.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/pace/pace.min.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/jquery-icheck/icheck.min.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/dropzone/dropzone.min.js') }}\"></script>\n<script src=\"{{ asset('assets/js/pages/form-validation.js') }}\"></script>\n{# <script src=\"{{asset('assets/libs/bootstrap-select/bootstrap-select.min.js')}}\"></script>\n <script src=\"{{asset('assets/libs/bootstrap-select2/select2.min.js')}}\"></script>#}\n<script src=\"{{ asset('assets/js/bootstrap-select.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/bootstrap-xeditable/js/bootstrap-editable.min.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/bootstrap-validator/js/bootstrapValidator.min.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/spinjs/spin.min.js') }}\"></script>\n<script src=\"{{ asset('assets/js/pages/form-wizard.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/jquery-wizard/jquery.easyWizard.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/bootstrap-wizard/jquery.bootstrap.wizard.min.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/grapesjs/dist/grapes.min.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/grapesjs/dist/grapesjs-preset-newsletter.min.js') }}\"></script>\n<!-- Demo Specific JS Libraries -->\n<script src=\"{{ asset('assets/libs/prettify/prettify.js') }}\"></script>\n{#<script src=\"{{ asset('assets/libs/filterizr/jquery.filterizr.min.js') }}\"></script>#}\n<script src=\"{{ asset('assets/libs/filterizr/jquery.filterizr.js') }}\"></script>\n<script src=\"{{ asset('assets/js/pages/notifications.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/jquery-notifyjs/notify.min.js') }}\"></script>\n<script src=\"{{ asset('assets/libs/jquery-notifyjs/styles/metro/notify-metro.js') }}\"></script>\n<script src=\"{{ asset('assets/js/init.js') }}\"></script>\n<script src=\"{{ asset('assets/js/app.js') }}\"></script>\n\n{% endblock %}\n\nAnd this is my JS:js\nvar $ = jQuery.noConflict(),\n            $inputDate = $(\".sendDateContainer\"),\n            $schdl = $(\".scheduleMsg\"),\n            $send = $(\".sendNow\"),\n            wizard = $(\"#myWizard\"),\n            template = $(\".template\"),\n            date = new Date(),\n            dd = date.getDate(),\n            mm = date.getMonth() + 1,\n            yyyy = date.getFullYear(),\n            today = dd + '-' + '0' + mm + '-' + yyyy,\n            html,\n            css,\n            editor;\n        $(document).ready(function () {\n            $schdl.on(\"ifChecked\", function () {\n                $send.iCheck(\"uncheck\");\n                if ($inputDate.find(\"input\").hasAttr(\"disabled\")) {\n                    $inputDate.find(\"input\").removeAttr(\"disabled\");\n                }\n            });\n            $send.on(\"ifChecked\", function () {\n                $inputDate.find(\"input\").val(\"\");\n                $schdl.iCheck(\"uncheck\");\n                if (!$inputDate.find(\"input\").hasAttr(\"disabled\")) {\n                    $inputDate.find(\"input\").attr(\"disabled\", true);\n                }\n            });\n            template.on(\"click\", function () {\n                var id = $(this).data(\"id\");\n                $(\".next-btn\").data(\"template\", id);\n                if (!$(this).hasClass('activeHover')) {\n                    template.removeClass('activeHover').addClass('unactiveHover');\n                    $(this).removeClass('unactiveHover').addClass('activeHover');\n                } else {\n                    template.removeClass('activeHover unactiveHover');\n                }\n            });\n            wizard.bootstrapWizard({\n                tabClass: 'nav nav-tabs nav-justified',\n                onTabShow: function (tab, navigation, index) {\n                    var $total = navigation.find('li').length;\n                    var $current = index + 1;\n                    var $percent = ($current / $total) * 100;\n                    wizard.find(\".progress-bar\").css({width: $percent + '%'});\n                },\n                onNext: function (tab, navigation, index) {\n                    if (index === 1) {\n                        var templateId = $(\".next-btn\").data(\"template\");\n                        var content = $(\"#template\" + templateId).data(\"content\");\n                        $(\"#newsletter\").append(\"\");\n                        editor = grapesjs.init({\n                            container: '#gjs',\n                            plugins: ['gjs-preset-newsletter'],\n                            pluginsOpts: {\n                                'gjs-preset-newsletter': {\n                                    modalTitleImport: 'Import template'\n                                }\n                            },\n                            storeHtml: true\n                        });\n                        editor.setComponents(content);\n                    }\n                    if (index === 2) {\n                        css = editor.getCss();\n                        html = editor.getHtml();\n                        $(\".finish\").css(\"display\", \"block\");\n                    }\n                }\n            });\n        });\n```. @artf Yes Mr. it's my HTML file, I tried cloning the full project on another directory where I have been working and it worked, when I saw the error the first time was after my computer restarted accidentally, I suppouse that phpStorm had an error while auto-saving the project and the computer restarted. Maybe that was the problem.\nI solved it that way, thanks for the help and revision, greetings.. ",
    "anand-gopinath": "@artf - Can we do the same functionality as a custom style property which has \n\nleft, right and center\n\noptions and once the user clicks on the corresponding alignment, the custom style property will apply \n\n\"text-align:center\"\n\nto its parent. Is this possible?. @maxtacco That's fine but, it seems better to do through API because in future there will be a need for rearrangements among the 4 views in that panel.. @artf Can you please check this. @crazyxhz : You can do it by adding data attributes to the content \"data-gjs-droppable='.className'\", For ex https://jsfiddle.net/wswvuvab/2/. @artf - Could you please take a look.... ",
    "ErnestsMillers": "Thank you a lot, @artf. The fix for me was actually: \nvar comp1 = wrapperChildren.add(mjText.attributes.content);. ",
    "KMantas": "Hi\nI have little bit different issue, but it is similar so posting here.\nI'm using jQuery in component and I've tried both recommend options for loading custom script. Through canvas for all components:\ncanvas: {\n        scripts: ['jquery.min.js']\n    }\nand also inside component: \n```\nvar jquery = document.createElement('script');\njquery.src = \"jquery.min.js\";\njquery.onload = function() {\n  var script = document.createElement('script');\n  script.onload = initMySLider;\n  script.src = \"jquery.cycle2.min.js\";\n  document.body.appendChild(script);\n};\ndocument.body.appendChild(jquery);\n```\ninitially bothways it works fine - I use jQuery cycle plugin and it works. But I'm trying to access that plugin when model change event is fired:\ninit() {\n  this.listenTo(this, 'change:count', this.updateSlideCount);\n},\nupdateSlideCount() {\n  $(this.view.el).cycle('reinit');\n},\nthis doesnt work, because here $ refers to jQuery loaded by GrapesJS and cycle plugin is not there.\nany ideas how to fix this? \nthanks. it worked! thanks. ",
    "xXCalleManXx": "The problem was that the response header was not JSON format, after i changed my endpoint to JSON it all worked.. ",
    "denim2x": "@saltyfoam Do you require touch support within the editor itself or within the template?. ",
    "saltyfoam": "I'd like to be able to use this editor on a touch device such as a tablet, so we need anything you can do with a mouse to be achievable with touch. I am currently using DragDropTouch.js for other parts of the Web site so if you could use that here it would be great as it seems to work for all the environments I want to support.. How is this implementation coming along?. Seems like there's been no activity on this for a month. I think cmcintosh could work on it.. This feature is still very important to my project and there is no one actively working on it. I believe it would also be great to have this feature for other people to use GrapesJS in a touch environment. At this point the goal is just to be able to create and edit a document with GrapesJS using a large touch enabled device such as a laptop, we can deal with smaller devices as a separate issue.. Hi,\nWe do support Edge on our Web site for drag and drop and touch and so I took a closer look and it looks like we\u2019re also loading the following so perhaps with both polyfills we can get this to work on those environments.\nhttps://github.com/CamHenlin/TouchPolyfill\nDominique\n\nFrom: Unsigno notifications@github.com\nSent: Monday, March 12, 2018 5:19:53 PM\nTo: artf/grapesjs\nCc: saltyfoam; Mention\nSubject: Re: [artf/grapesjs] Add touch support (BS $1000) (#241)\nIt's being harder than I expected, but after some problems mapping the current code and looking for solutions, I think I'm on track to solve the dragging problems . I am basing my solution on the pruposed DragDropTouch polyfill, but it seems not supported on IE11 and Edge ( browsers using poiter events instead touch events ) is this acceptable ?\nAre there another missing features for tocuh devices ? I was looking for it, but since i am not a real user and i can't test with all browsers, I'd appreciate some reports.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-372504937, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx-9JkVmCLexyi4rdV_pjVwAAQZqbks5tdxCpgaJpZM4O-IHQ.\n. We haven\u2019t been able to use this framework at all on touch devices so I don\u2019t know if there are other missing features.\nWe are currently loading both polyfills and using drag and drop so hopefully you won\u2019t have conflicts either.\nDominique\nOn Mar 12, 2018, at 5:58 PM, Unsigno notifications@github.com<mailto:notifications@github.com> wrote:\nThanks, will take a look, i hope no issues overlaping polyfills. If it throw problems will implement the drag polyfill over pointers .\nAre there another missed features for touch devices ?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-372510864, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx1WBRjVvGEDy1ev3ZWNtMhW71VH2ks5tdxmmgaJpZM4O-IHQ.\n. Hi,\nI am travelling until next week so I will look at it then.\nDominique\n\nFrom: Unsigno notifications@github.com\nSent: Thursday, March 29, 2018 3:22:59 PM\nTo: artf/grapesjs\nCc: saltyfoam; Mention\nSubject: Re: [artf/grapesjs] Add touch support (BS $1000) (#241)\nI published a working version , still with some bugs , buts looks working and so you can test and report . https://github.com/Unsigno/grapesjs\nCurrently i am looking to fix the ColorPicker and trying to improve the DragDropTouch behavior .\n@saltyfoamhttps://github.com/saltyfoam I added the touch polyfill and tested on IE/Edge ( on local version ) , it produces the same result on mouse and touch devices , but currently GrapesJS is not supported on IE/Edge . Since this should be a different issue , can i assume that producing the same result on touch and mouse as added touch support on that browsers ??\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-377233350, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx-yVaGbnvbaZat75iPVYQx_EIBycks5tjOAzgaJpZM4O-IHQ.\n. Hi Unsigno,\nI appreciate the work you've put into this! I tried out your solution with our existing code base on a Windows 10 laptop and I was able to drag components using touch but they would not drop. I tried on Edge, Chrome and Firefox with the same results.\nI put together a package that reproduces our deployment so you could have a look. You can download it from http://uberfine.com/Test/GrapesJS3.zip and place it where your Web server can serve it, then load the Designer.htm into your Web browser.\nAt this point all I tried to do was drag the \"Basic Header\" component onto the top of the page. It works with the mouse but not with touch. The problem may be due to a difference between the JavaScript files I'm loading (such as DragDropTouch.js and touchpolyfill.min.js) and the ones you're using. This deployment was implemented by another engineer and he's no longer on the team so unfortunately I don't know much about how he integrated this.\nDominique. I just tried the index.html in the grapesjs root folder and I am able to drop the \u201cBlock\u201d element on Chrome using touch! So it would appear that the \u201cdrop\u201d problem has something to do with my deployment, and not the environment.\nNow just to add another wrinkle into all this, when I just retested with Edge I am able to not only drag but also drop using Edge! I guess I didn\u2019t try it too much because I expected it to fail. I am not able to drop on Chrome or Firefox however.\nSo to recap, in my deployment (i.e. the package I provided) I can drag and drop on Edge using touch, and I can only drag on Chrome and Firefox using touch (no drop on these). Using index.html I am able to drag and drop in all three browsers.\nDominique\n\nFrom: Unsigno notifications@github.com\nSent: Wednesday, April 4, 2018 1:22:49 PM\nTo: artf/grapesjs\nCc: saltyfoam; Mention\nSubject: Re: [artf/grapesjs] Add touch support (BS $1000) (#241)\nLooking on it. Can you try the Grapes example ( a empty page with Grapes ) ? just to be sure if it is working for you , so i can focus on conflicts .\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-378732755, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx2Xr4Eybu87gMHR3Ogpn48y0c-s-ks5tlSuZgaJpZM4O-IHQ.\n. I updated my DragDropTouch.js from https://github.com/Bernardo-Castilho/dragdroptouch and it seems to behave the same way.\nDominique\n\nFrom: Unsigno notifications@github.com\nSent: Thursday, April 5, 2018 10:34:57 AM\nTo: artf/grapesjs\nCc: saltyfoam; Mention\nSubject: Re: [artf/grapesjs] Add touch support (BS $1000) (#241)\nOk , i have some ideas to test, lets me some time to test and find a generic solution .\nYou could update DragDropTouch on your development too , because many changes are there and just the first \"instance\" apply .\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-379016329, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx6jwEcqFrK8_54o_ySD045CNp7_eks5tllXBgaJpZM4O-IHQ.\n. This version does resolve the drop issue on those two browsers!\nI did some additional testing on other devices and I see one issue remaining. It affects the Chrome browser (iOS, Windows, Chromebook, Android, and iOS), the iOS native browser and Firefox (Windows) but strangely enough not Edge.\nThe issue is that when you start dragging an item from the right side panel (such as the Basic Header) the icon that is being dragged stops moving as soon as the green line appears in the main panel indicating where the object will be dropped. I can move my finger around and as a result move the green line around indicating that the drag operation is succeeding, but the icon does not follow my finger while it is over the white areas of the screen but is instead \u201cstuck\u201d to the right panel or the panel at the top (i.e. the black background areas). I\u2019m not sure whether the problem is that the showing of the green line locks the icon in place or that the icon can\u2019t escape the black areas of the screen (probably the latter?).\nDominique\n\nFrom: Unsigno notifications@github.com\nSent: Thursday, April 5, 2018 10:50:28 AM\nTo: artf/grapesjs\nCc: saltyfoam; Mention\nSubject: Re: [artf/grapesjs] Add touch support (BS $1000) (#241)\nThis is the older version , you can use https://github.com/Unsigno/grapesjs/blob/dev/src/utils/DragDropTouch.js . I don't created a new fork for that , but will do it .\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-379020989, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx3O_l3G9kMEGWQxHEBmanfZDONUDks5tlllkgaJpZM4O-IHQ.\n. Hi,\nI updated GrapesJS and DragDropTouch and things are working much better now. I did notice issues with the color picker. On IE it often doesn\u2019t stay open and instead closes immediately. It also seems to result in the color #NaNNaNNaN in the edit box instead of the correct values for what I chose. I only did a bit of testing but this looks promising. \ud83d\ude0a I\u2019ll do some more testing later today and if all is well I\u2019ll look at how I release the funds to you.\nOn a different topic, I have a question for you. This work that you\u2019ve been doing is in order to incorporate the GrapesJS into a product I\u2019m building (see it at http://socialattache.com). GrapesJS is a small feature of the product - basically a Web Page / Landing Page / Email editor, but we have much more going on that will require a front end expert in JavaScript and CSS. Other libraries we use include jsPlumb and ckeditor and we\u2019re also researching how to incorporate video and webinars. Would you be interested in joining the team, initially to complete the GrapesJS work and in future to work on other features? Our team members work at their own pace, as they have time.\nDominique\n\nFrom: Unsigno notifications@github.com\nSent: Sunday, April 8, 2018 1:02:31 PM\nTo: artf/grapesjs\nCc: saltyfoam; Mention\nSubject: Re: [artf/grapesjs] Add touch support (BS $1000) (#241)\nHi , I updated my Grapes repo , it adds :\n\nTouch events polyfill for IE/Edge\nFix ColorPicker drag on touch devices\n\nFix DragDropTouch draggable thumbnail\n\n\nnote, it updates DragDropTouch , so if you are using it on your main project you require overwrite that file\n\n\nCurrently all looks working for me , wait for your new :)\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-379578170, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx29HExJR2cPjgTMcdgwjTFsyT8wPks5tmmzXgaJpZM4O-IHQ.\n. I will take another look later today and get back to you.\nDominique\nOn Apr 11, 2018, at 6:01 PM, Unsigno notifications@github.com<mailto:notifications@github.com> wrote:\nOk , sorry for the timming , but i was losed with a error produced on IE emulator . After solving that, all works , and i can't reproduce your errors .\nAre you testing on emulator or a real device ?? Is a single Grapes who produces that ??\nIn a single instance the colorpicker works for me , and i can't run your enviroment since i need some more files , and fixes .\nYou found some other bugs related to the issue , or i can send the PR to claim funds ??\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-380641530, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx8100SRWtBKf8Caoqc2IRLWjSv9bks5tnqeEgaJpZM4O-IHQ.\n. I am using real devices, no emulators.\nWhat other files and fixes do you need to run  the package I sent you? The only bug I am aware of is the wrong case being used for WebSite.css at the bottom of Designer.htm (sorry about that).\nI don\u2019t know what you mean by \u00ab single Grapes \u00bb.\nDominique\nOn Apr 11, 2018, at 6:01 PM, Unsigno notifications@github.com<mailto:notifications@github.com> wrote:\nOk , sorry for the timming , but i was losed with a error produced on IE emulator . After solving that, all works , and i can't reproduce your errors .\nAre you testing on emulator or a real device ?? Is a single Grapes who produces that ??\nIn a single instance the colorpicker works for me , and i can't run your enviroment since i need some more files , and fixes .\nYou found some other bugs related to the issue , or i can send the PR to claim funds ??\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-380641530, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx8100SRWtBKf8Caoqc2IRLWjSv9bks5tnqeEgaJpZM4O-IHQ.\n. Hi,\nI put the package I sent you online and added your improvements so we can all test using the same code base. It\u2019s available at:\nhttp://uberfine.com/Test/GrapesJS3/Designer.htm\nI recorded a video reproducing the two issues I see with the color picker:\nhttp://uberfine.com/Test/GrapesJS3/ColorPickerBugs.wmv\nWhen the color picker is working correctly I\u2019ll release the funds to you as the rest seems to be working OK.\nDominique\n\nFrom: Unsigno notifications@github.com\nSent: Wednesday, April 11, 2018 6:01:56 PM\nTo: artf/grapesjs\nCc: saltyfoam; Mention\nSubject: Re: [artf/grapesjs] Add touch support (BS $1000) (#241)\nOk , sorry for the timming , but i was losed with a error produced on IE emulator . After solving that, all works , and i can't reproduce your errors .\nAre you testing on emulator or a real device ?? Is a single Grapes who produces that ??\nIn a single instance the colorpicker works for me , and i can't run your enviroment since i need some more files , and fixes .\nYou found some other bugs related to the issue , or i can send the PR to claim funds ??\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-380641530, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx8100SRWtBKf8Caoqc2IRLWjSv9bks5tnqeEgaJpZM4O-IHQ.\n. If you like, feel free to send me a ZIP file of exactly what you want me to put up on my site and I\u2019ll do that so we can both be testing with the same sources.\n\nFrom: Unsigno notifications@github.com\nSent: Friday, April 13, 2018 2:01:12 AM\nTo: artf/grapesjs\nCc: saltyfoam; Mention\nSubject: Re: [artf/grapesjs] Add touch support (BS $1000) (#241)\nOk, thanks for your support, it helps . With \"single Grapes\" I mean using a empty page with Grapes, just to avoid unrealated problems .\nI tested your enviroment, but i was having issue with IE ( on local and online version using mouse or emulated touch ), throwing many 'Object don't accept propertie or method \"From\"' , related to Array class . So it don't runs properly Grapes.\nAny way i found the posible problem , since i don't build the project and you are using the minified version of Grapes ( so you enviroment haven't the latest changes ). Now the problem is that i have an issue passing the tests on build . Will solve it and talk you later .\nOn you enviroment you could include 'touchpolyfill' before 'DragDropTouch', i am not sure if the order will cause some problem , but just in case .\nPD: sorry for my english level\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-381072332, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkxyCewe1rdif0ufZOKgIQ1l2BkeRDks5toGlXgaJpZM4O-IHQ.\n. The color picker seems to work better now. The only remaining issue there is that it doesn\u2019t stay open on IE but we can deal with that separately. I\u2019ll go look at releasing the funds for you.\nWith respect to the project I\u2019m working on, and getting you involved, the first task would be to complete the GrapesJS integration. Have a look at the \u201cLayout Editor Design\u201d document I included in the ZIP file. It explains my vision for how the GrapesJS would be used by my customers (who don\u2019t know HTML) in order to build a Web page from some provided components (similar to how ClickFunnels and other builders work). There is also a \u201cLayout Editor Changes\u201d document I provided which was put together by the last engineer who worked on this for me. And finally there is a video I put together to give you a bit more info:\nhttp://uberfine.com/Test/GrapesJS3/GrapesJSTask2.wmv\nLet me know how much you think it\u2019ll cost to complete this effort and then we can discuss whether it should be broken down into weekly tasks or how we should break it down and mark progress.\nDominique\n\nFrom: Unsigno notifications@github.com\nSent: Friday, April 13, 2018 8:37:55 AM\nTo: artf/grapesjs\nCc: saltyfoam; Mention\nSubject: Re: [artf/grapesjs] Add touch support (BS $1000) (#241)\nNow you can update grapes.min.jshttps://github.com/Unsigno/grapesjs/blob/dev/dist/grapes.min.js and DragDropTouch.jshttps://github.com/Unsigno/grapesjs/blob/dev/src/utils/DragDropTouch.js files on your project from my repo, and in your Designer.html switch lines 17-18 just in case. I can't run your project on IE but if it works for you currently , this should solve the colorpicker issue.\nIf you have issues running your project on IE, you can clone my repo and run the example page.\nJust tell me if you have some issue to run it or need some more help .\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/issues/241#issuecomment-381174972, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx_s5MYxMmhVA_0Zj7YOpIxOwjvnDks5toMZTgaJpZM4O-IHQ.\n. Is this going to be merged to trunk soon? I spoke with Guillem and it seems there's nothing left outstanding at this point.. I don\u2019t care how it\u2019s integrated. I just want the ability to keep upgrading my GrapesJS without having to merge in the touch changes.\nDominique\nOn Aug 23, 2018, at 3:47 PM, Artur Arseniev notifications@github.com<mailto:notifications@github.com> wrote:\nSorry for the late reply @Unsignohttps://github.com/Unsigno @saltyfoamhttps://github.com/saltyfoam what do you think about merging all the stuff which enable grapesjs on touch devices and creating a plugin which just contains polyfills to make it work properly on mobile?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/pull/1042#issuecomment-415595180, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkx71TDL0qFHqaOqUPrhgBNr-r-beKks5uTzEYgaJpZM4TU62n.\n. I tested Windows Chrome and Firefox and they seem to work fine.\nI tested a touch Chromebook and it works fine.\nI tested Windows Edge and the page loads without the editor around it. Not sure what\u2019s failing.\nI tested iPhone Safari and I can drag new elements onto the page but I can\u2019t select the elements on the page.\nI tested iPhone Chrome and it seemed to work a little better than Safari but there were still selection problems.\n\nFrom: Artur Arseniev notifications@github.com\nSent: Thursday, August 30, 2018 2:08:27 PM\nTo: artf/grapesjs\nCc: saltyfoam; Mention\nSubject: Re: [artf/grapesjs] Adding touch support (#1042)\nHi @saltyfoamhttps://github.com/saltyfoam I created this new branch https://github.com/artf/grapesjs/tree/touch-support-plg which merges most of the work done by @Unsignohttps://github.com/Unsigno\nTouch polyfills are now moved here https://www.npmjs.com/package/grapesjs-touch\nHere a direct demo, to test, with this new setup:\nhttps://474yo4x40.codesandbox.io (sandbox: https://codesandbox.io/s/474yo4x40)\nWould be great if you can test it properly (tried with the emulator and seems to work)\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/pull/1042#issuecomment-417467663, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkxzwf1JWF0wZPVT3vaDm_We8TYqnxks5uWFRLgaJpZM4TU62n.\n. I spoke to the developer and we believe that the code is good to merge into the trunk as these remaining issues won\u2019t affect anyone not using touch support. I\u2019ll get someone to look into these issues and solve them.\nDominique\n\nFrom: Dominique L saltyfoam@hotmail.com\nSent: Thursday, August 30, 2018 6:00:01 PM\nTo: artf/grapesjs; artf/grapesjs\nCc: Mention\nSubject: RE: [artf/grapesjs] Adding touch support (#1042)\nI tested Windows Chrome and Firefox and they seem to work fine.\nI tested a touch Chromebook and it works fine.\nI tested Windows Edge and the page loads without the editor around it. Not sure what\u2019s failing.\nI tested iPhone Safari and I can drag new elements onto the page but I can\u2019t select the elements on the page.\nI tested iPhone Chrome and it seemed to work a little better than Safari but there were still selection problems.\n\nFrom: Artur Arseniev notifications@github.com\nSent: Thursday, August 30, 2018 2:08:27 PM\nTo: artf/grapesjs\nCc: saltyfoam; Mention\nSubject: Re: [artf/grapesjs] Adding touch support (#1042)\nHi @saltyfoamhttps://github.com/saltyfoam I created this new branch https://github.com/artf/grapesjs/tree/touch-support-plg which merges most of the work done by @Unsignohttps://github.com/Unsigno\nTouch polyfills are now moved here https://www.npmjs.com/package/grapesjs-touch\nHere a direct demo, to test, with this new setup:\nhttps://474yo4x40.codesandbox.io (sandbox: https://codesandbox.io/s/474yo4x40)\nWould be great if you can test it properly (tried with the emulator and seems to work)\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/artf/grapesjs/pull/1042#issuecomment-417467663, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AbWkxzwf1JWF0wZPVT3vaDm_We8TYqnxks5uWFRLgaJpZM4TU62n.\n. ",
    "bayareawebpro": "Take a look at https://hammerjs.github.io. @artf Just wanted to say amazing job on this.   Excellent Work!. ",
    "Unsigno": "If you still interested on this feature and no one is working on it I would like to have a look .\nI understand we are talking about handle user input on touch devices, no about responsive design ( can be improved but is not the target here ) . If some one can clarify i will be happy to start it :). Oki, I'll check the code and if I think I can complete the issue I'll mark it as started. This should be forked from master and pushed to dev, right ?. It's being harder than I expected, but after some problems mapping the current code and looking for solutions, I think I'm on track to solve the dragging problems . I am basing my solution on the pruposed DragDropTouch polyfill, but it seems not supported on IE11 and Edge ( browsers using poiter events instead touch events ) is this acceptable ?\nAre there another missing features for tocuh devices ? I was looking for it, but since i am not a real user and i can't test with all browsers,  I'd appreciate some reports.\n. Thanks, will take a look, i hope no issues overlaping polyfills. If it throw problems will implement the drag polyfill over pointers . \nAre there another known missed features for touch devices ?. @devontrae I am currently working on this , please look for another issue .. No luck needed to solve issues :p \nYes, there are some obstacles , but i still working on it. I have some things working but still some issues to fix, i hope send a PR soon .. I published a working version , still with some bugs , buts looks working and so you can test and report . https://github.com/Unsigno/grapesjs\nCurrently i am looking to fix the ColorPicker and trying to improve the DragDropTouch behavior .\n@saltyfoam I added the touch polyfill and tested on IE/Edge ( on local version ) , it produces the same result on mouse and touch devices , but currently GrapesJS is not supported on IE/Edge . Since this should be a different issue , can i assume that producing the same result on touch and mouse as added touch support on that browsers ??. Looking on it. Can you try the Grapes example ( a empty page with Grapes ) ? just to be sure if it is working for you , so i can focus on conflicts .. Ok , i have some ideas to test, lets me some time to test and find a generic solution .\nYou could update DragDropTouch on your development too , because many changes are there and just the first \"instance\" apply .. This is the older version , you can use https://github.com/Unsigno/grapesjs/blob/dev/src/utils/DragDropTouch.js . I don't created a new fork for that , but will do it .. I'm glad to hear that. \nI know what you mean , its the latter one , it can't enter the iframe . I was looking on the colorpicker, and will look it tomorrow . I hope push this fixes tomorrow .. Hi , I updated my Grapes repo , it adds : \n\nTouch events polyfill for IE/Edge\nFix ColorPicker drag on touch devices \nFix DragDropTouch draggable thumbnail\n\n(*) note, it updates DragDropTouch , so if you are using it on your main project you require overwrite that file \nCurrently all looks working for me , wait for your new :). Checking the issue.\nSounds good, you can send me a contat to gddg1989@gmail.com. . Ok , sorry for the timming , but i was losed with a error produced on IE emulator . After solving that, all works , and i can't reproduce your errors .\nAre you testing on emulator or a real device ?? Is a single Grapes who produces that ??\nIn a single instance the colorpicker works for me , and i can't run your enviroment since i need some more files , and fixes .\nYou found some other bugs related to the issue , or i can send the PR to claim funds ??. Ok, thanks for your support, it helps . With \"single Grapes\" I mean using a empty page with Grapes, just to avoid unrealated problems . \nI tested your enviroment, but i was having issue with IE ( on local and online version using mouse or emulated touch ), throwing many 'Object don't accept propertie or method \"From\"' , related to Array class . So it don't runs properly Grapes.\nAny way i found the posible problem , since i don't build the project and you are using the minified version of Grapes ( so you enviroment haven't the latest changes ). Now the problem is that i have an issue passing the tests on build . Will solve it and talk you later .\nOn you enviroment you could include 'touchpolyfill' before 'DragDropTouch', i am not sure if the order will cause some problem , but just in case .\nPD: sorry for my english level . Oki , finally i fixed the tests and build the project . This should fix your issues . Try adding 'touchpolyfill' before 'DragDropTouch' too .\nWait for your news .. Now you can update grapes.min.js and DragDropTouch.js files on your project from my repo, and in your Designer.html switch lines 17-18 just in case. I can't run your project on IE but if it works for you currently , this should solve the colorpicker issue.\nIf you have issues running your project on IE, you can clone my repo and run the example page.\nJust tell me if you have some issue to run it or need some more help .. I have responded to your email and we can follow the thread there. \nAbout the video, I need to review the operation of the selector and the restrictions of the blocks to propose a solution, I know that there is already part of what you need defined, but I have to see how it works and its scalability. Will check your docs too and talk you later.. Sorry @artf, I think now should be solved .. @artf there is nothing i can do if you don't want to add these polyfills . The other issues aren't relevant then , since they are dependent .. I will try to answer you concerns the more correct as i can , but to be honest , i don't remember all details right now .. Hi all,\nI was looking to hunt the bounty, but i don't know if i can be awarded if the code is a new plugin, out of the GrapesJS project. If i create a plugin to integrate CKEditor on GrapesJS will be receive the bounty correctly ?. I see some conflict with the custom RTE concept and the current CKEditor implementation, old versions of CKEditor match better, maybe some advanced user can correct me if i am wrong.\nIf we use a custom RTE, the edited content can't be managed be the GrapesJS editor, right ?\nUsing a custom RTE we can expect to edit the content of an element, but CKEditor, now, needs a root element to work and it can create new elements inside (maybe not allowed in our GrapesJS config). So if we edit a <p>, CK will use it as root element and creates the text node inside another ( a new <p>, who causes issues with the bold, italic, etc ... )\nTaking into account all this, and other conflicts that may arise if we want to keep the configuration of each editor (Grapes and CK) without restrictions. The only, or better, form that occurs to me to solve the issue is creating a Grapes component for CK editor, which is handled by Grapes as a single element, but its content is edited with CK and its corresponding configuration. That way we can keep the editors together, working independently.\nWhat do you think ??. I apologize for my English, I try to learn but I still have to rely on the translator.\nI found these topic talking about what I was trying to explain https://github.com/ckeditor/ckeditor5/issues/762 . There some user share a solution, but still not in the official build.\nAnyway, forgetting this, CKEditor5 is not prepared to work with nested windows (<iframe>) https://github.com/ckeditor/ckeditor5-editor-inline/issues/7, so there could be some issues. Thats why i suggest implement it as Grapes component or block ( not RTE ) so we can keep it in the canvas context.\nI still testing with the RTE, but i can't get the \"new line\" (enter button) working with CKEditor, i think there is a conflict with the context and how CKEditor listen the events, but i can't find how the Grapes RTE implement this feature so maybe there is some override. \n@artf you could tell me where the \"new line\" implemented or if you have any idea why this may happen ?. @FrciSmrci I am taking a look, but i think we are pointing diferent problems. With these build, if you instanciate a CKEditor on a \"h1\", it adds a \"p\" to contain the text node ?\nAnyways i loss the \"keypress\" event somewhere. It could be this problem caused by using the standalone files ?. Since GrapesJs is making use of the native DragDrop events, the single options was : \n\nRewrite all DrapDrop functionalities making use of standard multiplatform API's .\nPolyfill these events for platform not supporting DragDrop natively .\n\nI was new to GrapesJS, and the poly fill option was the main proposal in the feature request thread (without any objection). So it was the best option.\nIf you can help me to add it in a modular way , we can look it .. The Event object provided by Touchmove don't meet our needs ( or require new implementations ), you can try your demo on emulator or touch device to look the result .\nThe Mousemove event is fired after Touchmove and the Event object provided is properly implemented .\nSo removing Touchmove the ColorPicker is working as well .. I don't remember the exact cause for this . \nWe can't set the events together because then the function is called twice with diferent Event objects. This can cause strange effects, also many times these function store data from these events which are used in other listeners ( the data are not consistent if the function can be called from diferent events ) .\nI was testing on Chrome, Firefox and IE, usign mouse and touch devices. And listening just for mouse events was not consistent. ( i think the mouse implementation on IE touch devices was the problem ) . ",
    "devontrae": "I think this would be pretty useful, so I'll take a crack at it as well. . @unsigno alright, well if you need a partner you know where to find me!. ",
    "UnitedPeace": "Have you had any luck with this issue? I've tried to play with this feature but hit my share of obstacles.. ",
    "tluyben": "Was this fix integrated in the main branch? The branch that @saltyfoam published on his site seems to work fine, but the main branch does not (I can drag & drop elements, but I cannot change their content on touch devices). \nThanks!. ",
    "nguyenhiep2906": "Hi @artf \nThank you for your comment,I'll try to create plugin.. ",
    "uripre": "+1 \ud83d\udc4d . ",
    "tataclassedge": "hi\nany updates on this please. ",
    "rishavs": "a simple client side router will be amazing!. ",
    "chriscapetown": "hi\ndid anyone make any progress on this? . ",
    "funkycram": "Very sorry for not having seen it !! Thanks for answering !. Great, it works now I've managed to install it on my server !\nReally a great job you've done with this app, thanks a lot !. ",
    "tranbaduyuy": "Hi @artf, \nI tried with this but I can't found solution about this.\nThis is very simple just add block with 4 item and then using jquery to init slider :(\nCould You give me more detail of this point.\nThanks You!\n. ",
    "ahmeddabak": "i think this is the code you are looking for\n```php\nconst domc = editor.DomComponents;\n    const defaultType = domc.getType('default');\n    const defaultModel = defaultType.model;\n    const defaultView = defaultType.view;\ndomc.addType('id-of-your-block', {\n        model: defaultModel.extend({\n                defaults: Object.assign({}, defaultModel.prototype.defaults, {\n                   // True if the component is removable from the canvas\n    removable: true,\n// Indicates if it's possible to drag the component inside other\n// Tip: Indicate an array of selectors where it could be dropped inside\ndraggable: true,\n\n// Indicates if it's possible to drop other components inside\n// Tip: Indicate an array of selectors which could be dropped inside\ndroppable: true,\n\n// Set false if don't want to see the badge (with the name) over the component\nbadgable: true,\n\n// True if it's possible to style it\n// Tip:  Indicate an array of CSS properties which is possible to style\nstylable: true,\n\n// Highlightable with 'dotted' style if true\nhighlightable: true,\n\n// True if it's possible to clone the component\ncopyable: true,\n\n// Indicates if it's possible to resize the component (at the moment implemented only on Image Components)\nresizable: false,\n\n// Allow to edit the content of the component (used on Text components)\neditable: false,\n\n            }),\n        },\n        {\n            isComponent: function (el) {\n                if (el.tagName == 'YOUR-ELEMENT-TAG') {\n                    return {type: 'id-of-your-block'};\n                }\n            },\n        }),\n    view: defaultView,\n});\n\n```\nbut i am still learning to use grapejs myself so for my this would be the way to do it.\nplease also note this code is taken from the the grapesjs source code\nsrc/grapesjs/dom_components/model/Component.js. so this is how you can start,\nthe blue panel menu is the component toolbar\nit is being initialized in the src/grapesjs/dom_components/model/Component.js:189\nthe code looks like \nphp\n  /**\n   * Init toolbar\n   */\n   initToolbar() {\n    var model = this;\n    if(!model.get('toolbar')) {\n      var tb = [];\n      if(model.get('draggable')) {\n        tb.push({\n          attributes: {class: 'fa fa-arrows'},\n          command: 'tlb-move',\n        });\n      }\n      if(model.get('copyable')) {\n        tb.push({\n          attributes: {class: 'fa fa-clone'},\n          command: 'tlb-clone',\n        });\n      }\n      if(model.get('removable')) {\n        tb.push({\n          attributes: {class: 'fa fa-trash-o'},\n          command: 'tlb-delete',\n        });\n      }\n      model.set('toolbar', tb);\n    }\n  },\nso if you would add here a new button with a custom command like\nphp\n if(model.get('removable')) { // check for component properties before adding the button to the toolbar\n      tb.push({\n            attributes: {class: 'fa fa-user'}, // icon class from font awesome\n            command: 'tlb-delete', //here you need to use your command\n      });\n }\nyou should get the result you want, for the command you can use the documentation for further informations\nhttps://github.com/artf/grapesjs/wiki/API-Commands\nthe commands for the current items in the tool bar you can find in\nsrc/grapesjs/commands/index.js:108\ni hope this would help you. if you check the code you will see  in the first line of the function initToolbar\nvar model = this;\nso the instance of each component in Grapejs will be assigned to the model variable before the initialization of its toolbar.\nin the comments i wrote for you \nif(model.get('removable')) { // check for component properties before adding the button to the toolbar\nthe model variable here is an instance of a component so you can write of exampel\njs\n if(model.attributes.tagName === 'h1') { \n      tb.push({\n            attributes: {class: 'fa fa-user'}, \n            command: 'tlb-delete',\n      });\n }\nin this case the button will be added only to 'h1' elemnts, you can do all the types of checks before adding new buttons\ni recomend that you do a console.log(model); and see the attributes you can check for.. npm install jquery\nand then in your main.js\njs window.$ = window.jQuery = require('jquery');\n. you can check the source code here on github\nhttps://github.com/artf/grapesjs/tree/dev/src. Here you go, but i do not think it will help you as Grapejs is written as js modules that need to be bundled together with Webpack and the result file is not as clear as the source modules.\ngrapes.zip\n. this would be a great idea,\ni think you can create a vue s componets, like a timer component \nhtml \n<timer end=\"01-01-2018 00:00:00\"><timer>\nand then make a block in Grapejs using this timer tag, you just need to render the vue js component when its being dropped in the canvas.\ni have found this solution to re-render the vue js components\nhttps://stackoverflow.com/questions/32106155/can-you-force-vue-js-to-reload-re-render\nso you can listen for when components added\njs\neditor.on('component:add', function() {\n       // when new component added, re-render vue js components to normal html\n       vm.$forceUpdate(); \n    });\ni hope this would help you get started, and please post about progress \ud83d\ude04 . i will try to do a project this evening, and share the code here. i hope this helps you\nhttps://github.com/artf/grapesjs/issues/263#issuecomment-325980387. Hi @artf @AustinTBiggs , what is the status for this feature.\ni am thinking about doing some work on it this week end \ud83d\ude03 . ",
    "madhavaswamy": "Thanks for the quick reply, I will check this.. ",
    "sakshigarg9": "\ni think this is the code you are looking for\n```\nconst domc = editor.DomComponents;\n    const defaultType = domc.getType('default');\n    const defaultModel = defaultType.model;\n    const defaultView = defaultType.view;\ndomc.addType('id-of-your-block', {\n        model: defaultModel.extend({\n                defaults: Object.assign({}, defaultModel.prototype.defaults, {\n                   // True if the component is removable from the canvas\n    removable: true,\n// Indicates if it's possible to drag the component inside other\n// Tip: Indicate an array of selectors where it could be dropped inside\ndraggable: true,\n\n// Indicates if it's possible to drop other components inside\n// Tip: Indicate an array of selectors which could be dropped inside\ndroppable: true,\n\n// Set false if don't want to see the badge (with the name) over the component\nbadgable: true,\n\n// True if it's possible to style it\n// Tip:  Indicate an array of CSS properties which is possible to style\nstylable: true,\n\n// Highlightable with 'dotted' style if true\nhighlightable: true,\n\n// True if it's possible to clone the component\ncopyable: true,\n\n// Indicates if it's possible to resize the component (at the moment implemented only on Image Components)\nresizable: false,\n\n// Allow to edit the content of the component (used on Text components)\neditable: false,\n\n            }),\n        },\n        {\n            isComponent: function (el) {\n                if (el.tagName == 'YOUR-ELEMENT-TAG') {\n                    return {type: 'id-of-your-block'};\n                }\n            },\n        }),\n    view: defaultView,\n});\n\n```\nbut i am still learning to use grapejs myself so for my this would be the way to do it.\nplease also note this code is taken from the the grapesjs source code\nsrc/grapesjs/dom_components/model/Component.js\n\nI tried this code by mentioning my div id and the tagName and turning all properties equivalent to false, but the div still continues to be editable.\nhtml code:\n<div id=\"sign_in\" class=\"padding-bottom-mini\">\n  <h2>Account Sign In</h2>\n</div>\nscript code:\n        ```\n        const domc = editor.DomComponents;\n    const defaultType = domc.getType('default');\n    const defaultModel = defaultType.model;\n    const defaultView = defaultType.view;\ndomc.addType('sign_in', {\n    model: defaultModel.extend({\n        defaults: Object.assign({}, defaultModel.prototype.defaults, {\n               // True if the component is removable from the canvas\n               removable: false,\n\n// Indicates if it's possible to drag the component inside other\n// Tip: Indicate an array of selectors where it could be dropped inside\ndraggable: false,\n\n// Indicates if it's possible to drop other components inside\n// Tip: Indicate an array of selectors which could be dropped inside\ndroppable: false,\n\n// Set false if don't want to see the badge (with the name) over the component\nbadgable: false,\n\n// True if it's possible to style it\n// Tip:  Indicate an array of CSS properties which is possible to style\nstylable: false,\n\n// Highlightable with 'dotted' style if true\nhighlightable: false,\n\n// True if it's possible to clone the component\ncopyable: false,\n\n// Indicates if it's possible to resize the component (at the moment implemented only on Image Components)\nresizable: false,\n\n// Allow to edit the content of the component (used on Text components)\neditable: false,\n\n}),\n},\n{\n        isComponent: function (el) {\n            if (el.tagName == 'div') {\n                return {type: 'div'};\n            }\n        },\n    }),\n    view: defaultView,\n});\n```\n. > so this is how you can start,\n\nthe blue panel menu is the component toolbar\nit is being initialized in the src/grapesjs/dom_components/model/Component.js:189\nthe code looks like\n/**\n   * Init toolbar\n   */\n   initToolbar() {\n    var model = this;\n    if(!model.get('toolbar')) {\n      var tb = [];\n      if(model.get('draggable')) {\n        tb.push({\n          attributes: {class: 'fa fa-arrows'},\n          command: 'tlb-move',\n        });\n      }\n      if(model.get('copyable')) {\n        tb.push({\n          attributes: {class: 'fa fa-clone'},\n          command: 'tlb-clone',\n        });\n      }\n      if(model.get('removable')) {\n        tb.push({\n          attributes: {class: 'fa fa-trash-o'},\n          command: 'tlb-delete',\n        });\n      }\n      model.set('toolbar', tb);\n    }\n  },\nso if you would add here a new button with a custom command like\nif(model.get('removable')) { // check for component properties before adding the button to the toolbar\n      tb.push({\n            attributes: {class: 'fa fa-user'}, // icon class from font awesome\n            command: 'tlb-delete', //here you need to use your command\n      });\n }\nyou should get the result you want, for the command you can use the documentation for further informations\nhttps://github.com/artf/grapesjs/wiki/API-Commands\nthe commands for the current items in the tool bar you can find in\nsrc/grapesjs/commands/index.js:108\ni hope this would help you\n\nHi, can you help me with how I can add a button on the toolbar using a command. I wish to add the edit icon(pencil) to the image and text components. I want the edit button to trigger the asset manager(for images) and text-editor(for text).. > enableEditing is attached to to the view and you can get its instance from the model, so select the component and run this in console editor.getSelected().view.enableEditing()\nHow do i get the instance of view from the model? I'm trying to get a similar implementation as in question\n. > you can listen to changes with this (not only on selected elements)\n\njs\neditor.on('component:update:content', model => {\n  console.log('New content', model.get('content'));\n  // do your stuff...\n})\n\nmodel.get('content') does not seem to give me the updated text?. > Hi @HarshOB,\n\nIt is simple as image does https://github.com/artf/grapesjs/blob/dev/src/dom_components/model/ComponentImage.js#L32\n\nCan you please guide me on how this can be incorporated in a grapesjs-preset-webpage, I am unable to get the desired result while using this code in my project.. @thecodefish How do you change initial state of the Resizer properties? Where does this config go if I'm using the grapesjs-preset-webpage, simply under grapesjs.init{...}?\nI want to fix a minimum dimension for an image component specifically and disable a few of the corner points like tl, tc, tr.. @artf where do i change the css? I'm using the grapesjs-preset-webpage. > Sure, you can make use of data-gjs-* attributes (eg. data-gjs-draggable=\"ul\")\n\nCheck the last example code here https://github.com/artf/grapesjs/wiki/Blocks\n\nIs it  possible to specify a div class name or id in case i have a lot of nested divs?. > If you're using webpack to build your React app, you can include it as a plugin. It'll pull it from node_modules.\n\nplugins: [ new webpack.ProvidePlugin({ grapesjs: \"grapesjs\" }) ],\nThis worked for me.\n\nHi, I added this plugin under plugins:[..] in the webpack.config.js file and it still won't work\n. @YashPrince Hi, were you able to solve this? I need a similar implementation. How can I update these properties if I'm using the grapesjs-preset-webpage? . I wish to limit resizing an image upto a specific dimension and I also want to have a specified minimum dimension. Besides that, I want to enable only br (bottom-right) point in the image for resizing.\nThis is what my image component looks like.\n```\n\n\n\n\n\n\n\n\n\n\n```. @NicoEngler This is the index.js file for Panels when using the grapesjs-webpage-preset\n```\nimport {\n  cmdImport,\n  cmdDeviceDesktop,\n  cmdDeviceTablet,\n  cmdDeviceMobile,\n  cmdClear\n} from './../consts';\nexport default (editor, config) => {\n  const pn = editor.Panels;\n  const eConfig = editor.getConfig();\n  const crc = 'create-comp';\n  const mvc = 'move-comp';\n  const swv =\u00a0'sw-visibility';\n  const expt = 'export-template';\n  const osm = 'open-sm';\n  const otm = 'open-tm';\n  const ola = 'open-layers';\n  const obl = 'open-blocks';\n  const ful = 'fullscreen';\n  const prv = 'preview';\neConfig.showDevices = 0;\npn.getPanels().reset([{\n    id: 'commands',\n    buttons: [{}],\n  },{\n    id: 'options',\n    buttons: [{\n      id: swv,\n      command: swv,\n      context: swv,\n      className: 'fa fa-square-o',\n    },{\n      id: prv,\n      context: prv,\n      command: e => e.runCommand(prv),\n      className: 'fa fa-eye',\n    },{\n      id: ful,\n      command: ful,\n      context: ful,\n      className: 'fa fa-arrows-alt',\n    },{\n      id: expt,\n      className: 'fa fa-code',\n      command: e => e.runCommand(expt),\n    },{\n      id: 'undo',\n      className: 'fa fa-undo',\n      command: e => e.runCommand('core:undo'),\n    },{\n      id: 'redo',\n      className: 'fa fa-repeat',\n      command: e => e.runCommand('core:redo'),\n    },{\n      id: cmdImport,\n      className: 'fa fa-download',\n      command: e => e.runCommand(cmdImport),\n    },{\n      id: cmdClear,\n      className: 'fa fa-trash',\n      command: e => e.runCommand(cmdClear),\n    }],\n  },{\n    id: 'views',\n    buttons  : [{\n      id: osm,\n      command: osm,\n      active: true,\n      className: 'fa fa-paint-brush',\n    },{\n      id: otm,\n      command: otm,\n      className: 'fa fa-cog',\n    },{\n      id: ola,\n      command: ola,\n      className: 'fa fa-bars',\n    },{\n      id: obl,\n      command: obl,\n      className: 'fa fa-th-large',\n    }],\n  }]);\n// Add devices buttons\n  const panelDevices = pn.addPanel({id: 'devices-c'});\n  panelDevices.get('buttons').add([{\n    id: cmdDeviceDesktop,\n    command: cmdDeviceDesktop,\n    className: 'fa fa-desktop',\n    active: 1,\n  },{\n    id: cmdDeviceTablet,\n    command: cmdDeviceTablet,\n    className: 'fa fa-tablet',\n  },{\n    id: cmdDeviceMobile,\n    command: cmdDeviceMobile,\n    className: 'fa fa-mobile',\n  }]);\nconst openBl = pn.getButton('views', obl);\n  editor.on('load', () => openBl && openBl.set('active', 1));\n// On component change show the Style Manager\n  config.showStylesOnChange && editor.on('component:selected', () => {\n    const openSmBtn = pn.getButton('views', osm);\n    const openLayersBtn = pn.getButton('views', ola);\n// Don't switch when the Layer Manager is on or\n// there is no selected component\nif ((!openLayersBtn || !openLayersBtn.get('active')) && editor.getSelected()) {\n  openSmBtn && openSmBtn.set('active', 1);\n}\n\n});\n}\n```\nI actually wish to disable both import and the trash icon. Following is the code I placed in grapes.init{..} to disable import icon.\nconst panelManager=editor.Panels;\npanelManager.removeButton('options','cmdImport');\n. I tried the same, but it does not work.\nI tried placing the code in the index.js (Panel) file as well as under grapesjs.init{..}. I commented out this code\n```\n{\n  id: cmdImport,\n  className: 'fa fa-download',\n  command: e => e.runCommand(cmdImport),\n},{\n  id: cmdClear,\n  className: 'fa fa-trash',\n  command: e => e.runCommand(cmdClear),\n}\n\n```\nfrom grapesjs-preset-webpage.min.js and it worked. Thanks worked! But I'm unable to remove the (x) icon next to the default images despite using \n.gjs-am-close{ display: none; }. It won't work.... Worked like a charm!. @artf thanks for all your patience, I'll do the same now onwards. OHH alright, worked, thanks!. Also, I'm trying to restrict dragging these components in only the social class section. The html of the same goes as follows:\n<div id=\"social-sign-in-buttons-section\" class=\"social\" >\n                <div class=\"pull-left social-sign-in-button padding-right-small\">\n                  <img src=\"facebook.png\" id=\"facebook\" title=\"facebook\"  data-gjs-resizable=\"false\" data-gjs-editable=\"false\" data-gjs-draggable=\"div[class~='social']\"></img>\n                </div>\n                <div class=\"pull-left social-sign-in-button padding-right-small\">\n                  <img src=\"google.png\" id=\"googleplus\" title=\"googleplus\" data-gjs-resizable=\"false\" data-gjs-editable=\"false\" data-gjs-draggable=\"div[class~='social']\"></img>\n                </div>\n                <div class=\"pull-left social-sign-in-button padding-right-small\">\n                  <img src=\"linkedin.png\" id=\"linkedin\" title=\"linkedin\" data-gjs-resizable=\"false\" data-gjs-editable=\"false\" data-gjs-draggable=\"div[class~='social']\"></img>\n                </div>\n         </div>\nSo I've accordingly created my components in the block manager and defined the droppable and draggable properties but the components are able to be dragged and dropped anywhere in the canvas :\n```\nbm.add(\"facebook-signin\", {\n    label: \"Facebook sign-in\",\n    content:\n      '' +\n      '' +\n      '' +\n      \"\" +\n      \"\" +\n      \"\",\n    attributes: {\n      class: \"fa fa-facebook\"\n    }\n  });\nbm.add(\"googleplus-signin\", {\n    label: \"GooglePlus sign-in\",\n    content:\n      '' +\n      '' +\n      '' +\n      \"\" +\n      \"\" +\n      \"\",\n    attributes: {\n      class: \"fa fa-google-plus-square\"\n    }\n  });\nbm.add(\"linkedin-signin\", {\n    label: \"LinkedIn sign-in\",\n    content:\n      '' +\n      '' +\n      '' +\n      \"\" +\n      \"\" +\n      \"</div\",\n    attributes: {\n      class: \"fa fa-linkedin-square\"\n    }\n  });\n```. I tried this and removed gjs-data-type=\"image\" from the img tag where i want the functionality to be applied. But, neither does it implement the functionality on it and but also messes with the rest of component properties.\n```\ndomc.addType(\"image\", {\n    model: defaultModel.extend({\n      defaults: Object.assign({}, defaultModel.prototype.defaults, {\n        initToolbar() {\n          typeImage.prototype.initToolbar.apply(this, arguments);\n          const tb = this.get(\"toolbar\");\n          const tbExists = tb.some(item => item.command === \"open-assets\");\n      if (!tbExists) {\n        tb.unshift({\n          command: \"open-assets\",\n          label: toolbarIcon\n        });\n        this.set(\"toolbar\", tb);\n      }\n    }\n  }),\n  isComponent: function(el) {\n    if (el.tagName == \"IMG\" && /logo.png/.test(el.src)) {\n      return { type: \"image\", src: el.src };\n    }\n  }\n})\n\n});\n```. Yes. thanks @prashant2018 using editor.DomComponents.componentById.image I was able to get the desired JSON. ",
    "daniel-farina": "I found this topic very useful. Here is a way to search for more than one class: \n```php\nconst model = editor.getSelected();\nconst classCollection = model.get('classes');\n var searchClassNames = classCollection.filter(function(ClassResult) {\n            return Classname.get(\"name\") === 'col' ||\n                ClassResult.get(\"name\") === \"class-1\" ||\n                ClassResult.get(\"name\") === \"class-2\" ||\n                ClassResult.get(\"name\") === \"class-3\" ||\n                ClassResult.get(\"name\") === \"class-4\" \n        });\n    if (searchClassNames .length) {\n   console.log('I found one the classes above')\n   }\n\n````\nFeel free to let me know if there is a cleaner way with backbone. \n. Yes, \nJust look at all the properties here:\nhttps://github.com/artf/grapesjs/blob/02ab540f0ac0a84d474a65bb6d62b01525e23647/src/dom_components/model/Component.js\n```\nremovable: true,\n// Indicates if it's possible to drag the component inside other\n// Tip: Indicate an array of selectors where it could be dropped inside\ndraggable: true,\n\n// Indicates if it's possible to drop other components inside\n// Tip: Indicate an array of selectors which could be dropped inside\ndroppable: true,\n\n// Set false if don't want to see the badge (with the name) over the component\nbadgable: true,\n\n// True if it's possible to style it\n// Tip:  Indicate an array of CSS properties which is possible to style\nstylable: true,\n\n// Highlightable with 'dotted' style if true\nhighlightable: true,\n\n// True if it's possible to clone the component\ncopyable: true,\n\n// Indicates if it's possible to resize the component (at the moment implemented only on Image Components)\n// It's also possible to pass an object as options for the Resizer\nresizable: false,\n\n// Allow to edit the content of the component (used on Text components)\neditable: false,\n\n// Hide the component inside Layers\nlayerable: true,\n\n```\n. It turns out there is a default value you can change in the model. \nsrc/block_manager/model/Category.js\n```\nvar Backbone = require('backbone');\nmodule.exports = Backbone.Model.extend({\ndefaults: {\n    id: '',\n    label: '',\n    open: false,\n    attributes: {},\n  },\n});\n```\nbut I'm not able to set it when I'm loading a new block. Still looking will  update soon. . Thanks Artur!\nCan;t wait to contribute once I get familiar with the code.\nDan. That would be: change:selectedComponent\nI did a search for: em.on( on the source code to see the different options available. \neditor.on('change:selectedComponent', model => {\n              console.log('New content selected', model.get('content'));\n              // do your stuff...\n          });. Hi Artur, \nah, I completely missed that but now it makes sense. Great job! The best editor (most promising) by far available in the open source community. \nDan. Nevermind.  It now works by using the data-gjs properties. I was doing something wrong on my end.  \nThanks. You can use  data-gjs-draggable=\".myselector\" to specify where the component can be dragged to.\n....\n  'template' => '  \n<div   data-gjs-draggable=\".row\">\nI can drag this row inside other rows only.\n</div>\n                               '\nYou can also specify multiple selectors by separating them by comma:\ndata-gjs-draggable=\"#wrapper, .container, .row\"\n. @artf \nThank you for clarifying that. It makes perfect sense.  What I ended up doing is: \nMaking a function within my plugin's script that is called based on the user's interaction with a modal. so I can refresh it now when I detect the user completed the API access request (when he clicks the done button).\nI still have many things to add/fix/finish but it's taking shape!\nInstagram plugin preview: \n\nTodo: \n\nGive user the options to select how many pictures per row on different screen sizes\nSelect between Gallery or Slider\nAllow user to select a limit of images he would like to display\nAdd video, likes and link to see original on hover. \n\n. I'm also looking in to this trying to get familiar with the code. Once we figure it out we could make some plugins a lot more powerful.  Please let me know if you figure it out.  We should make a little manual for it. . @dmodules dmodules, \nI believe that's completely up to you. You could for example use bootstrap in your templates if you wanted to. I think @artf made it abstract enough for anyone to use it with any css framework. \nDan. No problem, \nLooking forward having a channel on Discord for GrapeJS.  I really hope more people that will benefit from this code participate on Open Collective. \nCheers . Great, \nI just joined. \nDan. Are you sure it's only sending the template?\nWhen I do it its sending all of them. Check your chrome headers, all the way down on Request Payload:\n\n. I discovered that if the div has no class and just style then a single class is created and the background is applied to the properties panel: \n\n\nso that would be a partial solution for now but still looking for a better alternative. \n. @artf  I undertand now\n\nI completely missed the checkbox next to each selector. Setting the forceClass to false solves all my problems!  I dont really need that as I'm keeping the source code extremely lean with as little divs as possible. Thank you very much for that!\nDan\n. A good practice to get familiar with GrapeJS would be to attempt to duplicate the blocks manager and create your own. You can accomplish that by editing the files below. A good example would be to copy the src/block_managerand call it src/section_manager, then rename all the names from BlockManager to SectionManager. Look trough the code, its not that many lines. \nThen you will need to edit the following files to make it work:\nsrc/editor/index.js\nSectionManager: em.get('SectionManager'),\nsrc/editor/model/Editor.js\nrequire('section_manager'),\nThen create a new file\nsrc/commands/view/OpenSections.js\nModify all the contents of this to actually match the names of the section manager. \nExample: \n  var sm = editor.SectionManager;\nsrc/editor/config/config.js\n//Configurations for Section Manager\nsectionManager: {},\nsrc/panels/config/config.js\n```\nvar osc = 'open-sections';\n{\n   id: osc,\n   className: 'fa fa-th-large',\n   command: osc,\n   active: false,\n   attributes  : { title: 'Open Sections' },\n},\nindex.html\nsectionManager: \n{\n   categories: {\n       open:true\n   }\n},\n```\n```\nvar sm = editor.SectionManager;\nsm.add(this.id, {\n               label: this.label,\n               category: this.category,\n               attributes: this.attributes,\n               content: this.content,\n           });\n\n```\nDo a full source search for BlockManager or block_manager to make sure I didn't miss anything. This way you will better understand how the BlockManager works. \nOf course you will need to change some css clases to move the manager to your desired location, or inject the contents of it to a completely different section of your UI. \nThat's a rough idea.  A better idea would be to create an independent plugin that creates this section manager, I will look into that soon after I get familiar with all the files and I better understand. \nI also believe we should somehow pick a UI such as semantic-iu to create dynamic bars, modals, etc with grapejs.  Here is an example of one of my attempts to create a new sidebar using semantic-iu:\n\nThe bar shows and automatically hides when you start dragging the element. I think @artf is trying to keep this editor as lean as possible without dependencies but this might work for some people. \nInstead of modifying the block manager, I created my own manager where I get to modify it without touching the original BlockManager. \nCheers\n. Since you are already loading php in this file why don't you pass that as a url parameter:\njavascript\n urlStore: '<?php base_url(); ?>/dragdropeditor/dragdrop/add?templateId=<?=$templateId?>',\nI would advise to have all this running under a user's session with tokens, etc but for now that should do the trick. . Update: \nOk I figured out that I can make them all unselect by default by changing \nsrc/selector_manager/model/Selector.js\nactive: false,\n\nand this pretty much solves all my problems as when I change the background color of the block, it will update only c875!.\nClosing this as it's now solved. \n. fyi changing this to false will make your build to fail due to this in the test script:\nI just commented this out here:\ntest/specs/selector_manager/model/SelectorModels.js\n// it('Has active property', () => {\n        //   expect(obj.has('active')).toEqual(false);\n        // });\nand this\ntest/specs/css_composer/e2e/CssComposer.js line 129\nruleOut = JSON.parse(JSON.stringify(ruleOut));\n          var ruleResult = {\n            mediaText: '',\n            selectors: [{\n             active: false, //changed this to false\n. Thank you for the update and information. I'll look into it. . ",
    "darves": "Hello @artf,\ntry to remove everything from LocalStorage before.\nhere is the video, sry for low-quality \nhttps://drive.google.com/file/d/0B5kfETdbwBM1dXlnMDVieGFIZjg/view. Sry for late answer mate,\nI give you permission for the video. I hope you are able to reproduce it. Yes, I know is strange.... I was able to reproduce it only on newsletter preset :)\nTnx Artur\n. Hello @theanhmx ,\nThat is because backbone extends does not \"merge \" events obj. You can try something like this:\n```\ndefaultView.extend({\n    initialize: function () {\n        var defaultClickEventHandler = this.events.click || function () {};\n    defaultView.prototype.initialize.apply(this, arguments);\n\n    this.events.click = function () {\n        defaultClickEventHandler.apply(this, arguments);\n        // do you'r stuff here\n    }\n}\n\n})\n```\nor you can merge events from defaultView with your.... ",
    "theanhmx": "thank you @darves,\ni'm able to separate the events now.\n. `editor.on('run:preview', () => {\n      console.log('preview ON')\n    })\neditor.on('stop:preview', () => {\n  console.log('preview OFF')\n})`\n\ni tried this but the stop:preview event didn't fire. @artf sorry for this stupid question, \nbut when will the fix available in the npm package?\nor from which branch i can manually pull the code with this fix and build?. yes, i can see it change in the local storage.\nbut after some short time it changed back. @artf , thanks a lot for your help.\nbut i could not reproduce it in other env, only able to give you pieces of codes.\nthis is the module, we using it with angular, if you can have a look\ntemplateBuilder.zip\n. @xamdam777 \nmy solution is to add a check before that line:\nif (this.getPropertiesEl() === null || this.getPropertiesEl() === undefined) {\nreturn;\n}\nactually i did have to add some of the check nulls like this to have it work on IE. @artf, I been trying to fix this issue also.\nI figured that if I just add something to the select element around the units, the HTML got rerendered and the select working again. But that will erase all the event listener and it won't update the style.\ncould you give any advice on this?. just use the inspector edit the select tag as html string, add any text or string to it. then it will work on IE. but when the select change its selected value, the style seem.to be not updated. i doubt that all th event listener got erased when we change html.like that.. yah, but as @lorrant discribed \"Basically all you have to do is select any element, go to a property that has a unit select field and select a value, it will turn blank until you select another value again. It just happens on IE.\". you have any idea to workaround this issue? i dont know if it is possible or not but i was trying to copy all the event listener from the current select element to the new one after i had edited the html.. ",
    "SimplyCorey": "@ahmeddabak Doesn't work for me unfortunately.  The externals need's to be updated for webpack to compile this down for me, or it errors out before it even gets to my main.js\n@artf Thanks.. Here is how I wrapped GrapesJS into a Vue Component.  \n```\n\n\n\n\n    export default {\n        props: {\n            id: {\n                type: String,\n                required: true\n            }\n        },\n        data() {\n            return {\n                editor: null\n            }\n        },\n        methods: {\n            change() {\n                this.$emit('change', this.editor.getHtml());\n            },\n        },\n        mounted() {\n            this.editor = grapesjs.init({\n                container: '#editor',\n                height: this.height,\n                plugins: ['gjs-preset-newsletter'],\n            });\n\n            this.editor.on('change', this.change);\n        }\n    }\n\n``. @desprit I added grapesjs to the global window in my bootstrap file.  window.grapesjs = require('grapesjs');. I found it, addedattributes: {class: 'fa fa-text'},`. ",
    "momu-smartcoach": "Thanks for the answer\uff0cbut i may need the https://github.com/artf/grapesjs/tree/dev/dist  grapes.min.js,but it's a compressed version. Thank you for your generosity!!!. i'm try to replace \u2018dist/grapes.min.js\u2019  with 'src/index.js' in the dev demo, But it failed\uff0canyone can tell me how to use the souce code\uff0cthank you!. ",
    "marwa1994": "I try this simple one but in console i have the error that vue is not identified \nin blocks i add\n{\n               id: 'my-first-block',\n            label: 'leadform',\n            attributes: {class:'fa fa-link'},\n            content: ''+\n               ' '+\n                  '  {{value}}  '+\n                ''+\n           ''+\n         ' <script>'+\n           'var s = document.createElement(\"script\");'+\n            's.type = \"text/javascript\";'+\n            's.src = \"./test.js\";'+\n            'document.body.appendChild(s);'+\n        '</scr'+'ipt>'\n\n\n\n\n\n\n\n\n\n      }\n\nand i create test.js file \nnew Vue({\n        el: '#hello',\n        data: {\n          value: 'hhh',\n        },\n      });. ",
    "desprit": "@SimplyCorey \nHi, thank you for sharing your code!\nAre you using webpack or is it just inline  in your index.html?\nI was able to install grapesjs and import it with Webpack ProvidePlugin. And even initialize it inside my vue component. But I can't make basic-blocks component to work. Getting Plugin gjs-blocks-basic not found no matter how I import it.\nUpdate. This works ok for me:\nIn webpack config:\nplugins: [                                             \n  new webpack.ProvidePlugin({                          \n    grapesjs: resolve(\"path/to/grapes.min.js\")\n  }),                                                  \n  ...\n]\nIn Vue component or entry file:\nrequire('grapesjs-blocks-basic')\nrequire('grapesjs-plugin-forms')\n. @sai-kishore \nDid you add grapesjs to webpack config file like I described above?\nhttps://github.com/artf/grapesjs/issues/275#issuecomment-329169718. @ionic666 \nSorry for the late answer, are you still facing this issue?. ",
    "sai-kishore": "@desprit \nI am getting grapesjs is not defined.\nShould I add the grapesjs in webpack base/dev/prod file?\nCan you share the project you have built?\n. ",
    "ionic666": "@desprit  hello,i want to know how to import a plugin\u3002\nrequire('grapesjs-blocks-basic') did not work. @suchithmahadi ,hi ,have you achieved this yet\uff1fI'm looking forward to your advice about using configuration options . @suchithmahadi hi,bro.Have you done this?. @JulyanoF hi ,bro.i have encounter this problem.can you tell me how to solve it?. @JulyanoF i am sorry.Excuse me,I have done as you said,But it doesn't work.\n\n. @chiqui3d hi,can you tell me how to deal with table-block. @konstantin55000 hi ,bro ,domComps.getComponents() is getting all models,i just want to get button.how can i do it?thanks. @g40,hi ,have you achieved this yet\uff1fI'm looking forward to your advice about using chart. @g40 Yeah, I'm looking forward to your presentation. @vladbpython hi,do you solve this problem?i also want to know how to drag one element into parent element.. @artf hi,i have modify this.and i use this plugin in vue.js,but still always show \"Plugin gjs-plugin-export not found\".But my customized plugin test is ok\n\n\n\n. @milapshah15 hi ,bro.i am doing this.Have you implemented the disable button function . @shareefhiasat sorry,I can't open the url you provided,Can you give me some screenshots or code.thanks. @artf sorry ,i just want to know which method can change the content in table.because i want to change the 'tr' and 'td' in 'table'. @ronaldaug \n\ni have done it.but I mean that if i haven't drag the image component,I cannot set background images for other components.\nThe official demo was also not available\n. i am sorry.i have the component for image.\nwhen i use the component for image,there will be ok.\nbut i just want to change the background-image for other element before i open the assets.\n\n\nyou can try to change it first when you have not drag the image\n. @ronaldaug Thank you for your kind answer\u3002but if i drag a image first,and then i can change the background-image from the style manager.. You can add a custom tag in td. canvas: {\n        scripts: [\u2018xx.js'],\n        styles:['xx.css']\n      },. @inventorbit It's a really great solution. @Patrick-Spiegel thanks,The example you provided is nice to me.\n. ",
    "edatoprak": "Hi I want vue.js into grapes.js. Can you help me?. ",
    "blackbirdzzz": "What type of content did u need to add to add some : button or input ?. Haha, i know sorry you misunderstand me, can u give me a sample of code to add some button or input  i try something with document.querySelector('') , don't understand why it does'nt work :x . Oh thanks a lot did you know where i need to place the html part ? in the index or i can place it on my main.js ?. When i place the html part in the index it display in the front part did i need to use style: hidden ?\nThanks a lot for your answers \ud83d\udc4d . https://image.noelshack.com/fichiers/2017/36/3/1504701299-screenshot-at-sept-06-14-34-34.png Its automaticaly display and not in the view part (You can see the screenshot)\nMy index code\nhttps://codeshare.io/aV3zOR. You can see the problem in the code generated in this screenshot \"https://image.noelshack.com/fichiers/2017/37/1/1505147551-capture-d-ecran-2017-09-11-a-18-31-42.png\" as you can see my code in my content start from a div and end from a div :x . Can we edit direct the code in the export code modal , like enable it with changing something in the code ? That will be really good. Really thanks :+1:  i got another question how to clear also css when i use           editor.DomComponents.clear();\n its always clear only the html part , and not the css part, also i wanted to know to get the css part with editor like editor.getCss maybe and modify it :o like editor.setComponent(finalHtml) example. Question 2 : Do you know how can i allow dropzone, cause i done in my index.html \"assetmanager\" like : dropzone: 1 and nothing happen when i'm dragging some picture from my desktop i want just to get the big menu and modify it to create my own library of picture with search bar :p . Man your the best , thanks again , when i will finish my project i will show you how you change my life at work :). I can give you my code on the index side, \n```<!doctype html>\n\n\n\nTheKooples - Newsletter - BUILDER\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  body &gt; .inner {\n  display: none;\n}</p>\n<p>body.pg-loaded &gt; .inner {\n  display: block;\n}\n  body,\n  html {\n    height: 100%;\n    margin: 0;\n  }</p>\n\n\n\n\n\n  .hide { position:absolute; top:-1px; left:-1px; width:1px; height:1px; }\n\n\n\n\n\n        Remplir tout les champs pour proc\u00e9der \u00e0 une traduction de la newsletter !\n\n\nNom de la newsletter :\n\n\n\n\n\n\n\nNom du sheets :\n\n\n\n\n\n\n\nNom de l'utm-compaign :\n\n\n\n\n\n\n\nPays de la newsletter:\n\n\n\nFrance\nEurope\nAllemagne\nUnited-Kingdom\nUnited-State\nSuisse - France\nSuisse - Allemagne\nLuxembourg\n\n\n\n\n\nENREGISTRER\n\n\n    var editor = grapesjs.init({\n      allowScripts: 1,\n      showOffsets: 1,\n      noticeOnUnload: 0,\n      height: '100%',\n      storageManager: {\n        id: 'gjs-',\n        type: 'local',\n        autosave: false,\n        autoload: false,\n        storeComponents: 1,\n        storeStyles: 1,\n      },\n      assetManager: {\n        upload: 1,\n        uploadText: 'Selectionner une image',\n           dropzone: 1,\n    dropzoneContent: '<div class=\"dropzone-inner\">Drop here your assets</div>'\n      },\n      protectedCss: '',\n      container: '#gjs',\n      fromElement: true,\n      plugins: ['gjs-preset-newsletter'],\n      pluginsOpts: {\n        'gjs-preset-newsletter': {\n          modalLabelImport: \"Copiez ici votre code pr\u00e9-fait \u00e0 fin de l'importer\",\n          modalLabelExport: 'Rendu du code de la Newsletter',\n          importPlaceholder: '<table class=\"table\"><tr><td class=\"cell\">Importez votre code ici.</td></tr></table>',\n        }\n      }\n    });</p>\n<pre><code> function builderForm(){\n  editor.nl_name = document.getElementById(\"nl_name\").value;\n  editor.nl_sheets = document.getElementById(\"nl_sheets\").value;\n  editor.nl_utm = document.getElementById(\"nl_utm\").value;\n  editor.nl_lang = document.getElementById(\"nl_lang\").value;\n  editor.trigger('builder_form');\n}\n</code></pre>\n<p>\n\n```\nThanks for the jszip i have succeeded to save picture :) . Also i got a new problem when i'm clicking on picture and picture have a link behind i'm going into the url so i lost my work why this does'nt open the select picture modal like before ? I do'nt know if i touched something to disable this :x thanks . grapesjs@0.9.18 i'm using this version of grapesjs. I wanted also to know on the side of my domcomponent that open a modal on dropping the elements i want to delete the content, if the person leave the modal can i control an elements that being dropped that a few second before ? this is the code : https://codeshare.io/29pbvg. Problem still here maybe its about something that i modified in my grapesjs project ?. Just find out my problem i don't know where its in the code but when i disable the require of this file with some domecomponents my problem disapear , can you see if there is a problem with my dom components this is the code : https://pastebin.com/EDUGuYvY. also i just find out a bug about domcomponents , when i place my domcomponents with this content \n<tr>\n                     <td align=\"center\" >\n                        <a class=\"cta\" style=\"width: 40%;display:inline-block; text-decoration: none;text-transform:uppercase; letter-spacing:1px;background-color:black;color: white; border: solid 1px #000; font-weight: 500; padding: 10px;font-size: 12px;\" href=\"`+ \"(btn_link.)\" +`\"title=\"cta\">var.button2</a>\n                     </td>\n                    </tr>\neverything goes well i open a modal when i drop my content (like a normal block) what i want to do is when i press a button tjhe href named \"(btn_link.) is replaced by a reference that i want, so i use this part of code \nvar finalHtml = editor.getHtml();\n finalHtml = finalHtml.replace(\"(btn_link.)\",\"(btn_link.\" + button_nbr + \")\");\nafter i use editor.setComponents(finalHtml) everything goes well my html of the builder is changed but ! when i'm doing the same thing one more time , every style of my content disapear so i got this at the end \ud83d\udc4d\n<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" margin=\"0\" width=\"100%\"><tbody><tr><td align=\"center\"><a class=\"cta\" id=\"c694\" href=\"http://www.thekooples.com/fr/femme/robes.html\" title=\"cta\">var.button2</a></td></tr></tbody></table>\nmy code without any style for my domcomponent drop so why my style class disapear ? thanks.\n. i just read things about the isComponent but i don't really know what i need to place in tagName == and type :x cause its some table with a link and picture inside so there is too much option haha, i just tried something with tagname TD and type table when i drop my block i got some additional table named \"row\" , could you give me the sample i need to use and explain me why i don't really understand cause i'm not good at english :x \nisComponent: function(el) \n          {\n            if(el.tagName == 'IMG')\n              return {type: 'image'};\n          },. Ok i understand now thanks, i will try this :) but what about my defaultType ?     var defaultType = comps.getType('default');\nwhen i replace the default by : product1 it said that its an undefined type :x . Also did you know how to disable the settings that transform every inline css into a class cause i don't want this i want to disable it. ?. When i use this code everything bug but now when i click on a picture the modal is open and i don't have the bug with the link\n```\ndefine(function() {\n  return (opt = {}) => {\n    let editor = opt.editor;\n    let bm = editor.BlockManager;\n    var comps = editor.DomComponents;\nvar defaultType = comps.getType('default');\nvar defaultModel = defaultType.model\nvar blockManager = editor.BlockManager;\nvar defaultView = defaultType.view;\nvar commands = editor.Commands;\nvar product_nbr = 0;\nvar product_list = [];\nfunction languageIndex(nl_lang)\n  {\n      switch (nl_lang) {\n        case \"french\":\n          return 0;\n        break;    \n        case \"europe\":\n          return 1;\n        break;\n        case \"german\":\n          return 6;\n        break;\n        case \"england\":\n          return 2;\n        break;\n        case \"america\":\n          return 3;\n        break;\n        case \"suisse-fr\":\n          return 5;\n        break;\n        case \"suisse-de\":\n          return 5;\n        break;\n        default:\n          return 84;\n      }\n\n  }\nlet product = {sku_nbr: \"\"};\neditor.DomComponents.addType('product1', {\nmodel: defaultModel.extend({\n    // Extend default properties\n    defaults: Object.assign({}, defaultModel.prototype.defaults, {\n        tagName: 'table', // <- change the container tagname\n         attributes: {\n           cellpadding: 0,\n            cellspacing: 0,\n            border: 0,\n            margin: 0\n        },\n    content: `<tr>\n                 <td align=\"center\">\n                            <a style=\"display:block; line-height:0; margin: 0;padding: 0;color: #000;\" href=\"`+ \"(product_link.)\" +`\" title=\"`+ \"(product_name.)\" +`\">\n                                <img alt=\"`+ \"(product_alt.)\" +`\" src=\"bibliotheques/template/item-template.jpg\" border=\"0\"  \n                                style=\"margin: 0;padding: 0;color: #000;max-width: 100%; height:auto; border: none;\">\n                            </a>\n                        </td>\n\n                    </tr>`\n    }),\n}),\nview: defaultView.extend({\n      events: {\n  \"dblclick\": \"openModal\",\n},\n    init() {\n\n    this.listenTo(this.model, 'dblclick active', this.doStuff); // listen for active event\n    },\n\n      openModal: function(e) {\n        swal(\n        {\n          title: '<b style=\"color:#ef2121;\">PRODUIT (1)</b> NEWSLETTER',\n          imageUrl: \"images/logo.png\",\n          confirmButtonColor: \"#ef2121\",\n          text:'<b style=\"color: #666;text-transform: uppercase;color: \">1) Entrez la r\u00e9ference du produit<br></b><a href=\"\" style=\"margin-top: 10px;font-weight: bold;text-transform: uppercase;display: inline-block;font-size:12px;text-decoration: none;color:#ef2121;\"><i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>  EXPLICATION (GUIDE)</a>',\n          type: \"input\",\n          html: true,\n          allowEscapeKey: false,\n          confirmButtonText: \"Valider\",\n          cancelButtonText: \"Non, annuler!\",\n          showCancelButton: true,\n          closeOnConfirm: false,\n          showLoaderOnConfirm: true,\n          inputPlaceholder: \"SKU : HP15JOHN108BLU03\"\n        });\n        this.render();\n},\n\n    doStuff() {\n        function roundDecimal(nombre, precision){\n          var precision = precision || 2;\n          var tmp = Math.pow(10, precision);\n          return Math.round( nombre*tmp )/tmp;\n      }\n       swal(\n        {\n          title: '<b style=\"color:#ef2121;\">PRODUIT (1)</b> NEWSLETTER',\n          imageUrl: \"images/logo.png\",\n          confirmButtonColor: \"#ef2121\",\n          text:'<b style=\"color: #666;text-transform: uppercase;color: \">1) Entrez la r\u00e9ference du produit<br></b><a href=\"\" style=\"margin-top: 10px;font-weight: bold;text-transform: uppercase;display: inline-block;font-size:12px;text-decoration: none;color:#ef2121;\"><i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>  EXPLICATION (GUIDE)</a>',\n          type: \"input\",\n          html: true,\n          allowEscapeKey: false,\n          confirmButtonText: \"Valider\",\n          cancelButtonText: \"Non, annuler!\",\n          showCancelButton: true,\n          closeOnConfirm: false,\n          showLoaderOnConfirm: true,\n          inputPlaceholder: \"SKU : HP15JOHN108BLU03\"\n        },\n         function(sku_nbr) {\n                if (sku_nbr === false) return false;\n                if (sku_nbr === \"\" || sku_nbr === null) {\n                  swal.showInputError(\n                    \"<b style=\\\"color: #f06e57\\\">Vous n'avez pas entr\u00e9 de r\u00e9ference de produit.</b>\"\n                  );\n                  return false;\n                }          \n              product.sku_nbr = sku_nbr;\n              var val = languageIndex(editor.nl_lang);\n                if (val == 84)\n                   {\n                    swal.showInputError('<b style=\"color: #666;\">Aucune : <div style=\"color: #f06e57;display: inline-block;\">' \n                    + \"traduction\" + \"</div> n'a \u00e9t\u00e9 d\u00e9finis.</b>\");\n                    return false;\n                   }\n                fetch(\"http://localhost:3456/get-product-datas\", {\n                  method: \"post\",\n                  body: JSON.stringify(product),\n                  headers: {\n                    Accept: \"application/json\",\n                    \"Content-Type\": \"application/json\"\n                  } \n                })\n                .then(function(response) {\n                  if (response.status !== 200) {\n                    console.log(\n                      \"Looks like there was a problem. Status Code: \" + response.status\n                    );\n                    return;\n                  }\n\n                  response.json().then(function(product_info) {\n                     if (product_info.err == \"Error defined\") {\n                        swal.showInputError('<b style=\"color: #666;\">La r\u00e9ference : <div style=\"color: #f06e57;display: inline-block;\">' \n                        + product.sku_nbr + \"</div> n'\u00e9xiste pas ou n'est pas bonne.</b>\");\n                          return false;\n                    }                 \n                  swal({\n                    title: '<b style=\"color:#ef2121;\">PRODUIT (1)</b> NEWSLETTER',\n                    imageUrl: \"images/logo.png\",\n                    confirmButtonColor: \"#ef2121\",\n                    text:\n                      '<b style=\"color: #666;\">Le produit a bien \u00e9t\u00e9 <div style=\"color: #ef2121;display: inline-block;\">r\u00e9cup\u00e9r\u00e9 </div>.</b>' + \n                      '<br><br><b>NOM DU PRODUIT : </b><div style=\"display: inline-block;color:#ef2121;font-weight: bold;\">' +\n                      product_info[val].name +\n                      '</div><br><br><b>PAYS DU PRODUIT : </b><div style=\"display: inline-block;color:#ef2121;font-weight: bold;\">' +\n                      editor.nl_lang +\n                      '</div><br><br><b>LIEN DU PRODUIT : </b><a href=\" ' + product_info[val].link + '\" target=\"_blank\" style=\"display: inline-block;color:#ef2121;font-weight: bold;\">' +\n                      'CLIQUEZ ICI' + \n                      '</a><br><br><b>PRIX DU PRODUIT : </b><div style=\"display: inline-block;color:#ef2121;font-weight: bold;\">' +\n                      roundDecimal(product_info[val].price, 2) +\n                      \"</a></b>\",\n                    confirmButtonText: \"Ok\",\n                    html: true,\n                  },function(execute) \n                  {\n                    var finalHtml = `${editor.getHtml()}<style>${editor.getCss()}</style>`;\n                    finalHtml = finalHtml.replace(\"(product_name.)\", \"(product_name.\" + product_nbr + \")\");\n                    finalHtml = finalHtml.replace(\"(product_alt.)\", \"(product_alt.\" + product_nbr + \")\");\n                    finalHtml = finalHtml.replace(\"(product_link.)\", \"(product_link.\" + product_nbr + \")\");\n                    finalHtml = finalHtml.replace(\"(product_price.)\", \"(product_price.\" + product_nbr + \")\");\n                    // BEFORE\n                    finalHtml = finalHtml.replace(\"(product_name.\" + product_nbr + \")\", product_info[val].name);\n                    finalHtml = finalHtml.replace(\"(product_alt.\" + product_nbr + \")\", product_info[val].name);\n                    finalHtml = finalHtml.replace(\"(product_link.\" + product_nbr + \")\", product_info[val].link);\n                    finalHtml = finalHtml.replace(\"(product_price.\" + product_nbr + \")\", roundDecimal(product_info[val].price, 2));\n                    editor.setComponents(finalHtml);\n                    editor.items[product_nbr] = product_info; \n                    product_nbr = product_nbr + 1;\n\n                  }\n                );\n\n\n                  });\n                })\n                .catch(function(response) {\n                  swal({\n                    title: \"ERREUR : (0xA1)\",\n                    text:\n                      '<b style=\"color: #666;\">Le serveur de magento est <div style=\"color: #ff3333;display: inline-block;\">ferm\u00e9 </div> merci de contacter un administrateur</b>',\n                    confirmButtonColor: \"#ff3333\",\n                    confirmButtonText: \"Continuer\",\n                    html: true,\n                    type: \"error\"\n                  });\n                  console.log(\n                    \"Serveur is not start to create a link beetween the BUILDER AND GOOGLE API / Contact the admin\"\n                  );\n                }); \n              }\n      );\n    }\n}),\n});\n\n\nbm.add('product-01', {\n  label: \"Produit - 01\",\n  category: \"Produits / Listes\",\n  attributes: {class:'fa fa-shopping-cart gjs-block'},\n  content: {\n    type: 'product1',\n    activeOnRender: 1, // <- this will trigger the active event\n  },\n});\n\n};\n})\ni saw that the problem is from this line :\n    var defaultType = comps.getType('default');\n```\ncause when i change my comps.getType to \"image\" instead of default everything works fine , but there is some issues like when i drop the block its open a modal. thanks again for your help artf :). What is exactly . the isComponent that i need to add to my code i delete it cause i explained you the bug. Yess and when i use this i only can drop my \"product\" block manager and other blocks does'nt work cause of this part : \n'    var defaultType = comps.getType('default');\n'. ```\ndefine(function() {\n  return (opt = {}) => {\n    let editor = opt.editor;\n    let bm = editor.BlockManager;\n    var comps = editor.DomComponents;\nvar defaultType = comps.getType('default');\nvar defaultModel = defaultType.model\nvar blockManager = editor.BlockManager;\nvar defaultView = defaultType.view;\nvar commands = editor.Commands;\nvar product_nbr = 0;\nvar product_list = [];\nfunction languageIndex(nl_lang)\n  {\n      switch (nl_lang) {\n        case \"french\":\n          return 0;\n        break;    \n        case \"europe\":\n          return 1;\n        break;\n        case \"german\":\n          return 6;\n        break;\n        case \"england\":\n          return 2;\n        break;\n        case \"america\":\n          return 3;\n        break;\n        case \"suisse-fr\":\n          return 5;\n        break;\n        case \"suisse-de\":\n          return 5;\n        break;\n        default:\n          return 84;\n      }\n\n  }\nlet product = {sku_nbr: \"\"};\neditor.DomComponents.addType('product1', {\nmodel: defaultModel.extend({\n    // Extend default properties\n    defaults: Object.assign({}, defaultModel.prototype.defaults, {\n        tagName: 'table', // <- change the container tagname\n         attributes: {\n           cellpadding: 0,\n            cellspacing: 0,\n            border: 0,\n            margin: 0\n        },\n    content: `<tr>\n                 <td align=\"center\">\n                            <a style=\"display:block; line-height:0; margin: 0;padding: 0;color: #000;\" href=\"`+ \"(product_link.)\" +`\" title=\"`+ \"(product_name.)\" +`\">\n                                <img alt=\"`+ \"(product_alt.)\" +`\" src=\"bibliotheques/template/item-template.jpg\" border=\"0\"  \n                                style=\"margin: 0;padding: 0;color: #000;max-width: 100%; height:auto; border: none;\">\n                            </a>\n                        </td>\n\n                    </tr>`\n    }),\n}),\nview: defaultView.extend({\n      events: {\n  \"dblclick\": \"openModal\",\n},isComponent: function (el)  {\n        if(el.getAttribute && el.getAttribute('data-gjs-type') == 'product1')\n          return {type: 'product1'};\n      },\n    init() {\n\n    this.listenTo(this.model, 'dblclick active', this.doStuff); // listen for active event\n    },\n\n      openModal: function(e) {\n        swal(\n        {\n          title: '<b style=\"color:#ef2121;\">PRODUIT (1)</b> NEWSLETTER',\n          imageUrl: \"images/logo.png\",\n          confirmButtonColor: \"#ef2121\",\n          text:'<b style=\"color: #666;text-transform: uppercase;color: \">1) Entrez la r\u00e9ference du produit<br></b><a href=\"\" style=\"margin-top: 10px;font-weight: bold;text-transform: uppercase;display: inline-block;font-size:12px;text-decoration: none;color:#ef2121;\"><i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>  EXPLICATION (GUIDE)</a>',\n          type: \"input\",\n          html: true,\n          allowEscapeKey: false,\n          confirmButtonText: \"Valider\",\n          cancelButtonText: \"Non, annuler!\",\n          showCancelButton: true,\n          closeOnConfirm: false,\n          showLoaderOnConfirm: true,\n          inputPlaceholder: \"SKU : HP15JOHN108BLU03\"\n        });\n        this.render();\n},\n\n    doStuff() {\n        function roundDecimal(nombre, precision){\n          var precision = precision || 2;\n          var tmp = Math.pow(10, precision);\n          return Math.round( nombre*tmp )/tmp;\n      }\n       swal(\n        {\n          title: '<b style=\"color:#ef2121;\">PRODUIT (1)</b> NEWSLETTER',\n          imageUrl: \"images/logo.png\",\n          confirmButtonColor: \"#ef2121\",\n          text:'<b style=\"color: #666;text-transform: uppercase;color: \">1) Entrez la r\u00e9ference du produit<br></b><a href=\"\" style=\"margin-top: 10px;font-weight: bold;text-transform: uppercase;display: inline-block;font-size:12px;text-decoration: none;color:#ef2121;\"><i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>  EXPLICATION (GUIDE)</a>',\n          type: \"input\",\n          html: true,\n          allowEscapeKey: false,\n          confirmButtonText: \"Valider\",\n          cancelButtonText: \"Non, annuler!\",\n          showCancelButton: true,\n          closeOnConfirm: false,\n          showLoaderOnConfirm: true,\n          inputPlaceholder: \"SKU : HP15JOHN108BLU03\"\n        },\n         function(sku_nbr) {\n                if (sku_nbr === false) return false;\n                if (sku_nbr === \"\" || sku_nbr === null) {\n                  swal.showInputError(\n                    \"<b style=\\\"color: #f06e57\\\">Vous n'avez pas entr\u00e9 de r\u00e9ference de produit.</b>\"\n                  );\n                  return false;\n                }          \n              product.sku_nbr = sku_nbr;\n              var val = languageIndex(editor.nl_lang);\n                if (val == 84)\n                   {\n                    swal.showInputError('<b style=\"color: #666;\">Aucune : <div style=\"color: #f06e57;display: inline-block;\">' \n                    + \"traduction\" + \"</div> n'a \u00e9t\u00e9 d\u00e9finis.</b>\");\n                    return false;\n                   }\n                fetch(\"http://localhost:3456/get-product-datas\", {\n                  method: \"post\",\n                  body: JSON.stringify(product),\n                  headers: {\n                    Accept: \"application/json\",\n                    \"Content-Type\": \"application/json\"\n                  } \n                })\n                .then(function(response) {\n                  if (response.status !== 200) {\n                    console.log(\n                      \"Looks like there was a problem. Status Code: \" + response.status\n                    );\n                    return;\n                  }\n\n                  response.json().then(function(product_info) {\n                     if (product_info.err == \"Error defined\") {\n                        swal.showInputError('<b style=\"color: #666;\">La r\u00e9ference : <div style=\"color: #f06e57;display: inline-block;\">' \n                        + product.sku_nbr + \"</div> n'\u00e9xiste pas ou n'est pas bonne.</b>\");\n                          return false;\n                    }                 \n                  swal({\n                    title: '<b style=\"color:#ef2121;\">PRODUIT (1)</b> NEWSLETTER',\n                    imageUrl: \"images/logo.png\",\n                    confirmButtonColor: \"#ef2121\",\n                    text:\n                      '<b style=\"color: #666;\">Le produit a bien \u00e9t\u00e9 <div style=\"color: #ef2121;display: inline-block;\">r\u00e9cup\u00e9r\u00e9 </div>.</b>' + \n                      '<br><br><b>NOM DU PRODUIT : </b><div style=\"display: inline-block;color:#ef2121;font-weight: bold;\">' +\n                      product_info[val].name +\n                      '</div><br><br><b>PAYS DU PRODUIT : </b><div style=\"display: inline-block;color:#ef2121;font-weight: bold;\">' +\n                      editor.nl_lang +\n                      '</div><br><br><b>LIEN DU PRODUIT : </b><a href=\" ' + product_info[val].link + '\" target=\"_blank\" style=\"display: inline-block;color:#ef2121;font-weight: bold;\">' +\n                      'CLIQUEZ ICI' + \n                      '</a><br><br><b>PRIX DU PRODUIT : </b><div style=\"display: inline-block;color:#ef2121;font-weight: bold;\">' +\n                      roundDecimal(product_info[val].price, 2) +\n                      \"</a></b>\",\n                    confirmButtonText: \"Ok\",\n                    html: true,\n                  },function(execute) \n                  {\n                    var finalHtml = `${editor.getHtml()}<style>${editor.getCss()}</style>`;\n                    finalHtml = finalHtml.replace(\"(product_name.)\", \"(product_name.\" + product_nbr + \")\");\n                    finalHtml = finalHtml.replace(\"(product_alt.)\", \"(product_alt.\" + product_nbr + \")\");\n                    finalHtml = finalHtml.replace(\"(product_link.)\", \"(product_link.\" + product_nbr + \")\");\n                    finalHtml = finalHtml.replace(\"(product_price.)\", \"(product_price.\" + product_nbr + \")\");\n                    // BEFORE\n                    finalHtml = finalHtml.replace(\"(product_name.\" + product_nbr + \")\", product_info[val].name);\n                    finalHtml = finalHtml.replace(\"(product_alt.\" + product_nbr + \")\", product_info[val].name);\n                    finalHtml = finalHtml.replace(\"(product_link.\" + product_nbr + \")\", product_info[val].link);\n                    finalHtml = finalHtml.replace(\"(product_price.\" + product_nbr + \")\", roundDecimal(product_info[val].price, 2));\n                    editor.setComponents(finalHtml);\n                    editor.items[product_nbr] = product_info; \n                    product_nbr = product_nbr + 1;\n\n                  }\n                );\n\n\n                  });\n                })\n                .catch(function(response) {\n                  swal({\n                    title: \"ERREUR : (0xA1)\",\n                    text:\n                      '<b style=\"color: #666;\">Le serveur de magento est <div style=\"color: #ff3333;display: inline-block;\">ferm\u00e9 </div> merci de contacter un administrateur</b>',\n                    confirmButtonColor: \"#ff3333\",\n                    confirmButtonText: \"Continuer\",\n                    html: true,\n                    type: \"error\"\n                  });\n                  console.log(\n                    \"Serveur is not start to create a link beetween the BUILDER AND GOOGLE API / Contact the admin\"\n                  );\n                }); \n              }\n      );\n    }\n}),\n});\n\n\nbm.add('product-01', {\n  label: \"Produit - 01\",\n  category: \"Produits / Listes\",\n  attributes: {class:'fa fa-shopping-cart gjs-block'},\n  content: {\n    type: 'product1',\n    activeOnRender: 1, // <- this will trigger the active event\n  },\n});\n\n};\n})\n```. i understand a little bit, but i really don't know where to place it my english is really bad sorry :x . It works great THANKS ! :). Its not possible to disable it ? cause it works great with the grapesjs newsletter export command. Also artf , sorry but i got another question how to enable to edit text in cell : cause when i dblclick in this cell i can't edit text with the RTE editor : see the picture bellow thanks\nhttps://image.noelshack.com/fichiers/2017/39/1/1506347606-capture-d-ecran-2017-09-25-a-15-53-01.png. Thanks for your answer i tried to delete getAttrtoHtml() and also this part \nif(!_.isEmpty(m.get('style')) && !idFound)\n      attrId = ' id=\"' + m.getId() + '\" ';\nso i know how to disable the id now but i want that the style don't be delete its not from the getAttrToHtml() func cause when i delete it nothing happen and also when i console.log(attr.style) its seems to be undefined.\nThanks again for your futur answer :). up :x. @arthuralmeidap I use this technique actualy and @francesca-cicileo forceclass doesn't work ,\nPlease @artf is it possible to add . to roadmap an option that will disable every default editor convert inline css to class css ? Thanks again if you can do this that will help everyone haha\nor maybe just debug the forceclass.. @artf the new option to add to the roadmap is a possibility .to disable the auto class and id that replace every css inline in the code with this everybody will be enable to get the code clear withtout using juice thats not really great to convert class and id into inline css to be more understandable i'm will two exemple :  \nWith the feature of the roadmap my code that i drop into my work space : \n<span style=\"text-transform: uppercase;\">this is a test </span> \nActualy without the feature of the roadmap : \n<span id=\"c47854\">this is a test </span> \nIf you didn't understand again tell me haha , but this feature will save a lot of time to people i think cause juice will not clear all your code as you want.\nThanks a lot \n. Also @artf i just wanted to know why at every auto class generated there is some useless css like : \nmargin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;color:rgb(0, 0, 0);max-width:100%;height:auto;border-top-width:initial;border-right-width:initial;border-bottom-width:initial;border-left-width:initial;border-top-style:none;border-right-style:none;border-bottom-style:none;border-left-style:none;border-top-color:initial;border-right-color:initial;border-bottom-color:initial;border-left-color:initial;border-image-source:initial;border-image-slice:initial;border-image-width:initial;border-image-outset:initial;border-image-repeat:initial;\nThe auto css generate all of this instead of just generate color: rgb(0,0,0)\nis there a way to disable all of this useless css generated also or add a feature to the roadmap Thanks a lot.. Yeah we need to add to road a feature like \"RemainInlineCss: true or false\" that will work for disable style inline transform by : id=\"c50,,,\" or class=\"c400..\". Thanks for you answer i think this is what i want : ''For the newly proposed option, I was thinking about something which just brings back #ids styles inside the component style'' \nIf you do this , this will end my project :!) And everything that i want will work good !:). @artf so did you add this issue to the roadmap ? \n. I was talking about this: \n\nFor the newly proposed option, I was thinking about something which just brings back #ids styles inside the component style but ...\n\nI'm interested about this feature can you do it you think ?  Please. ",
    "A----": "Duh!\nimport * as grapesjs from 'grapesjs/dist/grapes.min.js'\nNot perfect but that should work.. Nope:\njavascript\nimport grapesjs from 'grapesjs';\n[\u2026]\nconsole.log(grapesjs); // undefined\nWith my webpack configuration at least.. A drawback of using the webpacked/dist version is that it requires jQuery (not jquery), meaning duplicate jQuery bundling, with the Spectrum missing error.\nI had to add capped alias to my webpack conf.\njavascript\nreturn {\n        [\u2026]\n        resolve: {\n            alias: {\n                jQuery: \"jquery/dist/jquery\"\n            },\n        [\u2026]\n};\nOr at least, I think that's what's going on. No webpack expert here.. @artf I did change requires to internal modules by relative paths, see if it can help.\nIt doesn't things change much in my case. I do not use the same transcripter. Mine keeps lambdas in exports, and it seems you can use a lambda for a constructor.\n```javascript\nvar test = function (test) { return { \"toto\": \"tata\" }; };\nnew test(); //{toto: \"tata\"}\nvar toast = (test) => { return { \"toto\": \"tata\" }; };\nnew toast() // Uncaught TypeError: toast is not a constructor at :1:1\n```\nI can PR it, if you want me to.. Looks like it works!. If you ever need those relative paths: https://github.com/A----/grapesjs/tree/relative-path-requires. What overriding four variables can do:\n\n. I did not see other places where container is used except one time where el was checked first, but that means that you can't rely for container to be a string anymore.. Thanks for the quick merge!. I thought so too, I followed https://github.com/artf/grapesjs#development\nAlso I needed a compiled version for tests.\nMaybe remove the v:patch from the build goal and change the readme?. ",
    "suchithmahadi": "Thanks Artur Arseniev\nGoing through  Components-&-JS will update you once i finish the Google Chart Block.\nAppreciate your patience to listen for me.. @artf I have integrated google charts but unable to use configuration options (https://developers.google.com/chart/interactive/docs/gallery/gauge) as Traits here. Please help.. @artf Please help me out.. Thanks for the Help, One quick question, Can we use javascript within the content of SVG block explained above , i wanted to try using Components&JS with SVG. Appreciate your work.. Sorry @artf i didn't understood what exactly you are saying, can you please elaborate?\nHere i want to call the function (\"drawGauge\" which is in 3rd line) in domComponents script function.\nPlease explain related to the problem given above.\nThanks for your help.\nplease help in this as it is very critical for me and i am stuck on this from past 1 week.. One question so as per your explanation var di will be a string. But to achieve my goal i need to call drawGauge function in domComponents Script function. \nHow to achieve this now ?\nWould be more help if you solve this. . @artf Please help me out.. @artf  Thanks for the reply, At least if you can suggest where exactly to change will be helpful.\nThanks.. @artf ,\nThanks for the reply.\nCan we do\neditor.DomComponents.getWrapper().addClass('wrapper')\nin the release 0.10.7\nThanks.. Sorry to bother you,\nBecause when i tried in version 0.10.7\nit is giving a error \n[Error] TypeError: wrapper.addClass is not a function. (In 'wrapper.addClass('wrapper')', 'wrapper.addClass' is undefined)\n    Global Code (index.html:4474)\nAnd one more request , i do not want to update to latest release, so can you tellme , any possible way to achieve this.\nThanks.. is there a way to add only once.. @artf Is there a way to add only once ?\nThanks. ",
    "selwynshen": "Hi , artf\nHow can I bind event to this button. Say, I'd like to click this 'test' button to set properties on the block I've added. Could you give an example? Thanks.\njs\ndoStuff() {\n    // Open the modal\n    const modal = this.em.get('Model');\n    modal.setTitle('Title');\n    modal.setContent('<div><input type=\"button\" value=\"test\" /></div>');\n    modal.open();\n}. ",
    "matiponce91": "Yes I fixed. I discovered that when I manually saved the custom templates in JSON format I did it wrongly. So I found that if saved data is not well saved when loading is done instead of getting an error the default template is loaded.. can you check this commit https://github.com/artf/grapesjs/pull/356?. But even if we put the associate blocks inside the tab definition how can I hide or show their categories depending on the selected tab?. ",
    "pheeque": "Should it be by luck that one discovers a badly formatted JSON? I have an installation that fails to load from a remote endpoint, doesn't report an error, doesn't fire an event!\n` storageManager: {\ntype: 'remote',\nstepsBeforeSave: 1,\nautosave: true,\nautoload: true,\nurlStore: host + 'save/',\nurlLoad: host + 'load/',\nparams: {},   // For custom values on requests\n// contentTypeJson: true,\nstoreComponents: false, // Enable/Disable storing of components in JSON format\nstoreStyles: false,     // Enable/Disable storing of rules/style in JSON format\nstoreHtml: true,        // Enable/Disable storing of components as HTML string\nstoreCss: true\n\n} \n`. ",
    "suresh5": "\nHi,\nI am working over demo template GrapesJs but I am trying to make a \"remote\" load so I save a custom template on a json file and this file is what I am trying to load. But the problem is even when the GET of the json is done the template shown in browser is always the default one.\n\nHi Bro \nCan you share the json response from server ? for remote can you give some example how we need to send response ?\nThanks in Advance . hi can you share me the json when u are sending to load template ?. > @maxtacco thanks I will use that when I create a PR\nCan we have any update on this ? How we should rename the layer manager blocks ?\nThanks \nSuresh.N. > > StoreManager api documentation is limited and looks like default load looks for a specific JSON structure with separate html, css as data.\n\nBecause this is the right way of loading template data, but if this is the first time you load a template you can place all the HTML inside html key instead of components (by leaving it empty) and the editor will use it\n\ncan you give me simple example with basic html in json reponse ?. > I had some problems loading templates. It did not work both the storage in a .json file and the processing in a mysql database.\n\nmy loading.php is very simple for testing:\nThe string was split into individual characters and packaged in an array.\nAfter adjusting the following line everything worked well:\ngrapes.js - line 42667\nreturn _this.onResponse (text, clb);\nto\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 return _this.onResponse (JSON.parse (text), clb);\nI also have the same problem when uploading assets ... here, however, I have not come up with the solution yet.\n\nCan you send your json response ?\n. I am not able to load template reply\nCan you help me with json format how to send ?. > Thanks but i already found a solution :)\n\nThere was a problem with the returning array decoding/encoding\n\ni am fresher to grapesjs. i dont know how to send json response \nCan you tell me how to send ?. > @artf Bro, I want to load the html page which contains css and js for effects (parallax). I worked around 10 days but still I cant able to find whether am doing it right. So can you provide me instructions to do it in correct way. Ultimate goal is to provide set of templates for the user in the react wrapper page and once user picks any template, system will load the selected template into the grapesjs editor. So Please me to get out of this issue. Thanks in advance.\nHi Bro Any update on Grapesjs with react ?. > selectedTemplateExternalStyles\nHi bro thanks \nI am also beginner to use this grapesjs my requirement also similar \ni also want to load template from remote \nI dont know whats the response we will get from server ?\nCan you send me response from apiendpoint ?\nAnd also how to load templates on selection and how to store if user modify the changes in the template ?\nThanks in Advance . > > @artf Bro, I want to load the html page which contains css and js for effects (parallax). I worked around 10 days but still I cant able to find whether am doing it right. So can you provide me instructions to do it in correct way. Ultimate goal is to provide set of templates for the user in the react wrapper page and once user picks any template, system will load the selected template into the grapesjs editor. So Please me to get out of this issue. Thanks in advance.\n\nHi Bro Any update on Grapesjs with react ?\n\nas of now for doing simple \n{gjs-html: \"hwllo\", gjs-css: null, gjs-components: null, gjs-style: null}  my json reponse will be like this \nbut i am not getting output ,\nI want to load from local as well remote\nHelp  me something on this !\nThanks . @mrajeshkrossark Thanks very much bro \nSorry to disturb you i have few clarifications \nI am trying to do following \n1)we have some templates defined in server.We need to list it the application.Once user selected the template we need to load .\n2)How to store the changes if user made any changes in the template ?\n3)Is there a way to create custom blocks to add in to block manager ?\n4)Every component has JSON parser like {test.value} once user click preview we need to bind the data from local json to bind \n5)If our html is big ,how to send as JSON reponse ? its plain html in gjs-html key or is there any way to define the components in remote ?\n6)When i am trying to load template from remote i am getting cors error but in network response came but in editor canvas it is not reflecting .How to fix this ?\nThanks \nSuresh \n. @Mahesh \nThanks for detailed answer ...\nIf we have style sheet and images and other assets  in our html template how do we add that when we load from remote  ? How it will render in editor canvas \nWhen user changed the template how the data format  will post to server ?\nDo you have code snippet for post request to handle and store it in DB ? \nThanks in Advance \nSuresh.N\n. Thanks bro \nWhen I am running in localhost \nI just deployed simple application in appengine in Google cloud  that will send json which is my remote url \nWhen I hit this url in urlload it is telling cross origin issue \nAny idea about this \nCan't we test this scenario in localhost? . It is simple php that returns simple json \nI deployed it in appengine in Google Cloud. Do you have email to connect ?. > ```\n\ngrapesjs.init({\n  canvas: {\n    styles: [\"style.css\"]\n  },\n  ...\n})\n```\n\nwhere to store that css file ? i mean path to keep that file in react . ",
    "BiserStoilov": "Please, import this code\n<div class=\"c3520\">Insert\u00a0\n  <a class=\"link\" data-highlightable=\"1\">your</a>\u00a0text here\n</div>\nin your demo\nhttp://grapesjs.com/demo.html\nto see this bug.. Works perfect, thanks!. ",
    "ArtDesignCreativeStudio": "Find in grapes.js this code\nt.exports = {\n     textTags: [\"br\", \"b\", \"i\", \"u\"]\n}\nand replace with this:\nt.exports = {\n     textTags: [\"br\", \"b\", \"i\", \"u\", \"a\"]\n}. Yes, try this code\n```\nvar pfx = editor.getConfig().stylePrefix;\nvar modal = editor.Modal;\nvar cmdm = editor.Commands;\nvar codeViewer = editor.CodeManager.getViewer('CodeMirror').clone();\nvar pnm = editor.Panels;\nvar container = document.createElement('div');\nvar btnEdit = document.createElement('button');\ncodeViewer.set({\n    codeName: 'htmlmixed',\n    readOnly: 0,\n    theme: 'hopscotch',\n    autoBeautify: true,\n    autoCloseTags: true,\n    autoCloseBrackets: true,\n    lineWrapping: true,\n    styleActiveLine: true,\n    smartIndent: true,\n    indentWithTabs: true\n});\nbtnEdit.innerHTML = 'Edit';\nbtnEdit.className = pfx + 'btn-prim ' + pfx + 'btn-import';\nbtnEdit.onclick = function() {\n    var code = codeViewer.editor.getValue();\n    editor.DomComponents.getWrapper().set('content', '');\n    editor.setComponents(code.trim());\n    modal.close();\n};\ncmdm.add('html-edit', {\n    run: function(editor, sender) {\n        sender && sender.set('active', 0);\n        var viewer = codeViewer.editor;\n        modal.setTitle('Edit code');\n        if (!viewer) {\n            var txtarea = document.createElement('textarea');\n            container.appendChild(txtarea);\n            container.appendChild(btnEdit);\n            codeViewer.init(txtarea);\n            viewer = codeViewer.editor;\n        }\n        var InnerHtml = editor.getHtml();\n        var Css = editor.getCss();\n        modal.setContent('');\n        modal.setContent(container);\n        codeViewer.setContent(InnerHtml + \"\" + Css + '');\n        modal.open();\n        viewer.refresh();\n    }\n});\npnm.addButton('options',\n    [\n        {\n            id: 'edit',\n            className: 'fa fa-edit',\n            command: 'html-edit',\n            attributes: {\n                title: 'Edit'\n            }\n        }\n    ]\n);\n```. Thanks!. ",
    "phil1995": "Ok thanks for the fast answer!\nI've tried it but nothing happen when I call it. Not even an error occurs.\nin my var editor  = grapesjs.init({..}\nI have the following command:\ncommands: {\n      defaults: [{\n        id: 'tlb-edit',\n          run:  function(editor){\n          editor.getSelected().view.enableEditing();\n        },\n    }]\n    },\nSorry for the weird formatting but otherwise Github display it not longer as code.. Okay I have found the error for me. \nI initialized the editor inside the document.ready function and with this I got an reference error (but only on console and not with the button).\nBut my problem is now when I call it with the button like in my snippet above, still nothing happens only when I use the code via console.\n. I added a new button to the component toolbar in the Component.js with:\nif(model.get('editable')) {\n        tb.push({\n          attributes: {class: 'fa fa-pencil'},\n          command: 'tlb-edit',\n        });\n      }. The command is working because when I placed an alert inside it for example:\n```\ncommands: {\n      defaults: [{\n        id: 'tlb-edit',\n    run:  function(editor){\n      editor.getSelected().view.enableEditing();\n      alert(\"Hello world!\");\n    },\n}]\n},\n\n```\nOn click it shows the alert \"Hello world!\" correctly.\nI edit the source file because I want to delete later the things which I don't need to get a lot smaller code.. Perfect now it's working.\nThank you so much for your help! :+1: . ",
    "isaiahbaca": "I have not. Sorry, I missed this in the documentation. Thanks!\nOn Mon, Sep 11, 2017 at 2:14 PM, Artur Arseniev notifications@github.com\nwrote:\n\nDid you tried with editor.on('storage:load', res => {...})?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/294#issuecomment-328645371, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ACgTIdCyVyW5ardxIfZtWEjM7PgJF5DGks5shZSXgaJpZM4PSlUd\n.\n\n\n-- \nIsaiah Baca\nSoftware Developer | @Pay https://www.atpay.com/\nSell More With Two-Click Checkout https://www.atpay.com/\np: 505.221-1762\n. Actually, I'm looking for the response from the remote server. I found the onComplete argument for the storage config. That should work for what I need. \nMaybe consider documenting for slower people like myself? ;). ",
    "SchneiderSIT": "I installed GrapesJS yesterday over npm. So it is 0.10.4 and 0.1.1 for blocks basic. And yes, the green line appears. I can see a console log, when I drop a block where it is not droppable. But when it should work, nothing happens. I will try out another jQuery version. Just copy + pasted the version I am using from your examples. Thank you!\nUpdate: Still does not work with jQuery 3.2.1.. I just uploaded my trial code to http://brokenlande.de/grapesjs/ - and now it works. No changes at all. I swear. Must be something on my local development server (using ubuntu vm with PHP7). \nTo answer your question: I can see changes on the DOM in the inspector when dropping on my local development env. So yes, I am thinking of (local) stylesheet problems as well.\nSorry for that issue. Can be closed as invalid. But thanks for your attention!. ",
    "tverney": "@artf We will check it out and if its, close the issue. Thanks!. @artf Thanks for reply. I found an workaround loading the css from an external stylesheet, like uploading in cloudfront. That solved the issue.. @Owchzzz I made a workaround in the project by adding the extra CSS by an CDN in head. But the problem still, for me, it`s not related with @keyframes. . ",
    "Owchzzz": "any update on this? Im having the same problem as well. and moving to an external stylesheet just isnt going to be possible. > Here is the specific Error\n\n`1 failing\n1) Main Panels Main No panels inside:\n  Error: Expected 2 to equal 3\n  + expected - actual\n\n  -2\n  +3\n\n  at assert (node_modules/expect/lib/assert.js:29:9)\n  at Expectation.toEqual (node_modules/expect/lib/Expectation.js:81:30)\n  at Context.<anonymous> (test/specs/panels/index.js:28:38)\n\nnpm ERR! Test failed.  See above for more details.`. Oh sorry @artf \n\nI had forgotten about this thread.\nEverything's fine now I believe it was just the work of the previous developer he changed a lot of the src to meet our requirements. Both really unnecessary and really bad practice.\nThank you for the followup and I apologize for troubling you with this non existent issue.\nAwesome work on the builder.. use process.env.HOST and process.env.PORT inside of the webpack dev server configurations. ",
    "ivanezeigbo": "@tverney please share code on how you made the addition with CDN. Would it work for a user trying to import their code by pasting it? I am trying to get a workaround with the @keyframes problem given that there are some bugs with the recent releases (hopefully to be corrected in the next release) that makes me it easier for me to stick with older versions for now. The keyframes issue is just the holdback.. @artf Never mind. I found out I was just mixing up the versions used. Thank you! I actually used another way around. I added activeOnRender:1 to video and removed the default src in the blocks-basic.js. This allowed me to choose my own src by just including the link to the video. However, I am unable to reopen the AssetsManager on dblclick. Please do you know how I can also make that possible for videos?. Thanks!. Oh, I just figured it out. So, for those who might be curious about how to solve this, this is how I went about it (by the way, this is thanks to the answer in Issue #324 :\n```js\nvar pfx = editor.getConfig().stylePrefix;\n                            var modal = editor.Modal;\n                            var cmdm = editor.Commands;\n                            var codeViewer = editor.CodeManager.getViewer('CodeMirror').clone();\n                            var pnm = editor.Panels;\n                            var container = document.createElement('div');\n                            var btnEdit = document.createElement('button');\n                        codeViewer.set({\n                            codeName: 'htmlmixed',\n                            readOnly: 0,\n                            theme: 'hopscotch',\n                            autoBeautify: true,\n                            autoCloseTags: true,\n                            autoCloseBrackets: true,\n                            lineWrapping: true,\n                            styleActiveLine: true,\n                            smartIndent: true,\n                            indentWithTabs: true\n                        });\n\n                        btnEdit.innerHTML = 'Import';\n                        btnEdit.className = pfx + 'btn-prim ' + pfx + 'btn-import';\n                        btnEdit.onclick = function() {\n                            var code = codeViewer.editor.getValue();\n                            editor.DomComponents.getWrapper().set('content', '');\n                            editor.setComponents(code.trim());\n                            modal.close();\n                        };\n\n                        cmdm.add('html-import', {\n                            run: function(editor, sender) {\n                                sender && sender.set('active', 0);\n                                var viewer = codeViewer.editor;\n                                modal.setTitle('Edit code');\n                                if (!viewer) {\n                                    var txtarea = document.createElement('textarea');\n                                    container.appendChild(txtarea);\n                                    container.appendChild(btnEdit);\n                                    codeViewer.init(txtarea);\n                                    viewer = codeViewer.editor;\n                                }\n                                modal.setContent('');\n                                modal.setContent(container);\n                                codeViewer.setContent('');\n                                modal.open();\n                                viewer.refresh();\n                            }\n                        });\n\n                        pnm.addButton('options',\n                            [\n                                {\n                                    id: 'import',\n                                    className: 'fa fa-download',\n                                    command: 'html-import',\n                                    attributes: {\n                                        title: 'Import Your Template'\n                                    }\n                                }\n                            ]\n                        );\n\n```. Figured. Sorry. For those who might benefit from this, you have to set allowScript to '1' in init.. These two lines of code give you the html and the css\nvar Html = editor.getHtml(); \nvar Css = editor.getCss(); . @artf I don't understand. You tagged this as invalid.. @Abhisheknanda1344463 this link might help.. ",
    "broncha": "Hi,\nI think I am getting a hold of this now. \nI made a custom component for product list, which has a trait for the category. \nI can select the category from the dropdown in the panel. Thats great. But I dont want the components inside the product list (like images, text etc) to be editable. \nHow do I do this? The entire component is generated dynamically, and the user should only be able to add/remove the entire component, not child components. Hi @artf, thanks! I figured that out.\nNow this is what I have\n<div data-gjs-type=\"categoryList\" data-gjs-editable=\"false\" data-gjs-draggable=\".container-fluid\"> \n<h2 data-gjs-editable=\"false\" data-gjs-badgable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\" data-gjs-stylable=\"false\" data-gjs-highlightable=\"false\" data-gjs-copyable=\"false\">Browse by Category</h2> \n<div class=\"row\" data-gjs-editable=\"false\" data-gjs-badgable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\" data-gjs-stylable=\"false\" data-gjs-highlightable=\"false\" data-gjs-copyable=\"false\"> \n<div class=\"col-xs-4 html-content-block\" data-gjs-badgable=\"false\" data-gjs-editable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\" data-gjs-stylable=\"false\" data-gjs-highlightable=\"false\" data-gjs-copyable=\"false\"> \n<div class=\"html-content-animation\" data-gjs-badgable=\"false\" data-gjs-editable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\" data-gjs-stylable=\"false\" data-gjs-highlightable=\"false\" data-gjs-copyable=\"false\"></div>\n<a href=\"http://demo-shop.pasls.dev/category/sasd\" data-gjs-badgable=\"false\" data-gjs-editable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\" data-gjs-stylable=\"false\" data-gjs-highlightable=\"false\" data-gjs-copyable=\"false\"> <img data-gjs-editable=\"false\" data-gjs-badgable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\" data-gjs-stylable=\"false\" data-gjs-highlightable=\"false\" data-gjs-copyable=\"false\" src=\"http://demo-shop.pasls.dev/media/cache/demo-shop/d_cat_thumb/u/59003a416d97a_category_top_4.jpg\" alt=\"\" class=\"img-responsive\"> </a> \n</div>\n<div class=\"col-xs-4 html-content-block\" data-gjs-badgable=\"false\" data-gjs-editable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\" data-gjs-stylable=\"false\" data-gjs-highlightable=\"false\" data-gjs-copyable=\"false\"> \n<div class=\"html-content-animation\" data-gjs-badgable=\"false\" data-gjs-editable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\" data-gjs-stylable=\"false\" data-gjs-highlightable=\"false\" data-gjs-copyable=\"false\"></div>\n<a href=\"http://demo-shop.pasls.dev/category/shoes\" data-gjs-badgable=\"false\" data-gjs-editable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\" data-gjs-stylable=\"false\" data-gjs-highlightable=\"false\" data-gjs-copyable=\"false\"> <img data-gjs-editable=\"false\" data-gjs-badgable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\" data-gjs-stylable=\"false\" data-gjs-highlightable=\"false\" data-gjs-copyable=\"false\" src=\"http://demo-shop.pasls.dev/media/cache/demo-shop/d_cat_thumb/u/5900419537180_category_top_4.jpg\" alt=\"\" class=\"img-responsive\"> </a> \n</div>\n</div>\n<div class=\"vert-space-30\" data-gjs-badgable=\"false\" data-gjs-editable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-droppable=\"false\" data-gjs-stylable=\"false\" data-gjs-highlightable=\"false\" data-gjs-copyable=\"false\"></div>\n</div>\nBear with me here. That is quite a lot duplicated attributes there. Its entire block, which is dynamically generated. I dont need any of the children to be editable or highlightable. \nNow I cannot select the component. I have disabled all properties in the children. The blue border still appears when I hover over the children. \nHow can I make it so that, clicking inside the Component (any of the children too) selects the component?\n\nAs you can see, I have to carefully hover over the empty space to select the entire component. And even when all the children are not editable, highlightable etc., they react to hover.. I think I got what I needed using\n<div data-gjs-..... style=\"pointer-events: none;\" >\nBut the data attributes in all the child elements are still I think, redundant. This is a valid use case no? For builders who have widgets and all.. @artf Thanks. Ill try that out. Could you help me with one last thing? How can i get a reference to the components added? I will not be storing the html, rather the json object that describes the component and the traits. Later the page will be generated from the json.\nFor example, here in category list, i will have a trait, say number of categories to show. Now since the exact categories to show will be dynamic, i need to get the list of components/blocks added and their traits.. ",
    "kmahera": "yes. ",
    "sdhiman20": "Thank . I already saw demo but could not find any solution. ",
    "Speekless": "Nevermind I've found it...\n\n. ",
    "PlatonicIT": "I have added a background image from this section but it is not showing on the page. How to fix it? :(. Finally, it worked. I had to Double-click on the image. It is now showing on the page.. \n. ",
    "pfurini": "Hi, couple of considerations to start:\n\nat first multiple selection with shift key, both in the panel and in the\neditor, could be supported only for moving the selection under another\nparent. If elements are under different parents, they will be moved under\nthe new destination, valid or not (I don't know if the editor does check\nsemantic validity of the HTML)\nnext feature: the ability to edit common style properties (pure\nintersection of supported properties), even if some of them does not make\nsense (for example editing the top property of all the elements at once is\nan bit useless if stacked with absolute positioning)\nnext next feature: treat selection groups specially, and give smart\nediting experience (for example if selecting a group of absolute positioned\nelements within same parent, let the user move the entire group by finding\ntop or left element and adjust the properties accordingly)\n\nThis is only an example, and the third point needs a lot more of\ninvestigation, but the first two are achievable in decent amount of time\nIMHO..\nWhat do you think ?\nPS: if the editor could support web components, the properties panel should\nbe customized to support custom (non style) properties, and multiple\nselection should work with that properties too\nIl giorno 16 settembre 2017 @ 12:34:17, Artur Arseniev (\nnotifications@github.com) ha scritto:\n\nHi Paolo, unfortunately, multiple selections are not supported and not\neven planned, but I agree that it could be a really good feature. Honestly,\nI've already thought about this but was a little bit concerned about few\npoints:\n\nBeing a class-based editor, how styles, applied via style manager,\n   have to be applied (each component could have multiple classes)\nAssuming I'd also like to select multiple components with shift key\n   (like generally happens), how does this should work if those components are\n   in two different parents\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/310#issuecomment-329960465, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AEs969YW1XFUETTlpN2yoIYALsneQYCFks5si6QpgaJpZM4PYxLF\n.\n. \n",
    "telliott22": "Both. I only want certain elements within a component to have editable text, and only the outer most element of each component to be draggable/droppable/removable. I know I could disable these things on each element individually using data tags, but since the components will have quite a few elements, I thought the best way to achieve this would be disable everything by default, and use data tags to enable the things that I want editable on each element. . Which event is fired when the element is selected? Not necessarily when the user edits content.. Thanks!\n. Thanks for the reply, but not sure that helps me.\nWhen I create a new component, it's added to the bottom of the canvas. Like below:\n<div class=\"component row\"></div>\n<div class=\"component row\"></div>\n<div class=\"component row\"></div>\n<div class=\"component row\"></div>\n<div class=\"component row\"></div>\n -- Component is inserted here --\nI want to be able to insert it between two existing rows, like below:\n<div class=\"component row\"></div>\n<div class=\"component row\"></div>\n<div class=\"component row\"></div>\n -- I want to insert component here --\n<div class=\"component row\"></div>\n<div class=\"component row\"></div>\nThanks,\nT\n. I've created a modal allows the user to input their href and link text, but how do I update the model?\nIf I use jQuery it only updates the view, and doesn't save the changes. If I create a new component with the new values, it's inserted outside of the parent element. \nAm I missing a trick here?\nThanks,\nT. Any way to stop the jumping when the content changes?\nYes, the page is scrolled. Should I limit the height of the editor to the browsers height?. ",
    "vmourya": "Thanks everyone for replying but my requirement was bit different .\nI am using remote server for saving page content.\nDefault AutoSave events are:\neditor.on('storage:store', function(e) {\n  // console.log('STORE ', e);\n})\n\nOR\neditor.on('component:update:content', model => {\n  console.log('New content', model.get('content'));\n  // do your stuff...\n})\nOR \neditor.on('change:selectedComponent', model => {\n  console.log('New content', model.get('content'));\n  // do your stuff...\n})\n\nBut these all run when user select component, Drag/Drop component. \nProblem with these methods is  just that if user made changes (e.g changed text content) and refresh page without selecting other component then all text changes he recently made will lost.\nFor above case, solution i found is:\n1. Bind keyup event on iframe inner containers, \n2. In keyup event callback, define interval that checks iframe content in every given duration.\n3 If content is changed that it send data on remote server to save.\n@artf : Let me know if there is a better way to achieve this.\nThanks. Yes this could be a good solution for above case, but there are many other cases as page reload/crash or user can close browser tab direct instead refreshing.\nSo here is code snipper i used:\nCreated a command:\n        id: 'commandName',\n        run: function(){\n          var keyUpStart = false;\n          var iframe = document.getElementsByTagName('iframe')[0];\n          var iframe = iframe[0];\n          var innerDoc = iframe.contentDocument || iframe.contentWindow.document;\n          divs = innerDoc.querySelectorAll(\"div\");\n          for(var i=0; i< divs.length; i++){\n            var div = divs[i];\n            div.addEventListener(\"keyup\",function(e){\n              if(!keyUpStart){\n                console.log( \"Start interval\");\n                startInterval();\n                keyUpStart= true;\n              }\n            });\n            div.addEventListener(\"blur\",function(e){\n              console.log(\"Stop interval\");\n              stopInterval();\n              keyUpStart= false;\n            });\n          }\n        }\n\nAnd then here is rest code i added:\n// SCRIPT START TO AUTO SAVE WHILE EDITING \n    editor.runCommand('commandName'); \n    var autoSaveIntervar;\n    var updateTimigs = 3; // seconds as Numeric\n    function startInterval(){\n      autoSaveIntervar= setInterval(savePageContent, updateTimigs * 1000)\n    }\n    function stopInterval(){\n      clearInterval(autoSaveIntervar);\n    }\nvar savePageContent = function(){\n  var iframe = document.getElementsByTagName('iframe')[0];\n  var innerDoc = iframe.contentDocument || iframe.contentWindow.document;\n  var frameBody = innerDoc.querySelector('body');\n  var style  = editor.getCss();\n  var htmlContent = frameBody.querySelector(\"#wrapper\");\n  data = {'gjs-html': htmlContent.innerHTML, 'gjs-css': style}\n  $.ajax({\n     url: \"your remote url\",\n     type: \"POST\",\n     contentType: \"text/html\",\n     data: data,\n     success: function(res){\n       console.log(res);\n     },\n     error: function(res){\n       console.log(res);\n     }\n  });\n}\n// SCRIPT END TO AUTO SAVE WHILE EDITING\n\n@artf: Is it good to go with this code?\nThanks\nVijay M\n. ",
    "chfahy": "Thanks alot!!!. ",
    "kosirm": "Thanks, perfect!. I think I'll give up on that.... @chapterjason thank you so much for your time!\nSo exhaustive answer I really did not expect \ud83d\ude03 \nThanks again! \ud83e\udd47 . ",
    "smaqeelkazmi": "This is what I was looking for. Thanks @ArtDesignCreativeStudio . ",
    "redeeze": "how can I lock down part of the HTML so it is not editable after importing it?. did the propagation idea get implemented?. ",
    "OBezdietko": "Let me know when I need to update my local version of the grapejs scripts\n\u0441\u0440, 20 \u0441\u0435\u043d\u0442. 2017 \u0433. \u0432 14:18, Artur Arseniev notifications@github.com:\n\nI'll update the escaping function\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/325#issuecomment-330821658, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ANbaoV2XlxTPkr1BBPZe5Ri1RGGRl20qks5skPRqgaJpZM4PdOin\n.\n-- \nBezdietko Oleksii\n\nFerunion s.r.o.\nLy\u010dkovo n\u00e1m\u011bst\u00ed 508/7, Karl\u00edn, CZ 186 00 Praha 8\n+380 67 955-9528\nbezdetkoaleksei - skype\nwww.ferunion.cz\nwww.ecommerce.ferunion.cz\n. Hi artf, could you give me some instructions to make a quick fix of the escape function on my local version? Time is running, I need to integrate grapejs in one day.... Thanks for your help and fast response\nOn Thu, Sep 21, 2017 at 15:16 Artur Arseniev notifications@github.com\nwrote:\n\nhttps://github.com/artf/grapesjs/blob/dev/src/selector_manager/model/Selector.js#L65\nfrom /([^a-z0-9\\w]+)/gi\nto /([^a-z0-9\\w-]+)/gi\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/325#issuecomment-331138813, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ANbaoZtf_ZilDOPBa2bl-m7YAWRO5v7Zks5sklOegaJpZM4PdOin\n.\n-- \nBezdietko Oleksii\n\nFerunion s.r.o.\nLy\u010dkovo n\u00e1m\u011bst\u00ed 508/7, Karl\u00edn, CZ 186 00 Praha 8\n+380 67 955-9528\nbezdetkoaleksei - skype\nwww.ferunion.cz\nwww.ecommerce.ferunion.cz\n. ",
    "sunhillbd": "Is there any way to drag components freely within their own column? @artf . ",
    "musen": "@artf Amazing work!. ",
    "851091009": "Thanks for your reply\uff01\nThe demo page is different from the local page\ndemo:\nhttp://grapesjs.com/demo.html\nlocal\uff1ahttps://github.com/851091009/grapesjs/blob/dev/localhost.png\nHow can it be the same as the demo page?\n. ",
    "vignesh1203": "I can\u2019t able to see import option and export to zip button in the downloaded version. \nBut its available in demo version. ",
    "FlashPapa": "Actually it works, I have extended the problem on the modal backdrop and it is ok!\nLike this : \nCKEDITOR.on('dialogDefinition', function(e) {\n            $timeout(function() {\n                document.querySelector('.cke_dialog_background_cover').addEventListener('mousedown', function(e) {\n                    e.stopPropagation();\n                });\n                document.querySelector('.cke_dialog').addEventListener('mousedown', function(e) {\n                    e.stopPropagation();\n                });\n            }, 300);\n        });\nRegards,\n. ",
    "DwolinH": "That is not really feasible to rewrite thousands of files/ HTML-tags.\nMaybe it is better to set components attributes to false after editor.init() and find a way to enable it on specific areas?\n\nonly the blue box needs to be editable.. ",
    "ruelcena": "Hey Guys, \nI don't know this is fix but it works fine, here is what I do. Please have a look all matches error and replace this this.matches that's it.\n. ",
    "kamleshkatpara": "Thank you @cmcintosh . I am not able to find in which function or object is the data of html, css and js of the template been stored,  In case I want to send that data via ajax post what needs to be done please provide some inputs\n@cmcintosh . This is my code :\n```js \n   var editor = grapesjs.init\n       ({\n          height: '100%',\n          fromElement: 1,\n          clearOnRender: true,\n          container : '#gjs',\n          plugins: ['gjs-preset-newsletter'],\n          storageManager: {\n          autosave: false,\n          setStepsBeforeSave: 1,\n          type: 'remote',\n          urlStore: 'http://cimailer.dev/templates/template',\n          urlLoad: 'http://cimailer.dev/templates/template',\n          contentTypeJson: true,\n          },\n      });\n  editor.Panels.addButton\n  ('options',\n    [{\n      id: 'save-db',\n      className: 'fa fa-floppy-o',\n      command: 'save-db',\n      attributes: {title: 'Save DB'}\n    }]\n  );\n\n// Add the command\neditor.Commands.add\n('save-db',\n{\n    run: function(editor, sender)\n    {\n      sender && sender.set('active', 0); // turn off the button\n      editor.store();\n\n      var htmldata = editor.getHtml();\n      var cssdata = editor.getCss();\n      console.log(htmldata);\n      console.log(cssdata);\n      $.post(\"templates/template\",\n      {\n        html: htmldata,\n        css: cssdata\n      });\n    }\n});\n\n```\nLittle Confused with https://github.com/artf/grapesjs/issues/122\n@cmcintosh @artf . Updated my code sitll not working, Not receiving data in POST @artf . Hi @artf \nIt was just the double quotes, now I can get the data in post\n```js\n var editor = grapesjs.init\n       ({\n          height: '100%',\n          fromElement: 1,\n          clearOnRender: true,\n          container : '#gjs',\n          plugins: ['gjs-preset-newsletter'],\n          storageManager: {\n          autosave: false,\n          setStepsBeforeSave: 1,\n          type: 'remote',\n          urlStore: 'http://cimailer.dev/lets_dragdrop',\n          urlLoad: 'http://cimailer.dev/lets_dragdrop',\n          contentTypeJson: true,\n          },\n      });\n  editor.Panels.addButton\n  ('options',\n    [{\n      id: 'save-db',\n      className: 'fa fa-floppy-o',\n      command: 'save-db',\n      attributes: {title: 'Save DB'}\n    }]\n  );\n\n// Add the command\neditor.Commands.add\n('save-db',\n{\n    run: function(editor, sender)\n    {\n      sender && sender.set('active', 0); // turn off the button\n      editor.store();\n\n      var htmldata = editor.getHtml();\n      var cssdata = editor.getCss();\n      console.log(htmldata);\n      console.log(cssdata);\n      $.post(\"http://cimailer.dev/lets_dragdrop\",\n      {\n        \"html\": htmldata,\n        \"css\": cssdata\n      });          \n    }\n});\n\n```\nI have a question on store Manager it doesn't seem to work:\nstorageManager: {\n          autosave: false,\n          setStepsBeforeSave: 1,\n          type: 'remote',\n          urlStore: 'http://cimailer.dev/lets_dragdrop',\n          urlLoad: 'http://cimailer.dev/lets_dragdrop',\n          contentTypeJson: true,\n          },. @artf If you see at the bottom of the code I am using ajax post, I don't want to use it.\nI have a question why are the urlLoad and urlStore urls in the storageManager not being used :\n```js\n var editor = grapesjs.init\n       ({\n          height: '100%',\n          fromElement: 1,\n          clearOnRender: true,\n          container : '#gjs',\n          plugins: ['gjs-preset-newsletter'],\n          storageManager: {\n          autosave: false,\n          type: 'remote',\n          urlStore: 'http://cimailer.dev/lets_dragdrop',\n          urlLoad: 'http://cimailer.dev/lets_dragdrop',\n          contentTypeJson: true,\n          },\n      });\n// Add the command\neditor.Commands.add\n('save-db',\n{\n    run: function(editor, sender)\n    {\n      sender && sender.set('active', 0); // turn off the button\n      editor.store();\n\n      var htmldata = editor.getHtml();\n      var cssdata = editor.getCss();\n      console.log(htmldata);\n      console.log(cssdata);\n      $.post(\"http://cimailer.dev/lets_dragdrop\",\n      {\n        \"html\": htmldata,\n        \"css\": cssdata\n      });          \n    }\n});\n\n```\nI want to only use the storageManager. Thanks alot it worked guys ! :+1: \n@artf @cmcintosh \n```js\n      var editor = grapesjs.init\n           ({\n              height: '100%',\n              fromElement: 1,\n              clearOnRender: true,\n              container : '#gjs',\n              plugins: ['gjs-preset-newsletter'],\n              storageManager: {\n              autosave: false,\n              setStepsBeforeSave: 1,\n              type: 'remote',\n              urlStore: 'http://cimailer.dev/templates/template',\n              urlLoad: 'http://cimailer.dev/templates/template',\n              contentTypeJson: true,\n              },\n          });\n      editor.Panels.addButton\n      ('options',\n        [{\n          id: 'save-db',\n          className: 'fa fa-floppy-o',\n          command: 'save-db',\n          attributes: {title: 'Save DB'}\n        }]\n      );\n\n    // Add the command\n    editor.Commands.add\n    ('save-db', {\n        run: function(editor, sender)\n        {\n          sender && sender.set('active'); // turn off the button\n          editor.store();\n        }\n    });\n    editor.on('storage:load', function(e) { console.log('Loaded ', e);});\n    editor.on('storage:store', function(e) { console.log('Stored ', e);});\n\n```. @arthuralmeidap  Can you throw some lights on it, Like a example or something. \n@arthuralmeidap @artf @cmcintosh\nI am trying to edit a existing template in the database,\nI am unable to send the template data and id to the view \n```js\nvar id = '<?php echo $this->uri->segment(4); ?>';\n   var editor = grapesjs.init\n       ({\n         height: '100%',\n          container : '#gjs',\n          plugins: ['gjs-preset-newsletter'],\n      storageManager:\n      {\n        type: 'remote',\n        autosave: false,\n        //urlStore: 'dragdrop/edit/id',\n        urlLoad: 'dragdrop/edit/id',\n        contentTypeJson: true,\n      },\n    });\n\n  editor.Panels.addButton\n      ('options',\n        [{\n          id: 'save-db',\n          className: 'fa fa-floppy-o',\n          command: 'save-db',\n          attributes: {title: 'Draft'}\n        }]\n      );\n\n    // Add the command\n  editor.Commands.add\n    ('save-db',\n    {\n      run: function(editor, sender)\n      {\n        sender && sender.set('active'); // turn off the button\n        editor.store();\n        alert('Draft');\n\n        //   editor.on('storage:load', function(e) {\n        //       console.log('Loaded ', e);\n        // });\n\n        // editor.on('storage:store', function(e) {\n        //       console.log('Stored ', e);\n        // });         \n      }\n  });\n\n```\nI have this structure in my db : \n\n\nid\ntemplate-name\ntemplate-data\n\n\n1\nfirst\n{\"gjs-assets\":\"[]\",\"gjs-css\":\"*{box-sizing: border-box;}body{margin:0;}\",\"gjs-styles\":\"[]\",\"gjs-html\":\"\\\"components\\\":[]},\n\n\n. Thanks @artf . Please recheck my code i have updated it. @sonnylloyd  @artf \nI want to store inline html\nvar html = editor.runCommand('gjs-get-inlined-html');\ninto mysql database using\neditor.store() function\n. I can see this \n`created_at:\"2017-10-05 13:17:36\"\nid:\"121\"\ntemplate-data:\n<table class=\"list-item\" style=\"box-sizing: border-box;\"><td class=\"list-item-cell\" style=\"box-sizing: border-box;\">\ntemplate-name:\"first_name\"`\n@arthuralmeidap . Yes @arthuralmeidap \n That's it's returning the same thing I stored in the database.\nHow should I load var html = editor.runCommand('gjs-get-inlined-html');\n                      var storageManager = editor.StorageManager;\n                      storageManager.store({\"template-data\":html}). @daniel-farina \nI am trying to save the template name from a input text box and not the templateId. Hi @artf\nNot sure about using https://github.com/artf/grapesjs-preset-newsletter/blob/master/src/buttons.js#L36-L37 \nI am using the compressed version:\n<script src=\"js/grapes.min.js\"></script>\n    <script src=\"js/grapesjs-preset-newsletter.min.js\"></script>\nAlso I wanted to know why Add image button does not seem to work ?\nI mean not clear about it\n\nI am able to upload and load images into the asset manager.\nThe thing I am missing on is after uploading the image, it is not reflected immediately in the asset manager image list.\n\nWhy do I have to refresh the page every time.\nIs it possible to load the images directly after uploading. @gasserol  you can refer to my code Here\nI was able to upload and retrieve files.. @nhinq you can refer to my code Here\nI was able to upload and retrieve files.. Hi @vtista \nThe response from your php code should be like this :\n[{\"type\":\"image\",\"src\":\"localhost/test/img/wechat.jpg\",\"height\":\"350\",\"weight\":\"250\"}],\nTrying removing the slashes like this :\necho json_encode($response,JSON_UNESCAPED_SLASHES);\nFor more reference you can check my code Here. @vtista were you able to upload the file ?\nNot sure about the error you are get, I can suggest you to go to your project folder and try this command:\nnpm i. @vtista \nAfter uploading the files to the server, I'm returning the lastest uploaded file in response which is working perfectly now,\n```js\n$dir = 'uploads/';\n        $lastMod = 0;\n          $lastModFile = '';\n        foreach (scandir($dir) as $entry)\n        {\n                  if (is_file($dir.$entry) && filectime($dir.$entry) > $lastMod)\n               {\n            $lastMod = filectime($dir.$entry);\n            $lastModFile = $entry;\n           }\n    }\n$images[] = array('type' => 'image',\n                          'src' => 'http://cimailer.dev/uploads/'.basename($lastModFile),\n                          'height' => '350',\n                          'weight' => '250'\n                        );\n\nif(!empty($images))\n{\n    $data = array('data' => $images);           \n}\n\nif(!empty($data))\n {\n   echo json_encode($data,JSON_UNESCAPED_SLASHES);  \n }\n\n```. Hi @artf , I was able to only upload and delete files from the server, it was not adding images directly to the asset manager.\nI rechecked all the asset manager issues and found what I was doing wrong, now it works fine.\nThanks alot :) :+1: . @artf \nI know you removed it earlier, but I was using it as pop up box to save my template into database.\nIs it that it is completed removed from the framework ?. ",
    "MichaelKlemersson": "@artf probably we need to check if the span element has at least one attribute before remove it.. I was looking at the default example page and saw that sectors don't have the id attribute that is used\nas a parameter of the function getProperty\n\nAfter I added the attribute, I can get the property as the image below shows\n\n. this attributes  data-gjs-editable=\"false\" data-gjs-removable=\"false\" only works for the current selected element not for their childs, @cmcintosh I also tried put manually but it only works when I set this attributes on every child elements, like this:\n. @cmcintosh It's a great idea, I vote for propagates and this will be really helpful using in a trait, so se could toggle this functionality ;). He is using backbone js, if I'm not wrong.. ",
    "manishkumaruit": "Hi ARTF,\ni want to make a modal popup as like image blocks. when i am making domcomponents and define type to add in block manager component its not working.\nCan you help me to make a modal when i drag a component in editor it should open like a modal \n`import {hNavbarRef, navbarRef, navbarItemsRef, menuRef} from './consts';\nexport default(editor, config = {}) => \n{\n  const c = config;\n  let bm = editor.BlockManager;\n  let modal=editor.modal;\n  let cmdm = editor.Commands;\n  const navbarPfx = c.navbarClsPfx || 'navbar';\n // Get DomComponents module\nvar comps = editor.DomComponents;\nvar comps = editor.DomComponents;\n// Get the model and the view from the default Component type\nvar defaultType = comps.getType('default');\nvar defaultModel = defaultType.model;\nvar defaultView = defaultType.view;\nvar inputTypes = [\n  {value: 'text', name: 'Text'},\n  {value: 'email', name: 'Email'},\n  {value: 'password', name: 'Password'},\n  {value: 'number', name: 'Number'},\n];\n// The input will be the Component type ID\ncomps.addType('input', {\n  // Define the Model\n  model: defaultModel.extend({\n    // Extend default properties\n    defaults: Object.assign({}, defaultModel.prototype.defaults, {\n      // Can be dropped only inside form elements\n      draggable: 'form, form *',\n      // Can't drop other elements inside it\n      droppable: false,\n      // Traits (Settings)\n      traits: ['name', 'placeholder', {\n          // Change the type of the input (text, password, email, etc.)\n          type: 'select',\n          label: 'Type',\n          name: 'type',\n          options: inputTypes,\n        },{\n          // Can make it required for the form\n          type: 'checkbox',\n          label: 'Required',\n          name: 'required',\n      }],\n    }),\n  },\n  // The second argument of .extend are static methods and we'll put inside our\n  // isComponent() method. As you're putting a new Component type on top of the stack,\n  // not declaring isComponent() might probably break stuff, especially if you extend\n  // the default one.\n  {\n    isComponent: function(el) {\n      if(el.tagName == 'INPUT'){\n        return {type: 'input'};\n      }\n    },\n  }),\n// Define the View\n  view: defaultType.view,\n});\n  b.add('test-block', {\n      label: <svg class=\"gjs-block-svg\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path class=\"gjs-block-svg-path\" d=\"M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z\" fill-rule=\"nonzero\"></path>\n      <rect class=\"gjs-block-svg-path\" x=\"15\" y=\"10\" width=\"5\" height=\"1\"></rect>\n      <rect class=\"gjs-block-svg-path\" x=\"15\" y=\"13\" width=\"5\" height=\"1\"></rect>\n      <rect class=\"gjs-block-svg-path\" x=\"15\" y=\"11.5\" width=\"5\" height=\"1\"></rect>\n     </svg>,\n      content: {\n         type: 'input',\n         activeOnRender: 1, // <- this will trigger the active event\n      },\n     });` \nhere is my code . \nHi @artf ,\nI am using your plugin and i want to use blocks in different tabs like blocks,widgets and grids but when i am using the properties of blockManager like blockManager : {appendTo: '#blocks'}. Its showing all blocks in single tabs but i want to show blocks in different-2 tabs which i have list of blocks. I am not able to add blocks in different different tabs. All tabs are shown in upper right corner in above images.\nThanks.. ",
    "sonnylloyd": "Sorry head was in the clouds yesterday. i placed the script tag in the wrong place. I have the same problem and like you i added the files manually.  just in case someone else looks at this and needs to achieve the same thing manually \njavascript\neditor.on('asset:upload:response', (response) => {\n                var result = JSON.parse(response);\n                editor.AssetManager.add(result.data);\n            });\nvar result = JSON.parse(response);\n                editor.AssetManager.add(result.data);\n            });\nmy response looks like this \njavascript\n{\"data\":[{\"type\":\"image\",\"height\":100,\"width\":100,\"src\":\"https://www.sunzu.com/updated/cdn/696567-ea0401d4141da8ee123e8c76aa1483b955b74110.jpg\"}]}\n@artf  i believe the issue here is inside src\\asset_manager\\view\\FileUploader.js you have on line 77 inside onUploadResponse(text)\njavascript\nconst json = typeof text === 'text' ? JSON.parse(text) : text;\nthis should be\njavascript\nconst json = typeof text === 'string' ? JSON.parse(text) : text;\n. @artf thanks i have sent a PR. @art i think the issue here is that \ncolorEl.spectrum('set', valueClr);\ninside function setValue(val, opts = {}) of InputColor.js does not call the change event inside spectrum. looks like it needs to be separated out.\n . @artf i have been looking at this quite a bit and managed to get it working but the way i have done it seems a little hacky.\nThe issue i found was inside src\\domain_abstract\\ui\\InputColor.js inside   setValue(val, opts = {}).\nthe value opts.targetUpdate is undefined after the second loop.\nI added these, just above the IF statement and changed the variable previous\u0421olor so it can be accessed by all the functions. \n```\nmodel.set('value', valueClr);\ncolorEl.spectrum('set', valueClr);\nif (opts.targetUpdate) {\n      self.previous\u0421olor = valueClr;\n      this.noneColor = valueClr;\n}\n```\nagain this feels a little hacky im not sure if its the correct approach. \n. @artf thanks. . #372 . @mekamleshk editor.store() function gets the html, components, css, html and styles and passes it to  storage:store event and you can access it like you have above\nim sorry if i have miss understood what your asking but it looks like your trying to add a save button\nthe save button\neditor.Panels.addButton('options', [{\n               id: 'save',\n                    className: 'fa fa-floppy-o icon-blank',\n                    command: function (editor, sender) {\n                        if (sender)\n                            sender.set('active', false);\n                        editor.store();\n                    },\n                    attributes: {title: 'save to database'}\n                }]);\nthe store event\neditor.on('storage:store', function (e) {\n                console.log('STORE ', e);\n                console.log('HTML', e.html);\n                console.log('CSS', e.css);\n            });\nyou can use grapejs's build in remote storage feature if you want to post these values to a backend\nin the grapejs init you will want something like this\nstorageManager: {\n                            type: 'remote',\n                            urlStore: 'http://mywebsite.com/store/website',\n                            contentTypeJson: true,\n                        },\nthis will post a json string to the backend\n. Thanks @artf i have been playing with your suggestion but with no luck. again sorry for being a pain\nheres the updated component.js\ndomc.addType('icon', {\n    model: defaultModel.extend({\n      defaults: Object.assign({}, defaultModel.prototype.defaults, {\n        icon: c.icon,\n        icons: c.icons,\n        tagName: 'icon',\n        draggable: '.col',\n        droppable: false,\n        traits: [\n          {\n            type: 'select',\n            label: 'icons',\n            name: 'icons',\n            options: c.icons\n          }]\n      }),\n      init() {\n        console.log('init 1');\n        this.listenTo(this, 'change:icons', this.updateIcons);\n      },\n      updateIcons() {\n          console.log('im here 1');\n          this.set('icon', this.get('icons'));\n      }\n    }, {\n      isComponent: function(el) {\n        if (hasClass(el, 'icon')) {\n          return {\n            type: 'icon'\n          };\n        }\n      },\n    }),\n    view: defaultView.extend({\n      init() {\n        console.log('im here 2');\n        this.listenTo(this.model, 'change:icon', this.updateIcon);\n        const comps = this.model.get('components');\n        if (!comps.length) {\n          comps.reset();\n          comps.add(`\n              <i data-js=\"icon\" class=\"fa ${c.icon}\"></i>\n          `);\n        }\n      },\n      updateIcon() {\n         const icon = this.model.get('icon');\n         console.log('updateIcon',icon);\n         this.el.innerHTML = `<i data-js=\"icon\" class=\"fa ${icon}\"></i>`;\n      },\n      render() {\n           defaultView.prototype.render.apply(this);\n           this.updateIcon();\n           return this;\n      }\n    }),\n  });. @artf Thank you. its now working. my bad. ",
    "martinrios95": "It's kinda Backbone.js usage... so I haven't understood that kinda framework so much, yet. I'm just learning Backbone.... ",
    "manjunaras": "Hi @arthuralmeidap , Thank you so much for your guidance. \nWe already went through the link you shared, But never mentioned anywhere about get editor part by removing their own css with eventlistener.\nLet me brief more about our need in Grapesjs,\n\nWe need to extract/re-use grapesjs editor region where template loads and highlighted in yellow color with blocks.\nMost important above the editor region or header we have our custom buttons Preview/Mobile view(highlighted in red color) On-click, which should follow same functional listeners Grapesjs follows.\nOn left side, It shows available html templates which again highlighted in yellow color.\nIn /src folder, need to do alter following changes as per above mockup.\nRequired folders: for preview/mobile/block manger, RTE for editor\nNot-required folders: Remove or disable following folders Storage manger, Asset manager, etc.,\nAfter remove or disable need to re-build src folder using webpack to get fresh grapesjs.min.js\n. @thecodefish: First up all i thank you for showing interest on my requirement and surprised that we both sync together on same expectation on angular+grapesjs together and exactly we looking for. I gone through your pseudo angular code on integration using typescript. Its really good!!\nNow, our requirement more relevant on binding JSON data and HTML template separate coming from controller through angular scope. So, once template and json data rendered in grapesjs editor any modification in text/data should auto-update in same scope variable i.e., jsonData so that i can save in my database future.\nFor example,\nclass MyController {\n  editor: any;\n grapesJsConfig: {\n    //whatever\n }\njsonData: {\"title\": \"This is my sample title\"}\n.....\n}\n\n\n\n\nclass GrapesJsComponent implements ng.IComponentOptions\n{\n    bindings = {\n        config: '<',\n        id: '@',\n               data:'<'\n    }\n        controller = GrapesJsController;\n    controllerAs = 'editor';\n        template = <div id=\"gjs-{{editor.id}}\"><div class=\"x\" ng-model=\"data.title\"></div></div>;\n}\nangular.module('angularApp').component('grapeEditor', new GrapesJsComponent());\nPlease help us on above use-case and if possible can you share your complete pseudo set of source files. We are trying hard for a month.. ",
    "krunal039": "@edwardjiawei  @daniel-farina any luck with  above? I am also looking for sample. @edwardjiawei thanks for quick reply but I still struggle can you please point to specific code/line and I can have look?. @artf thanks for reply but still I could not understand how to create block with component as component are building block and block will be made of components. we wants to have single window where user can porvide all information on block drop.. @artf I looked at it but could not understand more if you can point to any demo/sample code for same?. @artf  just for more info we want to have simmilar template as below and i looked at issue and reference you suggested but could not find solution\nWe have Image as background-->mouse link --> href for click and below that we have title.\n\n. @artf thanks for reply, we need user input for hover text, background image and text and hyperlink at bottom and thought to use custom component, but if we can prompt user to enter above then happy to create just block, can you pease guide me in correct direction, I am struggling since 4-5 days?. @artf I tried it but way we have template it does not allow, \nWe have image and with mouse hover text with absolute div on top of image. when user tried want to change image they cannot unless they remove mouse hover div and then can double click on image to remove it but then they cannot add back hover div for text, if you want I can create jsfiddle. @artf  below is codepen for same, I have added PC Box 2 as block. \nCodepen. @artf  any luck to look at codepen?. @artf any luck?. @artf thanks for reply, if you can please point me to any sample?. @artf I tried bust still no luck, can you please create small sample if that is possible?. @artf it does not work.. @arthuralmeidap thanks for reply but what I meant by just html, returned html looses all css class reference, if you look at attached picture, you will see all div's class attribute is removed. but i can see class applied in canvas.. @Geczy I tried editor.runCommand('get-inlined-html') but it does not return anything. @arthuralmeidap I am not after applied class defination(getCss() will return class defination), I am after correct html with class name applied. when I use html.getHtml() it remove some of applied classes from returned html.\nI can see class applied in canvas like as I mentioned in image.\nexample:\ncanvas: Text Content\neditor.getHtml(): Text Content\nAlso request you to look at image attached,. @Geczy correct, it does not return classname start with gjs, I have change class name prefix and it is fine now. Thanks for quick help.. @artf @ryandeba  thanks for reply, can you please let me know where can I listen event for component:add. @artf  thanks for reply. is there any event I can use for same? or it has to be out side of editor?. was css issue and manage to resolve by width 100%. @artf below is codepen link and i have added custom component named slider. here when you drop slider to editor and than click on it and it should open trait manager and if you change Link Title or Link to Open to blank value it throws above error.\nhttps://codepen.io/kmpdev/full/LORdOM/\nerror:\nUncaught RangeError: Maximum call stack size exceeded.\n2grapes.min.js:2 Uncaught RangeError: Maximum call stack size exceeded.\n    at HTMLDivElement. (https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.25/grapes.min.js:2:232013)\n    at o (https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.25/grapes.min.js:2:225570)\n    at i.each (https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.25/grapes.min.js:2:230006)\n    at i.trigger (https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.25/grapes.min.js:2:231987)\n    at i.o.trigger (https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.25/grapes.min.js:11:29611)\n    at i.o.click (https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.25/grapes.min.js:11:30120)\n    at i.openSettings (pen.js:1921:20)\n    at HTMLDivElement. (https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.25/grapes.min.js:2:232013)\n    at o (https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.25/grapes.min.js:2:225570)\n    at i.each (https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.25/grapes.min.js:2:230006). @artf I have updated a you suggested but still I can see error on console and also it does not trigger trait change event for \"Link Title\" and \"Link to open\" when value is empty.\nbelow is error.\ngrapes.min.js:2 Uncaught RangeError: Maximum call stack size exceeded.\n    at HTMLDivElement. (grapes.min.js:2)\n    at o (grapes.min.js:2)\n    at i.each (grapes.min.js:2)\n    at i.trigger (grapes.min.js:2)\n    at i.o.trigger (grapes.min.js:11)\n    at i.o.click (grapes.min.js:11)\n    at i.openSettings (pen.js:386)\n    at HTMLDivElement. (grapes.min.js:2)\n    at o (grapes.min.js:2)\n    at i.each (grapes.min.js:2)\n. @ryandeba I tried and now undo and redo button does not do anything(not even blank editor canvas) I have below code\n[{\n      id: \"undo\",\n      className: \"fa fa-undo icon-undo\",\n      command: function command(editor, sender) {\n        sender.set(\"active\", 0);\n        editor.UndoManager.undo(1);        \n      },\n      attributes: {\n        title: \"Undo (CTRL/CMD + Z)\"\n      }\n    }, {\n      id: \"redo\",\n      className: \"fa fa-repeat icon-redo\",\n      command: function command(editor, sender) {\n        sender.set(\"active\", 0);\n        editor.UndoManager.redo(1);\n      },\n      attributes: {\n        title: \"Redo (CTRL/CMD + Y)\"\n      }\n    }. @ryandeba thanks for reply, i am able to resolve issue, was not due to grapesjs. also does grapesjs latest build support ie11 as i have made my local version ie11 compatible but I am sure I must be missing out on all bug fixes and enhancement. @ryandeba @artf , thanks for reply, is there way to pass property(max length, validation error message) to custom traits? . We need user to add rich text with image and rich text is only visible when\nimage mouse hover and user can drag and drop multiple image with rich text.\nOn 6 April 2018 at 05:32, Denis Efremov notifications@github.com wrote:\n\nBut traits actually, are attributes of an element. For what purpose you\nneed to use RTE there.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/1009#issuecomment-379145318, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ALLIyGPRzSQwb5SIGpHy0xLSzU-PHleqks5tlu_1gaJpZM4TISVN\n.\n. We can but RTE content is only been shown on mouseover and not sure how can we achieve inline RTE?. @artf  I tried to debug but no luck as it is happening on some pages and not on all pages. also \n\nthis.find is undefined\n\n. @artf I did update grapesjs to  0.12.17 and under for trait changes it still says  this.find('a')[0] is not function.\n\nbelow is code pan\nhttps://codepen.io/kmpdev/pen/bjVojM?editors=1010. @art I updated it to 0.14.23 and it cannot find any element all are returned with empty array, not sure what am I doing wrong.\nComponent Code:\n`function createPCBoxNewComp(comps, defaultModel, defaultView, defaultValue) {\n    comps.addType('programmerContent', {\n        // Define the Model\n        model: defaultModel.extend({\n            // Extend default properties\n            defaults: Object.assign({}, defaultModel.prototype.defaults, {\n                droppable: false,\n                draggable: true,\n                type: 'programmerContent',\n                tagName: 'div',\n                void: 0,\n                isActive: true,\n                grayout: false,\n                isVideo: false,\n                isCreatePage: false,\n                src: 'https://team.global.temp/sites/LearningDevLib/temp_uni_images/placeholder-image/programme.png',\n                hoverText: 'Lorem Ipsum link',\n                title: 'Lorem Ipsum',\n                link: 'https://team.global.temp/sites/TEMPUni',\n                target: '_blank',\n                isPageCreated: false,\n                attributes: {\n                    frameborder: 0,\n                    'data-gjs-type': 'programmerContent'\n                },\n                traits: [{\n                        type: 'checkbox',\n                        label: 'Video',\n                        name: 'isVideo',\n                        changeProp: 1\n                    },\n                    {\n                        type: 'checkbox',\n                        label: 'Grayout(Link will not open)',\n                        name: 'grayout',\n                        changeProp: 1\n                    }, {\n                        type: 'text',\n                        label: 'Hover Text',\n                        name: 'hoverText',\n                        placeholder: 'eg. Lorem Ipsum link',\n                        changeProp: 1\n                    }, {\n                        type: 'text',\n                        label: 'Title',\n                        name: 'title',\n                        placeholder: 'eg. Lorem Ipsum',\n                        changeProp: 1\n                    }, {\n                        type: 'text',\n                        label: 'Link to open',\n                        name: 'link',\n                        placeholder: 'eg. https://team.global.temp/sites/TEMPUni',\n                        changeProp: 1\n                    }, {\n                        type: 'select',\n                        label: 'Target',\n                        name: 'target',\n                        options: [{\n                            value: '_parent',\n                            name: 'This Window'\n                        }, {\n                            value: '_blank',\n                            name: 'New Window'\n                        }],\n                        changeProp: 1\n                    },\n                    {\n                        type: 'checkbox',\n                        label: 'Create Page',\n                        name: 'isCreatePage',\n                        changeProp: 1\n                    }\n                ]\n            }),\n            initialize: function initialize(o) {\n                defaultModel.prototype.initialize.apply(this, arguments);\n                this.listenTo(this, 'change:grayout', this.updateGrayout);\n                this.listenTo(this, 'change:isVideo', this.updateIsVideo);\n                this.listenTo(this, 'change:target', this.updateTarget);\n                this.listenTo(this, 'change:title', this.updateTitle);\n                this.listenTo(this, 'change:hoverText', this.updateHoverText);\n                this.listenTo(this, 'change:link', this.updateLink);\n                this.listenTo(this, 'dblclick active', this.openModal);\n                this.listenTo(this, 'change:src', this.updateSrc);\n                if (this.config.modal) this.modal = this.config.modal;\n                if (this.config.am) this.am = this.config.am;\n            },\n            updateGrayout: function updateGrayout() {\n                var grayout = this.get('grayout');\n                var image = this.find('img')[0];\n                var anchor = this.find('a')[0];\n                if (grayout) {\n                    image && image.get('classes').add({\n                        name: 'programme-content-image-grayout'\n                    });\n                    anchor && anchor.set(\"href\", \"#\");\n                } else {\n                    image && image.get('classes').remove({\n                        name: 'programme-content-image-grayout'\n                    });\n                    anchor && anchor.set(\"href\", this.get('link'));\n                }\n            },\n            updateIsVideo: function updateIsVideo() {\n                var isVideo = this.get('isVideo');\n                var playButton = this.find('div.programme-play-button')[0]\n                var link = this.get(\"components\").at(0);\n                if (isVideo) {\n                    playButton && playButton.get('classes').add({\n                        name: 'programme-play-button-show'\n                    });\n                    playButton && playButton.get('classes').remove({\n                        name: 'programme-play-button-hidden'\n                    });\n                } else {\n                    playButton && playButton.get('classes').add({\n                        name: 'programme-play-button-hidden'\n                    });\n                    playButton && playButton.get('classes').remove({\n                        name: 'programme-play-button-show'\n                    });\n                }\n            },\n\n            updateTitle: function updateTitle() {debugger;\n                var title = this.get('title');\n                var h4Title = this.find('h4')[0];\n                h4Title && h4.set(\"content\", title);\n            },\n\n            updateHoverText: function updateHoverText() {\n                var hoverText = this.get('hoverText');\n                var hoverTextDiv = this.find(\"div.programme-description-text\");\n                hoverTextDiv && hoverTextDiv.set(\"content\", hoverText);\n            },\n            updateLink: function updateLink() {\n                var link = this.get('grayout') ? \"#\" : this.get('link');\n                var anchor = this.find('a')[0];\n                anchor && anchor.set(\"href\", link);\n            },\n            updateTarget: function updateTarget() {\n                var target = this.get('target');\n                var anchor = this.find('a')[0];\n                anchor && anchor.set(\"src\", src);\n            },\n            updateSrc: function updateSrc() {\n                var src = this.get('src');\n                var anchor = this.find('a')[0];\n                anchor && anchor.set(\"target\", target);\n            }\n        }, {\n            isComponent: function isComponent(el) {\n                if (el.getAttribute && el.getAttribute('data-gjs-type') == 'programmerContent' ||\n                    (el.className &&\n                        el.className.indexOf('programmerContent') > 0)) {\n                    return {\n                        type: 'programmerContent'\n                    };\n                }\n            }\n        }),\n\n\n        // Define the View\n        view: defaultView.extend({\n\n            tagName: 'div',\n            events: {\n                'dblclick': 'openModal',\n                'click': 'openSettings'\n            },\n\n            openSettings: function openSettings(e) {\n\n                this.el.click();\n\n                var openBlocksBtn = editor.Panels.getButton('views', 'open-blocks');\n                openBlocksBtn && openBlocksBtn.set('active', 0);\n\n                var openTMBtn = editor.Panels.getButton('views', 'open-tm');\n                openTMBtn && openTMBtn.set('active', 1);\n            },\n            initialize: function initialize(o) {\n                defaultView.prototype.initialize.apply(this, arguments);\n                this.classEmpty = this.ppfx + 'plh-pc-box';\n                if (this.config.modal) this.modal = this.config.modal;\n                if (this.config.am) this.am = this.config.am;\n            },\n\n            openModal: function openModal(e) {\n                var em = this.opts.config.em;\n                var editor = em ? em.get('Editor') : '';\n\n                if (editor) {\n                    editor.runCommand('open-assets', {\n                        target: this.model,\n                        onSelect: function onSelect() {\n                            editor.Modal.close();\n\n                            editor.AssetManager.setTarget(null);\n                        }\n                    });\n                }\n                this.el.click();\n            },\n            disableClick: function disableClick() {\n                this.preventDefault();\n            },\n            render: function render() {\n                this.updateClasses();\n                this.updateAttributes();\n                var grayout = this.model.get(\"grayout\");\n                var isVideo = this.model.get(\"isVideo\");\n                var link = this.model.get(\"a_href\");\n                var target = this.model.get(\"target\");\n                var title = this.model.get(\"title\");\n                var hoverText = this.model.get(\"hoverText\");\n                var grayoutClass = grayout ? \"-text-grayout\" : \"\";\n                var grayoutImageClass = grayout ? \" programme-content-image-grayout\" : \"\";\n                var videoClass = isVideo ? \"programme-play-button-show\" :\n                    \"programme-play-button-hidden\";\n                var src = this.model.get(\"src\");\n\n                var template = '<a target=' + target +\n                    ' onclick=\\'event.preventDefault()\\' href=\"' + link + '\" aria-label=\"' +\n                    title + '\" text=\"' + title +\n                    '\"><div class=\"programme-description\"><div class=\"programme-description-text\"' +\n                    grayoutClass + '>' + hoverText +\n                    '</div></div> <img class=\"programme-content-image ' + grayoutImageClass +\n                    '\" src=\"' + src + '\"><div class=\"' + videoClass + ' programme-play-button\"' +\n                    grayoutClass +\n                    '> <i class=\"fa fa-play-circle\" aria-hidden=\"true\"></i></div><div class=\"programme-title\"><h4>' +\n                    title + '</h4></div> </a>';\n                this.el.className = \"pcBox-new programme-item\";\n                this.el.setAttribute(\"data-gjs-type\", \"pcBox-new\");\n                this.el.innerHTML = template;\n                return this;\n            }\n        })\n    });\n};`\n\nHTML on canvas: \n<div data-gjs-type=\"programmerContent\" frameborder=\"0\" src=\"https://team.global.temp/sites/LearningDevLib/temp_uni_images/placeholder-image/programme.png\" data-highlightable=\"1\" id=\"iixq\" class=\"programmerContent programme-item gjs-comp-selected\"><a target=\"_blank\" onclick=\"event.preventDefault()\" href=\"undefined\" aria-label=\"Lorem Ipsum\" text=\"Lorem Ipsum\"><div class=\"programme-description\"><div class=\"programme-description-text\">Lorem Ipsum link</div></div> <img class=\"programme-content-image \" src=\"https://team.global.temp/sites/LearningDevLib/temp_uni_images/placeholder-image/programme.png\"><div class=\"programme-play-button-hidden programme-play-button\"> <i class=\"fa fa-play-circle\" aria-hidden=\"true\"></i></div><div class=\"programme-title\"><h4>Lorem Ipsum</h4></div> </a></div>\n\n\n. @artf can you please let me know what am I doing wrong here?. @artf I have put inside components and if I do that way than traits are not visible when clicked on component.\n\n`var sliderType = 'hsbc-slider-1';\nvar createSliderComponent = function (comps, defaultModel, defaultView) {\n\n    var defaultType = comps.getType(\"default\");\n    var defaultModel = defaultType.model;\n    var defaultView = defaultType.view;\n\n    comps.addType(sliderType, {\n        // Define the Model\n        model: defaultModel.extend({\n            // Extend default properties\n            defaults: Object.assign({}, defaultModel.prototype.defaults, {\n\n                type: sliderType,\n                tagName: 'div',\n                copyable: true,\n                removable: false,\n                stylable: false,\n                resizable: false,\n                editable: true,\n                badgable: true,\n                highlightable: true,\n                sTitle: '',\n                sHeader: '',\n                sDescription: '',\n                sLink: '',\n                sLinkTitle: '',\n                sSrc: '',\n                sContent: '<div class=\"slider-left-part\"><h2>Sample Title</h2><div class=\"slider-title\">Lorem Ipsum</div><div class=\"slider-description\">Sample Description</div><div class=\"slider-link\"><a href=\"\">Link</a></div></div><div class=\"slider-right-part\"><img class=\"slider-image\" src=\"https://via.placeholder.com/503x300\"></div>',\n                sHeader: '',\n                attributes: {\n                    'class': 'slider-container',\n                    'data-gjs-type': sliderType\n                },\n                traits: [{\n                        type: 'text',\n                        label: 'Header Text',\n                        name: 'sHeader',\n                        placeholder: 'eg. Welcome',\n                        changeProp: 1\n                    }, {\n                        type: 'text',\n                        label: 'Title',\n                        name: 'sTitle',\n                        placeholder: 'eg. HSBC Link',\n                        changeProp: 1\n                    }, {\n                        type: 'text',\n                        label: 'Description',\n                        name: 'sDescription',\n                        placeholder: 'eg. Hear what our leaders are saying about HSBC University \u2013 and how it can help you learn, develop and connect.',\n                        changeProp: 1\n                    },\n                    {\n                        type: 'select',\n                        label: 'Link Title',\n                        name: 'sLink',\n                        options: [{\n                            value: 'Access',\n                            name: 'Access'\n                        }, {\n                            value: 'Find Out More',\n                            name: 'Find Out More'\n                        }, {\n                            value: 'None',\n                            name: 'None'\n                        }, {\n                            value: 'Read More',\n                            name: 'Read More'\n                        }, {\n                            value: 'Register',\n                            name: 'Register'\n                        }, {\n                            value: 'Role Based Learning',\n                            name: 'Role Based Learning'\n                        }, {\n                            value: 'Visit Website',\n                            name: 'Visit Website'\n                        }, {\n                            value: 'Watch Video',\n                            name: 'Watch Video'\n                        }],\n                        changeProp: 1\n                    }, {\n                        type: 'text',\n                        label: 'Link to open',\n                        name: 'sLinkTitle',\n                        placeholder: 'eg. https://team.global.hsbc/sites/HSBCUni',\n                        changeProp: 1\n                    }\n                ]\n            }),\n            initialize: function initialize(o) {\n                defaultModel.prototype.initialize.apply(this, arguments);\n                if (this.components() && !this.components().length) {\n                    this.components(this.get('sContent'));\n                }\n                this.listenTo(this, 'change:sHeader', this.updateContent);\n            },\n            updateContent: function () {\n                this.find('h2')[0] && this.find('h2')[0].set(\"content\", this.get('sHeader'));\n                this.find('div.slider-title')[0] && this.find('div.slider-title')[0].set(\"content\", this.get('sTitle'));\n                this.find('div.slider-description')[0] && this.find('div.slider-description')[0].set(\"content\", this.get('sDescription'));\n                this.find('a')[0] && this.find('a')[0].set(\"href\", this.get('sLink'));\n                this.find('a')[0] && this.find('a')[0].set(\"content\", this.get('sLinkTitle'));\n                this.find('img')[0] && this.find('img')[0].set(\"src\", this.get('sSrc'));\n            }\n        }, {\n            isComponent(el) {\n                if (el.getAttribute &&\n                    el.getAttribute('data-gjs-type') == sliderType || el.getAttribute('') =='slider-container') {\n                    return {\n                        type: sliderType,\n                        content : '<div class=\"slider-left-part\"><h2>Sample Title</h2><div class=\"slider-title\">Lorem Ipsum</div><div class=\"slider-description\">Sample Description</div><div class=\"slider-link\"><a href=\"\">Link</a></div></div><div class=\"slider-right-part\"><img class=\"slider-image\" src=\"https://via.placeholder.com/503x300\"></div>',\n                        activeOnRender: 1\n                    };\n                }\n            }\n        }),\n        // Define the View\n        view: defaultView\n    });\n};`\n\n. @artf  any help if you can offer?. ",
    "d3vr": "As a (not-so-great and hopefully temporary) workaround, I moved the category I wanted to move using jQuery after the editor was fully initialized:\njavascript\nsetTimeout(function(){\n    $(\".gjs-block-categories>div:last\").prependTo(\".gjs-block-categories\");\n}, 1000)\n. You can't use @ in an attribute's name, use something like data-call-method instead. ",
    "Piterden": "Why not use alias like the next inside a webpack's config?\n```js\nconst path = require('path')\nfunction resolve (dir) {\n  return path.join(__dirname, '..', dir)\n}\nmodule.exports = {\n  resolve: {\n    alias: {\n      '@': resolve('src'),\n    },\n  },\n}\nthen import it like:js\nimport ItemView from '@/navigator/view/ItemView.js'\n```. https://www.npmjs.com/package/module-alias\n\nWARNING: This module should not be used in other npm modules since it modifies the default require behavior! It is designed to be used for development of final projects i.e. web-sites, applications etc.. Nude node is so uncomfortable )))\n\nPS I don't know why, but I use only index.js files under src for my last projects.... Ya, sure. Like this?. Try to\njs\ntraits: [\n  {\n    type: 'hidden',\n    label: 'Type',\n  },\n],\nAnd then use CSS to hide what you don't need.. Maybe you share your run config for test?. But traits actually, are attributes of an element. For what purpose you need to use RTE there.. You don't need a RTE-trait. Why user can't use RTE in inline mode?. ",
    "sambuev": "Found it in the demo. I wanted to upload the image, but it only takes it, refreshed thr window and do nothing. Is this limitation of the demo version? I using only demo from the official website.. ",
    "Moikapy": "Hey, was looking into doing something similar and found this here.\nWas wondering if there is any documentation further explaining the process of creating new views.. Any progress on this fix?\nIt seems we are having the same issue, and most of our users use IE11+.. after using the boilerplate to start my plugin I was able to get GJS to work in all browsers.. this would help future users find and contribute to the project.. Is there a way to remove this on a local version, I'm needing the data-gjs-* to be kept when returned to the canvas.. Example Video:\nhttps://youtu.be/0cD3fzWdnHk\nAnother thing I'm trying to figure out is how to keep GrapesJS from stripping the data-gjs-type attributes as well wen using the setComponent Function.. ",
    "KitsuneSouls": "@daniel-farina You missed one of the files; you also need to edit the src/commands/index.js\ndefaultCommands['open-sections'] = require('./view/OpenSections');\n. ",
    "Sulav182": "I followed all the mentioned steps, but I am getting 'Cannot read property 'add' of undefined' when trying to add a block to the section manager. Has anyone dealt with this error before?. ",
    "danfitz36": "do you think you could just prefix all class names generated by grapejs? if instead of .row you use .grape-row or whatever (i'd probably make the prefix a variable), you'll mostly get the effect that @tomichal is after.. The templating could just have a top level class so you\u2019d reference \u2018.template .grapejs-button\u2019. No need to add it to every component. oh that's great, thanks. i didn't get that far in the demo i guess. . ",
    "webnoob": "I think this should go further than just pre-fixing with grapesjs-. For instance, I have created 2 templates which I would like to display side by side on the same page. If I could specify a namespace per template / grapesjs editor instance then it would mean there would be no danger of the templates styling crossing.. Thanks for this. Based on what you showed me above, I've used the StyleManager to add the extra font in, like so:\nvar styleManager = this.editor.StyleManager\n            styleManager.addProperty('Typography', {\n              name: 'Alternate Fonts',\n              property: 'font-family',\n              type: 'select',\n              defaults: '',\n              list: [{\n                value: '',\n                name: ''\n              },\n              {\n                value: 'Bank Gothic',\n                name: 'Bank Gothic'\n              }]\n            })\nI suppose using this method I would need to import the actual font via a stylesheet into the editor for it to actually work or do you provide some other mechanism for that?. ",
    "grizzm0": "Is there any ETA on this?\nI guess I have to parse the CSS in PHP and prefix each selector with a scope or similar for now.. For anyone that are using PHP as a save handler you could do the following using this lib https://github.com/sabberworm/PHP-CSS-Parser.\n```php\n$prefix = '#scope-01';\n$parsedCss = (new Sabberworm\\CSS\\Parser('.foobar { color: red; }'))->parse();\n/* @var Sabberworm\\CSS\\RuleSet\\DeclarationBlock[] $blocks /\n$blocks = $parsedCss->getAllDeclarationBlocks();\nforeach ($blocks as $block) {\n    /* @var Sabberworm\\CSS\\Property\\Selector[] $selectors /\n    $selectors = $block->getSelectors();\nforeach ($selectors as $selector) {\n    $selector->setSelector($prefix . ' ' . $selector->getSelector());\n}\n\n}\n$output = $parsedCss->render();\n```. ",
    "quadraxas": "I just wrap all css generated by grapes in a wrapper class then compile it to css with node-sass\n.wrapper-classname {\n   //style generated by grapesjs goes here\n}. ",
    "ayibfanani": "Hi, i'm experiencing the same thing, is this solved ?, and how i can add a listener for options change ?. ",
    "sanjeevSavitr": "Thanks... Thanks for the help.\nAnd please send the command event that is triggered when we click \"Hide Preview\".. ",
    "gasserol": "OK, many thanks, don't know how to solve this.. I'm using a normal apache server on localhost for tests and believe that this endpoint does not answer at all. I will try to implement your solution to the yii2 framework, there I can handle the json response of the endpoint. Many thanks for the imput and your excellent software!\n. @mekamleshk many thanks for your precious help. I will try to implement as suggested. BR, Oliver. Did you see that there is a preset from the author of this project for mjml, maybe this helps you? https://github.com/artf/grapesjs-mjml. found the problem, was loading wrong js file.. sorry.. ",
    "ramkumar65": "\nhere i attach screenshot. reply soon as possible. Thanks for reply. Yes, now working. thanks for your reply. i have another one clarification, How to drag a form element without any controls.. artf, i need file upload control, if it is available  in grapes js . How to add select drop down options?. How can i add options for drop down control... please suggest. ",
    "FrikkieSnyman": "@artf Is this even possible?. So I got this figured out, in a quite hacky way, but it works!\nJust create a custom trait, and use the following for the onValueChange()\nJavaScript\nonValueChange() {\n        var parentModel = this.target.collection.parent.sm;\n        var component = this.target;\n        const sm = parentModel.get('SelectorManager');\n        var traitModel = this.model;\n        var selectedComponent = this.target;\n        var label = traitModel.get('value');\n        var compCls = component.get('classes');\n        compCls.forEach(element => {\n          if (element.id == this.model._previousAttributes.value) {\n            compCls.remove(element);\n          }\n        });\n        if (label) {\n          var classModel = sm.add({label});\n          compCls.add(classModel);\n          parentModel.trigger('targetClassAdded');\n        }\n      }. ",
    "tncalvert": "No problem. Thanks for all your work; grapesjs is excellent.. ",
    "rip747": "Out of curiosity. What's preventing from looking to see if any parent elements have the \"data-gjs-editable\" attribute to prevent a the current element from being editable?. ",
    "austinbiggs": "@artf - Will there be a propagate html attribute? Like what you detailed below?\n<div data-gjs-editable=\"false\" data-gjs-propagate=\"['editable', ...]\">. I\u2019ve been digging through more code and from what I can tell, this doesn\u2019t happen in when using the CKEditor plugin (tested using the newsletter demo). However, when using the default RTE it does occur (tested on my own code and the website demo)\nSent with GitHawk. It seems you've thought of everything, you've done such an amazing job w/ GrapesJS! \ud83d\ude04 . @artf - May I ask why you stopped the implementation?\nIf it's something I believe I can solve, I'd like to try to finish it and make a PR.. @artf  - I was playing around with it, and if the user is dragging an element that isn't a photo, it looks a bit funny, since the CSS doesn't apply to the elements in the placeholder. Any thoughts?. @artf  - Do you think this would be easier now that GrapesJS uses native DnD?. Found the class after digging through the HTML.\n.gjs-placeholder-int, .gjs-com-placeholder-int, .gjs-nv-placeholder-int {}. This already works as detailed above, I just had an error in my code originally preventing it from working correctly!. @artf - I tried this in my code an nothing happens. This works for you?\nI'm running v. 12.58 \ud83d\ude04 . @ryandeba,\nI'm sure you can imagine how silly I feel now. Grade A solution, thanks!. I had a max-width on my images which was skewing them when I resized them too large, whoops!\n@artf  - Is there a way to disable certain handles? Besides w/ CSS\n  . This one makes me feel quite silly in hindsight.\nThe issue was the parent element's overflow property. The strange thing is that the top outline would show when it was only 1px thick, but none of it showed when it was 3px thick (hovering vs selecting). Which is why I thought this may have been a Grapes issue. However, Browsers just handle overflowing outlines strangely.. @artf  - I can do that as a quick fix.\nHowever, it seems counter-intuitive. Classes in CSS are meant to be re-used. If the \"fix\" is to remove the class, that seems to me that the issue is how Grapes deals w/ classes. I use classes on images (and other elements) for everything from animations to material shadows. . I was able to accomplish this by changing the value of the variable limitTop.\n```autoscroll: function autoscroll(e) {\n      e.preventDefault();\n      if (this.dragging) {\n        var frameWindow = this.getFrameEl().contentWindow;\n        var actualTop = frameWindow.document.body.scrollTop;\n        var nextTop = actualTop;\n        var clientY = e.clientY;\n        var limitTop = 150;\n        var limitBottom = frameRect.height - limitTop;\n    if (clientY < limitTop) {\n      nextTop -= limitTop - clientY;\n    }\n\n    if (clientY > limitBottom) {\n      nextTop += clientY - limitBottom;\n    }\n\n    //console.log(`actualTop: ${actualTop} clientY: ${clientY} nextTop: ${nextTop} frameHeigh: ${frameRect.height}`);\n    frameWindow.scrollTo(0, nextTop);\n  }\n},```. @goldengrisha - Can you clarify exactly what you're trying to achieve?. That worked perfectly!. @goldengrisha - I had an unrelated issue w/ thumbnails, as the asset manager simply loads in the full file for the thumbnail. When adding an asset, I now pass a `thumbnail` parameter and display that instead.\n\ngetPreview: function getPreview() {\n    var pfx = this.pfx;\n    var src = this.model.get('src');\n    var thumbnail = this.model.get('thumbnail');\n    return '\\n      <div class=\"' + pfx + 'preview\" style=\"background-image: url(&#34;' + thumbnail + '&#34;);\"></div>\\n      <div class=\"' + pfx + 'preview-bg ' + this.ppfx + 'checker-bg\"></div>\\n    ';\n  },. @artf \nWhile I'm confused why that change is necessary (it's a valid selector), I made the change. Unfortunately, I'm still seeing the issue.\nI've updated my Fiddle to show this. ",
    "Coyote6": "@cmcintosh How far did you get into your Drupal 8 Module as I am working to do the same in Drupal 7?  Thanks.. @cmcintosh awesome.  I completely understand how that goes.  I have been updating my repository that I left a link to on your drupal project once I found it.  I am looking forward to getting a good solid version working.. Found a solution, but surely there is a better one than this:\njavascript\n    editor.on('component:update', (component) => {\n      if (component.attributes.type == 'image' && typeof (assets[component.attributes.src]) != 'undefined') {\n        var thisAsset = assets[component.attributes.src];\n        var iframe = $('#gjs iframe');\n        $('.' + component.cid,iframe.contents()).attr('data-entity-uuid', thisAsset.uuid);\n      }\n    });\nThanks.. Thanks! Would there be a feature in the future to add attributes during asset import?  Just curious.. Thanks.  I added this to my storage manager function... I think it patches the problem for the time being... I am not quite awake yet, so please let me know if I messed something up.\n```javascript\nvar css = editor.getCss();\n// Fix the JavaScript Parser for the background repeat.\nvar noRepeat = /background-repeat-x:no-repeat;background-repeat-y:no-repeat;/g;\nvar repeat = /background-repeat-x:repeat;background-repeat-y:repeat;/g;\nvar repeatX = /background-repeat-x:repeat;background-repeat-y:no-repeat;/g;\nvar repeatY = /background-repeat-x:no-repeat;background-repeat-y:repeat;/g;\ncss = css.replace(noRepeat, 'background-repeat:no-repeat;');\ncss = css.replace(repeat, 'background-repeat:repeat;');\ncss = css.replace(repeatX, 'background-repeat:repeat-x;');\ncss = css.replace(repeatY, 'background-repeat:repeat-y;');\n```\n. ",
    "Jakobud": "Sorry this is an old issue, but is it also possible to limit which attributes are editable on any give block or component? I'm having a hard time figuring out if that's possible in the documentation.. Maybe my terminology is off here. I guess I mean prevent editing of things like padding, margins, font sizes, etc for any given content block.\nThe reason I ask is because in many cases perhaps this tool could be used for making content changes on a website for a company that has strict brand guidelines. Things like, \"the standard font used is always X size\" and \"the padding between something is always Y pixels\", etc. So having a tool like this would be very nice for non-developers to be able to edit the content on the site, but it might give them too much power. So restricting the editing of specific attributes/trails/? on a per content block basis would be helpful. I think the idea is that your standard brand guideline-specific styles would be defined in your CSS for each content block, and one could use GrapeJS to edit the content (headlines, images, paragraphs, etc) but not change the look/feel of those content blocks.. Ah excellent that is what I was looking for. I figured there was a way to do this but couldn't figure it out. Thanks!. ",
    "umeshsingh131": "I used this but this is not working. Can you send me an example regarding this.\nIn which plugin used some custom javascript function and used external javascript file regarding that plugins. This is my plugin code. Please guide me.\nhttps://jsfiddle.net/umeshsingh/5981qh97/. @artf : I put my html file where i load grapesjs library & add plugin[slider-plugin].\nPlease check below link: \nhttps://jsfiddle.net/umeshsingh/5981qh97/2/. Please check my above comment here. So that i can start my project. ",
    "asvine-p": "@Geczy, thanks but the set(\"active\", boolean) method only switches the highlight mode of the button. Actually It doesn't remove it. . Thanks for your reply!\nI succeeded changing the background by setting the style of all models inside the wrapper children.\nThis was a little bit tricky but if it can help someone here is the code:\n` let domComponents = this.editor.DomComponents;\n        let wrapperChildren = domComponents.getComponents();\n    for (let i = 0; i < wrapperChildren.models.length; i++) {\n        wrapperChildren.models[i].set({\n            style: {\"background-color\": \"#FFFFFF\"}\n        });\n    }`\n\nBeside this, I have two other problems with the editor. \n\n\nSpans are not recognized by the editor during import of an html template. Thus I added this code and it had recognized the span but they are not editable like texts: \ndomc.addType('span', {\n            // Define the Model\n            model: textType.model.extend({},\n                {\n                    isComponent(el) {\n                    if (el.tagName === 'SPAN') {\n                        // as template.children will return an empty array the traverser\n                        // will skip all nodes, therefore attach them as a string (they\n                        // will be processed later)\n                        return {type: 'Span',\n                                src: el.src,\n                                tagName: el.tagName.toLowerCase(),\n                                components: el.innerHTML\n                        }\n                    }\n                }\n            }),\n            view: textType.view\n});;\nHow can I make these spans editable and stylable like texts? \nHere is the html I imported\nhtmlTemplate.html.zip\n\n\nMy second problem is that I don't want to use classes system (specially when copying a component or when importing html). When I import html texts, some components have the same css class. So I add new class when selecting a component in oder to have different classes inside my components.\n\n\n`  this.editor.on('component:selected', function(model) {\n            // console.log(\"SELECTED\", model);\n            if (model && model.length > 2) {\n                const uuid = this.s4(); // generate new UUID for selecor\n            const selector =  {\n                name: uuid,\n                type: 'class',\n                label: uuid,\n            };\n\n            if (model[1].attributes.classes.length === 1) {\n                selectorManager.add(selector);\n                model[1].attributes.classes.push(selectorManager.get(uuid)); // ADD NEW SELECTOR TO MODEL\n            }\n        }\n\n});`\nThis add new selector name to the component  but it looses his original style sometimes. Is there a simple way to automatically add different class to all of my components when doing some modifications. I think what I'm currently doing is not the best way to add a class to a component.\nFinally I want to save all the current configuration in JSON. I used \nlet jsonConfig = this.editor.getComponents()\nthen\nthis.editor.setComponents(jsonConfig)\nbut this is not working.\nThanks for replying! :) . Hello artf, I have replaced \"components: el.innerHTML\" by \"content: el.innerHTML\" but the content is still not editable. Here is my code:\n' \nlet domc            = this.editor.DomComponents;\nlet textType        = domc.getType(\"text\");'\n    domc.addType('span', {\n        // Define the Model\n        model: textType.model.extend({},\n            {\n                isComponent(el) {\n                if (el.tagName === 'SPAN') {\n                    // as template.children will return an empty array the traverser\n                    // will skip all nodes, therefore attach them as a string (they\n                    // will be processed later)\n                    return {type: 'Span',\n                            src: el.src,\n                            tagName: el.tagName.toLowerCase(),\n                            // components: el.innerHTML,\n                            content: el.innerHTML,\n\n                    }\n                }\n            }\n        }),\n        view: textType.view\n    });`\n\nIf I keep components: el.innerHTML, text are duplicated. . Cool! I will try this! Thanks :)\n. ",
    "bobblkabb": "npm-debug.log\n. ",
    "z-vr": "@artf /src is a good start, but \njs\nconst Editor = require('editor');\nconst PluginManager = require('plugin_manager');\ndoes not allow to do\njs\nimport grapesjs from 'grapesjs/src'. Oh I found out how to do it -- via editor.addComponents({ type: 'MyComponent' }). Is there a way to insert it into a specific element by a CSS selector?\nFound this snippet, but how would i find the correct index?\njs\neditor.getComponents().add('<div>Text</div>', {at: index});. ok so what i've done is \n```js\nexport default function iterateChildren(components, fn) {\n  components.each((model) => {\n    fn(model);\n    const childComps = model.get('components');\n    iterateChildren(childComps, fn);\n  });\n}\nexport function findModels(components, selector) {\n  const found = [];\n  iterateChildren(components, (model) => {\n    const { view } = model;\n    if (!view) {\n      return;\n    }\n    const { el } = view;\n    const matches = el.matches(selector);\n    if (matches) {\n      found.push(model);\n    }\n  });\n  return found;\n}\nand thenjs\nconst wrapper = DomComponents.getWrapper();\n  const models = findModels(wrapper.get('components'), '#hero .text');\n  models.forEach((model) => {\n    const components = model.get('components');\n    components.add({ type: 'ContainerPlugin' }, { at: 0 });\n  });\n``\nI think traversing the model tree would be a very good feature -- I'll work on the PR at some point. Cheers!. @artf thanks for the snippet, it's good to know about$el, do you know how to extend this function to return a Backbone collection of models without importingBackbone` in the project?. ",
    "santiph": "Solved. What about a comma separated list of keys? /templates/42?keys=assets,css,styles,html,components. Thanks to you, @artf  ;) \nWould you mind to publish a new version of grapesjs into npm?. Hi @artf \nI need to warn the user know of any unsaved changes consistently. And skip it when there's nothing new to be saved: When a new empty template is created, right after saving or right after loading a template, no confirmation message should be displayed.\nSaving scenario through StorageManager works as expected. Loading doesn't, unfortunately. At least not when components, styles, html and so on is being loaded through the editor's API, not the StorageManager .load().. I could test it with remote storage fully:\nonbeforeunload is disabled, as expected, on closing right after saving.\nUnfortunately, it's still being displayed on closing right after loading a new template.\nAfter a little debugging, loading a new template seems to increase changesCount to 1.\n(Load changesCount = 1. Load changesCount = 2. Load changesCount = 3.)\nHow could this counter be reseted if the reason of template change was Loading a new one?. Sorry for the misunderstanding. \nHaving https://github.com/artf/grapesjs/pull/437 merged allowed me to use StorageManager as is instead of jQuery Ajax + setComponents() API to load a template from the backend.\nMy editor is being set as follows:\nconst editor = grapesjs.init({\n    container: '#gjs',\n    noticeOnUnload: true, // Warn the user unsaved changes might be lost when leaving the app\n    storageManager: {\n        id: '',\n        autosave: false,\n        autoload: false,\n        type: 'remote',\n        stepsBeforeSave: 1,\n        urlStore: '',\n        urlLoad: '',\n        params: {}, // For custom values on requests,\n        contentTypeJson: true,\n        storeComponents: true, // Enable/Disable storing of components in JSON format\n        storeStyles: true, // Enable/Disable storing of rules/style in JSON format\n        storeHtml: true, // Enable/Disable storing of components as HTML string\n        storeCss: true, // Enable/Disable storing of rules/style as CSS string\n    },\n});\nurlLoad & urlStore are being generated/overwritten dynamically as the user saves and load a new template. Load and Save operations works perfectly for us.\nNow to the problem: onbeforeunload is being triggered when the user tries to leave the editor having unsaved changes (Good!). And when trying to leave after loading a template with no changes being made (Bad!).\nAs I could debug, it's related to changesCount. This counter is being increased once per template loaded. So if the user loads three templates consecutively (without changing anything), changesCount is being set to 3, when it should be reset back to 0, right?\nAm I missing something?. changesCount is being set constantly to 1 now. (Load -> 1. Load Load -> 1)\nThere must be something increasing this counter right after storage events. I'm afraid I'm getting the same result as using 'storage:end'.\nNo matter how many times I load a template, changesCount remains set to 1.\nBtw, templates are being loaded through a Promise, and onResponse() is being called when resolved (triggering storage:response event, followed by storage:end). I think I've mimic the way RemoteStorage model behaves. Might that be affecting it somehow?. I'm currently using a custom Storage with business specific logic in there. I've tried to mimic RemoteStorage as much as I could (extending RemoteStorage itself triggers a lot of unresolved dependencies errors):\n```\nmodule.exports = require('backbone').Model.extend({\n    defaults: {\n        templateId: '',\n    },\n    ...\n    /*\n     * Triggered before the request is started\n     * @private\n     /\n    onStart() {\n        this.get('em').trigger('storage:start');\n    },\n/**\n * Triggered on request response\n * @param  {string} text Response text\n * @private\n */\nonResponse(responseText, callback) {\n    callback(responseText);\n    this.get('em')\n        .trigger('storage:response', responseText);\n    this.onEnd(responseText);\n},\n\n/**\n * Triggered after the request is ended\n * @param  {Object|string} res End result\n * @private\n */\nonEnd(res) {\n    this.get('em').trigger('storage:end', res);\n},\n\nload(keys, callback) {\n    this.onStart();\n    this.get('templateService').getTemplateById(this.get('templateId'))\n        .then((response) => {\n            this.onResponse(response.data, callback);\n        })\n        .catch((error) => {\n            this.onError(error);\n        });\n},\n\n});\n``. Oh, yes. We've followed the wiki to create a button to trigger a Load Command.\nWithin this load command, we're executingeditor.load()` manually, yes.\nWhy would I override such method? We're implementing a custom Storage, setting it as default and that's being consumed by editor.load() and editor. getCacheLoad() https://github.com/artf/grapesjs/blob/dev/src/editor/model/Editor.js#L566-L570 . With the light theme enabled, this is what select boxes look like on Firefox for OSx\n\n@artf for consistency purposes, how should select boxes behave and look like across different browsers? Native or custom?. Body on GET?? @.@. ",
    "ronaldaug": "Thank you so much @artf , it works like a charm.\n. @artf Thanks for your quick reply.\nSorry for my unclear question.\nWhat I actually want to achieve is\n- To remove the CSS codes that belong to a specific block.\nFor example, when I delete a block in the canvas, the CSS codes of that block will also be deleted.\nI don't want to clear the entire canvas.\nProbably, it will fire on destroy.\neditor.Commands.add ('tlb-delete', e => {\n// remove the CSS from this block\n})\nIn this case, I can remove the CSS code that has no parent by deleting the components but if the CSS codes have a parent or a child, it does not work.\nCodepen demo\nAnd here is a video I've tested.\n\nAccording to my components, I added <style> tags inside the block's content, If there is a better option to work with styles, please guide me. \nThanks in advance. . @ionic666 you can read Asset API documentation here\nThere is no image in your asset manager.  It seems you haven't added it yet.\nYou can add like this..\ngrapesjs.init({\n....\n.....\n assetManager: {\n          assets: [\n                  {\n                  type: 'image',\n                  src: 'http://via.placeholder.com/250x350/0174DF/ffffff/',\n                  date: '2018-06-28',\n                  height: 350,\n                  width: 250\n                    },\n                  {\n                  type: 'image',\n                  src: 'http://via.placeholder.com/250x350/5FB404/ffffff/',\n                  date: '2018-06-28',\n                  height: 350,\n                  width: 250\n                    }\n            ]\n          }\n....\n....\n}). Maybe, you didn't add the component type as image. Make sure you add it.\nAnd you can just double click on the image to trigger the assets images box.\nCould you share your codes via codepen or jsfiddle?\nDo you mean this official demo ?\nI can see the images under Flex is the new black section do not work. It's because the images were added via CSS codes. . @Abhisheknanda1344463 \nTested on Safari Version 11.1.1\nNothing happen here.\n\n. No @Abhisheknanda1344463 ,\nI add blocks and change the preview mode for many times.\nAnd also I've even tried with safari sidebar as your first screenshot. \nNo distorted lines are appeared.\nCould you provide your OS version and Browser version? \nProbably, the error comes from your device or browser. . Yea, OS and browser version are exactly the same. \nI have no idea why it doesn't work at yours.\nCurrently, I can just proof you with a screen recording, check this out.\nhttps://www.youtube.com/watch?v=UsZ6xl86gOU\nMake sure you clear browser cache and uninstall some safari extensions. . I got it by listening this command run:export-template.\neditor.on('run:export-template', () => {\n        editor.Modal.getContentEl().appendChild(myBtn);\n}). Ok If I am not wrong, you are asking the css background-image property under the style manager. \nHere is where the background images are added. \n\nAnd grapejs demo is a static page, you can't expect the uploading functions.\nInstead of trying on their official demo, you must clone grapesjs and launch your own at your device or server. So that you can add background images via the CSS. \n. You can check \"Replace the built-in Rich Text Editor\" in GrapesJS doc here\nAnd there is a GrapesJS CKEditor plugin.. I think you're missing something.\nI made a codepen demo here and it just works fine. \nYou have to add CKEditor & CKEditor Plugin scripts , and set the config options.. @hemanthmc, you can use Aviary editor.\nHere is all GrapesJS plugins.\nhttps://github.com/artf/grapesjs#plugins. ",
    "alialrabi": "the css files in canvas doesnt included in the editor.gethtml() ..how can i can i get it ? . Thanks for replay and for your great tool ,So is it possible to render the component  by trait.. Thanks a lot. . Thanks for your replay, Could you please explain more what should \nI do?What do you mean by ( change that checkbox trait in a simple input)? I have updated demo to be more clear https://js.do/alialrabi/273238 .   There are two checkbox fname and lname  ,So need to change  the value of myModelPropName to fname or lname ,what ever user select. I set myvalue in dostuff method by myvalue = trait.get('name') ,So myModelPropName value should changed ,but the script still not updated .\n. ",
    "taufeek6": "You have to include separately while rendering, it won't come in getHtml() or anything.. @artf \n\nI've added the jquery,  in the above image I've added the value attribute to input tag as we can see that in the above image, but that value attribute is not there in the final HTML I'm getting from the editor.\n```\neditor.StorageManager.add('local', {\n      // New logic for the local storage\n      load() {\n        // ...\n      },\n      store(data, clb, clbErr) {\n        // ...\n        console.log(data['gjs-html'])  //<<<< In this html I'm not getting the value tag that I've added thru jquery dom manipulation.\n  },\n});\n\n```. I'm using the latest version, I've created a stackblitz for the same.\nSteps : \n1. Drop \"Select Options\"\n2. Select component and Goto component settings\n3. Add Option\n4. Check the html code generated.\nAlthough I've added 2 options to that select element through jQuery (That I've included in the canvas) but I can't see them in the generated html.\nhttps://stackblitz.com/edit/angular-kzlezf. Bingo! that worked perfectly fine but it's letting all of the element to be selected in the block (By directly giving the block html in 'content', content : { content : 'html' } was working fine) so how do I forbid the elements to be selected in a block?\n\nFor example, in the above image, I don't want that label, button or headings to be selected, whenever user selects, the whole block will be selected.. Sorry, I don't understand, do I need to write and add the CSS rule like .text-red:hover{} or it will be automatically created by selecting the hover state?\nIf automatically then in my plunkr it doesn't seems to be happening.\nThanks for your fast reply!. Now I get that, it works perfectly fine, I just didn't know that how it works.\nThanks @NicoEngler for you this fast reply and clearing me out :). ",
    "faapio": "Hi, \nI Tried loading the external stylesheet with \"styles\" as mentioned above, but it has included the stylesheet into the body, and that too many times. . ",
    "andsnake": "i know we can add a class for font-awsome etc, but how did you changed it to show previews/custom thumbnails? . Thanks, sometimes the answer's something so simple, you can't just get it on your head hahah :P. ",
    "fsaiyedOB": "Give your custom class and set styles with the background image\nEg Code:\nIn bm.add block\nattributes: {\n  class: 'custom-icon flowz-callToAction-style-2',\n  title: 'Style 2',\n},\nand in CSS\n.custom-icon {\n  padding:0 !important;\n  width:100px !important;\n  height:50px !important; \n  min-height: auto !important\n}\n.flowz-callToAction-style-2{\n  background:url(screenshots/callToAction/2.jpg) no-repeat;\n  background-size:100% 100%\n}. Thanks for the help. This works perfectly. I tried searching issues with @import query, my bad.. Maybe related to #552 . When I used the previous version of GrapesJS, it works fine. \n[Edit] Not working in Latest @ v0.14.9, but working fine in v0.14.6. Thanks, actually I found alternative to @ i.e. v-on for using @ in VueJS. ",
    "deffrin": "```js\nvar editor = grapesjs.init({\ncontainer : '#gjs',\nplugins: ['gjs-blocks-basic'],\n\n// protectedCss: '',\n    storageManager: {\n      type: 'remote',\n      stepsBeforeSave: 10,\n      autoload: true,\n      urlLoad: base_url+'superadmin/educationalContent/get_learn_page/'+<?php echo $concept_id; ?>,\n      contentTypeJson:true,\n      params: {},   // For custom values on requests\n    },\n\n    assetManager: {\n      assets: \n      <?php echo $new_images; ?>\n /*  'http://placehold.it/350x250/78c5d6/fff/image1.jpg',\n   // Pass an object with your properties\n   {\n     type: 'image',\n     src: 'http://placehold.it/350x250/459ba8/fff/image2.jpg',\n     height: 350,\n     width: 250\n   },\n   {\n     // As the 'image' is the base type of assets, omitting it will\n     // be set as `image` by default\n     src: 'http://placehold.it/350x250/79c267/fff/image3.jpg',\n     height: 350,\n     width: 250\n },*/\n,\nnoAssets: 'No assets',\nupload: base_url+'superadmin/qsm/upload/uploadGrapes',\nuploadName:'file',\nautoAdd: 1,\ndropzone: 1,\n\n},\n});\n```\nVersion :  0.12.17 . ",
    "leantorres73": "@artf I can work on it if you give me the indications, or if you want I can propose something.. https://github.com/artf/grapesjs/issues/456. ",
    "ShubhamProgrammer": "@artf , i am new to this.  can we customise the video component i.eadding of  id/Src/link  by which the video play after the drag of video component over canvas.\nplz help\nthnx. @artf  ,i am new to grapesjs problem in allowing of video id/link/src  on the video component and can easily drop the video component over canvas  ..\n. ",
    "perfect-coders": "I have make one custom pop up in grapejs and opening on element click. So I want when user click on the element , a pop up will open and the pop will be selected by default.\nNow what happens, I am opening a pop up element on click of link element, the pop up will show, but the control will be still on the link element, I want the control to be shifted to the pop up div.. I have tried a lot of ways but didn't solve this. Is there any way in grapes which is used to select the another component.. We open and close any setting like \"General\" etc when we click on settings text. Suppose I have opened the general settings and after that I opened the dimension settings. So I want when user click on dimension setting, general settings will be automatically closed.. Is it possible to rename and render it again as with changed labels on the layer manager.. Thanks very much for the quick answer. I always love your quick feedback. \nI have some investment options for you. Hope to hear from you soon.. yes. @chapterjason - Thanks for the reply. but this didn't solve my problem. I don't want user to select element and change the states. I want to change the colours, thickness permanently for the whole editor. Means it doesn't depend on the user. I want to change it for the editor permanently.. This is how the gradient property is coming.\n\nAnd this is how I am doing\n / Page Settings /\n                              {\n                                name : 'Page Settings',\n                                open : true,\n                                buildProps : ['background-color','background','background-repeat','background-size','background-position', 'background-attachment'],\n                                properties : [\n                                        {\n                                          name: 'Gradient',\n                                          property: 'background-image',\n                                          type: 'gradient',\n                                          defaults: 'none'\n                                        },\n                                        {\n                                        property : 'background-color',\n                                        name: 'Background Color', \n                                        },\n                                        {\n                                            property : 'background',\n                                            name: 'Background Image', \n                                        },\n                                        {\n                                        property : 'background-size',\n                                        name: 'Sizing', \n                                        },\n                                        {\n                                        property : 'background-position',\n                                        name: 'Alignment', \n                                        },\n                                        {\n                                        property : 'background-repeat',\n                                        name: 'Repeat', \n                                        },\n                                        {\n                                        property : 'background-attachment',\n                                        name: 'Attachment', \n                                        },\n                                    ]\n                              },    \nplease see this fiddle \nhttps://jsfiddle.net/3h7bthy3/#&togetherjs=GH3IytSyog. ",
    "mathieuk": "I suspect #287 is actually the same question.. Yes, I've used that and I've pretty much got that working. The difference is that I am not using a text placeholder like you are. I'm actually inserting a block (with a corresponding 'type') so that I can further configure these placeholders (for instance, a field might be a Datetime field and my user may want to configure the exact output format for that datetime). I used HTML5 drag'n'drop to implement this and that works pretty nice, b\u00fat...\nIt feels like departing from the expected user interface. I feel I should be able to drag a mergefield from the 'blocks' and onto the right position. I've been toying around with the Sorter to allow this and I'm up to this:\n\nI now have the problem that the Sorter very much wants actual blocks to align to so I have some more tweaking to do.  For now implementing this has required changed in the ComponentTextView (mostly: dont clear out the toolbar for 'mergefields') and the Sorter (if I'm hovering a mergefield over a textblock, insert HTML into the activeRTE instead of appending a block).\nI'm currently working on making the dragging work more reliably (for some reason, whenever I drag right the field gets appended to the textnode instead of at the cursor position, works fine when dragging left :) ), making the sorter ignore the idea of 'blocks' when within a textfield, showing the proper placeholder in that case (I'd want to see the actual cursor) and cleaning things up.\nNot sure on how to approach the Sorter issue at this point, short of specialcasing textblocks so if you have any ideas in that area I'd love to hear them. You can see some of the hacky code I've made so far over at https://github.com/mathieuk/grapesjs/commit/d58c5ee5306c358cd19509f6b8affe9bb60493ed .\n. @artf so, I've taken your advice and went that route and i now have a fairly functional situation where it lets you drag a mergefield onto a textview, lets you move it around and lets you move it between textviews and other blocks. \n\nYou can see my implementation over at https://github.com/mathieuk/grapesjs/tree/mergefields/src .\nWould you be interested in having this in core? Would you need any additional changes for that? . @artf Great! Any ideas on what form that should take? The merge fields approach that I'm using is kinda specific to our solution where we process the JSON generated by GrapesJS server-side. Any suggestions as to what type of sample block we should add to be draggable onto the textfield by default? . I haven't had the time to work on this any further yet, sorry @artf. I might later this year. @LKozakewycz I'm a bit rusty on the details, but I recall that having to set ContentEditable was crucial to getting accurate ranges from the textselection APIs in the various browsers. That is: the textblock must be in content-editable mode during the whole time you're dragging the mergefield over it. That was one of the challenges of getting it right.. \nDoes that help?. Duplicate with #481 . ",
    "kickbk": "Hmm, exactly what we need as well. Would love to see such functionality merged into the core.. For those looking for a ckeditor 4 merge fields plugin, this works: https://github.com/57u\nTo activate:\n'gjs-plugin-ckeditor': {\n    options: {\n        ...\n        extraPlugins: '...,strinsert',\n        toolbar: [\n            ...\n            {name: 'Merge Fields', items: [ 'strinsert' ]},\n        ],\n        strinsert_strings: [\n            {'value': '*|FIRSTNAME|*', 'name': 'First name'},\n            {'value': '*|LASTNAME|*', 'name': 'Last name'},\n            {'value': '*|INVITEURL|*', 'name': 'Activate invite URL'},\n        ],\n        // Optionally add the below settings\n        strinsert_button_label: 'Merge Fields',\n        strinsert_button_title: 'Insert Merge Field',\n        ...\n    }\n},. Got the same and @roytang's comment is true, disabling dropzone takes care of it. always using the latest version of course.. @artf you're referencing FA in https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.37/css/grapes.min.css with ...'FontAwesome';src:url(\"../fonts/fontawesome-webfont.eot?v=4.7.0\")\nso cloudflare is trying to load the fonts from https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.37/fonts/fontawesome-webfont.woff2?v=4.7.0\nwhich doesn't exist, and if it did, it would be throw CORS errors on localhost dev environments and non-ssl websites.\nI'm not sure what the solution should be. Personally, I would load FA separately from grapesjs.css. In many cases we load FA with CDN anyway.. @artf Any chance we could keep classes optional so we could either use a CSS class or a SVG as icons? This way we can load whatever lib we want (FA, Ionicons, etc.) and done, instead of designing svg icons ;). @artf Perfect solution.. Thanks for replying guys. I traced the issue to my custom components' Traits.\nWhat's triggering it is that I load default values for traits:\n```\nexport default (editor, {\n    dc, opt, defaultModel, defaultView, coreMjmlModel, coreMjmlView\n}) => {\n    const type = 'mj-my-component';\ndc.addType(type, {\n\n    model: defaultModel.extend({ ...coreMjmlModel,\n\n        defaults: { ...defaultModel.prototype.defaults,\n            'custom-name': 'Footer',\n            draggable: '[data-type=mj-column]',\n            droppable: false,\n            stylable: [...],\n            style: {...},\n            traits: [\n                {\n                    name: 'organization-content',\n                    label: 'Organization Name',\n                    default: 'TEST', // << HERE IS THE ISSUE\n                },{...}\n            ],\n\n...\n```\nAs you can see my plugin extends on grapesjs-mjml.\nChanging default to value gives the same error.\nIs this the wrong way to load defaults to traits?. Hi @artf glad you found the cause and fixed. It's causing your grapesjs-mjml to fail, like the demo page which doesn't load. Is this issue related to the Traits default value overriding chosen values when updating styles? See https://github.com/artf/grapesjs-mjml/issues/50. @artf thanks for pushing a temporary release. It's still running into issues with the Social component in mjml. Steps to reproduce: add \"google\" to the \"display\" string. Click on the Styles tab, select an icon color for Facebook and watch the Google button disappear.\nI debugged this and for some reason when you update styles (handleStyleChange()) it loads the default trait/style value disregarding the trait updated value, so in the case of \"display\" it reverts to the default set in Social.js under components.\nI spent a few hours on it and still can't pinpoint the issue.\nBTW \"style-default\" doesn't really work. Changing to \"style\" bring shows the default icon colors.. \nUsing Mac Chrome. Same on Safari and FF.. Seems to have propagated. Missed it in the docs.. @maryia-kabash seems to work. Thanks!. @art here's a mockup to get the idea across. Not I am using BS to style the buttons.\nSo you click on an image to highlight and Import to close.\nCurrently when you click it already replaces the image but the modal does not close. It is hard to tell what happened and there's no close button. So perhaps we could make it a little bit more intuitive? Possibly with a Cancel button as well?\n\n. Sorry... did not mean to close the issue.. indeed. Perhaps as an option to activate and change the title on the button so it doesn't disrupt anything.. When I do wrapper.find(img[src=\"${src}\"]) I get an empty array. In fact, I get an empty array on wrapper.find(img) as well.\nI am getting the wrapper, it just seems to have no images inside it. Are we querying the wrong element?\n. I know what's going on. I am using the MJML project.\nWhen running\nvar domComponents = editor.DomComponents;\nvar wrapper = domComponents.getWrapper();\nwrapper.find(\"img\")\nHere are the results per project:\nhttps://grapesjs.com/demo-newsletter-editor.html\n=> (6)\u00a0[i, i, i, i, i, i]\nhttps://grapesjs.com/demo-mjml.html\n=> []\nAny ideas?. Let me demonstrate. I am going to double click a text field and then move around and try to click inside.\nThis is v0.14.40 - Works\n\nThis is v0.14.43 - Has the issue.\n\nAnd same issue on https://grapesjs.com/demo-mjml.html. v0.14.43 - has the issue\n\n. @artf I don't wanna be a pain, but would you please have a look at this issue? It's the same with v0.14.49 and you can see this bug on your demo page https://grapesjs.com/demo-mjml.html. Resolved:\nThe issue happens with the functions enableEditing and disableEditing in the mjml components.\nTo fix, replace those functions with the new ones, however, I also update the pointerEvents to none on disable and all on enable.\nThis can be applied to any component you need to enable and disable editing on.\n```\n// place inside gjs-mjml/components/Text.js\n...\nevents: { // We need this to listen to the double click event\n    dblclick: 'onActive',\n},\nonActive(e) {\n    // We place this before stopPropagation in case of nested\n    // text components will not block the editing (#1394)\n    if (this.rteEnabled || !this.model.get('editable')) {\n        return;\n    }\n    e && e.stopPropagation && e.stopPropagation();\n    const rte = this.rte;\nif (rte) {\n    try {\n    this.activeRte = rte.enable(this, this.activeRte);\n    } catch (err) {\n        console.error(err);\n    }\n}\n\nthis.rteEnabled = 1;\nthis.toggleEvents(1);\n\nthis.getChildrenContainer().style.pointerEvents = 'all';\n\n},\ndisableEditing() {\n    const model = this.model;\n    const editable = model.get('editable');\n    const rte = this.rte;\n    const contentOpt = { fromDisable: 1 };\nif (rte && editable) {\n    try {\n        rte.disable(this, this.activeRte);\n    } catch (err) {\n        console.error(err);\n    }\n\n    const content = this.getChildrenContainer().innerHTML;\n    const comps = model.get('components');\n    comps.length && comps.reset();\n    model.set('content', '', contentOpt);\n\n    // If there is a custom RTE the content is just baked staticly\n    // inside 'content'\n    if (rte.customRte) {\n        // Avoid double content by removing its children components\n        // and force to trigger change\n        model.set('content', content, contentOpt);\n    } else { // Not in use since we use a custom rte\n        const clean = model => {\n            const selectable = !['text', 'default', ''].some(type =>\n                model.is(type)\n            );\n            model.set({\n                editable: selectable && model.get('editable'),\n                highlightable: 0,\n                removable: 0,\n                draggable: 0,\n                copyable: 0,\n                selectable: selectable,\n                hoverable: selectable,\n                toolbar: ''\n            });\n            model.get('components').each(model => clean(model));\n        };\n\n        // Avoid re-render on reset with silent option\n        model.trigger('change:content', model, '', contentOpt);\n        comps.add(content);\n        comps.each(model => clean(model));\n        comps.trigger('resetNavigator');\n    }\n}\n\nthis.rteEnabled = 0;\nthis.toggleEvents();\n\nthis.getChildrenContainer().style.pointerEvents = 'none';\n\n},\n...\n```. See https://github.com/artf/grapesjs-mjml/pull/92. ",
    "gordon-matt": "@mathieuk / @artf   I'm desperate for this functionality right now as well. Any idea when this will be merged to core?. I have updated the original issue with a workaround and made a suggestion. Feel free to close either this issue or the original under the MJML repo, as per your preference.. OK I think I see how it works. I'll give that a try, thanks.. ",
    "tvkit": "Any progress on this cool capability, @mathieuk ?. ",
    "LKozakewycz": "@mathieuk @artf \nI'm looking at using the textable method and have built grapesjs with your implementation but I'm still struggling to get the component to drop into the middle of the RTE. Was there something specific you did to get this to work?. @mathieuk - I've been working on it lately and have so far come up with this, very similar to yours:\n\nI know for a fact that setting contenteditable=\"false\" on the merge field component itself will let the RTE know it is to be handled as a whole block, because unfortunatly at this moment the RTE will see it as just more editable text (i.e, you can edit the text inside the component). By doing this, you can use backspace to delete the merge field as a whole. \nThe trick is... trying to set contenteditable as a permanent attribute. I don't know if it's the RTE activation, but I'm working out how to get contenteditable to stick.. Found it. Set contenteditable attribute on the component to false and ensure the attribute is not skipped over if explicitly set.\njavascript\n//... ParserHtml.js\n          } else if (nodeName == 'contenteditable') {\n            // Explicitly set contenteditable attributes should not be ignored\n            if ( nodeValue === 'false' && !model.editable ) {\n              model.attributes[nodeName] = 'false';\n            }\n            continue;\n          }\n//...\nI'll be doing some more work on this and hopefully share in the future.. @artf In this case, contenteditable is set to false on the merge field only because it let's the merge field show as a single block and not a bunch of characters. It stops the cursor from accessing the contents of the merge field block and allows for deleting it entirely using backspace. \nIn my version, I intend to use modals to display an advanced merge field selector which can be populated by meta data in my back-end. One of the challenges with this is trying to understand why the modal doesn't appear automatically when I drop it in the canvas (just like the image block).. ",
    "BlazedCode": "@mathieuk Thank you so much for sharing this idea with everyone.\nI'm trying to implement something exactly like this into an email template editor that we are busy developing. I have some of it working, tested a couple of different methods to get something like this working. \nThe idea to use a \"input tag\" works nicely. However, how do you plan on allowing the user to style the placeholder/merge-field value (For example, make it bold or change the color)?\nAnother big issue that I'm stuck with is replacing the \"placeholder tag\" server side to save the email template. Are you using a tool to replace it with a \"span\" tag or something? And how do you identify the variable value from the mergefield/placeholder (for example firstName or invoiceNumber), to know what to replace it with on the server side?\n. Hi @jvillena. Would you mind sharing some of your code please? I'm attempting to do the same thing but I just can't figure it out. I keep adding  tags as \"placeholders\" to insert the variable values, but they are always added to the front of the string and not at cursor position. Else if I do it another way, then the cursor keeps adding text into the span tag instead of behind it.\nIn short I can't figure out how to insert the text at cursor position.\n\n@artf You're right I updated the code only triggering on the event change in the component selected and then it was working fine.\n\nI don't understand how did you change it to trigger on the event change in component select?\n\nThe issue is when saving the HTML content the changes are not reflected on it.\nI also have the same issue.\n\nThis is what I tried:\n```    //Option 1: Add placeholder/mergefield options to rich text editor\n    rte.add('mergefield', {\n        icon: '{ # }',\n        name: 'merge-field',\n        attributes: { title: 'Merge-field'},\n        result: rte => {\n            const anchor = rte.selection().anchorNode;\n            const nextSibling = anchor && anchor.nextSibling;\n            if (nextSibling && nextSibling.nodeName == 'span') {\n                rte.exec('unlink');\n            } else {\n                var tag = ' {{ merge-field }} '; //class=\"gjs-mergefield\"\n                rte.insertHTML(tag);\n            }\n        }\n    });\n    domComps.addType('mergefield', {\n        model: dModel.extend({\n            toolbar: [{\n                    attributes: { class: 'fa fa-arrows' },\n                    //command: 'tlb-move',\n            }],\n            defaults: Object.assign({}, dModel.prototype.defaults, {\n                'custom-name': \"Merge field\",\n                tagName: 'span',\n                class: 'merge-field',\n                badgable: true,\n                highlightable: true,\n                editable: false,\n                droppable: false,\n                draggable: true,\n                removable: true,\n                traits: [{\n                    label: \"mergefield\",\n                    type: 'select',\n                    name: 'value',\n                    options: [\n                      { value: 'user.firstname', name: \"user.firstname\" },\n                      { value: 'user.lastname', name: \"user.lastname\" },\n                      { value: 'company.name', name: \"company.name\" },\n                      { value: 'company.business_regnr', name: \"company.business_regnr1\" },\n                      { value: 'system.date', name: \"system.date\" },\n                    ]\n                }], \n                style: {\n                    display: 'inline-block',\n                    border: '1px dashed #455699',\n                    'text-align': 'center',\n                    'background-color': '#BDCDF4',\n                    'padding': '3px',\n                    'border-radius': '5px',\n                    'color': 'black'\n                },\n            }),\n        }, {\n            toolbar: [{\n                    attributes: { class: 'fa fa-arrows' },\n                    command: 'tlb-move',\n                }],\n            isComponent(el) {\n                if (el.tagName == 'SPAN' && el.dataset.mergefield == \"1\") {\n                    return { type: 'mergefield' };\n                }\n            },\n        }),\n        view: dView.extend({\n            events: {\n                'click': function (e) { console.log(\"click\"); },\n                'keydown': function (e) {\n                    if (e.key == 'Backspace') {\n                        e.target.parentNode.removeChild(e.target);\n                    }\n                }\n            },\n        }),\n    });\n. Apologies for the bump. Any feedback on my question?. ",
    "chris-robbins": "@artf When applying this method for merge tags, the options drop down is duplicated when leaving and re-entering the editor. I assume it is caching the command and adding the custom-vars icon everytime, can you explain how to avoid this? \n\n. @artf what about doing this only for specific blocks?\n. @artf I am trying to use this to generate auto save for both local and remote storage. Is this possible? I want the default local storage to stay the same, and on every 5th change to the editor save to remote storage. Here's what I tried: \n```\nconst remoteStorageManager = (propData, stateData, Editor, GenerateHTML) => {\n  const json = JSON.stringify({\n    components: Editor.getComponents(),\n    style: Editor.getStyle(),\n  });\n  const css = Editor.getCss();\nconst html = Editor.getHtml();\nconsole.log('HTMLfrom auto save', html);\nconst htmlPage = GenerateHTML(css, html);\n  const storageManager = Editor.StorageManager;\n  storageManager.add('remote', {\n    store() {\n      propData.autoUpdateTemplate(htmlPage, json);\n    },\n  });\n  storageManager.get('remote').set({\n    id: 'kw-',\n    autosave: true,\n    stepsBeforeSave: 5,\n  });\n};\nexport default remoteStorageManager;\n```. ",
    "richieteh94": "Hi, I updated my grapesjs to v0.12.25\nScenario : \nI pull a section into the drop area and the image below shows the code.\nI did not change any code inside the area.\nAfter I press the EditCode Button it will chop down the CSS from the original and add into the existing CSS (this makes duplicate of style that causes the normal change[not with edit code] of margin or padding unable take effect).\nBefore press Edit Code button:\n\nAfter press Edit Code button:\n\n. thanks @artf I will try to find a solution for it and update here if any solution appears.. @thecodefish thank you for the solution.\nyou saved my day. :). hi @artf the error is \n\nI tried changed the context.Response.ContentType = \"application/json\"; but still get the above error\nand my response from service is as below\n\nthe response get by using Fiddler 4.\nand I would like to check whether the require response as above because it is weird that response from #138 where the one of the response does not have any key.. I know where is the issue. It is my directory used by other process therefore it cause Error that catch at the end.\nI think i need to change the code in the service to solve the problem.\nThanks @artf  for assisting me in this time.\n  . when use SHIFT + \"Enter\" to break line in text it will create <br/> tag instead of creating a new component maybe is rich text editor behavior (using default rte not using CKEditor). . ",
    "chiqui3d": "@thecodefish , Exactly where should I add the code to fix the duplication of style?. I think, that this should automatically inject the css that have been injected with the canvas option and this one doesn't, why?\nThat is, if I add css with:\ncanvas: {\n      styles: ['./styles.css'] \n      }\nwhen exporting should add it\n. @ryandeba I have a problem, I'm doing when they click on the component also opens the modal to edit the html, but when I add paragraphs, header or another type of component this is superimposed on the html-block, it's possible to block that the inner components are not selected?. thanks @ryandeba,\nI have additionally added the following to your code.\nisComponent: function(el) {\n                    if (el.hasAttribute && el.hasAttribute(\"data-html-code\")) {\n                        return { type: \"html-code\", components: el.innerHTML };\n                    }\n                }\n            }),\n            view: defaultType.view.extend({\n                events: {\n                    click: 'handleClick',\n                },\n                handleClick: function(e) {\n                    editor.runCommand(\"open-html-code-editor\");\n                },\n                render: function() {\n                    defaultType.view.prototype.render.apply(this, arguments);\n                    return this;\n                },\n            }),\n        });\nThe problem I have is when I edit that html in the Modal and I add a paragraph, it shows me the badge text and selects the text, when I want it in this case I select the html-code component, , all the internal code of this component could only edit through the Modal, that is possible to do it?\nAnd that way i'll have to avoid clicking arrow to move a component up and avoid confusion\n. @ryandeba awesome, works well. I have already understood a little more. Thank you very much :). Hello again @ryandeba @artf \nThis is crazy, now when I save in the database and reload the page I can't select the component, and actually component has been saved correctly with the div and with data-html-code attribute.\nThe full plugin code is:\n```\ngrapesjs.plugins.add('html-block', function(editor, options) {\n    options = options || {};\naddHTMLCodeEditor();\naddHTMLCodeComponent();\naddHTMLCodeBlock();\n\nfunction addHTMLCodeEditor() {\n    editor.Commands.add(\"open-html-code-editor\", {\n        run: function(editor, sender, data) {\n\n            var codeViewer = editor.CodeManager.getViewer(\"CodeMirror\").clone();\n            codeViewer.set({\n                codeName: \"htmlmixed\",\n                theme: \"hopscotch\",\n                readOnly: false\n            });\n\n            var modalContent = document.createElement(\"div\");\n\n            var editorTextArea = document.createElement(\"textarea\");\n\n            var saveButton = document.createElement(\"button\");\n            saveButton.innerHTML = \"Save\";\n            saveButton.className = \"gjs-btn-prim\";\n            saveButton.style = \"margin-top: 8px;\";\n            saveButton.onclick = function() {\n                var content = codeViewer.editor.getValue();\n                editor.getSelected().set(\"content\", content);\n                editor.Modal.close();\n            };\n\n            modalContent.appendChild(editorTextArea);\n            modalContent.appendChild(saveButton);\n\n            codeViewer.init(editorTextArea);\n\n            var htmlContent = document.createElement(\"div\");\n            htmlContent.innerHTML = editor.getSelected().toHTML();\n            htmlContent = htmlContent.firstChild.innerHTML;\n            codeViewer.setContent(htmlContent);\n\n            editor.Modal\n                .setTitle(\"Edit HTML\")\n                .setContent(modalContent)\n                .open();\n\n            codeViewer.editor.refresh();\n        }\n    });\n};\n//inner components not selectable\nfunction addHTMLCodeComponent() {\n    var defaultType = editor.DomComponents.getType('default');\n\n    var _initToolbar = defaultType.model.prototype.initToolbar;\n\n    editor.DomComponents.addType('html-code', {\n        model: defaultType.model.extend({\n            defaults: Object.assign({}, defaultType.model.prototype.defaults, {\n                'custom-name': \"HTML CODE\",\n                classes: [\"container-html\"]\n            }),\n            initToolbar(args) {\n                _initToolbar.apply(this, args);\n\n                var toolbar = this.get(\"toolbar\");\n                toolbar.push({\n                    attributes: {\n                        \"class\": \"fa fa-code\"\n                    },\n                    command: \"open-html-code-editor\",\n                });\n                this.set(\"toolbar\", toolbar);\n            }\n        }, {\n            isComponent: function(el) {\n                if (el.hasAttribute && el.hasAttribute(\"data-html-code\")) {\n                    return {\n                        type: \"html-code\",\n                        content: el.innerHTML,\n                        components: []\n                    };\n                }\n            }\n        }),\n        view: defaultType.view.extend({\n            events: {\n                dblclick: 'handleClick',\n            },\n            handleClick: function(e) {\n                e.preventDefault();\n                editor.runCommand(\"open-html-code-editor\");\n            },\n            render: function() {\n                defaultType.view.prototype.render.apply(this, arguments);\n                return this;\n            },\n        }),\n    });\n\n};\n\nfunction addHTMLCodeBlock() {\n    editor.BlockManager.add(\"html-code\", {\n        attributes: { class: \"fa fa-code\" },\n        label: \"HTML Code\",\n        content: `<div data-html-code>Click To Edit The HTML Code</div>`\n    });\n};\n\n});\n``\nBesides, if I remove from the function isComponent()components: []`, it duplicates the content by two, I can't find the meaning, but in this case lets me edit the component.\nCan you help me please?\n. Hello @artf  I don't see in grapesjs  the plugin table. Has this one finally been released?. @artf Any news Font Awesome 5?. Ok I'll try to create a PR, thanks for everything.. Hello @artf , \nNothing happens, I mean that I have created a block, and clicking doesn't do anything, componets is not the attribute to display the html?\nhere my code:\nbm.add('link-replace', {\n        name: 'link-replace',\n        category: 'Extra',\n        label: 'Link Replace',\n        content: {\n            removable: false,\n            draggable: false,\n            droppable: false,\n            script: \"console.log('the element', this)\",\n            components: \"<h2>Test Block</h2>\",\n            content: \"<h2>Test Block</h2>\",\n            traits: [{\n                label: 'Link Replace',\n                name: 'link-eplace',\n                changeProp: 1,\n            }],\n            style: {\n                width: '100px',\n                height: '100px'\n            }\n        },\n        attributes: {\n            title: 'Link Replace',\n            class: 'fa fa-external-link'\n        }\n    });\nThe only thing I want to do, is to show an input URL type, for replace all links of canvas. or is there another better way for this?\n. Please @artf , you can tell me solutions?. @artf Maybe I'm trying to do it can't be done, i. e. click on \"Link Replace\" and show options inside the panel?\nI've created a https://jsfiddle.net/ccrmoubq/4/. @artf I don't want it to be draggable and I don't want to drag it into the canvas. I just want to click on the Link Replace block button, this show an input to put URL and a submit button (these options as Style Manager does, which shows the options inside the panel).\nThis can be done with the block?\nIt occurs to me now, that if this can't be done. I will create another panel on the side and add options.. It's the same with me.. Solved with:\neditor.on('stop:preview', () => editor.stopCommand('sw-visibility')). @artf It would not be ideal to add an order option like this for blocks and panels.\nbm.add('section-hero', {\n        label: 'Hero section',\n         order:1, // 1,2,3,4...\n        category: 'Sections',\n        content: '<header class=\"header-banner\"> <div class=\"container-width\">' +\n            '<div class=\"logo-container\"><div class=\"logo\">GrapesJS</div></div>' +\n            '<nav class=\"navbar\">' +\n            '<div class=\"menu-item\">BUILDER</div><div class=\"menu-item\">TEMPLATE</div><div class=\"menu-item\">WEB</div>' +\n            '</nav><div class=\"clearfix\"></div>' +\n            '<div class=\"lead-title\">Build your templates without coding</div>' +\n            '<div class=\"lead-btn\">Try it now</div></div></header>',\n        attributes: { class: 'gjs-fonts gjs-f-hero' }\n    });. @artf These changes when they will be published?. Solved with removeButton. Yes @artf , you're right, I just updated it, I hope it's understood now.. thanks @artf , but now I have another error:\nUncaught TypeError: Cannot read property 'set' of null\nAnd this is the complete code:\neditor.Commands.add('open-assets', {\n     run(editor) {\n    editor.getSelected().set('src',\"http://via.placeholder.com/350x150\");\n   }\n});\nand also not with:\nthis.$el.attr('src',\"http://via.placeholder.com/350x150\");\nIt only happens when I drag the image block, editing the image does it well.\n. I think this will help you.\neditor.runCommand('open-assets');\nhttps://github.com/artf/grapesjs/wiki/Assets. the same problem with the images:\n\n. yes exactly, thanks very much. @artf Yes you're right, I didn't think of it that way, now I see the meaning.. OK, but then I can never edit the previously created iframe src, or I can do is create a div envelope with editor on load in the view, for iframe elements not created from grapesjs, right?\nthanks @artf . enveloping the th text in a paragraph, works well. \nbut as I said before you plan to add custom table options, for the borders and general table color.. Check this\nhttps://github.com/artf/grapesjs/issues/266. @artf I need your advice please, I've been reviewing this Issues and the one it refers to, but I can't find a way to make it easier and make it work.\nI'll give you my example:\nIn identifier #gjs, I load all the content, including the header, footer and sidebar, but I just need to change the content that is under the myeditable ID, I have tried this, but I can still select and edit things from the header, well everything in general.\nI don't know if I explained myself, I hope you can help me solve this problem, as this is the best way to edit a page which has its under a CMS.. Well I think what's solved at the moment this way, not if it's right:\nJust after the body I wrap a div container with the following code:\n<div class=\"mycontent\" data-gjs-badgable=\"false\" data-gjs-droppable=\"false\" data-gjs-highlightable=\"false\" data-gjs-selectable=\"false\" data-gjs-editable=\"false\" data-gjs-removable=\"false\" data-gjs-draggable=\"false\" data-gjs-propagate='[\"badgable\",\"droppable\",\"hoverable\",\"highlightable\",\"selectable\",\"removable\",\"editable\",\"draggable\"]'>\nThen I just put this on the div I want edited:\n<div class=\"entry__article\"  id=\"myeditable\" data-gjs-stop=\"1\" data-gjs-badgable=\"true\" data-gjs-droppable=\"true\" data-gjs-hoverable=\"true\" data-gjs-highlightable=\"true\" data-gjs-selectable=\"true\" data-gjs-editable=\"true\" data-gjs-removable=\"true\" data-gjs-draggable=\"true\" data-gjs-removable=\"true\" data-gjs-draggable=\"true\">\nThere is an option to make it global, i.e. you don't have to set each option manually data-gjs-*=\"false\" or data-gjs-all=\"false\".\n. Great observation mate, it was that, the problem came from the body that had the overflow: hidden;\nThanks very much @juanj  . @artf\n I tried to do it in a different way, but it was impossible for me, I think it no longer loses focus, but I think the view is not updated, and I honestly don't understand :( Looks like Backbone doesn't want to update the view.\nhttps://jsfiddle.net/5s80kxzm/4/. I don't know if it's the right way, but I got it this way:\njs\n    const rte    = editor.RichTextEditor;\n    rte.remove('link');\n    rte.add('link', {\n        icon: `<i class=\"fa fa-link\"></i>`,\n        attributes: {\n            title: 'Link',\n        },\n        result: rte => {\n            const anchor      = rte.selection().anchorNode;\n            const nextSibling = anchor && anchor.nextSibling;\n            if (nextSibling && nextSibling.nodeName === 'A') {\n                rte.exec('unlink');\n            } else {\n                const html = `<a data-gjs-type=\"link\" class=\"link selected\" href=\"#\">${rte.selection()}</a>`;\n                rte.insertHTML(html);\n                const selectedText      = editor.getSelected();\n                const selectedTextInner = rte.el.innerHTML;\n                selectedText.set('content', selectedTextInner);\n                editor.select(selectedText.find('.selected'));\n                editor.getSelected().removeClass('selected');\n            }\n        }\n    });. Thank you @artf , but I still see that this is only valid for one panel, I do not see the way to have two panels, one for some blocks with their categories and another to have other blocks with other categories.  \nThis makes it impossible for me to have a presets panel independent of the normal blocks, because I could add it manually, but then I wouldn't be able to implement the functions your API.. Isn't there any way to have two panels with different blocks?. Hey @artf ,\nworks correctly, but only one problem, when I have two panels, one with external option, the category is added in the two panels. is there any possibility of fixing this?\n I have tried find the category by class in the generated html, but does not create any class i.e. category-basic to identify it through the container.\nCurrently the class that generates the block of categories is as follows:\n<div class=\"gjs-block-category gjs-open\"></div>\nbut it should be something like this or some similar, if the category where the block name is added like 'Basic';\n<div class=\"gjs-block-category category-basic gjs-open\"></div>\nSo through the panel container I can remove the category, although I think there has to be some better way to avoid duplication, but equally it will be a good idea to add the category name to the class.\nThank you for everything.. ",
    "ryandeba": "Thanks @artf! Here's the pull request: https://github.com/artf/grapesjs/pull/496. Thanks @artf! I was able to get this working very quickly with your suggestion. . @giannis4119 I'm not actively working on this at this time, but I may get back to it at some point in the future.. @enricribas As far as I know, there are no default blocks built into the core of grapesjs, however there are plugins available that will add some blocks for you. Check out https://github.com/artf/grapesjs-blocks-basic.\nI believe the \"screen size\" icons have been replaced with the \"Device\" select in the top-left corner. You might look into what the newsletter preset plugin does to convert those back into buttons - https://github.com/artf/grapesjs-preset-newsletter. I am also interested in this functionality. I'm trying to test this out with the grapesjs-preset-newsletter plugin as mentioned in these comments but I'm not seeing it working as desired. Starting with the demo, I cleared out all of the existing content, then dropped in the \"1/2 Section\" block, then called editor.getHtml(), and this is my result: <table class=\"c3445\"><tr><td id=\"c3457\"></td><td id=\"c3461\"></td></tr></table>. I was expecting to see inline styles on the table and td elements...am I doing something wrong?. Hi @duskhacker,\nI was able to recreate the issue of the onClick event firing when clicking on the X (jsfiddle in case anyone else cares to see it: https://jsfiddle.net/8v946q4b/3/). Sorry I don't have a lot of time to debug this myself at the moment (I may have time to research this tomorrow if you're still having trouble), but it appears to me to be a bug that should get fixed in the AssetImageView object. I see the onRemove method starts by calling e.stopPropagation(), which I believe is attempting to prevent the onClick method from firing, but that doesn't appear to be working if that is indeed the intent. My guess is that onClick is firing before onRemove for some reason, but I'm not sure this is the case nor why that would be happening.. @duskhacker - I've submitted a pull request that should fix this bug\nhttps://github.com/artf/grapesjs/pull/560. No problem! I'm happy to help out. That's a good point about removing the value from an attribute... not sure what the right solution for that is other than just removing the attribute rather than clearing it's value.\nI was trying to think of a way to distinguish between boolean attributes vs. attributes that have an empty string value, but couldn't think of a good solution. There's not really a good way to programmatically add a boolean attribute right now either, other than setting it's value to an empty string. Maybe boolean attributes should be stored separately from non-boolean attributes? I don't know...feel free to share any thoughts you have on how to improve this and I can take another pass at it if you want.\nAnyways, thanks for the merge!. Hi @g41n,\nCan you provide a jsfiddle (or equivalent) showing the issue? I just put this together which first sets the body background color to blue, and then clears that style 2 seconds later: https://jsfiddle.net/gn3jtahv/. That seems to work just fine for me (also tested using editor.CssComposer.getAll().reset() with the same result), so I'm guessing that you're doing something differently...\n. Thanks for the additional details! I can confirm that I have been able to recreate the issue, but I'm not sure what the next steps need to be. \n@artf - would you mind sharing your thoughts here? Is this a bug or are our expectations about editor.setStyle() (and/or editor.CssComposer.getAll().reset()) different from the intended use?. Hi @baxxos,\nAre you trying to do something like this: https://jsfiddle.net/ztqsugaw/3/? . Unfortunately I am not aware of a simple way to get a specific component object without recursively iterating through them to find the one you want, but that sounds like a great idea!\nYou might be able to do something like this to get all components and then filter for the one that you want (this code is not fully tested, but hopefully can get you started in the right direction if you're stuck):\nfunction getAllComponents(component) {\n    component = component || editor.DomComponents.getWrapper();\n\n    var components = component.get(\"components\").models;\n    component.get(\"components\").forEach(function(component) {\n        components = components.concat(getAllComponents(component));\n    });\n\n    return components;\n};\n\ngetAllComponents().filter(function(component) { return component.cid == \"someID\"; } )[0]. Thanks for the feedback! I've created a couple of pull requests for these items, let me know if you want to discuss further.. This is the fix https://github.com/artf/grapesjs/issues/549. This is for the hoverable property discussed here: https://github.com/artf/grapesjs/issues/554. Hi @artf - I can probably take a look at this at some point. I've started by just removing the \"Clean table rows from non rows\" section in the table component (lines 54-68). Can you point me in the right direction of what problems this causes that need to be addressed?. Thanks! I'll try to get started on this in the next few days.. Hi @NorthstarTech,\nI just created a plugin (very early, could use some more work) that you may find helpful: https://github.com/ryandeba/grapesjs-html-block.\nYou should just be able to include that file in your project and include the plugin in your grapesjs init config:\ngrapesjs.init({\n...,\nplugins: ['html-block']\n})\nAfter doing that, you should see a new \"HTML Code\" block. Drag and drop it somewhere, select the element, and you should see a \"code\" button in the toolbar. Click the code button and you should get a modal that lets you edit the HTML content.\nLet me know if you run into any issues.. I believe this issue has been resolved and could be closed based on the first comment here: https://github.com/ryandeba/grapesjs-html-block/issues/1. @NorthstarTech could you confirm or reply with additional details if you want to keep this issue open?. @chiqui3d You could replace this with the following code:\nsaveButton.onclick = function() {\n    component.components(\"\"); // you really shouldn't need this... try removing it and see if it causes any issues\n    component.set(\"content\", codeViewer.editor.getValue());\n    editor.Modal.close();\n};\nFYI - commenting on closed issues like this one can make easy for me to completely miss your message. Luckily I got an email notification since you tagged me and had free time to respond, but in the future it would be best to open a new issue.. @chiqui3d Change the isComponent function to this to prevent the initial internal html from getting parsed by grapesjs into components:\nisComponent: function(el) {\n    if (el.hasAttribute && el.hasAttribute(\"data-html-code\")) {\n        return {\n            type: 'html-code',\n            content: el.innerHTML,\n            components: []\n        };\n    }\n}\nThe other code I posted should prevent grapesjs from parsing the html after editing through the modal. The key to both is that you need to set the internal html into the content property instead of components.. I feel like I've ran into that issue before, but I don't remember what the solution was. I'll try to look into it soon. Would you mind creating a new issue here to for this problem? https://github.com/ryandeba/grapesjs-html-block/issues. Hi @matthewgertner,\nI believe this is can be enabled on individual components via the \"resizable\" property: component.set(\"resizable\", true). It's probably not going to work very well on elements having a display: inline style (a <span> for example), or elements where the height/width is set by % instead of pixels.\nThis is probably not the best way to enable this, but you could do something like this to see it in action: editor.on(\"component:selected\", function(args) { args[1].set(\"resizable\", true); });. Hi @markbailey,\nI was able to recreate that issue and submitted a pull request to fix it. The duplicated content only appears to be in the dom, not in the component properties, and forcing the view to render after editing seems to fix it.. You can just set the icon value to whatever markup you want. Here's an example using font awesome:\n...\nicon: '<i class=\"fa fa-list-ol\"></i>',\n...\nFYI - I've seen some discussion of removing font awesome from grapesjs. I'm not sure what the current plans are for that, but thought it was worth mentioning as this may not work in a future version without including font awesome in your own project.. Hi @NorthstarTech,\nCan you elaborate on what you mean by \"specific cursor position\"? Is that the beginning/end of the selection? Or is the target position more dynamic? A code example showing what you have so far (obviously it's OK that it's not going to be completely functional since you're asking about how to add some functionality) or a more complete description of what you want would be helpful for me to assist.\nFrom what I've seen the richtexteditor relies on browser contenteditable/selection APIs to insert content at specific positions/ranges, so I think you would want to start there. Check out the result function in the link action in the RichTextEditor object (line 40: https://github.com/artf/grapesjs/blob/688faaaa2a5be891545a45c086a735571d1fb67a/src/rich_text_editor/model/RichTextEditor.js). I think you're going to want to do something similar, but before calling rte.insertHTML(), you'll want to modify the currently selected range so that the content is inserted at the desired location. I think you can get access to the current selection/range through rte.selection().\nHere's a few links that may be helpful:\nhttps://github.com/artf/grapesjs/wiki/API-Rich-Text-Editor#add\nhttps://developer.mozilla.org/en-US/docs/Web/API/Selection\nhttps://stackoverflow.com/questions/3771824/select-range-in-contenteditable-div. Hi @NorthstarTech,\nI don't have a code example, but have you looked at https://github.com/artf/grapesjs/wiki/API-Style-Manager#addproperty? There's an example there that adds \"min-height\" - could you modify that example to fit your needs and report back with your code if you run into trouble?. Requirements for the project that I'm working on have changed which will likely make this issue irrelevant for me (all components are editable: false, except for a new custom component that will likely use CKEditor for the RTE).\nI think part of the problem (or possibly just confusion on my part) is due to the differences in how the ComponentTextView object parses child components after editing content via the RTE vs how the ParserHTML object parses components from HTML being set into the editor. The former leaves the parent component editable after links (or other HTML elements) are added through rich text editing, while the latter can leave text in an uneditable state if it contains links (or other non-text components). Now that I've got a better understanding of what's happening, it makes more sense to me. I think it's problematic if you need to set raw HTML content into the editor if that content has text that is a sibling to one or more non-text elements, but I don't know a good way to fix it. . Thank you @artf!. Hi @krunal039,\nMy best suggestion would be to listen for the component:add event. In the event listener function you could check to see if the added component is the type that you are looking for, and if more than one of those components now exist in the canvas then remove the one that was just added and inform the user. . Hi @krunal039,\nThe docs indicate that you can pass upload: false to disable it (see the comment in the \"Examples\" section). Have you tried doing that? I don't have time to test it out myself at the moment, but I'd be happy to help out more later if you try that out and are still having trouble.. Hi @NorthstarTech,\nI see that your code is including the grapesjs-plugin-ckeditor.js file. Are you also including that plugin when calling grapesjs.init() as shown here?. I'm not super familiar with the ckeditor plugin, but it does appear to that it is expecting the sharedspace ckeditor plugin (see here). I think you just need to be sure and include that plugin in your CKEditor configuration. Here's a link to that plugin, but I bet you could also do a custom build of CKEditor through their website and choose to include that from the Available Plugins list.. Hi @fsaiyedOB,\nI've been able to accomplish this with the component:update event listed here: https://github.com/artf/grapesjs/wiki/API-Editor#available-events\nMy code looks something like \neditor.on(\"component:update\", function() {\n  // do stuff here\n});. That's weird. Here's an alternate of the same version that doesn't have that issue: https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.12.45/grapes.js. Hi @Deepak813,\nThis doesn't really sound like a video component to me if you let users enter in whatever iframe code that they want. If the component lets you enter custom \"iframe code\", it seems like it would also let them enter some non-iframe HTML (<div>foobar</div>) or even valid iframe HTML that doesn't point to a video (<iframe src=\"http://github.com\"></iframe>). How would you want to prevent that? Do you have an example from another editor that you could link to? I'd be curious to see how those work, maybe I'm just not thinking through it very well.\nHave you considered just having an iframe component that exposes the src as a trait? Or maybe a \"Custom HTML\" component that lets users enter whatever HTML code they want (example: https://github.com/ryandeba/grapesjs-html-block)?. Thank you for the additional details @Deepak813 - I think I have a better idea of what you're trying to accomplish now. I would still be interested in seeing an example if you have one available. In the meantime, I will give some thought into how to achieve this.. Hi @krunal039,\nThe video component seems to do this already to some extent - see here. If you want to customize the traits further, you could probably do something like this (untested code, but copied and modified from something similar that I've done):\n```\nvar videoType = editor.DomComponents.getType('video');\neditor.DomComponents.addType('video', {\n    model: videoType.model.extend({\n        getYoutubeTraits() {\n            return []; // replace this empty array with your desired traits\n        }\n    }),\n    view: videoType.view\n});\n```. Hi @duskhacker,\nI agree that link inserting/editing is not as intuitive as I would like, and am currently working on customizing it through a plugin. Here's a brief outline of what I'm working on, let me know if you're interested and I can provide the code (it's currently buried in a single plugin with lots of other customizations, so I'd need to do some work to isolate it):\n- Link editing is done through a custom modal rather than the component settings\n- When creating new link through the RTE toolbar (clicking the \"link\" button), the modal immediately appears and allows you to configure the link options (href, title, content)\n- You can also open the modal by double clicking on an existing link. This kind of gets in the way of enabling the RTE, but I think it's a fair trade-off since you can edit the link content/text from the modal.\n- The modal provides a more user friendly way to create different types of links (mailto, custom url, pre-defined links, anchor)\n- I am also disabling all the default traits for links (might replace it with a custom \"Edit Link\" button...not sure yet) so that there is only 1 way to change the link attributes. @duskhacker Yes, the customizations that I'm making use the built-in RTE. I'm not sure how well it would work with CKEditor...part of the code replaces the default link button in the grapes RTE, so that portion would definitely need to be modified. If you want to stick with CKEditor, I think it would be better to look into customizing how that handles links rather than making the modifications in grapes, but that is entirely up to you of course.\nI'll try to make my code available in the next couple of days.. Here's an example of my custom link editor (aside from disabling the default link traits as outlined above): https://jsfiddle.net/gwojsok7/3. Apologies for the state of that code! This was a total rush job pieced together from several previous revisions that have undergone some major refactoring, and jsfiddle completely destroyed the indentation of the html template :(\nThis example also uses Vue for the dynamic modal content, but it could be refactored to not require it. That would almost certainly need to happen before considering getting it accepted into grapesjs core.\nI'd love to get some feedback regarding the functionality from anyone that tries it out! If there is any interest in pursuing this any further (open source plugin or submitting to merge into core), let me know and I can spend some more time on it.. I could look into a pell implementation at some point, but I would want to focus on a core/plugin integration first. I'm never used pell before, but I suspect that I would have the same thoughts on that as I do regarding CKEditor: the better option would be to customize the pell/CKEditor link editing functionality rather than grapesjs.\nNot sure what to tell you on timelines at the moment - I just work on this stuff whenever I have the time and interest :)\nIf you don't mind answering, could you help me understand why you are looking to replace the default RTE with something else (pell/CKEditor)? I've looked into using a different editor myself, but have opted for customizing the built-in RTE instead and have found it to be much easier that way. What features and/or functionality is the built-in editor missing that you require? I've found it to be pretty easy to implement many of the functions documented here...would it be worthwhile to spend time on an improving the built-in RTE with more of those options?\nThis is probably getting a bit off-topic, but I've recently been working on moving the built-in RTE toolbar into a new panel and adding a lot of functionality - screenshot. In my opinion, using a panel like this (along with some other customizations) makes enabling/disabling rich text editing more user friendly. This is very much a work-in-progress, but if anyone is interested I can work on making the code available.. Thanks for the additional info @NorthstarTech! I didn't realize that pell was on the roadmap...I'll have to look into it some more when I have time.. Thanks @artf! Do you have any general thoughts on how to best make this change? I've reviewed the code and am not seeing an easy way to accomplish this, and I'd like to avoid spending time going down the wrong path.\nHere's a summary of what the ideas I've considered so far...any of these sound better/worse than the others?\n- Add ColorPicker to the utils object\n  - This would make it easy to pass the config along like this, utilizing the existing loadModule functionality:  grapesjs.init({ utils: { colorPicker: { ... } } });\n  - I think this would require changing how the InputColor/PropertyColorView/TraitColorView objects reference it - they would need to go through editor.Utils.ColorPicker instead of simply requiring the js file dependency. None of those objects appear to currently have any reference to the editor object, so this doesn't seem very straightforward. \n- Move the ColorPicker object to be a top-level editor object (kind of like the rich text editor editor.RichTextEditor, but this would be editor.ColorPicker)\n  - I guess the same issues exist here as with moving ColorPicker into the utils object...all referencing code would need to access this through editor.ColorPicker rather than requiring the js file dependency...\n- Backbone/jQuery implementation\n  - Modify Backbone.$.fn.spectrum.defaults in the editor if the colorPicker config was passed to grapesjs.init, and modify the ColorPicker to use those defaults if they exist.\n  - This solution feels very hacky to me :(\nAny feedback that you could provide would be greatly appreciated :). @artf I think your solution is must simpler than what I was thinking \ud83d\udc4d \nI'll work on this and open a pull request shortly.. Hi @AH1N1,\nBy \"final html\", do you mean the value returned from editor.getHtml()? And are you referring to a custom component? If the answer to both of those questions is yes, then you should just be able to override the toHTML method of your custom component to return nothing. The code to do that would be something like this:\nvar defaultType = editor.DomComponents.getType(\"default\");\neditor.DomComponents.addType(\"someCustomComponent\", {\n    model: defaultType.model.extend({\n        toHTML: function() {\n            return \"\"; // return an empty string instead of the default toHTML behaviour\n        }\n    }, {\n        isComponent: function(el){\n            // add custom isComponent logic here\n        }\n    }),\n    view: defaultType.view\n});\nIf you had something else in mind, let me know some additional details and I can try to assist further.\nBTW - @artf what do you think about making the HTML/Html capitalization consistent between editor.getHtml() and component.toHTML()? I don't have a preference on which style to go with, but I think it would make more sense to change them to either editor.getHtml() / component.toHtml() or editor.getHTML() / component.toHTML(). . @AH1N1 Here's a working code example: https://jsfiddle.net/tt32z2uz/2/. Open up you browser console and you should see this logged out: <div>here's some normal content</div><div>...more normal content</div>. \nDoes that give you what you need to debug your code? If not, can you provide a live code example of your implementation?\nSome possible reasons I can think of why this might not be working for you:\n- The isComponent method is not correctly identifying your custom component\n- The editor instance has already parsed out the components before your custom component type is registered (like from using fromElement: true). Hi @vishal5033,\nThe component:update event should get triggered when a trait changes, but it's also going to fire when anything changes. You could check for the specific trait (href) by inspecting the changed property of the component object that's passed to the callback. Maybe something like this:\neditor.on(\"component:update\", function(component) {\n  if (component.changed && component.changed.attributes && component.changed.attributes.href) {\n    console.log(\"href changed!\", component);\n  };\n}). Let me know if you want me to rename more target variables to em...not sure how far up the chain you were wanting to take that.\nPrior to making my changes I was getting some errors when trying to add a \"color\" trait to a component type. I don't have any uses for trait colors at the moment, but I thought I would mention it in case you were unaware (but maybe I'm just doing something really wrong?). Here's my code and the error that I was seeing, let me know if you want a live example:\nvar textType = editor.DomComponents.getType(\"text\");\ntextType.model.prototype.defaults.traits.push({ // add a \"color\" trait for testing purposes\n    type: \"color\",\n    label: \"color\",\n    name: \"color\"\n});\nInteracting with the trait color picker resulted in this error: Uncaught TypeError: model.setValueFromInput is not a function. I could probably help out here - I'll try to make a pull request later today or tomorrow.. Hi @tommywulove,\nI believe the \"blue box item\" that you're referring to is the component toolbar. All of the toolbar buttons are created for each component as that component is initialized; changing a property (like copyable) does not automatically update the toolbar.\nYou could probably force the toolbar to update by clearing out the toolbar property on the component and manually call initToolbar()...maybe something like this:\nmodel.set(\"toolbar\", \"\").initToolbar();\n@artf - would you consider this a bug or is this the desired behavior? If you think it should be changed, I'd be happy to work on a pull request for it.. Hi @krunal039,\nYou probably want to clear out the undo history right after populated your content from the db.\neditor.UndoManager.clear();. @krunal039 Could you create a jsfiddle example that shows the issue? Calling editor.UndoManager.clear() shouldn't completely break the undo/redo functionality, so I suspect there is some other issue going on. . @NorthstarTech I ran the code below (slightly modified version of yours) over at the demo and the undo/redo functionality still works for me. My test was pretty basic, but was I able to delete the single component, hit the undo button to bring it back, and then hit the redo button to delete it again - all worked as expected. As I mentioned to krunal039, I suspect there is some other issue going on. Could you provide a jsfiddle showing your issue? That would help me debug it.\neditor.DomComponents.clear();\neditor.DomComponents.getWrapper().set('content', '');\neditor.setComponents(\"<div>some content</div>\"); //loading the html content\neditor.UndoManager.clear(); //clearing the undomanager. FWIW, the built-in keyboard shortcut for redo is actually ctrl+shift+z, not ctrl+y - source. \n  . Hi @kickbk,\nIt is unclear what this is bound to in your code...is that a reference to a component? If you could create a jsfiddle to demonstrate the error, that would be very helpful.\nI've not been able to recreate the error so far. I ran this code in the demo (which also currently uses version 0.12.58) after selecting a random component and it worked without errors:\nt = []; editor.getSelected().get(\"classes\").each(function(e) { t.push(e.get(\"name\")) }). Hi all,\nI did a little bit of research into this, I believe the issue starts inside of FrameView.updateDim() when em.stopDefault() is called, which stops select-comp (the default command) until the resizing transition is done. Since the dimensions haven't changed, there is no resize transition, FrameView.updateOffset() never runs so the select-comp command is never started again. In code, this runs, then this runs, and this is expected to run after the transition ends but never does. I don't know what the fix is, but here's a jsfiddle  that replicates the issue after 2 seconds (see the setTimeout at the bottom) without messing with the devices at all.\nIs calling em.stopDefault() necessary inside FrameView.updateDim()? I'm guessing there's a good reason for it, but I'm not sure what that reason is.\n@kevinalvarez - here's a hacky fix if you need to a working solution right now: jsfiddle. Hi @AustinTBiggs,\nThis works for me in the demo:\neditor.DomComponents.getWrapper().set({badgable: false, selectable: false})\nYou may also want to set hoverable to false if don't want the blue highlight to appear on hover.. You're welcome! Glad I was able to help.. Hi @AustinTBiggs,\nI've not seen this issue before, but perhaps others have and could assist. I'd be interested in looking into it if you wouldn't mind providing a bit more info - could you provide a jsfiddle and/or steps to reproduce? Do you see this issue in all browsers?. Hi @AustinTBiggs,\nI suspect that grapesjs is applying the height/width styles to a class which is applied to both images. Could you check to see if both images have the same class?. Hey @artf,\nThe code you provided seems to work wonderfully - thank you!\nhttps://github.com/artf/grapesjs/issues/731. Hi @Deepak813,\nComponents have a setClass method that will remove all existing classes an replace them with the string of classes passed as the first argument. Try this:\neditor.getSelected().setClass('newClass');. @Deepak813 - The code I provided works just fine for me in the demo, so I suspect that there must be something about your configuration that is causing the issue. Could you make sure you're on the latest version of grapesjs and then create a jsfiddle that shows the problem if you're still having issues?. @NorthstarTech \nHere's an example of \"preview\" and \"stop preview\" buttons outside the editor.. I would also be interested in having a component:remove event \ud83d\udc4d . I looked into this myself a few days ago...apparently there's an insertBrOnReturn option for execCommand, but the browser support is terrible. A solution like this is probably better.\n@artf How would you want this to change? Should hitting enter insert <br> tags as shown in the top answer on the that SO discussion? Would you want to expose this as a configuration option? . I'm a little confused here too, but it sounds like maybe you just need to add a trait. Adding something like this to your component will expose a trait in the component settings that should get set as an HTML property:\n...\ntraits: [{\n    type: 'number',\n    label: 'Move',\n    name: 'move'\n}],\n.... Hi @Deepak813,\nI'm not sure where templateHTML is coming from in your example...is the src on your image set correctly in that variable?\nIn any case, selecting an image and running this code seems to work fine for me in the demo: editor.getSelected().set(\"src\", \"http://via.placeholder.com/350x150\"). Hi @krunal039,\nThe only way I know to do something like would be to make a custom trait and use the getInputEl function to either set a maxlength property on your input or create a section show whatever errors that you want.. Now that I think through this a bit more, option 1 wouldn't really work for me since I want to prevent any inline styles from getting removed, as well as preventing any id's/classes/attributes from getting added to the child elements. So I guess that leaves option 2 or maybe another solution that I haven't thought of. . Thanks @artf! I bet your suggestion will work for me - I'll test it out in the next few hours. . Hi @Deepak813,\nI'm tried recreating this in the demo (which currently uses version 0.13.5) but I have not been able to recreate it. Could you test there and provide steps to reproduce the bug? Or could you create a jsfiddle that demonstrates the issue? . @Deepak813 Thanks for the video! I only tried dragging existing components, not blocks. . @anand-gopinath - this code works for me in a plugin: editor.Panels.removeButton(\"views\", \"open-layers\");\nIt doesn't seem to work for me after the editor has fully loaded...I suspect that it needs to get removed before the view is rendered, but I haven't confirmed that. . @anand-gopinath In case it's helpful, here's some code that I'm using to reorder those buttons (this also probably needs to run in a plugin):\n```\nvar panelManager = editor.Panels;\n// get the buttons\nvar styleManagerButton = panelManager.getButton(\"views\", \"open-sm\");\nvar layersButton = panelManager.getButton(\"views\", \"open-layers\");\nvar blocksButton = panelManager.getButton(\"views\", \"open-blocks\");\n// remove the buttons\npanelManager.removeButton(\"views\", \"open-sm\");\npanelManager.removeButton(\"views\", \"open-layers\");\npanelManager.removeButton(\"views\", \"open-blocks\");\n// add the buttons back in a custom order\npanelManager.addButton(\"views\", blocksButton);\npanelManager.addButton(\"views\", styleManagerButton);\npanelManager.addButton(\"views\", layersButton);\n```. Hi @chiqui3d,\nI bet this is happening because the selected component has the same class as other components. Those images from the demo all have the class badge-avatar, so changing one effectively changes them all. I believe it is working as designed.. Hi @kewilson,\nYou've got a few different approaches for how to accomplish this...if every single component needs this custom trait, then I would probably override the initialize method of the default component type and add it there. Something like this:\n```\nvar defaultType = editor.DomComponents.getType(\"default\");\nvar _initialize = defaultType.model.prototype.initialize;\ndefaultType.model.prototype.initialize = function() {\n    _initialize.apply(this, arguments);\nthis.get(\"traits\").add({\n    type: \"input\",\n    label: \"Crazy Attribute\",\n    name: \"data-crazy\"\n});\n\n};\n```\nAlternatively, you might be able to get away with just adding your trait the component defaults:\neditor.DomComponents.getType(\"default\").model.prototype.defaults.traits.push({label: \"Crazy Attribute\", name: \"data-crazy\"}). Hi @kewilson,\nIf I'm understanding your issue correctly, I bet setting the left margin instead of left padding would work a lot better...is this screenshot  close to what you're trying to accomplish? If so, you could replace your button.style.paddingLeft = \"30px\" code with button.style.marginLeft = \"10px\". Or you could do this in css (create a custom css file and load it right after grapes.min.css): .gjs-mdl-content .gjs-btn-prim + .gjs-btn-prim { margin-left: 10px; }. Hi @kewilson,\nThis is a bit difficult to work with without a live code example (like a jsfiddle demo), but I'm seeing a few issues:\n- let buttons = editor.Modal.getElementsByTagName(\"button\") || {};\n  - This is probably throwing an error since editor.Modal is not a dom element, so getElementsByTagName is not a valid method. editor.Modal.getContentEl().getElementsByTagName(\"button\") should work though.\n  - Defaulting to an empty object here doesn't really make much sense.\n- for (b in buttons)\n  - I'm not very familiar with how to work with the HTMLCollection object returned by getElementsByTagName, but I suspect that iterating over it like this might not be valid. I'd recommend switching this to querySelectorAll as that will return an array (or at least an iterable object that closely resembles an array). \nSomething like this might work:\n```\nlet buttons = editor.Modal.getContentEl().querySelectorAll(\"button\");\nbuttons.forEach(function(node) {\n  node.style.border = \"3px solid black\";\n});\n```. Hi @panagulis72,\nHave you looked into using a polyfill? A quick google search found this...I've never used Symbol.iterator before, so that's probably as much as I'd be able to help :(. Hi @panagulis72,\nAs @cjpollard pointed out, the load event is what you need to listen for. Here's a live example: https://jsfiddle.net/gkcgm6th/5/. Hi @lorrandavid \nIt's definitely possible to custom the theme of GrapesJS - you just need to write some the appropriate CSS to fit you needs. Here's a quick, hacky jsfiddle that demonstrates a couple of the items you mentioned: https://jsfiddle.net/ntg9cspa/1/\nVersion 0.14.5 should work fine with the newsletter plugin. In fact, the newsletter demo appears to be using the latest version at this time.. Hi @Owchzzz,\nIt seems to be baked into the core of GrapesJS that components will not have a style tag - see this example where it is explicitly removed. I'm not sure if modifying this behavior would completely solve your use case, but you could start by overriding it with the following code:\nvar defaultType = editor.DomComponents.getType(\"default\");\ndefaultType.model.prototype.getAttrToHTML = function() {\n  return this.getAttributes();\n};\nYou probably want this code to run before the content has been set into the editor, so it would be best to put it in a plugin. If you do that and still have issues to solve, let me know what the problems are and I can try to look into some more.. No worries @artf! I'll plan to take another pass at this by just escaping the double quotes later today or tomorrow.. This has suddenly become less relevant to the project that I'm working on, so I'm closing it for now.. Hi @PCPLTodd,\nHere's an example of how you can remove the device switcher and view code button: https://jsfiddle.net/fjkk8w6k/2/. I used 1 here for consistency with the other properties. Just curious, but is there a reason that these are numeric instead of boolean? I know that 0 evaluates to false and 1 evaluates to true, so functionally it's fine...is it just personal preference?. I thought that e.stopPropagation() would work, but found this after a quick google search: https://stackoverflow.com/questions/5457915/how-can-i-stop-event-propagation-with-backbone-js. I couldn't find it documented anywhere, but these events seem to fire in the order they are registered. The onRemove function needs to run before onClick so that the event propagation can be stopped.. I saw your comment above about \"double content\" (lines 67-68)...seems like it's related, so maybe there's a better place to fix this? . @artf What do you think about explicitly triggering the change:content event instead of setting it to a random value? I think this a bit more clear what's going on, but I'd be happy to change it like your suggestion if you prefer.. Hey @artf,\nSmall followup from my last pull request. I just noticed that the input color value is always initially \"undefined\" after the InputColor is created. Setting the value here into the input here seems to resolve it.. I ran into an issue where void elements created through document.createElement do not have the ending slash (el.outerHTML returns <img> instead of <img/>) which caused some existing unit tests to fail. I added this code to make those tests happy, but we could change the tests to stop expecting the closing slash if you prefer.\nI'm not 100% sure if the missing slash is a guaranteed thing or if it varies in different browsers (I only tested in chrome and through npm run tests).... ",
    "sarathksasi": "Thanks. ",
    "suraj740": "Thanks @artf ,\nBut how can i call that custom asset manager directive inside target grapesjs which i was created.\nif(editor) {\n      editor.runCommand('open-assets', {\n        target: \"should i call my asset manage directive here\"\n        onSelect() {\n          editor.Modal.close();\n          editor.AssetManager.setTarget(null);\n        }\n      });\n    }\n. Ok will try.\nThanks @artf .. @artf  can you help please, \ni am doing this to add my custom file manager.\neditor.Commands.add('open-assets', {\n     run(editor) {\n              editor.runCommand('', {\n                   onSelect() {\n                         editor.Modal.close();\n                         editor.getSelected();\n                   } \n             });\n   }\n});. @artf getting these errors, \neditor.Commands.add('open-assets', {\n  run(editor) {\n      getFileManager().open({\n         onCustomSelect(url) {\n          console.log('url', url);\n        // update the selected component\n       // editor.getSelected().set('src', url)\n      }\n   });\n }\n});\n\n. Thanks @artf , i was able to replace current asset manager to custom one.\nThanks for giving that commands.\n. Hi @paulroberttaylor  , how you have included fonts inside styles,\ni am also doing same but nothing change happens\nconst editor = grapesjs.init({\n  ...\n  canvas: {\n    styles: ['']\n  }\n});. @duskhacker thanks , but i have to edit newsletter so i want to import it dynamically and also i am getting html with inline css getting from remote call. The thing is that i want to call that import function programatically not just by clicking on import button.. @duskhacker Thanks a lot bro :), its working now.. @artf Thank you for the awesome work man! \ud83d\udc4d . ",
    "giannis4119": "Any news regarding the above issue? Such functionality would be very helpful.. ",
    "djibomar": "Hi @artf @ryandeba ,\ncan you provide some guide on how I can achieve this ?. ",
    "duskhacker": "@roytang Explicitly disabling the full-width editor dropzone (dropzone: 0) fixed this for me. Using version 0.12.30. @artf For me it was dropping on the dropzone in the assets manager. . It occurs to me that I can just hide the button with some CSS, which is what I've done. I'm still curious about the render though. . \n\nI may have time to research this tomorrow if you're still having trouble\n\n@ryandeba Thanks for the followup! This is one of my outstanding problems with GrapesJS. I know I'm not going to be able to fix it in a reasonable time-frame, I'm not familiar with the code-base enough to debug effectively so I'll have to rely on your expertise. Currently, it is not a show-stopper I have lots of stuff to do before this goes into production. But if it can be fixed in the coming days that would be great! \n. @ryandeba: Thank you!! \ud83d\udcaf . Perfect! Thank you so much for the quick reply ... and also this project. Very nice! . I've found that when I try to edit the CSS directly with the code editor, following the instructions in #324, but just editing the CSS that these... \n*{\n    box-sizing: border-box;\n  }\n  body{\n    margin:0;\n  }\n... reappear all the time, sometimes duplicated. \nI followed the instructions that I found in #488, but that did not help. \nI'm saving the code like this: \nbtnSave.onclick = () => {\n    const code = codeViewer.editor.getValue();\n    editor.DomComponents.getWrapper().set('content', '');\n    editor.CssComposer.getAll().reset();\n    editor.setComponents(editor.getHtml());\n    editor.setStyle(code.trim());\n    modal.close();\n  };\nIs this a symptom of the above bug(s) or should I open a different issue?. @artf Thank you so much! I'm hopeful that the fix you just mentioned, the one @ryandeba fixed for the asset manager (#549), and a fix for the issue where having an anchor tag makes the rest of the text un-editable (#576) will all get rolled into the next release. I'm looking forward to it. \nI wish I could do more to help out, I've tried to at least answer some of the other issues that I can to \n help out a little bit. . In my project, I set data- attributes on an HTML element and extract them via .dataset in Javascript, once the editor is configured, I run: \neditor.setComponents(dataSet.legacyHtml);\neditor.setStyle(dataSet.legacyCss);\neditor.store();\nBe aware that the HTML must be set up so that grapesjs can understand it. I believe that it must adhere to the BEM(http://getbem.com/) standard. In practice, I just created a few documents to understand what it's supposed to look like. \nAlso, it doesn't matter where you get the HTML/CSS, it could be a remote call or just embedded in the Javascript, I just mentioned what I was doing as an example. \nHTH. @suraj740 ^^. @suraj740 editor.setComponents() will take both html/css, so you could just skip the setStyle call. As for the rest, you did look at the storage manager documentation, yes? You can call load/store on it programmatically without clicking a button, like editor.store(); editor.load() . @suraj740 https://github.com/artf/grapesjs/wiki/API-Storage-Manager. @Snarkly GrapesJS is not a drop-in turn-key solution. You'll have to understand (and do) Javascript coding just to get the editor working. Its purpose is for adding a fancy HTML editor to an existing web stack. . I'm running into this too. . As a workaround, i've been adding a class div.inline{ display: inline} to isolate the <a> tags until this gets fixed. . @artf IMHO, instance 4 is an error. I know that it's valid HTML, but for the purpose of \"GrapesJS-flavored-HTML\" Some textnode should be wrapped in a div, or other editable node type. That makes sense (to me anyway) from the perspective of looking at/writing the raw HTML. Again IMHO, the program shouldn't change the structure of the HTML, possibly it could just log an error to the console, as I think that people that would be looking at the raw HTML would be those that are implementing GrapesJS in their app and adapting legacy documents to it, so would be aware of the console and messages written to it. Documentation could point to that too to drive the point home. \nThere are two situations I can think of, 1) A user is adapting legacy HTML to the new format. 2) The HTML is generated by the program in the first place, (in the case of people using it to actually create a page, which is the reason this thing exists). \nIn case 1, clear rules can/should be published for morons like me that need to adapt their legacy stuff. One of those rules could be \"all text needs to be wrapped in an editable component\". In case 2, the program should just generate the \"correct\" HTML in the first place, that is, each text is wrapped in an editable node. . @artf \n\nyou can also indicate explicitly to the editor where is a text component\n\nThank you! That actually helps me a lot until the fixes are released. . When I asked to find out when the canvas is dirty to provide an indicator, @artf told me: \n```\neditor.on('change:changesCount', (editorModel, changes) => {\nif (changes) {\n\n// do something with changes \n    } else {\n     // do something else with no changes \n    }\n  });\n```. I had all kinds of problems with the CKEditor link editor. \nI gave up and disabled the link editor in CKEditor in favor of the link component that is provided by GrapesJS. \n. Sorry, I can't answer your question, and I'm probably speaking out of turn; It seems to me that your time would be better spent on taking on some of the \"help wanted\" issues and bugs than forking this into the Angular framework. To me, it seems like a lot of effort for little gain. . @DeathStapler This is what mine looks like: \n{\n    \"gjs-css\":\"*{box-sizing: border-box;}body{margin:0;}.c1050{padding:10px;}\", \n    \"gjs-html\":\"<div class=\"c1050\">Hi</div>\", \n    \"gjs-assets\":\"[]\", \n    \"gjs-styles\":\"[]\", \n    \"gjs-components\":\"[]\"\n  }\nThe thing that jumps out at me at first is that assets, components and styles should be arrays, you have empty strings. \nThe Content-Type is correct. . @artf Thank you! . @artf  I spoke too soon. If I remove the default protected CSS as you mentioned, then the body section and everything in it disappears.... @artf After trying to reproduce the behavior to show it to you, it actually looks like it\u2019s just lopping off the first sections each time I save. It\u2019s probably got something to do with the save functions that I have. These functions are cobbled together from several different posts on different issues in this repo from different authors.  Here is the behavior: \nOriginal\n*{\n    box-sizing:border-box;\n  }\n  body{\n    margin-top:0px;\n    margin-right:0px;\n    margin-bottom:0px;\n    margin-left:0px;\n  }\n  #c893{\n    text-align:right;\n    vertical-align:middle;\n  }\n  body, table.body, h1, h2, h3, h4, h5, h6, td{\n    color:rgb(34, 34, 34);\n    font-family:Helvetica, Arial, sans-serif;\n    font-weight:normal;\n    padding-top:0px;\n    padding-right:0px;\n    padding-bottom:0px;\n    padding-left:0px;\n    margin-top:0px;\n    margin-right:0px;\n    margin-bottom:0px;\n    margin-left:0px;\n    text-align:left;\n    line-height:1.4;\n    height:100%;\n    width:100%;\n    font-size:14px;\n  }\n...\nSave 1\nbody{\n    margin-top:0px;\n    margin-right:0px;\n    margin-bottom:0px;\n    margin-left:0px;\n  }\n  #c893{\n    text-align:right;\n    vertical-align:middle;\n  }\n  body, table.body, h1, h2, h3, h4, h5, h6, td{\n    color:rgb(34, 34, 34);\n    font-family:Helvetica, Arial, sans-serif;\n    font-weight:normal;\n    padding-top:0px;\n    padding-right:0px;\n    padding-bottom:0px;\n    padding-left:0px;\n    margin-top:0px;\n    margin-right:0px;\n    margin-bottom:0px;\n    margin-left:0px;\n    text-align:left;\n    line-height:1.4;\n    height:100%;\n    width:100%;\n    font-size:14px;\n  }\n...\nSave 2\n#c893{\n    text-align:right;\n    vertical-align:middle;\n  }\n  body, table.body, h1, h2, h3, h4, h5, h6, td{\n    color:rgb(34, 34, 34);\n    font-family:Helvetica, Arial, sans-serif;\n    font-weight:normal;\n    padding-top:0px;\n    padding-right:0px;\n    padding-bottom:0px;\n    padding-left:0px;\n    margin-top:0px;\n    margin-right:0px;\n    margin-bottom:0px;\n    margin-left:0px;\n    text-align:left;\n    line-height:1.4;\n    height:100%;\n    width:100%;\n    font-size:14px;\n  }\nSame behavior continues  on subsequent saves. \nHere is the code: \nCSS Save button\n```\n  const btnSaveCss = document.createElement('button');\n  btnSaveCss.innerHTML = 'Save';\n  btnSaveCss.className = pfx + 'btn-prim ' + pfx + 'btn-save-css';\n  btnSaveCss.onclick = () => {\n    const code = codeViewer.editor.getValue();\n    const html = editor.getHtml();\n    editor.DomComponents.getWrapper().set('content', '');\n    editor.CssComposer.getAll().reset();\n    editor.setComponents(html);\n    editor.setStyle(code.trim());\n    modal.close();\n  };\n```\nHTML Save button\nconst btnSaveHtml = document.createElement('button');\n  btnSaveHtml.innerHTML = 'Save';\n  btnSaveHtml.className = pfx + 'btn-prim ' + pfx + 'btn-save-html';\n  btnSaveHtml.onclick = () => {\n    const code = codeViewer.editor.getValue();\n    const css = editor.getCss();\n    editor.DomComponents.getWrapper().set('content', '');\n    editor.CssComposer.getAll().reset();\n    editor.setComponents(code.trim());\n    editor.setStyle(css);\n    modal.close();\n  };\nFunctions for loading the editors\n```\n  commandManager.add('css-edit', {\n    run: (editor, sender) => {\n      sender && sender.set('active', 0);\n      modal.setTitle('View CSS');\n      let viewer = codeViewer.editor;\n      if (!viewer) {\n        const textArea = document.createElement('textarea');\n        externalEditorContainer.appendChild(textArea);\n        externalEditorContainer.appendChild(btnSaveCss);\n        externalEditorContainer.appendChild(btnCancel);\n        codeViewer.init(textArea);\n        viewer = codeViewer.editor;\n      }\n      const css = editor.getCss();\n      modal.setContent('');\n      modal.setContent(externalEditorContainer);\n      codeViewer.setContent('\\n' + css + '\\n');\n      modal.open();\n      viewer.refresh();\n    }\n  });\ncommandManager.add('html-edit', {\n    run: (editor, sender) => {\n      sender && sender.set('active', 0);\n      modal.setTitle('Edit HTML');\n      let viewer = codeViewer.editor;\n      if (!viewer) {\n        const textArea = document.createElement('textarea');\n        externalEditorContainer.appendChild(textArea);\n        externalEditorContainer.appendChild(btnSaveHtml);\n        externalEditorContainer.appendChild(btnCancel);\n        codeViewer.init(textArea);\n        viewer = codeViewer.editor;\n      }\n      const html = editor.getHtml();\n      modal.setContent('');\n      modal.setContent(externalEditorContainer);\n      codeViewer.setContent(html);\n      modal.open();\n      viewer.refresh();\n    }\n  });\n```\nIt seems like this worked, I\u2019m guessing that upgrading to the latest release may have broken them, or I dunno, maybe it never worked.\n. @artf Any feedback on my latest post on this issue? . @ryandeba Yes, I'd also be very interested in this work. IMHO, what you are describing seems like the baseline of what is needed for hyperlink editing, and probably should be a standard plugin referenced from the main repository once you are done. \nAs for the RTE editor, are you talking about the built-in one? I've been using CKeditor, would I have to ditch that to use your work? I'm ok with trying that, just curious. If it's based on the built-in editor, then maybe you should form it with the goal of just getting it accepted into the core. \nThanks for the offer, I'm looking forward to trying it. . @ryandeba \n\nIf you want to stick with CKEditor\n\nI'm not married to the idea of using CKEditor, I started using it in the beginning because it seemed more full-featured, but I'll take \"actually works\" over \"full-featured\" any day. I wouldn't worry about CKEditor, I only asked about it to understand what the ramifications to me were and what I'd have to do. \nThanks for making your code available. I've moved on from the editor portion in my project at the moment, but will be circling back around to it in the next few days, so I'll try your code then. \n. > FYI CKEditor issue should be fixed with this release https://github.com/artf/grapesjs-plugin-ckeditor/releases/tag/v0.0.9 (demos not yet updated)\n@artf Well, almost. When you double-click on an existing link to edit it, only the \"Display Text\" is populated in the modal, the URL is not populated. . > @duskhacker I'm trying the behavior described in the demo and can't reproduce it\n@artf Thanks for looking and updating the demos. I can't reproduce it in the demo either, so it's probably something to do with my own implementation. I'll have to go back over mine. \nThanks again. . ",
    "bakgat": "```\nreturn {type: 'Span',\n                            src: el.src,\n                            tagName: el.tagName.toLowerCase(),\n                            // components: el.innerHTML,\n                            content: el.innerHTML,\n                          editable: true\n                }.\n",
    "OverFlow636": "@asvine-p here i one way i am adding new classes to existing components\njavascript\nvar componentModel = editor.getComponents().models[0];\nvar selector = editor.SelectorManager.add('newclass');\nvar rule = editor.CssComposer.add(selector);\nrule.set('style', {\n  color: 'red'\n})\ncomponentModel .addClass('newclass'). also having this issue, but from importing content from objects, not html\nwith forceClass: false,\nit works for the initial import, but as soon as i select the component inside the editor, the inlined styles are added to the existing class which breaks all the other things sharing the same class. \nadditionally multiple id selector styles are added to the css export\nafter selecting the element, the styles from the id selector are added to the class that exists on the component.\nwith forceClass: true or omitted\ninlined styles are converted to new classes which is ok (does not break other components), but i need them to stay inline. ",
    "michaellwatson": "So how can you remove classes in the same way?. Instead of beforeSend, use the headers like this\nheaders:{'X-CSRF-TOKEN':'foo'},  . That worked great, thanks for your help :). I think that would be cool \ud83d\udc4d . Thanks @artf this is what I ended up with\n```\nconst selected = editor.getSelected();\n    selected.view.$el.find('[type=hidden]').each((el, i, $el) => {\n    const model = $el.data('model');\n    model && console.log('Hidden component found', model);\nfor (var i = 0, len = model.collection.models.length; i < len; i++) {\n    console.log(model.collection.models[i]);\n    //change my_field to the name of the field you want to target\n    if(model.collection.models[i].attributes.attributes.name=='my_field'){\n    var attributes = model.collection.models[i].get('attributes');\n        attributes.value = 'Value here';\n    model.collection.models[i].set('attributes', attributes);\n        return;\n}\n}\nreturn;\n\n});\n```\nThis kind of repeats itself a bit, because each hidden field is picked up in the foreach, but the $el variable holds all of the hidden fields, which is why added the returns to break the loops.\nWould be interested to know if there was a more elegant way of doing it, but this seems fit for purpose for now anyway.\nIt would be good to know if there was an \"on selected\" kind of trigger that fired when an element was selected so I could set the field values on the new edit menu once the form got selected.\nI tried an iframe method for that but it didn't seem to work.\nThanks again. Great stuff, grapesjs is amazing btw. Must be my version then, because its still selectable/hoverable, but it does accept data-gjs-highlightable=\"false\", thanks for your help again. ",
    "IrinaCodixis": "Hi @asvine-p .\nI have the same issue like you did. What was your solution?. ",
    "enricribas": "I see, thank you. The readme seems to imply that that out of the box, it's more set up but I guess things have been moved to a plugin system, which is nice.\nThanks.  . Seems I have to manually call\neditor.setComponents(result['gjs-html']);\neditor.setStyle(result['gjs-css']);\nbefore the return result above.\nThat's not in the example code. Is that correct? Seems strange to me, what about the other elements, gjs-styles and gjs-assets? Are they not needed?. Thanks, will give that a shot later!. That works, thanks. . ",
    "tldrjumps": "Sorry for no properly discuss my use case and intented, The use case is to allow provide style from user to store the in or use with snippets block dropped.(Before the block drop) Then allow them to export the dropped block design with style.\nBasic use case is use grapesjs to load articles, then allows user to select particular css file(markdown article style). Further use case that allow the user to defined style of blocks such as table, div, then exported the dynamic design of block out as complete design of their choice (They might have certain css template for some block)\n. ",
    "ShepelE": "Thank you!. I don't understand some words, but if you want to remove selected element, you can use SelectionManager : \n\nif you need to create a new button, you can use guide https://github.com/artf/grapesjs/wiki here - create panel, then button, then command for this button...\n. ",
    "JuanTincho": "Hi! I managed to do it  with a plugin on a project that we are working on. \nI don't know if @artf would like to implement it in grapesjs.\n. Sorry guys, I have done it with a .scss file.\nThis is my code:\n```\n.gjs-cv-canvas {\n  right: 0;\n  left: auto;\n}\n.gjs-pn-panel {\n  &#gjs-pn-commands {\n    right: 0;\n    left: auto;\n  }\n&#gjs-pn-options {\n    margin-left: 15%;\n    right: auto;\n  }\n.gjs-pn-buttons {\n    justify-content: center;\n  }\n&#gjs-pn-views-container,\n  &#gjs-pn-views {\n    left: 0;\n    right: auto;\n  }\n&#gjs-pn-devices-c {\n    right: 10em;\n  }\n}\n```. ",
    "punkt2": "@JuanTincho it would be awesome if you share the code with us. I solved the problem. It turns out babel is transforming the javascript class and calls the helper function _classCallCheck which is not passed to grapesjs. \nIn the latest version (7) of babel, you can enable the loose mode for the transform-classes plugin, which will not insert the _classCallCheck function call.\n\nUpgrade babel to version 7\nsh\nnpm install babel-loader@8.0.0-beta.0 @babel/core @babel/preset-env\nDelete babel settings block from package.json\n\"babel\": {\n    \"presets\": [\n      \"env\"\n    ],\n    \"plugins\": [\n      \"transform-object-rest-spread\"\n    ]\n  },\nCreate .babelrc. Enable loose mode for the transform-classes plugin.\n{\n  \"presets\": [\"@babel/preset-env\"],\n  \"plugins\": [\n    [\"@babel/plugin-proposal-object-rest-spread\"],\n    [\"@babel/transform-classes\", {\n      \"loose\": true\n    }],\n  ]\n}. \n",
    "sebastianbarfurth": "This should be high priority, makes modifying panels after the first render impossible.. ",
    "baxxos": "I've stumbled upon this issue as well. It has to do something with the browser cache since re-launching the page in a private mode window fixed it. . First of all, thanks for the fast reply!\nYour example definitely helped me, however, if I understand correctly - I have to recursively iterate through the whole virtual GrapesJS DOM in order to retrieve the component I'm looking for? Is there really no other way of obtaining a component object via its ID? Something such as:\nmyComponent = editor.getComponent(cid);\nI'm sorry if this is something that I've overlooked in the documentation.. Thanks for your replies, I think my question has been answered and there's not much else to add. I'm closing this now, however the find() method would be a welcome addition to this awesome framework.. Successfully resolved via a \"dirty hack\" (overloading the initialize method) referenced here: #972\ninitialize: function () {\n    editor.TraitManager.getTraitsViewer().itemView.prototype.initialize.apply(this, arguments);\n    this.tmpl = '<div class=\"' + this.fieldClass + '\"><div class=\"' + this.inputhClass + '\"></div>' + '<div class=\"' + this.ppfx + 'sel-arrow\"><div class=\"' + this.ppfx + 'd-s-arrow\"></div></div> </div>';\n},. ",
    "caholt": "I am not sure if anyone still has this issue, but I experienced this issue and found that the problem  is caused by loading blank CSS.\nSo lets say we have a variable: \nvar LoadCSS = ''; \nand you call \neditor.setStyle(LoadCSS);\nThis will cause the columns not to display when you drag them to the canvas even though they are loaded when you look at the code.\nThe fix is simple, just do a check if the LoadCSS var actually has a value before using setStyle();\nI hope this helps. \n. ",
    "mohit5540": "@artf yes, I created custom trait and it worked. Thanks.. ",
    "francesca-cicileo": "I am also looking to do the same thing, but setting forceClass to false does not seem to work. \nI made a minimal JSFiddle here that tries to use inline css instead of classes, but the editor always moves the styling into classes, even with forceClass set to false. Am I missing something?. Hi @artf, I believe we are both looking for a flag that forces all styling to remain inline, instead of creating classes and id rules. Is this not what forceClass is supposed to do? In my JSFiddle example, the line\n<div style=\"color: blue;\">Has style</div>\nis converted to \n<div id=\"c150\" >Has style</div>.\nforceClass is set to false in this example, so we expected the style to remain inline, but instead it was moved to an id rule.\nI think @blackbirdzzz would like the functionality of the grapesjs-preset-newsletter plugin as a flag in the editor's initialization. The grapesjs-preset-newsletter plugin provides the functionality that we are expecting forceClass to have.. I'm having the same issue, when using the grapesjs-preset-webpage plugin. Is there a CDN for that plugin so that I can create a demo on jsfiddle for you?. Hi @artf, I've reproduced the problem in a jsfiddle here\nAll I did was copy and paste the index.html file from the grapesjs-preset-webpage repo here. If you run the jsfiddle and then click on any element inside the pink box, that element will get a 3px white border around it.. +1 having the same issue. ",
    "rohanreddyg": "javascript somehow not allowing script end tag (\"\") with in string. So just change the code to be like:\nscript:  '<script>alert(\"Hi\");<' + '/script>'. ",
    "paulroberttaylor": "Fantastic!  Thanks @artf . @suraj740 This is how I did it after @artf 's comment.\n```\n    ",
    "matthewgertner": "@ryandeba @artf Great, thanks for the suggestion. We're playing with the codebase now so we'll give that a try.. ",
    "markbailey": "Hi @ryandeba , thanks for that info and the work around. I look forward to your changes getting merged.. ",
    "Siddharth-ss42279": "Hey @artf @ryandeba , actually i am using ckeditor.\nAfter editing content inside text block the 4th case is occuring and Some textnode becomes un-editable.\nIn the above case how do i make content editable. i want to open ckeditor or RTE (if possible) on that text also. \ncan you tell how can i make the content editable explicitly?. i need help with some sample code?. solved, it was related to the fonts loading.. @Abhisheknanda1344463 @artf  i also did same but i did not get minified css. Hi @artf \n    Actually, i get in-lined html using command editor.Commands.get('gjs-get-inline-html').run(editor) and saving it to database and for rendering content i am using   editor.setComponent(content_field) \nproblem is when i render content from database the TEXT element gets converted into BOX element\n(only  when i edit some text in that text element using ckeditor) and in BOX element ckeditor in not loading.\nEither one of the below can solve my problem :\n1.  TEXT element should not get converted into BOX \n2.  or, BOX element should load ckeditor\nstep to replicate the issue in grapesjs newsletter demo:\n1. goto: https://grapesjs.com/demo-newsletter-editor.html\n2. drag text element on canvas.\n3. now select some text in that and apply style, bold and color to that text from ckeditor.\n4. hover over the text element you will see it still showing the TEXT on the top\n\n5. Now copy the code from view code modal.\n6. again Import that copied code from import button.\nobservation:\nnow TEXT element has converted to BOX ????\n\nand ckeditor in not opening in that box.\nany help would be appreciated and Thanks.\n. ",
    "bunomonteiro": "```\neditor.on('component:add', model => {\n    // ... your logic goes here\n    if(remove){\n        model.destroy();\n    }\n  });. ",
    "ppisecky": "@artf hey thanks for your answer. I was however looking for a more general example of determining if changes happened and what they were - for example something like this:\n```javascript\neditor.on('component:update', model => {\n     if (model.isChanged()) {\n                //....\n     }\n  if (model.isChanged('style:font-size')) {\n            //....\n }\n\n var changes = model.getChanges();\n\n});\n```\nWe need to track changes to components in a project so we need something more general. \nCould you also possibly explain why so many  component:update events are fired when I make even minor changes to components (almost always more than 10 events are fired for what seems like various components)?. ",
    "AH1N1": "Ii have the same issue. Could you please give a solution ?. That's exactly what I've been looking for :) Thank you!\nI wrote 'after' but I should have written 'when' ;). Thank you :) That's what i needed. Unfortunately it doesn't work. I overrided toHTML method like in your example but it seem to have no influence on the code got from editor.getHtml() method. I set some debug in my overrided toHTML and it turned out it's never used. @ryandeba  are you sure editor.getHtml() runs toHTML() method ?. ",
    "TrungPham383": "https://drive.google.com/open?id=1h62HYZcg8M-YIwP-jQUxiGO51QDt3_ml\nHere is video for this bug.. If use grapesjs old version, it will work normal. But color or backround color not working. :D . V\u00e0o Th 2, 11 thg 12, 2017 l\u00fac 21:29 BaptisteLeBescond \nnotifications@github.com \u0111\u00e3 vi\u1ebft:\n\nI use grapesjs - 0.12.52 (last version I think). I also have the plugin\ngrapesjs-mjml but the problem remains if I remove it. Not related I guess.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/596#issuecomment-350739608, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AgjCNlMCDhlLDOVhcF4B5a-7ojRjzYwrks5s_TxBgaJpZM4QwcQ3\n.\nYes, version 0.9.7 work good but color not apply on view\n. \n",
    "AJOVTIC": "I have the same problem. ",
    "BaptisteLeBescond": "Same here ! :). I use grapesjs - 0.12.52 (last version I think). I also have the plugin grapesjs-mjml but the problem remains if I remove it. Not related I guess.\nEDIT: Ok so it works in Full screen. Problem is my editor is embedded in my app. Its size is not window size.. ",
    "Santieherrero": "Hi, \nI think that the issue it's here, at this two lines #1086 at 'ColorPicker.js':\njavascript    \nvar doc = picker[0].ownerDocument;\nvar docElem = doc.documentElement;\n...\nvar cW = docElem.clientWidth;\nvar cH = docElem.clientHeight;\n...\nIt's taking the main document when it's getting the offset, should not it be just the container of grapesjs init?. ",
    "swarnat": "I had exactly the same problem and thanks to your pointer to ColorPicker.js I was able to fix.\nLike artf say, the calculation of position is wrong, when editor is shown with a popup, like bootstrap modal.\nSo I replaced the correction lines here  like this:\n```javascript\noffset.left -= Math.min(\n      offset.left,\n      offset.left + dpWidth > viewWidth && viewWidth > dpWidth\n        ? Math.abs(offset.left + dpWidth - viewWidth)\n        : 0\n);\noffset.top -= Math.min(\n      offset.top,\n      offset.top + dpHeight > viewHeight && viewHeight > dpHeight\n        ? Math.abs(dpHeight + inputHeight - extraY)\n        : extraY\n);\n```\nto a simple\n```javascript\n    offset.left += input.outerWidth();\n    offset.left -= input.closest(\".gjs-editor\").offset().left;\n    offset.left -= dpWidth;\noffset.top += inputHeight;\noffset.top -= input.closest(\".gjs-editor\").offset().top;\n\n```\nThis works perfect for me, because I took input offset and subtract the offset of popup and datepicker. to more.\nI only don't create a Merge request, because I think it isn't the best way to handle this. Also the top position must better recognize browser borders.\nI will try to optimize the change and create some full page test cases over weekend, because I love this editor.\nThere is also probably a default way to get container element, which I oversee during code research.. ",
    "frasza": "Hey, @artf , any word on this? We have quite difficult time dealing with inaccessible color picker. . > > one big issue that I guess you're doing there is, when you change the page, relying on HTML/CSS instead of the JSON and this is why are not editable after the change\n\nYes, I was doing like this. However I'm currently using a custom text component, made by me, that doesn't have this issue.\n\nAny news on this? We are still having issues when reloading.. @artf Not exactly, but it could be. I would much rather prefer my Text block to insert <br> instead of creating new <div>.. Okay, so we have found a solution by adding data-gjs-type='span' to a span element so the code becomes:\nrte.add('span', {\n    icon: 'Span',\n    result: rte => rte.insertHTML(`<span data-gjs-type='span'>${rte.selection()}</span>`)\n});. ",
    "fguslinski": "Hi there, I solved this using the following configuration:\ngrapesjs.init({  \n  colorPicker: {  \n    appendTo: 'parent',  \n    offset: { top: 26, left: -166, },  \n  },  \n})\nMaybe you need to adjust the top and left positions for you, because I changed some sizes. But works perfect here.. ",
    "no-response[bot]": "This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have or find the answers we need so that we can investigate further.\n. ",
    "tfalcom": "@fguslinski \n\ngrapesjs.init({ colorPicker: { appendTo: 'parent', offset: { top: 26, left: -166, }, }, })\nThis did not solve the problem, the variable 'colorPicker' does not work for me. I use \"grapesjs\": \"0.12.17\". Who has some other alternative?\n. \n",
    "arachnosoft": "Just to add some follow-up and updated info on this issue.\nWe also had it on the latest grapesjs (0.14.52)... but only on Firefox.\nOur context is roughly the same as @cmoutafidis, @BaptisteLeBescond and @swarnat , grapesjs is embedded inside an iframe (which is a custom \"modal\" window built just as those from CKEditor or grapesjs).\nThe color picker was displayed like this:\n\nHere is the corresponding F12 console from Firefox:\n\nI used the configuration tip provided by @fguslinski , and it works on most cases:\ncolorPicker: { appendTo: 'parent', offset: { top: 20, left: -175 } },\nGives this:\n\n\nIt seems to work on several browsers and screen resolutions, but this fix may not be perfect, as it relies on somewhat random offset coordinates depending of our own appreciation.\n@artf , just to give you a (very) raw idea of our HTML page structure, in case it'd help you reproducing the issue... but I doubt that you'll have enough information to do so.\n\nHere is the computed CSS given by Firefox on the color palette DOM item:\n\n\n\nFeel free to ask for more information, I'll try to provide what you need if you want to investigate furthermore on this issue (not really needed on my side thanks to @fguslinski 's fix which worked for me, but not for @tfalcom , apparently).. Here is the screenshot I mentioned earlier:\n\n. Yeah @artf , seems to be the exact test case...\nIf I refresh the page to get a clean context, empty the canvas, drop a Grid component (quite complex one), select some of its text and surrounding cells WITHOUT activating CKEditor, and drag/drop it from the text, it's working correctly.\nBut as soon as I double-click on a cell to activate CKEditor, click elsewhere to disable editing, and follow the exact same steps as above (making the exact same selection and drag/drop), the dropped contents is \"null\".\n\nAnd, unless I refresh the page to get rid of all CKEditor instances in the DOM, the issue remains, even if I empty the canvas first:\n\nGlad you reproduced it as well, because it was quite a pain to find what was going wrong!\nI noticed that a new CKEditor instance was being created into the DOM each time a new component is edited, even though the CKEditor plugin uses CKEditor's inline() method. I don't know if this is \"by-design\", or if it could explain that kind of issue.. ",
    "DeathStapler": "I tried changing them to arrays.  I tried just printing what you (@duskhacker) are using.  Neither worked. \nI validated the JSON, just to make sure it checked out. \nThis is my setup.  Does anything look incorrect?\nvar editor = grapesjs.init({\n        container : '#gjs',\n        style: '.txt-red{color: red}',\n        plugins: ['gjs-preset-newsletter', 'gjs-blocks-basic'],\n        pluginsOpts: {\n            'gjs-blocks-basic': { blocks: ['video'] }\n        },\n        assetManager: {\n            assets: [\n                 'https://siteurl.edu/uploads/screen-shot-2017-11-29-at-9-17-08-am.png',\n                 'https://siteurl.edu/uploads/screen-shot-2017-11-16-at-9-21-05-am.png',\n            ],\n            storeOnChange: true,\n            storeAfterUpload: true,\n            upload: \"/upload-editor-media\",\n        },\n        storageManager: {\n            type: 'remote',\n            stepsBeforeSave: 1,\n            storeComponents: false,\n            storeStyles: false,\n            storeHtml: true,\n            storeCss: true,\n            urlStore: \"/save-template/2\",\n            urlLoad: \"/load-template/2\", \n            params: {},   // For custom values on requests\n          }\n    });. So when I set:\ncontentTypeJson: true,\nresulting in:\nstorageManager: {\n            type: 'remote',\n            autoload: true,\n            stepsBeforeSave: 1,\n            contentTypeJson: true,\n            urlStore: \"/save-template/2\",\n            urlLoad: \"/load-template/2\", \n            params: {},   // For custom values on requests\n          },\nI can now load from the database.  But, now it will not save, because it is sending the data as JSON.  How can I send the data as POST variables, but receive it as JSON?. Never mind.  I will just take the JSON that is sent in the body of the POST and use that.. Hi,\nI am storing and retrieving all the of columns.. I had similar problems.  Look at the issue I created.  Issue #597.\nMy issue related to the use of contentTypeJson: true, but you already have that in yours.. ",
    "attaalive": "Hi thanks for your response. I have added a device with width and height. I have given the size of device in inches instead of pixels. Now Margin,Padding and positioning is not working. Please see the screen shot below.\n\n Regards. @artf  Here is the live example at http://34.210.66.189/grapesJs/\n Padding and positioning is not working\n. ",
    "fabianomiranda": "Thank you very much for responding. I want to create a new button on the toolbar when selecting an element.. thank you so much. ",
    "Areahints": "supported, as an editor with amazing potential for GUI designers, it surprisingly hard to use or \"instantiate\". ",
    "niutech": "Working on it? That Merlot project is a stub, just one commit 6 months ago. I am talking about serious work.. I've just made an initial version of GrapesJS Desktop using NW.js. Anybody would like to contribute?. ",
    "kuldeepcis": "\nhttps://jsfiddle.net/gwojsok7/3\n\nLink data not fetched after reload the page..  can you please provide the unminified version of grapesjs-preset-webpage.min.js?. Hi @artf ,\nThis is the fiddle for it\nhttps://jsfiddle.net/apaoa5o2/14/\nIn the extra section there is the block for social icon\nIssues with this are:\n1) when you drag and drop it you need to select parent to see the settings section on right.In settings you will see facebook url and show facebbok.\n2)when you edit the url in facebook and checked the checkbox you will see the reflection on left.I want this checkbox to be preselected on page load.\n3)when you export it the facebook icon is not having the URL which we set.Please let me know how we can do that.. you can download through below URL, not clone\nhttps://github.com/artf/grapesjs/blob/gh-pages/demo.html. \n\nBut still I'm facing same issue on latest version 14.20\nCan you @v8jupiter please share code with us.\nResponse format attached above.\nPlease check and let me know if I'm doing something wrong \n. ",
    "z1lk": "I've fiddled with the code and made a small patch that fits my needs. A config option surround lets you specify an ID, which represents an element in the container. This DOM subtree is plucked out during the main initialization, stored in the Editor config, and picked up by the Canvas. The Canvas then handles rendering of the surround around the wrapper. I am interested to know if anyone else has needs like this and if this seems like a good solution.\nAgain, if the use case isn't clear: suppose I am using Bootstrap, and I have a Theme with a container, navbar, footer, etc. I then have a page Template which I am editing with Grapes. I want to see the Template inside its Theme's HTML, but I should be able to edit only the Template, and similarly Editor.getHtml() should return only the Template HTML.. I used a solution similar to yours so I don't have to maintain changes to the Grapes source. Sometimes the position of the component \"tools\" are out of place, as if their vertical offset is computed relative to the body and not the wrapper. I can't reliably reproduce it though. Thanks for your help @artf  \nedit: I think the tools misplacement was due to the \"surround\" moving from outside the canvas to inside. I no longer have the problem, but I can produce a similar issue by selecting a component to bring up the tools and then opening up my browser's inspector (Firefox). Similar to #495 . Ah. The ClassTagsView (classes section of the style manager) updates the selector list on the event \"change:selectedComponent\" on the editor model.\nhttps://github.com/artf/grapesjs/blob/66c19dae4ff5536a34b9ea73d3614fc76752a77c/src/selector_manager/view/ClassTagsView.js#L54\nFixed my problem by adding the following to the end of my changeColClass method:\nthis.em.trigger('change:selectedComponent');. I've been trying to find a solution but can't. Do you mean alter the HTMLElement or the Component? The component model is the source of truth, and it's unsafe to edit the canvas DOM, right? Here is my shot at a component-based solution:\n```js\nchangeTagName() {\n  var em = this.em;\n  var ed = this.em.get('Editor');\n// deselect the current header\n  ed.select(null);\n// create a new component\n  var parent = this.parent();\n  parent.components().add({\n    tagName: this.get('header-size'),\n    type: 'header',\n    style: this.getStyle(),\n    attributes: this.getAttributes(),\n    content: this.view.el.innerHTML, // should only be text, since header comp extends text type\n    'header-size': this.get('header-size')\n  });\n// find the index in the child list of the old header's parent\n  var parent_children = this.parent().components().models;\n  var element_i = null;\n  for(var i = 0; i < parent_children.length; i++) {\n    if(parent_children[i] == this) {\n      element_i = i;\n    }\n  }\n//this.parent().components().remove(this);\n  this.destroy();\n  var new_comp = parent_children.pop(); // remove the new component from the end of list\n  parent_children.splice(element_i, 0, new_comp); // inject into child list at appropriate index\n}\n```\nI'm having the same problem, though. The header is in the right spot in the code viewer and in the layers panel, but it's at the end of the list on the Canvas. How do I trigger a re-rendering of the canvas? Maybe it would be nice to have a Component API method to add a component at a certain index.\nAll advice is welcome. Thanks @artf . Great. I can now simply create a Header component with a trait like so:\njs\n{\n  type: 'select',\n  options: [\n    {value: 'h1', name: 'One (largest)'},\n    {value: 'h2', name: 'Two '},\n    {value: 'h3', name: 'Three '},\n    {value: 'h4', name: 'Four '},\n    {value: 'h5', name: 'Five '},\n    {value: 'h6', name: 'Six (smallest)'},\n  ],\n  label: 'Size',\n  name: 'tagName',\n  changeProp: 1\n}. @olivmonnier check the tag name:\njs\nisComponent: function(el) {\n  if(el && ['H1','H2','H3','H4','H5','H6'].includes(el.tagName)) {\n    return {type: 'header'};\n  }\n}. I'm not sure why el would be a string, but see the commit that closed the issue: https://github.com/artf/grapesjs/commit/e450cb98855d16ad819f1214350825a50e45e910\nIf you're using the latest Grapes version, the Component listens for a change of tagName and does the node replacement itself. So you should be able to remove your init and tagUpdated functions. The trait will update tagName and the Component will do the rest.\nEdit:\nAnother thing I thought of is: sometimes the object passed to isComponent doesn't have the method that I call on it, and there will be an error thrown in that case. You could do a safety check first:\njs\nif(el && el.tagName && ['H1','H2','H3','H4','H5','H6'].includes(el.tagName)) {\n  .... Yeah, since it seems no one has started the project, I did: https://github.com/z1lk/grapesjs-blocks-bootstrap4.\nI'm not a super-experienced JS developer so any comments or help is welcome.\nThanks for the sick plugin boilerplate @artf\n. ",
    "tristanMatthias": "@artf Thanks for this code! Very useful.\nOn my initial test for this I get:\nUncaught TypeError: Cannot read property '_cash1550657156611' of undefined\nRunning GrapesJS v: 0.14.52\nChrome: 72.0.3626.109 (Official Build) (64-bit)\nMojave OSX\nAny idea on how to move forward?. I'm using in Origami CMS!. Thanks @artf! I need a lot of help \ud83d\ude05. ",
    "hatchwald": "I was try to find code that feature but , i am still haven't find it yet. ",
    "hoainam12k": "You can use basic blocks here: https://github.com/artf/grapesjs-blocks-basic (and other from README file). hi @frank-tenzing,\nI think you should do it on server side, not in the Grapes editor. For example create a manage form for merge tags and send it to Grapes with API-Rich-Text-Editor. This way you can make some merge tags are available for some template only.. Yes, just choose Device from top left \n and change the style.\nYou can add custom breakpoint too, check API-Device-Manager page.. You must drag new block (text for example) and change background color. It does not happen with blocks already there when you load the page.\nSame problem on your demo and code from Github but It's ok on your jsfiddle link (I tried to add new block to jsfiddle and it work well). 1. Open src/blocks.js. Remove line 95 -> 109 (line 95 start with if (blocks.indexOf('video') >= 0) {)\n2. Open src/index.js, line 7: remove 'video',\nRebuild package. I guess it will work!. ",
    "afotey": "@ryandeba @artf  This is a good solution. What about if I wanted to return just the ID of a div as entered using the Component Settings panel?\nFor instance, let's say I create a form by dragging and dropping some form elements into the editor, then assign IDs to said elements via the Component Settings panel. \nIs there a way to have the export be ONLY those IDs and NOT any of the accompanying HTML/CSS?. Thanks for your response. \nI'm not sure how to implement this, though. Apologies for my ignorance here...\nI see in the jsfiddle example @ryandeba provided on how you can mask the exported HTML of the bespoke \"<my-component>\" tag, but what about specifically showing JUST the ID of a dynamic element I would drag onto the editor? \nMore specifically:\n- I create some rows with multiple columns in them (I figured out how to add more than three columns and have it be a basic block component BTW!)\n- I drag some form elements (textarea, input field, etc.) into the columns\n- Only the rows and columns have the ability to be given IDs, so I give the first row an ID of \"1\", the first column in that row and ID of \"2\", the second column an ID of \"3\", etc.\n- I repeat the process with a second set of rows and columns, this row's ID = 2, the first column's ID=1, second column's ID=2, third column's ID=3...\n- I repeat with a third row, Row ID=3, 1st col ID = 1, 2nd col ID=2, 3rd col ID=3...\n- And so on and so forth...\n- Upon export, how do I return just these IDs (i.e., 1,1 1,2 1,3 1,4 then 2,1 2,2 2,3 2,4 then 3,1 3,2 3,3 3,4 ...)?\nI just backed this application on Open Collective BTW! I hope it helps!. A SCSS style tutorial would be nice. If you're referring to having your generated content save and persist upon refresh, try this:\nvar editor = grapesjs.init({\n          container : '#gjs',\n          storageManager: {\n            // type: 'none'\n            id: 'gjs-',             // Prefix identifier that will be used inside storing and loading\n            type: 'local',          // Type of the storage\n            autosave: true,         // Store data automatically\n            autoload: false,         // Autoload stored data on init\n            stepsBeforeSave: 1,     // If autosave enabled, indicates how many changes are necessary before store method is triggered\n            storeComponents: false, // Enable/Disable storing of components in JSON format\n            storeStyles: false,     // Enable/Disable storing of rules/style in JSON format\n            storeHtml: true,        // Enable/Disable storing of components as HTML string\n            storeCss: true,         // Enable/Disable storing of rules/style as CSS string\n          },. @z1lk has provided a Bootstrap 4-driven solution which works fine!\nhttps://github.com/z1lk/grapesjs-blocks-bootstrap4. ",
    "olivmonnier": "Hi how to check after that the component in isComponent ? . With this code, el become a string so i can't check the tag name:\n```javascript\nexport default (editor, config = {}) => {\n  const domc = editor.DomComponents;\n  const defaultType = domc.getType('default');\n  const defaultModel = defaultType.model;\n  const defaultView = defaultType.view;\nconst textType = domc.getType('text');\n  const textModel = textType.model;\n  const textView = textType.view;\ndomc.addType('header', {\n    model: textModel.extend({\n      defaults: Object.assign({}, textModel.prototype.defaults, {\n        'custom-name': 'Header',\n        attributes: { 'data-type': 'header' },\n        tagName: 'h1',\n        traits: [\n          {\n            type: 'select',\n            options: [\n              { value: 'h1', name: 'One (largest)'},\n              { value: 'h2', name: 'Two' },\n              { value: 'h3', name: 'Three' },\n              { value: 'h4', name: 'Four' },\n              { value: 'h5', name: 'Five' },\n              { value: 'h6', name: 'Six (smallest)' }\n            ],\n            label: 'Size',\n            name: 'tagName',\n            changeProp: 1\n          }\n        ]\n      }),\n      init() {\n        this.listenTo(this, \"change:tagName\", this.tagUpdated);\n      },\n      tagUpdated() {\n        const coll = this.collection;\n        const at = coll.indexOf(this);\n        coll.remove(this);\n        coll.add(this, { at });\n      }\n    }, {\n      isComponent(el) {\n        if (typeof el == 'string') {\n          return { type: 'header' }\n        }\n      }\n    }),\n    view: textView\n  })\n  // ...\n}\n```. ",
    "ajaysofto": "Ok thanks for the message. Hi artf,\nIts urgent,please reply as soon as possible as we are struck in the middle of the tasks.\nHope for positive response.. ",
    "tlatforlz": "Thanks you @artf . ",
    "TimNZ": "I came to ask the same thing.\nI'm using the raw fontawesome SVG.\nhttps://github.com/FortAwesome/Font-Awesome/tree/master/advanced-options/raw-svg\ncardRequestBlock && bm.add(type, {\n    label: `\n      <svg class=\"gjs-block-svg\" viewBox=\"0 0 576 512\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill-rule=\"evenodd\">\n          <path d=\"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z\"/>\n        </g>\n      </svg>\n      <div class=\"gjs-block-label\">Card Request</div>\n    `,\n    content,\n    category: 'Stripe',\n    ...cardRequestBlock\n  });. I can understand the delay - switching to FA5 is not an insta decision as FA5 separates icons out and requires checking and maybe updating class \n. Thanks for the reply.  I'll have a play as well.\nAwesome awesome awesome work with Grapes, greatly appreciated.\nI'm using a number of components that have had a huge amount of work put in by many people and will support as soon as I can afford to.\n. @artf legend!. ",
    "erickpece": "Just wanted to check in to see if there's a timeline on this?  Working on a site that has FA5, but it causes conflicts while trying to integrate GJS.. ",
    "chapterjason": "In favor of the roadmap (https://github.com/artf/grapesjs/issues/74) to Get rid of font-awesome and start using <svg>s for icons I would close this issue.. https://github.com/artf/grapesjs/issues/195\nhttps://github.com/artf/grapesjs/issues/473\nhttps://github.com/artf/grapesjs/issues/444\nhttps://github.com/artf/grapesjs/issues/66\nHere are some solutions, please search next time before open an issue.. Could you please provide more information? And could you please indent your code correctly that it's getting rendered by github?. > How to save sections/blocks /components (for example to GitHub)?\nhttps://github.com/artf/grapesjs/wiki#storeload-data\nhttps://github.com/artf/grapesjs/wiki/API-Storage-Manager\n\nHow to load remote sections/blocks (for example from GitHub)?\n\nhttps://github.com/artf/grapesjs/wiki#storeload-data\nhttps://github.com/artf/grapesjs/wiki/API-Storage-Manager\n\nWhat is the exact relationship between components, blocks, and sections?\n\nhttps://github.com/artf/grapesjs/wiki/Blocks\nhttps://github.com/artf/grapesjs/wiki/Components\nWhat are sections?\n\nLearning resources for newcomers. What frameworks should I learn to understand and extend grapesjs?\n\nAll used dependencies are listed here https://github.com/artf/grapesjs/blob/dev/package.json they all should have their own docs. Mainly I would say Backbone and JavaScript itself.\n\nExplain project directory structure? What is where?\n\nAfter some days working with this project I figured out that every directory is a module with the views and models. More about views and models you can get at Backbone\n\nHow to load custom CSS at runtime? From GitHub?\n\nhttps://github.com/artf/grapesjs/wiki/API-Editor#setstyle\nLoading css file directly I'm currently unsure.\n\nHow to save HTML/CSS separately?\n\nhttps://github.com/artf/grapesjs/wiki#storeload-data\nhttps://github.com/artf/grapesjs/wiki/API-Storage-Manager\nThey are saved separately, please read the docs (wiki).\nhttps://github.com/artf/grapesjs/wiki. Yeah, there should be a way to solve this. But I have to say that using !important is a really bad practice.\nI would rather do something like strip the important statements out to get this working.\nCould I know what kind of pre-compiler you're using? Looks really wired.... You can change the state for an element in the style-manager and then change the color and all the other properties.\n\nThe editor will save then the properties associated to their state in css with all the #test:hover { ... } selectors.. @perfect-coders did you mean the style of the editor? Not the elements in the editor ?. @artf I think there is something wrong with the no-response bot :smile:. Hey,\nThere are some ways to do this.\nRead this to get a solution to use Juice\nFor some more details I would read more in the docs about the storage-manager.\nPlease use the search functionality next time.\nCheer! \n. You can find all the styles for the editor in the following directory https://github.com/artf/grapesjs/tree/dev/src/styles/scss Note: it's scss not css\nI you want to find out the css selectors directly, you can use the browser developer tools. If you have found your selectors you want to change, create a file write your overridings an load them after you load the editor. That should work.\nExample: https://jsfiddle.net/3bprucnv/3/. ",
    "sceee": "I am facing the same issue - after reading severeal issues I am still not sure if there is a possibility to use GrapesJS with Fontawesome 4 (which it requires) by delivering Fontawesome 4 from the own website AND use Fontawesome 5 on the same page for other stuff.\nDid anyone manage to get the GrapesJS editor working on a website that uses Fontawesome 5?. ",
    "juanj": "To achieve this, you need to add the style separated from the block and set the classes to the block.\nLook for example how this is done in the basic blocks plugin:\nhttps://github.com/artf/grapesjs-blocks-basic/blob/master/src/index.js#L29. Looking at\nhttps://github.com/artf/grapesjs/blob/dev/src/dom_components/model/Component.js#L276\nI would say removeClass is not implemented.\nIf you know the other classes I think you can do setClass with an array that don't have the class you want to remove. It looks like it have something to do with the scroll. If you scroll, the blue selection box shows where the paragraph was at the start. I don't think it have anything to do with the image. Even if you delete the image and scroll you get the same result.. I'm not sure if this is the optimal way of doing it but you can listen to the event component:selected and if the component selected is the one you want you can add a new sector. Then you need to listen to the event component:deselected and if the component deselected is the one from before you remove the extra sector. \nIf you don't want to create a whole sector you can juts use addProperty and  removePropertyover an existing sector.\nThe same can be done to remove sectors for a specific component.\neditor.on('component:selected', function(component) {\n  if(component.attributes.tagName == 'div') {\n    const styleManager = editor.StyleManager;\n    styleManager.addSector('div-only-sector',{\n      name: 'Div only sector',\n      open: true,\n      properties: [{ name: 'This is a div'}]\n    });\n  }\n});\neditor.on('component:deselected', function(component) {\n  if(component.attributes.tagName == 'div') {\n    const styleManager = editor.StyleManager;\n    styleManager.removeSector('div-only-sector');\n  }\n}). You can use this inside the script to reference the block element. If you want the id you can use this.id.\nNote that document.getElementById(this.id) == this. ",
    "tommywulove": "Hi @ryandeba,\nThanks for your effort.\n. Hi @artf, more one question,  can i have a enhancement for select command, when the cursor click or hover the element which is not selectable, then the selection jump to available element. Since the element not available to select, i want the user jump to the parent element.  . @artf  Noted, i will create a new issue for any new issue, thanks.. Hi @artf ,\nI am trying to help for this enhancement. But i am not sure am i correct, please help to verify.. Hi @ryandeba , \nThanks for your reply. I found that the component:add event is not suitable for my case, so i used component type to solve my problem. I updated the component type and added some new component type to control which action can be use in the element.. Hi @artf,\nI found that the command running sequence when click the preview button:\n\nIs it a bug ? this running sequence make me cannot get the correct classname of canvas' body. so cannot store the state before run the preview command. I cannot make a further development.\n. @artf  but why i click the preview button, it will trigger the stop command once , then run the command ? . Hi @artf, checked on the latest commit and no problem on command running sequence. And i will be available work on this enhancement.. \nWhen the border is not shown, then click preview button and go to preview mode, then exit preview model, the border show again.. \nChrome has same result.. Sorry, my bad, i used the testing script and put into server. I rebuild  the script is fine. . updated.. updated.. ",
    "mingodad": "Trying to find the problem I can see that the canvas has the class removed but not the model, I'm trying to find where in code it was supposed to be removed but I'm having a hard time finding it.\nAnyone has any idea ?. After several attempts I found a place to clear the class from the model but I'm not sure that this is the best place or form to achieve it.\nIn SectorsView.js:targetUpdated()\n```\n...\n    if (classes.length) {\n      var valid = classes.getStyleable();\n      var iContainer = cc.get(valid, state, media);\n  if (!iContainer && valid.length) {\n    // I stop undo manager here as after adding the CSSRule (generally after\n    // selecting the component) and calling undo() it will remove the rule from\n    // the collection, therefore updating it in style manager will not affect it\n    // #268\n    um.stop();\n    iContainer = cc.add(valid, state, media);\n    iContainer.setStyle(model.getStyle());\n    model.setStyle({});\n    um.start();\n  }\n\n  if (!iContainer) {\n    // In this case it's just a Component without any valid selector\n    pt.model = model;\n    pt.trigger('update');\n    return;\n  }\n\n  // If the state is not empty, there should be a helper rule in play\n  // The helper rule will get the same style of the iContainer\n  state && appendStateRule(iContainer.getStyle());\n\n  pt.model = iContainer;\n  pt.trigger('update');\n  return;\n}\n\n///////////////////////////\n    else delete model.attributes.attributes.class; //if there is no classes then clear it on model ?????\n/////////////////////////\n...\n```. ",
    "SwithFr": "Thank with a plugin it's works ! . In fact it's seem that the problem comes from the isComponent. \nMy component is detected with his className 'img-link' and the type 'img-link' is return and so re-rendered.. Hi ! \nThere's a JSFiddle reproducing the bug.\nThank for your help ! \n  . ",
    "SeongwoonHong": "\nThe problem with src is here\njs\n// view\neditor.runCommand( 'open-assets', {\n                      //  the model should be the one inside img-link\n                        target: this.model,\nWhat I think you just should do is to create a custom view where you disable the pointer events on the inner img (eg. in render, in this way you'll always select the img-link model) and then on openModal pass the inner img model as a target\n\n@artf Could you provide some code example by any chance? i've had same issue but not sure how to implement what you say... P.S) Just tested on newsletter, it also returns undefined... > @SeongwoonHong you can do whatever you want by adding your custom action to RTE\n\nhttps://grapesjs.com/docs/api/rich_text_editor.html#add\n\n@artf  I can't figure it out.. could you give me a sample code if you don't mind...?\nCan't figure out how to open settings that has href once a link component is created...\nso what I'd like to do is the moment you click link button in RTE, i'd like to open 'Settings' and it should have href and title and stuff underneath...\nThank you.. @artf I'm so sorry for asking silly question but.. what do you mean by 'When you select the text there are no component, just a text'?\nWhat i meant was when you click any text in side Text Block component... I'd like to add one more, inside onclick handler for btnLink, <a class=\"link\" href=\"${inputEl.value}\">${rte.selection()}</a> returns <a class=\"link\" href=\"...\"></a> the inner text is empty..  i have no idea how to approach this . @artf \nHi Artur, I've read it but what i'm trying to achieve is to open up (programatically) settings that is already defined . I'm not trying to add or modify anything.. I'm not sure how the information in the link comes in play in this case.... please let me know\nthank you so much. @artf\nI want that action happens when I click 'link' button in the built in RTE..\nfor webpage preset demo site, when you change text to link, you need to lose focus and re-click the text in order to see href under 'Settings'. But I want to simplify this action... @artf \nHey Artur, I am so sorry but i don't think we are on the same page.. I don't have to open up trait manager as there's no trait manager as trait is now under the 'Style' like 'webpage' demo..\nPlease consider this page https://grapesjs.com/demo.html\nand try to make a link by double clicking any text in canvas and click link icon in RTE and click 'Settings' under Style. there's no href unless you lose focus out of the text and re-click the link..\nThank you as always.\n. @artf  I really appreciate your replies..\nbut how do i prompt users to type href like trait manager..? except modal which I've looked into it but couldn't implement\ni am so lost.. I just want to simplify the steps..\nclick link button and blur and re focus on the text is too much steps for users..i think... @artf Could you give me an example of doing it please? I've tried lots of stuff but couldn't find a way to get any attributes using rte.selection()....\nI really appreciated it Artur.. @artf Thank you for your quick response .. i know that the Selection document says that rte.selection().focusNode returns node but rte.selection().focusNode returns string here..\ndo you happen to know why and how to solve this?\nI even tried rte.selection().focusNode() but it says focusNode is not a function...\nThank you so much... @artf WOW\nyou save my life!Thank you! I have no idea how many hours to figure this out by myself...\nthank you thank you! it's working now.....!. @NicoEngler Thank you for reply!\nalthough, I'm not sure how to insert an image from image modal into the link-block component\neditor.on('block:drag:stop', model => {\n      if (model.getName() === 'Link') {\n        editor.runCommand('open-assets', {\n          target: this.editor.getSelected()\n        });\n      }\n    });\nif i do this, nothing happens even after i select an image from the modal\n@artf Is there any way to do that?\nPlus, the modal is empty initially before I open up asset manager by using Image component.\nI don't know why.. . @NicoEngler Hi, Thank you but\nI'm not talking about sector (dimension, typografie etc). I'm talking about 'Settings'..\nin other words, if i do editor.StyleManager.getSector('Settings') is null... @NicoEngler Hi Thank you for reply!\nbut I'm trying to modify existing built in traits. i'm not trying to create custom traits..\n. > Just extend the component (do it via plugins)\n\njs\neditor.DomComponents.addType('link', {\n  model: {\n      defaults: {\n          traits: [\n                { type: 'text', label: 'My title', name: 'title' },\n              { type: 'text', label: 'My href', name: 'href' },\n              { \n                  type: 'select', \n                  label: 'My href', \n                  name: 'href', \n                  options: [\n                      { value: '', name: 'This' }, \n                      { value: '_blank', name: 'New' }  \n                  ] \n              },\n          ]\n      }\n  }\n})\n\n@artf , I tried above exactly but it does not work.. i also tried below but same.. does not work. any ideas?\nconst defaultType = editor.DomComponents.getType('default');\nconst defaultModel = defaultType.model;\neditor.DomComponents.addType('link', {\n      model: defaultModel.extend({\n        defaults: Object.assign({}, defaultModel.prototype.defaults, {\n          traits: [\n            {\n              type: 'text',\n              label: 'My title',\n              name: 'title'\n            },\n            {\n              type: 'text',\n              label: 'My href',\n              name: 'href'\n            },\n            {\n              type: 'select',\n              label: 'My select',\n              name: 'href',\n              options: [\n                {\n                  value: '',\n                  name: 'This'\n                },\n                {\n                  value: '_blank',\n                  name: 'New'\n                }\n              ]\n            }\n          ]\n        })\n      })\n    });. ",
    "lorrandavid": "@crazyxhz after the new release v0.14.5 it's now possible to render block manager outside of the main editor. You can achieve the desired result like this:\ngrapesjs.init({\n  ...\n  layerManager: {\n    appendTo: 'query-or-element',\n    ...\n  },\n  blockManager: {\n    appendTo: 'query-or-element',\n    ...\n  },\n  styleManager: {\n    appendTo: 'query-or-element',\n    ...\n  },\n  selectorManager: {\n    appendTo: 'query-or-element',\n    ...\n  },\n  traitManager: {\n    appendTo: 'query-or-element',\n    ...\n  }\n});\nI don't know if it's docummented but you can find more about it on @artf explanations on the release https://github.com/artf/grapesjs/releases/tag/v0.14.5. @ryandeba I'm getting an error for TypeError: t.Panels.getButton(...) is null on line \ngrapesjs-preset-newsletter:15:54147 which is:\nt.on('load', function () {\n      t.Panels.getButton('options', 'export-template').set('attributes', {\n        title: a.expTplBtnTitle\n      })\n...\nHow can I solve it? I don't have any 'options' panel. Currently I solved it like this:\neditor.on('load', function() {\n    var panelManager = editor.Panels;\n    editor.Panels.render([\n        panelManager.removePanel('options'),\n    panelManager.removePanel('views'),\n    panelManager.removePanel('devices-c'),\n    ]);\n});\nBut I think it's not ideal, because it first shows the editor with all the panels them they get removed, is there a way to improve it?. There isn't a special method to translate things. You can read more about it here #26. . It seems like it happens on IE 10 and 11. I'm not exactly sure about the build version but I'll look into it when I get home and edit this.\nEDIT: Currently my IE 11 is on build 11.0.9600.17843IS but I've also tried it on Windows 10 latest update and the result was the same. If you can't replicate the issue I can record a gif for you.. Any news on this matter @artf? I can try to help you if you need. If you want to create a new type of trait you gonna need to do it first at the Trait Manager then apply it to your block.\nYou can read more about it here https://grapesjs.com/docs/modules/Traits.html#define-new-trait-type. ",
    "sufuf3": "Thank you :). ",
    "JulyanoF": "@suchithmahadi something like\n$('.fa-th-large').remove();\nYou can put it after grapesjs init. @artf I guess that I'm doing somethin wrong.. Some blocks are not removing and some blocks of should be adding, is not adding:\nvar bma = editor.BlockManager.getAll().models;\nvar ids_remover = [];\nfor(x in bma){\n    var bloco = bma[x];\n    if(bloco.id == \"sect100\" || bloco.id == \"sect50\" || bloco.id == \"sect30\" || bloco.id == \"sect37\" || bloco.id == \"divider\" || bloco.id == \"quote\" || bloco.id == \"link\" || bloco.id == \"link-block\" || bloco.id == \"list-items\"){\n        ids_remover.push(bloco.id);\n    }\n}\nfor(x in ids_remover){\n    editor.BlockManager.remove(ids_remover[x]);\n}\nvar blocos = [];\nfor(x in bma){\n    var bloco = bma[x];\n    if(bloco.id == \"image\"){\n        bloco.id = \"imagem\";\n        var obj = {\n            label: 'Imagem',\n            attributes: {\n                class: \"gjs-fonts gjs-f-image\"\n            },\n            content: {\n                type: \"image\",\n                activeOnRender: 1\n            },\n            id: bloco.id\n        }\n        blocos[0] = obj;\n    }else if(bloco.id == \"text-sect\"){\n        bloco.id = \"texto-select\";\n        blocos[1] = bloco;\n    }else if(bloco.id == \"text\"){\n        bloco.id = \"texto\";\n        var obj = {\n            label: 'Texto',\n            attributes: {\n                class: \"gjs-fonts gjs-f-text\"\n            },\n            content: {\n                type: \"text\",\n                style: {\n                    padding: \"10px\"\n                },\n                content: \"Insira seu texto aqui\",\n                activeOnRender: 1\n            },\n            id: bloco.id\n        }\n        blocos[2] = obj;\n    }else if(bloco.id == \"button\"){\n        bloco.id = \"botao\";\n        var obj = {\n            label: 'Bot\u00e3o',\n            attributes: {\n                class: \"gjs-fonts gjs-f-button\"\n            },\n            content: \"<button class='btn btn-success' >Bot\u00e3o</button>\",\n            id: bloco.id\n        }\n        blocos[3] = obj;\n    }else if(bloco.id == \"grid-items\"){\n        bloco.id = \"grupo-imagens\";\n        var obj = {\n            label: 'Grupo de Imagens',\n            attributes: {\n                class: \"fa fa-th\"\n            },\n            content: '<table class=\"grid-item-row\"><tr><td class=\"grid-item-cell2-l\"><table class=\"grid-item-card\"><tr><td class=\"grid-item-card-cell\"><img class=\"grid-item-image\" src=\"http://placehold.it/250x150/78c5d6/fff/\" alt=\"Image\"/><table class=\"grid-item-card-body\"><tr><td class=\"grid-item-card-content\"><h1 class=\"card-title\">T\u00edtulo</h1><p class=\"card-text\">Aqui vem o texto</p></td></tr></table></td></tr></table></td><td class=\"grid-item-cell2-r\"><table class=\"grid-item-card\"><tr><td class=\"grid-item-card-cell\"><img class=\"grid-item-image\" src=\"http://placehold.it/250x150/78c5d6/fff/\" alt=\"Image\"/><table class=\"grid-item-card-body\"><tr><td class=\"grid-item-card-content\"><h1 class=\"card-title\">T\u00edtulo</h1><p class=\"card-text\">Aqui vem o texto</p></td></tr></table></td></tr></table></td></tr></table>',\n            id: bloco.id\n        }\n        blocos[4] = bloco;\n    }else if(bloco.id == \"video\"){\n        bloco.id = \"video-\";\n        blocos[5] = bloco;\n    }\n}\nfor(x in bma){\n    editor.BlockManager.remove(bma[x].id);\n}\nfor(y in blocos){\n    console.log(\"adicionou bloco: \" + blocos[y].id);\n    editor.BlockManager.add(blocos[y].id, blocos[y]);\n}\nconst bm = editor.BlockManager;\nbm.render([\n    bm.get('imagem'), \n    bm.get('texto-sect'), \n    bm.get('texto'),\n    bm.get('botao'), \n    bm.get('grupo-imagens'), \n    bm.get('video-')\n]);. @artf I'm just trying to translate some blocks to my language and only button block I just trying to change content. And it is not rendering my all translated blocks. You can put your css inline like this:\n<div id=\"gjs\" class=\"overflow-y max-height-50vh\">\n    <style>\n        img {\n            width:100%;\n        }\n    </style>\n</div>\nOr import a .css file, like this:\ngrapesjs.init({\ncontainer : '#gjs',\ncanvas: {\n        styles: [\n            'all.css'\n        ]\n    }\n});. Hello @lypliuyinping \nYou can create custom blocks like this:\nvar customBlock = {\n            label: 'Button',\n            attributes: {\n                class: \"gjs-fonts gjs-f-button\"\n            },\n            content: \"<button class='btn btn-success' >Button</button>\",\n            id: \"myButtonId\"\n        };\neditor.BlockManager.add(customBlock.id, customBlock);. Are you using bootstrap? Or another js lib to create a dialog box?. When you say \"element\", you are talking about blocks? Like button, text, section...?. You can get all blocks like this:\nvar blocks = editor.BlockManager.getAll().models;. @lauragadea , please check #266 . @RiyaThete to load css into editor, you need to insert it on grapesjs init, something like that:\nvar editor = grapesjs.init({\n   [...]\n    container : '#gjs',\n    canvas: {\n        styles: [\n            'http://url.to/file.css'\n        ]\n    }\n});\nOr if you want to include css inline:\n<div id=\"gjs\" class=\"overflow-y max-height-60vh\">\n    <style>\n    my-class{\n        color: red;\n    }\n    </style>\n</div>\n. @artf so, I tried it and didn't work, it isn't setting active my panel button with id \"editorCK\"\neditor.on('component:selected', () => {\n    const selected = editor.getSelected();\n    const openLayersBtn = editor.Panels.getButton('views', 'editorCK');\n    if (selected && selected.is('text')) {\n        if(!openLayersBtn || !openLayersBtn.get('active') && selected){\n            const openSmBtn = editor.Panels.getButton('views', 'editorCK');\n            openSmBtn && openSmBtn.set('active', 1);\n        }\n    }\n});\n\n. Yes @artf , thanks for your quick reply. I created but I changed it to editorCK, the same as button id:\neditor.Panels.addButton('views',{ // `views` is the panel's id\n    id: 'editorCK',\n    className: 'fa fa-pencil',\n    command: 'editorCK',\n});\neditor.Commands.add('editorCK', {\n    run: function(editor, sender){\n        const bm = editor.BlockManager;\n        const pn = editor.Panels;\n        var blocoSelecionado = editor.getSelected();\n        if(this.mkeditorCustom){\n            $(this.mkeditorCustom).remove();\n        }\n        if (blocoSelecionado && blocoSelecionado.attributes.type == \"text\"){\n            bm.render();\n            const id = 'views-container';\n            const mkeditorCustom = document.createElement('div');\n            const panels = pn.getPanel(id) || pn.addPanel({ id });\n            const textarea = document.createElement('textarea');\n            textarea.id = \"ckeditor\";\n            mkeditorCustom.appendChild(textarea);\n            panels.set('appendContent', mkeditorCustom).trigger('change:appendContent');\n            this.mkeditorCustom = mkeditorCustom;\n            $('#ckeditor').html(blocoSelecionado.get('content'));\n            if(CKEDITOR.instances.ckeditor) CKEDITOR.instances.ckeditor.destroy();\n            if(!CKEDITOR.instances.ckeditor) CKEDITOR.replace('ckeditor', opcoesCKEDITOR);\n            CKEDITOR.instances['ckeditor'].on('change', function() {\n                blocoSelecionado.components(CKEDITOR.instances['ckeditor'].getData());\n            });\n        }else{\n            bm.render();\n            const id = 'views-container';\n            const mkeditorCustom = document.createElement('div');\n            const panels = pn.getPanel(id) || pn.addPanel({ id });\n            const conteudo = document.createElement('h3');\n            const texto = document.createTextNode('Selecione um bloco de texto para usar o editor de texto');\n            conteudo.appendChild(texto);\n            mkeditorCustom.appendChild(conteudo);\n            panels.set('appendContent', mkeditorCustom).trigger('change:appendContent');\n            this.mkeditorCustom = mkeditorCustom;\n        }\n        this.mkeditorCustom.style.display = 'block';\n    },\n    stop: function(editor, sender){\n        if(CKEDITOR.instances['ckeditor']) CKEDITOR.instances['ckeditor'].destroy();\n        const mkeditorCustom = this.mkeditorCustom;\n        mkeditorCustom && (mkeditorCustom.style.display = 'none');\n    }\n});. @artf and also, I sent you a message in Facebook.... I fixed doing something like this:\nThanks for your help @artf \n``\nvar domComps = editor.DomComponents;\nvar textType = editor.DomComponents.getType('text');\ndomComps.addType('text', {\n    model: textType.model,\n    view: textType.view.extend({\n        events: {\n        'click': function(){\n            if(selecionado && selecionado == this.model){\n                selecionado = false;\n                selecionadoB = false;\n            }else{\n                selecionado = this.model;\n                selecionadoB = 'text';\n                const selected = editor.getSelected();\n                const openLayersBtn = editor.Panels.getButton('views', 'editorCK');\n                if (selected && selected.is('text')) {\n                    if(!openLayersBtn || !openLayersBtn.get('active')){\n                        const openSmBtn = editor.Panels.getButton('views', 'editorCK');\n                        openSmBtn.set('active', 1);\n                    }\n                }\n            }\n        },\n        'mouseenter': function(){\n            editor.select(this.model);\n        },\n        'mouseleave': function(){\n            if(!selecionado){\n                editor.select(null);\n            }else{\n                editor.select(selecionado)\n            }\n        }\n        },\n    }),\n});. To get content:editor.getSelected().get('content')To set content:editor.getSelected().set('content', 'myhtml')`. > selected.components()\n@artf I don't want to create a new component into the selected block,. I need only edit the content. When I use this method, it is creating a new div into the previous block. How can I avoid it?. @ionic666 Hello. I did something like it:\neditor.getSelected().toHTML().replace(/<div class=\"c.*?>([\\s\\S]*?)<\\/div>/, '$1') to get content of selected area and editor.set('content', myContent) to set content. @Deepak813 I guess that it isn't in model, it should be something like:\neditor.getSelected().set('href', 'https://www.facebook.com/sharer/sharer.php?u=')\nYou don't need to access model. @Deepak813 Oh, you want to change anchor when is draggin/dropping?. It should be better you change the content of block when it is created..\nconst colmBlock = bm.get('c109').set({\n    content: '<a class=\"my-class\" href=\"https://my-url.com\">Click here</a>'\n})\nbm.render([\n    colmBlock,\n    //...\n]);. But you really need to change this attribute when it is dragged?. Okay, I don't know if you are trying to do it on drag start or stop, but I reproduced something like this:\neditor.on('block:drag:stop', function(model) {\n    model.attributes.attributes = {href:\"http://teste.com\"}\n});\nOr:\neditor.on('block:drag:stop', function(model) {\n    model.set('attributes', {href:\"http://teste.com\"})\n});. @Deepak813 post your code to let us help you. @ensemblebd you tried to change like it: editor.StorageManager.getConfig().urlStore = \"myUrl\"?. @Praunda to get html to edit:editor.getHtml();\nto get css to edit: editor.getCss();. Hello @pranzikkin \nYou can pass images to your backend to proccess image and store it in database:\nvar editor = grapesjs.init({\n    container : '#gjs',\n    assetManager: {\n        upload: 'http://localhost/mybackend/storeImageDatabase.php',\n        autoAdd: true\n    },\n    // [...]\n});\nAnd in PHP file you can take the image as a file: $_FILES. @pranzikkin it\u2019s missing a comma in line above, I edited.... @pranzikkin it is an array of files:\n$_FILES['files']\nYou can debug and see the response on browser's network (console).\nAs it is passing a single file of each time, the file is passing at the first position, so you can take the name of file ($_FILES['files']['name'][0]) the tmp name ($_FILES['files']['tmp_name'][0])...\nReference: PHP - File Upload. @pranzikkin You're welcome, I'm implementing GrapesJS in my CakePHP 3.x project \ud83d\udc4d . @pranzikkin I'm trying to learn this framework at all too.. I'm having many difficulties too hahaha. You can see how many questions I made here :/. @pranzikkin yes, I made exactly it hahaha and I created tree differente \"Models\" to user choose to start with them too xD And I made very significative changes in editor \ud83d\ude2e . @pranzikkin check it (it's a option of init method):\nstorageManager: {\n        autosave: true,\n        setStepsBeforeSave: 2,\n        type: 'remote',\n        urlStore: 'http://localhost/store.php',\n        urlLoad: 'http://localhost/load.php',\n        contentTypeJson: true,\n    },. @pranzikkin API Reference - Storage Manager. @pranzikkin Stack Overflow\nIn savetodb.php you must to return a json object. @pranzikkin you must return the image url (array),\nSomething like [ \"http://localhost/uploads/image1.png\" ] or as a Array of Object: [ [ 'src' => 'http://localhost/uploads/image1.png', 'width' => '150', 'height' => '150' ] ]. @pranzikkin \n$file = array(\n    array(\n        'src' => 'http://localhost/image.png',\n        'width' => '150',\n        'height' => '150',\n    )\n);\necho json_encode($file);die;. @pranzikkin \n\n@pranzikkin it is an array of files:\n$_FILES['files']\nYou can debug and see the response on browser's network (console).\nAs it is passing a single file of each time, the file is passing at the first position, so you can take the name of file ($_FILES['files']['name'][0]) the tmp name ($_FILES['files']['tmp_name'][0])...\nReference: PHP - File Upload. @pranzikkin you can close your \"issue\" question if it is solved \ud83d\ude04 . @pranzikkin I'm actually using this format.. What is the error?. @pranzikkin please post your code. obviously, you shouldn't return a var_dump. You should only echo the json_encode of object and try to have a die; after json_encode like echo json_encode($file);die;. @pranzikkin did you try to simulate directly in php file before use in grapesjs?. access savetodp.php directly, simulating a json return (without need a file). @pranzikkin \npublic function upload()\n    {\n        if(isset($_FILES['files'])){\n            // echo json_encode( $_FILES['files']['name']);die;\n            $tipo = explode('.', $_FILES['files']['name'][0]);\n            $tipo = $tipo[1];\n            $nome_url = md5(microtime(true)) . '.' . $tipo;\n            if(move_uploaded_file($_FILES['files']['tmp_name'][0], 'uploads/'. $nome_url)){\n                $this->add($_FILES['files']['name'][0], $nome_url);\n                $images = array([\n                    'src' =>Router::url(\"/uploads/\".$nome_url,true)\n                ]);\n                echo json_encode($images);die;\n                exit;\n            }\n        }\n        echo '{\"status\":\"error\"}';\n        exit;\n    }. @pranzikkin because in CakePHP, each function represents a view when called by url. If I don't use die;, it get's an error for view's file not found. @pranzikkin check it:\nStore/Load data\nStore Manager. @arthuralmeidap ok, but how can I show the component in my current Command?. @arthuralmeidap almost. when I click in a text component, my button editorCK and its command is executed and is setted to active (that have a CKEditor in this Panel's view that in every change, it changes my selected text component). It's working perfectly and it's happening only when text component is clicked because I did it:\nvar domComps = editor.DomComponents;\nvar textType = editor.DomComponents.getType('text');\ndomComps.addType('text', {\n    model: textType.model,\n    view: textType.view.extend({\n        events: {\n            'click': function(){\n                if(selecionado && selecionado == this.model){\n                    selecionado = false;\n                    selecionadoB = false;\n                }else{\n                    setTimeout(() => {\n                        selecionado = this.model;\n                        selecionadoB = 'text';\n                        var selected = editor.getSelected();\n                        var openSmBtn = editor.Panels.getButton('views', 'editorCK');\n                        openSmBtn.set('active', 1);\n                    }, 100);\n                }\n            },\n            'mouseenter': function(){\n                if(!selecionado)\n                    editor.select(this.model);\n            },\n            'mouseleave': function(){\n                if(!selecionado){\n                    editor.select(null);\n                }\n            }\n        },\n    }),\n});\nWhat I'm trying to is, when I click in a button, open the same Panel as it shows CKEditor but with a input to change the link of button (href) and his value (e.g.: Button). @arthuralmeidap these button settings are in Settings Panel's view, but I want to create it in my custom Panel's view. Did you understand?. @arthuralmeidap I'm getting undefined value with editor.TraitManager.getTraitsViewer.el specifically with el. @arthuralmeidap My hero hahaha. @arthuralmeidap is it possible, as I mentioned, a fixed input to change background color and width of html content?. @arthuralmeidap another thing... there is no input to change button's content, how can I create it manually? I need to get trait of button and recreate?. @arthuralmeidap agora que vi, tu \u00e9 brasileiro tamb\u00e9m kkkkkkkk. @arthuralmeidap sem chance? \ud83d\ude1e . @arthuralmeidap sim, o bot\u00e3o com a tag <a> j\u00e1 est\u00e1 feito, o que quero fazer \u00e9 adicionar um input (na Traits que foi mecionado acima) para a customiza\u00e7\u00e3o do texto dentro da tag <a>. Al\u00e9m disso, como mencionado no final do primeiro coment\u00e1rio, estou tentando adicionar tamb\u00e9m dois inputs (background color do temaplate e o tamanho - width - dele), que ser\u00e3o mostrados enquanto n\u00e3o houver nenhum bloco selecionado (essa parte \u00e9 a simples, o problema em si est\u00e1 sendo montar esses 3 inputs). @arthuralmeidap sim, eu entendo, por\u00e9m eu gostaria de deixar esses dois \"inputs\" fixos, independentemente se o body est\u00e1 selecionado ou n\u00e3o. @arthuralmeidap e referente ao componente de link (tag a), como eu posso criar uma trait para alterar o conte\u00fado dentro do componente selecionado? <a href=\"http://link.com\">Conte\u00fado</a>. @artf some idea?. @arthuralmeidap but I already created a new component:\ndomComps.addType('link', {\n    model: linkType.model.extend({\n        defaults: Object.assign({}, linkType.model.prototype.defaults, {\n        traits: [\n            {\n                label: 'T\u00edtulo',\n                name: 'title',\n                placeholder: 'T\u00edtulo'\n            },\n            {\n                label: 'Link',\n                name: 'href',\n                placeholder: 'http://meusite.com.br'\n            },\n            {\n                label: 'Descri\u00e7\u00e3o',\n                name: 'content',\n                placeholder: 'Bot\u00e3o'\n            }\n        ],\n      }),\n    }),\n    view: linkType.view.extend({\n            events: {\n            'click': function(){\n                if(selecionado && selecionado == this.model){\n                    selecionado = false;\n                    selecionadoB = false;\n                }else{\n                    editor.select(this.model);\n                    selecionado = this.model;\n                    selecionadoB = 'link';\n                    var selected = editor.getSelected();\n                    var openSmBtn = editor.Panels.getButton('views', 'opcoesBloco');\n                    openSmBtn.set('active', 1);\n                }\n            },\n            'mouseenter': function(){\n                if(!selecionado)\n                    editor.select(this.model);\n            },\n            'mouseleave': function(){\n                if(!selecionado){\n                    editor.select(null);\n                }else{\n                    editor.select(selecionado)\n                }\n            }\n        },\n    }),\n});. When I do it (when I create a \"content\" object), it creates a attribute content in my <a> (<a content=\"test\"></a>) instead change the real content. @arthuralmeidap exactly what I was looking for:\nDefine new Trait type. Exactly what I was looking for:\nDefine new Trait type. I guess its the body and no wrapper I need to style. I would like to use colorpicker too, like style manager. @artf For example: actually, I need to click at the backgound, click in style manager, click, in dimension (to change width / max-width) and click in decoration to change backgound color.. I need these two inputs be fixed, independent if the body is the currrent selected block or other. Did you understand?. @artf I tried extending original link component, but it seems not working\nvar linkType = editor.DomComponents.getType('link');\ndomComps.addType('link', {\n    model: linkType.model.extend({\n        defaults: Object.assign({}, linkType.model.prototype.defaults, {\n            traits: [\n                {\n                    label: 'Link',\n                    name: 'href',\n                    placeholder: 'http://meusite.com.br'\n                },\n                {\n                    label: 'Conte\u00fado',\n                    type: 'input-conteudo',\n                    placeholder: 'Bot\u00e3o'\n                },\n                {\n                    label: 'Cor',\n                    type: 'color',\n                    name: 'background-color'\n                }\n            ],\n            toHTML: function() {\n                return '<div class=\"row\"><a class=\"btn\">Link Here</a></div>';\n            },\n        }),\n    })\n});\nIt's not changing anything..\n\nI already tried to disable autorender and render after all changes.\nI could change the content only setting a new, using BlockManager:\nbm.get('c85').set({\n     content: '<div class\"row\"><a class=\"btn\">Link Here</a></div>'\n});\nBut when click in button, it's selecting only the button (not div) and when I click div, it's not selecting my button custom settings;. @artf as you said, I tried to use Components, but I didn't get expected result. Could you help me?\nMy link block prints this content:\n<div style=\"height:45px;margin:0 auto 10px auto;padding: 5px 5px 5px 5px;width: 100%;text-align:center\"><a class=\"btn btn-purple\">Button</a></div>\nI'm trying to get button when click in div too, or when click in button, select all div.\nIn components, I tried:\ndomComps.addType('link', {\n    model: linkType.model.extend({\n        defaults: Object.assign({}, linkType.model.prototype.defaults, {\n            traits: [\n                {\n                    label: 'Link',\n                    name: 'href',\n                    placeholder: 'http://mywebsite.com'\n                },\n                {\n                    label: 'Content',\n                    type: 'input-content',\n                    placeholder: 'Button'\n                }\n            ]\n        }),\n    },{\n        isComponent: function(el, sec) {\n            if(el.tagName == 'A'){\n                return {type: 'link'};\n            }\n            // I already tried to return always link:\n            // return {type: 'link'};\n        },\n    })\n});\n. @dinhjeffrey you need to install this extension:\nBasic Blocks. > > You're pointing your storage manager to a website. You need endpoints that can handle the requests. https://grapesjs.com/docs/modules/Storage.html#setup-remote-storage\n\nI tried with below endpoints that also shows error\nstorageManager: {\ntype: 'remote',\nstoreHtml: true,\nstoreCss: true,\ncontentTypeHTML: true,\nurlStore: \"http://www.lightblue.byethost4.com/index.html\",\nurlLoad: \"http://www.lightblue.byethost4.com/index.html\",\nparams: {},\n}\n\nI use a json content and it is working:\nstorageManager: {\n        autosave: true,\n        setStepsBeforeSave: 2,\n        type: 'remote',\n        urlStore: 'comunicados/store' + id,\n        urlLoad: 'comunicados/load' + id,,\n        contentTypeJson: true,\n    },. @artf you are right. the problem is using render() function, that is duplicating the elements.. but, if I remove this function, the editor html didn't change.. it still showing old content and not the new. How can I avoid it? I will provide a live demo. I found a final solution... Instead using editor.DomComponents.render(), I use editor.getSelected().view.render(). @artf I'm trying to do this:\nI have a custom DomComponent with this model:\nmodel: defaultType.model.extend({\n        defaults: {\n            tagName: \"IMAGEM-LINK\",\n            type: \"\",\n            name: \"\",\n            removable: !0,\n            draggable: !0,\n            droppable: !1,\n            badgable: !0,\n            stylable: !0,\n            \"stylable-require\": \"\",\n            unstylable: \"\",\n            highlightable: !0,\n            copyable: 0,\n            resizable: !1,\n            editable: !0,\n            layerable: !0,\n            selectable: !0,\n            hoverable: !0,\n            void: !1,\n            state: \"\",\n            status: \"\",\n            content: \"\",\n            icon: \"\",\n            style: {'display': 'block'},\n            attributes: \"\",\n            classes: \"\",\n            script: \"\",\n            traits: [\"id\", \"title\"],\n            propagate: \"\",\n            toolbar: null\n        },\n  },\n    {\n        isComponent: function (t) {\n            var e = void 0;\n            if(t.tagName == \"IMAGEM-LINK\"){\n                e = {\n                    type: \"imagemLink\"\n                };\n            }\n            return e;\n        }\n    }\n  )\nso, target element is like this:\n<IMAGEM-LINK><a title=\"\" link=\"\"><img width=\"300\" class=\"imagem-300-px\" src=\"modelo-imagem-2.png\" style=\"width: 300px !important\"></img></a></IMAGEM-LINK>\nWhat I'm trying to do (in my custom command - when this target is selected) is change the <a> title and link and the <img> src.\nHow is the best way to change it?\nI'm trying getting html of selected element (editor.getSelected().toHTML()), manipulating it and changing original content, like this:\nvar content = $(editor.getSelected().toHTML());\n$('#myTitleInput').on('keyup', function(){\n                    var myNewContent = $(editor.getSelected().toHTML());\n                    $($(myNewContent [0]).children('a'))[0].attributes['link'].value = $(this).val();\n                    editor.getSelected().set('content', myNewContent[0].innerHTML);\n                    editor.getSelected().view.render();\n                });\nI use editor.getSelected().view.render() because if I didn't use, it doesn't refresh editor's wrap html (I don't know why)\n. @artf I understand but  how can I fire the component of selected target? . target*. I want to change the content of selected element. How can I find selected component in Components api?. Or editor.getSelected() already is a component? I edited like editor.getSelected().set('content', 'myNewContent'). @ionic666 I guess you will need to create a custom trait:\nhttps://github.com/artf/grapesjs/wiki/Traits#define-new-trait-type. @ageir I did some different (for file upload):\nassetManager: {\n        upload: 'addImageEndPoint.php',\n        autoAdd: true,\n    },\nand\neditor.on('asset:upload:response',function (response) {\n    editor.AssetManager.add(response);\n});\nand for list images:\n$.ajax({url: 'listImagesEndPoint.php',\n      type: 'get',\n      dataType: 'json',\n      success: function(result){\n          editor.AssetManager.add(result);\n      }\n});. ",
    "shkoliar": "Calling of\nselected.sm.trigger('change:selectedComponent') \nupdates trait input elements with new values of selected component.. ",
    "applibs": "In your #74 roadmap is nothing about translation and what with other improvements when nothing is possible translate or to much complicated / code? By me most first improvements is translation possibility over extra files because when as soon as you will do it it will be more easy. Later it will be problem and maybe impossible to do it. I predict without translation project will die in finally!. ",
    "alimajed93": "This solved the problem for me. Thank you.. Okay @artf .\nModifications done:\n1 - I reverted my changes done before in dist/css/grapesjs.min.css (I could have skipped that since this file is generated on build)\n2 - I added the property for ''.cm-s-hopscotch span.cm-error\" in src/styles/scss/main.scss.\nIt was tested and looks good for me.\nThanks.. Okay thank you for your quick response @artf \nHow to keep the focus on the rte?. okay thank you!. I will share with you some screen shots that will surely make this problem clearer:\n\n\nStep 1: Drag a drop a block in the canvas and select it by clicking on it\n\nYou can see that the id doesn't show where it should\n\n\nStep 2: Unselect the block by clicking anywhere else then select it again\n\nYou can now see the id\n\n\nAny idea on how we should make the id and the classes always show and not need a second click to appear?\nAnother question is how can I add another things like this? so let's say I want to add under the 'selected' something like tagname, to show the tagname of the selected component; In another words, I want that on each time the user clicks on a block, to see the tagname of it under the classes and the id. Is there a way to implement this?\nThanks. Hi @artf ,\nOh I see.\nCan you please give me some examples of why we added this check? I mean what problems were we having and were solved by this check?\nThanks.. Hello @prina92, @artf ,\nI found a solution for this.\nI will be creating a MR for the 'grapesjs-preset-newsletter' project that will fix this issue.\nThe problem mainly was in the HTML of the 1 section block.\nRegards.. ",
    "crazyxhz": "@artf  I'm using this layout:\n\nleft part and right part is fixed width while the middle part in which grapesjs is rendered is taking the rest of the space. Maybe it has something to do with this layout.\n```stylus\n  .leftpart\n    float left\n    width 310px\n.middlepart\n    float left\n    width calc(100vw - 670px)\n    min-width 300px\n.rightpart\n    float right\n    width 300px\n```\n. I'm using 0.12.55. @artf  check this out. I have updated the package to the lastest 12.60. Problem still exist\n\n  . @artf nope It doesn't work. By the way I found this issue is reproducible on the offical website:\nhttp://grapesjs.com/demo.html\n1, Change Editor to mobile mode.\n2, clear canvas add an image\n3, resize the window. @anand-gopinath  cool~ work like a charm. Now I found many data attributes usage.... \nIt is a very good framework but the doc is lag behind.... ",
    "faruk247": "each((el, i, $els),  it create error. Just replace by each( function(el, i, $els)\ncomplete code:\nvar wrappers = editor.DomComponents.getWrapper();\n    wrappers.view.$el.find('.rm-editable img').each( function(el, i, $els) {\n        var $el = $els.eq(i);\n    var model = $el.data('model');\n    model && model.set('resizable', 0);\n    });. ",
    "endersaka": "@artf thank you for your answer. I have the same problem with spare time; though I will most probably give it a try. This morning I read the Components documentations more carefully and I see some opportunities. Since Components are actually stored in to the JavaScript data model of Grapesjs, I am not sure, but I see an oportunity to output something that affects Componets model instead of their in editor HTML representation. I'll continue my investigation and let you know as soon as I have some more clue. :-). Thanks.\nMaybe I don't remember well but I am almost sure that it is not explained in the documentation tutorial.. ",
    "josefph": "@richieteh94 how did you solve this problem?. Sorry for this post. I was only able to look at the Open Issues not knowing that there are closed issues. I was able to know that I could use editor.getHtml() and editor.getCss() which I could just save right away in my database to save my template(the only way I know how to save the codes.). Is there another way for this?. what do i put in UrlStore?. @JulyanoF thanks bro. I'll try doing that.. @JulyanoF I am getting unexpected identifier in autoAdd: true. @JulyanoF what would be the name of the file when it's passed to the php?\n// $_FILES['whatsthename'];. @JulyanoF  okay I'll try it. thanks for the great help. and at the same time sorry for the noobish questions. I'm new to using a framework that uses js. I am actually used to PHP and laravel framework.. @arthuralmeidap trying it right now. Thanks for the help. @JulyanoF would it be okay to ask you to help me with future problems that I will encounter while implementing grapesjs in my laravel project? I will just gonna ask some questions. not literally need you to help me build my project lol. @JulyanoF do you know how to save the template you created in a db? and on how to load it back into the editor?. @JulyanoF okay bro I'll check it. what does the setStepsBeforeSave mean?. @JulyanoF I'm getting this error while trying to save an image. \nFailed to load http://localhost/grapesjs-dev/savetodb.php: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.\nand I tried adding header('Access-Control-Allow-Origin: *'); on top of the php file. still no luck. @JulyanoF what data should I return?\n@arthuralmeidap actually it's running on the same port. I was mistakenly editing a different savetodb.php file hahaha my bad. @JulyanoF okay i'll try that after the CORS error. thanks for the help. @JulyanoF deleted my comment. got it working now but now i'm getting unexpected token in JSON. @arthuralmeidap got it working already guys. I wasn't opening the app in localhost but opened the html file. so its getting the error. now i'm getting the unexpected token in JSON error. maybe something's wrong with what I returned. @arthuralmeidap \n$file = [\"src\" => pathtoimage'],\n\"width\" => 150,\n\"height\" => 150];\nreturn json_encode($file);\nthis is what I am returning in my php file and also $_FILES['file'] is not working. I'm getting unidentified index. @JulyanoF okay ill try that. but i'm getting index not found in $_FILES['file']. @JulyanoF thank you. @JulyanoF  thank you for the great help. got it working now.\n@arthuralmeidap thank you for the help. got it working now.. @JulyanoF oh sorry didn't see your reply. sadly this structure is not working $file = array(\n    array(\n        'src' => 'http://localhost/image.png',\n        'width' => '150',\n        'height' => '150',\n    )\n);\necho json_encode($file);\nhow do you indent this code block anyway?. @JulyanoF unexpected token b in JSON position 0. @JulyanoF \n$file = array(\narray(\n'src' => 'http://localhost/grapesjs-dev/uploads/'.$_FILES['files']['name'][0],\n'width' => '150',\n'height' => '150',\n)\n);\nvar_dump($file);\nreturn json_encode($file);die;\ni don't know how to indent the inserted code :(. @arthuralmeidap I removed all the var_dump because it might cause the error. now I am getting unexpected end of JSON input. @arthuralmeidap im getting this error\nSyntaxError: Unexpected end of JSON input\nat JSON.parse (<anonymous>)\nat R.i.onUploadResponse (grapes.min.js:2)\nat grapes.min.js:2\nat <anonymous>\nonUploadError @ grapes.min.js:2\n(anonymous) @ grapes.min.js:2\nPromise.catch (async)\nuploadFile @ grapes.min.js:2\ni @ grapes.min.js:2. @JulyanoF how do I do that? well in network in debug tool. the savetodp.php doesn't give any error. when used.. @JulyanoF it does work. and I get an error because no file was passed.. @JulyanoF could you show me your php code? I want to see how you returned your json. @arthuralmeidap I was actually looking at the documentation and tried that format. still no luck ;(\n@JulyanoF why use echo?. @arthuralmeidap okay got it working with that format and replaced return with echo. thanks for the big help.\n@JulyanoF thank you for the help. got it working now. changed my return to echo.\nI actually tried using echo then got no error but the image was not loaded in the asset manager so I thought what I was doing is wrong.. @JulyanoF @arthuralmeidap I dont know how to thank you guys for the great help you have given me today. wow this post got so many replies hahaha well I hope we could help others with this.. @JulyanoF @arthuralmeidap thank you guyss. I'll now go on my next step which is how to save the template(html and css codes) to the db. and on how to load it back to the editor.. @JulyanoF can you help me on what data should I save to the database and on how to load it back in the editor?. @kewilson could you help me adding another default trait in a specific component?. @artf would there be problems if I would just insert the saved html and css to the editor to edit it? and not use the gjs-components and gjs-style?. @artf thanks! got it working! When I was looking at the wiki I totally missed the Traits section. sorry for that artf. but now I do have a problem. When I click my link it does not trigger. The html composition is correct. can you help me with this?. @phucphanJaneto try to post your code? maybe something is missing or you got the wrong syntax.. this was an issue on my loading of my editor. after loading the editor with the components and styles correctly. it would also show the correct traits.. ",
    "wvaymen": "please can you give me an example\nthanks for your help. ",
    "kevinalvarez": "I can't edit the elements, like \"read only\". Look at this demo: https://jsfiddle.net/9w2g8su5/1/\nI have 4 devices. General and Desktop have the same width. If I change from General to Desktop (or vice versa), I can't select or edit any component from the canvas until select another device with different width. Thanks for the help, @ryandeba ! It worked fine with the code you sent. We can move on :). I hope there can be a fix inside the library.. Thanks @artf ! I made the change and now it's working as expected. We will wait for the release.. ",
    "sudharsanUI": "@artf @ryandeba \nHi, we have same problem.\ni have Input control within column components, in this situation component:clone is working fine. But, in multiple column within single row component, row component clone is not working. In this case, i have only empty component getting cloned. Herewith is sample code\n``\nview: defaultView.extend({ ...etpPageView,\n    renderContent() {\n        const currModel = this.model\n        const template =${this.model.get('content')}`\n        this.getChildrenContainer().innerHTML = (template)\n    /******************** COLUMN - CLONED ELEMENT **************************/\n    editor.on('component:clone', model => {\n        if (model === currModel) {  \n        let currId = uuidv4()\n\n        // COLUMN PLACEHOLDER HIDE WHILE CLONE THE COMPONENT\n        this.handleComponentPlaceholderHide()\n\n        /* AFTER RENDER SET STYLE -- COLUMN STYLE AND ATTRIBUTE IMPLEMENTED AS PER SELECTED COLUMN */\n        model.addAttributes({'id': currId})\n        model.get('traits').where({name: 'id'})[0].set('value', currId)\n\n        // COLUMN CLONE\n        let SplitState = this.model.get('traits').where({name: 'cols'})[0].get('value')\n        this.handleComponent_SizeCloneMove(model, SplitState)\n        }\n    })\n},\n// COLUMN PLACEHOLDER HIDE WHILE CLONE THE COMPONENT\nhandleComponentPlaceholderHide(){\n    let checkControlLen = this.getChildrenContainer().querySelector('[elem]')\n    if (checkControlLen !== null){\n        let placeholderdv = this.getChildrenContainer().querySelector('[data-gjs-type=\"columnPlaceholder\"]')\n        placeholderdv.style.display = 'none'  \n    }\n},\n// COLUMN CLONE\nhandleComponent_SizeCloneMove(model, SplitState){\n    this.el.style.display = 'inline-block'\n    if(SplitState === '1') { \n      model.addAttributes({'cols': '1'}) \n      this.el.style.width = '100%' \n    }\n},\n\n})\n```\ncomponent:clone Is it right way to proceed within the render content method?. ",
    "gabrigcl": "I've found a solution to my needs using CKEditor and overriding the native \"text\" component creating my own. My text component now is a div with a css class that identifies the component:\njavascript\ncomps.addType('text', {\n      model: textModel.extend({\n        defaults: Object.assign({}, textModel.prototype.defaults, {\n          tagName: 'div',\n          name: 'Texto',\n          draggable: '*',\n          droppable: false\n        }),\n      },\n      {\n        isComponent: function(el) {\n          if(el.tagName == 'DIV' && el.classList.contains('txt')){\n            return {type: 'text'};\n          }\n        },\n      })\n/*...*/\nNow, typing ENTER does not create a new component. Nevertheless, this solution do not solve this problem, for those who don't want to use third party text editors.. Yeah, I agree. Will you put this into roadmap?. Hi drasil. Congratulations on your finding a solution, I'll test It. I've found a solution too, the same way, extending the text component. I'll share it soon. > one big issue that I guess you're doing there is, when you change the page, relying on HTML/CSS instead of the JSON and this is why are not editable after the change\nYes, I was doing like this. However I'm currently using a custom text component, made by me, that doesn't have this issue.. Yes, I liked your thinking!. Nope. Thanks, this method works! However, I have to store the model of the chart inside the html of the component, in order to make possible that the generated template render the chart outside the grapesjs editor. I can't persist anything inside a custom html attribute of the component, the way I want: \nhtml \n<canvas chartmodel=\"{chartType: doughnut}\">\nWhat solution do I have for this need?. I understand this is another problem, I'll open other issue. I have seen there's\njavascript\ncomponent.setAttributes({ id: 'test', 'data-key': 'value' });\nmethod, I'll test this and close this issue.. ",
    "drasill": "Hi,\nThere should be a solution by listening on component:add and then convert these <div> to <br/>.\nI need help on how to convert these in the event callback, please could you have a look ?\njavascript\neditor.on('component:add', (child) => {\n   // Check if new component is a 'text'\n   if (child.attributes.tagName === 'div' && child.attributes.type === 'text') {\n      // Check if parent of this new component is also a \"text\"\n      const parent = child.parent()\n      if (parent.attributes.tagName === 'div' && parent.attributes.type === 'text') {\n         // Now here, replace '<div>content</div>' to '<br/>content'\n         // FIXME this doesn't work\n         const t = child.getEl().innerHTML\n         child.destroy()\n         parent.getEl().innerHTML += '<br/>' + t\n      }\n   }\n}). I still struggle a lot with this issue.\nHere is an idea, which is still not perfect, as it requires to rename the text component, and it removes empty lines :\njavascript\nvar originalText = comps.getType('text')\ncomps.addType('text', {\n   model: originalText.model.extend({\n      defaults: Object.assign({}, originalText.model.prototype.defaults, {\n         tagName: 'div',\n         name: 'MyText',\n         draggable: '*',\n         droppable: false,\n         attributes: { 'data-mytext': 'MyText' },\n      }),\n   }, {\n      isComponent: function (el) {\n         if (el.tagName === 'DIV' && el.getAttribute('data-mytext') === 'MyText') {\n            const contentTexts = []\n            Array.from(el.childNodes).forEach((node) => {\n               if (node.textContent !== '') {\n                  contentTexts.push(node.textContent)\n               }\n            })\n            const content = contentTexts.join('<br/>')\n            return { type: 'text', name: 'MyText', content: content, components: [] }\n         }\n      },\n   }),\n   view: originalText.view,\n}). Ok, this is simpler and seems to work, but I don't even know how / why.\njavascript\nvar originalText = comps.getType('text')\ncomps.addType('text', {\n   model: originalText.model.extend({\n      defaults: Object.assign({}, originalText.model.prototype.defaults, {\n         tagName: 'div',\n         name: 'MyText',\n         draggable: '*',\n         droppable: false,\n         attributes: { 'data-mytext': 'MyText' },\n      }),\n   }, {\n      isComponent: function (el) {\n         if (el.tagName === 'DIV' && el.getAttribute('data-mytext') === 'MyText') {\n            return { type: 'text', name: 'MyText', content: el.innerHTML, components: [] }\n         }\n      },\n   }),\n   view: originalText.view,\n}). ",
    "v8jupiter": "Any update for this?. I updated to \"0.14.5\" and still have issue.\nI am trying to debug and found next, traits always return old value which was selected  before saving .. Can someone help me on what place start to investigation issue?\n. Ok. Thank you. Will wait update. Still some part of bug present.\nIt seems inside of script: function () traits will have old value.. Please read maybe it wil help -> https://github.com/artf/grapesjs/issues/597. Can you give more details?\n1. Your have this error when trying to load template from  'http://localhost/grapesjs/fileLoad.php'?\n2. Or you have error in init moment. Can you show full initialization of editor?\nI think your problem in this endpoint http://localhost/grapesjs/fileLoad.php. . Please confirm, above reported bug has been resolved. - 100% resolved. . Have same issue.. When template loaded again to editor no content inside only background displayed.\nstoreWrapper - enabled \n grapesjs.init({\n//...\n    domComponents: { storeWrapper: 1 },\nPlease look at this video - https://youtu.be/4lF4wdxfI0I\ndata from db: \n{\"gjs-assets\":\"[]\",\"gjs-css\":\"* { box-sizing: border-box; } body {margin: 0;}body{background-color:#d5bebe;}.c862{padding:10px;}\",\"gjs-styles\":\"[{\\\"selectors\\\":[{\\\"name\\\":\\\"c843\\\",\\\"label\\\":\\\"c843\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":false,\\\"protected\\\":false}],\\\"selectorsAdd\\\":\\\"\\\",\\\"style\\\":{\\\"padding\\\":\\\"10px\\\"},\\\"mediaText\\\":\\\"\\\",\\\"state\\\":\\\"\\\",\\\"stylable\\\":true,\\\"atRuleType\\\":\\\"\\\",\\\"singleAtRule\\\":0,\\\"important\\\":0},{\\\"selectors\\\":[{\\\"name\\\":\\\"c862\\\",\\\"label\\\":\\\"c862\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":false,\\\"protected\\\":false}],\\\"selectorsAdd\\\":\\\"\\\",\\\"style\\\":{\\\"padding\\\":\\\"10px\\\"},\\\"mediaText\\\":\\\"\\\",\\\"state\\\":\\\"\\\",\\\"stylable\\\":true,\\\"atRuleType\\\":\\\"\\\",\\\"singleAtRule\\\":0,\\\"important\\\":0}]\",\"gjs-html\":\"<div class=\\\"c862\\\"><p>Insert your text here</p></div>\",\"gjs-components\":\"{\\\"tagName\\\":\\\"div\\\",\\\"type\\\":\\\"\\\",\\\"name\\\":\\\"\\\",\\\"removable\\\":false,\\\"draggable\\\":false,\\\"droppable\\\":true,\\\"badgable\\\":true,\\\"stylable\\\":[\\\"background\\\",\\\"background-color\\\",\\\"background-image\\\",\\\"background-repeat\\\",\\\"background-attachment\\\",\\\"background-position\\\",\\\"background-size\\\"],\\\"stylable-require\\\":\\\"\\\",\\\"unstylable\\\":\\\"\\\",\\\"highlightable\\\":true,\\\"copyable\\\":false,\\\"resizable\\\":false,\\\"editable\\\":false,\\\"layerable\\\":true,\\\"selectable\\\":true,\\\"hoverable\\\":true,\\\"void\\\":false,\\\"state\\\":\\\"\\\",\\\"status\\\":\\\"selected\\\",\\\"content\\\":\\\"\\\",\\\"icon\\\":\\\"\\\",\\\"style\\\":{\\\"background-color\\\":\\\"#d5bebe\\\"},\\\"classes\\\":[],\\\"script\\\":\\\"\\\",\\\"attributes\\\":{\\\"id\\\":\\\"wrapper\\\"},\\\"traits\\\":[],\\\"propagate\\\":\\\"\\\",\\\"components\\\":[{\\\"tagName\\\":\\\"div\\\",\\\"type\\\":\\\"text\\\",\\\"name\\\":\\\"\\\",\\\"removable\\\":true,\\\"draggable\\\":true,\\\"droppable\\\":false,\\\"badgable\\\":true,\\\"stylable\\\":true,\\\"stylable-require\\\":\\\"\\\",\\\"unstylable\\\":\\\"\\\",\\\"highlightable\\\":true,\\\"copyable\\\":true,\\\"resizable\\\":false,\\\"editable\\\":true,\\\"layerable\\\":true,\\\"selectable\\\":true,\\\"hoverable\\\":true,\\\"void\\\":false,\\\"state\\\":\\\"\\\",\\\"status\\\":\\\"\\\",\\\"content\\\":\\\"<p>Insert your text here</p>\\\",\\\"icon\\\":\\\"\\\",\\\"style\\\":{},\\\"classes\\\":[{\\\"name\\\":\\\"c862\\\",\\\"label\\\":\\\"c862\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":false,\\\"protected\\\":false}],\\\"script\\\":\\\"\\\",\\\"attributes\\\":{},\\\"traits\\\":[{\\\"type\\\":\\\"text\\\",\\\"label\\\":\\\"\\\",\\\"name\\\":\\\"id\\\",\\\"min\\\":\\\"\\\",\\\"max\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"step\\\":1,\\\"value\\\":\\\"\\\",\\\"default\\\":\\\"\\\",\\\"placeholder\\\":\\\"eg. Text here\\\",\\\"changeProp\\\":0,\\\"options\\\":[]},{\\\"type\\\":\\\"text\\\",\\\"label\\\":\\\"\\\",\\\"name\\\":\\\"title\\\",\\\"min\\\":\\\"\\\",\\\"max\\\":\\\"\\\",\\\"unit\\\":\\\"\\\",\\\"step\\\":1,\\\"value\\\":\\\"\\\",\\\"default\\\":\\\"\\\",\\\"placeholder\\\":\\\"eg. Text here\\\",\\\"changeProp\\\":0,\\\"options\\\":[]}],\\\"propagate\\\":\\\"\\\",\\\"activeOnRender\\\":0,\\\"components\\\":[]}],\\\"custom-name\\\":\\\"Body\\\",\\\"wrapper\\\":1,\\\"open\\\":0}\"}. I will check tomorrow . Need to check with latest build from dev or master ?. v0.14.33 - not work for me as expected.\nIt work only after triple or more refreshed. It seems components loaded faster than background and background overlaps other components. \nVideo: https://youtu.be/_aHIeOBulpc\nI checked and response from server always same, but sometimes i see only background sometimes no. Checked in FF and Chrome. storageManager: {\n      autoload:  true,\n      autosave: false,\n      setStepsBeforeSave: 1,\n      type: 'remote',\n      urlStore: urlStore, // var from PHP\n      urlLoad: loadUrl, // var from PHP\n      contentTypeJson: true\n    },\n    assetManager: {\n      upload: urlAssets, // var from PHP\n    },. @artf Tested and for me  0.15.3-rc  work as expected. Thank you! I checked with old templates and it works too.. I found in 0.15.3-rc another issue. Not related with background, but please look https://youtu.be/uE3aNxDeaxQ\nI can to reproduce only in new version. \n{\"gjs-assets\":\"[]\",\"gjs-css\":\"* { box-sizing: border-box; } body {margin: 0;}body{background-color:rgba(201,0,0,0.77);}\",\"gjs-styles\":\"[]\",\"gjs-html\":\"\",\"gjs-components\":\"{\\\"tagName\\\":\\\"div\\\",\\\"type\\\":\\\"wrapper\\\",\\\"name\\\":\\\"\\\",\\\"removable\\\":false,\\\"draggable\\\":false,\\\"droppable\\\":true,\\\"badgable\\\":true,\\\"stylable\\\":[\\\"background\\\",\\\"background-color\\\",\\\"background-image\\\",\\\"background-repeat\\\",\\\"background-attachment\\\",\\\"background-position\\\",\\\"background-size\\\"],\\\"stylable-require\\\":\\\"\\\",\\\"style-signature\\\":\\\"\\\",\\\"unstylable\\\":\\\"\\\",\\\"highlightable\\\":true,\\\"copyable\\\":false,\\\"resizable\\\":false,\\\"editable\\\":false,\\\"layerable\\\":true,\\\"selectable\\\":true,\\\"hoverable\\\":true,\\\"void\\\":false,\\\"state\\\":\\\"\\\",\\\"status\\\":\\\"selected\\\",\\\"content\\\":\\\"\\\",\\\"icon\\\":\\\"\\\",\\\"style\\\":{\\\"background-color\\\":\\\"rgba(201,0,0,0.77)\\\"},\\\"classes\\\":[],\\\"script\\\":\\\"\\\",\\\"attributes\\\":{\\\"id\\\":\\\"wrapper\\\"},\\\"traits\\\":[],\\\"propagate\\\":\\\"\\\",\\\"components\\\":[],\\\"custom-name\\\":\\\"Body\\\",\\\"wrapper\\\":1,\\\"open\\\":false}\"}\nIt seems only after load and with openned debug toolbar\nSteps for reproduce:\n1.  Before load open dubug toolbar and make size of toolbar as on prev. video\n2.  Try to move any element . And it will added before you \"release\" the item . I returned to 0.14.33 because a lot of bugs in 0.15. @artf Tomorrow i will retest and give you full feedback. . I have not seen such a plugin. But you can create you own, it not hard. Hi. You can use a query string as with draggable. . ",
    "goldengrisha": "for example if I want to include this plugin I need to add tag like this \nand then  plugins: ['gjs-plugin-export'], can it be achieved by import or require ?. thanks, found a problem). I want to have ability to add a few attributes with values like(move='0') and edit after in editor, can it be ?. sorry for my unclearing question, yes . HTML. yes, I've figured out with it, the problem was when I create custom trait it always saves into storage and can't see new traits, that's why I asked about html attrs. Thank you!  . thank you for answer, but point is why this code  work in proper way\nassetManager.add('<video src=\"http://localhost:2195/malls/78620a57-d32f-40a5-9b06-003c2338c377/SampleVideo_1280x720_1mb.mp4\" class=\"gjs-no-pointer\" style=\"height: 100%; width: 100%;\"></video>');\nand this piece of code not :\nassetManager.add([\n             { type: 'video', src: 'http://localhost:2195/malls/78620a57-d32f-40a5-9b06-003c2338c377/SampleVideo_1280x720_1mb.mp4' },\n             { type: 'video', src: 'http://localhost:2195/malls/78620a57-d32f-40a5-9b06-003c2338c377/SampleVideo_1280x720_1mb.mp4' }]);\n. ",
    "cgatian": "This stumped me. The documentation is out of date . @artf Thank you for the reply! OK I was second guessing this approach, good to get some feedback on this. Just to follow up I dont believe there's a way to detect which block was actually dropped during the event, correct?\n. OK yes I can see how that would work. However, when I wrap my components in other component they are not recursively parsed as a component and the block is then treated as one. \nSo the following pseudo definition:\n{\nblock: my-block\ncomponent: my-block-component\n}\n{\ntype: my-block-component \ncontent: `<component-a></component-a><component-b></component-b>`\n}\nIf component-a and component-b are not treated as individual components.  Am I missing a configuration setting to recursively parse the content of components as components?. ",
    "frank-tenzing": "Hi @artf , what I have done after cloned the latest repo are \n1). Replaced the start script with \"start\": \"webpack-dev-server --open --progress --colors & npm run build:css -- -w\",; \n2). Commented the \neditor.BlockManager.add('testBlock', {\n        label: 'Block',\n        attributes: { class:'gjs-fonts gjs-f-b1' },\n        content: <div style=\"padding-top:50px; padding-bottom:50px; text-align:center\">Test block</div>\n      })\nin index.html; \nThen when I run it on IE 11, SCRIPT438: Object doesn't support property or method 'replace', grapes.min.js (15612,7) is showing on the console. \nfunction removeClass(v, c) {\n    if (v.classList) {\n      v.classList.remove(c);\n    } else {\n      v.className = v.className.replace(c, \"\");\n    }\n  }\nAnd when I debugged it, v.className parsed as SVGAnimatedString.. @artf It is working fine with Chrome, but IE is the primary browser our client prefer to use.. ",
    "sagardoke": "Still failing in IE11 with the latest update (0.14.6)\nNot able to add (drag and drop) elements to canvas. Works fine in Chrome/Firefox.\nGetting following errors:\n\n. Thank you @artf\nAfter latest changes, I'm able to add elements to canvas, works very well.\nBut now, I'm facing another issue.\nAs soon as I select element in canvas, my IE 11 hangs with following error:\n\nthis.getClearEl() returns NULL.. ",
    "AkibDeraiya123": "@ryandeba @artf \nIs there any possibilities to change other attributes of image like class, id etc?\nI had tried with like,\n// For id\neditor.getSelected().set('id',imageId)\n// For class\neditor.getSelected().set('class',imageClass)\nBut this seems not working in my case.\nCan you guys please help me how can i change other attributes of this image tag?. Hey @boris1989529 \nI am also stuck at this point to update the traits dynamically even in scenario i also need to push the option into the once of my trait.\nDid you got any solution for this?\nIt would be your pleasure if you can share the solution for me if you found.\nThanks in advance.. Hello @artf,\nThank you for your quick support.\nIt's working for me now,\ndroppedComponent.set({\n    attributes: {\n        id: 'randomId',\n        onclick: 'jsFunc(\"randomId\")'\n    }\n})\nThis is worked for me.\nSuppose i have content like,\nbm.add(\"image-cropper\",\n        {\n          label: '<div class=\"gjs-block-label\">Image Cropper</div>',\n          tab: \"2\",\n          content: '<div><h1>Hello</h1><img id=\"staticId\" onclick=\"jsFunc(staticId)\" src=\"imagePath\" /><div>'\n        }\n      )\nIs there any possibilities to update img tag's id and onclick function?. @artf \ni put this jsInHtml: true, it seems not working in my case.\nWhile i trying to fetch the editor html content then it's also return the generated script by particular block.\nCan i know any other methods/solutions to achieve this goal?. Hey @thinkanymore \nThis is works fine for me.\nThank you for your help :). Hello @artf \nI have one div which class is like testing and i want to restrict the child items of this div with class testing then how can i do this?\nCan anyone guys help me to figure it out?\nThanks in advance.. Hello @artf \nThank you for your reply on my query.\nI am attaching my code here, please let me know at where i am going wrong.\n```\n// This will execute once asset manager will be open\n      editor.on(\"run:open-assets\", function () {\n        var dateNow = Date.now();\n        editor.getSelected().setId(dateNow);\n    // Store active asset manager image id and it's src\n    localStorage.setItem('activeAssetManagerImageId', dateNow);\n  })\n\n```\nSo, basically above code will be run while user will double-click on particular image. In this function i am going to add one random generated  id attribute in selected image.\nNow i also called the stop:open-assets,\neditor.on(\"stop:open-assets\", function () {\n   // Here i am taking `src` from the `Dom` with `activeAssetManagerImageId` which is saved into `local-storage` and checking if both previous `src` and current `src` is not matched then i am going to initialize the cropper otherwise not. Now once user will be done with editing image i have one button and on button i called the one function. In this function right now i am changing the image `src` using jQuery which is working fine. But when i get `editor.getHtml()` It's not reflacted.\n})\nI have tried with like, This code is working fine while i am going to use .set function with opts. But here issue is that when i am adding this 3 lines then the assetManager is not going to open.\neditor.Commands.add('open-assets', function(editor, sender, opts) {\n        opts.target.set('src', 'https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg');\n      }); \nIf there any editor.command method while user is choose the image and close the assetManager it will be run with three params like editor, sender, opts, so using this opts i can set the new image path which will be reflects into the UI as well as into model, so, when i will get the whole HTML then this src should be updated.?\nor else how can i get this three params editor, sender, opts into the editor.on(\"stop:open-assets\" function?\nI did whatever, i tried to explained you here. If you still not get my point then let me know i will explain it again, but please give me some kinds of the example or something so i can get more idea about how can i achieve my goal with fantastic grapes.js lib as well people who have invented this.\nThanks in advance for your help.. @artf ,\nI know you told me to solve using this solution imgModel.set('src', 'base64....'), but can you please let me know how can i get imgModel ?\nCan i get this imgModel using id/class selector?. Hello @artf,\nThis is working fine. Thank you for your response.\nBut in my case it's slightly deffer, let me tell you in brief,\nI have image tags in my default templates.\n```\n   // This will execute once asset manager will be open\n      editor.on(\"run:open-assets\", function () {\n        var dateNow = 'img-'+Date.now();\n    // Using below line i am changing the id of img tag on which user has clicked.\n    editor.getSelected().setId(dateNow);\n\n    // Store active asset manager image id and it's src\n    localStorage.setItem('activeAssetManagerImageId', dateNow);\n  })\n\n```\nNow once user will close the asset manager model, i am checking like if has select any image from asset manager or not.\nIf user has selected any image from the asset manager then i am initialize cropper.js with replace existing img tag and also add one function(name is doneExternal) into iframe window object.\nWhen doneExternal will call, the edited image i am getting into base64, but when i am trying to set into the ui using imgModel, then it was't set. Actually when i am going to fetch imgModel it's getting an blank array [].\n```\n editor.on(\"stop:open-assets\", function () {\n    var mainDivId = Date.now();\n    // fetch current active asset manager image\n    var previousImageId = localStorage.getItem('activeAssetManagerImageId');\n    var activatedImage = 'div-' + previousImageId;\n    var previousSrc = localStorage.getItem('activeAssetManagerSrc');\n    // Fetch iframe document. (Here we got the parent document not iframe's)\n    var iframeDocument = document.getElementsByClassName('gjs-frame')['0'].contentDocument;\n    // Fetch activated image's src to check we need to initialised cropper or not\n    var updatedSrc = iframeDocument.getElementById(previousImageId).src;\nlocalStorage.setItem(\"activatedImageSrc\", updatedSrc);\n\n// Check previous and updated image src are same or not. If not then we need to initialised cropper.\nif (updatedSrc !== previousSrc) {\n    var mainDiv = \"<div id='\" + mainDivId + \"'><img src ='\" + updatedSrc + \"' id ='\" + previousImageId  + \"' /><button onClick='doneExternal(previousImageId )'>Done</button></div>\";\n    iframeDocument.getElementById(previousImageId).replaceWith(mainDiv);\n\n    // Cropper is initialising Here\n    cropperInstance = new Cropper(activeCropperImageTag, {\n        viewMode: 3,\n        responsive: true,\n        dragMode: 'move',\n        autoCropArea: 1,\n        restore: false,\n        modal: false,\n        guides: false,\n        highlight: false,\n        cropBoxMovable: false,\n        cropBoxResizable: true,\n        toggleDragModeOnDblclick: false,\n        ready: function () {\n            iframeWindow.doneButtonExternal = function (n) {\n                var base64Image = cropperInstance.getCroppedCanvas({\n                    minWidth: 280,\n                    fillColor: \"#fff\",\n                    imageSmoothingEnabled: !1,\n                    imageSmoothingQuality: \"high\"\n                }).toDataURL();\n                cropperInstance.destroy();\n\n                // In below imgModel is getting undefined. Because imgModel is like blank array (Ex. [])\n                var imgModel = editor.getWrapper().find('img#'+previousImageId)[0];\n                imgModel.set('src', base64Image);\n            }\n        }\n    })\n}\n\n})\n``. Hello @artf \nIf i only want to do in change trait for href(<a `) tag then how can i change that?\nI tried like,\n```var domComps = editor.DomComponents;\n    var dType = domComps.getType('default');\n    var dModel = dType.model;\n    var dView = dType.view;\ndomComps.addType('a', {\n  model: dModel.extend({\n    defaults: Object.assign({}, dModel.prototype.defaults, {\n      traits: [\n        // strings are automatically converted to text types\n        {\n          type: 'select',\n          label: 'Href',\n          name: 'href',\n          options: [\n            {value: 'index.html', name: 'Home'},\n            {value: 'index2.html', name: 'Home2'},\n            {value: 'index3.html', name: 'Home3'},\n            {value: 'index4.html', name: 'Home4'},\n          ]\n        }\n      ],\n    }),\n  }, {\n    isComponent: function(el) {\n      if(el.tagName == 'a'){\n        return {type: 'a'};\n      }\n    },\n  }),\n\n  view: dView,\n});```\n\nBut this is something like not works. Can you please help me at where i am doing wrong?. And one more question, how can i check the selected DOM element's type?\nI guess it will use isComponent function. But i don't know how to use it and where?. Hello @artf \nThis is works fine in my system. Thanks for your support.\nNow i want to add links into this traits while user add new page.\nI am creating website builder using grapejs with default template choosing.\nLet me explain you in brief.\nSuppose user is creates one website with template-1. Then the index.html of template-1 will be shown into the grapesjs editor.\nNow, i have one functionality like user can add new page into his/her template.\nSo, suppose user did creates one page with test.html and it's successfully created.\nNow after successfully page creation i want to add this options into the traits without page refresh or something.\nIs it possible?. Hello @artf \nI tried this your above solution. But it's not reflect into the href links drop-down.\nActually when i trying to update using above solution then i tried to console.log(editor.getSelected()), this console.log gives me undefined.\nI can show you the using screen-cast video. Can you check and let me know what still i missing to achieve my goal,\nhttps://drive.google.com/file/d/1mLFLCVSvJx_up0ymu8zFwJJwpQDq3Dzg/view. @artf \nActually i didn't get your answer what do you mean. Can you please let me know in brief?\nAt where i need to put this line and test it?\neditor.trigger('component:toggled');. Yes @artf ,\nIt's working nice.\nThank you for response. \nBut there is one issue is like when i click on template default links the traits are not going to show into sidebar, But when i drag some links near it's links and show the traits into settings table it shows the dropdown as well new dynamic options too.\nI just update the grapes.js file version to 0.14.50.\nDo you think is there any issue with myside code or new version for the links?\nHere is my code,\n```\neditor = grapesjs.init({\n // Added configurations here\n});\nfunction loadHrefTrait() {\n    var options = [\n      {\n        value: 'products.html',\n        name: \"Product\"\n      },\n      {\n        value: 'campaigns.html',\n        name: \"News\"\n      },\n      {\n        value: 'reviews.html',\n        name: \"Reviews\"\n      },\n      {\n        value: 'index.html',\n        name: \"Home\"\n      },\n      {\n        value: 'products.html?gender=men',\n        name: \"Mens Products\"\n      },\n      {\n        value: 'products.html?gender=ladies',\n        name: \"Ladies Products\"\n      },\n      {\n        value: 'products.html?gender=boy',\n        name: \"Boys Products\"\n      },\n      {\n        value: 'products.html?gender=girl',\n        name: \"Girls Products\"\n      },\n      {\n        value: '#',\n        name: \"No Links\"\n      }\n    ];\nvar dType = editor.DomComponents.getType('link');\nvar dModel = dType.model;\nvar dView = dType.view;\n\neditor.DomComponents.addType('link', {\n    model: dModel.extend({\n      defaults: Object.assign({}, dModel.prototype.defaults, {\n        traits: [\n          // strings are automatically converted to text types\n          // title,\n          {\n            type: 'select',\n            label: 'Target',\n            name: 'target',\n            options: [\n              { value: '', name: 'This window' },\n              { value: '_blank', name: 'New window' }\n            ]\n          },\n          {\n            type: 'select',\n            label: 'Href',\n            name: 'href',\n            options: opts\n          }\n        ],\n      }),\n    }, {\n      isComponent: function(el) {\n        if(el.tagName == 'A' || el.tagName == 'LINK'){\n          return {type: 'link'};\n        }\n      },\n    }),\n\n    view: dView,\n  });\n})\n\nloadHrefTrait();\neditor.trigger();\n// This function will call from ui dynamically and add new links into this above traits\nfunction addDynamicOption(page) {\n    editor.getSelected().getTrait('link').set('options', [\n        { value: page +'.html', name: page }\n    ]);\n    editor.trigger('component:toggled');\n}\n```\nHere is the link of screen cast video,\nhttps://drive.google.com/file/d/1Nk3OuIwQ5HZTRg_dq5UJlu75l8wFXBMJ/view. Thank you for the response @artf ,\nSo, it means i can't load dynamic content into blocks while it will render into the editor?\nIf yes then how can i?\nCan i replace whole block's html using this.innerHTML = 'New Html content'?. Thank you for response @artf ,\nCan you please share any example which is achieving a goal same i want?. @NicoEngler ,\nThank you for your valuable response.\nBut thing is that i am loading one default template page with default css.\nIn this css we have css like\n.banner-title {\n    background-color: #e6d8d8;\n    border: 3px #acbe5a #b83dd3;\n    color: #f80000 !important;\n}\nNow when i am changing the color to #000 using editor then the new css will be created like,\n.banner-title {\n    color: #000;\n}\nBut thing is that default css have already !important so it will take the default template's css not the new one.\nSo, that's why i'm adding !important to new generated css by editor.\nLet me know if you didn't got my point i can understand with more description.. Hey @NicoEngler ,\nThanks for your response.\nBut things is that i have also another properties like border, width, height, background-color etc.\nIf i will remove it from the default CSS then it will be affect on my layout and that i don't want.\nActually my CSS file is around 7000 lines. It will be more take time to fix it after removing !important.\nSo, i want to achieve this goal using grapes.js if possible.\nI am sure i will get some positive response from @artf and help me to out of this deep.. @NicoEngler \nThank you for your response.\nIt's works for me.\nYou saved my lots of time.\nThank you \ud83d\udc4d . Hello @artf , @NicoEngler ,\nSorry for the delay to respond here.\nHere is how am i integrate,\n```\neditor = grapesjs.init({\n      height: '899px',\n      cssComposer: { important: true },\n      showOffsets: 1,\n      noticeOnUnload: 0,\n      storageManager: {\n        autoload: 0\n      },\n      components: 'Hello world!',\n      container: '#gjs',\n      fromElement: true,\n      allowScripts: flagScript,\n      jsInHtml: false,\n      plugins: [\n        'gjs-preset-webpage',\n        'grapesjs-lory-slider',\n        'grapesjs-tabs',\n        'grapesjs-custom-code',\n        'grapesjs-touch',\n        'grapesjs-parser-postcss',\n      ],\n      canvas: {\n        styles: [\n          'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css',\n          \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\",\n          \"https://fengyuanchen.github.io/cropperjs/css/cropper.css\"\n        ],\n        scripts: [\n          'https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js',\n          'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js',\n          \"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js\",\n          \"https://maps.googleapis.com/maps/api/js?&sensor=false\",\n          \"https://fengyuanchen.github.io/cropperjs/js/cropper.js\"\n        ]\n      },\n      assetManager: {\n        assets: images,\n        upload: 'api/grapes/image-upload',\n        uploadFile: function (e) {\n          var files = e.dataTransfer ? e.dataTransfer.files : e.target.files;\n          var formData = new FormData();\n          for (var i in files) {\n            formData.append('file-' + i, files[i]) //containing all the selected images from local\n          }\n          var file = e.target.files[0];\n          var siteName = factory.websiteName;\n          file.upload = Upload.upload({\n            url: 'api/grapes/image-upload',\n            data: { file: file, websiteName: siteName },\n          });\n          file.upload.then(function (response) {\n        editor.AssetManager.add(response.data);\n\n      });\n    },\n  },\n  layerManager: {\n    appendTo: '#layers-container'\n  },\n  blockManager: {\n    appendTo: '#blocks',\n  },\n  'grapesjs-tabs': {\n    tabsBlock: {\n      category: 'Extra'\n    }\n  },\n  selectorManager: {\n    appendTo: '#selectors-container',\n  },\n  traitManager: {\n    appendTo: '#traits-container',\n  },\n  panels: {\n    defaults: [{\n      id: 'devices-b',\n      el: '#devices-b',\n      visible: true,\n      buttons: [{\n        id: 'set-device-desktop',\n        command: function (editor, Model, Options) { editor.setDevice('Desktop') },\n        label: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" width=\"24\" height=\"24\" style=\"-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 24 24\"><path d=\"M21 15.998H3v-12h18m0-2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7v2H8v2h8v-2h-2v-2h7a2 2 0 0 0 2-2v-12a2 2 0 0 0-2-2z\" fill=\"#ffffff\"/></svg>',\n        active: true\n      }, {\n        id: 'set-device-tablet',\n        command: function (editor, Model, Options) { editor.setDevice('Tablet') },\n        label: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" width=\"24\" height=\"24\" style=\"-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 408 512\"><path d=\"M352 0q22 0 37.5 15.5T405 53v406q0 22-15.5 37.5T352 512H53q-22 0-37.5-15.5T0 459V53q0-22 15.5-37.5T53 0h299zM202.5 491q13.5 0 23-9.5t9.5-23-9.5-22.5-23-9-22.5 9-9 22.5 9 23 22.5 9.5zM363 405V64H43v341h320z\" fill=\"#ffffff\"/></svg>'\n      }, {\n        id: 'set-device-mobile',\n        command: function (editor, Model, Options) { editor.setDevice('Mobile portrait') },\n        label: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" width=\"24\" height=\"24\" style=\"-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 768 1280\"><path d=\"M464 1152q0-33-23.5-56.5T384 1072t-56.5 23.5T304 1152t23.5 56.5T384 1232t56.5-23.5T464 1152zm208-160V288q0-13-9.5-22.5T640 256H128q-13 0-22.5 9.5T96 288v704q0 13 9.5 22.5t22.5 9.5h512q13 0 22.5-9.5T672 992zM480 144q0-16-16-16H304q-16 0-16 16t16 16h160q16 0 16-16zm288-16v1024q0 52-38 90t-90 38H128q-52 0-90-38t-38-90V128q0-52 38-90t90-38h512q52 0 90 38t38 90z\" fill=\"#ffffff\"/></svg>'\n      }, {\n        id: 'set-device-desktop',\n        command: function (editor, Model, Options) { editor.setDevice('Desktop') },\n        label: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" width=\"24\" height=\"24\" style=\"-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 24 24\"><path d=\"M21 15.998H3v-12h18m0-2H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7v2H8v2h8v-2h-2v-2h7a2 2 0 0 0 2-2v-12a2 2 0 0 0-2-2z\" fill=\"#ffffff\"/></svg>',\n        active: true\n      }, {\n        id: 'canvas-b',\n        el: '#canvas-b',\n        className: 'fa fa-trash',\n        command: function (editor, Model, Options) {\n          if (confirm('Areeee you sure to clean the canvas?')) {\n            var comps = editor.DomComponents.clear();\n            // setTimeout(function () { localStorage.clear() }, 0)\n          }\n        },\n\n      }]\n    }, {\n      id: 'styles',\n      el: '#style-manager',\n      resizable: {\n        tc: 0,\n        cr: 0,\n        cl: 1,\n        bc: 0,\n        keyWidth: 'flex-basis',\n      },\n    }\n  ]\n  },\n\n\n});\n\n```. ",
    "GoodPHP": "Write me to email - support@devfuture.pro. Not, it's doesn't work. . Do you have any idea? . I found:\neditor.getSelected().attributes.startfrom = e.sender._oldText;\neditor.getSelected().trigger('change:startfrom');. ",
    "lypliuyinping": "Will you send it to my mailbox? Or share as a link?. @JulyanoF  Firstly, thank you very much for your reply! Then, I would like to ask, how to achieve the button click event? For example: Click the button to bring up the text box. . ",
    "lauragadea": "Yes @JulyanoF , I already have. And it suggests modifying the files \u2018src/grapesjs/dom_components/model/Component.js\u2019. That is exactly what I am trying to avoid.. ",
    "ericscottmarquez": "I also get this error trying to compile sass files with references to other files in a react app on rails using the webpager gem. Did you find a solution?. ",
    "maxtacco": "Thank you!. One of the demos does it like this: \n$('#gjs-pn-views').find('.fa-bars').hide();\nI couldn't find a way to do it through API.. Also, if this is the case would be nice to set the default \"empty\" value strategy for traits in the configuration of a component. For example, emptyValue: \"\" or emptyValue: null or emptyValue: () => {}. . You can access RemoteStorage and update urls at any time:\njavascript\n    const RemoteStorage = editor.StorageManager.get('remote');\n    RemoteStorage.set('urlLoad', [urlLoad]);\n    RemoteStorage.set('urlStore', [urlStore]);. Having the same problem - I can't figure out an event on a component to listen for when move ends.. So, the only way I was able to make it reasonably work was to listen for the \"selectedComponent\" event that is fired in https://github.com/artf/grapesjs/blob/b62e032b06f45382849b59e6a3f32049f0a021fc/src/commands/index.js#L168 in my component model's init() method:\njavascript\neditor.on('change:selectedComponent', (editor, model) => {\n    if (model === this) {\n        // do stuff...\n    }\n });\nIt would be really nice if there were dedicated events for the move command, like move:start and move:end.. Also, this may require GrapesJS' init method to return a Promise instead of the editor, but this can be limited only to cases when there are any plugins that return Promises.. Yes, I can probably make it work but it is going to be kinda hacky.. Hi @artf, I created a pull request for this issue - https://github.com/artf/grapesjs/pull/881. Tested locally - works as expected. . Hi, if you are talking about HTML displayed when exporting a template then unfortunately there is no way to customize it using the default export template command: https://github.com/artf/grapesjs/blob/dev/src/commands/view/ExportTemplate.js. You can see that CodeMirror's theme is hardcoded to 'hopscotch' in there.\nBut, you can create your own export template command and override the default one and pass desired theme to it in options. \nYou can find example of this in the grapesjs-presetnewsletter project: https://github.com/artf/grapesjs-preset-newsletter/blob/master/src/openExportCommand.js. Then just include custom CodeMirror theme css and it should work. . Sorry, you were talking about the actual language highlighting. I'm not 100% sure about that but probably you need to customize CodeMirror as well. So, I would still take a look at export tempalte command.. No need to modify GrapesJS code. Just set 'contentTypeJson' to false in storeManager config if your endpoint uses application/x-www-form-urlencoded when storing the template.\njavascript\nvar editor = grapesjs.init({\n    ...\n    storageManager: {\n        ...\n        contentTypeJson: false,\n        ...\n        }\n    });\n    ..... I suggest you clone one of the examples using Git and run it using NPM commands included in the project. \nIn your example above I would check the paths to grapes.min.css and grapes.min.js files - make sure you do not get 404 - Not found.. GrapesJS is component based. So, I think it displays component names instead of tag names in this case. I think adding tag names and/or customizing layers tree rendering would be a nice enhancement.    . Actually, GrapesJS component may consist of multiple DOM elements, so it may not make sense to display tag names in this case because you style a component and not individual elements within it.. @tommedema If you talk about pure HTML, then yes, that's the case I think. But, I work on some custom Angular components that encapsulate a number of HTML elements but should be viewed as a single unit. This may also apply to some React components (may be web components one day) as well.. @tommedema The beauty of GrapesJS is that it can support any type of templates. They don't have to be limited to pure HTML/CSS. Out of the box it doesn't provide any integration with Angular/React - in fact it would be a mistake to do so. Instead it has a nice layer of abstractions, such as Component for example, that allow one to build templates in any desired format. Also, it is up to the implementor to do so. @artf has a number of examples though that can give one idea of how other formats can be supported by use of plugins. Here is  MJML example - https://github.com/artf/grapesjs-mjml and here is one for Bootstrap - https://github.com/z1lk/grapesjs-blocks-bootstrap4. \nAgain, you are looking at GrapesGS as HTML/CSS only solution, but it can be used to design templates in many other formats using any number of custom components. \nNote: I don't have any affiliation with GrapesJS, this is just my personal opinion.. Just take a look at other @artf's repos. For example, https://github.com/artf/grapesjs-preset-webpage is a good starting point for HTML/CSS solution. These plugins are really useful too for HTML/CSS: https://github.com/artf/grapesjs-plugin-ckeditor, https://github.com/artf/grapesjs-blocks-basic and https://github.com/artf/grapesjs-plugin-forms.\nI'm not sure if you will be able to modify Layer Manager to display tags in the format you want without making changes to GrapesJS core. But, I think it could be a nice enhancement to provide a way to customize Layer Manager's tree node display using some kind of config hook.\n. Btw, it looks like Layer Manager uses Component's https://github.com/artf/grapesjs/blob/49100b2f63411fb08d438d21a5f7ff9131773a75/src/dom_components/model/Component.js#L35 property when rendering tree node in  https://github.com/artf/grapesjs/blob/49100b2f63411fb08d438d21a5f7ff9131773a75/src/navigator/view/ItemView.js#L28. \nI would create a config option in https://github.com/artf/grapesjs/blob/dev/src/navigator/config/config.js that could be set to 'name' by default and then use that option when getting tree node value from component's model. Hope this helps.. Please search issues before next time: https://github.com/artf/grapesjs/issues/220#issuecomment-322574774. This is probably related to https://github.com/artf/grapesjs/issues/896. I guess the logic should be adjusted to handle different types of units, i.e px, em, % etc.. Created a pull request: https://github.com/artf/grapesjs/pull/1052. Np, thank you.. ",
    "RiyaThete": "@JulyanoF I tried this solution but this does not load all the  classes of all my web pages.. it just loads all of the results page and few classes from other pages. \nThe 3rd last import plugin .It is available on http://grapesjs.com/demo.html. @artf Thank you so much ... you saved me from writing a workaround for it.. ",
    "praveenpandey164": "@ryandeba how to get the options. I want to replace the view code button with save button. Can you please tell me how to do that. \nThanks in advance :*. ",
    "hillelcoren": "Thanks for your help!. I put together a basic sample and it works, it must be a problem with my code. . Sorry to take up your time!\nIf anyone else sees this problem in my case it was happening because I was using the canvas:drop event to adjust the HTML (to perform a mail merge). I've fixed it by checking if the user is dropping an image in which case we leave the HTML as is.. ",
    "kewilson": "Would also note that I ran tests and those executed and passed fine.. tl;dr - So does webpack-dev-server need to have cross-env in order to work on windows? I was able to run an older version of grapesjs that still used cross-env in its startup. It seems that the changes of this commit is the cause of the current difficulties:\n (https://github.com/artf/grapesjs/pull/547/commits/2cc479ca2d4a6c43450d93d1738059c6792ef4f1)\n\nJust tried running the latest grapesjs master on my home PC with same result: \n[Windows 8.1 x64, nodejs v6.4.0, npm v3.10.3]\n$ npm start\n\ngrapesjs@0.13.8 start C:\\src\\git\\grapesjs\nnpm run build:css -- -w & webpack-dev-server --open --progress --colors\ngrapesjs@0.13.8 build:css C:\\src\\git\\grapesjs\nnode-sass src/styles/scss/main.scss dist/css/grapes.min.css --output-style compressed \"-w\"\n\nThe above (just like my first report) is all that is shown and it just sits there, you have to terminate the job via ctrl-c. \nnpm install shows following warnings:\nnpm WARN optional Skipping failed optional dependency /chokidar/fsevents:\nnpm WARN notsup Not compatible with your operating system or architecture: fsevents@1.1.3\nnpm WARN optional Skipping failed optional dependency /webpack-dev-server/chokidar/fsevents:\nnpm WARN notsup Not compatible with your operating system or architecture: fsevents@1.1.3\n. The changes made to the start command at this version is what is causing current issue.\nhttps://github.com/artf/grapesjs/blame/54dabffa3f1c84bc0afbde48c5f5a02502285b8f/package.json#L4\nModified line to use prior versions and it loads lh:8080 but shows no content just blank white page.\nGoing to update to latest node/npm and use modified start command to see if the app/demo will fully load in chrome.\n. Installed latest LTS node (8.9.4), reverted to grapejs master's tip and ran \"npm i\" then ran npm run build then npm start .. let grapesjs sit at screen that shows following for an hour .. no joy. I'm thinking ya have a bug.\nC:\\src\\git\\grapesjs>npm start\n\ngrapesjs@0.13.9 start C:\\src\\git\\grapesjs\nnpm run build:css -- -w & webpack-dev-server --open --progress --colors\ngrapesjs@0.13.9 build:css C:\\src\\git\\grapesjs\nnode-sass src/styles/scss/main.scss dist/css/grapes.min.css --output-style compressed \"-w\"\nTerminate batch job (Y/N)? y\nC:\\src\\git\\grapesjs>. switched over and pulled the preset web page repo .. now seeing what I expected. . see the comment just above yours .. that's the ticket.. Hey @ryandeba thanks so much for the suggestions. I put in the second one and it works for, well, the defaults as you would expect.  Blocks like link, image, input just to name a few it doesn't add the attribute but those must be classified differently. Nonetheless an all around success in my book.\n\nThanks again much appreciated.. ok so button.style.paddingLeft = \"30px\"; works but I've noticed that the border area where the buttons reside don't distinguish between the two .. i.e., no button border around each button's text. Because the Export ZIP button is not under our control how might we go about adding a button border around it and subsequently our own .. eg with round corners, etc. ?. \n. notice in the image above that by setting my button's border it still encroaches on the zip button's space. would like to have the zip button have its own border with a space then our button with its own border so I can remove the paddingLeft .. any ideas how to go about that?\nDo we need to somehow tweak the  editor.Modal.getContentEl() ?. Hey @ryandeba that'll do .. I'll give it a whirl. Thanks!. Hey @ryandeba .. I wish to add a border to the buttons. Mine is easy when I create it but that doesn't achieve the goal. So I'm trying to modify both mine and the existing one via the code below when I add my button to the screen but it no worky, thoughts on what I'm doing wrong here?\n`//Add button inside export dialog\nif (c.addReactJsButton) {\n  editor.on(\"run:export-template\", () => {\neditor.Modal.getContentEl().appendChild(button);\n\nlet buttons = editor.Modal.getElementsByTagName(\"button\") || {};\n\nfor (b in buttons){\n  b.style.border = \"3px solid black\";\n}\n\nbutton.onclick = () => {\n  editor.runCommand(cmd);\n};\n\n});\n}`. ",
    "sa1987": "Hi , I am new to npm and webpage design. I tried to install grapesjs and facing similar issue. 8080 is not listening. Could you please share the steps to resolve this issue?. ",
    "ensemblebd": "I ended up just making second ajax request after calling editor.store(), to store the data I wish to store.\nI'll give that a try though, that is not the way in which I changed it.. ",
    "cjpollard": "Someone put up a nice bit of code for that here. https://github.com/artf/grapesjs/issues/74#issuecomment-322427387. You can listen for the event with: \neditor.on('load', fn);. Asset Manager's getAll function should do just that.\n```\nconst am = editor.AssetManager;\nam.getAll();\n. I managed to fix this in my fork [here](https://github.com/cjpollard/grapesjs/commit/70078331dcefe8c7524dccec4801fef5e5672187).  Not sure if this is the best way of doing it, but I can submit a pull request if desired.. This thread should answer your question. https://github.com/artf/grapesjs/issues/275. https://github.com/artf/grapesjs/tree/gh-pages. If you're using webpack to build your React app, you can include it as a plugin.  It'll pull it from node_modules.\n``plugins: [\n        new webpack.ProvidePlugin({\n            grapesjs: \"grapesjs\"\n        })\n    ],``\nThis worked for me.. \"grapejs\" is a different npm module to \"grapesjs\".  You should npm install grapesjs.  Step 3 shouldn't be necessary.. ProvidePlugin automatically loads grapesjs so it's available anywhere in the code, making importing it again redundant.. If you use the [CKEditor plugin](https://github.com/artf/grapesjs-plugin-ckeditor), that button's there.. If you search for tooltips in the [demo html](https://github.com/artf/grapesjs/blob/gh-pages/demo.html), the code's there.. https://github.com/artf/grapesjs/wiki/API-Editor#gethtml. This should work.\n``var editor = grapesjs.init({\n  keepUnusedStyles: true,\n...\n});``. You're pointing your storage manager to a website.  You need endpoints that can handle the requests. https://grapesjs.com/docs/modules/Storage.html#setup-remote-storage. https://github.com/artf/grapesjs-custom-code. That just means you won't see the code, but you get something to see and click on to edit it.  The JavaScript itself is there and works just fine.. Try\n`grapesjs.init({\nallowScripts: 1,\n...\n});\n`. Try `data-gjs-stylable=\"false\"`.. You need to parse the string.\n`JSON.parse(projectData.components)`. You can easily create your own blocks. https://grapesjs.com/docs/modules/Blocks.html. Looks like you're storing/loading incorrectly.  Check here. https://grapesjs.com/docs/modules/Storage.html#store-and-load-templates. Same issue as https://github.com/artf/grapesjs/issues/1554 .. All the code is here. https://github.com/artf/grapesjs-preset-webpage.\ngrapesjs.init({\n  canvas: {\n    styles: [\"style.css\"]\n  },\n  ...\n})\n```. Depends how you're bundling and serving your pages. For example, if you're serving a build folder, with the CSS in a subfolder there, then use '/css/style.css'.. ",
    "irfanhanfi": "@pranzikkin  @JulyanoF \nI am also trying to integrate it with laravel. I checked $_FILES array and I can see uploaded file in that array but if I try laravel method to get file it's blank. Is any of you have tried request()->file('files') method to get uploaded file?\nThanks,. ",
    "davidherlopgt": "I forget put what version I am using grapesjs - 0.13.5\n        \n\n\n. Hi artf thanks for your answer, I tried to use the table component and I can add the Table with one row and one cell in the header and the body, maybe the disadvantage is that if I change the color of the row to the header the body is changed too, so I have to remove the class from the body row so that it is not affected\nI add the live demo like you ask\ngrapesjslivedemo.zip\n. ",
    "ajwootto": "Both of those options would probably work, however something I forgot to mention is that in some cases, I want to re-initialize the editor with components and styles pre-specified (ie. passing them in the init) rather than loading them from remote storage, but in other cases I want the initial contents to come from remote storage only. This is happening on the same page, with the contents of the editor having to be swapped around. Is there some API I'm missing that can do this?\n. gotcha\nI ended up solving my own second question above by discovering the\neditor.setComponents()\neditor.setStyle()\nmethods. I think I've got everything I need now, feel free to close this unless you want a record of the feature request :)\nThanks everyone for your help!. ",
    "IceCrystal0k": "This is how i added new fonts to the style manager:\nCall this functions either after initialize, or on editor.on('load', ()=> { .... addFonts() ... }) if you use a preset like newsletter preset that alters the style manager after load.\naddFonts = () => {\n        let styleManager = this.editor.StyleManager;\n        let typographySector = styleManager.getSector('Typography');\n        let fontProperty = styleManager.getProperty('Typography', 'font-family');\n        let list = fontProperty.get('list');\n        list.push({ value: 'Roboto, Arial, sans-serif', name: 'Roboto' });\n        fontProperty.set('list', list);\n        styleManager.render();\n    }\nalso, inject the used fonts in the canvas, using  in the init function the canvas property :\ngrapesjs.init({\n....\ncanvas: {\n                styles: ['https://fonts.googleapis.com/css?family=Archivo+Narrow:400,400i,700,700i|Roboto:300,300i,400,400i,500,500i,700,700i&subset=latin,latin-ext'],\n            },\n....\n}). ",
    "hitugehlot22": "There is one font issue when i click on any element it not show the current font of the element, i added custom code for add my custom fonts.\ncode work perfectly but it not show the selected font by default when i select an paragraph or any text.\n```\neditor.on('load', function () {\n    styleManager = editor.StyleManager;\n    fontProperty = styleManager.getProperty('Typography', 'font-family');\n    var list = [];\n    fontProperty.set('list', list);\n    list = [\n        fontProperty.addOption({value: \"'Oswald', sans-serif\", name: 'Oswald'}),\n        fontProperty.addOption({value: \"Helvetica Neue,Helvetica,Arial,sans-serif\", name: 'Helvetica'}),\n        fontProperty.addOption({value: \"sans-serif\", name: 'sans-serif'}),\n        fontProperty.addOption({value: \"Times New Roman\", name: 'Times New Roman'}),\n        fontProperty.addOption({value: \"Arial Black\", name: 'Arial Black'}),\n        fontProperty.addOption({value: \"Tahoma\", name: 'Tahoma'}),\n        fontProperty.addOption({value: \"Verdana, Geneva, sans-serif\", name: 'Verdana'}),\n        fontProperty.addOption({value: \"Courier New Courier, monospace\", name: 'Courier New Courier'}),\n        fontProperty.addOption({value: \"'Lato', sans-serif\", name: 'Lato'}),\n        fontProperty.addOption({value: \"'Open Sans', sans-serif\", name: 'Open Sans'}),\n        fontProperty.addOption({value: \"'Montserrat', sans-serif\", name: 'Montserrat'}),\n    ];\n    fontProperty.set('list', list);\n    styleManager.render();\n});\n```. i found the answer :\nyou have to add your font in single or double quotes otherwise it wont detect the font like this\n```\neditor.on('load', function () {\n        styleManager = editor.StyleManager;\n        fontProperty = styleManager.getProperty('Typography', 'font-family');\n        var list = [];\n        fontProperty.set('list', list);\n        list = [\n            fontProperty.addOption({value: '\"Open Sans\"', name: 'Open Sans'}),\n            fontProperty.addOption({value: \"Montserrat\", name: 'Montserrat'}),\n            fontProperty.addOption({value: \"Lato\", name: 'Lato'}),\n            fontProperty.addOption({value: '\"Source Sans Pro\"', name: 'Source Sans Pro'}),\n            fontProperty.addOption({value: \"Raleway\", name: 'Raleway'}),\n            fontProperty.addOption({value: \"Roboto\", name: 'Roboto'}),\n            fontProperty.addOption({value: \"Oswald\", name: 'Oswald'}),\n//            fontProperty.addOption({value: '\"Helvetica Neue\"', name: 'Helvetica'}),\n//            fontProperty.addOption({value: '\"Times New Roman\"', name: 'Times New Roman'}),\n//            fontProperty.addOption({value: '\"Arial Black\"', name: 'Arial Black'}),\n//            fontProperty.addOption({value: '\"Tahoma\"', name: 'Tahoma'}),\n//            fontProperty.addOption({value: '\"Verdana\"', name: 'Verdana'}),\n//            fontProperty.addOption({value: '\"Courier New Courier\"', name: 'Courier New Courier'}),\n        ];\n        fontProperty.set('list', list);\n        styleManager.render();\n    });\n```\nbecause we write font in our css like : font-family: 'Oswald'\nhtml in browse auto convert single quotes to double quotes, when the font match with html and included font in JS it will show in the drop down but some font like Lato is not detect so and this font in browser appear like : font -family : Lato , without single quotes so i wrote this font only double quotes. and other are double quotes inside single quotes i hope someone who has this issue will fix.. ",
    "muhibbudins": "Hi @poirin ,\nI have some solution, last week i have this problem too i try to save current HTML & CSS without manual copying.\nAnd below is my code .\n\nAdd custom panel eg. left top button (save button).\njavascript\n  /**\n   * Create save button\n   * @type {String}\n   */\n  panelManager.addPanel({\n    id: 'customPanel',\n    visible    : true,\n    buttons    : [{\n      id          : 'smile',\n      className   : 'fa fa-save',\n      attributes  : { title: 'Update Promo' },\n      command     : 'customCommand'\n    }],\n  });\n\nAnd then create save function\njavascript\n  /**\n   * Create save function\n   */\n  commands.add('customCommand', {\n    run:  function(editor, sender){\n      storageManager.load(['css', 'html'], function(res) {\n        // your custom event\n        // Note: res variable will return code of css & html\n      })\n    }\n  });\nGood luck \ud83d\udc4d . Hi there,\nForget it i solve this problem, just add event on change like this.\njavascript\n  editor.on('change:device', function(e) {\n    if (e.attributes.device !== 'Desktop') {\n      editor.setStyle('/builder/css/builder-mobile.css')\n    } else {\n      editor.setStyle('/builder/css/builder-desktop.css')\n    }\n  });\nThank you. ",
    "vrudikov": "For everyone who want to have Material + GrapesJS integration - just use material-components-web. Hmmm! I think i have the same issue with the ordering of media queries styles\nHere is the video which show how to easily reproduce the bug\nSteps to reproduce on Grapes JS Demo:\n1) Add 2 Columns from the right panel\n2) Select left column and create a class for it on the Style Manager panel. For example - column-right\n3) Current device is Laptop - change background color of the left column. For example choose red color\n4) Select Tablet device and change background color of the left column. For example choose green\n5) Select Mobile device and change background color of the left column. For example choose blue\n6) Stay on Mobile device\n6) Select right column and create a class for it on the Style Manager panel. For example - column-left\n7) Change background color of the right column for the Mobile Device mode. For example choose blue\n8) Select Tablet device and change background color of the right column. For example choose green\n9) Select Laptop device and change background color of the right column. For example choose red color\n10) Now just switch devices on Device panel. @artf Can you point me to the right direction? I have a time to take a look. Ok. It seems that we should tune the logic in CssRule.js.compare method. Right?. So now we have the following structure:\n<div class=\"gjs-css-rules\">\n  <style>...</style>\n  <style>...</style>\n  <style>...</style>\n  <style>...</style>\n</div>\nAnd you want something like this:\n<div class=\"gjs-css-rules\">\n  <div id=\"common-styles\"> \n    <style>...</style>\n    <style>...</style>\n    <style>...</style>\n  </div>\n  <div id=\"media-1000-styles\"> \n    <style>...</style>\n    <style>...</style>\n    <style>...</style>\n  </div>\n  <div id=\"media-700-styles\"> \n    <style>...</style>\n    <style>...</style>\n    <style>...</style>\n  </div>\n  <div id=\"media-400-styles\"> \n    <style>...</style>\n    <style>...</style>\n    <style>...</style>\n  </div>\n</div>. @artf Can we discuss it and i want to help with this issue. I just need to be sure that we on the same page. @artf Created the PR. In progress.... @artf Ready for review #2. @artf Can you help me with the last failing test, plz. So the background... we have 2 tests and they are very similar: Init editor from element and Adds a new storage and fetch correctly data from it. Both of them share similar parts of code:\n...\nfixture.innerHTML = documentEl;\n...\nconfig.fromElement = 1;\n...\nAnd we have code in CssRulesView.js.addToCollection method where i build styleBlockId:\nconst styleBlockId = `#${this.pfx}rules-${mediaWidth}`;\nWhen Init editor from element runs this.pfx is equal to gjs-css- and that is right behavior. \nBut when Adds a new storage and fetch correctly data from it runs it seems that CssRulesView instance is loosing it's parent context and this.pfx is equal to just css-\nThat's why we get Cannot read property 'appendChild' of null for the line\nfragment.querySelector(styleBlockId).appendChild(rendered);. @artf Done. Please review. Appreciate your help and support. Now we just need to wait for the community tests :) I hope it will work without regressions. Can I somehow simplify it? Do I have an option to take the current media condition parameter from the model directly - without any replacements?. ",
    "ancanot": "I have loaded jQuery first.\nImageViewer Plugin url - https://www.jqueryscript.net/gallery/jQuery-Plugin-For-Product-Viewer-with-Image-Hover-Zoom-BZoom.html\nThe problem is that, when I create component, plugin connected (I give plugin js in init() function - canvas - scripts), but \n1. I can not handle double click event for open modal and changing image (in double click event working ImageViewer click event) \n2. script which is used ImageViewer plugin (code see above, in script function) after refreshing page doesn't work again and viewer not created.\nThank you. ",
    "nojacko": "This seems a little weird. Grapes adding the class c318 makes my styles unreachable. I'd expect the html and styles provided to be editable.. The styles I've defined for my element aren't reachable in the style manager. When I click the box in the canvas I'd really expect to see all the styles it has in the style manager, rather than the the styles of the class Grapes has added.\nYou said that the background doesn't show because it's using the .fluid-container.c318 but adding color: Pink to the style attribute does show the colour in the typography section. That's a little inconsistent. It's picking up the color attribute but not the background-image one.. I think that's down to you to build that components/blocks that work with Outlook. The newsletter builder is just a demo.. I think you need to add the attribute to the model, rather than the view.\nhttps://github.com/artf/grapesjs/blob/50cc585f23f2560077fd0e9a42ced22e67e69723/src/dom_components/model/Component.js#L298\nThen, you'll need to render the view.\nI think it's like this, but no guarantees \ud83d\ude04 \nlet selected = editor.getSelected();\nselected.addAttributes({blockId: 1});\nselected.view.render();\n. Looks like the fix only replaces the code in the Grapes editor but when getHtml() is called the issue is still present.\nInspected code:\n<input type=\"text\" name=\"company\" placeholder=\"This is an &quot;example&quot;\" required=\"false\" data-highlightable=\"1\" class=\"gjs-comp-selected\">\nOutput from get editor.getHtml(): \n<input type=\"text\" name=\"company\" placeholder=\"This is an \"example\"\" required=\"false\"/>\n. Looks like I'm not the only one who wants this \ud83d\ude09 . Single page apps are where this has value (the issue I raise but also freeing up some memory).\nI'll look to raise a PR when I got something.. @artf Thanks for the quick solution but it doesn't appear to work. Both inspecting the Grapes source and calling getHtml() return required=\"true\" and required=\"false\". I'm guessing because the attribute is a boolean value represented as a string.\nI will where I can but, unfortunately, I'm on an unusual tight schedule for the GDPR rules coming in. \n. I think you have to override the CSS. \n.gjs-trt-trait .gjs-field .gjs-input-holder select {\n    -webkit-appearance: menulist;\n    -moz-appearance: menulist;\n    appearance: menulist;\n}. Build your CSS to with min-width rather than min-device-width etc... and it's all good.. To elaborate a little, it seems to be when you apply styles to a box it adds the ID. When you export that and reload it to Grapes the problem happens.. Source codes:\n https://github.com/artf/grapesjs-preset-webpage\n https://github.com/artf/grapesjs-component-countdown. @alperenuzun Did you figure this one out?. Think you're missing the point of grapes. It let's you edit HTML. There's no underlying JSON format.. @pnellesen would you mind sharing the '... mode code ...' and '.. other code ...'? I'm trying to do something requiring the colour picker too but not having much luck.. Thanks @pnellesen!. Nice spot. Thanks.. I don't think that's a glitch. It's quite a common thing for that style of \"text next to image\" designs. On small screens you still get to see the editor with a mobile sized canvas and on big screens you get to see more. Importantly, nothing is lost for mobile users... responsive done right. \ud83d\ude09 . Yeah, index page looks fine to me but it would probably help if you provide a screenshot so any issue could be seen and then fixed.\n(I'm not the creator or a member of the project... just a user.)\n. If your sections always require 1 or 2 columns, why not remove the section and column blocks, instead, add new blocks for \"section with 1 column\" and \"section with 2 columns\" and save the popup?. Ok. In that case, it's the canvas:drop event. Hook into that, check it's a section and open your modal. I'm not sure on how you insert the columns but hope this helps.\neditor.on('canvas:drop', (dataTransfer, model) => {\n        if (model.is('section')) { // <-- might not be called 'section' \n            // Open your modal and do your thing...\n        }\n    });. ",
    "panagulis72": "Hi @artf ! I'm talking about this file: https://raw.githubusercontent.com/artf/grapesjs/dev/dist/grapes.js\ntry to search the string:\nfor (var _iterator = files[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true)\nI'm talking about this loop\nBut I solved this issue replacing with this code:\ntry {\n      for(var i = 0; i < files.length; i++){\n        var file = files[i];\n        _loop(file);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\nI don't know if it is a good solution, but in Internet Explorer works fine. What do you suggest? I'm glad to approach your solution if you have one. Thank you very very much!\n. ",
    "kbg2875": "works great!  thanks @artf \nIs there any way to change wrapper's tagName also?. ",
    "XYNOMEX": "I'll try, thanks. ",
    "lv-alex": "hi, \n When is the next release? Is it possible for us to fix it on our end before the release? We are seeing this issue now and our release goes out in 2 weeks.\nthank you\nca. thank you @artf . We will try it out. It works. Thank you @artf . ",
    "chthomos": "Sorry for the late reply. I am working on a fiddle for this so you can replicate. . I figured it out and it was my bad. SelectComponent was called before rendering the traits and style manager element. . I figured out how to make it mobile first and it solves my issue for now:\nSet the editor config.mediaCondition: 'min-width'\nand on deviceManager: [\n    {name: 'Mobile portrait', width:'320px',widthMedia:'0px'}\n    {name: 'Tablet', width:'568px',widthMedia:'320px'},\n    {name: 'Desktop', width:'568px',widthMedia:'768px'},\n]\n. ",
    "rathish": "Thanks artf, in our usecase we are planning to generate templated html from grapejs and then compiled in the runtime to generate required html files. I hope we can introduce custom plugins which can embed templates syntax . ",
    "rajatkumcom": "Getting this error ( SyntaxError: Unexpected token < in JSON at position 0 ) when trying to use:-\n storageManager: {\n                  type: 'remote',\n                  autosave: false,\n                  setStepsBeforeSave: 1,\n                  contentTypeJson: true,\n                  params: {},\n                  storeComponents: true,\n                  storeStyles: true,\n                  storeHtml: true,\n                  storeCss: true,\n                  urlStore: 'http://localhost/grapesjs/fileUpload.php',\n                  urlLoad: 'http://localhost/grapesjs/fileLoad.php',\n                }\nCould someone please help me...\nThanks in advance!. When I am trying to save, then I got that error. Loading is perfect.. This is my code:-\n\n\n\n",
    "ekennedy80": "Okay, I am building a CMS using JSF 2.2 and I cannot get a simple example working in the web application.  But if I test an example using a simple file and browser I can get it to work.  Has anyone had any experience using grapsejs with JSF?  I cannot get an simple example to work in a JSF environment.  Any advice is very appreciated because grapesjs is an excellent project that I'd love to use. . Any and all suggestions are greatly appreciated.. ",
    "Sridhar-M": "@ekennedy80  I am facing the exact same issue in my CMS too. Have you fixed this issue? If so do you remember the solution ? I am eagerly waiting for your response. Solutions and suggestions from anyone will be so helpful. Thanks in advance.. ",
    "iceverge": "Thanks @artf. It really helps a lot. Thanks again.. ",
    "samuelmattos": "Hi @alimajed93 try it!\neditor.BlockManager.get(\"blockId\").attributes.content.customAttribute. Hi, i have same problem.\nIn preview https://jsfiddle.net/szLp8h4n/77/\nWhen I change the background of the box in the preview it changes, but in the code it generates another id. If you save the template in this way and try to display it on the page it does not change the background.. ",
    "konstantin55000": "Thanks for your attention. \nI just read the doc.\nAnd ended up with this solution:\neditor.on('component:add', function(currentComp) {  \n    if (currentComp.attributes.tagName == \"form\"){\n\n        var modelList =  (domComps.getComponents()).models;            \n        var presentForms = modelList.filter(function(component) {\n          return component.attributes.tagName == \"form\";\n        });\n\n        if (presentForms.length > 1){\n            //console.log(\"canvas have > 2 forms\");\n            implodeComponents(currentComp, presentForms);\n        }\n    }\n});. If need to explaine more, about situation, please write.\n\nhere i've tried to describe on video\nhttps://www.screencast.com/t/V2mGBFXp\nso when text dropping into form, i need event, to detect component form . Code is syntax. valid.\nHere is jsfiddle with code \nhttps://jsfiddle.net/s9b2k7vp/\nHere is the demo: \nhttps://www.screencast.com/t/pWcpkM7QO\n. Update.  Events are firing, but just after  block drops into canvas.\nI'm not sure  if this an issue, because\nwhat about event canvas:dragend and canvas:dragover,\nif block does not drop into canvas, they just not fire at all.\nHere is the demo, please look in the video:\nhttps://www.screencast.com/t/9xHVwwp3C54J\nhttps://jsfiddle.net/s9b2k7vp/2/. Much sorry. Event was not fire because of prvious version of grapes.js\nThanks to everybody for attention.. ",
    "alvimm": "You should get it by editor.getHtml().\nIf your editor is inside an iFrame and you're executing code in a parent window, you could access it like this:\nvar indexOfIFrame = 0;\nwindow.frames[indexOfIFrame].editor.getHtml()\nIs this what you're looking for?. ",
    "JordanTGVG": "I have a issue in Edge browser, i cannot get the html from the editor  with:\nwindow.frames[indexOfIFrame].editor.getHtml()\nin chrome and mozzila is working good, any ideas?. ",
    "sergeysova": "@artf ?. @artf How can I get panel to add button?\nor I need to modify library source?. ",
    "nitusahu-consta": "Did you able to add button to selected element panel ? \nIf yes, it would be really helpful if you please explain how did you do that.\nThanx. ",
    "isaacnikon": "Hi @artf \nthanks for the pointer \ud83d\udc83 ,\nthe above code was throwing an error nlPlugin not a function,\ndoing this helped it run \n```\nvar grapesjs = require('grapesjs');\nvar nlPlugin = require('grapesjs-preset-newsletter');\ngrapesjs.plugins.add('gjs-preset-newsletter-2', nlPlugin.default);\n...\n      plugins: ['gjs-preset-newsletter-2'],\n```\nthanks a lot again \ud83d\udc4d . ",
    "g40": "@artf thank you for the pointers.\n@tommedema yes and any help welcomed. :). @ionic666 Hello. Sadly not. I have had zero time. Will be reviewing shortly.. ",
    "Iceweex": "@artf this works only for toolbar button, but when I hit \"delete\" on my keyboard it doesn't. How can I override this event? . ",
    "rafael-chile": "Is this already integrated to the last release? This is not triggering any event -> run:${commandName}:before\nThanks a lot. ",
    "mbleverage": "Thank you!  I was able to get that working with:\nprotectedCss: 'img {max-width:100%;}',\nI have the same issue with videos and iframes (for youtube) being dropped onto the template larger than the screen size and the protectedCss solution did not work for those.  Any suggestions?. Thank you for your time.\nI just tried this and it is not working.  Any other suggestion?. ",
    "vtsoft": "Hi @sura2k,\n     I also want to add a select option to toolbar. Can you please share your ideas/code/script on how did you implement it? \n Thanks in advance.. Hi @artf nice work it's a great application,\n  I just like to ask, how about changing/updating the content of the already existed component?\n\n  with the content of: \n         <form id=\"contactForm\">Adding content</form>\n\n  Can I use this command?\n\n  editor.getSelected().setContent(content) - it seems no command for this yet when I tried.\n\n  currently: i'm using the below command/script after selecting the form in the canvas.\n\n  const model = editor.getSelected();\n  model.set('content', <form id=\"contactForm\">Updating content</form>);\n\n  the result was:\n       it created a new form instead of overwriting the existing form id contactForm.\n\n       this is my problem right now. I cannot update the content of the existing form.\n       please help. Thanks is advance.\n\n. @artf thank you for responding.\nYes, I used editor.getSelected().components(content) during edit component and use  editor.getSelected().set('content', content) during create component. And so far both are working fine.\nThanks again artf.. ",
    "NealWalters": "Thanks Art. \nOkay - let's re-read this: \n\"GrapesJS was designed to be used inside a CMS to speed up the creation of dynamic templates.\"\nThat could mean I need a CMS then I paste GrapeJS into it; or it could mean it was meant for a person to create his or her own CMS.  \nMaybe you could just add that \"; and it always works fine to build independent HTML pages. \nNow back to NodeJS - so there are Node-JS libraries you use that are needed to design/develop a page; but when I deploy to a server, they are not needed?   Just the two lines on the getting started page: \n\n\nThis isn't for work; but I'm new on my current job; and everybody assumes I know what they know - so they get tired of my basic questions.  :) \n. ",
    "alfaalex81": "Thanks for your reply, I tried your suggestion, but the image is not ready yet when I launch selection update. There are a callback or a listener on loaded image?. Correct, I need to select it after the image is loaded.. I have an image on canvas, for example 300x200, double click on it and I select a new image from asset manager, now is 600x400. When i launch your suggested code the new image is not ready. I solved with a preloader, \nIn Italy we say: \"I am lost in a glass of water\" :)\nThanks for the support.. Sure, other scripts with \"allowScripts\" parameter work fine, but scripts inside \"on load event\" don't.\nI inject the code in this way:\nvar newComps = editor.DomComponents;\n        $.get('http://myexamplepages.com', function (e) {\n            newComps.setComponents(e);\n        });\n        window.editor.setComponents(newComps);\nThanks.. Awesome!\nI have another question for the same argument. I need to create a custom block with an image inside, for example: \n<div>\n    <ul>\n        <li>\n            <div><a href=\"#link\"><img src=\"\" alt=\"Title Image\" /></a></div>\n            <a href=\"#link\" >Title</a>\n        </li>\n    </ul>\n</div>\n\nI add the code with block manager, but on drop into canvas asset manager doesn't open. Otherwise if I use image type attribute, it ignore my html content, I saved an example in js fiddle:\nhttps://jsfiddle.net/fp78yon0/\nThanks!. For example i have this code on canvas\n<div class=\"row\">\n    <div class=\"col-md-6\" style=\"min-height: 50px\"></div>\n    <div class=\"col-md-6\" style=\"min-height: 50px\"></div>\n</div>\nGrapesJs add to CSS this class\n.col-md-6 {\n    min-height:  50px;\n}\nThis rule modify all element with this class, this is a generic bootstrap class that we use in all site.. https://jsfiddle.net/ugc1otnk/\nIn the example when i change background color in the first column, GrapesJs set the css attribute to the external class \"col-md-6\", that is a bootstrap class name. I prefer Grapesjs set own class.\nMoreover I think I've found a bug. Select the first column and deselect class \"col-md-6\" on the stylee manager panel, class name \"example\" appears but this class is associated in the second column. It is only a visual bug.. I have defined the exact position on color picker definition, for example\ngrapesjs.init({\n                ...\n                colorPicker: {\n                    appendTo: 'parent',\n                    offset: { top: 26, left: -166, },\n                },\n                ...\n});. ",
    "TheMysticMan": "The addStyle method is better indeed. It doesn't fix my problem though. \nThe style manager doesn't see the styling on the id. I deselected the class checkboxes but the StyleManager also creates new rules instead of adding it to an existing rule.\n```css\nixnhha{\nbackground-image:url(uploads/1515695340.jpg);\n  background-repeat:no-repeat;\n  background-position:50% 50%;\n  background-attachment:scroll;\n  background-size:cover;\n}\nixnhha{\nfloat:left;\n}\nixnhha{\nbackground-image:url(\"uploads/1515695681.jpg\");\n  background-repeat-x:no-repeat;\n  background-repeat-y:no-repeat;\n  background-position-x:50%;\n  background-position-y:50%;\n  background-attachment:scroll;\n  background-size:cover;\n}\n```. @artf can I PM you our environment? There you should be able to reproduce this issue. . ",
    "ondrejpolach": "Hi andre2, do you complete this solution for handlebars integration? can you share some code please?. ",
    "phucphanJaneto": "@vishal5033 : many thanks for your helps. it works for me.\nThe script file and internal js will show when export html.\nBut I see the error message: \n\nand\n\ncan you help me?. Yes.\n```\nvar newComps = editor.DomComponents;\nwindow.newCom = newComps;\n$.get(response.HtmlLink, function (e) {\n      newComps.setComponents(e);\n   })\n})\nwindow.editor.setComponents(newComps);\n```\nYou can test with attach html. \nb0c0c79f-41e5-437d-aa12-4aa3bfb198df.zip\n. Yes. this is a HTML string. i load html file which sent to you.. Hey, @artf \nCan you see my comment above?. Hi, @artf \nSorry for late reply.  Here you are: https://jsfiddle.net/oq58jk1p/6/\nCurrently, I comment the line \"allowScript: 1\" in the jsfiddle. When you test please open this again. \nThanks.. ",
    "abhi-161994": "hello @artf i give type= \"link\" and content=\" in thi case i am not able to open selected icon as link not showing component setting of that icon. hi @Brandonwaichunyu \nVisit this https://github.com/artf/grapesjs/issues/174. ",
    "nicolaskern": "Hi,\nI actually already have spent time analyzing the source code of the page, and there is - for me - no reason not to have the CSS put in the  when I drag&drop it.\nI couldn't find any override of the component, or anything saying to use that very CSS.\nThanks,\nNicolas. ",
    "alexroosenstein": "Thanks! I'll give it a go tomorrow.\nBy the way, I update the text via JQuery using the text() function, but when I move the element to a different position the original text reappears again.. ",
    "beckerc": "Hi, had same issue, I solved it by  installing webpack-dev-server as global\nnpm install webpack-dev-server -g\nand there was double dashes on the start script, after  the build:css\n\"start\": \"npm run build:css -- -w & webpack-dev-server --open --progress --colors\",\nwhen removed these dashes it worked for me.. Hi, you are welcome. ",
    "VCheque": "Thanks dude\nMore one thing, I can't find the Start Script. Where is it???\nValter Cheque\nLicenciado em Engenharia Inform\u00e1tica - UEM\n+258 826002027\n+258 846370199\nOn Mar 19, 2018 8:11 PM, \"Becker Chaaban\" notifications@github.com wrote:\n\nHi, had same issue, I solved it by installing webpack-dev-server as global\nnpm install webpack-dev-server -g\nand there was double dashes on the start script, after the build:css\n\"start\": \"npm run build:css -- -w & webpack-dev-server --open --progress\n--colors\",\nwhen removed these dashes it worked for me.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/962#issuecomment-374312050, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AH_nTxV3B9xROZHjGQqzf8NsisxeFdFRks5tf_TlgaJpZM4Svs2b\n.\n. Founded\nThanks you..!!\n\nValter Cheque\nLicenciado em Engenharia Inform\u00e1tica - UEM\n+258 826002027\n+258 846370199\nOn Mar 20, 2018 9:06 AM, valtercheque@gmail.com wrote:\nThanks dude\nMore one thing, I can't find the Start Script. Where is it???\nValter Cheque\nLicenciado em Engenharia Inform\u00e1tica - UEM\n+258 826002027\n+258 846370199\nOn Mar 19, 2018 8:11 PM, \"Becker Chaaban\" notifications@github.com wrote:\nHi, had same issue, I solved it by installing webpack-dev-server as global\nnpm install webpack-dev-server -g\nand there was double dashes on the start script, after the build:css\n\"start\": \"npm run build:css -- -w & webpack-dev-server --open --progress\n--colors\",\nwhen removed these dashes it worked for me.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/962#issuecomment-374312050, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AH_nTxV3B9xROZHjGQqzf8NsisxeFdFRks5tf_TlgaJpZM4Svs2b\n.\n. ",
    "tomasz-nowakowski": "@artf the problem is on windows. & does not make a comment to run in background. So npm start runs  node-sass in watch mode and does not start webpack-dev-server because node-sass did not finish.\n. ",
    "peakrams": "I am interested in a possible solution for this issue. For now I've worked around it by putting custom CSS for those quirks that have a solution via CSS, but the ability to use a DOCTYPE would better, I think. . Hello. \nThere is or there will be any update about this issue? I've just tried to replicate it in the demo and the issue still persist. Unfortunately, I know only basic JS so I can't think of a way to fix this beaheviour myself. \nI don't know if it is related to my issue but, inspecting the code, in the file config.js the width of the device Tablet is the same as the withMedia of the device Mobile landscape; in this way, the custom style applyed to Mobile landscape via media query won't persist in the canvas switching the device to Tablet? (I didn't try this one, since there is no Mobile landscape in the devices panel.)\nThank you.. Hi, \ncan someone help me with this issue? I have just replicated (in the demo) the second example I have provided in the opening post and it seems that nothing has changed from the last time. \nThank you.. Thank you for the reply.\nIf this can help, I have done a little debug and I have noticed that when you add the class np to the second element, the style attribute is not updated (this happens both in the model using editor.getSelected().styleToString() and in the DOM using the browser inspector) and if you force editor.getSelected().removeStyle() the content of the style attribute remains the same.. Hi, @arthuralmeidap.\nThank you for your reply. I just did all the steps described in my first post (using Google Chrome on Ubuntu), it's true that something seems to be changed under the hood (at the model level I see no issues) but the view is presented as described in my first post. \nI've just done another test: I added the np class and modified its padding-left to 10px before switching the device. Now it seems that the model is updated (I see an empty string if I use the command editor.getSelected().styleToString() in the console) but the view is not (in reality, only the first row to which I add the np class gets the 10px as its padding-left probably because I set the new padding-left when this row is selected, but when I add the np class to the other row its padding-left doesn't change)... If I try to export the code, in the CSS panel I see the following code \n.np{\n  padding:10px 10px 10px 10px;\n}\n...\n@media (max-width: 480px){\n  .foot-lists{\n    display:none;\n  }\n}\n@media (max-width: 992px){\n  .np{\n    padding:10px 10px 10px 100px;\n  }\n}\n. Thank you, guys! I'm sorry for not consulting the new docs before asking my question, I searched in the docs here on github but there is no warning in the components api page about the docs on github not maintained anymore.. Hi. I've seen that after your repl. I search directly through my bookmarked Components api page and there there is no such warning, at least on the mobile version it does not appear, but it's OK, thank you :)\nP. S. I rechecked and it is at the very bottom of the page, my bad. . Hi, @artf thank you for the very detailed explanation. \nSo, if I understand correctly, the first component in the stack that returns its type with its isComponent method determines the type of the node that is currently analyzed by the editor, and the fact that it has returned a type for this node prevents the editor from testing the inner nodes of this node for a component type? Sticking to my example, when my table node has been recognized to be a separator component its inner nodes tbody, tr and td are not tested against any isComponent method, am I correct? \nI'm very aware of the fact that is risky to init the editor from HTML code but at the moment I must to do it since the templates are stored as HTML files on the file system and for the time being they should be editable with the current system, too. . Yeah, the content property could really solve my problem but I guess I have to manually keep it's value in sync (with string manipulation) with the changes made by the users to the properties and the traits of the separator component, and, since it is part of the model of a separator component, any change to it will trigger a view update, right?\nOtherwise, if I let the inner nodes to be traversed but check the ancestors and/or the descendants to establish if e.g. the they are part of my separator component and make them not droppable, not draggable and not selectable (maybe defining separated components like separator-tr, separator-td, etc.)?  Could this be a better solution? . My bad for not being clear enough in my opening post. I'll try to explain better what I would like to accomplish with an example. \nThe basic assumption is that my target user doesn't know anything about HTML, CSS, nodes, components and stuff but he understands that any block he drags in the white canvas has some properties he can edit and he expects to see the result of those changes in a real-time fashion in the canvas. \nSo... The user drags in the canvas the Separator block that is in the Blocks Panel. The source code of the Separator in the canvas is now something like:\n<table class=\"separator\" style=\"width: 100%; margin: 20px 0;\">\n        <tbody>\n                <tr>\n                        <td style=\"height: 1px; background: rgb(0, 0, 0)\"></td>\n                </tr>\n        </tbody>\n</table>\nNow, the user wants to edit the Separator block so he clicks on the black line in the canvas and he  doesn't (and must not) care that he clicked on the table, tbody, tr or td - since he expects the separator to be be an atomic entity. In this case, using one of the approaces described in the previous posts, I select the external node table so that the functions move/delete/copy of the editor work as expected. \nNow, in his Style Panel he edits the properties Width, Height, Margin e Background and he sees the canvas updated accordingly. The tricky part is that at the source code level not all the properties need to affect the table node of the Separator block, since the height and background properties should update the named properties in the inner td node. In this case, I think I have to listen for any change at the properties of the separator component and trigger my own login to manage the model (or the style attribute if I'm using the content approach) of all the nodes of the component.  \nAssuming he wants the separator red, half of the its container width, with more spacing, centered horizontally e thickier then the result source code should be the following\n<table class=\"separator\" style=\"width: 50%; margin: 40px auto;\">\n        <tbody>\n                <tr>\n                        <td style=\"height: 2px; background: #FF0000\"></td>\n                </tr>\n        </tbody>\n</table>\nMy sole technical constraint is that the source code should be importable in the editor since it will be saved as generated by the editor on the file system (in reality I'll make some pre and post processing on it since I need a complete HTML page, but I think I can manage this).\nI hope that this make everything more clear.\nI thank you, genuinely.. Hi, @artf, thank you as always for the detailed replies. I took some time to organize my mind and I almost have an idea of what to do. I just can't understand a couple of things and I'm not sure they are feasible. \nAssuming I decide to use the components approach discussed a few posts ago (but the problems here described are valid even for the content approach) and considering that my idea is to use the Style Manager of the table component to style all the components of the separator...\n\n\nhow can I prevent the properties that are meant for the inner components to apply to the table component? e.g. if the user sets the height property, I can react to the event and update the model of the td component but now the table component itself has the same property while I don't want any height applied to the table component.\n\n\nwhen I import an existing template, when the editor recognizes the table component as part of my separator how can I set in the Style Manager of the table component the values of the properties applied to its inner components? And is it even possible to do it without affecting the component table itself (as described in the point 1.)? \n\n\n. Hi @artf, I have found a suboptimal solution to both the problems using Traits. Basically I define all the properties of the inner components of the table component as traits of the table component itself. Then, using the initialization method of the inner components I can set the traits of the table component and at the same time I can activate the listeners for the changes of the values of the traits of the table component. I think this is a suboptimal solution because the user has to switch between the Style and the Traits panels to customize the component. I could define traits also for all the properties of the table component but then I need to implement all the logic to keep the things in sync (it does not seem complicated but with a lot of components which has lots of properties could be error prone). I couldn't find another way and I don't know neither the editor nor JavaScript in such a way to customize it to my needs. \nDo you think this is a good solution? \nThank you very much for the help. . ",
    "rajanbharti": "Thanks!. in your case, defaults should be like\ntypeid: 0 pointing to the first element as default. ",
    "ploutos27": "Hello @artf  what about the  select type ? It seems like we are not able to use a default value for select.. Keep in mind that options are dynamic ( I'm getting the options from a json that is being generate from back-end )so I'm not able to use something like that: \noptions: [\n{value: 0, name: '1st option' },\n{value: 1, name: '2nd option' }\n]\ncode::\n\n. fixed:\n...\nblockManager: {\n    appendTo: '#blocks',\n        blocks: [{\n            id: 'container',\n            label: '<div class=\"gjs-block-label\">CONTAINER</div>',\n            attributes: { class: 'gjs-fonts gjs-f-b1' },\n            content: {\n                classes: ['columns-row', 'is-desktop'],\n                components: ``\n            }\n       }]\n   } .... Thank you! :) . Hi @ryzraz  you can use setStyle as below\neditor.setStyle(` \n   .your-selector {\n       color: white;\n       background: red;\n   }\n`);\n.  @ryzraz  what do you mean an existing class ? Even thought, setStyle can replace properties of existing classes by overwrite each classes as you like.. \nexample:::\neditor.setStyle(` \n     .gjs-toolbar { \n          background-color: #595e61;  /* replace the background color of toolbar */\n     }   \n`);. it seems like the problem fixed after I add:   context: \"sw-visibility\", \nThanks!\n. > Please create a live demo with steps to reproduce the issue\nHi artf, thanks please give me 1-2 days to create a live demo! \nThanks!. @artf here is the live demo: here\nI have also create a live video to help you understand where am facing the issue.. \nvideo link here \nLet me know \nThank you for your help!!!. @artf Hi & thank you for your help. I have disable the overview section complete. Follow this steps: open block  - >  and scroll down until you find 'desktopheader'  drag & drop it inside canvas, it will load the block with the child components..  like img \n\n.\nIf you try to move something inside the 'desktopheader' for example changing position of the child components,  model is not affected.... @artf I Think I figure out what was the problem :o  I have use the content: to pass a custom component (for the title of each component ) with the actual component, and it seems like it mess up the whole situation on how grapse is read ..  If you check on ./api/get-widgets.js at line 59 I use the following:\ncontent: {\n classes: ['block'],\n type: 'block',\n attributes: { ... },\n   content: `<div class=\"title\">${arrBlocks[i].value.code} </div>`,\n   components: getInner(arrBlocks[i].value.blocks)\n}\nI remove the content: and I use before pseudo class and pass a custom data-attr for the title and it seems likes now it's working.. :) \nLet me know if my assumption is correct or I miss something again :) \nThanks!. Hi, \nFirst you need to define the new trait (button) and create it. \n```\neditor.TraitManager.addType('buttonLogin', {\n        /*\n       * Returns the input element\n       * @return {HTMLElement}\n       /\n        events: {\n            'click': function() {\n                   // trigger when btn is clicked\n            },\n        },\n        getInputEl() {\n            var button = document.createElement('button');\n            button.id = 'btnLogin';\n            button.value = 'Login';\n            return button;\n        },\n    });\n```\nAfter you define the new trait type you must call it inside you custom block\n{\n            'name': 'button',\n            'label': 'Add',\n            'type': 'buttonLogin',\n        }. hi again :) My bad, html button tags need textNode value is not visible remove value and add a textNode instead\n.....\n        getInputEl() {\n            var button = document.createElement('button');\n            button.id = 'btnLogin';\n            button.appendChild(document.createTextNode('btnText'));\n            return button;\n        },\n.....\n. ",
    "lakinmohapatra": "We need angular 6 support. ",
    "wyx2000": "Same question here. I see ,use storage manager,. ",
    "ecmascriptguru": "Hi @artf \nBecause the Video block doesn't ask to choose any video file, I've used the image block to upload video files. \nHere is my codebase to add video type.```\neditor.AssetManager.addType('video', \n        {\n            view: {\n                updateTarget(target) {\n                    if (target.get('type') == 'image') {\n                        this.model.set('tagName', 'video')\n                        target.set({\n                            type: 'video',\n                            tagName: 'video',\n                            src: this.model.get('src')\n                        })\n                    }\n                },\n                getPreview() {\n                    const src = this.model.get('src');\n                    return\n\n\n;\n                },\n                getInfo() {\n                    return '<div>'+ this.model.get('src') +'</div>';\n                }\n            },\n            isType(value) {\n                if (typeof value == 'string' ) {\n                    value_parts = value.split('.');\n                    ext = value_parts[value_parts.length - 1];\n                    validExtensions = [\"mp4\", \"mov\", \"avi\", \"mpg\", \"flv\"]\n                    if(validExtensions.indexOf(ext) > -1){\n                        return { type: 'video', src: value  };\n                    }\n                }\n            }\n        });\n```\nIt does change the **image** tag into **video** tag and it does work. But the issue is that settings panel is still things for image tag rather than video likeautoplay,control`, etc.\n\nThe above screenshot will tell you a bit more.\nI hope you would like to let me know how to fix this issue.\nThanks,\nAlexis. ",
    "duccanh0022": "Hi, thanks for reply.\nFinally, I have found my bug. Component field in mysql database is TEXT type not enough space. I changed to LONGTEXT. Everything seem OK.\nThanks again!. ",
    "sublimekaushik": "Thanks. It worked.. ",
    "anilbuddha": "@artf  we are just using a normal 'for' loop, what should we fix in that. Could you please elaborate us to resolve the issue.\nThanks. ",
    "parth-raj": "Hi, \ni am using grapejs in sas app. Are there any restrictions regarding the usage of grapejs in sas app?. ",
    "KonradMil": "https://opensource.org/licenses/BSD-3-Clause. ",
    "andresmgsl": "Thank you for your answer, I did not refer to those but to these, but I could already notice that they are native CSS properties. I have another doubt but I will open a new problem to touch it in detail.. ",
    "vladbpython": "Please help me. ",
    "dsgh": "@tommedema Thanks, test added now.. @artf Thanks for the merge!\nI take it that one of the goals of grapesjs is to provide the ability to do code editing - either through core or through a plugin. I've created a repo with an idea of how that could work: https://github.com/portablemind/grapesjs-code-editor\nI'd like to know what you think of it, and if you have something else in mind? I'm keen to make this happen in a way that's consistent with your vision.. @artf The thing is that this \"plugin\" doesn't define any blocks or components - it instead just exports a codeCommand object and a panels object, to be used in the grapesjs init block. In fact this is not a plugin at all, given that the plugin system has no way of 'exporting' commands or panels.\nThe plugin system would either have to change to support this usage, or this 'plugin' would be rolled into core - potentially in a different form - if there's interest.. @artf These past few days I've been busy working on other extensions to grapesjs that we're also needing. Thank you for your suggestions here - I'll investigate more about the showWrapper option, and I think your suggestion for point 2 is spot on! I should have thought of doing that.\nI'll return to this later this month, and report back - if you want to close this issue in the meantime, feel free to do that, as I'm fairly confident I'll be able to solve it without any changes to grapesjs.\nThanks. Hi @artf I'm back at this, and things are not as clear as I thought.\nFor point 1, what does the showWrapper option actually do? I'm not seeing any difference.\nFor point 2, do you mean this would be a component that users would have to drag on to the page? That's not the intended behaviour, the idea would be for the layout of the page to always be there (not through a user's choice or required action). Otherwise, were you suggesting that I pre-render something like a <div class=\"placeholder\">...</div> wrapping everything, and then having the custom placeholder component 'recognizing' that through isComponent? I've done that, also with a custom toHTML, but the editor canvas just reflects what was pre-rendered, not what the custom toHTML returns. I'm not clear on what the relation needs to be here between the html that was pre-rendered into the canvas and the toHTML() results.\nIn any of these previous cases, the suggested custom placeholder element would appear in the Layer Manager, right? Which is also not intended - this should be transparent to the user.\nI also realized now that, instead of my feature suggestion at the top, this could maybe be implemented if I could somehow override the toHTML of the wrapper component (the one named \"Body\" in the Layer Manager) - I tried overriding it from a plugin but didn't find a way to do it.\nThoughts? Perhaps I've misunderstood your suggestions? Thanks. @artf Thank you so much for taking the time to explain this!\nRegarding point 1: I now see what it does, thanks.\nRegarding point 2: your demo was really helpful, I've replicated it with a notable difference which might be useful for other readers of this issue: I've added a 'content-wrapper' component type with a toHTML that renders children directly (no self element), and with properties as follows: { badgable: false, copyable: false, draggable: false, highlightable: false, layerable: true, name: 'Wrapper', removable: false, stylable: false }. This way users can drag blocks over to this element, given that the grapesjs wrapper had to be set as droppable: false so that users don't drop above or below the placeholder elements \ud83d\udc4d\nHowever, this example doesn't cover the complete case that I'm interested in - which I think should be quite a common case(?) - My intended structure is a bit like so:\n<div class=\"header\">...</div>\n<div class=\"menu-wrapper\">\n  <div class=\"side-menu\">...</div>\n  <div class=\"content-area\">... users will add content here ...</div>\n</div>\n<div class=\"footer\">...</footer>\nThat is, the 'content-area' is not at the top-level, or in other words, the \"placeholder\" elements are not neatly all siblings of the 'content-area'. I'm trying to think how I could implement something like this, but I'm not sure how to do it (in a way such that the layer manager only shows elements from the 'content-area'). Do you know a way? Or would grapesjs need to be changed?. @artf Exactly - I can try my hand at a PR for it. Should this be implemented as an option that specifies a css selector for the root element, say something like layerManager: { root: '#my-root' }? Or, if not a config option, then there could be a documented default behaviour, say something like: the element which has an id of gjs-root-node would be the root. Thoughts?. Now done in https://github.com/artf/grapesjs/pull/1375. Oops, I meant I'm passing a noticeOnUnload as false \ud83d\ude01\nThanks!. ",
    "adib18": "thanks a lot.i correct asset manager with this:\nvar assettarget ='';\neditor.Commands.add('open-assets', {\n            run(editor, sender, opts = {}) {\n                const modal = editor.Modal;\n                assettarget = opts.target;\n                modal.setTitle('Add new image');\n                modal.setContent(jQuery('div.custom_asset_manager').html());\n                modal.open();\n                jQuery('div[id*=\"__wp-uploader-id\"]').show();\n            }\n        });\nand use this when select a image in custom asset manager\nassettarget.set('src', 'src_image_from_custom_asset_manager');\n thanks for your great work.\n. ",
    "Stejsi": "Hello,\ni am used this solution, and it works, but now i am not able to asset background-image in Style Manager. \nIt use custom function spreadUrl(), but i dont know how to call it without modify Grapesjs core. \nThanks for help!. ",
    "anuradhaindika83": "Oky Will do. thanks Artur.. ",
    "mmeeeooowww": "Issue appears to still be present in 0.14.10 on the regular demo page but works fine for the news letter demo.\nFF\n\nChrome\n\n. @artf Ah ok I thought it would work since it works on the newsletter demo. I managed to figure out a way to get what I needed. Thanks!. Hi, @FrciSmrci I am using css to hide stuff at the moment. Am I misunderstanding the purpose of removePanel or am I using it incorrectly? \nThanks!. ",
    "bigd213": "Thanks - My question was answered with the width option.. I have not yet finished the project, so I do not have a solution yet.  . ",
    "thanhpd56": "@bigd213 Hi, i'm facing the problem like you when put editor inside layout with left navigation menu. How did you solve it?. @Silavin Have you succeed with integrating grape and react?. @alfaalex81  thank for your help. I did solve the problem by making its parents position to static so that the color picker position (absolute) align to the root (view port).. ",
    "NicolasBerino": "thank you for your answer, but it does not help me because it is at the level of writing the context that I have trouble. In fact, I tried to use the readme to integrate the two min files (with minimal context as a result) but it did not work.\nIf someone had tried to look for an integration of grapesJS in gwt and could give me some guidance on how to do this would be nice. I tried with JSInterop but I struggle to see how it works.. ",
    "mararn1618": "This has helped me a lot with programatically removing components and I just want to add some example code in Typescript for further reference.\nTypescript Example: Dynamically remove components\nAll components are removed that ..\n .. have a tagname = exampletag\n .. have an attribute = exampleattr\n```\n  /*\n   * Removes all components from editor, that have a tag 'exampletag' and contain an attribute 'exampleattr'.\n   /\n  clearComponentsFromEditor(): void {\nlet allComponents  = this.editor.getComponents();\nlet componentsToBeRemoved = allComponents.filter(\n  componentModel => (\n    componentModel.attributes['tagName'] == 'exampletag' && null != componentModel.attributes.attributes['exampleattr'])  )\n);\n\nfor(let comp of componentsToBeRemoved) {\n  if(null != comp && null != comp.collection)\n    comp.collection.remove(comp);\n}\n\n}\n```\n. After 2 days this saved my life. Thanks to both of you!. This is caused by Angular as an SPA triggering grapesjs.init(..) multiple times, see #914.. Hi @artf, of course. I have extracted the relevant parts of my project and created a demo along with reproduction steps:\n\nDemo: https://www.secretbakery.io/grapesjs/issue_1424.html\nList demo files: https://www.secretbakery.io/grapesjs/\n\nThanks for taking care!\nEdit: I have added a downloadable archive of the demo to the files (grapesjs_1424.zip).. I am right now using a workaround for this, so that my AngularJS directive - where this attribute shall be used - recalculates 'show-name' as if we had 'show-name=\"true\"' in the link stage.\nWorkaround AngularJS Directive\n```\nclass filterWizardDirective implements ng.IDirective {\n/* .. code ..*/\nlink($scope: any, element: any, attrs: any) {\n    //explicitly calculate <filter-wizard show-name>\n    if(null == $scope.showName || 'undefined' == typeof $scope.showName || \"\" == $scope.showName) {\n        $scope.showName = 'showName' in attrs && \"\" == attrs.showName;\n    }\n}\nscope: Object = {\n    showName: \"=?\",\n    /* .. code ..*/\n};\n\n}\n``. I thinkvalueTrueandvalueFalseoptions for checkbox traits is the perfect solution for my problem and it's actually what I was trying to achieve withvalue: 'true'`. I'd be happy if this could be added to one of the next releases.. Thanks, my issue seems to be a duplicate of https://github.com/artf/grapesjs/issues/761\nI have tried GrapesJS 0.14.33, which should contain the fix for 761, but unfortunately it gives me a new exception within the richtext editor, which I did not have before.\nindex.js:141 Uncaught TypeError: Cannot read property 'body' of null\n    at Object.getBody (index.js:141)\n    at Object.getWrapperEl (index.js:149)\n    at i.getCanvasWrapper (CommandAbstract.js:63)\n    at initialize (CommandAbstract.js:26)\n    at i.e.View (backbone.js:1224)\n    at i [as constructor] (backbone.js:1884)\n    at new i (backbone.js:1884)\n    at Object.get (index.js:244)\n    at Object.method (index.js:146)\n    at keymaster.js:106\nI will prepare another demo with GrapesJS 0.14.33 shortly.. I fail to recreate an isolated demo to reproduce the new exception, but I have found that the exception will also occur with GrapesJS 0.14.25, i.e. it was not introduced recently.. Exception seems to be a duplicate if #1288, as I am also using AngularJS.. I was finally able to reproduce this and find the cause for #1484 and #1288.\nAn Angular application, as an SPA, will have scenarios like this:\n - 1: user starts app\n - 2: user does some editing (grapesjs is initialized for the editor)\n - 3: user does sth else in the app\n - 4: user edits again (grapesjs is initialized for the editor)\nThis causes grapesjs.init({..}) to be triggered again and again and creates the faulty richtext editor with the exception for me. I have verified this, by triggering grapesjs.init() twice, always ending up with exceptions as stated above when editing text.\nI think Angular people would like to have a proper way to destroy the editor, as requested in\n- #914\n- #919\n- #849\n- #889\nReproduction\n - Demo (taken from other issue): https://jsfiddle.net/wdtrg1je/\n - 1 add grapesjs; remove grapesjs; add grapesjs\n - 2 add a text block\n - 3 open debug console\n - 4 write some text\n - Result: You will get the exception from above. Hi @artf,\nI have seen that you have introduced editor.destroy() with GrapesJS 0.14.33 in https://github.com/artf/grapesjs/commit/52f8bdf2e894de536d44c1699c1e18bbaf52488f . It seems that destroy is still not cleaning up everything, since it is possible to provoke various exceptions after destruction and reinitialization.\nDemo incl Reproduction: https://jsfiddle.net/d9ohj0bk/. You're right, let's close this and I'l open a new ticket.. Hi mudit-mittal,\nthis is somewhat fixed in 0.14.33 and the same as\n - #761\n - #1484\n. Hey @artf , are you planning to fix this in future releases? I belive this is relevant to many other issues people encounter, especially when using JS/SPA frameworks.. I would suggest that you upload an example to https://www.jsfiddle.net. This does not seem enough to give an answer.. This is well documented at https://grapesjs.com/docs/getting-started.html#panels-buttons. You have two methods to add a panel with buttons: (1) When initializing GrapesJS, (2) After GrapesJS was initialized with addPanel.\nPlease note that this is for a panel that you have defined with <div id='basic-actions'></div>.\nGrapesJS.init()\n```\nthis.editor = grapesjs.init({\n      container: '#gjs',\n      fromElement: false,/ https://github.com/artf/grapesjs#usage /\n      addBasicStyle: true,\n      height: '800px',\n      width: 'auto',\n  panels: {\n\nid: 'basic-actions',\n  el: '.panel__basic-actions',\n  buttons: [\n    {\n      id: 'alert-button',\n      className: 'btn-alert-button',\n      label: 'Click my butt(on)',\n      command(editor) { alert('Hello World'); }\n    }\n  ]\n},\n...});\n```\nAfter GrapesJS was initialized\neditor.Panels.addPanel({\n  id: 'basic-actions',\n  el: '.panel__basic-actions',\n  buttons: [\n    {\n      id: 'alert-button',\n      className: 'btn-alert-button',\n      label: 'Click my butt(on)',\n      command(editor) { alert('Hello World'); }\n    }\n  ]\n});. ",
    "xr0master": "You need to init the content field. Probably to overwrite toHTML method. It depends what doesn't work. Nope. It doesn't fix it.. Probably the #1104 close to fix it. The jsfiddle example from 1104 with a new trait, the value didn't save.\nAdded the custom component\nSelected the added component\nSwitched to Settings tab\nInput the Default Value\nRefreshed\n....................\nThe value didn't save\nhttps://jsfiddle.net/Lqm7ouze/3/. debug a client code for browser on server side? Just use a browser development mode.. ",
    "ancientry": "\n. There is a big difference between the download code and the operation. Where is the complete demo code for the official website?. ",
    "Chilli-B": "Hi @artf , thanks for your reply. Below is how I created the trait by extending the text model for the header component. \nThe problem is not the syncronization. The problem is, when I'm adding complete layouts to the canvas, which are including h2 or h3 tags (or any others), and I'm clicking on them, the header type select in the settings (traits) always stays at \"Headline 1\", as this is the first option in the select and there's no possibility to give any of the select options the attribute 'selected'. \nvar txtType = domComps.getType('text');\nvar txtModel = txtType.model;\nvar txtView = txtType.view;\ndomComps.addType('head', {\n\n    model: txtModel.extend({\n        defaults: Object.assign({}, txtModel.prototype.defaults, {\n            tagName: 'h1',\n            traits: [\n                {\n                    type: 'select',\n                    label: 'Type',\n                    name: 'header-type',\n                    changeProp: 1,\n                    options: [\n                        {value: 'h1', name: 'Headline 1'},\n                        {value: 'h2', name: 'Headline 2'},\n                        {value: 'h3', name: 'Headline 3'},\n                        {value: 'h4', name: 'Headline 4'},\n                        {value: 'h5', name: 'Headline 5'},\n                        {value: 'h6', name: 'Headline 6'},\n                    ]\n                },\n                'title'\n            ]\n        }),\n\n        init: function() {\n            this.listenTo(this, 'change:header-type', this.updElem);\n        },\n\n        updElem: function() {\n            var newElem = $('<div />').append($('<'+this.changed['header-type']+' />').append(this.view.el.innerText));\n            this.view.model.set('content',newElem.html());\n            this.view.el.innerHTML = newElem.html();\n            this.attributes.tagName = this.changed['header-type'];\n            editor.store();\n        }\n    },\n    {\n        isComponent: function(el) {\n            if (el.tagName == 'h1' || el.tagName == 'h2' || el.tagName == 'h3' || el.tagName == 'h4' || el.tagName == 'h5' || el.tagName == 'h6')  {\n                return {type: 'head'};\n            }\n        },\n    }),\n\n    view: txtView,\n});\n\nFor usability reasons it would be better to show the current settings there - for h2 tags logically 'Headline 2'. \nBelow is how I solved that for now. I searched for the select using jQuery. However, that doesn't work as soon as the traits for one component are including several different select fields, because the trait name (or any other possible reference) is not part of the html output in the form of class names or attributes, so there's a leck of possibility to reference the correct select. Further on it would be much better to do this 'natively', as it is definitely the cleaner solution.\neditor.on('component:selected', function(arg) {\n    if (arg[1].get('traits').where({name: 'header-type'}).length > 0)  {\n        var tagName = arg[1].attributes.tagName;\n\n        setTimeout(function () {\n            $('div.gjs-trt-trait select').val(tagName);\n        }, 0);\n    }\n});\n\n. Sorry, I didn't get in on the first hand. ChangeProp was already there, I change the name from 'header-type' to 'tagName' and, yes, it worked. Thank you!\nHowever, I don't get the logic behind or how to replicate that on other examples. If I want the trait select being synced with the component, I need to choose a trait name according to the property of the component it should listen to? So that might also be the property dragable, dropable, etc...? And the value of the property must fit the value of the trait select? Is it that?. Hello, sorry but this has not been fixed on version 0.14.41. The bug still exists.. @artf really? The current /dist/grapes.min.js starts with\n/! grapesjs - 0.14.41 / \nThat's why I assumed the next release has already been published.. ",
    "jdodsoncollins": "@artf I'm seeing this behavior still if you could take a look, on latest release. Reverting to v 0.14.6 solves it.. This custom component is an adaptation of https://github.com/artf/grapesjs-blocks-flexbox. ",
    "trinhbalinh": "Thank you, it worked!. ",
    "UmairAfzalUAT": "Hi Artf,\nThanks for help i got that and using drag and drop in the same way. you have done the great job (Y).\nBTW what about designer mode is that available?. I am working on relative and absolute both will let you know when done.. ",
    "Orijinn": "Hi @artf ,\ncould you please give us an example? The use case is to make all the text inputs to use RTL. How can one achieve this?\nTried to add a sector, nothing works. Direction is not among built-in props either.\nthanks. ",
    "medhadj": "@artf \n```\nvar p1 = new Promise(function(resolve, reject) {\n                            editor.runCommand('cmd-1');\n                            resolve(\"Succ\u00e8s !\");\n                            // ou\n                            // reject(\"Erreur !\");\n                        });\n\n                        p1.then((valeur) => {\n                            setTimeout(function(){editor.runCommand('cmd-2'); }, 3000);\n\n                            console.log(valeur); // Succ\u00e8s !\n\n                        }, (raison) => {\n                            console.log(raison); // Erreur !\n                        });\n\n```. ",
    "Abhisheknanda1344463": "hi @artf Thanks for your reply.. i want to know if it is possible if i update style manager in mobile device then it'll not reflect in Desktop Mode...Please reply me asap  i need your help. Thanks @artf . okie @artf  thanks for your suggestion :). @ivanezeigbo Thanks for your's suggestion bro Problem is the version of safari i updated it to 11.1.1 and it works :). @ronaldaug \nplease Change preview mode on after another in repeated times like mobile to Desktop, mobile to tab, Desktop to tab than it'll appears sometimes and Please let me know if you observe anything.Thanks in advance @ronaldaug  . okie @ronaldaug  My OS version is OS X EI Capitan (10.11.6)\n and Safari browser version is 11.1.1\nIt's still showing.. @ronaldaug  Is Your's OS version is Same as Mine? Please let me know how can i fix this . @AnkitKachhadiya Hey I want to Stop dynamic classes Which is generatred every time when you refresh page.. Yes @artf i want to initialize same which is already exist.Thanks. Please re-open this issue.\nhi @artf  I also tried this way\npnm.getButton('views', 'open-sm').set({\n  label: <svg>\n     width=\"1024\" height=\"1024\" viewBox=\"0 0 1024 1024\" style=\"margin-left: calc(50% - 0.5em)\"><g transform=\"scale(0.03125 0.03125)\"><path d=\"M881.76 269.44c-43.36 52.704-162.24 198.24-256.672 313.92l-119.904-121.728c108.448-96.512 242.688-215.808 291.2-258.528 86.304-76.064 161.984-121.312 178.432-102.816 10.304 10.24-17.056 76.672-93.056 169.152zM604.128 608.96c-36.576 44.768-68.064 83.328-87.328 106.976l-141.952-138.336c23.008-20.48 61.312-54.56 105.728-94.048l123.552 125.408zM495.648 741.856v-0.384c-82.4 316.16-448.576 134.4-448.576 134.4s153.632 19.36 153.632-123.936c0-138.912 141.184-151.456 149.856-152.096l145.376 141.664c0 0.032-0.288 0.352-0.288 0.352z\"></path></g>\n  **</svg>'\n    id: \"open-sm\",\n    className: 'gjs-pn-btn',\n    command: \"open-sm\",\n    active: !0,\n    attributes: {\n        title: \"Open Style Manager\"\n}\n});**\n\nIt'll not reflected any changes .can you please tell how can i override that Style Manager. Thanks\nIs it necessary to write command for this button.?. hi @artf  For now, put those changes under a plugin ???? Sorry not get that. Ok sure @artf . ???? @arthuralmeidap  i tried to do that many times but still failed.Can you please help me out?. ok @artf thanks :). @artf With command \"Npm run build\" my css doesn't get build.\ni tried npm run build:css\nit shows error && various scripts are written in my package.json as shown below.\nMy all css is in the Style folder.\n\n\"lint\": \"eslint src\",\n\"v:patch\": \"npm version --no-git-tag-version patch\",\n\"build\": \"npm run v:patch && webpack --env.production\",\n\"start\": \"webpack-dev-server --open --progress --colors\". @artf i got the solution by adding  two scripts in package.json\n\"build:css\": \"node-sass src/style/YourFileName.scss dist/Filename.min.css\n\"start:\": \"WEBPACK_ENV=dev ./node_modules/.bin/webpack-dev-server --progress --colors & npm run build:css --w\nbut the problem is  that it will generated unminified css in the dist folder\nhow could i generate minified css in that file should i write another script ?. @artf how can i achieve this for existing layer-manager in newsletter plugin.\nShould i need to add same classes as above on editor load .\n\nPlease Let me know from where i can start.\nThanks. Thanks @artf\nyeah definitely :). ",
    "agungaja": "Thanks @artf , it works :). yes it is true, I also can not find it. I was only given info by @artf in issue #1132. Or maybe I have a less exploratory documentation \ud83d\ude04.\nThe point is, why when the content set uses \nvar initcontent = $('#import_html').val();\neditor.setComponents(initcontent);\nthe body attribute background-color: #f3f3f3;\" disappears. ",
    "TclasenITVT": "@shareefhiasat  are you satisfied with the way I edited the steps to reproduce? . @artf  thank you a lot for fixing this \ud83d\udc4d . ",
    "fernandoagarcia": "@artf  My apologies. I meant to say that I would like to target width, padding-left, padding-right within one single property. Perhaps using a radio. I couldn't find an example of that in the docs. Was wondering if it was possible. . I am having the a simliar issue. Except I am using VueJs. When I leave the page and comeback to it the editor runs the plugin again. This causes the editor to be unusable until I resize using the device preview but if I drag a block into the canvas it drops two times...one on where I dropped and the other down at the bottom.. @artf yup that did the job perfectly ty!. ",
    "betacar": "@sura2k How did you extracted the wrapper's trait values after they're set? /cc. @artf . ",
    "afaraha8403": "Yes I tried that.  But what I am looking for it to get the base64 file so I can upload to the plateform I am using and then adding the return url to grapesjs. Hello anyone here.  I hate to see all my hours of work in this go to waste.  All opinions welcome!. ",
    "IStirton10": "I'm not sure if there's one exclusive event that listens for any changes to the canvas. Perhaps you could have your method run on all of the canvas events instead?\nhttps://github.com/artf/grapesjs/blob/dev/src/editor/index.js#L53\n* ## Canvas\n * *canvas:dragenter- When something is dragged inside the canvas,DataTransferinstance passed as an argument\n * *canvas:dragover- When something is dragging on canvas,DataTransferinstance passed as an argument\n * *canvas:drop- Something is dropped in canvas,DataTransferinstance and the dropped model are passed as arguments\n * *canvas:dragend- When a drag operation is ended,DataTransferinstance passed as an argument\n * *canvas:dragdata- On any dataTransfer parse,DataTransferinstance and theresultare passed as arguments.. Actually I think there is an event that could serve this purpose. Could you try defining your method callback on 'change:changesCount'?\ngrapesjs\\src\\editor\\model\\Editor.js:64\nthis.on('change:changesCount', this.updateChanges, this);\n. ",
    "ssabrewolf": "you need to inlude the plugin js , here is working  live version https://jsfiddle.net/ssabrewolf/7ur0cwq3/32/\n. to discard problems in your enviroment simply create a fork ,is one cilck from  the above link and use the same code your using to init . To show the dashed lines you need to run in on editor load event editor.runCommand('sw-visibility');. Hi thanks for the feedback, unfortunately that approach wont work,  before posting i checked the core:copy implementation and its based on storing an object reference on the clipboard, of course this reference only exist on the current page, thats why trying to paste in other page doesnt work despite the clipboard having data, i posted this question in hope there is some kind of core method for serializing component  into string along with its css attributes, i found this code to extract a component css but \nit return a lot extra css from body and others(like 7000 chars)  that could create a css collision with target page \neditor.CodeManager.getCode(component, 'css', {cssc: editor.CssComposer});\nRegards     . Hi yes, actually i had implemented that way overriding the toHTML method and creating a targeted css directory applied on target page in element scope using the same  recursive function with getClassRule method, but wanted to be sure there was not a better option provided by the core, cause depending in the original copied component nested level, the elements gets funky autosize behaviours when the wrapper on the target page varies, e.g when a cell is removed from a row \nRegards. ",
    "ADTC": "Hmmmmmm the problem appears to have gone away after I posted this. I had refreshed several times before and it was still there before.\nIf you think there's nothing to fix, please feel free to close.. ",
    "babak-karimi-asl": "i had the same issue . \njust install this chrome extension  called HTTPS Everywhere .\nthe blank page is because of some security risk of mixture of http and https requests and browsers will load the page but showing nothing . the error is reported in console you can see . \nbut be careful on other sites other than grapejs  editor and disable this extension .\nafter installing this extension and enabling it my problem solved.\n. had the same issue . solved. explained here. ",
    "blaasvaer": "So, there are demos on the frontpage of the site that simply doesn't work without us having to go through hoops and loops. Why don't you simply fix the pages on the website!?. Erhm, so you're asking me to change the links on your(?) website from https to http so that the demos will work?. ",
    "NaveenDA": "Still we are facing this issue.. ",
    "kaloyankostov": "Just to clarify further as I now feel that my post was longer than it needed to be. I did some more digging and found #978. The issue described there is identical to mine. I basically have a custom component which has several child elements in the html string however none of the children are selectable/editable. They all get brought in as one single editable element on the parent element (most often a <div> in my case). Is it possible to iterate through all the children and make them individually recognized components just like when using editor.setComponents() but instead by using a custom component? I need a custom component because I would like to change the rendered view to be different from the source html. Thanks. ",
    "maxencehenneron": "Currently, grapeJS exports the template in HTML/CSS, I wanted to know if there was an easy way to create a front-end app that would load the configuration saved by GrapeJS via the remote storage and render it on a web page. The flow would be:\n\nUse GrapeJS to build the template, save it to the remote server via the remote storage in the wiki page you sent\nHave a webserver that would get the configuration from the remote endpoint and render all the components directly when someone loads a page.\n\nI achieved the first part quite easily, but I'm still struggling about the second part, is it natively implemented? \nCurrently, the editor calls the remote storage endpoint with a few parameters like\ngjs-css with the css styles\ngjs-html with the html content\nbut also a gjs-components and a gjs-styles which includes a list of all the components and their different properties. Is it possible to render a web page directly from these gjs-components/styles array?. ",
    "mfloressosa": "Great! I'll be waiting for this release to come out.\nThanks!. ",
    "Silavin": "Alright. I've never done this before so here goes.\nI'm really new to this so I don't really know what I'm doing so in case there is some kind of issue with my steps, I'll write it down.\n\nnpm run eject (since create-react-app does not allow me to directly change the the configurations)\nadded new webpack.ProvidePlugin({ grapesjs: \"grapesjs\" }) into files:\n   webpack.config.dev and webpack.config.prod\nunder object:\n    module.exports={module:{ plugins:[... ] }}\nin component, import grapesjs from 'grapesjs';\n\ntest:\nModule not found: Can't resolve 'cluster' in 'C:\\Users\\Sebastian\\Desktop\\Git\\GrapeJSPage\\grape\\node_modules\\grapejs\\lib\\core'\n\n\nwent in to find that that grapesjs: \"grapesjs\" <- the node_module is grapejs so I changed this sentence to grapejs: \"grapejs\"\n\n\nwent back to GrapeEditor component to change the grapesjs to grapejs. \n\n\nModule not found: Can't resolve 'cluster' in 'C:\\Users\\Sebastian\\Desktop\\Git\\GrapeJSPage\\grape\\node_modules\\grapejs\\lib\\core'. Oh! I did not realise that there are two different npm packages. Yes. I've installed grapesjs now. \nHowever, I do not understand. why is it not necessary to import grapesjs from 'grapesjs'? \n. Alright. Thank you for your help. The problem has been solved. . ",
    "WkRPcoN": "This is how I was able to trigger the asset manager on dbl click. See the events property below.\n```\nexport default (editor, config = {}) => {\n  const comps = editor.DomComponents;\n//const defaultType = domc.getType('default');\n  var defaultType = comps.getType('video');\n  const defaultModel = defaultType.model;\n  const defaultView = defaultType.view;\n  // ...\ncomps.addType('video', {\n      view: defaultType.view.extend({\n      init(){\n        // The 'active' is triggered by the 'activeOnRender' you've used inside your block\n       this.listenTo(this.model, 'active', this.doStuff);\n     },\n      events: {\n        dblclick: function(){\n          console.log('dbl click');\n          this.doStuff();\n        }\n      },\n      doStuff(){\n          this.opts.config.em.get('Editor').runCommand('open-assets', { target: this.model, types:['video'], accept: 'video/*'})\n      }\n    }),\n  });\n}\n```. I can confirm I am experiencing the same issue on v0.14.20\nthis.editor.on('component:remove', function(model) { \n      console.log('comp removed');\n    });. ",
    "evilsempire": "I want to create blocks button for import and export inside the block manager as separate accordion like this one.\n\nin block manager there will be 2 accordions first will contain all the blocks, second will contain import and export button.\nAlso is there any possibility to add style manager inside the block management as third accordion.\n. ",
    "sw45859": "quick and ugly, less than 24 hours working with this right now, i didn't want to totally redo the panels so i did this:\n```\nEditor.Panels.addPanel({\n    id: 'devices-b',\n    visible: true,\n    buttons: [{\n        id: 'set-device-desktop',\n        command: function (Editor, Model, Options) { Editor.setDevice('Desktop') },\n        label: '',\n        active: true\n    }, {\n        id: 'set-device-tablet',\n        command: function (Editor, Model, Options) { Editor.setDevice('Tablet') },\n        label: ''\n    }, {\n        id: 'set-device-mobile',\n        command: function (Editor, Model, Options) { Editor.setDevice('Mobile portrait') },\n        label: ''\n    }]\n});\nEditor.on('load', function () {\n    Editor.Panels.removePanel('devices-c');\n    Editor.Panels.getButton('views', 'open-blocks').set('active', true);\n});\n```. ",
    "ogousseau": "Super merci !!!!!. Super merci. !!!!!!. ",
    "sfrancy": "my bad, i used FDE with the console, i just forgot to include jquery.. ",
    "JPPreusDev": "Great! Thank you.. ",
    "jvillena": "Hi @gabrigcl,\nDid you find a solution for using ckeditor5 on grapesjs? . @FrciSmrci  I will take a look later. Thanks. Thanks a lot! It works like a charm! Great Job. We are going to work in different new plugins so we will include them as open source as well. I'll keep you inform.. I've just solved. I had to render the DomComponents after applying the changes. The solution was:\n ```\n              // First we apply the new text in the selection\n               editor.getSelected().set('content', value.trim());\n              // To update the HTML DOM we need to use render function.\n               editorRTE.DomComponents.render();\n```. @artf  You're right I updated the code only triggering on the event change in the component selected and then it was working fine.\nBut I'm still confusing of how I can update the traits attributes of a component programmatically without typing on traits input field like for instance the title of a component.. To insert the text in the highlight paragraph selected I did this because I was losing the focus after opening a popup modal dialog:\n```\n              var text = editor.getSelected().view.$el[0].innerHTML;\n            String.prototype.splice = function(idx, rem, str) {\n                return this.slice(0, idx) + str + this.slice(idx + Math.abs(rem));\n            };\n\n            value = text.splice(caret, 0, value);\n            const domComponents = editor.DomComponents;\n            const component = domComponents.getWrapper().find('.gjs-comp-selected')[0];\n            component.components(value.trim());\n            editor.getSelected().view.$el[0].focus();\n            domComponents.render();\n\n```. Hi @mcsekar12, it happens with all the elements not only with the title. I'm not creating a traits, I only included when the component is selected a special button to allow user to include variables in the inputs. So I would like to know why the event is not triggering as when I'm typing on it.. @mcsekar12 There is not special code. I'm only injecting the value in the input with JQuery like:\n$(element).val(\"test\");\nThis action is typing \"test\" on the title input field but the traits model of the element is not triggering any event.\nDo we have any way to update the component traits value by triggering an event?\n. I saw that the traits input field when you type on it is updating the model attributes wit changeProp 1 and also in the changes attribute is including the new value. I would like to know how I can force to do it injecting value using jQuery or normal Javascript.. Can someone support me, please? @artf . @artf I did it several times and I tested triggering different events but the result is the same it's not updating the model with the value changed. I don't know if you are catching the events on the traits and stop the propagation if not I would like to know how to update for instance the title of a components without typing on the input field element. I have to buttons that opens a popup where you can select a variable that it will be inserted on the title input field. But if after that I trigger the event change as you mention above and deselected the element if I click again on the element then the title is empty.\nSo I'd like to know how to update the traits input fields belongs to any component or plugin that it was by 3 parties.. @artf  @xamdam777 I found a solution to update any traits input without typing on it. For instance in our project we have to buttons to add macro functions and also variables so I need to catch the value and inject on the trait parameter selected. To do that when the user click or select a component I need to inject some extra data parameter on the input field of each traits beforehand:\n\n```\n  editor.on('component:toggled', model => {\n            // To inject buttons close to the input fields\n             addATButtons();\n}\n```\nIn my function called \"addATButtons\" I inject this extra parameters that I need them to later on update the traits values:\n```\nvar addATButtons = function() {\n        // To initialize at input variables in trait\n        // First we need to look into trait panels to find input text field\n        $('.gjs-trt-trait').each(function () {\n        var label = $(this).find(\".gjs-label\");\n\n        $(this).find(\"input[type=text]\").each(function () {\n            if (!$(this).hasClass(\"js-input-at\")) {\n                    if (label.attr(\"title\").toLowerCase() != \"id\"){\n                        $(this).addClass(\"js-input-at\");\n                        var random_value =  Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n                        $(this).attr(\"name\", random_value);\n                        $(this).attr(\"data-attributes\", label.attr(\"title\").toLowerCase());\n\n                    }\n\n\n            }\n        });\n\n\n\n\n    });\n\n\n};\n\n```\nFinally when I click on the \"Accept\" button of my modal dialog I need to update the traits value on the model of the component dynamically:\n```\nconst component =  editorRTE.DomComponents.getWrapper().find('.gjs-comp-selected')[0];\n                const updateTraits = model => {\n                    if (model && model.get('traits')){\n                        var attr_list = {};\n                        model.get('traits').models.forEach(traits => {\n                        var name_attr = '[data-attributes=\"' + traits.attributes.name + '\"]';\n                        attr_list[traits.attributes.name] = $(name_attr).val();\n                        //console.log(traits.attributes);\n\n\n                    });\n\n                    if (!jQuery.isEmptyObject(attr_list)){\n                        component.setAttributes(attr_list);\n                    }\n\n\n                }\n\n            };\n\n\n            updateTraits(component);\n\n```\nThe event \"change\" was not updating the model so I have to work around with this solution.\n. @xamdam777 I'll take a look later. Now I'm struggling with creating a new Trait select re-implementing on my side the select trait because I need to inject new attributes on components dynamically.\nI'll keep you inform.. Thanks @artf that solved my problem in a simple solution so then I don't run over all inputs to update only one.\nGreat jobs!. You can use:\n editor.stopCommand('sw-visibility');\n editor.runCommand('sw-visibility');. @artf I've just fixed I was including the variable avoidInlineStyle: true, and it has to be avoidInlineStyle: 0. I've just fixed my problem doing a workaround after researching on the grapesjs core. I'm going to explain the solution that I did:\n1) I'm using a popup dialog with a bootstrap switcher to select text language. The complicate issue is how to update the component model that are not selected on the editor. To accomplish this I had to do the following one:\n```\nconst sel = ContentBuilder.getEditor().getSelected();\n/\n This code update new elements inside the model when an user change the languages.\n @type {|Model|Component}\n/\n                    const coll = sel.collection; // I got the collection elements of the element selected\n                    const at = coll.indexOf(sel) + 1; // After the element selected I will add a new component\n                    let added;\n                // I need to add special attributes to a new component in the editor for my goal.\n                // Add special attributes to the element selected with DEFAULT LANG CONDITION\n                sel.addAttributes({'attr-lang-id':element_clicked.attr(\"attr-lang-id\")});\n                sel.addAttributes({'attr-condition':MYM_LANG_DEFAULT});\n\n                // Cloning new component closest to the selected one.\n                added = coll.add(sel.clone(), { at });\n                // Adding language attribute to later on control the language text injected\n                added.addAttributes({'attr-lang-id':element_clicked.attr(\"attr-lang-id\")});\n                added.addAttributes({'attr-condition':language_selected});\n                added.addClass(MYM_LANG_HIDDEN);\n                // Set the text content\n                added.set('content', text);\n\n                added = Array.isArray(added) ? added : [added];\n              // To call to clone event\n                added.forEach(add => ContentBuilder.getEditor().trigger('component:clone', add));\n\n```\n 2) If I switch off the language option I need to delete all the new components and update the editor model:\n```\n               // Get component selected on the Editor \n               const comp = ContentBuilder.getEditor().getSelected();\n                const coll = comp.collection;\n                const at = coll.indexOf(comp);\n            // We need to remove from the selected one attributes like\n            //.removeAttr(\"attr-lang-id\")\n            //.removeAttr(\"attr-condition\", MYM_LANG_DEFAULT)\n            const attr = comp.getAttributes(); // To get all attributes from the model\n            delete attr['attr-lang-id']; // To delete uuid\n            delete attr['attr-condition']; // To delete condition settings\n            comp.setAttributes(attr);\n\n           // Now I need to look for all components that are not the default one that I want to keep on the editor. So I will remove everything but the component that is on the position 0.\n            if (coll.length > 1) {\n                // To remove all elements but the first one\n                coll.models.splice(1);\n            }\n\n\n            comp.emitUpdate();\n\n```\nThis is how it works:\nhttp://recordit.co/zcrpR0MRyv\nFor sure that exist a easy way to implement this solution but I couldn't find the good methods to do it.\nThanks in advance.. Hi @artf, I've just implemented a resizing canvas bar but I don't know if exist a way to refresh the position of the highlight borders. Take a look in the video please: http://recordit.co/jKlppYg2dD\ngjs-badge\ngjs-toolbar\nBest regards.. Thanks I fixed with editor.refresh(); But if there is another better way let me know please.\n. @artf and @shlomoko, I will explain the step little by little. Firstly, I need to use Jquery but you can use other library or integrate inside the GrapesJS engine. In my case I wanted to do it transparent to the engine.\n1) I have two hidden div element in the main index HTML outside of the iframe that grapesJS is generated in runtime:\n```\n DEVICE RESOLUTION HINTS\n\nPhone - Landscape\nAffects 767px and below\"\n\n\n\n\n\n\n\n              .....\n        \n\n\n\n```\n - The first div called \"device-resolution\" will show the device resolution compatible with this screen size.\n- The second div contains:\n-- The gutter\n-- The left and right vertical bar that wrap the body when the gutter is pressed\nThe following piece of code is the stylesheet used:\n```\n/ RESEZING GLUTTER /\n.iframe-handle-container .handle {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    z-index: 14;\n}\n.iframe-handle-container .handle:before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: -3px;\n    width: 4px;\n    height: 100%;\n    background: #178df7;\n    display: none;\n}\n.iframe-handle-container .right-handle {\n    left: -1px;\n    width: 14px;\n}\n.iframe-handle-container .left-handle {\n    left: -1px;\n    width: 3px;\n    pointer-events: all;\n    cursor: col-resize;\n}\n.iframe-handle-container .tab-handle {\n    position: absolute;\n    top: 50%;\n    width: 14px;\n    height: 38px;\n    margin-top: -19px;\n    background: #808080;\n    cursor: col-resize;\n    pointer-events: all;\n    border-top-right-radius: 3px;\n    border-bottom-right-radius: 3px;\n}\n.iframe-handle-container .tab-handle:before,\n.iframe-handle-container .tab-handle:after {\n    content: \"\";\n    position: absolute;\n    top: 8px;\n    bottom: 8px;\n    width: 1px;\n    background: #a6a6a6;\n}\n.iframe-handle-container .tab-handle:before {\n    left: 5px;\n}\n.iframe-handle-container .tab-handle:after {\n    left: 8px;\n}\n.iframe-handle-container .tab-handle:hover {\n    background: #178df7;\n}\n.iframe-handle-container .tab-handle:hover:before,\n.iframe-handle-container .tab-handle:hover:after {\n    background: #48a5f9;\n}\n.iframe-handle-container .gutter-handle {\n    position: absolute;\n    top: 0;\n    left: -3px;\n    width: 4px;\n    height: 100%;\n    cursor: col-resize;\n    pointer-events: all;\n}\n.iframe-handle-container:hover .handle:before {\n    display: block;\n}\n.iframe-handle-container:hover .tab-handle {\n    background: #178df7;\n    border-color: #178df7;\n}\n.iframe-handle-container:hover .tab-handle:before,\n.iframe-handle-container:hover .tab-handle:after {\n    background: #48a5f9;\n}\n.dim-indicator {\n    position: absolute;\n    top: 10%;\n    height: 24px;\n    margin-left: 22px;\n    pointer-events: all;\n    font-size: 14px;\n    display: none;\n    padding: 2px 9px;\n    border-radius: 4px !important;\n    color: #ffffff;\n    / font-weight: bold; /\n    width: 156px;\n    background-color: rgb(0, 0, 0);\n}\n.mobile-wrapper{\n    position: absolute;\n    top: 15%;\n    margin-left: -30px;\n    pointer-events: all;\n    color: #ffffff;\n    width: 340px;\n    padding: 14px;\n}\n.mobile-list li{\n    background: #808080;\n    padding: 3px;\n    border-radius: 4px !important;\n    margin-bottom: 5px;\n    list-style-type: none;\n    padding-left: 11px;\n}\n2) When the user clicks on a device screen icon I'm showing the handler to resize the canvas.\n--- To do that I created a method called \"initDeviceEventHandle\" that is in charge of initialising the gutter handler and another method called \"showDeviceResolution\" that create a clone copy of the two DIV that we explained above.\n editor.Commands.add('set-device-tablet', {\n                run: function(editor, sender)\n                {\n                 .....\n                },\n                stop: function stop(editor, sender) {\n                var device = deviceManager.get('Tablet High Resolution');               \n                showDeviceResolution(\"tablet_portrait\", device);\n                initDeviceEventHandle(device);\n\n            }\n        });\n\n/\n     * This function will receive a screen type and it will prompt the description on the left side of the canvas.\n     \n     * @param type\n     * @param device\n     /\n    var showDeviceResolution = function (type, device){\n        var name, description;\n        var width = device.attributes.widthMedia;\n    // To reduce a little bit the width so we can move the handle until this size\n    var reduceWidth = width - maxReduceScreenPreviewSize;\n    $(\".gjs-frame\").width(reduceWidth);\n\n    switch (type) {\n        case \"mobile_portrait\":\n            name = \"Phone - Portrait\";\n            description = \"Affects - \" + width  + \" and below\";\n\n            break;\n        case \"mobile_landscape\":\n            name = \"Phone - Landscape\";\n            description = \"Affects - \" + width +\" and below\";\n\n            break;\n        case \"tablet_portrait\":\n            name = \"Tablet - Portrait\";\n            description = \"Affects - \" + width +\" and below\";\n\n\n    }\n\n\n    const deviceResolution = $(document).find(\".gjs-cv-canvas\").find(\".device-resolution\");\n\n    if (deviceResolution.length > 0){\n        deviceResolution.addClass(\"hidden\");\n        deviceResolution.find(\".dr-type\").html(name);\n        deviceResolution.find(\".dr-measure\").html(description);\n\n\n\n    } else {\n\n        var copyDeviceResolution =  $(document).find(\".device-resolution\").clone(true,true);\n        copyDeviceResolution.find(\".dr-type\").html(name);\n        copyDeviceResolution.find(\".dr-measure\").html(description);\n        $(document).find(\".gjs-cv-canvas\").prepend(copyDeviceResolution);\n\n\n    }\n\n    const glutterResize = $(document).find(\".gjs-cv-canvas\").find(\".iframe-handle-container\");\n\n    if (glutterResize.length > 0){\n        glutterResize.addClass(\"hidden\");\n\n\n    } else {\n       // If the div is not created yet inside the iframe then we include it.\n        var copyGlutterResize =  $(document).find(\".iframe-handle-container\").clone(true,true);\n        $(\".gjs-frame\").before(copyGlutterResize);\n\n\n    }\n\n    // We force to refresh the screen because then we will update all dimensions\n    setTimeout(function () {\n        $(window).trigger('resize');\n    }, 600);\n\n};\n\n/\n     * This function initializes device glutter handle\n     \n/\n    var initDeviceEventHandle = function (device) {\n    try {\n\n            var maxDeviceSize =  parseInt(device.attributes.widthMedia,10);\n\n            // To reduce a little bit the width so we can move the handle until this size\n            var reduceWidth = maxDeviceSize - maxReduceScreenPreviewSize;\n            $(\".gjs-frame\").width(reduceWidth);\n\n            var widthIframe = 0; // Current iframe Width\n            var maxLeftPos = 0;\n            var finalwidth   = 0;\n\n            $(\".right-handle\").draggable({\n                axis: \"x\",\n                start: function(event, ui) {\n                    widthIframe = $(\".gjs-frame\").width();\n\n                },\n                drag: function(event, ui) {\n\n                    try {\n\n                        if ( $(\".gjs-cv-canvas\").find(\".handle-mask\").length == 0 ){\n                           // We need to create a mask to avoid in the moment that we are dragging to move the pointer over the iframe and losing then the control of the resizing.\n                            $(\".gjs-cv-canvas\").append('<div class=\"handle-mask\" style=\"position: absolute; z-index: 2; left: 0; top: 0; right: 0; bottom: 0;\"></div>');\n                        }\n\n                        // We need to change the iframe width dynamically\n                        const total = ui.position.left - ui.originalPosition.left;\n                        var width = widthIframe + 2*total;\n\n                        $('.js-mobile-list').find(\".mobile-item\").addClass(\"hidden\");\n\n                        if(width > maxDeviceSize || width < minReduceScreenPreviewSize){\n                            ui.position.left = maxLeftPos;\n\n                        } else {\n                            // Set the iframe width\n                            maxLeftPos = ui.position.left;\n                            $(\".gjs-frame\").width(width);\n                            finalwidth = width;\n\n                            // Set the position left of the left handle\n                            var left =  $(\".gjs-frame\")[0].offsetLeft;\n                            $(\".left-handle\").css(\"left\", left);\n\n                            var leftDesc = left - 162; // 162 = the right panel width\n                            $(\".device-resolution\").css(\"left\", leftDesc);\n                            $('.dim-indicator').html('Screen size  ' + width + 'px').fadeIn('slow');\n\n                        }\n                       // After dragging we need to refresh the editor to re-calculate the highlight border in the element selected.\n                        editor.refresh();\n\n                    } catch (err) {\n                        console.error(err);\n                    }\n                },\n                stop: function(event, ui) {\n\n                    try {\n                        $(\".handle-mask\").remove();\n\n                    } catch (err) {\n                        console.error(err);\n                    }\n                }\n\n            });\n\n\n\n    } catch (err) {\n        console.error(err);\n    }\n};\n\n```\n 3) This point is important to do it because when we are resizing the screen then we need also to control as well the gutter.\nSo in the editor \"load\" method, I'm including a new function to check if the user is resizing the canvas or the screen size. This is called \"getWindowDims\".\n```\neditor.on('load', function() {\n // Control that the screen size is not too small\n            getWindowDims();\n}\n/*\n     * Function to determine Viewport Size\n     /\n    var getWindowDims = function() {\n        var doc = document, w = window;\n        var docEl = (doc.compatMode && doc.compatMode === 'CSS1Compat')?\n            doc.documentElement: doc.body;\n    var width = docEl.clientWidth;\n    var height = docEl.clientHeight;\n\n    // mobile zoomed in?\n    if ( w.innerWidth && width > w.innerWidth ) {\n        width = w.innerWidth;\n        height = w.innerHeight;\n    }\n\n    // IMPORTANT!!!!\n    // Glutter Handle information\n    var glutterHandleObj = $(document).find(\".gjs-cv-canvas\").find(\".iframe-handle-container\");\n    if (glutterHandleObj.length > 0){\n\n        var leftGlutterHandleBar = glutterHandleObj.find(\".left-handle\");\n        var rightGlutterHandleBar = glutterHandleObj.find(\".right-handle\");\n\n        var leftOffset = $('.gjs-frame')[0].offsetLeft;\n        var rightOffset =  $('.gjs-frame')[0].offsetLeft + $('.gjs-frame').width();\n\n        leftGlutterHandleBar.css(\"cssText\", \"left: \" + leftOffset  + \"px !important\");\n        rightGlutterHandleBar.css(\"cssText\", \"left: \" + rightOffset  + \"px !important\");\n        glutterHandleObj.removeClass(\"hidden\");\n\n    }\n\n    return {width: width, height: height};\n};\n\n```\nI hope this will be useful. Don't hesite to ask me any doubts.\nDemo link: http://recordit.co/RTEaUphDZ6. Hi @artf,\nThe issue is solved if I commented in the initialize method of the tbody in the grapesjs core. But I don't understand once you are including it without checking if the tbody tag already exist.\n\n. ",
    "SalesFeed": "@artf Thanks, I followed your suggestions, but I can not get it to work.\nopts.target does not have a addStyle method\nIt also seems the editor is generating an extra id in the css, so there are duplicates.\nI have set avoidInlineStyle: true, but that does not seem to help\n. I am using the latest version.\nhttps://jsfiddle.net/rwnadv31/1/\ntry adding a background-image via decorations:  opts.target.addStyle returns 'undefined'\ntry adding an image to the canvas, then dblclick it: opts.target does have an addStyle method.\n. ",
    "algodata44": "It works perfectly, thank you!. I guess a p tag should work but I don't know how to add it automatically.. Thank you @artf ! It works well for me too. ",
    "brutalnoise": "Array.from is not supported in Internet Explorer. You can add the code, which is in the polyfill section of this page in yours.\ndeveloper.mozilla.com. ",
    "alperenuzun": "\"Plugin\" was the answer for me :)\nIn old versions it worked without using plugin. Now, it's working with plugin.\nThank you very much for your help.. Hi @artf \nI've got another question. Conditional comments are working well but don't look correct on design.\nThis is the code that i used the conditional comments in:\n\nThis is the design that i used conditional comments in:\n\nThis is the code that i didn't use conditional comments in:\n\nThis is the design that i didn't use conditional comments:\n\nI realized that the editor adds a div right before the container divs which are styled with inline-block:\n\nThis is my html code before didn't parsed by editor:\n```html\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n\n\n\n%%konu%%\n",
    "Shah-ali": "I have same issue, Waiting for the answer.... \n1257 . @artf Thanks for that solution. It's working. Sorry, My bad. It's working now. Any hint please. how to clear file input?. I think, I have fixed it.\nIn OpenAssets.js\nif (accept) {\n      const uploadEl = amContainer.querySelector(\n        `input#${config.stylePrefix}uploadFile`\n      );\n      uploadEl && uploadEl.setAttribute('accept', accept);\n      uploadEl.value = \"\";\n    }. @artf : I really want to thank you for your help.. Drag a link block, Then drag an image block inside the link block.. ",
    "Patrick-Spiegel": "Sorry for disturbing you. \neditor.on(\"loaded\", function () {\n});\nThat is sufficient for me.. Hi, thanks for the answer.\n\nVue compiles at runtime if you use the version with compiler. Exactly like this component https://github.com/alexjoverm/v-runtime-template\n\nThe problem with Vue is that there is not really a method that allows me to put a string in as parameter and get html as an output.  I have asked this question on StackOverflow and hopefully I will get an answer in near time. \n\nYeah, you can access the editor model from components via this.em\n\n\ud83d\udc4d .     grapesjs.init({\n      container: '#gjs',\n      plugins: [],\n      canvas: {\n        scripts: [\n        ],\n        styles: [\n        'http://example.com/wp-content/style.css'\n        ]\n      }\n    })\nIs this what you were looking for? . > Please read carefully this https://grapesjs.com/docs/modules/Components.html\nYeah, forgot an important line\ndefaults: {\n        ...defaultModel.prototype.defaults, ...props }\n\nHere you should point out only issues related to the core library and not its plugins\n\nWell that was not really a problem with the mjml plugin. I was looking for \neditor.getConfig().forceClass = false\nNow it is behaving mostly like it is intended to. Except for the flickering resize indicator. But thats another topic.\n. I advise you to ask the question under the html2canvas tag on StackOverflow. This is not really an issue with grapesjs. Also check wether your document.querySelector returns null. I think you are not using the iframe document. . > npm install grapesjs\nand did you import it in your Vue view? \nimport grapesjs from 'grapesjs';\n\nHere is an example on how to use grapesjs in a SPA with Vue.\n. ",
    "maryia-kabash": "@AnkitKachhadiya you can change it by going to \"Component settings\" tab (gear icon). The same is for link block.. Hi @kickbk,\nYou can try to add\nCKEDITOR.dtd.$editable.a = 1;\n. As a workaround for body background I use the following actions:\n- save body background to DB separately from components and styles, via editor.DomComponents.getWrapper().attributes.style\n- when template is loaded set the style via editor.DomComponents.getWrapper().setStyle(/*set proper styles*/)\n- clear canvas with editor.DomComponents.getWrapper().setStyle('') , but this doesn't clear background from traits. Hi @hemanthmc \nI can suggest subscribing to sorter:drag:end event and pass a React method as a callback.\nIn the method check if image is dropped and store its src into React state or do whatever needed. \nA more detailed example:\nthis.grapesjsInstance.on('sorter:drag:end', this.onDragEnd);\nonDragEnd(DataTransfer, modelToDrop) {\n        if (modelToDrop && modelToDrop.attributes && modelToDrop.attributes.type === 'image') {\n            this.setState({ /* data to save */ });\n        }\n    }. ",
    "AnkitKachhadiya": "Thank you for the help\nCan you please re-open these issue\n@maryia-kabash @artf  I have made  a custom block for my custom link see code:\n\neditor.BlockManager.add(\"unsubscribe-block\", {\n                                label: \"Unsubscribe\",\n                                content: {\n                                    type: \"link\",\n                                    content: \"unsubscribe_link\",\n                                    attributes: {href: \"{unsubscribe_link}\"}\n                                },\n                                attributes: {\n                                    title: \"Insert Unsubscribe block\",\n                                    class: \"fa fa-ban\"\n                                }\n                            });\n\nEvery thing works perfectly but the issue is whenever i remove href content using style manager it doesn't remove from my code editor .The code doesn't change (i think href is not editable). (refer image). \nCheck Fiddle FIDDLE\nDo i need to add something or i am missing something\n\n. Thank you @artf for your atttention please let me know when its solved. Ok Thank You @artf when will be the next release?. Hey @MooseFrankenstein  Refer this codepen it might help you Codepen Demo\nPlease Try this code:\n\nconst bm = editor.BlockManager;\neditor.on('load', () => {\n  editor.BlockManager.render([\n    bm.get('column1').set('category', ''),\n    bm.get('column2').set('category', ''),\n    bm.get('column3').set('category', ''),\n    bm.get('text').set('category', ''),\n    bm.get('image').set('category', '')\n  ])\n});\n\nput your category in bm.get('column1').set('category', 'your own category')\n. hey @Abhisheknanda1344463  Can you try this code \neditor.CssComposer.getAll().reset();. hey @dazakorn we are also using these editor for newsletters we embedded CSS using following code you  can also try these it worked for us:\nInitialze your editor in following way or simply add these code during initialization : \nforceClass: false,\nvar editor = grapesjs.init({\n                                clearOnRender: true,\n                                container: '#gjs',\n                                forceClass: false,\n                                plugins: ['gjs-preset-newsletter'],\n                                pluginsOpts: {\n                                    'gjs-preset-newsletter': {\n                                        modalTitleImport: 'Import template'\n                                    }\n                                }\n                            });\nYou can also get embedded CSS content using following command : \nvar html = editor.runCommand('gjs-get-inlined-html');\nHope It works!!!. ",
    "ORESoftware": "If that's the case - why can't we just clone a Git repo and have everything set up for us?\nWhy do I have to create the HTML manually, to get started?. ",
    "Barahten": "@artf, work on real server http://gjs.barahten.com/\nPen - https://codepen.io/barahten/pen/QBygdY\nThe script works a little strangely. On the local server it works by uploading files to the folder but does not work on adding to the manager, either after downloading, or after brutally adding through the code, at the same time on a real combat server everything works correctly except for p.3. ",
    "MooseFrankenstein": "@AnkitKachhadiya Thanks for your help. bm.get(id).set('category', 'your own category'). It works for me. Thanks again. \ud83d\udc4d . ",
    "jmtt89": "How you solve this? i can't find a working example with Pell, CKEditor 5 or TinyMCE :/. ",
    "michaelreckendorfer": "Thanks but i already found a solution :)\nThere was a problem with the returning array decoding/encoding. ",
    "matosboss": "I had the same problem. Adding \"contentTypeJson: true\" to storageManager options solved it.. ",
    "Uysim": "I met the same problem. When I setClass, addClass, and removeClass the sidebar editor changed. But the html didn't change. ",
    "dazakorn": "Hello Ankit,\nPerfect, I'll do tests with these changes, it seems that this is just what\nI needed, thank you very much.\n2018-07-24 0:03 GMT-05:00 Ankit Kachhadiya notifications@github.com:\n\nhey @dazakorn https://github.com/dazakorn we are also using these\neditor for newsletters we embedded CSS using following code you can also\ntry these it worked for us:\nInitialze your editor in following way or simply add these code during\ninitialization :\nforceClass: false,\nvar editor = grapesjs.init({\n                                clearOnRender: true,\n                                container: '#gjs',\n                                forceClass: false,\n                                plugins: ['gjs-preset-newsletter'],\n                                pluginsOpts: {\n                                    'gjs-preset-newsletter': {\n                                        modalTitleImport: 'Import template'\n                                    }\n                                }\n                            });\nYou can also get embedded CSS content using following command :\nvar html = editor.runCommand('gjs-get-inlined-html');\nHope It works!!!\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/1310#issuecomment-407282103, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/APvOQ3nHKbfFQ2h7vdA2HJ5f9NA1HwjQks5uJqqrgaJpZM4VbwMw\n.\n\n\n-- \nLuis David Males\nIng. Sistemas\nUniversidad del Valle\nCel: 300 3736251\n. ",
    "mcsekar12": "You are changing the title attribute of the element. so the value will not be updated.\nCan you post your trait creation code.. @jvillena It is difficult to tell without seeing the code . Can you post the code where you are updating the input.. https://github.com/artf/grapesjs/issues/761. Create blocks to be grouped with the same category name as below.\n```\nconst blockManager = editor.BlockManager;\nblockManager.add('buttonA', {\n        id: 'buttonA',\n        category: 'CategoryA',\n        label: 'ButtonA',\n        attributes: { class: 'fa fa-sticky-note-o' },\n content: \"ButtonA\"\n      });\n blockManager.add('buttonB', {\n        id: 'buttonB',\n        category: 'CategoryA',\n        label: 'ButtonB',\n        attributes: { class: 'fa fa-sticky-note-o' },\n content: \"ButtonB\"      });\nblockManager.add('button1', {\n        id: 'button1',\n        category: 'CategoryB',\n        label: 'Button1',\n        attributes: { class: 'fa fa-sticky-note-o' },\n content: 'Button1'\n      });\n```\nHere ButtonA,ButtonB will be grouped under CategoryA and Button1 under CategoryB. Use editor.Panels.getPanels() to get all the available panels and then use addButtons method shown below.Here 'options' is the panel name\neditor.Panels.addButton('options', [\n        {\n          id: 'save',\n          className: 'fa fa-floppy-o icon-blank',\n          command: function(editor1, sender) {\n            alert('Hello World')\n          },\n          attributes: { title: 'Save Template' }\n        },\n      ]);\n. Use Editor events \nhttps://grapesjs.com/docs/api/editor.html#available-events\neditor.on('component:add', (model, argument) => {\n        //filter using component name       \n        if (model.getName() === 'modelName') {\n          //show modal\n        }\n        //filter using css Class\n        if (model.getAttrToHTML().class === 'className') {\n          //show model\n        }\n      });\n. Please check the docs \nhttps://grapesjs.com/docs/api/modal_dialog.html#modal \nuse Modal.setContent();. ",
    "YashPrince": "@jvillena  I have used this code but it is not working.\neditor.on('run:preview', () => {\n    editor.stopCommand('sw-visibility'); \n});\neditor.on('stop:preview', () => \n   editor.runCommand('sw-visibility');\n});. @nojacko I have a template which contain countdown, If I direct import as html then it changed to div so I want to import that as json and css so that component do not change to other type and also there style value preserve for clone or copy.. @xamdam777  When we import countdomn saved in html format it changed it to box and countdown settings does not appear. When we use JSON then it's setting come when we re-edit the template so I was thinking that we can use same for the import also.. Hello @emilsedgh  Please check the below code it may help you.\n```\neditor.on('load', function()\n{\n    const updateAll = model => {\n        model.set({editable: false,selectable:false,hoverable:false});\n        model.get('components').each(model => updateAll(model));\n    }\n    updateAll(editor.DomComponents.getWrapper());\n});\n```. You can check  in your demo page.\nhttps://grapesjs.com/demo.html\nhttps://vimeo.com/289217284. @artf  Problem is that if we add a style mobile first and then on tab then mobile view css is override by tab view and all the css applied for the mobile view will not apply on the mobile view as it override by tab view.. @artf Any Update about this as it's a big issue. User can not update css for tab once  they apply for the mobie first. They need to delete and readd  that element.. @artf I have used \nvar model = editor.getSelected();\nvar style=model.getStyle();\n    style['height'] = '500px';\n    model.setStyle(style);\neditor.trigger('component:toggled')\nbut it did not updated the value of height field in left panel.. ",
    "inventorbit": "@cjpollard  Thank you very much :) It's working. You saved my time.... You can make use of the following\n{\n    current: 1,\n    pages: [\n        { components: [], style: [] },\n        { components: [], style: [] },\n        ...\n    ]\n}\nWhen you change the page, at first you store the current template:\nconst currentPage = pages[currentIndex];\ncurrentPage.components = editor.getComponents();\ncurrentPage.style = editor.getStyle();\nand then you change the editor with the next one\nconst nextPage = pages[nextIndex];\neditor.setComponents(nextPage.components);\neditor.setStyle(nextPage.style);\nReference Link: https://github.com/ronaldaug/gramateria/issues/2. ",
    "kripper": "What about id-based selectors? grapesJS is adding them all the time.\nThe problem can also be reproduced with just this code:\n<style>* {\n  #bck-img7.wrapper-half-left {\n    background-image:url(\"/dummy.png\") !important;\n  }\n</style>\n. ",
    "emilsedgh": "Thank you very much @YashPrince \nI suppose I can use a custom data attribute to exclude the ones I want to be editable right?\nFeel free to close this question btw. Thanks for answering.. Your example provides a radio button of a few choices.\nI want single toggle on/off buttons.. Well all I'm saying is that if grapesjs will accept it into core, I will provide the patch that appropriately implements this property type for future use.. ",
    "ryzraz": "hi @ploutos27,\nits an existing class .. i wanted here to add that class to the body of iframe..!. ",
    "umesh2k8": "npm install grapesjs. ",
    "Big-Silver": "Thanks @artf \nsetcomponents and setstyle work well.\n. ",
    "yosoyfran": "Hi, this is the code.\n```\n\n\n\n    var token = \"{{ csrf_token() }}\";\n\n    var editor = grapesjs.init({\n        fromElement: 1,\n        clearOnRender: true,\n        container: '#builder',\n        plugins: ['gjs-preset-newsletter', 'gjs-blocks-basic', 'gjs-blocks-flexbox'],\n        pluginsOpts: {\n            'gjs-blocks-basic': { category: false },\n        },\n\n        storageManager: {\n            autosave: false,\n            setStepsBeforeSave: 1,\n            type: 'remote',\n            urlStore: '/dashboard/pages/builder/' + {{ $page->id }},\n            urlLoad: '/dashboard/pages/builder/' + {{ $page->id }} + '/load',\n            contentTypeJson: true,\n            params: { _token:token },\n        },\n\n        assetManager: {\n            assets: {!! !empty($page->builder['gjs-assets']) ? $page->builder['gjs-assets'] : '[]' !!},\n            storeOnChange : true,\n            storeAfterUpload : true,\n            upload: '/dashboard/pages/builder/' + {{ $page->id }} + '/postimages',\n            uploadName: 'images',\n            params: { _token:token, enctype:'multipart/form-data' },\n            autoAdd: 1,\n        },\n    });\n\n    var assets = editor.AssetManager.getAll();\n\n    assets.on('remove', function(asset) {\n\n        var removefile = asset.get('src').split('/').reverse()[0];\n\n        $.ajax({\n            url: '/dashboard/pages/builder/' + {{ $page->id }} + '/postimages',\n            type: 'POST',\n            data: { file:removefile, _token:token },\n            success: function(response){\n                assets.remove(asset.get('src'));\n            }\n        });\n    });\n\n    editor.Panels.addButton\n    ('options',\n        [{\n            id: 'save-db',\n            className: 'fa fa-floppy-o',\n            command: 'save-db',\n            attributes: {title: 'Save'}\n        }]\n    );\n\n    editor.Commands.add\n    ('save-db',\n        {\n            run: function(editor, sender)\n            {\n                sender && sender.set('active');\n                editor.store();\n            }\n    });\n\n        editor.Panels.removeButton(\"options\", [\"export-template\", \"gjs-toggle-images\", \"gjs-open-import-template\"]);\n\n    editor.on('storage:load', function(e) {\n        console.log('Loaded ', e);\n    });\n\n    editor.on('storage:store', function(e) {\n        console.log('Stored ', e);\n    });\n\n    var btnClass = editor.Panels.addButton\n    ('options',\n        [{\n            id: 'add-class',\n            className: 'fa fa-plus',\n            command: 'add-class',\n            attributes: {title: 'Add Clicker Zone'}\n        }]\n    );\n\n    var cmdClass = editor.Commands.add\n    ('add-class',\n        {\n            run: function(editor, sender)\n            {\n                var componentModel = editor.getSelected();\n                componentModel.addClass('open-box');\n                sender && sender.set('active', true);\n            },\n\n            stop: function(editor, sender)\n            {\n                var componentModel = editor.getSelected();\n                componentModel.removeClass('open-box');\n                sender && sender.set('active', false);\n            }\n        }\n    );\n\n\n\nThis is the php code: store\npublic function builderPost(Page $page, Request $request)\n    {\n        if (!empty($page->exists) AND Gate::allows('page-access', $page)) {\n        $page->builder = json_encode($request->except('_token'));\n        $page->save();\n\n        return ['status' => 'success', 'message' => 'Your Page was successfully saved!'];\n    }\n\n    Session::flash('flashSession', ['status' => 'danger', 'message' => 'Error, you cannot build this Page!']);\n    return redirect('dashboard/pages');\n}\n\nfor load\npublic function builderLoad(Page $page)\n    {\n        if (!empty($page->exists) AND Gate::allows('page-access', $page)) {\n        return json_decode($page->builder, true);\n    }\n\n    Session::flash('flashSession', ['status' => 'danger', 'message' => 'Error, you cannot build this Page!']);\n    return redirect('dashboard/pages');\n\n}\n\n```\nThanks.. forgot the stored data, sorry\ni have a route preview loading the html and css, the background is loaded, but not in the builder\n\"{\\\"gjs-assets\\\":\\\"[{\\\\\\\"type\\\\\\\":\\\\\\\"image\\\\\\\",\\\\\\\"src\\\\\\\":\\\\\\\"http:\\\\/\\\\/pages.test\\\\/uploads\\\\/images\\\\/2\\\\/oALdpg\\\\/afacb1b9da2ff84435ca760a0a307797.jpeg\\\\\\\",\\\\\\\"unitDim\\\\\\\":\\\\\\\"px\\\\\\\",\\\\\\\"height\\\\\\\":0,\\\\\\\"width\\\\\\\":0}]\\\",\\\"gjs-css\\\":\\\"* { box-sizing: border-box; } body {margin: 0;}body{background-image:url(http:\\\\/\\\\/adoffers.test\\\\/uploads\\\\/images\\\\/2\\\\/oALdpg\\\\/afacb1b9da2ff84435ca760a0a307797.jpeg);background-repeat:repeat;background-position:left top;background-attachment:scroll;background-size:auto;}\\\",\\\"gjs-styles\\\":\\\"[]\\\",\\\"gjs-html\\\":null,\\\"gjs-components\\\":\\\"[]\\\"}\"\nthis bug/error is only in the builder, but, if i change something in the builder the background disappear from the route preview, this is the modified data after add the background-image\n\"{\\\"gjs-assets\\\":\\\"[{\\\\\\\"type\\\\\\\":\\\\\\\"image\\\\\\\",\\\\\\\"src\\\\\\\":\\\\\\\"http:\\\\/\\\\/pages.test\\\\/uploads\\\\/images\\\\/2\\\\/oALdpg\\\\/afacb1b9da2ff84435ca760a0a307797.jpeg\\\\\\\",\\\\\\\"unitDim\\\\\\\":\\\\\\\"px\\\\\\\",\\\\\\\"height\\\\\\\":0,\\\\\\\"width\\\\\\\":0}]\\\",\\\"gjs-css\\\":\\\"* { box-sizing: border-box; } body {margin: 0;}.row{display:flex;justify-content:flex-start;align-items:stretch;flex-wrap:nowrap;padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px;}.cell{min-height:75px;flex-grow:1;flex-basis:100%;}.c1253{padding:10px;}@media (max-width: 768px){.row{flex-wrap:wrap;}.row{flex-wrap:wrap;}}\\\",\\\"gjs-styles\\\":\\\"[{\\\\\\\"selectors\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"row\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"row\\\\\\\",\\\\\\\"type\\\\\\\":1,\\\\\\\"active\\\\\\\":true,\\\\\\\"private\\\\\\\":1,\\\\\\\"protected\\\\\\\":false}],\\\\\\\"selectorsAdd\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"style\\\\\\\":{\\\\\\\"display\\\\\\\":\\\\\\\"flex\\\\\\\",\\\\\\\"justify-content\\\\\\\":\\\\\\\"flex-start\\\\\\\",\\\\\\\"align-items\\\\\\\":\\\\\\\"stretch\\\\\\\",\\\\\\\"flex-wrap\\\\\\\":\\\\\\\"nowrap\\\\\\\",\\\\\\\"padding-top\\\\\\\":\\\\\\\"10px\\\\\\\",\\\\\\\"padding-right\\\\\\\":\\\\\\\"10px\\\\\\\",\\\\\\\"padding-bottom\\\\\\\":\\\\\\\"10px\\\\\\\",\\\\\\\"padding-left\\\\\\\":\\\\\\\"10px\\\\\\\"},\\\\\\\"mediaText\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"state\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"stylable\\\\\\\":true,\\\\\\\"atRuleType\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"singleAtRule\\\\\\\":0,\\\\\\\"important\\\\\\\":0},{\\\\\\\"selectors\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"row\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"row\\\\\\\",\\\\\\\"type\\\\\\\":1,\\\\\\\"active\\\\\\\":true,\\\\\\\"private\\\\\\\":1,\\\\\\\"protected\\\\\\\":false}],\\\\\\\"selectorsAdd\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"style\\\\\\\":{\\\\\\\"flex-wrap\\\\\\\":\\\\\\\"wrap\\\\\\\"},\\\\\\\"mediaText\\\\\\\":\\\\\\\"(max-width: 768px)\\\\\\\",\\\\\\\"state\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"stylable\\\\\\\":true,\\\\\\\"atRuleType\\\\\\\":\\\\\\\"media\\\\\\\",\\\\\\\"singleAtRule\\\\\\\":0,\\\\\\\"important\\\\\\\":0},{\\\\\\\"selectors\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"cell\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"cell\\\\\\\",\\\\\\\"type\\\\\\\":1,\\\\\\\"active\\\\\\\":true,\\\\\\\"private\\\\\\\":1,\\\\\\\"protected\\\\\\\":false}],\\\\\\\"selectorsAdd\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"style\\\\\\\":{\\\\\\\"min-height\\\\\\\":\\\\\\\"75px\\\\\\\",\\\\\\\"flex-grow\\\\\\\":\\\\\\\"1\\\\\\\",\\\\\\\"flex-basis\\\\\\\":\\\\\\\"100%\\\\\\\"},\\\\\\\"mediaText\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"state\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"stylable\\\\\\\":true,\\\\\\\"atRuleType\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"singleAtRule\\\\\\\":0,\\\\\\\"important\\\\\\\":0},{\\\\\\\"selectors\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"row\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"row\\\\\\\",\\\\\\\"type\\\\\\\":1,\\\\\\\"active\\\\\\\":true,\\\\\\\"private\\\\\\\":1,\\\\\\\"protected\\\\\\\":false}],\\\\\\\"selectorsAdd\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"style\\\\\\\":{\\\\\\\"flex-wrap\\\\\\\":\\\\\\\"wrap\\\\\\\"},\\\\\\\"mediaText\\\\\\\":\\\\\\\"(max-width: 768px)\\\\\\\",\\\\\\\"state\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"stylable\\\\\\\":true,\\\\\\\"atRuleType\\\\\\\":\\\\\\\"media\\\\\\\",\\\\\\\"singleAtRule\\\\\\\":0,\\\\\\\"important\\\\\\\":0},{\\\\\\\"selectors\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"c1230\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"c1230\\\\\\\",\\\\\\\"type\\\\\\\":1,\\\\\\\"active\\\\\\\":true,\\\\\\\"private\\\\\\\":false,\\\\\\\"protected\\\\\\\":false}],\\\\\\\"selectorsAdd\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"style\\\\\\\":{\\\\\\\"padding\\\\\\\":\\\\\\\"10px\\\\\\\"},\\\\\\\"mediaText\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"state\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"stylable\\\\\\\":true,\\\\\\\"atRuleType\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"singleAtRule\\\\\\\":0,\\\\\\\"important\\\\\\\":0},{\\\\\\\"selectors\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"c1253\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"c1253\\\\\\\",\\\\\\\"type\\\\\\\":1,\\\\\\\"active\\\\\\\":true,\\\\\\\"private\\\\\\\":false,\\\\\\\"protected\\\\\\\":false}],\\\\\\\"selectorsAdd\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"style\\\\\\\":{\\\\\\\"padding\\\\\\\":\\\\\\\"10px\\\\\\\"},\\\\\\\"mediaText\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"state\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"stylable\\\\\\\":true,\\\\\\\"atRuleType\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"singleAtRule\\\\\\\":0,\\\\\\\"important\\\\\\\":0}]\\\",\\\"gjs-html\\\":\\\"<div class=\\\\\\\"row\\\\\\\"><div class=\\\\\\\"cell\\\\\\\"><\\\\/div><div class=\\\\\\\"cell\\\\\\\"><div class=\\\\\\\"c1253\\\\\\\">test<\\\\/div><\\\\/div><\\\\/div>\\\",\\\"gjs-components\\\":\\\"[{\\\\\\\"tagName\\\\\\\":\\\\\\\"div\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"removable\\\\\\\":true,\\\\\\\"draggable\\\\\\\":true,\\\\\\\"droppable\\\\\\\":\\\\\\\".cell\\\\\\\",\\\\\\\"badgable\\\\\\\":true,\\\\\\\"stylable\\\\\\\":true,\\\\\\\"stylable-require\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unstylable\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"highlightable\\\\\\\":true,\\\\\\\"copyable\\\\\\\":true,\\\\\\\"resizable\\\\\\\":{\\\\\\\"tl\\\\\\\":0,\\\\\\\"tc\\\\\\\":0,\\\\\\\"tr\\\\\\\":0,\\\\\\\"cl\\\\\\\":0,\\\\\\\"cr\\\\\\\":0,\\\\\\\"bl\\\\\\\":0,\\\\\\\"br\\\\\\\":0,\\\\\\\"minDim\\\\\\\":1},\\\\\\\"editable\\\\\\\":false,\\\\\\\"layerable\\\\\\\":true,\\\\\\\"selectable\\\\\\\":true,\\\\\\\"hoverable\\\\\\\":true,\\\\\\\"void\\\\\\\":false,\\\\\\\"state\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"status\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"content\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"icon\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"style\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"attributes\\\\\\\":{},\\\\\\\"classes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"row\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"row\\\\\\\",\\\\\\\"type\\\\\\\":1,\\\\\\\"active\\\\\\\":true,\\\\\\\"private\\\\\\\":1,\\\\\\\"protected\\\\\\\":false}],\\\\\\\"script\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"traits\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"text\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"id\\\\\\\",\\\\\\\"min\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"max\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unit\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"step\\\\\\\":1,\\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"default\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"placeholder\\\\\\\":\\\\\\\"eg. Text here\\\\\\\",\\\\\\\"changeProp\\\\\\\":0,\\\\\\\"options\\\\\\\":[]},{\\\\\\\"type\\\\\\\":\\\\\\\"text\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"title\\\\\\\",\\\\\\\"min\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"max\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unit\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"step\\\\\\\":1,\\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"default\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"placeholder\\\\\\\":\\\\\\\"eg. Text here\\\\\\\",\\\\\\\"changeProp\\\\\\\":0,\\\\\\\"options\\\\\\\":[]}],\\\\\\\"propagate\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"custom-name\\\\\\\":\\\\\\\"Row\\\\\\\",\\\\\\\"components\\\\\\\":[{\\\\\\\"tagName\\\\\\\":\\\\\\\"div\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"removable\\\\\\\":true,\\\\\\\"draggable\\\\\\\":\\\\\\\".row\\\\\\\",\\\\\\\"droppable\\\\\\\":true,\\\\\\\"badgable\\\\\\\":true,\\\\\\\"stylable\\\\\\\":true,\\\\\\\"stylable-require\\\\\\\":[\\\\\\\"flex-basis\\\\\\\"],\\\\\\\"unstylable\\\\\\\":[\\\\\\\"width\\\\\\\"],\\\\\\\"highlightable\\\\\\\":true,\\\\\\\"copyable\\\\\\\":true,\\\\\\\"resizable\\\\\\\":{\\\\\\\"tl\\\\\\\":0,\\\\\\\"tc\\\\\\\":0,\\\\\\\"tr\\\\\\\":0,\\\\\\\"cl\\\\\\\":0,\\\\\\\"cr\\\\\\\":1,\\\\\\\"bl\\\\\\\":0,\\\\\\\"br\\\\\\\":0,\\\\\\\"minDim\\\\\\\":1,\\\\\\\"bc\\\\\\\":0,\\\\\\\"keyWidth\\\\\\\":\\\\\\\"flex-basis\\\\\\\",\\\\\\\"currentUnit\\\\\\\":1,\\\\\\\"step\\\\\\\":0.2},\\\\\\\"editable\\\\\\\":false,\\\\\\\"layerable\\\\\\\":true,\\\\\\\"selectable\\\\\\\":true,\\\\\\\"hoverable\\\\\\\":true,\\\\\\\"void\\\\\\\":false,\\\\\\\"state\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"status\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"content\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"icon\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"style\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"attributes\\\\\\\":{},\\\\\\\"classes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"cell\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"cell\\\\\\\",\\\\\\\"type\\\\\\\":1,\\\\\\\"active\\\\\\\":true,\\\\\\\"private\\\\\\\":1,\\\\\\\"protected\\\\\\\":false}],\\\\\\\"script\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"traits\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"text\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"id\\\\\\\",\\\\\\\"min\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"max\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unit\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"step\\\\\\\":1,\\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"default\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"placeholder\\\\\\\":\\\\\\\"eg. Text here\\\\\\\",\\\\\\\"changeProp\\\\\\\":0,\\\\\\\"options\\\\\\\":[]},{\\\\\\\"type\\\\\\\":\\\\\\\"text\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"title\\\\\\\",\\\\\\\"min\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"max\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unit\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"step\\\\\\\":1,\\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"default\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"placeholder\\\\\\\":\\\\\\\"eg. Text here\\\\\\\",\\\\\\\"changeProp\\\\\\\":0,\\\\\\\"options\\\\\\\":[]}],\\\\\\\"propagate\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"custom-name\\\\\\\":\\\\\\\"Column\\\\\\\",\\\\\\\"components\\\\\\\":[],\\\\\\\"open\\\\\\\":false},{\\\\\\\"tagName\\\\\\\":\\\\\\\"div\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"removable\\\\\\\":true,\\\\\\\"draggable\\\\\\\":\\\\\\\".row\\\\\\\",\\\\\\\"droppable\\\\\\\":true,\\\\\\\"badgable\\\\\\\":true,\\\\\\\"stylable\\\\\\\":true,\\\\\\\"stylable-require\\\\\\\":[\\\\\\\"flex-basis\\\\\\\"],\\\\\\\"unstylable\\\\\\\":[\\\\\\\"width\\\\\\\"],\\\\\\\"highlightable\\\\\\\":true,\\\\\\\"copyable\\\\\\\":true,\\\\\\\"resizable\\\\\\\":{\\\\\\\"tl\\\\\\\":0,\\\\\\\"tc\\\\\\\":0,\\\\\\\"tr\\\\\\\":0,\\\\\\\"cl\\\\\\\":0,\\\\\\\"cr\\\\\\\":1,\\\\\\\"bl\\\\\\\":0,\\\\\\\"br\\\\\\\":0,\\\\\\\"minDim\\\\\\\":1,\\\\\\\"bc\\\\\\\":0,\\\\\\\"keyWidth\\\\\\\":\\\\\\\"flex-basis\\\\\\\",\\\\\\\"currentUnit\\\\\\\":1,\\\\\\\"step\\\\\\\":0.2},\\\\\\\"editable\\\\\\\":false,\\\\\\\"layerable\\\\\\\":true,\\\\\\\"selectable\\\\\\\":true,\\\\\\\"hoverable\\\\\\\":true,\\\\\\\"void\\\\\\\":false,\\\\\\\"state\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"status\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"content\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"icon\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"style\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"attributes\\\\\\\":{},\\\\\\\"classes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"cell\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"cell\\\\\\\",\\\\\\\"type\\\\\\\":1,\\\\\\\"active\\\\\\\":true,\\\\\\\"private\\\\\\\":1,\\\\\\\"protected\\\\\\\":false}],\\\\\\\"script\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"traits\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"text\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"id\\\\\\\",\\\\\\\"min\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"max\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unit\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"step\\\\\\\":1,\\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"default\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"placeholder\\\\\\\":\\\\\\\"eg. Text here\\\\\\\",\\\\\\\"changeProp\\\\\\\":0,\\\\\\\"options\\\\\\\":[]},{\\\\\\\"type\\\\\\\":\\\\\\\"text\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"title\\\\\\\",\\\\\\\"min\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"max\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unit\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"step\\\\\\\":1,\\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"default\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"placeholder\\\\\\\":\\\\\\\"eg. Text here\\\\\\\",\\\\\\\"changeProp\\\\\\\":0,\\\\\\\"options\\\\\\\":[]}],\\\\\\\"propagate\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"custom-name\\\\\\\":\\\\\\\"Column\\\\\\\",\\\\\\\"components\\\\\\\":[{\\\\\\\"tagName\\\\\\\":\\\\\\\"div\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"text\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"removable\\\\\\\":true,\\\\\\\"draggable\\\\\\\":true,\\\\\\\"droppable\\\\\\\":false,\\\\\\\"badgable\\\\\\\":true,\\\\\\\"stylable\\\\\\\":true,\\\\\\\"stylable-require\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unstylable\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"highlightable\\\\\\\":true,\\\\\\\"copyable\\\\\\\":true,\\\\\\\"resizable\\\\\\\":false,\\\\\\\"editable\\\\\\\":true,\\\\\\\"layerable\\\\\\\":true,\\\\\\\"selectable\\\\\\\":true,\\\\\\\"hoverable\\\\\\\":true,\\\\\\\"void\\\\\\\":false,\\\\\\\"state\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"status\\\\\\\":\\\\\\\"selected\\\\\\\",\\\\\\\"content\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"icon\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"style\\\\\\\":{},\\\\\\\"attributes\\\\\\\":{},\\\\\\\"classes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"c1253\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"c1253\\\\\\\",\\\\\\\"type\\\\\\\":1,\\\\\\\"active\\\\\\\":true,\\\\\\\"private\\\\\\\":false,\\\\\\\"protected\\\\\\\":false}],\\\\\\\"script\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"traits\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"text\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"id\\\\\\\",\\\\\\\"min\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"max\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unit\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"step\\\\\\\":1,\\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"default\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"placeholder\\\\\\\":\\\\\\\"eg. Text here\\\\\\\",\\\\\\\"changeProp\\\\\\\":0,\\\\\\\"options\\\\\\\":[]},{\\\\\\\"type\\\\\\\":\\\\\\\"text\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"title\\\\\\\",\\\\\\\"min\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"max\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unit\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"step\\\\\\\":1,\\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"default\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"placeholder\\\\\\\":\\\\\\\"eg. Text here\\\\\\\",\\\\\\\"changeProp\\\\\\\":0,\\\\\\\"options\\\\\\\":[]}],\\\\\\\"propagate\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"activeOnRender\\\\\\\":0,\\\\\\\"components\\\\\\\":[{\\\\\\\"tagName\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"textnode\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"removable\\\\\\\":0,\\\\\\\"draggable\\\\\\\":0,\\\\\\\"droppable\\\\\\\":false,\\\\\\\"badgable\\\\\\\":true,\\\\\\\"stylable\\\\\\\":true,\\\\\\\"stylable-require\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unstylable\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"highlightable\\\\\\\":0,\\\\\\\"copyable\\\\\\\":0,\\\\\\\"resizable\\\\\\\":false,\\\\\\\"editable\\\\\\\":0,\\\\\\\"layerable\\\\\\\":true,\\\\\\\"selectable\\\\\\\":true,\\\\\\\"hoverable\\\\\\\":true,\\\\\\\"void\\\\\\\":false,\\\\\\\"state\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"status\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"content\\\\\\\":\\\\\\\"test\\\\\\\",\\\\\\\"icon\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"style\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"attributes\\\\\\\":{},\\\\\\\"classes\\\\\\\":[],\\\\\\\"script\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"traits\\\\\\\":[{\\\\\\\"type\\\\\\\":\\\\\\\"text\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"id\\\\\\\",\\\\\\\"min\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"max\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unit\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"step\\\\\\\":1,\\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"default\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"placeholder\\\\\\\":\\\\\\\"eg. Text here\\\\\\\",\\\\\\\"changeProp\\\\\\\":0,\\\\\\\"options\\\\\\\":[]},{\\\\\\\"type\\\\\\\":\\\\\\\"text\\\\\\\",\\\\\\\"label\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"name\\\\\\\":\\\\\\\"title\\\\\\\",\\\\\\\"min\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"max\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"unit\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"step\\\\\\\":1,\\\\\\\"value\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"default\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"placeholder\\\\\\\":\\\\\\\"eg. Text here\\\\\\\",\\\\\\\"changeProp\\\\\\\":0,\\\\\\\"options\\\\\\\":[]}],\\\\\\\"propagate\\\\\\\":\\\\\\\"\\\\\\\",\\\\\\\"components\\\\\\\":[]}],\\\\\\\"open\\\\\\\":0}],\\\\\\\"open\\\\\\\":1}],\\\\\\\"open\\\\\\\":1}]\\\"}\"\nthe asset is loaded\nassetManager: {\n            assets: [{\"type\":\"image\",\"src\":\"http://pages.test/uploads/images/2/oALdpg/afacb1b9da2ff84435ca760a0a307797.jpeg\",\"unitDim\":\"px\",\"height\":0,\"width\":0}],\n            storeOnChange : true,. @artf This problem is only in the \"body\" (Selected #wrapper) background, the content in the builder is ok, please check this video gift link \nWould be awesome if you add the options, Decorations -> background -> add layer -> [image, video, color], opacity/transparency. (for ex: i wanna add a video (layer 1) and image/color (layer 2) with transparency in front, for effect).\nThank you for your time.. @artf Yes the background is fixed, but, when i save and refresh the content is missing (but i can see all the content in the layers section). Even deleting the background the content is missing.. Hi @artf , i don't know if i am implement wrong or this is not working for me, this is my code\nhttps://jsfiddle.net/jkbr16aL/\nSorry for the delay.. Hi @artf, sorry i tried now in 0.15, and is working fine, thank you for your amazing work!!!. ",
    "ageir": "I'm having the exact same problem. The background isn't reloaded. But the data sent back from php to the load function is correct and contains the background styles. All other content are preserved and ok.\nAlso when clearing the canvas (with the trashcan icon) it doesn't clear the background styles, i think that might be related. You can test it on https://grapesjs.com/demo.html Set a background image and press clear canvas. The background is still there.. @artf I don't think you understood me. They are reappearing because they didn't get deleted on the server.\nall_files are generated via php on page reload, and showing the correct files on the server.\nThe problem is that onRemove isn't triggered at all until I upload a file, then it is triggered. Why is that?. @artf Thanks, you pointed me in the right direction. Was just assuming that modifying image type would affect all images, not only new ones.. Yeah I did, works great if you are editing on a screen that is larger than the intended content. But if you're for example editing for a 4k screen on a full HD screen its a bit problematic. Zooming seems great! Would be great if you can zoom at a pixel level as well as percent.\nThe Device Manager API doesn't support max height, which makes it impossible to know where it will cut the content vertically. This is pretty important for editing fixed height displays. Would be great to have that option. Any idea how to solve this? Is there an easy fix? or is it a big change? The best would be to limit vertical height so you can't add new content below it. Or next best would be to have a divider/line/indicator so you can see where it will cut off for a set height.. How do you pass the height as a paramenter? It's not mentioned in the manual: https://grapesjs.com/docs/api/device_manager.html#add\nMax height in my idea, would limit the height, so that you can't add new components when the height of the contents in the canvas reaches the limit..\n. > @ageir look at the example...\n\n\nMax height in my idea, would limit the height, so that you can't add new components when the height of the contents in the canvas reaches the limit..\n\nNo, this is not something I'd like to have in the core, would be too much expensive as a check on any update\n\n@artf \nYeah, probably. But some kind of horizontal indicator where it cuts off would be great.. ",
    "yomeshgupta": "@artf Great work on the project! However, I noticed that CSS inside  media queries are repeating itself. Any idea why? Facing the same issue on my local machine too.\nHappening on the demo page too : https://grapesjs.com/demo.html. ### GrapeJs Editor Initialization\nvar editor = grapesjs.init({\n    showOffsets: 1,\n    noticeOnUnload: 0,\n    container: '#gjs',\n    height: '100%',\n    fromElement: true,\n    storageManager: { autoload: 0 },\n    styleManager: {\n        sectors: [\n            {\n                name: 'General',\n                open: false,\n                buildProps: ['float', 'display', 'position', 'top', 'right', 'left', 'bottom']\n            }, {\n                name: 'Dimension',\n                open: false,\n                buildProps: ['width', 'height', 'max-width', 'min-height', 'margin', 'padding'],\n            }, {\n                name: 'Typography',\n                open: false,\n                buildProps: ['font-family', 'font-size', 'font-weight', 'letter-spacing', 'color', 'line-height', 'text-shadow'],\n            }, {\n                name: 'Decorations',\n                open: false,\n                buildProps: ['border-radius-c', 'background-color', 'border-radius', 'border', 'box-shadow', 'background'],\n            }, {\n                name: 'Extra',\n                open: false,\n                buildProps: ['transition', 'perspective', 'transform'],\n            }, {\n                name: 'Flex',\n                open: false,\n                properties: [\n                    {\n                        name: 'Flex Container',\n                        property: 'display',\n                        type: 'select',\n                        defaults: 'block',\n                        list: [\n                            { value: 'block', name: 'Disable' },\n                            { value: 'flex', name: 'Enable' }\n                        ],\n                    }, {\n                        name: 'Flex Parent',\n                        property: 'label-parent-flex',\n                        type: 'integer',\n                    }, {\n                        name: 'Direction',\n                        property: 'flex-direction',\n                        type: 'radio',\n                        defaults: 'row',\n                        list: [{\n                            value: 'row',\n                            name: 'Row',\n                            className: 'icons-flex icon-dir-row',\n                            title: 'Row',\n                        }, {\n                            value: 'row-reverse',\n                            name: 'Row reverse',\n                            className: 'icons-flex icon-dir-row-rev',\n                            title: 'Row reverse',\n                        }, {\n                            value: 'column',\n                            name: 'Column',\n                            title: 'Column',\n                            className: 'icons-flex icon-dir-col',\n                        }, {\n                            value: 'column-reverse',\n                            name: 'Column reverse',\n                            title: 'Column reverse',\n                            className: 'icons-flex icon-dir-col-rev',\n                        }],\n                    }, {\n                        name: 'Justify',\n                        property: 'justify-content',\n                        type: 'radio',\n                        defaults: 'flex-start',\n                        list: [{\n                            value: 'flex-start',\n                            className: 'icons-flex icon-just-start',\n                            title: 'Start',\n                        }, {\n                            value: 'flex-end',\n                            title: 'End',\n                            className: 'icons-flex icon-just-end',\n                        }, {\n                            value: 'space-between',\n                            title: 'Space between',\n                            className: 'icons-flex icon-just-sp-bet',\n                        }, {\n                            value: 'space-around',\n                            title: 'Space around',\n                            className: 'icons-flex icon-just-sp-ar',\n                        }, {\n                            value: 'center',\n                            title: 'Center',\n                            className: 'icons-flex icon-just-sp-cent',\n                        }],\n                    }, {\n                        name: 'Align',\n                        property: 'align-items',\n                        type: 'radio',\n                        defaults: 'center',\n                        list: [{\n                            value: 'flex-start',\n                            title: 'Start',\n                            className: 'icons-flex icon-al-start',\n                        }, {\n                            value: 'flex-end',\n                            title: 'End',\n                            className: 'icons-flex icon-al-end',\n                        }, {\n                            value: 'stretch',\n                            title: 'Stretch',\n                            className: 'icons-flex icon-al-str',\n                        }, {\n                            value: 'center',\n                            title: 'Center',\n                            className: 'icons-flex icon-al-center',\n                        }],\n                    }, {\n                        name: 'Flex Children',\n                        property: 'label-parent-flex',\n                        type: 'integer',\n                    }, {\n                        name: 'Order',\n                        property: 'order',\n                        type: 'integer',\n                        defaults: 0,\n                        min: 0\n                    }, {\n                        name: 'Flex',\n                        property: 'flex',\n                        type: 'composite',\n                        properties: [{\n                            name: 'Grow',\n                            property: 'flex-grow',\n                            type: 'integer',\n                            defaults: 0,\n                            min: 0\n                        }, {\n                            name: 'Shrink',\n                            property: 'flex-shrink',\n                            type: 'integer',\n                            defaults: 0,\n                            min: 0\n                        }, {\n                            name: 'Basis',\n                            property: 'flex-basis',\n                            type: 'integer',\n                            units: ['px', '%', ''],\n                            unit: '',\n                            defaults: 'auto',\n                        }],\n                    }, {\n                        name: 'Align',\n                        property: 'align-self',\n                        type: 'radio',\n                        defaults: 'auto',\n                        list: [{\n                            value: 'auto',\n                            name: 'Auto',\n                        }, {\n                            value: 'flex-start',\n                            title: 'Start',\n                            className: 'icons-flex icon-al-start',\n                        }, {\n                            value: 'flex-end',\n                            title: 'End',\n                            className: 'icons-flex icon-al-end',\n                        }, {\n                            value: 'stretch',\n                            title: 'Stretch',\n                            className: 'icons-flex icon-al-str',\n                        }, {\n                            value: 'center',\n                            title: 'Center',\n                            className: 'icons-flex icon-al-center',\n                        }],\n                    }\n                ]\n            }\n        ]\n    }\n});\nTest Block Added\n```\neditor.on('load', function () {\n    var $ = grapesjs.$;\n    var pn = editor.Panels;\n// Load and show settings and style manager\nvar openTmBtn = pn.getButton('views', 'open-tm');\nopenTmBtn && openTmBtn.set('active', 1);\nvar openSm = pn.getButton('views', 'open-sm');\nopenSm && openSm.set('active', 1);\n\n// Add Settings Sector\nvar traitsSector = $('<div class=\"gjs-sm-sector no-select\">' +\n    '<div class=\"gjs-sm-title\"><span class=\"icon-settings fa fa-cog\"></span> Settings</div>' +\n    '<div class=\"gjs-sm-properties\" style=\"display: none;\"></div></div>');\nvar traitsProps = traitsSector.find('.gjs-sm-properties');\ntraitsProps.append($('.gjs-trt-traits'));\n$('.gjs-sm-sectors').before(traitsSector);\ntraitsSector.find('.gjs-sm-title').on('click', function () {\n    var traitStyle = traitsProps.get(0).style;\n    var hidden = traitStyle.display == 'none';\n    if (hidden) {\n        traitStyle.display = 'block';\n    } else {\n        traitStyle.display = 'none';\n    }\n});\n\n// Test Block\neditor.BlockManager.add('test', {\n    label: 'test',\n    category: 'Basic',\n    attributes: { class: 'fa fa-header' },\n\n    content: `\n    <header data-gjs-type=\"default\" data-gjs-droppable=\"true\" class=\"custom-header\">\n        <p>Test</p>\n    </header>\n    <style>\n        .custom-header {\n            width: 100%;\n            height: 70px;\n            background-color: #414141;\n            padding: 20px;\n            color: #fff;\n        }\n        @media (max-width: 480px){\n            .custom-header {\n                background-color: red;\n            }\n        }\n    </style>\n    `\n});\n\n})\n```\nOutput\n\n@artf I am trying to add a custom block and providing HTML/CSS of the block via content attribute. When I drop the block onto the canvas then Media Query CSS is added twice to DOM Element with class  gjs-css-rules-480px . It only happens if I provide CSS via content attribute. If I added any CSS using the StyleManager then it is rendered only once. Seems like issue with parsing CSS when initializing any block.    . Link to GrapeJS I am fetching - https://grapesjs.com/js/grapes.min.js?v0.14.33\nIn my debugging (might be wrong), in the file : ./src/css_composer/index.js\nWhen a rule is added\n```\n    /*\n     * Add new rule to the collection, if not yet exists with the same selectors\n     * @param {Array} selectors Array of selectors\n     * @param {String} state Css rule state\n     * @param {String} width For which device this style is oriented\n     * @param {Object} opts Other options for the rule\n     * @return {Model}\n     * @example\n     * var sm = editor.SelectorManager;\n     * var sel1 = sm.add('myClass1');\n     * var sel2 = sm.add('myClass2');\n     * var rule = cssComposer.add([sel1, sel2], 'hover');\n     * rule.set('style', {\n     *   width: '100px',\n     *   color: '#fff',\n     * });\n     * /\n    add: function add(selectors, state, width) {\n      var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var s = state || '';\n  var w = width || '';\n  var opt = _extends({}, opts);\n  var rule = this.get(selectors, s, w, opt);\n\n  // do not create rules that were found before\n  // unless this is an at-rule, for which multiple declarations\n  // make sense (e.g. multiple `@font-type`s)\n  if (rule && rule.config && !rule.config.atRuleType) {\n    return rule;\n  } else {\n    opt.state = s;\n    opt.mediaText = w;\n    opt.selectors = '';\n    rule = new CssRule(opt, c);\n    rule.get('selectors').add(selectors);\n    rules.add(rule);\n    return rule;\n  }\n},\n\n\n/**\n * Get the rule\n * @param {Array<Selector>} selectors Array of selectors\n * @param {String} state Css rule state\n * @param {String} width For which device this style is oriented\n * @param {Object} ruleProps Other rule props\n * @return  {Model|null}\n * @example\n * var sm = editor.SelectorManager;\n * var sel1 = sm.add('myClass1');\n * var sel2 = sm.add('myClass2');\n * var rule = cssComposer.get([sel1, sel2], 'hover');\n * // Update the style\n * rule.set('style', {\n *   width: '300px',\n *   color: '#000',\n * });\n * */\nget: function get(selectors, state, width, ruleProps) {\n  var rule = null;\n  rules.each(function (m) {\n    if (rule) return;\n    if (m.compare(selectors, state, width, ruleProps)) rule = m;\n  });\n  return rule;\n},\n\n```\nThe rule is matched against existing rules, if not present then added else updated. Somehow, in the compare function it is not able to find the rule and which leads to adding it twice!. @himanshubudhlakoti You can use https://github.com/artf/grapesjs-blocks-basic  as a plugin. It has pre built blocks. Documentation is pretty straight forward on this.. @himanshubudhlakoti You are welcome! Close this issue if it is resolved.. Yes, $ is available would be available under editor.$\nHowever, I am not sure if that would be full fledged jQuery. You can always insert custom JS scripts in the canvas during initialisation. If you want, you can add jQuery there and then it would be available everywhere.. ",
    "jereddanielson": "@artf FYI that doesn't exactly work as needed. Updating the default component's default properties does not take effect for already-defined components (such as built in table, textnode, et. al.) because they have already extended the default model. Updating the default component would only change the default behavior for any new models that further extend the new default model definition.\nIn order to update all components, including existing and built ins, to have the desired default properties, I had to iterate over them all and update them one by one. This resulted in the desired (for me) behavior of establishing across-the-board default properties.\njavascript\n// Update all component model default properties\nconst allComps = editor.DomComponents.componentTypes.slice();\nfor (let i = 0; i < allComps.length; i++) {\n    const thisComp = editor.DomComponents.getType(allComps[i].id);\n    editor.DomComponents.addType(allComps[i].id, {\n        model: thisComp.model.extend({\n            defaults: {\n                ...thisComp.model.prototype.defaults,\n                copyable: false,\n                resizable: false,\n                draggable: false,\n            }\n        }),\n        view: thisComp.view,\n    });\n}. ",
    "froderf": "what I need here is something like\neditor.CodeManager.setCode(component, 'css', {cssc: editor.CssComposer});\nwhich update the style of selected component. I'm having an issue with your answer @artf :\nHTML CODE\n<img src=\"img/default.jpeg\" class=\"fr-widget-image c1694\" />\nCSS CODE\n.c1694 {\n    width: 150px;\n    height: 150px;\n}\nwhen I used textarea and edit the above css code and add border to image\n.c1694 {\n    width: 150px;\n    height: 150px;\n    border: 5px solid black;\n}\nSo from here, when I hit save and used your code\neditor.getSelectedToStyle().setStyle(content );\n//content holds the edited version of CSS code whole:\n.c1694 {\n    width: 150px;\n    height: 150px;\n    border: 5px solid black;\n}\nAfter saving with the help of your code I'm getting a result something like this:\n.fr-widget-image .c1694 {\n    content:.c1694 {\n        width: 150px;\n        height: 150px;\n        border: 5px solid black;\n    } ;\n}\n. If there's no work around for this issue. what I need right now is used \ncssComposer.getClassRule()\nbut the problem is, it is selecting the first class\n.class1{\n color: 'black';\n}\nand not this updated class\n.class1{\n color: 'red';\n}\n. I did look at the link but it doesn't have what I'm looking for but I really appreaciate your help.\nWhat I'm looking for is something like this:\n\n\nI have a custom UI that generates this code below\nimg{\n    border: 1px solid black;\n    border-radius: 10px;\n}\n\n\nNow I need this generated code to be applied on all images on the canvas.\n\n\nThank you. :). Header and footer should be same to all pages. ",
    "pnellesen": "@artf  - thanks for the response! Your suggestion worked pretty well (and it even works in Internet Explorer, which is better than my html5 color picker :p ). I have some tweaks to do to my styling and my input data, but otherwise it's good.\nThanks again!\nFor anyone curious how it worked (and I'm sure there are probably better ways):\nJust needed to add about 5 lines of code (in bold below) and add a \"data-colorp-c\" attribute to the element I wanted to attach the picker to:\ngetInputEl: function() {\n      if (!this.inputEl) {\n        var input = document.createElement('div');\n        var thisModel = this.model;\n        var thisTarget = this.target;\n        var that = this\n        var thisColorPicker = function() {\n          return editor.TraitManager.getType('color').prototype.getInputEl.apply(that, arguments);\n        }\n       ... more code...\n      myColorPickerEl.appendChild(thisColorPicker())\n     ... other code ...\n}. @nojacko I've modified my code a little, here's basically what I'm doing:\n```js\n getInputEl: function() {\n      if (!this.inputEl) {\n        var input = document.createElement('div');\n        input.innerHTML = this.inputHtml\n        var inputEl = input;\n        var pickerEl = inputEl.querySelector(\".myolorPicker\");\n        pickerEl.id = \"ppcp\" + this.cid;\n        if (!this.model.colorPickerEl) {// add the jQuery spectrum color picker to our trait editor\n          this.model.colorPickerEl = editor.TraitManager.getType('color').prototype.getInputEl.apply(this, arguments);\n        }\n        pickerEl.appendChild(this.model.colorPickerEl)\n    ... code to handle value changes and update other fields ...\n\n  return this.inputEl;\n\n}\n```\nHope this helps. This is still a work in progress :)\nNote that the getInputEl method of the colorPicker appends a spectrum colorpicker to the body of the canvas each time it's called, and it appears to be mapped to the element it returns, which is why I'm only calling it if I don't already have that element as part of my model. I suspect there are probably better ways to handle this, but this is working for my app at the moment.. ",
    "huzineczerik": "Thank You @artf ,\nI tried but did not work\n\nWhat do I do wrong?\nUPDATE\nIt only works if I write this after init. If I call from the console, it will not work\n. \nso I tried\ndoes not work\n. #1398 connected issue. ",
    "aj0022": "Thanks for your reply,\nBut I don't know how to do that could you please help artf.. ",
    "agoulart72": "Find the answer myself, for anyone that may have the same problem : extend the render part and set a display:none to the object to be rendered, this will not affect the html.\nconst domc = $scope.editor.DomComponents;\n            var textnodeType = domc.getType('textnode');\n            domc.addType('comment', {\n                  model: textnodeType.model.extend({\n                    toHTML() {\n                      return `<!--${this.get('content')}-->`;\n                    },\n                  },{\n                    isComponent(el) {\n                      if (el.nodeType == 8) {\n                        return {\n                          tagName: 'NULL', // just need this to avoid some parser rule\n                          type: 'comment',\n                          content: el.textContent\n                        }\n                      }\n                    },\n                  }),\n                  view: textnodeType.view.extend({\n                      render: function () {\n                          this.el.style.display = \"none\";\n                          return this;\n                      }\n                  }),\n                });. ",
    "Cosmograph": "I'm not talking about the editor (in which also - part of the text is not visible); rather about your index page (see the link I posted).\nP.S. - it's true also for some other wide images on that page.. @artf - more like - the strange world of humans.. ",
    "sureshDurai123": "Yeah it is possible only .But we have the requirement that we need to show single section to customer  and based their pick in popup only we need to split it.. yes using this function i need to open the model ,but i don't know how  to add columns to this model.please give some suggestions.. ",
    "Valodya": "thanks @artf for the answer, \ndo you have any estimate when it will be released?. sounds great!\nthanks you again =) . ",
    "AksharaKarikalan": "Hi artf!\n I need help in disabling panel button's active state and its color after button's pop up is functioned. Is their any way to do that?\nLike for example: If i click view code button in panel - it should first enabled and open the pop-up, then after i clicking some operation like export to zip or close it should disable view code button's active state and its color. Thanks!. ",
    "iainheng": "@artf Thanks for your help. \ud83d\ude0a It is a bug indeed. I store the gjs-components as a string and it is working now. \ud83c\udf89\nThis is the same data store as string \n\n. ",
    "Controlhaus": "@tar672 any chance you could provide an example?. Working now.\nThank you for the fast and accurate reply :-). To upload to S3 direct from the browser, a pre-signed URL needs to be obtained from the app's server first. The URL needs to contain the file's name.  \nIs it possible to assign the asset manager's upload URL in the before upload event?  \nThis does not work:\nthis.editor.on('asset:upload:start', () => {\n  this.editor.assetManager['upload'] = preSignedUrl;\n});. ",
    "ThunderDev1": "Hi @tar672 thanks for the PR, would also be interested in some sample code for hooking up to S3 :). ",
    "mrajeshkrossark": "\nYou're pointing your storage manager to a website. You need endpoints that can handle the requests. https://grapesjs.com/docs/modules/Storage.html#setup-remote-storage\n\nI tried with below endpoints that also shows error\nstorageManager: {\n        type: 'remote',\n        storeHtml: true,\n        storeCss: true,\n        contentTypeHTML: true,\n        urlStore: \"http://www.lightblue.byethost4.com/index.html\",\n        urlLoad: \"http://www.lightblue.byethost4.com/index.html\",\n        params: {},\n    }\n. I did with endpoint this time but no luck. @artf Bro, Note am using react component I will share the complete code of mine with this comment. Plz share what are mistakes which I did in my code...\n```\nimport React from 'react';\nimport grapesjs from 'grapesjs';\nimport 'grapesjs/dist/css/grapes.min.css';\nimport 'grapesjs-preset-webpage/dist/grapesjs-preset-webpage.min.css';\nimport 'grapesjs/dist/grapes.min.js';\nimport 'grapesjs-preset-webpage/dist/grapesjs-preset-webpage.min.js';\nimport Template_Client from '../TemplateCollection/Template_Client';\nconst editor = () => grapesjs.init({\n        container: '#editor-portal',\n    canvas: {\n           },\n    allowScript: 1,\n    plugins: ['gjs-preset-webpage'],\n     storageManager: {\n        type: 'remote',\n        autoload: 1,\n        urlLoad: \"http://loyal-throne-215410.appspot.com/renderstaticwebsite\",\n         params: {},\n    }\n});\nclass TemplateEditor extends React.Component {\n    constructor(props) {\n        super(props)\n    }\ncomponentDidMount() {\n    editor();\n}\n\ncomponentWillUnmount() {\n    editor('destroy');\n}\nrender() {\n    return (\n    <React.Fragment>\n        <div id = \"editor-portal\" > {\n            <Template_Client></Template_Client>\n        </div>  \n    </React.Fragment>\n    );\n}\n\n}\nexport default TemplateEditor;\n``. > @mrajeshkrossark the problem is still your endpoint, it's an HTML document, you have to return anapplication/json` like this:\n\njs\n{\n  \"gjs-components\": ...,\n  \"gjs-style\": ...\n}\nRead this please: https://grapesjs.com/docs/modules/Storage.html#store-and-load-templates\n\nIt's working @artf. Thanks for the reply and helped me to correct this issue.. > > @artf Bro, I want to load the html page which contains css and js for effects (parallax). I worked around 10 days but still I cant able to find whether am doing it right. So can you provide me instructions to do it in correct way. Ultimate goal is to provide set of templates for the user in the react wrapper page and once user picks any template, system will load the selected template into the grapesjs editor. So Please me to get out of this issue. Thanks in advance.\n\nHi Bro Any update on Grapesjs with react ?\n\nIn your react component's componentDidMount() you can initialize the editor like below:\nvar editor;\ncomponentDidMount{\n editor = grapesjs.init({\n      container: \"#editor-portal\",\n      allowScripts: 1,\n      height: \"100vh\",\n      canvas: {\n        styles: selectedTemplateExternalStyles,\n        scripts: selectedTemplateExternalScripts\n      },\n      plugins: [\"gjs-preset-webpage\", \"grapesjs-custom-code\"],\n      pluginsOpts: {\n        \"gjs-preset-webpage\": {\n          exportOpts: {\n            filenamePfx: \"hc\",\n            filename: null,\n            addExportBtn: 1,\n            btnLabel: \"Export to ZIP\"\n          }\n        },\n        \"grapesjs-custom-code\": {}\n      },\n      storageManager: {\n        id: \"gjs-\",\n        type: \"remote\",\n        autosave: 1,\n        autoload: 1,\n        stepsBeforeSave: 1, // If autosave enabled, indicates how many steps (general changes to structure), need to be done before save. Useful with remoteStorage to reduce remote calls\n        urlLoad: API_ROOT + \"/template/get/\" + this.state.editorType + \"/\" + this.props.templateId,// Endpoint where to fetch data\n        urlStore: API_ROOT + \"/template/save/\" + this.props.templateId, // Endpoint where to save all stuff\n        headers: { \"x-apiKey\": \"XXXXXXXXXXXX\" },\n        contentTypeJson: true // false: 'x-www-form-urlencoded' // true: application/json; charset=utf-8'   // set contentType paramater of $.ajax\n      }\n    });\n}\nI loaded html content from remote storage. Can you tell me how you like to get the html for your editor canvas?\n. Hi @suresh5  if your want to load data from remote your json response should be below format:\nexample:\n```\n{\"gjs-assets\": \"\",\n\"gjs-css\": null,\n\"gjs-styles\": null,\n\"gjs-html\": \"Hello World Component!\",\n\"gjs-component\": \"\"\n}\n```\nIf you want to load the html from local there is two approaches:\nApproach 1:\nGet the content for the canvas directly from the element\nfromElement: true\nadd the above option to load the html which are inside your editor.\nExample:\n```\nvar editor;\ncomponentDidMount(){\neditor = grapesjs.init({\n     container: \"#editor-portal\",\n      allowScripts: 1,\n      height: \"100vh\",\n      fromElement: true\n})\n}\nrender(){\nreturn(\n\nHello World Component!\n\n);\n}\n```\nApproach 2:\nGet the content for the canvas by using components,\n```\nvar editor;\ncomponentDidMount(){\neditor = grapesjs.init({\n     container: \"#editor-portal\",\n      allowScripts: 1,\n      height: \"100vh\",\n      components: \"Hello World Component!\"\n})\n}\nrender(){\nreturn(\n\n\n);\n}\n```\n. If you want to load data from local as well as remote, you should manage yourself by change the editor intialization based on the selection.. Your Questions\n 1) we have some templates defined in server.We need to list it the application.Once user selected the template we need to load .\n-- First save your all templates in the server like below\n{\"gjs-assets\": \"\",\n\"gjs-css\": null,\n\"gjs-styles\": null,\n\"gjs-html\": \"your template html\",\n\"gjs-component\": \"\"\n}\nthen based on the template id selection you can retrieve the template and load into the edito canvas.\n2) How to store the changes if user made any changes in the template ?\n-- in the storageManager property there is a option urlStore. for that option set your save api call and store. if you want to auto save there is option autosave and set 1 for auto save. And one more option stepsBeforeSave that we can able to assign when and which number of times of changes to save the data. \n3) Is there a way to create custom blocks to add in to block manager ?\n-- Possible but i didn't work in that. \n4)Every component has JSON parser like {test.value} once user click preview we need to bind the data from local json to bind\n-- Don't understand\n5)If our html is big ,how to send as JSON reponse ? its plain html in gjs-html key or is there any way to define the components in remote ?\n-- you can send plain html as a value for the key gjs-html no problem.\n6) When i am trying to load template from remote i am getting cors error but in network response came but in editor canvas it is not reflecting .How to fix this ?\n-- what is your environment for server? node express or something else\n. My approach but I dont know it is correct way to do it... For style sheet and images I store it in gcloud and reference the link into the html. \nto call style sheet inside canvas use option  canvas: {\n        styles: [https;//gcloud/bucketname/styles.css]\n      },\nwhen user changes anything inside the template in editor it will hit the request which you mentioned in the urlStore options. With that request, the Json format like i mentioned gjs-styles. gjs-css.... are binded with the request body.\nI dont think really it is need for code snippet to share. I almost explained everything. You have any doubts ask me. . > Thanks bro\n\nWhen I am running in localhost\nI just deployed simple application in appengine in Google cloud that will send json which is my remote url\nWhen I hit this url in urlload it is telling cross origin issue\nAny idea about this\nCan't we test this scenario in localhost?\n\nwill you share your code to check where could be a issue?. Can you tell me what you are using for serve side web api?. Check my profile\nOn 11 Dec 2018 9:18 pm, \"suresh5\" notifications@github.com wrote:\n\nDo you have email to connect ?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/1438#issuecomment-446250609, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AVwzgKaqm-YsuPaCVpN9bQHPD4hf4nd3ks5u39O6gaJpZM4Wt2y1\n.\n. \n",
    "mathiasbc": "HI @artf,\nI have the same issue, my configuration looks like this:\nassetManager: {\n        upload: 'http://my-url.net/upload',\n        // custom function to handle uploads\n        uploadFile(e, clb) {\n          const files = e.dataTransfer ? e.dataTransfer.files : e.target.files;\n          this.onUploadStart();\n          return fileUpload(this.config.upload, {file: files[0]})\n            .then((data) => editor.AssetManager.add({src: data.file, type: 'image'}))\n            .then((text) => this.onUploadResponse(text, clb))\n            .catch((err) => this.onUploadError(err));\n        },\n      },\nThis function works alright, I can actually upload images and they will show in the asset manager. For the image block I have:\nconst bm = editor.BlockManager;\nbm.add('image', {\n      label: 'Image',\n      category: '',\n      attributes: {class:'gjs-fonts gjs-f-image'},\n      content: {\n        type:'image',\n        style: {color:'black'},\n        activeOnRender: 1\n      },\n    });\nWhich is directly copied from the newsletter plugin. Now, when I drag to image block to the canvas and double click on the desired image, the Component gets added but  I get src: '' so no image is shown. Any ideas ?. ",
    "comedydriving": "Solved.  So the first issue is the content type needed to be json.  Then I had to update my store php script to accept the json data:\n$_POST = json_decode(file_get_contents('php://input'), true);\nLastly, my field in the database was set to \"text\" instead of \"long text\" so the json components were getting cut off.. ",
    "prestonkscott": "@artf I understand how to use isComponent.  I will be using fromElement: false so it's not required for how I intend to use grapes.  I do not want the elements added to the view to be selected, I do however want nested components to be selectable.  Currently they are not.\nFor example, if I render this as the Component view:\n<div>\n  <h1>{{PAGE_TITLE}}</h1>\n  <div><!-- CHILD COMPONENTS GO HERE --><div>\n</div>\nThen, then I drag & drop a child component on the Component above.  I do not want the nested <h1> or <div> to be rendered as components in the editor.  I presume this is what getChildrenContainer is for, is that correct? I could not find any documentation on this method. The drag, drop & rendering of the child component works.  The problem is the child Components are not selectable or hoverable even though I have those settings turned on. I can only select the nested components through the Layer Panel but not the editor itself.  Do you have a working example of how to use the getChildrenSelector method?  This is what I need to be able to create modular components rather than 1 component per HTML element.  I apologize if I'm misunderstanding what getChildrenSelector is for.. ",
    "DanielRuf": "\nbecause this is what you actually use when you call\nimport grapesjs from 'grapesjs'\n\nWhich should be generally just published with npm publish and be in .gitignore in the ideal case ;-). ",
    "xiaochun995": "\nthe code sample like this, I use ajax to change the div inside content to GrapeJS\n. ",
    "Gyanxie": "@artf \nYes, I use window.\n- I have  just try it with your change, but not works.\n\n\n\nhere is  an example that it works.\n\n\n\nnpm version\n\n. @artf \nI has run 'npm list', if it is necessary. \nnpmList.txt\n. @artf \nI try all the command\n\"build:css:dev\": \"node-sass src/styles/scss/main.scss dist/css/grapes.min.css --output-style compressed -w\"\n\n\n\"build:css:dev\": \"node-sass src/styles/scss/main.scss dist/css/grapes.min.css --output-style compressed -watch\"\n\"build:css:dev\": \"node-sass  --watch src/styles/scss/main.scss dist/css/grapes.min.css --output-style compressed\"\n\"build:css:dev\": \"node-sass  --w src/styles/scss/main.scss dist/css/grapes.min.css --output-style compressed\"\n\n\nAnd when I change this file 'main.scss' , node-sass has compile with all of those command. the compile looks like\n\n\n\nI guess when 'node-sass' watches files, the command 'npm run build:css:dev' has not finshed. That  is why the 'cmd' command  '&' not works . \n\n",
    "aerionTech": "Hi That worked, in the documentation, you might want to update the documentation to remove the first line in the array and only use the object version for the return data. \n{\n  data: [\n    'https://.../image.png',\n    // ...\n    {\n      src: 'https://.../image2.png',\n      type: 'image',\n      height: 100,\n      width: 200,\n    },\n    // ...\n  ]\n}. Good idea, more flexibility the better, especially if you don't wan to specify a size for the image and just provide the url for it.. ",
    "detectedstealth": "@cjpollard that block doesn't work with JavaScript.\nhttps://github.com/artf/grapesjs-custom-code/blob/master/src/index.js#L30. @cjpollard I really wish that were true as I assumed the same thing but it doesn't work that way unless there is a bug with the plugin...\nhttps://cl.ly/23c165b58e76\nhttps://cl.ly/e9633b822f30\nhttps://cl.ly/36a3196ee8a1\nhttps://cl.ly/82afe4abf0e3\nSo unless it is saved somewhere completely different in the data that is stored remotely I have no idea what is going on. It completely wipes out the code.\nThe code written is never even sent to the server to be saved either. Which could be related to this: https://github.com/artf/grapesjs-custom-code/blob/master/src/components.js#L83\nBut by the sounds of it you have used this before and have it working? Care to share an example maybe I'm missing a setting somewhere? I used the web site demo as an starting point. You can even try it in the live demo: https://grapesjs.com/demo.html add the custom code it shows the placeholder text, refresh the browser and it shows \"Insert here your custom code\" and what you typed before is gone.\n. @cjpollard thanks that is the missing setting the code block is working as I hopped it would now.. @keithstric for me to get font awesome to work in the editor I needed to add:\ncanvas: {\n        styles: ['https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.14.33/fonts/fontawesome-webfont.woff2?v=4.7.0', ....]\n}\nTo the init({}).\nHave you tried that?. ",
    "keithstric": "Thank you for your response. So,  gave that a go, I added:\ncanvas: {\n            styles: ['https://cdnjs.cloudflare.com/ajax/libs/grapesjs/0.14.33/fonts/fontawesome-webfont.woff2?v=4.7.0']\n        },\nto my init options, but still get the same behavior. I tried installing it locally and that got me around this issue, but thought it might help someone else if a solution to this were to be provided. ",
    "symmetrically": "@artf We are not rendering GrapesJS server side. It is compiled with asset pipeline where it breaks causing the other server side rendering to go down as well.. ",
    "david-polak": "Sorry, it does not. I was debugging the wrong thing.. https://github.com/david-polak/grapesjs/blob/2872daad17722895a3c8e80b9a4c2db188112727/src/commands/view/ComponentDelete.js#L20 this works. https://github.com/artf/grapesjs/pull/1482 PR. Right, will add tests.. Weird, I am currently investigating a bug, whereby clicking on a flex item that has been loaded from html the view isn't available.\n\nIt only happens under specific circumstances, I am not yet sure exactly what those are. Could it be Block related?. this.em.getSelected() seems to be correct in all cases I could test.. I think that's about it, anything else to be done for flex support @artf?. > > Weird, I am currently investigating a bug, whereby clicking on a flex item that has been loaded from html the view isn't available.\n\n@david-polak so I didn't get if you face the issue after the mounting\n\nI changed the selected element detection to this.em.getSelected() and now it works.. @artf perhaps this way it would be satisfactory. embedAsBase64 gets attached as long as uploadFile or upload is not configured.\nThis way there wouldn't be a non-functioning drop area by default.. ",
    "Skovmissen": "I think what you want is data-gjs-removable=\"false\" add that as an attribute to your div like.\nHello World!. @artf Im stuck could you maybe help me out?. Thanks i solved it.. ",
    "krisnaw": "Hi, @Skovmissen Thanks for your responses. \nIt's worked. . ",
    "rgernale": "Thank you for the fast response.. ",
    "mudit-mittal": "I am using latest version of library but issue is still here so kindly review.. Hi All,\nPlease find step for reproducing this scenario \n1) Initial state\n\n2) Perform Bold Action then Italic Action then Underline Action\n\n3) Again click on Bold Action then Italic Action then Underline Action \n\nActual:- Getting three extra  element\n. Hi All,\nrte.add('fontSize', {\n     *   icon: <select class=\"gjs-field\">\n     *         <option>1</option>\n     *         <option>4</option>\n     *         <option>7</option>\n     *       </select>,\n     *     // Bind the 'result' on 'change' listener\n     *   event: 'change',\n     *   result: (rte, action) => rte.exec('fontSize', action.btn.firstChild.value),\n     *   // Callback on any input change (mousedown, keydown, etc..)\n     *   update: (rte, action) => {\n     *     const value = rte.doc.queryCommandValue(action.name);\n     *     if (value != 'false') { // value is a string\n     *       action.btn.firstChild.value = value;\n     *     }\n     *    }\n     *   })\nthis block of code is only supporting font size values between 1 to 7 although is should be generic and should be support all integer values. ",
    "chaitanya11": "Got info from #778.. ",
    "dlorenzo": "Got it working pretty nicely listening to the 'component:update' event, calculating iframe content height and applying it to the editor.\nThanks.. ",
    "himanshubudhlakoti": "thanks @mararn1618  for sharing the code\ni want to add  a button  on default panel of grapesjs.\nmeans i do not want to create a new panel for adding a new button.\nin the code shared by you will add a button on a new panel not in the default panel of grapesjs.\nas i am getting we need  change id and el for adding button on default panel as marked on below snapshot.\n\nam i thinking right please suggest me\n. Hello All,\ncan anyone tell me that what should be value of id and el when i want to add a new button on default panel as mentioned on above snapshot.\n please let me know as soon as possible\n. thanks @mcsekar12 .\ni am using code for getting the available panels name editor.Panels.getPanels()\nand when i am displaying its output using \nconsole.log(\"panels name>>>\",editor.Panels.getPanels())\ni am getting output as mentioned on below snapshot\n\nin output i am getting object i am not getting that where is panels name which are available.\nplease let me know how can i get panels name from that object for adding button on default panel.\n. Hello All,\nif anyone is able in solving my issue mentioned above please let me know its urgent.\n . thnak you @yomeshgupta  it has done. ok. please let me know its urgent. ",
    "thanhtunguet": "I tried to destroy the editor manually and by API (Editor.destroy) but they did not work. The editor seems not to be fully destroyed.. ",
    "isvaljek": "False alarm, sorry. I checked the grapesjs-preset-webpage, and realized I was registering the block but no component. Once I added the component to editor.DomComponents, it started rendering the carousel even  when loaded from localStorage.. ",
    "momu-2016": "help~~~~. > Hi. You can use a query string as with draggable.\nthank you \uff0cbut I'm a novice. Can you give me an example?. ",
    "hpruvot": "Oh sorry I missed that option, thanks \ud83d\udc4c. Hi @artf ! I'm storing and loading JSON though, to be able to re edit my templates after saving them, and it works just fine for the rest of my components... :/. Hello again ! I found the solution, and my mistake... I was setting the option avoidInlineStyle to true, I removed it and now it works :). @artf you first thought was the right one !\nI still double checked my code and it turned out that someone had changed my code and was indeed loading the HTML and not the JSON anymore... \u00af_(\u30c4)_/\u00af So sorry for this loss of time.... ",
    "AshishTiwariMEAN": "Hello Team,\nNeed your suggestion about the same because of we need to use form builder in our application so we can easily customise our form also we need to get user input.\nWaiting for your reply...\nThanks,. ",
    "kaoz70": "Great to help en this excellent project. ",
    "jotakar": "Thanks\nYes I know I can create blocks, but In the demo (https://grapesjs.com/demo.html) I see this elements but I can't see any special block for this kind of elements. This is the reason of my question, hoe this blocks have seen created if there is no block for them? \nBye. ",
    "Aitortilla22": "\nLooks like you're storing/loading incorrectly. Check here. https://grapesjs.com/docs/modules/Storage.html#store-and-load-templates\n\nThank's @cjpollard I wasn't save the components only saved the html.\nNow I save the components and when I recover the template it's perfect ^^. ",
    "albertanthony": "Hello, when is it release to fix this problems?. ",
    "ThomasLaigneau": "Nice one, working great ! Thank's a lot !. @artf  The code works but I just saw that I can't see anymore the select button to see the Hover state of the element in the editor.. It come back when i remove the code you made me add... Sorry, I tried to follow the tips in the stackoverflow post but nothing works.. still got that error even if I escaped the / from the  tag . ",
    "boris1989529": "Thanks. I'm new to this plugin.\nHow to create my own modal dialog that has checkbox or select options or etc ?. Thanks. That's just what I want to do.. Thanks. It's working fine. But I want to add attribute something like data-gjs-selectable: false, data-gjs-editable:false to this resourceModel. ",
    "umairabid": "Not sure of @mcsekar12 gave the right solution but did point me to a good one.\nBrowsing the source code I read that onActive will be called for component which will be dropped on editor, however it was not being triggered even with correct flag configured.\n@mcsekar12 suggestion allowed me to trigger that event manually and it worked \nthis._builder.on('component:add', (model, argument) => {\n            model.trigger('active')\n        })\n. ",
    "ExCluSiv3": "Nevermind \ud83e\udd26\u200d\u2642\ufe0f \nI found the issue, i thought my local dev env would be using the grapesjs version (14.40) installed via npm, but it was loading an older (10.7) version from unpkg... that's what caused the problem.\nI hope this will atleast help somebody else who runs into this...\nHere is the final code i use:\nrte.add('placeholder', {\n        name: 'Placeholder',\n        icon: `\n            <select>\n                <option selected=\"true\" disabled=\"disabled\" id=\"defaultPlaceholder\">Placeholder</option>\n                <option value=\"[[salutation]]\">Salutation</option>\n                <option value=\"[[firstname]]\">Firstname</option>\n                <option value=\"[[lastname]]\">Lastname</option>\n            </select>\n        `,\n        event: 'change',\n        result: (rte, action) => {\n            rte.insertHTML(action.btn.children[0].selectedOptions[0].value)\n            document.getElementById('defaultPlaceholder').selected = true;\n        },\n    });\nThis will insert the value of the selected option at the cursors position and also displays a non selectable option as \"Title\", also after selecting a placeholder it resets the selected value to the default one, so that the before selected option won't be shown (because i only want to insert the placeholder and don't want it to be the \"Title\" of the dropdown). ",
    "FjStudioDev": "Found workaround follow this #372. ",
    "sambarnes90": "Ok here's what I missed for future reference.\nThe way I've set the 'new' store URL is incorrect here:\neditor.StorageManager.getConfig().urlStore = 'http://server/store/' + newTemplateName,\n    editor.StorageManager.getConfig().urlLoad = 'http://server/store/' + newTemplateName,\nThat's not actually setting the variable correctly.\nI needed to use the .get() method on StorageManager to get the storage I was working with, then use .set() on StorageManager to amend the values instead:\neditor.StorageManager.get('remote').set({\n     urlStore: 'http://server/store/' + name, \n     urlLoad: 'http://server/store/' + name\n});. ",
    "goremukin": "\nCan you provide a live example? I'd expect the toolbar to be hidden due to display none\n\nIf you connect CKEDITOR according to this instruction:\nhttps://grapesjs.com/docs/guides/Replace-Rich-Text-Editor.html#interface\nPut a breakpoint at the beginning of the enable method and make a double click on the element, you can see the same thing as in the screenshot. Just need to take into account that I have a large size ckeditor (more than 100px). > > Put a breakpoint at the beginning of the enable method and make a double click on the element, you can see the same thing as in the screenshot\n\nOk, but what is the point if at the end of the execution the element will be hidden?\n\nYes, the toolbar will disappear later, but this flicker is noticeable \ud83d\ude25\nThe easiest and fastest fix is to change 100px to 1000px\nThe appearance of CKEDITOR immediately becomes much more enjoyable. > I agree, would you like to create a PR? :)\n\nWith pleasure \ud83d\ude0a\n. ",
    "vvladev": "O, yes, I'm sorry!\nThank you, cjpollard !. ",
    "Geeker1": "I'm new at using grape js but is there anyway of using pre made templates with css links editable in grape js canvas. ",
    "riteshdalal": "Thanks @artf. If I create a trait with camelcase name then it seems to be working fine when value added through \"Settings\" but when element is initialized on canvas or block is dropped then the name is forced lowercase. \nI am trying to get Angular attributes added to the template - like *ngIf - can you please suggest a good way forward. . ",
    "4URGB": "its no issue, but an answear will be nice...or not. ",
    "00salmon": "Hey @artf,\nThanks for pointing that out. The JSON came from an internal example with more components and the missing bits must've been converted to empty textnodes.\nI've removed the empty textnodes in the jsfiddle, but still seem to be getting the issue with the \"sqh-header\" landing in the wrong spot. Any other clues?\nCheers. the JSON should be proper now here: https://jsfiddle.net/00salmon/kpbx9st3/. Hey @artf,\nI've removed those DOM elements from the container in case they were causing the issue but still seem to be getting the strange drag behavior. I updated the live demo to reflect that. \nhttps://jsfiddle.net/00salmon/fs8gnpte/\nAs a note, the DOM is being generated via the use of <slot /> within <sqh-global-container>, and within <sqh-form-component> for the elements shown after the form completion. I tried removing those but the dragging still has the original problem. \n. ",
    "rajeshmaropost": "hi @artf \nHere is my code. \nrte.add('insertHTML', {\n      name: 'insertHTML',\n      icon: '<i class=\"fa fa-paste\"></i>',\n      attributes: {title: 'PasteAsPlainText', \"data-tooltip\": 'PasteAsPlainText'},\n      result: rte => {\n        rte.exec('insertHTML', prompt(\"Because of your browser security settings, the editor is not able to access your clipboard data directly. You are required to paste it again in this window.Please paste inside the following box using the keyboard (Ctrl/Cmd+V) and hit OK\"))\n       }\n    });\nIt doesn't work for me like when i paste from word with some styling or heading  it doesn't comes with same styling still paste as plain text.Please tell me is there  something i missed ?. ",
    "narendravaghela": "I found this related issue - https://github.com/artf/grapesjs/issues/391. @artf After upgrading to 0.14.48, it is throwing an error while loading data from remote source as well dragging new elements on canvas.\nUncaught TypeError: s is not a constructor\n    at r.addToCollection (grapes.js:39597)\n    at r.addTo (grapes.js:39576)\n    at v (grapes.js:4743)\n    at m (grapes.js:4728)\n    at d (grapes.js:4527)\n    at r.c.trigger (grapes.js:4718)\n    at r._onModelEvent (grapes.js:5559)\n    at v (grapes.js:4744)\n    at m (grapes.js:4729)\n    at d (grapes.js:4527)\nAnd,\ngrapes.js:53487 Uncaught TypeError: Cannot read property 'index' of undefined\n    at r.move (grapes.js:53487)\n    at grapes.js:53454\n    at Array.forEach (<anonymous>)\n    at r.endMove (grapes.js:53453)\n    at I (grapes.js:21273)\n    at HTMLDocument.<anonymous> (grapes.js:21286)\n    at HTMLDocument.<anonymous> (grapes.js:20633). Thanks @artf for a quick fix.. Can someone please help on this issue?. It is working now. Thank you @artf . ",
    "Brandonwaichunyu": "View code doesnt appear on my javascript. \nGrapesjs- When i drag and drop the video into the canvas, i want it to be selected on Component Setting right away? Any codes for it?. ",
    "gcoda": "Yes, it works with regular properties like color, is there another way to edit css custom properties on components?. > Well, not currently\ni am storing composite type inside a variable and it is editable in style manager.\nIt works like a charm if check for undefined after split('-'), am i missing something?. ",
    "jrking4": "I ended up using something like the following to have Lato as a custom font and set it as my default font:\njs\neditor.on('load', function () {\n         //Add Lato Font & Set as Default\n        const fontProperty = editor.StyleManager.getProperty('Typography', 'font-family');\n        fontProperty.addOption({value: `Lato, Helvetica, Arial, sans-serif`, name: 'Lato'});\n        fontProperty.set('defaults', `Lato, Helvetica, Arial, sans-serif`);\n    });\nthis way Lato is checked by default.  And of course have the body CSS declare it as your default font as well.. ",
    "pcegarra": "I cant set the default custom font, Im trying like @hitugehlot22, \nvar fontProperty = editor.StyleManager.getProperty('Typography','font-family');\n            var list = [];\n            //fontProperty.set('defaults', \"Lato\");\n            fontProperty.set('list', list);\n            list = [\n                fontProperty.addOption({value: \"Lato\", name: 'Lato'}),\n                fontProperty.addOption({value: '\"Archivo Narrow\"', name: 'Archivo Narrow'}),\n                fontProperty.addOption({value: \"Roboto\", name: 'Roboto'}),\n            ];\n            fontProperty.set('list', list);\n            editor.StyleManager.render();. ",
    "ProfSaputo": "I think for the first Point you are searching for normal Components? https://grapesjs.com/docs/modules/Components.html#how-components-work. ",
    "cnaa97": "Thanks for your kindness answer.. ",
    "afdallah": "Thank you for confirming . ",
    "acamenhas": "Hi artf, i'm also interesed in this topic too.\nCan we have access to the source code of:\nhttps://grapesjs.com/demo-newsletter-editor.html\nThanks. ",
    "ahmedeldeeb25": "@artf thank you very much that's what i want. @artf thank you for your response, I've tried what you mentioned but didn't work,now my new trait is not even added\nhttps://js.do/code/274228\ncould you provide a demo for the solution, please?. @artf  I do the same thing as you mentioned with MAP and LINK components and it worked, but it didn't work with VIDEO component. ",
    "christopherserrao05": "Hi Artf,\nThanks for your reply.\nCan you please provide me a sample link, or if you could please update the jsfiddle, to explain what you mean by \"place the initial value at the component level\".\nThanks. ",
    "Konger1968": "Thanks.. ",
    "sarindaSenevirathne": "Thank you @artf for your reply. I tried that but not working in our situation\n . As shown in this figure we want the user to change an already uploaded image. But when i try from a mobile device the popup doesnt pop. Please can u point me in the right direction.\n. ",
    "CaloBM": "Thank you!. ",
    "Yamakasi": "Hi Guys! Sorry for the late response! I can work with that, clearly, thanks! Have a good 2019!. ",
    "renepardon": "Hi @artf \neven with the provided link https://gist.github.com/renepardon/91db8b10a1dea1f8d0d855af945c89a8 you were not able to reproduce it?. ",
    "mailtopaul8": "I need to have a new CSS rule with the combination of both ID & class but currently there is no way to do that (tried using setIdRule by adding .class after ID but didn't worked). Can you add a method like setRule which would simply accepts a whole selector with ID & class combination?. Okay thank you very much :). ",
    "kienduongbk": "@ahmedeldeeb25 \nthat is my solution.\nhttps://js.do/code/274435\n. ",
    "hemanthmc": "Thank you for your suggestion @maryia-kabash . > You can check \"Replace the built-in Rich Text Editor\" in GrapesJS doc here\n\nAnd there is a GrapesJS CKEditor plugin.\n\n@ronaldaug CK Editors Toolbar is not displaying after adding grapesjs-plugin-ckeditor to my editor.\nHow to enable ToolBar options in it?. @ronaldaug Thank you so much for spending your time & answer. I had tried in the same way to integrate GrapesJs in react application. I am using npm packages \n\"ckeditor\": \"^4.11.2\", \"grapesjs-plugin-ckeditor\": \"0.0.9\" \nbut i didn't able to get the CKEDITOR toolbar. i am getting the console error as shown in attached screenshot\n\n. ",
    "fulus06": "@artf  https://jsfiddle.net/fulus06/kqsezd0c/5/\n\n. ",
    "Ramkumar-Murugesan": "@ploutos27  Thanks for your reply,\nI tried your code but it shows input box instead of button \n\nand my updated custom traits code is \n```\ncomps.addType('form-type', {\n    model: defaultModel.extend({\n        /**\n   * Returns the input element\n   * @return {HTMLElement}\n   */\n    events: {\n        'click': function() {\n               // trigger when btn is clicked\n        },  \n    },\n    getInputEl() {\n        var button = document.createElement('button');\n        button.id = 'btnLogin';\n        button.value = 'Login';\n        return button;\n    },\n    // Extend default properties\n    defaults: Object.assign({}, defaultModel.prototype.defaults, {\n      // Can be dropped only inside `form` elements\n      draggable: '*',\n      // Can't drop other elements inside it\n      droppable: true,\n      // Traits (Settings)\n      traits: [{\n        type: 'text',\n        label: 'Title',\n        placeholder: 'checkbox',\n        name: 'modell',\n        changeProp: 1\n      }, {\n        // Can make it required for the form\n        type: `button`,\n        label: 'Add',\n        name: 'AddElement',\n        changeProp: 1\n      },\n      {\n        'name': 'button',\n        'label': 'Add',\n        'type': 'buttonLogin',\n    }\n    ],\n    }),\n\n    init() {\n      this.listenTo(this, 'change:modell', this.doStuff);\n      this.listenTo(this, 'click:AddElement', this.doStuff2);\n    },\n    doStuff() {\n      //do something \n      alert('dostuff ')\n    },\n    doStuff2() {\n      //do something \n      alert('dostuff2')\n    },\n\n  }, {\n    isComponent: function (el) {\n      if (el.tagName == 'INPUT') {\n        return {\n          type: 'input'\n        };\n      }\n    },\n  }),\n\n  // Define the View\n  view: defaultType.view,\n});\n\n```\nand my custom blocks is \neditor.BlockManager.add('ion-form', {\n      id: 'ion-form',\n      label: `<svg  width=\"443px\" height=\"70px\" viewBox=\"0 0 150 100\" enable-background=\"new 0 0 128 128\"  id=\"Layer_1\" version=\"1.1\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><g><path d=\"M85.263,46.49L54.485,77.267L42.804,65.584c-0.781-0.782-2.047-0.782-2.828-0.002c-0.781,0.782-0.781,2.048,0,2.829    l14.51,14.513l33.605-33.607c0.781-0.779,0.781-2.046,0-2.827C87.31,45.708,86.044,45.708,85.263,46.49z M64.032,13.871    c-27.642,0-50.129,22.488-50.129,50.126c0.002,27.642,22.49,50.131,50.131,50.131h0.004c27.638,0,50.123-22.489,50.123-50.131    C114.161,36.358,91.674,13.871,64.032,13.871z M64.038,110.128h-0.004c-25.435,0-46.129-20.694-46.131-46.131    c0-25.434,20.693-46.126,46.129-46.126s46.129,20.693,46.129,46.126C110.161,89.434,89.471,110.128,64.038,110.128z\"/></g></g>\n        <div>ion-form</div>\n</svg>`,\n      category: 'Forms',\n      content: {\n        content: `<ion-list class=\"list list-md\">\n    <div  style=\"padding-top:10px; padding-right:10px; padding-left: 10px; padding-bottom: 10px\">\n      <ion-item class=\"item item-block item-md item-input\">\n        <div class=\"item-inner\">\n          <div class=\"input-wrapper\">\n            <ion-label class=\"label label-md\" id=\"lbl-6\">Username</ion-label>\n            <ion-input type=\"text\" class=\"input input-md\" ng-reflect-type=\"text\">\n              <input class=\"text-input text-input-md\" dir=\"auto\" ng-reflect-klass=\"text-input\" ng-reflect-ng-class=\"text-input-md\"\n                type=\"text\" aria-labelledby=\"lbl-6\" autocomplete=\"off\" autocorrect=\"off\" placeholder=\"\" ng-reflect-type=\"text\">\n            </ion-input>\n          </div>\n        </div>\n        <div class=\"button-effect\"></div>\n      </ion-item>\n    </div>\n    <div style=\"padding-top:10px; padding-right:10px; padding-left: 10px; padding-bottom: 10px\">\n      <ion-item class=\"item item-block item-md item-input\">\n        <div class=\"item-inner\">\n          <div class=\"input-wrapper\">\n            <ion-label class=\"label label-md\" id=\"lbl-7\">Password</ion-label>\n            <ion-input type=\"password\" class=\"input input-md\" ng-reflect-type=\"password\">\n              <input class=\"text-input text-input-md\" dir=\"auto\" ng-reflect-klass=\"text-input\" ng-reflect-ng-class=\"text-input-md\"\n                type=\"password\" aria-labelledby=\"lbl-7\" autocomplete=\"off\" autocorrect=\"off\" placeholder=\"\"\n                ng-reflect-type=\"password\">\n            </ion-input>\n          </div>\n        </div>\n        <div class=\"button-effect\"></div>\n      </ion-item>\n    </div>\n  </ion-list>`,\n        type: 'form-type',\n        // activeOnRender: 1,\n        classes: ['formLabel'],\n        script: function () {},\n        style: {\n          'padding-top': '10px',\n          'padding-right': '10px',\n          'padding-left': '10px',\n          'padding-bottom': '10px',\n          'background-color': '#ffffff'\n        },\n        attributes: {\n          title: 'My title'\n        }\n      },\n      draggable: true,\n      removable: true\n    })\ncan u help me. @ploutos27 it works :) u are awesome\n\n. I did this by using \n```\n this.editor.DomComponents.getType('input').model\n            .prototype.defaults.traits.push({\n                type: 'text',\n                label: binding,\n                name:binding\n        });\n\n```\nand its working fine. ",
    "abozhinov": "Can you give me advice how to make mapping with dynamic data. Something like Webflow. They have product collection and you can edit template select TEXT component and choose this is ProductName.  Their editor looks like GrapesJS. My concerns are how to preview products in editor and how to store the template.. This is my solution: \ndomc.addType('layout', {\n        model: defaultModel.extend(\n            {\n                defaults: Object.assign(\n                    {},\n                    defaultModel.prototype.defaults,\n                    {\n                        removable: false,\n                        draggable: false,\n                        droppable: false,\n                        badgable: false,\n                        stylable: false,\n                        highlightable: false,\n                        copyable: false,\n                        resizable: false,\n                        editable: false,\n                        layerable: false,\n                        selectable: false,\n                        hoverable: false,\n                        propagate: [\n                            'removable',\n                            'draggable',\n                            'droppable',\n                            'badgable',\n                            'stylable',\n                            'highlightable',\n                            'copyable',\n                            'resizable',\n                            'editable',\n                            'layerable',\n                            'selectable',\n                            'hoverable'\n                        ],\n                        jsUrl: config.jsUrl,\n                        script: function () {\n                            AssetManager.loadJS('{[ jsUrl ]}');\n                        }\n                    }\n                ),\n                toHTML: function() {\n                function getHtml(components) {\n\n                    let i;\n\n                    for (i=0; i < components.length; i++)\n                    {\n                        let component = components[i];\n\n                        if (component.attributes.tagName !== 'div')\n                            continue;\n\n                        if (component.attributes.attributes.hasOwnProperty('data-page-editor-content'))\n                        {\n                            return component;\n                        }\n                        else if (component.attributes.components.models.length > 0)\n                        {\n                            return getHtml(component.attributes.components.models);\n                        }\n                    }\n                }\n\n                let editorContent = getHtml(this.attributes.components.models);\n                editorContent.script = '';\n\n                return defaultType.model.prototype.toHTML.apply(editorContent);\n            }\n        },\n        {\n            isComponent(el) {\n                if(el.id === 'js-wrapper') {\n                    return {\n                        type: 'layout'\n                    };\n                }\n            }\n        }\n    ),\n    view: defaultType.view,\n});\n\ndomc.addType('editor-content', {\n    model: defaultModel.extend(\n        {\n            defaults: Object.assign(\n                {},\n                defaultModel.prototype.defaults,\n                {\n                    removable: true,\n                    draggable: true,\n                    droppable: true,\n                    badgable: true,\n                    stylable: true,\n                    highlightable: true,\n                    copyable: true,\n                    resizable: true,\n                    editable: true,\n                    layerable: true,\n                    selectable: true,\n                    hoverable: true,\n                    propagate: [\n                        'removable',\n                        'draggable',\n                        'droppable',\n                        'badgable',\n                        'stylable',\n                        'highlightable',\n                        'copyable',\n                        'resizable',\n                        'editable',\n                        'layerable',\n                        'selectable',\n                        'hoverable'\n                    ],\n                }\n\n            )\n        },\n        {\n            isComponent(el) {\n                if(el.nodeType === Node.ELEMENT_NODE && el.hasAttribute('data-page-editor-content')) {\n                    return {\n                        type: 'editor-content'\n                    };\n                }\n            }\n        }\n    )\n});. Thanks ... The UI is not user-friendly. . @artf\n\nI think the problem is in the ICON. I edit the sources code and replace it with SVG also rewrite the style.\nDo I have an option to replace the TEMPLATE for each section without editing the source code?\n\nThe framework is great I really love it :) \n. ",
    "thinkanymore": "~~editor.Canvas.getWrapperEl().innerHTML~~. jsInHtml\u2026\u2026false. ",
    "bajki": "But how push new component to rendered Vue..\nThis would be great stuff for vue if can be managed.. ",
    "ateebahmed": "in editor config, set avoidInlineStyle to 1.\nFrom demo page latest configurations, I updated the library but saw this change on demo page now.\nThanks. > Read here about storing templates in DB: https://grapesjs.com/docs/modules/Storage.html#setup-remote-storage\n\nOn the front-end, you don't need the editor, just print the HTML and CSS stored in your DB\n\nActually I can't store CSS along with HTML and Styles as I am using a CMS table fields and only using its API to save the body content, can't create any additional fields in table, also I save styles as I don't want to lose responsiveness of site.\nIf I save final CSS in DB instead of Styles, and then restore them in editor via setStyle, will I lose anything?. I tried with saving HTML and style tag with CSS but CMS's parser is not able to compile the template at run time so I can't really put style with HTML but can go with script tag. > Where you store the array of Styles, use the same field to save all the data from grapesjs, no need to create another field.\nOkay, will try to store all data as told in documentation.\n\nFrom the documentation...\n\nSo be careful, GrapesJS is able to start from any HTML/CSS but use this approach only for importing already existent HTML templates, once the user starts editing, rely always on JSON objects because the HTML doesn't contain information about your components\n\n\nRight, what I have done right now is a little hacky but it bypasses parsing compiler, so I save the final CSS in a script tag and then replace that with style tag, so far results are good but I'll have to try and store all data from editor.\nAlso, when I tried to use options object to restore HTML and CSS, components and style doesn't seem to load, something like this\njs\ngrapesjs.init({\n    component: body.innerHTML, // body has complete page content\n    style: styles, // styles has complete CSS string I get from editor.getCss()\n// ... \n})\nbut if I do editor.setComponent(body.innerHTML) and editor.setStyle(styles), that seem to work fine.. > components not component...\nsorry it's a typo, but I couldn't get any of them neither components nor style after I had tried to set with options. That'd be great!. Actually I can't produce it with built-in components but I'm using a custom component which extends default text component, will paste the code as I could not find which property to set to get the component type, although I had set type: 'my-type' in BlocksManager.. okay will reopen it. ",
    "sankaran85": "@artf thanks for reply...  can we expect this feature to be in next version? Any information on that.. ",
    "aaronseanph": "Hi @artf , thanks for your time. The issue is happening when adding comments to blocks html. I've updated your code and added some test block with comments inside it: https://jsfiddle.net/orn4jqw7/1/. @artf thanks again for replying, I've prepared a gif: https://media.giphy.com/media/g07g2oAeFaKf9pdLi2/giphy.gif\nAs you can see I've added a new block with comment inside it, after it was drag to the canvas the comment turns into \nLatest GrapesJS version. JSFiddle: https://jsfiddle.net/orn4jqw7/1/. ",
    "muzniousx": "This is the function i use for resize the window.\nfunction resizeEditor() {\n    if ($('.detailview-header').length > 0) {\n        $('#MyTemplateEditor').height(($(window).height() - 150 - $('.detailview-header').outerHeight(true) - 70) + 'px');\n    } else {\n        $('#MyTemplateEditor').height(($(window).height() - 150) + 'px');\n    }\n    $('#MySettingsContentContainer').height(($('#MyTemplateEditor').height() - 65) + 'px');\n}\n\n\n//This is how i initially resize the editor window\n\nresizeEditor();\n$(window).on('resize', resizeEditor);\n\n(the above code works fine in Firefox and Opera browser)\n. ",
    "madcowtuning": "I figured out what is going on. If you set contentTypeJson \"true\" the load is working but the store is not because it is trying to send json data as POST data and server didn't parse it. If you set contentTypeJson  \"false\" load is not working because it is in json format but then store is working. I modified grapes.min.js by removing  'this.get(\"contentTypeJson\")&&' from onResponse function and setting contentTypeJson:!1 on both places in the file. Now everything works perfectly.. I fixed it by modifying this row:\nvar res = parsable ? JSON.parse(text) : text;\nIf I set contentTypeJson to false it couldn't load template because it is\nJSON type but can store the data.\nIf I set contentTypeJson to true then it  reads the template but then send\nPOST data as json, php didn't parse it and I receive an empty POST.\nSo I set it to false and modified the upper row so It always parse the\ntemplate as JSON.\nOn Wed, Feb 6, 2019 at 2:00 AM Artur Arseniev notifications@github.com\nwrote:\n\nserver didn't parse it\nThe server should take the POST content from the body of the HTTP\nrequest\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/1757#issuecomment-460853012, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/As8MgGqcih3yWxSeQurFlgZ9JC-lpMAXks5vKhsRgaJpZM4aWxH9\n.\n. I tried this. The php input file was empty.The explanation in your tutorial\nwas different.Anyway. I think it is better you to modify your script to\nreceive json data and send pure POST data as is described in the tutorial.\nNevertheless I love the script. You did a great job. Thank you.I was using\nwebflow before but it is too expensive.\n\nOn Wed, Feb 6, 2019 at 12:44 PM Artur Arseniev notifications@github.com\nwrote:\n\nphp didn't parse it and I receive an empty POST\nAgain @madcowtuning https://github.com/madcowtuning... the JSON is in\nthe body\nhttps://stackoverflow.com/questions/7047870/issue-reading-http-request-body-from-a-json-post-in-php\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/artf/grapesjs/issues/1757#issuecomment-460978291, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/As8MgC0z-1KC5lz8fykBd6u7AO1cnJ6xks5vKrIIgaJpZM4aWxH9\n.\n. \n",
    "Sharsie": "If someone starts working on this, poke me please, we might be able to give a hand here and there... Would really love to have typings for this project. ",
    "step4": "I would be in as well. \nDoes someone has some resources how to start this?. ",
    "Rottohawkins": "I have started this. I'll let you know in case I finish/abandon my work. \nI will mainly address the public API.. This might take a little bit longer because dts-gen is not compatible with grapesjs, not even the browser version. Thats why I have to make everything by hand. \nAs a result I am not sure if it will be accepted in [official types repository].\nSo far I have created the definition for configuration objects and the grapesjs editor itself. Here's the current document\nThe last few classes should be finished today. Testing and validating types are the biggest tasks on this. The configuration can already be tested by placing the file DefinitelyTyped/types/grapesjs/index.dts at  node_modules\\@types\\grapesjs\\index.d.ts\nThere are still definetly some types wrong where I have put instead of Backbone.Model an Object and instead of Backbone.Collection an Array. \n[official types repository]: https://github.com/DefinitelyTyped/DefinitelyTyped. Thanks, I had already included those properties, but I have not uploaded the current draft yet. . ",
    "lyczos": "@Rottohawkins great job!\nI noticed that you are missing plugins and pluginsOpts in EditorConfig . @Rottohawkins Do you have any updates? Any response from DefinitelyTyped? :). ",
    "a-bashtannik": "@artf , thank you for your answer, but I also\n\ntried also construction with isComponent defined but with the same result.\n\nwhatever, I implemented this feature via plugins as you mentioned. \nHave no idea why new component types don't work too, I will crate a PR if will figure out.. @simplecommerce , try also this, maybe fit better for you\njavascript\neditor.on('change:changesCount', e => {\n// Change!\n    });. ",
    "itsallrelative": "No I am see what looks to be the correct loading, but the content in the frame doesn't refresh:\n{assets: Array(0), css: \"*{box-sizing: border-box;}body{margin:0;}\", styles: Array(0), html: \"<div class=\"container\"><h1>Hello World</h1></div><\u2026></div></div></div></div></div></div></div></div>\", components: \"[{\"tagName\":\"div\",\"type\":\"\",\"removable\":true,\"drag\u2026\"options\":[]}],\"propagate\":\"components\":[]}]}]\"}. ",
    "Soharab-Shaikh": "No, I just want to checked the trait not the componen y.. ",
    "justinechacko": "Does this app require a database?. ",
    "noogen": "Still a WIP, I'm using it to build new form components: https://niiknow.github.io/grapesjs-components-farmer/\nMainly focus on getting unique Name field, which are important for Form submission.  Also implement doTjs for templating, so I can work on supporting additional CSS framework with initial support of Bootstrap4.\n. @sanjib00 when you render fromElement, it's a content, not component.  e.g. \"\\<section>\" html tag would not automatically get recognize as component because you don't have any code to recognize it as so. (hint: isComponent function or data-gjs-type attribute). Line 28, you're filtering it twice since you're already doing it on line 23?  am.render(am.getAll().filter(assets));\nWorks when I'm doing it like so: am.render(assets);\n. ",
    "WebEtSolutions": "Hi, no problem we will work for this PR.. Hi, \nYou can check PR on https://github.com/WebEtSolutions/grapesjs/tree/%231806\nWe have a question for the PR.\nCategoryView and Category are moved on categories folder and BlocksView and TraitsView use the new CategoryView.\nClasses for the render of categories change from block-c(category)(no-cat) to items-c(category)(no-cat)\nSo there are the same code on TraitsView and BlocksView. \nWhat's for you the best way for reformat BlocksView and TraitsView ?\nThank's for your work.\nWeb&Solutions Team. Hi,\nYour LinkedIn sign-in id is the same that your GooglePlus sign-in.\nThe key of block must be unique.\nBye. ",
    "ryancwalsh": "I'm still experiencing the same bug in Win 10 Chrome Incognito, and I also tried Firefox (Private Window) and experienced the same bug except without the 404 in the console (step 7).. Update: I just tried again on Win 10 Chrome Incognito Version 72.0.3626.121 (Official Build) (64-bit) using my original steps above.\nThis time, the console error says Failed to load resource: the server responded with a status of 404 () none:1.\nBut, in Step 9, I can successfully add an image.\nI don't know if something changed with grapesjs or with Chrome, but this seems to work for me now.. And it works in Firefox (Private Window) now too.. ",
    "NicoEngler": "I can confirm https://grapesjs.com/none 404 at step 7 tested in Chrome 72.0.3626.119 both normal & incognito mode.. @artf I can't, adding images works (both normal & incognito mode).. To achieve this, you can listen to the drag event of the editor:\neditor.on('block:drag:stop', component => {\n    // identify your component and do something cool :)\n});. I\u00b4m afraid I can't assist further without playing around with the code myself. Though I can help debugging if you shoot up an example on codepen or similar.  . This is most likely not a problem with grapejs but rather css. Could you set a up a demo?. I'd like to help but could not get my head around the problem. Could you be more precise on what you are trying to accomplish?. You can pass in the property open to your sector definiton.\nsectors: [{\n            name: 'Typografie',\n            open: true,\n            ...\n}]. From my understanding, this has been answered here: https://github.com/artf/grapesjs/issues/1675#issuecomment-449413972\n. I don't think you need to add !important because your element with the class .banner-title gets a unique class added holding the property that has changed.\nSo if you change the color, a new class is added with color: #your-color and thus the color defined in .banner-title is overwritten.. I think I get your point. The easiest option would be to remove the !important from the template. Either manually or as a preprocessing step before you add it to the editor.. I may have found a solution for your problem. Please check https://github.com/artf/grapesjs/issues/1041#issuecomment-382545102. You just need to define the label! :)\ntraits: [{\n            type: 'text',\n            label: 'Title',\n            name: 'title',\n            placeholder: 'Lorem ipsum',\n            changeProp: 1\n          }]. From what I have observed, you cannot define a label for the built in traits. Also the name (with uppercase(0)) is used if a label is undefined. That's why I guess your best bet is to define your traits along with proper label. Or better, write a PR for this. \ud83d\udc4d \nI may be wrong on this, maybe Artur can eloborate further.. Either your panel does not have the id options or your button not the id cmdImport. Btw, the trash icon does not really sound like \"importing\". Maybe you have mixed that up. Other than that, please provide more code.. cmdImport and cmdClear are variables imported at the top of the file. So the actual id might be different from 'cmdImport'. You can easily check this by observing the rendered sourcecode though.\nAs an attempt to fix it, try:\npanelManager.removeButton('options', cmdImport);\npanelManager.removeButton('options', cmdClear);\nNotice the missing '\n. It's hard to investigate the problem without seeing actual code. Set up a demo that reproduces the problem. That way, me and others can help you to solve it.. Of course that worked but you should not do it that way. You are losing maintainability.. 1. You can use data-gjs-custom-name on your components html.\n<h1 data-gjs-custom-name=\"Your Name\" ...>\n\nYou can use data-gjs-icon on your components html.\n<h1 data-gjs-icon='<i class=\"fa fa-arrows\"></i>' ...>\n\nPlease change your title to something more meaningful so others can find already solved problems better :)\nEDIT: you can use data-gjs-name instead of data-gjs-custom-name. What do you mean with \"from the outside\"?. To be honest I haven't thought about that possibility yet but it sounds interesting! One way to approach this would be to listen to the drag event and preprocess the html before actually adding it. Preprocessing would be 1) check what kind of element it is and 2) add desired data-gjs-custom-name attribute to it.. You\u00b4ve lost me on this one. What's exactly is the problem? :). Well yes, https://github.com/artf/grapesjs/issues/1841#issuecomment-468289285 is still valid.. Please show how you initialize grapesjs. Chances are the problem can be found there.. The class is applied regardless of the components state. Based on that, you can select a state, e.g. hover and style your class in that particular state. Effectively the following css will be created if you select the state hover and color your text red.\n.text-red:hover {\n    color: red;\n}\nI hope that clears up the confusion.. I have just checked and can confirm that it also works in your example. \n\nFirst add a class to your component, e.g. .text-blue-on-hover\nNext, select the state you want to modify, e.g. hover\nNow for instance change the color of the text to blue\n\nResult: Every time you hover over your component, the text is turned blue.\nSide note: The following css (or similar) is created automatically:\n.text-blue-on-hover:hover {\n    color: blue;\n}\n. One easy way to achieve this would be adding some CSS rules:\n.gjs-am-file-uploader { display: none; }\n.gjs-am-assets-cont { width: 100%; }\nAnd so on ... :). Great, just use that css rule to hide it.. :) . I don't have a plain vanilla demo running. If you set one up, I can look into it.. I had a chance to look a bit closer. Use this:\n.gjs-am-asset:hover .gjs-am-close {\n    display: none;\n}. I am not sure what \"the navigator\" is but since you can create your own panels and whatever, you can customize every bit of the visuals.\nCan you be more precise on where you try to add your icons?. Hi, one attempt to solve this could be:\n\nFind the iframe of the canvas\nFind the mouse position inside the iframe\n\nTo do so, you could combine functions shared on StackOverflow.\nThe first step could be tackled with the function found right here:\nhttps://stackoverflow.com/a/1452885/8658366\nThe second step could be tackled with the function found right here:\nhttps://stackoverflow.com/a/7790764/8658366\nI have combined those and set up a demo for you right here: https://jsfiddle.net/6f3rw4um/ Check the output of the console. \nGood luck\n. Well, first off I am not artf :) Second, set up a demo we can work on to solve your issue.. Awesome, thanks for the catch! @noogen . ",
    "mcrodrig": "For future reference: Problem was related to executing the grapesjs.init call before the html was rendered and the  inside the mat-step was not available.. ",
    "Basit-Mahmood": "Hi,\nFirst of all I am new to GrapesJS and integrated GrapesJS in my application. Latest version of GrapesJs. I am using Grapes-preset-newsletter Basically I have two editors on same page. The problem is I am adding the action in Rich Text Editor. But as soon as I load the second editor. The command stop to work in first editor instance. Please tell me what I am doing wrong. Both the editors are same. The difference is when user select some option then the first Editor hides and second opens and vice versa. \nIf I remove or comment out the code of loading second editor then Rich Text Editor insert the content when I select some option. But if I load both editors then first editor does not insert anythign when I select the option. But in second editor it inserts the select option. \nHere is my code\n`\n<table width=\"98%\" border=\"0\" cellspacing=\"0\" cellpadding=\"1\" class=\"primary\">\n    <tr align=\"right\">\n        <td>\n           <form name=\"frm\" id=\"frm\" action=\"TemplateItemCtrl.jsp\" method=\"post\" onSubmit=\"return false;\">\n                <table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"4\">\n                     .....\n                     <tr id=\"primarytinyeditorrow\" >\n                        <td colspan=\"2\">\n                            <b>Primary Html Editor:</b>\n                        <div id=\"editorContainer\">\n                            <div id=\"gjs\">\n                <h1>Hello World Component!</h1>                 \n                    </div>\n                        </div>\n                        </td>\n                    </tr>\n                     .....\n                    <tr id=\"alternatetinyeditorrow\" >\n                    <td colspan=\"2\">\n                            <b>Alternate Html Editor:</b>\n                            <div id=\"alternateEditorContainer\">\n                            <div id=\"alternate-gjs\">\n                <h1>Hello World Component!</h1>                 \n                    </div>\n                            </div>\n                        </td>\n                   </tr>\n                </table>\n            </form>\n        </td>\n    </tr>\n</table>\n\nJavaScript:\n-----------------\n\nfunction loadGrapesJsEditor(editorContainer) {\n\n     //Set up GrapesJS editor with the Newsletter plugin\nlet grapesJsEditor = grapesjs.init({\n    height: '100%',\n    log: true,\n    container : '#'+editorContainer,\n    fromElement: true,\n    plugins: ['gjs-preset-newsletter'],\n    pluginsOpts: {\n            'gjs-preset-newsletter': {\n            modalLabelImport: 'Paste all your code here below and click import',\n            modalLabelExport: 'Copy the code and use it wherever you want',\n            codeViewerTheme: 'material',\n            importPlaceholder: '<table class=\"table\"><tr><td class=\"cell\">Hello world!</td></tr></table>',\n            cellStyle: {\n                'font-size': '12px',\n                'font-weight': 300,\n                'vertical-align': 'top',\n                color: 'rgb(111, 119, 125)',\n                margin: 0,\n                padding: 0,\n            }\n     },\n      },\n  canvas: {\n      styles: [\n              '/common/scripts/GrapesJS/css/grapesEditorNewsletterCanvasStyle.css'\n        ]\n   },\n   storageManager: { \n            id: 'gjs-',                     \n        type: 'remote',                 \n        autosave: false,                \n        autoload: false,                \n   },\n   assetManager: {\n        uploadName: 'graphicsFile',         \n        params: {'builderId' : builderId},  \n    multiUpload: true,                  \n    upload: templateImagesUploadUrl,    \n    credentials: 'omit',                \n    autoAdd: 0\n        },\n});\n    return grapesJsEditor;\n}\n\nfunction setEditorEvents(grapesEditor) {\n    var modal = grapesEditor.Modal;\nvar $selectTemplateBtn = jQuery(\"#selecTemplateBtn\");\n\ngrapesEditor.on('load', function(){\n    $selectTemplateBtn.click(function(){\n        loadMasterTemplateIntoEditor(grapesEditor, modal);\n    }); \n});   \n    .... \n}\n\nfunction setAssetEvents(grapesEditor) {\n    var assetManager = grapesEditor.AssetManager;\nvar assets = assetManager.getAll() // <- Backbone collection\n\n// The upload is started\ngrapesEditor.on('asset:upload:start', () => {\n    showWaitingDialog({});\n});\n    ...\n}\n\nfunction addTagsInRichTextEditor(grapesEditor, actionName, iconHtml) {\n\n    var rte = grapesEditor.RichTextEditor;\n    rte.pfx = \"gjs-rte-\" + actionName;\n    var action = rte.get(actionName);\n    rte.add(actionName, {\n        icon: iconHtml,\n\n        // Bind the 'result' on 'change' listener\n        event: 'change',\n        //result: (rte, action) => rte.insertHTML(action.btn.firstChild.value),\n        result: function(rte, action) {\n            var button = action.btn;\n            var buttonChild = button.firstChild;\n            var value = buttonChild.value;\n            rte.insertHTML(value);\n        },\n\n        // Reset the select on change\n        //update: (rte, action) => { action.btn.firstChild.value = \"\";}\n        update: function(rte, action) { \n            var button = action.btn;\n            var buttonChild = button.firstChild;\n            buttonChild.value = \"\";\n        }\n    });\n}\n\n function removePanel(grapesEditor, panelId) {\n    ....\n}\n\nfunction addButtonsToPanel(grapesEditor, panelId) {\n    ...\n}\n\nvar $tagsSelectEl = createTagsSelectElement(tagsList, 'tags', 'gjs-tags');\nvar $alternateTagsSelectEl = createTagsSelectElement(tagsList, 'alternate-tags', 'gjs-alternate-tags');\nvar tagsSelectHtml = $tagsSelectEl.prop('outerHTML');\nvar alternateTagsSelectHtml = $alternateTagsSelectEl.prop('outerHTML');\n\nlet alternateEditor = null;\nlet editor = loadGrapesJsEditor(\"gjs\");\nif (!viewModeOnly) {\n    setEditorEvents(editor);\nsetAssetEvents(editor)\naddTagsInRichTextEditor(editor, 'tags', tagsSelectHtml);\nremovePanel(editor, 'commands');\nremoveButtonsFromPanel(editor, 'options');\naddButtonsToPanel(editor, 'options');\n} else {\n    ...\n}\n\nif (showAlternateEditor) {\nalternateEditor = loadGrapesJsEditor(\"alternate-gjs\");\nsetEditorEvents(alternateEditor);\nsetAssetEvents(alternateEditor);\naddTagsInRichTextEditor(alternateEditor, 'alternate-tags', alternateTagsSelectHtml);\nremovePanel(alternateEditor, 'commands');\nremoveButtonsFromPanel(alternateEditor, 'options');\naddButtonsToPanel(alternateEditor, 'options');      \n}\n\n`\nWhat I am doing wrong. Thanks.\n. ",
    "prashant2018": "@sakshigarg9 Comment or delete this part in index.js \n{\n      id: cmdImport,\n      className: 'fa fa-download',\n      command: e => e.runCommand(cmdImport),\n    },{\n      id: cmdClear,\n      className: 'fa fa-trash',\n      command: e => e.runCommand(cmdClear),\n    }\nand run npm start to run the server and see the changes in the browser on localhost. To make sure the changes reflect in your index.html page, you will need to build the project using npm run build  which will update the js and css files in dist folder. After building, you will be able to see the changes in index.html without the need to run the server. \nRemember, any changes you make in any of the JS or CSS file then make sure you run npm run build as you need to have the updated files in dist folder to reflect changes in index.html. \nFull index.js code:\n```\nimport {\n  cmdImport,\n  cmdDeviceDesktop,\n  cmdDeviceTablet,\n  cmdDeviceMobile,\n  cmdClear\n} from './../consts';\nexport default (editor, config) => {\n  const pn = editor.Panels;\n  const eConfig = editor.getConfig();\n  const crc = 'create-comp';\n  const mvc = 'move-comp';\n  const swv =\u00a0'sw-visibility';\n  const expt = 'export-template';\n  const osm = 'open-sm';\n  const otm = 'open-tm';\n  const ola = 'open-layers';\n  const obl = 'open-blocks';\n  const ful = 'fullscreen';\n  const prv = 'preview';\neConfig.showDevices = 0;\npn.getPanels().reset([{\n    id: 'commands',\n    buttons: [{}],\n  },{\n    id: 'options',\n    buttons: [{\n      id: swv,\n      command: swv,\n      context: swv,\n      className: 'fa fa-square-o',\n    },{\n      id: prv,\n      context: prv,\n      command: e => e.runCommand(prv),\n      className: 'fa fa-eye',\n    },{\n      id: ful,\n      command: ful,\n      context: ful,\n      className: 'fa fa-arrows-alt',\n    },{\n      id: expt,\n      className: 'fa fa-code',\n      command: e => e.runCommand(expt),\n    },{\n      id: 'undo',\n      className: 'fa fa-undo',\n      command: e => e.runCommand('core:undo'),\n    },{\n      id: 'redo',\n      className: 'fa fa-repeat',\n      command: e => e.runCommand('core:redo'),\n    }\n    // ,{\n    //   id: cmdImport,\n    //   className: 'fa fa-download',\n    //   command: e => e.runCommand(cmdImport),\n    // },{\n    //   id: cmdClear,\n    //   className: 'fa fa-trash',\n    //   command: e => e.runCommand(cmdClear),\n    // }\n  ],\n  },{\n    id: 'views',\n    buttons  : [{\n      id: osm,\n      command: osm,\n      active: true,\n      className: 'fa fa-paint-brush',\n    },{\n      id: otm,\n      command: otm,\n      className: 'fa fa-cog',\n    },{\n      id: ola,\n      command: ola,\n      className: 'fa fa-bars',\n    },{\n      id: obl,\n      command: obl,\n      className: 'fa fa-th-large',\n    }],\n  }]);\n// Add devices buttons\n  const panelDevices = pn.addPanel({id: 'devices-c'});\n  panelDevices.get('buttons').add([{\n    id: cmdDeviceDesktop,\n    command: cmdDeviceDesktop,\n    className: 'fa fa-desktop',\n    active: 1,\n  },{\n    id: cmdDeviceTablet,\n    command: cmdDeviceTablet,\n    className: 'fa fa-tablet',\n  },{\n    id: cmdDeviceMobile,\n    command: cmdDeviceMobile,\n    className: 'fa fa-mobile',\n  }]);\nconst openBl = pn.getButton('views', obl);\n  editor.on('load', () => openBl && openBl.set('active', 1));\n// On component change show the Style Manager\n  config.showStylesOnChange && editor.on('component:selected', () => {\n    const openSmBtn = pn.getButton('views', osm);\n    const openLayersBtn = pn.getButton('views', ola);\n// Don't switch when the Layer Manager is on or\n// there is no selected component\nif ((!openLayersBtn || !openLayersBtn.get('active')) && editor.getSelected()) {\n  openSmBtn && openSmBtn.set('active', 1);\n}\n\n});\n}\n```. Could you please include the file name which contains this code snippet ? If I am not wrong it is in panels/index.js . That is awesome!. ",
    "minuwan": "@NicoEngler Any other way to set default custom names for each type? If someone drag and drop content from outside, I want to display those div's names as \"Divs\" as well. :). @NicoEngler Outside means contents from other tabs, Since GrapesJS use HTML5 drag and drop option, we can drag and drop content from outside. Also, I have a fully custom block manager, I didn't use Grapes native one, which also can be consider as \"outside\".. I thought about it, But the problem is that \"data\" attribute is visible even after exported.. I want to label every \"Box\" as \"Divs\". (Example: In the navigator/layers, In the badge etc...) by default (In the config or as a function/method).. @NicoEngler Navigator is the layers panel, GrapesJS called it \"The Navigator\". Currently, it only contains few configs, but the render it in a different layout or add an icon to a layer item is not possible it seems.. ",
    "ramusesan": "yup, it works... great when using ref to DOM and also handles the changes using grapes js' APIs\nthank you @arthuralmeidap . ",
    "MisterFK": "Thanks artf,\nI already try to catch the onmouseup or onmousemove events on the iframe (and it's work) but when i drag&drop a block the event don't trigger (maybe because the mouse is on the block image)...\nThere is no event grapesjs to have the drop position (absolute position) ?\nThanks again !. Hi,\nI don't understand how can i put mouse event into the block:drag event... The first argument is the \"Datatransfert\" and the second is the \"model\".... Can you show me an example plz?. Thanks, but i don't want to change the type but i want to change the type of only one selected element...\nIf i change the traits of component, all the others elements with this type will be changed and it's not the purpose.. ",
    "simplecommerce": "@arthuralmeidap Hi, thanks for your reply, yeah no that's not what I want, since I only want to callback my function when the final HTML code editor.getHtml() actually changes, and not when say we hover over the canvas, etc.\n. @arthuralmeidap To keep it simple, I am using GrapesJS in React and require an onChange function call to update my value stored in state, so that when I save, I grab all the values that is up to date. \nMy implementation of GrapesJS is a separate component that I load on the screen, so I require to pass an onChange callback function to get the final state of the HTML. \nSorry if I am not being clear.. @arthuralmeidap Ok thanks a lot for your feedback!!. @a-bashtannik Hi, thanks for giving me the tip! I also tried that method previously before, but noticed some issues when applying styles using the style manager, sometimes it didn't detect the change instantly, unless I clicked somewhere else to blur or something like that, so that is why I was looking for another solution and ended up with the storage method for the moment. \nAppreciate your feedback!!. @artf thank you for your reply also! That's what I was using before but when changing styles using the style manager, as soon as I clicked my button to save my content, sometimes the delay it took to kick the change event, wasn't quick enough to register and my save would save without the changes.\nMost likely due to my code, but the storage method works, so I am fine with that, I appreciate your responses and feedback though, and awesome framework by the way, I can see the hard work that was put in to make this happen!. Anyone have any idea for this issue?\nMy issue happens when I use for example, bootstrap tabs, in order to make them work and load the right tab, it uses the ID, but since the ID is being regenerated when I load the editor with my components again (for editing), the tabs no longer work, since all ID are replaced and incremented.\nInitial drag and drop.\n<div tabs-container=\"\" id=\"iqwah\">\n  <ul role=\"tablist\" class=\"nav nav-tabs\">\n    <li class=\"nav-item\">\n      <a id=\"home-tab-3\" data-toggle=\"tab\" href=\"#home\" role=\"tab\" aria-controls=\"home\" aria-selected=\"true\" class=\"nav-link active\">Tab 1</a>\n    </li>\n    <li class=\"nav-item\">\n      <a id=\"profile-tab-3\" data-toggle=\"tab\" href=\"#profile\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\" class=\"nav-link\">Tab 2</a>\n    </li>\n    <li class=\"nav-item\">\n      <a id=\"contact-tab-3\" data-toggle=\"tab\" href=\"#contact\" role=\"tab\" aria-controls=\"contact\" aria-selected=\"false\" class=\"nav-link\">Tab 3</a>\n    </li>\n  </ul>\n  <div class=\"tab-content\">\n    <div role=\"tabpanel\" class=\"tab-pane fade show active\" id=\"home-3\" aria-labelledby=\"home-tab\">\n    </div>\n    <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"profile-3\" aria-labelledby=\"profile-tab\">\n    </div>\n    <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"contact-3\" aria-labelledby=\"contact-tab\">\n    </div>\n  </div>\n</div>\nReload\n<div tabs-container=\"\" id=\"iqwah\">\n  <ul role=\"tablist\" class=\"nav nav-tabs\">\n    <li class=\"nav-item\">\n      <a id=\"home-tab-3\" data-toggle=\"tab\" href=\"#home\" role=\"tab\" aria-controls=\"home\" aria-selected=\"true\" class=\"nav-link active\">Tab 1</a>\n    </li>\n    <li class=\"nav-item\">\n      <a id=\"profile-tab-3\" data-toggle=\"tab\" href=\"#profile\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\" class=\"nav-link\">Tab 2</a>\n    </li>\n    <li class=\"nav-item\">\n      <a id=\"contact-tab-3\" data-toggle=\"tab\" href=\"#contact\" role=\"tab\" aria-controls=\"contact\" aria-selected=\"false\" class=\"nav-link\">Tab 3</a>\n    </li>\n  </ul>\n  <div class=\"tab-content\">\n    <div role=\"tabpanel\" class=\"tab-pane fade show active\" id=\"home-3\" aria-labelledby=\"home-tab\">\n    </div>\n    <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"profile-3\" aria-labelledby=\"profile-tab\">\n    </div>\n    <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"contact-3\" aria-labelledby=\"contact-tab\">\n    </div>\n  </div>\n</div>\nAs you can see, my id's have changed.\n. Ok so since there didn't seem to be any options to prevent this, I had to overwrite the built-in functions in this method in order to prevent the ID being overwritten.\nI placed this code after initializing the editor.\n```\n    editor.DomComponents.Component.createId = function(model) { \n      const list = comps.Component.getList(model);\n      let { id } = model.get('attributes');\n      let nextId;\n  if (id) {               \n    // only commented this line, to keep the original id.\n    nextId = id//comps.Component.getIncrementId(id, list);\n\n    model.setId(nextId);\n  } else {\n    nextId = comps.Component.getNewId(list);\n  }\n\n  list[nextId] = model;\n  return nextId;\n}\n\n// basically just removed the whole code.\neditor.DomComponents.Component.checkId = function() {}\n\n```\nThere was another issue I noticed while investigating this, it seems then doing editor.DomComponents.clear(), it only clears the components, but not the list of ID's that were generated.\nHad to add this to fix it.\neditor.DomComponents.clear();\n    editor.DomComponents.componentsById = {};  // this here\nDon't know if it was intentional or not.. So I dug around and figured that it was the updateScript method in the canvasView that was being called every time a script property is found on a component, regardless if its still being dragged or not over the canvas.\nI did some patching to test and it seemed to have fixed the issue.\nI had to overwrite it this way as I did not want to modify the original code directly, in case it gets fixed in the future.\nDidn't know how to detect if the model was currently being dragged, only noticed that when the component is dropped in the canvas, updateScript is called, modelOpt had an extra attribute at, so relied on this.\nUntil someone makes a better, cleaner fix.\n```\n    const canvasView = editor.Canvas.getCanvasView();\n    canvasView.updateScript = function(view) {\n      // check if at attribute exists, if not assume we are still dragging\n      if (!isUndefined(view.modelOpt.at)) {\n        const model = view.model;\n        const id = model.getId();        \n    // check if we have previously inserted the script, if so, remove it\n    let previousScript = this.getJsContainer().querySelector(`script[data-model-id=\"${id}\"]`);\n    if (previousScript !== null) previousScript.parentElement.remove();\n\n    if (!view.scriptContainer) {\n      view.scriptContainer = document.createElement('div');\n      this.getJsContainer().appendChild(view.scriptContainer);\n    }\n\n    view.el.id = id;\n    view.scriptContainer.innerHTML = '';\n    // In editor, I make use of setTimeout as during the append process of elements\n    // those will not be available immediately, therefore 'item' variable\n    const script = document.createElement('script');\n\n    // set custom attribute for script tag, in order to detect it, to remove it when dragging the same block within the canvas\n    script.setAttribute('data-model-id', id);\n\n    script.innerHTML = `\n        setTimeout(function() {\n          var item = document.getElementById('${id}');\n          if (!item) return;\n          (function(){\n            ${model.getScriptString()};\n          }.bind(item))()\n        }, 1);`;\n    // #873\n    // Adding setTimeout will make js components work on init of the editor\n    setTimeout(() => view.scriptContainer.appendChild(script), 0);\n  }\n}\n\n```. Not sure what you mean by without plugin.\nBut if you are talking about just the GrapesJS instance, you just need to initialize it in componentDidMount.\nSo for example:\nIn your render\nrender() {\n  return <div id=\"gjs\"></div>\n}\nIn componentDidMount\nconst editor = grapesjs.init({\n  // Indicate where to init the editor. You can also pass an HTMLElement\n  container: '#gjs',\n});\nSomething like that, normally it should work.. @JoeriAben did you try this? https://grapesjs.com/docs/modules/Components.html#improvement-over-addtype. ",
    "sbiwaichoon": "same issue here.if i have use that id in code, id change when(id-2)  reload template to grapejs (auto added \"-2\" to my id) ,\nif i dont use that id in any part of my code, is fine, id wont change. ",
    "jwilson-lyonscg": "Okay so after some more experimentation it appears my component structure is correct, but my button block was not working correctly. So the button block was like this:\nwindow.editor.BlockManager.add('button', {\n    attributes: {\n        class: 'fa fa-cube'\n    },\n    category: 'basic',\n    label: 'Button',\n    content: {\n        draggable: true,\n        droppable: true,\n        content: '<button type=\"button\" class=\"btn btn-primary\">Learn More</button>',\n    }\n});\nWhen dragging this block into the canvas, this did not get recognized as a button component. However when I changed it to this:\nwindow.editor.BlockManager.add('button', {\n    attributes: {\n        class: 'fa fa-cube'\n    },\n    category: 'basic',\n    label: 'Button',\n    content: '<button type=\"button\" class=\"btn btn-primary\">Learn More</button>',\n});\nThen it works fine. Is this a bug or is this by design? I can't find anything in the documentation about why it would work this way.. Nevermind. I was misunderstanding the syntax. I didn't realize that the onChange and the onValueChange are 2 different unrelated methods apparently. It's not clear to me what onChange does exactly.. ",
    "cgrio": "its a problem with css\n. "
}