{
    "rantav": "I added more stuff to this pull request (sorry, I couldn't find a way to create a completely new pull request):\nImplement a new layout strategy: GMGridViewLayoutHorizontalPagedLtr\nAnd add a few geometry translators that'll translate points and rectangles from the underlying scrollview to the desired view \n. I agree with your dislike of coupling the layout strategy and the\nrequirement to use pagingEnabled and zero spacing (minEdgeInsets). I hated\nmyself for having to write those lines of documentation and would be happy\nto remove them and 'just make it work'\nI have a few suggestions to solve that:\n1. The grid view would set paging and spacing automatically to the correct\nvalues in the case that the paged-layout strategy is selected. This would\n'make things just work' in the general sense, however might leave users\nwondering what's going on and why are their spacing settings aren't being\napplied if they happen to set them explicitly. This could be mitigated in\ndocumentation but who reads them? Another option is assert() in code in\ncase a user is trying to set the paging or spacing and use the paged-layout\nstrategy at the same time. This solution is asymmetric so it calls for\ngeneralization, not the prettiest design.\n2. Add two methods to the definition of GMGridViewLayoutStrategy -\npagingEnabled and minEdgeInsets and implement those in all the layout\nstrategies. At the same time, remove those two from GMGridView. This would\nmake things more explicit, but perhaps also a bit more 'bureaucratic'. They\nwould both have good defaults and allow users to override them at their own\nperil. What do you think?\nI'm happy to get your take on this.\nOn Mon, Nov 21, 2011 at 4:04 AM, Gulam Moledina <\nreply@reply.github.com\n\nwrote:\nThanks :)\nI looked into this and it's breaking the way the logic is separated right\nnow between the layoutStrategy classes and the main gridView class (for\nexample, the layout isn't supposed to know about any spacing).\nAlso, it requires users to enable paging themselves and all the other\nanimations when inserting/deleting items don't work for this layout.\nI think the paging should be automatically enabled based on the layout\nbeing used (a method in the layout class ?) and either keep all the spacing\nlogic in the layout classes or in the gridView.\nI've started to think about it, let me know if you have any suggestions !\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/pull/1#issuecomment-2810077\n\n\n/Ran\nhttp://tavory.com\n. cool, I hope to give it a spin the next coulpe of days (although\nI'm preoccupied with app store submission right now, but I'd like to spend\nsome cycles on the grid as well).\nYou know what could totally make me go for the latest grid version? that's\nright, you guessed right - iOS 4 support ;)\nOn Mon, Dec 12, 2011 at 2:56 AM, Gulam Moledina <\nreply@reply.github.com\n\nwrote:\nThanks! I have implemented a solution close to what we discussed.\nInstead of having the user control the pagingEnabled property of the\nscrollView, it is set automatically by the gridView depending on the\nlayoutStrategy.\nThe edgeInsets (minEdgeInsets and centerGrid) logic is moved to the layout\nclasses. The edgeInset is set on each page of the gridView (makes more\nsense); same applies to centerring the grid\".\nI just pushed the new code, let me know what you think.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/pull/1#issuecomment-3100951\n\n\n/Ran\nhttp://tavory.com\n. Awesome :)\nOn Dec 13, 2011 2:37 AM, \"Gulam Moledina\" \nreply@reply.github.com\nwrote:\n\nSupport for iOS 4 is 95% implemented :)\nWill do some more testing and profiling before I can push the code.\nGood luck with your release!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/pull/1#issuecomment-3116876\n. Mark, evidently when using nsfetchedresultscontroller then I get elements\nadded in positions that could be greater than numTotalItems. Could be my\nmistake so I'll need to verify and update the issue.\nI've been out of office for a few days and I will still be out for a few\nmore so I apologize that it's going to take a few days before I can report.\n\nOn Thursday, February 16, 2012, Mark Trubnikov wrote:\n\nI think it's ok.\nThat means that inserted index may be in range from 0 (beginning of the\ngridview) up to _numberTotalItems - that index corresponds to a new item at\nthe end of the gridview.\nAnything less than 0 or more than _numberTotalItems has no sense.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/48#issuecomment-4008302\n\n\n/Ran\nhttp://tavory.com\n. I checked again and it seems that when using NSFetchedResultsController, the method controller:didChangeObject:atIndexPath:forChangeType:newIndexPath: with type NSFetchedResultsChangeInsert, does not report the insertion in an ascending order.\nIt would indeed separately report the insertion of every new element in the results, but it would not do so in ascending order, so for example if you had 100 elements added the order might be 22, 44, 43, 98, 99, .... Strange, I know... maybe it's related to the way RestKit is loading objects in the background...\nThe documentation of NSFetchedResultsController doesn't clearly specify that it may or may not report insertion of new elements in specific order.\n. @gmoledina perhaps you should consider reopening the bug.\n@anujgakhar my solution was to bypass the problem in a bit of an uglyish way... I'll paste my code\n```\n- (void)controller:(NSFetchedResultsController )controller\n   didChangeObject:(id)anObject\n       atIndexPath:(NSIndexPath )indexPath\n     forChangeType:(NSFetchedResultsChangeType)type\n      newIndexPath:(NSIndexPath *)newIndexPath {\n  NSUInteger index = indexPath.row;\n  NSUInteger newIndex = newIndexPath.row;\n  switch(type) {\n    case NSFetchedResultsChangeInsert:\n      needsInserOfNewData = YES;\n      // doesn't work as ecpected... see https://github.com/gmoledina/GMGridView/issues/48\n      //[gmGridView insertObjectAtIndex:newIndex];\n      [self hideEmpty];\n      break;\n    case NSFetchedResultsChangeDelete:\n      [gmGridView removeObjectAtIndex:index];\n      break;\n    case NSFetchedResultsChangeUpdate:\n      [gmGridView reloadObjectAtIndex:index];\n      break;\n    case NSFetchedResultsChangeMove:\n      [gmGridView swapObjectAtIndex:index withObjectAtIndex:newIndex]; \n      break;\n  }\n}\n\n(void)controllerDidChangeContent:(NSFetchedResultsController *)controller {\n  if (needsInserOfNewData) {\n    [gmGridView reloadData];\n  }\n  needsInserOfNewData = NO;\n}\n```\n\nIn particular, pay attention to the use of needsInserOfNewData\n. I added more stuff to this pull request (sorry, I couldn't find a way to create a completely new pull request):\nImplement a new layout strategy: GMGridViewLayoutHorizontalPagedLtr\nAnd add a few geometry translators that'll translate points and rectangles from the underlying scrollview to the desired view \n. I agree with your dislike of coupling the layout strategy and the\nrequirement to use pagingEnabled and zero spacing (minEdgeInsets). I hated\nmyself for having to write those lines of documentation and would be happy\nto remove them and 'just make it work'\nI have a few suggestions to solve that:\n1. The grid view would set paging and spacing automatically to the correct\nvalues in the case that the paged-layout strategy is selected. This would\n'make things just work' in the general sense, however might leave users\nwondering what's going on and why are their spacing settings aren't being\napplied if they happen to set them explicitly. This could be mitigated in\ndocumentation but who reads them? Another option is assert() in code in\ncase a user is trying to set the paging or spacing and use the paged-layout\nstrategy at the same time. This solution is asymmetric so it calls for\ngeneralization, not the prettiest design.\n2. Add two methods to the definition of GMGridViewLayoutStrategy -\npagingEnabled and minEdgeInsets and implement those in all the layout\nstrategies. At the same time, remove those two from GMGridView. This would\nmake things more explicit, but perhaps also a bit more 'bureaucratic'. They\nwould both have good defaults and allow users to override them at their own\nperil. What do you think?\nI'm happy to get your take on this.\nOn Mon, Nov 21, 2011 at 4:04 AM, Gulam Moledina <\nreply@reply.github.com\n\nwrote:\nThanks :)\nI looked into this and it's breaking the way the logic is separated right\nnow between the layoutStrategy classes and the main gridView class (for\nexample, the layout isn't supposed to know about any spacing).\nAlso, it requires users to enable paging themselves and all the other\nanimations when inserting/deleting items don't work for this layout.\nI think the paging should be automatically enabled based on the layout\nbeing used (a method in the layout class ?) and either keep all the spacing\nlogic in the layout classes or in the gridView.\nI've started to think about it, let me know if you have any suggestions !\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/pull/1#issuecomment-2810077\n\n\n/Ran\nhttp://tavory.com\n. cool, I hope to give it a spin the next coulpe of days (although\nI'm preoccupied with app store submission right now, but I'd like to spend\nsome cycles on the grid as well).\nYou know what could totally make me go for the latest grid version? that's\nright, you guessed right - iOS 4 support ;)\nOn Mon, Dec 12, 2011 at 2:56 AM, Gulam Moledina <\nreply@reply.github.com\n\nwrote:\nThanks! I have implemented a solution close to what we discussed.\nInstead of having the user control the pagingEnabled property of the\nscrollView, it is set automatically by the gridView depending on the\nlayoutStrategy.\nThe edgeInsets (minEdgeInsets and centerGrid) logic is moved to the layout\nclasses. The edgeInset is set on each page of the gridView (makes more\nsense); same applies to centerring the grid\".\nI just pushed the new code, let me know what you think.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/pull/1#issuecomment-3100951\n\n\n/Ran\nhttp://tavory.com\n. Awesome :)\nOn Dec 13, 2011 2:37 AM, \"Gulam Moledina\" \nreply@reply.github.com\nwrote:\n\nSupport for iOS 4 is 95% implemented :)\nWill do some more testing and profiling before I can push the code.\nGood luck with your release!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/pull/1#issuecomment-3116876\n. Mark, evidently when using nsfetchedresultscontroller then I get elements\nadded in positions that could be greater than numTotalItems. Could be my\nmistake so I'll need to verify and update the issue.\nI've been out of office for a few days and I will still be out for a few\nmore so I apologize that it's going to take a few days before I can report.\n\nOn Thursday, February 16, 2012, Mark Trubnikov wrote:\n\nI think it's ok.\nThat means that inserted index may be in range from 0 (beginning of the\ngridview) up to _numberTotalItems - that index corresponds to a new item at\nthe end of the gridview.\nAnything less than 0 or more than _numberTotalItems has no sense.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/48#issuecomment-4008302\n\n\n/Ran\nhttp://tavory.com\n. I checked again and it seems that when using NSFetchedResultsController, the method controller:didChangeObject:atIndexPath:forChangeType:newIndexPath: with type NSFetchedResultsChangeInsert, does not report the insertion in an ascending order.\nIt would indeed separately report the insertion of every new element in the results, but it would not do so in ascending order, so for example if you had 100 elements added the order might be 22, 44, 43, 98, 99, .... Strange, I know... maybe it's related to the way RestKit is loading objects in the background...\nThe documentation of NSFetchedResultsController doesn't clearly specify that it may or may not report insertion of new elements in specific order.\n. @gmoledina perhaps you should consider reopening the bug.\n@anujgakhar my solution was to bypass the problem in a bit of an uglyish way... I'll paste my code\n```\n- (void)controller:(NSFetchedResultsController )controller\n   didChangeObject:(id)anObject\n       atIndexPath:(NSIndexPath )indexPath\n     forChangeType:(NSFetchedResultsChangeType)type\n      newIndexPath:(NSIndexPath *)newIndexPath {\n  NSUInteger index = indexPath.row;\n  NSUInteger newIndex = newIndexPath.row;\n  switch(type) {\n    case NSFetchedResultsChangeInsert:\n      needsInserOfNewData = YES;\n      // doesn't work as ecpected... see https://github.com/gmoledina/GMGridView/issues/48\n      //[gmGridView insertObjectAtIndex:newIndex];\n      [self hideEmpty];\n      break;\n    case NSFetchedResultsChangeDelete:\n      [gmGridView removeObjectAtIndex:index];\n      break;\n    case NSFetchedResultsChangeUpdate:\n      [gmGridView reloadObjectAtIndex:index];\n      break;\n    case NSFetchedResultsChangeMove:\n      [gmGridView swapObjectAtIndex:index withObjectAtIndex:newIndex]; \n      break;\n  }\n}\n\n(void)controllerDidChangeContent:(NSFetchedResultsController *)controller {\n  if (needsInserOfNewData) {\n    [gmGridView reloadData];\n  }\n  needsInserOfNewData = NO;\n}\n```\n\nIn particular, pay attention to the use of needsInserOfNewData\n. ",
    "gmoledina": "Thanks :)\nI looked into this and it's breaking the way the logic is separated right now between the layoutStrategy classes and the main gridView class (for example, the layout isn't supposed to know about any spacing).\nAlso, it requires users to enable paging themselves and all the other animations when inserting/deleting items don't work for this layout.\nI think the paging should be automatically enabled based on the layout being used (a method in the layout class ?) and either keep all the spacing logic in the layout classes or in the gridView.\nI've started to think about it, let me know if you have any suggestions !\n. Thanks! I have implemented a solution close to what we discussed.\nInstead of having the user control the pagingEnabled property of the scrollView, it is set automatically by the gridView depending on the layoutStrategy.\nThe edgeInsets (minEdgeInsets and centerGrid) logic is moved to the layout classes. The edgeInset is set on each page of the gridView (makes more sense); same applies to centerring the grid\".\nI just pushed the new code, let me know what you think.\n. Support for iOS 4 is 95% implemented :)\nWill do some more testing and profiling before I can push the code.\nGood luck with your release!\n. Thanks !\n. The goal of the grid view was not to replicate the iOS springboard; but I agree that supporting folders would be nice.\nI think the challenge would be to allow adding/removing/sorting the items in and out of the folders.\nAny implementation suggestions ?\n. Thanks freerunnering & KleMiX.\nDo you think moving items from inside the folder to outside is a requirement ? Because that would be complicated if we handle the content of the folder as a separate grid view.\nAnd if we handle the content of the folder just like a regular view, then we only have to implement the animation of opening/closing a folder, which doesn't have to be part of the grid view code as I think it's more specific to the app behaviour ...\nWhat do you guys think ?\n. Alright, so folders are out of scope for me; unless you have a good implementation.\n. Thanks for the nice comment johnnyd.\nI didn't think there would be a need to subclass the cell itself; but yeah I'll take some time to document as you suggested.\n. I had tried it but then when switching tabs (from the tab controller), the animations would stop and not continue.\nI'll try some other animation code to see if there's a different behaviour. \n. Done!\n. Thanks!\n. It is suppose to work. In fact, just changing the dataSource will automatically call the reloadData method.\nYou can show me some code and I can help you figure it out.\n. I'll consider this issue fixed as I didn't get any reply. Feel free to re-open an issue if the problem persists.\n. I will create a demo3 in the demo app:\n- the controller will have 2 different arrays for the data\n- a UISegmentedControl will allow switching between the 2 arrays\n  Can you confirm this setup should reproduce the bug ?\nAlso, can you test with the develop branch as well ? Is the bug still there ? \n. I added a segmentedControl to switch content data in demo1 (in develop branch).\nWorks fine with me.\nWe'll check this issue again after merging all develop branch in master branch.\n. Thanks for the additional info on the bug !\nIf I'm not mistaken, @steipete fixed this in the develop branch by removing the reused cell from the array before the animation block. Can you confirm Peter ?\n. Alright, we'll look into this!\n. Great! Thank you very much.\nDefining the gm_weak is a very elegant solution.\nAbout the gesture recognizer, I fixed it by changing your code this way :\nfor (UIGestureRecognizer gestureRecognizer in _scrollView.gestureRecognizers) \n { \n        if ([gestureRecognizer  isKindOfClass:NSClassFromString(@\"UIScrollViewPanGestureRecognizer\")]) \n        {\n             panGestureRecognizer = (UIPanGestureRecognizer ) gestureRecognizer;\n             break;\n        }\n}\nWorks fine now.\nI'll look into the layout strategy issue that you mentioned, although it seems to be working fine.\nI already pulled your code on my local repo. I'll do some more testing and push it on github in a few days.\nThanks again!\n. Merged\n. I agree. We can ignore the tap gesture in the gestureRecognizerShouldBegin: method.\nI'm just not sure what's the elegant way to know if the scrollview is scrolling (or has just stopped scrolling).\n. Merged\n. I checked on the Photos app from Apple and the cells are faded with the background color during the rotation.\nWe could implement the same and see the result. It would be as easy as registering for a UIApplicationWillChangeStatusBarOrientationNotification and UIApplicationDidChangeStatusBarOrientationNotification. In the callback of each of these notifications, get all the cells and apply an alpha value on them.\nWhat do you think? Any better solution in mind ?\n. Merged\nLooks awesome.\n. I would suggest using the reloadCellAtIndex method if the cell has to be changed.\nIf it is just to add custom stuff on the current cell, then yes we can add a cellForItemAtIndex method, should be pretty straight forward (getting the cell at a specific index just like the deleteCellAtIndex: method and just returning it instead of deleting it).\nI can add it but only later tonight.\n. To get the origin of a cell, you can already go through the layout strategy (gridView.layoutStrategy originForItemAtIndex:)\n. Yeah I'm ok with having a cellForItemAtIndex function. As I mentioned, the implementation of this method should be pretty straight fwd.\n. Merged\n. Not anymore! I saw it a few days ago but looks perfect now. Do you still see it ?\n. Great !!\n. Like.\nAlso, I'll see if I can remove some code from the layoutSubviews completely and add them in the callbacks we'll get when a rotation occurs\n. Line 1002\nThe animation block with duration 0 (with the override duration option) is very important to fix a glitch. \nTry sorting a cell, go near the edges and it will start scrolling by itself; if you don't have this animation block then the new cells that are created have their frame animated across the screen.\nHad to put this code back. If you have a better solution to make sure a frame is not animated, let me know.\n. Merged\n. Done! In the dev branch for now, soon in the master.\n. Yup I'm able to reproduce it. Will be fixed soon.\n. Next in my list ! \nOut of curiosity, what's this app? Already in the appStore?\n. It's now fixed in the master branch.\nThank you all for sharing all the code !\n. I would rename _setup to something like commonInit as even private methods in the class do not have underscores as  prefix.\nI'm not very familiar with storyboards; do theses changes also allow using the grid with storyboards ? \nI'll also create a Demo3 using interface builder in the demo app.\n. Nope we'll do it. As we change the structure of the all the files so we won't be able to just merge it automatically anyway.\nThanks!\n. Yes will definitely look into it and add the new method.\nThanks!\n. Yes the grid does not support different sizes per cell; it's just a grid.\nSupport for different sizes per orientation will be added soon though.\n. Nice! One other way would be to have blocks in the layoutStrategy classes to compute the cellSizes. So the grid would set the block of the layout strategy and in it's implementation, call the datasource. The layout would just run the block to get the cellSize for each cell whenever needed; this way, the layout strategy doesn't know anything about the data source.\nHow are the cells aligned at the end of the scroll ?\n. Just one header for the entire grid (with the benefit of scrolling with the grid content) or header per section ?\n. It only seems to make sense for the Vertical Strategy. Looks weird for Horizontal strategies, specially the paged ones.\n. Sure no problem. I was thinking of a solution in the same direction as the layout strategy idea; as in giving the user control on how to position the header. So the core code doesn't has no logic about specifics headerView positioning behavior.\nI like Markus's implementation of the headerview, that could be the headerViewContainer. And then the user can set any other view responding to a protocol with callbacks for when the scroll is scrolled for example, so the user can choose the reposition it's own headerView if needed.\nThe method to set the headerView could be setHeaderView:withSuggestedSize:\nIn the case of vertical layout, the headerView width will be that of the scroll frame and the height will be the above specified parameter. In the case of horizontal layout, the height will be that of the scroll frame and the width will be the above specified parameter.\nWhat do you think? Is it overkill ?\n. We'll merge the develop branch in the master one soon... just a few details to sort out first.\nYou wouldnt advice using the develop branch as we might change the APIs and that might just piss you off ;)\n. @steipete maybe we just need one API to reload the datasource metadata only ? As reloading the entire grid will force the destruction/creation of all the cells and the grid will scroll to top.\nSo with the API, only the contentSize of the scroll will change and the new cells will be lazy loaded as usual.\n. True. \nCheckout the new segmentedControl in demo1 (in develop branch for now); reloadData works fine.\n. Also, the component now inherits from UISrollView; so you can set yourself as it's scrollViewDelegate and catch all the scrolling events.\n(Still in develop branch for now)\n. I'm looking into this!\n. Indeed there was a bug!\nThe correct formula is as simple as :\n_contentSize = CGSizeMake(bounds.size.width * self.numberOfPages, bounds.size.height);\nIt has been fixed in the develop branch. Soon to be in the master branch.\nThank you very much !\n. Hi Maverick1st,\nI'm unable to reproduce the problem you described. I set a breakpoint in demo1ViewController.m at the presentInfo method so that whenever I hit the i button, I can output the content of that _data ivar in the console (po _data).\nAnd the output is always similar to the labels of the cells in the grid; whether I do sort the elements or not.\nAre you able to reproduce the bug with the demo app ? I'm not.\n. No problem. \nYes the order of the subviews in the grid (which is a UIView) are not ordered ( I assume you are call the subviews method).\nThe whole grid argument doesn't require the subviews to be ordered (we use the view tags) so ordering the subviews will just be a more process.\nIf you really need the subviews to be ordered at some point in your code, you can easily do so with the sortedArrayUsingComparator method of NSArray (just compare the tags of the views you get from the subviews method).\nLet me know if you need more help.\n. Thanks @scompt !\nWe are going to make a big change in the component : instead of the grid inheriting from a UIView, it will inherit from UIScrollView. Also, we'll try for the class not to be the delegate of the UIScrollView, so that any 3rd party class can be the scroll delegate and implement any custom features they want.\nSo I would suggest to just wait a little bit for us to make the change.\nDo you agree that this change will make it easy for you to add the pull to reload feature ?\n. Done ! (in develop branch)\nThe component now inherits form UIScrollView and does not set itself as the scrollView delegate.\nLet me know if there's any problem.\n. Finally the dev branch has been merged in master. The component now inherits from UIScrollView, so you can implement pull to reload if you wish. Furthermore, you can also set yourself as the scrollview delegate !\n. Yes I understood the problem you described. I'll look into it !\nThanks @kssaboo \n. We will be using the static library way that you mentioned in future \"releases\". The code is already this way in the develop branch; the master branch will be updated soon when features in dev are ready.\n. Good catch! Thank you.\n. Thanks for the nice sample project @soleares \n@majinbigor , yeah it's probably your project that is not ARC enabled. Try this in Xcode (before adding the grid classes) : Edit > Refactor > Convert to Objective C ARC. \n. Merged it in the develop branch.\nThanks !\n. Thanks @dennda \nBut we have added this in the develop branch that will soon be merged in the master.\nCan you check it out and see if it works out for you?\n. It's split in two because you don't need the demo code for your own project.\nIn your App workspace, just use the GMGridView project (not the whole Example workspace).\n. Thanks!\n. Thanks!\n. The very first step would be to change the delegate method used for getting the size of cells by adding a cell index parameter. Then you'll have to find a way for the layoutStrategy to query the delegate to get the sizes for each index (via a block maybe?). And then comes the hard part: changing the entire algorithm in the layoutStrategy classes for the positioning of cells, detection of touches and the range of cells to load based on how many are visible. Furthermore, you'll also have to change the sorting code that allows sorting with a finger.\nGood luck! It's a challenge.\nNo I dont intend on working on this as I dont think it's a feature a grid should support. It's more like a collage/scrapbook.\n. A lot of the internal logic depends on all the cells having the same sizes. And I don't think it's a feature a grid view should support (if items have different sizes, it's not a grid anymore).\nIf you guys have a clean solution for this, a pull request is more than welcome :)\n. Thanks for the update @ZebtinRis \nYeah let me know when u're done, I'll def. hv a look.\n. No there's no way to specify a background per column/row.\nI'll have to try this and see if there's anything we can improve to make it more performant.\nDo you need the background to follow the scroll? Cant it be on a UIView under the Grid ? Only difference being that it will not move when the grid is scrolled.\n. Yup will definitely try to add these methods !\nI'll be using the gridview in the exact same context as you so I'll be needing these methods too. \nIn the meantime, you can set yourself as the scroll delegate of the grid (the grid inherits from UIScrollView - in develop branch) and when you get the callback that the scrollview has stopped scrolling, you could check which cell is displayed based on their frame and the scroll's contentOffset (yes this is a very temporary solution).\n. Thanks @Bringo. I'll review this with the new code base and merge.\n. As @mtrubnikov said, I don't think there's a mistake there.\n. @bobbypage  I'm not sure I understand what's need to be done in order to achieve the desired result. Doesn't the grid already support this ?\n@rickytan are you still experiencing the bug ?\n. @rickytan are you using the latest code version ? I think this was fixed a few weeks ago. The code has changed and _contentSize isn't set in the rebase method directly.\n. Thanks @seboslaw.\nYeah, the springboard behaviour is not replicable with the current codebase.\nThere's probably a way to do it easily. I'll think of it when I can. Feel free to pull-request if you get around to implement it.\n. I really don't think we should handle this level of detail for the spacing as it will get hard to manage. Later we might even need different spacing per orientation too, and it just gets too much.\nI suggest the grid only handles the minimum and the when creating the cell, you can play with your own subviews and layers and add more spacing if required.\n. Dev branch was merged on master. This has been resolved.\nThanks !\n. Fixed. Thanks !\n. Great !\nI'll take some time to read the docs you mentioned and tag the codebase.\nThanks.\n. Hi there !\nI'm glad the component is working out for you.\n1-/ Are you reusing the cells ?\n     - if no, you should\n     - if yes, are you removing the older image before adding the new one ?\n2-/ How gib are your images ?\n. When you use smaller images, your app still crashes bcoz of memory warning ?\nAre you sure it's a memory warning crash ?\nAs for your 2nd question, there isn't a method to go fullscreen for a specific item but it should be done.\nIf you implement it, feel free to send a pull request. Otherwise I'll probably do it in a few weeks.\n. Yeah it used to be animated, it's a regression. It bugs me too so I'll do it soon.\nYou can open a new issue if you wish to follow up on this. I'll close this one as the original question was answered.\n. Thanks !\n. Wouldn't you want to load the data of each cell separately ? What happens when you scroll otherwise ? You fetch the new data and then reload the grid ?\nIf you really need to do it this way, we could have a way to force-reloadData. But it seems that each cell data should be handled separately and so as soon as the data of a specific cell is available, only that cell gets reloaded.\n. As explained by @mwyman, you can keep the reference to the cell.\nAnother approach would be to just keep the index of the cell and then call the cellForItemAtIndex: method (of the grid class, not talking about the delegate method) that will only return the cell if it hasn't been recycled.\nI will add an example in the demo app eventually. You can create a new issue for the performance related concerns.\n. Waiting for outcome of discussion in issue 65\n. As discussed, revert not needed.\n. Definitely.\n. Thanks for your explanation @mwyman !\n. Apologies from everyone for the \"turn-off\".\nIt was a glitch introduced by the latest optimization, it has been reverted.\nFor the items not matching the previously visible ones, it's simply because of the items changing their sizes per orientation and the number of items per row being different per orientation, you just can't have the exact same cells.\nIf you have a good fix for this, you can send a pull-request. \nThanks for the bug report and videos.\n. Thanks @KingOfBrian ! I'll check this out this weekend and let you know.\n. Good catch ! Thanks @jfmorin.\nI'll add this in the code and close the issue once I push the changes (this weekend).\n. Thanks @rasmusth \nUsing the NSFetchedResultsController in the datasource class shouldn't cause any issue.\nDo you experience the same behaviour as in the demo code ? The page doesn't change when you are still moving the cell; it does so only once you are done moving it.\n. The grid inherits from UIScrollView so you can set all the UIScrollView properties you want. More specifically, you need to set alwaysBounceVertical  and  alwaysBounceHorizontal to YES.\n. Thanks :)\nI looked into this and it's breaking the way the logic is separated right now between the layoutStrategy classes and the main gridView class (for example, the layout isn't supposed to know about any spacing).\nAlso, it requires users to enable paging themselves and all the other animations when inserting/deleting items don't work for this layout.\nI think the paging should be automatically enabled based on the layout being used (a method in the layout class ?) and either keep all the spacing logic in the layout classes or in the gridView.\nI've started to think about it, let me know if you have any suggestions !\n. Thanks! I have implemented a solution close to what we discussed.\nInstead of having the user control the pagingEnabled property of the scrollView, it is set automatically by the gridView depending on the layoutStrategy.\nThe edgeInsets (minEdgeInsets and centerGrid) logic is moved to the layout classes. The edgeInset is set on each page of the gridView (makes more sense); same applies to centerring the grid\".\nI just pushed the new code, let me know what you think.\n. Support for iOS 4 is 95% implemented :)\nWill do some more testing and profiling before I can push the code.\nGood luck with your release!\n. Thanks !\n. The goal of the grid view was not to replicate the iOS springboard; but I agree that supporting folders would be nice.\nI think the challenge would be to allow adding/removing/sorting the items in and out of the folders.\nAny implementation suggestions ?\n. Thanks freerunnering & KleMiX.\nDo you think moving items from inside the folder to outside is a requirement ? Because that would be complicated if we handle the content of the folder as a separate grid view.\nAnd if we handle the content of the folder just like a regular view, then we only have to implement the animation of opening/closing a folder, which doesn't have to be part of the grid view code as I think it's more specific to the app behaviour ...\nWhat do you guys think ?\n. Alright, so folders are out of scope for me; unless you have a good implementation.\n. Thanks for the nice comment johnnyd.\nI didn't think there would be a need to subclass the cell itself; but yeah I'll take some time to document as you suggested.\n. I had tried it but then when switching tabs (from the tab controller), the animations would stop and not continue.\nI'll try some other animation code to see if there's a different behaviour. \n. Done!\n. Thanks!\n. It is suppose to work. In fact, just changing the dataSource will automatically call the reloadData method.\nYou can show me some code and I can help you figure it out.\n. I'll consider this issue fixed as I didn't get any reply. Feel free to re-open an issue if the problem persists.\n. I will create a demo3 in the demo app:\n- the controller will have 2 different arrays for the data\n- a UISegmentedControl will allow switching between the 2 arrays\n  Can you confirm this setup should reproduce the bug ?\nAlso, can you test with the develop branch as well ? Is the bug still there ? \n. I added a segmentedControl to switch content data in demo1 (in develop branch).\nWorks fine with me.\nWe'll check this issue again after merging all develop branch in master branch.\n. Thanks for the additional info on the bug !\nIf I'm not mistaken, @steipete fixed this in the develop branch by removing the reused cell from the array before the animation block. Can you confirm Peter ?\n. Alright, we'll look into this!\n. Great! Thank you very much.\nDefining the gm_weak is a very elegant solution.\nAbout the gesture recognizer, I fixed it by changing your code this way :\nfor (UIGestureRecognizer gestureRecognizer in _scrollView.gestureRecognizers) \n { \n        if ([gestureRecognizer  isKindOfClass:NSClassFromString(@\"UIScrollViewPanGestureRecognizer\")]) \n        {\n             panGestureRecognizer = (UIPanGestureRecognizer ) gestureRecognizer;\n             break;\n        }\n}\nWorks fine now.\nI'll look into the layout strategy issue that you mentioned, although it seems to be working fine.\nI already pulled your code on my local repo. I'll do some more testing and push it on github in a few days.\nThanks again!\n. Merged\n. I agree. We can ignore the tap gesture in the gestureRecognizerShouldBegin: method.\nI'm just not sure what's the elegant way to know if the scrollview is scrolling (or has just stopped scrolling).\n. Merged\n. I checked on the Photos app from Apple and the cells are faded with the background color during the rotation.\nWe could implement the same and see the result. It would be as easy as registering for a UIApplicationWillChangeStatusBarOrientationNotification and UIApplicationDidChangeStatusBarOrientationNotification. In the callback of each of these notifications, get all the cells and apply an alpha value on them.\nWhat do you think? Any better solution in mind ?\n. Merged\nLooks awesome.\n. I would suggest using the reloadCellAtIndex method if the cell has to be changed.\nIf it is just to add custom stuff on the current cell, then yes we can add a cellForItemAtIndex method, should be pretty straight forward (getting the cell at a specific index just like the deleteCellAtIndex: method and just returning it instead of deleting it).\nI can add it but only later tonight.\n. To get the origin of a cell, you can already go through the layout strategy (gridView.layoutStrategy originForItemAtIndex:)\n. Yeah I'm ok with having a cellForItemAtIndex function. As I mentioned, the implementation of this method should be pretty straight fwd.\n. Merged\n. Not anymore! I saw it a few days ago but looks perfect now. Do you still see it ?\n. Great !!\n. Like.\nAlso, I'll see if I can remove some code from the layoutSubviews completely and add them in the callbacks we'll get when a rotation occurs\n. Line 1002\nThe animation block with duration 0 (with the override duration option) is very important to fix a glitch. \nTry sorting a cell, go near the edges and it will start scrolling by itself; if you don't have this animation block then the new cells that are created have their frame animated across the screen.\nHad to put this code back. If you have a better solution to make sure a frame is not animated, let me know.\n. Merged\n. Done! In the dev branch for now, soon in the master.\n. Yup I'm able to reproduce it. Will be fixed soon.\n. Next in my list ! \nOut of curiosity, what's this app? Already in the appStore?\n. It's now fixed in the master branch.\nThank you all for sharing all the code !\n. I would rename _setup to something like commonInit as even private methods in the class do not have underscores as  prefix.\nI'm not very familiar with storyboards; do theses changes also allow using the grid with storyboards ? \nI'll also create a Demo3 using interface builder in the demo app.\n. Nope we'll do it. As we change the structure of the all the files so we won't be able to just merge it automatically anyway.\nThanks!\n. Yes will definitely look into it and add the new method.\nThanks!\n. Yes the grid does not support different sizes per cell; it's just a grid.\nSupport for different sizes per orientation will be added soon though.\n. Nice! One other way would be to have blocks in the layoutStrategy classes to compute the cellSizes. So the grid would set the block of the layout strategy and in it's implementation, call the datasource. The layout would just run the block to get the cellSize for each cell whenever needed; this way, the layout strategy doesn't know anything about the data source.\nHow are the cells aligned at the end of the scroll ?\n. Just one header for the entire grid (with the benefit of scrolling with the grid content) or header per section ?\n. It only seems to make sense for the Vertical Strategy. Looks weird for Horizontal strategies, specially the paged ones.\n. Sure no problem. I was thinking of a solution in the same direction as the layout strategy idea; as in giving the user control on how to position the header. So the core code doesn't has no logic about specifics headerView positioning behavior.\nI like Markus's implementation of the headerview, that could be the headerViewContainer. And then the user can set any other view responding to a protocol with callbacks for when the scroll is scrolled for example, so the user can choose the reposition it's own headerView if needed.\nThe method to set the headerView could be setHeaderView:withSuggestedSize:\nIn the case of vertical layout, the headerView width will be that of the scroll frame and the height will be the above specified parameter. In the case of horizontal layout, the height will be that of the scroll frame and the width will be the above specified parameter.\nWhat do you think? Is it overkill ?\n. We'll merge the develop branch in the master one soon... just a few details to sort out first.\nYou wouldnt advice using the develop branch as we might change the APIs and that might just piss you off ;)\n. @steipete maybe we just need one API to reload the datasource metadata only ? As reloading the entire grid will force the destruction/creation of all the cells and the grid will scroll to top.\nSo with the API, only the contentSize of the scroll will change and the new cells will be lazy loaded as usual.\n. True. \nCheckout the new segmentedControl in demo1 (in develop branch for now); reloadData works fine.\n. Also, the component now inherits from UISrollView; so you can set yourself as it's scrollViewDelegate and catch all the scrolling events.\n(Still in develop branch for now)\n. I'm looking into this!\n. Indeed there was a bug!\nThe correct formula is as simple as :\n_contentSize = CGSizeMake(bounds.size.width * self.numberOfPages, bounds.size.height);\nIt has been fixed in the develop branch. Soon to be in the master branch.\nThank you very much !\n. Hi Maverick1st,\nI'm unable to reproduce the problem you described. I set a breakpoint in demo1ViewController.m at the presentInfo method so that whenever I hit the i button, I can output the content of that _data ivar in the console (po _data).\nAnd the output is always similar to the labels of the cells in the grid; whether I do sort the elements or not.\nAre you able to reproduce the bug with the demo app ? I'm not.\n. No problem. \nYes the order of the subviews in the grid (which is a UIView) are not ordered ( I assume you are call the subviews method).\nThe whole grid argument doesn't require the subviews to be ordered (we use the view tags) so ordering the subviews will just be a more process.\nIf you really need the subviews to be ordered at some point in your code, you can easily do so with the sortedArrayUsingComparator method of NSArray (just compare the tags of the views you get from the subviews method).\nLet me know if you need more help.\n. Thanks @scompt !\nWe are going to make a big change in the component : instead of the grid inheriting from a UIView, it will inherit from UIScrollView. Also, we'll try for the class not to be the delegate of the UIScrollView, so that any 3rd party class can be the scroll delegate and implement any custom features they want.\nSo I would suggest to just wait a little bit for us to make the change.\nDo you agree that this change will make it easy for you to add the pull to reload feature ?\n. Done ! (in develop branch)\nThe component now inherits form UIScrollView and does not set itself as the scrollView delegate.\nLet me know if there's any problem.\n. Finally the dev branch has been merged in master. The component now inherits from UIScrollView, so you can implement pull to reload if you wish. Furthermore, you can also set yourself as the scrollview delegate !\n. Yes I understood the problem you described. I'll look into it !\nThanks @kssaboo \n. We will be using the static library way that you mentioned in future \"releases\". The code is already this way in the develop branch; the master branch will be updated soon when features in dev are ready.\n. Good catch! Thank you.\n. Thanks for the nice sample project @soleares \n@majinbigor , yeah it's probably your project that is not ARC enabled. Try this in Xcode (before adding the grid classes) : Edit > Refactor > Convert to Objective C ARC. \n. Merged it in the develop branch.\nThanks !\n. Thanks @dennda \nBut we have added this in the develop branch that will soon be merged in the master.\nCan you check it out and see if it works out for you?\n. It's split in two because you don't need the demo code for your own project.\nIn your App workspace, just use the GMGridView project (not the whole Example workspace).\n. Thanks!\n. Thanks!\n. The very first step would be to change the delegate method used for getting the size of cells by adding a cell index parameter. Then you'll have to find a way for the layoutStrategy to query the delegate to get the sizes for each index (via a block maybe?). And then comes the hard part: changing the entire algorithm in the layoutStrategy classes for the positioning of cells, detection of touches and the range of cells to load based on how many are visible. Furthermore, you'll also have to change the sorting code that allows sorting with a finger.\nGood luck! It's a challenge.\nNo I dont intend on working on this as I dont think it's a feature a grid should support. It's more like a collage/scrapbook.\n. A lot of the internal logic depends on all the cells having the same sizes. And I don't think it's a feature a grid view should support (if items have different sizes, it's not a grid anymore).\nIf you guys have a clean solution for this, a pull request is more than welcome :)\n. Thanks for the update @ZebtinRis \nYeah let me know when u're done, I'll def. hv a look.\n. No there's no way to specify a background per column/row.\nI'll have to try this and see if there's anything we can improve to make it more performant.\nDo you need the background to follow the scroll? Cant it be on a UIView under the Grid ? Only difference being that it will not move when the grid is scrolled.\n. Yup will definitely try to add these methods !\nI'll be using the gridview in the exact same context as you so I'll be needing these methods too. \nIn the meantime, you can set yourself as the scroll delegate of the grid (the grid inherits from UIScrollView - in develop branch) and when you get the callback that the scrollview has stopped scrolling, you could check which cell is displayed based on their frame and the scroll's contentOffset (yes this is a very temporary solution).\n. Thanks @Bringo. I'll review this with the new code base and merge.\n. As @mtrubnikov said, I don't think there's a mistake there.\n. @bobbypage  I'm not sure I understand what's need to be done in order to achieve the desired result. Doesn't the grid already support this ?\n@rickytan are you still experiencing the bug ?\n. @rickytan are you using the latest code version ? I think this was fixed a few weeks ago. The code has changed and _contentSize isn't set in the rebase method directly.\n. Thanks @seboslaw.\nYeah, the springboard behaviour is not replicable with the current codebase.\nThere's probably a way to do it easily. I'll think of it when I can. Feel free to pull-request if you get around to implement it.\n. I really don't think we should handle this level of detail for the spacing as it will get hard to manage. Later we might even need different spacing per orientation too, and it just gets too much.\nI suggest the grid only handles the minimum and the when creating the cell, you can play with your own subviews and layers and add more spacing if required.\n. Dev branch was merged on master. This has been resolved.\nThanks !\n. Fixed. Thanks !\n. Great !\nI'll take some time to read the docs you mentioned and tag the codebase.\nThanks.\n. Hi there !\nI'm glad the component is working out for you.\n1-/ Are you reusing the cells ?\n     - if no, you should\n     - if yes, are you removing the older image before adding the new one ?\n2-/ How gib are your images ?\n. When you use smaller images, your app still crashes bcoz of memory warning ?\nAre you sure it's a memory warning crash ?\nAs for your 2nd question, there isn't a method to go fullscreen for a specific item but it should be done.\nIf you implement it, feel free to send a pull request. Otherwise I'll probably do it in a few weeks.\n. Yeah it used to be animated, it's a regression. It bugs me too so I'll do it soon.\nYou can open a new issue if you wish to follow up on this. I'll close this one as the original question was answered.\n. Thanks !\n. Wouldn't you want to load the data of each cell separately ? What happens when you scroll otherwise ? You fetch the new data and then reload the grid ?\nIf you really need to do it this way, we could have a way to force-reloadData. But it seems that each cell data should be handled separately and so as soon as the data of a specific cell is available, only that cell gets reloaded.\n. As explained by @mwyman, you can keep the reference to the cell.\nAnother approach would be to just keep the index of the cell and then call the cellForItemAtIndex: method (of the grid class, not talking about the delegate method) that will only return the cell if it hasn't been recycled.\nI will add an example in the demo app eventually. You can create a new issue for the performance related concerns.\n. Waiting for outcome of discussion in issue 65\n. As discussed, revert not needed.\n. Definitely.\n. Thanks for your explanation @mwyman !\n. Apologies from everyone for the \"turn-off\".\nIt was a glitch introduced by the latest optimization, it has been reverted.\nFor the items not matching the previously visible ones, it's simply because of the items changing their sizes per orientation and the number of items per row being different per orientation, you just can't have the exact same cells.\nIf you have a good fix for this, you can send a pull-request. \nThanks for the bug report and videos.\n. Thanks @KingOfBrian ! I'll check this out this weekend and let you know.\n. Good catch ! Thanks @jfmorin.\nI'll add this in the code and close the issue once I push the changes (this weekend).\n. Thanks @rasmusth \nUsing the NSFetchedResultsController in the datasource class shouldn't cause any issue.\nDo you experience the same behaviour as in the demo code ? The page doesn't change when you are still moving the cell; it does so only once you are done moving it.\n. The grid inherits from UIScrollView so you can set all the UIScrollView properties you want. More specifically, you need to set alwaysBounceVertical  and  alwaysBounceHorizontal to YES.\n. ",
    "KleMiX": "The goal is not the springboard but a document interface like in iWork for iOS.\nScreenshot if you haven't seen that:\n\nHaven't looked in the code much, so sadly can't make any implementation suggestions. Maybe will have some time in future.\n. I think theres no point if you cant move items inside and outside.\n. The goal is not the springboard but a document interface like in iWork for iOS.\nScreenshot if you haven't seen that:\n\nHaven't looked in the code much, so sadly can't make any implementation suggestions. Maybe will have some time in future.\n. I think theres no point if you cant move items inside and outside.\n. ",
    "freerunnering": "Well SpringBoard does it by cheating a bit. It gets an image of the springboard view, splits it and adds a new icon list view to a full screen view.\nYou can see what I mean here:\n\nWhen the icon's contentView is zoomed out (the wallpaper is added to it's superview) you can see what happens with the folders here.\n\nNow you can see it's hidden the wallpaper and done it's own custom rendering of the gray style background then adds the folder.\nDon't really have much more to add but thought you might be interested in knowing a bit about SpringBoard.\n. Well mentioning an earlier point about managing what goes where, this is how iOS does it.\nhttp://iky1e.tumblr.com/post/11704062690/springboard-icon-layouts-iconstate-plist\nAlso that view I have zoomed out is the [[SBIconController sharedInstance] contentView]. To that the dock and scrollView is added. Then to the scrollView each page is an SBIconList and that's subviews are SBIcon's (as of iOS5 they are SBIconView's).\nNow when you start dragging the icon around it is added as the top most view of the contentView. The icon lists below just make room for it as if they were there based on its position.\nThe icon is, I think, only added to an icon list when it is dropped & after the animation has finished.\nI haven't had a need to use this library personally yet however I follow it and saw this issue on my homepage, as a result I don't know how this library differs from springboard. However I hope this information helps.\n. Well SpringBoard does it by cheating a bit. It gets an image of the springboard view, splits it and adds a new icon list view to a full screen view.\nYou can see what I mean here:\n\nWhen the icon's contentView is zoomed out (the wallpaper is added to it's superview) you can see what happens with the folders here.\n\nNow you can see it's hidden the wallpaper and done it's own custom rendering of the gray style background then adds the folder.\nDon't really have much more to add but thought you might be interested in knowing a bit about SpringBoard.\n. Well mentioning an earlier point about managing what goes where, this is how iOS does it.\nhttp://iky1e.tumblr.com/post/11704062690/springboard-icon-layouts-iconstate-plist\nAlso that view I have zoomed out is the [[SBIconController sharedInstance] contentView]. To that the dock and scrollView is added. Then to the scrollView each page is an SBIconList and that's subviews are SBIcon's (as of iOS5 they are SBIconView's).\nNow when you start dragging the icon around it is added as the top most view of the contentView. The icon lists below just make room for it as if they were there based on its position.\nThe icon is, I think, only added to an icon list when it is dropped & after the animation has finished.\nI haven't had a need to use this library personally yet however I follow it and saw this issue on my homepage, as a result I don't know how this library differs from springboard. However I hope this information helps.\n. ",
    "Maverick1st": "The Issue still exists.\nI have exactly the same problem.\nI am displaying several items (500) in the view. When i use a search to thin out the items to be displayed, my datasources content array is correctly updated, when i call reloadData, but in loadRequiredItems the for loop is not entered and therefore cellForItemAtIndex is not called.\nI hope you can find the bug with this info. I haven't found it yet. :(\nEDIT:\nIt seems, that rangeOfPositions is not calculated correctly\nEDIT:\nIt seems to me that the GmGridView variable is somehow \"forgetting\" its delgates and datasource.\nIf i set the delegates right before calling reloadData at least the rangeOfPositions is calculated. But the cells are not reduced to the number in the data array. :(\n. I had some problems downloading the development branch. Unfortunately my knowledge about github is rather small.\nAs far as i can say i could reproduce the bug with the current master branch in a Viewcontroller i created myself.\nCurrently i dont have more info than the one i provided you with, but i will look deeper into it if it helps.\nRegarding to your demo3. That should reproduce the bug. The bug occured everytime i changed the content of the data array. So this should be fine.\n. Have you yet found out what the error is, or how it can be fixed? And can you tell me, how i can switch to developers branch in github? Its only showing me the master branch. \nI'll look into it today, too. So maybe i can find something.\n. thx. Now i got it.\nUnfortunately the bug still occurs, after switching to the developers branch.\nBut in the Demo it works. I'll try to find out, why. Maybe i have done something wrong in my implementation of the delegatemethods.\n. Ok, After more testing i discovered, that the bug was an issue of using a xib instead implementing the view representing the GMGridView by code and too much copy and paste without thinking.\nThat way i accidentally created two gridviews, which was very hard to debug, because the second alloc init call of GMGridView was done by my xib and thus i got neither a log, nor an additional call of the methods, i had my logs in.\nI finally discovered it by scrolling \"over\" the scrollview content size and found that there was sitting a second GMGridView displaying the data i wanted.\nI'm sorry for all that confusion my error produced, but i might also be, that using the developers branch also had some part in getting this to work for me.\nAnyway, now i can use this supercalifragilisticexpialigetc framework!\nThanks to all of you for your patience and your support.\n. When will xib support be ready for the master branch?\nOr can i use the developers branch, too?\nReally nice piece of work btw. :)\n. I'll try. I'll let you know when i know sth new.\n. Sorry, it was my fault. My explanation was not very precise.\nIt is not the content array, which is resorting. But the order in the subviews of the grid.\nWhen i display the items in my grid, the order of subviews in the grid is equal to the order in the content array.\nAfter pressing long enough on one gridcell to trigger the sorting mode, and then lifting the finger back up without moving the gridcell, the view of the gridcell appears as last element in the subviews array of the gridview and not on the position in the subviews array where it has been before.\nI realize, that this is due to the effect of the sorting and then adding the view as subview to the gridview after lifting the finger up and disabling the sorting mode. \nMaybe its possible to save the position of the view to sort in an ivar and then add id to the subviews array on exactly the same position where it has been before entering the sorting mode.\n. You can also get the visible cells like this:\nCGPoint contentOffset = ((UIScrollView*)[[gridView subviews]objectAtIndex:0]).contentOffset;\n for (GMGridViewCell *view in [[[gridView subviews]objectAtIndex:0] subviews])\n {\n     ...\n }\nBut everytime you enter sorting mode the cells order seems to change in the subviews array. So this is not best solution. I'll try to make itemSubviews public and see if its better for my purpose.\nMaybe I'll create a getCellsInRange Method or something like that, where you can also get a smaller amount of cells than the visible ones. Could be useful for some fancy animations. :)\nbtw. How do i make code tags in a comment?\n. I am also trying to get the preview for the case, that a page size should be smaller than the bounds of the gridview.\nUnfortunately i always get a gap between pages, when the gridview for example is half a row larger than the size of the pages i want to slide through.\nI tried reducing the pagesize, but that did only result in a white gap.\nI thought i must set the page-size in rectForPoint: but that method is only called once and seems to have no further influence.\nI would really be glad, if someone could push me in the right direction.\nIt shouldn't be so hard to make the displayed content larger than the page-size, but somehow I'm to blind to see it :(\n. I'd be interested in this, too. Would be great to have it in GM-GridView\n. Here is the code for strategyLayoutVerticalPaged with LTR.\nI did basically just copy and paste the horizontal paged strategy and changed direction of scrolling and displaying content.\nNext Step I'll integrate a trigger to show the content which is out of the page, for smoother paging without gaps.\nHope this helps someone.\nGMGridViewLayoutStrategies.h\n``` objective-c\n@interface GMGridViewLayoutVerticalStrategyPaged : GMGridViewLayoutVerticalStrategy\n{\n    NSInteger numberOfItemsPerColumn;\n    NSInteger _numberOfItemsPerPage;\n    NSInteger _numberOfPages;\n}\n@property (nonatomic, readonly) NSInteger numberOfItemsPerColumn;\n@property (nonatomic, readonly) NSInteger numberOfItemsPerPage;\n@property (nonatomic, readonly) NSInteger numberOfPages;\n// Only these 3 methods have be reimplemented by child classes to change the LTR and TTB kind of behavior\n- (NSInteger)positionForItemAtColumn:(NSInteger)column row:(NSInteger)row page:(NSInteger)page;\n- (NSInteger)columnForItemAtPosition:(NSInteger)position;\n- (NSInteger)rowForItemAtPosition:(NSInteger)position;\n@end\n//////////////////////////////////////////////////////////////\npragma mark -\npragma mark - VerticalPagedLTR strategy implementation\n//////////////////////////////////////////////////////////////\n@interface GMGridViewLayoutVerticalPagedLTRStrategy : GMGridViewLayoutVerticalStrategyPaged\n@end\n```\nGMGridViewLayoutStrategies.m\n``` objective-c\n//////////////////////////////////////////////////////////////\npragma mark -\npragma mark - VerticalPagedLTR strategy implementation\n//////////////////////////////////////////////////////////////\n@implementation GMGridViewLayoutVerticalStrategyPaged\n@synthesize numberOfItemsPerPage = _numberOfItemsPerPage;\n@synthesize numberOfItemsPerColumn = _numberOfItemsPerColumn;\n@synthesize numberOfPages        = _numberOfPages;\n\n\n(BOOL)requiresEnablingPaging\n{\n    return YES;\n}\n\n\n(void)rebaseWithItemCount:(NSInteger)count insideOfBounds:(CGRect)bounds\n{\n    [super rebaseWithItemCount:count insideOfBounds:bounds];\n_numberOfItemsPerColumn = 1;\nNSInteger gridContentMaxHeight = self.gridBounds.size.height - self.minEdgeInsets.top - self.minEdgeInsets.bottom;\nwhile ((self.numberOfItemsPerColumn + 1) * (self.itemSize.width + self.itemSpacing) - self.itemSpacing <= gridContentMaxHeight)\n{\n    _numberOfItemsPerColumn++;\n}\n_numberOfItemsPerPage = _numberOfItemsPerRow * _numberOfItemsPerColumn;\n_numberOfPages = ceil(self.itemCount * 1.0 / self.numberOfItemsPerPage);\nCGSize onePageSize = CGSizeMake(self.numberOfItemsPerRow * (self.itemSize.width + self.itemSpacing) - self.itemSpacing, \n                                self.numberOfItemsPerColumn * (self.itemSize.height + self.itemSpacing) - self.itemSpacing);\nif (self.centeredGrid)\n{\n    NSInteger widthSpace, heightSpace;      \n    NSInteger top, left, bottom, right;\nwidthSpace  = floor((self.gridBounds.size.width  - onePageSize.width)  / 2.0);\nheightSpace = floor((self.gridBounds.size.height - onePageSize.height) / 2.0);\n\nleft   = MAX(widthSpace,  self.minEdgeInsets.left);\nright  = MAX(widthSpace,  self.minEdgeInsets.right);\ntop    = MAX(heightSpace, self.minEdgeInsets.top);\nbottom = MAX(heightSpace, self.minEdgeInsets.bottom);\n\n_edgeInsets = UIEdgeInsetsMake(top, left, bottom, right);\n\n}\nelse\n{\n    _edgeInsets = self.minEdgeInsets;\n}\n_contentSize = CGSizeMake(bounds.size.width, \n                          bounds.size.height * self.numberOfPages);\n}\n\n\n(NSInteger)pageForItemAtIndex:(NSInteger)index\n{  \n    return MAX(0, floor(index * 1.0 / self.numberOfItemsPerPage * 1.0));\n}\n\n\n(CGPoint)originForItemAtColumn:(NSInteger)column row:(NSInteger)row page:(NSInteger)page \n{\nCGPoint offset = CGPointMake(0, page * self.gridBounds.size.height);\nCGFloat x = column * (self.itemSize.width + self.itemSpacing) + self.edgeInsets.left;\nCGFloat y = row * (self.itemSize.height + self.itemSpacing) + self.edgeInsets.top;\nreturn CGPointMake(x + offset.x, \n                   y + offset.y);\n}\n\n\n(NSInteger)positionForItemAtColumn:(NSInteger)column row:(NSInteger)row page:(NSInteger)page\n{\n    return column + row * self.numberOfItemsPerRow + (page * self.numberOfItemsPerPage); \n}\n\n\n(NSInteger)columnForItemAtPosition:(NSInteger)position\n{\n    position %= self.numberOfItemsPerPage;\n    return position % self.numberOfItemsPerRow;\n}\n\n\n(NSInteger)rowForItemAtPosition:(NSInteger)position\n{\n    position %= self.numberOfItemsPerPage;\n    return floor(position / self.numberOfItemsPerRow);\n}\n\n\n(CGPoint)originForItemAtPosition:(NSInteger)position\n{\n    NSUInteger page = [self pageForItemAtIndex:position];\nposition %= self.numberOfItemsPerPage;\nNSUInteger row = [self rowForItemAtPosition:position];\nNSUInteger column = [self columnForItemAtPosition:position];\nCGPoint origin = [self originForItemAtColumn:column row:row page:page];\nreturn origin;\n}\n\n\n(NSInteger)itemPositionFromLocation:(CGPoint)location\n{\n    CGFloat page = 0;\n    while ((page + 1) * self.gridBounds.size.height < location.y) \n    {\n        page++;\n    }\nCGPoint originForFirstItemInPage = [self originForItemAtColumn:0 row:0 page:page];\nCGPoint relativeLocation = CGPointMake(location.x - originForFirstItemInPage.x,\n                                       location.y - originForFirstItemInPage.y);\nint col = (int) (relativeLocation.x / (self.itemSize.width + self.itemSpacing)); \nint row = (int) (relativeLocation.y / (self.itemSize.height + self.itemSpacing));\nint position = [self positionForItemAtColumn:col row:row page:page];\nif (position >= [self itemCount] || position < 0) \n{\n    position = GMGV_INVALID_POSITION;\n}\nelse\n{\n    CGPoint itemOrigin = [self originForItemAtPosition:position];\n    CGRect itemFrame = CGRectMake(itemOrigin.x, \n                                  itemOrigin.y, \n                                  self.itemSize.width, \n                                  self.itemSize.height);\nif (!CGRectContainsPoint(itemFrame, location)) \n{\n    position = GMGV_INVALID_POSITION;\n}\n\n}\nreturn position;\n}\n\n\n(NSRange)rangeOfPositionsInBoundsFromOffset:(CGPoint)offset\n{\n    CGPoint contentOffset = CGPointMake(MAX(0, offset.x), \n                                        MAX(0, offset.y));\nNSInteger page = floor(contentOffset.y / self.gridBounds.size.height);\nNSInteger firstPosition = MAX(0, (page - 1) * self.numberOfItemsPerPage);\nNSInteger lastPosition  = MIN(firstPosition + 3 * self.numberOfItemsPerPage, self.itemCount);\nreturn NSMakeRange(firstPosition, (lastPosition - firstPosition));\n}\n@end\n\n\n//////////////////////////////////////////////////////////////\npragma mark -\npragma mark - VerticalPagedLTR strategy implementation\n//////////////////////////////////////////////////////////////\n@implementation GMGridViewLayoutVerticalPagedLTRStrategy\n\n\n(id)init\n{\n    if ((self = [super init])) \n    {\n        _type = GMGridViewLayoutVerticalPagedLTR;\n    }\nreturn self;\n}\n\n\n// Nothing to change, LTR is already the behavior of the base class\n@end\n```\n. I have the same issue. I'm displaying 48 Images in one screen on iPad. I already reduced my images to the smallest possible filesize but its still lagging. I decided to switch to paging then. At least its not lagging any more, but on the other hand, you have to wait until the next page has loaded before you can swipe again.\nI would really appreciate any hint to make performance better. Of course this will not be easy, since there are a lots of images to be loaded, but maybe I'm missing some simple trick ;).\n. I already tried this, but the result was, that the images where only loaded after scrolling was finished, which, of course, was not the desired result. Maybe I have overlooked something.\nI'll try it again, with the background-thread and post my results here.\nThx mwyman.\n. The didTapOnItemAtIndex:(NSInteger)position Method is one of the delegates you have to implement. Like didSelectRowAtIndexPath in a UITableView.\nJust put the code you use for fullsize in there and thats it.\n. Maybe you should take a look at the methods of GMGridViewCell\nThere is the public method \n- (void)switchToFullSizeMode:(BOOL)fullSizeEnabled\n  This should do the trick i think.\nI think you could also just use the code from the transformingGestureDidFinish delegate method to do the zoom.\nThats also the method where switchToFullSizeMode is called\n. hmm. Maybe if i have time tomorrow i'll look into it and try it myself. :)\n. Why do you need a containerView for the Gridview?\nYou can just set the frame of the GridView if you want it to be smaller. And be sure to set clipsToBounds = YES to avoid cells being displayed out of the gridviews bounds.\n. Regarding your 1st Point.\nHave you tried to set your gridview to editing mode in the handle method of the longPressGestureRecognizer?\nShould work if you do the same as in the Example.\nLike calling\n``` objective-c\n- (void)editingSwitchChanged:(UISwitch *)control\n{\n    self.gridView.editing = control.on;\n    control.on = self.gridView.isEditing;\n    [self.gridView layoutSubviewsWithAnimation:GMGridViewItemAnimationFade];\n}\n```\n. What do you do, when you want to leave editing mode?\nOf course you have to reset all variables to the state they were before entering editing mode. It seems to me, that you have missed something.\n. I cannot help you, when you are not answering my questions ;).\nWhat do you do, when you want to leave editing mode?\nDo push a button, or what?\nWhen you have entered Editing mode Gestures are disabled, so that you cannot accidentally trigger the tap or the pan action, i guess. So since you are in editing mode and the longPressGesture is disabled you have to return to non-editing state via a buttonpress.\nOf course you have to create the button by yourself. Just look at the examples. It should be much clearer then. \nAnd of course it is always better not to just use the code some one gives you, but to understand it. I know this is a lot of work, but it will massively improve your programming skills :).\n. I think it has to do with the reuse of cells.\nTo be sure, that the correct image is loaded into the cell you have to strip the cell clean from all contents after reusing it.\nIt should look like this:\n``` objective-c\n- (GMGridViewCell )GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n{  \n    GMGridViewCell cell = [gridView dequeueReusableCell];\n    WatchTile iv_uhr;\n    if (!cell) \n    {\n        cell = [[GMGridViewCell alloc] init];\n    UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n    view.backgroundColor = [UIColor whiteColor];\n    view.layer.masksToBounds = NO;\n    cell.contentView = view;\n}\nelse {\n    iv_uhr = (WatchTile*)[cell.contentView viewWithTag:999];\n    [iv_uhr removeFromSuperview];\n    iv_uhr.img_back = nil;\n    iv_uhr.img_front = nil;\n    iv_uhr = nil;\n\n}\nNSString *filename;\nNSString *path;\nCGRect cellFrame = CGRectMake(0, 0, gridCellSize.width, gridCellSize.height);\nif (size.height == 256) {\n    filename = [NSString stringWithFormat:@\"256_%@\",  [[_ma_content objectAtIndex:index] objectForKey:k_key_bildname]];\n}\nelse\n{\n    filename = [NSString stringWithFormat:@\"128_%@\",  [[_ma_content objectAtIndex:index] objectForKey:k_key_bildname]];            \n}\npath = [[NSBundle mainBundle] pathForResource:[[filename stringByDeletingPathExtension]stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding] ofType:@\"jpg\"];\n    iv_uhr = [[WatchTile alloc]initWithFrame:cellFrame front:[UIImage imageWithContentsOfFile:path] andBack:[UIImage imageNamed:@\"1pixel_weiss.png\"]];\n[cell.contentView addSubview:iv_uhr];\nreturn cell;\n\n}\n```\nThis is how i implemented it. I'm using a subclassed UIImageView as a GMGridViewCell, but that should make no difference.\nI simply test if i got a reused cell and if i did, i delete all content from that cell and fill it with the new content.\nWorks perfectly in my App.\nThe part with the cellsize is of course not relevant for you. Thats just an leftover of my own implementation due to copy paste.\nGood Luck.\n. Don't know exactly if you need it, but this line guarantees, that you have no subviews in your cell which might be leftovers from a reused cell. It should pretty much do the same as removing the subviews manually as i do in [iv_uhr removeFromSuperview];\n. Just add what ever you want to the cells contentview and set the frame where you want to have it. Its as simple as that.\nOr you create a view in the size of the cell and add everything to the view and add this view to the cells contentview. But that would be unnecessary overhead in my opinion.\nOh. And yes, you do this in cellForItemAtIndex.\nThe Gridview is almost identical to the uitableview in its basic delegate methods. So if you have understood how uitableview really works it should be easy to adapt this knowledge to the gmgridview.\nIn your specific example i would add a label with frame CGRectMake(0,0,cellwidth,cellheigth/3) if you want the title to be as high as 1/3 of the cell.\nThe description would have the following frame: CGRectMake(0,lbl_title.frame.height,cellwidth,(cellheight / 3) 2);\n. There is a delegate method for gmgridview called: - (CGSize)GMGridView:(GMGridView )gridView sizeForItemsInInterfaceOrientation:(UIInterfaceOrientation)orientation\nImplement this and set the framesize of the cell to the value you want. This method will be called before cellForItemAtIndex to assure that the cells contentview bounds are set correctly when the grid is initialized.\nThis works only, if you have your data-array initialized already. If you initialize your data-array at a later point for some reason you have to call [gridview reloadData] after initializing your data-array.\nIf this will be your first app for iOS I'd strongly recommend to take a look at some UITableView tutorials to get a better understanding how this stuff works. This will help you a lot in handling the gmgridview correctly :).\n. The Issue still exists.\nI have exactly the same problem.\nI am displaying several items (500) in the view. When i use a search to thin out the items to be displayed, my datasources content array is correctly updated, when i call reloadData, but in loadRequiredItems the for loop is not entered and therefore cellForItemAtIndex is not called.\nI hope you can find the bug with this info. I haven't found it yet. :(\nEDIT:\nIt seems, that rangeOfPositions is not calculated correctly\nEDIT:\nIt seems to me that the GmGridView variable is somehow \"forgetting\" its delgates and datasource.\nIf i set the delegates right before calling reloadData at least the rangeOfPositions is calculated. But the cells are not reduced to the number in the data array. :(\n. I had some problems downloading the development branch. Unfortunately my knowledge about github is rather small.\nAs far as i can say i could reproduce the bug with the current master branch in a Viewcontroller i created myself.\nCurrently i dont have more info than the one i provided you with, but i will look deeper into it if it helps.\nRegarding to your demo3. That should reproduce the bug. The bug occured everytime i changed the content of the data array. So this should be fine.\n. Have you yet found out what the error is, or how it can be fixed? And can you tell me, how i can switch to developers branch in github? Its only showing me the master branch. \nI'll look into it today, too. So maybe i can find something.\n. thx. Now i got it.\nUnfortunately the bug still occurs, after switching to the developers branch.\nBut in the Demo it works. I'll try to find out, why. Maybe i have done something wrong in my implementation of the delegatemethods.\n. Ok, After more testing i discovered, that the bug was an issue of using a xib instead implementing the view representing the GMGridView by code and too much copy and paste without thinking.\nThat way i accidentally created two gridviews, which was very hard to debug, because the second alloc init call of GMGridView was done by my xib and thus i got neither a log, nor an additional call of the methods, i had my logs in.\nI finally discovered it by scrolling \"over\" the scrollview content size and found that there was sitting a second GMGridView displaying the data i wanted.\nI'm sorry for all that confusion my error produced, but i might also be, that using the developers branch also had some part in getting this to work for me.\nAnyway, now i can use this supercalifragilisticexpialigetc framework!\nThanks to all of you for your patience and your support.\n. When will xib support be ready for the master branch?\nOr can i use the developers branch, too?\nReally nice piece of work btw. :)\n. I'll try. I'll let you know when i know sth new.\n. Sorry, it was my fault. My explanation was not very precise.\nIt is not the content array, which is resorting. But the order in the subviews of the grid.\nWhen i display the items in my grid, the order of subviews in the grid is equal to the order in the content array.\nAfter pressing long enough on one gridcell to trigger the sorting mode, and then lifting the finger back up without moving the gridcell, the view of the gridcell appears as last element in the subviews array of the gridview and not on the position in the subviews array where it has been before.\nI realize, that this is due to the effect of the sorting and then adding the view as subview to the gridview after lifting the finger up and disabling the sorting mode. \nMaybe its possible to save the position of the view to sort in an ivar and then add id to the subviews array on exactly the same position where it has been before entering the sorting mode.\n. You can also get the visible cells like this:\nCGPoint contentOffset = ((UIScrollView*)[[gridView subviews]objectAtIndex:0]).contentOffset;\n for (GMGridViewCell *view in [[[gridView subviews]objectAtIndex:0] subviews])\n {\n     ...\n }\nBut everytime you enter sorting mode the cells order seems to change in the subviews array. So this is not best solution. I'll try to make itemSubviews public and see if its better for my purpose.\nMaybe I'll create a getCellsInRange Method or something like that, where you can also get a smaller amount of cells than the visible ones. Could be useful for some fancy animations. :)\nbtw. How do i make code tags in a comment?\n. I am also trying to get the preview for the case, that a page size should be smaller than the bounds of the gridview.\nUnfortunately i always get a gap between pages, when the gridview for example is half a row larger than the size of the pages i want to slide through.\nI tried reducing the pagesize, but that did only result in a white gap.\nI thought i must set the page-size in rectForPoint: but that method is only called once and seems to have no further influence.\nI would really be glad, if someone could push me in the right direction.\nIt shouldn't be so hard to make the displayed content larger than the page-size, but somehow I'm to blind to see it :(\n. I'd be interested in this, too. Would be great to have it in GM-GridView\n. Here is the code for strategyLayoutVerticalPaged with LTR.\nI did basically just copy and paste the horizontal paged strategy and changed direction of scrolling and displaying content.\nNext Step I'll integrate a trigger to show the content which is out of the page, for smoother paging without gaps.\nHope this helps someone.\nGMGridViewLayoutStrategies.h\n``` objective-c\n@interface GMGridViewLayoutVerticalStrategyPaged : GMGridViewLayoutVerticalStrategy\n{\n    NSInteger numberOfItemsPerColumn;\n    NSInteger _numberOfItemsPerPage;\n    NSInteger _numberOfPages;\n}\n@property (nonatomic, readonly) NSInteger numberOfItemsPerColumn;\n@property (nonatomic, readonly) NSInteger numberOfItemsPerPage;\n@property (nonatomic, readonly) NSInteger numberOfPages;\n// Only these 3 methods have be reimplemented by child classes to change the LTR and TTB kind of behavior\n- (NSInteger)positionForItemAtColumn:(NSInteger)column row:(NSInteger)row page:(NSInteger)page;\n- (NSInteger)columnForItemAtPosition:(NSInteger)position;\n- (NSInteger)rowForItemAtPosition:(NSInteger)position;\n@end\n//////////////////////////////////////////////////////////////\npragma mark -\npragma mark - VerticalPagedLTR strategy implementation\n//////////////////////////////////////////////////////////////\n@interface GMGridViewLayoutVerticalPagedLTRStrategy : GMGridViewLayoutVerticalStrategyPaged\n@end\n```\nGMGridViewLayoutStrategies.m\n``` objective-c\n//////////////////////////////////////////////////////////////\npragma mark -\npragma mark - VerticalPagedLTR strategy implementation\n//////////////////////////////////////////////////////////////\n@implementation GMGridViewLayoutVerticalStrategyPaged\n@synthesize numberOfItemsPerPage = _numberOfItemsPerPage;\n@synthesize numberOfItemsPerColumn = _numberOfItemsPerColumn;\n@synthesize numberOfPages        = _numberOfPages;\n\n\n(BOOL)requiresEnablingPaging\n{\n    return YES;\n}\n\n\n(void)rebaseWithItemCount:(NSInteger)count insideOfBounds:(CGRect)bounds\n{\n    [super rebaseWithItemCount:count insideOfBounds:bounds];\n_numberOfItemsPerColumn = 1;\nNSInteger gridContentMaxHeight = self.gridBounds.size.height - self.minEdgeInsets.top - self.minEdgeInsets.bottom;\nwhile ((self.numberOfItemsPerColumn + 1) * (self.itemSize.width + self.itemSpacing) - self.itemSpacing <= gridContentMaxHeight)\n{\n    _numberOfItemsPerColumn++;\n}\n_numberOfItemsPerPage = _numberOfItemsPerRow * _numberOfItemsPerColumn;\n_numberOfPages = ceil(self.itemCount * 1.0 / self.numberOfItemsPerPage);\nCGSize onePageSize = CGSizeMake(self.numberOfItemsPerRow * (self.itemSize.width + self.itemSpacing) - self.itemSpacing, \n                                self.numberOfItemsPerColumn * (self.itemSize.height + self.itemSpacing) - self.itemSpacing);\nif (self.centeredGrid)\n{\n    NSInteger widthSpace, heightSpace;      \n    NSInteger top, left, bottom, right;\nwidthSpace  = floor((self.gridBounds.size.width  - onePageSize.width)  / 2.0);\nheightSpace = floor((self.gridBounds.size.height - onePageSize.height) / 2.0);\n\nleft   = MAX(widthSpace,  self.minEdgeInsets.left);\nright  = MAX(widthSpace,  self.minEdgeInsets.right);\ntop    = MAX(heightSpace, self.minEdgeInsets.top);\nbottom = MAX(heightSpace, self.minEdgeInsets.bottom);\n\n_edgeInsets = UIEdgeInsetsMake(top, left, bottom, right);\n\n}\nelse\n{\n    _edgeInsets = self.minEdgeInsets;\n}\n_contentSize = CGSizeMake(bounds.size.width, \n                          bounds.size.height * self.numberOfPages);\n}\n\n\n(NSInteger)pageForItemAtIndex:(NSInteger)index\n{  \n    return MAX(0, floor(index * 1.0 / self.numberOfItemsPerPage * 1.0));\n}\n\n\n(CGPoint)originForItemAtColumn:(NSInteger)column row:(NSInteger)row page:(NSInteger)page \n{\nCGPoint offset = CGPointMake(0, page * self.gridBounds.size.height);\nCGFloat x = column * (self.itemSize.width + self.itemSpacing) + self.edgeInsets.left;\nCGFloat y = row * (self.itemSize.height + self.itemSpacing) + self.edgeInsets.top;\nreturn CGPointMake(x + offset.x, \n                   y + offset.y);\n}\n\n\n(NSInteger)positionForItemAtColumn:(NSInteger)column row:(NSInteger)row page:(NSInteger)page\n{\n    return column + row * self.numberOfItemsPerRow + (page * self.numberOfItemsPerPage); \n}\n\n\n(NSInteger)columnForItemAtPosition:(NSInteger)position\n{\n    position %= self.numberOfItemsPerPage;\n    return position % self.numberOfItemsPerRow;\n}\n\n\n(NSInteger)rowForItemAtPosition:(NSInteger)position\n{\n    position %= self.numberOfItemsPerPage;\n    return floor(position / self.numberOfItemsPerRow);\n}\n\n\n(CGPoint)originForItemAtPosition:(NSInteger)position\n{\n    NSUInteger page = [self pageForItemAtIndex:position];\nposition %= self.numberOfItemsPerPage;\nNSUInteger row = [self rowForItemAtPosition:position];\nNSUInteger column = [self columnForItemAtPosition:position];\nCGPoint origin = [self originForItemAtColumn:column row:row page:page];\nreturn origin;\n}\n\n\n(NSInteger)itemPositionFromLocation:(CGPoint)location\n{\n    CGFloat page = 0;\n    while ((page + 1) * self.gridBounds.size.height < location.y) \n    {\n        page++;\n    }\nCGPoint originForFirstItemInPage = [self originForItemAtColumn:0 row:0 page:page];\nCGPoint relativeLocation = CGPointMake(location.x - originForFirstItemInPage.x,\n                                       location.y - originForFirstItemInPage.y);\nint col = (int) (relativeLocation.x / (self.itemSize.width + self.itemSpacing)); \nint row = (int) (relativeLocation.y / (self.itemSize.height + self.itemSpacing));\nint position = [self positionForItemAtColumn:col row:row page:page];\nif (position >= [self itemCount] || position < 0) \n{\n    position = GMGV_INVALID_POSITION;\n}\nelse\n{\n    CGPoint itemOrigin = [self originForItemAtPosition:position];\n    CGRect itemFrame = CGRectMake(itemOrigin.x, \n                                  itemOrigin.y, \n                                  self.itemSize.width, \n                                  self.itemSize.height);\nif (!CGRectContainsPoint(itemFrame, location)) \n{\n    position = GMGV_INVALID_POSITION;\n}\n\n}\nreturn position;\n}\n\n\n(NSRange)rangeOfPositionsInBoundsFromOffset:(CGPoint)offset\n{\n    CGPoint contentOffset = CGPointMake(MAX(0, offset.x), \n                                        MAX(0, offset.y));\nNSInteger page = floor(contentOffset.y / self.gridBounds.size.height);\nNSInteger firstPosition = MAX(0, (page - 1) * self.numberOfItemsPerPage);\nNSInteger lastPosition  = MIN(firstPosition + 3 * self.numberOfItemsPerPage, self.itemCount);\nreturn NSMakeRange(firstPosition, (lastPosition - firstPosition));\n}\n@end\n\n\n//////////////////////////////////////////////////////////////\npragma mark -\npragma mark - VerticalPagedLTR strategy implementation\n//////////////////////////////////////////////////////////////\n@implementation GMGridViewLayoutVerticalPagedLTRStrategy\n\n\n(id)init\n{\n    if ((self = [super init])) \n    {\n        _type = GMGridViewLayoutVerticalPagedLTR;\n    }\nreturn self;\n}\n\n\n// Nothing to change, LTR is already the behavior of the base class\n@end\n```\n. I have the same issue. I'm displaying 48 Images in one screen on iPad. I already reduced my images to the smallest possible filesize but its still lagging. I decided to switch to paging then. At least its not lagging any more, but on the other hand, you have to wait until the next page has loaded before you can swipe again.\nI would really appreciate any hint to make performance better. Of course this will not be easy, since there are a lots of images to be loaded, but maybe I'm missing some simple trick ;).\n. I already tried this, but the result was, that the images where only loaded after scrolling was finished, which, of course, was not the desired result. Maybe I have overlooked something.\nI'll try it again, with the background-thread and post my results here.\nThx mwyman.\n. The didTapOnItemAtIndex:(NSInteger)position Method is one of the delegates you have to implement. Like didSelectRowAtIndexPath in a UITableView.\nJust put the code you use for fullsize in there and thats it.\n. Maybe you should take a look at the methods of GMGridViewCell\nThere is the public method \n- (void)switchToFullSizeMode:(BOOL)fullSizeEnabled\n  This should do the trick i think.\nI think you could also just use the code from the transformingGestureDidFinish delegate method to do the zoom.\nThats also the method where switchToFullSizeMode is called\n. hmm. Maybe if i have time tomorrow i'll look into it and try it myself. :)\n. Why do you need a containerView for the Gridview?\nYou can just set the frame of the GridView if you want it to be smaller. And be sure to set clipsToBounds = YES to avoid cells being displayed out of the gridviews bounds.\n. Regarding your 1st Point.\nHave you tried to set your gridview to editing mode in the handle method of the longPressGestureRecognizer?\nShould work if you do the same as in the Example.\nLike calling\n``` objective-c\n- (void)editingSwitchChanged:(UISwitch *)control\n{\n    self.gridView.editing = control.on;\n    control.on = self.gridView.isEditing;\n    [self.gridView layoutSubviewsWithAnimation:GMGridViewItemAnimationFade];\n}\n```\n. What do you do, when you want to leave editing mode?\nOf course you have to reset all variables to the state they were before entering editing mode. It seems to me, that you have missed something.\n. I cannot help you, when you are not answering my questions ;).\nWhat do you do, when you want to leave editing mode?\nDo push a button, or what?\nWhen you have entered Editing mode Gestures are disabled, so that you cannot accidentally trigger the tap or the pan action, i guess. So since you are in editing mode and the longPressGesture is disabled you have to return to non-editing state via a buttonpress.\nOf course you have to create the button by yourself. Just look at the examples. It should be much clearer then. \nAnd of course it is always better not to just use the code some one gives you, but to understand it. I know this is a lot of work, but it will massively improve your programming skills :).\n. I think it has to do with the reuse of cells.\nTo be sure, that the correct image is loaded into the cell you have to strip the cell clean from all contents after reusing it.\nIt should look like this:\n``` objective-c\n- (GMGridViewCell )GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n{  \n    GMGridViewCell cell = [gridView dequeueReusableCell];\n    WatchTile iv_uhr;\n    if (!cell) \n    {\n        cell = [[GMGridViewCell alloc] init];\n    UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n    view.backgroundColor = [UIColor whiteColor];\n    view.layer.masksToBounds = NO;\n    cell.contentView = view;\n}\nelse {\n    iv_uhr = (WatchTile*)[cell.contentView viewWithTag:999];\n    [iv_uhr removeFromSuperview];\n    iv_uhr.img_back = nil;\n    iv_uhr.img_front = nil;\n    iv_uhr = nil;\n\n}\nNSString *filename;\nNSString *path;\nCGRect cellFrame = CGRectMake(0, 0, gridCellSize.width, gridCellSize.height);\nif (size.height == 256) {\n    filename = [NSString stringWithFormat:@\"256_%@\",  [[_ma_content objectAtIndex:index] objectForKey:k_key_bildname]];\n}\nelse\n{\n    filename = [NSString stringWithFormat:@\"128_%@\",  [[_ma_content objectAtIndex:index] objectForKey:k_key_bildname]];            \n}\npath = [[NSBundle mainBundle] pathForResource:[[filename stringByDeletingPathExtension]stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding] ofType:@\"jpg\"];\n    iv_uhr = [[WatchTile alloc]initWithFrame:cellFrame front:[UIImage imageWithContentsOfFile:path] andBack:[UIImage imageNamed:@\"1pixel_weiss.png\"]];\n[cell.contentView addSubview:iv_uhr];\nreturn cell;\n\n}\n```\nThis is how i implemented it. I'm using a subclassed UIImageView as a GMGridViewCell, but that should make no difference.\nI simply test if i got a reused cell and if i did, i delete all content from that cell and fill it with the new content.\nWorks perfectly in my App.\nThe part with the cellsize is of course not relevant for you. Thats just an leftover of my own implementation due to copy paste.\nGood Luck.\n. Don't know exactly if you need it, but this line guarantees, that you have no subviews in your cell which might be leftovers from a reused cell. It should pretty much do the same as removing the subviews manually as i do in [iv_uhr removeFromSuperview];\n. Just add what ever you want to the cells contentview and set the frame where you want to have it. Its as simple as that.\nOr you create a view in the size of the cell and add everything to the view and add this view to the cells contentview. But that would be unnecessary overhead in my opinion.\nOh. And yes, you do this in cellForItemAtIndex.\nThe Gridview is almost identical to the uitableview in its basic delegate methods. So if you have understood how uitableview really works it should be easy to adapt this knowledge to the gmgridview.\nIn your specific example i would add a label with frame CGRectMake(0,0,cellwidth,cellheigth/3) if you want the title to be as high as 1/3 of the cell.\nThe description would have the following frame: CGRectMake(0,lbl_title.frame.height,cellwidth,(cellheight / 3) 2);\n. There is a delegate method for gmgridview called: - (CGSize)GMGridView:(GMGridView )gridView sizeForItemsInInterfaceOrientation:(UIInterfaceOrientation)orientation\nImplement this and set the framesize of the cell to the value you want. This method will be called before cellForItemAtIndex to assure that the cells contentview bounds are set correctly when the grid is initialized.\nThis works only, if you have your data-array initialized already. If you initialize your data-array at a later point for some reason you have to call [gridview reloadData] after initializing your data-array.\nIf this will be your first app for iOS I'd strongly recommend to take a look at some UITableView tutorials to get a better understanding how this stuff works. This will help you a lot in handling the gmgridview correctly :).\n. ",
    "ecirb67": "I still have the problem, my cells don't show when I reloadData...\n. I still have the problem, my cells don't show when I reloadData...\n. ",
    "aquarius": "I also ran into this bug and found time to debug it today.\nIn my case the problem was the UIViewAnimation block in reloadObjectAtIndex:withAnimation:. In some cases the completion block got executed after currentView got reused. This caused that the view got removed from the scrollview although it was already used as a cell somewhere else. Very stupid bug to debug. My recommendation to fix this bug would be the introduce a new view tag that indicates that the view is used for an animation and shouldn't be reused at this time.\n. I saw the same problem. I was able to track it down to the UIViewAnimation part in -newItemSubViewForPosition:. However as steipete mentioned, the problem only appears in the simulator. Works fine for me on the device.\n. I also needed support for a grid header view. I added it to my fork:\nhttps://github.com/aquarius/GMGridView/commit/65d43a82657b01ece8f1fb651d16055b7a47f185\n. Right, you probably need to attach it to the grid view directly if you have paging enabled so it always stays on top.\nHow would you solve this? Add a BOOL to the layout strategy to indicate how the header/footer views are positioned (sticky or scrolling)?\n. This was also added to the develop branch a few days ago:\nhttps://github.com/gmoledina/GMGridView/commits/develop\n. I also ran into this bug and found time to debug it today.\nIn my case the problem was the UIViewAnimation block in reloadObjectAtIndex:withAnimation:. In some cases the completion block got executed after currentView got reused. This caused that the view got removed from the scrollview although it was already used as a cell somewhere else. Very stupid bug to debug. My recommendation to fix this bug would be the introduce a new view tag that indicates that the view is used for an animation and shouldn't be reused at this time.\n. I saw the same problem. I was able to track it down to the UIViewAnimation part in -newItemSubViewForPosition:. However as steipete mentioned, the problem only appears in the simulator. Works fine for me on the device.\n. I also needed support for a grid header view. I added it to my fork:\nhttps://github.com/aquarius/GMGridView/commit/65d43a82657b01ece8f1fb651d16055b7a47f185\n. Right, you probably need to attach it to the grid view directly if you have paging enabled so it always stays on top.\nHow would you solve this? Add a BOOL to the layout strategy to indicate how the header/footer views are positioned (sticky or scrolling)?\n. This was also added to the develop branch a few days ago:\nhttps://github.com/gmoledina/GMGridView/commits/develop\n. ",
    "steipete": "I'm not sure I fixed that one. Only thing I can remember is that my fix stopped scrolling to the top on reloadData.\n. See, another reason why I'm generally against using XIB's. Glad you found it though.\n. I'll have a solution, updating my pull request.\n. I'm looking into it right now. Trying to re-do the open-animation in iBooks, this i do need the full rect of a imageView within the cell (as they can have different sizes).\n. What about if we open up itemSubViewForPosition? A better name maybe really would be cellForItemAtIndex, but it's the function i'd need.\n. commit: https://github.com/steipete/GMGridView/commit/2c8782bcb45497de6855cd6459039f051497d871\n. It was there yesterday. Will check again. The Simulator is not perfectly framebuffer-synced. Thus, if you maybe add a view and change it's frame one loop later, you get flickering in the simulator, but it looks perfect on the device.\n. There is more to this. As the device has a better view sync, you usually don't see the flickering; but it's still visible some times. We should fix the root problem on this, it's ugly.\n. soleares, thank you, this is very clever!\nWill try it and replace the 0-delay blocks with this; i'm sure this also improves performance.\n. Works like a charm --> 22ec389f387a72bdb34cd2822f551da693fde565\n. Ah, I see. Well we need some more fine-grained solution then. I'm looking into it.\n. Well, numberOfItemsInGMGridView does return the gridview that's asking for the number, so just compare the object with your grid and return the right count.\n. How exactly are they misaligned? Can you provide screenshots?\n. Due to your \"merge upstream changes\" this can't be merged automatically. You should do fast-forward merges that don't produce an own commit entry\n. We can still cherry-pick it, it's just less convenient, and merge commits also \"pollute\" your git history. \nRegarding the setup-method; we could also cross-call init methods, like initWithCoder calling initWithFrame, i believe this is cleaner - any objections?\n. I'm not sure if it's possible to have different cell sizes - i hardly think so (but I'm not the author).\nIf you need to change the size, reloadData is probably the way to go.\n. I believe the goals of this grid project are different - allowing custom-sized cells is a whole different bag of pain.\nYou can use same-sized cells and use different size within - so that the absolute border to the next cell is the same.\n. Yep, i want this too. Shouldn't be that hard (as compared to section headers)\n. I'm also very interested in the header view; we can add simple support for now and improve it with different layouts later.\nAny opposition to that? \n. We happily accept pull requests, although I'm not sure this makes sense in the API directy. UITableView doesn't has this either.\nYou can build this quite easily, listen for the didScroll event and add content once you're at some defined threshold.\n. The grid no longer scrolls to top with reloadData. Apple's cocoa API doesn't do that either, this are usually two different operations you want to call.\n. merged! \nhave you looked into the develop branch? lot's of new stuff there.\n. Also, see the devel branch where I simplified the directory structure & added a xcodeproject you can include (as a second way compared to just add the files)\n. Is this still a bug in devel? We really should remove this branch and just use main, it's way to confusing otherwise.\n. looks good to me, thanks!\n. I don't believe that's a grid issue, that's more one of your updating code. You may hook up the the scrollview to delay those changes (e.h. with using an NSOperationQueue and pausing it while scrolling) - or move more code over to a background thread. (e.g. when you \"load\" an image in a background thread, you don't really decompress it unless you use some arcane knowledge like this https://gist.github.com/1144242)\n. \"prepare the two UILabels\" ... don't do that in the background. UIKit is totally only usable from the main thread. Not even creating UI* objects on the background is a good idea.\nHave you tried my image decompression code? I totally bet this solves all your stuttering problems.\n. > > very smooth on an iPhone 3GS running iOS 4.2.1, however it stutters really badly on an iPhone 4\nThat totally sounds like image decompression on the main thread. Did you actually try my code?\nAlso, firing of network calls can be expensive too... do that on a background thread.\n. :) \nI also submitted a pull request, you can now change the success and/or failure callback to any dispatch_queue you want.\n. Would you mind sending a pull request instead so we can all profit from that fix?\n. Of course. Just add it as a submodule.\n. This link contains the information you're looking for. http://bit.ly/xS3CXP\n. Yep, noticed something like this too. Feel free to send a pull request!\n. Thanks!\n. Ah, of course, you should work with the develop branch, not master...\n. Isn't that symtom fixing? Why is layoutStrategy returning an invalid position in the first place? What layout are you using?\n. Please add an example project, or better, a pull request with the fix :)\n. Kudos Ortwin, great work, I'm sure a lot of people will love those new features! I'm going ahead and merge this, haven't tested it extensively, but it looks great code-wise and I trust you that it actually works :)\n. You made the changes in the same branch, thus your pull request gets updated automatically with each subsequent change. I merged all changes now, thanks for the contribution! Awesome stuff!\n. I'm not sure I fixed that one. Only thing I can remember is that my fix stopped scrolling to the top on reloadData.\n. See, another reason why I'm generally against using XIB's. Glad you found it though.\n. I'll have a solution, updating my pull request.\n. I'm looking into it right now. Trying to re-do the open-animation in iBooks, this i do need the full rect of a imageView within the cell (as they can have different sizes).\n. What about if we open up itemSubViewForPosition? A better name maybe really would be cellForItemAtIndex, but it's the function i'd need.\n. commit: https://github.com/steipete/GMGridView/commit/2c8782bcb45497de6855cd6459039f051497d871\n. It was there yesterday. Will check again. The Simulator is not perfectly framebuffer-synced. Thus, if you maybe add a view and change it's frame one loop later, you get flickering in the simulator, but it looks perfect on the device.\n. There is more to this. As the device has a better view sync, you usually don't see the flickering; but it's still visible some times. We should fix the root problem on this, it's ugly.\n. soleares, thank you, this is very clever!\nWill try it and replace the 0-delay blocks with this; i'm sure this also improves performance.\n. Works like a charm --> 22ec389f387a72bdb34cd2822f551da693fde565\n. Ah, I see. Well we need some more fine-grained solution then. I'm looking into it.\n. Well, numberOfItemsInGMGridView does return the gridview that's asking for the number, so just compare the object with your grid and return the right count.\n. How exactly are they misaligned? Can you provide screenshots?\n. Due to your \"merge upstream changes\" this can't be merged automatically. You should do fast-forward merges that don't produce an own commit entry\n. We can still cherry-pick it, it's just less convenient, and merge commits also \"pollute\" your git history. \nRegarding the setup-method; we could also cross-call init methods, like initWithCoder calling initWithFrame, i believe this is cleaner - any objections?\n. I'm not sure if it's possible to have different cell sizes - i hardly think so (but I'm not the author).\nIf you need to change the size, reloadData is probably the way to go.\n. I believe the goals of this grid project are different - allowing custom-sized cells is a whole different bag of pain.\nYou can use same-sized cells and use different size within - so that the absolute border to the next cell is the same.\n. Yep, i want this too. Shouldn't be that hard (as compared to section headers)\n. I'm also very interested in the header view; we can add simple support for now and improve it with different layouts later.\nAny opposition to that? \n. We happily accept pull requests, although I'm not sure this makes sense in the API directy. UITableView doesn't has this either.\nYou can build this quite easily, listen for the didScroll event and add content once you're at some defined threshold.\n. The grid no longer scrolls to top with reloadData. Apple's cocoa API doesn't do that either, this are usually two different operations you want to call.\n. merged! \nhave you looked into the develop branch? lot's of new stuff there.\n. Also, see the devel branch where I simplified the directory structure & added a xcodeproject you can include (as a second way compared to just add the files)\n. Is this still a bug in devel? We really should remove this branch and just use main, it's way to confusing otherwise.\n. looks good to me, thanks!\n. I don't believe that's a grid issue, that's more one of your updating code. You may hook up the the scrollview to delay those changes (e.h. with using an NSOperationQueue and pausing it while scrolling) - or move more code over to a background thread. (e.g. when you \"load\" an image in a background thread, you don't really decompress it unless you use some arcane knowledge like this https://gist.github.com/1144242)\n. \"prepare the two UILabels\" ... don't do that in the background. UIKit is totally only usable from the main thread. Not even creating UI* objects on the background is a good idea.\nHave you tried my image decompression code? I totally bet this solves all your stuttering problems.\n. > > very smooth on an iPhone 3GS running iOS 4.2.1, however it stutters really badly on an iPhone 4\nThat totally sounds like image decompression on the main thread. Did you actually try my code?\nAlso, firing of network calls can be expensive too... do that on a background thread.\n. :) \nI also submitted a pull request, you can now change the success and/or failure callback to any dispatch_queue you want.\n. Would you mind sending a pull request instead so we can all profit from that fix?\n. Of course. Just add it as a submodule.\n. This link contains the information you're looking for. http://bit.ly/xS3CXP\n. Yep, noticed something like this too. Feel free to send a pull request!\n. Thanks!\n. Ah, of course, you should work with the develop branch, not master...\n. Isn't that symtom fixing? Why is layoutStrategy returning an invalid position in the first place? What layout are you using?\n. Please add an example project, or better, a pull request with the fix :)\n. Kudos Ortwin, great work, I'm sure a lot of people will love those new features! I'm going ahead and merge this, haven't tested it extensively, but it looks great code-wise and I trust you that it actually works :)\n. You made the changes in the same branch, thus your pull request gets updated automatically with each subsequent change. I merged all changes now, thanks for the contribution! Awesome stuff!\n. ",
    "dennda": "See that button on the left that says \"branch: master\" in this screenshot: http://cl.ly/33382e472p1C1n2k0E0j\nYou will need to switch to that branch on your local development machine, too. See one of the plenty git resources on the web, e.g. http://book.git-scm.com/\n. OK, I'm giving it a shot. I don't understand why you split it into two separate projects when two targets would've sufficed, though.\n. (Your current approach prevents you from using it as a subproject in another Xcode project while fiddling with the Examples at the same time, as only one running Xcode instance can use the static library project at a time. One will get an error such as this: Couldn't load GMGridView.xcodeproj because it is already opened from another project or workspace)\n. Works for me.\n. Sorry; I based this on the wrong branch on your side. I blame GitHub... :-)\n. See that button on the left that says \"branch: master\" in this screenshot: http://cl.ly/33382e472p1C1n2k0E0j\nYou will need to switch to that branch on your local development machine, too. See one of the plenty git resources on the web, e.g. http://book.git-scm.com/\n. OK, I'm giving it a shot. I don't understand why you split it into two separate projects when two targets would've sufficed, though.\n. (Your current approach prevents you from using it as a subproject in another Xcode project while fiddling with the Examples at the same time, as only one running Xcode instance can use the static library project at a time. One will get an error such as this: Couldn't load GMGridView.xcodeproj because it is already opened from another project or workspace)\n. Works for me.\n. Sorry; I based this on the wrong branch on your side. I blame GitHub... :-)\n. ",
    "aditya422": "I have four cells in my gmgridview i want to lock the cell at particular index while other 3 cells are able to it would be better if i have method like\n- (BOOL)GMGridView:(GMGridView )gridView shouldAllowMovingCell:(GMGridViewCell )view atIndex:(NSInteger)index;\nso that i can allow only those cells to move which i want\nIs there any solution for my problem in current library.  If yes then please let me know\n. I have four cells in my gmgridview i want to lock the cell at particular index while other 3 cells are able to it would be better if i have method like\n- (BOOL)GMGridView:(GMGridView )gridView shouldAllowMovingCell:(GMGridViewCell )view atIndex:(NSInteger)index;\nso that i can allow only those cells to move which i want\nIs there any solution for my problem in current library.  If yes then please let me know\n. ",
    "anujgakhar": "@steipete  @gmoledina  What is the best way to get visibleCells in GMGridView? In UITableview we have indexPathsForVisibleRows - which is basically what I am after. I am loading images asynchronously but I only do it when the scrolling has stopped to avoid hundreds of network requests. But when scrolling stops, I need to get access to the visible cells to be able to load/download those images. Any ideas?\nP.S. I am trying to avoid [reloadData] because apparently that is a resource intensive call as per Instruments.\n. So, is there a solution to how to use a FetchedResultsController successfully ? I too am getting stuck with this issue of the Assertion complaining about \"Invalid Index specified\" when using the method controller:didChangeObject:atIndexPath:forChangeType:newIndexPath:\n. @rantav thanks for your sample code, this was exactly what I was thinking when I was thinking of a solution. To implement conditional reloadData. I hope this issue can be resolved at the source though.\n. The folder is called API and it's blue. Although when I include the folder name, compiler throws an error. File not found. \nIs there a wiki on how to install/use gmgridview in a Xcode project ? That would be quite useful I think.\n. thanks, that works.\n. Anyone? \n. Yes, since I posted this question, I realised I did not really need a View Controller. I have since switched to a UIView and all seems to be playing along well. \nif (!cell) \n    {\n        cell = [[GMGridViewCell alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n        ItemDetailView *cellView = [[ItemDetailView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n        cellView.backgroundColor = [UIColor whiteColor];\n   }\nItemDetail *detail = [self.details objectAtIndex:index];\nItemDetailView *detailView = (ItemDetailView*)cell.contentView;\n[ItemDetailView setDetail:detail];\nThis seems to work nicely and I assume the cells are being re-used too by doing so....\n. anyone?\n. @banaslee Not sure that would work efficiently as the user could be scrolling up and down fast and the network requests would still go out in this case. What would be ideal is something like indexPathsForVisibleRows in UITableView which we can use after the scrolling stops. \n. @steipete  @gmoledina  What is the best way to get visibleCells in GMGridView? In UITableview we have indexPathsForVisibleRows - which is basically what I am after. I am loading images asynchronously but I only do it when the scrolling has stopped to avoid hundreds of network requests. But when scrolling stops, I need to get access to the visible cells to be able to load/download those images. Any ideas?\nP.S. I am trying to avoid [reloadData] because apparently that is a resource intensive call as per Instruments.\n. So, is there a solution to how to use a FetchedResultsController successfully ? I too am getting stuck with this issue of the Assertion complaining about \"Invalid Index specified\" when using the method controller:didChangeObject:atIndexPath:forChangeType:newIndexPath:\n. @rantav thanks for your sample code, this was exactly what I was thinking when I was thinking of a solution. To implement conditional reloadData. I hope this issue can be resolved at the source though.\n. The folder is called API and it's blue. Although when I include the folder name, compiler throws an error. File not found. \nIs there a wiki on how to install/use gmgridview in a Xcode project ? That would be quite useful I think.\n. thanks, that works.\n. Anyone? \n. Yes, since I posted this question, I realised I did not really need a View Controller. I have since switched to a UIView and all seems to be playing along well. \nif (!cell) \n    {\n        cell = [[GMGridViewCell alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n        ItemDetailView *cellView = [[ItemDetailView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n        cellView.backgroundColor = [UIColor whiteColor];\n   }\nItemDetail *detail = [self.details objectAtIndex:index];\nItemDetailView *detailView = (ItemDetailView*)cell.contentView;\n[ItemDetailView setDetail:detail];\nThis seems to work nicely and I assume the cells are being re-used too by doing so....\n. anyone?\n. @banaslee Not sure that would work efficiently as the user could be scrolling up and down fast and the network requests would still go out in this case. What would be ideal is something like indexPathsForVisibleRows in UITableView which we can use after the scrolling stops. \n. ",
    "dxclancy": "i see what may look like rogue cells popping visible and then invisible very quickly.  I don't know if this is inherent in the core code or in my layout strategy, but it sounds like it may be similar to what you mention.  i'll update if i have more info.\n. There are actually 2 ways to approach this.  Assume ,for instance, that you want variable heights:\n1. A GMGridViewLayoutVerticalVariableHeightStrategy that has no access to the datasource.\n- it merely caches cell sizes as it produces them, based on previously seen sizes.\n- this is much more difficult, and requires more modification in the core code.\n- A theme of the changes in core revolve around being able to handle unbounded ranges or sizes, and then checking continuously as new origins are asked for to notice when the range or contentSize is now determined.\n- I have hacked together some stuff to do this, but it still suffers from content scrolls that are fast enough to not have asked for all previous cells when asking for a position origin. (since it will not have cached those position frames)\n- A VariableHeightLayoutStrategy that is constructed with access to the datasource.  It can then maintain its own cache of cell sizes by asking the datasource directly.  Less change is needed to the core code for this approach.\n- the major theme here, which is also needed in approach 1, is to have the core code act on and pass along the actual cell sizes, instead of the dataSource \"size\" which in this case is more of a maxSize.\nAlso, for this type of strategy, it is probably best to convert layout strategies to return NSIndexedSet instead of NSRange, as you may have to say that 0 - 45 is in bounds, but yet only half of those cells may be in bounds depending on how the heights stack up.  Without this, your views and cache are bigger than they may need to be, which maybe isn't a big deal.\nNote that i've only experimented with getting a layout and scrolling, not with any of the movement/editing/dragging/zooming etc...\n. http://i.imgur.com/l7rFv.jpg\n. I wasn't sure if you wanted the grid involved, so for now i just construct the strategy with a protocol that produces the sizes.\nby aligned, do you mean visually at the bottom of the scroll?  however they stack up.  You can end up with a bunch of \"jagged\" white space.  although i have an idea for how to make it look better.\n. i see what may look like rogue cells popping visible and then invisible very quickly.  I don't know if this is inherent in the core code or in my layout strategy, but it sounds like it may be similar to what you mention.  i'll update if i have more info.\n. There are actually 2 ways to approach this.  Assume ,for instance, that you want variable heights:\n1. A GMGridViewLayoutVerticalVariableHeightStrategy that has no access to the datasource.\n- it merely caches cell sizes as it produces them, based on previously seen sizes.\n- this is much more difficult, and requires more modification in the core code.\n- A theme of the changes in core revolve around being able to handle unbounded ranges or sizes, and then checking continuously as new origins are asked for to notice when the range or contentSize is now determined.\n- I have hacked together some stuff to do this, but it still suffers from content scrolls that are fast enough to not have asked for all previous cells when asking for a position origin. (since it will not have cached those position frames)\n- A VariableHeightLayoutStrategy that is constructed with access to the datasource.  It can then maintain its own cache of cell sizes by asking the datasource directly.  Less change is needed to the core code for this approach.\n- the major theme here, which is also needed in approach 1, is to have the core code act on and pass along the actual cell sizes, instead of the dataSource \"size\" which in this case is more of a maxSize.\nAlso, for this type of strategy, it is probably best to convert layout strategies to return NSIndexedSet instead of NSRange, as you may have to say that 0 - 45 is in bounds, but yet only half of those cells may be in bounds depending on how the heights stack up.  Without this, your views and cache are bigger than they may need to be, which maybe isn't a big deal.\nNote that i've only experimented with getting a layout and scrolling, not with any of the movement/editing/dragging/zooming etc...\n. http://i.imgur.com/l7rFv.jpg\n. I wasn't sure if you wanted the grid involved, so for now i just construct the strategy with a protocol that produces the sizes.\nby aligned, do you mean visually at the bottom of the scroll?  however they stack up.  You can end up with a bunch of \"jagged\" white space.  although i have an idea for how to make it look better.\n. ",
    "soleares": "I'm seeing a glitch in the simulator only when I call -reloadData. This looks like it's caused by one of the latest commits \"Put back an animation block to fix a glitch\" in -newItemSubViewForPosition. When I revert this change I don't see the issue anymore.\n. I think the issue is due to the following in -newItemSubViewForPosition:\n// To make sure the frame is not animated\n[UIView animateWithDuration:0 \n                      delay:0 \n                    options:UIViewAnimationOptionOverrideInheritedDuration \n                 animations:^{\n                     cell.frame = frame;\n                     cell.contentView.frame = cell.bounds;\n                 } \n                 completion:nil];\nIf I replace it with the following I don't see the issue anymore:\n[CATransaction begin];\n[CATransaction setValue:(id)kCFBooleanTrue\n                 forKey:kCATransactionDisableActions];\ncell.frame = frame;\ncell.contentView.frame = cell.bounds;\n[CATransaction commit];\n. I'm not able to reproduce the issue using the latest GMGridView code using ARC with iOS 4.3 and iOS 5. \nI created a sample project that you can use as a starting point to isolate the issue. It's a simple UINavigationController that pushes/pops one of the view controllers from the GMGridView example project:\nhttps://github.com/soleares/GMGridViewMemoryTest\nHere's what I recommend:\n1) Run the sample in Instruments with the Allocations instrument and verify that the GMGridView (and related objects) is deallocating. You should see the '# Living' column increase to 1 when you push, and the object should go away when you pop.\n2) Slowly add in any custom code from your project and see if/when the issue occurs.\nHope that helps.\n. I'm seeing a glitch in the simulator only when I call -reloadData. This looks like it's caused by one of the latest commits \"Put back an animation block to fix a glitch\" in -newItemSubViewForPosition. When I revert this change I don't see the issue anymore.\n. I think the issue is due to the following in -newItemSubViewForPosition:\n// To make sure the frame is not animated\n[UIView animateWithDuration:0 \n                      delay:0 \n                    options:UIViewAnimationOptionOverrideInheritedDuration \n                 animations:^{\n                     cell.frame = frame;\n                     cell.contentView.frame = cell.bounds;\n                 } \n                 completion:nil];\nIf I replace it with the following I don't see the issue anymore:\n[CATransaction begin];\n[CATransaction setValue:(id)kCFBooleanTrue\n                 forKey:kCATransactionDisableActions];\ncell.frame = frame;\ncell.contentView.frame = cell.bounds;\n[CATransaction commit];\n. I'm not able to reproduce the issue using the latest GMGridView code using ARC with iOS 4.3 and iOS 5. \nI created a sample project that you can use as a starting point to isolate the issue. It's a simple UINavigationController that pushes/pops one of the view controllers from the GMGridView example project:\nhttps://github.com/soleares/GMGridViewMemoryTest\nHere's what I recommend:\n1) Run the sample in Instruments with the Allocations instrument and verify that the GMGridView (and related objects) is deallocating. You should see the '# Living' column increase to 1 when you push, and the object should go away when you pop.\n2) Slowly add in any custom code from your project and see if/when the issue occurs.\nHope that helps.\n. ",
    "ghost": "Start example, choose paging strategy layout, swipe to page other than 1st or last, rotate device and gridview will display space  somewhere in a middle between two pages, and not automatically scroll to beginning of page.\n. The above solution \"indexPathsForVisibleRows\" for getting count of visible cells gives wrong results on orientation change. Unable to find the solution though. \n. I too am reloading data on orientation change but the count comes wrong for me though.\n. My problem persists when GMGridView is scrolled to the end when the GMGridView is partially filled...\nThe scenario is as follows :\nDatasource count = 44\nPotrait mode = 2 columns * 7 rows = 14 cells\nLandscape mode = 3 columns * 5 rows = 15 cells\nPotrait mode \n=> page 1 = count is 1 to 14.         ==> 14 cells\n=> page 2 = count is 15 to 28.       ==> 14 cells\n=> page 3 = count is 29 to 42.       ==> 14 cells\n=> page 4 = count is 43 to 44.       ==> 2 cells\nLandscape mode\n=> page 1 = count is 1 to 15.         ==> 15 cells\n=> page 2 = count is 16 to 30.       ==> 15 cells\n=> page 3 = count is 31 to 44.       ==> 14 cells\nNow when I scroll to the 3rd page in landscape mode and then change the orientation, I reach the\nto the 4th page but with count of 3rd page.\nAlso the [self.subViews count] gives me a different value each time the \"indexPathsForVisibleRows\" method is called. So I am considering \"[[self itemSubviews] count]\" as my counter for the for loop.\nMy grid view frame is ===> _gmGridView.frame=CGRectMake(10, 84, 1004, 565); for landscape\n_gmGridView.frame=CGRectMake(10, 84, 748, 820); for potrait\nAlso the item cell size is as follows\n- (CGSize)GMGridView:(GMGridView *)gridView sizeForItemsInInterfaceOrientation:(UIInterfaceOrientation)orientation\n  {\n         return CGSizeMake(_gmGridView.frame.size.width/_numberOfColumn, _gmGridView.frame.size.height/_numberOfRowVisible);\n  }\n. Sorry, I usually just make use of the github rather than participating in the development. \nBut I actually managed to fix this issue (on the fade animation). \n(I only fixed it on the method I make use of it may be a consistent problem -- see if it happens everywhere)\nClass:\nGMGridView.m\nMethod:\n- (void)reloadObjectAtIndex:(NSInteger)index withAnimation:(GMGridViewItemAnimation)animation\nExplanation:\nThe 'currentView' cell is being painted in the 0,0 position. Just don't animate its transition out and the replacement cell will correctly be painted over it.\n(i.e. comment out the following line:)\n//                         currentView.alpha = 0;\nand poof, problem gone. Hope it helps.\n. Thank you for posting this as I've been stumped by this as well!\n. Start example, choose paging strategy layout, swipe to page other than 1st or last, rotate device and gridview will display space  somewhere in a middle between two pages, and not automatically scroll to beginning of page.\n. The above solution \"indexPathsForVisibleRows\" for getting count of visible cells gives wrong results on orientation change. Unable to find the solution though. \n. I too am reloading data on orientation change but the count comes wrong for me though.\n. My problem persists when GMGridView is scrolled to the end when the GMGridView is partially filled...\nThe scenario is as follows :\nDatasource count = 44\nPotrait mode = 2 columns * 7 rows = 14 cells\nLandscape mode = 3 columns * 5 rows = 15 cells\nPotrait mode \n=> page 1 = count is 1 to 14.         ==> 14 cells\n=> page 2 = count is 15 to 28.       ==> 14 cells\n=> page 3 = count is 29 to 42.       ==> 14 cells\n=> page 4 = count is 43 to 44.       ==> 2 cells\nLandscape mode\n=> page 1 = count is 1 to 15.         ==> 15 cells\n=> page 2 = count is 16 to 30.       ==> 15 cells\n=> page 3 = count is 31 to 44.       ==> 14 cells\nNow when I scroll to the 3rd page in landscape mode and then change the orientation, I reach the\nto the 4th page but with count of 3rd page.\nAlso the [self.subViews count] gives me a different value each time the \"indexPathsForVisibleRows\" method is called. So I am considering \"[[self itemSubviews] count]\" as my counter for the for loop.\nMy grid view frame is ===> _gmGridView.frame=CGRectMake(10, 84, 1004, 565); for landscape\n_gmGridView.frame=CGRectMake(10, 84, 748, 820); for potrait\nAlso the item cell size is as follows\n- (CGSize)GMGridView:(GMGridView *)gridView sizeForItemsInInterfaceOrientation:(UIInterfaceOrientation)orientation\n  {\n         return CGSizeMake(_gmGridView.frame.size.width/_numberOfColumn, _gmGridView.frame.size.height/_numberOfRowVisible);\n  }\n. Sorry, I usually just make use of the github rather than participating in the development. \nBut I actually managed to fix this issue (on the fade animation). \n(I only fixed it on the method I make use of it may be a consistent problem -- see if it happens everywhere)\nClass:\nGMGridView.m\nMethod:\n- (void)reloadObjectAtIndex:(NSInteger)index withAnimation:(GMGridViewItemAnimation)animation\nExplanation:\nThe 'currentView' cell is being painted in the 0,0 position. Just don't animate its transition out and the replacement cell will correctly be painted over it.\n(i.e. comment out the following line:)\n//                         currentView.alpha = 0;\nand poof, problem gone. Hope it helps.\n. Thank you for posting this as I've been stumped by this as well!\n. ",
    "kylefox": "I think I'm experiencing the same issue (see screenshot). Any updates on this issue? Thanks!\n\n. Awesome, thanks! Let me know if there's anything I can do to help (although I'm quite a newb with iOS).\n(The app isn't released yet, but I'll definitely tell you more about it once it is!)\n. @tonyarnold I'm a bit confused, how does that work? GMGridView doesn't seem to implement those selectors.\n. @LauterAlsDerRest Interesting, I couldn't get your fix working either. Neither _scrollView nor currentPage existed. Are you using the master or develop brach?\n. @LauterAlsDerRest Great, thanks for clarifying.\n@tonyarnold Weird, I'm using the development branch as well. Aren't those methods located on UIViewController, rather than UIScrollView (from which GMGridView inherits)? When I try this with the latest code from the develop branch Xcode tells me:\nNo visible @interface for 'GMGridView' declares the selector 'willRotateToInterfaceOrientation:duration:'\n. @tonyarnold Drat! I hoped I was just overlooking something ;)\n@gmoledina Any updates / suggestions for how to tackle this issue? I've been hacking on the GMGridView but cannot seem to find the source of this bug. Probably because of my newness to iOS :)\nAny clues would be greatly appreciated, I really want to squash this issue!\n. For anyone else experiencing this issue, here's how you can patch it in your UIViewController:\n```\n-(void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration {\n    CGPoint offset = CGPointMake(_currentPage * self.view.frame.size.height, 0);  \n    [UIView\n     animateWithDuration:duration\n     animations:^{\n         self.gridView.contentOffset = offset;\n     }\n     completion:nil];\n}\n\n(void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView {\n    CGFloat pageWidth = scrollView.frame.size.width;\n    _currentPage = floor((scrollView.contentOffset.x - pageWidth / 2) / pageWidth) + 1;\n}\n```\n. +1\n\nAny updates on this? Would really love to (easily) add a header view in vertical mode.\n. Aha. Realized I needed to manually add the QuartzCore.framework to the target.\nI see the README already indicates this framework is required, but it might we worth mentioning that you need to manually add it. It may save future rookies like myself from making the same mistake :)\n. Good to know, thanks for the reply!\n. Ok thanks, I will move to the development branch and try your suggestion for now.\nUnrelated: do you have any idea when you'll be merging the develop branch into master? It seems like there have been some API changes, and I'm wondering if I'm better off building my app against \"develop\" going forward.\n. Wow, I've been beating my head against my desk all day trying to figure out why my images were lagging -- even though I'm loading them asynchronously from disk.\n@steipete's preloading code instantly made things super smooth! Thanks!\n. I think I'm experiencing the same issue (see screenshot). Any updates on this issue? Thanks!\n\n. Awesome, thanks! Let me know if there's anything I can do to help (although I'm quite a newb with iOS).\n(The app isn't released yet, but I'll definitely tell you more about it once it is!)\n. @tonyarnold I'm a bit confused, how does that work? GMGridView doesn't seem to implement those selectors.\n. @LauterAlsDerRest Interesting, I couldn't get your fix working either. Neither _scrollView nor currentPage existed. Are you using the master or develop brach?\n. @LauterAlsDerRest Great, thanks for clarifying.\n@tonyarnold Weird, I'm using the development branch as well. Aren't those methods located on UIViewController, rather than UIScrollView (from which GMGridView inherits)? When I try this with the latest code from the develop branch Xcode tells me:\nNo visible @interface for 'GMGridView' declares the selector 'willRotateToInterfaceOrientation:duration:'\n. @tonyarnold Drat! I hoped I was just overlooking something ;)\n@gmoledina Any updates / suggestions for how to tackle this issue? I've been hacking on the GMGridView but cannot seem to find the source of this bug. Probably because of my newness to iOS :)\nAny clues would be greatly appreciated, I really want to squash this issue!\n. For anyone else experiencing this issue, here's how you can patch it in your UIViewController:\n```\n-(void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration {\n    CGPoint offset = CGPointMake(_currentPage * self.view.frame.size.height, 0);  \n    [UIView\n     animateWithDuration:duration\n     animations:^{\n         self.gridView.contentOffset = offset;\n     }\n     completion:nil];\n}\n\n(void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView {\n    CGFloat pageWidth = scrollView.frame.size.width;\n    _currentPage = floor((scrollView.contentOffset.x - pageWidth / 2) / pageWidth) + 1;\n}\n```\n. +1\n\nAny updates on this? Would really love to (easily) add a header view in vertical mode.\n. Aha. Realized I needed to manually add the QuartzCore.framework to the target.\nI see the README already indicates this framework is required, but it might we worth mentioning that you need to manually add it. It may save future rookies like myself from making the same mistake :)\n. Good to know, thanks for the reply!\n. Ok thanks, I will move to the development branch and try your suggestion for now.\nUnrelated: do you have any idea when you'll be merging the develop branch into master? It seems like there have been some API changes, and I'm wondering if I'm better off building my app against \"develop\" going forward.\n. Wow, I've been beating my head against my desk all day trying to figure out why my images were lagging -- even though I'm loading them asynchronously from disk.\n@steipete's preloading code instantly made things super smooth! Thanks!\n. ",
    "tonyarnold": "@gmoledina how'd you go with this error? I'm seeing it while using the development branch on an iPhone app.\n. I'll give you an easier answer:\n``` objective-c\n\n\n(void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration\n{\n    [[self imageScrollView] willRotateToInterfaceOrientation:toInterfaceOrientation duration:duration];\n    [super willRotateToInterfaceOrientation:toInterfaceOrientation duration:duration];\n}\n\n\n(void)willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration\n{\n    [[self imageScrollView] willAnimateRotationToInterfaceOrientation:toInterfaceOrientation duration:duration];\n    [super willAnimateRotationToInterfaceOrientation:toInterfaceOrientation duration:duration];\n}\n```\n\n\nAdd that to your view controller (where [self imageScrollView] is your GMGridView instance.\n. @kylefox I'm working with the development branch. Perhaps these delegate methods have not made it into master yet.\n. Completely my bad \u2014 you're correct. I was thinking about some other code, and somehow got it mixed up with GMGridView. Ignore me and go back to your lives\u2026 hands head in shame\n. Absolutely, I've run into this now so I'll see what I can do and push it back.\n. NSFetchedResultsController is not tied to UITableViewController (or any other type of controller) \u2014 it's a fairly generic data source. I am using it in one of my apps to back a GMGridView instance, so it's definitely possible.\n. @gmoledina how'd you go with this error? I'm seeing it while using the development branch on an iPhone app.\n. I'll give you an easier answer:\n``` objective-c\n\n\n(void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration\n{\n    [[self imageScrollView] willRotateToInterfaceOrientation:toInterfaceOrientation duration:duration];\n    [super willRotateToInterfaceOrientation:toInterfaceOrientation duration:duration];\n}\n\n\n(void)willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration\n{\n    [[self imageScrollView] willAnimateRotationToInterfaceOrientation:toInterfaceOrientation duration:duration];\n    [super willAnimateRotationToInterfaceOrientation:toInterfaceOrientation duration:duration];\n}\n```\n\n\nAdd that to your view controller (where [self imageScrollView] is your GMGridView instance.\n. @kylefox I'm working with the development branch. Perhaps these delegate methods have not made it into master yet.\n. Completely my bad \u2014 you're correct. I was thinking about some other code, and somehow got it mixed up with GMGridView. Ignore me and go back to your lives\u2026 hands head in shame\n. Absolutely, I've run into this now so I'll see what I can do and push it back.\n. NSFetchedResultsController is not tied to UITableViewController (or any other type of controller) \u2014 it's a fairly generic data source. I am using it in one of my apps to back a GMGridView instance, so it's definitely possible.\n. ",
    "LauterAlsDerRest": "I fixed the issue for myself by implementing \n- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView {\n  CGFloat pageWidth = _scrollView.frame.size.width;\n  currentPage = floor((_scrollView.contentOffset.x - pageWidth / 2) / pageWidth) + 1;\n  }\nin GMGridview\nand doing \nCGRect frame = _scrollView.frame;\nframe.origin.x = frame.size.width * currentPage;\nframe.origin.y = 0;\n[_scrollView scrollRectToVisible:frame animated:NO]; \nat the end of - (void)relayoutItemsAnimated:(BOOL)animated in GMGridview\nmore of a bandaid-fix but it works.\n. @kylefox asked myself the same question. All I can say is that my bandaid-fix works, but it would be better to only reupdate after a rotation and only when in horizontal-paging-mode for performance reasons. Maybe I will handle this, but at the moment it just works as it is for me.\n. @kylefox you have to add and track the currentPage as a property for yourself, sorry for not being clear. _scrollView is/was a property for the underlying scrollview in the master-branch. \n. I fixed the issue for myself by implementing \n- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView {\n  CGFloat pageWidth = _scrollView.frame.size.width;\n  currentPage = floor((_scrollView.contentOffset.x - pageWidth / 2) / pageWidth) + 1;\n  }\nin GMGridview\nand doing \nCGRect frame = _scrollView.frame;\nframe.origin.x = frame.size.width * currentPage;\nframe.origin.y = 0;\n[_scrollView scrollRectToVisible:frame animated:NO]; \nat the end of - (void)relayoutItemsAnimated:(BOOL)animated in GMGridview\nmore of a bandaid-fix but it works.\n. @kylefox asked myself the same question. All I can say is that my bandaid-fix works, but it would be better to only reupdate after a rotation and only when in horizontal-paging-mode for performance reasons. Maybe I will handle this, but at the moment it just works as it is for me.\n. @kylefox you have to add and track the currentPage as a property for yourself, sorry for not being clear. _scrollView is/was a property for the underlying scrollview in the master-branch. \n. ",
    "scompt": "@kylefox's solution didn't work for me, so I came up with my own, also based on the develop branch:\n```\n- (void)willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration {\n    id layoutStrategy = gridView.layoutStrategy;\n    if([layoutStrategy isKindOfClass:[GMGridViewLayoutHorizontalPagedStrategy class]]) {\n        GMGridViewLayoutHorizontalPagedStrategy *pagedStrategy = layoutStrategy;\n        if(pagedStrategy.numberOfItemsPerPage != 0) {\n            [gridView scrollToObjectAtIndex:_currentPage * pagedStrategy.numberOfItemsPerPage atScrollPosition:GMGridViewScrollPositionNone animated:YES];\n        }\n    }\n}\n\n(void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView {\n    CGFloat pageWidth = scrollView.frame.size.width;\n    _currentPage = floor((scrollView.contentOffset.x - pageWidth / 2) / pageWidth) + 1;\n}\n```\n\nIt's less than ideal because there's a bit of a jerk at the beginning of the rotation. View the rotation in the simulator with slow-motion animations and you'll see what I mean.\n. That does sound like it'll ease the implementation. I'm looking forward to seeing it.\n. I wanted to check back in and say that the design of my project has changed so that I don't have a current need for the pull-to-reload functionality. I'd still like to implement it, but I'll have to do so in my free time.\nIn other news, the current develop branch (a9af11fa504615da352db539e35c0b8f8a63fb67) is working well for me.\n. Thanks for the idea, @mwyman . Unfortunately, it looks like every time the optimization is taken, the subviews cache is valid as well.\n. The API I'm using returns data in pages with 24 items per page. In my\napp, I display 12 cells per page. The items are basically image and\ndescription.\nWhen my grid delegate fetches a cell that hasn't yet been downloaded,\nit triggers an async load of the data and returns an empty cell. I\nhave some synchronization which prevents this from happening multiple\ntimes per page of data. When the API call returns, I call reloadData\nso that all of the cells are created again.\nI suppose the alternative you're suggesting is to go through and see\nwhich of the new items have cells that are currently displayed and\nreload those. Because that will be at least 1 page of cells and\npotentially more depending on how fast the user scrolls, I've chosen\nto reload the entire dataset.\nBased on this use case, do you still recommend your suggestion or is\nthe \"reload everything\" approach worth supporting?\nOn Wed, Apr 11, 2012 at 4:39 AM, Gulam Moledina\nreply@reply.github.com\nwrote:\n\nWouldn't you want to load the data of each cell separately ? What happens when you scroll otherwise ? You fetch the new data and then reload the grid ?\nIf you really need to do it this way, we could have a way to force-reloadData. But it seems that each cell data should be handled separately and so as soon as the data of a specific cell is available, only that cell gets reloaded.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/65#issuecomment-5061072\n. I'm using IB to create the cells. I've created a subclass of GMGridViewCell and this is part of what the init method looks like:\n\n```\n\n(id) init {\n    self = [super initWithFrame:CGRectMake(0, 0, 245, 235)];\n    if (self) {\n        [[NSBundle mainBundle] loadNibNamed:@\"GVCardFront\"\n                                      owner:self\n                                    options:nil];\n        NSAssert(self.frontContent != nil, @\"NIB file loaded but content property not set.\");UIView *parentView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 245, 235)];\n\n[parentView addSubview:self.frontContent];\nself.contentView = parentView;\n\n```\n\n\nAnd this is from the header:\n```\n@property (nonatomic, retain) IBOutlet UIView      *frontContent;\n```\n. Can't help you there.\nOn Friday, May 18, 2012 at 1:15 PM, Ricardo1980 wrote:\n\nThanks! It's useful. Can I do something similar with Storyboard?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/96#issuecomment-5783905\n. @kylefox's solution didn't work for me, so I came up with my own, also based on the develop branch:\n\n```\n- (void)willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration {\n    id layoutStrategy = gridView.layoutStrategy;\n    if([layoutStrategy isKindOfClass:[GMGridViewLayoutHorizontalPagedStrategy class]]) {\n        GMGridViewLayoutHorizontalPagedStrategy *pagedStrategy = layoutStrategy;\n        if(pagedStrategy.numberOfItemsPerPage != 0) {\n            [gridView scrollToObjectAtIndex:_currentPage * pagedStrategy.numberOfItemsPerPage atScrollPosition:GMGridViewScrollPositionNone animated:YES];\n        }\n    }\n}\n\n(void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView {\n    CGFloat pageWidth = scrollView.frame.size.width;\n    _currentPage = floor((scrollView.contentOffset.x - pageWidth / 2) / pageWidth) + 1;\n}\n```\n\nIt's less than ideal because there's a bit of a jerk at the beginning of the rotation. View the rotation in the simulator with slow-motion animations and you'll see what I mean.\n. That does sound like it'll ease the implementation. I'm looking forward to seeing it.\n. I wanted to check back in and say that the design of my project has changed so that I don't have a current need for the pull-to-reload functionality. I'd still like to implement it, but I'll have to do so in my free time.\nIn other news, the current develop branch (a9af11fa504615da352db539e35c0b8f8a63fb67) is working well for me.\n. Thanks for the idea, @mwyman . Unfortunately, it looks like every time the optimization is taken, the subviews cache is valid as well.\n. The API I'm using returns data in pages with 24 items per page. In my\napp, I display 12 cells per page. The items are basically image and\ndescription.\nWhen my grid delegate fetches a cell that hasn't yet been downloaded,\nit triggers an async load of the data and returns an empty cell. I\nhave some synchronization which prevents this from happening multiple\ntimes per page of data. When the API call returns, I call reloadData\nso that all of the cells are created again.\nI suppose the alternative you're suggesting is to go through and see\nwhich of the new items have cells that are currently displayed and\nreload those. Because that will be at least 1 page of cells and\npotentially more depending on how fast the user scrolls, I've chosen\nto reload the entire dataset.\nBased on this use case, do you still recommend your suggestion or is\nthe \"reload everything\" approach worth supporting?\nOn Wed, Apr 11, 2012 at 4:39 AM, Gulam Moledina\nreply@reply.github.com\nwrote:\n\nWouldn't you want to load the data of each cell separately ? What happens when you scroll otherwise ? You fetch the new data and then reload the grid ?\nIf you really need to do it this way, we could have a way to force-reloadData. But it seems that each cell data should be handled separately and so as soon as the data of a specific cell is available, only that cell gets reloaded.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/65#issuecomment-5061072\n. I'm using IB to create the cells. I've created a subclass of GMGridViewCell and this is part of what the init method looks like:\n\n```\n\n(id) init {\n    self = [super initWithFrame:CGRectMake(0, 0, 245, 235)];\n    if (self) {\n        [[NSBundle mainBundle] loadNibNamed:@\"GVCardFront\"\n                                      owner:self\n                                    options:nil];\n        NSAssert(self.frontContent != nil, @\"NIB file loaded but content property not set.\");UIView *parentView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 245, 235)];\n\n[parentView addSubview:self.frontContent];\nself.contentView = parentView;\n\n```\n\n\nAnd this is from the header:\n```\n@property (nonatomic, retain) IBOutlet UIView      *frontContent;\n```\n. Can't help you there.\nOn Friday, May 18, 2012 at 1:15 PM, Ricardo1980 wrote:\n\nThanks! It's useful. Can I do something similar with Storyboard?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/96#issuecomment-5783905\n. \n",
    "randomsequence": "Oh damn, I'm out of my depth now. Reads up on fast-forward merges.\n. I've never done it that way myself, assuming that [super initWithCoder:] isn't the same as [super initWithFrame:]. If you're sure it's a sensible thing to do then go ahead.\nEdit: I'm going with Kevin Ballard's Advice on this one - keep the -[GMGridView _setup] method.\n. I understand your reasoning for renaming the _setup method; do you want me to do this?\nStoryboards are very similar to normal Xibs - they just gather more than one view controller into the same area and make it easier to set up transitions between them.\n. OK. If you look two commits ahead of this one in my repository there's a more interesting addition which you might want to merge in first: -[GMGridView moveObjectAtIndex:toIndex:]\n. Oh damn, I'm out of my depth now. Reads up on fast-forward merges.\n. I've never done it that way myself, assuming that [super initWithCoder:] isn't the same as [super initWithFrame:]. If you're sure it's a sensible thing to do then go ahead.\nEdit: I'm going with Kevin Ballard's Advice on this one - keep the -[GMGridView _setup] method.\n. I understand your reasoning for renaming the _setup method; do you want me to do this?\nStoryboards are very similar to normal Xibs - they just gather more than one view controller into the same area and make it easier to set up transitions between them.\n. OK. If you look two commits ahead of this one in my repository there's a more interesting addition which you might want to merge in first: -[GMGridView moveObjectAtIndex:toIndex:]\n. ",
    "malcommac": "Yeah you're right, that's a mistake of mine :)\nOkay it could be a to-do feature :P\n. Yeah you're right, that's a mistake of mine :)\nOkay it could be a to-do feature :P\n. ",
    "kielgillard": "I'm interested in the addition of this API, too.\n. I'm interested in the addition of this API, too.\n. ",
    "nomadplanet": "+1 !\n. +1\n. +1 !\n. +1\n. ",
    "andrewtheis": "I'm adding a header for the whole Grid in interface builder, and using setMinEdgeInsets: to shift the grid content down. This would work great except cells are dequeued & removed from the view prematurely when scrolling up (about 1 grid row distance). Thoughts? Am I using setMinEdgeInsets incorrectly?\n. Figured this out: When calculating out the rows to display, the vertical layout strategy doesn't take into account the minEdgeInsets. I changed line 225 in GMGridViewLayoutStrategies to:\nCGFloat firstRow = MAX(0, (int)((contentOffset.y - self.edgeInsets.top) / itemHeight) - 1);\n. I'm adding a header for the whole Grid in interface builder, and using setMinEdgeInsets: to shift the grid content down. This would work great except cells are dequeued & removed from the view prematurely when scrolling up (about 1 grid row distance). Thoughts? Am I using setMinEdgeInsets incorrectly?\n. Figured this out: When calculating out the rows to display, the vertical layout strategy doesn't take into account the minEdgeInsets. I changed line 225 in GMGridViewLayoutStrategies to:\nCGFloat firstRow = MAX(0, (int)((contentOffset.y - self.edgeInsets.top) / itemHeight) - 1);\n. ",
    "m2d2": "andrewtheis, fantastic catch on the layout strategy. aquarius branch + your fix made everything work :)\n. andrewtheis, fantastic catch on the layout strategy. aquarius branch + your fix made everything work :)\n. ",
    "bencallis": "Did anyone ever implement this? I was hopping to included a searchbar at the top of the grdiview. So when you pull down it appears (like in mail).\n. Did anyone ever implement this? I was hopping to included a searchbar at the top of the grdiview. So when you pull down it appears (like in mail).\n. ",
    "neoneye": "+1 \nI'm interested in this too.\n. +1 \nI'm interested in this too.\n. ",
    "florianbuerger": "has been added in develop branch, so i think i can close this one ;) \n. has been added in develop branch, so i think i can close this one ;) \n. ",
    "vyacheslavartemev": "It's will be a very useful feature! \nP.S. Nice control;)\n. It's will be a very useful feature! \nP.S. Nice control;)\n. ",
    "pablasso": "Oh sorry, I didn't notice.\n. Oh sorry, I didn't notice.\n. ",
    "blackgold9": "That sounds great!\n. Wow. The forced decoding and success callback queue in AFNetworking made this buttery smooth.\n. Glad it's not just me screwing up somewhere. I'll take a look after i ship :)\n. That sounds great!\n. Wow. The forced decoding and success callback queue in AFNetworking made this buttery smooth.\n. Glad it's not just me screwing up somewhere. I'll take a look after i ship :)\n. ",
    "tofortier": "Same problem here but also happening in 5.1. Is there a way to turn off gesture recognizers all together?\n. Same problem here but also happening in 5.1. Is there a way to turn off gesture recognizers all together?\n. ",
    "rscott78": "I still think it would be nice if the Readme contained info on how to add this to one's own project. I'm still banging my head against the wall trying to make it work.\n. I still think it would be nice if the Readme contained info on how to add this to one's own project. I'm still banging my head against the wall trying to make it work.\n. ",
    "majinbigor": "not working for me. I've have the same problem. I put in each cell, a UIImageView, but when i repeatedly push/pop it from UiNavigationController, memory remain allocated.\n. i've tried your project and work perfectly. in my project, after that i pop uiviewcontroller, the GMGridView and his Cell grid  remain in memory. The ARC does not even use, because it is a project started long ago and very large. could be the problem?\n. not working for me. I've have the same problem. I put in each cell, a UIImageView, but when i repeatedly push/pop it from UiNavigationController, memory remain allocated.\n. i've tried your project and work perfectly. in my project, after that i pop uiviewcontroller, the GMGridView and his Cell grid  remain in memory. The ARC does not even use, because it is a project started long ago and very large. could be the problem?\n. ",
    "mwyman": "I'd also be interested in this getting in the grid view.\nYou could have the grid view ask the layout strategy for a frame rectangle for each cell index, rather than asking for position and assuming the size of the frame.\n. The grid essentially only asks the layout for the origin when it wants to create a frame rectangle. Rather than ask for origin and size for each item, I'd recommend having the layout to return a frame rectangle directly. Particularly with complex layouts, this can save duplicated effort that would occur with multiple calls to figure out origin and size separately.\n. Perhaps you meant the layout, not the data source? I don't think the data source should be asked (at least as part of the protocol) about the sizes of individual elements. Perhaps the layout subclass has knowledge of the specifics of the data being displayed, but the protocol needn't assume that.\nIn any case, the layout should maintain the list of frames, and the grid should always ask the layout for the frame. The standard cases (regular grid) don't require storing of a list of frames, so the grid shouldn't bother maintaining one and instead do the current behavior. However, for differently sized layouts there is utility in maintaining the frame lists...\n. Currently the grid asks the layout for the indices of cells that should be visible in a certain frame/viewport rectangle, and the then requests the origin for all indices not currently loaded (as it loads them). This same behavior can work here.\nThe following needs to happen when new data arrives (-reloadData)\n1. Grid asks the data source for the number of elements (this is cached for later, until -reloadData is called again)\n2. Grid updates the layout with the number of elements and current grid view size (some layouts update calculations based on this)\n3. Grid asks the layout for the indices visible in the current scroll view content frame.\n4. Grid creates cells for each non-loaded index, requesting the frame for that cell from the layout (by index)\n5. Grid recycles any cells no longer visible (no frame request necessary, as this is done by index)\nWhen scrolling, the grid runs steps 3-5 again.\nFor the case where you have a complex set of frames, I would have the layout pre-calculate all frames in step 2. Knowing the frames (in the case of variable-sized cells) is necessary for step 3, and you want step 3 to be fairly fast.\nThe list of steps above is identical to the existing behavior, except the grid asks for frames and not origins. You can search for instances of -originForItemAtPosition:. I don't think there's an instance where the surrounding code doesn't immediately create a CGRect frame from the result of that call and the pre-defined CGSize for cells on that grid. You can refactor that method to return be -frameForItemAtPosition:, and modify the surrounding code appropriately.\nThis method will work for static cells, but I think the animations and event handling in more dynamic grids would be tricky. I think that's some of the only code in GMGridView itself that has more complicated logic around the origin points...\n. The point of the optimization looks to be preventing unnecessary code running during scrolling. Rather than revert, it looks to me like the optimization code should check whether self.itemsSubviewsCacheIsValid as well. -reloadData and some of the insert/remove methods will invalidate the subview cache, whereas scrolling doesn't.\n. My app does a similar thing. The way I handle the async loading is to have the cell views associated with the asynchronous load operation, and the operation completes it sets whatever properties are necessary on the cell view, then calls -setNeedsDisplay on it. This way the views update, but don't require recalculating the grid layout.\nIf you have the cell views reference the asynchronous operation, you can also cancel the operation when the views get recycled in -GMGridView:cellForItemAtIndex:. This way you don't need to worry much about which views are onscreen, as that largely takes care of itself.\nI have paged-loading grids with 24+ items onscreen at once, all loaded asynchronously (although often from cached data). The loading works fine, but without something preventing re-layout on every scroll, I get pretty laggy scrolling (particularly on iPad 1's).\nMy biggest concern when paging is the lack of a method similar to UITableView's -insertRowsAtIndexPaths:withRowAnimation:. Multiple -insertObjectAtIndex:... calls cause multiple re-layouts, or I have to call -reloadData, and I don't feel a clear sense of the expected behavior of the scroll content offset that results.\n. This as a problem with the gesture recognizers detecting taps gobbling presses on cell views.\nI've gotten around this problem by modifying the GMGridView's -gestureRecognizer:shouldRecieveTouch: to return false for either the tap or long-press gestures when the touched view is a subclass of UIControl or the descendent of one.\n. That should work in most cases. However, you should also test against the _sortingLongPressGesture, and you may want to check whether the touched view is a descendent of a UIButton (actually, I'd generalize to UIControl).\n``` objective-c\n\n\n(BOOL)gestureRecognizer:(UIGestureRecognizer )gestureRecognizer shouldReceiveTouch:(UITouch )touch\n{\n    if ( gestureRecognizer == _tapGesture || gestureRecognizer == _sortingLongPressGesture ) {\n        if ( [touch.view isDescendantOfView:self] ) {\n            // Test if the touched view is a subview of a control\n            for ( UIView *view = touch.view ; view != self ; view = view.superview )\n                if ( [view isKindOfClass:[UIControl class]] )\n                    return NO;\n        }\n    }\nreturn YES;\n}\n```\n. One method would be to use setTag: on your buttons when you get the cell in GMGridView:cellForItemAtIndex:, setting it to the index of the cell. Note that you will need to do this every time you recycle a cell, not just when you create the buttons.\n. The point of the datasource method is to recycle the cell views. You're only setting the image at the time you first create the cell, so I'd completely expect that when you scroll far enough to recycle cells, they'll show the old images.\n\n\nYour code should be more like:\n``` objective-c\nGMGridViewCell *cell = [gridView dequeueReusableCell];\nif ( !cell ) {\n    cell = [[GMGridViewCell alloc] init];\ncell.contentView = [[UIImageView alloc] init];\n\n}\nNSString imageName = [NSString stringWithFormat:@\"%@.png\", [_data objectAtIndex:index]];\n[(UIImageView )cell.contentView setImage:[UIImage imageNamed:imageName]]\nreturn cell;\n```\nAlso, the [[cell.contentView subviews] makeObjectsPerformSelector:@selector(removeFromSuperview)] probably isn't needed (and wasn't doing anything in your example, as it has no subviews of cell.contentView), and not wanted, since you should reset the contents of your cell views, not recreate them every time...\n. Maybe I'm wrong, but this code is very similar to another performance improvement that was committed then withdrawn a while ago.\nWhile it's useful in speeding up scrolling (I have similar code in a private build), it apparently caused problems for some developers. Not quite sure why my use case isn't giving me the same problems (perhaps because I'm not allowing reordering)...\n. A code snippet would help...\n. I mentioned this in another thread, but when you know for certain the intended size of you grid cell, you should create the GMGridViewCell with [[GMGridViewCell alloc] initWithFrame:CGRectMake( 0, 0, size.width, size.height )].\nThis is because when you set the contentView property on a GMGridViewCell, the view gets resized to the current bounds of the cell. When you create the cell with just -init, it turns into initWithFrame:CGRectZero. Before the cell is added to the view hierarchy, it gets resized to the appropriate cell size. However, in your case it will be too late for the UILabel's you created for the first cells being displayed.\nBecause you create the UILabel's with initWithFrame:cell.contentView.bounds, they're created with a non-zero frame only when the views are recycled (i.e. after they've already been in the view hierarchy). That's why your views only appear after you scroll. Create the GMGridViewCell calling initWithFrame: and this should fix your problem.\nNow, once you fix this by initializing the GMGridViewCell with the correct size, I would also recommend you move the creation of the UILabels into the if ( !cell ) block... You're recreating several UILabel's whenever you recycle a grid item, with almost identical properties. You should create them only once and just change the relevant properties each time. Use the tag property of UIView, and viewWithTag: to find the labels when recycling (but not creating) the cells.\n. This looks rather over-complicated to me, with multiple layered UIImageView's. I'd usually recommend creating a subclass of UIView to be your cell view, and simply have some image properties on it that get set every time you run through GMGridView:cellForItemAtIndex:.\nLooking at this code, I think you have some layers of UIImageView's that are getting in the way when you recycle the views. You have caratula at subview index 1, and caratulaFront at index 2 (and since it's added last, it will be on top of the view hierarchy). And since caratulaFront has the same size as the content view, it may well completely cover the other images.\nFor performance reasons, it's often better to custom-draw your view than use too many composited views (in this case, three UIImageView's), and in this case it may clean up the recycling code.\n. One thing to consider is that GMGridViewCell is itself a UIView subclass. It also implements a custom setter for the contentView property, and there it sets the new content view's frame to be the (current) cell bounds. This is somewhat of a gotcha, particularly if you follow the pattern of creating your content subview based on the cell or content view's bounds. The cell will be resized when added to the view hierarchy, but that will be after your other views are created (and you would need to have autoresize masks, or re-implement -layoutSubviews on the content view).\nBecause of this, you should create the GMGridViewCell with the intended size where possible:\n``` Objective-C\nif ( !cell )\n{\n    CGRect cellFrame = CGRectZero;\n    cellFrame.size = [self sizeForItemsInGMGridView:gridView];\ncell = [[GMGridViewCell alloc] initWithFrame:cellFrame];\ncell.contentView = [[UIImageView alloc] initWithFrame:cell.bounds];\n\n}\n```\nThis may prevent the flickering you're seeing. It also slightly helps performance...\nThis is also possibly a reason for the behavior you were seeing with your first set of code. Because you create the UIImageViews with cell.contentView.bounds as their frame, they're being created with a frame equivalent to CGRectZero. You also weren't setting auto-resizing masks.\nAlso, I would recommend against depending on the order of subviews. Sure, [view.subviews objectAtIndex:1] may work now, but when you add another subview next month, then reorder your subview creation code to read more logically, suddenly your addSubview: calls are in a different order while you've completely forgotten about the objectAtIndex:1... Using -viewWithTag: would be a better option.\nBut I'd go back to my original recommendation of creating a custom UIView subclass to be your grid cell view. Then you can have properties that reference the individual UIImageViews, or alternatively just store the UIImages and override -drawRect: and get better performance.\n``` Objective-C\n- (GMGridViewCell )GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n{\n    GMGridViewCell *cell = [gridView dequeueReusableCell];\n    if ( !cell ) \n    {\n        CGRect cellFrame = CGRectZero;\n        cellFrame.size = [self GMGridView:gridView sizeForItemsInInterfaceOrientation:[[UIApplication sharedApplication] statusBarOrientation]];\n    cell = [[GMGridViewCell alloc] initWithFrame:cellFrame];\n\n    MyDVDCoverView *dvdCover = [[MyDVDCoverView alloc] initWithFrame:cell.bounds];\n    dvdCover.backgroundImage = [UIImage imageNamed:@\"...\"];\n    dvdCover.foregroundImage = [UIImage imageNamed:@\"...\"];\n    cell.contentView = dvdCover;\n}\n\nMyDVDCoverView *coverView = (MyDVDCoverView *)cell.contentView;\ncoverView.dvdArtwork = [self.artworkImages objectAtIndex:index];\n\nreturn cell;\n\n}\n``\n. Are you getting a UIImage back in-setCoverName:`? That could be the problem.\nAlso, I wouldn't create UIImageView's only to call their -drawRect: method. Just store UIImage's, and use their drawing methods to draw.\n. Out of curiosity, what happens if you comment out the [self.caratulaFront drawRect:rect] while doing the -drawRect: method?\n. I don't consider this a defect. Due to cell recycling, if the position is not loaded/visible, it has no cell and thus a nil value is entirely appropriate.\nForcing the grid to create a cell for an unloaded position could too easily cause memory pressure for large grids (or content views).\n. Is the ItemDetailsController's view getting created correctly (is it valid when you attempt to add it as a subview)?\nAlso, does your case really call for a view controller? While UIViewController does sound all MVC-ish, it's not really meant for small views going into a grid...\nAlso, in general you should avoid directly adding a UIViewController's view as a subview of another view controller. It often doesn't play nice, without a lot of bookkeeping code. And I believe Apple has said it may be completely disallowed in iOS 5+ (unless you go through the correct bookkeeping process).\n. I'm guessing you're loading the image in your GMGridView:cellForItemAtIndex: method?\nThe key to prevent lag while scrolling is to dispatch the image file loading onto a background thread, and once the image is loaded into a UIImage dispatch to the main thread to set the image on your cell's image view. Loading UIImage's from storage can be an expensive operation. Both the time to load the bytes, and also decoding the JPEG or PNG data. By moving this off the main thread, the grid will scroll smoothly.\nIn most cases, there may be a small bit of the cell visible before the image loads in, but usually not enough to be too noticeable. I have some apps displaying large grids of images, and it performs just fine.\n. I guess when I said \"background thread\", what I probably should have said was \"not the main thread\". My code dispatches the image load to the DEFAULT level queue to handle the loading. I believe the actual BACKGROUND level has some throttling, and may be holding off until the main queue is sufficiently quiet before it runs.\nMy async loading dispatches to DEFAULT to load the UIImages, after which they're dispatched to MAIN to update the views.\n. I'd also be interested in this getting in the grid view.\nYou could have the grid view ask the layout strategy for a frame rectangle for each cell index, rather than asking for position and assuming the size of the frame.\n. The grid essentially only asks the layout for the origin when it wants to create a frame rectangle. Rather than ask for origin and size for each item, I'd recommend having the layout to return a frame rectangle directly. Particularly with complex layouts, this can save duplicated effort that would occur with multiple calls to figure out origin and size separately.\n. Perhaps you meant the layout, not the data source? I don't think the data source should be asked (at least as part of the protocol) about the sizes of individual elements. Perhaps the layout subclass has knowledge of the specifics of the data being displayed, but the protocol needn't assume that.\nIn any case, the layout should maintain the list of frames, and the grid should always ask the layout for the frame. The standard cases (regular grid) don't require storing of a list of frames, so the grid shouldn't bother maintaining one and instead do the current behavior. However, for differently sized layouts there is utility in maintaining the frame lists...\n. Currently the grid asks the layout for the indices of cells that should be visible in a certain frame/viewport rectangle, and the then requests the origin for all indices not currently loaded (as it loads them). This same behavior can work here.\nThe following needs to happen when new data arrives (-reloadData)\n1. Grid asks the data source for the number of elements (this is cached for later, until -reloadData is called again)\n2. Grid updates the layout with the number of elements and current grid view size (some layouts update calculations based on this)\n3. Grid asks the layout for the indices visible in the current scroll view content frame.\n4. Grid creates cells for each non-loaded index, requesting the frame for that cell from the layout (by index)\n5. Grid recycles any cells no longer visible (no frame request necessary, as this is done by index)\nWhen scrolling, the grid runs steps 3-5 again.\nFor the case where you have a complex set of frames, I would have the layout pre-calculate all frames in step 2. Knowing the frames (in the case of variable-sized cells) is necessary for step 3, and you want step 3 to be fairly fast.\nThe list of steps above is identical to the existing behavior, except the grid asks for frames and not origins. You can search for instances of -originForItemAtPosition:. I don't think there's an instance where the surrounding code doesn't immediately create a CGRect frame from the result of that call and the pre-defined CGSize for cells on that grid. You can refactor that method to return be -frameForItemAtPosition:, and modify the surrounding code appropriately.\nThis method will work for static cells, but I think the animations and event handling in more dynamic grids would be tricky. I think that's some of the only code in GMGridView itself that has more complicated logic around the origin points...\n. The point of the optimization looks to be preventing unnecessary code running during scrolling. Rather than revert, it looks to me like the optimization code should check whether self.itemsSubviewsCacheIsValid as well. -reloadData and some of the insert/remove methods will invalidate the subview cache, whereas scrolling doesn't.\n. My app does a similar thing. The way I handle the async loading is to have the cell views associated with the asynchronous load operation, and the operation completes it sets whatever properties are necessary on the cell view, then calls -setNeedsDisplay on it. This way the views update, but don't require recalculating the grid layout.\nIf you have the cell views reference the asynchronous operation, you can also cancel the operation when the views get recycled in -GMGridView:cellForItemAtIndex:. This way you don't need to worry much about which views are onscreen, as that largely takes care of itself.\nI have paged-loading grids with 24+ items onscreen at once, all loaded asynchronously (although often from cached data). The loading works fine, but without something preventing re-layout on every scroll, I get pretty laggy scrolling (particularly on iPad 1's).\nMy biggest concern when paging is the lack of a method similar to UITableView's -insertRowsAtIndexPaths:withRowAnimation:. Multiple -insertObjectAtIndex:... calls cause multiple re-layouts, or I have to call -reloadData, and I don't feel a clear sense of the expected behavior of the scroll content offset that results.\n. This as a problem with the gesture recognizers detecting taps gobbling presses on cell views.\nI've gotten around this problem by modifying the GMGridView's -gestureRecognizer:shouldRecieveTouch: to return false for either the tap or long-press gestures when the touched view is a subclass of UIControl or the descendent of one.\n. That should work in most cases. However, you should also test against the _sortingLongPressGesture, and you may want to check whether the touched view is a descendent of a UIButton (actually, I'd generalize to UIControl).\n``` objective-c\n\n\n(BOOL)gestureRecognizer:(UIGestureRecognizer )gestureRecognizer shouldReceiveTouch:(UITouch )touch\n{\n    if ( gestureRecognizer == _tapGesture || gestureRecognizer == _sortingLongPressGesture ) {\n        if ( [touch.view isDescendantOfView:self] ) {\n            // Test if the touched view is a subview of a control\n            for ( UIView *view = touch.view ; view != self ; view = view.superview )\n                if ( [view isKindOfClass:[UIControl class]] )\n                    return NO;\n        }\n    }\nreturn YES;\n}\n```\n. One method would be to use setTag: on your buttons when you get the cell in GMGridView:cellForItemAtIndex:, setting it to the index of the cell. Note that you will need to do this every time you recycle a cell, not just when you create the buttons.\n. The point of the datasource method is to recycle the cell views. You're only setting the image at the time you first create the cell, so I'd completely expect that when you scroll far enough to recycle cells, they'll show the old images.\n\n\nYour code should be more like:\n``` objective-c\nGMGridViewCell *cell = [gridView dequeueReusableCell];\nif ( !cell ) {\n    cell = [[GMGridViewCell alloc] init];\ncell.contentView = [[UIImageView alloc] init];\n\n}\nNSString imageName = [NSString stringWithFormat:@\"%@.png\", [_data objectAtIndex:index]];\n[(UIImageView )cell.contentView setImage:[UIImage imageNamed:imageName]]\nreturn cell;\n```\nAlso, the [[cell.contentView subviews] makeObjectsPerformSelector:@selector(removeFromSuperview)] probably isn't needed (and wasn't doing anything in your example, as it has no subviews of cell.contentView), and not wanted, since you should reset the contents of your cell views, not recreate them every time...\n. Maybe I'm wrong, but this code is very similar to another performance improvement that was committed then withdrawn a while ago.\nWhile it's useful in speeding up scrolling (I have similar code in a private build), it apparently caused problems for some developers. Not quite sure why my use case isn't giving me the same problems (perhaps because I'm not allowing reordering)...\n. A code snippet would help...\n. I mentioned this in another thread, but when you know for certain the intended size of you grid cell, you should create the GMGridViewCell with [[GMGridViewCell alloc] initWithFrame:CGRectMake( 0, 0, size.width, size.height )].\nThis is because when you set the contentView property on a GMGridViewCell, the view gets resized to the current bounds of the cell. When you create the cell with just -init, it turns into initWithFrame:CGRectZero. Before the cell is added to the view hierarchy, it gets resized to the appropriate cell size. However, in your case it will be too late for the UILabel's you created for the first cells being displayed.\nBecause you create the UILabel's with initWithFrame:cell.contentView.bounds, they're created with a non-zero frame only when the views are recycled (i.e. after they've already been in the view hierarchy). That's why your views only appear after you scroll. Create the GMGridViewCell calling initWithFrame: and this should fix your problem.\nNow, once you fix this by initializing the GMGridViewCell with the correct size, I would also recommend you move the creation of the UILabels into the if ( !cell ) block... You're recreating several UILabel's whenever you recycle a grid item, with almost identical properties. You should create them only once and just change the relevant properties each time. Use the tag property of UIView, and viewWithTag: to find the labels when recycling (but not creating) the cells.\n. This looks rather over-complicated to me, with multiple layered UIImageView's. I'd usually recommend creating a subclass of UIView to be your cell view, and simply have some image properties on it that get set every time you run through GMGridView:cellForItemAtIndex:.\nLooking at this code, I think you have some layers of UIImageView's that are getting in the way when you recycle the views. You have caratula at subview index 1, and caratulaFront at index 2 (and since it's added last, it will be on top of the view hierarchy). And since caratulaFront has the same size as the content view, it may well completely cover the other images.\nFor performance reasons, it's often better to custom-draw your view than use too many composited views (in this case, three UIImageView's), and in this case it may clean up the recycling code.\n. One thing to consider is that GMGridViewCell is itself a UIView subclass. It also implements a custom setter for the contentView property, and there it sets the new content view's frame to be the (current) cell bounds. This is somewhat of a gotcha, particularly if you follow the pattern of creating your content subview based on the cell or content view's bounds. The cell will be resized when added to the view hierarchy, but that will be after your other views are created (and you would need to have autoresize masks, or re-implement -layoutSubviews on the content view).\nBecause of this, you should create the GMGridViewCell with the intended size where possible:\n``` Objective-C\nif ( !cell )\n{\n    CGRect cellFrame = CGRectZero;\n    cellFrame.size = [self sizeForItemsInGMGridView:gridView];\ncell = [[GMGridViewCell alloc] initWithFrame:cellFrame];\ncell.contentView = [[UIImageView alloc] initWithFrame:cell.bounds];\n\n}\n```\nThis may prevent the flickering you're seeing. It also slightly helps performance...\nThis is also possibly a reason for the behavior you were seeing with your first set of code. Because you create the UIImageViews with cell.contentView.bounds as their frame, they're being created with a frame equivalent to CGRectZero. You also weren't setting auto-resizing masks.\nAlso, I would recommend against depending on the order of subviews. Sure, [view.subviews objectAtIndex:1] may work now, but when you add another subview next month, then reorder your subview creation code to read more logically, suddenly your addSubview: calls are in a different order while you've completely forgotten about the objectAtIndex:1... Using -viewWithTag: would be a better option.\nBut I'd go back to my original recommendation of creating a custom UIView subclass to be your grid cell view. Then you can have properties that reference the individual UIImageViews, or alternatively just store the UIImages and override -drawRect: and get better performance.\n``` Objective-C\n- (GMGridViewCell )GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n{\n    GMGridViewCell *cell = [gridView dequeueReusableCell];\n    if ( !cell ) \n    {\n        CGRect cellFrame = CGRectZero;\n        cellFrame.size = [self GMGridView:gridView sizeForItemsInInterfaceOrientation:[[UIApplication sharedApplication] statusBarOrientation]];\n    cell = [[GMGridViewCell alloc] initWithFrame:cellFrame];\n\n    MyDVDCoverView *dvdCover = [[MyDVDCoverView alloc] initWithFrame:cell.bounds];\n    dvdCover.backgroundImage = [UIImage imageNamed:@\"...\"];\n    dvdCover.foregroundImage = [UIImage imageNamed:@\"...\"];\n    cell.contentView = dvdCover;\n}\n\nMyDVDCoverView *coverView = (MyDVDCoverView *)cell.contentView;\ncoverView.dvdArtwork = [self.artworkImages objectAtIndex:index];\n\nreturn cell;\n\n}\n``\n. Are you getting a UIImage back in-setCoverName:`? That could be the problem.\nAlso, I wouldn't create UIImageView's only to call their -drawRect: method. Just store UIImage's, and use their drawing methods to draw.\n. Out of curiosity, what happens if you comment out the [self.caratulaFront drawRect:rect] while doing the -drawRect: method?\n. I don't consider this a defect. Due to cell recycling, if the position is not loaded/visible, it has no cell and thus a nil value is entirely appropriate.\nForcing the grid to create a cell for an unloaded position could too easily cause memory pressure for large grids (or content views).\n. Is the ItemDetailsController's view getting created correctly (is it valid when you attempt to add it as a subview)?\nAlso, does your case really call for a view controller? While UIViewController does sound all MVC-ish, it's not really meant for small views going into a grid...\nAlso, in general you should avoid directly adding a UIViewController's view as a subview of another view controller. It often doesn't play nice, without a lot of bookkeeping code. And I believe Apple has said it may be completely disallowed in iOS 5+ (unless you go through the correct bookkeeping process).\n. I'm guessing you're loading the image in your GMGridView:cellForItemAtIndex: method?\nThe key to prevent lag while scrolling is to dispatch the image file loading onto a background thread, and once the image is loaded into a UIImage dispatch to the main thread to set the image on your cell's image view. Loading UIImage's from storage can be an expensive operation. Both the time to load the bytes, and also decoding the JPEG or PNG data. By moving this off the main thread, the grid will scroll smoothly.\nIn most cases, there may be a small bit of the cell visible before the image loads in, but usually not enough to be too noticeable. I have some apps displaying large grids of images, and it performs just fine.\n. I guess when I said \"background thread\", what I probably should have said was \"not the main thread\". My code dispatches the image load to the DEFAULT level queue to handle the loading. I believe the actual BACKGROUND level has some throttling, and may be holding off until the main queue is sufficiently quiet before it runs.\nMy async loading dispatches to DEFAULT to load the UIImages, after which they're dispatched to MAIN to update the views.\n. ",
    "ZebtinRis": "Yes, I have looked into it and it would be quite the challenge, what i have come up with is a simplification that will only make it easier for devs to lay out views in a mosaic (not grid as you mention), no user interaction apart from selection. I dont know if it would be a feature or a new thing, but when Im done implementing it ill ping you to see what you think. \nThanks!\n. Yes, I have looked into it and it would be quite the challenge, what i have come up with is a simplification that will only make it easier for devs to lay out views in a mosaic (not grid as you mention), no user interaction apart from selection. I dont know if it would be a feature or a new thing, but when Im done implementing it ill ping you to see what you think. \nThanks!\n. ",
    "banaslee": "I've also been looking for a way to do it and I got the idea of getting the size and origin from the layout for each index path. Then you only need to ask the data source for the cell. This is different than asking the size from the data source (and a better separation of responsibilities).\nI'll need it in the near future but I don't know if I'll be able to use GMGridView for that so I just wanted to drop this hint if it could point someone in the right direction.\n. Yes, sure, I meant \"getting the frame\" but I described as origin and size.The important is that then the grid would have a list of all the frames for all the cells and only needed to ask the data source for the cell while providing the frame (maybe). \n. Oh, I was talking about providing the data source with the frame when asking for the cell, not for asking the frame from it.\nWell, I agree with you in everything then :)\nI would do:\n1) grid ask the data source for the number of elements;\n2) here I have two options:\n  a) grid ask the layout subclass for the frame of each element and stores it;\n  b) grid ask the layout subclass for all the frames visible in a specific frame (dictionary of frames indexed by element index);\n3) grid asks the data source for the cell for a specific element providing the frame.\nDepending on what we would do on step number 2 we may need to ask the layout subclass for the list of frames each time the scroll view is scrolled.\nBut actually I wouldn't enforce the layout subclasses to implement a list of frames. As you also noted there are simple implementations that don't need it so I'd let this to each person subclassing it to decide.\n. If you implement the UIScrollViewDelegate and start downloading only after the scrolling has stopped how do you know which are the visible cells so that you launch only the right requests?\nYou can create a small class for the contents of the cell that only launch the request some milliseconds after the view appears. If the cell disappears and consequently its content view is released from memory then the request will never be launched.\nThis way you don't need to know which cells are visible after the scroll stopped.\n. I agree that a method for getting the visible rows is also a very good addition (I also need something like that) and of course it can help you achieve what you want.\nImplementing a method like that it's not that difficult if you want to do it quickly for yourself. Just look at GMGridView loadRequiredItems private method.\n. I've also been looking for a way to do it and I got the idea of getting the size and origin from the layout for each index path. Then you only need to ask the data source for the cell. This is different than asking the size from the data source (and a better separation of responsibilities).\nI'll need it in the near future but I don't know if I'll be able to use GMGridView for that so I just wanted to drop this hint if it could point someone in the right direction.\n. Yes, sure, I meant \"getting the frame\" but I described as origin and size.The important is that then the grid would have a list of all the frames for all the cells and only needed to ask the data source for the cell while providing the frame (maybe). \n. Oh, I was talking about providing the data source with the frame when asking for the cell, not for asking the frame from it.\nWell, I agree with you in everything then :)\nI would do:\n1) grid ask the data source for the number of elements;\n2) here I have two options:\n  a) grid ask the layout subclass for the frame of each element and stores it;\n  b) grid ask the layout subclass for all the frames visible in a specific frame (dictionary of frames indexed by element index);\n3) grid asks the data source for the cell for a specific element providing the frame.\nDepending on what we would do on step number 2 we may need to ask the layout subclass for the list of frames each time the scroll view is scrolled.\nBut actually I wouldn't enforce the layout subclasses to implement a list of frames. As you also noted there are simple implementations that don't need it so I'd let this to each person subclassing it to decide.\n. If you implement the UIScrollViewDelegate and start downloading only after the scrolling has stopped how do you know which are the visible cells so that you launch only the right requests?\nYou can create a small class for the contents of the cell that only launch the request some milliseconds after the view appears. If the cell disappears and consequently its content view is released from memory then the request will never be launched.\nThis way you don't need to know which cells are visible after the scroll stopped.\n. I agree that a method for getting the visible rows is also a very good addition (I also need something like that) and of course it can help you achieve what you want.\nImplementing a method like that it's not that difficult if you want to do it quickly for yourself. Just look at GMGridView loadRequiredItems private method.\n. ",
    "tonypham": "I want this too. Did you find anyway to add background image view for each row, gmoledina? Thanks. Your project help me so much.\n. Please take a look at AQGridView: https://github.com/AlanQuatermain/AQGridView\nHe can do this feature in his project.\n. is there anyway to make bookshelf (like iBooks) using GMGridView?\n. I want this too. Did you find anyway to add background image view for each row, gmoledina? Thanks. Your project help me so much.\n. Please take a look at AQGridView: https://github.com/AlanQuatermain/AQGridView\nHe can do this feature in his project.\n. is there anyway to make bookshelf (like iBooks) using GMGridView?\n. ",
    "Arthraim": "I really need this feature, too.\n. I really need this feature, too.\n. ",
    "nihilenz": "I join the request above! iBooks-like UI layout needs are a very common case.\n. I join the request above! iBooks-like UI layout needs are a very common case.\n. ",
    "Hackmodford": "+1 for iBooks-like UI\n. +1 for iBooks-like UI\n. ",
    "msafder": "I need this too\n. I need this too\n. ",
    "imcaptor": "I need this too.\n. I need this too.\n. ",
    "leberwurstsaft": "This has nothing to do with AFNetwork. With the cache I meant a RAM cache that simply keeps thumbnail images that I already loaded from flash once.\nThe issue seems to be that the UI updates are happening while the scrollview still scrolls, causing it to stutter.\nI have offloaded everything to the background thread, preparing all the objects and loading the image.\nI followed steipetes tip and further reduced the amount of work on the main thread to a minimmum. Now, the only things I actually send to the main queue are:\n[label removeFromSuperview];\nimgView.image = snapshot;\n[cell.contentView addSubview:labelLeft];\n[cell.contentView addSubview:labelRight];\nWhen the cell is initially created I add a placeholder UIImageView and a \"loading\" label. Before I return the cell, I add a job to the dispatch_queue in the background, which will get the real image, and prepare the two UILabels. An on the main thread I only update the image in the UIImageView, remove the \"loading\" label and add two data labels.\nI found that this updates the image quickly, but the labels take 1-2 seconds to show up, or sometimes don't show up at all. I wonder what's up with that. Anyway, removing the two labels alltogether made performace bearable. Still not quite what I wanted, i.e. no UI updates while scrolling.\n. I see, thanks for this insight. So basically I had it more correct before - and now again, since I found the labels not showing up a bit odd.\nYes, I tried your decompression, and unfortunately it didn't help.\nI made a quick video of what I'm experiencing during scrolling. It shows stuttering while scrolling slowly, and also shows how the cells get updated while inertial scrolling is going. This leads to a rather distinct hiccup once in the video.\nhttp://vimeo.com/36936059  (password is \"123\", I didn't want to spam my channel)\n. Just wanted to tell that I got rid of the stuttering, the cause was mainly me using the cornerRadius and shadow* parameters of the cell views layer. Wow, what a performance monster. Now with a simple image, rendered just once, I get all the great shadows and corners I want and there is no more stuttering.\nThat said, steipetes preloading code is also helpful now :) \n. This has nothing to do with AFNetwork. With the cache I meant a RAM cache that simply keeps thumbnail images that I already loaded from flash once.\nThe issue seems to be that the UI updates are happening while the scrollview still scrolls, causing it to stutter.\nI have offloaded everything to the background thread, preparing all the objects and loading the image.\nI followed steipetes tip and further reduced the amount of work on the main thread to a minimmum. Now, the only things I actually send to the main queue are:\n[label removeFromSuperview];\nimgView.image = snapshot;\n[cell.contentView addSubview:labelLeft];\n[cell.contentView addSubview:labelRight];\nWhen the cell is initially created I add a placeholder UIImageView and a \"loading\" label. Before I return the cell, I add a job to the dispatch_queue in the background, which will get the real image, and prepare the two UILabels. An on the main thread I only update the image in the UIImageView, remove the \"loading\" label and add two data labels.\nI found that this updates the image quickly, but the labels take 1-2 seconds to show up, or sometimes don't show up at all. I wonder what's up with that. Anyway, removing the two labels alltogether made performace bearable. Still not quite what I wanted, i.e. no UI updates while scrolling.\n. I see, thanks for this insight. So basically I had it more correct before - and now again, since I found the labels not showing up a bit odd.\nYes, I tried your decompression, and unfortunately it didn't help.\nI made a quick video of what I'm experiencing during scrolling. It shows stuttering while scrolling slowly, and also shows how the cells get updated while inertial scrolling is going. This leads to a rather distinct hiccup once in the video.\nhttp://vimeo.com/36936059  (password is \"123\", I didn't want to spam my channel)\n. Just wanted to tell that I got rid of the stuttering, the cause was mainly me using the cornerRadius and shadow* parameters of the cell views layer. Wow, what a performance monster. Now with a simple image, rendered just once, I get all the great shadows and corners I want and there is no more stuttering.\nThat said, steipetes preloading code is also helpful now :) \n. ",
    "timeuser": "I'm having a very similar experience, except the stuttering is even worse for me than what's shown in leberwurstsaft's video. I'm displaying a grid of JPG images loading using AFNetworking. There are about 12 square images on screen at once and they are retina resolution size. The really odd thing is that scrolling is very smooth on an iPhone 3GS running iOS 4.2.1, however it stutters really badly on an iPhone 4 running iOS 5.0.1?! I can mitigate it a bit using the suggestion by steipete above to suspend an operation queue while scrolling, but that seems like a really heavy and unsatisfying solution since nothing updates at all during scrolling then. I'm not sure exactly what is being discussed regarding the compression issue or how I would use that though.\n. I tried the decompression code. It didn't help too much. Good suggestion on the network calls, I'll try that. Thanks.\n. Turns out it was the image decompression happening on the main thread. I thought I had moved it off the main thread, but I didn't realize the success callback of AFNetworking's AFImageRequestOperation, is dispatched to the main thread and that's where I was trying to force the image decompression. Thanks steipete!\n. Nice. That makes fixing it even easier. Thanks!\n. I'm having a very similar experience, except the stuttering is even worse for me than what's shown in leberwurstsaft's video. I'm displaying a grid of JPG images loading using AFNetworking. There are about 12 square images on screen at once and they are retina resolution size. The really odd thing is that scrolling is very smooth on an iPhone 3GS running iOS 4.2.1, however it stutters really badly on an iPhone 4 running iOS 5.0.1?! I can mitigate it a bit using the suggestion by steipete above to suspend an operation queue while scrolling, but that seems like a really heavy and unsatisfying solution since nothing updates at all during scrolling then. I'm not sure exactly what is being discussed regarding the compression issue or how I would use that though.\n. I tried the decompression code. It didn't help too much. Good suggestion on the network calls, I'll try that. Thanks.\n. Turns out it was the image decompression happening on the main thread. I thought I had moved it off the main thread, but I didn't realize the success callback of AFNetworking's AFImageRequestOperation, is dispatched to the main thread and that's where I was trying to force the image decompression. Thanks steipete!\n. Nice. That makes fixing it even easier. Thanks!\n. ",
    "Bejil": "I reached to get them like this :\nAdd @property (nonatomic) int index; to GMGridViewCell.h and @synthesize index; to his .m file:\nThen in -(GMGridViewCell *)GMGridView:(GMGridView *)gridView cellForItemAtIndex:(NSInteger)index add cell.index=index; before return cell;.\nAll you have to do now is adding a public method to GMGridView:\n-(NSArray *)indexPathsForVisibleRows;\n```\n-(NSArray *)indexPathsForVisibleRows{\nNSMutableArray *lc_array = [[NSMutableArray alloc] init];\n\nfor(int i=0;i<[self.subviews count];i++){\n    if(CGRectIntersectsRect(self.bounds, [[self.subviews objectAtIndex:i] frame]) && [[self.subviews objectAtIndex:i] isKindOfClass:[GMGridViewCell class]]){\n        GMGridViewCell *subview = (GMGridViewCell *)[self.subviews objectAtIndex:i];\n        [lc_array addObject:[NSIndexPath indexPathForRow:subview.index inSection:0]];\n    }\n}\nreturn lc_array;\n\n}\n```\n. Sorry I haven't noticed that cause I'm reloading data on rotation \n. I can't reproduce your problem. I'm using this method in order to use apple's lazy technique for cell' images. I always get the same association image/cell, rotation doesn't alter anything.\n. I reached to get visible cells : https://github.com/gmoledina/GMGridView/issues/43?source=cc\nSo now, thanks to Apple LazyTableImages technique (https://developer.apple.com/library/ios/samplecode/LazyTableImages/Introduction/Intro.html) you can download asynchronously your images.\n. I reached to get them like this :\nAdd @property (nonatomic) int index; to GMGridViewCell.h and @synthesize index; to his .m file:\nThen in -(GMGridViewCell *)GMGridView:(GMGridView *)gridView cellForItemAtIndex:(NSInteger)index add cell.index=index; before return cell;.\nAll you have to do now is adding a public method to GMGridView:\n-(NSArray *)indexPathsForVisibleRows;\n```\n-(NSArray *)indexPathsForVisibleRows{\nNSMutableArray *lc_array = [[NSMutableArray alloc] init];\n\nfor(int i=0;i<[self.subviews count];i++){\n    if(CGRectIntersectsRect(self.bounds, [[self.subviews objectAtIndex:i] frame]) && [[self.subviews objectAtIndex:i] isKindOfClass:[GMGridViewCell class]]){\n        GMGridViewCell *subview = (GMGridViewCell *)[self.subviews objectAtIndex:i];\n        [lc_array addObject:[NSIndexPath indexPathForRow:subview.index inSection:0]];\n    }\n}\nreturn lc_array;\n\n}\n```\n. Sorry I haven't noticed that cause I'm reloading data on rotation \n. I can't reproduce your problem. I'm using this method in order to use apple's lazy technique for cell' images. I always get the same association image/cell, rotation doesn't alter anything.\n. I reached to get visible cells : https://github.com/gmoledina/GMGridView/issues/43?source=cc\nSo now, thanks to Apple LazyTableImages technique (https://developer.apple.com/library/ios/samplecode/LazyTableImages/Introduction/Intro.html) you can download asynchronously your images.\n. ",
    "rickytan": "I faced the same problem, but I fixed that.\nyou have to modify the code in insertObjectAtIndex:(NSInterger)index method.\nfind out:\nfor (int i = index; i < _numberToTotalItems; i++)\n{\n   ...\n}\nand change them to:\nfor (int i = _numberToTotalItems - 1; i >= index; i--)\n{\n   ...\n}\nthen it works fine!\n. bug exists in horizontal paging when the centerGrid is set to NO.\nI won't be able to scroll to the last page fully.\nIn fact, this was caused by contentSize computing.\n. No, I have fixed that. @gmoledina .\nModify the code of the implementation of the method -(void)rebaseWithItemCount:(NSInteger)count insideOfBounds:(CGRect)bounds of Horizontal Paged Strategy in GMGridViewLayouStrategies.m, change the last line which compute the _contentSize to:\n_contentSize = CGSizeMake( self.gridBounds.size.width * self.numberOfPages, onePageSize.height );\n. I used the code over a month a ago, so I faced the problem.\nAnd thanks for your hard working on this component, it's really nice!\n. Check if your GMGridView folder is blue or yellow?\nIf it if blue, that means you have to use full path, like:\nimport \"GMGridView/GMGridView.h\"\n. Please delete them from Xcode and add again. Notice: select \"Create groups for any added folders\", NOT \"Create folder references for any added folders\"\n. I think you should release ivImage before return cell if you're not using ARC\n. You may also try:\ncell.contentView = ivImage\ninstead of:\ncell.contentView = aView;\n[cell.contentView addSubview:imImage];\n. I faced the same problem, but I fixed that.\nyou have to modify the code in insertObjectAtIndex:(NSInterger)index method.\nfind out:\nfor (int i = index; i < _numberToTotalItems; i++)\n{\n   ...\n}\nand change them to:\nfor (int i = _numberToTotalItems - 1; i >= index; i--)\n{\n   ...\n}\nthen it works fine!\n. bug exists in horizontal paging when the centerGrid is set to NO.\nI won't be able to scroll to the last page fully.\nIn fact, this was caused by contentSize computing.\n. No, I have fixed that. @gmoledina .\nModify the code of the implementation of the method -(void)rebaseWithItemCount:(NSInteger)count insideOfBounds:(CGRect)bounds of Horizontal Paged Strategy in GMGridViewLayouStrategies.m, change the last line which compute the _contentSize to:\n_contentSize = CGSizeMake( self.gridBounds.size.width * self.numberOfPages, onePageSize.height );\n. I used the code over a month a ago, so I faced the problem.\nAnd thanks for your hard working on this component, it's really nice!\n. Check if your GMGridView folder is blue or yellow?\nIf it if blue, that means you have to use full path, like:\nimport \"GMGridView/GMGridView.h\"\n. Please delete them from Xcode and add again. Notice: select \"Create groups for any added folders\", NOT \"Create folder references for any added folders\"\n. I think you should release ivImage before return cell if you're not using ARC\n. You may also try:\ncell.contentView = ivImage\ninstead of:\ncell.contentView = aView;\n[cell.contentView addSubview:imImage];\n. ",
    "mtrubnikov": "Thanks for sharing your solution!\n. I think it's ok.\nThat means that inserted index may be in range from 0 (beginning of the gridview) up to _numberTotalItems - that index corresponds to a new item at the end of the gridview.\nAnything less than 0 or more than _numberTotalItems has no sense.\n. Yeah, that would be great! :)\n. This is a real problem - seems that even pageSize calculation is wrong...\n. Thanks for sharing your solution!\n. I think it's ok.\nThat means that inserted index may be in range from 0 (beginning of the gridview) up to _numberTotalItems - that index corresponds to a new item at the end of the gridview.\nAnything less than 0 or more than _numberTotalItems has no sense.\n. Yeah, that would be great! :)\n. This is a real problem - seems that even pageSize calculation is wrong...\n. ",
    "PongPong": "I faced the same problem\n. I faced the same problem\n. ",
    "taher-mosbah": "Hello,\nI'm having an exactly similaire need, had you succeeded to do that or did you find a turn around ?\nThank you.\nMosbah\n. Hello,\nI'm having an exactly similaire need, had you succeeded to do that or did you find a turn around ?\nThank you.\nMosbah\n. ",
    "ghrom": "Will it be merged, please?\n. Will it be merged, please?\n. ",
    "chadpod": "Also wondering if this will be merged soon. Thanks.\n. I took a crack at this one, as well as merging #47 in my fork of GMGridView.  I'll submit a pull request once I have a chance to test more.  Feel free to test it out and let me know if you have any feedback.\nhttps://github.com/shacked/GMGridView\n. Also wondering if this will be merged soon. Thanks.\n. I took a crack at this one, as well as merging #47 in my fork of GMGridView.  I'll submit a pull request once I have a chance to test more.  Feel free to test it out and let me know if you have any feedback.\nhttps://github.com/shacked/GMGridView\n. ",
    "robertomg": "This feature is very interesting, when will it be merged?\n. +1\n. This feature is very interesting, when will it be merged?\n. +1\n. ",
    "dvkch": "Still no news on when it'll be merged?\n. Still no news on when it'll be merged?\n. ",
    "kushal297": "ummmmmmm why not keep a simple bool for allowing dragging of cell and based on that flag add or remove the longtapgesture \n. ummmmmmm why not keep a simple bool for allowing dragging of cell and based on that flag add or remove the longtapgesture \n. ",
    "bobbypage": "@gmoledina I don't think that the grid view supports this right now. I could get it set up to show one full page at a time, but could didn't figure out on how to show the previews on the left and right of the view. If this is already implemented it would be great to add it as a layout strategy and include a demo as this is a very common task with UIScrollView.\nBTW, GMGridView rocks, it works really well and has saved me a lot of time. Thanks!\n. @gmoledina I don't think that the grid view supports this right now. I could get it set up to show one full page at a time, but could didn't figure out on how to show the previews on the left and right of the view. If this is already implemented it would be great to add it as a layout strategy and include a demo as this is a very common task with UIScrollView.\nBTW, GMGridView rocks, it works really well and has saved me a lot of time. Thanks!\n. ",
    "bhochberg": "I'm looking for the exact same thing! I would like to utilize GMGridView, but I need the Springboard paradigm, which unfortunately is not currently supported.\nThe code currently equates editing with deletion instead of reordering (sorting). This is very limiting, and as you mention, not at all springboard-like. Apple's paradigm is that shaking = movable, and has nothing to do with deletion.\nI would love to see the following enhancements:\n- setEditing turns on sorting and deletion (perhaps this is customizable as an and/or)\n- have the longPressGesture recognizer turn on editing (and have an option for it to not do anything as well)\n- Have a canSortItemAtIndex delegate call to disable sorting of specific cells. (YES = shake and allow movement, NO = don't shake and can't move)\n- Make canDeleteItemAtIndex only affect the presence of the delete icon and functionality (and leave shaking out of things).\n. I'm looking for the exact same thing! I would like to utilize GMGridView, but I need the Springboard paradigm, which unfortunately is not currently supported.\nThe code currently equates editing with deletion instead of reordering (sorting). This is very limiting, and as you mention, not at all springboard-like. Apple's paradigm is that shaking = movable, and has nothing to do with deletion.\nI would love to see the following enhancements:\n- setEditing turns on sorting and deletion (perhaps this is customizable as an and/or)\n- have the longPressGesture recognizer turn on editing (and have an option for it to not do anything as well)\n- Have a canSortItemAtIndex delegate call to disable sorting of specific cells. (YES = shake and allow movement, NO = don't shake and can't move)\n- Make canDeleteItemAtIndex only affect the presence of the delete icon and functionality (and leave shaking out of things).\n. ",
    "ck007az": "Do you have more specific instructions as to how to add it as a submodule please?\nThanks in advance!\n. Do you have more specific instructions as to how to add it as a submodule please?\nThanks in advance!\n. ",
    "brotherbard": "I created separate properties because I don't think of the spacing as a size and didn't want to overload CGSize to mean something else. But if people prefer it as CGSize I'll change it.\nAlso, as I've been playing with the spacing I think I want to change it based on portrait or landscape. The margins as well. I'm currently abusing GMGridView:sizeForItemsInInterfaceOrientation: to change these settings but maybe there should be a separate delegate call for that. And I'm not sure if it should be the data source delegate so a new layout delegate? Any preferences? Or is that the correct place to change things.\n. I created separate properties because I don't think of the spacing as a size and didn't want to overload CGSize to mean something else. But if people prefer it as CGSize I'll change it.\nAlso, as I've been playing with the spacing I think I want to change it based on portrait or landscape. The margins as well. I'm currently abusing GMGridView:sizeForItemsInInterfaceOrientation: to change these settings but maybe there should be a separate delegate call for that. And I'm not sure if it should be the data source delegate so a new layout delegate? Any preferences? Or is that the correct place to change things.\n. ",
    "dibsme": "Thanks. It works charm.\n. Thanks. It works charm.\n. ",
    "morteza2128": "Thanks alOOOt\nHorizontal and vertical item spacing were necessary !\n. Thanks alOOOt\nHorizontal and vertical item spacing were necessary !\n. ",
    "flexaddicted": "I'm sorry but the link you provided doesn't work. Could you provide the complete one? Thank you for your support.\n. @mwyman Thank you very much for your reply. Do I have to use the gesture recognizer's view property and check if it's an UIControl class? Could you provide a simple snippet to reach the goal? Thank you.\n. I figured out a way to do it. For the sake of completeness I post the code I'm using. Maybe someone could be interested in.\n```\n- (BOOL)gestureRecognizer:(UIGestureRecognizer )gestureRecognizer shouldReceiveTouch:(UITouch )touch\n{\n    if(gestureRecognizer == _tapGesture) {\n    UIView* touchedView = [touch view];\n    if([touchedView isKindOfClass:[UIButton class]]) {\n\n        return NO;\n    }\n}\n\nreturn YES;\n\n}\n```\n. @digicub Seems ok to me. I don't know what the problem could be.\n@mrevoir Could you explain what do you mean?\n@Ricardo1980 You need to create a view with its button and add it as the contentView of the cell. Yes, you have to modify the code also with a xib.\n. I'm sorry but the link you provided doesn't work. Could you provide the complete one? Thank you for your support.\n. @mwyman Thank you very much for your reply. Do I have to use the gesture recognizer's view property and check if it's an UIControl class? Could you provide a simple snippet to reach the goal? Thank you.\n. I figured out a way to do it. For the sake of completeness I post the code I'm using. Maybe someone could be interested in.\n```\n- (BOOL)gestureRecognizer:(UIGestureRecognizer )gestureRecognizer shouldReceiveTouch:(UITouch )touch\n{\n    if(gestureRecognizer == _tapGesture) {\n    UIView* touchedView = [touch view];\n    if([touchedView isKindOfClass:[UIButton class]]) {\n\n        return NO;\n    }\n}\n\nreturn YES;\n\n}\n```\n. @digicub Seems ok to me. I don't know what the problem could be.\n@mrevoir Could you explain what do you mean?\n@Ricardo1980 You need to create a view with its button and add it as the contentView of the cell. Yes, you have to modify the code also with a xib.\n. ",
    "comonitos": "http://stackoverflow.com/a/11016498/788798\n. thanks\n. http://stackoverflow.com/a/11016498/788798\n. thanks\n. ",
    "pfbns": "I have the exact same issue..\n. I have the exact same issue..\n. ",
    "futuretap": "+1\n. buggy commit, will send a correct one\u2026\n. +1\n. buggy commit, will send a correct one\u2026\n. ",
    "lexrus": "@gmoledina Thank you for creating this great reop. I'll generate the podspec file for the next tag version, but you need to tag it first. It's very easy by running git tag -a 0.1 -m 'version 0.1'. Could you tag a version before next push?\nThanks.\n. @gmoledina Thank you for creating this great reop. I'll generate the podspec file for the next tag version, but you need to tag it first. It's very easy by running git tag -a 0.1 -m 'version 0.1'. Could you tag a version before next push?\nThanks.\n. ",
    "yas375": "and after adding locally tag you should push it to server. You could do this with git push --tags ;)\n. and after adding locally tag you should push it to server. You could do this with git push --tags ;)\n. ",
    "refaelsommer": "Thanks for answering,\nMy images are 1mb jpg\nI am using the code for reusing cells\n- (GMGridViewCell )GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n{\n```\nNSLog(@\"Creating view indx %d\", index);\nCGSize size = [self sizeForItemsInGMGridView:gridView];\nGMGridViewCell *cell = [gridView dequeueReusableCell];\nif (!cell) \n{\nNSLog(@\"cell nil\");\n\ncell = [[GMGridViewCell alloc] init];\n\n\n\nUIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n\nview.backgroundColor = [UIColor clearColor];\n\nview.layer.masksToBounds = YES;\n\nview.layer.cornerRadius = 0;\n\nview.layer.shadowColor = [UIColor grayColor].CGColor;\n\nview.layer.shadowOffset = CGSizeMake(5, 5);\n\nview.layer.shadowPath = [UIBezierPath bezierPathWithRect:view.bounds].CGPath;\n\nview.layer.shadowRadius = 6;\n\nview.layer.shadowOpacity = 1;\n\n\n\ncell.contentView = view;\n\n}\n[[cell.contentView subviews] makeObjectsPerformSelector:@selector(removeFromSuperview)];\nUIImageView *ivImage = [[UIImageView alloc] initWithImage:[UIImage imageNamed:[appDelegate.arrQuotes objectAtIndex:index]]];\nivImage.clipsToBounds = YES;\nivImage.contentMode = UIViewContentModeScaleAspectFill;\nivImage.frame = cell.contentView.bounds;\nivImage.backgroundColor = [UIColor clearColor];\n[cell.contentView addSubview:ivImage];\nreturn cell;\n```\n}\nI am changing for 2 weeks to all kinds of possibilities in the code.\nI am in real trouble!!!\nI am using ARC.\nI tried not ARC too!!! with releas for the UIImageView after [cell.contentView addSubview:ivImage]; [ivImage release];\nthat didn't work either.\nI tried using 100kb images and the app crashes later.\ndid you ever try to use images on the cells? if yes can you please point where can be a problem with my code?\nthanks very much,\nRefael.S\n. I also tried initWithContentOffFile instead of imageNamed for not to cache the images and didn't help.\n. I did that and it didn't solve the problem!\nIn ARC you cannot release\nAnd when I did try not ARC I did release before return cell and it still\ncrashes.\nThanks for trying to help me(;\nOn Monday, March 26, 2012, rickytan \nreply@reply.github.com\nwrote:\n\nI think you should release ivImage before return cell\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/61#issuecomment-4689555\n\n\n\u05d1\u05d1\u05e8\u05db\u05d4,\n\u05e8\u05e4\u05d0\u05dc \u05d6\u05d5\u05de\u05e8\n0526222068\n. Hello,\nIs there an easy way to change your code so that when I tap on an cell it\nwill in enlarge to the full screen and then ask for the view full screen\nfrom the delegate?\nThanks for the help!!!\nOn Monday, March 26, 2012, Gulam Moledina \nreply@reply.github.com\nwrote:\n\nHi there !\nI'm glad the component is working out for you.\n1-/ Are you reusing the cells ?\n    - if no, you should\n    - if yes, are you removing the older image before adding the new one ?\n2-/ How gib are your images ?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/61#issuecomment-4687122\n\n\n\u05d1\u05d1\u05e8\u05db\u05d4,\n\u05e8\u05e4\u05d0\u05dc \u05d6\u05d5\u05de\u05e8\n0526222068\n. My problem was solved by using 2 sets of images.\nSmall set 300x300px for showing in the grid\nAnd Big set of images 1024x768 for full screen mode.\nThanks for answering my second question.\nI will see what my company wants me to do and if will implement a method\nfor taping to full screen I will happily tell you!!! (;\nAnother question is: can you implement that when you finish pan gesture at\na scale that's\nenough for going in to full screen, to make the cells transforming item\ngrow animated in to the full screen? Because now it jumps in to full screen\nwhich makes it look not so good for user interaction. Like in photo app\nthat it smoothly goes in to full size and ends the scaling. Thanks\nRefael.s\nI will be happy to help you if you need any in the future you did a great\njob! Realy great job!!!\nOn Tuesday, March 27, 2012, Gulam Moledina \nreply@reply.github.com\nwrote:\n\nWhen you use smaller images, your app still crashes bcoz of memory\nwarning ?\nAre you sure it's a memory warning crash ?\nAs for your 2nd question, there isn't a method to go fullscreen for a\nspecific item but it should be done.\nIf you implement it, feel free to send a pull request. Otherwise I'll\nprobably do it in a few weeks.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/61#issuecomment-4708880\n\n\n\u05d1\u05d1\u05e8\u05db\u05d4,\n\u05e8\u05e4\u05d0\u05dc \u05d6\u05d5\u05de\u05e8\n0526222068\n. thanks rickytan, i will try that.\n2012/3/27 rickytan <\nreply@reply.github.com\n\nYou may also try:\ncell.contentView = ivImage\ninstead of:\ncell.contentView = aView;\n[cell.contentView addSubview:imImage];\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/61#issuecomment-4714754\n\n\n\u05d1\u05d1\u05e8\u05db\u05d4,\n\u05e8\u05e4\u05d0\u05dc \u05d6\u05d5\u05de\u05e8\n0526222068\n. Is there a way to add sections and sections titles?\n. Thanks for answering,\nMy images are 1mb jpg\nI am using the code for reusing cells\n- (GMGridViewCell )GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n{\n```\nNSLog(@\"Creating view indx %d\", index);\nCGSize size = [self sizeForItemsInGMGridView:gridView];\nGMGridViewCell *cell = [gridView dequeueReusableCell];\nif (!cell) \n{\nNSLog(@\"cell nil\");\n\ncell = [[GMGridViewCell alloc] init];\n\n\n\nUIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n\nview.backgroundColor = [UIColor clearColor];\n\nview.layer.masksToBounds = YES;\n\nview.layer.cornerRadius = 0;\n\nview.layer.shadowColor = [UIColor grayColor].CGColor;\n\nview.layer.shadowOffset = CGSizeMake(5, 5);\n\nview.layer.shadowPath = [UIBezierPath bezierPathWithRect:view.bounds].CGPath;\n\nview.layer.shadowRadius = 6;\n\nview.layer.shadowOpacity = 1;\n\n\n\ncell.contentView = view;\n\n}\n[[cell.contentView subviews] makeObjectsPerformSelector:@selector(removeFromSuperview)];\nUIImageView *ivImage = [[UIImageView alloc] initWithImage:[UIImage imageNamed:[appDelegate.arrQuotes objectAtIndex:index]]];\nivImage.clipsToBounds = YES;\nivImage.contentMode = UIViewContentModeScaleAspectFill;\nivImage.frame = cell.contentView.bounds;\nivImage.backgroundColor = [UIColor clearColor];\n[cell.contentView addSubview:ivImage];\nreturn cell;\n```\n}\nI am changing for 2 weeks to all kinds of possibilities in the code.\nI am in real trouble!!!\nI am using ARC.\nI tried not ARC too!!! with releas for the UIImageView after [cell.contentView addSubview:ivImage]; [ivImage release];\nthat didn't work either.\nI tried using 100kb images and the app crashes later.\ndid you ever try to use images on the cells? if yes can you please point where can be a problem with my code?\nthanks very much,\nRefael.S\n. I also tried initWithContentOffFile instead of imageNamed for not to cache the images and didn't help.\n. I did that and it didn't solve the problem!\nIn ARC you cannot release\nAnd when I did try not ARC I did release before return cell and it still\ncrashes.\nThanks for trying to help me(;\nOn Monday, March 26, 2012, rickytan \nreply@reply.github.com\nwrote:\n\nI think you should release ivImage before return cell\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/61#issuecomment-4689555\n\n\n\u05d1\u05d1\u05e8\u05db\u05d4,\n\u05e8\u05e4\u05d0\u05dc \u05d6\u05d5\u05de\u05e8\n0526222068\n. Hello,\nIs there an easy way to change your code so that when I tap on an cell it\nwill in enlarge to the full screen and then ask for the view full screen\nfrom the delegate?\nThanks for the help!!!\nOn Monday, March 26, 2012, Gulam Moledina \nreply@reply.github.com\nwrote:\n\nHi there !\nI'm glad the component is working out for you.\n1-/ Are you reusing the cells ?\n    - if no, you should\n    - if yes, are you removing the older image before adding the new one ?\n2-/ How gib are your images ?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/61#issuecomment-4687122\n\n\n\u05d1\u05d1\u05e8\u05db\u05d4,\n\u05e8\u05e4\u05d0\u05dc \u05d6\u05d5\u05de\u05e8\n0526222068\n. My problem was solved by using 2 sets of images.\nSmall set 300x300px for showing in the grid\nAnd Big set of images 1024x768 for full screen mode.\nThanks for answering my second question.\nI will see what my company wants me to do and if will implement a method\nfor taping to full screen I will happily tell you!!! (;\nAnother question is: can you implement that when you finish pan gesture at\na scale that's\nenough for going in to full screen, to make the cells transforming item\ngrow animated in to the full screen? Because now it jumps in to full screen\nwhich makes it look not so good for user interaction. Like in photo app\nthat it smoothly goes in to full size and ends the scaling. Thanks\nRefael.s\nI will be happy to help you if you need any in the future you did a great\njob! Realy great job!!!\nOn Tuesday, March 27, 2012, Gulam Moledina \nreply@reply.github.com\nwrote:\n\nWhen you use smaller images, your app still crashes bcoz of memory\nwarning ?\nAre you sure it's a memory warning crash ?\nAs for your 2nd question, there isn't a method to go fullscreen for a\nspecific item but it should be done.\nIf you implement it, feel free to send a pull request. Otherwise I'll\nprobably do it in a few weeks.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/61#issuecomment-4708880\n\n\n\u05d1\u05d1\u05e8\u05db\u05d4,\n\u05e8\u05e4\u05d0\u05dc \u05d6\u05d5\u05de\u05e8\n0526222068\n. thanks rickytan, i will try that.\n2012/3/27 rickytan <\nreply@reply.github.com\n\nYou may also try:\ncell.contentView = ivImage\ninstead of:\ncell.contentView = aView;\n[cell.contentView addSubview:imImage];\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gmoledina/GMGridView/issues/61#issuecomment-4714754\n\n\n\u05d1\u05d1\u05e8\u05db\u05d4,\n\u05e8\u05e4\u05d0\u05dc \u05d6\u05d5\u05de\u05e8\n0526222068\n. Is there a way to add sections and sections titles?\n. ",
    "zerochocobo": "I used default layout.  I don't know why the position is larger than [self.itemSubviews count].  When I scroll screen from up to down,then the program is crash...... I added SIGART break and found this position.\n. I used default layout.  I don't know why the position is larger than [self.itemSubviews count].  When I scroll screen from up to down,then the program is crash...... I added SIGART break and found this position.\n. ",
    "joaufeld": "When you talk about datasource and loading, does this mean that you load the cells from a file? \nIf yes, would it be possible to include a sample of how to do that in the example project?\nFor a beginner like me it would be a great help.\n. When you talk about datasource and loading, does this mean that you load the cells from a file? \nIf yes, would it be possible to include a sample of how to do that in the example project?\nFor a beginner like me it would be a great help.\n. ",
    "roshankularatna": "Check whether use casting mechanism for view.Some time this is one of issue.\n. Check whether use casting mechanism for view.Some time this is one of issue.\n. ",
    "bravetaru": "i saw the method, but is it good to use now?? because I completed this method, and it is no responding when I click on cell. \n. i tried both.. \n. ok, I will try at tomorrow, thank you !!\n. i saw the method, but is it good to use now?? because I completed this method, and it is no responding when I click on cell. \n. i tried both.. \n. ok, I will try at tomorrow, thank you !!\n. ",
    "DioNNiS": "mwyman, nice solution!\n.  mwyman, nice solution!\n. ",
    "digicub": "Hey flexaddicted, I've tried adding a UIButton as a subview of my custom view but I can't get it to appear. Any idea what's missing? \n```\n    UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n    view.backgroundColor = [UIColor greenColor];\n    view.layer.masksToBounds = NO;\n    view.layer.cornerRadius = 15;\nUIButton *plainButton = [UIButton buttonWithType:UIButtonTypeRoundedRect];\n[plainButton setImage:[UIImage imageNamed:@\"Itsy1.jpg\"] forState:UIControlStateNormal];\n[plainButton setFrame:CGRectMake(0, 0, 50, 50)];\n[plainButton setTitle:@\"Button\" forState:UIControlStateNormal];\n[view addSubview:plainButton];\n[view bringSubviewToFront:plainButton];\n\ncell.contentView = view;\n\n```\n. Hey flexaddicted, I've tried adding a UIButton as a subview of my custom view but I can't get it to appear. Any idea what's missing? \n```\n    UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n    view.backgroundColor = [UIColor greenColor];\n    view.layer.masksToBounds = NO;\n    view.layer.cornerRadius = 15;\nUIButton *plainButton = [UIButton buttonWithType:UIButtonTypeRoundedRect];\n[plainButton setImage:[UIImage imageNamed:@\"Itsy1.jpg\"] forState:UIControlStateNormal];\n[plainButton setFrame:CGRectMake(0, 0, 50, 50)];\n[plainButton setTitle:@\"Button\" forState:UIControlStateNormal];\n[view addSubview:plainButton];\n[view bringSubviewToFront:plainButton];\n\ncell.contentView = view;\n\n```\n. ",
    "mrevoir": "flexaddicted, how did you go about knowing which position in the grid view was being clicked?\n. @flexaddicted In thinking about how to better describe my question it struck me to look at how cell deletion currently works so I'll do that as well, but I am wondering how to determine which cell in the grid contained the button that was clicked. I can see that the button is receiving the event because my selector is invoked, but I don't know which of the buttons in the grid was clicked.\n. flexaddicted, how did you go about knowing which position in the grid view was being clicked?\n. @flexaddicted In thinking about how to better describe my question it struck me to look at how cell deletion currently works so I'll do that as well, but I am wondering how to determine which cell in the grid contained the button that was clicked. I can see that the button is receiving the event because my selector is invoked, but I don't know which of the buttons in the grid was clicked.\n. ",
    "Ricardo1980": "Do I have to modify your source code to add a button? If I use a XIB, do I also have to modify the grid source code? Thanks.\n. I wonder the same question. I'd like to use this in combination with NSFetchedResultsController. Thanks.\n. Thanks! It's useful. Can I do something similar with Storyboard?\n. Works perfectly! Thanks a lot.\n. Do I have to modify your source code to add a button? If I use a XIB, do I also have to modify the grid source code? Thanks.\n. I wonder the same question. I'd like to use this in combination with NSFetchedResultsController. Thanks.\n. Thanks! It's useful. Can I do something similar with Storyboard?\n. Works perfectly! Thanks a lot.\n. ",
    "exalted": "Thanks! I would love to see this merged on the master though.\n. There are literally tons of implementations for this, please pick one, either one, just don't re\u2013invent the wheel:\n- http://latest.docs.nimbuskit.info/NINetworkImageView.html\n- https://github.com/rs/SDWebImage\n- http://afnetworking.github.com/AFNetworking/Categories/UIImageView+AFNetworking.html\n. A quick look at GMGridView.h pops out:\nObjective-C\n// Reusable cells\n- (GMGridViewCell *)dequeueReusableCell;                              // Should be called in GMGridView:cellForItemAtIndex: to reuse a cell\n- (GMGridViewCell *)dequeueReusableCellWithIdentifier:(NSString *)identifier;\n. Although it is not fair opening an issue related to your personal issues as if GMGridView has anything to do with it, I guess you could try assign 'tag' values for your cell views and read them even though they're reordered. \n. Weird, you're the only one.\n. Number of columns are given by individual cell's dimensions, GMGridView will try to fit as many cells as possible to your layout\n. Thanks! I would love to see this merged on the master though.\n. There are literally tons of implementations for this, please pick one, either one, just don't re\u2013invent the wheel:\n- http://latest.docs.nimbuskit.info/NINetworkImageView.html\n- https://github.com/rs/SDWebImage\n- http://afnetworking.github.com/AFNetworking/Categories/UIImageView+AFNetworking.html\n. A quick look at GMGridView.h pops out:\nObjective-C\n// Reusable cells\n- (GMGridViewCell *)dequeueReusableCell;                              // Should be called in GMGridView:cellForItemAtIndex: to reuse a cell\n- (GMGridViewCell *)dequeueReusableCellWithIdentifier:(NSString *)identifier;\n. Although it is not fair opening an issue related to your personal issues as if GMGridView has anything to do with it, I guess you could try assign 'tag' values for your cell views and read them even though they're reordered. \n. Weird, you're the only one.\n. Number of columns are given by individual cell's dimensions, GMGridView will try to fit as many cells as possible to your layout\n. ",
    "mpprdev": "Pilot error. I was not handling the didEndMovingCell callback correctly. Not a bug.\n. Pilot error. I was not handling the didEndMovingCell callback correctly. Not a bug.\n. ",
    "acecapades": "Hello, \nI'm also using GMGridView which is fantastic for supporting grid views. But I'm encountering problems regarding the way it dequeues cells.\nSome background info on my app: I have a class named 'ProductsGVC' which presents a grid view of products belonging to a certain 'Category'. ProductsGVC's data model is an array of products taken from an instance of a 'Category'.\nMy GMGridView creates 250 cells at a time. As I load each cell, I have a thread that downloads an image for each cell. While waiting for it to finish downloading, I put a default image in the cell's image view. Logically, after downloading the cell, I want to reload the cell to update the photo. I'm successful at doing this using this code:\n//_currentData is my array of products\n[_gmGridView reloadObjectAtIndex:[_currentData  indexOfObject:product] animated:YES];\nHowever, if the a cell that is in the bottom part of my array is updated, the cell is refreshed properly but 1 cell disappears.\nMy inefficient solution is to call [_gmGridView reloadData] anytime a cell finishes downloading its image. The result is, the cells I've loaded before, disappear. I'm guessing their dequeued and reused. Well, they do appear again when I scroll a number of times away from those cells that disappeared.\nMy question is, how do I prevent dequeue-ing a visible cell (i.e. a cell that is currently on-screen)?\n. rasmusth can you also help me. I have a similar problem with GMGridView: http://stackoverflow.com/questions/12776371/gmgridview-with-nsfetchedresultscontroller-data-not-updating-reloading.\nI implemented your solution but it doesn't seem to work properly.\n. Hello, \nI'm also using GMGridView which is fantastic for supporting grid views. But I'm encountering problems regarding the way it dequeues cells.\nSome background info on my app: I have a class named 'ProductsGVC' which presents a grid view of products belonging to a certain 'Category'. ProductsGVC's data model is an array of products taken from an instance of a 'Category'.\nMy GMGridView creates 250 cells at a time. As I load each cell, I have a thread that downloads an image for each cell. While waiting for it to finish downloading, I put a default image in the cell's image view. Logically, after downloading the cell, I want to reload the cell to update the photo. I'm successful at doing this using this code:\n//_currentData is my array of products\n[_gmGridView reloadObjectAtIndex:[_currentData  indexOfObject:product] animated:YES];\nHowever, if the a cell that is in the bottom part of my array is updated, the cell is refreshed properly but 1 cell disappears.\nMy inefficient solution is to call [_gmGridView reloadData] anytime a cell finishes downloading its image. The result is, the cells I've loaded before, disappear. I'm guessing their dequeued and reused. Well, they do appear again when I scroll a number of times away from those cells that disappeared.\nMy question is, how do I prevent dequeue-ing a visible cell (i.e. a cell that is currently on-screen)?\n. rasmusth can you also help me. I have a similar problem with GMGridView: http://stackoverflow.com/questions/12776371/gmgridview-with-nsfetchedresultscontroller-data-not-updating-reloading.\nI implemented your solution but it doesn't seem to work properly.\n. ",
    "lono175": "reloadData after orientation change will fix it.\n. reloadData after orientation change will fix it.\n. ",
    "OmidH": "+1\n. thanks\n. +1\n. thanks\n. ",
    "tobinharris": "+1\n. +1\n. ",
    "jpswain": "+1\n. +1\n. ",
    "EliSchleifer": "agreed this would be a very nice feature\n. agreed this would be a very nice feature\n. ",
    "sats": "Grouping like UITableView is certainly a missed feature.\n. Grouping like UITableView is certainly a missed feature.\n. ",
    "liuhuan1": "+1\n. +1\n. ",
    "Hamasn": "+1\n. +1\n. ",
    "mengze": "Similar to Flipboard:\n-> Edit on long tap\n-> Move item on long tap(Edit mode)\n-> Disable edit on tap or tap 'X'(Edit mode)\n. Similar to Flipboard:\n-> Edit on long tap\n-> Move item on long tap(Edit mode)\n-> Disable edit on tap or tap 'X'(Edit mode)\n. ",
    "asankamadushan": "Is this feature available now ?\n. How can i enable long press gesture enable on edit mode ? \n. Is this feature available now ?\n. How can i enable long press gesture enable on edit mode ? \n. ",
    "songbaoqiang": "yes  Flipboard works well\n. yes  Flipboard works well\n. ",
    "wsnnn": "Really miss tap gesture in edit mode. After deleting, a user must tap an empty space - it's not intuitive.\nSimply click on any item and exit the edit mode.\n. I did the following (works only on iOS 7): \nobjectivec\n[self setEdgesForExtendedLayout:UIRectEdgeNone];\nOr you can set the background on the navigationBar and tabBar, the effect will be the same.\n. Really miss tap gesture in edit mode. After deleting, a user must tap an empty space - it's not intuitive.\nSimply click on any item and exit the edit mode.\n. I did the following (works only on iOS 7): \nobjectivec\n[self setEdgesForExtendedLayout:UIRectEdgeNone];\nOr you can set the background on the navigationBar and tabBar, the effect will be the same.\n. ",
    "wfettich": "gmGridView.clipsToBounds = YES;  did the trick :)\n. maybe it should be YES by default to avoid confusion\n. gmGridView.clipsToBounds = YES;  did the trick :)\n. maybe it should be YES by default to avoid confusion\n. ",
    "KingOfBrian": "Just realized that the inFullScreen is needed for rotation events.   Will get that back in in a few.\n. FYI the closeTransform doesn't animate.   I'm looking to fix that today-ish.\n. I would think that works.   I'm not using this code any more myself, so I'm not sure I'll be much help.\n. Just realized that the inFullScreen is needed for rotation events.   Will get that back in in a few.\n. FYI the closeTransform doesn't animate.   I'm looking to fix that today-ish.\n. I would think that works.   I'm not using this code any more myself, so I'm not sure I'll be much help.\n. ",
    "MaxZeng": "I want this feature too !!!!  The fullscreen mode require two hands to be triggered, one hand holding the iPhone, while another hand performs the pinch gesture..... \nFor iPad, that is OK, because we always use two hands to use the iPad.\n. Hi, Niklassarers,\nthanks for your code. I use it during testing, everything works correctly except I need to remove the line on 575, i.e. \"_sortMovingItem.transform = CGAffineTransformMakeScale(self.scaleOnPan, self.scaleOnPan);\"\nor when the gesture ends, the dragging cell will be restored to the orignal position, then move to the destination place.\n. I want this feature too !!!!  The fullscreen mode require two hands to be triggered, one hand holding the iPhone, while another hand performs the pinch gesture..... \nFor iPad, that is OK, because we always use two hands to use the iPad.\n. Hi, Niklassarers,\nthanks for your code. I use it during testing, everything works correctly except I need to remove the line on 575, i.e. \"_sortMovingItem.transform = CGAffineTransformMakeScale(self.scaleOnPan, self.scaleOnPan);\"\nor when the gesture ends, the dragging cell will be restored to the orignal position, then move to the destination place.\n. ",
    "worldofjon": "Hi,\nI added a method to go fullscreen after scrollToObjectAtIndex\n- (void)scrollToObjectAtIndex:(NSInteger)index atScrollPosition:(GMGridViewScrollPosition)scrollPosition animated:(BOOL)animated\n  {\n  ...........\n// Better performance animating ourselves instead of using animated:YES in scrollRectToVisible\n  [UIView animateWithDuration:animated ? kDefaultAnimationDuration : 0\n                        delay:0\n                      options:kDefaultAnimationOptions\n                   animations:^{\n                       [self scrollRectToVisible:targetRect animated:NO];\n                   }\n                   completion:^(BOOL finished){\n                       [self performSelector:@selector(openTransformAtIndexNumber:) withObject:[NSNumber numberWithInt:index] afterDelay:1];\n                   }\n   ];\n  }\nand\n- (void)openTransformAtIndexNumber:(NSNumber *)position\n  {\n  [self startOpenTransformAtIndex:[position integerValue]];\n  [self completeOpenTransform];\n  }\nbut it only occasionally works. Any Ideas why?\n. thanks Brian, why are you sending me this information?\nOn 21 October 2013 16:32, Brian King notifications@github.com wrote:\n\nI would think that works. I'm not using this code any more myself, so I'm\nnot sure I'll be much help.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/gmoledina/GMGridView/pull/76#issuecomment-26727608\n.\n. Hi,\n\nI added a method to go fullscreen after scrollToObjectAtIndex\n- (void)scrollToObjectAtIndex:(NSInteger)index atScrollPosition:(GMGridViewScrollPosition)scrollPosition animated:(BOOL)animated\n  {\n  ...........\n// Better performance animating ourselves instead of using animated:YES in scrollRectToVisible\n  [UIView animateWithDuration:animated ? kDefaultAnimationDuration : 0\n                        delay:0\n                      options:kDefaultAnimationOptions\n                   animations:^{\n                       [self scrollRectToVisible:targetRect animated:NO];\n                   }\n                   completion:^(BOOL finished){\n                       [self performSelector:@selector(openTransformAtIndexNumber:) withObject:[NSNumber numberWithInt:index] afterDelay:1];\n                   }\n   ];\n  }\nand\n- (void)openTransformAtIndexNumber:(NSNumber *)position\n  {\n  [self startOpenTransformAtIndex:[position integerValue]];\n  [self completeOpenTransform];\n  }\nbut it only occasionally works. Any Ideas why?\n. thanks Brian, why are you sending me this information?\nOn 21 October 2013 16:32, Brian King notifications@github.com wrote:\n\nI would think that works. I'm not using this code any more myself, so I'm\nnot sure I'll be much help.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/gmoledina/GMGridView/pull/76#issuecomment-26727608\n.\n. \n",
    "ady-e-n": "@KingOfBrian how do i call the fullsize method on tap ? \ni tried to call openTransformAtIndex:(NSInteger)position in \n- (void)GMGridView:(GMGridView *)gridView didTapOnItemAtIndex:(NSInteger)position\n  {\n  NSLog(@\"Did tap at index %d\", position);\n}\ncan you please let me know how to i call the method implemented by you in order to go to fullscreen on tap ? \n. @KingOfBrian how do i call the fullsize method on tap ? \ni tried to call openTransformAtIndex:(NSInteger)position in \n- (void)GMGridView:(GMGridView *)gridView didTapOnItemAtIndex:(NSInteger)position\n  {\n  NSLog(@\"Did tap at index %d\", position);\n}\ncan you please let me know how to i call the method implemented by you in order to go to fullscreen on tap ? \n. ",
    "babulprabhakar": "Hey guys,\ngreat Work with grid View \nbut i am getting stuck at some point in my code .\ni want to implement expandable cell with you gmgridview cell but unable to implement transformation delegate \nit never gets called even in your example \n- (CGSize)GMGridView:(GMGridView )gridView sizeInFullSizeForCell:(GMGridViewCell )cell atIndex:(NSInteger)index inInterfaceOrientation:(UIInterfaceOrientation)orientation\n  {\n  CGSize viewSize = self.view.bounds.size;\n  return CGSizeMake(viewSize.width - 50, viewSize.height - 50);\n  }\nplease help ..\n. Hey guys,\ngreat Work with grid View \nbut i am getting stuck at some point in my code .\ni want to implement expandable cell with you gmgridview cell but unable to implement transformation delegate \nit never gets called even in your example \n- (CGSize)GMGridView:(GMGridView )gridView sizeInFullSizeForCell:(GMGridViewCell )cell atIndex:(NSInteger)index inInterfaceOrientation:(UIInterfaceOrientation)orientation\n  {\n  CGSize viewSize = self.view.bounds.size;\n  return CGSizeMake(viewSize.width - 50, viewSize.height - 50);\n  }\nplease help ..\n. ",
    "Krys90": "sorry,\nwhen I try to reload a grid, it disappears and does not show the grid with new data.\nI tried all methods\nalso [reloadData]\n. sorry,\nwhen I try to reload a grid, it disappears and does not show the grid with new data.\nI tried all methods\nalso [reloadData]\n. ",
    "rhummelmose": "I do experience the same problem in your demo. When setting Grid2 to GMGridViewLayoutHorizontalPagedLTR and dragging a cell to the side of the screen, it stutters to the side for half an inch at a time. I am positive that users will expect the same behavior as the springboard has. Another issue that is also present in the demo, is that if you grab a cell, drag it to the side, and let the grid scroll for less than what triggers a pagechange, the grid does not snap to a page when letting go of the cell.\nMy app is a tiny bit different from the demo app in that the grid does not have from edge to edge, and I think that is what causes the bug where the cell moves away from my finger.\nThanks for the quick response :)\n. Closing\n. +1\n. Works fine here for archive build. Your targets must be screwed up.\n. First of all you shouldn't call reloadData, if your intention is to reload, remove or add a single cell. GMGridView has methods for at and their easy to find in the main header file. Below is an example of how my implementation is. I'm utilizing NSFetchedResultsController so my code may differ from what you want, but you should be able to get the idea.\n```\n- (void)controller:(NSFetchedResultsController )controller\n   didChangeObject:(id)anObject\n       atIndexPath:(NSIndexPath )indexPath\n     forChangeType:(NSFetchedResultsChangeType)type\n      newIndexPath:(NSIndexPath *)newIndexPath\n{\n    if (!self.suspendAutomaticTrackingOfChangesInManagedObjectContext)\n    {\n        switch(type)\n        {\n            case NSFetchedResultsChangeInsert:\n                [self.gridView insertObjectAtIndex:newIndexPath.row animated:YES];\n                [self updatePageControl];\n                break;\n        case NSFetchedResultsChangeDelete:\n            [self.gridView removeObjectAtIndex:indexPath.row animated:YES];\n            [self updatePageControl];\n            break;\n\n        case NSFetchedResultsChangeUpdate:\n            break;\n\n        case NSFetchedResultsChangeMove:\n            [self.gridView removeObjectAtIndex:indexPath.row animated:YES];\n            [self.gridView insertObjectAtIndex:newIndexPath.row animated:YES];\n            break;\n    }\n}\n\n}\n```\n. Yes, NSFetchedResultsController will make sure that you only reload the photos that you actually need to, however with that many I don't know how much it'll help. You have to realize that the iPad does have a limited amount of renderingpower. You aren't scaling the images or transforming them somehow right? Cause if you are you should make sure not to do that.\n. Super easy to implement.\n. I do experience the same problem in your demo. When setting Grid2 to GMGridViewLayoutHorizontalPagedLTR and dragging a cell to the side of the screen, it stutters to the side for half an inch at a time. I am positive that users will expect the same behavior as the springboard has. Another issue that is also present in the demo, is that if you grab a cell, drag it to the side, and let the grid scroll for less than what triggers a pagechange, the grid does not snap to a page when letting go of the cell.\nMy app is a tiny bit different from the demo app in that the grid does not have from edge to edge, and I think that is what causes the bug where the cell moves away from my finger.\nThanks for the quick response :)\n. Closing\n. +1\n. Works fine here for archive build. Your targets must be screwed up.\n. First of all you shouldn't call reloadData, if your intention is to reload, remove or add a single cell. GMGridView has methods for at and their easy to find in the main header file. Below is an example of how my implementation is. I'm utilizing NSFetchedResultsController so my code may differ from what you want, but you should be able to get the idea.\n```\n- (void)controller:(NSFetchedResultsController )controller\n   didChangeObject:(id)anObject\n       atIndexPath:(NSIndexPath )indexPath\n     forChangeType:(NSFetchedResultsChangeType)type\n      newIndexPath:(NSIndexPath *)newIndexPath\n{\n    if (!self.suspendAutomaticTrackingOfChangesInManagedObjectContext)\n    {\n        switch(type)\n        {\n            case NSFetchedResultsChangeInsert:\n                [self.gridView insertObjectAtIndex:newIndexPath.row animated:YES];\n                [self updatePageControl];\n                break;\n        case NSFetchedResultsChangeDelete:\n            [self.gridView removeObjectAtIndex:indexPath.row animated:YES];\n            [self updatePageControl];\n            break;\n\n        case NSFetchedResultsChangeUpdate:\n            break;\n\n        case NSFetchedResultsChangeMove:\n            [self.gridView removeObjectAtIndex:indexPath.row animated:YES];\n            [self.gridView insertObjectAtIndex:newIndexPath.row animated:YES];\n            break;\n    }\n}\n\n}\n```\n. Yes, NSFetchedResultsController will make sure that you only reload the photos that you actually need to, however with that many I don't know how much it'll help. You have to realize that the iPad does have a limited amount of renderingpower. You aren't scaling the images or transforming them somehow right? Cause if you are you should make sure not to do that.\n. Super easy to implement.\n. ",
    "JohnCaccavale": "I have just encountered this in a project.  Has anyone found a solution since these comments were originally posted?\n. I have just encountered this in a project.  Has anyone found a solution since these comments were originally posted?\n. ",
    "g-mark": "+1\n. I have found that I also need to add this:\nif ( index < self.firstPositionLoaded )\n    self.firstPositionLoaded = self.firstPositionLoaded + 1;\nimmediately after the above for loop - otherwise, self.firstPositionLoaded points to a non-loaded cell, and you'll get gaps in the grid.\n. +1\n. I have found that I also need to add this:\nif ( index < self.firstPositionLoaded )\n    self.firstPositionLoaded = self.firstPositionLoaded + 1;\nimmediately after the above for loop - otherwise, self.firstPositionLoaded points to a non-loaded cell, and you'll get gaps in the grid.\n. ",
    "nicklocking": "+1,000,000\n. +1,000,000\n. ",
    "jeffbarg": "+1\n. +1\n. ",
    "kinwahlai": "+1\n. +1\n. ",
    "ghulammustafa": "+1 beginUpdates endUpdates support would be awesome. Currently, if you're using NSFetchedResultsController with GMGridView, multiple managed object updates (specially inserts) cannot be handled properly.\n. +1 beginUpdates endUpdates support would be awesome. Currently, if you're using NSFetchedResultsController with GMGridView, multiple managed object updates (specially inserts) cannot be handled properly.\n. ",
    "sanjitsaluja": "I am seeing this as well with paging mode. I have a full screen grid view which shows one cell at a time. Since size is different in landscpape and portrait the index is not maintained correctly.\nThe bug in layoutSubviews where the page index i calculated using a scroll offset (after rotation)\n// line 349\n    if (self.pagingEnabled) \n    {\n        [self setContentOffset:[self rectForPoint:self.contentOffset inPaggingMode:YES].origin animated:YES];\n    }\n. I am seeing this as well with paging mode. I have a full screen grid view which shows one cell at a time. Since size is different in landscpape and portrait the index is not maintained correctly.\nThe bug in layoutSubviews where the page index i calculated using a scroll offset (after rotation)\n// line 349\n    if (self.pagingEnabled) \n    {\n        [self setContentOffset:[self rectForPoint:self.contentOffset inPaggingMode:YES].origin animated:YES];\n    }\n. ",
    "stephanepechard": "I tried to keep the currentBounds size of the frame and apply the transformation to the contentOffset:\nCGPoint currentContentOffset = CGPointMake(self.bounds.size.width * (self.contentOffset.x / currentBounds.size.width), 0.0);\n[self setContentOffset:[self rectForPoint:currentContentOffset inPaggingMode:YES].origin animated:YES];\n// keep the bounds to be able to compute the contentOffset corresponding to the current orientation\ncurrentBounds = self.bounds;\nIt seems to work most of the time... sometimes not at the first rotation. If someone has a better fix, please share it.\n. I tried to keep the currentBounds size of the frame and apply the transformation to the contentOffset:\nCGPoint currentContentOffset = CGPointMake(self.bounds.size.width * (self.contentOffset.x / currentBounds.size.width), 0.0);\n[self setContentOffset:[self rectForPoint:currentContentOffset inPaggingMode:YES].origin animated:YES];\n// keep the bounds to be able to compute the contentOffset corresponding to the current orientation\ncurrentBounds = self.bounds;\nIt seems to work most of the time... sometimes not at the first rotation. If someone has a better fix, please share it.\n. ",
    "sonoshin": "Under GMGridView target, Click Build Phases and under Copy Headers, move all of the Public and Private entries to the Project section.\n. Under GMGridView target, Click Build Phases and under Copy Headers, move all of the Public and Private entries to the Project section.\n. ",
    "elprl": "Yes, I also have the same question. How do you clip the gridview to a static frame size? It keeps going outside my bounds when scrolling.\n. Yes, I also have the same question. How do you clip the gridview to a static frame size? It keeps going outside my bounds when scrolling.\n. ",
    "HMSpaceo": "@elprl  try adding GMGridView in one SrolleView. I have done that and It works fine.\n. @elprl  try adding GMGridView in one SrolleView. I have done that and It works fine.\n. ",
    "mharrisn": "I want to make sure I understand what you recommend...My filtering controls don't just remove a single cell from the NSArray at a time. For example, a section of the controls represent keywords, each of which have a relationship with the Photos...so when a user taps a keyword, I run a fetch on the Photos with that keyword as a predicate. Thats when I run reloadData....at that point out of 400 photos, the remaining array that fits that predicate could contain 50. \nAre you saying that using the delegate methods for NSFetchedResultsController is the way to go?\n. No the images aren't scaled or anything. I'm just adding the image to the cell's contentView.   I ran Instruments and it looks like the longest running function is something called readXMPData, so maybe I can try re-compressing my images and somehow remove the XMP metadata.  Thanks for your information I'll keep plugging away at this.\n. I want to make sure I understand what you recommend...My filtering controls don't just remove a single cell from the NSArray at a time. For example, a section of the controls represent keywords, each of which have a relationship with the Photos...so when a user taps a keyword, I run a fetch on the Photos with that keyword as a predicate. Thats when I run reloadData....at that point out of 400 photos, the remaining array that fits that predicate could contain 50. \nAre you saying that using the delegate methods for NSFetchedResultsController is the way to go?\n. No the images aren't scaled or anything. I'm just adding the image to the cell's contentView.   I ran Instruments and it looks like the longest running function is something called readXMPData, so maybe I can try re-compressing my images and somehow remove the XMP metadata.  Thanks for your information I'll keep plugging away at this.\n. ",
    "jamesdterry": "In case anyone else runs into this, use linker flags -ObjC -all_load\n. In case anyone else runs into this, use linker flags -ObjC -all_load\n. ",
    "georgepeng90": "Thanks a lot! I've been stumped too!\n. Thanks a lot! I've been stumped too!\n. ",
    "victorguo": "Thanks!\n. Thanks!\n. ",
    "obisax": "can you explaint the solution? i have the same error  or issues\n. can you explaint the solution? i have the same error  or issues\n. ",
    "soniccat": "Hmm it means that I will change the library in different places when I will use it)\n. Hmm it means that I will change the library in different places when I will use it)\n. ",
    "iOkay": "There are something wrong in the editing status.\n. There are something wrong in the editing status.\n. ",
    "elbryan": "This happens to me as well.. have you sorted this out?\n. I mean, I know what happens: the gridView layoutSubviews method is issued and it repositions the cells to their correct location.\nStill, I don't understand why this occurs only the first time\n. This happens to me as well.. have you sorted this out?\n. I mean, I know what happens: the gridView layoutSubviews method is issued and it repositions the cells to their correct location.\nStill, I don't understand why this occurs only the first time\n. ",
    "joshuafeldman": "Also to note, I started a completely fresh ARC iOS project. And copied the loadView, viewDidLoad, and all the delegate methods, and I still receive the same error in the same project.\nObviously I am removing unneeded code. Is there a dependency I am missing?\n. Fixed!\nLooks like I was missing a linker flag. If anyone else has weird issues make sure under your build settings that you have\n\"-ObjC\" under \"Other Linker Flags\"\n-ObjC Loads all members of static archive libraries that implement an Objective-C class or category.\n. Correction, it seems to have the effect with all. With the demo project I maxed out the item spacing and edge insets which placed about 4 items per page. Then if you delete a couple times in the same location you'll notice the same index appears twice. In my project I only have one item per page. And when the remove works correctly the animation plays through. But when it doesn't there is no animation and duplicated indexes. I will see if I can spend some time debugging this over the weekend.\nWondering if anyone else can verify this?\n. Also to note, I started a completely fresh ARC iOS project. And copied the loadView, viewDidLoad, and all the delegate methods, and I still receive the same error in the same project.\nObviously I am removing unneeded code. Is there a dependency I am missing?\n. Fixed!\nLooks like I was missing a linker flag. If anyone else has weird issues make sure under your build settings that you have\n\"-ObjC\" under \"Other Linker Flags\"\n-ObjC Loads all members of static archive libraries that implement an Objective-C class or category.\n. Correction, it seems to have the effect with all. With the demo project I maxed out the item spacing and edge insets which placed about 4 items per page. Then if you delete a couple times in the same location you'll notice the same index appears twice. In my project I only have one item per page. And when the remove works correctly the animation plays through. But when it doesn't there is no animation and duplicated indexes. I will see if I can spend some time debugging this over the weekend.\nWondering if anyone else can verify this?\n. ",
    "dvorberg": "Thanks.\n. Thanks.\n. ",
    "yenman": "Thanks\n. Thanks\n. ",
    "necipakca": "thanks\n. thanks\n. ",
    "zhijie": "thanks\n. thanks\n. ",
    "cannyboy": "Is there Project you could share which has this working?\n. This is my first attempt at making a nib-based grid.. It works, but I'm sure someone cleverer than me can make it better, faster, and prettier.\nMake a subclass of GMGridViewCell, which loads in a named nib:\n```\n//  CustomGridCell.h\nimport \"GMGridViewCell.h\"\n@interface CustomGridCell : GMGridViewCell\n@property (strong, nonatomic) IBOutlet UIButton button;\n@property (strong, nonatomic) IBOutlet UIView customContentView;\n+(CustomGridCell )cellFromNibNamed:(NSString )nibName;\n@end\n//  CustomGridCell.m\nimport \"CustomGridCell.h\"\n@implementation CustomGridCell\n@synthesize button;\n@synthesize contentView;\n+(CustomGridCell )cellFromNibNamed:(NSString )nibName\n{\n    UIViewController tempViewController = [[UIViewController alloc] initWithNibName:nibName bundle:nil];\n    CustomGridCell customCell = (CustomGridCell *)tempViewController.view;\n    return customCell;\n}\n@end\n```\nA nib is created to work with this. You create it buy using a UIView. Connect the FileOwner's view to this view. Within the nib, change the main view's class to CustomGridView. Within its main view, you place another view, which covers all the main view. Link this view to customContentView. Now add other stuff on top. I added a button for instance.\nAfter importing CustomGridView in the Demo1ViewController header, change the cellForItemAtIndex in Demo1ViewController.m to looks like this:\n- (GMGridViewCell *)GMGridView:(GMGridView *)gridView cellForItemAtIndex:(NSInteger)index\n{\n    CustomGridCell *cell = (CustomGridCell*)[gridView dequeueReusableCell];\n    if (!cell) \n    {\n        cell = (CustomGridCell *)[CustomGridCell cellFromNibNamed:@\"CustomGridCell\"];\n        [cell.button setTitle:[NSString stringWithFormat:@\"button:%i\", index] forState:UIControlStateNormal];\n        [cell.button addTarget:self action:@selector(buttonTapped:) forControlEvents:UIControlEventTouchUpInside];\n    }\n    [[cell.contentView subviews] makeObjectsPerformSelector:@selector(removeFromSuperview)];\n    return cell;\n}\nThe property customContentView is used instead of contentView, so you can change the contentView to customContentView in other parts of Demo1ViewController if you want some effect to take place.\nTo get buttons (and other controls to work) I added this to GMGridView.m:\n// discussion here: https://github.com/gmoledina/GMGridView/issues/68\n- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch\n{\n    if ( [touch.view isKindOfClass:[UIControl class]] ) return NO;\n    return YES;\n}\n. Is there Project you could share which has this working?\n. This is my first attempt at making a nib-based grid.. It works, but I'm sure someone cleverer than me can make it better, faster, and prettier.\nMake a subclass of GMGridViewCell, which loads in a named nib:\n```\n//  CustomGridCell.h\nimport \"GMGridViewCell.h\"\n@interface CustomGridCell : GMGridViewCell\n@property (strong, nonatomic) IBOutlet UIButton button;\n@property (strong, nonatomic) IBOutlet UIView customContentView;\n+(CustomGridCell )cellFromNibNamed:(NSString )nibName;\n@end\n//  CustomGridCell.m\nimport \"CustomGridCell.h\"\n@implementation CustomGridCell\n@synthesize button;\n@synthesize contentView;\n+(CustomGridCell )cellFromNibNamed:(NSString )nibName\n{\n    UIViewController tempViewController = [[UIViewController alloc] initWithNibName:nibName bundle:nil];\n    CustomGridCell customCell = (CustomGridCell *)tempViewController.view;\n    return customCell;\n}\n@end\n```\nA nib is created to work with this. You create it buy using a UIView. Connect the FileOwner's view to this view. Within the nib, change the main view's class to CustomGridView. Within its main view, you place another view, which covers all the main view. Link this view to customContentView. Now add other stuff on top. I added a button for instance.\nAfter importing CustomGridView in the Demo1ViewController header, change the cellForItemAtIndex in Demo1ViewController.m to looks like this:\n- (GMGridViewCell *)GMGridView:(GMGridView *)gridView cellForItemAtIndex:(NSInteger)index\n{\n    CustomGridCell *cell = (CustomGridCell*)[gridView dequeueReusableCell];\n    if (!cell) \n    {\n        cell = (CustomGridCell *)[CustomGridCell cellFromNibNamed:@\"CustomGridCell\"];\n        [cell.button setTitle:[NSString stringWithFormat:@\"button:%i\", index] forState:UIControlStateNormal];\n        [cell.button addTarget:self action:@selector(buttonTapped:) forControlEvents:UIControlEventTouchUpInside];\n    }\n    [[cell.contentView subviews] makeObjectsPerformSelector:@selector(removeFromSuperview)];\n    return cell;\n}\nThe property customContentView is used instead of contentView, so you can change the contentView to customContentView in other parts of Demo1ViewController if you want some effect to take place.\nTo get buttons (and other controls to work) I added this to GMGridView.m:\n// discussion here: https://github.com/gmoledina/GMGridView/issues/68\n- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch\n{\n    if ( [touch.view isKindOfClass:[UIControl class]] ) return NO;\n    return YES;\n}\n. ",
    "HrishiPol": "Hi All,\nI'm able to create subclass from GMGridViewCell with IB but problem I'm facing is accessing that class in main class where I'm using GMGridView. Its not working. I don't know what the issue is. Below is the code what I'm trying to do in main class.\nLandingPageCustomCell *cell = (GMGridViewCell *)[gridView dequeueReusableCell];\nLandingPageCustomCell is a class which is derived from GMGridView. But its not working.\nPlease help me if anyone has any idea.\n. Thanks a lot ... it really help me a lot.\n. Hi All,\nI'm able to create subclass from GMGridViewCell with IB but problem I'm facing is accessing that class in main class where I'm using GMGridView. Its not working. I don't know what the issue is. Below is the code what I'm trying to do in main class.\nLandingPageCustomCell *cell = (GMGridViewCell *)[gridView dequeueReusableCell];\nLandingPageCustomCell is a class which is derived from GMGridView. But its not working.\nPlease help me if anyone has any idea.\n. Thanks a lot ... it really help me a lot.\n. ",
    "Atulkumar79": "\n(GMGridViewCell )GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n  {\n  NSLog(@\"Creating view indx %d\", index);\n\nCGSize size = [self GMGridView:gridView sizeForItemsInInterfaceOrientation:[[UIApplication sharedApplication] statusBarOrientation]];\nGMGridViewCell *cell = [gridView dequeueReusableCell];\nif (!cell) \n  {\n      cell = [[GMGridViewCell alloc] init];\n```\n  UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n  view.backgroundColor = [UIColor clearColor];\n  view.layer.masksToBounds = NO;\n  view.layer.cornerRadius = 8;  \nview.layer.shadowColor = [UIColor blackColor].CGColor;\n  view.layer.shadowOffset = CGSizeMake(5, 5);\n  view.layer.shadowPath = [UIBezierPath bezierPathWithRect:view.bounds].CGPath;\n  view.layer.shadowRadius = 8;      \n  cell.contentView = view;\n  cell.contentView.backgroundColor = [UIColor whiteColor];\n  ```\n}\n  [[cell.contentView subviews] makeObjectsPerformSelector:@selector(removeFromSuperview)];\nUILabel label = [[UILabel alloc] initWithFrame:cell.contentView.bounds];\n  label.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\n  label.text = ((MWFeedItem )[_currentData objectAtIndex:index]).title;\n  label.textAlignment = UITextAlignmentCenter;\n  label.backgroundColor = [UIColor clearColor];\nlabel.textColor = [UIColor blackColor];\n  label.numberOfLines = 0;\n  label.highlightedTextColor = [UIColor blackColor];\n  label.font = [UIFont boldSystemFontOfSize:16];\n  label.center = CGPointMake(180, 30);\n  UIView *labelView = [[UIView alloc] initWithFrame:cell.contentView.bounds];\n  labelView.backgroundColor = [[UIColor cyanColor] colorWithAlphaComponent:0.0];\n  [labelView addSubview:label];\n//    UILabel label2 = [[UILabel alloc] initWithFrame:cell.contentView.bounds];\n    UILabel label2 = [[UILabel alloc] initWithFrame:CGRectMake(cell.contentView.bounds.origin.x + 10, cell.contentView.bounds.origin.y, cell.contentView.bounds.size.width - 10, cell.contentView.bounds.size.height)];\n    label2.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\n    label2.text = [((MWFeedItem *)[_currentData objectAtIndex:index]).summary stringByConvertingHTMLToPlainText]; \n    label2.textAlignment = UITextAlignmentLeft;\n    label2.backgroundColor = [UIColor clearColor];\n    label2.textColor = [UIColor blackColor];\n    label2.numberOfLines = 16;\n    label2.highlightedTextColor = [UIColor blackColor];\n    label2.font = [UIFont boldSystemFontOfSize:16]; \n    label2.font = [UIFont systemFontOfSize:15];\n[cell.contentView addSubview:labelView];\n[cell.contentView addSubview:label2];\nreturn cell;\n}\n. Thanks mwyman. The first part fixed the issue of labels not appearing correctly. \nFor the second part where you mention moving the UILabel creation in the if ( !cell ) block, can you show me a code snipped on how we could achieve that. I tried adding it in the !cell block but then after a certain page the label would not draw. I know I am missing something silly. \n. I tried doing this but the imageview in the cell would not update with the image after I dispatch to the main queue. Here is the code: \nimagegrabQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);\n//this is in the cellforItemAtIndex\ndispatch_async(imagegrabQueue, ^(void){\n            NSData data = [NSData dataWithContentsOfURL:[NSURL URLWithString:[imageArray objectAtIndex:index]]];\n//            UIImage image = [UIImage imageWithData:data];\n            dispatch_async(dispatch_get_main_queue(), ^{\n                imageView.image = [UIImage imageWithData:data];\n//                [_gmGridView reloadObjectAtIndex:index animated:YES];\n            });\n        });\n. - (GMGridViewCell )GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n  {\n  NSLog(@\"Creating view indx %d\", index);\nCGSize size = [self GMGridView:gridView sizeForItemsInInterfaceOrientation:[[UIApplication sharedApplication] statusBarOrientation]];\nGMGridViewCell *cell = [gridView dequeueReusableCell];\nif (!cell) \n  {\n      cell = [[GMGridViewCell alloc] init];\n```\n  UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n  view.backgroundColor = [UIColor clearColor];\n  view.layer.masksToBounds = NO;\n  view.layer.cornerRadius = 8;  \nview.layer.shadowColor = [UIColor blackColor].CGColor;\n  view.layer.shadowOffset = CGSizeMake(5, 5);\n  view.layer.shadowPath = [UIBezierPath bezierPathWithRect:view.bounds].CGPath;\n  view.layer.shadowRadius = 8;      \n  cell.contentView = view;\n  cell.contentView.backgroundColor = [UIColor whiteColor];\n  ```\n}\n  [[cell.contentView subviews] makeObjectsPerformSelector:@selector(removeFromSuperview)];\nUILabel label = [[UILabel alloc] initWithFrame:cell.contentView.bounds];\n  label.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\n  label.text = ((MWFeedItem )[_currentData objectAtIndex:index]).title;\n  label.textAlignment = UITextAlignmentCenter;\n  label.backgroundColor = [UIColor clearColor];\nlabel.textColor = [UIColor blackColor];\n  label.numberOfLines = 0;\n  label.highlightedTextColor = [UIColor blackColor];\n  label.font = [UIFont boldSystemFontOfSize:16];\n  label.center = CGPointMake(180, 30);\n  UIView *labelView = [[UIView alloc] initWithFrame:cell.contentView.bounds];\n  labelView.backgroundColor = [[UIColor cyanColor] colorWithAlphaComponent:0.0];\n  [labelView addSubview:label];\n//    UILabel label2 = [[UILabel alloc] initWithFrame:cell.contentView.bounds];\n    UILabel label2 = [[UILabel alloc] initWithFrame:CGRectMake(cell.contentView.bounds.origin.x + 10, cell.contentView.bounds.origin.y, cell.contentView.bounds.size.width - 10, cell.contentView.bounds.size.height)];\n    label2.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\n    label2.text = [((MWFeedItem *)[_currentData objectAtIndex:index]).summary stringByConvertingHTMLToPlainText]; \n    label2.textAlignment = UITextAlignmentLeft;\n    label2.backgroundColor = [UIColor clearColor];\n    label2.textColor = [UIColor blackColor];\n    label2.numberOfLines = 16;\n    label2.highlightedTextColor = [UIColor blackColor];\n    label2.font = [UIFont boldSystemFontOfSize:16]; \n    label2.font = [UIFont systemFontOfSize:15];\n[cell.contentView addSubview:labelView];\n[cell.contentView addSubview:label2];\nreturn cell;\n}\n. Thanks mwyman. The first part fixed the issue of labels not appearing correctly. \nFor the second part where you mention moving the UILabel creation in the if ( !cell ) block, can you show me a code snipped on how we could achieve that. I tried adding it in the !cell block but then after a certain page the label would not draw. I know I am missing something silly. \n. I tried doing this but the imageview in the cell would not update with the image after I dispatch to the main queue. Here is the code: \nimagegrabQueue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);\n//this is in the cellforItemAtIndex\ndispatch_async(imagegrabQueue, ^(void){\n            NSData data = [NSData dataWithContentsOfURL:[NSURL URLWithString:[imageArray objectAtIndex:index]]];\n//            UIImage image = [UIImage imageWithData:data];\n            dispatch_async(dispatch_get_main_queue(), ^{\n                imageView.image = [UIImage imageWithData:data];\n//                [_gmGridView reloadObjectAtIndex:index animated:YES];\n            });\n        });\n. ",
    "davidhoms": "If I dinamically increase the view bounds and center the selectable area still in the first mode.\n. If I dinamically increase the view bounds and center the selectable area still in the first mode.\n. ",
    "timcamber": "Second commit fixes an issue where, while sorting an item by dragging, if the user adds another finger / touch to the screen, the object being sorted will also respond to movements from the second touch / finger.\n. Second commit fixes an issue where, while sorting an item by dragging, if the user adds another finger / touch to the screen, the object being sorted will also respond to movements from the second touch / finger.\n. ",
    "mcaylus": "Hi, I have been observing the same issue while trying to set a specific index with the HorizontalPagedLTR strategy. I am not working on the latest version right now though. Was there a fix on this issue ? thanks!\n. Hi, I have been observing the same issue while trying to set a specific index with the HorizontalPagedLTR strategy. I am not working on the latest version right now though. Was there a fix on this issue ? thanks!\n. ",
    "narup": "I am observing the same issue, is it working now? \n. Still doesn't work I think. \n. I am observing the same issue, is it working now? \n. Still doesn't work I think. \n. ",
    "jallen": "I don't know if this works for a GMGridViewLayoutHorizontalPagedLTR layout strategy, but I was having the same issue with a GMGridViewLayoutHorizontal layout strategy. \nI got it to work by setting the layoutStrategy before the dataSource or the GMGridView.\n. I don't know if this works for a GMGridViewLayoutHorizontalPagedLTR layout strategy, but I was having the same issue with a GMGridViewLayoutHorizontal layout strategy. \nI got it to work by setting the layoutStrategy before the dataSource or the GMGridView.\n. ",
    "Lascorbe": "Isn't working...\nI had to use this (I'm using a UIPageControl):\nCGRect frame = _gmGridView.frame;\nframe.origin.x = frame.size.width * page;\nframe.origin.y = 0;\n[_gmGridView scrollRectToVisible:frame animated:YES];\n. Isn't working...\nI had to use this (I'm using a UIPageControl):\nCGRect frame = _gmGridView.frame;\nframe.origin.x = frame.size.width * page;\nframe.origin.y = 0;\n[_gmGridView scrollRectToVisible:frame animated:YES];\n. ",
    "jrmgx": "I guess there is a link with https://github.com/gmoledina/GMGridView/issues/103\n. I guess there is a link with https://github.com/gmoledina/GMGridView/issues/103\n. ",
    "jfeijoob": "The pageSize calculation seems to be OK, the problem is in the while condition:\n        while (originScroll.x + pageSize.width < point.x)  ---> should be while (originScroll.x + pageSize.width <= point.x)\n        {\n            originScroll.x += pageSize.width;\n        }\n```\n    while (originScroll.y + pageSize.height < point.y) ----> Should be  while (originScroll.y + pageSize.height <= point.y) \n{\n    originScroll.y += pageSize.height;\n}\n\n```\nIn any case in the commit e575ce2 Mar, 11, 2012 There is a change that introduce a new method named \n- (CGRect)rectForPoint: inPaggingMode:  that seems to fix the problem. I have not had time to verify, I will let you know.\n. The pageSize calculation seems to be OK, the problem is in the while condition:\n        while (originScroll.x + pageSize.width < point.x)  ---> should be while (originScroll.x + pageSize.width <= point.x)\n        {\n            originScroll.x += pageSize.width;\n        }\n```\n    while (originScroll.y + pageSize.height < point.y) ----> Should be  while (originScroll.y + pageSize.height <= point.y) \n{\n    originScroll.y += pageSize.height;\n}\n\n```\nIn any case in the commit e575ce2 Mar, 11, 2012 There is a change that introduce a new method named \n- (CGRect)rectForPoint: inPaggingMode:  that seems to fix the problem. I have not had time to verify, I will let you know.\n. ",
    "ralcazar": "I will explain the rationale of my code: the grid will contain DVD covers. A DVD cover is formed by three images:\n- The back of the DVD\n- The actual cover image, that is different for each cell\n- A DVD plastic (PNG file) to make a nice effect.\nThe only thing that changes is the cover image, that's why I try to reuse the \"caratula\" image view, as the other items don't change.\nFollowing your advice, I have removed everything (the back and the plastic) and just used the \"cell.contentView\" to store the image:\n```\n- (GMGridViewCell)GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n{\n    GMGridViewCell *cell = [gridView dequeueReusableCell];\n    Movie movie = [_data objectAtIndex:index];\nif (cell == nil) \n{\n    cell = [[GMGridViewCell alloc] init];\n\n    // Create content view\n    CGSize size = [self sizeForItemsInGMGridView:gridView];\n    cell.contentView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n}\n\n// Set the image in the cell\ncell.contentView.image = [UIImage imageNamed:XXXX];\n\nreturn cell;\n\n}\n```\nIn this case, the reuse works fine, but the grid \"flicks\" sometimes when reusing: i.e.the image fills the full screen for a fraction of second.\nDo you have any clue on this?\nThanks\n. Wow many thanks for your help!\nI will check your solution and will report with my findings\n. I have tried your approach and I am getting weird results.\nMy code is\n``` Objective-C\n- (GMGridViewCell )GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n{\n    GMGridViewCell cell = [gridView dequeueReusableCell];\n    Movie movie = [_data objectAtIndex:index];\n    UIImageView* caratula;\nif (cell == nil) \n{\n    CGRect cellFrame = CGRectZero;\n    cellFrame.size = [self sizeForItemsInGMGridView:gridView];\n\n    cell = [[GMGridViewCell alloc] initWithFrame:cellFrame];\n    cell.contentView = [[GridViewItem alloc] initWithFrame:cell.bounds];\n}\n\n\nGridViewItem* item = (GridViewItem*)cell.contentView;\nNSString* imageName = [NSString stringWithFormat:@\"Thumbs/%@\", movie.coverImgName];\n[item setCoverName:imageName];\n\nreturn cell;\n\n}\n```\nand\n``` Objective-C\n@interface GridViewItem()\n@property (nonatomic, retain) UIImageView caratula;\n@property (nonatomic, retain) UIImageView caratulaBack;\n@property (nonatomic, retain) UIImageView* caratulaFront;\n@end\n@implementation GridViewItem\n@synthesize caratulaBack;\n@synthesize caratula;\n@synthesize caratulaFront;\n\n(id)initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self) {\n        self.caratula = [[UIImageView alloc] initWithFrame:frame];\n        self.caratulaBack = [[UIImageView alloc] initWithFrame:frame];\n        self.caratulaFront = [[UIImageView alloc] initWithFrame:frame];caratula.contentMode = UIViewContentModeCenter;\n\ncaratulaBack.contentMode = UIViewContentModeCenter;\ncaratulaBack.image = [UIImage imageNamed:@\"dvd-case-front.png\"];\n\ncaratulaFront.contentMode = UIViewContentModeCenter;\ncaratulaFront.image = [UIImage imageNamed:@\"dvd-case-front-plastic.png\"];\n\n\n\n//        [self addSubview:caratulaBack];\n//        [self addSubview:caratula];\n//        [self addSubview:caratulaFront];\n    }\n    return self;\n}\n// Only override drawRect: if you perform custom drawing.\n// An empty implementation adversely affects performance during animation.\n- (void)drawRect:(CGRect)rect\n{\n    [self.caratulaBack drawRect:rect];\n    [self.caratula drawRect:rect];\n    [self.caratulaFront drawRect:rect];\n}\n\n(void) setCoverName:(NSString )cover\n{\n    UIImage imageData = [UIImage imageForDevice:cover];\n    self.caratula.image = imageData; \n    [self setNeedsDisplay];\n}\n```\n\nUsing \"drawRect\" shows no cover at all, only the DVD back and DVD front.\nIf I use the \"addSubview\" approach, I see the cover, and the reusing works perfectly! But the flick is back when reusing cells.\nClearly I am getting close, many thanks! But what's left? Autosizing or relayout? But cell never changes size?!?!?! When to do it?\n. Yes,  the line \nObjective-C\n    UIImage *imageData = [UIImage imageForDevice:cover];\nis returning not-nil (also, I see the cover using the \"subviews\" approach)\nI will try your suggestion about using UIImage drawInRect:\n. Commenting out that line leaves me without cover.\nI have tried your suggestion, and I get reuse code ok (I had to call [setNeedsDisplay] for it to work, but I still have the flick :S\nCode:\n``` Objective-C\n@interface GridViewItem()\n@property (nonatomic, retain) UIImage caratulaFrontImage;\n@property (nonatomic, retain) UIImage caratulaBackImage;\n@property (nonatomic, retain) UIImage* caratulaImage;\n@end\n@implementation GridViewItem\n@synthesize caratulaImage;\n@synthesize caratulaFrontImage;\n@synthesize caratulaBackImage;\n\n\n(id)initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self) {      \n         self.caratulaBackImage = [UIImage imageNamed:@\"dvd-case-front.png\"];\n         self.caratulaFrontImage = [UIImage imageNamed:@\"dvd-case-front-plastic.png\"];        \n}\nreturn self;\n}\n\n\n// Only override drawRect: if you perform custom drawing.\n// An empty implementation adversely affects performance during animation.\n- (void)drawRect:(CGRect)rect\n{\n    [self.caratulaBackImage drawInRect:rect];\n    [self.caratulaImage drawInRect:rect];\n    [self.caratulaFrontImage drawInRect:rect];\n}\n\n(void) setCoverName:(NSString *)cover\n{\n    self.caratulaImage = [UIImage imageForDevice:cover];\n    [self setNeedsDisplay];\n}\n\n@end\n```\n. At the end I solved the issue by changing the lines in the grid:\nObjective-C\n[UIView animateWithDuration:0 \n                          delay:0 \n                        options:kDefaultAnimationOptions | UIViewAnimationOptionOverrideInheritedDuration \n                     animations:^{\n                         cell.frame = frame;\n                         cell.contentView.frame = cell.bounds;\n                     } \n                     completion:nil];\nchanged to\n``` Objective-C\n                     cell.frame = frame;\n                     cell.contentView.frame = cell.bounds;\n\n```\n. I will explain the rationale of my code: the grid will contain DVD covers. A DVD cover is formed by three images:\n- The back of the DVD\n- The actual cover image, that is different for each cell\n- A DVD plastic (PNG file) to make a nice effect.\nThe only thing that changes is the cover image, that's why I try to reuse the \"caratula\" image view, as the other items don't change.\nFollowing your advice, I have removed everything (the back and the plastic) and just used the \"cell.contentView\" to store the image:\n```\n- (GMGridViewCell)GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n{\n    GMGridViewCell *cell = [gridView dequeueReusableCell];\n    Movie movie = [_data objectAtIndex:index];\nif (cell == nil) \n{\n    cell = [[GMGridViewCell alloc] init];\n\n    // Create content view\n    CGSize size = [self sizeForItemsInGMGridView:gridView];\n    cell.contentView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, size.width, size.height)];\n}\n\n// Set the image in the cell\ncell.contentView.image = [UIImage imageNamed:XXXX];\n\nreturn cell;\n\n}\n```\nIn this case, the reuse works fine, but the grid \"flicks\" sometimes when reusing: i.e.the image fills the full screen for a fraction of second.\nDo you have any clue on this?\nThanks\n. Wow many thanks for your help!\nI will check your solution and will report with my findings\n. I have tried your approach and I am getting weird results.\nMy code is\n``` Objective-C\n- (GMGridViewCell )GMGridView:(GMGridView )gridView cellForItemAtIndex:(NSInteger)index\n{\n    GMGridViewCell cell = [gridView dequeueReusableCell];\n    Movie movie = [_data objectAtIndex:index];\n    UIImageView* caratula;\nif (cell == nil) \n{\n    CGRect cellFrame = CGRectZero;\n    cellFrame.size = [self sizeForItemsInGMGridView:gridView];\n\n    cell = [[GMGridViewCell alloc] initWithFrame:cellFrame];\n    cell.contentView = [[GridViewItem alloc] initWithFrame:cell.bounds];\n}\n\n\nGridViewItem* item = (GridViewItem*)cell.contentView;\nNSString* imageName = [NSString stringWithFormat:@\"Thumbs/%@\", movie.coverImgName];\n[item setCoverName:imageName];\n\nreturn cell;\n\n}\n```\nand\n``` Objective-C\n@interface GridViewItem()\n@property (nonatomic, retain) UIImageView caratula;\n@property (nonatomic, retain) UIImageView caratulaBack;\n@property (nonatomic, retain) UIImageView* caratulaFront;\n@end\n@implementation GridViewItem\n@synthesize caratulaBack;\n@synthesize caratula;\n@synthesize caratulaFront;\n\n(id)initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self) {\n        self.caratula = [[UIImageView alloc] initWithFrame:frame];\n        self.caratulaBack = [[UIImageView alloc] initWithFrame:frame];\n        self.caratulaFront = [[UIImageView alloc] initWithFrame:frame];caratula.contentMode = UIViewContentModeCenter;\n\ncaratulaBack.contentMode = UIViewContentModeCenter;\ncaratulaBack.image = [UIImage imageNamed:@\"dvd-case-front.png\"];\n\ncaratulaFront.contentMode = UIViewContentModeCenter;\ncaratulaFront.image = [UIImage imageNamed:@\"dvd-case-front-plastic.png\"];\n\n\n\n//        [self addSubview:caratulaBack];\n//        [self addSubview:caratula];\n//        [self addSubview:caratulaFront];\n    }\n    return self;\n}\n// Only override drawRect: if you perform custom drawing.\n// An empty implementation adversely affects performance during animation.\n- (void)drawRect:(CGRect)rect\n{\n    [self.caratulaBack drawRect:rect];\n    [self.caratula drawRect:rect];\n    [self.caratulaFront drawRect:rect];\n}\n\n(void) setCoverName:(NSString )cover\n{\n    UIImage imageData = [UIImage imageForDevice:cover];\n    self.caratula.image = imageData; \n    [self setNeedsDisplay];\n}\n```\n\nUsing \"drawRect\" shows no cover at all, only the DVD back and DVD front.\nIf I use the \"addSubview\" approach, I see the cover, and the reusing works perfectly! But the flick is back when reusing cells.\nClearly I am getting close, many thanks! But what's left? Autosizing or relayout? But cell never changes size?!?!?! When to do it?\n. Yes,  the line \nObjective-C\n    UIImage *imageData = [UIImage imageForDevice:cover];\nis returning not-nil (also, I see the cover using the \"subviews\" approach)\nI will try your suggestion about using UIImage drawInRect:\n. Commenting out that line leaves me without cover.\nI have tried your suggestion, and I get reuse code ok (I had to call [setNeedsDisplay] for it to work, but I still have the flick :S\nCode:\n``` Objective-C\n@interface GridViewItem()\n@property (nonatomic, retain) UIImage caratulaFrontImage;\n@property (nonatomic, retain) UIImage caratulaBackImage;\n@property (nonatomic, retain) UIImage* caratulaImage;\n@end\n@implementation GridViewItem\n@synthesize caratulaImage;\n@synthesize caratulaFrontImage;\n@synthesize caratulaBackImage;\n\n\n(id)initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self) {      \n         self.caratulaBackImage = [UIImage imageNamed:@\"dvd-case-front.png\"];\n         self.caratulaFrontImage = [UIImage imageNamed:@\"dvd-case-front-plastic.png\"];        \n}\nreturn self;\n}\n\n\n// Only override drawRect: if you perform custom drawing.\n// An empty implementation adversely affects performance during animation.\n- (void)drawRect:(CGRect)rect\n{\n    [self.caratulaBackImage drawInRect:rect];\n    [self.caratulaImage drawInRect:rect];\n    [self.caratulaFrontImage drawInRect:rect];\n}\n\n(void) setCoverName:(NSString *)cover\n{\n    self.caratulaImage = [UIImage imageForDevice:cover];\n    [self setNeedsDisplay];\n}\n\n@end\n```\n. At the end I solved the issue by changing the lines in the grid:\nObjective-C\n[UIView animateWithDuration:0 \n                          delay:0 \n                        options:kDefaultAnimationOptions | UIViewAnimationOptionOverrideInheritedDuration \n                     animations:^{\n                         cell.frame = frame;\n                         cell.contentView.frame = cell.bounds;\n                     } \n                     completion:nil];\nchanged to\n``` Objective-C\n                     cell.frame = frame;\n                     cell.contentView.frame = cell.bounds;\n\n```\n. ",
    "powerje": "I'm having the same issue, if I figure something out I'll get back with you - though I know it's probably been too long to matter\n. I'm having the same issue, if I figure something out I'll get back with you - though I know it's probably been too long to matter\n. ",
    "niklassaers": "I should probably add that I also get this for cells that are visible, but that were invisible a little while ago\n. @yetithefoot Thanks a bunch! :-)\n. I should probably add that I also get this for cells that are visible, but that were invisible a little while ago\n. @yetithefoot Thanks a bunch! :-)\n. ",
    "yetithefoot": "Confirm that! I also get nil's sometimes!\n. -itemSubviews method (GMGridView.m) returns incorrect subviews from cache.\nI have 230 items in grid, but code\nsubviews = [self.itemSubviewsCache copy];\nreturns only 70...\n. as a quick fix you can use \n[_gmGridView performSelector:@selector(setSubviewsCacheAsInvalid)];\nbefore your cellForItemAtIndex invocation.\n. Confirm that! I also get nil's sometimes!\n. -itemSubviews method (GMGridView.m) returns incorrect subviews from cache.\nI have 230 items in grid, but code\nsubviews = [self.itemSubviewsCache copy];\nreturns only 70...\n. as a quick fix you can use \n[_gmGridView performSelector:@selector(setSubviewsCacheAsInvalid)];\nbefore your cellForItemAtIndex invocation.\n. ",
    "alariccole": "Also known as masonry layout. This would be a great addition.\n. Also known as masonry layout. This would be a great addition.\n. ",
    "jefflinwood": "Has there been any progress on this? It's something I can do, but don't want to spend the time if it's already done :)\n. This project (not GMGridView) just got opensourced today: https://github.com/1000Memories/TMQuiltView - but I really like GMGridView. I'd definitely try and take some inspiration from that project, as well as from JQuery Masonry.\n. Has there been any progress on this? It's something I can do, but don't want to spend the time if it's already done :)\n. This project (not GMGridView) just got opensourced today: https://github.com/1000Memories/TMQuiltView - but I really like GMGridView. I'd definitely try and take some inspiration from that project, as well as from JQuery Masonry.\n. ",
    "RyanGarchinsky": "I would greatly appreciate this as well !\n. I would greatly appreciate this as well !\n. ",
    "bagusflyer": "I'm really curious at how you handle the sorting animation if the height is different\n. Any sample code?\n. You have to write that by yourself. It's not supported in this library.\n. Your code looks not correct because you assign the image inside the cell creation part. That means the reused cell won't be assign the correct image.\n. I'm really curious at how you handle the sorting animation if the height is different\n. Any sample code?\n. You have to write that by yourself. It's not supported in this library.\n. Your code looks not correct because you assign the image inside the cell creation part. That means the reused cell won't be assign the correct image.\n. ",
    "Nosfi": "I think i had something messed up with my code, related to the events of my PageControl...I remade the control and the issue stoped to happen. Sorry for the inconvenience.\n. I think i had something messed up with my code, related to the events of my PageControl...I remade the control and the issue stoped to happen. Sorry for the inconvenience.\n. ",
    "khalilpakdata": "What I had done is just called the [asset thumbnail] instead of [asset default presentation and it works fine but what my problem is that i have to save both images thumbnail and large as i had a photoscroller in it also but when saving large images is crashes :) and second issue is that i also want to save videos from my photolibrary to my own photolibrary but still no progress.\n. What I had done is just called the [asset thumbnail] instead of [asset default presentation and it works fine but what my problem is that i have to save both images thumbnail and large as i had a photoscroller in it also but when saving large images is crashes :) and second issue is that i also want to save videos from my photolibrary to my own photolibrary but still no progress.\n. ",
    "yumyo": "+1 \nthis is a must if you need to layout out items sorted by date, flowing from present (right) to past (left)\n. +1 \nthis is a must if you need to layout out items sorted by date, flowing from present (right) to past (left)\n. ",
    "kurt-schaefer": "This actually happens every time you scroll and the scroll indicator overlaps any of your content.   It's caused by always doing [self appendSubview:cell] which can place the cell after the scroll indicators.   One fix is to replace all the [self appendSubview:cell]'s with [self insertObject:cell atIndex:0] which incurs some array element copying, but keeps the scroll indicators from getting sporadically buried.  Another nicer way to fix this would be to have a subview that all the cells are added/removed from that is always upstream of the scroll indicators.   It's common practice to have the scroll indicators overlap the grid cells, so this is actually a kind of serious bug in terms of having the grid look ok during scrolling.  It's not really an \"edge case\".\n. This actually happens every time you scroll and the scroll indicator overlaps any of your content.   It's caused by always doing [self appendSubview:cell] which can place the cell after the scroll indicators.   One fix is to replace all the [self appendSubview:cell]'s with [self insertObject:cell atIndex:0] which incurs some array element copying, but keeps the scroll indicators from getting sporadically buried.  Another nicer way to fix this would be to have a subview that all the cells are added/removed from that is always upstream of the scroll indicators.   It's common practice to have the scroll indicators overlap the grid cells, so this is actually a kind of serious bug in terms of having the grid look ok during scrolling.  It's not really an \"edge case\".\n. ",
    "jk": "But there's no public method to call to invoke the same behavior as to pinchZoom on a cell which gets its UIView from - (UIView *)GMGridView:(GMGridView *)gridView fullSizeViewForCell:(GMGridViewCell *)cell atIndex:(NSInteger)index. I definitely can call that method and show the UIView by my self, but I rather want to repeat existing code to enter fullsize mode.\n. Sadly it does not.\n- (void)GMGridView:(GMGridView *)gridView didTapOnItemAtIndex:(NSInteger)position {\n    GMGridViewCell *cell = [gridView cellForItemAtIndex:position];\n    [cell switchToFullSizeMode:YES];\n}\nIf I set a breakpoint on -(void)switchToFullSizeMode:(BOOL)fullSizeEnabled I can see that it is only called by GMGridViews -(void)transformingGestureDidFinish and that in turn is called with this construct:\n[NSObject cancelPreviousPerformRequestsWithTarget:gridView selector:@selector(transformingGestureDidFinish) object:nil];\n[gridView performSelector:@selector(transformingGestureDidFinish) withObject:nil afterDelay:0.1];\nI obviously lack certain skills here, I can't see why this isn't working. I assume I miss setting some internal flags like _transformingItem.\n. But there's no public method to call to invoke the same behavior as to pinchZoom on a cell which gets its UIView from - (UIView *)GMGridView:(GMGridView *)gridView fullSizeViewForCell:(GMGridViewCell *)cell atIndex:(NSInteger)index. I definitely can call that method and show the UIView by my self, but I rather want to repeat existing code to enter fullsize mode.\n. Sadly it does not.\n- (void)GMGridView:(GMGridView *)gridView didTapOnItemAtIndex:(NSInteger)position {\n    GMGridViewCell *cell = [gridView cellForItemAtIndex:position];\n    [cell switchToFullSizeMode:YES];\n}\nIf I set a breakpoint on -(void)switchToFullSizeMode:(BOOL)fullSizeEnabled I can see that it is only called by GMGridViews -(void)transformingGestureDidFinish and that in turn is called with this construct:\n[NSObject cancelPreviousPerformRequestsWithTarget:gridView selector:@selector(transformingGestureDidFinish) object:nil];\n[gridView performSelector:@selector(transformingGestureDidFinish) withObject:nil afterDelay:0.1];\nI obviously lack certain skills here, I can't see why this isn't working. I assume I miss setting some internal flags like _transformingItem.\n. ",
    "trawor": "+1\n2) I have added one more UIView(gridContentView) in my UIViewController. Now I want to show GMGridView in gridContentView. I tried setting gmGridView.mainSuperView = self.gridContentView; but still my grids scroll above that view. How can I change mainSuperView ?\n. @Maverick1st thx for reply, I had try clipsToBounds = YES in the example code it should be _gmGridView1.clipsToBounds=YES;  but it does work as I wish, it still looks like this:\n\n. +1\n2) I have added one more UIView(gridContentView) in my UIViewController. Now I want to show GMGridView in gridContentView. I tried setting gmGridView.mainSuperView = self.gridContentView; but still my grids scroll above that view. How can I change mainSuperView ?\n. @Maverick1st thx for reply, I had try clipsToBounds = YES in the example code it should be _gmGridView1.clipsToBounds=YES;  but it does work as I wish, it still looks like this:\n\n. ",
    "nfs3250": "@trawor , I tried the above solution of setting required frame & then using clipToBounds = YES & it works perfectly. Here is my code if you need it\n-(void)setUpGridView {\n    NSInteger spacing = 8;\n    GMGridView *tempgmGridView = [[GMGridView alloc] initWithFrame:CGRectMake(0.0, 60.0, 320.0, 352.0)];\n    tempgmGridView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\n    tempgmGridView.backgroundColor = [UIColor clearColor];\n    [self.view addSubview:tempgmGridView];\n    gmGridView = tempgmGridView;\n    gmGridView.clipsToBounds = YES;\n    gmGridView.style = GMGridViewStyleSwap;\n    gmGridView.itemSpacing = spacing;\n    gmGridView.minEdgeInsets = UIEdgeInsetsMake(spacing, spacing, spacing, spacing);\n    gmGridView.centerGrid = YES;\n    gmGridView.actionDelegate = self;\n    gmGridView.sortingDelegate = self;\n    gmGridView.transformDelegate = self;\n    gmGridView.dataSource = self;\n}\nNow my GridView scrolls within the frame. Try to set FRAME of GMGridView also along with clipToBounds = YES\n. @Maverick1st Thanks for reply. I tried to set gridview to editing mode in the handle method of the longPressGestureRecognizer as follows\n- (void)longPressGestureUpdated:(UILongPressGestureRecognizer *)longPressGesture\n  {\nself.editing = YES;\n  self.enableEditOnLongPress = YES;\n  //  Remaining code in this method\n}\nBut it works for first time & afterwards its not working because \n// Editing Mode\n@property (nonatomic, getter=isEditing) BOOL editing; // Default is NO - When set to YES, all gestures are disabled and delete buttons shows up on cells\nCan you tell me what should I do ?\n. I am not getting what I am doing wrong. Where should I reset & which variables ? Sorry. \nCan you tell me what I need to do? Thanks\n. Thanks Maverick1st for reply. I have changed my code as above. It works perfectly. One more question do I need\n[[cell.contentView subviews] makeObjectsPerformSelector:@selector(removeFromSuperview)]; ?\n. Thanks for the reply. Now I got the reason of calling method. Thanks.\n. @trawor , I tried the above solution of setting required frame & then using clipToBounds = YES & it works perfectly. Here is my code if you need it\n-(void)setUpGridView {\n    NSInteger spacing = 8;\n    GMGridView *tempgmGridView = [[GMGridView alloc] initWithFrame:CGRectMake(0.0, 60.0, 320.0, 352.0)];\n    tempgmGridView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\n    tempgmGridView.backgroundColor = [UIColor clearColor];\n    [self.view addSubview:tempgmGridView];\n    gmGridView = tempgmGridView;\n    gmGridView.clipsToBounds = YES;\n    gmGridView.style = GMGridViewStyleSwap;\n    gmGridView.itemSpacing = spacing;\n    gmGridView.minEdgeInsets = UIEdgeInsetsMake(spacing, spacing, spacing, spacing);\n    gmGridView.centerGrid = YES;\n    gmGridView.actionDelegate = self;\n    gmGridView.sortingDelegate = self;\n    gmGridView.transformDelegate = self;\n    gmGridView.dataSource = self;\n}\nNow my GridView scrolls within the frame. Try to set FRAME of GMGridView also along with clipToBounds = YES\n. @Maverick1st Thanks for reply. I tried to set gridview to editing mode in the handle method of the longPressGestureRecognizer as follows\n- (void)longPressGestureUpdated:(UILongPressGestureRecognizer *)longPressGesture\n  {\nself.editing = YES;\n  self.enableEditOnLongPress = YES;\n  //  Remaining code in this method\n}\nBut it works for first time & afterwards its not working because \n// Editing Mode\n@property (nonatomic, getter=isEditing) BOOL editing; // Default is NO - When set to YES, all gestures are disabled and delete buttons shows up on cells\nCan you tell me what should I do ?\n. I am not getting what I am doing wrong. Where should I reset & which variables ? Sorry. \nCan you tell me what I need to do? Thanks\n. Thanks Maverick1st for reply. I have changed my code as above. It works perfectly. One more question do I need\n[[cell.contentView subviews] makeObjectsPerformSelector:@selector(removeFromSuperview)]; ?\n. Thanks for the reply. Now I got the reason of calling method. Thanks.\n. ",
    "chathurka": "This is a solution for above problem\nhttp://roshankularathna.blogspot.com/2013/03/gmgridview-long-press-delete-and-moving.html\n. This is help for you\nhttp://www.roshankularathna.blogspot.com/2013/03/gmgridview-long-press-delete-and-moving.html\n. This is a solution for above problem\nhttp://roshankularathna.blogspot.com/2013/03/gmgridview-long-press-delete-and-moving.html\n. This is help for you\nhttp://www.roshankularathna.blogspot.com/2013/03/gmgridview-long-press-delete-and-moving.html\n. ",
    "setoff": "Have the same issue:\nVideo: http://screencast.com/t/N4e01lrmBpvP\n. To fix this issue set self.clipsToBounds = YES; in GMGridView.m:251\n. duplicates https://github.com/gmoledina/GMGridView/issues/132\n. Have the same issue:\nVideo: http://screencast.com/t/N4e01lrmBpvP\n. To fix this issue set self.clipsToBounds = YES; in GMGridView.m:251\n. duplicates https://github.com/gmoledina/GMGridView/issues/132\n. ",
    "electrichead": "I did try that, but it doesn't work because when the grid is first created (I am loading it in my view controller's viewDidLoad, but I also tried viewWillAppear), the cell.contentView.bounds is not set yet.  I had to modify GMGridView.m to call a new protocol method for GMGridViewDataSource after the initialization in newItemSubViewForPosition:\nAfter the call to the datasource's GMGridView:cellForItemAtIndex: there is a [self applywithoutAnimation:] that sets the frame of the contentView.  After this, when theprotocol calls back to the datasource, the contentView is able to have frame and bounds accessible.  Until this, they are 0.\nIs there a different way to do this?  I am not that familiar with iOS: this will be my first app.\n. Ok, thanks!\n. I did try that, but it doesn't work because when the grid is first created (I am loading it in my view controller's viewDidLoad, but I also tried viewWillAppear), the cell.contentView.bounds is not set yet.  I had to modify GMGridView.m to call a new protocol method for GMGridViewDataSource after the initialization in newItemSubViewForPosition:\nAfter the call to the datasource's GMGridView:cellForItemAtIndex: there is a [self applywithoutAnimation:] that sets the frame of the contentView.  After this, when theprotocol calls back to the datasource, the contentView is able to have frame and bounds accessible.  Until this, they are 0.\nIs there a different way to do this?  I am not that familiar with iOS: this will be my first app.\n. Ok, thanks!\n. ",
    "LeenaTekani": "This bug is not yet solved and i am also facing the same issue.\n. This bug is not yet solved and i am also facing the same issue.\n. ",
    "zakdances": "Nevermind...I wasn't explicitly setting actionDelegate\n. Nevermind...I wasn't explicitly setting actionDelegate\n. ",
    "kenchung": "Just set gmGridView.alwaysBounceVertical = YES;\n. Just set gmGridView.alwaysBounceVertical = YES;\n. ",
    "benroo": "Any one to provide more details on this? I've the same queries here.\n. Any one to provide more details on this? I've the same queries here.\n. ",
    "ricsantos": "What layout strategy are you using? Default is vertical so maybe you need to change it to horizontal.\n. What layout strategy are you using? Default is vertical so maybe you need to change it to horizontal.\n. Place a deug label on the cell saying what index cell it is. This will ensure the layout strategy is as you expect.\n. It sounds like you are not correctly resizing your view. Note that views will always load in portrait orientation. You must ensure your app is correctly resizing when appropriate (typically at the end of viewDidLoad).\nEither way, it is most likely an issue with your viewController setup, and not GMGridView.\n. Have you resolved this? It is a bit hard to tell what is wrong with only that snippet of code.\n. What layout strategy are you using? Default is vertical so maybe you need to change it to horizontal.\n. What layout strategy are you using? Default is vertical so maybe you need to change it to horizontal.\n. Place a deug label on the cell saying what index cell it is. This will ensure the layout strategy is as you expect.\n. It sounds like you are not correctly resizing your view. Note that views will always load in portrait orientation. You must ensure your app is correctly resizing when appropriate (typically at the end of viewDidLoad).\nEither way, it is most likely an issue with your viewController setup, and not GMGridView.\n. Have you resolved this? It is a bit hard to tell what is wrong with only that snippet of code.\n. ",
    "laGrave": "Doesn't work in paged layout strategy\n. Doesn't work in paged layout strategy\n. ",
    "kimar": "Which paged layout do you exactly mean? I've been using it with the HorizontalPagedLTR and am experiencing no problems, what problems do occur?\n. Which paged layout do you exactly mean? I've been using it with the HorizontalPagedLTR and am experiencing no problems, what problems do occur?\n. ",
    "spilliams": "I solved it myself by overriding -gestureRecognizer:shouldRecognizeSimultaneouslyWIthGestureRecognizer:. In my SWDragDropGridView.h I defined the class as implementing the UIGestureRecognizerDelegate protocol, then in SWDragDropGridView.m put the following:\n- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer\n{\n    if ([NSStringFromClass(otherGestureRecognizer.view.class) isEqualToString:@\"UIScrollView\"] ||\n        [NSStringFromClass(otherGestureRecognizer.view.class) isEqualToString:@\"UILayoutContainerView\"]) {\n        return NO;\n    } else {\n        return YES;\n    }\n}\n. Actually, if you want to put UIControls inside the cells then you need to flip that around a bit:\n- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer\n{\n    if (gestureRecognizer.view == otherGestureRecognizer.view) {\n        return YES;\n    } else {\n        return NO;\n    }\n}\nNow the only time a recognizer happens simultaneously with another is when they're on the same view.\n. I solved it myself by overriding -gestureRecognizer:shouldRecognizeSimultaneouslyWIthGestureRecognizer:. In my SWDragDropGridView.h I defined the class as implementing the UIGestureRecognizerDelegate protocol, then in SWDragDropGridView.m put the following:\n- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer\n{\n    if ([NSStringFromClass(otherGestureRecognizer.view.class) isEqualToString:@\"UIScrollView\"] ||\n        [NSStringFromClass(otherGestureRecognizer.view.class) isEqualToString:@\"UILayoutContainerView\"]) {\n        return NO;\n    } else {\n        return YES;\n    }\n}\n. Actually, if you want to put UIControls inside the cells then you need to flip that around a bit:\n- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer\n{\n    if (gestureRecognizer.view == otherGestureRecognizer.view) {\n        return YES;\n    } else {\n        return NO;\n    }\n}\nNow the only time a recognizer happens simultaneously with another is when they're on the same view.\n. ",
    "hanky6": "I switched back to an older version of GMGridView that I was using in another project. It's working perfect there.\n. I switched back to an older version of GMGridView that I was using in another project. It's working perfect there.\n. ",
    "quazarteam": "anyone willing to help ?\n. anyone willing to help ?\n. ",
    "nutshellfool": "Same build error issue. \nEnvironment : \nxCode 4.6 \niOS SDK: 6.1\n. Same build error issue. \nEnvironment : \nxCode 4.6 \niOS SDK: 6.1\n. ",
    "libgin": "Change to RestKit (arc 64-bit)\nBAAO = no\n. Change to RestKit (arc 64-bit)\nBAAO = no\n. ",
    "umairjt": "Resolved : Actually i forgot to set the UIViewAutoresizing GM GridViewCell. Now i have set the UIViewAutoresizing to  UIViewAutoresizingFlexibleTopMargin | UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleRightMargin and its working perfectly\n. Resolved : Actually i forgot to set the UIViewAutoresizing GM GridViewCell. Now i have set the UIViewAutoresizing to  UIViewAutoresizingFlexibleTopMargin | UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleRightMargin and its working perfectly\n. ",
    "stubuchbinder": "set clipsToBounds = YES;\n. set clipsToBounds = YES;\n. ",
    "oasis1996": "rschiavi  you is the best thxxx\n. rschiavi  you is the best thxxx\n. ",
    "austimkelly": "I added this method to GMGridViewCell.m/h and set it for each cell. Then I can delete a cell while its in edit mode. This is just a test, I haven't fully cleaned this up.\n- (void)forceEnableDeleteButton:(BOOL)animated\n  {\n      BOOL tempEditing = YES; \n```\n  if (animated) {\n      [UIView animateWithDuration:0.2f\n                            delay:0.f\n                          options:UIViewAnimationOptionAllowUserInteraction | UIViewAnimationCurveEaseOut\n                       animations:^{\n                           self.deleteButton.alpha = 1.f;\n                       }\n                       completion:nil];\n  }else {\n      self.deleteButton.alpha = 1.f;\n  }\nself.contentView.userInteractionEnabled = !tempEditing;\n[self shakeStatus:animated];\n  ```\n}\n. I added this method to GMGridViewCell.m/h and set it for each cell. Then I can delete a cell while its in edit mode. This is just a test, I haven't fully cleaned this up.\n- (void)forceEnableDeleteButton:(BOOL)animated\n  {\n      BOOL tempEditing = YES; \n```\n  if (animated) {\n      [UIView animateWithDuration:0.2f\n                            delay:0.f\n                          options:UIViewAnimationOptionAllowUserInteraction | UIViewAnimationCurveEaseOut\n                       animations:^{\n                           self.deleteButton.alpha = 1.f;\n                       }\n                       completion:nil];\n  }else {\n      self.deleteButton.alpha = 1.f;\n  }\nself.contentView.userInteractionEnabled = !tempEditing;\n[self shakeStatus:animated];\n  ```\n}\n. ",
    "zeroCoder1": "I know its an old issue.. if you are still working on it... \nI have added something similar to what you mention here....\nhttps://github.com/zeroCoder1/GMGridView/blob/master/GMGridView/GMGridView.m#L611\n. I know its an old issue.. if you are still working on it... \nI have added something similar to what you mention here....\nhttps://github.com/zeroCoder1/GMGridView/blob/master/GMGridView/GMGridView.m#L611\n. ",
    "mrfanr": "I also met the problem, Seek solutions....\n. Thank you\uff01\n. I also met the problem, Seek solutions....\n. Thank you\uff01\n. ",
    "Sergozh": "Yeah! I found it!\n. @mrfanr, @dmi3j, @lowwh88 in GMGridView.m find \"self.clipsToBounds\" and make sure, that is equal self.clipsToBounds = YES; this is the solution.\n. Yeah! I found it!\n. @mrfanr, @dmi3j, @lowwh88 in GMGridView.m find \"self.clipsToBounds\" and make sure, that is equal self.clipsToBounds = YES; this is the solution.\n. ",
    "dmi3j": "Any solutions?\n. Any solutions?\n. ",
    "lowwh88": "@Sergozh can you share the solution?\n. @Sergozh can you share the solution?\n. ",
    "dennishappy": "i wanna change its frame,but i come across some problems.(when i add a new book,it has no background)\n. i wanna change its frame,but i come across some problems.(when i add a new book,it has no background)\n. ",
    "AlexEdunov": "In the file GMGridViewCell.m\nself.deleteButton.alpha = 0;\nShould be set to 1\n. In the file GMGridViewCell.m\nself.deleteButton.alpha = 0;\nShould be set to 1\n. ",
    "bueno": "Hi!\nDid you do a load of UIView from a XIB? If yes, can you to share? \nThanks\n. Hi!\nDid you do a load of UIView from a XIB? If yes, can you to share? \nThanks\n. ",
    "forsan": "same here any help!!\n. i think this maybe help you.\ngmGridView.centerGrid = NO;\n. same here any help!!\n. i think this maybe help you.\ngmGridView.centerGrid = NO;\n. ",
    "braveS": "The solution was just add the following code to GMGridView.m\njavascript\n- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch\n{\n if ([touch.view isKindOfClass:[UIButton class]])\n {\n    return NO;\n }\n    return YES;\n}\n. The solution was just add the following code to GMGridView.m\njavascript\n- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch\n{\n if ([touch.view isKindOfClass:[UIButton class]])\n {\n    return NO;\n }\n    return YES;\n}\n. ",
    "SrikanthKabadi": "Found a solution for this issue. Just change\n\nCGFloat pageX = ceilf(point.x / pageSize.width);\nCGFloat pageY = ceilf(point.y / pageSize.height);\nto\n\nCGFloat pageX = floorf(point.x / pageSize.width);\nCGFloat pageY = floorf(point.y / pageSize.height);\n\nin function\n\n- (CGRect)rectForPoint:(CGPoint)point inPaggingMode:(BOOL)pagging\n  \n. Found a solution for this issue. Just change\n\nCGFloat pageX = ceilf(point.x / pageSize.width);\nCGFloat pageY = ceilf(point.y / pageSize.height);\nto\n\nCGFloat pageX = floorf(point.x / pageSize.width);\nCGFloat pageY = floorf(point.y / pageSize.height);\n\nin function\n\n- (CGRect)rectForPoint:(CGPoint)point inPaggingMode:(BOOL)pagging\n  \n. ",
    "harveyB": "even tho it is only 16B, the no. of allocations is in the thousands causing large memory loss.\n. even tho it is only 16B, the no. of allocations is in the thousands causing large memory loss.\n. "
}