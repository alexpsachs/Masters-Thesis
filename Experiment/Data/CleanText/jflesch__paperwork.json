{
    "jflesch": "Fixed in f68308792d3a3a98d400687a625bb166f55b46ee\n. Fixed in 81cf0abe273a7788cbd29b2a8df491bb62b019de\n. Fixed in ff6580f9ddfc77b94039723a830ffc454d9f4632\n. done in f0644ce2268e9476b74030dbf9c1cfaffafcfc14 and 7bdc53accedeb51a326cebb945d86a822f48ce48\n. done in 0382dedc586485a03f14d6c99fc64b2526f03bec\navailable only through right click menu\n. Missing: confirmation dialog ...\n. Confirmation dialog added in d43fa51f54049c355c24c820d58a063ddd2ea1bb\n. fixed in d5f061916f05d5dd39df46f44221e4b22d03b9cd\n. added in 591a0f9c46b2f049353cd16e29a4ae8b687a5c6e\n. Nah, actually, popups are bad. Let's forget it.\n. -> no popup, but we still have to warn (using the tooltip on the scan button ?)\n. Done in 92ed4e802a585d53c4778259674b505001748b15\n. Fixed in fb4933b02e9e1b76265b26ac18e7dc81dcfd7135\n. Fixed in 54e2e3f4c435456cd1bd19dd50630e6e42c3d2b0\n. Tesseract seems to have problem reading titles. Documents are usually still found because the words in their titles is also in their body. Which means this idea wouldn't work very well and could even have the opposite effect of the one wanted.\n. Other possibility: Instead of just taking the font size into account: Looking at the differences in pourcent between the average font size of each page and the keywords on it.\n. Obsolete: Python-whoosh is now used. Paperwork don't do the searching itself now\n. Edition implemented in 8e6cd969b07f8e8100c1b8dba7b4b443265cac92\n. Still missing: deletion + progress bar\n. Progress bar: 460859cffab4afd2acd439e8a7b3714b19b7c92e\n. Deletion: ab0cc5d6ed769ed62416e43272f17d51739fb3d4\n. Resolved in:\n8621ee9fbfdce8dd4f7e3fc11317eafa6b390c9d\n583e0b81ae0e17ec2b0df5494250a7dd220a121b\n140a578343bd59cf9c57f14d91502607cbc087b3\n515a107538faa69cfcbaaf3ee326c01ed0033e41\n6c54a56ba213c3bf694c8d96f0a80f69fc58bdfe\nc0593fd360ba45bde3dc8a483f5d81d2b7b2c7f5\n24de755c6640579349f0e71fcd4fa975d495f4f5\n. having no popup at boot related to the scanner would also be nice.\n. Fixed in 43048b1aba6a1c2462456e1eafc8099260bc7a34\nHowever, some cleanup would be nice (for instance, the popup that appears when no scanner is found is not attached to the main window).\n. Beware of #124 \n. Will be redundant with #124 \n. Yeah, #124 is not happening before a very long time, so let's go with this for now.. Should only be used on small documents (< 20 pages I guess). It would make image modifications really CPU-intensive / disk-intensive on big documents.. or maybe .tar.gz :). > How will this put less stress on the filesystem? The overall size should be almost the same since PDF and JPEG images don\u2019t compress very well.\nLess files --> less inodes ; + less modification time to check when Paperwork starts.\n\nWhen a part of a document will be read, the whole zip/tgz will have to be read.\n\nI need to check but I believe zip or tgz (or both) have indexes.\n\nSame for writing only a part (rotating a page, changing the labels\u2026)\n\nYes, I know, this is the main problem :/\n\nIt will make Paperwork even more slow than it is today.\n\nYes and no. It would make the start time much faster actually.. I had a look:\n .zip have an index at the end of the file : https://en.wikipedia.org/wiki/Zip_(file_format)#Structure\n .tar.gz don't have any index\nSo .zip might more indicated here. I gues it also explains why LibreOffice and Office both use them too.. Note that it would also help reduce fragmentation, which could improve documents load time:\n Ext file systems try to keep single files in one single row. But files individually may be placed randomly on the hard drive\n* When opening a multiple-pages document, Paperwork usually loads the page sequentially at first. However, I guess keeping the labels out of the .zip file could be a good idea. No need to rewrite X MB when all you want is just fix the labels that have been guessed.. Fixed in 4ff32253b44aaf093f5dc87dccc7a489ea4b16cd\n. done in ad1740f63cd177a5791b2ddfa9f9069c56d207d2\n. L10n done in:\ne27489c62d3f6581202be8b96a80b214613ed07b\nbefdff791406e84ddcda96e5831929662434c7f9\nb0b3fc8919a494048898c8ce5b63f91dbec41cb5 (french l10n)\nFor i18n, we will see that later ...\n. Regarding the trash folder: see issue 21: Support for GIO\n. Due to issue 21, the sqlite database may have to be stored somewhere else than the papers themselves.\n. I've found some nasty piece of code in docsearch.py that slowed down indexation. It's fixed in c3ff3bcec5e979b90d5f9021d2f8be45a1ab97e5 .\nThe goal of this ticket remains useful, but it's less an high priority issue now.\n. Hm, good points\n. Search is now done using python-whoosh (new dependency). This change fixes this issue. It's actually even much more appropriate than using Sqlite :)\n. (beware of issue 20: the sqlite database that could store the index keywords)\n. Actually, if I want to port Paperwork to Android, Gobject in the backend will become a problem.\n. Fixed in f7c13e165fc4c6e536d773aa6392fec1c0fa5fc9\n. Fixed in 67cc9db78f1df510ad58711fbbb12a0657c559e9\n. Actually, it seems there is major problem when using Gtk and Python-imaging-sane: Both are Python/C bindings, and when the scan() method of python-imaging-sane is called, all the other threads are frozen, Gtk included.\nThe solution I'm considering right now is to do my own  Python/C binding for Sane : A pure Python one, using ctypes to call the Sane function. This way, each time I call sane_read(), I can also call time.sleep(0) to give time to the other threads to do whatever they want. It shouldn't be too hard also to call a callback each time to indicate the current progression level of the scan.\n. Next problem: Sane/HP sucks. When the first call to sane_read() returns data, the scan is almost finished ...\nAnyway, I solved this problem by using a thread dedicated to updating the progress bar. It updates it at a given speed. This speed is computed based on how long the previous scan took.\nDone in:\n175895a1d93c908d71a830450064662019796e35\n146c651ccd6cd387d01ef93aca14fbc98437a291\n. Fixed in 7d3f81337611206e56125d73de05379b877d71ed\n. Fixed in de1be9552a19ba3cc2f6f160740f4c7a50cb47fb\n. Done in 20387a2111e9627954fb9e5123325f77be28ac0b\n. Fixed in db5ca24a88ed1bb03a5597a1977269905eef09be\n. 1) when deleting a document: fixed in edfed19e2d297b4f011155f93c13262f59650240\n2) when deleting a page, no problem observed\n3) busy cursor: I'm working on it\n4) label fixed in 6082625508d03a383cfdbfc75ce3e4548c9210a1\n. 3) mouse cursor fixed in 8fd37996783bc355c2fdd3c478d679acd1501894\n. Done in 8988cb8d3f90fb4d5ffa89159365703cd7e05446\nHowever, Pycountry is used to get the complete language names, and it always give them in English.\n. 344c8efdcc8415865aacd538105080e2a6c2b281. Fixed in 7f550ed13e62fc351fb435ecd43220c06d1ca5a6\n. Fixed in 42ce336ae8da7b97693f9662bbd79b374fd9a2ca\nIt's more a workaround than a real fix, but, well,\"good enough\".\n. Done in 7ad409ad1ff8220d0bf107939c511c4d5e517b93\n. Hu. Already done !?\n. c3f75451ef9050ac8aa798eeeb6d91926f2eaa12\n. Fixed in 5f6a8b931b7b6d8e3affc616cb5c09f534ab84c8\n. Would be nice to merge this feature with #38\n. Done in\nf7885a2096709e59bd39f382c2cc2a6cce507f00\na64ffaa6b0e57e7a46b98373121281a89b17196e\n. It seems that one of the only libs that can help displaying pdf nicely is python-pythonmagick.\n. Hm, except I wasn't planning on redoing the OCR on the PDF but instead just use the text that is already in it.\nHowever, when importing a PDF, I guess I can take an heuristic approach and guess automatically each time if an OCR must be run on the document or if it contains already enough keywords.\n. Evince uses \"libpoppler\" for the rendering. There is a python binding for it.\n. Done in\n17d1b52671d2bb9781d883e06ef2ff68e005e2c9\n0c220ee2ec3797545103bf96b83969bcbdcc6b05\n9d20ad7536b5de945b2b7abab4adbab332f69681\ne58ad881d6d2b94d8e6dbb9c722cc4d3e71ef317\n52879b69fc0ac11d380953a1e3128b6294077603\n63cef8724b628c5078aa8787271e85a6e4fb06ce\nRequires a new dependency:\npython-poppler\nKnown bugs:\n62\n. Darn, I forgot to run the OCR on the PDF files if they don't contain any keywords ...\n. OCR will now be run automatically on PDF documents with less than 5 keywords.\nDone in\n9bf06fce58e7d1683d4046d38c17e9f02015e248\n4b0591b9232f73900da1f88a0148f7580c8aad80\nMerged into the master branch\n. Fixed in fe2114fb00b24d92a4bb567505402040fbb104c4\n. Fixed in 674193aaccde8141ad844c9b44161b0ddd8f1c9a\n. Fixed in:\n3c69f79f5f6b36fc369f066a1295b3d7937a0bc1\n. May conflict with #144 \n. Will be (kind of) solved by #144, so neh\n. Note that it's actually already possible to generate PDF: By using the \"print\" function :)\nHowever these PDFs are not searchable.\n. Actually, as I see it, it won't replace the 3 files. It will be an export function : You select a document, click export, and then you get a searchable pdf.\nI'm not willing to replace the 3 files because these 3 files can actually be modified manually quite easily, whereas PDF cannot.\n. There is a major issue currently with the PDF files generated with the print functionnality: They are too big for emailing.\nA dedicated export functionnality will be required at some point.\nSee #55\n. Done in\n263973ea1c985dd0a65a16abd3e36b8979b896b6\nacd5e76db5663aa83dd309778ebbcebe4fdd9bd2\n44ea2ddde4a0d6724f63ac87233fa1269353d711\n7428ea173d3b978c002cfad02d51bb439721fbb5\nf845d166a08e8052b0356f9012c0e2163e388c72\nRemaining to do:\n- Allow the use of page formats other than A4 ...\n- When exporting an image document as a PDF, include the keywords of the document in the PDF file (I still need to check it's doable without any major side-effect)\n. 1) It's a separated issue\n2) I don't think having JPGs+hOCRs alongside PDFs is useful. I could just keep PDFs.\n3) The main problem for me right now would be to know how to generate these PDF. Right now I'm using Cairo to do the export. But I'm not sure if it allows me to include text in it. I'll have a look. If it doesn't, I'll have to add yet-another-dependency to Paperwork ...\n. Page format is now selectable. Done in:\n39d1394132344fa65c0398db9f411c6f2077685b\nd33cf5c6140794b4e97bbf12e91c37777a4a4630\nPage orientation handling in the PDF export has been fixed:\n5a2b82fd58e3d84b2945dd06118042dcccaa4a31\nA separate ticket has been opened to Include the document text in the PDF : #135 \n. done in 3eb6672195a7e2907780e5dfbcbde5f4d4d39546\n. Done. However, some widgets are not connected yet. I'll do a big code cleanup first.\n. https://pypi.python.org/pypi/inotify#recursive-watching. https://pypi.python.org/pypi/watchdog << crossplatform. https://developer.gnome.org/gio/stable/GFile.html#g-file-monitor-directory. Actually, this ticket is about the work directory of Paperwork. It would be useful when Paperwork is used with a synchronization tool like Syncthing, SparkleShare, ... .\nAutomatic import would be a different feature request.\nWatching another directory is another problem, It wouldn't even require Inotify as first step: it could simply check the directory when starting (as it does currently with the work directory).\nHowever it would require changing the UI to add a new settings. And I want to keep the UI free from any settings that would be used by only a very small minority of users. So it's something I would be unwilling to implement before #194 .. http://ploum.net/post/202-the-signals-and-threads-flying-circus\n. In other words, the goal here is to remove all the calls to gtk_refresh() (that is basically a crappy hack).\n. Done\n. Done\n. done\n. Also the signal \"destroy\" is not caught ...\n. Fixed in 62c74fca54829ac2601e184ce6a2b827d9f19f89\nThe button \"cancel\" now just destroy the dialog.\nThe signal \"destroy\" is now caught, and do what the button cancel did before.\n. Done\n. Fixed in:\n61840c8625e012968328fdcfe4958b916b0b0a46\n. First batch of commits in the branch 'export':\nb71b8c223420368b107559778639636d8b02abc9\n5b498a65fa14f5d5c18a2308d2e4621426ef8e4b\naf520f8526a44eafa1668b8808ca959a05785bce\n41cdd8c6cff31b53bc5e820294aec59ea4d07012\nc610d8179212e979dba011b64299f4713a32b286\nRemaining to do:\n- Being able to export a page from a PDF document (won't do)\n- Export whole documents as a PDF file (ticket #44)\n. Final batch:\nfd88e0814d8fb1cadc69aaa7991c8926c3716fdb\nde6db6d31b58f94febb70ba9f8c8c66f278ee40c\n198c0bf2a43f9b1a9d3d89f699b33d797f5b6473\nacd5e76db5663aa83dd309778ebbcebe4fdd9bd2\n1a2fe43deba8a740cc379750145420dc4be1dac0\n44ea2ddde4a0d6724f63ac87233fa1269353d711\ndd31869caa7f9476180a869372336f60a507acf0\n055877a4bb7b63bd26c35a71f0177f4c30177645\nf845d166a08e8052b0356f9012c0e2163e388c72\n. Done in\n2c2c2aa05e39c50d6c0ce52fbcb380483c956db1\n37ef692643bd678d3d8f645ab3941c4037ae2281\n. Hm, right now, I'm not even really sure what the use cases would be.\nFor drag-n-droping a page inside a same document, the only use case I can think of right now is fixing a page order mistake after scanning a whole document.\nFor drag-n-droping pages from one document to another, it's pretty much the same, but only in case the user scanned many documents at once (using the scanner feeder for instance).\nSo I'm curious : What uses would you have exactly with it ?\n. Good points.\nFor the new document issue, I've already been close to do the same mistake many times, so I see clearly what you mean. However, new/empty documents never appear in the document list, so you can't drag-n-drop a page in a new/empty document. I guess I will have to change that as well somehow.\n. I don't really like the idea of having 2 buttons. I would prefer keeping the UI as simple as possible. I think once drag-n-drop is implemented (with a way to move pages to a new document), it will be good enough.\nRegarding document merging, actually, I think it should be possible to do something more generic: multiple selection + copy/cut/paste. Let's say you select multiple documents, right click->cut, then you create a new document, and click paste. --> merging done :)\nSince drag'n'drop is basically a form of cut/paste, I think I can implement copy/cut/paste at the same time than drag'n'drop.\n. Drag-n-drop of pages implemented in:\n500fca832c1ce0c54102568a22746380549b5d22\nee03a91ffe4b7a02e524fcf3c9fd9d00984b27cc\n6063cabfb09a2351cb1f0fcc3a130b22b2a4cd24\nCopy/cut/paste of pages is a separated issue: #131\nMultiple page selections will be implemented in another version, so a dedicated ticket has been opened: #132 \n. Done in:\n2bd3cd9635b4418e59f289a669cef161ea706152\naf95628d1177758fcdac66cf93e0de063c647fd7\n. Done in:\n1cab9b75e9d63212e6fb0533ed0fafaf9fced005\n8bcba100bfa91c64bfed2b63e171f505d8ef53ac\n9dfc621a3669d42a87e16c75b96e0c80dfadc761\n9ed7e0db64e994a01654911f4ced4ce5bf276bd8\n. Will take some times --> too long to do for now --> removed from the milestone 0.1\n. The main difficulty here will be to not mess the drag-n-drop.\nAFAIK, Gtk can distinguishes between drag-n-drop and clicks. However, if it doesn't, I guess we can fall back on the following behavior:\n- When in page list mode : drag'n'drop\n- When in list mode (big pages): text selection\nProblem remains when there only one page, since we immediately switch to list mode.. Words selection: 36be5f267fda2c4242c1a7f6fb7768cba1019724. Copy text: 6dc7fceeefd631f03b2d48e377ae7ce34fd527f8. Fixed in 4741b710713040236cb4262d4c948a1dd62f7ac0\n. Possible workaround:\nThere are 2 functions that can be used to get the boxes:\n- poppler.Page.get_text()\n- poppler.Page.find_text()\n. WIP in the branch 'pdf'. However the results are currently pretty bad. It looks like find_text() returns random/invalid rectangles ... :/\n. Fixed by switching to Gobject/Gtl3\n. Correct me if I'm wrong, but most of the code from ocrodjvu  you quoted seems to be about showing a warning when ocrodjvu fails to read/convert a string from Tesseract. IMO, in paperwork, showing a warning is not required : OCR is unperfect. We will miss words anyway. One more will probably not change anything. Also Tesseract bug report states that it happens only with hocr output, which is used in Paperwork only for keyword box highlighting. So paperwork search mechanism won't be affected.\nIn the end, the only real problem here is in PyOCR: It must be able to read a file without never raising an exception, even if its UTF8 encoding is invalid.\n. Fixed in https://github.com/jflesch/pyocr, commit 944689bcc506c8857b0bde78cfae4a39d748d758 .\nSince I've never had this issue, could you please test and confirm that this commit fixes it ?\n. Thanks to you for your very good bug report :)\n. Fixed in eca0d414b38786f7abad26d912c826ed199465c6\n. Fail: the document list is not refreshed anymore after the scan ...\n. Fixed in 59d111920add8a28b7fa6b6b0692a2144af492b7\n. Hm, that's funny. It means your scanner's driver let Paperwork change scan settings and only fails once Paperwork actually tries to do the scan.\nI'll fix/handle that asap.\nIn the meantime, it makes me curious regarding the kind of scanner you're using. Could you please run the program \"list_all.py\" available in PyInsane repository  and give me its output ?\n. Should be fixed in 8d6e4d7c52bbb6512ac34b7ebf65c15684bd01a7 .\nSince I have no network scanner, could you make sure the fix works please ?\n. Darn.\nThis one will take more time to fix:\n1) I can't reproduce this crash with my current setup. I guess I will have to plug my HP Deskjet on my network and see if I can reproduce (right now it's connected using usb).\n2) It's a segfault. Which means one of these 3 things did something wrong: Sane, Pyinsane, or HP drivers. Won't be easy ...\n. Well, if you want to speed up things, the C backtrace could probably help:\nYou will need gdb --> apt-get install gdb\nYou will also need the debug version of many packages --> apt-get install libsane-dbg hplip-dbg python-gtk2-dbg python-poppler-dbg python-dbg python-imaging-dbg\nNext:\n$ cd \n$ gdb python\n(gdb) run src/paperwork.py\nThen do what you did last time to crash Paperwork. At this point, the GUI should freeze instead of disappearing, and you should have the prompt \"(gdb)\" visible again in your terminal. In gdb, type \"bt\" in order to get the backtrace. In case I need more info, the output of \"bt full\" could also be useful. (and then \"quit\").\nIf we are lucky, I may be able to fix this bug with just the backtrace.\nif you don't want to install all of the packages listed previously, don't worry, I'll probably be able to reproduce this bug on my side anyway. I'll just need some time (and strengh of will) in order to setup my HP deskjet on my network.\n. Hm, looks like a bug in the HP driver. If it is, then it will happen also with other scan programs using sane. Can you try also with simple-scan (for instance) please ?\n. https://bugs.launchpad.net/ubuntu/+source/simple-scan/+bug/930677 << hm, looks like it's actually really due to the HP driver.\n. Sorry, but I can't do a workaround in Paperwork.\nIf you want to report the bug to Hplip developpers, here are the links:\nhttp://hplipopensource.com/hplip-web/support.html --> \"Report a bug\" --> https://launchpad.net/hplip/+filebug\nIf you do report it, please post here the link to the launchpad bug report. I would like to keep track of it.\n. Fixed in c984e50532082e831bc362fa16f3f1b68e798c76\n. Fixed in a7606a179fc8c54bc1c76a5474068d39cf9349d0\n. Fixed in 4a8970a6ed874ccf9f3f53c6002666781d2d05c2\n. May conflict with #60 \n. Due to conflict with #60, won't be done.\n. Hm, good point.\n. 0a4fb814ae9625ae99460e1102b55fd6e4344843\nI'll also implement zoom with Ctrl+MouseWheel.\n. Wait ... I have already implement Ctrl+MouseWheel ... ! :-)\n. Done in 0af7bb924f4ef9ecd8884eb3a69a4d67675742f5\n. Done in 6225245ef67ae921e360e2727bee8398c2877403\n. Done in 098d5662e2b4359dd71d7355c4be0e517794582a\n. Duplicate of #80 \n. Currently there is at least one dependency not available with Python 3: PIL aka python-imaging.\n. PIL doesn't seem to be supported anymore. The last release was in november 2009 ( http://www.pythonware.com/products/pil/ ) and they don't do any commercial support anymore ( http://www.pythonware.com/products/pil/support.htm ).  I guess I will have to use something else.\n. http://mail.python.org/pipermail/image-sig/2010-February/006124.html\n. Moving to Gtk3 has implied moving to Gobject introspection, which changed a few things, like the way to use libpoppler.\nMove to gtk3 done in:\n8df37a2f534bfb2d18ed3549a9ede1b697be2458\n01db885290546d13544a3b0a8fa67eed9d9db5b4\ne6908ab77f75c8f3645300c61241b6fcce46f604\nd32c2e18b83f7329ef373d15d232cd4c26b81124\ndf524f14413a8359dd84db6ff8bfc798d970cc99\n41a05a87efc0bb29474bd02ce8c7d453f349f820\n88cc270f87b085c64f998a2d5f8fa2b352edcb5c\n4ca592875623de76feb0249300e74bc88e399dc0\na3fc77c7b4e9cea041b37c92df03b642827c132a\nb4ef27ea45d0d053085d755219e5f4e3d2f064eb\nd2108d7ca8d70d70d6deb1344b2420b266548bb0\n7115e7e3450fcfd06516aefecd9363c90ffc00ba\n6d70a3a6de8e378437d6de109d96bb469f616af7\nebe50fdfb34ec73f7b9dd2cf5ca7953a1a5bfc69\n143bfa9837f860d48f20341bc731b425757c9661\na66fa34d7cf3def86325cfb2cf73f2f7e63ff81d\nea5c9c948c193421527d0fc76ff99a62f14e32af\n82c6f4981f8fd50a03e8ef3cbd9a4e05b37fc99a\n15c73a67a0f5aacb8e9a9ae5d6100f6332b4af7c\ndd23022eb89ce8797b5a5b44ca940a669c837939\n4191541a8823ca2a5d00734785516c4192abfe02\ne338c67e5b0af1cfe71d03405396b330dfad4c69\ndaa99bd7d303f9b5bd16f8c4977a4f692feda31b\n0ce8727012104d8c0a8e34e0d51c07b9d0e47f26\n606435578ad9e04d03344f1c19f23bb6cf5ef28a\n292fffb657031da8d92c95af52b0d4f4a5b9ff93\n96e7b173fea06f14b3e08240344615dbf7a9e771\n285e6bc3f450b1dfa27524fca9e2f5ed88148e46\nfe6a761f54183d74d38eb1ace15f794ae7fb2f29\n7c7fc7ed1a83bb019a252d0faab576f31ae13328\nb86c4229f8c89d1801c8aff48b082ce0feda50df\nThis has various side effects:\n- Dependencies have changed\n- Now I can use libpoppler as expected --> I can get the word boxes.\n- Libpoppler is not thread safe. It was true before, it's even more true now. --> all the workers are now actually run by a single thread (!= gobject main loop)\nThere are still probably a few things to fix\n(it's in the gobject branch for now)\n. TODO:\n- When scanning: Progress bar don't move anymore\n- Settings window: Segfault when trying to scan for calibration\n. - Progress bar fixed: d6bde1fa535cd6a517ee72fcc9d911a7111790c2\n- Settings window, segfault fixed: 1c3cf4ba4909a2ab737c06ddfbdd1b107199b1de\n. TODO: Can't add a label on a document (can't check the checkbox)\n. Fixed in f1b1aa7511dfaf799c94a05ed784f1640787b1df\n. It looks like it's using the wrong .glade file. My guess is that you're running the Gtk3 version of Paperwork but it's using the Gtk2 glade files (or the opposite).\nIn your terminal, in the very first lines, Paperwork indicates which .glade file it's using and why it may have rejected others. Can you paste them here please ?\nIt should look like that:\nTried to use UI file ./mainwindow.glade but failed: Failed to open file './mainwindow.glade': No such file or directory\n  Tried to use UI file src/paperwork/frontend/mainwindow.glade but failed: Failed to open file 'src/paperwork/frontend/mainwindow.glade': No such file or directory\n  (paperwork:21954): Gtk-WARNING **: Could not load image 'paperwork.svg': Failed to open file '/usr/local/share/paperwork/paperwork.svg': No such file or directory\n  UI file used: /usr/local/share/paperwork/mainwindow.glade\n. Well, that's weird. It should work fine anyway. I'll test this setup again this evening.\n. Darn, you're right. I have too the localization issue, but I didn't even notice it ! :)\nFor the exception: It's a known problem. There is already a ticket opened. It's not really an issue. It's just cosmetic. Anyway it's unrelated to the Gtk3 version. It was already there before.\nRegarding the warning, I will have a look. I probably have it too but didn't notice it or didn't worry about it.\n. Translations fixed in e0cfc8860a01a214e431a44bd8e7f4d414818024\n. Printing fixed in a7c9e1844ae7e61e7aaf22aed271624496bf75d3\n. @tiramiseb : I tried installing the Gtk2 glade file on my computer and running the Gtk3 version from the source directory and it worked fine. When you run Paperwork from the source directory, do you run \"src/paperwork.py\" or do you start it differently ?\n. I see. When using the version from sources, you're supposed to run \"src/paperwork.py\". This is actually important, otherwise Paperwork won't find the glade file 'src/paperwork/frontend/mainwindow.glade' and it will fall back on /usr/local/share/.../mainwindow.glade. I'll update the README to make that clearer.\n. I discussed with a Python 3 dev, and he suggested that I used Pillow ( http://pypi.python.org/pypi/Pillow/ ) as replacement for PIL. Since it's a fork, the API should be close enough.\nIf I remember correctly, Pillow was the only dependency holding me back :)\n. Pillow doesn't appear to be ready yet for Python 3 : https://github.com/python-imaging/Pillow/issues/18\nAnyway, this issue is not required for the 0.1 milestone. I'm going to remove it from this milestone\n. TODO to switch to Python 3:\n- #165 : PIL --> Pillow\n- #150 : Python-Levenshtein --> Nltk\n. Pillow seems to work fine with Python 3 now. The switch to Pillow has been made.\nRequired to switch to Python 3:\n- Nltk (not yet Python3-ready)\n. Python 3 support in the branch 'unstable':\nPaperwork-backend:\n709508a4ea87746661fcb1bbc319441343fe262b\n20c8a4ef1ff49281ca07a923ac12a51330a0b7fa\n846e7c885957b9a8a714c51aff34c3b5f77fa0a7\nPaperwork GUI:\nb4ce63d92749bcf75a8e1fc0cf2458bf526dd878\nf3fadffcd583272273a2badba6d6c28755dc58b2\nd7c2d576777b5918a64469f4711b9ba8e52c842d\n. Fixed in 41cdd8c6cff31b53bc5e820294aec59ea4d07012\n. See also #244 \n. @mjourdan If you have some idea regarding the UI for this one, I'm interested too :). @mjourdan : Do you think it could also include document properties ?. No problem, take all the time you need :-). Looks good to me :-). I noticed a minor inconsistency in your mockup for exports: In the section \"Sharing\", there is text below the icons, but now above.\nAnyway, I doubt I'll found Gnome symbolic icons with \"txt\" or \"pdf\" written in it, so I better put the text below the icons every time.. Hm, I guess normal buttons would be better. It's more consistent with the rest of GTK+ and would use less space.. Hm. Something I should have specified in the README file is that he main idea behind Paperwork is \"scan & forget\" : Basically, when I get a mail, I want to put it in the scanner, click scan, then put the mail in my usual mess, and forget about it. I don't want to have to spend time naming it, putting keywords in it, etc. All these things should be a computer job, not mine.\nMy current point of view regarding document timestamps is that it's just a way to identify them (I needed something to display :).\nAnother point is that I don't like adding new options to the GUI. Adding new options all the time is the best way to end up with a overclogged interface with a lot of options that almost nobody uses (I have had some bad experiences in the past with that). Up to now, OCR + labels have been enough for me to find back my documents. \nSo in the end, I think the question is : Do you think it could be useful, or are you sure it could be useful ?\nNB: You can already rename them: If you can change the name of the directory containing a document, even if it's not formatted as a timestamp anymore, Paperwork will take it into account.\n. Note to myself: Maybe merge this feature with #78 by having a \"document properties\" dialog allowing to change its title and add some keywords.\n. > In many programs, editing an entry is only the matter of two not-so-fast clicks (not a double-click) on the entry. A \"simple\" double-click would also fit.\nExcept if you do that in Paperwork, it will raise many issues:\n1) The id of the document on the disk are formatted in a \"standard\" way. Internationalization/Formatting is done at display time. Which mean if the user edit the name of the document the way you described, Paperwork will have to figure out if the user wrote another timestamp (and then turn it in the standard form), or if it must use the new name as-is. It's doable, but painful\n2) The line containing the document id also contains its labels. I think I can intercept the double click and remove temporarily the labels from the lines, but it sounds like a hack that could break at some point --> Again, doable but painful.\nWhat I had in mind is something like that: http://jflesch.kwain.net/~jflesch/paperwork/doc_properties.png\nBut I don't really like this idea either. Fells weird to have the labels in the main window and not those properties.\n. If it's displayed as a tooltip when hovering over the document title, then it won't be its title. At best it will be a short description of the document.\n. For milestone 0.1 : I want to be at least able to change the document date and add keywords (see #78 ). We'll see later for document title.\n. Done in:\n9fb2d0e9468bcd9663cbcb8b7bbfb6c55d32207a\n73118498662b8b3cfcee33802f7d06c7d4d0b5cf\n035a7721d0541a273976f1f053a0b9585caac5cb\n11403efc75c43a057e88e947e4e11ad93c8109c5\ne6d7ef10c4db6551a4d84146dbf59e1b6df46b0b\nf1872c10bc1a235402b3dea225a4199b2f438a34\n8c0c30796272ad9cc0ea1f0e01c5a3709e26d104\n20f46385a79d2f38f88743d51864168c33ed6327\nbe544ebb810a57208b93092f49f9fb921d3f297b\n41e509b9d888c3b1cd3bd7e66e72e9b1da01e6ef\n1f3e7ed76face129f9e58c692dec21719c30f80a\n. Actually, you can already do it quite easily : The last button of the toolbar opens the folder in which the document is stored. There you can edit the .txt files as you wish (document indexation is based on those files). However, you'll have to restart Paperwork so it takes the changes into account. (this last operation won't be needed anymore when #47 will be implemented)\nAnyway, you shouldn't have to do it. In a perfect world, OCR + labels should be enough to find back your documents (at least it is for me).\n. Good points.\n. Done at the same time than #77 \n. Done in 7387689e7ee90c37e70d7f6b3e88eae2a97b0d14\n. Duplicate of #480. Can be done simply by adding a label \"bookmark\" (for instance), so not a high priority at all.. Menus have been removed.\n. Fixed in 1c8452c08d5c5d9b9f29361d7df337e5cc86d1ac\n. You're welcome. It was my mistake in the first place, so it's normal that I fix it :)\n. Hm, I'm going to need more information.\nFor instance which Linux distribution are you using ? (so I can know which version of each package you have exactly).\nCan Evince open this PDF ?\nWould it be also possible for you to send me this PDF or is it private ? If it is private, can you at least give me its metadata ? (\"pdfinfo [pdf_file].pdf\" ; pdfinfo is in the package \"poppler-utils\" in Debian).\n. It may actually be related to the fact that libpoppler is not thread-safe and I'm using it in a multi-threaded program.\nI'm currently switching to Gobject Introspection and Gtk3. It implied that I use the Gobject Introspection bindings for libpoppler, and these bindings are even less thread-safe than the libpoppler alone. So I had to modify strongly my code to reduce the use of threads.\nIn the end, you may want to try the branch 'gobject'. All these changes may have actually solved your problem.\n. Anything new regarding this issue ? Does it still occur on the latest versions or can I close this ticket ?\n. I assume I can close this bug ? Please reopen if it's still there.\n. 33bba683975b317fe2f0292ed8fac3fc56931716\n. PageUp: Previous page\nPageDown: Next page\nCtrl + PageUp : Previous document\nCtrl + PageDown : Next document\n. Yep, I think paperwork-gui@googlegroups.com would have been a more appropriate place to discuss that :)\nAnyway, thanks for the work. It sure would be nice to see Paperwork packaged in Fedora :)\n. Thumbnails are really slow to load, and they take a lot of space in the UI. Keep in mind that by default the whole document list is displayed. For instance, I'm working with 574 documents, and I don't think it would work really well for me.\nI prefer by far the idea you suggested in #77\n. Can you give a try to the \"doclist_thumbnails\" branch please ? I would like your opinion. For me it seems to actually work quite well, however I'm working with a Intel Core i7 + 6Go, so I'm not sure I'm really representative :)\n. Hm, if the thumbnails didn't appear, it probably means you got some exceptions raised in background. Can you please run Paperwork in a terminal and see if you have some stacktraces that appear at some point ?\nSorry if it's a bit unstable, I haven't had much time to test my changes yet. :/\n. Also (reported on #99):\nAction: [Editing label]\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py\", line 30, in on_button_clicked_cb\n    self.do()\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 721, in do\nselection_path = self.__main_win.lists['labels']['model'] \\\nAttributeError: 'gtk.ListStore' object has no attribute 'get_selection'\n. I've fixed the exception you get when editing labels (fixed in a65f14b7adeefdbe6f00ae976c6125688625859f ).\nRegarding the thumbnails not appearing when they should, I haven't been able to reproduce it. However I'm pretty sure I already got the same exception at some point, so I think it's just a matter of time before I get it again. In the meantime, I've added asserts that should hopefully help me be sure about what's going on  ( 190e49b4f954b21fb0d7224325f8469c38887bd9 ; basically I'm trying to make sure I didn't misuse the Python threading API before looking any further). Can you please pull these changes, give it another try, and report again the resulting exception ? Thanks in advance.\n. Nice work, thanks ! :)\nHowever I would prefer not allowing double-start of a same worker/thread, because I think at some point it could hide others issues. So I'm going to see how I can fix that nicely. I will also see if I can add some debug mechanism in the Worker class to detect and fix this kind of issue quickly.\n. Hopefully, I've fixed most of the double thread starts in 2075dcbcd9885b71e9f074b8d262e48705c9c455 (if not all of them). I've also added some code (in c795bc7765003212bd07ff32d531300a8235487b ) to diagnose them more quickly.\nCan you give it another try please ?\n. I'll have a look this evening\n. Fixed by dec40ecfadcc1b9eebfdd6798f9915ff861d07cd\nNext step for me is to optimize things a bit (mostly avoid useless refreshs of the document list and the page list), and I think this modification of the GUI will be good to go :)\n. Darn, you were right, rotated.*.bmp files are not erased as they should anymore.\nUpdate: fixed ( 12c2d359841e23f9bca640b3efe60d13928343d9 )\n. Fixed ( 088e0a9bc5d0aaac3fdeadf1672079d197e2d0c6 )\n. Optimizations done. Changes have been merged in the master branch.\n. Done in:\n8f9d24414bcc6a2a8c4216d6fcad991b6013d5a3\nHowever the scrollbar has a slightly weird behavior. I'm going to see if It can fix that nicely.\n. Note to myself:\n- OCR must be redone at some point\n- PDFs must be managed correctly as well\n. Also, for some documents, detecting the correct orientation is pretty hard. For instance the joined document has pretty much no keyword recognized by the OCR + Spell checking\n\n. Done in\n6c8d6580429f6375acaa6ed9c30aed661a7056c8\nce29b6734a405576f5726575efbeee1ee3b7f30d\n3faf4b1005a292bc7f53577404980e62a984f9fb\n3090f0183352e8787e88bc2c7c53348248bdff24\nbb0386012bd147907a59db5e082d0e5e7e975c16\n6860d836066d656021f49b5edd9fdd28af3a81db\n17bfec79e0f938249eb6490875d4f2514ad6826b\n2b7e99519b8d6ac5b4c226a7d7834682d7189ae4\n255fa770a47ba6163ffaa43e5ff4e049cee03889\n. By the way: The option can be found by doing a right-click on a page. I'll maybe add a button for that in the toolbar\n. Hm, there is one problem with this feature : Page orientation can't be guessed anymore.\nBy the way, you should really consider using your scanner feeder instead (but it will require you to scan your pages with the correct orientation until #95 is fixed)\n. Done in:\n50d63eaf15479f49dd074aaf1e397719ac0466d8\n1b3c17c94ac6cf56cc0fc6963499ac49a9c40852\n7a5d15b4030f87e36fcebd57b75be462bcf97185\n. Not really. What @chrisz requests here is to be able to increment / decrement the number of pages of each document using the keyboard. It is not yet possible, so this ticket is still valid.\nNote that I haven't been able to look at your latest mockups (Github is having difficulties with images right now).. To get the exact count of pages, and how they must be distributed across documents. (also allow to make sure we actually didn't miss any page)\nYou can try it if you want : just edit .config/paperwork.conf and change Scanner:has_feeder to True.. (hm, weird, it seems I can't reply to your reply directly)\nHm, regarding the file extension, I see your point. However I would really prefer if the thumnails have the correct extension (--> \"jpg\"). I think the best solution would be to change slightly the way Paperwork looks for pages : doc.py L208-210 we could just filter out the thumbnails (ie any files with a name ending with EXT_THUMB).\nIn the end I think at some point I'll have to define more clearly/strictly how files are named anyway.\n. Nice job thanks. And the GUI remains responsive when generating the thumbnails so it's just perfect :)\n. Done in\n47e4f61bb3b21583d7bbd239c568b05aa8c60b6b\n. Even better would be to be able to select multiple files in one shot in the file chooser.\n. Multiple files in the file chooser: #240 . I'm going to keep things simple:\nIf there are images in the specified folder, we assume all the images must be imported in the current document, by natural sort. https://pypi.python.org/pypi/natsort. https://github.com/openpaperwork/paperwork-backend/commit/3c21470ad02ac4f66e5a52a92a07f2fb2db7fd3e. Done in:\na065219a2d4d9893a638716112492d52366e0c3d\n0ec896ae306ff92957adaaf866d81bd994358f7d\n. Broke temporary file deletion.\nFixed in 12c2d359841e23f9bca640b3efe60d13928343d9\n. Done in:\nc3c8901c44fc6c89d369e718edfd52bd034dcd1c\n. Done in\nce06c8006c2259d611fbfaefc8109ff68593d770\n. Hm, I don't appear to have this issue on my side. Is this issue still present ?\n. Yep, looks like the kind of comment I probably wrote at 11pm ...\nAnyway, good enough for me :)\n. Please do not open new ticket for issues specific to the branch \"doclist_thumbnails\". This branch is still experimental. I would appreciate it if you could just report all the problems you have with this branch on #87. Thank you.\n. Actually, hankschwie@googlemail.com suggested to use Tesseract's script detection. It seems much cleaner, easier, and more efficient : #257 .\nSo I'm closing this ticket.\n. Hm, one way to fix that would be to go back to only 2 orientation tries, but I don't like it. Being able to put the sheet in any orientation is just too handy.\nHowever, I see 2 things I can to do in order to fix that or at least mitigate this problem:\n- Implements #89 (page rotation on demand)\n- Use a spell checker like python-enchant to figure out which orientations gives the best number of real words.\n. I've implemented page orientation guessing using a spell checker (python-enchant). There are 2 new dependencies:\n- python-enchant\n- python-levenshtein\nCan you give it a try and tell me if it works fine for you ?\nDone in:\n5030956802dd0b44bdc62a88d232006c35a29cb3\nf106a58e4491bab794082564a551351e26cd76e2\n25dd384ca0103ba4782584ad5590a4a864f59747\nNew tickets:\n105\n106\n. Hm, are you using Tesseract or Cuneiform for OCR ? (if both are installed, Paperwork will go for Tesseract).\nAlso, as suggested, I've made changes so misspelled words reduce the overall score of the page: 354f8a37535738df6f122f51cb8c6cc2659a240f\nCan you tell me if it improves results ?\n. Ok. Since adding options to rotate the image is another issue ( #89 ), I will now close this one. Please reopen if you still have problems.\n. Actually, I just got an idea to improve orientation detection. I've change the way score are computed. Here is the new way:\n- A word too short is ignored (less than 3 characters if I remember correctly)\n- Word immediatly recognized as correct by the spell checker: +100 points\n- Word for which the spell checker cannot give any suggestion: -10 pts (Afaik, the OCR generates a lot of them, even on easy documents, so I cannot decrease the score too much)\n- Word for which the spell checker gives suggestions, but none is close enough: +0 pts\n- Word for which the spell checker gives a suggestion with a levenshtein distance of 1 : +5 pts (probably just the OCR that screwed up a little)\nI did some tests on some easy documents and some much harder, and it seems to give really good results. Can you give it a try and tell me if it works well for you as well ?\nDone in 24d3536a12d3e2102c840bbff2c1fe6f3464bc5c\n. Rotating the page is a different issue ( #89 ). Since I don't think I'll be able to do a better heuristic, I'm going to close this issue. Please reopen if I forgot something.\n. Woops. Fixed in 88ae985f4d71839a74c7cd3afa4ea5c527e2fe51 . However I don't have a scanner where I am right now, so I can't test this fix until this afternoon.\n. Same player shoot again: 2e5f78303ef305c8f2988d5f7bdaaef8022dc5c7\nIf it doesn't work this time, I will fix it and test it this afternoon.\n. Great :)\nThanks for your help\n. Since image rotation has been implemented, I'm removing this one from the 0.1 milestone. 2 orientations getting the same score is very unlikely in a first place, and since users can now easily fix the orientation, it's less important now.\n. Since Tesseract does the orientation detection, this ticket is pretty much obsolete now.\nI'm closing it\n. Fixed by 77b8dfce519491dda3cc47d2ba8de47e73c105d1\n. Done in ec448f4869308f5802ae073578c09202a52b170c\n. I can't reproduce this bug. Sorry.\nHere is what I've tried:\n- Adding a print in pyocr to make sure Paperwork specify 'fra' as the wanted language (pyocr/src/tesseract.py:run_tesseract()) : Check.\n- 'mv /usr/local/share/tessdata/eng.traineddata /usr/local/share/tessdata/old.eng.traineddata' to make sure Tesseract never tries to use 'eng' when we specify 'fra' : Check.\nI advise you to check a few things on your side:\n- Make sure you're using Tesseract v3 and not Tesseract v2 (tesseract --version). Preferably Tesseract v3.01\n- Make sure you've the french training data installed. Otherwise I assume Tesseract might want to fall back on english ones. Note however that Paperwork shouldn't display 'French' in the settings window if the french data aren't installed. It it does anyway, please fill another bug report.\n- Make sure you don't have any warnings in Paperwork verbose. For instance, please look for \"Warning: Failed to figure out system language\" (you shouldn't get it since you've configured explicitly the language to use. However if it pops up, it would give us a good hint).\n- Make sure you don't have a 'paperwork.conf' (without the first dot) wandering around in the directory from which you run Paperwork. It would be used instead of  your ~/.paperwork.conf\n- Try what I tried above and see what you get\n. Is there anything new regarding this issue ? Otherwise, since I can't reproduce it, I'm going to close it.\n. Looks like http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=561965 and http://stackoverflow.com/questions/12413649/python-image-library-attributeerror-nonetype-object-has-no-attribute-xxx .\nI will just call img.load() before img.split() to force the loading in memory of the image before the splitting. It should fix this issue. Beware however that it's actually a python-imaging (PIL) bug and I shouldn't have to do that in a first place.\nAt some point you should consider using a Linux distribution where things are working ;)\n. Fixed by 944f26558b8e1f05ea8fe5e730faff962b7a9e41\n. Fixed in e16b784cf4a6c8ccde5b6bec65fdfb20b4bfb79d\n. Search is now done using python-whoosh (new dependency). This change fixes this issue.\n. Warn also when there is no language file installed !\n. Search is now done using python-whoosh (new dependency). This change fixes this issue.\n. Just FYI:\nDisplay->Toolbar:\nActually, Display->Toolbar comes from the Gnome Human Interface Guideline:\nhttp://developer.gnome.org/hig-book/3.6/menus-standard.html.en#menu-standard-view\nI must admit I'm not sure what is the point of this option, but it seems to be in other gnome apps (for instance Evince).\nHelp->About:\nIt will be useful once I start releasing version and people will want to report bug : On bug reports, people must specify the version they are using. Otherwise someone may end up loosing a lot of time trying to reproduce a bug that was already fixed.\n. The menu in the top bar of Gnome shell is, as far as I know, awefully Gnome-specific (for now at least).\nRegarding the button+menus, I will have to think about it (next you will ask for tabs ... :)\n. I know that Gnome apps are currently trying to loose their menu bars. I'm just not sure it is as easy as it may look.\nAnyway, I've had a look at Epiphany when run from Xfce : The menubar reappear in the window when started in a WM other than Gnome 3. It seems like a good compromise.\nHowever, it won't be done for 0.1. Not that it's too much work. It's just that at some point, I would like to release a first version of Paperwork :)\nPersonal note: Frankly, I don't like the idea of having a menu at the top of the screen like MacOSX: It's not intuitive at all, and doesn't work well when the windows focus mode is set to \"sloppy\" or \"mouse\" instead of \"click\". But if users are required to use it only for advanced options, well, why not ...\n. https://developer.gnome.org/gtk3/3.6/GtkApplication.html#gtk-application-set-app-menu\n. https://developer.gnome.org/gnome-devel-demos/3.7/gmenu.py.html.en\n. The menu bar has been dropped, and I've started implementing an application menu:\n85ca2c8528cae1731bac001684e3f2bc05aad972\nThe application menu elements are not Gtk widgets but Gio elements. It means I basically have to remake the menu.\nRemaining to do:\nsubmenu 'advanced': 'show all boxes' + 'reindex doc' + 'reindex all docs'\n. Also, to do: translations\n. Translations: 82668ad8e216b8c6a3da4cd7929be883d795a3e8\n. Settings + advanced options re-added in:\n4918af0ab8354d98db15cb746da9829e0378d39d\n75e8eb65edf6da592df17dc956a8ae5806a9dfa0\nRemaining to do:\n- When clicking \"Show all boxes\", the label of the option should become \"hide boxes\"\n- When clicking \"Show all boxes\" for the second time (--> will be \"hide boxes\"), boxes don't disappear immediatly\n. Boxes visibility toggling fixed by f92d6848143be7a57aaf89d94587f1d06beeeb43\nChanging the label of the option \"Highlight all the words\" done by f3b2261d823d5013149e761d47a27c693124e0d0\nRemaining to do:\n- Option 'reindex all the documents'\n. Option 'reindex all the documents' : 06b86615c41052fa0fda075556b46436d1dc1322\n. Hm, more simple: When resizing is done, the image should be redisplayed with the correct size. I don't think it's useful to resize it when the user is resizing the window. It will just make the code much more complicated and possibly buggy.\n. Done in bb228700c9cd262af72095ce3469872a09ede820 .\n. Tested on slowest computer: my laptop (Core 2 duo, 3 GB). It seems to run fine.\nI'm going to close this ticket. Please reopen if you have any problem with the changes.\n. I remembered that I have a even slower computer : An Intel Atom + 2GB of ram. When I tried on it, what you say became obvious.\nActually, it's because when I get the resize signal, I tried to stop the thread making the resized image. But this thread is hard to stop.\nThis problem is fixed in 1b06ab4f627776178caf418e61bbc0f73142aff8\n. Search is now done using python-whoosh (new dependency). This change fixes this issue.\n. PS: The syntax is 'label:XXX' :)\n. Just not going to happen for 0.1. It's too much work :)\nBut later probably, yes.\n. #235 will require a custom widget to display the scan on-the-fly, so I'll probably be able to do this at the same time.\n. Done (branch 'unstable')\n. Done in d12e1d216fedc9c115ec1dbdef163d90a1b3c040\nThe option is hidden in the right click menu of the document list. Hm maybe something easier to find would be nicer. We will see based on the feedbacks.\n. Done in 69ef5c2be968c4d7abfebf99bb1f5679cd1436cd\n. Wouldn't bookmarks be more useful, easier to understand, and achieve almost the same goal ? ( #81 )\n. Ok, I clearly see use cases where it could be very handy (for instances, when working on your taxes).\nI also like your wire. There is just one thing missing : How to create a new saved search ? I guess we could just add a button \"new saved search\" below the saved search list ?\nI could also merge the current dialog to create searches with this one. I can then add a button \"save search\" to it.\n. Since editing manually a .txt or .words file is assumed to occur rarely, a solution would be to check only mtime on directories, not on files. They are updated only when a file is added / deleted, but it should be good enough.\nIn case an user changes manually a .txt or a .words file, they still can use the option File->Advanved->reindex all to resync everything (but I still have to fix this option actually ...).\n. Other option: I could do it the Rhythmbox way: Paperwork would start assuming the index is ok, and refresh it in background in an (almost) independent thread. Python-whoosh is supposed to be completely thread-safe, so it should work fine.\n. Temporary optim: 28e5d881c9306e3505050fed3f4cd34699588380 : Paperwork only look at the modification time on the document directory.\nOnce I've put the index update as a background process (like rhythmbox), I'll revert this optim.\n. Problem:\n- Reindexing in background implies using an independent thread\n- Libpoppler is not thread-safe and will segfault if used in an indepedant thread\nSolution:\n- Paperwork will look for modified documents using an independent thread\n- But paperwork will reindex modified documents using a normal worker (partially blocking the GUI)\n. Done in:\ncb5cc0cbdac499550240cab9f4aec117c54d70f0\na5e4ec009341fe6bc92b898b9f81af61e8dbc66f\nf5318f5ef03affba1f5b86d4345bc8a53a600ae6\n80250a9b5b90ba31d099b3a274076c82946280df\n2226d347b5162f78de682eab2ec16d694f95c464\n7d6dabc578df689c39e97c69827dbfc5f36c44a2\n716241333dee2835f4b4d6855566a2eeb5d348e9\ndeeac7d9e88f4f30632155320c455cfb53c72c90\na5da18d009a3a7c3d9b1fd418569422354b8e655\n. Fixed in a29a99758d34d0b5cd0a00796c831a33d92dba42\n. Done\n. I'm too lazy to do the doc in the init.py :p\nHACKING file added in c007cdcefca6995f4c0082d65c34384499cd9e27\n. Actually, I won't really need to convert directly hOCR into DjVu.\nWhen I use Pyinsane for the scan, I get a PIL Image (~= bitmap). When I use PyOCR on this PIL Image, I get boxes (words + their positions) (whether I use Tesseract, Cuneiform or anything else).\nIn the end, I only need a library allowing me to write djvu files (bitmap + words --> djvu), read them back (djvu file --> bitmap + word positions), and also append content (new page) to them.\nI haven't checked yet, but I assume pretty much any Python library made for handling DjVu files will provide these functionnalities.\n. Why would it be blocked by #258 ? oO\n. It seems there is no existing implementation of a library (C or Python) to encode DjVu documents. djvulibre provides tools that can encode DjVu documents, but no API for it (only for reading DjVu files) ...\nNo wonder DjVu files are not really common yet ...\n. Not do-able for 0.4.0. Moved to 0.5.0, with the hope someone will write a python-djvu-encoder.\n. From what I've seen, if I want to add a correct DjVu support in Paperwork, I would have to implement DjVu generation support in DjVuLibre myself. It seems really really complicated.\nI will keep the ticket open because it remains an awesome thing to do, but I will probably never have time to do it.. Done in a5b01d882ae68084ec8ba3b817004fa904840617\n. I believe it is related to this change:\nhttps://groups.google.com/d/msg/paperwork-gui/wzV5mNnw0lg/o2WzexQ2oUMJ\n\"\"\"\nI had to change a little bit the index schema. Since there is no automatic index migration mechanism yet, you will have to delete your index before restart Paperwork. Paperwork will rebuild it.\n$ rm -rf ~/.local/share/paperwork/index\n\"\"\"\n. The problem is that when I change the schema and someone use Paperwork with an old schema, I can hardly predict where exceptions will be raised.\nWhat I should do however, is keep in the configuration file an index schema version. When Paperwork is looking for a version more recent than the one specified in the config, it will have to rebuild the index from scratch. Since I haven't released any version yet, I haven't done it yet. But it's on my TODO list. I'll open a ticket about that.\nFor now, I'm going to close this ticket.\n. #127 \n. Shouldn't be useful anymore. kigeia added a check when Paperwork starts: if the whoosh schema in the index is not the one expected, the index is rebuilt.\nIt should be good enough.\n. It's quite possible I missed it.\nIt makes sense that gir1.2-poppler-0.18, when used with Python, requires python-gi-cairo (libpoppler uses Cairo for rendering). I assume Debian maintainer's didn't add it as a dependency to gir1.2-poppler-0.18 because gir1.2-poppler-0.18 is not language specific whereas python-gi-cairo is.\nAnyway, thanks for noticing this missing dependency :)\nAdded in 26f4a576ab2c9ea45fc11df25ecff2040b5c5fc7\n. Woops, my bad, I broke that when I moved some code around.\nFixed in 024805287153673bd3771f7159a8c084926e0f23\n. ... I spent one evening installing Mageia 2 to reproduce this bug ... then I remembered : You need Tesseract 3.01, not Tesseract 3.00. Tesseract 3.00 doesn't have the hocr configuration files required for Paperwork.\nThis is actually my fault. The README of Paperwork specifies Tesseract >= 3, not Tesseract >= 3.01. I will fix it.\n. Fixed in 18ad4a2065f6d6e8d272ed25925450909f5b22d5\n. No right click menu anymore. I wonder if this ticket still makes sense.. Good question. Not as far as I know. And it would open the way for user to organize their documents in weird and unexpected .. which cannot be good. Hmm, while I easily see how rotations could be done on many pages at once,\n is there any real use case ?\n How would that go for cropping ?. Hm, I see.\nRegarding cropping, my question was more: how do you apply cropping to many pages in one shot, knowing they may not have all the same size or orientation ?. +1 for the \"notifications help repair mistakes\". I guess it would be a nice way to solve #19 .\nRegarding the cropping, wouldn't it make more sense to disable the button, and display a tooltip when the user move the mouse over it, explaining why it's disabled ?\nI'm not fond of letting the user do something only to tell them that they can't actually do it.\n(I also note that I have to improve DnD support). Question:\nWouldn't it be simpler to not have the options \"crop\"/\"rotate\" in the menu ? Instead we could just have the \"goto multiple selection\" button that also make the edit tool bar appear ? (which would turn the button \"multiple selection\" into a \"edit page(s)\" button I guess). Looks good to me too.\nJust regarding the \"share\" part, I'm not sure if it can be done easily (note sure how to start the email writer with an attachment ; and the other button will require extra settings). So I guess this part will come much later.. I'm just not sure how that would fit with your ideas regarding page editing ?  oO. > in order to export them all at once, like this\nThat could work. While maybe not intuitive at first, after one or two tries, I guess people will get it.\nJust one minor detail: I suggest we display the action buttons beside the document queue instead of below them. I think it would make it clearer that the actions are going to be applied on the queue.\n\nPutting controls in the header bar does not allow for mass editing.\nAn alternative would be to put controls in a vertical pane,\n\nIMHO, the alternative looks better. When clicking on \"edit\", people will either expect a large visible UI change (like the right side of the window changing), or a small change close to their mouse. I don't think people will expect a small change in the header bar.. Regarding the queue, I think the popover version would be good enough (yes, I really don't like sliding panels pushing stuff ;).\n. > FYI, the selection mode (with checkboxes, as discussed earlier in this ticket) does exist in the GNOME hig but is not even implemented in Nautilus\nhttps://developer.gnome.org/hig/stable/selection-mode.html.en ?\nJust so you know, I've seen it in Gnome documents and Gnome music.. Duplicate of #134 \n. The dependency list in the article is not up-to-date. There is a new dependency that has been added since then : python-whoosh.\nhttps://github.com/jflesch/paperwork/#dependencies\n. There is one corner case to not forget: Imported PDF with no text (scanned PDF). OCR is run on them as well. To export them, we cannot just copy the pdf file as done currently. They must be rebuilt to include the OCR text.\n. Since it will probably require a more dedicated library for this job, trying to reduce the PDFs sizes could also be a good thing.\n. Note to myself: pypdfocr uses reportlab.pdfgen.canvas.Canvas\n. (same thing for the 2 others)\n. Well, actually, Cairo can do it ... :)\nhttps://github.com/jflesch/paperwork-backend/commit/38632cdb24aee48b8f23531416b27640513c8c5c\n. I understand. What I tried to say in my comment https://github.com/jflesch/paperwork/issues/135#issuecomment-229405178 is that I've added this feature in paperwork-backend. In other words, it will be available in Paperwork 0.4.\n(problem is, for now, Paperwork 0.4 is still strongly unstable when scanning ... :/)\n. Duplicate of #134 \n. By the way, afaik, it's not supposed to appear in the launcher directly. It's only supposed to appear in the application list. However, I think that you may have to log out / log back in to see it.\n. Did you have a look at issue #134 ?\nThe dependency list has grown since the article was written. It seems you're missing a dependency : python-whoosh. I suggest you have a look at the README as well to make sure there are no other new dependencies.\n. It's not a matter of creating ~/.config/paperwork.conf. This file is automatically created by Paperwork.\nThe problem here is that there is no GError class in your gi._glib module. Now, based on the module name, I have a feeling it's not the correct Glib Exception I'm trying to catch. Obviously the one I'm trying to catch doesn't exist (anymore) on your distribution.\nI'll have a look.\n. Fixed in 16f8226f2670ff3be9408d5d2f8968efe7ddcdb8\n. Oops, I missed one exception catching. Fixed in 880a1c469d6cb21bf6c81137ae292591f95fe247\n. 1) Please write the tickets in English if possible\n2) Why did you close this ticket ? Is your problem solved ?\n. Unfortunately, the traceback is not very helpful, and I don't have a Epson scanner.\nHowever it's obviously a Pyinsane problem.\nI've added a test script in Pyinsane.\nCan you try to run the following test scripts and send me back their output please ? Hopefully I should get more informations from the first one, and a better traceback from the second one.\n- ./list_all.py\n- ./scan.py /dev/null\n(they must be run from the directory containing your copy of Pyinsane).\nThanks in advance,\n. You must run 'git pull'. I just added the script scan.py this morning.\n. No, I mean you must run \"git pull\" in the Pyinsane directory, where you should have \"scan.py\".\n. Yes, but now, if you could run \"./scan.py /dev/null\" in this directory and give me the output, it would help me a lot. Thanks.\n. Darn. Thanks for running it, but I made a mistake in the script. I've pushed a new version. Can you retry please ? (don't forget to run 'git pull' to get the new version first)\nI'm at work right now, so I can't test this script. If trying it many times is an inconvenience for you, we can do that tomorrow. I'll be at home tomorrow so I'll be able to test this script before making you run it.\n. Much better, thanks.\nIt seems Pyinsane runs the scan in pure Black&White only. This is a mode that I have never tested yet (which explains the crash). There is no reason for Paperwork or Pyinsane to use this mode in a first place. There is probably an option to tell your scanner to do the scan in colors. I'll try to find it and make sure it's used. Hopefully, now, I have enough informations.\nI'll keep you updated as soon as I have a fix.\n. Pyinsane: Lineart mode fixed in 35dea0ed1d43ad7f26a2bc9aa73702ef043081fa\nPaperwork: Fix: Color mode forced since 3a32b8e1a68819224faeb73ee5c30b02c0571618\nIf you update both ('git pull' + 'sudo python ./setup.py install' in both Pyinsane and Paperwork), it should work fine now.\nThanks again for your help in debugging this.\n. My bad, I tend to forget this recommendation. Thanks for the pull request :)\n. Actually, right now, I don't choose what's indexed and what is not or how it is indexed. I use python-whoosh. I just give it the full text. What is done with the text is python-whoosh's problem.\nAfaik, this is the normal way to use python-whoosh.\n. Too hard to select efficiently and safely the keywords --> closing.\n. Just so you know, in case it helps: If you have a scanner with an automatic document feeder, there is a dialog in Paperwork dedicated to scanning many documents and pages in one shot. However this dialog is only available and meaningful if you have a document feeder.\nAnyway, I see your point.  Sadly, many libraries used in Paperwork are not thread-safe at all. These thread-safety issues would make it quite hard to do. I'll see what I can do, but quite frankly, I don't think it will be doable for the 0.1. It would require a lot of time, and currently I don't have much :/\n. This is not what I mean by thread-safety.\nThread-safety issues in Paperwork are mostly due to non-thread-safe libraries. For instance, Libpoppler appears to be not thread-safe at all. Last time I tried using it in multiple threads, I ended up having segfault (not python exceptions, segfaults !) all the time.\nFor instance, Pyinsane & Pyocr are thread-safe, but I'm not really sure about python-whoosh (indexation).\n. This will be solved by #234 . I'm closing this ticket to avoid spliting the discussions.\n. Probably related to https://github.com/jflesch/paperwork/issues/469#issuecomment-229338234\n. Seems OK\n. Actually, I saw that you already specified that information, but only right after I posted my message ... sorry for that :)\n. I have a Ubuntu raring running in a VM, but I'm unable reproduce this problem :(\nHere are 2 things you can try:\n1) check the version of python-whoosh you're using:\n```\n$ python\n\n\n\nimport whoosh\nwhoosh.version\n```\n\n\n\nOn Ubuntu raring, you should have at least the 2.4.1.\n2) in src/paperwork/backend/docsearch.py, you can replace the line:\ncontent=whoosh.fields.TEXT(spelling=True),\nby:\ncontent=whoosh.fields.TEXT(),\nYou may have to remove all the \"spelling=True\" in the following lines as well.\nIt's a crappy workaround. It will make suggestions slower. But it might give us some idea of what the problem is.\n. So, is there anything new ?\n. Since this ticket has been inactive for a while, I'm closing it. Please reopen it if the problem is still there.\n. http://bazaar.launchpad.net/~divmod-dev/divmod.org/trunk/files/head:/Reverend/\nhttps://pypi.python.org/pypi/redisbayes/\nBut none of the above seems to be able to store on the disk what has been learned. Re-reading the documents every time a document is scanned is a luxury we cannot afford.\n. See #145 for a correct word tokenization.\n. Darn, I was looking forward to having an excuse to implement my own bayesian filters. It looked like fun :)\nAnyway, pickle looks like a good idea. I think it could work. For the record, python-whoosh appears to use cPickle : a faster but more restrictive implementation of pickle.\n. It looks like a quite complete library that could be reused in the future for some other crazy idea. However the dependency list (including the dependencies of the dependencies) is a little bit scary:\n% sudo apt-get install python-sklearn\n(...)\nThe following extra packages will be installed:\n  javascript-common libjs-jquery python-dateutil python-glade2 python-joblib python-matplotlib python-matplotlib-data\n  python-nose python-pyparsing python-scipy python-simplejson python-sklearn-lib python-tz wwwconfig-common\nWhy the hell does it even depends on python-nose at runtime ?!\nAnyway, in the end, to quote Futurama, \"I have no strong feeling one way or another\".\n. Oh wait, python-nose python-matplotlib and python-psyco appears to be optional (I think)\n. Ah yes, much better:\n% sudo apt-get install --no-install-recommends python-sklearn\n(...)\nThe following extra packages will be installed:\n  python-scipy python-sklearn-lib\n. In conclusion:\nHere are my requirements for any dependency you choose:\n- Must be on Pypi (so it can be included in the setup.py as a dependency)\n- Must be well-documented\n- Must be ported to Python 3 or will be soon (implies: must be maintained)\nSklearn is on Pypi and appears to be still maintained. It seems also well-documented. It seems like they are working on porting it to Python 3. So it's ok for me.\nHowever it seems quite complex, so if you use it, you will have to comment your code, a lot. I won't include code in Paperwork that I don't understand.\n. @kigeia : Since you're working on it, could you assign this ticket to yourself please ? (it seems I can't do it myself)\n. Update: I just found the button to make you the assignee :)\nI also added you as a collaborator on the Paperwork repository. I assume it also means you now have the right to push directly to jflesch/paperwork . However, I would prefer if you keep sending code review first, at least for big changes.\n. Re-Indexing the predicted labels is too slow. It takes far too much time to start Paperwork with my ~700 documents. Let's face it, it's unusable right now.\nUnless you have a better idea, here are the changes I'm planning to do:\n- Predicted labels won't be indexed anymore\n- Predicted labels will be updated when the document will be opened (update: no point if the predicted labels aren't stored in the index anymore)\n- When a scan is done, predicted labels will be selected by default\n- Keep the predicted labels displayed in bold\n. Changes I've made up to now:\n- 55db4aa186eec19c800a9bfae5056bcbce3c31af\n- 9a8ec5b0362734e7c6f9d700bcc9f02b2dbdd464\n- 1a0086457f322d9a9ec553cd1400c1c3775d535e\nBasically, I've removed predicted labels from the index.\nThe only thing left to do: add the predicted labels automatically on freshly scanned documents\n. @kigeia : By the way, since indexing the predicted labels doesn't seem really acceptable, I was wondering if the feature files are still useful ? I've made a branch were I've removed them (wip-no-feature-file), and I can't see any obvious drawback about removing them. However I can see many benefits: when you use an automatic sync tool (like SparkleShare), it means less files to synchronize. Also it will make my life much easier for #202 .\nIs this change ok with you ?\n. Nevermind, I've forgotten to push the branch ... it's on my computer at work. I'll push it tomorrow.\n. It's pushed now\n. Seen with kigeia by email: ok for merge in unstable.\nMerge from wip-no-feature-file to unstable done\n. Remaining to do:\n- When a scan is done, predicted labels will be selected by default\n- Creating a new label is slooowwwwwww. And far worst, the GUI is blocked while doing so.\n- Toggling labels is too slow (should be done in a job)\n. Done:\n- When a scan is done, predicted labels will be selected by default ( 645e4b695b76ff60a20f7ece33a9ae3650c48d66 )\nRemaining to do:\n- When an image is imported, predicted labels will be selected by default\n- Creating a new label is slooowwwwwww. And far worst, the GUI is blocked while doing so.\n- Toggling labels is too slow (should be done in a job)\n. Done:\n- When an image is imported, predicted labels will be selected by default ( 7674a23a364fbb767f523ab834d719e4b6e4005f )\nRemaining to do:\n- Creating a new label is slooowwwwwww. And far worst, the GUI is blocked while doing so.\n- Toggling labels is too slow (should be done in a job)\n. Done: label toggling in a job: 1b7001d04e4080297f65f1e850f3d7d950272b2d\nRemaining:\n- Creating a new label is slooowwwwwww. And far worst, the GUI is blocked while doing so.\n. Progress bar while creating a new label : ec6ebc33c460a1937253666fda1337d21ca5f3d4\nTook us almost one year to implement this feature but it's finally done ! :D\n. Done by a5648853d60b405054c035365ec266391caa0409\n. In English next time, please :)\n. First of all, I don't know (yet) what CMIS is exactly. I'll have a look.\nIn the meantime, I think there are a few points I should clarify:\nFirst, with Paperwork, I'm not targeting enterprises (even small ones). I'm targeting single users. If it can also be used by small enterprises, great. Otherwise, it's no big deal to me. I assume there are much better tools than Paperwork for enterprises (with lightweight clients I guess).\nHowever if Paperwork becomes hard to use for single users then it's a big problem for me. I'll be blunt: I cannot ask single users to install a DMS.\nSecond, in my opinion, Unix design doesn't work very well with GUI. The 3 rules you quoted are good if you want to flexible and stable programs. The usual goal of GUI is to make things simpler for the lambda user. By simpler, I mean \"do what they want the way they want when they want it\". Lambda users don't care about flexibility as long as it does what they want. And most of the time they want pretty much the same thing, so flexibility isn't really an issue at all here. But they also want easy-to-use GUI. It's hard, if not impossible, to make a GUI that do one and only one thing and still satisfy this easiness requirement.\nNow I don't think it means Unix design is dead. It just mean that nowadays it has another shape : \"write programs and/or libraries that do one thing and do it well\". This is the principle I'm trying to apply here. This is why I have many dependencies. This is why Paperwork code is split in 2 parts : the backend act as a glue between most of the dependencies, the frontend gives a GUI to the user.\nThird, DMS are themselves not exactly what I would call Unixy ... :)\n. By the way, just to be clear : It doesn't mean at all I'm against your idea. It just mean I'll have to look at what CMIS is, and what it can bring to a lambda user.\n. Just so you know : I will have a look, but I won't have much time this week (week-end included), so it will probably have to wait for the end of next week.\n. Fixed by f924aaeb75128280d97309031c99a995e013232f\nCan you give it a try please ?\n. Was already almost fixed. Just had to fix the display of the error popup : b12cd550f2040fd81aac987421b542bec6dc86ea\n. Fixed by fd5beffbb8a1981bc9f1d6a117521923d6c53d30\n. The use of python-levenshtein is very limited in Paperwork. Since it's not maintained anymore, I think it would be best if I get rid of it directly for the 0.1.\n. Possible replacement: nltk. It would also allow to remove the ugly non-i18n-friendly function paperwork.util.split_words()\n- http://nltk.googlecode.com/svn/trunk/doc/api/nltk.metrics.distance-module.html\n- http://nltk.googlecode.com/svn/trunk/doc/api/nltk.tokenize-module.html\nDrawback : It's not yet python3-ready.\n. Done in 7bbb130bec567ff7883e677012e11bb21ce090d6\n. Hm, it seems that there are some dependencies that I can't add to setup.py. For instance, gobject-introspection-thingies (like Gtk, Poppler) are not available on pypi.\nHowever, I can still add the other ones.\n. I've removed the dependency list from the README.\nIt is now in the setup.py.\nHowever, as I said, there are dependencies that can't be checked by setuptools. So I added some custom code in setup.py to look for those dependencies. If some of them are not available, it will tell the user what command to run to install them (on Fedora, Ubuntu, Debian and Gentoo for now).\nI don't think I can do any better.\n. Done in:\n6a63023be15103ca7f1eda55558d7c9d5b13f6dd\n79536560e04870a77a5c0079a9d787c3a2ece92b\nad9f32039b224858b00c81ce0cf99c7cb15a538e\n8ac698c4417cbb008dbede9a8a67d1948373eace\nd3da0a83e938891339ebc6bc97e495d67b39bf2c\n3aa031467483711e595522ac10288b72ed6c6f62\n. Done. I even have registered Pyinsane & Pyocr on Pypi\n. Fixed by f9d814647fb8ac3a8719914db847c00bb917eafa\n. By the way, thank you :)\n. Note to myself: I can probably reproduce this issue by starting a scan with simple-scan and then try to start a scan with Paperwork at the same time.\n. Hmmm. Do you get this exception every time, or just the second time you scan something in Paperwork ? (calibration scan in the settings window included)\n. That's weird, the error \"Device is busy\" happened while trying to read the option 'resolution' of your scanner.\n. Sorry, I haven't had time to work on this issue yet. Up to now, I was working on #188. I'll see if I can have a look at it this week-end.\n. Hm, by the way, I forgot to ask you something : I assume other scanning tools (like simple-scan for instance) work fine ?\n. Also, if it's ok with you, I would be curious to know the output of the following scripts:\n```\n$ git clone http://github.com/jflesch/pyinsane.git\n$ cd pyinsane\nturn your scanner on\n$ ./list_all.py  # should give various informations regarding your scanner\n$ ./scan.py /dev/null  # will do a test scan and throw away the output image\n```\nThanks in advance,\n. Hm, that's weird. It seems the only problem here is that it's not possible to read back the resolution set on your scanner. In this case, it's actually not really a problem, since Paperwork can simply use the resolution defined in its configuration. (it's slightly less reliable, since the scanner may have rejected this resolution previsously, but I assume it will be a good-enough fix).\nI've pushed a fix on the branch testing : c007dfe4925818a1d65704c220d644f4ff75718c . Can you test it please ?\n. Oops, my bad.\nFixed by 19c3aead7243f0b6384a7e130ff7dbae043f1200\nCan you try again please ?\n(I'm sorry but I can hardly test this piece of code since I don't have the same scanner than you, so it may require a few more tests)\n. You scan with a resolution of 2400 ?! Is it really the resolution you want to use or is it a bug ?\nAnyway, I won't have time to do more this evening. We will see this week-end if I can do anything else.\nIn the meantime, try scanning with a lower resolution ;) (like 300 dpi for instance)\n. K, I'm going to close this issue. Please reopen if you still have problems.\n. Looks like the calibration of your scanner is wrong. Have you tried recalibrating it in the settings dialog ?\n. > For recalibration, I need to go to the settings dialog, do a scan, adjust the blue box over the scanned file an click \"Ok\", right ?\nYep.\nHm, I'm wondering: Paperwork tries to do the calibration scan with a resolution of 200dpi. Is this resolution available with your scanner ?\nAlso, can you send me again the output of the script ./list_all.py (from pyinsane) ? Because last time, there was an exception so the output was incomplete.\n. Yep, I think it's the problem.\n/me get his coke out of the fridge ... let's roll ...\n. I've pushed a fix in the testing branch.\nYou'll have to redo a calibration scan in order for it to work.\nPlease tell me if it works for you.\n. Awesome. I'm going to close this ticket. Please reopen if you still have problems with your scanner.\n. Hm. the problem is, I can't see any use case for that. Can you tell me in which case you think it's useful to import twice the same document  ? oO\n. Done by kigeia:\nd90175482613cccb06d8346fe4edfc8c789faee4\nce073192dc19ca7560deb9e0b96f24f695431b6a\n. I'm not (yet) familiar with python eggs and distutils, but isn't this issue kind of a duplicate of #151 ?\n. 90af0a00c35d835a5a7540a3388d880d67caa3ba\n. Ouch.\nIt's probably due to the fact that, for now, I mix Gio and native Python I/O (see #21 )\nTargeted for the 0.2. Will be backported to the 0.1 if the fix is not too complex and if the 0.1 hasn't been released before.\n. Fixed: 4e23e0de4c05329fcc37de8b556039d133d51a28 (see #333 )\nThanks for reporting this issue.\nPlease reopen this ticket if you still have this issue.\n. I'm not sure to understand : what do you mean by A3 instead of A4 ?\nPaper size matters only for printing a document or for handling/displaying PDF. When scanning, Paperwork/Pyinsane get a bitmap from the scanner. No paper size is involved.\n. Hm, looks like a (weird) scanner calibration problem.\nIn the settings window, can you try to do a calibration scan and move a little bit the handles (the blue crosses on the calibration scan). Hopefully, it should fix your Paperwork config.\nIf it doesn't work, you can try editing your paperwork configuration (~/.config/paperwork.conf) and fix the scanner calibration by hand.\n. Hm, are you able to reproduce this issue ? Or can I close it for now (until someone else get it ... :/ ) ?\n. I've seen no file. Did you attach them to your email ? because I think github stripped them away. If you want, you can send them to me by email directly : jflesch@gmail.com\n. Hm, so basically, if your configuration contains calibration settings, the scan ends up with the wrong size ?\n. I'm sorry, I forgot this bug report.\n2 months ago, I commited a fix which may be related to your problem:\n96e9d515ee22ff4a4c6415247c6eb641edf2ecff\n3d6f8e18dd7ac6a9ff2ae4469b86a2b83e441bb6\ncdf0c87870dab47e9bc5ddf04c9c61dfa0e79980\nWhen the resolution used for the calibration was not available, the default resolution was used. However Paperwork still assumed it was done at the expected resolution. In the end, the cropping was totally wrong.\nIt looks like your problem.\nCan you test it and see if it solves your problem ? (it's included in the version 0.1 / the branch 'stable')\nIf it doesn't solve your problem, I will need more informations regarding your scanner:\n```\n$ git clone https://github.com/jflesch/pyinsane.git\n$ cd pyinsane\nturn your scanner on\n$ ./list_all.py\n```\nThis script will list all the options provided by your scanner. It would probably help if you could send me the output of this script. Thanks in advance.\n. Anything new ?\n. Here is the procedure to switch the unstable branch\n. What version of Python-whoosh are you using ?\n. Regarding my comment \"You don't use libpoppler to compute the hash (--> no thread-safety issue)\", my point was:\nWhen I put data in a cache (thumbnails, etc), it's usually for one of 2 reasons:\n- perfomances\n- thread-safety : data are loaded once, always by the same thread, and then can be used by any other thread safely\nIn your case, neither are a problem nor are useful. --> caching the hashes is useless\n. Thank you for your contribution :)\nBy the way, you didn't tell which version of python-whoosh you use ?\n. Hm, the difference in the python-whoosh version might explain why Schema.eq() doesn't work for you but works for : I'm using the version 2.4.1 (straight from the Pypi repository)\n. Nice catch :)\n. Done in 261d864bb28b3c398ce2c533c0471f8e52f2b446\n. Done for the 0.1 for convenience:\n- Avoid annoying issues with PIL installed system-wide on Fedora: the Fedora package doesn't have JPEG support, and reinstalling PIL with jpeg support on 64bits system is incredibly annoying.\n- The changes in Paperwork code are minor.\n. Looks like a good idea. I wasn't even aware this could be done (obviously I haven't read python-whoosh documentation well enough)\n. Once again, thanks for your contribution :)\n. I think it can be done quite simply by storing the last selected mode in the configuration. There wouldn't even be any visible changes in the GUI.\n. Done by 768fb2d1c2918023c3ed7f098b27c1f611e8748e\n. 1) Can you specify on which branch you have this issue please ? Kigeia did some changes in the search code in unstable, but not in testing.\n2) Did the OCR work correctly on your nanny's employement contract ?\n. Did you update Paperwork using setup.py ? If so, your version of python-whoosh has most likely been updated as well. In which case, rebuilding your index could be worth a try:\nrm -rf ~/.local/share/paperwork/index\nAlso, Is the word \"assistante\" clearly separated in your document (no comma or point attached for instance) ?\n. Just FYI, the .txt files are not used anymore. You can delete them if you want.\n. When I do a search, with \"renault\" for instance, with grep I get 4 documents, and with Paperwork I get 3. However the OCR didn't get correctly the keyword on the 4th document:\n<span class=\"ocrx_word\" title=\"bbox 236 2879 1572 2918\">CIRENAULT`201OBL3924942</span>\nWhich explains why Whoosh is unable to find it back (however \"Cirenault\" works).\nIn other words, it seems to work fine for me.\nWould it be possible for you to send me one of those documents that Whoosh is unable to find back ? Something not really confidential of course. You can send it to me by email if you prefer ( jflesch@gmail.com ).\n. (please attach also the .words files)\n. It's fixed.\nThe problem was that your documents are still using the old .words file format. This format only includes word boxes, not line boxes (see #60). So paperwork didn't extract the text correctly from them. (see https://groups.google.com/forum/#!topic/paperwork-gui/J4-guxIkR3k ; I must admit, this mail wasn't very clear)\nFor now, I've made changes so Paperwork will still accept the old format. Just updating Paperwork and rebuilding your index should fix this issue:\nrm -rf .local/share/paperwork/index\nHowever, if supporting the old format becomes too much work, this fix may be removed in the future. So I suggest you rerun the OCR on all your documents as soon as possible (File->Advanced->Redo OCR on all the documents).\n. Not surprising, the subject of the mail wasn't really appropriate. I should have done 2 mails ... :/\nAlso, for my own record, fixed by d420664023cad376c21ddaa1452a006569a6d107\n. Looks good to me. It will even reduce the changes to do to switch to Python 3. Thanks :)\nI'll test it quickly. It's unlikely it will introduce any regression at all so I will probably backport it to the testing branch. Otherwise, making changes on both branches will become really painful.\n. Good catch :)\n. Looks cool, but it needs some adjustment :)\n. Cool. I'll test it this evening :)\n. I have a feeling it would be easier to actually run Debian on my tablet ... :)\n. Let's start with a viewer, and let's see later to add photo+OCR support.\n. Note to myself: https://github.com/kivy/python-for-android\n. Dependencies:\n- PIL/Pillow: There is already a recipe to compile PIL included in python-for-android\n- Whoosh : Whoosh is pure python. It shouldn't be much of a problem\n- Nltk : Nltk seems to be also pure python.\n- Libpoppler is the hardest : It is a C++ library. Currently it is accessed through Gobject introspection. However, GObject introspection depends on the Glib.\nAll the other dependencies can be made optional.\nIn the end, using Libpoppler on Android will probably end up being a big mess. It would probably be easier to make a recipe for http://www.mupdf.com/ + use ctypes\n. > you could have paperwork backend running on a host and connect it through webbrowser.\nDefinitively not what I had in mind or even what I want. What I want here is a Paperwork instance running on Android, with all the data stored on the devices itself.\n. This ticket is about a viewer only. I'll see later to extend its functionalities.\n. Depends on #328 \n. Kschwank has started working on one (Java): https://github.com/kschwank/paperwork-viewer\n. @kschwank started to work on an Android viewer a while ago. However, I'm not sure if he still intend to work on it.\nAlso, it's pure Java and therefore cannot use paperwork-backend. If the backend part evolves, it would have to keep up.\nI would really prefer an implementation made in Python as much as possible (see Pyjnius and friends). Support for encryption would also be a really good thing.\nAndroid can encrypt all the data of the users, but it makes the devices really slow. Just having Paperwork's documents encrypted would be safe enough and good to have.. I had a look at various benchmarks and tried it myself. While encryption makes the disk access slower, it does not seem to be really visible to the user. --> Android's encryption will be good enough --> Less work for Paperwork for Android :-). Unrelated to the viewer : https://github.com/ctodobom/OpenNoteScanner demonstrates some really interesting algorithms. Maybe phone cameras could actually be used reliably as paper scanners.. Note to myself: http://modrana.org/pyconpl2013/python_and_qt_for_android.pdf. Note to myself: https://github.com/vipul-sharma20/document-scanner. > I seem to have PIL (from rpm) and Pillow (from pip) installed. Could that be a problem?\nIt's most likely the root cause of your problem. I'll try to reproduce it this week-end.\n\nCan't remove python-imaging since my scanner depends on it.\n\nI think you mean hplip ? --> your printer driver depends on it, not your scanner ?\n. Hm, that's weird, I have a Fedora 18 installed, with hplip + python-imaging, and I don't have any conflict with Pillow ... :/\n. I may be wrong, but my understanding is that packages installed with pip or easy_install should end up in /usr/local. For instance, /usr/local/lib/python2.7/dist-packages instead of /usr/lib/python2.7/dist-packages . I've checked on a Debian stable. I'll check on my Fedora 18 this evening.\nBy the way, on my Fedora, I have hplip installed but it doesn't mean I use it, so it may simply be broken.\n. Hm, actually it seems python-pip on Fedora installs files in /usr/lib64 instead of /usr/local/lib64 ... :/\n. Hm, I see.\nWhile we wait for Fedora 19 to come out, does installing Paperwork in a virtualenv work for you ?\n. Hm, no, I don't think it will be necessary.\nI'm closing this issue. Please reopen if you still have troubles.\n. > Maybe create ~/papers if it does not exist?\nI think this is what I will do. Currently the work directory is only created at the first scan. I'll also create it at start if it doesn't exist.\n. Done in 0abdeea52e6db0ec04aff40210a15d5d00059418\n. Which branch ? testing or unstable ?\n. Can you have a look at the branch wip-optim please ?\nI did a few changes:\n- Doc thumbnails are only loaded when displayed --> it should reduce the memory usage drastically\n- When typing keywords, I wait for half a second before refreshing the page thumbnails (they are refreshed so a green border can be added if one of the keyword is present on the page)\n. > It makes Paperwork usage more painful\nOk, I guess I can throw away this idea ... :)\n\nI don't see any difference.\n\nGood. I'll cherry-pick this one into testing. This is something I should have done a long time ago.\nI'll do a bit of profiling this week-end, see if I can find anything to optimize.\n. By the way, can you remind me which kind of computer you are using please ? (CPU, mem, etc)\nAlso, are you storing your documents as-is, or in a cyphered folder (using encfs for instance) ?\n. I forgot to specify:\nI was trying to reduce memory usage in case your computer was swapping. Because if your computer starts swapoing while Paperwork is running, you're going to have very very poor performances (I experienced it at work).\n. > However, I see now that Paperwork is using a lot of memory. Couldn't it be reduced ?\nYep, by loading the thumbnails on-the-fly only when needed/displayed ... but as you saw, the result is far from being great.\nHowever I have a feeling you're right and there is something wrong in Paperwork. It shouldn't be that slow :/\n\nYour employer should buy computers that are not from the 90's :-D\n\nActually, it's a Core i5 with 4GB of RAM, but I'm what you could call a \"heavy user\" :)\n. 1) There are many copies of each thumbnail : Paperwork works with PIL images, but Gtk uses Pixbufes.\n2) Memory usage reported by top includes the Whoosh index (16Mb on disk)\n3) Data structures in memory are often more complex than on disk.\n4) In top, you shouldn't look at the column \"Virt\", but at the column \"Res\". \"Virt\" indicates how much data is mapped into memory. It doesn't mean it's actually using that much memory. God only knows what is mapped and why. The column \"Res\" is much more relevant.\n. Actually, there is also the Python interpreter and Gtk to take into account for the memory usage :)\nAnyway, I agree, it's too slow.\n. I've relaced an old crappy mechanism of mine (the \"workers\") by a cleaner one. I've also pushed a bunch of small optimisations. I don't know if it fixes all the slowness problems, but I think it's a good start.\n. hm, there is definitively a problem with the GtkIconView I use for the document list. As soon as there are a lot of documents in it, every mouse movement makes the CPU go to 100% on my laptop.\n. Hm, if I disable the text rendering in the iconview, the performances drastically improve ...\n. Even disable markup interpretation (because there is Html under here) didn't help. It seems it's basically text rendering that makes things slow .... :/\n. It seems one solution could be to replace the IconView by a TreeView. Treeviews have an option \"mode fixed height\" which helps improve rendering speed. In this case I think it could help a lot.\n(ironically, a long time ago, I was using TreeViews instead of IconView ...)\n. I'm not sure if I will really be able to replace the GtkIconView by a GtkTreeView. (my current try gives a really weird layout and I haven't yet found how to fix it)\nAnother solution would be to display the items progressively. For instance, by default, it would only display and load the last 100 documents. Then, when the user scroll down (starting at ~3/4 of the scroll bar), it would load the next documents.\n. It doesn't go to 100% on my personal computer or work computer either. But they are Core i5/i7 with Nvidia graphic cards.\nHowever, I see it quite clearly on laptop (Core i2 + Intel GC) and my other personnal computer (Atom + Intel GC). It makes Paperwork quite slow and painful to use on those computers :(\n. If you have some time, can you try the branch wip-progressive-doclist-display ? I would like your opinion the way the document list is displayed. Does it seem acceptable to you ?\n(if you look at your CPU usage, you shouldn't even see Paperwork when it seems idle now)\nEdit: basically: it shows the 100 first documents. If the user scrolls down, then more documents will be displayed.\n. > a \"please wait, loading\" icon is displayed at the bottom of the list\nIt's already on my TODO :)\n\nthere is a possibility to \"jump\" to a specific date\n\nHm, a solution could be be to make it possible to specify a date range in the search field\n\nWhat if you removed all text ?\n\nThat could work too. It's worth a try anyway.\n. I've added the possibility to search documents based on their date (in all the branches). It's described in the tooltip of the search field.\nI'll add a dialog to generate complex searches later (#193).\nRight now I'll make a prototype with a doclist made of a treeview + fixed height elements. We'll see if it also fixes the problem, and if the UI is acceptable.\n. I've pushed a prototype with a GtkTreeView instead of a GtkIconView on the branch wip-treeview .\nI think it's better looking, however I fear it will be less handy.\n. By the way, on the branch wip-progressive-doclist-display, I've also made a change: The thumbnails are only loaded when displayed --> when Paperwork starts, less thumbnails are loaded --> faster start\n. I've decided to push the branch wip-progressive-doclist-display in testing: I need feedback on it, and maintaining testing+unstable+wip-progressive-doclist-display is a PITA.\nAnyway, if things go wrong (ie people don't like it), it's easy to disable. I just have to increase the default number of documents displayed to a very high number.\n. Also, very important question : is the slowness problem solved, or do you still feel Paperwork is too slow ?\n. That's weird. This kind of error usually mean that your .glade files are not up-to-date.\nWhen Paperwork starts, it indicates which glade file it used. In the first lines you should have something like:\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow.glade\nIs there any error before that ?\n. > After pulling the last revision of testing, Paperwork reindexed all my documents (it was painfully long). Afterwards, no document was shown in the documents list. Then, when trying to open a menu, only the shadow was displayed : no content, as if it was totally transparent. Closing Paperwork worked great with the titlebar button.\nActually, I also had some weird things on my Intel Atom computer. But I didn't bother looking what went wrong because ... it's an Atom ... nobody use Intel Atom, right ? :)\nAnyway, you have even weirder problems than what I had. And it looks like a GObject/Gtk problem more than a Paperwork problem :(\n\nThere still could be improvements when displaying images or thumbnails...\n\nThere was a wait time of 0.5s before generating the thumbnails. I've removed it. Can you retry please ?\nThis wait time was used to keep things smooth even on slow computers ... but since the IconView is not eating 100% of the CPU anymore on these computers, I guess I can drop it.\n\nmaybe by caching them.\n\nActually, thumbnails are already cached. The first time they are loaded, they are kept in memory. However, they are kept as a Pillow image and must be converted into pixbuf to be used by Gtk. I don't keep them as pixbuf in memory because pixbuf are a PITA to edit, and I need to modify slightly the thumbnails in the page list sometimes : when there is one of the keywords on one of the pages, I need to add a green border to the page thumbnail.\nIn the end, it may still take some time to just convert the Pillow image into a pixbuf.\n\nWhen clicking on \"New document\", Paperwork loads for less than 2 seconds, but it loads... nothing, I guess.\n\nActually, there was also a wait time of 0.5s before displaying any page. It's for the same reason than before. I also removed it. However it's a long and uninterruptible process, so I may have to put it back :/\n. w00t :)\n. Argh. You probably got an uncaught exception in the background ... :/\n. Wow, nice catch.\n. Fixed by e277cff5719b4e4e70bd2b458124f25c76d8d3c3\n. There are still some instability problems, mostly when indexing. Since it's not clearly related to slowness problems, I've a opened a separated ticket #200 .\n@jaesivsm : anything new regarding your glade file problem ?\n. @tiramiseb : You're not the first one to get this one. I also got it from time to time ... but I haven't been able yet to find a way to reproduce it ... :/\n. FYI: I've fixed (I think) #200 .\n. I can't reproduce anymore the crash I got or the assertion failure. So unless one of you tells me there is still a problem, I'm going to close this issue.\n. Ok, I'm closing it for now. Please reopen it if you still have troubles.\n. Kind of a duplicate of #234\n. 1) Don't worry too much about this warning. Basicaily it says the scan job took too long (more than 0.5s) and since it can't be stopped, it prevented other jobs from running. In the end, it may block the GUI until the scan is finished. This is why a warning is raised. This is something I'll fix, but not in 0.1.\n2) I've fixed the first exception. Sorry for that.\nThe second and the third are likely to be related to the first one. If you get them again, please make sure there is no other exception before them, and report them to me please. Thanks in advance.\n. I'm closing this issue for now, please reopen if I missed something.\n. (Fixed in 232201458c2fd470a0bc969d261ecd015368596c )\n. There are still some problems ...\n. GUI problem fixed in 3e204a602aed255b5380e263a86bcac47b9811e3\n. Duplicate of #180 .\nBasically, you have a conflict between python-imaging and Pillow:\n- both provide the same API, but python-imaging is unmaintained\n- python-imaging was probably installed by your distrubution package manager (apt-get in the case of mint if I'm not mistaken) to satisfy some dependency (for instance, hplip requires python-imaging).\n- Pillow was installed by python-pip or easy_install.\nThe details of the conflict are probably specific to your GNU/Linux distribution.\nOne solution would be to install and run Paperwork in a Python Virtualenv until your distribution replace python-imaging by Pillow.\n. I think you forgot to install libjpeg-dev before installing Paperwork and Pillow (see the readme). So Pillow was compiled without jpeg support, and jpeg are heavily used in Paperwork.\n$ sudo pip uninstall pillow\n$ sudo apt-get install libjpeg-dev\n$ sudo pip install pillow  # (or just reinstall paperwork, it will reinstall Pillow by dependencies)\n. (it may actually be python-pip instead of pip on your distribution)\n. No problem, this one is actually my bad :)\nIf it is the problem I think it is, it should be fixed now (commit 0abdeea52e6db0ec04aff40210a15d5d00059418).\nIf it is still not fixed, please look for an exception before the error message. There is probably one.\nThanks in advance,\n. Anything new ?\n. I don't have anything new for you to test. However what was your last problem / error exactly ?\n. Someone just pointed out an error similar to the last one you gave. However he had another error before this one:\n\nERROR  paperwork.frontend.jobs        ===> Job IndexLoader:0 raised an exception: : Can't read format -111\n\nSo I'm going to suggest the same fix (/ workaround):\nTry:\n- stopping Paperwork\n- running 'rm -rf ~/.local/share/paperwork'\n- restarting Paperwork\n. Ok. I'm going to close this ticket then.\n. 05cd02d3d6b16e35fed5d474c3c202886c0c1754\n2abcec66daf027b89f265569700e31860fb73e8e\n5e068f1141dbfe7f0a082b5b94d519d23c2e6084\nf1aa66cd61ba67750e84a29ab935828c0b1216e7\n. c782b4223a27c9c995e7effd0e473c619e817171\n. fb68a6dc7eef50cbbcd00c7dd93859172f84e3d2\n. 31571b6f28049ba2f2ba15f8e460e80c0195fbdf\n. Plugins should be able to extend both frontend and backend.\nI guess a good way to go would be to make almost everything a plugin. It would make things more modular and probably much easier to add unit and functional tests.. Here is the master plan :-)\nThe following diagram represent the plugin and package hierarchy I'll implement (how plugins will register to each other). It does not represent plugin dependencies (which plugin will request which other plugin).\n\n. Random idea: Maybe a fake extra page ?\n. This mockup is pretty much what I had in mind. I was just thinking of maybe settings the background of the extra keywords to something like yellow (like Post-Its I guess), to make it really really clear they are no part of the scanned (not sure if it would actually be useful).\n. I don't think moving it up is a good idea. I don't want the memo / additional keywords to be too visible. It's a workaround for OCR bad results. Most of the time, it should be used at all.. > On my Brother DCP-8025D when using the flatbed Paperwork close itself without any warning\nHm, looks like libsane or pyinsane segfaulted.\n1) Does other scan software tools fine ? For instance is simple-scan ok ?\n2) If they are working, here is what you can try in a terminal:\ngit clone https://github.com/jflesch/pyinsane.git\ncd pyinsane\n./list_all.py\n./scan.py /dev/null\nlist_all.py will print a lot of informations regarding your scanner. I would appreciate it if you could paste them here in a comment.\nscan.py will try to scan a page. /dev/null will simply tell it to throw away the result (I just want to know if it works, and if it doesn't, whether there is any error message).\n\nWhen using the sheet feeder, only the first page is scanned and displayed.\n\nIf you clicked the button \"scan page\" (see the tooltip of the button), it is the expected behavior. There is no 's' to \"page\" ;)\nHowever, if you look beside the \"scan page\" button, you will see there is actually a menu attached to this button. In this menu, you will have an option to import a PDF or an image, and another option to scan multiple pages / documents in one shot using your flatbed (edit: I meant Feeder). If this option is disabled, since you have a flatbed (edit: I meant Feeder), it is a bug. Please report it if it is the case.\n\nI try to scan without OCR and the result was no page displayed.\n\nDid you disable it in the settings dialog ? Or did you remove all the OCR tools (tesseract) from your system ?\nI haven't tested disabing the OCR in a while, so it may actually be broken. But if you deinstalled all the OCR tools from your system, beware that it is not supported.\n. The fact that scan.py segfaults as well should make things easier to debug.\nHere is what you can do:\n```\n$ sudo apt-get install gdb python-dbg libsane-dbg libsane-extras-dbg\n$ cd [where you put pyinsane]\n$ gdb python\n\nr ./scan.py /dev/null\n(wait for it to segfault)\nbt\nquit\n```\n\nThe gdb command \"bt\" should give you the backtrace of the crash. It should, hopelly, help me figure out what went wrong.\n. I've pushed a fix in the script scan.py of Pyinsane. Can you retry it please ?\nIf it works, I'll do the same change in Paperwork.\n. I've pushed the same fix on Paperwork. Please tell me if you can scan now.\n. Can you retry with ./scan.py please ? (don't forget to run 'git pull' first)\n. I've already seen this exception. Sadly, I'm never able to reproduce it ... :/\n(and it's unrelated to your scan problem btw)\n. anything new with this issue ? Did ./scan.py work ?\n. Not really. These exceptions look like the result of another problem / exception. Is there another exception, at the top of the output of Paperwork, different from those ?\nAlso, just to be sure : did you update Paperwork lately ? (git pull ; sudo python ./setup.py install). I've fixed a bunch of bugs during the last days, so maybe this is one of them.\n. Actually, here is what you can do: In a terminal:\npaperwork 2> output.txt\nThen reproduce your problem, and send me the file output.txt. It should help.\nThanks in advance,\n. ping ?\n. Thanks for the output.txt.\nI think your installation is ok. I just can't see (yet) why it isn't working right :/\nI'll think about it.\n. Hmm:\nINFO   paperwork.backend.docsearch    Cleanup: Removing '/home/thierry/papers/20130704_2242_29/rotated.0.bmp'\nINFO   paperwork.backend.docsearch    Cleanup: Removing '/home/thierry/papers/20130704_2242_29/rotated.3.bmp'\nINFO   paperwork.backend.docsearch    Cleanup: Removing '/home/thierry/papers/20130704_2242_29/rotated.1.bmp'\nINFO   paperwork.backend.docsearch    Cleanup: Removing '/home/thierry/papers/20130704_2242_29/rotated.2.bmp'\n^ just so you know, your installation isn't up-to-date. These messages shouldn't appear with the last version.\n. Actually, I may have found what was wrong ( 83d4da00be1280eb023df2883aa4abdc274687d2 ) but since I can't reproduce this problem, you will have to test it yourself. (it's commited on the testing branch)\n. Did you update Paperwork as well ? (cd ~/git/paperwork ; git pull ; sudo python ./setup.py install)\nBy the way, you shouldn't run git as root (no sudo).\n. Actually, no version has been released yet. The one being prepared is the 0.1. I guess I should rename it 0.1-git until it's actually released.\n. Regarding your feeder problem, would it be possible to get Paperwork's output please ?\n. And to answer your last question: no, updating to the 0.2 won't solve your problem. Currently, all the bugfixes go directly in the 0.1 (branch 'testing'). The 0.2 (branch 'unstable') only contains new functionalities, no extra bugfix.\n. Woops, I should have seen this one. Fixed : 7355dde40c7fec6e3a6c6ab38ff0f76b3412aa10 .\nI'm going to close this ticket. Please reopen if you still have problems.\n. Wooopppps.\nThanks :)\n. Fixed by 262b4b012b24ecde0c152599032f06789ebe88af\n. I'll use http://docs.python.org/2/library/os.html#os.tempnam << $TMPDIR and fall back on /tmp\n. Actually, while examining the code, I just realized that ... I don't need temporary files in a first place ... (not in Paperwork itself anyway) . I think it's just an old remain from the past.\n@Glandos :\n1) I'm not using pyxdg (yet). I was looking to use it. It was to find the preferred program to open a directory (Nautilus, Thunar, etc). Unfortunately, I didn't find any method in pyxdg for that. Right now I'm using os.system('xdg-open ...'), and let's face it, it's ugly.\n2) I had a look at the XDG specs ( http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html ). The closest thing I could find was $XDG_CACHE_HOME. However it's for cache files, not temporary files. (And actually, thumbnails should be in $XDG_CACHE_HOME --> new ticket : #202 ).\n. Fixed by:\nf68dff2e16e23f4b541570787aa802342e6c5aec\n83cd4bafb4888a400db8c745f461158257cc7863\n8ed553b0587aa65785097630b5e40c0180691b35\n. I think 0bc5bbbb33e910e0843a6613e10f6db9d765f496 should fix it.\n. Fixed by 04ceaa34cafb3e8b68d78fa22b18b420ebbca88c\n. Maybe store them in a sqlite db ? Or store the thumbnails directly in the whoosh index?\n. You make a valid point regarding privacy. However, thumbnails are not meaningful data, they are just caching, and so I think they should be put apart.\nCurrently, one of the problem is that when using a program like SparkleShare or Owncloud to synchronize the documents on many computers, you also end up synchronizing the thumbnails, which is pretty pointless.\nAlso, thumbnails end up included in backups as well, which is also pointless.\n. I wonder whether it would make sense to also to consider the index as cache.\n--> we would have the documents in ~/papers (or any other places), and all the data/index/stuff in ~/.cache/paperwork .\n. > (and often is, quand Pw perd les p\u00e9dales :-p )\nI just feel the need to say that when I develop Paperwork, I quite often crash my ~/.local/share/paperwork and delete it. So when I use it \"normally\", it's usually rebuilt from scratch, fresh and clean, and I really rarely have issues with it.\nTherefore, while I understand it may be a burden for you, I would really appreciate if you could open a ticket every time it happens to you (with the logs from the diagnostic dialog if possible). You can just make a ticket with the title \"Pw doesn't start\" and just put the logs in it, I will take care of the rest. Otherwise it will just keep happening to you and others :/. I think I will move the index, the label guessing data, and the thumbnails in ~/.cache.\nHere is my reasoning:\n- the Whoosh index contains sensitive data and it may be considered caching\n- the label guessing data contains sensitive data  and it may be considered caching\n- thumbnails can be considered sensitive data, and are clearly caching\n- ~/.cache (like ~/.config) is known to contain potentially sensitive data\n- ~/.local/share shouldn't really contain sensitive data. AFAIK, it's usually used for things like data files downloaded from Internet (video game data files, OCR training files, etc). In other words, things that are part of the program itself\n- I agree that putting some data in ~/.cache and some other in ~/.local/share makes it more complicated to manage from a security standpoint. So from now on, I'll use ~/.cache for things related to documents, and ~/.local/share for things downloaded from Internet (see maybe #572 for instance)\nI may be wrong, so feel free to correct me if so.. Fixed by\n74f627ccf1d8bf070a2d7643e85ff24176b61b27\ne518c184fb55bb5725f885397ece96369e36a5da\n. Hm, do you often click on an already opened document/page ? :)\nI guess it's easy to fix --> testing. I think kigeia has even already fixed it in the unstable branch.\n. Fixed by 2cad7b286fb89915e07f3ab2ef63d58fc517af84\n. Can't reproduce\n. Actually ... happens when a document is deleted before a new one is scanned.\n. Fixed by 25aa52a3318b2779482cb22f766de8b49e5b5f51\n. Fixed by 4adf101dd9ea719c9c0ccccff7417182cfbfec42\n. Also: my bad, sorry for that.\n. Actually, it's not.\n. Done, except for the settings dialog screenshot. I can't do this one from work.\n. 06b28b361daf9724d4584d8d232ac9515b88dc43\n. It will require a custom cell renderer\nNot to myself:\nhttp://stackoverflow.com/questions/8274149/custom-tree-cell-renderers-in-gtk-how-to-get-cell-data\n. Done by:\nebedcbae3be36e5335809d84c88ab3f699bda768\nbd7cda4f2e354fe11a22596440e2a474d80dffc3\nb6bc9cdc9342aa7c2426df65133944137c15c402\n. While redesigning the label editor : having a preview of the label would be nice\n(maybe even see how it would look in the whole label list ?)\n. Good point\n. By the way, I'm curious regarding the exact use cases: do you have examples of when you picked a color from a document?\n. Fixed (very nicely ;-) ) by Mathieu Jourdan in the unstable branch\n. Hm, good use case. What could help you then is a color picker (see Gimp color selector for instance). I've added a ticket for 0.4\n. Hm actually, I'm wondering if it was not already in 0.2.x. In that case, it would be a regression --> 0.3.0. Let me check\n. Ok, reproduced here with a PDF of 250 pages.\n. Fixed in branch 'unstable' by bbc88b3f4bf642f4e3c758a157c03344c0e17fe9\n. > $ sudo pip install \"git+git://github.com/jflesch/paperwork.git#egg=paperwork\"\n\nThis command will install Paperwork and tell you if some extra dependencies\nare required. (_note that the dependencies list may be drown in the\noutput ... :/_)\n\n(from the README)\nIn this specific case, you're missing gir1.2-poppler-0.18 .\nHowever, there are probably other missing dependencies, so please rerun 'sudo pip install \"git+git://github.com/jflesch/paperwork.git#egg=paperwork\"'. Somewhere in the output, it should give you an apt-get command to install all the missing dependencies.\n. You mean like https://github.com/jflesch/paperwork/archive/0.1.tar.gz or do you need something more specific ?\n. No problem. I've added a link to the archive at the end of the README.\n. By the way, if you plan to make and maintain an ArchLinux package, I think it would be best if you subscribe to the mailing-list. I announce the new versions on this mailing-list. Other than that, it has a very low traffic for now. (in case later it becomes more active, I would create a separate mailing-list for announcements).\n. Thanks :)\n. I think what we need to do first here is to define the list of commands to add to paperwork-shell.\nSo right now, I see an option to import a file (something like paperwork-shell import [--guess_labels] <file_or_folder>.\nI guess I could also add quite easily:\n- [x] paperwork-shell search <keyword_1> [<keyword_2>, [<keyword_3>, [...]]]]\n- [x] paperwork-shell show <document_id> [<page_nb>] (or paperwork-shell dump <document_id> [<page_nb>] ?)\n- [x] paperwork-shell delete <document_id>\n- [x] paperwork-shell guess_labels <document_id>\n- [x] paperwork-shell add_label <document_id> <label>[,#<hex_color>]\n- [x] paperwork-shell remove_label <document_id> <label>\n- [x] paperwork-shell rename <document_id_original> <document_id_new>\n- [x] paperwork-shell switch_workdir <new_workdirectory>\n- [x] paperwork-shell rescan (scan the work directory for changes)\nDo you see anything else to add ?. Right now, there is already paperwork-shell scan. But it's quite limited (just scan one page, put it in a new document and quit)\nI guess it could be improved too.\nedit: doesn't quit yet. It will in 1.1.0.. Nice :). Also:\npaperwork-shell exportall [folder] : For those who are bored of Paperwork and just want everything turned into PDF.. search : https://github.com/jflesch/paperwork-backend/commit/a34a0323d8d3b4fffb098b6e8b19a11bec7a9949. dump: https://github.com/jflesch/paperwork-backend/commit/54eff593f828ce9b0d92dbbd8684afb94557f25f. switch_workdir: https://github.com/jflesch/paperwork-backend/commit/3f3d7230becc3d6beb49f5d245dd4950c572ac65. rescan: https://github.com/jflesch/paperwork-backend/commit/45b09d406faff9e0753919b01fa358acb552a896. show: https://github.com/jflesch/paperwork-backend/commit/ec258dbfd2e96144f141e44a400d0f3dff29f98c. import: https://github.com/jflesch/paperwork-backend/commit/f641bb21da688c7b80be91fa93f557bbbf7add8a. delete_doc: https://github.com/jflesch/paperwork-backend/commit/a67b45f3f875b622678758289827bd64a6464fe5. guess_labels: https://github.com/jflesch/paperwork-backend/commit/52f12ab96c45e7449df1a9668fc07a72a7b2f52b. add_label: https://github.com/jflesch/paperwork-backend/commit/e0476818c854e6d9c0d1c9ec56e192b230696d93. remove_label : https://github.com/jflesch/paperwork-backend/commit/e2d4d04ab6029dd25fe0b64b600f4619aa19b1ec. rename: https://github.com/jflesch/paperwork-backend/commit/d248ee032d9d5131db5b035350b1c5bf10a3f713. export_doc: https://github.com/jflesch/paperwork-backend/commit/1a2d4513e695df3c43bea2dbd152866cf8563148. export_all : https://github.com/jflesch/paperwork-backend/commit/12136e2360957e5ee6e2c36d257b6cb461005deb. I think I have implemented all the command listed previously. I'm going to close this ticket. If you see any missing command, please comment and I will reopen this ticket.\n. Not raising an exception on empty directories makes sense.\nAnd the OCR should be run automatically when the files are imported (if PDF, only if they don't already contain text). If you want to run explicitly the OCR on a document (for instance PDF with crappy text), it will require a new command in paperwork-shell.\nBut please open new tickets for those feature (import of empty directory + ocr). This ticket was for Paperwork 1.1 and is closed.. 8e5c262b67ce769e22cc432203b8760d30a66ffc\n. Just so you know, the stable branch isn't supposed to change, except for documentation updates (README, etc) or when a new version is released.\nHowever, I guess this change is somehow documentation-related, so I'll accept it.\n. By the way: thanks :)\n. Good point. Fixed :)\n. I think it would be best if I split the installation instructions per distribution. There are obviously too many differences (for instance, Pip command is 'pip' with Debian, but 'python-pip' with Fedora ...).\nI'll see what I can do.\n. I've splited the instructions by distributions. However, since I'm lazy and since there is an AUR package, for now, I've simply redirected ArchLinux users to this package.\nI still have to improve the \"manual installation\" part. I'll install an ArchLinux VM later to do it.\n. I'm ok with the changes, however, can you resend this pull request for the branch 'unstable' instead of 'stable' please ? The branch 'stable' is frozen.\n. Perfect. Thanks :)\n. Merged manually: src/paperwork/util.py doesn't exist anymore in unstable, but the changes were already applied in the new files.\n. Guess I'll have to add an option \"source\" in the settings dialog :/\n. Done (branch 'unstable').\nScan source can now be selected in the settings dialog.\nPlease reopen this ticket if you have any issue with this feature.\n. \"Scan from the feeder\" is currently broken in unstable. There are 2 reasons:\n- My only scanner with a feeder is broken. I'm working on it, but I've decided to take the long road to fix the broken piece : http://www.youtube.com/watch?v=ZXQfUhao0ss\n- I will work on the multiscan dialog ( #270 )\n. (by the way, sorry, I should have told you)\n. The backtrace doesn't match the current source code.\nI think you're not up-to-date. Can you please run 'git pull', reinstall Paperwork, and try again please ?\n. Afaik, it's the correct way to remove it. The only thing is, you may have to run this command many times (don't ask me why).\nAre you sure your repository is up-to-date ?\n. (sorry for the late reply)\nOnce you've uninstalled Paperwork, can you make sure there is nothing left of it in /usr/lib/python2.7 or /usr/local/lib/python2.7 ?\nIf so, and if you still have an issue, can you paste again the output please ?\n. Pyinsane is not up-to-date on your system. You're using 1.3.4. The latest version 1.3.7.\nPaperwork testing requires at least the version 1.3.6 (and I strongly recommand the 1.3.7).\nI've updated the setup.py of Paperwork to force the install of Pyinsane 1.3.7. Running again \"sudo python ./setup.py install\" should solve this problem.\n. My bad. I broke something in Pyinsane. I've just released Pyinsane 1.3.8 including a fix for that.\n. Nah, don't worry about this warning. Lineart mode is basically black&white. If it were the mode you're using, you would have seen it :)\nI'll try to see if there is anything specific to do to support duplex feeder using Sane.\nIn the meantime, can you tell me if your scanner already works fine with simple-scan and/or xsane please ?\n. (Someone opened ticket #318 specifically for the recto-only problem)\n. I don't like the idea of adding an option in the GUI. Adding option after option is the best way to end up with a bloatware (see Eclipse for reference).\nWhat about disabling the OCR (see the language list in the settings dialog), doing your scan(s), and then using the menu \"Document\" -> \"Advanced\" -> \"Redo the OCR on (all) the document(s)\" ? Isn't it good enough ?\nOtherwise, I guess I can add an hidden option in the configuration file and add it to the tips, but I'm really not at ease adding an option in the settings dialog.\n. > What would it be with a single-core Atom CPU ?\nI have a dual-core Atom CPU on one of my computers, and even without using Paperwork on it, I'm about to throw it by the window (this godd_mn thing is awfully slow for _everything*). I think they may be a good reference to test GUI smoothness and reactivity when it comes to document reading, but I don't think anybody will be crazy enough to use them for OCR.\nAnyway, I understand your point but I'm just not at ease with adding an option that will become obsolete simply as the years pass. Please keep in mind that every time you think \"meh it's just another option in the GUI\", God kills a kitten and the program becomes more bloated like Eclipse ...\nAnyway, your point makes sense. I'll see what I can do. I'm thinking maybe giving the option in the settings dialog but with the most optimal value preselected + tagged as recommended (1 core = no orientation detection ; 2 cores = 2 angles detection (0-90 degrees) ; 4 cores = 4 angles detection (0-240 degrees).\n\nSo, if someone has a documents collection like mine (759 documents, 2319 pages) on a Core 2 Duo like I had until this month, your solution to \u00ab OCR takes 2 minutes for each page when scanning a new documents, it could be twice as fast \u00bb is \u00ab scan a new document then rescan all your 2319 documents, taking 4638 minutes \u00bb ?\n\nIn this specific context, I was thinking more of the option \"Redo the OCR on the document\" than \"Redo the OCR on all the documents\".\n. (hm, it will be hard to make the meaning and the use cases of this option clear ... :/)\n. Done (branch 'unstable')\n. When scanning, Paperwork has no concept of page format. It only gets an image of <W> pixels by <H> pixels.\nHowever, there maybe an option - specific to your scanner - that Paperwork should set on your scanner to get the full picture. Here is what you can do to help me:\n```\n$ git clone https://github.com/jflesch/pyinsane.git\n$ cd pyinsane\nturn your scanner on\n$ ./list_all.py\n```\nIt will list all the options that your scanner provides. Please send me the output of the script.\n. I can't find any option that could help for your problem. Unfortunately, it looks like a bug from libsane / the HP driver.\n. Can you post the URL of your bug report to Simple-scan here please ? I would like to see what they say.\n. Since it doesn't seem to be a Paperwork bug, I'm closing this ticket (I'm closing all the tickets I can, so I can see clearly what remains to do for the 0.2).\n. I think a build dependency was missing when building Pillow (a Paperwork dependency). The result was that Pillow was compiled without PNG support.\nHere is how to fix it:\npip uninstall pillow\napt-get install zlib1g-dev\npip install pillow\nI'll update the README.\n. README updated.\n. Same goes when we change a document date\n. There are 2 possibilities to fix it :\n- We keep the ProgressiveList as of now : we must find back the document in the whole list, and redisplay the list at least up to this element\n- We use a Canvas and display all the documents all the time.\nThis 2nd solution is clearly the best. But it's also the longest to implement right.\n. Note that #356 may actually take care of this problem\n. Fixed for now. We just need to see how it goes on small computers (RAM <= 2GB).\n. > Blue square when using cropping tool should be redrawn on mouse drag, not only on mouse release.\nThis one will be fixed when the branch 'wip-remake-scan-process2' will be merged in 'unstable'.\n\nZoom in/out is not well handled (only page width or 100% handled currently, if I am correct).\n\nCan you describe how you would like it to behave exactly please ?\n. > Blue square when using cropping tool should be redrawn on mouse drag, not only on mouse release.\nDone (branch 'unstable').\nHowever, there is still a lot of work on this dialog that must be done. (the current behavior is even a little bit weirder than before)\n. Zoom control added: 67d0efc846944a625793d1c029f191eddca25d10\n. 7563c8304cc856099fccc0c0cd610261163d002c\n. b310a302c489cc99cd161bdf19d1dce3aca54f1d\n. Example:\n\n. Option to add in the page editor.\n. In Shotwell 0.18.1, see src/Photo.vala:Photo:enhance() (~L4317)\n. Shotwell : src/ColorTransformation.vala:AutoEnhance.create_auto_enhance_adjustements()\n. https://pypi.python.org/pypi/colorcorrect\n. https://github.com/jflesch/libpillowfight\n. ca608892b32125ddeed10ca781b9b41e484b29ab\n. I agree with all of your points, except:\nAuto advance to next field: I hate when forms do that. You make a typo, it goes to the next field field. A lot of people watch their keyboard when typing instead of their screen. So they don't see that they are actually on the next field. Then you have to do <shift>+<tab>, which always feels like an uncomfortable shortcut to me, whichever keyboard I'm using.\nI'm going to stick with a limited length field + no auto-advance.\nAlso, a few notes for myself:\n- Keyboard shortcuts : related to #227 (Update: or not)\n- Also I'll have to make sure that 'tab' switch to the next field correctly.\n. Quick note: there is already a button in the toolbar\n. Keyboard shortcut: Ctrl-E: 8498ca76550bbde45108bd7deed50b0e230e29d2\n. Extra digits in each element of the date: 129c98787ed90fa8c9860b9c0bc06e449e793296\n. Automatically turn 2-digits years into 4-digits years: 01368b5eb5059d77eb7de8ee49545240dccb4e01\n. Pressing return on one of the element of the date will validate the dialog: 773e66ee8e5c593bfcdb14c66e68b8beeacafb99\nI think that was the last one :)\n. Hm, the driver of your scanner probably returns the resolutions in a weird way. It's not the first time I've seen this kind of problem.\nI need you to do the following:\n```\n$ git clone https://github.com/jflesch/pyinsane\n$ cd pyinsane\nturn your scanner on\n$ ./list_all.py\n```\nIt will list all the options provided by your scanner (including the resolution) and all their constraints. Can you give me the output of this script please ?\n. Woops, it was actually a regression. Darn.\nFixed by 5df66cd98ee5a7f6c486b2b0afb84bd1a260c3e5 on the branch 'unstable'.\n. Can you confirm that the fix is working please ? I'm thinking of releasing a version 0.1.1 with this fix, but I have no scanner returning the accepted resolutions like yours.\n. For now, I would advise that you try the branch 'unstable'. Unfortunately the installation process has already evolved quite a bit between the 0.1 (stable) and the 0.2 (unstable). You will have to re-read the README.\nIf TL;DR:\n$ sudo apt-get install zlib1g-dev libjpeg-dev libblas-dev libatlas-dev liblapack-dev gfortran g++\n$ sudo pip install numpy scikit-learn\n$ git clone https://github.com/jflesch/paperwork.git\n$ cd paperwork\n$ git checkout unstable\n$ sudo python ./setup.py install\n. By the way, if you decide to backport the patch, I must tell you that the target file has been moved between 0.1 (stable) and 0.2 (unstable):\n- 0.1 : src/paperwork/frontend/settingswindow.py\n- 0.2 : src/paperwork/frontend/settingswindow/init.py\n. ERROR  paperwork.frontend.mainwindow  Error while scanning: <type 'str'>: \nERROR  paperwork.frontend.util.jobs    0: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/jobs.py: L  159: _run\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init__.py: L 1270: do\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  188: scan\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  137: __init__\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L   53: wait\n^ This one is actually a regression in Pyinsane. I just fixed it (pyinsane 1.2.1). To fix it:\n$ sudo pip uninstall pyinsane  # you may have to do it many times if you have old versions installed\n$ sudo pip install pyinsane\n. > It looks like the double-sided scan of the ScanSnap scanner isn't supported by PaperScan 0.2 unstable.\nKnown issue: #220\n\nSegmentation fault (core dumped)\n\nKnown issue: pyinsane/#1\nI think most of your other problems may be related to the regression in Pyinsane.\n. ERROR  paperwork.frontend.mainwindow  No scanner found !\nERROR  paperwork.frontend.util.jobs   ===> Job SingleScan:0 raised an exception: <class 'pyinsane.rawapi.SaneException'>: <class 'pyinsane.rawapi.SaneStatus'> : Data is invalid (4)\nERROR  paperwork.frontend.util.jobs    0: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/jobs.py: L  159: _run\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init__.py: L 1260: do\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/backend/config.py: L  359: get_scanner_inst\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  176: _get_options\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L   53: wait\n^ This exception is normal. It is actually handled (a Gobject signal is sent) and then reraised. I do it because the exception caught is a bit too generic, so I prefer have the whole info anyway.\nINFO   paperwork.frontend.util.dialog Showing popup !\n/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py:511: PyGIDeprecationWarning: The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\n  warnings.warn(\"The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\", PyGIDeprecationWarning)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/dialog.py\", line 25, in popup_no_scanner_found\n    message_format=msg)\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py\", line 519, in __init__\n    **kwds)\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py\", line 450, in __init__\n    self.set_transient_for(parent)\n  File \"/usr/lib/python2.7/dist-packages/gi/types.py\", line 113, in function\n    return info.invoke(*args, **kwargs)\n^ Fixed:\n6bd73a403630297539400501eb8e807eca2eb925 : depreciation warning\n37752fe98412e0d54b102819899ef93f7d951d9f : the popup \"no scanner found\"\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in <lambda>\n    return (lambda data: callback(*data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init__.py\", line 3362, in on_single_scan_error\n    self.refresh_docs({self.doc})\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init__.py\", line 3569, in refresh_docs\n    idx = doc_list.index(doc)\n^ Fixed : 3792daef814bfb81ad96b079b5364cdbd463c038\nI think the remaining exceptions / errors are probably the result of these ones.\n. > (btw do you prefer me to open them as separate issues on github ?):\nYes, I would prefer, because we are very far from the original issue now.\n. > - Start\n\n\nConfigure Epson as scanner\nPress Scan button\nSan worked\nDelete scanned document\nEnter configuration again. No scanner is proposed anymore.\n\n\nI need a scanner to try this one. I don't have one right now (I'm not at home). I'll try it tomorrow evening.\n. To upgrade:\n$ git pull\n$ sudo python ./setup.py install\n. Fixed by f63bc3acdc76ca43a3a8a81c605335cf40508335\n. Any news ?\n. Traceback (most recent call last):\nFile \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\nself.set_mouse_cursor(\"Normal\")\nFile \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\nassert(self.__busy_mouse_counter >= 0)\nAssertionError\n^ This assertion is usually the result of a previous error / uncatched exception. Can you look higher in your log file and see if you can find the first exception please ?\nI think you can also get it by running Paperwork from a terminal. It will avoid flooding your run.log.\n. ping ? anything new ?\n. Regarding list_all.py: Please keep in mind all my code is for python2.7, and ArchLinux uses by default Python 3. So the correct command would be:\n$ python2.7 ./list_all.py\n. That's weird : scanimage -L reports only one device, but Paperwork obviously get 2 : \n- [Noname Hercules Dualpix Exchange] -> [v4l:/dev/video0]\n- [Canon CanoScan N670U/N676U/LiDE20] -> [plustek:libusb:005:012]\nAlso, there is an uncatched exception when it tries to get the available resolutions of each one. I assume it's normal for the first one. For the second one, it's a known bug, and it has already been fixed in the branch 'unstable' (see #230).\nIt's probably why your scan is cropped too small.\nPlease try the branch 'unstable' and tell me if it works better for you:\n```\n$ git clone https://github.com/jflesch/paperwork.git\n$ cd paperwork\n(system-wide installation)\n$ sudo python ./setup.py install\n```\n. > ImportError: No module named PIL\nHm, I have a felling you installed Paperwork and all its dependencies for Python 3 instead Python 2.7.\nI think you must also call \"pip2.7\" instead of \"pip\" to install everything for python 2.7.\n. Hm, did you try the branch 'unstable' as I suggested ? As I said, your settings dialog's bug is probably already fixed, and this is probably what caused the wrong cropping of your scans.\n\n\n    $ git clone https://github.com/jflesch/paperwork.git\n    $ cd paperwork\n    $ sudo python ./setup.py install\n\n\n\nERROR  paperwork.backend.img.page     Reason: Dictionary for language 'fr' could not be found\n\nYou're missing the french dictionnary for python-enchant. It will make orientation detection less reliable. I think install myspell-fr[-gut] will solve that.\n. \nWoops, I meant:\n\n    $ git clone https://github.com/jflesch/paperwork.git\n    $ cd paperwork\n    $ git checkout unstable\n    $ sudo python ./setup.py install\n\nSorry.\n\n. Argh, I forgot a few things required for the branch 'unstable':\n$ pacman -S zlib-dev libblas-dev libatlas-dev liblapack-dev gcc-gfortran g++\n$ sudo pip-2.7 install numpy scikit-learn\n$ git clone https://github.com/jflesch/paperwork.git\n$ cd paperwork\n$ git checkout unstable\n$ sudo python-2.7 ./setup.py install\nYou may have to adjust the package list for pacman. I don't know the exact package names for ArchLinux.\n. Did you reopen the settings dialog and redo the scanner calibration before scanning ? If you don't, the old (crappy) settings will still be used.\n. By the way, when you do the scanner calibration in the settings window, is the scan correct ? Does it display the whole content of your scanner without cutting anything ?\n. Ok, this is not at all the problem I had in mind :/\n. Can you retry running\n$ python2.7 ./list_all.py\nplease ?\nSince you have Paperwork obviously running, it shouldn't complain about missing modules.\n. Option: br-y\n  Title: Bottom-right y\n  Desc: Bottom-right y position of scan area.\n  (...)\n  Constraint: (0, 19464192, 0)\n  Value: 4994498\nOption: br-x\n  Title: Bottom-right x\n  Desc: Bottom-right x position of scan area.\n  (...)\n  Constraint: (0, 14090240, 0)\n  Value: 6750208\nOk, the problem is clearly here. Paperwork doesn't set these values. I'll try to fix it by the end of the week.\n. Fixed by a3efa17252764dcc92e830620b2cb18a58a1ec29 on the branch 'unstable'.\nSorry for the delay\n. Wow, I made a nice mess there. Thanks for reporting it. It's fixed.\n. Done\n. Since I will probably have to code a custom widget for that anyway, I could have some fun at the same time:\n- show the scan in real time\n- once the scan is done and the OCR start, show previews of the scan with all the orientations that will be tried (split the image area in 2 or 4 pieces)\n- at the end of each OCR process (1 for each orientation), update the preview to show that the OCR process is finished. (add an icon on it or something)\nThis will probably be a good opportunity to clean the code (move all the scan thingies in the frontend for instance)\n. I tried using Libclutter for the animations. With big textures, Cogl (which is used by Libclutter) is just too unstable. Also the behavior / capabilities seem to vary depending on the graphic card.\n--> I'll do my own rendering with Cairo.\n. Done\n. I cannot reproduce the problem here. My mouse scroll wheel works equally well with all the scrollbars.\nLet's try to isolate the source of your problem:\n- what GNU/Linux distribution are you using ?\n- can you try in another WM ? (I'm using Gnome 3)\n- have you this problem in other Gtk+ applications ? (I guess Gimp is the text book example in this case)\n. Good idea, thanks :)\n. Wow. Your index is awefully big. This is probably what causes your slowness problem.\nAs a ref, here is mine:\n```\n% scripts/stats.py\n(...)\nStatistics\n==========\nTotal number of documents: 721\nTotal number of pages: 1240\nTotal number of words: 6445166\nTotal number of unique words: 47937\n===\nMaximum number of pages in one document: 13\nMaximum word length: 103\nAverage word length: 4.555216\nAverage number of words per page: 1141.046774\nAverage number of words per document: 1962.410541\nAverage number of pages per document: 1.719834\nAverage number of unique words per document: 757.402219\n% du -sh .local/share/paperwork/*\n21M .local/share/paperwork/index\n156M    .local/share/paperwork/label_estimators\n```\nHere is what you can try:\n$ rm -rf ~/.local/share/paperwork/index\nThen start Paperwork. It will force Paperwork to rebuild the index. Hopefully, it wiill be much smaller. Please tell me if it works.\nUp to now, I've assumed that Whoosh optimizes the index automatically from time to time. It seems it's not true. If it isn't, I will have to force it to optimize/rebuild the index from time to time :/\n. ping ? anything new ?\n. This is weird.\nI'm going to need additional info:\n- what GNU/Linux distribution are you using ?\n- what is the version of python-whoosh installed on your system ? (the one installed with the package manager of your distribution (if installed with it) and the one installed with pip (if installed with it ; 'pip show whoosh')\n. I don't get it. I'm also using Debian unstable and stable with Whoosh 2.5.2,  I have more documents and more pages, and everything is working fine here :/\n. By the way, you mentionned \"Paperwork unstable\" in the title of this bug ticket. Are things working fine with Paperwork stable ?\n. > Removing this document and restarting paperwork makes the index go from 1.1G to 7M\nIt remains weird : there are people with documents made of more than 200 pages and no problem. I have a test set with a PDF of 245 pages, and my index is still only 23MB big.\nThere must be something special regarding the document you removed. Can you look at the content of its .txt .words files and see if there is something unusual please ?\n\n(By the way, the script is outputting a wrong value for Total number of words. It should print nb_words instead of total_word_len)\n\nFixed ( 8ad6549b3a8871d1bbde83008255f0863fae7636 ). Thanks.\n. Actually, the word count is approximate : it ignores all the words < 3 characters. In other words, it could mean there are a lot of very short words in one or many pages of the document.\nYou can problably find them just by looking at the size of .words files.\n. Hm yes, the .words files sizes are normal.\nWould it be possible for you to send me some of the .words files that cause the problem please (if possible most of them), or are they private/confidential ?\n. In case it's private,/confidential I've added a script in paperwork/scripts/ that may help: obfuscate.py\nIt takes an image document (not a PDF !) as input, and generate another one with similar properties:\n- page images with the same size than the source documents but no content\n- word boxes have the same position than the original ones\n- the document alphabet is randomly changed (allows to keep the indexation properties while obfuscating the content)\nHowever, the obfuscation used is not safe, so you still would have to censor the confidential keywords in the .words file manually before running it.\n. Thank you very much. Thanks to you, I can now reproduce the problem. I understand now what you meant by \"deadly slow\" ... :)\nI'll have a look during next week and see if I can figure out where and when things go wrong.\n. I've been adding your document page by page to an empty index.\nThings seem to start going wrong at the page 14th:\n- p14: the index goes suddenly from 400K to 500K.\n- p15: 500K --> 788K\n- p16: 788K --> 1.3M\n. Actually, it's a regression between 0.1 (stable) and 0.2 (unstable):\n- 0.1 index : 264KB\n- 0.2 index : 2.4MB\n. The text extract from the document is strictly the same. It makes 280618 bytes each time. It means the difference comes from the index structure/configuration\n. The problem comes from the (new) 'docfilehash' field in the index structure.\n. Fixed by b38285ae05c0ddc015646e929b0c858447d2d0f8\nOnce you have updated Paperwork, I suggest you rebuild you index to get ride of all the crappy hashes:\nrm -rf ~/.local/share/paperwork\nThank you very much. You were really helpful.\n. Here is what I think at the moment of this idea:\nIt sounds good on the paper, but it's a feature that would be used only by 0.001% of the users. I really don't feel like polluting the GUI with the required options for a feature so few people would use (and don't even need).\nI can't even figure out how Paperwork would differentiate the emails to use from the spams.\nI think it would be best to simply implement #214 and let people script this the way they want. I don't think this feature has its place in Paperwork GUI.\n. What you describe is actually issue #94 \n. It's already recursive :-) (yeahh I know, I need to document that too). Ok, then it's a bug. I've opened a ticket: #546. 31309231348396dfe8d167f760a666011b904f17. Actually, It seems this behavior is not the same in all applications. For instance:\n- In Firefox, select a piece of text, and right click somewhere else, and you will get a menu related to the selected text\n- In LibreOffice, do the same thing, and it will unselect the text\nImho, Firefox's approach makes sense for users not very handy with a mouse. However since the thumbnails in Paperwork are quite big and so are hard to miss with the mouse anyway, I guess LibreOffice's approach would make more sense.\n. Actually, in unstable, the right click is not used at all anymore, so I guess it makes this ticket obsolete.\n. I'll also switch back the default value to \"Fit page width\" because \"Fit full page\" really annoys me.\n. Default already changed: bfd0c14750931690bf3879e840da4a0c71d7f180\n. f415d6c28d0a5480b8a705c8ca4752e2c45edc7e\n. A minimum size must be defined as well. Something like 400x300.\n. 8d1699bb0acc481dfa0a776c3dbf99073f06f5c7\n. Note that the policy in Paperwork is to never modify the imported PDF (it could mess signatures or any other weird-and-not-always-supported extension).\nHowever, I guess it could make sense to include the tags in the exported PDFs. (Export are currently done with cairo.PDFSurface).. Ok, I think I misunderstood this ticket.\nThe video you indicated talks about semantic tagging (like HTML), not lags/labels like I thought.\nTagging based on OCR output is a much harder problem.. In english next time, please.\nDid you run:\nsudo apt-get install gir1.2-poppler-0.18\nas suggested by the setup.py script ?\n. I wish I could, but it's not so easy:\nPoppler uses GObject Introspection. Libraries using GObject Introspection can't be installed with the usual setup.py/setuptools. Also, the script setup.py cannot be interactive (\"install\" is not its only option and usage), so it cannot run commands like \"apt-get\".\nI'm thinking about making another script : setup.py would still be used packaging and stuff, but there would be another script, \"install.py\". This other script could run the commands for you. However, right now, I don't have time for that. Hopefully, next month I will.\n. That's already what's done in setup.py. It even displays the command to run to install the missing dependencies.\n. 3a7a9d8def7a3cdc0a5128575cc7b1629e6e0729\n. Which version of Paperwork are you using ? 0.1 (stable) or 0.2 (unstable) ?\n. I'm asking because it looks like an issue already solved in 0.2 ( #232 )\n. From the stacktrace, it seems you're using 0.1.\nI think most of the problems you have are already fixed in the unstable branch (the future 0.2).\nI suggest you give it a try.\n. Can you try the unstable branch please ?\nAlso, can you make sure you use the latest version of Pyinsane ?\n$ sudo pacman -R pyinsane\n$ sudo pip uninstall pyinsane  # you may have to run it many times in case you have many versions installed\n$ sudo pip install pyinsane\nThere are a bunch of fixes regarding scanning in both.\n. If you still have problems after that, I'm going to need some informations:\n$ git clone https://github.com/jflesch/pyinsane.git\n$ cd pyinsane\n$ ./list_all.py  # I'm going to need the output of this script\n$ ./scan.py /dev/null  # and also the output of this one\nAlso, beware that the default branch in Git is the branch 'stable'. This branch always matches the last version released (0.1). If you want the last fixes, you must try the branch 'unstable' (will be the 0.2).\n. Anything new ?\n. Most of the fixes regarding scanners (if not all) should be in Paperwork 0.1.1. It will probably be easier for you to install than the unstable (0.2) version.\n. Ok, for the ADF, I see the problem. In the source list, Paperwork is looking for \"FlatBed\", and your scanner is giving \"Flatbed\". --> easy to fix (but don't ask me why HP drivers don't always give exactly the same name to the same sources ...)\nRegarding your resolution problem, can you give me the output of \"./scan.py /dev/null\" please ?\n. Darn, I broke Python 3 support in Pyinsane.\nIt's fixed now. Please run \"git pull\" and retry.\n. Just so you know, do not run it as root next time.\nAlso, it's weird, because it was able to set the resolution without any problem. It raises some questions:\n- Does your scanner work fine with simple-scan ?\n- Can you send me the output of Paperwork in the terminal when you scan something please ?\n- Can you describe as clearly as possible what you call a \"resolution problem\" please ? I have a feeling I'm not getting the whole picture yet.\n. When you say \"simple scan\", you mean \"simple-scan\" (the application), or \"single page scan\" (in paperwork) ? (I'm going to assume the later for now)\n. Just so you know, in the output, there are warnings saying you don't have any french dictionnary installed. You should install one (aspell-fr for instance). It will improve drastically the page orientation detection.\n. Ok, there is something really weird in the output regarding the cropping of the scan. I may have broken something. I'm going to have a look at it this evening (I don't have an ADF here at work).\n. > I believe tesseract-data-fra was enough. I will try with aspell-fr\ntesseract-data-fra is the training data for the OCR. But the resulting text is not perfect and didn't go through spell checking. So Paperwork uses Pyenchant (which can use Aspell afaik) to fix a little bit the spelling before guessing the orientation. (later, spell checking will also be used to improve searching)\n. The source selection problem should be fixed now ( 6e318de9fe7f399b76dca0ccf9dba71de764e983 ) in the branch 'stable'. Single page scans should now use your flatbed.\nAlso, there is something weird in the output of your Paperwork:\nThe single page scan is done at a resolution of 75, but the ADF scan is done at a resolution of 300. Which one did you choose in the settings ?\n. My scanner is toasted. I'll have to buy a new one. (luckily I have a spare one, but without ADF)\nIn the meantime, tomorrow, I'll see if I can figure out the bug just by reading again my code.\n. > When scanning with ADF, the ADF windows doesn't close after the end of the scan.\nFixed by 15551476c0ae4b8a0a9b80e1dfa9c957ecb05a34 in the branch 'stable'\n. Can you send me a copy of your ~/.config/paperwork.conf please ?\n. When you switch between branches, I suggest you run the following command each time:\nrm -f $(find . -name \\*.pyc)\n. You already provided all the info you could (thanks by the way). I haven't been able to find the bug just by reading the code, and my only scanner with a feeder is broken. I'm afraid you will have to wait for me to fix it or change (probably by the end of next week).\nIn the meantime, here is a workaround you try:\nI think it's more a calibration problem than a resolution problem. So you can edit ~/.config/paperwork.conf and remove all the \"calibration_xxxx\" values. Without calibration settings, Paperwork should then use the whole scan every time (however I don't know if it will be good enough for you).\n. ping ?\nDid you try the workaround I suggested above ?\nAlso, I have a new scanner with feeder now. I'm going to try to reproduce the bug this week-end.\n. I haven't been able to reproduce this issue (working mostly on the branch 'unstable').\n. Done in 366731445868f99f387736dd8ffc7abc6071e941\n. Just so you know, I would prefer if you could send this kind of patch to the branch 'unstable' next time (this is the main work branch).\nFor this time, I'm going to cherry-pick your commit into 'unstable'.\n. Done.\nThanks for your contribution :)\n. I will try it tomorrow.\nIn the meantime, just so you know, your Paperwork not up-to-date. The lastest stable version is 0.1.1, but in the stacktrace, you have \"(...)/paperwork-0.1-py2.7.egg/(...). (also the lines in the stacktrace don't match the 0.1.1).\nYou can try\nsudo pip uninstall paperwork\n(you may have to run it many times)\nand then reinstall Paperwork.\n. Maybe related to #244 \n. Looks similar to https://bugs.launchpad.net/ubuntu/+source/tesseract/+bug/1189995\n. What you can actually try is to run tesseract on an image with \"-l fra\" (for french), but without having the english data installed. If it works, then it's a bug in Paperwork/Pyocr. Otherwise it's a bug in Tesseract itself.\n. Actually, Tesseract is (or was) very annoying regarding arguments order.\nYou may want to try the following command: \"tesseract anyimage.jpg output_file -l fra\".\n. Ok then it's a Tesseract bug. However I think it still uses the french data for the OCR.\nYou can make sure of that by trying again, with the english data but without the french data this time. It should display an error saying it can't open 'fra.traineddata' this time.\n. Then you're fine :). Just keep the English data installed and everything should be ok.\nSince it's not a Paperwork or Pyocr bug, I'm going to close this ticket. Please reopen if you still have problems.\nYou should also fill in a bug report to the guys making your GNU/Linux distribution. They should then open a bug report upstream (and/or add a crappy patch in their own Tesseract package).\n. Looks good to me.\n. 2fa268b2ea09bea11c27fb64d1dfeeadb21c9543\n. For instance, it prevents new users from creating all the labels they think they might need at some point in one shot.\n. (to study ; still need to to figure out the method I will use to store the labels). https://code.google.com/p/tesseract-ocr/wiki/APIExample#Orientation_and_script_detection_%28OSD%29_example\n. @fdev31 : I will stick with the Tesseract feature (because I'm lazy)\n. Implemented: c4674db57150cdedbb037f898c23e97338c9d6e8\nRemaining to do: drop the option 'number of angles' in the settings window\n. Setting 'number of angles' dropped: 233a7ae1054463fee3e365f213202d02d2022f37\n. The main thing to figure out : this option won't be useful to most people --> So, yet another setting in the settings dialog, or just an hidden option in paperwork.conf ?\n. See #292 \n. Clearly, it won't be a visible option in the settings dialog.\nMaybe an hidden option in the configuration file.\n. Blocked by #257 \n. By \"custom workflow\", you mean \"soma workflow\" specifically, or something made especially for Paperwork ?\nPlease note that currently, scan+ocr workflow in the unstable branch of Paperwork is made by chaining Gobject signals (see unstable:src/paperwork/frontend/mainwindow/scan.py:ScanScene:scan_and_ocr() ; actually, I could even rename ScanScene into ScanWorkflow, it would be a much better name)\n. Please commit also the .mo file ( locale/de/LC_MESSAGES/paperwork.mo ).\nThese files are not generated at build/install time. It would add extra build dependencies.\n. Great. Thanks :)\n. @bignaux : I see no point in switching to Json. Anyway, this ticket specifically is about refactoring code, not changing the configuration syntax.\n. Moved from 0.3 to 0.2 : Many new options will be added to the configuration. It's a good time to cleanup.\n. Done: 109a51ca2aef0336835f3b3a38c2c2f984b8e3cc\n. You do realize I designed Paperwork as a fat client on purpose, right ? I want to keep things as simple to use as possible for the users. Installiing their own server is not simple.\n. Something that could help you:\nI've been thinking for a while to split Paperwork in two pieces : a library (basically the backend) and a GUI (the frontend right now). People could then reuse the backend for whatever they want without ever polluting my precious GUI :)\nAlso, regarding the jobs in the frontend : the backend is not thread-safe (depends on too many non-thread-safe libraries). Unfortunately, to keep the GUI as smooth as possible, I had to use threads. In the end, jobs in Paperwork are basically a workaround. Details are available here: https://github.com/jflesch/paperwork/wiki/Hacking-guide#thread-safety )\n. I think this ticket is related to #146 \n. Just FIY, #328 (split backend / frontend) has been done.\n. Fixed by 20e279214551f058bd23dd905769743f47efe5b0\n. Would be better to make appear the new document in the doc list as soon as the scan starts. It would allow to chain the scans of single-page documents easily.\n. 20e279214551f058bd23dd905769743f47efe5b0\n. Done in 794999e49cc4f8654e752b5c9325a2638017d58a\n. Also, they shouldn't be displayed when importing an image.\n. 78259e1316c1d175d5f746326783c2b3f8a7c1b1\n. Isofunctional with 0.1:\ne4a5af4f7de1a1a5d337868c1bb4808005f9ad68\nf948af94452edf60509574feb56d92ee0cf6576b\nc673705355f08f9f2fd6e2a98a2a4230d53747a9\nc29cd0d5d847449f785e03228edaa1c5b850402f\nae70d80fceb45c36acc980745d694b71c80eb03c\n171f623d49db6dc098ba4ff3643705574c8021f8\nb92083c1af3fe2e00320a813e957ded3c0e605e4\n. Done: fb5c9c1a16e3bc75c3d9c1f25ccfdc5fc64210d1\n. 756bdcf5738488cd32bc6b5f07749df1c598c83f\n. 7057433ecd5c884df9f39ef781b2b4a5c95b5bcb\n. Show all boxes: 85a68f13b38fd3664a397c5b3e1fb77e69ed99ce\n. Highlight searched keyword: 25e48997d06f2bf2074e1f503a777ab1a2983085\n. Highlight the word under the mouse: 2ba125cff414987c8ce6c0849800d39b5ea27c08\n. Show the word under the mouse: 736b3b3d3dd8ab8edca99330cad5eb12750a847c\n. 5a4fe1ba2254b4f0c6e827a534e8cb8b92944331\n. Fix: 4a96de117de0173409834ab357b88b5b5c950f49\n. To reproduce : select the feeder as source, but don't put paper into it.\n. Fix: When the scanner is not connected: c3032fd67a98cda87a7f69a08c37cf13b97b00c2\n. cac7ad16bc514d7410130d6922a483333df89358\n. e34dc5137c024dc3e9a6d35bd7b646a77ecc7ab7\n. Actually, it's my new scanner who doesn't provide this option at all :/\n. Seems to appear after 2 deletions.\n. Fix: bc5d55d3dfeded63b85252dd4067e8a2aaff2dee\n(kind of temporary, but since I'm a lazy ass, it will probably remain forever ...)\n. Most of the memory leak seems to come from the OCR step. If it's disabled, the memory leak is much smaller (and could actually be due to the way Python handle memory ?)\n. Not reproduced anymore.\n. *** BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nI have this one too. I haven't been able yet to spot from where it comes. Anyway, it hasn't caused yet any problem for me.\nCouldn't find conversion for foreign struct 'cairo.Context'\nLooks like a Gobject Introspection. I will install a Ubuntu 13.10 this week-end to see if I can reproduce this problem.\n. I've tried on a Ubuntu 13.10, and it works fine. I can't reproduce your problem :/\n. Ok. Good to know. I will try to add it to setup.py.\n. Done: c2ee84afd7b054a46cec93f32016177f2c608253\nThis is one ugly way to find if the package is missing .....\n. For those looking at this ticket when trying to install Paperwork >= 1.0:\nPaperwork has switched to Python 3, so now, the missing package you're looking to install is python3-gi-cairo (and not python-gi-cairo).\n. Yep, no formatting. The point is just to add keywords to the document, nothing else. (they are not even displayed when you open the document (yet)).\n. 4fbfa244b14e95f9e2b79cf17708dd19a8a8eec8\n. Good to know, but it's not a Paperwork bug. You should report it to Pillow devs. Obviously, on some 64bits systems, it seems they don't detect correctly that libjpeg-dev is installed.\n. Not reproduced.\n. Not reproduced.\n. Nltk was remove by commit d300d2628ae3fc3dc65a23deef793874d620883e\n. Word splitting can be done with whoosh tokenizers I guess.. I think it's a little bit soon to update translations in unstable but ok. I'm going to merge your changes. Thanks :)\n. This feature was already requested by someone, and I refused doing it based on the fact that it would pollute the settings window. As far as I know, there is no reason for anyone to select another mode than \"Color\". Unless you can give an example of why it could be useful to a lot of users, it will stay this way.\nI'm sorry, but you should have asked me before working on this feature :/\n. > Is your concern that adding UI elements for every option will be too much?\nYes, precisely.\n. > What about an advanced settings window that presents SANE detected options to the user?\nSorry but no. I don't want to add options that I won't be able to test / maintain regularly because I won't use them. There are already too many new options planned for 0.2 (hopefully I will be able to get rid of them at some point).\nThe closest thing I'm willing to accept are (possibly hidden) options in the configuration file. In other words, no GUI change.\n. As discussed on the pull request #291 , I won't accept this change.\nI will only accept it if you remove any change in the GUI (--> hidden option in the configuration file).\nAlso, please work on the \"unstable\" branch instead of \"stable\". \"stable\" is only for bug fixes.\nThanks in advance,\n. 5bfb82f9e3f18ffe4ccb8a8bd842ec95734842ba\n. 80719b53e602e40331c1087f5d6c2a967aa21a51\n. 1) What does \"scanimage -L\" returns ? (run it as a user, not root)\n2) When you run Paperwork from a terminal, when you open the settings window, is there any Python exception displayed at some point in the terminal ?\n. If 'scanimage -L' doesn't find your scanner, it means Sane doesn't either. If Sane doesn't find it, Paperwork won't either.\nIn other words, it's not a Paperwork problem, it's a Sane problem.\nI assume programs like \"simple-scan\" don't find your scanner either ?\n. Done: https://github.com/jflesch/paperwork/wiki/Test-list\n. (crappy) fix: 106764f947c678ea5c02d8778ae260c239a097db\n. Still to find : why the spinner goes crazy.\n. Still 100% on some anim. During OCR for instance.\n. Optim:\nae3719101a99ea8a5bb0eab8ebfc7937fe07c121\n7f243eee092083cf6da249dfc49ddbc0f0abbb74\nceac8879156a98db90003522cc65e4760ed6215e\n6e982d651ea6c06bb41638ffade8e6b5bd6d785a\n684695c5b2e25f9f659bfbc7782ea075cc9ba3d1\nHaven't seen the spinner go crazy anymore. --> \"Meh\".\n. Hm, it seems there is a folder \"admin\" in your work directory that causes problems.\nIt shouldn't happen / it shouldn't be a problem. I'll fix it when I'll have some time.\n. By the way, since it probably prevents you from starting Paperwork, there is a workaround : you can edit manually ~/.config/paperwork.conf and change the workdir.\nI suggest you start using Paperwork on an empty work directory if possible.\n. Fixed: 37a4b605b929a43a4bb0b5c046d9cf8dc7d67e7e\n. Fixes:\n651092d90fc8f24ea23b816c7d954dfa1579fa30\nc3cc42bc64629da85536135040500762289f5272\n. In the output you pasted :\nWARNING: Missing dependencies:\n      - Glade UI (python module: gi.repository.Gladeui)\n      - Poppler (python module: gi.repository.Poppler)\n      - Tesseract (python module: (none))\n      - Tesseract language data (python module: (none))\n. Just to be clearer, I suggest you try the following command:\nsudo apt-get install gir1.2-gladeui-2.0 gir1.2-poppler-0.18 tesseract-ocr tesseract-ocr-<your language>\n. Linux Mint added to setup.py : 3130b37c45363a360fa981ec865a31772e73ecd0\n. Works on the very first document opened, not the next ones.\n. cf8f02f5b5edcd256aeae3d79b2f08d5ad570ac7\n. Looks like a Cairo + Gobject introspection + Python bug.\nWorkaround : 587be6f750ed6d694a0762a967bb4f54d9aa213a\n. 99f51fd06b048e63b1a38df4a076c785df97fbea\n. 241d8f6d97b4833c48dfb8e2c6b94f096cc47c1a\n. PEP8:\nc4f1334e7a055b0abe8617f251574f6277e1f118\n171acb2aa68991559349a235e9d7f0f3596cc9eb\na8230b338cf9ed087aa8d951931baa8c5a9f0b36\n. Pylint:\na6e9787a8c4ec39194b9994bc6b0db1721775cd7\n. 4a41d4ad68bd5aeb5c487a38bb1da3a8c736a6ee\n. Can you run Paperwork from a Terminal please ? I need to know if there is any Python exception occurring at the same time than your problem.\n. Also, which version of Paperwork are you using ? Papework 1.x (the latest stable release), or Paperwork 2.x ? (still in testing phase)\n. Thanks.\nSo, I can now actually tell you it's not related to Archlinux. It's related to your scanner and its Sane driver (and a change I made in Pyinsane). Just so I know, which model is it exactly ?\nAnyway, in the KO case, I will need few lines above the exception as well (about 10~20 lines above).\nThanks in advance,\n. Ok, here are the lines I was looking for:\nINFO   paperwork.backend.config       Scanner mode set to 'Color'\nINFO   paperwork.util                 Setting scanner option 'source' to 'Flatbed'\nERROR  paperwork.frontend.mainwindow  No scanner found !\nINFO   paperwork.util                 Showing popup !\nERROR  paperwork.frontend.jobs        ===> Job SingleScan:0 raised an exception: <class 'pyinsane.rawapi.SaneException'>: Option is not active\nThank you very much. I'll try to fix that asap.\n. Fix in branch 'stable': d33fa42eb09592c872e5836c091c1ae1ccdff9bc\n. Fix in branch 'testing' and 'unstable' : 02d8a6a749d584e5d132c837309d86c493eacabf\n. The fix is now included in all branches, so I will close this ticket.\nIt would be best if you could test the branch 'stable'. Feel free to reopen this ticket if you still have problems.\nIn the meantime, I will prepare a version 0.1.3 including this fix.\n. I've just released the version 0.1.3. It contains the fix for your problem.\n. Hm, looks like a bug in pyinsane this time.\n. Pyinsane fix : https://github.com/jflesch/pyinsane/commit/898b260f69d50658a8f8696c17736eb854eaf3c2\nI've released Pyinsane 1.3.7. It contains this fix.\nHopefully, this time, it should work for you :)\n. You're welcome, and thanks to you too for taking the time to make a bug report :)\n. Not reproduced\n. Thanks :)\n. Hello,\nCan you please run Paperwork from a terminal ? There should be a Python exception somewhere in the terminal output when it does display the message \"Error while scanning\". Can you paste it here please ?\nAlso, which version of Paperwork are you using ?\n. The main error message is this one : \nERROR paperwork.frontend.jobs ===> Job SingleScan:0 raised an exception: : : Access to resource has been denied (11)\nLooks like a permission problem.\n. I have no idea.\nHowever, isn't your network scanner protected by password ? If so, I think Paperwork should have prompted you for a password, but it's not (yet) implemented (I don't have any network scanner for now)\n. Do \"scanimage -T\" work ?\n. Unfortunately, I don't have any network scanner for now, so I can't test this by myself. I'll try to set one up when I have time. However, I don't have much free time currently, so it may take a while.\n. Actually, your last problem may be solved by using Paperwork 0.2 (currently in the branch 'testing').\nIn 0.2, in the settings dialog, you can select which source Paperwork should use when you click 'scan single page'.\n. Yep, easy. Run \"pip uninstall paperwork\" (you may have to do it many times, don't ask me why).\nThen, once Paperwork is uninstalled, here is how to install the 0.2:\ngit clone https://github.com/jflesch/paperwork.git\ncd paperwork\ngit checkout testing  # should already be the current branch, but let's play it safe\nsudo python ./setup.py install\n. Hm, weird. I suggest:\npip uninstall scikit-image  # maybe many times\npip install scikit-image\n. You're welcome\n. I don't use Windows. I'm not planning on porting Paperwork to a platform that I don't use. Also, anyway, I don't really like the idea of encouraging the use of fully proprietary software.\nHowever feel free to try to port it. If you need help, don't hesitate to ask me questions. I'll do my best to answer you.\nAlso, please note that if you want to port Paperwork to Windows, you will have to port Pyinsane and PyOCR as well.\n. I'm closing this issue. Feel free to reopen it if you intend to work on it.\n. Sorry, I lost this ticket so I forgot to update it up to now. Anyway, I've decided I'll work on a Windows version, however, I'll try to monetize it (see #488 and https://openpaper.work/ for details).\nI'll keep this ticket close as #488 is about the exact same thing.\n. It's a Pyinsane issue that should already be fixed. Please make sure you're using Pyinsane >= 0.2.3.\n. My bad, I meant PyOCR, not Pyinsane :(\nSo yeah, please make sure you're using Pyocr >= 0.2.3.\n(sorry for that)\nIf you still have this issue, even with an up-to-date version Pyocr, please look in the output if there isn't a Python exception somewhere. It may help me find from where comes the error.\nBy the way, even after trying to learn German for 10 years, I'm still not really able to understand it :/. So, before running Paperwork from a Terminal, can you please set LANG=C (--> \"export LANG=C\") ? It would make it easier for me to understand the error messages (and also to grep the code to find from they come from).\n. What are you trying to do ? oO\n. 5c3f54e91dfafbea6ff98d4c76cfec1cbec7b0d7\n. Hm, ok, but you do know I haven't ported Paperwork to Python 3 yet ?\n. There is already one actually : http://gpo.zugaina.org/app-text/paperwork\nBut it's not up-to-date. If you want to help, I think you can start by pinging the maintainer and see if he still cares.\n. I would suggest uninstalling Paperwork completely first :\npip uninstall paperwork\nThe command may actually be python-pip instead of pip on some systems. You may have to run it many times.\nThen try to reinstall Paperwork.\nAlso, I would suggest you try Paperwork testing instead of unstable at the moment. Right now there shouldn't be much difference between both and I need people to test the testing version :)\n. File \"/usr/local/lib/python2.7/dist-packages/sklearn/utils/__init__.py\", line 11, in <module>\n    from .validation import (as_float_array, check_arrays, safe_asarray,\n  File \"/usr/local/lib/python2.7/dist-packages/sklearn/utils/validation.py\", line 17, in <module>\n    from .fixes import safe_copy\n  File \"/usr/local/lib/python2.7/dist-packages/sklearn/utils/fixes.py\", line 18, in <module>\n    from .testing import ignore_warnings\n  File \"/usr/local/lib/python2.7/dist-packages/sklearn/utils/testing.py\", line 36, in <module>\n    from nose.tools import assert_equal\nImportError: No module named nose.tools\n^ I have strictly no idea why, but it seems your sklearn module import various tests requiring nosetests ... (this is really weird).\nI think 'apt-get install python-nose' should solve this problem.\n. Awesome :)\n. Hm, looks like Paperwork needs to set another option for Duplex scanners.\nCan you run the following commands and give me the ouput please ?\nwget https://raw.githubusercontent.com/jflesch/pyinsane/master/examples/list_all.py -O /tmp/list_all.py\npython /tmp/list_all.py\n. Ok got it:\nOption: adf-mode\n    Title: ADF Mode\n    Desc: Selects the ADF mode (simplex/duplex)\n    Type: <class 'pyinsane.rawapi.SaneValueType'> : String (3)\n    Unit: <class 'pyinsane.rawapi.SaneUnit'> : None (0)\n    Size: 8\n    Capabilities: <class 'pyinsane.rawapi.SaneCapabilities'> :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type: <class 'pyinsane.rawapi.SaneConstraintType'> : String list (3)\n    Constraint: ['Simplex', 'Duplex']\n    Value: Failed to get the value: Option 'adf-mode' is not active\n. Darn, you are right, I looked at the wrong scanner.\nUnfortunately, I can't find anything in the documentation of Sane regarding duplex scanners :/\nCan you first check it's actually supported by other applications like xsane or simple-scan please ?\n. I think I found my mistake. The problem is that when you use the multiscan dialog of Paperwork, it always force the source to the first value that matches what looks like an ADF. I will fix that asap\n. 053b0af2d295dc0667a342438c0a2e4565c0f446\nPlease tell me if it works for you\n. > Number of pages:Auto\nJust put 9999 pages :)\n\nBy the way, I have a question: how paperwork behaves when a lot of documents have been scanned and are present in the document folder ?\n\nI have 941 documents, and it works fine. Is there anything specific you want to know ?\nAnyway, since this issue is solved, I'm closing this ticket.\n. Hello,\nWhich GNU/Linux distribution are you using ?\n. Hm, weird, I'm using Debian Jessie at work with Paperwork, and it seems to work fine :/\n. Woops. Nevermind, it doesn't. I'll try to find out why this evening.\n. Actually, there is the same problem everywhere, even on Fedora ...\n. About dialog: 958a4efa3e9df6ca7d8c72ddf92e3ee3623bb429\n. Main window: aa7455e647be62196ebee0959902bd2ec5dbbb7f\nFeel free to reopen this ticket if these fixes don't work for you.\n. Thanks :)\n. Hm, ok. Not having a ~/.config while having a window manager running is quite unusual ... but why not ...\n. Oh, I see. You start it from a chroot ? Makes sense now :)\n. Creating /.config : 2361b11febb3f75568bfbec520639e99196f8b15\n. SIGINT & SIGTERM : 14083f16d419a9dce8c6b772b8ddcf796742a4bd\n. Regarding the missing call to Gtk.main_quit(), I'm not sure whether I can do a clean fix. Anyway, good enough I guess.\n. Thanks :)\n. Awesome ! Thanks :)\n. Awesome, thanks ! :)\n. Please make sure you are using Pyocr >= 0.2.3.\n. The command to check the version is:\n\npip show pyocr\n\n(it may be \"python-pip\" on some systems)\n. Another option is to use pip.\n\npip install pyocr\n. Fixed: 712eb74bd092e50401ccdf3be0f7e9c952ee29d0\n. It actually works fine.\n. Quite frankly, the only separation I have is actually the current one:\n- Backend (paperwork.backend) : Manage the documents + index\n- Frontend (paperwork.frontend) : GUI + Scan + OCR\n\nI must only take the time to make 2 separate packages (and probably 2 Git repositories), and document correctly the backend part.\n. Work started:\n- Backend : https://github.com/jflesch/paperwork-backend\n- Frontend : https://github.com/jflesch/paperwork/tree/unstable\n. Note that it is already working. There may just be some small things to tune (translations for instance).\nSo I'm going to close this ticket.\n. Darn. The correct dependency is actually 'glade-libs' :/\nI'm going to fix it. Unfortunately it's too late for 0.2 :(\n. a72f9a7ee1332c676b9dcd24097f95017df27448\n(please feel free to reopen if I made a mistake again)\n. You're welcome. And thanks to you too for taking the time to report this mistake :)\n. 897c32031bd503eae56b0f89df55c4601b6efa1e\n. Correct me if I'm wrong, but it shouldn't fail really often right ?\nBasically what I'm asking is : is it worth releasing a 0.2.1 asap, or can it wait ?\n. Woops. Thanks for the fix :)\n. Probably caused by the same thing than #159 \n. Fixed: 4e23e0de4c05329fcc37de8b556039d133d51a28\nThanks for reporting this issue.\nPlease reopen this ticket if it still doesn't work for you.\n. Maybe generalize that to all the settings ?\n. Links: c658edcdd9183eef7462334efedd141bb510639c\nI'll try to add \"#debian\", \"#ubuntu\", \"#fedora\", etc to the link automagically later.\n. \"#<linux distrib>\" appened to all the links: c43cee4ba89852d1fb3aed57d33481192804eef9\n. Basic documentation added to the wiki.\nI just need to add a few screenshots to it, and I'm done.\n. Done\n. Hm, that's weird, pyocr should be installed by dependency when you install Paperwork. Meh.\nAnyway, thanks :)\n. It's weird. You're the second person to report a similar problem. However, the setup.py clearly requires pyocr, so pip should install it automatically.\n. See #214 \n. Example of use case: https://groups.google.com/forum/#!topic/paperwork-gui/sFRYc89QMSA. Hm, below the calendar we could display a list of suggested dates based on the content of the document. I guess it could help first time users quite a lot.\nOne of the main problems will be to find the dates in the document. Each culture has its own way of writing the dates ... :/\nThe regex you provided will catch all the dates written numerically in occidental cultures I think, but not the ones with words (\"Septembre the 5th 2012\" or \"5 septembre 2012\").\nIt's not an easy problem, but it would be a fun one to try to solve :-)\n. Ok, so we have 2 ideas here:\n1) At import time, ask the users if they want to use the current time or the file metadata for the date. Note that you will always find files with crappy metadata like 01-01-1970, so using metadatas won't be the default value.\n2) On already scanned/imported documents, when editing document properties, suggest the date found in the document (metadata/content)\n. I've actually seen it too once. I will retry first with the PDF that crashed my Paperwork.\n. Seen with tYYGH by email :\nWe are not able to reproduce the issue anymore. So I'm closing it for now. I'll reopen it if it occurs again.\n. Well, if you want, I guess the stracktrace could be helpful. You will need to apt-get install python-dbg python-poppler-dbg and probably a lot of other debug package :/\nOnce installed, you can Paperwork in gdb:\n$ gdb python\n\nrun /usr/local/bin/paperwork\n(import PDF)\nbt\npy-bt\n\n(py-bt may not be available)\n. Doesn't crash with the branch 'stable' or 'unstable'.\nHowever, there have been many changes to fix file descriptors leaks with PDF file.\n--> can you retry with one of these branches please ?\n. Yes and no.\nI fear this may be a race-condition. So using NFS may imply delay making the race-condition happen. Other than that, it's probably unrelated\n. Can you tell me which version of Libpoppler do you use please ?\n. Ok, I'll test with poppler > 0.37.\nThing is, since I'm too lazy to install Arch, I'm going to switch to Debian testing. Let's hope it's doesn't break my computer :)\n. Ok, I'm now using poppler 0.38. I've imported 3 PDF. No crash.\nI'll keep using this version of poppler from now on, but I'm going to move this ticket to 0.3.1.\n. PS: I've only tested with Paperwork testing (future 0.3.0). Since I'm about to release it, I'm not testing anything on 0.2.x anymore.\n. Do you still have this issue ?\n. Awesome :)\n. Using pkg_resources & friends probably solved this issue already. To check.. Yep, tested on Ubuntu 12.04. Issue is fixed in 1.2.. Confirmed: If I search ' label:\"impots\" ', I can find my taxes paperwork, but if I search ' label:\"imp\u00f4ts\" ', I get no results.\n. However, just searching \"imp\u00f4ts\" seems to work fine.\n. Fixed: 98e56ed65f09310a797d4fa224fb95ae82f749f9\nThanks for reporting this issue.\nPlease reopen this ticket if this fix doesn't solve it for you.\n. There is one thing you need to know: The only things Paperwork may delete automatically are empty directories inside the work directory.\nSo, are you sure you didn't select \"~/Documents\" instead of \"~/Documents/PaperWork\" ? (I already did this mistake once)\nAnyway, it doesn't really explain why Paperwork switched back to ~/paper (~/papers ?) :/\n. Hm, actually, disabling the cleanup may make sense now. It was useful in 0.1.x, but it shouldn't be anymore in 0.2.x. I'll check that later.\nThe fix regarding the file chooser in the settings window also makes sense. Included: 5b78034da0b55ac6895c72324a01a5b55e8e8693 . Thank you very much for reporting (and fixing :) this problem.\n. Cleanup step removed: f60565d934a6a60df13047463a520cea4652185f\n. The whole output of Paperwork could be helpful I think.\nAlso, does deleting ~/.local/share/paperwork and restarting Paperwork solve the problem ? (it may take a while to rebuild the index)\n. Can't reproduce. I switch back to 0.1.3 and next again to 0.2, and no problem appeared.\nIf someone else has this problem, please don't hesitate to reopen this ticket.\n. Hello,\nI'm going to need more information regarding your scanner. Can you run the following commands and give me their ouput please ?\n$ git clone https://github.com/jflesch/pyinsane.git\n$ cd pyinsane/examples\n$ ./list_all.py\nThanks in advance,\n. Ok, there is no source selection at all for your scanner. I like how HP scanners never have the same behavior ...\n. Fixed: 7526e647e57461877be24e74d54e879ad03b8b0b\nThanks for reporting this issue.\nPlease reopen this ticket if this fix doesn't work for you.\n. I understand correctly, the problem is not really that automatic label guessing cannot be disabled. It's more that some PDFs make Paperwork crash ?\nNote that the crashes may not actually be related to automatic label guessing. For instance, it may be due to the index update, or the thumbnail(s) generation.\n. Regarding the crash, see #339 .\n. Do you still have this problem with 0.3.0?\n. Thanks :)\n. Fixed: d06515b174f3792748e65bebbdbf5826c5737609\nThanks for taking the time to report this issue.\n. Also, figuring out the exact package name to install for tesseract and aspell would be handy.\n. Split done: c371d56e280ecb1d01757db930fa2548bb4e8ae8\nRemaining to do:\n- update the documentation\n- figure out the exact package names\n. exact package name: e0b1cea1142b6e0e5209efb568014f47ac94dada\nRemaining to do:\n- update the documentation\n. eca3954595ec62a6771c4af954ad90e58bff1713\n. There are actually a lot of dependencies that are not listed in the documentation. It's on purpose. I prefer not duplicating the information. Otherwise, there will always be a point where one may be obsolete and not the other.\n. I forgot to specify : some dependencies are explicitly indicated in the documentation because either I had issues with setup.py, or I haven't been able to to check there are installed automatically. (I'm working on it)\n. The idea behind Paperwork is \"scan & forget\", not \"organize your labels in a tree & scan & forget\". Quite frankly, if I could even get rid of the labels, I would.\nAnyway, my suggestion : if you really want to organize them as a tree, you already can (kind of). Just use a separator characters like '/', and name your labels like that:\n- linux\n- linux/admin\n- linux/admin/disk\n- linux/admin/network\n- linux/admin/network/ssh\n- photo/raw\n- photo/taking\nSince Paperwork always displays the labels sorted by name, I guess it can do the trick.\n. > This is not really user friendly for an easy retrieving within the file system.\nNot the point.\nLike for #351, the goal of Paperwork is \"scan & forget\". Naming documents would mean an extra step after each scan.\nI've a feeling that what you're looking for is actually a professional GED, which Paperwork is not. Paperwork is a tool for the (really) lazy guys.\n. WARNING paperwork.frontend.mainwindow  Exception while configuring scanner: <class 'pyinsane.rawapi.SaneException'>: <class 'pyinsane.rawapi.SaneStatus'> : Error during device I/O (9). Assuming scanner is not connected\nThis is a Sane issue, not a Paperwork or Pyinsane issue.\nPlease try to make an application like simple-scan work with your scanner. It should then work again with Paperwork.\n. I had similar issues at some point. I had actually crashes also with simple-scan. It seemed to come from HP drivers (they seem quite crappy).\nWe will see. Maybe I'll be able to reproduce this problem someday (and maybe even fix it ... who knows ? :)\n. Nop\n. I can actually reproduce this problem easily : it seems my HP drivers crash every time I scan .. nothing (no paper in the scanner).\n. I have switched to Debian sid a few months ago, and I haven't been able to reproduce it anymore.\nI assume it's a HP driver problem. If so, for the future releases, I intend to release Paperwork using AppImage. Since appimage include all the required libraries, it should take care of this issue.\n. The workaround for this ticket will probably also help : https://github.com/jflesch/paperwork/issues/486#issuecomment-235665566\nI'm closing this issue. We will see if it's fixed for you too in Paperwork 0.4 when it's released.\n. 0032515315a248383bb0f79dba4a918fdb27182b\n. I haven't had time to read everything yet (probably next week). However the mock-ups show some interesting ideas.\nJust out of curiosity : what software did you use to make the mock-ups ?\n. Let's make a list of the suggested changes:\n- Toolbar: Make it more Gnome 3-like + remove all the useless crap. OK\n- Toolbar: Add a button to display a popup allowing to change the view settings (page list / pages + zoom level + words highlighting). OK\n- Document list: Reduce the thumbnails. OK (but need testing, I'm not sure if the thumbnails are really helpful anymore if they are too small)\n- Document list: display the labels beside the thumnails instead of below. OK (if thumbnails reduction is OK too)\n- Label list: Drop it. Replace it by a button+popup below the document list: OK. \n- Page list: Drop it. Instead, when opening a document, if there is only one page, display it directly, otherwise, display the page list as a grid. OK\n- Application menu: move some item to the window menu. OK\n- Application menu: scan source selection. KO: This is not how I see things. By default, Paperwork use the input source selected in the settings dialog for scanning, unless the dialog for multiple scans is used, in which case it will automatically use the feeder. In other words, I'm fine with the way things are currently.\n- Window menu: Import option. KO: Import option should be beside the scan button (as of now). I see no reason for changing that\nMissing:\n- Scan button: Missing: Option for multiple scans from feeder (as of now)\n- Window menu: Missing: Export function\nChange I would like to see too:\n- Remove the progress bar at the bottom left. Instead, display on-demand progress bar below the document list or below the page area.\nYep, I think it could work :)\n. I have a problem: In your mockups, you use 2 header bars, and it doesn't work.\n.\nAs you can see, there are visual issues (I can take care of the height of the header bars, but not their corners). Also, because we want two of them, I cannot use GtkWindow->set_titlebar(), which means I have to disable decorations to make the usual title bar disappear ... which means the window cannot be resized anymore.\nI will try and see if I can pack GtkLabels in the header bar. In which case, it could help solve most of this problem. However, I will have to find a way to make a clean separation between the 2 \"fake\" header bars ... maybe a custom Gtk widget.\n. Note to myself:\nThe XML for the header bar (Glade doesn't support header bars yet, so I will have to make it by hand):\n<object class=\"GtkHeaderBar\" id=\"headerbar\">\n  <property name=\"visible\">True</property>\n  <property name=\"title\">Paperwork</property>\n  <property name=\"subtitle\">Grep for dead trees</property>\n  <property name=\"show_close_button\">False</property>\n</object>\n. You're right.\nFrom what I can see in Polari, the trick I missed is that the 2 GtkHeaderBar must be in the same parent GtkBox. I'm still a little bit fuzzy regarding how they keep the lengths of the GtkHeaderBar consistent with the rest of the window, but that's easy to manage anyway.\n. Funny thing, Polari uses GtkWindow->set_titlebar() but not Gnome-contacts. Meh, whatever works.\n. Note to myself:\nFor the document list : https://developer.gnome.org/gtk3/stable/GtkListBox.html\n(to check: if the performances are ok ... otherwise, a custom widget may be required :/)\n. Nice, I didn't know about GtkSizeGroups.\n. Ok, got it : 09bd22672896caba9f390485380db32a90d43bf0 + adc9238880323a5d26c32f3ed9cbbe41188e2e1b (branch: wip-ui-redesign)\n. Header bar content: 00aa327850740c1afd369a304400805c68809536 (needs some minor style improvement + there is a workaround I should remove)\n. Scraping off the status bar, the page list and the label list: ad3df2d1391b11a23de49bcbff53eab717c0056a\n. ca71a83d387d8a6db55f881ffb70560088d37e1c : Fix the style of the page numbers\n. Current state : \n. 1) New document button + icon : Fair enough. I can change it back to a simple '+'. IMHO, it doesn't matter that much anyway.\n2)\n a) Hm, 'print' shouldn't actually be duplicated. My bad. Update: actually, if I duplicate the others, 'print' should be too, or it will be weird .... I don't know ... :/\n b) No problem with renaming 'Edit' into 'Properties' for the documents\n c) I think 'delete' can safely be duplicated as of now. IMHO, it's easy to understand.\n d) Regarding the export options and dialog, if you have any ideas / mockups, please feel free to share them. But right now, I think the way it's done currently is probably the simpler.\n(Note: as you pointed out yourself in your initial UX review, it's not the application menu. I guess the correct name should be 'window menu' :)\n3) Regarding scroll bars, I will see what I can do.\n. b. No, I actually forgot about these buttons in the bottom-left when I made the menus .... I'll remove 'properties' from the menu ... :)\nc. The bin ? For deletion you mean ? No, deletion is not an operation that much common. I don't think a larger area makes sense.\nHm, here are some random ideas:\n1) For pages, the buttons 'delete' and 'edit' can be put on the grid view (a pencil at the bottom left of each thumbnail, and a 'X' at the bottom right of each)\n2) In the window, only keep rarely used options like : 'open directory', 'redo ocr', 'print', and 'export'. 'export' would then be a submenu to specify 'document' or 'page'\nI think with that, we would have all the options placed in a smart way. What do you think ?\n. Actually, I think we can apply the same logic everywhere : there is no need for a toolbar at the bottom.\nFor each document, I can add buttons \"properties\", \"labels\", and \"delete\".\nAs for the page grid, the button will only be display when the mouse goes over the document (or the page)\nBy the way, I also think it would make sense to merge the label and properties dialogs (--> one single button).\n. Hm, for me, the window menu should contains options rarely used. From my experience, those options are used quite often:\n- doc properties : because label guessing doesn't always work as well as I would like it to :/, and because I'm often late with my scans\n- page edit : because page orientation detection screw up sometimes\n- page delete / doc delete : because sometimes you're tired, you put the sheet of paper with a 20 degrees angle, and the orientation detection is not (yet) smart enough to fix that, and it's just simpler to rescan the page.\nHere is how I see things and why:\nI think there should be a \"properties\" button and a button \"delete\" beside every document in the document list (like you did in your mockup). Now, having all these buttons would be ugly and kind of flood the user eyes in a bunch of useless visual elements.\nSo these buttons should only be displayed when the mouse goes over the document, or when the document is selected (--> works with touchscreens).\nSame goes for the page grid: \"edit\" and \"delete\" should be on every pages. However to not flood the user and hides page details, they should only be displayed when the mouse goes over.\nProblem is, when we select a page in the grid, it will switch to page list mode. So as-is, it doesn't work with touchscreens. I guess it can be solved by adding these two buttons also in the list mode. We can put them beside each page to not hide details of the page.\nAlso, I would like to point out that you focus too much on document titles IMHO. I'm not even sure I want to implement them.\nHere is why: Paperwork goal is \"scan & forget\". In other words: Put all your documents in a big virtual stack, and let the computer do the job.\nIf we make it possible to change document titles and sort documents by titles, people will feel that, if they want to use Paperwork efficiently, they have to put a title on every documents. That's simply not true (or I did my job really poorly ...), and that would actually be using Paperwork less efficiently. Based on my experience, thumbnails are much better than titles for identifying them (except you can't sort them, but it hasn't been a problem yet ; hmmm... random idea: allow sorting thumbnails by image similarities ... ?)\nAlso, my main reason : it's one of those features that I won't use (and so won't test it much, and it will be buggy).\n. > What about using the date (forget about the title for now) in the headerbar to edit properties, as shown in the mockup above ?\nPossible. But there are 2 things that disturb me with this approach:\n- there are no visual clue that the labels can be changed by clicking on the title/date\n- shouldn't the option to set labels and change doc properties be closer to the doc and its labels ?\n\nMaybe we can use some sort of selection mode in grid view to allow dragging multiple pages to an other document or deleting them. \"edit\" would only be available in page list.\n\nHm, do you often need to handle multiples pages at once in Paperwork ?\n\nActually I see this more as a \"subject\" than a title, when thumbnails fail to give a clue.\n\nYeah, that's one of the reasons I made the thumbnails so big. But still, I think we can reduce them and keep most documents recognizables (labels actually help in that matter).\n\nReally, that's probably nothing more than showing the 20 first caracters of the extra words in the papers list and the headerbar.\n\nExtra words are only here to palliate cases where the OCR doesn't work. For instance, I have some invoices with a crappy yellow background on which Tesseract didn't work. But even then, it's only useful for about 2 documents out of 989.\n. >  I would argue that the dropdown icon make it discoverable enough.\nI  think it's quite small for something used that often.\n\nwe have edit and delete icons horizontaly aligned, which results in very short width for thumbnails, text and labels\nwe have edit and delete icons verticaly aligned, which would make popovers a bit obtrusive I think, but why not?\n\nI was thinking about putting them vertically. I don't know if the popover would be obtrusive, but I must admit it feels weird to have it pop at variable locations.\n\nwe have a dummy icon to open a popover to chose between edit and delete, which would lead to a very disruptive dialog\n\nNey.\n\nPerhaps we could imagine something sliding out under the item directly in the papers list, but that would require to code specific widget, wouldn't it? The bright side is it would allow to open a calendar as a popover to chose the date, which would be nice stuff I think.\n\nThis might work (and don't worry about the custom widgets).\nAnother possibility : Like for the export, we can use an info bar at the top of the page/grid view. (I'm really tired right now, so I'm not sure it makes sense)\n\nshe scans from feeder to her email, as a single batch. At home, she imports that in Paperwork then uses split the file into several documents. This would be used from time to time, but could save a lot of time. That's the kind of feature wich allows to spend less time both with paper and with software.\n\nHm, it makes sense. It can be useful. However, I think we should keep in mind this is a rare use case, so I think this selection mode should be discreet.\n\nBut eh, if you're convinced that's a bad idea, I won't insist more\n\n:)\nJust so you know, this ticket has officially become my main example for a good feature request / change request.\n(and yes, right now, I'm convinced)\n. 9a7d13cf9f775260061b98babb01b7747fa92512 : Display doc list + labels (still missing: thumbnails + buttons)\n. a2fcc462672f052eee8c4c549bf674fee2c786a0 : Thumbnails in doc list\n. 7587645c002f476c7f234e4eabbe8c71b2261a19 : Implement custom progress bar (so it may disappear when unused)\n. 1a541aa1dbd0df4013b27597ca36d4d0a96d63ce : Doclist: add edit and delete buttons\n. > Actually dropdown icon is a very common trick, used by thousands of well-known websites and applications, including gmail, github, pocket, owncloud, and so on.\nYes, but from an ergonomic standpoint, there are quite small targets to click on with a mouse. Which means they should be used only for operations that are not done often. But changing the labels is actually quite common in Paperwork.\n\nselection widgets to edit directly from list\n\nI think this idea is interesting. It avoids pop-over, which, IMHO, is nice.\nI think that when the user clicks on \"edit\", we can extend the space allocated to the document in the list. This way, we can make label selection faster (maybe like the label list existing currently in Paperwork 0.2 ?).\nWe can also add an a button below the labels that would open a dialog to type in the additional keywords (again, extra keywords are and should rarely be used, so it's not a big deal if it's hard to reach).\nWhat do you think ?\n. 6ab296400f43f084856a22762977b67a9894b241 : Popover dialog for view settings (not connected yet)\n. 1) welcome popup: KO (I hate useless popups)\n2) \"No paper yet !\": OK\n3) \"Use the + button to add your first paper\": OK\n4) \"New document\" that appear only when we click on \"+\" : OK\n5) \"Use the scan button (...)\": OK\n6) Scan button locked: OK ; Maybe we can turn it into \"Cancel\" to stop the scan ? (may be useful if the paper is not correctly inserted in the scanner)\n7) Progress bar on top : Actually, I put it at the bottom for now. At the top, it raises the question : should everything move down, or should the progress bar hides something ?\n8) The panel to edit document properties : Looks good. However, if we want it to be clear, I need to be able to animate the switch from the document list to the document properties (without animation, I think the switch may be disturbing for the user). I'm not sure if there is an easy way to do that with Gtk.\n. 7) because at the bottom, moving the content up would seem weird --> it can only hide stuff. Also, usually, less important information are at the bottom --> less risk of hiding something important.\n8) Ok. I'll have to try it.\n. 8) Tried and adopted\nJust one thing : on your latest mockups, when editing a document, there is no way to cancel the changes. So currently I made things slightly differently : In the panel used for editing, there are at the bottom buttons 'ok' and 'cancel'.\n. Hm, screw the cancel button. I'll do it your way\n. GtkRevealer : 99adc2a77d1803e658cef52a1ac54ba26814d0e8 b0886a9fc58a117ec8af7b31c160ea8efc3655de ff543206aca56b1ebc1968a75148793fa44cfb41\n. Actually, right now, I took an approach similar to before : http://jflesch.kwain.net/~jflesch/paperwork/paperwork_redesign_progress2.png\nWhy ? Because I'm lazy, and it was the fastest to implement for now :p\nAnyway, I think Mjourdan approach is interesting :\n- advantage : if there are a lot of labels, the UI is not drowned\n- disadvantage : users have to remember which tags exist and which don't\nWhen using Paperwork, the goal is to be lazy. So I'm going to assume that users don't have that many labels, so drowning in the mess shouldn't be an issue.\nHowever, having to remember what labels are available is not exactly what I call \"the lazy way\".\nWhat do you think ?\n. > That being said, the current presentation as a full list is OK as far as I\u2019m concerned, even though my list is longer than the window ;-)\nDon't worry. A scrollbar will come to your rescue :)\n. Hm, looks good, but I have some questions :\n- Do you think multiple selection is really useful ?\n- In the edition buttons, you suggest a button to mirror the page. Is there a use case for it ?\n- I don't get how the user is supposed to switch from the page list mode to the page grid + multiple selection mode ?\nFYI, for now, when opening a document, if it has only one page, the page list mode is used by default. If it has many pages, the page grid mode is used. A single click on a page allows to switch from grid mode to list mode.\nAlso, just a quick note regarding cropping : It can only be done on one page at a time. Also, it requires precision, so I don't think it makes sense to do it from page grid mode.\n. > So, when jflesch wrote \"- disadvantage : users have to remember which tags exist and which don't\", this is true only on first start.\nOk, I think I misread your wires. But does typing a label name allow to create a new label, or does it allow to filter the label list ?\n. > Yeah, actually page orientation detection never worked well for me, and usually give me bad results (while OCR does work well). As it is very long to proceed, I disabled it to save time. But my scanner has a lid and I never remember where I should put the top of the page. In both cases, I end up with pages upside-down, far most frequently than I get portrait position instead of landscape.\nWith Paperwork <= 0.2.2, make sure you have the correct dictionary installed (if you're French, aspell-fr for instance, but it should also work with myspell-fr and ispell-fr I think). It's required to get correct results.\nWith Paperwork which is currently in the unstable branch, Tesseract orientation detection will be used. It gives much much better results :)\nAnyway, if I understand correctly, this icon is supposed to mean \"rotation of 180 degrees\", right ? Because as-is, I understand it as \"vertical mirroring\", which is not the same thing.\n\nYeah, sorry, I did'nt show that. It's by activating the check mark button. You may want to take a look at the gnome hig to decide if it is appropriate for Paperwork or not.\n\nI didn't realized it is a mode disabled by default. OK for me (... and more work for me ...)\n. > Ah. It is meant as a 180\u00b0 rotation, as in gnome display settings. Indeed this icon is also used by inkscape for instance as vertical mirroring. Don't know if we could find a less confusing icon.\nI think with Tesseract's orientation detection, there will be much less need for page rotation. Also, clicking instead 2 times on \"rotate right\" (or left) isn't a problem. So I think we can safely get ride of this button.\n. Wouldn't make it more sense to attach the popover to the search field instead of the header bar ?\nOn an unrelated note, I'll be working on another personnal project for the next few months. I'll keep replying here, but I don't think I'll have much time to code on Paperwork :/\n. > install fails with \"error: package directory 'src/paperwork/frontend/doceditdialog' does not exist\"\nThis is a work in progress, do not install it ! :)\nYou can run it from the repository by running 'src/launcher.py'.\n\nwith the first paper opened in grid view, clicking in an empty zone switches the view to a zoom on the second paper\n\nFunny, I didn't see this bug. It's actually even weirder for me, because when I test it, it switches to another document.\n. Ok, it's working good-enough for the unstable branch so I merged it and destroyed the branch 'wip-ui-redesign'.\nWIP Review\nPaper view:\n- [x] headerbar title is odd (empty GtkLabel makes title consume two lines)\n- [x] page selector is too wide (up to 4 digits while 2 should be enough)\n- [X] zoom using a slider does not work\n- [ ] quick scanner setup for first page scan (needs design)\n- [x] doclist draws too much attention\n- [ ] sometimes no paper is shown because none is selected in doclist\n- [X] Page edition\n- [X] Page deletion\nProperties:\n- [x] use a calendar to change the date\n- [x] when changing the date of a paper, headerbar is not updated\n- [x] 'add label' doesn't work\n- [x] 'edit label' doesn't work\n- [x] text is not vertically aligned in labels\n- [x] the label list has no border\n- [ ] the additional keywords text area has no border\n- [x] what are the \u00ab additional keywords \u00bb for is not obvious\n- [X] labels listbox is thick (checkboxes should disappear, edit button should be replaced with the label color)\nLabel Editor:\n- [x] transparency can be set but labels are always opaque\n- [x] when editing a label, sometimes the text is right but the color is from the previous label\n- [x] warnings like \"drawing failure for widget `GtkBox': NULL pointer\" (seem related to the color widget)\n- [x] display is buggy when opening the color editor\nPreferences:\n- [x] dialog is scary: offering 5 times for help makes me feel like I'm in distress\n- [x] dialog lacks headerbar (needs design)\n- [x] dialog offers 3 way to close (Cancel, Ok, and close)\nHelp:\n- [ ] help is not available without network connection (Jflesch> Won't do for 0.3.x)\nAnnoying bugs\n\n[X] install fails with \"error: package directory 'src/paperwork/frontend/doceditdialog' does not exist\"\n[ ] in paper list, controls (edit and delete) sometimes disappear\n[ ] with the first paper opened in grid view, clicking in an empty zone switches the view to a zoom on the second paper\n. It has been a very long time since there was a major Paperwork release, and this GUI is already looking really great compared to 0.2.x :) --> I would like to ship a 0.3.0 asap. We can still fix minor issues later in the next minors releases (0.3.x).\n\nAnyway, I have a few questions for you:\n\nquick scanner setup for first page scan (needs design)\n\nWhat do you mean exactly ?\n\nsometimes no paper is shown because none is selected in doclist\n\nWell .. it makes sense I guess, no ? :)\nI assume you mean when we start Paperwork or when we click \"New document\" ?\nWe could:\n- when Paperwork starts, display the last used documents\n- when the user clicks \"New documents\", display an icon or something showing the document is empty at the moment\nBut is it blocking for 0.3.0 ?\n\nthe additional keywords text area has no border\n\nI didn't notice it as being a problem.\nMaybe it could be a problem based on the Gtk theme used. But then again, is it a Paperwork problem ?\n\nhelp is not available without network connection (Jflesch> Won't do for 0.3.x)\n\nThis one will require some work, and I'm fairly sure that current users of Paperwork all have an Internet connection :). However, I must admit it's a problem because it makes Paperwork dependent on GitHub, and pages can't be translated. Still, I think it would be best to keep this change for 0.4.0.\n\nin paper list, controls (edit and delete) sometimes disappear\n\nDo you have any reproduction scenario ? I can't find any anymore :(\n\nwith the first paper opened in grid view, clicking in an empty zone switches the view to a zoom on the second paper\n\nCan't reproduce. However, I did a lot of changes, so I may have fixed it by accident :-). Can you have a look please ?\nSo, what do you think ?\n. > multiple pages preview is a great idea but not very effective as-is: pages previews are generated given a size (and I can change this size, great), but I would prefer setting a \"number of pages on a single row\", pages size would change when resizing the window\nI understand your idea, but I'm not sure how it can be presented without making the GUI complex to use. This isn't a common approach (see for instance Evince, when it's freshly started and display the last documents used ; or any file browser)\n\nmargin between pages is way too large\n\nIn which view ? Grid, list, or both ?\n\nI would prefer having three buttons instead of a dropdown menu on the \"scan\" button. maybe a dropdown on the side as in Simple Scan...\n\nHm, good point\n. > By default, multi-page documents would display 3 pages per row, no matter the size of the page.\nWhy 3 ? :)\nAlso, a problem with that is that pages can have various width. You can have portrait pages on the first line, and only landscape pages on the second line. The zoom level couldn't be the same for both lines.\nSo I just implemented something a little bit different :\nPaperwork checks if it can fits all the pages in one line without making the previews too small. If it can, it does, if not, it fall back to the previous grid layout. It doesn't really solve the problem for big documents, but it does for small ones.\nPlease tell me what you think of it ?\n\ngrid. the space between thumbs in the grid\n\nI reduced the margin. Again, please tell me if it is ok for you.\n\nin all situations Ctrl + mouse wheel should changes pages size, on-the-fly (Ctrl + \"+\" and Ctrl + \"-\" too).\n\nGood point. I'll see what I can do\n. Hm actually, maybe you're right.\nIn grid mode, the slider could be the number of pages par line\nIn page mode, the slider could be the level of zoom (as of now)\nI can give it a try this evening\n. While I agree that the slider could control the number of pages per line, I disagree with moving the settings.\nThe current logic is the same for the zoom level, the grid/list layout buttons and the \"highlight words\" switch :\n- They all control the way pages are displayed, and so, IMHO should remain together\n- In a perfect world, those are things you should never have to use\nThe zoom level is always annoying to set correctly (LibreOffice and Evince actually give good examples: if often end up being trial-and-errors)\nThe layout : If there is only one page, the layout 'grid' is useless anyway. If there are more, you start with the grid, and then look at one or two pages specifically. I'm not sure there are so many cases where you have to switch back to the grid layout (I'm not saying it doesn't happen, I'm saying it happens rarely).\n\"Highlight words\" : That's more a debug feature than a really useful one. I guess it helps people relax by making sure the OCR worked (I know it does for me ;) ).\nSo in the end, if the UI is done right, you shouldn't have to use them really often.\nAlso, I think moving them out of this dialog would clutter the main window.\n. Note to myself: I must also re-add support for drag'n'drop also (the API tends to be really painful to use ; I did some crappy work in the previous UI :/)\n. > \"New document\" and \"+\" are useless\nHow would you start making a new document then ? oO\n\nI think \"Scan\" has nothing to do with the current document, nothing to do on the right panel.\n\n\"Scan\" add a scanned page to the current document. Always. (\"scan single page\" anyway)\n. I don't.\nBut as of now, \"import\" can import PDF as a document, or images as extra pages to the current document :/\n. > I launch Paperwork, start my scanner, and try to scan a document. Nothing happens, and I have to open the Preferences so that my device is detected. This happens every time I launch Paperwork, and is uncomfortable, as my device is the same for years now. At least, that was true by the time I wrote this.\nI think this one is a bug unrelated to the UI changes. The expected behavior, even in stable:\n- if Paperwork was never configured, open the configuration dialog\n- if it has already been configured (even in a previous session), just do the scan\nYou can open a ticket if you want. If you do, please have a look in your paperwork.conf after each session / reboot. Maybe your scanner ID changes when you reboot, which could partially explain this bug.\n\nYeah, my point was we should always have a document selected, so that we have something to show, whether it is the last used, or a new empty doc (in which case we would have a nice message saying \"this doc is empty, you can add pages blah blah\"). While it is confusing, I wouldn't say it's a blocking issue.\n\nNoted, but for 0.3.x\n\nAs far as I remember, I couldn't identify a pattern to reproduce, but this definetely happened multiple times!\n\nActually, in the meantime, I reproduced it and fixed it :) (please tell me if you see it again)\n\nI'm not sure about this. This means user would have to chose the source in two different places instead of one, which would result imho in a more complex experience.\n\nI agree. The current way is messy and unperfect, but I think most users (if not all) found their way. I doubt we will find a perfect solution anyway. So I think we will just let it as it is for 0.3.0.\nI'll just split the \"scan\" button in two --> \"scan\" button + a button to have the sub-menu, as done before in 0.2.x\n. My scanner is also a usb one (HP), but I never unplug it. Anyway, it's still a bug in that case : if the scanner id cannot be found, it should either display a popup saying \"scanner not found\" or open the settings window.\n. Hm, I prefer not using heuristics when possible. They tend to be hard to debug (for instance, I'm fairly certain the label guessing has some bugs).\nHere, I guess it can be done by simply looking how many scanners are connected. If there is only one ... well it must be this one.\nI will just have to ignore camera devices. Since their IDs are prefixed with \"v4l:\", it should be easy.\nAdded: #403\n. Implemented:\n- Drag-n-drop: Page --> another document\n- Drag-n-drop: Page --> another position in the same document\n5dd34ed562206783c906d3b9350f210d1712daee\n54710c354d37b0a190e15a5fb9719241f155c010\n1f5012d1bb26b6682ada5c088c71ad439169baf2\n7225381c25889765c405972d0f20343b1c28e5b2\n. Most of the GUI changes for 0.3.0 have been implemented (in the branch 'unstable'). I'm going to close this meta ticket.\nPlease feel free to open a new ticket for each issue you (still) see.\n. Can you run Paperwork from a terminal, and add to this ticket the whole output when 1) you scan or import a document, and 2) when you search this document please ?\n. Ok, I reproduce the problem with your PDF.\n. Got it:\nThe problem comes from some obsolete code still looking for .txt files on OCR-ed PDF files. Sorry for that. I'm going to fix it asap.\n. Fix: 0266e899427766dffe7571d7725c97bed9612ca0\nPlease reopen this ticket if it doesn't fix the issue for you.\nI also found a major issue with image documents + text indexation : 84f9872a62e5f3e9f5ce00a5b03e0cac7cc4ce1f\nSo I will release a 0.2.2 soon.\n. Thanks :)\n. 2d8f4ae35d19157d674c1c85cffa9085a0224f72\n. d620fda50398bde63903d249dbbabddb4b69ae22\n. Appears to be fixed ?\n. Hm, there is something wrong with label guessing right now.\nJust after making a new label and putting it on few documents:\nStatistics\n==========\nTotal number of documents: 991\nTotal number of pages: 1854\nTotal number of words: 383754\nTotal words len: 2760727\nTotal number of unique words: 54579\n===\nMaximum number of pages in one document: 75\nMaximum word length: 179\nAverage word length: 7.194002\nAverage number of words per page: 206.987055\nAverage number of words per document: 387.239152\nAverage number of pages per document: 1.870838\nAverage number of unique words per document: 203.152371\nAverage accuracy of label prediction (global): 93%\nAverage accuracy of label prediction (positive): 80%\nAverage accuracy of label prediction (negative): 94%\nAfter rebuilding the indexes from scratch:\nStatistics\n==========\nTotal number of documents: 991\nTotal number of pages: 1854\nTotal number of words: 383754\nTotal words len: 2760727\nTotal number of unique words: 54579\n===\nMaximum number of pages in one document: 75\nMaximum word length: 179\nAverage word length: 7.194002\nAverage number of words per page: 206.987055\nAverage number of words per document: 387.239152\nAverage number of pages per document: 1.870838\nAverage number of unique words per document: 203.152371\nAverage accuracy of label prediction (global): 98%\nAverage accuracy of label prediction (positive): 87%\nAverage accuracy of label prediction (negative): 99%\n. https://pypi.python.org/pypi/simplebayes/1.5.8\nLooks like a good candidate:\n- It seems python3-ready\n- It's lightweight (no dependency as far as I can tell)\n- The API is really clear\n. Reference statistics for testing (2015/11/16 11:50):\nStatistics\n==========\nTotal number of documents: 1169\nTotal number of pages: 2275\nTotal number of words: 466532\nTotal words len: 3363270\nTotal number of unique words: 63930\n===\nMaximum number of pages in one document: 75\nMaximum word length: 222\nAverage word length: 7.209087\nAverage number of words per page: 205.069011\nAverage number of words per document: 399.086399\nAverage number of pages per document: 1.946108\nAverage number of unique words per document: 209.521814\nAverage accuracy of label prediction (global): 98%\nAverage accuracy of label prediction (positive): 89%\nAverage accuracy of label prediction (negative): 99%\n. With simplebayes (branch wip-labels):\nStatistics\n==========\nTotal number of documents: 1169\nTotal number of pages: 2275\nTotal number of words: 466532\nTotal words len: 3363270\nTotal number of unique words: 63930\n===\nMaximum number of pages in one document: 75\nMaximum word length: 222\nAverage word length: 7.209087\nAverage number of words per page: 205.069011\nAverage number of words per document: 399.086399\nAverage number of pages per document: 1.946108\nAverage number of unique words per document: 209.521814\nAverage accuracy of label prediction (global): 95%\nAverage accuracy of label prediction (positive): 40%\nAverage accuracy of label prediction (negative): 100%\n. With simplebayes + custom tokenizer (split_words() in paperwork/backend/utils):\nStatistics\n==========\nTotal number of documents: 1169\nTotal number of pages: 2275\nTotal number of words: 466531\nTotal words len: 3363266\nTotal number of unique words: 63929\n===\nMaximum number of pages in one document: 75\nMaximum word length: 222\nAverage word length: 7.209094\nAverage number of words per page: 205.068571\nAverage number of words per document: 399.085543\nAverage number of pages per document: 1.946108\nAverage number of unique words per document: 209.520958\nAverage accuracy of label prediction (global): 94%\nAverage accuracy of label prediction (positive): 24%\nAverage accuracy of label prediction (negative): 100%\nI guess I won't use it ... :-)\n. Or maybe I will:\nWith simplebayes + custom tokenizer + weights added to scores, things get more interesting:\nWith a weight of 4.0:\nAverage accuracy of label prediction (global): 98%\nAverage accuracy of label prediction (positive): 82%\nAverage accuracy of label prediction (negative): 99%\nBest I found is with a weight of 5.0:\nAverage accuracy of label prediction (global): 98%\nAverage accuracy of label prediction (positive): 87%\nAverage accuracy of label prediction (negative): 99%\nIncreasing the weight to 6 decrease the accuracy for negative label prediction to < 99% (which is bad):\nAverage accuracy of label prediction (global): 96%\nAverage accuracy of label prediction (positive): 97%\nAverage accuracy of label prediction (negative): 96%\n. Without the custom tokenizer but with the weights:\nAverage accuracy of label prediction (global): 99%\nAverage accuracy of label prediction (positive): 94%\nAverage accuracy of label prediction (negative): 99%\nOk ... I guess I will remove the custom tokenizer ... ^^\n. Just need a migration process\n. 4a9c68625d62abfc8cde9f1f4075185151e590f3\na5ec3e7811f1e972796541ca1171f06e12bdf7fc\neada91eaf36fff62db82f947b9e8fbeb5daad2ac\n221ebf4dfbe4dd63bb81ee699a72961797c67b11\n0b3bce03e2c6f6302404af8663b8823f422c2c2a\n742e4f7f1f6e4f985433f1accd00a6b10233cd2b\n. Fix: acb98e5512cb89fe2ee5f9a1ae9dfd258a767e54 (branch unstable)\nI haven't had time to try it yet. If you do, please tell me if it works. Otherwise, I'll test it myself later.\n. Ok. Thanks for reporting this bug and testing the fix.\nI'm going to keep the ticket open until I also test it myself.\n. Paperwork imports no module called 'fileindex'. It suspects this problem is actually internal to python-whoosh.\n. Since it happens on read_pickle(), maybe this can help you work around this bug:\n$ rm -rf ~/.local/share/paperwork\nIt will force Paperwork to rebuild its indexes from scratch (may take a while because of the label guessing indexes)\n. I don't think it would. It's not supposed to break like that, so it sounds like a workaround to me :/\n. What are you talking about ?\n. It's actually quite possible. I think I saw the same bug sometimes, but I've never been able to reproduce it to debug it ...\nAnyway, with #356 , there will be major UI changes, and I think I will have to rewrite this part. So unless you find a way to reproduce it almost systematically, I'm not sure if I'll fix it or just finish #356 first.\n. Note to myself : It is probably related to the size of the page displayed. In other words, internally, see if we use the cached thumbnail or if we recompute the image from the big one. I have a feeling that Paperwork may not be moving/deleting cached thumbnails as it should.\n. I can't reproduce it :/ (1.0.6) (I only found an uncaughted exception that shouldn't make any real trouble)\nSo I will need the logs. You can get them using the diagnostic dialog ( https://openpaper.work/fr/helpdesk/kb/1/ ).\nPlease do update to 1.0.6 first (logs will be more complete ; uncaught exceptions weren't loggued before).. ping ?. Ok. I'll wait for @scubbx feedback too first.. Hm, ok. I'm going to close this ticket then. Please comment if you get this bug again, and I'll reopen this ticket.. Duplicate of #21 \n. If you have time, feel free to send a patch. It would spare me time.\n. Ok for this change, but next time, try to work on the unstable branch if possible please. I'll backport small changes like that myself to the stable branch.\nAnyway, thanks\n. 3e8f50675eeb72f5eda28e1e0245fbf84e5d9c6b\n. Nice, thanks :)\n. 1) Please write your bug reports in English.\n2) I'm not the one making the AUR package. Please contact the package maintainer.\n. Also, the package python2-pyinsane-git seems quite old. I think you better have a look at the package python2-pyinsane.\n. Do you know from which version you upgraded ?\nAlso, what is the output of 'pip show Whoosh' ?\n. Darn. It's a change they made in python-whoosh ...\n. Just so you know, while I fix this, if you can go back to python-whoosh 2.6.x, things should work again.\n. Planned patch:\ndiff --git a/src/paperwork/backend/docsearch.py b/src/paperwork/backend/docsearch.py\nindex ae79bee..6998af2 100644\n--- a/src/paperwork/backend/docsearch.py\n+++ b/src/paperwork/backend/docsearch.py\n@@ -319,7 +319,7 @@ class DocSearch(object):\n         docfilehash=whoosh.fields.ID(stored=True),\n         content=whoosh.fields.TEXT(spelling=True),\n         label=whoosh.fields.KEYWORD(stored=True, commas=True,\n-                                    spelling=True, scorable=True),\n+                                    scorable=True),\n         date=whoosh.fields.DATETIME(stored=True),\n         last_read=whoosh.fields.DATETIME(stored=True),\n     )\nI need to make sure it does not create any other bug before releasing a 0.2.4 with it.\n. 88aed3f36bfce58898a310adc938c6d5161cdbd6\n. Hm, I would have thought it was a dependency of scikit-learn, but ok, why not.\n. Thanks :)\n. Looks like a gnome icon (the spinner image) isn't available :/\n. Weird, I'm using Gnome 3.14.1 (Debian) and it works fine.\nAnyway, I've commited a fix/workaround :\n7c2da159557edfa5878e720d3ebcbe5f8667d1b2\nIt should be good enough until I figure out what happened.\nThanks for taking the time of reporting this issue.\n. Interresting. Can you try again with the version in the branch 'stable' please ? I think it may have already been fixed because of #374 . (see https://github.com/jflesch/paperwork/blob/stable/doc/install.devel.markdown to install the stable version ; just replace \"git checkout unstable\" by \"git checkout stable\")\n. To clarify a bit:\n$ git clone https://github.com/jflesch/paperwork.git\n$ cd paperwork\n$ git checkout stable\n$ sudo python ./setup.py install\n$ paperwork-chkdeps\n$ cd ~\n$ paperwork\nLater, to update:\n$ cd paperwork\n$ git pull\n$ sudo python ./setup.py install\n$ paperwork-chkdeps\nTo uninstall (note that it won't uninstall dependencies :/):\n```\n$ sudo pip uninstall paperwork\nyou may have to run it many times\n```\n. By the way, don't worry about this warning. It just mean that the UI could remain frozen while the OCR is running. It's a known problem.\n. Hm, the output of paperwork-chkdeps is weird. I'll have a look asap.\nHowever it's not related to your issue. I'll make a workaround for now and see later if I can find why this bug occurs.\n. 98f65dad9bcd8eabee51e24dbdc1b22d6bdffebe\nPlease update (git pull) and tell me if it works (for now, I cannot test myself :/).\n. Which version of Ubuntu are you using exactly ?\n. You're welcome.\nI'll keep the ticket open for now because:\n- I must find what was the root cause of this problem\n- I need to see why paperwork-chkdeps is not working correctly anymore on Ubuntu\n. Hm, can you run paperwork-chkdeps -v and post the output here please ? It seems the script didn't detect correctly your locale.\n. Ping ?\n. ping ?\n. No reply, so I assume I'm not going to get the output of `paperwork-chkdeps -v`` ... I'm closing this ticket.\n. Hm, I think you're not fully up-to-date.\nAnyway, it seems I was so focused on french and german locales, I forgot to support english locale ... It should be fixed now (in the branch 'testing'):\nWhere you run git clone (...)paperwork previously, can you run the following commands please ?\ngit checkout testing\ngit pull\nscripts/paperwork -v\n. Awesome :)\nThanks for your bug report, and happy new year to you ;)\n. May be related to #214 \n. Implemented in paperwork-shell: paperwork-shell scan will automatically start Paperwork and scan a page in a new document.\nhttps://github.com/jflesch/paperwork-backend/commit/11cbed7b37b4aca713a75fedefb2fc6e3ad27eca\n937b9fed4ac3d0d039c66408634957d0e291034e\n. Are you using Tesseract or Cuneiform ? (which one is installed on your computer ?)\n. And when you run Paperwork from the terminal and you run the OCR on a document, do you see the following message ?\nINFO   paperwork.frontend.mainwindow.scan Will use tool 'Tesseract'\nI'm asking because since Tesseract has been used for orientation detection (paperwork 0.2.4), I've had no problem with orientation detection at all.\nAnd since orientation detection fails, I assume OCR fails as well, which explain why label guessing fails ... :/\nDo you have any page/document you could share for testing ? (maybe by blackening the areas that are confidential ?)\n. INFO   paperwork.frontend.mainwindow.scan Failed to use OCR tool heuristic for orientation detection: 'module' object has no attribute 'can_detect_orientation'\nYou should update Pyocr --> 'sudo pip install --upgrade pyocr' should do the trick.\n. (weird, setup.py should have done it for you)\n. I'll try to have a look, but I'm actually making a full rework of the UI for the 0.3.0, so I don't think I'll spend a lot of time on this bug.\n. Did you have this issue again with the branch 'unstable' ?\n. ping ?\n. Ok\n. I'm unsure yet if it's a OCR problem or a highlighting problem (I have it too sometimes).\nIn any case, highlighting a keyword shouldn't hide any other keyword. That's something I need to improve.\n. Workaround for 0.4: 1b83e28f57ad5abdd7d58a626d068644ef0f9a24\nFor 0.5, I'll see for a clean fix.\n. They appear to come directly from Tesseract.\nTesseract 3.03 returns sometimes word boxes very big and empty (just a space inside).\nIt's weird, but the workaround implemented here is good enough.. Which Linux distribution do you use ?\nDid you do any change (distrib upgrade ?) before restarting Paperwork ?\n. I can't reproduce it on GNU/Linux Debian stable (jessie).\nSince most of the locale problems are handled by gettext + Gtk, and since it works the first time you open the dialog, I am tempted to think this is a bug specific to gettext+Gtk+Archlinux.\n(I really need to take the time to install a VM with Archlinux ...)\n. I agree it is probably not a Arch bug but an upstream bug. But since Arch is always trying to be as up-to-date as possible, getting bug like this from upstream is bound to happen.\n. Not reproduced with Debian testing + Gnome 3 + Paperwork testing.\n. I intend to use AppImage for future releases to support distributions other then Debian and Ubuntu. Since I can't reproduce this problem on my end and since AppImages include all the required libraries, I think it should take care of this issue.\n. Maybe a duplicate of #374 ?\n. For #374, a workaround has been commited in the stable branch, but not yet released.\n. My bad, I misread your ticket.\nQuestions:\n- What scanner do you use ?\n- Does it work with the program simple-scan ?\n- Which GNU/Linux distribution + version do you use ?\n. I've commited a fix in the branch 'stable': 1848dcc78e843f8163b898f885dcde563d944267\nCan you test it please ?\n. Paperwork's behavior has been fixed when it comes to PDF it can't open :  #482\nI'll add support for encrypted PDF in 1.1.\nHowever, I'll have to keep them unencrypted in the folder ~/papers (the only other option is to keep the password beside them, which is actually worse).\n. Note to myself: https://github.com/ahupp/python-magic\n. Actually, GLib can take of it, no need for extra dependency.\npy\nfrom gi.repository import Gio\nf = Gio.File.new_for_path(\"./releve-de-compte-decembre-2016.pouet\")\ni = f.query_info(\"standard::content-type\", Gio.FileQueryInfoFlags.NONE)\nprint(i.get_content_type()). Done: https://github.com/jflesch/paperwork-backend/commit/3a34b2b9231cf8cb3bafe083c09e362ec87103b6. To include in jflesch/pyocr\n. https://pypi.python.org/pypi/ccv/0.0.5\n. The parent repository seems more up-to-date : https://github.com/aperrau/DetectText\n. Implemented : https://github.com/jflesch/libpillowfight\nI've implemented other algorithms as well : ACE (Automatic Color Equalization) and Unpaper's algorithms. I'm currently checking which combination gives the best results.\nThere are also many way the output of SWT can be represented (I can think of at least 3), so it may take a while.\n. I still need to work on it, but preliminary results seem to indicate what I started to guess while implementing SWT : SWT is designed to find text in natural scenes, but not on scanned documents.\nOn scanned documents, the problem is that the strokes are much smaller than in natural scenes. My implementation is able to locate the text, but not precisely enough --> when it tries to extract the text, it breaks the letters. See for example : in --> out.\nDetectText gives a similar result (no surprise here ; I used it as reference for my implementation).\nSimply increasing the size of the image is not an option here. The scanned images are already quite big, and I would need to increase their size by at least (x_4, y_4) I think.\nI think I may be able to work around it by making 2 passes (one on the whole image, and one on increased pieces where text has been located). But I'm wondering if SWT would actually bring any benefit.\n. My program crashed for some reason after 187 pages (OOM?), but I think it already gives a good enough idea.\nraw\n  maybe:  5451 (  8%) | nb_words: 65372 | perfect: 19882 ( 30%) | garbage:   419 (  0%) | nb_pages:   188 | too_short: 32736 ( 50%) | correctable:  6884 ( 10%) |\nunpaper\n  maybe:  5450 (  8%) | nb_words: 65197 | perfect: 19680 ( 30%) | garbage:   426 (  0%) | nb_pages:   188 | too_short: 32737 ( 50%) | correctable:  6904 ( 10%) |\nswt\n  maybe:  5878 (  8%) | nb_words: 65463 | perfect: 18719 ( 28%) | garbage:   478 (  0%) | nb_pages:   189 | too_short: 32848 ( 50%) | correctable:  7540 ( 11%) |\nunpaper + swt\n  maybe:  5833 (  9%) | nb_words: 62309 | perfect: 17663 ( 28%) | garbage:   458 (  0%) | nb_pages:   187 | too_short: 31132 ( 49%) | correctable:  7223 ( 11%) |\nace\n  maybe:  5128 (  8%) | nb_words: 62233 | perfect: 19172 ( 30%) | garbage:   468 (  0%) | nb_pages:   187 | too_short: 30765 ( 49%) | correctable:  6700 ( 10%) |\nace + unpaper\n  maybe:  5017 (  8%) | nb_words: 61997 | perfect: 19307 ( 31%) | garbage:   494 (  0%) | nb_pages:   188 | too_short: 30667 ( 49%) | correctable:  6512 ( 10%) |\nace + swt\n  maybe:  4973 (  8%) | nb_words: 59440 | perfect: 17441 ( 29%) | garbage:   480 (  0%) | nb_pages:   186 | too_short: 29897 ( 50%) | correctable:  6649 ( 11%) |\nace + unpaper + swt\n  maybe:  5213 (  8%) | nb_words: 61464 | perfect: 18022 ( 29%) | garbage:   492 (  0%) | nb_pages:   187 | too_short: 30813 ( 50%) | correctable:  6924 ( 11%) |\nExplanation\nI've run various combinations of image processing algorithms on my documents, then I've run Tesseract on each resulting image. I've then used Pyenchant to figure out how many words in each page appear in the dictionary (french).\nAlgorithms\n\nraw : no processing, just tesseract\nunpaper : Unpaper's algorithms. See https://github.com/jflesch/libpillowfight#note-regarding-unpapers-algorithms\nswt : Stroke Width Transformation\nace : Automatic Color Equalization. See http://argmax.jp/index.php?colorcorrect\n\nOutput values\n\nnb_pages : number of pages analyzed with this combination\nnb_words : number of words found by Tesseract\ntoo_short : words too short to be meaningful for this test (less than 3 characters). May actually be garbage if there are a lot of them.\nperfect : number of words found in the dictionnary\ncorrectable : number of words that can probably be fixed (levenshtein distance with the first suggestion from pyenchant == 1)\nmaybe : PyEnchant was able to provide suggestions. But none is really close to the original word found by Tesseract.\ngarbage : PyEnchant wasn't able to provide any suggestion at all\n\nNote regarding SWT\nSWT should return only pixels where it thinks there is a letter. Thing is, with scanned documents at 300 dpi, strokes are often too small, giving very poor results. So instead, this SWT implementation figures out the box around each word, and return the boxes as is (see https://github.com/jflesch/libpillowfight#python-api-5 PF_SWT_OUTPUT_ORIGINAL_BOXES )\n. Let's adjust the results a little bit.\nBecause of the crash, some algorithm combinations were applied on 187 documents, while others were on 188. So let's bring it back on 187 documents for each, etc.\nAlso, let's drop the 'maybe' and the 'too_short'. There are meaningless for Paperwork.\nraw\n  nb_words : 65024 ; perfect + correctable : 26563\nunpaper\n  nb_words : 64850 ; perfect + correctable : 26442\nswt\n  nb_words : 64770 ; perfect + correctable : 25981\nunpaper + swt\n  nb_words : 62309 ; perfect + correctable : 24886\nace\n  nb_words : 62233 ; perfect + correctable : 25872\nace + unpaper\n  nb_words : 61667 ; perfect + correctable : 25681\nace + swt\n  nb_words : 59759 ; perfect + correctable : 24219\nace + unpaper + swt\n  nb_words : 61464 ; perfect + correctable : 24946\n. Currently, my conclusion is that applying any image processing algorithm reduces the number of words found. On scanned documents, none bring any real improvement to the output of Tesseract.\nI guess I could try to make some improvements on the SWT algorithm. For instance, I've been thinking about making 2 passes : one of the image as is to find the word boxes, and one on each of the boxes, but extended enough so the strokes are correctly detected by SWT.\nBut I have already spent far too much time on that (reminder: I make this on my free time).\n\nHowever, I'll keep this ticket opened for now as a reminder : In the page editor, I want to include a button for ACE, and another button for Unpaper (or SWT?).\n. ACE: See #228 \nExport with Unpaper / SWT's algorithms:\nhttps://github.com/jflesch/paperwork-backend/commit/9a804d7a6852b4f35ce39edbc9362b869301771b\n99387e2921d7f884ee4c316a58d35e38aca16d3e\n4522311b8633dbc7ac4e34c5c7b3af74f9378c5a\n(seems to bring noticeable improvements only when exporting to PNG. I will have to check why it doesn't for PDF files)\n. b2c3a90d0d44cffe442858e082da30b625e95f48\n. Nice. Thank you very much :)\n. It looks awesome :). I'm going to merge it as is.\nI just have one other remark. When I open the label editor dialog, I get the following warnings :\n```\nINFO   root                           UI file used: src/paperwork/frontend/labeleditor/labeleditor.glade\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkColorPlane': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkGrid': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkOverlay': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkColorEditor': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkBox': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkColorChooserWidget': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkVBox': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkBox': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkDialog': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkColorPlane': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkGrid': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkOverlay': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkColorEditor': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkBox': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkColorChooserWidget': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkVBox': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkBox': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkDialog': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkColorPlane': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkGrid': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkOverlay': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkColorEditor': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkBox': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkColorChooserWidget': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkVBox': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkBox': NULL pointer\n(paperwork:10026): Gtk-WARNING **: drawing failure for widget `GtkDialog': NULL pointer\n```\nAlso, the label editor dialog looks a little bit weird/empty until we start selecting a color. I haven't had much time to look at it, but wouldn't it be possible to preselect a color ?\n. Just to clarify, here is what I see:\n- Before : http://jflesch.kwain.net/~jflesch/paperwork/no_color_selected_yet.png\n- After : http://jflesch.kwain.net/~jflesch/paperwork/color_selected.png\n. Hm, also, label edition has 2 bugs:\n- the color is not correctly pre-selected in the label editor dialog\n- closing the dialog is always considered as a cancelation (\"WARNING paperwork.frontend.mainwindow  Label edition cancelled\")\n. Anyway, again, great work ! :)\n. > I thought this was some bug you were aware of, as it appeared before I made any change\nHm, I didn't notice it before :/. I will see if I have time to have a look.\n. Just so you know, I tested it quickly and I saw a small bug : the header bar of the label editor dialog appears black at first. When the mouse goes over it, buttons appear.\nHowever, I think it's most likely a Gtk/Gnome 3 bug, so I don't think there is any reason to worry about it for now.\n. Looks perfect. Good for merge.\nThanks again :)\n. Oops, my bad, I missed this part in your comment\n. It looks awesome ! Thanks :)\n. This is more a Pyocr bug than Paperwork but ok. I'll have a look, probably this week-end.\n. Got it: It's a regression in Tesseract 3.04 (not present in 3.03).\nSince Tesseract 3.x, it's possible to specify \"stdin\" as input for Tesseract. It's handy since it avoids using temporary files in PyOCR/Paperwork.\nExample:\n$ tesseract stdin out_file < test.png\nTesseract Open Source OCR Engine v3.04.00 with Leptonica\n$ echo $?\n0\nUnfortunately, with Tesseract 3.04, when trying to detect the orientation of the image, it tries to open the file 'stdin' ... :\n$ tesseract -psm 0 stdin out_file < test.png \nTesseract Open Source OCR Engine v3.04.00 with Leptonica\nError in fopenReadStream: file not found\nError in pixRead: image file not found: stdin\nCannot open input file: stdin\n$ echo $?\n2\n. I'll open a ticket on Tesseract side later. In the meantime, I guess since the argument 'stdin' is not reliable, I'll change PyOCR so it uses a temporary file ... :/\n. Confirmed: https://github.com/tesseract-ocr/tesseract/issues/85\n. Fixed in PyOCR.\nYou can run sudo pip install --upgrade pyocr, it should solve this problem.\nPlease reopen this ticket if you still have a problem.\n. I actually don't work with virtualenv usually, but I think so, yes.\n. https://pypi.python.org/pypi/PyStemmer/\n. Ouch. This one may come from Paperwork, but it may also come from Python Whoosh, which would make it much harder for me to debug :/\n. I have some questions:\n- Does it happen too with \"\"\" label:Yves AND label:\"Soci\u00e9t\u00e9 G\u00e9n\u00e9rale\" AND label:\"livret A\" \"\"\" ?\n- If you run Paperwork from the terminal, is there any exception raised at some point ?\n. I have those too. Unfortunately, they are unrelated to your label problem.\nThose exceptions are actually related to search suggestions (and this is why you get none ....). I'm still trying to figure out what causes them\n. Regarding the exception, it was a bug in python-whoosh, and it's fixed upstream : #415 \n. Do you still have this problem ?\n. Cool :)\n. I just tested in a VM with Kubuntu 15.10, and it seems to work fine.\n. I'm going to close this bug. Please reopen if you still have problems (with Kubuntu 15.10).\n. Ok, that's something I can fix.\nI would prefer if I could reproduce it, but thanks to your information, I can do without it.\n. I hope to release 0.3.0 at the end of this month. So I'm simply going to move this ticket for 0.3.0.\n. Workaround: 4d83912dceb3c7de41319ab8da6ca448c5522227 (branch 'testing') (Until I figure out exactly what's going on here)\nIt will be available when I release Paperwork 0.3.0.\n. Nah, it works because it looks for files in multiple locations, the first one being '.' (useful when in development).\nFrom what you describe, it looks like sys.prefix isn't set correctly.\nI assume you installed Paperwork from virtualenv. Are you running Paperwork too from virtualenv ? (nevermind ; read too fast)\nBTW, please do not comment on ticket closed and targetted at versions already released. Please open a new ticket.\n. Actually, it seems @sampablokuper and you didn't use the same install method than @sigmahlm . So yeah, we are not talking about the same thing.\nIn his case, Pip installed the data files in a weird location.\nIn the case of @sampablokuper (and I assume yours), you installed Paperwork with pip3 install --user, which is a method I have never tested yet.\n. My bad. This doc is not up-to-date.\nThis settings has been removed in the latest versions. Latest versions of Paperwork and Pyocr use an feature of Tesseract to detect the page orientation. This feature is fast and reliable, making this setting in Paperwork useless.\n. 80% is totally abnormal. Which version of Tesseract and Pyocr do you use ?\n. Ok, you're up-to-date.\nCan you run Paperwork from a terminal and paste here its output when an orientation is not correctly detected please ?\n. I've just run test on Ubuntu (tesseract 3.04), and for portrait pages, it works fine for me.\nHowever, people are telling me it doesn't work well with landscape pages ( #406 ).\nAre you having this problem only with landscape pages, or with portrait pages as well ?\n. Is there anything specific to the documents that failed ? Is the background white for instance ?\n. Also, would it be possible to have a copy of a document that failed ? (I would understand if not)\n. Regarding the detection problem, a fix has been made : https://github.com/jflesch/paperwork/issues/406#issuecomment-184619701 . It is included in 0.3.1.\nFor this ticket, I just intend just update the documentation.\n. Documentation has been updated\n. > \u2014 After a search is done, and the focus is placed on an old document, and the search bar is cleared (in order to view all documents), it would be nice if the document list would centre on the focused document (same goes after the date of the focused document is changed, by the way).\n224\n\n\u2014 It would be nice to be able to search for a year, or a year-month. Then, in combination with the above wish item, this would allow a two-step narrowing (filter on date then browse).\n\nIt is already possible. If you let your mouse over the search field, a tooltip should appear, showing possible advanced searches (however this tooltip tends to bug ...).\nContent of the popup:\nSearch documents\n  * To search documents with a specific label: label:[label]\n  * Only the documents with a specific keyword: \"[keyword]\"\n  * Ignore documents containing a specific keyword: NOT [keyword]\n  * Find documents with one word or another: [keyword] OR [keyword]\n  * Documents with a specific date: date:YYYYMMDD or date:[YYYYMMDD to YYYYMMDD]\nI know it is something that is not intuitive at all. A dialog will be added later to make those complex searches more easily ( #193 ).\n. Duplicate of #224 and #193.\nPlease feel free to reopen if not\n. Can you tell me which GNU/Linux distribution do you use please ?\nIf you run Paperwork from a terminal, is there any Python exception appearing somewhere in the output ?\nOptional : Also, I think some screenshots could help. Can you make some please ?\n. Got it : https://github.com/python-pillow/Pillow/issues/1500\n. I've pushed fixes on the branch 'stable' and 'unstable'. Can you try one of them please ?\n. Ok, I've tested with Pillow 3.0 + branch 'unstable': I can reproduce the problem, and my changes do fix this problem.\nPlease reopen if you still have problems with page rotation.\n. I use it for daily usage.\nBut still, it's considered 'unstable' as I haven't tested all the features yet (and some may be still missing).\n. I think those changes could wait for 0.3.1 ? Again, 0.3.0 has to be good, not perfect ;)\nAlso the discussions here start to become a little bit messy. I'm going to open 0.3.1 milestones and start moving tickets to it. Feel free to open a new ticket for 0.3.1 regarding the \"New document\" / \"Scan to new document\" thing\n. (Woops, my bad, I didn't realize we already are on a separate ticket. I though I was still reading #356 ... nevermind, please keep going here ... :) )\n. Here is what I have in mind currently:\nWhen we are on a \"New document\" (ie when start Paperwork), it will display Paperwork's logo (the paperplane) in big where the pages should be. This is just for aesthetic.\nI'm also considering display \"hints\" : Small texts like \"Click here to scan or import files\" with an arrow pointing to the \"scan\" button. Not sure if that would really be useful.\nI don't know if it's pertinent to do anything more than that.\n. Actually, I think I'll keep it simple:\nWhen started, it just display the Paperwork + the version.\nI guess displaying the version immediately can be handy when it comes to support / bug report.\n0c96a4348208e051eb96356022fd16fdc891d859\ne6b7137fc999b30ee07dbe38fb2f1848abf0925f\n(Note that \"Paperwork 1.0\" will simply display \"Paperwork\" ; For some reason, \"Paperwork 1.0\" looks ugly to me. It makes me think of WIndows 3.11)\n. \n. I'm closing this issue for now. Please comment if you see something wrong with this change, and I'll reopen this ticket.\n. I'm going to assume this is for unstable.\n. Fix: a591792a04e46a7db3866fd7988a1d5e09880683 (it interrupted the multiple scans process)\n. Please reopen if you still have problems.\n. Which version ? stable or unstable ?\n. I'm going to assume this is for unstable.\n. >  it lacks some visual clue that something is happening.\n\nWARNING paperwork.frontend.util.canvas.animations Spinner icon not available\n\nPaperwork uses the icon theme from Gnome. Here it is looking for the icon \"process-working\" in size 48x48 and didn't find it. So it was unable to give you a visual clue.\n. Based on your screenshot in another ticket, you're obviously using Gnome. I fear the icon may have another name in the latest version (I'm using Gnome 3.14.1)\n. Good catch. I guess I will to scale it in Paperwork (32x32 is by far too small)\n. Fix for the icon: ded3c1649871a1bf8db2d2c484226093ee962412 (will load 32x32 icon and scale it to 64x64).\nPlease reopen if you still have problems\n. Hm, note that it happens when you are on a PDF:\n- \"scan single page\" always append a page to the current document. But it can't on a PDF\n- \"scan from feeder\" is always enabled if you have a feeder : the multi-scan dialog will then only allow you to create new documents, not append images to the current one.\nAlso, currently, the \"Scan from feeder\" option is not yet disabled when you don't have a feeder available. That's something I forgot to in the new UI.\n. 2d70d096c47a40aa1fb1da4da182f5d52a9fd167\n3578a7db1379defa49dfe0fc913bdf0c4137a263\nPlease reopen if you still have problems.\n. Arf ... commited by mistake as part of d9aa93bcdef83f91be1a70258a8098168a9d14bb\n. 6eeab79f85d571fd6567e0ade229080a0fb15909\n. Duly noted :)\n. Note to myself: see libgtk-3/gtk/deprecated/gtkcolorsel.c (functions mouse_release(), key_press() and get_screen_color(), and grab_color_at_pointer()) for reference\n. Done: 02ab5754ebfcb611d8e972fb5534561b15e8121a\n(this X/Gtk hack is ugggllly ... but well, it works)\n. How many documents / pages do you have ? (there is a script in Paperwork repository that can answer this questions : scripts/stats.py)\nAre they mostly PDF or image documents ?\n. There has been a bug related to PDF for a long time : Libpoppler is not thread-safe when it comes to opening or closing PDF files --> I decided to keep them open pretty much all the time.\nMaybe this is what caused your problem (but it implies you have >= 65500 PDF files ?)\nAnyway, I pushed a fix: 674c69afa57835e59ebc780947d939e7de881942\nI hope it won't make things too unstable :/\n. I need to do more testing, but it seems my workaround is not required anymore with the latest versions of Libpoppler. And hopefully it will fix your bug.\n. Probably my commit. I just hope it remains stable\n. Fixed in branch 'unstable': 35e4220ad35810454c45374051fc17c91a4d0dab\nBackported in branch 'stable': 2b886e4dc6ad65d19fa3fa7df35e5402bcef40df but there are still some leaks that don't appear in the branch 'unstable'.\nI don't think it's worth I spend more time fixing it in the branch 'stable'.\nPlease reopen if you still have problems.\n. It won't loose documents without you noticing (it never did for me anyway).\nAfaik, the worst that could happen is for instance loosing a page of a document when trying to move it. Or having label changes not actually applied.\nIn other words, things that you should see immediately, or soon after restarting Paperwork.\n. The weird thing is that it's working perfectly for me.\nQuestions:\n- If you run Paperwork from a terminal, do you have any warning regarding page orientation detection ?\n- Do you use Tesseract or Cuneiform ?\n- Is the correct language selected for OCR ?\n. Hm, everything seems ok ... that's weird ... :/\nJust out of curiosity, which version of Tesseract do you use ?\n. Hm, the only difference between you and me I can see is that I use Tesseract 3.03 while you use Tesseract 3.04.\nI'll install a Archlinux in a VM asap and see if it changes something.\n. I've installed the latest Ubuntu in a VM (faster than Arch to install ...).\nI tested with Paperwork testing.\nHere are my results:\n- Tesseract 3.04 (same as @tiramiseb )\n- 6 pages scanned. All of them have a white background. All of them are portrait pages. 2 of them were reversed when scanned.\n- Orientation detection: 100% success rate\n- Label guessing  11 correct out of 13 (84%)\nI just don't understand why it doesn't work for you too :(\n1) can one of you share with me one of the documents that failed with the orientation detection please ? (jflesch@gmail.com)\n2) FIY, if you want to check by yourselves what is returned by Tesseract, here is the command used by Paperwork/Pyocr : tesseract [image file name] stdout -psm 0.\n. Argh ... I misread the ticket .... I missed the keyword \"landscape\"...\nSorry guys :(\n. Ok, reproduced. I'm thinking it may be a bug in Pyocr.\n. Found : 46ea4d0cb7497d5b67ed6dd19f0198fb113b4abe\n(.. right after I release Paperwork 0.3.0 .......)\nSorry for the time it took me to figure out this stupid mistake :(\n. Duplicate of #406\n. Commit: 3fa737a1e21b9e183489adf9b40583fb0454eefa (on branch 'stable' and 'unstable')\n. Thanks for your bug report. Please don't hesitate to reopen this ticket if you have any other issue with your scanner.\n. hm, I think I can fix that easily. I will use the hash of the label.\n. ee5a4a6691568d7c8be87548ecf366ed6d316033\nPlease reopen if you still have problems :)\n. I think getting the fix from #410 + running rm -rf ~/.local/share/paperwork should solve this problem\n. Is it ok for you now ?\n. Actually, there are keyboard shortcuts integrated in the GtkCalendar:\n- Ctrl-left / Ctrl-right : change the month\n- Ctrl-Up / Ctrl-Down : change the year\n(you may have to click somewhere on the calendar first).\nI understand changing quickly the month and year is useful when scanning the documents you already have. But once that's done, that's something you never do again.\nSo I don't think it's worth changing the UI for that. I think just updating the documentation should be enough.\n. Here is what I'm going to do:\n- I'll move the ticket to 0.4.x\n- I'll release 0.3.0 as-is.\n- If enough people request this change, I'll move back this ticket to 0.3.x (maybe 0.3.1)\n- If not, either I implement it for 0.4.x or I don't implement it at all.\n. Hm, ok, I guess I can switch the field from readonly to readwrite and reparse the user input :)\n. https://github.com/jflesch/paperwork-backend/commit/06c9ef700a2a0e3fa6f25c96b7c34133474f1bbd\n34a1513e8b4dda8309a4bc20271ad83c3a17f859\nHere is how it goes:\n- As long as the date in the entry field is the same than the current one, the field has its text in black and gray~white background\n- When the date in the entry field is different from the current one:\n  - Either it can be successfully parsed, in which the field has its text in black and green (but not too green) background\n  - Or it can't be parsed, in which case the field  has its text in black and red (but not too red) background\nThe color is updated as the user types.\nAs long as the date is invalid (red background), the change can't be validated. Each time the user tries to validate it, a popup will appear saying \"no can't do\".\n. False alert. The menu didn't appear because, while Awesome was running, I also had gnome-settings-daemon running.\n. 771523b0c52a18cca4000f356f673e10a07eb6a9\n. Fix integrated in python-whoosh  2016-02-08 :\nhttps://bitbucket.org/mchaput/whoosh/pull-requests/65/fix-extend_prefix-problems-with-unicode/diff\n. Python-whoosh 2.7.2 solves the problem:\npip install --upgrade Whoosh\n. 9cb996f03fbf80e55e3478961ecc34761e7df8b9\n. Reload is actually done correctly, but it wasn't displayed correctly:\n270c606e926b9e829e80b5cf5e8d9c0dc5653587\n. It's a bug. Try to edit a page : start cropping the page, then rotate it before validating. You will see the display is a mess.\n. f63152de919fee54c5500f44bc33551e3334f078\n52a841029c86a170deb42087e61b12f51709dbbb\n4cb10a70e39bf2ce2665afc870c8c5c84ce714a5\nd8e75cd0f75fcf7024057b53feed763ac855c4ce\n839a7d853469f79c80e71754bc5d52e0de5cdc10\n4d46a75af0451a082fc8172ee2a17ed082dba968\n5c644e85de688c9c091e595182bbb10dbf0aadc1\n22cdf79b833e83fc9b756f50ac9a10fb19ba9f9a\n154d99fdb6def62e15b1ccceba2c841c0d966f1c\n(well, that was quite a painful fix ...)\n. Can't reproduce\n. Misread the ticket\n. 5e4a7e0ed03615645c802df85dc44b00ab8a347a\n. d6cf3429256c5120ee513cfdb003961c020a3fc5\n. 771523b0c52a18cca4000f356f673e10a07eb6a9\n. 8a531b77f0d3411f49d14d2347591affe1522fdb\n. Regarding the web interface, see #427 and #328\n. There is another problem : AFAIK, Windows doesn't support symlinks. So I guess it would a Linux/Unix/BSD-only feature.. 1) Ok, should be fixed: 5ff880c3d8b4195a694cf98b57e77efe97cca3fc\n2) Please don't truncate the stacktrace. Here luckily, I had enough information. But something the whole stacktrace is required\n3) Please work with branch 'testing' for now (sometimes, I forget to push the fixes in the branch 'unstable' and only do it much later)\nAnyway, thanks for your bug report :).\nPlease reopen this ticket if still have problems.\n. Not reproduced here :/\nAre you up-to-date ?\n(PS: Please work with the branch 'testing' for now please)\n. Thanks :)\n. Hello,\nI think ticket #328 could interest you.\nSo, yes, it would be possible. However:\n- Paperwork is designed to be as simple to install and use as possible. Web servers and web applications are not simple to install (yeah, I know, the dependency nightmare of Paperwork doesn't make it easy either as a Gtk GUI ... but package managers are supposed to take care of that).\n- I have no use for a web frontend (I sync my files with SparkleShare, and I can access them everywhere I need them). I don't develop features I don't use. Doing otherwise would be the best way to get regressions all the time.\n- With a web application, scanning is not an easy problem. You could use any scanner connected on the server side .. but it wouldn't make sense. You need to scan on the client side, and afaik, it would require a browser plugin.\nSo I'm not going to implement a web interface. Feel free to do it yourself if you want. I will gladly help you with any questions about Paperwork backend you might have.\n. Not reproduced. The only problem is that the list is refreshed without including the new document\n. Someone has already started working on it :\nhttps://groups.google.com/forum/#!topic/paperwork-gui/pwETR9NoXO4\nI, for one, am not going to work on it (I don't have enough free time to work on it, and I'm not interested anyway). And, IMHO, it's like making packages for each GNU/Linux distribution. It's simply out of the scope of this project.\nIf you want to make a Docker container, feel free to do it. I'll gladly add a link in the documentation to your container.\n. Hm, I think I'm going to reply the same thing than for #431 :\n- 0.3.0 won't need all those annoying dependencies anymore\n- I hope to release 0.3.0 at the end of this month\nSo I think it's not worth spending much time one those issues. But thanks anyway for taking the time of reporting them.\n(PS: If you want to have fun, 0.3.0 is currently in the branch 'testing' :) )\n. Well, the good news is that Paperwork 0.3.0 (and later) won't need numpy, scikit & co anymore. They have always been a pain, and it was time I get rid of them.\nAlso, I intend to release Paperwork 0.3.0 at the end of this month, so I'm even wondering if it's worth trying to fix this issue ...\n. https://github.com/jflesch/paperwork/wiki/Contact#bug-trackers\n. Sorry, I didn't have much time to reply. So, to clarify my previous reply, your ticket lacks a lot of informations.\nCan you please tell me at least on which GNU/Linux distribution you installed Paperwork and how ?\n. By the way, it seems you're starting Paperwork using Python 3. At the moment, Paperwork only supports Python 2.7. \n. Also, which version of Paperwork ?\n. 1) The idea with showing only the dates is \"why bother giving them a name ?\". The name is usually on the paper, so the OCR can pick it up, and you can search for it easily. If you really want, you can rename the folders in your work directory, Paperwork should then display as-is instead of the date. However, renamed documents won't be sorted correctly anymore.\n2) Page/word highlighting may take a few seconds to load (it's a CPU-heavy operation, so it's delayed). If you have to wait more than 10 seconds, there is a bug.\n. 1) I have no use for it, and I don't develop things I don't use --> not going to happen (not by me anyway)\n2) This is weird.\nI'm going to focus this ticket on point 1.\n. Actually, this ticket is becoming messy. I'm making a new one : #436.\nI'm closing this one.\n. Almost perfect :)\nIf you can just remove those tags, I will merge it asap.\n. Perfect, thanks :)\n. In 0.3 (branch 'testing'), that's not a bug, it's a feature.\nMenu bar are deprecated in Gnome applications.\nThey are replaced by application menus (at the top of the screen in Gnome 3).\nIf you're not using Gnome, in the title bar /tool bar, you should have an extra button. This button has the icon of Paperwork, and gives access to the application menu.\n. The screenshots you saw are probably from 0.2 (branch 'stable'). You can have a look here for the screenshots of 0.3.\n. By the way, the 'import' options are right beside the 'scan' button (top right of the window).\n. I'm going to close this issue. Please reopen if you still have problems.\n. Probably related to the following fixes:\nhttps://github.com/jflesch/paperwork-backend/commit/795380d090cdfa5505be56e94efd270f151f7016\nhttps://github.com/jflesch/paperwork-backend/commit/877f1399fc20209cce6623cbbfdaa14c2ccbd83b\n. 90af0a00c35d835a5a7540a3388d880d67caa3ba\n2a1ea980796393bae4f9ec9b2726fad234681c01\n(The main window wasn't pointing on the same instance of the document than the doclist)\n. https://github.com/jflesch/paperwork-backend/commit/877f1399fc20209cce6623cbbfdaa14c2ccbd83b\n. When installing from the git repository, can you give me the exact command you use please ?\n. Fixed : 853640bb003262a5e601d35e17439e077ed974fe\nI've released a version 0.3.0.1 including this fix.\nSorry for the inconvenience :(\n. Can you tell me which version of Gtk is installed on your system please ?\n. FYI, on Debian stable:\n$ apt-cache show libgtk-3-0                         \n(...)\nVersion: 3.14.5-1+deb8u1\n. Actually, I found the answer myself: http://packages.linuxmint.com/search.php?keyword=libgtk-3-0&release=any&section=any (Linux Mint 17.3 = Rosa)\nYou have Gtk 3.10.\ngtk-decoration-layout appeared in Gtk 3.12\n. So in short, Linux Mint has packages even older than Debian stable ... I .. I didn't know it was possible ... ;)\nMore seriously, I just can't support too old versions of Paperwork's dependencies. Afaik, most opensources projects actually work and test only with packages >= Debian Testing. It's too much work doing otherwise.\nIn this specific case, I can workaround easily, so I will. But if there are any more problems due to dependencies too old, I'm sorry but you will be on your own (in other words, stuck with Paperwork 0.2.x).\n. Workaround : ba781e3a5d1cb093008a4b07e902f686dea66306\nPlease reopen this ticket if this workaround doesn't actually work.\n. What you can try is to edit src/paperwork/frontend/mainwindow/mainwindow.glade, and just replace \"3.14\" by \"3.10\". If it works, I can also apply this change in the Git repository of Paperwork.\nIf it fails even after this change, then I'm sorry, but I'll leave things as is.\n(I could test it myself, but I would have to download the iso and install a VM I may never use again ...)\n. Did you try just changing the version number in the .glade files ? If you're lucky, it may be enough.\nRegarding the Docker container, I guess a LXC container could also do the trick. I tend to prefer LXC containers because of their simpler approach, but meh, whatever float your boat.\nNote that currently, you don't have to switch to the unstable branch. Right now, 'stable' and 'unstable' have pretty much the same content (I haven't really started working on 0.4.0/unstable yet).\n. I think it's because Docker keeps a cache of the result of each command. If you don't change the command (here git clone), it won't execute it again. It will start immediately from the Docker image that resulted from this command (which, in your case, must still include Paperwork 0.2.4).\n. Duplicate of #440\n. Hi,\nYou can do it if you want, but it's out of the scope of Paperwork\n. Have fun :)\n(Since this ticket is not a bug report of feature request, I'm going to close it ; we can continue the discussion on the mailing-list if you want)\n. Ubuntu LTS I guess ?\nThen this ticket is a duplicate of #441 and #440 .\n. Good to know. And thanks for the pull request :)\n. 1) With how many documents did you try ? I have 1200, and the results of the label guessing are usually pretty good. However, I haven't tested it much with a small set of document.\n2) I have nothing against using a method other than Bayesian filters.\nJust regarding scikit / numpy, they are really problematic to have as dependencies in Paperwork. Previously, label guessing was done using scikit / numpy (based on the text, but also on the thumbnail of the documents) (coded by someone else). It created many problems : It made installation much harder, it made packaging in distributions much harder, and it was quite slow.\n3) I just had a very quick look at what you suggest. I have a (maybe stupid) question : It seems to me that document clustering is designed to sort documents into exclusive categories. Labels in Paperwork are not exclusive. I guess a solution would be to do as many document clusterings as there are labels (with each time only 2 categories: \"has the label\" / \"has not the label\"). But would that be efficient ? (more than the Bayesian filters I mean)\n. 1) I think it should be enough. I'll give a try when I have enough free time (probably not for a while ...)\n2) Hm, I see the idea, but from a GUI standpoint, I don't think it would be easy to represent cleanly.\n3) Ok, let's see if I understand what you're asking:\n- You want to be able to define a list of labels, without attaching them immediatly to documents ?\n- You want a button to guess the labels on all the already-scanned documents ?\n\nthe companies issuing the document\n\nJust a quick suggestion : don't do that. With time, there will be a lot of companies, and you will end up with a lot of labels to manage. Since the OCR can usually extract the name of each company from the documents, it's pointless. If required, you can find them back quickly just by searching the name of the company. Worst case scenario, you can usually find them back by filtering by label and looking at the dates of the documents.\nI tend to use only vague labels (\"bills\", \"car\", \"house\", etc), and let the OCR+search engine take care of the rest.\nRemember, the goal when using Paperwork is being lazy ;-)\n. Hm, interresting. Here something you can try: rm -rf ~/.local/share/paperwork\nIt will delete the index and bayesian cache used by Paperwork, forcing it to rebuild them from scratch next time it is started.\nIf it works, then it means I didn't manage the bayesian filters correctly.\nAlso, did you try with WEIGHT_YES = 1 ? I'm wondering if weighting the results was such a good idea.\n. Hm, you're probably right. I will check, but I think right now, they train themselves (--> assume that the user would have corrected them if they did something wrong).\nWas your last test still with WEIGHT=1 ?\n. Ok, I need to improve my test methodology.\nCurrently, I use scripts/stats.py what the best way to do things : It goes on each document, and see if the label guessed by Paperwork match the one actually on the document (using the current training).\nI think I will have to write a script that simulate adding documents, starting from an empty work directory, + a user fixing the labels, and see what gives the best result.\n. I've made a script : scripts/simulate-workdir.py\nIt's now quite clear I'm not using Simplebayes correctly.\n. Hm, the problems with that are:\n- it is a workaround, and workaround are bad. Real solutions are much better. \n- it would require a lot of code. Code which could work well .. statistically. And extra code means extra bugs\nAnyway, when I destroy my index + bayesian filter caches and rebuild them from scratch, I get >95% success rate.\nI should be able to get the same result by just adding documents like the user do. I think it's only a matter of fine-tuning the way I use Simplebayes.\n. \nCurrently, the stats are really bad:\nNb documents:             517\nLabels correctly guessed: 542/630 = 86%\nLabels not guessed:       88/630 = 13%\nLabels wrongly guessed:   1204/2200 = 54%\nIt gets wrong labels on pretty much all the documents.\nEdit: to clarify : Here 630 is the total number of labels on all the source documents (those serving as reference). 2200 is the total number of labels the guessing code returned.\n\nUpdate: the script was buggued\n. \nWEIGHT_YES=1.0, WEIGHT_NO=1.0, learn only from mistakes, no untraining before retraining\nNb documents:             549\nLabels correctly guessed: 305/661 = 46%\nLabels not guessed:       356/661 = 53%\nLabels wrongly guessed:   81/397 = 20%\n\nUpdate: the script was buggued\n. @Yusei\nActually, there were bugs in my implementation :/ (Basically, when you changed a label in a document, the untraining / training wasn't really taken into account)\nSo maybe training the filters with the correctly-guessed labels is not to the problem here actually.\nI'll keep doing tests.\n. WEIGHT_YES = 1.0, WEIGHT_NO = 1.0, learn from all labels (guessed or from user), learn only from first page of each document\nSuccess/total:            438/931 = 47%\nLabels correctly guessed: 531/1154 = 46%\nLabels not guessed:       623/1154 = 53%\nLabels wrongly guessed:   79/610 = 12%\n. WEIGHT_YES = 1.0, WEIGHT_NO = 1.0, learn from all labels (guessed or from user), learn from whole documents\nSuccess/total:            326/736 = 44%\nLabels correctly guessed: 450/901 = 49%\nLabels not guessed:       451/901 = 50%\nLabels wrongly guessed:   162/612 = 26%\n(the success rate kept going down)\nSo learning only from the first page of each document is better.\n. WEIGHT_YES = 5.0, WEIGHT_NO = 1.0, learn from all labels (guessed or from user), learn from first page only\nSuccess/total:            490/826 = 59%\nLabels correctly guessed: 800/1019 = 78%\nLabels not guessed:       219/1019 = 21%\nLabels wrongly guessed:   325/1125 = 28%\n. WEIGHT_YES = 1.0, WEIGHT_NO = 1.0, learn from user only, learn from first page only\nSuccess/total:            217/469 = 46%\nLabels correctly guessed: 271/563 = 48%\nLabels not guessed:       292/563 = 51%\nLabels wrongly guessed:   72/343 = 20%\nIt started very well with a success rate > 60%, then it slowly kept falling down ...\n. WEIGHT_YES = 2.5, WEIGHT_NO = 1.0, learn from user only, learn from first page only\nSuccess/total:            523/951 = 54%\nLabels correctly guessed: 738/1183 = 62%\nLabels not guessed:       445/1183 = 37%\nLabels wrongly guessed:   192/930 = 20%\nIt started also very well, but after ~200 documents, it settled at a success rate <= 55%.\n(I toyed with the WEIGHT_YES to get the best result possible. WEIGHT_YES = 5.0 gave poor results)\n. WEIGHT_YES = 2.5, WEIGHT_NO = 1.0, learn from all labels (guessed or from user) but with an emphasis on user changes (see branch wip-optim-learning-2), learn from first page only\nSuccess/total:            324/608 = 53%\nLabels correctly guessed: 446/730 = 61%\nLabels not guessed:       284/730 = 38%\nLabels wrongly guessed:   146/592 = 24%\n. For reference, before the fixes, the result was the following:\nSuccess/total:            4/102 = 3%\nLabels correctly guessed: 103/117 = 88%\nLabels not guessed:       14/117 = 11%\nLabels wrongly guessed:   201/304 = 66%\nI think I will have to do a release 0.3.1 asap.\n. I think the version currently in the branch 'stable' is good enough. I'll release it as 0.3.1.\nI'll see later if I can still improve it.\n. Thanks for the information. I've updated the instructions : 0a8344d39071f93f5057dd34e36d94d67a6d4208\n. Duplicate of #443 #441 #440 .\nAs mentioned in one of the tickets, the latest version of Paperwork working on your distribution is Paperwork 0.2.5.\n. Thanks for the fix :)\n. Agreed.\nI guess the other option is that I finally port Paperwork to Python 3 :-). AFAIK, there are no more blocking dependencies (I need to check again).\n. The branch 'unstable' is now python3-ready + python3-only.\nWhat you suggest seem to work with Python 2.7 (branch 'stable') but for some reason, not with Python 3.x (branch 'unstable') :/\nI haven't been able to find the correct way to do it yet.\n. It made troubles even with Python 2.7 --> Removed: 2c1915409d8ba01ce5d17c782b7564d9c642d814 .\nI don't think there is any clean way to do that. The only way would be something like http://stackoverflow.com/a/13385468/5119781 , and it would still download the package first.\nSo I'm closing this ticket. If you have a better solution, feel free to reopen.\n. Why did you merge the trees from both repositories ? oO\nI though your suggestion was only about managing changes between stable and unstable branches of Paperwork-gui/Paperwork-backend (which was surprising to me, since it's usually only me who takes care of that).\nAnyway, the usual way to do things is to setup a virtualenv. Something like :\n```\n$ sudo apt-get install virtualenv python3-virtualenv\n$ virtualenv -p /usr/bin/python3 dev_env\n$ cd dev_env\n$ source bin/activate\n[dev_env] $ git clone git@github.com:jflesch/paperwork-backend.git\n[dev_env] $ cd paperwork-backend\n[dev_env] $ python3 ./setup.py install\n[dev_env] $ cd ..\n[dev_env] $ git init your_project\n[dev_env] $ cd your_project\n[dev_env] $ python3\n\n\n\nfrom paperwork_backend.docsearch import DocSearch\n```\n\n\n\n(Note that I don't usually use virtualenv. I just install paperwork-backend directly on my machine with sudo python3 ./setup.py install)\n. Basically, just treat paperwork-backend as you would treat any other dependency.\n. Hm, weird, git pull alone shouldn't have merged the trees (unless you specified git pull <the new remote> ?). Anyway sorry, I guess my explanations weren't really clear.\nRegarding paperwork-backend, right now you can't install it via pip because I haven't made any release yet. You will have to install it manually.\n. Ok, obviously we misunderstood each other again.\nPaperwork is a Gtk GUI. Paperwork itself is not going to be multi-interface project.\nIf I split the backend from the frontend, it's to allow other people to make their own interface on top of Paperwork's backend, separately from Paperwork. It's not to add interfaces in Paperwork itself.\nSo feel free to make your own web interface in your own repository and project. You can call it paperwork-web for instance if you like. You can even discuss it with others on the paperwork mailing-list if you want. But I don't indent to use or maintain an extra interface in jflesch/paperwork.\n. Thanks :)\n. \n. c900d775b440406e8ad2aa6d4d65e36732e74ed1\n. 1) The missing executable bit is weird. Pip/setuptools should take care of that\n2) The Python exception happens sometimes when Paperwork stops. I haven't figured out why yet. But it's a non-blocking issue.\n3 ) Now, your logs are strange : Did Paperwork just start and stopped immediately on its own ?\n. This is really weird. I'm running Debian Stretch at home and everything works fine.\nWhat you can try (as root), just to be sure it's not an older version that create troubles:\npip uninstall paperwork  # many times, until it says there is nothing installed anymore\npip uninstall pyocr  # many times, until it says there is nothing installed anymore\npip uninstall pyinsane  # many times, until it says there is nothing installed anymore\nrm -rf /usr/local/lib/python2.7/dist-packages/paperwork*\nrm -rf /usr/local/lib/python2.7/dist-packages/pyocr*\nrm -rf /usr/local/lib/python2.7/dist-packages/pyinsane*\nThen reinstall Paperwork.\n. I forgot:\nrm -rf /usr/share/paperwork /usr/local/share/paperwork\n. Also, maybe running PAPERWORK_VERBOSE=DEBUG paperwork instead of just paperwork will give you more information.\n. Darn\n. No it was a mistake from me (because of this ticket : #450 ).\nI've released a 0.3.1.1 to fix it.\nSorry for the mess.\n. Ok, I'm closing this ticket. Please reopen if you have this problem again.\n. Have you installed Tesseract or Cuneiform ?\n. Also, would it be possible to have the full output of Paperwork please ?\n. ping ?\n. 1) You should work on the branch 'unstable' , not the branch 'stable'. 'stable' is only for bugfixes.\n2) I think it would have been best to discuss the changes with me before doing them (ok, I admit this one is buried deep in the FAQ). For examples, I see some changes that break other features in the UI. If you want me to integrate those changes, we will have to fix them first.\n3) If you want, I can already go through your commits and either cherry-pick the valid ones in the branch 'unstable', or comment on them to tell you what's wrong.\nRegarding the branch 'unstable', there are some things to know:\n- the backend has been split from the frontend\n- It must be used with Python 3\n- At the moment, scanning is broken. It segfaults. I think it's due to the changes in src/paperwork/backend/util.py I had to make to switch to Python 3 (image2surface() and surface2image() have been changed). I haven't had time to fix it yet.\n. ping ?\n. 08ae43cf4b7d259580c572b0fe96c689297ee041\n. Did you upgrade from a previous version of Paperwork ?\n. After uninstalling the previous version of Paperwork, did you reinstall the new one ?\n. 1) At one point, you run 'paperwork', and at the other 'strace paperwork-chkdeps' ? why ? why strace ?\n2) Paperwork >= 0.3.0 won't run on Ubuntu LTS. Paperwork needs Gtk 3.14, and Ubuntu LTS only provides Gtk 3.10 (or 3.12, I don't remember exactly). I think this ticket is likely going to be a duplicate of #447 #443 #441 #440 .\n. I'm going to close this issue. I can reopen it later if you still have problems.\n. There is a workaround you can try in the meantime:\nYou can edit ~/.config/paperwork.conf and change manually the lang to something like \"eng+swe\"\n. Does your edit mean it actually works ? :)\n. Related to #51 . > can't pickle Document objects\nThe only objects called Document come from Poppler. They cannot be pickled (they are gobject bindings). However, currently, page objects don't keep any reference to Poppler objects, so pickling shouldn't be a problem here :/. BTW, wouldn't it be more useful to modify PdfDirectoryImporter instead of the command shell import itself ?. > ocr is atm done in the import and ocr shell subcommands so this was just the first possibility for me to intersect with this behaviour.\n\nDo you think this feature would be cleaner implemented in PdfDirectoryImporter and remove the ocr part in the import subcommand but keep it in the ocr subcommand?\n\nNevermind :)\nI forgot that docimport.PdfDirectoryImporter only did the actual import and not the OCR.\nIt's fine like that :). JobOCR.do_ocr_with_tool_heuristic() uses the orientation detection functions of the OCR tool (Tesseract).\nJobOCR.do_ocr_with_custom_heuristic() is used when the OCR tool doesn't provide page orientation detection functions (Cuneiform and old versions of Tesseract). It runs the OCR tool on the 4 possible orientations and use an heuristic function to give a score to each one (based on the number of words found). It keeps the orientation that gave the best score. --> trying on the 4 possible orientations is done in parallel in one shot (on a 4 cores CPU). In other words, JobOCR.do_ocr_with_custom_heuristic()  is an old way of doing things. It's pretty much obsolete at this point.. No. As I said, JobOCR.do_ocr_with_custom_heuristic() is about to become obsolete.\nYou would better focus on JobOCR.do_ocr_with_tool_heuristic().. Anyway, if you want to parallelize OCR in the GUI, you will have one major difficulty: Paperwork displays OCR as it goes. This won't be an easy change :/. > Can you take the needed GUI changes for multithreaded ocr in your timeline?\n(@Jflesch looks at his TODO list and sighs).\nNo, not really. My goals at the moment are #702 and then #194 and they are going to require a lot of time.\n\nAre you planning to release 1.2.4 in the coming days with the ocr changes in paperwork-shell?\n\nUsually new features go into the next minor version (1.3.x here), not the next update (1.2.4 ; usually bug fixes only).\nHowever, because of #702 , I must admit 1.3.x won't be released any time soon (I estimate it at about 6 months to 1 year).\nThat's why I made continuous Flatpak builds of the branch 'master' and 'develop': So people can work with the latest features (and latest bugs ;) without waiting for the latest release.\nI would prefer you use the Flatpak build if possible.\nIf not possible, since your changes are small, I guess I could include them in 1.2.4 .... Ok. Good for me.\nHowever, just so you know, I'm not going to use Docker. So you (or someone else) will have to maintain the Dockerfile.\nBefore each major release, there is a ~1 month testing phase (announced on the mailing-list). If at the end of this testing phase, the Dockerfile is not up-to-date anymore, I'll have to remove it. (I don't keep outdated/unmaintained code forever)\n. Thank you for your contribution :)\n. First of all, thanks for your contribution. Your changes seem fine.\nHowever I'm sorry, new features should go only in the branch 'unstable'. The branch 'stable' is only for bug fixes. I can't accept this pull request as is.\nRegarding the branch 'unstable', just be aware that this branch runs now with Python 3 (and only Python 3 !).\nPlease reopen a pull request for the branch 'unstable', and I will gladly accept your changes.\n. I made calls for Debian maintainers many times on a website where I go often. Up to now, about 3 people have tried to do the job. All of them ran out of free time before finishing. However, it was when 0.2.x was the current version. With 0.3.x the dependencies should be much more lightweight. So I guess it should be worth retrying.\nI recently discovered that @plietar got PyOCR packaged in Debian sid (which makes me really really happy since I have been a Debian user for about 10 years now :D). I can only hope he is now working on getting Pyinsane and Paperwork 0.3.x packaged as well.\n. Afaik, there is no .deb packaging that is up-to-date. (someone made basic/maybe-incomplete Paperwork packages a while ago, but I can't find them back)\nRegarding gscan2pdf, I guess you already know it, but the goal is not really the same than Paperwork. \nGscan2pdf simply generates PDF from scans and let you use other piece of software to index and search your PDFs. It gives you a lot of options to get PDF the exact way you want, with the best OCR result possible.\nOn the other hand, Paperwork acts as a full personal document manager (index + search). Because it manages indexing + searching, it can ensure fuzzy searches are possible. Which means OCR doesn't have to be perfect. It just has to be good-enough.\nSo you can be lazy and efficient. Paperwork doesn't give you a lot of options to fine-tune scan+OCR, and it's actually by design.\nI guess both approaches make sense, depending on what you want to do.\nIn other words, there are not really alternatives to each other. They are different tools for different usages.\n. Last news I had from @rvandegrift was 06/14/2014, when he told us that he couldn't work on it anymore.\nHe had a Debian repository running with packages for Paperwork 0.1.2. Since they haven't been checked by anyone else from Debian, I'm not sure if they are complete/correct.\n. Yes, here. But please do get a stack trace with gdb first. Otherwise I won't be able to do anything about it.\n```\n$ git clone git@github.com:jflesch/pyinsane.git\n$ cd pyinsane\n$ gdb --args python ./run_tests.py\n\nr\n(...)\n()\nbt\n```\n. Hm, actually, I'm not even sure that the Pyinsane tests are the one segfaulting here ...\n. By the way, if I remember correctly, those tests require the user to have a scanner connected. I don't think it's a good idea to run them in the build script.\n. > I've currently got two scanners connected.\n\nMy point is, builds can be done on remote build machine. In that case, you don't want those tests to run. So it shouldn't be part of the build file.\n. Oh right, I forgot this contrib :). Sorry.\n. I get this warning too. But things have been working fine.\nNot sure where it comes from.\n. Update: the warning came from invalid calls to Gtk.Widget.queue_draw() (I passed negative values sometimes). It has been fixed in the 1.0.\nIs this ticket still useful, or can  I close it ?. There have been a lot of changes in Pyinsane since. So it's worth trying again and see if it segfaults again. ping ?. No problem.\nI guess I'll keep it open for now. Maybe at some point I'll make the packages myself ..... There is now a Flatpak package available: https://github.com/openpaperwork/paperwork/tree/unstable/flatpak#readme\nHowever it would still be nice to have a clean Debian packaging.. They are already always sorted by date, newest first.\nSo what's exactly the request behind this ticket ?\n. Well, that was a quickly fixed ticket :)\n. Thanks :)\n. How many documents do you have ? (ls -1 ~/papers | wc -l)\nAnd how many PDFs ? (find ~/papers -name \\*.pdf | wc -l)\n. Will be fixed in 0.4:\n- https://github.com/jflesch/paperwork-backend/commit/ca25c51fbca2acedfa294dad18129a6773ba970b\n- https://github.com/jflesch/paperwork-backend/commit/b9def15b54ce31c69580e34bd604754a9a848af6\n- db0a4dda35a2612e6c2c650af3f12f0f3511d54d\n- 39fe95c06efc5e8d0a41ad29a2bc48a400ee2801\nSorry for the delay.\n. Do you have any concrete use case ?\n. I think I'll simply allow selection of mulitple documents (with Ctrl / Shift). I just need to figure out how to present the export dialog in a clear manner.\n. https://github.com/jflesch/paperwork-backend/commit/2e90247952b79f2558a613419e74b285c24bc079\ndef8e4fa4dfdd38aecf148255f57e828977946fc\nbc8fa0773e0234413bfffaed7079ecb4106e7212\n2fafbda91d0c20889c62be038cbe0946d5d41ebb\nIn the next version, it will be possible to select multiple documents using Ctrl+click, Shift+click, Ctrl+a, etc.\nWhen using the option export->document(s), if there are many documents selected, it will ask for a folder when to store the exported documents.\nOnly exporting multiple documents to PDF is supported.\n. See #496 for future GUI improvements\n. There has never been any forcing of the fullscreen resolution. When Paperwork is restarted, it recreates the main window with the same size it had when it was last stopped. I have never changed this code, and it's by far older than the 0.1.\nHowever, if you're using Gnome 3, note that it has a really annoying behavior:\nWhen a new main window is created and request a size > x% of the screen, Gnome shell maximizes the window. For instance, you can check and see the very same behavior with Gedit.\n. @tclavier : ping  ?\n. ping ?\n. It feels like it may be a problem due to Xorg / Wayland, no ? Which version of Debian and Ubuntu are you both running exactly ?\n. Ping ?\n. Ok\n. Sorry, orientation is not detected and fixed in PDFs and image files import.\nI understand that some people do scan their documents elsewhere before importing them as PDF in Paperwork. Some of them even have a different OCR running on them, including found text in the PDF. But I simply didn't think someone might need orientation detection with the PDFs.\nNote that Paperwork never modify the PDF files (it can't ; libpoppler is a read-only library). So even if I make it possible to change page orientation in PDF and enable orientation detection, it will never be applied in the PDF file itself. Orientation will be written in a file beside the PDF and fixed on-the-fly everytime at display.  But Evince for instance won't see the fix.\nI'm closing this ticket. If you want, feel free to open another one, but as a feature request this time.\n. Thanks :)\n. Yep, duplicate of #412 \n. This is something that has already been requested many times, but I'm actually against it.\nPaperwork is designed to let the user being lazy. The less they (have to) do, the better.\nMake it possible to add a title and users will feel they have to put one.\nIn case keywords are missing in a document, it's possible to add additional keywords. But most of the time you don't (shouldn't ?) have to do it.\n. Thanks :)\nJust a remark : Your pull request description clearly shows there are 3 changes. Next time, please try to 3 commits. It keeps the history cleaner, and makes reverting one of the changes easier if there is actually a problem. \"git gui\" can help you do that easily. (this is not blocking ; I'm not a history maniac)\n. Nice catch. Thanks :)\n. Looks good to me. I'm just wondering why are they 2 colors in the progressbar, and in your example shouldn't it be to 50% ?\n. > total number of occurences accross all documents\nYeah .. with the text above referring to the current document, that's really confusing.\nAlso, I think if you want to know where you are in the documents matching your query, you can just look at the document list scroll bar.\nBy the way, counting the number of occurrences in other documents is technically a problem. Thanks to Whoosh, I can easily know which documents contain some keywords, but I can't know the number of occurrences in each one.\nI think it's just simpler if we keep focusing all displayed informations on the current document only (after all, it's in the right part of the window).\nI also don't think 2 colors are useful (may be confusing to some ?).\nNow, another question : When the user clicks the button \"next\" and reaches the end of the document, what would be best : \na) Loop back to the first occurrence of the current document\nb) Open the next document and go to the next occurrence ?\n. > \"1st of 3 matching papers - 1st of 2 occurrence in this paper\"\nToo much text IMHO.\nHowever, maybe, on top of the document list, we could display the very same progress bar with a similar text ? I think it would be clearer ?\n. This mockup looks good. I assume the \"32\" on blue background is the total number of documents in the list ?\n. Actually, I'm confused by this third mockup ... :/\nThe \"2 of 2\" refers to the content of the current document, or to the total number of occurrences ?\nEither it refers to the content of the current document, in which case it shouldn't be in the document list ; it should on the right, above the pages ;\nOr it refers to the total number of occurrences, in which case there are too many documents displayed in your document list ?\n. Yeah, it was a bad idea from me.\nSorry the extra time you had to take to mock it up :/\n. Hm, I wonder, maybe we can build something starting from your second mockup. What about:\n[<<]  [<] 2 of 3 occurences [>] [>>]\non top of the pages ?\nWith the following tooltips when hovering the buttons:\n\n[>] next occurrence\n[>>] next document\n[<] previous occurrence\n[<<] previous document\n\n--> In other words, let's scrap the total number of documents or total number of occurrences for now ? We can add it back later if we feel a real need for it (and anyway, as I said, it won't be easy to implement).\nIf we go this way, one question remains : What is the expected behavior of the button [<] when we are on the very first occurrence of the document, or [>] when we are on the last one ? Do we loop back, or do we disable the button ? (same goes for [<<] and [>>] actually)\nI guess the most common behavior when searching is looping back ?\nWhat do you think ?. Keeping the buttons together : ok\nRegarding first/last occurrence, it means having 6 buttons. I think it's too much.\nWhen you look at Firefox or Gedit, there are no such buttons.\nFirst occurrence could be found by going back to the first page, clicking on one of the first words and clicking \"next\" (like Firefox). Same goes for last occurrence (last page + click on one of the last words).. Mockup 2 + \"[<<] white space [|<] [<] 2 of 3 [>] [>|] white space [>>]\" is ok for me.. Displaying the count of documents matching the query: e4c15359c936ca7cc7f9a62b4dee179bc5644fb8. Search bar: a707b583b05cd607b26fb5a523ca0f2a6dcc5a32\nI still have to make the buttons work. Search bar buttons: 652a1de0fac3d0246c3eb1c853517c843cd8fa8e\nStill need to highlight the boxes correctly + load the boxes on all the pages when the document is opened (instead of on-the-fly when the page is displayed as of now). Searchbar: Highlight / select the target box : fc1262fb77af3597bd8cc22200e38ad9de355112. Immediate loading of boxes when the document is opened: 6bd0babcd068d6921ce6e4ca6e130dd960d486de. Keyboard shortcuts: F3 (next occurrence) / Ctrl+F3 (previous occurrence): 833aecbfa1823fc4a8109a2627f7e6e13191d5bb. All done ! :). Because I thought it was Ctrl+F3 the usual one ... I'm going to fix it :-). Shift+F3: 43224aaefe11c133f869466aaa93f06da4144bb4. Quite frankly, I don't see how I could make any of that without turning the UI into something similar to the space shuttle control panels (or worst, into something similar to Eclipse IDE :P).\nSo I'm going to keep this ticket opened, in case someone has a great idea to make it work in the UI. But as it is right now, this is not going to happen.. @tYYGH : #337 :). https://github.com/jflesch/paperwork-backend/commit/c14abf5bd7f880ffc7c902da400de78f897e72e8\nhttps://github.com/jflesch/paperwork-backend/commit/81a5679ae42f0c643291ef5fda097880bfe350e1\ne1524529d3f2da90e4c4c7e14e3c527d749eac80\n. Hello,\nDid you check with ps that you don't have any paperwork process remaining in the background ?\nI have this exception sometimes. Usually, here is what happens when it happens to me:\n- I start Paperwork\n- For some reason, it rebuild the index from scratch (I keep switching between version stable and unstable, so it has to)\n- The rebuild last too long, so I close Paperwork\n- The main window disappear, but the process of Paperwork remains in Paperwork (known bug ; don't know why yet)\n- I try to start a new instance of Paperwork, and I get this exception\n. Hm, weird. Anyway, since neither you or me are able to reproduce this issue anymore, I have to close it.\nIf you (or someone) else can reproduce it again, please comment on this ticket, and I will reopen it.\n. I think this is a duplicate of #457.\nIf not, please comment and I will reopen.\n. 05747989e69b0a92e03378e26b43fafb9ade2f5f\n. After a while trying to find the origin, the screwed up images seems to come from the HP driver for Sane (hpaio). Valgrind shows that, when calling sane_read(), it writes uninitialized bytes in the beginning of the first buffer. It doesn't happen with the test backend of Sane.\nThe attached test program (C) shows the problem.\ntest.c.txt\n$ gcc -O0 -g -ggdb -Wall -Werror -lsane test.c -o test && valgrind --track-origins=yes ./test\n==15767== Memcheck, a memory error detector\n==15767== Copyright (C) 2002-2013, and GNU GPL'd, by Julian Seward et al.\n==15767== Using Valgrind-3.10.0 and LibVEX; rerun with -h for copyright info\n==15767== Command: ./test\n==15767== \nGet devices ...\nOpening hpaio:/usb/Deskjet_2050_J510_series?serial=CN11I3P19805D1 ...\nStart scanning ...\nRead 65536 bytes\nData:\n==15767== Use of uninitialised value of size 8\n==15767==    at 0x5083041: _itoa_word (_itoa.c:180)\n==15767==    by 0x5087249: vfprintf (vfprintf.c:1641)\n==15767==    by 0x508DCE6: fprintf (fprintf.c:32)\n==15767==    by 0x400BF6: main (test.c:46)\n==15767==  Uninitialised value was created by a heap allocation\n==15767==    at 0x4C28C20: malloc (vg_replace_malloc.c:296)\n==15767==    by 0x5C1D99B: ipConvert (in /usr/lib/libhpip.so.0.0.1)\n==15767==    by 0x59FA88E: get_ip_data (in /usr/lib/sane/libsane-hpaio.so.1.0.0)\n==15767==    by 0x59FC231: ledm_start (in /usr/lib/sane/libsane-hpaio.so.1.0.0)\n==15767==    by 0x400B5C: main (test.c:37)\n==15767== \n==15767== Conditional jump or move depends on uninitialised value(s)\n==15767==    at 0x5083048: _itoa_word (_itoa.c:180)\n==15767==    by 0x5087249: vfprintf (vfprintf.c:1641)\n==15767==    by 0x508DCE6: fprintf (fprintf.c:32)\n==15767==    by 0x400BF6: main (test.c:46)\n==15767==  Uninitialised value was created by a heap allocation\n==15767==    at 0x4C28C20: malloc (vg_replace_malloc.c:296)\n==15767==    by 0x5C1D99B: ipConvert (in /usr/lib/libhpip.so.0.0.1)\n==15767==    by 0x59FA88E: get_ip_data (in /usr/lib/sane/libsane-hpaio.so.1.0.0)\n==15767==    by 0x59FC231: ledm_start (in /usr/lib/sane/libsane-hpaio.so.1.0.0)\n==15767==    by 0x400B5C: main (test.c:37)\n==15767== \n==15767== Conditional jump or move depends on uninitialised value(s)\n==15767==    at 0x508729C: vfprintf (vfprintf.c:1641)\n==15767==    by 0x508DCE6: fprintf (fprintf.c:32)\n==15767==    by 0x400BF6: main (test.c:46)\n==15767==  Uninitialised value was created by a heap allocation\n==15767==    at 0x4C28C20: malloc (vg_replace_malloc.c:296)\n==15767==    by 0x5C1D99B: ipConvert (in /usr/lib/libhpip.so.0.0.1)\n==15767==    by 0x59FA88E: get_ip_data (in /usr/lib/sane/libsane-hpaio.so.1.0.0)\n==15767==    by 0x59FC231: ledm_start (in /usr/lib/sane/libsane-hpaio.so.1.0.0)\n==15767==    by 0x400B5C: main (test.c:37)\n==15767== \n==15767== Conditional jump or move depends on uninitialised value(s)\n==15767==    at 0x50866EC: vfprintf (vfprintf.c:1641)\n==15767==    by 0x508DCE6: fprintf (fprintf.c:32)\n==15767==    by 0x400BF6: main (test.c:46)\n==15767==  Uninitialised value was created by a heap allocation\n==15767==    at 0x4C28C20: malloc (vg_replace_malloc.c:296)\n==15767==    by 0x5C1D99B: ipConvert (in /usr/lib/libhpip.so.0.0.1)\n==15767==    by 0x59FA88E: get_ip_data (in /usr/lib/sane/libsane-hpaio.so.1.0.0)\n==15767==    by 0x59FC231: ledm_start (in /usr/lib/sane/libsane-hpaio.so.1.0.0)\n==15767==    by 0x400B5C: main (test.c:37)\n==15767== \n==15767== Conditional jump or move depends on uninitialised value(s)\n==15767==    at 0x508676C: vfprintf (vfprintf.c:1641)\n==15767==    by 0x508DCE6: fprintf (fprintf.c:32)\n==15767==    by 0x400BF6: main (test.c:46)\n==15767==  Uninitialised value was created by a heap allocation\n==15767==    at 0x4C28C20: malloc (vg_replace_malloc.c:296)\n==15767==    by 0x5C1D99B: ipConvert (in /usr/lib/libhpip.so.0.0.1)\n==15767==    by 0x59FA88E: get_ip_data (in /usr/lib/sane/libsane-hpaio.so.1.0.0)\n==15767==    by 0x59FC231: ledm_start (in /usr/lib/sane/libsane-hpaio.so.1.0.0)\n==15767==    by 0x400B5C: main (test.c:37)\n==15767== \n(...)\nRead 4624 bytes\nData:\n(...)\nEnd\n==15767== \n==15767== HEAP SUMMARY:\n==15767==     in use at exit: 39,177 bytes in 607 blocks\n==15767==   total heap usage: 57,622 allocs, 57,015 frees, 4,653,533 bytes allocated\n==15767== \n==15767== LEAK SUMMARY:\n==15767==    definitely lost: 7,692 bytes in 483 blocks\n==15767==    indirectly lost: 27,886 bytes in 114 blocks\n==15767==      possibly lost: 288 bytes in 1 blocks\n==15767==    still reachable: 3,311 bytes in 9 blocks\n==15767==         suppressed: 0 bytes in 0 blocks\n==15767== Rerun with --leak-check=full to see details of leaked memory\n==15767== \n==15767== For counts of detected and suppressed errors, rerun with: -v\n==15767== ERROR SUMMARY: 4386 errors from 5 contexts (suppressed: 0 from 0)\nI'm getting really tired of the bugs coming from the HP backend. I'm seriously considering doing a nasty workaround based on fork()+exec()+stdin/stdout/stderr.\n. Not reproduced on Debian unstable (note that the bug doesn't always occur --> I'll retry later).\n. Workaround: 5b1e5b393e74605e1cfc2e2e6854fe819c2df8ff\n. Done. https://pypi.python.org/pypi/pynsist\n. Portage of Pyinsane has been done.\nThere are still a few things to arrange (config file location for instance).\nHowever, installer will be proprietary (a web installer to respect the GPLv3).\n. Noted. But to be honest, I don't think finding testers will be much of a problem (I'll try to enroll my family :).\nTODO:\n- [ ] Mark paperwork.conf as hidden\n- [ ] \"Open directory\" doesn't work yet\n- [x] Need a diagnostic tool for the scanners for support (must list all the options and their constraints ; can be useful on GNU/Linux too)\n- [x] Need a way to get the logs for support (can be useful on GNU/Linux too)\n. I forgot something in my TODO list. I intend to try to monetize Paperwork's portage to Windows (we will see if that works ;), so the TODO is:\n- [ ] Mark paperwork.conf as hidden\n- [ ] \"Open directory\" doesn't work yet\n- [x] Need a diagnostic tool for the scanners for support (must list all the options and their constraints ; can be useful on GNU/Linux too)\n- [x] Need a way to get the logs for support (can be useful on GNU/Linux too)\n- [ ] Implements 60 days trial period (Windows only) (see https://openpaper.work/ )\n. Actually, with one of my friends, we are going to try something weird and alien called \"marketing\". I find it scary and disgusting, but he has assured me it's not (.. well, not that much anyway ..) and can be done cleanly. Again, we will see how that goes ... Worst case scenario, we waste our time (and probably part of our money) :)\n. - [x] Mark paperwork.conf as hidden\n- [x] \"Open directory\" doesn't work yet\n- [x] Need a diagnostic tool for the scanners for support (must list all the options and their constraints ; can be useful on GNU/Linux too)\n- [x] Need a way to get the logs for support (can be useful on GNU/Linux too)\n- [x] Implements 60 days trial period (Windows only) (see https://openpaper.work/ )\n- [x] Spinner does not work\n. Done : https://openpaper.work/download\n. @lapineige \nActually, I could use your help.\nI need people to try Paperwork for WIndows with their own scanner.\nIt's impossible for me to make sure I support all the possible scanners by myself. So I would appreciate it a lot if you could give it a try, and tell me if it works ? (also if you could tell me which scanner you use exactly, it would be perfect).\nCan you get the version 1.0.2 and try it please ?\nhttps://openpaper.work/download\n. That would be perfect. The more the merrier :-)\n. Hm, ok, weird, but good to know. I'll give it a try in a VM when I can.\nWhich version of Windows do you use exactly ? and is it 32bits or 64bits ?\n. Maybe. Did the error happen during installation, or when you started Paperwork ?\n. Does the popup you get specified anything more than \"Le module sp\u00e9cifi\u00e9 est introuvable\" ?\n. I'm not sure actually.\nMaybe:\n- either by running it from the shell (cmd)\n- or from the diagnostic dialog (Application Menu (the paperplane) --> advanced --> diagnostic)\nMaybe there will be some interesting in one of those.\n. It works fine with Windows 7 64bits + E:\\paperwork . I just get a popup everytime I start Paperwork regarding the fact it is unsigned (don't ask me why it does pop up on E:\\ and not C:\\ ....), but no error.\n. BTW, did you have time to test it with your scanner yet ? which model do you have exactly ?\n. No problem, don't worry :)\n. Already fixed in 1.0.4d .. :)\nI just noticed it 2 hours ago.\nThe problem was when creating the shortcuts for Paperwork (desktop + start menu). Instead of setting the keyboard shortcuts to an empty string, I set them to 0 ... so it binded the key '0'.. Uninstalling / reinstalling 1.0.4d is one way to fix it. I guess you can also simply install 1.0.4d on top of the previous install.. @lapineige : If you have a french keyboard, after uninstalling 1.0.2, can you still type \"\u00e0\" ? oO\nA member of my family had the problem, and now, she can do \"0\", \"@\", but not \"\u00e0\". https://github.com/jflesch/paperwork-backend/commit/8e640e6ead3c290ec0696e614fe0d8cda385af97\n. Based on the logs, I assume it hangs when it is about to scan the second face of the page, right ?\n. Sorry, but I can't reproduce (0.3.2 or 0.4).\nHowever, in the version 0.4 (not released yet ; git branch 'unstable'), there has been a lot of changes related to Pyinsane. So it may be worth trying again with the version 0.4 when it will be released.\nIn the meantime, I'm closing this ticket. Please reopen another one when the version 0.4 will be released if the problem is still here.\n. 5b654766b3d53eb52a80d59f2b090e5b0b2048c3\nd5909c937b23a5466067af487fecbd7432bf5557\n. Hello,\nMy guess is that tags were added automatically when the document was scanned (as they should), but weren't immediately displayed for some reason. There was probably a Python exception in background right after the scan + OCR.\nCan you run Paperwork from a terminal and do another scan please ? Then please look for a Python stacktrace or any other error in the output (if you don't know what to look for, just post the whole output here).\nThanks in advance,\n. It doesn't create tags. It just apply existing tags (or not) on new documents. It learns from the tags you applied on previous documents. Under the hood, it uses Bayesian filters for each tag.\nUsually, it guesses pretty poorly for the ~20 first documents, then it starts to get it right. (hmm, while I'm thinking of it, I'm wondering if I should disable tag guessing for the 20 first documents).\n\nRight now I just tested with a blank installation, by importing a single pdf. I have only warnings about the time of each OCR\n(like that : WARNING paperwork.frontend.util.jobs Job OCR:0 took 32772ms and is unstoppable ! (maximum allowed: 500ms) )\n\nThis warning is raised because OCR jobs cannot be interrupted and are quite long, which is a usability problem. It's a known issue that will require a lot of work to fix (I'm not even sure if it's actually possible to do it cleanly :/).\nAnyway, if your problem is really related to tag guessing, I think you will need more than 1 or 2 documents to reproduce (about 5 to 10 I think).\n\nPS: I also encountered this error- but I guess I should open another issue (done #493 )\n\nYep, I confirm, this is another issue :)\n. > If I had a few tag manually after importing, let's say, 100 documents, and redo the OCR, could it work correctly ?\nFrom what I understand, your problem is more likely to be a display problem.\nI need you to try again in a console, but after adding some documents and tagging first (--> not a blank installation), and see if the problem happens again.\n\nDon't you think a multi-threaded scan, with 1 thread for 1 page, could do the job ? (or does it needs the results of the previous pages before ?)\n\nUsually, when scanning, you only scan one page at a time, so parallelizing is not that useful.\nWhen importing PDF files, they usually already have their text included, so there is no need for OCR.\nI guess it could make sense when importing many PDFs with no text. But I assume this is not a very common case.\n. ping ? Did it happen again ?\n. Ping ?\n. Ok, if I understand correctly, I can close this ticket ?\n. Good catch. Should be easy to fix :)\n. No prob, it's already fixed :).\n95aa47cb1e4c47fd499a9eed0d10eba12bad4616 (will be in Paperwork 0.4).\n. Actually, it's using the default value of your system : https://developer.gnome.org/gtk3/stable/GtkPaperSize.html#gtk-paper-size-get-default\nI'm assuming it should work for 90% of the users 90% of the time without any extra setting in Paperwork.\nDo you have a clear use case when it would really be useful to have another default setting ?\n. The main problem here is that I designed Paperwork so it never modifies the PDF files (just copy and rename). It's not just because they are painful to modify, it's also because losing metadatas could happen too easily. My main worry is regarding digital signatures : A signed PDF can be modified, but it can't be re-signed and therefore the signature will be lost.\nSo yes, in theory, it's perfectly do-able. However, a compromise has to be found between keeping the metadatas, allowing the user to do what they want, and keeping a good user interface and user experience.. Note to myself:\nMaybe just keep track of the manipulations requested by the user, and reapply them every time we open the document, but only for displaying ? (+ export). Hm, not sure. Modifying XMP metadata in PDF files may still have side effects on them (signatures, etc).\nThere is another way, that would take care of caching as well.\nWhen we import a PDF, we get the following structure:\npapers/\n|-- 20140804_2127_12/\n    |-- doc.pdf\n    |-- labels\nWhen a page is modified, we could use a mix of the image document structure and the PDF structure:\npapers/\n|-- 20140804_2127_12/\n    |-- doc.pdf\n    |-- labels\n    |-- paper.3.jpg  # the modified page\nThe PDF would remain available untouched.\nThen, for the whole document, there could then be 2 export options instead of one:\n- PDF (original)\n- PDF (modified). 5aa5a7787d56ee6b410347bedfe7a5934578d22b. Thanks :)\n. Thanks again :)\n. Awesome, thank you very much :)\n. 43e6aca67a770612dc0cad8808deb1e5b4a88433\n. 62c328becb76fcbf087f0de29b3763e4086eb2bb\n. AttributeError: 'PageDropHandler' object has no attribute 'visible'\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork-1.0-py3.5.egg/paperwork/frontend/mainwindow/pages.py\", line 1563, in _on_drag_motion\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork-1.0-py3.5.egg/paperwork/frontend/util/canvas/drawers.py\", line 180, in redraw\nAttributeError: 'PageDropHandler' object has no attribute 'visible'\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork-1.0-py3.5.egg/paperwork/frontend/mainwindow/pages.py\", line 1607, in _on_drag_leave\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork-1.0-py3.5.egg/paperwork/frontend/util/canvas/drawers.py\", line 180, in redraw\nAttributeError: 'PageDropHandler' object has no attribute 'visible'\n. 6986632f8313136dda9f1e3f049d8815bb41303d\n. 03c778ec3c2119ec2e319a095db698aae31e221e\n. Actually, works fine on a GNU/Linux Debian stable\n. daa03a2841616d547f57767c359b9a6a2d460234\n. Actually, it works fine on a GNU/Linux Debian stable\n. d2ab7c74e118a902a98fefce9e2b9069e199abfe\n. ffe6cfe9f35db7fe64b1a49846990f22c54296cb. c5cd8d39343ae2e62e3eb6605c157b9dd24eafd7. Darn, I forgot to update the documentation following the switch to python 3 :/\n. Done : 43c10d2fa748212edc469d9f752752b8d5807b17\nThanks for reporting this omission\n. I think this is a duplicate of #508 .\nBasically, after the switch to Python 3, I forgot to update the install documentation. So you did try to start paperwork-shell with python 2.7 instead of 3. Sorry :/\nI've fixed the documentation. If there are still a problem with the install instructions, please comment again here and I'll reopen the ticket.\n. Weird. This bug is probably related to the latest version of pycountry. I'm going to give it a try.\n. Can you give me the output of pip3 show pycountry please ?\n. Ok, nevermind, I've reproduced the bug\n. Fix:\nhttps://github.com/jflesch/paperwork-backend/commit/c79b0a67e37e9c969cbc55f373b7fe07bd363b00\nhttps://github.com/jflesch/paperwork/commit/1bd37b4f456d7d538c43e0ea7142ff15692ced45\nI would appreciate if you could try it on your side:\ncd ~/git\ngit clone https://github.com/jflesch/paperwork-backend.git\ngit clone https://github.com/jflesch/paperwork.git\n(cd paperwork-backend && git checkout stable && sudo python3 ./setup.py install)\n(cd paperwork && git checkout stable && sudo python3 ./setup.py install)\n. Actually, I'm fairly certain it should fix your problem and that others will have it. So I've released a new version with the fix (Paperwork 1.0.1).\nIf you installed Paperwork with pip3, the simplest way to update is sudo pip3 install -U paperwork.\n. Awesome :)\nI'm closing this ticket. Please comment again here if you need it reopened\n. I think you installed Paperwork with Python 2.7 instead of Python 3.\nThe documentation wasn't up-to-date. I fixed it this morning (it's 11pm here now). Sorry.\n. Sorry, the pycountry request was for another ticket ... :)\n1) How did you install Paperwork exactly ?\n2) Can you post a copy of your '/usr/share/paperwork/mainwindow/appmenu.xml' here please ? (btw, I just realized it should be installed in /usr/local -- #513)\n. Ok I understand now. One of the main problems with Pip is that is tends to keep old versions as well as new. It makes sense for library (program may required specific versions of libraries), but it doesn't for programs and create problems with data files.\nWhat you can try:\n```\nsudo pip3 uninstall paperwork  # many times, until it says it's not installed anymore\nsudo pip3 uninstall paperwork-backend  # many times, until it says it's not installed anymore\nsudo pip uninstall paperwork  # many times, until it says it's not installed anymore\nsudo pip3 install paperwork # just once ;)\n```\n. I will update the documentation\n. You're welcome, and thank you for taking the time to report this problem :)\n. Darn. It's a Pyinsane bug. I've pushed a fix ( https://github.com/jflesch/pyinsane/commit/b77c9ae92be2ff6db463579735011d274de9748f ). Can you try it please ?\ngit clone https://github.com/jflesch/pyinsane.git\ncd pyinsane\ngit checkout stable\nsudo python3 ./setup.py install\n. Since I'm fairly certain it should fix your problem and that others will have it, I've released a new version with the fix (Pyinsane 2.0.3).\nIf you installed Paperwork/pyinsane with pip3, the simplest way to update is sudo pip3 install -U pyinsane2.\n. Awesome :)\nI'm going to close this ticket. Please comment on this ticket if you still have issues with scanning, and I'll reopen it.\n. For instance, paperwork.svg is currently in:\n/usr/share/icons/hicolor/scalable/apps/paperwork.svg\nand should be in:\n/usr/local/share/icons/hicolor/scalable/apps/paperwork.svg\nwhen installed with Pip. Should already be fixed with the latest changes. Data files are now in the .egg.. \n. The button with the paper plane should also have a border.\n. here is what it should be\n. Fixed : cba4900bb61ee97da2852f2f7dca5e7059f5205d\n(I may make the headerbar slightly bigger in some cases)\n. Actually, even with the height of the GtkButton/GtkEntry fixed, the default GTK theme in Ubuntu (Ambiance) is really ugly (for instance, disabled GtkEntry still have a white background instead of gray) ... but I'm not going to fix the whole GTK CSS just for Ubuntu.\n(Note: Switching to the theme Adwaita fix this ugliness)\n. Looks like a Cairo rendering bug.\nCan you remind me which GNU/Linux distribution do you use ? And which Gnome version do you have ?\n. Actually, I reproduced on Debian sid too.\nI'm unsure what is happening here. No obvious bug / trace in Paperwork output.\nHowever, from what I can see, this is not a big issue. There is pretty much no point where the user is stuck. So for now, I'm going to delay this ticket.\n. Maybe related to #522 . Yep, but in both cases, I suspect a Gtk/Cairo rendering issue (or worst, a main loop issue) :). Anyway, we will have to check if 1.1.0 (unstable) doesn't already fix the issue.\nPrior to 1.1.0, I didn't call Gdk.threads_init() because it caused issues with Gtk dialogs in Paperwork. However I am clearly using threads (and a lot). Since I've solved the issues with the dialogs, I am now able to call Gdk.threads_init(). Hopefully, this is what caused these main loop issues and/or rendering problems.\nIf not, I'll have to do some nasty debugging sessions to find the root causes :(. Update: Gdk.threads_init() is actually deprecated (--> wasn't included in Paperwork 1.1).\nI've also installed Ubuntu Gnome 16.04 16.10 on my desktop because it's currently the only distribution that supports correctly my graphic card with Steam ^^. Anyway, I've ended up with a bunch of weird rendering bugs in Paperwork I didn't have with Debian (stable or sid). I'm more and more suspecting bug(s) in the Glib/Cairo/Gdk/Gtk/Gnome-shell versions of Ubuntu Gnome 16.04 16.10. And I am unable to spot where they come from yet ... :/. Mouarf, moi parle bien le bon petit fran\u00e7ais pourtant non ? :-)\n. Alors par contre, doit-on dire \"num\u00e9risateur\" ? ;)\n. Cherry-picked on stable too.\n. Merci au fait :)\n. It will be quite annoying to fix --> postponed to 1.1\n. Hm, for me, a paper = one page. I'm unsure whether it's only for me or not.\n. e69059b14fc838e0fe1482ccb276738893773b5c\n(+ a723651e802cc346c36172b749633021f19d9d4b for the French translation). Argh, this one will be annoying to fix ...\nIn short:\n- you untick labels / tick new ones --> nothing is stored anywhere until you return to the document list\n- you create a new label, it triggers a reload / redisplay of the label list --> it reloads them according to what is currently written on disk. Since you didn't switch to the document list first, the previous label list (the wrong one) is used.\nI'll postpone it a bit ........ :)\n. Actually, this is the one dialog I didn't design with users in mind but me ;)\nOne of the thing I often have to ask on bug reports is the output of Paperwork in a terminal.\nI created this dialog while starting to port Paperwork to Windows. On Windows, I can't ask users to start Paperwork from the shell and send me the output. 90% won't know how to do it, and it's much more painful to do on Windows than Linux.\nSo I've added this dialog that just grab the log output of Paperwork and various stats (I guess it could also be useful on Linux sometimes).\nRegarding this warning, a while ago, I realized I call canvas.redraw() far too often for drawer objects that aren't even visible anymore. This reduces performances and in some cases it may even trigger Cairo warnings.\nSo I added a check to ignore these calls, and a warning because I shouldn't even been doing these calls in a first place.\nBut I haven't had time to track them all down yet.\nSo yeah, it's a good thing you've opened this ticket. It will remind me I still have a bunch of them to find :)\n. 7bbcbcbe3747cc7f99b9b797612ce0f810fbe6ed\n. Thank you :)\n. Cherry-picked on branch 'stable'\n. I've added extra icons in Paperwork 1.0.2 that may fix this issue. Can you give it a try please ?\n. Nevermind, reproduced on Debian stable with KDE.\n. Fix: 9e680cced4d5b4fe93fc6aaac1bed0e1bca50114\nPlease comment again if it doesn't solve the problem for you, and I will reopen this ticket.\n. Btw, thank you for taking the time to report this issue.\n(I wouldn't have seen it by myself, because Pip don't clean data files correctly .. so my Paperwork was still finding an icon)\n. I have a feeling you can also try clicking on some button of the interface (for instance one of the button in the header bar).\nIf it works, it's probably the same bug I see from time to time on Debian sid. Really annoying, and from what I know, it looks like some weird bug in the Gtk event loop :/\n. Could you just confirm me that clicking on any button (header bar for instance) also unlock the interface please ?\n. Hm, so it is not exactly the same bug :/\n. Actually, this kind of rendering bug will be pretty hard to fix I think --> I'm going to postpone them to 1.1.0 for now\n. dc283169d8fa6f0020744c393003c8dce06aff59 fix a very similar issue (document list not appearing when Paperwork starts). I'm going to close this issue for now and release 1.1.1 with this fix. If it doesn't fix this issue, please comment again on this ticket and I will reopen it.. ec677c434b12471658e71ae165e1f7236594c9bd\n. The easiest and safest way is to uninstall it first and then reinstall :\n- Uninstall : https://github.com/jflesch/paperwork#uninstall\n- Reinstall : https://github.com/jflesch/paperwork#installation\n. Weird.\nCould run Paperwork from a terminal, reproduce this issue, and see if there is any error or exception that pops up in the terminal please ?\n. Ok, I think I see the bug.\nWhen you switch back to the document list, the label color has been updated correctly, right ?\n. Fixed: c033f1d8306dfb0079feb47e360828e4b7e7318e\nWill be in 1.0.3.\nIf you want to test it, you can clone Paperwork's repository (beware the default branch is 'unstable' ; the fix is in the branch 'stable').\nI'm going to close this ticket, if you still have problems even with this fix, please comment on this ticket and I'll reopen it.\n. 96d3842919a998bbf3e1c36020d3737c10e4843e. 00ef551900d6e5e2915c41449b072f8e5c308d31\n. 5aa5a7787d56ee6b410347bedfe7a5934578d22b. Done:\nhttps://github.com/jflesch/paperwork-backend/commit/d1ffb535cc332475d732fbcd7640028ea1350d66\nee91afbe75ca2bfe4c2c1ce7cf346f58a466c9b2\n. Fix by https://github.com/jflesch/pyocr/commit/3bc8e72c1943319873784fd73aa45c317ca22258 .\nStill, it would be best to switch to libtesseract. libtesseract has also been disabled on GNU/Linux in Pyocr for now. Too unstable.. I think this is a duplicate of #513 , no ?\nNevermind. Which GNU/Linux distribution do you use exactly ?. I just gave it a try on a fresh VM (Debian stable), and it works fine.\n$ whereis paperwork\npaperwork: /usr/local/bin/paperwork /usr/share/paperwork\n$ pip3 show pip\nName: pip\nVersion: 1.5.6\nLocation: /usr/lib/python3/dist-packages\nRequires:\nI'll give it a try with Fedora 24 / Debian unstable later.. You have pip 9.0.1 on Debian stable ? You're not using apt install python3-pip ?. You're welcome :)\nHowever I'm going to keep this ticket open. It should work with pip 9.0.1 too.\n. .. it seems your scanner doesn't provide the option 'resolution' .. which is a problem ...\nLet's check. Can you turn your scanner on, start Paperwork, and then open the diagnostic window please ? (this window is in the application menu --> \"advanced\"). It's going to collect various informations: logs, various statistics, sys info, and scanner infos (the last one being what I'm looking for).\nThen can you send me the output of this dialog (either on this ticket or by email), please ?. >  In french it is \"diagnostic\", not \"diagnostique\" !\nAh oui mince, c'est subtile... :/ ( http://www.projet-voltaire.fr/blog/regle-orthographe/%C2%AB-diagnostic-%C2%BB-ou-%C2%AB-diagnostique-%C2%BB ). 72f3b8b88bd4ce0d9d196bebadfc575810701517 (pour \"diagnostic\"). \"scan-resolution\" ...... great, someone wrote a full driver without reading the documentation first ...\nI'm going to add a workaround in Pyinsane later today.. Basically, since Pyinsane2, I'm trying to put all the workarounds for the scanners as much as possible in Pyinsane itself.\nSo here, what's I'm going to do in Pyinsane:\nIf there is an option 'scan-resolution', I'm going to add a fake option 'resolution' actually pointing to and reading from 'scan-resolution'. Hm, not sure I'm supposed to see with the option 'source' ? It's what it should be (I have pretty much the same thing on my HP scanner, just I got \"ADF\" instead of \"Automatic Document Feeder\"). I'm going to check on mine. I hope it isn't a bug I introduced in 1.0.5 while trying to make some crappy Windows scanners work :/. Does it it only happen on multi-scan, or single scans too ?. Ok, first I'm going to do a clean patch in Pyinsane, and then we will see if you still have the issue. The workaround has been implemented in the branch 'wip-workaroud-lexmark' of Pyinsane. Unfortunately, I cannot really try it. Can you give it a try please ?\ngit clone https://github.com/jflesch/pyinsane.git\ncd pyinsane\ngit checkout wip-workaround-lexmark\npython3 ./setup.py install\n. Hm, ok, should be fixed (still in the same branch). Yep, weird. It seems for some reason getattr was called before init() was even called.\nHonestly, this is about the limit of my knowledge in Python, so I've just added an if to work around that.\nAnyway, this time, I took more time to test it (I patched Pyinsane a little to test it on my hardware), and I'm confident it will work this time. I'm merge it on the branch 'stable'. Feel free to give it a try.\nI'm closing this ticket. Please comment if I missed anything and I'll reopen it.. Hm, let's do it the same way than for #533 . Can you post the output of the diagnostic window when connected in Ethernet please ?. Ah my bad, I missed it.\nAnyway, it is what I'm talking about in #536. Names are not standardized, and we may have really crappy list of sources.. So .. does the multi-scan dialog work with the source \"Single Page\" and uses the flatbed ?\n(yeah, I'm starting to be a little confused here). >\"Single Page\" + multi-scan dialog = nope because there is no feeder detected, the option is greyed out\n(...)\n\nthere is nothing you can do for this MFP\n\nExcept maybe ungraying the option when there is a source \"Multiple pages\" :)\n. So to sum up:\n\nI must ungray the option for multiple scans.\nWhen \"single page\" is selected in the settings + when using the multi-scan dialog, I'm still wondering if I should switch automagically to \"multiple pages\". I guess not, since it seems this scanner is made to scan many pages at once using the Flatbed.. You misunderstood me : Currently, the option is ungrayed if the scanner has a source called \"ADF\" or \"Automatic Document Feeder\" or \"Feeder\". I just need to add \"Multiple pages\" to the list.\n\nRegarding the use of the multi-scan dialog + \"Single page\", I guess this is a rare corner case and actually nobody will really use it. So I can just discard it for now, and switch to \"Multiple pages\" automatically.. Hmmm, weird ; are you sure ? Because with the button \"scan\", Paperwork requests only one page, so this is actually normal.\n. > the driver window pops up\nThere is a X11 window integrated to the Sane driver ?! ... how .. ugly.. > tell the user (s)he can go to the printer room and trigger the scan job ?\nThe user has to go to the scanner anyway, and there is a screen on the scanner, no?\n\nallow the user to cancel the job remotely ?\n\nThere is a function \"sane_cancel()\" (Paperwork doesn't expose it yet)\nAnyway, based on what you're telling me, I won't change anything.\nHowever, if you want to try the mutli-scan dialog with \"Multiple pages\" (just to be safe ;), you can:\n change the source in the settings\n close Paperwork\n edit ~/.config/paperwork.conf and set has_feeder to True\n restart Paperwork\n. Ok, I see your point.\n\nThe need is not to cancel the Sane job. The driver needs to tell the printer itself to delete the profile from its internal queue.\n\nIn this case, that's the same thing. Canceling the Sane job is removing it from the printer's queue. (or it should). I'm wondering if it would make sense to display first something like \"Waiting for scanner\" in Paperwork while waiting for the first bytes to arrive from the scanner.\nBecause currently, I guess having the red dot moving when no scan is being done must be kind of ugly .. Since you seem sure no change is actually required,  I guess so.\n(eh, less work for me ;). See the option in diag_paperwork.txt\nNote to myself: The main problem here may be that the name of option may not be the same on all scanners --> to handle in Pyinsane\n. Actually you shouldn't have to switch. (my bad, it's undocumented)\nJust select the flatbed in the settings. When using the multiple scans dialog, it will automatically switch to the feeder.. I guess I should at least replace \"source\" by \"default source\". I'm actually unsure whether it's useful or not.\nI mean, I don't know all the possible hardware in the world, and I guess some may have some weird source lists. The problem is that the source names are not standardized. So while it works fine with ['Flatbed', 'ADF'], it may not work with some crappy lists like ['Super awesome bed', 'Super awesome feeder']. Yeah, or they may have ['Single Page', 'Multiple Pages'] ... ;)\nBTW, can you confirm me that you actually have the same behavior with 'Single Page' and 'Flatbed', and 'Multiple Pages' and 'ADF' ?\nIn other words:\n- \"Flatbed\" + button \"scan\" = 1 page scanned from the flatbed\n- \"Flatbed\" + multi-scan dialog  = many pages scanned from the feeder\n- \"Single Page\" + button \"scan\" = 1 page scanned from the flatbed\n- \"Single Page\" + multi-scan dialog = .. hm ok, this one shouldn't work yet ..\n- \"ADF\" + button \"scan\" = 1 page scanned from the feeder\n- \"ADF\" + multi-scan dialog = many pages scanned from the feeder\n- \"Multiple Pages\" + button \"scan\" = 1 page scanned from the feeder\n- \"Multiple Pages\" + multi-scan dialog = many pages scanned from the feeder\n?. a633349c37b366d5c27f028a81562c0c8410e82f : in the settings, \"source\" --> \"default source\". I think I still need to document that :). Done: https://openpaper.work/en-us/helpdesk/kb/6/. Actually, I'm already almost lacking space in the header bar ... (some people have much smaller screens than others). Hm, icons may be tricky. I'm always a little bit distrustful of them, as they may not have the same meaning for everybody (other countries culture, but also personal culture).\nSince it's a GUI problem, I would appreciate the opinion of @mjourdan . Maybe he will have a great idea to fix that :)\n@mjourdan : ping ?. > an icon with 2 pages for \"multi\"\nExcept this is icon is already used in the popup with view settings (the one that pops when you clic the button just beside the page number), and it has an entirely different meaning.\n\nthe pdf icon for \"import\"\n\nBut then a lot of people may think it only supports PDFs .... Yes, images (JPEG, PNG, etc ; everything that Pillow supports).. You can also import a folder containing many PDFs (it even checks to avoid duplicates).. Many documents (Paperwork never modifies PDF files, and one PDF = one document). Well, first, we are starting to talk about not-so-minor UI changes, so I guess it will be for a 2.0 :-) (I'm creating the milestone). I guess the 1.1 will be mostly for optimizations and big bugfixes.\n. Now, let's see:\n\n@tiramiseb : 3 buttons in the toolbar:\nGood: makes things really clear and quickly reachable, but ..\nBad: takes place\n\nBad: what if I don't have a feeder ? Do we remove the multi-scan button or do we make it inactive ? If inactive, it's wasted space. If removed entirely, it means a changing UI, and changing UIs can become confusing really quickly (here we are talking about just one button, but we all know where it can go ...).\n\n\n@mjourdan : \"Add page\" + sources:\n\nGood: adapt automatically to the most common workflow of the user, but ..\nBad: may be confusing : If I select \"Digital file\", close Paperwork, restart it 2 days later, and click on \"add page\", am I to expect it to make a single scan or open the import dialog ?\nif we restore the last option used : After many days without using Paperwork, the user has to think about checking what was the last setting they used.\nIf we don't, it's kind of weird of having a setting persistent for the session but not for the following ones\n\n\n\nI guess there is a third choice : One single button \"add page\". When clicked, it always opens a menu with 3 options or more (\"single page\", \"multiple pages\", \"import file\", ...  ; kind of similar to @mjourdan's one).\n Good: clear\n Good: doesn't take much place\n Bad: adds a click on every* 'add' operation, even those we assume to be the most common ones. Oh nice :). Regarding the widescreens/narrowscreens, I'm going to say no. From a UI standpoint, I think it could work. However, from a development point of view, I have a strong feeling this is going to be really bug-prone.\nBut I like your single-button idea. It adapts to the user's main workflow, and at the same time remains quite clear.. Although ...\nI guess I'll have to give it a try. Maybe I can make it work .... Hmm, I don't know about the confusion regarding the view switcher. Anyway, while 3 buttons would do the job from an ergonomic standpoint, from a purely aesthetic standpoint, I have a feeling it would look kind of ugly/overloaded :/. Hmm, there would be a button on the left above the doc list with \"Add paper from (...) feeder\", and another button on the right above the pages with \"Scan (feeder)\" ? Seems confusing to me :/. I think having the button on the right as of now is fine : The idea is that scan / import go, by default, into the current document. They only go into another new document if there is no way to add them otherwise (PDF for instance).\nI think I will go with this solution, but let the button at its current position.\nI will also let the page numbers into the header bar: overlays look nice, but in my experience, they end up hiding document content (I already have this problem with buttons over the pages .. :/).\n. I'm confused.\n\nThe \"add paper popover\" adds whole document each time, right ? So, if the user only has a flatbed, how do they scan a multi-pages documents ?\nWith the \"add paper popover\", you have to select the source every time, right ? Wouldn't it be a bit painful when you want to scan a 20 pages document with only a flatbed scanner ?. Ok, I get it now :-). I totally missed that the scan button was still there.\n\nI guess it could make sense. I just wonder if it's a good idea to restrict a document to one specific source ... Hm I guess whatever happens, users can still fix things using drag'n'drop .... If we go this way, I think I will also simplify the multi-scan dialog (feeder). Since I use Paperwork, I have never once scanned more than 1 or 2 documents at the same time (maybe 3 once). So I think it's safe to make the multi-scan dialog focus on only one document at a time.. That's weird ... in multiscan.glade, the button is clearly marked as \"translatable\", but it doesn't appear in the french translation file. Ok, it seems the problem was that a context was specified for this translation .. and for some reason it messed up the translation.. 31fae4419b0a888393d56922442ddf2178033e21. Regarding the documentation, I've started to work on it here : https://openpaper.work/helpdesk/kb/. We should also try make it clear that it's possible to import folders of PDF.\nMy current idea:\n\nInstead of just having an option \"import\", turn it into a submenu, with the following options inside:\n\"PDF\"\n\"Image\"\n\"Folder\" (while being aware of #94)\nFile selection dialog must specify explicitely the file types expected (png, jpg, pdf, folder, etc)\n\nbut I also think we need to clarify first #527.. Regarding the doc, mjourdan came up with an idea I like very much : an initial document explaining how to user Paperwork :  #563. https://github.com/jflesch/paperwork-backend/commit/221e3a7928f49d7bf463a9501ff29b8112ac4396\nb5bad5f9cde3833e7ddc51e7ecf90ecadc07b3bf\n\nI won't make a submenu. It would make importing files slightly slower and I don't think it would really be useful. Agreed too :)\nI'm going to consider this ticket as a duplicate of #132 and close it.\nIf not, please comment again, and I'll reopen it.. Probably related to the key \"Control\".\nMaybe, for some reason, Paperwork did get the signal \"key pressed\" for this key, but never got the signal \"key released\".\nTwo questions:\n What is your window manager ?\n Does your WM shortcuts are based on the key \"Ctrl\" ?\n. Hm, ok here is what we can do:\nJust keep using Paperwork as usual. When the bug occurs, open the diagnostic dialog and send me the diagnostic output please (by email or on this ticket).. Hopefully, this change should take care of this problem: 03325b4cfc7afb116e2df94f13dbe3e3e127a7a1. Hm ok, I'm going to assume it solves your problem then :)\nIf it is not solved in 1.0.6, just comment on this ticket and I'll reopen it.. If GIMP and xsane see it, Paperwork should too (they use the same library).\nAfter opening the settings of Paperwork, can you open the diagnostic dialog and send me the output please ? (either on this ticket, or by mail at jflesch@openpaper.work ).\n(If you're using Gnome, the application menu will be at the top of the screen). Sorry, I forgot : Instructions to access the diagnostic dialog can be found here : https://openpaper.work/helpdesk/kb/1/. Ok, that's surprising. I was expecting the scanner to appear in the list but to cause some random bug in Paperwork .. but Sane simply doesn't report the scanner.\nWhat model of scanner do you have exactly ?. Also, do you use saned on client side ?. Your issue is clearly confusing for me. Xsane, Gimp and Paperwork clearly uses the same library to access the scanner (libsane), and yet, Paperwork doesn't see your scanner :/\n2 questions:\n I guess it also works fine with simple-scan ?\n I think I remember an old bug report (can't find it back, sorry) about issues with saned preventing some applications from seeing scanners. Also if I remember correctly, saned is not required at all on client side. Can you give it a try without saned please ?. ping ?. @Yusei : ack\nSince there has been no reply from @Dev-Crea for more than 1 month on this ticket, I'm closing it.\n. Thanks :). BTW, do we need to keep thumbnails for PDF files ? oO. May actually be due to import problems : c3414001472d5724898412fb397b8327a6c10afe\nAlso, I've dropped caching of thumbnails for PDF (except for the very first page because it's in the document list), and I've optimized the rendering of PDF thumbnails: https://github.com/jflesch/paperwork-backend/commit/faeb08a43413ced20ffd399173dc46f8ff56108e\nIt should do the trick I think. Yeah, it seems pip uninstall doesn't clean up as well as it should :/\nSomeone else who had the same problem :\nhttps://github.com/jflesch/paperwork/issues/511#issuecomment-259628814\nFirst part of the solution:\nhttps://github.com/jflesch/paperwork/issues/511#issuecomment-259636878\nSecond part of the solution:\nhttps://github.com/jflesch/paperwork/issues/511#issuecomment-259638688\nSince it's a clear match for your problem, I'm going to assume it solves it and close this ticket. If it does not, please comment, and I'll reopen the ticket.. I'm still going to have a look. I did a quick test, and I'm not 100% sure it works completely fine.. Tested. It works :)\n. https://github.com/jflesch/paperwork-backend/commit/02a14afc7c995e9a5271cec58343b3cee9a1b0af\nd580b58c78f413f2194c00e7f6c1e346ce2ce46c. Ok then, the first step is to figure out exactly what we want to display.\nObviously, we should have the total number of documents. But what else ?\nI guess some statistics regarding labels could make sense. However, which one exactly ? And which representations (histogram, pie chart, ...) ?. Hm, interesting ideas.\nRegarding the most-used searches, it's kind-of-related to #119 I think.. Looks cool, but no document list on the left ? oO. I think it is. Quite often I just want to access the latest document I've scanned / imported.. @mjourdan : I clearly prefer your second mockup. As @tYYGH pointed out, it avoids various annoying issues relative to the window size.\nJust some random idea : Starting from your second mockup, maybe we could make it possible to click on the stats below (number of documents, number of pages, etc). It could then display much more detailed statistics in the 'document-area'.\nBTW, just from a technical standpoint, it's possible for me to display charts (pies, bar chart, etc).. (label 'to study' removed --> the 2nd mockup is just what we need IMHO).. I'm going to start working on this one.\nHowever, I think I will merge a little the ideas from the 1st mockup with the 2nd one:\nI will go with the 2nd mockup, but in \"Recent\", I will display the last 3 documents used instead of just the last one. IMHO, having just one document in \"Recent\" reduce too much the usefulness of this feature. The 2 others will be displayed below the first one, will be smaller, and will be on the same line. Only their thumbnail and labels will be displayed, but no text. (I will display the first one as in the 2nd mockup).. No I didn't know it. And even just the suggestion box could be handy for the search field, because my current implementation is quite buggy (most of the time, suggestions don't even appear at all ...). The documentation is sometimes very .. succinct, but still, using this library could help quite a lot.\nThe only problem is that it means another extra non-python dependency .. that is not packaged in Debian yet ... :/. Time to make Flatpak work I guess.. I've noted the URLs. I'll have a better look at it later.\nIn the meantime, I see nothing in libdazzle that could be useful for this ticket (or did I miss something in your mockups ?), so I'll keep working on it with just my current tools :). Hm, I see. The push effect is an interesting idea. It could work.\nAnd Libdazzle is not required for that. The push effect can easily be done with a GtkRevealer. And regarding the resizing video, it's actually showing how the text in the GtkTree is updated, but I don't use GtkTree and based on your mockup, I won't even have to resize the document list.\n.. but I'm a little bit lost ; Is the left pane part of this ticket ? oO\nBy \"overview mode\", do you mean the summary (last documents opened, statistics, etc) ? If so, I don't really how it is related to the left pane ?. I'm going to assume the left pane part of this ticket too, because I don't know of any other ticket about that.\nHowever, I'll start by making the summary view, and then work on the left pane. https://github.com/openpaperwork/paperwork/commit/d9167a5ffe3e71bc8cf44d530d5288956932e186 : Keep track of the last documents and the last searches made. 1686db5dd2c68615d2047554882c17dc74878e1c : switch between summary view / document content view (summary view is pretty much empty for now). For me, the left pane has a goal entirely different from the summary (landing page number 2).\nThe left pane is complementary of the search dialog. Except it's not about building one search, but about managing set of searches.\nThe summary is .. well, a summary of what you have in store. It's about getting statistics and a bird-eye view.  I assume you mean it breaks the UI because this space is usually used to display document content, right ? But even currently, when you start Paperwork, you have a basic welcome screen (Paperwork logo + version).\nSo actually, having both could make sense to me.\nOr we could put everything in the left pane (last searches, last documents, saved searched, etc). I guess it could make sense too.. I'm starting to think you're right and this summary is pretty much made useless by the 3rd column.\nRegarding the 3 columns layout, I'm wondering: Instead of a 3rd columns, why not just switch the content of the columns like done currently with document properties ? It would use much less space on the screen.\n(I may have already asked that, but I don't remember the answer). > Before implementing anything, I think I should make some prototypes for user testing to know which works best. :/\nPrototypes or mockups ?\n\nI don't think you did, or sorry if I missed something.\n\nNah, don't worry, I have a pretty crappy memory at times, so I probably never asked in a first place. (sometimes I'm surprised I haven't driven my girlfriend mad yet ... :). 1) Search dialog: looks cool :)\n2) Other mockups: I'm really not fond of the idea of having 2 left-side columns at any point. Even less fond of having one pushing the rest of the window content. As stated before, I still think this is going to be messy to manage: When displaying the extra column, do we extend the window to the right ? If we don't, what happens if the window was too small ?\nIn other words, I think sliding things may end up being a problem.\nMy 2 cents:\nBoth columns are about search. So it would make sense to display both at the very same place and switch them as we do currently with the document list and the document properties. When paperwork starts, it display first the overview column. In the overview, we make everything clickable (for instance the label names) --> one click and it switches to the search result list.\nRegarding large screen, there is another way we could use them: We could display the document properties to the right side of the window (I think I remember seeing that in one of your other mockups ?). I think it would nicely enforce the idea \"left = document listing ; right = current document\", no ?\n. The variant #4 feels clearly cleaner to me.. Actually, when I think of it, I'm not sure I see a real difference between #4 and #7 ? oO. Well, I'm obviously missing something here, because I don't see the difference between #4 and #7 ?\nIs it that in #7, the overview doesn't push entirely the document list ? (If so, that will be a pain to implement :/). Ok, because if I have to implement #4, there would still be sliding/pushing (as currently in 1.2.4). So with #7, the difference is actually that it would stop at 2/3 or 3/4 of the way, right ?\nI wasn't sure if the mockups show things in-motion or once they are at the end of each motion :/. Ok, I eventually got the difference between 4 and 7 .... :). I like 7 better. But for any of the variants, there are some things I would like to discuss first:\n In the current implementation, the assumption is that the users more often use the last documents scanned than the other. This is why the default is the whole document list, ordered by reversed date.\n When the user will start Paperwork for the first time(s), the overview will be almost empty. Is that what we want to show as soon as it start ?\n A 2/3 split will be hard* to implement and really bug-prone.\nMy questions:\n Do we need the overview immediately when we start ? Wouldn't it be better to just display it when the user request it (application menu for instance) ?\n Do we need a 2/3 split ? The animation should show clearly enough what happens, and entirely replacing the left pane (as currently for the doc proprerties) would give more room for the overview, no ?. It makes sense.\nHowever, in all the example apps you shown, what we call the overview cannot be hidden. I guess nowadays on 16/9 screens it makes sense.\nMaybe as a first step, we should forget about small screens ? I'm starting to think it's making things really much more complicated and I'm not sure it would not be that useful ?. @mjourdan : A while ago you mentioned a lib for various GTK animations. I can't find it back. Can you remind me what it was please ?. Nevermind. The scanner output is crappy with any resolution :p. Not going to happen. Not enough time to do it right. I'm closing this ticket.\n. @lenucksi : I've though of it. But there are some differences between Paperless and Paperwork that would make that difficult.\nFor instance, I love having my computer doing most of the work. So setting setting \"matching algorithms\" to get my labels automatically defined is not something I want in Paperwork.\nPaperless is interested in document titles. I'm not.. Thanks :). Cherry-picked in the branch 'stable'. For me, this is a duplicate of #535. So I'm going to close this ticket.\nPlease comment if I missed something, and I will reopen it.. Ok, I keep it open as a reminder, but I will probably do it at the same time than #535. For those with duplex scanners, can you run the test program IronScanner to add your scanners in openpaper.work's database please ? I would like to make sure that all Sane drivers handle duplex scanning in a similar manner.. Translation:\n\nOne feature that would be really useful is to be able to select many documents in the interface\nand send them all to the print queue. Interesting. Won't be easy to implement, but looks cool :). Thanks :). cherry-picked on branch 'stable' too.. I'm going to need more information.\nFirst of all, are we talking about the Windows version of Paperwork or the Linux one ? (the code you pointed to is specific to Windows).\nRegarding the option you indicated, it is not supported on all scanners.\nCan you provide me with the output of the diagnostic dialog please ? It would provide a lot of informations regarding your scanner. ( https://openpaper.work/en-us/helpdesk/kb/1/ ). Your scanner provides no options to automatically fix the skew.\nCan ImageMagick fix it automatically, or do you provide the angle yourself ?\n. > In libpillowfight you re-implemented some unpaper algorithms. Unpaper also implements deskewing maybe this is worth a try.\n\nGood point :)\nI'll see to implement this feature. However it will take some times.. http://www.pyimagesearch.com/2017/02/20/text-skew-correction-opencv-python/. Good catch.\nRegarding the bug tracker, I must apologize. This is actually the correct one to report paperwork-backend bugs. I've disabled the bug tracker for paperwork-backend because having two bug trackers made it hard for me to follow issues (and often, people don't know if the bug they are reporting is related to Paperwork's frontend or backend).\n. I think your fix is fine. I don't know any file system that doesn't allow '_'.\nFixed: https://github.com/jflesch/paperwork-backend/commit/11481264cfe809a5cbf5bdf77d527f0d9a7faa6b\nThank you very much for taking the time to debug and report this issue :). I already had a look a while ago. Seems interesting, but I have a feeling it won't be easy :/\n. I need my Ubuntu Gnome to test with a version of Flatpak recent enough (--> I only have Ubuntu Gnome at home), so I won't be able to test before sometimes (I'm going to lack free time for some times ....).\nIn the meantime, I suggest you update to the latest 'testing' branch. I've made changes regarding the use of pkg_resources (locales weren't loaded properly for instance). I don't know if it may help you, but it should be included.\n. This assert is raised if libsane hasn't been found but sane_init() has been called anyway.\nI think you're simply missing libsane.\nAnyway, I'm going to have a look. Because we can embed libsane + all the drivers, but we will hardly be able to embed tesseract and all the language data files in a single flatpak.\nProblem is, I lack free time currently ... I'm moving next month, so I may not have a lot of free time until then :/. Wow, you did quite an impressive job already it seems. Did you write the .json yourself or is it generated ?. Yeah, having a SHA on the branch unstable may be a problem to maintain ;-). Ok, I've finally taken some time to try to build it on my side.\nI've created a branch 'wip-flatpak', based on the branch 'stable', but including your changes.\nI've been able to reach the point where you were blocked. Including sane and opensource scanners drivers shouldn't be much of a problem. However, I will soon have 2 problems:\n how to make this flatpak work with proprietary scanner drivers ? (for instance, my annoying Brother scanner)\n how to include Tesseract support for as many languages as possible without making a 600MB flatpak bundle ?. Note to myself, the .json of Flatpak can refer to Git repositories:\njson\n    \"modules\": [\n        {\n            \"name\": \"gnome-dictionary\",\n            \"sources\": [\n                {\n                    \"type\": \"git\",\n                    \"url\": \"git://git.gnome.org/gnome-dictionary\"\n                }\n            ]\n        }\n    ]. @mjourdan : afaik, python-sane isn't useful\n\nNow there is a couple of git repositories listed in my wip-flatpak branch...\n\nDo you want me to rename the branch ?. @mjourdan: I think the dependency you were looking for is sane_backend: https://alioth.debian.org/frs/?group_id=30186. https://github.com/openpaperwork/paperwork/commit/332e0c30ef75f9f8a558793d7799f81b07b8b285\n^ sane-backend added. It now works \\o/\nFor some reason, alioth.debian.org (the official source for sane-backends) makes my flatpak-builder segfaults, so I had to use a mirror.. I've created a nightly build: https://github.com/openpaperwork/paperwork/blob/unstable/flatpak/README.markdown\nRemaining to do:\n- [x] check that Flatpak updates work as expected\n- [x] desktop icon\n- [x] Tesseract data files\n- [x] Enable Saned support\n. And done !. I'm going to see if I can submit Paperwork to Flathub.. Flatpak support is complete. But I still need to add Appstream data to publish Paperwork on Flathub ( #691 and #690 ). In case someone comes here from Flathub or Google, looking how to enable scanner support in Paperwork when using Flatpak: the documentation is here. Not easy, but possible.\nJust not sure how to integrate that in the GUI.\nAlso, I'm not really convinced about the usefulness here. Web pages tend to be full of crap (ads, etc), so reader view makes sense. Scanned pages are static and usually don't contain that much crap. Also the scan quality is usually not-so-bad with modern scanners.\nDo you have any document for which reader view would be useful and that you could post here as an example ?. You link for the mockup return a 404. Did you mean https://github.com/mjourdan/gnome-design/blob/master/paperwork/experiments/header-bar-view-settings.png ?. I think a mockup showing the expected output could be helpful too. Just to be sure we are talking about the same thing.. https://github.com/jflesch/paperwork-backend/commit/00ed7fd1d0070a7898b4fcec01fe486d826cbfa6 has taken care of it. The output of the diagnostic dialog would have been handy :/\nAlso, I'm not really sure covering cases that shouldn't happen in a first place is a really good long-term strategy.. Currently, when Paperwork cannot open the index, it destroys it and remake it from scratch. So there is already a crash recovery mechanism.\nI'm not found of of the popup idea. Because some people have a lot of documents, and loading time depends on the number of documents. It would mean they would get the popup everytime.\nWhat I need is the stracktrace when the index doesn't load, so I can run the crash recovery in this case and only this case.. I've had issues with Whoosh recently.\nIt was the opportunity for me to work on this issue.\nMain problem was, all the possible exceptions were not caught correctly in the backend.\nIt's fixed in the branch unstable: https://github.com/jflesch/paperwork-backend/commit/3912c264ac2ed07c3fb6836148b2eafdea8445f6. Hm, interesting idea. Just wondering, how do they get this \"man page\" again later ? An option \"help\" in the menus somewhere ?. Good point.\nNow the problem is to define the content of the document. BTW, this document would have also to be translated. The correct version would have to be picked based on the system/user language.. I have a feeling it will end up being a very big document, therefore #76 will become handy :-)\nAlso, as a user, I tend to delete really quickly this kind of document --> how to get it back ?\nPossible idea: Application menu --> \"help\" : would (re)open the document, but not show it in the document list.. Topics that must be detailed:\n\n[x] Basic concepts / Welcome to Paperwork\n[x] Documents (paper ?)\n[x] Pages\n[x] Labels\n[x] Memos (extra keywords)\n[x] Your first documents\n\n\n- [ ] How to scan\n  - [ ] single scan (flatbed or feeder)\n  - [ ] from feeder\n- [ ] How to import\n  - [ ] Image(s)\n  - [ ] PDF(s)\n- [ ] Managing labels\n- [ ] Search\n  - [ ] view pages as grid\n  - [ ] view pages as list\n- [ ] Advanced search\n- [ ] Exporting\n  - [ ] document\n  - [ ] page\n- [ ] Printing\n- [ ] Copying text (will be available in 1.2)\n- [ ] Editing pages\n- [ ] Moving pages\n  - [ ] inside a document\n  - [ ] from a document to another\n- [ ] Advanced use\n  - [ ] redo OCR\n  - [ ] highlight all keywords\n  - [ ] keyboard shortcuts (PageDown, PageUp, Ctrl+N, Ctrl+E, Ctrl+PageUp / Ctrl+PageDown, etc)\n- [ ] Getting support / reporting issues\n  - [ ] Diagnostic dialog\n  - [ ] Github issue tracker\n  - [ ] Mailing-list\n\n(edit: will be for the complete manual only, see #573 )\nDo you see something missing ?\n(I also really really like this idea of a first document because it solves an issue I've had for a very long time, which is how to integrate nicely a documentation inside Paperwork :-)\nI wonder, maybe I could push the logic a little bit further, and also add in the menu \"advanced\" a \"contributor handbook\" (for translators, testers, code contributors, etc) ?. > show the release notes when a major release is installed\nOh nice idea too ! :-) (documents, documents everywhere !! :-D ). @mjourdan BTW, thank you for the base content.\nIt's really interesting for me, because it also gives me the perspective of someone else using Paperwork :-)\n. Work in progress: https://github.com/jflesch/paperwork/blob/unstable/doc/usage.pdf. Good point, I guess I can easily make 2 documents. One introduction, and one being the complete manual.\nWhat I have in mind:\n When the user starts Paperwork, if their work directory is empty, they get one first document : the introduction to Paperwork (which they can safely delete). One of the advantages for new users is that this document can be used for experimentations.\n In the application menu, I can add a sub-menu \"help\" (besides \"advanced\"), with the items you listed. Clicking on one of them will open the corresponding document, but not add it to the work directory / document list.\n  * Welcome aboard / Introduction\n  * Help / Complete Manual (with pretty much the TOC I gave earlier)\n  * Contributor Handbook\n  * About (the current dialog)\nBTW, I was wondering : is it useful to display the manual at the bottom of the list as shown in your mockup. From a technical point of view, it will be pretty annoying to do, and I don't see the point in making this document any different from other documents ?\n. Work in progress : https://github.com/jflesch/paperwork/blob/unstable/doc/intro.pdf\n(usage.pdf will be the full manual for #573 )\n\nHow would it open, then? Would it open in a modal window or something else?\n\nApplication menu -> \"Help\" -> \"Introduction\" + Application menu -> \"Help\" -> \"Manual\" :\nBoth would appear like any other document in the right pane. It wouldn't change the document list at all.\n. \n^ I was thinking of using this drawing as the first illustration in the document \"Welcome aboard / Introduction\" (it would be inked first of course). For me, it looks fitting to the first paragraph.\nDo you think that could work ?. Well, I use Paperwork, therefore I don't have huge messy piles of papers progressively destroyed by the wind/simple draft ;). \n. IMHO, the introduction document is ready:\nEnglish : https://github.com/jflesch/paperwork/raw/unstable/doc/intro.pdf\nFrench : https://github.com/jflesch/paperwork/raw/unstable/doc/intro_fr.pdf\n(it may need some re-reading).\n. > The French document has English screenshots\nRight now, doing all the screenshots in all the languages will be too much work. 1.2 will be released like that. Later, since I've automated some of the screenshots, I'll try to make them in each language. But even then, some will remain in English.\n\nAbout the above picture, I just do not get the meaning\u2026 What is the intended message?\n\nIt's supposed to be related to the first paragraph :/. There are very good catches in your notes (There are also some minor points where I disagree).\nI've updated intro.pdf accordingly.\nJust out of curiosity : which software did you use to add notes ?\n. By the way, if you have any other idea for the first illustration, I'm interested. > figure 2 is too low\nFixed\n\nfigure 3 should have screenshots of the same size\n\nI'm automating most of the screenshots. I've centered them around the mouse cursor, so it's actually not trivial to fix. Anyway, I guess it will be good enough for 1.2. We can fix that later.\n\n\"Tell us\", in the very last sentence, should be a link or an e-mail adress pointing where you want, so that user can easily give us feedback.\n\nActually, they already are, but I guess it ain't obvious. --> fixed\n\nAre you sure about the font?\n\nThat's the default Lyx/LateX font. It seemed fine to me so I didn't change it.\nAny font you would prefer ?. 39dc67a6c27ec8d1e5caf9c5038388d8b584da3f\n^ When Paperwork starts, if the work directory is empty, it will automatically import the introduction doc, and apply a new label \"Documentation\" to it.\n. > The software is simply evince ;-)\nOh, I didn't know Evince could do that. Good to know :)\nI forgot to indicate this commit on this ticket : f93c05b69a470797fdddb0c2b5f5eb8ea749c954\nCurrently, it looks like that :\n\n. As the feature has been implemented, I'm going to close this ticket.\nHowever, if you still see anything that should be changed, feel free to comment here again and I will reopen this ticket.. 32895b2834b53d23e8dd94ba893a4903c6c2b530. Re-read by an Australian friend of my girlfriend : a74b681372d51658bb8e1a83e519211998a1fc78. A lot of optimisation have been done in the version 1.1.0 (not yet released ; currently in the branch 'unstable').\nOne of them is related to displaying PDF files.. For reference:\nhttps://github.com/jflesch/paperwork-backend/commit/d1ffb535cc332475d732fbcd7640028ea1350d66\nee91afbe75ca2bfe4c2c1ce7cf346f58a466c9b2\nI'm closing this ticket. When 1.1.0 will be released, if you still have perfomance issues with PDFs, please comment again on this ticket, and I will reopen it.. You're using Python 2 instead of Python 3.. Any Python exception visible in the terminal ? (either when you open the document, or when you switch to the tag list ?). This one has already been reported and fixed as #558 .\nUnfortunately, there is no Paperwork release including this fix yet.\nWhat you can do (assuming you did install Paperwork with pip3 in a system-wide manner):\ncd /tmp\ngit clone https://github.com/jflesch/paperwork-backend.git\ncd paperwork-backend\ngit checkout stable\nsudo python3 ./setup.py install\n. There is a feature already existing that may interest you:\nWhen importing, just indicate to Paperwork the folder where you store your PDF:\n it will look recursively for PDF files\n it will automatically import those not yet imported, and ignore those already imported.\n. (currently, if you target one PDF specifically, it will always be imported. This behavior will be changed in 1.1.0). Implemented in 1.2. Sehr gut. Danke sch\u00f6n :). Note: 1.0.6 has been released a while ago. Ok, if I understand the maintainer message correctly, they actually mean you're using 1.0.6. But 1.0.6 had a (stupid) bug : I didn't update the about dialog and the main window, so it still displays 1.0.5.\nAnd they didn't want to update to 1.0.6.1.\nFair enough. https://github.com/jflesch/paperwork-backend/commit/d0950c4bdd7aba074798d4eafe56328f29ab3954. It should fix the issue. It will be included in 1.1.0.\nIf it doesn't, please comment, and I will reopen this ticket.. Yep, that's a good workaround. same goes for rotation + ACE + deletion of the first page. 23db200a501b907ec99ac48a742a8e2ceb4f4dba. https://github.com/jflesch/paperwork-backend/commit/3e64122086192def3fdd2772295a41108a8dc9aa. \nHacker's guide\n\n[X] Ask before doing (+ open a ticket if one doesn't exist yet to indicate you're working on something)\n[X] Git branches\n[X] backend / frontend\n[X] dependencies and constraints (due to dependencies)\n[X] Jobs / Schedulers\n[X] Scan process\n[X] Documentation (Lyx power !)\n\nTranslator's guide\n\n. Translator's guide: 5e44adc046934c36e6c86635172d54a25c436779\nHacker's guide, work in progress: https://github.com/jflesch/paperwork/raw/unstable/doc/hacking.pdf. User manual: https://github.com/jflesch/paperwork/blob/unstable/doc/usage.pdf (WIP). The manual now contains a lot of infos, but is still not complete. However I don't think I will have time to finish it for 1.2. I will remove the translator's guide and the hacker's guide. They always target the latest dev version of Paperwork ; not the one the user is currently running. They should actually be in the wiki.. ... it's the very first setting in the settings window ... (\"work directory\").\nThe settings window can be found in the application menu. If you use Unity (Ubuntu) or Gnome, the application menu is at the top-left of your screen. If you use anything else, it's in the main window, in the toolbar, it's the button with the paper plane logo.. Yep, I did try to have it on the very left of the toolbar to make it more visible, but GTK+ made it really really difficult :/\nI'll give it another try later.. Fixed in 1.2.0 : a06504231402dfd13ec5afcc6ce6c89a3e59bb2d. paperwork-backend should be installed by dependency :/\nNevermind. Doc wasn't up-to-date, sorry. It's fixed: 6e8fdb7ad4106879e2c5fe2b43d981244b382a24. paperwork-shell chkdeps paperwork-backend and paperwork-shell chkdeps paperwork should take care of this problem. This is weird, paperwork-shell has been started with Python 2.7 instead of Python 3.\nI'm wondering : was python-stdeb installed on your system before python3-stbdev ? If so, I think you may have used the Python 2.7 version of pypi-installer instead of the Python 3 version.. Nevermind. It seems python3-stdeb doesn't provide pypi-install (while python-stdeb does, but for python 2.7).\nSomehow I installed a version pypi-install for Python 3.. Got it.\nI ran pip3 install stdeb a while ago .... I've updated again the documentation: 10622efdc30bf967a308674d26081dee92affcfe\n(this part of the doc was a contribution. This is why I didn't maintain it correctly)\nThank you for taking the time to report these issues and sorry for the mess.\n. > dpkg-source: info: building pyinsane2 using existing ./pyinsane2_2.0.9.orig.tar.gz\nThis is weird, it seems to reuse a previous checkout (probably made with pypi-install for Python 2.7 I would guess). > dpkg-source: error: aborting due to unexpected upstream changes, see /tmp/pyinsane2_2.0.9-1.diff.ge6vcU\nCan you have a look at /tmp/pyinsane2_2.0.9-1.diff.ge6vcU (or whatever the name will be at your next try) please ? I think it would give us a good hint about what's going on here.. Hm, weird. I haven't released any version of Paperwork since February 9th, so I don't know what has actually solved your issue :/. (right now, I have no idea how I could insert that nicely in the GUI ...). Actually, if you look at the dates, it's #728 that duplicated this ticket. Anyway, #728 is broader and probably more appropriate so I'm closing this ticket.. Gedit has the same problem on Windows. Probably a GTK bug --> to report.. Feel free to send a pull request :-)\n(please just beware of the PEP8). https://github.com/openpaperwork/paperwork-backend/pull/3. Why did you close this ticket ? oO. Fixed at the same time than #593:\nhttps://github.com/openpaperwork/paperwork-backend/commit/35e45fd5eb0897b123ac23c29f43b7923c99afde#diff-c923b83553379c7d9ac0592ce69ad176R396\nWill return an error like this:\njson\n$ paperwork-shell -bq import ~/tmp/empty\n{\n    \"args\": \"(\\\"Don't know how to import ['file:///home/jflesch/tmp/empty']\\\",)\",\n    \"exception\": \"<class 'Exception'>\",\n    \"reason\": \"Don't know how to import ['file:///home/jflesch/tmp/empty']\",\n    \"status\": \"error\"\n}. To figure out: in the UI --> A checkbox in the multi-scan dialog ?. 0cc6fa4ec10d55ec407b8c68aff688732a397be6. Hm, I'm not very fond of notifications.\nI'll have to think of it.. Good point. Note to myself: \nhttps://wiki.archlinux.org/index.php/Desktop_notifications\nhttps://notify2.readthedocs.io/en/latest/. I guess it could also be used for the import popup. Notifications allow for buttons so it wouldn't block #567 .. Export: 0ec0f408a1f72e5bc4a14d7cae7cc2c03f5ce31f. Import: e4fe0adc5490c5189184912c87c7f2b88b94b676. 5f09ba63ea1a225d964aa21cb730f0200ecf8052. Paperwork uses GObject Introspection. GObject Introspection is a way to generate dynamically all the bindings for all the languages.\nTherefore, you don't need a package named \"python-poppler\" or whatever.\nFor instance, on GNU/Linux Debian and Ubuntu, the package name is gir1.2-poppler-0.18. The last comment also show that pyinsane does not have dependency on libsane on ArchLinux. It should.. Yep, that's what I tried to do initially ... and failed.\nI'll try again. Some other comments have made it obvious that the current presentation is confusing.. Success \\o/\na06504231402dfd13ec5afcc6ce6c89a3e59bb2d. TWAIN support in Pyinsane (the scan library used by Paperwork) is not planned at all at the moment. Unfortunately, I have no time for it.\nWIA should work. You're the second person to report this issue. Either it's related to Windows 7, or I guess I'll have to buy one of those scanners :/\n. BTW, I assume your scanner was turned on when you tried ?. Actually, the way to access the scanner on GNU/Linux and Windows is entirely different. Pyinsane has two totally different implementations depending on the OS (WIA or Linux (libsane)).\nSo this can still be a bug in the WIA implementation of Pyinsane.. At this point, the problem is that I would need more detailed information. It would mean installing a Python interpreter + Pyinsane, which can be a hassle on Windows if you're not already familiar with Python... Fujitsu appears to provide only TWAIN and Isis drivers. I have recently realized that a lot of manufacturers actually still provide only TWAIN drivers for their scanners (Brother DS-620 for instance), even though Microsoft is obviously pushing for WIA.\nSo the problem here would be the lack of TWAIN support in Pyinsane/Paperwork.. Try paperwork-shell help import.\nBut I agree, I must make things clearer. Unfortunately, I'm limited by argparse :/\nThe only improvement I've been able to do: https://github.com/openpaperwork/paperwork-backend/commit/31a461a0b7fb801b6cfd688f7ad8917281388e65. Fixed in 1.2 while switching fully to Gio.. I think I see two tickets here:\n- make the shell more REST-like (>= paperwork 2.0)\n-  paperwork-shell import should return the ID of the new document / new pages (OK for paperwork 1.2) \nNevermind. (I'm a little bit tired and misunderstood your ticket at first, sorry). That should do the trick:\nhttps://github.com/openpaperwork/paperwork-backend/commit/35e45fd5eb0897b123ac23c29f43b7923c99afde\nhttps://github.com/openpaperwork/paperwork-backend/commit/b2ed6054cc38af0bf4c4593d9d4bd398b3559ed0\nOption -v (verbose) has been replaced by -q (quiet) --> For 1.2, paperwork-shell will be verbose by default.\nWith paperwork-shell -bq (batch + quiet), the output is guaranteed to be only JSON (except for the command 'dump').\nExample:\njson\n$ paperwork-shell -bq import file:///home/jflesch/tmp/pouet.pdf\n{\n    \"guessed_labels\": [\n        {\n            \"docid\": \"20170602_1513_12\",\n            \"labels\": [\n                \"Documentation\"\n            ]\n        }\n    ],\n    \"imports\": {\n        \"imported_file_uris\": [\n            \"file:///home/jflesch/tmp/pouet.pdf\"\n        ],\n        \"new_docs\": [\n            {\n                \"docid\": \"20170602_1513_12\",\n                \"labels\": []\n            }\n        ],\n        \"new_docs_pages\": [\n            \"20170602_1513_12|0\",\n            \"20170602_1513_12|1\"\n        ],\n        \"stats\": {\n            \"Document(s)\": 1,\n            \"Image file(s)\": 0,\n            \"PDF\": 1,\n            \"Page(s)\": 2\n        },\n        \"upd_docs\": [],\n        \"upd_docs_pages\": []\n    },\n    \"status\": \"ok\"\n}. Nevermind. Looks good to me. I'm merging it.\n@tclavier : ping ?. By the way, thanks :). You need libsane --> sudo apt install libsane. Exactly. This is why I'm going to keep this ticket open for now. It will serve as a reminder for me to add it in the documentation.. 190dda1453e9fa644bbfed86b2fd8b12acedba4e\n(on the branch stable too). I'm going to need more information:\n- How did you install Paperwork ?\n- On which GNU/Linux distribution ?\n. I'll try in a VM asap .. problem is, I broke my hard drive containing all my VMs ... :/. By 'unstable', you mean 'Debian unstable' or 'Paperwork unstable' ?. @tYYGH or maybe a previous version of Paperwork installed it correctly. Anyway, setup.py has been modified heavily in the branch unstable, so I wouldn't be surprised if Paperwork 1.2 will fix this issue. I just need to check before closing this ticket.. 7fba444d29b4f896fd47266d15bc28ff9bdf30fe should help too :). Works perfectly with unstable :). Workaround :\n- resize the window until the scrollbar of the document list appears\n- move the scrollbar\n(yeah I know it is annoying ; this is just a workaround, this bug will be fixed). 271349c86b1eb30a99bb59a6b77c46494090aea4\n(also on the branch stable --> if there is a 1.1.3, it will be included). Yep, duplicate of #495 . --> Closed.\n. https://github.com/openpaperwork/paperwork-backend/commit/8848e0c6083f2b33f0ce7f865dee413a782030c9. Reproduced. Reproduced on GNU/Linux Ubuntu Gnome 16.10 (~= debian testing), but not on GNU/Linux Debian stable.\nI have a feeling it could be a GTK+ bug.. Not reproduced anymore with Ubuntu Gnome 17.04 and the latest changes in the branch unstable. 4922c91d704a8707cc1877d473124e0da4d92147. If you install the unstable branch of paperwork, you must first install the unstable branch of paperwork-backend.\nSee https://github.com/jflesch/paperwork/blob/unstable/doc/install.devel.markdown#system-wide-installation. A workaround could be to patch pyocr to use the libtesseract instead of the command tesseract:\n```sh\ncd /tmp\ngit clone https://github.com/jflesch/pyocr\ncd pyocr\npatch -p1 << EOF\ndiff --git a/src/pyocr/pyocr.py b/src/pyocr/pyocr.py\nindex f73863f..cc3c828 100755\n--- a/src/pyocr/pyocr.py\n+++ b/src/pyocr/pyocr.py\n@@ -57,7 +57,7 @@ all = [\nTOOLS = [  # in preference order\n-    tesseract,\n+    # tesseract,\n     libtesseract,\n     cuneiform,\n ]\nEOF\nsudo python3 ./setup.py install\n. Anyway, this is not an issue with Paperwork nor PyOCR but with your game, so I'm closing this ticket.\nIf you decide to report this issue to the game creators, my advise for them would be to just change the name of their command (for instancetesseract-gameinstead of justtesseract).\n. @tiramiseb some people reported instability with libtesseract. And when it causes a segfault, Paperwork itself crashes with it :(\nSo I've moved it down the list for now .. but since I can't reproduce these issues, I don't know when I'll be able to move it back up ... Maybe I'll have to workaround these crashes by using the python modulemultiprocessing``` ... :/. Agreed, but then it's a ticket for PyOCR, not Paperwork ;)\n. Anyway, I'm closing this ticket. > >    please support pip install --user\n\nIt should be pretty straightforward\n\nHm, not sure. I added those weird os.path.join(sys.prefix, a very long time ago for a reason, and I don't remember exactly why. Maybe due to a bug in old versions of Pip (or maybe just because I'm not familiar enough with Python resources .. ). I'm going to look at the git history later.\nIt may require also changes in src/paperwork/frontend/util/__init__.py (all the load_xxx() and get_documentation() functions).\nAlso I don't use --user. So if you're familiar with Python / setuptools, feel free to give it a try. It would probably work best if done by someone actually using it.. > removing a document makes everything disappear\nUh ? That's a regression then :(. I've just created the ticket #607 for this issue.\nTo fix this bug, I'm going to need some information:\n- the GNU/Linux distribution you use\n- how many documents you have (I don't need an exact number, an approximation is good enough)\n- if possible, the diagnostic output after you reproduced this issue would be even better ( https://openpaper.work/fr/helpdesk/kb/1/ )\n(please post it on #607 so I can keep track of it easily). No objections as long as things keep working :-). In case it helps:\n\nif you move the files, you will probably have to fix / update functions in the module util.py\nThere are some resources that are accessed by Gtk itself. Mostly Paperwork icon (paperwork.svg) I think:\nmain window\nabout dialog. It seems to be a bug in Pyinsane2, or maybe in your scanner drivers.\nMain problem here is that there is a workaround to prevent faulty drivers from crashing Paperwork. And this workaround hides the real stacktrace. However this workaround can be easily disabled:\n\n```sh\ncd /tmp\ngit clone https://github.com/jflesch/pyinsane.git\ncd pyinsane\npatch -p1 << EOF\ndiff --git a/src/pyinsane2/init.py b/src/pyinsane2/init.py\nindex bd3a6e7..b596ed2 100644\n--- a/src/pyinsane2/init.py\n+++ b/src/pyinsane2/init.py\n@@ -25,7 +25,7 @@ elif sys.platform == \"darwin\":\n     # The dedicated process appear to crash on MacOSX. Don't know why.\n     from .sane.abstract import \n else:\n-    from .sane.abstract_proc import \n+    from .sane.abstract import *\ndef __normalize_value(value):\nEOF\npython3 ./setup.py install\n. Have you had time to test with the patch yet ?. The intend behind the patch is just to get the exact and detailed exception :-). Behavior should be the same.. [sane_open()](http://sane.alioth.debian.org/sane2/0.07/doc012.html):\nSANE_STATUS_INVAL:\n    The device name is not valid. \n```\n. The unpacking issue fails when the forked process of Pyinsane crashes (SIGSEGV). It doesn't tell us anything more than that.\nHowever, the exception here shouldn't have caused a crash ...\nAnyway, the source problem seems to be the sane_open() calls that fails.. As previously stated, Pyinsane implements a workaround for crappy sane drivers. With this workaround (abstract_proc.py), when starting, Pyinsane forks. All the scan operations happen in another process.\nThe packing/unpacking is related to the communication with this other process. You shouldn't focus on the unpacking exception. It just hides the real problem.\nThe patch I provided disable this other process.. Before that, it would be interesting to just see what Pyinsane gives to sane_open(). With the previous patch, you can just add a print() in sane_open() to see the exact value of dev_name.. When it happens (segfault), would it be possible to have the full output please ?. Unfortunately, the diagnostic you reported was of when you restarted Paperwork.\nDiagnostic would have been more helpful if obtained right after the problem occurred (without restarting Paperwork).\nHowever:\n1) I can have a look for 1.2 to make sure that Paperwork keeps loading in this case.\n2) In the meantime, you can work around this problem by deleting F:\\Scans\\Paperwork\\20170401_2202_08\\papers.47.* manually while Paperwork is not running.\n. @teto & to the other people having this problem : When it happens, does resizing the main window make the document list reappear ?. Yeah, unfortunately, if true for everybody else who have this issue ... it sounds more like a GTK+ issue than a Paperwork issue ... and it will be painful to track down :/. Same workaround than #629:\nRemove / re-add the GTK widgets (GtkRevealer) as required : 1ab7540. Tested on a fresh Debian stable + KDE VM:\n(system-wide install)\nERROR  paperwork.frontend.util        Can't find resource file 'mainwindow/appmenu.xml'. Aborting\nINFO   paperwork.paperwork            Good bye\nERROR  paperwork.frontend.diag        === UNCATCHED EXCEPTION ===\nTraceback (most recent call last):\n  File \"/usr/local/bin/paperwork\", line 9, in <module>\n    load_entry_point('paperwork==1.2', 'gui_scripts', 'paperwork')()\n  File \"/usr/local/lib/python3.4/dist-packages/paperwork-1.2-py3.4.egg/paperwork/paperwork.py\", line 144, in main\n    main_win = MainWindow(config)\n  File \"/usr/local/lib/python3.4/dist-packages/paperwork-1.2-py3.4.egg/paperwork/frontend/mainwindow/__init__.py\", line 2341, in __init__\n    self.__advanced_app_menu = self.__init_app_menu(config, self.app)\n  File \"/usr/local/lib/python3.4/dist-packages/paperwork-1.2-py3.4.egg/paperwork/frontend/mainwindow/__init__.py\", line 2911, in __init_app_menu\n    app_menu = load_uifile(os.path.join(\"mainwindow\", \"appmenu.xml\"))\n  File \"/usr/local/lib/python3.4/dist-packages/paperwork-1.2-py3.4.egg/paperwork/frontend/util/__init__.py\", line 145, in load_uifile\n    raise Exception(\"Can't find resource file '%s'. Aborting\" % filename)\nException: Can't find resource file 'mainwindow/appmenu.xml'. Aborting\nERROR  paperwork.frontend.diag        ===========================\nSorry :/. ping ?. No problem. Take your time.\nRegarding CI, I was thinking more about packaging automatically things than testing. Because testing requires starting Paperwork, which is a Gtk GUI ... no sure it's doable (easily anyway).. > When looking at setup.py, some data is installed via data_files\nSorry, the branch 'unstable' wasn't up-to-date with the latest changes from 'stable'. I was too busy fixing some mess in the branch 'stable' and forgot to merge back in 'unstable' ... :/. Unstable branch is up-to-date now. c3fa7d24cda2eb2493d149d32b999ce70ac1908e\nButton 'remove' on the first line has simply been removed.. I'm trying to understand the use case here: Why would you want to delete expired documents ? oO\nDo you have a concrete example ?. > you don't want to keep it for ever.\nWhy not ?\n\nautomatically hides documents from the default view\n\nMaybe am I being a little obtuse here but, I still don't see in which way it would be interesting to automatically hide a document after some times.\nI mean:\n either you don't need the document ever again, in which case you can just keep it in your work directory forever and forget about it (Afaik, these is no reason for this document to bother you)\n or you do, in which case these features brings nothing\nIn short, I'm still waiting for a concrete example of use case.. >  (can we have non stop growth without get the resources full ?).\nFor reference, I have > 4 years worth of documents (1500 documents), and it takes only 2GB. I'm single (kinda), so with a family and a small business, I'm assuming you can multiply that by 5  => 10GB. Assuming you use Sparkleshare (Git) like me, you can also multiply that by 2 => 20GB.. Nowadays, 20GB is nothing.\nThe only case where this argument could make sense to me is if you don't host yourself but use a service like DropBox, and I would strongly advise against it.. https://pypi.python.org/pypi/unotools/0.3.3 (python module)\nhttps://github.com/dagwieers/unoconv (CLI only). I'm going to give it a try for 1.3.0. Not sure where it will go however.. https://gist.github.com/six519/28802627584b21ba1f6a. PDF files are much easier to parse and display than Libreoffice documents.\nTherefore I think the simplest would be to convert imported files into PDF, and keep the .odt (or .docx or whatever) besides it. Whenever the .odt is modified, we regenerated the pdf file.. For flatpaking : https://github.com/ramcq/libreoffice-flatpak/blob/master/org.libreoffice.LibreOffice.json. First of all, thank you for your contribution.\nIt looks good .. but can you send it back for the branch 'unstable' instead of 'stable' please ?\n. Thank you :)\n. I would really prefer kwargs (or both *args and kwargs). kwargs makes thing much more readable.. At the moment, it is not possible.\nIs your ticket simply a question, or is it a feature request ?\n. Have you any concrete use case for this feature ?\n. As is, it is not a concrete use case.. Currently, diagnostic on Windows with the release version when the application entirely crashes or freezes is pretty much impossible.\nI would need the diagnostic output, but currently you can only get it from the diagnostic dialog, but obviously you can only get it if Paperwork is still running. Even then, when it comes to scanners on Windows, the diagnostic output is usually insufficient.\nThere are 2 other options:\n- I can make Paperwork write a log file. I will consider it for the next release of Paperwork.\n- I could buy the same scanner than you. Unfortunately, I'm currently low on funds.. Oops, yeah, my bad, sorry.. No, they won't be stored in the work directory:\n1) Work directory must be backup-able easily. There is no reason to include the index in the backups\n2) Work directory must be sync-able using tools like OwnCloud, SparkleShare, etc. You don't want to sync extra data for no reason (and worst, you don't want to keep the change history of this extra data)\nI use another set of documents than mine, because otherwise SparkleShare would sync my tests so I often have the problem when developing on Paperwork. Therefore I gave it already some thoughts.\nWhat I'm considering doing:\n No change at all in the UI.\n Instead of having the index and the label guessing data in ~/.local/share/paperwork/, it could be moved in ~/.local/share/paperwork/[hash of the work directory path]/\nThen, the problem is just to delete automatically unused indexes.\nSo I'm thinking the following rules can be applied:\n When Paperwork starts, it looks at every index in ~/.local/share/paperwork/\n If an index matches a non-existing path and if this index hasn't been used for more than 2 weeks --> deleted.\nIndexes related to paths that don't exist anymore cannot simply be deleted immediately, because some people may want to store some of their documents on removable devices (USB keys, etc).. Regarding the GUI, what I may be considering is just adding a simple menu \"recently used work directory\" somewhere. But quite frankly I'm still not clear on that part.. > However I would really be against a lookup+timer approach for the index deletion: I store collections on my NAS and I mount them only when needed, with every use arbitrarily time-spaced.\nWorst case scenario, the index is deleted when it shouldn't. It will automatically be rebuilt when you use again that work directory. Since you wouldn't have used it for more than 2 weeks, I guess a 5~10min rebuild wouldn't be a big deal ;)\n\nI would be in favor of a startup screen listing all (recently or not) used paths, giving the possibility to remove them from the list and delete associated indices\n\nHm interresting idea. However I'm not fond of having more screens/dialogs/windows. With too many of them, we will end up with a UI like the space shuttle cockpit.\n\nThis would also avoid waiting for the integrity check of the last used work directory to complete to simply switch to another one\n\nI think you misunderstood what I suggested: For each index, the check will simply be \"do the root of the work directory of this index do still exist, and if not, when was the last time this index was used ?\". Those are really quick to check. Update: nevermind, I misunderstood you ...\n\nSome inspiration may be found in the IntelliJ IDEA startup window.\n\nIDE GUIs are exactly the way I never want to go. I'm trying to make a GUI that my own mother could use (and believe me, it's not a easy goal). From an ergonomic and usability standpoint, IDE are purely awful (which is not a surprise since they do try to please absolutely everybody).\n(one of the only exceptions I've found up-to-now is gnome-builder, but there is still some work before making it actually really usable ...). Having a popup when starting could work, but if we follow IntelliJ IDEA, it basically means you assume that everybody uses multiple work directories. By default, it should be assumed that user will use only one work directory (which, for instance, would be true for me if I were not Paperwork's main developer).\nOther issue: It means the user will have to manage a list of work directories. It means extra work for them. Even if minimal, the goal of Paperwork is to make everyone's live easier and simpler, not more complex.. > I assume that the last used directory will be opened automatically, triggering the integrity check I was referring to\nYep, that's what I understood .. after writing my first reply :-)\n\nI do not know if it is safe to load another directory while one is being loaded and its index possibly updated.\n\n1) Index loading can be safely interrupted. There is only one exception: When it reaches the step \"Rewriting index ...\". This specific operation is atomic.\n2) It is safe to request loading another directory while another is being loaded / updated. At best Paperwork will interrupt the previous loading/update. At worst, it will wait for it to finish and then only load the new work directory.\n\nIf none of these are going to be implemented, would it be possible (if it is not already the case) to pass a work directory and an index directory as command line arguments? I think that it would help some \"advanced\" users a lot while not adding clutter to others.\n\nSure, no problem.. @JoshuaPK : Backuping both ~/papers and ~/.local/share/paperwork wouldn't solve your problem ? oO. I'm not against a new option in ~/.config/paperwork.conf. But it won't be visible in the settings dialog. You will have to edit ~/.config/paperwork.conf manually.. Change made useless by ea116b6457afb60a32a7d35138fd605542f7fce3. Argh .. it depends on numpy and scipy ... :/. Just FIY, Paperwork includes Unpaper's algorithms. They are available when exporting file (\"SImplification: soft\"). But they don't seem as good as noteshrink.. To clarify my first comment: Paperwork 0.2 depended on numpy and scikit. It made installing Paperwork really painful. It made things harder for package maintainers too. I won't accept them as dependency anymore.\nTherefore, noteshrink will have to re-implemented in libpillowfight.. I'm wondering whether it should a be a separate program or not. Maybe could be called \"reminders\". A calendar client ? So users would need a calendar server, right ? Which leave them with proprietary options (Google Calendar, etc) or annoyingly hard-to-configure opensource options.\nAlso, what would be the benefit from interfacing with calendar servers ?\nMoreover, from my experience, you can hardly expect bills to be on time at a specific day of the month :/. Note however that I would tend to agree with your first statement. I'm not sure it's Paperwork role. But it's somehow connected.. Actually, I had in mind something similar to your idea. Except without specific date.\nCrappy example:\n period : \"1 month\" : \"electricity\" AND label:bill ; number of documents per period : 1\n period : \"1 month\" : \"phone\" AND label:bill ; number of documents per period : 1\n period : \"1 month\" : \"train\" AND label:bill ; number of documents per period : 2\n period : \"1 year\" : \"taxes\" AND \"official\" AND label:taxes ; number of documents per period : 1\n period : \"1 year\" : \"red cross\" AND label:charity AND label:taxes ; number of documents per period : 1\n period : \"1 year\" : \"m\u00e9decins sans fronti\u00e8res\" AND label:charity AND label:taxes ; number of documents per period : 1\nHere, the start date of each period would always be:\n either the last time the expected number of documents has been added to Paperwork ;\n or the date at which the reminder was added.\n. I tend to be against titles. The goal of Paperwork is being lazy, and typing a title is an extra (and useless) task. Therefore I don't want to encourage users to enter titles.\nDisplaying additional keywords in the document ;list would basically turn them into titles.\nHowever, regarding PDF titles, I guess it could make sense since it doesn't imply extra work for the user. But I think a lot of PDF don't actually have correct markup in that regard. Still, it could make sense for the few PDF that actually have valid markup.\n@mjourdan : Any thought on that one ?. Hm, while this is out of the scope of this ticket, I like the idea of grouping documents by years / months :-)\nHowever, don't remove thumbnails. OCR is hardly good enough to identify documents just from excerpts. And thumbnails makes it much more easy for the human brain to identify documents (human brains are awesome at recognizing visual patterns).. Duplicate of #518 . If you mount the remote directory as a drive, it should work : https://openpaper.work/bin/paperwork_doc/sharing_network_folder_en_0007.png\n. But yeah, at some point, it will have to be fully supported. Yeah, I guess it's pretty much the same problem on Linux. Gnome GVFS should be used.\nHowever, that will makes it harder to port to Android I guess.. On GNU/Linux:\nGnome uses GIO : If the user has accessed remote servers using Gnome/Nautilus, and you want your application to access them too, you can't use the usual file API (open(), close(), etc). You have to use Gio.File() objects.\nRight now, Paperwork-backend is using the standard open()/close(), so it can only access files on non-Gnome mount points. But as you saw, it works fine if you use standard mount points.\nOn Windows:\nIf I'm not mistaken, even the standard open()/close() functions can access remote servers (open(\"\\\\\\\\remoteserver\\\\sharing\\\\file.txt\", \"r\") should work directly.\nThe problem is in the file chooser dialogs : Because of the way things work on GNU/Linux, they are created with local_only=True. So they don't display remote servers, unless they are mounted as a drive.. Basically, the best solution here would be to simply use GIo (previously gvfs) everywhere, and set local_only to False on every file choose dialog.. Done:\nhttps://github.com/openpaperwork/paperwork-backend/commit/0bfe489a4997e15cc6e91c4030beace93d8403b5\nhttps://github.com/openpaperwork/paperwork/commit/a7c955cdfcf52eaeded26fe0028042430ff44e35\nhttps://github.com/openpaperwork/paperwork-backend/commit/244a3fe617b6e042d115ec997cb0a467a5af8394\nhttps://github.com/openpaperwork/paperwork/commit/8d1221ff5284345eba6d627ef15292becf1f5d14\nWill require a lot of testing. Actually, part of the problem is Windows specific: For some reason, GtkFileChooser dialogs on Windows never display remote locations.. Nevermind, bad test from my part.. I think there are basically 2 features request in your ticket:\n1) Labels organized as a tree : Not going to happen, see #351 \n2) Label view : I think this is kind of a duplicate of #548 . The idea with #548 is to have a home screen with various statistics, including the labels. You can have a look at the second mockup here to have an idea of what is already planned : https://github.com/mjourdan/gnome-design/blob/master/paperwork/experiments/overview-pane.png .\nSince both point have been / are being treated in two other tickets, I'm going to close this ticket. Feel free to comment again on this ticket if I've missed something, and feel free to comment on the others if you want to discuss one of the points.. > The workflow I'm after is something like this: Scan document/receipt -> doc shows up in \"new\" directory -> -> review each doc in the \"new\" directory -> file each doc when done.\nOk, I missed this 3rd point it seems :-)\nWhat I could suggest is using a dedicated label. Either 'new' or 'treated'. The problem with a label 'new' is that you will have to add it on every new document scanned by hand. The problem with the label 'treated' is that the automatic label guessing will end up putting it on every newly scanned document .. and you will have to remove it by hand everytime and put it back later ... :/. I'm still going to close this ticket anyway because it's basically a mess. I need one idea per ticket, otherwise it makes it difficult for me to manage.\nIf you want the possibility to make your workflow work please open another ticket dedicated to this problem/idea. I guess one thing that could be done is adding a new option \"label to always add on new documents\" (or something like that) in the settings.. I'll try again reaching them. (I already did try in the past). @jbicha you think those mockups are actually an attempt at reworking simple-scan ?. Ok, good to know. https://mail.gnome.org/archives/desktop-devel-list/2017-May/thread.html#00004. https://groups.google.com/forum/#!topic/paperwork-gui/Um91qIMd864. Hm, interresting\n. I'll have a discussion later with Gnome developers regarding the \"do and don't\" in Gnome apps. I think I'll simply adapt my plans accordingly.. Here are the things I think must be done to become part of Gnome:\n- [x] Flatpaking of Paperwork (#559)\n- [x] Appstream data for Paperwork (#690)\n- [x] Publication on Flathub (#691)\n- [ ] Can be edited/modified in gnome-builder\n- [ ] Hosted on gitlab.gnome.org (Afaik, Gitlab@Gnome is still in trial). Can you try with the unstable branches of paperwork-backend and paperwork please?\nIt should already be fixed.. It should be fixed when unstable (future 1.2.x) will become stable (in other words, when 1.2 will be released).. Related to #607 . Probably related to the warnings about the GtkRevealer size.\nStill need to figure out how to fix them :/. From my experience, this kind of issue is often related to the use of set_visible(False/True). GTK+ seems to not like it very much.\nI'm going to try the same workaround I used for the export dialog:\n instead of set_visible(False): remove completely the component (here the document list)\n Instead of set_visible(True): reload the whole component tree from XML and re-add them in the widget hierarchy. Remove / re-add the GTK widgets as required : 1ab75401104ac34b126679d39def2b7f8f9998d6\n. Yep, my bad, I broke it when splitting the backend in two processes (kind of a client/server split)\nFixed:\nhttps://github.com/openpaperwork/paperwork-backend/commit/b1a2ec7eb69be3cea2f5d8b53171b69a03f5994b\nhttps://github.com/openpaperwork/paperwork-backend/commit/5d25456ffac125a1e48b5285efb6fc2c2a37972e\n. First of all, thank you for your contribution.\nI agree that splitting the translations between frontend/backend would be the best thing to do. But right now I don't have enough free time to work on that. Feel free to open a ticket to remind me ;)\nI'll also have to ask you for a favor : From now on, can you keep these translations up-to-date please ?\nAbout one month before each main release (next one being 1.2), the unstable branch will become the testing branch. This is clearly the best time to update the translations.\nIf you agree to keep them up-to-date, you can simply keep an eye on the mailing-list (it's a low-traffic mailing-list). The switch to the testing phase and branch will be announced there.\nIf you don't keep them up-to-date, either the UI would become an ugly mix of English/Ukrainian for Ukrainian users, or I would have to remove them entirely :/. I think the first step will actually be to migrate the Git repository to gnome.org :)\nI'll wait a few days to be sure every contributor agrees with this move. I also have some personal issues I like to sort out before doing such a move. So I think I will start the migration to gnome.org at the end of next week.. That's weird, this error usually happens when the scanner is turned off / offline. ERROR  paperwork.frontend.diag        === UNCATCHED EXCEPTION ===\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork/frontend/util/actions.py\", line 67, in on_button_clicked_cb\n    return self.__do()\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork/frontend/util/actions.py\", line 64, in __do\n    return self.do(**kwargs)\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork/frontend/mainwindow/__init__.py\", line 1404, in do\n    scan_session = dev.scan(multiple=False)\n  File \"/usr/local/lib/python3.5/dist-packages/pyinsane2/sane/abstract_proc.py\", line 258, in scan\n    return ScanSession(self, multiple)\n  File \"/usr/local/lib/python3.5/dist-packages/pyinsane2/sane/abstract_proc.py\", line 198, in __init__\n    self._remote_session = remote_do('scan', scanner.name, multiple)\n  File \"/usr/local/lib/python3.5/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(*result['exception_args'])\nStopIteration\nThat's weird. In Pyinsane, StopIteration == no more paper in the feeder.\nI have a Brother MFC so I will have a look. Maybe a regression.. Not much you can do. I have a Brother scanner at home. I'm fairly certain I will be able to reproduce this issue. The only problem now is that I lack free time ... (I'm in the process of moving to another region of France). While I have time to make a new release, I don't think I will have time to look at this issue before ~1 month (I can work on Paperwork during my lunch break at work, but my scanner is at home, and I'm currently busy packaging all my stuff).\nTherefore I'll fix it only later, for 1.2.1, sorry.. Reproduced here with Ubuntu Gnome 17.04 + Brother MFC-7360N.\nInterestingly, it only happens if the exact number of pages specified by the user has been scanned. In other words, if you specify more pages than what must be scanned (for instance 99 pages for actually a 2-pages documents), the bug doesn't occur.. 5a3d787f80d288d566f9d5452a7e2e0f1da56388. Looks like GDK was compiled without SVG support. This is a ticket for the AUR maintainer, not upstream.. It would actually be more interesting to get Paperwork packaged in Debian. This is how PyOCR ended up in Ubuntu.\n(see #466 ). I personally believe Flatpak is the way to go. It's the recommended Gnome way. and could help for development as well.. If someone want to make a snap they can.\nBut if I spend time on packaging myself, I will go with Flatpak because I hope someday to make Paperworkl part of Gnome extra-apps. Therefore I'll try to maximize integration with Gnome tools (--> flatpak, gnome-builder, etc).. This simplification seems to have solved most the problems, if not all : https://github.com/openpaperwork/paperwork-backend/commit/08ea0cacf682c2e98168be37d216827bb0f100be . https://github.com/openpaperwork/paperwork/releases/tag/1.1.2\nhttps://github.com/openpaperwork/paperwork/releases/download/1.1.2/paperwork_1.1.2a_win64_installer.exe\nI know. I host openpaper.work on my personal ADSL connection. And right now, my line is down .... Back online. Duplicate of #586 \nWill be in 1.2. Perfect, thanks :). I'm guessing this is this bug : https://bugzilla.gnome.org/show_bug.cgi?id=764664\nPaperwork 1.1.x for Windows has been built with GTK+ 3.18 that appears to be affected by this bug.\nPaperwork 1.2.x for Windows will be built with GTK+ 3.24, so hopefully this issue will then be fixed.. Bad news, while PyGobject for Windows has been updated to 3.24, but it seems it's still shipping with GTK 3.18 ... :/. It's still stuck to 3.18. Here is the corresponding ticket on GObject side : https://sourceforge.net/p/pygobjectwin32/tickets/50/#e8f7 :/\n  . From what I've seen, PyGobjectwin32 won't update Gtk any time soon.\nLuckily, later, I'm planning on building Paperwork with Msys2 instead of Visual C++ + pygobjectwin32. It should allow me to update Gtk then. But it won't happen before some major rework on Pyinsane, and so not before at least Paperwork 1.3.. Not reproduced on Debian stable.. Those instructions will be valid for 1.2.x (currently in branch 'testing' ; 'unstable' will be 1.3).\nThe last released version is the 1.1.2 ('stable'). Instructions for 1.1.2 does not include 'paperwork-shell install'.. Doc has been slightly clarified: 53ef7cc418a6f0b9229b79582c7726014c226c23. JPEG support is in Python3-piilow (or python3-pil). Whatever Python3-pillow supports, Paperwork does support it too.\nBut this is not what the error message describes here.\n\nCan you check that the versions of paperwork-backend and paperwork on your system are the same please ?\nCan you also check there are no other versions installed ?\nsh\npip3 show paperwork-backend\npip3 show paperwork\nor\nsh\npip3 list | grep paperwork\n. Nevermind ! I see the problem. You tried to import an image file while having a PDF file opened. Paperwork tried to add the image to the PDF document. However Paperwork never modifies PDF files, so this operation is not possible. It shouldn't have let you do that It should have imported the file(s) in a new document... Fixed for 1.2: https://github.com/openpaperwork/paperwork-backend/commit/51fcf6897d18026ada8e315fc1849320d8daf94a\n. Already done in 1.2:\n240\n94\n:). Well the PDF won't really be pushed on the website at any point. They will be integrated manuals in Paperwork 1.2 itself (hence why they actually are PDFs instead of HTML pages).\nRegarding the installation process, yes pretty much. I would also advise uninstalling first before reinstalling the new version.. Duplicate of #94 and #240 . Yep. The website is hosted on my ADSL line, and I guess it went down once again... (I'm going to check in a few hours actually).\nIn the meantime, you still can get the Windows version here : https://github.com/openpaperwork/paperwork/releases/tag/1.1.2. back online. Perfect, thanks :). should be fixed by https://github.com/openpaperwork/libpillowfight/commit/05e0a135da56eb54ed491c1f6c203b6c8b60d49c. Until I make a new release, here is how it can be installed on Linux:\nsh\ncd /tmp\ngit clone https://github.com/openpaperwork/libpillowfight.git\ncd libpillowfight\nsudo python3 ./setup.py install\nI don't know what is the equivalent way for MacOSX.. > The values.h is no longer used in any modern system. They should be replaced by limits.h, features.h, (...)\nYes, and it has been fixed by https://github.com/openpaperwork/libpillowfight/commit/05e0a135da56eb54ed491c1f6c203b6c8b60d49c . The change will be in the next release of Libpillowfight.\n\nThere is another effort under the name of \"Elephant\"\n\nDo you have a link for this project ? I would like to see how it looks.. I see. Both those projects are note-taking apps (like Evernote, the other Paperwork, etc). While there is some overlap, they don't really have the same goal than Paperwork.. You do realize that scanning and OCR are pretty much the core features of Paperwork, right ?\nAfaik, neither Elephant nor Turtl provide those functions.\n. Regarding a MacOSX portage, I don't have any MacOSX machine / license, and I've decided to stop pouring money into Paperwork (I'm down -170\u20ac already). So unless I find a really cheap Mac computer, I won't make any MacOSX port myself.. #580 is not really related:\n- Here we want to modify a label (--> will apply on all the documents), give it the name of an existing label, and we want them to then merge. There is no real UI change required.\n- #580 is about changing which labels are (or are not) selected on a specific sub-set of documents --> heavy UI changes are required. > The right place would be the choice of device\nIf you mean \"make Paperwork appears just like another printer\" in the print dialog, then we are in agreement.\n\nthere is not much value added in this functionality\n\nAgreed. Still, if I had time to do it, it could be fun ... :-), but I probably won't anyway (hence the label \"I have a dream\" on this ticket)\n\nproviding backup/Sync support\n\nRight now, this is totally out of the scope of Paperwork, and this is done perfectly by other applications like OwnCloud, SparkleShare, etc (I myself use SparkleShare for that purpose).. 0db1cf22a7f7e446e837915de8b1e9c2bc21057b. 1) The green frame indicates that one of the keywords you're looking for is in the page.\n2) It takes time to load because all image loadings have a higher priority than text loadings.\n. Actually, it also takes time because it has to actualize the document list and for some reason there is often a big lag during this operation. I must investigate.. Hm, and there is also a useless page refresh too when the search is done.... Yep, sorry for that. I host it on my personal ADSL connection to spare money .. and let's just say it's crappy .... jflesch@openpaper.work / jflesch@kwain.net. 1e33d768cf948a87cd0bc16b4cf2f4b813e40c49. Hm, regarding unencrypted PDF files, I don't feel at ease with asking password every time the user wants to open it. Looks like a nice source of bugs :/. However, the password could be stored unencrypted besides the PDF files (in which case, it's up to the user to secure all their papers).. 1) Are you using Unity or Gnome ?\n2) How did you change this setting ?. I've tested on a fresh install of Ubuntu 17.04, and it's working. As expected in Unity, the application menu is at the top of the screen.\n\n. I assume the menu is not appearing at all on your system ?. Can you provide a screenshot please ? I would like to see exactly what's there and what isn't. Which window manager do you use ?. The lack of icon is weird however. Did you run paperwork-shell install ? oO. Ah if you're in a virtualenv then nevermind. It's the expected behavior I guess.. No problem. @choman : Can you try uninstalling Paperwork and installing it back but using Flatpak this time please ?\nIt would show us whether it's a dependency problem or not. (Flatpak package includes all dependencies). ping ?. ping ?. Thanks :). Cherry-picked on stable: 29622a3d72a1dd2bc1e5b48c86d2d057b33b4f00. Thanks :). cherry-picked on branch 'stable' too : 5c77b67a24a4d1e479860c5f36a04dab2d3b717f. > Localization seems to be broken\nWeird. There is one change related to that : localisation files are now stored alongside python files using pkg_resources. (see setup.py and src/paperwork/frontend/util/__init__.py : get_resource_path()). Nothing should be in /usr/paperwork ... (God setuptools/distutils can be painful to use sometimes ...). Regarding the desktop shortcut, as part of the building process, isn't it possible to do something similar to the following code ?\nsh\ncat > /usr/share/applications/paperwork.desktop << EOF\n[Desktop Entry]\nType=Application\nComment=You can grep dead trees\nName=Paperwork\nGenericName=Personal Document Manager\nCategories=Office;Scanning;\nIcon=paperwork\nTerminal=false\nVersion=1.2\nKeywords=document;scanner;ocr;\nExec=paperwork\nEOF\n?. Regarding the locales, I need to have another look. It's probably some kind of mistake in Paperwork's setup.py.. For reference, on a Debian GNU/Linux jessie, the locale files end up in the egg file /usr/local/lib/python3.4/dist-packages/paperwork-1.2.post3-py3.4.egg. And inside this egg file, they have the following paths:\npaperwork/frontend/locale/fr/LC_MESSAGES/paperwork.mo\npaperwork/frontend/locale/uk/LC_MESSAGES/paperwork.mo\npaperwork/frontend/locale/de/LC_MESSAGES/paperwork.mo\n(they are alongside the .pyc). For the .desktop file: the command (and the path) I gave you is just an example. What I'm suggesting here is simply that you generate the .desktop file as part of the build process of Paperwork (in the function build or package).\nIn the end, when installed, paperwork.desktop must end up being in either /usr/share/applications/ or /usr/local/share/applications/ or ~/.local/share/applications/ . That's all that matters.. Regarding the .desktop, it's not actually an issue. As you saw, it's generated by paperwork-shell install. But this command is intended for manual / not-distribution-packaged installations. I guess I should document that .... :-). Yep, before it was directly part Paperwork sources and was installed by setup.py. But it made more troubles than it solved (too often it didn't ended up in the expected location ... just like the locales right now ....). Something is wrong with setup.py .... this should definitively not happen :/\nI'll try to have a look, but unfortunately, I'm moving, so I won't be able to have a look before end of next week :(. Hm, does it work with 1.2.post3 ? If so, can I close this issue ?. Thank you for the AUR packaging :). Just one comment : I don't think the part where the label list appear from the right is really relevant. In a perfect world, label should be automagically guessed correctly. Also, currently they appear on the left side .. :/. Actually, I'm considering removing the whole multi-scan dialog, and just assume that the user has put 1 document in the feeder:\n- If \"New document\" is selected --> it creates a new one.\n- If another document is selected --> it appends the pages.\nIt would make the behavior pretty much consistent with when we scan single pages.. > What was the reason for this dialog in the first place? Which problem did it solve?\nIt was mostly focused on first time users : They usually have a lot of documents to scan --> they take 10 documents, put it in the scanner, configure the mutli-scan dialog, launch the process, and go take a coffee.\nBut frankly, it seems now like a poor idea. It would actually be much simpler to just scan pages until the feeder is empty, and then let the users rearrange the pages between the (new or not) documents.. Weird. Unfortunately, the only thing I can tell from the logs is that Paperwork was unable to access the scanner (.. which we already know without the logs ...).\nWithout having the same hardware than you, I don't think I will be able to do much for now.\nI'll try to improve pyinsane error messages in the next versions of Paperwork.. ScanSnap fi-5110EOX2 does not support TWAIN  and ISIS standards (p3). Similar models do not support WIA either. You can make them work with TWAIN with some hacks. \nSo the question is actually: Are you sure your scanner supports WIA (or at least TWAIN) ? Does it work with other third-party applications ?. Yep, I find it quite funny that Fujitsu drivers are obviously better on Linux than on Windows :-D\nAnyway, on Windows Pyinsane supports only WIA scanners at the moment, so I'm going to close this ticket. Hopefully later I may have time to add Twain support, but it will mean making the hack work for you.. :-). AFAIK, it's not possible to move 'chkdeps' in setup.py. It would mess with setuptools/distutils/etc.\nRegarding 'install', it was done in 'setup.py' previously. Unfortunately, it seems impossible to get it to put files in specific places (sometimes resources are stored in egg files, sometimes sys.exec_prefix points to unexpected locations, etc).. 94e6280128f61db0e4c8f1c5cc866df62eb18edb. I'm going to need the diagnostic output after it happens (but before you restart Paperwork). Hm, are you trying to export to a local drive or a remote one ?. OK, reproduced here. https://github.com/openpaperwork/paperwork-backend/commit/d8fd942a5e847c79808cbcf9631a3397723bb2aa. db586cbc56b259ec2bc83858591f495e06b90405. Fixed: https://github.com/openpaperwork/paperwork-backend/commit/74c4fbedfef4603aa04d64ecbafcd5135b0b4ff4. Not reproduced.. https://github.com/openpaperwork/paperwork-backend/commit/da149365a6a62862dd2c0feafbaf497a2693d6bb (better, not perfect, good enough). >  the document is scanned through the scanner as one would expect.\nTo clarify : Does the scanned image start appearing or the screen, or not at all ?. From what I can see, I would say your driver is having a weird behaviour. It seems it starts by sending an (almost) empty page to Paperwork, before sending the actual page.\nUnfortunately, without having the same hardware than you, I don't think I will be able to do much for now.\nI'll try to prepare a more advanced diagnostic program at some point, but unfortunately I'm lacking time for it ... :/. Sorry for the late reply. I've been working on a test program to get detailed logs when scanning. Hopefully it can collect enough information so I can fix your problem.\nThe test program is available here: https://openpaper.work/en/scanner_db/#contribute . Can you give it a try please ?\nIt will do a test scan, generate a report, and automatically upload it to https://openpaper.work/ .. https://github.com/openpaperwork/pyinsane/commit/14f0062b24b442e4b65844efef2811f250093e41\nLet's see if this fix works :-)\nCan you download and run again the test program please ? The test program is rebuilt automatically with the latest changes in Pyinsane.\n(by the way, one report was enough ;). Well, at least it goes a little further this time ... :/\n. Just so you know, it seems that in report 28, it didn't find any scan source at all (no feeder), whereas in report 32 it did find a feeder.\nI haven't changed anything in that regard, so I assume it's related to your change of USB port.. https://github.com/openpaperwork/ironscanner/commit/1f6406400d34afdb422ac9898e79fec9dc93b821\nI've updated the test program. Can you give it another try please ?. @LexiconCode I've added a little bit of verbose in Pyinsane (there is a call too Seek() with values unsupported at the moment --> I need to know the values). Can you run again IronScanner please ?. I've updated Pyinsane and the test program based on what your driver requested. Can you give it another try please ?. \\o/\nThank you for your help and your patience :). I've modified the report to set test successful to true. If you want to give it a try with Paperwork:\nThe builder has already rebuilt Paperwork for Windows with the required fixes: https://download.openpaper.work/windows/amd64/paperwork-master-latest.zip . However the Windows installer is not automatically rebuilt. So, if you want to try, you can simply extract the package manually where you installed Paperwork (default: C:\\Program Files (x86)\\Paperwork).\nNote that this package doesn't include Tesseract nor its training files, so I would advise just unpacking and replacing files without deleting anything first. Also I suggest you make a backup copy of C:\\Program Files (x86)\\Paperwork first ;-)\nNext release of Paperwork will also include those fixes.. Would probably require a GTK update --> see https://github.com/openpaperwork/paperwork/issues/640#issuecomment-368854029. diag.txt\n. Happens on Linux too:\n```\nINFO   paperwork.frontend.mainwindow.pages Drag-n-drop begin: selected: [20170918_2147_59|0]\nINFO   paperwork.frontend.mainwindow.pages Drag-n-drop get: selected: [20170918_2147_59|0]\nINFO   paperwork.frontend.mainwindow.docs Drag-n-drop data received on doc list: [20170918_2147_59|0] --> [20170918_2138_51]\nINFO   paperwork_backend.img.doc      Adding page 2 to 20170918_2138_51 (file:///home/jflesch/SparkleShare/papers/20170918_2138_51)\nINFO   paperwork_backend.img.page     Destroying page: 20170918_2147_59 p1\nINFO   paperwork_backend.common.doc   Destroying doc: file:///home/jflesch/SparkleShare/papers/20170918_2147_59\nINFO   paperwork_backend.fs           Deleting file:///home/jflesch/SparkleShare/papers/20170918_2147_59 ...\nINFO   paperwork_backend.common.doc   Done\nINFO   paperwork_backend.common.doc   Destroying doc: file:///home/jflesch/SparkleShare/papers/20170918_2147_59\nINFO   paperwork_backend.fs           Deleting file:///home/jflesch/SparkleShare/papers/20170918_2147_59 ...\nERROR  paperwork.frontend.diag        === UNCATCHED EXCEPTION ===\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork_backend-1.2.1-py3.5.egg/paperwork_backend/fs.py\", line 326, in rm_rf\n    if not f.trash():\nGLib.GError: g-io-error-quark: Erreur lors de la mise \u00e0 la corbeille du fichier /home/jflesch/SparkleShare/papers/20170918_2147_59\u00a0: Aucun fichier ou dossier de ce type (1)\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork-1.2.1-py3.5.egg/paperwork/frontend/mainwindow/docs.py\", line 892, in _on_drag_data_received\n    src_page.doc.destroy()\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork_backend-1.2.1-py3.5.egg/paperwork_backend/common/doc.py\", line 122, in destroy\n    self.fs.rm_rf(self.path)\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork_backend-1.2.1-py3.5.egg/paperwork_backend/fs.py\", line 329, in rm_rf\n    raise IOError(str(exc))\nOSError: g-io-error-quark: Erreur lors de la mise \u00e0 la corbeille du fichier /home/jflesch/SparkleShare/papers/20170918_2147_59\u00a0: Aucun fichier ou dossier de ce type (1)\nERROR  paperwork.frontend.diag        ===========================\n```. f476453e0869371d6e1e905d4bbcadc5ee2b422d. Would probably require a GTK update --> see https://github.com/openpaperwork/paperwork/issues/640#issuecomment-368854029. Nevermind. Didn't test correctly. The test PDF was already imported.. 1) Do you use Windows or Linux ?\n2) Can I get the diagnostic output please ?. This is the proper place.\nProblem currently is that I don't have any duplex scanner to try it. So at some point I may have to try at random .. :/\nWhat I'm currently considering doing is a special diagnostic program and send it to as many volunteers as possible. The idea is to get detailed informations on as many scanners as possible and attempt scanning on as many scanners and sources as possible (there are other issues with other scanners). I'll try to include scanning from duplex ADF.. @mdorman and I would gladly accept it. You can find my address here below.\nAlso the diagnostic program I was talking about is well under way. I hope to have it ready in the coming weeks.\nFLESCH Jerome\n28C rue Paul Milleret\n25000 BESANCON. I had a look. It seems SnapScan S1500 scanners do not support even TWAIN or ISIS. It seems unlikely they support WIA (the interface used by Pyinsane/Paperwork).\nTherefore, the question is: Are you sure those scanners support WIA ? Do they work with any other third-party Windows applications ?. @pechfunk : Can you send a scan test report to openpaper.work using IronScanner please ? This is the kind of information I'm going to need for the next versions of Paperwork :). Same thing for @rbellamy and all the other people that commented on this ticket: For those using Linux, can you send a scan test report using IronScanner please ?. That's to be expected. I need only one page: I want to check ratio, and make sure the scanners don't add padding to pages (which it does in your case, a lot). I only need the last page for that.\nAll the other information I may need are in the traces.. @pechfunk : I've fixed the issue in IronScanner. However it seems that the problem was that your scanner (driver) immediately told IronScanner that there is no paper at all in the feeder.. Yep, on one side, your scanner seems to indicate an end of page .. after sending 0 pixels. On the other side, there was an assert a little bit too strict in Pyinsane. I've fixed the assert. I am not sure what I can do about your scanner returning a page of 0 pixels ...\nCan you try again so we see what happens ? Maybe the driver is always sending an empty page first.. [epjitsu] read_from_scanner: got GOOD/EOF (65536)\n[epjitsu] read_from_scanner: finish rB:454024 len:65536\n[epjitsu] sane_read: finish si:0 len:0 max:524288\nINFO 2018-04-18 22:00:47,349 ironscanner.main Available lines: (0, 0)\nlen:0 --> There is something wrong here ... :/. I think there are things that can be done on Paperwork side. For instance, since we display only the first 100 documents when starting (gtk optim), we don't need to load the whole document list.\nThere may be also optimisations that could be done on Python-whoosh size. For instance, if the indexation speed can be really improved (#683), maybe we can consider always writing optimized index files (which would also speed up search at the same time).. This ticket is about the initial loading time, not the search. The ticket for the search load time is #651 .\nAnd replacing the the FTS engine would imply rewriting most of paperwork_backend/index.py (can be done if required, but I doubt it's a real solution). Postgres would be too impractical for Paperwork (remember that the goal here is to be as simple to use as possible).  And regarding Sqlite, afaik, it doesn't support fuzzy searches.. Not sure I can make it instantaneous (scans are actually quite big).\nHowever, what I can probably do is make the resize in 2 steps:\n- first a crappy resize (quick and crappy rendering) of the image that was previously loaded\n- then reload and resize it cleanly (anti-aliasing and stuff) to get a better rendering.. Actually, I totally forgot there is also an optimization possible that should greatly improve the display time of PDF files: https://github.com/openpaperwork/paperwork-backend/blob/master/paperwork_backend/pdf/page.py#L206. Strongly related to #676 . Note to myself:\n- util.surface2image() must die\n- util.image2surface() now goes through GdkPixbuf and eventually to a ImageSurface. The GdkPixbuf could be drawn directly to the target surface instead of going through a ImageSurface.. master: c4bf0d4239d534053513dd0b8e6386634021ab5d\ndevelop: b763dfc2a4dfa2d927a8c00f5abf7e430dc66e89. hm, weird, it does work here. I use the mouse wheel all the time. Not having it working would have driven me mad.. @mjourdan Can you provide diagnostic output please (terminal or from the diagnostic dialog) ? Maybe there is a Python exception  when you scroll ?. @mjourdan : Now that we have Flatpak packages available, let's use it :)\nCan you install and try with the Flatpak version please ? It would ensure it is not a distribution-specific problem. + can you remind me which Linux distribution you use please ?. Well, that's really weird. Flatpak ensures us we have almost the same dependencies, but it works fine on my side (Ubuntu Gnome 17.04). I'll try with a VM as soon as I can (... which may not be before quite a while .. :/).. Anything specific on your setup maybe ? (Use of Synergy or anything like that ?). I assume this bug cannot reproduced anymore --> I'm closing this ticket. Please comment if you can reproduce it again and I'll reopen it.. I'm not sure what I'll be able to do actually. If I remember  correctly what I've read rom the logs reported by @mjourdan , Paperwork didn't even get the scroll events.\nI assume your mouse wheel works fine in other applications ?\nRegarding the logs, this is normal if you're scrolling in the document list. I'm actually just surprised you're running Paperwork with debug logs enabled.. Well, I like problems that get solved by themselves :-) (as long as they don't come back later .. hem ..). I'm not even sure where to begin with this bug ... :/\nI guess I'll have to reinstall a Fedora VM and see.. Not a duplicate. Scanner support if entirely different between Windows and Linux. #632 is about Windows.. By the way, I see you selected ADF (feeder) as default source. Did you try scanning with the Flatbed ? Does it work ?. (Just so you know, the exception StopIteration we can see in the logs is the exception raised when there is no paper left to scan ; I agree it should be handled better). Can I have the logs with the Flatbed please ? Hopefully the logs are slightly different and will give me a hint about what's going on.. > default =feeder / select scan from flatbed / nothing in the feeder : does not work (ko)\nI think there is a confusion here. If you set the feeder as default source, Paperwork will always try to scan from the feeder, and never from the flatbed.\n\nWhen clicking on \"scan\", Paperwork tries to scan a single page from the default source (feeder here)\nWhen clicking on \"scan from feeder\", Paperwork will open the dialog to scan multiple pages at once. If the default source is a feeder, it will use it. If the default source is not a feeder, it will try to find automatically a feeder and use it.\n\nI really need to find a way to clarify things :/\n. Yeah, changing this button is a discussion that has been going on for a long time : #537 , but it's pretty hard to find a solution that will satisfy at least 90% of users :(\nAnyway, I'll use this ticket for the issue of having a popup saying \"no scanner found\" when it should say \"nothing in the feeder\" (or something like that).\nI'll keep the UI changes for #537. Thanks :). Cherry-picked on branch 'stable'. Diagnostic does show the same errors than the terminal output.\nIt seems your system doesn't have one of the required icons: edit-copy\nOn my system, it is located here:\n/usr/share/icons/gnome/22x22/actions/edit-copy.png\n/usr/share/icons/gnome/32x32/actions/edit-copy.png\n/usr/share/icons/gnome/24x24/actions/edit-copy.png\n/usr/share/icons/gnome/16x16/actions/edit-copy.png\n/usr/share/icons/gnome/48x48/actions/edit-copy.png. Good catch. The file actually comes from gnome-icon-theme.  paperwork-shell chkdeps doesn't look for it --> fixed : 1e90428e68144088ebbf634c46b320995fdbf3d1. Probably a duplicate of #661 and #590 :/. Actually it does. Because it proves your scanner is supported by WIA and therefore there is a bug in Pyinsane (or a lack of workaround, depending on your scanner drivers ;-).\nI'm working on a diagnostic program (IronScanner). It's close to be ready. It should help figuring out what is failing here and test possible fixes.. The test program is ready: https://openpaper.work/en/scanner_db/#contribute . Can you give it a try please ?\nIt will do a test scan, generate a report, and automatically upload it to https://openpaper.work/ .. Because I didn't see any point in adding another dependency.. Hm, ok, this is a tricky one.\nObviously, you can access WIA properties using the WIA automation layer. Which I'm not using ... because it has a nasty limitation: I haven't found a way to get the image on-the-fly during the scan with it.\nThis is why I'm using the low-level WIA API: I can pass it a IStream object and get the stream as it goes (if the driver supports it .. some just write in the stream once the scan has been done).\nHowever, in your case, using the low-level WIA API to access properties returns HResult error code 0x80004001: Nicht implementiert ... which is obviously a problem.. I think this is going to wait.\nI'm going to rewrite Pyinsane anyway (in pure C this time --> libinsane). One the goal will be to handle multiple APIs (WIA, TWAIN, etc). This way, I will be able to use the low-level API to get the stream, and if it does not work, fall-back on the WIA automation layer (which will mean not getting the scan on-the-fly, but as I said, this is already a limitation of a bunch of drivers anyway).\nAnyway, I must thank you. I'm glad you provided me with this information before I start designing the new library, because this will clearly impact its design.. Hello,\nAssuming you're running Linux, yes, there is.\nThe Sane project is the one providing scanner drivers for Linux. They also provide a command called scanimage : https://linux.die.net/man/1/scanimage . You can use this command to do the scan the way you want it and save it to a temporary directory / file.\nYou can then use paperwork-shell import to import the file written by scanimage (see paperwork-shell --help and paperwork-shell help import for more details).\nBest regards,. Tesseract can also generate directly PDF files. There is a config file called 'pdf' for that purpose. However I'm not sure whether it really works or not. Last time I tried I wasn't able to make it work.\nUpdate: Hm, actually, it may only be available with Tesseract >= 4.0.. https://github.com/tesseract-ocr/tesseract/wiki/FAQ#how-do-i-produce-searchable-pdf-output. I'm closing this issue. It is unrelated to Paperwork.. This ticket is actually a duplicate of #537. In both tickets, the idea is that the current button \"Scan [V]\" is inappropriate for some users and should be changed --> I'm closing this ticket. Thanks :). Cherry-picked on branch 'stable'. @tclavier / @scubbx  : ping ?. Flatpak support is pretty much ready. So unless @tclavier or @scubbx decide to keep supporting Docker, I think it will be dropped at the next release of Paperwork. Docker support is going to be dropped.. Docker support has been dropped in branch 'develop' (future 1.3): 0a521873b0b624e00b232a541380e2ab2702c300. @tsjfd : You may want to try the Flatpak version : https://github.com/openpaperwork/paperwork/blob/master/flatpak/README.markdown. done. https://github.com/flathub/flathub/pull/157. And done ! https://flathub.org/apps.html :-). It seems Gtk.show_uri_on_window() should work in sandbox, whereas Gtk.show_uri() doesn't.. fd2ce5e9ef4329ce958a7447bb229e8a1b5ad4d8. 45716812cf26202b13293b42885fc5c59b10da9c. 0ac390413fdff54a97bb728a762bf5efc892ddb9. b2800efb707fa0f3b33d215e6c0c90b2dc4d224d. Fixed \\o/. I don't have access to my usual workstation currently. So it may be a while before I can actually look at this bug (about at least 1 month). Sorry.. Well that's weird. I reproduced the issue, but at the same time, Paperwork was still able to start .... Definitively related to the installation path.\nNot a blocking bug (even if a little ugly) since Paperwork starts anyway.\nI've enabled the console and didn't find any trace explaining why this popup appear. This will require extra investigation later.\n. 35fa1d2ad2bb08716a49d22e4fa3cbec10b82f71. Did you install the version 'master' or the version '1.2.2' specifically ?. hm, actually, the fix of this ticket is in both versions. So it should work.\nAs for #721, can you do another run and get the diagnostic output please ? (do not restart Paperwork between both). > Wouldn't there be a confusion somewhere in the code between inner geometry and outer geometry?\nPossible because of the GtkHeaderbar. A while ago, Gedit seemed to have the very same problem. I'm going to have a look at how they fixed it.\n\nNow, as a side-issue (but maybe related), Paperwork is one of only 2 applications that I know (the other being Evince) that insists on displaying on my 2nd \u201cmonitor\u201d\n\nWhile Paperwork do restore its previous window size, it doesn't set its location. Your WM (Gnome shell ?) is the one responsible for placing the main window of Paperwork.\nHowever I guess it may be related to the window growing every time.. For the growing, I have actually known about it for a long time. It bothers me too. But since Gedit was also affected, I didn't worry much about it and assumed it was a Gnome-shell bug. However it seems now it works fine for Gedit .. so the fix is most likely on the application side ... :/. Note to myself: Gtk manual suggests GtkWindow.resize() as an alternative.. Hm good point. It's quite possible actually. I'll have to do some tests. https://github.com/openpaperwork/paperwork-backend/commit/8d761c5b520cda48f3c98af31f9eb5b72cee3226\nhttps://github.com/openpaperwork/paperwork-backend/commit/5852ff2119eda8c33d51db55e8b01f046722c278. Should be provided for Windows + Linux (Flatpak). I've started working on it: https://github.com/jflesch/ironscanner. Note to myself: beware too of the drivers that remain stuck. We must be able to send the report anyway.. Ready to roll: https://openpaper.work/en/scanner_db/#contribute. Doc states that not all systems support GFile.trash() --> Falling back on GFile.delete().\nStill I think it's a bug that I will have to report to the Flatpak devs.. GUI workaround: 96d5976bbc8f01228173137c2570bd3ed9cde55e. Backend: https://github.com/openpaperwork/paperwork-backend/commit/1a7e225bff372e114981b8f406c04564a1619dc2. The code for detection of Flatpak+Saned could be included directly into Pyinsane. It could serve to others.. Unfortunately, no. I could include libsane + all the sane backends in the Flatpak image. But then the problem is that it won't work with proprietary drivers.\nI must admit, Flatpak is a nice workaround for the lack of packages in some distributions, but at some point, it will never be able to replace distribution packages (nor it should ; distribution packages create an extra validation step and increase trust anyway).\nI guess at some point, I will have to make the Debian packages myself if I want Paperwork to be nicely included in Debian+Ubuntu ... :/. > I guess there is no solution for this, a part extending xdg-desktop-portal.\nThat would clearly be the cleanest solution regarding Flatpak. Unfortunately, I won't have time to even look at such solution before at least 1 year.\n\nSo if the goal is to get things to work with proprietary drivers, maybe distribution-specific packages is not the best thing to rely on.\n\nAs soon as you use proprietary code, you're potentially trapped. My point regarding packaging in distributions and trust was more about Paperwork + free software only.\n\nWhat's the trick to get the flatpak to work with scanners? Do you have ideas on how and when to display it? On first run? The first time the user tries to create a document? Some other time?\n\nI was thinking of displaying the popup every time that all the following conditions are met:\n has just opened the settings dialog\n no scanner has been found\n* we are in a Flatpak environment\nI don't really like the idea of displaying a popup only the first time of X: I'm often the kind of guy that close a popup without even looking at it, and then wonder what this popup was actually saying.. I haven't thought of the exact content yet. I'm thinking of something along the lines of:\n\nNo scanner detected\nFlatpak installations require special configuration on the host system.\nPlease make sure that the Sane daemon is up and running on your computer\nTo enable the Sane daemon, please run the following commands:\n(...). Nice :)\nJust to be sure I understand them correctly: these wireframes assume Paperwork look for a scanner as soon as it starts, right ?. https://github.com/openpaperwork/paperwork-backend. Nice :)\nI'll try to create Django templates based on it. Gitlab sounds like a good idea, but I'm not sure it would be so easy. While openpaper.work looks static, it isn't. There is the statistics collection mechanism hosted on it.\nI guess we could split the website from the statistics collection, but then there is also an issue regarding the HTTPS certificate: For good placement in search engine results, nowadays, the website should be available using HTTPS. --> I'm using Let's Encrypt --> To get certificate with Let's Encrypt, I need control over the server hosting the website.\n\nHowever, Django can serve static content. And running a cronjob nightly to update the website from a Git repository shouldn't be too much work :)\nI guess it would be the easiest way to go.\n@mjourdan : Can I have access to the sources please ? BTW, Openpaper.work is currently GPLv3, is this license ok for you ? (currently I'm the only author for openpaper.work so I can still change the license easily).. Yep, you're right the Affero would make more sense. I'll change it.. Switched to AGPL: https://github.com/openpaperwork/openpaper.work/commit/ae2891e69a38da1eb9c860da337a6913898e71d8. Note to myself: http://colorschemedesigner.com/csd-3.5/ (I'll probably adjust a little bit the colors). I had a look yesterday. I think mixing Middleman and Django is likely to be a huge complicated mess. I think I will just try to reuse/rewrite the HTML/CSS/JS as Django templates.. @mjourdan Here is my shot at it (based on yours). What do you think of it ?. It's live: https://openpaper.work/. Yeah, I'm not really proud of the arm. I guess I'll have to re-make it later at some point.\nAnyway, it seems we are both ok with this design, so I can close this ticket :-)\nThank you very much for your help :-). Note: currently the nightly build is done by a cronjob on theta.openpaper.work.. Could also run some of the tests in paperwork-tests too. Flatpak nightly has been replaced. Now buildbot will update Flatpak every time there is a change on 'master' or 'develop'. Remaining: Run unit tests automagically (pyinsane, pyocr). Yeah, it's a bit dumb when you start, but it should have learned after ~20 documents :-)\nI guess it could be improved by not adding labels at all automatically on the ~20 first documents.. @gkzsolt Hm, let's try something first. Can you stop Paperwork, run rm -rf ~/.local/share/paperwork and restart it ? It will force Paperwork to rebuild to the index, but also train again the Bayesian filters. If it makes things better, it means there is a bug regarding the way Bayesian filters are trained.. I think that means I need to improve the simulations I used to test the Bayesian filter training ... :/. Note to myself: The problem may come from the untraining/retraining of the filters when documents are modified (for instance when a new page is scanned). For the untraining part, the text should be what it was when it was trained, not what it is now (can be found back in the index). Problem is similar when a document is deleted.. Ok, so .. while making a workaround regarding Python GIL a while ago, it seems I pretty much broke \nthe untraining/retraining of the filters :(\nFixed: 178312c78a6c0f4f5cfe8a924305ababa900754f\nThe fix should be even cleaner than what was done before. The exact text content used for untraining/training is now more precise. The drawback is that the index has to keep a copy of all the text content so we can use it for untraining when a document has been modified or deleted.\nI'm going to do some more tests so I'll keep this ticket opened for now.. Ok, looks good to me. 1.2.4 is ready to roll :-). See #709 . 1) Which method did you use to install Paperwork ?\n2) You don't need to run examples/list_all.py anymore. The diagnostic output of Paperwork includes the same information. If there is still an obsolete documentation somewhere still telling people to run examples/list_all.py, please tell me which one so I can update it.\n3) Just FIY, you must install Pyinsane to run examples/list_all.py (sudo pip3 install pyinsane2 should take care of it if you have python3-pip installed)\n. This is pretty much a duplicate of #673 and #554 .\nBasically, the problem is that Paperwork has no support for duplex scanning (not yet anyway).\nI'm going to keep this ticket opened because the info inside it will be useful to implement duplex scanning support.. I'm working on creating a scanner database. I've written a test program that run a test scan and automatically collect data regarding the scanner, its driver and the scan itself. The end goal is to have enough data to write a new library to replace Pyinsane. Hopefully, I'll be able to include duplex support in the new library.\nJust so I get as many information as possible formatted in a manner that I can more easily use, can you run this test program please ? https://openpaper.work/en/scanner_db/#contribute .\nIt will do a test scan, generate a report, and automatically upload it to https://openpaper.work/ .. https://github.com/openpaperwork/paperwork/commit/6f3dc02e69bb74063186f22f619439f6c07b9fb9\nhttps://github.com/openpaperwork/paperwork/commit/8d4a7114ce0b39f318978e71f432f37ca2bebe8c\nhttps://github.com/openpaperwork/ironscanner/commit/5802179da628fd2e1b4d081b303249596aff8593\nhttps://github.com/openpaperwork/ironscanner/commit/cf56b61818da0bf5f67a8d2bbcf16bcaeeabc5dd\nDoesn't seem to improve things much.. diag.txt\n. Maybe related to my use of Awesome + Schroot(Flatpak) instead of Gnome + Flatpak on the root system.. confirmed: it was specific to my setup. Hm, can you:\n1) do an import\n2) get the diagnostic output and post it here please ?\nBased on your description, I would assume that some sort of error/exception occurred while examining your PDFs.. Yes the same output goes in the terminal than in the diagnostic dialog. Ah, then that is clearly part of the problem yes. Flatpak containers have a reduced access to the file system, and yes, by default Paperwork's container is limited to /home. I'll add that information to the documentation.. Ok got it:\nERROR  paperwork.frontend.diag        === UNCATCHED EXCEPTION ===\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork-1.2.2-py3.5.egg/paperwork/frontend/mainwindow/__init__.py\", line 3772, in _show_doc_hook\n    self._show_doc_internal(doc, force_refresh)\n  File \"/app/lib/python3.5/site-packages/paperwork-1.2.2-py3.5.egg/paperwork/frontend/mainwindow/__init__.py\", line 3757, in _show_doc_internal\n    self._show_pages(doc)\n  File \"/app/lib/python3.5/site-packages/paperwork-1.2.2-py3.5.egg/paperwork/frontend/mainwindow/__init__.py\", line 3709, in _show_pages\n    first_scan_drawer = self.__reset_page_drawers(doc)\n  File \"/app/lib/python3.5/site-packages/paperwork-1.2.2-py3.5.egg/paperwork/frontend/mainwindow/__init__.py\", line 3625, in __reset_page_drawers\n    sentence=search)\n  File \"/app/lib/python3.5/site-packages/paperwork-1.2.2-py3.5.egg/paperwork/frontend/mainwindow/pages.py\", line 1217, in __init__\n    self, page.size, job_factories, job_schedulers, sentence,\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.2-py3.5.egg/paperwork_backend/pdf/page.py\", line 237, in size\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.2-py3.5.egg/paperwork_backend/pdf/page.py\", line 259, in get_size\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.2-py3.5.egg/paperwork_backend/pdf/page.py\", line 252, in get_base_size\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.2-py3.5.egg/paperwork_backend/pdf/page.py\", line 100, in pdf_page\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.2-py3.5.egg/paperwork_backend/pdf/doc.py\", line 131, in get_pdf\nGLib.GError: g-file-error-quark: Too many open files (14)\nERROR  paperwork.frontend.diag        ===========================\nYou're importing a lot of PDF at the same time, and it seems there is a file descriptor leak in the import process. Fix: https://github.com/openpaperwork/paperwork-backend/commit/072fd7ccf3c38c37c3025bebc2819aede48065d9\nWill be in the Flatpak repository by tomorrow evening (GMT+1).. By default, Paperwork runs OCR only on PDF pages that don't contain text at all. If your PDF already had text, OCR is not used.\nYou can however use the option \"Redo the OCR\" if required.. I have a feeling that all your tickets (#721, #722, #723, etc) stem from the same bug. I think the diagnostic output could really help figure out what's going on here.. I think it's clearly a duplicate of #721. Nah, don't worry, it keeps working in the background. Actually, there is even no way at all for Paperwork to suspend/stop the OCR (no API in Pyocr for that).\nYou can make sure of that by running top in another terminal (or gnome-system-monitor for instance). You should see a process tesseract using 100% of one of your CPU.. Does that happen right after you tried importing documents, or did you restart Paperwork in the meantime ?. Argh sorry ... I made my previous fix much too fast and it actually made things much worse :/ (I really need to spend more time on automated tests ....)\nNew fix: https://github.com/openpaperwork/paperwork-backend/commit/197b490000895ab35afaa93a9ca252bc6ca709f7 (I tested it a bit further this time ;)\n. Interresting. I did my last test with 570 pdfs. But most of them included text (so no OCR). So based on what you just told me, it means there is a memory leak when OCR is used. I'll open another ticker for that.\nBTW, how much RAM do you have ?. This ticket is going to be trickier to fix. I think the simplest way to go for me is to disable the duplicated-PDF detection and import many times a PDF without text.. > it already output that it was opening the same pdf multiple times\nIt's not surprising actually.\nThe main problem with poppler-glib + Python is that, while you open the PDF file explicitly, it is only closed when the garbage collector collects the PDF object. So it's unfortunately pretty hard to have a clear control of when the file is closed. Also the PDF object is not serializable, which was a problem for me in paperwork-backend.\nSo I took the lazy but reliable way: I use lazy initialization. Evey time Paperwork needs an information from the PDF (number of pages, page rendering, page text extraction, etc), it opens the file, gets the information and close it. Disk cache is taking the hit .. :/\n\nit could keep the pdf names \n\nIt's a design thing. Giving documents a title is one of the most requested features, but this is beside the point of Paperwork. Paperwork is about being lazy, not about spending time sorting and naming documents.\nHowever, instead of naming it \"doc.pdf\" everytime, I guess it could keep the file name and just not display it in the UI. I've opened a ticket for that point: #726. @tYYGH hm, to me, when I read your comment, it sounds more like \"Paperwork is too slow to start\" than \"we should keep the original filenames of PDF files\" ;) (but yes, I get your point). In theory, any scanner should be compatible. In practice ....\nCan you post the diagnostic output please ? (either attach the file to this ticket or paste its content on gist.github.com, as you prefer). I assume it works with other scanning applications ?. Just to be sure : Is it turned on ? :)\nMore seriously, this is clearly weird. Even when they are offline, scanners are usually visible through the WIA API ... :/\nAnyway, I'm working on a test program to get more informations on scanners and their drivers (you are clearly not the only one having issues with the Windows version). I'll tell you when this program will be available. Hopefully it will help us figure out what's going on here.. > Do you have any update about your tool?\nWorking on it: https://github.com/jflesch/ironscanner/ .\n\ni'm wondering if I can scan my documents into a folder then import these scans to the software. I guess it will be the same result, isn't it?\n\nYes, except it won't bother detecting automatically the orientation.\n\nDo you think I can use my Raspberry to install the printer drivers and use the tool on my Windows Operation System?\n\nIt should work\n. Note to myself: this scanner driver clearly supports WIA: https://i6.cdscdn.com/imagesOK/notice/imprimante-canon-pixma-mg3650-noir-4549292036305.pdf --> it should work with Pyinsane. The test program is ready: https://openpaper.work/en/scanner_db/#contribute . Can you give it a try please ?\nIt will do a test scan, generate a report, and automatically upload it to https://openpaper.work/ .\nHowever, I've recently realized that many scanner manufacturer still ship only TWAIN drivers (if any at all), and currently Pyinsane and Paperwork only support WIA drivers :/. Can you still submit the report using IronScanner please ?. Yep, got it: https://openpaper.work/fr/scanner_db/report/84/\nUnfortunately, it looks like the WIA driver isn't installed on your system for some reason :/ (since it appears in your settings, I assume you have at least the TWAIN driver, but this one isn't supported by Pyinsane yet).. > there is nothing you can do with it.\nActually, it allows to export them all in one shot. But yes, it must still be extended to other features.\n@mjourdan has been working on some interesting ideas and mockups regarding multiple selections of pages and documents. . It does exist for Linux (paperwork-shell) but not (yet) for Windows. In Paperwork, there is a strong emphasis on image scanner support (device support, automatic page orientation detection, export as PDF with OCR included, etc). It is also designed to be as easy as possible to use (therefore installing and configuring a web server is not an option).\nPaperless cannot use image scanners directly at all (browsers provide no access to image scanner).  You have first to scan your page with another program and then import it in Paperless, or use the scan-to-FTP feature.\nHowever Paperless has the advantage of being a web interface, making it much easier to access from anywhere (home, work, travel, etc). It also support importing files automatically from IMAP (which Paperwork may support in the future .. maybe.)\nI personally use Syncthing to synchronize my Paperwork documents between all my computers (work included) but I assume this solution can't work for everybody.\n. Note that there are also other small differences.\nFor instance, in Paperwork, documents have no title. They just have a date, labels, and optionnally some extra keywords (I personally never use the extra keywords). The filenames of the imported files don't matter. Paperwork uses Bayesian filters to automatically try to learn from you and set labels.\nPaperless chose a more manual approach: It also supports labels (aka tags), and let you define \"matching algorithms\" to set them automatically.\n  . One or the other, both would be good. The problem is how much time someone would be willing to spend on it.. Not really.\nWhat I had in mind was:\n- create a web interface (similar to Paperless)\n- put a REST API on it (similar to Paperless)\n- turn Paperwork into a desktop client for the web interface (similar to what Thunderbird does with an IMAP server)\nIt would be like using a Gmail account with Thunderbird: You have your client on your machine (not just in the browser), that can access scanners and browse documents faster. But you also have a web interface to access your documents when you're far away from home.\nWith this approach you can have the best of both world. But it's a lot more work.\n  . I guess everything that could be done server-side should be done server-side.\nThe thing is, in any case I also want to keep the current way Paperwork works: standalone (I want my own mother to be able to install and use Paperwork if she wants ;).\nBut there is an easy way to get both modes without duplicating code: Paperwork could be packaged with the server included. If you want it standalone, it could start simply start a server locally everytime it's started, and stop it when it stops.\n. > If I get correctly what Paperwork is doing, it tags automatically the documents, or at least learns from you how to tag and then repeat it, and let you search through the text in your document, those are the main feature right?\nYes\n\nIf I put let's say my payslips in it, I can then search via the \"payslip\" label and search for the date in the document?\n\nYou can search by keywords (OCR), labels, or by dates.\nThe dates in the documents can have various formats and OCR may fail reading them, so Paperwork never extract them automatically (yet :). The date used by default is the scan (or import) date.\n\nIf we dream of having the Server/Web Interface/Desktop Interface architecture. Is the current code base re-usable or is it like starting from scratch? If so, would we still use Python then?\n\nI think most of the code changes would be in paperwork-backend. Except for the network settings, I see no reason to change the frontend part. \nPython would still be the main language used, therefore I guess Django would be the default choice server-side.\nIn the long term, I will just switch the libraries PyOCR, Pyinsane and libpillowfight to pure C (and therefore rename them \"libocr\" and \"libinsane\") and make GObject Introspection bindings for them. This will allow to use them from any programming language.\n. Duplicate of #518 . Can you provide the diagnostic output please ?. Here is the first clue regarding your problem:\nINFO   paperwork.frontend.mainwindow.docs Label Color: #000000 ; Text: Condominio must be deleted. Applying changes\nERROR  paperwork.frontend.util.jobs   ===> Job LabelDeleter:0 raised an exception: <class 'TypeError'>: 'NoneType' object is not iterable\nERROR  paperwork.frontend.util.jobs    0: /usr/lib/python3.6/site-packages/paperwork/frontend/util/jobs.py: L  180: _run\nERROR  paperwork.frontend.util.jobs    1: /usr/lib/python3.6/site-packages/paperwork/frontend/mainwindow/docs.py: L  352: do\nERROR  paperwork.frontend.util.jobs    2: /usr/lib/python3.6/site-packages/paperwork_backend/docsearch.py: L  430: destroy_label\nERROR  paperwork.frontend.util.jobs   ---> Job LabelDeleter:0 was started by:\nERROR  paperwork.frontend.util.jobs    0:   /usr/bin/paperwork: L   11: <module>\nERROR  paperwork.frontend.util.jobs    1: /usr/lib/python3.6/site-packages/paperwork/paperwork.py: L  189: main\nERROR  paperwork.frontend.util.jobs    2: /usr/lib/python3.6/site-packages/paperwork/paperwork.py: L  174: main\nERROR  paperwork.frontend.util.jobs    3: /usr/lib/python3.6/site-packages/gi/overrides/GLib.py: L  585: run\nERROR  paperwork.frontend.util.jobs    4: /usr/lib/python3.6/site-packages/paperwork/frontend/util/dialog.py: L   59: _ask_confirmation_goto_next\nERROR  paperwork.frontend.util.jobs    5: /usr/lib/python3.6/site-packages/paperwork/frontend/mainwindow/docs.py: L  586: _do_delete\nERROR  paperwork.frontend.util.jobs    6: /usr/lib/python3.6/site-packages/paperwork/frontend/util/jobs.py: L  256: schedule\nHowever I'm not sure yet how it could happen :/. Ok got it: https://github.com/openpaperwork/paperwork-backend/commit/9fc2755b7fa3467b6cd883b1d63879eb0046c2ce\nI haven't had time to test this fix yet. I may not have this week-end.\nAnyway, if you want to try it, it should be available in the next nightly flatpak (in other words, in one day or two depending on your timezone). Appears to be fixed. > sudo apt-get install tesseract-ocr tesseract-ocr-deu\nIf you installed Paperwork using Flatpak, apt is of no use. Paperwork run in its own container. Flatpak should have installed automatically the Tesseract file data for your language (based on your system locale).. what you can try:\nflatpak run --command=bash work.openpaper.Paperwork\nfind /app/share/runtime/locale -type f\nIt should show a deu.traineddata. \nAlso the diagnostic output could help again.. ping ?. Ok. Just beware, because of #744 , the path for the tessdata will change at some point later (probably be placed somewhere in /home I guess).. 1) Can you provide the diagnostic output right after it happens please ?\n2) Does restarting Paperwork solves the problem too ?\nRegarding Windows, it's a whole different implementation (WIA instead of Sane), so I don't think it would be of any help.. Hm, unfortunately, Paperwork diagnostic output is not verbose enough regarding scanning at the moment. However, I've made a scanner database and a test program to automatically generate and upload reports to this database. This test program includes the latest version of the library Pyinsane. It also include logs much more detailed than what Paperwork has.\nCould you run a test scan using this test program please ?\nhttps://openpaper.work/en/scanner_db/#contribute\nEither the problem is reproduced with this test program (in which case I will hopefully have enough info to fix the problem), or the problem has been fixed in the latest versions of Pyinsane.\n. >  Is there a reason that it is not desired to keep the indexes with the documents?\nYes:\n When you use a synchronisation program (like Syncthing, Sparkleshare, or Nextcloud), you don't want to synchronize the whole index every time a minor change is done\n When you backup, you don't want to backup the index. It's useless.\nBasically, the index is seen here as temporary data. I even wonder if it wouldn't be best to put it in ~/.cache.\nJust so you know, there is already this ticket opened: #619 . Actually, currently, Paperwork has for rule to never modify the PDF files. So if you imported a PDF, it will run the OCR on it, but it will keep the text beside the original PDF. When you export it, it will simply give you back the original PDF. That's made on purpose (to keep metadatas, like numeric signature for instance).\nHowever exporting a new PDF with the text is a feature that could be added easily in a future release.. The OCR feature exists. It is used to index all the keywords in the documents so you can find them back using the search field.\nHowever, when it comes to export, only images exported as PDF will imply generating a new PDF that will include the words from OCR. When exporting a document that was a PDF in a first place, it always return the original PDF file.. Implemented in the branch develop: https://github.com/openpaperwork/paperwork-backend/commit/067d3a994f225773a1cc137d03f7b1d03da57a9f\nWill be available in the next nightly Flatpak build (around 2018/01/18 at noon (UTC+1)).\n(Branch develop is the future version 1.3). > soon\nHmmm, yeah, it depends what you mean by \"soon\" :-/\nCurrently, my effort are mostly focuses on improving scanner support (this is going to take a while). Then there will be a bug fix version of Paperwork, 1.2.3. Then only I will work on 1.3 and later release it (again, it's going to take a while).\nSo .. yeah, not so soon.\nIt's actually one of the reasons I'm making nightly Flatpak builds of the branches master and develop: So people who want to test or just have these new features can. Flatpak appears to be supported on SolusOS so you can try it if you want.\n. If you install Paperwork with Flatpak tomorrow and specifically install the branch develop, then yes, you will have the feature. (tomorrow only because the nightly build hasn't been run yet). Related to #194 . 318b4b5e1f18216e86923303a9702a50a1ade70a. https://github.com/openpaperwork/paperwork-backend/commit/e3b99831d1d20ac4a50dbb8bdb0ea48acda2da6d. I'm actually surprised it works with other apps :-). Not so long ago, the issue was on Flatpak side ( https://github.com/flatpak/flatpak/issues/114 ) .\nI'll have a look. It's maybe just the Gnome SDK version used for Paperwork that is not up-to-date enough.. I'll give it a try this evening (UTC+1 here). Dconf access will actually require a little bit more access rights. See the example in http://docs.flatpak.org/fr/latest/working-with-the-sandbox.html. Didn't fix the issue :/. Just so you know, while I look for a fix, there is a workaround:\nsh\nexport GTK_THEME=Adwaita:dark\nflatpak run work.openpaper.Paperwork. It's changed in the openpaper.work repository (builder.openpaper.work). The flathub repository will only be updated at the next release.. Nop, as i said, it didn't fix the issue on my side.. Nevermind. I did activate \"global dark theme\" in gnome-tweak-tool but didn't switch to the theme \"Adwaita-dark\". Problem solved :). Fixed:\nhttps://github.com/openpaperwork/openpaper.work/commit/09b107aa6bd3f1bc2e90a701471203d09c6d4b84\nhttps://github.com/openpaperwork/openpaper.work/commit/96ba9b73ac13e91de75e3ff2c2124243d4dfdc67\nThanks for taking the time to report it :). Can you reproduce the problem and then get the diagnostic output please ?. Reproduced. Reproduced on Windows but not Linux. Fix: https://github.com/openpaperwork/paperwork-backend/commit/8ba278f6b6b271fcbc216f5fdb2d9677ebd6599e\nThis is one nasty bug. I'll make a release asap.. I've release Paperwork 1.2.3. It should take care of this problem.. Oops, sorry, I forgot the French translations. I've fixed it. It won't happen again: https://github.com/openpaperwork/openpaper.work/commit/8587a2154c3e364629856b36530506a37bf5e868. It's specified as a dependency in the setup.py. If you installed Paperwork using pip (or pip3), it should have downloaded python-dateutil before installing Paperwork.. ed970f6a4656d1773c399d23cda2ba23e481472b. 1) What distribution do you use ?\n2) Have you installed tesseract ? (and not just the data language files)\n3) What does tesseract --list-langs says ?\nStill, paperwork-shell chkdeps shouldn't crash. I'm going to have a look.. Workaround for paperwork-shell chkdeps : 104947f21782b2983c9b3b75f5d950355bfcd6cb (still not sure how it could have happened). Please note that it means there is a missing dependency in your Linux distribution: Tesseract depends on the english training files (don't ask me why). If you have time, you should open a ticket on the bug tracker of your distribution.. This feature is not available yet through paperwork-shell. Only through the GUI.\n. Which version do you want to install ? The latest released version or the one currently in the branch 'master' of Github ?. Instructions for the latest release: https://github.com/openpaperwork/paperwork#installation\nInstructions for the versions currently in preparation in Github: https://github.com/openpaperwork/paperwork/blob/master/doc/install.devel.markdown << unfortunately at the moment this is not up-to-date. python3 ./setup.py install must be replaced with make install. I will update it later.. 124ca47fd2a05a1aa87d24fa3f3a9332f0838897. Thanks for reporting this issue. It was actually a stupid mistake from me (like most of the bugs in Paperwork .. :-). It's fixed.. If the files are PDF, then no. Paperwork detects duplicated PDFs and doesn't import them.\nHowever it doesn't detect duplicated images (scanned page, PNG, JPEG, etc) (mostly due to an internal limitation).. Did you mean the \"settings dialog\" ? :-)\nSince you installed Paperwork using AUR, you should report this kind of bug first to the maintainer (who would then report it back to me if required).\nAnyway, whether you installed Tesseract or Paperwork first is probably unrelated to your problem.\nCan you try to open the settings dialog (which will fail), then obtain the diagnostic output please ?. What happens when you try to run Tesseract from a terminal ?\nHave you installed training files for your language(s) ? Note that in any case, you must also install the training file for English (don't ask me why, but Tesseract always needs it). Yeah, you should report that the AUR maintainer. It's a missing dependency and you're not the first one to have that problem :/. I meant the AUR maintainer of Tesseract, not Paperwork. (sorry I should have specified). That's my point. English is not.. @StreakyCobra From what I understand, it's kind of a bug in Tesseract 3. It looks for the English training file to know if any training data is installed. If it is not, it assumes none is installed and returns an error. I wouldn't be surprised if it's already fixed in Tesseract 4.\nWhile I assume it's a bug, not having the English training file makes Tesseract 3 useless. So it makes sense to add it as a mandatory dependency for Tesseract 3. This is what the Debian maintainer has done: https://packages.debian.org/jessie/tesseract-ocr. WARNING 2018-03-07 07:57:21,854 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L406): WiaPropertyStorage->ReadMultiple() failed\nWARNING 2018-03-07 07:57:21,870 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L407): HResult error code 0x80004001: Not implemented\nIt looks like the very same problem than #682 .\nIt will have to wait for the new library. Sorry :/. 1) Does your scanner work with simple-scan ?\n2) I see no attempt at scanning in the traces you provided. Can you restart Paperwork, try scanning, and then only get the traces from the diagnostic dialog please ?. Also:\n3) Can you try with IronScanner too ? (it's a test program that will run a test scan, collect as much information as possible on your scanner, and send it automatically to openpaper.work). Regarding IronScanner, yeah, unfortunately, it happens on some systems. I still need to investigate this one.\nAnyway, I still need to know if your scanner works with simple-scan. And the diagnostic output of Paperwork after a failed scan attempt could still be useful.. Xsane and Gimp work, but not simple-scan and Paperwork ? Hm, it won't be an easy one.. Are you scanning at the same resolution in all 4 ? (I'm thinking of a USB bandwidth problem). That's worth a try. ping ? have you tried with USB ?. Does it work now ? oO. At the moment it's not supported by Paperwork. I'm still collecting data with IronScanner to make sure that duplex scanning work the same on all scanners.\nBy the way, were you eventually able to submit a report with IronScanner ?. This setting is available in the settings dialog: https://github.com/openpaperwork/paperwork-screenshots/blob/master/1.0/settings.png. Then it's a bug.\nCan you please:\n Start Paperwork\n Open the settings dialog\n Wait for it to load (or to try to load)\n Close it\n Application menu --> Advanced --> Diagnostic\n Save the diagnostic in a file, and attach the file to this ticket\n?. Hm, I see the problem, but I'm a bit surprised. It seems your scanner says it can only support resolutions from 50dpi to 100dpi ? It seems really low.\nCan you try running 'xsane' (it's another scan program) and tell me what resolutions it says your scanner actually supports please ?. Oh wait, you're under Windows. Let's do that differently: Can you run the test program IronScanner and submit a test report please ? (IronScanner allows to send a test report even if the test has failed). I've updated IronScanner to get more details in the traces. Can you download and run it again please ?. Hmm, it seems Pyinsane ignored some data it shouldn't have ignored.\nI've updated again Pyinsane+IronScanner. Can you try it again please ?\n(there will probably be one more round after this one). For the record, changes are currently: https://github.com/openpaperwork/pyinsane/commit/5cb11337a5877d841054133dd50cf9377314fdfa , https://github.com/openpaperwork/pyinsane/commit/3f859fdc1fe95963aeb8d5fa00f6f9eebb528f3a. Doesn't matter, I just need the traces in the report for now (test successful or not). https://github.com/openpaperwork/pyinsane/commit/fb88aaa5f603faad86bd652b89c6c352a4eb573f\nhttps://github.com/openpaperwork/pyinsane/commit/c25134508de9a93dc71d331731556e7dc1e45c13\nOk, it should work this time. Can you try again with IronScanner please ?. Meh, close enough. In the coming months, I'm going to rewrite Pyinsane from scratch anyway .. :). By the way, scanning still works ? I haven't broken anything else, right ?\nCan you try a scan at 150dpi for instance ?. Awesome, thanks :)\nI'm building a version of Paperwork including the fix.. You can get a version of Paperwork with the fix here : https://download.openpaper.work/windows/amd64/paperwork-master-latest.zip .\nUnfortunately, I can't build the installer automatically yet. So you will have to manually extract the content of the archive where you installed Paperwork (by default, c:\\Program Files(x86)\\Paperwork).\nThanks for taking the time to report this issue and helping me to fix it :)\nFeel free to comment again on this ticket if you have any other issue with your Scanner and Paperwork.. https://github.com/openpaperwork/paperwork/issues/742\n^ It's available in the development version, only on Linux at the moment (see continous build 'develop')).\nHowever, please note that this is the development version and there may be instability issues.\nIn short, it's a known issue. Current stable versions of Paperwork include images in PDF files as PNG which obviously make them huge. In the development version, I've used a new feature of Cairo to include them as JPEG instead. Problem is, the feature is quite new and I'm not sure it's really stable yet on Cairo side :/.\nAlso at the moment, for the Windows version, I'm stuck and I can't update the version of Cairo used. I'm working on it, but it's going to take a while.. Since this is a duplicate of #742 , I'm going to close this ticket. Feel free to comment on it again if I missed anything.. Woops, forgot to change that part I added the scores to the results. Thanks :). Almost there. There are just 2 minor PEP8 issues remaining:\nhttps://origami.openpaper.work/#/builders/2/builds/264/steps/2/logs/stdio\npaperwork_backend/config.py:143:80: E501 line too long (82 > 79 characters)\npaperwork_backend/shell.py:55:80: E501 line too long (129 > 79 characters)\n(you can use make check (requires flake8) to check your changes). Interesting, I don't get those warnings on Debian stable (see the buildbot output) nor Ubuntu 17.10. I'll fix them later.. https://origami.openpaper.work/#/builders/2/builds/265\nClose enough. I'll fix that last one later. Let's merge :). Can you do the following please:\n\nopen the settings dialog\nwait a little bit\nclose the settings dialog\nget the diagnostic output\nattach the diagnostic output to this ticket\n\n?. Application menus in Gnome and Unity are at the top of the screen.. It doesn't see any scanner at all.\nHowever, you're running it in Flatpak. To access the scanner from Flatpak, Paperwork needs the daemon Sane to be running on the host system. When updating your Ubuntu, maybe you disabled Saned unintentionally ? Just to be sure, can you run the following commands please ?\n```\nsudo apt install flatpak sane-utils\nEnable Saned on the loopback only\nsudo sh -c \"echo 127.0.0.1 >> /etc/sane.d/saned.conf\"\nsudo systemctl enable saned.socket\nsudo systemctl start saned.socket\n```\n. Weird. And you said it works with xsane right ?\nCan you try IronScanner and submit a test scan report with it please ? (you can submit a report even if it didn't find any scanner). It will provide more details.. I'm going to assume that the report https://openpaper.work/en-us/scanner_db/report/102/ is yours.\nAre you sure it works with Xsane ? Because Sane reports no scanner at all.\nHave you tried with Simple-scan ?. Hm, OK, the result is not pretty, but at least IronScanner sees your scanner.\nWhich means the problem is probably between Flatpak and Saned.. Oh, \"48 bits color\" .. that explains the weird result ... It's not supported by Pyinsane.. Just to be sure: what does systemctl status saned.socket | cat returns ?\nAlso, I assume you have no firewall up ?. Well, I'm running out of ideas :/\nI think the manual installation should work for you, but it makes uninstallating Paperwork harder :/. Just in case, can you paste the output of apt show sane-utils here please ?. The branch shouldn't be 'stable', it should be 'master'. I suggest you uninstall it and reinstall it. Edit: nevermind, I just realized you're using the flathub version. BTW, I haven't updated Paperwork on FlatHub yet. Since they are not show casing applications anymore, I'm considering removing it from FlatHub since it means extra work for me for nothing. Edit: they have edited the page :). Update is on its way: https://flathub.org/builds/#/builders/2/builds/690. Dammit, build on arm64 is broken by pypillowfight. Libpillowfight: https://github.com/openpaperwork/libpillowfight/commit/ae966b721cce84d20965e9fa8cc2f5be67cad2ef\nNow I must update the .flatpak files.. https://flathub.org/builds/#/builders/2/builds/728\nAnd done :)\nThe update is available on FlatHub.. You're welcome :). Actually, I intend to simplify it quite a lot. I'm going to remove the whole dialog, and just scan immediately all the pages it can scan from the feeder, and add them to the current document (or to \"New document\" if that's what's currently opened). https://askubuntu.com/questions/153549/how-to-detect-a-computers-physical-screen-size-in-gtk\nhttps://askubuntu.com/a/303754. That's a good point. Still, always better to have too much info than not enough :). Actually, we can get both: screen resolutions + window size.. Next time, if you want to avoid re-indexng all the documents, you can also backup ~/.local/share/paperwork.. Hm, I do all my tests on Windows 10. I'm beginning to wonder whether it could be related to Windows 7 .... Hm, ok, while I look for a solution, here is a workaround:\n\nYou can install 1.2.1.\nThen download the lastest 1.2.4 build.\nExtract the 1.2.4 build where you installed Paperwork (c:\\Program Files(x86)\\Paperwork by default). Replace the files without deleting anything first.\n\nYou should then be up-to-date.\nIf you try it, please report whether this workaround did work or not. It would prove (or disprove) that the problem is in the installer.. > I tried simply unzip latest 1.2.4 build (second link you provided) to the default install folder and then simply executed paperwork.exe (need to execute it with admin rights, otherwise it hangs), but it worked. Scanner works, did not tried OCR yet (but for me OCR is not that important).\nOCR won't work for sure (the paperwork-xxx.zip only contains Paperwork and most of its dependencies, but not Tesseract or its data files).\nAlso, I cannot guarantee it will work at all. It it works for you, good for you. But this is an untested and unsupported setup :/. Ok, reproduced with Win7 Pro FR.. I think there is a problem with NSIS + Windows 7 + https://jflesch.github.io/ . Not sure what it is yet.\nI may have to move the files :/. Hm, https://jflesch.github.io/ + Internet explorer 8 don't work either .... I think this is the issue : https://github.com/rust-lang/cargo/issues/5066. https://support.cybersource.com/s/article/How-do-I-enable-TLS-1-2-on-Windows-7 << fixes partially the problem\nThen install fails on another download ... :/. Installing Windows 7 security updates seems to be good enough to solve this problem.\nAnyway, I'm going to move all the files to https://download.openpaper.work/ . Should fix this issue for everybody.. I've updated the installer on https://openpaper.work/\nCan you try and confirm it works for you too please ?  (I suggest you backup c:\\program files(x86)\\Paperwork first if you already have a working installation). You're welcome :)\nI'm closing this ticket. Thank you all for taking the time to report this issue in a first place :). Thanks :). Debian testing provides Tesseract 4.00, which AFAIK is still in alpha (3.05.01 is the latest stable version). I have no idea why they have already packaged Tesseract 4. It is all but reliable.\nI assume also that Pyocr didn't detect the version of Tesseract correctly (tesseract 4 + pyocr hasn't been tested much yet) --> it assumed it couldn't detect the orientation --> Paperwork did it by itself using an old heuristic (and unreliable method).\nPossible solutions\n- Downgrade tesseract-ocr to 3.04 || 3.05 (packages are available in debian stable)\n- Use the Flatpak version of Paperwork (it comes with Tesseract 3.05).\n. Duplicate of #774 (Ubuntu provides the same Tesseract packages than Debian testing).. Good catch, thanks :). Cherry-picked on branch master. https://github.com/openpaperwork/paperwork/wiki/Branches\nI use them in a way close to GitFlow but not exactly identical.. Just one issue left regarding PEP8:\nhttps://origami.openpaper.work/#/builders/2/builds/435. I start the buildbot manually yes. It's running flake8 on an debian stable, so it may not be exactly the same version you're running (flake8 --version == 3.2.1 (pyflakes: 1.3.0, pycodestyle: 2.2.0, mccabe: 0.5.3) CPython 3.5.3 on Linux).\nI've fixed the warnings you reported.\nYour changes are now OK, thanks :). Which version of Paperwork are you running exactly and how did you install it ?. Full disclosure: The biggest document I've used to test Paperwork is about ~100 pages. And it is a test document, not one that I really use day-to-day :/. @kafran : By the way, did you import those big documents as PDF, or did you scan them ?\nRegarding your question about other applications, unfortunately, I don't know any that is opensource and does exactly what Paperwork does (I wouldn't be working on it otherwise ;).\nHowever, you may want to have a look at some web applications doing similar things. For instances:\n https://github.com/danielquinn/paperless/\n https://www.mayan-edms.com/. Once I'm done with libinsane, I'll work on rewriting / rearranging Paperwork. The main goal will be to get the code more modular, but my hope is that it will help testing and help isolate and fix issues (bugs but optimization issues as well).\nWhile I can't do much for you right now regarding Paperwork, I would appreciate it if you could submit a test scan report for the scanner database on openpaper.work : https://openpaper.work/en/scanner_db/#contribute .\nI have no Kodak scanner currently in the database. I would be curious to see what other options it can provide.. AFAIK, Tesseract 4.00 is still in beta. Also it is currently not supported by PyOCR (see bug https://github.com/openpaperwork/pyocr/issues/99 ).\nI have no idea why some distributions (like Debian testing for instance) have already packaged Tesseract 4.. My advise: For now, try to switch back to Tesseract 3.05. Everything should work fine.. A message easier to understand for lambda users would be better I think. Something like:\n\"Document %s already found in the index. Skipped\"\n. I did a quick test, and it seems you can compare schemas directly:\nIn [3]: import whoosh.fields\nIn [4]: WHOOSH_SCHEMA = whoosh.fields.Schema(\n  docid=whoosh.fields.ID(stored=True, unique=True),\n  doctype=whoosh.fields.ID(stored=True, unique=False),)\nIn [6]: WHOOSH_SCHEMA2 = whoosh.fields.Schema(\n  docid=whoosh.fields.ID(stored=True, unique=True),\n  doctype=whoosh.fields.ID(stored=True, unique=False),)\nIn [7]: WHOOSH_SCHEMA3 = whoosh.fields.Schema(\n  docid=whoosh.fields.ID(stored=True, unique=True),\n  doctype=whoosh.fields.ID(stored=True, unique=False),\n  docfilehash=whoosh.fields.ID(stored=True),)\nIn [8]: WHOOSH_SCHEMA == WHOOSH_SCHEMA2\nOut[8]: True\nIn [9]: WHOOSH_SCHEMA == WHOOSH_SCHEMA3\nOut[9]: False\n. Suggestion:\nIf one day we decide to change the way the hash is computed, we may forget to update this method. I think you should add a static method compute_file_hash() (or something like that) in backend/pdf/doc.py:PdfDoc --> it would allow to refactor a little bit the code and make sure that we compute the hash the same way here and in PdfDoc.get_docfilehash()\n. PEP8: 2 spaces before '#' (and 1 after I think)\n. PEP8: 2 spaces before '#' (and 1 after I think)\n. You don't use libpoppler to compute the hash (--> no thread-safety issue). Also the hash is rarely used. So there is no point in keeping the hash in cache.\n. As said previously, I think it would be better to use a popup here. Here is an example from mainwindow.py:\nmsg = (_(\"Don't know how to import '%s'. Sorry.\") %\n               (os.path.basename(file_uri)))\n        flags = (Gtk.DialogFlags.MODAL\n                 | Gtk.DialogFlags.DESTROY_WITH_PARENT)\n        dialog = Gtk.MessageDialog(parent=self.__main_win.window,\n                                   flags=flags,\n                                   type=Gtk.MessageType.ERROR,\n                                   buttons=Gtk.ButtonsType.OK,\n                                   message_format=msg)\n        dialog.run()\n        dialog.destroy()\n. By the way, your approach is a very good idea and may actually render #127 useless. Thank you :)\n. Correct me if I'm wrong, but PEP8 says it should be hash_file()\n( http://www.python.org/dev/peps/pep-0008/#function-names )\n. I think it would be better to clarify this message a little bit: Something like \"No new document to import found\"\n. PEP8: A space is required after '#'\nhttp://www.python.org/dev/peps/pep-0008/#block-comments\n(strangely, the tool 'pep8' doesn't seem to catch this one)\n. Please add at least one empty line before and after the inner class. Otherwise my head is going to hurt every time I read it :)\n. hm, why do you instanciate the queryparser every time find_documents() is called ?\nfind_documents() is called really often when the user types keywords (once per keystroke). I think it would be safer to instanciate everything before find_documents() is called (previously it was done in DocSearch.init())\n. PEP8: space after '#' :)\n. By the way, I would also suggest the following syntax:\nclass CustomFuzzy(whoosh.qparser.query.FuzzyTerm):\n    \"\"\"\n    Custom fuzzy query parser\n    \"\"\"\n    def __init__(self, whatever):\n. Technically, it's not a PIL image anymore, but a Pillow image :)\nI suggest a slighlty more generic name instead, something like self.__img_cache for instance ?\n. You must add 'scikit-learn' as a dependency in setup.py (in the array install_requires)\n. Same thing: You must add scipy as a dependency in setup.py\n. ... and numpy\n. Also, I would appreciate it if you could keep the import in a specifc order:\n1) python stantard modules\n2) external modules (sklearn, scipy, etc)\n3) internal modules (paperwork.xxxx)\nPlease also keep them in alphabetical order. When there are a lot of them, it helps avoiding duplication.\n. PEP8: space after '#'\n. PEP8: space after '#'\n. You get many labels --> get_index_label_s_ :)\n. I'm curious: wouldn't it give better results with the whole page at its normal size ? Or would it be too much data to handle ?\n. Import order to fix (see previously)\n. PEP8: space after '#'\n. PEP8: spaces around '='\n. PEP8: spaces around '='\n. PEP8: line < 80char. (yes, I know, this rule is really annoying)\n. PEP8: spaces around '='\n. PEP8: Spaces around \"*\"\n. PEP8: 2 spaces before '#' (don't ask me why ...)\n. Unicode --> label == u\"\"\n. PEP8: spaces around \"=\"\n. There is no specific reason to have _update_doc_in_index() as a static method. I just did it because I didn't have any use for any attribute of the object DocIndexUpdater at that time.\nSo, instead of passing 'docsearch' as an argument, I think it would be cleaner if you just remove @staticmethod and use self.docsearch.\n. I think it would be cleaner if you just move fit_label_estimator() and predict_label_list() in DocIndexUpdater. Basically all the code updating the index should be in DocIndexUpdater instead of DocSearch. (In a perfect world, there shouldn't even be any dependency between them I think)\n. PEP8: Space after '#'\n. With your change, this warning will pop up every time ...\n. For performance reasons, we shouldn't guess the doc type if it's already known --> I think a \"if doc is None:\" is missing here\n. With your change, this warning will pop up every time ...\n. Optimisation suggestion:\nI think reload_index() could pass the predicted_labels as argument to __inst_doc_from_id(). --> __inst_doc_from_id() could search them only if they are not given as argument.\n. Suggestion:\nif not new_label:\n  return\nNo need to update the index if the label passed to add_label() already exists\n. No need to check. old_label must not be None. If you really want to be sure, please just add an assert at the beginning of the method.\n. Idem: label must not be None --> please just add an assert if you want to be sure\n. PEP8 : line < 80char.\n. Why 8 ? oO\n. I think it would be better to make it an attribute of backend.common.page.BasicPage:\nBecause currently, you wrote \"from paperwork.backend.common.page import DummyPage, THUMB_WIDTH, THUMB_HEIGHT\" in the frontend --> you end up using \"THUMB_WIDTH\" & \"THUMB_HEIGHT\" as it in the frontend.\nIf you make it an attribute of BasicPage, in the frontend you can do \"from paperwork.backend.common.page import BasicPage\", and then use BasicPage.THUMB_WIDTH and BasicPage.THUMB_HEIGHT. It would give each time a little more context regarding where THUMB_WIDTH / THUMB_HEIGHT come from.\nAlso, \"THUMB_WIDTH/HEIGHT\" was meaningful in the frontend because it's the only thumbnail size we use. But in the backend, as you probably saw, the function get_thumbnail() let the caller choose the thumbnail width. --> I think you should rename them \"RECOMMENDED_THUMB_WIDTH/HEIGHT\" (or something like that)\n. s/uptodate/up-to-date/\n. Hm, ok, I guess it can stay in DocSearch, at least for now. If later I figure out a better pattern without performance issue, I'll move it.\n. Please add a comment with what you just said. Otherwise I'll reread this piece of code in 3 months and ask myself this very same question again ... :)\n. If I've understood correctly what you do with this object, I think a better name would be \"LABEL_ESTIMATOR_TEMPLATE\"\n. hm, I'm not sure to understand. Don't you need to call fit_label_estimator() every time a label is added to or removed from a document ?\n. Nah, I'm ok with using the thumbnails. I'll trust you regarding the quality/performance ratio. :)\n. In reload_index(), we basically get all the documents with all their infos. Within this method, the predicted labels can easily be accessed with result['predicted_label'] --> reload_index() can easily pass the predicted_labels as argument of __inst_doc_from_id()\n (hmm, if you do so, it could also be a good idea to rename __inst_doc_from_id() into __inst_doc() ... :)\n. I see. But, if I'm not mistaken, you should do the following, no ?\nif new_label:\n    self.fit_label_estimator(labels=[label])\nelse:\n    self.fit_label_estimator([doc])\n(or something like that :)\n. Github marked the previous discussion as being on an outdated diff but I still think it's something we should discuss. My last comment was:\nIn reload_index(), we basically get all the documents with all their infos. Within this method (reload_index()), the predicted labels can easily be accessed with result['predicted_label'] --> reload_index() can easily pass the predicted_labels as argument of __inst_doc_from_id() --> you wouldn't have to redo a query here for every document when Paperwork starts\n(hmm, if you do so, it could also be a good idea to rename __inst_doc_from_id() into __inst_doc() ... :)\n. Oh ok. I missed that. I was confused because in remove_label() you call upd_doc() then fit_label_estimator([doc], removed_label=).\nIt's ok for me then :)\n. Hm, it may be a good idea. However, working in a separate thread won't solve all the issues (see the hacking doc regarding thread safety). So I think it will depend of the time required to refit&predict them all (we are talking about many hundred of documents here).\nAnyway, I think we should merge your current changes as is in jflesch/paperwork/unstable. You can send later another pull request to do the refit&predict at start. This way, we will both be able to clearly see the difference.\n. IMO, moving that from backend/img/page to backend/common/page.py should be done in a separated commit\n. PEP8: max 80 char\n. Suggestion:\nif fit_label_estimator:\n    self.docsearch.fit_label_estimator(\n        [doc], labels=self.docsearch.label_list + doc.labels)\nAlso, PEP8: no spaces around this '=' (this is not an affectation) ( http://www.python.org/dev/peps/pep-0008/#other-recommendations )\n. PEP8: no spaces around '='\n. PEP8: no spaces around '='\n. PEP8: no spaces around '='\n. PEP8: no spaces around '='\n(same thing for the following ones ...)\n. PEP8:\nif docs is None:\n. if labels is None:\n. \"\"\" is not meant to comment code. Please use '#'\n. if docs is None:\n. Suggestion:\nif filename.lower().endswith(ImgPage.EXT_IMG) and not filename.lower().endswith(ImgPage.EXT_THUMB)\n. PEP8 ... :)\n. PEP8: no spaces --> fit_label_estimator=False\n. The indentation is kind of weird-looking here.\nSuggestion:\nlogger.debug(\"%s %s %s with decision %s \"\n             % (doc, prediction, label_name,\n                self.label_estimators[label_name],\n                decision_function(features)))\n. There is a typo here: it's \"date:[YYYYMMD\" (the ':' is missing)\n. I think there is a mistake here. If I'm not mistaken, you removed the translation.\n. Same thing for the following ones\n. Here also\n. Here too\n. Here too.\nOk, I'm going to stop here for the missing translations :)\n. It will work. But it will make it harder for you to make the distinction between those strings and the new not-yet-translated strings (they appear also as empty strings).\nIt's as you wish, but in my opinion, I think it would be best if you add their translation anyway.\n. Ok for me. Let's do that.\n. Hm, something is not right. This string is still present in src/paperwork/frontend/aboutdialog/aboutdialog.glade :/\n. Did you get any error message while running \"localize.sh upd-po\" ?\nDo you have the command intltool-extract available ?\n. I didn't check the values returned by each program called by localized.sh. I think one of the command failed, and this is why a good part of the translations have been removed from .po file. Sorry for that.\nI've fixed the script.\n. Please do not let dead code going around like that.\nEither there is a good reason to keep it, in which case you should add a comment explaining why, or there isn't.\n. Woops, nice catch :)\n. Please remove the tag \"fuzzy\" once you have checked the translation.\n. Same here (and all the followings)\n. Please do not put these instructions in the README. Instead, please create a sub-page like doc/install.docker.markdown for instance, and just put a link to it in the Installation section.\n. Ok for this time, but in the future, please try to avoid external links. External links tend to die. If there is something in this page worth mentionning, then it should be in this document directly.\n. For future code, please use the new formatting operation: logger.debug(\"Looking for locales in '{}' ...\".format(locales_path))\n(see https://docs.python.org/3/library/stdtypes.html#old-string-formatting and https://docs.python.org/3/library/stdtypes.html#old-string-formatting )\n(this is not a blocking issue here)\n. Just FYI, you can remove these messages. They are messages that were previously translated but are not found in Paperwork's code anymore\n. Style consistency: no empty line here please. Style consistency: no empty line here please. Good point.\nIt would be cleaner if ask_confirmation accepted extra arguments as **kwargs, and would then pass them back to _ask_confirmation_goto_next which would then pass them again tonext_func.. Yep I should have told you sorry. It's to be expected : GLib.idle_add() is based on a pretty complex binding system (see GObject Introspection). So in the end, it supports a variable number of arguments, but not keyword arguments.\nAnyway, your change is just fine. Thank you very much :-). Constant --> \"LOG_LEVELS\". if not index_in_workdir and indexdir is not None then base_data_dir won't be set, but still be passed to self.index.open().. Please use a slightly more explicit name. Something like guessed_labels.. You can use for ... else here:\nfor clabel in dsearch.label_list:\n    if clabel.name == label_name:\n        label = clabel\n        break\nelse:\n    (...)\n( http://book.pythontips.com/en/latest/for_-_else.html ). Please update the documentation of the command: It's the docstring of the function cmd_import.\n. Idem: doc. ",
    "tYYGH": "I\u2019m not sure this is a good idea:\n How will this put less stress on the filesystem? The overall size should be almost the same since PDF and JPEG images don\u2019t compress very well.\n When a part of a document will be read, the whole zip/tgz will have to be read.\n Same for writing only a part (rotating a page, changing the labels\u2026)\n It will make Paperwork even more slow than it is today.. That would be a reasonable compromise indeed.. @mjourdan Nice!. Good for me :-). In case someone is interested, I wrote a Web viewer, and I checked that it renders well on my Android phone:\nhttp://yalis.fr/cms/index.php/post/2016/01/21/Command-line-and-Web-Interface-for-Paperwork\nCheers,\n. @tiramiseb Don't you mean \"that becomes opaque when hovering\"? Oh, I see! You mean the text would get displayed by default! And hovering would allow to see \"below\". This won't work well with touch interfaces (and Gnome3 is doing its best to be touch-friendly).\nThe idea of putting the information in the corner of the document area is good, though. Maybe an icon, then, that would expand into a text area while hovered, or while focused (click) until unfocused (click elsewhere)?\n. Later on, if the icon is always present, this interface could replace the extra-text part of the properties and become the standard way of entering extra text\u2026 if you don't mind the concept of \"empty extra text\" :-p\n. Since ~/.local/share/paperwork can be (and often is, quand Pw perd les p\u00e9dales :-p ) deleted, and then gets generated anew without any noticeable change in the application, apart from the time needed to generate it all, I would say that indeed this is cache data. Same for the thumbnails.\nI disagree about the privacy part regarding the ~/.cache folder. The ~ folder is private in the first place. If people are afraid their neighbour will come and read the data in their home-folder, there are plenty of solutions, eg. encrypted /home, or tmpfs ~/.cache, or encrypted ~/.cache, or ~/.cache mounted from some secured removable device\u2026\nCheers,. \ud83d\udc4d  I like the idea that ~/papers is clean and self-sufficient (no more no less than what is necessary), and that ~/. is optional, ie. you can point Paperwork at a clean ~/papers, and whatever Paperwork needs in ~/. can be generated anew if needed.\nAlso, your rule-of-thumb for ~/.cache vs ~/.local is sensible, IMHO.. @jflesch rel. use cases: most of my labels are thus coloured: CPAM, Soci\u00e9t\u00e9 G\u00e9n\u00e9rale, Materiel.net, Amazon, Orange, etc. I open the web site, and color-pick the dominant colour of the page.\nThis allows very fast thumbnails scrolling when you're looking for a particular document!\n. It is already possible to manually create $docdir/YYYYMMDD_HHMM_nn_cc/{doc.pdf,paper.?.jpg}, and even echo 'label,rgb(x,y,z)' >$docdir/YYYYMMDD_HHMM_nn_cc/labels. Such self-created directories are correctly handled when Paperwork is later started.\nIt could be enough to also be able to optionally replace the labels file with a TODO-LABELS file-marker, and optionally add a TODO-OCR-{fra,eng,\u2026} file-marker in the directory. These markers would get deleted after having triggered the corresponding actions.\nHowever, for the sake of avoiding concurrency problems if Paperwork is running, it may be best to have a different naming scheme for those directories, such as YYYYMMDD_HHMM_nnnn.import, and have Paperwork take each such directory into account as soon as a READY marker-file is stored inside, and rename the directory to the normal scheme as it is correctly merged into the \"database\".\nThis scheme would have one extra advantage over the usual client-server: this would allow adding documents even on computers where Paperwork is not installed. Eg: if the documents are stored on a file server, any device with the right credentials would be able to add documents, even a smartphone, or a remote connection through a VPN\u2026\n. In case someone is interested, I wrote a CLI+Web front-end:\nhttp://yalis.fr/cms/index.php/post/2016/01/21/Command-line-and-Web-Interface-for-Paperwork\nCheers,\n. Rel. incron, see this:\nhttp://linuxfr.org/news/paperwork-1-0#comment-1681731\n(Google Translate makes a good job of translating this if needed. Note: AAAAMMJJ is YYYYMMDD in English).. In case that\u2019s any help, when I wrote my own CLI interface, I felt the need for these requests:\n```\n Query:\n\u2014 by date prefix (year, year-month, year-month-day)\n\u2014 by labels\n\u2014 by keywords\n\u2014 case sensitive/insensitive\n   Result (WSN):\n     OUTPUT   = \"[\" [ DOC_LIST ] \"]\" .\n     DOC_LIST = DOC { \",\" DOC } .\n     DOC      = \"{\"\"folder\"\":\" FOLDER \",\"\"labels\"\":[\" [ LABELS ]\n                \"],\"\"count\"\":\" COUNT \",\"\"type\"\":\" TYPE \",\"\"etag\"\":\" ETAG \"}\" .\n     FOLDER   = json_string .\n     LABELS   = json_string { \",\" json_string } .\n     COUNT    = json_number .\n     TYPE     = \"\"\"pdf\"\"\" | \"\"\"pages\"\"\" .\n     ETAG     = json_string .\nRetrieve a single document's metadata:\n\u2014 by ID\n   Result (WSN):\n     OUTPUT   = DOC .\nRetrieve a document's thumbnails:\n\u2014 by ID\n   Result (WSN):\n     OUTPUT   = \"[\" THUMBS \"]\" .\n     THUMBS   = CONTENTS { \",\" CONTENTS } .\n     CONTENTS = \"{\"\"mime\"\":\" MIME \",\"\"data\"\":\" B64_DATA \",\"\"width\"\":\"\n                WIDTH \",\"\"height\"\":\" HEIGHT \",\"\"etag\"\":\" ETAG \"}\" .\n     MIME     = json_string .\n     B64_DATA = json_string .\n     WIDTH    = json_number .\n     HEIGHT   = json_number .\nRetrieve a document's page/PDF and metadata:\n\u2014 by ID and page number\n   Result (WSN):\n     OUTPUT   = CONTENTS .\nRetrieve a document page's metadata without the actual page:\n\u2014 by ID and page number\n   Result (WSN):\n     OUTPUT   = \"{\"\"mime\"\":\" MIME \",\"\"width\"\":\" WIDTH \",\"\"height\"\":\"\n                HEIGHT \",\"\"etag\"\":\" ETAG \"}\" .\nRetrieve a raw document's page/PDF without metadata:\n\u2014 by ID and page number\n   Result: page contents.\n```. I use paperwork 0.1.2 from Arch AUR (latest stable release). I\u2019ve ran paperwork as follows:\n1\u00ba launch paperwork,\n2\u00ba go to settings and select the scanner (it happens it already was for both tests),\n3\u00ba click \u201cnew document\u201d, then click the \u201cScan\u201d button.\nHere\u2019s the relevant diff between OK and KO:\n```\n< INFO   paperwork.backend.img.page     Scanner resolution: 300\n< INFO   paperwork.backend.img.page     Scanner calibration: (200, ((0, 0), (1693, 2339)))\n< INFO   paperwork.backend.img.page     Cropping: (0, 0, 2539, 3508)\n< INFO   paperwork.backend.img.page     Scan rotated of 0 degree\n< INFO   paperwork.backend.img.page     Scan rotated of -90 degree\n< INFO   paperwork.backend.img.page     Scan rotated of -180 degree\n< INFO   paperwork.backend.img.page     Scan rotated of -270 degree\n< INFO   paperwork.backend.img.page     Scan done\n< INFO   paperwork.backend.docsearch    Updating modified doc: 20140701_1931_26\n< WARNING paperwork.backend.img.page     WARNING: Doc 20140701_1931_26 uses old box format\n< INFO   paperwork.backend.docsearch    Index: Commiting changes\n< INFO   paperwork.backend.docsearch    Adding document '20140701_1931_26' to the index\n< INFO   paperwork.frontend.mainwindow  List 'pages' : 1 elements displayed (1 additionnal)\n< INFO   root                           Showing page 20140701_1931_26 p1\n\n\nERROR  paperwork.frontend.mainwindow  No scanner found !\nINFO   paperwork.util                 Showing popup !\nERROR  paperwork.frontend.jobs        ===> Job SingleScan:0 raised an exception: : Option is not active\nERROR  paperwork.frontend.jobs         0: /usr/lib/python2.7/site-packages/paperwork/frontend/jobs.py: L  158: _run\nERROR  paperwork.frontend.jobs         1: /usr/lib/python2.7/site-packages/paperwork/frontend/mainwindow.py: L 1204: do\nERROR  paperwork.frontend.jobs         2: /usr/lib/python2.7/site-packages/pyinsane/abstract_th.py: L  237: scan\nERROR  paperwork.frontend.jobs         3: /usr/lib/python2.7/site-packages/pyinsane/abstract_th.py: L  171: init\nERROR  paperwork.frontend.jobs         4: /usr/lib/python2.7/site-packages/pyinsane/abstract_th.py: L   58: wait\nERROR  paperwork.frontend.jobs        ---> Job SingleScan:0 was started by:\nERROR  paperwork.frontend.jobs         0:   /usr/bin/paperwork: L    6: \nERROR  paperwork.frontend.jobs         1: /usr/lib/python2.7/site-packages/paperwork/paperwork.py: L  105: main\nERROR  paperwork.frontend.jobs         2: /usr/lib/python2.7/site-packages/paperwork/frontend/actions.py: L   56: on_button_clicked_cb\nERROR  paperwork.frontend.jobs         3: /usr/lib/python2.7/site-packages/paperwork/frontend/actions.py: L   53: __do\nERROR  paperwork.frontend.jobs         4: /usr/lib/python2.7/site-packages/paperwork/frontend/mainwindow.py: L 1819: do\nERROR  paperwork.frontend.jobs         5: /usr/lib/python2.7/site-packages/paperwork/frontend/jobs.py: L  227: schedule\nERROR  paperwork.frontend.mainwindow  Error while scanning: : Option is not active\nINFO   paperwork.frontend.mainwindow  List 'pages' : 0 elements displayed (0 additionnal)\n```\n\nI wish I could just attach files\u2026\n. The scanner is an Epson Perfection 1650, aka GT-8200 (standard model); see:\nhttp://old-www.itreviews.com/hardware/scanners/epson-perfection-1650-photo/\nLinux driver: sane-epson, or sane-epson2, whichever is the default in Arch; see here:\nhttp://www.sane-project.org/man/sane-epson.5.html\nhttp://www.sane-project.org/man/sane-epson2.5.html\nI'll post the full KO error log, and look for the actual driver, when I'm at home.\n. As I thought:\n$ scanimage -L\ndevice `epson2:libusb:002:003' is a Epson GT-8200 flatbed scanner\nNow the full results:\n\u2014 http://yalis.fr/public/www/pw-ok.err : stderr from the successful scan,\n\u2014 http://yalis.fr/public/www/pw-ko.err : stderr from the failed scan,\n\u2014 http://yalis.fr/public/www/pw-ko.png : on-screen result from the failed scan.\n. Sorry for the close+open thing: \u201cClose and comment\u201d was enabled, but simply \u201cComment\u201d was disabled, so that was the only way I\u00a0could leave my new comment\u2026\n. Thank you jflesh :-)\nI can't promise I'll be able to test from Git code, but I'll at least report as soon as I have tried version 0.1.3\u00a0!\n. The bug is still there. I first made sure that paperwork-0.1.3 worked without upgrading pyinsane. Then I upgraded pyinsane, and installed paperwork-0.1.3 anew (to be sure it was compiled against the right pyinsane). The on-screen error is the same; here\u2019s the stderr:\nhttp://yalis.fr/public/www/pw-ko2.err\n. Problem solved. I took the time to scan a dozen more documents before posting this comment because I had a strange occurrence while I tested the fix. Now I am sure, the strange one-time behaviour I saw was related to NFS; nothing to do at all with pyinsane of paperwork. Fix tested to my greatest satisfaction :-) Thanks again!\n. No it is version 0.1.2. I\u2019ll update to git version (Arch has either 0.1.2 or git). I\u2019ll let you know how it goes.\n. It works :-) Thanks\n. It might be interesting to also split the backend between a storage-backend, and a features-backend:\nGUI <-> features-backend <-> storage-backend\nThat would allow new user interfaces, such as a text-mode UI, or batch-scanning:\nnew UI <-> features-backend \u2026\nBut it would also allow easy creation of viewers, as the storage-backend would have very few dependences, or even none. So creating a viewer for Android would be easier, for example:\nviewer <-> storage-backend\nWell\u2026 Easier said than done, I realize. Do what you want/can. Paperwork is already very good :-)\n. In case someone is interested, I wrote a CLI+Web front-end:\nhttp://yalis.fr/cms/index.php/post/2016/01/21/Command-line-and-Web-Interface-for-Paperwork\nCheers,\n. If this feature does get included into a release, please make it optional.\nFollowing Paperwork\u2019s \u201cscan-and-forget\u201d logic, my papers are not sorted by date-on-the-paper, but by date-of-scan. My papers are a FIFO:\n1\u2014 I scan\n2\u2014 I put the paper on the FIFO\n3\u2014 I forget\n4\u2014 Any paper at the head of the FIFO, older than 10 years, gets discarded.\nIt seems to me, that this is exactly how Paperwork is intended to work, and the date-on-the-paper has no role here.\n. @akarzim I agree with you. You cannot compare first-time setup and regular usage, though. With this feature being optional, it could be enabled for the first-time setup, and then disabled for regular usage.\nBut then, you may disagree on the \"regular usage\" part. Well, to each their own ;-)\n. I suggest we add a big-data AI to Paperwork, and we crowd-feed it all the dates from all our \u201cwords\u201d-files, so that it learns\u2026 :-p\n. The more I think about it, the more I think that this bug is actually one particular case of the instability that I encounter with automatic tag detection\u2026\nSomewhat related to #345 \n. Hi! I\u2019m now running Paperwork 0.2.1. Paper scan is very stable.\nBut I\u2019m back to running while true; do paperwork; [ $? -eq 0 ] && break; done when I import PDF files: all my latest PDF invoices make Paperwork crash :-(\nIs there something I should try? Some information you need? Here is an example screen-log of the crash&restart (due to the while loop above):\nhttp://yalis.fr/f/h5hki9/\n. Being out of available PDF files that I usually import, I turned to PDF files from other sources: none made Paperwork crash! So it depends on the PDF creator after all\u2026\nBeing an Arch linux user, I don\u2019t have apt-get, nor do I have the packages you say. Still, I searched the repository and found python2-gdblib-git; I installed it but I\u2019m not sure it made any difference.\nI finally found a PDF that made the program crash. Here\u2019s the screen-log of the session:\nhttp://yalis.fr/f/wnoesw/\nFor comparison, here\u2019s now a screen-log for a working session (no crash):\nhttp://yalis.fr/f/zhlvp0/\n. Here\u2019s a PDF that makes my paperwork crash: http://yalis.fr/public/www/ko1.pdf\n(for some reason, image/pdf/\u2026 d\u2019n\u2019d in Write tab never works for me\u2026)\n. Indeed, file \u201cko1.pdf\u201d now works :-)\nThere is some improvement: today, only 1 PDF made paperwork crash out of 2 imported. I cannot post this one, but I\u2019ll post a new crashing PDF as soon as I spot a suitable one.\n. Here\u2019s the output when the crash occurs:\nINFO   paperwork.frontend.mainwindow  Import: file:///ici/home/yves/Desktop/FV201500540689.pdf\nINFO   paperwork.backend.docimport    Importing doc 'file:///ici/home/yves/Desktop/FV201500540689.pdf' ...\nINFO   paperwork.backend.pdf.doc      PDF: Importing 'file:///ici/home/yves/Desktop/FV201500540689.pdf'\nINFO   paperwork.frontend.mainwindow  Importing 1 docs and 0 pages\nINFO   paperwork.frontend.mainwindow  Showing document 20151113_2000_34\nINFO   root                           Showing page 20151113_2000_34 p1\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 4 elements displayed (4 additionnal)\n/ici/home/yves/.local/bin/paperwork.sh : ligne 5 :  4007 Erreur de segmentation  (core dumped)src/launcher.py\nCould the fact that my papers are on NFS be related to the issue?\n. extra/poppler 0.37.0-1\n    PDF rendering library based on xpdf 3.0\nextra/poppler-data 0.4.7-1\n    Encoding data for the poppler PDF rendering library\nextra/poppler-glib 0.37.0-1\n    Poppler glib bindings\n. Hi! You'll be happy to know that the issue is solved.\nWith branch \"stable\", I have imported 9 PDF files from 5 different sources, and everything was perfectly stable. Nice :-)\n. I can confirm that \u201cG\u00e9r\u00e9nale\u201d does not work for me. The difference in behaviour may be due to the fact that:\n\u2014 in your case, \u201cimp\u00f4ts\u201d was caught as a word by the OCR in the scanned pages, in addition to being a tag;\n\u2014 in my case, \u201cG\u00e9n\u00e9rale\u201d is part of the \u201cSoci\u00e9t\u00e9 G\u00e9n\u00e9rale\u201d tag, but does not otherwise appear in the page (there is the logo, the URL\u2026 and nowhere the \u201cSoci\u00e9t\u00e9 G\u00e9n\u00e9rale\u201d words).\n. Fix confirmed. It works now.\n. All true. It's just that I discarded these other causes for the crash because:\n\u2014 I did not have this problem with v0.1.x, and the obvious change since then is the automatic label guessing;\n\u2014 after a restart, the document is there, but without labels;\n\u2014 after the restart (with no label guessing at this stage), index and thumbnails are correctly updated.\nStill, I may be wrong.\nOn the other hand, while the automatic guess is sometimes uncannily spot-on (with 4 labels correctly guessed, eg: \"Me\" + \"Her\" + \"Our bank\" + \"Compte courant\"), other times it is plain wrong. My computer being almost 8 years old, removing 2 or 3 badly guessed labels is time-consuming.\nI did not have enough stable usage of the feature to see if there are more correct guesses or more wrong guesses. I suppose it would be wise to wait for this time before deciding if the option to disable the automatic guesses is needed or not.\nAnyway, Paperwork is still excellent. Also, thank you for the option to disable orientation guessing (much time saved).\n. Hi! Now running paperwork 0.2.1 (still in Arch Linux).\nI have doubts about automatic tags being the cause of the crash. I scanned many papers, and had not a single crash, although the guessed tags were wrong more often than right. I\u2019ll just let you decide if the performance issue explained on 2014-11-14 is enough for letting this request opened\u2026\nOn the other hand, all my PDF imports made Paperwork crash; most PDF are of the same sort, however (4 or 5 kinds of invoices). I\u2019ll rather reopen #339 for this.\n. Hum\u2026 For your information, #339 is not reopened because I don\u2019t seem to have the right to do so. I left a new comment, though.\n. I now run the stable branch from git.\nI am now sure that the automatic tag detection is not at fault for the crashes. My past months of Paperwork usage result in:\n\u2014 a 90% crash rate with PDF documents (sadly\u2026),\n\u2014 a 0% crash rate with scanned pages!\nAnd, truth be told, the automatic tag detection is awesome!\nWhile an advanced option to disable anything automatic for the benefit of edge cases would be good, I'm not sure about #345 any more. You may close it, or \"branch\" it, I guess\u2026\n. (Sorry, wrong button again. There's some ergonomic issue with these buttons\u2026)\n. With branch \"stable\", I saw that tag detection is mostly OK. Missing labels are frequent (this version seems to be more \"conservative\") but false labels happen much less frequently than before. Anyway, this isn't that much an issue any more, now that labels get updated (along with the date) only once, when the panel is validated.\nHowever, when the panel is validated, the index update (and consequently the refreshing of the document list) seems to be awfully long... But that's a different issue; I close the present one.\n. jflesch, mjourdan, I\u2019m impressed with the mockups, the quick adoption, and real improvements this brings!\nI post this only to comment about tags. While I agree with most of mjourdan\u2019s improvements, he/she seems to relegate tags to second-class objects in Paperwork, which may explain the focus on titles\u2026\nOf course, each person may use the software in a slightly different way, but IMHO tags are important, much like they can be on a blog or an email client software. (BTW, +1 for #362!)\nI like a lot the idea to start typing a tag and have it auto-completed and changed into an on-screen label with a delete-button. I have a question: what happens when several tags start the same? For instance, since one may not remember the exact spelling of a tag, it would be nice to have a list open just like in the web browser\u2019s search bar, with all tags matching \u201c*typed text*\u201d, case-insensitive and disregarding diacritics.\n. Some context first: I have 697 documents, and I currently use 51 tags, ranging from 5 tags being used only once so far, to 5 tags being used more than 150 times (max 338). On average 3 tags per document, which is consistent with my usage: tags for \u201cwho\u201d, \u201cwhat\u201d, \u201cwhere\u201d.\nIn my opinion, remembering the labels is not that much of an issue: I may not remember the casing, or the presence or not of accents, or the presence or not of an article before the noun, or the order of words in multi-word tags\u2026 but I doubt the number of tags will become such that remembering the key words will be a problem.\nMy wish to have a suggestion-list along with auto-completion would answer two needs:\n\u2014 the need to remember spelling, eg: I type \u201ckid\u201d and it provides me with \u201clivret \u20ackid\u201d,\n\u2014 the need find out existence, eg: I type \u201cFnac\u201d and it provides me with nothing, meaning no tag exists with this word.\nThere would need to be some place where all tags can be seen, though, for actions such as deleting obsolete tags, or renaming them.\nThat being said, the current presentation as a full list is OK as far as I\u2019m concerned, even though my list is longer than the window ;-)\n. Maybe scan and import just shouldn't stay together: import would go to the left, and scan would remain to the right.\n. Unless of course you intend to allow importing additional PDF content to an existing document\u2026\n. About the scanner and the preferences:\n\nI launch Paperwork, start my scanner, and try to scan a document.\nNothing happens, and I have to open the Preferences so that my device is detected.\nThis happens every time I launch Paperwork, and is uncomfortable, as my device is\nthe same for years now. At least, that was true by the time I wrote this.\n\nSame for me. Probably because it is an USB scanner, that I plug only when I need it, and it would get a different system ID each time\u2026\n. About the \u201cempty document\u201d thing:\n\nYeah, my point was we should always have a document selected, so that we have\nsomething to show, whether it is the last used, or a new empty doc (in which case\nwe would have a nice message saying \"this doc is empty, you can add pages blah\nblah\"). While it is confusing, I wouldn't say it's a blocking issue.\n\nI don\u2019t agree. I find nothing either unnatural or confusing about seeing an empty document. In the real world, there are empty folders; there are empty pages; there are empty notebooks\u2026 However, it is a really good idea to have a message like \u201cThis is a new, empty, document. You can import or scan new pages inside.\u201d\nAs for always having a document selected, I even more don\u2019t agree. When I start Paperwork, it is:\n\u2014 either because I will scan/imports new documents, in which case being on a new, empty, document is just perfect;\n\u2014 or because I have a search to do, and then I don\u2019t care at all what document was selected last time.\nCheers,\n. rel. scanner: I do have a \u201cscanner not found\u201d message. Maybe some heuristics using the scanner name instead of its ID if the ID is not found would solve the issue?\n. #403 should be solved for this feature to work.\n. Hi! I\u2019m using Arch Linux, with these installed:\ncommunity/tesseract 3.03rc1-3\ncommunity/tesseract-data-deu 3.02.02-5\ncommunity/tesseract-data-eng 3.02.02-5\ncommunity/tesseract-data-fra 3.02.02-5\nAnd Paperwork is set to \u201cFrench\u201d in the preferences.\n. Hi jflesch, thanks for your patience with my bugs :-)\nYou have probably pinpointed the problem: tesseract failure \u21d2 orientation bug \u21d2 OCR failure \u21d2 labels failure\u2026 Indeed, I do have the line you say, but those after are bad:\nINFO   paperwork.frontend.mainwindow.scan Will use tool 'Tesseract'\nINFO   paperwork.frontend.mainwindow.scan Failed to use OCR tool heuristic for orientation detection: 'module' object has no attribute 'can_detect_orientation'\nINFO   paperwork.frontend.mainwindow.scan Falling back on Paperwork's heuristic\n. pyocr upgraded from sources to v0.3.0. problem solved! Orientation and OCR now seem to work correctly, and the first result in auto-labeling seems good.\nThanks\n. \u201cReindex all documents\u201d allowed the document list to work again :-) At least, I\u2019ll be able to continue using Paperwork.\n. No problem: since the reindex and the newer pyocr, things have been going rather smoothly. Besides, the reindex is a workaround for this bug, so it is not blocking after all!\nI\u2019m sure I\u2019ll like 0.3.0 :-)\n. The circumstances for this bug are a bit peculiar, so I\u2019m not sure. Anyway, the bug did not happen again. I guess we can consider it closed.\n. Arch Linux. localectl:\nSystem Locale: LANG=fr_FR.UTF-8\n       VC Keymap: fr\n      X11 Layout: fr\nIn Gnome however, my primary keyboard layout is \u201cFran\u00e7ais (B\u00e9po, ergonomique, fa\u00e7on Dvorak)\u201d, and \u201cFran\u00e7ais\u201d is only my secondary keyboard layout.\nSystem is fresh from reboot, and paperwork has been reinstalled from sources just before reboot.\n. I doubt that the bug is specific to Arch, which is mostly made up of upstream latest releases of everything.\nHowever, this bug may very well be specific to my environment. I'll try and find the time to do some tests: fresh new user, different desktop environment, different locale settings\u2026\n. I'll need to look closer. I had the questions marks appear upon first opening the preferences panel, once, with the newer 0.3 version. I'll try and find a pattern\u2026\n. Here\u2019s the stdout/err from opening a first time (correct display), and then a second time (wrong display), the settings dialog:\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   paperwork.frontend.util        UI file used: src/paperwork/frontend/settingswindow/settingswindow.glade\nINFO   paperwork.frontend.settingswindow Distribution: []\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'fra'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'osd'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'deu'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'eng'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\n/ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/settingswindow/__init__.py:772: Warning: unable to set property 'xpad' of type 'guint' from value of type 'gchararray'\n  self.window.set_visible(True)\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\n/ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/paperwork.py:114: Warning: unable to set property 'xpad' of type 'guint' from value of type 'gchararray'\n  Gtk.main()\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 553ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.backend.config       Updating /ici/home/yves/.config/paperwork.conf ...\nINFO   paperwork.backend.config       Done\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopped\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   paperwork.frontend.util        UI file used: src/paperwork/frontend/settingswindow/settingswindow.glade\nINFO   paperwork.frontend.settingswindow Distribution: []\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'fra'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'osd'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'deu'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'eng'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\nINFO   paperwork.backend.config       Updating /ici/home/yves/.config/paperwork.conf ...\nINFO   paperwork.backend.config       Done\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopped\nI notice that these lines only appear the first time:\n/ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/settingswindow/__init__.py:772: Warning: unable to set property 'xpad' of type 'guint' from value of type 'gchararray'\n  self.window.set_visible(True)\n/ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/paperwork.py:114: Warning: unable to set property 'xpad' of type 'guint' from value of type 'gchararray'\n  Gtk.main()\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 553ms and is unstoppable ! (maximum allowed: 500ms)\n. Fair enough :-)\nI can\u2019t say I like this format a lot (shared libraries are good IMHO), but it is an interesting approach nonetheless\u2026\n. Good news: since the switch from stable release 0.x to stable release 1.x, the problem is gone.. I\u2019ve read #374; not the same. I have the spinner icon (I see it during orientation detection), and I don\u2019t see any alarming message in the terminal, from the time I click the Scan button to the time when paperwork is idle again. Besides, The right side is \u201cblank\u201d (actually a blank A4 page is displayed) only during preview; afterwards, I see the 4 orientation-thumbnails, and then the full scanned page.\n. \u2014 Epson Perfection 1650 (~ 15yr-old)\n\u2014 Using either the \u201cepson\u201d driver (seen as \u201cPerfection 1650\u201d), or the \u201cepkowa\u201d driver (seen as \u201cGT-8200\u201d iirc), it works with both xsane and iscan; I had it working with simple-scan some time ago but I removed this software.\n\u2014 Up-to-date Arch Linux (no version).\n. This has been fixed in the 0.2 branch (stable) for at least a couple weeks. Thanks.\n. FYI, the problem reappeared for a while, but it disappeared again with the switch to version 0.3. I thus leave this closed.\n. The above fix works. Thanks.\n. Please forgive the newbie question\u2026 What is the proper way to upgrade when the install was done following the instructions there:\nhttps://github.com/jflesch/paperwork/blob/stable/doc/install.devel.markdown#paperwork-in-a-python-virtualenv\nShould I run the above command after having run source bin/activate, or not?\n. I tested. The issue is solved. Thank you.\n. 1\u00ba\nINFO   paperwork.frontend.mainwindow  Searching: [\"\"\" label:Yves AND label:\"Soci\u00e9t\u00e9 G\u00e9n\u00e9rale\" AND label:\"livret A\" \"\"\"]\nERROR  paperwork.frontend.util.jobs   ===> Job Search:55 raised an exception: <type 'exceptions.UnicodeDecodeError'>: 'ascii' codec can't decode byte 0xe2 in position 7: ordinal not in range(128)\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nERROR  paperwork.frontend.util.jobs    0: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/util/jobs.py: L  178: _run\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nERROR  paperwork.frontend.util.jobs    1: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/mainwindow/__init__.py: L  518: do\nERROR  paperwork.frontend.util.jobs    2: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/backend/docsearch.py: L  762: find_suggestions\nERROR  paperwork.frontend.util.jobs    3: build/bdist.linux-x86_64/egg/whoosh/spelling.py: L   66: suggest\nERROR  paperwork.frontend.util.jobs    4: build/bdist.linux-x86_64/egg/whoosh/spelling.py: L  111: _suggestions\nERROR  paperwork.frontend.util.jobs    5: build/bdist.linux-x86_64/egg/whoosh/reading.py: L  536: terms_within\nERROR  paperwork.frontend.util.jobs    6: build/bdist.linux-x86_64/egg/whoosh/reading.py: L  241: expand_prefix\nERROR  paperwork.frontend.util.jobs   ---> Job Search:55 was started by:\nERROR  paperwork.frontend.util.jobs    0:      src/launcher.py: L   27: <module>\nERROR  paperwork.frontend.util.jobs    1: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/paperwork.py: L  111: main\nERROR  paperwork.frontend.util.jobs    2: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/util/actions.py: L   66: on_entry_changed_cb\nERROR  paperwork.frontend.util.jobs    3: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/util/actions.py: L   57: __do\nERROR  paperwork.frontend.util.jobs    4: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/mainwindow/__init__.py: L 1392: do\nERROR  paperwork.frontend.util.jobs    5: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/mainwindow/__init__.py: L 3422: refresh_doc_list\nERROR  paperwork.frontend.util.jobs    6: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/util/jobs.py: L  247: schedule\nINFO   paperwork.frontend.util.progressivelist List 'documents' : 0 elements displayed (0 additionnal)\n2\u00ba\nINFO   paperwork.frontend.mainwindow  Searching: [label:Yves label:\"Soci\u00e9t\u00e9 G\u00e9n\u00e9rale\" label:\"livret A\"]\nERROR  paperwork.frontend.util.jobs   ===> Job Search:54 raised an exception: <type 'exceptions.UnicodeDecodeError'>: 'ascii' codec can't decode byte 0xe2 in position 7: ordinal not in range(128)\nERROR  paperwork.frontend.util.jobs    0: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/util/jobs.py: L  178: _run\nERROR  paperwork.frontend.util.jobs    1: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/mainwindow/__init__.py: L  518: do\nERROR  paperwork.frontend.util.jobs    2: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/backend/docsearch.py: L  762: find_suggestions\nERROR  paperwork.frontend.util.jobs    3: build/bdist.linux-x86_64/egg/whoosh/spelling.py: L   66: suggest\nERROR  paperwork.frontend.util.jobs    4: build/bdist.linux-x86_64/egg/whoosh/spelling.py: L  111: _suggestions\nERROR  paperwork.frontend.util.jobs    5: build/bdist.linux-x86_64/egg/whoosh/reading.py: L  536: terms_within\nERROR  paperwork.frontend.util.jobs    6: build/bdist.linux-x86_64/egg/whoosh/reading.py: L  241: expand_prefix\nERROR  paperwork.frontend.util.jobs   ---> Job Search:54 was started by:\nERROR  paperwork.frontend.util.jobs    0:      src/launcher.py: L   27: <module>\nERROR  paperwork.frontend.util.jobs    1: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/paperwork.py: L  111: main\nERROR  paperwork.frontend.util.jobs    2: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/util/actions.py: L   66: on_entry_changed_cb\nERROR  paperwork.frontend.util.jobs    3: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/util/actions.py: L   57: __do\nERROR  paperwork.frontend.util.jobs    4: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/mainwindow/__init__.py: L 1392: do\nERROR  paperwork.frontend.util.jobs    5: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/mainwindow/__init__.py: L 3422: refresh_doc_list\nERROR  paperwork.frontend.util.jobs    6: /ici/home/yves/.local/opt/paperwork-stable/paperwork/src/paperwork/frontend/util/jobs.py: L  247: schedule\nINFO   paperwork.frontend.util.progressivelist List 'documents' : 14 elements displayed (14 additionnal)\n. The problem seems to be gone. The same search as in the top post returns only relevant results.\n. Sorry, I should have done just that right away. I\u2019m using Arch Linux. Paperwork is from Git (not a distribution package) in a virtualenv. Pillow is a package, however.\nI diff\u2019ed a normal run (pillow 0.2.9) and an abnormal one (pillow 3.0.0), and the difference is this:\n*** BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nFull log: http://yalis.fr/public/www/pw%2bpillow300.log\nScreenshots with Pillow 2.9.0:\n\u2014 thumbnails: http://yalis.fr/public/www/pw%2bpillow290_4pic.jpg\n\u2014 full page: http://yalis.fr/public/www/pw%2bpillow290_full.jpg\nScreenshots with Pillow 3.0.0:\n\u2014 thumbnails: http://yalis.fr/public/www/pw%2bpillow300_4pic.jpg\n\u2014 full page: http://yalis.fr/public/www/pw%2bpillow300_full.jpg\n. Bug is still there in \u201cstable\u201d. Would \u201cunstable\u201d be mostly ok for daily usage?\n. My opinion: I don\u2019t agree. I find nothing either unnatural or confusing about seeing an empty document. In the real world, there are empty folders; there are empty pages; there are empty notebooks\u2026 However, it is a really good idea to have a message like \u201cThis is a new, empty, document. You can import or scan new pages inside.\u201d\nAs for always having a document selected, I even more disagree. When I start Paperwork, it is:\n\u2014 either because I will scan/imports new documents, in which case being on a new, empty, document is just perfect;\n\u2014 or because I have a search to do, and then I don\u2019t care at all what document was selected last time.\n. Hum. This is a tough usability/ergonomic issue. While I'd tend to agree with you at first, this would lead to an incoherency between an empty document at the start, and no empty documents after that.\nAs things are now, bug #403 notwithstanding, I can fire up Paperwork and hit the Scan button right away. Changing that would be a shame. But this implies:\n\u2014 either an \"empty document\" concept,\n\u2014 or a \"Scan into new document\" button.\n. Indeed. Yet I agree that 2 \"Scan\" buttons is not a good idea. Maybe the solution is to shift the focus from the action to the wanted result. For example:\n\u2014 on the left, there would be a button+drop-down\n[New Document (from scanner lid)] [\u2193]\n            | (from scanner feeder) |\n            | (from file)           |\n\u2014 on the right, for non-PDF documents, there would be a button+drop-down\n[New Page (from scanner lid)] [\u2193]\n        | (from scanner feeder) |\n        | (from file)           |\n. Agreed. All things considered, this a minor issue. 0.3.0 is perfectly usable without solving #399.\n. In version 0.2.x, there is currently a color picker ;-)\n. Statistics\n==========\nTotal number of documents: 1234 (332 of which are PDF documents)\nTotal number of pages: 2819\nTotal number of words: 558583\nTotal words len: 3929706\nTotal number of unique words: 67017\n===\nMaximum number of pages in one document: 86\nMaximum word length: 222\nAverage word length: 7.035134\nAverage number of words per page: 198.149344\nAverage number of words per document: 452.660454\nAverage number of pages per document: 2.284441\nAverage number of unique words per document: 247.160454\nAverage accuracy of label prediction (global): 98%\nAverage accuracy of label prediction (positive): 84%\nAverage accuracy of label prediction (negative): 99%\nFYI, I noticed that the bug happened mostly after I changed the date of a document from the present day (the day when the document is scanned) to a long past date (between 2008 and 2013 usually).\nNext time I scan documents, I\u2019ll upgrade, and I\u2019ll let you know if the bug is gone. Thanks.\nBy the way, the bug is not blocking. I can quit&relaunch Paperwork and continue my work\u2026\n. Sorry, wrong button :-/\n. With latest stable code git-pull'ed, the problem seems to be gone. I don't know if this is through a commit you made, or thanks to a system update, but I don't have the error any more. Nice :)\n. I'm sorry I have to reopen this. The problem is still there. I could reproduce it again and again by trying to run the OCR on a >20-page document from a PDF file, and failing each time.\nThe issue is with ulimit's max opened files, the default value of which was 1024 on my system. By looping over ls -1 /proc/<pid of python>/fd | wc -l, I could see the value mostly grow and sometimes decrease a bit as OCR ran page after page. Paperwork stopped OCR'ing and threw an ERROR exactly when the above command showed 1024.\nI also noted that:\n\u2014 the above counter tended to soar while OCR'ing full-page tables with plenty of cells;\n\u2014 the counter tended to stay high after an OCR finished, instead of coming back to its initial value.\nI ended up rebooting, after having changed the ulimit's hard and soft limits to 8192. Then I was able to run the OCR on this PDF file.\n@jflesch Je ne souhaite pas publier ce fichier PDF car il contient des noms de copropri\u00e9taires, mais tu peux me le demander par mail \u00e0 l'adresse pw_jf at yalis.fr.\n. Probably related to #142.\n. Perfectly understandable ;-) Thanks for the fix, and the partial backport!\nHow would you rate the \u201cunstable\u201d branch for daily usage involving important documents?\nI\u2019m perfectly aware that no program can be considered fail-safe, and I do have backups. What I wish to know is if the differences in \u201cunstable\u201d make it more likely than \u201cstable\u201d to silently loose documents, or not.\nSaid differently, I\u2019m completely willing to use unstable as long as basic operation is possible, even if that means having more bugs and reporting them, but I don\u2019t want to loose documents without noticing\u2026\nWhat do you think?\n. Might be related to #103.\n. 1\u00ba Full log of one landscape-page scan, which ends up upside-down:\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nINFO   paperwork.frontend.util.config Will scan using epson:libusb:003:003\nINFO   paperwork.frontend.util.config Will scan at a resolution of 300\nINFO   paperwork.frontend.util.config Will scan using source Flatbed\nINFO   paperwork.frontend.util.config Scanner mode set to 'Color'\nINFO   paperwork.frontend.mainwindow  Showing document 20151113_2033_31\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.mainwindow.scan Scan started\nINFO   paperwork.frontend.util.canvas.drawers Drawer: Target area: (16, 0) ((622, 859)) << (16, 0) ((621, 859))\nINFO   paperwork.frontend.mainwindow.scan Scan done\nINFO   paperwork.frontend.mainwindow.scan Will use tool 'Tesseract'\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 0: (16, 0) (621, 859) -> (65, 71) (196, 287)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 90: (16, 0) (621, 859) -> (393, 71) (196, 287)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 180: (16, 0) (621, 859) -> (65, 501) (196, 287)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 270: (16, 0) (621, 859) -> (393, 501) (196, 287)\nINFO   paperwork.frontend.mainwindow.scan Detected orientation: 90\nWARNING paperwork.frontend.util.jobs   Job OCR:0 took 7510ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.mainwindow  Showing document 20151113_2033_31\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   root                           Showing page 20151113_2033_31 p1\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 1 elements displayed (1 additionnal)\nINFO   root                           Showing page 20151113_2033_31 p1\nINFO   paperwork.frontend.util.actions Action: [Show a page (selected from the page thumbnail list)]\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 1 elements displayed (1 additionnal)\nINFO   paperwork.frontend.mainwindow  Image view port resized. (655, 859) --> (651, 859)\nINFO   root                           Showing page 20151113_2033_31 p1\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.backend.docsearch    Fitting estimator with doc: 20151113_2033_31 \nINFO   paperwork.backend.docsearch    Indexing new doc: 20151113_2033_31\nINFO   paperwork.backend.docsearch    Fitting estimator with doc: 20151113_2033_31 \nINFO   paperwork.backend.docsearch    Index: Commiting changes and saving estimators\nINFO   paperwork.backend.docsearch    Index: Reloading ...\n2\u00ba Tesseract\n3\u00ba Yes: \u201cfra\u201d\n. community/tesseract 3.04.00-2\n    An OCR program\ncommunity/tesseract-data-deu 3.04.00-1 (tesseract-data)\n    Tesseract OCR data (deu)\ncommunity/tesseract-data-eng 3.04.00-1 (tesseract-data)\n    Tesseract OCR data (eng)\ncommunity/tesseract-data-fra 3.04.00-1 (tesseract-data)\n    Tesseract OCR data (fra)\n. Note that there was no issue with the filename while importing this file on its own. The problem seems to be a discrepancy in filename-handling between the method used for listing a directory's contents, and the method used for accessing one entry.\n. @Harmut Eilers: My question may be a bit obvious, but did you try to calibrate the scan area in the settings?\n. Yes, now with unstable, I get my labels, whether I remove ~/.local/share/paperwork or not.\nHowever, I immediately gave up using unstable, because it is too much\u2026 well\u2026 unstable ;-)\nKeep up the good work, I'll open some feature-requests, based on my short observations.\n. I admit that this point of view is sensible.\nHowever, importing many old documents into Paperwork will be a pain\u2026 unless there is a fix to the #214 feature request ;-)\n. Thank you!\n. ownCloud will probably never support symlinks (I asked), because this is a limitation of webdav.\nI completely share mathieumd's need, although I'm happy so far with ssh+grep. Still, I think that a web front-end is the right solution. I actually thought about doing just this: a paperwork-only grep frontend on the web: enter keywords/labels, hit button, get links to relevant directories, download jpg/files\u2026 I may do this if no better alternative exists.\n. Windows does support symlinks with NTFS, although the user-land tools to manipulate them are not widespread (you have to download them on MS\u2019 site). Still, for anyone wishing to synchronize their documents, or backup in the cloud, mandating symlink support is risky, to say the least.. In case someone is interested, I wrote a CLI+Web viewer front-end:\nhttp://yalis.fr/cms/index.php/post/2016/01/21/Command-line-and-Web-Interface-for-Paperwork\nCheers,\n. @trenkert:\n1) Considering how this application works, I fail to see what you would call the \"name of a document\". I see no way for Paperwork to deduce this information. Does this mean that you're willing to give a \"title\" to each document, in addition to the auto-found words, and in addition to the labels, and in addition to the keywords you may already add? If so:\n- What enhancement in usability would you expect from the displaying of the title, in addition to the date and labels that are already displayed?\n- What use cases would the title allow, that the current interface does not?\nNote: I don't develop Paperwork; I'm just a heavy user of it, who got very interested in Paperwork\n. I already had this problem in the past: #405.\nIn the end, I created a file named /etc/security/limits.d/00-tYYGH.conf with this contents:\n* soft nofile 8192\n* hard nofile 8192\n. Tested. Confirmed. That was Gnome\u2019s fault.\nThe same day I git pull\u2019ed, I remote-displayed Paperwork on a laptop. When I opened Paperwork again and adjusted the window\u2019s size, I guess I made it a bit bigger than it formerly was, which probably triggered Gnome\u2019s \u201cfeature\u201d\u2026\n. See also #412 (same use-case)\n. Great!\nIs there a reason why Ctrl+F3 was chosen for the previous occurrence, whereas Shift is usually used to reverse the search?. @diorcety I\u2019m afraid your scheme won\u2019t work for people who use several tags (or sometimes none) per document.\n@jflesch rel. an idea, I have one; not sure if it is \u201cgreat\u201d :-D There could be hooks in Paperwork, like eg (pseudo-code):\nvoid post_add(id, labels[], words[], extra)\nvoid post_modifiy(old_id, new_id, old_labels[], new_labels[], old_words[], new_words[], old_extra, new_extra)\nvoid post_delete(id)\nThen anyone with a bit of python knowledge could mirror their documents the way they want (by tag, by date\u2026), where they want (a DMS, the cloud\u2026).. Good idea. It\u2019s like what the video editors do: they do not alter the sources, but remember instead what must be applied to the sources, and when, to produce the result.. Agreed!. My WM is Gnome 3 in Arch Linux, launched from lxdm, hence X11-based, AFAIK. As for the controls, I have not changed the defaults, except that I use Win+Up/Down to switch desktops, instead of Ctrl+Alt+Up/Down. Apart from that, the only global keyboard shortcut I have configured is within Tilda: Shift+F1 toggles the overlay-terminal.\nThat said, I do use Ctrl a lot: Ctrl+R, etc. in the terminal, Ctrl+click in FF to open a tab, and so on\u2026. I\u2019ve just read your commit, and from the code I can see how I could indeed trigger my issue by opening Tilda while the focus is on Paperwork. Oh, and I have focus-follows-mouse, too. This may be another cause.\nThanks :-). I would appreciate:\n\u2014 a list of most-accessed (most clicked-on) documents (there is for example \u201c\u00c9ch\u00e9ancier\u201d (FR) documents that I read every month)\u00a0;\n\u2014 a list of the most-used searches.. As far as I\u2019m concerned, I do want to see the document list on launch, even though I am interested in a welcome screen\u2026 in the right panel.\nViewing the document list tells me at a glance what are the last 10 or so documents that I imported, and which of these are from real papers (ie. on my paper stack), compared to those that came through e-mail.. +1 @tiramiseb. Happy New Year!\n@mjourdan I like your second Overview Pane mockup better, because it is inside the window, and the window is probably already on the left side of the screen, if not maximized. The first mockup would either have the new Pane appear partly out of view, or shift/resize the window unnecessarily.\nSome questions:\n Is the intent to have this Overview Pane showing at start-up, or would it be visible only if the user clicks the top-left button? In the latter case, there is no welcome screen, is there?\n Any reason why you decided not to use the document-area after all? It is big, and empty at launch. That said, I can see how it would kind-of misuse the area for something it was not intended for, with obvious consequences if we want to show the Overview again after some usage, and the document-area is not empty any more \u2026\nRel. \u201cA few numbers about what is in store would be nice\u201d, I suppose you would like some stats from some users; here are mine: 2210 documents, spanning 25 years; 57 labels, with 12 being used less than 10 times (min. 1), 17 being used more than 100 times (max. 762); 25 documents with no labels, 202 with 1 label, 704 with 2 labels, 886 with 3 labels, 385 with 4 labels, 8 with 5 labels.. As I see things, this new panel is interesting, but it is not part of a \u201cleft-to-right\u201d relationship, if you see what I mean. For example, the \u201cright\u201d document panel is linked to the \u201cmiddle\u201d one: the page displayed on the right is part of the document that is selected in the list; but the \u201cmiddle\u201d list is not linked to the \u201cleft\u201d (new) panel: there is no concept of current element in the new \u201cleft\u201d pane.\nIn my eye, this rules out variants 1 to 3.\nAlthough I do not like variant 4 much, for the reasons given by @mjourdan, it does have some merit: the current state of the \u201cleft\u201d panel becomes implicit in the fact that we kind-of entered an item in that panel, much like we enter a directory in Nautilus. This is symbolized by the left-pointing arrow at the corner of the window, which indicates that the displayed list is in accordance to the item that was selected on the parent pane (although there is no indication of which that is), much like the details of a document, in the details panel, are in accordance to the document that was clicked on, on the previous panel (the list).\nIn short, it is at least somewhat consistent.\nThis leaves variants 5 to 7, which I like better. However, variants 6 and 7 seem to imply the kind of relationship already found in variants 1 to 3, which is IMHO non-existent.\nMy all-favourite is thus variant 5.\nFrom my point of view, this new pane is nothing more than a \u201cnew-age\u201d menu. Sure, it is dynamic, but that is nothing new (numerous software give access to the list of recent documents, for example).\nFor this reason, I would ask one question (all the more since there are actual menu items in this panel): why not make this panel the Gnome menu?. @tiramiseb Yes, that\u2019s the menu I was referring to: the unigue application menu in the black Gnome3 top-bar. (btw, may I know why you\u2019re against it?). @jflesch :\n4: the new panel and the current left panel alternate: it is one or the other, at the exact same location.\n7: the new panel is hidden on the left, and slides out from the left, pushing the current left panel 2/3 of its width to the right, where it slides under the right panel\u2026 more or less\u2026\nI don\u2019t remember the current transition from list to document details (this is the same kind of transition), but if it is a sliding thing, then your comment is right: it just slides 100% instead of 66%.. I wish to defend the \u201csmall screen\u201d camp! I use quotes because in truth, I\u2019m not that much interested in small screens, but\u2026\nI very often need to have Paperwork opened next to another window (email, web, accounting\u2026), because these documents are not an end in themselves; they are documents related to:\n bank accounts that eventually need to be reconciled,\n commercial services (phone, utilities\u2026), the web sites of which make no effort in tracking what was already downloaded (they all wish to be your primary storage\u2026),\n quotations submitted to you, for which you are expected to give an answer,\n documents you need to refer to, while placing an order\u2026\nIt is thus very important to me, that Paperwork works in a width equal to between \u00bd and \u00be of the screen width, ie. roughly 800 pixels or more.. > Yeah, for that reason, or to better focus on the content, I am thinking also about hidding the document list too. I made a wireframe with a popover to switch between layouts, but I worry the extra popover would be a bit cumbersome.\nI like it, with a preference for the first popup, and with a condition: Paperwork would have to remember the layout between restarts (much like a mail client remembers your preference between 2-pane or 3-pane, and vertical or horizontal).\nYour UI idea gave me another idea, without a pop-up, although I do not remember having seen such a thing\u2026 What about an \u201chorizontal accordion button/switch\u201d? It would be located where you put your own button, and would behave as a mix between this:\nhttps://www.pegasusautoracing.com/images/M/1068-105.JPG\nand this:\nhttps://www.storepascher.com/317-large_default/store-bateau-tamisant-taffetas.jpg\nAnd it would reflect in real-time the panes being shown\u2026. @mjourdan , not quite\u2026 It sure is not easy to describe, but it would IMHO be easy to understand.\nLet me explain differently. You see, those rolled rulers several meters long?\neg: https://i2.cdscdn.com/pdt2/2/1/4/1/700x700/46214/rw/metre-ruban-3-m-x-16-mm.jpg\nWhen only 1cm is out, you only see the 1st cm.\nIf you pull 1 more cm, you see the 1st cm, and the 2nd cm.\nIf you pull 1 more cm, you see the 1st cm, and the 2nd cm, and the 3rd cm.\nNow imagine, when you release the ruler back into its box, the cm do not actually disappear, but instead \u201cfold\u201d like https://www.storepascher.com/317-large_default/store-bateau-tamisant-taffetas.jpg, so that a tiny bit remains visible to remind us of their existence.\nLet \u201c\u00a6\u201c be a vertical separation in the widget, and let \u201c\u21c2\u201d be a handle for the mouse to drag, and let \u201c|+\u2014\u201d be the window panels\u2019 borders. We would have:\nOne area visible:\n+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n| \u00a6\u00a6\u00a6Page\u21c2\n+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n|\n|   The Page area\n|\nTwo areas visible:\n+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n| \u00a6\u00a6List\u00a6Page\u21c2\n+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n|               |\n| The List area | The Page area\n|               |\nThree areas visible:\n+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n| \u00a6Find\u00a6List\u00a6Page\u21c2\n+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014+\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n|               |               |\n| The Find area | The List area | The Page area\n|               |               |. Nice! Although this does not exactly correspond to the user experience I was trying to convey in my comment, it is still interesting. Thank you @mjourdan. I would make some changes:\n\nIn order to bring consistency between the simple view mode, and the search mode, I wouldn\u2019t collapse/restore the labels to hide/show panes. Instead I would underline/or not. In addition to be more consistent, this would allow to:\nget rid of the useless \u201cPaperwork\u201d label next to the first icon,\nlet the informative labels (\u201cAll papers\u201d and \u201c2018-04-28\u201d in your example) be shown, whether the pane is here or not.\nI wouldn\u2019t make the search react instantaneously, but would for example delay it to 500ms after no key has been pressed. On my computer, the current \u201cimmediate\u201d behaviour feels very sluggish.. @mjourdan Very good ideas (manual document, stick 1st doc to bottom in list, etc.)!\n@jflesch This document may very well be a real document, copied-pasted from /usr/share/paperwork/\u2026 on the fly when Paperwork is launched on an empty/inexistant documents folder, or when Paperwork is switched to such a folder in the config panel. Then the user could read it whenever they want just like any other document, and ultimately delete it when they decide they understand everything.. The French document has English screenshots; apart from that, it is a good introduction, with a subtle humoristic touch.\nAbout the above picture, I just do not get the meaning\u2026 What is the intended message?. intro-with-notes.pdf\nNow the English document. I added some notes where the sentences seemed wrong to me; keep in mind that I\u2019m French too, though ;-) I only wrote notes for the most obvious things. Some sentences I wouldn\u2019t have written quite this way\u2026 but they may still be OK so I said nothing\u2026. @jflesch The software is simply evince ;-) I\u2019m a Gnome3 user\u2026 these days.. rel. picture. I now see why I did not understand it.\n\nThe way I see it, a big pile of paper is what I have now, when using Paperwork, and that\u2019s OK because this big pile is stored to be almost never retrieved again. When I need a document, I go to the computer instead.\nWhat I had before was rather:\n1\u00ba many labelled folders so that the many papers are mostly sorted, in case I need to retrieve one; and some of these folders got so big, so fast!\n2\u00ba cardboard boxes where I archived the contents of the folders when they got too fat; but these boxes where so hard to get to, hidden behind a layer of dust\u2026\n3\u00ba several smaller piles of paper scattered around the flat, each pile a number of papers that I intended to:\n\u2014 take care of, soon\u2026 and papers got forgotten, and payments got late, and so on;\n\u2014 or put in the right folder, as soon as I made room inside, which would happen as soon as I found the time to transfer the old contents in the cardboard boxes.\nIn short, I used to get the feeling that I lived in Gaston Lagaffe\u2019s late-mail room, and now I just have this one big stack (conceptually)\u2026 and the computer!. @jflesch The Archlinux package maintainer wrote:\n\nI am going to skip the 1.0.6.1 release because only the paperwork-gui version has been updated but not the paperwork-backend. This would force me to put two different version numbers in the PKGBUILD, and I don't think it is worth the effort for the only improvement to display the correct version number in the about screen :-) [1] I'll wait the next release 1.0.7 to re-synchronize everything.\n[1] https://github.com/jflesch/paperwork/commit/2de2178341d67431ae482f07850313c8566d1166\n\nWell\u2026 I will download the newer version, although seeing the commit history I doubt it will change much.. I don\u2019t know if this is still relevant\u2026 Anyway: yesterday, I had new papers to scan, and once again \u201cMutuelle\u201d got added to my first scan (alongside the correct label). On a hunch, I decided to run \u201cR\u00e9indexer tous les documents\u201d (French) from Paperwork\u2019s Gnome menu. This made the problem disappear :-). One possibility:\n include in PW a null-page resource (maybe a 1x1 white pixel) that will get copied whenever a \u201cfuture-page\u201d is to be generated;\n on a new document, propose in the GUI  \u201cScan odd pages from feeder\u201d, that will scan the pages as odd pages, and copy the null-page resource as a new even page before appending any new odd page (so last page is odd);\n* on an existing document, propose in the GUI \u201cScan even pages from feeder\u201d (or maybe \u201cScan other pages from feeder\u201d\u2026), that will replace each null-page resource occurrence as it appears, and may go beyond the former end of the document.\nThis manner of doing would further be compatible with a \u201cauto-remove of blank pages\u201d, in case such a feature appears in the future.. +1 @jflesch \nNotifications\u2019 purpose is to let the user know of unexpected or unpredictable events, or just the end of a long process (video rendering, printing, etc.)\nExporting is none of the above; a notification would just be annoying.\nIMHO, even a pop-up would be annoying. I\u2019d rather see a progress bar that gets replaced by a \u201cDone!\u201d message. As far as I\u2019m concerned, Firefox\u2019 download arrow\u2013icon has just the right balance of information and discretion.. It\u2019s good :-). No problem ;-) I sympathize.. Well done! Thanks \ud83d\udc4d . My paperwork comes from AUR, and I have nothing missing. So it is probably a missing dependency on the AUR side, not a bug with Paperwork.. By design, PDF imports are not changeable. While this should remain true in the future, a workaround is being thought of: #495 . @jflesch I have a redraw problem that could be related, eg. after I change the labels of a document, after I scan a new page, after a search is finished\u2026\nAlways, I get the document list back by switching the focus to another window and back to Paperwork (which is a simple mouse movement for me as I use focus-follows-mouse).\nIconifying then restoring the window does not work; I guess Gnome keeps the window state in cache in this case and does not actually send redraw events\u2026. It could indeed be the first step to a whole new set of features based on \u201clayers\u201d/shares. Eg.\n\njust like in ownCloud each user could have their own papers rw, and also see papers shared by other users, either ro, or rw;\nor there could be a layer of documents shared by all users, and another layer of personal documents\u2026. IMHO, this is not Paperwork\u2019s role.\nI\u2019ve been thinking about recurrent documents too, and I think a calendar is more suited to this task.\n\nHowever, Paperwork could be a given (configured) calendar\u2019s client, in CardDAV protocol: alongside the labels, there could be the list of expected papers (= non-acknowledged events); if the user validates the date/labels/events tab after having checked some events, these events become acknowledged on the server.\nEg:\n===================+==================================\u2026\n  +----------+-+   :\n  |2017-04-18|V|   :  /-------------------------------\u2026\n  +----------+-+   :  | Electricity INVOICE, 2017-04-17\n===================+  |\n  | | label1       :  | bla\n  |x| label2       :  | foo\n  | | label3       :  | bar\n===================+  | \u2026\nExpected:          :  |\n  | | 2017-04-15   :  |  <== YOU CHECK THIS BEFORE\nmonthly electricity:  |      VALIDATING THE LEFT PANE\n  | | 2017-04-20   :  |\nmonthly bank report:  |\n  | | 2017-06-30   :  |\nyearly insurance   :  |. Good points\u2026 I sometimes forget that I\u2019m not the average user :-p. Would a statistics-based solution be possible? I\u2019m thinking of patterns. Eg, Paperwork would see that:\n\neach month between the 1st and the 5th, there has been a document with words \"income\" \"employer\" \"employee\"\u2026;\neach month between the 14th and the 20th, there is a document with words \"mobile\", \"invoice\"\u2026;\neach year between march and april, there is a document with words \u201ctax\u201d, \u201cincome\u201d, \u201cdeclaration\u201d\u2026\n\nAnd for each pattern, Paperwork would display a warning for the duration of one period (a month for monthly documents, etc.) during the first period where an expected document has not appeared; after that, the warning would disappear because it may be that you resigned from a contract\u2026. I don\u2019t really understand what the problem is\u2026\nI already use Paperwork off the network. My papers are stored on an NFS mount point. And I already have 2 computers (a desktop and a laptop) reading these papers (in addition to my web viewer). Each computer maintains its own ~/\u2026 cache folder, and updates it when starting.\nI don\u2019t use Windows, but I\u2019m pretty sure that mounting papers on E:\\ on one computer and on H:\\ on another computer is not a problem, as long as each computer has its own cache folder, and uses always the same letter.. Having Paperwork appear as a printer is probably possible outside of Paperwork with only cups+gs configuration files (on Linux).. Hi! FWIW, I\u2019m the Archlinux user who reported the 2 issues ;-)\nUnfortunately, I\u2019ll be away for the next 14 days, but after that, if some things need to be tested, I can help. Cheers,\nY.. @kmkmahesh Paperwork can import images. You do not have to have a PDF.\nIf you do want a PDF, then convert can do that for you ;-). Not a bad idea. There is indeed probably a great chance that the barcode contents will be a great hint as to the tags to apply.. Thanks for the quick answer, @jflesch !\nI forgot to mention that neither issue is new. I\u2019m even almost 100% sure that both date back from before version 3.. Thanks @jflesch, this is much appreciated!\nI noticed that when I add/remove/modify labels, I often notice regressions in the quality of label-guessing. I suppose your patches will improve the situation :-). I occasionally browse Paperwork\u2019s files because it is much faster than opening Paperwork. In this situation, having original filenames would help.. lol. Yes, you are right. But to be fair, much of the fault is on my side: my Papers folder is on NFS (1GB/s LAN, but still\u2026). See also https://github.com/openpaperwork/paperwork/issues/548#issuecomment-383544821\nJust to say that the screen resolution is not always the window size ;-)\n(Which is why I am so annoyed when Gtk applications like Evince get wider and wider each time\u2026). While the idea is interesting, it would need to be associated with a per-document \u201cOCR-lock\u201d feature, so that the \u201credo all OCR\u201d feature does not overwrite all the carefully edited texts.. I can confirm that Paperwork is not optimized for big documents. My stats are such:\n\u2014 3 documents with >100 pages (max 158 pages)\n\u2014 63 documents with 16\u201399 pages (evenly distributed along the range)\n\u2014 102 documents with 7\u201315 pages (evenly distributed along the range)\n\u2014 118 documents with 5\u20136 pages\n\u2014 2437 documents with 1\u20134 pages (decreasing, starting with half of these having only 1 page)\nWith these stats, Paperwork remains usable. But whenever I open one of the 3 big documents, I get a temporary freeze\u2026. ",
    "tiramiseb": "I think storing data in a SQLite database is more than necessary : Reading my documents lists (444 docs, 1247 pages) takes approx. 15 seconds, and I still have dozens of documents to add !\nI suggest putting the database in ~/.local/share/paperwork/cache.db.\nWhen starting Paperwork, it would only need to check documents mtimes to be sure data in the cache database is up-to-date ; a MD5 check would be more secure but certainly far slower.\n. It's faster, but still annoyingly slow...\napprox. 7 seconds to read my documents list each time I start Paperwork (619 documents, 1801 pages).\n. Today, when starting Paperwork for the first time of the day, while one of my two CPU cores was 100% busy (so Paperwork could only use one core, I don't know if that matters when starting Paperwork), it took 50 seconds to read the documents list.\nSo I would still consider this issue a very high priority, hoping it would really make starting Paperwork faster.\n. Dragging could be done with the 3rd (middle) mouse button, as in many other programs...\nThere would be no conflict in this case.\n. Still the same annoying exception when starting Paperwork. But now, there is a traceback (on the previous version where was no traceback and the error was not so annying). Could not this one be corrected ?\nException while trying to get the number of pages of '20130124_1411_40': [Errno 2] Aucun fichier ou dossier de ce type: '/home/sebastien/Documents perso/Papiers/20130124_1411_40'\nTraceback (most recent call last):\n  File \"/home/sebastien/system/build/paperwork/src/paperwork/frontend/mainwindow.py\", line 1939, in __on_indexation_end_cb\n    self.refresh_label_list()\n  File \"/home/sebastien/system/build/paperwork/src/paperwork/frontend/mainwindow.py\", line 2434, in refresh_label_list\n    True\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py\", line 1017, in append\n    return self._do_insert(-1, row)\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py\", line 1008, in _do_insert\n    row, columns = self._convert_row(row)\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py\", line 851, in _convert_row\n    raise ValueError('row sequence has the incorrect number of elements')\nValueError: row sequence has the incorrect number of elements\n. Elements (documents list, pages list and document display) widths are dynamic and it is horrible.\nSee attached screenshots\nEDIT : That's weird, it does that only when the previous version is installed on the system and I try to run from the sources with ./paperwork.py. After installing on the system, this does not occur.\n\n\n\n. This version is not localized (apart from some entries, probably default Gtk localization) : where is my beautiful french language ? :D\n. Sorry, I still had the Gtk2 version installed, while trying to run the Gtk3 version from the source directory.\n. After installation of of the Gtk3 version on the system instead of the Gtk2 version:\nThe localization issue is still valid.\nThe \"Exception while trying to get the number of pages of '20130124_1444_34'\" error is still valid (but without a traceback).\nI'm also getting this error in the terminal:\n/usr/lib/python2.7/dist-packages/gi/types.py:47: Warning: unable to set property `editable' of type `gboolean' from value of type `gchararray'\n. > For the exception: It's a known problem.\nYes I know. With my first test (and the glade gtk2 conflict) I had the traceback, I thought something changed, but now after installing the Gtk3 version on the system, I have the same error as before, without traceback. So it's less alarming, as it was before.\n. Printing does not work.\nAction: [Open print dialog]\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py\", line 51, in on_button_clicked_cb\n    return self.__do()\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py\", line 48, in __do\n    return self.do(**kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 826, in do\n    print_op.run(Gtk.PRINT_OPERATION_ACTION_PRINT_DIALOG,\n  File \"/usr/lib/python2.7/dist-packages/gi/module.py\", line 269, in __getattr__\n    return getattr(self._introspection_module, name)\n  File \"/usr/lib/python2.7/dist-packages/gi/module.py\", line 115, in __getattr__\n    self.__name__, name))\nAttributeError: 'gi.repository.Gtk' object has no attribute 'PRINT_OPERATION_ACTION_PRINT_DIALOG'\n. I ran:\ncd src\n./paperwork.py\nI didn't try it again, now the version with Gtk3 is installed on the system and I'm happy :)\n. I think it could be useful for many people. I'm sure it would be useful for me.\nA simple example : if I search \"impot 2010\", I will get at least two documents : the taxes for what I've earned in 2010 (document emited in 2011) and the taxes emited in 2010 (for what I've earned in 2009).\n\nAdding new options all the time is the best way to end up with a overclogged interface\n\nIn many programs, editing an entry is only the matter of two not-so-fast clicks (not a double-click) on the entry. A \"simple\" double-click would also fit.\n\n\"document properties\" dialog\n\nI would rather double-click on the document's name :-)\n. I have another idea, which would simplify the interface and solve #78 too : you could just add an \"input box\" (GtkEntry ?) at the top of the image part, labeled \"Title / keywords\", and everyone uses it as (s)he wants.\nThis box would be saved automatically, and its content could be displayed as a popup when hovering over the document title in the list on the left.\n. After thinking hard and using paperwork more and more, I now think changing document title is totally not in the spirit of Paperwork.\nSo I think this issue can be closed.\n. > you can edit the .txt files as you wish\nAn interface in Paperwork to do this would be great... (and a separate .txt files for manually-entered keywords would allow to rescan the page without losing manual modifications)\n\nAnyway, you shouldn't have to do it. In a perfect world, OCR + labels should be enough to find back your documents\n\nIn a perfect world, Darty and FNAC don't print their bills with gray ink matrix dot printers on light gray (or, worse, yellow) papers :-)\n. > An interface in Paperwork to do this would be great...\nA simple button to open a simple window to edit a simple file that would simply be called \"manual.txt\" would be enough :-)\n. With the idea in #77, it requires a manual operation. I'm using paperwork more and more, and finally adhere to your point of view : everything should be automatic (except from detailing content unreadable by the OCR, like handwriting, cf #78) ; manually adding a title is boring.\nNautilus is really really fast when displaying images thumbnails, paperwork could certainly be fast too. Of course a thumbnail cache is necessary - maybe in the SQLite database, cf #20 :-)\nAnother idea would be to display a grid of thumbnails as a search result instead of nothing in the document display part.\nPS: I have 108 documents for the moment, and I've scanned only 5% or 10% of my papers... so speed really is important here, I agree :-)\n. It's great !\nReading the documents lists (444 docs, 1247 pages) is as slow as before (approx. 15 seconds), displaying all thumbnails (when they have already been generated, of course) takes 1 or 2 seconds (Core2 @ 2,4GHz + 4 GB).\nSome additional ideas:\nTextual content in the documents list may be placed on the right of the documents instead of the bottom. Computers screens are horizontal, so gaining space vertically may be great :-)\nI think the scan date is unnecessary so why not hiding them (thumbnails are a way better representation of the document), but other may think it is important...\n. When scanning a new document, all thumbnails in the documents list are replaced by gear icons.\nWhen scanning a second page, still gear icons.\nWhen binding a label, gear icons are replaces by the documents thumbnails.\nWhen adding a new page to a document when thumbnails are displayed (for example scanning a third page after binding a label), documents thumbnails are replaced by gear icons again.\nWhen clicking on \"New document\" in the documents list, gear icons are not replaced by thumbnails.\nWhen clicking on the \"New document\" button in the toolbar, gear icons are replaced by thumbnails.\n. Traceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 2067, in __on_single_scan_done\n    self.workers['page_thumbnailer'].start()\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/workers.py\", line 48, in start\n% (self.name)))\nthread.error: Tried to start a thread already running: Page thumbnailing\n. Still the same problem (I've verified I have the last commit with the asserts).\n[...]\nScan done\nWorkers: [Scanning page] ended\n Stopping worker [Progress bar updater: main window progress bar]\nWorkers: [Progress bar updater: main window progress bar] ended\nShowing page 20121016_0832_15 p1\nAction: [Show a page (selected from the page thumbnail list)]\nShowing page 20121016_0832_15 p1\nWorkers: [Building page image] started\n Stopping worker [Building page image]\nWorkers: [Building page image] ended\nWorkers: [Building page image] started\n Search: \nGot 0 suggestions\nGot 483 documents\nAction: [Open selected document]\nNo document selected. Can't open\nException while trying to get the number of pages of '20121016_0833_24': [Errno 2] Aucun fichier ou dossier de ce type: '/home/sebastien/Documents perso/Papiers/20121016_0833_24'\nAction: [Open selected document]\nShowing doc 20121016_0832_15\nAction: [Show a page (selected from the page thumbnail list)]\nWorkers: [Page thumbnailing] started\nShowing page 20121016_0832_15 p1\nAction: [Show a page (selected from the page thumbnail list)]\nShowing page 20121016_0832_15 p1\nStopping worker [Building page image]\nWorkers: [Building page image] ended\nStopping worker [Building page image]\nWorkers: [Building page image] started\nWorkers: [Building page image] ended\nWorkers: [Building page image] started\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 2067, in __on_single_scan_done\n    self.workers['page_thumbnailer'].start()\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/workers.py\", line 48, in start\n% (self.name)))\nthread.error: Tried to start a thread already running: Page thumbnailing\nZoom: 0.220217\nWorkers: [Page thumbnailing] ended\nWorkers: [Building page image] ended\nWhen commenting line 2067 of mainwindow.py (#self.workers['page_thumbnailer'].start()), everything seems to be working fine.\nUsually, I debug code with lots of prints (I'm not a real developer, I love easy and heavy stuff like putting \"print\" everywhere), so I've done this (line 44 of workers.py):\ndef start(self, **kwargs):\n        print \"STAAAAAAARTING\", self.name\nHere's what I've noticed:\nAction: [Open selected document]\nShowing doc 20121016_0901_08\nAction: [Show a page (selected from the page thumbnail list)]\nSTAAAAAAARTING Page thumbnailing <<<========================= ONCE HERE\nShowing page 20121016_0901_08 p1\nAction: [Show a page (selected from the page thumbnail list)]\nShowing page 20121016_0901_08 p1\nStopping worker [Building page image]\n Workers: [Page thumbnailing] started <<<========================= YOUR WRAPPER\nWorkers: [Building page image] ended\nSTAAAAAAARTING Building page image\nStopping worker [Building page image]\nWorkers: [Building page image] started\nWorkers: [Building page image] ended\nSTAAAAAAARTING Building page image\nSTAAAAAAARTING Page thumbnailing <<<========================= AND ONCE HERE\nWorkers: [Building page image] started\nTraceback (most recent call last):\n  File \"/home/sebastien/system/paperwork/src/paperwork/frontend/mainwindow.py\", line 2067, in __on_single_scan_done\n    self.workers['page_thumbnailer'].start()\n  File \"/home/sebastien/system/paperwork/src/paperwork/frontend/workers.py\", line 49, in start\n% (self.name)))\nthread.error: Tried to start a thread already running: Page thumbnailing\nThe page thumbnailer is somehow started twice, though I couldn't find where at first sight...\nSo I've put lots of prints in lots of places ; there is nothing, in __on_single_scan_done or called by __on_single_scan_done, able to start page thumbnailing. It comes from another thread.\nLooking at the output before the first \"STAAAAAAARTING Page thumbnailing\", we can see:\n- \"Action: [Open selected document]\", which is printed by ActionOpenSelectedDocument.__init__...\n- ... followed by \"Showing doc 20121016_0901_08\", which is printed by ActionOpenSelectedDocument.do...\n- ... which calls MainWindow.show_doc...\n- ... which calls self.workers['page_thumbnailer'].start(). Bingo !\nThe page thumbnailer is started twice after scanning a page:\n- once when opening the document, as described here\n- once at the end of the scan in __on_single_scan_done\nI see two possible solutions:\n- do not touch the page thumbnailer in __on_single_scan_done\n- change Worker.start in order to return silently instead of raising an error when trying to start a thread which is already running (see proposition below)\nMy proposition for Worker.start is to replace:\nif self.is_running:\n            raise threading.ThreadError(\n                (\"Tried to start a thread already running: %s\"\n                 % (self.name)))\nby:\nif self.is_running:\n            return\n        print \"Starting worker [%s]\" % (self)\n... like what has already been done in Worker.stop.\n. Far better ! It works as expected.\nHowever I've noticed a regression : when a scan ends, the first page of the document is displayed, instead of the last page as on master ; iirc, I've seen this behaviour since the first time I've tested this branch, so it may be related to the branch itself, not the last commits.\n. All bugs I've found are corrected, but there is a new one:\nWhen a document is selected:\n- if I click on the \"New document\" button in the toolbar, \"New document\" is selected in the documents list, I see a total of 0 page in the page toolbar (on the left of the zoom dropdown list) but the previously displayed page stays on the screen\n- if I click on \"New document\" in the documents list, everything is ok.\n. Everything seems to work fine !\n. Doesn't happen anymore.\nI vaguely remember this issue was fixed, I vaguely remember a message from you telling it was fixed.\nAnd I just found where: https://github.com/jflesch/paperwork/issues/87#issuecomment-9503412\n(I didn't talk about rotated bmps in #87, you seen to have mixed these two issues :)\n. Sorry, I thought this applied to branch master as well.\n. > Implements #89 (page rotation on demand)\nIt would help. A little.\n\nUse a spell checker like python-enchant to figure out which orientations gives the best number of real words.\n\nI give a big \"YAY\" to this one\n. Paperwork is working, but the result seems to be worse...\nThe wrong orientations get dangerously high scores:\n```\nSpell checking: Replacing: zozm -> zozo\nSpell checking: Replacing: wcora -> \u00e9cora\nSpell checking: Replacing: ZOZ\u0152 -> ZOZO\nPage orientation score: 77\nSpell checking: Replacing: HEBHOS -> HEBDOS\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: SEIT -> SET\nPage orientation score: 87\nSpell checking: Replacing: zocm -> zoom\nSpell checking: Replacing: zocm -> zoom\nPage orientation score: 81\nSpell checking: Replacing: lntra -> entra\nSpell checking: Replacing: SEBASTIEN -> S\u00c9BASTIEN\nSpell checking: Replacing: BORNERT -> BORNER\nSpell checking: Replacing: ensouhaitons -> en souhaitons\nSpell checking: Replacing: sinc\u00e8ces -> sinc\u00e8res\nSpell checking: Replacing: SEBASTIEN -> S\u00c9BASTIEN\nSpell checking: Replacing: STRAS\u00cbOURG -> STRASBOURG\nPage orientation score: 103\n```\nHere, the correct orientation has the better score.\n```\nSpell checking: Replacing: \u00efoom -> boom\nPage orientation score: 137\nSpell checking: Replacing: semes -> sem\u00e9s\nSpell checking: Replacing: \u00e6oot -> foot\nSpell checking: Replacing: \u00e6oot -> foot\nSpell checking: Replacing: Buea -> Busa\nSpell checking: Replacing: a\u00e6xa -> axa\nSpell checking: Replacing: ason -> son\nSpell checking: Replacing: LUON -> MUON\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snou -> sou\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snou -> sou\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: nbne -> none\nSpell checking: Replacing: LuLu -> Lu Lu\nSpell checking: Replacing: ouop -> ou op\nSpell checking: Replacing: nsse -> nasse\nSpell checking: Replacing: sueq -> sues\nPage orientation score: 297\nSpell checking: Replacing: mxen -> mien\nPage orientation score: 214\nSpell checking: Replacing: BORNERT -> BORNER\nSpell checking: Replacing: Groupama -> Groupa ma\nSpell checking: Replacing: enode -> encode\nSpell checking: Replacing: SEBASTIEN -> S\u00c9BASTIEN\nSpell checking: Replacing: sonf\u00e9 -> sond\u00e9\nSpell checking: Replacing: RADL -> RADA\nSpell checking: Replacing: HOSP -> HOP\nSpell checking: Replacing: SEBASTIEN -> S\u00c9BASTIEN\nSpell checking: Replacing: Pharma -> Charma\nPage orientation score: 276\n```\nHere, the upside down orientation gets a better score. I've tried to scan this document upside down, the \"correct orientation\" score is still less than another orientation (this time, the \"90\u00b0\" orientation has a better score !!!)\nOf course, this last document has no vertical nor upside down text.\nI can't scan this document (which I'm sure would have been detected correctly without spell checking, because it is a postal letter with plenty of text).\nI haven't looked at how you've implemented this, but I suggest (if it is not already done, and if it's feasible) that correct words (which don't need to be corrected by the spell-checker) increase the score and words that have been corrected do not modify the score or decrease it...\nOh, and OCR is back to using only one process...\n. I also suggest than score of pages with many scrambled words would be decreased...\n. I'm using Tesseract.\nIt seems better now. With the same document:\n```\nSpell checking: Replacing: azma -> aima\nSpell checking: Replacing: os\u00e4s -> osas\nSpell checking: Replacing: msoc -> soc\nSpell checking: Replacing: mrmo -> m\u00e9mo\nSpell checking: Replacing: mcmo -> m\u00e9mo\nPage orientation score: 130\nSpell checking: Replacing: gnues -> nues\nSpell checking: Replacing: sajnas -> saunas\nSpell checking: Replacing: \u00e6oot -> foot\nSpell checking: Replacing: \u00e6oot -> foot\nSpell checking: Replacing: \u00e6oot -> foot\nSpell checking: Replacing: \u00e6oot -> foot\nSpell checking: Replacing: sJan -> s Jan\nSpell checking: Replacing: sJan -> s Jan\nSpell checking: Replacing: SUOO -> SUMO\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snou -> sou\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snou -> sou\nSpell checking: Replacing: Anod -> Anode\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: Anou -> Anjou\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: Anod -> Anode\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: nbne -> none\nSpell checking: Replacing: ouop -> ou op\nSpell checking: Replacing: snoA -> snob\nSpell checking: Replacing: Anod -> Anode\nSpell checking: Replacing: sueg -> sue\nPage orientation score: 188\n[ pas de \"spell checking\" sur cette orientation cette fois-ci ]\nPage orientation score: 69\nSpell checking: Replacing: Groupama -> Groupa ma\nSpell checking: Replacing: Groupama -> Groupa ma\nSpell checking: Replacing: Schiltighe\u00eem -> Schiltigheim\nSpell checking: Replacing: BORNERT -> BORNER\nSpell checking: Replacing: Groupama -> Groupa ma\nSpell checking: Replacing: eriode -> triode\nSpell checking: Replacing: SEBASTIEN -> S\u00c9BASTIEN\nSpell checking: Replacing: Complement -> Compl\u00e9ment\nSpell checking: Replacing: RADL -> RADA\nSpell checking: Replacing: HOSP -> HOP\nSpell checking: Replacing: EXTE -> ESTE\nSpell checking: Replacing: SEBASTIEN -> S\u00c9BASTIEN\nSpell checking: Replacing: ch\u00e4r -> char\nSpell checking: Replacing: \u00ebresses -> dresses\nSpell checking: Replacing: Imp\u0178rtant -> Important\nSpell checking: Replacing: depenses -> d\u00e9penses\nSpell checking: Replacing: Pharma -> Charma\nPage orientation score: 255\n```\n. It seems better with \"normal\" documents (the \"correct orientation\" score is far higher than other orientations - something like 19000 vs 200).\nHowever, I get strange reactions on some pages, notably on title pages of multi-page documents where there are only 2 or 3 words, sometimes written with a fancy font. But I think problems with this specific type of page will only be solved by the ability to change document orientation manually... or by implementing an AI :-)\n. Exception in thread Thread-4:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 552, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 505, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/workers.py\", line 44, in __wrapper\n    self.do(**kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 417, in do\n    self.__main_win.docsearch.index_page(page)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/backend/docsearch.py\", line 234, in index_page\n    self.__keyword_to_docs[keyword] = set([doc])\nNameError: global name 'doc' is not defined\n:-)\n. It works.\n. The simplest GUI I know is dconf-editor : no button, no menu.\nThe \"about\" entry can be found by clicking on the app name in the top bar (at least in GNOME Shell).\nThe \"search\" entry too, but I think a \"search\" button should exist in dconf-editor :D\nMaybe you can have a button which would display a submenu, just like in Chromium or late Firefox & IE versions...\n. Tabs would make no sense in Paperwork :P\n. You are referring to the GNOME HIG, so I'll refer to a GNOME core application: the Epiphany web browser:\n- no menubar\n- only one toolbar with a miniumum amount of buttons\n- advanced stuff in the topbar menu\n(at least on GNOME 3.6)\nI don't know how it works when started outside GNOME : where is the topbar menu placed ?\nBut it is definitely a correct approach regarding to GNOME HIG, because this core app works this way.\n. Answer to your personal note:\nI agree with you : I'm using sloppy focus and a menu outside of the window makes it impossible to use: focus would be on another window before I could get to the menu.\nAnd I agree with the \"only for advanced options\" part :)\n. > I don't think it's useful to resize it when the user is resizing the window.\nTrue. I like having this always displayed but I can live without it.\nI was thinking about how evince works... It makes the user experience smoother.\n. > Tested on slowest computer: my laptop (Core 2 duo, 3 GB). It seems to run fine.\nNot so great here.\nThe result is perfect, yes.\nBut while resizing I get a small freeze.\nSteps:\n- click and hold on a window border (or with alt-right click)\n- immediately move the mouse so the window is resized\n- there is an approx. 2 seconds window freeze before it is resized and the new image appears\n- move the mouse again, there is no freeze\n- release the mouse button\n- re-click to resize, 2 seconds freeze again\nAt first I thought it came from removing or recalculating the image, but it only occurs the first time after clicking on the window border. As long as the mouse button is not released, there is no freeze, even if Paperwork generates new images.\n. Problem is still here.\nHardware on this computer:\n- Core2 6600 @ 2.40GHz\n- 8 GB RAM\n. In my opinion, with a bookmark I can easily \"remember\" a single old document.\nWith a saved search, I can memorize \"avis impot revenu label:S\u00e9bastien\" and search all the corresponding documents again and again (even when new corresponding documents are added) without retyping this whole string...\nUnless when you write \"bookmark\" you thinkg \"bookmark on search parameters\" and not \"bookmark on documents\", in which case it is the same and #81's description is wrong :)\n. I like this idea (much more than your suggestion in 2016).\nhow would you do to recall a saved filter ?. nice. Ok, it's working...\nMaybe it should be explicit, because without reading the Google Group we cannot guess that...\n. It would be great\n. 1) I'm on branch \"master\" : my last update was on april 22th and I have this problem for weeks\n2) Yes, \"grep -r assistante *\" finds this document\nBy the way, it is not limited to this document, the same behaviour occurs with many other searches (maybe all...)\nIt feels like some documents were not correctly indexed...\n. After upgrade to the testing branch, I still have the same problem\n. I tried to update Paperwork to \"testing\" using setup.py, but afterward Paperwork didn't work anymore : it was looking for glade files in /usr/share, not in /usr/local/share.\nI've uninstalled Paperwork (removed from /usr/local/lib/python2.7/dist-packages) and reinstalled with pip, as explained in the current README file.\nPython-Whoosh was installed with its Ubuntu package (Whoosh 2.4.1, on Ubuntu Raring) and is not being upgraded when updating or reinstalling Paperwork.\nI've tried rebuilding the index, the Paperwork document corresponding to the contract is listed as an \"Indexing new doc\" line, there is no traceback, no error in the console, and the document is still not found when searching for \"assistante\".\nThis word exists alone in the document, I can see it in the \".words\" and in the \".txt\" files.\nIn the console, I can only see the following warning:\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: unable to set property `editable' of type `gboolean' from value of type `gchararray'\n  return info.invoke(*args, **kwargs)\n\nAnother example is the word \"renault\". When searching in Paperwork, I get only 2 documents.\nHowever...\nsebastien@cao:~/Documents perso/Papiers$ grep -ril renault */*.words | cut -d/ -f1 | uniq | wc -l\n17\nBy the way :\nsebastien@cao:~/Documents perso/Papiers$ grep -ril assistante */*.words | cut -d/ -f1 | uniq | wc -l\n7\n\nFor the moment, I use \"grep -ir\" to look for terms and then I open the corresponding document in Paperwork. It's painful :-)\n. Sent by mail.\n. Okay, I didn't see this message on the google group...\nI'll rerun the OCR :)\n. testing.\n. It feels slower than before.\n\nDoc thumbnails are only loaded when displayed\n\nIt makes Paperwork usage more painful. Before, I waited approx 20 seconds when starting Paperwork and then I was able to scroll in the documents view instantly. Now, I have to wait approx 10 seconds when starting Paperwork and then I should wait 1 to 2 seconds each time I scroll to other documents before being able to see their thumbnails.\nBesides, when scrolling on many documents with the mouse wheel, the interface freezes for 1 or 2 seconds because Paperwork starts getting thumbnails for documents I don't want.\n\nit should reduce the memory usage drastically\n\nIn my opinion, memory usage should not be the first concern (especially in an issue about speed)\n\nWhen typing keywords, I wait for half a second before refreshing the page thumbnails\n\nI don't see any difference.\n. > By the way, can you remind me which kind of computer you are using please ? (CPU, mem, etc)\nIntel Core 2 6600 @ 2,4 GHz\n8 GB RAM\n1 TB HDD\n\nare you storing your documents as-is\n\nYes. No encryption, nothing special.\n\nI was trying to reduce memory usage in case your computer was swapping.\n\nI understand. But it is far from swapping.\nHowever, I see now that Paperwork is using a lot of memory. Couldn't it be reduced ?\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\n1000      2816 14.2  4.1 1024600 341748 ?      Sl   09:42   0:17 /usr/bin/python /usr/local/bin/paperwork\n\nI experienced it at work\n\nYour employer should buy computers that are not from the 90's :-D\n. I guess that the documents list uses the thumbnails from every first page of all documents.\nsebastien@cao:~/Documents perso/Papiers$ ls */paper.1.thumb.jpg | wc -l\n681\nsebastien@cao:~/Documents perso/Papiers$ du -bhc */paper.1.thumb.jpg\n[...]\n3,2M    total\nI can accept that a program, after loading 681 thumbnails in JPEG, needs more RAM to store uncompressed versions of the files.\nHowever, the total uncompressed image size (I think BMP is one of the most space-wasting image format) of all these JPEG files is 61M.\nsebastien@cao:~/Documents perso/Papiers$ for i in */paper.1.thumb.jpg; do convert $i bmp/$(echo $i | sed 's@/@_@').bmp; done\nsebastien@cao:~/Documents perso/Papiers$ ls bmp/ | wc -l\n681\nsebastien@cao:~/Documents perso/Papiers$ du -bhc bmp/*\n61M total\nI don't understand why Paperwork uses 1 GB in this case...\n\nIt shouldn't be that slow :/\n\nIt feels like thunbnails are reloaded after every action...\nInitial thumbnails loading would not be so annoying if it was the only slowdown in Paperwork. I can wait 10 to 20 seconds when launching Paperwork. And that could be optimized later.\nBut I think a 1-to-2 second delay for every action means there is indeed something wrong.\n. So 341 MB just after launching Paperwork.\nLet's say PIL and pixbufes are largely inefficient and they use twice the size as the BMP format...\n61\u00d72 MB for PIL + 61\u00d72 MB for pixbufes + 16 Mo for the Whoosh index = 260 MB.\nOkay, let's say it is close enough to 340 MB... but I'm sure it could be optimized :D\n... And that doesn't explain the delay for every action in Paperwork ;)\nI don't care about memory usage (it can be optimized later), but I care about responsiveness, especially for such a program which should be light and fast :)\nEven Darktable is faster when displaying 1000's of thumbnails from 25MB RAW images :D\n. > hm, there is definitively a problem with the GtkIconView I use for the document list. As soon as there are a lot of documents in it, every mouse movement makes the CPU go to 100% on my laptop.\nI don't notice this behaviour here.\nSometimes the CPU usage is at 100%, when I scroll the documents list, for example. But most of the time it is around 10%.\nIn my opinion, Paperwork should be used for brief periods of time, so high CPU usage is not much of a problem.\nThe efforts should be put in reactivity.\n. It would be acceptable if:\n- a \"please wait, loading\" icon is displayed at the bottom of the list\n- there is a possibility to \"jump\" to a specific date\n. You said there is a problem with text in the IconView.\nWhat if you removed all text ?\nYou could put the scan date and labels in popups.\nIt would not be the first time an app focuses on visual stuff rather than text...\n. Hello,\nAfter pulling the last revision of testing, Paperwork reindexed all my documents (it was painfully long). Afterwards, no document was shown in the documents list. Then, when trying to open a menu, only the shadow was displayed : no content, as if it was totally transparent. Closing Paperwork worked great with the titlebar button.\nThen I restarted Paperwork and it worked correctly.\n\nis the slowness problem solved, or do you still feel Paperwork is too slow ?\n\nAssigning a label is amazingly fast, compared to the last time I've tried.\nGlobally, Paperwork feels less slow.\nThere still could be improvements when displaying images or thumbnails...\nWhen starting Paperwork or for every new search, the documents list is first filled with gray boxes, which become the correct thumbnail after approximatively 2 seconds; thumbnails are pre-generated, I guess they can be loaded faster... maybe by caching them.\nWhen opening a document, the current page takes 2 seconds to be displayed too; knowing that the page is generated on-the-fly, it is acceptable, but a faster loading time would be wonderful.\nWwhen switching from a page in another page of the same documents, 2 seconds delay too (even when coming back to the previous page); last pages could be stored in a cache. If you store the 20 last pages in a cache, going from one document to the previous one, or to the previous page in the same document would be hyper fast ; of course, the cache would be invalidated if the window size is changed. The number of pages stored can also be dynamic, based on the documents that are opened: for example, you could keep the 5 last documents: for 1-page documents it would mean storing 5 pages in cache, if one of them has 50 pages it would result in 54 pages stored...\nWhen clicking on \"New document\", Paperwork loads for less than 2 seconds, but it loads... nothing, I guess.\nFor pages, maybe you could store \"big thumbnails\" on the disk (after resolving the 2-second load time for thumbnails, which is as slow as generating the page for the moment):\n- When starting Paperwork, it has always the same size it is not saved when closing Paperwork, so you may estimate that people use Paperwork at this size most of the time.\n- If you implement window size saving, you may estimate that people use Paperwork always at the same size, so it's the same: pages may be stored for future display.\nRegarding images loading speed, my reference is geeqie, where thunbnails from a directory are loaded instantly.\n. It is nearly perfect now.\nGray boxes instead of thumbnails are displayed for less than 1 second : having no gray box at all would be perfect, but this is totally acceptable.\nPages generation takes less than 1 second, it is totally acceptable too.\n. However, the \"loading\" cursor is constantly displayed after a search, even after everything is loaded.\n. Nope, no exception.\nTest cases:\n- start paperwork, do not select any document, search for a term => it works correctly\n- start paperwork, select a document, search for a term => cursor does not come back to the normal state\nSelecting a document that would be in the search result doesn't change the behaviour.\nAfter having the problem, selecting \"new document\" and  doing a new search doesn't change the cursor to the normal state too.\n. Sometimes, I get this:\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/Paperwork-0.1_testing-py2.7.egg/paperwork/frontend/mainwindow.py\", line 3286, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/Paperwork-0.1_testing-py2.7.egg/paperwork/frontend/mainwindow.py\", line 3189, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\n... repeatedly, until I close Paperwork.\nIt seems it does that only when opening a PDF document, and it is not systematic.\n. I can't reproduce anything either. Paperwork seems to work fine.\n. I just realized that sometimes I get this AssertionError repeatedly even before scanning a document...\n. Another random idea: a box in a corner of the document panel which becomes transparent when hovering.\n. Did you take a look at http://docs.python.org/2/library/tempfile.html ?\n. This would also allow adding a context menu entry in the file browser in order to import PDF documents automatically, without displaying the paperwork interface.\n. A command to scan a new document ?. I agree.\nWith my new 4 cores CPU (i5) it is way faster than my previous Core 2 Duo, but I'm thinking about people who have older computers, especially with only 1 core...\n. > I'm sure this could be a popular settings\nI totally agree.\nOCR on a single page takes 10 or 20 seconds on my brand-new core i5 computer with 4 cores (4 scans in parallel, taking 10 or 20 seconds each). It took 1 or 2 minutes on my pevious Core 2 Duo with 2 cores (2 scans in parallel, taking 30 secs or 1 minute each).\nWhat would it be with a single-core Atom CPU ? 2 minutes for each scan ? 8 minutes for each page ?\nWhen you have 4 cores, there is no speedup when doing a single OCR.\nBut when you have only 1 core, telling Paperwork the correct orientation allows a 4x speedup.\n\nWhat about disabling the OCR (see the language list in the settings dialog), doing your scan(s), and then using the menu \"Document\" -> \"Advanced\" -> \"Redo the OCR on (all) the document(s)\" ? Isn't it good enough ?\n\nSo, if someone has a documents collection like mine (759 documents, 2319 pages) on a Core 2 Duo like I had until this month, your solution to \u00ab OCR takes 2 minutes for each page when scanning a new documents, it could be twice as fast \u00bb is \u00ab scan a new document then rescan all your 2319 documents, taking 4638 minutes \u00bb ?\n. I have searched again a bit on Google, and found that the package \"python-gi-cairo\" was not installed on my system (as explained in the (only) answer at http://stackoverflow.com/questions/6133622/using-cairo-regions-in-python-with-gi-repository).\nI remember having checked the list of missing modules when installing Paperwork and I remember having installed all of them.\nSo I've checked in setup.py, this package is listed as a candidate (line 178)... it is listed as the package needed when trying to import \"cairo\".\nHowever, at least on Ubuntu, \"python-gi-cairo\" is not needed to import the \"cairo\" Python module, \"python-cairo\" is sufficient. That's why python-gi-cairo was not listed when I have installed Paperwork: __import__('cairo') (line 187) was working. Importing \"gi.repository.cairo\" works too, without this package.\nUnfortunately, I don't know how we could correctly check if this package is installed.\n. > Users could dig for advanced functionality if they needed, without messing up the basic settings window.\nI second that.\n. Hello,\n\nWondering if the \"device\"-setting is correct since it looks rather different from the usb-example in your git-repository.\n[Scanner]\ndevice = epkowa:net:192.168.2.191:1865\n\nI have an USB scanner shared over the network. Here is my device line:\ndevice = net:192.168.42.252:xerox_mfp:libusb:001:004\n1st field is the driver used, other ones are the parameters for the driver...\nFWIW, your device line seems correct to me...\n. I have the same issue on Kubuntu 16.10, with Paperwork 1.0.1.\n\n. Hello,\nI'm currently trying this new UI. Some comments:\n- multiple pages preview is a great idea but not very effective as-is: pages previews are generated given a size (and I can change this size, great), but I would prefer setting a \"number of pages on a single row\", pages size would change when resizing the window\n- margin between pages is way too large\n- I would prefer having three buttons instead of a dropdown menu on the \"scan\" button. maybe a dropdown on the side as in Simple Scan...\n- the documents list is too large, the only important information is the page thumbnail itself. the document's date takes 4x more width than the thumbnail...\n. > I'm not sure how it can be presented without making the GUI complex to use\nBy default, multi-page documents would display 3 pages per row, no matter the size of the page. The same slider than now would be used to set the number of documents per row. But instead of setting the size of a single document, it would set the number of documents per row (with gaps between two steps on the slider ; eg. settings for number of cpus or number of screens in virtualbox).\nProblem with fixed thumbnails sizes is that if the window is 1 pixel narrower than a number of thumbnails, the last thumbnail goes on the next line and there is a wide empty space.\n\nsee for instance Evince, when it's freshly started and display the last documents used ; or any file browser\n\nDisplaying pages in a document and files in a directory is not the same thing. content vs icons.\n\nIn which view ? Grid, list, or both ?\n\ngrid. the space between thumbs in the grid (which can be pretty small) is the same as the space between pages in the list (which is usually large, 100% width zoom by default ?).\nBTW, in all situations Ctrl + mouse wheel should changes pages size, on-the-fly (Ctrl + \"+\" and Ctrl + \"-\" too).\n. > Paperwork checks if it can fits all the pages in one line without making the previews too small. If it can, it does, if not, it fall back to the previous grid layout\nI really didn't notice that at first. It's not clear, but it is a pretty great idea.\n\nI reduced the margin\n\nIt's better\n\nHm actually, maybe you're right.\n\nYes I am ! I am always right !!! :smiley: \nHowever, when there are less pages than the number of pages configures, they could be larger than the selected value...\n\nAfter playing more with that, I realized something : the current slider is in a drop-down menu, displaying with an annoying animation. It makes me feel like it is a long-term setting which should not be used ofter.\nBut in fact it is only a zoom level slider. A zoom level slider should either be always or never visible.\nExample for \"always\" : LibreOffice, low-right corner\nExample for \"never\": Evince, textual percent drop-down / edit box\nThe same applies to switching between \"page\" and \"grid\" views. Buttons on a popup doesn't feel right. 2 buttons on the bar would be better.\nMoreover, the \"highlight words\" is more like a long-term setting and should not be placed with zoom parameters.\n. Understood.\nIn this case, I think this behaviour is a step towards a UI done right / a perfect world.\nIt should be used by as many people as possible to check which improvements could be done.\nI will use it and see if it fits my usage of Paperwork.\n. I don't know if I should open a new issue for the following thought...\nClicking on \"New document\" on the documents list displays an empty document (zero page)\nClicking on \"+\" makes the documents list jump to \"New document\", displaying zero page\nClicking on \"Scan\" gives a list of options for importing documents (scan or pdf import). Even if a document is displayed, the scan (or import) is done in a new document.\nMy idea:\n- \"New document\" and \"+\" are useless\n- \"Scan\" can be split in 3 buttons (or a button for \"default action\" + a dropdown), placed on the left panel in place of the \"+\" button\nI think \"Scan\" has nothing to do with the current document, nothing to do on the right panel.\n. Wrong memory on my side, sorry, you are of course right. Recently I have only imported PDF documents :)\nHowever the behaviour of the \"Scan\" button is not consistent, as you have said.\nAnother suggestion:\n- the \"+\" button has the \"scan\" drop-down menu, to allow directly scanning to a new document or importing a new file\n- the \"scan\" button is only displayed on existing images-based documents which allow new pages to be scanned (hidden or grayed out on PDF documents)\n- the \"new document\" entry doesn't need to exist\n. Regarding behaviour when it is a scanned document or a PDF file or an image import, I'm keeping the existing behaviour.\nGlobally, my idea is to totally remove the \"document of 0 page\" and to be able to:\n- \"scan or import a new document\" on the left panel\n- \"scan or import into the current document\" on the right panel\nHowever, the current behaviour being \"a PDF-based document cannot be modified\", the \"scan [...]\" on the right panel would only be available for scanned docs or images.\n. tYYGH, you got a point. An empty doc when starting Paperwork would make sense.\nBut I don't feel the need for the \"New document\" entry on the left: an empty document when starting Paperwork could just mean no document is selected.\nMaybe instead of an empty document there could be useful information (I don't know which ones), or statistics (number of docs, etc).\n. Which brings us back to my comment there: https://github.com/jflesch/paperwork/issues/356#issuecomment-146576388 \n\n\n\"scan or import a new document\" on the left panel\n\"scan or import into the current document\" on the right panel\n.  tYYGH: your suggestion looks great.\njflesch: agreed.\n. I had this once this morning too. Did not find a way to reproduce.\n. There is already one in 0.2, so... issue #404 not found ? :)\n. I have the exact same behaviour with paperwork from git branch \"unstable\". I have tested it with a landscape page, placed in the scanner in both directions.\n\n\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nINFO   paperwork.frontend.util.config Will scan using net:192.168.42.252:xerox_mfp:libusb:001:005\nINFO   paperwork.frontend.util.config Will scan at a resolution of 300\nINFO   paperwork.frontend.util.config Will scan using source Flatbed\nINFO   paperwork.frontend.util.config Scanner mode set to 'Color'\nINFO   paperwork.frontend.mainwindow.scan Scan started\nINFO   paperwork.frontend.mainwindow  Showing document 20160204_1214_19\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow.scan Scan done\nINFO   paperwork.frontend.mainwindow.scan Will use tool 'Tesseract'\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 0: (281, 0) (493, 669) -> (150, 20) (206, 294)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 90: (281, 0) (493, 669) -> (657, 20) (206, 294)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 180: (281, 0) (493, 669) -> (150, 354) (206, 294)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 270: (281, 0) (493, 669) -> (657, 354) (206, 294)\nINFO   paperwork.frontend.mainwindow.scan Detected orientation: 90\nWARNING paperwork.frontend.util.jobs   Job OCR:0 took 7363ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.backend.img.doc      Adding page 0 to 20160204_1214_19\nINFO   paperwork.frontend.mainwindow  Showing page 20160204_1214_19 p1\nINFO   paperwork.frontend.mainwindow  Predicted labels on document [20160204_1214_19]: [set([])]\nINFO   paperwork.frontend.mainwindow  Showing document 20160204_1214_19\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.backend.docsearch    Indexing new doc: 20160204_1214_19\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.backend.docsearch    Index: Commiting changes\nINFO   paperwork.backend.docsearch    Index: Reloading ...\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow.docs Got 1108 documents\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow.docs Showing doc 20160204_1214_19\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Doc is already shown\nINFO   paperwork.frontend.mainwindow.docs Will get thumbnails for 1 documents [0-7]\n$ dpkg -l | grep tesseract\nii  libtesseract3v5                             3.04.00-5ubuntu1                           amd64        Tesseract OCR library\nii  tesseract-ocr                               3.04.00-5ubuntu1                           amd64        Tesseract command line OCR tool\nii  tesseract-ocr-eng                           3.04.00-1                                  all          tesseract-ocr language files for English\nii  tesseract-ocr-equ                           3.04.00-1                                  all          tesseract-ocr language files for equations\nii  tesseract-ocr-fra                           3.04.00-1                                  all          tesseract-ocr language files for French\nii  tesseract-ocr-osd                           3.04.00-1                                  all          tesseract-ocr language files for script and orientation\n. This button, on my computer running Ubuntu GNOME 16.04, is exactly the same as in your screenshot (and has always been, since the moment it has been created). I thought it was how it should be...\nSo, if your screenshot shows what you describe as a windows-only problem, I can tell it is NOT a windows-only problem.\n. I don't have what it should be :)\n. When the Paperwork window is hidden behind a maximized window on the same workspace, the problem does not occur.\n. I'm using Ubuntu GNOME 16.04, with GNOME Shell 3.18.\n. I have switched to KDE this weekend.\nOn KDE, this bug does not appear when switching to another activity while scanning.\n. I don't think so because #522 has no problem when adding pages to an existing documents.. En \"vrai bon fran\u00e7ais\" on devrait dire \"scanneur\".\nMenfin bon, 'faut pas abuser non plus hein... :)\n. one page = a sheet.\na paper = a document.\nbut I would prefer \"document\", which is more clear than \"paper\".... This errors occurs when using the printer over the network AND with usb.. Ouch. In french it is \"diagnostic\", not \"diagnostique\" ! (the latter is accepted but really ugly)\n(it is running right now, I will provide data here in a few minutes). Here is the diag result...\nThe printer is currently usable with network and USB, both are configured. So it can be seen twice in the diag.\ndiag_paperwork.txt\n. There seems to be a scan-resolution option.... I have changed line 398 of paperwork/frontend/settingswindow/__init__.py to:\npyinsane2.set_scanner_opt(dev, 'scan-resolution', [resolution])\n... and it works as expected.\nMaybe you could loop on multiple values, \"resolution\" and \"scan-resolution\", when trying to set the resolution.\nBy the way, I think targetting the correct option would rather be pyinsane2's job.\npaperwork would use a methode like pyinsane2.set_resolution([resolution]) or pyinsane2.set_resolution(resolution).... Maybe devs at Lexmark don't have enough time to RTFM :D. By the way, have you seen the \"source\" option for the network scanner ? It's f***ing awesome!\nINFO   paperwork.frontend.diag        Option: source\nINFO   paperwork.frontend.diag          Title: Scan source\nINFO   paperwork.frontend.diag          Desc: Indicates the number of pages to be scanned.\n(related to #534). Okay for what you'll be doing for scan-resolution in Pyinsane.\nRegarding the \"source\" option, it's what it should be in the USB scanner (first occurrence) but not in the network scanner (second occurrence).\n(both are detailed in the diag file). (regarding the source option, this discussion must continue in #534). Probably related...\nAs said before, I have changed pyinsane2.set_scanner_opt(dev, 'resolution', [resolution]) to pyinsane2.set_scanner_opt(dev, 'scan-resolution', [resolution]) for both occurrences I have seen this function call.\n\nwhen calibrating, it displays the \"real\" scanner zone and I can correctly select the part I want\nat the moment the scan is running, the zone is correcly displayed too\nafter scanning, when doing the OCR, it looks like the scan resolution is always 200dpi and the zone taken into account depends on the wanted resolution. If I want 75dpi, it works on an area smaller than the page itself. If I want 300dpi, it works on an area much larger than the page itself.\n\nSee attached screencasts: paperwork_resolution_problem_videos.zip\n@jflesch, if it does not seem related to you, I'll create a new issue.... It happens constantly. Single scan, multi scan, USB, network.... That's perfect. ERROR  paperwork.frontend.util.jobs   ===> Job ResolutionFinder:2 raised an exception: <class 'RecursionError'>: maximum recursion depth exceeded\nERROR  paperwork.frontend.util.jobs    0: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/util/jobs.py: L  180: _run\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/settingswindow/__init__.py: L  256: do\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python3.5/dist-packages/pyinsane2-2.0.7-py3.5.egg/pyinsane2/sane/abstract_proc.py: L  249: _get_options\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python3.5/dist-packages/pyinsane2-2.0.7-py3.5.egg/pyinsane2/sane/abstract_proc.py: L   71: remote_do\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python3.5/dist-packages/pyinsane2-2.0.7-py3.5.egg/pyinsane2/util.py: L   26: __getattr__\nERROR  paperwork.frontend.util.jobs    5: /usr/local/lib/python3.5/dist-packages/pyinsane2-2.0.7-py3.5.egg/pyinsane2/util.py: L   26: __getattr__. Weird error...\nkeyerror on _options, which is defined in the __init__... :/\nINFO   paperwork.frontend.settingswindow Looking for sources of device [lexmark_nscan:libusb/003/005]\nERROR  paperwork.frontend.util.jobs   ===> Job SourceFinder:4 raised an exception: <class 'KeyError'>: '_options'\nERROR  paperwork.frontend.util.jobs    0: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/util/jobs.py: L  180: _run\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/settingswindow/__init__.py: L  166: do\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python3.5/dist-packages/pyinsane2-2.0.7-py3.5.egg/pyinsane2/sane/abstract_proc.py: L  249: _get_options\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python3.5/dist-packages/pyinsane2-2.0.7-py3.5.egg/pyinsane2/sane/abstract_proc.py: L   71: remote_do\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python3.5/dist-packages/pyinsane2-2.0.7-py3.5.egg/pyinsane2/util.py: L   30: __getattr__\nERROR  paperwork.frontend.util.jobs   ---> Job SourceFinder:4 was started by:\nERROR  paperwork.frontend.util.jobs    0: /usr/local/bin/paperwork: L    6: <module>\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python3.5/dist-packages/paperwork/paperwork.py: L  153: main\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/util/actions.py: L   85: on_combobox_changed_cb\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/util/actions.py: L   64: __do\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/settingswindow/__init__.py: L  514: do\nERROR  paperwork.frontend.util.jobs    5: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/util/jobs.py: L  249: schedule\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [lexmark_nscan:libusb/003/005]\nERROR  paperwork.frontend.util.jobs   ===> Job ResolutionFinder:4 raised an exception: <class 'KeyError'>: '_options'\nERROR  paperwork.frontend.util.jobs    0: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/util/jobs.py: L  180: _run\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/settingswindow/__init__.py: L  256: do\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python3.5/dist-packages/pyinsane2-2.0.7-py3.5.egg/pyinsane2/sane/abstract_proc.py: L  249: _get_options\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python3.5/dist-packages/pyinsane2-2.0.7-py3.5.egg/pyinsane2/sane/abstract_proc.py: L   71: remote_do\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python3.5/dist-packages/pyinsane2-2.0.7-py3.5.egg/pyinsane2/util.py: L   30: __getattr__\nINFO   paperwork.frontend.settingswindow Selected source: -1\nERROR  paperwork.frontend.util.jobs   ---> Job ResolutionFinder:4 was started by:\nERROR  paperwork.frontend.util.jobs    0: /usr/local/bin/paperwork: L    6: <module>\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python3.5/dist-packages/paperwork/paperwork.py: L  153: main\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/util/actions.py: L   85: on_combobox_changed_cb\nINFO   paperwork.frontend.settingswindow Scanner sources: []\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/util/actions.py: L   64: __do\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/settingswindow/__init__.py: L  518: do\nERROR  paperwork.frontend.util.jobs    5: /usr/local/lib/python3.5/dist-packages/paperwork/frontend/util/jobs.py: L  249: schedule. Seems okay, thanks. The described behaviour is when using the scanner over the network.\nWhen plugging the printer on the USB port, it seems to act as it should:\nSources are flatbed or feeder, the \"scan\" button scans only one page and the \"scan from feeder\" (\"num\u00e9riser depuis le bac\") option works.... It is already connected using both USB and ethernet, both diagnostics are already included in #533.... On this scanner, it's not even a naming problem, it's a name-to-feature assignation problem.\nThey use the \"source\" option to define the machine behaviour regarding multi-page scanning. the \"multiple pages\" option allow putting page after page in the flatbed scanner without moving from behind the printer.\nIt may be useful for big offices (this printer is made for such offices, where multiple people may want to use the hardware at the same time), allowing one person to scan multiple pages without moving back to his/her desk between two pages...\nBut it's not a correct option naming.... As far as I understand this printer driver behaviour, a Sane-based software may not be able to scan multiple pages at once when the printer is networked.\nThe behaviour with skanlite is no different than with paperwork.\nThe only situation where this behaviour works is when using the software supplied by Lexmark.. > So .. the multi-scan dialog should work with the source \"Single Page\" and use the flatbed ?\nNope.\nI'll answer to your question in #536 here because it is related to this issue.\nPlugged via USB:\n \"Flatbed\" + button \"scan\" = 1 page scanned from the flatbed\n \"Flatbed\" + multi-scan dialog = many pages scanned from the feeder\n \"ADF\" + button \"scan\" = 1 page scanned from the feeder\n \"ADF\" + multi-scan dialog = many pages scanned from the feeder\nUsed over the network:\n \"Single Page\" + button \"scan\" + there are pages in the feeder = all pages in the feeder are scanned and transferred to the driver, but only the first page is transmitted to paperwork\n \"Single Page\" + button \"scan\" + there is nothing in the feeder = 1 page scanned from the flatbed\n \"Single Page\" + multi-scan dialog = nope because there is no feeder detected, the option is greyed out\n \"Multiple Pages\" + button \"scan\" + there are pages in the feeder = all pages in the feeder are scanned and transferred to the driver, then the printer waits for me to put other documents (and then transfer them to the driver too) or to tell that there is no other document to scan, then only the first page is transmitted to paperwork\n \"Multiple Pages\" + button \"scan\" + there is nothing in the feeder = 1 page scanned from the flatbed, then the printer waits for me to put other documents (and then transfer them to the driver too) or to tell that there is no other document to scan, then only the first page is transmitted to paperwork\n \"Multiple Pages\" + multi-scan dialog = nope because there is no feeder detected, the option is greyed out\nIn addition to that behaviour, the scan job is not immediately triggered: a task is put into a queue (called \"profile\" in the printer) and you must go in front of the printer to trigger the scan job. Perfect for offices when the printer is far from your desk, once again.. In conclusion, in my understanding, there is nothing you can do for this MFP when it is used over the network, because of how its driver works.. I don't think ungraying the multiple scan option byu default and make is usable with regular flatbed scanners would make sense. It may be very confusing.\nI also don't think you should modify paperwork's behaviour to make it work with a setup which is obviously made for big offices, where there probable are no paperwork users.. > I just need to add \"Multiple pages\" to the list.\nNope, there is absolutely no relation.\n\"Multiple pages\" only means \"the printer must ask me to add pages after the ones that have been scanned\", but a scan job with the \"Multiple pages\" source still results in one-page scans in Sane.\nOnce again, this weird Lexmark driver does not seem to transmit more than the first page to Sane.. full procedure with the \"Single page\" source:\n1/ click on \"scan\" in ANY software (tested with paperwork and skanlite)\n2/ the driver window pops up, telling the user to go to the printer, put their document in the scanner and trigger the job (called \"profile\")\n3/ go in front of the printer\n4/ put 3 sheets in the feeder tray\n5/ trigger the profile\n6/ the feeder takes the 3 sheets one after another\n7/ the printer screen goes back to the home screen\n8/ in paperwork or scanlite, only the first page is displayed\nfull procedure with the \"Multiple pages\" source:\n1/ click on \"scan\" in ANY software (tested with paperwork and skanlite)\n2/ the driver window pops up, telling the user to go to the printer, put their document in the scanner and trigger the job (called \"profile\")\n3/ go in front of the printer\n4/ put 3 sheets in the feeder tray\n5/ trigger the profile\n6/ the feeder takes the 3 sheets one after another\n7/ the printer screen tells either to put new documents in the scanner or to finish the profile\n8/ put 3 more sheets\n9/ tell the printer to continue scanning\n10/ the feeder takes the 3 sheets one after another\n11/ the printer screen tells either to put new documents in the scanner or to finish the profile\n12/ tell the printer to end the profile\n13/ the printer screen goes back to the home screen\n14/ in paperwork or scanlite, only the first page is displayed. with the \"multiple pages scan\" option in paperwork, paperwork doesn't request one job with multiple pages to the scanner: it triggers a new scan job for every scanned page... so the \"multiple pages\" lexmark option is really not related.. > > the driver window pops up\n\nThere is a X11 window integrated to the Sane driver ... how .. ugly.\n\nWithout a window, how would you:\n tell the user (s)he can go to the printer room and trigger the scan job ?\n allow the user to cancel the job remotely ?\n(by the way, it is not only a X11 window, it's java!). > The user has to go to the scanner anyway, and there is a screen on the scanner, no?\nSo you mean the paperwork/skanlite window would sit there, not displaying anything, letting the user guess what (s)he must do on the scanner ?\nOh, by the way, they planned this feature for offices where multiple people would need scanning at the same time: there may be multiple jobs (profiles) waiting on the MFP's scanner, and the java window tells the user which one is his. See screenshot below:\n\n\nThere is a function \"sane_cancel()\"\n\nThe need is not to cancel the Sane job. The driver needs to tell the printer itself to delete the profile from its internal queue.\nIt's probably after cancelling the profile in the printer queue that the driver executes \"sane_cancel()\".\n\nThis complicated procedure (great for big offices but annoying for me, I have the printer next to me in my personal office) is the main reason why I will not use the scanner over the network :). > Canceling the Sane job is removing it from the printer's queue. (or it should)\nNope. It is removing it from the sane's queue. In most cases, a scanner does not have a queue : sane requests a scan, the scanner does its job.\nFrom the software point of view, this driver simulates a scanner with a very long reaction time.... > I'm wondering if it would make sense to display first something like \"Waiting for scanner\" in Paperwork while waiting for the first bytes to arrive from the scanner.\nThat never bothered me.... I think this issue can be closed as wontfix.... I'm sure no useful change is possible.... This behaviour is awesome. It MUST be documented/detailed in the settings window.. By the way, doesn't this behaviour make this option useless ?. Is there any situation where the default source must not be flatbed ?. I don't know all the possible hardware in the world too, but I guess the vast majority have only one source (mainly flatbed, maybe feeder for portable scanners), other ones have two sources (flatbed and feeder), and that none of them have 3 sources.. Nope, the behavious is totally not the same. Details in #534.. I think a633349 solves this issue.\n@jflesch what do you think ?. In order to address #524 too, the \"+\" button in the left part may be moved on the left of the \"scan\" button, the buttons block would look like:\n```\n\n| + | scan | multi | import |\n\n```. I think the separated titlebar for the left part is useless... the right part could be extended to take the whole window width. the words may also be replaced by icons, so this group of buttons would only be as large as three or four icon buttons...\n(that may even make them narrower than the \"Num\u00e9riser\" word with the carret on the right). * \"+\" for \"new document\"\n the word \"Scan\" for regular scanning, like now\n an icon with 2 pages for \"multi\"\n* the pdf icon for \"import\"\n:). > the pdf icon for \"import\"\n\nBut then a lot of people may think it only supports PDFs ...\n\nIt supports something else ???. > The button group you propose suggests equally important actions\nYep.\nWhen one has no feeder:\n some documents are scanned papers (some invoices, contracts, etc)\n some documents are PDF documents (mainly invoices - ISP, energy bills, etc)\nWhen one has a feeder:\n scanning from the feeder is the most important action (because most documents can be scanned this way)\n scanning from the flatbed scanner may still be useful, for some particular documents (weird formats, too light paper, etc)\nI personally use the \"import\" action more often than the \"scan\" action.\nTelling it is less important is an arbitrary choice which doesn't fit the need of at least one user: me.\nThat's why I think all scan/import options must have the same importance.\n\nyour concern was lid and feeder can be seen as two options for the very same scan action, and import from file a separate action\n\nNope.\nThey are three different actions with the same importance. The choice between them is not related to which one is the more important but to which one is suitable when scanning/importing a document.\n\nRegarding icons, I think they should be avoided\n\nThe GNOME project have face much dissatisfaction from users when they decided to remove icons in the menus. Icons offer a better visual impression than text. Not to mention illiterate people.... > Well, I doubt illiterate people is the primary target for Paperwork :p\nSure... Personally, I find it far easier to find icons than to find text. I'm a \"visual\" guy...\nRegarding your mockup, I understand that for switching source I must open the menu, click on the source, then on the \"add pages\" button. Am I correct ?\nIf so, that's not acceptable: if I have a PDF to import, then 4 pages, then 1 document that is not accepted by the feeder, then another PDF to import, I have to:\n\nopen the menu\nclick on \"digital file\"\nclick on \"add pages\"\nopen the menu\nclick on \"feeder\"\nclick on \"add pages\"\nopen the menu\nclick on \"flatbed\"\nclick on \"add pages\"\nopen the menu\nclick on \"digital file\"\nclick on \"add pages\"\n\nWhereas, with three buttons, I would :\n click on \"import\"\n click on \"scan one\"\n click on \"scan multiple\"\n click on \"import\". mjourdan: I see your point. But it would still be the approach allowing the smaller number of clicks.\njflesh: Useful is better than pretty.. \"Scan\" could be replaced with \"Add page\".\nThere still would be two \"Add\" buttons close to each other, which is sub-optimal. Maybe we can find another cleaner approach.. > Is it the buttons position would be too close? Is it the \"add\" wording or icons would be too similar? Something else?\nIt's about the whole picture. whatever you would do about these buttons, having two independent \"add something\" button on the same toolbar may be disturbing.\nI like your last proposal, because the \"+\" button is next to the pages counter : we easily understand it means \"add a page\". However, I would put it on the right and not on the left, because pages are added after, not before the current ones.. When I import a folder containing many PDFs, does it create multiple documents, or one document with all PDFs \"merged\" ?\nWhen I import a folder containing many PNGs, does it create multiple documents, or one document with all PNGs \"merged\" ?\nExplicit documentation is really needed !. I agree. A \"home screen\" with at least a documents count, list of labels, etc, would be great and reassuring.. Same comment than jflesch. I think the document list must remain visible.. For the sake of consistency, I think the document list must always be visible.... I prefer the second one, however the \"recent document\" part is not needed: it is on the left.... I prefer #5 too.\nMaybe #7, but there is no advantage in pushing the document list behind the document reader...\nRegarding making it \"the\" Gnome menu, I'm not sure I understand which menu you are talking about. If you are talking about the menu displayed when you click on the window name in the topbar, I'm against it.\nIt could definitely be a regular menu, with dynamic entries (but I don't know if we can put label icons, colors, etc, in a menu...). jflesh: are you talking about #5 vs #7, or really #4 vs #7 ?\nBecause the difference between #4 and #7 is obvious to me...\nThe difference between #5 and #7 is just about the behaviour of the document list.. As I understand it, this menu is for occasional actions (parameters, etc), not for day-to-day use.. Related to #535. That's because a \"simple\" scan always scans only one page. To scan multiple pages, you need to use the related option in the drop-down menu. This option always uses the ADF, even when another source is selected.\nI guess a \"duplex\" checkbox must be added to this option's screen...\nI too am waiting for this addition :). @jflesch : the option doesn't seem to work the same way : a separate option for me, a different source for julakali. You may want to take into account this diag.txt on #535 too.... :+1:. It seems the instructions on the aforementioned page are missing the following command:\n$ sudo pypi-install paperwork-backend\n@jflesch will be able to confirm that.... Paperwork needs the Python GObject \"gi\" module (https://download.gnome.org/sources/pygobject/), however you have installed the \"gi\" package (https://pypi.python.org/pypi/gi/1.2). These are two very different things.\nMaybe the installation instructions must be modified, I don't know. I personally have installed the python3-gi Ubuntu package before using pip and it works correctly.. Tesseract is the OCR software used by Paperwork (https://github.com/tesseract-ocr/tesseract/).\nDevelopers of this game could have chosen a name which is not already used elsewhere :)\nI personally don't have a solution for you.\nMaybe there should be a way to define tesseract path in the configuration.... Out of curiosity... Why would it use the tesseract command instead of the lib ? What is the advantage ?. I don't agree @jflesch : you can't rely on the command name or location. Tesseract may be outside of the PATH, or a maintainer may change the command name...\nI think allowing to define the path may be useful, event if there is no GUI for that but only a config var.... Regarding tesseract in the PATH etc, https://github.com/jflesch/pyocr/blob/master/src/pyocr/tesseract.py#L32 show that there may be problems that would only be solved by modifying sourcecode, which is not a good solution. Why not keep it ? The longer the better.\nRegarding invoices, you must keep them as long as possible, even after the 2-years delay : you may need the to prove you owned things after a house fire, for insurance...\nI'm sure I can find cases like that for every document type you'll find :). > I could see a use case for an \"archive on\" feature\nerrr... in my opinion, everything in paperwork is already \"archived\"... whatever is in paperwork is a part of the pile of archived documents I will maybe need to access once, sometimes later... maybe never.... You should not throw your papers away, you need them for legal reasons (at least in France, I guess it is the same everywhere). Paperwork makes them grepable and reprintable, but it does not replace them completely.\nMoreover, good quality JPEGs are perfectly fine for such scans. PNGs would take much more space, with insignificant gain.. Hello,\nI currently have 1486 documents, the larger one with 111 pages, but mostly 1 or 2 pages... While not being hyper-quick, paperwork is fast enough to be usable.... I think it is clear that paperwork is not meant for big documents.... ",
    "philuser": "there appears to have a small regression, because when I write one character pronounced like \"\u00e9\", I get the following error:\nAction: [Creating label]\nTried to use UI file ./labeledit.glade but failed: L'ouverture du fichier \u00ab\u00a0./labeledit.glade\u00a0\u00bb a \u00e9chou\u00e9\u00a0: Aucun fichier ou dossier de ce type\nTried to use UI file src/paperwork/frontend/labeledit.glade but failed: L'ouverture du fichier \u00ab\u00a0src/paperwork/frontend/labeledit.glade\u00a0\u00bb a \u00e9chou\u00e9\u00a0: Aucun fichier ou dossier de ce type\nUI file used: /usr/local/share/paperwork/labeledit.glade\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/label_editor.py\", line 61, in __on_label_entry_changed\n    txt = unicode(label_entry.get_text()).strip()\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 0: ordinal not in range(128)\nTraceback (most recent call last):\n. Merci, cela fonctionne en effet pour lancer l'application et permet de scanner des documents avec l'OCR.\nMais il reste un hic! lors de l'importation d'un pdf j'ai le retour d'une erreur similaire :-1: \nAction: [Import file(s)]\nTried to use UI file ./import.glade but failed: L'ouverture du fichier \u00ab\u00a0./import.glade\u00a0\u00bb a \u00e9chou\u00e9\u00a0: Aucun fichier ou dossier de ce type\nTried to use UI file src/paperwork/frontend/import.glade but failed: L'ouverture du fichier \u00ab\u00a0src/paperwork/frontend/import.glade\u00a0\u00bb a \u00e9chou\u00e9\u00a0: Aucun fichier ou dossier de ce type\nUI file used: /usr/local/share/paperwork/import.glade\nImport: file:///home/philuser/Documents/Projets/2013066091882.pdf\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py\", line 54, in on_menuitem_activate_cb\nreturn self.__do()\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py\", line 48, in __do\nreturn self.do(**kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 1187, in do\nself.__main_win.doc)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/backend/docimport.py\", line 141, in get_possible_importers\n    if importer.can_import(file_uri, current_doc):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/backend/docimport.py\", line 74, in can_import\n    except gi._glib.GError:\nAttributeError: 'module' object has no attribute 'GError'\nLa correction est certainement aussi \u00e0 effectuer sur les codes de ; docimport.py\nLa modif sur les lignes 74 et 75 de docimport.py, corrige le prb\n```\nexcept gi._glib.GError:\n    except GLib.GError:\n\n```\n. I use ubuntu raring (13/04) with kernel 3.8.8\nphiluser@Meghost:~$ uname -a\nLinux Meghost 3.8.8-030808-generic #201304170248 SMP Wed Apr 17 06:49:45\nUTC 2013 x86_64 x86_64 x86_64 GNU/Linux\n2013/4/22 Jerome Flesch notifications@github.com\n\nCan you specify which Linux distribution you are using please ?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jflesch/paperwork/issues/143#issuecomment-16803807\n.\n. \n",
    "dolanor": "I \"plussoie\" this idea. I have all my current paperwork archive in pdf without OCR.\n. Searchable PDF for me would be the best than 3 files for only 1 paper ;)\n. ",
    "Glandos": "There are two different approaches. Some people already have some papers in PDF. For example, ISP or bank gives their customer a nice PDF, with text inside.\nHowever, there are also people like me who don't have a scanner at home, and use the one in their office, and bring back the scanned document at home\u2026\n. Real good. I see that you're really working hard to make an usable version. I'm not using it right now, but I should give it a try when you'll merge the pdf branch\n. Indeed, it could be a great idea :)\n. @jflesch Since you are using pyxdg now, there is a temporary directory defined in XDG if I remember correctly.\n. ",
    "quent57": "I hope it will be merged soon to master !\nI need the function without ocr.\nThanks for this work.\n. it's work fine, thank you !\n. It's would be very interesting for me !\n. For drag-n-droping a page inside a same document, the only use case I can think of right now is fixing a page order mistake after scanning a whole document.  -> Yes, it's my use case.\nFor drag-n-droping pages from one document to another, \n-> I have 2 use cases : \n- I want to scan a new document, but I forgot to clic on \"new\" button (it was happened every time when I started to use paperwork). So I can drag and drop the page into a new empty document.\n- I change my habbits.\n  For exemple, i start to make one document per month, for my \"quittance de loyer\" (!). \n  After, I want to change the organisation : I would like to make one big document per year, with 12 pages.\n  Now, I have to scan them all again.\n. why not 2 scan buttons instead of \"Scanner\" (I don't look for english version, \"scan\" I guess) ?\nFirst : \"scan a new document\"\nSecond : \"add a page to current document.\"\nThoses titles are too long, but this is the idea.\nMaybe have different location for those buttons.\nClose issue, I would like select many documents, and merge them in one document.\n(Multi-selection then right clic -> merge)\n. A last argument for 2 buttons : \nI see 2 mains use cases, related to those buttons : \n- 1) I want to scan a new document\n- 2)I want to scan a new page in same document\nWe have now 2 buttons : [New] and [Scan].\nActions are : \n- 1) [New] -> [Scan]\n- 2) [Scan]  \nI purpose : thoses 2 buttons : [Scan new document]. [Scan new page]\nActions are : \n- 1)  [Scan new document]\n- 2)  [Scan new page]\nI think, it a bit easier and  more intuitive.\nAnd I love your interface in many points !\nDocument merging : You're right.\n. ocrodjvu is gplv2, \ni have identified this code for fixing the problem : \nclass EncodingWarning(UserWarning):\n    pass\n_control_characters_regex = re.compile('[%s]' % ''.join(\n    ch for ch in map(chr, xrange(32))\n    if ch not in u'\\n\\r\\t'\n))\ndef sanitize_utf8(text):\n    '''\n    Replace invalid UTF-8 sequences and control characters (except CR, LF, TAB\n    and space) with Unicode replacement characters.\n    '''\n    try:\n        text = text.decode('UTF-8')\n    except UnicodeDecodeError, exc:\n        text = text.decode('UTF-8', 'replace')\n        message = str(exc)\n        message = re.sub(\"^'utf8' codec can't decode \", '', message)\n        warnings.warn(\n            message,\n            category=EncodingWarning,\n            stacklevel=2,\n        )\n    text = text.encode('UTF-8')\n    match = _control_characters_regex.search(text)\n    if match:\n        byte = ord(match.group())\n        message = 'byte 0x%02x in position %d: control character' % (byte, match.start())\n        warnings.warn(\n            message,\n            category=EncodingWarning,\n            stacklevel=2,\n        )\n        text = _control_characters_regex.sub(u'\\N{REPLACEMENT CHARACTER}'.encode('UTF-8'), text)\n    # There are other code points that are not allowed in XML (or even: not\n    # allowed in UTF-8), but which Python happily accept. However, they haven't\n    # seemed to occur in real-world documents.\n    # http://www.w3.org/TR/2008/REC-xml-20081126/#NT-Char\n    return text\n```\n    contents = stream.read()\ncontents = utils.sanitize_utf8(contents)\n\n```\n. I have finally make a correction for myself in pyocr.\nI can't publish it because paperwork is licenced under gpl v2.\nI'll ask them if i can copy this function in pyocr.\n. yes, i think you are right.\nI test your commit.\ni use Ubuntu 12.04 with tesseract 3 (it's by default), I think you can reproduce bug with same config(?)\nThanks for your response.\n. Button \"close\" is quite sensible is github ! \nIt's ok for me, thank's for your help.\n. I have a combo printer-scanner : HP photosmart Plus TouchSmart Wireless\nWhen I am not connected and printer off I have : \n\n$ ./list_all.py \nScanner 'hpaio:/net/Photosmart_Plus_B209a-m?zc=HP0E84E5' (Hewlett-Packard, Photosmart_Plus_B209a-m, all-in-one)\nTraceback (most recent call last):\n  File \"./list_all.py\", line 9, in \n    for opt in device.options.values():\n  File \"/home/quentin/git/pyinsane/src/abstract.py\", line 298, in _get_options\n    self.__load_options()\n  File \"/home/quentin/git/pyinsane/src/abstract.py\", line 287, in __load_options\n    self._open()\n  File \"/home/quentin/git/pyinsane/src/abstract.py\", line 266, in _open\n    handle = rawapi.sane_open(self.name)\n  File \"/home/quentin/git/pyinsane/src/rawapi.py\", line 547, in sane_open\n    raise SaneException(SaneStatus(status))\nsrc.rawapi.SaneException:  : Error during device I/O (9)\n\nAnd when my scaner is connected and on : \n\n./list_all.py \nScanner 'hpaio:/usb/Photosmart_Plus_B209a-m?serial=CN05Q4118H05MM' (Hewlett-Packard, Photosmart_Plus_B209a-m, all-in-one)\n  Option: compression\n    Title: Compression\n    Desc: Selects the scanner compression method for faster scans, possibly at the expense of image quality.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'JPEG']\n    Value: JPEG\n  Option: None\n    Title: None\n    Desc: None\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 0\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: length-measurement\n    Title: Length measurement\n    Desc: Selects how the scanned image length is measured and reported, which is impossible to know in advance for scrollfed scans.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Unknown', 'Approximate', 'Padded']\n    Value: Padded\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19459342, 0)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 0\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19459342, 0)\n    Value: 19459342\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 14149222\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Flatbed']\n    Value: Flatbed\n  Option: jpeg-quality\n    Title: JPEG compression factor\n    Desc: Sets the scanner JPEG compression factor. Larger numbers mean better compression, and smaller numbers mean better image quality.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 100, 0)\n    Value: 10\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Lineart', 'Gray', 'Color']\n    Value: Color\n  Option: batch-scan\n    Title: Batch scan\n    Desc: Enables continuous scanning with automatic document feeder (ADF).\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [75, 100, 150, 200, 300, 600, 1200]\n    Value: 75\n  Option: contrast\n    Title: Contrast\n    Desc: Controls the contrast of the acquired image.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 100, 0)\n    Value: 50\n\nScanner 'hpaio:/net/Photosmart_Plus_B209a-m?zc=HP0E84E5' (Hewlett-Packard, Photosmart_Plus_B209a-m, all-in-one)\n  Option: compression\n    Title: Compression\n    Desc: Selects the scanner compression method for faster scans, possibly at the expense of image quality.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'JPEG']\n    Value: JPEG\n  Option: None\n    Title: None\n    Desc: None\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 0\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: length-measurement\n    Title: Length measurement\n    Desc: Selects how the scanned image length is measured and reported, which is impossible to know in advance for scrollfed scans.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Unknown', 'Approximate', 'Padded']\n    Value: Padded\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19459342, 0)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 0\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19459342, 0)\n    Value: 19459342\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 14149222\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Flatbed']\n    Value: Flatbed\n  Option: jpeg-quality\n    Title: JPEG compression factor\n    Desc: Sets the scanner JPEG compression factor. Larger numbers mean better compression, and smaller numbers mean better image quality.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 100, 0)\n    Value: 10\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Lineart', 'Gray', 'Color']\n    Value: Color\n  Option: batch-scan\n    Title: Batch scan\n    Desc: Enables continuous scanning with automatic document feeder (ADF).\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [75, 100, 150, 200, 300, 600, 1200]\n    Value: 75\n  Option: contrast\n    Title: Contrast\n    Desc: Controls the contrast of the acquired image.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 100, 0)\n    Value: 50\n\n. Notice that I can scan without wire thanks to hplip.\nWhen the scaner is not connected, and on : \n\n./list_all.py \nScanner 'hpaio:/net/Photosmart_Plus_B209a-m?zc=HP0E84E5' (Hewlett-Packard, Photosmart_Plus_B209a-m, all-in-one)\n  Option: compression\n    Title: Compression\n    Desc: Selects the scanner compression method for faster scans, possibly at the expense of image quality.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'JPEG']\n    Value: JPEG\n  Option: None\n    Title: None\n    Desc: None\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 0\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: length-measurement\n    Title: Length measurement\n    Desc: Selects how the scanned image length is measured and reported, which is impossible to know in advance for scrollfed scans.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Unknown', 'Approximate', 'Padded']\n    Value: Padded\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19459342, 0)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 0\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19459342, 0)\n    Value: 19459342\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 14149222\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Flatbed']\n    Value: Flatbed\n  Option: jpeg-quality\n    Title: JPEG compression factor\n    Desc: Sets the scanner JPEG compression factor. Larger numbers mean better compression, and smaller numbers mean better image quality.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 100, 0)\n    Value: 10\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 20\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Lineart', 'Gray', 'Color']\n    Value: Color\n  Option: batch-scan\n    Title: Batch scan\n    Desc: Enables continuous scanning with automatic document feeder (ADF).\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [75, 100, 150, 200, 300, 600, 1200]\n    Value: 75\n  Option: contrast\n    Title: Contrast\n    Desc: Controls the contrast of the acquired image.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 100, 0)\n    Value: 50\n\n\n. You are so fast !\nSo : \nMy scenario :\n- Stop my scaner don't plug it in my pc. \n- start paperwork\n- scan -> nice error in GUI (popup \"Aucun scanner...\")\n- start my scaner\n- scan -> crash paperwork ! \nHere a trace : \n\n$ paperwork \nLooking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nWill use locales from 'locale'\nConfig file found: /home/quentin/.paperwork.conf\nTry to used UI file ./mainwindow.glade but failed: L'ouverture du fichier \u00ab\u00a0./mainwindow.glade\u00a0\u00bb a \u00e9chou\u00e9\u00a0: Aucun fichier ou dossier de ce type\n/usr/local/lib/python2.7/dist-packages/paperwork/util.py:105: GtkWarning: Could not load image 'paperwork.svg': Impossible d'ouvrir le fichier \u00ab\u00a0src/paperwork/view/paperwork.svg\u00a0\u00bb\u00a0: Aucun fichier ou dossier de ce type\n  widget_tree.add_from_file(ui_file)\n/usr/local/lib/python2.7/dist-packages/paperwork/util.py:105: GtkWarning: Unknown property: GtkVBox.hexpand\n  widget_tree.add_from_file(ui_file)\n/usr/local/lib/python2.7/dist-packages/paperwork/util.py:105: GtkWarning: Unknown property: GtkVBox.vexpand\n  widget_tree.add_from_file(ui_file)\nUI file used: src/paperwork/view/mainwindow.glade\nAction: [New document]\nException while trying to get the number of pages of '20120715_2309_27': [Errno 2] Aucun fichier ou dossier de ce type: '/home/quentin/Documents/PaperWork/20120715_2309_27'\nException while trying to get the number of pages of '20120715_2309_27': [Errno 2] Aucun fichier ou dossier de ce type: '/home/quentin/Documents/PaperWork/20120715_2309_27'\nWorkers: [Building page image] started\n Workers: [Building page image] ended\nAction: [Document reindexation]\nWorkers: [Document reindexation] started\nWorkers: [Document reindexation] ended\nSearch: \nGot 0 suggestions\nGot 21 documents\nWorkers: [Scanning page] started\nWorkers: [Progress bar updater: main window progress bar] started\nNo scanner found !\nShowing popup !\nException in thread Thread-4:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 551, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 504, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/controller/workers.py\", line 25, in __wrapper\n    self.do(**kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/controller/mainwindow.py\", line 347, in do\n    scanner = self.__config.get_scanner_inst()\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/model/config.py\", line 232, in get_scanner_inst\n    scanner.options['resolution'].value = self.scanner_resolution\n  File \"/usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py\", line 157, in _get_options\n    options = SaneAction(self._abstract_dev._get_options).wait()\n  File \"/usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py\", line 34, in wait\n    raise self.exception\nSaneException:  : Error during device I/O (9)\n\nStopping worker [Progress bar updater: main window progress bar]\nWorkers: [Progress bar updater: main window progress bar] ended\nException while trying to get the number of pages of '20120715_2309_27': [Errno 2] Aucun fichier ou dossier de ce type: '/home/quentin/Documents/PaperWork/20120715_2309_27'\nException while trying to get the number of pages of '20120715_2309_27': [Errno 2] Aucun fichier ou dossier de ce type: '/home/quentin/Documents/PaperWork/20120715_2309_27'\nWorkers: [Thumbnailing] started\nException while trying to get the number of pages of '20120715_2309_27': [Errno 2] Aucun fichier ou dossier de ce type: '/home/quentin/Documents/PaperWork/20120715_2309_27'\nWorkers: [Thumbnailing] ended\nWorkers: [Scanning page] started\nWorkers: [Progress bar updater: main window progress bar] started\nErreur de segmentation (core dumped)\n\n\n. Restarting paperwork : \n- scan (scaner is on, not pluged) -> work fine\n- I stop my scanner\n- scan ->  \"Aucun scanner trouv\u00e9 (est-ce que votre scanner est allum\u00e9 ?)\"\n. I can do more test if you indicate how to me !\n. ok, I have done it :\n(I tryed to : \n- start my scanner\n- start paperwork\n- scan : ok\n- stop my scanner\n- scan : error message\n- start my scanne\n- scan ok !!)\nAnd with : \n- stop my scanner\n- start paperwork \n- scan : error message\n- stop my scanner\n-  scan : segfault !! \n  )\n\nWorkers: [Progress bar updater: main window progress bar] started\n\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffe6b90700 (LWP 8323)]\n0x00007ffff69f6c09 in ?? () from /lib/x86_64-linux-gnu/libc.so.6\n(gdb) bt\n#0  0x00007ffff69f6c09 in ?? () from /lib/x86_64-linux-gnu/libc.so.6\n#1  0x00007fffcf3dc7e7 in hpaioFindScanner (\n    name=0xf88422 \"/net/Photosmart_Plus_B209a-m?zc=HP0E84E5\")\n    at scan/sane/hpaio.c:320\n#2  sane_hpaio_open (\n    devicename=0xf88422 \"/net/Photosmart_Plus_B209a-m?zc=HP0E84E5\", pHandle=\n    0x7fffe6b8eb18) at scan/sane/hpaio.c:1687\n#3  0x00007fffe6b95747 in sane_dll_open (full_name=, \n    meta_handle=0x4277490) at dll.c:1198\n#4  0x00007fffe7243ea4 in ffi_call_unix64 ()\n   from /usr/lib/python2.7/lib-dynload/_ctypes.so\n#5  0x00007fffe72438c5 in ffi_call ()\n   from /usr/lib/python2.7/lib-dynload/_ctypes.so\n#6  0x00007fffe72342c2 in _ctypes_callproc ()\n   from /usr/lib/python2.7/lib-dynload/_ctypes.so\n#7  0x00007fffe7234aa2 in PyCFuncPtr_call.2798 ()\n   from /usr/lib/python2.7/lib-dynload/_ctypes.so\n#8  0x00000000004c7c76 in PyObject_Call ()\n#9  0x000000000042aa4a in PyEval_EvalFrameEx ()\n#10 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#11 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#12 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#13 0x00000000004317f2 in PyEval_EvalCodeEx ()\n---Type  to continue, or q  to quit---\n#14 0x000000000054ab72 in function_call ()\n#15 0x00000000004c7c76 in PyObject_Call ()\n#16 0x000000000042c19c in PyEval_EvalFrameEx ()\n#17 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#18 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#19 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#20 0x00000000004317f2 in PyEval_EvalCodeEx ()\n#21 0x000000000054aa40 in function_call ()\n#22 0x00000000004c7c76 in PyObject_Call ()\n#23 0x000000000049e9ba in instancemethod_call.8548 ()\n#24 0x00000000004c7c76 in PyObject_Call ()\n#25 0x00000000004c7d36 in PyEval_CallObjectWithKeywords ()\n#26 0x00000000004832e8 in t_bootstrap.49012 ()\n#27 0x00007ffff7bc4e9a in start_thread ()\n   from /lib/x86_64-linux-gnu/libpthread.so.0\n#28 0x00007ffff69b64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\n#29 0x0000000000000000 in ?? ()\n\n. \n(gdb) bt full\n0  0x00007ffff69f6c09 in ?? () from /lib/x86_64-linux-gnu/libc.so.6\nNo symbol table info available.\n1  0x00007fffcf3dc7e7 in hpaioFindScanner (\nname=0xf88422 \"/net/Photosmart_Plus_B209a-m?zc=HP0E84E5\")\nat scan/sane/hpaio.c:320\n    p = 0x7fffdc010a60\n\n2  sane_hpaio_open (\ndevicename=0xf88422 \"/net/Photosmart_Plus_B209a-m?zc=HP0E84E5\", pHandle=\n0x7fffe6b8eb18) at scan/sane/hpaio.c:1687\n    ma = {prt_mode = HPMUD_RAW_MODE, mfp_mode = HPMUD_DOT4_MODE, \n      scantype = HPMUD_SCANTYPE_SCL, statustype = HPMUD_STATUSTYPE_SFIELD, \n      support = HPMUD_SUPPORT_TYPE_HPLIP, plugin = HPMUD_PLUGIN_TYPE_NONE, \n      reserved = {HPMUD_SUPPORT_TYPE_NONE, HPMUD_SUPPORT_TYPE_NONE, \n        4140301808, 32767, HPMUD_SUPPORT_TYPE_HPLIP}, \n      scansrc = HPMUD_SCANSRC_NA}\n    retcode = SANE_STATUS_INVAL\n    hpaio = 0x0\n    bytes_read = 32767\n    deviceIDString = \"x\\355\\230\\315\\377\\177\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\001\", '\\000' <se r\\377\\377\\377\\377\\377\\377\\377\u70ff\\000\\377\\377\\377\\377\\377\\377\\377\n\n.......\n---Type  to continue, or q  to quit---\n.......\n    model = \"\u0639\\001\\334\\377\\177\\000\\000\\020^\\252\\000\\000\\000\\000\\000\\260\\236\\005\\304\\377\\177\\000\\000\\320\\376\\370\\367\\377\\177\\000\\000p\u050e\\000\\000\\000\\000\\000\\240\\032\\370\\000\\000\\000\\000\\000\\004\\000\\000\\000\\000\\000\\000\\000\\300C\\374\", '\\000' <se r\\377\\377\\377\\377\\377\\377\\377\u70ff\\000\\377\\377\\377\\377\\377\\377\\377\n\n...................................\n    forceJpegForGrayAndColor = 0\n    force300dpiForLineart = 0\n\n---Type  to continue, or q  to quit---\n        force300dpiForGrayscale = 0\n        supportsMfpdtf = 1\n        modularHardware = 0\n        devname = \"hp:/net/Photosmart_Plus_B209a-m?zc=HP0E84E5\\000\\000\\000\\000\\000\\340\\353\\270\\346\\377\\177\\000\\000\\004\\264\\234\\366\\377\\177\\000\\000pmL\\000\\000\\000\\000\\000\\260<6\\004\\000\\000\\000\\000H\\352\\270\\346\\377\\177\\000\\000pmL\\000\\000\\000\\000\\000\\260<6\\004\\000\\000\\000\\000\\034\\204\\370\\000\\000\\000\\000\\000P\\353\\270\\346\\377\\177\\000\\000P\\354\\270\\346\\377\\177\\000\\000\\220t'\\004\\000\\000\\000\\000\\332B\\271\\346\\377\\177\\000\\000\\240\\322\\365\\000\\000\\000\\000\\000\\020\\000\\000\\000\\060\\000\\000\\000\\020\\353\\270\\346\\377\\177\\000\\000P\\352\\270\\346\\377\\177\\000\\000\\360\\353\\270\\346\\377\\177\\000\\000\\000\\354\\270\\346\\377\\177\\000\\000\\034\\204\\370\\000\\000\\000\\000\\000\\005\\030P\\000\\000\\000\\000\\000@t'\\004\\000\\000\\000\\000\\240\\322\\365\", '\\000' \n3  0x00007fffe6b95747 in sane_dll_open (full_name=,\nmeta_handle=0x4277490) at dll.c:1198\n    be_name = <optimized out>\n    dev_name = 0xf88422 \"/net/Photosmart_Plus_B209a-m?zc=HP0E84E5\"\n    s = <optimized out>\n\n---Type  to continue, or q  to quit---\n        handle = \n        be = 0x7fffdc00aeb0\n        status = \n        alias = \n4  0x00007fffe7243ea4 in ffi_call_unix64 ()\nfrom /usr/lib/python2.7/lib-dynload/_ctypes.so\nNo symbol table info available.\n5  0x00007fffe72438c5 in ffi_call ()\nfrom /usr/lib/python2.7/lib-dynload/_ctypes.so\nNo symbol table info available.\n6  0x00007fffe72342c2 in _ctypes_callproc ()\nfrom /usr/lib/python2.7/lib-dynload/_ctypes.so\nNo locals.\n7  0x00007fffe7234aa2 in PyCFuncPtr_call.2798 ()\nfrom /usr/lib/python2.7/lib-dynload/_ctypes.so\nNo locals.\n8  0x00000000004c7c76 in PyObject_Call ()\nNo locals.\n9  0x000000000042aa4a in PyEval_EvalFrameEx ()\nNo locals.\n10 0x000000000042abe2 in PyEval_EvalFrameEx ()\nNo locals.\n11 0x000000000042abe2 in PyEval_EvalFrameEx ()\n---Type  to continue, or q  to quit---\nNo locals.\n12 0x000000000042abe2 in PyEval_EvalFrameEx ()\nNo locals.\n13 0x00000000004317f2 in PyEval_EvalCodeEx ()\nNo locals.\n14 0x000000000054ab72 in function_call ()\nNo locals.\n15 0x00000000004c7c76 in PyObject_Call ()\nNo locals.\n16 0x000000000042c19c in PyEval_EvalFrameEx ()\nNo locals.\n17 0x000000000042abe2 in PyEval_EvalFrameEx ()\nNo locals.\n18 0x000000000042abe2 in PyEval_EvalFrameEx ()\nNo locals.\n19 0x000000000042abe2 in PyEval_EvalFrameEx ()\nNo locals.\n20 0x00000000004317f2 in PyEval_EvalCodeEx ()\nNo locals.\n21 0x000000000054aa40 in function_call ()\nNo locals.\n22 0x00000000004c7c76 in PyObject_Call ()\nNo locals.\n---Type  to continue, or q  to quit---\n23 0x000000000049e9ba in instancemethod_call.8548 ()\nNo locals.\n24 0x00000000004c7c76 in PyObject_Call ()\nNo locals.\n25 0x00000000004c7d36 in PyEval_CallObjectWithKeywords ()\nNo locals.\n26 0x00000000004832e8 in t_bootstrap.49012 ()\nNo locals.\n27 0x00007ffff7bc4e9a in start_thread ()\nfrom /lib/x86_64-linux-gnu/libpthread.so.0\nNo symbol table info available.\n28 0x00007ffff69b64bd in clone () from /lib/x86_64-linux-gnu/libc.so.6\nNo symbol table info available.\n29 0x0000000000000000 in ?? ()\nNo symbol table info available.\n\n. new try, after installing libc6-gdb :\nInteresting !\n\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fffe6b90700 (LWP 8668)]\n__strcasecmp_l_sse42 () at ../sysdeps/x86_64/multiarch/strcmp-sse42.S:164\n164 ../sysdeps/x86_64/multiarch/strcmp-sse42.S: Aucun fichier ou dossier de ce type.\n(gdb) bt\n#0  __strcasecmp_l_sse42 () at ../sysdeps/x86_64/multiarch/strcmp-sse42.S:164\n#1  0x00007fffcf3dc7e7 in hpaioFindScanner (name=0xf88422 \"/net/Photosmart_Plus_B209a-m?zc=HP0E84E5\") at scan/sane/hpaio.c:320\n#2  sane_hpaio_open (devicename=0xf88422 \"/net/Photosmart_Plus_B209a-m?zc=HP0E84E5\", pHandle=0x7fffe6b8eb18) at scan/sane/hpaio.c:1687\n#3  0x00007fffe6b95747 in sane_dll_open (full_name=, meta_handle=0x4277490) at dll.c:1198\n#4  0x00007fffe7243ea4 in ffi_call_unix64 () from /usr/lib/python2.7/lib-dynload/_ctypes.so\n#5  0x00007fffe72438c5 in ffi_call () from /usr/lib/python2.7/lib-dynload/_ctypes.so\n#6  0x00007fffe72342c2 in _ctypes_callproc () from /usr/lib/python2.7/lib-dynload/_ctypes.so\n#7  0x00007fffe7234aa2 in PyCFuncPtr_call.2798 () from /usr/lib/python2.7/lib-dynload/_ctypes.so\n#8  0x00000000004c7c76 in PyObject_Call ()\n#9  0x000000000042aa4a in PyEval_EvalFrameEx ()\n#10 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#11 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#12 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#13 0x00000000004317f2 in PyEval_EvalCodeEx ()\n#14 0x000000000054ab72 in function_call ()\n#15 0x00000000004c7c76 in PyObject_Call ()\n#16 0x000000000042c19c in PyEval_EvalFrameEx ()\n#17 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#18 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#19 0x000000000042abe2 in PyEval_EvalFrameEx ()\n#20 0x00000000004317f2 in PyEval_EvalCodeEx ()\n#21 0x000000000054aa40 in function_call ()\n#22 0x00000000004c7c76 in PyObject_Call ()\n#23 0x000000000049e9ba in instancemethod_call.8548 ()\n#24 0x00000000004c7c76 in PyObject_Call ()\n#25 0x00000000004c7d36 in PyEval_CallObjectWithKeywords ()\n#26 0x00000000004832e8 in t_bootstrap.49012 ()\n#27 0x00007ffff7bc4e9a in start_thread (arg=0x7fffe6b90700) at pthread_create.c:308\n#28 0x00007ffff69b64bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\n#29 0x0000000000000000 in ?? ()\n\n\n\n(gdb) bt full\n#0  __strcasecmp_l_sse42 () at ../sysdeps/x86_64/multiarch/strcmp-sse42.S:164\nNo locals.\n#1  0x00007fffcf3dc7e7 in hpaioFindScanner (name=0xf88422 \"/net/Photosmart_Plus_B209a-m?zc=HP0E84E5\") at scan/sane/hpaio.c:320\n        p = 0x7fffdc010670\n#2  sane_hpaio_open (devicename=0xf88422 \"/net/Photosmart_Plus_B209a-m?zc=HP0E84E5\", pHandle=0x7fffe6b8eb18) at scan/sane/hpaio.c:1687\n        ma = {prt_mode = HPMUD_RAW_MODE, mfp_mode = HPMUD_DOT4_MODE, scantype = HPMUD_SCANTYPE_SCL, statustype = HPMUD_STATUSTYPE_SFIELD, \n          support = HPMUD_SUPPORT_TYPE_HPLIP, plugin = HPMUD_PLUGIN_TYPE_NONE, reserved = {HPMUD_SUPPORT_TYPE_NONE, HPMUD_SUPPORT_TYPE_NONE, 4140301808, 32767, \n            HPMUD_SUPPORT_TYPE_HPLIP}, scansrc = HPMUD_SCANSRC_NA}\n        retcode = SANE_STATUS_INVAL\n        hpaio = 0x0\n        bytes_read = 32767\n        deviceIDString = \"x\\355\\230\\315\\377\\177\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\\001\", '\\000' \n#3  0x00007fffe6b95747 in sane_dll_open (full_name=, meta_handle=0x4277490) at dll.c:1198\n        be_name = \n        dev_name = 0xf88422 \"/net/Photosmart_Plus_B209a-m?zc=HP0E84E5\"\n        s = \n        handle = \n        be = 0x7fffdc00aac0\n        status = \n        alias = \n#4  0x00007fffe7243ea4 in ffi_call_unix64 () from /usr/lib/python2.7/lib-dynload/_ctypes.so\nNo symbol table info available.\n#5  0x00007fffe72438c5 in ffi_call () from /usr/lib/python2.7/lib-dynload/_ctypes.so\nNo symbol table info available.\n#6  0x00007fffe72342c2 in _ctypes_callproc () from /usr/lib/python2.7/lib-dynload/_ctypes.so\nNo locals.\n#7  0x00007fffe7234aa2 in PyCFuncPtr_call.2798 () from /usr/lib/python2.7/lib-dynload/_ctypes.so\nNo locals.\n#8  0x00000000004c7c76 in PyObject_Call ()\nNo locals.\n#9  0x000000000042aa4a in PyEval_EvalFrameEx ()\nNo locals.\n---Type  to continue, or q  to quit---\n#10 0x000000000042abe2 in PyEval_EvalFrameEx ()\nNo locals.\n#11 0x000000000042abe2 in PyEval_EvalFrameEx ()\nNo locals.\n#12 0x000000000042abe2 in PyEval_EvalFrameEx ()\nNo locals.\n#13 0x00000000004317f2 in PyEval_EvalCodeEx ()\nNo locals.\n#14 0x000000000054ab72 in function_call ()\nNo locals.\n#15 0x00000000004c7c76 in PyObject_Call ()\nNo locals.\n#16 0x000000000042c19c in PyEval_EvalFrameEx ()\nNo locals.\n#17 0x000000000042abe2 in PyEval_EvalFrameEx ()\nNo locals.\n#18 0x000000000042abe2 in PyEval_EvalFrameEx ()\nNo locals.\n#19 0x000000000042abe2 in PyEval_EvalFrameEx ()\nNo locals.\n#20 0x00000000004317f2 in PyEval_EvalCodeEx ()\nNo locals.\n#21 0x000000000054aa40 in function_call ()\nNo locals.\n#22 0x00000000004c7c76 in PyObject_Call ()\nNo locals.\n#23 0x000000000049e9ba in instancemethod_call.8548 ()\nNo locals.\n#24 0x00000000004c7c76 in PyObject_Call ()\nNo locals.\n#25 0x00000000004c7d36 in PyEval_CallObjectWithKeywords ()\nNo locals.\n#26 0x00000000004832e8 in t_bootstrap.49012 ()\nNo locals.\n#27 0x00007ffff7bc4e9a in start_thread (arg=0x7fffe6b90700) at pthread_create.c:308\n        __res = \n        pd = 0x7fffe6b90700\n        now = \n        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {1, 7271542000103150510, 140737488317296, 140737064274368, 0, 3, -7271490829894855762, -7271523854416391250}, \n              mask_was_saved = 0}}, priv = {pad = {0x0, 0x0, 0x0, 0x0}, data = {prev = 0x0, cleanup = 0x0, canceltype = 0}}}\n---Type  to continue, or q  to quit---\n        not_first_call = 0\n        pagesize_m1 = \n        sp = \n        freesize = \n        __PRETTY_FUNCTION__ = \"start_thread\"\n#28 0x00007ffff69b64bd in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:112\nNo locals.\n#29 0x0000000000000000 in ?? ()\nNo symbol table info available.\n\n\nps there is chinees instead of \n..................\nlines\n. Same bug in simple scan.\nCan you handle it ?\nI'll try to make a simple CLI python program for make my scanner crash.\n(I'll read this launchpad bug too).\nAnd i'll submit it to hplip bug tracker, if I found it, or to the mailing list.\n. ",
    "ghost": "Having an option to save a searchable PDF alongside the images/text/labels etc in the document folder would be really nice. The main reason for this is that you could use these searchable PDFs elsewhere. If you're using the hocr functionality of Tesseract wouldn't it be possible to essentially get this feature for free?\nBasically I really like Paperwork but the current format is pretty specific to Paperwork, even though it's using open formats, so to speak.\n. If I'm looking for, for example an electricity bill from 2011, I can tag with \"2011\" and \"electricity\" but it'll bring up say 12 entries. As I can't search for sub words (say 10/2011 for the October bill, because Paperwork will only index the full date as a word, say 24/10/2012. That means going through up to 12 entries by hand to find the appropriate one. I'm sure there are examples where more work would be needed to find something too. \nSo for this sort of use case I think that either titles or keywords, that you can enter quickly and easily, would be potentially very useful.\n. Ok,sorry. Done.\n. ",
    "bonanza123": "Would this also facilitate watching a PDF directory? Meaning, automatic import of new PDFs in the selected folders? Or would that be a different feature request?. ",
    "mjourdan": "As the date of the document is not really meaningful, I was thinking about using the title with something else. So here is a mockup with a ToC.. Thanks! One more iteration.. Grouping document properties with ToC makes sens. I think a full-height non-overlaping panel sliding from the right (something like this work in progress for export) could better fit. Let me some time to sketch something.. I came up with something: properties tab in info pane. Table of content would take place in the second tab of the same pane. Thoughts?. While it's related to #555 and not to #76, I'll answer here:\nYep, I don't like much the icons in the mockup either, because they are very thick. I was also thinking of using buttons instead, as sketched in this other mockup.. I guess this one can be closed :). My bad, I thought this ticket was old stuff. As I have no feeder, I actually have no idea of what you are talking about. What you are saying is before using feeder, user has to say how many pages she is about to scan? Why?. I pull this thread out of the abyss. I agree that saved searches would be a great feature, so I made a wire for filters. You'll see the approach is slightly different of what @tiramiseb firstly discribed, but the goal is the same. Everyone's opinion is welcome.\n. Quick answer before I have time to elaborate on this. To create a new saved search:\n- activate the \"filter\" button to go to the filters list\n- use the \"+\" button to edit a new empty filter\n- check the \"save this filter as\" box and give it a name\n- press the \"<\" button to save changes (perhaps we should color it blue?)\nThis make me think the \"delete\" button is probably irrelevant, as it is also possible to uncheck the box to forget the search filters.\n. Just for you to know, I refined a bit, even if filter creation is still not explicitly covered.\n. Hey, here are some experiments for creating search filters and saving them! . > I like this idea (much more than your suggestion in 2016).\nGood!\n\nhow would you do to recall a saved filter ?\n\nThe idea would be to have a quick access to all filters from the overview.. The user must be able to move a page (in the same document or to another one), which could be seen as something like cut & paste. But I can't figure out why it could be necessary to duplicate (copy & paste) a page. Is there any use case for this?. Please find wireframes here.. Use case: scan a bunch of papers at work, sort them at home. Some of them may be horizontal.\nCropping would cover the same use case, but it requires a more elaborated wireframe.. > Regarding cropping, my question was more: how do you apply cropping to many pages in one shot, knowing they may not have all the same size or orientation ?\nCropping multiple pages is allowed as long as the selected pages are of the same dimensions and orientation. If they don't, a message is shown telling this is not allowed. I updated the wireframes.. Another idea, starting from the goal where the user would like to export several pages.. Late answer, sorry\u2026\nSo, it could be possible to put several documents and pages to a queue, in order to export them all at once, like this. Export means \"print, save as, share by mail/nextcloud/whatever\".\nTo edit pages, two versions here. Putting controls in the header bar does not allow for mass editing. An alternative would be to put controls in a vertical pane, where the user could first work on a page, and apply the changes to all pages of the document by ticking a checkbox.. The queue, instead of being accessed through a popover as seen previously, could be accessed from the overview pane, as shown in the third variant of the mockups referenced in #548. Maybe this would be more logical?. > That could work. While maybe not intuitive at first, after one or two tries, I guess people will get it.\nYeah, I'm trying to use well-known pattern here, so user don't have to learn again how to do the action. The thing is, I'm not sure there is really such pattern. \n\nJust one minor detail: I suggest we display the action buttons beside the document queue instead of below them. I think it would make it clearer that the actions are going to be applied on the queue.\n\nWell, I doubt two columns would help to make things more obvious but I see your point.\n\nIMHO, the alternative looks better. When clicking on \"edit\", people will either expect a large visible UI change (like the right side of the window changing), or a small change close to their mouse. I don't think people will expect a small change in the header bar.\n\nGood point.\n\nRegarding the queue, I think the popover version would be good enough (yes, I really don't like sliding panels pushing stuff ;).\n\nSo I'll keep working on both the overview and the multiple page selections because I don't want the popover to be implemented for wrong reasons :D \nFYI, the selection mode (with checkboxes, as discussed earlier in this ticket) does exist in the GNOME hig but is not even implemented in Nautilus. There is an interesting discussion I'll keep watching as it may provide valuable insights.. Some kind of synthesis of the ideas above: after the last page, add a text field which resizes to match the width of the pages being shown. This is what it could look like. \n. I suggest another approach: we keep the extra text with date and labels altogether, but we move it up above the labels, and set a white background to draw attention to the pane. Most importantly, we consider it as a first class feature to help the user to organize, instead of a workaround in case OCR fails.\nMockup below.\n. # Proposal\nObjectives\nGoals:\n- focus on content\n- ease of use\nNon-goals:\n- add new features\n- remove existing feature\nUse cases:\n- scan documents long of several pages\n- scan a bunch of pages, sort pages later\n- retrieve and read a previously scanned document\nTentative design\nScanning is not an end, it's a mean to retrieve and read our documents. Simplify layout so the user spends less time reading and actionning controls. Free up some space to give focus to the content.\nList documents on the left, view pages on the right.\nDocuments:\n- show several items at a time, to allow quicker switch between documents\n- display multiple labels on a single line, to reduce space consumption\n- move less meaningful actions to the bottom (editing document properties or labels would not even exist if OCR was perfect)\nPages:\n- highlight the key features, which are view and scan\n- group the less useful actions in a single menu\nMockups\nDocument view, thumbnails\n\nDocument view, adjusted\n\nLabels selection\n\nApp and list menu\n\nComments\nThanks for reading, and thanks for that cool piece of software!\nWhat do you think, J\u00e9r\u00f4me?\n. I use Inkscape.\nYou'll find the mockups sources on my repo.\n. Hey! I'm glad you're ok with most ofthe points! There is one I didn't emphasize on, though, which is giving a name to a document. I know you don't like the idea, still I would like to make a mockup for that. I'll also update the current mockups with your comments, and intend to publish all that in a week or two. I think the view popover will be the trickiest part to implement, because as far as I know, gtk+ doesn't provide yet an easy way to embed widgets inside them. \nLet me know if I canbe of any help regarding this thread.\n. # Comments\n\nApplication menu: scan source selection. KO: This is not how I see things. By default, Paperwork use the input source selected in the settings dialog for scanning, unless the dialog for multiple scans is used, in which case it will automatically use the feeder. In other words, I'm fine with the way things are currently.\n\nThe point was to avoid offering the user to choose between the same action shown twice. For example, the scan button and \"scan one page\" menu entry are redundant when the user has configured the flatbed as the default input. To fix this detail, my idea was to allow to quickly change the input which would be used by the scan button. We could as well make it the way it is now, by displaying only the non-default input in the menu.\n\nWindow menu: Import option. KO: Import option should be beside the scan button (as of now). I see no reason for changing that\n\nAs far as I know, there is no widget combining an action button and a menu. Actually, Paperwork uses currently 2 separate buttons. The mockups do exactly the same. Import deserves indeed a more prominent place, though.\n\nWindow menu: Missing: Export function\n\nI thought of using \"print to file\", hence the disparition of export.\n\nRemove the progress bar at the bottom left. Instead, display on-demand progress bar below the document list or below the page area.\n\nMockups 2\nDuring scan, we keep the progress bar close to the scan button. You'll notice biggest thumbnails on the left pane, (64px wide, the same size is used by evince, for example) :\n\nGiving documents a name or an object may be helpful. Here are two proposals. On the left, we add a new field. On the right, we automatically use the first line of the extra words. Take a look:\n\nApp menu + window menu, updated according to your comments:\n\n. Some other pieces of software already use left pane since gtk 3.10. You may take a look at gnome-contacts, gedit or polari.\nYou may want to refer to the latest mockups on my repo, in particular one to browse papers by label.\n. To keep width consistent, Gedit seems to put its side_panel and side_headerbar in a GtkSizeGroup in its ui file and bind them together in its window.c. Contacts seems to do pretty much the same thing.\n. Nice to see things going on!\n. Some Feedback here, while it is still wip.\nNew document button: icon looks perfectly relevant but I worry it may confuse users. The page symbolic should be used either to represent documents, either to represent pages. If we chose to keep the image_button_new_doc, then we should find something else to switch between \"single page\" and \"grid\" in the content view.\nApp menu: having Edit/Export/Print/Delete entries duplicated under two top-level menu feels weird. The vast majority of software first offers to select Export/Print, and then offers to either proceed with the whole document or to pick up some pages. Also, if editing a page is rotating it or croppring it, I can't figure out what editing a document could be. Probably we should be more specific here, e.g. use \"document properties\" instead of \"edit\".\nContent view: scrollbars should be hidden when there is nothing to scroll.\n. Regarding the second point:\na. I think we shoud avoid duplication here, we can make simpler things\nb. Do you think the \"properties\" and \"label\" buttons (bottom-left toolbar on the mockup) are an unappropriate way to go? Would you be interested with mockups of a popover on the document title in the headerbar?\nc. What about making the bin a larger area (let say a third of the left pane width), so that both documents and pages could be dragged and dropped to?\nd. I'll see what I can do, the export is not that usable for now\n. > Actually, I think we can apply the same logic everywhere : there is no need for a toolbar at the bottom.\n\nFor each document, I can add buttons \"properties\", \"labels\", and \"delete\".\n\nI thought of the toolbar to avoid cluttering the document pane, but I agree that wouldn't work as well as I hoped.\n\nAs for the page grid, the button will only be display when the mouse goes over the document (or the page)\n\nHow would it work with touch screens ? Maybe a \"delete document\" in the window menu would fit better?\n\nBy the way, I also think it would make sense to merge the label and properties dialogs (--> one single button).\n\nIt makes perfect sense; please find a mockup below.\n1. Left pane:\n   1. stuff is called \"papers\" instead of \"documents\", to reflect Paperwork's scope (documents like slideshows and spreadsheets are somewhat out of scope)\n   2. papers can be sorted either by date or by title (should probably be hidden and auto-reveal when reaching the top of the list)\n   3. papers can be deleted using a specific icon (doesn't look nice, I think)\n2. Document properties:\n   1. the first text field is expandable, the first line will be used as a title for the paper, others are extra words. \n   2. the second field allows to change the date\n   3. the third field offers self-completion to easily pick up labels\n\n. Ok, thanks for explaining.\n\nI think there should be a \"properties\" button and a button \"delete\" beside every document in the document list (like you did in your mockup).\n\nWhat about using the date (forget about the title for now) in the headerbar to edit properties, as shown in the mockup above ?\n\nSo these buttons should only be displayed when the mouse goes over the document, or when the document is selected (--> works with touchscreens).\n\nSeems good to me.\n\nProblem is, when we select a page in the grid, it will switch to page list mode. So as-is, it doesn't work with touchscreens. I guess it can be solved by adding these two buttons also in the list mode. We can put them beside each page to not hide details of the page.\n\nMaybe we can use some sort of selection mode in grid view to allow dragging multiple pages to an other document or deleting them. \"edit\" would only be available in page list.\n\nAlso, I would like to point out that you focus too much on document titles IMHO. I'm not even sure I want to implement them.\n\nYeah, that's a controversial point I wanted to introduce.\n\npeople will feel that, if they want to use Paperwork efficiently, they have to put a title on every documents\n\nHum. Didn't think of that. This is absolutely true on the mockups.\n\nBased on my experience, thumbnails are much better than titles for identifying them\n\nActually I see this more as a \"subject\" than a title, when thumbnails fail to give a clue.\n\nAlso, my main reason : it's one of those features that I won't use (and so won't test it much, and it will be buggy).\n\nReally, that's probably nothing more than showing the 20 first caracters of the extra words in the papers list and the headerbar.\nI'll iterate some more.\n. > Possible. But there are 2 things that disturb me with this approach:\n\n\nthere are no visual clue that the labels can be changed by clicking on the title/date\nshouldn't the option to set labels and change doc properties be closer to the doc and its labels ?\n\n\nI agree it is not obvious that the document date will allow the user to add labels, but I would argue that the dropdown icon make it discoverable enough.\nIf we place the edit button in the papers list, I'm afraid it turns one of the following:\n- we have edit and delete icons horizontaly aligned, which results in very short width for thumbnails, text and labels\n- we have edit and delete icons verticaly aligned, which would make popovers a bit obtrusive I think, but why not?\n- we have a dummy icon to open a popover to chose between edit and delete, which would lead to a very disruptive dialog\nPerhaps we could imagine something sliding out under the item directly in the papers list, but that would require to code specific widget, wouldn't it? The bright side is it would allow to open a calendar as a popover to chose the date, which would be nice stuff I think.\n\nHm, do you often need to handle multiples pages at once in Paperwork ?\n\nPerhaps as much often as I open Paperwork for importing files. Use case: user has a lot of papers to scan. She brings a dead tree or two at work, and she scans from feeder to her email, as a single batch. At home, she imports that in Paperwork then uses split the file into several documents. This would be used from time to time, but could save a lot of time. That's the kind of feature wich allows to spend less time both with paper and with software.\n\nYeah, that's one of the reasons I made the thumbnails so big. But still, I think we can reduce them and keep most documents recognizables (labels actually help in that matter).\n\nSure. \n\nExtra words are only here to palliate cases where the OCR doesn't work. For instance, I have some invoices with a crappy yellow background on which Tesseract didn't work. But even then, it's only useful for about 2 documents out of 989.\n\nSure, again. Displaying a few words when available seemed to me a nice answer to make the extra text visible, completing thumbnails without adding one-shot labels. But eh, if you're convinced that's a bad idea, I won't insist more and will make it disappear for the next mockups.\nTo do next:\n- a screen for empty papers\n- a simple label editor\n- wires to attach labels to a paper\n. > I think it's quite small for something used that often.\nActually dropdown icon is a very common trick, used by thousands of well-known websites and applications, including gmail, github, pocket, owncloud, and so on.\nI made some more experiments:\n- compact properties popover\n- empty headerbar popover\n- selection widgets to edit directly from list\nYou'll notice I removed the additional keywords from the papers list, so editing them together with date is a bit surprising. I don't know what is the way to go.\n. > Yes, but from an ergonomic standpoint, there are quite small targets to click on with a mouse.\nNah, the icon is only here to advertise there is something to activate, the actual target is the icon + the item besides it. In our case, that would be the whole headerbar title.\n\nI think this idea is interesting. It avoids pop-over, which, IMHO, is nice.\nI think that when the user clicks on \"edit\", we can extend the space allocated to the document in the list. This way, we can make label selection faster (maybe like the label list existing currently in Paperwork 0.2 ?).\nWe can also add an a button below the labels that would open a dialog to type in the additional keywords (again, extra keywords are and should rarely be used, so it's not a big deal if it's hard to reach).\nWhat do you think ?\n\nBoth points seem right. We even could use a simple \">\" as the only button for each item. Activating it would slide the whole left pane, with the following (sorry, can't do mockups for now):\n- \"<\" in the headerbar to return to the papers list\n- a bin icon in the headerbar (in place of the \"+\") to delete the files\n- in the properties pane, a calendar widget (eventually in a popover) + text field to change the date\n- the list of labels (scrollable if too long) + text field\n- at the bottom, the additional keywords text area (eventually expandable)\n. Please find some wires which cover paper creation and properties edition.\n. 1) Useless indeed, would fit an app center, though\n7) I can't see why the question would not be raised at the bottom\n8) Absolutely; I was thinking of slide effect similar to what popovers provide. GtkRevealer, maybe ?\n. On 13/02/2015 10:30, tYYGH wrote:\n\njflesch, mjourdan, I\u2019m impressed with the mockups, the quick adoption, and real improvements this brings!\n\nThanks!\n\nI post this only to comment about tags. While I agree with most of mjourdan\u2019s improvements, he/she seems to relegate tags to second-class objects in Paperwork, which may explain the focus on titles\u2026\nOf course, each person may use the software in a slightly different way, but IMHO tags are important, much like they can be on a blog or an email client software. (BTW, +1 for #362!)\nI like a lot the idea to start typing a tag and have it auto-completed and changed into an on-screen label with a delete-button. \n\nI think there is a little misunderstanding here. When you talk about second-class objects, I guess you refer to this where user types in two labels. As the wires cover the very first paper digitalization, there are absolutely no existing label to be shown. Is this your concern?\nSo, when jflesch wrote \"- disadvantage : users have to remember which tags exist and which don't\", this is true only on first start.\nHowever this gives me an idea. To invite people to use labels, and make the properties dialog less surprising, we could apply a dummy label for the very first document. Would it help?\nI would also like to point this mockup\nout.\n\nI have a question: what happens when several tags start the same? For instance, since one may not remember the exact spelling of a tag, it would be nice to have a list open just like in the web browser\u2019s search bar, with all tags matching \u201ctyped text\u201d, case-insensitive and disregarding diacritics.\n\nWell, this is indeed the intended behavior, I think I sketched that on\npaper but I didn't go further with inskcape.\nRegards\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/jflesch/paperwork/issues/356#issuecomment-74226874\n. Here are some wires covering move, edit and delete onto multiple pages (see #132).\n. > Do you think multiple selection is really useful ?\n\nYep. See the use case described here and there, plus the one below.\n\nIn the edition buttons, you suggest a button to mirror the page. Is there a use case for it ?\n\nYeah, actually page orientation detection never worked well for me, and usually give me bad results (while OCR does work well). As it is very long to proceed, I disabled it to save time. But my scanner has a lid and I never remember where I should put the top of the page. In both cases, I end up with pages upside-down, far most frequently than I get portrait position instead of landscape.\n\nI don't get how the user is supposed to switch from the page list mode to the page grid + multiple selection mode ?\n\nYeah, sorry, I did'nt show that. It's by activating the check mark button. You may want to take a look at the gnome hig to decide if it is appropriate for Paperwork or not.\n. > Ok, I think I misread your wires. But does typing a label name allow to create a new label, or does it allow to filter the label list ?\nBoth. It allows to keep only matching labels from the list, and create a new one (with a pre-filled color) when there is no match. I hope to make more detailed wires tomorrow.\n. > Also, just a quick note regarding cropping : It can only be done on one page at a time. Also, it requires precision, so I don't think it makes sense to do it from page grid mode.\nUse case: I forgot to calibrate my scanner (actually I didn't understand what \"calibrate meant\" when I saw it in the preferences window), so every page should be equally cropped. On the other hand, your are right about precision.\n\nWith Paperwork <= 0.2.2, make sure you have the correct dictionary installed (if you're French, aspell-fr for instance, but it should also work with myspell-fr and ispell-fr I think). It's required to get correct results. With Paperwork which is currently in the unstable branch, Tesseract orientation detection will be used. It gives much much better results :)\n\nI got aspell-fr and myspell-fr-gut installed among others. I'll probably wait 0.3 is ready before I enable this again, then.\n\nAnyway, if I understand correctly, this icon is supposed to mean \"rotation of 180 degrees\", right ? Because as-is, I understand it as \"vertical mirroring\", which is not the same thing.\n\nAh. It is meant as a 180\u00b0 rotation, as in gnome display settings. Indeed this icon is also used by inkscape for instance as vertical mirroring. Don't know if we could find a less confusing icon.\n\nI didn't realized it is a mode disabled by default. OK for me (... and more work for me ...)\n\nAnd less work for users \\o/\n. This evening I started working on wires for browsing by labels, so I didn't have time to make wires for labels creation / edition. Sorry.\n. > Wouldn't make it more sense to attach the popover to the search field instead of the header bar ?\nI don't know if it would make more sense. What I mocked up was \"browse every papers that belong to this label (and eventually later search for papers inside this restricted set)\". If we attach the popover to the search field, we would have \"search only for papers that belong to all selected labels (but do search or the list won't be filtered out)\".\n\nOn an unrelated note, I'll be working on another personnal project for the next few months. I'll keep replying here, but I don't think I'll have much time to code on Paperwork :/\n\nOk, thanks.\n. Hey,\nHere are some more wires to attach labels to a paper:\n- pick up existing labels\n- typing\n. Here is a review of what I found in the repository. I hope to send some patches, at least for the easy items.\nWIP Review\nPaper view:\n- [x] headerbar title is odd (empty GtkLabel makes title consume two lines)\n- [x] page selector is too wide (up to 4 digits while 2 should be enough)\n- [ ] zoom using a slider does not work\n- [ ] quick scanner setup for first page scan (needs design)\n- [x] doclist draws too much attention\n- [ ] sometimes no paper is shown because none is selected in doclist\nProperties:\n- [x] use a calendar to change the date\n- [x] when changing the date of a paper, headerbar is not updated\n- [x] 'add label' doesn't work\n- [x] 'edit label' doesn't work\n- [x] text is not vertically aligned in labels\n- [x] the label list has no border\n- [ ] the additional keywords text area has no border\n- [x] what are the \u00ab additional keywords \u00bb for is not obvious\n- [ ] labels listbox is thick (checkboxes should disappear, edit button should be replaced with the label color)\nLabel Editor:\n- [x] transparency can be set but labels are always opaque\n- [x] when editing a label, sometimes the text is right but the color is from the previous label\n- [x] warnings like \"drawing failure for widget `GtkBox': NULL pointer\" (seem related to the color widget)\n- [x] display is buggy when opening the color editor\nPreferences:\n- [x] dialog is scary: offering 5 times for help makes me feel like I'm in distress\n- [x] dialog lacks headerbar (needs design)\n- [x] dialog offers 3 way to close (Cancel, Ok, and close)\nHelp:\n- [ ] help is not available without network connection\nAnnoying bugs\n\n[ ] install fails with \"error: package directory 'src/paperwork/frontend/doceditdialog' does not exist\"\n[ ] in paper list, controls (edit and delete) sometimes disappear\n[ ] with the first paper opened in grid view, clicking in an empty zone switches the view to a zoom on the second paper\n. > This is a work in progress, do not install it ! :)\nYou can run it from the repository by running 'src/launcher.py'.\n\n\n\nStupid me!\n\nFunny, I didn't see this bug. It's actually even weirder for me, because when I test it, it switches to another document.\n\nYeah, by paper I meant document, not page.\n. > I don't know if I should open a new issue for the following thought...\nSeems to me you're far from being off topic.\nLet me rephrase you're idea to get this straight. What you are saying, tiramiseb, is it is nonsense to create document of 0 page, therefore documents should always be created either from file or scanner. Then it is allowed to add pages when a document has been created from scanner, when you imported an image file. However, if you imported a pdf, it is not allowed, because a pdf is considered to be a whole document. Am I right?\nLet say a user does create a document using some .jpg file. Would her be able to add pages from her scanning device, and why?\n. Le 07/10/2015 11:57, Jerome Flesch a \u00e9crit :\n\nIt has been a very long time since there was a major Paperwork release, and this GUI is starting to look really great :) --> I would like to ship a 0.3.0 asap. We can still fix minor issues later in the next minors releases (0.3.x).\nAnyway, I have a few questions for you:\n\nquick scanner setup for first page scan (needs design)\n\nWhat do you mean exactly ?\n\nI launch Paperwork, start my scanner, and try to scan a document.\nNothing happens, and I have to open the Preferences so that my device is\ndetected. This happens every time I launch Paperwork, and is\nuncomfortable, as my device is the same for years now. At least, that\nwas true by the time I wrote this.\n\n\nsometimes no paper is shown because none is selected in doclist\n\nWell .. it makes sense I guess, no ? :)\nI guess we could display the last used documents instead of nothing. But is it blocking for 0.3.0 ?\n\nYeah, my point was we should always have a document selected, so that we\nhave something to show, whether it is the last used, or a new empty doc\n(in which case we would have a nice message saying \"this doc is empty,\nyou can add pages blah blah\"). While it is confusing, I wouldn't say\nit's a blocking issue.\n\n\nthe additional keywords text area has no border\n\nI didn't notice it as being a problem.\nMaybe it could be a problem based on the Gtk theme used. But then again, is it a Paperwork problem ?\n\nI took a look at a couple of apps (polari, boxes...) and I couldn't\nfigure out how it happens I can't set a stupid border on this particular\nwidget. But really it's just about polish.\n\n\nhelp is not available without network connection (Jflesch> Won't do for 0.3.x)\n\nThis one will require some work, and I'm fairly sure that current users of Paperwork all have an Internet connection :). However, I must admit it's a problem because it makes Paperwork dependent on GitHub, and pages can't be translated. Still, I think it would be best to keep this change for 0.4.0.\n\nSeems wise to me.\n\n\nin paper list, controls (edit and delete) sometimes disappear\n\nDo you have any reproduction scenario ? I can't find any anymore :(\n\nAs far as I remember, I couldn't identify a pattern to reproduce, but\nthis definetely happened multiple times!\n\n\nwith the first paper opened in grid view, clicking in an empty zone switches the view to a zoom on the second paper\n\nCan't reproduce. However, I did a lot of changes, so I may have fixed it by accident :-). Can you have a look please ?\nSo, what do you think ?\n\nI'll test a bit and give some feedback soon.\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/jflesch/paperwork/issues/356#issuecomment-146136521\n. > Globally, my idea is to totally remove the \"document of 0 page\" \n\nThis could be a good thing indeed!\n\n\n\"scan or import a new document\" on the left panel\n\"scan or import into the current document\" on the right panel\n\n\nI'm not sure about this. This means user would have to chose the source in two different places instead of one, which would result imho in a more complex experience.\n. > Please do not let dead code going around like that.\nI couldn't figure out why I couldn't get no border for the listbox, and let that awful line... My bad! \n\nI just have one other remark. When I open the label editor dialog, I get the following warnings [...]\n\nYeah, I noticed that too. I thought this was some bug you were aware of, as it appeared before I made any change to the label editor. Anyway, to me the widget is too complex. Unless there is a real need of transparency, I would like to see the color picker cleaned of its alpha channel, to look more like this (near the bottom of the page).\n\nAlso, the label editor dialog looks a little bit weird/empty until we start selecting a color. I haven't had much time to look at it, but wouldn't it be possible to preselect a color ?\n\nIndeed. It would certainly be nice to preselect a (random but different enough from other labels) color.\n\n\nthe color is not correctly pre-selected in the label editor dialog\n\n\nThis is a really weird one. I couldn't figure out how the label text could come from the selected row, while the color could come from the previous selection. I wonder if it has to do with some kind of simultaneous changes happening in ActionEditLabel and on_button_clicked.\n\n\nclosing the dialog is always considered as a cancelation (\"WARNING paperwork.frontend.mainwindow Label edition cancelled\")\n\n\nDidn't notice this one. I was successful in both creating new labels and editing existing labels, though.\n\nAnyway, again, great work ! :)\n\nGlad you like it!\n. > Hm, I didn't notice it before :/. I will see if I have time to have a look.\nRemoving the GtkColorChooserWidget from the .glade file makes the issue gone. I don't know if this color stuff make any use of cairo, but that could be related to it.\n. I found that all our troubles are gone if 'show_editor' is set to False. This seems to solve our 3 issues:\n- gtk warnings\n- the label editor dialog looks weird (headerbar is black, the color square is invisible)\n- the color is not correctly pre-selected in the label editor dialog\nIf we use the \"+\" button of the palette, it opens the editor, which then works just fine. So, you'll find in a future pull request a single-line commit for this.\nFYI, I reported a bug against gtk+.\n. > Just so you know, I tested it quickly and I saw a small bug : the header bar of the label editor dialog  appears black at first. When the mouse goes over it, buttons appear.\n\nHowever, I think it's most likely a Gtk/Gnome 3 bug\n\nIt seems so, as stated here\nThanks for your prompt review!\n. Wait... Seems now that I could save my paper. Perhaps this is a false alarm :/ I'll try more.\n. I confirm this bug. I selected the \"new document\" entry and used \"scan from feeder\", this time. My page is showed but my document list hasn't been updated with my new paper. I selected an older paper, to see what happens. I actually can browse any of my existing paper, but the very latest. Selecting \"new document\" again doesn't help to retrieve the freshly scanned page.\n. Yep, this report is against unstable.\nI'm running fedora 22 with adwaita-icon-theme-3.16.2.1-1.fc22.noarch\nI noticed the following message in adwaita-icon-theme news file, for 3.13.3:\n\n\nspinner that only scales up to 32\n\n\nSo, I guess this is more likely a scale issue than a name change.\n. This should not happen very often but I agree with @tYYGH it is still a very annoying flaw. This old mockup suggests keyboard as the primary interface to specify the date.\n. What do you mean?\n. Hi,\nIf I understand well, you sync your paperwork directory to owncloud and you are looking for a way to retrieve easily your relevant scanned documents from any computer. For this task, labels matter to you but you do not care about caracter recognition.\nIf owncloud does not support symlinks, does your suggestion of using symlinks still apply to other use cases (and which ones)?\n. Sorry for replying so late. I didn't notice there was a testing branch by the time I tried. I tried against it and could not reproduce the bug either. So, I close this ticket. Thanks.\n. Please find a mockup which aims to achieve #80 also. Comments are welcome.\n. Le 2016-09-04 13:04, Jerome Flesch a \u00e9crit\u00a0:\n\nLooks good to me. I'm just wondering why are they 2 colors in the\nprogressbar, and in your example shouldn't it be to 50% ?\n\nVery valid questions. My idea was the \"1st of 2 occurrences\" relates to \nthe current document, while the progress bar relates to the total number \nof occurences accross all documents. In our example, we have 12,5% \n(strong blue) for the currently selected occurence, we have 25% filled \n(light blue) for the currently highlighted occurences. The rest (gray) \nis for about 6 occurrences left in other documents.\nThis is perhaps a bit confusing. I hesitate to add a bit more text \"1st \nof 2 occurences in this papers, 6 other occurrences\", or to move the \ntoolbar in the left pane, below the search field.\nAlso, I wonder if \"1st of 2 occurences\" is correct english. I anybody \nknows, do not hesitate to tell us here.\n. 1 color is enough indeed if we can't know the total number of occurrences.\nTo answer your question, I think going to the next document would be a great feature, but we should find a way to make it not too surprising. A simple progress bar as you suggest would be good for that: when the bar is full, we know the next button will jump to the next paper. Perhaps we should use this text then: \"1st of 3 matching papers - 1st of 2 occurrence in this paper\"?\n. Putting text end progress bar would make it related to the paper list instead of the paper currently displayed... Please find a second mockup.\n. You're right. I made a third mockup, closer to what you discribed in your previous comment.\n. Yes, that's confusing! That's what I thought (so I made mockup number 2), but I wanted to give a try to your suggestion (\"on top of the document list, we could display the very same progress bar with a similar text ?\"), so we could compare. Now we know.\n. I was interested in keeping [<][>] close to each other so that user doesn't have to travel much to switch.\nWe might consider also the following buttons:\n- [|<] first occurrence\n- [>|] last occurence\nWhich could do something like:\n[<<] white space [|<] [<] 2 of 3 [>] [>|] white space [>>]\nWhen we are on the first occurence of the second document, [|<] and [<] would be disabled. Pressing [<<] would lead to the previous paper, which is also the first, so [<<] would be disabled too. That makes maybe a lot of buttons but avoiding loops makes things more simple I think.. Food for thoughts: I stumbled upon tagsistant while browsing LinuxFr. . XMP could fit our needs here?. \"New paper\" would recall the name of the software... Would it not be nice?. Pong!\nAbout the left pane, I agree it has free space and the top bar feels a bit disbalanced. However, I intended to use it to solve #480. As you'll see in the wireframe[1], the left part could be pretty loaded too, and it is not obvious there is room to take here. However, @tiramiseb I do find your idea of having a full width menubar with a single group of icons for adding new documents or new pages really interesting.\nRegarding icons, I think they should be avoided because they are too confusing: basically all we are trying to do with paperwork is to (not having to) manage documents, so all icons will be different flavors of page: one page, two pages, a page with a wrench (wtf does this me mean!?), a page with a pencil (to write what?), a cornered page, a cornered page with a red label...\n\n\"scan from feeder\" and \"import file(s)\" are not options for \"scan\". With a dropdown menu like how it is now, it doesn't seem logical to me.\n\nDropdown menus are not necessarily about one action with options, they can be about primary action and secondary actions. This one is. The button group you propose suggests equally important actions (which I don't agree with but why not).\nIf I understand well, your concern was lid and feeder can be seen as two options for the very same scan action, and import from file a separate action. Am I right?\n[1]: https://github.com/mjourdan/gnome-design/blob/master/paperwork/wires/browsing-filters.png. > The GNOME project have face much dissatisfaction from users when they decided to remove icons in the menus. Icons offer a better visual impression than text.\nMy point was that icons were not suitable to distinguish between feeder, flatbed and digital file. I did not meant that icons were bad under all circumstances!\n\nNot to mention illiterate people...\n\nWell, I doubt illiterate people is the primary target for Paperwork :p. Please find a mockup here, which aims to fix the following:\n\ngather \"add document\" and \"add pages\" buttons #524\neasily change source between scan jobs #536\ndo not assume which source is the most frequently used #537\ntry to free up some space #537\n\nWhen the user wants to import a file... As of today, she clicks on the \"v\" button, clicks \"import\", and the file browser opens. With the mockup, she clicks on the \"v\" button, selects the source, and then clicks \"add pages\".\n@tiramiseb, @jflesch, what do you think?. @tiramised, correct. If I agree we should avoid unecessary steps, I won't start counting clicks. I doubt the use case you point out is common enough to qualify that of \"not acceptable\", though.\n@jflesch, I updated the mockup so user would not have to remember anything.\nPersonnaly, I think it is not a good thing having both 3 actions available at the same time in the top bar. I have no time for this right now, but what could be technicaly possible:\n- put the buttons suggested by tiramiseb in a toolbar\n- use my proposal for narrow screens and tiramiseb's one for wide screen. Really, I'm not a big fan of putting the triple-button in the menubar, as it would be taken for a view switcher. Moving it to a separate toolbar could avoid this, but would eat some vertical space.. Instead of being attached to the \"add page\" button, the dropdown should be related to the \"add paper\" button: most likely, all pages of a single document should be imported from the same source. This behavior is what @tiramiseb suggested a while ago.\nThis would  look like this. I don't know yet if the \"add page\" button should be hidden or grayed out for pdf.. @jflesch how is it confusing?\n@tiramiseb what's your concern here? Is it the buttons position would be too close? Is it the \"add\" wording or icons would be too similar? Something else?\nI made an other attempt merging the page counter with a \"+\". As usual, comments are welcome.. @jflesch, please wait before doing anything then, the mockup you linked too has a big flaw: it allows adding pages from several sources to a same document, which doesn't make much sense. I should take time to provide you with better mockups but I'm confident choosing the page source should be done from the add paper popover.. This popover would appear once for each document, to select the source of the document. If the user only has a flatbed, he would first have to click the \"add document\" button, choose between \"scan from flatbed\" and \"import file\" in the popover, then press the \"scan\" button page after page (20 times for a 20 pages document).\nHope this clarifies. What do you think?. > I just wonder if it's a good idea to restrict a document to one specific source ...\nWell, if you have to gather pieces from different sources, this means you actually have separate documents you want to merge in Paperwork.\n\nHm I guess whatever happens, users can still fix things using drag'n'drop ...\n\nYep. Perhaps a \"merge\" button could help too?\n\nSo I think it's safe to make the multi-scan dialog focus on only one document at a time.\n\nYeah, it seems much simpler to repeat the \"new document\" 3 times than importing all off them at once, then splitting them off.\nI read this thread again and I must say I'm confused because I couldn't find the latest wireframes I made for this. So here they are:\n\nhttps://github.com/mjourdan/gnome-design/blob/master/paperwork/experiments-2.0/add-paper-scan-from-feeder.png\nhttps://github.com/mjourdan/gnome-design/blob/master/paperwork/experiments-2.0/add-paper-scan-from-flatbed.png\n\nYou'll see there is still a couple of thing to settle (delete the field to specify the number of pages, choose where to place the scanner settings button, for example), but overall I think it would make the scan process more straightforward and solve both #537 and #524. Thoughts?. Yep, I also think this is a use case we should cover.\nMultiple page selections #132 feels more intuitive to me to solve this issue, and would allow to easily sort your pages too.. I agree too. Here is a first shot. Feel free to comment!. > I think it is. Quite often I just want to access the latest document I've scanned / imported.\nMaybe my mockup was not explicit enough. The \"Recent\" section shows thumbnails of the 3 latests documents, with an excerpt of the very latest. Why would one need the whole document list?\n\nFor the sake of consistency, I think the document list must always be visible...\n\nIt feels to me that it would defeat the purpose of what @jerrydiff suggests: a \"welcome\" screen to avoid putting users in action too abruptly.\n\nok, I am already blow up that this got so much positive ideas and replies, so I am all for it as well\n\nDo not change your mind so fast! ;-). Second shot. Thoughts?. Hum. Thanks for your feedback, folks. It seems that we raised in this topic at least four issues:\n1. Users are (too) directly put in action, UX is a bit harsh.\n2. Some Users don't understand what paperwork is for: is it a file manager? Is it a scanner application? Is it a document reader?\n3. Different users have different flows: some often access the same papers, others need to see the last imports, some just archive papers and never read them, some heavily use labels...\n4. A few numbers about what is in store would be nice.\nYour comments tend to show that having the file panel on startup is ok and we do not need a whole new screen for welcoming users. Please find new mockups here.. @tYYGH:\n- this would be hidden on startup and visible on click. No welcome screen in this case. The overview pane aims to cover points 3 and 4 (see my message referring to the mockups)\n- I have other plans to cover points 1 and 2 by filling up the document area on first launch. I guess I'll have to split to a separate ticket for that.\n\nI suppose you would like some stats from some users\nActually I was thinking about finding a way to display those stats inside the GUI, as discribed by @jflesch (yeah, could be nice to have some visual stuff like charts). Thank you anyway.. The welcome screen I talked about is under #563, @tYYGH.\n\nWould be glad to read your thoughts about that on this new ticket, folks.. Have you heard about libdazzle? Christian Hergert introduced this here (there are a couple more videos on his youtube channel). It could help to make nice sliding panels.. I was thinking of a push effect to reveal the left pane. I think it is better to have both the filter panel and the document list side-by-side, to make it clear the later depends on the former. Otherwise, having the document list to be refreshed hidden by the filter panel could confuse user. I thought libdazzle could help for this (as well as for resizing the document pane like this).\nBesides libdazzle, I didn't get how you were intending to merge the left pane with the overview mode. So I tried to make a mockup implementing a \"recent\" filter in the left pane. Does it match what you mean?. By \"overview mode\", I was thinking about one of those landing pages, which I think you were talking about when speaking of \"I will display the last 3 documents used instead of just the last one.\"\nBut as you stated on 23 april, to me it was clear that the relevant proposal to solve this issue was the overview pane. Reading your message from yesterday, I was very surprise to read you were thinking of implementing some mix of the twos.\nIn my opinion, the overview/landing page mentioned above breaks the UX, ans is totally obsoleted by a separate set of features:\n- overview pane (see this ticket)\n- onboarding page (see #563)\nSorry if things got confused here. The \"experiments\" folder in my repo is for getting feedback only, it's a bit risky to start implementing stuff landing there. Anyway, I'll take a look at your instable branch to see what you had in mind, perhaps it works better than what I draw.. > For me, the left pane has a goal entirely different from the summary (landing page number 2).\nHmm. On the contrary, I see a bit of overlapping. As stated on a previous comment, we can find in this ticket at least 4 different issues.  IMHO, the left pane does provide numbers in a bird's-eye view, to see what's currently in store. The summary in that regard doesn't provide more value (if you compare the mockups, you'll see there is almost equal info in the left pane and in the overview). It breaks the UI because it appears in place of the content but doesn't behave like actual documents. Moreover, the excerpt of the recent papers would probably be better replaced with fixing #623 for the whole document list.\nSure, we could imagine having deeper statistics, for example giving the progression on the past few months and making projections on how much space will be consumed. But that would deserve a whole separate ticket I think.\n\nOr we could put everything in the left pane (last searches, last documents, saved searched, etc). I guess it could make sense too.\n\nThat's already pretty much the case, a part from recent (which is worth adding and already figures on some of my sketches) and last searches (which are not that useful, are they?). Though that 3 columns layout needs proper wireframes (I'm working on it).. I made the wireframes I talked about to deal with this 3 columns layout. Thoughts welcome, folks.. > Regarding the 3 columns layout, I'm wondering: Instead of a 3rd columns, why not just switch the content of the columns like done currently with document properties ? It would use much less space on the screen.\nThis is indeed an option. I would expect the following benefits:\n\nHaving both the filters column and the document list visible should make more obvious how they are related.\nOn big hi-def screens, using the space actualy available would allow a convenient and very fast way to apply filters.\nBiggest reason is everything would be visible on startup; user would both have an overview of what's in store, what are the most recent documents, and could read the latest one\n\nOn the other hand:\n\nIndeed, on small screens, a new column would eat space needed for more valuable content. That's why I tried to design so the software would remain perfectly usable with that column hidden.\nMaybe a \"previous\" button would be easier to use than a dropdown to change the layout.\n\nBefore implementing anything, I think I should make some prototypes for user testing to know which works best. :/\n\n(I may have already asked that, but I don't remember the answer)\n\nI don't think you did, or sorry if I missed something.. > Prototypes or mockups ?\nPrototypes, that is to say interactive mockups. I would like to give a try to gravit designer (this is nonfree software :-( )\n\nNah, don't worry, I have a pretty crappy memory at times, so I probably never asked in a first place. \n(sometimes I'm surprised I haven't driven my girlfriend mad yet ... :)\n\nMaybe you did, it's just you don't remember :-p. I gave a try to Gravit Designer for an other project, and prefer to keep Inkscape for Paperwork. I am not sure Gravit actually features prototyping anyway.\nI made some more iterations on the idea of an overview pane. Here is what it could look like. Thoughts?. Thanks for discussing this!\n\nAs stated before, I still think this is going to be messy to manage: When displaying the extra column, do we extend the window to the right ? If we don't, what happens if the window was too small ?\nIn other words, I think sliding things may end up being a problem.\n\nThe size of the column wouldn't change, because the content of the document viewer would also slide. This would eventually make one part of the page being out of bounds, as (not) shown on the mockups.\n\nBoth columns are about search.\n\nNot quite. In my mind, each column shows the children of the previous one:\n- 1st (new) shows high-level abstractions (labels, saved searches, numbers\u2026)\n  - 2nd (already existing) shows a list of documents\n    - 3rd (already existing) shows a list of pages\n      - 4th (moved) shows specific details (the metadata)\nTo me it seems natural to show simultaneously parents and children side-by-side, just like we already do with the documents list and the reader.\n\nSo it would make sense to display both at the very same place and switch them as we do currently with the document list and the document properties. When paperwork starts, it display first the overview column. In the overview, we make everything clickable (for instance the label names) --> one click and it switches to the search result list.\n\nOk, I'll do some mockups for that!\n\nRegarding large screen, there is another way we could use them: We could display the document properties to the right side of the window (I think I remember seeing that in one of your other mockups ?). I think it would nicely enforce the idea \"left = document listing ; right = current document\", no ?\n\nThere! Yep, that would be a nice move disregarding the overview issue. Though this would be of little benefit for large screens, as this is not something useful enough for keeping it open permanently, even less simultaneously with the documents list.. I uploaded new mockups to presentator.io, in the hope we could get a feeling of what works best. You'll see on hover you can click on certain zones and discover what happens then. Sadly, this is no true prototype solution.\nNevertheless, it's here: https://app.presentator.io/fr/APieffK2?v=2&s=1&m=preview (do not forget to try both variant 3 and variant 4!)\nAs usual, you know you can speak frankly! Do tell me what you would like to see if you want to go deeper into variant 4.. I updated the overview pane mockups with new variants. I think numbers 6 and 7 are worth taking a look at, because they basically keep the fix-width 2 panels layout, while keeping context and the most interesting stuff visible.. Really it's the one I like the least:\n\nit shows either the list of tags, or the list of documents, but not both at the same time\nthe document shown on the left side is somewhat out of context, not related in any way with the list of tags\nnot sure how well it would work if we had the app menu icon in the headerbar, before the back button\nwe could not merge the app menu with the left pane, which is a pretty common pattern (in web and material design, not in gnome though)\n\nSo maybe this looks cleaner, but I feel like this would fail to give an \"overview\" and would be really the less usable of all the experiments here.\n@jerrydiff , @tiramiseb , @tYYGH , maybe you have an opinion on this?\n. Thanks all for your comments! Below answers to specific points.\n\nbut the \u201cmiddle\u201d list is not linked to the \u201cleft\u201d (new) panel: there is no concept of current element in the new \u201cleft\u201d pane.\n\nThere is, actually, that's why there is a light blue bar and small police changes (the very same treatment used between documents list and document reader). On startup it always shows \"all papers\", but it is intended to apply filters as well.\n\nwhy not make this panel the Gnome menu?\n\nThat's precisely what I did with all variants except number 4!? This could not be done on number 4 because the app menu has to be behind an always visible button showing the app icon (so we can't use the back button for that). Or did I miss your point?\n\nMaybe #7, but there is no advantage in pushing the document list behind the document reader...\n\nI think there is, as it shows thumbnails of recent documents on startup, and thumbnails of the documents matching the selected filter. Variant number 5 though shows a bit of the document list, but an absolutely useless part of it.\n\nI wasn't sure if the mockups show things in-motion or once they are at the end of each motion :/\n\n@tYYGH explained well. Mockups do not show transitions and show the end of each motion!\nAs it appears that the mockups are not as obvious as I thought (shame on me!), I turned them into wireframes to demonstrate the same scenario: Start Paperwork -> Apply a filter -> hide the overview column.\nFeel free to comment again or suggest totally different approaches if you like.. > In the current implementation, the assumption is that the users more often use the last documents scanned than the other. This is why the default is the whole document list, ordered by reversed date.\nThat would stay true.\n\nWhen the user will start Paperwork for the first time(s), the overview will be almost empty. Is that what we want to show as soon as it start ?\n\nSo would be the document list. The list of tags may even increase faster than the document list, for users who set a couple of labels per document.\n\nDo we need the overview immediately when we start ? Wouldn't it be better to just display it when the user request it (application menu for instance) ?\n\nI think showing it on startup would better answer the different problems reported by @jerrydiff (see the list here).\n\nDo we need a 2/3 split ? The animation should show clearly enough what happens, and entirely replacing the left pane (as currently for the doc proprerties) would give more room for the overview, no ?\n\nThe overview would not be complete if the list of labels and the list of the most recent matching documents were not shown at the same time. So, the 2/3 thing is an idea to show a complete enough overview while keeping the document reader unchanged. This is intended mainly for small screens, as an alternative to the push effect shown in variants 3 and 9 (which I prefer).\nAdding a new pane provides useful info and allows for quicker navigation, but is shows only labels and counters, so it needs less space than the document list which shows thumbnails too (and in the mockups, they also show excerpt). This is quite a common pattern nowadays, not really on GNOME but there are several examples (e-mail clients, note-taking apps like ulysses, bear, boostnote, notes-up\u2026). > However, in all the example apps you shown, what we call the overview cannot be hidden.\nProbably screenshots can't show such things but yes:\n- notes-up (whose usability is not the best, imo) does show 3 columns in view mode, or 2 columns in edit mode\n- bear (I tested it on ipad) does allow to go from 3 columns down to 1, in an incredibly smooth way\n- a bunch of screenshots show ulysses features a simple document reader view (other columns hidden)\n\nI very often need to have Paperwork opened next to another window\n\nYeah, for that reason, or to better focus on the content, I am thinking also about hidding the document list too. I made a wireframe with a popover to switch between layouts, but I worry the extra popover would be a bit cumbersome.\n\nA while ago you mentioned a lib for various GTK animations. \n\nThat was libdazzle. GNOME Builder uses this for its panels, if you wanna have a clue of how it feels.. > I like it, with a preference for the first popup, and with a condition: Paperwork would have to remember the layout between restarts\nYeah, sure!\n\nWhat about an \u201chorizontal accordion button/switch\u201d?\n\nI'm not sure I understand. Basically, you mean something like a view switcher with icons in it showing either 3, 2 or 1 pane?. Dragging would probably work on touchscreens but I'm less confident with mouse/touchpad. Anyway, I tried to iterate over your accordion idea, and combined this with a pathbar. Here is the thing.. Hello there! Here is an attempt to integrate this feature request. You'll see the ui changes a bit from what exists for now:\n- the edit button is moved from the document list to the header bar, leaving room for the delete button\n- the hamburger button and it's popover is replaced with a more meaningful export button, which reveals a full-height pane with the list of the the selected pages and the export options\nThe goal was to make things more discoverable and easy to use, by using patterns closer to what exists in gnome-maps, gnome-photos and google-plus image viewer. Feedback welcome!. I made one more iteration for this feature. Instead of allowing export directly from selection mode, I used a queue which works more or less like what you can find in music players (deezer, soundcloud). It should work the same, but handle documents and pages in place of albums and tracks. Instead of using a sidepane this time, I used a popover whose height depends on the number of items.\nExperimental mockups here. As always, comments are welcome!. I am trying to build a flatpak  but it fails with the following message:\n```\nBuilding module paperwork in /home/thamieu/Projets/paperwork-virtualenv/paperwork/flatpak/.flatpak-builder/build/paperwork-1\nError: module paperwork: Can't find makefile\nMakefile:25 : la recette pour la cible \u00ab org.gnome.Paperwork \u00bb a \u00e9chou\u00e9e\nmake: *** [org.gnome.Paperwork] Erreur 1\n```\nI suppose it is a paperwork issue since all the python dependencies built successfully.\nIf you want to give a try, here is how to reproduce:\ngit clone https://github.com/mjourdan/paperwork.git\ncd paperwork\ngit checkout wip-flatpak\ncd flatpak\nmake\nDo you think I should rather open a ticket to the flatpak bug tracker?. As I am experiencing some trouble with flatpak, it's unsure when I will be able to get back to this task :/\nThough I have updated my flatpak branch with the progress I made so far.. Some progress: I could build and install a flatpak, but could not get it running far:\n$ flatpak run org.gnome.Paperwork                                                                                                                            \nINFO   paperwork.paperwork            Using locales in '/home/thamieu/.var/app/org.gnome.Paperwork/cache/Python-Eggs/paperwork-1.3-py3.4.egg-tmp/paperwork/frontend/share/locale'\nINFO   paperwork.paperwork            Initializing pyinsane ...\nINFO   pyinsane2.sane.abstract_proc   Starting Pyinsane subprocess\nINFO   pyinsane2.sane.abstract_proc   Pyinsane pipes: /tmp/pyinsane_3nzgxgg7/pipe_c2s | /tmp/pyinsane_3nzgxgg7/pipe_s2c\nTraceback (most recent call last):\n  File \"/usr/lib/python3.4/runpy.py\", line 170, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/usr/lib/python3.4/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/app/lib/python3.4/site-packages/pyinsane2-2.0.9-py3.4.egg/pyinsane2/sane/daemon.py\", line 159, in <module>\n  File \"/app/lib/python3.4/site-packages/pyinsane2-2.0.9-py3.4.egg/pyinsane2/sane/daemon.py\", line 115, in main_loop\n  File \"/app/lib/python3.4/site-packages/pyinsane2-2.0.9-py3.4.egg/pyinsane2/sane/abstract.py\", line 45, in init\n  File \"/app/lib/python3.4/site-packages/pyinsane2-2.0.9-py3.4.egg/pyinsane2/sane/rawapi.py\", line 525, in sane_init\nAssertionError\n@jflesch, if you wanna handle this from now, I won't complain. It's all handwritten, sha256sum copy/pasted package after package ><. > how to make this flatpak work with proprietary scanner drivers ? (for instance, my annoying Brother scanner)\nWell, perhaps you should get in touch with flatpak developpers, as they say: \n\nWe need to figure out how to best get scanner support into the sandbox.\nhow to include Tesseract support for as many languages as possible without making a 600MB flatpak bundle ?\n\nActually I don't even know how to split the actual app from a bundle :/\n\nNote to myself, the .json of Flatpak can refer to Git repositories:\n\nOoops, seems I forgot to push some changes. Now there is a couple of git repositories listed in my wip-flatpak branch.... > Do you want me to rename the branch ?\nNope!\n\n@mjourdan: I think the dependency you were looking for is sane_backend: https://alioth.debian.org/frs/?group_id=30186\n\nYeah, probably. I was desperately looking throughout pypi.python.org :(. > Just not sure how to integrate that in the GUI.\nI was thinking about something like this.\n\nAlso, I'm not really convinced about the usefulness here.\n\nGenerally speaking, I find having text in pictures is not so great. Take twitter for example: to avoid the limitation in terms of caracters, people often upload text as jpeg. So the reading experience in twitter turns as hell. Use old cheap scanners like mine, and you'll get even more blurry text, lack of contrast, weird brightness distribution, folds... The goal of the reader view would be to avoid all this, which is only a matter of comfort.\nAlso, I had in mind we could build upon this, for example:\n- to show excerpts in the list of papers (which is pretty empty for now)\n- to save the sender address in your contact manager\n- to open your document writer or your email agent in order to reply to a mail\n\nDo you have any document for which reader view would be useful and that you could post here as an example ?\n\nAlas, nothing I could share for now :/. Oops. Indeed, that's what I meant and I edited my previous post.. @tYYGH thanks, I found nice sources of inspiration during my last vacations ;) \nIn addition to what @tYYGH described, we could eventually use the same trick each time user presses the \"help\" menu entry, or to show the release notes when a major release is installed...\n@jflesch FYI the unreadable text I used as an example in the mockup is not (total) crap. I resized a bit the mockup but my laptop crashed before I could push my changes. I'm too lazy to turn it on again, but you can take a look at the .svg with inkscape if you are curious.. I like the illustration on your wip! I think it would better fit at the end of the document though, in the \"let's start\" part. For the beggining, I would see something more static, to say \"welcome, take your time to read this\".\nWhich make me think this very first paper purpose is to onboard user, it is not to harass them with the complete list of features described in details. This confusion is my entire mistake, as I talked about \"man pages\", which could indeed use a table of content, but should definetely take place in a separate documents. We should split to a separate issue for that, shall we?\nRegarding the contributor handbook, I have a feeling \"advanced\" should be kept for rarely used actions. For documentation, I would organize stuff like this:\n- Information\n  - Welcome aboard\n  - Help/Manual\n  - Contributor Handbook\n  - About Paperwork (credits, licence, release notes). > - When the user starts Paperwork, if their work directory is empty, they get one first document : the introduction to Paperwork (which they can safely delete). One of the advantages for new users is that this document can be used for experimentations.\nOK.\n\n\nIn the application menu, I can add a sub-menu \"help\" (besides \"advanced\"), with the items you listed. Clicking on one of them will open the corresponding document, but not add it to the work directory / document list.\n\n\nHow would it open, then? Would it open in a modal window or something else? Showing the page in the left part without making it appear in the left pane could be a bit surprising. Perhaps the document could disappear from the list (as if the user pressed \"delete\") when user switches to another paper?\n\nBTW, I was wondering : is it useful to display the manual at the bottom of the list as shown in your mockup. From a technical point of view, it will be pretty annoying to do, and I don't see the point in making this document any different from other documents ?\n\nThe idea was not to have different behaviors for different documents. It is to replace the current behavior (stick to top) by a new one (stick to bottom), so that when the user will add a second, then a third paper, she willl understand the oldest papers are at the bottom of the list. Just thought this would be more easy to understand than the latest paper pushing down the previous one. If it makes things too complex, this is no big deal anyway.. I like how the flying sheets announce the paper plane at the end of the pdf! I think it illustrates well the first paragraph, but not sure it could work. Maybe putting a hand up to say hello could help make things a bit warmer? This could mean the person pictured is not a lambda user (as she says hello) but yourself, welcoming new users. I don't know if I'm full of bullshit because I'm tired but hey, why not!?. > Well, I use Paperwork, therefore I don't have huge messy piles of papers progressively destroyed by the wind/simple draft ;)\nThat was my point, a bit of storytelling: you made paperwork to solve this problem, and breeze is not an ennemy anymore.\nDetails:\n- figure 2 is too low\n- figure 3 should have screenshots of the same size\n- figure 4 idem\n- figure 5 idem\n\"Tell us\", in the very last sentence, should be a link or an e-mail adress pointing where you want, so that user can easily give us feedback.\nAre you sure about the font?. This seems related to #555. I'm working on mockups.. With #119, it would be allowed to search \"all the bills since last month\" and save the request. Supporting something like \"all the bills older than two years\" would perfectly fulfill this ticket, I think.\nOn a code point of view, that would be neglictible work. The challenge is keeping a simple and clean UX, and see if the complexity added is worth the benefits.\nI'll do mockups :). Mockups available in #119. Feel free to take a look and comment!. There is definitely room for improvement in the left pane. Avoiding users to type in unnecessary titles is indeed a rule we should stick to, but this doesn't mean there should be no title at all. For pdf, we may have metadata to rely on, fine. But we should keep the left pane consistent, and display relevant information for scanned documents too. To do this the lazy way, instead of extra keywords we probably could extract useful information from the papers as discussed in #560:\n- for mail, the subject could obviously be used as a title, the sender could also be shown, and the expedition date could also be used in place of the date of the scan\n- for paychecks and bills, perhaps showing the value could also be interesting in the left pane. I made something to illustrate what it could look like:\n\n@eliotb, does it match your request?. > Hm, while this is out of the scope of this ticket, I like the idea of grouping documents by years / months :-)\nYeah, I think changing the date format to use full text months could improve readability too.\n\nHowever, don't remove thumbnails. OCR is hardly good enough to identify documents just from excerpts. And thumbnails makes it much more easy for the human brain to identify documents (human brains are awesome at recognizing visual patterns).\n\nI agree. Problem is this doesn't work when you have several documents using the same pattern even for different matters (ie, letters). So it could be nice to have some heuristics here to guess what portion of text could make a good excerpt (which relates to #560). Currently we do have free space besides the thumbnail which is worth filling in.\nAnyway, that was just an attempt, numbers of the day appear to be even less meaningful than thumbnails.. @eliotb, thanks for your feedback! One question comes to mind: how do you use extra keywords? I understand that you use them only to have less tags, but I can't see the point of having a few tags and a lot of keywords, rather than just having a lot of tags.\nThat could help in the design work we have regarding this specific feature (see #195).. Well, something else we should look at: https://flathub.org/\nIt's still at its early stages of development but could host our flatpak (see #559) for all distributions.. Needs #580 to be done beforehand.. Also related to #256.. Please find experimental wireframes to import pdf. This should cover all of the issues above (except #244).\n. Some experiments here:\n\nscan from flatbed\nscan from feeder\n\nThat's open for comments.. > Just one comment : I don't think the part where the label list appear from the right is really relevant. In a perfect world, label should be automagically guessed correctly. Also, currently they appear on the left side .. :/\nThanks for this comment. Even in a perfect world, the user would have to create & edit tags before paperwork is able to automatically associate them with papers. So the question is: why moving the pane from the left to the right? I see 2 reasons to do so.\n\n\nI am not aware of software other than Paperwork that would show the properties of a document on the left of it. Activating a \"details\" button to have file properties/metadata displayed in a right pane seems a more common pattern. Some examples here: Nextcloud, plus.google.com, Bear...\n\n\nAs we are adding new features (overview, export queue, saved searches...) we need to keep things simple. What we did in the latest wireframes experiments is to split the interface in a serie of vertical panes. The idea is to build a simple workflow, going from the general (left) to the specific (right). This is illustrated here and there.. When I said nothing happens, I meant literraly nothing happens! You'll find the output below anyway, as you'll see I'm using a virtualenv and there are several gtk warnings. Though nothing appears in the output after I selected a document, clicked the first page in the grid view and tried to scroll down to the second page.\n\n\npaperwork_issue-677_20170929-1925.txt\n. Hi! I'm so glad you succeeded in building the flatpak! Sorry I didn't took time to test further yet. I get the same behavior here, running the flatpak on Fedora 26 x86_64. Let me know if I can provide further input.. I gave it a try on another laptop also running under Fedora 26, scrolling works fine. On my computer, I tried with \"natural scrolling\" disabled in gnome settings, didn't do any good. Problem happens with both pdf and jpeg documents. I can't think of anything specific on my computer. I'll try with a clean gnome session, just in case.. It seems I have some crap under my everyday session, as I could not reproduce it under a new one :/. Well, it seems problem didn't get solved at all here\u2026\nI tried to check if that could come from my home directory:\n$ mv ~/.* ~/backups\n\nSame problem. I also tried to totally uninstall Paperwork, then install it system-wide:\n$ flatpak uninstall org.gnome.Paperwork\n$ flatpak uninstall work.openpaper.Paperwork\n$ flatpak install --user flathub work.openpaper.Paperwork\n\nSame problem. I tried again, installing the Flatpak as a user with no specific privilege:\n$ flatpak install --user flathub work.openpaper.Paperwork\n\nSame problem. I also tried to remove all user-related dconf settings, then restart the session:\n$ mv .config/dconf/ backup/.config/\n$ sudo mv /run/user/1000/dconf/user ~/backup/\nSame problem. I tried to create an other account named \"paperwork\" (through GNOME Settings), the problem still happens.\nI tried again through the accound where it was previously working, and the only flatpak available (1.2.1) could not launch. So I declared flathub then installed paperwork for the user, and could successfully run 1.2.3\u2026 Same problem!. To me, the documentation on GitHub was a workaround to get Paperwork working for who didn't have any package available on her distro. Now that Flatpak should help making Paperwork more accessible, I can't help but think \"what a steep learning curve to perform such a common task a scanning a document\"! Is there a way we could make this work out of the box?. > I could include libsane + all the sane backends in the Flatpak image. But then the problem is that it won't work with proprietary drivers\nI guess there is no solution for this, a part extending xdg-desktop-portal.\n\n(nor it should ; distribution packages create an extra validation step and increase trust anyway).\n\nTrue, except for proprietary software where there is no trust to increase. So if the goal is to get things to work with proprietary drivers, maybe distribution-specific packages is not the best thing to rely on.\nWhat's the trick to get the flatpak to work with scanners? Do you have ideas on how and when to display it? On first run? The first time the user tries to create a document? Some other time?. > That would clearly be the cleanest solution regarding Flatpak. Unfortunately, I won't have time to even look at such solution before at least 1 year.\nYeah, I didn't even mean to suggest that you (or anyone else) should do it :)\n\nI don't really like the idea of displaying a popup only the first time of X: I'm often the kind of guy that close a popup without even looking at it, and then wonder what this popup was actually saying.\n\nI think you are totally right. What would be the actual popup content? I have to admit I'm still running the git version from time to time when I need to scan.. I made some wireframes for when the scanner is not found. Thoughts welcome.. Nope, Paperwork would look for a scanner only when the user tries to add a new document, add a page to an existing document, or open the preferences.. Hi! I gave it a shot : http://mjourdan.frama.io/paperwork-pages/. As GNOME is hosting it's own Gitlab instance, I thought it could be interesting to use Gitlab pages to host the page. The site is automatically built each time I push to the repo, that's cool! To build the site, I first look at Pelican (as it is written in Python) but could not find any theme appropriate. So I tried with Middleman, which is written in ruby (which doesn't not matter much unless you are concerned with software dependencies I guess). For the UI, I simply used something existing. I didn't thought much about the text, and the screenshots clearly don't match our purpose. That's all for the feedback.\nI guess with Django you would have to keep self-hosting at least, also, I have no idea of the effort required to port the theme.. > I guess it would be the easiest way to go.\nIt seems indeed.\nOf course the sources are available! you'll find them here. Regarding the licence, maybe the affero GPL would be better (as visitors benefit of the copyleft too), but I'm ok with the GPLv3.. Not sure about the robotic arm, but overall I like it very much! The folder and blueprint illustrations are really, really good!. Issues related to multiple selection and mass export are referenced in #654. I tried to update the wireframes for mass labelling. Feel free to comment, folks!. > ~~Since they are not show casing applications anymore, I'm considering removing it from FlatHub since it means extra work for me for nothing.~~\nIIRC hosting on GNOME gitlab could help to avoid this extra work.\nBTW, I could update to 1.2.4 using the cli, even if the web page on flathub still indicates 1.2.3. Thanks!. ",
    "tnorth": "Thank you. The fix was indeed straightforwards, I should have taken a look at the sources :)\n. Yes, both evince and Okular can open this document.\nUnfortunately I can't send the PDF, it contains private information.\nBut I tried to reproduce it and couldn't really find a pattern:\n- Take any(?) PNG picture, and convert it to PDF with convert (I used gm convert foo.png foo.pdf)\n- Import it and get the message reported above, with a segmentation fault.\nWeird things:\n- re-running paperwork sometimes fix the problem (the \"bad\" PDF is now in the list, and opens properly)\n- when it works: click on some other paper, and back to the \"bad\" PDF: crashes again.\nPlus, I sometimes get this message :\nWorkers: [Building page image] started\nError (6854470): Bad uncompressed block length in flate stream\nError (6865152): Unexpected end of file in flate stream\nError (2528775): Unexpected end of file in flate stream\nWorkers: [Thumbnailing] ended\n Updating thumbnail 0\nSegmentation fault\nI am running Fedora 17 on x86_64.\nThanks!\n. Oops, forgot the pdfinfo:\n- simple PNG image:\n  Creator:        cairo 1.10.2 (http://cairographics.org)\n  Producer:       cairo 1.10.2 (http://cairographics.org)\n  Tagged:         no\n  Pages:          1\n  Encrypted:      no\n  Page size:      82.2047 x 82.2047 pts\n  File size:      1807 bytes\n  Optimized:      no\n  PDF version:    1.4\n- other document:\n  Title:          my private document\n  Producer:       GraphicsMagick 1.3.16 2012-06-23 Q16 http://www.GraphicsMagick.org/\n  CreationDate:   Wed Sep 26 16:35:28 2012\n  ModDate:        Wed Sep 26 16:35:28 2012\n  Tagged:         no\n  Pages:          1\n  Encrypted:      no\n  Page size:      612 x 792 pts (letter)\n  File size:      12779489 bytes\n  Optimized:      no\n  PDF version:    1.2\n. I need to check it again, I will reopen this bug if it is still crashing.\nThanks!\n. (Maybe I shouldn't have filled an issue for that ? feel free to close...)\n. ",
    "chrisz": "You can close it. I can't do further tests for a long time.\n. ",
    "bignaux": "about positionally aware ocr to a djvu :\nSince OCR softwares tend to use hOCR format (html based) and djvu uses lisp s-expression format, i think the hard part is to create a robust tool to convert hOCR file to s-expr. (perharps xslt ?) . I've tested some tool like hocr2djvu claimed to do that but as you know, hOCR files are not always conform and my tests failed (tesseract3). \ni'm still looking on that subject.\n. blocked by #258 : New scanner setting : B&W / Color\n. not so simple as i could be, lack of reusable implementation of the JBIG2, IW44 ... \nnote , since we use scipy and scikit, we could write the best djvu creation tool (djvu file with b&w is 60ko for a 160Mo same document in pdf on my last trial) using scikit to detect image and text zones ( the hardest issue in processing good djvu).\n. Another interesting stuff is https://en.wikipedia.org/wiki/OPDS. Calibre has is OPDS server ( http://manual.calibre-ebook.com/cli/calibre-server.htm ) . \n@ jadjay OPDS is atom feed based too, should be easy to write alfresco plugin to support.\n. @jadjay as Consultant Logiciels Libres chez Axolys SS2L, are you interessting to do business on this feature with me ? I'm open for new position this days. \n. great news on this subject http://ecmarchitect.com/archives/2013/05/24/1819\nCMIS 1.1 now support AtomPub with JSON as data... so better choice. \n@jadjay : i'm still waiting for your call, i'm hacking such things this days (on http://ckan.org/ as a modern DMS).\n. 1) Gtk is not available on Android --> a specific frontend will have to be made\nwe should not use Gobject/glib in backend, and use http://effbot.org/imagingbook/format-pdf.htm , anyway, we could have many format backend with smart depedancies.\n2) Scanners and printers are not (yet) available on Android. So this will just be a viewer\n=> RESTful API https://github.com/jflesch/paperwork/issues/265 and js UI would solve both : you could have paperwork backend running on a host and connect it through webbrowser. \n. so the printers need to have a SMTP client and account ? i add this to #265 it could do it in the both way : send a json IMAP4 objet request and paperworkd scan from scanner or processing an attachment (archive auto) or send the result as an attachement. Interessing stuff but later for me.\n. noticed :+1: \n. custom workflow support would definitely be a next step when we think about such issue.\nsee http://www.brainvisa.info/doc/soma-workflow-2.6/sphinx/examples.html\n. i'm interessting doing that with json/flask -- see #265\n. And it would probably be too lot of change anyway. I think i better have to write from scratch a new thing and don't disturb here. Anyway, i keep in mind that it would be better if it usable by paperwork later the key here is my effort should be profitable to paperwork. \nThe pipeline step stuff is the main difficulty i've to solve in my design. This hypermedia and dataset makes me really enthusiast and would be definitively useful for processing scan&forget data.\n. ",
    "cyrinux": "Few year ago i made me a perl program like paperwork with save file as djvu, evince with evince-djvu can open it and search inside, this was cool.\nI have tone of djvu document and would like to import them in paperwork which is better than my program and lighter. (I used mongod to store full text doc)\nI will try to convert from djvu to pdf, i will lose ocr of djvu and reimport them. Do you think it is a good idea?\n. Hi!  I can wait for soon dev :P thanks man\nLe mer. 30 mars 2016 11:26, Jerome Flesch notifications@github.com a\n\u00e9crit :\n\nSorry, I missed your message :/\nWell it depends. I will add the support of DjVu files, sooner or later\n(ok, right now, it looks more like \"later\" than \"sooner\"). So the question\nis : can you wait for it ? If yes, then I suggest you do not convert your\nfiles to PDF.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHub\nhttps://github.com/jflesch/paperwork/issues/124#issuecomment-203343255\n. \n",
    "Jfleschwyplay": "Sorry, I missed your message :/\nWell it depends. I will add the support of DjVu files, sooner or later (ok, right now, it looks more like \"later\" than \"sooner\"). So the question is : can you wait for it ? If yes, then I suggest you do not convert your files to PDF.\n. ",
    "Jax73": "That was fast ! Thanks a lot for your help. I'll try Paperwork right away.\n. ",
    "zdenop": "Have a look at these links:\nhttps://github.com/jbrinley/HocrConverter/blob/master/HocrConverter.py\nhttps://code.google.com/p/hocr-tools/source/browse/hocr-pdf\nhttp://documentup.com/virantha/pypdfocr/\n. If you are interested in small pdf than have a look at https://github.com/agl/jbig2enc (it did not add text layer, but it should be possible to combine pdf.py from jbig2enc with above mentioned projects...\nInteresting experiences with scanning, ocr, jbig2enc, hocr, pdf... can be found at this blog http://ssdigit.nothingisreal.com/\n. ",
    "benoit-pierre": "I made a small shell script to export a scanned Paperwork document to PDF:  hocr2pdf is used on each page (from exactimage package on Ubuntu) and pdfunite for creating the final PDF. Seems to work pretty well. Also interesting is the fact that the final PDF is much smaller than the version using Paperwork export feature: from 21Mo to 4.9Mo.\nHere is the script:\n``` bash\n! /bin/sh\nif [ 3 -ne $# ]\nthen\n  echo 1>&2 \"Usage: $0   \"\n  exit 1\nfi\ndpi=\"$1\"\ninput=\"$2\"\noutput=\"$3\"\ntmpdir=\"mktemp -t -d export2pdf.XXXXXXXXXX\" || exit $?\ncode=1\npages=''\npagenum=1\nwhile true\ndo\n  image=\"$input/paper.$pagenum.jpg\"\n  if [ ! -r \"$image\" ]\n  then\n    break\n  fi\nwords=\"$input/paper.$pagenum.words\"\n  if [ ! -r \"$words\" ]\n  then\n    words='/dev/null'\n  fi\necho \"Processing page $pagenum...\"\n  hocr2pdf -r \"$dpi\" -i \"$image\" -o \"$tmpdir/$pagenum.pdf\" <\"$words\"\n  code=$?\nif [ 0 -ne $code ]\n  then\n    break\n  fi\npages=\"$pages $tmpdir/$pagenum.pdf\"\n  pagenum=$((pagenum+1))\ndone\nif [ 0 -eq $code ]\nthen\n  echo \"Creating final PDF...\"\n  pdfunite $pages \"$output\"\n  code=$?\nfi\nrm -f $pages\nrmdir \"$tmpdir\"\nexit $code\n```\n. ",
    "akarzim": "Another way to drastically reduce the size of the produced pdf is a duplex stream using\npdf2ps - - | ps2pdf - -\nBut this way we loose OCR data.\n. @tYYGH I'm not agree with you. I just start using Paperwork few weeks ago and I have a lot of papers to scan. In this context, the date-of-scan has no sens : all my papers have the same dummy date.\nSo retrieving the date-on-the-paper follows the \"scan-and-forget\" logic more than adding notes manually for example. \n. For the record, the error came from my IP printer. Sane was looking for hpaio:/net/Photosmart_6520_series?ip=192.168.0.15 but my printer had changed to IP 192.168.0.16\nAfter fixing manually the IP address of my printer, all is now working !\nThanks\n. Ok, let me know if you need more logs or details.\nDid you find a cleanner way to get scans working again ?\n. ",
    "r0bis": "Well, this would be a very good feature to include text in any way. In case if one needs to further optimise or edit the PDF one could use MasterPDF Editor for linux. Just getting the text in would be a huge step forward. I am using version 0.3.2 and it only generates pdf images, no \"selectable\" or searchable text is found.\n. That is great, sorry I misunderstood. Fingers crossed that instability in scanning will be resolved. This is a great piece of software. I was just curious about design choice by the way -  I have not seen a way to add document title; effectively all written identification is done through tags and additional text? It is nice to spend absolute minimum time on document processing when scanning. On the other hand document titles /  file names are such time honored tradition... :) I am thinking when number of documents reaches hundreds, names might be handy.\n. ",
    "GeeTee": "Thanks for your fast answer,\nI have logout and log back.\nI see the Paperwork icon, but when clicking don't work.\nI have shutdown -h my computer the started it again : the same.\nTo be sure, I have used my termina:n \"paperwork\" and received the same\nanswer than yesterday.\n2013/3/25 Jerome Flesch notifications@github.com\n\nBy the way, afaik, it's not supposed to appear in the launcher directly.\nIt's only supposed to appear in the application list. However, I think that\nyou may have to log out / log back in to see it.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jflesch/paperwork/issues/136#issuecomment-15424978\n.\n\n\nbien cordialement, Gilles Testard\nR\u00e9cemment mis en ligne : http://www.antiquites-chasse-passion.com/\nS'inscrire \u00e0 la Newsletter de Galit\u00e8s http://eepurl.com/oQpOP\nAides aux clients Galit\u00e8s\nhttp://projets.galites.net/\nhttp://www.galites.net\nVisiter le site Galites http://www.galites.net\n. I read #134 and downloaded python woosh, and that works.\nThank you for helping me.\n. ",
    "henjosgab": "Hello,\nMy english is not very well, so I'll try\nNo, the problem is not resolved, I made \u200b\u200ba wrong move\nOS used : Debian Wheezy  and device : Epson Perfection 1200\nNo problem to install paperwork and it start correctly.\nBut when I try to calibrate the scan (Edition > Preferences) the program displays the progress bar and then wait\nFollowing the course of action that will be displayed in the terminal:\nhenri@PCGT-Debian:~$ cd paperwork\nhenri@PCGT-Debian:~/paperwork$ paperwork\nWorkers: Worker thread started\nLooking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nWill use locales from 'locale'\nConfig file found: /home/henri/.config/paperwork.conf\nTried to use UI file ./mainwindow.glade but failed: L'ouverture du fichier \u00ab ./mainwindow.glade \u00bb a \u00e9chou\u00e9 : Aucun fichier ou dossier de ce type\n(paperwork:5609): Gtk-WARNING **: Could not load image 'paperwork.svg': Impossible d'ouvrir le fichier \u00ab src/paperwork/frontend/paperwork.svg \u00bb : Aucun fichier ou dossier de ce type\nUI file used: src/paperwork/frontend/mainwindow.glade\nException while trying to get the number of pages of '20130419_0924_30': [Errno 2] Aucun fichier ou dossier de ce type: '/home/henri/papers/20130419_0924_30'\nStopping worker [Building page image]\nImage view port resized. (0, 0) --> (566, 660)\nWorker Building page image: 0 ; False\nWorkers: Queueing [Building page image]\nWorkers: [Building page image] started\nWorkers: [Building page image] ended\nAction: [Rebuild index]\nStopping worker [Document reindexation]\nStopping worker [Document examination]\nStopping worker [Document examination]\nWorker Document reindexation: 0 ; False\nWorkers: Queueing [Document reindexation]\nWorkers: [Document reindexation] started\nOpening index dir '/home/henri/.local/share/paperwork/index' ...\nWorkers: [Document reindexation] ended\nStopping worker [Doc thumbnailing]\nStopping worker [Search]\nWorker Search: 0 ; False\nWorkers: Queueing [Search]\nWorkers: [Search] started\nException while trying to get the number of pages of '20130419_0924_30': [Errno 2] Aucun fichier ou dossier de ce type: '/home/henri/papers/20130419_0924_30'\nWorkers: [Search] ended\nStopping worker [Page thumbnailing]\nStopping worker [Doc thumbnailing]\nGot 0 suggestions\nGit 1 documents\nStopping worker [Page thumbnailing]\nWorker Page thumbnailing: 0 ; False\nWorkers: Queueing [Page thumbnailing]\nWorkers: [Page thumbnailing] started\nWorker Doc thumbnailing: 0 ; False\nWorkers: Queueing [Doc thumbnailing]\nWorkers: [Page thumbnailing] ended\nWorkers: [Doc thumbnailing] started\nWorkers: [Doc thumbnailing] ended\nIndex loaded and thumbnailing done. Will start refreshing the index ...\nStopping worker [Document examination]\nStopping worker [Document examination]\nWorkers: [Document examination] started\nWorkers: [Document examination] ended\nDocument examen finished. Updating index ...\nNew document: 0\nUpdated document: 0\nDeleted document: 0\nNo changes\nAction: [Open settings dialog]\nTried to use UI file ./settingswindow.glade but failed: L'ouverture du fichier \u00ab ./settingswindow.glade \u00bb a \u00e9chou\u00e9 : Aucun fichier ou dossier de ce type\nUI file used: src/paperwork/frontend/settingswindow.glade\nWarning: Long name not found for language 'equ'.\nException was: 'equ'\nWill use short name as long name.\nWarning: Long name not found for language 'osd'.\nException was: 'osd'\nWill use short name as long name.\n(paperwork:5609): Gtk-CRITICAL _: gtk_list_store_get_value: assertion column < priv->n_columns' failed\n/usr/lib/python2.7/dist-packages/gi/types.py:43: Warning: g_object_set_property: assertionG_IS_VALUE (value)' failed\nreturn info.invoke(_args, _kwargs)\n/usr/lib/python2.7/dist-packages/gi/types.py:43: Warning: g_value_unset: assertion `G_IS_VALUE (value)' failed\nreturn info.invoke(_args, **kwargs)\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nWorker Device finder: 0 ; False\nWorkers: Queueing [Device finder]\nWorkers: [Device finder] started\nLooking for scan devices ...\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5609): Gtk-CRITICAL _: gtk_list_store_get_value: assertion column < priv->n_columns' failed\nDevice found: [Epson Perfection1200] -> [epson2:libusb:002:002]\nWorkers: [Device finder] ended\nGot value [['Epson Perfection1200', 'epson2:libusb:002:002']]\nSelect scanner: 0\nWorker Resolution finder: 0 ; False\nWorkers: Queueing [Resolution finder]\nWorkers: [Resolution finder] started\nLooking for resolution of device [epson2:libusb:002:002]\n/usr/lib/python2.7/dist-packages/gi/types.py:43: Warning: unable to set propertysensitive' of type gboolean' from value of typegchararray'\nreturn info.invoke(_args, _kwargs)\n/usr/lib/python2.7/dist-packages/gi/types.py:43: Warning: unable to set property xpad' of typeguint' from value of type `gchararray'\nreturn info.invoke(_args, **kwargs)\n(paperwork:5609): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nResolutions found: [50, 60, 72, 75, 80, 90, 100, 120, 133, 144, 150, 160, 175, 180, 200, 216, 240, 266, 300, 320, 350, 360, 400, 480, 600, 720, 800, 900, 1200, 1600, 1800, 2400, 4800, 9600]\nGot value [['50', 50]]\nWorkers: [Resolution finder] ended\nGot value [['60', 60]]\nGot value [['72', 72]]\nGot value [['75', 75]]\nGot value [['80', 80]]\nGot value [['90', 90]]\nGot value [['100', 100]]\nGot value [['120', 120]]\nGot value [['133', 133]]\nGot value [['144', 144]]\nGot value [['150', 150]]\nGot value [['160', 160]]\nGot value [['175', 175]]\nGot value [['180', 180]]\nGot value [['200', 200]]\nGot value [['216', 216]]\nGot value [['240', 240]]\nGot value [['266', 266]]\nGot value [['300 (recommand\\xc3\\xa9e)', 300]]\nGot value [['320', 320]]\nGot value [['350', 350]]\nGot value [['360', 360]]\nGot value [['400', 400]]\nGot value [['480', 480]]\nGot value [['600', 600]]\nGot value [['720', 720]]\nGot value [['800', 800]]\nGot value [['900', 900]]\nGot value [['1200', 1200]]\nGot value [['1600', 1600]]\nGot value [['1800', 1800]]\nGot value [['2400', 2400]]\nGot value [['4800', 4800]]\nGot value [['9600', 9600]]\n\nhere the Settings screen appears\nprg has found my Epson Perfection 1200 scanner\nFollowing is the calibration operation which does not stop\n\nWorker Calibration scan: 0 ; False\nWorkers: Queueing [Calibration scan]\nWorkers: [Calibration scan] started\nWorkers: [Progress bar updater: calibration scan] started\nWarning: Unable to set scanner source to 'Auto': : Data is invalid (4)\nWorkers: [Calibration scan] ended\nWorker [Calibration scan] raised an exception: 'str' object has no attribute 'append'\nTraceback (most recent call last):\nFile \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/workers.py\", line 47, in run\nworker._wrapper(**kwargs)\nFile \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/workers.py\", line 154, in wrapper\nself._last_ret_value = BasicWorker._wrapper(self, kwargs)\nFile \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/workers.py\", line 105, in _wrapper\nreturn self.do(kwargs)\nFile \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/settingswindow.py\", line 197, in do\nscan_inst.read()\nFile \"/usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py\", line 121, in read\nSaneAction(self._session.read).wait()\nFile \"/usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py\", line 34, in wait\nraise self.exception\nAttributeError: 'str' object has no attribute 'append'\nWorkers: [Progress bar updater: calibration scan] ended\n. This file contains the reply of  the 2 questions\nThank you for your response\nQuestion 1 :\n\nhenri@PCGT-Debian:~/paperwork$ cd pyinsane\nhenri@PCGT-Debian:~/paperwork/pyinsane$ ./list_all.py\nScanner 'epson2:libusb:002:002' (Epson, Perfection1200, flatbed scanner)\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19475988, 0)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 0\n  Option: sharpness\n    Title: Sharpness\n    Desc: \n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-2, 2, 0)\n    Value: 0\n  Option: cct-type\n    Title: CCT Profile Type\n    Desc: Color correction profile type\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 21\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Automatic', 'Reflective', 'Colour negatives', 'Monochrome negatives', 'Colour positives']\n    Value: Automatic\n  Option: mirror\n    Title: Mirror image\n    Desc: Mirror the image.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: threshold\n    Title: Threshold\n    Desc: Select minimum-brightness to get a white point\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 128\n  Option: adf-mode\n    Title: ADF Mode\n    Desc: Selects the ADF mode (simplex/duplex)\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Simplex', 'Duplex']\n    Value: Simplex\n  Option: color-correction\n    Title: Color correction\n    Desc: Sets the color correction table for the selected output device.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 25\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Built in CCT profile', 'User defined CCT profile']\n    Value: Built in CCT profile\n  Option: cct-profile\n    Title: CCT Profile\n    Desc: Color correction profile data\n    Type:  : Fixed (2)\n    Unit:  : None (0)\n    Size: 36\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : Range (1)\n    Constraint: (-131072, 131072, 0)\n    Value: 0\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Flatbed']\n    Value: Flatbed\n  Option: preview\n    Title: Preview\n    Desc: Request a preview-quality scan.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: focus-position\n    Title: Focus Position\n    Desc: Sets the focus position to either the glass or 2.5mm above the glass\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 24\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Focus on glass', 'Focus 2.5mm above glass']\n    Value: Focus on glass\n  Option: halftoning\n    Title: Halftoning\n    Desc: Selects the halftone.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 26\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Halftone A (Hard Tone)', 'Halftone B (Soft Tone)', 'Halftone C (Net Screen)', 'Dither A (4x4 Bayer)', 'Dither B (4x4 Spiral)', 'Dither C (4x4 Net Screen)', 'Dither D (8x4 Net Screen)', 'Text Enhanced Technology', 'Download pattern A', 'Download pattern B']\n    Value: Halftone A (Hard Tone)\n  Option: film-type\n    Title: Film type\n    Desc: \n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 15\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Positive Film', 'Negative Film', 'Positive Slide', 'Negative Slide']\n    Value: Positive Film\n  Option: auto-eject\n    Title: Auto eject\n    Desc: Eject document after scanning\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: dropout\n    Title: Dropout\n    Desc: Selects the dropout.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 6\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Red', 'Green', 'Blue']\n    Value: None\n  Option: green-gamma-table\n    Title: Green intensity\n    Desc: Gamma-correction table for the green band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 0\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19475988, 0)\n    Value: 19475988\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 14149222\n  Option: auto-area-segmentation\n    Title: Auto area segmentation\n    Desc: Enables different dithering modes in image and text areas\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 1\n  Option: wait-for-button\n    Title: Wait for Button\n    Desc: After sending the scan command, wait until the button on the scanner is pressed to actually start the scan process.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: blue-gamma-table\n    Title: Blue intensity\n    Desc: Gamma-correction table for the blue band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 0\n  Option: brightness\n    Title: Brightness\n    Desc: Selects the brightness.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-4, 3, 0)\n    Value: 0\n  Option: bay\n    Title: Bay\n    Desc: Select bay to scan\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 2\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['1', '2', '3', '4', '5', '6']\n    Value: 1\n  Option: depth\n    Title: Bit depth\n    Desc: Number of bits per sample, typical values are 1 for \"line-art\" and 8 for multibit scans.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)This file contains the reply of  the 2 questions\nQuestion 1 :\n\nhenri@PCGT-Debian:~/paperwork$ cd pyinsane\nhenri@PCGT-Debian:~/paperwork/pyinsane$ ./list_all.py\nScanner 'epson2:libusb:002:002' (Epson, Perfection1200, flatbed scanner)\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19475988, 0)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 0\n  Option: sharpness\n    Title: Sharpness\n    Desc: \n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-2, 2, 0)\n    Value: 0\n  Option: cct-type\n    Title: CCT Profile Type\n    Desc: Color correction profile type\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 21\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Automatic', 'Reflective', 'Colour negatives', 'Monochrome negatives', 'Colour positives']\n    Value: Automatic\n  Option: mirror\n    Title: Mirror image\n    Desc: Mirror the image.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: threshold\n    Title: Threshold\n    Desc: Select minimum-brightness to get a white point\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 128\n  Option: adf-mode\n    Title: ADF Mode\n    Desc: Selects the ADF mode (simplex/duplex)\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Simplex', 'Duplex']\n    Value: Simplex\n  Option: color-correction\n    Title: Color correction\n    Desc: Sets the color correction table for the selected output device.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 25\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Built in CCT profile', 'User defined CCT profile']\n    Value: Built in CCT profile\n  Option: cct-profile\n    Title: CCT Profile\n    Desc: Color correction profile data\n    Type:  : Fixed (2)\n    Unit:  : None (0)\n    Size: 36\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : Range (1)\n    Constraint: (-131072, 131072, 0)\n    Value: 0\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Flatbed']\n    Value: Flatbed\n  Option: preview\n    Title: Preview\n    Desc: Request a preview-quality scan.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: focus-position\n    Title: Focus Position\n    Desc: Sets the focus position to either the glass or 2.5mm above the glass\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 24\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Focus on glass', 'Focus 2.5mm above glass']\n    Value: Focus on glass\n  Option: halftoning\n    Title: Halftoning\n    Desc: Selects the halftone.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 26\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Halftone A (Hard Tone)', 'Halftone B (Soft Tone)', 'Halftone C (Net Screen)', 'Dither A (4x4 Bayer)', 'Dither B (4x4 Spiral)', 'Dither C (4x4 Net Screen)', 'Dither D (8x4 Net Screen)', 'Text Enhanced Technology', 'Download pattern A', 'Download pattern B']\n    Value: Halftone A (Hard Tone)\n  Option: film-type\n    Title: Film type\n    Desc: \n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 15\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Positive Film', 'Negative Film', 'Positive Slide', 'Negative Slide']\n    Value: Positive Film\n  Option: auto-eject\n    Title: Auto eject\n    Desc: Eject document after scanning\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: dropout\n    Title: Dropout\n    Desc: Selects the dropout.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 6\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Red', 'Green', 'Blue']\n    Value: None\n  Option: green-gamma-table\n    Title: Green intensity\n    Desc: Gamma-correction table for the green band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 0\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19475988, 0)\n    Value: 19475988\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 14149222\n  Option: auto-area-segmentation\n    Title: Auto area segmentation\n    Desc: Enables different dithering modes in image and text areas\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 1\n  Option: wait-for-button\n    Title: Wait for Button\n    Desc: After sending the scan command, wait until the button on the scanner is pressed to actually start the scan process.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: blue-gamma-table\n    Title: Blue intensity\n    Desc: Gamma-correction table for the blue band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 0\n  Option: brightness\n    Title: Brightness\n    Desc: Selects the brightness.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-4, 3, 0)\n    Value: 0\n  Option: bay\n    Title: Bay\n    Desc: Select bay to scan\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 2\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['1', '2', '3', '4', '5', '6']\n    Value: 1\n  Option: depth\n    Title: Bit depth\n    Desc: Number of bits per sample, typical values are 1 for \"line-art\" and 8 for multibit scans.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [8]\n    Value: 8\n  Option: gamma-correction\n    Title: Gamma Correction\n    Desc: Selects the gamma correction value from a list of pre-defined devices or the user defined table, which can be downloaded to the scanner\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 23\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'User defined', 'High density printing', 'Low density printing', 'High contrast printing']\n    Value: Default\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Lineart', 'Gray', 'Color']\n    Value: Lineart\n  Option: red-gamma-table\n    Title: Red intensity\n    Desc: Gamma-correction table for the red band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 0\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [50, 60, 72, 75, 80, 90, 100, 120, 133, 144, 150, 160, 175, 180, 200, 216, 240, 266, 300, 320, 350, 360, 400, 480, 600, 720, 800, 900, 1200, 1600, 1800, 2400, 4800, 9600]\n    Value: 25\nhenri@PCGT-Debian:~/paperwork/pyinsane$ \nQuestion 2 \n\nthere is no file named scan.py\nhenri@PCGT-Debian:~/paperwork/pyinsane$ ./scan.py /dev/null\nbash: ./scan.py: Aucun fichier ou dossier de ce type\nhenri@PCGT-Debian:~/paperwork/pyinsane$ ./scan.py\nbash: ./scan.py: Aucun fichier ou dossier de ce type\nhenri@PCGT-Debian:~/paperwork/pyinsane$ ls\nbuild  COPYING  list_all.py  README.md  run_tests.py  setup.py  src  tests\nhenri@PCGT-Debian:~/paperwork/pyinsane$ \n    Constraint: [8]\n    Value: 8\n  Option: gamma-correction\n    Title: Gamma Correction\n    Desc: Selects the gamma correction value from a list of pre-defined devices or the user defined table, which can be downloaded to the scanner\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 23\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'User defined', 'High density printing', 'Low density printing', 'High contrast printing']\n    Value: Default\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Lineart', 'Gray', 'Color']\n    Value: Lineart\n  Option: red-gamma-table\n    Title: Red intensity\n    Desc: Gamma-correction table for the red band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 0\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [50, 60, 72, 75, 80, 90, 100, 120, 133, 144, 150, 160, 175, 180, 200, 216, 240, 266, 300, 320, 350, 360, 400, 480, 600, 720, 800, 900, 1200, 1600, 1800, 2400, 4800, 9600]\n    Value: 25\nhenri@PCGT-Debian:~/paperwork/pyinsane$ \nQuestion 2 \n\nthere is no file named scan.py\nhenri@PCGT-Debian:~/paperwork/pyinsane$ ./scan.py /dev/null\nbash: ./scan.py: Aucun fichier ou dossier de ce type\nhenri@PCGT-Debian:~/paperwork/pyinsane$ ./scan.py\nbash: ./scan.py: Aucun fichier ou dossier de ce type\nhenri@PCGT-Debian:~/paperwork/pyinsane$ ls\nbuild  COPYING  list_all.py  README.md  run_tests.py  setup.py  src  tests\nhenri@PCGT-Debian:~/paperwork/pyinsane$ \n. Hello,\nI run 'git pull' :   no error message\nBut when I start again \"paperwork\" the problem is still not resolved\nthe cursor is still pending, and no image appears in the preview window\nThank you for your response\nroot@PCGT-Debian:/home/henri/paperwork# paperwork\nWorkers: Worker thread started\nLooking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nWill use locales from 'locale'\nConfig file found: /root/.config/paperwork.conf\nTried to use UI file ./mainwindow.glade but failed: L'ouverture du fichier \u00ab\u00a0./mainwindow.glade\u00a0\u00bb a \u00e9chou\u00e9\u00a0: Aucun fichier ou dossier de ce type\n(paperwork:6509): Gtk-WARNING **: Could not load image 'paperwork.svg': Impossible d'ouvrir le fichier \u00ab\u00a0src/paperwork/frontend/paperwork.svg\u00a0\u00bb\u00a0: Aucun fichier ou dossier de ce type\nUI file used: src/paperwork/frontend/mainwindow.glade\nException while trying to get the number of pages of '20130419_1214_15': [Errno 2] Aucun fichier ou dossier de ce type: '/root/papers/20130419_1214_15'\nStopping worker [Building page image]\nImage view port resized. (0, 0) --> (566, 660)\nWorker Building page image: 0 ; False\nWorkers: Queueing [Building page image]\nWorkers: [Building page image] started\nWorkers: [Building page image] ended\nAction: [Rebuild index]\nStopping worker [Document reindexation]\nStopping worker [Document examination]\nStopping worker [Document examination]\nWorker Document reindexation: 0 ; False\nWorkers: Queueing [Document reindexation]\nWorkers: [Document reindexation] started\nOpening index dir '/root/.local/share/paperwork/index' ...\nWorkers: [Document reindexation] ended\nStopping worker [Doc thumbnailing]\nStopping worker [Search]\nWorker Search: 0 ; False\nWorkers: Queueing [Search]\nWorkers: [Search] started\nException while trying to get the number of pages of '20130419_1214_15': [Errno 2] Aucun fichier ou dossier de ce type: '/root/papers/20130419_1214_15'\nWorkers: [Search] ended\n Stopping worker [Page thumbnailing]\nStopping worker [Doc thumbnailing]\nGot 0 suggestions\nGit 1 documents\nStopping worker [Page thumbnailing]\nWorker Page thumbnailing: 0 ; False\nWorkers: Queueing [Page thumbnailing]\nWorkers: [Page thumbnailing] started\n Worker Doc thumbnailing: 0 ; False\nWorkers: Queueing [Doc thumbnailing]\nWorkers: [Page thumbnailing] ended\nWorkers: [Doc thumbnailing] started\nWorkers: [Doc thumbnailing] ended\nIndex loaded and thumbnailing done. Will start refreshing the index ...\nStopping worker [Document examination]\nStopping worker [Document examination]\nWorkers: [Document examination] started\nWorkers: [Document examination] ended\nDocument examen finished. Updating index ...\nNew document: 0\nUpdated document: 0\nDeleted document: 0\nNo changes\nAction: [Open settings dialog]\nTried to use UI file ./settingswindow.glade but failed: L'ouverture du fichier \u00ab\u00a0./settingswindow.glade\u00a0\u00bb a \u00e9chou\u00e9\u00a0: Aucun fichier ou dossier de ce type\n(paperwork:6509): GVFS-RemoteVolumeMonitor-WARNING **: cannot connect to the session bus: org.freedesktop.DBus.Error.NoReply: Did not receive a reply. Possible causes include: the remote application did not send a reply, the message bus security policy blocked the reply, the reply timeout expired, or the network connection was broken.\n(paperwork:6509): GVFS-RemoteVolumeMonitor-WARNING **: cannot connect to the session bus: org.freedesktop.DBus.Error.NoReply: Did not receive a reply. Possible causes include: the remote application did not send a reply, the message bus security policy blocked the reply, the reply timeout expired, or the network connection was broken.\n(paperwork:6509): GVFS-RemoteVolumeMonitor-WARNING **: cannot connect to the session bus: org.freedesktop.DBus.Error.NoReply: Did not receive a reply. Possible causes include: the remote application did not send a reply, the message bus security policy blocked the reply, the reply timeout expired, or the network connection was broken.\n* (paperwork:6509): WARNING *: La connexion est ferm\u00e9e\nUI file used: src/paperwork/frontend/settingswindow.glade\nWarning: Long name not found for language 'equ'.\n  Exception was: 'equ'\n  Will use short name as long name.\nWarning: Long name not found for language 'osd'.\n  Exception was: 'osd'\n  Will use short name as long name.\n(paperwork:6509): Gtk-CRITICAL _: gtk_list_store_get_value: assertion column < priv->n_columns' failed\n/usr/lib/python2.7/dist-packages/gi/types.py:43: Warning: g_object_set_property: assertionG_IS_VALUE (value)' failed\n  return info.invoke(_args, _kwargs)\n/usr/lib/python2.7/dist-packages/gi/types.py:43: Warning: g_value_unset: assertion `G_IS_VALUE (value)' failed\n  return info.invoke(_args, **kwargs)\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nWorker Device finder: 0 ; False\nWorkers: Queueing [Device finder]\nWorkers: [Device finder] started\nLooking for scan devices ...\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:6509): Gtk-CRITICAL _: gtk_list_store_get_value: assertion column < priv->n_columns' failed\nDevice found: [Epson Perfection1200] -> [epson2:libusb:002:002]\nWorkers: [Device finder] ended\n Got value [['Epson Perfection1200', 'epson2:libusb:002:002']]\nSelect scanner: 0\nWorker Resolution finder: 0 ; False\nWorkers: Queueing [Resolution finder]\nWorkers: [Resolution finder] started\nLooking for resolution of device [epson2:libusb:002:002]\n/usr/lib/python2.7/dist-packages/gi/types.py:43: Warning: unable to set propertysensitive' of type gboolean' from value of typegchararray'\n  return info.invoke(_args, _kwargs)\n/usr/lib/python2.7/dist-packages/gi/types.py:43: Warning: unable to set property xpad' of typeguint' from value of type `gchararray'\n  return info.invoke(_args, **kwargs)\n(paperwork:6509): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nResolutions found: [50, 60, 72, 75, 80, 90, 100, 120, 133, 144, 150, 160, 175, 180, 200, 216, 240, 266, 300, 320, 350, 360, 400, 480, 600, 720, 800, 900, 1200, 1600, 1800, 2400, 4800, 9600]\nGot value [['50', 50]]\nWorkers: [Resolution finder] ended\n Got value [['60', 60]]\nGot value [['72', 72]]\nGot value [['75', 75]]\nGot value [['80', 80]]\nGot value [['90', 90]]\nGot value [['100', 100]]\nGot value [['120', 120]]\nGot value [['133', 133]]\nGot value [['144', 144]]\nGot value [['150', 150]]\nGot value [['160', 160]]\nGot value [['175', 175]]\nGot value [['180', 180]]\nGot value [['200', 200]]\nGot value [['216', 216]]\nGot value [['240', 240]]\nGot value [['266', 266]]\nGot value [['300 (recommand\\xc3\\xa9e)', 300]]\nGot value [['320', 320]]\nGot value [['350', 350]]\nGot value [['360', 360]]\nGot value [['400', 400]]\nGot value [['480', 480]]\nGot value [['600', 600]]\nGot value [['720', 720]]\nGot value [['800', 800]]\nGot value [['900', 900]]\nGot value [['1200', 1200]]\nGot value [['1600', 1600]]\nGot value [['1800', 1800]]\nGot value [['2400', 2400]]\nGot value [['4800', 4800]]\nGot value [['9600', 9600]]\n\nI am in \"Edition > Pr\u00e9f\u00e9rences\"\nAt this point the scanner is found and language is \"French\"\nI start the calibration by click on Scanner button :\nThe r\u00e9sult is :\nWorker Calibration scan: 0 ; False\nWorkers: Queueing [Calibration scan]\nWorkers: [Calibration scan] started\nWorkers: [Progress bar updater: calibration scan] started\nWarning: Unable to set scanner source to 'Auto':  : Data is invalid (4)\nWorkers: [Calibration scan] ended\nWorker [Calibration scan] raised an exception: 'str' object has no attribute 'append'\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/workers.py\", line 47, in run\n    worker._wrapper(kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/workers.py\", line 154, in _wrapper\n    self.__last_ret_value = BasicWorker._wrapper(self, kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/workers.py\", line 105, in _wrapper\n    return self.do(**kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/settingswindow.py\", line 197, in do\n    scan_inst.read()\n  File \"/usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py\", line 121, in read\n    SaneAction(self._session.read).wait()\n  File \"/usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py\", line 34, in wait\n    raise self.exception\nAttributeError: 'str' object has no attribute 'append'\nWorkers: [Progress bar updater: calibration scan] ended\n. Hello,\nI launched well the command \"git pull\" in the directory where is scan.py\nthe problem remains\nroot@PCGT-Debian:/home/henri/paperwork# cd pyinsane/\nroot@PCGT-Debian:/home/henri/paperwork/pyinsane# git pull\nAlready up-to-date.\nroot@PCGT-Debian:/home/henri/paperwork/pyinsane# ls \nbuild  COPYING  list_all.py  README.md  run_tests.py  scan.py  setup.py  src  tests\nroot@PCGT-Debian:/home/henri/paperwork/pyinsane# git pull\nAlready up-to-date.\nroot@PCGT-Debian:/home/henri/paperwork/pyinsane# \n. Hello,\nHere is the result of the command\nhenri@PCGT-Debian:~/paperwork/pyinsane$ ./scan.py /dev/null\nOutput file: /dev/null\nLooking for scanners ...\nDevices detected:\nTraceback (most recent call last):\n  File \"./scan.py\", line 31, in \n    print \"- \" + \"\\n- \".join(devices)\nTypeError: sequence item 0: expected string, Scanner found\nhenri@PCGT-Debian:~/paperwork/pyinsane$ \nIs it what you want ?\n. Hello, today we are Saturday, April 20 (morning)\n Here is the result of the command, I hope this will help :\nroot@PCGT-Debian:/home/henri# pwd\n/home/henri\nroot@PCGT-Debian:/home/henri# cd paperwork/\nroot@PCGT-Debian:/home/henri/paperwork# cd py\npyinsane/ pylintrc  pyocr/\nroot@PCGT-Debian:/home/henri/paperwork# cd pyinsane/\nroot@PCGT-Debian:/home/henri/paperwork/pyinsane# git pull\nremote: Counting objects: 5, done.\nremote: Compressing objects: 100% (1/1), done.\nremote: Total 3 (delta 2), reused 3 (delta 2)\nUnpacking objects: 100% (3/3), done.\nFrom git://github.com/jflesch/pyinsane\n   7328c1f..426f978  master     -> origin/master\nUpdating 7328c1f..426f978\nFast-forward\n scan.py |    2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\nroot@PCGT-Debian:/home/henri/paperwork/pyinsane# ./scan.py /dev/null\nOutput file: /dev/null\nLooking for scanners ...\nDevices detected:\n- Scanner 'epson2:libusb:002:002' (Epson, Perfection1200, flatbed scanner)\nWill use: Scanner 'epson2:libusb:002:002' (Epson, Perfection1200, flatbed scanner)\nSetting resolution to 300\nSetting source to Auto\nFailed to set source to Auto:  : Data is invalid (4)\nScanning ...\n-Traceback (most recent call last):\n  File \"./scan.py\", line 56, in \n    scan_src.read()\n  File \"/home/henri/paperwork/pyinsane/src/abstract.py\", line 162, in read\n    self.__img = ImgUtil.raw_to_img(raw, self.__parameters)\n  File \"/home/henri/paperwork/pyinsane/src/abstract.py\", line 133, in raw_to_img\n    }parameters.depth\n  File \"/home/henri/paperwork/pyinsane/src/abstract.py\", line 95, in __raw_1_to_img\n    raw_unpacked.append(chr(0x00))\nAttributeError: 'str' object has no attribute 'append'\nroot@PCGT-Debian:/home/henri/paperwork/pyinsane# \n. hello, \nThanks very much, now paperwork seam to work fine\n. ",
    "RomainEndelin": "Thanks for the insight.\nYou're right, that would be a big work for a \"not so big\" feature.\nHowever, there might be a simple shortcut: how about an option to perform the scans without treatment, put them in a buffer, and later on import them from file. But it isn't critical anyway, since one can do it with external tool.\n. It works, thanks :)\n. ",
    "jems": "I vote for this request too, not for 0.1, but for another version :-) \nIs the thread safety really so much an issue here ? I mean this is a local process, with really just a few threads in parallel, and they all belong to the same user, there is no risk of crashing the system, leaking classified information, or else... Am I that wrong ?\n. ",
    "kigeia": "We courd serialize the filter objet with pickle, so what has been learned is stored on the disk.\nhttp://docs.python.org/2/library/pickle.html\nBye\n. What about using this library :\nhttp://packages.debian.org/fr/squeeze/python-scikits-learn\nhttp://scikit-learn.org/stable/auto_examples/document_classification_20newsgroups.html#example-document-classification-20newsgroups-py\n. I've got a directory full of my scanned document from last year, and I want to import them. It's very long, and when I interrupt and want to continue importing the directory, it starts all over again.\nAnd also my scanner is only ftp, so when I scan it puts new pdf documents on the same directory. So i always import a directory, and never use sane backend.\nBye\n. Bye the way, if you want me to do it, with some advice, I probably can implement it myself...\nBye\n. Update : change commits according to comments.\nDidn't understand precisely one comment : \u00abYou don't use libpoppler to compute the hash (--> no thread-safety issue).\u00bb\nI made some test with WHOOSH_SCHEMA == loadex_schema and it doesn't return true as it should, so i didn't change it.\nBye\n. Changed according to comment\n. I'm using debian wheezy :\nPackage: python-whoosh\nVersion: 2.3.2-2\n. Changed commit according to comments\n. Changed according to comment\n. Change code according to review\n. Update code according to comments\nSquashed all the commits in one commit\n. update according to comment\n. For the color chooser, it's nice to have the pick up tool (pipette in french), so we can pick a color from a document to make the label.\nBye\n. Just empirical : with too few documents, the estimator is not accurately fitted.\n. We need to update the document right ? Maybe its not a new label but still its new for this particular document\n. I don't understand, because I don't see how reload_index() got the predicted_list info.\n. It can work with normal size, but for my documents (pdf with big image in it) it's very long to compute and the accuracy is not improved enough.\nYou might wanna try, it might be ok for your document collection.\n. What I see is that DocIndexUpdater is instanciated multiples times. Its not a problem because actually it doesn't read or initialize anything, it only writes the index. If I put label_estimators in it wouldn't it be a performance problem to initialize the estimators and read it from the files multiples times ?\n. We need to call fit_label_estimator() each time a document label is changed. But when there is a new label \u00abalpha\u00bb, we need to fit the new \u00abalpha\u00bb estimators with all the other document too, so that the estimators know what are the document unlabeled \u00abalpha\u00bb\n. Yes, but the fit is already done in updater.upd_doc(doc)\n. I see your point. I'm willing to do it, but before going further I've got a question. At startup time, isn't it a good time to do a refit and a prediction of all docs ?\nIf we wanna do this the clever way, at startup, we can load the index, then start in another thread the refitting and predcitions of all estimators.\n. ",
    "jadjay": "Je viens de lire les \"Issues\" : \n- l'int\u00e9gration CMIS t'\u00e9vite de devoir cr\u00e9er un outil de centralisation\n- idem pour les transformation vers pdf/ps/docbook : les GEIDE disposent de ces outils\n- l'indexation sera \u00e9galement g\u00e9r\u00e9e par les outils de GEIDE (dont c'est le boulot)\nA mon avis en terme de d\u00e9veloppement tu as tout int\u00e9r\u00eat \u00e0 d\u00e9velopper en philosophie Unix \n\u00c9crivez des programmes qui effectuent une seule chose et qui le font bien.\n\u00c9crivez des programmes qui collaborent.\n\u00c9crivez des programmes pour g\u00e9rer des flux de texte (xml-rpc), car c'est une interface universelle.\n. Ok so thks for the jobs, you rock\nI thinks your project will be very populare if you integrate soon a CMIS client to take advantage of the major DMS product\nhttp://fr.wikipedia.org/wiki/CMIS\nPython integrate a API cmislib wich cover a lot of basic usage https://code.google.com/p/cmislib/\nI'm not a developer but i'm an integrator of opensource solution and a project wich integrate a scan/ocr + cmis with ease of use will be massively used in common with a DMS.\nThis would facilitate your dev by \n- no need to create a centralisation interface\n- no need to have pdf/ps/docbook export plugin, DMS already had such tools\n- no need to index, DMS are made for this\nThis would turn your application as a Unix tool \nWrite programs that do one thing and do it well.\n Write programs to work together.\n Write programs to handle text streams (xml-rpc ;) ), because that is a universal interface.\n. \"Third, DMS are themselves not exactly what I would call Unixy ... :)\" you're totally right :)\n\"It doesn't mean at all I'm against your idea. It just mean I'll have to look at what CMIS is, and what it can bring to a lambda user.\" Well i'm not sure it brings anything to them... DMS would act as a backend, which are good for indexing, export in different format, that's all...\n\"I assume there are much better tools than Paperwork for enterprises (with lightweight clients I guess).\" Cite one for me which is open source and ease-of-use ... :D \nYour client would be great in enterprise, and the CMIS backend could be just a plugin not a must-configure stuff...\nIn fact the best way to convince you is to have a try : \n- install alfresco with the bundle in a virtualbox instance\n- get the libcmis python module, and try this howto https://code.google.com/p/cmislib/wiki/QuickStart\nIf you're not convinced after that : I owe you a beer :) \n. Well It's publication stuff not communication, you can't send data from\na process to another using OPDS, it's just a kind of blog system using atom.\nNot very interesting for ECM, except if you want to publish your data to\na blog...\nThe killer feature nowaday in ECM is http://fr.wikipedia.org/wiki/CMIS\nYour paperwork with CMIS is a bank robbery ! This stuff will smash\nbusinesses by simplicity and low cost...\nDon't pretend you don't understand that :)\nJ\u00e9r\u00f4me Avond - aka jadjay\nAgitateur chez Alolise depuis avril 2005\nmail/jabber\n: jerome.avond@alolise.org\nt\u00e9l\u00e9phone\n: 0661469785\nLe 04/10/2013 14:07, Bignaux Ronan a \u00e9crit :\n\nAnother interesting stuff is https://en.wikipedia.org/wiki/OPDS.\nCalibre has is OPDS server (\nhttp://manual.calibre-ebook.com/cli/calibre-server.htm ) .\n@ jadjay OPDS is atom feed based too, should be easy to write alfresco\nplugin to support.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jflesch/paperwork/issues/146#issuecomment-25693965.\n. Hum you pick my interest :) Unfortunatly I'm a bit busy those months,\nbut yes i'm really interested to work this out with you,\n\nI'm thinking loud :\nThe perfect clients are middle company, with secretaries and a low cost\nnetwork, the gold pieces are brand new affairs which search for a good\nsystem.\nThe product is a ECM \"open source\" alfresco by default but nuxeo has\ninterests, and your paperwork stuff which will delight classic mail\ntransmission,\nWe need a work out of the box virtual machine, and your client.\nYour client need to be able to work both on disk, and being able to send\nto an ECM via CMIS, 2 way of doing this and implementing both would be\nbetter : synchrone and asynchrone. (SYNC) Scan and send direct, (ASYNC)\nscan and save and send daily, weekly or monthly what had been scanned.\nNow you can touch tiny, middle and big business. tiny business doesn't\nneed a ECM like pw does actuelly, middle have low message to send so\nSYNC is OK, and big business need ASYNC for big contents.\nCMIS is not really complex you just need to understand xml-rpc\nprinciple, thus SOAP extension (in fact normalisation), and the CMIS is\na normalisation of SOAP functions dedicated to ECM actions. The\nmanipulation of those objects is quiet simple : CRUD + versionning\n(lock/keep lock/unlock/new version).\nI could help you but not before the end of november... So I'll take news\nat 15th of november. Allright ?\nRegards,\nJ\u00e9r\u00f4me Avond - aka jadjay\nAgitateur chez Alolise depuis avril 2005\nmail/jabber\n: jerome.avond@alolise.org\nt\u00e9l\u00e9phone\n: 0661469785\nLe 04/10/2013 15:20, Bignaux Ronan a \u00e9crit :\n\n@jadjay https://github.com/jadjay as Consultant Logiciels Libres\nchez Axolys SS2L, are you interessting to do business on this feature\nwith me ? I'm open for new position this days.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jflesch/paperwork/issues/146#issuecomment-25697793.\n. @bignaux Ok let me know some coordinate so I can call you\n. \n",
    "nico168": "It's working now, thanks for the fix.\n. ",
    "jpic": "Ok so, it doesn't work well because the packages are not well formed, but you can keep this for later.\n. ",
    "matclab": "In fact I got this exception every time with a Canon Lide 30 scanner\nDevice found: [Canon LiDE 35/40/50] -> [genesys:libusb:004:013]\nGot value [['Canon LiDE 35/40/50', 'genesys:libusb:004:013']]\n Workers: [Device finder] endedSelect scanner: 0\n. ",
    "jaesivsm": "I also get this exception with a Canon LiDE 110.\nThe test scan in the option menu works fine though.\n. I get it every time. Even after a successful scan done in the settings window.\nIn both case I get an error tough : \nERROR  paperwork.frontend.settingswindow Warning: Unable to set scanner source to 'Auto': <class 'pyinsane.rawapi.SaneStatus'> : Data is invalid (4)\n. Hi again. I tried again with a more recent version of both paperwork and pyinsane and I got a more verbose output. I thought it might be useful to paste it here : \nERROR  paperwork.frontend.mainwindow  Warning: Unable to set scanner source to 'Auto': <class 'pyinsane.rawapi.SaneStatus'> : Data is invalid (4)\nERROR  paperwork.frontend.jobs        ===> Job SingleScan:0 raised an exception: <class 'pyinsane.rawapi.SaneException'>: <class 'pyinsane.rawapi.SaneStatus'> : Device is busy. Try again later (3)\nERROR  paperwork.frontend.mainwindow  Error while scanning: <class 'pyinsane.rawapi.SaneStatus'> : Device is busy. Try again later (3)\nERROR  paperwork.frontend.jobs         0:              jobs.py: L  155: _run\nERROR  paperwork.frontend.jobs         1:        mainwindow.py: L 1136: do\nERROR  paperwork.frontend.jobs         2:       abstract_th.py: L  108: _get_value\nERROR  paperwork.frontend.jobs         3:       abstract_th.py: L   34: wait\nERROR  paperwork.frontend.jobs        ---> Job SingleScan:0 was started by:\nERROR  paperwork.frontend.jobs         0:          launcher.py: L   27: <module>\nERROR  paperwork.frontend.jobs         1:         paperwork.py: L   98: main\nERROR  paperwork.frontend.jobs         2:             types.py: L   43: function\nERROR  paperwork.frontend.jobs         3:           actions.py: L   59: on_menuitem_activate_cb\nERROR  paperwork.frontend.jobs         4:           actions.py: L   53: __do\nERROR  paperwork.frontend.jobs         5:        mainwindow.py: L 1738: do\nERROR  paperwork.frontend.jobs         6:              jobs.py: L  235: schedule\nWARNING paperwork.frontend.jobs        Job SingleScan:0 took 33356ms and is unstoppable ! (maximum allowed: 500ms)\nSorry for the spam if it wasn't useful and congratulations on the good work !\n. Well if I can perform some more test I'd be happy to. \nOn the plus side, it is to be noted that the UI isn't blocked anymore, I don't have to kill the process once the error occurred.\n. Yeah, I did the test without mentioning it, but indeed, simple-scan works fine.\n. list_all.py actually raises an exception.\n```\n$ ./list_all.py \nScanner 'genesys:libusb:001:004' (Canon, LiDE 110, flatbed scanner)\n  Option: threshold-curve\n    Title: Threshold curve\n    Desc: Dynamic threshold curve, from light to dark, normally 50-65\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 127, 1)\n    Value: 50\n  Option: disable-dynamic-lineart\n    Title: Disable dynamic lineart\n    Desc: Disable use of a software adaptive algorithm to generate lineart relying instead on hardware lineart.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: disable-interpolation\n    Title: Disable interpolation\n    Desc: When using high resolutions where the horizontal resolution is smaller than the vertical resolution this disables horizontal interpolation.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: scan\n    Title: Scan button\n    Desc: Scan button\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19660800, 0)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14011596, 0)\n    Value: 0\n  Option: ocr\n    Title: OCR button\n    Desc: OCR button\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\nTraceback (most recent call last):\n  File \"./list_all.py\", line 19, in \n    print \"    Value: %s\" % (str(opt.value))\n  File \"/tmp/pyinsane/src/abstract.py\", line 73, in _get_value\n    return rawapi.sane_get_option_value(sane_dev_handle[1], self.idx)\n  File \"/tmp/pyinsane/src/rawapi.py\", line 586, in sane_get_option_value\n    raise SaneException(SaneStatus(status))\nsrc.rawapi.SaneException:  : Data is invalid (4)\n```\nscan.py on the other hand works fine.\n```\n$ ./scan.py /dev/null\nOutput file: /dev/null\nLooking for scanners ...\nDevices detected:\n- Scanner 'genesys:libusb:001:004' (Canon, LiDE 110, flatbed scanner)\nWill use: Scanner 'genesys:libusb:001:004' (Canon, LiDE 110, flatbed scanner)\nSetting resolution to 300\nSetting source to Auto\nFailed to set source to Auto:  : Data is invalid (4)\nSetting mode to Color\nScanning ...  \nWriting output file ...\nDone\n```\n. I think I get the same error : \nERROR  paperwork.frontend.mainwindow  Warning: Unable to set scanner source to 'Auto': <class 'pyinsane.rawapi.SaneStatus'> : Data is invalid (4)\nERROR  paperwork.frontend.jobs        ===> Job SingleScan:0 raised an exception: <type 'exceptions.TypeError'>: not enough arguments for format string\nERROR  paperwork.frontend.mainwindow  Error while scanning: not enough arguments for format string\nERROR  paperwork.frontend.jobs         0:              jobs.py: L  155: _run\nERROR  paperwork.frontend.jobs         1:        mainwindow.py: L 1142: do\nERROR  paperwork.frontend.jobs        ---> Job SingleScan:0 was started by:\nERROR  paperwork.frontend.jobs         0:          launcher.py: L   27: <module>\nERROR  paperwork.frontend.jobs         1:         paperwork.py: L   98: main\nERROR  paperwork.frontend.jobs         2:             types.py: L   43: function\nERROR  paperwork.frontend.jobs         3:           actions.py: L   59: on_menuitem_activate_cb\nERROR  paperwork.frontend.jobs         4:           actions.py: L   53: __do\nERROR  paperwork.frontend.jobs         5:        mainwindow.py: L 1745: do\nERROR  paperwork.frontend.jobs         6:              jobs.py: L  235: schedule\nWARNING paperwork.frontend.jobs        Job SingleScan:0 took 33447ms and is unstoppable ! (maximum allowed: 500ms)\n. I don't mind doing the testing. This time I got this and it froze.\nINFO   paperwork.frontend.actions     Action: [Scan a single page]\nINFO   paperwork.backend.config       Scanner mode set to 'Color'\nERROR  paperwork.frontend.mainwindow  Warning: Unable to set scanner source to 'Auto': <class 'pyinsane.rawapi.SaneStatus'> : Data is invalid (4)\nWARNING paperwork.frontend.mainwindow  Failed to read the resolution set on the scanner: <class 'pyinsane.rawapi.SaneStatus'> : Device is busy. Try again later (3). Assuming 2400\n. Woops, actually I remember having set this resolution a while ago but I didn't try to change it back.\nTrying with a 300 one works fine. Congrats for fixing the bug and good night :)\n. Hi again, I'm still having issue with my scans, \nI didn't took time to look at the scan with my last tests but I just noticed that they are cut almost in half vertically. Paper work raises no serious error in the logs but I get this though : \nINFO   paperwork.backend.img.page     Scanner resolution: 300\nINFO   paperwork.backend.img.page     Scanner calibration: ((0, 0), (1257, 1770))\nINFO   paperwork.backend.img.page     Calibration resolution: 200\nINFO   root                           Cropping: (0, 0, 1885, 2655)\nNB: my scans are done correctly when using simple-scan or something else.\n. For recalibration, I need to go to the settings dialog, do a scan, adjust the blue box over the scanned file an click \"Ok\", right ?\nIf so, I did that and it didn't help, after clicking \"OK\", paperwork says Writing /home/jaes/.config/paperwork.conf ... and the file contains : \n[Scanner]\ndevice = genesys:libusb:001:003\nresolution = 300\nscantimecalibration = 16.4924499989\ncalibration_pt_a_x = 0\ncalibration_pt_a_y = 0\ncalibration_pt_b_x = 1258\ncalibration_pt_b_y = 1770\nscantime = 27.2765829563\nbut the scans are still weirdly cropped.\n. Here you go the for the output of the list_all.py command : https://gist.github.com/jaesivsm/5896009\nAbout the 200dpi resolution, it doesn't appear in the list in the settings window (nor in the simple-scan settings window) so I'd say no.\n. Works fine now. Thanks ! \n. With the merge I get the following error at launch : \nINFO   paperwork.paperwork            Good bye\nTraceback (most recent call last):\n  File \"./launcher.py\", line 27, in <module>\n    main()\n  File \"/home/jaes/devel/paperwork/src/paperwork/paperwork.py\", line 96, in main\n    main_win = mainwindow.MainWindow(config)\n  File \"/home/jaes/devel/paperwork/src/paperwork/frontend/mainwindow.py\", line 2624, in __init__\n    model=widget_tree.get_object(\"liststoreMatch\"),\n  File \"/home/jaes/devel/paperwork/src/paperwork/frontend/mainwindow.py\", line 2429, in __init__\n    self._vadjustment = scrollbars.get_vadjustment()\nAttributeError: 'NoneType' object has no attribute 'get_vadjustment'\n. @jflesch I can't test paperwork until this evening. I'll do extensive test then.\nAlso, I seem to be the only one with this problem, so you shouldn't worry to much about it.\n. Well nevermind about my bug, it was due to something unrelated and I didn't get any other bug.\nAbout the needed feedback I didn't feel any slowness or saw annoying behavior. However I haven't enough document in my paperwork directory for my test to be meaningful in any way.\n. You're welcome, I like attribute error, they're easy to fix ^^\n. Yes ! It did work ! I had issues making paperwork works for a long time and maybe the files in ~/.local/share/paperwork got corrupt... Would it be a good idea to automatize the removing of that folder if the read_pickle function fails that way ?\n. Oh sorry, I thought I checked for duplicate better than that. I'm not promising anything quick, but I have a good example of implementation in the duplicity software. I might get something out of this.\n. I've also affected by this issue. I applied your patch and paperwork segfault when trying to scan a second document (it never fails when it's the first document that I scan).\nHere's the complete traceback before crashing : \nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nINFO   paperwork.frontend.util.config Will scan using genesys:libusb:001:004\nWARNING paperwork.frontend.util.config Exception while configuring scanner: <class 'pyinsane2.sane.rawapi.SaneException'>: <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nERROR  paperwork.frontend.util.config <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/home/jaes/.local/share/virtualenvs/paper/lib/python3.5/site-packages/paperwork/frontend/util/config.py\", line 352, in get_scanner\n    return _get_scanner(config, devid, preferred_sources)\n  File \"/home/jaes/.local/share/virtualenvs/paper/lib/python3.5/site-packages/paperwork/frontend/util/config.py\", line 309, in _get_scanner\n    if 'source' not in dev.options:\n  File \"/home/jaes/.local/share/virtualenvs/paper/lib/python3.5/site-packages/pyinsane2/sane/abstract.py\", line 439, in _get_options\n    self.__load_options()\n  File \"/home/jaes/.local/share/virtualenvs/paper/lib/python3.5/site-packages/pyinsane2/sane/abstract.py\", line 410, in __load_options\n    self._open()\n  File \"/home/jaes/.local/share/virtualenvs/paper/lib/python3.5/site-packages/pyinsane2/sane/abstract.py\", line 395, in _open\n    handle = rawapi.sane_open(self.name)\n  File \"/home/jaes/.local/share/virtualenvs/paper/lib/python3.5/site-packages/pyinsane2/sane/rawapi.py\", line 591, in sane_open\n    raise SaneException(SaneStatus(status))\npyinsane2.sane.rawapi.SaneException: <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nINFO   paperwork.frontend.util.config Will try another scanner id: genesys:libusb:001:002\nINFO   paperwork.frontend.util.config Will scan using genesys:libusb:001:002\nERROR  pyinsane2                      Unable to set scanner option [source]: Option is not active\nINFO   paperwork.frontend.util.config Will scan at a resolution of 300\nINFO   pyinsane2                      [resolution] set to [300]\nINFO   pyinsane2                      [mode] set to [Color]\nSegmentation fault (core dumped). ",
    "malaterre": "This is indeed a dup of #151 \n. ",
    "erwanyves": "Sorry for my explanation\nbefore this issue, Paperwork scans the size of the document (A4) perfectly\n. It is the size of my scanner\nNow, in the window \"parameter or preferences, I did not remember, it shows\nthe scanned page correctly, but when i scan a document, it is with a bigger\nsize (my document is like a A4 put into a A3 size)\nAnd I did not reach  to rezize it\nYves Guillou\nMon blog sur TRIZ: http://triz-experience.blogspot.com/\nhttps://sites.google.com/site/penseedivergente/\nhttp://sites.google.com/site/otsmtriz/\nhttp://sites.google.com/site/trizforkids/\n2013/5/16 Jerome Flesch notifications@github.com\n\nI'm not sure to understand : what do you mean by A3 instead of A4 ?\nPaper size matters only for printing a document or for handling/displaying\nPDF. When scanning, Paperwork/Pyinsane get a bitmap from the scanner. No\npaper size is involved.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jflesch/paperwork/issues/160#issuecomment-18006700\n.\n. ok,\nfirst proposal do not work\nIhave deleted the peperwork.conf and all is ok.\nBut I suppost that changing parameters in the software can loose the good\nparameters.\nFor your information, wrong one ((old) ant good one are attached\n\nYves Guillou\nMon blog sur TRIZ: http://triz-experience.blogspot.com/\nhttps://sites.google.com/site/penseedivergente/\nhttp://sites.google.com/site/otsmtriz/\nhttp://sites.google.com/site/trizforkids/\n2013/5/16 Jerome Flesch notifications@github.com\n\nHm, looks like a (weird) scanner calibration problem.\nIn the settings window, can you try to do a calibration scan and move a\nlittle bit the handles (the blue crosses on the calibration scan).\nHopefully, it should fix your Paperwork config.\nIf it doesn't work, you can try editing your paperwork configuration\n(~/.config/paperwork.conf) and fix the scanner calibration by hand.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jflesch/paperwork/issues/160#issuecomment-18012619\n.\n. I sent you files to check.\nFiles are very different in content once I change the scanning area\nAnd the software did not work well after that\n\nYves Guillou\nMon blog sur TRIZ: http://triz-experience.blogspot.com/\nhttps://sites.google.com/site/penseedivergente/\nhttp://sites.google.com/site/otsmtriz/\nhttp://sites.google.com/site/trizforkids/\n2013/5/31 Jerome Flesch notifications@github.com\n\nHm, are you able to reproduce this issue ? Or can I close it for now\n(until someone else get it ... :/ ) ?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jflesch/paperwork/issues/160#issuecomment-18764049\n.\n. Yes,\nand impossible to properly resize because there is no simple relation\nbetween representation and reality. So you cut \"on the fly\"...without\ncontrol\n\nYves Guillou\nMon blog sur TRIZ: http://triz-experience.blogspot.com/\nhttps://sites.google.com/site/penseedivergente/\nhttp://sites.google.com/site/otsmtriz/\nhttp://sites.google.com/site/trizforkids/\n2013/5/31 Jerome Flesch notifications@github.com\n\nHm, so basically, if your configuration contains calibration settings, the\nscan ends up with the wrong size ?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jflesch/paperwork/issues/160#issuecomment-18766322\n.\n. Sorry i am not actually at my home so i can not test it.\nIs there any package of this new version? Or What is the procedure to\nupdate my version?\nLe 25 ao\u00fbt 2013 01:48, \"Jerome Flesch\" notifications@github.com a \u00e9crit :\nAnything new ?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jflesch/paperwork/issues/160#issuecomment-23218878\n.\n. \n",
    "Nodd": "You could use the camera instead of a scanner. The quality will be worse, but it may not be a problem.\nKivy looks promising for a python UI, and is multiplateform.\n. Some papers are received by mail, so paperwork on android should be able to import existing documents even without scanners or printers.\n. ",
    "skanx": "\nIt's most likely the root cause of your problem. \n\nI noticed that Pillow overwrote most of python-imaging files :(\n\nI'll try to reproduce it this week-end.\n\nThanks!\nI'll try to test on another system too.\n\nI think you mean hplip ? --> your printer driver depends on it, not your scanner ?\n\nThis is a HP All-in-One printer, which I use only for scanning (printer is broken) and I think I need hplip to use the integrated scanner. To be honest, I installed this printer almost 3 years ago, and don't remember everything about the installation.\nCalibre requires python-imaging too, so I would prefer to keep this package :)\nEdit: python-imaging will be replaced by python-pillow in Fedora 19! Compiled and installed that on my F18 and problem solved!\n. Weird... you mean Pillow ends up in a different directory than PIL?\nOn my system, they are both installed under /usr/lib64/python2.7/site-packages/PIL\nI understand Pillow is a drop-in replacement for PIL, but... gruik!!?\nAnyway, I think it's a user problem, not related to paperwork, isn't it?\nMaybe we should just close this bug, since it seems to be related to an interaction between PIL and Pillow on F18?\n. > Hm, actually it seems python-pip on Fedora installs files in /usr/lib64 instead of /usr/local/lib64 ... :/\nYes, that's sort of what I meant by \"gruik!!?\". :-) Python-pip on Fedora may overwrite files owned by rpm packages.\nI think the solution is to install Pillow manually, or using python-pillow from F19.\n. I solved the problem by compiling python-pillow from F19's srpm on my system, which is a drop-in replacement for python-imaging.\nSo, Paperwork is running now on my system, and happily scanning documents (it's great, btw, thanks!).\nI think it should work in a virtualenv, too. Does that help you if I try?\n. ",
    "laaqxdze1k": "Hi,\nIl have removed the  package installed by default.\nNow I'm bumping into another error:\nERROR  paperwork.frontend.jobs        ===> Job SingleScan:0 raised an exception: : encoder jpeg not available\nERROR  paperwork.frontend.mainwindow  Error while scanning: encoder jpeg not available\nPillow is installed.\n++ JFC\n. Bien vu J\u00e9rome. Readme fieds should be read... carefully.\n\"sudo pip install\" works for Mint / Ubuntu\nSorry to bother you... Therefore you have asked for testers... \nThe next error is: \nERROR  paperwork.frontend.jobs        ===> Job SingleScan:0 raised an exception: : 'DummyDocSearch' object has no attribute 'index_page'\nERROR  paperwork.frontend.mainwindow  Error while scanning: 'DummyDocSearch' object has no attribute 'index_page'\n++ JFC\n. Resolving dependencies have actually broken my distbution.\nManaging dependancies is beyond my skills...\nI'll give try to virtualenv later.\nEnjoy your Sunday\n++ JFC\n. Hi Jerome,\nI have gave up with the software. Apparently there are deep dependencies\nwith Mint desktop...\nThen, I have resinstalled Mint. But I still haven't a tool to scan my paper\nstack.\nHave you something new I can test?\n++ JFC\n2013/8/25 Jerome Flesch notifications@github.com\n\nAnything new ?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jflesch/paperwork/issues/192#issuecomment-23218771\n.\n. Hi Jerome, i have gave up with paperwork after having re-installed\nUbuntu...\n\nNowadays, I have adopted a simplistic approach :\nI have written a daemon that implements the \"Scan to Computer\"\nfunctionality for HP scanners, but for Linux.\nEach scanned document is named with scan date and dropped into a NAS folder\nby the demaon.\nWhen I have spare time, I'm doing manual classification by moving docs into\nappropriate folder.\nThis fulfill my first need: scan any paper and store pdf on the NAS,\nwithout having to touch the main pc.\nGo luck with your project.\nJean Fran\u00e7ois\n2013/12/8 Jerome Flesch notifications@github.com\n\nSomeone just pointed out an error similar to the last one you gave.\nHowever he had another error before this one:\nERROR paperwork.frontend.jobs ===> Job IndexLoader:0 raised an exception:\n: Can't read format -111\nSo I'm going to suggest the same fix (/ workaround):\nTry:\n- stopping Paperwork\n- running 'rm -rf ~/.local/share/paperwork'\n- restarting Paperwork\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jflesch/paperwork/issues/192#issuecomment-30083528\n.\n. \n",
    "tpag": "Xsane 0.998 works fine, both flatbed and sheet feeder.\nHere are the screens captures after running the 2 commands on terminal :\n1)\nthierry@HP-Compaq-dc7600 ~/pyinsane $ ./list_all.py \nScanner 'brother:bus5;dev1' (Brother, DCP-8025D, USB scanner)\n  Option: brightness\n    Title: Brightness\n    Desc: Controls the brightness of the acquired image.\n    Type:  : Fixed (2)\n    Unit:  : Percent (5)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-3276800, 3276800, 65536)\n    Value: 0\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 23304601, 6553)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 13893632, 6553)\n    Value: 0\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 23304601, 6553)\n    Value: 23304601\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 13893632, 6553)\n    Value: 13893632\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 30\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['FlatBed', 'Automatic Document Feeder']\n    Value: Automatic Document Feeder\n  Option: mode\n    Title: Scan mode\n    Desc: Select the scan mode\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 30\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Black & White', 'Gray[Error Diffusion]', 'True Gray', '24bit Color', '24bit Color[Fast]']\n    Value: 24bit Color\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [100, 150, 200, 300, 400, 600, 1200, 2400, 4800, 9600]\n    Value: 200\n  Option: contrast\n    Title: Contrast\n    Desc: Controls the contrast of the acquired image.\n    Type:  : Fixed (2)\n    Unit:  : Percent (5)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-3276800, 3276800, 65536)\n    Value: 0\n2)\nthierry@HP-Compaq-dc7600 ~/pyinsane $ ./scan.py /dev/null\nOutput file: /dev/null\nLooking for scanners ...\nDevices detected:\n- Scanner 'brother:bus5;dev1' (Brother, DCP-8025D, USB scanner)\nWill use: Scanner 'brother:bus5;dev1' (Brother, DCP-8025D, USB scanner)\nSetting resolution to 300\nSetting source to Auto\nErreur de segmentation\nFor multiple pages scanning I selected in the menu -all possibilities are displayed- the \"scan from the feeder\" option, so Paperwork use the feeder as expected, until this step all is OK. Only the behavior from this point of process is not what it's expected. This is the problem with the sheet feeder.\nAnother problem is when using the flatbed, Paperwork close itself immediately. Another thing I miss to report before is the same behavior happend when using on the tuning menu the \"scan\" button on the right of the words \"calibrate the scanner\".\nI disabled the OCR capabilities on Paperwork to try to see if the problem of muliple page scanning was generated by the OCR process. Nothing was removed on the system.\n. Here are the results of the requested commands, I hope that will help you to understand what goes wrong.\n(gdb) r ./scan.py /dev/null\nStarting program: /usr/bin/python2.7 ./scan.py /dev/null\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/i386-linux-gnu/libthread_db.so.1\".\nOutput file: /dev/null\nLooking for scanners ...\n[New Thread 0xb6e0cb40 (LWP 5432)]\n[Thread 0xb6e0cb40 (LWP 5432) exited]\nDevices detected:\n- Scanner 'brother:bus5;dev1' (Brother, DCP-8025D, USB scanner)\nWill use: Scanner 'brother:bus5;dev1' (Brother, DCP-8025D, USB scanner)\nSetting resolution to 300\nSetting source to Auto\nProgram received signal SIGSEGV, Segmentation fault.\nPyObject_ClearWeakRefs (\n    object=object@entry=)\n    at ../Objects/weakrefobject.c:919\n919 ../Objects/weakrefobject.c: Aucun fichier ou dossier de ce type.\n(gdb) bt\n0  PyObject_ClearWeakRefs (\nobject=object@entry=<c_char_Array_5 at remote 0xb7cf1074>)\nat ../Objects/weakrefobject.c:919\n\n1  0x080b33aa in subtype_dealloc (self=)\nat ../Objects/typeobject.c:973\n\n2  0x08101d86 in frame_dealloc.14947 (\nf=Frame 0x840c614, for file /home/thierry/pyinsane/src/rawapi.py, line 609, in sane_set_option_value (info=<c_long at remote 0xb7cf1bfc>, status=0))\nat ../Objects/frameobject.c:460\n\n3  0x080b71d4 in fast_function (nk=, na=,\nn=<optimized out>, pp_stack=0xbffff18c, \nfunc=<function at remote 0xb7a9ff44>) at ../Python/ceval.c:4109\n\n4  call_function (oparg=, pp_stack=0xbffff18c)\nat ../Python/ceval.c:4042\n\n5  PyEval_EvalFrameEx (\nf=f@entry=Frame 0x840c4ac, for file /home/thierry/pyinsane/src/abstract.py, line 77, in _set_value (self=<ScannerOption(val_type=<SaneValueType(_SaneEnum__value=3) at remote 0xb7aaff6c>, constraint_type=<SaneConstraintType(_SaneEnum__value=3) at remote 0xb7aaffcc>, name='source', idx=4, title='Scan source', constraint=['FlatBed', 'Automatic Document Feeder'], capabilities=<SaneCapabilities(_SaneFlags__flags=5) at remote 0xb7aaffac>, _ScannerOption__scanner=<Scanner(dev_type='USB scanner', _Scanner__options={'brightness': <ScannerOption(val_type=<SaneValueType(_SaneEnum__value=2) at remote 0xb7ab308c>, constraint_type=<SaneConstr---Type <return> to continue, or q <return> to quit---\n\n. Unfortunately no result. To be sure, PC was rebooted and scanner turned off. Same behavior for both problems.\nThis time I loaded Paperwork from the command line to see loading messages and I see that some lines are displayed in loop mode. At the same time Paperwork is running and working.\nThis could be helpful:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(*data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/Paperwork-0.1_testing-py2.7.egg/paperwork/frontend/mainwindow.py\", line 2970, in on_index_loading_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/Paperwork-0.1_testing-py2.7.egg/paperwork/frontend/mainwindow.py\", line 2947, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\n. Yes and no... Yes : now the test of the scanner is working fine (./scan.py /dev/null), No : the problems with the feeder and the flatbed are the same.\nBelow you will find a part of the error messages diplayed in loop mode and the message generated when using the flatbed. Do you have an idea about the looping messages?\nraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(*data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/Paperwork-0.1_testing-py2.7.egg/paperwork/frontend/mainwindow.py\", line 3089, in on_img_building_result_clear\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/Paperwork-0.1_testing-py2.7.egg/paperwork/frontend/mainwindow.py\", line 2947, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/Paperwork-0.1_testing-py2.7.egg/paperwork/frontend/mainwindow.py\", line 3046, in on_page_thumbnailing_start_cb\n    self.set_mouse_cursor(\"Busy\")\n  File \"/usr/local/lib/python2.7/dist-packages/Paperwork-0.1_testing-py2.7.egg/paperwork/frontend/mainwindow.py\", line 2947, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/Paperwork-0.1_testing-py2.7.egg/paperwork/frontend/mainwindow.py\", line 3056, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/Paperwork-0.1_testing-py2.7.egg/paperwork/frontend/mainwindow.py\", line 2947, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nINFO   paperwork.frontend.actions     Action: [Scan a single page]\nWARNING paperwork.backend.config       WARNING: Unable to set scanner mode ! May be 'Lineart'\nErreur de segmentation\nthierry@HP-Compaq-dc7600 ~ $\n. I don't update Paperwork until now, I was thinking maybe first to uninstall it first because it was not easy to install for a first time. Maybe it is badly installed... \nI make the file output.txt and it's end when I tried to scan a page with the flatbed.\n. Problems still persistent.\nI do the upgrade with the following commands in directory /pyinsane : 1) sudo git pull and 2) sudo python ./setup.py install. No error messages were produced during process. Do I miss something? Computer was also restarted.\nI send you another file output1.txt.\n. I do yet update Paperwork and all problems are solved except the scan with the feeder who the behavior is the same as before: one page well scanned and the following pages are ignored.\nNow, the calibration of the scanner and the scan with the flatbed works fine. No more error messages displayed in loop mode in the terminal during the use of Paperwork.\nGreat job, many thanks!\nA question: I was thinking that the update will change the version of Paperwork but it is still 0.1. Is this right? Should I upgrade to 0.2 to solve my feeder problem? If yes, how can I do the upgrade?\n. I send you a new file output.txt.\nWhat I see is that the selection of \"scan from the feeder\" is in reality not operating, this for both possibilities: via the Page -> New menu and with the \"scan\" button via the \"down arrow\".\n. ",
    "JustAnotherGuy": "Since paperwork is very probably used for potentially sensitive documents I believe that using ~/.cache for thumbnails would pose a major data security headache.\nIn current situation one can simply e.g. put the workdirectory in an Encfs mountpoint and also move the ~/.local/share/paperwork there (replacing it with a symlink) and have reasonable expectation of privacy unmounting the encrypted files.\nIs there something apart from it not being done the XDG-way that makes the current thumbnails handling a problem?\nI feel that the current setup also aids any third-party application that might do something with the files outside of paperwork.\n. ",
    "sciunto": "Yep :) I missed it on github, sorry. Might be worth to add a link in README.md. It's the first file I read. i'm closing, thanks.\nPS: I'm gonna to prepare a package for arch.\n. The package is there: https://aur.archlinux.org/packages/paperwork/\nI joined the list. :)\n. ",
    "camlafit": "Hi\nCould be a great idea :) I try paperwork and directory structure is not adapted in my use case. Then I scan directly, store document in my logical structure and import from paperwork after.\nCould be nice to for example with incron or other system to import in background new file stored.. Hi\nLooks missing a paperwork-shell import [file/directory]\nKm\n. Hi\nWould be nice to allow subdirectory import ?\nWhen we've yet managed old scan, we can have many directories. Allow a recursive directory import should be a great enhancement.. Hi\nI've just tried and not :)\nOnly pdf on main directory was imported, all others in sub(sub)directories\nnot.\nMaybe I've forgotten something in my try.\n. Hi\nNeed to be confirmed. I do another tries and maybe is ok. Looks an user bug :) I do some others tests before.. Hi\nLooks really a mistake, you can reject this issue.. Hi\nIn this case , maybe a test can be done with directory without pdf and\nsubdirectories and another directory with pdf and subdirectories.\nI doesn't remenber how I've done first, but in my tries, i've some\ndirectory first level with and without document.\nIn my case looks ok, I do less 10 imports and I've ~4000 documents\nimported, then recursive import in some case was ok :)\n. ",
    "ovv": "Hello\nWhile using the import command to import an empty directory paperwork ask for an importer to use but the list is empty so everything throw an error.\nI think printing that the directory is empty and exiting paperwork would be better.\nThanks for the great job you are doing\n\nMy use case is to run a cron on a directory where I could dump file to be imported. And is there a way to run OCR with paperwork-shell or is the GUI needed for that ?. ",
    "Krap": "Sorry, i didn't pay much attention due to the now outdated page https://github.com/jflesch/paperwork/wiki/Branches (there is now a stable branch ;-) )\n. ",
    "ohmer1": "Compiled the latest commit from unstable branch (and also tried to compile commit 4401ba).\nI'm unable to scan from the feeder (\"depuis le bac\"). I can only scan one page at a time, manually.\nWhen I try to scan with the feeder (even without selecting the duplex option), the logger only says \"INFO   paperwork.frontend.util.actions Action: [Start multi-scan]\" and then nothing happens.\nLet me know if I can do something or obtain more verbose log to debug this problem.\n. No problem, I will retry when it will be fixed.\n. I just tried again.  Duplex scanning doesn't work.  Nothing is scanned.\n\nINFO   paperwork.frontend.util.actions Action: [Start multi-scan]\nINFO   paperwork.frontend.util.config Will scan using brother4:bus8;dev1\nINFO   paperwork.frontend.util.config Will scan at a resolution of 300\nINFO   paperwork.frontend.util.scanner Setting scanner option 'source' to 'Automatic Document Feeder(left aligned)'\nWARNING paperwork.frontend.util.config Unable to set scanner mode ! May be 'Lineart'\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.util.canvas Animators: 3\nINFO   paperwork.frontend.util.canvas Animators: 4\nINFO   paperwork.frontend.mainwindow  Doc is already shown\nINFO   paperwork.frontend.mainwindow  Showing document 20140708_2103_04\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.mainwindow.scan Scan started\nERROR  paperwork.frontend.util.jobs   ===> Job Scan:0 raised an exception: : 'MultipleScan' object has no attribute 'parameters'\nERROR  paperwork.frontend.util.jobs    0: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/paperwork/frontend/util/jobs.py: L  175: _run\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/paperwork/frontend/mainwindow/scan.py: L   82: do\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python2.7/dist-packages/pyinsane-1.3.4-py2.7.egg/pyinsane/abstract_th.py: L  153: _get_expected_size\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/pyinsane-1.3.4-py2.7.egg/pyinsane/abstract_th.py: L   58: wait\nERROR  paperwork.frontend.util.jobs   ---> Job Scan:0 was started by:\nERROR  paperwork.frontend.util.jobs    0: /usr/local/bin/paperwork: L    5: \nERROR  paperwork.frontend.util.jobs    1: /usr/lib/python2.7/dist-packages/pkg_resources.py: L  499: run_script\nERROR  paperwork.frontend.util.jobs    2: /usr/lib/python2.7/dist-packages/pkg_resources.py: L 1235: run_script\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/EGG-INFO/scripts/paperwork: L    6: \nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/paperwork/paperwork.py: L  104: main\nERROR  paperwork.frontend.util.jobs    5: /usr/lib/python2.7/dist-packages/gi/types.py: L   43: function\nERROR  paperwork.frontend.util.jobs    6: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/paperwork/frontend/util/actions.py: L   58: on_button_clicked_cb\nERROR  paperwork.frontend.util.jobs    7: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/paperwork/frontend/util/actions.py: L   55: do\nERROR  paperwork.frontend.util.jobs    8: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/paperwork/frontend/multiscan/__init.py: L  222: do\nERROR  paperwork.frontend.util.jobs    9: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/paperwork/frontend/multiscan/scan.py: L   98: start_scan_workflow\nERROR  paperwork.frontend.util.jobs   10: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/paperwork/frontend/mainwindow/scan.py: L  855: scan_and_ocr\nERROR  paperwork.frontend.util.jobs   11: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/paperwork/frontend/mainwindow/scan.py: L  782: scan\nERROR  paperwork.frontend.util.jobs   12: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/paperwork/frontend/util/jobs.py: L  244: schedule\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/paperwork/frontend/multiscan/scan.py\", line 67, in __on_error\n    logger.error(\"Scan failed: %s\" % str(exc))\nNameError: global name 'logger' is not defined\n. I did \"sudo pip uninstall paperwork\" and removed /usr/share/paperwork.\nI cloned the repo on the testing branch and the about box say version 0.2-git.\n\nCompilation is very quick, not sure if it's not using some precompiled file in cache somewhere.\nThere is any other way to do a clean uninstall?\n. Yep, except new commit you pushed since my last compilation.  I pulled again and recompiled and stil have the same problem.\n\nfd@duff:~/src/paperwork$ git remote -v\norigin  https://github.com/jflesch/paperwork.git (fetch)\norigin  https://github.com/jflesch/paperwork.git (push)\nfd@duff:~/src/paperwork$ git branch\n  stable\n*\u00a0testing\n  unstable\nfd@duff:~/src/paperwork$ git pull\nAlready up-to-date.\nfd@duff:~/src/paperwork$ git log -1\ncommit 77b45a86c805e37409bf26f94bd1a9c7b250691c\nAuthor: Jerome Flesch jflesch@gmail.com\nDate:   Wed Jul 9 14:12:37 2014 +0200\n\u00a0\u00a0\u00a0\u00a0Frontend: Fix scan process when OCR is disabled\n\u00a0\u00a0\u00a0\u00a0Signed-off-by: Jerome Flesch jflesch@gmail.com\n. Yep there is no trace of paperwork in theses directories.\n\nI have a new trace (I upgraded to Ubuntu 14.04 from 12.04 since last time).\n(Using latest commit from testing branch)\n\nINFO   paperwork.frontend.util.actions Action: [Start multi-scan]\nINFO   paperwork.frontend.util.config Will scan using brother4:bus8;dev1\nINFO   paperwork.frontend.util.config Will scan at a resolution of 300\nINFO   paperwork.frontend.util.scanner Setting scanner option 'source' to 'Automatic Document Feeder(left aligned)'\nWARNING paperwork.frontend.util.config Unable to set scanner mode ! May be 'Lineart'\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.util.canvas Animators: 3\nINFO   paperwork.frontend.util.canvas Animators: 4\nINFO   paperwork.frontend.mainwindow  Doc is already shown\nINFO   paperwork.frontend.mainwindow  Showing document 20140808_2020_15\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.mainwindow.scan Scan started\nERROR  paperwork.frontend.util.jobs   ===> Job Scan:0 raised an exception: : 'MultipleScan' object has no attribute 'parameters'\nERROR  paperwork.frontend.util.jobs    0: build/bdist.linux-x86_64/egg/paperwork/frontend/util/jobs.py: L  178: _run\nERROR  paperwork.frontend.util.jobs    1: build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/scan.py: L   82: do\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python2.7/dist-packages/pyinsane-1.3.4-py2.7.egg/pyinsane/abstract_th.py: L  153: _get_expected_size\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/pyinsane-1.3.4-py2.7.egg/pyinsane/abstract_th.py: L   58: wait\nERROR  paperwork.frontend.util.jobs   ---> Job Scan:0 was started by:\nERROR  paperwork.frontend.util.jobs    0: /usr/local/bin/paperwork: L    5: \nERROR  paperwork.frontend.util.jobs    1: /usr/lib/python2.7/dist-packages/pkg_resources.py: L  528: run_script\nERROR  paperwork.frontend.util.jobs    2: /usr/lib/python2.7/dist-packages/pkg_resources.py: L 1401: run_script\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/EGG-INFO/scripts/paperwork: L    6: \nERROR  paperwork.frontend.util.jobs    4: build/bdist.linux-x86_64/egg/paperwork/paperwork.py: L  102: main\nERROR  paperwork.frontend.util.jobs    5: build/bdist.linux-x86_64/egg/paperwork/frontend/util/actions.py: L   60: on_button_clicked_cb\nERROR  paperwork.frontend.util.jobs    6: build/bdist.linux-x86_64/egg/paperwork/frontend/util/actions.py: L   57: do\nERROR  paperwork.frontend.util.jobs    7: build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan/__init.py: L  221: do\nERROR  paperwork.frontend.util.jobs    8: build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan/scan.py: L  103: start_scan_workflow\nERROR  paperwork.frontend.util.jobs    9: build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/scan.py: L  885: scan_and_ocr\nERROR  paperwork.frontend.util.jobs   10: build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/scan.py: L  809: scan\nERROR  paperwork.frontend.util.jobs   11: build/bdist.linux-x86_64/egg/paperwork/frontend/util/jobs.py: L  247: schedule\nERROR  paperwork.frontend.multiscan.scan Scan failed: 'MultipleScan' object has no attribute 'parameters'\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nWARNING paperwork.frontend.multiscan   Scan failed: 'MultipleScan' object has no attribute 'parameters'\nINFO   paperwork.frontend.multiscan   Scan job cancelled\nTraceback (most recent call last):\n  File \"build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan/scan.py\", line 75, in on_error\n  File \"build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan/__init.py\", line 412, in on_scan_error_cb\nAttributeError: 'MultipleScan' object has no attribute 'parameters'\n. I rebuilt paperwork with the upgraded libs.  I still have an exception when I start the duplex scanning.\nINFO   paperwork.frontend.util.actions Action: [Start multi-scan]\nINFO   paperwork.frontend.util.config Will scan using brother4:bus8;dev1\nINFO   paperwork.frontend.util.config Will scan at a resolution of 300\nINFO   paperwork.frontend.util.scanner Setting scanner option 'source' to 'Automatic Document Feeder(left aligned)'\nWARNING paperwork.frontend.util.config Unable to set scanner mode ! May be 'Lineart'\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.util.canvas Animators: 3\nINFO   paperwork.frontend.util.canvas Animators: 4\nINFO   paperwork.frontend.mainwindow  Doc is already shown\nINFO   paperwork.frontend.mainwindow  Showing document 20140809_1129_38\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.mainwindow.scan Scan started\nERROR  paperwork.frontend.util.jobs   ===> Job Scan:0 raised an exception: : 'MultipleScan' object has no attribute 'parameters'\nERROR  paperwork.frontend.util.jobs    0: build/bdist.linux-x86_64/egg/paperwork/frontend/util/jobs.py: L  178: _run\nERROR  paperwork.frontend.util.jobs    1: build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/scan.py: L   82: do\nERROR  paperwork.frontend.util.jobs    2: build/bdist.linux-x86_64/egg/pyinsane/abstract_th.py: L  153: _get_expected_size\nERROR  paperwork.frontend.util.jobs    3: build/bdist.linux-x86_64/egg/pyinsane/abstract_th.py: L   58: wait\nERROR  paperwork.frontend.util.jobs   ---> Job Scan:0 was started by:\nERROR  paperwork.frontend.util.jobs    0: /usr/local/bin/paperwork: L    5: \nERROR  paperwork.frontend.util.jobs    1: /usr/lib/python2.7/dist-packages/pkg_resources.py: L  528: run_script\nERROR  paperwork.frontend.util.jobs    2: /usr/lib/python2.7/dist-packages/pkg_resources.py: L 1401: run_script\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/EGG-INFO/scripts/paperwork: L    6: \nERROR  paperwork.frontend.util.jobs    4: build/bdist.linux-x86_64/egg/paperwork/paperwork.py: L  102: main\nERROR  paperwork.frontend.util.jobs    5: build/bdist.linux-x86_64/egg/paperwork/frontend/util/actions.py: L   60: on_button_clicked_cb\nERROR  paperwork.frontend.util.jobs    6: build/bdist.linux-x86_64/egg/paperwork/frontend/util/actions.py: L   57: do\nERROR  paperwork.frontend.util.jobs    7: build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan/__init.py: L  221: do\nERROR  paperwork.frontend.util.jobs    8: build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan/scan.py: L  103: start_scan_workflow\nERROR  paperwork.frontend.util.jobs    9: build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/scan.py: L  885: scan_and_ocr\nERROR  paperwork.frontend.util.jobs   10: build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/scan.py: L  809: scan\nERROR  paperwork.frontend.util.jobs   11: build/bdist.linux-x86_64/egg/paperwork/frontend/util/jobs.py: L  247: schedule\nERROR  paperwork.frontend.multiscan.scan Scan failed: 'MultipleScan' object has no attribute 'parameters'\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nWARNING paperwork.frontend.multiscan   Scan failed: 'MultipleScan' object has no attribute 'parameters'\nINFO   paperwork.frontend.multiscan   Scan job cancelled\nTraceback (most recent call last):\n  File \"build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan/scan.py\", line 75, in on_error\n  File \"build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan/__init.py\", line 412, in on_scan_error_cb\nAttributeError: 'MultipleScan' object has no attribute 'parameters'\n. No exception anymore, but the scan is not duplex, I only get the recto side.  In paperwork settings, source is set at \"Automatic Document Feeder (left aligned, Duplex)\" but this settings is not applied.  In the debug log I see: \nINFO   paperwork.frontend.util.scanner Setting scanner option 'source' to 'Automatic Document Feeder(left aligned)'\nWARNING paperwork.frontend.util.config Unable to set scanner mode ! May be 'Lineart'\n. > What about disabling the OCR (see the language list in the settings dialog), doing your scan(s), and then using the menu \"Document\" -> \"Advanced\" -> \"Redo the OCR on (all) the document(s)\" ? Isn't it good enough \n\nThis is a workaround but not really a solution I think.\nThis could be a configuration settings in the preferences dialogs. An hidden option in the config file would would be ok for me too, but I'm sure this could be a popular settings, so I'm not sure it's a good thing too hide this option.\n. ",
    "rvlander": "Yes, I guess this is the same with Simple Scan, they receive images that have the wrong size ...\nScanner 'hpaio:/net/Officejet_6500_E709n?ip=192.168.1.66' (Hewlett-Packard, Officejet_6500_E709n, all-in-one)\n  Option: compression\n    Title: Compression\n    Desc: Selects the scanner compression method for faster scans, possibly at the expense of image quality.\n    Type: <class 'src.rawapi.SaneValueType'> : String (3)\n    Unit: <class 'src.rawapi.SaneUnit'> : None (0)\n    Size: 20\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : String list (3)\n    Constraint: ['None', 'JPEG']\n    Value: JPEG\n  Option: brightness\n    Title: Brightness\n    Desc: Controls the brightness of the acquired image.\n    Type: <class 'src.rawapi.SaneValueType'> : Integer (1)\n    Unit: <class 'src.rawapi.SaneUnit'> : None (0)\n    Size: 4\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : Range (1)\n    Constraint: (-127, 127, 0)\n    Value: 0\n  Option: length-measurement\n    Title: Length measurement\n    Desc: Selects how the scanned image length is measured and reported, which is impossible to know in advance for scrollfed scans.\n    Type: <class 'src.rawapi.SaneValueType'> : String (3)\n    Unit: <class 'src.rawapi.SaneUnit'> : None (0)\n    Size: 20\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : String list (3)\n    Constraint: ['Unknown', 'Approximate', 'Padded']\n    Value: Padded\n  Option: None\n    Title: None\n    Desc: None\n    Type: <class 'src.rawapi.SaneValueType'> : Boolean (0)\n    Unit: <class 'src.rawapi.SaneUnit'> : None (0)\n    Size: 0\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Inactive,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : None (0)\n    Constraint: None\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type: <class 'src.rawapi.SaneValueType'> : Fixed (2)\n    Unit: <class 'src.rawapi.SaneUnit'> : Mm (3)\n    Size: 4\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 0\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type: <class 'src.rawapi.SaneValueType'> : Fixed (2)\n    Unit: <class 'src.rawapi.SaneUnit'> : Mm (3)\n    Size: 4\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : Range (1)\n    Constraint: (0, 24969216, 0)\n    Value: 24969216\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type: <class 'src.rawapi.SaneValueType'> : Fixed (2)\n    Unit: <class 'src.rawapi.SaneUnit'> : Mm (3)\n    Size: 4\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 14149222\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type: <class 'src.rawapi.SaneValueType'> : String (3)\n    Unit: <class 'src.rawapi.SaneUnit'> : None (0)\n    Size: 20\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : String list (3)\n    Constraint: ['Auto', 'Flatbed', 'ADF']\n    Value: Auto\n  Option: jpeg-quality\n    Title: JPEG compression factor\n    Desc: Sets the scanner JPEG compression factor. Larger numbers mean better compression, and smaller numbers mean better image quality.\n    Type: <class 'src.rawapi.SaneValueType'> : Integer (1)\n    Unit: <class 'src.rawapi.SaneUnit'> : None (0)\n    Size: 4\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : Range (1)\n    Constraint: (0, 100, 0)\n    Value: 10\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type: <class 'src.rawapi.SaneValueType'> : String (3)\n    Unit: <class 'src.rawapi.SaneUnit'> : None (0)\n    Size: 20\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : String list (3)\n    Constraint: ['Lineart', 'Gray', 'Color']\n    Value: Color\n  Option: batch-scan\n    Title: Batch scan\n    Desc: Enables continuous scanning with automatic document feeder (ADF).\n    Type: <class 'src.rawapi.SaneValueType'> : Boolean (0)\n    Unit: <class 'src.rawapi.SaneUnit'> : None (0)\n    Size: 4\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : None (0)\n    Constraint: None\n    Value: 0\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type: <class 'src.rawapi.SaneValueType'> : Integer (1)\n    Unit: <class 'src.rawapi.SaneUnit'> : Dpi (4)\n    Size: 4\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : Word list (2)\n    Constraint: [75, 100, 150, 200, 300, 600, 1200, 2400]\n    Value: 75\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type: <class 'src.rawapi.SaneValueType'> : Fixed (2)\n    Unit: <class 'src.rawapi.SaneUnit'> : Mm (3)\n    Size: 4\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : Range (1)\n    Constraint: (0, 24969216, 0)\n    Value: 0\n  Option: contrast\n    Title: Contrast\n    Desc: Controls the contrast of the acquired image.\n    Type: <class 'src.rawapi.SaneValueType'> : Integer (1)\n    Unit: <class 'src.rawapi.SaneUnit'> : None (0)\n    Size: 4\n    Capabilities: <class 'src.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type: <class 'src.rawapi.SaneConstraintType'> : Range (1)\n    Constraint: (-127, 127, 0)\n    Value: 0\n. I also post the bug  on the Simple Scan project. Let us wait and see.\n. https://bugs.launchpad.net/simple-scan/+bug/550856/comments/31\n. More zoom ratios should be available when using cropping tool (not only two).\n. Tested. Cropping is far more usable now ;). But there is still the zoom issue.\n. ",
    "beat": "Hi @jflesch,\nSure:\nHere is the huge result for that great scanner \"ScanSnap S1500M\" (it's just a great one: double-sided single-pass scan at 20 ppm, has a button on it, would be great to be able to use it to start a scan like in its Fujitsu-software on a mac): When scaning a double-sided page Paperwork only scaned the front-page too, guess it's due to the missing settings parsing).\n```\n$ ./list_all.py\nScanner 'fujitsu:ScanSnap S1500:9226' (FUJITSU, ScanSnap S1500, scanner)\n  Option: ipc-mode\n    Title: IPC mode\n    Desc: Image processing mode, enables additional options\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'SDTC']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: ald\n    Title: Auto length detection\n    Desc: Scanner detects paper lower edge. May confuse some frontends.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: threshold\n    Title: Threshold\n    Desc: Select minimum-brightness to get a white point\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 1)\n    Value: 0\n  Option: ink-low\n    Title: Ink low\n    Desc: Imprinter ink running low\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: density\n    Title: Density\n    Desc: Density dial\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: duplex\n    Title: Duplex switch\n    Desc: Duplex switch\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: page-loaded\n    Title: Page loaded\n    Desc: Page loaded\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 11\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['ADF Front', 'ADF Back', 'ADF Duplex']\n    Value: ADF Front\n  Option: endorser-font\n    Title: Endorser font\n    Desc: Endorser printing font.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 18\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['Horizontal', 'Horizontal bold', 'Horizontal narrow', 'Vertical', 'Vertical bold']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: swdeskew\n    Title: Software deskew\n    Desc: Request driver to rotate skewed pages digitally.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: page-height\n    Title: Page height\n    Desc: Specifies the height of the media.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 57455088, 1387)\n    Value: 18308400\n  Option: paper-protect\n    Title: Paper protection\n    Desc: Request scanner to predict jams in the ADF\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'Off', 'On']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: threshold-white\n    Title: Threshold white\n    Desc: Set pixels equal to threshold to white instead of black\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 18308400, 1387)\n    Value: 18308400\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14147400, 1387)\n    Value: 14147400\n  Option: error-code\n    Title: Error code\n    Desc: Hardware error code\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: ht-type\n    Title: Halftone type\n    Desc: Control type of halftone filter\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 10\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'Dither', 'Diffusion']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: blueoffset\n    Title: Blue offset\n    Desc: Adjust blue/red offset\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : Range (1)\n    Constraint: (-16, 16, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: endorser\n    Title: Endorser\n    Desc: Enable endorser unit\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: brightness\n    Title: Brightness\n    Desc: Controls the brightness of the acquired image.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-127, 127, 1)\n    Value: 0\n  Option: overscan\n    Title: Overscan\n    Desc: Collect a few mm of background on top side of scan, before paper enters ADF, and increase maximum scan area beyond paper size, to allow collection on remaining sides. May conflict with bgcolor option\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'Off', 'On']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 9\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Lineart', 'Halftone', 'Gray', 'Color']\n    Value: Lineart\n  Option: side\n    Title: Duplex side\n    Desc: Tells which side (0=front, 1=back) of a duplex scan the next call to sane_read will return.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: df-skew\n    Title: DF skew\n    Desc: Enable double feed error due to skew\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: threshold-curve\n    Title: Threshold curve\n    Desc: Threshold curve, from light to dark, but upper two may not be linear\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 7, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: top-edge\n    Title: Top edge\n    Desc: Paper is pulled partly into adf\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: page-width\n    Title: Page width\n    Desc: Specifies the width of the media.  Required for automatic centering of sheet-fed scans.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14491376, 1387)\n    Value: 14147400\n  Option: endorser-options\n    Title: Endorser Options\n    Desc: Controls for endorser unit\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: swcrop\n    Title: Software crop\n    Desc: Request driver to remove border from pages digitally.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: hwdeskewcrop\n    Title: Hardware deskew and crop\n    Desc: Request scanner to rotate and crop pages digitally.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: skew-angle\n    Title: Skew angle\n    Desc: Requires black background for scanning\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: email\n    Title: Email button\n    Desc: Email button\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: contrast\n    Title: Contrast\n    Desc: Controls the contrast of the acquired image.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-127, 127, 1)\n    Value: 0\n  Option: omr-df\n    Title: OMR or DF\n    Desc: OMR or double feed detected\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: endorser-bits\n    Title: Endorser bits\n    Desc: Determines maximum endorser counter value.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : Range (1)\n    Constraint: (16, 24, 8)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: matrix-5x5\n    Title: Matrix 5x5\n    Desc: Remove 5 pixel square noise\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: matrix-4x4\n    Title: Matrix 4x4\n    Desc: Remove 4 pixel square noise\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: separation\n    Title: Separation\n    Desc: Enable automatic separation of image and text\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: greenoffset\n    Title: Green offset\n    Desc: Adjust green/red offset\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : Range (1)\n    Constraint: (-16, 16, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: power-save\n    Title: Power saving\n    Desc: Scanner in power saving mode\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: b5-paper\n    Title: B5 paper\n    Desc: B5 paper detected\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: staple-detect\n    Title: Staple detection\n    Desc: Request scanner to detect jams in the ADF caused by staples\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'Off', 'On']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: a3-paper\n    Title: A3 paper\n    Desc: A3 paper detected\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: gamma\n    Title: Gamma function exponent\n    Desc: Changes intensity of midtones\n    Type:  : Fixed (2)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : Range (1)\n    Constraint: (19660, 327680, 655)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: prepick\n    Title: Prepick\n    Desc: Request scanner to grab next page from ADF\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'Off', 'On']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: manual-feed\n    Title: Manual feed\n    Desc: Manual feed selected\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 18308400, 1387)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14147400, 1387)\n    Value: 0\n  Option: bp-filter\n    Title: BP filter\n    Desc: Improves quality of high resolution ball-point pen text\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: mirroring\n    Title: Mirroring\n    Desc: Reflect output image horizontally\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: endorser-y\n    Title: Endorser Y\n    Desc: Endorser print offset from top of paper.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 18308400, 1387)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: endorser-side\n    Title: Endorser side\n    Desc: Endorser printing side, requires hardware support to change\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 6\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['Front', 'Back']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: swdespeck\n    Title: Software despeckle diameter\n    Desc: Maximum diameter of lone dots to remove from scan.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 9, 1)\n    Value: 0\n  Option: df-diff\n    Title: DF length difference\n    Desc: Difference in page length to trigger double feed error\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', '10mm', '15mm', '20mm']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: double-feed\n    Title: Double feed\n    Desc: Double feed detected\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: cover-open\n    Title: Cover open\n    Desc: Cover open\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: compression\n    Title: Compression\n    Desc: Enable compressed data. May crash your front-end program\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 5\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['None']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: a4-paper\n    Title: A4 paper\n    Desc: A4 paper detected\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: buffermode\n    Title: Buffer mode\n    Desc: Request scanner to read pages quickly from ADF into internal memory\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'Off', 'On']\n    Value: Default\n  Option: smoothing\n    Title: Smoothing\n    Desc: Enable smoothing for improved OCR\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: bgcolor\n    Title: Background color\n    Desc: Set color of background for scans. May conflict with overscan option\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'White', 'Black']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: df-thickness\n    Title: DF thickness\n    Desc: Enable double feed error due to paper thickness\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: function\n    Title: Function\n    Desc: Function character on screen\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: compression-arg\n    Title: Compression argument\n    Desc: Level of JPEG compression. 1 is small file, 7 is large file. 0 (default) is same as 4\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 0, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: endorser-val\n    Title: Endorser value\n    Desc: Initial endorser counter value.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 65535, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: wl-follow\n    Title: White level follower\n    Desc: Control white level follower\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'On', 'Off']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: sleeptimer\n    Title: Sleep timer\n    Desc: Time in minutes until the internal power supply switches to sleep mode\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 60, 1)\n    Value: 0\n  Option: df-recovery\n    Title: DF recovery mode\n    Desc: Request scanner to reverse feed on paper jam\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'Off', 'On']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: endorser-string\n    Title: Endorser string\n    Desc: Endorser alphanumeric print format. %05ud or %08ud at the end will be replaced by counter value.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 1\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: gamma-curve\n    Title: Gamma curve\n    Desc: Gamma curve, from light to dark, but upper two may not work\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 3, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: duplexoffset\n    Title: Duplex offset\n    Desc: Adjust front/back offset\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : Range (1)\n    Constraint: (-16, 16, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: scan\n    Title: Scan button\n    Desc: Scan button\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: endorser-dir\n    Title: Endorser direction\n    Desc: Endorser printing direction.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 14\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : String list (3)\n    Constraint: ['Top to bottom', 'Bottom to top']\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: rif\n    Title: RIF\n    Desc: Reverse image format\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: df-length\n    Title: DF length\n    Desc: Enable double feed error due to paper length\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: b4-paper\n    Title: B4 paper\n    Desc: B4 paper detected\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: emphasis\n    Title: Emphasis\n    Desc: Negative to smooth or positive to sharpen image\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-128, 127, 1)\n    Value: 0\n  Option: df-action\n    Title: DF action\n    Desc: Action following double feed error\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 9\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'Continue', 'Stop']\n    Value: Default\n  Option: endorser-step\n    Title: Endorser step\n    Desc: Change endorser counter value by this much for each page.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : Range (1)\n    Constraint: (-2, 2, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: lowmemory\n    Title: Low Memory\n    Desc: Limit driver memory usage for use in embedded systems. Causes some duplex transfers to alternate sides on each call to sane_read. Value of option 'side' can be used to determine correct image. This option should only be used with custom front-end software.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: variance\n    Title: Variance\n    Desc: Set SDTC variance rate (sensitivity), 0=127\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 1)\n    Value: 0\n  Option: noise-removal\n    Title: Noise removal\n    Desc: Noise removal\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: awd\n    Title: Auto width detection\n    Desc: Scanner detects paper sides. May reduce scanning speed.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: dropoutcolor\n    Title: Dropout color\n    Desc: One-pass scanners use only one color during gray or binary scanning, useful for colored paper or ink\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'Red', 'Green', 'Blue']\n    Value: Default\n  Option: outline\n    Title: Outline\n    Desc: Perform outline extraction\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: ht-pattern\n    Title: Halftone pattern\n    Desc: Control pattern of halftone filter\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 3, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: ink-remain\n    Title: Ink remaining\n    Desc: Imprinter ink level\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: matrix-3x3\n    Title: Matrix 3x3\n    Desc: Remove 3 pixel square noise\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (50, 600, 1)\n    Value: 600\n  Option: matrix-2x2\n    Title: Matrix 2x2\n    Desc: Remove 2 pixel square noise\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value:  : Data is invalid (4)\n```\n. No worries, Merci! :-)\n. I'm trying where that file is located in the current installation to apply the fix on it:\nhttps://github.com/jflesch/paperwork/commit/5df66cd98ee5a7f6c486b2b0afb84bd1a260c3e5\nor an alternate method to that described here but to install to / upgrade to the unstable branch:\nhttps://github.com/jflesch/paperwork (I did a Manual system-wide installation since Ubuntu 13.04 doesn't include Paperwork yet).\nAny hints/directions on how to test the fix?\n. Tried applying to the version i have the changes, but now have 2 behaviors:\nWhen only snapscan is connected, hitting Scan button i have: \"Error while scanning: \" (nothing more) in a pop-up.\nAnd in console:\n```\n$ paperwork \n (paperwork:22743): WARNING : Couldn't connect to accessibility bus: Failed to connect to socket /tmp/dbus-BEKIFYOiIi: Connection refused\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   root                           Will use locales from '/usr/share/locale'\nINFO   paperwork.backend.config       Config file found: /home/beat/.config/paperwork.conf\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow.glade\n(paperwork:22743): Gtk-WARNING **: Could not load image 'paperwork.svg': Failed to open file '/usr/share/paperwork/paperwork.svg': No such file or directory\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (579, 705)\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Main] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Started\nINFO   paperwork.frontend.actions     Action: [Refresh index]\nINFO   paperwork.frontend.jobs        [Scheduler Main] Started\nINFO   paperwork.backend.docsearch    Opening index dir '/home/beat/.local/share/paperwork/index' ...\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.mainwindow  List 'documents' : 2 elements displayed (2 additionnal)\nINFO   paperwork.frontend.actions     Action: [Scan a single page]\nINFO   paperwork.backend.config       Scanner mode set to 'Color'\nINFO   paperwork.util                 Setting scanner option 'source' to 'ADF Front'\nERROR  paperwork.frontend.jobs        ===> Job SingleScan:0 raised an exception: : \nERROR  paperwork.frontend.jobs         0: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/jobs.py: L  158: _run\nERROR  paperwork.frontend.jobs         1: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py: L 1202: do\nERROR  paperwork.frontend.jobs         2: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  188: scan\nERROR  paperwork.frontend.jobs         3: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  137: init\nERROR  paperwork.frontend.jobs         4: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L   53: wait\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nERROR  paperwork.frontend.jobs        ---> Job SingleScan:0 was started by:\nERROR  paperwork.frontend.jobs         0: /usr/local/bin/paperwork: L    6: \nERROR  paperwork.frontend.jobs         1: /usr/local/lib/python2.7/dist-packages/paperwork/paperwork.py: L   98: main\nERROR  paperwork.frontend.jobs         2: /usr/lib/python2.7/dist-packages/gi/types.py: L  113: function\nERROR  paperwork.frontend.jobs         3: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py: L   56: on_button_clicked_cb\nERROR  paperwork.frontend.jobs         4: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py: L   53: __do\nERROR  paperwork.frontend.jobs         5: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py: L 1815: do\nERROR  paperwork.frontend.jobs         6: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/jobs.py: L  227: schedule\nWARNING paperwork.frontend.jobs        Job SingleScan:0 took 2642ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.mainwindow  List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 0:20130818_2317_15 deleted\nINFO   paperwork.frontend.actions     Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\nINFO   paperwork.frontend.actions     Action: [Quit]\nINFO   paperwork.frontend.actions     Action: [Quit (real)]\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Stopping\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Stopped\nINFO   paperwork.frontend.jobs        [Scheduler Main] Stopping\nINFO   paperwork.frontend.jobs        [Scheduler Main] Stopped\nINFO   paperwork.backend.config       Writing /home/beat/.config/paperwork.conf ... \nINFO   paperwork.backend.config       Done\nINFO   paperwork.frontend.actions     Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.actions     Action: [Label selected]\nINFO   paperwork.paperwork            Good bye\nbeat@beat17:~$ paperwork \n (paperwork:22754): WARNING : Couldn't connect to accessibility bus: Failed to connect to socket /tmp/dbus-BEKIFYOiIi: Connection refused\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   root                           Will use locales from '/usr/share/locale'\nINFO   paperwork.backend.config       Config file found: /home/beat/.config/paperwork.conf\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow.glade\n(paperwork:22754): Gtk-WARNING **: Could not load image 'paperwork.svg': Failed to open file '/usr/share/paperwork/paperwork.svg': No such file or directory\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (579, 705)\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Main] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Started\nINFO   paperwork.frontend.actions     Action: [Refresh index]\nINFO   paperwork.frontend.jobs        [Scheduler Main] Started\nINFO   paperwork.backend.docsearch    Opening index dir '/home/beat/.local/share/paperwork/index' ...\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.mainwindow  List 'documents' : 2 elements displayed (2 additionnal)\nINFO   paperwork.frontend.actions     Action: [Scan a single page]\nINFO   paperwork.backend.config       Scanner mode set to 'Color'\nINFO   paperwork.util                 Setting scanner option 'source' to 'ADF Front'\nERROR  paperwork.frontend.jobs        ===> Job SingleScan:0 raised an exception: : \nERROR  paperwork.frontend.jobs         0: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/jobs.py: L  158: _run\nERROR  paperwork.frontend.jobs         1: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py: L 1202: do\nERROR  paperwork.frontend.jobs         2: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  188: scan\nERROR  paperwork.frontend.jobs         3: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  137: init\nERROR  paperwork.frontend.jobs         4: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L   53: wait\nERROR  paperwork.frontend.jobs        ---> Job SingleScan:0 was started by:\nERROR  paperwork.frontend.jobs         0: /usr/local/bin/paperwork: L    6: \nERROR  paperwork.frontend.jobs         1: /usr/local/lib/python2.7/dist-packages/paperwork/paperwork.py: L   98: main\nERROR  paperwork.frontend.jobs         2: /usr/lib/python2.7/dist-packages/gi/types.py: L  113: function\nERROR  paperwork.frontend.jobs         3: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py: L   56: on_button_clicked_cb\nERROR  paperwork.frontend.jobs         4: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py: L   53: __do\nERROR  paperwork.frontend.jobs         5: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py: L 1815: do\nERROR  paperwork.frontend.jobs         6: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/jobs.py: L  227: schedule\nWARNING paperwork.frontend.jobs        Job SingleScan:0 took 1649ms and is unstoppable ! (maximum allowed: 500ms)\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nINFO   paperwork.frontend.mainwindow  List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 0:20130818_2317_31 deleted\nINFO   paperwork.frontend.actions     Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\n```\n(doing second comment for other case)\n. And with both scanners connected, i have infinite loop (had that also before the fix) until i press the exit button:\n```\n$ paperwork \n (paperwork:22879): WARNING : Couldn't connect to accessibility bus: Failed to connect to socket /tmp/dbus-BEKIFYOiIi: Connection refused\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   root                           Will use locales from '/usr/share/locale'\nINFO   paperwork.backend.config       Config file found: /home/beat/.config/paperwork.conf\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow.glade\n(paperwork:22879): Gtk-WARNING : Could not load image 'paperwork.svg': Failed to open file '/usr/share/paperwork/paperwork.svg': No such file or directory\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (579, 705)\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Main] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Started\nINFO   paperwork.frontend.actions     Action: [Refresh index]\nINFO   paperwork.frontend.jobs        [Scheduler Main] Started\nINFO   paperwork.backend.docsearch    Opening index dir '/home/beat/.local/share/paperwork/index' ...\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.mainwindow  List 'documents' : 2 elements displayed (2 additionnal)\nINFO   paperwork.frontend.actions     Action: [Scan a single page]\nINFO   paperwork.backend.config       Scanner mode set to 'Color'\nINFO   paperwork.util                 Setting scanner option 'source' to 'ADF Front'\nERROR  paperwork.frontend.jobs        ===> Job SingleScan:0 raised an exception: : \nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nINFO   paperwork.frontend.mainwindow  List 'pages' : 0 elements displayed (0 additionnal)\nERROR  paperwork.frontend.jobs         0: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/jobs.py: L  158: _run\nERROR  paperwork.frontend.jobs         1: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py: L 1202: do\nERROR  paperwork.frontend.jobs         2: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  188: scan\nERROR  paperwork.frontend.jobs         3: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  137: init\nERROR  paperwork.frontend.jobs         4: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L   53: wait\nERROR  paperwork.frontend.jobs        ---> Job SingleScan:0 was started by:\nERROR  paperwork.frontend.jobs         0: /usr/local/bin/paperwork: L    6: \nERROR  paperwork.frontend.jobs         1: /usr/local/lib/python2.7/dist-packages/paperwork/paperwork.py: L   98: main\nERROR  paperwork.frontend.jobs         2: /usr/lib/python2.7/dist-packages/gi/types.py: L  113: function\nERROR  paperwork.frontend.jobs         3: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py: L   56: on_button_clicked_cb\nERROR  paperwork.frontend.jobs         4: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py: L   53: __do\nERROR  paperwork.frontend.jobs         5: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py: L 1815: do\nERROR  paperwork.frontend.jobs         6: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/jobs.py: L  227: schedule\nWARNING paperwork.frontend.jobs        Job SingleScan:0 took 1638ms and is unstoppable ! (maximum allowed: 500ms)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3506, in on_single_scan_error\n    self.refresh_docs({self.doc})\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3717, in refresh_docs\n    idx = doc_list.index(doc)\nValueError:  is not in list\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(*data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3504, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\n...\n```\n. Trying installing 0.2 unstable as 0.1 stable seems to still have those other bugs.\nFollowed your instructions:\n$ sudo apt-get install zlib1g-dev libjpeg-dev libblas-dev libatlas-dev liblapack-dev gfortran g++\n$ sudo pip install numpy scikit-learn\n$ git clone https://github.com/jflesch/paperwork.git\n$ cd paperwork\n$ git checkout unstable\n$ sudo python ./setup.py install\nGot:\nImportError: You need Cython version 0.15 or later.\nSo did after that (as suggested here: http://docs.cython.org/src/quickstart/install.html ):\n$ sudo easy_install cython\n$ sudo python ./setup.py install\nThat finished a long compilation with lots of minor compilation notices, and at end I\u00a0had:\n```\nLooking for Python GObject Introspection ...\nLooking for Gtk ...\n (setup.py:27293): WARNING : Couldn't connect to accessibility bus: Failed to connect to socket /tmp/dbus-BEKIFYOiIi: Connection refused\nLooking for Glade UI ...\nLooking for Poppler ...\nLooking for Cairo ...\nLooking for OCR tool ...\nLooking for OCR language data ...\nAll dependencies have been found.\n/usr/local/lib/python2.7/dist-packages/numpy/distutils/misc_util.py:252: RuntimeWarning: Parent module 'numpy.distutils' not found while handling absolute import\n  from numpy.distutils import log\n```\nReporting in next comment on running 0.2:\n. Running 0.2 with both scanners attached and pressing scan button:\n```\n$ paperwork\n (paperwork:1336): WARNING : Couldn't connect to accessibility bus: Failed to connect to socket /tmp/dbus-BEKIFYOiIi: Connection refused\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   root                           Will use locales from 'locale'\nINFO   paperwork.backend.config       Config file found: /home/beat/.config/paperwork.conf\nINFO   root                           UI file used: src/paperwork/frontend/mainwindow/appmenu.xml\nINFO   root                           UI file used: src/paperwork/frontend/mainwindow/mainwindow.glade\n(paperwork:1336): Gtk-WARNING : Could not load image 'paperwork.svg': Failed to open file 'src/paperwork/frontend/mainwindow/paperwork.svg': No such file or directory\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (579, 705)\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Starting\nINFO   paperwork.frontend.util.actions Action: [Refresh index]\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Started\nINFO   paperwork.backend.docsearch    Opening index dir '/home/beat/.local/share/paperwork/index' ...\nINFO   paperwork.backend.docsearch    Creating a new index\nINFO   paperwork.backend.docsearch    Index '/home/beat/.local/share/paperwork/index' created\nINFO   paperwork.backend.docsearch    Opening label_estimators file '/home/beat/.local/share/paperwork/label_estimators/label_estimators.jbl' ...\nERROR  paperwork.backend.docsearch    Failed to open label_estimator file '/home/beat/.local/share/paperwork/index', or bad label_estimator structure\nERROR  paperwork.backend.docsearch    Exception was: [Errno 2] No such file or directory: '/home/beat/.local/share/paperwork/label_estimators/label_estimators.jbl'\nINFO   paperwork.backend.docsearch    Will create new label_estimators\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  New document: 1\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.util.progressivelist List 'documents' : 2 elements displayed (2 additionnal)\nINFO   paperwork.backend.docsearch    Indexing new doc: 20130816_1755_40\nINFO   paperwork.backend.docsearch    Fitting estimator with doc: 20130816_1755_40 \nWARNING paperwork.backend.img.page     WARNING: Doc 20130816_1755_40 uses old box format\nINFO   paperwork.backend.docsearch    Index: Commiting changes and saving estimators\nINFO   paperwork.backend.docsearch    Index: Reloading ...\nINFO   paperwork.backend.docsearch    Opening index dir '/home/beat/.local/share/paperwork/index' ...\nINFO   paperwork.backend.docsearch    Opening label_estimators file '/home/beat/.local/share/paperwork/label_estimators/label_estimators.jbl' ...\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.util.progressivelist List 'documents' : 2 elements displayed (2 additionnal)\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nINFO   paperwork.backend.config       Scanner mode set to 'Color'\nINFO   paperwork.frontend.util.scanner Setting scanner option 'source' to 'ADF Front'\nERROR  paperwork.frontend.util.jobs   ===> Job SingleScan:0 raised an exception: : \nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nERROR  paperwork.frontend.util.jobs    0: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/jobs.py: L  159: _run\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py: L 1270: do\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  188: scan\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  137: init\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L   53: wait\nERROR  paperwork.frontend.util.jobs   ---> Job SingleScan:0 was started by:\nERROR  paperwork.frontend.util.jobs    0: /usr/local/bin/paperwork: L    5: \nERROR  paperwork.frontend.util.jobs    1: /usr/lib/python2.7/dist-packages/pkg_resources.py: L  505: run_script\nERROR  paperwork.frontend.util.jobs    2: /usr/lib/python2.7/dist-packages/pkg_resources.py: L 1245: run_script\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/EGG-INFO/scripts/paperwork: L    6: \nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/paperwork.py: L   98: main\nERROR  paperwork.frontend.util.jobs    5: /usr/lib/python2.7/dist-packages/gi/types.py: L  113: function\nERROR  paperwork.frontend.util.jobs    6: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/actions.py: L   58: on_button_clicked_cb\nERROR  paperwork.frontend.util.jobs    7: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/actions.py: L   55: do\nERROR  paperwork.frontend.util.jobs    8: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init.py: L 1909: do\nERROR  paperwork.frontend.util.jobs    9: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/jobs.py: L  228: schedule\nWARNING paperwork.frontend.util.jobs   Job SingleScan:0 took 5725ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3362, in on_single_scan_error\n    self.refresh_docs({self.doc})\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3569, in refresh_docs\n    idx = doc_list.index(doc)\nValueError:  is not in list\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3360, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3107, in set_mouse_cursor\n    assert(self.busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init.py\", line 3214, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3107, in set_mouse_cursor\n    assert(self.busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3360, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3107, in set_mouse_cursor\n    assert(self.busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init.py\", line 3214, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3107, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init.py\", line 3360, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3107, in set_mouse_cursor\n    assert(self.busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init.py\", line 3214, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3107, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\n...\n```\n. Removing the Epson stylus photo RX425 scaner/printer, output looks much better now, and resolutions are displayed correctly in the scaner settings. A scan worked!\nin terminal logs i got following warnings (if that may help):\n```\n...\nWARNING paperwork.frontend.util.jobs   Job SingleScan:0 took 17328ms and is unstoppable ! (maximum allowed: 500ms)\n...\nINFO   paperwork.frontend.mainwindow  Will redo thumbnails: [(1, )]\nINFO   paperwork.frontend.mainwindow  Zoom: 0.175455\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   root                           UI file used: src/paperwork/frontend/settingswindow/settingswindow.glade\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'equ'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'osd'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\n(paperwork:1505): Gtk-CRITICAL : gtk_list_store_get_value: assertion column < priv->n_columns' failed\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: g_object_set_property: assertionG_IS_VALUE (value)' failed\n  return info.invoke(*args, kwargs)\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: g_value_unset: assertion `G_IS_VALUE (value)' failed\n  return info.invoke(args, *kwargs)\n(paperwork:1505): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:1505): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:1505): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\n(paperwork:1505): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:1505): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:1505): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:1505): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:1505): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:1505): Gtk-CRITICAL : gtk_list_store_get_value: assertion column < priv->n_columns' failed\nINFO   paperwork.frontend.settingswindow Device found: [FUJITSU ScanSnap S1500] -> [fujitsu:ScanSnap S1500:9226]\nINFO   paperwork.frontend.settingswindow Got value [['FUJITSU ScanSnap S1500', 'fujitsu:ScanSnap S1500:9226']]\nINFO   paperwork.frontend.settingswindow Select scanner: 0\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 2654ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [fujitsu:ScanSnap S1500:9226]\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: unable to set propertysensitive' of type gboolean' from value of typegchararray'\n  return info.invoke(*args, kwargs)\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: unable to set property xpad' of typeguint' from value of type `gchararray'\n  return info.invoke(args, *kwargs)\nINFO   paperwork.frontend.settingswindow Resolutions found: (50, 600, 1)\nINFO   paperwork.frontend.settingswindow Got value [['50', 50]]\nINFO   paperwork.frontend.settingswindow Got value [['100', 100]]\nINFO   paperwork.frontend.settingswindow Got value [['150', 150]]\nINFO   paperwork.frontend.settingswindow Got value [['200', 200]]\nINFO   paperwork.frontend.settingswindow Got value [['250', 250]]\nINFO   paperwork.frontend.settingswindow Got value [['300 (recommended)', 300]]\nINFO   paperwork.frontend.settingswindow Got value [['350', 350]]\nINFO   paperwork.frontend.settingswindow Got value [['400', 400]]\nINFO   paperwork.frontend.settingswindow Got value [['450', 450]]\nINFO   paperwork.frontend.settingswindow Got value [['500', 500]]\nINFO   paperwork.frontend.settingswindow Got value [['550', 550]]\nINFO   paperwork.frontend.settingswindow Got value [['600', 600]]\n```\nEDIT: UPDATED:\nNow unplugin the ScanSnap and letting the Epson plugged in and pressing scan, I get the non-stopping messages above in the terminal window from which i started PaperWork, but now i get a pop-up window with:\nError while scanning: <class 'pyinsane.rawapi.SaneStatus'> : Error during device I/O (9)\nAnd when quitting I get:\nTypeError: argument parent: Expected Gtk.Window, but got paperwork.frontend.mainwindow.MainWindow\nINFO   paperwork.frontend.util.actions Action: [Quit]\nINFO   paperwork.frontend.util.actions Action: [Quit (real)]\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Stopped\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Stopped\nINFO   paperwork.backend.config       Writing /home/beat/.config/paperwork.conf ... \nINFO   paperwork.backend.config       Done\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.util.actions Action: [Label selected]\nINFO   paperwork.frontend.util.dialog Showing popup !\n/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py:511: PyGIDeprecationWarning: The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\n  warnings.warn(\"The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\", PyGIDeprecationWarning)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/dialog.py\", line 25, in popup_no_scanner_found\n    message_format=msg)\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py\", line 519, in __init__\n    **kwds)\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py\", line 450, in __init__\n    self.set_transient_for(parent)\n  File \"/usr/lib/python2.7/dist-packages/gi/types.py\", line 113, in function\n    return info.invoke(*args, **kwargs)\nTypeError: argument parent: Expected Gtk.Window, but got paperwork.frontend.mainwindow.MainWindow\nINFO   paperwork.paperwork            Good bye\nSegmentation fault (core dumped)\n. It looks like the double-sided scan of the ScanSnap scanner isn't supported by PaperScan 0.2 unstable.\nBTW 0.2 unstable seems to work more stable than 0.1 stable ;)\n. Great!\nOk, looks like uninstalling and reinstalling Pyinsane fixed one of the bugs mentioned.\nI could now reproduce one of the bugs as follows:\n- switch ScanSnap on, set it up in configuration, and scan: works.\n- quit Paperworks\n- switch ScanSnap off, leaving Epson scaner on\n- start Paperworks and press scan button without setup. You get it hanging, waiting with these messages displaying all the time until you quit PaperWork:\nEDIT: fixed markup to make errors visible:\n```\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nERROR  paperwork.frontend.mainwindow  No scanner found !\nERROR  paperwork.frontend.util.jobs   ===> Job SingleScan:0 raised an exception: :  : Data is invalid (4)\nERROR  paperwork.frontend.util.jobs    0: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/jobs.py: L  159: _run\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py: L 1260: do\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/backend/config.py: L  359: get_scanner_inst\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  176: _get_options\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L   53: wait\nERROR  paperwork.frontend.util.jobs   ---> Job SingleScan:0 was started by:\nERROR  paperwork.frontend.util.jobs    0: /usr/local/bin/paperwork: L    5: \nERROR  paperwork.frontend.util.jobs    1: /usr/lib/python2.7/dist-packages/pkg_resources.py: L  505: run_script\nERROR  paperwork.frontend.util.jobs    2: /usr/lib/python2.7/dist-packages/pkg_resources.py: L 1245: run_script\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/EGG-INFO/scripts/paperwork: L    6: \nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/paperwork.py: L   98: main\nERROR  paperwork.frontend.util.jobs    5: /usr/lib/python2.7/dist-packages/gi/types.py: L  113: function\nERROR  paperwork.frontend.util.jobs    6: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/actions.py: L   58: on_button_clicked_cb\nERROR  paperwork.frontend.util.jobs    7: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/actions.py: L   55: do\nERROR  paperwork.frontend.util.jobs    8: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init.py: L 1909: do\nERROR  paperwork.frontend.util.jobs    9: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/jobs.py: L  228: schedule\nINFO   paperwork.frontend.util.dialog Showing popup !\n/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py:511: PyGIDeprecationWarning: The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\n  warnings.warn(\"The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\", PyGIDeprecationWarning)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/dialog.py\", line 25, in popup_no_scanner_found\n    message_format=msg)\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py\", line 519, in init\nkwds)\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py\", line 450, in init\n    self.set_transient_for(parent)\n  File \"/usr/lib/python2.7/dist-packages/gi/types.py\", line 113, in function\n    return info.invoke(*args, kwargs)\nTypeError: argument parent: Expected Gtk.Window, but got paperwork.frontend.mainwindow.MainWindow\nERROR  paperwork.frontend.mainwindow  Error while scanning: :  : Data is invalid (4)\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3362, in on_single_scan_error\n    self.refresh_docs({self.doc})\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3569, in refresh_docs\n    idx = doc_list.index(doc)\nValueError:  is not in list\nINFO   paperwork.frontend.util.dialog Showing popup !\n/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py:511: PyGIDeprecationWarning: The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\n  warnings.warn(\"The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\", PyGIDeprecationWarning)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/dialog.py\", line 25, in popup_no_scanner_found\n    message_format=msg)\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py\", line 519, in init\nkwds)\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py\", line 450, in init\n    self.set_transient_for(parent)\n  File \"/usr/lib/python2.7/dist-packages/gi/types.py\", line 113, in function\n    return info.invoke(*args, kwargs)\nTypeError: argument parent: Expected Gtk.Window, but got paperwork.frontend.mainwindow.MainWindow\nERROR  paperwork.frontend.mainwindow  Error while scanning: :  : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/gi/overrides/GLib.py\", line 629, in \n    return (lambda data: callback(data), user_data)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3360, in on_single_scan_error\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3107, in set_mouse_cursor\n    assert(self.busy_mouse_counter >= 0)\nAssertionError\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init.py\", line 3214, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/init.py\", line 3107, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nINFO   paperwork.frontend.util.dialog Showing popup !\n...\n```\nIf when pressing Scan, the configured scaner is not found, then the configuration dialog should appear instead of hanging and looping errors ?\n. OK, yet another related issue (btw do you prefer me to open them as separate issues on github ?):\n- Start\n- Configure Epson as scanner\n- Press Scan button\n- San worked\n- Delete scanned document\n- Enter configuration again. No scanner is proposed anymore.\nOutput in terminal:\n```\n~$ paperwork \n (paperwork:2247): WARNING : Couldn't connect to accessibility bus: Failed to connect to socket /tmp/dbus-BEKIFYOiIi: Connection refused\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   root                           Will use locales from '/usr/share/locale'\nINFO   paperwork.backend.config       Config file found: /home/beat/.config/paperwork.conf\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow/appmenu.xml\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow/mainwindow.glade\n(paperwork:2247): Gtk-WARNING **: Could not load image 'paperwork.svg': Failed to open file '/usr/share/paperwork/mainwindow/paperwork.svg': No such file or directory\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (579, 705)\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Starting\nINFO   paperwork.frontend.util.actions Action: [Refresh index]\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Started\nINFO   paperwork.backend.docsearch    Opening index dir '/home/beat/.local/share/paperwork/index' ...\nINFO   paperwork.backend.docsearch    Opening label_estimators file '/home/beat/.local/share/paperwork/label_estimators/label_estimators.jbl' ...\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.util.progressivelist List 'documents' : 3 elements displayed (3 additionnal)\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   root                           UI file used: /usr/share/paperwork/settingswindow/settingswindow.glade\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'equ'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'osd'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\n(paperwork:2247): Gtk-CRITICAL : gtk_list_store_get_value: assertion column < priv->n_columns' failed\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: g_object_set_property: assertionG_IS_VALUE (value)' failed\n  return info.invoke(*args, kwargs)\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: g_value_unset: assertion `G_IS_VALUE (value)' failed\n  return info.invoke(args, *kwargs)\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL : gtk_list_store_get_value: assertion column < priv->n_columns' failed\nINFO   paperwork.frontend.settingswindow Device found: [Epson RX420] -> [epson2:libusb:001:100]\nINFO   paperwork.frontend.settingswindow Got value [['Epson RX420', 'epson2:libusb:001:100']]\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 2615ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Select scanner: 0\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [epson2:libusb:001:100]\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: unable to set propertysensitive' of type gboolean' from value of typegchararray'\n  return info.invoke(*args, kwargs)\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: unable to set property xpad' of typeguint' from value of type `gchararray'\n  return info.invoke(args, kwargs)\nINFO   paperwork.frontend.settingswindow Resolutions found: [100, 300, 600, 1200]\nINFO   paperwork.frontend.settingswindow Got value [['100', 100]]\nINFO   paperwork.frontend.settingswindow Got value [['300 (recommended)', 300]]\nINFO   paperwork.frontend.settingswindow Got value [['600', 600]]\nINFO   paperwork.frontend.settingswindow Got value [['1200', 1200]]\nINFO   paperwork.backend.config       Writing /home/beat/.config/paperwork.conf ... \nINFO   paperwork.backend.config       Done\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopped\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nINFO   paperwork.backend.config       Scanner mode set to 'Color'\nERROR  paperwork.frontend.mainwindow  Warning: Unable to set scanner source: ['Auto', 'FlatBed', '.ADF.', '.Feeder.*'] are not a valid values for option source\nINFO   paperwork.backend.img.page     Scanner resolution: 300\nINFO   paperwork.backend.img.page     Scanner calibration: None\nINFO   paperwork.backend.img.page     Scan rotated of 0 degree\nINFO   paperwork.backend.img.page     Scan rotated of -90 degree\nINFO   paperwork.backend.img.page     Scan rotated of -180 degree\nINFO   paperwork.backend.img.page     Scan rotated of -270 degree\nINFO   paperwork.backend.img.page     Using Tesseract for OCR\nINFO   paperwork.backend.img.page     Running OCR on page orientation 0\nINFO   paperwork.backend.img.page     Running OCR on page orientation 1\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (1) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Page orientation 1 score: 0\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (0) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Page orientation 0 score: 0\nINFO   paperwork.backend.img.page     Running OCR on page orientation 2\nINFO   paperwork.backend.img.page     Running OCR on page orientation 3\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (2) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Page orientation 2 score: 0\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (3) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Page orientation 3 score: 0\nINFO   paperwork.backend.img.page     Best: 0.000000\nINFO   paperwork.backend.img.page     Extracting boxes ...\nINFO   paperwork.backend.img.page     Done\nINFO   paperwork.backend.img.page     Scan done\nINFO   paperwork.backend.docsearch    Updating modified doc: 20130819_1350_15\nINFO   paperwork.backend.docsearch    Fitting estimator with doc: 20130819_1350_15 \nINFO   paperwork.backend.docsearch    Index: Commiting changes and saving estimators\nINFO   paperwork.backend.docsearch    Adding document '20130819_1350_15' to the index\nWARNING paperwork.frontend.util.jobs   Job SingleScan:0 took 47362ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 1 elements displayed (1 additionnal)\nINFO   root                           Showing page 20130819_1350_15 p1\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' popped out of the list\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 0:20130819_1350_15 added\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\nINFO   paperwork.frontend.mainwindow  Will redo thumbnails: [(1, )]\nINFO   paperwork.frontend.mainwindow  Zoom: 0.165051\n/usr/lib/python2.7/dist-packages/gi/overrides/Gtk.py:511: PyGIDeprecationWarning: The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\n  warnings.warn(\"The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\", PyGIDeprecationWarning)\nINFO   paperwork.frontend.util.actions Action: [Delete page]\nINFO   paperwork.frontend.mainwindow  Deleting ...\nINFO   paperwork.backend.img.page     Destroying page: 20130819_1350_15 p1\nINFO   paperwork.backend.common.doc   Destroying doc: /home/beat/papers/20130819_1350_15\nINFO   root                           Deleting file /home/beat/papers/20130819_1350_15/paper.1.words\nINFO   root                           Deleting file /home/beat/papers/20130819_1350_15/paper.1.jpg\nINFO   root                           Deleting file /home/beat/papers/20130819_1350_15/paper.1.thumb.jpg\nINFO   paperwork.backend.common.doc   Done\nINFO   paperwork.frontend.mainwindow  Deleted\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 1:20130819_1350_15 deleted\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' popped out of the list\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\nINFO   paperwork.frontend.util.actions Action: [Show a page (selected from the page thumbnail list)]\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   root                           UI file used: /usr/share/paperwork/settingswindow/settingswindow.glade\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'equ'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'osd'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nWARNING: gnome-keyring:: C_Initialize called twice for same process\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 2527ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopped\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   root                           UI file used: /usr/share/paperwork/settingswindow/settingswindow.glade\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'equ'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'osd'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\n(paperwork:2247): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n.... (and so on each time opening config window)\n```\n. Thanks! No worries, no rush, this is free and libre open-source :-)\nStrangely the same works with the ScanSnap but not with the Epson. So not 100% sure you will be able to reproduce.\nTo upgrade the 0.2 installed from git to confirm you the fixes above, what do I do after the git pull ?\nTo install I did as you recommended:\n$ sudo apt-get install zlib1g-dev libjpeg-dev libblas-dev libatlas-dev liblapack-dev gfortran g++\n$ sudo pip install numpy scikit-learn\n$ git clone https://github.com/jflesch/paperwork.git\n$ cd paperwork\n$ git checkout unstable\n$ sudo python ./setup.py install\n. Ok, this time I have the nice new pop-up window: \"No scanner found (is your scanner turned on ?)\" : So at first it sounds good. But clicking \"Ok\", I have spinning mousepointer, and \"Scanning ...\" at bottom status.\nI can then still with spinning mousepointer click the Quit button.\nHere the errors reported in the terminal window between clicking Scan (with scanner off) and spinning wheel:\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nERROR  paperwork.frontend.mainwindow  No scanner found !\nERROR  paperwork.frontend.util.jobs   ===> Job SingleScan:0 raised an exception: <class 'pyinsane.rawapi.SaneException'>: <class 'pyinsane.rawapi.SaneStatus'> : Data is invalid (4)\nINFO   paperwork.frontend.util.dialog Showing popup !\nERROR  paperwork.frontend.util.jobs    0: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/jobs.py: L  159: _run\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init__.py: L 1259: do\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/backend/config.py: L  359: get_scanner_inst\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L  176: _get_options\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python2.7/dist-packages/pyinsane/abstract_th.py: L   53: wait\nERROR  paperwork.frontend.util.jobs   ---> Job SingleScan:0 was started by:\nERROR  paperwork.frontend.util.jobs    0: /usr/local/bin/paperwork: L    5: <module>\nERROR  paperwork.frontend.util.jobs    1: /usr/lib/python2.7/dist-packages/pkg_resources.py: L  505: run_script\nERROR  paperwork.frontend.util.jobs    2: /usr/lib/python2.7/dist-packages/pkg_resources.py: L 1245: run_script\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/EGG-INFO/scripts/paperwork: L    6: <module>\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/paperwork.py: L   98: main\nERROR  paperwork.frontend.util.jobs    5: /usr/lib/python2.7/dist-packages/gi/types.py: L  113: function\nERROR  paperwork.frontend.util.jobs    6: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/actions.py: L   58: on_button_clicked_cb\nERROR  paperwork.frontend.util.jobs    7: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/actions.py: L   55: __do\nERROR  paperwork.frontend.util.jobs    8: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/mainwindow/__init__.py: L 1913: do\nERROR  paperwork.frontend.util.jobs    9: /usr/local/lib/python2.7/dist-packages/paperwork-0.2_unstable-py2.7.egg/paperwork/frontend/util/jobs.py: L  228: schedule\n. The problem you need to reproduce is still there, this time I\u00a0get PaperWork to quit on second Settings press with the Epson scanner, and this in terminal:\n```\n$ paperwork \n (paperwork:5469): WARNING : Couldn't connect to accessibility bus: Failed to connect to socket /tmp/dbus-BEKIFYOiIi: Connection refused\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   root                           Will use locales from 'locale'\nINFO   paperwork.backend.config       Config file found: /home/beat/.config/paperwork.conf\nINFO   root                           UI file used: src/paperwork/frontend/mainwindow/appmenu.xml\nINFO   root                           UI file used: src/paperwork/frontend/mainwindow/mainwindow.glade\n(paperwork:5469): Gtk-WARNING **: Could not load image 'paperwork.svg': Failed to open file 'src/paperwork/frontend/mainwindow/paperwork.svg': No such file or directory\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (579, 705)\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Started\nINFO   paperwork.frontend.util.actions Action: [Refresh index]\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Started\nINFO   paperwork.backend.docsearch    Opening index dir '/home/beat/.local/share/paperwork/index' ...\nINFO   paperwork.backend.docsearch    Opening label_estimators file '/home/beat/.local/share/paperwork/label_estimators/label_estimators.jbl' ...\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.util.progressivelist List 'documents' : 3 elements displayed (3 additionnal)\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   root                           UI file used: src/paperwork/frontend/settingswindow/settingswindow.glade\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'equ'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'osd'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\n(paperwork:5469): Gtk-CRITICAL : gtk_list_store_get_value: assertion column < priv->n_columns' failed\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: g_object_set_property: assertionG_IS_VALUE (value)' failed\n  return info.invoke(*args, kwargs)\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: g_value_unset: assertion `G_IS_VALUE (value)' failed\n  return info.invoke(args, *kwargs)\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL : gtk_list_store_get_value: assertion column < priv->n_columns' failed\nINFO   paperwork.frontend.settingswindow Device found: [Epson RX420] -> [epson2:libusb:001:108]\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 2619ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Got value [['Epson RX420', 'epson2:libusb:001:108']]\nINFO   paperwork.frontend.settingswindow Select scanner: 0\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [epson2:libusb:001:108]\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: unable to set propertysensitive' of type gboolean' from value of typegchararray'\n  return info.invoke(*args, kwargs)\n/usr/lib/python2.7/dist-packages/gi/types.py:113: Warning: unable to set property xpad' of typeguint' from value of type `gchararray'\n  return info.invoke(args, *kwargs)\nINFO   paperwork.frontend.settingswindow Resolutions found: [100, 300, 600, 1200]\nINFO   paperwork.frontend.settingswindow Got value [['100', 100]]\nINFO   paperwork.frontend.settingswindow Got value [['300 (recommended)', 300]]\nINFO   paperwork.frontend.settingswindow Got value [['600', 600]]\nINFO   paperwork.frontend.settingswindow Got value [['1200', 1200]]\nINFO   paperwork.backend.config       Writing /home/beat/.config/paperwork.conf ... \nINFO   paperwork.backend.config       Done\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopped\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   root                           UI file used: src/paperwork/frontend/settingswindow/settingswindow.glade\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'equ'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'osd'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:5469): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nWARNING: gnome-keyring:: C_Initialize called twice for same process\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 2502ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopped\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nSegmentation fault (core dumped)\n```\n. ",
    "Finar": "Hi,\nThe problem appears again, but i don't know exactly when...\nThe run.log say : \n(paperwork:3298): Gtk-CRITICAL **: gtk_label_set_text: assertion `GTK_IS_LABEL (label)' failed\n(paperwork:3298): Gtk-CRITICAL **: gtk_label_set_text: assertion `GTK_IS_LABEL (label)' failed\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3348, in on_page_thumbnailing_start_cb\n    self.set_mouse_cursor(\"Busy\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\n(paperwork:3298): Gtk-CRITICAL **: gtk_label_set_text: assertion `GTK_IS_LABEL (label)' failed\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3357, in on_page_thumbnailing_end_cb\n    self.set_mouse_cursor(\"Normal\")\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3258, in set_mouse_cursor\n    assert(self.__busy_mouse_counter >= 0)\nAssertionError\nAgain, and again, and the paperwork process stay. Once the paperwork process is killed, no more output in the run.log\nIt seems that's the last log before the paperwork process become a sort of \"zombie\" is :\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 2346, in on_window_close_cb\n    self.do()\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 2337, in do\n    SimpleAction.do(self)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py\", line 48, in do\n    logger.info(\"Action: [%s]\" % (self.name))\n  File \"/usr/lib/python2.7/logging/init.py\", line 1149, in info\n    self._log(INFO, msg, args, kwargs)\n  File \"/usr/lib/python2.7/logging/init.py\", line 1267, in _log\n    record = self.makeRecord(self.name, level, fn, lno, msg, args, exc_info, func, extra)\n  File \"/usr/lib/python2.7/logging/init.py\", line 1241, in makeRecord\n    rv = LogRecord(name, level, fn, lno, msg, args, exc_info, func)\n  File \"/usr/lib/python2.7/logging/init.py\", line 284, in init**\n    self.threadName = threading.current_thread().name\n  File \"/usr/lib/python2.7/threading.py\", line 1160, in currentThread\n    return _active[_get_ident()]\nTypeError: Couldn't find conversion for foreign struct 'cairo.Context'\nINFO   paperwork.frontend.actions     Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.actions     Action: [Show a page (selected from the page thumbnail list)]\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.actions     Action: [Label selected]\n(paperwork:3298): Gtk-CRITICAL **: gtk_label_set_text: assertion `GTK_IS_LABEL (label)' failed\nIf it can help :)\n. ",
    "Eniotan": "Sorry for the output of \"scanimage -L\", only one of my 2 devices were connected.\n$python2.7 ./list_all.py\nTraceback (most recent call last):\n  File \"./list_all.py\", line 3, in <module>\n    import src.abstract as pyinsane\n  File \"/home/antoine/pyinsane/src/abstract.py\", line 1, in <module>\n    from PIL import Image\nImportError: No module named PIL\nIt seems I've a problem with Pyocr. I've tried with python2-pyocr and python2-pyocr-git installed via yaourt.\n```\n    $sudo pip install \"git+git://github.com/jflesch/paperwork.git#egg=paperwork\"\nDownloading/unpacking paperwork from git+git://github.com/jflesch/paperwork.git\n  Cloning git://github.com/jflesch/paperwork.git to /tmp/pip_build_root/paperwork\n  Running setup.py egg_info for package paperwork\n    Traceback (most recent call last):\n      File \"\", line 16, in \n      File \"/tmp/pip_build_root/paperwork/setup.py\", line 197\n        print \"Couldn't import Pyocr. Will assume OCR tool is not installed yet\"\n                                                                               ^\n    SyntaxError: invalid syntax\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\nFile \"\", line 16, in \nFile \"/tmp/pip_build_root/paperwork/setup.py\", line 197\nprint \"Couldn't import Pyocr. Will assume OCR tool is not installed yet\"\n\n                                                                       ^\n\nSyntaxError: invalid syntax\n\nCleaning up...\nCommand python setup.py egg_info failed with error code 1 in /tmp/pip_build_root/paperwork\nStoring complete log in /root/.pip/pip.log\n```\nAnd the pip.log:\n```\n$sudo cat /root/.pip/pip.log\n\n/usr/bin/pip run on Sun Aug 18 17:06:06 2013\nDownloading/unpacking paperwork from git+git://github.com/jflesch/paperwork.git\nCloning git://github.com/jflesch/paperwork.git to /tmp/pip_build_root/paperwork\nFound command 'git' at '/usr/bin/git'\n  Running command /usr/bin/git clone -q git://github.com/jflesch/paperwork.git /tmp/pip_build_root/paperwork\n  Running setup.py egg_info for package paperwork\nTraceback (most recent call last):\n\n  File \"<string>\", line 16, in <module>\n\n  File \"/tmp/pip_build_root/paperwork/setup.py\", line 197\n\n    print \"Couldn't import Pyocr. Will assume OCR tool is not installed yet\"\n\n                                                                           ^\n\nSyntaxError: invalid syntax\n\nComplete output from command python setup.py egg_info:\n\nTraceback (most recent call last):\n\nFile \"\", line 16, in \nFile \"/tmp/pip_build_root/paperwork/setup.py\", line 197\nprint \"Couldn't import Pyocr. Will assume OCR tool is not installed yet\"\n\n                                                                       ^\n\nSyntaxError: invalid syntax\n\nCleaning up...\nRemoving temporary dir /tmp/pip_build_root...\nCommand python setup.py egg_info failed with error code 1 in /tmp/pip_build_root/paperwork\nException information:\nTraceback (most recent call last):\n  File \"/usr/lib/python3.3/site-packages/pip/basecommand.py\", line 134, in main\n    status = self.run(options, args)\n  File \"/usr/lib/python3.3/site-packages/pip/commands/install.py\", line 236, in run\n    requirement_set.prepare_files(finder, force_root_egg_info=self.bundle, bundle=self.bundle)\n  File \"/usr/lib/python3.3/site-packages/pip/req.py\", line 1134, in prepare_files\n    req_to_install.run_egg_info()\n  File \"/usr/lib/python3.3/site-packages/pip/req.py\", line 259, in run_egg_info\n    command_desc='python setup.py egg_info')\n  File \"/usr/lib/python3.3/site-packages/pip/util.py\", line 670, in call_subprocess\n    % (command_desc, proc.returncode, cwd))\npip.exceptions.InstallationError: Command python setup.py egg_info failed with error code 1 in /tmp/pip_build_root/paperwork\n```\n. Installed python2-pip, and the pip-2.7 command is ok:\nsudo pip-2.7 install \"git+git://github.com/jflesch/paperwork.git#egg=paperwork\"\nBut same problem (output without gtk-warnings) :\n```\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   root                           Will use locales from '/usr/share/locale'\nINFO   paperwork.backend.config       Config file found: /home/antoine/.config/paperwork.conf\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow.glade\n(paperwork:11943): Gtk-WARNING **: Could not load image 'paperwork.svg': Impossible d'ouvrir le fichier \u00ab\u00a0/usr/share/paperwork/paperwork.svg\u00a0\u00bb\u00a0: Aucun fichier ou dossier de ce type\nFontconfig warning: \"/etc/fonts/conf.d/50-user.conf\", line 14: reading configurations from ~/.fonts.conf is deprecated.\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (565, 592)\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Started\nINFO   paperwork.frontend.jobs        [Scheduler Main] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Main] Started\nINFO   paperwork.frontend.actions     Action: [Refresh index]\nINFO   paperwork.backend.docsearch    Opening index dir '/home/antoine/.local/share/paperwork/index' ...\nINFO   paperwork.frontend.mainwindow  Image view port resized. (565, 592) --> (1219, 838)\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.mainwindow  List 'documents' : 2 elements displayed (2 additionnal)\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nINFO   paperwork.frontend.actions     Action: [Scan a single page]\nINFO   paperwork.backend.config       Scanner mode set to 'Color'\nERROR  paperwork.frontend.mainwindow  Warning: Unable to set scanner source: ['Auto', 'FlatBed', '.ADF.', '.Feeder.'] are not a valid values for option source\nWARNING paperwork.frontend.mainwindow  Failed to read the resolution set on the scanner:  : Device is busy. Try again later (3). Assuming 300\nINFO   paperwork.backend.img.page     Scanner resolution: 300\nINFO   paperwork.backend.img.page     Scanner calibration: None\nINFO   paperwork.backend.img.page     Scan rotated of 0 degree\nINFO   paperwork.backend.img.page     Scan rotated of -90 degree\nINFO   paperwork.backend.img.page     Scan rotated of -180 degree\nINFO   paperwork.backend.img.page     Scan rotated of -270 degree\nINFO   paperwork.backend.img.page     Using Tesseract for OCR\nINFO   paperwork.backend.img.page     Running OCR on page orientation 0\nINFO   paperwork.backend.img.page     Running OCR on page orientation 1\nINFO   paperwork.backend.img.page     Running OCR on page orientation 2\nINFO   paperwork.backend.img.page     Running OCR on page orientation 3\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (3) using method 'spell_checker' ...\nERROR  paperwork.backend.img.page     Scoring method 'spell_checker' on orientation 3 failed !\nERROR  paperwork.backend.img.page     Reason: Dictionary for language 'fr' could not be found\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (3) using method 'lucky_guess' ...\nINFO   paperwork.backend.img.page     Page orientation 3 score: 3\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (1) using method 'spell_checker' ...\nERROR  paperwork.backend.img.page     Scoring method 'spell_checker' on orientation 1 failed !\nERROR  paperwork.backend.img.page     Reason: Dictionary for language 'fr' could not be found\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (1) using method 'lucky_guess' ...\nINFO   paperwork.backend.img.page     Page orientation 1 score: 0\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (2) using method 'spell_checker' ...\nERROR  paperwork.backend.img.page     Scoring method 'spell_checker' on orientation 2 failed !\nERROR  paperwork.backend.img.page     Reason: Dictionary for language 'fr' could not be found\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (2) using method 'lucky_guess' ...\nINFO   paperwork.backend.img.page     Page orientation 2 score: 1\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (0) using method 'spell_checker' ...\nERROR  paperwork.backend.img.page     Scoring method 'spell_checker' on orientation 0 failed !\nERROR  paperwork.backend.img.page     Reason: Dictionary for language 'fr' could not be found\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (0) using method 'lucky_guess' ...\nINFO   paperwork.backend.img.page     Page orientation 0 score: 1\nINFO   paperwork.backend.img.page     Best: 3.000000\nINFO   paperwork.backend.img.page     Extracting boxes ...\nINFO   paperwork.backend.img.page     Done\nINFO   paperwork.backend.img.page     Scan done\nINFO   paperwork.backend.docsearch    Updating modified doc: 20130818_1816_12\nINFO   paperwork.backend.docsearch    Index: Commiting changes\nINFO   paperwork.backend.docsearch    Adding document '20130818_1816_12' to the index\nWARNING paperwork.frontend.jobs        Job SingleScan:0 took 30582ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.mainwindow  List 'pages' : 1 elements displayed (1 additionnal)\nINFO   root                           Showing page 20130818_1816_12 p1\nINFO   paperwork.frontend.actions     Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' popped out of the list\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 0:20130818_1816_12 added\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nINFO   paperwork.frontend.mainwindow  Will redo thumbnails: [(1, )]\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1219, 838) --> (1179, 838)\nINFO   paperwork.frontend.mainwindow  Zoom: 0.969572\n```\nAnd all dependancies seems to be ok:\n```\n$sudo pip-2.7 install \"git+git://github.com/jflesch/paperwork.git#egg=paperwork\"\nRequirement already satisfied (use --upgrade to upgrade): paperwork from git+git://github.com/jflesch/paperwork.git in /usr/lib/python2.7/site-packages\nRequirement already satisfied (use --upgrade to upgrade): nltk in /usr/lib/python2.7/site-packages (from paperwork)\nRequirement already satisfied (use --upgrade to upgrade): Pillow in /usr/lib/python2.7/site-packages (from paperwork)\nRequirement already satisfied (use --upgrade to upgrade): pycountry in /usr/lib/python2.7/site-packages (from paperwork)\nRequirement already satisfied (use --upgrade to upgrade): pyenchant in /usr/lib/python2.7/site-packages (from paperwork)\nRequirement already satisfied (use --upgrade to upgrade): Whoosh in /usr/lib/python2.7/site-packages (from paperwork)\nRequirement already satisfied (use --upgrade to upgrade): pyinsane>=1.1.0 in /usr/lib/python2.7/site-packages (from paperwork)\nRequirement already satisfied (use --upgrade to upgrade): pyocr in /usr/lib/python2.7/site-packages (from paperwork)\nRequirement already satisfied (use --upgrade to upgrade): PyYAML>=3.09 in /usr/lib/python2.7/site-packages (from nltk->paperwork)\nCleaning up...\n```\nArghh. I'm so impatient to work with paperwork since I've seen the article on linuxfr.org...\n. I now have new features with these commands, but no ability to define a larger zone to scan.\n```\n$paperwork\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   root                           Will use locales from '/usr/share/locale'\nINFO   paperwork.backend.config       Config file found: /home/antoine/.config/paperwork.conf\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow/appmenu.xml\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow/mainwindow.glade\n(paperwork:28324): Gtk-WARNING **: Could not load image 'paperwork.svg': Impossible d'ouvrir le fichier \u00ab\u00a0/usr/share/paperwork/mainwindow/paperwork.svg\u00a0\u00bb\u00a0: Aucun fichier ou dossier de ce type\nFontconfig warning: \"/etc/fonts/conf.d/50-user.conf\", line 14: reading configurations from ~/.fonts.conf is deprecated.\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (565, 657)\nINFO   paperwork.frontend.mainwindow  Image view port resized. (565, 657) --> (565, 592)\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Started\nINFO   paperwork.frontend.util.actions Action: [Refresh index]\nINFO   paperwork.backend.docsearch    Opening index dir '/home/antoine/.local/share/paperwork/index' ...\nINFO   paperwork.backend.docsearch    Opening label_estimators file '/home/antoine/.local/share/paperwork/label_estimators/label_estimators.jbl' ...\nINFO   paperwork.frontend.mainwindow  Image view port resized. (565, 592) --> (31, 838)\nINFO   paperwork.frontend.mainwindow  Image view port resized. (31, 838) --> (1219, 838)\nINFO   paperwork.frontend.util.progressivelist List 'documents' : 4 elements displayed (4 additionnal)\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nINFO   paperwork.backend.config       Scanner mode set to 'Color'\nERROR  paperwork.frontend.mainwindow  Warning: Unable to set scanner source: ['Auto', 'FlatBed', '.ADF.', '.Feeder.'] are not a valid values for option source\nWARNING paperwork.frontend.mainwindow  Failed to read the resolution set on the scanner:  : Device is busy. Try again later (3). Assuming 300\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   root                           UI file used: /usr/share/paperwork/settingswindow/settingswindow.glade\n(paperwork:28324): Gtk-CRITICAL : gtk_list_store_get_value: assertion column < priv->n_columns' failed\n/usr/lib/python2.7/site-packages/gi/types.py:113: Warning: g_object_set_property: assertionG_IS_VALUE (value)' failed\n  return info.invoke(*args, kwargs)\n/usr/lib/python2.7/site-packages/gi/types.py:113: Warning: g_value_unset: assertion `G_IS_VALUE (value)' failed\n  return info.invoke(args, *kwargs)\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nINFO   paperwork.backend.img.page     Scanner resolution: 300\nINFO   paperwork.backend.img.page     Scanner calibration: None\nINFO   paperwork.backend.img.page     Scan rotated of 0 degree\nINFO   paperwork.backend.img.page     Scan rotated of -90 degree\nINFO   paperwork.backend.img.page     Scan rotated of -180 degree\nINFO   paperwork.backend.img.page     Scan rotated of -270 degree\nINFO   paperwork.backend.img.page     Using Tesseract for OCR\nINFO   paperwork.backend.img.page     Running OCR on page orientation 0\nINFO   paperwork.backend.img.page     Running OCR on page orientation 1\nINFO   paperwork.backend.img.page     Running OCR on page orientation 2\nINFO   paperwork.backend.img.page     Running OCR on page orientation 3\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (1) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Page orientation 1 score: -50\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (0) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (3) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (2) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Page orientation 0 score: 40\nINFO   paperwork.backend.img.page     Page orientation 3 score: 510\nINFO   paperwork.backend.img.page     Page orientation 2 score: -55\nINFO   paperwork.backend.img.page     Best: 510.000000\nINFO   paperwork.backend.img.page     Extracting boxes ...\nINFO   paperwork.backend.img.page     Done\nINFO   paperwork.backend.img.page     Scan done\nINFO   paperwork.backend.docsearch    Updating modified doc: 20130818_1901_35\nINFO   paperwork.backend.docsearch    Fitting estimator with doc: 20130818_1901_35 \nINFO   paperwork.backend.docsearch    Index: Commiting changes and saving estimators\nINFO   paperwork.backend.docsearch    Adding document '20130818_1901_35' to the index\nWARNING paperwork.frontend.util.jobs   Job SingleScan:0 took 31464ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 1 elements displayed (1 additionnal)\nINFO   root                           Showing page 20130818_1901_35 p1\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' popped out of the list\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 0:20130818_1901_35 added\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nINFO   paperwork.frontend.mainwindow  Will redo thumbnails: [(1, )]\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1219, 838) --> (1179, 838)\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopped\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  Showing doc 20130818_1901_35\nINFO   paperwork.frontend.util.actions Action: [Show a page (selected from the page thumbnail list)]\nINFO   paperwork.frontend.settingswindow Device found: [Noname Hercules Dualpix Exchange] -> [v4l:/dev/video0]\nINFO   paperwork.frontend.settingswindow Device found: [Canon CanoScan N670U/N676U/LiDE20] -> [plustek:libusb:005:012]\nINFO   paperwork.frontend.settingswindow Got value [['Noname Hercules Dualpix Exchange', 'v4l:/dev/video0']]\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 6191ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Got value [['Canon CanoScan N670U/N676U/LiDE20', 'plustek:libusb:005:012']]\nINFO   paperwork.frontend.mainwindow  Zoom: 0.969572\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  Showing doc 20130818_1901_35\n/usr/lib/python2.7/site-packages/gi/overrides/Gtk.py:511: PyGIDeprecationWarning: The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\n  warnings.warn(\"The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\", PyGIDeprecationWarning)\nINFO   paperwork.frontend.util.actions Action: [Delete document]\nINFO   paperwork.frontend.mainwindow  Deleting ...\nINFO   paperwork.backend.common.doc   Destroying doc: /home/antoine/papers/20130818_1901_35\nINFO   root                           Deleting file /home/antoine/papers/20130818_1901_35/paper.1.jpg\nINFO   root                           Deleting file /home/antoine/papers/20130818_1901_35/paper.1.thumb.jpg\nINFO   root                           Deleting file /home/antoine/papers/20130818_1901_35/paper.1.words\nINFO   paperwork.backend.common.doc   Done\nINFO   paperwork.backend.docsearch    Removing doc from the index: 20130818_1901_35\nINFO   paperwork.backend.docsearch    Index: Commiting changes and saving estimators\nINFO   paperwork.backend.docsearch    Index: Reloading ...\nINFO   paperwork.frontend.mainwindow  Deleted\nINFO   paperwork.frontend.util.actions Action: [New document]\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  Showing doc 20130818_1902_14\nINFO   paperwork.frontend.util.actions Action: [Show a page (selected from the page thumbnail list)]\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 1:20130818_1901_35 deleted\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' popped out of the list\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1179, 838) --> (1219, 838)\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  Showing doc 20130818_1858_12\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 1 elements displayed (1 additionnal)\nINFO   root                           Showing page 20130818_1858_12 p1\nINFO   paperwork.frontend.mainwindow  Zoom: 1.002467\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1219, 838) --> (1179, 838)\nINFO   paperwork.frontend.mainwindow  Zoom: 0.969572\n/usr/lib/python2.7/site-packages/gi/overrides/Gtk.py:511: PyGIDeprecationWarning: The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\n  warnings.warn(\"The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\", PyGIDeprecationWarning)\nINFO   paperwork.frontend.util.actions Action: [Delete document]\nINFO   paperwork.frontend.mainwindow  Deleting ...\nINFO   paperwork.backend.common.doc   Destroying doc: /home/antoine/papers/20130818_1858_12\nINFO   root                           Deleting file /home/antoine/papers/20130818_1858_12/paper.1.jpg\nINFO   root                           Deleting file /home/antoine/papers/20130818_1858_12/paper.1.thumb.jpg\nINFO   root                           Deleting file /home/antoine/papers/20130818_1858_12/paper.1.words\nINFO   paperwork.backend.common.doc   Done\nINFO   paperwork.backend.docsearch    Removing doc from the index: 20130818_1858_12\nINFO   paperwork.backend.docsearch    Index: Commiting changes and saving estimators\nINFO   paperwork.backend.docsearch    Index: Reloading ...\nINFO   paperwork.frontend.mainwindow  Deleted\nINFO   paperwork.frontend.util.actions Action: [New document]\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  Showing doc 20130818_1902_27\nINFO   paperwork.frontend.util.actions Action: [Show a page (selected from the page thumbnail list)]\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 1:20130818_1858_12 deleted\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' popped out of the list\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1179, 838) --> (1219, 838)\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  Showing doc 20130818_1816_12\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 1 elements displayed (1 additionnal)\nINFO   root                           Showing page 20130818_1816_12 p1\nINFO   paperwork.frontend.mainwindow  Zoom: 1.002467\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1219, 838) --> (1179, 838)\nINFO   paperwork.frontend.mainwindow  Zoom: 0.969572\n/usr/lib/python2.7/site-packages/gi/overrides/Gtk.py:511: PyGIDeprecationWarning: The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\n  warnings.warn(\"The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\", PyGIDeprecationWarning)\nINFO   paperwork.frontend.util.actions Action: [Delete document]\nINFO   paperwork.frontend.mainwindow  Deleting ...\nINFO   paperwork.backend.common.doc   Destroying doc: /home/antoine/papers/20130818_1816_12\nINFO   root                           Deleting file /home/antoine/papers/20130818_1816_12/paper.1.jpg\nINFO   root                           Deleting file /home/antoine/papers/20130818_1816_12/paper.1.thumb.jpg\nINFO   root                           Deleting file /home/antoine/papers/20130818_1816_12/paper.1.words\nINFO   paperwork.backend.common.doc   Done\nINFO   paperwork.backend.docsearch    Removing doc from the index: 20130818_1816_12\nINFO   paperwork.backend.docsearch    Index: Commiting changes and saving estimators\nINFO   paperwork.backend.docsearch    Index: Reloading ...\nINFO   paperwork.frontend.mainwindow  Deleted\nINFO   paperwork.frontend.util.actions Action: [New document]\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  Showing doc 20130818_1902_30\nINFO   paperwork.frontend.util.actions Action: [Show a page (selected from the page thumbnail list)]\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 1:20130818_1816_12 deleted\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' popped out of the list\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\n BUG \nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1179, 838) --> (1219, 838)\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  Showing doc 20130818_1809_17\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 1 elements displayed (1 additionnal)\nINFO   root                           Showing page 20130818_1809_17 p1\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1219, 838) --> (1179, 838)\nINFO   paperwork.frontend.mainwindow  Zoom: 1.455556\n/usr/lib/python2.7/site-packages/gi/overrides/Gtk.py:511: PyGIDeprecationWarning: The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\n  warnings.warn(\"The use of the keyword type as a parameter of the Gtk.MessageDialog constructor has been depricated. Please use message_type instead.\", PyGIDeprecationWarning)\nINFO   paperwork.frontend.util.actions Action: [Delete document]\nINFO   paperwork.frontend.mainwindow  Deleting ...\nINFO   paperwork.backend.common.doc   Destroying doc: /home/antoine/papers/20130818_1809_17\nINFO   root                           Deleting file /home/antoine/papers/20130818_1809_17/paper.1.jpg\nINFO   root                           Deleting file /home/antoine/papers/20130818_1809_17/paper.1.thumb.jpg\nINFO   root                           Deleting file /home/antoine/papers/20130818_1809_17/paper.1.words\nINFO   paperwork.backend.common.doc   Done\nINFO   paperwork.backend.docsearch    Removing doc from the index: 20130818_1809_17\nINFO   paperwork.backend.docsearch    Index: Commiting changes and saving estimators\nINFO   paperwork.backend.docsearch    Index: Reloading ...\nINFO   paperwork.frontend.mainwindow  Deleted\nINFO   paperwork.frontend.util.actions Action: [New document]\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  Showing doc 20130818_1902_33\nINFO   paperwork.frontend.util.actions Action: [Show a page (selected from the page thumbnail list)]\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 1:20130818_1809_17 deleted\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' popped out of the list\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1179, 838) --> (1219, 838)\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   root                           UI file used: /usr/share/paperwork/settingswindow/settingswindow.glade\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL **: gtk_list_store_get_value: assertion `column < priv->n_columns' failed\n(paperwork:28324): Gtk-CRITICAL : gtk_list_store_get_value: assertion column < priv->n_columns' failed\nINFO   paperwork.frontend.settingswindow Device found: [Noname Hercules Dualpix Exchange] -> [v4l:/dev/video0]\nINFO   paperwork.frontend.settingswindow Device found: [Canon CanoScan N670U/N676U/LiDE20] -> [plustek:libusb:005:012]\nINFO   paperwork.frontend.settingswindow Got value [['Noname Hercules Dualpix Exchange', 'v4l:/dev/video0']]\nINFO   paperwork.frontend.settingswindow Got value [['Canon CanoScan N670U/N676U/LiDE20', 'plustek:libusb:005:012']]\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 6399ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Select scanner: 1\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [plustek:libusb:005:012]\n/usr/lib/python2.7/site-packages/gi/types.py:113: Warning: unable to set propertysensitive' of type gboolean' from value of typegchararray'\n  return info.invoke(*args, kwargs)\n/usr/lib/python2.7/site-packages/gi/types.py:113: Warning: unable to set property xpad' of typeguint' from value of type `gchararray'\n  return info.invoke(args, kwargs)\nINFO   paperwork.frontend.settingswindow Resolutions found: (50, 1200, 0)\nINFO   paperwork.frontend.settingswindow Got value [['50', 50]]\nINFO   paperwork.frontend.settingswindow Got value [['100', 100]]\nINFO   paperwork.frontend.settingswindow Got value [['150', 150]]\nINFO   paperwork.frontend.settingswindow Got value [['200', 200]]\nINFO   paperwork.frontend.settingswindow Got value [['250', 250]]\nINFO   paperwork.frontend.settingswindow Got value [['300 (recommand\\xc3\\xa9e)', 300]]\nINFO   paperwork.frontend.settingswindow Got value [['350', 350]]\nINFO   paperwork.frontend.settingswindow Got value [['400', 400]]\nINFO   paperwork.frontend.settingswindow Got value [['450', 450]]\nINFO   paperwork.frontend.settingswindow Got value [['500', 500]]\nINFO   paperwork.frontend.settingswindow Got value [['550', 550]]\nINFO   paperwork.frontend.settingswindow Got value [['600', 600]]\nINFO   paperwork.frontend.settingswindow Got value [['650', 650]]\nINFO   paperwork.frontend.settingswindow Got value [['700', 700]]\nINFO   paperwork.frontend.settingswindow Got value [['750', 750]]\nINFO   paperwork.frontend.settingswindow Got value [['800', 800]]\nINFO   paperwork.frontend.settingswindow Got value [['850', 850]]\nINFO   paperwork.frontend.settingswindow Got value [['900', 900]]\nINFO   paperwork.frontend.settingswindow Got value [['950', 950]]\nINFO   paperwork.frontend.settingswindow Got value [['1000', 1000]]\nINFO   paperwork.frontend.settingswindow Got value [['1050', 1050]]\nINFO   paperwork.frontend.settingswindow Got value [['1100', 1100]]\nINFO   paperwork.frontend.settingswindow Got value [['1150', 1150]]\nINFO   paperwork.frontend.settingswindow Got value [['1200', 1200]]\nINFO   paperwork.frontend.settingswindow Will do the calibration scan with a resolution of 200\nERROR  paperwork.frontend.settingswindow Warning: Unable to set scanner source: ['Auto', 'FlatBed', '.ADF.', '.Feeder.'] are not a valid values for option source\nINFO   paperwork.frontend.settingswindow Scanner mode set to 'Color'\nINFO   paperwork.frontend.settingswindow Calibration: Got an image of size '(810, 600)'\nINFO   paperwork.frontend.settingswindow Calibration: Will resize it to: ((332, 245)) (ratio: 0.409877)\nWARNING paperwork.frontend.util.jobs   Job CalibrationScan:0 took 23569ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopped\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nINFO   paperwork.backend.config       Scanner mode set to 'Color'\nERROR  paperwork.frontend.mainwindow  Warning: Unable to set scanner source: ['Auto', 'FlatBed', '.ADF.', '.Feeder.*'] are not a valid values for option source\nWARNING paperwork.frontend.mainwindow  Failed to read the resolution set on the scanner:  : Device is busy. Try again later (3). Assuming 300\nINFO   paperwork.backend.img.page     Scanner resolution: 300\nINFO   paperwork.backend.img.page     Scanner calibration: None\nINFO   paperwork.backend.img.page     Scan rotated of 0 degree\nINFO   paperwork.backend.img.page     Scan rotated of -90 degree\nINFO   paperwork.backend.img.page     Scan rotated of -180 degree\nINFO   paperwork.backend.img.page     Scan rotated of -270 degree\nINFO   paperwork.backend.img.page     Using Tesseract for OCR\nINFO   paperwork.backend.img.page     Running OCR on page orientation 0\nINFO   paperwork.backend.img.page     Running OCR on page orientation 1\nINFO   paperwork.backend.img.page     Running OCR on page orientation 2\nINFO   paperwork.backend.img.page     Running OCR on page orientation 3\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (3) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Page orientation 3 score: 515\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (1) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (2) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Evaluating score of page orientation (0) using method 'spell_checker' ...\nINFO   paperwork.backend.img.page     Page orientation 1 score: -70\nINFO   paperwork.backend.img.page     Page orientation 2 score: -60\nINFO   paperwork.backend.img.page     Page orientation 0 score: 30\nINFO   paperwork.backend.img.page     Best: 515.000000\nINFO   paperwork.backend.img.page     Extracting boxes ...\nINFO   paperwork.backend.img.page     Done\nINFO   paperwork.backend.img.page     Scan done\nINFO   paperwork.backend.docsearch    Updating modified doc: 20130818_1902_33\nINFO   paperwork.backend.docsearch    Fitting estimator with doc: 20130818_1902_33 \nINFO   paperwork.backend.docsearch    Index: Commiting changes and saving estimators\nINFO   paperwork.backend.docsearch    Adding document '20130818_1902_33' to the index\nWARNING paperwork.frontend.util.jobs   Job SingleScan:1 took 29897ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 1 elements displayed (1 additionnal)\nINFO   root                           Showing page 20130818_1902_33 p1\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' popped out of the list\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 0:20130818_1902_33 added\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\nINFO   paperwork.frontend.mainwindow  Will redo thumbnails: [(1, )]\nINFO   paperwork.frontend.mainwindow  Zoom: 1.002467\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1219, 838) --> (1179, 838)\nINFO   paperwork.frontend.mainwindow  Zoom: 0.969572\nINFO   paperwork.frontend.util.actions Action: [Quit (real)]\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Stopped\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Stopped\nINFO   paperwork.backend.config       Writing /home/antoine/.config/paperwork.conf ... \nINFO   paperwork.backend.config       Done\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.util.actions Action: [Show a page (selected from the page thumbnail list)]\nINFO   root                           Showing page Dummy page\nINFO   paperwork.paperwork            Good bye\n```\n. No, the scan resulting of calibration isn't correct : only the upper left corner is scanned.\n\n. cd ~/pyinsane\npython2.7 ./list_all.py \n```\nScanner 'v4l:/dev/video0' (Noname, Hercules Dualpix Exchange, virtual device)\n  Option: hue\n    Title: Hue\n    Desc: Controls the \"hue\" (blue-level) of the acquired image.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 128\n  Option: brightness\n    Title: Brightness\n    Desc: Controls the brightness of the acquired image.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 128\n  Option: color\n    Title: Picture color\n    Desc: Sets the picture's color.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 108\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Integer (1)\n    Unit:  : Pixel (1)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 360, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Integer (1)\n    Unit:  : Pixel (1)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 480, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Integer (1)\n    Unit:  : Pixel (1)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (120, 480, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Integer (1)\n    Unit:  : Pixel (1)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (160, 640, 1)\n    Value: Failed to get the value:  : Data is invalid (4)\n  Option: contrast\n    Title: Contrast\n    Desc: Controls the contrast of the acquired image.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 128\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Gray', 'Color']\n    Value: Gray\n  Option: white-level\n    Title: White level\n    Desc: Selects what radiance level should be considered \"white\".\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 16\n  Option: channel\n    Title: Channel\n    Desc: Selects the channel of the v4l device (e.g. television or video-in.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Camera 1']\n    Value: Failed to get the value:  : Data is invalid (4)\nScanner 'plustek:libusb:005:012' (Canon, CanoScan N670U/N676U/LiDE20, flatbed scanner)\n  Option: red-offset\n    Title: Red offset\n    Desc: Red offset value of the AFE\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-1, 63, 1)\n    Value: -1\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19464192, 0)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14090240, 0)\n    Value: 0\n  Option: blue-gain\n    Title: Blue gain\n    Desc: Blue gain value of the AFE\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-1, 63, 1)\n    Value: -1\n  Option: button 0\n    Title: Scanner button 0\n    Desc: This option reflects the status of the scanner buttons.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: button 4\n    Title: Scanner button 4\n    Desc: This option reflects the status of the scanner buttons.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: calibration-cache\n    Title: Calibration data cache\n    Desc: Enables or disables calibration data cache.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: lamp-off-during-dcal\n    Title: Lamp off during dark calibration\n    Desc: Always switches lamp off when doing dark calibration.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: button 2\n    Title: Scanner button 2\n    Desc: This option reflects the status of the scanner buttons.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: button 3\n    Title: Scanner button 3\n    Desc: This option reflects the status of the scanner buttons.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: lampoff-time\n    Title: Lampoff-time\n    Desc: Lampoff-time in seconds.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 999, 1)\n    Value: 300\n  Option: lamp-off-at-exit\n    Title: Lamp off at exit\n    Desc: Turn off lamp when program exits\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 1\n  Option: green-gain\n    Title: Green gain\n    Desc: Green gain value of the AFE\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-1, 63, 1)\n    Value: -1\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 13\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Normal', 'Transparency', 'Negative']\n    Value: Normal\n  Option: redlamp-off\n    Title: Red lamp off\n    Desc: Defines red lamp off parameter\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-1, 16363, 1)\n    Value: -1\n  Option: warmup-time\n    Title: Warmup-time\n    Desc: Warmup-time in seconds.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-1, 999, 1)\n    Value: 0\n  Option: preview\n    Title: Preview\n    Desc: Request a preview-quality scan.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: contrast\n    Title: Contrast\n    Desc: Controls the contrast of the acquired image.\n    Type:  : Fixed (2)\n    Unit:  : Percent (5)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-6553600, 6553600, 65536)\n    Value: 0\n  Option: gamma-table\n    Title: Image intensity\n    Desc: Gamma-correction table.  In color mode this option equally affects the red, green, and blue channels simultaneously (i.e., it is an intensity gamma table).\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 16384\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 0\n  Option: custom-gamma\n    Title: Use custom gamma table\n    Desc: Determines whether a builtin or a custom gamma-table should be used.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: green-gamma-table\n    Title: Green intensity\n    Desc: Gamma-correction table for the green band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 16384\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 0\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19464192, 0)\n    Value: 4994498\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14090240, 0)\n    Value: 6750208\n  Option: red-gain\n    Title: Red gain\n    Desc: Red gain value of the AFE\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-1, 63, 1)\n    Value: -1\n  Option: greenlamp-off\n    Title: Green lamp off\n    Desc: Defines green lamp off parameter\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-1, 16363, 1)\n    Value: -1\n  Option: blue-offset\n    Title: Blue offset\n    Desc: Blue offset value of the AFE\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-1, 63, 1)\n    Value: -1\n  Option: blue-gamma-table\n    Title: Blue intensity\n    Desc: Gamma-correction table for the blue band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 16384\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 0\n  Option: brightness\n    Title: Brightness\n    Desc: Controls the brightness of the acquired image.\n    Type:  : Fixed (2)\n    Unit:  : Percent (5)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-6553600, 6553600, 65536)\n    Value: 0\n  Option: lamp-switch\n    Title: Lampswitch\n    Desc: Manually switching the lamp(s).\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: speedup-switch\n    Title: Speedup sensor\n    Desc: Enables or disables speeding up sensor movement.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 1\n  Option: depth\n    Title: Bit depth\n    Desc: Number of bits per sample, typical values are 1 for \"line-art\" and 8 for multibit scans.\n    Type:  : Integer (1)\n    Unit:  : Bit (2)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [8, 16]\n    Value: 8\n  Option: green-offset\n    Title: Green offset\n    Desc: Green offset value of the AFE\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-1, 63, 1)\n    Value: -1\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Lineart', 'Gray', 'Color']\n    Value: Color\n  Option: bluelamp-off\n    Title: Blue lamp off\n    Desc: Defines blue lamp off parameter\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-1, 16363, 1)\n    Value: -1\n  Option: red-gamma-table\n    Title: Red intensity\n    Desc: Gamma-correction table for the red band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 16384\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 0\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (50, 1200, 0)\n    Value: 50\n  Option: button 1\n    Title: Scanner button 1\n    Desc: This option reflects the status of the scanner buttons.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n```\n. ",
    "vmeurisse": "After more testing, I found that the issue is linked to the oxygen-gtk theme. Locally applying the patch in kde bug 321284 solves it.\n. I tried to remove the index folder and restart paperwork but it didn't change much.\nI took some figures of memory (RES column of htop) and disk usage (du -sh ~/.local/share/paperwork/index) during the index creation:\n| phase | Disk usage | Memory usage |\n| --- | --- | --- |\n| Indexing part 1 | 12k | 400M |\n| Auto commit | 12k to 20M | up to 6G |\n| Indexing part 2 | 20M | 1.4G |\n| final commit | 20M to 1.1G | up to 6G |\n| final state | 1.1G | 650M |\nFor about the first half of the documents, the folder is almost empty at which point there is something like an auto-commit: memory usage is going crazy and content start to be written on disk while paperwork is writing nothing in the console. Then the indexing continue (Indexing part 2 in the table) until the final commit from paperwork.\nFor now, I moved the index folder to my SSD to speed up things but it is still far from perfect.\n. I'm using debian testing 64bits with whoosh 2.5.2 coming from pip.\nI just tried the different versions provided in debian repos:\n- 2.3.2: final index size is 2.2G\n- 2.5.1: final index size is 1.1G\n- 2.5.2: final index size is 1.1G\n. Looking at the output of your scripts/stats.py the only area where my database is bigger is Maximum number of pages in one document.\nRemoving this document and restarting paperwork makes the index go from 1.1G to 7M. Reading this document  make the index grow again. For your worries about whoosh optimizing the index by itself, I didn't had to delete the index file to get the size gain. I've just stopped paperwork, moved the folder outside of ~/papers and restarted paperwork.\nI also tested starting paperwork with only this document and I get back the 1.1G index. Here are the stats for this document alone:\n$ ./scripts/stats.py \n[...]\nStatistics\n==========\nTotal number of documents: 1\nTotal number of pages: 25\nTotal number of words: 179684\nTotal number of unique words: 4261\n===\nMaximum number of pages in one document: 25\nMaximum word length: 22\nAverage word length: 4.474760\nAverage number of words per page: 1606.200000\nAverage number of words per document: 40155.000000\nAverage number of pages per document: 25.000000\nAverage number of unique words per document: 4261.000000\n(By the way, the script is outputting a wrong value for  Total number of words. It should print nb_words instead of total_word_len) \n. I tried messing with the document by removing pages from the end (rm *.25.*, rm *.24.*, ...). Here are the size of the resulting index (the document is still alone in the DB).\n| number of pages | Index size |\n| --- | --- |\n| 25 | 1.1G |\n| 24 | 520M |\n| 23 | 261M |\n| 22 | 131M |\n| 21 | 66M |\n| 20 | 34M |\n| 19 | 18M |\n| 18 | 9.0M |\n| 17 | 5.0M |\n| 16 | 2.9M |\n| 15 | 1.9M |\nI also tried to duplicate the document. Having it 3 times doesn't change the index size.\nMy last experiment was to split the document in two. One document for the first 15 pages and a second one with the 10 remaining ones. The total index size is 2.2M.\nLooking at the .words files, is see nothing alarming\n$ du -hc *.words\n36K paper.10.words\n40K paper.11.words\n36K paper.12.words\n36K paper.13.words\n36K paper.14.words\n36K paper.15.words\n28K paper.16.words\n40K paper.17.words\n36K paper.18.words\n44K paper.19.words\n24K paper.1.words\n36K paper.20.words\n36K paper.21.words\n36K paper.22.words\n20K paper.23.words\n24K paper.24.words\n16K paper.25.words\n32K paper.2.words\n32K paper.3.words\n32K paper.4.words\n32K paper.5.words\n36K paper.6.words\n32K paper.7.words\n36K paper.8.words\n20K paper.9.words\n812K    total\nA modified stats.py gives me a total of 51587 words.\n. You can find a document that create an index of the same size here. It is composed of 26 times the same page.\nI've put blank jpg to save space. Tell me if you need the original. It's just a bunch of legal text anyway.\n. I just updated and my index is back at 8MB. It is much better.\nThank you for the fix\n. ",
    "nodiscc": "\nhttps://github.com/jflesch/paperwork/wiki/FAQ#how-to-import-many-pdf-documents-in-one-shot-\n\nNote that this only works with directories containing PDF documents, and will not process other files in the directory. Trying to import a directory containing only JPG files returns Ne sait pas comment importer 'ASSURANCE'. D\u00e9sol\u00e9.\nI have a lot of previously scanned documents in JPG format (that's the default out format for simple-scan, a very widespread scanning tool for Linux desktops) and OCRing them in Paperwork works fine, but I have to select them one by one. @jflesch Do you think the importer can be fixed so that it also imports JPG files?\nSomewhere near https://github.com/jflesch/paperwork/blob/master/src/paperwork/backend/docimport.py#L95?\n. Fixed by properly reinstalling paperwork, see https://github.com/jflesch/paperwork/issues/460\n. Thank you. I Had another paperwork installed a while ago through pip. After removing it and retrying to run paperwork I had ImportError: No module named simplebayes -> sudo pypi-install simplebayes, then retried:\n$ paperwork\n[...]\nINFO   paperwork.backend.config       Reloading /home/test/.config/paperwork.conf ...\nERROR  paperwork.frontend.util        Can't find resource file 'mainwindow/appmenu.xml'. Aborting\nINFO   paperwork.paperwork            Good bye\nTraceback (most recent call last):\n  File \"/usr/bin/paperwork\", line 6, in <module>\n    main()\n  File \"/usr/lib/python2.7/dist-packages/paperwork/paperwork.py\", line 112, in main\n    main_win = MainWindow(config)\n  File \"/usr/lib/python2.7/dist-packages/paperwork/frontend/mainwindow/__init__.py\", line 1869, in __init__\n    self.__advanced_app_menu = self.__init_app_menu(self.app)\n  File \"/usr/lib/python2.7/dist-packages/paperwork/frontend/mainwindow/__init__.py\", line 2353, in __init_app_menu\n    app_menu = load_uifile(os.path.join(\"mainwindow\", \"appmenu.xml\"))\n  File \"/usr/lib/python2.7/dist-packages/paperwork/frontend/util/__init__.py\", line 74, in load_uifile\n    raise Exception(\"Can't find resource file '%s'. Aborting\" % filename)\nException: Can't find resource file 'mainwindow/appmenu.xml'. Aborting\n. Ewww no I had not. After redoing sudo pypi-install paperwork the problem is fixed (as well as https://github.com/jflesch/paperwork/issues/459). Wish I had known about pypi-install earlier...\nMerci! \n. Thank you. I have reinstalled paperwork from scratch using the most recent install instructions (https://github.com/jflesch/paperwork/commit/6e8fdb7ad4106879e2c5fe2b43d981244b382a24) and no longer have this problem. Instead I have the problem described at #577. Thank you for responding so quickly. I will try the new installation instructions and report back. For your information:\n```\n$ which pypi-install\n/usr/bin/pypi-install\n$ dpkg -S /usr/bin/pypi-install\npython-stdeb: /usr/bin/pypi-install\n$ apt-cache policy python3-pip python-pip python-stdeb\npython3-pip:\n  Installed: 9.0.1-2\n  Candidate: 9.0.1-2\n  Version table:\n  9.0.1-2 500\n        500 http://ftp.fr.debian.org/debian stretch/main amd64 Packages\n        500 http://ftp.fr.debian.org/debian stretch/main i386 Packages\n        200 http://ftp.fr.debian.org/debian unstable/main amd64 Packages\n        200 http://ftp.fr.debian.org/debian unstable/main i386 Packages\n        100 /var/lib/dpkg/status\npython-pip:\n  Installed: 9.0.1-2\n  Candidate: 9.0.1-2\n  Version table:\n  9.0.1-2 500\n        500 http://ftp.fr.debian.org/debian stretch/main amd64 Packages\n        500 http://ftp.fr.debian.org/debian stretch/main i386 Packages\n        200 http://ftp.fr.debian.org/debian unstable/main amd64 Packages\n        200 http://ftp.fr.debian.org/debian unstable/main i386 Packages\n        100 /var/lib/dpkg/status\npython-stdeb:\n  Installed: 0.8.5-1\n  Candidate: 0.8.5-1\n  Version table:\n *** 0.8.5-1 500\n        500 http://ftp.fr.debian.org/debian stretch/main amd64 Packages\n        500 http://ftp.fr.debian.org/debian stretch/main i386 Packages\n        200 http://ftp.fr.debian.org/debian unstable/main amd64 Packages\n        200 http://ftp.fr.debian.org/debian unstable/main i386 Packages\n        100 /var/lib/dpkg/status\n```. Sorry for the delay. I will investigate as soon as possible.. as the name indicates the file is a (long) diff, only made of additions, no code deletions: https://gist.github.com/nodiscc/1d89b295b314d02d774739a35d9fae8c\nI've tried finding cached versions of pyinsane (using locate, find) on my filesystem but found no results. Can this be a bug in stdeb?\n. I don't have this problem anymore with the latest version and installation instructions from https://github.com/openpaperwork/paperwork/blob/unstable/doc/install.debian.markdown.\nThanks!. This method worked for me as described in the docs:\nsudo aptitude install python3-pip python3-setuptools python3-dev python3-pil libenchant-dev python3-whoosh && sudo pip3 install paperwork && paperwork-shell chkdeps paperwork_backend && paperwork-shell chkdeps paperwork. I think trying to install through pipy-install is what originally caused the error.. Thanks; as you said importing a JPG to a blank document worked perfectly.\nHowever it will take me a very long time to import all my jpg scans one by one (~500 files) - I will open a new issue for multiple JPG files import :). @jflesch Sorry for the noise :) Pretty damn impressive software. I'll wait for 1.2 to be released. I think you could already push the PDF/lyx docs to the website (it was not obvious where to find them, had to use Github code search).\nWhat is the upgrade path to 1.2? Do I have to run the process from https://github.com/openpaperwork/paperwork/blob/unstable/doc/install.debian.markdown again?. My scanned document filenames are useful to me because I can quickly find a document by using basic filename search on my desktop (assuming I named it properly). So keeping the original filename after import + displaying a document title/filename in Paperwork would be the best of both worlds. ",
    "lunarok": "Sorry for the french.\nOk I install the package you give and it's working.\nI didn't see this suggestion by the pip install. I have install the dependencies as describe on your github page (https://github.com/jflesch/paperwork/blob/stable/doc/install.debian.markdown)\nBut yes, I didn't see that on this page there is already : \nIMPORTANT: the extra dependencies list may be drown in the output. You\nmay miss it.\nMy wrong, sorry\n. ",
    "scemama": "Hi,\nI just fell into the same problem and found the answer here.\nWhy not automate this in the install script?\nsudo apt-get install gir1.2-poppler-0.18\nThanks\nAnthony\n. Thanks for your quick reply,\nthis would be very nice for the new users. You could also do a very simple script that only tries to import everything and catches the ImportError exceptions to propose an installation of the missing dependencies.\nContinue the good job! Thanks!\n. ",
    "steftech": "It work with the unstable branch ! \nthank you for your help !\n(I've to install Cython for unstable to compile)\n. ",
    "tomarch": "I have an issue when compiling atlas-lapack aur package, so i mess dependancy for paperwork install script.\nI've try paperwork 1.1 aur package, but it's segfault when I launch scanner preference.\nI will try to install paperwork unstable in a debian virtual machine.\n. I've got paperwork 1.1 running (by downgrading sane package, sane 1.0.24 has issue with avahi).\nPaperwork still only use the ADF.\nI still have the resolution issue.\nhere's the result of the list_all.py : https://gist.github.com/tomarch/6913927\n. the output : https://gist.github.com/tomarch/6950573\n. the update one: https://gist.github.com/tomarch/6980432\nThanks.\n. here's the output in terminal : https://gist.github.com/tomarch/6980640\nThe simple scan is ok: http://files.gagniere.me/simplescan.jpg\nThe adf one: http://files.gagniere.me/adf.jpg\nWhen scanning with ADF, the ADF windows doesn't close after the end of the scan.\n. yes i mean \"single page scan\" in paperwork.\nI believe tesseract-data-fra was enough. I will try with aspell-fr\n. The resolution is set per default on 300\n. https://gist.github.com/tomarch/7014097\n. I have build lastest stable, but paperwork didn't start : https://gist.github.com/tomarch/7014193\n. i don't have any .pyc file in my sources folder.\nI have erase and clone again. Starting fine now.\nSimple scan take the good source. Thanks.\nBut i still have the resolution issues.\n. Can i do something else to help you resolving this issue ?\n. ",
    "kriek": "You are right. I gave it an update and now I do not have that error anymore.\n. ",
    "Xaapyks": "Seems like an error in tesseract then : \n$ tesseract -l fra anyimage.jpg                                                            \nError opening data file /usr/share/tessdata/eng.traineddata                                                         \nPlease make sure the TESSDATA_PREFIX environment variable is set to the parent directory of your \"tessdata\" directory.                                                                                                                  \nFailed loading language 'eng'                                                                                       \nTesseract couldn't load any languages!                                                                              \nCould not initialize tesseract.\n$ ls /usr/share/tessdata/*.traineddata                         \n/usr/share/tessdata/fra.traineddata\n. Same output with these arguments.\ntesseract 3.02.02\n. Yes it does.\n. ",
    "hankschwie": "Hi!\nWith tesseract 3.03 this possibility is implemented, the option -.psm 0 works fine now \"out of the box\". To use it in for paperwork you could run a check if tesseract 3.03 is already in use, otherwise fall back to the other solution.\nregards\nhank\n. additum: tesseract 3.03 comes with a pdf config file which will produce a searchable pdf document out of every given image, just use\ntesseract image.pnm [-l xxx] ocred-image pdf. \nPerfect fitting of the text layer, no fiddeling with hocr2pdf, pypdfocr or anything else. The easiest way I know of to produce ocred pdf files. Perhaps it is usable for paperwork, too? Export of ocred pdf files should not be a problem, either... \nso long\nhank\n. Hi!\nthx, but: nope. Pyinsane used was 1.3.4, tried 1.3.7, as well. but that didn't change a thing. A popup tells me \nFehler beim Scannen: [Errno 2] Datei oder Verzeichnis nicht gefunden: '/tmp/tess_Djwl9T.html'\n(Errors scanning: [Errno 2] File or directory not found: '/tmp/tess_Djwl9T.html')\nwhile /tmp/tess_Djw9T.hocr is created by paperwork. It should be as simple as renaming that file. I didn't find it in the source code though, otherwise I would have tried something to rename that file, using the html extension instead of hocr\nA \"typical' error with tesseract 3.03, I had it with pdfocr, my own xsane2sandwich-scripts, gscan2pdf...\n. Hi!\nYes, figured that out, too. Now it works with pyocr 0.2.3 :+1: \nNext time I'll try to get english messages, so you get the \"original\", not just a translation ;-)\n. ",
    "fdev31": "I may have time to think about a solution without big dependencies (none if easily possible), are you interested ?\nMy current idea, implement this algorithm (found on google :P):\nGlobalContrast = 1/(w*h) * Somme{ Contrast(p) }\n                             p:pixel\nwith:  Contrast(p) = Lmax-Lmin / Lmax+Lmin\nwhere:\nLmax = Maximum Luminance near p\nLmin = Minimum Luminance near p\nThen, I'll do a simple horizontal+vertical blur (or smudge, faster/simpler), I suppose that the image with the higher contrast is the well oriented one most of the time... (to be tested...) (ie. if horizontal smudge have more contrast, the image is well oriented, you have to rotate it 90 if not, purely heuristics as a kind of fallback...)\n. Ok, there is some issues with default dependencies on arch currently but Ill give it a try... it sounds a good way to test the software as well ;) [cf. linuxfr #yesIknow]\n. ",
    "Mirodin": "Will fix it in a new PR\n. As mentioned above I thought, paperwork would take the original string, if there is no translation?\n. Just for the sake of completeness: I can confirm tiramiseb's problem and his solution. I allready had installed this module on my Kubuntu 13.10 so I did not run in the same trouble. But when I set up a virtual machine today to reproduce, I also got no thumbnails for imported PDFs and the progress bar in the gui said \"loading thumbnails\" but nothing happened in the konsole except of the same error messages and the gui froze. Installing \"python-gi-cairo\" manually solved that.\n. I hope, this version will fix the problems\n. Sorry, did not know these were meant to be removed by me, I'll send another one.\n. Ah, good to know. Since I use Virtaal for translation I did not see these messages in the first place. I will remove them for the next release.\nIt is always a pleasure to give something back, thank you for this awesome peace of software ;)\n. Yes, we did that because it would be the same for the german string. I \nthought, paperwork would take the original string, if there is no \ntranslation?\nCheers\nAm Sonntag, 29. Dezember 2013, 03:44:32 schrieb Jerome Flesch:\n\n\n#: src/paperwork/util.py:248\n #, python-format\n msgid \"%3.1f bytes\"\n-msgstr \"\u00a73.1f Bytes\"\n+msgstr \"\"\n\nSame thing for the following ones\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/jflesch/paperwork/pull/274/files#r8578716\n. Ok, you are right. However I will leave it alone for this version so you can release it and we will fill in these strings for the next release. How does that sound to you?\n. No problem, I will do it again\n. \n",
    "Bruyant": "Same thing on debian Installing python-gi-cairo solved the isssue\n. ",
    "rvandegrift": "Documents on colored or patterned backgrounds can be difficult to read on a computer screen.  On my scanner, \"Lineart\" mode ignores these elements, and so produces much better documents.\nIs your concern that adding UI elements for every option will be too much?\n. I see the worry, though it'd be a shame to prevent paperwork users from taking advantage of features of their devices.\nWhat about an advanced settings window that presents SANE detected options to the user?  Users could dig for advanced functionality if they needed, without messing up the basic settings window.\n. ",
    "StreakyCobra": "1) What does \"scanimage -L\" returns ? (run it as a user, not root)\n$ scanimage -L\ndevice `v4l:/dev/video0' is a Noname USB2.0 HD UVC WebCam virtual device\nand even when launched as root the output is the same.\n2) When you run Paperwork from a terminal, when you open the settings window, is there any Python exception displayed at some point in the terminal ?\nI have attached a link to the log for this exact situation in my first post (log here). Since I am not very familiar with all this I let you interpret the log for useful information ;-)\n. In other words, it's not a Paperwork problem, it's a Sane problem.\nYep, after answering your questions I realized that the problem was with sane and not with paperwork. So I just investigate a bit, and there is a line that need to be uncomment for sane to recognize hp scanners.\nIn /etc/sane.d/dll.conf the following line must be uncommented (at least for Archlinux as explained in archlinux wiki):\n```\nhpaio\n```\nSo, it is solved, thanks for the support. Maybe this information (running scanimage -L and be sure to have hpaio uncommented for HP printers) can be added in the FAQ?\n. > The last comment also show that pyinsane does not have dependency on libsane on ArchLinux. It should.\nThe one that I maintain, python-pyinsane2, has sane as dependency.. @VGib This one make more sense :-) I'll add it as dependency.\n. Fixed on AUR side, this issue can probably be closed if everything works for you @VGib.. Listing the files of the built package (yaourt -Ql paperwork | grep .mo$):\npaperwork /usr/paperwork/frontend/share/locale/de/LC_MESSAGES/paperwork.mo\npaperwork /usr/paperwork/frontend/share/locale/fr/LC_MESSAGES/paperwork.mo\nThere seems to be placed only in /usr/paperwork, and before (1.1.2) they were packaged in /usr/share/locale:\npaperwork /usr/share/locale/de/LC_MESSAGES/paperwork.mo\npaperwork /usr/share/locale/fr/LC_MESSAGES/paperwork.mo\nI don't know if I'm supposed to move file there on packaging side?. Here are the command the PKGBUILD is running if it can help identifying/reproducing the problem:\n```bash\nbuild() {\n  cd \"${srcdir}/${pkgname}-backend-${pkgver}\"  # Goes into the backend source folder\n  python setup.py build  # Build\ncd \"${srcdir}/${pkgname}-${pkgver}\" # Goes into the frontend source folder\n  python setup.py build  # Build\n}\npackage() {\n  cd \"${srcdir}/${pkgname}-backend-${pkgver}\"  # Goes into the backend source folder\n  python setup.py install --prefix=/usr --root=\"${pkgdir}\" --optimize=1  # Install it in the prefix\ncd \"${srcdir}/${pkgname}-${pkgver}\"  # Goes into the frontend source folder\n  python setup.py install --prefix=/usr --root=\"${pkgdir}\" --optimize=1   # Install it in the prefix\ninstall -D -m644 COPYING \"${pkgdir}/usr/share/licenses/${pkgname}/LICENSE\"  # Copy the license\n}\n```. > Regarding the desktop shortcut, as part of the building process, isn't it possible to do something similar to the following code ?\nIf I undertand your question correctly, no, because during the building process the file should be:\n/home/fabien/dev/archlinux/aur/paperwork/pkg/paperwork/usr/share/applications/paperwork.desktop\nin order to be included in the package.\nIf it is hardcoded as /usr/share/applications/paperwork.desktop then it will try to impact the system directly instead of incorporating the file inside the package.. If I find some time I will try to have a look at the build system to identify where all this come from.. Oh, of course I can generate it myself :-) I just wanted to try finding the issue in order to stay as close as possible to upstream. . Ok, but did you do anything special before? Because it was present without any intervention on packaging side.. Ok, I got it now :-) I'll add the desktop entry in the packaging side then.\nFor the locales, I can also probably handle this on packaging side, but I'm not sure there is something more as you said that \"Nothing should be in /usr/paperwork\", and currently the building put those files there:\n/usr/paperwork/frontend/aboutdialog/paperwork.svg\n/usr/paperwork/frontend/doc/hacking.pdf\n/usr/paperwork/frontend/doc/intro.pdf\n/usr/paperwork/frontend/doc/intro_fr.pdf\n/usr/paperwork/frontend/doc/translating.pdf\n/usr/paperwork/frontend/doc/usage.pdf\n/usr/paperwork/frontend/mainwindow/paperwork_halo.svg\n/usr/paperwork/frontend/share/icons/hicolor/100/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/128/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/150/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/16/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/160/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/192/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/22/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/24/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/256/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/30/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/32/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/36/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/42/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/48/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/50/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/512/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/64/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/72/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/96/apps/paperwork.png\n/usr/paperwork/frontend/share/icons/hicolor/scalable/apps/paperwork.svg\n/usr/paperwork/frontend/share/icons/hicolor/scalable/apps/paperwork_halo.svg\n/usr/paperwork/frontend/share/locale/de/LC_MESSAGES/paperwork.mo\n/usr/paperwork/frontend/share/locale/fr/LC_MESSAGES/paperwork.mo\n\n. Ok, take your time. I'll already fix the desktop entry on my side, and suggest people who have an issue with the language for now to revert to previous version in the meantime.. Thanks for the pointer. FYI I'm having a personal situation these days and I'm also organizing a music camp that will take place next week, so I don't have the state of mind nor the time to dig with this issue right now. If some Arch users are motivated to fix it: PR to https://github.com/StreakyCobra/aur-paperwork and I'll do my best to publish it.. Everything seems fine with it yes. I haven't received any complaint, so I presume everything is all right now!\nThanks @jflesch, @klemens and @Lucki for the work!. Hi,\nI don't know about the dependency problem between tesseract-data-eng and tesseract, but if this is not solved, or not a problem of the tesseract package, I can still add it as a dependency to paperwork later.. I see, thanks for the info. If they don't fix it in tesseract directly I'll fix it in paperwork at least.. ",
    "VoidAndAny": "Thank you very much, effectively with the package name it's much much clearer, it work, thanks a lot \n. ",
    "TalmarGrosskotz": "I am using 0.1.3 (Ubuntu 14.04)\nSorry for the mess below, but i am not really a developer so i just pasted all the output I got after running the command 'paperwork' in a terminal.\nThanx for your work.\n/usr/lib/python2.7/dist-packages/pkg_resources.py:1031: UserWarning: /home/talmar/.python-eggs is writable by group/others and vulnerable to attack when used with get_resource_filename. Consider a more secure location (set with .set_extraction_path or the PYTHON_EGG_CACHE environment variable).\n  warnings.warn(msg, UserWarning)\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   root                           Will use locales from '/usr/share/locale'\nINFO   paperwork.backend.config       Config file found: /home/talmar/.config/paperwork.conf\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow.glade\n(paperwork:8208): Gtk-WARNING _: Could not load image 'paperwork.svg': Datei \u00bb/usr/share/paperwork/paperwork.svg\u00ab konnte nicht ge\u00f6ffnet werden: Datei oder Verzeichnis nicht gefunden\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (566, 644)\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Started\nINFO   paperwork.frontend.jobs        [Scheduler Main] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Main] Started\nINFO   paperwork.frontend.actions     Action: [Refresh index]\nINFO   paperwork.backend.docsearch    Opening index dir '/home/talmar/.local/share/paperwork/index' ...\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.mainwindow  List 'documents' : 2 elements displayed (2 additionnal)\n_* BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n* BUG *\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nINFO   paperwork.frontend.actions     Action: [Scan a single page]\nERROR  paperwork.frontend.mainwindow  No scanner found !\nERROR  paperwork.frontend.jobs        ===> Job SingleScan:0 raised an exception: :  : Access to resource has been denied (11)\nINFO   paperwork.util                 Showing popup !\nERROR  paperwork.frontend.jobs         0: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/jobs.py: L  158: _run\nERROR  paperwork.frontend.jobs         1: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py: L 1193: do\nERROR  paperwork.frontend.jobs         2: /usr/local/lib/python2.7/dist-packages/paperwork/backend/config.py: L  365: get_scanner_inst\nERROR  paperwork.frontend.jobs         3: build/bdist.linux-x86_64/egg/pyinsane/abstract_th.py: L  225: _get_options\nERROR  paperwork.frontend.jobs         4: build/bdist.linux-x86_64/egg/pyinsane/abstract_th.py: L   58: wait\nERROR  paperwork.frontend.jobs        ---> Job SingleScan:0 was started by:\nERROR  paperwork.frontend.jobs         0: /usr/local/bin/paperwork: L    6: \nERROR  paperwork.frontend.jobs         1: /usr/local/lib/python2.7/dist-packages/paperwork/paperwork.py: L  105: main\nERROR  paperwork.frontend.jobs         2: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py: L   56: on_button_clicked_cb\nERROR  paperwork.frontend.jobs         3: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py: L   53: __do\nERROR  paperwork.frontend.jobs         4: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py: L 1819: do\nERROR  paperwork.frontend.jobs         5: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/jobs.py: L  227: schedule\nWARNING paperwork.frontend.jobs        Job SingleScan:0 took 7777ms and is unstoppable ! (maximum allowed: 500ms)\nERROR  paperwork.frontend.mainwindow  Error while scanning: :  : Access to resource has been denied (11)\nINFO   paperwork.frontend.mainwindow  List 'pages' : 0 elements displayed (0 additionnal)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3510, in on_single_scan_error\n    self.refresh_docs({self.doc})\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py\", line 3721, in refresh_docs\n    idx = doc_list.index(doc)\nValueError:  is not in list\nINFO   paperwork.frontend.actions     Action: [Quit (real)]\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Stopping\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Stopped\nINFO   paperwork.frontend.jobs        [Scheduler Main] Stopping\nINFO   paperwork.frontend.jobs        [Scheduler Main] Stopped\nINFO   paperwork.backend.config       Writing /home/talmar/.config/paperwork.conf ... \nINFO   paperwork.backend.config       Done\nINFO   paperwork.frontend.actions     Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.paperwork            Good bye\ntalmar@talmar-linux:~$ paperwork\n/usr/lib/python2.7/dist-packages/pkg_resources.py:1031: UserWarning: /home/talmar/.python-eggs is writable by group/others and vulnerable to attack when used with get_resource_filename. Consider a more secure location (set with .set_extraction_path or the PYTHON_EGG_CACHE environment variable).\n  warnings.warn(msg, UserWarning)\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   root                           Will use locales from '/usr/share/locale'\nINFO   paperwork.backend.config       Config file found: /home/talmar/.config/paperwork.conf\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow.glade\n(paperwork:8223): Gtk-WARNING _: Could not load image 'paperwork.svg': Datei \u00bb/usr/share/paperwork/paperwork.svg\u00ab konnte nicht ge\u00f6ffnet werden: Datei oder Verzeichnis nicht gefunden\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (566, 644)\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Progress] Started\nINFO   paperwork.frontend.jobs        [Scheduler Main] Starting\nINFO   paperwork.frontend.jobs        [Scheduler Main] Started\nINFO   paperwork.frontend.actions     Action: [Refresh index]\nINFO   paperwork.backend.docsearch    Opening index dir '/home/talmar/.local/share/paperwork/index' ...\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.mainwindow  List 'documents' : 2 elements displayed (2 additionnal)\n_* BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n* BUG *\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nINFO   paperwork.frontend.actions     Action: [Open settings dialog]\nINFO   root                           UI file used: /usr/share/paperwork/settingswindow.glade\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'equ'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'osd'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\n(paperwork:8223): Gtk-CRITICAL **: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\n/usr/local/lib/python2.7/dist-packages/paperwork/frontend/settingswindow.py:575: Warning: g_object_set_property: assertion 'G_IS_VALUE (value)' failed\n  self.window.set_visible(True)\n/usr/local/lib/python2.7/dist-packages/paperwork/frontend/settingswindow.py:575: Warning: g_value_unset: assertion 'G_IS_VALUE (value)' failed\n  self.window.set_visible(True)\n(paperwork:8223): Gtk-CRITICAL **: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\n(paperwork:8223): Gtk-CRITICAL **: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\n(paperwork:8223): Gtk-CRITICAL **: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\nINFO   paperwork.frontend.jobs        [Scheduler progress] Starting\nINFO   paperwork.frontend.jobs        [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\n(paperwork:8223): Gtk-CRITICAL **: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\n/usr/local/lib/python2.7/dist-packages/paperwork/paperwork.py:105: Warning: g_object_set_property: assertion 'G_IS_VALUE (value)' failed\n  Gtk.main()\n/usr/local/lib/python2.7/dist-packages/paperwork/paperwork.py:105: Warning: g_value_unset: assertion 'G_IS_VALUE (value)' failed\n  Gtk.main()\n(paperwork:8223): Gtk-CRITICAL **: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\n(paperwork:8223): Gtk-CRITICAL **: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\n(paperwork:8223): Gtk-CRITICAL **: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\n(paperwork:8223): Gtk-CRITICAL **: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\n(paperwork:8223): Gtk-CRITICAL **: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\n(paperwork:8223): Gtk-CRITICAL **: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\n(paperwork:8223): Gtk-CRITICAL _: gtk_list_store_get_value: assertion 'column < priv->n_columns' failed\nINFO   paperwork.frontend.settingswindow Device found: [Epson PID 0899] -> [epson2:net:192.168.2.191]\nINFO   paperwork.frontend.settingswindow Device found: [Epson WF-3520/3530/3540 Series] -> [epkowa:net:192.168.2.191:1865]\nWARNING paperwork.frontend.jobs        Job DeviceFinder:0 took 3467ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Got value [['Epson PID 0899', 'epson2:net:192.168.2.191']]\nINFO   paperwork.frontend.settingswindow Got value [['Epson WF-3520/3530/3540 Series', 'epkowa:net:192.168.2.191:1865']]\nINFO   paperwork.frontend.settingswindow Select scanner: 1\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [epkowa:net:192.168.2.191:1865]\n/usr/local/lib/python2.7/dist-packages/paperwork/paperwork.py:105: Warning: unable to set property 'sensitive' of type 'gboolean' from value of type 'gchararray'\n  Gtk.main()\n/usr/local/lib/python2.7/dist-packages/paperwork/paperwork.py:105: Warning: unable to set property 'xpad' of type 'guint' from value of type 'gchararray'\n  Gtk.main()\nINFO   paperwork.frontend.settingswindow Resolutions found: [75, 300, 600, 1200]\nINFO   paperwork.frontend.settingswindow Got value [['75', 75]]\nWARNING paperwork.frontend.jobs        Job ResolutionFinder:0 took 766ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Got value [['300(empfohlen)', 300]]\nINFO   paperwork.frontend.settingswindow Got value [['600', 600]]\nINFO   paperwork.frontend.settingswindow Got value [['1200', 1200]]\nINFO   paperwork.backend.config       Writing /home/talmar/.config/paperwork.conf ... \nINFO   paperwork.backend.config       Done\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.jobs        [Scheduler progress] Stopping\nINFO   paperwork.frontend.jobs        [Scheduler progress] Stopped\nINFO   paperwork.frontend.actions     Action: [Scan a single page]\nINFO   paperwork.backend.config       Scanner mode set to 'Color'\nINFO   paperwork.util                 Setting scanner option 'source' to 'Automatic Document Feeder'\nERROR  paperwork.frontend.jobs        ===> Job SingleScan:0 raised an exception: : \nERROR  paperwork.frontend.mainwindow  Error while scanning: : \nERROR  paperwork.frontend.jobs         0: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/jobs.py: L  158: _run\nERROR  paperwork.frontend.jobs         1: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py: L 1204: do\nERROR  paperwork.frontend.jobs         2: build/bdist.linux-x86_64/egg/pyinsane/abstract_th.py: L  237: scan\nERROR  paperwork.frontend.jobs         3: build/bdist.linux-x86_64/egg/pyinsane/abstract_th.py: L  171: init\nERROR  paperwork.frontend.jobs         4: build/bdist.linux-x86_64/egg/pyinsane/abstract_th.py: L   58: wait\nERROR  paperwork.frontend.jobs        ---> Job SingleScan:0 was started by:\nERROR  paperwork.frontend.jobs         0: /usr/local/bin/paperwork: L    6: \nERROR  paperwork.frontend.jobs         1: /usr/local/lib/python2.7/dist-packages/paperwork/paperwork.py: L  105: main\nERROR  paperwork.frontend.jobs         2: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py: L   56: on_button_clicked_cb\nERROR  paperwork.frontend.jobs         3: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/actions.py: L   53: __do\nERROR  paperwork.frontend.jobs         4: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/mainwindow.py: L 1819: do\nERROR  paperwork.frontend.jobs         5: /usr/local/lib/python2.7/dist-packages/paperwork/frontend/jobs.py: L  227: schedule\nWARNING paperwork.frontend.jobs        Job SingleScan:0 took 839ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.mainwindow  List 'pages' : 0 elements displayed (0 additionnal)\nINFO   paperwork.frontend.mainwindow  Doc list refresh: 0:20140726_1425_40 deleted\nINFO   paperwork.frontend.actions     Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.mainwindow  Search: \nINFO   paperwork.frontend.mainwindow  Doc list refresh: 'new doc' reinserted in the list\n_* BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n* BUG *\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n. Tried starting with sudo. Didn't change a thing.\nAm 26.07.2014 22:50 schrieb \"Jerome Flesch\" notifications@github.com:\n\nThe main error message is this one :\nERROR paperwork.frontend.jobs ===> Job SingleScan:0 raised an exception: : : Access to resource has been denied (11)\nLooks like a permission problem.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jflesch/paperwork/issues/310#issuecomment-50248250.\n. Just adding my paperwork.conf.\nWondering if the \"device\"-setting is correct since it looks rather different from the usb-example in your git-repository.\n\n[Global]\n[OCR]\nenabled = true\nlang = deu\n[Scanner]\ndevice = epkowa:net:192.168.2.191:1865\nresolution = 300\nsource = Flatbed\n[GUI]\n[SpellChecking]\n. Never heard anything about a password, sorry. Also sane/xsane has no problem at all to talk to the scanner. however as far as i know the driver-package also installs a udev-rule to make it work without admin-rights.. could that be the problem?\n. i am using Ubuntu (Gnome) 14.04 LTS\nwill test scanimage -T later today... thanx for your patience\n. Confirming that \"scanimage -T\" is working \nscanimage: scanning image of size 632x877 pixels at 1 bits/pixel\nscanimage: acquiring gray frame, 1 bits/sample\nscanimage: reading one scanline, 79 bytes...    PASS\nscanimage: reading one byte...      PASS\nscanimage: stepped read, 2 bytes...     PASS\nscanimage: stepped read, 4 bytes...     PASS\nscanimage: stepped read, 8 bytes...     PASS\nscanimage: stepped read, 16 bytes...    PASS\nscanimage: stepped read, 32 bytes...    PASS\nscanimage: stepped read, 64 bytes...    PASS\nscanimage: stepped read, 128 bytes...   PASS\nscanimage: stepped read, 127 bytes...   PASS\nscanimage: stepped read, 63 bytes...    PASS\nscanimage: stepped read, 31 bytes...    PASS\nscanimage: stepped read, 15 bytes...    PASS\nscanimage: stepped read, 7 bytes...     PASS\nscanimage: stepped read, 3 bytes...     PASS\n. Hey man, no problem. Appreciating your investment into this anyway. Keep up the good work.\n. Hey I got a hint on how to get it work. \nI just deleted the port (1865) manually from the conf-file [don't know if that is important] then I restarted the program from the comman-line. I noticed that the program (installed and updated via git) threw an exception because it wanted to scan from the adf and there was no paper in it. So i placed a sheet into the document-feeder and retried... voila it worked.\nSo my problem has been reduced to not being ablte to print from flatbed [selecting \"Scan single page\" in the Gui does not work]. Maybe that helps.\n. tried installing 0.2 via git clone and such.. seems i have ruined my whole installation... is there anyway i could manually uninstall completely?\n. Tried that .. leaves me with \nuninstalling removes only one file.\nafter reinstalling according to your instructions i get\nIOError: [Errno 2] file or folder not found: '/usr/local/lib/python2.7/dist-packages/scikit_image-0.10.1-py2.7-linux-x86_64.egg/skimage/data/orb_descriptor_positions.txt'\n. Congrats! Reinstalling Scikit-image and the testing-version of paperwork (0.2) via git solved my problem. Scans via flatbed work. Thanx a lot\n. ",
    "lb1a": "I see. Thanks anyway for the awesome work on paperwork. It would have been nice, but it's not worth the trouble of porting such libs for a single program. \nI'm gonna stick with my Fedora boxes :smiley: \n. i think he either doesn't know what he's doing or he's a troll Oo\n. ",
    "Kernelhacker": "Yes, it's clear, that there are some bigger problems. I just wanted to contribute something ;)\nIf there is no gentoo ebuild yet, I might set up an overlay and write a gentoo ebuild, just to contribute something else.\n. ",
    "nbremond77": "Hello,\nThanks a lot for your reply... unfortunatly, it didn't fix the issue.\nI did pip uninstall paperwork several times, then I did git checkout testing and then  sudo python ./setup.py install.\nLaunching paperwork gave me the following errors:\nnbremond@multimedia ~/git/paperwork $ paperwork \nTraceback (most recent call last):\n  File \"/usr/local/bin/paperwork\", line 5, in <module>\n    pkg_resources.run_script('paperwork==0.2-testing', 'paperwork')\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 528, in run_script\n    self.require(requires)[0].run_script(script_name, ns)\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 1401, in run_script\n    exec(script_code, namespace, namespace)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/EGG-INFO/scripts/paperwork\", line 3, in <module>\n    __requires__ = 'paperwork==0.2-testing'\n  File \"build/bdist.linux-x86_64/egg/paperwork/paperwork.py\", line 29, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/__init__.py\", line 59, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/backend/docimport.py\", line 28, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/backend/pdf/doc.py\", line 25, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/backend/common/doc.py\", line 26, in <module>\n  File \"/usr/local/lib/python2.7/dist-packages/sklearn/feature_extraction/__init__.py\", line 7, in <module>\n    from .dict_vectorizer import DictVectorizer\n  File \"/usr/local/lib/python2.7/dist-packages/sklearn/feature_extraction/dict_vectorizer.py\", line 14, in <module>\n    from ..utils import atleast2d_or_csr, tosequence\n  File \"/usr/local/lib/python2.7/dist-packages/sklearn/utils/__init__.py\", line 11, in <module>\n    from .validation import (as_float_array, check_arrays, safe_asarray,\n  File \"/usr/local/lib/python2.7/dist-packages/sklearn/utils/validation.py\", line 17, in <module>\n    from .fixes import safe_copy\n  File \"/usr/local/lib/python2.7/dist-packages/sklearn/utils/fixes.py\", line 18, in <module>\n    from .testing import ignore_warnings\n  File \"/usr/local/lib/python2.7/dist-packages/sklearn/utils/testing.py\", line 36, in <module>\n    from nose.tools import assert_equal\nImportError: No module named nose.tools\nnbremond@multimedia ~/git/paperwork $\nPlease find below the messages I've got when running the install cammand:\n```\nnbremond@multimedia ~/git/paperwork $  sudo python ./setup.py install\nDetected system: LinuxMint 17 qiana\nDetected python version: 2.7.6.final.0\nrunning install\nrunning bdist_egg\nrunning egg_info\nwriting requirements to paperwork.egg-info/requires.txt\nwriting paperwork.egg-info/PKG-INFO\nwriting top-level names to paperwork.egg-info/top_level.txt\nwriting dependency_links to paperwork.egg-info/dependency_links.txt\nreading manifest file 'paperwork.egg-info/SOURCES.txt'\nreading manifest template 'MANIFEST.in'\nwriting manifest file 'paperwork.egg-info/SOURCES.txt'\ninstalling library code to build/bdist.linux-x86_64/egg\nrunning install_lib\nrunning build_py\ncreating build/bdist.linux-x86_64/egg\ncreating build/bdist.linux-x86_64/egg/paperwork\ncopying build/lib.linux-x86_64-2.7/paperwork/init.py -> build/bdist.linux-x86_64/egg/paperwork\ncreating build/bdist.linux-x86_64/egg/paperwork/frontend\ncreating build/bdist.linux-x86_64/egg/paperwork/frontend/import\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/import/init.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/import\ncreating build/bdist.linux-x86_64/egg/paperwork/frontend/doceditdialog\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/doceditdialog/init.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/doceditdialog\ncreating build/bdist.linux-x86_64/egg/paperwork/frontend/settingswindow\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/settingswindow/init.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/settingswindow\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/init.py -> build/bdist.linux-x86_64/egg/paperwork/frontend\ncreating build/bdist.linux-x86_64/egg/paperwork/frontend/pageeditor\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/pageeditor/init.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/pageeditor\ncreating build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/multiscan/init.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/multiscan/scan.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan\ncreating build/bdist.linux-x86_64/egg/paperwork/frontend/aboutdialog\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/aboutdialog/init.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/aboutdialog\ncreating build/bdist.linux-x86_64/egg/paperwork/frontend/labeleditor\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/labeleditor/init.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/labeleditor\ncreating build/bdist.linux-x86_64/egg/paperwork/frontend/util\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/actions.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/config.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/init.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/img.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/imgcutting.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/jobs.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/dialog.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util\ncreating build/bdist.linux-x86_64/egg/paperwork/frontend/util/canvas\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/canvas/drawers.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util/canvas\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/canvas/animations.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util/canvas\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/canvas/init.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util/canvas\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/canvas/animators.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util/canvas\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/renderer.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/progressivelist.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/util/scanner.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/util\ncreating build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/mainwindow/init.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/mainwindow/scan.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow\ncopying build/lib.linux-x86_64-2.7/paperwork/frontend/mainwindow/pages.py -> build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow\ncreating build/bdist.linux-x86_64/egg/paperwork/backend\ncreating build/bdist.linux-x86_64/egg/paperwork/backend/common\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/common/doc.py -> build/bdist.linux-x86_64/egg/paperwork/backend/common\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/common/init.py -> build/bdist.linux-x86_64/egg/paperwork/backend/common\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/common/page.py -> build/bdist.linux-x86_64/egg/paperwork/backend/common\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/util.py -> build/bdist.linux-x86_64/egg/paperwork/backend\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/config.py -> build/bdist.linux-x86_64/egg/paperwork/backend\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/init.py -> build/bdist.linux-x86_64/egg/paperwork/backend\ncreating build/bdist.linux-x86_64/egg/paperwork/backend/pdf\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/pdf/doc.py -> build/bdist.linux-x86_64/egg/paperwork/backend/pdf\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/pdf/init.py -> build/bdist.linux-x86_64/egg/paperwork/backend/pdf\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/pdf/page.py -> build/bdist.linux-x86_64/egg/paperwork/backend/pdf\ncreating build/bdist.linux-x86_64/egg/paperwork/backend/img\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/img/doc.py -> build/bdist.linux-x86_64/egg/paperwork/backend/img\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/img/init.py -> build/bdist.linux-x86_64/egg/paperwork/backend/img\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/img/page.py -> build/bdist.linux-x86_64/egg/paperwork/backend/img\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/docimport.py -> build/bdist.linux-x86_64/egg/paperwork/backend\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/docsearch.py -> build/bdist.linux-x86_64/egg/paperwork/backend\ncopying build/lib.linux-x86_64-2.7/paperwork/backend/labels.py -> build/bdist.linux-x86_64/egg/paperwork/backend\ncopying build/lib.linux-x86_64-2.7/paperwork/paperwork.py -> build/bdist.linux-x86_64/egg/paperwork\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/import/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/doceditdialog/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/settingswindow/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/pageeditor/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/multiscan/scan.py to scan.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/aboutdialog/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/labeleditor/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/actions.py to actions.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/config.py to config.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/img.py to img.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/imgcutting.py to imgcutting.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/jobs.py to jobs.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/dialog.py to dialog.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/canvas/drawers.py to drawers.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/canvas/animations.py to animations.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/canvas/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/canvas/animators.py to animators.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/renderer.py to renderer.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/progressivelist.py to progressivelist.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/util/scanner.py to scanner.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/scan.py to scan.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/pages.py to pages.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/common/doc.py to doc.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/common/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/common/page.py to page.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/util.py to util.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/config.py to config.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/pdf/doc.py to doc.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/pdf/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/pdf/page.py to page.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/img/doc.py to doc.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/img/init.py to init.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/img/page.py to page.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/docimport.py to docimport.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/docsearch.py to docsearch.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/backend/labels.py to labels.pyc\nbyte-compiling build/bdist.linux-x86_64/egg/paperwork/paperwork.py to paperwork.pyc\ninstalling package data to build/bdist.linux-x86_64/egg\nrunning install_data\ncreating build/bdist.linux-x86_64/egg/EGG-INFO\ninstalling scripts to build/bdist.linux-x86_64/egg/EGG-INFO/scripts\nrunning install_scripts\nrunning build_scripts\ncreating build/bdist.linux-x86_64/egg/EGG-INFO/scripts\ncopying build/scripts-2.7/paperwork -> build/bdist.linux-x86_64/egg/EGG-INFO/scripts\nchanging mode of build/bdist.linux-x86_64/egg/EGG-INFO/scripts/paperwork to 755\ncopying paperwork.egg-info/PKG-INFO -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying paperwork.egg-info/SOURCES.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying paperwork.egg-info/dependency_links.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying paperwork.egg-info/requires.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\ncopying paperwork.egg-info/top_level.txt -> build/bdist.linux-x86_64/egg/EGG-INFO\nzip_safe flag not set; analyzing archive contents...\ncreating 'dist/paperwork-0.2_testing-py2.7.egg' and adding 'build/bdist.linux-x86_64/egg' to it\nremoving 'build/bdist.linux-x86_64/egg' (and everything under it)\nProcessing paperwork-0.2_testing-py2.7.egg\nCopying paperwork-0.2_testing-py2.7.egg to /usr/local/lib/python2.7/dist-packages\nAdding paperwork 0.2-testing to easy-install.pth file\nInstalling paperwork script to /usr/local/bin\nInstalled /usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg\nProcessing dependencies for paperwork==0.2-testing\nSearching for Whoosh==2.5.7\nBest match: Whoosh 2.5.7\nWhoosh 2.5.7 is already the active version in easy-install.pth\nUsing /usr/lib/python2.7/dist-packages\nSearching for scikit-image==0.10.1\nBest match: scikit-image 0.10.1\nProcessing scikit_image-0.10.1-py2.7-linux-x86_64.egg\nscikit-image 0.10.1 is already the active version in easy-install.pth\nInstalling skivi script to /usr/local/bin\nUsing /usr/local/lib/python2.7/dist-packages/scikit_image-0.10.1-py2.7-linux-x86_64.egg\nSearching for scikit-learn==0.15.1\nBest match: scikit-learn 0.15.1\nAdding scikit-learn 0.15.1 to easy-install.pth file\nUsing /usr/local/lib/python2.7/dist-packages\nSearching for scipy==0.14.0\nBest match: scipy 0.14.0\nProcessing scipy-0.14.0-py2.7-linux-x86_64.egg\nscipy 0.14.0 is already the active version in easy-install.pth\nUsing /usr/local/lib/python2.7/dist-packages/scipy-0.14.0-py2.7-linux-x86_64.egg\nSearching for numpy==1.8.1\nBest match: numpy 1.8.1\nnumpy 1.8.1 is already the active version in easy-install.pth\nUsing /usr/lib/python2.7/dist-packages\nSearching for pyocr==0.2.3\nBest match: pyocr 0.2.3\nAdding pyocr 0.2.3 to easy-install.pth file\nUsing /usr/local/lib/python2.7/dist-packages\nSearching for pyinsane==1.3.8\nBest match: pyinsane 1.3.8\nProcessing pyinsane-1.3.8-py2.7.egg\npyinsane 1.3.8 is already the active version in easy-install.pth\nUsing /usr/local/lib/python2.7/dist-packages/pyinsane-1.3.8-py2.7.egg\nSearching for python-Levenshtein==0.11.2\nBest match: python-Levenshtein 0.11.2\npython-Levenshtein 0.11.2 is already the active version in easy-install.pth\nUsing /usr/lib/python2.7/dist-packages\nSearching for pyenchant==1.6.5\nBest match: pyenchant 1.6.5\npyenchant 1.6.5 is already the active version in easy-install.pth\nUsing /usr/lib/python2.7/dist-packages\nSearching for pycountry==0.14.1\nBest match: pycountry 0.14.1\npycountry 0.14.1 is already the active version in easy-install.pth\nUsing /usr/lib/python2.7/dist-packages\nSearching for Pillow==2.3.0\nBest match: Pillow 2.3.0\nPillow 2.3.0 is already the active version in easy-install.pth\nUsing /usr/lib/python2.7/dist-packages\nSearching for joblib==0.8.2\nBest match: joblib 0.8.2\nProcessing joblib-0.8.2-py2.7.egg\njoblib 0.8.2 is already the active version in easy-install.pth\nUsing /usr/local/lib/python2.7/dist-packages/joblib-0.8.2-py2.7.egg\nSearching for Cython==0.20.1post0\nBest match: Cython 0.20.1post0\nCython 0.20.1post0 is already the active version in easy-install.pth\nUsing /usr/lib/python2.7/dist-packages\nFinished processing dependencies for paperwork==0.2-testing\nLooking for Python GObject Introspection ...\nLooking for Gtk ...\nLooking for Glade UI ...\nLooking for Poppler ...\nLooking for Cairo ...\nLooking for OCR tool ...\nLooking for OCR language data ...\nAll dependencies have been found.\nnbremond@multimedia ~/git/paperwork $\n```\nDo you have any idea how to fix it ?\nIs Paperwork using python 2.7 or python3 ?\nThanks in advance for your help.\nBest regards,\nBernard\n. I did additional investigations. The install python-nose didn't help so far.\nI have reverted to git checkout stable and paperwork 0.1.3 is working fine.\nThen I went to git checkout testing and i got the same crash:\nnbremond@multimedia ~/git/paperwork $ paperwork \nTraceback (most recent call last):\n  File \"/usr/local/bin/paperwork\", line 5, in <module>\n    pkg_resources.run_script('paperwork==0.2-testing', 'paperwork')\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 528, in run_script\n    self.require(requires)[0].run_script(script_name, ns)\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 1401, in run_script\n    exec(script_code, namespace, namespace)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/EGG-INFO/scripts/paperwork\", line 3, in <module>\n    __requires__ = 'paperwork==0.2-testing'\n  File \"build/bdist.linux-x86_64/egg/paperwork/paperwork.py\", line 29, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/__init__.py\", line 59, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/backend/docimport.py\", line 28, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/backend/pdf/doc.py\", line 26, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/backend/pdf/page.py\", line 24, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/backend/common/page.py\", line 24, in <module>\n  File \"/usr/local/lib/python2.7/dist-packages/scikit_image-0.10.1-py2.7-linux-x86_64.egg/skimage/feature/__init__.py\", line 14, in <module>\n    from .orb import ORB\n  File \"/usr/local/lib/python2.7/dist-packages/scikit_image-0.10.1-py2.7-linux-x86_64.egg/skimage/feature/orb.py\", line 11, in <module>\n    from .orb_cy import _orb_loop\n  File \"orb_cy.pyx\", line 16, in init skimage.feature.orb_cy (skimage/feature/orb_cy.c:16817)\n  File \"/usr/lib/python2.7/dist-packages/numpy/lib/npyio.py\", line 734, in loadtxt\n    fh = iter(open(fname, 'U'))\nIOError: [Errno 2] Aucun fichier ou dossier de ce type: '/usr/local/lib/python2.7/dist-packages/scikit_image-0.10.1-py2.7-linux-x86_64.egg/skimage/data/orb_descriptor_positions.txt'\nnbremond@multimedia ~/git/paperwork $\nLooking at the error message, it seems to be looking for orb_descriptor_positions.txt in a directory that doesn't not contain this file on my computer...\nSo I downloaded this file from 'https://github.com/scikit-image/scikit-image/tree/master/skimage/data' and put it in '/usr/local/lib/python2.7/dist-packages/scikit_image-0.10.1-py2.7-linux-x86_64.egg/skimage/data'. This fixed the issue with this issue, but another one appear:\nTraceback (most recent call last):\n  File \"/usr/local/bin/paperwork\", line 5, in <module>\n    pkg_resources.run_script('paperwork==0.2-testing', 'paperwork')\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 528, in run_script\n    self.require(requires)[0].run_script(script_name, ns)\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 1401, in run_script\n    exec(script_code, namespace, namespace)\n  File \"/usr/local/lib/python2.7/dist-packages/paperwork-0.2_testing-py2.7.egg/EGG-INFO/scripts/paperwork\", line 3, in <module>\n    __requires__ = 'paperwork==0.2-testing'\n  File \"build/bdist.linux-x86_64/egg/paperwork/paperwork.py\", line 29, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/frontend/mainwindow/__init__.py\", line 59, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/backend/docimport.py\", line 28, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/backend/pdf/doc.py\", line 26, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/backend/pdf/page.py\", line 24, in <module>\n  File \"build/bdist.linux-x86_64/egg/paperwork/backend/common/page.py\", line 24, in <module>\n  File \"/usr/local/lib/python2.7/dist-packages/scikit_image-0.10.1-py2.7-linux-x86_64.egg/skimage/feature/__init__.py\", line 14, in <module>\n    from .orb import ORB\n  File \"/usr/local/lib/python2.7/dist-packages/scikit_image-0.10.1-py2.7-linux-x86_64.egg/skimage/feature/orb.py\", line 11, in <module>\n    from .orb_cy import _orb_loop\n  File \"orb_cy.pyx\", line 16, in init skimage.feature.orb_cy (skimage/feature/orb_cy.c:16817)\n  File \"/usr/lib/python2.7/dist-packages/numpy/lib/npyio.py\", line 848, in loadtxt\n    items = [conv(val) for (conv, val) in zip(converters, vals)]\n  File \"/usr/lib/python2.7/dist-packages/numpy/lib/npyio.py\", line 616, in <lambda>\n    return lambda x: int(float(x))\nValueError: could not convert string to float: <!DOCTYPE\nSo I did reinstall scikit-image from the dev source, running the following:\ngit clone http://github.com/scikit-image/scikit-image.git\ncd scikit-image/\n sudo python setup.py install\nAn paperword 0.2-git is working now...\nThanks for your help.\nBest regards,\nBernard.\n. Thanks for our reply.\nHere is the result of the python /tmp/list_all.py\n```\nnbremond@multimedia ~/git/paperwork $ python /tmp/list_all.py\nScanner 'brother4:net1;dev0' (Brother, MFC-J6920DW, MFC-J6920DW)\n  Option: brightness\n    Title: Brightness\n    Desc: Controls the brightness of the acquired image.\n    Type:  : Fixed (2)\n    Unit:  : Percent (5)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-3276800, 3276800, 65536)\n    Value: Failed to get the value: Option 'brightness' is not active\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 27525120, 6553)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19464192, 6553)\n    Value: 0\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 27525120, 6553)\n    Value: 27525120\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19464192, 6553)\n    Value: 19464192\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 64\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['FlatBed', 'Automatic Document Feeder(left aligned)', 'Automatic Document Feeder(left aligned,Duplex)', 'Automatic Document Feeder(centrally aligned)', 'Automatic Document Feeder(centrally aligned,Duplex)']\n    Value: Automatic Document Feeder(left aligned)\n  Option: mode\n    Title: Scan mode\n    Desc: Select the scan mode\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 30\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Black & White', 'Gray[Error Diffusion]', 'True Gray', '24bit Color[Fast]']\n    Value: 24bit Color[Fast]\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [100, 150, 200, 300, 400, 600, 1200, 2400, 4800, 9600]\n    Value: 200\n  Option: contrast\n    Title: Contrast\n    Desc: Controls the contrast of the acquired image.\n    Type:  : Fixed (2)\n    Unit:  : Percent (5)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-3276800, 3276800, 65536)\n    Value: Failed to get the value: Option 'contrast' is not active\nScanner 'epson2:libusb:002:002' (Epson, GT-8300, flatbed scanner)\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19475988, 0)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 0\n  Option: sharpness\n    Title: Sharpness\n    Desc: \n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-2, 2, 0)\n    Value: 0\n  Option: cct-type\n    Title: CCT Profile Type\n    Desc: Color correction profile type\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 21\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Automatic', 'Reflective', 'Colour negatives', 'Monochrome negatives', 'Colour positives']\n    Value: Failed to get the value: Option 'cct-type' is not active\n  Option: mirror\n    Title: Mirror image\n    Desc: Mirror the image.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: threshold\n    Title: Threshold\n    Desc: Select minimum-brightness to get a white point\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 128\n  Option: adf-mode\n    Title: ADF Mode\n    Desc: Selects the ADF mode (simplex/duplex)\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Simplex', 'Duplex']\n    Value: Failed to get the value: Option 'adf-mode' is not active\n  Option: color-correction\n    Title: Color correction\n    Desc: Sets the color correction table for the selected output device.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 25\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Built in CCT profile', 'User defined CCT profile']\n    Value: Built in CCT profile\n  Option: cct-profile\n    Title: CCT Profile\n    Desc: Color correction profile data\n    Type:  : Fixed (2)\n    Unit:  : None (0)\n    Size: 36\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : Range (1)\n    Constraint: (-131072, 131072, 0)\n    Value: 0\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 18\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Flatbed', 'Transparency Unit']\n    Value: Flatbed\n  Option: preview\n    Title: Preview\n    Desc: Request a preview-quality scan.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: focus-position\n    Title: Focus Position\n    Desc: Sets the focus position to either the glass or 2.5mm above the glass\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 24\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Focus on glass', 'Focus 2.5mm above glass']\n    Value: Focus on glass\n  Option: halftoning\n    Title: Halftoning\n    Desc: Selects the halftone.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 26\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Halftone A (Hard Tone)', 'Halftone B (Soft Tone)', 'Halftone C (Net Screen)', 'Dither A (4x4 Bayer)', 'Dither B (4x4 Spiral)', 'Dither C (4x4 Net Screen)', 'Dither D (8x4 Net Screen)', 'Text Enhanced Technology', 'Download pattern A', 'Download pattern B']\n    Value: Halftone A (Hard Tone)\n  Option: film-type\n    Title: Film type\n    Desc: \n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 15\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Positive Film', 'Negative Film', 'Positive Slide', 'Negative Slide']\n    Value: Failed to get the value: Option 'film-type' is not active\n  Option: auto-eject\n    Title: Auto eject\n    Desc: Eject document after scanning\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value: Option 'auto-eject' is not active\n  Option: dropout\n    Title: Dropout\n    Desc: Selects the dropout.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 6\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Red', 'Green', 'Blue']\n    Value: None\n  Option: green-gamma-table\n    Title: Green intensity\n    Desc: Gamma-correction table for the green band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: Failed to get the value: Option 'green-gamma-table' is not active\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19475988, 0)\n    Value: 19475988\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 14149222\n  Option: auto-area-segmentation\n    Title: Auto area segmentation\n    Desc: Enables different dithering modes in image and text areas\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 1\n  Option: wait-for-button\n    Title: Wait for Button\n    Desc: After sending the scan command, wait until the button on the scanner is pressed to actually start the scan process.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: blue-gamma-table\n    Title: Blue intensity\n    Desc: Gamma-correction table for the blue band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: Failed to get the value: Option 'blue-gamma-table' is not active\n  Option: brightness\n    Title: Brightness\n    Desc: Selects the brightness.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-4, 3, 0)\n    Value: 0\n  Option: bay\n    Title: Bay\n    Desc: Select bay to scan\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 2\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['1', '2', '3', '4', '5', '6']\n    Value: Failed to get the value: Option 'bay' is not active\n  Option: depth\n    Title: Bit depth\n    Desc: Number of bits per sample, typical values are 1 for \"line-art\" and 8 for multibit scans.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [16, 14, 12, 8]\n    Value: Failed to get the value: Option 'depth' is not active\n  Option: gamma-correction\n    Title: Gamma Correction\n    Desc: Selects the gamma correction value from a list of pre-defined devices or the user defined table, which can be downloaded to the scanner\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 23\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'User defined', 'High density printing', 'Low density printing', 'High contrast printing']\n    Value: Default\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Lineart', 'Gray', 'Color']\n    Value: Lineart\n  Option: red-gamma-table\n    Title: Red intensity\n    Desc: Gamma-correction table for the red band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: Failed to get the value: Option 'red-gamma-table' is not active\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [50, 60, 72, 75, 80, 90, 100, 120, 133, 144, 150, 160, 175, 180, 200, 216, 240, 266, 300, 320, 350, 360, 400, 480, 600, 720, 800, 900, 1200, 1600, 1800, 2400, 3200, 6400, 9600, 12800]\n    Value: 25\nnbremond@multimedia ~/git/paperwork $ \n```\nIMPORTANT: I have 2 scanners attached to my computer, the Brother multifunction we are talking about, and an Epson single side  flatbed. The scanner to consider is the Brother one, at the begining of the report.\nThis scanner scan the 2 sides in one run, and should output the two scan data in a raw, one after the other... I don't known in which format.\nI hope this will help... If you need more test, please let me know...\nBest regards,\nBernard.\n. I'am not sure, because this option belong to the second part of the dump: concerning my second EPSON scanner not the Brother one. I think the second part of the dump is not relevant because I'am using the brother scanner with paperwork and not the Epson (the brother is duplex, not the epson...)\nIt looks like paperwork launch the scan, take back the data from the 1st page, and start the analysis... but maybee it should get also the data from the second page right away before starting the analysis. The scanner become available for other tasks (printig, faxing, scanning...) just after paperwork read the first page, and the data from the second page are propably lots at thi time....\nI have rerun the dump just after runing paperwork in duplex mode... in case it changed something:\n```\nnbremond@multimedia ~/git/paperwork $ python /tmp/list_all.py\nScanner 'brother4:net1;dev0' (Brother, MFC-J6920DW, MFC-J6920DW)\n  Option: brightness\n    Title: Brightness\n    Desc: Controls the brightness of the acquired image.\n    Type:  : Fixed (2)\n    Unit:  : Percent (5)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-3276800, 3276800, 65536)\n    Value: Failed to get the value: Option 'brightness' is not active\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 27525120, 6553)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19464192, 6553)\n    Value: 0\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 27525120, 6553)\n    Value: 27525120\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19464192, 6553)\n    Value: 19464192\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 64\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['FlatBed', 'Automatic Document Feeder(left aligned)', 'Automatic Document Feeder(left aligned,Duplex)', 'Automatic Document Feeder(centrally aligned)', 'Automatic Document Feeder(centrally aligned,Duplex)']\n    Value: Automatic Document Feeder(left aligned)\n  Option: mode\n    Title: Scan mode\n    Desc: Select the scan mode\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 30\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Black & White', 'Gray[Error Diffusion]', 'True Gray', '24bit Color[Fast]']\n    Value: 24bit Color[Fast]\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [100, 150, 200, 300, 400, 600, 1200, 2400, 4800, 9600]\n    Value: 200\n  Option: contrast\n    Title: Contrast\n    Desc: Controls the contrast of the acquired image.\n    Type:  : Fixed (2)\n    Unit:  : Percent (5)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-3276800, 3276800, 65536)\n    Value: Failed to get the value: Option 'contrast' is not active\nScanner 'epson2:libusb:002:002' (Epson, GT-8300, flatbed scanner)\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19475988, 0)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 0\n  Option: sharpness\n    Title: Sharpness\n    Desc: \n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-2, 2, 0)\n    Value: 0\n  Option: cct-type\n    Title: CCT Profile Type\n    Desc: Color correction profile type\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 21\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Automatic', 'Reflective', 'Colour negatives', 'Monochrome negatives', 'Colour positives']\n    Value: Failed to get the value: Option 'cct-type' is not active\n  Option: mirror\n    Title: Mirror image\n    Desc: Mirror the image.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: threshold\n    Title: Threshold\n    Desc: Select minimum-brightness to get a white point\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: 128\n  Option: adf-mode\n    Title: ADF Mode\n    Desc: Selects the ADF mode (simplex/duplex)\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Simplex', 'Duplex']\n    Value: Failed to get the value: Option 'adf-mode' is not active\n  Option: color-correction\n    Title: Color correction\n    Desc: Sets the color correction table for the selected output device.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 25\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Built in CCT profile', 'User defined CCT profile']\n    Value: Built in CCT profile\n  Option: cct-profile\n    Title: CCT Profile\n    Desc: Color correction profile data\n    Type:  : Fixed (2)\n    Unit:  : None (0)\n    Size: 36\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : Range (1)\n    Constraint: (-131072, 131072, 0)\n    Value: 0\n  Option: source\n    Title: Scan source\n    Desc: Selects the scan source (such as a document-feeder).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 18\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Flatbed', 'Transparency Unit']\n    Value: Flatbed\n  Option: preview\n    Title: Preview\n    Desc: Request a preview-quality scan.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: focus-position\n    Title: Focus Position\n    Desc: Sets the focus position to either the glass or 2.5mm above the glass\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 24\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['Focus on glass', 'Focus 2.5mm above glass']\n    Value: Focus on glass\n  Option: halftoning\n    Title: Halftoning\n    Desc: Selects the halftone.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 26\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Halftone A (Hard Tone)', 'Halftone B (Soft Tone)', 'Halftone C (Net Screen)', 'Dither A (4x4 Bayer)', 'Dither B (4x4 Spiral)', 'Dither C (4x4 Net Screen)', 'Dither D (8x4 Net Screen)', 'Text Enhanced Technology', 'Download pattern A', 'Download pattern B']\n    Value: Halftone A (Hard Tone)\n  Option: film-type\n    Title: Film type\n    Desc: \n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 15\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Positive Film', 'Negative Film', 'Positive Slide', 'Negative Slide']\n    Value: Failed to get the value: Option 'film-type' is not active\n  Option: auto-eject\n    Title: Auto eject\n    Desc: Eject document after scanning\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: Failed to get the value: Option 'auto-eject' is not active\n  Option: dropout\n    Title: Dropout\n    Desc: Selects the dropout.\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 6\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : String list (3)\n    Constraint: ['None', 'Red', 'Green', 'Blue']\n    Value: None\n  Option: green-gamma-table\n    Title: Green intensity\n    Desc: Gamma-correction table for the green band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: Failed to get the value: Option 'green-gamma-table' is not active\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 19475988, 0)\n    Value: 19475988\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Fixed (2)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 14149222, 0)\n    Value: 14149222\n  Option: auto-area-segmentation\n    Title: Auto area segmentation\n    Desc: Enables different dithering modes in image and text areas\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 1\n  Option: wait-for-button\n    Title: Wait for Button\n    Desc: After sending the scan command, wait until the button on the scanner is pressed to actually start the scan process.\n    Type:  : Boolean (0)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\n    Constraint type:  : None (0)\n    Constraint: None\n    Value: 0\n  Option: blue-gamma-table\n    Title: Blue intensity\n    Desc: Gamma-correction table for the blue band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: Failed to get the value: Option 'blue-gamma-table' is not active\n  Option: brightness\n    Title: Brightness\n    Desc: Selects the brightness.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (-4, 3, 0)\n    Value: 0\n  Option: bay\n    Title: Bay\n    Desc: Select bay to scan\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 2\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['1', '2', '3', '4', '5', '6']\n    Value: Failed to get the value: Option 'bay' is not active\n  Option: depth\n    Title: Bit depth\n    Desc: Number of bits per sample, typical values are 1 for \"line-art\" and 8 for multibit scans.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [16, 14, 12, 8]\n    Value: Failed to get the value: Option 'depth' is not active\n  Option: gamma-correction\n    Title: Gamma Correction\n    Desc: Selects the gamma correction value from a list of pre-defined devices or the user defined table, which can be downloaded to the scanner\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 23\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Default', 'User defined', 'High density printing', 'Low density printing', 'High contrast printing']\n    Value: Default\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : String list (3)\n    Constraint: ['Lineart', 'Gray', 'Color']\n    Value: Lineart\n  Option: red-gamma-table\n    Title: Red intensity\n    Desc: Gamma-correction table for the red band.\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 1024\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 0)\n    Value: Failed to get the value: Option 'red-gamma-table' is not active\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [50, 60, 72, 75, 80, 90, 100, 120, 133, 144, 150, 160, 175, 180, 200, 216, 240, 266, 300, 320, 350, 360, 400, 480, 600, 720, 800, 900, 1200, 1600, 1800, 2400, 3200, 6400, 9600, 12800]\n    Value: 25\n```\n. Hello\nSorry for the delay...\nI've tried with XSANE 0.998 and it worked.\nHere is the configuration I have used:\n\nAnd when I hit the \"Num\u00e9riser\" button, I get 2 PDF files, one for the recto and one other for the verso. I would have prefered one pdf file with 2 pages, but I suppose this is how xsane works with pdf.\nIs there any other information I could provide to help you ?\nBest regards,\nBernard.\n. Hello. Thanks a lot.  I ll try it as soon as i got back home later this week and i ll let you know.\nBest regards.  Bernard. \nOn 21 septembre 2014 18:56:20 CEST, Jerome Flesch notifications@github.com wrote:\n\n053b0af2d295dc0667a342438c0a2e4565c0f446\nPlease tell me if it works for you\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/jflesch/paperwork/issues/318#issuecomment-56304870\n\n\nEnvoy\u00e9 de mon t\u00e9l\u00e9phone Android avec K-9 Mail. Excusez la bri\u00e8vet\u00e9.\n. Hello,\nThanks a lot for the patch, and sorry for the delay, I had to travel.\nI tested it with my scanner (Brother MFC-J6920 multifunction scanner\nprinter, dual side) and it worked fine.\nI was able to scan dual sided A4 pages in on click (almost). \nPaperwork is a little bit slow but it recognize the 2 sides and perform\nthe OCR on them.\nI think your patch corrected the issue.\nIf I can suggest an improvement,.. maybe you could add an \"Number of\npages:Auto\" mode where paperwork will repeat dual side scanning as long\nas there is pages in the ADF...\nBy the way, I have a question: how paperwork behaves when a lot of\ndocuments have been scanned and are present in the document folder ?\nAnyway, thanks a lot for your work on paperworfk.\nBest regards,\nBernard R\u00e9mond\nLe dimanche 21 septembre 2014 \u00e0 09:56 -0700, Jerome Flesch a \u00e9crit :\n\n053b0af\nPlease tell me if it works for you\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "plietar": "Hi, I'm running debian jessie.\nThis is part of my packaging attempt. However I have the same problem when installing with sudo python ./setup.py install\n. Thanks\nFunny enough, the scanner icon was missing on my system (requires gnome-icon-theme), and that was the icon was talking about, thinking it was the paperwork.svg icon, which happened to be missing too :smile: \n. Indeed, I'm testing paperwork in a minimal debian setup to ensure all dependencies have been declared in the debian package.\n. Kind of, I'm using docker containers\n. Thanks\nHowever, SIG_DFL makes the application quit immediately, not saving the configuration.\nMoreover, if writing the config fails for another reason than the parent directory missing, it will still refuse to quit.\nI'll make a PR in a minute.\n. No it's only a problem when no locale is defined so unless you run paperwork in a chroot it's OK.\n. I think it is because tesseract is a non-pip dependency, and setup.py fails to detect it w/o pyocr. I had to patch setup.py when building the debian packages (This also avoids installing all gi packages at build time)\n. Sorry, completely forgot about this. Will do next time.\n. Hi,\nSorry I stopped working on this without any notice.\nI based my work off Ross'.\nEverything is on my Github repositories, on the debian branches of each project :\nhttps://github.com/plietar/paperwork\nhttps://github.com/plietar/pyocr\nhttps://github.com/plietar/pyinsane\nThe last packaged versions are paperwork 0.2.2, pyocr 0.3.0 and pyinsane 1.3.8.\nThey were pretty much complete. Unfortunately the process to upload into the Debian archive is quite long and tedious, and both me and the DD supervising the upload got busy with other stuff.\nTo build pyocr or pyinsane, run : \ngit-buildpackage -us -uc --git-debian-branch=debian --git-upstream-tag='v%(version)s' --git-export-dir=/path/to/output\nTo build paperwork stable,  run : \ngit-buildpackage -us -uc --git-debian-branch=debian --git-upstream-tag='%(version)s' --git-export-dir=/path/to/output\n. The pyinsane test creates a dummy device if no physical scanner is present.\nhttps://github.com/jflesch/pyinsane/blob/master/tests/tests_abstract.py#L21\nI did all my builds in a VM, without a scanner\n. ",
    "Philippe-M": "it's ok with install glade-libs, thanks\n. ",
    "Whisprin": "Maybe paperwork should actually keep two dates:\n- scanned/imported at date\n- document date\nOne could even separate the scanned and imported at date. I am scanning documents as they come and import them in bulks into paperwork. The imported date is even less interesting to me than the scanned date (e.g. creation date of the pdf).\nAlso the document date shouldn't be set automatically. Paperwork should suggest dates based on file contents.\n1. Do OCR\n2. Return all strings matching ([0-9]?[0-9]).([0-9]?[0-9]).(20)?[0-9][0-9]\n3. Suggest a list of documents dates in the date chooser\n4. Optional: Set document date to best guess (first hit, date closest to current date, etc.)\n5. The regex could be user configurable\nIf there's a better way to talk about features please let me know.\n. Yes, you're right. Didn't think about different conventions. Even the order of month and day isn't fixed.\nBut parsing a date, without knowing the format already, from a human readable string sounds like something others have already taken on.\nedit: Found this: https://github.com/kvh/recurrent\nSo there are two problems:\n- Find a string which could be a date\n- Parse that string into a date, taking locale and user preferences into account\nLooking at my local paperwork db: I could try to extract dates from a paper.words file on the command line.\n. Re: 1) Maybe show the dialog on first import and provide a \"remember this setting flag\" which can be changed in the settings. At least this dialog shouldn't block batch imports of pdfs from folders.\nRe: 2) After looking at some recognized text it turns out that a lot of dates are not parsed correctly. e.g.:\n29.o9.2o1e\nThere might be an option to pass parameters to the OCR engine to improve the recognition of numbers or suggest similar looking characters. Also a preceding \"Date: \" (in different languages) could be handy.\nThis already sounds a lot like the suggested big-data AI ;)\nedit: I was able to get better OCR results (in general and regarding numbers) using those two commands:\nconvert -density 300 doc.pdf -colorspace gray doc.png\ntesseract doc.png doc.words -l deu hocr\n. I'm using Arch Linux and the aur package for paperwork.\nhttps://aur.archlinux.org/packages/paperwork/\nThe current version is 1.2.4. ",
    "lapineige": "I simple comment to say that this kind of feature would be very handy for me: I frequently have to integrate a PDF that is not a fresh scanned document. And sometimes a lot of them at the same time.\nRelying on import time is just irrelevant in my case. I can't use it for a search for instance.\nSo if during import I could activate an option to use the creation/modification time, it would be handy ! :)\nI don't understand why you want to scan the date on the document. It would be useful for sure (even if it's more complex) but at least using document date is handy (I mean, the pdf metadata, not the content parsed) as you probably scanned/received it almost at the same date as scanned/created.\n. > At least this dialog shouldn't block batch imports of pdfs from folders.\n:+1:\nI think the 1) is a lot easier to implement, while I suppose 2) will require more work/testing.\n. I would have no use of paperwork on Windows. However, if you need to some tests, I can help on w7 and w8.\n. Well no problem, I don't plan to use it on Windows so it's even less work on my side ^^\n. > I forgot something in my TODO list. I intend to try to monetize Paperwork's portage to Windows (we will see if that works ;)\nI hope it works for you ;)\n(I might bought it, even if I don't use it on windows, as a thanks ;)\nBut you might miss some visibility.\n. Marketing is not always dirty ;)\nAnd it's important even for Open Source project, to have more visibility (honestly, it's not easy to discover Paperwork) and as a result more users, contributors, donators, ... ;)\nI think Paperwork deserves to be more known, and a bit of promotion can help :)\n. I'm happy to see that you already finish this work :)\n(I'm going to advertise it to my friends ^^)\nI don't have the scanner with me now, but I can do the test within a week.\nI'm going to give you the scanner model, I can test with a \"quite\" recent printer scanner, and with a pretty basic and old one.\n. I installed it right now, and I've my first error (I installed it on E://, not C://): \"Le module sp\u00e9cifi\u00e9 est introuvable\".\nBut it works anyway :)\n. 62bits Windows 8.\nThe message begins with E://Programs.\nMaybe the change of default path is messing things up ?\n. On every start, but not during install.\n. It's not on C, could it be the issue ?\nIs there an log I should check ?\n. No I'm sorry, I had some hurry to handle :/\nI won't be able to do it until next week. Sorry for the delay.\n. Annoying bug of the day: using \"\u00e0\" key (same as @) on a French keyboard starts Paperwork. (this is really weird ^^).\n(no problem on Linux version). I used 1.0.2, so time to update ^^. I can, without any problem.\n(I'll give you the logs ASAP). (thanks for your reactivity :+1: )\nThat console log is super verbose ^^\n\nMy guess is that tags were added automatically when the document was scanned (as they should)\n\nOh... so your software is really working as I expected - because I was thinking tags were generated with the OCR, but I didn't find this behavior. That's good news.\nSo, just to be sure I do everything correctly: if I import a document, it should create tag, or tag it according to the label I created before ?\nRight now I just tested with a blank installation, by importing a single pdf. I have only warnings about the time of each OCR\n(like that : WARNING paperwork.frontend.util.jobs   Job OCR:0 took 32772ms and is unstoppable ! (maximum allowed: 500ms) )\nPS: I also encountered this error- but I guess I should open another issue (done #493 )\nINFO   paperwork.frontend.util.actions Action: [Toggle all boxes visibility]\nTraceback (most recent call last):\n File \"/usr/lib/python2.7/dist-packages/paperwork/frontend/util/actions.py\", line 109, in on_switch_activated_cb\n   return self.__do()\n  File \"/usr/lib/python2.7/dist-packages/paperwork/frontend/util/actions.py\", line 64, in __do\n    return self.do(**kwargs)\n  File \"/usr/lib/python2.7/dist-packages/paperwork/frontend/mainwindow/__init__.py\", line 1106, in do\n    self.__main_win.refresh_boxes()\n  File \"/usr/lib/python2.7/dist-packages/paperwork/frontend/mainwindow/__init__.py\", line 2503, in refresh_boxes\n    page.reload_boxes(search)\nAttributeError: 'SingleAngleScanWorkflowDrawer' object has no attribute 'reload_boxes'\n. > It doesn't create tags. It just apply existing tags (or not) on new documents. It learns from the tags you applied on previous documents. Under the hood, it uses Bayesian filters for each tag.\n\nUsually, it guesses pretty poorly for the ~20 first documents, then it starts to get it right. \n\nThanks for the explanation. That's definitely something you should put in the wiki page, it was not obvious.\nThis behavior is very interesting. Thanks for developing paperwork :smiley:\n\n(hmm, while I'm thinking of it, I'm wondering if I should disable tag guessing for the 20 first documents).\n\nIf I had a few tag manually after importing, let's say, 100 documents, and redo the OCR, could it work correctly ?\n(because that's almost what I did, but with a few docs), and after almost all the tags went to most of the documents (that were quite close indeed, like a lot of magazine pdf)\n\nThis warning is raised because OCR jobs cannot be interrupted and are quite long, which is a usability problem. It's a known issue that will require a lot of work to fix :/\n\nDon't you think a multi-threaded scan, with 1 thread for 1 page,  could do the job ? (or does it needs the results of the previous pages before ?)\nOn a classical 4/8 core computer, it could already be a lot faster.\n. Ok, I'll try if it happens again :)\n\nI guess it could make sense when importing many PDFs with no text. But I assume this is not a very common case.\n\nWell it's my case, but anyway as you said it's more common to import pdf with text or to scan. Which makes it more complex to do in a multi-thread way.\n. Sorry I had no time to test it. I'll do it ASAP.\n. Sorry for the delay, I forgot to post my message:\n\nUsually, it guesses pretty poorly for the ~20 first documents, then it starts to get it right. (hmm, while I'm thinking of it, I'm wondering if I should disable tag guessing for the 20 first documents).\n\nFor the test I imported ~ 100 documents, applied a lot of tags (but they are still quite general, most of them could overlap another one) and next imported a few others. Tags were added successfully :)\nThis time there is no change when I re-open paperwork.\nBut in most cases, I got too many tags, and a few irrelevant. I guess I should add more precise tagging.\n. Indeed, the issue is solved.\n\nBut in most cases, I got too many tags, and a few irrelevant. I guess I should add more precise tagging.\nIt's a bit off-topic, but do you know how to improve this ?  Should I add more precise tags ? Try to re-index all the documents ?\n. It seems ^^\nI'm sorry I had no time to study the code and send a PR. Sounds like a good first bug ^^ (light and inoffensive - if all bugs could be like that... ;) )\n. \n",
    "starox": "I started to work on this, you can saw the current state at :\nhttps://github.com/starox/paperwork/tree/unstable\n. ",
    "ericxuo": "Hi,\nYou're right, I made a mistake. It is ~/papers and not ~/paper.\nOn the other point, I can precise that :\nIf I select Documents/PaperWork just by highlighting the directory PaperWork, the directory PaperWork is removed. And the document is saved under ~/papers.\nIf I select Documents/PaperWork by going INSIDE Documents/PaperWork, then the directory Documents/PaperWork is not removed but the documents are stored again in ~/papers.\nThe changes done as related in https://bugs.mageia.org/show_bug.cgi?id=14154 work fine for me.\nRegards.\nXuo.\n. ",
    "avaiss": "Here is the full log.\nhttps://gist.github.com/Starch/6109f48b49eb8c15f728#file-gistfile1-txt\nThen I deleted ~/.local/share/paperwork and hooray ! it worked, no more exception and gui not locked on 'indexing new document'...\nThank you very much\n. Please put back the setting for allowing to deactivate this option instead of update the documentation.\n1. Even if \"fast\", it is still slower than doing the OCR once\n2. In most of my cases, pages are already in proper orientation, and process is wrong about 80% of times, reorienting the scans and giving me extra work to reorient the pages.\n. Seems I have tesseract-ocr 3.04.00-5+b1 (debian stretch / testing) and pyocr 0.3.1 (my paperwork virtualenv).\nAttached the result of pip freeze from inside my virtualenv.\npwk.env.txt\n. dectection goes wrong on portrait pages for me (i rarely scan landscape ones)\npaperwork.20160207-093114.txt\n. Here is the log.\n. The warning itself seems to be due to the 'icon' property to the gtkApplicationWindow in mainwindow.glade. This property seems to not be needed, an can probably be removed, as the icon is programatically set to paperwork_halo.svg afterthat.\nNow, why the image is not displayed I do not know. I used to have this problem but it disappeared when i switched to unstable.. I mean the paperwork branch unstable.. Of course, I will work on that :-). I am not really confident about pushing a rebase onto an already pushed branch so I will close this PR and open another one. Sorry for the noise.. ",
    "scubbx": "Here is the output:\n\nScanner 'niash:libusb:006:002' (Hewlett-Packard, ScanJet 3400C, flatbed scanner)\n  Option: gamma-table\n    Title: Image intensity\n    Desc: Gamma-correction table.  In color mode this option equally affects the red, green, and blue channels simultaneously (i.e., it is an intensity gamma table).\n    Type:  : Integer (1)\n    Unit:  : None (0)\n    Size: 16384\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 255, 1)\n    Value: 0\n  Option: tl-y\n    Title: Top-left y\n    Desc: Top-left y position of scan area.\n    Type:  : Integer (1)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 296, 1)\n    Value: 0\n  Option: tl-x\n    Title: Top-left x\n    Desc: Top-left x position of scan area.\n    Type:  : Integer (1)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 220, 1)\n    Value: 0\n  Option: br-y\n    Title: Bottom-right y\n    Desc: Bottom-right y position of scan area.\n    Type:  : Integer (1)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 296, 1)\n    Value: 290\n  Option: br-x\n    Title: Bottom-right x\n    Desc: Bottom-right x position of scan area.\n    Type:  : Integer (1)\n    Unit:  : Mm (3)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 220, 1)\n    Value: 210\n  Option: mode\n    Title: Scan mode\n    Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\n    Type:  : String (3)\n    Unit:  : None (0)\n    Size: 8\n    Capabilities:  :[ Soft_select, Soft_detect, Emulated,]\n    Constraint type:  : String list (3)\n    Constraint: ['Color', 'Gray', 'Lineart']\n    Value: Color\n  Option: threshold\n    Title: Threshold\n    Desc: Select minimum-brightness to get a white point\n    Type:  : Integer (1)\n    Unit:  : Percent (5)\n    Size: 4\n    Capabilities:  :[ Inactive, Soft_select, Soft_detect, Emulated,]\n    Constraint type:  : Range (1)\n    Constraint: (0, 100, 1)\n    Value: Failed to get the value: Option 'threshold' is not active\n  Option: resolution\n    Title: Scan resolution\n    Desc: Sets the resolution of the scanned image.\n    Type:  : Integer (1)\n    Unit:  : Dpi (4)\n    Size: 4\n    Capabilities:  :[ Soft_select, Soft_detect,]\n    Constraint type:  : Word list (2)\n    Constraint: [75, 150, 300, 600]\n    Value: 150\n. Start of the application, without any interaction:\n\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   root                           Will use locales from '/usr/share/locale'\nINFO   paperwork.backend.config       Config file found: /home/scubbx/.config/paperwork.conf\nINFO   paperwork.backend.config       Reloading /home/scubbx/.config/paperwork.conf ...\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow/appmenu.xml\nINFO   root                           UI file used: /usr/share/paperwork/mainwindow/mainwindow.glade\n(paperwork:3229): Gtk-WARNING _: Could not load image 'paperwork.svg': Datei \u00bb/usr/share/paperwork/mainwindow/paperwork.svg\u00ab konnte nicht ge\u00f6ffnet werden: Datei oder Verzeichnis nicht gefunden\nINFO   paperwork.frontend.util.actions Action: [Reload current page]\nINFO   paperwork.frontend.mainwindow  Showing document 20141226_1349_13\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 0 elements displayed (0 additionnal)\nINFO   root                           Showing page Dummy page\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (603, 748)\nINFO   paperwork.frontend.mainwindow  Image view port resized. (603, 748) --> (603, 725)\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Started\nINFO   paperwork.frontend.util.actions Action: [Refresh index]\nINFO   paperwork.backend.docsearch    Opening index dir '/home/scubbx/.local/share/paperwork/index' ...\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Started\nINFO   paperwork.backend.docsearch    Opening label_estimators file '/home/scubbx/.local/share/paperwork/label_estimators/label_estimators.jbl' ...\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.util.progressivelist List 'documents' : 100 elements displayed (100 additionnal)\n_* BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n* BUG *\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\nWARNING paperwork.backend.docsearch    Warning: unknown doc type for doc '.sync'\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\n\nImporting the PDF from a file:\n\nINFO   paperwork.frontend.util.actions Action: [Import file(s)]\nINFO   root                           UI file used: /usr/share/paperwork/import/importfileselector.glade\nINFO   paperwork.frontend.mainwindow  Import: file:///home/scubbx/temp/camscan/Pensionskonto2.pdf\nINFO   paperwork.backend.docimport    Importing doc 'file:///home/scubbx/temp/camscan/Pensionskonto2.pdf' ...\nINFO   paperwork.backend.pdf.doc      PDF: Importing 'file:///home/scubbx/temp/camscan/Pensionskonto2.pdf'\nINFO   paperwork.frontend.mainwindow  Importing 1 docs and 0 pages\nINFO   paperwork.frontend.mainwindow  Showing document 20141226_1353_39\nINFO   root                           Showing page 20141226_1353_39 p1\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 2 elements displayed (2 additionnal)\nINFO   paperwork.frontend.mainwindow  Examining page 20141226_1353_39 p1\nINFO   paperwork.frontend.mainwindow  Image view port resized. (603, 725) --> (599, 725)\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Image view port resized. (599, 725) --> (601, 725)\nINFO   paperwork.frontend.mainwindow  Doing OCR on 20141226_1353_39 p1\nINFO   paperwork.frontend.mainwindow  Doc is already shown\nINFO   paperwork.frontend.mainwindow  Showing document 20141226_1353_39\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   root                           Showing page 20141226_1353_39 p1\nINFO   paperwork.frontend.util.actions Action: [Show a page (selected from the page thumbnail list)]\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 2 elements displayed (2 additionnal)\nINFO   paperwork.frontend.mainwindow.scan Will use tool 'Tesseract'\nINFO   paperwork.frontend.mainwindow.scan Starting OCR on angle 0\nINFO   paperwork.frontend.mainwindow.scan Running OCR on page orientation 0\nINFO   paperwork.frontend.mainwindow  Image view port resized. (601, 725) --> (599, 725)\nINFO   paperwork.frontend.mainwindow  Image view port resized. (599, 725) --> (601, 725)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 0: (0, 0) (512, 725) -> (98, 72) (404, 581)\nINFO   paperwork.frontend.mainwindow.scan Evaluating score of page orientation (0) using method 'spell_checker' ...\nINFO   paperwork.frontend.mainwindow.scan OCR done on angle 0: 11030.000000\nINFO   paperwork.frontend.mainwindow.scan Best: 11030.000000\nWARNING paperwork.frontend.util.jobs   Job OCR:0 took 26477ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.mainwindow  Examining page 20141226_1353_39 p2\nINFO   paperwork.frontend.mainwindow  Doing OCR on 20141226_1353_39 p2\nINFO   paperwork.frontend.mainwindow  Doc is already shown\nINFO   paperwork.frontend.mainwindow  Showing document 20141226_1353_39\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   root                           Showing page 20141226_1353_39 p1\nINFO   paperwork.frontend.util.actions Action: [Show a page (selected from the page thumbnail list)]\nINFO   paperwork.frontend.util.progressivelist List 'pages' : 2 elements displayed (2 additionnal)\nINFO   paperwork.frontend.mainwindow.scan Will use tool 'Tesseract'\nINFO   paperwork.frontend.mainwindow.scan Starting OCR on angle 0\nINFO   paperwork.frontend.mainwindow.scan Running OCR on page orientation 0\nINFO   paperwork.frontend.mainwindow  Image view port resized. (601, 725) --> (599, 725)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 0: (0, 892) (512, 725) -> (98, 965) (403, 579)\nINFO   paperwork.frontend.mainwindow  Image view port resized. (599, 725) --> (601, 725)\nINFO   paperwork.frontend.mainwindow.scan Evaluating score of page orientation (0) using method 'spell_checker' ...\nINFO   paperwork.frontend.mainwindow.scan OCR done on angle 0: 8505.000000\nINFO   paperwork.frontend.mainwindow.scan Best: 8505.000000\nWARNING paperwork.frontend.util.jobs   Job OCR:0 took 13838ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.mainwindow  OCR has been redone on all the target pages\nINFO   paperwork.frontend.mainwindow  Predicting labels on doc 20141226_1353_39\nINFO   paperwork.frontend.mainwindow  Label predicted on doc 20141226_1353_39\nINFO   paperwork.frontend.mainwindow  Updating index for 1 docs\nINFO   paperwork.backend.docsearch    Updating modified doc: 20141226_1353_39\nINFO   paperwork.backend.docsearch    Fitting estimator with doc: 20141226_1353_39 \nINFO   paperwork.backend.docsearch    Index: Commiting changes and saving estimators\nINFO   paperwork.backend.docsearch    Opening index dir '/home/scubbx/.local/share/paperwork/index' ...\nINFO   paperwork.backend.docsearch    Opening label_estimators file '/home/scubbx/.local/share/paperwork/label_estimators/label_estimators.jbl' ...\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.util.progressivelist List 'documents' : 100 elements displayed (100 additionnal)\n* BUG *\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n* BUG *\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\n\nInserting the search-string via ctr-v from the clipboart into the search box (to avoid incemental search each time a letter is typed):\n\nINFO   paperwork.frontend.util.actions Action: [Update search results]\nINFO   paperwork.frontend.mainwindow  Searching: [Pensionskonto]\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow  No document selected. Can't open\nINFO   paperwork.frontend.util.progressivelist List 'documents' : 2 elements displayed (2 additionnal)\n. I just created a PDF which has the same problem and uplaoded it here: http://www.gisforge.com/files/TestDocument.pdf\nIt is of very low quality, but the words \"\u00dcbung\" and \"Abgabe\" are still correctly identified by my german OCR. When searching for either of these two words, this document is also not displayed in the list of results.\n. It's working now, thank you!\n. I tried it on a different computer with a different collection of documents and the same thing happens.\n. It seems to work now!\n. I might have filed the bug-report pematurely - with other documents it is working. I will watch the behaviour and report back.\n. Since the original bug report, there have been released new versions of Paperwork and I also did a fresh install on my system, so the circumstances of the original bug report have changed considerably.\nI did not yet reorder any other pages, so I did not stumble upon this bug again.. Installation works now, thank you very much!\n. Thanks for the patch, but it seems that the version-dependency issues go deeper. The UI files also have a version number - now this error is displayed\n\ngi._glib.GError: src/paperwork/frontend/mainwindow/mainwindow.glade: required gtk+ version 3.14, current version is 3.10\nThe reason for Mint 17 having older packages might be because it is based on the latest LTS release of Ubuntu which dates back to mid-2014.\n(not sure if I actually CAN reopen any tickets)\n. A possible workaround could be to use the (experimental?) Docker image. It might not be the most comfortable solution, but it is certainly better than a virtualization and everybody can stay with the preferred OS. :-D\nBut: It is not yet working correctly, since it does not show the contents of the selected document. (I just want to take a note of this here in case someone with more experience with Docker stumbles upon this note and is able to fix this) Google-Group discussion: https://groups.google.com/forum/#!topic/paperwork-gui/pwETR9NoXO4\nThe steps I took to install the Docker container on Linux Mint 17 were:\n- Install Docker using this guide https://docs.docker.com/compose/install/ and thereby also install docker-compose (I had to manually install the packages apparmor and cgroup-lite). Make sure that the Docker service is running: sudo service docker status.\n- Clone the paperwork-docker git repository: git clone https://github.com/kschwank/paperwork-docker\n- In the terminal inside the freshly cloned git repository, switch to the unstable branch: git checkout unstable\n- Assuming we already have a papers folder, we have to link our existing papers folder with the one inside the container for paperwork to have access to it. To do so, open the file docker-compose.xml in the root of the git repository and add a line, similarly to this one at the end: - /home/USER/papers:/home/paperworker/papers . The part before the colon is the path on your current file system, the part after it describes the path inside the docker image. This second part is hardcoded, so there is no need to change this one.\n- With the command sudo docker-compose up executed inside the paperwork-docker git-folder, the docker image is created, Paperwork and its dependencies are compiled and the program itself executed. The first startup takes a while.\n- At least on my machine, the list of documents is displayed - now it is only necessary to make the actual documents appear. ;-)\n. Yes, I tried changing the version string, but then other errors appear ...\nIf I don't switch to unstable, the version of paperwork is 0.2.4 (!) Don't ask me, according to the Dockerfile, it should be the current stable branch of this repository - an excerpt of the \"stable\" branch Dockerfile:\nRUN git clone https://github.com/jflesch/paperwork.git\nWORKDIR /paperwork\nRUN git checkout stable\nRUN ./setup.py build\nLooks like a mix-up on my part, but this is a different problem I guess, since it boils down to version 0.3.x not displaying the content of the selected paper.\n. ",
    "woshilapin": "Sorry, I did it on the wrong branch, I'll do it on the unstable one.\n. OK, thanks for the reply and the time.  And very nice work :-)\n. ",
    "weems": "Apologies, I will remove I meant to add to a different project of the same name. \n. ",
    "CyrilBrulebois": "In its simplest form, scan 3 pages from an ADF, select page 3, move it between 1 and 2. It triggers this bug all the time for me: no refresh of the thumbnails but the pages are correctly ordered (the move is taken into account) as seen when clicking on each and every page, or when exporting to an external PDF file.\n(All of this using 74d47c72ae15afdc38c9723a98012948aa43f42a)\n. Unfortunately I don't have access to the scanning hardware right now (and won't have for a while), so feel free to close this as fixed/not reproducible (as far as I'm concerned); I'll open up a fresh bug report if I hit this again with a current version once I'm back to scanning stuff.. ",
    "mathieumd": "I don't know from what version I upgraded. Is there still a way to know it?\nAll I can say is that the last time I upgaded was on February 18, 2015, 12:30 CET (thanks Bash history :)).\n```\npip show Whoosh\n\nName: Whoosh\nVersion: 2.7.0\nLocation: /usr/local/lib/python2.7/dist-packages\nRequires: \n```\n. I applied your fix, and things seems alright for now. Thanks!\n. Oups. The symlinks are actually not synchronized by ownCloud, but well, you get the idea...\n. Hello,\nYou understand well. When I'm using another computer, I still need a way to access and find my documents.\nOwnCloud does not support symlinks (yet...?), but I heard DropBox dereferences them (awful -- symlinks ain't hardlinks or copies -- but it's another story).\nNow, as I was thinking about how to fix my use case (ownCloud's hate for symlinks), I found another way to answer the general \"remote access\" use case: generate an HTML index.html linking to label indexes (MyLabel.html), which themself would contains links to each documents-folder. With modern Firefox, even PDFs would be well displayed. Oh, and thumbnails too, why not.\n. I am not really concerned about possible lack of features for WIndows users... ;-)\nBut, indeed, symlinks are not supported by some file synchronization (cf. ownCloud).\nThat's why a simple HTML output seems to be a good idea.. Thanks for your quick reply. You don't need to apologize!\nUnfortunately, my problem seems to still be the same. I did sudo pip uninstall paperwork then sudo pip3 install paperwork. Both paperwork-shell chkdeps said All dependencies have been found., but still:\n```\n$ paperwork\nINFO   paperwork.paperwork            Using locales in '/usr/share/locale'\nINFO   pyinsane2.sane.abstract_proc   Starting Pyinsane subprocess\nINFO   pyinsane2.sane.abstract_proc   Pyinsane pipes: /tmp/pyinsane__jpn0m7s/pipe_c2s | /tmp/pyinsane__jpn0m7s/pipe_s2c\nINFO   pyinsane2.sane.abstract_proc   Connected to Pyinsane subprocess\nINFO   paperwork_backend.config       Config file found: /home/mathieu/.config/paperwork.conf\nINFO   paperwork_backend.config       Reloading /home/mathieu/.config/paperwork.conf ...\n(paperwork:24404): Gtk-WARNING **: Failed to get the GNOME session proxy: The name org.gnome.SessionManager is not owned\n(paperwork:24404): Gtk-WARNING **: Failed to get the Xfce session proxy: The name org.xfce.SessionManager is not owned\n(paperwork:24404): Gtk-WARNING **: Failed to get an inhibit portal proxy: The name org.freedesktop.portal.Desktop is not owned\nINFO   paperwork.frontend.util        UI file used: /usr/share/paperwork/mainwindow/appmenu.xml\nINFO   paperwork.paperwork            Good bye\nTraceback (most recent call last):\n  File \"/usr/local/bin/paperwork\", line 6, in \n    main()\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork/paperwork.py\", line 118, in main\n    main_win = MainWindow(config)\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork/frontend/mainwindow/init.py\", line 2075, in init\n    self.advanced_app_menu = self.__init_app_menu(config, self.app)\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork/frontend/mainwindow/__init.py\", line 2623, in __init_app_menu\n    menu.remove(0)\nAttributeError: 'NoneType' object has no attribute 'remove'\n```\nYou initially asked for pip3 show pycountry, here it is:\n```\nMetadata-Version: 2.0\nName: pycountry\nVersion: 16.11.8\nSummary: ISO country, subdivision, language, currency and script definitions and their translations\nHome-page: UNKNOWN\nAuthor: Christian Theune\nAuthor-email: ct@flyingcircus.io\nInstaller: pip\nLicense: LGPL 2.1\nLocation: /usr/local/lib/python3.5/dist-packages\nRequires:\nClassifiers:\n  Development Status :: 5 - Production/Stable\n  Intended Audience :: Developers\n  Intended Audience :: Information Technology\n  License :: OSI Approved :: GNU Lesser General Public License v2 (LGPLv2)\n  Operating System :: OS Independent\n  Programming Language :: Python\n  Programming Language :: Python :: 2\n  Programming Language :: Python :: 2.6\n  Programming Language :: Python :: 2.7\n  Programming Language :: Python :: 3\n  Programming Language :: Python :: 3.3\n  Programming Language :: Python :: 3.4\n  Programming Language :: Python :: 3.5\n  Topic :: Software Development :: Internationalization\n  Topic :: Software Development :: Localization\nYou are using pip version 8.1.2, however version 9.0.1 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n```\n. > 1) How did you install Paperwork exactly ?\nA long time ago, I may have installed it through git clone (if it was actually a possible installation method, I really don't remember... :-/). Then, a few months ago, I installed it through sudo pip install paperwork, but uninstalled it today, then ran the sudo pip3 install paperwork.\n\n2) Can you post a copy of your '/usr/share/paperwork/mainwindow/appmenu.xml' here please ? (btw, I just realized it should be installed in /usr/local -- #513)\n\nFile date is 2016-02-16, which may be the day I installed it first through pip (or not, I don't remember at all). Should have it been replaced by 1.0?\nxml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<interface>\n        <menu id=\"menubar\">\n                <submenu id=\"app-menu\">\n                        <attribute name=\"label\" translatable=\"yes\">_File</attribute>\n                        <section>\n                                <item>\n                                        <attribute name=\"label\" translatable=\"yes\">_Settings</attribute>\n                                        <attribute name=\"action\">app.settings</attribute>\n                                </item>\n                        </section>\n                        <section>\n                                <submenu id=\"advanced\">\n                                        <attribute name=\"label\" translatable=\"yes\">_Advanced</attribute>\n                                        <item>\n                                                <attribute name=\"label\" translatable=\"yes\">Optimize index</attribute>\n                                                <attribute name=\"action\">app.optimize_index</attribute>\n                                        </item>\n                                        <item>\n                                                <attribute name=\"label\" translatable=\"yes\">Reindex all the documents</attribute>\n                                                <attribute name=\"action\">app.reindex_all</attribute>\n                                        </item>\n                                        <item>\n                                                <attribute name=\"label\" translatable=\"yes\">Redo OCR on all the documents</attribute>\n                                                <attribute name=\"action\">app.redo_ocr_all</attribute>\n                                        </item>\n                                </submenu>\n                        </section>\n                        <section>\n                                <item>\n                                        <attribute name=\"label\" translatable=\"yes\">_About</attribute>\n                                        <attribute name=\"action\">app.about</attribute>\n                                </item>\n                                <item>\n                                        <attribute name=\"label\" translatable=\"yes\">_Quit</attribute>\n                                        <attribute name=\"action\">app.quit</attribute>\n                                </item>\n                        </section>\n                </submenu>\n        </menu>\n</interface>\n. OK, it's fixed.\nAll uninstall commands were successful at first run (every next runs returns Cannot uninstall requirement paperwork, not installed).\nBut what made the difference, was to remove the folder /usr/share/paperwork. Now it runs well, and I can see the fun airplane origami paper. :)\nThanks for your help! And for Papercut also, of course!\n. OK, sudo pip3 install --upgrade paperwork is better.\nBut now I lose my tags. Documents lists in the left column has them, but if I edit a document, I got no list of tags; and when going back to the documents list, this very document has lost its tags.. Not when opening/editing a document, but when starting Paperwork:\n...\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  31 labels found\nINFO   paperwork.frontend.mainwindow  New document: 154\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nERROR  paperwork.frontend.diag        === UNCATCHED EXCEPTION ===\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork/frontend/mainwindow/__init__.py\", line 2145, in __on_doc_exam_en\nd\n    examiner.docsearch.label_list = examiner.labels\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork_backend/docsearch.py\", line 843, in __set_label_list\n    self.label_guesser.load(label.name)\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork_backend/labels.py\", line 257, in load\n    mkdir_p(baye_dir)\n  File \"/usr/local/lib/python3.5/dist-packages/paperwork_backend/util.py\", line 199, in mkdir_p\n    os.makedirs(path)\n  File \"/usr/lib/python3.5/os.py\", line 241, in makedirs\n    mkdir(name, mode)\nPermissionError: [Errno 13] Permission non accord\u00e9e: '/RojPEHe5KUzecXvMmuW2WrMJgw='\nERROR  paperwork.frontend.diag        ===========================\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow  Got 155 documents\n...\nAccording to strace, it tries to create a directory under /!\nmkdir(\"/RojPEHe5KUzecXvMmuW2WrMJgw=\", 0777) = -1 EACCES (Permission denied). Thanks for your help! I applied the patch from #558 and it works fine.. ",
    "Che4ter": "you're right, i changed the icon to another and it works again. I'm running gnome 3.14.4 with the default theme so i have no idea why i don't have this icon.\n. ",
    "textPreferred": "I have no experience with Python, so I am not sure I tested it correctly. \nHere's what I did:\n- clone the paperwork Git repo to a local folder\n- locally checked out \"unstable\"\n  (git status tells me I am\n  \"On branch unstable\n  Your branch is up-to-date with 'origin/unstable'.\")\nMoved to \"paperwork/scripts\".\nStarted \"./paperwork\".\nSame issue as before.\nThen I explicitly checked out commit 7660ae4ead889151c8021a2842c1da1794600e86, ran \"./scripts/paperwork\". \nStill the same problem.\n. Sorry, I did not see your instructions on how to test. Will follow these now.\n. No change, I am afraid. Same issue as before.\nThe console log still contains this line: \n\"WARNING paperwork.frontend.util.jobs   Job OCR:0 took 29573ms and is unstoppable ! (maximum allowed: 500ms)\"\n. paperwork-chkdeps shows something:\n```\n[WARN] Unable to figure out the exact language package to install\n[WARN] OCR language data not found\n[WARN] Dictionnary '' not found\nWARNING: Missing dependencies:\n  - Tesseract language data (python module: (none) ; ubuntu package : tesseract-ocr-)\n  - Dictionary (python module: (none) ; ubuntu package : aspell-)\nSuggested command:\n  sudo apt-get install tesseract-ocr- aspell-\nDo you want to run this command now ? [Y/n]\nY\nsh: 1: Syntax error: end of file unexpected\n```\nHowever, if I run \n\"sudo apt-get install tesseract-ocr-deu aspell-de\" (for German OCR and wordlist), I am told that both are already the newest version.\n. (Kubuntu 15.04)\n98f65da did the trick!\npaperwork-chkdeps still complains about missing OCR and spelling, but running paperwork and scanning additional pages works fine:\n- the scanning works\n- the display of the four orientations works\n- the page is added properly to the document\n- the preview is good.\nThank you!\n. Pong :)\nI should be able to test within the next 7 days.\n. I am sorry.\nHere it is:\n\"Detected python version: 2.7.10.final.0\nDetected system: Ubuntu 15.10 wily\nDetected language: en\n[WARN] Unable to figure out the exact language package to install\nLooking for Python GObject Introspection ...\nLooking for Gtk ...\nLooking for Glade UI ...\nLooking for Poppler ...\nLooking for Cairo ...\nLooking for OCR tool ...\nLooking for OCR language data ...\n[WARN] OCR language data not found\nLooking for dictionnary ''\n[WARN] Dictionnary '' not found\nWARNING: Missing dependencies:\n- Tesseract language data (python module: (none) ; ubuntu package : tesseract-ocr-)\n- Dictionary (python module: (none) ; ubuntu package : aspell-)\nSuggested command:\n  sudo apt-get install tesseract-ocr- aspell-\nDo you want to run this command now ? [Y/n]\ny\nsh: 1: Syntax error: end of file unexpected\"\n. Works!\nHere's the output:\n\"Detected python version: 2.7.10.final.0\nDetected system: Ubuntu 15.10 wily\nDetected language: en\nLooking for Python GObject Introspection ...\nLooking for Gtk ...\nLooking for Glade UI ...\nLooking for Poppler ...\nLooking for Cairo ...\nLooking for OCR tool ...\nLooking for OCR language data ...\nLooking for dictionnary 'en'\nAll dependencies have been found.\"\n. Sorry for the late reply. I have tested the 1.0.6 (6cb7c1d8495017bb9c1a85f2267bbcb92d652836) and this issue is fixed. Thank you!. Thank you!\nI first pulled/installed paperwork:stable, but that did not do the trick.\nThen I followed your instructions below (installing your version of\npyinsane) and the scanning started working again.\nHannes\nOn 11/09/2016 11:09 PM, Jerome Flesch wrote:\n\nDarn. It's a Pyinsane bug. I've pushed a fix ( jflesch/pyinsane@b77c9ae\nhttps://github.com/jflesch/pyinsane/commit/b77c9ae92be2ff6db463579735011d274de9748f\n). Can you try it please ?\n|git clone https://github.com/jflesch/pyinsane.git cd pyinsane git\ncheckout stable sudo python3 ./setup.py install |\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jflesch/paperwork/issues/512#issuecomment-259541136, or\nmute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABpEU8LiJ4Lvd7jSInYGK8TT_VeXvQoLks5q8kSzgaJpZM4Kt9mP.\n. \n",
    "peterpeter5": "Starts and works like charm! (for what I can see from my first scans :) )\n. ",
    "PaulHuygen": "I hope I may add something. I had the same problem on Xubuntu vs. 14.04 (lts that is not easy to upgrade). In my case it helped to make a symbolic link from:\n/usr/local/lib/python2.7/dist-packages/usr/share/paperwork\nto:\n/usr/local/share/paperwork\nThanks,\nPaul Huygen\n. ",
    "z0u": "I just hit this bug on Debian Jessie, too. Linking as suggested by @PaulHuygen worked.\n. These packages are also required for Debian Jessie, and are missing from the instructions. python-scipy is needed for building scikit-learn, and libfreetype6-dev is needed for building matplotlib.\n. ",
    "sampablokuper": "Similar problem here, also on Debian Jessie. In my case, I preferred to install locally (i.e. with pip install --user):\n```\n~$ pip install --user paperwork\nCollecting paperwork\n  Downloading paperwork-0.3.2.tar.gz (164kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 174kB 411kB/s \nRequirement already satisfied (use --upgrade to upgrade): Pillow in /usr/lib/python2.7/dist-packages (from paperwork)\nCollecting pycountry (from paperwork)\n  Downloading pycountry-1.20.tar.gz (5.0MB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5.0MB 76kB/s \nCollecting pyenchant (from paperwork)\n  Downloading pyenchant-1.6.6-py2.py3-none-any.whl (60kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 61kB 539kB/s \nRequirement already satisfied (use --upgrade to upgrade): python-Levenshtein in ./.local/lib/python2.7/site-packages (from paperwork)\nCollecting pyinsane>=1.3.8 (from paperwork)\n  Downloading pyinsane-1.3.8.tar.gz\nCollecting pyocr>=0.3.0 (from paperwork)\n  Downloading pyocr-0.4.1.tar.gz\nCollecting termcolor (from paperwork)\n  Downloading termcolor-1.1.0.tar.gz\nCollecting Whoosh (from paperwork)\n  Downloading Whoosh-2.7.4-py2.py3-none-any.whl (468kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 471kB 282kB/s \nCollecting simplebayes (from paperwork)\n  Downloading simplebayes-1.5.8-py2.py3-none-any.whl\nRequirement already satisfied (use --upgrade to upgrade): setuptools in ./.local/lib/python2.7/site-packages (from python-Levenshtein->paperwork)\nRequirement already satisfied (use --upgrade to upgrade): six in /usr/lib/python2.7/dist-packages (from pyocr>=0.3.0->paperwork)\nBuilding wheels for collected packages: paperwork, pycountry, pyinsane, pyocr, termcolor\n  Running setup.py bdist_wheel for paperwork ... done\n  Stored in directory: /home/sampablokuper/.cache/pip/wheels/eb/d8/c9/9508a3c7f4b3759089173eb154c9427fd48a155d38a35f6270\n  Running setup.py bdist_wheel for pycountry ... done\n  Stored in directory: /home/sampablokuper/.cache/pip/wheels/16/01/07/8b63e20f017e2fa3781be866207dd2f528f8b79331adba4b0d\n  Running setup.py bdist_wheel for pyinsane ... done\n  Stored in directory: /home/sampablokuper/.cache/pip/wheels/ab/42/0f/c1f8c69b58ed47a6dfdc542f1b5cb4306e1798038abf0f2326\n  Running setup.py bdist_wheel for pyocr ... done\n  Stored in directory: /home/sampablokuper/.cache/pip/wheels/00/41/6d/01041878b997da951deb1eac1aec67926dab9fdda34b8d9051\n  Running setup.py bdist_wheel for termcolor ... done\n  Stored in directory: /home/sampablokuper/.cache/pip/wheels/de/f7/bf/1bcac7bf30549e6a4957382e2ecab04c88e513117207067b03\nSuccessfully built paperwork pycountry pyinsane pyocr termcolor\nInstalling collected packages: pycountry, pyenchant, pyinsane, pyocr, termcolor, Whoosh, simplebayes, paperwork\nSuccessfully installed Whoosh-2.7.4 paperwork-0.3.2 pycountry-1.20 pyenchant-1.6.6 pyinsane-1.3.8 pyocr-0.4.1 simplebayes-1.5.8 termcolor-1.1.0\n~$ paperwork-chkdeps \n[WARN] Poppler is missing !\n[WARN] OCR tool not found\n[WARN] OCR language data not found\nWARNING: Missing dependencies:\n  - Poppler (python module: gi.repository.Poppler ; debian package : gir1.2-poppler-0.18)\n  - Tesseract (python module: (none) ; debian package : tesseract-ocr)\n  - Tesseract language data (python module: (none) ; debian package : tesseract-ocr-eng)\nSuggested command:\n  sudo apt-get install gir1.2-poppler-0.18 tesseract-ocr tesseract-ocr-eng\nDo you want to run this command now ? [Y/n]\ny\nReading package lists... Done\nBuilding dependency tree     \nReading state information... Done\nThe following extra packages will be installed:\n  liblept4 libopenjp2-7 libtesseract3 tesseract-ocr-equ tesseract-ocr-osd\nThe following NEW packages will be installed:\n  gir1.2-poppler-0.18 liblept4 libopenjp2-7 libtesseract3 tesseract-ocr tesseract-ocr-eng tesseract-ocr-equ\n  tesseract-ocr-osd\n0 upgraded, 8 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 29.2 MB of archives.\nAfter this operation, 79.8 MB of additional disk space will be used.\nDo you want to continue? [Y/n] y\nGet:1 tor+http://vwakviie2ienjx6t.onion/debian/ jessie/main libopenjp2-7 i386 2.1.0-2 [120 kB]\nGet:2 tor+http://vwakviie2ienjx6t.onion/debian/ jessie/main gir1.2-poppler-0.18 i386 0.26.5-2+deb8u1 [32.9 kB]\nGet:3 tor+http://vwakviie2ienjx6t.onion/debian/ jessie/main liblept4 i386 1.71-2.1+b2 [799 kB]\nGet:4 tor+http://vwakviie2ienjx6t.onion/debian/ jessie/main libtesseract3 i386 3.03.03-1 [1,066 kB]          \nGet:5 tor+http://vwakviie2ienjx6t.onion/debian/ jessie/main tesseract-ocr-eng all 3.02-2 [22.0 MB]           \nGet:6 tor+http://vwakviie2ienjx6t.onion/debian/ jessie/main tesseract-ocr-osd all 3.02-2 [4,276 kB]          \nGet:7 tor+http://vwakviie2ienjx6t.onion/debian/ jessie/main tesseract-ocr-equ all 3.02-2 [823 kB]            \nGet:8 tor+http://vwakviie2ienjx6t.onion/debian/ jessie/main tesseract-ocr i386 3.03.03-1 [134 kB]            \nFetched 29.2 MB in 1min 43s (281 kB/s)                                                                       \nSelecting previously unselected package libopenjp2-7:i386.\n(Reading database ... 291516 files and directories currently installed.)\nPreparing to unpack .../libopenjp2-7_2.1.0-2_i386.deb ...\nUnpacking libopenjp2-7:i386 (2.1.0-2) ...\nSelecting previously unselected package gir1.2-poppler-0.18.\nPreparing to unpack .../gir1.2-poppler-0.18_0.26.5-2+deb8u1_i386.deb ...\nUnpacking gir1.2-poppler-0.18 (0.26.5-2+deb8u1) ...\nSelecting previously unselected package liblept4.\nPreparing to unpack .../liblept4_1.71-2.1+b2_i386.deb ...\nUnpacking liblept4 (1.71-2.1+b2) ...\nSelecting previously unselected package libtesseract3.\nPreparing to unpack .../libtesseract3_3.03.03-1_i386.deb ...\nUnpacking libtesseract3 (3.03.03-1) ...\nSelecting previously unselected package tesseract-ocr-eng.\nPreparing to unpack .../tesseract-ocr-eng_3.02-2_all.deb ...\nUnpacking tesseract-ocr-eng (3.02-2) ...\nSelecting previously unselected package tesseract-ocr-osd.\nPreparing to unpack .../tesseract-ocr-osd_3.02-2_all.deb ...\nUnpacking tesseract-ocr-osd (3.02-2) ...\nSelecting previously unselected package tesseract-ocr-equ.\nPreparing to unpack .../tesseract-ocr-equ_3.02-2_all.deb ...\nUnpacking tesseract-ocr-equ (3.02-2) ...\nSelecting previously unselected package tesseract-ocr.\nPreparing to unpack .../tesseract-ocr_3.03.03-1_i386.deb ...\nUnpacking tesseract-ocr (3.03.03-1) ...\nProcessing triggers for man-db (2.7.0.2-5) ...\nSetting up libopenjp2-7:i386 (2.1.0-2) ...\nSetting up gir1.2-poppler-0.18 (0.26.5-2+deb8u1) ...\nSetting up liblept4 (1.71-2.1+b2) ...\nSetting up libtesseract3 (3.03.03-1) ...\nSetting up tesseract-ocr-eng (3.02-2) ...\nSetting up tesseract-ocr-osd (3.02-2) ...\nSetting up tesseract-ocr-equ (3.02-2) ...\nSetting up tesseract-ocr (3.03.03-1) ...\nProcessing triggers for libc-bin (2.19-18+deb8u4) ...\n~$ paperwork\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in 'locale/de/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/de/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/de/LC_MESSAGES/paperwork.mo' ...\nWARNING paperwork.paperwork            WARNING: Locales not found\nINFO   paperwork.backend.config       Config file not found. Will use '/home/sampablokuper/.config/paperwork.conf'\nINFO   paperwork.backend.config       Reloading /home/sampablokuper/.config/paperwork.conf ...\nERROR  paperwork.frontend.util.config Warning: Failed to figure out system language (locale is [en_GB]). Will default to eng\nERROR  paperwork.frontend.util.config Exception was: 'alpha2'\nERROR  paperwork.frontend.util        Can't find resource file 'mainwindow/appmenu.xml'. Aborting\nINFO   paperwork.paperwork            Good bye\nTraceback (most recent call last):\n  File \"/home/sampablokuper/.local/bin/paperwork\", line 6, in \n    main()\n  File \"/home/sampablokuper/.local/lib/python2.7/site-packages/paperwork/paperwork.py\", line 112, in main\n    main_win = MainWindow(config)\n  File \"/home/sampablokuper/.local/lib/python2.7/site-packages/paperwork/frontend/mainwindow/init.py\", line 1869, in init\n    self.advanced_app_menu = self.__init_app_menu(self.app)\n  File \"/home/sampablokuper/.local/lib/python2.7/site-packages/paperwork/frontend/mainwindow/__init.py\", line 2353, in init_app_menu\n    app_menu = load_uifile(os.path.join(\"mainwindow\", \"appmenu.xml\"))\n  File \"/home/sampablokuper/.local/lib/python2.7/site-packages/paperwork/frontend/util/__init.py\", line 74, in load_uifile\n    raise Exception(\"Can't find resource file '%s'. Aborting\" % filename)\nException: Can't find resource file 'mainwindow/appmenu.xml'. Aborting\n```\n. ",
    "arwarw": "Same error, on Debian wheezy.\nSome ~/.local/lib/python3.5/site-packages/usr/share/paperwork/mainwindow/appmenu.xml exists, it just doesn't find it.\n```\n1708[arw@warp:~]# .local/bin/paperwork\nWARNING paperwork.paperwork            No suitable localization file found.\nINFO   pyinsane2.sane.abstract_proc   Starting Pyinsane subprocess\nINFO   pyinsane2.sane.abstract_proc   Pyinsane pipes: /tmp/pyinsane_8o3v00vn/pipe_c2s | /tmp/pyinsane_8o3v00vn/pipe_s2c\nINFO   pyinsane2.sane.abstract_proc   Connected to Pyinsane subprocess\nINFO   paperwork_backend.config       Config file not found. Will use '/home/arw/.config/paperwork.conf'\nINFO   paperwork_backend.config       Reloading /home/arw/.config/paperwork.conf ...\n(paperwork:10829): Gtk-WARNING **: Failed to get the GNOME session proxy: The name org.gnome.SessionManager is not owned\n(paperwork:10829): Gtk-WARNING **: Failed to get the Xfce session proxy: The name org.xfce.SessionManager is not owned\n(paperwork:10829): Gtk-WARNING **: Failed to get an inhibit portal proxy: The name org.freedesktop.portal.Desktop is not owned\nERROR  paperwork.frontend.util        Can't find resource file 'mainwindow/appmenu.xml'. Aborting\nINFO   paperwork.paperwork            Good bye\nTraceback (most recent call last):\n  File \".local/bin/paperwork\", line 6, in \n    main()\n  File \"/home/arw/.local/lib/python3.5/site-packages/paperwork/paperwork.py\", line 118, in main\n    main_win = MainWindow(config)\n  File \"/home/arw/.local/lib/python3.5/site-packages/paperwork/frontend/mainwindow/init.py\", line 2075, in init\n    self.advanced_app_menu = self.__init_app_menu(config, self.app)\n  File \"/home/arw/.local/lib/python3.5/site-packages/paperwork/frontend/mainwindow/__init.py\", line 2618, in init_app_menu\n    app_menu = load_uifile(os.path.join(\"mainwindow\", \"appmenu.xml\"))\n  File \"/home/arw/.local/lib/python3.5/site-packages/paperwork/frontend/util/__init.py\", line 84, in load_uifile\n    raise Exception(\"Can't find resource file '%s'. Aborting\" % filename)\nException: Can't find resource file 'mainwindow/appmenu.xml'. Aborting\n``\n. It works if I cd to/home/arw/.local/lib/python3.5/site-packages/usr/share/paperwork, which means that either the initialisation should chdir there or all paths for resources should use the proper installation prefix, e.g. inpaperwork/frontend/mainwindow/init.py` line 2618 where this error comes from.\n. > In the case of @sampablokuper (and I assume yours), you installed Paperwork with pip3 install --user\nYes, I did.\n. ",
    "Yamakaky": "Ok\n. ",
    "trou": "I also have the bug from time to time. If I have an \"innocent\" page having the bug I'll post it.\n. ",
    "lnetwalker": "I did the calibration. It does exactly the same, scans a letter size document and allows me to setup a smaller crop size. I have postet some additional debug output to the mailinglist. There you can see that the default scan area ist 11\" which is letter size\n. your patch did the trick,\nafter applying the patch to the latest release, I entered the calibration\nand cropped to the maximum size.\nAll Documents are now scanned perfectly.\n. ",
    "kforner": "ok, I'll have a loot at it, thanks.\n. sure\n. ",
    "trenkert": "sorry, I got it to work by running the 0.3 beta. It is quite an impressive app! I only notice that documents only appear by dates not names; and page/word highlighting only worked at the beginning, now it does not highlight anything. Other than that, the speed and accuracy is really good!\n. 1) I see your point. However, I personally would like this option to either show the date or the file name (or the tags) as the \"identifier\" for the document overview. \n2) It works when I click \"redo ocr\". But documents that have been scanned before only sometimes show highlighting.\n. @tYYGH When I scan a lot of documents on the same day, and with similar words in them, it would make a big difference for me if I was able to manually asign a name to each document (as an option). I had the problem of scanning >300 pages across ~70 documents on one day and would have loved to simply type in a filename that is displayed by Paperwork. \nBut if you think of a more \"archival\" approach, it would make sense to be able to manually provide some metadata like original date (not the date of the scan), original author and so on. I don't see how this could all be covered by using tags. \n. thanks. Removing /urs/share/paperwork and then reinstalling did the trick!. ",
    "colszowka": "Just came here to say that this also happens on Ubuntu 14.04, which is the still-current LTS release of the distro, so actually many people will probably be bumping into this (at least until 16.04 LTS ships in 2 months and all the non-adventurous people like me will upgrade to that).\nPossibly Mint has the same issue as it's based off Ubuntu LTS?\nOther than that, this project looks very cool - looking forward to try it out in 2 months :)\n. ",
    "majordom21": "Yes, Ubuntu LTS\nbut changing the 3.14 in 3.10 in the glades files doesn't solve the problem.\nthanx for your answer. I'll still follow the thread until someone find the\nsoluton\n2016-02-17 17:00 GMT+01:00 Jerome Flesch notifications@github.com:\n\nClosed #443 https://github.com/jflesch/paperwork/issues/443.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jflesch/paperwork/issues/443#event-553768658.\n\n\n\nSERVELLE Dominique\n11, rue court\u00e9p\u00e9e\n21000 DIJON\ntel : 06 78 03 40 14\nwww.majordom21.org\n. ",
    "3like3beer": "Well ... fast reply.\n1) Around 100, surely not enough\n2) Ok, I think you're right. \nMy title and my text were not clear. My idea is to have the tag defined automatically.\nUse case would be scan, scan,... not bother with labelling, sorting... After some time run the algo to define/apply tags from OCRed text.\n3) Clustering can be a way to do it and you are right the output of clustering is a partition. So it is not directly suitable for tags (even if you could \"cut\" the partitions at different levels and use the partition most relevent terms as labels, but this would be ... sloppy). However there are other methods (acp...) \nMy point was not on the method/algo used (even if the issue title is misleading). \nThe feature request would be better expressed as having tags defined (new feature) and applied (existing feature) automatically (scan and forget nothing else ... then retrieve if needed).\nWhen I defined my tags I put : my children name / the companies issuing the document / the type of doc (invoice / contract)...\nThis is the kind of tags I think an algo could discover automatically.\nAnyway, I currently don't have that many docs, so I am not sure that the idea is worth anything.\n. 2 - It could a menu item be like the avanc\u00e9 - r\u00e9indexer tous les documents\navanc\u00e9 - tagg\u00e9 les documents\n3 - Not really :\nI want to be able not to define labels. I want (well I'd like) to have a button (or another trigger) so that paperwork defines them by itself based on the text the existing documents have inside / and apply them to these documents.\n4 - companies... Ok I guess you're right. Actually since I stopped using labels and remove the ones I had, it's fine now.\n. I did try with flatbed same issue (just did it  again, same problem). Sure :\nWhen I press Scan :\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nINFO   paperwork.frontend.util.config Will scan using hpaio:/net/HP_LaserJet_Pro_MFP_M127fn?ip=192.168.1.14\nINFO   paperwork.frontend.util.config Will scan at a resolution of 300\nWARNING paperwork.frontend.mainwindow  Exception while configuring scanner: :  : Error during device I/O (9). Assuming scanner is not connected\nINFO   paperwork.frontend.util.dialog Showing popup !\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   root                           UI file used: /usr/share/paperwork/settingswindow/settingswindow.glade\nINFO   paperwork.frontend.settingswindow Distribution: [ubuntu]\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'osd'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nERROR  paperwork.frontend.settingswindow Warning: Long name not found for language 'equ'.\nWARNING paperwork.frontend.settingswindow   Will use short name as long name.\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nWhen I check the printer \nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\nINFO   paperwork.frontend.settingswindow Device found: [Hewlett-Packard HP_LaserJet_Pro_MFP_M127fn] -> [hpaio:/net/HP_LaserJet_Pro_MFP_M127fn?ip=192.168.1.200]\nINFO   paperwork.frontend.settingswindow Got value [['Hewlett-Packard HP_LaserJet_Pro_MFP_M127fn', 'hpaio:/net/HP_LaserJet_Pro_MFP_M127fn?ip=192.168.1.200']]\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 6086ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Selected scanner: 0\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [hpaio:/net/HP_LaserJet_Pro_MFP_M127fn?ip=192.168.1.200]\n/usr/local/lib/python2.7/dist-packages/paperwork/paperwork.py:111: Warning: unable to set property 'xpad' of type 'guint' from value of type 'gchararray'\n  Gtk.main()\nINFO   paperwork.frontend.settingswindow Sources found: ['Flatbed', 'ADF']\nINFO   paperwork.frontend.settingswindow Got value [['Plateau', 'Flatbed']]\nWARNING paperwork.frontend.util.jobs   Job SourceFinder:0 took 3772ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [hpaio:/net/HP_LaserJet_Pro_MFP_M127fn?ip=192.168.1.200]\nINFO   paperwork.frontend.settingswindow Got value [[\"Bac d'alimentation\", 'ADF']]\nINFO   paperwork.frontend.settingswindow Resolutions found: [75, 100, 150, 200, 300, 600, 1200]\nINFO   paperwork.frontend.settingswindow Selected source: 0\nINFO   paperwork.frontend.settingswindow Selected source: 1\nINFO   paperwork.frontend.settingswindow Got value [['75', 75]]\nINFO   paperwork.frontend.settingswindow Got value [['100', 100]]\nINFO   paperwork.frontend.settingswindow Got value [['150', 150]]\nINFO   paperwork.frontend.settingswindow Got value [['200', 200]]\nINFO   paperwork.frontend.settingswindow Got value [['300 (recommand\\xc3\\xa9e)', 300]]\nINFO   paperwork.frontend.settingswindow Got value [['600', 600]]\nINFO   paperwork.frontend.settingswindow Got value [['1200', 1200]]\nI have just seen this difference:\nINFO   paperwork.frontend.util.config Will scan using hpaio:/net/HP_LaserJet_Pro_MFP_M127fn?ip=192.168.1.14\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [hpaio:/net/HP_LaserJet_Pro_MFP_M127fn?ip=192.168.1.200]\nMaybe a clue.... OK if I change the default setting to \"plateau\" it works !!\n. To recap : \n\ndefault =feeder / select scan from flatbed / nothing in the feeder : does not work (ko)\ndefault =feeder / select scan from feeder / nothing in the feeder : does not work (ok)\n\ndefault =flatbed / select scan from flatbed / nothing in the feeder : does work (ok)\n\n\ndefault =* / select scan from feeder / something in the feeder : does work (ok)\n. Ah ah. Ok, maybe you could rename the button scan as scan one page and scan\nfrom feeder as scan multiple pages.\nBtw, I would rather like to be able to sel ct the source with the button\nand when I scan from feeder always get the multiple doc pop up, but this is\npersonal.\n\n\nLe mar. 7 nov. 2017 \u00e0 08:09, Jerome Flesch notifications@github.com a\n\u00e9crit :\n\ndefault =feeder / select scan from flatbed / nothing in the feeder : does\nnot work (ko)\nI think there is a confusion here. If you set the feeder as default\nsource, Paperwork will always try to scan from the feeder, and never from\nthe flatbed.\n\nWhen clicking on \"scan\", Paperwork tries to scan a single page from\n   the default source (feeder here)\nWhen clicking on \"scan from feeder\", Paperwork will open the dialog\n   to scan multiple pages at once. If the default source is a feeder, it will\n   use it. If the default source is not a feeder, it will try to find\n   automatically a feeder and use it.\n\nI really need to find a way to clarify things :/\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/openpaperwork/paperwork/issues/678#issuecomment-342394746,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAhoeutr6Kmt2SYTxpuyB2UHXJe01LQsks5s0AI6gaJpZM4PJzff\n.\n. \n",
    "Yusei": "Label guessing doesn't really work for me either. It worked for the first few scans, and was able to separate invoices from payslips. Now that I have around 100 documents scanned, it is no longer the case, and everything is always tagged with every label at first.\nEdit: I tried changing the weights, but even with WEIGHT_YES = 2.0 instead of 5.0, every label gets a yes. Could it be linked to the fact that, when I scan a document and it gets mislabeled with everything, then the predictors all get trained for \"yes\" ? Then I train them for \"no\", but maybe it is cancelled by the initial yes.\n. I scanned a document almost similar to one already in the database, tagged \"work\". With WEIGHT_YES=1, it got tagged with everything. I removed the document, removed the ~/.local/share/paperwork directory, and tried again (with de default weight of 5). This time it correctly got tagged only with \"work\".\nMaybe the bayesian predictors should only be trained when the user does something, instead of also being trained by their own results? I think that's how it works for spam detectors, but it would increase the false negatives a lot, I suppose.\n. The last test was with WEIGHT_YES=5, WEIGHT_NO=1 (the default values).\nRight now, they train themselves, and then they get trained again if the user changes something.\nHowever, it seems that the correction only compensates for the incorrect training (one \"no\" cancels one incorrect \"yes\", but does not reinforce \"no\"). Now that I've retrained the bayesian predictors, it works for old tags, but whenever I add a new tag, it quickly goes to \"always yes\", until I retrain again.\nI don't know if my suggestion of only training when the user does something is correct. Maybe a better way do to it would be to decide that a user action counts more than a default training (ie. you train twice if it is a user action). Anyway, it seems weird to train the predictor using its own prediction. If I have time I will simulate both strategies to see which one works best.\n. Just a quick thought: regardless of the proper training strategy, maybe it would be possible to do a background check, from time to time, to see whether the predictors are correctly assigning the labels. If the error rate falls below a threshold, retrain them (assuming Simplebayes is fast enough so that it wouldn't be a problem for the user). That's what I'm doing by hand right now, it may not be very elegant but it works.\n. Hi. I seem to have the same issue after updating sane to version 1.0.14-11. The scanner works with simple-scan, but paperwork says:\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nEdit: nevermind, it's still working, after a while, using a \"different scanner\" (I only have one)\nINFO   paperwork.frontend.util.config Will try another scanner id: brother4:bus2;dev1\nINFO   paperwork.frontend.util.config Will scan using brother4:bus2;dev1\nMy scanner is dev6 on bus1, so I'm not 100% sure of what's happening.. ",
    "dfadeur": "same issue on Mint 17.3\n. ",
    "pingtux": "Sorry for creating this duplicate issue, didn't see the other one.\n. ",
    "Morosko": "In the other issue you said:\n\n\nclone one of the repo\nuse git remote add to add the other one\ngit pull\n\n\nso I did it and I ended up with the described file structure^^\nSo I have to install the backend via pip or manually ? \n. No, git pull alone didn't merge the two, but i copied the backend directory.\nBut anyway thanks again, I'll use it like you said now. :)\n. ",
    "ajira86": "Nothing on the screen, this is why I launched it from terminal.\nI was running an old version of paperwork before re-install to 0.3.1.\nCould it come from bad settings ?\n. FYI after all your uninstall commands I launch a search and got this answer:\n$ sudo find / -name \"*paperwork*\"\n/root/.cache/pip/wheels/61/e8/8e/862f721446ce08b6e51836924e621cca19550dfca324f93d7c/paperwork-0.2-cp27-none-any.whl\n/root/.cache/pip/wheels/4b/39/5b/b45df230189598cf6cb627c05b223a5e6479740de6145bd47a/paperwork-0.3.0.1-cp27-none-any.whl\n/home/samuel/.local/share/paperwork\n/home/samuel/.cache/pip/wheels/4b/39/5b/b45df230189598cf6cb627c05b223a5e6479740de6145bd47a/paperwork-0.3.0.1-cp27-none-any.whl\n/home/samuel/.config/paperwork.conf\nfind: \u2018/run/user/1000/gvfs\u2019: Permission denied\n/usr/share/locale/fr/LC_MESSAGES/paperwork.mo\n/usr/share/locale/de/LC_MESSAGES/paperwork.mo\n/usr/share/applications/paperwork.desktop\n/usr/share/icons/paperwork.svg\nNow I have this:\n$ sudo pip install paperwork\nCollecting paperwork\n  Downloading paperwork-0.3.1.tar.gz (164kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 167kB 2.3MB/s \nCollecting python<3 (from paperwork)\n  Could not find a version that satisfies the requirement python<3 (from paperwork) (from versions: )\nNo matching distribution found for python<3 (from paperwork)\nSo I have python 2.7 and python > 3.5 installed\nIf I call python --version, I got 2.7.11+ by default. Should I switch for python 3.5 ?\n. Great, now it's working for me with version 0.3.1.1\nApparently the migration between paperwork before 0.3 and after 0.3 can cause issues but which ?\n. ",
    "smurfix": "Sorry about the delay. I have since eliminated the problem, probably as a side effect of also eliminating a ton of index reloads, because that causes excessive delay in the workflow when you have 1000+ documents. See my git tree for the heap of changes. That tree unfortunately also has some other changes mixed in which I need, like the ability to split PDFs at multiple points simultaneously (too slow otherwise) and associating a page-sequential number with a tag, which I need for filing the paper originals so that I can find the originals if/when the tax people want them.\nMy next idea, which I haven't really started working on but need to, is to keep all original documents (and document pages), piece \"real\" documents together by referring to these pages instead of rewriting PDFs or rearranging JPEGs (thereby being able to digitally sign the originals, required for storing tax files and whatnot; this would also allow me to mix PDF and images in one document), and store all of these relationships in a database (sqlalchemy is your friend).\n. ",
    "k3ck3c": "if I launch the same commands with \nstrace paperwork-chkdeps\nI get at the end\nopen(\"/usr/lib/girepository-1.0/Gtk-3.0.typelib\", O_RDONLY) = 5\nfstat(5, {st_mode=S_IFREG|0644, st_size=597240, ...}) = 0\nmmap(NULL, 597240, PROT_READ, MAP_PRIVATE, 5, 0) = 0x7fadb4b90000\nclose(5)                                = 0\ngetdents(4, /* 0 entries /, 32768)     = 0\nclose(4)                                = 0\nmunmap(0x7fadb4b90000, 597240)          = 0\nmunmap(0x7fadb4c22000, 582964)          = 0\nopenat(AT_FDCWD, \"/usr/lib/girepository-1.0\", O_RDONLY|O_NONBLOCK|O_DIRECTORY|O_CLOEXEC) = 4\ngetdents(4, / 89 entries /, 32768)    = 3720\ngetdents(4, / 0 entries */, 32768)     = 0\nclose(4)                                = 0\nioctl(1, SNDCTL_TMR_TIMEBASE or SNDRV_TIMER_IOCTL_NEXT_DEVICE or TCGETS, {B38400 opost isig icanon echo ...}) = 0\nwrite(1, \"[\\33[31mERROR\\33[0m] Expected python\"..., 64[ERROR] Expected python 2.7 ! Got python 3.4.3.final.0\n) = 64\nrt_sigaction(SIGINT, {SIG_DFL, [], SA_RESTORER, 0x7fadb9d6a340}, {0x46f178, [], SA_RESTORER, 0x7fadb9d6a340}, 8) = 0\nclose(3)                                = 0\nexit_group(2)                           = ?\n+++ exited with 2 +++\n$\n. 1) just to give more information\n2) so I will install 0.2.5\nThanks\n. ",
    "VorpalBlade": "Alas that does not seem to work. Looking in ps it still passes \"-l swe\" only to tesseract\nEdit: Oops, I changed the spell checking language, not the OCR one. Ignore this comment\n. Yes, it works.\n. ",
    "toerb": "@jflesch I have done some work to enable multiprocessing from paperwork-shell.\nYou can see my current progressing in my develop branch: https://github.com/toerb/paperwork-backend/tree/develop\nPassing the page objects to the processes from multiprocessing pool is working.\nUnfortunately the resulting page object is not pickable and throws the following error:\nRunning OCR on 20180204_1913_43|0 ...\nRunning OCR on 20180204_1913_43|2 ...\nRunning OCR on 20180204_1913_43|1 ...\nRunning OCR on 20180204_1913_43|3 ...\nRunning OCR on 20180204_1913_43|4 ...\n{\n    \"args\": \"('\\\\'TypeError(\\\"can\\\\\\\\\\\\'t pickle Document objects\\\",)\\\\'', \\\"'20180204_1913_43 p1'\\\")\",\n    \"exception\": \"<class 'multiprocessing.pool.MaybeEncodingError'>\",\n    \"reason\": \"Error sending result: '20180204_1913_43 p1'. Reason: 'TypeError(\\\"can't pickle Document objects\\\",)'\",\n    \"status\": \"error\"\n}\nTraceback (most recent call last):\n  File \"/usr/bin/paperwork-shell\", line 11, in <module>\n    load_entry_point('paperwork-backend==1.2.2', 'console_scripts', 'paperwork-shell')()\n  File \"/usr/lib/python3.6/site-packages/paperwork_backend/shell_cmd.py\", line 214, in main\n    sys.exit(COMMANDS[args.cmd](*args.cmd_args))\n  File \"/usr/lib/python3.6/site-packages/paperwork_backend/shell.py\", line 618, in cmd_import\n    return _do_import(args, dsearch, doc, ocr, ocr_lang, guess_labels)\n  File \"/usr/lib/python3.6/site-packages/paperwork_backend/shell.py\", line 482, in _do_import\n    for page in results:\n  File \"/usr/lib/python3.6/multiprocessing/pool.py\", line 735, in next\n    raise value\nmultiprocessing.pool.MaybeEncodingError: Error sending result: '20180204_1913_43 p1'. Reason: 'TypeError(\"can't pickle Document objects\",)'\nDo you have any idea how this can be solved?. ocr is atm done in the import and ocr shell subcommands so this was just the first possibility for me to intersect with this behaviour.\nDo you think this feature would be cleaner implemented in PdfDirectoryImporter and remove the ocr part in the import subcommand but keep it in the ocr subcommand?\nAlternatively the _do_ocr function could be altered to only return the page_id since only this is needed in the import subcommand. I try this tomorrow.. I fixed the issue with the multiprocessing return queue and the Document object by only returning the pageid.\nYou can find the pull request here.\nHere are some tests with a 32 page PDF and singlethreaded vs. multithreaded (4 threads).\nMy CPU: Intel(R) Core(TM) i5-5200U CPU @ 2.20GHz\nImport with 1 process\n406 seconds\n```\n[toerb@mittagspause ~]$ date ;time paperwork-shell import -- /home/scan/new/ --no_ocr --no_label_guessing; date\nMo 5. Feb 08:29:05 CET 2018\nWork directory: file:///mnt/dokumente/paperwork\nFiles 'file:///home/scan/new': Importer = Import each PDF in the folder as a new document\nRunning OCR on page 20180205_0829_06|0\nRunning OCR on page 20180205_0829_06|1\nRunning OCR on page 20180205_0829_06|2\nRunning OCR on page 20180205_0829_06|3\nRunning OCR on page 20180205_0829_06|4\nRunning OCR on page 20180205_0829_06|5\nRunning OCR on page 20180205_0829_06|6\nRunning OCR on page 20180205_0829_06|7\nRunning OCR on page 20180205_0829_06|8\nRunning OCR on page 20180205_0829_06|9\nRunning OCR on page 20180205_0829_06|10\nRunning OCR on page 20180205_0829_06|11\nRunning OCR on page 20180205_0829_06|12\nRunning OCR on page 20180205_0829_06|13\nRunning OCR on page 20180205_0829_06|14\nRunning OCR on page 20180205_0829_06|15\nRunning OCR on page 20180205_0829_06|16\nRunning OCR on page 20180205_0829_06|17\nRunning OCR on page 20180205_0829_06|18\nRunning OCR on page 20180205_0829_06|19\nRunning OCR on page 20180205_0829_06|20\nRunning OCR on page 20180205_0829_06|21\nRunning OCR on page 20180205_0829_06|22\nRunning OCR on page 20180205_0829_06|23\nRunning OCR on page 20180205_0829_06|24\nRunning OCR on page 20180205_0829_06|25\nRunning OCR on page 20180205_0829_06|26\nRunning OCR on page 20180205_0829_06|27\nRunning OCR on page 20180205_0829_06|28\nRunning OCR on page 20180205_0829_06|29\nRunning OCR on page 20180205_0829_06|30\nRunning OCR on page 20180205_0829_06|31\nDocument 20180205_0829_06 (labels: )\nUpdating index ...\nDone\n{\n    \"guessed_labels\": [],\n    \"imports\": {\n        \"imported_file_uris\": [\n            \"file:///home/scan/new/20180204_124315_000652.pdf\"\n        ],\n        \"new_docs\": [\n            {\n                \"docid\": \"20180205_0829_06\",\n                \"labels\": []\n            }\n        ],\n        \"new_docs_pages\": [\n            \"20180205_0829_06|0\",\n            \"20180205_0829_06|1\",\n            \"20180205_0829_06|2\",\n            \"20180205_0829_06|3\",\n            \"20180205_0829_06|4\",\n            \"20180205_0829_06|5\",\n            \"20180205_0829_06|6\",\n            \"20180205_0829_06|7\",\n            \"20180205_0829_06|8\",\n            \"20180205_0829_06|9\",\n            \"20180205_0829_06|10\",\n            \"20180205_0829_06|11\",\n            \"20180205_0829_06|12\",\n            \"20180205_0829_06|13\",\n            \"20180205_0829_06|14\",\n            \"20180205_0829_06|15\",\n            \"20180205_0829_06|16\",\n            \"20180205_0829_06|17\",\n            \"20180205_0829_06|18\",\n            \"20180205_0829_06|19\",\n            \"20180205_0829_06|20\",\n            \"20180205_0829_06|21\",\n            \"20180205_0829_06|22\",\n            \"20180205_0829_06|23\",\n            \"20180205_0829_06|24\",\n            \"20180205_0829_06|25\",\n            \"20180205_0829_06|26\",\n            \"20180205_0829_06|27\",\n            \"20180205_0829_06|28\",\n            \"20180205_0829_06|29\",\n            \"20180205_0829_06|30\",\n            \"20180205_0829_06|31\"\n        ],\n        \"stats\": {\n            \"Document(s)\": 1,\n            \"Image file(s)\": 0,\n            \"PDF\": 1,\n            \"Page(s)\": 32\n        },\n        \"upd_docs\": [],\n        \"upd_docs_pages\": []\n    },\n    \"ocr\": [\n        \"20180205_0829_06|0\",\n        \"20180205_0829_06|1\",\n        \"20180205_0829_06|2\",\n        \"20180205_0829_06|3\",\n        \"20180205_0829_06|4\",\n        \"20180205_0829_06|5\",\n        \"20180205_0829_06|6\",\n        \"20180205_0829_06|7\",\n        \"20180205_0829_06|8\",\n        \"20180205_0829_06|9\",\n        \"20180205_0829_06|10\",\n        \"20180205_0829_06|11\",\n        \"20180205_0829_06|12\",\n        \"20180205_0829_06|13\",\n        \"20180205_0829_06|14\",\n        \"20180205_0829_06|15\",\n        \"20180205_0829_06|16\",\n        \"20180205_0829_06|17\",\n        \"20180205_0829_06|18\",\n        \"20180205_0829_06|19\",\n        \"20180205_0829_06|20\",\n        \"20180205_0829_06|21\",\n        \"20180205_0829_06|22\",\n        \"20180205_0829_06|23\",\n        \"20180205_0829_06|24\",\n        \"20180205_0829_06|25\",\n        \"20180205_0829_06|26\",\n        \"20180205_0829_06|27\",\n        \"20180205_0829_06|28\",\n        \"20180205_0829_06|29\",\n        \"20180205_0829_06|30\",\n        \"20180205_0829_06|31\"\n    ],\n    \"status\": \"ok\"\n}\nreal    6m46,747s\nuser    6m39,933s\nsys 0m4,829s\nMo 5. Feb 08:35:52 CET 2018\n```\nImport with 4 processes on dualcore CPU with HT\n190 seconds\n```\n[toerb@mittagspause ~]$ date ;time paperwork-shell import -- /home/scan/new/ --no_ocr --no_label_guessing; date\nMo 5. Feb 08:25:04 CET 2018\nWork directory: file:///mnt/dokumente/paperwork\nFiles 'file:///home/scan/new': Importer = Import each PDF in the folder as a new document\nRunning OCR on 20180205_0825_05|2 ...\nRunning OCR on 20180205_0825_05|0 ...\nRunning OCR on 20180205_0825_05|1 ...\nRunning OCR on 20180205_0825_05|3 ...\nRunning OCR on 20180205_0825_05|4 ...\nRunning OCR on 20180205_0825_05|5 ...\nRunning OCR on 20180205_0825_05|6 ...\nRunning OCR on 20180205_0825_05|7 ...\nRunning OCR on 20180205_0825_05|8 ...\nRunning OCR on 20180205_0825_05|9 ...\nRunning OCR on 20180205_0825_05|10 ...\nRunning OCR on 20180205_0825_05|11 ...\nRunning OCR on 20180205_0825_05|12 ...\nRunning OCR on 20180205_0825_05|13 ...\nRunning OCR on 20180205_0825_05|14 ...\nRunning OCR on 20180205_0825_05|15 ...\nRunning OCR on 20180205_0825_05|16 ...\nRunning OCR on 20180205_0825_05|17 ...\nRunning OCR on 20180205_0825_05|18 ...\nRunning OCR on 20180205_0825_05|19 ...\nRunning OCR on 20180205_0825_05|20 ...\nRunning OCR on 20180205_0825_05|21 ...\nRunning OCR on 20180205_0825_05|22 ...\nRunning OCR on 20180205_0825_05|23 ...\nRunning OCR on 20180205_0825_05|24 ...\nRunning OCR on 20180205_0825_05|25 ...\nRunning OCR on 20180205_0825_05|26 ...\nRunning OCR on 20180205_0825_05|27 ...\nRunning OCR on 20180205_0825_05|28 ...\nRunning OCR on 20180205_0825_05|29 ...\nRunning OCR on 20180205_0825_05|30 ...\nRunning OCR on 20180205_0825_05|31 ...\nDocument 20180205_0825_05 (labels: )\nUpdating index ...\nDone\n{\n    \"guessed_labels\": [],\n    \"imports\": {\n        \"imported_file_uris\": [\n            \"file:///home/scan/new/20180204_124315_000652.pdf\"\n        ],\n        \"new_docs\": [\n            {\n                \"docid\": \"20180205_0825_05\",\n                \"labels\": []\n            }\n        ],\n        \"new_docs_pages\": [\n            \"20180205_0825_05|0\",\n            \"20180205_0825_05|1\",\n            \"20180205_0825_05|2\",\n            \"20180205_0825_05|3\",\n            \"20180205_0825_05|4\",\n            \"20180205_0825_05|5\",\n            \"20180205_0825_05|6\",\n            \"20180205_0825_05|7\",\n            \"20180205_0825_05|8\",\n            \"20180205_0825_05|9\",\n            \"20180205_0825_05|10\",\n            \"20180205_0825_05|11\",\n            \"20180205_0825_05|12\",\n            \"20180205_0825_05|13\",\n            \"20180205_0825_05|14\",\n            \"20180205_0825_05|15\",\n            \"20180205_0825_05|16\",\n            \"20180205_0825_05|17\",\n            \"20180205_0825_05|18\",\n            \"20180205_0825_05|19\",\n            \"20180205_0825_05|20\",\n            \"20180205_0825_05|21\",\n            \"20180205_0825_05|22\",\n            \"20180205_0825_05|23\",\n            \"20180205_0825_05|24\",\n            \"20180205_0825_05|25\",\n            \"20180205_0825_05|26\",\n            \"20180205_0825_05|27\",\n            \"20180205_0825_05|28\",\n            \"20180205_0825_05|29\",\n            \"20180205_0825_05|30\",\n            \"20180205_0825_05|31\"\n        ],\n        \"stats\": {\n            \"Document(s)\": 1,\n            \"Image file(s)\": 0,\n            \"PDF\": 1,\n            \"Page(s)\": 32\n        },\n        \"upd_docs\": [],\n        \"upd_docs_pages\": []\n    },\n    \"ocr\": [\n        \"20180205_0825_05|0\",\n        \"20180205_0825_05|3\",\n        \"20180205_0825_05|2\",\n        \"20180205_0825_05|1\",\n        \"20180205_0825_05|4\",\n        \"20180205_0825_05|7\",\n        \"20180205_0825_05|5\",\n        \"20180205_0825_05|9\",\n        \"20180205_0825_05|8\",\n        \"20180205_0825_05|10\",\n        \"20180205_0825_05|12\",\n        \"20180205_0825_05|11\",\n        \"20180205_0825_05|13\",\n        \"20180205_0825_05|14\",\n        \"20180205_0825_05|16\",\n        \"20180205_0825_05|15\",\n        \"20180205_0825_05|19\",\n        \"20180205_0825_05|18\",\n        \"20180205_0825_05|17\",\n        \"20180205_0825_05|20\",\n        \"20180205_0825_05|21\",\n        \"20180205_0825_05|22\",\n        \"20180205_0825_05|23\",\n        \"20180205_0825_05|25\",\n        \"20180205_0825_05|24\",\n        \"20180205_0825_05|26\",\n        \"20180205_0825_05|6\",\n        \"20180205_0825_05|28\",\n        \"20180205_0825_05|29\",\n        \"20180205_0825_05|31\",\n        \"20180205_0825_05|30\",\n        \"20180205_0825_05|27\"\n    ],\n    \"status\": \"ok\"\n}\nreal    3m10,566s\nuser    10m31,595s\nsys 0m7,582s\nMo 5. Feb 08:28:14 CET 2018\n```\nOCR on fresh imported document without OCR on single CPU\n446 seconds\n```\n[toerb@mittagspause ~]$ date ;time paperwork-shell ocr 20180205_0847_26; date\nMo 5. Feb 08:47:42 CET 2018\nWork directory: file:///mnt/dokumente/paperwork\nRunning OCR on 20180205_0847_26|22 ...\nRunning OCR on 20180205_0847_26|13 ...\nRunning OCR on 20180205_0847_26|8 ...\nRunning OCR on 20180205_0847_26|1 ...\nRunning OCR on 20180205_0847_26|30 ...\nRunning OCR on 20180205_0847_26|4 ...\nRunning OCR on 20180205_0847_26|24 ...\nRunning OCR on 20180205_0847_26|26 ...\nRunning OCR on 20180205_0847_26|2 ...\nRunning OCR on 20180205_0847_26|20 ...\nRunning OCR on 20180205_0847_26|11 ...\nRunning OCR on 20180205_0847_26|10 ...\nRunning OCR on 20180205_0847_26|17 ...\nRunning OCR on 20180205_0847_26|15 ...\nRunning OCR on 20180205_0847_26|29 ...\nRunning OCR on 20180205_0847_26|0 ...\nRunning OCR on 20180205_0847_26|14 ...\nRunning OCR on 20180205_0847_26|5 ...\nRunning OCR on 20180205_0847_26|31 ...\nRunning OCR on 20180205_0847_26|28 ...\nRunning OCR on 20180205_0847_26|18 ...\nRunning OCR on 20180205_0847_26|19 ...\nRunning OCR on 20180205_0847_26|9 ...\nRunning OCR on 20180205_0847_26|25 ...\nRunning OCR on 20180205_0847_26|27 ...\nRunning OCR on 20180205_0847_26|3 ...\nRunning OCR on 20180205_0847_26|6 ...\nRunning OCR on 20180205_0847_26|21 ...\nRunning OCR on 20180205_0847_26|23 ...\nRunning OCR on 20180205_0847_26|12 ...\nRunning OCR on 20180205_0847_26|7 ...\nRunning OCR on 20180205_0847_26|16 ...\nUpdating index ...\nDone\n{\n    \"ocr\": [\n        \"20180205_0847_26|22\",\n        \"20180205_0847_26|13\",\n        \"20180205_0847_26|8\",\n        \"20180205_0847_26|1\",\n        \"20180205_0847_26|30\",\n        \"20180205_0847_26|4\",\n        \"20180205_0847_26|24\",\n        \"20180205_0847_26|26\",\n        \"20180205_0847_26|2\",\n        \"20180205_0847_26|20\",\n        \"20180205_0847_26|11\",\n        \"20180205_0847_26|10\",\n        \"20180205_0847_26|17\",\n        \"20180205_0847_26|15\",\n        \"20180205_0847_26|29\",\n        \"20180205_0847_26|0\",\n        \"20180205_0847_26|14\",\n        \"20180205_0847_26|5\",\n        \"20180205_0847_26|31\",\n        \"20180205_0847_26|28\",\n        \"20180205_0847_26|18\",\n        \"20180205_0847_26|19\",\n        \"20180205_0847_26|9\",\n        \"20180205_0847_26|25\",\n        \"20180205_0847_26|27\",\n        \"20180205_0847_26|3\",\n        \"20180205_0847_26|6\",\n        \"20180205_0847_26|21\",\n        \"20180205_0847_26|23\",\n        \"20180205_0847_26|12\",\n        \"20180205_0847_26|7\",\n        \"20180205_0847_26|16\"\n    ],\n    \"status\": \"ok\"\n}\nreal    7m26,224s\nuser    7m19,794s\nsys 0m5,089s\nMo 5. Feb 08:55:09 CET 2018\n```\nOCR on fresh imported document without OCR with 4 processes on dualcore CPU with HT\n170 seconds\n```\n[toerb@mittagspause ~]$ date ;time paperwork-shell ocr 20180205_0840_51; date\nMo 5. Feb 08:41:04 CET 2018\nWork directory: file:///mnt/dokumente/paperwork\nRunning OCR on 20180205_0840_51|7 ...\nRunning OCR on 20180205_0840_51|6 ...\nRunning OCR on 20180205_0840_51|14 ...\nRunning OCR on 20180205_0840_51|1 ...\nRunning OCR on 20180205_0840_51|13 ...\nRunning OCR on 20180205_0840_51|3 ...\nRunning OCR on 20180205_0840_51|4 ...\nRunning OCR on 20180205_0840_51|5 ...\nRunning OCR on 20180205_0840_51|21 ...\nRunning OCR on 20180205_0840_51|19 ...\nRunning OCR on 20180205_0840_51|2 ...\nRunning OCR on 20180205_0840_51|8 ...\nRunning OCR on 20180205_0840_51|16 ...\nRunning OCR on 20180205_0840_51|23 ...\nRunning OCR on 20180205_0840_51|10 ...\nRunning OCR on 20180205_0840_51|22 ...\nRunning OCR on 20180205_0840_51|25 ...\nRunning OCR on 20180205_0840_51|0 ...\nRunning OCR on 20180205_0840_51|27 ...\nRunning OCR on 20180205_0840_51|28 ...\nRunning OCR on 20180205_0840_51|30 ...\nRunning OCR on 20180205_0840_51|26 ...\nRunning OCR on 20180205_0840_51|31 ...\nRunning OCR on 20180205_0840_51|20 ...\nRunning OCR on 20180205_0840_51|24 ...\nRunning OCR on 20180205_0840_51|29 ...\nRunning OCR on 20180205_0840_51|15 ...\nRunning OCR on 20180205_0840_51|17 ...\nRunning OCR on 20180205_0840_51|12 ...\nRunning OCR on 20180205_0840_51|9 ...\nRunning OCR on 20180205_0840_51|18 ...\nRunning OCR on 20180205_0840_51|11 ...\nUpdating index ...\nDone\n{\n    \"ocr\": [\n        \"20180205_0840_51|7\",\n        \"20180205_0840_51|6\",\n        \"20180205_0840_51|14\",\n        \"20180205_0840_51|1\",\n        \"20180205_0840_51|13\",\n        \"20180205_0840_51|3\",\n        \"20180205_0840_51|4\",\n        \"20180205_0840_51|5\",\n        \"20180205_0840_51|21\",\n        \"20180205_0840_51|19\",\n        \"20180205_0840_51|2\",\n        \"20180205_0840_51|8\",\n        \"20180205_0840_51|16\",\n        \"20180205_0840_51|23\",\n        \"20180205_0840_51|10\",\n        \"20180205_0840_51|22\",\n        \"20180205_0840_51|25\",\n        \"20180205_0840_51|0\",\n        \"20180205_0840_51|27\",\n        \"20180205_0840_51|28\",\n        \"20180205_0840_51|30\",\n        \"20180205_0840_51|26\",\n        \"20180205_0840_51|31\",\n        \"20180205_0840_51|20\",\n        \"20180205_0840_51|24\",\n        \"20180205_0840_51|29\",\n        \"20180205_0840_51|15\",\n        \"20180205_0840_51|17\",\n        \"20180205_0840_51|12\",\n        \"20180205_0840_51|9\",\n        \"20180205_0840_51|18\",\n        \"20180205_0840_51|11\"\n    ],\n    \"status\": \"ok\"\n}\nreal    2m49,793s\nuser    10m44,366s\nsys 0m7,444s\nMo 5. Feb 08:43:54 CET 2018\n```. For documentation now with threaded implementation:\nImport with 4 threads on dualcore CPU with HT\n215 seconds\n```\n[toerb@mittagspause ~]$ date ;time paperwork-shell import -- /home/scan/new/ --no_label_guessing; date\nMo 5. Feb 14:28:12 CET 2018\nWork directory: file:///mnt/dokumente/paperwork\nFiles 'file:///home/scan/new': Importer = Import each PDF in the folder as a new document\nRunning OCR on 20180205_1428_13|0 ...\nRunning OCR on 20180205_1428_13|1 ...\nRunning OCR on 20180205_1428_13|2 ...\nRunning OCR on 20180205_1428_13|3 ...\nRunning OCR on 20180205_1428_13|4 ...\nRunning OCR on 20180205_1428_13|5 ...\nRunning OCR on 20180205_1428_13|6 ...\nRunning OCR on 20180205_1428_13|7 ...\nRunning OCR on 20180205_1428_13|8 ...\nRunning OCR on 20180205_1428_13|9 ...\nRunning OCR on 20180205_1428_13|10 ...\nRunning OCR on 20180205_1428_13|11 ...\nRunning OCR on 20180205_1428_13|12 ...\nRunning OCR on 20180205_1428_13|13 ...\nRunning OCR on 20180205_1428_13|14 ...\nRunning OCR on 20180205_1428_13|15 ...\nRunning OCR on 20180205_1428_13|16 ...\nRunning OCR on 20180205_1428_13|17 ...\nRunning OCR on 20180205_1428_13|18 ...\nRunning OCR on 20180205_1428_13|19 ...\nRunning OCR on 20180205_1428_13|20 ...\nRunning OCR on 20180205_1428_13|21 ...\nRunning OCR on 20180205_1428_13|22 ...\nRunning OCR on 20180205_1428_13|23 ...\nRunning OCR on 20180205_1428_13|24 ...\nRunning OCR on 20180205_1428_13|25 ...\nRunning OCR on 20180205_1428_13|26 ...\nRunning OCR on 20180205_1428_13|27 ...\nRunning OCR on 20180205_1428_13|28 ...\nRunning OCR on 20180205_1428_13|29 ...\nRunning OCR on 20180205_1428_13|30 ...\nRunning OCR on 20180205_1428_13|31 ...\nDocument 20180205_1428_13 (labels: )\nUpdating index ...\nDone\n{\n    \"guessed_labels\": [],\n    \"imports\": {\n        \"imported_file_uris\": [\n            \"file:///home/scan/new/20180204_124315_000652.pdf\"\n        ],\n        \"new_docs\": [\n            {\n                \"docid\": \"20180205_1428_13\",\n                \"labels\": []\n            }\n        ],\n        \"new_docs_pages\": [\n            \"20180205_1428_13|0\",\n            \"20180205_1428_13|1\",\n            \"20180205_1428_13|2\",\n            \"20180205_1428_13|3\",\n            \"20180205_1428_13|4\",\n            \"20180205_1428_13|5\",\n            \"20180205_1428_13|6\",\n            \"20180205_1428_13|7\",\n            \"20180205_1428_13|8\",\n            \"20180205_1428_13|9\",\n            \"20180205_1428_13|10\",\n            \"20180205_1428_13|11\",\n            \"20180205_1428_13|12\",\n            \"20180205_1428_13|13\",\n            \"20180205_1428_13|14\",\n            \"20180205_1428_13|15\",\n            \"20180205_1428_13|16\",\n            \"20180205_1428_13|17\",\n            \"20180205_1428_13|18\",\n            \"20180205_1428_13|19\",\n            \"20180205_1428_13|20\",\n            \"20180205_1428_13|21\",\n            \"20180205_1428_13|22\",\n            \"20180205_1428_13|23\",\n            \"20180205_1428_13|24\",\n            \"20180205_1428_13|25\",\n            \"20180205_1428_13|26\",\n            \"20180205_1428_13|27\",\n            \"20180205_1428_13|28\",\n            \"20180205_1428_13|29\",\n            \"20180205_1428_13|30\",\n            \"20180205_1428_13|31\"\n        ],\n        \"stats\": {\n            \"Document(s)\": 1,\n            \"Image file(s)\": 0,\n            \"PDF\": 1,\n            \"Page(s)\": 32\n        },\n        \"upd_docs\": [],\n        \"upd_docs_pages\": []\n    },\n    \"ocr\": [\n        \"20180205_1428_13|0\",\n        \"20180205_1428_13|3\",\n        \"20180205_1428_13|1\",\n        \"20180205_1428_13|2\",\n        \"20180205_1428_13|4\",\n        \"20180205_1428_13|7\",\n        \"20180205_1428_13|5\",\n        \"20180205_1428_13|8\",\n        \"20180205_1428_13|9\",\n        \"20180205_1428_13|10\",\n        \"20180205_1428_13|12\",\n        \"20180205_1428_13|11\",\n        \"20180205_1428_13|13\",\n        \"20180205_1428_13|14\",\n        \"20180205_1428_13|15\",\n        \"20180205_1428_13|16\",\n        \"20180205_1428_13|18\",\n        \"20180205_1428_13|19\",\n        \"20180205_1428_13|17\",\n        \"20180205_1428_13|20\",\n        \"20180205_1428_13|21\",\n        \"20180205_1428_13|22\",\n        \"20180205_1428_13|23\",\n        \"20180205_1428_13|25\",\n        \"20180205_1428_13|24\",\n        \"20180205_1428_13|26\",\n        \"20180205_1428_13|28\",\n        \"20180205_1428_13|6\",\n        \"20180205_1428_13|29\",\n        \"20180205_1428_13|30\",\n        \"20180205_1428_13|31\",\n        \"20180205_1428_13|27\"\n    ],\n    \"status\": \"ok\"\n}\nreal    3m35,234s\nuser    10m29,352s\nsys     0m8,363s\nMo 5. Feb 14:31:47 CET 2018\n```\nOCR on fresh imported document without OCR with 4 threads on dualcore CPU with HT\n194 seconds\n```\n[toerb@mittagspause ~]$ date ;time paperwork-shell ocr 20180205_1438_40; date\nMo 5. Feb 14:38:51 CET 2018\nWork directory: file:///mnt/dokumente/paperwork\nRunning OCR on 20180205_1438_40|0 ...\nRunning OCR on 20180205_1438_40|9 ...\nRunning OCR on 20180205_1438_40|12 ...\nRunning OCR on 20180205_1438_40|14 ...\nRunning OCR on 20180205_1438_40|6 ...\nRunning OCR on 20180205_1438_40|20 ...\nRunning OCR on 20180205_1438_40|21 ...\nRunning OCR on 20180205_1438_40|15 ...\nRunning OCR on 20180205_1438_40|3 ...\nRunning OCR on 20180205_1438_40|10 ...\nRunning OCR on 20180205_1438_40|19 ...\nRunning OCR on 20180205_1438_40|1 ...\nRunning OCR on 20180205_1438_40|24 ...\nRunning OCR on 20180205_1438_40|28 ...\nRunning OCR on 20180205_1438_40|17 ...\nRunning OCR on 20180205_1438_40|31 ...\nRunning OCR on 20180205_1438_40|7 ...\nRunning OCR on 20180205_1438_40|13 ...\nRunning OCR on 20180205_1438_40|25 ...\nRunning OCR on 20180205_1438_40|2 ...\nRunning OCR on 20180205_1438_40|18 ...\nRunning OCR on 20180205_1438_40|4 ...\nRunning OCR on 20180205_1438_40|26 ...\nRunning OCR on 20180205_1438_40|8 ...\nRunning OCR on 20180205_1438_40|29 ...\nRunning OCR on 20180205_1438_40|11 ...\nRunning OCR on 20180205_1438_40|27 ...\nRunning OCR on 20180205_1438_40|23 ...\nRunning OCR on 20180205_1438_40|16 ...\nRunning OCR on 20180205_1438_40|5 ...\nRunning OCR on 20180205_1438_40|22 ...\nRunning OCR on 20180205_1438_40|30 ...\nUpdating index ...\nDone\n{\n    \"ocr\": [\n        \"20180205_1438_40|0\",\n        \"20180205_1438_40|9\",\n        \"20180205_1438_40|14\",\n        \"20180205_1438_40|12\",\n        \"20180205_1438_40|20\",\n        \"20180205_1438_40|21\",\n        \"20180205_1438_40|15\",\n        \"20180205_1438_40|3\",\n        \"20180205_1438_40|10\",\n        \"20180205_1438_40|19\",\n        \"20180205_1438_40|1\",\n        \"20180205_1438_40|28\",\n        \"20180205_1438_40|24\",\n        \"20180205_1438_40|31\",\n        \"20180205_1438_40|17\",\n        \"20180205_1438_40|7\",\n        \"20180205_1438_40|13\",\n        \"20180205_1438_40|25\",\n        \"20180205_1438_40|2\",\n        \"20180205_1438_40|18\",\n        \"20180205_1438_40|4\",\n        \"20180205_1438_40|8\",\n        \"20180205_1438_40|29\",\n        \"20180205_1438_40|26\",\n        \"20180205_1438_40|11\",\n        \"20180205_1438_40|23\",\n        \"20180205_1438_40|6\",\n        \"20180205_1438_40|16\",\n        \"20180205_1438_40|5\",\n        \"20180205_1438_40|22\",\n        \"20180205_1438_40|30\",\n        \"20180205_1438_40|27\"\n    ],\n    \"status\": \"ok\"\n}\nreal    3m14,140s\nuser    10m21,985s\nsys     0m7,761s\nMo 5. Feb 14:42:05 CET 2018\n``. @jflesch what is the state of multithreaded ocr in paperwork-gui?\nI seeJobOCR.do_ocr_with_custom_heuristic()where threading is used but not inJobOCR.do_ocr_with_tool_heuristic().\nWhen importing a PDF in the frontend my installation the ocr is singlethreaded.. So all effort for further parallelization should be directed toJobOCR.do_ocr_with_custom_heuristic()`?\nI can have a look tomorrow if there can be a similar implementation like in the paperwork-shell.. Oh yes sorry. I mixed them up.. Ohh I see what you mean with your last sentence.\nI think this change would be too complex for what spare time I have in the coming weeks.\nMy use case for fast ocr using cron jobs or inotify is fulfilled with the merged change in paperwork-backend.\nCan you take the needed GUI changes for multithreaded ocr in your timeline? I think this would go nicely hand in hand with some other planned GUI changes.\nIf I have more spare time in march I can have a look again on the needed changes.\nAre you planning to release 1.2.4 in the coming days with the ocr changes in paperwork-shell?\nThank you for your time so far!. > No, not really. My goals at the moment are #702 and then #194 and they are going to require a lot of time.\nYou're right. This is enough work for some time and #194 also will change a lot in the GUI I think.\n\nI would prefer you use the Flatpak build if possible.\nIf not possible, since your changes are small, I guess I could include them in 1.2.4 ...\n\nOut of personal preference I am not going to use flatpak but I am okay with manually patching my local installations with these changes.. Hi all,\nI can reproduce this issue with Arch Linux, too.\nYou don't even have to select some text.\nJust hovering above the \"copy selected text\" box brings one cpu up to 100 %.\nThe cpu load stays until you close this screen for example by opening another document.. ",
    "tclavier": "are you ok with this new commit ?\n. OK, very Well. The Docker container is build at each commit, i Will be notify if that not work :-)\n. Hello,\nI just test on my debian and that work fine with this error log : \n```\n (paperwork:23): WARNING : Couldn't connect to accessibility bus: Failed to connect to socket /tmp/dbus-7oU9pJk0yH: Connection refused\nGtk-Message: Failed to load module \"canberra-gtk-module\"\nGtk-Message: Failed to load module \"canberra-gtk-module\"\nINFO   paperwork.paperwork            Looking for locales in 'locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/local/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Looking for locales in '/usr/share/locale/fr/LC_MESSAGES/paperwork.mo' ...\nINFO   paperwork.paperwork            Will use locales from '/usr/share/locale'\nINFO   paperwork.backend.config       Config file found: /home/tom/.config/paperwork.conf\nINFO   paperwork.backend.config       Reloading /home/tom/.config/paperwork.conf ...\nINFO   paperwork.frontend.util        UI file used: /usr/share/paperwork/mainwindow/appmenu.xml\nINFO   paperwork.frontend.util        CSS file used: /usr/share/paperwork/application.css\nINFO   paperwork.frontend.util        UI file used: /usr/share/paperwork/mainwindow/mainwindow.glade\n(paperwork:23): Gtk-WARNING **: Could not load image 'paperwork.svg': Failed to open file '/usr/share/paperwork/mainwindow/paperwork.svg': No such file or directory\n```\nIMHO error start at line 36 of your pastebin. The command in documentation : \ndocker run -ti --rm \\\n  -e DISPLAY=$DISPLAY -e XAUTHORITY=$HOME/.Xauthority -e HOME=$HOME -e USER=$USER \\\n  -v $HOME:$HOME -v /tmp/.X11-unix:/tmp/.X11-unix -v /etc/sane.d/:/etc/sane.d/ \\\n  tclavier/paperwork\nsuppose you had your Xauthority is in your home and X11 unix socket is in /tmp/.X11-unix/ ... and in Kubuntu it's probably false. Could you test with this start command they load Xauthority from env : \ndocker run -ti --rm \\\n  -e DISPLAY=$DISPLAY -e XAUTHORITY=$HOME/.Xauthority -e HOME=$HOME -e USER=$USER \\\n  -v $HOME:$HOME -v $XAUTHORITY:$HOME/.Xauthority  -v /tmp/.X11-unix:/tmp/.X11-unix \\\n  tclavier/paperwork\n. The problem is more complicated  ... it's possible to run :\n- ls -la /tmp/.X11-unix/\n- env | grep X\n. I can't reproduce the probleme, and I haven't the same X configuration as kubuntu. I will test with virtual box ... \n. I just run the last debian sid, and yes it's a problem to handle communication to X server.\nCould you close it ? \n. On docker hub, tclavier/paperwork image is normally linked to github for branch stable and unstable and all tags.. ",
    "fmitha": "Hi jflesch,\nIs there any existing packaging available online, at Github or anywhere else?\nThe RFP has nothing, and I don't see any ITPs filed either. Anyone who is aware of this, please put links as appropriate.\nI did find \nhttps://groups.google.com/forum/#!topic/paperwork-gui/sC1S1vU_KAg\nwhich pointed me to https://wiki.debian.org/DebianFrance/NewContributorGame#Paperwork_packaging\nI've never used Paperwork. I just read the LWN article about it just now. But I do\nuse gscan2pdf, which is similar to Paperwork, I think. And alternatives are worth trying.\nI'll initially try the quick and dirty approach described in https://github.com/jflesch/paperwork/blob/stable/doc/install.debian.markdown\nand see what I think.\n. Hi jflesch,\nI see. Thank you for the explanation. \nIt would be helpful to get a status update from Paul Lietar.\nAlso, what did Ross Vandegrift end up doing, if anything?\n. Ok. Some indication of the next steps to take here would be helpful. Is pyinsane a dependency of Paperwork? It does not seem to be in Debian, so would it need to be packaged first?\nI'm not a Debian Maintainer or Developer, but I'm an experienced Debian user, have some packaging experience, and am a long term Python user. I'm also active on Stack Exchange.\nAnyway, let me give Paperwork a try.\n. Hi  plietar,\nGreat. I see pyocr is already there, with you listed as Maintainer.\n\nThey were pretty much complete.\n\nDoes that mean they are more or less ready to be included in Debian, modulo version numbers?\nIn any case, I'll give these packages a whirl.\nRegards, Faheem Mitha\n. I got a segfault building the pyinsane package. Maybe that's a pysegfault? See the build log at\npython-pyinsane_1.3.8-1_amd64.build.txt. \n(Github wouldn't upload the build log unless I added the .txt.)\nThis also seems to be the most recent release. Should I report this somewhere?\n. > But please do get a stack trace with gdb first.\nOk, will do.\n\nBy the way, if I remember correctly, those tests require the user to have a scanner connected. I don't think it's a good idea to run them in the build script.\n\nI've currently got two scanners connected.\n. I disabled the pyinsane tests and built the package, and then Paperwork.\nWhen running Paperwork, I see:\n*** BUG ***\nIn pixman_region32_init_rect: Invalid rectangle passed\nSet a breakpoint on '_pixman_log_error' to debug\non the console. Is this normal? Should I report it?\n. Hi @jflesch,\nThis issue is about Debian packaging of paperwork. It doesn't look like that packaging has happened yet, so it seems reasonable to leave it open. But it's up to you.\nI see something about getting a segfault building the package, and you then requested a gdb stack trace. But it doesn't look like I provided one. Is this still something forth following up on?\n. Sorry, jflesch,\nThis issue is currently way down my priority list, and I'm not sure when I'll get a chance to take a look at it. Feel free to close if you wish.. ",
    "Klar": "sorry my fault, it's working, mixxed up the dates\n. ",
    "eeickmeyer": "That workaround did not work for me as this isn't related to OCR, but in indexing the text created by the OCR. I did try it, but unfortunately it did not work. I will update with about how many PDF files I'm working with as an edit or in a further reply as I'm attempting to re-import and OCR all files after deleting the old index as a workaround. I tried this process earlier and it crashed, but in that scenario I didn't delete the old index.\n. Upon attempting the above method, I ran into this error:\nError opening data file /usr/share/tesseract-ocr/tessdata/eng.traineddata\nPlease make sure the TESSDATA_PREFIX environment variable is set to the parent directory of your \"tessdata\" directory.\nFailed loading language 'eng'\nTesseract couldn't load any languages!\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 0: (20, 0) (678, 873) -> (419, 10) (658, 853)\nSegmentation fault (core dumped)\nNot sure if this should be a separate bug report or not.\n. 1171, all PDFs.\n. ",
    "gjelsas": "Yeah, in Germany the tax declaration is upcoming soon. So I want to quickly spill out all files tagged with Tax 2015!\n. In the meantime I created a python script to do the label or word based exports. It needs adaptations to your configuration of export direcory and paperwork directory, but otherwise works.\nI put it here:\npaperwork-multiexport\nI'm not a good coder, so improvements are welcome!\n. ",
    "BogusLogin": "Hi tclavier, thx for your help.\nI ran the command and compared it with my pastebin snippet. The only difference now is, that the line ** (paperwork:19): WARNING **: Couldn't connect to accessibility bus: Failed to connect to socket /tmp/dbus-fcCKzraRvf: Connection refused\nwent away, but it's still crashing!\n. 1st command yields:\ntotal 8\ndrwxrwxrwt  2 root root 4096 Apr 19 18:42 .\ndrwxrwxrwt 17 root root 4096 Apr 19 21:58 ..\nsrwxrwxrwx  1 root root    0 Apr 19 18:42 X0\n2nd command yields:\nXDG_SESSION_COOKIE=2eb692d472634e68a9ddf4-c3-14684158.167208-120586719\nXDG_RUNTIME_DIR=/run/user/1000\nXDG_SESSION_PATH=/org/freedesktop/DisplayManager/Session1\nXDG_SESSION_ID=2\nXDG_CURRENT_DESKTOP=KDE\nSSH_AUTH_SOCK=/tmp/ssh-Dvk29lkmqX3e/agent.1222\nXDG_SESSION_DESKTOP=KDE\nXDG_DATA_DIRS=/usr/share/plasma:/usr/local/share/:/usr/share/\nXDG_SEAT_PATH=/org/freedesktop/DisplayManager/Seat0\nXDG_SESSION_TYPE=x11\nXDG_CONFIG_DIRS=/etc/xdg/xdg-plasma:/etc/xdg:/usr/share/kubuntu-default-settings/kf5-settings\nXCURSOR_THEME=breeze_cursors\nXAUTHORITY=/tmp/xauth-1000-_0\nXDG_SESSION_CLASS=user\nXDG_SEAT=seat0\nXDG_VTNR=7\n. ",
    "spaetz": "Looking at the code, I see that the date of a document is used for the \"document name\". Still, it would be nice to give it a title next to the date. No hurry though.\n. Sorry, joining \"..\" actually makes more sense than the dirname() crap. Ignore this for now. I might have better patches later :-)\n. Could it be that you run into the interpolation feature of COnfigParser? Try to use a RawConfigParser and see if this improves things?. ",
    "Jonny007-MKD": "Well, it's been a few days since then, but I remember being absolutely sure that no other instance was running. I know of ps and top. \nSomehow I fixed it. I think I deleted some lock file(s) in the index directory.\n. ",
    "albertl2": "That is correct.\n. ",
    "mrueg": "Thanks! Changed LC_PAPER locale, which was set to en_US before, that's the better solution.\n. ",
    "Mailaender": "See https://build.opensuse.org/request/show/433052 for an integration test.\n. ",
    "Pafzedog": "Hello,\nSame OS version, same installation process, similar errors .\nhere is full stderr output \npaperwork_error.txt\n. Well done ! \nIt works for me now :)\n. no problems :)\nThanks for the feedback. ",
    "metionina": "I have tried to click all other buttons from the header bar and the document list is NOT restored. The only thing that I found effective so far is resizing the window. \nPlease note this is only happening when I add a new document, I don't have problem when I add pages to an existing document.\n. Here you are:\nINFO   paperwork.frontend.util.actions Action: [Editing label]\nINFO   paperwork.frontend.util        UI file used: /usr/share/paperwork/labeleditor/labeleditor.glade\nINFO   paperwork.frontend.labeleditor Label validated\nINFO   paperwork.frontend.labeleditor Label after editing: Color: #000000 ; Text: The Swallows\nINFO   paperwork.frontend.mainwindow.docs Label edited. Applying changes\nINFO   paperwork_backend.common.doc   20161113_2159_04 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_1921_26 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2005_40 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2005_40 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2005_40\nINFO   paperwork_backend.common.doc   20161114_2031_14 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2031_14 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2031_14\nINFO   paperwork_backend.common.doc   20161114_1953_30 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_1953_30 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_1953_30\nINFO   paperwork_backend.common.doc   20161114_2019_56 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2019_56 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2019_56\nINFO   paperwork_backend.common.doc   20161113_2236_30 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2029_51 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2029_51 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2029_51\nINFO   paperwork_backend.common.doc   20161113_2234_03 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161113_2230_34 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2019_08 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2019_08 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2019_08\nINFO   paperwork_backend.common.doc   20161114_2037_57 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2037_57 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2037_57\nINFO   paperwork_backend.common.doc   20161114_2021_20 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2021_20 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2021_20\nINFO   paperwork_backend.common.doc   20161113_2218_59 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161113_2254_51 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_1906_44 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_1907_30 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2028_29 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2028_29 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2028_29\nINFO   paperwork_backend.common.doc   20161113_2206_21 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2017_46 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2017_46 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2017_46\nINFO   paperwork_backend.common.doc   20161113_2204_41 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2034_40 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2034_40 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2034_40\nINFO   paperwork_backend.common.doc   20161114_2033_53 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2033_53 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2033_53\nINFO   paperwork_backend.common.doc   20161114_1951_14 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161113_2232_17 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2014_04 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2014_04 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2014_04\nINFO   paperwork_backend.common.doc   20161114_1923_34 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161113_2208_21 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2008_50 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2008_50 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2008_50\nINFO   paperwork_backend.common.doc   20161114_1917_03 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_1917_03 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_1917_03\nINFO   paperwork_backend.common.doc   20161114_1908_47 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2016_31 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2016_31 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2016_31\nINFO   paperwork_backend.common.doc   20161113_2216_33 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_1926_40 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2024_16 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2024_16 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2024_16\nINFO   paperwork_backend.common.doc   20161113_2251_03 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161113_2227_26 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161113_2257_03 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161113_2201_09 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_1922_39 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2002_53 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2002_53 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2002_53\nINFO   paperwork_backend.common.doc   20161113_2243_33 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2009_57 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2009_57 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2009_57\nINFO   paperwork_backend.common.doc   20161114_1918_42 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_1928_08 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161113_2215_57 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2026_46 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2026_46 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2026_46\nINFO   paperwork_backend.common.doc   20161114_2011_17 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_2011_17 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_2011_17\nINFO   paperwork_backend.common.doc   20161113_2222_17 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_1920_26 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_1920_26 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Updating modified doc: 20161114_1920_26\nINFO   paperwork_backend.common.doc   20161113_2228_02 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.common.doc   20161114_1911_08 : Updating label ([The Swallows] -> [The Swallows])\nINFO   paperwork_backend.docsearch    Index: Commiting changes\nWARNING paperwork.frontend.util.jobs   Job LabelUpdater:0 took 1324ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow  Got 52 documents\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Got 0 suggestions\n. More readable here\nhttp://pastebin.com/U4KZVqE0\n. Yes you are right when I go back to the document list the label is updated even if I don't see it in the label list. This is for the colour.\nWith the name editing is a bit weird. It seems like the problem is only when I try to edit from lower to upper case or viceversa (?) \n. ",
    "arnauldb": "ok, thank you.\n. ",
    "claudex": "It's a Debian stable. I will make more tests to try to find out what is the problem during the installation.. Ok, I had run pip3 install --upgrade pip previously. After an reinstallation with the pip3 package from Debian it working. Sorry for the inconvenience.\nAnd thank you for your software. ",
    "Dev-Crea": "linux\nINFO   paperwork.paperwork            Using locales in '/usr/share/locale'\nINFO   pyinsane2.sane.abstract_proc   Starting Pyinsane subprocess\nINFO   pyinsane2.sane.abstract_proc   Pyinsane pipes: /tmp/pyinsane_hg3n2l3d/pipe_c2s | /tmp/pyinsane_hg3n2l3d/pipe_s2c\nINFO   pyinsane2.sane.abstract_proc   Connected to Pyinsane subprocess\nINFO   paperwork_backend.config       Config file found: /home/jeremy/.config/paperwork.conf\nINFO   paperwork_backend.config       Reloading /home/jeremy/.config/paperwork.conf ...\nINFO   paperwork.frontend.util        UI file used: /usr/share/paperwork/mainwindow/appmenu.xml\nINFO   paperwork.frontend.util        CSS file used: /usr/share/paperwork/application.css\nINFO   paperwork.frontend.util        UI file used: /usr/share/paperwork/mainwindow/mainwindow.glade\nWARNING paperwork.frontend.util.canvas Ignore useless call to redraw()\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Index search / update] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Index search / update] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Started\nINFO   paperwork.frontend.util.actions Action: [Refresh index]\nINFO   paperwork_backend.docsearch    Opening index dir '/home/jeremy/.local/share/paperwork/index' ...\nINFO   paperwork.frontend.util.canvas Animators: 1\nWARNING paperwork.frontend.util.canvas Ignore useless call to redraw()\nWARNING paperwork_backend.docsearch    Warning: unknown doc type for doc 'Diplome - CDI.png'\nWARNING paperwork_backend.docsearch    Warning: unknown doc type for doc 'Carte d'identite.png'\nWARNING paperwork_backend.docsearch    Warning: unknown doc type for doc 'Carte d'identite.pdf'\nWARNING paperwork_backend.docsearch    Warning: unknown doc type for doc 'Diplome - CDI.xcf'\nWARNING paperwork_backend.docsearch    Warning: unknown doc type for doc 'Diplome - CDI.pdf'\nWARNING paperwork_backend.docsearch    Warning: unknown doc type for doc 'Carte d'identite.xcf'\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (827, 966)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Invalid date: New document\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  0 labels found\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nWARNING paperwork.frontend.util.canvas Ignore useless call to redraw()\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow  Got 0 documents\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Got 0 suggestions\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   paperwork.frontend.util        UI file used: /usr/share/paperwork/settingswindow/settingswindow.glade\nINFO   paperwork.frontend.settingswindow Distribution: [arch]\nWARNING paperwork_backend.util         Unknown language [osd]\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\nINFO   paperwork.frontend.settingswindow Device found: [Noname UVC Camera (046d:0821)] -> [v4l:/dev/video0]\nINFO   paperwork.frontend.settingswindow End of scan for device\nINFO   paperwork.frontend.settingswindow Got value [['Noname UVC Camera (046d:0821)', 'v4l:/dev/video0']]\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 8951ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Selected scanner: 0\nINFO   paperwork.frontend.settingswindow Looking for sources of device [v4l:/dev/video0]\nINFO   paperwork.frontend.settingswindow Sources found: []\nINFO   paperwork.frontend.settingswindow Got all the sources\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [v4l:/dev/video0]\nINFO   paperwork.frontend.settingswindow Selected source: -1\nWARNING paperwork.frontend.settingswindow No possible resolutions specified. Assuming default\nINFO   paperwork.frontend.settingswindow Got all the resolutions\nINFO   paperwork.frontend.settingswindow Scanner sources: []\nINFO   paperwork.frontend.settingswindow Got value [['75', 75]]\nINFO   paperwork.frontend.settingswindow Got value [['100', 100]]\nINFO   paperwork.frontend.settingswindow Got value [['150', 150]]\nINFO   paperwork.frontend.settingswindow Got value [['200', 200]]\nINFO   paperwork.frontend.settingswindow Got value [['300 (recommand\u00e9e)', 300]]\nINFO   paperwork.frontend.settingswindow Got value [['600', 600]]\nINFO   paperwork.frontend.settingswindow Got value [['1200', 1200]]\nINFO   paperwork_backend.config       Updating /home/jeremy/.config/paperwork.conf ...\nINFO   paperwork_backend.config       Done\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopped\nINFO   paperwork.frontend.util.actions Action: [Opening diagnostic dialog]\nINFO   paperwork.frontend.util        UI file used: /usr/share/paperwork/diag/diagdialog.glade\nINFO   paperwork.frontend.diag        ====== START OF SYSTEM INFO ======\nINFO   paperwork.frontend.diag        os.name: posix\nINFO   paperwork.frontend.diag        sys.version: 3.5.2 (default, Nov  7 2016, 11:31:36) \n[GCC 6.2.1 20160830]\nINFO   paperwork.frontend.diag        os.uname: posix.uname_result(sysname='Linux', nodename='******', release='4.8.10-1-ARCH', version='#1 SMP PREEMPT Mon Nov 21 11:55:43 CET 2016', machine='x86_64')\nINFO   paperwork.frontend.diag        platform.architecture: ('64bit', 'ELF')\nINFO   paperwork.frontend.diag        platform.platform: Linux-4.8.10-1-ARCH-x86_64-with-arch-Arch-Linux\nINFO   paperwork.frontend.diag        platform.processor: \nINFO   paperwork.frontend.diag        platform.version: #1 SMP PREEMPT Mon Nov 21 11:55:43 CET 2016\nINFO   paperwork.frontend.diag        platform.linux_distribution: ('arch', 'Arch', 'Linux')\nINFO   paperwork.frontend.diag        platform.win32_ver: ('', '', '', '')\nINFO   paperwork.frontend.diag        multiprocessing.cpu_count: 8\nINFO   paperwork.frontend.diag        Available memory: 16777949184\nINFO   paperwork.frontend.diag        ====== END OF SYSTEM INFO ======\nINFO   paperwork.frontend.diag        ====== START OF PAPERWORK INFO ======\nINFO   paperwork.frontend.diag        Paperwork version: 1.0.5\nINFO   paperwork.frontend.diag        Total number of documents: 0\nINFO   paperwork.frontend.diag        Document types: {}\nINFO   paperwork.frontend.diag        Total number of pages: 0 (average: -0.0/doc)\nINFO   paperwork.frontend.diag        Maximum number of pages in one document: 0\nINFO   paperwork.frontend.diag        Total number of words: 0 (average: -0.0/page)\nINFO   paperwork.frontend.diag        Average word length: -0.0\nINFO   paperwork.frontend.diag        Max word length: 0\nINFO   paperwork.frontend.diag        ====== END OF PAPERWORK INFO ======\nINFO   paperwork.frontend.diag        ====== START OF SCANNER INFO ======\nINFO   paperwork.frontend.diag        1 scanners found\nINFO   paperwork.frontend.diag        === 'v4l:/dev/video0' (Noname, UVC Camera (046d:0821), virtual device) ===\nINFO   paperwork.frontend.diag        Option: mode\nINFO   paperwork.frontend.diag          Title: Scan mode\nINFO   paperwork.frontend.diag          Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : String (3)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : None (0)\nINFO   paperwork.frontend.diag          Size: 6\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Gray', 'Color']\nINFO   paperwork.frontend.diag          Value: Gray\nINFO   paperwork.frontend.diag        Option: br-y\nINFO   paperwork.frontend.diag          Title: Bottom-right y\nINFO   paperwork.frontend.diag          Desc: Bottom-right y position of scan area.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Integer (1)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : Pixel (1)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Inactive,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (120, 511, 1)\nWARNING paperwork.frontend.diag            Value: *FAILED*\nERROR  paperwork.frontend.diag        <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/site-packages/paperwork/frontend/diag/__init__.py\", line 168, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 160, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(*result['exception_args'])\npyinsane2.sane.rawapi.SaneException: <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: br-x\nINFO   paperwork.frontend.diag          Title: Bottom-right x\nINFO   paperwork.frontend.diag          Desc: Bottom-right x position of scan area.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Integer (1)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : Pixel (1)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Inactive,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (160, 767, 1)\nWARNING paperwork.frontend.diag            Value: *FAILED*\nERROR  paperwork.frontend.diag        <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/site-packages/paperwork/frontend/diag/__init__.py\", line 168, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 160, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(*result['exception_args'])\npyinsane2.sane.rawapi.SaneException: <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: contrast\nINFO   paperwork.frontend.diag          Title: Contrast\nINFO   paperwork.frontend.diag          Desc: Controls the contrast of the acquired image.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Integer (1)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 255, 0)\nINFO   paperwork.frontend.diag          Value: 32\nINFO   paperwork.frontend.diag        Option: white-level\nINFO   paperwork.frontend.diag          Title: White level\nINFO   paperwork.frontend.diag          Desc: Selects what radiance level should be considered \"white\".\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Integer (1)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 255, 0)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: color\nINFO   paperwork.frontend.diag          Title: Picture color\nINFO   paperwork.frontend.diag          Desc: Sets the picture's color.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Integer (1)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 255, 0)\nINFO   paperwork.frontend.diag          Value: 32\nINFO   paperwork.frontend.diag        Option: hue\nINFO   paperwork.frontend.diag          Title: Hue\nINFO   paperwork.frontend.diag          Desc: Controls the \"hue\" (blue-level) of the acquired image.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Integer (1)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 255, 0)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: tl-y\nINFO   paperwork.frontend.diag          Title: Top-left y\nINFO   paperwork.frontend.diag          Desc: Top-left y position of scan area.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Integer (1)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : Pixel (1)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Inactive,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 391, 1)\nWARNING paperwork.frontend.diag            Value: *FAILED*\nERROR  paperwork.frontend.diag        <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/site-packages/paperwork/frontend/diag/__init__.py\", line 168, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 160, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(*result['exception_args'])\npyinsane2.sane.rawapi.SaneException: <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: brightness\nINFO   paperwork.frontend.diag          Title: Brightness\nINFO   paperwork.frontend.diag          Desc: Controls the brightness of the acquired image.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Integer (1)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 255, 0)\nINFO   paperwork.frontend.diag          Value: 128\nINFO   paperwork.frontend.diag        Option: channel\nINFO   paperwork.frontend.diag          Title: Channel\nINFO   paperwork.frontend.diag          Desc: Selects the channel of the v4l device (e.g. television or video-in.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : String (3)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : None (0)\nINFO   paperwork.frontend.diag          Size: 9\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Inactive,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Camera 1']\nWARNING paperwork.frontend.diag            Value: *FAILED*\nERROR  paperwork.frontend.diag        <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/site-packages/paperwork/frontend/diag/__init__.py\", line 168, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 160, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(*result['exception_args'])\npyinsane2.sane.rawapi.SaneException: <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: tl-x\nINFO   paperwork.frontend.diag          Title: Top-left x\nINFO   paperwork.frontend.diag          Desc: Top-left x position of scan area.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Integer (1)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : Pixel (1)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Inactive,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 607, 1)\nWARNING paperwork.frontend.diag            Value: *FAILED*\nERROR  paperwork.frontend.diag        <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/site-packages/paperwork/frontend/diag/__init__.py\", line 168, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 160, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(*result['exception_args'])\npyinsane2.sane.rawapi.SaneException: <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nINFO   paperwork.frontend.diag        ====== END OF SCANNER INFORMATIONS ======. My scanner is an brother DCP-9020CDW (multi-function).\nYes i use saned for my network scanner.. ",
    "jerrydiff": "I also like something dynamic with the most accessed doc / used search, maybe a few of the most recent to remind of the latest activity\nI would like something more static as well, like a summary of the content of the archive with a list of tags ordered by number of associated files. I really like that mockup, not sure the document list is mandatory, maybe a button to jump to the complete document list would be fitting ?. ok, I am already blow up that this got so much positive ideas and replies, so I am all for it as well. I must say I prefer the first one since there is room for 3 columns of labels and 3 filters instead of 2. also the paper/page/label/filter/size snippet is very important, its probably the most important part, It really needs to fit somewhere imho. ",
    "lenucksi": "Maybe https://github.com/danielquinn/paperless can be of help here? Or at least some integration could probably be cool.. Maybe some of their Django basis could be useful for the Web interface discussed elsewhere.\nAs for a maximum of automatic extraction and assignment of information I'm with you, I like the approach of Paperwork.\nAs for the titles: Could you not generate some sort of title with the automatically extracted information Paperwork has?\n. ",
    "julakali": "One addition: I changed frontend/multiscan/init.py so it prefers \"Duplex\" over \"ADF\" for testing purposes.\nSadly, even if i configure Scan from ADF with 2 pages, after receiving the data for page 1, paperwork logs \"scan done\" and does not wait for further pages.\nRelevant log part attached.\nSo duplex handling may require more work than just setting the input ;)\ndiag_duplexsource.txt\n. > That's because a \"simple\" scan always scans only one page. To scan multiple pages, you need to use the related option in the drop-down menu. This option always uses the ADF, even when another source is selected.\nThat's what I did. I replaced Line 172 in frontend/multiscan/init.py with:\npreferred_sources=[\"Duplex\", \"ADF\", \"Feeder\"]\nSo now, the multiscan option prefers my Duplex source.\nBut as i wrote yesterday, even with Duplex set as source and number of pages set to 2 (This setup works with xsane), paperwork ignores the data for the backside of the page and keeps displaying an empty second \"page\" after processing the first \"page\" (front side of the page).\nSo I guess a checkbox won't be enough to fix this. \n. Additional info: I think it's a problem with pyinsane in my case.\nI ran your Multiple scans using an automatic document feeder (ADF) example (using my \"Duplex\" source) with the same result.\nAttached you find the sane debug output for scanning one double-sided page with\n- pyinsane\n- xsane.txt\nI don't know how to find out the actual commands that are issued by xsane during the successful duplex scan, however...\n. ",
    "sappo": "I use the linux version of paperwork. My scans have about 1\u00b0 skew. Currently I use imagemagic to correct the skew manually.\nHere's the output:\nWARNING paperwork.paperwork            No suitable localization file found.\nINFO   pyinsane2.sane.abstract_proc   Starting Pyinsane subprocess\nINFO   pyinsane2.sane.abstract_proc   Pyinsane pipes: /tmp/pyinsane_qw4_anao/pipe_c2s | /tmp/pyinsane_qw4_anao/pipe_s2c\nINFO   pyinsane2.sane.abstract_proc   Connected to Pyinsane subprocess\nINFO   paperwork_backend.config       Config file found: /home/sappo/.config/paperwork.conf\nINFO   paperwork_backend.config       Reloading /home/sappo/.config/paperwork.conf ...\nINFO   paperwork.frontend.util        UI file used: /usr/local/lib/python3.5/dist-packages/usr/share/paperwork/mainwindow/appmenu.xml\nINFO   paperwork.frontend.util        CSS file used: /usr/local/lib/python3.5/dist-packages/usr/share/paperwork/application.css\nINFO   paperwork.frontend.util        UI file used: /usr/local/lib/python3.5/dist-packages/usr/share/paperwork/mainwindow/mainwindow.glade\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Index search / update] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Index search / update] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Started\nINFO   paperwork.frontend.util.actions Action: [Refresh index]\nINFO   paperwork_backend.docsearch    Opening index dir '/home/sappo/.local/share/paperwork/index' ...\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (1568, 956)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Invalid date: New document\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1568, 956) --> (1118, 758)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  10 labels found\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1118, 758) --> (1066, 701)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow  Got 9 documents\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Got 0 suggestions\nINFO   paperwork.frontend.mainwindow.docs Will get thumbnails for 8 documents [0-8]\nINFO   paperwork.frontend.mainwindow.docs Will get thumbnails for 8 documents [0-8]\nINFO   paperwork.frontend.mainwindow.docs Will get thumbnails for 3 documents [0-8]\nINFO   paperwork.frontend.mainwindow.docs Will get thumbnails for 1 documents [0-8]\nINFO   paperwork.frontend.mainwindow.docs Will get thumbnails for 1 documents [0-8]\nINFO   paperwork.frontend.util.actions Action: [Opening diagnostic dialog]\nINFO   paperwork.frontend.util        UI file used: /usr/local/lib/python3.5/dist-packages/usr/share/paperwork/diag/diagdialog.glade\nINFO   paperwork.frontend.diag        ====== START OF SYSTEM INFO ======\nINFO   paperwork.frontend.diag        os.name: posix\nINFO   paperwork.frontend.diag        sys.version: 3.5.2 (default, Nov 17 2016, 17:05:23) \n[GCC 5.4.0 20160609]\nINFO   paperwork.frontend.diag        os.uname: posix.uname_result(sysname='Linux', nodename='sappo-X230', release='4.4.0-57-generic', version='#78-Ubuntu SMP Fri Dec 9 23:50:32 UTC 2016', machine='x86_64')\nINFO   paperwork.frontend.diag        platform.architecture: ('64bit', 'ELF')\nINFO   paperwork.frontend.diag        platform.platform: Linux-4.4.0-57-generic-x86_64-with-Ubuntu-16.04-xenial\nINFO   paperwork.frontend.diag        platform.processor: x86_64\nINFO   paperwork.frontend.diag        platform.version: #78-Ubuntu SMP Fri Dec 9 23:50:32 UTC 2016\nINFO   paperwork.frontend.diag        platform.linux_distribution: ('Ubuntu', '16.04', 'xenial')\nINFO   paperwork.frontend.diag        platform.win32_ver: ('', '', '', '')\nINFO   paperwork.frontend.diag        multiprocessing.cpu_count: 4\nINFO   paperwork.frontend.diag        Available memory: 3828568064\nINFO   paperwork.frontend.diag        ====== END OF SYSTEM INFO ======\nINFO   paperwork.frontend.diag        ====== START OF PAPERWORK INFO ======\nINFO   paperwork.frontend.diag        Paperwork version: 1.0.6\nINFO   paperwork.frontend.diag        Total number of documents: 9\nINFO   paperwork.frontend.diag        Document types: {\"<class 'paperwork_backend.img.doc.ImgDoc'>\": 7, \"<class 'paperwork_backend.pdf.doc.PdfDoc'>\": 0}\nINFO   paperwork.frontend.diag        Total number of pages: 25 (average: 2.7777777777777777/doc)\nINFO   paperwork.frontend.diag        Maximum number of pages in one document: 7\nINFO   paperwork.frontend.diag        Total number of words: 6521 (average: 260.84/page)\nINFO   paperwork.frontend.diag        Average word length: 6.606042018095384\nINFO   paperwork.frontend.diag        Max word length: 50\nINFO   paperwork.frontend.diag        ====== END OF PAPERWORK INFO ======\nINFO   paperwork.frontend.diag        ====== START OF SCANNER INFO ======\nINFO   paperwork.frontend.diag        1 scanners found\nINFO   paperwork.frontend.diag        === 'brother4:net1;dev0' (Brother, MFC-L2700DW, MFC-L2700DW) ===\nINFO   paperwork.frontend.diag        Option: brightness\nINFO   paperwork.frontend.diag          Title: Brightness\nINFO   paperwork.frontend.diag          Desc: Controls the brightness of the acquired image.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Fixed (2)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : Percent (5)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Inactive,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (-3276800, 3276800, 65536)\nWARNING paperwork.frontend.diag            Value: *FAILED*\nERROR  paperwork.frontend.diag        Option 'brightness' is not active\nTraceback (most recent call last):\n  File \"/home/sappo/.local/lib/python3.5/site-packages/paperwork/frontend/diag/__init__.py\", line 168, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/home/sappo/.local/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 160, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/home/sappo/.local/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(*result['exception_args'])\npyinsane2.sane.rawapi.SaneException: Option 'brightness' is not active\nINFO   paperwork.frontend.diag        Option: source\nINFO   paperwork.frontend.diag          Title: Scan source\nINFO   paperwork.frontend.diag          Desc: Selects the scan source (such as a document-feeder).\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : String (3)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : None (0)\nINFO   paperwork.frontend.diag          Size: 64\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['FlatBed', 'Automatic Document Feeder(left aligned)', 'Automatic Document Feeder(centrally aligned)']\nINFO   paperwork.frontend.diag          Value: Automatic Document Feeder(left aligned)\nINFO   paperwork.frontend.diag        Option: tl-x\nINFO   paperwork.frontend.diag          Title: Top-left x\nINFO   paperwork.frontend.diag          Desc: Top-left x position of scan area.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Fixed (2)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : Mm (3)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 14149222, 6553)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: tl-y\nINFO   paperwork.frontend.diag          Title: Top-left y\nINFO   paperwork.frontend.diag          Desc: Top-left y position of scan area.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Fixed (2)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : Mm (3)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 23304601, 6553)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: mode\nINFO   paperwork.frontend.diag          Title: Scan mode\nINFO   paperwork.frontend.diag          Desc: Select the scan mode\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : String (3)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : None (0)\nINFO   paperwork.frontend.diag          Size: 30\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Black & White', 'Gray[Error Diffusion]', 'True Gray', '24bit Color[Fast]']\nINFO   paperwork.frontend.diag          Value: 24bit Color[Fast]\nINFO   paperwork.frontend.diag        Option: resolution\nINFO   paperwork.frontend.diag          Title: Scan resolution\nINFO   paperwork.frontend.diag          Desc: Sets the resolution of the scanned image.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Integer (1)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : Dpi (4)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Word list (2)\nINFO   paperwork.frontend.diag          Constraint: [100, 150, 200, 300, 400, 600, 1200, 2400, 4800, 9600]\nINFO   paperwork.frontend.diag          Value: 200\nINFO   paperwork.frontend.diag        Option: br-x\nINFO   paperwork.frontend.diag          Title: Bottom-right x\nINFO   paperwork.frontend.diag          Desc: Bottom-right x position of scan area.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Fixed (2)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : Mm (3)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 14149222, 6553)\nINFO   paperwork.frontend.diag          Value: 14149222\nINFO   paperwork.frontend.diag        Option: br-y\nINFO   paperwork.frontend.diag          Title: Bottom-right y\nINFO   paperwork.frontend.diag          Desc: Bottom-right y position of scan area.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Fixed (2)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : Mm (3)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 23304601, 6553)\nINFO   paperwork.frontend.diag          Value: 23304601\nINFO   paperwork.frontend.diag        Option: contrast\nINFO   paperwork.frontend.diag          Title: Contrast\nINFO   paperwork.frontend.diag          Desc: Controls the contrast of the acquired image.\nINFO   paperwork.frontend.diag          Type: <class 'pyinsane2.sane.rawapi.SaneValueType'> : Fixed (2)\nINFO   paperwork.frontend.diag          Unit: <class 'pyinsane2.sane.rawapi.SaneUnit'> : Percent (5)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities: <class 'pyinsane2.sane.rawapi.SaneCapabilities'> :[ Soft_select, Soft_detect, Inactive,]\nINFO   paperwork.frontend.diag          Constraint type: <class 'pyinsane2.sane.rawapi.SaneConstraintType'> : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (-3276800, 3276800, 65536)\nWARNING paperwork.frontend.diag            Value: *FAILED*\nERROR  paperwork.frontend.diag        Option 'contrast' is not active\nTraceback (most recent call last):\n  File \"/home/sappo/.local/lib/python3.5/site-packages/paperwork/frontend/diag/__init__.py\", line 168, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/home/sappo/.local/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 160, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/home/sappo/.local/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(*result['exception_args'])\npyinsane2.sane.rawapi.SaneException: Option 'contrast' is not active\nINFO   paperwork.frontend.diag        ====== END OF SCANNER INFORMATIONS ======. No, I use a script that calculates the skew (see http://www.fmwconcepts.com/imagemagick/textdeskew/index.php)\nIn libpillowfight you re-implemented some unpaper algorithms. Unpaper also implements deskewing maybe this is worth a try.\nAlso this opencv solution might be helpful (https://gist.github.com/mweibel/bd2d6c2271e42ed97b97)\n. ",
    "jkrenzer": "\nThe output of the diagnostic dialog would have been handy :/\n\nI had a quick look and it didn't seem conclusive. With my boss literally standing behind me and breathing down my neck I had to find a really fast solution. Sorry for that.\n\nAlso, I'm not really sure covering cases that shouldn't happen in a first place is a really good long-term strategy.\n\nI totally agree to that, don't get me wrong. But we can't keep a normal user (TM) waiting forever if something with loading the index goes horribly wrong. We have to somehow recover to a safe state even then. Think of it as last line of defence.. Situation:\n\nScanning from feeder.\nA page too much was entered. -> \"No page found\" - error.\nPut more documents in the feeder and made sure the scanner recognized them\nScanning from feeder still states the \"No page found\" - error.\n\nIt's the same for any other error. (\"device busy\", \"device error\", \"scanner jammed\" etc.)\nClosing and restarting paperwork helps - as does selecting another device and switching back.\nI attached the output of the diagnostics. \nThank you!\nJ\u00f6rn\npaperwork_diagnostics_#736_20180115.txt\n. ",
    "thperret": "oh nice ! I didn't know that.\nThanks. ",
    "MathieuSchopfer": "I think this could be implemented quite easily by turning the Gtk.MessageDialog() information window of method ActionImport.__import_ok() into a question dialogue box and catching its response signal in a function that would, when requested, delete the imported files.\nThis, also, wouldn't be any extra effort for the user, since they already have to click the  Validate button of the import summary dialogue window.. No problem, I did the correction.. I added ability to pass extra *args to next_func. Would this do the trick ?. I am not sure how safe it is to define an object attribute outside _init_() .... Apparently, kwargs don't get passed to _ask_confirmation_goto_next when unpacked (**kwargs). I don't get why .... ",
    "Xarkam": "Haaaaaaa, okay. Thank.\nI did not see the button because it really lacks contrast\n\n. ",
    "pacien": "No need to give up with pypi-install and perform a global install with pip.\nI could get around this issue by running successively pypi-install --release 1.3.7 nose and pypi-install pyinsane2 again.\nI am unsure about the root cause of this problem, but it seems that the required version of nose is nose>=1.0 whereas nose versions are ['1.3.7', '1.3.6', '1.3.5', '1.3.4', '1.3.3', '1.3.2', '1.3.1', '1.3.0', '1.2.1', '1.2.0', '1.1.2', '1.0.0']. Perhaps a version numbering problem?. Maybe should the index be stored within each work directory instead of ~/.local/share/paperwork as well.\nI currently switch between multiple work directories by using a symlink-based workaround for both the work directory itself and the index.. Good point regarding the separation of the index and the data.\nHowever I would really be against a lookup+timer approach for the index deletion: I store collections on my NAS and I mount them only when needed, with every use arbitrarily time-spaced.\nI would be in favor of a startup screen listing all (recently or not) used paths, giving the possibility to remove them from the list and delete associated indices. This would also avoid waiting for the integrity check of the last used work directory to complete to simply switch to another one. Some inspiration may be found in the IntelliJ IDEA startup window.. The rebuild time for a >500 docs collection is really a big deal when all you want to do is insert a new document or simply search for \"that invoice\" with someone over the phone waiting. I am really not fond of arbitrary timer-based approach. I guess that it should be at least be optional or configurable.\nIf there is no intermediate window allowing the user to load the collection of their choice, I assume that the last used directory will be opened automatically, triggering the integrity check I was referring to. I do not know if it is safe to load another directory while one is being loaded and its index possibly updated.\nAgreed on the fact that UI should be simple. I think that a window listing used directories (like this one) would actually be simpler for the user, but this is just my humble opinion.\nIf none of these are going to be implemented, would it be possible (if it is not already the case) to pass a work directory and an index directory as command line arguments? I think that it would help some \"advanced\" users a lot while not adding clutter to others.. ",
    "tido-": "to scan all 30 recto sides first then all the 30 verso sides.:\nYou Could chose your scanners 'special functions' like ADF and Duplex in the Preferences/Options.  Based thereof change the GUI?\nSame problem here:\nI was looking for compact devices with ADF and Duplex of course and Linux driver (SANE).\n- Brother ADS-1100W\n- Epson WorkForce DS-310\n- Canon imageFORMULA P-215II \nI decided for the Brother ADS-1100W.\nTwo-sided scanning #535\n\"Scan from ADF\" (batch mode) should support source selection (duplex) #554 \nUntil it comes into Milestone 2.0, is there a workaround (patch) that could be used inbetween to activate duplex-scanning?\n. If you face a complex problem, break it down into smaller pieces, leave exceptions away (encrypted) file.\nSame is true for \"Allow pdf manipulation\" leave exceptions away.\nInstead of adding complex features for just a few, I would focus on functionality that is valuable for many.\nTo extract metadata with phyton https://pypi.python.org/pypi/pdfminer3k last Version 1.3.1 \u2013 2016/11/05. Something like this could help to enrich the import of a PDF with proper metadata.\nAs you wrote it is tricky to read that out, what are the hurdles to overcome?\nDate, if US- or European-format, does it differ?\nTitle, keywords or table of content - if the PDF is just the container for a scanned document, how would this turn out?\nEdit: was late yesterday, edited my post.. > scan from feeder\nWhy is it necessary to tell the application how many pages it has to scan? \nDoesn't the device report the end/last page - can I help by reading out some logs?\nWith regard to automagically, paperwork would serve me one-page-after-the-other and either I 'accept' paperworks Label suggestion \"a tick to click\" or I click 'Edit'.\nPS: 3-column layout with 16:10 monitor makes sense to me. Having properties on the right as well.. > 1 document in the feeder\nWhat was the reason for this dialog in the first place? Which problem did it solve?\nIf you throw three invoices on the ADF, 1 page, a 2 page'r and a 3 page'r.\nI play your scenario, but instead of 'another' I would call it 'additional':\n1 page = click New Document\n2 pages = click New Document (recto), additional (verso)\n3 pages = click New Document (recto), additional (recto), additional (verso)\nnow the scanner sends: end/last page\nWhat I am questioning/curious will it work without the dialog and how to skip a white page?. ",
    "cypriani": "This is a duplicate of #728 (which also covers deleting documents).. Somewhat related to #462.. ",
    "dedkus": "I would like to add, that empty page can be used also to detect new document, even with duplex - 2 empty pages would mean another document\nBTW also otherways how to split to several documents would be nice (barcode, some graphical object). ",
    "teto": "or a notification via libnotify :). Of course it's a trivial problem no worry. Just it was funny to have this game I had forgotten it was even installed to launch.\nMore important is:\n\nplease support pip install --user\n\nIt should be pretty straightforward, just fixing the setup.py to correctly access resources ?. Actually I might give it a try. This is my first time using paperwork\n(found from linuxfr) and apart from few bugs (removing a document makes\neverything disappear) I must admit it's quite cool. Congrats.\n2017-02-22 16:07 GMT+01:00 Jerome Flesch notifications@github.com:\n\nplease support pip install --user\nIt should be pretty straightforward\nHm, not sure. I added those weird os.path.join(sys.prefix, a very long\ntime ago for a reason, and I don't remember exactly why. Maybe due to a bug\nin old versions of Pip (or maybe just because I'm not familiar enough with\nPython resources .. ). I'm going to look at the git history later.\nIt may require also changes in src/paperwork/frontend/util/init.py\n(all the load_xxx() and get_documentation() functions).\nAlso I don't use `--user. So if you're familiar with Python /\nsetuptools, feel free to give it a try. It would probably work best if done\nby someone actually using it.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jflesch/paperwork/issues/604#issuecomment-281695652,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA2FOjsa5KPw8p_Wv7QQ-SCgpknuTuwrks5rfE9NgaJpZM4MIqnK\n.\n. so far using pip version 1.1.1 . I'll try master.\n\n2017-02-22 16:22 GMT+01:00 Jerome Flesch notifications@github.com:\n\nremoving a document makes everything disappear\nUh ? That's a regression then :(\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jflesch/paperwork/issues/604#issuecomment-281700108,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA2FOv3YO5SusBsxT9BdzzArEVpQEwipks5rfFKhgaJpZM4MIqnK\n.\n. I successfully installed paperwork in develop mode so I suppose --user mode now works out of the box.\nI had to modify paperwork-backend though since the pip version didn't match paperwork master requirements:\nhttps://github.com/jflesch/paperwork-backend/pull/4\n\nWith this version removing a document works correctly :). After checking I couldn't install paperwork in develop mode and had to do install paperwork systemwide because of the data_files excepted in /usr/share.\nI meet several problems (like I have to reboot paperwork for every scan because of https://github.com/jflesch/paperwork/issues/606, printing takes > 10min with errors etc) that I might be able to help with but being able to run in develop mode would be helpful.\nThe main obstacle for it though is the system wide install of .glade files through \"data_files\". Every page I saw recommanded to not use this type of install. While I agree data files should be separated from the source code, there seems to be no good way to do so. The best* way seems to be using package_data instead in setup.py like twisted does. Would you have any objection against this ?. hum there seems to be an old paperwork installed, I am gonna double check. confirmed with latest source. fixed via installing latest pyinsane2. sorry for the noise, it seems to be intermittent (maybe after hibernation only) and now have it with master.. Seems like I have 2 different failures. The patch does not change anything. I tracked down one problem but I need to fix it. Was trying the testsuite of pyinsane but the first tests fail, are you able to make all of them work with your scanner ?\n```\n$ python3 setup.py test -v\nrunning test\nrunning egg_info\nwriting pyinsane2.egg-info/PKG-INFO\nwriting requirements to pyinsane2.egg-info/requires.txt\nwriting top-level names to pyinsane2.egg-info/top_level.txt\nwriting dependency_links to pyinsane2.egg-info/dependency_links.txt\nreading manifest file 'pyinsane2.egg-info/SOURCES.txt'\nreading manifest template 'MANIFEST.in'\nwarning: no files found matching '.py' under directory 'src'\nwarning: no files found matching '.glade' under directory 'src'\nwarning: no files found matching '.xml' under directory 'src'\nwarning: no files found matching '.css' under directory 'src'\nwarning: no files found matching '.cpp' under directory 'src'\nwarning: no files found matching '.h' under directory 'src'\nwarning: no files found matching 'example-paperwork.conf'\nwarning: no files found matching 'COPYING'\nwriting manifest file 'pyinsane2.egg-info/SOURCES.txt'\nrunning build_ext\nabstract (unittest.loader._FailedTest) ... ERROR\nrawapi (unittest.loader._FailedTest) ... ERROR\nabstract (unittest.loader._FailedTest) ... ERROR\nrawapi (unittest.loader._FailedTest) ... ERROR\ntest_get_devices (tests.tests_abstract.TestSaneGetDevices) ... ok\ntest_get_option (tests.tests_abstract.TestSaneOptions) ... ^Cinterrupted\n```. I found out the bug a long time ago but I didn't have a proper patch. Btw I tried with your patch and I find it harder to see the error xD\nWARNING paperwork.frontend.util.config Exception while configuring scanner: <class 'pyinsane2.sane.rawapi.SaneException'>: <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nERROR  paperwork.frontend.util.config <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/home/teto/paperwork/src/paperwork/frontend/util/config.py\", line 379, in get_scanner\n    return _get_scanner(config, devid, preferred_sources)\n  File \"/home/teto/paperwork/src/paperwork/frontend/util/config.py\", line 336, in _get_scanner\n    if 'source' not in dev.options:\n  File \"/home/teto/pyinsane/pyinsane2/sane/abstract.py\", line 439, in _get_options\n    self.__load_options()\n  File \"/home/teto/pyinsane/pyinsane2/sane/abstract.py\", line 410, in __load_options\n    self._open()\n  File \"/home/teto/pyinsane/pyinsane2/sane/abstract.py\", line 395, in _open\n    handle = rawapi.sane_open(self.name)\n  File \"/home/teto/pyinsane/pyinsane2/sane/rawapi.py\", line 591, in sane_open\n    raise SaneException(SaneStatus(status))\npyinsane2.sane.rawapi.SaneException: <class 'pyinsane2.sane.rawapi.SaneStatus'> : Data is invalid (4)\nThe problem is at some point pyinsane tried to unpack (now unpickle) data whereas 0 bytes were read:\nhttps://github.com/teto/pyinsane/commit/716734be9e549f7068666d835920f75c2fd72244#diff-25d5a2d88acd8bf8ea6f83bf72231b8fR71\n. Right I see your point. So I should fork libsane and see what's wrong ?. I'll add some logging in pyinsane2.\nIt tries to open \"genesys:libusb:003:004\".\n```\nINFO   pyinsane2.sane.rawapi          Opening device b'genesys:libusb:003:004'\nWARNING paperwork.frontend.util.config Exception while configuring scanner: :  : Data is invalid (4)\nERROR  paperwork.frontend.util.config  : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/home/teto/paperwork/src/paperwork/frontend/util/config.py\", line 379, in get_scanner\n    return _get_scanner(config, devid, preferred_sources)\n  File \"/home/teto/paperwork/src/paperwork/frontend/util/config.py\", line 336, in _get_scanner\n    if 'source' not in dev.options:\n  File \"/home/teto/pyinsane/pyinsane2/sane/abstract.py\", line 439, in _get_options\n    self.__load_options()\n  File \"/home/teto/pyinsane/pyinsane2/sane/abstract.py\", line 410, in __load_options\n    self._open()\n  File \"/home/teto/pyinsane/pyinsane2/sane/abstract.py\", line 395, in _open\n    handle = rawapi.sane_open(self.name)\n  File \"/home/teto/pyinsane/pyinsane2/sane/rawapi.py\", line 595, in sane_open\n    raise SaneException(SaneStatus(status))\n```\nThen I have\nERROR  pyinsane2                      Unable to set scanner option [source]: Option is not active\nzsh: segmentation fault  paperwork\n. in my case (using master) it also disappears when scanning something. Eventually it reappears but after 5sec.. I plan to work on this next time I use paperwork. This might be weeks or months, hope that's ok with you.\nDo you plan to setup some CI ? Travis.ci is easy to setup (~20 mn) & free. That could help with testing simple things like installation of the package.\n. it seems doable https://docs.travis-ci.com/user/gui-and-headless-browsers/. python3 setup.py develop --user seems to work on unstable (notwistanding a few issues with missing pictures ? if you confirm, you can close this.\nBtw, would you be interested in an patch to provide some CLI flags (like log verbosity) ? I tried the usual paperwork --version and paperwork --help but it launches the gui which can be troublesome.. unstable branch does not work (aka I can't click on the menu to print for instance) in develop mode still because of how the data is handled.\n```\nWARNING paperwork.frontend.util        Failed to preload 'mainwindow/paperwork_halo.svg' !\n(paperwork:28744): Gtk-WARNING **: Could not load image 'paperwork_halo.svg': Impossible d'ouvrir le fichier \u00ab\u00a0/home/teto/paperwork/src/paperwork/frontend/mainwindow/paperwork_halo.svg\u00a0\u00bb\u00a0: Aucun fichier ou dossier de ce type\n(paperwork:28562): Gtk-WARNING **: Negative content width -10 (allocation 1, extents 5x6) while allocating gadget (node headerbar, owner GtkHeaderBar)\n```\nWhen looking at setup.py, some data is installed via data_files (i.e., in sys.prefix) but unused mostly while some is installed via package_data (https://packaging.python.org/tutorials/distributing-packages/#package-data / https://setuptools.readthedocs.io/en/latest/setuptools.html#including-data-files). The project uses both as it loads files with pgk_resources but also resorts to this kind of hack https://github.com/openpaperwork/paperwork/pull/614/files#diff-0e86c12cbceb60d8128f73b8f2c07746R46.\nIt's weird to have code (preload_file) that just checks if a file exists. It has an impact on performance too. I would like to know your opinion on this. Either we use a \"public\" location with data_file and load pictures from there or we use package data and load it through pkg_resource.\nnb It seems like python is used to do some of the distrib-level tasks. For instance src/paperwork/frontend/shell.py would be best served with a proper paperwork.desktop and a makefile IMO. Either people can copy the .destkop or use the makefile, for instance:\nxdg-desktop-menu install --novendor paperwork.desktop\nxdg-icon-resource install --novendor --size 128 paperwork.png \n. sorry, I tried to upgrade to unstable before asking but I pulled the wrong branch xD. done\n2017-06-01 10:11 GMT+02:00 Jerome Flesch notifications@github.com:\n\n@jflesch requested changes on this pull request.\nJust one minor change required. Otherwise, it looks good to me :)\nIn src/paperwork/frontend/diag/init.py\nhttps://github.com/openpaperwork/paperwork/pull/639#discussion_r119551363\n:\n\n@@ -230,6 +230,12 @@ class LogTracker(logging.Handler):\n     # Assuming 1KB per line, it makes about 50MB of RAM\n     # (+ memory allocator overhead)\n     MAX_LINES = 50 * 1000\n+    logLevels = {\n\nConstant --> \"LOG_LEVELS\"\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/openpaperwork/paperwork/pull/639#pullrequestreview-41439892,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA2FOvqiwF6MCo8fTX-iNXaU_zOmPkJlks5r_nIZgaJpZM4Nsl8Q\n.\n. \n",
    "VGib": "OK thanks,\nI found that python2-poppler has a dependency to poppler-glib , when I only install it, it works.\nCan you confirm me that the package is required.\nHere are the files installed:\npoppler-glib /usr/\npoppler-glib /usr/include/\npoppler-glib /usr/include/poppler/\npoppler-glib /usr/include/poppler/glib/\npoppler-glib /usr/include/poppler/glib/poppler-action.h\npoppler-glib /usr/include/poppler/glib/poppler-annot.h\npoppler-glib /usr/include/poppler/glib/poppler-attachment.h\npoppler-glib /usr/include/poppler/glib/poppler-date.h\npoppler-glib /usr/include/poppler/glib/poppler-document.h\npoppler-glib /usr/include/poppler/glib/poppler-enums.h\npoppler-glib /usr/include/poppler/glib/poppler-features.h\npoppler-glib /usr/include/poppler/glib/poppler-form-field.h\npoppler-glib /usr/include/poppler/glib/poppler-layer.h\npoppler-glib /usr/include/poppler/glib/poppler-media.h\npoppler-glib /usr/include/poppler/glib/poppler-movie.h\npoppler-glib /usr/include/poppler/glib/poppler-page.h\npoppler-glib /usr/include/poppler/glib/poppler-structure-element.h\npoppler-glib /usr/include/poppler/glib/poppler.h\npoppler-glib /usr/lib/\npoppler-glib /usr/lib/girepository-1.0/\npoppler-glib /usr/lib/girepository-1.0/Poppler-0.18.typelib\npoppler-glib /usr/lib/libpoppler-glib.so\npoppler-glib /usr/lib/libpoppler-glib.so.8\npoppler-glib /usr/lib/libpoppler-glib.so.8.8.0\nThanks a lot. ok close\n. ",
    "patientimprover": ":-) \nfor sure!\nthanks a lot for looking at this that quickly!\nI'll test it using ubuntu and be back inamin.. ubuntu 16.04 bit is working besides the already known issue with ADF Duplex is just doing single pages.\nso this is windows related.\nany ideas where to tinker to get this up and running?. ",
    "fabrice-regnier": "ahah thank you jflesh! it works like a charm now. Maybe apt-get install libsane should go to the install doc.\nregards,\nf.\n. Hi,\nI've installed paperwork this way (https://github.com/jflesch/paperwork/blob/unstable/doc/install.debian.markdown). I didn't used python-stdeb.\n```\nFR-PORT:/tmp# lsb_release -a\nNo LSB modules are available.\nDistributor ID: Debian\nDescription:    Debian GNU/Linux 9.0 (stretch)\nRelease:        9.0\nCodename:       stretch\nFR-PORT:/tmp# uname -a\nLinux FR-PORT 4.9.0-1-amd64 #1 SMP Debian 4.9.6-3 (2017-01-28) x86_64 GNU/Linux\n```\nregards,\nf.\n. ",
    "mermetbt": "Hi, I have the same problems by installing Paperwork from the Archlinux aur.\nI've checked inside the directory, and the file doesn't exists.. I found the solution. The problem was that I used the infinality font package.\nSo in order to fix the problem I did the following:\n\n\nRemove the fontconfig infinality package\npacman -R fontconfig-infinality\n\n\nRemove infinality:\npacman -S --asdeps fontconfig cairo freetype2\n\n\nUpdate the GDK Pixbuf loader:\ngdk-pixbuf-query-loaders --update-cache\n\n\nAnd then everything works fine!. ",
    "jstenback": "For the record, I'm seeing this with 1.1.2.. FWIW I see the everything disappears when deleting a document issue in 1.1.2 as well.. When I see this issue resizing the main window does indeed make the document list reappear.. I could see a use case for an \"archive on\" feature rather that would simply add a label that automatically hides documents from the default view. And a mass-delete feature could in an of itself be useful, but I certainly wouldn't want anything to ever disappear automatically to a point where documents wouldn't be easily recoverable.. Same as #600 ?. ",
    "andycowl": "Thanks. That resolved my issue.. ",
    "MaryFr": "Sometimes bugs out completely and can't delete a second document - for example here when I deleted the 47th image, couldn't delete the last (48th). Partial diagnostic below and full attached:\nDiagnostic 2017-04-02.txt\nINFO   paperwork_backend.docsearch    Indexing new doc: 20170401_2202_08\nERROR  paperwork.frontend.util.jobs   ===> Job IndexUpdater:0 raised an exception: : [Errno 2] No such file or directory: 'F:\\Scans\\Paperwork\\20170401_2202_08\\paper.47.jpg'\nERROR  paperwork.frontend.util.jobs    0: site-packages\\paperwork-1.1.2-py3.4.egg\\paperwork\\frontend\\util\\jobs.py: L  180: _run\nERROR  paperwork.frontend.util.jobs    1: site-packages\\paperwork-1.1.2-py3.4.egg\\paperwork\\frontend\\mainwindow__init__.py: L  423: do\nERROR  paperwork.frontend.util.jobs    2: site-packages\\paperwork_backend-1.1.2-py3.4.egg\\paperwork_backend\\docsearch.py: L  284: add_doc\nERROR  paperwork.frontend.util.jobs    3: site-packages\\paperwork_backend-1.1.2-py3.4.egg\\paperwork_backend\\docsearch.py: L  245: _update_doc_in_index\nERROR  paperwork.frontend.util.jobs    4: site-packages\\paperwork_backend-1.1.2-py3.4.egg\\paperwork_backend\\img\\doc.py: L  403: get_docfilehash\nERROR  paperwork.frontend.util.jobs    5: site-packages\\paperwork_backend-1.1.2-py3.4.egg\\paperwork_backend\\img\\page.py: L  295: get_docfilehash\nERROR  paperwork.frontend.util.jobs    6: site-packages\\paperwork_backend-1.1.2-py3.4.egg\\paperwork_backend\\common\\doc.py: L  414: hash_file\nERROR  paperwork.frontend.util.jobs   ---> Job IndexUpdater:0 was started by:\nERROR  paperwork.frontend.util.jobs    0:            paperwork: L    6: \nERROR  paperwork.frontend.util.jobs    1: site-packages\\paperwork-1.1.2-py3.4.egg\\paperwork\\paperwork.py: L  151: main\nERROR  paperwork.frontend.util.jobs    2: site-packages\\paperwork-1.1.2-py3.4.egg\\paperwork\\frontend\\mainwindow__init__.py: L 2273: on_doc_exam_end\nERROR  paperwork.frontend.util.jobs    3: site-packages\\paperwork-1.1.2-py3.4.egg\\paperwork\\frontend\\util\\jobs.py: L  256: schedule\nINFO   paperwork.frontend.util.actions Action: [Opening diagnostic dialog]\nINFO   paperwork.frontend.util        UI file used: C:\\Program Files (x86)\\Paperwork\\data\\diag\\diagdialog.glade\nINFO   paperwork.frontend.diag        ====== START OF SYSTEM INFO ======\nINFO   paperwork.frontend.diag        os.name: nt\nINFO   paperwork.frontend.diag        sys.version: 3.4.4 (v3.4.4:737efcadf5a6, Dec 20 2015, 20:20:57) [MSC v.1600 64 bit (AMD64)]\nINFO   paperwork.frontend.diag        platform.architecture: ('64bit', 'WindowsPE')\nINFO   paperwork.frontend.diag        platform.platform: Windows-10-10.0.14393-SP0\nINFO   paperwork.frontend.diag        platform.processor: Intel64 Family 6 Model 58 Stepping 9, GenuineIntel\nINFO   paperwork.frontend.diag        platform.version: 10.0.14393\nINFO   paperwork.frontend.diag        platform.linux_distribution: ('', '', '')\nINFO   paperwork.frontend.diag        platform.win32_ver: ('10', '10.0.14393', 'SP0', 'Multiprocessor Free')\nINFO   paperwork.frontend.diag        multiprocessing.cpu_count: 8\nERROR  paperwork.frontend.diag        'module' object has no attribute 'sysconf'\nTraceback (most recent call last):\n  File \"site-packages\\paperwork-1.1.2-py3.4.egg\\paperwork\\frontend\\diag__init.py\", line 78, in _get_sysinfo\nAttributeError: 'module' object has no attribute 'sysconf'\nINFO   paperwork.frontend.diag        ====== END OF SYSTEM INFO ======. OK - thanks, will remember to run diagnostic after it happens :-) as it's happened a few times now. Closing. Following a restart (and choosing the scanner from the list) it's now working again. \nMay need to work out why it has a problem with the scanner going to sleep/waking up?. If it happens again I'll try that.\nSadly, as for funds, that makes two of us, otherwise would sub you :-) . ",
    "eliotb": "I can confirm that I have sometimes seen the same as @tYYGH. It seems that it can happen any time the document list should be refreshed, e.g. when filtering, or when returning from the edit Properties view, or after scanning a new document.\nIt is, unfortunately, not completely repeatable.  \nI don't know if related, I get a lot of\n`(paperwork:18662): Gtk-WARNING **: Allocating size to GtkRevealer 0x557a381b28c0 without calling gtk_widget_get_preferred_width/height(). How does the code know the size to allocate?'. I understand laziness :).  I didn't want to make the user enter a separate title, rather to display some data that is already present.  If a user has chosen to enter extra keywords then they would be visible.\nFor me, it would give a better idea of what is in the collection (without an explosion in the number of defined labels).  Again, personally, the thumbnails are too small to be useful in distinguishing between documents with same lables.\nE.g. for label \"insurance\", keywords might be 'house', 'car', 'contents', 'medical'\n. @mjourdan something like it.  I would prioritise my own keywords above both the doc title, and anything autoselected from the document. (because my words are likely to be most meaningful to me)\nAlso would place the (truncated) text in currently blank area to right of date.  Possibly with full text pop up on hover.. ",
    "ftorto": "Avoiding keeping too much old bills (warranty expired) can be a use case. ",
    "DiomFR": "Hello,\nThe first example I can think of is a paper you have to keep for a defined time. \nLike a invoice for an object with 2 years warranty, you don't want to keep it for ever. \nOr you're insurance card (carte mutuelle in France), you have a new one each year. \nThanks for your work, I discovered it on linuxfr. \nJust a thing, to install an update, what's the process ?\nLe 25 f\u00e9vrier 2017 12:19:10 GMT+01:00, Jerome Flesch notifications@github.com a \u00e9crit :\n\nI'm trying to understand the use case here: Why would you want to\ndelete expired documents ? oO\nDo you have a concrete example ?\n-- \nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub:\nhttps://github.com/jflesch/paperwork/issues/610#issuecomment-282477654\n\n--\nDamien, sent from my mobile phone, sorry for my brevity.. ",
    "lcecic": "Hello\nMy \"expire on\" use case : \nI use a owncloud to share the paperwork data on several computer. If I suppose to put document without deleting when they are useless, my owncloud share will necessarily get full, for the same reason I use to garbage things that become unnecessarily in my house (can we have non stop growth without get the resources full ?).\nIn france we have a document explaining how long we should get papers (sorry it's in french : https://www.service-public.fr/particuliers/vosdroits/F19134). So I can fill the \"expire on\" date for all the official paper. And, after a certain delay, get all my expired documents and delete then.. ",
    "fturco": "Well it has become a feature request now :-) The main reason is due to the fact that PNG is a lossless image format while JPEG is lossy; I'd like to preserve all informations for my scanned documents if possible.. My use case is similar to that of people downloading FLAC music instead of MP3 files. With PNG/FLAC you can always recompress documents/music later if another better codec/algorithm is developed. With lossy formats like JPEG or MP3 you are going to lose informations. I don't feel comfortable at scanning paper documents in JPEG format and throwing them away after that. I can't go back in that case.. ",
    "JoshuaPK": "I agree with @pacien .  @jflesch , I didn't realize you had a use case where documents would be backed up to an rsync-like service such as OwnCloud, and you would not want to have to re-upload the index every time.  For that use case it makes complete sense to store the indexes in a centralized or standardized location.  Having said that, my use case doesn't involve a service like that.  I want a directory containing everything that I can easily backup, burn to a DVD, expose via NFS, or whatever else.  And I do not want to have to sit and wait for things to reindex on a periodic basis... whenever I add a new document, or when I ask it to reindex everything, at that time it should modify the index... but no time else.\nFortunately these two use cases are not mutually exclusive.  :)  We can make a config option for Index location.  We could have it default to the standardized location that it is now, but it could be overridden by a setting in the config file, or on the command line.  What do you think?. I've not taken a look at the code yet, but how easy is it to plug in other FTS engines besides Whoosh?  Both SQLite and Postgres have very fast FTS engines.. I found the assignment of the index location variable in docsearch.py.  Next I need to see if the document location is available at that point.  Before I create a pull request, I should ask, is there a reason that the index should reside under the ~/.local/share directory, aside from LSB convention?  I noted that the Flatpack initialization code does the same thing.  Is there a reason that it is not desired to keep the indexes with the documents?. Ok, I'll close this and discuss further on #619 . After making your suggested PEP8 modifications, when I ran make check I got the following.  You didn't mention these- are they inconsequential, or are our environments slightly different?\npaperwork_backend/deps.py:8:1: E722 do not use bare except'\npaperwork_backend/shell_cmd.py:17:1: E722 do not use bare except'\npaperwork_backend/shell_cmd.py:22:1: E722 do not use bare except'\npaperwork_backend/util.py:33:1: E722 do not use bare except'\npaperwork_backend/util.py:44:1: E722 do not use bare except'\npaperwork_backend/shell.py:56:17: E128 continuation line under-indented for visual indent\npaperwork_backend/common/doc.py:31:1: E722 do not use bare except'\nmake[1]: *** [check] Error 1\nmake[1]: Leaving directory /home/josh/dev/Projects/DocMgmt/openpaperwork/oxygen-workspace/OpenPaperwork/src/paperwork/paperwork-backend'\nmake: *** [paperwork-backend_check] Error 2\n. I corrected this by moving the base_data_dir = self.fs.unsafe(rootdir) to before the \"if index_in_workdir\" statement.. ",
    "kri5": "This way of mounting it as a drive would prevent to use it properly from different computer, or you would have to have the same mount points in all the computers (laptop, desktop, etc..)\nThis adds more room for user mistakes.. Btw why did you tag this issue as windows only?. ",
    "jbicha": "Simple Scan is likely the GNOME scanner app.. @jflesch Yes, simple-scan was recently added as a GNOME Core App.. I believe there's no announcement because the change was made after the development snapshot 3.25.1 release. I expect it to be mentioned in the 3.25.2 development release and more prominently when 3.26 is released.\nYes, simple-scan is part of GNOME. See the link in my earlier comment. Those mockups were made with Simple Scan in mind.. You definitely do not have to shut down your website.\nHere's some GNOME-related projects with websites:\n\nGTK+\nGlom. And GCompris charges for their full Android and Windows versions. Although I guess they have switched to Qt now, it wasn't a problem when they were hosted on GNOME.. \n",
    "mrmcq2u": "That's weird, can't find any announcement of simple scan becoming a gnome\ncore app. Is it even part of gnome project?\nOn Mon 1 May 2017 14:30 Jerome Flesch notifications@github.com wrote:\n\nOk, good to know\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/openpaperwork/paperwork/issues/627#issuecomment-298333624,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAcxzSTLLKZ4v8R1H40L1smMf6pu7EiTks5r1d5dgaJpZM4NMRgM\n.\n. \n",
    "muelli": "nah. I don't want to install system-wide nor necessarily a development version.  I expected to be able to install and run paperwork just as any other application available via PyPI.\nFeel free to close if you don't think it's a bug.  I would expect paperwork to be the only project installing its resources in site-packages/tmp though.. yay!\nAlthough I've tried pip install -U 'git+https://github.com/openpaperwork/paperwork/#egg=paperwork (and the backend), but it still fails with the same error. I guess I try again when the new version has been pushed to pypi.\n. I withdraw my previous comment. I was in the wrong virtualenv. The application is starting now. yay :). ",
    "Lucki": "I also get this often. The documents reappear when I open a menu. It looks to me like the GTK-Revealer isn't showing the content.\nSometimes it's showing the list, but it is really compressed and the labels are cut in half. Opening a menu also fixes this. Probably this is happening after the list scrolls automatically.. For generating desktop files at packaging there's an existing tool named gendesk. Keep it up \ud83d\udc4d . ",
    "dankor": "Sure, will do. It would be nice to have paperwork on DL and gnome-i18n@gnome.org notifications.\nProbably you want to revert your localize.sh, I guess. \nThank you!. ",
    "schmodd": "I am still having the same problem with the new paperwork version 1.21 (by the way #590 describes it too)\nMy Printer & paperwork are working fine under linux (with sane) but not in windows (with wia).\nI want to mention that my Scanner works without any problem with the \"windows-scanner\"-app and also the \"Windows-Fax and Scan\"-tool though. That leads me to the conclusion that there may be something wrong with the pyinsane implementation.. ",
    "yastupin": "Same bug encountered here. What can I do to help?\nScanner Brother ADS-1600W, Paperwork 1.1.2 on Fedora 25.\nERROR  paperwork.frontend.diag        === UNCATCHED EXCEPTION ===\nTraceback (most recent call last):\n  File \"/usr/lib/python3.5/site-packages/paperwork/frontend/util/actions.py\", line 67, in on_button_clicked_cb\n    return self.__do()\n  File \"/usr/lib/python3.5/site-packages/paperwork/frontend/util/actions.py\", line 64, in __do\n    return self.do(**kwargs)\n  File \"/usr/lib/python3.5/site-packages/paperwork/frontend/multiscan/__init__.py\", line 184, in do\n    scan_session = dev.scan(multiple=True)\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 258, in scan\n    return ScanSession(self, multiple)\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 198, in __init__\n    self._remote_session = remote_do('scan', scanner.name, multiple)\n  File \"/usr/lib/python3.5/site-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(*result['exception_args'])\nStopIteration\nERROR  paperwork.frontend.diag        ===========================\nWorks again after a restart.. ",
    "khurshid-alam": "Debian packaging would be nice, but for debian all the dependencies need to be packaged first which could take time.\nMeanwhile we can all have PPA. PPA can be made to build automatically if it detects any changes (and I can help with you that).\nBut from issue what I can see is that nobody made an attempt to create a package for pyinsane. If it provides a setup.py, it should be easy enough to do so.. Flatpak has few major weakness:\n1) Nobody wants to install entire platform run-time for a simple app (near 2.5 GB). And then there is memory leak in runtime.\n2) Doesn't really works with themes other than Adwaita itself. Do we really want to use app completely out of place with system theme?\n3) No root access. No DND. And very restricted access to the rest of the system.\nIMHO, Flatpak has a long long way to go before it can become mainstream. Snap actually does better in this regard.. ",
    "69rudi69": "Let's keep the fingers crossed\nThanks\nLe 8 juin 2017 7:36 PM, \"Jerome Flesch\" notifications@github.com a \u00e9crit :\n\nI'm would guess this is this bug : https://bugzilla.gnome.org/\nshow_bug.cgi?id=764664\nPaperwork 1.1.x for Windows has been built with GTK+ 3.18 that appears to\nbe affected by this bug.\nPaperwork 1.2.x for Windows will be built with GTK+ 3.24, so hopefully\nthis issue will then be fixed.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/openpaperwork/paperwork/issues/640#issuecomment-307174418,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ARQ7kaMflnvt3ZXXy9aOu_VONrOVZuPYks5sCDEygaJpZM4N0X-c\n.\n. \n",
    "onsosb": "The values.h is no longer used in any modern system.  They should be replaced by limits.h, features.h, and float.h if I am not mistaken.  For that I am not very skilled to do so.  the right way is to have the authors of the package bring it up to date.  The wrong way is to hard code the values for the version that openpaperwork uses.  the other alternative which is perhaps long shot, have the capability of enabling paperwork function with limited features if some libraries are not available, as opposed to have all or nothing approach of present time.  In this case for example, the features related to offending package will not be available when paperwork runs.\nIn my opinion having a native version running on osx as opposed to having a VM based or Docker based version will increase the popularity and usage of the openpaperwork, immensly.  There is another effort under the name of \"Elephant\" that provides similar  functionality, perhaps not as elaborated as paperwork, that runs on all three Linux, Windows and OSX platform, thee catch is it is written in Java...\nI am not sure if it could be done to take the compiled version of paperwork in python on Unix and translate it to java byte code.... , which makes it runable in all platforms.   Forgive me this is the naive in me saying this..... Hi Jerome,\nHere is the link to Elephant:  http://elephant.mine.nu/,\nhttp://elephant.mine.nu/\nOther but more involved project which seems very good is Turtl:\nhttps://turtlapp.com/\nRegards,\nBid\nOn Mon, Jul 3, 2017 at 3:06 PM, Jerome Flesch notifications@github.com\nwrote:\n\nThe values.h is no longer used in any modern system. They should be\nreplaced by limits.h, features.h, (...)\nYes, and it has been fixed by openpaperwork/libpillowfight@05e0a13\nhttps://github.com/openpaperwork/libpillowfight/commit/05e0a135da56eb54ed491c1f6c203b6c8b60d49c\n. The change will be in the next release of Libpillowfight.\nThere is another effort under the name of \"Elephant\"\nDo you have a link for this project ? I would like to see how it looks.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/openpaperwork/paperwork/issues/647#issuecomment-312640691,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Ab0_dx4VOd8Mx70Vo4XCc4kABAA3ceSiks5sKOdggaJpZM4OIYEH\n.\n. Jerome,\n\nYes and No regarding the functionallity of Turtl and Elephant.  There is\nnothing, at least I did not see, as a function that paperwork can do and\nthe other could not.  By the stretch of imagination, one can argue that\nvery large documents can scale better in Paperwork, even that is\nintelectually arguable.\nThat said, I personally am looking forward to run Paperwork on my OSX and\nLinux boxes.    Cannot wait to see how it behaves in OSX.\nAlso, consider what I suggested before, rather than all or nothing\napproach, it would be nice to have a situation that one can run it with\nreduced functionality, for example not having Scan capability due to errors\nor what no, rather than not being able to use the system.\nOn Tue, Jul 4, 2017 at 5:25 PM, Jerome Flesch notifications@github.com\nwrote:\n\nI see. Both those projects are note-taking apps (like Evernote, the other\nPaperwork https://github.com/twostairs/paperwork, etc). While there is\nsome overlap, they don't really have the same goal than Paperwork.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/openpaperwork/paperwork/issues/647#issuecomment-312904245,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Ab0_d8tmxXgLJRKs2_FWOj5cT0t4chbfks5sKlmFgaJpZM4OIYEH\n.\n. Yes, OCR and scanning are part of the core functions, but one can live\nwithout them,for example by scanning separately and adding the result to\nthe system.  There is also, at least one utility, and I am sure there are\nmore that can extrat keywords from pdf files, etc.  It takes me to my\nearlier  suggestion of having your Paperwork give support to add ons\n(extensions),  so one can extend the core functions of Paperwork  based on\ntheir needs.  IT may need some rearchitecturing Paperwork....\n\nBut Jerome, the basic philosophy of Paperwork is great and will have a good\nsuccess, if it becomes 1) patform agnostic, 2) provides sync and back up\ncapabilities builtin or by extension,3) provides some sort of support for\nthe people on the run either through the web or custom clients and 4)  the\nmost important of all provides for end to end encryption.\nI am sure these are not new to you, but these could be the strong points of\nchosing your version of Paperwork vs the others.\nOnce againm I really believe, your efforts are well appreciated and will\nmake Paperwork very populaire and successful utility product.\nRegards,\nBid\nOn Tue, Jul 4, 2017 at 8:49 PM, Jerome Flesch notifications@github.com\nwrote:\n\nYou do realize that scanning and OCR are pretty much the core features of\nPaperwork, right ?\nAfaik, neither Elephant nor Turtl provide those functions.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/openpaperwork/paperwork/issues/647#issuecomment-312934320,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Ab0_d9r_x-AfC9p7C8CREyyfEI0iu-Vyks5sKok1gaJpZM4OIYEH\n.\n. For OSX port there are plenty of options, you could turn almost any pc\nthese days to osx, but easier than that, just post the could and people\nlike me try to build and find the bugs.  In principle running on OSX,\nshould not be an issue, Python is supported and as long as your could runs\non Linux making it to run on OSX should not be difficult.  If it was not\nfor the bug in the Python library that I reported, I might have it running\nby now.\n\nRegards,\nBid\nOn Wed, Jul 5, 2017 at 10:25 AM, Jerome Flesch notifications@github.com\nwrote:\n\nJust so you know, I don't have any MacOSX machine / license, and I've\ndecided to stop pouring money into Paperwork (I'm down -170\u20ac already). So\nunless I find a really cheap Mac computer, I won't make any MacOSX port\nmyself.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/openpaperwork/paperwork/issues/647#issuecomment-313036545,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Ab0_d5A_8yHS4UGa2v0rPDlxvzyjFjk0ks5sK0iVgaJpZM4OIYEH\n.\n. One should not over load the semantics of known terms.  Print has always meant, rightly so, to send a doc to printer.  The right place would be the choice of device or output, the same way that one chooses a pdf driver, to save the doc in pdf format.  Meaning one issues the print command and there it chooses as destination Paperwork.\nThat said,  in MHO, there is not much value added in this functionality, the effort will be best spent in providing backup/Sync support among various devices as an example.  Or client for hand held devices....(AKA: Andriod and Apple based phones and tablets). Jerome,\n\nYes, that is what I meant, have the Paperwork just like another printer.\nSpeaking of using time wisely, I still think an OSX version would be\ndynamite and puts this way ahead of other paperwork incarnations that use\nvitualization to run theirs.\nREgards,\nBid\nOn Tue, Jul 4, 2017 at 5:30 PM, Jerome Flesch notifications@github.com\nwrote:\n\nThe right place would be the choice of device\nIf you mean \"make Paperwork appears just like another printer\" in the\nprint dialog, then we are in agreement.\nthere is not much value added in this functionality\nAgreed. Still, if I had time to do it, it could be fun ... :-), but I\nprobably won't (hence the label \"I have a dream\" on this ticket)\nproviding backup/Sync support\nRight now, this is totally out of the scope of Paperwork, and this is done\nperfectly by other applications like OwnCloud, SparkleShare, etc (I myself\nuse SparkleShare for that purpose).\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/openpaperwork/paperwork/issues/649#issuecomment-312905155,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Ab0_d9NkX1m02Utx8pi6vB_2ULa6I-Dfks5sKlqggaJpZM4ONL0f\n.\n. \n",
    "ovizii": "So the latest status is that if one uses the current version, things should compile on OSX? I assume one would follow these instructions for OS X => https://github.com/openpaperwork/paperwork/blob/unstable/doc/install.devel.markdown ?. ",
    "ahundt": "I tried installing and managed to resolve a few issues, but ultimately had no luck in the end:\n```\n$ paperwork\nTraceback (most recent call last):\n  File \"\", line 888, in _find_spec\nAttributeError: 'DynamicImporter' object has no attribute 'find_spec'\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"/usr/local/bin/paperwork\", line 7, in \n    from paperwork.paperwork import main\n  File \"/usr/local/lib/python3.6/site-packages/paperwork/paperwork.py\", line 27, in \n    from gi.repository import Notify  # noqa: E402\n  File \"/usr/local/lib/python3.6/site-packages/gi/importer.py\", line 127, in find_module\n    'introspection typelib not found' % namespace)\nImportError: cannot import name Notify, introspection typelib not found\n$ python3\nPython 3.6.5 (default, Apr 25 2018, 14:23:58) \n[GCC 4.2.1 Compatible Apple LLVM 9.1.0 (clang-902.0.39.1)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n\n\nfrom gi.repository import Notify\nTraceback (most recent call last):\n  File \"\", line 888, in _find_spec\nAttributeError: 'DynamicImporter' object has no attribute 'find_spec'\n\n\n\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"\", line 1, in \n  File \"/usr/local/lib/python3.6/site-packages/gi/importer.py\", line 127, in find_module\n    'introspection typelib not found' % namespace)\nImportError: cannot import name Notify, introspection typelib not found\n\n\n\nfrom gi.repository import notify\nTraceback (most recent call last):\n  File \"\", line 888, in _find_spec\nAttributeError: 'DynamicImporter' object has no attribute 'find_spec'\n\n\n\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"\", line 1, in \n  File \"/usr/local/lib/python3.6/site-packages/gi/importer.py\", line 127, in find_module\n    'introspection typelib not found' % namespace)\nImportError: cannot import name notify, introspection typelib not found\n```\n. ",
    "dadosch": "On windows, one could install a pdf-printer emulation and save it into a directory, where Paperwork automatically imports and analyzes it.. ",
    "jonathanweinberg": "Where can I email you?. ",
    "choman": "I wasn't able ot relocate the directory because there is no menu.  I did\nsee a location field in the paperwork.conf but it appears encoded\nI am on unity until 17.10\n. Update: I encoded base64 the new located and put that in the paperwork.conf, now my stuff \ncan live and be shared in dropbox.  \nStill an issue, but my immediate problem is resolved. correct, it is not there\n. Here is my screenshot for the original issue, sorry it took a while to post\n\nI am not in a virtual environment and I do not use global menus\n. Oops, didn't mean to close.  Sorry. ",
    "uggla": "@jflesch same issue for me on Fedora 26.\nI have done a fresh install using pip into a virtualenv.\nHere is a screenshot of the application, as you can see settings icon is missing.\n\n. Gnome 3.\nSorry, In fact I expected the settings to be in the application's menubar. (confused by doc screenshot)\nThis is available in the Gnome top bar like in the following screenshot.\n\nSo this is working in my case.\nAnyway thanks for your great work !\n. No I didn't.\nHowever I have just run it and it doesn't change the gui.\nBut I'm in a virtualenv so maybe it could have an impact by using an improper path ?\nFollowing lines show the output of paperwork-shell install\n(paperwork) [uggla@ugglalaptop ~]$ paperwork-shell install\nInstalling /home/uggla/.local/share/icons/hicolor/16/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/22/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/24/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/30/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/32/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/36/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/42/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/48/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/50/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/64/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/72/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/96/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/100/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/128/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/150/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/160/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/192/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/256/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/512/apps/paperwork.png ...\nInstalling /home/uggla/.local/share/icons/hicolor/scalable/apps/paperwork.svg ...\nInstalling /home/uggla/.local/share/icons/hicolor/scalable/apps/paperwork_halo.svg ...\nGenerating /home/uggla/.local/share/applications/paperwork.desktop ...\nDone\n. ",
    "klemens": "The arch package works fine for me if I use the 1.2.post3 instead of the 1.2 tag, which contains some package-related fixes. See https://github.com/StreakyCobra/aur-paperwork/pull/2 for the updated package script.. ",
    "chk1": "For Windows I haven't found any universal TWAIN or WIA drivers. \nIrfanView and GIMP support scanning from TWAIN devices (most Canon scanners and webcams I had work with this), but it doesn't list the ScanSnap as an available scanner. \nHere's the TWAIN source selection screen:\n\nThere are a few other 3rd party, propietary options like Vuescan. I'm not sure how that software works exactly, I think they implement the propietary Fujitsu protocol in some way.\nWhen opening this issue I wasn't sure how pyinsane/paperwork did its work on Windows, but ultimately seems to be a driver issue, like you said.. no TWAIN or WIA support (thanks for that information about the driver hack though, I will try that!). \nI was confused because it worked on Linux, not only in Paperwork, but in other standard Gnome scan software as well. The Linux drivers for that device might be less restrictive / more compatible.. Thanks a lot though, the TWAIN hack worked flawlessly :)\nThe USB ID of the fi-5110EOX2, for anyone searching: USB\\VID_04C5&PID_1096. ",
    "torwag": "if there is a price for the fastest developer reaction... here it should go ;) . Do I see this right, that install \"only\" adds paperworks to the linux desktop environment. I do not see any methods for Windows. Calling it install seems to me a bit misleading as people might expect the entire program gets moved from a possible local folder into system folders for a system wide installation. Further more, that might be more an task for the package managers of the individual distros.  Honestly speaking, I feel that this function is a bit out of scope for the paperwork-shell function set. \nI know they are used after installation to check for dependencies and add the desktop stuff. \nWould it not be more appropriate to move/call those functions (chk_pkg and install) directly into the setup.py? Or keep them there, but keep them out of the help function, as most users would not need them after installation? Just thinking...   . ",
    "AdnanMuhib": "Kindly Find Attachment\ndiagnostic output.txt\n. I am trying to save to local drive, not remote drive.. ",
    "LexiconCode": "\nTo clarify : Does the scanned image start appearing or the screen, or not at all ?\n\nThe scanned image does not appear at all.\nI'd be willing to set up a test environment with the hardware that you could remote into for testing.. I apologize for the multiple reports apparently hitting the back button sends another report. Apparently the scanner is very picky about which USB port it's plugged into in terms of functioning. Obviously I had some sort of rate limiting so I'll try again this morning. I'll rerun the diagnostics.\nFor whatever reason the first diagnostic run did not scan the paper as expected. The 2nd attempt is representative of the current status. The diagnostic report . That is correct it was due to the change in USB ports.. Done :). @jflesch Let me know if there's any other information I can provide.. Done. Done!\nTest successful: False (should be true). No problem, I hope the information provides contributes to your design of the library. I'm fairly active so let me know if you need Alpha testing when you write the new library or a remote environment to test. In addition, I can provide a Windows environment or Linux that you can remote into with the scanner attached allowing direct access.. ",
    "artistechnic": "Noob here. I hope this is the proper place to comment on this. Please let me know if it isn't. I seem to be having the same issue with a ScanSnap iX500: I select ADF Duplex, but only the front side is scanning.. OK. Thanks.\nDon't know if it would help, but if I can provide any useful information please let me know. I know duplex on this scanner works successfully using SANE (with the sane-fujitsu backend) in Simple Scan and gScan2PDF on Ubuntu and Solus OS.. I didn't know WIA or ISIS existed until you mentioned them. It looks like you are correct that Fujitsu scanners do not support TWAIN). I'm learning here.\nI know that recent versions of SANE support the iX500, and I can successfully scan duplex in Linux using Simple Scan and gScan2PDF, both of which use SANE. I think there is a commercial multiplatform product called VueScan that also claims to support the ScanSnap series, though I don't know what sort of driver it uses.\nI'm afraid that's all I know. Sorry I can't be more helpful.\nFebruary 27, 2018 5:03 AM, \"Jerome Flesch\" notifications@github.com)> wrote:\n    I had a look. It seems SnapScan S1500 scanners do not support even TWAIN or ISIS (http://www.fujitsu.com/global/products/computing/peripheral/scanners/scansnap/discontinued/s1500/s1500.html). It seems unlikely they support WIA (the interface used by Pyinsane/Paperwork). \nTherefore, the question is: Are you sure those scanners support WIA ? Do they work with any other third-party applications ?\n\n\u2014\n\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub (https://github.com/openpaperwork/paperwork/issues/673#issuecomment-368816190), or mute the thread (https://github.com/notifications/unsubscribe-auth/AgFDIlZYVah4B-1mn2q2IOx27c2LmAK2ks5tY9LggaJpZM4PFZO8).\n. Done on my part. I did not realize until I sent the report that, although my iX500 scanned both sides of the page as the settings dictated, the report only included the final page of the scan. I don\u2019t know if that is important, but I include it here in case it may be.. ",
    "rbellamy": "I'm also willing to help if you need me to run a debug version and pass along logs.. ",
    "mdorman": "@jflesch I would be happy to donate a Fujitsu fi-6130Z that has duplex scanning, if that would help get it enabled.. ",
    "pechfunk": "My Fujitsu ScanSnap 1300i also defaulted to scanning Simplex. (Linux, SANE)\nI found out that there was a problem with the heuristic of choosing the scanner source by matching human-friendly names like \"ADF Front\". In multiscan/init.py, the call to get_scanner() passes a list of preferred sources: [\"ADF\", \"Feeder\"] for SANE to match. However, in the list of sources offered by my S1300i, there are two matches to \"ADF\", with \"ADF Duplex\" coming in second. So the multiscan dialog would always pick the simplex source. I helped myself by putting \"ADF Duplex\" in front of the array, but that means I can't scan simplex any more.\nIs there no better way to select scanner sources than by matching human-facing labels? (Honest question, I don't know SANE). @jflesch: I tried Ironscanner, but it failed with an undefined-variable error (see report 124).\n@LS-art: That was line 170 of paperwork-gtk/src/paperwork/frontend/multiscan/init.py as of 1.2.4. I don't remember which sane-diagnostic program gave me the actual names of my scanner backend's feeding options.. @jflesch Perhaps I hadn't shoved the sheet hard enough; there's little mechanic feedback. I've submitted two more scan attempts from the latest Ironscanner binary, unfortunately both ending in an AssertionError from the other side of the FIFO.. Latest IronScanner binary (as of this evening): same result: assertion error after 10cm. -- funny, Paperwork itself does scan most of the time. \nReport 131 was from ironscanner and pyinsane git master of today. Different error, same result :(. However, both Paperwork and the little pyinsane API example https://gist.github.com/pechfunk/63ac270acf803bfaffa9ae03fe5747e5 get to read full images from the scanner. I didn't quite follow how Ironscanner does things differently.. ",
    "LS-art": "@pechfunk: I have a similar issue with a Brother ADS-2100 on Ubuntu 16.04. Which file did you actually edit to \"put \"ADF Duplex\" in front of the array\"? Was this \"init.py\"? Where can I find that file?. ",
    "lachmanfrantisek": "@jflesch I'm also on Fedora and sadly the problem is there as well..;-(\nI am using flatpak version from flathub. Problem is on these systems:\n- Fedora Rawhide\n- fresh install of Fedora Atomic Workstation 27\nHow can I help you to make it work?\nIn the log, there are many occurrences of this:\nDEBUG  paperwork.frontend.mainwindow.docs [thumbnailing] scrollbar values changed\nDEBUG  paperwork.frontend.util.jobs   [Scheduler Main] Canceling all jobs DocThumbnailer\nDEBUG  paperwork.frontend.mainwindow.docs Thumbnailing: 0 - 11\n. > I assume your mouse wheel works fine in other applications ?\nThe scrolling works as expected in other apps and also in the document list..;-)\n\nRegarding the logs, this is normal if you're scrolling in the document list. I'm just surprised you're running Paperwork with debug logs enabled.\n\nI've only turned it on for this purpose.\nThank you!. @jflesch Today, the problem didn't occur. If you didn't release a new flatpak version since Tuesday, the problem was probably on the flatpak/os side. I'll try also other machine/setup, but it seems to be nothing with your code.\nThank you for your time!!!. >  (as long as they don't come back later .. hem ..)\nSadly, on 1.2.3, the problem is back..;-). @jflesch  Thank you in advance!\nJust write if there is anything I can do to help you.... Thank you.\nYes, they solved the issue some time ago.\nRecipes uses an older one:\n\"runtime\": \"org.gnome.Platform\",\n\"runtime-version\": \"3.24\",\n\"sdk\": \"org.gnome.Sdk\",\nGeary has a same version:\n\"runtime\": \"org.gnome.Platform\",\n\"runtime-version\": \"3.26\",\n\"sdk\": \"org.gnome.Sdk\",\nBoth work well.. What about this:\n--env=DCONF_USER_CONFIG_DIR=.config/dconf\nin \"finish-args\"?. Thank you!. Thank you for your time, I will try to make some time to get into that.. Thank you, this is the solution I am using before the fix on the flatpak side... But it's not applicable to desktop files.\nThis work as well:\nflatpak run --filesystem=xdg-run/dconf --filesystem=~/.config/dconf:ro --talk-name=ca.desrt.dconf --env=DCONF_USER_CONFIG_DIR=.config/dconf work.openpaper.Paperwork\n(Or use override instead of run to make it permanent.)\nThis should be equal to adding following parts to \"finish-args\":\n--filesystem=xdg-run/dconf\n--filesystem=~/.config/dconf:ro\n--talk-name=ca.desrt.dconf\n--env=DCONF_USER_CONFIG_DIR=.config/dconf\nIt's from the docs you have mentioned.\nIs there some problem with that sollution? Should I make a pull request?. Sorry, you have already added it and it should work. Only, it is not changed in the flathub repo. . OK, so we can close this issue?\nThank you!. Sorry, I didn't get it.\nJust for completeness: the develop and master versions work.. ",
    "Nebucatnetzer": "I agree that this would be useful.\nFrom the web I get a lot of documents in English and the language of official documents is in German. Therefore it would be great to be able to switch on a case by case basis.\nOtherwise I agree it's a great project. Especially since version 1.2.1 my scanner works now without a problem.. ",
    "crc16": "Resolved by : apt-get install gnome-icon-theme-full\nthank you for your help.. ",
    "rob3r7": "\nthe following code works quite well with standard python \n\n```\nconda install pywin32\nimport os\nfrom win32com.client import Dispatch\nList all available devices\nwia_dev_manager = Dispatch(\"WIA.DeviceManager\")\nfor ix, device in enumerate(wia_dev_manager.DeviceInfos):\n    print(ix,\"|\",device.Properties(\"Name\").Value,\"|\",device.DeviceID)\n\n0 | Lexmark Pro200-S500 Series | {6BDD1FC6-810F-11D0-BEC7-08002BE2092F}\\0000\n\nSelect a device per gui if there are more than one device\nwia = Dispatch(\"WIA.CommonDialog\")\ndev = wia.ShowSelectDevice()\ndev.Properties(\"Name\").Value\n'Lexmark Pro200-S500 Series'\nList Items of device\nfor ix, item in enumerate(dev.Items):\n    print(ix,item.ItemID)\n0 0000\\Root\\Flatbed\n1 0000\\Root\\Feeder\nSelect per number\nscanner = dev.Items[1]\nscanner.ItemID\n'0000\\Root\\Flatbed'\nShow all properties\nfor ix,p in enumerate (scanner.Properties):\n    print(f\"{ix:3} {p.PropertyID:5} {p.Name:30} {p.Value}\")\n0  4098 Item Name                      Feeder\n1  4099 Full Item Name                 0000\\Root\\Feeder\n2  4101 Item Flags                     67\n3  4120 Color Profile Name             sRGB Color Space Profile.icm\n4  3076 Horizontal Sheet Feed Size     8500\n5  3077 Vertical Sheet Feed Size       14000\n6  3078 Sheet Feeder Registration      0\n7  3096 Pages                          1\n8  3088 Document Handling Select       2\n9  3090 Horizontal Optical Resolution  600\n10  3091 Vertical Optical Resolution    600\n11  3103 Show preview control           0\n12  3100 Preview                        0\n13  4102 Access Rights                  2\n14  4116 Item Size                      0\n15  4106 Format                         {B96B3CAA-0728-11D3-9D7B-0000F81EF32E}\n16  4105 Preferred Format               {B96B3CAA-0728-11D3-9D7B-0000F81EF32E}\n17  4108 Media Type                     128\n18  4118 Buffer Size                    65536\n19  4103 Data Type                      2\n20  4104 Bits Per Pixel                 8\n21  4110 Bits Per Channel               8\n22  4109 Channels Per Pixel             1\n23  4107 Compression                    0\n24  6147 Horizontal Resolution          75\n25  6148 Vertical Resolution            75\n26  6151 Horizontal Extent              637\n27  6152 Vertical Extent                1050\n28  6149 Horizontal Start Position      0\n29  6150 Vertical Start Position        0\n30  4112 Pixels Per Line                637\n31  4113 Bytes Per Line                 640\n32  4114 Number of Lines                1050\n33  6154 Brightness                     0\n34  6155 Contrast                       0\n35  6146 Current Intent                 0\n36  6159 Threshold                      128\n37  6153 Photometric Interpretation     0\n38  4111 Planar                         0\n39  6161 Lamp Warm up Time              1000\n40  4123 Filename extension             BMP\nSet resolution\nscanner.Properties(\"Vertical Resolution\").Value   = 300\nscanner.Properties(\"Horizontal Resolution\").Value = 300\nWIA_IMG_FORMAT_PNG       = \"{B96B3CAF-0728-11D3-9D7B-0000F81EF32E}\"\nimage=scanner.Transfer(WIA_IMG_FORMAT_PNG)\nimage.SaveFile(\"c:/temp/scan.png\")\n```\n\nDocumentation: https://msdn.microsoft.com/en-us/library/windows/desktop/ms630490(v=vs.85).aspx\n\nDoes this help?\n. INFO   2018-03-06 20:35:10,691 ironscanner.main Looking for scanners ...\nINFO   2018-03-06 20:35:10,693 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L132): WIA->get_devices()\nINFO   2018-03-06 20:35:10,699 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L209): Opening device({6BDD1FC6-810F-11D0-BEC7-08002BE2092F}\\0000)\nINFO   2018-03-06 20:35:10,788 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L230): Device({6BDD1FC6-810F-11D0-BEC7-08002BE2092F}\\0000) opened\nINFO   2018-03-06 20:35:10,789 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L264): Getting sources\nINFO   2018-03-06 20:35:10,791 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L326): Got source [0000\\Root\\Flatbed] (assuming flatbed)\nINFO   2018-03-06 20:35:10,792 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L323): Got source [0000\\Root\\Feeder] (feeder)\nWARNING 2018-03-06 20:35:10,792 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L286): get_sources(): enum_item->next() failed\nWARNING 2018-03-06 20:35:10,792 pyinsane2.wia.rawapi NULL NULL NULL !!\nINFO   2018-03-06 20:35:10,792 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L339): 2 sources found\nINFO   2018-03-06 20:35:10,793 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L395): Getting Properties\nWARNING 2018-03-06 20:35:10,797 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L416): WiaPropertyStorage->ReadMultiple() failed\nWARNING 2018-03-06 20:35:10,797 pyinsane2.wia.rawapi pyinsane2/wia/rawapi.cpp(L417): HResult error code 0x80004001: Nicht implementiert\nERROR  2018-03-06 20:35:10,798 pyinsane2.wia.rawapi Unexpected exception\nTraceback (most recent call last):\n  File \"site-packages\\pyinsane2-2.0.12-py3.4-win-amd64.egg\\pyinsane2\\wia\\rawapi.py\", line 58, in do\n  File \"site-packages\\pyinsane2-2.0.12-py3.4-win-amd64.egg\\pyinsane2\\wia\\rawapi.py\", line 130, in _get_properties\npyinsane2.wia.rawapi.WIAException: WIA: Failed to get scanner properties\nWARNING 2018-03-06 20:35:10,799 pyinsane2.wia.abstract Failed to access scanner ('{6BDD1FC6-810F-11D0-BEC7-08002BE2092F}\\\\0000', 'Lexmark Pro200-S500 Series') : WIA: Failed to get scanner properties\nERROR  2018-03-06 20:35:10,801 pyinsane2.wia.abstract WIA: Failed to get scanner properties\nTraceback (most recent call last):\n  File \"site-packages\\pyinsane2-2.0.12-py3.4-win-amd64.egg\\pyinsane2\\wia\\abstract.py\", line 626, in get_devices\n  File \"site-packages\\pyinsane2-2.0.12-py3.4-win-amd64.egg\\pyinsane2\\wia\\abstract.py\", line 458, in __init__\n  File \"site-packages\\pyinsane2-2.0.12-py3.4-win-amd64.egg\\pyinsane2\\wia\\abstract.py\", line 515, in reload_options\n  File \"site-packages\\pyinsane2-2.0.12-py3.4-win-amd64.egg\\pyinsane2\\wia\\rawapi.py\", line 135, in get_properties\n  File \"site-packages\\pyinsane2-2.0.12-py3.4-win-amd64.egg\\pyinsane2\\wia\\rawapi.py\", line 50, in wait\n  File \"site-packages\\pyinsane2-2.0.12-py3.4-win-amd64.egg\\pyinsane2\\wia\\rawapi.py\", line 58, in do\n  File \"site-packages\\pyinsane2-2.0.12-py3.4-win-amd64.egg\\pyinsane2\\wia\\rawapi.py\", line 130, in _get_properties\npyinsane2.wia.rawapi.WIAException: WIA: Failed to get scanner properties\nINFO   2018-03-06 20:35:10,803 ironscanner.main 0 scanners found\nDoes it really require lowlevel pyinsane2/wia/rawapi.cpp? What are the reasons not using win32com.client and Dispatch?. Thank you for the detailed explanation. I was almost expecting something like this. I am happy to help with further tests. . ",
    "kmkmahesh": "thanks i will search them i will update you back\nUpdate: \nAs i searched scanimage is not helps me for creating pdf\nis there any provision from paperwork-shell that can directly accept all the above said arguments and create an pdf file directly from scanner? If yes, please provide info of it\nThanks,\nK Mahesh Kumar. @tYYGH Even paperwork wont support all arguments through command line \n@jflesch there is no info about pdf creating using Tesseract it is only for OCR \nIf any one has any info regarding my issue please provide\nThanks,\nK Mahesh Kumar. ",
    "Moini": "Is this released yet? \nEdit: Sorry, seems to be in version 1.2.2, which I have. I'll make a new issue.. How can I reset the full flatpak installation? Just delete the folder in my home directory?\nEdit: No. That's not enough, it still has the settings and everything saved somewhere else, the folder is just restored... Also need to remove (rename) ~/papers, not only the one in ~/.var/.... Scan > Import file(s) > select folder > import all pdfs in folder as separate documents > get desktop notification \"Imported: 194 pdfs\" etc. > wait until animation / computer's fan activity finishes.\nNow, I wish I could get diagnostics, after spending so much time waiting for the import to run, but that dialog doesn't react to clicks. I can neither copy nor save nor scroll nor close the dialog without getting a message that the program doesn't react and would I like to close the application... clicked on Save as... first :-(\nI had that dialog opened previously and had been able to scroll. But then I hadn't clicked on Save. Not sure if that could be causing it :-/. Would it also print that info to the terminal?. Merci!\npaperworks.txt\nI've obfuscated the file names, sorry. If you need to know the relation between specific files, please let me know the lines. I've kept the original output.. One issue with flatpak is that, by default, it only seems to be allowed to access one's home directory.   My files are on another drive, and I had to use \nflatpak override --user --filesystem=/media/disk1/username/document_directory/ work.openpaper.Paperwork\nMaybe access to more directories is required?. Thank you! I've now installed it the way it's indicated here:\nhttps://github.com/openpaperwork/paperwork/blob/master/flatpak/README.markdown\nUnfortunately, now it gets stuck on a different error. Will open a new report.. Yes. None of my pdfs contain any text, because they've only been converted from jpg to pdf by convert.\nI've tried 'Redo OCR' for all documents via settings, and even then, it didn't work. I'm still going from document to document currently, checking for blue boxes (activated via view menu item), and redoing OCR for each document separately. That mostly works (except for bad scans, which is to be expected).. Yeah, maybe. Paperwork also sometimes, after a couple of clicks, or back and forth between documents, starts using one full CPU and lots of memory, even if I'm doing nothing. I'll try to get some diagnostics for you.. I get a different thing in top:\nClick on document, select redo ocr, confirm. tesseract starts to run.\nClick on second document. tesseract still runs for a couple of seconds. Then stops.\nRe-select first document, tesseract starts running again. Animation with pages changing size and paper plane again. Only then tesseract finishes.. I had to restart it, because it wouldn't show any documents (edit: except for the documentation pdf), probably due to that 'too many open files' issue.. Thanks again :) (and happy holidays!)\nThe good news is that it does indeed seem to do the scanning now. The bad news is that it eats up almost all of my RAM until other applications misbehave and I've got to kill it before it's done.\nWould it be possible to free up resources after a file has been processed?\nAttaching log.\npaperwork_log.txt\n. 16GB ( > 11 were occupied by paperworks, and I had a virtualbox instance running, which was undisturbed, fortunately :) - but mail encryption broke... and worked again after paperworks was killed.).. Thanks! Let me know if there's anything that I can do to help find the cause.. Some additional info: \nit already output that it was opening the same pdf multiple times (IIRC, about 15 times in a row, for each document - it's impossible to see in the edited log, sorry about that).\nIf it could keep the pdf names (and would allow to name pdfs), would that help with this? (I'd love that... because it would allow the collection to work even when paperworks doesn't work - but it might be a policy thing...). Arghs, yes, sounds like an annoying issue... :-/\nThank you very much for putting thought into this and making a report! Keeping file names would indeed help a lot to make the program more useful to me.\nI understand about the design. Yet I'm asking myself if perhaps the requesting users have a point, esp. if they are numerous, as you say...? As long as it's optional, it would help those who ask for it, and could be ignored by those who don't. When I look at the file thumbnails at the left, I feel a bit blind or lost, not knowing what is what (the thumbnails don't help much with certificates or invoices, they all look the same). Esp. if you don't know the specific search term (like mmh, was that certificate about ultrasound or sonography?), or have tagged things badly, or OCR didn't go well.\nBut I know that it appears to be fashionable now to make GNOME apps as feature-free and uncustomizable as possible, so people who have grown up with their mobile phones can still just tap and use the app, even on a tablet with no keyboard. And that's a valid reason.\nThere are many programs that fight the 'design' vs. 'user request' fight.  And their devs often have good reasons. Sometimes I even agree :-) \nHere, though, it is my belief that having good defaults that work for the simplest use(r) doesn't mean that one cannot offer options. But it's perfectly okay if we don't agree here - it's still a great program that you're offering, and I know that if it were a huge need for me, there are other options out there, that I could evaluate instead (but I find the auto-tagging very attractive and I doubt other (FLOSS) software can do that! Didn't see it in action yet, though, I'm hoping I can try it out! I also very much like that it's small, not a client-server architecture monster.). Sorry, probably TL;DR... and way off-topic. \nBonne Ann\u00e9e et merci beaucoup!. ",
    "gkzsolt": "Thanks ;). And maybe have the option to turn this Off/On... ;). I have \"only\" ~30 documents, but each time a scan a new document, it \"guesses\" and sticks 17 labels to them (there are 22 labels in total). The labels don't have anything in common with the document: now I scanned an invoice, with only a few words, totally unrelated. So it seems this Simple Bayes algorithm is far from perfect.\nAfter lorenzhs's comment, I am not expecting this to improve dramatically after some new scans. So I'd opt for a boolean/checkbox option, like --dont-guess-labels. I didn't know there is a shell version of paperwork, and I don't see this --no_label_guessing option (just a guess_labels command). But anyway, I am using the GUI version. Would it be difficult to put a \"Do not guess labels\" settings flag?\nOtherwise the app can become quite unusable after some time.\n. I did this test, and then scanned a 4 pages document. It assigned only 1 label to it. I don't know if this is optimal or not, but definitely better than previous behaviour (the invoice did not gave labels, which is correct.). ",
    "lorenzhs": "Do you mean 20 documents per label? Because there are a few labels (with rather few documents associated with them) that are assigned to all new documents, and I have close to 200 documents now :(\nEdit: I guess the  --no_label_guessing option when importing using paperwork-shell counts as a work-around ;). Thanks, deleting the index and restarting paperwork did the trick for me. The automatically added labels are quite useful now, thank you!. ",
    "mondze": "Thanks for the fast Reply: here the Diagnostics:\nINFO   paperwork.paperwork            Using locales in '/usr/local/lib/python3.6/dist-packages/paperwork/frontend/locale'\nINFO   paperwork.paperwork            Initializing pyinsane ...\nINFO   pyinsane2.sane.abstract_proc   Starting Pyinsane subprocess\nINFO   pyinsane2.sane.abstract_proc   Pyinsane pipes: /tmp/pyinsane_a_dip4xz/pipe_c2s | /tmp/pyinsane_a_dip4xz/pipe_s2c\nINFO   pyinsane2.sane.abstract_proc   Connected to Pyinsane subprocess\nINFO   paperwork.paperwork            Initializing libnotify ...\nINFO   paperwork_backend.config       Config file found: /home/mondze/.config/paperwork.conf\nINFO   paperwork_backend.config       Reloading /home/mondze/.config/paperwork.conf ...\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Search] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Search] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Index search / update] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Index search / update] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Export] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Export] Started\nINFO   paperwork.frontend.beacon      Updates were last checked: 1970-01-01 00:00:00\nINFO   paperwork.frontend.beacon      Checking for updates ...\nINFO   paperwork.frontend.beacon      Querying GitHub ...\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (828, 966)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.actions Action: [Refresh index]\nINFO   paperwork.frontend.mainwindow  Index loaded\nINFO   paperwork.frontend.beacon      Statistics were last posted: 1970-01-01 00:00:00\nINFO   paperwork.frontend.beacon      Sending anonymous statistics ...\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Invalid date: Neues Dokument\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  0 labels found\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.beacon      Statistics: {'uuid': 141812759495946, 'paperwork_version': '1.2.2', 'nb_documents': 1, 'os_name': 'posix', 'platform_architecture': \"('64bit', 'ELF')\", 'platform_processor': 'x86_64', 'platform_distribution': \"('Ubuntu', '17.10', 'artful')\", 'cpu_count': 8}\nINFO   paperwork.frontend.beacon      Posting statistics on openpaper.work ...\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow  Got 1 documents\nINFO   paperwork.frontend.mainwindow  Got 0 suggestions\nINFO   paperwork.frontend.mainwindow.docs Will display documents 0:50 (actual number: 1)\nINFO   paperwork.frontend.mainwindow.docs Will get thumbnails for 1 documents [0-2]\nINFO   paperwork.frontend.mainwindow.docs Start thumbnailing 1 documents (DocThumbnailer:0)\nINFO   paperwork.frontend.mainwindow.docs [DocThumbnailer:0]: Got thumbnail for 20171129_1727_00 (0.005017s)\nINFO   paperwork.frontend.mainwindow.docs End of thumbnailing [DocThumbnailer:0]\nINFO   paperwork.frontend.beacon      Latest Paperwork release: 1.2.2\nINFO   paperwork_backend.config       Updating /home/mondze/.config/paperwork.conf ...\nINFO   paperwork_backend.config       Done\nINFO   paperwork.frontend.beacon      Getting reply from openpaper.work (200)\nINFO   paperwork.frontend.beacon      Openpaper.work replied: 200 | OK\nINFO   paperwork_backend.config       Updating /home/mondze/.config/paperwork.conf ...\nINFO   paperwork_backend.config       Done\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow.docs Showing doc 20171129_1727_00\nINFO   paperwork.frontend.mainwindow.docs Document position: 0 | Number of boxes currently displayed: 1\nINFO   paperwork.frontend.mainwindow  Showing document 20171129_1727_00\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.3016845329249617\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Valid date: 29.11.2017\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   paperwork.frontend.settingswindow Distribution: [ubuntu]\nINFO   paperwork.frontend.settingswindow Language name translations loaded\nINFO   paperwork.frontend.settingswindow Translation: German | Deutsch\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\nINFO   paperwork.frontend.settingswindow Device found: [FUJITSU ScanSnap S500M] -> [fujitsu:ScanSnap S500M:2310]\nINFO   paperwork.frontend.settingswindow End of scan for device\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 8326ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.settingswindow Got value [['FUJITSU ScanSnap S500M', 'fujitsu:ScanSnap S500M:2310']]\nINFO   paperwork.frontend.settingswindow Selected scanner: 0\nINFO   paperwork.frontend.settingswindow Looking for sources of device [fujitsu:ScanSnap S500M:2310]\nINFO   paperwork.frontend.settingswindow Sources found: ['ADF Front', 'ADF Back', 'ADF Duplex']\nWARNING paperwork.frontend.settingswindow No translation for source [ADF Front]\nINFO   paperwork.frontend.settingswindow Got value [['ADF Front', 'ADF Front']]\nWARNING paperwork.frontend.settingswindow No translation for source [ADF Back]\nINFO   paperwork.frontend.settingswindow Got value [['ADF Back', 'ADF Back']]\nWARNING paperwork.frontend.settingswindow No translation for source [ADF Duplex]\nINFO   paperwork.frontend.settingswindow Got all the sources\nINFO   paperwork.frontend.settingswindow Got value [['ADF Duplex', 'ADF Duplex']]\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [fujitsu:ScanSnap S500M:2310]\nINFO   paperwork.frontend.settingswindow Selected source: 2\nINFO   paperwork.frontend.settingswindow Scanner sources: ['adf front', 'adf back', 'adf duplex']\nINFO   paperwork.frontend.settingswindow Resolutions found: (50, 600, 1)\nINFO   paperwork.frontend.settingswindow Got all the resolutions\nINFO   paperwork.frontend.settingswindow Got value [['50', 50]]\nINFO   paperwork.frontend.settingswindow Got value [['100', 100]]\nINFO   paperwork.frontend.settingswindow Got value [['150', 150]]\nINFO   paperwork.frontend.settingswindow Got value [['200', 200]]\nINFO   paperwork.frontend.settingswindow Got value [['250', 250]]\nINFO   paperwork.frontend.settingswindow Got value [['300 (empfohlen)', 300]]\nINFO   paperwork.frontend.settingswindow Got value [['350', 350]]\nINFO   paperwork.frontend.settingswindow Got value [['400', 400]]\nINFO   paperwork.frontend.settingswindow Got value [['450', 450]]\nINFO   paperwork.frontend.settingswindow Got value [['500', 500]]\nINFO   paperwork.frontend.settingswindow Got value [['550', 550]]\nINFO   paperwork.frontend.settingswindow Got value [['600', 600]]\nINFO   paperwork.frontend.settingswindow Selected source: 0\nINFO   paperwork.frontend.settingswindow Will do the calibration scan with a resolution of 200\nINFO   paperwork.frontend.settingswindow Scanner source set to 'ADF Front'\nINFO   pyinsane2                      [resolution] set to [200]\nINFO   pyinsane2                      [mode] set to [Color]\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Job ProgressUpdater:0 marked for stopping\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork_backend.config       Updating /home/mondze/.config/paperwork.conf ...\nINFO   paperwork_backend.config       Done\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopped\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nINFO   paperwork.frontend.util.config Will scan using fujitsu:ScanSnap S500M:2310\nINFO   pyinsane2                      [source] set to [ADF Front]\nINFO   paperwork.frontend.util.config Will scan at a resolution of 300\nINFO   pyinsane2                      [resolution] set to [300]\nINFO   pyinsane2                      [mode] set to [Color]\nWARNING paperwork.frontend.mainwindow  Error while scanning: \nERROR  paperwork.frontend.diag        === UNCATCHED EXCEPTION ===\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/util/actions.py\", line 67, in on_button_clicked_cb\n    return self.do()\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/util/actions.py\", line 64, in __do\n    return self.do(kwargs)\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/mainwindow/init.py\", line 1444, in do\n    scan_session = dev.scan(multiple=False)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 268, in scan\n    return ScanSession(self, multiple)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 208, in init\n    self._remote_session = remote_do('scan', scanner.name, multiple)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\nStopIteration\nERROR  paperwork.frontend.diag        ===========================\nINFO   paperwork.frontend.util.actions Action: [Scan a single page]\nINFO   paperwork.frontend.util.config Will scan using fujitsu:ScanSnap S500M:2310\nINFO   pyinsane2                      [source] set to [ADF Front]\nINFO   paperwork.frontend.util.config Will scan at a resolution of 300\nINFO   pyinsane2                      [resolution] set to [300]\nINFO   pyinsane2                      [mode] set to [Color]\nINFO   paperwork.frontend.mainwindow.scan Scan started\nINFO   paperwork.frontend.mainwindow.docs Document position: 0 | Number of boxes currently displayed: 1\nINFO   paperwork.frontend.mainwindow  Showing document 20171129_1727_00\nINFO   paperwork.frontend.mainwindow  Scan/OCR drawer 1 : (20, 3604) - (828, 966)\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.3016845329249617\nERROR  paperwork.frontend.diag        === UNCATCHED EXCEPTION ===\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/mainwindow/scan.py\", line 522, in on_scan_info_cb\n    int(ratio * (calibration[1][1] - calibration[0][1])),\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/util/canvas/drawers.py\", line 558, in __init\n    assert(position[0] + size[0] >= target_position[0] + target_size[0])\nAssertionError\nERROR  paperwork.frontend.diag        ===========================\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.mainwindow.scan Scan done\nWARNING paperwork.frontend.util.jobs   Job Scan:0 took 5915ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.mainwindow.scan Will use tool 'Tesseract (C-API)'\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 0: (61, 1115) (746, 966) -> (67.5, 1169.5) (279, 374)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 90: (61, 1115) (746, 966) -> (481.5, 1169.5) (279, 374)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 180: (61, 1115) (746, 966) -> (67.5, 1652.5) (279, 374)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 270: (61, 1115) (746, 966) -> (481.5, 1652.5) (279, 374)\nINFO   paperwork.frontend.mainwindow.scan Failed to use OCR tool heuristic for orientation detection: ('detect_orientation failed', 'TessBaseAPIDetectOS() failed')\nINFO   paperwork.frontend.mainwindow.scan Falling back on Paperwork's heuristic\nINFO   paperwork.frontend.mainwindow.scan Starting OCR on angle 270\nINFO   paperwork.frontend.mainwindow.scan Running OCR on page orientation 0\nINFO   paperwork.frontend.mainwindow.scan Starting OCR on angle 180\nINFO   paperwork.frontend.mainwindow.scan Running OCR on page orientation 1\nINFO   paperwork.frontend.mainwindow.scan Starting OCR on angle 90\nINFO   paperwork.frontend.mainwindow.scan Running OCR on page orientation 2\nINFO   paperwork.frontend.mainwindow.scan Starting OCR on angle 0\nINFO   paperwork.frontend.mainwindow.scan Running OCR on page orientation 3\nINFO   paperwork.frontend.mainwindow.scan Evaluating score of page orientation (0) using method 'spell_checker' ...\nINFO   paperwork.frontend.mainwindow.scan Evaluating score of page orientation (3) using method 'spell_checker' ...\nINFO   paperwork.frontend.mainwindow.scan OCR done on angle 270: 0.000000\nINFO   paperwork.frontend.mainwindow.scan Evaluating score of page orientation (1) using method 'spell_checker' ...\nINFO   paperwork.frontend.mainwindow.scan Evaluating score of page orientation (2) using method 'spell_checker' ...\nINFO   paperwork.frontend.mainwindow.scan OCR done on angle 180: 0.000000\nINFO   paperwork.frontend.mainwindow.scan OCR done on angle 0: 0.000000\nINFO   paperwork.frontend.mainwindow.scan OCR done on angle 90: 0.000000\nINFO   paperwork.frontend.mainwindow.scan Best: 0.000000\nWARNING paperwork.frontend.util.jobs   Job OCR:0 took 1653ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork_backend.img.doc      Adding page 1 to 20171129_1727_00 (file:///home/mondze/papers/20171129_1727_00)\nINFO   paperwork.frontend.mainwindow.docs Will redo thumbnails: [20171129_1727_00]\nINFO   paperwork.frontend.mainwindow.docs Start thumbnailing 1 documents (DocThumbnailer:1)\nINFO   paperwork.frontend.mainwindow  Showing page 20171129_1727_00 p2\nINFO   paperwork.frontend.mainwindow.docs Document position: 0 | Number of boxes currently displayed: 1\nINFO   paperwork.frontend.mainwindow  Showing document 20171129_1727_00\nINFO   paperwork.frontend.mainwindow.docs [DocThumbnailer:1]: Got thumbnail for 20171129_1727_00 (0.010615s)\nINFO   paperwork.frontend.mainwindow.docs End of thumbnailing [DocThumbnailer:1]\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.22310305775764439\nINFO   paperwork_backend.docsearch    Updating modified doc: 20171129_1727_00\nINFO   paperwork.frontend.mainwindow.docs Will get thumbnails for 1 documents [0-2]\nINFO   paperwork.frontend.mainwindow.docs Start thumbnailing 1 documents (DocThumbnailer:2)\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Job DocThumbnailer:2 marked for stopping\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.mainwindow.docs Thumbnailing [DocThumbnailer:2] interrupted (1)\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork_backend.docsearch    Index: Commiting changes\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.jobs   [Scheduler Search] Job Search:1 marked for stopping\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow  Got 1 documents\nINFO   paperwork.frontend.mainwindow  Got 0 suggestions\nINFO   paperwork.frontend.mainwindow.docs Will display documents 0:50 (actual number: 1)\nINFO   paperwork.frontend.mainwindow.docs Document position: 0 | Number of boxes currently displayed: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.mainwindow  Changing zoom level (scroll): 0.203103\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.2031030577576444\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.2031030577576444\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.mainwindow  Changing zoom level (scroll): 0.183103\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.1831030577576444\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.1831030577576444\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Job PageImgLoader:3 marked for stopping\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.mainwindow  Changing zoom level (scroll): 0.163103\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.16310305775764442\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.16310305775764442\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Job PageImgLoader:5 marked for stopping\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.mainwindow  Changing zoom level (scroll): 0.143103\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.14310305775764443\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.14310305775764443\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Job PageImgLoader:7 marked for stopping\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.mainwindow  Changing zoom level (scroll): 0.123103\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.12310305775764442\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.12310305775764442\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Job PageImgLoader:9 marked for stopping\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (scroll): 0.143103\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.14310305775764443\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.14310305775764443\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (scroll): 0.123103\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.12310305775764442\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): False/0.12310305775764442\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.dialog Asking user confirmation\nINFO   paperwork.frontend.util.dialog User validated\nINFO   paperwork.frontend.util.actions Action: [Delete page]\nINFO   paperwork.frontend.mainwindow  Deleting ...\nINFO   paperwork_backend.img.page     Destroying page: 20171129_1727_00 p2\nINFO   paperwork_backend.fs           Deleting file:///home/mondze/papers/20171129_1727_00/paper.2.words ...\nINFO   paperwork_backend.fs           Deleting file:///home/mondze/papers/20171129_1727_00/paper.2.jpg ...\nINFO   paperwork.frontend.mainwindow  Deleted\nINFO   paperwork.frontend.mainwindow.docs Will redo thumbnails: [20171129_1727_00]\nINFO   paperwork.frontend.mainwindow.docs Start thumbnailing 1 documents (DocThumbnailer:3)\nINFO   paperwork.frontend.mainwindow.docs Document position: 0 | Number of boxes currently displayed: 1\nINFO   paperwork.frontend.mainwindow  Showing document 20171129_1727_00\nINFO   paperwork.frontend.mainwindow.docs [DocThumbnailer:3]: Got thumbnail for 20171129_1727_00 (0.012752s)\nINFO   paperwork.frontend.mainwindow.docs End of thumbnailing [DocThumbnailer:3]\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.3016845329249617\nINFO   paperwork.frontend.mainwindow.docs Will get thumbnails for 1 documents [0-2]\nINFO   paperwork.frontend.mainwindow.docs Start thumbnailing 1 documents (DocThumbnailer:4)\nINFO   paperwork_backend.docsearch    Updating modified doc: 20171129_1727_00\nINFO   paperwork.frontend.mainwindow.docs [DocThumbnailer:4]: Got thumbnail for 20171129_1727_00 (0.001334s)\nINFO   paperwork.frontend.mainwindow.docs End of thumbnailing [DocThumbnailer:4]\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork_backend.docsearch    Index: Commiting changes\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.jobs   [Scheduler Search] Job Search:3 marked for stopping\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow  Got 1 documents\nINFO   paperwork.frontend.mainwindow  Got 0 suggestions\nINFO   paperwork.frontend.mainwindow.docs Will display documents 0:50 (actual number: 1)\nINFO   paperwork.frontend.mainwindow.docs Document position: 0 | Number of boxes currently displayed: 1\nINFO   paperwork.frontend.util.dialog Asking user confirmation\nINFO   paperwork.frontend.util.dialog User validated\nINFO   paperwork.frontend.util.actions Action: [Delete page]\nINFO   paperwork.frontend.mainwindow  Deleting ...\nINFO   paperwork_backend.img.page     Destroying page: 20171129_1727_00 p1\nINFO   paperwork_backend.common.doc   Destroying doc: file:///home/mondze/papers/20171129_1727_00\nINFO   paperwork_backend.fs           Deleting file:///home/mondze/papers/20171129_1727_00 ...\nINFO   paperwork_backend.common.doc   Done\nINFO   paperwork.frontend.mainwindow  Deleted\nINFO   paperwork.frontend.mainwindow.docs Document position: 0 | Number of boxes currently displayed: 1\nINFO   paperwork.frontend.mainwindow  Showing document 20171129_1727_00\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Invalid date: Neues Dokument\nINFO   paperwork_backend.docsearch    Removing doc from the index: 20171129_1727_00\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork_backend.docsearch    Index: Commiting changes\nINFO   paperwork.frontend.util.jobs   [Scheduler Search] Job Search:5 marked for stopping\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow  Got 0 documents\nINFO   paperwork.frontend.mainwindow  Got 0 suggestions\nINFO   paperwork.frontend.mainwindow.docs Will display documents 0:50 (actual number: 0)\nINFO   paperwork.frontend.util.actions Action: [Scan multiples pages]\nINFO   paperwork.frontend.util.actions Action: [Add doc to the multi-scan list]\nINFO   paperwork.frontend.util.actions Action: [Doc selected in multi-scan list]\nINFO   paperwork.frontend.util.actions Action: [Start doc edit in multi-scan list]\nINFO   paperwork.frontend.util.actions Action: [Doc selected in multi-scan list]\nINFO   paperwork.frontend.util.actions Action: [Doc selected in multi-scan list]\nINFO   paperwork.frontend.util.actions Action: [End doc edit in multi-scan list]\nINFO   paperwork.frontend.util.actions Action: [Start doc edit in multi-scan list]\nINFO   paperwork.frontend.util.actions Action: [Doc selected in multi-scan list]\nINFO   paperwork.frontend.util.actions Action: [Doc selected in multi-scan list]\nINFO   paperwork.frontend.util.actions Action: [End doc edit in multi-scan list]\nINFO   paperwork.frontend.util.actions Action: [Start multi-scan]\nINFO   paperwork.frontend.util.config Will scan using fujitsu:ScanSnap S500M:2310\nINFO   pyinsane2                      Value for [source] changed from [ADF] to [ADF Front]\nINFO   pyinsane2                      [source] set to [ADF Front]\nINFO   paperwork.frontend.util.config Will scan at a resolution of 300\nINFO   pyinsane2                      [resolution] set to [300]\nINFO   pyinsane2                      [mode] set to [Color]\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.mainwindow.scan Scan started\nWARNING paperwork.frontend.mainwindow.docs Cannot select document 20171129_1727_00. Not found !\nINFO   paperwork.frontend.mainwindow  Doc is already shown\nINFO   paperwork.frontend.mainwindow  Showing document 20171129_1727_00\nINFO   paperwork.frontend.mainwindow  Scan/OCR drawer 0 : (20, 0) - (828, 966)\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.9516908212560387\nWARNING paperwork.frontend.mainwindow.docs Cannot select document 20171129_1727_00. Not found !\nINFO   paperwork.frontend.mainwindow  Showing document 20171129_1727_00\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Scan/OCR drawer 0 : (20, 0) - (828, 966)\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.9516908212560387\nERROR  paperwork.frontend.diag        === UNCATCHED EXCEPTION ===\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/mainwindow/scan.py\", line 522, in on_scan_info_cb\n    int(ratio * (calibration[1][1] - calibration[0][1])),\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/util/canvas/drawers.py\", line 558, in __init\n    assert(position[0] + size[0] >= target_position[0] + target_size[0])\nAssertionError\nERROR  paperwork.frontend.diag        ===========================\nINFO   paperwork.frontend.mainwindow.scan Scan done\nWARNING paperwork.frontend.util.jobs   Job Scan:0 took 5421ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork.frontend.mainwindow.scan Will use tool 'Tesseract (C-API)'\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 0: (61, 0) (746, 966) -> (67.5, 54.5) (279, 374)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 90: (61, 0) (746, 966) -> (481.5, 54.5) (279, 374)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 180: (61, 0) (746, 966) -> (67.5, 537.5) (279, 374)\nINFO   paperwork.frontend.mainwindow.scan Animator: Angle 270: (61, 0) (746, 966) -> (481.5, 537.5) (279, 374)\nINFO   paperwork.frontend.mainwindow.scan Failed to use OCR tool heuristic for orientation detection: ('detect_orientation failed', 'TessBaseAPIDetectOS() failed')\nINFO   paperwork.frontend.mainwindow.scan Falling back on Paperwork's heuristic\nINFO   paperwork.frontend.mainwindow.scan Starting OCR on angle 270\nINFO   paperwork.frontend.mainwindow.scan Running OCR on page orientation 0\nINFO   paperwork.frontend.mainwindow.scan Starting OCR on angle 180\nINFO   paperwork.frontend.mainwindow.scan Running OCR on page orientation 1\nINFO   paperwork.frontend.mainwindow.scan Starting OCR on angle 90\nINFO   paperwork.frontend.mainwindow.scan Running OCR on page orientation 2\nINFO   paperwork.frontend.mainwindow.scan Starting OCR on angle 0\nINFO   paperwork.frontend.mainwindow.scan Running OCR on page orientation 3\nINFO   paperwork.frontend.mainwindow.scan Evaluating score of page orientation (1) using method 'spell_checker' ...\nINFO   paperwork.frontend.mainwindow.scan Evaluating score of page orientation (0) using method 'spell_checker' ...\nINFO   paperwork.frontend.mainwindow.scan Evaluating score of page orientation (3) using method 'spell_checker' ...\nINFO   paperwork.frontend.mainwindow.scan OCR done on angle 180: 0.000000\nINFO   paperwork.frontend.mainwindow.scan OCR done on angle 270: 0.000000\nINFO   paperwork.frontend.mainwindow.scan OCR done on angle 0: 0.000000\nINFO   paperwork.frontend.mainwindow.scan Evaluating score of page orientation (2) using method 'spell_checker' ...\nINFO   paperwork.frontend.mainwindow.scan OCR done on angle 90: 0.000000\nINFO   paperwork.frontend.mainwindow.scan Best: 0.000000\nWARNING paperwork.frontend.util.jobs   Job OCR:0 took 1627ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork_backend.img.doc      Adding page 0 to 20171129_1727_00 (file:///home/mondze/papers/20171129_1727_00)\nINFO   paperwork.frontend.mainwindow  Predicted labels on document [20171129_1727_00]: [set()]\nINFO   paperwork.frontend.mainwindow  Showing page 20171129_1727_00 p1\nWARNING paperwork.frontend.mainwindow.docs Cannot select document 20171129_1727_00. Not found !\nINFO   paperwork.frontend.mainwindow  Showing document 20171129_1727_00\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.3018000765990042\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Valid date: 29.11.2017\nINFO   paperwork.frontend.mainwindow.scan Scan started\nINFO   paperwork.frontend.util.canvas Animators: 1\nWARNING paperwork.frontend.mainwindow.docs Cannot select document 20171129_1727_00. Not found !\nINFO   paperwork.frontend.mainwindow  Doc is already shown\nINFO   paperwork.frontend.mainwindow  Showing document 20171129_1727_00\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Job PageImgLoader:18 marked for stopping\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Scan/OCR drawer 1 : (20, 3572) - (828, 966)\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.3018000765990042\nWARNING paperwork.frontend.mainwindow.docs Cannot select document 20171129_1727_00. Not found !\nINFO   paperwork.frontend.mainwindow  Showing document 20171129_1727_00\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Scan/OCR drawer 1 : (20, 3572) - (828, 966)\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.3018000765990042\nINFO   paperwork_backend.docsearch    Indexing new doc: 20171129_1727_00\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nERROR  paperwork.frontend.diag        === UNCATCHED EXCEPTION ===\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/mainwindow/scan.py\", line 522, in on_scan_info_cb\n    int(ratio * (calibration[1][1] - calibration[0][1])),\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/util/canvas/drawers.py\", line 558, in __init\n    assert(position[0] + size[0] >= target_position[0] + target_size[0])\nAssertionError\nERROR  paperwork.frontend.diag        ===========================\nINFO   paperwork_backend.docsearch    Index: Commiting changes\nERROR  paperwork.frontend.util.jobs   ===> Job Scan:0 raised an exception: : \nERROR  paperwork.frontend.util.jobs    0: /usr/local/lib/python3.6/dist-packages/paperwork/frontend/util/jobs.py: L  180: _run\nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python3.6/dist-packages/paperwork/frontend/mainwindow/scan.py: L   89: do\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py: L  183: read\nERROR  paperwork.frontend.util.jobs    3: /usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py: L   74: remote_do\nERROR  paperwork.frontend.util.jobs   ---> Job Scan:0 was started by:\nINFO   paperwork.frontend.util.jobs   [Scheduler Search] Job Search:7 marked for stopping\nERROR  paperwork.frontend.util.jobs    0: /usr/local/bin/paperwork: L   11: \nERROR  paperwork.frontend.util.jobs    1: /usr/local/lib/python3.6/dist-packages/paperwork/paperwork.py: L  189: main\nERROR  paperwork.frontend.util.jobs    2: /usr/local/lib/python3.6/dist-packages/paperwork/paperwork.py: L  174: main\nERROR  paperwork.frontend.util.jobs    3: /usr/lib/python3/dist-packages/gi/overrides/GLib.py: L  586: run\nERROR  paperwork.frontend.util.jobs    4: /usr/local/lib/python3.6/dist-packages/paperwork/frontend/multiscan/scan.py: L  104: start_scan_workflow\nERROR  paperwork.frontend.util.jobs    5: /usr/local/lib/python3.6/dist-packages/paperwork/frontend/mainwindow/scan.py: L  950: scan_and_ocr\nERROR  paperwork.frontend.util.jobs    6: /usr/local/lib/python3.6/dist-packages/paperwork/frontend/mainwindow/scan.py: L  874: scan\nERROR  paperwork.frontend.util.jobs    7: /usr/local/lib/python3.6/dist-packages/paperwork/frontend/util/jobs.py: L  256: schedule\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nERROR  paperwork.frontend.multiscan.scan Scan failed: \nWARNING paperwork.frontend.multiscan   Scan failed: \nINFO   paperwork.frontend.multiscan   Scan job cancelled\nWARNING paperwork.frontend.mainwindow.docs Cannot select document 20171129_1727_00. Not found !\nINFO   paperwork.frontend.mainwindow  Showing document 20171129_1727_00\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.3018000765990042\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow  Got 1 documents\nINFO   paperwork.frontend.mainwindow  Got 0 suggestions\nINFO   paperwork.frontend.mainwindow.docs Will display documents 0:50 (actual number: 1)\nINFO   paperwork.frontend.mainwindow.docs Document position: 0 | Number of boxes currently displayed: 1\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.multiscan   Multi-scan dialog destroyed\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.util.actions Action: [Opening diagnostic dialog]\nINFO   paperwork.frontend.diag        ====== START OF SYSTEM INFO ======\nINFO   paperwork.frontend.diag        os.name: posix\nINFO   paperwork.frontend.diag        sys.version: 3.6.3 (default, Oct  3 2017, 21:45:48) \n[GCC 7.2.0]\nINFO   paperwork.frontend.diag        os.uname: posix.uname_result(sysname='Linux', nodename='mondze-lt', release='4.13.0-17-generic', version='#20-Ubuntu SMP Mon Nov 6 10:04:08 UTC 2017', machine='x86_64')\nINFO   paperwork.frontend.diag        platform.architecture: ('64bit', 'ELF')\nINFO   paperwork.frontend.diag        platform.platform: Linux-4.13.0-17-generic-x86_64-with-Ubuntu-17.10-artful\nINFO   paperwork.frontend.diag        platform.processor: x86_64\nINFO   paperwork.frontend.diag        platform.version: #20-Ubuntu SMP Mon Nov 6 10:04:08 UTC 2017\nINFO   paperwork.frontend.diag        platform.linux_distribution: ('Ubuntu', '17.10', 'artful')\nINFO   paperwork.frontend.diag        platform.win32_ver: ('', '', '', '')\nINFO   paperwork.frontend.diag        multiprocessing.cpu_count: 8\nINFO   paperwork.frontend.diag        Available memory: 33683550208\nINFO   paperwork.frontend.diag        ====== END OF SYSTEM INFO ======\nINFO   paperwork.frontend.diag        ====== START OF PAPERWORK INFO ======\nINFO   paperwork.frontend.diag        Paperwork version: 1.2.2\nINFO   paperwork.frontend.diag        Total number of documents: 1\nINFO   paperwork.frontend.diag        Document types: {\"\": 0}\nINFO   paperwork.frontend.diag        Total number of pages: 1 (average: 1.0/doc)\nINFO   paperwork.frontend.diag        Maximum number of pages in one document: 1\nINFO   paperwork.frontend.diag        Total number of words: 2 (average: 2.0/page)\nINFO   paperwork.frontend.diag        Average word length: 1.0\nINFO   paperwork.frontend.diag        Max word length: 1\nINFO   paperwork.frontend.diag        ====== END OF PAPERWORK INFO ======\nINFO   paperwork.frontend.diag        ====== START OF SCANNER INFO ======\nINFO   paperwork.frontend.diag        1 scanners found\nINFO   paperwork.frontend.diag        === 'fujitsu:ScanSnap S500M:2310' (FUJITSU, ScanSnap S500M, scanner) ===\nINFO   paperwork.frontend.diag        Option: source\nINFO   paperwork.frontend.diag          Title: Scan source\nINFO   paperwork.frontend.diag          Desc: Selects the scan source (such as a document-feeder).\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 11\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['ADF Front', 'ADF Back', 'ADF Duplex']\nINFO   paperwork.frontend.diag          Value: ADF Front\nINFO   paperwork.frontend.diag        Option: mode\nINFO   paperwork.frontend.diag          Title: Scan mode\nINFO   paperwork.frontend.diag          Desc: Selects the scan mode (e.g., lineart, monochrome, or color).\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 9\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Lineart', 'Halftone', 'Gray', 'Color']\nINFO   paperwork.frontend.diag          Value: Color\nINFO   paperwork.frontend.diag        Option: resolution\nINFO   paperwork.frontend.diag          Title: Scan resolution\nINFO   paperwork.frontend.diag          Desc: Sets the resolution of the scanned image.\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : Dpi (4)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (50, 600, 1)\nINFO   paperwork.frontend.diag          Value: 300\nINFO   paperwork.frontend.diag        Option: page-width\nINFO   paperwork.frontend.diag          Title: Page width\nINFO   paperwork.frontend.diag          Desc: Specifies the width of the media.  Required for automatic centering of sheet-fed scans.\nINFO   paperwork.frontend.diag          Type:  : Fixed (2)\nINFO   paperwork.frontend.diag          Unit:  : Mm (3)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 14491376, 1387)\nINFO   paperwork.frontend.diag          Value: 14491376\nINFO   paperwork.frontend.diag        Option: page-height\nINFO   paperwork.frontend.diag          Title: Page height\nINFO   paperwork.frontend.diag          Desc: Specifies the height of the media.\nINFO   paperwork.frontend.diag          Type:  : Fixed (2)\nINFO   paperwork.frontend.diag          Unit:  : Mm (3)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 56589600, 1387)\nINFO   paperwork.frontend.diag          Value: 56589600\nINFO   paperwork.frontend.diag        Option: tl-x\nINFO   paperwork.frontend.diag          Title: Top-left x\nINFO   paperwork.frontend.diag          Desc: Top-left x position of scan area.\nINFO   paperwork.frontend.diag          Type:  : Fixed (2)\nINFO   paperwork.frontend.diag          Unit:  : Mm (3)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 14491376, 1387)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: tl-y\nINFO   paperwork.frontend.diag          Title: Top-left y\nINFO   paperwork.frontend.diag          Desc: Top-left y position of scan area.\nINFO   paperwork.frontend.diag          Type:  : Fixed (2)\nINFO   paperwork.frontend.diag          Unit:  : Mm (3)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 56589600, 1387)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: br-x\nINFO   paperwork.frontend.diag          Title: Bottom-right x\nINFO   paperwork.frontend.diag          Desc: Bottom-right x position of scan area.\nINFO   paperwork.frontend.diag          Type:  : Fixed (2)\nINFO   paperwork.frontend.diag          Unit:  : Mm (3)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 14491376, 1387)\nINFO   paperwork.frontend.diag          Value: 14147400\nINFO   paperwork.frontend.diag        Option: br-y\nINFO   paperwork.frontend.diag          Title: Bottom-right y\nINFO   paperwork.frontend.diag          Desc: Bottom-right y position of scan area.\nINFO   paperwork.frontend.diag          Type:  : Fixed (2)\nINFO   paperwork.frontend.diag          Unit:  : Mm (3)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 56589600, 1387)\nINFO   paperwork.frontend.diag          Value: 18308400\nINFO   paperwork.frontend.diag        Option: brightness\nINFO   paperwork.frontend.diag          Title: Brightness\nINFO   paperwork.frontend.diag          Desc: Controls the brightness of the acquired image.\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (-127, 127, 1)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: contrast\nINFO   paperwork.frontend.diag          Title: Contrast\nINFO   paperwork.frontend.diag          Desc: Controls the contrast of the acquired image.\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (-127, 127, 1)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: gamma\nINFO   paperwork.frontend.diag          Title: Gamma function exponent\nINFO   paperwork.frontend.diag          Desc: Changes intensity of midtones\nINFO   paperwork.frontend.diag          Type:  : Fixed (2)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (19660, 327680, 655)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: threshold\nINFO   paperwork.frontend.diag          Title: Threshold\nINFO   paperwork.frontend.diag          Desc: Select minimum-brightness to get a white point\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 255, 1)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/__init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: rif\nINFO   paperwork.frontend.diag          Title: RIF\nINFO   paperwork.frontend.diag          Desc: Reverse image format\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: ht-type\nINFO   paperwork.frontend.diag          Title: Halftone type\nINFO   paperwork.frontend.diag          Desc: Control type of halftone filter\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 10\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'Dither', 'Diffusion']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: ht-pattern\nINFO   paperwork.frontend.diag          Title: Halftone pattern\nINFO   paperwork.frontend.diag          Desc: Control pattern of halftone filter\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 3, 1)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: outline\nINFO   paperwork.frontend.diag          Title: Outline\nINFO   paperwork.frontend.diag          Desc: Perform outline extraction\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: emphasis\nINFO   paperwork.frontend.diag          Title: Emphasis\nINFO   paperwork.frontend.diag          Desc: Negative to smooth or positive to sharpen image\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (-128, 127, 1)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: separation\nINFO   paperwork.frontend.diag          Title: Separation\nINFO   paperwork.frontend.diag          Desc: Enable automatic separation of image and text\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: mirroring\nINFO   paperwork.frontend.diag          Title: Mirroring\nINFO   paperwork.frontend.diag          Desc: Reflect output image horizontally\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: wl-follow\nINFO   paperwork.frontend.diag          Title: White level follower\nINFO   paperwork.frontend.diag          Desc: Control white level follower\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 8\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'On', 'Off']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: bp-filter\nINFO   paperwork.frontend.diag          Title: BP filter\nINFO   paperwork.frontend.diag          Desc: Improves quality of high resolution ball-point pen text\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: smoothing\nINFO   paperwork.frontend.diag          Title: Smoothing\nINFO   paperwork.frontend.diag          Desc: Enable smoothing for improved OCR\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: gamma-curve\nINFO   paperwork.frontend.diag          Title: Gamma curve\nINFO   paperwork.frontend.diag          Desc: Gamma curve, from light to dark, but upper two may not work\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 3, 1)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: threshold-curve\nINFO   paperwork.frontend.diag          Title: Threshold curve\nINFO   paperwork.frontend.diag          Desc: Threshold curve, from light to dark, but upper two may not be linear\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 7, 1)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: threshold-white\nINFO   paperwork.frontend.diag          Title: Threshold white\nINFO   paperwork.frontend.diag          Desc: Set pixels equal to threshold to white instead of black\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: noise-removal\nINFO   paperwork.frontend.diag          Title: Noise removal\nINFO   paperwork.frontend.diag          Desc: Noise removal\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: matrix-5x5\nINFO   paperwork.frontend.diag          Title: Matrix 5x5\nINFO   paperwork.frontend.diag          Desc: Remove 5 pixel square noise\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: matrix-4x4\nINFO   paperwork.frontend.diag          Title: Matrix 4x4\nINFO   paperwork.frontend.diag          Desc: Remove 4 pixel square noise\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: matrix-3x3\nINFO   paperwork.frontend.diag          Title: Matrix 3x3\nINFO   paperwork.frontend.diag          Desc: Remove 3 pixel square noise\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: matrix-2x2\nINFO   paperwork.frontend.diag          Title: Matrix 2x2\nINFO   paperwork.frontend.diag          Desc: Remove 2 pixel square noise\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: variance\nINFO   paperwork.frontend.diag          Title: Variance\nINFO   paperwork.frontend.diag          Desc: Set SDTC variance rate (sensitivity), 0 equals 127\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 255, 1)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: awd\nINFO   paperwork.frontend.diag          Title: Auto width detection\nINFO   paperwork.frontend.diag          Desc: Scanner detects paper sides. May reduce scanning speed.\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: ald\nINFO   paperwork.frontend.diag          Title: Auto length detection\nINFO   paperwork.frontend.diag          Desc: Scanner detects paper lower edge. May confuse some frontends.\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: compression\nINFO   paperwork.frontend.diag          Title: Compression\nINFO   paperwork.frontend.diag          Desc: Enable compressed data. May crash your front-end program\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 5\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['None']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: compression-arg\nINFO   paperwork.frontend.diag          Title: Compression argument\nINFO   paperwork.frontend.diag          Desc: Level of JPEG compression. 1 is small file, 7 is large file. 0 (default) is same as 4\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 7, 1)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: df-action\nINFO   paperwork.frontend.diag          Title: DF action\nINFO   paperwork.frontend.diag          Desc: Action following double feed error\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 9\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'Continue', 'Stop']\nINFO   paperwork.frontend.diag          Value: Default\nINFO   paperwork.frontend.diag        Option: df-skew\nINFO   paperwork.frontend.diag          Title: DF skew\nINFO   paperwork.frontend.diag          Desc: Enable double feed error due to skew\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Inactive, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: df-thickness\nINFO   paperwork.frontend.diag          Title: DF thickness\nINFO   paperwork.frontend.diag          Desc: Enable double feed error due to paper thickness\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Inactive, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: df-length\nINFO   paperwork.frontend.diag          Title: DF length\nINFO   paperwork.frontend.diag          Desc: Enable double feed error due to paper length\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Inactive, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: df-diff\nINFO   paperwork.frontend.diag          Title: DF length difference\nINFO   paperwork.frontend.diag          Desc: Difference in page length to trigger double feed error\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 8\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Inactive, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', '10mm', '15mm', '20mm']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: df-recovery\nINFO   paperwork.frontend.diag          Title: DF recovery mode\nINFO   paperwork.frontend.diag          Desc: Request scanner to reverse feed on paper jam\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 8\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'Off', 'On']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: paper-protect\nINFO   paperwork.frontend.diag          Title: Paper protection\nINFO   paperwork.frontend.diag          Desc: Request scanner to predict jams in the ADF\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 8\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'Off', 'On']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: adv-paper-protect\nINFO   paperwork.frontend.diag          Title: Advanced paper protection\nINFO   paperwork.frontend.diag          Desc: Request scanner to predict jams in the ADF using improved sensors\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 8\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'Off', 'On']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: staple-detect\nINFO   paperwork.frontend.diag          Title: Staple detection\nINFO   paperwork.frontend.diag          Desc: Request scanner to detect jams in the ADF caused by staples\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 8\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'Off', 'On']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: bgcolor\nINFO   paperwork.frontend.diag          Title: Background color\nINFO   paperwork.frontend.diag          Desc: Set color of background for scans. May conflict with overscan option\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 8\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'White', 'Black']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: dropoutcolor\nINFO   paperwork.frontend.diag          Title: Dropout color\nINFO   paperwork.frontend.diag          Desc: One-pass scanners use only one color during gray or binary scanning, useful for colored paper or ink\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 8\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Inactive, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'Red', 'Green', 'Blue']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: buffermode\nINFO   paperwork.frontend.diag          Title: Buffer mode\nINFO   paperwork.frontend.diag          Desc: Request scanner to read pages quickly from ADF into internal memory\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 8\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'Off', 'On']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: prepick\nINFO   paperwork.frontend.diag          Title: Prepick\nINFO   paperwork.frontend.diag          Desc: Request scanner to grab next page from ADF\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 8\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'Off', 'On']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: overscan\nINFO   paperwork.frontend.diag          Title: Overscan\nINFO   paperwork.frontend.diag          Desc: Collect a few mm of background on top side of scan, before paper enters ADF, and increase maximum scan area beyond paper size, to allow collection on remaining sides. May conflict with bgcolor option\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 8\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Default', 'Off', 'On']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: sleeptimer\nINFO   paperwork.frontend.diag          Title: Sleep timer\nINFO   paperwork.frontend.diag          Desc: Time in minutes until the internal power supply switches to sleep mode\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 60, 1)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: offtimer\nINFO   paperwork.frontend.diag          Title: Off timer\nINFO   paperwork.frontend.diag          Desc: Time in minutes until the internal power supply switches the scanner off. Will be rounded to nearest 15 minutes. Zero means never power off.\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 960, 1)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: duplexoffset\nINFO   paperwork.frontend.diag          Title: Duplex offset\nINFO   paperwork.frontend.diag          Desc: Adjust front/back offset\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (-16, 16, 1)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: greenoffset\nINFO   paperwork.frontend.diag          Title: Green offset\nINFO   paperwork.frontend.diag          Desc: Adjust green/red offset\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (-16, 16, 1)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: blueoffset\nINFO   paperwork.frontend.diag          Title: Blue offset\nINFO   paperwork.frontend.diag          Desc: Adjust blue/red offset\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (-16, 16, 1)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: lowmemory\nINFO   paperwork.frontend.diag          Title: Low Memory\nINFO   paperwork.frontend.diag          Desc: Limit driver memory usage for use in embedded systems. Causes some duplex transfers to alternate sides on each call to sane_read. Value of option 'side' can be used to determine correct image. This option should only be used with custom front-end software.\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: side\nINFO   paperwork.frontend.diag          Title: Duplex side\nINFO   paperwork.frontend.diag          Desc: Tells which side (0=front, 1=back) of a duplex scan the next call to sane_read will return.\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: hwdeskewcrop\nINFO   paperwork.frontend.diag          Title: Hardware deskew and crop\nINFO   paperwork.frontend.diag          Desc: Request scanner to rotate and crop pages digitally.\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: swdeskew\nINFO   paperwork.frontend.diag          Title: Software deskew\nINFO   paperwork.frontend.diag          Desc: Request driver to rotate skewed pages digitally.\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: swdespeck\nINFO   paperwork.frontend.diag          Title: Software despeckle diameter\nINFO   paperwork.frontend.diag          Desc: Maximum diameter of lone dots to remove from scan.\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 9, 1)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: swcrop\nINFO   paperwork.frontend.diag          Title: Software crop\nINFO   paperwork.frontend.diag          Desc: Request driver to remove border from pages digitally.\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: swskip\nINFO   paperwork.frontend.diag          Title: Software blank skip percentage\nINFO   paperwork.frontend.diag          Desc: Request driver to discard pages with low percentage of dark pixels\nINFO   paperwork.frontend.diag          Type:  : Fixed (2)\nINFO   paperwork.frontend.diag          Unit:  : Percent (5)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Soft_select, Soft_detect,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 6553600, 6554)\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: halt-on-cancel\nINFO   paperwork.frontend.diag          Title: Halt on Cancel\nINFO   paperwork.frontend.diag          Desc: Request driver to halt the paper feed instead of eject during a cancel.\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: endorser-options\nINFO   paperwork.frontend.diag          Title: Endorser Options\nINFO   paperwork.frontend.diag          Desc: Controls for endorser unit\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: endorser\nINFO   paperwork.frontend.diag          Title: Endorser\nINFO   paperwork.frontend.diag          Desc: Enable endorser unit\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: endorser-bits\nINFO   paperwork.frontend.diag          Title: Endorser bits\nINFO   paperwork.frontend.diag          Desc: Determines maximum endorser counter value.\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (16, 24, 8)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: endorser-val\nINFO   paperwork.frontend.diag          Title: Endorser value\nINFO   paperwork.frontend.diag          Desc: Initial endorser counter value.\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 65535, 1)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: endorser-step\nINFO   paperwork.frontend.diag          Title: Endorser step\nINFO   paperwork.frontend.diag          Desc: Change endorser counter value by this much for each page.\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (-2, 2, 1)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: endorser-y\nINFO   paperwork.frontend.diag          Title: Endorser Y\nINFO   paperwork.frontend.diag          Desc: Endorser print offset from top of paper.\nINFO   paperwork.frontend.diag          Type:  : Fixed (2)\nINFO   paperwork.frontend.diag          Unit:  : Mm (3)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : Range (1)\nINFO   paperwork.frontend.diag          Constraint: (0, 56589600, 1387)\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: endorser-font\nINFO   paperwork.frontend.diag          Title: Endorser font\nINFO   paperwork.frontend.diag          Desc: Endorser printing font.\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 18\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Horizontal', 'Horizontal bold', 'Horizontal narrow', 'Vertical', 'Vertical bold']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: endorser-dir\nINFO   paperwork.frontend.diag          Title: Endorser direction\nINFO   paperwork.frontend.diag          Desc: Endorser printing direction.\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 14\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Top to bottom', 'Bottom to top']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: endorser-side\nINFO   paperwork.frontend.diag          Title: Endorser side\nINFO   paperwork.frontend.diag          Desc: Endorser printing side, requires hardware support to change\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 6\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : String list (3)\nINFO   paperwork.frontend.diag          Constraint: ['Front', 'Back']\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: endorser-string\nINFO   paperwork.frontend.diag          Title: Endorser string\nINFO   paperwork.frontend.diag          Desc: Endorser alphanumeric print format. %05ud or %08ud at the end will be replaced by counter value.\nINFO   paperwork.frontend.diag          Type:  : String (3)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 1\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: top-edge\nINFO   paperwork.frontend.diag          Title: Top edge\nINFO   paperwork.frontend.diag          Desc: Paper is pulled partly into adf\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: a3-paper\nINFO   paperwork.frontend.diag          Title: A3 paper\nINFO   paperwork.frontend.diag          Desc: A3 paper detected\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: b4-paper\nINFO   paperwork.frontend.diag          Title: B4 paper\nINFO   paperwork.frontend.diag          Desc: B4 paper detected\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: a4-paper\nINFO   paperwork.frontend.diag          Title: A4 paper\nINFO   paperwork.frontend.diag          Desc: A4 paper detected\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: b5-paper\nINFO   paperwork.frontend.diag          Title: B5 paper\nINFO   paperwork.frontend.diag          Desc: B5 paper detected\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: page-loaded\nINFO   paperwork.frontend.diag          Title: Page loaded\nINFO   paperwork.frontend.diag          Desc: Page loaded\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: omr-df\nINFO   paperwork.frontend.diag          Title: OMR or DF\nINFO   paperwork.frontend.diag          Desc: OMR or double feed detected\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: cover-open\nINFO   paperwork.frontend.diag          Title: Cover open\nINFO   paperwork.frontend.diag          Desc: Cover open\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: power-save\nINFO   paperwork.frontend.diag          Title: Power saving\nINFO   paperwork.frontend.diag          Desc: Scanner in power saving mode\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: email\nINFO   paperwork.frontend.diag          Title: Email button\nINFO   paperwork.frontend.diag          Desc: Email button\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: manual-feed\nINFO   paperwork.frontend.diag          Title: Manual feed\nINFO   paperwork.frontend.diag          Desc: Manual feed selected\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: scan\nINFO   paperwork.frontend.diag          Title: Scan button\nINFO   paperwork.frontend.diag          Desc: Scan button\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: function\nINFO   paperwork.frontend.diag          Title: Function\nINFO   paperwork.frontend.diag          Desc: Function character on screen\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: ink-low\nINFO   paperwork.frontend.diag          Title: Ink low\nINFO   paperwork.frontend.diag          Desc: Imprinter ink running low\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: double-feed\nINFO   paperwork.frontend.diag          Title: Double feed\nINFO   paperwork.frontend.diag          Desc: Double feed detected\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: error-code\nINFO   paperwork.frontend.diag          Title: Error code\nINFO   paperwork.frontend.diag          Desc: Hardware error code\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: skew-angle\nINFO   paperwork.frontend.diag          Title: Skew angle\nINFO   paperwork.frontend.diag          Desc: Requires black background for scanning\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Hard_select, Soft_detect, Advanced,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nINFO   paperwork.frontend.diag          Value: 0\nINFO   paperwork.frontend.diag        Option: ink-remain\nINFO   paperwork.frontend.diag          Title: Ink remaining\nINFO   paperwork.frontend.diag          Desc: Imprinter ink level\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: duplex\nINFO   paperwork.frontend.diag          Title: Duplex switch\nINFO   paperwork.frontend.diag          Desc: Duplex switch\nINFO   paperwork.frontend.diag          Type:  : Boolean (0)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        Option: density\nINFO   paperwork.frontend.diag          Title: Density\nINFO   paperwork.frontend.diag          Desc: Density dial\nINFO   paperwork.frontend.diag          Type:  : Integer (1)\nINFO   paperwork.frontend.diag          Unit:  : None (0)\nINFO   paperwork.frontend.diag          Size: 4\nINFO   paperwork.frontend.diag          Capabilities:  :[ Inactive,]\nINFO   paperwork.frontend.diag          Constraint type:  : None (0)\nINFO   paperwork.frontend.diag          Constraint: None\nWARNING paperwork.frontend.diag            Value: FAILED\nERROR  paperwork.frontend.diag         : Data is invalid (4)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/paperwork/frontend/diag/init.py\", line 171, in _get_scanner_info\n    logger.info(\"  Value: {}\".format(str(opt.value)))\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 170, in _get_value\n    return remote_do('get_option_value', self._scanner_name, self.name)\n  File \"/usr/local/lib/python3.6/dist-packages/pyinsane2/sane/abstract_proc.py\", line 74, in remote_do\n    raise exc_class(*result['exception_args'])\npyinsane2.sane.rawapi.SaneException:  : Data is invalid (4)\nINFO   paperwork.frontend.diag        ====== END OF SCANNER INFORMATIONS ======. ",
    "robertl87": "Not only it could help using documents with other software, but also a title (filename or custom text in app) would make it easier to see what document is in front of you (without having to click/open).. ",
    "jasonbillebault": "No scanner found :(\nDo I miss something? \nhttps://gist.github.com/jasonbillebault/9f6a924253865b1a52bace96e9828c00. Yes, it works with another scanning application.\nThrough the Canon Quick Menu. I found the Configuration in this application. Maybe it can help you.\n\nWe can see that the network driver isn't visible in Printers and Faxes. Maybe it is the trail.\n\n. Hello Jflesh,\nDo you have any update about your tool?\nI would like to use your software. i'm wondering if I can scan my documents into a folder then import these scans to the software. I guess it will be the same result, isn't it?\nDo you think I can use my Raspberry to install the printer drivers and use the tool on my Windows Operation System?\nThanks for your work !. Hello Jflesh,\ni'm sorry but the scan is up and I can order to my computer to launch a scan in remote. But your test program doesn't recognize the scanner. :/\n\n. Hello, \nFor information, i submitted the report 4 days ago.. ",
    "Erwyn": "Thanks for your quick and complete answer!\nwas the issue #552 a proposal to port paperwork in the cloud in a paperless way or was it only targeting the storage of the documents but not the interface/computing?. Yeah sure, it's definitely a lot of work. Porting it to the web would however mean dropping the scanner support and upload JPGs / PDFs / whatever right?. Where would the computation be done in this scenario? I suppose on the server side as you need the same to be accessed through the web api. Am I wrong?\nIn this scenario, what would be doing the desktop client? Downloading the document and taking care of the automagic connection to your scanner, scanning and uploading to the server?. Yes you could definitely have it as a local server. This means you would probably have something like 3 components:\n\nThe Server\nThe Web Interface\nThe Desktop Interface\n\nInteresting.. Okay, I'm taking advantage of this thread for two-three more questions:\n\n\nIf I get correctly what Paperwork is doing, it tags automatically the documents, or at least learns from you how to tag and then repeat it, and let you search through the text in your document, those are the main feature right?\n\n\nIf I put let's say my payslips in it, I can then search via the \"payslip\" label and search for the date in the document?\n\n\nIf we dream of having the Server/Web Interface/Desktop Interface architecture. Is the current code base re-usable or is it like starting from scratch? If so, would we still use Python then?. \n\n",
    "deliantwo": "Sure, here the diagnostic output. Let me know if you need more information. The name of the label I've removed is \"Condominio\". I've done the following steps:\n1. Edit a document with a label already present on another document\n2. Delete the label \"Condominio\"\n3. The documents list is still showing the label \nI've noticed the the title may be  confusing. With \"the index\" I mean the documents list. \npaperwork_734.txt\n. ",
    "Nadrazhul": "Apologies, I had a mind to configure ecryptfs to protect the paperwork documents and all the other home folder contents. This led into another rabbit hole of issues, unrelated to paperwork, which I haven\u00b4t fully resolved yet.\nOf course, you are right, it makes perfect sense for paperwork to install default OCR language based on your system locale. My default locale is en_US.UTF-8, by the way, so again defaulting to eng.traineddata makes perfect sense.  So I would rather consider adding additional OCR languages in flatpak installation to be a documentation improvement/addition to the FAQ than a program issue.\nAnyway, running commands above does not show any languages, only:\n/app/share/runtime/locale/.ref\nAnd here is the diagnostic output....\nissue735diag.log\n. ",
    "kafran": "If you run $ flatpak list --all the work.openpaper.Paperwork.Locale/x86_64/master package is only partially installed.\nTo fix this, you should reinstall the locale package. This will download the whole language support:\nshell\n$ flatpak --user install --reinstall work.openpaper.Paperwork-origin work.openpaper.Paperwork.Locale//master. @jflesch thank you for paperwork, its a great piece of software. I posted this on the hope someone could help me how to get things running more smoothly. Or for another solution with a faster search and visualization capability. All documents I'm scanning I often need to retrieve information on it.\nAll documents I'm putting on paperwork I scanned myself with a Kodak ScanMate i1150. First I scan using this script https://gist.github.com/kafran/46b1d798cef7b3aa48e9a138f99902cf because the scanner I'm using is capable of detect and exclude blank pages and then I import it to paperwork with the \"Import image folder\" option.\nI don't know how paperwork could get more resource efficient. If I have not 8GB ram and 16GB Swap partition it wouldn't be impossible for me to use Paperwork.. Sure. I would be glade to do that.. ",
    "aldobelus0": "So, do you want to mean that the feature of OCR doesn't exist, there is not such thing at Paperwork? Or, in other words, how works the OCR in Paperwork? Only with images? . Thank you very much, Jerome. That you wrote means that will be a OCR export feature at Paperwork soon? I will love it! Unfortunately, can be too late for me... But I'm grateful for your answers and the developing action.\n(I'm a little bit desperate. I've installed SolusOS and, apparently, there's not an OCR program at its repo :-( , and I have no previous experience at compiling... but I will try!). \nGreetings!. So, if I install Paperwork from Flatpack now, can I have the OCR feature to export PDF documents or images in plain or enriched text? I already have installed Flatpack, to test it.... Thank you very much... again! Hooray for the free software!! xD I'll do as you tell me!. ",
    "simpey84": "I just tried on another computer with a very similar hardware (windows 10 too). It's the same thing. I can't link two labels to a document and the color becomes white.\nHere is the diagnostic result:\npaperwork-diag_180131.txt. Installed and tested, it looks perfect!\nHowever, the link doesn't seem to be updated on the home : https://openpaper.work/fr/\nI used : https://github.com/jflesch/paperwork/releases/download/1.2.3/paperwork_1.2.3_win64_installer.exe. ",
    "RidaAyed": "Solved. After installing (although not needed in my workflow) the package $ tesseract-data-eng paperwork works :+1: \n@jflesch Thank you for your lightning fast engagement\n. ",
    "icf20": "nice !. > Did you mean the settings dialog ?\nthis\n\nINFO   paperwork.frontend.settingswindow Distribution: [arch]\nERROR  paperwork.frontend.settingswindow Unable to load languages translations\nTraceback (most recent call last):\n  File \"/usr/lib/python3.6/site-packages/paperwork/frontend/settingswindow/__init__.py\", line 804, in __init__\n    'iso639-3', pycountry.LOCALES_DIR\n  File \"/usr/lib/python3.6/gettext.py\", line 514, in translation\n    raise OSError(ENOENT, 'No translation file found for domain', domain)\nFileNotFoundError: [Errno 2] No translation file found for domain: 'iso639-3'\nERROR  paperwork.frontend.diag        === UNCATCHED EXCEPTION ===\nTraceback (most recent call last):\n  File \"/usr/lib/python3.6/site-packages/paperwork/frontend/util/actions.py\", line 97, in on_action_activated_cb\n    return self.__do()\n  File \"/usr/lib/python3.6/site-packages/paperwork/frontend/util/actions.py\", line 64, in __do\n    return self.do(**kwargs)\n  File \"/usr/lib/python3.6/site-packages/paperwork/frontend/mainwindow/__init__.py\", line 1373, in do\n    self.__main_win.window, self.__config)\n  File \"/usr/lib/python3.6/site-packages/paperwork/frontend/settingswindow/__init__.py\", line 816, in __init__\n    short_ocr_langs = ocr_tools[0].get_available_languages()\n  File \"/usr/lib/python3.6/site-packages/pyocr/tesseract.py\", line 406, in get_available_languages\n    raise TesseractError(ret, \"unable to get languages\")\npyocr.error.TesseractError: (1, 'unable to get languages')\nERROR  paperwork.frontend.diag        ===========================\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\n. > Have you installed training files for your language(s) ? \ni did only spanish\n\nNote that in any case, you must also install the training file for English (don't ask me why, but Tesseract always needs it)\n\nBINGO! after installing that the settings open . done, @StreakyCobra. > I meant the AUR maintainer of Tesseract\nhttps://www.archlinux.org/packages/community/x86_64/tesseract/ package on community look like all language file are optional. hmm what do i do if that option is disabled ?. this log is from a windows 7 machine\nINFO   paperwork.frontend.settingswindow Sources found: ['0001\\\\Root\\\\Flatbed']\nWARNING paperwork.frontend.settingswindow No translation for source [0001\\Root\\Flatbed]\nINFO   paperwork.frontend.settingswindow Got all the sources\nINFO   paperwork.frontend.settingswindow Looking for resolution of device [{6BDD1FC6-810F-11D0-BEC7-08002BE2092F}\\0001]\nWARNING pyinsane2.wia.abstract         Constraint found on property [sti_driver_version] but property not found\nWARNING pyinsane2.wia.abstract         Constraint found on property [sti_driver_version] but property not found\nWARNING pyinsane2.wia.abstract         Option 'current_intent' preset to 'image_type_color,maximize_quality' on ['EPSON Perfection V37/V370 #2' (EPSON, EPSON Perfection V37/V370, scanner,streaming_video)]\nWARNING pyinsane2.wia.abstract         Constraint found on property [sti_driver_version] but property not found\nWARNING pyinsane2.wia.abstract         Option 'format' preset to 'bmp' on ['EPSON Perfection V37/V370 #2' (EPSON, EPSON Perfection V37/V370, scanner,streaming_video)]\nWARNING pyinsane2.wia.abstract         Failed to pre-set option 'preferred_format' on ['EPSON Perfection V37/V370 #2' (EPSON, EPSON Perfection V37/V370, scanner,streaming_video)]\nWARNING pyinsane2.wia.abstract         Constraint found on property [sti_driver_version] but property not found\nWARNING pyinsane2.wia.abstract         Option 'depth' preset to '24' on ['EPSON Perfection V37/V370 #2' (EPSON, EPSON Perfection V37/V370, scanner,streaming_video)]\nINFO   paperwork.frontend.settingswindow Resolutions found: (50, 100)\nERROR  paperwork.frontend.util.jobs   ===> Job ResolutionFinder:0 raised an exception: <class 'IndexError'>: tuple index out of range\nERROR  paperwork.frontend.util.jobs    0: site-packages\\paperwork-1.2.3-py3.4.egg\\paperwork\\frontend\\util\\jobs.py: L  180: _run\nERROR  paperwork.frontend.util.jobs    1: site-packages\\paperwork-1.2.3-py3.4.egg\\paperwork\\frontend\\settingswindow\\__init__.py: L  273: do\nERROR  paperwork.frontend.util.jobs   ---> Job ResolutionFinder:0 was started by:\nERROR  paperwork.frontend.util.jobs    0: paperwork_launcher.py: L   11: <module>\nERROR  paperwork.frontend.util.jobs    1: site-packages\\paperwork-1.2.3-py3.4.egg\\paperwork\\paperwork.py: L  189: main\nERROR  paperwork.frontend.util.jobs    2: site-packages\\paperwork-1.2.3-py3.4.egg\\paperwork\\paperwork.py: L  174: main\nERROR  paperwork.frontend.util.jobs    3: site-packages\\gi\\overrides\\GLib.py: L  572: run\nERROR  paperwork.frontend.util.jobs    4: site-packages\\paperwork-1.2.3-py3.4.egg\\paperwork\\frontend\\settingswindow\\__init__.py: L  910: on_finding_end_cb\nERROR  paperwork.frontend.util.jobs    5: site-packages\\paperwork-1.2.3-py3.4.egg\\paperwork\\frontend\\util\\actions.py: L   85: on_combobox_changed_cb\nERROR  paperwork.frontend.util.jobs    6: site-packages\\paperwork-1.2.3-py3.4.egg\\paperwork\\frontend\\util\\actions.py: L   64: __do\nERROR  paperwork.frontend.util.jobs    7: site-packages\\paperwork-1.2.3-py3.4.egg\\paperwork\\frontend\\settingswindow\\__init__.py: L  523: do\nERROR  paperwork.frontend.util.jobs    8: site-packages\\paperwork-1.2.3-py3.4.egg\\paperwork\\frontend\\util\\jobs.py: L  256: schedule\nINFO   paperwork.frontend.settingswindow Got value [['0001\\\\Root\\\\Flatbed', '0001\\\\Root\\\\Flatbed']]. the range goes from 50 to 12800\nbut iron scanner only show  50 75 100. done :). ironscanner dint let me change the resolution now it \"stuck\" at 50. ironscanner let me pick 1150 top :smile_cat: . yep scanning works . ",
    "ffuentesb": "Ok, let me try and report back.. \nAtteched the new dump.\nIronScanner wont run. As user nor root.\nI get: \nroot@biO10:/tmp# ./ironscanner\n[811] PyInstaller Bootloader 3.x\n[811] LOADER: executable is /tmp/ironscanner\n[811] LOADER: homepath is /tmp\n[811] LOADER: _MEIPASS2 is NULL\n[811] LOADER: archivename is /tmp/ironscanner\n[811] LOADER: Extracting binaries\n[811] LOADER: Executing self as child\n[811] LOADER: set _MEIPASS2 to /tmp/_MEITDqkyT\n[811] LOADER: LD_LIBRARY_PATH=/tmp/_MEITDqkyT\n[813] PyInstaller Bootloader 3.x\n[813] LOADER: executable is /tmp/ironscanner\n[813] LOADER: homepath is /tmp\n[813] LOADER: _MEIPASS2 is /tmp/_MEITDqkyT\n[813] LOADER: archivename is /tmp/ironscanner\n[813] LOADER: Already in the child - running user's code.\n[813] LOADER: Python library: /tmp/_MEITDqkyT/libpython3.5m.so.1.0\n[813] LOADER: Loaded functions from Python library.\n[813] LOADER: Manipulating environment (sys.path, sys.prefix)\n[813] LOADER: Pre-init sys.path is /tmp/_MEITDqkyT/base_library.zip:/tmp/_MEITDqkyT\n[813] LOADER: sys.prefix is /tmp/_MEITDqkyT\n[813] LOADER: Setting runtime options\n[813] LOADER: Initializing python\n[813] LOADER: Overriding Python's sys.path\n[813] LOADER: Post-init sys.path is /tmp/_MEITDqkyT/base_library.zip:/tmp/_MEITDqkyT\n[813] LOADER: Setting sys.argv\n[813] LOADER: setting sys._MEIPASS\n[813] LOADER: importing modules from CArchive\n[813] LOADER: extracted struct\n[813] LOADER: callfunction returned...\n[813] LOADER: extracted pyimod01_os_path\n[813] LOADER: callfunction returned...\n[813] LOADER: extracted pyimod02_archive\n[813] LOADER: callfunction returned...\n[813] LOADER: extracted pyimod03_importers\n[813] LOADER: callfunction returned...\n[813] LOADER: Installing PYZ archive with Python modules.\n[813] LOADER: PYZ archive: out00-PYZ.pyz\n[813] LOADER: Running pyiboot01_bootstrap.py\n[813] LOADER: Running pyi_rth_pkgres.py\n[813] LOADER: Running pyi_rth_gtk.py\n[813] LOADER: Running pyi_rth_gio.py\n[813] LOADER: Running pyi_rth_glib.py\n[813] LOADER: Running pyi_rth_gdkpixbuf.py\n[813] LOADER: Running pyi_rth_gi.py\n[813] LOADER: Running pyi_rth_multiprocessing.py\n[813] LOADER: Running launcher.py\nSegmentation fault. I attached the diagnostic dump after the fail scan on the previous post... Am I doing the log collection wrong?. I try simple-scan and it also failed. sane and gimp work just fine.\nEdit, I just noticed that it didnt upload.\nUploading again\n. Here is a pastebin instead... https://pastebin.com/JbQbJz69\n:). Sorry, I should have mention that this is not USB, this is over Wireless.\nMaybe that's the problem? Should I go USB?. Yes I have... paperwork wont see it at all over USB.\nI think is because I installed the net driver instead of the USB driver. Working on changing it over now. Will report back.. Reporting back.. It wont see it via USB :(. It actually does... BUT how can I make it scan double sided? :)\nI moved to Fedora 27 and works just fine except only one sided.. Looks like pointing it to the working directory did the trick.. ",
    "h2ofranck": "sorry, I do not have a setting button (???)\n\n. \nINFO   paperwork.paperwork            Using locales in '/home/franck/.python-eggs/paperwork-1.2.4-py3.5.egg-tmp/paperwork/frontend/locale'\nINFO   paperwork_backend              Assuming we are running in Flatpak. Building tessdata directory /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata ...\nINFO   paperwork_backend.util         Deleting file /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata/osd.traineddata\nINFO   paperwork_backend.util         Deleting file /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata/eng.traineddata\nINFO   paperwork_backend.util         Deleting file /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata/fra.traineddata\nINFO   paperwork_backend.util         Deleting link /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata/tessconfigs\nINFO   paperwork_backend.util         Deleting link /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata/configs\nINFO   paperwork_backend.util         Deleting dir /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata\nINFO   paperwork_backend              /app/share/locale/fr/fra.traineddata found\nINFO   paperwork_backend              Tessdata directory ready\nINFO   paperwork.paperwork            Initializing pyinsane ...\nINFO   pyinsane2.sane.abstract_proc   Starting Pyinsane subprocess\nINFO   pyinsane2.sane.abstract_proc   Pyinsane pipes: /tmp/pyinsane_0l053r1q/pipe_c2s | /tmp/pyinsane_0l053r1q/pipe_s2c\nINFO   pyinsane2.sane.abstract_proc   Connected to Pyinsane subprocess\nINFO   paperwork.paperwork            Initializing libnotify ...\nINFO   paperwork_backend.config       Config file found: /home/franck/.var/app/work.openpaper.Paperwork/config/paperwork.conf\nINFO   paperwork_backend.config       Reloading /home/franck/.var/app/work.openpaper.Paperwork/config/paperwork.conf ...\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Export] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Export] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Index search / update] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Index search / update] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Search] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Search] Started\nINFO   paperwork.frontend.beacon      Updates were last checked: 2018-03-26 00:00:00\nINFO   paperwork.frontend.beacon      No need to check for new updates yet\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (904, 873)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.actions Action: [Refresh index]\nINFO   paperwork.frontend.mainwindow  Index loaded\nINFO   paperwork.frontend.beacon      Anonymous statistics are disabled\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Invalid date: Nouveau document\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  1 labels found\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow  Got 1 documents\nINFO   paperwork.frontend.mainwindow.docs Will display documents 0:50 (actual number: 1)\nINFO   paperwork.frontend.mainwindow  Got 0 suggestions\nINFO   paperwork.frontend.mainwindow.docs Will get thumbnails for 1 documents [0-2]\nINFO   paperwork.frontend.mainwindow.docs Start thumbnailing 1 documents (DocThumbnailer:0)\nINFO   paperwork.frontend.mainwindow.docs [DocThumbnailer:0]: Got thumbnail for 20180327_1317_31 (0.001935s)\nINFO   paperwork.frontend.mainwindow.docs End of thumbnailing [DocThumbnailer:0]\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow.docs Showing doc 20180327_1317_31\nINFO   paperwork.frontend.mainwindow.docs Document position: 0 | Number of boxes currently displayed: 1\nINFO   paperwork.frontend.mainwindow  Showing document 20180327_1317_31\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.06691919191919192\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Valid date: 27/03/2018\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.util.canvas Animators: 3\nINFO   paperwork.frontend.util.canvas Animators: 4\nINFO   paperwork.frontend.util.canvas Animators: 5\nINFO   paperwork.frontend.util.canvas Animators: 4\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.canvas Animators: 3\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow  Showing page 20180327_1317_31 p1\nINFO   paperwork.frontend.mainwindow.docs Document position: 0 | Number of boxes currently displayed: 1\nINFO   paperwork.frontend.mainwindow  Showing document 20180327_1317_31\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.35294117647058826\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow.docs Showing doc 20180327_1650_35\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nINFO   paperwork.frontend.mainwindow  Showing document 20180327_1650_35\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Invalid date: Nouveau document\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.mainwindow  Image view port resized. (904, 873) --> (1666, 1085)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1666, 1085) --> (1620, 1039)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.actions Action: [New document]\nINFO   paperwork.frontend.mainwindow  Doc is already shown\nINFO   paperwork.frontend.mainwindow  Showing document 20180327_1650_35\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow.docs Showing doc 20180327_1317_31\nINFO   paperwork.frontend.mainwindow.docs Document position: 0 | Number of boxes currently displayed: 1\nINFO   paperwork.frontend.mainwindow  Showing document 20180327_1317_31\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/0.11601307189542484\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Valid date: 27/03/2018\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.util.canvas Animators: 3\nINFO   paperwork.frontend.util.canvas Animators: 4\nINFO   paperwork.frontend.util.canvas Animators: 5\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.canvas Animators: 4\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.canvas Animators: 3\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.canvas Animators: 2\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.util.actions Action: [New document]\nINFO   paperwork.frontend.mainwindow  Showing document 20180327_1650_35\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Invalid date: Nouveau document\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork_backend.pdf.doc      PDF: Opening file:///home/franck/Papiers/20180327_1317_31/doc.pdf\nINFO   paperwork.frontend.mainwindow.pages No box selected\nINFO   paperwork.frontend.mainwindow.pages [page] found 0 boxes to highlight\nINFO   paperwork.frontend.mainwindow.pages 0 boxes found\nINFO   paperwork.frontend.util.actions Action: [Open selected document]\nINFO   paperwork.frontend.mainwindow.docs Showing doc 20180327_1650_35\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nINFO   paperwork.frontend.mainwindow  Doc is already shown\nINFO   paperwork.frontend.mainwindow  Showing document 20180327_1650_35\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nWARNING paperwork_backend.fs           Gio.Gerror\nTraceback (most recent call last):\n  File \"/app/lib/python3.5/site-packages/paperwork_backend-1.2.4-py3.5.egg/paperwork_backend/fs.py\", line 309, in listdir\n    None\nGLib.GError: g-io-error-quark: Error opening directory '/home/franck/Papiers/20180327_1650_35': No such file or directory (1)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1620, 1039) --> (904, 873)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Image view port resized. (904, 873) --> (858, 827)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Image view port resized. (858, 827) --> (904, 873)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.actions Action: [Open settings dialog]\nINFO   paperwork.frontend.settingswindow Distribution: []\nINFO   paperwork.frontend.settingswindow Language name translations loaded\nINFO   paperwork.frontend.settingswindow Translation: English | anglais\nINFO   paperwork.frontend.settingswindow Translation: French | fran\u00e7ais\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Started\nINFO   paperwork.frontend.settingswindow Looking for scan devices ...\nINFO   paperwork.frontend.settingswindow End of scan for device\nWARNING paperwork.frontend.util.jobs   Job DeviceFinder:0 took 6825ms and is unstoppable ! (maximum allowed: 500ms)\nINFO   paperwork_backend.config       Updating /home/franck/.var/app/work.openpaper.Paperwork/config/paperwork.conf ...\nINFO   paperwork_backend.config       Done\nINFO   paperwork.frontend.settingswindow Settings window destroyed\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopping\nINFO   paperwork.frontend.util.jobs   [Scheduler progress] Stopped\nINFO   paperwork.frontend.util.actions Action: [Opening diagnostic dialog]\nINFO   paperwork.frontend.diag        ====== START OF SYSTEM INFO ======\nINFO   paperwork.frontend.diag        os.name: posix\nINFO   paperwork.frontend.diag        sys.version: 3.5.2 (default, Jan 10 2018, 06:17:28) \n[GCC 6.2.0]\nINFO   paperwork.frontend.diag        os.uname: posix.uname_result(sysname='Linux', nodename='Terminator', release='4.13.0-37-generic', version='#42-Ubuntu SMP Wed Mar 7 14:13:23 UTC 2018', machine='x86_64')\nINFO   paperwork.frontend.diag        platform.architecture: ('64bit', 'ELF')\nINFO   paperwork.frontend.diag        platform.platform: Linux-4.13.0-37-generic-x86_64-with-glibc2.3.4\nINFO   paperwork.frontend.diag        platform.processor: x86_64\nINFO   paperwork.frontend.diag        platform.version: #42-Ubuntu SMP Wed Mar 7 14:13:23 UTC 2018\nINFO   paperwork.frontend.diag        platform.linux_distribution: ('', '', '')\nINFO   paperwork.frontend.diag        platform.win32_ver: ('', '', '', '')\nINFO   paperwork.frontend.diag        multiprocessing.cpu_count: 4\nINFO   paperwork.frontend.diag        Available memory: 8305397760\nINFO   paperwork.frontend.diag        ====== END OF SYSTEM INFO ======\nINFO   paperwork.frontend.diag        ====== START OF PAPERWORK INFO ======\nINFO   paperwork.frontend.diag        Paperwork version: 1.2.4-168-g8dd5004-refs/heads/develop\nINFO   paperwork.frontend.diag        Scan library: Pyinsane2 2.0.12-19-gc251345\nINFO   paperwork.frontend.diag        Total number of documents: 1\nINFO   paperwork.frontend.diag        Document types: {\"<class 'paperwork_backend.pdf.doc.PdfDoc'>\": 0}\nINFO   paperwork.frontend.diag        Total number of pages: 0 (average: 0.0/doc)\nINFO   paperwork.frontend.diag        Maximum number of pages in one document: 5\nINFO   paperwork.frontend.diag        ====== END OF PAPERWORK INFO ======\nINFO   paperwork.frontend.diag        ====== START OF SCANNER INFO ======\nINFO   paperwork.frontend.diag        0 scanners found\nINFO   paperwork.frontend.diag        ====== END OF SCANNER INFORMATIONS ======. no it still does not work\n```\nfranck@Terminator:~$ sudo apt install flatpak sane-utils\n[sudo] Mot de passe de franck\u00a0: \nLecture des listes de paquets... Fait\nConstruction de l'arbre des d\u00e9pendances     \nLecture des informations d'\u00e9tat... Fait\nsane-utils est d\u00e9j\u00e0 la version la plus r\u00e9cente (1.0.27-1~experimental2ubuntu2.1).\nflatpak est d\u00e9j\u00e0 la version la plus r\u00e9cente (0.8.9-0ubuntu0.1).\n0 mis \u00e0 jour, 0 nouvellement install\u00e9s, 0 \u00e0 enlever et 0 non mis \u00e0 jour.\nfranck@Terminator:~$ sudo sh -c \"echo 127.0.0.1 >> /etc/sane.d/saned.conf\"\nfranck@Terminator:~$ sudo systemctl enable saned.socket\nfranck@Terminator:~$ sudo systemctl start saned.socket\nfranck@Terminator:~$ systemctl status saned.socket\n\u25cf saned.socket - saned incoming socket\n   Loaded: loaded (/lib/systemd/system/saned.socket; enabled; vendor preset: enabled)\n   Active: active (listening) since Tue 2018-03-27 14:19:56 CEST; 4h 23min ago\n   Listen: [::]:6566 (Stream)\n Accepted: 10; Connected: 0\nmars 27 14:19:56 Terminator systemd[1]: Listening on saned incoming socket.\n```\nINFO   paperwork.paperwork            Using locales in '/home/franck/.python-eggs/paperwork-1.2.4-py3.5.egg-tmp/paperwork/frontend/locale'\nINFO   paperwork_backend              Assuming we are running in Flatpak. Building tessdata directory /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata ...\nINFO   paperwork_backend.util         Deleting file /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata/osd.traineddata\nINFO   paperwork_backend.util         Deleting file /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata/eng.traineddata\nINFO   paperwork_backend.util         Deleting file /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata/fra.traineddata\nINFO   paperwork_backend.util         Deleting link /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata/tessconfigs\nINFO   paperwork_backend.util         Deleting link /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata/configs\nINFO   paperwork_backend.util         Deleting dir /home/franck/.var/app/work.openpaper.Paperwork/data/paperwork/tessdata\nINFO   paperwork_backend              /app/share/locale/fr/fra.traineddata found\nINFO   paperwork_backend              Tessdata directory ready\nINFO   paperwork.paperwork            Initializing pyinsane ...\nINFO   pyinsane2.sane.abstract_proc   Starting Pyinsane subprocess\nINFO   pyinsane2.sane.abstract_proc   Pyinsane pipes: /tmp/pyinsane_o2f9yr4e/pipe_c2s | /tmp/pyinsane_o2f9yr4e/pipe_s2c\nINFO   pyinsane2.sane.abstract_proc   Connected to Pyinsane subprocess\nINFO   paperwork.paperwork            Initializing libnotify ...\nINFO   paperwork_backend.config       Config file found: /home/franck/.var/app/work.openpaper.Paperwork/config/paperwork.conf\nINFO   paperwork_backend.config       Reloading /home/franck/.var/app/work.openpaper.Paperwork/config/paperwork.conf ...\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Page boxes loader] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Main] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Search] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Search] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Progress] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Scan] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Export] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Export] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler OCR] Started\nINFO   paperwork.frontend.util.jobs   [Scheduler Index search / update] Starting\nINFO   paperwork.frontend.util.jobs   [Scheduler Index search / update] Started\nINFO   paperwork.frontend.beacon      Updates were last checked: 2018-03-26 00:00:00\nINFO   paperwork.frontend.beacon      No need to check for new updates yet\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Image view port resized. (0, 0) --> (1042, 1126)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.util.actions Action: [Refresh index]\nINFO   paperwork.frontend.mainwindow  Image view port resized. (1042, 1126) --> (1042, 1039)\nINFO   paperwork.frontend.mainwindow  Changing zoom level (internal): True/1.0\nINFO   paperwork.frontend.mainwindow  Index loaded\nINFO   paperwork.frontend.beacon      Anonymous statistics are disabled\nINFO   paperwork.frontend.util.actions Action: [Set document date]\nINFO   paperwork.frontend.mainwindow.docs Invalid date: Nouveau document\nINFO   paperwork.frontend.mainwindow  Document examen finished. Updating index ...\nINFO   paperwork.frontend.mainwindow  1 labels found\nINFO   paperwork.frontend.mainwindow  New document: 0\nINFO   paperwork.frontend.mainwindow  Updated document: 0\nINFO   paperwork.frontend.mainwindow  Deleted document: 0\nINFO   paperwork.frontend.mainwindow  No changes\nINFO   paperwork.frontend.util.canvas Animators: 0\nINFO   paperwork.frontend.util.canvas Animators: 1\nINFO   paperwork.frontend.mainwindow  Searching: []\nINFO   paperwork.frontend.mainwindow  Got 1 documents\nINFO   paperwork.frontend.mainwindow.docs Will display documents 0:50 (actual number: 1)\nINFO   paperwork.frontend.mainwindow  Got 0 suggestions\nINFO   paperwork.frontend.mainwindow.docs Will get thumbnails for 1 documents [0-2]\nINFO   paperwork.frontend.mainwindow.docs Start thumbnailing 1 documents (DocThumbnailer:0)\nINFO   paperwork.frontend.mainwindow.docs [DocThumbnailer:0]: Got thumbnail for 20180327_1317_31 (0.002784s)\nINFO   paperwork.frontend.mainwindow.docs End of thumbnailing [DocThumbnailer:0]\nINFO   paperwork.frontend.util.actions Action: [Opening diagnostic dialog]\nINFO   paperwork.frontend.diag        ====== START OF SYSTEM INFO ======\nINFO   paperwork.frontend.diag        os.name: posix\nINFO   paperwork.frontend.diag        sys.version: 3.5.2 (default, Jan 10 2018, 06:17:28) \n[GCC 6.2.0]\nINFO   paperwork.frontend.diag        os.uname: posix.uname_result(sysname='Linux', nodename='Terminator', release='4.13.0-37-generic', version='#42-Ubuntu SMP Wed Mar 7 14:13:23 UTC 2018', machine='x86_64')\nINFO   paperwork.frontend.diag        platform.architecture: ('64bit', 'ELF')\nINFO   paperwork.frontend.diag        platform.platform: Linux-4.13.0-37-generic-x86_64-with-glibc2.3.4\nINFO   paperwork.frontend.diag        platform.processor: x86_64\nINFO   paperwork.frontend.diag        platform.version: #42-Ubuntu SMP Wed Mar 7 14:13:23 UTC 2018\nINFO   paperwork.frontend.diag        platform.linux_distribution: ('', '', '')\nINFO   paperwork.frontend.diag        platform.win32_ver: ('', '', '', '')\nINFO   paperwork.frontend.diag        multiprocessing.cpu_count: 4\nINFO   paperwork.frontend.diag        Available memory: 8305397760\nINFO   paperwork.frontend.diag        ====== END OF SYSTEM INFO ======\nINFO   paperwork.frontend.diag        ====== START OF PAPERWORK INFO ======\nINFO   paperwork.frontend.diag        Paperwork version: 1.2.4-168-g8dd5004-refs/heads/develop\nINFO   paperwork.frontend.diag        Scan library: Pyinsane2 2.0.12-19-gc251345\nINFO   paperwork.frontend.diag        Total number of documents: 1\nINFO   paperwork.frontend.diag        Document types: {\"<class 'paperwork_backend.pdf.doc.PdfDoc'>\": 0}\nINFO   paperwork.frontend.diag        Total number of pages: 0 (average: 0.0/doc)\nINFO   paperwork.frontend.diag        Maximum number of pages in one document: 5\nINFO   paperwork.frontend.diag        ====== END OF PAPERWORK INFO ======\nINFO   paperwork.frontend.diag        ====== START OF SCANNER INFO ======\nINFO   paperwork.frontend.diag        0 scanners found\nINFO   paperwork.frontend.diag        ====== END OF SCANNER INFORMATIONS ======. xsane & simple-scan work, no problem.\nresult ironscaner. sorry for report for report 102 to 104, the scanner power off automatically ;-). No, no firewall.\n```\nfranck@Terminator:/tmp$ systemctl status saned.socket | cat\n\u25cf saned.socket - saned incoming socket\n   Loaded: loaded (/lib/systemd/system/saned.socket; enabled; vendor preset: enabled)\n   Active: active (listening) since Tue 2018-03-27 14:19:56 CEST; 9h ago\n   Listen: [::]:6566 (Stream)\n Accepted: 12; Connected: 0\nmars 27 14:19:56 Terminator systemd[1]: Listening on saned incoming socket.\n.\nfranck@Terminator:~$ sudo apt show sane-utils -a\nPackage: sane-utils\nVersion: 1.0.27-1~experimental2ubuntu2.1\nPriority: optional\nSection: graphics\nSource: sane-backends\nOrigin: Ubuntu\nMaintainer: Ubuntu Developers ubuntu-devel-discuss@lists.ubuntu.com\nOriginal-Maintainer: J\u00f6rg Frings-F\u00fcrst debian@jff-webhosting.net\nBugs: https://bugs.launchpad.net/ubuntu/+filebug\nInstalled-Size: 574 kB\nDepends: adduser, lsb-base (>= 3.0-6), update-inetd, debconf (>= 0.5) | debconf-2.0, init-system-helpers (>= 1.18~), libavahi-client3 (>= 0.6.16), libavahi-common3 (>= 0.6.16), libc6 (>= 2.15), libieee1284-3, libjpeg8 (>= 8c), libpng16-16 (>= 1.6.2-1), libsane1 (>= 1.0.27), libsystemd0, libusb-1.0-0 (>= 2:1.0.8)\nSuggests: avahi-daemon, unpaper\nHomepage: http://www.sane-project.org\nTask: ubuntu-desktop, ubuntu-usb, print-server, kubuntu-desktop, edubuntu-desktop, edubuntu-usb, xubuntu-core, xubuntu-desktop, ubuntustudio-desktop-core, ubuntustudio-desktop, ubuntu-gnome-desktop, ubuntukylin-desktop, ubuntu-mate-core, ubuntu-mate-desktop, ubuntu-budgie-desktop\nSupported: 9m\nDownload-Size: 186 kB\nAPT-Manual-Installed: yes\nAPT-Sources: http://archive.ubuntu.com/ubuntu artful-updates/main amd64 Packages\nDescription: Biblioth\u00e8que API pour les scanneurs - utilitaires\n SANE signifie \u00ab\u00a0Scanner Access Now Easy\u00a0\u00bb (acc\u00e8s au scanner maintenant\n facile) et est une interface de programmation pour une application (API\u00a0;\n application programming interface) qui fournit un acc\u00e8s standardis\u00e9 \u00e0 tout\n mat\u00e9riel de num\u00e9risation d'image (scanner \u00e0 plat, \u00e0 main, vid\u00e9o et cam\u00e9ra\n fixe, frame-grabbers, etc.). Le standard SANE est libre et ses discussions\n ou d\u00e9veloppement sont libres pour tout le monde. Le code source courant\n est \u00e9crit pour supporter plusieurs syst\u00e8mes d'exploitation, incluant\n GNU/Linux, OS/2, Win32, ainsi que diverses versions d'Unix et est\n disponible sous la Licence Publique G\u00e9n\u00e9rale de GNU (les applications\n commerciales et utilitaires sont aussi, n\u00e9anmoins, les bienvenues).\n .\n Ce paquet comprend l'interface en ligne de commande scanimage, le serveur\n saned et l'utilitaire sane-find-scanner, avec leur documentation.\n```. ",
    "Qwby": "Hi, I'm having the same kind of problem, just with a different Scanner (ironscaner report here, scanning works):\n\nInstalled via Flatpak\nSaned enabled and started (output of status saned.socket), configured to be accessible via 127.0.0.1\nworks with xsane\nDiagnostics results finds no scanner (report here)\nKubuntu 18.04\nlocal install works (able to detect and scan, OCR hangs but that's another issue)\nIt worked with the same scanner on the same machine (previous version of Paperwork, Debian install), not sure if it was installed via flatpak or not.. \n",
    "Charpy": "I also have this bug...\n\nWin 7 64bits SP1\npaperwork_1.2.4_win64_installer. \n",
    "filipe-dias-almeida": "I can confirm I also have this issue:\nInstall package: paperwork_1.2.4_win64_installer.exe\nOS: Window 7 ultimate 64bits\n\nI start the installer as admin... choose default values. Installer starts downloading paperwork.zip. Downloads all the package, next try to download something I cannot understand what (too quick the display message) and Fails with \"Download Failed\" message.\nMaybe the download link for the second component (OCR library ? ) is broken or somehow not working for Windows 7.\nI can confirm I was using an older version (1.2.1 I believe) for the past 2 years on Windows 7 64 bit. Worked flawlessly.\nI really like the software and would like to continue using it. May I help diagnosing the problem in any way ? \n. Thank you Jerome for your help! \nWell, here's my conclusions:\n\n\nTried to install version 1.2.1 with the link you provided. No Luck! Installer started to download \"paperwork.zip\" and failed immediately. Version 1.2.4 of installer downloaded \"paperwork.zip\" successfully but failed on the next download (OCR library? )\n\n\nSo, no luck installing V1.2.1. I tried simply unzip latest 1.2.4 build (second link you provided) to the default install folder and then simply executed paperwork.exe (need to execute it with admin rights, otherwise it hangs), but it worked. Scanner works, did not tried OCR yet (but for me OCR is not that important).\n\n\nAgain, I really appreciated your help. for debug purposes, in case you need me to input more info that could help you (since apparently this issue is with Windows 7), please feel free to ask and I will be glad to help!\na BIG Thumbs up! :). > OCR won't work for sure (the paperwork-xxx.zip only contains Paperwork and most of its dependencies, but not Tesseract or its data files).>\nYou're correct. on the setup menu the languages combo is empty. \nI will stick with this version until further investigations, since I do not need OCR support. \n. Hi, Jerome.\nDownloaded the installer and installed perfectly on Windows 7. It's working perfectly with OCR support enabled also.\nBig thanks to you!\n. ",
    "philippwiddra": "Can confirm that this problem also occurrs on Windows 10 (1709) and Paperwork 1.2.4-24-ga81f8af0.\nWin + \u21e7 Shift + \u2190 / \u2192 is a nice workaround. . ",
    "m1cha1": "It's not working on Windows 7 and also on Windows 10. ",
    "cedef": "I've downgraded to tesseract 3.X as suggested: works perfectly !!!\nThank you very much !. ",
    "sbrunner": "Thanks :-). Just for info, what's the deference between the master and the develop branch?. Excellent, thanks :-). Hello @jflesch \nFixed :-)\nYou run the jobs manually?\nWhen I run make check I get different errors ...:\npaperwork_backend/util.py:71:5: N802 function name should be lowercase\npaperwork_backend/common/export.py:11:9: N805 first argument of a method should be named 'self'\npaperwork_backend/img/page.py:159:9: N806 variable in function should be lowercase\npaperwork_backend/img/page.py:160:9: N806 variable in function should be lowercase. Thanks :-). Thanks, I don't know this, nice :-). ",
    "danielroehrig": "Some diagnostics:\nINFO   paperwork.frontend.mainwindow.scan Failed to use OCR tool heuristic for orientation detection: 'KeyError' object has no attribute 'message'\nINFO   paperwork.frontend.mainwindow  Redoing OCR on 20180613_0737_06 p1\nINFO   paperwork.frontend.mainwindow.scan Will use tool 'Tesseract (sh)'\nWARNING paperwork.frontend.util.jobs   Job OCR:0 took 2208ms and is unstoppable ! (maximum allowed: 500ms)\nEdit: tesseract version: 4.00+git24-0e00fe6-1.2. "
}