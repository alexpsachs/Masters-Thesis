{
    "Prinzhorn": "Just opened it in IE 7 in VM and didn't get an exception. Will have to keep an eye on this.\n. Didn't thought about that, thanks! Guess it's easy to implement. So basically rendering and scrolling will be decoupled.\nOne thing I have to think about is how to keep the \"return false to prevent rendering\" thing. Not sure if it's needed though.\nEdit: Maybe returning false will just prevent updating the internal \"top\" variable and thus cause the same scene to be rendered again (or do a check against lastScrollTop or something).\n. I disabled the CSS transitions for the demo. If I wouldn't, people would blame skrollr for bad performance even though transitions are fully optional.\nTODO: documentation about transitions and the default CSS classes in skrollr.css\n. Thank you. The demo page uses the optional skrollr.css https://github.com/Prinzhorn/skrollr/blob/master/skrollr.css\nAll you need is\ncss\n.skrollable {\n/*\n* Use with caution\n*/\ntransition: all .3s;\n/*-o-transition: all .3s;*/\n-ms-transition: all .3s;\n-moz-transition: all .3s;\n-webkit-transition: all .3s;\n}\nThis has nothing to do with skrollr, just plain CSS transitions.\n. I wasn't aware of xstats.js. I will take a look at it as soon as I have the time to.\nInstead of just adding xstats.js to the main demo (index.html) I'm more a fan of adding a switch (like index.html?debug). Because for normal visitors of the demo it would just be annoying or maybe even confusing to have those graphs on screen. That being said, I'd like you to modify your xstats.js pull request to\n- add the xstats.js file to the skrollr repo instead of linking to it (as far as I remember IE doesn't like raw.github.com sending \"text/plain\" as Content-Type)\n- check for the debug flag (location.search === '?debug') and just use document.write to add the xstats.js file in the if block (document.write should be OK for this use case)\n. Maybe this is related to #9 and #11 as well? Maybe it just looks like the performance is bad, because the scroll event doesn't fire properly.\n. Latest skrollr comes with iscroll. This should fix all problems. I have neither iOS device nor a tablet, so feel free to open issues for specific problems.\n. It's now possible to pass maxKeyFrame as option, but it feels unnatural. Internally, skrollr adds a dummy element to get the native scrollbar and the height of this element is maxKeyFrame + viewPortHeight.\nInstead, there should be an option like autoHeight which is true by default.\ntrue: Set the height automatically based on the max key frame found in the document.\nfalse: Keep the current \"natural\" scroll height caused by the normal page content (don't add a dummy element).\nSetting it to false allows existing pages to easily get spiced up without fucking with the original scroll bar. Using for example data-end will then cause the animation to end where the original page ends at the bottom.\n. Something like this will probably needed, just that I don't forget it: http://derblub.com/get-cross-browser-document-height-in-js\n. This is much trickier than I thought. If the user resizes the browser window and the page uses data-end attributes, we have to recalc them. I'm thinking about how to do this nicely.\n. Thank you! Due to the lack of an iOS device on my side I'm looking forward to hear from you.\nEdit:\nSome input on this:\n- http://stackoverflow.com/questions/8866681/ios-browser-loses-window-scroll-event-when-you-go-back-to-the-page\n- http://stackoverflow.com/questions/8107722/detecting-real-time-scrolling-on-ios-safari\n- touchmove event\n. I don't know what Version of iOS you test on, but this may be caused by iOS prior to 5 not supporting position:fixed.\nposition:fixed is nothing skrollr's core uses, but something the default skrollr.css uses. Maybe you can test against this WIP example, which does not use fixed positioning http://prinzhorn.github.com/skrollr/examples/normal_page_spice.html\n. Any news on mobile/tablet/iOS?\n. I read an article like a weak ago and didn't bookmark it...it was about position:fixed and scrolling on iOS. Here's the point:\nBy setting ontouchstart to an empty function, the scroll top updates while moving the finger. This would help, but when you release your finger and iOS keeps scrolling and getting slower, the value does not update. So we need a way to get the scroll offset while scrolling on iOS.\nDue to the lack of iPhone or the like, I can't hack on this.\n. No, I'm using Ubuntu. I don't own any apple devices or software. But I'm aware of the Android emulators and will try to get it work on Android.\nAs far as I was able to research, getting full iOS support seems impossible. When you lift you finger and while it slowly stops scrolling, JavaScript execution is stopped. To get this working there's probably a shitload of hacking needed to fake this with CSS animations or similar.\nskrollr won't reach 1.0 until it works on Smartphones or at least until there was enough research to come to the conclusion that it's not possible.\n. The thing is, skrollr doesn't use the scroll-event. I don't know if and how this approach could be applied to skrollr.\nEdit: Could you do some tests with the current skrollr version and just add those lines before?\njs\nwindow.addEventListener(\"touchstart\", function() {});\nwindow.addEventListener(\"touchmove\", function() {});\nwindow.addEventListener(\"touchend\", function() {});\nI read an article which stated that adding an empty handler to those touch events would at least help a bit. But again, skrollr is not using the scroll-event, but uses requestAnimationFrame and gets the scroll offset before each render. But while scrolling iOS doesn't fire requestAnimationFrame nor setTimeout. At least not by default.\n. IPhone with iOS 5 and IPad is reported to be working now (I don't have one).\nSomeone with iOS <5 and IPad please check out this example and see if scrolling is smooth and if the boxes change their color while scrolling and while the scrolling decelerates. http://prinzhorn.github.com/skrollr/examples/anchors.html\n. Could you post a link?\nDo you use the latest skrollr as well?\nMaybe open a new ticket for you particular issue.\n. See #61. Unfortunately I have no clue and no time right now.\n. \"Should\" now work using the latest skrollr which includes iscroll. I'm closing this and ask you to open new issues for specific iOS problems since this thread is a wild mix anyway.\n. Yes, like in https://github.com/Prinzhorn/skrollr/blob/master/shim.html\nIf you would include it without the check, desktop would get the fake scrollbar and touch scrolling as well (using the mouse).\nThe #skrollr-body element is also important.\n. It seems like it's still not working. #72\n. > only final scroll position counts and animation instantly jumps to it.\nThat was before iOS was supported. Please show your code.\nOr does the official skrollr demo not work for you either?\n. See https://github.com/Prinzhorn/skrollr/blob/master/shim.html and https://github.com/Prinzhorn/skrollr#mobile-support\n\nThe element with the id skrollr-body needs to be the very first element inside the body element.\n. > it does not work\n\nThat doesn't help much to fix your problem. Need code.\n. I agree on about half of the commits and disagree on the others. One commit contains things I agree with as well as some I don't. How do we handle this? It would have probably been better to create a separate branch for each of those.\nWould you mind if I take some of your advice and add it manually? Or what is the best practice in such a case?\n. I manually added the changes I agree with. I added you to the list of contributors in README. Feel free to send in pull requests in future, but don't add so many different changes to a single pull request.\nThank you.\n. Sure.\n. included in commits for #15\n. It took me 20 minutes to implement (yeah, I wrote this issue text before and just opened it) and it cut the minified version almost 2k! It's now 5.6k, but without <integer> handling. So almost everything works, except for example rgba colors using the integer notation instead of percentage. But I'm confident that those cases can be handled without giving away the 2k saving completely ;-)\nOne thing I forgot: mapping hsl to hex for IE is missing too, so let's see how much code this takes.\n. Check out branch \"better-parser\" for progress on this and #13. https://github.com/Prinzhorn/skrollr/tree/better-parser\nIE plugin: https://github.com/Prinzhorn/skrollr/blob/better-parser/plugins/skrollr.ie.js\nskrollr core is now at 5.3k (from 7.5k).\n. Like I said in #17 we may do this during parse time, not when setting the style. This way we don't waste cycles by setting all prefixes all the time over and over again.\nPossible problem: We can't guarantee a specific order. I'd like the unprefixed property to be set after the prefixed for both implementations.\n. We may do this at parse time, not when setting the values. Because prefixes don't change during runtime.\nSo when using \"linear-gradient\" as property, we should add \"linear-gradient\" and \"-moz-linear-gradient\" to the property list.\nHow to detect the needed prefix for the value? I bet @LeaVerou knows.\n. @LeaVerou knew and pointed to: https://github.com/LeaVerou/prefixfree/blob/gh-pages/prefixfree.js#L319\nThe only things that seem relevant for skrollr are gradients. So I will now just handle this special case and play prefix-doctor.\n. Some more info on how I want this to be:\nNow:\nhtml\n<div data-0=\"background-image:url(foo1.jpg);\" data-100=\"background-image:url(foo2.jpg);\"></div>\nwould result in foo0.71443.jpg and stuff.\nThen:\nhtml\n<div data-0=\"background-image:!url(foo1.jpg);\" data-100=\"background-image:url(foo2.jpg);\"></div>\nI guess the exclamation point is the best character for this. No matter which character it will be at the end, but implementing it this way will be cake. Just check if it starts with \"!\" and then skip the parser. bam.\nAnother idea would be to escape each number separately instead of the whole value.\nThen:\nhtml\n<div data-0=\"background:url(foo!1.jpg) 0 0;\" data-100=\"background:url(foo!2.jpg) 100% 50%;\"></div>\nNow the URL would stay unchanged, but the position would not. This offers great flexibility, but may be confusing.\n. I don't think it's worth implementing because I'm not sure if there's a use case.\n. First off, maybe you should just use John Polacek's scrollorama when you are using scrolldeck. I thought they were made to work together.\nI don't know how your markup looks, but I could imagine the following:\nIf you use skrollr.css, maybe you need to remove the display:block; from the .hidden class. Because the browser can't jump to an element which is not rendered.\nAnother problem could be that you manipulate the vertical position of the element while scrolling. The browser can't know where to jump when the element's position is not static.\n. Why do you need other libs anyway? I'm just curious what skrollr doesn't give you.\nMaybe you can post an example somewhere. Maybe on http://tinker.io/ or your own server.\n. This test case is not actually helpful. If I exclude all skrollr stuff, it's still not working.\n. Saved like .5k ;-)\n. This is not fixed. The scroll animation causes a scroll event as well, which makes listening to the event pointless.\n. Now that there's not only the skrollr core which needs to be minified but this zynga/scroller thingy which needs to be concatenated and minified it's really time for a build tool.\n. Excuse me, I don't know what you mean. Could you please give an example or explain some more?\n. The only plugin hook that currently exists is setStyle. But I don't think you want to write a plugin. \nMaybe that's what you are looking for:\n``` js\nskrollr.init({\n    beforerender: function() {\n        //Do stuff with the elements before we render them\n    }\n});\n//or the same\nvar s = skrollr.init();\ns.on('beforerender', function() {\n    //...\n});\n``\n. Now I see what you need. Could you explain what you want to achieve? Calling a method for every element will kill performance. I could expose an array of all animated elements if that's what you want.\n. I think the way you did it is the way to go and it's how I would have done it. But I suggest you to cache the jQuery object sincebeforerender` may be called up to 60 times per second.\n``` js\nvar obj = $('#target_object');\nskrollr.init({\n    beforerender: function(a) {\n        if (a.curTop > 0 && a.curTop < 1000) {\n            obj.doSomething();\n        }\n    }\n});\n```\nSomething like data-handler feels too much like onclick or similar and requires you to use globally accessible functions.\n. You are setting data with the key 0 to height:200px;. jQuery allows saving arbitrary data along with an element. This has nothing to do with the data-attributes, even though they are available through the data() method as syntactic sugar.\nWhat you want is\nobj.attr('data-0', 'height:200px;');\ns.refresh(obj);\n. thanks\n. I don't think your users will like that ;-)\nBut you could use animateTo to achieve this. Shouldn't make much of a difference in performance compared to manual scrolling.\njs\nskrollr.init().animateTo(1000);\n. Feel free to reopen the issue if it didn't work out.\n. I rewrote parts of it and moved some parts around. That's enough for now.\n. That's actually a very nice idea, but not possible atm.\nHere's my proposal, tell me if you'd like it this way:\nA new attribute data-keyframe-anchor with possible values of document (default), top, bottom, center.\nThis way it would just be another parsing step and the values could all be transformed to the document mode, by adding their offset from the document beginning to the given key frame.\nExample usage\n``` html\nWill move from left 0 to left 100 for the first 100px of scrolling\nbacon\nWill move from left 0 to left 100 starting when the top of the element is 100px away from document top an stops when element reaches the top of the document\nbacon\n```\nMaybe having the anchor defined per key frame instead of per element would be even better (data-100-top).\nBut don't take it for granted. I need to investigate further before I'm able to verify if it's possible and easy to implement.\n. I guess you edited your question (or GitHub failed to render the code box). Taking your suggested syntax into account:\nKeeping it consistent with data-end I'd say data-top-, data-center- and data-bottom- would probably work best.\n. I agree that having two anchors would be great. And if I decide to implement it, then I am going to do it right and as powerful as possible.\nSome things I have in mind:\n- What if the window resizes? (we already recalculate other things on resize, so this should be possible)\n- More important: What if the element resizes? For example if your animation actually affects height, padding or border. Doing the calculations up front while parsing is not a problem, but it would hit performance to do it before each rendering. I'd say by design we ignore this case and just do it up front. Someone could call refresh (see #35) on the appropriate elements beforerender if he really wants to.\nWhen it comes to naming I'd probably go with the background-position-x names and have them as pairs. But instead of x and y axis it's for self and viewport, i.e. data-0-center or data-0-top-bottom (left and right don't make sense, horizontal scrolling is a pain).\nFor convenience they should behave like background-position. So data-0-center is equal to data-0-center-center and not data-0-center-top\nI have to do some prototyping. Not sure when I will have time to.\n. Right, I didn't thought about that. For pixel values this works perfectly. And if someone uses relative values, he can still force a refresh if he wants to.\nI forgot about negative values. I checked and even though it looks awkward data--100-top is valid.\nI will change the Syntax of data-end as well to make it consistent. data-[offset]-[document-anchor]-[element-anchor] where either offset or the anchors are optional and the second anchor is optional then as well.\nValid values for element-anchor: top (default), center, bottom\nValid values for document-anchor: start (default), top, center, bottom, end. Where start and end are relative to the document and top, center and bottom are relative to the viewport\nExample of valid values and their fully expanded value\n- data-0 - data-0-start-top\n- data-0-end - data-0-end-top\n- data-0-center - data-0-center-center\n- data-end - data-0-end-top\n- data-0-bottom-top\nIf only one anchor is given, it will be used for both anchors, except for start and end which only applies to document-anchors, where the element-anchor will fall back to top.\nThank you very much for idea and help. This will take skrollr to a whole new level. Feel free to improve the \"spec\" further.\n. One thing just came to my mind which does not make sense in current spec. When the first anchor is start or end, a second anchor must be ignored. Because the element will always have the same distance to the top and bottom of the document.\nBefore: If only one anchor is given, it will be used for both anchors, except for start and end which only applies to document-anchors, where the element-anchor will fall back to top.\nAfter: If only one anchor is given, it will be used for both anchors, except for start and end where no element anchor is needed.\nSo data-0 is equivalent to data-0-start. Anything that follow start or end is ignored.\ndata-0 === data-0-start === data-0-start-top === data-0-start-center === data-0-start-bottom\n. Correct. Explaining it as two separate modes works best I guess. And the \"scroll\" mode is what we already have (but the order is different data-end-10 vs data-10-end). Since it's beta software breaking changes are to be expected and this will be 0.4 (http://semver.org/ for details). But the basic data-[number] syntax will work exactly like before.\nOne more thing: Omitting the distance will fall back to zero. This will allow the core case (aligning two anchor points) to be written shorter.\ndata-bottom-top When the element's top reaches the viewport's bottom (element enters viewport)\ndata-top-bottom When the element's bottom reaches the viewport's top (element leaves viewport)\ndata-center (=== data-center-center) When the element is at the center of viewport\n. I'm almost done (see branch anchor). It took about 500 bytes of code.\nI still need to write tests and do some cleanup. Not sure when I will work on it again.\nOh, and of course there's tons of documentation missing.\n. Thank you. Glad you use it.\n0.4 should get out in the next weeks.\n. All 0.4 development is now happening in the anchor branch.\nPlease check out the documentation and give feedback https://github.com/Prinzhorn/skrollr/tree/anchor#using-anchors\n. I will make that more clear. I will use the word \"document\" in absolute and \"viewport\" in relative mode and make them bold. Because that's the difference. And I thought about making some simple graphics to illustrate the difference (having a box, marking top, center and bottom and drawing some horizontal lines).\nThe anchor code does seem to contain bugs. In my \"tests\" (playing around) data-bottom-bottom seems to not work. After I wrote actual unit tests it will be much easier to find out.\nI would not suggest to use 0.4 branch, at least not for anything serious. I'm trying different things out and the code may break at any time.\n. Please check latest version in branch anchor. Documentation as well as anchor functionality.\n. Yes, that's exactly the kind of illustration I had in my mind. The only thing I'd add in relative mode are some red dashed lines to illustrate the two anchors (they should slightly overlap the document left and right).\nThen make the headings and inner texts a bit bigger. I'd like to add it as a SVG to the repo and link it in the documentation.\nFor further discussion about the image please use #41\n. You can of course write custom JavaScript to calculate all kinds of stuff and then use setAttribute to add dynamic data-attributes before you call skrollr.init() (or even later and call refresh on that element (not implemented yet)). But I'm not sure how skrollr could help you with that, because your examples (size of parent, position of other...) are not specific enough.\nMaybe #40 is what you want? It would help you with doing things relative to other elements.\n. It should be working. I don't know of any problems with it, but haven't used it myself much.\n. Fixed in branch \"anchor\" which should actually be called \"0.4\". Expect 0.4 at end of July.\nThe code for adding/removing classes has been refractored as well and now supports SVG elements.\n. Fixed in branch \"anchor\" which should actually be called \"0.4\". Expect 0.4 at end of July.\n. Could be an issue with the white space between the two (after the semicolon). Could you please check this? If that's the case I will fix this and trim white spaces.\n. Fixed in branch \"anchor\" which should actually be called \"0.4\". Expect 0.4 at end of July.\n. Thank you.\nI guess you'll love 0.4 : https://github.com/Prinzhorn/skrollr/issues/34\nDoes this answer your question? You will then be able to animate elements for example as soon as they enter or leave the viewport.\nYou can clone the anchor branch and check out examples/anchors.html if you want to. Still WIP.\n. You're welcome.\nAnchors are neither 100% working nor fully tested. That's why they are not in master branch and skrollr is still on 0.3.11. As soon as they are finished I will release 0.4 with some other changes as well.\n. I close this issue since the progress of the same feature is being tracked in #34.\n. I agree, but it should be possible to include the element itself in the search. Because using plain (global) CSS selectors forces the use of IDs or classes just for the purpose of using this feature. That's why I hesitated suggesting just CSS selectors.\nMaybe like this:\n``` html\n1. The first div in document\nBar\n2. The first child div\nBar\n3. The first parent div\nBar\n``\n1. Would result indocument.querySelector('div')2. Would result inelement.querySelector('div')3. Would result indocument.querySelectorAll('div')` and then traversing up the DOM to find the first element inside the returned list (using matchesSelector would harm IE 8 as well).\nIt's sad that 3., which has the largest use case, is such a costly operation, but it happens up front and not during scrolling.\nDropping IE 7 is something I thought about anyway, so using querySelector should be not a problem.\n. element.parentNode is what I mean with \"traversing up the DOM\". Using parentNode multiple times until reaching the root. Thus, the third case does not only work for direct parents.\nAnd the second case does not only work for direct child, but for any child. See documentation of querySelector at https://developer.mozilla.org/En/DOM/Element.querySelector.\n. Right, something like \">\" or \"<\" is needed. But if you literally want all links, just write \"a\". That's case 1.\nBut your example \"> a, a\" demonstrates a problem. A selector can be made up of by multiple comma separated selectors.\nSo maybe just plain CSS selectors will be good enough. If you want a child or parent, you need to use an ID on the element.\n. Implemented using just plain CSS selectors and as data-anchor-target attribute.\n. > So, is the ability to reference a parent element not being pursued in favour of global css selectors exclusively?\nYes, only CSS selectors are implemented. That was much easier and it's more flexible, even though it may require you to add another class or id to find the right element.\n. Hm, it makes sense what you're saying. The thing is that it was just so easy to use querySelector :-D\n. I made some small changes. One thing was actually wrong (data-100-top and data--100-top). It really f**** with your mind, because scrolling down moves the elements up. And a positive offset means it happens earlier (yeah, I wrote later first...).\nI will add the image as PDF to the repo. You will be added as contributor as well.\nhttps://docs.google.com/drawings/d/1CqWEVouNdfUksvOVvSXQhIT04Mm0spGHi-jTcTmlV9E/edit\n. Thanks for your effort. I understand your intention but I see some problems with the implementation\n- There's no guarantee for the order of attributes and I'm not aware of any library relying on it. That's why it feels \"wrong\" to me to use this syntax.\n- Suggesting to add \"a number\" to make the attribute unique feels even worse.\nAfter thinking about what your requirements are something else came to my mind: variables. Not sure how this could look, maybe like this:\nhtml\n<div data-var-foo=\"100\" data-_foo-100=\"left:500px;\" data-_foo-200>foo</div>\nThey could be defined globally as well by passing them to init()\nBut I'm not 100% convinced that this is needed. And variables don't resemble exactly what you wanted.\n. For a moment let's forget what we talked about (chaining and variables) and focus on what you want to achieve with them.\nPlease read the following part of the documentation for the new anchor feature coming in 0.4 https://github.com/Prinzhorn/skrollr/tree/anchor#using-anchors. Will this solve your actual problem?\nMaybe if #40 will be implemented post 0.4, would this solve all of your problems?\nLooking at your example again you probably already know about this.\n. I thought about relative mode (absolute mode is what we had from the beginning). This allows using skrollr differently. No need for fixed positioning or similar.\n. Feel free to open an issue for further discussion of such a feature. Maybe with some fresh thoughts.\n. I agree that it's a good idea, but I'm still struggling if it's needed. Before skrollr 0.4 I would definitively have implemented it, because there was a lot of trying to figure out which absolute values are needed.\nskrollr 0.4 now has relative mode (docs: https://github.com/Prinzhorn/skrollr#relative-mode-or-viewport-mode, example: http://prinzhorn.github.com/skrollr/examples/anchors.html). This completely removes the need to use absolute values. It's now possible to just create a normal website and then animate some of the elements as they move through the viewport. This has so many advantages over the old way.\nBut I know that some pages will still need absolute mode, so it may be worth implementing.\n. I'd like to view your example, but it's not working (your modified skrollr throws \"Must have a previous value for next to work\").\nAnd yes, a preprocessor would work as well. Just update the attributes before calling init(). But I don't think it's that much work to implement, just some lines. So it would easily fit into core. I mean, skrollr already has most of the logic needed.\nJust give me some more days to think about possible ways.\n. Any other suggestions for the syntax? I'm not happy with data-[varname]-[offset] because the varname could conflict with a reserved word like start or bottom. Maybe with an underscore data-_[varname]-[offset].\n. Dollar is not valid ;-). Was my first thought as well.\n. Implemented in 75 bytes. Writing docs.\n. > Why isn't dollar valid?\nI'm not making the standard ;-)\nI'd love to use the + sign, because it's just so unnatural to use \"-\" for addition and \"--\" for subtraction...but the data-attributes have their limits. Maybe it's time to thing about something new #49\n. Thanks, I had no idea. I will check that back soon and boot that damn VM to test it.\nMaybe we should just use !anchor1 which catches both cases. Thoughts?\n. No: var anchor1 = match[2] (https://github.com/ThinkTherefore/skrollr/blob/e2467e93939a31f3fc0a8edd3d22bf84a81346dc/skrollr.js#L233)\nBut as I said I will take it look at it as I have time to. Maybe today.\n. Maybe call it computed, since inherit may actually be used for it's original meaning.\n. The more examples I create the more do I miss this feature. But IE < 9 will probably be a pain without getComputedStyle. And this will add a lot of bytes.\n. And then, suddenly, I realized the IE plugin can take the extra bytes for a polyfill and everything else is cake...\n. I actually never used either of them. But that sounds reasonable and easy.\nThis feature is currently not under active development because of two reasons:\n- compound values can't be retrieved (like margin, background)\n- browser inconsistencies (hex vs rgb, 0 vs none)\n. Due to the things mentioned above I think this feature would add more pain than value.\n. The new demo page should\n- use relative mode\n- be responsive\n- work without JavaScript\n- work on iOS/Android using the new mobile support which is coming\n. Since many people like the current page, I haven't done anything. Fixing bugs and adding features had priority. The only thing I did was adding mobile support, but without changing the page itself.\nBut I'd happily team up with you and make the current page more awesome. It should definitely be kinda similar to the current page, especially in terms of funny stuff like \"rotate the sh** out of any element\" and similar.\nFeel free to email me at alexander@prinzhorn.it to chat a bit.\nSo basically what's important to me is:\n- Design (obviously)\n- Responsiveness (the current page resizes with browser, but it's not perfect)\n- Content (especially some important features are missing on the page)\nI'd take care of 2 and 3, and you could create a design based on the content we plan to add and how we want to structure it.\n. skrollr does not support horizontal scrolling websites and never will. Horizontal scrolling is the worst invention ever. Neither mouse wheel nor page up/down keys are working for horizontal scrolling.\n. As a side note: You can of course use skrollr to make a website that moves horizontally using a vertical scrollbar like http://nclud.com/event/aparty2012/ (not created with skrollr, just an example). This will give you the best of both worlds.\n. @madebymayo I don't feel comfortable adding it to skrollr. Relative mode would need to get horizontal-aware as well. If you want to e-mail me alexander@prinzhorn.it\n. > I'm curious if it's currently possible to achieve the same thing with Skrollr?\nNo.\n\nAlso - http://www.cabletv.com/the-walking-dead seems to do something weird where scrolling up/down moves horizontal?\n\nLook at the code. The page is offline atm, but I guess they're animating left together with position:fixed\n. > We can see some of e.g. of horizontal scrolling with Skrollr.\nThat's not horizontal scrolling. The scrollbar is vertical and you can use your mouse to scroll.\nThe element's move horizontally, which is just a matter of CSS and how you animate them. \n. Please elaborate and turn my example into real CSS.\n. The closest to real CSS I can think of would be to use CSS animation syntax with -skrollr prefix:\n``` css\nfoo {\n-skrollr-animation-name: foo;\n\n}\n@-skrollr-keyframes {\n    bottom-top {\n        left:100%;\n    }\ntop-bottom {\n    left:0%;\n}\n\n100 {\n    color:rgb(0,0,0);\n}\n\n}\n```\nBut then, how to define easings per-property? I mean right now skrollr doesn't use 100% real CSS too. And these template files won't be interpreted by the browser. Their only purpose is to be used by skrollr. So they won't contain non-skrollr rules.\n. > but instead of template language, why don't use and array of function and the constructor pick the right one based on resolution/rules?\nI can think of two reasons from the top of my head:\n- This would move the key frame definitions into the JavaScript code. Something that I want to avoid because it's what I don't like about other frameworks.\n- Using templates makes it possible to only load the one that's needed. Your suggestions would require everything to be downloaded even things that aren't needed.\n- bonus reason: it's not designer friendly. that's because I went the CSS route.\n. I guess that's the best idea (least confusion).\nHere's a full example (the above was missing the keyframe name and easing). It needs to be tested if any browser will fail to parse the file due to the brackets for easing. If not, than that's the way to go. The plan is that the skrollr declarations can live in the same stylesheet as the normal CSS.\n``` css\nfoo {\n-skrollr-animation-name: bar;\n\n}\n@-skrollr-keyframes bar {\n    bottom-top {\n        left[bounce]:100%;\n    }\ntop-bottom {\n    left[bounce]:0%;\n}\n\n}\n```\nSince a full CSS parser would be way too large, I'd suggest the following simplified algorithm:\nFinding all animations:\n- Search for all occurrences of \"@-skrollr-keyframes\" and grab the animation name\n- Use a regex to extract the keyframes starting at the open curly brace after \"@-skrollr-keyframes\"\n- Concat all rules per keyframe (the data-attributes get this as value)\n- Put the animations inside an object using their name as key for later lookup\n- Put the keyframe inside the animation object using the keyframes as name\nConnecting elements and animation:\n- search for all occurrences of \"-skrollr-animation-name\" and grab the value\n- walk the string backwards until the first open curly brace is found\n- grab the selectors\n- use document.querySelectorAll to get the elements\n- look up the animation with the appropriate name\n- iterate over all keyframe and add them as attributes to the elements\n. Further discussion happens in the new repo https://github.com/Prinzhorn/skrollr-stylesheets\nNothing done yet, just a place created for great things to happen in the future.\n. reopening because documentation is missing.\n. Aw no...unit testing will probably be a hell of a pain...\n. After further investigation, this may be harder as we thought. But I just had the following idea:\nCreate a hidden element with the same scroll height as the body and give focus to it. When the user scroll, he actually scrolls the hidden element and we can animate the position of the body to the new position.\nThis could be a skrollr.smooth plugin.\n. The hidden element idea doesn't work, because the browser prioritizes the element where the pointer is on, not the one that has the focused element.\nFor statically positioned elements (those that move directly with the scrollbar) smooth scrolling can probably only be done correctly on a browser or operating system level.\nBut for things like rotation, movement etc. which skrollr controls, it can still be done by interpolation at a render level. This is what the CSS transitions are currently doing for us but what is leaving IE behind.\n. Smooth scrolling is now implemented via smoothScrolling option. It's working in IE and the results are better than CSS transitions because they are dumb (for example when an object moves back and forth, CSS transitions will render it static in worst case. Smooth scrolling will make it move back and forth).\n. What's this? It's valid js but doesn't make any sense semanticallly.\njs\nvar s = skrollr.init([\n    smoothScrolling=true\n    ]);\ncorrect\njs\nvar s = skrollr.init({\n    smoothScrolling: true\n});\nit's true by default though. So you probably want smoothScrolling: false\n. The reason lies in the way skrollr is designed. Skrollr changes the styles after you have scrolled. This means the element moves down due to scrolling and then, some time later, it moves further down due to top animation.\nFor what you want to achieve you're probably better off positioning the element fixed.\n. I tried it and it was kind of a success. I'm not happy with performance though. Works smooth on native Android browser on my Galaxy S2 but dead slow (like <1fps) on Firefox.\nBut I think it's a good start. Will have to hack zynga/scroller a bit and see what comes out. I'm already trying to make scroller's EasyScroller class use the native scrollbar instead of CSS transformations.\n. Hi thanks!\nI didn't try it. But looking at it that's what comes to my mind:\n- issue count (4 vs 18)\n- last update (1 vs 4 months)\n- where's the documentation? how do I get/set the scroll position?\n- no unit tests\n- it's iOS only, no Android or other devices (ok, to be fair, zynga/scroller does not support any device. it's just the logic. but again that's a plus: it's modular and well written code). I can develop with zynga/scroller on a desktop PC.\n- I hope Zynga has an interest in maintaining it and making it compatible to future devices. If so I guess they have the budget that's needed to test on a variety of devices\n- Apache vs MIT license (I don't think it's a problem though. but I like MIT everything)\n. This is already working well.\nTodo:\n- Add scroller to a dummy element instead of the body in order to allow fixed positioning.\n- Enable zooming\n. There's progress, but still some weird behavior. I will look into iScroll as well.\n. We're using iscroll now. Seems to work.\n. I'm not sure what skrollr could help with that. I will create a demo when I have time to. The only thing I guess would be very helpful is to make the currently private relativeToAbsolute method public. Then you could easily get the snap positions you want (e.g. the top of element X at the top of viewport) and use animateTo method to reach it.\n. there you go: http://prinzhorn.github.com/skrollr/examples/snapping.html\nbtw thanks for the input!\n. Use\njs\nvar section = document.getElementById('tallerSection');\nvar offset = skrollrInstance.relativeToAbsolute(section, 'bottom', 'bottom');\nto calculate the position at which the taller section reaches the bottom. I haven't touched the snapping example in a while, but you may then be able to check if the user should be allow to manually scroll by comparing the offset. And then only use animateTo when he isn't.\nThe same is probably needed for the other direction as well.\n. The snapping example has since been removed completely. I just forgot to update the gh-pages branch.\n. It's github. Nothing is lost https://github.com/Prinzhorn/skrollr/commit/c3e07540aa694c1b9310ed2e207e14e3e71207be\n. Either show some example code so we can see how you call the refresh method or DM me a link (does GitHub have a DM functionality? was searching for it some weeks ago).\nI don't know Isotope, but looking at it I wonder how you combined it with skrollr.\n. I almost forgot this. I see the flickering as well (the notebook, when it's opacity is less than 1), but only in Chrome.\nBut I don't think this has anything to do with dynamic loading of content. Are you sure the flickering is gone when you remove Isotope?\n. > Do you think if I just changed the opacity to 0.01 or something instead of 0.0 it might work better?\nNo, because the flickering is not happing at the edge cases but in the complete (0,1) range.\nI will set up a demo to reproduce the flickering. Not sure what this is related to. But I'm busy atm.\n\nLove this plugin, great work!\n\nThanks! It's not a plugin though. It's a library.\n. I haven't had any time to test this. You are using an old version of skrollr. You should use the latest version to make that this is not the cause.\n. Did you by any chance try some more? Or with the latest skrollr?\n. Thanks. I will try this out later.\nBut I fear that it's only working nice for the snapping demo, because the animation is short. What if say I animate a very long page from 0 to 10000. You can't jump out of this large range even with heavy mouse and keyboard action.\nBut your code inspired me:\nThere rather should be a check if the _curTop is where skrollr left it at (the _scrollAnimation object needs another property lastTop). This way we can easily tell that the user scrolled, even if it was 1px and then follow your approach to start a new animation at this position.\n. One more thing: this is probably highly related to #51.\n. I see, I misunderstood the comment above this line then.\n. I just took a quick look at your fork locally. There's some jumpy behavior for me in Chromium on Ubuntu, worse than before. But I don't have time now to try anything more.\n. This is not only a OS problem. Firefox on Ubuntu for example works perfectly well, because since Firefox 13 there's \"smooth scrolling\". So when I scroll, Firefox doesn't jump to that position but interpolates from current to new position.\nIt's too bad there's no consistent way of preventing user scrolling. Even overflow:hidden doesn't stop Page Up/Down buttons. I don't think catching all user events (DOMMouseScroll, onmousewhell, onkeydown, etc.) would be a sufficient solution either.\n. Trying to light this up, please follow instructions:\n- visit http://webdesignerwall.com/demo/scroll-to-top/scrolltotop.html\n- scroll to bottom\n- hit the back to top button\n- while animation is running scroll down like crazy\nDoes this jump as well? If not, I'll try to figure out what jQuery does different when animating the scroll position.\n. Closing due to inactivity. I'm not sure if this can be fixed by skrollr anyway. Feel free to open a new ticket.\n. It's NOT easy. This would only work when combined with the hidden-focused-element-fake-scrolling suggested in #51\n. Since the hidden element idea didn't work out, this feature is probably impossible (except we try to listen for all user input events which could possibly cause scrolling, but it's not straight forward).\nInstead I'll implement a stopAnimateTo method. It can then be called from outside of skrollr if this feature is needed.\nIf someone ever comes up with a nice solution, I will happily add the interruptible setting.\n. Abandoned the idea.\n. It should stay. But it needs to be documented (and made so) that it only affects absolute mode elements.\n. Reading some more on this topic, it's probably easier to visit every single IE user, buy him or her a cup of coffee and convince them to use a real browser.\n. Idea how to get the scroll height: Scroll down to some ridiculously large number scroll(0, 1e10), get the scroll offset and scroll back to top.\n. Some browser don't like very large numbers (> 1e7). Scrolling to 1e6 should be fairly enough and it works https://tinker.io/6b708/7\n. Fixed. We're now using iscroll instead of scroller. Instead of setting the height of the dummy element to force the height, we set the height of the iscroll wrapper element. See https://github.com/Prinzhorn/skrollr/commit/bf962f13bd34e715a314b30d04893c8c46ff6b45#L6L207\n. I don't fully understand the requirement, a test case would be very appreciated.\nThis could be solved by\n- relative mode (data-top-bottom)\n- constants (data-_theheight-100)\n- calling refresh\ndepending on what you need.\n. I don't see the problem, maybe I'm misunderstanding you. Do you want to get rid of the overflow:auto on #id_content and instead have it auto height? Because as you describe the current situation, the user can view the content inside the div and the go on with scrolling the whole page.\n. I see. I wasn't aware of that and have to investigate. Surprised that this is the case.\n. This is not an issue with skrollr. If you use the skrollr demo for your test than the cause is that #easing_wrapper is there but invisible. Therefore it's laying on top of your overflow:auto element. Remove #easing_wrapper or try it on your own page and it should work perfectly well. Reopen if not.\n. The documentation says\n\nColor animations don't support named values like \"red\" or hex values like \"#ff0000\". Instead, you have to use rgb(), rgba(), hsl() and hsla. Don't worry, there's a skrollr plugin for IE < 9 to support hsl() (without \"a\"!) and to fall rgba back to rgb.\n\nhttps://github.com/Prinzhorn/skrollr#limitations\nOne reason is that adding all color names like \"white\", \"black\", \"red\", \"blue\", etc. would bloat the code without adding any value. The same goes for parsing hex colors.\nAnother reason is that you have to explicitly choose if you want to animate in rgb or hsl space, because they both result in completely different color transitions.\nEdit: Detecting if you are using hex colors and then throwing an exception is nearly impossible as well.\n. Please show an example page. skrollr handles them as well, see for example http://prinzhorn.github.com/skrollr/examples/fixed_nav.html (position:static/fixed)\n. Thanks for the demo. I'm investigating.\n. It's not directly related to skrollr. Firefox doesn't understand el.style.['float'] = 'left' but needs el.style.['cssFloat'] = 'left'. This sucks and will need special handling in code.\n. Should work with skrollr >=0.4.12\n\np.s. I'm looking forward to Skrollr-stylesheets \n\nMe too, but not enough time for OSS atm.\n. How does your \"simple workaround\" look like?\nIf you want to use anchor-targets you need querySelector and if you don't use anchor-targets, then the line will never be executed.\nWhat I was already thinking about was to create a poor-mans polyfill for querySelector which maps querySelector('#foo') to getElementById('foo'), because I guess that's used the most. I would only take a few lines of code inside the IE plugin. And if a complex selector reaches the polyfill, it could throw an exception.\n. Well, if there's jQuery on your page, then you can use it of course. But that's not a general-purpose solution.\n. With IE 7 you can now at least use IDs.\n. Including scripts at the bottom of a page is best practice. I don't think it would take much refactoring, just moving code that depends of document.body or window.getComputedStyle to be populated or available inside init instead of the IIFE.\nBut I'm not 100% convinced that this is needed. You want skrollr to be initialized as fast a possible because the user shouldn't see much of the non-skollrized page. You can't have it faster than the current approach (load the script at the bottom and call init right away). But feel free to bring more arguments.\n. > If you're trying to integrate into an already existing codebase, it could end up being quite hacky, especially if you want to use something like the r.js script optimizer, or include it as a dependency\nAs far as I understand the AMD modules, my script can't be both an AMD module and a \"normal\" JavaScript framework, right? Or at least that's not what's supposed to happen. I want skrollr to be free of dependencies and don't want designers to mess around with require.js or similar. Require.js itself has twice the size of skrollr.\n\nCan't we hide elements with CSS while the page is being loaded? Will that create problems with calculated dimensions if the elements are invisible?\n\nI didn't test it, but my guess is that the calculation of anchors will fail, because getBoundingClientRect will probably return a 0-size box.\n\nHaving the script break when its include position on a page is changed seems like something that could confuse people who aren't totally conversant with JS and the DOM. It's great that you've put so much time into helping non-coders use it, so would be cool to take that just a bit further and make that really solid.\n\nYes, that's an important point. Thinking about how this could be done best.\n. Ok, looks easy (well, just like node.js modules).\nI will look into that within the next days. If you don't hear from me like in two weeks feel free to ping me.\n. Wow, two weeks passed. I had other stuff to do (skrollr now works on mobile!). Will look into this, soon. I hope.\n. @hermes-logicalbricks Do you want to load skrollr using an AMD loader as well, or just put the script in the head (i.e. not before closing </body>)?\nI was thinking about this issue some days ago, but didn't came to a conclusion. Allowing skrollr to load via a script loader would mean that not just skrollr but the IE plugin and the mobile skrollr needs to be loadable as well. When I find time to do so, I will read more about AMD and go through the code to find possible problems.\n. @hermes-logicalbricks And I guess you then would place the init call inside some kind of ready-handler, right?\n. skrollr can be included in the head since https://github.com/Prinzhorn/skrollr/pull/103\nCan we close this now? Is it really necessary to make it compatible to different loaders as well?\n. Great, I'll close this then. skrollr.mobile.js and skrollr.ie.js never depended on being added at the bottom, you can test this as well.\n. Feel free to show some of your code.\nI had something like this in mind, but I definitely won't allow embedding actual code. This just looks awful and needs a much more sophisticated parser, because regular expressions won't do (the embedded code is a context-free language).\nI suggest something like\nhtml\n<div data-100=\"top:$kittenWar;left:20%;\"></div>\njs\nskrollr.init({\n    helpers: {\n        kittenWar: function() {\n            var $el = $('#myTarget');\n            return $el.position().top + parseInt($el.css('margin-top'), 10) + 'px';\n        }\n    }\n});\nShould the helpers be executed after a resize event or on other occasions as well?\n. You can't use attachments when replying to a comment using e-mail, because you don't actually send an e-mail to me but just trigger a comment on GitHub. So either send this directly to me at alexander@prinzhorn.it or just commit your changes to https://github.com/NeedNap/skrollr so I can view it online. I mean, this is GitHub, it's all about source code.\n. Don't worry, I got your e-mail with the code. I took a look at it but didn't had much time to think about it.\n. Odds are I will add something like this. But as I said in my first comment I won't allow actual code and I won't use eval. But instead you can define helper function which get executed in the context (this-value) of the element.\n. related https://gist.github.com/spacehunter/4748507 (just for me as a reminder)\n. > was this ever implemented?\nNo, but I'm planning to add it in the future.\n. I haven't forgotten about this feature request. I'm planning to add a better plugin architecture and then create a separate plugin for people who need this feature.\n. I think values makes more sense than attributes.\nI'm not sure if the dollar sign is the best choice. This could get us in trouble for skrollr-stylesheets (e.g. SASS uses the dollar for variables).\n. Interesting. I'll look into it.\n. Can you confirm that it's working now? I just opened the page and it looks different than 4 days ago.\nThat was a weird issue anyway and not a general skrollr issue. More like incompatibilities with other code of yours.\n. Closing this because it's inactive and the linked demo page works fine now. Feel free to reopen.\n. > iPad - I'm serving a non-Skrollr version to mobile phones\nIs it a skrollr problem or not? Please verify.\nAs a side note: Looking at your code I would not use min-width media queries for including the script. Because skrollr.mobile.js has nothing to do with the size of the screen. It's needed on a retina iPad as well (read more: https://github.com/Prinzhorn/skrollr#the-problem-with-mobile-and-the-solution).\nThe site is beautiful btw :-)\n. Alright, now I understand what you meant with\n\nHowever it seems to only be a problem on iOS (iPad - I'm serving a non-Skrollr version to mobile phones).\n\nThe solution is pretty simple. smoothScroll.js uses scrollTop, which is wrong on mobile. You need to use skrollr's setScrollTop or animateTo, because they are iScroll-aware. scrollTop on mobile is and needs to always be 0.\nI opened a new issue to remind me to create a plugin which people can use for hash-navigation #122.\n. @tommybfisher Please check the update on #122 \n. The menu plugin is now ready to be used https://github.com/Prinzhorn/skrollr#hash-navigation\n. > It seems that when using the menu plugin, the hash doesn't change in the url therefore preventing bookmarking etc.\nThat's not implemented yet.\n. Fixed on Android default browser. Waiting for feedback on iOS.\n. iOS 5 confirmed.\n. Fixed and confirmed working on Android and iOS 5\n. Hi\ndoes the div have any content? Because if not, then it does not have a size.\nCould you explain the problem in other words? I couldn't quite follow. And show relevant content of you CSS file.\n. I still don't quite understand. The element with the id trailer in http://pastie.org/5085166 is different than the one on the page you've linked. There it doesn't have a background-image, just a background-color and it's animating correctly.\nYou are using a very old version of skrollr. You should really upgrade. The only breaking change that was made (the data-end syntax) doesn't affect your page. And with the latest version you don't need CSS transition to get smooth scrolling (and smooth scrolling works in IE ;-)).\n. I think now I see the problem:\nYou are using: background-image:url(http://7f76612ecc1506b73467-f4822ca5471c851ecd0c9e81dd88c686.r18.cf2.rackcdn.com/cimages/background.gif);\nbut the URL has numbers in it. Try background-image:!url(http://7f76612ecc1506b73467-f4822ca5471c851ecd0c9e81dd88c686.r18.cf2.rackcdn.com/cimages/background.gif); to prevent them from beeing f***ed up.\nDocu about this: https://github.com/Prinzhorn/skrollr#preventing-interpolation\nThe minified version does work, it's used in http://prinzhorn.github.com/skrollr/ Did you minify it yourself or use the file from the \"dist\" folder (https://github.com/Prinzhorn/skrollr/blob/master/dist/skrollr.min.js) ?\n. In fact, I now see a new, second problem...the parser messes up because of the colon inside the urls. Needs to be fixed. Thanks for noticing!\n. Please try with a relative url (without any colons like in http:). If it's working, then we know there's only one problem left. I already wrote the test and I'm trying to fix it now.\n. lol, you're like a bug finding machine. That's another bug inside the number detection where a single period (decimal separator) is treated as a number. I open a separate issue for this (see #74).\n. > Hey also what if I wanted use my cdn to host the image for the background?\nAbsolutely. I don't want to pose any limits on which url you use. Please try again and reopen if needed. Both bugs should be fixed.\n. Nice. Make sure to update skrollr regularly. It's still not a 1.0 ;-)\n. Could you show an example? Because it's not broken in general (http://prinzhorn.github.com/skrollr/ is working). But maybe you found an edge case.\n. Closing because of inactivity. Without having a test case or an example I can't reproduce it.\nFeel free to reopen if you think it's actually in bug in skrollr and not in your implementation.\n. Hi\nI updated the title. Please use better titles in the future.\nI looked at it and it's a bug with the latest skrollr. It needs to be fixed.\n. Just download the latest version from dist/skrollr.min.js\n. You site runs in quirks mode in IE. Looking at the source this is due to missing DOCTYPE.\n. Stopped working with bf962f13bd34e715a314b30d04893c8c46ff6b45\n. Could you possibly upload this or create a demo page? If you resize your browser horizontally, and thus the content has more room, the height changes as well and the elements need to be repositioned. If you want to \"prevent\" this, what do you want instead?\nOr maybe it's a bug, but then I need to see an example.\n. This looks like a bug, because if I resize the window back to the initial-size, the boxes should of course be in the exact same position as when I loaded the page.\nThanks for the demo, I'll use this to track the bug down.\n. I found the cause, but I'm not sure how to handle it. It's like chicken-egg problem. You want to react to top-bottom but you change the bottom property of the element. When you now resize the window, the calculation of what top-bottom is, is influenced because the element already moved.\nOne solution may be to clear the style property before calculation and then set it back to get the initial state. But this would mean that you can't use the style property for your own stuff any more (imagine you had set position:absolute in the style attribute instead of using the .box class. It would be removed as well).\nThis is in fact a very important bug, because on desktop resizing is not that important, but every orientationchange on mobile will cause it and that's bad.\nMaybe someone else has a good idea.\n. My current thought on this is the following:\n- When skrollr is initialized, we save the contents of style and class attribute if the element uses relative mode\n- Now when recalculating things on resize, we reset style and class to what it originally was, then calculate the relative anchor and finally setting both attributes back to what they were before reseting them\nI guess that's the way to go. We basically simulate how the element was position before skrollr changed it in any way.\n. Could you please try the modified version from the issue_80 branch with your demo?\nhttps://github.com/Prinzhorn/skrollr/blob/issue_80/dist/skrollr.min.js\n. You're welcome and thanks for trying.\nIt's now in the master branch as 0.5.4\n. This has nothing to do with skrollr. Remove all those sliders and you see the height fits perfectly. I'm not sure if it's the transforming or something else but the sliders cause the large scrollbar.\nIf you set display:none; on #home after it faded out, the scrollbar goes back to normal.\n. I'll leave it as it is now. Hiding the address bar completely is really bad UX and hard to do across devices.\nIt's up to the users of skrollr to implement this based on their requirements.\n. https://github.com/Prinzhorn/skrollr#refreshelements\n``` js\nvar s = skrollr.init();\n//later\ns.refresh();\n```\n. The second last sentence it the docu is actually wrong.\nWrong:\n\nWhen no elements are given, all elements under control of skrollr will be parsed again.\n\nRight:\n\nWhen no elements are given, all elements in the document will be parsed again.\n\nI'll update this right away.\n. I'm not sure if I understood you correctly. If you want to stop skrollr from doing sth. I'd just return false from the beforerender event when your condition is met.\njs\nskrollr.init({\n    beforerender: function(data) {\n        if(yourCondition) return false;\n    }\n});\nhttps://github.com/Prinzhorn/skrollr#beforerender\n. There's no beforerender for animateTo.\n\nThis completely serves my purposes, but it's worth noting that a duration of 0 does not work as I would expect, and instead registers as the default 1000 ms.\n\nWhat did you expect? You should use setScrollTop(0). There's no need for an animation with a duration of 0.\n. When I started skrollr I never expected it to be a success. I just wanted something to hack on. impress.js inspired me to use the data-attributes and I'm very happy with it. Compared to for example scollorama I find it very helpful to open Firebug and see the keyframes for each element right at the element itself and be able to manipulate them, call refresh on the element and see changes instantly. With scrollorama you have to look at your JavaScript file and find the right keyframe definitions, which are very verbose by the way. \nLong story short: I get your point and already had the same thoughts three month ago (#49). Take a look at https://github.com/Prinzhorn/skrollr-stylesheets\nExample taken from the unit tests which already work\n``` css\nfoo {\n-skrollr-animation-name: name1;\n\n}\nbar {\n-skrollr-animation-name: name2;\n\n}\n@-skrollr-keyframes name1 {\n    bottom-top {\n        left:100%;\n        top:0%;\n    }\ntop-bottom {\n    left:0%;\n    top:50%;\n}\n\n}\n@-skrollr-keyframes name2 {\n    top {\n        margin:100px;\n        color:rgb(0,0,0);\n    }\nbottom {\n    margin:300px;\n    color:rgb(0,255,0);\n}\n\n}\n```\n. Thanks for the detailed explanation. First a side note: constants won't work, because you can't change them once it's initialized.\nI agree that this is useful and some people probably prefer to work this way. And I understand that it is in most cases superior to the skrollr-stylesheets approach. But as you said it will probably be non-trivial to support non-numeric keyframes like top-bottom etc. I will leave this issue open for the next weeks and let's see what comes to my mind. Right now I neither want to reject this idea nor accept it.\n. Now that https://github.com/Prinzhorn/skrollr-stylesheets is working, I come back to this issue. Check out this section https://github.com/Prinzhorn/skrollr-stylesheets#sass\n\nOne reason I've done it this way because partway down the page I add an item to the top of the DOM and need to move everything's animations down. It's very likely I could use the constants option instead.\n\nHm, maybe I should add a setter for contants. Then you could for example update the constants named top_offset and everything would move down (e.g. data-_top_offset). I opened #148 for this.\n. I'll close this and point to #148 again\n. @kvcrawford Wouldn't it be enough if you could update constants? There's already a feature request for it. Probably gonna rename them to variables. Maybe we could even allow functions instead of just numbers.\n. @kvcrawford #192 ?\n. Constants are now allowing functions and percentage offset. You can dynamically return the value.\nhttps://github.com/Prinzhorn/skrollr#dynamic-constants\n. What is parallax.js? Maybe you should remove this, because it probably interferes with skrollr.\n. Thanks @iabw \nI'm closing this because it's inactive and as @iabw pointed out it seems like it's not a bug in skrollr but in your implementation. Feel free to reopen this issue if you feel like it.\n. @markdurbs Nothing I can do here I guess.\n. This is not valid: data-0=\"stroke-dashoffset:38.6538,38.6538;\" to data-2000=\"stroke-dashoffset:0;\". The left has two numbers, the right has one.\nThat's what the console says:\n\nCan't interpolate between \"{?},{?}\" and \"{?}\"\n. You can animate any CSS property, just the way you know it. Here's a list for SVG http://www.w3.org/TR/SVG/styling.html#SVGStylingProperties\n\nBy the way: the element you have the keyframes on is not the white arrow. If I edit your page with Firebug I can easily add an animation for stroke-width and it works like a charm.\nhtml\n<path [....] data-0=\"stroke-width:1\" data-1000=\"stroke-width:100\" />\n. SVG doesn't support this, the demo uses a trick. In fact the demo uses a dashed line as well, but there's only one dash which is the same length as the line, which means the gap has that length as well. When you are at the top of the page you only \"see\" the gap and as you scroll down, the dashoffset causes the only dash to slowly appear.\nThis question is not skrollr related. If you want help with SVG or HTML in general, please use a platform like http://stackoverflow.com/\n. If I understand you correctly, you want a functionality like jQuery's animate method? Decoupled from the actual scroll position?\n. I had this in mind earlier, but didn't think about it a lot. I completely understand the use case, it's like having a trigger at 500px which fires animations which then run independently. And then have the same trigger which runs the animation backwards when scrolling up.\nBut I don't feel like this fits into the data-attribute concept. Or do you have a suggestion how the syntax could look like? Because you need to specify a duration. And you basically need two keyframes for one trigger-offset.\n. What you say is absolutely right. I would rather suggest the following, which is less designer friendly (but if you want to think outside the box, you need to write some js):\nCurrently the render event already gets the direction and the current scroll offset as parameters. That's all you need to kick of the animation. Now for the animation itself there's something missing (if there's jQuery in your page, you are already done, if not, read on).\nWhat I thought about in the past is the following: Add an animate method to skrollr which looks like this:\nanimate(element, from, to[, options])\nWhere element is a DOM element (it's up to you how you get it), from and to are strings just like the data-attributes and the last parameter options is optional. Either it's the duration in ms (default 1000) or an object to specify stuff like duration, easing and callback function when done.\nNow to solve your original problem you would do something like the following\n``` js\nvar isFaded = false;\nvar element = document.getElementById('fade-me');\nskrollr.on('render', function(data) {\n    if(data.curTop >= 500 && data.direction === 'down' && !isFaded) {\n        isFaded = true;\n        this.animate(element, 'opacity:0;', 'opacity:1;');\n    }\n});\n```\nAnd now this logic could be put in to a skrollr plugin which can handle multiple elements and trigger-points.\n. Alright. I'm closing this as you can now solve your problem using jQuery as described above.\nYou can keep track of #89 if you're interested in skrollr's animate method.\n. >  I'm using skrollr to set the css top position (for the parallax), then animate() to set the padding-top (so that the two don't conflict). \n\n\nSo I'd really like to put the animation in the skrollr script, and allow both skrollr and the animation to set the css top.\n\nThe animate method I was planning to add would work the way jQuery does. They would still conflict. And I didn't thought about adding them as data-attributes, but that's probably be a good idea.\nMaybe you could explain how they should behave in order to not conflict? I mean you can only have either the scrollbar or the time affect a CSS property. If you want both, how should this behave?\n. > So question: can you point me in the right direction on the best way to implement Velocity as my animation engine?\nI don't think putting velocity into skrollr will change anything. I also don't think it's even possible because it serves a different purpose.\n. It's mandatory to have the #skrollr-body as first child of the body. In your case it's below #ajaxLoad somewhere deep in the DOM.\nI will document this better (in fact the documentation for mobile is kind of missing right now).\n. I documented it here https://github.com/Prinzhorn/skrollr#mobile-support\n. In which browsers did you test this, does it happen in all of them? Could you possibly upload this somewhere?\nIf I add overflow-x:auto; to the divs in the example and add a large enough content, I get a horizontal scrollbar and I'm able to drag it with my mouse.\n. I can't help you much, as it's working fine on Linux. See my answer on #92\n. Closing this because of inactivity. Feel free to reopen when you have more information available.\n. Snapping is not part of skrollr. It's just a demo I hacked together. Since I don't own Max OS X, I can't fix this myself. Maybe someone can take a look at it.\n. See #92 and #91. I can't help you without seeing what you did.\n. The snapping example doesn't include the mobile version of skrollr and I didn't test it on mobile. It's just some hacky proof of concept.\n. Hi, thanks for participating!\nBut as you noted, beforerender and render can already be used. And I want to have as few extra code paths for mobile as possible (the skrollr core basically has only two extra lines for iScroll support). The api is exactly the same, no matter if on desktop or mobile. Maybe iScroll will be replaced someday by something even more lightweight (iScroll is capable of so much that skrollr doesn't need).\nThe only thing that current skrollr doesn't have is something like onScrollEnd, but since there's no equivalent for desktop browsers, I actually don't want this event.\nBut feel free to create pull requests for other stuff in the future.\n. I had to set useTransform explicitly to false, because of a strange bug in the spec for transforms (yes, I personally think the spec is flawed there). Because when an element uses transforms, all of the fixed positioned children degrade to absolute positioned elements............... :rage1: :rage1: :rage1: :rage1: :rage1: :rage1:\nRead about it here: http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/\nBut the problems you describe (no animations until scrolling stops) sounds like your skrollr mobile isn't used. Because that's exactly what it fixes.\n. Sorry, but this is not even a question. Explain some more.\nI guess you mean that you want to click an element and then jump to a specific position. You need JavaScript for this. For absolute mode, you can just use setScrollTop(1000) to scroll to position data-1000. And if you want to scroll to data-top-bottom you can first grab the position using relativeToAbsolute(theElement, 'top', 'bottom') and then use setScrollTop with the return value.\n. Closing due to inactivity. Feel free to reopen when you can supply some more details.\n. duplicate of #96\n. No. skrollr allows you to transition between any CSS properties. The only thing scrollpath animates is top, left and transform. But the core of scrollpath are the calculation needed to let an element follow a path. That means scrollpath and skrollr hardly have anything in common.\nYou could, however, in theory achieve the same with skrollr, but I don't think this would be fun at all, because you would need to do all the top, left and transform animations manually (no sugar like arc, rotate etc.)\n. But I will keep this ticket open. Maybe I'll find a solution (like a skrollr plugin) to combine both worlds, e.g. having an element move along a path while animating other properties. scrollpath seems to be inactive, so it would be a shame if you can't use it anymore at some point.\n. I see what you want and I can really imagine that it would be very cool. I already have a possible solution in mind which would be much easier than scrollpath and much more powerful while using things skrollr already is able to. But this needs to be carefully planned and thought about. Maybe I can hack a bit this weekend.\nFor now the best you could do with skrollr is to simplify the path animation to not have any curves but just straight lines. Depending on how many edged you create, the animation could still look quite smooth. But it's of course a lot of work to create the keyframes.\n. Illustration of what I mean: http://dl.dropbox.com/u/37892603/_map.jpg This would result in 8 keyframes which contain left, right and maybe transform, if you want the map to rotate. It should look like it's actually moving along the smooth path.\nThe path-example you linked doesn't help you much. But the circular motion is basically what I want to use as a basis. But instead of having to write the easing function by yourself, it is automatically generated from any arbitrary path.\n\ncan parallax be a verb?\n\nI guess everyone knows what you mean. But in this case the map is just moving.\n\nI have made my boss aware that parallax on a non-linear path is an ambitious goal. he is hacking around for a solution. maybe you will beat him to it!\n\nMaybe.\n. I like it and it's very smooth.\n. I haven't forgotten about this. I already created an empty repo for it (oh yeah, that was so hard...) https://github.com/Prinzhorn/skrollr-path\nI have some really slick ideas on how to allow things to move along any path (skrollr itself already offers everything, I just need another lib that converts the data to the correct format). I already wrote some code and things are looking good. But it may take a while until this is usable.\n. OMG, I'm basically done. In 391 bytes. I need to fix https://github.com/Prinzhorn/skrollr/issues/132 first, because the beginning/end of the path are messed up.\nBut believe me, this is a ton easier to use than scrollpath.\nI'm thinking about turning this into a http://js1k.com/ submission before releasing it as a skrollr plugin.\n. I still need to fix #132, which is tough. But there's a preview http://prinzhorn.github.com/skrollr-path/\n- x and y position move along this path\n- the rotation is based on the angle of the path\n. Since #132 has since been fixed, I'm closing this.\nI haven't had any time to work on skrollr-path, but you can still keep an eye on it https://github.com/Prinzhorn/skrollr-path\n. @increed \nrelative mode: https://github.com/Prinzhorn/skrollr#relative-mode-or-viewport-mode\npercentage offsets: https://github.com/Prinzhorn/skrollr#percentage-offsets\nconstants: https://github.com/Prinzhorn/skrollr#dynamic-constants\n. I had this in mind as well. But I couldn't think of a nice syntax. I'm not sure if this should be possible using data-attributes, because things start getting really messy then.\n. Something like waypoints could probably be added very easily to skrollr. It would allow much more sophisticated stuff with JavaScript. If I then additionally expose the currently private method updateClass everyone could add/remove classes the way they want.\nBut waypoints should probably be added as data-attributes. I'm not sure how it should look like. But on the JS part you would pass named waypoint-functions to the init-function and they get execute when you scroll over them and they get a parameter which tells you the direction.\n. > So is there a version with waypoints style functionality added into skrollr available now?\nNo. Here's something to get you started for now https://github.com/Prinzhorn/skrollr/issues/168#issuecomment-15249026\n. > As an implementation, I might expect something similar to the render() option, a onKeyframe() event, that triggers anytime a keyframe is passed. It could receive a reference to the element(s) that defined the keyframe. Its easy to implement something similar with the render() event, but could be more efficient.\nThere's this PR #284 which I don't have time to look at.\n. > I started out with a similiar approach like in PR #284. But then I thought it would be very handy to have a solution that solely relies on data- attributes, but couldn't get my head around it.\nI actually started to write code last week for exactly this. Just add data-emit-events to the element and it will trigger event for every keyframe (enter/leave), not just for before/between/after.\nBut it turned out to be harder than I thought, but I almost got there. It didn't had time to finish it so far, but it's planned!\n. to some extend you can use attribute-\"animations\" for this, e.g.\nhtml\n<div data-center-top=\"@class:active;\" data-center-bottom=\"@class:active\" data-edge-strategy=\"reset\"></div>\n. > Hey Alex, there is a bug with the implementation of your suggested code for classes...\nIt works as intended basically. You're using data-edge-strategy=\"reset\" telling skrollr to remove the class after end. And overscrolling results in a larger offset than the end of the page.\n. Thanks, I didn't knew it was missing in IE. But your code contains a lot of boilerplate. We could just calculate width and height for every browser. It would only add two lines of code without overhead like creating the temporary object which doesn't give us any benefits.\nEdit: I see, you say it's not writable. That sucks.\n. Alright, but the following code doesn't use width, left, right, top or bottom. So a local variable boxHeight which is rect.bottom - absolute is just enough. Then we just have one added line and can change the two box.height usages to boxHeight and it's even better code than now.\n. Thanks for finding this!\n. Sounds like it could be useful. But only if forceHeight is set to false.\nAre you sure you can't solve this using relative mode? In your example, how can you know if the div is even inside the viewport when you scrolled down 50%? On the other hand if it is positioned fixed and alway in the viewport, than you can get percentage by using forceHeight (which is true by default anyway). Because if the largest of your keyframes is 5000, then you know that 2500 is exactly when you scrolled down 50%.\n. I don't quite understand what is exactly broken and how this is related to the jQuery plugin? You are missing the skrollr.init() call, just put it at the very end of the page (after you included skrollr and the IE plugin).\n. Hi thanks! I'm busy right now, but from the first sight I only see that your indentation is messed up (not sure why travis/jshint doesn't complain). And I'd rather place the three lines inside the constructor. But I'll take a closer look when I have time to.\nSee #67 if you haven't already.\n. Hi,\nI don't have time to take a closer look right now.\n- Does the gap appear on desktop, if you include the mobile version there as well (just remove the if-block)?\n- We don't mess with the HTML element, are you sure it's not the #skrollr-body that is too large? Try to remove some of it's children and see which causes the height (if not #skrollr-body iself)\n- Could it be a timing issue? I mean, does the content height change significantly after the mobile file has been included? Try calling refresh after it did, this will refresh iScroll as well (needed for mobile scrolling). Or better call init when you are sure the height is correct.\n. I cloned your repo and took a look at it.\nFor me it appears on desktop as well (if I include skrollr.mobile.min.js as I said). But anyway, I faced this behavior during development and I thought it was fixed.\nI have to investigate some more, but I have to wait for this to be fixed: http://forums.chrispederick.com/discussion/198/user-agent-switcher-no-longer-functional-in-firefox-17 because otherwise it's a pain in the ass.\n. @skullface I'd like to take a closer look at this know. Could you tell me what your boss changed? Was it a change inside skrollr or something else? Thanks!\n. @skullface You should have probably used the non-minified version :-D\nBut if I'm correct, the original line is: https://github.com/Prinzhorn/skrollr/blob/777ca23c161d06be7d1e77d649c12a83e6dad8c5/src/skrollr.js#L251\njs\ndummyStyle.height = (_maxKeyFrame + documentElement.clientHeight) + 'px';\nBut the thing is, it's inside the following block\njs\nif(_forceHeight) {\nBut you explicitly set it to false. Strange.\n. Note to self: The reason must be that forceHeight is somehow ignored on mobile. Because the gap is supposed to be there with forceHeight enabled (and the gap appears on desktop as well when it's enabled, but disabling works on desktop).\n. It's not a problem with skrollr itself, but with how we use iScroll. I'll figure it out.\n. YAY!\nPlease test with skrollr 0.5.10. I tested it with the project that wkjiv provided, which looks beautiful by the way. And I tested the official skrollr page and one of the examples to make sure they work as before.\n. @jacobcaraballo please share some code. Maybe it's caused by a different bug.\n. > @Prinzhorn here's the sample code: https://github.com/jacobcaraballo/skrollr-test\nThat's expected behavior. Your largest keyframe is data-800, but your page does not have enough content to ever scroll down 800px. Skrollr makes sure you can scroll down 800px.\nIf you don't want that, set forceHeight: false https://github.com/Prinzhorn/skrollr#forceheighttrue (also https://github.com/Prinzhorn/skrollr#lessons-learned)\n. Reopening because it's still wrong for data-end. But priority is lower, because it requires the user to first scroll down to the very end and then refresh the page, which is unlikely.\n. I'm not able to reproduce it. Maybe I was looking at an old gh-page last time.\n. I don't think skrollr is right for you and for this use case. You should just use some framework which constantly animates the background images (or do it yourself, it's less than 10 lines of code if it's just for the background).\n. Closing this due to inactivity.\n. What do you mean with stopping? Animations only run when you scroll.\n. You need to write JavaScript to do this.\nExample:\nhtml\n<div id=\"heightChange\" data-0=\"height:0px;\" data-500=\"height:500px;\"></div>\nNow when you click the close button, do the following (assuming you have the skrollr instance available as s):\n``` js\ns.setScrollTop(500);\nvar el = document.getElementById('heightChange');\nel.removeAttribute('data-0');\nel.removeAttribute('data-500');\ns.refresh(el);\n``\n. Closing due to inactivity.\n. I guess you refer to one of the examples, do you? Take a look at the JavaScript code, you can't just copy this thing, because it has the same id, which is invalid, and the code only looks for one element.\n. Check out the new menu plugin https://github.com/Prinzhorn/skrollr#hash-navigation\n. It sound _way_ easier then it is. I was trying this in a separate branch, but there are too many things that need to be considered. I fear that this could cause side effects. I'll just leave it open for now, maybe I'm bored some day.\n. We will need aresetfunctionality for #186 anyway. I'll come back to this when it's done, maybedestroy` looks easier then.\n. > Should I remove my comment as it was I? Or will someone find this useful?\nDon't remove it, you never now if someone will find it useful.\nI'm a bit confused with your comments though. Did you solve your issue in the end and do you believe the skrollr.destroy method is still buggy?\n. Same comment as for #109. We need this reset functionality for #186. So just wait until it's there and maybe this issue is magically fixed.\n. There's now a reset functionality in the core. Shouldn't be too hard to fix this now. But the priority is very low (it's a rare case).\n. Thanks, I must have missed it.\n. This may help http://stackoverflow.com/questions/5198808/how-do-i-debug-internet-explorer-on-windows-phone-7\nBut I don't know if this will actually tell you JS errors. Maybe it's just a minor bug with skrollr.\n. @am11 I personally didn't test anything. I was just quoting @madebymayo \nNice to hear it's working well for you!\n. > Perhaps, if you are handling the pointer events in your (glue) code somewhere, I would suggest you to take a look at IE's new pointer API.\nThat's something I'd expect to happen in iScroll, but not in skrollr. I'm eagerly waiting for iScroll 5.\nI'm closing this for now. As Blackberry and Windows 8 Phones are working in general, there should rather be issues for specific devices/version which don't.\n. Read about relative mode: https://github.com/Prinzhorn/skrollr#relative-mode-or-viewport-mode\nAssuming your pages have IDs like page1, page2, etc. then use the following for child elements\nhtml\n<div data-bottom-top=\"transform:rotate(0deg);\" data-top-bottom=\"transform:rotate(360deg);\" data-anchor-target=\"#page1\">WEEEEE</div>\nthis will cause the element to do a barrel roll while \"page1\" is visible.\nThe key is to use data-anchor-target=\"#page1\" to react to other elements.\n. Closing this. Feel free to reopen if you weren't able to implement it.\n. It's correct that refresh needs to be called because bottom-top and top-bottom have to be recalculated. Skrollr does this on window resize automatically, so basically you don't need to do anything.\nThe problem is that you are changing the height of the element. As you said you could call refresh, but there's a much easier solution: Move the code to change the height before skrollr.init(). This way you receive the resize event before skrollr does and thus when skrollr does its magic, you already changed the height and skrollr uses the new height.\n. There's no global refresh (check the console in your browser). You need the skrollr instance.\n``` js\nvar s = skrollr.init();\n//........\ns.refresh($(\"#home-slides div\"));\n```\nNote: I've update the code to only refresh the div you actually want to refresh.\n. See #104 . It's one of the things I have on my radar.\n. Interesting, because I've never had a problem with multi-line logical expressions. Maybe it's just safari on iOS.\n. I didn't have the time to take a deep look into it, otherwise it would be fixed. My comment below skullface's mentions the exact line.\n. > without .mobile on iPhone\nWhy without?\n. @sican please test with 0.5.10 (see #104, which is fixed now)\n. I guess while fixing #80 (https://github.com/Prinzhorn/skrollr/commit/adad8fbf95b1b7c042819854ee366ca66b8c2623) I totally forgot about SVG (I will add SVG to the test suite when I fix this)\nI'm just resetting element.className instead of using the internal updateClass method, which handles SVG as well. SVG needs element.className.baseVal, which updateClass handles https://github.com/Prinzhorn/skrollr/blob/adad8fbf95b1b7c042819854ee366ca66b8c2623/src/skrollr.js#L1006\n. Please grab 0.5.8 and try again. Thanks.\n. I'm not an SVG expert, but try fill instead of background, as there's no background property in SVG http://www.w3.org/TR/SVG/styling.html#SVGStylingProperties (or stroke if that's what you need)\nIf this doesn't help, could you share some of your code? If you don't want to publish it, send it to alexander@prinzhorn.it\n. > but I'll be happy to send you the old code if it helps.\nsure\n. I guess this is for SVG only like in #116, right?\n. Please include the unminified version of skrollr (src/skrollr.js) on your page. This makes things much easier for me to debug.\n. For some reason it's using -ms instead of -moz. I was messing with the prefix detection lately, so I probably broke this.\n. Ok, the prefix detection was flawed from the beginning. But with Firefox 18 came -moz-align-items which causes ms to be detect (-moz-align-ite ms). A pair of parenthesis around the regex will fix it...\n. For the future: For debugging purposes you can hotlink https://raw.github.com/Prinzhorn/skrollr/master/src/skrollr.js , but it's served with a wrong Content-Type (text/plain) and you're gonna have a bad time in IE.\nBetter hotlink using the GitHub page (http://prinzhorn.github.com/skrollr/src/skrollr.js). The skrollr page (gh-pages branch) is a exact copy of the source (master branch). So all files and folders you find here are available under http://prinzhorn.github.com/skrollr/ as well.\n. It may have affected Safari (did you compare 0.5.8 with 0.5.9 and is it different on Safari?). I currently have neither Windows nor Max OSX (never had) available. Maybe you could debug it (if you have any experience with it?). Use the unminified skrollr source and set a breakpoint  at the end of the detectCSSPrefix function (https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L115) to inspect the value of theCSSPrefix and theDashedCSSPrefix in Safari. It should be webkit.\n. Alright then. I created a new issue especially for the prefix detection stuff. #121\n. I don't have an iOS device. I can't say much more.\nNavbar: #82 \n. Closing this after 4 month of inactivity. \nThe master branch contains 0.6-pre. Please read the changelog and test it out. If you're experiencing the same problems, open a detailed issue (the above is very unspecific).\n. Same as with #119. I can't help you because of the lack of an iOS device. Maybe someday someone with iPhone and iPad will commit some code to skrollr.\n. Closing this due to inactivity and because this may be a Safari issue with SVG.\n. I actually finally set up a Windows VM today.\nUntil I have time to take a look at it, if you want to, you could place an console.log(theCSSPrefix) here https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L138 and tell me what it detects in Safari.\nAnd maybe console.log(k + ' : ' + style[k]) inside this loop https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L124 to see what's happening.\nThanks for any help.\n. > I guess the key is that the theCSSPrefix is empty, leaving theDashedCSSPrefix to simply be --\nYeah, that's definitely the problem. But why?\nWould be great if you could post the console output and/or find out why none of k or style[k] matches /^(?:O|Moz|webkit|ms)/.\n. Do I understand this correctly that Safari doesn't supply any prefixed properties? What is the last output on the console in Safari?\nWe could try to match the -moz and -webkit as well. But would this help with the Safari problem? I mean, every other browser works just fine, why change the code?\n. The function runs exactly once and I don't think it matters at all. So performance boost is not important.\nBut if there's no way to convince Safari to cooperate, then matching the ones with dash is an option. I'll boot Windows right now and see if I get it fixed.\nThanks for the debugging you've done so far.\n. A first (undocumented) version is available for testing.\nInclude dist/skrollr.menu.min.js after the skrollr core and call skrollr.menu.init(scrollInstance) after skrollr.init() passing the return value of skrollr.init as parameter.\nNow when you click any link on the page which has a hash as href the scroll position will animate to the new position.\nHas not been tested on IE. Would be great if someone could do it as I've still not set up my VM...it should work though as event handling for old IE is included as well.\nCheck the source if you want to https://github.com/Prinzhorn/skrollr/blob/master/src/plugins/skrollr.menu.js\n. Should be enough to close this https://github.com/Prinzhorn/skrollr#hash-navigation\n. Works in Firefox and Chromium. What are you using?\nThere are already two open issues #92 and #93. Fixing the examples does not have priority as long as issues are not caused by skrollr itself.\n. First of: Thank you for taking the time and thanks for submitting a clean pull request which passes listing etc.\nBut:\nAs I said in #67 I'm not sure if I want this included. I don't see the benefits.\nI mean, require.js is twice as large as skrollr itself. And it's not like skrollr is used in big client side applications with dozens of dependencies, views, models, etc. And I don't see a use case were you want to load skrollr conditionally, either you need it or you don't.\nFeel free to argue with me.\n. You know what, looking at the source again there's actually a problem with your pull request: It will fail in IE, because the IE plugin expects a global skrollr.\n. @callmephilip Don't put too much effort into it now. I'm still not settled. \nThere's the skrollr.menu plugin and there's a skrollr.path plugin coming. Those and everything that's coming would need to be made compatible. As I'm not using amd, I don't feel like this would work well. If I advertise \"amd support\" and it breaks, that's a bad thing.\n. Sounds reasonable.\nTake a look at how to make these files compatible:\nhttps://github.com/Prinzhorn/skrollr/blob/master/src/plugins/skrollr.ie.js\nhttps://github.com/Prinzhorn/skrollr/blob/master/src/plugins/skrollr.menu.js\nNow that I look at them again, there's another problem. Take a look at https://github.com/Prinzhorn/skrollr/blob/master/src/plugins/skrollr.menu.js#L109 . The script depends on being loaded with the document. I don't think there's any way to handle this with amd.\n. > If at some point you have any interest in including this into skrollr, I'd be more than happy to put together a clean pull request.\nI haven't forgotten about this. I'm doing a lot of changes to the codebase right now, so just wait some weeks possibly months and I'll get back to you.\n. Great, thanks for taking the time!\nMaybe already create a new PR for discussion. I'm not able to add line-comments that way.\n. Closing in favor of https://github.com/Prinzhorn/skrollr/pull/409\n. Currently I only know for sure that iOS and Android have these delays as I observed them myself (on a borrowed iPad...). Someone could check Windows Phone and basically all other devices don't really matter. They can just get the normal skrollr without mobile fix.\nAt the end of the day everyone who uses skrollr has to decide what browsers they want to support and load skrollr.mobile how they think works best.\n``` js\nif( /Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera) ) {\n}\n```\nNot sure if all browsers supply navigator.userAgent, because the current detection uses navigator.vendor and window.opera as well. It won't hurt to include them as well.\n. skrollr 0.6 will have mobile support by default. The above simple regex is built in and can be configured using a new option called mobileCheck.\nClosing this as it's fixed in the experimental touch branch.\nFor future reference: https://github.com/Prinzhorn/skrollr/commit/290424c9de73dc5ff8d89a43275ea762d5525d06#L15R278\n. For some reason I only force a rerendering in one of the cases https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L271\nNeed to figure out why and change it. And put a comment on that line...\n. Grab a copy of 0.5.11\n. > And what the \"snapto feature\"? i can't find it in documentation.\nThat's no feature. It's an example I hacked together with a few lines of code, see\nhttps://github.com/Prinzhorn/skrollr/tree/master/examples\nhttp://prinzhorn.github.com/skrollr/examples/snapping_nav.html\n. > I have posted this issue on chromium bugtracker\nGreat. I guess it's not a skrollr problem then. But I'll leave this issue open until it's resolved in Chrome.\n. It's confirmed that this is a bug in Chromium. I'm closing this.\n. Thanks for taking the time. I'm gonna read the articles, but not right now.\nBut I'll answer based on your comment and the quotes\n\nI'm not sure if there is a reason that I have overlooked (I still not dived deep enough into the basics of your code) but the article strongly advises not to request an animation frame in an infinite loop but rather listen to incoming scroll events (which might impose issues on the way you're scolling mobile).\n\nMultiple things need to be considered.\n- smooth scrolling: even after the last scroll event occured, we need the animation loop to animate the transition\n- mobile: there's no scroll event. But instead we use touchmove, so this should work equally.\n- I was planning for an animate function arguing that we have the animation loop running anyway https://github.com/Prinzhorn/skrollr/issues/89\nCheck out the _render function: https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L918 we're only doing stuff when needed. So basically, the animation loop turns into a noop (almost).\nBut I'm gonna read the articles to see if there's potential for optimization.\n. > Any optimization from those articles was made?!\nNo. It looked like a Chrome bug, nothing to do for us.\n. Unfortunately I don't have a MAC, maybe someone else can help you.\nTry posting it on StackOverflow, maybe you're lucky and someone takes a look at it.\n. Are all three running the exact same version of Safari (and OSX)? Please post the version number.\n. You could try to track this down to find the root cause, which will make further investigation easier.\nFor example try removing margin:auto, maybe Safari doesn't recalculate margins fast enough when you're animating width. Is it shaking horizontally?\n. Try adding margin:auto to the keyframes. Maybe it helps, because then auto will be set every time skrollr renders and maybe Safari will update it right away.\n. Sorry for the late reply. I haven't checked the file you sent me. The page you linked worked for me in Safari in a Windows 7 VM.\n. I took what you've sent me and turned it into a minimal example.\nhttps://dl.dropbox.com/u/37892603/index.html\nCan anyone confirm that the circle is shaking or doing any other funky stuff while scrolling? Maybe someone with a mac can take a closer look.\n. > I get an random \"background\" image and the \"circle\"\nIt's just a placeholder from http://lorempixel.com/\nDid you experience any shaking? Does it look different than in Chrome or FF?\n. > No shaking, just expanding size. Same in all three browsers.\nThanks. Which iOS and Safari version did you try? Because https://twitter.com/robertklep/status/312526049093226496 and https://twitter.com/robertklep/status/312526240252833793\n. > oh i dint try iOs just mac\nMy bad, I thought OS X was called iOS as well.\n\nSorry iOS (iPad) just scrolls too but very slow and just on release.\n\nNever mind, the link doesn't include skrollr.mobile. I was only interested in Safari on desktop mac.\n. > (increasing top, margin-top or padding-top, above all).\nDid you try using translate?\n. I'm working on extracting the navigation part from the example see https://github.com/Prinzhorn/skrollr/issues/122#issuecomment-12540861\nThe current version does only work for non-fixed elements, just like the demo. It's working for any hash link included in the page.\nI want to make it possible to specify an offset using data-menu-offset=500 so you can specify the scroll offset right on the link-element like <a href=\"#section1\" data-menu-offset=\"500\">Click me</a>.\nKeep an eye on #122, not sure when I'm going to finish it.\n. Check this out https://github.com/Prinzhorn/skrollr#hash-navigation\n. Could you post an example page?\nEverything is fine in FF 18.0.2 for me.\nI thought the different methods described in the link you posted are only required when\n- old browser\n- quirks mode (invalid DOCTYPE)\nboth which I don't care about (with old I mean FF 2 or IE 6).\n. Please try with the latest 0.5.13\n. It's not that easy to implement. But #186 gave me the following idea (which requires a rewrite of this particular part)\nA new option called edgeHandling (or edgeStrategy, ideas welcome) with three possible values\n- set: When before/after the first/last keyframe, apply the styles of the first/last keyframe to the element. That's the current behavior.\n- ease: Same as set, but the values will be transformed using the given easing function. That's what this issue is about.\n- reset: When before/after the first/last keyframe, apply the styles which the element had before skrollr did anything. This means resetting the class and style attributes as well as removing all styles which have been applied to the style property.\nAdditionally to the global edgeStrategy this value can be overridden per element using data-edge-strategy.\n. As a side note (performance stuff): When an element has been handled once (e.g. before/after the first/last frame) ignore it until it enters the frames again (can be combined with skrollable-before and skrollable-after).\n. set and ease (yay for skrollr-path!) strategies are working. Now to the invisible boat mobile!\n. reset strategy is working.\n. Does it work with forceHeight: false? I guess when it's true then only the highest keyframe is taken for end calculation (which is 300). I probably need to update the logic to use max(maxKeyframe, documentHeight). Thanks for reporting.\n. > Reading your explanation I understand that I do not have enough keyframes for the height of my long pages?\nWell, not really. It is a bug in skrollr and will be fixed. Until then you can use your hack.\n. Please try with latest 0.5.13. This should have been fixed together with #131 \n. You need the same number of arguments with the same unit.\nhtml\n    <div data-100-bottom=\"transform: scale(0) skew(30deg,20deg);\"\n     data-bottom=\"transform: scale(1) skew(0deg, 0deg);\">\n. Demo please. Or at least code.\n. Two things:\n- The second gradient misses the closing parentheses\n- You have a semicolon inside the gradient declaration\n. Sorry, I though that fixed it.\nSeems like Chrome doesn't support this gradient syntax, which puzzles me a lot as Webkit is always leading with new stuff.\nIt has nothing to do with skrollr though.\nSee http://jsbin.com/adiwuf/1/edit (remove the different gradient versions and see for yourself).\nbackground: -webkit-gradient(linear, 100% 0, 0 0, color-stop(0, blue), color-stop(100, red));\nSo either find out what's the problem with chrome or try both syntax at the same time. The browsers will ignore the ones they don't know. You have to use the prefixed version for this particular syntax though.\n. We should probably discuss this in a separate issue. Feel free to open one about adding different gradient syntaxes. I don't think I'll add it for several reasons, but I'd like to have the discussion in a new issue for future reference.\n. I'm gonna close this since no one added his or her voice. Also this won't land in skrollr-core, if at all.\nIf you have or want to create something like this, then turn it into a preprocessor which goes through all data-attributes and adds the different versions. I will then link to it here https://github.com/Prinzhorn/skrollr#third-party\n. I don't think this is skrollr's fault (you could add some console.log to the setStyle method and see if skrollr is responsible).\nIt's probably a bug in Safari. Two specs are colliding here, because SVG itself doesn't have opacity as style, only as attribute/property.\nSo wrapping this with a regular DOM element is probably the way to go.\n. animateTo only operates on the top offset of the document. I don't think you can use this for your case at all.\n. > Any plans of implementing that?\nDo you need to animate the left scroll offset of the outer div? Or some style property of the outer div?\n. Well, you will have to implement this on your own. Skrollr does neither have any support for horizontal scrolling nor support for scrolling on arbitrary elements (only the document) as both of these are bad practice.\n. Please show a complete example. The syntax you used is correct, but you only showed a single keyframe, you need at least two. Taking two neighboring keyframes, the one on the left dictates the easing function that will be used for the interpolation from left to right.\nSo if you for example have data-500 an didn't specify an easing function for the top value, then it will be linear, because 500 < 1000\n. That's not a full example. It should look like\nhtml\n<div data-1800=\"top[quadratic]:750px;\" data-2512=\"top[quadratic]:575px;\" data-2950=\"top[quadratic]:400px;\"\nThe thing you now achieved with CSS transitions is not the same thing you do with skrollr's easings. Take a look at the skrollr page again and check out the blue boxes (about half way though the bottom) to see what easing does. All of the boxes have the exact same keyframes, except for the easing of the bottom property.\ne.g.\nhtml\n<div data-6500=\"left:45%;bottom[swing]:100%;\" data-9500=\"bottom:0%;\">swing</div>\n. Which iOS version?\nUnfortunately I don't have an iOS device. This does not happen on Android (and I haven't heard someone complain about it on iOS before).\nBoth iOS and Android use iScroll for mobile support. I don't know why iScroll wouldn't update the position when you keep your finger on the screen on iOS but not on Android.\nPlease try this iScroll demo and tell me if it works for you http://cubiq.org/dropbox/iscroll4/examples/simple/\nIf it does, maybe you could put this after your init() call to see if skrollr.mobile.js was included on your iOS device\njs\nalert(window.iScroll);\nit should be something other than undefined, e.g. [object Object]\n. > I have the same problem on iOS 6.1 on a the iPad. I've not had a chance to try it on an older iOS version.\nHave you tried the iScroll demo I linked to? Would be great to know. http://cubiq.org/dropbox/iscroll4/examples/simple/\n. @mobilisedonline Please make sure if the mobile version gets included. Temporarily remove the if-block and just include the skrollr.mobile.js file.\n. @johnfmorton The StackOverflow post is from 2011. Skrollr was fine until iOS 6.1, which was released some weeks ago. So I don't think this is the same issue.\n. > How about a media query to only set it for smaller screens?\nI'll answer this with another quote\n\nI narrowed the problem down to the retina iPad\n\nretina ;-)\nIf it helps I could modify the mobile script to add a skrollr-mobile class to the html element in addition to the skrollr class.\n.skrollr-mobile #skrollr-body *{-webkit-transform: translate3d(0,0,0);}\n. > If it helps I could modify the mobile script to add a skrollr-mobile class to the html element in addition to the skrollr class.\ndone. bd0088c7ac71e1a869cbc227a876594e95cc4372\n. > Just to add to this issue with iOS, the whole thing is Safari doesn't process the scroll effects until you release your fingers from it, or you stop moving. I've found this very illustrative presentation http://t.co/HoqijdRm by Mark Dalgleish to be a perfect explanation of the matter. \nSorry, but it's not. We are not using native scrolling and skrollr does not use the scroll event.\nNow that I've gone though the whole presentation, the workaround is exactly what skrollr does. Could as well be a presentation made by me.\nEdit: It's basically an illustration of this section https://github.com/Prinzhorn/skrollr/#mobile-support\n. > I know mate. I was just pointing out why so people would know why it is done this way, and how you worked out a solution for native scroll on iOS devices .. sorry if it wasn't all that clear.\nI see. I should link the presentation in the mobile section. Thanks.\n\nKudos to your work on this excellent plugin!\n\nThanks!\n. > Skrollr uses requestAnimationFrame for the update loop. I found that under moderate load mobile safari heavily throttles requestAnimationFrame, making skrollr very unresponsive. Replacing it with simple setTimeout solved this issue for me.\nThank you very much. I didn't had that in mind because I thought iOS didn't implement requestAnimationFrame. But it does since iOS 6 (http://caniuse.com/#search=requestanimationframe).\nNow the question is, should skrollr always use setTimeout on mobile.\n. > I'm not 100% what other implications this has, what are your thoughts on this?\nThis shouldn't be a problem at all. Check this out: http://caniuse.com/#search=requestanimationframe\nHere's what the next release will probably do (the Dropbox link you tried) https://github.com/Prinzhorn/skrollr/blob/touch/src/skrollr.js#L144\n. 0.6 will always use setTimeout on mobile since almost no mobile browser supports it and those who do have serious performance implications.\n. The master branch contains 0.6-pre. Please read the changelog and test it out. If you're experiencing the same problems, reopen this issue.\n. The cause is simple. You click on the link, the browser calculates where the anchor is and scrolls to this position. But while the browser jumped there, you changed the top value of the element and thus you end up at some wrong position.\nBut there's hope. There's this issue #122. The current \"version\" of this plugin won't help you, but future version will. In your case you will be able to do this (or similar)\n<a href=\"#nav_block\" data-nav-target=\"500\">click me</a>\nAnd get a nice transition for free.\nI can't promise anything though (like a date or timeframe).\n. Check out https://github.com/Prinzhorn/skrollr#hash-navigation . Should be working for you now.\nhtml\n<a href=\"#nav_block\" data-menu-top=\"500\">click me</a>\n. Update to 0.5.14, you are using 0.5.6\n. You're welcome\n. As I wrote in my e-mail, the #skrollr-body element was not the first child of the body.\nNow that you changed this, does it work any better?\n. Any news?\nYou could try the experimental 0.6 version https://dl.dropbox.com/u/37892603/skrollr/index.html https://dl.dropbox.com/u/37892603/skrollr/dist/skrollr.min.js (no more .mobile file needed)\n. I'm closing this. If you're still experiencing this with the latest release (0.6.x), then open a new issue.\n. Thanks. I've never used Rails but it may be useful to others.\n. Done using grunt 0.4 #144 \n. Your code works for me (I added some CSS to position the div fixed as you haven't posted your CSS).\nAnd please post actual code next time. Like this (read the markdown documentation if you don't know how)\n<div style='width:25%' data-0='left:100%;background-color:rgb(0,0,255);' data-800='left:0%;background-color:rgb(255,0,0);'>WOOOT</div>\nPlease share a minimal example (a complete HTML file and all your CSS) and describe what you want to achieve and what your problem is.\nA final note: skrollr is made for people who are familiar with HTML and especially CSS. There's no magic, you need to know CSS to get things done.\n. > Prinzhorn - I found out the reason why the the skrollr wasnt working. Something in code whether yours or something else was causing the css position to be rendered as absolute. I never saw this and it didnt show up on the Chrome Inspection. \nI'm closing this then.\n. > Can constants be updated now?\nNo, that's not implement right now. I was just going through the issues just now and thought about what's important. Unfortunately, this issue is not. On the other hand it's probably not that much code to write oO....\n. Sure, I know there are use cases for it ;-)\nI just opened another issue you may want to comment on https://github.com/Prinzhorn/skrollr/issues/185\n. I just ate my own dog food and noticed that it would make sense to allow constants to be functions as well. They would be evaluated when the window size changes or when refresh is called\n. You can now use functions as constants which serve the same purpose. If you need to refresh the constant independent of the window resize call refresh which will re-evaluate the functions.\n. This has nothing to do with skrollr and is a simple CSS problem.\nIs this what you want? http://jsbin.com/awepug/1/edit\n. I see, that's tricky. I guess your best bet is to wait for https://github.com/Prinzhorn/skrollr/issues/69#issuecomment-9061662 to be implemented.\n. I'm closing this as there's nothing more to do. #69 is not implemented, but it will (at some point).\n. Makes sense. I'll take a look at it when I got time to.\n. > First, I would like to thank you for this truly amazing library. Great work and thank you for sharing!\nThanks, and you're welcome!\nI just wanted to let you know that I'm busy at the moment, but I'll take a look at it in the next few days.\n. Great! Good thing I haven't spent any time on it yet ;-)\n. >  I had some JS that was changing the height of certain divs on load and resize. That was happening after skrollr calculated all the values used for relative positioning to work.\nTry binding your resize handler before calling init. This way you don't need to call refresh manually (skrollr listens to resize already).\n. If that's true, then there's something else wrong. There should probably just be another _trim call at the right spot.\nYour fix won't get pulled, because it's modifying _trim in a way that it's no longer just trimming a string. If I later need a trimming functionality I can't rely on it, because it's changing contents of the string which are neither at the start nor the end.\n. I'm still thinking about why your fix is needed. I mean removing the double spaces is fine, but why do they even occur in first place?\nI changed the trim implementation https://github.com/Prinzhorn/skrollr/commit/6e4aa40fe4a6e0c7d31d7ff10d0fabf3ed287dbf\nNow where do these spaces get added? When adding a class, all we do is adding a space followed by the class. And if we remove classes, we are only introducing new whitespace at the left or right of the string, but not in the center.\n. Closing due to inactivity. Feel free to reopen.\n. Call init when the images have loaded or add dimensions (width + height attribute) to all .reference-image, because when they load, they move everything down.\n. Unfortunately the links above are now 404 and I can't debug this any further. If this is still an issue, someone should open a new issue with a proper test case.\n. It has to do with the slider. Wait for the content to change, then jump to the bottom. The gap is inverse proportional to the height of the current slider content.\nIf the slider content is too small, then data-2000 of your map is actually more then the page height and skrollr adds this space to ensure you can scroll down enough.\nYou should probably use relative mode on your map and call refresh on it every time the slider has changed.\nE.g. (pseudo code)\nhtml\n<div id=\"map\" data-bottom-top=\"transform: scale(0, 0);opacity:0;\" data-bottom=\"transform: scale(1, 1);opacity:1;\"></div>\njs\nfunction onSliderHasChanged() {\n    skrollrInstance.refresh(document.getElementById('map'));\n}\n. @iblend Visiting your page again, it seems like the gap is gone. Closing this. Feel free to reopen.\n. > Can you tell me how to fix my footer exactly to the bottom of the page. This is my link\nI don't have time to debug your page. Did you try without forceHeight?\n. You've since removed skrollr from the website.\n. https://github.com/Prinzhorn/skrollr/commit/37ca78250c9ed2e6d7e6a87780563029d8a2814a\n. Seems like a timing issue. Try calling skrollr.init after the window has been loaded. Or if it's just the shark that's causing the issues, then just to the following.\n``` js\n//Your current code\nvar skrollrInstance = skrollr.init({forceHeight: false});\n//(since you already have jQuery included)\n$(window).on('load', function() {\n    //Recalculate the relative anchors of the #sharky element.\n    skrollrInstance.refresh($('#sharky'));\n});\n```\n. Quoting your source\n\n!--Don't place ANYTHING before #skrollr-body--\n. Thanks!\nWould it be possible to git tag the versions also?\n\nSure. Remind me if I forget it (starting with 0.5.15)\n. > You can pull it manually by adding my repo and doing a pull --tags.\nNow you can.\n. Please add a jsperf for reference.\nI agree with introducing length-variables. But at the same time you're moving the counter initialization away from the loop. I mean, there's a special place for initialization in the head of the loop, why not use it for better readability?\n. Well, this is awkward :-D \nThere's basically no difference (at least for my OS/Browser). And scrolling through the other graphs the difference is very small. I'd probably go for readability and simplicity.\n\nAs for the variables, personally I would put them right above the for-loop. However, I didn't to match your coding style.\n\nMaybe we're talking about different things. What I meant was the counter = 0; inside the loop heads and not the var counter; before the loop (which can be moved to the top of the scope).\n. > You mean: [...] Correct?\nNo. I mean\n``` js\nelementIndex = 0;\n// Stuff....\nfor(; elementIndex < elementsLength; elementIndex++) {}\n```\nvs\njs\nfor(elementIndex = 0; elementIndex < elementsLength; elementIndex++) {}\nEdit: Now that I think about it,  elementIndex and elementsLength either both need to be inside or outside of the head of the loop.\n. I went through all changes and agree. Just one thing (I comment on a specific line).\n. > This git diff is hard to read, my apologies.\nNo problem, I just use meld locally.\n. I can't help you much here. Would be great if you'd find out.\nMaybe create a small demo so others can play with it.\n. Does this appear with this version (skrollr 0.6 preview) as well? https://dl.dropbox.com/u/37892603/skrollr/index.html (grab the source here https://dl.dropbox.com/u/37892603/skrollr/dist/skrollr.min.js , no need for a mobile file anymore)\n. > yes, it worked!\nI hope you refer to 0.6? It's not usable for production right now, because momentum isn't implemented correctly, but it would be great if it kind of works already.\n. The master branch contains 0.6-pre. Please read the changelog and test it out. If you're experiencing the same problems, reopen this issue with more details. Thanks!\n. The elements are positioned statically (position:static;). top, right, bottom and left are ignored then. skrollr doesn't do any magic, you need to understand CSS first.\n. > the snappping feature\nFirst off, it's not a feature. There's not a single mention in the documentation. It's just an example I hacked together in an hour.\nTake a look at the example code. You probably need to update the offset for this specific slide. Search the code for relativeToAbsolute and see if you can subtract the right number of pixels from the offset of this particular slide.\n. The snapping example is no longer listed.\n. I'm not a fan of this idea. This would require a new logic, because the style of pseudo elements can't be set using the style property. Additionally I don't think this is a good idea at all. Just use the render event and update the contents yourself. You example doesn't need any interpolation, so there's no magic involved.\n. thanks @karbassi ;-)\nTwo small changes (they're really not big and help karbassi get more familiar with the skrollr code) and a note:\nchange 1: The check at the beginning of renderHandler is not necessary, as skrollr only calls render when this condition is false (https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L817)\nchange 2: if (data.curTop < data.lastTop) { can be written as if (data.direction === 'up') { (https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L819). Oh well, just saw you already used this below.\nnote: Your callbacks are now called up to 60 times per second. You may optimize this and only call them when the offset reached one of the sections for the first time.\n. Check out this line and see if it helps https://github.com/Prinzhorn/skrollr/blob/master/src/mobile/skrollr.mobile.js#L35\n. Sorry for not answering at all. I don't own an iOS device.\nSo you're saying the official demo is not animating at all? Could you please compare with https://dl.dropbox.com/u/37892603/skrollr/index.html ? thanks.\n. > I've just tested skrollr on an ipad 2 with IOS 6.1.3 and it works fine\nThanks! Did you test the link I've posted above as well?\n. > Just tested it now, that one works fine too\nGreat\n. The master branch contains 0.6-pre. Please read the changelog and test it out. If you're experiencing the same problems, reopen this issue.\n. Please share a full example. I don't quite understand,\n\nLets say I have document 2000px in height and scrollable div 4000px in height.\n\nThis does not make sense to me. When the div is 4000px high, the document will automatically be at least 4000px as well, since it's a child.\n. I guess your current solution is best for now.\nIn the future this may be possible using something like this https://github.com/Prinzhorn/skrollr/issues/69#issuecomment-9061662\n. Please try some of the iScroll examples and check if it happens there as well.\nhttp://cubiq.org/iscroll-4\nhttp://cubiq.org/dropbox/iscroll4/examples/simple/\nIf it does, then it's not a skrollr issue.\n. > So I think there's something in there that is causing the issue, or it's conflicting with something else.\niScroll makes up 99% of skrollr.mobile. That's why I asked.\nI don't have an iOS device.\n. Could you please check the address bar behavior here https://dl.dropbox.com/u/37892603/skrollr/index.html ? Thanks.\n. Hm...if you search the web you'll find that it's actually very hard to show/hide the address bar on iOS, let alone across platforms. Even simply hiding it, without ever showing it again is non trivial https://github.com/scottjehl/Hide-Address-Bar/blob/master/hide-address-bar.js\n. I don't have a device to test on. But maybe it works if I check if we are at the very top and then don't call preventDefault and maybe it will come back. Let's just keep this issue open until I figure this out.\n. Closing this as skrollr can't do much about it and there's the workaround @sunygao suggested.\n. Sorry I don't really understand. There's no question or a full example of what's wrong.\n. > you have to go from bottom to bottom or top to top\nExactly. This isn't different with any other animation framework.\nFrom the top of my head, try something like this (I did not try it)\nhtml\n<nav\n    data-0=\"position:absolute;top:auto;bottom:!0;\"\n    data-top=\"position:fixed;top:!0;bottom:auto;\">\nEdit: Note that you need to set the initial style via CSS (the nav needs to be at the bottom even without skrollr initialized) to get the calculations right.\nFor reference\nhttps://github.com/Prinzhorn/skrollr#filling-missing-values\nhttps://github.com/Prinzhorn/skrollr#preventing-interpolation\n. It didn't get any better by removing iScroll and implementing it on my own. I'll do some investigation before skrollr 0.6 is released.\n. Note to self: Funnily enough swipe.js does work. It is possible. Yes we can.\n. > Note to self: Funnily enough swipe.js does work. It is possible. Yes we can.\nAlright. Other examples using relative mode (e.g. anchors.html) are working well. Not sure what's causing this though.\n. WOW. I need to quit for now. I just don't get it.\nI open the page: I can scroll and everything animates while my finger is down.\nI close and reopen the Android browser: It doesn't work while finger on screen.\n\n. urgh, I'm back at it. This is the last 0.6 issue.\n. iScroll apparently has the same issue...doesn't scroll while finger is on screen.\n. after a chat with cubiq, he found the solution. don't preventDefault the touchstart event\n. Have you seen this https://github.com/Prinzhorn/skrollr#hash-navigation?\nDoes it help? If not, I probably missunderstood what you want.\n. > Any ideas are appreciated.\nPlease share code. I'm not sure I understand what you want.\n. Your selector is wrong. You are selecting an element with the ID membership, but that's no the link you want.\nTry this\n``` js\njQuery('[href=#membership]').attr( 'data-menu-top', '500' );\njQuery('[href=#upcoming_events]').attr( 'data-menu-top', '1500' );\n//and so on\n```\nEdit: To place HTML, open a block using three back ticks followed by html and close it with three back ticks. Same for JavaScript but with js. E.g.\n\n```html\nYour html\n```\n\nResult:\nhtml\n<ul>\n    <li></li>\n</ul>\n. I was just about to edit the code. Maybe the wordpress links contain something in front of the hash. Try this (note the dollar)\njs\njQuery('[href$=#membership]').attr( 'data-menu-top', '500' );\nBut if you say it works in the console, then this is probably not the case.\n. Well, one of the scripts has a syntax error.\nI'm closing this, as this issue has nothing to do with skrollr itself.\nIn the future you should ask questions on http://www.StackOverflow.com  That's the right place for them.\n. There are only beforerender and render callbacks https://github.com/Prinzhorn/skrollr#beforerender\njs\nskrollr.init({\n    render: function(data) {\n        console.log(data.curTop);\n    }\n});\nBut I guess that's not the progress you're looking for, right?\n. > In your opinion, would there be any big reason one couldn't/shouldn't add a callback for that?\nPerformance. 60 callbacks per second per element.\nAnd you can easily do this on your own. I mean, render gives you the scroll position. And you know which keyframes you added to an element. Just calculate the progress.\n. There's this rule\ncss\n* {\n    transform-origin: 0 0 0;\n}\nhttps://github.com/jaukia/zoomooz/blob/master/src/js/jquery.zoomooz-core.js#L163\n. Well, there are huge keyframes, e.g. data-88500.\n. Great. I'm closing this then.\nMy comment above was wrong by the way. But let's just forget about it as well ;-)\n. Before I spend time debugging, could you please share your code in order to make sure there's nothing wrong with it?\n. That's what iScroll already does.\n. Some more notes for me:\n- Listen to touch events on the document only\n- When a tap (a touchend were the distance is very short) is registered, use getElementFromPoint and trigger a click/touch on it. This will keep links and form elements working\n- Move the #skrollr-body element using CSS transforms and transitions. Elements may be places outside skrollr-body in order to use position:fixed\n- If no #skrollr-body is present, skrollr will just virtually scroll. The internal scroll offset changes but nothing moves. Pages like the skrollr demo will still work as they use fixed positioning exclusively.\n- Don't add a scrollbar. This can easily be done using a skrollable if you wanted\n- Only one file. Use grunt+uglify to produce a skrollr or skrollr.desktop file. The skrollr file itself will support mobile by default.\n. Boy. After like 6 hours of hacking I'm basically done. The skrollr demo itself works great so far. And it's not that much code, so maybe there won't be two skrollr files.\nJust one thing left, then there will be a first public demo: Momentum isn't quite correct yet. I was just throwing some animation in there to see if it works. Should be more like native.\n. I pushed first changes yesterday. Momentum is still just a dummy-implementation. But if momentum is implemented, it's basically done. Needs to be tested on several devices though.\nThe whole \"include mobile into the core\" costs about 1k bytes. I think that sounds fair.\n. I finished the momentum implementation. It feels basically like the iScroll version.\nOne thing that I still want to add is using multiple datapoints for speed calculation. If you move your finger at a constant speed, but then lift it up and give the page a \"kick\", only the last two touch events are taken into consideration, which will result in a too fast movement.\nhttps://github.com/zynga/scroller is doing the following: They keep a list of all datapoints and once you lift your finger, they take the touches from the last 100ms and use them for speed calculation, resulting in better ux. I want to implement something similar.\n. Closing this now. The momentum implementation is fine for a 0.6 release and may be tuned in 0.6.x.\n. This shouldn't be in the core. It can easily done with external code.\n. > Anyone have any ideas on how this can be done?\nYou're talking about horizontal and width. I'm not sure if skrollr can help you there at all. We're just talking about percentages of the height.\n. @zeorin thanks. I'm gonna add this soon, now that 0.6 is out I'll focus on features.\n. Done https://github.com/Prinzhorn/skrollr#percentage-offsets\nIt was not as easy as described above by @zeorin or as the pr by @endorama suggested. Since the viewport size can change, it has to react to changes. Also it has to work with relative mode as describe in my initial post.\nHave fun!\n. @gregbenner  thanks for feedback!\n. Related: https://github.com/Prinzhorn/skrollr/issues/45 What you want though should a bit be easier, because setting it is something different than interpolating to the value.\nBut still this won't be easy to implement. The rendering system currently relies on the fact that all values are present.\nNow that I think about it, do you really want the element to jump at that point? Won't this look bad?\n. I can help you there ;-)\n``` css\nyourElement.unrendered {\n/*Add prefixes*/\ntransform:none !important;\n\n}\n```\nEdit: But I see that there's a need. I could imagine a new option which could be enabled, causing skrollr to reset the element before/after the first/last frame. The current (then default) behaviour is to apply the styles of the first/last frame. Related as well: #132 (just for me as a reminder)\n. >  I believe that it toggles the class when it's interpolating, between the two value points, right?\nNo. unrendered is before the first and after the last keyframe. Exactly what you want.\n\nSide note: maybe I should open a new issue for this\n\n99\n. I've written this down here: https://github.com/Prinzhorn/skrollr/issues/132#issuecomment-15965603 (what you want is reset)\nThis will be part of skrollr 0.6, because it's a breaking change and it's needed for https://github.com/Prinzhorn/skrollr-path to work correctly.\n. It's implemented in skrollr 0.6 which will be released soon. Check out the milestone for 0.6 https://github.com/Prinzhorn/skrollr/issues?milestone=3&state=open\nGiven your original example, in 0.6 you can just do this\nhtml\n<div data-200-bottom=\"height: 300px\" data-0-bottom=\"height: 600px\" data-edge-strategy=\"reset\"></div>\n. Yeah, that part wasn't finished 100%. Looking at https://github.com/Prinzhorn/skrollr/blob/master/src/plugins/skrollr.menu.js#L109 your fix won't work. And it needs to work for mobile as well, that's why we can't rely on native anchor jumping.\nI'll fix this. But not in the very near future.\n. Related #188 \n. Is this really needed? The native anchor jumping doesn't have this. And if you wanted an offset, just put a padding on the element or use an empty element and put it were you want it.\nThis being said, I'd rather use the same attribute and prefix the value with + or - to indicate a relative offset. How's that?\n. Don't you think the attribute should be on the target element? This way all links with this target will work out of the box without the need to change the links all the time. And I'd call it data-menu-offset to keep it consistent with data-menu-top, especially the data-menu- part.\nIf your current solution works for you locally, I'd leave this open for now. Because right now there's 0.6 ( #190 ) on my schedule and improvements of the menu plugin are scheduled for 0.6.x.\n. > but it might be a little disconnected when reading the html.\nWell, you can use this argument on both sides. When reading the link, I know that there's an offset. But without looking at the element, this offset is worthless (offset to what?).\nOn the other hand, when I look at the link I know which element it targets. And the offset (if specified on the element) is more like a fine grained specification of how I want this particular element to be scrolled to.\ndata-menu-top on the other hand doesn't even require the target element to exist, and thus must be specified on link-level.\n. >  Also added hash navigation using push state. I needed to be able to allow people to index into the page, and or hit refresh, and have skrollr play out. Not sure if it's useful to you or not\nI was planning to do exactly this. But if you're using pushState instead of replaceState, you need to handle onpopstate as well. And then you need a logic to handle a hash without a click (the same logic is needed on page load). It should search for the matching link and trigger a click on it. I'd just use querySelector('a[href^=\"#\"' + hash + ']').\n. In the meantime skrollr-menu has it's own repo.\ndata-menu-offset has been there for a while: https://github.com/Prinzhorn/skrollr-menu#offsets\nAnd I added history support just now (hashchange and back-button)\nhttps://github.com/Prinzhorn/skrollr-menu/issues/3\nhttps://github.com/Prinzhorn/skrollr-menu/commit/ebb39bbaacdd6024126011832499e499cf5b706e\n. A function can be passed as option.\n. For now I'd like to not have pull requests in the touch branch. So many things are changing locally that I can't pull them anyway. Please put line comments on the commits instead, thanks.\n. @mattpass Thanks! So except for the last point this is all due to missing/wrong momentum implementation (https://github.com/Prinzhorn/skrollr/issues/182#issuecomment-15977871), right?\n\nA single flick can get you to top or bottom on old version, can't on new version (see prev point)\n\nIsn't it the other way?\n\nSlight delay before scroll on new version\n\nCould you be more specific?\nWhy browsers did you test on btw? It's working good for me except for default Android browser, but the iScroll version didn't either.\n. > New version doesn't have that and so you've no chance of reaching top/bottom from opposite end with a single flick.\nThis does not work for me with the old version. But now that I know about it, I can implement it (should be easy as cake). I'm owning my S2 for about 10 months now and had no idea that there's a flick motion to get to top/bottom...\n\nFunnily enough I got the best UX from the default Android browser, Chrome is near unusable with both versions? :-/\n\nUh...btw I'm on 4.1.2\nI'll reply as soon as momentum is implemented. Hopefully things will get better then ;-)\n. > You can 'flick' the screen for faster/more scrolling (not specifically to get to top/bottom). Scrolling speed & post flick momemtum seems roughly based on how many pixels your finger travels over time. So 100px over 0.1s is gonna give fast momentum scroll and say 400px over 1s would be slow momentum scroll.\nI see. This will all be part of the momentum implementation.\nTry this demo page https://dl.dropbox.com/u/37892603/skrollr/examples/anchors.html The colors of the boxes change perfectly while moving around. Even if the finger is on screen.\n\nI'm on holiday with only my phone\n\nI bet that sounds weirder than you intended to.\n\nso lemme know if/when you want me to test again. :)\n\nI didn't even plan to do any skrollr coding today, but haven't done anything else yet..not sure if there's much more coming today.\n. I've found the cause for the delay and had to kick myself. https://twitter.com/Prinzhorn/status/321533346322735104\nSmooth scrolling was enabled all the time and is still for 0.5.14. It creates smoother transitions on desktop but introduces a 250ms delay on mobile.....not sure how it interfered with iScroll, but in 0.6-pre it was definitely part of the problem. I'm still investigating.\nBut momentum is doing well. Just some finishing touches for the first version.\n. 0.6 is out.\nYou can see it in action http://prinzhorn.github.io/skrollr/\n. That doesn't nail it. If the user stops scrolling I'd say the elements are not animating at the moment. And skrollr does apply styles to the element even before/after the last/first keyframe. Read https://github.com/Prinzhorn/skrollr/issues/132#issuecomment-15965603 for more details.\n. They're now named skrollable-before, skrollable-after and skrollable-between. 0.6 is close.\n. Related: #99 \nUntil I implement some sort of waypoint plugin, you can easily get around this like this\n``` js\nskrollr.init({\n    render: function(data) {\n        if(data.curTop >= 0 && data.curTop <= 500) {\n            var p = data.curTop / 500;\n        //p is the percentage in the range [0, 1]\n    }\n}\n\n});\n```\nThis code is untested, but gives you the idea\n. Keeping this open until I added something like this\n. I added an experimental \"keyframe\" event https://github.com/Prinzhorn/skrollr#keyframe\nIt's not exactly what you where asking for, but I'm closing this since you can still use the code I posted above.\n. > would be cool to have..\nSure, it just doesn't work in IE, as I wrote in the docs\n\nOriginally I wanted to emit the events right on the element, so you could do this\n//Wouldn't this be nice?\ndocument.querySelector('#foo').addEventListener('skrollr.dataTopBottom.up', function() {\n    //#foo just passed the data-top-bottom keyframe while scrolling up\n}, false)\nbut IE.\n. Those stackoverflow posts are about receiving standard events. The problem lies in triggering custom events on DOM level. Which simply does not exist in IE.\n. If you are already using jQuery, then you can easily proxy the keyframes event from skrollr to the element\n\n``` js\nskrollr.init({\n    keyframe: function(element, name, direction) {\n        $(element).trigger(name, [direction]);\n    }\n});\n//....later...\n$('.some-stuff').on('data500', function(e, direction) {\n    console.log(direction);\n});\n```\n. I know this post as well. If you read through it, you'll see that it does still not actually trigger the even so everyone can listen for it. You can only listen for it using a specially crafted listener method.\nThat's what jQuery does. You can .trigger whatever you want, but attachEvent will never get it. You can only listen for it using jQuery itself, because it handles a list of callbacks internally.\n. > Can we do\nno\n. This can all be done with a bit of JavaScript, see https://github.com/Prinzhorn/skrollr#beforerender\n``` js\nvar timer;\nskrollr.init({\n    beforerender: function(data) {\n        clearTimeout(timer);\n    if(data.direction === 'up') {\n        //Do stuff when moving up\n    } else {\n        //Do stuff when moving down\n    }\n\n    timer = setTimeout(function() {\n        //The user hasn't scrolled for 1 second.\n    }, 1000);\n}\n\n});\n```\nFor these kind of questions I recommend http://stackoverflow.com/ \n. > Wonderful, tested and works. Thanks a lot. I'll move towards stackoverflow for further questions, if not directly related to skrollr \"issues\"\n:thumbsup: \n. Check this out https://github.com/Prinzhorn/skrollr#refreshelements\n. Please confirm that you can pass a jQuery object as well\ns.refresh($('section-className'));\nthanks\n. > I confirm that passing a jQuery object works fine too !\nThanks!\n. Please create an example page. I guess it's interfering with your CSS, possibly an !important rule.\n. Moved https://github.com/Prinzhorn/skrollr-menu/issues/6\n. That's the way the web works. The HTML is parsed from top to bottom and scripts are executed in the same order. While the skrollr file is still downloading, the SVG is already rendered. This is not skrollr specific.\nUse the style attribute to apply initial styles.\n. The IE plugin does this already https://github.com/Prinzhorn/skrollr#files-you-should-know-about https://github.com/Prinzhorn/skrollr/blob/master/dist/skrollr.ie.min.js\n. You don't need to use anything like alpha(opacity=100);. Remove these to begin with.\nI'll see if I can get a Windows VM running today (http://www.modern.ie/en-us/virtualization-tools).\nDoes the first box in the skrollr demo work for you (opacity) in IE? http://prinzhorn.github.io/skrollr/\n. > Fixed my issue, had to change to a document.write inside the conditional comment.\nThat's odd.\n\nYou are initializing Skrollr after the conditional IE comment at the bottom of http://prinzhorn.github.io/skrollr/. Is that my problem?\n\nIt shouldn't make any difference. As soon as the IE plugin is included, it overrides the skrollr methods.\n. Good catch! This is a regression (worked in 0.5, see https://github.com/Prinzhorn/skrollr/blame/master/src/skrollr.js#L1190 and https://github.com/Prinzhorn/skrollr/commit/290424c9de73dc5ff8d89a43275ea762d5525d06#L15L1034)\nI'll change that right away.\n. https://github.com/Prinzhorn/skrollr/commit/d6e294185be655213b4619458d61c849d9a251cf\n@navgarcha grab 0.6.6 and please report if it's working (I don't have a working Windows VM running)\n. Are you also including https://github.com/Prinzhorn/skrollr-ie ?\n. Nope. Instead this should be integrated into the event system https://github.com/Prinzhorn/skrollr/issues/310\n. Related: https://github.com/Prinzhorn/skrollr/issues/109\nWhat's currently happening when you leave the page?\nDepending on what you want to achieve, you could just return false inside the beforerender event.\n. I think I'll add a pause and unpause method to stop the render loop. But it doesn't have high priority.\n. It depends entirely on what you're doing (I need to see example code). Do you experience unexpected behavior?\n. Instead of calling refresh after the first element slided up, there are two other options:\nAdd the 166px to the anchor position of the second element, or let both elements be expanded on page load and shrink them after calling .init (this way skrollr does the calculations when both are expanded)\nEdit: The second option is probably not a good idea. If you resize the browser skrollr will recalculate them again.\n. Closing due to inactivity.\n. This should be a plugin as well.\n. I didn't. I'm not even sure what's the best way.\n. Thanks for sharing. I guess the plugin could monkey-patch the setStyle function as well. At least it would be an easy way of doing it.\n. No progress so far.\n\ni'd like to animate a svg polygon clipppath inside a inline svg and this seems to be the way to go.\n\nCould you post an example so I understand how it's going to look?\n. If animating attributes would be implemented, this shouldn't be a problem. Skrollr's parser wouldn't complain and just interpolate the sh*** out of each number.\nWould you be happy with the following syntax?\nhtml\n<polygon\n    points='426,720   -200,720   -200,0   955,0'\n    data-0=\"@points:426,720   -200,720   -200,0   955,0\"\n    data-500=\"@points:380,720   -200,720   -200,0   1302,0\"></polygon>\n. Please play around with the attr branch https://github.com/Prinzhorn/skrollr/blob/attr/src/skrollr.js\nI'm not sure when I'll be able to finish this. I'm launching an Android+iOS app this week after months of work. So I just hacked this together so you have at least something.\n. > What kind of app did you develop and when can i buy it?\nIt's free. Also it's Location based and we launch in Mainz this week (more cities to come). May take some time until we're in Leipzig though ;-). http://www.locallico.de/\n. > I'm looking for something similar\nI don't think so. Please create another issue. What you want is much more complex and crazy. You don't want to animate the attribute itself but have a function executed and assign the result.\n. could you take a screenshot with Firebug open? Not sure where this happens and I don't have time to find the right scroll position.\n. I'm investigating.\nThe numbers are NaN, because I'm dividing 0 by 0 in this line https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L950\nI'm trying to find out why.\n. Both anchors are set to the same position, because init is called before #split has a height.\nI'm checking why refresh does not do what's it's supposed to do.\n. DOH!\nYou're using anchor-target not data-anchor-target. That's why relative mode is calculated on the polygon itself, which doesn't seem to have a height in Firefox...\nFor future problems please open a new issue. We should keep this one for the original context.\n. I have no idea why I forgot about this...I merged the branch locally and plan to release this on easter with other stuff\n. First you need to specify what mobile means for you. You could check the user agent and only call init on desktop.\n. Closing due to inactivity.\n. > How would one call init on desktop only?\n\nFirst you need to specify what mobile means for you. You could check the user agent and only call init on desktop.\n\njs\nif(someCondition) {\n    skrollr.init();\n}\ne.g. https://github.com/Prinzhorn/skrollr/issues/256#issuecomment-20229371\n. Unfortunately I don't think that's something we can support.\n. Thanks. I'll add it soon.\n. The menu plugin now has it's own repo https://github.com/Prinzhorn/skrollr-menu\nBut I added a fix for the missing href attribute https://github.com/Prinzhorn/skrollr-menu/commit/d53dfba350e8e5b8e0dd7cf904ee3e00e154eb81\n. Please share a link. I can't magically guess what's wrong with your setup.\nBut if I'd need to take a guess, then there's no #skrollr-body element or it's not the very first child of the body element.\n. Didn't meant to close this\n. Hm, I can't help you much. It's working fine when testing in Chrome on Desktop (iPhone user agent and \"emulate touch events\"). That means that everything is included correctly.\nThe only advice I have is to clear the cache of Safari. Maybe you're looking at an older version you trying before.\n. I'm closing this as it's probably not an issue with skrollr itself.\nBut I let you know that I'm still working on skrollr 0.6, which improves mobile.\n. > Using s.resize('class') haven't any affect.\nWhat's resize and 'class'? Maybe you mean s.refresh().\n\nSo to get correct animation position, i must use jquery\n\nA simple polyfill for the DOMContentLoaded event will do as well. Or even window.onload = ...\n\nIt's that normal ?\n\nIt depends. For example when your page has images which affect page size/document flow and you didn't specify width and height attributes, then you are calling init before these page has it's final form.\n. Did you figure this out? Can I close this issue?\n. I just faced the same problem actually. It was because I was using an img as anchor-target for relative mode.\nI'm now calling init like before, but refresh on window load.\nLike this\n``` js\nvar s = skrollr.init({forceHeight: false});\nwindow.addEventListener('load', function() {\n    s.refresh()\n}, false);\n```\n. > Is it a bug known from you ?\nIs what a known bug? Please explain the expected behavior and what you encountered.\n. This is not a skrollr issue. Just a CSS problems on your side. For me it's looking the same in FF and Chrome.\nThe following is missing (I guess Safari defaults left to 0 and others to auto)\n``` css\ncontainer {\nleft:0;\n\n}\n```\n. In which browsers does this happen? With flickering you mean it's like disappearing (white) for a short time?\nI never experienced this myself, but I haven't worked with video.\nOne optimization tip would be to hide the video when it's not needed. No one views it when it's outside the viewport or just slightly inside.\n. Does translateZ(0) on the sections help? This already solved many rendering issues in webkit browsers.\n. > If your Pages site was previously served from a username.github.com domain, all traffic will be redirected to the new username.github.io location indefinitely, so you won't have to change any links.\nI will update them though. But for now I won't touch the README until the release of 0.6\n\nThe current example links are timing out most of the time\n\nThis is probably a temporary issue and nothing to expect in general.\n. There's no \"snapping feature\". The example will be removed in the next release. If you want to create a snapping mechanism you need to write the code yourself (you can get inspiration from my example code of course). But I think horizontal will be much harder, because you can't just use relativeToAbsolute and animateTo.\n. Did you place the init call in the <head> without waiting for the DOM to be ready? Either include it at the end of the page or use something like DOMContentLoaded event.\n. Great!\n. Could you add a screenshot of what looks wrong? I'm busy right now and can't do a lot of debugging.\n. closing due to inactivity.\n. Regression caused by https://github.com/Prinzhorn/skrollr/issues/216\n. Why would you want to instances?\n. > Is there anything I can do to make this pull request more amenable?\nFirst of all this pull request mixes multiple features. This makes it hard to go through the code for each separate feature.\nSecond I don't plan to readd iScroll. And your use case for multiple instances is very rare and I don't think it's worth the effort to put this into the core.\n. I'm closing this as per comment above.\n. Please use the unminified version to get a more helpful error message.\nMy Windows VM just expired and I don't have time right now to set up a new one from http://www.modern.ie/en-us/virtualization-tools\n. Thanks!\nIt was actually set to an empty string in 0.4.11 (https://github.com/Prinzhorn/skrollr/blob/0.4.11/src/skrollr.js#L113). I'm not sure in which version it changed (0.5.some).\nWill fix this now.\n. Please check with 0.6.5\n. Ah wait, it exits earlier because of missing getComputedStyle...\n. > I have tried many attempts\nShowing some code will greatly improve my understanding of what you want and how you tried.\n. Your example is incomplete. The outer div only has one keyframe and I need the corresponding CSS. Because top doesn't do anything unless position is not static.\nBut before you comment again, please be sure to read this section, especially the important note at the bottom https://github.com/Prinzhorn/skrollr#relative-mode-or-viewport-mode\nQuoting the note\n\nImportant: All those values will be calculated up-front and transformed to absolute mode. So if either the element's box height changes (height, padding, border) or the elements position within the document, you probably need to call refresh() (see documentation in JavaScript section below). Window resizing is handled by skrollr.\n\nMaybe you can achieve what you want by using https://github.com/Prinzhorn/skrollr#working-with-constants\n. closing due to inactivity.\n. Just to make sure I understand: When you swipe towards the bottom of the page, then it's scrolling down too fast? And you want it slower?\nI need to borrow a friend's iPhone in order to get a feeling for it. Maybe native iOS scrolling has a maximum speed which is much lower than what skrollr does.\n. Sure, I can add an option for it. Great if that works for you. But isn't it too slow on Android then?\n. I'm gonna leave this open until it's officially fixed. You're probably not alone.\n. >  and the usual tap the screen to slow or stop the scroll does not work.\nCan you confirm that this is still an issue for you? It works on Android and iPhone for me. Because we're doing this https://github.com/Prinzhorn/skrollr/blob/9d56610235a2ab000e0374158e76c4e77226d9ee/src/skrollr.js#L630 at touchstart.\n. Try moving the fixed positioned element outside of #skrollr-body, as said here https://github.com/Prinzhorn/skrollr#060-2013-05-18\n. Closing due to inactivity.\n. That's why the there's a dummy div below the ul which takes the space when the nav goes fixed.\nNot sure when this broke. I'll have to take a look at it.\nDone. Was a breaking change due to the \"edge strategies\".\n. Sorry, I missed this issue completely.\nDoes this still happen with the latest version? http://prinzhorn.github.io/skrollr/examples/path.html\n. Yep, I forgot the skrollr-body in this example, thanks!\nIt may take a few minutes until GitHub refreshes the page at http://prinzhorn.github.io/skrollr/examples/path.html\n. https://github.com/Prinzhorn/skrollr/commit/5ec9bf60c770dee52362450e9bf914bdd24e37bb\n. overflow:auto isn't supported on mobile devices. That's not a skrollr issue.\n. I consider adding a callback function for when the touch event starts which allows disabling it on certain elements. Or maybe a function which is given a DOM element and it returns true/false.\n. Quick fix: add this somewhere in your code\n//this will prevent the touch events from your element to bubble up to the document (where skrollr listens for them)\n$('#your-div').on('touchstart touchmove touchend', function(e) {\n    e.stopPropagation();\n});\n\nCould you let me know where exactly the function in the code which indicate to run scrolling\n\nhttps://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L608\nin particular https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L634 and https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L682\n. 0.6 introduced breaking changes.\nhttps://github.com/Prinzhorn/skrollr#060-2013-05-18\nhttps://github.com/Prinzhorn/skrollr#edgestrategyease\nhtml\n<div class=\"navbar\">\n  <div class=\"trigger\" data-0-start=\"height:!0px;\" data-700-start=\"height:!30px;\" data-edge-strategy=\"set\">\n    <div class=\"content\">\n    </div>\n  </div>\n</div>\nor globally\njs\nskrollr.init({\n    edgeStrategy: 'set'\n});\nI have to admit though, that I didn't thought about the prevent-interpolation thing. But the edge strategy \"set\" gets the old behavior back.\n. > Apologies straight off I don't have an example on the web to show you. \nIt would be really helpful though. I won't spent time trying to create a test case, because maybe this is caused by something special you're doing.\nFrom the top of my head I have no idea what's causing this.\nBTW: Have you seen https://github.com/Prinzhorn/skrollr-menu ?\n. Feel free to reopen when you have a test page online.\n. I've just tried this again. It just doesn't feel right on my Galaxy S2. It's now WAY to slow (it stop almost instantly after flicking). But on an iPhone 3gs I have access to it feels much better...\nComparing the native scrolling, Android's momentum is much faster and takes much longer until it stops.\nBut I have to agree that 0.0006 is too small, even on Android. Maybe we can find a compromise.\n. > Would detecting iDevices and setting it to the lower value otherwise keep it the same work?\nI don't want to do further browser sniffing.\n\nAlternatively add it in as a config option?\n\nThat's probably the easiest solution.\n. https://github.com/Prinzhorn/skrollr#060-2013-05-18\n\nFrom now on you can specify the behavior you want (see edgeStrategy option for details, set it to set for old behavior).\n\nhttps://github.com/Prinzhorn/skrollr#edgestrategyease\n. I consider making set the default.\n. It's smooth in Firefox, but lags in Chrome. But Firefox is missing some of the elements though.\n1. Remove the console.log onscroll\n2. Upgrade to latest skrollr (read https://github.com/Prinzhorn/skrollr#060-2013-05-18)\n. Not possible\n. @frankbecker which browsers did you test this on?\n. > but would it be possible or take much work to have multiple \"skrollr-body\" elements that would disable native, but allow independent scrolling?\nThis would probably take a huge amount of refractoring and modifying the skrollr code.\n. > Is this work in progress or is this not a priority?\nNot even planned.\n. > I think it's a reasonably expected feature and relatively simple to implement. Why not at least plan it in some \"future\" section? Or ask for PR?\nTwo things come to my mind:\n1. Did anyone try the changes in IE 8 and more important on mobile? And \"it seems to work\" is not what I mean. For example APIs like setScrollTop should also work.\n2. As soon as you can apply skrollr to a single div, people will ask for multiple skrollr instances on the same page, which is out of scope.\n. Is this your actual code? There's a syntax error.\n. What does happen on iPhone? Older iOS version didn't support fixed at all. Is the element inside the #skrollr-body? Because then it won't work. Now that I think about it, it will probably never work. If you put it outside of #skrollr-body, then it doesn't scroll. If it's inside, then fixed won't work, because the parent element uses transform (that's a problem with the CSS spec http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/).\n. Without doing much research my guess is that IE and Opera are standards compliant. SVG doesn't have a transform style (http://www.w3.org/TR/SVG/styling.html#SVGStylingProperties), but only an attribute (http://www.w3.org/TR/SVG/coords.html#TransformAttribute).\nSkrollr doesn't support attributes (yet) #204 .\n. Could you set up an example I can use for debugging? thanks\n. Your content is positioned fixed. There's absolutely no way for Bootstrap or anyone to know, when you want the navigation item to become active.\nScrollSpy also has data-offset, which an be used similar to skrollr-menu's data-menu-top http://getbootstrap.com/javascript/#scrollspy-usage\n. I've just opened your page again and it's working in Firefox and Chrome. Does it work for you as well?\n. I took a look at it, but I don't have time to get deeper into scrollspy. Don't expect https://github.com/Prinzhorn/skrollr-menu/issues/15 to be implemented any time soon. It needs some major changes to skrollr itself as well.\n. It will only work when the SVG is inlined.\n. Look at this example https://github.com/Prinzhorn/skrollr/blob/master/examples/svg.html#L10\nInlining means copying the SVG (which is XML) inside your HTML.\n. I'm not a SVG expert. If there's a style property you can animate, then it's possible. If not then it's not. You may use two path which overlay each other to achieve some effects.\nI'm closing this as it's not a bug in skrollr. For support questions try asking on http://stackoverflow.com/\n. The linked website doesn't use the native scrollbar. This makes it easier to add momentum.\nRelated: https://github.com/Prinzhorn/skrollr/issues/218\n. I don't own an iOS device. I'd love to compare skrollr and native scrolling to improve it.\n. > Reducing the speed in EVENT_TOUCHEND solved my problem for a while.\nWhat does \"for a while\" mean and what did you change? thanks\n. > is skrollr.getScrollTop() supported on mobile devices?\nYes.\n\nYou can simulate a mobile phone by clicking the cog on the very bottom-right, add an User Agent for the mobile detection, change device metrics and [x] emulate touch events.\n\nThat's actually how I developed the mobile version :thumbsup: \nHere are two screenshots (mobile vs desktop). Look at the values in the console.\n\n\nThat's because on mobile we don't need to add height to the body element. On desktop I have height:9800px; set on the body element, which is what forceHeight does.\nI guess I should expose a getMaxScrollTop() function (were s.setScrollTop(s.getMaxScrollTop()) arrives exactly at the bottom).\n. As a workaround for now, just replace document.body.offsetHeight - document.documentElement.clientHeight with 9800, because that's your largest keyframe and thus exactly what getMaxScrollTop would return, if it existed.\n. I keep this open until I added getMaxScrollTop.\n. Create an example page. I can't guess if there's a conflict.\n. >  it doesn't do the right expansion effect \nit does, but outside of the viewport.\n\nit doesn't show me any navigation arrows on the sides\n\nneither does it when I disable skrollr.\nBoth issues are caused by the parent div, which is positioned absolute. The image script doesn't seem to handle this well. Not a skrollr problem.\n. Add\ncss\nhtml, body {\n    height:100%;\n}\n. Please post an example I can copy and check out.\n. skrollr doesn't do any magic, it just sets el.style.padding = newValue;. I can't reproduce what you're saying (the fiddle doesn't even include skrollr).\nInspect the element using Firebug or Chrome inspector and take a look at which styles skrollr changes.\n. Great, let me know when you got the pages ready.\n. Just reopen when you've got a test case ready.\n. Maybe someone with a Windows machine can take a closer look. I'm tired of setting up VMs (it's a joke that the official VMs expire after 30 days http://www.modern.ie/en-us/virtualization-tools).\n. > Animating a path with stroke-dashoffset, seems to create a lot of \"jumpiness\" in Firefox only on windows systems:\nI fired up a win 7 VM and looked at both links in Firefox. I don't see a problem. Please define \"jumpiness\" or make a video.\n. I noticed I was still on Firefox 18 in the win 7 VM.\nUpgraded to 25.0.1. I neither see jumpiness nor what @codymaines' video shows.\n. For the last one: https://github.com/Prinzhorn/skrollr/issues/244#issuecomment-19514890\nAdditionally: https://github.com/Prinzhorn/skrollr#preventing-interpolation\n. This has to do with changes I made for 0.6. I'll change this back soon.\nFor now set the easingStrategy to set, see https://github.com/Prinzhorn/skrollr#edgestrategyease\nI'll keep this open for now.\n. It's probably a problem with Chrome. You should use CSS sprites, because every time you change the background-image, the browser needs to load the image (not necessarily from the server, but cache) which causes the flicker I guess.\n. Show your current code. Did you prefix the values with a !? https://github.com/Prinzhorn/skrollr#preventing-interpolation\n. Read my comment above about the exclamation point.\n. Great!\n\nthen I have added the magical \"edgeStrategy: 'set' \" \n\nIt's now the default since 0.6.7\n. The square brackets indicate an optional parameter.\nFor example see https://github.com/Prinzhorn/skrollr#animatetotop-options where the first parameter is required.#\nMany projects use this notation.\nhttp://api.jquery.com/jQuery.ajax/\nhttp://backbonejs.org/#Collection-extend\n. Good point, but so far nobody complaint. I'll keep this open as a feature request. A prefix option could be used which defaults to an empty string and could be set to skrollr or whatever someone wants to.\nNote to self: skrollr-stylesheets would need to know about this prefix as well.\n. You can update the data attributes and call refresh on that element.\nThis issue is open for a long time and requests what you want https://github.com/Prinzhorn/skrollr/issues/69\n. > so I am completely lost for ideas now. \nPlease add a console.log(top, _mobileOffset) to said line. Then reload the page and give it a flick to the bottom. Check the output after the movement has stopped. If the jumping is caused by a skrollr bug, the values should jump as well.\n. > Could it have something to do with the fact that something along the lines of -webkit-transition: 350ms is not being used in the latest version of Skrollr? This is the only difference I can see... \nskrollr did never use CSS transitions.\n\nHave you tried rolling back your Skrollr version to 0.5.14, this actually fixed the issues for me. \n\nThat's not a \"fix\".\nCould you upload two demos, one using 0.5.14 and one using 0.6.8? Maybe I can find the difference.\n. Thanks!\nGood news: I can see the flicker in Chrome on Ubuntu as well, which means I can fix it. And I guess it's related to #248 which came to my mind right when I read your post on StackOverflow.\n. Still trying to find the reason. Here's another guess: the animation is currently only running at about 30fps. Try replacing 33 with 16 and see if it's better https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L150\n. There are some other smaller changes I made locally, which may all added some part of the flicker. But testing with my mouse in Chrome using simulated touch events is just not the same...\nSince I started skrollr it bugged me that I don't have access to an iOS device. But so far nobody donated a used one, preferably an iPad because it's much more important for presenting parallax websites.\n. I'll take a closer look at it tomorrow or at the weekend. I'll post a dropbox link here with which you'll be able to try my latest experiments.\n. > Hey, did you manage to make any progress over the weekend? \nUnfortunately no.\nAlright, I did some small changes (the 60fps setTimeout which I mentioned above and some other small changes related to mobile scrolling). Try hotlinking this file for your test project https://dl.dropboxusercontent.com/u/37892603/skrollr/src/skrollr.js\nI created a branch for this issue and checked it out in dropbox. If I find further improvements you can just keep using the link above for debugging.\n. @jonathanmoore please try the dropbox link as well, thanks.\n@harrynorthover \n\nWhat did you change? \n\nIn addition to the setTimeout change I\n- set the second parameter of setScrollTop to true when animating the scroll position (https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L892). This was possibly colliding with smooth scrolling and caused the scroll animation to be off.\n- moved the mobile scrolling (https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L560) into the render function. Now it is guaranteed that the fake scrolling and the other animations are in sync. Before that, the fake scrolling could be updated without the rest (e.g. your background animation).\n. Thanks. Having feedback from two people is enough to merge this into master. I'll let you know.\n. I've merged the changes to master and called it 0.6.9.\n. @twickstrom 0.6.21 contains this as well. See http://semver.org/ and https://github.com/Prinzhorn/skrollr/releases\n. I'm closing this, since it's not a skrollr bug. Please ask general support questions on StackOverflow.\nI will completely remove the snapping demo to prevent further discussions (It has already been removed from the examples README) and is just there for historical reasons.\n. #56\n. The linked website uses 0.5.14, but you're asking why it doesn't work with the latest version.\n. \n. The issues seems to be that many elements are outside of #skrollr-body which causes iScroll to not detect the touchmove. This should work better with 0.6.x.\n. What's a typekit badge?\nI don't have IE 10 running and since you already said it's probably not a skrollr issue you should ask on StackOverflow.\nIf it is an issue with skrollr itself, than reopen the issue and I set up a Windows VM.\n. > skrollr somehow managed to lose that support?\nVersion 0.6 dropped iScroll. I don't know why the current code doesn't work. I don't have access to a windows phone.\n. Does Disqus fire some sort of load event? You could then use the skrollr refresh method I guess.\n\nIt also causes really fast jump-scrolling on touch.\n\nhttps://github.com/Prinzhorn/skrollr/pull/229\n. Could you upload an example?\n\nRegarding the scrolling speed, I have also played with that value, but I was looking for the native, bouncy scrolling of iOS. (Or is that impossible when using skrollr-body?)\n\nThere's no bounciness implemented.\n. > Would you say this is a reliable solution to load Skrollr on desktops only?\nThat's how I would have done it. It's basically what skrollr does internally https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L257\n. Where do you call skrollr.init? I've looked into all of the scripts linked at the bottom of the document and couldn't find it.\n. > I've tried forcing the sequential calling of the scripts, by doing a:\n\nif( engageDepthCharge() ) { skrollr.init }\n\nHow is this different from engageDepthCharge(); skrollr.init();? If engageDepthCharge does any async stuff (does it add new images to the document, which may not have been loaded?) you need to wait for them to be finished.\n\nI call a skrollr.get().refresh() on window resize.\n\nskrollr does already do some updating on resize (https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L277)\nDo you think this is an issue with skrollt itself or with your script? Because I'm hesitating to close this issue and ask you to post it somewhere else. Maybe create repo on gh with some documentation and discuss the issues there.\n. Looking at the code, I see decimal keyframes like data-1025.390625\n. I've never tried it. At least it's not officially supported.\nBut all I can say is if I truncate the values and call refresh on the element, it's working.\n. Could you show an example, because I'm not enitrely sure I know what you mean with\n\nItems with fixed positions create offsets that shift elements down, so divs (and their backgrounds) are off.\n. Does this help? https://developer.mozilla.org/en-US/docs/Web/API/element.getBoundingClientRect\n. This is nothing I'm planning to add.\n\nDo you want this for a mobile-only website or both? If both, would you want desktop vertical as well?\n. Feel free to reopen if you have some more infos. I want to know how you would use this feature to understand it better.\n. top is explicitly set to 0% at keyframe 200. Why would anyone expect it to be 25%?\nFor reference https://github.com/Prinzhorn/skrollr#filling-missing-values\n. > yup my bad, misread.\nnp\n. Could be the huge background image. I don't have any issues in FF though (22 on Ubuntu).\n. Not possible atm.\nRelated https://github.com/Prinzhorn/skrollr/issues/89 and https://github.com/Prinzhorn/skrollr/issues/192\n. Doesn't work in Android default browser as well (Chrome, FF work).\nThat's the part that's causing the trouble https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L647\nI don't have time to investigate now.\n. > Try this at line 644\nI'm not using jQuery, but I guess now I know what the problem is. A textnode doesn't have a click method. So I just need to check for textnodes and then use the parent.\n. I'm closing this for you.\n. I don't see a #skrollr-body element\n(hint: k not c)\n. @Jorybraun do you by any chance have fixed positioned elements inside skrollr-body? If so, read http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/ . skrollr-body is moved using CSS transforms.\n. As far as I understand your layout, you don't need skrollr-body. Nothing actually scrolls. You should re-read https://github.com/Prinzhorn/skrollr#what-you-need-in-order-to-support-mobile-browsers\n. @maurocolella have you tried the very latest version (>= 0.6.28)?\n. It would be great if one of you could create a very simple demo page which makes this reproducible.\n. > but on iOS and Android devices, the scroll event doesn't fire\nUse skrollr's render event https://github.com/Prinzhorn/skrollr#render\n. It's exactly what refresh is for. Quoting the docs at https://github.com/Prinzhorn/skrollr#refreshelements\n\nUseful when [...] new elements are added to the DOM and should be controlled by skrollr\n\nInstead of refresh() you should pass the new elements though to improve performance. Like refresh(wrapperDiv.getElementsByTagName('*')), assuming that wrapperDiv was filled with new elements.\n. Please read https://github.com/Prinzhorn/skrollr#filling-missing-values\n. And one more thing: I guess it's not your actual code, but if it was then data-100-center=\"translate3d(0px,-10px,0px)\" should be data-100-center=\"transform:translate3d(0px,-10px,0px)\"\n. IE6 is not supported and never will be. If you need to support IE6, don't use something like skrollr. The performance would be horrible and IE6 supports even less CSS than IE7.\n. It's not built in. I'm planning to add this to skrollr-menu in the future. Even if you're not using a menu, skrollr-menu will handle everything that is hash related.\n. > Does this mean that hashs should be updated by themselves if using the skrollr-menu?\nNot yet. It means: If I implement it, then I will do it in skrollr-menu and not skrollr itself.\n\nWhat is your suggestion to easily change href's while scrolling from one section to another? \n\nIt's not simple. You first need a list of start/end positions of sections and then when the user scrolls, you need to check at which section he/she is and then use history.replaceState to update the hash.\n. > Did you ever implement the auto changing hashes?\nNo, see this open issue https://github.com/Prinzhorn/skrollr-menu/issues/6\n\nWhen I try to manually update the hash using window.location.hash = newHash the page always jumps back to the top\n\nThere are like twenty different scripts on this page, are you sure it's an issue with skrollr? Anyway, you can't just set location.hash in some cases. For example when using skrollr on mobile or when the section are positioned fixed.\n. > Also, if you find my approach witty, i'll be happy to publish it on the wiki, just tell me to.\nJust add it to the wiki if you think others will benefit. It's not my wiki, it's yours (everyone's)\n. URL doesn't work for me\n. Provided that I understood you correctly, I can't reproduce this on Ubuntu. And it sounds like a browser bug and nothing skrollr can fix.\nUse Chrome inspector and verify that skrollr applies the correct styles but Chrome renders them wrong. If that's the case, I can't help you.\n. Interesting, I need to take a closer look at it.\nFor now, does it work as a workaround to only refresh the elements that need to be refreshed? E.g. s.refresh(document.querySelectorAll('#mydiv *'));\n. Thanks, I just learned about the IE8 bug through this issue (more: http://www.piotrovski.com/2012/10/resize-event-on-ie8-and-other-browsers.html).\nNow the endless loop is obviously caused by https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L277 which causes https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L1273 which in turn generates a resize event in IE8 (I guess, I don't have access to a Windows VM atm).\nCould you confirm this by setting the forceHeight option to false?\nSo we should probably throttle the resize event (which would be nice in general, because we don't need to do a ton of caluclations while the user is resizing the browser). I don't know how fast IE8 triggers the event, maybe it's enough do set a flag on resize (instead of calling _reflow right away) and have it processed inside the render loop (~16ms).\n. > If I get some time I might be able to measure the trigger time.\nI guess it's fired right when changing the body style, but then again it's IE :-D.\nHere's a jsbin to get you started: http://jsbin.com/ecidis/1/edit\n. Great. But the timestamps themselves don't help much without reference. I need the difference (timestamp when the resize event fires minus timestamp when the style was changed). If that's close to 0, that'd be great.\nBut never mind, I'm gonna change the code the way I guess it's correct and will post a link to a dev version you can drop in and test with.\n. Please try the issue_271 branch https://github.com/Prinzhorn/skrollr/blob/issue_271/src/skrollr.js\nFor testing you can hotlink this file https://rawgithub.com/Prinzhorn/skrollr/issue_271/src/skrollr.js\nEdit: Thinking about it, I guess it won't solve it completely, only slow down the endless loop.\n. If someone could confirm that e.target is not always window, then this would be a great (one-liner) fix.\nSo the only thing I'm interested in is if e.target === window is sometimes false inside the resize handler.\n. > Have logged the event in the resize handler in the intermediate function within _addEvent and e.target is always null. Thus e.target === window always equals false.\nHm. Just to double check that: you put the logging after this line? https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L1232\n. > Have you already tried throttling the event?\nThat's what I tried in the issue_271 branch. But it's still firing endlessly, just slower.\nI just added a check inside the event handler if the size actually changed (and throttling at ~60fps). https://github.com/Prinzhorn/skrollr/commit/0213aa03269e1aec151535ddec51b20b78051a33\nPlease check with this skrollr file (hot linking OK) https://rawgithub.com/Prinzhorn/skrollr/issue_271/src/skrollr.js\n. > But then you're still handling each resize event. Don't you want to wait until resizing has finished, and then handle the last event?\nIt's what I want. I want the changes to be visible while resizing the window.\nI just want this to be fixed in IE8. Everything else should stay as it is.\n. > And I ran some quick tests at current master with the test case from the OP.\n\nOn Win7, IE9 in Browser Mode: IE8\n\nBut did you test the issue_271 branch? https://rawgithub.com/Prinzhorn/skrollr/issue_271/src/skrollr.js\n. I just booted a Win7 VM (which worked well even though it expired long time ago). And the issue_271 branch solves the issue for the test @ourmaninamsterdam provided. After pushing the button the element gets added without an infinite loop. I can add as many elements as I want.\nIf someone confirms this, I'm gonna merge it to master.\n. Great! I guess it's fixed then.\nVersion is 0.6.10\n. Could you create an example or at least post a snippet of HTML to make sure we both mean the same thing?\n. > Now on the iPad when you touch to move the page there is no animation until you release the scroll and the inertia comes to and end. Then the animation jumps to it's correct point.\n\nIs there anything I can add in to correct this issue?\n\nThat's the point of the mobile support. The only reason it exists is because iOS pauses JavaScript while scrolling.\n. I see, you basically can't add a wrapper element to the body, because you don't have access to the template, right?\nSomething like this could work (pseudo code)\n- var skrollrBody = createElement('div');\n- skrollrBody.id = 'skrollr-body';\n- for each children of document.body\n  - skrollrBody.append(child)\n- document.body.append(skrollrBody)\nNow you probably run into problem when you move script tags etc., but you could just if/else them inside the children loop.\n. Please ask such questions on http://stackoverflow.com/, because the GitHub issue tracker is meant for bugs and feature requests for skrollr and not for general support.\nI took a look at it anyway: the slider creates a copy of the image and lays it on top for the fade animation. This copy is not translated by skrollr. That's causing the jump (when the copy is hidden and the original image is shown).\n. > how to make a fixed div dissapear when from 100px of the top of the viewport as in my example?\nFor fixed divs you're controlling the positioning manually. So you already know when it's 100px from the viewport.\n. An example would be great\n. Did you try using data-anchor-target=\"#section3\", because the sections are not fixed. So you can trigger the animation of your fixed elements based of the position of the non-fixed sections.\n. >  i was wondering is there any way to normalize mouse wheel for cross browsers? so we could set up delta value?\nI don't understand what you mean, maybe rephrase the question. Skrollr uses the native wheel scrolling and doesn't change it in any way.\n. > browsers have different scrolling speed (delta) for example firefox use 34px and IE explorer uses 120 px for scrolling. \nThis highly depends on the operating system and device as well.\n\ni figure it out just added event to override default scrolling speed \n\nCan we close this or was this a question?\n. If possible, upload a second version with\n- forceHeight set to false\n- unminified skrollr\n. > I found this code but not sure how to apply it to the current skrollr library, and not sure whether it is still using iscroll on the latest version.\nIt's not using iScroll anymore.\nI don't see any way to achieve this with the current version. Adding horizontal scrolling to mobile is nothing I was planning to do.\n. Thanks. I'm closing this then.\n. Sorry, I don't understand what's your problem.\n. You would need this #192 together with #89 (or jQuery's animate or any other tween lib).\nSo it's not possible at the moment. I'm closing this since there are already open issues.\n. I guess detecting the fps would be the easiest part. But how do you react to it? I mean if the user is scrolling and we detect it's only at 20fps, what should happen? You can't just suddenly not have parallax. The elements would be in an undefined state. If you would reset all elements, the user would still see a jump, probably very noticeable.\nI don't think that's something that should be built into skrollr itself. Once we have methods to enable/disable skrollr, you can do this from outside if you wanted to.\n. I don't think logging functionality belongs in the core of skrollr. That's nothing you ever need in production.\nTry this\n``` js\nvar lastRender = +(new Date);\nvar s = skrollr.init({\n    render: function() {\n        var now = +(new Date);\n        var duration = now - lastRender;\n    console.log((1000 / duration) | 0, 'fps');\n\n    lastRender = now;\n}\n\n});\n```\nIt's pretty accurate on Chrome (about 60fps). But Firefox jumps between 16 and 100\n. Looks good, I like the idea to emit the events right on the element. This is gonna help a lot when implementing https://github.com/Prinzhorn/skrollr/issues/192\nI have some concerns with this solution though\n- Isn't this going to affect performance when I have 100 elements and each triggers events even though I only need some of them? Maybe instead of the emitEvents option there should be an attribute per element (e.g. an empty data-enable-events attribute).\n- For it to be really valuable there are some infos missing. For example the skrollrBefore event needs to pass some event data which tell the direction.\n- Maybe we should extend this to emit an event for every keyframe, not only the first/last. That's basically what #192 is about\n. I'm done implementing this in a different way, but I just noticed it does not work in IE.\n@kbrabrand Did you test your code in IE? Because as far as I understand, you cannot use fireEvent for custom events. Basically you can't emit your own events on DOM elements at all.\n. > I'm sorry but I don't have more time to dig into this right now..\nThanks for answering though.\n\nGood luck on finishing the feature and happy easter!\n\nThanks, dito.\n. I added experimental support for emitting events on every keyframe. Not happy with the API yet\nhttps://github.com/Prinzhorn/skrollr#keyframe\n. I've seen this on SO. Just add overflow:hidden to the html element while the modal is visible.\n. > Thanks for that I dont think that works with mobile though does it?\nWell, you're right I guess. Try adding pointer-events:none to the wrapper as well (not to the parent of the modal)\n. Does this happen with the demo itself or just on your website?\nI've already removed the demo from the readme since I don't support it anymore. It was written as a proof-of-concept and I encourage people to do their own implementation based on their needs.\n. > It defintely has to do with the bounce.\nCould you explain what you mean with that? I thought only mobile Safari has \"bounce\".\nYou could check if layers[activeLayer] is undefined here https://github.com/Prinzhorn/skrollr/blob/master/examples/snapping.html#L87 and in the following lines.\n. I know. This was written long before skrollr even supported mobile. I'm gonna remove the file to stop any further complains (I removed it from the examples readme weeks ago).\n. These kind of questions don't belong here. Ask them on http://stackoverflow.com/\nhint: https://github.com/Prinzhorn/skrollr#beforerender\n. Please post this on http://stackoverflow.com/ . GitHub is for issues and feature requests, not for general questions.\n. You've included the IE plugin without conditional comments.\n. I'm struggling if it's a bug or not. I'd say it's originally intended behavior, but it looks like a bug in your specific case.\nBut let me explain first: It has nothing to do with the margin on the body. Take a look at this example http://jsfiddle.net/sGsmN/5/\nI use setScrollTop(250), but the div is still blue. But if I'd use setScrollTop(251) it would turn green, even though green starts at 250. This has to do with different things skrollr needs to handle. I have to think about if I can fix this without breaking other things.\nIn short: The reason is that skrollr sees the keyframe range as [0,500] and not [0,500[ (see https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L849, the second <= needs to be a <). But like I said, this needs to be thought though carefully.\n. Here's a workaround http://jsfiddle.net/sGsmN/6/\n. > Tks, but I have a one question, in this example, The margin is not counted in the scroll?\nSorry, I don't understand.\n. As you've said, this is not a skrollr issue. You may have better chances when asking on StackOverflow.\n. You should ask the author, maybe he didn't knew what he was doing.\n\nand browser forced to be more longer than it site is\n\nThat's the default behavior.\njs\nskrollr.init({\n    forceHeight: false\n});\nhttps://github.com/Prinzhorn/skrollr#lessons-learned\nhttps://github.com/Prinzhorn/skrollr#forceheighttrue\n. What's the problem with initializing the library once and calling refresh for every newly added element? There's no need to have two instances.\n. > @KKS1 is right. In case of a single page app skrollr-body element might be destroyed and created again but calling refresh method doesn't invoke this part https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L277\n\nSo that's still an issue for dynamic web sites.\n\nThen you need to use destroy + init again.\n. > @Prinzhorn destroy works fine. However it sets height:auto on html/body elements which breaks page a bit but removing those fixes the issue. Thanks.\nYeah, that's a known issue (https://github.com/Prinzhorn/skrollr/issues/347#issuecomment-26433920).\n. Did you place the script at the end of the document?\n. You know what? This was in the docs from the beginning but it seems like it's missing since I did the refractoring for 0.6. I'll add this. Thanks\n. Two thoughts:\n- it should be _paused and not paused and placed at the bottom of the file where all the \"private instance variables\" are\n- I'm not sure about the implications when blocking every event registered using addEvent, because the function is exposed to everyone, not just skrollr\n. But isn't this something completely different than pausing? Because you first approach just froze skrollr where it was and the new one resets all styles.\n. I'm liking this so far. Please rename it to destroy, since that's what it does, it destroys the skrollr instance (see #109 as well). And it should not be an instance method, but \"static\" (skrollr.destroy equivalent to skrollr.init).\nThere are some other smaller things I'll add line comments to.\n. I'm done reviewing. Once you pushed the updated code I'm gonna take a second look at it and test it. I'm gone now for at least 24 hours.\n. > Let me know if you still need to support pause/unpause functionality too, I could work on that by next weekend if you don't mind, ttyl!\nFor now I'd leave it out. Maybe we can come back to paus/unpause later.\nI'll review the code a second time now. I hope you're not getting annoyed.\n. I'm still seeing one big issue here: You add all events to _registeredEvents. But skrollr.addEvent is public. For example the skrollr-menu plugin uses it. You are effectively removing event listener from the plugin as well.\nThis means all plugins would need to be notified when skrollr gets destroyed. But the plugin \"architecture\" currently doesn't allow this, because it sucks.\n. Forget that last comment. After you've updated the code again I'm gonna pull this thing. After that I'm planning to retractor the plugin architecture, effectively adding a destroy event to notify plugins. I don't want to start these big code changes before this pull request isn't merged. That would be a pain in the ass.\nIt'd be great if you could do this as soon as possible. Please tell me if that's possible in the next days. If not, I'm gonna add these small changed by myself.\n. > ok, so I reverted my attempt to send a destroy event to plugins, will try to contribute with that on another issue.\nGood. That's part of a bigger change (#310) that I was planning to add myself.\n. I ask for one last thing: please change the target branch to issue_109 which I just created. You may have to create a new pull request, I don't know if you can update this pr.\n. > Funnily enough, I seem to somehow have a version with the pause/resume functionality and I need this in my application\nCould you explain a bit? What version?\n. > I had 0.6.25\nDid you lose the file? But you're not talking about this example, do you?\n. > The implementation seems awfully the same as what is being discussed in this conversation by kordero.\nAre you sure you didn't already do that before with code from this PR? I have never released a version which includes it.\n. > I agree. I'm trying to pause skrollr so that i can use scroll events in a modal on top of skrollr. Is there a way to release the events.\n@mulhoon are you talking about mobile only or desktop as well? If it's desktop too, then please show how your modal is structured. Scrolling inside of a modal shouldn't be affected by skrollr, that's why I'm asking.\n. This does NOT turn off skrollr. It only disables the mobile improvements.\n. I don't think you want to include skrollr just for this task. Just listen for the scroll event and see https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L582 for how to get the scroll position cross-browser.\n. I don't see why it shouldn't work. I can't tell without example code.\n. This is not the right place for such questions, try asking on StackOverflow.\nHere's a hint: The theme you've linked to uses skrollr, try to understand the code (using Firebug or Chrome inspector). And the key is relative mode.\n. I can't help you without seeing your code.\n. > I'm having the same problem.\n\nselfiejar.org\n\nWorks on 4s with iOS 6.\n. Please fix the failing build before I will take a look at it.\n. I guess the issue are the animations of background-position, which most browsers lag.\nDoes it still flicker if you remove them for test?\n. > All I do with skrollr is the bg-pos animations\nIt's basically the slowest thing you can animate. That's not a skrollr issue.\nThe usual workaround is to use separate elements and move them using transform.\n. > but I'm not sure what you have in mind for separating the elements\nturn this\nhtml\n<div data-0=\"background-positon:0px 0px;\" data-200=\"background-positon:400px 0px;\"></div>\ninto this\nhtml\n<div style=\"overflow:hidden;\">\n    <div data-0=\"transform:translate(0px 0px;)\" data-200=\"translate(transform:400px 0px;)\"></div>\n</div>\nYou get the idea.\n. Try listening for touch events on those iframes and call preventDefault\n. Great idea. Glad it works.\n. @kregus there are no <object> tags on the page you've posted.\n. > It's just that the mobile browser sees the  as something you can interact with, so when you put your finger on it to scroll, it does not scroll but instead tries to perform an action on the \nJust like iframe and embed-tags it hosts stuff which is outside the DOM. I think skrollr simply does not receive the touch events to do the scrolling. pointer-events:none should have worked though, maybe on a wrapping parent element?\n. > I noticed this thread was closed, should I post in a new thread or can it be opened again?\nI don't know of any perfect solution to this. Having an overlay is the only option that kind of works.\n. > But does the video controls work when an overlay is placed above the iframe.\nNo and actually I found that even the overlay won't work because you can't have a custom play button on iOS. I don't have a solution.\n. > On PC no problem but with Iphone there is problem.\n\"Problem\" is kind of vague.\nPlease read https://github.com/Prinzhorn/skrollr/blob/master/CONTRIBUTING.md\n\nGitHub is for issues and feature requests. Anything else belongs to StackOverflow.\n\nAnyway, here's the solution https://github.com/Prinzhorn/skrollr#what-you-need-in-order-to-support-mobile-browsers\n\nThe only case were you don't need a #skrollr-body is when using position:fixed exlusively. In fact the skrollr website doesn't include a #skrollr-body element. If you need both fixed and non-fixed (i.e. static) elements, put the static ones inside the #skrollr-body element.\n\nYou've put all fixed positioned elements inside #skrollr-body\n. One more note: You've removed the license information from all scripts, including skrollr and jQuery. This violates the License.\n. Cool. You should wrap your code in an IIFE though, because all your functions and variables pollute the global space.\nI think in the future skrollr should offer a better way to integrate such plugins. But for now that's all we can do.\nI'll add it to the list (next time just create a pull request).\n. https://github.com/Prinzhorn/skrollr#plugins\n. > Thank you, I don't know how to create a pull request, I've tried without succes :(\nYou'll find enough info in the GitHub help https://help.github.com/articles/creating-a-pull-request\n. No need for global events. Instead of the init event there should be a skrollr.plugin() function.\nRegistering a plugin:\n``` js\nskrollr.plugin(function(instance) {\n    //Initialize the plugin.\ninstance.on('destroy', function() {\n    //Destroy the plugin as well.\n});\n\n});\n```\nThe plugin function should behave similar to jQuery's ready function. When skrollr has already been initialized it is executed immediately. Otherwise it's executed as soon as skrollr is initialized.\n. No progress, no plans.\n. Read https://github.com/Prinzhorn/skrollr#what-you-need-in-order-to-support-mobile-browsers\nUnrelated: make sure to round these <div class=\"alice-falling\" data-8289.5=\"top:-10%\" data-22104.5=\"top:80%\"></div> \n. > If you need both fixed and non-fixed (i.e. static) elements, put the static ones inside the #skrollr-body element.\nWhich in turn means that fixed elements need to be outside of skrollr-body.\n. I just see a blank screen in Chrome\n\n. It's now loading in Chrome, seems like the images server had issues.\nI'm not able to use codepen on my iPhone and it crashed Safari.\n. No, I don't have access do an iPad.\n. > But this ticket should totally remain open.\nagree. Maybe you can create a minimal test case (e.g. without images and fancy things).\n. Just opened this on iPhone 3gs with iOS 6 and I can scroll just fine and the girl is animating down slowly.\n. It's jumping to the top because skrollr sets overflow: hidden; on <html> and <body>.\nThis won't work the way you've set up everything. The upper part isn't wrapped in skrollr-body and is not scrollable on mobile.\n. > How would you get it working?\nI don't know. I'd probably have to spend hours trying to take your code apart which I can't.\nUse Google Chrome and set the UA to a mobile browser. Then activate \"Emulate touch events\".\n\nNow you can at least debug this yourself instead of having to use the iPad.\n. > when the user scrolls on the iPhone the animations don't work until the user is finished scrolling and takes their finger off the screen\nThat's the only reason there's a \"mobile mode\", because Safari pauses JavaScript (https://github.com/Prinzhorn/skrollr#the-problem-with-mobile-and-the-solution)\n. Try using CSS 3D transforms instead of animating top/right/bottom/left\n. Show an example. I'd say this is intended behavior.\n. From the skrollr documentation\n\nAll numeric values have to have the same unit. It's not possible to animate from 0% to 100px. skrollr won't complain, but results are undefined.\n\n\"Same unit\" implies that unit-less won't work as well.\n. > 0-length dimensions are more typically written unit-less in CSS than with a unit.\nOf course, but skrollr doesn't have a \"unit\" concept.\n\nHow about extending that wording in the documentation\n\ndone (will commit soon).\n. Calling refresh works fine for me, is sckrollr the instance in your case? You're calling init before the images are loaded, which causes the calculation to be off. Just call refresh on window.load.\nNext time ask questions on StackOverflow. GitHub is for bugs etc.\n. they need a unit transform: translateY(0px);\n. There's a line break inside the transform definition.\n. Please read https://github.com/Prinzhorn/skrollr/blob/master/CONTRIBUTING.md\nAnyway, skrollr (more specifically the skrollr-menu plugin) does currently not offer everything you'd need for the kitkat website.\nJust look at their code and you'll find out (http://www.javascriptoo.com/path-js + https://github.com/imakewebthings/jquery-waypoints)\n. preventDefault won't work because we fake scrolling\njs\n$('body').on('touchstart touchmove touchcancel touchend', function(e) {\n    e.stopPropagation()\n});\n. Next time post questions on StackOverflow, thanks.\n. Show an example.\n. If you can't reproduce it in a simple example, then chances are there's a conflict with other libraries.\nDon't get me wrong, I want to help everyone. But I've already spent hours helping people where the issues where not skrollr related at all. If you can't create a test case which shows that it's a skrollr issue, then I have to assume it's not.\n. > The problem with the example is that my page is generated in a complex way\nBut in the end it's just HTML you can copy from your page into an example, no matter how it was generated.\n. > Ok but in that way would be the entire page,not just a snippet.\nCan't you just copy that one element which has the background animation?\n. why are you using margin and width?\nTry sth. like\n```\ntransform:rotate(0deg) translate(170px, 220px) scale(0);\ntransform:rotate(18deg) translate(70px, 320px) scale(0.5);\ntransform:rotate(360deg) translate(50px, 662px) scale(1);\n```\n. Include the unminified skrollr for debugging. Also there seem to be other scripts, remove them for testing.\n. > by unminified do you mean this?\nyes.\nthe other scripts are still there. something inside /assets/application-381cdb5c58101b625c915525adbe7cec.js causes the script to be executed twice.\n. I set a breakpoint at the skrollr.init line. https://developers.google.com/chrome-developer-tools/docs/javascript-debugging#breakpoints\n. I tested this locally. Removing application-381cdb5c58101b625c915525adbe7cec.js fixes the issue. I doubt that this is a skrollr issue.\nFor general questions ask on StackOverflow. I have no idea what scripts you are using or what rails is adding. Maybe someone else can help you there.\n. More info, e.g. code. I can't guess what causes the issue.\n. https://github.com/Prinzhorn/skrollr#mobile-support\n. There are no scrollbars added by skrollr. Add one yourself, you can easily animate the scrollbar using skrollr.\nTake http://prinzhorn.github.io/skrollr/ as an example\nhtml\n<div id=\"scrollbar\" data-0=\"top:0%;margin-top:2px;\" data-end=\"top:100%;margin-top:-52px;\"></div>\n``` css\nscrollbar {\nposition:fixed;\nright:2px;\nheight:50px;\nwidth:6px;\nbackground:#444;\nbackground:rgba(0,0,0,0.6);\nborder:1px solid rgba(255,255,255,0.6);\nz-index:300;\nborder-radius:3px;\n\n}\n.skrollr-desktop #scrollbar {display:none;}\n```\n. Taking a quick look at it: what happens when you resize the browser?\n. > I haven't seen particular bad behaviours up to now... Do you have a use case in which this could lead to problems?\nYou are using window.innerHeight, which will change when the browser window resizes. But you are not updating the offset.\nIt's not that easy to implement percentage keyframes.\n. > Obviously this seems a pretty expensive way to do so, but I guess that skrollr has already a way to handle resize, in which I have to hook?\nYou'd need to remember that this element has percentage keyframes and handle them inside _updateDependentKeyFrames, just like relative mode.\n\nMoreover in my case percentage are used to handle a mobile design, were you can't resize browser window, so this problem does not appear.\n\ndevice rotation -> resize\nonscreen keyboard -> resize\n. I wanted to let you know that I've just started working on it and got the basic work done (what you did + update when window size changes).\nWhat I haven't done yet (and you didn't implement) is supporting sth like data-10p-top-bottom to allow percentages everywhere. It's late now though.\nCurrent version https://github.com/Prinzhorn/skrollr/commit/790cac111aa75edeaf3d0e6bca4fd13d592daea4\n. #192 \n89\n. I'll merge this now and then I'm gonna play with the branch locally. It may take some time until this lands in master.\n. You are setting the height of skrollr-body to 100%. It won't expand to the height of the contents and thus there's nothing to scroll.\n. > the layout is totally messed\nthat's not skrollr's fault. Ask on StackOverflow for help on your CSS.\nhint: height:600% and height:16.6%\n. Share more of your code (markup)\n. > While using skrollr in ipad i got one error\n\nJavascript:Error\nundefined\nTypeError: 'undefined' is not a function\n\nDo you get this error as well if you remove skrollr-stylesheets and add the keyframes manually? It would help a lot to know which of the scripts causes the issue.\n. Could you create a complete example page? And maybe even host it somewhere? That would be much easier than copying your HTML (the CSS is missing anyway).\n. mail it to alexander@prinzhorn.it\n. I checked it out, and it's working in Firefox and Chrome on Ubuntu and Android. I don't have a Mac, so unfortunately I can't test it there.\n. I've actually never used a Mac at all and I don't know of any issues in particular.\n. I'll reopen this. I thought I fixed this. I guess it happens when e.target is a text node.\n. does this happen as well when using this? Maybe it's an issue with fake scrolling.\njs\nmobileCheck: function() {\n    return false;\n}\n. And it does not crash when you remove skrollr? There are so many scripts on the page, it could be anything.\n. Is it possible to remote debug Safari? I think it's possible by connecting it to desktop Chrome. Take some heap snapshots.\nOn desktop the memory is constant (~4.5mb), even if I resize the browser a lot and scroll around.\n. >  What is skrollr doing when i change the Viewport Orientation?\nhttps://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L291\nhttps://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L937\nhttps://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L1373\n. >  have you maybe any idea where you give a big variable (array/objects) to a function instead of access the variable directly so an new instance is made and the memory limit of iPad is reached? \nArrays and objects are passed by reference, it doesn't matter. I have no idea how to find that leak.\n. > I don't yet understand how Skrollr automatically updates no longer visible elements but:\nNot sure what visible means in this context, but see https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L890 . This line will make sure that elements which are before the first keyframe or in their final state won't be touched.\n. does this happen exclusively on Android default browser?\n. If it does work in other browsers, this must have to do with your code. So I can't help you without.\n. After taking a quick look I guess that there's an issue with rem units. Before I spend more time please verify that it's still not working with pixel values.\n\nOK, Android is so outrageously bad that the use of rems is counter-indicated in all cases:\nMy LG (2.2) and Samsung (4.0.3) Androids work properly. A rem is equal to the root font size (i.e. the font size of the HTML element) and the default is 16px.\nMy Sony (2.3.7) uses a default of 14px, but changes correctly with the root font size.\nThe others seem to have picked a random value for a rem and only occasionally change it with the root font size.\nOne has a maximum rem size of 17.5px.\n\nhttp://www.quirksmode.org/css/units-values/mobile.html\nUnrelated: you should check the page in Firefox. It's really broken (not half broken like on Android)\n. > I've updated the online version with a px based stylesheets\nThere's still rem\nhtml\n<div id=\"content-1\" data-0p=\"top: 100rem;\" data-100p=\"top: 7rem;\">\n. I've spend almost 30 minutes trying to take your website apart and remove features one by one. But since everything is dynamically generated it doesn't work well.\nIf you want me to do any further debugging I need a stripped down version of the site with hard coded keyframes and only skrollr, no other scripts.\n. Glad it works now! Thanks for the info.\n. In your case you need to use data-menu-top because all the elements you are targeting are aligned with the top.\nhttps://github.com/Prinzhorn/skrollr-menu#documentation\n. > you can suppress interpolation for a specific value by prepending an exclamation point.\nPrepend the whole value, not every number. https://github.com/Prinzhorn/skrollr#preventing-interpolation\ndata--0-center-top=\"background-position: !0px 2928px;\"\n. I can't  guess what you did wrong (or if it's a bug) without code\n. Works for me. Feel free to reopen if you can't scroll down to the blue element http://jsbin.com/EKidOyO/1\n. You are moving the element up, that's why there's a gap. Try animating to bottom:0px instead. This way the element should be perfectly aligned at the end.\nWhat device are you testing on? I tried it on Android with Chrome and on desktop Chrome with mobile emulation.\n. It may sound stupid, but you did notice that you don't have an animation for the first 1000px? Which means you'll only \"see\" scrolling after >1000px.\n. Can you scroll down the full 3000px? If so then it may just be a logical issue. Your div has a height of 750px and you are animating top to 0px. If the viewport is less than 750px high, you'll never see the bottom of the div. On the other hand if it's larger than 750px, there will be a gap.\n. It's a known issue https://github.com/Prinzhorn/skrollr/issues/263 #303\n. Try skrollr 0.6.15!\n. Does it work on iOS 6 and 7?\nI don't plan to fix iOS 5 specific bugs.\n. > here is my code:\nIs this everything you wanted to post? Because your CSS rule #properties doesn't match any of the HTML elements.\nIs hand-stick positioned fixed?\n. You are animating top, which does not work when position is static (not skrollr related, that's simple CSS). Do you set position to relative, absolute or fixed for hand-stick anywhere in your CSS?\nPlease ask further questions on StackOverflow, as GitHub is only for issues/bug and feature requests.\n. http://stackoverflow.com/questions/19100201/unable-to-get-div-to-stick-with-skrollr\n. Makes sense I guess.\nAny real world example which wouldn't look good when animated in both directions?\n. #192 #284 #89 \nWhat you can do right now is triggering a CSS animation when the element get's the skrollr-between or other class.\n. Those lines that cause your issue are on my list because they cause other issues as well (see https://github.com/Prinzhorn/skrollr/pull/303/files for example). That's basically the number one bug on my list, but I didn't took a closer look so far (I did notice that document.createEvent is deprecated and I need to find a nice solution).\n. Was introduced by https://github.com/Prinzhorn/skrollr/commit/a82abf28\n. The address bar on iPhones is an issue in general. There are no cross plattform solution for showing/hiding the address bar. And as far as I know iOS 7 made all hacks useless so far.\nI'm not sure why you can't reach the bottom. Please include the unminfied skrollr source so I can debug it (and upgrade to 0.6.15 while you're at it).\n. unrelated to your issue: move the navigation outside of skrollr-body (https://github.com/Prinzhorn/skrollr#what-you-need-in-order-to-support-mobile-browsers)\nYour issue has to do with absolute positioning. If you remove position:absolute from #parallax and #outro then it works.\n. It's complicated. skrollr calculates the height for forceHeight, but then your animation moves the elements up and things get messed up. On the other hand on mobile forceHeight doesn't set a height on the body, but the actual height of #skrollr-body is used. But #skrollr-body doesn't have the correct height, because the children are positioned absolute...\nDid you try using transform:translate for the animation?\n. easeOutBounce is not part of skrollr (see https://github.com/Prinzhorn/skrollr#easing for a list)\nDid you define it when initializing skrollr?\nE.g.\njs\nvar mySkrollr = skrollr.init({\n    easings: {\n        easeOutBounce: function(p) {\n            //Your logic\n        }\n    }\n});\n. Where is easeInOutQuart from? Is this jQuery core or what? Search for it in the original source code (and post it if you get stuck). jQuery uses a different signature for easing function, but they should be compatible if you rewrite them.\n. Better post this on StackOverflow, so others can find the answer in the future.\nignore x, b and c.\nt is between 0 and d. Thus t/d is what skrollr calls p, the single parameter.\n. Awesome, thanks! I'm gonna close this here.\n. I've documented everything here http://stackoverflow.com/a/22532999/1422124 . I assume every jQuery easing function can be ported this way.\n. Cross post http://stackoverflow.com/questions/19280395/skrollr-very-choppy-animations-in-safari\nI can't help you for two reasons: no code and no Safari\n. I only took a quick look at it (it's hard because what you posted is pretty messed up and unindented).\nPrime candidates for performance issues: box-shadow (try without) and animations on background-position.\n. Please explain again what you want to achieve, ignoring what you've tried so far. Or maybe you've seen the effect somewhere and post a link.\n. It would be best if you would create a simple demo, e.g. on jsbin.com . This could help others in the future. Also questions belong to StackOverflow and not GitHub.\n. feel free to reopen when you have a demo \n. I've added two comments because we shouldn't use jQuery in example codes.\n. I'm not sure though if that belongs to the documentation. Maybe we should use the wiki for this!\nI've created a page here: https://github.com/Prinzhorn/skrollr/wiki/Tips\n. Please fix the code you've posted, hardly readable.\nAlso this doesn't sound like an issue, more like a question https://github.com/Prinzhorn/skrollr/blob/master/CONTRIBUTING.md.\n. I'm not sure I get what you want.\n\nThen as I scroll down, when #FOO's bottom is at the top of my browserwindow, I want the IMG to be at bottom: 0px;\n\nDoes that mean the image would be completely outside of (overflowing) #FOO?\n. \n. Took me a second to find out: skrollr sets the body height to auto for a moment to do some calculations.\nUse\ncss\nheight: 100% !important;\nI'll keep this open, maybe we should instead set it to an empty string at this line: https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L634\n. @hrobertson your example works as expected in Firefox and Chrome. What do you experience? Maybe that's a different bug.\n. Reading the original question again, I'm not even sure it's a bug. If you don't want skrollr to mess with the body height, then set forceHeight to false.\n. > This should definitely be fixed or prominent in the readme!\nPeople don't read it anyway and if you put all the important things in it, then you have everything in it, which is already the case.\nIf you google for \"skrollr body height\" the first two results yield the correct solution, namely setting \"forceHeight\" to false, as I mentioned above.\n. > body height 100% !important worked.\nWith forceHeight set to false there is no difference between height:100% and height:100% !important\n. Questions belong to StackOverflow.\n\nBut since it is not proper as the example you have shown.\n\nThat not very descriptive.\nI guess it has to do with the images (the page weighs 16mb!). But I don't see them on mobile (just dark background).\n. > While I \"touchmove\" the page the scroll movement is too much in iPad.\nIt should correlate exactly with your finger movement. I have never used an iPad myself though.\n\nI am using Skrollr 0.5.14 version. \n\nThe link you've posted uses 0.6.15.\n. What's wrong with using 0.6.x for iPad? 0.5.x doesn't use CSS transforms for scrolling -> bad performance.\n. Tried it on Android and iPhone 3gs with iOS 6. Works on both. I don't have any other iDevices for testing.\n. > iphone 4 / ipad 4 outside of an iframe: typing works fine\n\niphone 4 / ipad 4 in the iframe: the keyboard opens on click and typing triggers all events (keydown, keypress, keyup) but no text appears\nsamsung galaxy in the iframe: the keyboard never appears but a cursor does and the focus and click event does fire\nsamsung galaxy outside of an iframe: same thing as in an iframe, so it's not purely an iframe/skrollr conflict\n\nDid you do all those test without skrollr as well? Just to make sure that it's not an OS bug with iframes in general\n. version 0.6.17\n. Questions belong to StackOverflow.\nDid you put the init call inside the skrollr code? You don't need to manipulate the skrollr source, ever.\nWrap your init call like this:\njs\nif(!(/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent || navigator.vendor || window.opera)){\n    skrollr.init({\n        forceHeight: false\n    });\n}\n. 0.6.16\n. I doubt outputting everything to the console would help much. Because relative mode values are transformed to absolute mode. So you still wouldn't know when you've reached data--600-top.\nIn your specific case just use data--600-top=\"transform:rotate(95deg) scale(1.333, 1.333);\".\nAnother solution would be to use two nested elements. One for the scale animation and one for the rotation.\n. Please post questions on StackOverflow.\nLooks good on Android in Chrome, not so good in Firefox (something is messing with the native scrolling).\n. Hm, you've written a lot of text, but I still don't quite understand why you needed to modify the core. Can't you just post a link to an example and to your modified skrollr (reading the diff would be much easier than reading your explanation of the modifications)?\n. > Is there a feasible workaround here?\nMy last information was that it's not possible in iOS7.\nQuick Google http://stackoverflow.com/questions/18813476/is-it-possible-to-hide-the-address-bar-in-ios-7-safari\n. Question belong to StackOverflow. Take a look at data-anchor-target\n. just wrap init in an if block\n. Questions belong to StackOverflow.\nAlso I don't understand what the problem is. Every 500px a new section appears as expected.\n. > We've tried one of our projects with IE 9 and the experience is far from smooth - most of it jumps around and jitters.\nAnd did you try IE 10 and 11 as well?\nI hardly use IE, I just occasionally fire up a VM if I really have to (like once a month). I don't see an obvious reason why it shouldn't work, but I can't tell for sure.\n. Which user agent does this version you are using report?\n. But we're not talking about touch, right?\n. Hm, I don't know enough about IE 11 quirks. I bet @cubiq knows what's up. I'll ask him on Twitter.\n. related? http://connect.microsoft.com/IE/feedback/details/793711/ie-11-on-windows-8-1-scrolling-issues\n. Cool, it won't help your users though.\nJust for the lulz you could periodically output all of these three properties in this line to see if there's some funky stuff happening https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L601\n. Looking at the video again, this clearly looks like a bug with fixed positioning.\nDoes the same happen with this example http://jsbin.com/IMoyUqaW/1 (does the blue box jump and reveal the white body?)\n. > @Prinzhorn regarding the output of that line - if you are a bit more specific, I can performed a local test and send you the values? Maybe I can test on the fontwalk.de website?\nI'm interested if the values \"jump\" as well. If you scroll down, the values should increase monotonically.\n. > Slightly off topic but not unrelated, would it be possible to include a flag to shut this plugin off for specific browsers or mobile?\nI'd just put init() in a if-block\n. > I'm having the same issue with windows 8.1 and IE11 too. It jumps around and jitters. Are there any new clue/hints for this bug? My elements are position absolute all with a positive z-index.\nI'm having the same issue in a different project. This has absolutely nothing to do with skrollr. IE 11 does not fire scroll events while doing it's smooth scrolling thing. I was hoping they would figure this out, but it still hasn't been fixed. I'm clueless.\nhttp://stackoverflow.com/questions/21775234/ie-11-smooth-scrolling-not-firing-intermediate-scroll-events\n. > Overriding the mousewheel event seems to fix it:\nDoesn't that remove the smooth scrolling altogether? But if it works for you, why not.\n. @ArialBlack are you talking about Windows 7 as well? Just asking if that's the same issue since Microsoft confirmed it only happens on Windows 7 and they will probably never fix it.\n. @ArialBlack I don't think that's related to this issue if it affect Chrome as well.\n. https://github.com/Prinzhorn/skrollr/issues/206\n. Questions belong to Stack Overflow\nAnimating background-position is extremely slow. Use a nested element and translate() it.\n. I don't. You need an outer and an inner element. The outer one is smaller than the inner one, but has overflow:hidden. You then translate the inner one inside of the outer.\n. > as \"_instance.getScrollTop()\" always returns zero. \nWhy is that?\n. > have to digg a little bit deeper. Really wonder whats going on there.\ncool, keep me updated\n. Try data-100p-end if I understand you correctly\n. I already saw the StackOverflow post. What you ask for is not possible. Use % instead of px this helps in your case.\n. First of all: I don't have an iPad, so I can't help you as much as I would like to.\n1. \n\nThe skrollr adaptation to tablets stop working and the website isn't seen correctly.\n\nThat's very vague.\n1. I'm not sure why that would happen. Maybe Safari doesn't fire the resize event correctly when closing the keyboard. Try executing the refresh method shortly after the input gets blured.\n. I don't know how your HTML and CSS are structured, but don't you defined the width of these elements? Or are they animated? It looks like the width of the whole body is wrong. Do you dynamically update the CSS for different viewport sizes?\n. > Do Skrollr change the size of the images and texts depending on the size of the viewport size?\nIt does only change styles when there are keyframes. And it changes the styles of body (overflow and height) and skrollr-body\n\nI'm working in this. I will tell you if I can solve it.\n\nGreat. I can't help you much, sorry\n. > Is refresh method correctly used?\nno. Look at your console, there should be an error because it does not exist on skrollr\n``` js\nvar skrollrInstance = skrollr.init({\n    forceHeight: false,\n    mobileDeceleration: 2\n});\njQuery(\"#luna form input\").blur(function(){\n    skrollrInstance.refresh();\n    //or\n    skrollr.get().refresh();\n});\n```\n. Please check if the resize event is firing while the keyboard is disappearing.\nMaybe create a blank page with only an input element and log every resize event on the page to see when it's happening. If there is a resize event after the keyboard has been completely removed, then skrollr should recalculate all the things correctly. Or there may be other issues.\n. Unfortunately I don't have access to an iPad. Maybe someone finds an article about it and possible workaround. We can't be the only ones with this issue.\n. > This seems to be broken on Androids and iPhones too\nthanks for the info. That would be great if the keyboard issue is not just an iPad issue. Have to check.\n. #192 \nWorkaround: listen to the render event and animate the element manually at the right time. Or maybe use CSS animations triggered by the skrollable-between class.\n. I don't see a ul.fadeout on your page. Also why did you add the skrollable-between class?\n. see #370\n. > Are there common issues with using skrollr with wordpress?\nskrollr is a client side library. wordpress is a server side cms. conclusion: no\n. #232\n. questions belong to StackOverflow\n. > They are also rather large background images, is there a way for skrollr to preload them so there is no load delay?\nPreloading is not in the scope of skrollr. Just do it yourself.\n\nMaybe that's the issue\n\nWell, does the delay disappear once all backgrounds have been loaded?\n. I need a test case or demo page\n. > Can I send you a zip file of the package?\nI get those a lot, but the point of an isolated test case is:\nYou often find the problem by yourself, because it often doesn't exist in a minimal example, because it's caused by other libs or side effects. You wouldn't be the first one.\n\nI would rather not post our dev URL\nIts also just static HTML, very simple\n\nwhich should make it easy to create a isolated test page on jsbin.com or similar ;-)\n. I can't really reproduce it.\nIn Chrome, once all images have been loaded, the background-image switched promptly.\nIn Firefox, there is a very small, almost not noticeable flicker of white. I guess because Firefox needs to load the image from cache into memory, because it didn't need it. Try adding a hidden (e.g. translated off-screen) <img> for each of them, so they're always preloaded and ready.\n. > I've created a SO questions here:\n. > skrollr.init();\n\nto:\nskrollr.init().refresh();\n\nIt's kind of misleading. What you actually want is to call refresh every time an element that has animations changes. The code above only works because skrollr is a singleton and init is the same as get after the first call. So basically you want to initialize skrollr once and then use skrollr.get().refresh() (or save a reference instead of calling get all the time).\nIt would be even better to pass the changed elements as parameter to refresh.\n. This line should keep it from doing that, but maybe there's a bug with Android https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L783\nI can't dig any deeper, maybe you can take a look at it now that you know I already handle that case.\n\nnot sure this is native scrolling or CSS transform\n\nscrollbar visible and moves? then it's native.\n. > Images are loading twice and after that i'm still getting skrollr animation.\ncould you explain this a bit? Not sure I understand.\n. Workaround:\nuse mobileCheck: function() {return true;} and call setScrollTop(X) every time your custom scrollbar changes, where X is the new offset. Don't use skrollr-body.\n. Which OS? I don't see any lags on Ubuntu.\nThe only thing I see is that the page does not work correctly on Firefox, I guess because you nested two fixed elements, which Chrome and Firefox seem to handle differently.\n. What do you mean by disabling? Aren't you just keeping skrollr from adding CSS classes to the documentElement? Everything else should run as before.\n. Just do \njs\nskrollr.init({\n    mobileCheck: function() {return false}\n});\n. Can I close this then?\nThanks for the efforts though. Feel free to send in pull requests in the future.\n. > With my \"solution\" the iPad does not show any animation.\nthat's more like a side effect of your solution which you didn't plan that way. Since initMobile does not get called, getScrollTop always returns 0\nSee https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L598 (_mobileOffset will never get updated)\n. I suggest you just do sth. like \njs\nif(!IS_MOBILE) {\n    skrollr.init()\n}\nAnd determine what IS_MOBILE is by checking the user agent, like here https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L273\n. I see. You can do\njs\nskrollr.init([\n    beforerender: function(data) {\n        return data.curTop === 0;\n    }\n});\nthis will prevent rendering except for scroll position 0\n. Does it work if you initialize skrollr immediately, instead of inside the ready event?\n. > I'm still coding, I'll tell you if there are more problems with skrollr and hash links.\nAlright. Close this then if you think you sorted everything.\nAlso you should rather open issues on the skrollr-menu repo.\n. > preloading the images seems to prevent the flickering stroboscopic effect.\nIt's what I'd have recommended as well.\n\nis it possible to have an integer interpolation ?\n\nNo. It's only forced for z-index. I think the best way is to use PHP or similar to output the correct keyframes.\nCan we close this then?\n. Use an anchor with name tag is outdated, deprecated (http://stackoverflow.com/questions/484719/html-anchors-with-name-or-id) and not supported by skrollr-menu (you use that right?)\nUse the id attribute.\n. > I've just been using vanilla skrollr, would skrollr-menu work better?\nI thought you were. It depends on what you're doing and what you want.\nSkrollr itself doesn't do anything to the native scrolling, so if you have issues with hash jumping they can't be skrollr related (disable skrollr to see if it's still not working).\n. If it's a skrollr-path issue, why not create one there? https://github.com/Prinzhorn/skrollr-path/issues\n. Questions belong to http://stackoverflow.com/\nYou should share there what you've tried so far\n. There's no API for that. Skrollr's internal representation of the keyframes is the same as the DOM attributes.\n. I'm currently going through open issues. How did you end up solving this?\nWould something like this have worked in your case? https://github.com/Prinzhorn/skrollr/issues/69\n. Basically a combination of #69 (which I'm planning to add [yeah, I said this years ago already]) and the already existing constant-functions (https://github.com/Prinzhorn/skrollr#dynamic-constants) you can have the keyframe offset and its value automatically updated by skrollr.\nEdit: Maybe add your voice to #69, what I suggested in this comment is still up to date (https://github.com/Prinzhorn/skrollr/issues/69#issuecomment-9061662)\n. The proper way is to prevent the event from bubbling. It will never reach skrollr then.\nAlso #251 \n. There are other bits of code that use documentElement.clientHeight. Do you have a failing test case/example for the old code? Since all pages use html {height:100%} for overflow scrolling, both values are the same.\n. I agree. Now we need to make it work in IE http://stackoverflow.com/questions/10173236/window-innerheight-ie8-alternative\nE.g. window.innerHeight || documentElement.clientHeight but then there's not point in using it if IE still uses the old value (in case you didn't set HTML to 100% height, it will fail in IE I guess).\n. In the future: questions belong to StackOverflow.\nIt expects a number, not a jQuery object (skrollr is not, in any way, related to jQuery).\n$(\".scrolldown\").click(function(){\n    skrollr.animateTo(skrollr.relativeToAbsolute(steps[0], 'top', 'top'));\n});\n. 1. This is sounds like an issue with skrollr-menu, so why not open an issue there? https://github.com/Prinzhorn/skrollr-menu/issues\n2. If I understand you correctly, that's what data-menu-top is for.\n. > I've removed the skrollr instructions and it still happens\nWell, it's not a skrollr issue then, is it?\n. I don't see any flickering in Chrome on Ubuntu and Windows 7 VM.\n. > i'm having troubles with Mac OS 10.7.\nI don't have access to a Mac, so if you find the cause it'd be great if you could post an update.\n. > None of my image links seem to work on mobile devices\nCould you be more specific what \"image links\" are on your page?\n. You're using version 0.6.11\nhttps://github.com/Prinzhorn/skrollr/blob/master/HISTORY.md#0615-2013-10-03\n. > The mobile browser seems to center it inside the #skrollr-body, not in its parent div.\n#skrollr-body on mobile uses CSS transforms, which is similar to adding position:absolute, namely that the child elements using absolute are positioning relative to it. In case you didn't now: absolute positioned elements are positioned relative to the closest parent element which has a position of other than static.\n. Need code.\nAlso you should not that overflow is not well supported, especially across older devices/OSs.\n. Which version do you use?\n. Also since you're using jQuery try this\njs\n$('.nav').on('touchstart touchmove touchcancel touchend', function(e) {\n    e.stopPropagation();\n});\n. Post a demo for example on http://jsbin.com\n. > I have to touch the navigation links two times to get an action.\nDo the links in the jsbin have actions? Because I don't know how to reproduce this.\n. I tried iOS and several browsers on Android and if I tap a link they open.\n. Looks like an issue with the popup blocker (issue no. 1 https://code.google.com/p/betterpopupblocker/issues/detail?id=1)\nIf you think otherwise, reopen with more info\n. Can you create an example page for reference?\nIt must be this line I guess https://github.com/Prinzhorn/skrollr/commit/66d501b53dea05baa7841323ca342f1d1dcd07c1#diff-d2510978f12c9dda538c63ab41f3318aR700\n. > I will upload before/after fix examples so you can test it on mobile.\nGreat, I'll wait until a merge the PR. So far I don't think I understood the problem 100%, need to see it myself.\n. thanks!\n. Prevent the touch events on these elements from bubbling to the document.\n. Try this: Listen to the resize event yourself and call refresh. Here's an example with underscore (there are other (stand-alone, jQuery, etc.) debounce implementations as well)\n``` js\nwindow.addEventListener('resize', _.debounce(function() {\n    //Update data attributes here.\nskrollr.get().refresh();\n\n}, 300), true);\n```\nDebouncing is needed because some OSs (e.g. Windows) fire resize events constantly while resizing, but you don't want to re-parse all elements all the time.\n. > my script to detect them is no longer seeing them\nCould you share your script? Do you by any chance use .data() ?\nEdit: Well, seems like you do. Read the docs about it again http://api.jquery.com/data/\n\nThe data- attributes are pulled in the first time the data property is accessed and then are no longer accessed or mutated (all data values are then stored internally in jQuery).\n\nYou need to use .attr()\n. > and my code to remove them is what I showed you earlier:\nWhich is using .data(), which does NOT reflect the data attributes.\n. https://github.com/wagerfield/parallax\n. Related #330 \nI don't have an iPad and without seeing code I can only guess.\nIt the second screenshot the same page but without skrollr? If not, what happens if you remove skrollr?\n. @christian-bromann does this work with visibility:hidden as well? Because this would preserve the size of the element and you could just use skrollr itself to apply it using relative mode.\nBtw. nice to hear that you found a solution!\n. I'll try to tackle this together with #148 and a rewrite of the constants. I also want to allow functions as constants.\n. Please check out version 0.6.19 and tell me if it works as expected.\n. Since you're already using percentage values, this should work. I don't think this is a problem with skrollr itself but with something in your code. I'm sorry but I don't have time to dig through your code.\n. Could you share example code? Maybe a very basic demo on jsbin.com\n. It does work on the default Android browser on my S2, which should be the same rendering engine. There's this issue with Android: #175 but you say your window is completely white. There must be something completely wrong.\n. Attachments won't appear in GitHub comments, you need to upload them here.\nI don't know how I could help you, sorry.\n. > Do you know of anyone using skrollr ok in an android webview (pre 4.4)?\nNope, haven't heard of any.\n. Nice to hear!\n. I'd like someone to confirm this before merging. I've actually never used a Windows Phone myself.\n\n(in matter of scroll events)\n\nWe're not using scroll events. What's important though is that IE doesn't throttle JS during scrolling and also the it constantly updates the scrollTop value.\n. > Just found the same issue, thanks for the fix.\nSo you can confirm that Windows Phone works good without the mobile mode?\n. Thanks to both of you!\n. Please remove the skrollr.min.js, I will create a new release with version number after the merge.\nHow are we gonna proceed from here? Are you done? If so, do you want to start with the plugins as well? I think https://github.com/Prinzhorn/skrollr-menu is the most important. I've open an issue for discussion https://github.com/Prinzhorn/skrollr-menu/issues/31\n. > do you want me to squash the commits?\nyes please.\n. Great. I will pull this in the next days. I want to wait if we find an answer to the IE/conditional comments issue.\n. Thanks again and sorry for the delay.\nI've merged this thing manually. I've called it experimental support, because we still need to update the plugins.\n. I'm not interested in horizontal support.\nApart from that, if you want horizontal support for your own clone, I would solve this differently.\nWhy have both getScrollTop and getScrollLeft? Only a single getScrollOffset is needed. Same for forceHeight and forceWidth. You only need a single forceSize option. You will end up with much less duplication.\nI would even go a step further and add this as a build step and compile two different skrollr versions instead of an option.\n. If you bind your touch events before skrollr does and stop them from propagating to skrollr, you can customize it. You can control the scroll position use setScrollTop and animateTo.\n. See comment here https://github.com/Prinzhorn/skrollr/issues/378\n. I've never tried this. In theory it should at least perform the same as skrollr with mobile mode.\n. For using iScroll with skrollr I don't see anything that v4 and v5 make different. They both use the first child of the wrapper to fake scrolling (which is one of the reasons I'm not using it anymore) and allows accessing the current scroll position (which is the only thing a scroll library needs to be able to hook it with skrollr).\n. > I am assuming you dropped iScroll because of the performance hit coming with that fake scrolling you're talking about?\nnot at all.\n1. iScroll (especially v4) offered tons of features that skrollr does not need. I didn't want to force people to include another large file\n2. As mentioned above, \"They both use the first child of the wrapper to fake scrolling\", which was causing endless confusion and open issues.\n. > Also it will get a thin core in the future and everything else will be plugins.\nIt won't. iScroll 5 has a build system that allows stripping features. (see different builds here https://github.com/cubiq/iscroll/tree/master/build)\n\nProbably you could work around it and generate markup iscroll requires.\n\nskrollr won't generate any markup. This could mess with your CSS selectors and cause even more new issues by novice users.\n. > What did you mean by it?\nI mean that iScroll will probably perform better, but at least not worse than skrollr itself.\n. > I was rather asking you what are the downsides of the mobile mode, because I couldn't find them in your wiki :)\nCompared to iScroll, the skrollr mobile mode mimics the momentum scrolling less well and doesn't feel quite as native.\n. What is the expected behavior?\nThe order of data-top and data-bottom changes when the the elements are larger than the viewport. I think that's not a bug, just a flaw with your design. Correct me if I'm wrong.\n. I don't think it's that easy.\niScroll does this https://github.com/cubiq/iscroll/blob/master/build/iscroll-lite.js#L88\n. Yours\nhtml\n<div id=\"#skrollr-body\">\ncorrect\nhtml\n<div id=\"skrollr-body\">\n. It's empty\nhtml\n<div id=\"scrollr-body\">\n</div>\nEdit: and it's k, not c\n. > I tried wrapping all my content with \nAgain, it's s k rollr not s c rollr\n. I currently don't have access to IE 9. My guess is that there's something wrong with prefixing.\nCould you log the value of theCSSPrefix and theDashedCSSPrefix at the end of this function https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js ?\nIf this looks correct, then try to debug the setStyle method. E.g. after this point https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L1327 add something like\njs\nif(/transform$/i.test(prop)) {\n    console.log(prop, val);\n}\n. It's working for me (just tried with the skrollr website and applied some transform) in IE 9 on Windows 7, so please create a demo page I can debug.\nAnd http://dgserver.nl/dutchgiraffe/actiesites/happynewyear/ doesn't contain any transform inside the source code. I guess it's inserted dynamically, maybe that doesn't work?\n. Can't reproduce (Version 32.0.1700.77). There are a lot of setting in the dev tools, one of them could cause issue when enabled. Try to find out which.\n. thx\n. I guess it would be great to add skrollr-up and skrollr-down classes to the document when the direction changes.\nFor now you could do sth. like this (the example uses jQuery because I'm too lazy and busy to do it in plain JS)\n``` js\nvar lastDirection;\nskrollr.init({\n    render: function(data) {\n        if(direction !== data.direction) {\n            direction = data.direction;\n        if(direction === 'down') {\n            $('html').addClass('skrollr-down').removeClass('skrollr-up');\n        } else {\n            $('html').addClass('skrollr-up').removeClass('skrollr-down');\n        }\n    }\n}\n\n});\n```\n. You misunderstood my code.\ncss\n.skrollr-up #fleetweek {\n    /* Add prefixes */\n    transform:rotate(180deg);\n}\n. > what is lastDirection\nI've defined it in the code above in the very first line.\nYou should learn CSS and JavaScript before using skrollr.\n. I'm sorry, the code I posted was actually wrong. I named the variable direction and decided to change the name later to lastDirection without updating it in the code.\n``` js\nvar lastDirection;\nskrollr.init({\n    render: function(data) {\n        if(lastDirection !== data.direction) {\n            lastDirection = data.direction;\n        if(lastDirection === 'down') {\n            $('html').addClass('skrollr-down').removeClass('skrollr-up');\n        } else {\n            $('html').addClass('skrollr-up').removeClass('skrollr-down');\n        }\n    }\n}\n\n});\n```\nI didn't read through your whole post. Please learn how to use GitHub markdown to properly format the code. Everything is mixed.\n. Since you're already using a transform on the image you can't rotate it at the same time. You need a wrapper element \nhttp://jsbin.com/oHoZEXUT/1/edit\nPlease post question on http://stackoverflow.com/ in the future.\n. These kind of questions belong to http://stackoverflow.com/ . Thanks!\n. I've commented on StackOverflow. I was able to reproduce this using Chrome on Desktop. You can then debug it.\n. It's applied immediately because\n1. The element is already above the bottom when the page loads\n2. There is only one keyframe, so it's applied right away (see https://github.com/Prinzhorn/skrollr#edgestrategyset)\nIf you move the element down (by adding more lorem ipsum above) and add a second keyframe, then this happens http://jsfiddle.net/eqfSv/2/\n. these types of questions belong to http://stackoverflow.com/\n. There are no events for this out of the box.\nYou can use the render event and check for curTop https://github.com/Prinzhorn/skrollr#beforerender\n. > i ended up monitoring the scrollY value and fire my functions accordingly\nthat's what I was suggesting.\n. Set forceHeight to false. I guess you have a keyframe on your page that is larger than the page itself.\nhttps://github.com/Prinzhorn/skrollr#forceheighttrue\n. I don't see a gap in Firefox or Chrome\n. Hm, it'd be great if you would be able to create a test case which works on \"normal\" sizes desktop.\n. That's on purpose. See discussion in https://github.com/Prinzhorn/skrollr/issues/249\n. Please ask questions on StackOverflow in the future.\nWell, your page has this rule\ncss\nhtml, body {\n    overflow: hidden;\n}\nAnd the gap is there because you don't have enough content to get to data-600, see https://github.com/Prinzhorn/skrollr#forceheighttrue\n. There are multiple projects named \"lazyload\"\n. > Lazy Load : http://www.opensource.org/licenses/mit-license.html\nCopy pasta mistake I guess.\nAnyway, I guess these are the issue\n1. Lazyload uses code like body.scrollTop, but it needs to use skrollrInstance.getScrollTop() to get the correct offset on mobile.\n2. If skrollr-body doesn't have the correct height, you're probably calling init too early. Wait before the images have been loaded or use the refresh method\n. > any idea why?\nNot from the top of my head. I don't know the unveil.js source code and I also haven't seen your modifications.\n. Agree. There should be a flag and by default isAnimatingTo should return false if it was started by a touch event.\n. I can't tell what the problem is just by looking at some screenshots.\n. I can't reproduce this in Firefox or Chrome. If I scroll down to the end, the yellow box is fully visible.\n. Which browser do you use?\n. It's working for me on Google Chrome, so I can't help you without reproducing the error.\n. Does this happen on the skrollr website as well for both of you?\n. Now it won't work for a single element anymore.\n. You have multiple elements with the id skrollr-body on your page, which is not valid.\nAlso you're using Frames, which I haven't seen anyone using in the past ten years.\n. > I have multiple divs in my page which need to scroll, so is \"skrollr-body\" required only on one of them? which one?\nNone. Put all of them inside of a wrapper element.\nhttps://github.com/Prinzhorn/skrollr#what-you-need-in-order-to-support-mobile-browsers\n. I've just noticed your elements are positioning fixed. You don't need skrollr-body for those\n\nThe only case were you don't need a #skrollr-body is when using position:fixed exlusively. In fact the skrollr website doesn't include a #skrollr-body element. If you need both fixed and non-fixed (i.e. static) elements, put the static ones inside the #skrollr-body element.\n. > What to do?\n\nHave you tried removing skrollr-body completely?\n. > I have Galaxy S4, and I am testing on stock browser.\nIt must be an issue with this particular browser. What Android version is installed? I have an S2 with Android 4.1.2 and your page works in stock browser (also in Chrome for mobile).\n. This has nothing to do with skrollr. It's a CSS issue. Read about the \"viewport meta\" tag.\n. > but any solution to the original problem?\nCan't reproduce without the right device/browser. So no.\n. https://github.com/Prinzhorn/skrollr#setscrolltoptop-force--false\n\nSets the top offset using window.scrollTo(0, top) on dektop or updating the internal state in case of mobile scrolling.\n. Now the only issue I see is that it won't work in IE < 9.\n\nBut if you look at the code that follows your changes, you'll see that the code uses elements.length to iterate over the elements. This will work for all Array-Like objects. There's not need to use slice.call at all. else if(!hasProp.call(elements, 'length')) {elements = [elements]} should be enough.\n. Questions belong to StackOverflow.\nBut if you post it there, the first thing you will get asked is: what have you tried?\n. Zooming is not supported #206 \n. Not sure if I understood you correctly. Did you see the data-anchor-target attribute?\nAlso: there is just one viewport. Maybe explain what you want to achieve.\n. Does div#viewport have overflow:auto? If so, then this is not supported #232 \n. What do you mean by viewport? There is just one viewport, that's the thing inside of your browser window where the website is in.\n. Does this help? http://prinzhorn.github.io/skrollr/examples/anchors.html\n. Please post the response headers of the image request. Or even better: a link to one of the images.\n. You had the developer tools open, was the \"disable cache\" checkbox checked?\n. I'm not sure if skrollr can do something about it. We'd need to check if the style changed, before setting it. But background-position is the only case were it matters (and I don't think every browser will refetch the image when setting the style to the same value again).\n. Unfortunately this is a IE bug and nothing skrollr related.\nhttps://www.google.com/?hl=en&q=ie+png+opacity+fix\n. > Skrollr just doesn't work. \nThis doesn't help at all.\nAlso please post these kind of questions on http://stackoverflow.com/\n. Does it work when using translate?\nIf yes, then I suggest to use translate for all browsers but IE8. Look at the IE plugin, you could use the same idea it to turn translate into top/left https://github.com/Prinzhorn/skrollr-ie/blob/master/src/skrollr.ie.js#L18\n. This sounds similar to #366, which is also about issues with the keyboard. And the presented workaround is the same as you do.\n. I added something similar to this, but more powerful. I'm not happy with the API though https://github.com/Prinzhorn/skrollr#keyframe\n. I don't see any reason why this shouldn't work.\nYou should note though that attributes in HTML are case insensitive, which will cause problems with your code.\n. What's your use case for this?\n. Do you have performance issue? Or does it just \"not feel right\" to have the invisible elements animate?\nI don't know if we should implement this. One thing you could do right now is this:\n1. Use destroy\n2. Detach the slide/section from the DOM\n3. Use init again\n. > but it doesn't seem to be working\nit should\n\nOne question I have is when I call destroy, does it completely remove the skrollr reference?\n\nIt's impossible for skrollr to remove the reference you have in your s variable, if that's what you mean.\n\nWould I have to init skrollr once it leaves the mobible size?\n\nYes. init and destroy are counterparts.\n. > It would be nice if disabling skrollr on mobile was implemented as an option.\nYou should create a feature request for this since it's unrelated to this issue (breakpoints !== mobile/desktop).\n. > Would you help me to figure out where is my problem and what's wrong in my code??? \nSure, it'd be great if you would share a link to the website. And it would be even greater to post this question on http://stackoverflow.com/ where others benefit from an answer as well.\n. Try something along the lines of\ndocument.addEventListener('orientationchange', function() {\n    window.scrollTo(0,0);\n}, false);\n. I can't help without your code, except for pointing out that it's data-_box-bottom, not data-box-bottom.\nAlso do you know CSS well? Often problems with skrollr are just misunderstanding or missing knowledge of CSS.\n. If you don't want it to move vertically, then you won't get around using position:fixed.\n. Need to see code/example page.\n. You need to use setScrollTop(0) on mobile.\n. If you just want to have href=\"#top\" working, you can also use https://github.com/Prinzhorn/skrollr-menu\nOr with plain skrollr do something like\nhtml\n<span onclick=\"skrollr.get().setScrollTop(0)\">to top</span>\nbut please don't actually use inline code. It's just an example.\n. If you want hash navigation, you have to use skrollr-menu\n. > If I use the options from the menu plugin as given on the github repo, it will break\nWhich ones did you use? They're all optional.\n\nTapping the top of Safari Mobile does not bring the user back to top. Is it because of the other scroll method (touchevents etc.) used in Skrollr? Any workaround to get this tapping back?\n\nI don't know of any.\n. > Tried to skrollr.get().refresh(); on opening the accordion but that won't work.\nIt should. That's all I can say, since your code is minified.\nBtw. you're (unknowingly) violating the license of skrollr and probably other libraries as well. The scripts.min.js file doesn't contain any license information.\n. There's a CSS transition. You need to call refresh when the height has actually changed.\n. Question belong to http://stackoverflow.com/\nAlso I can't visit the website, because it redirects me because of German IP address.\n. Questions belong to http://stackoverflow.com/\n. Questions belong to http://stackoverflow.com/\n. background-attachment:fixed won't work inside the skrollr-body, because it uses CSS transforms.\nThe only way I see is putting the background images/elements outside of skrollr-body, but I don't know if you can reproduce the same look then. I don't have time to think about it in detail now.\n. https://github.com/Prinzhorn/skrollr#refreshelements\nYou're calling refresh immediately after init. I don't know what you're trying to to with that callback parameter.\n. In the first keyframe there's no unit. Use margin-bottom:0px\n. Questions belong to http://stackoverflow.com/\nYou will have to be more detailed what \"not as smooth\" means if you want to get anwers.\n. Error console says\n\nReferenceError: $ is not defined\n\nbecause jQuery is included in the body, but you're using it in the head inside go-skrollr.js\n. Please ask these types of questions on http://stackoverflow.com/ as they're not issues/bugs with skrollr itself.\nSet the forceHeight option to false. I also strongly recommend that you get familiar with Firebug and/or Chrome inspector, because they answer many of these questions.\n. I hang around on StackOverflow quite often. So it's not like asking you to ask someone else, just somewhere else.\n. Questions belong to http://stackoverflow.com/\nBut you should share some code. My guess it that you should set forceHeight to false\n. There's no done option. When should it fire, what should be \"done\"?\n. I already started something similar to this https://github.com/Prinzhorn/skrollr/pull/284 but it's not done\n. I recommend not to animate background-position, it's slow in most browsers. Use an overflowing element and translate() it instead.\n. > Do you mean I have to position this element absolute and play with its position and different layers using z index to seperate the backgrobd\nAt least that's what I and others recommend (skrollr unrelated).\n. > Please let me know if there is any other information I can provide to help.\nA demo page would help.\n\nIn Chrome and Safari, when I open developer tools this issue disappears and skrollr works as expected\n\nSounds like you're calling skrollr.init too early (opening the dev tools will trigger a window.onresize which will update skrollr)\n. Questions don't belong here. Please post them on http://stackoverflow.com/\nBut you need to be more detailed to get an answer there. Share some code, because I don't understand what you want.\n. Need to see a demo page. Looks like expected behavior though looking at your keyframes.\n. Look at your keyframes, especially data-bottom-top. This means \"when the top of the element is at the bottom of the viewport\". In your fiddle this keyframe is long past when the page loads, since the element never even is below the viewport. If you don't want the background to move, then chose different keyframes.\n. Now the top of the element is already above the center of the viewport when you load the page. If you add some spacing to move the element down you'll see that it is 50% 50px when you load the page.\n. I think you're still misunderstanding how skrollr and relative mode works. But I don't know how to help you.\nMaybe take a step back, explain what you want to achieve (without thinking about solutions) and then we can find a solution.\n. could you create a real example page? I mean, the fiddle doesn't even scroll.\n. Thanks. I will add this sooner or later. For now everyone can just change the check function as you mentioned.\n. thanks\n. > Is there a way to have this way of behavior by default, without turning on 'Desktop mode' ?\nSet a custom mobileCheck option and just return false from it\n. First keyframe doesn't have a unit. Use 0px\n. Horizontal scrolling and zooming is not supported.\nhttps://github.com/Prinzhorn/skrollr/issues/437\nhttps://github.com/Prinzhorn/skrollr/issues/206\n. Why is the gray path not part of the svg image? Can't you just put both on top of each other there?\n. >  I added relative values to the two red paths. I added 'data-top' so that the animation will begin when the element is at the top of the viewport. It seems to be working on the second svg, but the first svg still takes to long to complete the animation. Am I using the relative tags correctly?\nIn your current demo page you're using data-end but also all your svgs have stroke-dashoffset:6000px, but that's not their length at all.\n. > How do you measure the length of a line that isn't straight?\ngetTotalLength or ask your SVG editor of choice if it supports it.\n. > That function came up as invalid in Chrome and Firefox?\nDoing this on the console on your page works as expected \ndocument.querySelector('path').getTotalLength();\nTried in Firefox.\n. Looks like a bug to me. I'll have to investigate.\n. Your second keyframe does not have a unit, e.g. -537 instead of -537px. That's not a valid value for top.\n. No https://github.com/Prinzhorn/skrollr/issues/232\n. Similar to the amd pull request which was open for a long time the reason is simple: I don't use amd or bower and have a hard time accepting those pull request because I don't want (can) answer issues related to those in the future, since I don't have any knowledge about them.\n. > The only thing you should update is version\nCan't bower just use the tags? That way the bower.json would basically never needed to be updated. This would also make much more sense, since the master branch can be in a post/pre-release state which is not meant to be used.\n. Call init when img/ale.jpg has loaded. Because otherwise the height is 0 and thus top === bottom\n. Edit: Please clarify if I understood you correct. Should data-100p-start === data-end?\nThose are percentages of the viewport per spec (which exists only in my head, but the docs say the same https://github.com/Prinzhorn/skrollr#percentage-offsets).\n\nyou can also have offsets as percentages of the viewport by appending a p to the number\n\nFor you I recommend using constant functions to simulate the same (untested, not sure about constants starting with a number):\ndata-_50p-start or data-_100p-start (note the underscore)\nand\njs\nskrollr.init({\n    contants: {\n        \"50p\": function() {\n            return this.getMaxScrollTop() / 2;\n        }\n        \"100p\": function() {\n            return this.getMaxScrollTop();\n        }\n    }\n});\ngetMaxScrollTop is not the whole document height. Play around with it.\n. Not possible (if you mean that https://github.com/Prinzhorn/skrollr/issues/232)\nAlso please post questions on StackOverflow\n. > Would instantiating/destroying the init call and removing the data-attributes per section div work?\nYes. That's probably the only solution you have atm.\n1. destroy\n2. Update attributes\n3. init\n. makes sense. Thanks!\n. Just found this one again. Just linking them for later https://github.com/Prinzhorn/skrollr/issues/110\n. Just prevent the touch events from bubbling (stopPropagation) to the document when they occur on the carousel and are mostly horizontal.\n. > Currently still playing around with which X and Y values feel best when swiping on a tablet. Might even remove checking for Y movement altogether, not sure what feels best. \nI guess this is the part where swiper handles this https://github.com/nolimits4web/Swiper/blob/master/src/idangerous.swiper.js#L1353 by only checking which direction has moved farther\n. Thanks!\nIn case you didn't know: you can use relativeToAbsolute(element, 'top', 'top'), which probably has the same issue on mobile (I'm always calling it on a clean element, which has not been processed by skrollr).\n. As you said, there are already open issues like this one https://github.com/Prinzhorn/skrollr/issues/342\nYou may have better chances on StackOverflow, since I don't have access to Safari and also there's no point in having multiple issues open here.\n. Thanks. I will probably never spell omitted wrong again :-).\n. Need code since it works for others.\n. Can't reproduce on Android. What I did notice though is that since skrollr-body doesn't cover the whole thing, sometimes native scrolling kicks in (depending on where you touch). This way you could theoretically scroll twice the height of the page.\n. Do you mean this overlapping? (the screenshot was created in Firefox with JavaScript disabled)\n\n. > No it was getting stuck around the red circles towards the bottom of the page\nDoes that mean it's solved now?\n. @DanDvoracek \n1. You have added the id skrollr-body to the <body> element, but you need to add it to a children of the body. E.g. <body><div id=\"skrollrobdy\">...\n2. You use position:fixed. These elements need to be outside of skrollr-body.\n. forceHeight:false  https://github.com/Prinzhorn/skrollr#forceheighttrue\n. Questions belong to StackOverflow. GitHub is for issues (e.g. bugs) and also feature requests.\n. It was never a feature of skrollr. I just created an example/proof of concept using skrollr. You can still find the example and use it as inspiration.\n. I don't quite see a use-case for snapping to keyframes, since there may be hundreds of them. the example is snapping to different elements instead. If you know JavaScript, the implementation is trivial.\n. > What I suggest allows for setting (modifying) animation stop point before animation start\nHow do you know when it starts? The user needs to scroll at least a bit in order for us to know that an animation should start.\n. Maybe you could use something like https://github.com/peachananr/onepage-scroll instead?\n. > Is paid support an option?\nNot at the moment.\n\nHowever, this website content always stops at full slide while I need smooth snapping.\n\nI'm sorry, but I think I still don't understand what you want exactly. Have you ever seen a website which does exactly what you try to achieve? That would be great.\n. Now I finally understood what you want :). Please confirm that this is what you want:\n\nThe user scrolls through your website and stops scrolling to read/view some of the content (stopping means the scroll position doesn't change for a specified amount of time, e.g. 300ms). If the scroll position of the user is close to a defined keyframe/scroll position (e.g. not farther than 20px away) the position should animate the distance to the exact position.\nFor example the user stops at scroll position 190px and one of the snap positions is defined at 200px, then the remaining 10px should be scrolled automatically.\n\nCan you send me a link to the work in progress website to alexander@prinzhorn.it? I will take a look at it and we will find a solution. Depending on how complex the website is, it shouldn't be hard to implement what you want. It doesn't belong to the skrollr core though, maybe a plugin, or maybe this is something that everyone should implement specifically for their project.\n. Does that mean you want the snapping to happen when the scrolling is still in motion? I doubt that's possible, because you can never now when the user scrolls again and you completely destroy UX.\n. Snapping will not be added to skrollr itself. It's out of scope. I don't know how to help you any further. Maybe someone on StackOverflow is able to help you.\n. > Perhaps exposing a new event allowing dynamic smoothScrollingDuration and mobileDeceleration adjustments/control would be both sufficient and effective - if you are familiar with this pattern.\nThis sentence makes me believe I still haven't understood. Does that mean snapping should only work on mobile or with smooth scrolling enabled?\n. > Not only on mobile, I thought smoothScrollingDuration applies to 'regular', non-mobile devices as well. But I could be wrong.\nYou can disable it, that's why I'm asking. I assume snapping shouldn't be related to smooth scrolling.\n. On mobile smooth scrolling is ignored, because it doesn't make sense there. So this isn't a solution either. Also smooth scrolling just interpolates between the two scroll position that the user scrolled, there is no magic involved which calculates a new position, this is only done on mobile to calculate where to scroll to after the finger is lifted.\n. > allowing developers to calculate where exactly scrolling should stop\nFor smoothScrolling this doesn't make sense. Skrollr doesn't calculate an offset, it uses the distance that the native scrollbar/mousewheel/whatever has moved.\nAnd again, if we give you full control over how mobileDeceleration works, then mobile and desktop will do different things. On desktop skrollr doesn't manipulate the native scrolling at all. The mobileDeceleration is just an attempt to mimic native scrolling on mobile, because we can't rely on native scrolling there.\nIf you want full control over everything, then take a look at iScroll. skrollr is not meant for that.\n. > Not sure if this is the best way to fix it\nMe neither. Weird that IE throws this error when trying to delete a non-existing property...I'll fire up a VM and check this out.\nPlease remove the minified file from the pull request (revert it with another commit).\n. Great, thanks!\n. Landed in 0.6.24\n. I updated the demo page, it was using 0.6.22\n. I have removed the link already but haven't pushed the new README yet. Closing this since searching for the old website is not a valid issue.\n. Great, you can add it to the wiki. I remove all links from the documentation.\n. You may have better chances on StackOverflow.\nMaybe try disabling smooth scrolling just for the paths, this will result in much less renderings.\n. I don't know if skrollr can do anything about it. Maybe IE just sucks at drawing SVGs as well.\n. Thanks, others reported the same.\nhttps://github.com/Prinzhorn/skrollr/issues/366#issuecomment-32595466\nhttps://github.com/Prinzhorn/skrollr/issues/446#issuecomment-35628273\n. It'd be great if you could add some more infos and the fix to the wiki. https://github.com/Prinzhorn/skrollr/wiki/Common-Issues\n. > Is it possible to use animateTo with percentage offset like\nNo. You can simply do animateTo(document.documentElement.clientHeight * 2.4)\n\nit works but doesn't emit event at 240p. For retrieving event, I had to do :\nskrollr.animateTo( $(window).height() * 2.41 );\n\nIt should emit an event when you scroll past the keyframe, not when you're exactly at it. 1px is enough, e.g. animateTo(1 + document.documentElement.clientHeight * 2.4)\n. > I can post a link if need be just to show what I'm talking about. \nyes, otherwise it's impossible to check.\n. You should fix your markup first. I guess it's not on purpose that some letter-containers are inside others, or is it? For example wContainer is inside sContainer which is inside mContainer.\n. @jdyach skrollr isn't even initialized due to JS error.\n. You have this CSS rule\n``` css\nskrollr-body {\nheight:4820px;\noverflow: hidden;\n\n}\n```\nI don't think hard coding 4820px makes sense.\n. are you by any chance using 0.6.23 and not 0.6.24?\n. 0.6.22 did not have this code in it. But maybe you downloaded while I was releasing 0.6.23 (which has this issue)\n. Closing this. Reopen if upgrading skrollr didn't help.\n. Create a demo page where I can see it happen\n. It seems so be related to caching. It often happens when the developer tools are open and every time skrollr sets the background-image Chrome refetches the image (check the network tab).\n. > Just tried it - Cannot confirm its the devtools - at least when i want to animate the background position its flickering. \nok, we had this once, I thought it would be the same.\nCSS 3D transforms can also often cause flickering.\n. great!\n. Questions belong to http://stackoverflow.com/, maybe someone has an idea\n. Questions belong to http://stackoverflow.com/\nHiding/showing the address bar on mobile is weird and impossible to solve.\n. Not skrollr related. backgound-position-y and -x are not part of the CSS standard and Firefox doesn't support them.\n. This happens on Desktop as well if you resize the browser (screenshot is Firefox 29).\n\nYou're using background-size:cover, which means the background image resizes with the size of the element. But you're animating -280px of the background position. In some cases this will only reveal part of the image and in other cases the image will move too far.\nThere's no simple solution. You could for example use a second element for the background-image and let element be 280px larger than the parent in order to guarantee that there's exactly that much space.\n. I answered on Twitter (didn't see this issue here) https://twitter.com/Prinzhorn/status/465016488739749888\n\nhow would you like the feature to look like? How/where do you specify the classes? Add it to #99 \n. Read the docs again https://github.com/Prinzhorn/skrollr#relative-mode-or-viewport-mode\ndata-top-bottom= data-0-top-bottom: When the bottom of the element is at the top of the viewport (it's just not visible).\n. can't reproduce for http://prinzhorn.github.io/skrollr/ on iPhone 4s with iOS 7.\n. skrollr-stylesheets is a different project\n\nAnyway,\n```\n@-skrollr-keyframes animateFillingOffset {\n    0p {\n        #{\"@offset\"}: 0.99;\n    }\n500p {\n    #{\"@offset\"}: 0;\n}\n\n}\n```\n. > does skrollr need to be present to work?\nNo it doesn't. But skrollr-stylesheets won't do anything visible without skrollr. It just turns the stylesheet into data-attribute. If you don't include skrollr, then you only get the data-attributes without anything happening. It's like a preprocessing step that should happen before skrollr is initialized.\n. Animating margin is terribly slow. Try using CSS transforms.\n. The link you've posted doesn't use CSS transforms.\n. > The animations aren't smooth at all and the background images move not as intended. \nFirefox is the only browser which does smooth scrolling. Try disabling the smoothScrolling in skrollr to see if it's better.\nAlso animating background-position is very slow. Try to use a nested element and translate it as well to create the background movement\n. Questions belong to StackOverflow. You should also include the unmifnied skrollr, because otherwise it's impossible to debug.\n. This is a known \"issue\" https://github.com/Prinzhorn/skrollr/issues/290#issuecomment-22617061\n. Have you tried it? Why not?\n. > P.s. there's really no code examples to post in this case\nI can't help you then. This successfully link to #awesome http://prinzhorn.github.io/skrollr-menu/#awesome\n. The extra slash makes this invalid as a jump target, because a id can't contain it.\n. Without code/link nobody will be able to help you. Also please post questions on StackOverflow.\n. \"skrollr-body\" is not meant to be put on the body element\n. http://www.adatrix.com still uses skrollr-body on the body element\n. If it's only the default browser that has this issue, then it's caused by https://github.com/Prinzhorn/skrollr/issues/175\n. It's a bug with the Android browser and skrollr does not contain a workaround/fix\n. There can be multiple reasons, e.g. https://github.com/Prinzhorn/skrollr/wiki/Common-Issues\n. Your changes are based on 0.6.17, but this is already fixed in 0.6.24\nhttps://github.com/Prinzhorn/skrollr/commit/b0736b3dc7fa04e16300fd1ae18dc3d6af490e2c\n. thanks!\n. Create a demo\n. I won't download rar files from a file sharing website.\n. thanks\n. https://github.com/Prinzhorn/skrollr/commit/e06a81ad1d6cb58952920fc6676471ab05bc492e\n. https://github.com/Prinzhorn/skrollr#mobile-support\n. try initializing skrollr when the images have loaded\n. skrollr-body is not meant to be put on the <body> element.\n. Closing this in favor of StackOverflow.\n. skrollr only works for scrolling on the window/document/body, not inside a div.\n. You're right. Now I wonder if I actually implemented it that way from the beginning or if this was changed due to a bug. Because it would make more sense the other way round then it is now I guess.\n. Thanks, released as 0.6.26\n. > But i can't put the elements outside the skrollr-body element because relative transitions won't apply.\nCan't you move the background-elements outisde of it and use data-anchor-target?\n\nBonus question: If i apply transition: scale(2) effects to background containers, then the images would no longer be fixed to viewport. Why and how to resolve that?\n\nYou already quoted the answer from the docs\n\nYou can't have position:fixed or background-attachment:fixed inside elements which use CSS transforms as per CSS spec.\n. Quoting https://github.com/Prinzhorn/skrollr#mobile-support\nOn mobile the skrollr-body element is moved using CSS transforms. You can't have position:fixed or background-attachment:fixed inside elements which use CSS transforms as per CSS spec (http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/). That's why those elements need to be outside of the skrollr-body element.\n\nFlickering is probably caused because you're animating left/top. Use CSS transforms.\n. https://github.com/Prinzhorn/skrollr#hash-navigation\nIf you don't want to use skrollr-menu, you can just use animateTo instead of the jQuery code you're using, which won't work in skrollr's mobile mode.\n. thanks, that's definitely a bug\n. that path only has a length of 1075 not 6000\n. > Is there an easy way to calculate a path length of any svg (even a complex svg) ?\ndocument.querySelector('path').getTotalLength()\n. > What may cause bottom of the body hidden when using #skrollr-body wrapper on mobile devices?\nAbout 1000 things. For example calling init before images have been loaded, when they miss width/height attributes.\n. > Any experienced this?\nevery browser has default styles which may cause differences in rendering.\nFor your original question, see here for code to get the total height: https://github.com/Prinzhorn/skrollr/blob/0702584cb69ac25acd4ac6a33667c2ad9e15a4d2/src/skrollr.js#L1568\n. the oldest open feature request would solve this I guess https://github.com/Prinzhorn/skrollr/issues/69\nOn the other hand, it was only meant to dynamically change the values, not the property.\nEdit: Also Opera should support this http://caniuse.com/#feat=transforms3d\n. https://github.com/Prinzhorn/skrollr#refreshelements\n\nUseful when\n...\n- New elements are added to the DOM and should be controlled by skrollr.\n. Does the skrollr demo work on said device and browser?\n. It's always a good idea to look at your page without JavaScript. What will you find? Well, the page doesn't scroll at all.\n\nWhat's the reason for these CSS rules?\n``` css\nhtml {\n    bottom: 0;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\nhtml, body {\n    overflow-x: hidden;\n}\nhtml {\n    overflow-y: scroll;\n}\nbody {\n    overflow: hidden;\n}\n```\nIf you fix these it works for me.\n``` css\nhtml {\n}\nhtml, body {\n    overflow-x: hidden;\n}\nhtml {\n}\nbody {\n    overflow:auto;\n}\n```\n. thanks\n. > I can't provide a link as its localhost\nI can't provide support without code\n. I don't quite understand what you want. I'm just gonna post some links to the documentation\nhttps://github.com/Prinzhorn/skrollr#dynamic-constants\nhttps://github.com/Prinzhorn/skrollr#getscrolltop\n. > How do I implement getMaxScrollTop()?\nIt is already implemented. It's a method of the skrollr instance.\n``` js\nvar s = skrollr.init();\n//later...\nvar position = s.getScrollTop();\n//do something with postition\n```\n\nI know this is probably a basic question but I really haven't done a lot of JavaScript.\n\nGitHub issues are not the right place to learn JavaScript.\n. need code (I don't consider these three lines of JavaScript code. They're trivial and required to use skrollr). Post a link or at least your HTML.\n. Try animating transform:scale instead of width\n. I don't have Safari to try. But in general it's much better to animate transform:translate instead of top\n. > well... how to explain? xD\nPosting code is always a good start (I don't consider the trivial jQuery stuff you posted code). Post a link to your website or a simplified version on jsbin.com\nOn the other hand, questions of this kind do not belong on GitHub. Post questions on http://stackoverflow.com/\n. > Can I call the refresh for only some elements?\nhttps://github.com/Prinzhorn/skrollr#refreshelements\n. The first two don't make sense.\nIf it's not working with the last one, then refreshing doesn't solve your issue. Without knowing your website I can't help you any further.\n. One thing I noticed is that if you scroll all the way up and then start scrolling down, the animations work. Since you're using a lot of other stuff it's hard to tell if that's a skrollr issue.\nIs there a reason you're using relative mode, e.g. data-top on the fixed positioned elements?\n. #537\n. Oh well, it's not quite the same as #537.\nIt's a wontfix though. Skrollr restores the style and class attributes to the value it had when skrollr was initialized.\n. The DOCTYPE is an essential part. It's not just skrollr that will misbehave.\n. It's working perfectly http://jsbin.com/kezebaro/1\n. Two possible reasons:\n- The element contains an image which affects the height. Skrollr is initialized before the image is loaded and thus top and bottom and much closer, or even the same.\n- The element has a height of 100% (viewport) which will of course make data-top and data-bottom equal\n. questions belong to StackOverflow.\nJust check the user agent and conditionally initialize skrollr\n. I think this has been asked before and constants are probably the only solution. You can't really do this incrementally, since attributes don't have a order.\n. This doesn't sound like a bug in skrollr. Questions belong to http://stackoverflow.com/\n. I was unable to find the cause. I assume some advanced CSS wizardry is needed to workaround this apparent browser bug.\n. Questions belong to http://stackoverflow.com/\nHint: skrollr doesn't know about these new attributes.\n. Questions belong to http://stackoverflow.com/, this is for issues/bugs in skrollr. But you should explain there what \"go to the bottom of the page\" means and which of the \"methods published on the web\" you tried.\n. Questions belong to http://stackoverflow.com/, the GitHub issues section is for issues/bugs in skrollr, not for help with your implementation.\n. try initializing skrollr after the page has fully loaded\n. > first of all I hope this is a kind of forum because I don't really know where the forum is for Skrollr sorry\nIt's not. You can ask questions on http://stackoverflow.com/. But you won't get an answer with a question like this. I don't know what \"round 1\" is and how the code looks.\n. I don't have OS X to try this. But since you're working with SVG I recommend using SVG attributes like @transform instead of transform styles (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/transform).\n. remove comma\n. http://stackoverflow.com/questions/17098397/how-to-translate-and-svg-group-by-a-percent\n. Thanks for the suggestion. It may make sense for some and not for others. I will not implement a completely new DSL into skrollr as this would also bloat the code base. I also think that if you want a JSON like structure, it doesn't belong into the DOM/attributes anymore (see #85 for discussion).\n. I have to agree though that with all those offsets, anchors and constants the data attributes get nasty. Maybe we find a radically different way.\nMaybe turn upside down what others do: Instead of defining everything in JS and using CSS selectors (which makes you lose the connection to the DOM), how about having a data-skrollr attribute which only contains a name and then define named animations in JS. This also makes them reusable. We could also go as far and allow composing animations from existing ones and get uber-flexible.\nBut on the other hand, who has the time to code all this? If someone is willing to sponsor a part of it, then maybe yes.\n. The only issue I have without your site in a gap at the bottom of the page (iOS 7.0.6 on 4s). But there's nothing cut off.\n. Not possible out of the box. Having the scrollbar was one of the main design goals and motivations for creating skrollr.\n. What have you tried?\nAlso this doesn't sound like a bug in skrollr, thus it belongs to http://stackoverflow.com/\n. Does the website you linked even include skrollr?\nApart from that, remembering the scroll position is a browser feature and skrollr unrelated.\n. Can't reproduce since you're not initializing skrollr on mobile. Also this probably belongs to http://stackoverflow.com/\n. https://github.com/Prinzhorn/skrollr-stylesheets\n. http://stackoverflow.com/questions/25111180/skrollr-example-not-working-in-ie-9/25121292#25121292\n. I don't have a Mac and I'm even lazier.\n. Thank you @kevinmpowell\nI'm closing it if @dyllenenvoy can confirm that it does not crash with the latest version\n. define what \"working\" means for you. Except for Android stock browser it should work everywhere.\n. > \"Working\" means that while scrolling, the css parameters I indicated with \"data-\" attributes should evolve between the key frames I defined, as described by the principle of \"parallax\".\nPlease name a browser where this is not the case. I don't know how you would test for this.\n. If you come up with a nice solution, please share it. Otherwise I'm afraid I can't help you any further.\n. It's true on purpose. Why do you need to remove it?\n. Do you also have this white space on the example page http://prinzhorn.github.io/skrollr/examples/classic.html ?\n. The skrollr examples are provided as is and are not part of skrollr. You can use them as inspiration or starting point but I won't work on your website/customer's website free of charge.\nYou can ask questions on http://stackoverflow.com/, the GitHub issues sections is for bugs in skrollr.\n. Questions belong to http://stackoverflow.com/ . You will probably get downvoted though without providing code or better yet a demo page.\n. Questions belong to http://stackoverflow.com/ since this is probably not a bug in skrollr but in your implementation.\n. You didn't even ask a question. If you do have a problem and also your failed attempts to solve it, post them on http://stackoverflow.com/\nThe skrollr examples are provided as is and are not part of skrollr. You can use them as inspiration or starting point but I won't work on your website/customer's website free of charge.\n. I don't see any skrollr code there. Also questions belong to http://stackoverflow.com/ unless you think this is a bug in skrollr and can provide a test case or demo page.\n. > Because I'm not using them on a project and they trigger a lot of Recalculate Styles which could be avoided ..\nHow did you find this out? They are only manipulated at the edge of the keyframe spectrum for each element, which is rare. On the other hand the style of said elements is changed at the same time and also at every frame between. If changing style does trigger a Recalculate Styles in the same way class does, then deactivating it won't change anything. If that's not the case then there's still the argument that it's updated rarely and there shouldn't be any measurable performance impact.\n. thanks for taking a closer look at it. As your said I'm afraid there's nothing I can do about it.\n. huh?\n. The GitHub issues sections is not meant for fixing your code for free but for issues/bugs in skrollr itself.\nHint: you should probably not use CSS to animate SVG. SVG uses attributes for transformation and other things. Also read about transform-origin\n. try debugging it by logging the setStyle calls for the two elements you're interested in. E.g. here https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L1394 like this (untested)\njs\nif(prop === 'background-color' && el.getAttribute('data-anchor-target') === '#raising-profile') {\n    console.log(el, value);\n}\n. I don't mind pulling this in as it's very simple. I'm just trying to understand why you need this. Can't you just add a class to the element to style it differently depending on which layout you have? Or how does your setup look like?\n\nIf you have other requirements (like an updated Readme.md)\n\nYes, please document the option like here https://github.com/Prinzhorn/skrollr#mobilecheckfunction- (I guess it fits there since it's mobile related)\n. It's such a minor thing, I will pull it when you've added the docs.\n. First of all thank you for taking the time to write this patch.\nI have multiple concerns:\n- Can you actually measure a performance difference? If so, please provide a demo.\n- Does it actually do what you intend (given the first bullet point is yes)? Let's take a simple example with some made up numbers\ndata-0=\"left:0%;\"\ndata-800=\"left:55%\"\nnow for every pixel you scroll, it moves about 0.06875% like this\n0: 0%\n1: 0.06875%\n2: 0.1375%\n3: 0.20625\n......\n799: 54.9312%\n800: 55%\nas you can see, even the first decimal place changes every pixel you scroll. This means specifying a precision between 1 and 10 does not have any effect.\n- It's way too complex for most users to grasp what this option is supposed to do (it took me a while to get it and think about the implications). I don't think anybody will do anything useful with this option.\n. > I think this would be a good thing to use with :before :after selectors, for example, If someone wants to show from 0% to 95.5%, they could set up something like this:\nThat's a very interesting use-case. But I don't see this being used widely. Also attr() doesn't give you any control about formatting anyway, so it's kind of useless (e.g. in German the decimal separator is a comma 95,5%). That being said, I won't add this option just for number formatting.\n. cool, thanks for creating it!\n. Is it actually 1000p and 1000 (same for 1600)?\nIt would be easiest to use two elements. Also animating top is a bad idea, use CSS transforms.\n. If the p was a typo, how about this?\n```\ndata-1000=\"opacity: 0; top: 500px;\"\ndata-1100=\"opacity: 1; top: 750px;\"\ndata-1500=\"opacity: 1; top: -750px;\"\ndata-1600=\"opacity: 0; top: -1000px;\"\n```\n(I'm not 100% confident with the math, but you will figure it out)\n. did you fix it? I can't see the gap anymore\n. You're moving everything up by top:-50%. I'm more puzzled why the gap does not appear in other browsers. Are you sure you need forceHeight: true? Setting it to false should remove the gap.\nIt seems like it also has to do with height:100% on body. But this doesn't look like a skrollr issue to me.\n. Thanks for checking that out. How long did you leave it running? Check out my screenshot, I assume at some point the garbage collector kicks in and that the used memory simply comes from all the temporay variables skrollr needs when rendering.\n\nIf it drops for you as well from time to time, then there's nothing to worry I guess.\n. Found it\n\n. It may be an issue with defining the animation loop like this\n``` js\nvar requestAnimFrame = polyfillRAF();\n//Let's go.\n (function animloop(){\n    _render();\n    _animFrame = requestAnimFrame(animloop);\n}());\n```\nMaybe this way we end up copying all the variables in the init scope into the heap of the animloop function for every single time it is called.\nSince I can't reproduce it on my machine (possible due to the OS) someone could try to debug this further.\n. I'm taking this serious, since it may be related to #330 and memory leaks suck. I already have a theory and I will spend some time on this ticket in the next days (thanks to an unnamed company who sponsors 4 hours of research on this).\n. @mtycholaz can you confirm that this also happens on http://prinzhorn.github.io/skrollr/ and not just on your simple page? Because I still can't reproduce this. I get the same pattern on a different machine, the GC kicks in every few seconds.\nAlso: does triggering GC manually do anything (that trash can icon)?\n. @mtycholaz please also consider https://code.google.com/p/chromium/issues/detail?id=120186\n. Skrollr doesn't replace the style attribute. Show a demo.\n. This is not a skrollr issue at all. Your $background_url likely contains a quotation mark you need to escape properly. http://php.net/manual/en/function.htmlspecialchars.php\n. This doesn't look like an issue with skrollr itself. Please seek help on StackOverflow or hire someone to take a closer look at it.\nFeel free to reopen if you think it is a bug with skrollr itself, in which case I need a demo/test case which demonstrates the issue.\n. Include the unminified skrollr. It's impossible to debug otherwise.\n. this doesn't look right http://fenecstudio.com/fenec_2014/skrollr.js\n. remove\n``` css\nskrollr-body {\nheight: 100%;\n\n}\n```\nthe skrollr-body needs to expand to the height of its content.\n. > If I remove it everything is broken.\nI assume because your design was based around the idea of having a skrollr-body of 100%. It doesn't look broken though.\n. You haven't included skrollr.menu (http://fenecstudio.com/fenec_2014/skrollr.menu.js).\n. Thanks! This was in fact introduced by a pull request, so shame on whoever sent it :-D\n. > First of all I would like to explain how my Skrollr site works: It has a fixed #skrollr-body (width & height 100%) and it is some kind of powerpoint-presentation consisting of different slides (with different z-indexes).\nSounds like you don't need #skrollr-body at all.\nAnyway, I don't recommend using iframes anyway and can't help you with that. They're especially buggy on mobile.\n. I don't use amd or require and didn't write this code, but looking at this https://github.com/umdjs/umd/blob/master/returnExports.js#L42 your fix looks good to me.\n. Need demo page.\n. This is expected behavior. Percentage offsets have a reference value (the viewport height). Unlike absolute keyframes, which are just arbitrary numbers and can thus be adjusted by the scale option.\n. Why are you using 10p and not 100p. Or 30p and not 300p? By doing that you react to tenth of the viewport height.\nIf I add a zero to every percentage value, the speed is correct. http://codepen.io/anon/pen/JxwlK\n. > It just seems to always be linear.\nIt's not https://github.com/Prinzhorn/skrollr/blob/b8cc5a0eacb76bc506eb7cd9ec8baecbbc01d8c2/src/skrollr.js#L1108 but we could make this configurable.\n. Could you create a simplified version of the website? There are so many scripts and stuff on it that I won't try to debug it. Also include the unminified skrollr source.\n. > We're having the same issue... Chrome only.\nCould you create a simplified version of your website which I can use to debug? Or maybe just upload it somewhere?\n. You don't have a DOCTYPE, hence the browser is in quirks mode and does crazy stuff.\n. Which browser? Please host your example somewhere. If I add DOCTYPE it works.\n. https://github.com/Prinzhorn/skrollr#filling-missing-values\n. I don't think that's something you'll find in skrollr. Skrollr is a very lightweight and abstract library and doesn't give you any rules about how to do things. \"pausing\" can mean different things and will always have side effects depending on the implementation details.\n. Thanks. Sounds better.\n. > I'm going to keep an eye out for other opportunities if that's okay.\nOf course!\n. Skrollr doesn't have a concept of \"slides\". Please show your code.\n. That's the native behavior and skrollr does not manipulate it for a reason.\nIf you want to combine skrollr with nicescroll then please see https://github.com/Prinzhorn/skrollr/issues/378\n. You can already to the same thing with keyframe events https://github.com/Prinzhorn/skrollr#keyframe which also gives you the direction and element.\n. problem:\n``` css\nskrollr-body {\nheight: 100%;\n\n}\n```\nskrollr uses the height of skrollr-body to calculate how far you can scroll on mobile. 100% means not at all.\n. How do you even spot this?\n. Commented https://github.com/facebook/react/issues/2329#issuecomment-61937111\n. Closing, will likely be fixed in react. Related #246\n. I don't see a reason why not. Please show what you've tried.\n. You have added the attribute twice. There's also data-anchor-target=\"stroke-dashoffset:0;\"\n\nIs there a way to offset data-top with a numeric value added??\n\nSee https://github.com/Prinzhorn/skrollr#relative-mode-or-viewport-mode , e.g. data-100-top\n. https://github.com/Prinzhorn/skrollr/issues/265#issuecomment-62388249\n. Sounds like a browser issue. Not sure if I can do anything about it.\n. Try disabling smoothScrolling in skrollr options. Firefox does that natively. Chrome does not. That means in Chrome the movement of the image happens after the scrollbar jumped to the new position which may look like lag.\n. > Is it possible to make parallax effect with tag img at all?\nIf you can do something by animating CSS properties, than you can do it with skrollr.\nTo be honest I can't reproduce your issue in Chromium on Ubuntu with the link you've posted.\n. I'd use a constant function to account for the difference. E.g.\nhtml\n<article id=\"a1\" data-bottom-top=\"margin-top:0%;\" data-center=\"margin-top:-25%;\"></article>\n<article id=\"a2\" data-_a1offset-bottom-top=\"margin-top:0%;\" data-_a1offset-center=\"margin-top:-25%;\"></article>\n``` js\nskrollr.init({\n    constants: {\n        a1offset: function() {\n            var a1 = document.getElementById('a1');\n        return a1.offsetHeight * 0.25;\n    }\n}\n\n});\n```\nI'm not sure if that's how margin works, but anyway, you should get the idea. It is simply impossible for skrollr to know that the element moved.\nIf you want full control over scroll speed, the only option is to position the elements fixed and move them completely using skrollr.\n. There's no simple way other than either adding them manually or using a script to add the data-attributes.\n. Are you fluent with JavaScript? If not, then you probably have a problem with this type of thing. If you do, then it's just a matter of iterating over the elements and using setAttribute before initializing skrollr.\n. For all the elements you need to fix the positioning due to animating margin-top or similar. Or maybe you can wrap those articles in a parent element and only translate this one element to make them move faster?\n. > As soon as one element starts to leave the top of the viewport, the next one should start to cover it.\nWhat if the section is longer than the viewport? Won't some of the content be covered by the next section?\n. Hm, maybe the solution is a simple as replacing margin-top with transform:translateY? Because translate does not affect page flow which means the following elements won't move.\n. Please upload a demo of what you've done so far. Otherwise we're running in circles.\n. You can e-mail the link. (http://www.prinzhorn.it/ at the bottom)\n. > Hi, I have a very long page with sections of content that are hidden but then open. When this happens the page size increases in height.\nAs @luksak said, you need to call refresh after the section has been opened. This should be fairly simple depending on how you open this thing.\n. Did you even try? The fiddle doesn't have a data-anchor-target attribute (data-anchor). Also you say \"the the top reach the bottom\" but use top-top.\n. http://jsfiddle.net/0gt4h0b2/2/\n. Thank you. The idea was that skrollr-body expands to the height of its content which allows us to measure the height. But many people add a height other than auto to it, for various reasons, breaking this assumption.\nI like simple solutions and yours put me in the right direction.\nIn this line https://github.com/Prinzhorn/skrollr/blob/d8aaf4b4c7f3a367b46c7c0f9262fde7cf7f0bad/src/skrollr.js#L1569 replace _skrollrBody.offsetHeight with _skrollrBody.scrollHeight. It's a simple change but should solve this issue. It'd be great if you could test this and report back.\n. > If I also replace _maxKeyFrame = Math.max(_maxKeyFrame, _getDocumentHeight()); with _maxKeyFrame = _getDocumentHeight(); then I get the desired result, but I'm assuming that may not be the proper solution for other cases. Without this change, the _maxKeyFrame is greater than _getDocumentHeight() so I still end up with extra space after my content.\nIsn't that what forceHeight: false is for?\n. Released as 0.6.28. I should really call it 1.0.0 any time soon...\n. skrollr on mobile doesn't do native scrolling, that's why skrollr-menu exists and other scripts won't work. The scripts need to use skrollr's setScrollTop and animateTo methods instead of native ones like window.scrollTo\n. Is there a way to reproduce it constantly? I only got it once with several tries. Not sure if it was in FF or Chromium, I tried both.\n. I managed to get into the broken state in Chrome and debug a little. So far I honestly have no idea what's wrong. It looks like this is not a skrollr issue. I can see that border-radius and width etc. are changing, but the element does not update. It's like I broke the Chrome rendering engine. Even setting display:none using the inspector does nothing to the element.\nAdding translate3d \"repairs\" the element again but the broken-one is still rendered too. It's like it's stuck in the rendering pipe.\nAre you 100% sure you had this in Firefox as well? This smells like a Blink bug.\n. In case you where wondering how this looks like\n\n. > So should I just never show anyone this site in Chrome?\nThe best thing to do would be to make this reproducible, on demand, in a simplified test case, without playing around and then report it to the Chromium team (I assume background-size:cover is part of the issue).\nMeanwhile I assume you can \"fix\" it by adding transform:translateZ(0) to the motocross-bg. This way it is handled differently by the rendering engine and may workaround the issue.\n. Now this sounds even more like a bug in Chrome, do you agree? If so, we can close this issue.\n. The same is true for simply scrolling with your finger.\nUse the render callback. It gives you the current scroll position and direction, everything you need.\n. > Is it also possible to have multiple callbacks?\nNo, the event system of skrollr is very limited.\n\nAnd add them dynamically during runtime?\n\nIf you add a listener with on() it will remove the previous one.\nWhat is your use case?\n. > I am moving multiple elements around based on the scroll event.\nMay I ask what you use skrollr for then?\n. > Since the scroll event on the mobile only gets fired during the actual scroll\nThey shouldn't. Something is weird with your setup. This will prevent touch-events from doing their native thing, e.g. scrolling.\n. From my experience the performance was still really bad with native scrolling. But right now I don't have an iOS 8 device available for testing.\n. Sounds like a weird problem. I don't have a device with Android 4.4 to test it.\nThe only thing you can do, as always, is try to debug it. E.g. remove as many things as possible (other scripts, elements etc.) until the problem is gone. I would also add an alert to the skrollr setScrollTop method to see if something is triggering it.\n. This doesn't sound like a bug in skrollr. Question belong to StackOverflow. You should post some more details though, because without your markup it's hard to tell how this is supposed to work.\n. skrollr doesn't support scrolling inside a div, which you are doing. Only on the window itself (html element).\n. I can't reproduce it. The reason is that I only have an Android Tablet and the website is basically unusable there. It doesn't fit on the screen and is very slow.\nYou may have luck playing with the mobileDeceleration option? Or scale?\n. https://github.com/Prinzhorn/skrollr#mobiledeceleration0004\n. These are options to skrollr.\njs\nskrollr.init({\n    mobileDeceleration: 0.0008\n});\n. You are already initializing skrollr. Please don't blindly copy code without understanding it.\njs\n    <script type=\"text/javascript\">\n    var s = skrollr.init({\n        edgeStrategy: 'set',\n        easing: {\n            WTF: Math.random,\n            inverted: function(p) {\n                return 1-p;\n            }\n        }\n    });\n    </script>\n. Are you sure this has something to do with skrollr? I don't see how this should be related.\n. Maybe it's related to using display:none\n. did you try it? Did you remove the data-attributes for this one element?\n. > No, I can't remove them\nof course you can. Just use a text editor. Sorry for being sarcastic, but it's called debugging and removing them to see if it's the cause would have taken you much less time than writing the previous two messages.\n. Use the source, Luke.\nThey're simply displaying one image after the other. Not necessarily a very good solution.\n``` html\n\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00001.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data-800-top=\"display:block;\" data-760-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00003.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data-761-top=\"display:block;\" data-680-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00005.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data-681-top=\"display:block;\" data-600-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00007.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data-601-top=\"display:block;\" data-520-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00009.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data-521-top=\"display:block;\" data-440-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00011.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data-441-top=\"display:block;\" data-360-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00013.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data-361-top=\"display:block;\" data-280-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00015.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data-281-top=\"display:block;\" data-200-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00017.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data-201-top=\"display:block;\" data-120-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00019.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data-121-top=\"display:block;\" data-40-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00021.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data-41-top=\"display:block;\" data--220-top=\"display:none;\" />\n          <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00025.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--219-top=\"display:block;\" data--260-top=\"display:none;\" />    \n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00029.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--259-top=\"display:block;\" data--300-top=\"display:none;\" />              \n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00033.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--299-top=\"display:block;\" data--340-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00037.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--339-top=\"display:block;\" data--380-top=\"display:none;\" />\n          <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00041.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--379-top=\"display:block;\" data--420-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00045.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--419-top=\"display:block;\" data--460-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00049.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--459-top=\"display:block;\" data--500-top=\"display:none;\" />\n          <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00053.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--499-top=\"display:block;\" data--540-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00057.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--539-top=\"display:block;\" data--580-top=\"display:none;\" />\n          <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00061.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--579-top=\"display:block;\" data--620-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00065.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--619-top=\"display:block;\" data--660-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00069.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--659-top=\"display:block;\" data--700-top=\"display:none;\" />\n          <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00073.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--699-top=\"display:block;\" data--740-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00077.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--739-top=\"display:block;\" data--780-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00081.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--779-top=\"display:block;\" data--820-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00085.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--819-top=\"display:block;\" data--860-top=\"display:none;\" />\n          <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00089.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--859-top=\"display:block;\" data--900-top=\"display:none;\" />\n          <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00093.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--899-top=\"display:block;\" data--940-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00097.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--939-top=\"display:block;\" data--980-top=\"display:none;\" />\n        <img class=\"lazy\" src=\"images/blank.gif\" data-original=\"images/sequence1-final/WEB_AMX_shot001_00099.jpg\" alt=\"\" data-anchor-target=\"#impact-protection\" data-2000-top=\"display:none;\" data--979-top=\"display:block;\" />\n\n    </div><!-- image sequence frame -->\n\n```\n. No\n. skrollr-body is not meant to be styled in any way. Please show an example.\n. > Take your classic example as an example. Add a top.\nThat doesn't make sense there. That's why I was asking for an actual example.\n. skrollr-body should be treated just like body. You wouldn't move the whole body down. In your use-case, can't you just use padding-top? Or use another div which gets the styling?\nImagine at some point skrollr allows to choose between using transform and top for fake scrolling (which it actually did prior to 0.6). That's the reason the skrollr-body should not be styled in any way.\n\nIn your classic example you apply styles to #skrollr-body. Among them is position, so one would naturally assume, if something has a position: relative that for example top can be applied.\n\nAdding position:relative is common practice to turn the element into an offset-parent (a positioned element) to allow children to be positioned absolute. In this case it fixed some bug in Chrome where the text disappears otherwise.\n. I don't know how to help you. This sounds like you're having issues with laying out the elements with CSS and not like a bug in skrollr.\n. the skrollr-body id is not meant to be put on the body element. This may be the problem. But I won't investigate any further as putting the id on the body is not supported and has never been tested.\n. Works like a charm in FF and Chrome. You must have done sth. wrong, maybe copy & paste\nhttp://jsbin.com/liguhifeyu/2/edit\n. So can we close this? If not, please post a reproducible demo page.\n. Use the latest skrollr (0.6.6 is 1.5 years old) and forceHeight: false. Should do the trick.\n. Could you upload the changed version to http://deepzoomchattanooga.com/testclassic.html so I can have a look?\n. It's still skrollr 0.6.6 http://deepzoomchattanooga.com/js/skrollr.min.js\n. I honestly never thought about the order of these events.\nI wouldn't recommend returning false from the beforerender event in this case though, as the internal scrolling will continue, but it just doesn't get rendered. This would cause a jump once you remove the flag again. Also it won't actually stop scrolling, but just the skrollr effects.\nUsing stopAnimateTo feels like the right way. If you end up one pixel too far, maybe just setScrollTop right after it?\n. > It would feel cleaner to me if there was a way in the render flow to stop scrolling on queue, but for now this will do.\nYour use-case sounds like a real edge case.\n\nI'm really looking forwards to show you what I've done with Skrollr, once the project goes live. I think you'll like it :)\n\nSounds great!\n. Apart from the issue I just commented on, I don't think this will work at all. When you touch the screen while an animation is running, then your listener will fire even though the user is still scrolling (https://github.com/Prinzhorn/skrollr/blob/1da1627e80ffb5c569880e4c77845e116905cf9f/src/skrollr.js#L739).\n. the id skrollr-body is not meant to be put on the <body> element but a child of the body, like a wrapper around the content.\n. It's data-anchor-target, see last paragraphs in https://github.com/Prinzhorn/skrollr#relative-mode-or-viewport-mode\n. Since skrollr uses the native scrollbar you can achieve this from outside of skrollr.\nAdd overflow:hidden for desktop and stopPropagation for touchstart, touchmove, toucheend and touchcancel for mobile. The event listener needs to be below the document (e.g. body) so that skrollr never gets those.\n. Did you find a solution other may benefit from or did you give up? If there's something useful to share, don't hesitate.\n. > However it would be super awesome if fixed positioning would be better supported\nNot sure how. You can't have fixed positioned elements inside transformed elements as per CSS spec. That's the problem http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/\n\nFor IE9, I have also had trouble with enquire.js so i left it out and now it works smooth. I do not understand what could have gone wrong with enquire.js though?! Any idea?\n\nI've never used enquire.js and I don't know why it should conflict with skrollr.\n. You're mixing px and %\n. Not sure what you mean. If I resize the viewport then things like data-bottom change in meaning. It's expected that the device in this case moves accordingly to be still in sync with the keyframes you specified.\n. What @froissant said is correct.\nAlso using a single keyframe is undefined behavior in skrollr. Any animation needs at least two keyframes, otherwise it's not an animation.\n\nwell... that is pretty strange, in which case could this intended behaviour be useful?\n\nFor most of skrollr's existance there was ONLY the default behavior. It may not make sense for your use case, but that's not what skrollr is made for. All you do is swap out values. Skrollr is made for animating. Imagine you want to animate from left:10px to left:50px. Without this edge strategy the element would suddenly jump to 10px then animate to 50px and suddenly jump back to where it was at the beginning (sth. like left:0 or whatever is specified in the CSS). Now THAT wouldn't be useful.\n. Could you create a very simplified version of the website? Like a demo on jsbin.com? This would be much easier to understand. Also the terminology \"between keyframe\" should be defined, as a keyframe is exactly one point, there is no between.\nAlso: the event triggers everytime you scroll past the keyframe. So if you jump around your data0TopBottom (like scrolling 5px up/down around it) you constantly get up/down events.\n\n. > Perhaps I'm not using the keyframes properly\nYes. The keyframe event triggers when you scroll past the keyframe. Like arriving at different checkpoints in a game. It's a one-time thing. Firing these constantly defeats their purpose as events.\nIf you want continuous updates use the render event, which fires every time skrollr renders because of a changed scroll position (or window resize). You can use the keyframe events to set some flags and act accordingly inside the render event.\n. There is no commonjs support in skrollr and the npm module is not maintained by me. I will leave this open as a feature request as I'm now using browserify too.\n. This pull request does three completely different things, but only mentions one of them. But before you spend time creating three different pull request, consider the following\n1. I don't think your optimization yields any measurable improvements. Not even the slightest.\n2. Changing _lastTop to 0 breaks skrollr. It will prevent the very first rendering to happen, because skrollr thinks the scroll position hasn't change since the last time. Defaulting to down is a sensible default.\n3. The way you implemented enabling/disabling has side effects as discussed here https://github.com/Prinzhorn/skrollr/pull/296#issuecomment-23430444\n. What's your use-case?\nThe problem with what you want is the following: in order to decide which axis the user is moving, you would need to let a few pixels of touch events happen (and even then, the user will never move stricly in one direction). But skrollr needs to stop them immediately.\n. > i hope that was understandable :)\nabsolutely.\nskrollr listens for the touch events on documentElement. If you want to implement this, add touch listeners to the body. Then try to detect which direction the user is moving. If you detect a horizontal scroll, use stopPropagation which will cause the event to stop bubbling to skrollr and thus avoiding preventDefault.\n. > isn't e.stopPropagation(); preventing the swipe event from bubbling up towards the app and thus preventing the app to even detect the swipe? or am i wrong here?\nI have no idea how Adobe Digital Publishing Suite has implemented the swipe, so I don't know.\nIs this your actual code? Is the body variable defined?\n. > do you have to use static anchor targets for it to work properly?\nyes. It's impossible to predict/know where the anchor is if it is animated instead of simply following the natural flow.\nRegarding the rest of your question: I have problems following it. Can you upload/create an example?\n. Please post a complete demo.\n. There are countless ways of doing things. You need some common reference system. For example say your image would always be 300vh, then you can easily show/hide your elements with percentage offsets such as data-100p. It all depends on what you want to achieve and skrollr doesn't impose any rules on that.\n. Maybe I'm missing something, but what do you mean with \"cause Skrollr to break\"? There's not a single animation on the page, how do you see that it broke?\n. you need e.stopPropagation as skrollr already prevents the default to do its thing. You also need this on body as skrollr listens on documentElement and you want to keep it from bubbling up there\n. a long time ago there was a demo (for desktop) which did this https://github.com/Prinzhorn/skrollr/commit/c3e07540aa694c1b9310ed2e207e14e3e71207be maybe you find it useful. I personally don't like when websites do this and feel offended and ctrl+w.\n. > href=\"javascript:void\" links [...] are not responding\nwhat should they respond to/do?\n. Can you show me the relevant JavaScript? skrollr is trigger click events manually (https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L775) on mobile. This may conflict.\n. no, skrollr only supports scrolling on the window. (related #232)\n. https://github.com/Prinzhorn/skrollr/issues/668\n. Can't reproduce on http://prinzhorn.github.io/skrollr/ Does it happen there for you?\n. Can't reproduce on Ubuntu or Windows 7 both with Firefox 35.0.1\n. Does this happen in all browsers? Can you post a demo?\n. You need a unit for the first value.\nhtml\n<footer class=\"footer data-end=\"bottom: 0px;\" data--500-end=\"bottom: -200px;\">\nBut the real problem is that you never reach data-end because of body {height:100% !important} in combination with the fact that you're moving elements using top and margin-top. So everything is a mess kind of.\n. https://github.com/Prinzhorn/skrollr#animatetotop-options\n. I is possible (http://prinzhorn.github.io/skrollr/examples/path.html) but requires some SVG knowledge. I don't think you need this SVG Animation Engine though, since the animations will be done by skrollr. You can create SVG with Inkscape.\n. That's one of the concepts of skrollr that things are deterministic. By that I mean you can scroll up, down, up, down, up, down and will always see the same things. Apart from that, I don't know if it's even possible to implement. Your example only has two keyframes, so I assume the count should increment when you've scrolled past the last one? What if it has N keyframes and the element does different animations at different points. When does the count increment (since the perceived number of animations is > 1 on this element).\nMaybe you can use the keyframe even on this element and just remove the attributes and bake the style attribute?\n. > How can this be?\nrace conditions. Locally your images load almost instantly. On the web they don't. When you init skrollr some images are missing. Once they are loaded, the meaning of stuff like data-top changed, because the new images moved elements in the document down. Refresh skrollr when all images are loaded.\njs\n$(window).load(function() { skrollr.get().refresh(); });\n. > I have a novice question. Where do I put the above code? Do I wrap it in script tags at the bottom near the init skrollr? Please advise. Thank you!\nThe code may not apply to your case as the website above is already using jQuery which the code makes use of. If you are using jQuery then you can put the code in a script tag anywhere below the jQuery code. The exact position doesn't matter at all since it just adds an event listener.\n. > Any ideas what's going on?\nnot without a demo/example page\n. @ethanclevenger91 I don't see a skrollr-body in your codepen\n. I can reproduce it with the codepen but I haven't looked into it. skrollr already does compensate for scrolling happening before initialization (http://codepen.io/ethanclevenger91/full/WbVOoO).\nCould it be a codepen issue? I mean, it's using an iframe. Please create a codepen-less demo.\n. show some code. how is it implemented?\n. > Anyone know any good ways of debugging this?\nusually mobile issues can be debugged with emulation in Chrome https://github.com/Prinzhorn/skrollr/wiki/Tips#debugging-mobile\n. this is not implemented https://github.com/Prinzhorn/skrollr#filling-missing-values\n. > If I understand correctly, this would be difficult to implement because currently the code only evaluates neighboring properties, correct?\nyes, this happens here https://github.com/Prinzhorn/skrollr/blob/1da1627e80ffb5c569880e4c77845e116905cf9f/src/skrollr.js#L1013 left/right are the two keyframes we are in between at the current scroll position.\nThis would have to be implemented on a different level. We'd have to interpolate the missing value once the properties are parsed.\n\nI am wondering if it would be possible to implement it?\n\nwell, everything is possible. But I don't have any motivation to implement new features at the moment.\n. See https://github.com/Prinzhorn/skrollr#filling-missing-values\nA workaround would be to use a wrapper element (e.g. a span inside the link)\n. without code it's just wild guesses.\n. > I wanted to know how to fix this to obtain a perfect parallax efect like this site : https://ihatetomatoes.net/demos/simple-parallax-scrolling-tutorial/\nThis has the same issue as yours. If you resize the browser to be very wide but not very tall, then a gap appears between the images.\nBut that's what you'd expect. \"background-size:cover\" will make sure the image covers the element. You're animating a magic number like \"background-position: 50% 100px;\". There's no guarantee that the image will overlap by at least 100px. That's just how \"cover\" works. Depending on the browser window's aspect ratio, it might not overlap vertically at all, but horizontally.\nIf you want a guarantee, then style your elements accordingly. E.g.\nhtml\n<section style=\"width:100vw;height:100vh;overflow:hidden;\">\n    <div style=\"width:100%;height:100%;padding-top:100px;background:cover etc....\">\n        //Now you have guarantee that this element is exactly 100px higher than it's wrapper.\n        //You can savely animate from \"translateY(0px)\" to \"translateY(-100px)\" without a gap.\n    </div>\n</section>\n. See the black gap as a proof \n\n. thanks\n. That's why the demo (https://github.com/Prinzhorn/skrollr/blob/master/examples/classic.html) positions the images fixed.\nYour image is inside the document flow. That means\n1. User scrolls down\n2. Image is translated up by the browser\n3. Skrollr moves the image slightly down\nWhat you notice is a slight delay between 2 and 3. In Firefox you won't notice this because of its smooth scrolling.\n. https://github.com/Prinzhorn/skrollr-stylesheets#external-stylesheets\n\nHeads up: Since external stylesheets are fetched using AJAX (more like SJACSS, but that's not the point here) the same origin policy applies which prohibits AJAX requests when viewing files using the file:// protocol. Either fire up a local server (e.g. npm install http-server -g && http-server or php -S localhost:8080) or start Chrome using google-chrome --disable-web-security.\n. Isn't the correct solution to wait for GitHub to fix it?\n. #251\nI guess you need to listen for other events like mousewheel and keypress\n. related #670 \nI simply don't know if and how this can be solved\n. > Couldn't you check on touchmove to get the direction of the move, and then calculate the trajectory angle for the move, and if the angle is between 30deg and -30deg then do a stopPropagation as mentioned in the other issue? Or maybe I'm just blowing steam....\n\nIn theory that's basically what you'd do. I've described the problem here https://github.com/Prinzhorn/skrollr/issues/670#issuecomment-72716747\n. have you read through #232?\n. I'm not really of fan of this. It basically removes some of the good parts of JS. I know that Google likes to make things look like Java (e.g. angular) but I don't.\n. > The problem is that Skroller is forcing values in pixels and I want the as integer.\nit does not. If it would, then things like font-size and z-index couldn't be animated\nAlso what you describe sounds more like\n<custom data-0=\"@x:0\" data-500=\"@x:500\"></custom>\n. Not skrollr related. Google \"lazy load images\". There are tons of resources on it. You may need to tweak the solutions to work with skrollr on mobile (don't use the scroll event, use skrollr's \"render\" event and \"getScrollTop\")\n. I don't see much value having this as yet another option. setScrollTop does not work for you because you only want this on mobile?\n. Your changes look good, but honestly I haven't looked at the skrollr source in ages.\n. Shouldn't the footer be inside skrollr-body?\nAlso did you take a look at the source of the page (which is probably auto generated). Looks weird. There's a <div id=\"offset\"></div> before the doctype which causes all kind of weirdness like <meta> tags inside your body and an empty <head>.\n\n. Did you look into the refresh method?\n. Maybe you can move all text etc into the svg as well and then apply the scale to the svg itself (using the transform attribute, not css). https://developer.mozilla.org/en/docs/Web/SVG/Attribute/transform\n. You can only have one anchor-target per element. It's also invalid to have the same attribute twice on one element.\n. body {overflow-x: hidden;} shouldn't affect skrollr at all as it uses y-scrolling. Or am I missing something? Also why is there horizontal scrolling in the first place?\n. This is not supported https://github.com/Prinzhorn/skrollr/issues/232\n. thanks\n. > Initially I used a DOMContentLoaded event to apply this, then I saw the beforeRender option property and used that.\nDon't, it's called 60 times per second while scrolling.\nI've only skimmed through your post and yes, you're not the first one. But you can easily write a wrapper around the refresh method and call it a plugin. This gives you the same functionality you want without touching skrollr at all. I don't have any plans to make major changes to skrollr and this would be one.\n. thanks\n. Maybe it's just the developer tools fooling you? Is it actually rgb in the DOM? Why does it matter?\n. > On Chrome it seems to cache the end scroll position for the animation (so the animated items stay in place once it has been viewed once). In Firefox it seems to work allright.\nSo you're saying when you repeatedly move the scrollbar up and down the animation doesn't follow by moving back and forth? I can't reproduce that in Chrome.\n. It's skrollr.get(). A static method to retrieve the singleton, if any.\n. This needs further discussion. It mixes two completely different concept (I would not reuse the constants option for something which is semantically completely different). See also #69 \n. > However by using the Skroll library, html or any other elements is no longer triggering jquery scroll event anymore.\nAre you sure? Please post a demo where I can see that.\n. No, this is basically the oldest feature request #69 \n. > Is it something wrong with my JavaScript code below?\nYes. You need to use skrollrs render event instead of the native scroll event. With skrollr on mobile you won't get native scrolling.\n. https://twitter.com/Prinzhorn/status/609389290074841088\nManually update the attributes using JavaScript and then let skrollr update its state via the refresh method\n. > But when viewing the site on mobile it just scrolls from the top of the site all the way to the bottom, and vice versa, and keeps repeating this.\nSo you're saying it is animating the scroll position all by its own?\n. Closing in favor of #733 \n. I agree that a skrollrBody option may be useful. But I will not mix jqm specific code into skrollr.\n. People seem to use multiple elements and show/hide them. Like this (pseudo code)\nhtml\n<img src=\"image1.jpg\" data-100=\"display:block;\" data-199=\"display:none\" />\n<img src=\"image2.jpg\" data-200=\"display:none;\" data-300=\"display:block;\" data-399=\"display:none\" />\n<img src=\"image3.jpg\" data-400=\"display:none;\" data-500=\"display:block;\" />\n. Could this be a Chrome bug? Does the resize event even fire in this case?\n. This is a LONG site. I haven't looked at it in IE, but my guess is that you've reached the maximum scroll length that IE can handle. Try a very simple demo with nothing but a very long body and see if it happens there as well.\nOn the other hand maybe its coincidence and there's a scripting error happening at that point?\n. Can you post an example? It should work, but maybe it's not what you're trying to achieve.\n. It does sound like it's not intentional. But now I wonder if changing it will break other pages while fixing yours. I haven't looked at the skrollr source in a long time so I don't see the big picture atm.\n. You're not using skrollr anymore, right? Closing then.\n. skrollr uses native scrolling. Thus, the native speed is used.\n. It's using translate3d. You should be able to replace it with just translate for IE 9 support\n. I guess you could animate clip(), but performance in probably horrible. Or use a wrapper element with overflow:hidden and translate it to reveal the other thing.\n. https://github.com/Prinzhorn/skrollr#preventing-interpolation\n. Are you absolutely sure? I'm just confused as this file exists since April 2014 and you're telling me nobody is able to download skrollr via bower?\n. How do you install stuff? I just used bower install prinzhorn/skrollr and everything is there.\n. I get the src folder with bower install skrollr as well. I don't really understand, because the ignore pattern only ignores dotfiles. Why would it apply to the src folder? Are you running the most recent bower and node versions?\n. The closest would be the keyframe event and then check which one it is https://github.com/Prinzhorn/skrollr#keyframe\n. > Example site: http://tinyurl.com/qcfj7ld\n\nInternal Server Error\n. https://github.com/Prinzhorn/skrollr#animatetotop-options\n. > I can provide a simple example if you wish\n\nplease do so\n. I don't understand. Please create a demo page.\n. Screenshots are worthless if I don't have access to the source. I can't guess what's clipping the content.\n. > All numeric values have to have the same unit, even 0 needs a unit. It's not possible to animate from 5% to 100px. skrollr won't complain, but results are undefined.\nhttps://github.com/Prinzhorn/skrollr#limitations\n. ```js\n//Before\nwindow.scroll({\n    top: 2180, \n    behavior: 'smooth' \n});\n//After\nskrollr.get().animateTo(2180);\n```\nhttps://github.com/Prinzhorn/skrollr#animatetotop-options. Blame it on @idiot for ~selling~ deleting the domain. Is this needed for the destroy functionality? I guess this should be removed and be a separate change for #110\n. Just do\njs\n_updateClass(documentElement, [NO_SKROLLR_CLASS], [SKROLLR_CLASS, SKROLLR_DESKTOP_CLASS, SKROLLR_MOBILE_CLASS]);\nwithout the if/else.\n. No need to reset documentElement and body.\nAnd I think it would be easier to read if you'd put each reset in a separate line in the same order they appear at the bottom of the file, this makes it easier to check if one is missing.\n. You don't need this for removing the event.\n. Shouldn't this be callback instead of immediate? Because callback is the function that's registered for the event and immediate is a completely new function that has never been used before.\n. You're already doing that loop in _removeAllEvents. No need to have it here. The removeEvent function should just remove the events (in names) for the given element.\n. That's because inside the loop in destroy you shouldn't pass true as second parameter. Check for yourself: that's the line you want to get executed https://github.com/Prinzhorn/skrollr/blob/d3f9d32fb6a4ca4533f0c58aaaee51f8de0bd9ee/src/skrollr.js#L1184\n. Make sure you reset all variables. You're missing _direction for example. Also _registeredEvents should be reset to an empty array (see comment below).\n. No need to rename element to el. I'd like to keep the names. Also: it pollutes the diff.\n. You could reset _registeredEvents right here instead of inside destroy.\n. Remove this line. It doesn't make sense.\n. Remove eventData. It's unused anyway (see below).\n. I guess as long as the plugins aren't loadable, this line will crash in IE because of missing global.\nAlso I just noticed that this file is 404 for a long time now (since it's in its own repo)...this is not related to the amd pr, but I need to fix this as well.\n. Could you explain this line? Is this some requirejs hint?\n. Please just use a single-line comment there\n. If this test file only tests loading (and not skrollr itself), the test/loading.html could basically be empty (no need for all the test divs), correct?\n. This one space should be removed if (typeof as in the rest of the project.\nIf you know how to tell jshint, feel free to add it to this PR as well.\n. How would one handle the IE part with amd? Conditional comments are not an option I guess.\n. The point is that \"detect IE\" is so easy with conditional comments but can't be used inside of a script. We can't reliably detect IE. I don't want to use the user agent string and parse the version.\nWe'd need to document something like this http://stackoverflow.com/questions/11846747/using-conditional-comments-with-requirejs-to-load-ie7-8-only-jquery . But I'm not a big fan of this particular solution using a class on the document.\n. > how about using modernizr\nI don't want any dependencies and I don't want users to be forced to use any other lib.\n\nAlternatively, we keep conditional comments approach and modify ie plugin to do smth like this:\n\nThe <smth-sensible-here> part scares me. That's not an option.\n. Hm, I like the fact that skrollr doesn't need to know anything about the IE plugin and I'd like to keep it that way.\nHow is this handled in the real world? I thought people would use amd all the time.\n. Feature detection is great, it's just that the conditional comments also prevent the file from being fetched in the first place.\nAnyway, I think we should try to and do feature detection. It's just opacity and hls/hlsa/rgba, shouldn't be too hard. I don't know if we should wait with pulling the amd support until the IE plugin works standalone though to prevent people from having the same problems we're discussing here. Unfortunately I don't think I can work on this at least the next week, probably longer.\n. We should use SKROLLABLE_ID_DOM_PROPERTY in el because the id can be 0, which is falsy. This would cause the very first element to never get cleaned up.\n. No, I literally meant if(ignoreID && SKROLLABLE_ID_DOM_PROPERTY in el) {\n. Do you think /^@?([a-z\\-]+)\\[(\\w+)\\]$/; would be even more concise?\n. Your code doesn't work, you're executing _listeners.afterfling(direction) immediately.\n. how is this related to this PR? The version is left out of bower on purpose as it can use tags.\n. ",
    "andrewmartin": "AMAZING plugin! I was just wondering how to implement the \"Smooth Scrolling\" effect you have on the demo page; what exactly does that mean? Do you have any notes / examples for usage? I love how the easing effect on scroll works there.\n. Prinz, are you developing on OSX? You could always grab the developer toolkit (as I'm sure you know) and there's a pretty decent iOS simulator on there. I use that to test...would absolutely love to see this work on iPhone! :smirk:\n. I just wanted to say that this is truly awesome. Thank you guys.\nWhat I was curious about is: if we wanted to have it automatically generate data attributes using Javascript instead of HTML, is this something that is possible?\nWhat I was going to do, for example, is have these relative data attributes set based on a few things: size of their parent container, position of other elements relative to it, etc\u2013\u2013and it would be easier (perhaps) to gain this information with Javascript. Can we set these attributes and then call Skrollr as a callback function?\n. Prinz,\nIs this rolled in and tested / working with the latest version of isotope?\n. Also, love the plugin. Smooth :sailboat:\n. Alexander, \nJust wanted to say THANK YOU For your very thorough responses! I haven't had a chance to work on my project but I will be starting soon. I did notice that anchors were added, which is truly awesome. Are those working pretty well and tested I presume (e.g. ready for production) then? \nThanks again for this truly incredible plugin.  \nOn Wednesday, July 4, 2012 at 2:36 AM, Alexander Prinzhorn wrote:\n\nThank you.\nI guess you'll love 0.4 : https://github.com/Prinzhorn/skrollr/issues/34\nDoes this answer your question? You will then be able to animate elements for example as soon as they enter or leave the viewport.\nYou can clone the anchor branch and check out examples/anchors.html if you want to. Still WIP.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Prinzhorn/skrollr/issues/39#issuecomment-6755305\n. Hey Alexander,  \n\nSure, you can check it out. It's at http://dream.believelabs.com.\nScroll down to \"The Lab\" (you might have to keep going a little tiny bit past to make sure the waypoint hits). Keep in mind this is all just being developed so there are a few bugs, but once the projects all load in and you scroll up or down, you'll see some crazy black flickering going on. It happens for me in Chrome very sporadically, but it's definitely consistent.  \nThanks in advance for taking a peek!\n\nAndrew Martin\nFounder\nurl: believelabs.com (http://believelabs.com/)\ntwitter: @believelabs (http://www.twitter.com/believelabs)\nph: (303) 335-0156\nmeeting availability: tungle.me/andrew.martin (http://tungle.me/andrew.martin)\nOn Monday, August 13, 2012 at 2:34 PM, Alexander Prinzhorn wrote:\n\nEither show some example code so we can see how you call the refresh method or DM me a link (does GitHub have a DM functionality? was searching for it some weeks ago).\nI don't know Isotope, but looking at it I wonder how you combined it with skrollr.\n\u2014\nReply to this email directly or view it on GitHub (https://github.com/Prinzhorn/skrollr/issues/54#issuecomment-7708886).\n. Alexander,  \n\nThanks for getting back.\nI actually removed some of the webkit transition stuff (on my local repository) and I think it's working better for me. Do you think if I just changed the opacity to 0.01 or something instead of 0.0 it might work better? I suppose I could test but I'm way confused.\nLove this plugin, great work!\nOn Wednesday, August 15, 2012 at 6:16 AM, Alexander Prinzhorn wrote:  \n\nI almost forgot this. I see the flickering as well (the notebook, when it's opacity is less than 1), but only in Chrome.\nBut I don't think this has anything to do with dynamic loading of content. Are you sure the flickering is gone when you remove Isotope?\n\u2014\nReply to this email directly or view it on GitHub (https://github.com/Prinzhorn/skrollr/issues/54#issuecomment-7755469).\n. Er. Sorry for the misnomer.  \n\nSounds good, and yeah, that makes sense. Let me know if you end up discovering what it is. I do know that removing those webkit transformations fixed the issue for me, with or without the AJAXed Isotope content.  \nOn Wednesday, August 15, 2012 at 9:30 AM, Alexander Prinzhorn wrote:\n\n\nDo you think if I just changed the opacity to 0.01 or something instead of 0.0 it might work better?\n\nNo, because the flickering is not happing at the edge cases but in the complete (0,1) range.\nI will set up a demo to reproduce the flickering. Not sure what this is related to. But I'm busy atm.\n\nLove this plugin, great work!\n\nThanks! It's not a plugin though. It's a library.\n\u2014\nReply to this email directly or view it on GitHub (https://github.com/Prinzhorn/skrollr/issues/54#issuecomment-7760934).\n. I actually didn't yet.  \n\nFor some reason, it stopped doing it after a certain point. I think you can probably mark this ticket closed.\nOn Tuesday, September 18, 2012 at 2:25 PM, Alexander Prinzhorn wrote:  \n\nDid you by any chance try some more? Or with the latest skrollr?\n\u2014\nReply to this email directly or view it on GitHub (https://github.com/Prinzhorn/skrollr/issues/54#issuecomment-8671196).\n. \n",
    "karbassi": "May I suggest xstats.js.\n. @Prinzhorn: I'll do some testing for you on my devices.\nDevices I can test:\n- iOS (iPad, iPhone, and iTouch)\n- A few Android devices.\nI'll report back.\n. Would it be possible to have a smaller copyright notice for the minify version. \nFor example from jQuery:\njavascript\n/*!\n * jQuery JavaScript Library v1.7.2\n * http://jquery.com/\n *\n * Copyright 2011, John Resig\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n * Copyright 2011, The Dojo Foundation\n * Released under the MIT, BSD, and GPL Licenses.\n *\n * Date: Wed Mar 21 12:46:34 2012 -0700\n */\nMinified version for the *.min.js files is:\njavascript\n/*! jQuery v1.7.2 jquery.com | jquery.org/license */\n. +1\n. I looked into the issue and it's happening on line #1107 in skrollr.js\nI agree that updating _trim isn't the best choice. Maybe update line 1116 from\njs\nelement[prop] = _trim(val);\nto\njs\nelement[prop] = _trim(val).replace(/\\s\\s+/g, ' ');\nThat way, it removes the double space issue. It's either do it there or write a catch in 1107 to only put a space in the initial adding of classNames to the element.\nDoing it once is pretty fast.\nThoughts?\n. :+1: \n. @Prinzhorn I have tagged all the versions that I could see. However, from what I see, I can't create a pull request for that action.\nYou can pull it manually by adding my repo and doing a pull --tags.\nCheers\n. :ok_hand: Done.\n. @Prinzhorn A quick search returns this: http://jsperf.com/caching-array-length/4 (See with caching). There are many articles if you Google \"js caching for loop\".\nAs for the variables, personally I would put them right above the for-loop. However, I didn't to match your coding style.\n. > What I meant was the counter = 0; inside the loop heads and not the var counter; before the loop (which can be moved to the top of the scope).\nYou mean:\njavascript\nvar counter = 0;\nvar itemLength = item.length;\nfor (; counter < itemLength; itemLength++) {\n    // ...\n}\nvs.\njavascript\nfor (var counter = 0, itemLength = item.length; counter < itemLength; itemLength++) {\n    // ...\n}\nCorrect?\nPersonally, I don't like var stacking. Ben 'Cowboy' Alman covers 90% of my reasons of why. I follow the same rule into for-loops. Again, I find the former to be easier to read compared to the latter.\n\nThere's basically no difference (at least for my OS/Browser). And scrolling through the other graphs the difference is very small. I'd probably go for readability and simplicity.\n\nAs for loop caching, I believe because of how many iterations this code is doing, those little changes add up. As of right now, it seems that browsers do favor the caching. However, it seems like newer builds of the JS engine are doing their own caching of sorts. That said, I'm still behind this pull request. :+1: :100:\n. > Now that I think about it, elementIndex and elementsLength either both need to be inside or outside of the head of the loop.\nI agree. I think they should both be outside and right before the for-loop. So...\njs\n// Stuff...\nvar elementIndex = 0;\nvar elementsLength = elements.length;\nfor (; elementIndex < elementsLength; elementIndex++) {\n    // ...\n}\n// Stuff...\nand not\n``` js\n// Stuff...\nvar elementIndex = 0;\nvar elementsLength = elements.length;\n// Stuff...\nfor (; elementIndex < elementsLength; elementIndex++) {\n    // ...\n}\n// Stuff...\n``\n. @jackoliver Could you provide a use case or example of how you see this working? What would you like it to do?\n. @jackoliver You can achieve this by using therender` option. Here's some code to get you started.\n``` js\n// Store your callback\nvar callbacks = {\n    '0': function(){ \n        // Handle action for between 0 - 479\n    },\n    '479': function(){\n        // Handle action for between 0 - 479\n    },\n    '480': function(){\n        // Handle action for between 480 on\n    }\n};\n// Handles scroll event function calls\nvar renderHandler = function( data ) {\n    if (data.curTop === data.lastTop) {\n        return;\n    }\nvar from = data.lastTop;\nvar to = data.curTop;\nvar toCall = [];\n\nif (data.curTop < data.lastTop) {\n    from = data.curTop;\n    to = data.lastTop;\n}\n\nfor ( var hollaback in callbacks ) {\n    if( !callbacks.hasOwnProperty(hollaback) ) {\n        continue;\n    }\n\n    if (hollaback >= from && hollaback <= to) {\n        var fn = callbacks[hollaback];\n        if (data.direction === 'up') {\n            toCall.push(fn);\n        } else {\n            fn();\n        }\n    }\n}\n\nif (data.direction === 'up') {\n    toCall.reverse();\n    var i = 0;\n    var l = toCall.length;\n    for (; i < l; i++) {\n        toCall[i]();\n    }\n}\n\n};\n// Init Skrollr\nskrollr.init({\n    render: renderHandler\n});\n``\n. Good catch. Thanks @jilla52!\n. @Jeff-B you can't go fromdata-0=\"bottom:0\"todata-top-top=\"top:0\". From what I understand, you have to go frombottomtobottomortoptotop`. @Prinzhorn, please confirm.\n:+1: \n. :+1: \n. How about animating when skrollr is animating the element.\nMaybe: before-animation, animating, and after-animation.\nFood for though.\n. ",
    "mrmartineau": "See my comment in issue #9 for a possible solution\n. I found this code on Stack Overflow recently (I forget where) that helps aims to do what you are seeking:\n``` javascript\nwindow.addEventListener(\"scroll\", function() {\n// Add the things you need to change on scroll here\n\n});\nvar ivScroll;\nvar evt = document.createEvent(\"Event\");\nevt.initEvent(\"scroll\", true, true);\nvar dispatchScroll = function() {\n    window.dispatchEvent(evt);\n};\nvar activateOnScroll = function() {\n    ivScroll = setInterval(dispatchScroll, 20);\n};\nvar deactivateOnScroll = function() {\n    clearInterval(ivScroll);\n};\nif (\"ontouchstart\" in window) {\n    window.addEventListener(\"touchstart\", activateOnScroll);\n    window.addEventListener(\"touchmove\", dispatchScroll);\n    window.addEventListener(\"touchend\", deactivateOnScroll);\n}\n```\nI haven't used it much but in my tests it greatly improves the outcome. Perhaps this can be rolled into the plugin?\n. I'll add it to my code & let you know how it goes. Fingers crossed...\n. +1 for this! It's a great idea.\n. BTW, @DivisibleZero you have misspelled Developer on your site... :)\n. +1 for underscore. Another suggestions could be a $...\n. Haha, I thought it might not be... Using an underscore is a good alternative I think.\n. ",
    "trevordixon": "Added the following for some interesting results:\n```\nvar y;\n$(document).bind('touchmove', function(e) {\n    e.preventDefault();\n    var t = e.originalEvent.touches[0];\n    if (!y) return y = t.pageY;\n    var offset = t.pageY - y;\n    skroll.setScrollTop($('body').scrollTop() - offset);\n    y = t.pageY;\n});\n$(document).bind('touchend', function(e) {\n    y = undefined;\n    e.preventDefault();\n});\n```\nI think it's a step in the right direction.\n. ",
    "davefearon": "Hey so yes that example works but when I try to adding the mobile js file (skrollr.mobile.min.js), and view my page on iOS, it stutters for the first 100 or so pixels then doesn't let me scroll any further. The page I am trying it on works wonderfully on desktop browsers and uses absolute positioning instead of relative.\n. Here is the test page I was using http://comeforthesunstayforourwedding.com/iostest.html\nAnd I am using skrollr v0.4.10 on that page\n. That's fine. Just wanted to let you know.\n. ",
    "wsheldon": "Hey Alex, do we need to include the skrollr.mobile.min.js with the mobile detection function, like in your mobile.html example or does it get included automatically.\nThanks all of your hard work.\n. Prinzhorn, did you try Scrollability as well?  http://joehewitt.github.com/scrollability/  I see Stellar.js uses it and has fairly good performance.\nThanks for Skrollr!\n. ",
    "jack-jack-jack": "upd.\nFinally works on iOS. \nBut not so smooth \u2014 only final scroll position counts and animation instantly jumps to it.\nHow can I live-update animation depending on scroll position?\n. ",
    "DonDi1989": "I am using skrollr, and it does not working on iPad in iOS version 5. The content is not scrolling. Is there any way to fix this issue \n. ",
    "aarpar": "I tried removing the display:block; and using Tiny Scrolling instead. The anchor links work however the scrolling doesn't work. I guess it's maybe just trial and error with certain scrolling plug-ins. \n. Done: https://tinker.io/1d1ec\n. ",
    "lookfortheroot": "``` javascript\n//Loading from external script with jQuery.\n$(function() {\n    skrollr.init(); //OK, all works\n    //Now I want to do some actions with object while scrolling\n    // From documentation: \"Just call window.skrollr.plugin('setStyle', /* your function */)\"\n    //I do it:\n    window.skrollr.plugin('customAction', function(el, prop, val) {\n    console.log(el);\n});\n\n    skrollr.customAction(); //But raises error: \"skrollr.customAction is not a function\"\n\n});\n```\n. But I need to get current object while scrolling.\nI did so:\njs\nskrollr.init({\n    beforerender: function(a) {\n        if (a.curTop > 0 && a.curTop < 1000) {\n            $('#target_object').doSomething\n        }\n    }\n});\nMaybe add some handler in attributes? (if you declare simplicity of skrollr :-)\nhtml\n<div id=\"target_object\" data-0=\"top:0\" data-1000=\"top:100%\" data-handler=\"handlerFn\">\njs\nfunction handlerFn(target) {\n    target.doSomething\n}\nAnyway, thank you for nice work :-)\n. ",
    "timboyce": "Hi Prinzhorn,\nFirst of all great plugin,\nI am trying to do something that i think is described in the discussion above.\nBasically when the browser window is resized i would like to change the data attributes of a specific div. However when i call the refresh function nothing happens. I have also tried using the beforerender function to change an attribute prior to rendering but the div maintens the previous data attribute...\nFor example if I have a div with the id amiciblock1 and with the following data attribute data-0=\"height:600px;\"\nand then with javascript: \nvar obj = $('#amiciblock1');\nvar s = skrollr.init({\n        forceHeight: false,\n        beforerender: function() {\n            obj.data('0', 'height:200px;');             \n         }\n    });\nmy div height resizes to 600px when skrollr initiates not 200px..\nHope what I have written is clear. thanks for any help.\n. fantastic..\nI suspected that I was doing something wrong in setting the data value.\nThanks so much for your help.\n. ",
    "terrybarth": "I know it could be really cheesy, but I'm thinking about using in in just a small area on a page.\nI'll give it a try.  Thanks!\n. ",
    "oscarotero": "Yes, I edited my question because I didn't marked the code properly :).\nI like the idea of define the anchor per keyframe because it allows combine different anchors for the same element. The anchor may be defined by an element (document, self, etc) and a position (top, bottom, middle), so we could define the anchor in the document-top (by default) document-bottom (or end), selftop, selfbottom, etc.\nFor example:\nhtml\n<div data-0-selftop=\"opacity:1;\" data-0-selfbottom=\"opacity:0\">sausage</div>\nIn this example, the element starts the animation when the top of the elements is near the top of window and finish when the bottom of element is near of the top of window.\nAnd to make it even more complicated, it would be cool if there was a third optional option to define the second anchor (by default is the top of the window). For example:\nhtml\n<div data-0-selftop-windowbottom=\"opacity:1;\" data-0-selftop-windowtop=\"opacity:0\">sausage</div>\nIn this example the animation starts when the top of the element is near of the bottom of the window and finish when the top of the element is near of the top of the window.\nMaybe the proposed syntax is not the better, it's just to draw the idea.\n. I agree about using background-position syntax. And about resize the element, I think its better to keep good performance and smooth animations so maybe the calculations would be made with the original dimmensions of the element, no matter if the element resizes later. The adjustments can be made using the numerical values. For example:\nhtml\n<div data-0-top=\"height:200px;\" data-100-bottom=\"height:100px;\"></div>\nIn this case, the animation starts on top and finish when the element is on the bottom. Althought the element height changes, it is fixed using the numerical value.\nAnother thing to bear in mind is about the negative values. Maybe using underscore data-_1000-top or the letter \"m\" data-m1000-top.\nI hope this ideas can help you.\nBest regards.\n. thank you. I will keep an eye on :)\n. I like the new syntax. Just to be clear:\ndata-10 When the top scroll is 10px away from the start\ndata-10-topWhen the top of element is 10px away from the top of viewport\ndata--10-top When the top of element is -10px away from the top of viewport\ndata-10-top-bottom When the bottom of element is 10px away from the top of viewport\nSo, the syntax have two modes:\nMode \"scroll\"\ndata-[distance]-[start/end]\nand mode \"positioning\"\ndata-[distance]-[anchor1]-[anchor2]\nAm I right?\n. Ok. That sounds great.\nAbout your example, might be useful to define some shortcuts, for example data-enter and data-leaveas shortcut of data-bottom-topand data-top-bottom.\n. Forget my last comment. The shortcuts data-enterand data-leavemake no sense, because the element can enter from top or from bottom, it deppends of the direction of the scroll movement.\nThank you :)\n. Awesome!!\nIt works fantastic. I'm going to use it in the current project.\nThank you very much\n. Hi.\nI've using the 0.4 version in a project and I've had some problems. The project is not public but if you want check check out, send me an email and I'll send you the url and user/pass to enter.\nReading the documentation, I have a question. In the absolute mode, start and end makes than the distance works contrary. For example: data-100-start count 100px from top to bottom, but data-100-end count 100px from bottom to top. In the relative mode, data-100-top count 100px from bottom to top and data--100-top count from top to bottom. I found this a little confusing.\n. Hi, I just checked the new version and works much better!\nI also just draw a simple guide to help myself but it's public to everybody:\nhttps://docs.google.com/drawings/d/13WWhNhQayokmDtzuhKv7YAq6bQrcp4b_s03vc3LgNys/edit\n. Hi, another option (I think better) is to define the target (or targets) to apply the css styles:\nhtml\n<div id=\"menu\">Foo</div>\n<div data-bottom=\"opacity:0;\" data-top=\"opacity:1\" data-target=\"#menu\">Bar</div>\nWhen the second div is aligned with the bottom, the div#menu would change its opacity to 0 and when the div is aligned to top, change to 1. This allows change the styles of more than one element depending of the scroll position of another element.\n. Why don't use element.parentNode?\nThe second and third cases only work if the target is direct child or parent of the element. How to select all divs inside the element, no mather if are direct children or not? Maybe use data-target, data-target-children and data-target-parents?\n. Ok, sorry, (my english is not good :)\nI did mean the only way to know if you want to select a relative or absolute target is to prepend \"<\" or \">\" to the query selector. So, if you want to select, for example, all links, you must write \"> div a\" or \"> a, a\".\n. I've made some changes in: https://docs.google.com/drawings/d/13WWhNhQayokmDtzuhKv7YAq6bQrcp4b_s03vc3LgNys/edit\nFeel free to download and edit the illustration.\n. Yes, this is what I found a bit confusing. The negative and positive values for the offset are different depending if the viewport anchor is start/end or if the mode is absolute or relative. But I don't know the best way to make them more intuitive.\nThanks for add me as contributor :)\n. ",
    "nathansh": "So, is the ability to reference a parent element not being pursued in favour of global css selectors exclusively?\n. That makes sense. The thing we loose not having something like data-target=\"< div\" suggested above is that you can't say: \"whenever every h2's parent section's bottom as at the bottom of the viewport, change the h2's position from fixed to static. That type of thing where you're not writing code for every single section using ID's, but are writing more reusable code based on classes and context.\n. ",
    "nbardy": "Yeah this was more just a quick code up to make it a little easier to work with for me.  Attribute order is definately a bad thing to rely upon, however its working great for me in chromium.\nI was just hoping to give a little bit of insight into the problems I had while using your library.\nIt definitely seems like some sort of constants is the right way to solve this. However the problem of duplicate attributes is still there and the way I solved it looks just awful. can't really think of a great way to solve this however maybe you don't need to because they would all reference the same variable and there would be no chaining. Something like\nhtml\n<div data-start=\"200\" data-100=\"left:500px\" data-300=\"left:760px\">\n<!--                       absolute:300           absolute: 500 ->\nwith variables\nhtml\ninit({varname: 200})\n<div data-start=\"varname\" data-100=\"left:500px\" data-300=\"left:760px\">\nThe data-start  variable would solve the problem of references and the variable setting allows you to use it between different elements.  Which is another feature I would really like.\n. Unless it's unclear in the documentation it looks like the anchor feature isn't actually adding anything. Since\nhtml\ndata-start-[x] == data-[x]\nand data-end has already been around.  However this would solve my problems with a small tweak. Allow users to define there own anchors.  Which ends up looking just like what I have above.\nSo my example would now look like.\nhtml\ninit({varname: 200})\n<div data-100-varname=\"left:500px\" data-300-varname=\"left:760px\">\n. I think it is still definitely needed, the use case is for a animation/movie style site.  If the whole site is just one long animation.  Here is an example of my site which I would of needed it.  Maybe you can think of a better implementation to make a site like this or a better way to implement it with the current features\nI was thinking of going ahead and implementing it as a sort of prepossessor.  I think this would make sense from an implementation standing points since your delcare them at the start of execution.  Which is similar to something like C pre-processor directive.  Which ends up making it almost a seperate functionality.  Maybe it would even work as a plugin.  Unless, of course you already have a nice place to implement it, I've only read a brief bit of the source.\n. Why isn't dollar valid? That definately sounds better. I think a hash would be nice.  it's looks like the name attribute then.\n. Or perhaps\nhtml\ndata-foobar+100\nthen for going back.\ndata-foobar-100\n. ",
    "wikirex": "Hi, what about 2 variables?\nI tried following script but it seems not to work. \ndata-_magStart-5900=\"top:-500px;\" \ndata-_speed-_magStart-5900=\"top:-600px;\"\nThanks. \n. Sorry, I think I can solve this using a function. Thanks for this genius tool. \n. @dewald-laubscher Here is my script in the end. Hope this helps.\nfunction init(){\n    skr = skrollr.init({\n        constants: {\n            speed: 150, \n            speed2: 300, \n            start0: home_h, \n            end0: home_h+150,\n            start1: magento_start, \n            end1: function(){\n                return magento_start + magento_duration;\n            }, \n            start2: function(){\n                return max_top + 300;\n            }, \n            end2: function(){\n                return max_top + 300 + magento_duration;\n            }\n        }, \n        render: function(data) {\n            //console.log(data.curTop);\n            hi_menu(data.curTop);\n        }\n    });\n}\n. Hi, \nI just tried to load different content using $.load() and then execute skrollr.refresh(). This way seems to work fine. I'll finish the web site this way. Any other solution will be appreciated. Thanks. \n. ",
    "dewwwald": "@wikirex Did you solve this with a function? I am myself struggling with this issue.\n. I managed.. If you read this tread be sure to check that you have only the valid chars in the name 0-9a-b_ and also be sure all the values you use are correct.\n. @wikirex Yes! Thank you Rex, this is how I also solved this issue!\n. Hi @Prinzhorn , first things first i have been working on my first skrollr animated website and its been amazing.\nI however, when I came to the part of testing safari, might have found a bug.\nHere is what i did.\nCreated a life-cycle\n-init skrollr\n-grap anim block\n-set styles\nnow if i resize (or if orientation change, for IOS i made resize on body with a check)\n-live anim the required visual effects\n-destroy skrollr after\n-reset my values\n-init skrollr ontop of new values\nTheIssue, when i finally get threw the reset life cycle it seem that the overflow hidden property was never removed and the height of body never recalculated.  So visually from portrait to landscape i have a too long body and from landscape to portrait i have a too short body.\nI am still looking in to this issue.\nIssueNote further debugging have brought me to the thought that my top:maxvlaue; animation of the fixed element might be the wrong value even though I am recalculating it and it works on chrome. This might be because of the overflow hidden.\nIssueNote IOS dom not updating fast enough, but JS getting right results\nIssueSolution In this case I was using setTimeout and not a unique timer variable for every timer running. Be sure as IOS safari will get confused and ignore code in timer.\n. Should I remove my comment as it was I? Or will someone find this useful?\n. Oh no skrollr destroy method works great! I found out that is does what it is supposed to. I found a small issue in my code.\n. ",
    "ThinkTherefore": "I've not dug through the code too much but is there a chance that anchor1 could be zero, which would also pass that check?\n. ",
    "jayarjo": "Why not use currentStyle[styleName] where getComputedStyle not applicable?\n. ",
    "KraigWalker": "Has this been started / completed yet?\nIf not...\n\n. ",
    "Mellifico": "I totally agree, it's quite un-intuitive and it's so sweet to read it. Thanks.\n. ",
    "bymayo": "@Prinzhorn Although horizontal scrolling for desktop is a bit awkward... On mobiles (In landscape mode) it's actually better than scrolling vertically due to the small size of the screen.\nWe currently have a project on that requires a mobile version of a Parallax site. If your not willing to extend Skrollr to work for horizontal scrolling as a main build, would you be willing to work on extending it just for our project?\n. I managed to have a play with Skrollr on a Blackberry Playbook and it worked a charm. The only thing that wouldn't work is drawing a stroke and the gradients.\nI think it's more of a Windows mobile issue now, rather than Blackberry.\nI'm unsure how to get console up on these mobile devices...\n. The full example looked like this:\ndata-1800[quadratic]=\"top:750px;\"\ndata-2512[quadratic]=\"top:575px;\"\ndata-2950[quadratic]=\"top:400px;\"\nBut I managed to fix the easing by applying the \"transition\" property to the elements I wanted to have the easing:\ntransition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n. Sorry, what I meant was them parameters were applied to a  tag, similar to what you recreated.\nOkay all makes sense now. What I wanted to achieve was the smooth motion, after the user release off the mouse and scrolling. Which I seem to have done with transition.\n. ",
    "jrok": "What about in a situation where you're doing fully controlled scrolling/paging like at http://www.archeage.com Is this not a good use for Skrollr? Would Waypoints.js be a better solution in that scenario? Thanks\n. ",
    "victorhooi": "Hi,\n@Prinzhorn I'm trying to implement a horizontal scrolling site that's basically a gallery/storyboard - in this case, I think horizontal scrolling works well. (It's for a wedding).\nI know Stellar.js does horizontal parallax (e.g. See http://markdalgleish.com/projects/stellar.js/) - I'm curious if it's currently possible to achieve the same thing with Skrollr?\nAlso - http://www.cabletv.com/the-walking-dead seems to do something weird where scrolling up/down moves horizontal?\nCheers,\nVictor\n. ",
    "narendrakothule": "Is still horizontal scrolling not possible with Skrollr.?\nWe can see some of e.g. of horizontal scrolling with Skrollr.\nhttp://www.kia.co.uk/new-cars/range/mid-sized-cars/proceed-gt/intro.aspx\nhttp://www.flatvsrealism.com/\nis there any guide for this? \n-Thanks\n. ",
    "pyrsmk": "Sorry for asking this here, I'm wondering if someone have found a way to achieve horizontal scrolling with parallax. @victorhooi, maybe have you found something? If nothing efficient exist yet, I'll plan to develop a solution for that (even it seems to be a bad idea, my current work needs it).\n. ",
    "creativename": "I'm trying to make a horizontal timeline made of boxes whose widths are proportionally resized when the window's height is changed. A wrapper around those boxes would move right to left, appearing as a horizontal scroll. When each box inside that wrapper comes into view, I would trigger animations inside the box (I would think, using anchor-target).\nFaking horizontal scroll by having the page scroll vertically but the animations come in horizontally works when the divs have a set width that I can measure for animating the wrapper's position, but it doesn't work if the height and widths of those divs are dynamic to the viewport. If I never know the exact value of the width of my div, then I don't know the value to scroll the wrapper and when to trigger the inner animations (as there is no relative to viewport horizontally).\nI'd much rather continue using skrollr, since I'm using it on another page on my site, instead of switching to another parallax library that supports horizontal scroll because like the ability to scroll using the keyboard or mouse. Is there any advice on how I can calculate the scroll in order to trigger the inner anchored animations?\n. ",
    "lghinelli": "Templating is good, but in your shoes i'll go with real CSS instead of \"looking similar\"\n. i'm not a skroll expert, so sorry if i write something moronic or not pertinent.\nbut instead of template language, why don't use and array of function and the constructor pick the right one based on resolution/rules?\n. ",
    "alexrussell": "+1 for the CSS animations-like syntax. Really nice way of doing it with a format that most people wanting to achieve something like this should at least recognise if not know pretty well.\n. ",
    "zackarychapple": "I am having the jumpiness and tried using the smooth scrolling but that did not seem to fix the issue. Am I doing something wrong? Here is a jsbin without the smoothScrolling and one with. Both are jumpy. \nWithout\nhttp://jsbin.com/ibATAbA/4\nWith\nhttp://jsbin.com/ibATAbA/5/\n. Even with it being set to false it is still very jumpy in FF.\nhttp://jsbin.com/eniwoMa/2\n. ",
    "felixfischer": "Hey, wow, thank you very much! This looks very promising. I will try it in one of my projects ASAP.\nI really appreciate your work. Skrollr is great!\n. ",
    "guizmo": "Hi Prinzhorn, I know this is a closed request but i'd like to add something to it.... And ask help too....\nUsing the Snapping with nav and deep linking (http://prinzhorn.github.com/skrollr/examples/snapping_nav.html), i would like to have some sections/pages taller than the viewport and so be able to start the scrolling animation only when the bottom of that div is reached. For the sections that are 100% height that would not change the actual effect but for the taller page that would allow to scroll manually until the bottom meets the viewport and then scroll automatically to the next section.\nIf you could point me to the right direction that would be great. Thanks for your time.\n. ",
    "omasback": "Just a heads up for anyone wanting to use this code, it doesnt seem to work on mobile, so you might want to add a check to see if skrollr is in \"mobile mode\" before running this render handler. The best way I can think to check is to just run the same test as skrollr does internally, since skrollr doesnt expose this in its API:\nreturn (/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent || navigator.vendor || window.opera);\nI'll post a gist if I get it working on mobile\n. oh well good thing I ganked that code before you took it down ;) Saved me about a half hour of writing it form scratch\n. I was able to fix this issue by putting my scrolling content inside a overflow: scroll div instead of using document scrolling. \nPerhaps smooth-scrolling is hardware accelerated for the document but not for scrolling divs, and the GPU implementation is buggy.\n. ",
    "lennym": "That's pretty much exactly what I did, the only difference is that I allowed small deviations in the same direction as the animation to continue unchanged (not doing this caused OSX momentum scrolling to cause issues, as the page continues scrolling slowly for a short time). The line https://github.com/Prinzhorn/skrollr/pull/55/files#L0R559 checks that the current position is either where we left it, or a short distance in the direction we're animating.\nShort (as in short duration) animations were actually working OK before, because the animation speed was higher than the likely scroll speed. It was the long, slow animations, coupled with fast scrolling (drag scrollbar or hold PgDn for example) where each frame the animation would try and \"undo\" some of the manual scrolling that this resolves.\n. Suspect you might be right then that this is vaguely related to #51 in that the behaviour is heavily dependent on how the browser reacts to UI initiated scrolling, and whether it's done discretely or continuously. Hence it works nicely on a Mac with continuous scrolling, but \"fails\" on Ubuntu, where I'm guessing the scrolling bevaviour is discrete(?).\nUnfortunately, I think this might be a hard problem to solve.\n. ",
    "banago": "Thanks for the reply @Prinzhorn. So, let me give an example.\nI have a \"div#div_wraper\". Inside this div I have a another one \"div#id_content\". The inner div has a hight of 400px and a overflow: auto. But I don't know how much content will go inside it, so I need to allow scrolling of that content and then continue with the rest of the site. \nSee the image for an example:\n\nIs there a solution to that?\n. No, I want to keep it 400px hight with overflow auto. But when I'm scrolling inside that div, nothing else should happens in the site.\n. The user CANNOT view the content inside the div and the go on with scrolling the whole page right now. The inner div won't scroll.\n. Thanks very much for looking into that.\n. All good :) \nThanks so much!\n. ",
    "siemiatj": "Sorry, missed that in the docs. Seems reasonable. Cheers !\n. ",
    "guardianelfjack": "I just want to change background image.\ndata-611=\"background-image: url(images/allbg.png);\"\ndata-612=\"background-image: url(images/bg2.jpg);\ni tested 10 times(i mean scroll up and scroll down) and it is ok,but over 10 times it is not working.i can't scroll.\n. ",
    "technotarek": "Yes, it appears to handle position:static/fixed, but it doesn't seem to handle float:none/left in FF:\nhttp://www.technotarek.com/test_skrollr.html\nIt works fine in webkit browsers and IE9 (non quirks mode), so I don't think it's a native CSS problem on my side (but many apologies if that turns out to be the case). Note that in my CSS, I set the width of the containing UL to 100% and also set the width of the LIs to ensure that it wasn't a space issue. I did this after trying/testing it without specifying those properties and getting the same result. \n. Oh, this was tested on FF 13.0.1 and 15.0.1. In both cases, FF reports standards compliance mode without any CSS or JS errors. \n. That blows. Thanks for being so responsive. For my needs, I was able to figure out a work around that went something like this:\n1. Specify float:left and a fixed width for LIs in my base CSS; set the width of the containing UL equal to the width of the LIs\n2. Use skrollr to change the width of the containing UL to 2x, 3x ... one LI item. That way, the UL size increases as you scroll and starts to tile the LIs from left to right instead of stacking them vertically.\nAlbeit not perfect and not as elegant, it worked for me and provided the same effect as switching from float:none to float:left. See the fixed navbar on http://www.technotarek.com.\nSomething like this: \ncss\n<style>\n    .navLinks li {\n        float:left;\n        width:100px;\n    }\n</style>\nhtml\n<header id=\"header\">\n    <ul class=\"navLinks\" data-0=\"width:100px\" data-120=\"width:310px\" data-anchor-target=\"#header\">\n            <li>Item One</li>\n            <li>Item Two</li>\n            <li>Item Three</li>\n    </ul>\n</header>\nThanks again. \np.s. I'm looking forward to Skrollr-stylesheets \n. ",
    "ruyadorno": "I just replaced the querySelector with a jquery selector, like that:\njavascript\nif(document.querySelector){\n    anchorTarget = document.querySelector(attr.value);\n} else {\n    anchorTarget = $(attr.value)[0];\n}\nI was using anchor-target somewhere in the project and everything worked fine on ie7 after that, so I supposed it worked\n. ",
    "dazld": "Points noted - and nice that it's probably not loads of work! I just want to make a couple of arguments:\n- If you're trying to integrate into an already existing codebase, it could end up being quite hacky, especially if you want to use something like the r.js script optimizer, or include it as a dependency\n- Can't we hide elements with CSS while the page is being loaded? Will that create problems with calculated dimensions if the elements are invisible?\n- Having the script break when its include position on a page is changed seems like something that could confuse people who aren't totally conversant with JS and the DOM. It's great that you've put so much time into helping non-coders use it, so would be cool to take that just a bit further and make that really solid.\nIt's really a great set of tools, just wondering how to best use the library inside other contexts!\n. The AMD/commonJS API exports thing is a bit of a kludge as there's no native API for modules just yet, but it's not a lot of code. \nYou have to test if there's an exports variable present, and bind your modules public API to that, or if not, just as a global to window, like you're doing at the moment. There's an example at the bottom of the iScroll library, https://github.com/cubiq/iscroll/blob/master/src/iscroll.js#L1099 \n. ",
    "thotmx": "I'll follow this thread. I hope you can change the way to load the scripts.\n. @Prinzhorn I want to put the script in the head. I think is a \"natural\" way. For example, I'm using uglifiers and some things to improve load time.\n. You're right.\n. I'll test it.\n. That's Amazing! It works!.\nI'm using sprockets to test it.\nThanks a lot @Prinzhorn \n. ",
    "NeedNap": "Hi Alexander,\nI attach the modified library to this email.\nYou can see the code I added (comments marked by \"\u00a7\u00a7\u00a7 ALE\").\nIt works well but I think it's not optimized.\nNow I have the \"re-parse\" problem to the first and last keyframe.\nHowever, I will try to also use the piece of code that you sent me.\nLet me know if you have news in this library.\nThank you for your great job.\nAlessio\nOn Oct 2, 2012, at 9:52 AM, Alexander Prinzhorn notifications@github.com wrote:\n\nFeel free to show some of your code.\nI had something like this in mind, but I definitely won't allow embedding actual code. This just looks awful and needs a much more sophisticated parser, because regular expressions won't do (the embedded code is a context-free language).\nI suggest something like\n\nskrollr.init({\n    helpers: {\n        kittenWar: function() {\n            var $el = $('#myTarget');\n            return $el.position().top + parseInt($el.css('margin-top'), 10) + 'px';\n        }\n    }\n});\nShould the helpers be executed after a resize event or on other occasions as well?\n\u2014\nReply to this email directly or view it on GitHub.\n. Hi Alexander,\nI've done some implementations to the library, but the code is not optimized.\nIf you want I can send you the code and a link where you can try what I implemented.\n\nThe link is: http://www.scuolamobile.it/dev/index.html but this web site is still under construction.\nLet me know what do you think of that ;).\nAlessio\nOn Nov 30, 2012, at 11:27 AM, castus notifications@github.com wrote:\n\nCould you share the code for this feature?\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "castus": "Could you share the code for this feature?\n. Thanks.\nBTW. nice parallax effect you have, grats ;)\n. I read documentation once again and you are right. Relative mode did the trick. Thanks!\n. Hi,\nThe site is http://millermusictour.pl (polish language, minified JS). I use forceHeight: false and everything works fine before FF 18 release. I find out that body.scrollHeight is the problem and when I use jQuery or above script to calculate height, everything would work again.\n. Thanks for your help, this is the best parallax plugin I know :+1:\n. ",
    "tobsn": "was this ever implemented?\nright now I'm having the issue that I'm moving an element that is right: fixed and has to move to the left into a sticky menu... so logo should move into centered  space and stick there... basically a sticky menu at the top that appears while scrolling down, which drags the logo along and puts it at the beginning of the menu. which obviously needs to adjust to all screensizes.\n. ",
    "mrtnbroder": "I really dig the suggestion you mentioned here https://github.com/Prinzhorn/skrollr/issues/69#issuecomment-9061662\nmaybe helpers should be called attributes though or something similar, since you want to set a dynamic attribute of a property.\nWould love to see this implemented soon :D 2 years for a feature request... I think it is about time ;D\n. ",
    "albertvolkman": "bump. ",
    "fi5u": "I am getting the identical problem with Skrollr. However it seems to only be a problem on iOS (iPad - I'm serving a non-Skrollr version to mobile phones). Computer version works fine.\nWhen hash links in the position:fixed menu are clicked, the page navigates to the desired target, however the menu disappears from view and it becomes impossible to scroll anywhere above the hash position that has been selected.\nI am using smoothScroll.js plugin for the links, however, on removing this, I am still getting the same problem and therefore is not affecting Skrollr.\nLink to site: http://dev.kirnauskis.com/finlayson-jf/dev2/\n. Thanks for the compliment.\nAfter testing I believe the problem is with Skrollr. I'm keen to have the skrollr effects on the tablets and computers, but not mobile phone.\nI've used a combination of min-device-width and a modernizr test for touch event possibilities to call the mobile version of the script, which should cover only tablets (including Retina iPad). It seemed a more concise way to test, but I can also change back to the detectmobilebrowsers.com script but test only for tablets (if available).\nRegardless of the test, I know that the skrollr mobile script is definitetly loading for tablets (along with the core script).\n. Ok, I understand.\nThanks for the prompt reply and the good work you're doing with Skrollr.\n. ",
    "thelucid": "It seems that when using the menu plugin, the hash doesn't change in the url therefore preventing bookmarking etc.\n. Ah, ok, fair enough. I guess it's going to be some fancy hash change event.\n. ",
    "naeluh": "Thanks I am still having the issue but I have get the example page together \nWill post soon \n. Ok sorry for the delay on this here is where it is happening I am trying to use skrollr on the background image for this link http://www.theconfluencegroup.com/newtcg/#trailer \nplease let me know if I can provide any other info thanks \nbasically the image isnt showing up \nhere is the code I am trying to use\nthis link has the html code I am using http://pastie.org/5085166\n. greats thanks for your response ! Sorry about I am still working on it, so you might of saw it when I had changed it back \nI updated to try and show the background-image \nSee its calling the image url but no image is showing up ?? \nIt just says url() with nothing in there\nalso when I use this on the iphone which I am going to make a separate issue it is doing some weird stuff \nPlease let me know if I can include any more info \nAlso when I use the minified version of the script it stops working ? The full script does work. \nthanks !!!\nThis soo awesome !!\n. Cool awesome thanks for the quick response I see what you mean. I tried and it is still not producing the image for some reason ? \nThats great about finding that fix. \n. Once again thanks again for the quick response. It is closer, it is showing a url but it looks like this url(\"newtcg/files/backgroundNaNgif\") I tried using a url! but then it returned to the old results, where it did not show a url at all for some reason it is changing the \".\" to a \"NaN\" \nthanks again for all your help !!\n. Haha. This is awesome. Cool yeah I wish I knew how write regular expressions those are awesome and extremely powerful. Yeah I think that will prob fix it. Thanks again for all your help. I really love skrollr it really cool stuff. Hey also what if I wanted use my cdn to host the image for the background ? Cause I wanted to load the image faster \nwould that be possible at some point ?\n. Great ! It works !! thanks again for all your help !!\n. Hey one thing though can you take a look at my page some of the items are now altered slightly or broken the menu on some of the pages is brought lower and the background is like a quarter of the way down the page. Do you see them ? It happened after adding the skrollr.min.js those items were fine before the patch. sorry about this thanks \n. Hey I got it figured out. thanks. \n. Is there something I am doing completely wrong here cause it seems to work in ie9 in the examples  ? thanks !\n. Perfect thanks !\n. Ok thanks sorry I missed that but what do I do if I dont have stroke-dashoffset in my svg? Can I animate any stroke attribute?\n. Okay cool ! But I was trying to do what you did in the example by letting show portions of the line as you skroll cause I am using a dotted line and I want to show the different dashes as it moves down the page ... my svg doesnt seem to have the element you animated ? thanks \n. ok thanks \n. Ok thanks that worked \n. thanks for that rule !\n. I got it to hide with some jquery thanks \n. ",
    "Moondrop": "Hi Prinzhorn,\nThanks for the reply! Here is a demo of what I mean:\nhttp://testing.kassandrapoon.com/skrollr/\nSo for example:\nMy current window size is: 1200px by 1000px. Box 1 has a bottom position of. 70.2228%. Resizing the window (width/horizontally only, eg. to 1210px) causes my relative skrollr elements to jump to a new position vertically. Box 1 has a bottom position of 50% after resize.  \nHowever, my window's vertical height remains 1000px, and the layout's content height remains the same as well. \nIs there any way to prevent this jumping?\n. I see, hopefully someone else will have a good idea concerning this. Thanks for looking into this and replying!\n. The fix works terrific! Here is my demo with the updated code.\nThanks a ton Prinzhorn! \n. ",
    "ilovetoast": "Awesome, I missed it the readme. Thanks!\n. ",
    "iabw": "Thanks Alex, I got this working on the specific animateTo call -\ns.animateTo(0,\n{duration:1,\nbeforerender: function(data) {return false;}\n});\nThis completely serves my purposes, but it's worth noting that a duration of 0 does not work as I would expect, and instead registers as the default 1000 ms. Not sure if this is intentional, or a case of == instead of ===.\n. Previously, I was just using jQuery's scrollTop() to go where I wanted. Using the 1 duration animateTo or setScrollTop, I don't get the flash of \"position:fixed\" content. I apologize for the spate of questions, and appreciate your quick replies.\n. I find it very helpful to open Firebug and see the keyframes for each element right at the element itself and be able to manipulate them, call refresh on the element and see changes instantly\nThis wasn't something I'd considered, and it's definitely useful, so thanks for that!\nHowever, this method isn't prevented by what I'm talking about and it's not quite as complicated as the CSS framework you're building.\nHere's what I'm doing-\n```\nvar s,\nparallax = {\n    \"#exampleblock1\" : { \"0\" : \"display:block;\" , \"1000\" : \"display:none;\" , \"6500\" : \"display:block;\" },\n    \".examplegroupblock2\" : { \"0\" : \"display:block;\" , \"1000\" : \"display:none;\" , \"6500\" : \"display:block;\" }\n}\nfunction resetParallax(offset){\nfor (var each in parallax){\n    var attrObj = {};\n    var $el = $(each);\n\n    for (var key in parallax[each]){\n        $el.removeAttr(\"data-\"+key);\n        var attr = parseInt(key) + offset;\n        attrObj[\"data-\"+attr] = parallax[each][key];\n    }\n\n    $el.attr(attrObj);\n}\n\n}\nfunction setParallaxEffect(offset){\nresetParallax(offset);\n\ns = skrollr.init({\n});\n\ns.refresh();\n\n}\n```\nOne reason I've done it this way because partway down the page I add an item to the top of the DOM and need to move everything's animations down. It's very likely I could use the constants option instead.\nAnyway, that helper function \"resetParallax\" removes the old attributes and replaces them with the new location. It's flawed right now ( only allows ints as the data-keys, jQueryized, and the removal of old attributes and adding of new ones should really be separate operations ), but you get the idea.\nYou can see the data format is pretty much identical to what's on the HTML items, just centralized.\nThis helper function is obviously very simple, but it seems like IF it's being initialized this way, it would be more efficient to have skrollr directly apply this information, instead of NEEDING this function to then allow the entire DOM's attribute parsing to happen.\nI've found it helpful to work this way - but this is simple enough to implement for individual users that you might consider the option of passing data in this way \"bloat\" and that would be reasonable. Was just throwing it out there and inquiring about (not criticizing) architecture decisions.\n. It looks to me like some of your skrollr markup is wrong. For example, you've got \"opacity=\" in some places, which should be \"opacity:\". You've also got an item that you want to become visible starting visible at the top of the page and fading out, although it's located in the 4th screen, so by the time it's \"visible\", its opacity is already 0.1.\nEdit: All of the elements you have defined as starting at \"data-0\" should be \"data-top\". This will cause them to animate when aligned with the top of the viewport. At least, that seems like what you want. Check out this section of the docs again - https://github.com/Prinzhorn/skrollr#absolute-mode-or-document-mode\n. I'm not completely clear on what the problem is that everyone is saying they're having (since it wasn't super clear in the original question).\nHowever, I just ran into an issue with Safari (on Mac/iPad, but not PC) relating to the z-indexes of animated position:fixed elements. The background element would \"flicker\" as I scrolled, appearing on top of images with a higher z-index. It's probable that background-attachment: fixed uses the same back-end code. This isn't a problem with skrollr, but some error in how Safari handles the element stack.\nSetting the z-indexes of elements I wanted at the bottom of the stack to -1 instead of 0 seemed to \"fix\" the problem. At least, I managed to get it layering and animating the way I wanted without display errors.\n. I had no problem layering waypoints over skrollr, which is more designed for this type of functionality. Maybe this functionality should just stay extracted.\n. ",
    "kvcrawford": "I think I have a use-case for defining keyframes with a javascript object, which wouldn't be covered by the use of constants.\nFor one of my animations, I need to measure the height of the viewport, so that I can calculate the number of pixels to adjust by. So in this case, being able to use a function to return a value would be very useful. For example,\n``` javascript\n// Pseduocode describing structure of keyframes object\nvar keyframes = {\n    scrollPosition: {\n        element: {\n            property: value\n        }\n    }\n}\n// Example\nvar keyframes = {\n    1000: {\n        \"#element\": function(){\n            var winHeight = document.documentElement.clientHeight;\n            var elementHeight = $(this).height();\n        var top = winHeight - elementHeight;\n\n        return {\n            \"top\": top\n        }\n    }\n}\n\n}\n```\n. @Prinzhorn maybe I'm having trouble wrapping my ahead around update-able constants, but I don't think so. In my particular case, it's not the scroll position that's the issue, but rather, how much I need to adjust an element's position based on the screen height.\nI've hacked what I needed by using the render callback function to detect when the scrolling has reached the end of the page, so I can adjust the position of my #plug-male element:\n``` javascript\nvar s = skrollr.init({\n  forceHeight: true,\n  render: function(props){\n    if (props.curTop == 4800){\n      if(bottom) return;\n  var windowHeight = document.documentElement.clientHeight,\n      $cord = $('#plug-male'),\n      cordHeight = $cord.height(),\n      cordMargin = parseInt( $cord.css('margin-top') );\n\n  // Desired offset from bottom of viewport\n  var offset = 80;\n\n  // We need to re-position based from the _middle_ of the cord graphic\n  var foo = ((cordHeight/2) - (windowHeight/2)) + offset;\n\n  var newMargin = cordMargin - foo;\n  $cord.addClass('arrow').animate({'margin-top': newMargin}, 'fast');\n\n  bottom = true;\n\n} else if (props.curTop <= 600) {\n  bottom = false;\n}\n\n}\n});\n```\nYou can see the effect and rest of the source on http://yumeplugplaypayday.com/\n. @Prinzhorn, well yes that functionality is pretty much what I'm hacking out. But it would be preferable to use a function to calculate the value for a keyframe.\nAha! I can just dynamically set the attribute before initializing skrollr:\n``` javascript\nvar keyframe = \"top: 500px;\";\ndocument.getElementById('foo').setAttribute('data-1000', keyframe);\nvar s = skrollr.init();\n```\nThat works perfectly. What I proposed would basically just be some nice-looking porcelain. Silly me :+1: \n. You could use jQuery Waypoints, but for best performance you should probably just do as @Prinzhorn suggested.\n. From the CSS spec:\n\nHowever, for zero lengths the unit identifier is optional (i.e. can be syntactically represented as the  \u20180\u2019).\n\nBut it's up to you. \nLet me know if you want to proceed and I'll put together an example (as soon as I meet this deadline). Thanks for the library, my project's coming together quite nicely because of it!\n. Yeah, but if it's animating to/from 0, it should infer that it's the same unit as the next keyframe. Maybe it's just me, but I feel like 0-length dimensions are more typically written unit-less in CSS than with a unit.\nBut I understand not wanting to clutter up the code. How about extending that wording in the documentation, like so:\n\nAll numeric values have to have the same unit. It's not possible to animate from 0% to 100px. skrollr won't complain, but results are undefined. This means you must use a unit for lengths of 0, too.\n. Thanks! :+1:\n. \n",
    "markdurbs": "I've also noticed this and it seems to occur in any element that have backgrounds images with the background-attachment property set to fixed. It only seems to happen if skrollr animations have been applied to any element above this element. It also only happened to me in safari. \n. ",
    "jancarloviray": "@markdurbs @Prinzhorn I do actually get this bug as well. It only happens in Safari. Desktop is fine.\n. @kylamedina I ditched it and made a parallax-less website. I finished the site, but I though I'd rather have my site usable and accessible than cool (but not working)...\nhere's the site I used parallax on: http://www.jancarloviray.com/parallax\nthen, I decided to make one without parallax: http://www.jancarloviray.com\n. ",
    "kylamedina": "@markdurbs @jancarloviray what did you end up doing? I have the exact same problem.\n. ",
    "rourke": "Basically yes. I love the way your plugin works when it comes to positioning. But for some elements i'd like to finish the animation straight away instead of \"forcing\" the user to scroll down.\n. I have to add when asking this question I had in mind this might fall outside the scope of your plugin.\nI was allready writing the syntax I had in mind in this comment, but while doing this I figured this is harder then I first thought it would be. Here is something, but I think I might not have considered all factors.\nWhat about something like data-[offset]-[anchor]-[type] for absolute mode where type can be set to scroll (default) and instant. And data-[offset]-(viewport-anchor)-[element-anchor]-[type] for relative mode. But you mentioned you need two keyframes (for starting and ending right?), which makes it harder. You could add -start and -end after it, but it might get messy. data-duration can contain the duration in miliseconds.\nAgain, I have no idea if I considered everything here, let alone if this is doable.\n. That is a great idea. I didn't think about it that way yet. And I am (and love) using jQuery. Thanks Alexander!\n. ",
    "sprawld": "Hiya. Love skrollr. Hope this isn't presumptuous, but I'm going to explain a problem I'm having, make wild speculations on an animate() method, and then just ask for a few pointers :)\nI'm using skrollr to make a website for an artist friend of mine. I'm using it for parallax scrolling (vertical), but adding animation in too, so doing this all within skrollr sounds very good to me. At the moment I'm using your suggestion from Issue #88 - adding listeners in, to trigger some JQuery animate() calls. Unfortunately, for any vertical animation, I'm using skrollr to set the css top position (for the parallax), then animate() to set the padding-top (so that the two don't conflict). This quickly gets jerky with lots of objects.\nSo I'd really like to put the animation in the skrollr script, and allow both skrollr and the animation to set the css top. I considered seeing if I could change the skrollr markup to allow it to specify time fixed animation eg: data-t-0=\"top:0px;\" data-t-1000=\"top:100px;\" where the number is the time in milliseconds. I thought I could add the command \"t=0;\" into the css to allow looping (data-t-2000=\"top:0px;t=0;\" would loop the animation after 2s) and maybe even to trigger the animation at a certain height (data-100=\"t=0;\") [if this was second case was allowed, skrollr would have to check an object for t=0, if not present it would start any specified animations at page load]\nI realised I don't know nearly enough Javascipt (yet) to do this, I've just started learning (I'm not a programming novice, but definitely a js novice) but thought I could try adding some specialised script into skrollr for my project. So here's my question: can you give me pointers to where in the skrollr code I could insert animation? What variables would I be changing? Can I just change values after skrollr's calculated, but before it's rendered or would this cause problems elsewhere?\nIf you have any suggestions on my wilder speculation, I'm up for giving that a try too :)\n. Yeah, I was a bit unclear, I wanted the animation to add 0 -> 100px to the correct height (top) of the object. For example in my page, it's a cloud that moves with parallax and bobs up and down.\nI should have put it as data-t-0=\"padding-top:0px;\" data-t-1000=\"padding-top:100px;\". That's what I'm currently doing with JQuery animate(). You're right - if the animation & scroll-position both set different absolute values there's a conflict. That was an unnecessary complication, I can do everything I need on css variables skrollr hasn't touched - I assume the jerkyness with my JQuery animation is because it's animating outside of skrollr, not because it uses both 'top' and 'padding-top'\n. Hiya Prinzorn. I know this is an old conversation, but I thought you might like to know - I wrote a plugin to declare animations in a similar way to Skrollr! A copy of it's here - I give a quick shout-out to you as well : )\n. ",
    "paskainos": "First, I love Skrollr, and the logic behind it, like:\n\nWith skrollr, you put the definition of your key frames right where they belong (to the element) using a syntax you already know (plain CSS).\n\n-- Yes, brilliant!\nTo the point; I [too] have been working on a site with some cool Skrollr / animation effects, and I'm currently experiencing the same, namely:\n\nThis quickly gets jerky with lots of objects.\n\nI agree, data-attributes to cue animation sounds like the way to go.\n\nI didn't thought about adding them as data-attributes, but that's probably be a good idea.\n\nHowever, considering this:\n\nI assume the jerkyness with my JQuery animation is because it's animating outside of skrollr...\n\nPlease allow me to introduce a[nother] layer of abstraction. Since the 'jerkyness' is most often caused by the hardware acceleration resulting from CSS (and jQuery) animation techniques, I'm thinking of using Velocity.js for significantly more performant animation techniques. This should also be good news for the jQuery lovers since:\n\nVelocity is a jQuery plugin that re-implements $.animate() to produce significantly greater performance (making Velocity also faster than CSS animation libraries) while including new features to improve UI animation workflow.\nVelocity works everywhere \u2014 back to IE8 and Android 2.3. Under the hood, Velocity uses jQuery's $.queue(), and thus interoperates seamlessly with jQuery's $.animate(), $.fade(), and $.delay(). Since Velocity's syntax is identical to $.animate(), none of your code needs to change.\n\nAnd even better:\n\nAlthough Velocity is a jQuery plugin, it uses its own animation stack that delivers its performance through two underlying design principles: 1) synchronize the DOM \u2192 tween stack to minimize layout thrashing, and 2) cache values to minimize the occurrence of DOM querying.\n\nSo question: can you point me in the right direction on the best way to implement Velocity as my animation engine? And if you like, I can report back with results, info, patches, branches, etc. Thanks again for Skrollr, and please advise.\n. Had a similar issue. I believe you'll find it's related to this: cubiq.org/you-shall-not-flicker\n\nSimple solution: -webkit-transform:translate3d(0,0,0).\n. I believe you'll all find this solution will resolve the issue.\n. @dwkoss: I had the same issue with the 'arbitrary cutoff'. The trick is to use keyframes to tell Skrollr where the end of #skrollr-body content is. You've obviously discovered this too, it seems. However, in this case, I'd suggest using a keyframe reference for #bottom, instead of the existing #bottom + .gap reference. That should eliminate the extra 100% viewport height currently at the bottom of mobile. Here's a more verbose explanation in case it's of any help.\n. @Twansparant this particular issue is unrelated to content not yet being (fully) loaded. In testing (and in production) I used imagesLoaded, but that didn't resolve the issue. I even went so far as to (pre)set the height of each #skrollr-body > div prior to skrollr execution, but again to no avail. For more info take a look at my other, more detailed comment, along with the example I created to reproduce the issue - which you'll notice doesn't use image size as a means of determining container height for any of the #skrollr-body > div containers.\n. I'm experiencing the same issue. @emmills3, it appears you've solved the mystery. Is that correct?\n. @emmills3, I saw the link in your original post and noticed (subsequent to the fix, and prior to your response) it appeared 'fixed' which was why I inquired. I too was encountering the 'arbitrary cutoff' issue. After an embarrassingly long investigative process, I realized / deduced relative mode is keyed to keyframes (duh) - thus, it must be 'told' (i.e. keyframe) where the 'end' of content (within #skrollr-body) is located.\nThis is why the cutoff appears arbitrary, as you pointed out, since no keyframe identifies the end of content within #skrollr-body and Skrollr uses this method to quantify #skrollr-body content (and thus calculate size). Once I realized this, I inserted a keyframe for the 'end' (i.e. last content container relative to the parent #skrollr-body) of #skrollr-body content and voil\u00e0 - fixed!\nYou can see examples of this concept at work on this site: mojo-lab.com. The home page, the staff page(s) (template), and the client page(s) (template) all use this method to indicate to Skrollr 'end' of page (i.e. #skrollr-body) content. @Prinzhorn, please let me know if I've missed or misrepresented any info.\n. @who519: in this case it's probably more helpful to view source rather than firebug it, since firebug displays rendered page code, whereas in this case you want pre-rendered code (i.e. before skrollr's alterations & markup). I created a simplified example of the remedy using a clone of @Prinzhorn's classic parallax example. You can check out the example here. Hope that helps. Best of luck!\n. Wow - that's interesting stuff! Thanks @littletinyfish for sharing the results of your investigation. I'm interested to check this out! :)\n. ",
    "mystrdat": "I realize the project is dead and the feature is available in ScrollMagic, so perhaps for reference, I think you could have left in the data- syntax functioning as a trigger and just add or remove a specific class based on the scroll direction over the trigger so people could create CSS transitions. You'd get an 80/20 solution for a big array of usecases with minimal changes to the lib needed. I think the useful syntax was always the smoking gun of skrollr and being able to use it for simple triggers would have been perhaps technologically inferior to 2-point interpolation, but useful in practice.\n<div data-200-top=\".triggered\"></div> . iOS has many unsolved repaint issues related to transforms, position: fixed and some property combinations. I can't really test it right now, but I would try several things. Try not using position: fixed on each layer, rather have one fixed layer big as the viewport and position each of your scenes inside of it absolutely. Don't use relative viewport units vw vh anywhere, scale to 100% from html instead. Don't scale from 0, rather from 0.01 or a minimal value. Try not using image tags, but rather elements where the images are added as a background-image. If none of that works, let me know and I can take another look when I get my hands on the Mac abomination again.. ",
    "RedRooster1234": "Thanks for getting back to me - changed my code as you pointed out, works a charm now.\nAWESOME library btw - keep up the good work.\nThis can be marked as solved now :)\nKind Regards,\nMark\n. ",
    "codemasterP": "Okay, I will look into the overflow again. As for the automatically scrolling back to the top, even in your demo, when I am in safari once I get to the bottom it shoots back to the top in both safari and chrome, but does not happen in firefox. \n. ",
    "bolaoch8": "Thanks, Alex, actually just realized that it was my fault... I wasn't asigning properly de div classes name to the code. So it works just fine now. Having some problems on iPad again, though. It detects when you touch the nav bar, but not the section you're selecting.\n. ",
    "benbarnett": "Hmm just seen you are actually normalising this already with 'beforerender'. This may well be utterly pointless!\n. ",
    "lpetrov": "adding     -webkit-transform: translateZ(0);\nsolved the problem :)\n. ",
    "verbatim": "Thanks for taking the time to look and get back to me. I am working on a project that tracks the path of hurricane Sandy. In the foreground is an icon of the hurricane and in the background is a map of the east coast of the US with a path of the hurricane layed on top of it. Then as the user scrolls down the page the map would parallax underneath the hurricane icon while following the dotted line path on the map.\nI have not had any success finding scripts that allow for parallax and movement of a foreground object on a non-linear\u00a0 or curved path. the closest seems to be \nhttp://www.nintendo.com.au/gamesites/mariokartwii/\n\nFrom: Alexander Prinzhorn notifications@github.com\nTo: Prinzhorn/skrollr skrollr@noreply.github.com \nCc: verbatim seeknosy@yahoo.com \nSent: Thursday, November 29, 2012 4:18 AM\nSubject: Re: [skrollr] Skrollr on non-linear path? (#98)\nBut I will keep this ticket open. Maybe I'll find a solution (like a skrollr plugin) to combine both worlds, e.g. having an element move along a path while animating other properties. scrollpath seems to be inactive, so it would be a shame if you can't use it anymore at some point.\n\u2014\nReply to this email directly or view it on GitHub.\n. Thanks for considering my suggestion. I hope it makes Skrollr even cooler than it already is now.\n\nsimplify the path animation to not have any curves but just straight lines.\n\nThis is a good preliminary suggestion. I was looking at your examples:\nhttp://prinzhorn.github.com/skrollr/examples/circular_motion.html\nhttp://prinzhorn.github.com/skrollr/examples/path.html\nbut was not sure how to how to have they might work together for the original example I described.\nhttps://www.dropbox.com/s/mkcwsg2g0yoth7u/map.jpg\nthe map would only be partially visible by browser size (the white frame theoretically), \nAs the user scrolls up and down the page, the hurricane icon move up or down along the curved path and the map parallaxes (can parallax be a verb?) underneath it.\nI have made my boss aware that parallax on a non-linear path is an ambitious goal. he is hacking around for a solution. maybe you will beat him to it!\n\nFrom: Alexander Prinzhorn notifications@github.com\nTo: Prinzhorn/skrollr skrollr@noreply.github.com \nCc: verbatim seeknosy@yahoo.com \nSent: Thursday, November 29, 2012 3:37 PM\nSubject: Re: [skrollr] Skrollr on non-linear path? (#98)\nI see what you want and I can really imagine that it would be very cool. I already have a possible solution in mind which would be much easier than scrollpath and much more powerful while using things skrollr already is able to. But this needs to be carefully planned and thought about. Maybe I can hack a bit this weekend.\nFor now the best you could do with skrollr is to simplify the path animation to not have any curves but just straight lines. Depending on how many edged you create, the animation could still look quite smooth. But it's of course a lot of work to create the keyframes.\n\u2014\nReply to this email directly or view it on GitHub.\n. Thank you.\nWe actually have been able to get a prototype running. The map moves as a background image. And the hurricane icon on top rotates and follows a path just like you suggested: smaller straight lines.\n\n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \n\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0  hurricane_icon \n\nFrom: Alexander Prinzhorn notifications@github.com\nTo: Prinzhorn/skrollr skrollr@noreply.github.com \nCc: verbatim seeknosy@yahoo.com \nSent: Friday, November 30, 2012 4:19 AM\nSubject: Re: [skrollr] Skrollr on non-linear path? (#98)\nIllustration of what I mean: http://dl.dropbox.com/u/37892603/_map.jpg This would result in 8 keyframes which contain left, right and maybe transform, if you want the map to rotate. It should look like it's actually moving along the smooth path.\nThe path-example you linked doesn't help you much. But the circular motion is basically what I want to use as a basis. But instead of having to write the easing function by yourself, it is automatically generated from any arbitrary path.\ncan parallax be a verb?\nI guess everyone knows what you mean. But in this case the map is just moving.\nI have made my boss aware that parallax on a non-linear path is an ambitious goal. he is hacking around for a solution. maybe you will beat him to it!\nMaybe.\n\u2014\nReply to this email directly or view it on GitHub.\n. http://www.verbatim.site40.net/\nsorry, forgot to include the link of the prototype. the four plus signs that are links do not actually do anything yet. I just needed to get them in place. the next step is to connect those links to tooltips or modal dialog boxes with further information about charities in those cities.\n\nFrom: Alexander Prinzhorn notifications@github.com\nTo: Prinzhorn/skrollr skrollr@noreply.github.com \nCc: verbatim seeknosy@yahoo.com \nSent: Friday, November 30, 2012 4:19 AM\nSubject: Re: [skrollr] Skrollr on non-linear path? (#98)\nIllustration of what I mean: http://dl.dropbox.com/u/37892603/_map.jpg This would result in 8 keyframes which contain left, right and maybe transform, if you want the map to rotate. It should look like it's actually moving along the smooth path.\nThe path-example you linked doesn't help you much. But the circular motion is basically what I want to use as a basis. But instead of having to write the easing function by yourself, it is automatically generated from any arbitrary path.\ncan parallax be a verb?\nI guess everyone knows what you mean. But in this case the map is just moving.\nI have made my boss aware that parallax on a non-linear path is an ambitious goal. he is hacking around for a solution. maybe you will beat him to it!\nMaybe.\n\u2014\nReply to this email directly or view it on GitHub.\n. I appreciate your getting back to me on this. I am excited that you took my suggestion seriously. Skrollr was easy to use and now with more features and less calories and fat. Can't wait to see once you have something running.\n\nFrom: Alexander Prinzhorn notifications@github.com\nTo: Prinzhorn/skrollr skrollr@noreply.github.com \nCc: verbatim seeknosy@yahoo.com \nSent: Saturday, February 23, 2013 5:46 AM\nSubject: Re: [skrollr] Skrollr on non-linear path? (#98)\nI haven't forgotten about this. I already created an empty repo for it (oh yeah, that was so hard...) https://github.com/Prinzhorn/skrollr-path\nI have some really slick ideas on how to allow things to move along any path (skrollr itself already offers everything, I just need another lib that converts the data to the correct format). I already wrote some code and things are looking good. But it may take a while until this is usable.\n\u2014\nReply to this email directly or view it on GitHub.\n. Quite awesome-tacular.\n\nFrom: Alexander Prinzhorn notifications@github.com\nTo: Prinzhorn/skrollr skrollr@noreply.github.com \nCc: verbatim seeknosy@yahoo.com \nSent: Tuesday, March 19, 2013 2:58 PM\nSubject: Re: [skrollr] Skrollr on non-linear path? (#98)\nI still need to fix #132, which is tough. But there's a preview http://prinzhorn.github.com/skrollr-path/\n    * x and y position move along this path \n    * the rotation is based on the angle of the path \n\u2014\nReply to this email directly or view it on GitHub.\n. ",
    "increed": "Heyy there..\nI have used skrollr for my website. For data-attributes like data-0, data-700px, etc how to make the website responsive as per device widths? These attributes are used in line within html tags so cannot be used in css or javascript in order to make them responsive as per device widths. How is that to be achieved?\n. Heyy Alex\nI checked out the skrollr plugin for parallax wesbites. Its really awesome.\nI have two doubts though:\n1) How do you estimate the body height in parallax websites\n2) How to make parallax site reponsive?. Since the viewport changes as per\nthe device widths. So if we define data attributes in pixels;that woudn't\nwork right?\nPlease guide me.\nThanks\nSaroj\nOn Tue, Feb 10, 2015 at 12:56 PM, Alexander Prinzhorn \nnotifications@github.com wrote:\n\n@increed https://github.com/increed\nrelative mode:\nhttps://github.com/Prinzhorn/skrollr#relative-mode-or-viewport-mode\npercentage offsets:\nhttps://github.com/Prinzhorn/skrollr#percentage-offsets\nconstants: https://github.com/Prinzhorn/skrollr#dynamic-constants\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/Prinzhorn/skrollr/issues/98#issuecomment-73655488.\n. Hi Alex,\nAs per your suggestion, I did try using percentage offsets and relative modes. But now the problem is skrollr does not work on mobiles in my case. Here is the link to what I have done so far:\nhttp://divizbeta.in.s3-website-ap-southeast-1.amazonaws.com/\nI used percentage offset here. And there is both horizontal and vertical scroll involved. So used css tranform property to translate the divs horizontally.\n\nBut, It is not responsive and neither does it work on mobiles. Any solutions for this?\nPlease help.\nThanks\nSaroj\n. ",
    "t22james": "Alas, my designer's eyes only see the simple surface! Wish I could be of any use :) I hope someone has a way forward for it as I feel this would really blow open this plugin's scope (hopefully) without adding too much weight to it.\n. Hey Alex, there is a bug with the implementation of your suggested code for classes...\n<div data-center-bottom=\"@class:active;\" data-end=\"@class:active\" data-edge-strategy=\"reset\"></div>\nusing this results in expected functionality in that the class is added at \"center-bottom\", and persists right to \"end\", however in chrome and safari the class is again removed while \"overscrolling\" (where the browser/os physically shifts the page up to reveal the browser background itself to intimate that the page has ended). things seem fine in firefox however which doesn't use 'overscrolling'. I wonder if the browser is returning a NAN or something at that point which is confusing your implementation of data-end ..... any ideas for a fix?\n. Right- I suppose conceptually you would imply that data-end would last,\nwell, to the very end... but I appreciate that the 'end' for skrollr is\nlikely stored as a pixel co-ordinate, making it difficult to account for\noverscroll. My solution in case anyone else encounters issues with\noverscroll is to add a large offset to the end value, along the lines of\n    data--1000-end=\"your-stuff-here\"\nCheers Alex :)\nOn 13 August 2014 21:24, Alexander Prinzhorn notifications@github.com\nwrote:\n\nHey Alex, there is a bug with the implementation of your suggested code\nfor classes...\nIt works as intended basically. You're using data-edge-strategy=\"reset\"\ntelling skrollr to remove the class after end. And overscrolling results in\na larger offset than the end of the page.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/Prinzhorn/skrollr/issues/99#issuecomment-52026768.\n. \n",
    "chrisgrimshawjones": "So is there a version with waypoints style functionality added into skrollr available now?\n. To do CSS3 Animations you can try setting an easing on the div you want to animate and then trigger the animation with a 1px scroll difference, it get's a little messy if you want to do complex chains but it works well. \n\n\nBut yes JS triggers would make this perfect\n. so you can go\n\ndiv class=\"lamp\" data-7700=\"opacity:0; data-7701=\"opacity:1;\n\n.lamp{\n     transition: all 500ms cubic-bezier(0.420, 0.000, 1.000, 1.000);\n}\n.",
    "commonpike": "As an implementation, I might expect something similar to the render() option, a onKeyframe() event, that triggers anytime a keyframe is passed. It could receive a reference to the element(s) that defined the keyframe. Its easy to implement something similar with the render() event, but could be more efficient.\n. OK .. thanks. I looked at _skrollables shortly .. there is a reference to each html element there. I'm just wondering .. how deep I would have to go ... well it looks like its too deep and scary down there :-) \nMight be a feature request.\nthanks! love the lib! \n+1 for the term 'edge strategy'!\n*-pike\n. I end up doing what I did - rewriting the html dom and refreshing skrollr. I seem to remember the delay turned out to be 0 msecs, meaning it was just in the event queu order somewhere. Must add, I actually had the animation tucked away in javascript arrays and used method calls to write the data-* attributes. so you could say i wrapped skrollr().\n69 might have helped. i needed to rewrite the keyframes based on a scale factor that i had hanging around elsewhere. so fe giving the name of a method to use to calculate data-* and manually calling a sort of recalc() could do it (and might have avoided the need for a wrapper).\ncurious how you plan to handle that!\nthanks,\n*-pike\n. Oh, doh. A proper way around it is to use touchend, not touchstart for the button that starts the animation. \n. I'm not prinzhorn, but I had the same issue; I ended up rewriting the attributes dynamically (using jquery) before calling refresh(). That worked fine. I had to 'chain' the refresh call after rewriting the attributes, as in \nsetTimeout(function() { skrollr.get().refresh()},0)\nprobably to give the browser time to apply the DOM changes.\n$2c,\n*-pike\n. My question about this was here .. https://github.com/Prinzhorn/skrollr/issues/387\nLet me see if I can paste code here:\nSuppose you want to change the attributes on an element called $elm:\n```\n    // zap existing attributes\n    var attrs = $elm.get(0).attributes, anames = [];\n// harvest first\nfor (var ac=0;ac<attrs.length;ac++) {\n    if (attrs[ac].name.match(/data-\\d+/)) {\n        //console.log('rem '+attrs[ac].name);\n        anames.push(attrs[ac].name);\n    } else {\n        //console.log('ign '+attrs[ac].name);\n    }\n}\n\n// now remove\nfor (var ac=0;ac<anames.length;ac++) {\n    $elm.removeAttr(anames[ac]);\n}\n\n// write new attributes\nwith (your_logic_here) {\n    var newcss = your_logic_here();\n                var newoffset = your_logic_here();\n    // set the attribute\n    $elm.attr('data-'+newoffset,newcss);\n\n}\n\n```\nAnd then, when all is done,\nsetTimeout(function() { skrollr.get().refresh()},0)\nThis worked throughout ie7 to ipad. There may be typoos in the above code .. it was abstracted from my thing.\n. That would also remove any other data- attributes, but if you dont care, thats ok. Mine checks for data-xxx where xxx is numeric.\n. Oops, yes, forgot to mention. it seems <a data-123=\"foobar\"> did not always return as $a.data('123') in jquery. Which I figured was a jQuery issue (after all, '123' is a weird variable name, too). So I loop the attributes in my loop above, not the .data() object.\n. No I didnt - and I still didnt until after I found all that out myself  :-) You can mark this as a duplicate.\nThanks ! it 'seems to work' - lets see how far it goes.\n. ",
    "medoingthings": "Just wanted to give my +1 for this.\nI started out with a similiar approach like in PR #284. But then I thought it would be very handy to have a solution that solely relies on data- attributes, but couldn't get my head around it. Guess I'll build it separated from skrollr.\n. ",
    "librisius": "hi, I want add class \"active\" for tag with a parameter transform: translate(0px; 0%);\nThere are \"skrollable-between\" class in your plugin, but this class have two tag.\nI need to identify only the current block (which I see full). and this class should change only when I see full different block.\nSorry for my English and thank for the help!\n. ",
    "Areks": "Hi all, I have the same problem - need some functional for adding class to DOM node. For example sometime i need to activate CSS3 Animations because i want to perform some action while user watch page without scroll.\nLike this\nhtml\n<div data-7700=\"height:0px; @addClass:MyNewClass\" data-8700=\"height:1000px; @removeClass:MyNewClass\" />\nand u can use it for calling js function\nhtml\n<div data-7700=\"height:0px; @evalIn:myFunction1; @evalOut:myFunction2\" data-8700=\"height:1000px; @evalInOut:myFunction3\" />\nevalIn call function when we scroll from top, evalOut - from bottom to top and evalInOut - both directions\n. for example i have lamp and want that when i scroll to some position, it start glowing even if visitor just stay and read text without scroll the page\n. But... will be this animation infinity?\nJust adding css class at some point will be very useful\n. I want to take my words back, calling js function from attribute as i wrote above \" \nhtml\n@evalIn:Function1; @evalOut:myFunction\"\nis a bullshit, because as the author wrote we have events and this solve all our problem with calling js\n. mm... I think it's wrong theme for discussing working of @class attribute, because it's generally functional for working with attributes . We discuss this new functionality by adding class using @addClass @removeClass methods. If u want try it (u can get updated library in my repository)\n. ",
    "nalourie": "I've got some funny behavior with adding a class using \n<div data-center-bottom=\"@class:active;\" data-end=\"@class:active\" data-edge-strategy=\"reset\"></div>\nMy code generally looks like:\n```\n\n\nFirst\n\n\nFirst\n\n\n\n\n\n```\nThe class adds and removes perfectly for all li elements pointing to div's after \"first\", but the active class remains on that \"first\" li element. A workaround that fixes the problem is setting the first li's data attributes as follows:\n<li data-top-top=\"@class:active\" data-top-bottom=\"@class: \" \n    data-anchor-target=\"#first\" data-edge-strategy=\"set\"><a href=\"#first\">First</a>\n</li>\nThe empty space in \"@class: \" is necessary, otherwise skrollr doesn't remove the class attribute.\n. Also, as a side note, the above method removes the \"skrollrable\" class, I'm not familiar enough with the internals to know if that would affect anything.\n. ",
    "OpherV": "One other option is to change a custom attribute - and add the proper selector in css.\nFor example:\nhtml\n<div class=\"blah\" data-100=\"@myAttr: 0;\" data-200=\"@myAttr: 1;\" data-300=\"@myAttr: 1;\" data-400=\"@myAttr: 0;\" ></div>\nand in CSS:\ncss\n.blah[myAttr=\"1\"]{\n/* your style */\n}\nThis will only trigger from scroll range of 200 to 300.\n. What you've described is exactly what I've experienced when trying to tackle this. I did end up using setScrollTop to fix the overscrolling, but that feels kind of hacky to me in terms of code architecture (and hence the question). It would feel cleaner to me if there was a way in the render flow to stop scrolling on queue, but for now this will do.\nI'm really looking forwards to show you what I've done with Skrollr, once the project goes live. I think you'll like it :)\n. The issue you pointed out is indeed a bug and I'll resolve it.\nIt's okay that the listener fires on touch, since it does so with the \"stop animation\" parameter set to true - so that case can be handled from within the user-specified done function\n. D'oh, you're right!\n. ",
    "andreimoment": "@OpherV this works great! Thank you!\nUsing this, you can have different styles for before, during, after:\n```\n.video-controls[show--video-btn=\"0\"] & {\n  opacity: 0;\n  transform: translate(0, 5vh);\n}\n.video-controls[show--video-btn=\"1\"] & {\n  opacity: 1;\n  transform: translate(0, 0);\n}\n.video-controls[show--video-btn=\"2\"] & {\n  opacity: 0;\n}\n```\n. I am wondering if it would be possible to implement it? I looked at the code but it's beyond my level of JS. Do you think that this API would be OK?\ndata-10p-top=\"!top: [evaluated_based_on_neighboring_data_points]vh; @show--video-btn: !1;\"\nIf I understand correctly, this would be difficult to implement because currently the code only evaluates neighboring data points, correct? I imagine taking in consideration the extra data points would add complexity like checking if they exist etc.\n. I understand. Thank you for the quick reply and thank you for this awesome contraption :) I love the simplicity of the API and the speed. \nAnd, looking at the code, I am realizing how complex this would be... we would have to look at adjacent frames and check if we have a skipped value and then extend the range, for each frame.\n. ",
    "relish27": "I love the option of adding/removing classes.  But I, too, noticed that the \"skrollable\" and other related classes (like \"skrollable-before\" and \"skrollable-after\") are no longer being applied.  Is there a way to make it so the custom classes don't remove the skrollable ones? \n. My site has a navigation situation similar to the fixed_nav.html example that comes with skrollr.  When it said \"desktop only!\" I guess I was assuming that this meant not on mobile... but that it could still work on an iPad horizontally, which is typically a desktop-sized layout.  I get now that this isn't the case and, generally, why.  \nI now have a div with #skrollr_body surrounding my content, as in the fixed_nav.html example, which makes the page scrollable... but the skrollr effect is gone, which is a bummer.  Definitely would be nice if there is a way to have this working.\n. ",
    "daleyjem": "@class doesn't have to be the attribute you wish to change, especially if you're afraid of overwriting your current, hardcoded classes... instead, you can use something like @active: true and then apply certain styling via .selector[active=\"true\"] { ... }\n. ",
    "jaapie1989": "The next solution worked for me:\nAdding class active: after scrolling 300px\nRemoving class active: when almost on top of the page\n<nav id=\"menu\" class=\"fixed\" role=\"navigation\" data-300=\"@class:fixed active;\" data-100=\"@class:fixed\">\nYou don't need to remove the class.\n. ",
    "Sang02": "Hi guys,\nNeed help on how to correctly implement the @class method. see below my sample DOM.\n<div id=\"refresh-bubble-back-1\" class=\"pos-abs\" \n                                            data-0=\"top: 357px; left: -35px; opacity:0;\" \n                                            data-400=\"top: 0; opacity:1; @class: pos-abs bublesPop;\" \n                                            data-end=\"top: 357px; left: -35px; opacity:1; @class: pos-abs;\" \n                                            data-edge-strategy=\"set\">\n                <img src=\"<?php echo $domain; ?>/assets/img/parallax/product_refresh_bubble_back_1.png\" alt=\"\" />\n            </div>\nbut, seems onload of the page it was already added on the element even its not yet scrolled to the assigned data-** was there anything i'm missing?\nThanks in advance hope anyone can help me with my problem.\nRegards,\n. ",
    "neha-s16": "Is there a way to keep the class applied once its there, until I explicitly remove it? I want to apply a class when the element first becomes visible (plus 50px) and then remove it only after the element goes below the viewport. \n<div class=\"home\"\n                      data--50-bottom=\"@class:home fadeAnimation;\"\n                      data-bottom-top=\"@class:home;\"\n                      data-anchor-target=\"#slide-2 .home\">\nThis code adds the class fadeAnimation when the elements bottom is 50px above the bottom of the viewport, but when scrolling up if removes it as well. I dont want to remove the class until my element's top reaches the bottom of the viewport. . ",
    "dowonkang": "Good. That's much better.\nI just needed to fix it ASAP when I encountered this issue. ;)\n. ",
    "Ganster41": "Thanks for fix!\nBut why I still get this issue(without this path of coarse), if I call skrollr.init() after jQuery ready event?\nI think something was wrong in script initialization anyway.\n. ",
    "wkjiv": "\u2022 the gap does not appear on the desktop\n\u2022 the html tag seems to be given a class of \"skrollr \" and a style of \"overflow: hidden; \" which is different than when used on a desktop and the html tag only receives the \"skrollr \" class. \nskrollr-body is just the right height.\n\u2022 the content is only background-position keyframes\n\u2022 moved init to a document ready function and there was no change\nadditionally, the blank area at the bottom does not react to touch scrolling and will grow until the content is completely off the page.\n. ",
    "skullface": "I just experienced the same huge (~1000px) area of blank space under all my content.  Force height set to false, mobile, etc etc. The gap wasn't there on desktop or 320px width scenario, but on all media queries in between (landscape phone and portrait tablet). The empty div created at the bottom of the page had an incorrect height at those width scenarios.\nI'm not well-versed in js, but my boss made the quick fix of \"height=st+s.clientHeight+\"px\"\" to \"height=\"auto\"\" to make the height of the div behave.\n. @Prinzhorn It was inside skrollr. Specifically, in (function(a,b,c)\nchange: h.height=fb+e.clientHeight+\"px\",L()\nto: h.height=\"auto\",L()\n. ",
    "jacobcaraballo": "I know this is closed, but I noticed this is occurring for me on the desktop using google chrome. There's a large gap towards the bottom of the page. It's an amazing plugin by the way.\n. @Prinzhorn here's the sample code: https://github.com/jacobcaraballo/skrollr-test\n. @Prinzhorn thanks! got it now :)\n. ",
    "breck7": "I just ran into this.\nvar s = skrollr.init({forceHeight: false})\nFixed it for me. Thanks!\n. I agree with you. I am not sure what you would do if you detect a low FPS.\nAm I correct in that FPS would be the best measure of jankiness? I'm trying to nail a site right now and it's a little hard to measure jankiness objectively. I find the Chrome Timeline somewhat overwhelming. I'm wondering if there were a way to do something like this:\nvar s = skrollr.init({logFps: true})\nAnd then on Skroll the console would look something like this:\n30fps\n29fps\n30fps\nWhat do you think of an idea like that? Is it possible? Too hard? Not quite what I want?\n. Neat! Also stumbled upon an FPS meter already built into Chrome: http://beautifulpixels.blogspot.com/2013/03/chromes-fps-histogram.html\nWas able to resolve my issues using this. Thanks!\n. ",
    "marcdavi-es": "Hi @Prinzhorn \nI think I'm getting an instance of this issue. I have set forceHeight: true. Desktop is fine and some android devices are fine but iOS seems to add the extra space at the foot of the page.\nI tried to hack it with height: auto !important; for screens <1023 but this isn't behaving either.\nSite is deployed at https://www.techwillsaveus.com/microbit/ (but still to be finished/fixed) Any help would be MUCH appreciated.\nLoving skrollr, it has really helped me out. Thank you :)\n. ",
    "tfrueh": "I mean to remove an animation,\nlets say normally an Elements height enlarges from 0 to 500px when u scroll 500px down.\nbut if the user clicks on a close button it scrolls up 500px and afterwards it does not enlarge on scrolling anymore\nHope this doesn't sound too confusing\n. ",
    "maxxis2112": "Thanks for the reply. \nTried to make it work but thus far not really getting it. I'm sure I can get the solution to this. \nI managed to manipulate a few elements successfully on the page.\nWill update you if I manage to get it to work. \nJohan\nSent from my iPhone\nOn 12 Dec 2012, at 19:27, Alexander Prinzhorn notifications@github.com wrote:\n\nI guess you refer to one of the examples, do you? Take a look at the JavaScript code, you can't just copy this thing, because it has the same id, which is invalid, and the code only looks for one element.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "am11": "@Prinzhorn, which version of Windows Phone have you tested skrollr? http://everylastdrop.co.uk/ worked for me like a charm on IE-Mobile 10 for WP8.\n. ",
    "ghost": "Skrollr implementations works fine on Windows Phone. Tested on two different WP8 devices (with 512MB and 1GB RAM). \nPerhaps, if you are handling the pointer events in your (glue) code somewhere, I would suggest you to take a look at IE's new pointer API. The main advantage of using this pattern is that you would end up following the standards as last year, W3C has actually accepted Microsoft's pointer model for standards specification (although apparently others are in this touch game much longer than MSFT)\n. the fact everything is offseted by 50% on the right in google chrome and not in other browsers. Did you encounter similar problems with the last chrome release ?\n. thank you so much Prinzhorn ! Sorry for the totally novice question ^^\n. Ok, no problem. I don't write very well english. I was a mistake. Don't worry we won't violates anything.\n. It was a mistake. Sorry. It's ok now.\nWe love and respect your work. Your team is amazing. We like really. \nDon't worry we are clean.\nLe 02/09/2013 08:56, Alexander Prinzhorn a \u00e9crit :\n\nOne more note: You've removed the license information from all \nscripts, including skrollr and jQuery. This violates the License.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/Prinzhorn/skrollr/issues/308#issuecomment-23643490.\n. thank you!\n. I think this would be a good thing to use with :before :after selectors, for example, If someone wants to show from 0% to 95.5%, they could set up something like this:\n\nhtml\n<p class='percentual' data-percent='0' data-0='@data-percent:0' data-1500='@data-percent:95.5'>\n</p>\n``` css\n.percentual:before {\n  content: attr(data-percent) \"%\"\n}\n```\nwith this we can avoid showing 10.5375%, and only show 10.53% if we want.\nI don't know if there's already an easier way to do this without this modification.\n. Doh!  It was my meta tag.  I switched it from:\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\nto:\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" />\n. ",
    "monkeymonk": "Ok, I think I get it!\nThank you very much! I'll check that after work!\n. ",
    "alexcican": "Thanks for the response. I do that already. What I didn\u2019t paste in the code above was the skrollr.init() which is called at the bottom of the <script> which is at the bottom of the <body> tag. How I see it is that the resize gets called on first load, then the scrollr is initialised based on that <div> height, then when I resize the window again, the <div> height is changed but the scrollr needs to be refreshed for the new height. The refresh() is not executed somehow.\nAnd I know it goes inside the if() but the refresh() doesn\u2019t work:\n/* when window resized, adjust height of div and refresh scrolling script */\nfunction adjustHeight(needs_refresh) {\n    winH = window.innerHeight;\n    $(\"#home-slides div\").css(\"height\", winH);\n    if(needs_refresh == 1) {\n        refresh();\n    }\n}\nTake a look if you want: http://dl.dropbox.com/u/48552248/websites/demos/scrollr/index.html\n. Thanks, that solved it! (had to do s.refresh(); instead of your code for it to work, though)\n. I partially solved the issue.The forceHeight: false still isn\u2019t applied, though. \nBut at least now the whole thing doesn\u2019t disappear if I swipe fast enough. The problem was that in your shim.html the JS code that checks if mobile browser, has a new line before and after the first || (OR). If you remove those, then the code for checking if mobile, works.\nInstead of this:\nif(/android|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|playbook|silk/i.test(a)\n        ||\n        /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))\nit should be like this:\nif(/android|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))\n. Could be. Have you tried to apply skullface\u2019s comment https://github.com/Prinzhorn/skrollr/issues/104#issuecomment-11742007? I can\u2019t find the function that he\u2019s talking about.\n. Thanks, Alexander! It works nicely now.\n. ",
    "flagello": "I've tried to use skrollr without .mobile on iPhone and it goes pretty well despite the fact that it obviously doesn't load js when scrolling. Should this mean that the problem lies in the integration with iScroll?\n. As I said in #119, at least with SVG, it's extremely unresponsive. Wanted to try if it was any better without iScroll. And it was indeed \u2014 besides not having these issues.\n. Thanks a lot! Perfect in Safari now. Still having that problem with Firefox, though: the svgs are drawn correctly but it doesn't care to do any kind of animation neither in relative nor in absolute. It remains as described in the first comment.\n. My fault, I didn't mention I was skrolling a section. Actually, I've redesigned the part in which I was using skrollr to change the background but I'll be happy to send you the old code if it helps.\n. Here's it. http://cl.ly/1l383R0G3i3k\nGive it a first look, then delete the following line (73) in gridset.css to make it work as it should. As I said earlier, it's just float: left.\ncss\n[class*=k1],[class*=k2],[class*=k3],.k-all{display:block;float:left;margin-right:-100%;}\n. Thanks Alexander!\n. Thanks for explaining. :+1: \n. ",
    "fivezerothree": "Sorry I didn't think of that myself. Okay, I've replace the minified version with the unminified. Thank you.\n. I see, well I am assuming that I can link to the latest skrollr.js here on Github, right? Excuse my lack of understanding, I promised myself that I would learn how to properly use Github this year...\n. Thank you for being an example and stellar human being.\n. Prinzhorn \u2013 would I be wrong in assuming that the changes in prefix detection may have also had an effect with Safari? The only reason I ask is that I am experiencing the same issues, but it could be my lack of understanding again.\n. I have the last Windows version of Safari before they gave it the boot. I don't have much experience in debugging other than tweaking HTML/CSS.\nEdit: I've only tested/debugged your latest script.\nHowever I discovered that while Chrome shows the computed style including webkit, Safari indeed doesn't show any computed style but within the debug console it says 'unrendered'.\n<div class=\"aboutme skrollable          unrendered \" data-700=\"background-image: url('pw_maze_white_transparent.png'), linear-gradient(45deg, rgb(250,143,87), rgb(57,84,139));\" data-900=\"background-image: url('pw_maze_white_transparent.png'), linear-gradient(45deg, rgb(255,88,0), rgb(0,84,255));\">\nI have worked out how to do as you say \u2013 the breakpoint at the specific line and amongst the values present it says:\ntheCSSPrefix: undefined\ntheDashedCSSPrefix: undefined\nSadface.\n. ",
    "mastastealth": "I have recently come across this as well (gradient/translates don't work, but opacity is fine, and it all works in Chrome/FF), let me know if there is anything I can assist in. Safari 5.1.7 on Windows 7.\n. The k look will print out all the CSS properties, in the end I get a K in style: length : 233 with another list of properties and then a couple functions. \nI guess the key is that the theCSSPrefix is empty, leaving theDashedCSSPrefix to simply be --\n. Ok, so comparing to Chrome, this is where the difference comes. After the huge list of properties (which doesn't occur in FF, so that might be an issue itself), Chrome continues just fine with:\n```\ntheCSSPrefix: false skrollr.min.js:130\nK: alignmentBaseline : auto skrollr.min.js:125\ntheCSSPrefix: false skrollr.min.js:130\nK: background : rgb(255, 255, 255) none repeat scroll 0% 0% / auto padding-box border-box skrollr.min.js:125\ntheCSSPrefix: false skrollr.min.js:130\nK: backgroundAttachment : scroll skrollr.min.js:125\ntheCSSPrefix: false \n```\nuntil reaching:\nK: webkitAlignContent : stretch skrollr.min.js:125\ntheCSSPrefix: webkit skrollr.min.js:130\ntheCSSPrefix again: webkit\nwhile Safari breaks down into the functions mentioned earlier:\ntheCSSPrefix: false\nK: parentRule : null\ntheCSSPrefix: false\nK: removeProperty : function removeProperty() {\n    [native code]\n}\ntheCSSPrefix: false\nK: getPropertyPriority : function getPropertyPriority() {\n    [native code]\n}\ntheCSSPrefix: false\nK: getPropertyValue : function getPropertyValue() {\n    [native code]\n}\ntheCSSPrefix: false\nK: getPropertyShorthand : function getPropertyShorthand() {\n    [native code]\n}\ntheCSSPrefix: false\nK: getPropertyCSSValue : function getPropertyCSSValue() {\n    [native code]\n}\ntheCSSPrefix: false\nK: isPropertyImplicit : function isPropertyImplicit() {\n    [native code]\n}\ntheCSSPrefix: false\nK: item : function item() {\n    [native code]\n}\ntheCSSPrefix: false\nK: setProperty : function setProperty() {\n    [native code]\n}\ntheCSSPrefix: false\ntheCSSPrefix again:\nWhat I see though is that both in FF and Chrome there are earlier properties that actually start with \"-moz\" and \"-webkit\" but are skipped until a property directly starting with the prefix (MozAppearance in FF, and webkitAlignContent in Chrome)  is detected. Is this by design? If it would just match the hyphened property instead of continuing like this, then Safari and Chrome would both enable webkit with the earlier property.\n. Correct, at the moment, Safari doesn't seem to be supplying any prefixed properties (starting directly with webkit at least, it does have a few starting with -webkit), as far as what the loop console is telling me. I believe it would help to match them with hyphen, yes, because the loop would end earlier (and I tried changing it myself, Safari did match -webkit and translate worked), providing at least a minimal performance boost, wouldn't it? It's just an idea. ;)\n. http://codepen.io/mastastealth/pen/JirIl\nNote in FF it shifts properly the red to blue, while webkit browsers will use the fallback green solid.\n. All right, I fixed both issues (should be same link as before) but that solved nothing, Webkit still does not render the red/blue gradient as it should. Are you saying you were able to see the red/blue just by adjusting those 2 errors?\n. Well, it depends on how much \"support\" you want to give Skrollr:\nThe syntax I'm using is the current standard (specifying direction with \"to\", supported by IE10, FF, & Opera without prefix), however Webkit does not support this yet (it's in nightlies) and is still using an older syntax (which instead of specifying direction, would set start point. In this case to right would be left). There's an even older webkit syntax (the one you mention above, -webkit-gradient) which would be for ancient Chrome/Safari versions, but I don't think we really need this anymore.\nI guess this would be a feature request then, it would be nice if skrollr would just auto-convert (a la prefixfree) the syntax rather than me having to specify both standard and older syntaxes, as this would also apply for older -moz and -o prefixes as well. \n. ",
    "juliajull": "Chrome, where it worked perfectly before. Ok, I'll see if I can find a solution. Thanks.\n. ",
    "callmephilip": "@Prinzhorn : The approach I am suggesting does not introduce any dependencies in itself. It makes skrollr more mindful to its execution environment. \nSome people (including myself) we'll be using skrollr in a project structured using AMD modules and I find it very useful to have support for require built in - especially given the fact that the impact on the codebase is tiny and it's also backwards compatible so existing code will continue to work.\nFurthermore, using things like Almond, one can easily cut the loader footprint down to 1kb. I would be happy to integrate this in a future pull request but I also feel like the size argument is pretty weak given that most people using the AMD support have already committed to require.js because of its organizational benefits and hence it's size becomes a static overhead spread across the whole project - not any library in particular.\nFeel free to argue with me :) \n. @Prinzhorn : good call. let me see how this can be fixed \n. Understandable. I am interested in the amd version of the skrollr for my own projects so I might as well make sure it does not break your existing codebase. \n. I have managed to patch ie and menu plugins using similar hybrid solutions. You can see more details in the respectif commits in my fork of skrollr: here, here and here.\nDemos:\nGlobal namespace\nAMD\nMenu - global\nMenu - AMD\nIf at some point you have any interest in including this into skrollr, I'd be more than happy to put together a clean pull request.\n. @Prinzhorn : as discussed last week, here's my first take on the AMD support. Open for questions/comments/suggestions: https://github.com/callmephilip/skrollr/compare/feature;amd\n. skrolls.min.js is out as per https://github.com/callmephilip/skrollr/commit/42e936c0164308cd2a0d3ffba5aa91098f5af0df. I am not sure why it is still showing in the list of files. If you pull from the feature/amd branch, you'll notice that dist folder is not there\n. @Prinzhorn : do you want me to squash the commits or keep rolling with the current 10?\n. Added a note in readme and rebased. Looks good to me\n. No problem. Glad I was able to help\n. this is an inline directive for jshint to let it know that define is a predefined global \n. it can be empty. yes\n. this could be move to the grunt file to jshint.options.globals\n. same problem (404) for tests\n. fixed here: https://github.com/callmephilip/skrollr/commit/5f882ec4bbf7186c74d930883d68bbd9f5407f46\n. How about making skrollr detect IE and then have it dynamically load ie plugin if necessary?\n. will investigate further\n. how about using modernizr to detect missing features as opposed to rely on the browser detection? http://modernizr.com/docs/#features-css \n. Alternatively, we keep conditional comments approach and modify ie plugin to do smth like this:\nif(typeof skrollr !== 'undefined){\n    // non amd, let the plugin do its thing\n} else {\n    setInterval(function(){\n        if(typeof require !== 'undefined' && require.amd){\n              reuquire(['skrollr'], function(){\n                   // let the plugin do its thing\n              });\n        }\n    }, <smth-sensible-here>);\n}\n. i hear you. how about this: keep conditional comments and make sure skrollr include happens after the ie plugin. let the plugin provide patches through the window object and then merge them gracefully into the skrollr, smth like this:\n```\n// inside skrollr.js\nif(typeof window.skrollr !== 'undefined'){\n   // clone the patch and wire it to the skrollr instance\n   // cleanup global scope if needed (if using require)\n}\n```\n. I've been looking around for a more elegant solution but have not found anything at this point. As per your question (how it's usually handled), my guess is that most developers would use feature detection as opposed to conditional comments to address browser issues. Truth is IE is pain in the ass any way you look at it, and people willing to support it in their projects (that use require) probably already have strategies in place to handle it. Chances are these include using feature detection of some sort.\n. ",
    "lokesh": "We're using skrollr on a couple of pages in a big client side app. We've patched an older version of the script for AMD support to work with our build process.\nJust backing up @callmephilip 's point that people are using skrollr in AMD structured projects. Not making a case either way for AMD support out of the box.\n. ",
    "diegocstn": ":+1: for @callmephilip point\n. ",
    "andyinabox": "+1 please! I know this might seem unnecessary if you're not using AMD currently, but it's cheap & easy enough that it seems to pass the \"why not?\" test.\n. It seems worth posting the response from James Burke (the primary developer behind Require JS) to the article linked above:\nhttp://tagneto.blogspot.com/2012/01/reply-to-tom-on-amd.html\nI understand why one might chose not to use AMD in their application, but it doesn't seem like there's really all that much overhead involved in supporting it for a tool like skrollr \u2014 and then you've made it work much better for a whole group of developers.\nAlso, it doesn't need to be a choice between AMD & CJS, check out UMD for standardized method of supporting both:\nhttps://github.com/umdjs/umd\n. ",
    "hhsnopek": "Will this be implemented?\n. ",
    "slang800": "I agree with @Prinzhorn about not adding AMD, but for a different reason: AMD isn't the solution to module-loading on the web. I too once thought that AMD was the answer, but reading http://tomdale.net/2012/01/amd-is-not-the-answer/ and talking with the guys from component I've totally changed my mind about RJS.\nUsing CommonJS is a much better alternative and requires significantly less \"wrapping\". Using something like https://npmjs.org/package/webmake, concatination is done as a build step, rather than loading all the modules one-by-one via HTTP. And CJS is already used by all Node.js packages - making it a popular, mature solution.\nThus, I encourage you to avoid adding RJS support and use CJS instead. \n. ",
    "jrudenstam": "+1 for AMD support!\n. ",
    "ceee": "Hi!\nAs mentioned here\nModernizr - Issue 548\nand\nModernizr - Issue 753\nit's a bit of a problem to detect whether you are using touch or not.\nYou need to know how fast the browser fires the scrolling event - and therefore updates the scroll position, and not only if he's touching the screen, at the end of the day.\nSo for the first, I think it would be the best, to modify the UA sniffing code to only detect devices/browser, which have a long timespan on updating the scrolling position.\nThat's because there's a possibility, that there are browsers out there, which fire the event immediately and match the pattern, although they don't need the additional portion of the code.\nDon't ask me, on how to modify it, 'cause I'm lacking testable devices.\nBut you're definitely right - as you wrote on tutsplus, that the implementation of Modernizr.touch wouldn't be the solution to this problem and is deprecated anyways due to the touch/pointer discussion.\n. ",
    "thgie": "You should provide some more information. Like what Chrome versions those are. Your site runs pretty ok on my machine. Of course I don't have the time to test over a long period.\n. I'm on OSX Chrome 24.0.1312.57 and the site runs pretty fine, although the skrollr snapto feature makes the site feel a bit unresponsive. Weird shit. Just keep an eye on it.\n. Thank you very much for the information. Any plans of implementing that?\n. It's the left scroll offset.\nThe structure looks like this\ndiv(style=\"width: 100%; overflow: hidden; overflow-x: auto;\")\n    div(style=\"width: 100%\")\n    div(style=\"width: 100%; position: absolute; left: 100%\")\nSo I have a 100% width div with 200% width content. And I scroll that content within the parent div around. That's what I would love to animate.\n. ",
    "curiouspers": "Hi, it was a quote from chat with me.\nAnd i  have tested this a little on VitrualBox with xp and Google Chrome 23.0.1271.97 release from 11 December, 2012 version, and the site works almost flawlessly.\nAnd if i update that Chrome to version 24.0.1312.52 from 10 January, 2013, it start to works very laggy, on VirtualBox. And on my PC, that has very fast performace.\nAgain sorry for my bad english.\n. I've just tried it on OSX, Google Chrome 24.0.1312.57 and it's laggy, especially in the begining of page.\nAfter that i downloaded and installed Google Chrome 23.0.1271.101 and site works very fast and smooth. Maybe you may try again? That's very strange i can reproduce the problem on every computer.\nAnd what the \"snapto feature\"? i can't find it in documentation.\n. That's a great example, but i didn't use it anywhere.\n. I have posted this issue on chromium bugtracker, someone may be interested in this: http://code.google.com/p/chromium/issues/detail?id=175388\n. Ok, thanks!\n. ",
    "elmariachi111": "I was following up this discussion and tried to understand more of the underlying issues. Actually skrollr does it totally right as far as I understand - timeout has been yesterday, today is renderloop / rAF. But after trying to understand the optimization ideas in this (more or less pretty official looking) article: http://www.html5rocks.com/en/tutorials/speed/animations/ I wonder if there could be some small window of improvement open in the current implementation.\nPrinzhorn: you're using the \"renderloop\" approach which that article also is mentioning. I'm not sure if there is a reason that I have overlooked (I still not dived deep enough into the basics of your code) but the article strongly advises not to request an animation frame in an infinite loop but rather listen to incoming scroll events (which might impose issues on the way you're scolling mobile). Here are 2 quotes from the article:\n\nWhat else can we do? Well for one thing we are constantly running requestAnimationFrame and that\u2019s not necessary if we haven\u2019t just scrolled since nothing will have changed. \nNow whenever we scroll we will try and call requestAnimationFrame, but if one is already requested we don\u2019t initiate another. This is an important optimization, since the browser will stack all the repeated rAF requests and we would be back to a situation with more calls to update than we need.\nIf you check out the pre-optimized page you\u2019ll see it really struggle to keep up as you scroll, and there are a number of reasons why. Firstly we are brute force calling the requestAnimationFrame, whereas what we really should do is only calculate any changes when we get a scroll event.\n\nAnother article dealing with sub-millisecond precision timing that's linked to the latter one and I just stumbled upon right now: http://updates.html5rocks.com/2012/05/requestAnimationFrame-API-now-with-sub-millisecond-precision\nI'm not sure if you were/are aware of the potential improvements those articles are mentioning and if they fit into skrollr concepts but I hope it's a helpful source to leverage their proposals for higher scrolling performance :) BTW: you rock anyway ;)\n. works fine for me. Feels slightly better on Android devices but it may depend on the use-case\n. ",
    "cvsguimaraes": "Any optimization from those articles was made?! Should I consider to use it by myself?\n. ",
    "emerinohdz": "Hello, as of today the bug still exists in Chrome, does that mean that skrollr is broken on versions > 23.0.1271.101? I had to abandon skrollr because of this...\n. ",
    "hirasso": "Hi there, one year later, chrome still lags a lot (Version 42.0.2311.135 (64-bit), MBP Retina 13 inch).\n. Wow, that was fast!\nthanks for the hint with the built-in easing functions, but I would need something like easeInOutQuart. (the easeOutBounce was just an example from the jquery easing plugin)\nso my code for initializing skrollr should be something like this, right?\nmySkrollr = skrollr.init({\n            easing: {\n                easeInOutQuart: function (p) {\n                    console.log(p);\n                    // How do I have to manipulate p, so that it starts and ends just like classic easeInOutQuart?\n                }\n            }\n        });\nI would need some help on how to write this easing function :)\n. This is the easing function from the jQuery plugin. Sorry, but I don't get it how I should rewrite this to work with skrollr:\n// t: current time, b: begInnIng value, c: change In value, d: duration\neaseInOutQuart: function (x, t, b, c, d) {\n    if ((t/=d/2) < 1) return c/2*t*t*t*t + b;\n    return -c/2 * ((t-=2)*t*t*t - 2) + b;\n}\n. Actually, there is a development version that I could send you a link to, but it should not be public. How can I send it to you privately?\n. ok, I will try to build an example\n. ",
    "mholt": "I'm seeing the same issues with Chrome. Not too great on Firefox either, but still better.\n. I've been noticing this lately too. http://papaparse.com - but it didn't used to be choppy.\nI hear that requestAnimationFrame is all the rage now. Is that used by skrollr?\n. ",
    "calluna": "I found a fix on another thread, it totally worked for me!\n(if it totally messes up your styling, as it did for me, just target the parallax parts that give the most problems, like the big images for instance)\nI quote:\n\"use this in the beginnig of your css\n*,:before,:after {\n-moz-box-sizing:border-box;\n-webkit-box-sizing:border-box;\nbox-sizing:border-box;\n-webkit-backface-visibility:hidden;\n}\n\"\nSee thread:\nhttps://github.com/Prinzhorn/skrollr/issues/551\n. ",
    "fengzifz": "oh, what a pity.\nI have tested it on three MACs, which two(the CPU both are below 2.2GHz) have this problem, but the other one (the CPU is 2.4GHz) can't find the problem.\nI can't find what the problem cause it. My friend told me that maybe the CPU performance affect it.\nWho have mac and see this issue, please test it and leave your message.\nThanks a lot.\n. I am sorry. \nI just confirm it:\nall safari are 6.0.2\uff0cbut the two ( CPU <= 2.2GHz) are Mac OS X 10.7.5, the other one ( CPU=2.4GHz) is Mac OS X 10.8.2\n. Maybe the problem is \"Safari doesn't recalculate margins fast enough when you're animating width.\" I have tried removing margin: auto, and it seems doesn't shake. I will continue to check it.\n\"Is it shaking horizontally?\" -It is shaking horizontally and vertically, but just have a little shaking.\n. It is no work to add margin: auto to the keyframes. And I found that it still shake after removing margin: auto today.\nThere is a very simple demo (I upload it from my mail client, I don't know whether you can download it from github.). It just have a circle , and animate the width & height when scrolling. I check the demo on safari for windows, it shake too.\nMaybe you can find the cause. I can't find it temporarily. I will continue to check it.\nIf you can find the attachment (.zip) which I upload, please contact 398846606@qq.com\n------------------ \u539f\u59cb\u90ae\u4ef6 ------------------\n\u53d1\u4ef6\u4eba: \"Alexander Prinzhorn\"notifications@github.com;\n\u53d1\u9001\u65f6\u95f4: 2013\u5e742\u67084\u65e5(\u661f\u671f\u4e00) \u665a\u4e0a6:47\n\u6536\u4ef6\u4eba: \"Prinzhorn/skrollr\"skrollr@noreply.github.com; \n\u6284\u9001: \"damon\"398846606@qq.com; \n\u4e3b\u9898: Re: [skrollr] BUG - Safari for MAC (#129)\nTry adding margin:auto to the keyframes. Maybe it helps, because then auto will be set every time skrollr renders and maybe Safari will update it right away.\n\u2014\n           Reply to this email directly or view it on GitHub.\n. ",
    "Strutsagget": "I get an random \"background\" image  and the \"circle\" (depends on screen proportion if its an elipse or circle) expands when scrolling.\nTested Mac safari, chrome and firefox.\n. No shaking, just expanding size. Same in all three browsers.\n. oh i dint try iOs just mac 10.8.2 firefox 19.02 Chrome  25.0.1364.172 safari  6.0.2\nSafari iOs 6,1,2 nothing happens at all (is it the correct adress? https://dl.dropbox.com/u/37892603/index.html )\n. Sorry iOS (iPad) just scrolls too but very slow and just on release.\n. Hi for med I added forceHeight: false to the init function.\n$(document).ready(function() {\n    //Start parralax\n    var skrollrInstance = skrollr.init({forceHeight: false});\n});\n. Thx alot!\nAdded this to my custom js like you said!\n(function ($) {\n$(document).ready(function() {\n    //Start parralax\n    var skrollrInstance = skrollr.init({forceHeight: false});\n});\n}(jQuery));\n. ",
    "kirisu": "Managed to recreate this bug by running concurrent animations on multiple elements. By waiting for transitions to finish before firing the next one, or reducing the complexity (either type, or number) of the transitions Safari seemed to start behaving itself.\nFrom this it looks like the issue may lie within the domain of the browser rather than skrollr itself.\n. ",
    "tedc": "I have the same problem with Safari (and Chrome too but It works better, the shaking problem is almost invisible). I have this issue mostly when I animate position or margin (increasing top, margin-top or padding-top, above all). The elements start to shake. Googling, I knew that this is a known issue of Webkit (look at: https://www.google.it/search?q=box-shadow+scrolling+performance or http://stackoverflow.com/questions/13440577/parallax-scrolling-issue-div-element-jerking-when-scrolling-in-webkit-browsers) but all the solutions I found (remove all opacity or rgba colors, remove all box-shadow, add -webkit-transform: translateZ(0)) don't work. I'm going mad with this stuff. Please help! \n. ",
    "bvdr": "This is annoying! Anyone found a workaround for this?  translate don't work either.\n. ",
    "vanessaramirez": "Found the issue with some hash tags and code in the done property of the animateDownSettings. Please ignore this ticket.\n. ",
    "stephenblender": "If I set forceHeight to false I get no tracking on the troublesome div at all.  No luck.\nReading your explanation I understand that I do not have enough keyframes for the height of my long pages?  I found a solution for me, a hack.  In case it is helpful or confirms what you are talking about,\nWith jquery i dynamically added a data object based on a calculated page height just prior to invoking skrollr.  It does nothing, but inserts I frame to give me the full range.  Seems to work, sorry if my sketchy understanding makes my explanation unclear.  The code:\nsitecontentheight=$('#site-content').height()-400; // -400 because of margins\n        scrollerlengthstring=\"data-\"+sitecontentheight; // contruct data object label\n        $('body').attr(scrollerlengthstring,\"nothing\"); // append data object with value nothing\n        skrollr.init({forceHeight: true}); //skrollr\nI'll keep an eye out for the bug fix or further explanation/solution.  Thanks for the quick reply!\n. \"Well, not really\" - HA.  I knew enough to know I probably didn't know.  Your fix works perfectly, great work!\n. ",
    "mobilisedonline": "I have the same problem on iOS 6.1 on a the iPad. I've not had a chance to try it on an older iOS version.\n. The iScroll demo works fine on my iPad. The demo I have put together also scrolls fine but the animated background position does not update while the page is being moved by my finger.\nAs soon as I keep my finger still or remove it from the screen the animation jumps to the correct postition without the smooth animation.\nIt seems to animate if I flick the screen with my finger which would indicate that it does not like animating while a gesture is in progress.\nI have uploaded the a demo version with dummy images of what I have built to the following URL:\nhttp://web1.mobilisedonline.com/skrollr-parallax/\n. @Prinzhorn I have moved the include for skrollr.mobile.js outside the if to make sure its loaded but the problem remains:(\n. I have just tried on an iPad 2 running iOS 6.0. The scrolling and animations aren't perfect but they are much more fluid than on the the iPad 3 with iOS 6.1. Its possible this might be an issue with the large images I am using and the retina screen.\nUltimately I am trying to acheve something like the Range Rover site: https://victoriabeckham.landrover.com/INT\n. I narrowed the problem down to the retina iPad. The test I built worked fine on an iPad 2 and an iPhone 5.\nEven in the iOS simulator the standard iPad worked fine but the retina iPad didn't.\nI suspect Safari on the Retina iPad is doing some extra optimisations behind the scenes which aren't being done on the iPad 2. It doesn't seem to be specific to iOS 6.1.\nIn the end I adapted the code from the Land Rover site.\n. ",
    "johnfmorton": "I haven't yet tried Skrollr, but the issue you're describing sounds like the issue web devs run into when making fixed menu items in iOS. \nIt looks like there is an \"ongesturechange\" event to listen that will capture movement while your finger is moving on the screen. Below is a link discussing it.\nhttp://stackoverflow.com/questions/8107722/detecting-real-time-scrolling-on-ios-safari\n. ",
    "jesseseymour": "@Prinzhorn I'm experiencing the same problems in iOS 6.1\n. ",
    "christianostrem": "@Prinzhorn  I have det same problems iOS Safari desktop 6.0.2, 6.1.\nThe animations dont run before the mouse button is released.\n. ",
    "Gijserman": "If you set #skrollr-body *{-webkit-transform: translate3d(0,0,0);} this problem will disappear, but then it's much slower on desktops..\n. I've just tested skrollr on an ipad 2 with IOS 6.1.3 and it works fine\n. Just tested it now, that one works fine too\n. ",
    "etcook": "On Wed, Feb 20, 2013 at 11:04 AM, Gijserman notifications@github.comwrote:\n\n{-webkit-transform: translate3d(0,0,0);}\n\nHow about a media query to only set it for smaller screens?\n. Cloudflare was adding that in the body automatically. I've disabled the acceleration temporarily, until I iron out all the issues. I'll follow up and let you know what I find in a bit. Thanks!\n. With all due respect, gyemeleth, you have a breathtaking sense of entitlement. Mr. Prinzhorn provides this library to you, free of charge, and is also willing to support it. I must say, he's shown an incredible amount of restraint and charity in his response to you.\nThere is plenty of documentation on this page: https://github.com/Prinzhorn/skrollr\nFurthermore, you can see how each example was done by looking at the source. This is, single-handedly, the easiest animation library to implement.\n. I'm sorry - I should be more clear in my descriptions.\nThe script where everything happens is in etcDepthCharge.js\nThe script does two things\n1) If \"smartsize\" is turned on, then it will figure out the appropriate image size to accomodate the scroll area covered. Everything is set using a scroll ratio that's passed from php to a js variable inside the section. (The div with class depthChargeBlock. Based on the distance the div will travel, the ratio, a target height is calculated so there will be enough room for the image to move in the background. This is all done dynamically.\n2) It will then write the \"waypoints\" for the skrollr script to interpret and attach them as data attributes to the container. This includes \"background-position\" for the background images, as well as \"top,left\" for the images.\nThings seem to work most of the time. However, about 30% of the time, when you first go to the page, or do a refresh, the animations just don't seem to be working. The images are resized, and the data attributes are added, however, the background position or top/bottom don't seem to be calculated and applied to the object.\nI've tried forcing the sequential calling of the scripts, by doing a:\nif( engageDepthCharge() ) { skrollr.init } to try to ensure the function is run before skrollr.init, but it doesn't seem to guarantee everything works. (I added a \"return true\" at the end of engageDepthCharge). As a result, I'm not so sure it's a code execution order issue. Perhaps you have some ideas.\nNote: If you look at the bottom:\nI call a skrollr.get().refresh() on window resize. This fixes the problem 100% of the time. If it isn't working, a gentle resize of the window will get the animations working every time.\n. It shouldn't be any different at all, I was just making sure.\nNo, the script does not add any images. At any point, all it does is update the data attributes or resize the image. As far as skrollr is concerned, everything was set statically. If you look at the source, the proper directives are there - for some reason, however, the animations just don't work.\nTo further illustrate the issue, I've moved the div further down.\nhttp://etcio.fwd.wf/\nAnd now the animation does not work at all. Even if the data attributes are set properly, skrollr doesn't seem to see them and animate accordingly.\n. I could have sworn skrollr had no problem interpreting decimal keyframes that I've used in other projects. Am I mistaken?\n. Maybe that's the issue. I'll use some rounding and report back. I'll close the issue for now. Thanks for your help.\n. FYI: You were correct.\n. I've reset the offset in this example:\nhttp://etcio.fwd.wf/\nThere's a pink band the size of the fixed element above it (since it shifts everything down). This has to be accounted for when you're calculating the appropriate waypoints (background position).\nIf you know an element is going to be there, it's easy, you can just get the outerHeight of the element. However, when you can't necessarily anticipate which elements specifically will be \"offsetting\" the div, you won't be able to properly account for it.\nI know this is more of a dom issue than skrollr, but didn't know if you had run into that issue before or had some ideas.\n. I'm not sure I follow how that might help...\nI don't think jQuery has a good method to calculate the amount of \"shift\" caused by items with a fixed position. I can't calculate using offsetTop, because I can't guarantee the skrollr item will be the first in the dom hierarchy underneath the fixed positioned culprit.\nThe more I think about it, the more I don't think it's your issue, and doubt you've encountered a way to handle it in the past, since you handle most manipulations with static data attributes. I'm just making strides to make skrollr more \"dynamic\" and the positioning of backgrounds doesn't work in a straightforward way when there are fixed positioned items shifting everything down.\n. ",
    "qborreda": "Just to add to this issue with iOS, the whole thing is Safari doesn't process the scroll effects until you release your fingers from it, or you stop moving. I've found this very illustrative presentation http://t.co/HoqijdRm by Mark Dalgleish to be a perfect explanation of the matter. \n. @Prinzhorn - I know mate. I was just pointing out why so people would know why it is done this way, and how you worked out a solution for native scroll on iOS devices .. sorry if it wasn't all that clear.\nKudos to your work on this excellent plugin!\n. ",
    "domasx2": "I experience this issue on iPad2 with \"apple-mobile-web-app-capable\" meta tag in full screen mode. iscroll 4 demo seems to work fine. Perhaps anyone encountered this?\n. Hey guys. Skrollr uses requestAnimationFrame for the update loop. I found that under moderate load mobile safari heavily throttles requestAnimationFrame, making skrollr very unresponsive. Replacing it with simple setTimeout solved this issue for me.\nedit: also, requestAnimationFrame was completely broken for me in fullscreen mode on ipad, but setTimeout also fixed that\n. Not sure...  For android devices I can only get my hands on galaxy 2 & 3\nphones. But my app runs very poorly in general on them, replacing\nreqAniFrame with setTimeout made no discenrable difference :)\nBtw, Iscroll4 was also affected by the same issue, though somewhy to a much\nlesser extent.\nOn 12 April 2013 14:16, Alexander Prinzhorn notifications@github.comwrote:\n\nSkrollr uses requestAnimationFrame for the update loop. I found that under\nmoderate load mobile safari heavily throttles requestAnimationFrame, making\nskrollr very unresponsive. Replacing it with simple setTimeout solved this\nissue for me.\nThank you very much. I didn't had that in mind because I thought iOS\ndidn't implement requestAnimationFrame. But it does since iOS 6 (\nhttp://caniuse.com/#search=requestanimationframe).\nNow the question is, should skrollr always use setTimeout on mobile.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Prinzhorn/skrollr/issues/140#issuecomment-16287636\n.\n\n\nDomas\n. ",
    "GroovyCat57": "It looks like Skrollr 0.5.14 has a setTimeout fallback in case requestAnimFrame does not get set correctly by the polyfill loop (line 57-ish)\nforcing it to default to the setTimeout works perfectly fine on my iPad2, but what i'm sticking with for now is removing the webkit vendor prefix from the vendors array:\nfrom\n\nvar vendors = ['ms', 'moz', 'webkit', 'o'];\n\nto\n\nvar vendors = ['ms', 'moz', 'o'];\n\n@Prinzhorn I'm not 100% what other implications this has, what are your thoughts on this?\n. the dropbox link performs much better (smoother) than the github demo, except the resize to portrait is hit and miss (iPad2)\n. ",
    "kaboomachu": "Oh, nice that would be awesome -- looking forward to it! Do you have any advice for what I could do until you implement something like that? I've tried other plugins, but understandably they don't act as expected in conjunction with Skrollr.\n. Thank you!\nI tried plugging that in and it still doesn't work for me. I re-uploaded my site with the new stuff included, could you take a look? \n. Aaaand that's the culprit. I can't believe I missed that. Thanks again :+1: Works perfectly!\n. ",
    "gyemeleth": "Prinzhorn - I found out the reason why the the skrollr wasnt working.  Something in code whether yours or something else was causing the css position to be rendered as absolute.  I never saw this and it didnt show up on the Chrome Inspection.  \nEtcio - I really dont appreciate you talking about stuff you have no idea about.  Im not some little kid to be scolded by you and if you dont have any helpful tactics dont bother commenting.  I had the right code but the Chrome inspection was not showing me that the position of the elements were fixed and thats why it wasnt working.  I know exactly where the documentation is as I am not an idiot.  Prinzhorn was patient and for that Im thankful but I spent three days trying to get this done for something at work and no matter what I did and how much I read nothing worked.  'With all due respect' etcio dont make anymore insults to me when you dont know what the real problem is.\n. ",
    "gregbenner": "Can constants be updated now?\nCan I Pass a variable to the constants then update:\nvar foo = 100, bar = 76;\ns.constants({\n    section1: foo,\n    section2: bar\n  });\nfoo = 999, bar = 1010;\n  skrollr.init({});\n. I guess it isn't that important, except when you want to make your animation somewhat usable on a tablet and the pixel values for desktop are way too high. Thanks for getting back so quick!\n. Brilliant idea, would make it possible to create responsive site and reach tablets, and smart phones with one site. :)\n. Thanks looking great, and a very awesome feature :+1: \n. ",
    "bardius": "add this in the Skrollr js file\nSkrollr.prototype.setConstants = function(constants) {\n    _constants = constants || {};\n}\nand then call \nskrollr.get().setConstants(scrollrConstants);\nto change the value of your constants array before the skrollr.get().refresh() \nwhere scrollrConstants is your new array with updated values\n. ",
    "jasonmkfu": "Thanks a ton for the reply.  I'm trying to do what is shown in the picture attached.  Each page scrolls into view but I want pieces to scroll into place for each page.  Could skrollr do this or should it be obtained a different way?  I don't know how to tell the shape \"A\" to stop at a dynamic position which is dependent on browser height (in this case 300px).  I hope that makes sense.\n\n. Sweet. Thanks.\n. ",
    "meetbenadler": "Hi Marc, \nUnfortunately I can't help you, but contrary to expectations, you helped me! I used your skrollr configuration to fix a huge problem I've been having with clipping. Thank you :) \n. I'm sorry, I'm a bit of a noob at this...how would I do that?\n. Hi marcc, \nI've been trying to call the skrollr.refresh() function by using window.onresize, but it doesn't seem to be working. I looked through your html from your other post, but couldn't find anything to do with skrollr.refresh(). How do I call the function after resizing? \n. ",
    "marcc1213": "I don't know if this will help anyone, but I hope to spare someone from wasting the time I did. It turns out the problem was on my end (surprise, surprise). I had some JS that was changing the height of certain divs on load and resize. That was happening after skrollr calculated all the values used for relative positioning to work. By calling refresh after my JS function was done, I was able to set the relative values to where they should be.\nThis was why I thought refresh wasn't working - because it was being called and using the correct values, but I had incorrect values built into my keyframes (see my original question).\nAnyhow, sorry for wasting your time and thank you again for the library.\n. If you refresh after resizing does everything work as it should? I had a similar problem and I was able to revolve it by explicitly calling the skrollr.refresh() function after resizing the browser window\n. Hi zb - I am using Jquery, so I have a function bound to the resize event. It is there that I also call refresh. It basically looks like this:\n$(window).resize(function() {\n      resize_articles();\n})\ninside function:\nfunction resize_articles(){\n//a bunch of stuff happens here\n//when complete:\ns.refresh();\n}\nKeep in mind, I called init like so:\n var s = skrollr.init({\n   //your init parameters here\n  });\nSo \"s\" is the instance of skrollr that needs to be refreshed\n. I used the relative mode on a responsive site and it worked quite well.\n. ",
    "Xonman": "Hopefully you've solved your problem already, but I have found that calling refresh explicitly on the items is much more successful, like so:\n$(window).resize(function() {\n  skrollr.get().refresh(document.getElementsByClassName('skrollr'));\n});\nskrollr.get() returns the singleton instance of skrollr, which exposes the refresh() function. Passing an element, or array of elements, to refresh() causes it to refresh those elements.\nObviously, document.getElementsByClassName returns an array of elements with the specified class, in this case skrollr, but you could change that to document.getElementById('#part1') for your case. You could probably use jQuery too.\n. ",
    "surrain": "For me, only reloading the page fixes the problem.  Am I doing something wrong?\nTo see the problem most clearly, open \"resize-no-action.html\" below. Scroll to see desired behavior, then resize the window horizontally (just a touch is enough) and you'll see the background images jump to new positions. It will stay out of sync until a page reload.\nNo action on resize\nhttp://goodlookingsoftware.com/s1/resize-no-action.html\nSkrollr refresh on resize -- only slightly less broken\nhttp://goodlookingsoftware.com/s1/resize-refresh.html\nPage reload on resize -- desired behavior on resize but reloading the page is undesirable\nhttp://goodlookingsoftware.com/s1/resize-reload.html\n. Can you explain this a little more? I built a site around animating my background positions and would like to try your alternative suggestion but I'm not sure what you have in mind for separating the elements.\n. ",
    "podo": "Apparently, constants should resolve my issue. Thanks anyway.\n. ",
    "iblend": "hmm, I made those two changes and it still doesn't seem to work... http://louisgubitosi.com/\n. ",
    "Sarav-S": "Can you tell me how to fix my footer exactly to the bottom of the page. This is my link\nhttp://iseofirm.net/service/SVEP1089/\n. Yes I did. Since I have been using position fixed it just removes my scrollbar. All I need is, there is certain part(A) in my webpage that I need to make fixed on certain scroll inorder to scroll the content that is inside that A. \n. ",
    "stanleyyeo": "Thank you very much! Really appreciate your response! it works now! :)\n. ",
    "bebensiganteng": "tried to debug it, apparently when it reaches the bottom the _reflow is being called repeatedly thus resets the _maxKeyFrame to 0, which screwed up the calculation.. \nbut not sure why it only happens in safari..\n. not a problem, i'll keep on searching\nthe fastest solution is just to force the original value of maxTop whenever it changes to 0, but seems dirty, i'll keep you posted \n. yes, it worked!\n. Does touch event can detect the scroll position? i'm looking through this site http://flashvhtml.com/ and they mostly used touch event to determine the scroll position, i haven't figured out the detail but it seems plausible \n. ",
    "rachelnicole": "I'm having the same issue as well (only on mobile safari), the only thing I could do to pseudo fix it was add a ton of footer space, which really isn't fixing it. haha. I made sure my skrollr-body div was definitely the first thing after  as well. I don't think my javascript skills are up to par to be able to resolve it on my own but I'm going to keep on trying to figure something out.\n. I found a workaround, and the site I was working on has since launched. (I just disabled the skrollr on mobile :/) But if I have some free time over the next few days I'll revert some code and test that out and let you know if it's still happening.\n. ",
    "petekindness": "Thanks very much for your quick response and such a simple solution.  Really cool, now I can have some fun!\n. ",
    "jackoliver": "For example:\nIf you integrated pseudo support, you could use :before and after content attribs.\nSo:\ndata-0-before=\"content:'value1';\" data-20-before=\"content:'value2'\";\nCould be really handy to change strings of text based on skrollr position, by using pseudo on an empty span to fill the content attrib\n. Thanks! :)\n. ",
    "dillinghamio": "would be cool to have..\nhtml\n<div id=\"airplane\" data-500=\"\" data-event=\"eventName\"></div>\njavascript\n$('#airplane').on('eventName', function(){\n    // do stuff\n});\n. would be cool to have..\nhtml\n<div id=\"airplane\" data-500=\"\" data-event=\"eventName\"></div>\njavascript\n$('#airplane').on('eventName', function(){\n    // do stuff\n});\n. There are work arounds for IE < 9. Using attachEvent vs addEventListener\nhttp://stackoverflow.com/questions/6927637/addeventlistener-in-internet-explorer\nhttp://stackoverflow.com/questions/9769868/addeventlistener-not-working-in-ie8\nhttps://github.com/WebReflection/ie8\nor even a function that saves all callbacks to an assoc array and calls them when, internally, skrollr has reached one of those scroll points or key.. kind of like a queue. \n. Beautiful! Thats exactly what Im looking for, this opens up a world of code for me.\nAlso found this post regarding events http://stackoverflow.com/a/3209320/1342440, \nI'll get out of your hair now =) Thanks for the help.\n. ah thats makes sense. You're jquery solution suffices for me and probably all jquery users. Im not sure of the drawbacks to replicating it for non-jquery users. I dont know that it would be bad to only have one place to have neatly organized code that fires when that point is reached.\n``` javascript\nskrollr.when('skrollr.dataTopBottom.up', function(){\n});\n```\nThanks again for your help and this awesome library.\n. ",
    "jilla52": "Ok cool. I just changed that line to:\nif(!/(select|input|textarea|span|nav)/i.test(target.tagName)) {\nAnd it worked. Thanks!\n. Well when I remove skrollr's mobile.js file from my project, the address bar functions correctly. So I think there's something in there that is causing the issue, or it's conflicting with something else.\nThose links you provided DO work. BUT, I also have the same missing address bar issue with your mobile.html example found in:\nskrollr/skrollr-master/examples/\nThat file also uses the same \"skrollr.mobile.min.js\" file that I'm using. Any ideas?\n. Ok, bummer. Yeah same issue in iOS with anchor_target.html, bg_constant_speed_less.html, foldscroll.html, skrollr.menu.html and I guess any of the ones using the mobile js.\n. Using an iPod running iOS 6, the address bar slides away and does not slide back into view when I swipe to the top of the viewport.\n. I wasn't trying to hide the address bar, though I know I can in mobile Safari using code like this that I've used in the past:\nwindow.addEventListener(\"load\",function() {\n    // Set a timeout...\n    setTimeout(function(){\n        // Hide the address bar\n        window.scrollTo(0, 1);\n    }, 0);\n});\nThe problem is that the address bar does not slide back into view upon swiping up to the top of the screen.\nSo I'm just not using the skrollr mobile file and initializing iScroll as my solution, even though this is a responsive project that needs to work on 320px wide mobile device. So now the address bar functions correctly. It slides up out of view, but also slides back into view when the user scrolls to the top.\n. Hmm, interesting. Looks like what you proposed works. The only demo file I noticed that still didn't work was foldscroll.html. But thanks!\n. ",
    "adamlukaszczyk": "Yes you have right.\nBut the problem still occurs.\nI have workarround - Just before skrollr.init I manualy calculate actual viewport dimensions to prepare correct animation.\nDifferent solution is just put this div to the background without any animation, but look and feel of scrolling is much better with skrollr.\n<script type=\"text/javascript\">\n            $(function() {\n              var s, divHeight = 4000;\n              $(\"#bg1\").attr(\"data-bottom\", \"margin-top: -\" + (divHeight - $(window).height()) + \"px;\");\n              s = skrollr.init();\n            });\n        </script>\n. ",
    "sunygao": "I was having this same issue, then I added the fixed-positioning.css file and it worked. It looks like it's the line setting the overflow-x to hidden on the html element that does the trick.\n. ",
    "Jeff-B": "Sorry may be with a image it will be more clear :\n\nWhen my page is loaded, I want the navigation at the bottom of the page.\nWhen you start to scroll, I want the navigation to be fixed at the top when it reach the top of the page.\nI hope to be more clear.\n. It's work ! Thanks for your help gentlemen !\n. ",
    "realyze": "https://github.com/Prinzhorn/skrollr/pull/415\n. +1\nThis seems to be broken on Androids and iPhones too (also it's reproducible on xcode iOS simulator).\n. Fastest response ever. :-) Thanks for the reply.\nThe main issue seems to be that refresh doesn't do anything in this case. destroy() and init() combo does the trick but also scrolls the page back to top.\n. FWIW workaround that seems to work for me is calling $(window).scrollTo(0) on blur event.\n. Or maybe just get rid of the _isMobile bit?\n. ",
    "philliptmaddox": "I have seen that. The problem I'm having is giving a different data attribute to each nav item so that this hash nav works properly in a Wordpress environment. I'm trying to identify the easiest way to pull it off. Any ideas are appreciated. Thanks!\n. This is the function in my Wordpress theme that is placing the navigation:\n<?php bones_main_nav(); // Adjust using Menus in Wordpress Admin ?>\nAnd here is it's printed source code: (sorry you will have to view it in Firebug..I can't figure out how to place HTML code in the comments)\n\n\nMembership\n\nUpcoming Events\n\nGallery\n\nSocial\n\nContact\n\n\n\nThe problem I have is applying the data-menu-top='500' to the anchors of each nav item because they are being handled by PHP in a function. \nI'm currently trying to use this reference  LINK to apply the attribute using Wordpress's built-in JQuery.\nHere is where I am with that approach:\n\njQuery(document).ready(function(){    \njQuery('#membership').attr( 'data-menu-top', '500' );\n });\n\nForgive me for being vague before, i'm still learning. ; )\n. Thank you. That script is working (in the console) now I get to wrestle with Wordpress and figure out what's stopping it from executing. SMH.\nAlso appreciate the code tip.\n. Yeah, i'm feeling like it's something to do with where I'm placing the script block. SMH.\nHere is a snapshot from console to show you what I'm getting. \nhttp://cl.ly/image/0r1t2R0T3s15\n. Thanks, again. I realized that after I asked but still appreciate you helping me out!\n. ",
    "mattfordham": "That would give you the progress of the overall page's scroll, right? What I'm looking for is the progress of an individual element's animation. In your opinion, would there be any big reason one couldn't/shouldn't add a callback for that?\n. Makes sense. Thanks for your thoughts on the matter!\n. ",
    "iutopi-mauro": "Ok but what does it means? \nAre there limitations on how many keyframes you could use or its just that I made a mistake in some keyframe animations that gives bad height?\nIn that case its possible to set the height of the full page to hide or cheat the scroll bar?\nThanks a lot. You are great.\n. Forget it. I found the problem. I removed the css rule:  section-11{height:100%; width:100%;}\nAnd it works!\n. ",
    "miketeix": "Oops! - I had been testing on an old version of my code, sorry for the bother. Everything works great. Skrollr's pretty awesome.\n. ",
    "shortrib": "Percentages would be very useful for me. I am trying to set up a series of responsive \"slides\" that move horizontally when the user scrolls, with a line animating and things appearing at specific points along the line. Setting this up as responsive doesn't seem to be possible at the moment since you can only set the data attribute (for the horizontal scrolling) with pixels instead of the relative width of the screen. \nSo when the slides resize, it throws off the timing and positioning of the animation.\nFor example, instead of setting the panel that slides from right to left to \n data-300=\"left:0px; \" data-6800=\"left:-6500px; \"\nI would want to set it to  data-10p=\"left:0px; \" data-600p=\"left:-600% \" or something like that.\nThe percentage would have to be based on the screen width and not the scroll bar \"timeline\" height.\nAnyone have any ideas on how this can be done?\n. ",
    "zeorin": "This is fairly easy:\nChange\nvar rxKeyframeAttribute = /^data(?:-(_\\w+))?(?:-?(-?\\d+))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/;\nto\nvar rxKeyframeAttribute = /^data(?:-(_\\w+))?(?:-?(-?\\d+(?:p)?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/;\nand add\n//If the offset contains the letter 'p' then it is a\n//percentage of the viewport height, convert to pixel value now.\nif (match[2] && match[2].match('p$') !== null) {\n    match[2] = match[2].substring(0, match[2].length - 1);\n    match[2] = match[2] * innerHeight / 100;\n}\nright below\n//If there is a constant, get it's value or fall back to 0.\nconstant = constant && _constants[constant.substr(1)] || 0;\nHaven't done much testing or anything, but it seems to work just fine.\n. However I just remembered that that only works for integers, which is fine for pixel values, but probably not so cool for percentages (with really long viewports 1% can be more pixels than you want), so here is an improved regex that accepts only integers for pixel values, but floating point numbers (in decimal notation) for percentages:\nvar rxKeyframeAttribute = /^data(?:-(_\\w+))?(?:-?(-?(?:\\d+|[0-9]*\\.?[0-9]+p)))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/;\nAnd according to the HTML5 spec, you are allowed to have full stops as part of a data-* attribute name.\nYou can test this easily at debuggex.com. Wonderful regex tool.\n. ",
    "smclelland": "Right, that example was a bad one actually and would cause a jump unless the values matched.  A better example would be:\ndata-201-bottom=\"transform: ![clear]\"\ndata-200-bottom=\"transform: !none\"\ndata-0-bottom=\"transform: !none\"\ndata--1-bottom=\"transform: ![clear]\"\nI want the transforms to be off between those two points and the class's normal transform to resume outside.  Essentially I want skrollr to do its thing between 200 and 0 and reset everything otherwise.\nI was going to use render override w/ relativeToAbsolute to test if I need to clear the value, but skrollr constantly sets the value.\n. Hmm... I can give that a shot, but I have found the unrendered/rendered to be a bit unreliable, or maybe I'm not understanding exactly how it works.  I believe that it toggles the class when it's interpolating, between the two value points, right?\nRight, a reset before/after would be great.\nSide note: maybe I should open a new issue for this. I'd really like to be able to apply classes at points using the data-attr style. This way I can trigger css transitions. I'm currently using the render event to do this as well. \ndata-0-bottom-add-class=\"my-crazy-class\" \ndata-100-bottom-remove-class=\"my-crazy-class\"\n. Updated the docs.\n. Formatting issue in the docs there... fixed\n. It's actually because I have a setup where the anchor is at say 1000px, then you have to scroll another 500px to get the first animation started, then another 200px to trigger the next animation.  When people click the links to jump, I want them to jump right to anchor + 700px, skipping the animation a bit (or playing it very fast).  Creating a fake hidden anchor it's kind of messy since it's all virtual space, yeah it could be done with a margin + 700px and so on but, not as clean and much harder for others to ready and debug.\nOverloading the attr with +- sounds like an ok way to go, it is subtle though and easier to miss or make a mistake.  \n-steve\nabout.me/stevemc (http://about.me/stevemc)\nOn Friday, April 5, 2013 at 12:31 PM, Alexander Prinzhorn wrote:\n\nIs this really needed? The native anchor jumping doesn't have this. And if you wanted an offset, just put a padding on the element or use an empty element and put it were you want it.\nThis being said, I'd rather use the same attribute and prefix the value with + or - to indicate a relative offset. How's that?\n\u2014\nReply to this email directly or view it on GitHub (https://github.com/Prinzhorn/skrollr/pull/188#issuecomment-15969465).\n. Ah yeah, keep the naming consistent w/ data-menu-offset makes sense, or data-menu-top-offset.  Updated that.\n\nI could see it going on the target element, but it might be a little disconnected when reading the html.   \nClick this anchor\n\nWhen it gets here, offset by 100\n\nvs\nClick this anchor, when it gets to #xxx, offset by 100px\n\n\n\n-steve\n\nabout.me/stevemc (http://about.me/stevemc)\n\nOn Friday, April 5, 2013 at 1:22 PM, Alexander Prinzhorn wrote:\n\n> Don't you think the attribute should be on the target element? This way all links with this target will work out of the box without the need to change the links all the time. And I'd call it data-menu-offset to keep it consistent with data-menu-top, especially the data-menu- part.\n> If your current solution works for you locally, I'd leave this open for now. Because right now there's 0.6 ( #190 (https://github.com/Prinzhorn/skrollr/issues/190) ) on my schedule and improvements of the menu plugin are scheduled for 0.6.x.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub (https://github.com/Prinzhorn/skrollr/pull/188#issuecomment-15972199).\n. Ya, whichever you feel makes the most sense works for me.\n\n-steve\n\nabout.me/stevemc (http://about.me/stevemc)\n\nOn Friday, April 5, 2013 at 1:49 PM, Alexander Prinzhorn wrote:\n\n> > but it might be a little disconnected when reading the html.\n> \n> Well, you can use this argument on both sides. When reading the link, I know that there's an offset. But without looking at the element, this offset is worthless (offset to what?).\n> On the other hand, when I look at the link I know which element it targets. And the offset (if specified on the element) is more like a fine grained specification of how I want this particular element to be scrolled at.\n> data-menu-top on the other hand doesn't even require the target element to exist, and thus must be specified on link-level.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub (https://github.com/Prinzhorn/skrollr/pull/188#issuecomment-15973654).\n. Switched it so that data-menu-offset is on the target now like you suggested.  Also added hash navigation using push state.  I needed to be able to allow people to index into the page, and or hit refresh, and have skrollr play out.  Not sure if it's useful to you or not but\u2026 works.\n\n-steve\n\nabout.me/stevemc (http://about.me/stevemc)\n\nOn Friday, April 5, 2013 at 3:03 PM, Steve McLelland wrote:\n\n> Ya, whichever you feel makes the most sense works for me.\n> \n> -steve\n> \n> about.me/stevemc (http://about.me/stevemc)\n> \n> On Friday, April 5, 2013 at 1:49 PM, Alexander Prinzhorn wrote:\n> \n> > > but it might be a little disconnected when reading the html.\n> > \n> > Well, you can use this argument on both sides. When reading the link, I know that there's an offset. But without looking at the element, this offset is worthless (offset to what?).\n> > On the other hand, when I look at the link I know which element it targets. And the offset (if specified on the element) is more like a fine grained specification of how I want this particular element to be scrolled at.\n> > data-menu-top on the other hand doesn't even require the target element to exist, and thus must be specified on link-level.\n> > \n> > \u2014\n> > Reply to this email directly or view it on GitHub (https://github.com/Prinzhorn/skrollr/pull/188#issuecomment-15973654).\n. Just checked in a more fleshed out version of it with pop state.  Needs a bit more testing.\n\nSwitching push for replace might be a good configurable option. It doesn't work in my case because we need forward/back between the page sections.  \n\n-steve\n\nabout.me/stevemc (http://about.me/stevemc)\n\nOn Saturday, April 6, 2013 at 2:28 AM, Alexander Prinzhorn wrote:\n\n> > Also added hash navigation using push state. I needed to be able to allow people to index into the page, and or hit refresh, and have skrollr play out. Not sure if it's useful to you or not\n> \n> I was planning to do exactly this. But if you're using pushState instead of replaceState, you need to handle onpopstate as well. And then you need a logic to handle a hash without a click (the same logic is needed on page load). It should search for the matching link and trigger a click on it. I'd just use querySelector('a[href^=\"#\"' + hash + ']').\n> \n> \u2014\n> Reply to this email directly or view it on GitHub (https://github.com/Prinzhorn/skrollr/pull/188#issuecomment-15992251).\n.",
    "mattpass": "Not as good as iScroll cersion yet IMO:\n- Not as responsive to quick movements\n- Flick up/down on original has inertia slowdown, new version suddenly stops\n- A single flick can get you to top or bottom on old version, can't on new version (see prev point)\n- Scrolling seems more jumpy\n- Slight delay before scroll on new version\n(Android 4.2 Jellybean, Galaxy S3)\n. Yeah, if you implement native-like momentum it'll make a big improvement.\nRe a single flick, no, think I got it right way round. Because old setup has post-flick momentum, a single short flick (finger in contact with screen for <0.5s) will keep it scrolling for a while thru a slowdown then stop. New version doesn't have that and so you've no chance of reaching top/bottom from opposite end with a single flick.\nOld version prob has a 0.2s delay, new version 0.5s. Doesn't sound much but is noticable.\nFunnily enough I got the best UX from the default Android browser, Chrome is near unusable with both versions? :-/\n. You can 'flick' the screen for faster/more scrolling (not specifically to get to top/bottom). Scrolling speed & post flick momemtum seems roughly based on how many pixels your finger travels over time. So 100px over 0.1s is gonna give fast momentum scroll and say 400px over 1s would be slow momentum scroll.\nYeah, pretty bad on Chrome, gave up after 30s on both versions.\nI'm on holiday with only my phone & nothing better to do, so lemme know if/when you want me to test again. :)\n. LOL yeah OK I have more than just my phone, meant I was without PC.\nThat link seems to work the same on both default Android & Chrome browsers. A bit too sharp/jagged/snappy on the UI but way better and Chrome is usable here.\n. ",
    "chrismackie28": "Can we do \n\ndata--100-top=\"loadContent()\" ?\n\njust an example for lazy loading\n. shame, that would be awesome!\n. ",
    "minuz1991": "Hi,\nI've got a problem. I'm trying to add event listeners to the elements. For example $('#element').on('click',function(){alert('some stuff')}); but I believe because elements are positioned absolutely and they are offset somewhere in the dom, I'm unable to click on the right thing and get the alert message. Is there a way to get element positions and be able to fire a function on click? \n. ",
    "STDPLM": "Wonderful, tested and works. Thanks a lot. I'll move towards stackoverflow for further questions, if not directly related to skrollr \"issues\"\n. ",
    "SamMarkiewicz": "Thanks a lot !\nIt works fine by setting it like that : \ns.refresh(document.getElementsByClassName('section-className'));\n. ",
    "smarkiewicz": "Hi !\nI confirm that passing a jQuery object works fine too !\n. ",
    "jeffrauch": "Thanks, yeah it was an issue with !important\n. ",
    "SILENTRUN": "Am I doing something wrong on this page that would cause the items that are supposed to fade from an opacity of 0 to an opacity of 1 not to do that in IE 7 and 8? http://group.com/good-to-go-training\nThe code at the bottom of my page that is controlling this is:\n\n. Yes, the opacity change from 0 to 1 works on http://prinzhorn.github.io/skrollr/ in IE 7+. It must have something to do with my code.\n. You are initializing Skrollr after the conditional IE comment at the bottom of http://prinzhorn.github.io/skrollr/. Is that my problem? Does the conditional IE statement need to be included before initializing skrollr?\n. Fixed my issue, had to change to a document.write inside the conditional comment.\n. ",
    "navgarcha": "Looking at the IE plugin it overwrites skrollr.setStyle however inside the core lib skrollr.setStyle is assigned to _setStyle and this is used internally so the changes from the plugin never get executed?\n. Yep its working now, thanks!\n. Much better - good spot.\n. Would detecting iDevices and setting it to the lower value otherwise keep it the same work? Alternatively add it in as a config option?\n. ",
    "quoo": "Are there additional updates that need to be made to use this fix? If I drop it in place of my existing skrollr.min.js file, skrollr stops working. I am using 0.6.24 currently.\n. I am. When I included the latest skrollr.js file skrollr stops working in all browsers. I suspect it's something on my end, but I haven't been able to identify the issue yet. Thanks.\n. ",
    "marcobarbosa": "It keeps updating the style with the \"top\" as I specified even though the page is not visible (display: none).\nI don't want to hack the plugin and add a if.is(:visible) check or something like before asking for your advise first :)\nNevertheless I'll have to add something because of performance.\nThanks for the prompt reply!\n. ",
    "spricity": "I had fixed it. see: https://github.com/spricity/skrollr/tree/kroll\nit support .stop() and .resume() \nand it support Multi-instances\n. ",
    "fowkswe": "Hi, \nI also could use this and it seems the v0.6x tree has ventured pretty far from spricity's fork.  Could you outline what would need to be done to tear down skrollr?  The obvious things to me are to remove the DOM modifications, then it looks like there are a few events that would need to be removed / muted.  \nDo you have any thoughts on what would happen if you did this, then re-initialized skrollr?  Would it work?\nThanks,\nBilly\n. I've solved this for my own use.  The problem was manifesting itself on mobile - as skrollr was hijacking the touch events.  \nMy application was loading async content, some of which was parallax, and some was not.  Calling skrollr.init was causing the non-parallax stuff not to scroll because of these hijacked events.\nTo work around this, I created a 'power switch' which drops the event handling when its 'off'.\nhttps://github.com/fowkswe/skrollr/commit/2c120ae018c6d814d6624f4f6a7df0bd2ec22e0a\nJust call\nskrollr.powerOn()\nor \nskrollr.powerOff()\nto toggle.\nBilly\n. Same issue here as well.  An example:\nhttp://billyfowks.com/clients/seeme/v2/\n. The svgs (the colored chevrons and diamonds) are smooth, but the images are choppy for me on mavericks + 7.0.\n. ",
    "patrixd": "@fowkswe \nYou can listen the event of scroll and prevent the propagation and default event if you need to stop the scroll. For example your switch variable can be outside of skrollr. \nMy problem was when the modal of bootstrap is open in touch devices, Both scrolls move.  \njavascript\n $('body').on('touchstart touchmove touchcancel touchend', function(e) {\n    if($('.modal').hasClass('in')) {\n      e.stopPropagation()\n      e.preventDefault()\n      return false\n});\n. Thank you so much, I had the same problem. I voted up the issue. I can confirm that position fixed works in ie11. The main problem is negative z-index. I fixed it changing negative z-index to positive and greatest values. \nIn my case I used the negative values for parallax inside some sections, the good part is that you can have z-index relative to the parent for parallax and not to use negative values.\n. ",
    "murtaugh": "Here's a page on which I've been playing around with the plugin:\nhttp://monkeydo.biz/test\nIf you scroll down, there are two spots that have events.  They should both happen at the same visual spot in the viewport (a bit below center) but the second one seems to be offset by about the same amount of space that the first item grows by.\n. ",
    "m9dfukc": "Hey, an feature that would be needed for my upcoming project. Did you already start working on this?\n. Hey,\nI wrote a little patch quickfixing the svg element transform issues. If anybody is interested, here is the gist.\n. Hey, any progress on this? Can you give an rough estimate when this will be implemented. I going to start a new project and this would come in very handy for my purpose.\n. Hmm, the more I think about it ... Something like \"onetimers\" with a defined direction would make more sense?!\n. yeah, that's what I'm doing right now! But I still want to be able to control the animation via my scroll position, not just doing a css animation (which are a bit cumbersome anyway imho). \nIn my concrete example I have a animation which makes only sense in one direction - it's an animation of a person that falls asleep.\nAnyway I'll try to monkeypatch that with the setstyle function ... but that would probably a bit ineffective.  \n. Hey, just checkt that again. Seems I was wrong  \"_instance.getScrollTop()\" actually returns a scroll value. then I wonder why it jumps to top of the page ... have to digg a little bit deeper. Really wonder whats going on there.\n. ",
    "tobaco": "is there any progress on this?\ni'd like to animate a svg polygon clipppath inside a inline svg and this seems to be the way to go.\nthanks!!!\n. hi,\ni'd like to reveal/hide an image when scrolling the page.\nfor the kind of clipping i want, svg is probably the way to go. so i have this svg:\nhttp://jsfiddle.net/2KxhC/1/\nnow i want to animate the clipping polygon (changing the values 426 and 955):\nhtml\n<polygon points='426,720   -200,720   -200,0   955,0'></polygon>\nwould this be possible with skrollr?\nthanks!\n. this would be great! \nwhen do you think this will be implemented?\n. Whooohaaa!!!\nThank you, works like a charm! \nWhat kind of app did you develop and when can i buy it?\n. ok, i'll wait \u2026 ;-)\nthanks again!\n. hi, it's me again \u2026\ntoday i opened firefox for some debugging and saw that firefox does some strange things with my SVG-clippath-polygon-animation: the statusclass jumps from before to after with a short between class, where the points are NaN.\nthe other polygon in this svg works as intended. only the one in the clippath don't want to play well.\nsee here for an example: http://cl.ly/1D3b0a0R000C\ndo you have any idea, what's causing this?\nthanks!!!\n. hi,\nfirst, THANKS for your time and help!\nsecond, here are the screenshots: https://cloudup.com/cW2rQueFTIK\nthanks!\n. Oh, \u2026\n\nDanke und sorry f\u00fcr die unn\u00f6tige Arbeit!\n. ",
    "jnordberg": "I'm looking for something similar. I want to build a svg path based on some input. It would be great to be able to do something like this:\njavascript\nfunction buildPath(progress) {\n  ...\n  return pathDataString;\n}\na reference to this function could be added to scroller during init, or simply keeping it on the global scope\n<svg>\n   <path data-0=\"$d:buildPath(0)\" data-100=\"$d:buildPath(1)\">\n</svg>\njust pulled the syntax out of my.. eh, hat. but assigning the d attribute to a custom function that returns the value. and the arguments to that function would be interpolated by skrollr.\n. ",
    "benjamindenboer": "How would one call init on desktop only?\n. I'm not sure, honestly. I have tried that, but it didn't work. Forceheight often causes a lot of extra white space, so that didn't do it either. \nIs there a way to load skrollr only on a particular element? Instead of putting all of my content in a skrollr-body ID for mobile? \nOr, an easy way to disable it on mobile devices? Should I work with the skrollr-desktop class?  (Phones and tablets) (I'm not too familiar with JS, so any code samples would be really appreciated :)) \n. Regarding the scrolling speed, I have also played with that value, but I was looking for the native, bouncy scrolling of iOS. (Or is that impossible when using skrollr-body?)\n. Hmm, well it's basically a blog with Disqus Comments below. I'll see if I can create a test-copy. I've also found that if you keep trying to scroll further, eventually you can but it scrolls far beyond the page-bottom, into a vast sea of white-space. \n\nTo load on desktops only, the following code seems to do the trick:\nif(!(/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent || navigator.vendor || window.opera)){\n    skrollr.init({\n        forceHeight: false\n    });\n}\nWould you say this is a reliable solution to load Skrollr on desktops only? I'm honestly not entirely sure how it works.\n. ",
    "scarfeyTIC": "Doh - school boy error not posting a link to it lol, sorry about that!\nhttp://bahco.thisischemistry.com/\n. Yeah i've given that a try, for some reason it doesn't like it within the google chrome app on the iPhone, yet your demo works fine on the same browser.\nI've double checked within safari and it's working fine so like you said I wonder if there might be a server cache that the chrome browser is picking up or that because it's an iPhone app the iScroll won't be able to target that browser as it's not native to the phone.\nEither way i'm going to try integrate into wordpress & i'll keep you posted how everything goes.\nThanks for such a speedy response too, really appreciate it.\n. Yes, I was trying to get the code working with the 0.5.14 version and the iPad/android etc doesn't seem to have smooth animation like the example you provide on your site.\nSo I tried updating the skrollr scripts by replacing the old .js versions with the latest up to date scripts yet it didn't even run on my site.\nI've just tried searching for the 0.5.14 version of skrollr but I can't seem to see it in the version history as I was wondering if I had misplaced the mobile.js code.\nAside from this I absolutely love this skrollr plugin and I can't wait to use it again in future projects - I just can't seem to get my version working on mobile which is all I was asking if someone could see anything I may have done wrong in implementing it.\nKeep up the good work.\nJason\n. I was actually mid process of doing something to the code when you did that screenshot!!\nThose issues have been resolved now - it does scroll a lot more smoothly now but when I get half way down the website on the iPhone it has a tendancy to \"stick\" where I can't scroll up or down anymore.\n. ",
    "Colir": "ok thanks for the answer\n. Yes , you can close it. thanks\n. ",
    "GerbenJW": "I only notice it in Chrome, even in Safari it works proper. And with flickering I mean disappearing / stuttering which makes the background white for a short amount of time (milliseconds).\nThanks for the tip, that would be a handy sollution indeed.\n. Adding translateZ(0) messes up the functionality even more, so that won't work \n. Thanks trakout, I'm going to try it out later. And I also tried both HTML5 and Flash embed and also the wmode=\"opaque\" but that didn't do the trick\n. We solved this problem by putting the movie inside a containing div that only appears if you click a button. Thanks for all the advice. I'll put up a URL somewhere here once the website is live!\n. @chrishough \nWe solved this problem by putting the movie inside a containing div that only appears if you click a button. Thanks for all the advice. I'll put up a URL somewhere here once the website is live!\nYou can see it at http://www.jaarverslagpantaramsterdam.nl , just click a red play button\n. That would be nice indeed\n. ",
    "trakout": "I've got the same issue in Chrome, with a YT embed. Playing around with z-index/positioning doesn't seem to make a difference. \nBackground flickering, as well as random repeating renders of foreground elements underneath the embed area. \nHiding the video once outside the viewport does help.\n. Prinzhorn, freimuth82 Thanks for the suggestions.\nBoth HTML5 and flash embeds have been tried; unfortunately they produce the same result. wmode=\"opaque\" doesn't help.\nApplying translateZ(0); to all the major elements rendered before and up until the object embed, including the embed object itself, seems to fix the issue. I am using skrollr-stylesheets in absolute mode.\ntranslate3d(0,0,0); in place of translateZ(0); seems to work as well, which makes sense.\n. ",
    "freimuth82": "Please provide some more informations. Do you use the HTML5 - iframe embedding from youtube or do you use the flash embedding version?\nYou may use translate3d(0,0,0); for enabling hardware acceleration, it may solve some issues. If you use the old flash embedding way for your videos, try to set wmode=\"opaque\".\nAnd what about hiding the video once outside the viewport as trakout described it?\n. I would also not fix bugs related to iOS 5, see http://david-smith.org/iosversionstats/ for usage: Currently only round about 6%.\n. ",
    "chrishough": "@GerbenJW how did you fix your site? I have the same issue. \n. Thanks @GerbenJW. I am trying to avoid the play button, and have been looking for a way to autoload an html 5 video. \n. ",
    "martyg": "That was it, moved it to an onload call. Thanks!\n. ",
    "tkelling": "Thanks for the plugin and the fix. Worked for me.\n. ",
    "hajpoj": "+1 for this feature. i found myself doing this. \n. ",
    "nwhite89": "+1 for this feature\n. I agree when you swipe it is very fast at scrolling iPad is the same\n. If this does fix it and isn't an issue for Android that'll be great, I'll\nbe working on this Tuesday at some point so if nothing done on this prior I\nwill try do some investigations for this and attemp a fix for pull request\n. No actually I haven't I will take a look into this thanks, and I will take a look see if I can get this on the web somewhere\n. hmm yeah sounds like a compromise between the two is needed, I have mainly tested on iPhone with this PR however, the android i did test seemed ok but that wasn't as extensive due to access to an Android device\n. Thanks for that I dont think that works with mobile though does it?\n. ah ok will give that a go thanks\n. ",
    "homerjam": "For a multi-page app. For a better user experience I'm initialising the skrollr/iscroll instances before they come into view on page change. Unfortunately I can't easily show you an example at the moment. But basically its an interactive book built using royalSlider, iScroll and skrollr.\n. fixes #148 too\n. Is there anything I can do to make this pull request more amenable?\n. ",
    "zerostatic": "got it, the error was that the var \"theCSSPrefix\" was set to null. It appears to be fixed if you change line 91 to \nvar theCSSPrefix=\"\";\nThis may require further testing... but I'm not getting an error in IE8 now.\n. ",
    "dwcharn": "Hi Prinzhorn, \nI am very sorry. I wrote the example intending to have this code below it and forgot to paste it in. I appreciate the help.\nExample: Start moving image1 from 0 pixels to 200 pixels over a 500 pixel scroll starting when the parent div is at 900 pixels. Skrollr is absolutely wonderful by the way!\n. javascript\n<div class=\"centered\" data-900=\"top:0px;\">\n    <div class=\"centered\" id=\"image1\" data-0-top=\"top:0px;\" data-500-top=\"top:200px;\">      \n        </div> \n</div>\n. ",
    "resarahman": "Yeah that's what I meant. Currently I increased the MOBILE_DECELERATION value in core js file to suit my needs.\nAny plan in the future it would be possible to change the value when initiate the skrollr ?\n. I'm not sure because I haven't check it on Android devices only checked on iOS\n. Anyway you can close this issue. thank for the help.\n. so here the problem. when I scroll down the menu in menu area, it will also scroll entire element on the page area as page area is inside #skrollr-body. Any way to stop scrolling on #skrollr-body if I touch element inside menu area ?\n. Any quick hack to achieve it ? Could you let me know where exactly the function in the code which indicate to run scrolling ?\n. Thanks your quick fix is working !!\n. Sorry the actual code is here\n<div id=\"main-nav\" data-bottom=\"position:relative;\" data-top=\"position:fixed;\"></div>\n. I'm using iOS 6.1.3 and the element inside #skrollr-body. As you explained above it doesn't work so I move the element outside #skrollr-body then it work now. Thanks anyway !\n. ",
    "runspired": "At least on the iPhone 5 it appears that the problem isn't scroll speed per-say but momentum scrolling.\nIf I scroll slowly (as if I were reading something and pulling the page along with my thumb) then the scroll speed is about what I'd expect. Not quite as smooth as native, but close enough that most people probably wouldn't notice.\nIf I make one fast flick though, I scroll much too quickly and it takes me almost to the bottom of a very long webpage, and the usual tap the screen to slow or stop the scroll does not work.\nIncreasing the value for MOBILE_DECELERATION helps fix the scroll too fast too far issue, far from perfect but workable, and I have no idea how this affects android scrolling.  It does not, however, fix the absence of \"stop/slow quick scroll\". \n. ",
    "natsumesou": "Yes, I cant scroll to \"WOOOT!\" context with same iOS version.\n. oh I see. I could be confirmed it. :+1: \n. ",
    "kenng": "When using bootstrap modal with skrollr, the (overflow) modal become un-scrollable. The solution fixed the problem.\n. ",
    "Leooo": "Any way to code a \"data-skrollr-ignore\" or close and disable skrollr touch events on elements inside this div? (code should be close to rxTouchIgnoreTags I suppose)?\n. ",
    "sdornan": "That seems to work. Thanks!\n. ",
    "fritoebola": "So I have a page based on the The \"main\" example.  And as I did not want a continue scroll but stopping at some point to do animations etc I am using the css fixed-positioning.css.. It all works nicely but having the fixed positions makes the  skrollr-menu to stop working as it does when not using fixed-positioning.css.  It makes my menu items to scroll to have of the items or no scroll the page at all.... they do scroll nicely to the top of the areas they are meant to scroll to not using the fixed-positioning but then I don't have the paralax effect but just a continue scroll page.... \nany idea how to solve this? \n. ",
    "kojot1234": "Thank you very much! That explains it all. Btw, great jorb on the framework.\n. ",
    "ricnunes": "Thanks for the feedback. Will update after tests :)\n. Figured out the issue. The content not displaying was caused by addblock and the major lag issues are made from the retina images. Skrollr is working awesomely fine :) thanks!!\n. ",
    "willmurdoch": "You can get the effect you're going for by setting up skrollr in its own HTML doc then reading that into an iFrame.\n. ",
    "loopingGIT": "ok, i would prefer not to use an iFrame... but thanks for the answer.\n. ",
    "rubenswieringa": "I could really do with this (being able to pass a container-element to skrollr.init)\n. ",
    "StefanRein": "Hey,\nthis seems to work if you have a DIV you need to scroll instead of the document.\nInstead of (in the Skrollr function): \njavascript\ndocumentElement = document.documentElement;\nin:\njavascript\ndocumentElement = document.getElementById(\"myDiv\");\n@Prinzhorn first of all, thank you so much for the plugin. Wait, let's thank you just twice. Thanks.\nStefan\n. ",
    "frankbecker": "Yep,\nThat works... here is what I did:\nIn the Init function:\nvar s = skrollr.init({\ndocumentElement : \"overflow_scroll_container\",   ///// By ID\n/////////\nand in the Constructor \n/**\n * Constructor.\n */\nfunction Skrollr(options) {\n    if(options.documentElement){\n        documentElement = document.getElementById(options.documentElement);   \n                    //////  Incase you want a container wrapper\n    }else{\n        documentElement = document.documentElement;\n    }\n. Sorry bro. I did not have the time to test... I am using your library for an HTML5 bundle that will live within a native iPad App...\nIt does however work on latest Chrome, Safari and Firefox....\nI'll test on IE soon...\nBy the way your library is a work of Art.\nThanks\n. Also,\nEven though you can get the Skrollr to work in a container, It will still modify the Document's Body height...\nSo I commented this line out:\n// body.height from the library.... line  #1446   in _reflow function....\nBut that is no biggy, because you can just do a body overflow:hidden....\nThanks\nAgain...\n. ",
    "schwiet": "First, thanks so much for sharing this library, I wish I would have discovered it before implementing my own scrolling functionality in a recent app (because of the lack of scroll events on mobile browsers). I know you made the decision to use native scrolling when possible, but being able to use skrollr on specified elements would be a great additional feature (probably more for web apps than sites). I haven't used the library yet or looked at the code, but would it be possible or take much work to have multiple \"skrollr-body\" elements that would disable native, but allow independent scrolling?\nThanks.\n. Ok, thanks for the reply and thanks again for sharing this library.\n. ",
    "Silex": "I confirm simply using forceHeight: false and making documentElement point to some div works. I think this feature is very useful... what is the show stopper to have this merged?\n. I think it's a reasonably expected feature and relatively simple to implement. Why not at least plan it in some \"future\" section? Or ask for PR?\n. > > I think it's a reasonably expected feature and relatively simple to implement. Why not at least plan it in some \"future\" section? Or ask for PR?\n\nTwo things come to my mind:\n1. Did anyone try the changes in IE 8 and more important on mobile? And \"it seems to work\" is not what I mean. For example APIs like setScrollTop should also work.\n2. As soon as you can apply skrollr to a single div, people will ask for multiple skrollr instances on the same page, which is out of scope.\n\nAlright, I can see how 2. can be a problem. Nevermind then.\n. ",
    "aesfer": "+1 For this feature request. Is this work in progress or is this not a priority?\n. Ok, thanks for the heads up.\nFor what it's worth, I can confirm that setting documentElement and body to some target div and it's container (passed through options) works for me. The only thing I had to change was the constructor:\ndocumentElement = (options.targetElement || document.documentElement);\nbody = (options.targetContainer || document.body);\nAnd thanks for sharing this library, I just adapted it with a directive for my AngularJS app and it works like a charm :)\n. ",
    "RomanGotsiy": "+1 For this feature request.\n\nDid anyone try the changes in IE 8 and more important on mobile? And \"it seems to work\" is not what I mean. For example APIs like setScrollTop should also work.\n\nWhy not just mark this feature in docs as experimental or IE9+ or even breaksSetScrollTop :) (or something similar)?\n. ",
    "anasnakawa": "+1 for this feature,\nsince in some platforms like Microsoft SharePoint, disables the default scrolling behavior, and append the whole page content in a scrollable div.\n. ",
    "claudchan": "Hi, I am having same issue with bootstrap scroll spy.\nHere my test site: http://goo.gl/jj61DV\nEDIT:\nThe top navbar menus didn't active when scroll.\n. Thanks, I added data-offset accordingly. Not working.\nEDIT:\nI think I will be use alternative way.\nHope that skrollr-menu https://github.com/Prinzhorn/skrollr-menu/issues/15 implement active link on scroll.\nCan't wait to have this feature.\nThanks!\n. Actually, the one working that you notice was I use other method (using data.curTop) to trigger it active. I had reverted back to previous now (using bootstrap ScrollSpy). If you want to check it out.\nTest site: http://goo.gl/jj61DV\nHope that skrollr-menu Prinzhorn/skrollr-menu#15 implement active link on scroll so that I no need to depend on other pluggins.\n. Not work with AngularJS. Any updates on this issue?\n. Thanks for the advice. Will try AngularJS directive.\n. ",
    "maduka-jayalath": "Thank you very much for your reply, Please forgive me, I don't have much knowledge of SVG. Could you please tell me what do you mean by inline SVG, is that mean the stranded object such as polygon, circle, etc...? Basally I want to draw a path like writing a name with a pen and animate it when user scroll the mouse. but when I export as SVG, it contains with so much groups tag, is it possible to create such an animation with skrollr?\nThanks\n. Thank you :+1: One more thing, in the path animation, you used stroke-dashoffset property to do the animation but I need to use fill to animate my words. There is two line and I need to fill the space between those two lines, is it possible?\n\n<path id=\"SVGID_1_\" d=\"M261.387,530.409c-19.99-25.455-23.89-33.255-23.89-58.71c0-22.333,15.772-37.327,15.772-68.402\n        c0-31.853-24.677-34.195-47.317-34.195c-23.894,0-29.206,0.623-42.947,2.967c-3.122,0.471-27.328,7.339-27.328,14.832\n        c0,3.9,6.877,9.528,10.619,9.528c10.307,0,28.735-4.995,28.735-5.782c0,0,23.89,84.021,23.89,139.292\n        c0,9.683,4.059,14.832,8.587,14.832c2.19,0,2.81-0.933,2.81-2.652c0-0.624-0.149-1.565-0.149-2.344\n        c-3.131-39.037-0.313-67.46-27.021-149.128c3.904-1.24,24.985-4.524,37.327-4.524c9.986,0,22.795,1.249,22.795,18.424\n        c0,25.926-15.456,43.571-15.456,65.425c0,24.84,1.869,28.577,19.356,55.904c12.962,20.46,49.353,57,49.353,76.827\n        c0,8.289-15.931,21.084-35.762,21.084c-4.846,0-5.307,0.316-5.307,5.158c0,3.275,2.027,3.583,5.307,3.583\n        c16.55,0,46.223-10.777,46.223-29.97C306.985,582.251,279.187,553.204,261.387,530.409z\"/>\n\n. ",
    "djvern": "I think the main thing for me is that I'm trying to get it running smoothly on mobile devices. For example the native scroll on iOS adds a lot of inertia, but I can't seem to recreate this. I've increased the MOBILE_DECELERATION variable as this was too fast but in doing so I've lost a lot of inertia. Perhaps I just need to increase the keyframe intervals? - so for example I'm using 1000 frame intervals between each section at the moment.\n. ",
    "guilhermeaeme": "Reducing the speed in EVENT_TOUCHEND solved my problem for a while.\n. ",
    "WyTip": "The example page is at url : http://wytip.com/work/wytip/.\nThank you .\n. ",
    "Bellfalasch": "http://jsfiddle.net/9gz9s/\nExample of CSS and HTML-markup that doesn't work as intended. With box-sizing the padding shouldn't be added on top of the 100% height, but instead subtracted from it. Guessing Skrollr calculates the height 100% to exact pixels, then adds the padding on top of that using normal box model.\nNot a big issue though, as I could just move the padding to an inner div.\n. Thanks =)\nNah, didn't have the best of times to set up a better demo page. I will look into it maybe tomorrow. So don't stress with this bug/thing. I'll produce two plain html-pages for you to see the different behaviors I experienced. But might take a few days since we're on a tight schedule for this project.\n. ",
    "surendarviki": "is there any fix for this ? still not working in firefox.. please help :(\n. i m also facing the same issue as like that in the video.\nOn Mon, Dec 2, 2013 at 2:33 PM, Alexander Prinzhorn \nnotifications@github.com wrote:\n\nI noticed I was still on Firefox 18 in the win 7 VM.\nUpgraded to 25.0.1. I neither see jumpiness nor what @codymaineshttps://github.com/codymaines'\nvideo shows.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Prinzhorn/skrollr/issues/242#issuecomment-29602741\n.\n\n\nSurendar S,\nStrength is life, weakness is death\n. ",
    "codymaines": "I also have an issue while implimenting the skrollr svg path animation in firefox. See the video I shot here:\nhttp://youtu.be/bADlrCdH8tU\nFirefox scroll seems to animate the dasharray 4x through while chrome (and my other browsers) only animates 1x through.\nI'm using Win7 x64 and that was firefox 25.0.1\n. ",
    "jace78": "Same problem here...\n. ",
    "Eurydicee": "thank you so much! the background images changes now, but it still 'flickers'.\ni made a video, so you can see what i mean: http://www.vidup.de/v/DPdGd/\nleft: chrome - it flickers when i scroll\nright firefox - it works now.\nhow can i fix that problem? is it a problem with skrollr or with my browser?\nedit: i will try it with background positions, like that example: http://www.briancanovas.fr/skrollr-animation.html\ndata-0=\"background-position[begin]:0px;\"\n    data-400=\"background-position[end]:-100px;\"\nBut i would be interested why my version flickers. thx.\n. Thank you.\nBut now i have another problem :'>\ni downloaded the new skrollr.mini.js and i dont want the smooth effect. the images shall not transition, i want to jump to each image.\ni set data-smooth-scrolling to off in my div, set skrollr.init({smoothScrolling: false}); or both at the same time, but the images do not want to change, they still smooth.\n. here: http://jsfiddle.net/gfnGC/\nthat's all what i have changed in your template shim.html.\n. aw, thank you. :) :+1: \n. im such a f*cking idiot :D\nyeah, it was because of the two divs with the fixed position.\nthank you.\n. ",
    "Imazin": "Yep, I confirm that everything work fine after some changes in my code!\nThank you so much for your explanations, Prinzhorn.\nYou can see the result here: http://www.briancanovas.fr/skrollr-animation.html\nFirst I removed each unnecessary step in my timeline, then I have added the magical \"edgeStrategy: 'set' \" in my Skrollr first declaration, and finally I used the \"!\" to control how the changes goes between each keyframe.\nIn fact, A VERY POWERFUL TOOL to animate through pure CSS coding. With SVG sprites which are not resolution dependent, veeeeeery powerful!\n. ",
    "webdesignervijay": "Hello\nPrinzhorn Sir,\nThis is vijay shinde from pune. I like your plugin for scrolling animation\nbut i have one query that how to set keyframe animation by scrollr.js\nsee the below link\nhttp://codepen.io/rachelnabors/pen/gcump\nI want  to animate on scrolling so how I can Do \n. ",
    "psullivan6": "I would definitely love to see this feature as well :)\nPerhaps a potential conflict might arise if someone wanted to use a numerical data attribute to set font weights. I recently found that I needed to alter font-weights via the HTML markup, rather than CSS, thus I was contemplating using data attributes, but instead opted for classes.\nAnyway, just thought I'd ping the thread with another interested party. It's super useful already though!!\n. ",
    "vdv73rus": "+1\n. ",
    "ethanresnick": "+1!\nI'd be happy to work up a PR too (for skrollr at least) if I knew it were going to be merged.\n. ",
    "vicocotea": "Thanks a lot and sorry I didn't find issue #69 before posting mine.\n. Ok, thanks for the quick reply \n. ",
    "jonathanmoore": "I am running into the same issues, and at this point simply looking for a way to disable it for mobile/touch devices.  Is there a way to prevent Skrollr from getting applied to the viewport?\n. ",
    "harrynorthover": "@jonathanmoore Have you tried rolling back your Skrollr version to 0.5.14, this actually fixed the issues for me. \n@Prinzhorn I've just tried that and the values seem not to be jumping. I've also tried copying the styles from what the old Skrollr did (css properties applied to body & skrollr-body) to my page using the lastest version of skrollr and there was no difference. Could it have something to do with the fact that something along the lines of -webkit-transition: 350ms is not being used in the latest version of Skrollr? This is the only difference I can see... \n. I'm aware thats not a fix but at the moment its the only option. Will do, thanks for your help on this one. \n. @Prinzhorn Here you go:\nSkrollr 0.5.14: http://www.projects.harrynorthover.com/parallax/0.5.14/ (I've included skrollr.mobile.min.js by default)\nSkrollr 0.6.8: http://www.projects.harrynorthover.com/parallax/0.6.8/\nI've double checked these demo on my iPad and the 0.6.8 version has exactly the same issues as my project. The 0.5.14 as I said early runs fine on iPad. I'm about to test them on Nexus 7 Tablet. \nThanks for your help!\n. Brilliant, thats good news. FYI I've just tested these 2 pages on a Nexus 7 tablet and I have exactly the same issues as on iOS. Also I'm not using smooth scrolling if thats relevant at all. \n. That does actually perform better now, but there is still very noticeable flickering. \n. Yeah I understand, thankfully my office have a few floating around which I can use. I'm happy to keep on testing this for you, do you reckon you've made much progress? What do you think the issue is?\n. Brilliant, thanks for your help! \n. Hey, did you manage to make any progress over the weekend? \n. Hey,\nI've just tested your dropbox link on my iPad and the performance is dramatically improved! There is still a slight flicker occasionally but it has improved a lot. What did you change? \nThis is excellent, thanks! \n. Ah, sorry I missed that. Thanks, I just wrote it out as an example.  Thanks for the quick response!\n. ",
    "andismith": "Just wanted to say that we have used this patch on another project and it has also improved our iPad performance considerably.\n. ",
    "twickstrom": "\"I've merged the changes to master and called it 0.6.9.\"\nOK I looked through github and I can only find 0.6.21. Your drop box file is 0.6.8.\nWhere can we find this latest release that runs well in iOS\n. ",
    "fxck": "the problem with with skrollr version used, but the \"dynamic\" height issue with http://stackoverflow.com/questions/16377868/skrollr-how-to-stop-the-div-stop-scrolling-when-reaching-top-ot-window still stands I think..\n. got it \n. Strangely enough when I do\ndata-100-top=\"background: purple;\"\ndata-200-top=\"background: brown;\"\nit's gonna have brown background right away and change to purple when the element is 100px from the top of viewport... it doesn't make any sense. \n. here's the example with bg being set right away \nhttp://jsbin.com/neqolu/1/edit?html,output\nand here with the second attr working properly \nhttp://jsbin.com/kalora/1/edit?html,output\n. do I perhaps have to work with .skrollable-before and .skrollable-after and set the initial background to something along with !important.. that would probably work, but doesn't really seem right..\n. well... that is pretty strange, in which case could this intended behaviour be useful?\n. or basically when #foo is 2000px, and I use data--200-top to data--300-top, I should get the same result as from data--10p-top to data--15p-top, right??\n. so it seems that it's actually viewport, I've made a couple of changes, introducing ep which stands for \"element percentage\", so given anchor target is 2000px, data--200-top is gonna be the same as data--10ep-top.. \nhttps://github.com/fxck/skrollr/commit/2dd1ca7ab4e8d18b89150b111586ba8f3bb9e9e9\n@Prinzhorn mind taking a look if I didn't f*ck up anything?\n. ",
    "H14": "\nI don't know why the current code doesn't work.\n\nNeither do I, debugging on Windows Phone is tricky, and installing the emulator is quite a hassle on a Mac. I tried to listen to the console on my phone with jsconsole (which works fine). Skrollr isn't throwing any javascript errors as far as I can test. I tried passing a beforerender function to test if it even gets to the point of rendering, but it returns nothing (on desktop it does), but I'm not familiar enough with your code to do more meaningful tests I'm afraid.\nIE for WP has a bit of an odd way of handling viewport stuff, page heigths and fixed positions, maybe this is related, I can't really tell.\n. ",
    "oilart": "It does work on W8 IE10 for some cases when mobileCheck function returns false otherwise content won't scroll. Will check what's going on with debuger. \nCheers\n. @KKS1 is right. In case of a single page app skrollr-body element might be destroyed and created again but calling refresh method doesn't invoke this part https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L277 \nSo that's still an issue for dynamic web sites.\n. @Prinzhorn destroy works fine. However it sets height:auto on html/body elements which breaks page a bit but removing those fixes the issue. Thanks.\n. Removing the element tag from \nvar rxTouchIgnoreTags = /^(?:input|textarea|button|select)$/i;\nsolve the issue. So it need some special handling other than https://github.com/Prinzhorn/skrollr/commit/66d501b53dea05baa7841323ca342f1d1dcd07c1\n. I will upload before/after fix examples so you can test it on mobile.\nThanks\n. So examples are there: \nhttp://khrapko.com/dev/github/prinzhorn-skrollr/index.html\nhttp://khrapko.com/dev/github/prinzhorn-skrollr/fixed.html\nTry to scroll when finger is over input|text area. Both pages are the same but using different skrollr libs. \nCheers \n. ",
    "moonym": "Are you trying to find a solution like this?\nvar menuOffset = '-' + document.getElementById('####').getBoundingClientRect().bottom;\nin skrollr.menu.js\n. ",
    "captDaylight": "yup my bad, misread.\n. ",
    "sebastienrocks": "Yep I was just testing that, it does seem to be the background image (the designers here love huge images).\nSorry for the waste of time, hopefully a preloader will solve the issue.\n. ",
    "StareIntoTheBeard": "Try this at line 644 - https://gist.github.com/JustinWUP/6032497\n. Alright well it can be rewritten slightly to use standard javascript but it worked for our solution which was on a wordpress site which had jquery. Anyway, maybe it's helpful.\n. ",
    "laltaffer": "Does this example answer your questions?\nhttp://prinzhorn.github.io/skrollr/examples/anchor_target.html\nThe blue square doesn't change until the red square is visible. You could change that setup so that the Blue Square/div B doesn't scroll/animate/whatever until the Red Square/Div A has reached a position.  Also seems like you'd want to use the relative positioning syntax to accomplish what you are asking.\nHope that helps.  Or did I misunderstand? \n. Ok cool.  Hey if you can, go ahead and close this ticket. If you can't then I guess we'll wait for a moderator to close it. \n. I haven't had much of a chance to look into this but I clicked your link and it looks like your timeline content animations (the blocks that come in on the left and right) don't animate all the way in until the top of them touches the top of my viewport.  This is all while in Chrome on a Mac Mini.  It could be related to that issue as well.  I'll try to look into why I'm seeing that behavior later in the day.  Hopefully someone else will have time to look too... \n. ",
    "iampliny": "Yup sure does, I see the use of the anchor targets. Great. Thank you.\n. ",
    "emerg": "Hey, thanks for the feedback. I'm actually aware of the timeline containers not showing until they reach the top of the viewport. That's actually the result of a recent change to the website that I made (scaling down some of page elements at the top of the site) scaling down those elements thus resulted in the need to re-adjust the data variables. Thats just some simple math to fix that. My real issue is basically you cant even scroll the site on an ipad or iphone.. no movement at all. I also tend to get an extra scrollbar within the site. like an additional full page scrollbar right next to the browsers scroll bar, as if there's a div with overflow:scroll; \nI dont seem to have any of these issues with skrollrs example, http://prinzhorn.github.io/skrollr/, which leads me to believe there must be something wrong with my markup. I just cant spot it. Any help would be greatly appreciated.\nThanks! \n. Thanks for the help again. I updated the #skrollr-body, but am still having the locked scrolling problem on the ipad. Any other pointers?\nMaybe the best solution is to just strip out everything and then add each element in again, to make sure I dont have an extra closing div or something similar. Also, I've integrated this site with wordpress. I don't think that would be causing any issues, but wanted to mention it incase anyone sees an issue with that.  \nWhat's the required markup to get scroller set up properly? I dont see a #skrollr-body on http://prinzhorn.github.io/skrollr/  and I was using that as an example.\nThis is my basic setup right now.. \n<body>\n<div id=\"skrollr-body\">\n<div class=\"example-div\" data-XXX=\"css:stuff;\"></div>\n</div>\n<script type=\"text/javascript\" src=\"js/skrollr.min.js\"></script>\n</body>\nIs that correct? or am I missing something?\nThanks again, I really appreciate everyone's help. \n. ",
    "RobertinoValue": "Yeah, and the extra vertical scrollbar is caused by the wrong height (6902px)  being written to the body element.\nWhen I change it to <body style=\"height: auto;\"> or <body style=\"height: initial;\"> (in developertools) it is re-calculated by the browser as 6946px. The JS is 44px short somewhere. Probably caused by the changes he made needing a re-calculation, which he mentioned earlier.\n. #skrollr-body is for mobile only, and only when you (also) use other positioning than fixed positioning.\nThe demo page you're looking at is using fixed positioning exclusively. So it doesn't need the id.\nAnd I remember also seeing other positioning in your markup. (Not sure.) When you mix and match positioning (not use fixed positioning exclusively) the id is mandatory for mobile.\nFrom the README.md  at https://github.com/Prinzhorn/skrollr :\n\nYou just told me it doesn't work on mobile, but why does it? The answer is simple. When using skrollr on mobile you don't actually scroll. When detecting a mobile browser skrollr disables native scrolling and instead listens for touch events and moves the content (more specific the #skrollr-body element) using CSS transforms.\nWhat you need in order to support mobile browsers\nStarting with skrollr 0.6.0 there's just one thing you need to do: Include an element on your page with the id skrollr-body. That's the element we move in order to fake scrolling. The only case were you don't need a #skrollr-body is when using position:fixed exlusively. In fact the skrollr website doesn't include a #skrollr-body element. If you need both fixed and non-fixed (i.e. static) elements, put the static ones inside the #skrollr-body element.\n\nFrom the JavaScript : https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L260-L272\n``` javascript\nif(_isMobile) {\n    _skrollrBody = document.getElementById('skrollr-body');\n//Detect 3d transform if there's a skrollr-body (only needed for #skrollr-body).\nif(_skrollrBody) {\n    _detect3DTransforms();\n}\n\n_initMobile();\n_updateClass(documentElement, [SKROLLR_CLASS, SKROLLR_MOBILE_CLASS], [NO_SKROLLR_CLASS]);\n\n} else {\n    _updateClass(documentElement, [SKROLLR_CLASS, SKROLLR_DESKTOP_CLASS], [NO_SKROLLR_CLASS]);\n}\n```\n. After reading the page explaining the IE8 bug, at the first link in the comment by @Prinzhorn above : https://github.com/Prinzhorn/skrollr/issues/271#issuecomment-21444195\nthe following test might makes things clearer :\nIf event data is available in resize handler _reflow, you could check the event.target and ignore every other target than document.body.\nBut first, to determine if event.target really also contains other targets than document.body, add to _reflow  :\nJavaScript\nconsole.log(event.currentTarget === window); //Should be true. Where the resize event was registered.\nconsole.log(this === window); //Should be true. Where the resize event is processed.\nconsole.log(event.target === document.body);  //true when the body was resized (the target of the resize event). false if anything else on the page triggered the resize.\nApparently your IE8 Dev Bar / Developer Tools need to be opened for console.log to work in IE8.\nSee the first comment to the question here : http://stackoverflow.com/questions/690251/what-happened-to-console-log-in-ie8\n. What you write makes sense.\nI had hoped that the result would proof the theory. \nYou/We were just trying to determine if the following was also the case here (from the Blogger article) :\n\nBut some browsers fire resize events when something changes on page. And such a browser is IE8.\n\nAnd thanks for catching my bad, I wrote earlier : \n\nconsole.log(event.target === document.body);\n\nwhile it should have been : console.log(event.target === window);\nOne thing, if there are more active intermediate event handlers, and you are only logging event.target, you have no indication from which event handler you're logging the event.target.\nYou will need to add at least console.log(this === window);. (true if it is the event we're after.)\nAlthough I assume that you already did that.\nP.S.\nI wish that I could also do my own checking and logging. But I forgot to take my notebook back with me (Win7) while I was at a client last Friday. There was no turning back, because the Intercity was already on its way when I noticed.\nEDIT:\nReplace event. with window.event., or e where appropriate.\n. What I meant is that the same intermediate handler, can be attached to different events. resize, click, hover, etc. While only resize and orientationchange would be of interest for this case.\nHere intermediate added to window : https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L277\nAnd here it's added to documentElement : https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L603\nSo I would expect this === window to evaluate to false in the second case, because the event would not be processed at the window object, but at the element object returned by the documentElement property.\nAnd then we wouldn't be interested in the target.\nBut you are right, IE8 doesn't exist on mobile. So we have only one instance of intermediate handling events.\nAlso I didn't realise that event is a sub-property of window in old IE. My awareness and knowledge of IE8 has dwindled towards the dungeons of the internet.\nHave you already tried throttling the event?\n. I wish that I could test this, but I'm not picking up my Win7 notebook until tomorrow morning. It's about 4 hours roundtrip to that client. And I have to be there again tomorrow anyway. Better to combine it.\n\nBut then you're still handling each resize event. Don't you want to wait until resizing has finished, and then handle the last event?\nIf not, I misunderstood. (Just asking. Not trying to know it better than you.)\nI was thinking more about ignoring all resize events, but the last one.\nThe idea is that as long as the resize event fires, you keep cancelling the timed handler of the previous event and do nothing else. :\nJavaScript\n// Parameter scope can be : this, window, etc.\n// Parameter throttleDelay is in ms.\n// When scope is not passed, the method will be executed in the global scope/context (the window object).\n//     null and undefined are replaced by the global object (window).\nfunction throttle(method, throttleDelay, scope) {\n    clearTimeout(method.timerId); // Cancel previous.\n    method.timerId = setTimeout(function(){\n        method.call(scope);\n    }, throttleDelay);\n}\nAnd change https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L1253\nJavaScript\nelement.attachEvent('on' + names[nameCounter], intermediate);\ninto one of these :\nThe 100ms will most likely need tweaking.\nJavaScript\nelement.attachEvent('on' + names[nameCounter], throttle(intermediate, 100));\nJavaScript\nelement.attachEvent('on' + names[nameCounter], throttle(intermediate, 100, window));\n\nI'm doing something similar in my grid overlay scripts (see below) :\nThe code in the event handler below is way too heavy to execute in each resize event.\nI eliminated the throttle function though (one call less) by partially integrating it into the resizeGridCheck function.\n``` JavaScript\n// Variables and functions.\n\n/* SHORTENED ***/\nfunction resizeGridCheck() {\n    $(window).on( 'resize.hashgrid', function(e) {\n        clearTimeout(resizeTimer); // Cancel previous.\n        resizeTimer = setTimeout(function() {\n            if (!overlayOn) {\n                return;\n            }\n            removeVerticalGridOverlay();\n            removeHorizontalGridOverlay();\n            buildVerticalGridOverlay(setGridOverlayContainerWidths()); // Rebuild the vertical grid overlay.\n            buildHorizontalGridOverlay(); // Rebuild the horizontal grid overlay.\n            setGridColumns();\n            if (/webkit/.test( navigator.userAgent.toLowerCase() )) {\n                forceRepaint();\n            }\n            checkForSavedState();\n        }, 100);\n    });\n}\n\n/* SHORTENED ***/\n// Mainline script\n\n/* SHORTENED ***/\n/* Add window resize handler for the active grid system. */\nresizeGridCheck();\n\n```\n. OK, I borrowed a Win7 notebook from someone.\nAnd I ran some quick tests at current master with the test case from the OP.\nOn Win7, IE9 in Browser Mode: IE8\nTest 1)\nWhen I comment the following line : https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L1273\nThe problem is completely gone. Which I expected.\nJavaScript\nbody.style.height = (_maxKeyFrame + documentElement.clientHeight) + 'px';\nTest 2)\nWhen I comment this line : https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L1266\nIE and Dev Tools both hang and become completely unresponsive, with CPU usage at 59%. (Had to kill the processes in Task manager.)\nJavaScript\nbody.style.height = 'auto';\nTest 3)\nWhen I comment this line : https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L1269\nThe problem remains. Doesn't get worse, or better.\nJavaScript\n_updateDependentKeyFrames();\nEDIT: \nThe following file in the test case in the OP is getting 404. I removed it.  :\nhtml\n<!--[if lt IE 9]>\n    <script type=\"text/javascript\" src=\"dist/skrollr.ie.min.js\"></script>\n    <![endif]-->\n. In the line mentioned at Test 1), body.style.height initially increases with 100px. Then I clicked the button to create the first div, and body.style.height increased with 300px. Then the browser/script enters the infinite loop. In this loop body.style.height increases with 16px, each time the event occurs 316px, 332px, etc.\nOn this line in the infinite loop : https://github.com/Prinzhorn/skrollr/blob/master/src/skrollr.js#L738-L739\n_maxKeyFrame is recalculated as increased by 16 pixels, for each event occurrence. So the problem is in function _getDocumentHeight.\nJavaScript\n//#133: The document can be larger than the maxKeyFrame we found.\n_maxKeyFrame = Math.max(_maxKeyFrame, _getDocumentHeight());\nAlas, I have to shoot off to this client, and I do not have the Win7 notebook anymore which I borrowed.\nI will not be back until later this evening.\nBut maybe this is already enough to ring a bell.\nBelow a screenshot showing loggng of _maxKeyFrame where it increases with 16px at each iteration of the infinite loop. After this, I debugged _maxKeyFrame as described above.\n(Just ignore LOG: [object Event]. I forgot to take out logging of  variable e.)\n\n. Just noticed your question. Yes I also did test with the issue_271branch (saved it). But that made me think that the problem is not resolved with any kind of throttling, nor checking for changed window/viewport size. It would be like ignoring the real problem. The (IE8) bug would still be there.\n. It's a ghetto fix. The problem is still there. It only has a band-aid on it now.\nIE8 needs a different calculation in _getDocumentHeight. But it's up to you. Peace.\n. ",
    "sidonaldson": "You could always disable mobile mode if you aren't too bothered about a scrollbar and the other enhancements:\nskrollr.init({          \n            mobileCheck: function() {\n                //hack - forces mobile version to be off\n                return false;\n            }\n        });\n. Absolutely. It's always worth asking.\nIn that case, and assuming I have no control over the parent template, can you offer any tips on how I might be able to get this to work?\nOne thing I have tried is to dynamically add the skrollr-body id to the body tag, and then 'wrapInner' with the content div - however this doesn't work. I was attempting to get the whole page into skrollr.\nThanks\n. ",
    "linuxdog": "My page seems to work right - but much to slow (just on iPad / iPhone). Content is still visible after scrolling to next screen and then, second later reacting and invisble. Moving is not working.\nOn Android everything is running fine and as wanted.\nAny idea? Is this to much for ios?\n. ",
    "cristianocd": "Any improvement?\nI can't figure out what's going on here: http://www.xre300rally.com/_/\nThe background and scrolling get all messed up on iPad. Anyone has experienced something like this?\n. Worked by removing \"skrollr-body\" and including https://github.com/Prinzhorn/skrollr/blob/master/examples/fixed-positioning.css \nAlso, iOS Safari doesn't background-position, gotta move the background in another way.\n. 1 - Read https://github.com/Prinzhorn/skrollr#what-you-need-in-order-to-support-mobile-browsers\n2 - Still stuck? Share your code : bye.\n. ",
    "ziyan-junaideen": "I am trying out Skrollr and in mobiles in general, I am not able to scroll. I mean the browser is stuck right on top.\n. ",
    "jathayde": "Okay, so I've tried the fixed-position.css suggestion from @cristianocd (which didn't work since things are positioned in other ways) and have skrollr-body wrapping the scrollable content.\nScrolling works as planned on iPhone and Desktop (and even android phones) but NOT on tablets, neither iPad nor Android (i only have an iPad to test here, but a co-worker reported the Android tablet issue). The site shows the main screen and does not scroll at all (as if the page is locked in place). This behavior is exhibited in landscape and portrait mode on both the actual device and in the iOS Simulator's Safari. \nIf I implement @sidonaldson 's suggestion, the parallax/scrolling stops working entirely BUT I am able to scroll on an iPad.\nThe only way I can get the scroll working on iPad is to strike the height attribute from the following code, which then breaks the homepage layout setup (designed to size to the screen as it loads)\n```\nskrollr-body {\nheight: 100%;\n  position: relative;\n  width: 100%;\n}\n```\nAlso, locally I've stripped out all extra javascript, including jQuery and it's subordinates (so there is only Skrollr). in Chrome's emulation, the locked screen only happens when body has a class of skrollr-mobile but it does work fine when it has a class of skrollr-desktop\nIn the wild: http://www.cargosense.com/\n. So apparently, my error was due to the min-height. I set it to a pixel for the tablet (it was already set for the iPhone) and it works. Maybe that helps someone else. argh.\n. @jorybraun - no such app at that URL. did you dry the min-height hack? I'd pull up the iOS simulator (inside the xCode bundle) for accurate mobile Safari testing. \n. Yeah. If I recall, I had it in a media query for the Tablet/iPad, but not the phone, so I was having this issue. When I cloned that rule into the iPhone specific media query, it fixed it. We since removed Skrollr due to some jumpiness for certain browsers, so I can't test it right now on our site. \n. Jory - All I can say is that I did the 1px hack and it worked for me at the time with the site I was building (which only used Skrollr for parralax on images). The site (which now has the plugin turned off due to browser jumpiness complaints from customers) is www.cargosense.com.\n#skrollr-body {min-height: 1px;}\nI don't know Skrollr that well and if @Prinzhorn has no suggestions, I'd disable it on mobile until you can get his input. \n. ",
    "natashavg": "This from boboroshi helped me as well: #skrollr-body {min-height: 1px;} but for me this was needed for the iPhone.\n. ",
    "Jorybraun": "Ughhh\nI am having an issue with mobile even though google is lying to me with the dev tools Iphone 4 things are not position right they are stacking on top of each other \nwww.jorycms2.herokuapp.com\n.  jorycms2.herokuapp.com\n. https://github.com/Jorybraun/personal-website\n. i put a min height inside the skrollr body , should that be in a  media query? \n. I just put the a media query into the skrollr body \nskrollr-body\nposition: fixed\ntop: 0\nleft: 0 \nwidth: 100%\nheight: auto\n@media screen and (min-device-width: 320px)\n    min-height: 1% \n@media screen and (min-device-width: 480px)\n    min-height: 1%\n\nThis just stacked things higher up on top of each other\n. it seems like the skrollr body isnt actually fixed, as the first div is in place and the rest are below it stacked up, I have my skrollr body inside a fluid-container it might be the issue for mobile, as it seems the body stretches so far down\n. is there no answer to this problem, im probably missing a previous issue. How ever it appears that every one just turns skrollr off for mobile is there no soloution?\n. yeah so skrollr-body is fixed, everything else is absolute\n. Can i just clarify: \" since Skrollr-stylesheets is not dependant on skrollr, does skrollr need to be present to work?  I just cant find any relevant examples \n. I have a skrollr-body and it wont work\n. Ha , im using so many things, Lomotive CMS which is rails \n. I really don't i'm just going to scrap the whole project.\n. ",
    "ldiaz": "Hi, maybe have you checked http://squarespace.com/seven/interface, somehow they have manage to have some elements with relative position and some with fixed position within the skrollr-body for the mobile version. \n. ",
    "maurocolella": "While using the HTML boilerplate, I faced the same issue. An absolute positioned element, with a z-index and a specified height, would apparently collapse to a null height when used with skrollr on mobiles. Hence: nothing more to scroll in my viewport. I would be stuck at the top.\nThe absolute positioned element was a nested child of #skrollr-body\nI had to remove the class \"clearfix\" from that element in order to resolve the issue.\n/*\n* Clearfix: contain floats\n*\n* For modern browsers\n* 1. The space content is one way to avoid an Opera bug when the\n* `contenteditable` attribute is included anywhere else in the document.\n* Otherwise it causes space to appear at the top and bottom of elements\n* that receive the `clearfix` class.\n* 2. The use of `table` rather than `block` is only necessary if using\n* `:before` to contain the top-margins of child elements.\n*/\n.clearfix:before,\n.clearfix:after {\n    content: \" \"; /* 1 */\n    display: table; /* 2 */\n}\n.clearfix:after {\n    clear: both;\n}\nHowever, the bug appears on both Google's Blink, and plain vanilla Webkit on iOS. \nGiven the variety of reported \"cases\", and the fact that a few of them involve setting a default height for the #skrollr-body, or a similar modification, I suspect it has something to do with the way skrollr handles heights in mobile mode.\n. Yes @Prinzhorn. And thank you for the lib, it's really nice. I am using version 0.6.29.\n. I'll try when I am done.\nOn Sat, Nov 22, 2014 at 8:13 PM, Alexander Prinzhorn \nnotifications@github.com wrote:\n\nIt would be great if one of you could create a very simple demo page which\nmakes this reproducible.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/Prinzhorn/skrollr/issues/265#issuecomment-64078351.\n. \n",
    "isaacalves": "I'm using skrollr on a page that has only fixed positioned elements, and it works well on desktop, iOS and Android devices. Except for one thing - I have a function that shows/hides a fixed navbar, and it is called upon the scroll event, defined on the (jQuery wrapped) window element. It works normally on desktop, but on iOS and Android devices, the scroll event doesn't fire (and the navbar remains always visible).\nps: I don't have the \"skrollr-body\" id on the body element. As far as I know I don't need that if I only have positioned elements. I tried that anyway, but then the page turns blank on Android.\n. thank you!\n. thank you!!!! took me ages to realize it needed a unit for 0\n. ",
    "colin-johnson": "Hey, thanks for the plugin, it's working great on the desktop version of my site, but I'm having problems on mobile. I've included the #skrollr-body tag to contain all the content that needs to scroll on mobile. But when viewing the site on mobile it just scrolls from the top of the site all the way to the bottom, and vice versa, and keeps repeating this.\nView it live on a mobile device here: http://ai.risingsenior.vdsla.com/\nCould you please help me find a solution to this? This project is due in a day or two and would greatly appreciate a descriptive solution to this problem\n. ",
    "stevenheijtel": "Here the same problem in some occasions, reason is Skrollr calculates the height of the page before all images are loaded. Moving skrollr.init() to window.load does the trick for me:\n/* jQuery */\njQuery(window).load(function($) {\n  var s = skrollr.init();\n});\n. ",
    "ndeniche": "Silly me, is that what refresh() is used for? Nevermind my ignorance. Still, I think I might be using it wrong\n. ",
    "ksgt00016758": "Thanks you support. \n. ",
    "Madebym": "Thanks for the reply. I don't get this part \" Even if you're not using a menu, skrollr-menu will handle everything that is hash related.\"   Does this mean that hashs should be updated by themselves if using the skrollr-menu?\nWhat is your suggestion to easily change href's while scrolling from one section to another? \nAlso, here is the link so you can see for yourself-http://m10.auroralighting.com/m10-temp/index.html\n. Ok, thanks. I think there is a plugin history.js which leverages the functionality for older browsers. Also, a dirtier solution came to my mind, all of my sections are in pixels, I could use plain if/else to change the hash if the user is in that section. \nAnyway, thanks for the help and the plugin.\n. Ok, but how do I create a sprite based animation with fixed div that stays let's say 200px from the viewport? I need to play the animation as the user scrolls down, but the element needs to be fixed while the animation is playing, so that it stays visible all the time.\nThanks\n. Basically, how should my keyframes look like if I am using relative document mode?\n. I'll put something up now.\n. Here is the link: http://madebym.me/test/skrollr-test/\nThe first animation is playing nicely, it is a fixed element with absolute document mode.\nThen in the third section there should start another animation, also with fixed element. The image there is just to show where should it start. It has relative position for this purpose.\nI don't want to use absolute document mode for the second animation, I would like to use relative. So, let's pretend that the element in the third section is fixed, how should I define my keyframes and play the animation?\n. Thanks! That seems the only way of doing this. And it works.\n. ",
    "Shadowstep33": "Sorry to comment in a closed section, but I am having a problem using skrollr-menu and skrollr in conjunction. Did you ever implement the auto changing hashes? When I try to manually update the hash using window.location.hash = newHash the page always jumps back to the top. Even when I load the page with a hash in the URL, it doesn't auto scroll to that section. It just always starts at the top. I can create a new ticket if need be. \nYou can see what I mean more specifically and look at my code here: http://go-david.com/fsc/\n. I had a feeling it had to do with fixed positioning. No, I'm not positive it is an issue with skrollr, I still have a lot of work to do on the site so was curious if you knew anything about it. I managed to get it partially working as far as updating the href using waypoints if you are interested. The code below does the trick (when placed inside the waypoints handler):\nhistory.pushState({top: s.relativeToAbsolute(this, 'top', 'top')}, '', \"#\"+jQuery(this).attr('id'));\n. Even when the target location is below the current one? \n. Odd, because for me it was only doing it when the target position was below the current position. And it wouldn't scroll all the way to the top of the window, just to the closest parent level element it could find and then would animate towards the target. Again, this was only for target elements lower down the DOM tree. When going to one higher up, the animation occurs fine. \nAt any rate, to deal w/ it I began using s.setRelativetoAbsolute (function name might be slightly off) and keeping a mapping of the desired locations since I had/have to do some operations on them in order to add some parallax interactivity. \n. Oh, well yes. It seems obvious that that behavior would not cause a scroll, animation, or easing. Which is why I am using Skrollr haha\n. ",
    "lolmaus": "\n@Shadowstep33 \nWhen I try to manually update the hash using window.location.hash = newHash the page always jumps back to the top. \n\nThat's the intended behavior of window.location.hash.\n. @Shadowstep33, when you update the window.location.hash with an anchor name, the browser scrolls the page to the anchor of the given name. It always does it, in both directions, unless you update window.location.hash with the same value as the current value or with a value that isn't represented by an anchor on the page.\n. @Shadowstep33, i was talking about native window.location.hash behavior, without Skrollr interfering.\n. I have implemented updating browser URL with current page section's anchor.\n- Demo: http://jsbin.com/gozota/3\n- Source: http://jsbin.com/gozota/3/edit?html,js\nPrerequisites:\n- The content skrollr-body is comprised of sections stacked on top of each other.\n- Each section has an id.\n- There's a fixed menu.\n- Each li of the menu is data-anchor-targeted to corresponding page section and has Skrollr effects applied relative to the page section.\n- lis contain links to page sections, e. g.: <a href=\"#section-1\">Section 1</a>.\nThe trick relies on the fact that when the above prerequisites are met, Skrollr applies the skrollable-between classname to menu items corresponding to page sections that are currently on screen.\nThe action takes place in Skrollr's render callback which get fired during scrolling. I had to throttle the callback, otherwise it would fire too often.\nThe callback filters the set of menu items to contain only skrollable-between ones, then selects one of them (either first or second) and extracts the anchor from its link's href attribute. Then it applies the anchor to the browser URL.\nIt works beautifully. The only problem i've had is with opening an anchored URL in a new tab. Skrollr would fire the render callback before applying the skrollable-between classnames. Thus, scroll position and browser URL anchor would reset. :(\nTo avoid that, i had to cache the anchor from the browser URL, then use skrollr-menu to scroll to the given anchor. I failed to come up with anything better than doing it with a one second timeout. :(\n@Prinzhorn, can you suggest how to avoid the ugly timeout? Also, if you find my approach witty, i'll be happy to publish it on the wiki, just tell me to.\n. Done!\nhttps://github.com/Prinzhorn/skrollr/wiki/Tips#update-browsers-url-hash-idanchor-on-scrolling\n. @Twansparant, CoffeeScript is intended to be converted into JS, just make a tiny effort to google it.\n. @Twansparant, jQuery is a library, not a language. Both your JS code and my CoffeeScript code make equal use of jQuery.\n. @Twansparant, assembling a different URL based on the current locale?\n. Okay, my problem was that i hadn't read the documentation attentively enough.\nThank you, @Prinzhorn.\n. ",
    "Twansparant": "This looks great and is the last thing missing in my one-page Skrollr website!\nHowever I never worked with Coffeescript before.... Is there a way to convert this to jQuery?\nThanks a lot!\n. I did actually, doesn't change the fact that it's a language I don't speak (yet).\nAnyway, I think I got it correct like this in jQuery:\nvar $window                  = $(window);\nvar $menu_items              = $('.menu-item');\nvar current_classname        = 'current';\nvar original_menu_item_hash  = $menu_items.find('a[href=\"' + window.location.hash + '\"]').get(0);\nvar original_menu_item_title = $menu_items.find('a[title=\"' + document.title + '\"]');\n// Init Skrollr\nvar s = skrollr.init({\n  forceHeight:      false,\n  smoothScrolling:  true,\n  render: $.throttle(500, function(skrollr_data) {\n    var $active_menu_items;\n    var $current_menu_item;\n    var href;\n    var title;\n    $active_menu_items = $menu_items.filter('.skrollable-between');\n    $current_menu_item = skrollr_data.curTop < $window.height() / 2 ? $menu_items.first() : $active_menu_items.length === 1 ? $active_menu_items : $active_menu_items.length > 1 ? $active_menu_items.eq(1) : $menu_items.last();\n    if ($current_menu_item.get(0) === $menu_items.get(0)) {\n      title = $current_menu_item.find('a').attr('title');\n      document.title = title;\n      return typeof history !== \"undefined\" && history !== null ? typeof history.pushState === \"function\" ? history.pushState(null, null, window.location.pathname + window.location.search) : void 0 : void 0;\n    } else {\n      title = $current_menu_item.find('a').attr('title');\n      document.title = title;\n      href = $current_menu_item.find('a').attr('href') || '#';\n      return typeof history !== \"undefined\" && history !== null ? typeof history.pushState === \"function\" ? history.pushState(null, null, href) : void 0 : void 0;\n    }\n  })\n});\n// Init Skrollr Menu      \nskrollr.menu.init(s, {\n  animate: true,\n  easing: 'swing',\n  duration: function(currentTop, targetTop) {\n    return 500;\n  }\n});\nif (original_menu_item_hash) {\n  $.delay(1000, function() {\n    return skrollr.menu.click(original_menu_item_hash);\n  });\n}\nA little addition from my side;\nThe Skrollr's render callback will also update the document title in your browser window (if your menu links have titles that is).\nI still have some problems with the url hashtag update though;\n\u2022 If I scroll, the url and document title are updated exactly at the point where the the section hits it data-menu-offset so that's works wonderfully!\n\u2022 But when I directly click on one of the nav items, it shows the url and document title from the section above it. When I scroll just 1px, it does update correctly.\nSo when I debug with console.log($current_menu_item); it outputs the section above the one I clicked. Any idea what might be the issue?\nThanks!\n. Ok thanks!\nI've got an different issue with this technique, I have a multilingual website with url http://www.domain.nl for the default language and url http://www.domain.nl/en/ for the english version. However when scrolling through the English website, the updating of the href's removes the /en/ part of the url... \nI know the issue lies in these lines:\nhref = $current_menu_item.find('a').attr('href') || '#';\nhistory.pushState(null, null, href)\nHow can I avoid this?\nThanks!\nSorry, this was actually quit easy...\nI added the language codes as a body class, and then added the check:\nif ($('body').hasClass('en')) {\n  href = '/en/' + href;\n}\n. Yeah exactly, updated my question.\nShould have thought of that before I asked, sorry!\n. It's probably caused by images (or other content) that are not loaded yet, which results in a smaller document height on init. Try wrapping the skrollr refresh function in the imagesLoaded callback:\n$('#skrollr-body').imagesLoaded(function() {\n   s.refresh();\n});\nhttps://github.com/desandro/imagesloaded\n. ",
    "madisonbullard": "My apologies. Should work now.\n. OK sounds like its Chrome's issue.\nThanks for some amazing code! Really love what you've done.\n. ",
    "ourmaninamsterdam": "The reflow still happens. It's an interesting one.\nOn 23 July 2013 15:34, Alexander Prinzhorn notifications@github.com wrote:\n\nInteresting, I need to take a closer look at it.\nFor now, does it work as a workaround to only refresh the elements that\nneed to be refreshed? E.g. s.refresh(document.querySelectorAll('#mydiv\n*'));\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Prinzhorn/skrollr/issues/271#issuecomment-21418151\n.\n. Can confirm that enabling forceHeight: false stops the reflow from happening. If I get some time I might be able to measure the trigger time.\n\nI'm running it using IE8 mode in IE10 on a Windows 8 VirtualBox VM.\n. You are correct in that it triggers on the <body> height style update.\nI finally managed to get the timestamp before the browser crashed.  Not sure if they're much help but here are the trigger timestamps.\n1: 1374870621221\n2: 1374870621227\n3: 1374870621251\n4: 1374870621266\n5: 1374870621277\n6: 1374870621286\n7: 1374870621299\n8: 1374870621313\n. Sorry man, got a deadline today so haven't had time to fully look at this,\nhence my fuzzy thinking with the timestamps.\nLook forward to seeing the fix as we are using this on a production site\ngoing live in a couple of weeks.\nOn 26 July 2013 15:04, Alexander Prinzhorn notifications@github.com wrote:\n\nGreat. But the timestamps themselves don't help much without reference. I\nneed to difference (timestamp when the resize event fires _minus_timestamp when the style was changed). If that's close to 0, that'd be\ngreat.\nBut never mind, I'm gonna change the code the way I guess it's correct and\nwill post a link to a dev version you can drop in and test with.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Prinzhorn/skrollr/issues/271#issuecomment-21622548\n.\n. Tested. Still freezes I'm afraid, but not immediately, as before.\n. Have logged the event in the resize handler in the intermediate function within _addEvent and e.target is always null. Thus e.target  === window always equals false.\n. Yes. \nThe event object is being passed as I can log some properties, i.e. e.clientX and e.type.\n. It's because the srcElement (target) doesn't exist as the window is the one triggering the event, not a specific element.\n\njavascript\ndocument.querySelector('#resize').attachEvent('onclick', function(e){\n    console.log( window.event.srcElement ); // LOG: [object HTMLButtonElement]\n});\nwindow.attachEvent('onresize', function(e){\n    console.log( window.event.srcElement ); // LOG: null\n});\n. There's only a single intermediate event handler in skrollr.js to shim the IE events. \nI had done this === window and it was/is validating as true and should always be true, regardless of the event trigger, as the event in old IE is a sub-property of window. So in theory you could check for null on window.event.srcElement (not sure on the solidity of this method) to indicate that window triggered the event.\nI don't mind doing some testing where I have the time. I know what it's like when you just want to get your hands dirty within some testing and your hands are tied.\n. Great. I can test this later on today and get back to you.\nOn 30 Jul 2013 09:05, \"Alexander Prinzhorn\" notifications@github.com\nwrote:\n\nI just booted a Win7 VM (which worked well even though it expired long\ntime ago). And the issue_271 branch solves the issue for the test\n@ourmaninamsterdam https://github.com/ourmaninamsterdam provided. After\npushing the button the element gets added without an infinite loop. I can\nadd as many elements as I want.\nIf someone confirms this, I'm gonna merge it to master.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Prinzhorn/skrollr/issues/271#issuecomment-21775391\n.\n. @Prinzhorn - Good news! Have tested with IE8 in my Windows7 VM and with IE8 IETester and all works well. Like you I can add as many elems as I like without issue. \n. Fantastic! Great work on fixing this. Thank you.\n. \n",
    "Pixelous": "Sorry, works but not too good unfortunately because of Revolution Slider engine.\n. Sorry, double post.\n. Sorry guys I did place init function in a wrong place. Everything work just fine!\n. ",
    "kenjilabs": "browsers have different scrolling speed (delta) for example firefox use 34px and IE explorer uses 120 px for scrolling. \ni figure it out just added event to override default scrolling speed \nskrollr.addEvent(window,'mousewheel DOMMouseScroll',grabScroll);\nthanks\n. ",
    "sebastiangraz": "Of course, new version uploaded at: http://sebastiangraz.com \nEDIT: I found the problem and it was weirdly caused by the css property body {overflow-x:hidden;} I hope this helps for anyone else who might experience this similar problem\n. ",
    "lewtw87": "Ah ok, guess I have to come out with another solution. Thanks for your reply by the way, it's an awesome plugin.\n. ",
    "kbrabrand": "Hi, Alexander.\nSorry for the late answer - I've been busy lately, so this hasn't been at the top of my list..\n- Performance impact. I haven't tested it specifically, but based on the fact that an event is emitted for every scrolled pixel and tons of events being emitted when moving the mouse marker around the page (mousein, -over and -out etc.) I think it's safe to assume the bottleneck is the event handlers and not the events themselves. One should use throttling of some sort to avoid the handler from being fired more often than once every X or Y ms.\n- Direction. See your point. I would however argue that it's usefull as is too. It allows the user to make something happen with some other element than the one that is before/after/over. For instance menus or the like. I'm guessing this could be implemented later or by someone else easily, I haven't got the time right now.\n- Emit event on every keyframe. I guess you could do that, but then we're talking a lot of events, and some more testing should be done before pushing that into the master I guess to avoid making everything to sluggish..\n1. aug. 2013 kl. 09:57 skrev Alexander Prinzhorn notifications@github.com:\n\nLooks good, I like the idea to emit the events right on the element. This is gonna help a lot when implementing #192\nI have some concerns with this solution though\nIsn't this going to affect performance when I have 100 elements and each triggers events even though I only need some of them? Maybe instead of the emitEvents option there should be an attribute per element (e.g. an empty data-enable-events attribute).\nFor it to be really valuable there are some infos missing. For example the skrollrBefore event needs to pass some event data which tell the direction.\nMaybe we should extend this to emit an event for every keyframe, not only the first/last. That's basically what #192 is about\n\u2014\nReply to this email directly or view it on GitHub.\n. Hi, @Prinzhorn. It's a long time since i opened the pull request, but I remember testing it in some version of IE - I'm guessing 7/8. The code also mentions IE events, so I'm pretty shure it worked at the time of opening my pull request.\n\nWith regards to your mention of the missing fireEvent support, it looks like I covered it with some check about where I set the SKROLLABLE_OLD_IE_EVENTS variable in my original PR code, and firing the dispatchEvent method instead of the fireEvent for old IE.\nI'm sorry but I don't have more time to dig into this right now.. Good luck on finishing the feature and happy easter!\n. ",
    "davewallace": "I'm a bad person for implementing it the way I have, as I'm on the clock here, but I threw a dirty...\nY.fire({'type':'skrollrUpdateClass', 'element':element, 'classesToAdd':add, 'classesToRemove':remove});\n...onto line 1486 in your source, inside _updateClass(), so I could make use of an element with a newly applied 'skrollable-*' class added.\nIn my HTML I then added data attributes, like so:\ndata-skrollrCallback='updateScrollingNavigation|{\"lockedState\":true}'\ndata-skrollrCallbackOncePerRender=\"true\"\nAnd then render event callback cycles through a NodeList of all callback tagged elements, tests if they're 'between', and executes their data-skrollrCallback with JSON parsed args.\nI have a callback lock toggling system also, so that callbacks can be executed repeatedly (default behaviour), or once and then locked until 'skrollrUpdateClass' fires and we're either 'before' or 'after' instead of 'between' - at which point I unlock the previously locked callback.\nRender function:\nskrollr.init({\n    render: function (data) {\n```\n    if (skrollablesWithCallback) {\n        skrollablesWithCallback.each(function (n, idx, li) {\n        var callbackData, callbackArgs, callbackMethod,\n            callbackOncePerRender;\n\n        if (n.hasClass('skrollable-between')) {\n\n            callbackData = n.getData('skrollrCallback').split('|'),\n            callbackMethod = callbackData[0];\n            callbackArgs = callbackData[1];\n\n            if (callbackArgs) {\n                callbackArgs = Y.JSON.parse(callbackArgs);\n            }\n\n            callbackOncePerRender = n.getData('skrollrCallbackOncePerRender');\n\n            // execute callbacks intended to be called repeatedly for the duration\n            // of a transition\n            if (callbackOncePerRender !== 'true') {\n                K.Pageload[callbackMethod](data, callbackArgs);\n            }\n\n            // when unlocked, and run-once only, execute callback and then lock it to\n            // prevent repeated executions during transition duration\n            if (callbackOncePerRender === 'true' && !n.getData('skrollrCallbackOncePerRenderLock')) {\n                K.Pageload[callbackMethod](data, callbackArgs);\n                K.Pageload.updateElementRenderLock(n, true);\n            }\n\n        }\n\n    });\n}\n\n//K.Util.message('skrollr says, \"Current scroll position is '+data.curTop+'px.\"');\n\n}\n```\n});\nskrollablesWithCallback = Y.all('.skrollable[data-skrollrCallback]');\nIt's clearly a disease-infested hack, however it does work efficiently enough to:\na) fire an _updateClass related event\nb) do things based on the classes applied to the element\nc) execute a per-element callback, with args, once or repeatedly\nWhat it's missing, is a way to restrict executing a callback when a transition on an element is complete, as 'skrollable-between' can mean \"transitioning in\", \"transitioned fully\" and \"transitioning out\", with no way that I can see to determine at which point we're at (I tried a few things with isAnimatingTo() to no avail).\nPerhaps this could just be a terribly implemented but useful proof of concept for you :D\n. ",
    "tjtokar": "Yeah it happens on the demo too. Chrome and Safari. It defintely has to do with the bounce. I think it might be related to the fact the scrollTop is negative. I'm just using a copy of your demo script. Do you think it could be that getScrollTop() is returning a negative number? Maybe we could force getBoundingClientRect to 0 instead of undefined?\n. May have to scrap this for the site. I don't know if it is because im trying to do to much but opened the page in safari and its all over the place same with the demo. Scrolling is very jumpy even just changing the background positioning is very choppy. \n. ",
    "pixelchutes": "When I do a git clone against HEAD and test skrollr/examples/snapping.html on mobile Safari / iPad, if I attempt any kind of scroll, the script seems to take over, and scrolls through A, B, C and doesn't stop till it gets to D \nThere is no controlling this behavior -- if you attempt to scroll back up, the script forces everything back to D\n. ",
    "istiti": "ok :(\n. ",
    "juniorgasparotto": "Hello,\nI'm tryng understand if it is a problem or behavior too. But, only to help-me to understand, How do I execute the last frame (with margin:0 in body) in this example?\nThanks a lot\n[]s\n. Tks, but I have a one question, in this example, The margin is not counted in the scroll?\n. ",
    "panych": "The solution that I see is: \n1 use position: absolute or other \n2 remove scrolling (scrollbar), and listern for mouseweel and other \"scroll\" events\n3 based on those events, control scrolling process in plugin. \n. No, @PsykOlivier I want to use mousewheel, as well as keyboard or touch for playing my animations. But I don't need a scroll itself. I expected that I would be able to control Skrollr animation process by some API or something, insted 'native' scrolling. In this case Skrollr would be as a main timeline. For example: \njs\nvar mySkrollr = new Skrollr();\nmySkrollr.progress(0.5); // go to 50%\nI can listen those \"scroll\" events (mousewheel, keys, etc.) and create some interlayer between plugin and scrolling process. But it seems that Skollr only work with native scroll process.\nThis issue can be closed, because this feature probably doesn't match Skrollr philosophy (simple and ease). \nCheers.\nP.S. If you want to know how I solved my problem, I used GSAP library which is more complicated but much more flexible.\n. ",
    "PsykOlivier": "Hi Panych,\nIf i understand what you say.... :\nYou would like to disable the mousewheel, and use only item menu to go an to animate ?\n. Sorry... i found how to fix the problem.\nIf i use \" window.onload = function() \", to call my JQuery Scrollbar, it does'nt work.\nAnd if i don't use it, it's work... :/\nThank you ^^\n. ",
    "sentisoft": "I found if I edit this part ... \na.style.height=Et+o.clientHeight+\"px\"\nto this \na.style.height=\"auto\"\nempty space is removed.. but if this is secure to remove??\n. and its look like also this part of code also create issues... \ndata-0=\"opacity:1;left:0%;\" data-4900=\"opacity:0\" data-5200=\"opacity:1\">\nwhen I change to this.. and I actually I reduced data-\"number\" to be less for one thousand\ndata-0=\"opacity:1;left:0%;\" data-3900=\"opacity:0\" data-4200=\"opacity:1\">\nand now there is now empty white space... is this what need to be done.. I guess this data-4900 mean 4900px height.. and browser forced to be more longer than it site is... so if I remove section than I need to reduce data-\"number\" to correct height... is that right.. or this can be reduced with some other solution.. thanks...\n. great.. thanks\n. ",
    "KKS1": "thanks, I will try that out some time next week.\n. no, i am loading the script in the head tag.\n. ",
    "kordero": "Ok, just removed some white spaces on empty lines in order to remove build errors. The push seems to be ready to merge now.\n. Gotcha, so removed the weird approach of pause because of doubts about breaking events according to a state variable. Now there is an even more interesting functionality: reset. It stops the animation frame loop and then tries hard to undo each event/dom resource touched by skrollr when it was running.\nThe goal of this last change is to replace pause method with reset and unpause with the ability to reinitialize a new skrollr instance without any trouble, which seems to be working fine for me btw.\n. Yeah it's completely different than pausing but it fits my needs: In my application I need to be able to roll back every little change done by skrollr and -sometimes- create a new instance. It resets all styles, events and classes added/removed by skrollr. What do you think about? I could make styles and/or classes reseting optional if you think it shouldn't always do that.\nThanks for your time!\n. Thanks for your code review! :) about to test, commit and push...\n. Let me know if you still need to support pause/unpause functionality too, I could work on that by next weekend if you don't mind, ttyl!\n. sure, on it right now. I'm planning to do it as quick as I can cause I really need it too, will update asap, thanks! ttyl!\n. ok, so I reverted my attempt to send a destroy event to plugins, will try to contribute with that on another issue.\n. Done, sorry for delaying, I missed your last comment, thank you very much!\n. I'm not sure that will work for detachEvent since I coded this method based on the _addEvent code, if you take a look at that function you're wrapping the callback too there for browsers that doesn't have the addEventListener method. Will wait for you to to confirm me to make the change you are requesting (same for your comment about removing the intermediate wrapper).\n. That's the way I have to check whether the event has been added to requested element and callback through skrollr or from outside. If I remove this loop then _removeEvent will be able to detach/remove any event to any element no matter it was added by skrollr or from any other external process/behavior.\n_removeAllEvents does a similar loop but that's just in order to figure out which events have been added by skrollr and then make the call to _removeEvent on each one of them.\nI can get rid of the _removeEvent loop anyway if you still think so, just let me know.\n. This call to _reset makes sure all inline-styles and classes added/changed to all elements parsed by skrollr will be remembered for future undone, if you remove that line and then try a destroy call you will notice that many elements will have an \"undefined\" class as result. It seems that when trying to call _reset with the undo parameter some elements doesn't have their dirtyStyleAttr and dirtyClassAttr properties.\nI'm keeping it there until I found the cause of the undefined class issue.\n. Ok, forget about my last comment here, I changed it according to your idea, actually there ir no risk about removing external events since _removeEvent and _removeAllEvents are both on the private scope, we should just be aware of that.\n. Alll these variables are being reinitialized according to the \"Private variables\" section at the bottom of the script.\n. Done, please check my comment below, you also might want to initialize all these variable on a new method/function and just declare them in the private variables section without values in order to initialize and reset them through the same lines of code (avoiding duplicated code).\n. ",
    "Robinfr": "Funnily enough, I seem to somehow have a version with the pause/resume functionality and I need this in my application. Is there any way this could be implemented in the latest version?\n. I had 0.6.25 and somehow had this functionality.\n. No I mean the actual pausing of the events that are being captured by skrollr. And I upgraded to the latest version and copied the functions and implementation over. The implementation seems awfully the same as what is being discussed in this conversation by kordero.\n. As far as I can see in the git history I haven't. But maybe I've replaced it somewhere along the line, anyway it would still be nice if this functionality would be in the real version. It's useful to pause Skrollr, for example, when modals pop on top and you don't want the page behind it to scroll while the modal is active.\n. Is it also possible to have multiple callbacks? And add them dynamically during runtime? If not, then it does not have the same level of functionality as being able to bind to the scroll event.\n. I am moving multiple elements around based on the scroll event. They are limited in where they can start moving and up to what point they can move. However, the scroll position is being used for calculating the positioning and several other CSS properties.\nSince the scroll event on the mobile only gets fired during the actual scroll and not during the deceleration, it makes for quite the weird effects (elements going off screen even though they should stay centered).\n. To allow Javascript to execute while scrolling on mobile devices. And also for a parallax effect in some parts.\n. You are correct, the scrolling event is not fired. Instead on mobile I use the touch events to determine if there has been scrolled and then use Skrollr to determine the scroll position. I think I've just realized my problem.. These events are of course not fired when you let go.. Ahh. Well this helped me in the right direction!\n. ",
    "mulhoon": "I agree. I'm trying to pause skrollr so that i can use scroll events in a modal on top of skrollr. Is there a way to release the events. If I destroy skrollr then it scrolls to the top while the modal is open.\nThanks\n. ",
    "jballou": "Ah, I see. Thanks for the head's up! I'm just going to use an if/else statement instead then.\n. ",
    "dustinlocke": "I'm having the same problem.\nselfiejar.org\n. ",
    "chinciusan": "You could try setting the #skrollr-body id to the body tag. It did the trick for me.\n. ",
    "Cartmaniac": "All I do with skrollr is the bg-pos animations. But yes, If I disable the skrollr, the page \"works normally\".\nI'll try and disable one at the time and see which one is causing the flickering. Probably the one on the bottom srolling a large PNG with brands.\n. ",
    "moemos": "Hi,\nthanks for that hint. But how to do this?\nontouchstart or ontouchmove with preventDefault at the iframe won't work. :(\nBest regards\n. Finally CSS did the job for me. :)\ndiv.video iframe{\n  pointer-events: none;\n}\n. ",
    "heavysixer": "@moemos i am trying your solution, but when i disable pointer events I can no longer start the video. How did you solve this problem?\n. I was unsuccessful in monitoring the touch for the iFrame because in my case those touch events are passed though to a different domain (Youtube), and I don't have access to that document. This means that Skrollr is unaware of the touchstart or touchend events and the _mobileOffset gets out of sync. \nI was not able to get around this completely but was able to minimize it somewhat by doing the following:\n``` javascript\n    Skrollr.prototype.setScrollTop = function(top, force) {\n        _forceRender = (force === true);\n    if(_isMobile) {\n        _mobileOffset = Math.min(Math.max(top, 0), _maxKeyFrame);\n        var offset = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n        if(offset > 0) {\n            window.scrollTo(0, 0);\n            _mobileOffset += offset;\n        }\n    } else {\n        window.scrollTo(0, top);\n    }\n\n    return _instance;\n};\n\n```\nEssentially at the point the mobileOffset is applied we see if there is any current value in the scrollOffset. We apply any offset to the _mobileOffset value and then reset the window scroll to (0,0). \nOne suggestion would be to expose the _mobileOffset as a getter / setter so that developers could augment this if needed. Then we would not need to hack around in the lib directly. Anyway @Prinzhorn thank you for the great library. \n. ",
    "Larzans": "This is a great fix heavysixer, even though it does not really fixe the whole problem, it at least makes the page usuable again.\nThe only thing that was missing really is the fact that you still DO scroll with the iframe and therefor the navigation menu is hidden and unfortunately it is not brought back by scrolling with the code, browsers expect this to be done by user interaction :(\nBut you should still creat a pull request for this one, it is definately better than the current function!!\n. You could always put another transparent div over the iframe and catch the pointer events there to then execute some desired action.\n. Safest thing to do is use the php api...\n. ",
    "nickkraakman": "Hi, the same has happened to me:\nI used an object> tag to display SVG icons. However, on mobile I'm unable to scroll on top of the SVG's. I tried adding pointer-events: none; but this did not work.\nThis is my website: http://www.purplepillvr.com/\n(First two icons on the page are SVG)\nIs it maybe possible to disable skrollr on  tags?\n. Hi Alexander,\nThanks for the reply. I switched to using  tags to show the SVG files\nand an iferror with a PNG as a fallback. This works. Don't think Skrollr\nwas the problem after all. It's just that the mobile browser sees the\n as something you can interact with, so when you put your finger on\nit to scroll, it does not scroll but instead tries to perform an action on\nthe \n2014-12-12 18:09 GMT+01:00 Alexander Prinzhorn notifications@github.com:\n\n@kregus https://github.com/kregus there are no  tags on the\npage you've posted.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/Prinzhorn/skrollr/issues/307#issuecomment-66802409.\n. \n",
    "henryson": "This is still a big problem for me and none of the above solves it. I'm amazed that not more people has written about this issue. I expect it to be quite common to embed youtube videos on pages using the Skrollr lib. For me there is 2 problems. 1. Unable to scroll video/iframe (sometimes fills whole mobile screen). 2. Unable to start the video (iPhone & iPad). I noticed this thread was closed, should I post in a new thread or can it be opened again? Cheers, Josef\n. ",
    "jaylathia": "But does the video controls work when an overlay is  placed above the iframe.\n. ",
    "FezVrasta": "Thank you, I don't know how to create a pull request, I've tried without succes :(\nI'll follow the advice about IIFE\n. thank you\n. well I can't reproduce the problem with an example, if I send in some private way the page where there's the problem could be ok?\n. the page uses only jquery and skrollr.\nI've noticed the animation is performed but not in the right way, for example a transitio to 20% to 80% is performed as a transition from 60.1% to 60.3%\nIn IExplorer 10 instead everything works well.\nThe problem with the example is that my page is generated in a complex way and it's not easy to reproduce it in an example.\n. Ok but in that way would be the entire page,not just a snippet.\nAnd I can't post in public it, can I send it in private?\n. if I do that it works.. yes probably is something in the page but I wonder why with the new doctype it works and with the html4.1 no..\n. ",
    "rachelnabors": "I do not understand. I'm already using #skrollr-body. Is it in the wrong place? Incorrectly used because Alice is fixed? \nRachel Nabors\n\nI'm on an iPhone. This means I have little to no wifi access, battery power, and tiny buttons that send missives before I've the chance to spellcheck them. Please forgive any curt messages, typos, or long silences!\nOn Sep 5, 2013, at 2:12 AM, Alexander Prinzhorn notifications@github.com wrote:\n\nRead https://github.com/Prinzhorn/skrollr#what-you-need-in-order-to-support-mobile-browsers\nUnrelated: make sure to round these \n\u0081\\\nReply to this email directly or view it on GitHub.\n. I made the updates you suggested, but sadly, iOS is STILL frozen. Please see the updated pen here:\nhttp://codepen.io/rachelnabors/pen/AeEHw\n\nAny ideas? I really love how this \"feels\" and want to use it!\n. Are you able to look at it on an iPad? That is what I'm testing for and with. \nSent from my iPad\nOn Sep 6, 2013, at 5:30 AM, Alexander Prinzhorn notifications@github.com wrote:\n\nIt's now loading in Chrome, seems like the images server had issues.\nI'm not able to use codepen on my iPhone and it crashed Safari.\n\u2014\nReply to this email directly or view it on GitHub.\n. That's unfortunate!  But I only recently came into one myself, so I understand. I will not be using skrollr for the iPad portion of this project, then. (But this ticket should totally remain open.)\n. This is as stripped down as it gets: http://rachelnabors.com/alice-in-videoland/book/skrollr-test/\n\nHope that helps.\n. Back from the conference. Yes, I can confirm that http://rachelnabors.com/alice-in-videoland/book/skrollr-test/ is working on my iPad. However, I was unable to get the same code working in the more complicated production environment here WITHOUT turning off mobile support:\nhttp://rachelnabors.com/alice-in-videoland/book/\nWith mobile support on, as soon as skrollr.init() is called, the page jerks to the top of the document and is un-scrollable.\nI wonder if this is a problem with the transforms skrollr uses for mobile?\n. (For reference, http://rachelnabors.com/alice-in-videoland/book/ has mobile support turned off currently. If you'd like to see it with it turned on, you can fork the repo here https://github.com/rachelnabors/alice-in-videoland/tree/master/book and make the change in js/script.js) \n(Also, it loads on my iPhone 4S. Just takes long as hell!)\n. I tried wrapping th echo tents in skrollr-body but had the same frozen experience. How would you get it working?\nSent from my iPad\nOn Sep 10, 2013, at 6:49 AM, Alexander Prinzhorn notifications@github.com wrote:\n\nIt's jumping to the top because skrollr sets overflow: hidden; on  and .\nThis won't work the way you've set up everything. The upper part isn't wrapped in skrollr-body and is not scrollable on mobile.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "zhe": "Check this out, this solution solved my problem, \nskrollr.init({          \n        mobileCheck: function() {\n            //hack - forces mobile version to be off\n            return false;\n        }\n    });\nfrom https://github.com/Prinzhorn/skrollr/issues/265#issuecomment-21426090\n. ",
    "georgedumontier": "That hack sort of works for me, but now when the user scrolls on the iPhone the animations don't work until the user is finished scrolling and takes their finger off the screen. Then the animations jump into place. Any tips to smooth it out?\n. ",
    "jdmagic21": "@rachelnabors If it really bothers you then you can do a conditial statement to see if you are in mobile. If not then run skrollr. @Prinzhorn I tried to add #skrollr-body to my main body and this did not work and mobile was still frozen. I had to hack this together and get this to work. \nif( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {\n}\nelse { \n    skrollr.init({\n    beforerender: function(data) {\n        return data.curTop > data.lastTop;\n    }\n});\n}\n. ",
    "andreypetrov": "Hi, I have the following issue with using both translate and rotate in the same transformation:\nhtml\n<div class=\"brush2\" data-249=\"opacity:0\" data-250=\"opacity:1; transform: translate(0px, 0px) rotate(0deg)\" data-1000=\"opacity:1; transform: translate(150px,\n    150px) rotate(50deg)\"/>\nif i remove either the translate or the rotate everything is fine, but having them both makes the animation not to move at all. Am I doing something wrong?\nHere is the css of the brush2 class\n``` css\n.brush2 {\nbackground-image: url(\"img/brush2.png\");\n  background-repeat: none;\n  width: 348px;\n  height: 159px;\n  position: absolute;\n  top:220px;\n  left:520px;\n  opacity: 0;\n}\n```\n. ",
    "sjang92": "I checked again with other scripts (my custom ones) removed, and the same problem happens.\nFor some reason, the script is being called twice, and I can't figure out why\n. http://prinzhorn.github.com/skrollr/src/skrollr.js\nby unminified do you mean this?\nI've included this right now\n. Can you tell me how you found out? \nI want to find out which code inside /assets/application-381cdb5c58101b625c915525adbe7cec.js\ncauses the problem..\n. I'm so sorry, but can I get some more help?\nI've disabled all the scripts that I wrote myself, \nand some of the native scripts provided by ROR. \nBut I still can't find the root of the issue...\n. I found the issue thank you so much for your help.\nIt was a bug with ROR 4.0's new feature: turbolinks\n. Thank you! I just removed turbolinks for the specific page back when I was dealing with this issue. \n. ",
    "tezzataz": "Did you solve this problem by any chance? I've been trying to get skrollr to work with turbolinks for ages but just can't figure it out. submitted an issue to turbo links as well but no reply.\n. I finally worked out how to get skrollr to work with turbolinks or any other pushstate method after hours of fiddling.\nEmbed and call the skrollr function as normal:\n$(window).ready(function() {\nvar s = skrollr.init(); \n});\nThen use skrollr.init().refresh(); on the new page or load page function for your pushstate plugin. So with turbolinks use this:\n$(document).on('page:load', function () {\nskrollr.init().refresh(); \n});\nHopefully someone this will save someone a lot of time, it should be referenced in the skrollr docs.\n. I've had same issues with safari and finally fixed it.\nI used both of the following on the parent element:\nwebkit-backface-visibility:hidden; \n-moz-backface-visibility:hidden; \nThen on the element that is being animated:\n-webkit-transform: translateZ(0);\n-moz-transform: translateZ(0);\nThis has fixed pretty much all the lagging and choppy scrolling issues for me, smooth as a baby's bottom. Might be helpful to others.\nEDIT:\nThe other thing that really helped was using -webkit-transform: translate instead of margins and top and bottom.\n. ",
    "Shahid87": "I've resolved that issue, thanks for the prompt reply. Now i wanna know how do i inactive skrollr functionality on mobile browsers? I mean the same plugin \"skrollr\" should work on a desktop pc but when the page is displayed on a cell phone browser, \"Skrollr\" should stop working. Awaiting your reply!!!\n. ",
    "endorama": "I haven't seen particular bad behaviours up to now... Do you have a use case in which this could lead to problems?\n. So if I have got it right resizing the browser will leave the offset unchanged, thus with the wrong pixel/percetage relation?\nNumerical example:\nwindow height: 700px\noffset: 10p => 70px\nresize\nwindow height: 500px\noffset: 10p => 70px instead of 50px\nAm I right? This can be solved refreshing skrollr, can't it? Like using\n// skrollr is a var in which there is a skrollr instance previously initializated\n$(window).resize(function() {\n    skrollr.refresh();\n}\nObviously this seems a pretty expensive way to do so, but I guess that skrollr has already a way to handle resize, in which I have to hook?\nMoreover in my case percentage are used to handle a mobile design, were you can't resize browser window, so this problem does not appear.\nThanks for your time! :)\n. Yes. We tested it using a galaxy s2 with stock android and a s2 with\ncyanogen mod.\nIn both cases the stock browser can't display the site right.\n. Ok, sorry for the lag, but I needed some approvation before being able to post the code...\nI've updated a version of the website, and I'm going to describe the behaviour.\nNow skrollr initialize with the mobileCheck() default function. You'll see that navigating the site with the android stock browser leads to a totally broken page. DIsabling skrollr mobile for Android ( so removing android from the mobile detection function ) solves the problem ( unfortunatly chrome for android starts lagging because native skrollr is used and so js is blocked and so on... )\nThis is the link with the problematic code.\nThanks for your plugin and your support, is really appreciated. Let me know if I can help in any way! :)\nCheers\n. Tomorrow i'll do the check. Thanks for taking a look!\n. I tried updating all rem values to px, but is not working... I've updated the online version with a px based stylesheets ( fonts will be broken, but that's not a problem... )\nLayout is still totally broken...\nPS: i've fixed the firefox issue! Thanks :)\n. Sorry for the lag but I've been blocked by another work. Today I'll perform\nthe check...\nThe strange thing is that I checked on caniuse.com if rem are supported,\nand apart from the considerations made above, rem are supported in every\nversion of android, since 2.1...\nI'll report back after checking...\n. I've removed the last rems but the problem is not solved. I've updated the code.\n. I'm sorry for creating you so much trouble... And actually I found a solution which solved the issue completely.\nIn my css I was including the fixed-positioning.css file, used in skrollr examples and which says at the beginning \"The demo uses it and it may help you as well.\" :)\nThe problem was the declaration:\ncss\n.skrollr-mobile .skrollable {\n    position: absolute;\n}\nInfact all my divs are fixed positioned to allow the parallax effect multiple times ( the layout is really complex, and was really difficult to create the wanted effect! ) and for unknown reason this position absolute on mobile was leading stock android browser ( has a slightly older version of webkit ) to mess up with the layout.\nI can't understand why this was an issue only on slightly older webkit, but removing that line made everything fine again! YAHOO! :):)\nThanks for you support, I would add a line in the css file pointing at this issue, so that if this happens to someone else can easily sole ths problem!\nPlus, I'm going to add some screenshots for future reference ( the code will be taken down soon... )\nThanks again for support and skrollr, is really amaxing! :)\n. ",
    "Flaviii": "Hola, ayuda no entiendo mucho de programas y computaci\u00f3n... Quiero usar SKROLLR, pero no entiendo si se descarga ese programa, c\u00f3mo lo puedo utilizar o tengo que pagar para usarlo???\n. ",
    "devdavi": "It looks like they are used skrollr for the animation effects and jquery for their autoscroll. I'm not very familiar with autoscroll - but essentially just create the page so it functions and animates as you want it to, and then apply autoscroll / jquery animate to the divs to move after a set time \nHere's a quick links to help you get started:\nhttp://api.jquery.com/animate/\nhttps://code.google.com/p/jquery-autoscroll/\n. I'm an idiot. Hours wasted combing over everything  and as soon as I post for help I resolve the issue... I had missed positioning the footer div completely. Sorry for the inconvience.\n. ",
    "valapy": "Thanks for the answers! I will do my best to achieve what i'm trying to do...i still can't do it, but i will!\n. ",
    "dtrninic": "When I remove the height: 100%, the layout is totally messed, please check now - http://doointeractive.com/w/shift2/.\n. ",
    "AbinayaAnandham": "<div id=\"skrollr-body\">\n    <div id=\"firstContent\" class=\"bgContainer\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"span12\">\n                    <div class=\"firstSectionHeader  threePoint Stratum1Medium hideMobile\">\n                        Header Comes Here\n                    </div>\n                </div>                                           \n             </div>\n             <div class=\"row\">\n                   <div class=\"span6\">\n                       <div class=\"laptopImage\">\n                           <img src=\"images/laptop.png\">\n                       </div>\n                   </div>\n                   <div class=\"span6 textCenterMob\">\n                       <div class=\"discoverSection\">\n                           <div class=\"firstLeftHeader MuseoSansW01700\">1.DISCOVER</div>\n                           <div class=\"firstLeftContent slideSamllTxt MuseoSansW01100\">Unearth Hidden Data</div>\n                       </div>\n                       <div class=\"alignSection slideText\">\n                           <div class=\"firstLeftHeader MuseoSansW01700\">2.ALIGN</div>\n                           <div class=\"firstLeftContent slideSamllTxt MuseoSansW01100\">Gain Consensus on a strategy</div>\n                       </div>\n                       <div class=\"decideSection\">\n                           <div class=\"firstLeftHeader MuseoSansW01700\">3.DECIDE</div>\n                           <div class=\"firstLeftContent slideSamllTxt MuseoSansW01100\">Make a Decision with Confidence</div>\n                       </div>\n                   </div>                        \n             </div>                        \n        </div>\n    </div>  \n</div>\n<script src=\"js/skrollr-stylesheets.js\" type=\"text/javascript\"></script>        \n<script src=\"js/skrollr.min.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n    skrollr.init();\n</script>\nThis is my code.\nI have 3 more pages like this..\nbut in ipad i got that error for skrollr.init() \nAny help would be appreciated..\nThanks in Advance\n. Page Scrolls very slow in MAC OS too..\n. no i didnt try like tat.. let me check tat and let u know..\n. hi i check tat.. its working but the scrolling struggle. its bouncing..\n. <div id=\"secondContent\" class=\"bgContainer\"data-0=\"display:none;\" data-1500=\"display:block;\" data-2501=\"position:fixed;top:100%;\" data-3500=\"top:0%;\" data-7000=\"top:0%;\" data-8000=\"top:-100%;\" data-8001=\"display:none;\" >\n            <div id=\"secondContentBg1\" class=\"bgContainer\" data-2500=\"background-position:0px 0px;\" data-8000=\"background-position:0px -2000px;\">\n                <div id=\"secondContentBg2\" class=\"bgContainer\" data-2500=\"background-position:0px 0px;\" data-8000=\"background-position:0px -4000px;\">\n                    <div class=\"fixedHiddenHeader\"></div>\n                    <div class=\"container\">\n                         <div class=\"pageContent\">\n                            <div class=\"autoMargin\">\n                                <div class=\"cellsSpacePage\">\n                                    <div class=\"row\">\n                                        <div class=\"span12\">\n                                            <div class=\"secondContentHeader threePoint Stratum1Medium hideMobile\" data-5000=\"margin-top:0px;margin-bottom:50px;opacity:1;\" data-6000=\"margin-top:-130px;margin-bottom:180px;opacity:0;\">\n                                                Our Three Point Approach is Advancing Home Infusion with Unparalleled Insight\n                                            </div>\n                                        </div>                                           \n                                     </div>\n                                     <div class=\"row\">\n                                           <div class=\"span6\">\n                                               <div class=\"laptopImage\" data-5000=\"width:inherit;margin-left:0px;opacity:1;\" data-6000=\"margin-left:-600px;opacity:0;\">\n                                                   <img src=\"images/laptop.png\">\n                                               </div>\n                                           </div>\n                                           <div class=\"span6 textCenterMob\">\n                                               <div class=\"secondContentHeader threePoint Stratum1Medium showMobile\">\n                                                    Our Three Point Approach is Advancing Home Infusion with Unparalleled Insight\n                                                </div>\n                                               <div class=\"discoverSection\" data-5000=\"width:inherit;margin-left:0px;opacity:1;\" data-5333=\"margin-left:600px;opacity:0;\">\n                                                   <div class=\"secondLeftHeader MuseoSansW01700\">1.DISCOVER</div>\n                                                   <div class=\"secondLeftContent slideSamllTxt MuseoSansW01100\">Unearth Hidden Data</div>\n                                               </div>\n                                               <div class=\"alignSection slideText\" data-5333=\"width:inherit;margin-left:90px;opacity:1;\" data-5666=\"margin-left:690px;opacity:0;\">\n                                                   <div class=\"secondLeftHeader MuseoSansW01700\">2.ALIGN</div>\n                                                   <div class=\"secondLeftContent slideSamllTxt MuseoSansW01100\">Gain Consensus on a strategy</div>\n                                               </div>\n                                               <div class=\"decideSection\" data-5666=\"width:inherit;margin-left:200px;opacity:1;\" data-6000=\"margin-left:800px;opacity:0;\">\n                                                   <div class=\"secondLeftHeader MuseoSansW01700\">3.DECIDE</div>\n                                                   <div class=\"secondLeftContent slideSamllTxt MuseoSansW01100\">Make a Decision with Confidence</div>\n                                               </div>\n                                           </div>                        \n                                     </div>\n                                </div>              \n                            </div>       \n                         </div>                        \n                    </div>\n                </div>\n            </div>\n        </div>\nI Have given like this..\nis tat bounching because of position fixed.\n. i am really sorry.. i cant host my page.. can i zip it and give..\n. i mailed my package to u.. \nits not working on firefox and safari in MAC OS..\nThanks\n. Thank u so much for ur kind help...\ndo u hav any idea about, why its not working in Mac..\n. hi..\nMy problem solved with Mac os.. \nits because of image size(too large).\nbut another problem arise..\nthe one i first told.. its not working in ipad..\ncan anyone help me..\nThanks in advance\n. Hi \nIts working in ipad too..\nthe error arise in the skrollr.js\nNeed to do some changes in JS\nif(distance2 < 49) {\n                    //It was a tap, click the element.\n                var parentlink = jQuery(event.target).parent();\n                if(e.target.href){\n                    document.location = e.target.href;\n                }\n                else if(parentlink[0].href){\n                        document.location = parentlink[0].href;\n                    }\n                else {\n                    jQuery(e.target).focus(); \n                    jQuery(e.target).click();\n                }\ndoing like tis will remove the \"undefined is not a function\" error on ipad\nThank u.\n. ",
    "crash0verride": "Same here. :anguished: \n. ",
    "alexander-schranz": "did test it. same crash again.\n. I also deactivated all other scripts for testing.\nIt only crash when skrollr.init is called.\nI test it with only some animations then it works. But when I use all animations it crashed.\nI did go to the code to see if it is a specific animation but its the amount of animations, I think.\nAny ideas? The limit of iPad memory for scripts is 20mb I think.\nUpdate:\nWhen i cut animations out, the site load. Animations works. Then i go from landscape to portrait mode it crashed with memory leak error.\n. can't get the memory view on OSX maybe a bug in chrome, i did connect the ipad to desktop Safari. The only thing i see is the last event call before crash is AnimatedFrame. What is skrollr doing when i change the Viewport Orientation?\n. hmm. have you maybe any idea where you give a big variable (array/objects) to a function instead of access the variable directly so an new instance is made and the memory limit of iPad is reached? \n. ",
    "alancam": "I don't yet understand how Skrollr automatically updates no longer visible elements but:\nI previously had a problem with CSS effects maxing out Safari's limits. I (dirtily hacked) my way out of it by setting all no longer visible elements (those scrolled past) to display:none; so they'd stop being rendered.\nWould such an approach help?\n. ",
    "bluehaus": "Hey guys, \nSo just to be clear rem does cause issues? \nThanks\n. ",
    "artelse": "Ah, dumb mistake! Thanks for the quick response, it works now.\n. ",
    "christill": "Sorry, Here is my code:\n```\n\n    section 1\n\n\n    section 2\n\n```\nCSS\n```\n.skrollable {\n    position:fixed;\n    z-index:100;\n }\n.skrollr-mobile .skrollable {\n    position:absolute;\n}\n.skrollable .skrollable {\n    position:absolute;\n}\n.skrollable .skrollable .skrollable {\n    position:static;\n}\n.section1{\n  background:red;\n  height:750px;\n}\n.section2{\n  background:blue;\n  height:750px;\n}\n```\nJS\nskrollr.init({\n        forceHeight: true\n    });\n. That's the same for me. I can see the blue element, but I can't scroll down to the bottom of it. Also, there is a large white gap underneath the blue at the end of the document. What I'm trying to do is when I reach the end of the blue div, that should be the end of the document with no white space below If that makes sense?\n. I've tried it on Chrome, Safari and Firefox it's on all three. Oh yeah I know, there will be more animation inside the first container later but for now I'm just trying to get this part working. I's supposed to look and scroll like a normal website but for the first 3000px 'pause' or 'hold' the rest of the site from scrolling, then after the animation in container 1 is complete let it scroll like normal. \n. ",
    "interfacecreation": "Upgraded but still no luck. All links are still blocked/defunct.\n. ",
    "josh-wade": "sorry, my error. the properties ID is supposed to be the handstick it was I typo error when I entered the post, here is what hand-sticks rules are: \n#hand-stick {\nwidth:100%;\nheight:100%;\npadding-top:10%;\ntext-align:center;\n}\n. ",
    "ste93cry": ":+1:  I'm animating a thing where I would like to rotate the element up and down based on the scroll direction. It would be a great addition to the library\n. @Prinzhorn any news on this?\n. ",
    "monsdroid": "You Sir, thank you!\nWorks like a Charm.\n. ",
    "jedi4ever": "Awesome catch - this was useful for my webdriver/selenium testing as it won't click on elements in Android, but dispatching mouseEvents worked like a charm.\n. ",
    "AimeeLB": "Thanks, I've done that now.  I just noticed that actually it's not just mobile - if I reduce the height of any browser I can't reach the bottom.  I've just mocked up a slightly different version which uses fixed positioning which I think is what is recommended, and I think that helps with the hiding of the address bar problem.  http://www.aimcreativeltd.co.uk/skrollr2/?2  But I still can't get to the bottom (there should be 5 cats not 4!)\n. I think my second example uses the right fixed position though, and I still can't get to the bottom? Thanks for your help on this!\n. Ah I think I see, it's my parallax causing the problem.  I didn't want to move the last screen to top 0px really but I think I have to.\n. Ok I've worked out the problem is when using skrollr in an iframe.  Here http://www.aimcreativeltd.co.uk/test2.html is one of the example scripts with a textarea added to the final box (the second cat after the blue).  It works fine.  But here http://www.aimcreativeltd.co.uk/test.html is an iframe that than calls that page.  On iphone and ipad you can't type in the text box.  Anyone any ideas?!  I'm really stuck!\nI wondered if it was that I'm not using skrollr-body, but when I add that, nothing works at all on mobile!  See here http://www.aimcreativeltd.co.uk/test3.html\n. Definitely doesn't work in the iframe on the 4.  Also been reported on Samsung Galaxy S4 and S3.\nDoes the version with skrollr body display anything for you? That one is blank for me - if i could get that working i wonder if it might fix the input issue.  Is there any way you can help me? This is for a commercial project that is finished and in the testing phase, due to go live next week!  Happy to discuss it further privately as I would massively appreciate the help!\n. I've spent a while trying to figure this out.  It seems that:\n- iphone 4 / ipad 4 outside of an iframe: typing works fine\n- iphone 4 / ipad 4 in the iframe: the keyboard opens on click and typing triggers all events (keydown, keypress, keyup) but no text appears\n- samsung galaxy in the iframe: the keyboard never appears but a cursor does and the focus and click event does fire\n- samsung galaxy outside of an iframe: same thing as in an iframe, so it's not purely an iframe/skrollr conflict\nAlso samsung galaxy didn't like the example http://www.aimcreativeltd.co.uk/test2.html at all, something there it won't render.  So for testing samsung galaxy I found a different example of yours that did work, and put a text area at the end of that: http://www.aimcreativeltd.co.uk/s.html.  This is the one that exhibits the behaviour described above.\n. Yes I did try that, if I remove skrollr.init the text areas work fine. The Samsung is the biggest problem because I can take the iPhone out of the iframe to make it work. But the Samsung doesn't work in or out of the iframe, as soon as I add skrollr. Thanks again!\n. Awesome! It works! Thank you so much, this is a relief!\n. ",
    "courtneyspurgeon": "I was having the same issue, and found a set of easing functions using the same input type here: http://greweb.me/2012/02/bezier-curve-based-easing-functions-from-concept-to-implementation/\nI added a selection of easeInOut for my project, easy to drop into the init options. Pasted here for reference:\nEasingFunctions = {\n  linear: function (t) { return t },\n  easeInQuad: function (t) { return t*t },\n  easeOutQuad: function (t) { return t*(2-t) },\n  easeInOutQuad: function (t) { return t<.5 ? 2*t*t : -1+(4-2*t)*t },\n  easeInCubic: function (t) { return t*t*t },\n  easeOutCubic: function (t) { return (--t)*t*t+1 },\n  easeInOutCubic: function (t) { return t<.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1 },\n  easeInQuart: function (t) { return t*t*t*t },\n  easeOutQuart: function (t) { return 1-(--t)*t*t*t },\n  easeInOutQuart: function (t) { return t<.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t },\n  easeInQuint: function (t) { return t*t*t*t*t },\n  easeOutQuint: function (t) { return 1+(--t)*t*t*t*t },\n  easeInOutQuint: function (t) { return t<.5 ? 16*t*t*t*t*t : 1+16*(--t)*t*t*t*t }\n}\n. ",
    "dahannes": "Is there a way to reproduce the jQuery easeOutBack function for skrollr?\neaseOutBack: function (x, t, b, c, d, s) {\n        if (s == undefined) s = 1.70158;\n        return c_((t=t/d-1)t((s+1)_t + s) + 1) + b;\n    }\nQuestion on stackoverflow:\nhttp://stackoverflow.com/questions/22531190/easeoutback-with-one-parameter\n. ",
    "larsenwork": "I think this is the correct easeInOutBack should anyone else need it\neaseInOutBack: function (p, s) {\n    s = 1.70158;\n    p = 2*p;\n    if (p < 1) return 0.5*(p*p*(((s*=(1.525))+1)*p - s));\n    return 0.5*((p-=2)*p*(((s*=(1.525))+1)*p + s) + 2);\n  }\n. ",
    "schmolzp": "Yeah, sorry. Just thought if I could get more visibility, someone might be able to help me. Maybe someone else can shed some light on this issue. I know it's hard with no code to look at.\n. Ok, here is the CSS and the skrollr HTML. Let me know if anything is glaring to you. Thanks\n.scroll-btn { z-index:6; bottom: 10%; left: 46.5%; position:fixed; text-align: center; -webkit-animation: scrollBounce 1.5s infinite; /* Safari 4+ /\n        -moz-animation:    scrollBounce 1.5s infinite; / Fx 5+ /\n        -o-animation:      scrollBounce 1.5s infinite; / Opera 12+ */ animation: scrollBounce 1.5s infinite; }\n        @-webkit-keyframes scrollBounce {\n          0%   { margin-bottom: 0; }\n          50% { margin-bottom: 30px; }\n          100% { margin-bottom: 0px; }\n        }\n        @-moz-keyframes scrollBounce {\n          0%   { margin-bottom: 0; }\n          50% { margin-bottom: 30px; }\n          100% { margin-bottom: 0px; }\n        }\n        @-o-keyframes scrollBounce {\n          0%   { margin-bottom: 0; }\n          50% { margin-bottom: 30px; }\n          100% { margin-bottom: 0px; }\n        }\n        @keyframes scrollBounce {\n          0%   { margin-bottom: 0; }\n          50% { margin-bottom: 30px; }\n          100% { margin-bottom: 0px; }\n        }\n        .text { color: #fff; font-weight: 300; position: absolute; text-shadow: 0px 0px 30px #000000;\n        filter: dropshadow(color=#000000, offx=0, offy=0); }\n        .scene {\n            position: fixed;\n            background-attachment: fixed;\n            top: 0;\n            left: 0;\n            min-height: 100%;\n            min-width: 100%;\n            width: 100%;\n            height: auto;\n            background-size: cover;\n            background-position: center center;\n            overflow: hidden;\n         }\n         .scene > img { position: absolute; max-width: none; }\n         .scene1 { background-image: url('img_homepage/ATH_10_0115.jpg'); background-repeat: no-repeat; z-index:5; box-shadow: 0 5px 30px 0 rgba(0, 0, 0, 0.5); }\n         .scene2 { background-image: url('img_homepage/performing_image1.jpg'); background-repeat: no-repeat; z-index:4; box-shadow: 5px 0 30px 0 rgba(0, 0, 0, 0.5); }\n         .scene2-bow { background-image: url('img_homepage/performing_image2.jpg'); background-repeat: no-repeat; z-index:3; box-shadow: 0 5px 30px 0 rgba(0, 0, 0, 0.5); }\n         .scene3 { background-image: url('img_homepage/discovering_image1.jpg'); background-repeat: no-repeat; z-index:2; }\n         .scene3-cutout { background-image: url('img_homepage/discovering_image2.png'); background-repeat: no-repeat; z-index:3; }\n         .scene4 { background-image: url('img_homepage/graduation_image.jpg'); background-repeat: no-repeat; z-index:1; }\n         .at-UofSC {\n            font-size: 55px;\n            width: 100%;\n            background-color: #73000a;\n            background-color: rgba(115, 0, 10, 0.9);\n            color: #FFF;\n            font-weight: 300;\n            z-index: 6;\n            position: relative;\n            top: 100%;\n            text-align: center;\n            box-shadow: 0 0 30px 0 rgba(0, 0, 0, 0.5);\n         }\n         #sitemap, #footer-menu {display:none;}\n\n\nphp include(\"includes/global_nav.php\"); ?\n\n\n\nyou can find yourself\n\n\n\n```\n        \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nat the University of South Carolina\n\n\nyou'll definitely find yourself\n\n\n\n\nStart your journey today.\n\nphp include(\"includes/global_footer.php\"); ?\n\n\n\n```\n. Yeah, sorry about the code, it removed some of my formatting when I pasted it into the comment. Ok thanks, I'll check it out. It's just so frustrating because it's so smooth everywhere else but Safari on a MAC.\n. @amindiary What I had to do on Safari is use this -webkit-transform: translateZ(0); on the element that was doing heavy animations to force hardware acceleration. This will make safari render like it's in 3D and smooth out the animations. However it might screw up other things on your page so be careful. Use these properties to help fix those issues -webkit-backface-visibility: hidden; -webkit-perspective: 1000;\nAlso if you do this on an element using background-attachement: fixed; it will definitely screw up the way things look so be aware of that. Hope this helps!\n. @fowkswe Your website seems pretty smooth to me on Safari 6.1. Just as smooth as Chrome 30.\n. I looked at the example in Chrome 35 and both images seem to scroll smoothly without any choppiness. I know the right one is supposed to be smooth but the left one is just as smooth.\n. ",
    "amindiary": "Same issue on Safari 7 on MAC, any idea?\n. @schmolzp Thank you, I think that will help, will try it.\n. ",
    "WrongChao": "THX??\n------------------ \u052d\u02bc?\u02bc? ------------------\n??????: \"Peter\";notifications@github.com;\n????\u02b1??: 2013??11??1??(??????) ?\u8cff2:23\n?\u057c???: \"Prinzhorn/skrollr\"skrollr@noreply.github.com; \n????: Re: [skrollr] Very choppy animations in Safari (#342)\n@amindiary What I had to do on Safari is use this -webkit-transform: translateZ(0); on the element that was doing heavy animations to force hardware acceleration. This will make safari render like it's in 3D and smooth out the animations. However it might screw up other things on your page so be careful. Use these properties to help fix those issues -webkit-backface-visibility: hidden; -webkit-perspective: 1000;\nAlso if you do this on an element using background-attachement: fixed; it will definitely screw up the way things look so be aware of that. Hope this helps!\n??\nReply to this email directly or view it on GitHub.\n. ",
    "nigelheap": "I'm having the same issue with this site. http://creationarium.com/gama/\nAny solid suggestions yet?\n. ",
    "stefanneculai": "Same issue for me (http://froala.com - see 2nd picture). And we had several reports from our users about this issue. Works well in Firefox and Chrome, but not in Safari.\nSafari 7.0.1 \nMavericks 10.9.1\n. ",
    "dreadpiratebrown": "Sixthing this issue here. http://ducktapefestival.qa.aztekhq.com - choppy animations in Safari desktop (Mavericks), huge jumps on iPhone Safari. Using translateZ(0) or translate3d(0,0,0) did not help.\n. ",
    "marquizzo": "I'm having the same issue with Chrome v 35.0, but I think I've found the reason why this happens. It's because Chrome usually doesn't have smooth scrolling like Firefox does. When you scroll in Firefox, it'll have a nice, smooth slide. Chrome, however, will jump 100px, without interpolating the middle frames.\nConsider the following element:\n```\n<img src=\"logo-sm.png\" style=\"\"\n  data-start=\"margin-top:500px\"\n  data-800-start=\"margin-top: 0px\"\n\n```\n\nThis leads Chrome to:\n1. Make the parent (anchor) element jump 100px, and then...\n2. Animate the margin-top through Skrollr. But only after it already has performed the ugly jump.\nA workaround that I found was to use:\n```\n<img src=\"logo-sm.png\" style=\"position: fixed;\"\n  data-start=\"margin-top:500px\"\n  data-800-start=\"margin-top: -800px\"\n\n```\n\nNotice the style=\"position: fixed;\" \nThis leads Chrome to:\n1. Parent (anchor) element doesn't move because in this case the image is attached to the viewport.\n2. Animate margin-top through Skrollr, giving it a smooth transition. You avoid the 100px jump.\nYou can see the difference in this example:\nwww.dyadstudios.com/skrollr-chrome-fix.html\nThe first image (image on the left) is not fixed. The image on the right has position: fixed. This is a sloppy workaround because \"position: fixed\" will likely throw off your layout, but it's the only way I found to get rid of the staggering animation.\n(The difference of margin-top between both images stems from the fact that one is moving 100px at a time with the page, and the other one is fixed to the viewport)\n. ",
    "jrobertblack": "Was there anymore new information on this? I am having very bad choppiness on safari, I have tried all these solutions but nothing helps. I have targeted the problem to opacity settings, if I have opacity background or opacity borders then it really lags in safari, its pretty much smooth without any opacity on the elements. Same settings works very smooth in Chrome. Is there any settings that would help this?\n. ",
    "maxrho": "Sorry, done. I was thinking it was more of a feature request, because I don't think it's doable, but I could be wrong.\n. No, then we would have white space in between the big divs, that's what I'm trying to get rid of. \nFirst when our browser scrolls down and sees #FOO, the image is shown with it's top aligned to the top of #FOO, and moves in the other direction of our scrolling.\nthen when our browserwindow has JUST scrolled past #F00, the image's bottom is aligned to #FOOs bottom.\nlike this: http://i.imgur.com/Vft9WM8.gif\nblack box: our browserwindow. Green = content divs, pink = image\n. The point is to show the whole img in the little height: 400px window, while scrolling past it, but since we have width: 100% on the img, and the height is set to \"auto\", it's looking grim.\n. Solved it using \nhtml\n<div style=\"background: url('/image.jpg')\" data-anchor-target=\"#FOO\" data-0-bottom-top=\"background-position: 50% 0%;\" data-0-top-bottom=\"background-position: 50% 100%\">\nThank you for your time, maybe it would be good to be able to assign bounderies like in the first example, but as seen here you can work around it.\nBR,\nMax\n. ",
    "rubaff": "Perfect, thanks a lot for the quick response! Danke!\n. ",
    "acairns": "Thank you for posting this bug and many thanks for posting a fix - has just saved me a lot of work.\n. ",
    "hrobertson": "This bug had me stuck for a while before I set up a really simple test and even that didn't work - then I realised it must be a bug in skrollr and after searching the readme, I came searching here.\nI strongly suggest you mention this prominently in the README. Who knows how many people are just ditching skrollr because it's not working? This seems like something the vast majority of users will run into.\nEven this simple test case using data-start and data-end does not work:\n<body>\n    <div style=\"height:4000px;\" data-start=\"background:rgb(255,0,0);\" data-end=\"background:rgb(0,255,0);\"></div>\n    <script type=\"text/javascript\" src=\"js/skrollr.min.js\"></script>\n    <script type=\"text/javascript\">\n        var s = skrollr.init();\n    </script>\n</body>\nSetting body height: 100% !important; fixes it.\n. I had <html> not <!DOCTYPE html>. Changing to the latter fixed it.\n. ",
    "leecolarelli": "@Prinzhorn Are you sure it's not a bug? I've been trying to fix an issue where I'm using 100% height html, body, containers etc but the body height is being set to something like 5000px for ages.\nChecked all my css multiple times, tried different things, nothing worked. Turns out if I just turn skrollr off everything works as it should do.\nSo I googled it and ended up here. Tried setting body height: 100% !important; and everything works fine with skrollr turned back on!\nThis should definitely be fixed or prominent in the readme!\n. Thanks for the reply. With forceheight set to false the animations did not work at the correct time. There was a VERY large amount of whitespace added to the page before using body height 100% !important, and whilst forceheight made it display correctly, the animations happened off the page somewhere. It didn't work.\nbody height 100% !important worked.\n. > With forceHeight set to false there is no difference between height:100% and height:100% !important\nSorry, you are of course correct. I could not reproduce the errors I spoke about! Now just using forceHeight. Thanks.\n. ",
    "kannanUI": "the site is viewable only in iPad .\nThe touch scroll is not happening as the example shoes. While I \"touchmove\" the page the scroll movement is too much in iPad. Is the movement controllable(moving distance)? If so, let me know how to control it. \nI am using Skrollr 0.5.14 version. \nPlease check the link http://eng-nutrience.parachutedev.ca/\n. I have set condition for desktop and IOS. Desktop version uses 0.6.15 and iPad uses version 0.5.14.\nIf you check it in iPad then you will find the movements.\nThanks...\n. Yes it seem 0.5.14 performs better than 0.6.15.\n. ",
    "duyngn": "Ok thanks!  I think I'll try the nested elements for now.\n. ",
    "quarterlight": "Currently in iOS 7.1 Beta 2. https://forums.whirlpool.net.au/archive/2194915\n. ",
    "andrewbranch": "Awesome! Good find, @quarterlight! So now you can do something like\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, minimal-ui\">\n. ",
    "peterfinlan": "Hey man thanks for the email.\nYeah I worked it out, I did:\n$(function() {\n     var windowWidth = $(window).width();\n     if(windowWidth > 767){\n  skrollr.init({\n  forceHeight: false\n  });\n  }});\nWorks a treat! Still learning jQuery but absolutely love the Skrollr\nlibrary - thanks for the help.\nOn Tue, Oct 29, 2013 at 6:31 PM, Alexander Prinzhorn \nnotifications@github.com wrote:\n\njust wrap init in an if block\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Prinzhorn/skrollr/issues/358#issuecomment-27282986\n.\n. \n",
    "petrklus": "Just IE11, as this is my Win machine default at this moment.\nIn general, it looks like some of the elements scroll as if they were static part of normal page. Then, when the scrolling motion stops, they jump to where they would normally be. So it does look ok when nothing is moving but the transitions do not work. Interestingly, some of the elements work as they should. I am too running in a VM (windows 8.1 on vmware fusion). On the same \"machine\", other browsers (chrome, FF) work as expected.\nOn 4 Nov 2013, at 19:50, Alexander Prinzhorn notifications@github.com wrote:\n\nWe've tried one of our projects with IE 9 and the experience is far from smooth - most of it jumps around and jitters.\nAnd did you try IE 10 and 11 as well?\nI hardly use IE, I just occasionally fire up a VM if I really have to (like once a month). I don't see an obvious reason why it shouldn't work, but I can't tell for sure.\n\u2014\nReply to this email directly or view it on GitHub.\n. Mozilla/5.0 (Windows NT 6.3; WOW64; Trident/7.0; Touch; rv:11.0) like Gecko\n\nOn 4 Nov 2013, at 20:22, Alexander Prinzhorn notifications@github.com wrote:\n\nWhich user agent does this version you are using report?\n\u2014\nReply to this email directly or view it on GitHub.\n. No, dedicated USB mouse in IE11 on Windows 8.1. Another observation - using scrollbar with the mouse works just fine.\n. same behaviour on fontwalk.de:\n\nhttp://www.youtube.com/watch?v=_WAaxZUvWZ8&feature=youtu.be\nOn 4 Nov 2013, at 20:35, Alexander Prinzhorn notifications@github.com wrote:\n\nBut we're not talking about touch, right?\n\u2014\nReply to this email directly or view it on GitHub.\n. found a setting that fixes it (still applies to IE11 despite the webpage saying applies to IE11):\n\nhttp://windows.microsoft.com/en-us/windows-xp/help/turn-off-smooth-scrolling\n. @dustintheweb Great to see it confirmed! ... the smooth scroll needs to be turned off system-wide - so it's not a fix we can really apply but it may help debug the issue to the devs?\n@Prinzhorn regarding the output of that line - if you are a bit more specific, I can performed a local test and send you the values? Maybe I can test on the fontwalk.de website?\n. ",
    "dustintheweb": "can confirm, ie11 is barfing. Running from VM, but symptoms are as described above (jumpy / crazy animations while scrolling). Turning off smooth scroll via skrollr init setting has no effect as well.\n. No jumps on that one. All blue.\n. picardfacepalm.gif\n. ",
    "NewETown": "Slightly off topic but not unrelated, would it be possible to include a flag to shut this plugin off for specific browsers or mobile? I understand it's an easy detection but having it as a flag to pass during skrollr.init() might be a cleaner fix. I'm working on figuring out a solution to run skrollr on windows phone browsers but this would be a nice bandaid.\n. I did do that, it works well but my OCD wants to obfuscate the huge regex.\n. ",
    "tdjastrzebski": "I noticed the same problem. In my case it seems to manifest only when negative z-indexes are specified. I filed a bug report with Microsoft.\nhttps://connect.microsoft.com/IE/feedback/details/855695/elements-jumping-on-mouse-scroll-ie11-and-windwows-8-1-only\n. The feature has been requested (#53) and provided (I assume), examples posted.\nHowever, the examples are no longer available \u2013 as you are aware of.\nDoes it mean the feature in ver. 0.6.x is no longer supported/available? What is the status?\nIf it is not, my intention was to request it - I should have stated it more clearly.\nI am not an expert but the most logical implementation seems to allow modifications of passed scroll data in beforerender event handler. That is, let the handler decide where to actually animate to. That currently does not seem to be possible. At least, not in an intuitive way.\nThank you for sharing this great piece of work.\n. I did find it. I hope you agree the implementation is far from trivial or intuitive.\nProbably, there was a good reason why this example was removed.\nI think, what I suggest makes sense and would be a great improvement.\nBut I am not java expert and the suggested pattern was taken from outside javascript world.\nSo, if you disagree it makes sense feel free to just disregard my suggestion.\n. What I suggest simplifies smooth animation to a particular, calculated offset, even where there is no element to stop at. Eg. simplifying 'slide show' implementation where screen stops exactly at full frames of an image containing several frames. If I am correct, in the example mentioned additional animateTo() call is made after the initial animation stops. Perhaps it is not the best imaginable mechanism.\nWhat I suggest allows for setting (modifying) animation stop point before animation start, rather than firing an additional one, which, by the way, may work smoothly only with linear transition (easing) and/or decelaration/scrolling duration=0.\n. Of course. Before render event is the right place where actual amount of scroll could be specified.\nLet's suppose my website is organized like a slide show.\nWhen user starts scrolling I always want to scroll to the next/previous full slide.\nCurrently possible solution is to trigger additional animation and move the content back or forward, so it stops at full frame (slide).\nI suggest allowing the programmer to calculate/provide/correct the desired amount of offset (eg. slide hight) in the before render event. That is how it is typically handled in frameworks I worked with. This would greatly simplify snapping and similar scenarios implementation.\n. Just another thought. Probably I do not explain the issue quite clearly since to me scrolling with duration/deceleration != 0 is also an animation.\nHowever, the case I try to describe is related only to the situation when user scrolls the screen with a mouse/sliders or other means like that.\nIn such case, when duration/deceleration != 0 programmer, unlike when calling animateTo(), does not have control over where exactly the scrolled content stops. Thus, allowing setting actuall amount of scroll based on the desired value passed as one of arguments in before render event handler may help to eliminate this constraint by providing programmer with more control.\n. Simply speaking, what I think would be beneficial is the ability to override the amount of scroll calculated internally based on duration/deceleration settings.\n. You mean a different solution/library? Perhaps. However, this particular one you mentioned does not seem to be good enough. My website layout does not just scroll. There are three groups of elements, moving not necessarily in the same direction. Actually, some elements change direction while scrolling. Your library is perfect for this purpose. There is just this one issue. Customer (one of really big corporations) is particularly detail oriented. Is paid support an option?\n. Here is a good example of what I try to accomplish:\nhttp://abb-livingspace.com/\nHowever, this website content always stops at full slide while I need smooth snapping.\n. I did see this website (quite nice) but that is NOT exactly what I try to accomplish. This website does not snap. It always scrolls full slides. To me snapping should/does occur ONLY when slide edge is close to the screen (viewport) edge. Otherwise, it stays where it stopped. Probably this is the root cause of our miscommunication.\nWhat I try to accomplish is similar to this: http://abb-livingspace.com\n(note that on some slides background moves horizontally, left side glyphs animations, \"V\" scroll button animations on the first and last page, background color changes)\nHowever, this website content does not snap either. It always stops at full slide while I need smooth snapping.\nI am afraid I am unable to explain this any better :(\nThis is a high profile project we spent two months on just to get dynamic content and animations right. Refactoring everything for another library (although I found nothing which would better suit our needs) would be too expensive solution, I am afraid.\nI am sure my customer can offer reasonable compensation for implementing what I already described in details. If that is not an option, well, for the time being we will stick with what we have.\nAnyway, thanks for your help and, otherwise, excellent piece of code.\n. Hello again, I am sorry for not being able to respond earlier - I was pulled to another project.\nWhat you described sounds exactly right. With one exception - timing does not matter.\nBelow is what I envisioned. Of course it is just a vision, could be unrealistic.\n``` javascript\nvar previousOffset = 0;\nvar s = skrollr.init({\n    beforescroll: function (info) {\n        var position = info.curTop;\n        var slideNumber = Math.round(position / SlideHeight);\n        var offset = Math.abs(slideNumber * SlideHeight - position);\n    if (offset != 0 && offset < previousOffset && offset < SlideHeight * 0.15) {\n        info.scrollTo = slideNumber * SlideHeight; // adjust scroll accordingly\n    }\n    previousOffset = offset;\n}\n\n});\n```\n. And here is the best solution I came up with so far:\n``` javascript\nvar previousOffset = 0;\nvar s = skrollr.init({\n    render: function(info) { \n        if (this.isAnimatingTo()) return;\n    var position = this.getScrollTop();\n    var slideNumber = Math.round(position / SlideHeight );\n    var offset = Math.abs(slideNumber * SlideHeight  - position);\n\n    if (offset != 0 && offset < previousOffset && offset < SlideHeight * 0.15) {\n        this.animateTo(slideNumber * SlideHeight , animateSnapSettings);\n    }\n\n    previousOffset = offset;\n}\n\n});\n```\nWhy is it not perfect? Because I have to fire additional animation in order to move \"slide\" a bit so it snaps. It causes noticeable change in motion speed, unless I turn off deceleration and use linear easing which however limits user experience.\nI see if I can present the solution at its current stage.\nThanks\n. Well, I thought since mobileDeceleration and smoothScrollingDuration settings are applied kind of while still scrolling the actual amount of scroll could be somehow modified so the page stops at certain points - if they are close. But to make it right there must be a way to plug into internal logic. Otherwise, results, I am afraid, will never be perfect - which was my initial point an the reason I started this thread.\nBesides, so defined snapping does occur in computer world so it is doable. It is possible with html and JavaScript? - I do not know. JavaScript is not my area of expertise. Surely, this may be a challenge but also a nice feature.\n. I have never suggested adding 'snapping' to skrollr library. This would be a bad idea. I only suggested allowing for implementing such functionality by exposing event which would permit scroll amount adjustments by modifying passed event argument properties - see code example 5 posts earlier. Currently, proper, smooth  'snapping' implementation does not seem possible. I doubt StackOverflow might help since the obstacle is skrollr limitations which more or less successfully I tried to explain.\n. Perhaps exposing a new event allowing dynamic smoothScrollingDuration and mobileDeceleration adjustments/control would be both sufficient and effective - if you are familiar with this pattern.\n. Not only on mobile, I thought smoothScrollingDuration applies to 'regular', non-mobile devices as well. But I could be wrong.\n. I think this might be a good approach - it could be thought of a manageable/customizable smooth scrolling. I think it could also be implemented in a way custom easing functions are. But it is just a thought.\n. So, how about increasing smooth scrolling and mobile deceleration abstraction levels?\nThat is, allowing developers for more control over what is calculated and how in both cases (mobile/non-mobile). In particular, allowing developers to calculate where exactly scrolling should stop, rather than just how for long it should continue (smoothScrollingDuration). The same applies to mobileDeceleration. What I suggest is \"de-hardcoding\" both those strategies, optionally reducing them to one, common mechanism for both mobile and non-mobile devices. I can even envision implementation as a non-breaking change.\n. ",
    "b0r1sp": "This is clearly an IE11 issue due to a bug with background-attachment: fixed;\nI had the same problem as described above, removing the property and instead setting the div-container to position:fixed; did the job.\n. hello,\nFor me two things worked out:\n- giving every element or div which has the attribute position: fixed; a z-index: n; value\n- update the IE 11 to last version ;)\nregards,\nBoris\nAm 09.05.2014 um 12:20 schrieb gl03 notifications@github.com<mailto:notifications@github.com>:\nok, i've looked into this a bit, and IE11 (running on a virtual Win8.1) definitely has a problem with both 'background-attachment: fixed' and 'position: fixed' when 'smooth scrolling' is enabled, which is unfortunately the default setting.\nthis seems to be a known issue for a while:\nhttp://stackoverflow.com/questions/19377810/windows-8-makes-fixed-backgrounds-jump-when-scrolling-with-mouse-wheel\nhttp://social.msdn.microsoft.com/Forums/ie/en-US/9567fc32-016e-48e9-86e2-5fe51fd67402/new-bug-in-ie11-scrolling-positionfixed-backgroundimage-elements-jitters-badly\ni was able to work around this by reducing the number of fixed positioned divs to a bare minimum in my current project, as the jitter seems to occur only if IE has to scroll several fixed divs at the same time. as for fixed background-attachments the case seems slightly different, since the jitter also occurs with only a single element present (see stack overflow example), but since the effect looks identical, i assume both issues to be related.\nit will be very tricky to use this workaround for the next fontwalk though, as almost every DOM element has a fixed position there. any ideas and shared experiences would be very helpful.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Prinzhorn/skrollr/issues/360#issuecomment-42652023.\n. ",
    "gl03": "ok, i've looked into this a bit, and IE11 (running on a virtual Win8.1) definitely has a problem with both 'background-attachment: fixed' and 'position: fixed' when 'smooth scrolling' is enabled, which is unfortunately the default setting. \nthis seems to be a known issue for a while:\nhttp://stackoverflow.com/questions/19377810/windows-8-makes-fixed-backgrounds-jump-when-scrolling-with-mouse-wheel\nhttp://social.msdn.microsoft.com/Forums/ie/en-US/9567fc32-016e-48e9-86e2-5fe51fd67402/new-bug-in-ie11-scrolling-positionfixed-backgroundimage-elements-jitters-badly\ni was able to work around this by reducing the number of fixed positioned divs to a bare minimum in my current project, as the jitter seems to occur only if IE has to scroll several fixed divs at the same time. as for fixed background-attachments the case seems slightly different, since the jitter also occurs with only a single element present (see stack overflow example), but since the effect looks identical, i assume both issues to be related.\nit will be very tricky to use this workaround for the next fontwalk though, as almost every DOM element has a fixed position there. any ideas and shared experiences would be very helpful. \n. ",
    "Soundvessel": "Yup vote up http://connect.microsoft.com/IE/feedback/details/819518/fixed-background-image-scrolling-issue if you can so MS takes notice. Issue doesn't happen if you scroll by dragging the scrollbar instead of mouse wheel so you can tell your users that is the best option while in IE if you got something heavily animated that doesn't work with the present workarounds.\n. ",
    "Justin-Medas": "I am having issues with Opacity in IE11. I noticed you released a plugin for < 9 but I'm having the issue across all IE\n. What I ended up doing was wrapping all of the content in skrollr-body and using javasSript to insert the parallax div after skrollr-body. I then separated the sections that need to appear above and below the parallax div within their own divs, and margined the lower section 9000px from the top.\n. ",
    "davideforgione": "I'm having the same issue with windows 8.1 and IE11 too. It jumps around and jitters. Are there any new clue/hints for this bug? My elements are position absolute all with a positive z-index.\n. ",
    "mathieua": "Overriding the mousewheel event seems to fix it:\n```\n$('body').on(\"mousewheel\", function () {\n    event.preventDefault();\nvar wheelDelta = event.wheelDelta;\n\nvar currentScrollPosition = window.pageYOffset;\nwindow.scrollTo(0, currentScrollPosition - wheelDelta);\n\n});\n```\n. ",
    "beardsavvy": "+1 for @mathieua's solution, thank you!\nI've wrapped this in a conditional to check for IE11 only because it did funny things to my scroll speed in other browsers:\njavascript\nif(navigator.userAgent.match(/Trident\\/7\\./)) {\n  // disable smooth scrolling here\n}\nThis seems to work just fine and was much easier than messing around with z-index.\n. Update - @tdjastrzebski  I've been following this issue on the Microsoft Connect forums as well. To anyone else experiencing this issue with position:fixed elements, please consider posting in the forums there and see if we can get a response from the IE team: https://connect.microsoft.com/IE/feedback/details/819518/fixed-background-image-scrolling-issue\nWorkaround:\n@mathieua Seemed fine at first, but scrolling with arrows and touchpad still jitters. Mouse wheel scroll is fine. Would you consider rewriting your jQuery snippet to target these other methods of scrolling as well? I suppose I could disable skrollr in IE11, but it's not ideal.\n. ",
    "ArialBlack": "On Windows by default mousewheel scrolls 3 lines, so scroll not smooth at all.\nI can set manualy to \"1\" but how make scroll smooth without that?\n\n. @Prinzhorn  have the same in Windows 8 in Chrome for example. \n. ",
    "brospars": "Just wrote a protip about this here (with @beardsavvy & @mathieua fix)\n. @akgoze try this : https://coderwall.com/p/hlqqia/ie-fix-for-jumpy-fixed-bacground\n. ",
    "inorganik": "Thanks @typoheads - adding a z-index to any position:fixed element fixed the issue for me.\n. ",
    "akgoze": "Hi. Is anyone fixed this problem? I've same problem about this video https://www.youtube.com/watch?v=_WAaxZUvWZ8&feature=youtu.be\n. Thank you. @benuts. \n. ",
    "PreVaDu": "Thank you @mathieua @beardsavvy and @benuts!\n. ",
    "andypanda": "Hi Prinzhorn and thanks for replying.\nDo you have any examples on how to use translate? :-)\nKind regards,\nAnders\n. ",
    "clintrobinson": "I'll give that a try. Can you explain the p? I wrote my data attributes wrong and have edited my initial post, but i will try your recommendation.\n. Found it in the docs. Not exactly what I am after. I'll try to explain it better. Regardless of page height I want the animation to move 100px for every 500px scrolled. So if my page height is 2000px, the animation would move 400px. If the page happened to only have a height of 1000px the element would move 200px. based on \ndata-top=\"background-position[linear]:center 0px;\" data-2000-start=\"background-position:center -400px;\"\nit seems to only work correctly if the page height is at least 2000px otherwise it adds a margin to the bottom to account for the missing height.\n. Figured it out. Thanks for your help.\n. ",
    "FranciscoVillen": "Thanks for answering Prinzhorn. \nI will try with the method refresh\nto the second problem. \nAbout the first issue, I have done some\nscreenshots when skrollr works well adapting and some images when\nskrollr doesn't adapt the web in ipad.\nhttp://multiplicaliatest.com.s70-169.furanet.com/img/web1.PNG [2]\nhttp://multiplicaliatest.com.s70-169.furanet.com/img/web2.PNG [3]\nhttp://multiplicaliatest.com.s70-169.furanet.com/img/web3.PNG [4]\nhttp://multiplicaliatest.com.s70-169.furanet.com/img/web4.PNG [5]\nThe images web1.png and web3.png is when the website is adapted with the ipad in horizontal position.\nAnd the images web2.png and web4.png is when the website isn't seen correctly after turning the ipad to vertical position and again to horizontal position.\nThanks.\n. I use media queries to apply different styles to different screen sizes, but the styles I have defined for different sizes aren't any special still now.\nDo Skrollr change the size of the images and texts depending on the size of the viewport size?\nIt seems to be something wrong with skrollr when you turn the tablet from horizontal position to vertical.\nI'm working in this. I will tell you if I can solve it.\nBy the way, it is the website:\nhttp://multiplicaliatest.com.s70-169.furanet.com/\nIt is still in development.\n. I have solved the problem when I turn the ipad. As you said, it was a problem of the width of the body, this width was increasing dinamically because of an animated div element which moves to the right disappearing from the screen. I solved this adding the property position:relative to the container of this animated element.\nI haven't still solved the second problem. When I fill the form, the virtual keyboard is displayed, when I leave the form, an extra space appears at the end of the web.\nBefore  body close tag I have the next script calling the refresh method when someone leave the input of the form:\nskrollr.init({\n    forceHeight: false,\n    mobileDeceleration: 2\n    });\njQuery(\"#luna form input\").blur(function(){\n    skrollr.refresh();\n});\nThe blur event is working but the  refresh method does not. \nIs refresh method correctly used?\nThanks.\n. I have called to refresh like you say, but it doesn't solve the problem.\nThe virtual keyboard of ipad push up all the web but the size of the body is the same. At the top of the web the first 200 pixeles of height are not seen, and at the bottom there are 200 pixels of height extra which are empty. \nI have tried to solve it in a lot of possible ways.\nI will follow searching.\nThanks.\n. No, it doesn't. I have added the code inside the ready after I realised about the problem.\n. When I test the link with the hash of the footer directly into the browser:\nhttp://multiplicaliatest.com.s70-169.furanet.com/#luna\nThe first time, it goes to the same point that:\nhttp://multiplicaliatest.com.s70-169.furanet.com/#comienzo\nThe second time, it goes to the correct place but the header of the page follows not appearing.\nWhereas, using these links since the website, all works fine. The problem is when you enter the link with the hash directly in the browser.\nWhat can be happening?\n. Ok, I solved this partially. The main problem was I had given the CSS property: overflow: hidden to the div which id is skrollr-body. I don't understand why this fact cause the problem. \nI'm still coding, I'll tell you if there are more problems with skrollr and hash links.\n. Finally I'm not using internal or hash links in my website. It wasn't a priority in my case.\nI solved the problem in desktop version, but the problem still was present in ipad version.\nI think that in some cases, skrollr and hash links have conflicts when you enter in the browser a link with a hash, the scrollbar isn't generated correctly but I can't garantee the problem is due to skrollr.\nI close this issue.\nBest regards.\n. ",
    "F0xtr0t": "I have the same issue with skrollr and form on iPad.\nThere are no event triggered when iPad virtual keyboard is add or removed. But when he is removed, the page stay crop at the top and there are X pixels added at the bottom.\n. ",
    "cancerian73": "Hi there\ni did try but somehow its not woking you can see it at http://www.spheretekk.com/avenue/animate2/\ni added this css\nul.fadeout li:nth-child(1){\n    -webkit-animation: fadeOut 2s linear forwards;\n}\nul.fadeout li:nth-child(2){\n    -webkit-animation: fadeOut 2s linear 2s forwards;\n}\nul.fadeout li:nth-child(3){\n    -webkit-animation: fadeOut 2s linear 4s forwards;\n}\nul.fadeout li:nth-child(1){\n    -webkit-animation: fadeOut 2s linear forwards;\n}\n@-webkit-keyframes fadeOut {\n    0% { opacity: 1; }\n    100% { opacity: 0; }\n}\nto \n<!div class=\"section3 clearfix skrollable-between fadeout\">\nthe exclamation is just for you to see the code\nthank you\nPlease tell me what am i doing wrong\n. First of all. Thank you for responding this fast. I really appreciate. Its just that i love your script and i wanna work on this only.\nAs you can see i have updated the html and now it works fine. Just the css executes its own. How to i trigger when it reaches that particular parents div while scrolling\n. Hi, I followed what you told and managed to do it. So thanks a lot. only last thing, how do i stop animation while going up. I just want them to be loaded.\n. ",
    "michaelalhilly": "okay\nill try and figure it out\nive got it running because the classes are being inserted into the html tags\nnow i just need to get the effects working\nthanks for your time\n. ",
    "kevinlbatchelor": "\"conclusion: no\"\nWhat does your comment mean? No issues? or No it will not work?\n. ",
    "labago": "Small but maybe relevant factoid:  The background-image rule is applied to the inline styles, and in Chrome if you uncheck it then check it again, it renders properly in that small window where it is showing up as just white.\n. They are also rather large background images, is there a way for skrollr to preload them so there is no load delay? Maybe that's the issue\n. > Well, does the delay disappear once all backgrounds have been loaded?\nNo it persists even after all have been loaded, and these images are not that big actually they are only about 60 KB each. The image takes up the entire screen though.\n. Can I send you a zip file of the package? Its not that big, I would rather not post our dev URL\n. Its also just static HTML, very simple\n. That works, go here http://jsbin.com/OVUKeJo/5\nThe page is missing a lot of assets obviously but I hosted the important ones to showcase what I am seeing. Normally the background images that are being used are stored on the local server, but I had to host on a remote one for the example.\nScroll down to where the background color switches (after the About Sections) and there is a point near each transition where you can precisely scroll to and background will remain white until you scroll back up or down. It will continue to happen even after the image has been loaded, you can keep scrolling up and down to see it.\n. Request URL:http://www2.fathomcommunications.com/css/images/green-background.png\nRequest Method:GET\nStatus Code:200 OK\nRequest Headersview source\nAccept:image/webp,*/*;q=0.8\nAccept-Encoding:gzip,deflate,sdch\nAccept-Language:en-US,en;q=0.8\nCache-Control:no-cache\nConnection:keep-alive\nCookie:__utma=244226066.909324114.1391444442.1391444442.1391444442.1; __utmz=244226066.1391444442.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none)\nHost:www2.fathomcommunications.com\nPragma:no-cache\nReferer:http://www2.fathomcommunications.com/\nUser-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/32.0.1700.107 Safari/537.36\nResponse Headersview source\nAccept-Ranges:bytes\nContent-Length:64473\nContent-Type:image/png\nDate:Thu, 06 Feb 2014 18:15:49 GMT\nETag:\"e8dc809b5023cf1:0\"\nLast-Modified:Thu, 06 Feb 2014 15:32:13 GMT\nServer:Microsoft-IIS/7.5\nX-Powered-By:ASP.NET\nThe URL www2.fathomcommunications.com is not a real URL, its faked by IIS for testing purposes.\nI just tried the site (about 2 hours later) and it magically seems to be working, but I am worried about this happening on a user's desktop. I am not confident that this problem is completely gone.\n. Nope, it was unchecked\n. The background image for that div is only controlled by Skrollr. It has been working as I expected in all browsers and on the servers I have been testing on up until now, just on that one production server it started acting up. Its a really peculiar problem but for the time being it seems to have stopped doing it. I have no idea what caused it but thank you for your input, if you think of anything else let me know.\n. ",
    "ptim": "I've created a SO questions here:\nhttp://stackoverflow.com/questions/19923605/why-is-skrollr-preventing-scolling-on-ipad\n. Hey thanks so much for such swift support, and sorry to waste yr time!  \nI had a completely crossed wire: I've been seeing (the completely unrelated) <autoscroll_cursor hidden=\"\"></autoscroll_cursor> appended to pages in Chrome, and in a tired state, misread your doc, and drew a crazy conclusion about #skrollr-body acting as a layer over the page or something crazy! For the record, I had tried adding skrollr-body to my #container page wrap, but clearly that was misguided :/\nSkrollr rocks - thanks again\n. ",
    "burbanczyk": "Try using img instead of animating background-position or animating margin-top or top position of a div with background. I had approx 25fps using backgrounds and now nearly 60 using scaled img position absolute. Don't forget to use transform3d(0,0,0)\n. I had the same issue - chrome top and bottom of div with background is flickering. Strangely when i included a google maps iframe it stopped. I know how that's strange but it really worked for me.\n. ",
    "windweller": "Not working with AngularJS is not skrollr's fault. You need to wrap skrollr in an angularJS directive.\n. ",
    "shaunkatona": "For anyone else having this problem, try changing your skrollr directive link method (first make a skrollr directive like @windweller said) from:\nskrollr.init();\nto:\nskrollr.init().refresh();\nThat ended up working for me - now subsequent page/state changes still have working skrollr functionality.\n. ",
    "russellmorgan": "Sorted it out, sorry for the signal to noise...\nFor anyone interested I set mobileDeceleration: 0.003 (just a wee bit below the default) and extended the scroll distance until I liked momentum. In my case looking at an ipad2 in landscape mode I found a scroll of about 2000 gives you close to the native effect.\n. ",
    "floriancapelle": "Nice, works. Thank you very much!\n. ",
    "xavi-dev": "I have tried a lot of combinations because the scroll became too slow on an iPad, and \"disabling\" the skrllr works fine again. You are right that this code does not disable skrllr, but avoid the initMobile method. I can avoid return without init if you prefer:\nif (_isMobile && _disableMobile) {\n    return;\n} else if(_isMobile) {...\n. You are right... The Safari's cache did me a dirty trick.\n. Sorry, I'm testing your function and the iPad still runs the animation. With my \"solution\" the iPad does not show any animation.\n. Then I will search other way. I will send you a request in the future.\nBest regards!\n. Thank you but as the server renders the html with the div \"data-10p\"... I want to render the first frame and not bind skrllr to any action.\nI have changed the code to:\nif(_isMobile && _disableMobile) {\n    _instance.refresh();\n    _render();\n    return;\n} else if(_isMobile) {...\nand works like a charm in my situation. This is not an elegant solution but it works!\n. ",
    "08acatra": "so do you mean that you had a link that went to a hashtag on another page that was somewhere in the middle?\n. I've just been using vanilla skrollr, would skrollr-menu work better? I've never used it\n. ",
    "hoangdk80": "All right, I was able to do it this way:\nusing a php loop works fine for displaying the animation\npreloading the images seems to prevent the flickering stroboscopic effect.\nThank a lot\n. ",
    "3tlam": "I have moved it to the skrollr-path issue tracker: https://github.com/Prinzhorn/skrollr-path/issues/2\n. ",
    "DocX": "I was trying with it in simple html without CSS styles. So I had not height:100% on html. So if it is mandatory for the right function, it could be ok. IMHO I would still prefer window.innerHeight since it is more verbose about what it should be :) \n. ",
    "Rubenamado": "I was referring to the instructions on the div that flickers: \n     data-200=\"background:rgba(255,255,255,0);\"\n     data-600=\"background:rgba(192,225,215,1);\"\n     ....\nI know its skrollr, because when I remove the .js it doens happen. \nnodeinteraction.com\nany ideas? \n. i'm having troubles with Mac OS 10.7. but nevermind... i'm going to remove skrollr for now till i solve this. \nthanks anyway.\n. ",
    "2wodigits": "Try without using zurb foundation \n. ",
    "alfredva": "I had the same issue as @burbanczyk and when I add a maps iframe the scroll becomes smooth. Strange solution, how can that be?\n. ",
    "hndollar": "Links embedded in images. (Click the image to follow the link.) Everything looks right but nothing happens when I tap on the links.\n. ",
    "ceehaupt": "In fact I want to have a scrollable menu and the background should'nt scroll with. I tried with a swipe script and it did scroll but the background too.\n. var s = skrollr.init();\n$(function() {\n    $('#slideoutnav_btn').click(function() {\n        if($(this).hasClass('clicked')) {\n            $(this).removeClass('clicked');\n        } else {\n            $(this).addClass('clicked');\n            s.destroy();\n        }\n    }); \n});\nThis works for the first part. If clicked skrollr is not acting any more. But how can I reinitialize it after a destroy?\ns.refresh(); shows me an error: Uncaught TypeError: Cannot call method 'getScrollTop' of undefined \nvar s = skrollr.init(); shows me: Uncaught TypeError: Cannot call method 'destroy' of undefined \nskrollr.init(); shows me gives me a result but with a second scrollbar \n. I'm using the latest version and it works like a charm now. Thank you so much for the plugin and the awesome support.\n. There's a little problem. If I use this script I have to touch the navigation links two times to get an action.\n. http://jsbin.com/EDoPEzo/3/edit?html,css,js,output\n. I have the problem only on iOS.\n. Now they have http://jsbin.com/EDoPEzo/4/edit\n. Could send you a private message with the devsite's link.\n. Lazy Load : http://www.opensource.org/licenses/mit-license.html\nand  http://luis-almeida.github.com/unveil\nI'm using the wordpress plugin crazy lazy.\n. ",
    "sborrowman": "That is what I was thinking about doing as well. I already have the code to remove all the current attributes but had hoped there would be an easier way hah.\n. pike67, how were you able to get it to work? For some reason, mine only seems to work the first time you resize. If you resize again it breaks. I have my code setup to remove all the data tags, then check to see if you're done resizing. When that check passes, it reloads all my functions that I need to change content heights and add my data tags for skrollr but I still end up with extra data tags and the wrong skrollr amounts.\n. I used an each function instead of a for loop. Like this:\n$('.skrollable').each( function() {\n            var $skroll = $(this);\n             $.each( $skroll.data(), function( key ) {\n              $skroll.removeAttr( 'data-' + key );\n               });\n        });\nMaybe I'll try the for loop though. Mine doesn't seem to be working exactly the way I want it to. Sometimes it only removes one of the data attributes instead of both.\n. Ya, I don't have any other data attributes so I built mine as kind of a \"remove all\" function. Either way, I still can't get it to work the way I need it to. When the window resizes, my function that adds the data attributes seems to add them before my function can remove them all so I end up with way too many and my skrollr gets messed up.\n. Now I'm just really confused. I have been able to get it to work sometimes the first time the browser is resized, but it never works any time after that.\nI may have to switch to a different plug in to get my animations to work because I have to be able to reset the values when the window is resized. It's a shame because on initial load, this plugin works great.\n. The issue isn't updating all my variables, the issue is that I can't seem to update the data attributes that skrollr is using. Most of my vars I want to update constantly while resizing because I'm changing a bunch of images and content blocks depending on the height of the window. This code works fine, however, once all my heights change, the starting and stopping points of my animations, as well as how much they animate, also needs to change. I can't just add new data attributes, and I can't seem to remove them before I add them again and get skrollr to update.\nAfter a bunch of testing, I'm noticing that, even though I'm adding the data attributes with jqeury on load, when I remove them and re-add them, my script to detect them is no longer seeing them.\n. Ya, I use .attr() to add the values and .removeAttr() to get rid of them.\nMy code to add them looks something like this:\n$this.attr('data-' + start, 'transform:translateY(' + windowHeight + 'px)').attr('data-' + end, 'transform:translateY(-' + (windowHeight * 0.75) + 'px)');\nand my code to remove them is what I showed you earlier:\n$('.skrollable').each( function() {\n    var $skroll = $(this);\n    $.each( $skroll.data(), function( key ) {\n       $skroll.removeAttr( 'data-' + key );\n     });\n});\n. I figured out the problem, or at least the solution. I need to add both the .attr('data') and the .data() at the same time, with the same information. Then remove them both at the same time.\n. I ended up adding both .attr('data') and .data to the elements. So, a line of code would look something like $(element).attr('data-0', 'transform:translateY(0px)').attr('data-' + stop, 'transform:translateY(-' + $(element)outerHeight() + 'px)').data('0', 'transform:translateY(0px)').data(stop.toString(), 'transform:translateY(-' + $(element).outerHeight() + 'px)');\nOn resize, I would remove both attr and data with: \n```\nclearTimeout( checkResize );\ncheckResize = setTimeout(function() {\n    $('.skrollable').each( function() {\n        var $skroll = $(this);\n        $.each( $skroll.data(), function( key ) {\n            $skroll.removeAttr( 'data-' + key );\n            $skroll.removeData();\n        });\n    });\n}, 250);\n```\nThen, call my function that adds them again.\nBasically, I had to add and remove both attr and data every time the window resizes. I hope this helps.\n. ",
    "KevinOrfas": "Hi guys, Could you post the solution snippet?  #sborrowman\n. Thanks a lot mate, that was helpful. \n. ",
    "AlexandraKlein": "$(function() {\n    skrollr.get().refresh();\n}); \nPutting that after init did it for me.\n. ",
    "christian-bromann": "If I remove skrollr, everything works fine. I tried also to replace all images with SVGs and to decrease page size/content. Nothing helped. At some point it crashes. Will do some more investigations and will let you know if I find the problem.\n. Ok I've found the problem. It wasn't a problem in skrollr but rather a mistake on my site and more a general performance issue. As described in the readme you have to wrap your content into an #skrollr-body element to enable mobile support. The skrollr-body gets translated if an user is swiping on the device. It emulates a native scroll behavior. Problem is that if this container exceeds a specific height the memory consumption is just to high and Safari crashes. It kinda looks like this:\n\nAll div blocks contain stuff like images (SVGs and JPGs), texts and other minor skrollr animation (relative to viewport).\nIt's odd that it is just crashing on iPad Air, maybe the changeover to 64bit CPU is the reason for that, don't know. Actually there are many threads and discussions about this. Anyway I came up with the following solution: at each scroll event I check each <div /> container if it is within the viewport. If not I set the height manually and hide all stuff within the container via display:none vice versa. No crashes anymore and noticeable performance boost. That's it. Hope this can help other developer facing that same problem.\nThanks @Prinzhorn \n. Ok tried visibility:hidden and it seems to be that it doesn't have as much impact on memory as display:none. There is still a small performance improvement but it keeps crashing.\n. ",
    "wgmp": "Thanks for the quick response!\nMy error, it's a black screen, though it does seem to have a gradient,\nscreenshot attached.\nAlso, it's an embedded webview. The default android browser displays ok on\nHTC one mini too, it's just when embedded I get the issue.\nBest, William.\nOn 23 Dec 2013 13:13, \"Alexander Prinzhorn\" notifications@github.com\nwrote:\n\nIt does work on the default Android browser on my S2, which should be the\nsame rendering engine. There's this issue with Android: #175https://github.com/Prinzhorn/skrollr/issues/175but you say your window is completely white. There must be something\ncompletely wrong.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Prinzhorn/skrollr/issues/407#issuecomment-31118363\n.\n. OK, sorry, noob error.\n\nI've got to get a bit more forensic on this, will post any useful\nresolution.\nDo you know of anyone using skrollr ok in an android webview (pre 4.4)?\nOn 23 Dec 2013 15:20, \"Alexander Prinzhorn\" notifications@github.com\nwrote:\n\nAttachments won't appear in GitHub comments, you need to upload them here.\nI don't know how I could help you, sorry.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Prinzhorn/skrollr/issues/407#issuecomment-31124208\n.\n. OK. So now it works like a dream - on Android and iOS, and totally comparable to the native code for smooth animation.\n\nIssue was the webview container being sized to zero height at start, all the 100% high sections were a bit short. :). With the web view initialized at full screen in the native app we're good.\nI can see the standard Android webview bug, where only the first css property gets animated, but we can work round it and bar that it's great.\nThanks again for your quick response previously, and an awesome library! \nBest, W.\n. Cool, thanks again. All working.\n. ",
    "ykurniawan": "Just found the same issue, thanks for the fix.\n. on WP 8? Yes, confirmed\n. Many thanks for the great plugin :)\n. ",
    "CuddleBunny": "That makes sense, thanks.\n. ",
    "stereokai": "Does it perform well?\n. In what ways do you find iScroll 5 better, when taking into account that it has to control skrollr while scrolling?\n. @Prinzhorn Thanks for clearing that up. I was referring to improvements in performance more than anything else. I am assuming you dropped iScroll because of the performance hit coming with that fake scrolling you're talking about?\n. @Prinzhorn By the way - re-reading this thread, I noticed you remarked that skrollr with iScroll should perform as good as mobile mode skrollr at the least... What did you mean by it? Thanks.\n. I was rather asking you what are the downsides of the mobile mode, because I couldn't find them in your wiki :)\n. I see. Well, I have to say that I'm feeling a lot more confident about using skrollr with iScroll, now that I'm not concerned about any impact on performance. I appreciate your communication!\n. ",
    "kof": "iScroll 5 is now much better. I think its possible now to use it for touch events, momentum scrolling etc. and reduce scrollr to parallax effects.\n. it has now more events and properties which are required to react on scrolling.\n. Probably you could work around it and generate markup iscroll requires. Also it will get a thin core in the future and everything else will be plugins.\n. ",
    "a5hton": "Thank you Prinzhorn! I appreciate your time. That solved my issue. I can't believe I missed that. I guess I was just having one of those days. Cheers! \n. ",
    "jpoeffel": "I am also having the same problem.   I tried wrapping all my content with \n  and nothing changes.  Can you tell me what I am doing wrong?  Looks find in a desktop browser and doesn't scroll normal content on mobile device.\n. Got it....Thanks\n\n\n. Sorry to ask again.  I didn't get much help at Stackoverflow .  I am still having the jumping issue with the ipad.  It works great on the computer, the fades and slides work great on the ipad, but I suspect the issue is with parallaxing the backgrounds.   Can you help?\nThanks!\n. ",
    "tommyangelo": "Hi,\nits not working for me either, tried to debug but the prefix values seem ok \"ms\" and \"-ms-\". But IE 9 doesn't do any transitions. No -ms-transform in style.\n. ",
    "dibba": "Seems to have resolved with the latest Chrome update. \n. ",
    "kamiblue": "Thanks Alexander---but I am using the plug-in elsewhere and wouldnt want to disable the plugin on scrollr-up-- I just want to be able to rotate that one image depending on data.direction--I was thinking of something along the lines of --transform:rotate(180deg)--but have no idea how to implement it.  I was reading through your guide and do recall something about there being a done event generated-if so, is it possible to use that along with the transform:rotate call?\nThanks so much,\n---Yvette\n. Thanks Alexander--I'm afraid I still don't understand your code--what is lastDirection? and where does the direction variable come from? do I pass it in as a data attribute, like so: data.direction= 'down'? I tried declaring it as a var in the jQuery but I cant get it working:\nskrollr.init({\n                render: function(data) {\n                if(direction !== data.direction) {\n                 direction = data.direction;\n                 console.log(data.direction);\nif(direction === 'down') {\n            $('html').addClass('skrollr-down. #fleetweek').css({\n            'z-index': '10',\n            'position': 'absolute',\n            'top': '1200px',\n            'left': '5000px', \n            '-moz-transform': 'rotate(180deg)',\n            '-ms-transform': 'rotate(180deg)',\n            '-o-transform': 'rotate(180deg)',\n            '-webkit-transform': 'rotate(180deg)',\n            'transform': 'rotate(180deg)'\n}).removeClass('skrollr-up');\n            } else {\n            $('html').addClass('skrollr-up. #fleetweek').css({\n            'z-index': '10',\n            'position': 'absolute',\n            'top': '1200px',\n            'left': '5000px', \n            '-moz-transform': 'rotate(0deg)',\n            '-ms-transform': 'rotate(0deg)',\n            '-o-transform': 'rotate(0deg)',\n            '-webkit-transform': 'rotate(0deg)',\n            'transform': 'rotate(0deg)'\n}).removeClass('skrollr-down');\n            }\n       }\n  }\nimg id=\"fleetweek\" src=\"img/fleetweek.png\" width=\"5764\" height=\"456\" alt=\"fleetweek plane\" data-1260=\"transform:scale(1);left:250%;\" data-1860=\"transform:scale(2);left:-1200%;\" /\nThanks,\n--Yvette\n. Thanks Alexander--I do know some CSS and JavaScript--sadly, I don't possess the knowledge or ability that you do--I see that you declared it, but you just declared the variable and never showed me where/how to use it...\nvar lastDirection;\nskrollr.init({\n    render: function(data) {\n        if(direction !== data.direction) {\n            direction = data.direction;\nif(direction === 'down') {\n            $('html').addClass('skrollr-down').removeClass('skrollr-up');\n        } else {\n            $('html').addClass('skrollr-up').removeClass('skrollr-down');\n        }\n    }\n}\n});\nForgive me for my stupidity, but it is not self-evident to me what to do with that var..and I don't understand what I am supposed to do with this:\n.skrollr-up #fleetweek {\n    /* Add prefixes */\n    transform:rotate(180deg);\n}\nthis was my attempt to integrate the css:\n$('html').addClass('skrollr-up. #fleetweek').css({\nI see you have the var direction defined in your skrollr.js code--I am assuming that when there is a call to skrollr the render function fires and  based on the code you provided me with, I thought it would automatically provide you with the data.direction--however, tracing direction or data.direction just gives me an undefined var error.\nAm I supposed to pass something to the render function--ie, data--if so, how?\nif you could just give me a hint or two I think I could get it working--maybe not:(\n----UPDATE----\nI found this cool walking dead tutorial and am trying to use those methods, but I can't seem to turn the plane around--(sorry, those error messages were unrelated)--\n                var plane = document.getElementById(\"fleetweek\");\n                var lastStep = 0;\n```\n            skrollr.init({\n            beforerender: function(o){\nif(o.curTop > lastStep + 50){\n\n    lastStep=o.curTop;\n}\nif(o.curTop < lastStep - 50 && o.curTop > 1900){\n\n    plane.setAttribute('style','-moz-transform:rotate(180deg)');\n    plane.setAttribute('style','-webkit-transform:rotate(180deg)');\n    plane.setAttribute('style', '-o-transform:rotate(180deg)');\n    plane.setAttribute('style', '-ms-transform:rotate(180deg)');\n    lastStep=o.curTop;\n    console.log(lastStep);\n    }\n        }\n        });\n\n```\nany help would be appreciated---\nThanks,\n---Yvette\n. Beautiful!--You're amazing--thanks so much and I will post on stackoverflow in the future if need be...I actually meant to flip the image like so--not rotate 180 degrees--\n.skrollr-up #fleetweek {\n        -moz-transform: scaleX(-1);\n        -o-transform: scaleX(-1);\n        -webkit-transform: scaleX(-1);\n        transform: scaleX(-1);\n        filter: FlipH;\n        -ms-filter: \"FlipH\";\n}\nThanks again,\n---Yvette\n. ",
    "xavierartot": "Nice, but we don't have interpolation with this!\n. ",
    "zotusMe": "thanks for the quick reply. had no luck with that though...\ni ended up monitoring the scrollY value and fire my functions accordingly. nasty solution but so far so good... :\\\n. I did, however, after hours of searching, come across this interesting approach, which is to \"ask\" while scrolling who has the class of \"skrollable-after\" using the hasClass() method, like so:\nvar box = $('#box'),\n    boxDone = false;\nif ( box.hasClass('skrollable-after') ) {\n        if ( ! boxDone ) {\n            boxDone = true;\n           // do stuff\n        }\n    } else if ( boxDone ) {\n        boxDone = false;\n    }\n. ",
    "joshmlewis": "Ah, I feel dumb.  I look through the docs but looked right over that.  I'm sorry!\n. Actually, I don't have a keyframe that's higher than the page.  The highest is 1800, and the page is over 2000px high.  You can check it out at http://babaziki.herokuapp.com/home\n. It's not there unless your browser height is quite tall (the screenshot I took before was on a cinema display)\n. ",
    "jackblackCH": "If you adapt unveil.js with your suggestion it works but the images are loaded too early at least not at correc time. any idea why? wrong calculation of the height maybe?\n. ",
    "carlosbarahona": "I could now find the error, the problem arises when I enter a 3d transform (rotatey). It is a render problem ?\n. The problem occurs when I add the transformation to the frame rotateY id: 'for' and id 'cont-int', what happens is that when you reach the end of the scrollbar rendering the last frame stops, leaving the animation to half of its execution.\nThis is the link to the site that has included rotateY and presents the problem:\nhttps://googledrive.com/host/0B6lKxravXUXPZk5JNGhxY2JXZ28/index3d.html\nIf I remove the function completely rotateY animation runs, as seen in the following link:\nhttps://googledrive.com/host/0B6lKxravXUXPZk5JNGhxY2JXZ28/\nI think it's a rendering problem\nSorry for my bad english.\nThanks in advance.\n. In the second link is not present the transformation rotateY (), and works well. But in the first, being present the transformation rotateY(), the yellow box is not fully displayed.\nI think it's a problem when using 3d rendering functions (rotatey, perspective, preserve-3d, translatez). Is there any way to force rendering?\nThanks for your interest.\n. Google chrome.\n. ",
    "digitaltopo": "I'm having the same problem on iOS7 safari. Anyone have any ideas?\n. ",
    "bfred-it": "I made a new pull request, now it should work.\n. I'm having a similar issue on the website I'm working on and I'm only using opacity/transform.\nThis page: http://alation.wildlife.la/?numbers=no&slide-scrolling=no\nThe scroll works normally \u2014 except the expected delay caused by Safari's quirky scroll.\nClick on the dots on the side: animating the scroll will cause that terrible jankiness. This happens whether you animate it with skrollr's own .animateTo (which is what I do) or jQuery's .animate({scrollTop})\nThe problem is exacerbated when adding a few hundred parallaxed elements (which behave fine in other browsers, especially in the silky-smooth Firefox): http://alation.wildlife.la/?slide-scrolling=no (the init takes a few seconds this time, but that problem is for a different time)\n. I think this is an issue with Safari itself. I ended up disabling all scroll animation on it. \nA solution would be using the touch version in Safari desktop too since it uses translate and not scrollTop, but that would need a bit of work. \n. ",
    "ronaksv": "Hey Prinz, thanks for your prompt response.\nI have multiple divs in my page which need to scroll, so is \"skrollr-body\" required only on one of them? which one?\nSecondly, for frames, I noticed when you pointed it out. I do not know how are they showing on my page? It may be an issue from my host, will rectify and revert back.\n. Thanks I read that and thats why I had put 'skrollr-body' but its not clear or I did not understand correctly that there should be one wrapper element with the id skrollr-body. Will surely try it out.\nMeanwhile the \"frames\" issue was indeed from my host. Have rectified it. Have a look. The display got even worse :smile: \n. Making one wrapper did not work. I have moved the code to http://santronique.com/testing\n. Now thats due to \"fixed-positioning.css\" and if i remove position:fixed from there, the display on desktop goes haywire. What to do?\n. Yes.. currently it is without skrollr-body... without it is behaving as the original problem. It never reaches \"Our Clientele\". It scrolls up after \"Our Expertise\"\nI also noticed that skrollr display page also does not show properly on mobile (same as mine). Are you planning to fix that? If that happens i will follow you on the same lines.\n. I have S4 on stock 4.3. Also I tested on Note2/4.2 stock.\nI saw that on Chrome, it went all the way through, \nSecondly, I want the display to be as seen on the screen \nThe second one uses frames as pointed out by you.. but I do not want to use frames\n\n\n. OK.. I will handle that.. but any solution to the original problem?\n. Out of context question, if you could help.. \nwindow.scrollTo() is not working on Android. \nI tried different options mentioned on stackoverflow.\nChanging the overflow to hidden, then scrollTo() and then again overflow to auto, but it did not work on Android browser.\nDo you have any idea how I can achieve that?\n. Oh good, thats what I wanted.. thanks!\n. ",
    "murpy": "ow, such a pity.\nthx anyway\n. ",
    "versak": "After taking out my frustrations by entering this question, I tried a few more things. Adding \"position: absolute\" to the css for the element I couldn't select fixed the problem. \n. ",
    "drfisher": "Sorry for my bad english =)\nhtml\n<div id='viewport'>\n    <div id='first-animated-elem'>Hello</div>\n    <div id='second-animated-elem'>Hello again</div>\n</div>\nI want to setup div#viewport as viewport for both nested elements with different animation params.\n. No, my question is how to tell to the div with id 'first-animated-elem' that his viewport is the div with id 'viewport'?\nMy question is about data-atributes sintax.\n. I'm talking about relative mode. There no examples in the docs:\n\n. Yes, thanks.\n. ",
    "alvarotrigo": "Just use the fullPage.js option scrollBar:true. \nFrom fullPage.js FAQs:\n\nParallax doesn't work with fullpage.js.\nShort answer: use the scrollBar:true option for fullPage.js or autoScrolling:false if you don't want to use the auto-scrolling feature.\nExplanation: Parallax, as well as many other plugins which depends on the scrolling of the site, listens the scrollTop property of javascript. fullPage.js doesn't actually scroll the site but it changes the top or translate3d property of the site. Only when using the fullPage.js option scrollBar:true or autoScrolling:false it will actually scroll the site in a way it is accessible for the scrollTop property.\n. @Prinzhorn if you don't mind not being properly categorised until their fix. Yeah, then it is. \n. \n",
    "TrySound": "@obojdi  You may try my realization skrollr-decks\n. @ianxdev3 Example please\n. ",
    "vachi": "i also have the same issues, can only produce it in Safari, and i am doing, less then dozen opacity changes, only can be seen on scrollTop , \n. ",
    "qkdreyer": "I already have commented out _requestReflow = true since it is giving me best results for now. (assets/js/vendor/skrollr.min.js:303)\n. I've hacked around it by commenting out \"_requestReflow = true\" (not sure about the aftereffects) and by adding :\n$('input,textarea').on('blur', function() {\n      window.scrollTo(0, 0);\n      _skrollr.setScrollTop(_skrollr.getScrollTop() - 1, true);\n});\n. ",
    "ewanm89": "Changed the variable we are getting new state so closing to make fresh pull request.\n. ",
    "julienwa": "Sorry was mistake in my Javascript code.\nAnyway thanks for this quick reply.\nCan close issue.\n. ",
    "mandel99": "I have 6 sections on the Web \"main\", \"about us\", \"products\".... main uses skrollr about us it does not use, and products used again.\nThe whole web is a dynamic one file, so if I'm on the \"main\" and click on \"about us\" or \"products\" web moves slide effect to the desired page, but it's still active skrollr on the the previous page, even if not visible\nsorry for my english...\n. ",
    "icekomo": "Thanks Prinxhorn,\nOddly enough I'm having issues when the screen enters 768 size and skrollr is being initialized. It seems that if I go from table to mobile (which destroys skrollr) and the back to tablet(which inits skrollr) skrollr doesn't seem to work at all. I'm using the same code as above.\nI've also noticed that if I have 3 section tags in my html and the 3rd section I only have data-0=(transform:translate(0,0)); that the section doesn't move down when the page loads in Firefox. Just wanted to mention it.\n. ",
    "silvenon": "It would be nice if disabling skrollr on mobile was implemented as an option.\n. @diagramatics In the meantime you can override it :sunglasses:\n. Yes, but I'm sure he'll find time for it eventually.\n. Thanks :) The only thing you should update is version and, if your project structure changes, main. I volunteer to fix Bower-related issues, just ping.\n. Apparently it can! #502 \n. I have a similar issue where skrollr-ing a certain element doesn't work properly if I don't have my DevTools open, I have no idea why that is. I really tried, but I can't seem to isolate the issue\u2026\n. I have two skrollables on my page, one works normally, the other one starts working after resizing. This happens in Firefox too.\nNothing happens when I kill the first skrollable, but if I transfer the other one to a different page, it works fine.\nI'm going to debug the crap out of this, I'm dying to know what is happening.\n. Found it. I was using a tab plugin which did some JS + CSS hiding, which threw off skrollr when it was initially calculating. I solved it by doing a .refresh() with a delay of 0:\njs\nsetTimeout(function () {\n  skrollr.get().refresh();\n}, 0);\nMaybe you have a similar issue.\n. ",
    "rediris": "Check out my solution for this here:\n- https://github.com/Prinzhorn/skrollr/issues/596#issuecomment-54241421\n. I get the following error when attempting to use @transform instead of transform, independent of browser:\nFirefox: \n```\nUnexpected value translate(0,17.096774193548384px) parsing transform attribute.\n...=(Ot-C)/F,C=Ot):0>C&&(D=-C/F,C=0),A*=1-D,it.animateTo(0|C+.5,{easing:\"outCubic\",...\n```\nChrome:\nInvalid value for <g> attribute transform=\"translate(0,-42.61538461538461px)\"\n. OK, that seems to work better:\nPixel based transforms, without comma and without \"px\"\ndata-bottom-center=\"@transform:translate(0 -50);\" data-center-center=\"@transform:translate(0 70);\"\nAnd percentage based transforms don't work at all:\ndata-bottom-center=\"@transform:translate(0 -10%);\" data-center-center=\"@transform:translate(0 10%);\"\n. Thanks, I'll keep all of this in mind.\n. Here's an example of what I did to disable skrollr on anything less than 600px wide:\n```\n// DEBOUNCE FUNCTION via @http://davidwalsh.name/javascript-debounce-function\nfunction debounce(a,b,c){var d;return function(){var e=this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b),c&&!d&&a.apply(e,f)}}\nskrollrCheck = debounce(function() {\n  var winWidth        = window.innerWidth;\n  if(winWidth >= 600) {\n    // Init Skrollr\n    skrollr.init({\n        forceHeight: false,//disable setting height on body\n        mobileDeceleration:0.05,\n        render: function(data) {\n            //Debugging - Log the current scroll position.\n            //console.log('data.curTop: ' + data.curTop);\n        }\n    });\n    skrollr.get().refresh();\n  } else {\n    // Destroy skrollr for screens less than 600px\n    skrollr.init().destroy();\n  }\n}, 250);\n//Initialize skrollr, but only if it exists\nif(typeof skrollr !== typeof undefined){\n  // INITIALIZE\n  window.onload = skrollrCheck();\n  window.addEventListener('resize', skrollrCheck);\n} else {\n  console.log('skrollr is missing.');\n}\n```\nYou could probably incorporate @stefsullrew's suggestion instead of detecting window width.\n. If you put it directly in the HTML, did you wrap it in a script tag?\n<script>\n[your code]\n</script>\n. Here's a slightly different approach, which is to disable skrollr for any device under 600px. The desire was to disable skrollr on phones, but enable it on some tablets.\nAlso, since this checks to see if the \"skrollr-body\" ID exists on the body tag, this effectively prevents a scrolling bug that was happening in iOS 8 (where scrolling at the outer boundaries of the page [top and bottom] would trigger a scroll to the top of the page). This is not production-ready code, meaning, ditch the console.logs, etc and minify as necessary.\n```\nskrollrCheck = function() {\n  var winWidth        = window.innerWidth;\n  var winHeight       = window.innerHeight;\nif(winWidth >= 600) {\n    if(document.body.id !== 'skrollr-body') {\n      document.body.id = 'skrollr-body';\n      // Init Skrollr\n      skrollr.init({\n          forceHeight: false,//disable setting height on body\n          mobileDeceleration:0.04,\n          smoothScrolling:true,\n          render: function(data) {\n              //Debugging - Log the current scroll position.\n              //console.log('data.curTop: ' + data.curTop);\n          }\n      });\n    }\n    if(winWidth > winHeight) {\n      console.log('orientation is landscape');\n      skrollr.get().refresh();\n    } else if (winWidth < winHeight) {\n      console.log('orientation is portrait');\n      skrollr.get().refresh();\n    }\n  } else if (winWidth < 600){\n    // Destroy skrollr for screens less than 600px\n    if(document.body.id === 'skrollr-body') {\n      skrollr.init().destroy();\n      document.body.id = '';\n    }\n  }\n};\n//Initialize skrollr, but only if it exists.\nif(typeof skrollr !== typeof undefined){\n  // INITIALIZE\n  window.onload = skrollrCheck();\n  window.addEventListener('resize', skrollrCheck);//listens for resize, and refreshes skrollr\n  window.addEventListener('orientationchange', skrollrCheck);//listens for orientation change, and refreshes skrollr\n  console.log('skrollr active!');\n} else {\n  console.log('skrollr is did not load.');\n}\n``\n. @BradMcGonigle, since you're not setting#skrollr-bodyon the body tag, you'd need to test theinstead of the. To do this, it would make sense to have a (unique) class on that particular` as well.\nYou could try something like this (caveat: this is untested, and likely won't work in IE8):\n```\n// define variables\nvar myDiv = document.getElementsByClassName('myDiv');//should be a unique class\nskrollrCheck = function() {\n  var winWidth        = window.innerWidth;\n  var winHeight       = window.innerHeight;\nif(winWidth >= 600) {\n    if(myDiv.id !== 'skrollr-body') {// if myDiv doesn't have #skrollr-body\n      myDiv.setAttribute('id', 'skrollr-body');// set ID of myDiv to #skrollr-body\n      // Init Skrollr\n      skrollr.init({\n          forceHeight: false,//disable setting height on body\n          mobileDeceleration:0.04,\n          smoothScrolling:true,\n          render: function(data) {\n              //Debugging - Log the current scroll position.\n              //console.log('data.curTop: ' + data.curTop);\n          }\n      });\n    }\n    if(winWidth > winHeight) {\n      console.log('orientation is landscape');\n      skrollr.get().refresh();\n    } else if (winWidth < winHeight) {\n      console.log('orientation is portrait');\n      skrollr.get().refresh();\n    }\n  } else if (winWidth < 600){\n    // Destroy skrollr for screens less than 600px\n    if(myDiv.id === 'skrollr-body') {// if the screen is less than 600px and myDiv has #skrollr-body\n      skrollr.init().destroy();\n      myDiv.setAttribute('id', '');// remove #skrollr-body ID from myDiv\n    }\n  }\n};\n//Initialize skrollr, but only if it exists.\nif(typeof skrollr !== typeof undefined){\n  // INITIALIZE\n  window.onload = skrollrCheck();\n  window.addEventListener('resize', skrollrCheck);//listens for resize, and refreshes skrollr\n  window.addEventListener('orientationchange', skrollrCheck);//listens for orientation change, and refreshes skrollr\n  console.log('skrollr active!');\n} else {\n  console.log('skrollr is did not load.');\n}\n```\n. Confirmed not working on Android for me.\n. ",
    "sanjarani": "Thanks you very much for your answer...\nI posted the question in stackoverflow in this link http://stackoverflow.com/questions/22030976/animation-lag-in-chrome-and-firefox-in-parallax-website-using-skrollr\nbut I didn't get any answers, that's why I'm annoying you here.\nthis is a link of my whole code: http://jsbin.com/zazuqoji/1/edit\nIf you prefer to answer me on stackoverflow.com, it's ok...\nThanks in Advance...\n. ",
    "lsterling03": "I should add I have also tried forceHeight: false and true. That seemed to eliminate that extra whitespace I was getting at the footer, but made no difference with my cutoff issue at the top.\nAlso, this doesn't happen in the browser when resizing it to tablet width and back. Only on the actual tablet. \nAlso, I tried deleting everything between the body tags except for the skrollr-body div and one line of text. And sure enough, it still cuts off the top when I switch to landscape.\nI even tried removing all stylesheets and scripts other than skrollr. Still have the same issue, so it's not something from my css. \nI'm stumped.\n. YES. That fixed it. Thank you for the suggestion.\n. ",
    "functionandform": "thank you for replying so quickly... i think i know CSS pretty well. im completely comfortable building responsive websites having done so for a long time now, but this is the first time ive tried a scrolling site. This is the site, (its just an experiment really) \nhttp://toddpadwick.co.uk/client_demos/maxwells/\nthe burger is the thing im trying to move in from the right without moving diagonally. but at the moment, it only animates at all if you re size the browser after page load let alone the pausing problem. \nI did actually have that underscore but only mis-spelt it in the email.\nCheers again for your help!\n. ",
    "carrascomedina": "Sure, example page: http://danielcarrascomedina.com/agilice-landing/\nThis only happens in Safari. Thanks!\n. ",
    "albi": "Got exactly the same problem and do not know how to write the appropriate code. Right now it looks like:\n```\nskrollr.init({\n    forceHeight: false,\n    mobileCheck: function(){\n        if((/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent || navigator.vendor || window.opera)){\n            //alert('mobile');\n            //setScrollTop(0);\n            //Where should I set setScrollTop(0); ???\n        }\n    }\n});\n```\nThe example site is here: http://kunden.alexanderalbrecht.ch/pascalschmutz/skrollr.html which results in sloppy animation (I think I broke skrollrs mobile support here, but scrolling to top works)\nAnother example site is here: http://kunden.alexanderalbrecht.ch/pascalschmutz/skrollr2.html which results smooth animation but scrolling to top is broken. This is what I want, but with scroll to top anchors (href=\"#top\") working.\n. Thanks for your help. Now all [href=\"top\"] anchors will do skrollr.get().setScrollTop(0) when clicked (didn't set this inline).\nThat works as expected. But if I click an anchor in the menu, the site scrolls down to that section. Manually scrolling upwards on an iPad or iPhone won't work anymore. It seems to be locked to that section.\nhttp://kunden.alexanderalbrecht.ch/pascalschmutz/skrollr.html\n. Okay. Didn't know that this is mandatory. Now it is working. Although strange things happen:\n1. If I use the options from the menu plugin as given on the github repo, it will break\n2. Tapping the top of Safari Mobile does not bring the user back to top. Is it because of the other scroll method (touchevents etc.) used in Skrollr? Any workaround to get this tapping back?\n. If I disable the option \"handleLink\" it will work. But I do not really need the options. I am fine with the defaults.\nNow there is one more thing that bugs me. If I open the accordion in \"Aktuell\" (the anchor \"\u00c4ltere Beitr\u00e4ge\" opens it), I can't scroll to the very bottom of the site on my iPhone. Tried to skrollr.get().refresh(); on opening the accordion but that won't work.\n. Updated to an unminified version. On line 265 you see\nskrollr.get().refresh();\nHave to find out to preserve the licensing in order not to violate these infomations.\n. Wow! It just works. Thanks for guiding me to the right direction!\nDid I mention that Skrollr is fantastic?\nThank you so much!\n. ",
    "jefflung": "Thanks\n. ",
    "der-lukas": "Thanks for your answer! Sorry I reopen the issue... I found a solution... and maybe a bug? \nFYI:\nCould it be that skrollr has a problem with dynamically added \"margin\"-values? At first I animated my bottle through the margin-bottom value, which worked perfectly before the values were added via JS, but injecting the margin-bottom value via JS made the bottle just jump in the final position. \nWhen I changed this to animating the \"bottom\"-value it worked... \n. I've tried that too - didn\u2019t work either\u2026 It jumped directly from start to end position!\nI ended up with the following - which works perfectly:\n```\nfunction windowH() {\n           var wH = $(window).height()-30;\n           var bottleWidth = 120 + \"px;\";\n       $('.page').css({height: wH});\n\n       var tablePos = $('.tisch').position();\n       var bottlePosition = tablePos.top-135 + \"px;\";\n\n       $('#bottle').attr('data-100p', 'bottom:-' + bottlePosition + 'width:' + bottleWidth);\n\n       s.refresh();\n    }\n\n    var s = skrollr.init({\n            forceHeight: false,\n            render: function(data) \n            {\n                //Debugging - Log the current scroll position.\n                console.log(data.curTop);\n            },\n            smoothScrolling: false\n        });\n\n    windowH();\n\n```\n. ",
    "thechinesekid": "The transition of the color in the div is sudden, directly from pink to light blue, there is no gradual transition in between. A correct transition is working properly right after the div, with the text inside. \n. ",
    "dsamardjiev": "Ah someone actually helped me with that but ran I into another issue! For some reason when skrollr is initialized my .hero unit stretches to 6k in pixels for some reason. I tried a couple of different fixes but I'm having no luck. Any ideas? I updated live site btw \n. Sorry about that I figured I might as well ask the person that created it why he's here :p thanks a lot that worked out perfectly!\n. ",
    "aunruh": "Oh ok. I thought skrollr would invoke the done option when the skrollable-after class is added to the animating element.\nBasically the same as here: http://stackoverflow.com/questions/20354850/skrollr-pass-a-function-when-the-scroll-position-is-after-the-last-keyframe\n. ",
    "LeeroyJenks": "fix in post :-D\n. Thanks! And thanks again for skrollrs amazeness\n. ",
    "guilima": "Use the attribute background-attachment: fixed; inside here header #intro > div\nI was having the same problem and that did it. \n. ",
    "phillipebanks": "Hi Guillima, \nThanks for you reply. \nI tried adding this and it doesn\u2019t seem to resolve the issue. \nTo be clear I like the effect but the issues is that the page feels slow / lagging when scrolling. I\u2019m referring here to the entire page not just the back ground image positioning. \nIt\u2019s almost as if I was on a super slow computer where the entre page scroll is very slow. \nHope you understand and thanks again for your quick response it\u2019s very appreciated. \nThanks \nOn Mar 25, 2014, at 9:35 AM, guilima notifications@github.com wrote:\n\nUse the attribute background-attachment: fixed; inside here header #intro > div\nI was having the same problem and that did it.\n\u2014\nReply to this email directly or view it on GitHub.\n. Do you mean I have to position this element absolute and play with its position and different layers using z index to seperate the backgrobd\n\nSent from my iPhone\n\nOn Mar 25, 2014, at 12:52 PM, Alexander Prinzhorn notifications@github.com wrote:\nI recommend not to animate background-position, it's slow in most browsers. Use an overflowing element and translate() it instead.\n\u2014\nReply to this email directly or view it on GitHub.\n. Thanks for confirming I\u2019ll give that a try. \n\nThanks \nOn Mar 26, 2014, at 1:30 AM, Alexander Prinzhorn notifications@github.com wrote:\n\nDo you mean I have to position this element absolute and play with its position and different layers using z index to seperate the backgrobd\nAt least that's what I and others recommend (skrollr unrelated).\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "Vilscon": "Phillipe Banks, please confirm if this increases your performance, as I'm wondering if it does - Same issue. :)\n. ",
    "rjralgar": "I think you are right about skrollt.init. I thought I had placed it inside \n$(document).ready( function() {\n   ...\n});\nbut I just checked and it was outside. Entirely stupid on my part. Thanks.\n. ",
    "themovation": "Interesting. I can create a demo page but is there a way to prevent the shift? Can the css and skrollr sync background-position ?\n. Here is the jsfiddle\nhttp://jsfiddle.net/themovation/Ut4pN/\nIf you comment out skrollr.init and rerun, you'll see the image takes a different position.Is there a way to prevent the shift? Can the css and skrollr sync background-position ? Many thanks for your assistance. \n. Okay, I think I get it now. It makes more sense for me to use data-center-bottom and data-center-top to create the parallax effect in this example. I'm still trying to figure out how I can match the initial position set by css to the position set when skrollr loads.\nhttp://jsfiddle.net/themovation/Ut4pN/6/\ncss says background-position: 50% 0px;\nskrollr.init is using data-center=\"background-position: 50% 0px;\"\nAre they not the same? How can I make them match? Thank you again.\n. Thanks Prinzhorn, I think I've almost got it nailed down.\nI'm now using data-center-center, data-bottom-center and data-top-center to give it the desired parallax effect. Basically, when the image loads I would like it to be centered in the middle of the div / section, then a slight parallax effect when scrolling up or down (give or take 25px).\nI think I'm very close but here is still a small shift, 8px I think. Is this normal? What do you recommend to mask or eliminate this? Is this why most people are using preloaders?\nhttp://jsfiddle.net/themovation/Ut4pN/8/\nOnce this is done, I would like to create demo for others to use as I haven't come across a demo like this using Skrollr yet.\n. Hi Prinzhorn, thanks for your help.\nI'm trying to create a background parallax effect. I'd like the background image to start centered and then move up or down by a maximum of 50px depending on the direction of the scroll. \nI believe I have achieved the parallax effect in my jsfiddle demo I want but I'm noticing that when the js loads, the image realigns itself ever so slightly. I'm obviously doing something wrong but I can't figure out what. \n. ",
    "tripstar22": "Figured it out! Had to add this to the inline svg: xml:space=\"preserve\" preserveAspectRatio=\"xMinYMin meet\" height=\"100%\" width=\"100%\". Then gave the static img a max-width and height that matched the dimensions of the svg.\nFixed example: http://trippruitt.com/skrollrTest/\n. Actually still looks a little off on iPad landscape view...\n. Good point... Let me try that real quick.\n. Much cleaner now. Was originally using a static png for the gray path because I want at least the static line to show up in old browsers that don't support svg. But I suppose I can use svgMagic to generate fallback pngs on the fly.\nHave another question though, because my example is responsive, I added relative values to the two red paths. I added 'data-top' so that the animation will begin when the element is at the top of the viewport. It seems to be working on the second svg, but the first svg still takes to long to complete the animation. Am I using the relative tags correctly? Thanks.\n. Also a note to those who might view this issue as a reference down the road, changing the height and width to 100% messed up the svg in Firefox.\n. Should be data-center-top on all paths/lines/polylines. I know that 6000px isn't the length of all of the lines, I just ripped that from your example. How do you measure the length of a line that isn't straight?\n. That function came up as invalid in Chrome and Firefox? I manipulated the stroke-dashoffset and my demo seems to be working better now.\n. My mistake, I had targeted a class on the svg not the path.\n. Sending you a private message via Twitter because the problem is on a production site. It's kinda complicated so it would be difficult to recreate in a demo. It will be from @LadartCreative. Thanks.\n. Our app.js in minified but our code for skrollr is... if($(\"body\").hasClass(\"home\")) {\n            skrollr.init({\n                forceHeight: false,\n                mobileDeceleration: 0.05,\n                smoothScrolling: true\n            });\n    }\n. Ok going to have to change out some things for the sticky nav for mobile and tablet but I think we are heading in the right direction. Thanks again for your help.\n. Moved div id=\"skrollr-body\" just inside the opening body tag, and the closing div just inside the closing body. Now it seems to be getting stuck a little before the footer on mobile and tablet?\n. No it was getting stuck around the red circles towards the bottom of the page. Skrollr is currently disabled on touch devices, but is still active on desktop.\n. No we've just gone to a static layout on touch screens (for the time being). But we would like to come back a revisit the problem if we have time.\n. I added smoothScrolling: false to skrollr init but unfortunately that didn't improve IE performance... Do you think IE is having trouble rendering the line animations because the page is about 14000px long and full of animations?\n. Just commented out all other animations and performance was still lacking on IE so I don't think it is because of the amount of animations we have on the page.\n. ",
    "diagramatics": "Merging this thing would be nice. I can't do 'grunt bowerInstall' currently without the \"main\" value in bower.json.\n. Oh hey, haven't heard of that. Thanks!\nBut yeah, it's been 20 days and there hasn't been any comments from @Prinzhorn, so that's kinda unfortunate.\n. ",
    "enriqg9": "Calling init on window load did the job. Thanks!\n$(window).load(function() {\n    var s = skrollr.init();\n});\n. Try setting forceHeight to false:\nskrollr.init({\n    forceHeight: false\n});\n. ",
    "LordRembo": "Clarification: I mistyped the number, I apologize. Let's take data-10p-start instead. I was trying to achieve \"10% of the document height\" and no relation to the viewport height.\nI'll take a look at those constants and getMaxScrollTop, thanks.\n. ",
    "RazedandRisen": "Thanks for your quick response. \nI do not need skrollr active on all the section divs simultaneously, only on the section div currently in the view port. Would instantiating/destroying the init call and removing the data-attributes per section div work?\nThanks\n. ",
    "chrisvanr": "Thanks for your response. I've been fiddling with it all day, and I've come close but not completely. \nIf I stop all the bubbling outright, by calling stopPropagation on touchmove of the carousel element, only the carousel responds. Sadly it is a rather full-screen experience and negating all downward motion is not an option.  \nTo detect direction, bubbling starts and once direction is determined I can't seem to stop the bubbling. I've tried several methods for this, such as jQuery Mobile's swipeleft/swiperight etc, but both the carousel and skrollr keep moving. \n. Thanks for your suggestions. I had never worked with touch events before and thought that jQuery Mobile's swiperight/swipeleft was basically doing that what you suggested, but that was just lazy of me. I'm still new to JS, and more comfortable using jQ/libraries. Just goes to show that I know more then I think and should go outside my comfort zone more often. \nFor the next person to come across a similar issue, here's what I'm using at the moment:\n```\n    var startX, startY, moveX, moveY;\nfunction handleStart(evt) {\n    startX = evt.changedTouches[0].pageX;\n    startY = evt.changedTouches[0].pageY;\n}\n\nfunction handleMove(evt) {\n    moveX = evt.changedTouches[0].pageX;\n    moveY = evt.changedTouches[0].pageY;\n    var difX = Math.abs(startX - moveX);\n    var difY = Math.abs(startY - moveY);\n    if (difX > 75 && difY < 100) {\n        evt.stopPropagation();\n    }\n}\nvar el = document.getElementsByClassName('swiper-container');\nvar l = el.length;\nfor (var i = 0; i < l; i++) {\n    el[i].addEventListener(\"touchstart\", handleStart, false);\n    el[i].addEventListener(\"touchmove\", handleMove, false);\n}\n\n```\nCurrently still playing around with which X and Y values feel best when swiping on a tablet. Might even remove checking for Y movement altogether, not sure what feels best. \n. Yeah, that way feels most natural when swiping around on a tablet. I'll be implementing it pretty much the same way. Thanks!\n. ",
    "WillsonHaw": "We tackle this kind of problem with something like this:\n1) on mouse/touch down, keep track of the touch point, a\n2) on mouse/touch move, see if the distance from touch point to a is greater than some threshold (5 - 10px is usually pretty decent)\n3) once the distance is greater than that threshold, calculate the angle from your point to a and see if it's mostly horizontal or mostly vertical.\n4) If it's vertical, ignore carousel events, if it's horizontal, ignore skrollr events\nNow, the first 5 px or so from initial touch position is just used to determing which direction they're dragging. You can play with those thresholds so it feels non-intrusive.\n. ",
    "nhall": "Awesome, thanks!\n. ",
    "DanDvoracek": "Hi there,\nI am facing a similar issue I guess.. Well it started similar. I know this has been covered but I am a bit lost on that one so I take my chances.\nI am playing around with few javascripts libraries and I wanted to add skrollr to an academical project. I am a bit confused regarding the documentation as english in not my first language. I am afraid I did not understand how to implement the mobile detection correctly as it is not working. Worse than that, it looks like the elements I want to scroll disappear on mobile (I tested safari, chrome and opera on iOS).\nI'm a bit ashamed about putting my code here as I'm learning but here is the link: erased\nI am not really sure if there is actually something more to do with my divs or with the javascript. Any help is more than welcome.\nForgive me if I don't use these files correctly regarding licensing, this is not something that will be \"published\" anyway ;)\nMany thanks for any tips or infos.\n. Cool thank you for the explanation. I had another issue with it coming from processingJs. Nothing to do with this plugin, but it looks like they don't always like each other. Processing looks too heavy for mobile anyway. Once again thanks for the tip!\n. ",
    "elful": "Yo guyz, just found a quick fix for this if someone still needs.\nJust add this to each query for every screen size:\n`html,body {\n          height: 100%;\n      }\nskrollr-body {\n      width: 100%;\n      height: 100%;\n      float: left;\n  }`\n\nAs well on your index.html you need to modify the script init a little bit so first will read the screen size before running.\nSimply add:\n`\nif ( $(window).width() > 768) {      \n            var s=skrollr.init({forceHeight: false});    \n        } \n        else {\n            var s=skrollr.init({forceHeight: true,\n                                smoothScrolling: false,\n                                mobileDeceleration:0.004,\n                                skrollrBody:'skrollr-body'}); \n        }\n`\nHope it helps, for me is working fine. Tested on desktop and multiple mobile devices.\n. ",
    "charliebird": "Thanks! \n. ",
    "yvesvanbroekhoven": "Thanks!\n. Hi BevCyc, could you post your http://supportdetails.com, so we can test this in the same conditions?\n. Do you mean it's better to check if el[SKROLLABLE_ID_DOM_PROPERTY]  is not undefined?\n. Ok, will update tomorrow, currently without VM. Thanks for the follow up!\n. I updated the condition like you suggested. Tested & approved.\n. ",
    "BevCyc": "I'm using skrollr.min.js 0.6.24 (2014-04-25) version but I'm still getting the same IE8 error.\n. It happens on the demo page:  http://prinzhorn.github.io/skrollr/ \nBev\n-----Original Message-----\nFrom: \"Yves Van Broekhoven\" notifications@github.com\nSent: Tuesday, May 13, 2014 2:42am\nTo: \"Prinzhorn/skrollr\" skrollr@noreply.github.com\nCc: \"BevCyc\" bev@cycloneinteractive.com\nSubject: Re: [skrollr] Hotfixed IE8 bug: Object doesn't support this property or method (#494)\nHi BevCyc, could you post your  http://supportdetails.com , so we can test this in the same conditions?\n\u2014\nReply to this email directly or  view it on GitHub .\n. Below is the CSV containing the support details.\nBev\nOS Type,OS Version,Browser Type,IP Address,Javascript Enabled,Cookies Enabled,Color Depth,Screen Resolution,Browser Window Size,Flash Version,User Agent\nWindows,Windows XP,Internet Explorer,8.20.162.30,Yes,Yes,16,1680 x 1048,1076 x 779,13.0.0,Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; GTB7.5)\n. ",
    "jfdesgagne": "If you actually want to update the link, I found the old one: \nhttp://kitkat.com/android/\n. ",
    "jdyach": "I am having the same issue. It's getting cut off at different points depending on... I don't know what. But sometimes it's cut off by 400px and sometimes it's cut off by 30px.....\nhttp://dev6.hgstudio.com/\n. It's been in various states of disrepair since yesterday, so I'm not sure when you looked at it, but there are currently no js errors. On first load, everything is fine. But once you've clicked on a nav link (I'm using skrollr menu) and then refresh, the page height becomes offset. It seems to take the margin from the topmost skrollr-body section (that accounts for the fixed nav) and places it at the bottom, after the footer.\nI did try putting the init in an on window load and it seems to fix this on iOS and Android Chrome, but Safari gets totally out of whack. In that scenario, once there's a # in the URL from using the menu and the page is refreshed, the page starts at the section of the # and doesn't allow for scrolling upwards to any of the sections above. And seems that the rest of the total height is added to the bottom.\nAny insight is appreciated. Thanks.\n. That's something I tried using to correct the inconsistent height. It functioned that same with or without it. I ended up not using skrollr. Thanks anyway.\n. ",
    "richyrich38": "I was on 0.6.22, \nill get the new version.\n. ",
    "heroheman": "Hey @HarrisRobin ,\nhad the same problem, bg-images are flickering while changing the backgroundposition in webkitbrowsers. \nThe problem was that i had loaded the image within the data. When i include the background-image in the css it is working. Maybe this is helping - if you already solved the problem in another way - maybe you could share your solution. \nThis way its not very editable via a cms..\nCheers.. \n. Just tried it - Cannot confirm its the devtools - at least when i want to animate the background position its flickering. \n. ",
    "harrisrobin": "@heroheman \nHey ! I solved it the same way you did, however it is unfortunate that webkit browsers do that if it is in the data.. I couldn't get it to do exactly what i wanted because of that. \n@Prinzhorn it's fixed now with heroheman's solution. Btw, this never happened on firefox, only webkit browsers.\nCheers,\n. ",
    "joeynimu": "@HarrisRobin Hey dude, i am not sure if this will work but it is worth trying. Maybe you should consider pre-loading your image(s) before anything is rendered in your browser. Maybe something like this;\nvar images = new Array()\n    function preload() {\n    for (i = 0; i < preload.arguments.length; i++) {\n    images[i] = new Image()\n    images[i].src = preload.arguments[i]\n    }\n    }\n    preload(\n    \"imgpath/imagename.jpg\",\n    \"imgpath/imagename.jpg\",\n    \"imgpath/imagename.jpg\",\n    \"imgpath/imagename.jpg\",\n    \"imgpath/imagename.jpg\"\n    )\nJust a thought.\n. ",
    "anghelos": "Will do, Thanks.\n. ",
    "stanleyfok": "my site: http://www.lulu-and-me.com/\n. is it because I used position:fixed for my main div?\n. ",
    "igormakovsky": "Thanks a lot for your comment \u2014 it really works much better now!\n. It worked, thanks!\n$(window).load(function() \u2014 is what I needed in this case.\n. ",
    "yahya-akhter": "I am facing issue on safari browser it's very slow on safari browser can you just what i making here is the example http://degschicken.viewdemo.org/degswithstory/story.html it's work fine on chrome\n. if do you have any example please share it.\n. ",
    "Geschan": "Sorry, I uploaded the wrong version. Now it's the one with transforms.\nIn the meantime I used position:absolute; and top:XX%; (this is what you saw in on the page), but it's also not working with every browser.\n. ",
    "MrLoh": "https://stackoverflow.com/questions/23760538/skrollr-animation-frames-before-page-load\n. ",
    "supplicatio": "Thanks Prinzhorn, I will post some code soon, with a link to a dev server. I think that the main problem is that an extra \"/\" is inserted for some reason between the # and the anchor id producing a localhost/#/tag whereas what is needed is localhost/#tag - not sure where this extra \"/\" is coming from, but it is inserted actively by some script. I guess it has nothing to do with skrollr, but your input will be very valuable. Thanks again for you time.\n. Thanks again. I am still trying to figure out what is it that injects the extra slash. The example you sent is already helpful in the process of elimination, but there's much more digging to be done... oh well... I will post a link next week to the code, unless I can figure this out beforehand in which case I will close this thread. Cheers. \n. Scratch that!... found the answer: skrollr.menu.init::handleLink: function(link). Works perfectly. \n. ",
    "greendad": "I have put a div with id \"skrollr-body\" inside body tag and wrapped the whole content inside it. Still the issues persist. You have any suggestions?\n. Hey,\nI cannot make changes to the live website unless it makes any real difference. So I am attaching the code for you. Please have a look. Here's the link:\nhttps://github.com/GreenDad/adatrix-website-sample.git\nThanks.\nP.S: Sorry for the delay. I have been busy with my other projects.\n. So I have been through the thread but I didn't get anything. So the issue's been resolved or it's open??\n. Oh. Thanks for looking at it anyway!\n. Hey, any idea on why it is creating an extra blank space at the bottom in android browser??\n. ",
    "rcartwright": "Do I need to test through Travis build if it is just the README file that is being modified?\n. ",
    "epferrari": "Same issue here, did you find a work around camielm?\nedit- may have found the issue: \nFor me anyway, the height:100% declaration wasn't the issue, rather I was using js to adjust the heights of my elements on load, resize.  Since skrollr logs the elements' properties on load, their heights were calculated before they were adjusted by my script.  Just callback s.refresh() after your script defines your element sizes and see if that solves your scrolling problem.\n. I think that mine was a different issue with the same symptom As Camiel's.  Thanks for clearing that up, Alexander.  Great work on skrollr by the way, thank you for all your hard work.\n. ",
    "camielm": "Got it fixed! Thanks Alexander. I replaced the skrollr-body id and it fixed the issue!\nThanks for your brilliant work!\n. ",
    "Jule2612": "And i have now another problem: when i am scrolling the site it starts flickering in some browser. I don't know how i can stop this...\nPerhaps you also have an answer for this problem...\nThanks a lot,\nJule\n. Hi,\nthank you very much for your fast answers. \nI cleaned my code and now I don't have duplicate #id's anymore. Also i cleaned a lot of other errors. \nIn a second step i removed the skrollr-body element because i have only position: fixed and now it seems to work. I tried it on an android tablet. \nAnd as a last step i provide now two different html pages. One for desktop and one for mobile users. The second one with smaller images. \nHere you can see the result: http://wm2014.mission-einewelt.de/brasilien\nSo, thanks a lot!\n. ",
    "mdjasper": "Inspecting the network connections of your page shows that it is nearly 7mb, and has several 404's. Perhaps that it a lot for your tablet to hold in memory? I'd optimize the images, then run an inspector on your tablet to see if there are any long javascript events or repaints going on. I recently fixed a mobile problem by eliminating css properties that were very expensive on mobile (like large text and box shadows).\n. Also lots of duplicate #id's and other malformed html tags. See http://validator.w3.org/check?uri=http%3A%2F%2Fwm2014.mission-einewelt.de%2Fbrasilien&charset=%28detect+automatically%29&doctype=Inline&group=0\n. ",
    "doppl3r": "Thank you so much for the rapid alternative! I'll give it a shot this afternoon. Keep up the great work :D\nEdit: Check out the working code here: https://rawgit.com/doppl3r/copperplank/97a6e86bb1b1b76edf3fe31caa9a0293b6731cde/black.html\n. ",
    "er-tho": "Hello and thanks for answering, it's my first attempt with svg path so didn't understand everything yet.\nIs there an easy way to calculate a path length of any svg (even a complex svg) ?\nSo, with the good stroke-dashoffset, it works good on every browser but Firefox 26 (the oldest version i have, actually it works good on FF 30).\n. Thanks for the fast answer :) I don't know why but I have to add around 20 to the path length to have a complete path but it's ok. I close the issue even if it doesn't work on ff 26. Thanks again !\n. ",
    "memee": "Thanks, it's some clue for me.\n. ",
    "nuclearape": "@memee Did you ever figure it out? I have this issue :(\n. And I figured it out... I didn't call skrollr init at the end of the document... oops :)\n. ",
    "dyetube": "One other quick thing.  I noticed that the \"data-\" number responds differently in I.E. and Chrome than it does in Firefox...  I am slightly scrolling the background and \"data-430\" in I.E. and Chrome is the same as \"data-490\" in Firefox. as far as scrollbar (or page) position goes.  Any experienced this?\n. How do I implement getMaxScrollTop()?  should I make it a variable within skrollr.init (i.e. skrollr.init({ var maxScroll = getMaxScrollTop(); });?  I'm thinking this is exactly what I've been needing to use.  I know this is probably a basic question but I really haven't done a lot of JavaScript. \n. Thanks, that's exactly what I needed.\n. ",
    "funkju": "It does work on the device. So I must be doing something funny. \nThanks, should have checked that first.\n. ",
    "Harti": "Oh wow... that is embarassing! :o\nThat CSS definitely didn't make much sense, but then again I'm still a rookie. \nI'm so sorry for \"wasting\" your time. Thank you very much for your help - works like a charm! :)\n. ",
    "Madredchris": "For random unexplainable reasons, it sometimes works, and sometimes it doesn't...\n. ",
    "danielpom": "https://drive.google.com/folderview?id=0B4ZtlDpI34yCQkluSjlfLUUyN3c&usp=sharing\n. Another thing i have just noticed is that when I make the windows smaller (restore down) it works just fine, smooth!\n. ",
    "herrMartin": "for safari place a empty div into the body with \"style=transform: translate3d(0,0,0);\" this will activate the gpu rendering and improves the rendering a lot. webkit browsers get choppy if you use big images and scale them. try to avoid animations with css blur or opacity has also somethime something to do with choppiness. And one of the biggest improvents, give all elements, images a with and height. for bigger sites use an img { height= auto; with= auto} in the first lines of your css. to avoid headaches and a lot of pain with chrome use this also in the beginnig of your css\n*,:before,:after {\n    -moz-box-sizing:border-box;\n    -webkit-box-sizing:border-box;\n    box-sizing:border-box;\n    -webkit-backface-visibility:hidden;\n}\nwithout you get really strange rendering issues, with chrome and safari.\nfun fact the rendering issues depending on the amount of code lines, animations\u2026 bla\nmy experience is, that small sites won't make any problems if your html, css and js is validated and  clean, but with a growing amount of animations, objects and functions you will run against severall walls.\nSafari, chrome and firefox are extremly different in case of rendering and js performance.\nAt the moment the newest firefox is the most forgiving and fastest browser for anmations and javascript. It runs circles around safari and chrome. \n. ",
    "turi4200": "sorry Prinz... first thanks for the awesome plugin... I can't post the code because it is private...\nthe problem is, when i call refresh after a div got some height (by the slidedown function), it fixes normally the part of the site that is absoluted positioned to start the animations correctly, however, the part of the site that is fixed positioned (like a start animation) is hidden at this point and when refresh is called it stays at its first state:\nsite starts at 0 (scrolltop), animation finish at 20000, absolute position starts at 20000 + WINDOW HEIGHT (a div is placed over the animation). when refresh is called the animation don't work anymore because it stays at the first state. Can I call the refresh for only some elements?\n. it's refreshing all elements...\ntried \ns.refresh('#historia');\ns.refresh(['#historia']);\n$('#historia').refresh();\ns.refresh(document.getElementById('historia'));\n. Ok, thank you anyway...\n. Prinzhorn, now you can see it online!\nhttp://www.eurorscgbrasil.com.br/novodenovo/\n. because i put a \n$(window).scroll(function(){\n        if($(window).scrollTop() == 0){\n            s.refresh();\n            $.waypoints('refresh');\n        }\n    });\n. when i refresh after the fixed position is gone, the animation stay on first state, even if i scroll up\n. it seems that google chrome is not calculating the right numbers on my script...\n. ok, sorry prinzhorn\n. ",
    "abritinthebay": "Bizarre. There is definitely a case where this behavior happens - I can reproduce it on my project right now. Will see if I can get a minimal case if I have the time but something is causing that behavior and I don't have anything but skrollr loaded.\n. ",
    "p4fciu": "Hi\nI think that's because not every browser supports 3D transforms.\nTry to use \"transform:translate(x,y)\" instead of \"transform:translate3d(x,y,z)\" or/and use modernizr.js.\nP.S. Prinzhorn great plugin. Thanks!\nEdit: Sorry for the confusion. Solving the problem is here.\n. ",
    "sunilson": "CSS of the fixed image slide:\n.background {\nposition:fixed;\nmargin-top:65px;\nheight:500px;\nbackground: url(../img/1111.jpg) no-repeat;\nwidth:100%;\nbackground-size:cover;\ntop:0px;\n}\nCSS of one of the moving slides\n.slide2 {\n    height:500px;\n    position:relative;\n    z-index: 9999;\n    background: url(../img/22.jpg) no-repeat;\n    width:100%;\n    background-size:cover;\n}\n. ",
    "antistandard": "Ok no problem. Thanks for the kind help.\nJ\n. ",
    "sergeylukin": "Thank you @jkphl, it works! I have similar requirement when dealing with element's height. Tiny whitespace may appear below the element if floating point number is used in height value so rounding does the trick. This PR works great for me.\n@Prinzhorn Is there a reason this PR is not merged? Are you planning on merging it / implementing similar functionality?\nThanks\n. ",
    "ocombe": "Thanks @Twansparant it fixed the issue for me !\n. ",
    "bierik": "Same issue here. This fixed the issue for me.\n$(window).on('load', function() {\n    skrollr.init({ forceHeight: false })\n}\nThis fix also tends to that not all images are fully loaded yet. The height which is being cut off equals the image height in the header.\nSry but it's not possible for me to give you an example.\n. ",
    "Christin10-10m": "Thank you @bierik! Your fix worked perfectly for me and also fixed the issue of the images not being fully loaded. \n. Hi Nagman, can you elaborate on what exactly you did to fix the issue? When you say, \"To get rid of the blank area at the bottom of the page, I just added...\", it's not clear what that means. \nThanks.\n. ",
    "cniklas": "You are totally right. I didn't know Stackoverflow was the official place to post Questions for Skrollr. Gonna close this ticket.\n. ",
    "emmills3": "I turned it off because it was problematic. I've since turned it back on and tried some other hacks, but nothing definitive. I will repost in stackoverflow.\nhttp://staging.awpserver.com/mdlobbyist.com/\n. I wouldn't say \"solved\", but I came up with a hack...\nRather than have my last content section end with id=\"done\" (this is what was getting cut off), I created a new final content section with a blank image and no content. On the desktop, display:none and an empty div displays correctly. However, on mobile, I get a lot of extra space at the bottom of the scroll. The size varies: on my iPhone its about 50% of the height, on the iPad its about 100% of the screen, and on the Galaxy its 100% screen size of extra space.\nTry this url: http://staging.awpserver.com/mdlobbyist.com/about-the-firm/ on a mobile device and scroll to the very bottom to see extra blank space.\nNot an ideal solution, but it works.\n. ",
    "who519": "@paskainos I am having this same issue, can you go into a little more detail about where to add the keyframe, and how you did it. I was firebugging your pages but didn't see the markup as I thought you were describing. Is it a style you added to your own style sheet, or did you add it to the js file?\n. ",
    "littletinyfish": "I think I had a variation on this problem, where skrollr would start somewhere in the middle of my article, and then add some kind of padding/margin to the bottom that seemed equal to the distance it started from the top. So instead of seeing the page arbitrarily END somewhere (as the OP mentioned), mine arbitrarily STARTED somewhere.\nMy fix (thanks to the assist from @paskainos, above) was simply to add an empty data-bottom attribute to the last parent div inside the #skrollr-body. (Or, depending on what your html cleaner strips out, data-bottom=\"\".)\nIt doesn't appear require any CSS styling beyond that.\nSo something like:\n``` html\n\n\n  <div class=\"parent-div-1\">\n        <div class=\"child-div-1\"></div>\n        <div class=\"child-div-2\"></div>\n  </div>\n\n  <div class=\"parent-div-2\" data-bottom>\n        <div class=\"child-div-1\"></div>\n        <div class=\"child-div-2\"></div>\n  </div>\n\n/#skrollr-body\n\n```\nEDIT:\nActually, upon further testing, I was still getting some issues when flipping from portrait to landscape mode. So instead of finding the last parent div, I added data-top and data-bottom (or, where necessary, data-top=\"\" data-bottom=\"\") to the #skrollr-body element. This gets me an accurate top AND bottom.\nhtml\n<body>\n   <div id=\"skrollr-body\" data-top data-bottom>\n       Your content here.\n   </div>\n</body>\nThis appears to work for me in:\nWindows 7: Chrome 39 | Firefox 34 | IE 11\niPhone: iOS Safari 8.1.2\n. ",
    "SimonFricker": "Has anyone found a resolution to this issue?\n. Here is a reduced test case http://codepen.io/simonfricker/pen/KVmPaZ\n. ",
    "3nki": "i had this issue on mobile (iOS) in Chrome, in Safari Skrollr doesn't even load. for Chrome, i added this code at the end of my HTML where it loads Skrollr and it shows the full document height now:\nvar s = skrollr.init({\n  forceHeight: false\n});\nskrollr.menu.init(s);\n. i can't even get Skrollr to load in Safari on iOS\n. i had this issue on mobile in Chrome browser on iOS. i can't get skrollr to even load in Safari. but in Chrome i was able to fix the issue where it only went down part of the page by adding forceHeight to the init, but it had to be a particular syntax. i used this at the end of my HTML file:\nvar s = skrollr.init({\n  forceHeight: false\n});\nskrollr.menu.init(s);\n. ok, i found something to at least get it loading, although now i'm getting the \"document chopped off early\" thing again in Safari.\nit turns out there is a spot to enable Javascript in iOS Settings > Safari > Advanced.\n. the issue with document being cropped seems to be from reloading the page with a local page anchor stub in the URL (ex: http://www.xyz.com/foo#top). if that is removed before hitting reload it's fine.\n. ",
    "dwkoss": "I noticed this issue as well. I started writing a simple web page using this example as its base and I seem to only have problems in IE 9. \n. ",
    "kevinmpowell": "For what it's worth, the Skrollr demo page works just fine for me in Safari 8.\nSince Yosemite is still in beta, I'd say this is likely a Safari 8 issue, not a Skrollr issue. Here's a video of it working in Safari 8:\nhttp://cl.ly/0B2c0H0c3d0b\n@Prinzhorn, you can probably close this issue.\n. ",
    "MiPnamic": "I'm on Safari 8 on Yosemite and it doesn't crash at all.\n. ",
    "ppff": "\"Working\" means that while scrolling, the css parameters I indicated with \"data-\" attributes should evolve between the key frames I defined, as described by the principle of \"parallax\". Or something. But I think you get it.\nIs it possible to check that when the user scrolls, things will actually move, etc.?\nI'd like to do something like:\n\"Are the parallax effects going to work here?\"\n\"Nope.\"\n\"Ok, I'd better change the position of these things so that the website doesn't look ugly.\"\nI just need to figure out how to be sure parallax isn't \"working\".\n. As you said, it shouldn't work with Android stock browser. But I guess in many other situations too, and I was just looking for a way to detect that directly from the plugin, not with some unsure conditions on the browser, the os, etc...\nI there's no solution, then nevermind.\n. I guess we could see if the css parameter is evolving and thus conclude the plugin is working (or not). But this sounds tedious.\n. ",
    "mattlansom": "I don't want the site to scroll past the height of the last div on the page as it will leave a large amount of white space.\nSee it here\nhttp://playground.mattlansom.net\n. When I load my page without adding the forceHeight (so just using the default presets) on a mobile the site works. However I have a 100px height on my last element. On the classic.html example it is set to 100% which is why there is no issue. On a desktop with the last div set to 100px there is no white space below it on the screen. If I then look at it on a mobile, there is white space below my div. Any ideas as to why this is happening? The current example I am working on is working on a mobile and can be found at http://playground.mattlansom.net\n. ",
    "enapupe": "So, I just took a quick look at the source, it seems that the classes are just helpers. An option to not add them would be great.\n. I don't think transform translateY triggers any recalc style. I'm gonna double check that and make a test without the helper classes. get back here soon.\n. > They are only manipulated at the edge of the keyframe spectrum for each element, which is rare. \nThat's accurate. \nAlso I think that re-declaring transform, which is what happens on scroll, will do recalc styles. So you are right.. Maybe I do should use the helper classes and animate with pure css, not js looping.\n. \nAs you can see, I'm spending more time recalculating styles than painting..\nBut that is js parallax, right? Nothing much to do. \nYou may close this ticket. Thanks for your time.\n. ",
    "Suven": "My setup is as you suggested:\nMost of my page has css-rules with media-queries which let it look very different for mobile and desktop-resolutions. In most cases I am using the same DOM-Elements for both layouts (as it is the more reasonable thing to do), but for the header I needed to create 2 different DOM-Elements since it differs so much, that it can't be done with media-queries alone.\nOn the desktop-version my header is shrinking while scrolling with a little parrallax with the navigation stacked right under it. Then it is position fixed.\nIn the mobile version my header is static right from the beginning. It scrolls just like the content does.\nSo on mobile devices I would like to have the header (and nav) inside #skrollr-body for small resolutions (i.e. let it scroll just like the content does) and on mobile devices with big resolutions (like the iPad) I don't want it inside the #skrollr-body (i.e. don't scroll it with the content).\nSo the 2 approaches one can take in such a scenario is: Mess with the DOM (by cascading the elements in a particular way) or solve it via JS.\nI hope this makes sense, if it doesn't please tell me so and I will create a little demo.\n\nYes, please document the option like here https://github.com/Prinzhorn/skrollr#mobilecheckfunction- (I guess it fits there since it's mobile related)\n\nOkay, I will add that commit to this PR\n. Sorry that it took some time, but I finally added the missing documentation.\nI added it to the options-section and referenced it within https://github.com/Prinzhorn/skrollr#mobilecheckfunction\n. ",
    "Danjohnsonnj": "The second commit (f87e217) builds upon the first by allowing a per-element override of the global precision via a 'data-precision' attribute.\n. ",
    "shinrox": "Yeah, I agree that's not a must have feature :stuck_out_tongue_winking_eye: just said to show some use-case\n. ",
    "aledoroshenko": "Typo about 1000p-1000, sorry. Two elements is the way to go, thanks!\n. Yeah, it's was exactly what i want to omit - math for each case. Will try it though. Thanks again! Amazing job with Skrollr.\n. ",
    "lexuspro": "Please! The website does not scroll on mobile and tablets. Please help me how can I disable the script for these devices, I'm very bad at understanding the script. Now I have this:\nskrollr.init({\n    forceHeight: false\n});\n. Oh, thanks!!!\n. Damn! And yet I can't! Guys, please tell me how can I make it easier to create a javascript file and place the content or register in the body of the page?\nAt the moment I have in body html this code:\nskrollr.init({\n        forceHeight: false,\n        smoothScrolling: true,\n        mobileCheck: function() {\n          return (/Android|iPhone|iPad|iPod|BlackBerry/i).test(navigator.userAgent || navigator.vendor || window.opera);\n          return false;\n      }\n    });\nI want to do as posted @rediris , please!\n. Yes, I wrapped the code!\n<script>\n    skrollr.init({\n        forceHeight: false,\n        smoothScrolling: true,\n        mobileCheck: function() {\n          return (/Android|iPhone|iPad|iPod|BlackBerry/i).test(navigator.userAgent || navigator.vendor || window.opera);\n          return false;\n      }\n    });\n</script>\nI do not think that it is difficult for you, help me please! I'll pay!\n. ",
    "stefsullrew": "If you want to get rid of it on mobile altogether, I found this:\nif(!(/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent || navigator.vendor || window.opera)){\n    skrollr.init({\n        forceHeight: false\n    });\n}\n. ",
    "prog13": "You can't have two returns in a single function.\nYou want to return false only if userAgent test is true, so invert first mobileCheck return and get rid of another one:\njavascript\n    skrollr.init({\n        forceHeight: false,\n        smoothScrolling: true,\n        mobileCheck: function() {\n          return !(/Android|iPhone|iPad|iPod|BlackBerry/i).test(navigator.userAgent || navigator.vendor || window.opera);\n      }\n    });\n. ",
    "BradMcGonigle": "@rediris I'm still seeing the iOS 8 scrolling bug (jumping back to the top of the page) even with setting and detecting an ID/class on body.  Did that completely solve the issue for you?\nMy setup varies slightly in that I'm putting #skrollr-body on a div within the page and setting/detecting a unique class on body but I wouldn't thing that would change the result.\nActually it does make a difference having #skrollr-body not on the body tag.  My reason for not putting it on the body is because I have elements that are position:fixed and was following @Prinzhorn recommendations here.\n. ",
    "acielouvert": "Hello,\nI'm using Skrollr on body tag to have a nice parallax effect between the content and the fullscreen image background. \"skrollr-body\" id was added on body tag.\n\nUnfortunatly, I have trouble on mobile. I would like to delete the effect for iOS ...\nSo I added the following script just before the closing body tag : \n<script type=\"text/javascript\">\nif(!(/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent || navigator.vendor || window.opera)){\nskrollr.init({\nforceHeight: false\n});\n}\n</script>\nSkrollr effect is gone but I miss all the content on the homepage when viewing on Ipad, Iphone5 is OK.\nThe only way to get my content back is to delete \"skrollr.min.js\" from the js resource. \nHow can I really get rid of skrollr on mobile ?\nThanks\n. ",
    "pglavalle": "This is what I have developed that works very well in all cases ... there's even an option to input an additional css file that handles ONLY mobile devices and is removed when not a mobile device ... since some laptops and notebooks are quite small, yet work well with skrollr, there is no reason to disable on these ... I've set my dimension for this particular project at 1024px ... but use as you need ... there are several console.log() notes in here to help with debugging ...\n``` /\n check for whether somethings exists ...\n yes this is overkill but does what is needed in several places \n/\njQuery.fn.exists = function(){\n    return this.length > 0;\n}\n/ START window.load /\n$( window ).on('load', function () {\n    / check for an remove the mobile only css file - this gets injected later in resize /\n    $( '#mobileonly' ).remove();\n    / set variable to check device window width /\n    var currentWidth = $(window).width();\n/* we only want to initialize skrollr on anything over 1024 \n* TODO : do mobile device check instead to allow for screens 1024 to use this  */\nvar mobiledevice = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\nconsole.log(mobiledevice);\nif ( currentWidth > 1024 ) {\n    var s = skrollr.init({\n        forceHeight             : true,\n        smoothScrolling         : true,\n        smoothScrollingDuration : 1500,\n        mobileCheck             : function() {\n            return false;\n        }\n    });\n    $('html').css({'overflow' : 'hidden'});\n    $('#mobileonly').remove();\n    console.log('#mobileonly has been removed');\n}\nelse if ( currentWidth <= 1024 ) {\n    skrollr.init().destroy();\n    $('html').css({'overflow' : 'hidden'});\n    $( '<link/>', {\n        rel     : 'stylesheet',\n        type    : 'text/css',\n        href    : 'assets/css/mobileonly.css?v=1',\n        id      : 'mobileonly'\n    } ).appendTo('head');\n    var is_chrome = window.chrome;\n}\nelse {\n    $('html').css({'overflow' : 'hidden'});\n}\n\n});\n/ END window.load /\n/ START resize /\n$(window).resize(function() {\n    var winWidth = $(window).width();\n    var conHeight = $(window).height();\n    $(\"div#sidebar\").css('background-color','#000').html(\"width: \" + winWidth + \"<\\/em>\" + \" height: \" + conHeight + \"<\\/em>\");\nvar currentWidth = $(window).width();\nif ( currentWidth > 1024 ) {\n    $('#mobileonly').remove();\n    console.log('#mobileonly has been removed');\n    $('html').css({'overflow' : 'hidden'});\n    var s = skrollr.init({\n        forceHeight             : true,\n        smoothScrolling         : true,\n        smoothScrollingDuration : 1500,\n        mobileCheck             : function() {\n            return false;\n        }\n    });\n}\nelse if ( currentWidth <= 1024 ) {\n    $('html').css({'overflow' : 'hidden'});\n    skrollr.init().destroy();\n    if ( $('#mobileonly').exists() ) {\n        console.log('I see the link #mobileonly');\n        // Do something\n    }\n    else {\n        $( '<link/>', {\n            rel     : 'stylesheet',\n            type    : 'text/css',\n            href    : 'assets/css/mobileonly.css?v=1',\n            id      : 'mobileonly'\n        }).appendTo('head');\n    }\n}\nelse {\n    $('html').css({'overflow' : 'hidden'});\n}\n\n});\n/ END resize /\n```\nIn the code references a development controller which assist in scroll position and viewport width/height ... if you need that code to help you out, let me know ...\n. ",
    "verticalgrain": "If you're using Modernizr, here is fairly simple way to prevent skrollr from initializing on any device with a touch screen:\nif ( $('html').hasClass('no-touch') ) {\n    skrollr.init({\n    });\n  }\nI've found this works well in the real world, I've used this method on 5+ projects. Some might argue that this is preventing skrollr on tablets, but I'm usually ok with that.\n. ",
    "michaelpumo": "This is what I had to do; save a reference to Skrollr on the window (dirty, oh so dirty!):\nJavaScript\n```\n// Test here to check if on desktop / large screens.\nif ( $(window).width() > 1024 ) {\n// Save the instance of Skrollr to the Window.\nwindow.skrollrInstance = skrollr.init({\n    forceHeight: false\n});\n\n// If not on a large screen.\n} else {\n//  If Skrollr is NOT undefined, let's do the work.\nif ( window.skrollrInstance !== undefined ) {\n    // Use Skrollr's destroy() method on the instance.\n    window.skrollrInstance.destroy();\n    // Now set the variable to be completely undefined.\n    window.skrollrInstance = undefined;\n}\n\n}\n```\nYou could wrap this whole block in a function and call it on resize of the window, as well as on DOM ready. That way you can flip between it working and not working.\nI've confirmed that this works above and beyond just using destroy() and therefore by extension, eliminates the jumping iOS bug.\n. ",
    "andytee": "Sorry about that. I know you're busy. I had to change what i was doing so we could push the site live. I put it back the way it was if you wouldn't mind taking a look at it again. I'll leave it alone now. http://steelcactuspgh.dev.cintacs.com/Shadyside/ \nThank you again\nJosh\n. ",
    "mtycholaz": "In my recorded case above, I left it running for 17 seconds. Nothing was GC in that time.\nThe only reason I looked into this was because I left my desk for a 30 minute meeting and when I came back my chrome task manager showed the page memory usage over 2,000,000K\nI've done another test this morning. Here's my findings. Leak is within the 36s to 8.1 min range.\n\nAlso here is my page running in the task manager.\n\nAlso here is the timeline data from chrome. You can load it up yourself to view the leak data. It's a very big file (48MB) so don't be surprised if it takes time to first load  \nhttp://1drv.ms/1pbqTu2\n. When you say you \"Found it\", do you mean you found the memory leak and fixed it, or are you referring to something else?\n. \nAfter leaving my computer on all weekend, here's what the task manager shows.\n. @Prinzhorn I have done as you've asked and I can reproduce the issue on the main skrollr page. If I move the scroll bar then GC does occur, and when I click the trash icon GC occurs again. Then if I let it sit I can see the garbage collecting.\nInteresting find with the Chromium issue. This very well sounds like the issue that we're experiencing. I've checked out memory performance in FireFox and IE11 and they both appear to be reasonable. \nAnd seeing how you're using a different OS, then this issue, in my opinion, appears to be a valid Chrome bug in the Windows code base. I've added my findings to the comments.\n. ",
    "giathinh910": "I concern the the same issue here. The proccess of the tab that use skrollr consume a lot of the memory. Unless I change to another tab, the memory increase continuously and on end. Hopefully you can fix it soon.\n. ",
    "anonyco": "This might be a memory leak, this might be some code forgotten to write for the GC, or this might be something else. At any rate, this issue is alive and well. Watch (from the task manager) as chromes memory usage ascends to the heavens when you run the following javascirpt code:\nJavascript\nsetInterval(function(){\n    var i=32768;\n    while (i--) {\n        requestAnimationFrame( new Function() );\n    }\n}, 10);\nP.S. I put the setInterval in there so that the code doesn't brick the page so that you can have a chance to see the really high memory usage.\n. ",
    "svenjehles": "Within my PHP, I have this HTML-bit: \n<div class=\"bcg\" data-center=\"background-position: 50% 0px;\" data-top-bottom=\"background-position: 50% -100px;\" data-anchor-target=\"#slide-1\">\nWhen calling the website from my browser, I get:\n<div class=\"bcg skrollable skrollable-before\" data-center=\"background-position: 50% 0px;\" data-top-bottom=\"background-position: 50% -100px;\" data-anchor-target=\"#slide-1\" style=\"background-position: 50% 0px;\">\n(where the 0px in style-attribute keep changing while I'm scrolling, so I think it's skrollr manipulating it).\nI tried to change the above PHP code to the following:\n<div class=\"bcg\" data-center=\"background-position: 50% 0px;\" data-top-bottom=\"background-position: 50% -100px;\" data-anchor-target=\"#slide-1\" style=\"background-image:url(<?php $background_url; ?>);\">\nbut what it does is rendering the HTML as above, appending only my $background_url content behind the style attribute, so it looks like:\n...style=\"background-position: 50% 0px;\" http=\"\" localhost=\"\"...>\n. ",
    "Jonathan-Rosewood": "Why? :(\n. ",
    "mschilder": "Hi Jonathan, this would still be nice to add, as it would enable those of us using Composer for package management to automatically load Skrollr into a project. Currently it says:\n[Composer\\Repository\\InvalidRepositoryException]\n  No valid composer.json was found in any branch or tag of https://github.com/Prinzhorn/skrollr.git, could not load a package from it.                                                                                        \n. ",
    "pmuruaga": "Hi Prinzhorn, didn't get any answer, could you bring me some light on this. Thanks!\n. Sorry, I've upload the unminified now. Thanks!\n. Sorry, I may have download the js with save link as and didn't verify. Ready now. Thanks,\n. If I remove it everything is broken. Take a look. And the menu is not working right anymore. Thanks for your help.\n. Notice the way the menu works, now it jumps directly, before was smoothly, how can I fix that?\n. ",
    "earthjibber": "just figured it out.\nI realized that data-number is what tells when the animation to trigger based on how much of the window has scrolled.  \nthanks for the great plugin!\n. ",
    "zya": "I should add that using 100vh instead of 100% solved the issue.\n. ",
    "whatfield73": "also played around with snapping only when within a certain range of the marked div if you want that code\n. ",
    "fatlinesofcode": "Here's an example of where it would be useful, http://codepen.io/fatlinesofcode/pen/oJprt\nI've got 10 frames that are fixed position and 100% height. Skrollr sets the body height to around two times the viewport height and hence the page scrolling is too fast. Ideally it should set it to 10 x viewport height.\nIs the there some other approach I can use to set the correct height?\n. Thanks, that works great. I was assuming 100p was the bottom the page not the viewport.\n. Visually at least the native scrolling performance seems faster. I tested the classic example with an iPad and iPod touch on 8.1. You get some flickering with the image sizes because the viewport changes when the location bar is hidden but otherwise looks good.\n. Also had a look at android phone with latest chrome. Seems better to me with native scrolling then the workaround.\n. ",
    "AndrasDF": "Seems that a s.refresh() after a short timeout solves the problem for the moment.\n. ",
    "frontshift": "We're having the same issue... Chrome only.\n. ",
    "BCushing": "@silvenon - that solution worked for me, I set the timeout to 1000 to ensure that all elements were loaded (I have a form that's loaded with JS and was probably messing up the height of the document).\n. ",
    "robhadfield": "I had this same issue and it was related to content loaded via ajax.\nI use PACE  as a loading monitor and was able to call the skrollr init and options from my Page Loader function : \nPace.on('done', function(){\n    PL.skrollrInit();\n});\n. @ekasur - A link to your page or your code would be useful. Any console errors?\n. Hey @baskinco - have you followed the mobile directions re adding the skrollr-body element? . What's the reason for disabling and reinitialising like you're doing? It seems counter productive.\nFrom the logic you have there it's never being initialised until after a resize on a window size below 767 - why are you wrapping the initialisation in a size condition at all?\nThe only initial render is : if ($(window).width() < 768) { - it only falls into the second trap after resize. I would wrap your initialise etc into separate functions that you could fire...\neg: ( ignore syntax obv... )\n```\nvar skrollrDesktopInit = function() {\n    // skrollr init for desktop\n};\nvar skrollrMobileInit = function() {\n    // skrollr init for mobile\n};\nvar resizeFunc = function()  {\n    // If < 768 { skrollrMobileInit } \n    // else { skrollrDesktopInit }\n};\n// Fire on window resize\n$(window).on('resize', function () {\n    resizeFunc();\n}\n// Fire on first load\nresizeFunc();\n```. Ah I see what you're doing now, you want to disable above 768 and also a condition in case it resizes bigger... ok...\nHere's a verbose (although untested) example :\n```\nvar skrollrStart = function() {\nvar winW = $(window).width(),\n    _skrollr = skrollr.get(); // See if skrollr is already initialised\n\nif ( winW <= 768 ) {\n    if ( _skrollr ) {\n        skrollr.refresh();\n    } else {\n        skrollr.init();\n    }\n} else {\n    if ( _skrollr ) { skrollr.destroy(); }\n}\n\n}\n// Fire initially\n$(window).on('load', function () {\n    skrollrStart();\n}\n// Fire on resize\n$(window).on('resize', function () {\n    skrollrStart();\n}\n```. Awesome! I'm glad it worked, I really was working a blind so glad you managed to make sense of it :D . Hi @fabianshamano - Firstly, if the project is 'really important' maybe don't rely on inexperienced developers and shouting at authors of free software... but I digress.\nFor menu anchors - please see here: https://github.com/Prinzhorn/skrollr-menu\nI suspect your overflow issue is an IOS issue rather than a Skrollr issue? There is lots of content online about these issues, for example: https://codepen.io/chriscoyier/pen/nHEDj\nLet us know how you get on.. This isn't my repo but using phrases like \"doesn't work at all\" and \"close to useless\" will win you no friends. . We're a community and drama over not being able to get it to work is not necessary. I wasn't that upset or I wouldn't have tried to help ;) \nAnyway - did you get it fixed?. Sorry - the initial load was my fault for not wrapping the footer within the #skrollr-body. My issue is now just the expanded elements not forcing a new skrollr-body height.\nRob\n. Thanks Prinzhorn - I will go in and try again. I left it for a while I calmed down haha.\nIt's such an awesome plugin Prinzhorn, I hate posting 'issues' as I know it's just my ignorance.\nRob\n. Interesting... What code are you using to scroll to the anchor point? Is that something you wrote with JQ or part of Skrollr?. Is the code online anywhere? I'm not that familiar with how Skrollr handles scrollTo links.. ha, great!. ",
    "Viveur": "Also experiencing this issue\n. ",
    "oldlam": "I also got the same issue,\nnow I solve it by calling init inside window.onload\n. ",
    "Julesman": "YESSS!!! window.onload solved the issue for me. Thanks.\nwindow.onload = function() {\n    var s = skrollr.init();\n};\n. ",
    "smekosh": "Confirming that the window.onload solution works well. Thanks @oldlam!\n. ",
    "ekasur": "guys, I try @silvenon code, and I put it in my code it's not working. It's make my parallax offset.\nI try @Julesman code also, it's not working. Nothing happen. Just to clarify, that is javascript code is'n it ? I put that outside of my jquery script.\nI am so confuse what's the problem actualy ?\nMy parralax still not good when we load the page. But when I resize it, it's work.\nAnybody  can give me some advice or solution?\nThanks\n. ",
    "baskinco": "I'm experiencing the same issue on mobile, even after adding the window.onload solution. However I have a bit of a different implementation that enables/disables skrollr when the screen size is changed. \n$(window.onload = function () {\n  // initialize skrollr if the window width is large enough\n  if ($(window).width() < 768) {\n    var s = skrollr.init({\n        render: function(data) {\n            //Debugging - Log the current scroll position.\n            // console.log(data.curTop);\n        }\n    });\n  }\n  // disable/enable skrollr if the window is resized above/below 767px wide\n  $(window).on('resize', function () {\n    if ($(window).width() >= 767) {\n      skrollr.init().destroy(); // destroy if over 767\n    }\n    if ($(window).width() < 768) {\n      skrollr.init(); // enable if under 768\n    }\n  });\n});. @robhadfield yes. all content is within the main div id=\"skrollr-body\", and no fixed elements are within that div. Skrollr works, but sporadically. Sometimes elements don't transition at the positions they should  until after a refresh of the page or even just moving the phone from portrait to landscape and then back again. Any insight you have you be greatly appreciated! Thanks. . @robhadfield I'm fairly new with javascript so my reasoning may be a little unstable :) I see your logic with separating everything into functions that fire when needed. One thing that may affect this solution is that I don't want skrollr to fire on desktop (over 768px) at all, so in my mind there doesn't need to be a skrollrDesktopInit. More like a skrollrDesktopDestroy. Thoughts?. @robhadfield  tested, and slightly modified. Works like a charm. (see below)\nAnd if you feel up for another challenge, I could use a set of eyes on this one as well ;) https://github.com/Prinzhorn/skrollr/issues/861\nThanks for all your help on this .. much appreciated. \n```\nvar skrollrStart = function() {\n    var winW = $(window).width(),\n        _skrollr = skrollr.get(); // See if skrollr is already initialised\nif ( winW <= 768 ) {\n    if ( _skrollr ) {\n        skrollr.refresh();\n    } else {\n        skrollr.init();\n    }\n} else {\n    if ( _skrollr ) {\n      skrollr.init().destroy();\n    }\n}\n\n}\n// Fire initially\n$(window).on('load', function () {\n    skrollrStart();\n});\n// Fire on resize\n$(window).on('resize', function () {\n    skrollrStart();\n});\n. Just a straight-up HTML id anchor.\nMenu Item 1\n\n\n```\nBoth the menu and the div are inside skrollr-body . Realized that there is an entire skrollr library just for menus (js/skrollr.menu.min.js) :) Once I added the library and implemented the data-menu-offset method described here, everything worked out just fine. thanks again for your help. . ",
    "fabianshamano": "Hi guys, I really hope you guys can help me I'm using scrollr for some really important projects and I've noticed 2 very fatal problems \n1. Anchor tags don't work, for instance if I wanna anchor a section of my site to my menu bar at the top it doesn't work at all \n\nMobile scrolling of other elements is disabled. say I have a panel that has a set height and overflow auto, it will will work fine when testing on the pc however when tested on a mobile device the scroll bars appear but content cannot be scrolled. I believe scrollr takes preference over all the scrolling on the page making it close to useless for mobile application. \n\nI'm not a guru, still learning but I was able to confirm that these issues are caused by scrollr, may someone kindly help me please . I did not shout at anyone in anyway only asked for assistance, perhaps my mistake was over explaining my predicament and no I'm not using IOS, but thanks anyway will take a look at the links . Mate you're clearly reading what I wrote the wrong way, I was wondering what would cause you to respond to me the way you did but now I think I see it. like I said my mistake was over explaining myself. The anchors don't work, that's not me criticising scrollr it's me stating my challenge that I need help with. 'Close to useless' I'm referring to my site on mobile devices as people won't be able to see the content if they can't scroll . . ",
    "YDSS": "I add <!DOCTYPE html> to my code, it doesn't work either~~~It seems treat document as viewport.\n. I'm sorry to reply so lately, it's working well now,thank you for this amazing project!!!\n. ",
    "MikeZange": "Fair enough :)\n. ",
    "crispen-smith": "Thanks, this is a fantastic project and I'm really glad I could help even\nin a small way.\nI'm going to keep an eye out for other opportunities if that's okay.\nOn Mon, Oct 27, 2014 at 2:36 PM, Alexander Prinzhorn \nnotifications@github.com wrote:\n\nMerged #618 https://github.com/Prinzhorn/skrollr/pull/618.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/Prinzhorn/skrollr/pull/618#event-184251178.\n. \n",
    "neufeind": "Sorry, of course the error was burried in other JS-code, which I didn't notice at first. Thanks for the quick response.\n. ",
    "filipecunha": "@apedretti how can I get your script?\n. ",
    "mwhittet": "Try id=\"skrollr-body\" instead of id=\"#skrollr-body\" (remove the hash), hopefully that helps you.\n. No worries, having issues with Skrollr on mobile too. Works nicely on desktop but on mobile I keep getting white space right at the bottom and then when scrolling back up, the content is cut off. It looks like the content is moving but can't figure it out.\n. ",
    "iliketomatoes": "Unfortunately that was just a typo in the message that I previously posted. I typed it correctly in my HTML code and it doesn't work. Thank you anyway. \n. Ok thanks, I didn't know that. I'm just not activating skrollr when it's on a mobile device. Because for that layout I need the wrapper to be 100% high, plus I think there would be a conflict with the lazy loading of the images (which is based on the scroll, I haven't checked it yet though ).\n. ",
    "capnslipp": "Hahaha ;-)\nI was reading and re-reading over the constants section, making sure it was going to do everything I needed it to before sitting down to refactor things to use them, and it just stood out.\n. ",
    "gerard1979": "Ok my svg's are below.\nI've employed your data-top syntax, which is great! It's almost got it for me. I want to use this as the site will be responsive.\nHowever each svg begins to animate a little too late for the right effect. Is there a way to offset data-top with a numeric value added??\nIn terms of data-anchor-target, I have failed in my attempts.\nWhat you have created is fantastic BTW, hat's off.\nSl\u00e1inte mo chara!\n```\n\n```\n```\n         \n```\n. Perfect this really helps. Thanks so much.\nAll the best buddy.\nSl\u00e1inte!\n. ",
    "janmadr": "I think I got it, flickering stops when there is a position:fixed; (even empty) element in viewport, I think there is something about it in Prinzhorn's documentation here on github (\"What you need in order to support mobile browsers\"), but maybe it's unrelated, tbh i didn't understand it completely...\n. I agree, it's browser issue.\n. ",
    "ottomen": "Nope, nothing changing. I'm using img tags instead of background images. Is it possible to make parallax effect with tag img at all?\n\nimg src=\"../uploads/slider/main.jpg\" alt=\"\" data-0=\"margin-top:0px\" data-600=\"margin-top:150px;\"\n\n. I'll try it, thanks!\n. ",
    "skyparadox": "Try this smooth scroll work like charm in chrome https://gist.github.com/galambalazs/6477177/\n. ",
    "Bloggerschmidt": "for me this jQuery Plugin do the trick https://github.com/simov/simplr-smoothscroll\n. ",
    "maksad": "Sorry it was my bad. I missed the part with #skrollr-body\n. Are you using angularjs?\n. I have no idea how it works in you case, but one of the common issue in angularjs might misspelling the directive or not including the scope in HTML at all. like HTML tag has a tag with an attribute <div xyz-attribute ></div> and in angluar directive it is declared as .directive('xyzAttrubtesVal', function() {}) which means that the div is simply not found. So, I am not sure what it is in your case, but that might be similar issue\n. ",
    "luksak": "@Prinzhorn Ok, thanks! Makes sense. I just didn't understand what constants are for. How can I dynamically do this for any amount of elements?\n. Could you give me a hint how to accomplish this with data-attributes?\n. Sure I can do that, but am I supposed to create a constant for every item I am using skrollr on?\n. What I am trying to accomplish that elements overlap each other. As soon as one element starts to leave the top of the viewport, the next one should start to cover it. The only way to make the following elements have to proper positions is to use a negative margin-top. So using a container doesn't work.\nCan you give me an example how you would do this for any amount of elements?\n. Well, this is never the case in my design. But yes, generally it is possible.\n. But the thing is that I want to affect the page flow since I want the element after the currently animated one to follow its preceder directly. Or is there a way to accomplish this behavior with transforms as well?\n. Totally true. Since my site is not live yet, either way I have to PM it to you or we just wait until its live. What do you prefer?\n. @artemist I am facing a similar issue: #630 In my case the elements I apply skrollr on change the document height themselves. As I mentioned, you can fix this issue by calling the refresh method on the skrollr obejct:\nvar s = skrollr.init();\ns.refresh();\nMaybe you can fix your issue by calling this after the content changed the size of your document. The resize event is only triggered if the user resizes the browser window.\nAlternatively you could use something an interval as I did:\nsetInterval(s.refresh, 10);\nBut this has horrible performance in all browsers except Chrome and forced me to only apply skrollr on Chrome since it is not a critical effect in my case.\n. Is there a way to listen for events of these elements? That way you could bind on it and only execute if something changes.\nAnother way to improve performance of things like this is using a debounce function like this one: http://davidwalsh.name/javascript-debounce-function\n. ",
    "sdras": "hi @luksak, thanks for the advice. The user would toggle the height of many different objects on the page inside the unit that is being affected by skrollr, so there is no telling how tall it will end up being or when that would happen.\nI was trying to avoid a setInterval refresh, because, as you mentioned, it has horrible performance. I think this might be the only option to solve this problem, though so I may have to weigh the cost in terms of what is worse for the UX.\nThank you for pointing me in the right direction!\n. ",
    "polikin": "yes, I tried.. but I don't understand how can I move .section2 when the viewport reach the bottom of .section1.\ndata-anchor=\".section1\" or data-anchor-target=\".section1\"?\n. http://codepen.io/anon/pen/WbNdKo\n. ",
    "Klowner": "Happy to help! Thanks for the quick response.\nReplacing _skrollrBody.offsetHeight with _skrollrBody.scrollHeight does result in the desired height (aside from not taking my skrollr-body's top margin into account, although I can probably adjust my page design accordingly, or add + _.skrollrBody.offsetTop ... that's probably a troublesome path to follow).\nIf I also replace _maxKeyFrame = Math.max(_maxKeyFrame, _getDocumentHeight()); with _maxKeyFrame = _getDocumentHeight(); then I get the desired result, but I'm assuming that may not be the proper solution for other cases. Without this change, the _maxKeyFrame is greater than _getDocumentHeight() so I still end up with extra space after my content.\n. Oh hey, good point, that was silly of me. I set forceHeight: false and everything works perfectly for me with your proposed changes to _getDocumentHeight()\n. ",
    "pjmolski": "I've tried it on both, and it happens occasionally on both. I haven't been able to reproduce it consistently\u2014I don't understand what exactly causes it to happen, so I don't know what to do to get it to happen, but it does happen every so often.\n. I think you're right\u2014I'm sorry for misrepresenting that. I've been testing in both browsers, and seen the glitch enough times that I assumed it was in both. My bad.\nSo should I just never show anyone this site in Chrome? \n. I've tried isolating the section to narrow down the problem, and it seems to be stemming from the iframe containing the video in the section \"fog.\" I'm going to try to embed the video in another way, but I thought I'd come back to you with this to see if you'd come across something similar, whether the problem is with iframes or videos.\n. I set the video to \"display:none;\" when it wasn't on screen, and it fixed the issue.\n. I agree. Hopefully this helps anyone else who comes up against this weird circumstance in the future.\n. ",
    "almirsaatchi": "Thank you for your reply. It is hard to debug, since I do not have the device with Android 4.4, so I chose to disable skrollr for mobile.\n. ",
    "msavov": "And also changing svg path fill together with links color...\n. ",
    "wing5wong": "Ok thanks, i will look at an alternative method for the menu. It works great without!\n. ",
    "oscarvdvleuten": "Hey,\nWhere can i find the mobileDeceleration?\nAnd how can i change it? And it won't show a scrollbar on my tablet. I'm not a code master haha!\nThanks!\n2014-11-26 15:33 GMT+01:00 Alexander Prinzhorn notifications@github.com:\n\nI can't reproduce it. The reason is that I only have an Android Tablet and\nthe website is basically unusable there. It doesn't fit on the screen and\nis very slow.\nYou may have luck playing with the mobileDeceleration option? Or scale?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/Prinzhorn/skrollr/issues/641#issuecomment-64653467.\n\n\nMet vriendelijke groet,\nOscar van der Vleuten\n+31 6 48603357\nwww.oscarvandervleuten.com\n. I don't that is why i am asking you. I told you i am a basic programmer,\nand this is new for me.\n2014-11-27 10:31 GMT+01:00 Alexander Prinzhorn notifications@github.com:\n\nYou are already initializing skrollr. Please don't blindly copy code\nwithout understanding it.\n<script type=\"text/javascript\">\nvar s = skrollr.init({\n    edgeStrategy: 'set',\n    easing: {\n        WTF: Math.random,\n        inverted: function(p) {\n            return 1-p;\n        }\n    }\n});\n</script>\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/Prinzhorn/skrollr/issues/641#issuecomment-64765566.\n\n\nMet vriendelijke groet,\nOscar van der Vleuten\n+31 6 48603357\nwww.oscarvandervleuten.com\n. ",
    "leac": "I too, don't know how it's related, but when I don't load skrollr.js, the storyline displays fine.\n. I'm not sure why it would be so. I use display:none only for data-0. And I use display:none that way on all slides.\nAnd if it were related to that, then why does Chrome display it well?\nAnd also, it's not the whole iframe not showing - the background (the grey tiles) is showing. If it were in display:none, no part of the iframe would be seen.\n. No, I can't remove them, because then the slide won't appear the way I need it to.\nBut what we decided today was that we won't be using the HTML5 version of Storyline, and instead we'll use the flash version. \nSo we don't have this problem any more.\nThanks for your help.\n. ",
    "danilobuerger": "Take your classic example as an example. Add a top.\n. I can't provide an actual example to you, but i can explain a use case:\nA fixed container, lets call it #fixed, and skrollr with #skrollr-body. #fixed spans the whole viewport, is fixed, #skrollr-body should start beneath it and scroll above it. I could just add a placeholder in #skrollr-body that also spans the whole viewport, which is transparent so that #fixed would be visible and it would seem like #skrollr-body starts beneath. But what if #fixed needs to act on pointer events? It could be done with css pointer-events but that doesnt have the browser compatibility i would like. It could be done with javascript, but why bother with a cumbersome solution, if the fix involves one line of code to change in skrollr. And that is that #skrollr-body respects a top position.\n\nskrollr-body is not meant to be styled in any way\n\nWhy would you say so? In your classic example you apply styles to #skrollr-body. Among them is position, so one would naturally assume, if something has a position: relative that for example top can be applied.\n. ",
    "craigpryde": "i changed the code and still the same issue. any ideas what is causing it?\n. Going to start again without plugin. thanks anyway \n. ",
    "JLGouwy": "Sorry, writing my problem, I suddenly had an idea.\nAnd I understood the skrollr-body !\nSorry ! \n. ",
    "ianmaroney": "So far this seems limited to webkit browsers.\n. I'm not sure what has changed, but now calling .refresh() within $(window).load() seems to resolve this issue.\n. ",
    "SamHall": "Sadly, that did not work.  It will not scroll at all on iOS mobile devices when forceHeight: false is added to the skrollr.init.\nAny other suggestions would be appreciated.\n. That page is now updated.  The issues (blank at bottom and locked scroll w/forceheight:false) only occur on iOS.  Not sure how to debug/figure out what is going on.  Thank you.\n. Okay - wow, sorry.  I misread the earlier response, thinking 6.6 was current.  My bad.\nYou have made my day! It works.\nWhat a great Christmas present!!   Thank you.\n. ",
    "deepagaria": "even i have this issue. Only the 1st background images is shown on mobile but that is only the case if i use bootstrap nav.\n. ",
    "IstvanLovas": "Hi Prinzhorn!\nYes, it turned out that taking out the fixed positioned sections solves the problem. Even putting the fixed positioned elements outside of skrollr, did not work in IE9 (it works but messed up the entire layout). However it would be super awesome if fixed positioning would be better supported. For IE9, I have also had trouble with enquire.js so i left it out and now it works smooth. I do not understand what could have gone wrong with enquire.js though?! Any idea?\n. ",
    "tommibv": "no, the problem was the relative positioning of the div .col1\n. ",
    "jthk": "Nevermind, I found an easy fix and that was to wrap skrollr init in a window.onload ^^;;\n. Apologies, might still need a little help here in the end,\nMy method above fixed the asset from shifting positions when the viewport width was resized, I am still have the same problem now when the viewport height resizes.\nHere is the link again: \nhttps://shielded-garden-9670.herokuapp.com/\nThanks!!\n. ",
    "froissant": "I think it's the intended behavior. Take a look at the \"edgeStrategy\" option, I quote:\n\nWhen before/after the first/last keyframe, apply the styles of the first/last keyframe to the element.\n\nHere's a bin based on your last one.\nI used \"data-bottom\" to set the background color instead of setting it in the style.\nIf you want to use the \"reset\" strategy, here's another bin.\nThe base color is set in the style attribute, and the colors are changed between the [200-top; 100-top] range from blue to brown, and between the [100-top; top-bottom] range from brown to green. If you remove the data-top-bottom keyframe, the div will change from green to blue immediatly at the 100-top keyframe and you won't ever see the color.\n. ",
    "coreymcollins": "Here's a working codepen: http://codepen.io/coreymcollins/pen/JoWVpp\nAnd an animated gif of the current functionality for the section in question: \n\nhttps://www.dropbox.com/s/jpnbeyw36i26pip/codepen-skrollr.gif?dl=0\nThe basic thing here is this -\nYou'll get to the cat in the snow and the \"discover our products\" text slides up and out of view, which is what I want.  If I scroll up, I would like the text to slide back into view.  This currently does not happen until I hit the \"data0TopBottom\" keyframe.\nPerhaps I'm not using the keyframes properly, but when I do console.log(direction) on line 53, the direction is only written to the log once I scroll past a keyframe.  If I scroll up and down without scrolling past a keyframe, the direction is not continually written.\n. That's what I figured - as you can see in the Pen above, I'm having some other stuff fire during render; so, I can target that piece of content and slide it back in when its parent has a specific class (probably skrollable-after at that point).\nThanks!\n. ",
    "webgefrickel": "For now, you can use this in combination with browserify-shim, for example in your package.json:\n...\n  \"browserify\": {\n    \"transform\": [\n      \"browserify-shim\"\n    ]\n  },\n  \"browser\": {\n    \"skrollr\": \"./node_modules/skrollr/src/skrollr.js\",\n    \"skrollr-menu\": \"./node_modules/skrollr-menu/src/skrollr.menu.js\"\n  },\n  \"browserify-shim\": {\n    \"skrollr\": {\n      \"exports\": \"skrollr\"\n    },\n    \"skrollr-menu\": {\n      \"depends\": \"skrollr\"\n    }\n  }\n  ...\nand then in your js just require them as you would with other modules\n```\nvar skrollr = require('skrollr');\nrequire('skrollr-menu'); // no need to assign to var, will assign itself to skrollr.menu\nvar s = skrollr.init({ ... });\nskrollr.menu.init(s, { ... });\n```\nYou can install this repo directly from github using npm install Prinzhorn/skrollr, maybe not the best way, but working as expected for me.\n. ",
    "olebedev": "@webgefrickel, thanks! I will try it soon.\n. ",
    "ironpanda": "any idea how you would do the same in webpack?\n. ",
    "tokyobarbs": "Hey!\nThanks for the reply. I actually managed to track down the issue. Sorry! I should have closed the issue, but got completely sidetracked. I'll close it now.\nIt was flexslider (responsive slideshow plugin). Before my flexslider code was kicking in, the 'slides' I had were still momentarily stacked vertically, thus forcing the page to be longer than they should have been and skrollr making the page longer.\nTo get around it, i had to force a height on my flexslider containers to prevent the page height rendering too high. Fixed the issue nicely!\n:)\n. ",
    "JordanDelcros": "Why not ? There is no way to pause skrollr or it is poorly explained is the doc.\nEnable just tell skrollr: \"OK, your initialized, maybe yet used but now, just stop scroll, I'll call you back latter\"...\n. ",
    "kumarharsh": "spam?\nSPAM!!!\n. Its OK. You can close the issue. That would be enough.\n. OMG, really? That's very shady indeed --> .cn. ",
    "fa1c0n": "sorry guys, my mouse got crazy :( it inputs that symbols randomly. sorry! \nplease, remove this issue. it was created accidentally\n. ",
    "johncant": "Entering this text is the default behaviour of extra buttons on some mice! Scary!. It comes with an \"internet helpdesk button\". JK.\nIt acts as a keyboard and types the URL when you press the button. When I figure out how to fix it I'll post here so that other linux users don't suffer the same annoyance! Sorry about that - it's just that this URL is the 3rd item in the google search.. ",
    "rsp": "@fa1c0n Where do you buy a mouse with a functionality to post issues on github with prefilled issue titles with your URLs? I want one.. ",
    "andrewcroce": "Well heres to reading the documentation fully. Preventing interpolation on the URLs by adding an exclamation point solved this. As in:\ndata-0=\"background-image:!url('http://path.to.image/2015/01/img.jpg')\nDerp.\n. ",
    "Quasso": "Silly question really which I've now answered myself. The solution to this is to have the same elements duplicated outside of the #skrollr-body and hide them until position fixed needs to be applied. Then use separate scripting for data-triggers depending on whether we're on mobile/tablet or not. It feels slightly hacky but then again it's going to produce an awesome unified experience quite fluidly cross-device, so it's worth it IMO. \n. ",
    "maximilianschmidt": "thanks for your answer!\nim using your script inside an Adobe Digital Publishing Suite app. i intend to use it for a digital magazine where you have multiple pages on the x-axis (swipe left / right to go to the next / previous page). now, some of the pages in this magazine are html-only (running inside an iOs webview) and these pages are using the skrollr script. they are 100% in width, so since the script \"prevents\" swiping on the x-axis, you cant turn pages. \ni hope that was understandable :)\ncheers\nps: as i just found out, the iScroll script has a similiar feature\n. all right, i will try to do that and hope i can get it to work.\nthanks for your help! \n. hi there, \ni tried to apply your solution by adding the following in my index.html right before the closing body tags:\njavascript\n$(body).on(\"touchmove\", function(e){\n    e.stopPropagation();\n});\n(i intentionally blocked every direction, just to make sure it works, and i tried e.preventDefault();, return; and return false;.) \nbut i am still locked inside my webview, cant swipe left or right to go the the next / previous page. \ncould you point me in the right direction again? isn't e.stopPropagation(); preventing the swipe event from bubbling up towards the app and thus preventing the app to even detect the swipe? or am i wrong here?\n. yes, body is defined. \njust another quick question for a possible workaround i can think of:\nis it basically possible to attach the skrollr script to something else than documentElement? e.g. the $(\"#skrollr-body\") div? i tried it, it broke a bit of the layout but doesnt seem impossible to manage. is that something i should follow or does it require to much of fiddling with the core code?\nthanks for your replies, its much appreciated! \n. ",
    "Exho1": "Real sorry about the delay, I was busy. I changed up the images because the originals contain personal information but the concept is the same. With a 1920 x 1080 monitor the black and yellow box flies by at a certain position (a little above belt level on this picture) but once you shrink the window, the entire thing breaks. \nhttp://exho1.github.io/parallax/index.html\n. I've got a bit of a solution by chopping the large background image into 4 pieces and doing (data-anchor-target=\"#bg-image2\") but right now I'm just trying to get my images to not have a little white space in between them \n. ",
    "Naviss53": "I have the same issue like in this screen :http://image.noelshack.com/fichiers/2015/11/1426171516-issue2.jpg\nA white space after each slide of my parallax.\nIf anyone have a fix that would be great.\n. I \nI know it's hard to troubleshoot this code but this is due to the plugins that generate content dynamically by using many files and avoid me to hard code because i use wordpress interface. I think the issue is in the JS used to generate CSS and parameters for parallax sections or is made by background-size:cover but i'm not sure and don't know how to entirely adapt it to the window height. Also if i disable the stylesheet line where the CSS cache dynamicaly generated, the blank space disappear but is replaced by the top of the next slide. I wanted to know how to fix this to obtain a perfect parallax efect like this site : https://ihatetomatoes.net/demos/simple-parallax-scrolling-tutorial/\nHere a JSFiddle if you want to give it a try : http://jsfiddle.net/naviss53/pc3ya0q9/53/\nThere is the little white space at the bottom of the preview whixh appear when scrolling between the two slides.\nAnyway thanks to you.\n. Thanks for the tip.\nI'm trying to apply your solution on the JSFiddle but i have some trouble to animate it with skrollr and use translateY. What i can see in the fiddle is the dynamic background position of the \"section\" element is negative \"center -6,.... px\" when the window height make the blank space appear. Is that normal ? And when i resize the window in height i can reduce it to 0 and at this moment there is no white space anymore. If you can just help me with an example or on mi JSFiddle that would be great because i have some trouble to understand data options with translate.\nI edited the fiddle link for the background images\nThanks again\n. ",
    "tszekely": "sorry, I meant to post this on a different plugin. please ignore it\n. ",
    "leemwilliams": "Hmmm...nothing obvious. Are you stuck on timing and frequency...I would change the order of the calls and variables, and see if it makes a difference. \n. ",
    "isarmstrong": "What I know now, after a lot of debugging effort, is that it's a z-indexing issue. Essentially, that's why the console isn't reporting any bugs - because the JS isn't at fault. This doesn't stop it from being a plugin issue though so I'll keep this open.\nIn Chrome, if I select #frame-2 and add a z-index of 50, the image leaps to the front and completely covers the map. If I remove the z-index, it retreats in a really odd way.\nSo something in the way Google Maps v3 inserts itself into the page is causing the parent container's z-index to go haywire.\n. Quick note - the demo I did was only checked in Chrome. My hack of a fast paste means it doesn't always render right in alternate browsers (not a problem in production)\n. Quick answer - you're right, I had simplified it to a point where Skrollr was no longer a factor. Too long looking at the same problem.\nAside - I needed to add a translate-z to the containers and tweak a pair of z-index values. The formerly 'broken' version works fine now.\nMoral of the story: don't skip lunch and try to keep coding.\n. ",
    "gerbenvandijk": "Thanks a ton @Prinzhorn :+1: \n. :+1: thanks!\n. ",
    "nyroDev": "I have the same problem, except that my fixed menu could have a scroll in it.\nIf I'm stoping the event, my menu is not scrolling anymore.\nIs there a way to temporary disable skrollr?\n. ",
    "coreyleedesigns": "There should be a dropdown menu opening after the tap/click, thanks!\n. ",
    "BaptisteKucharski": "Nope, maybe it's a problem with img,\nlook at there : http://baptistekucharski.com/\nor there : http://www.emiliegenovese.fr/\n. ",
    "mikeebee": "Ah, that explains it!\nI was in the middle of posting an updated example that wasn't working but I noticed it was working on the server but not locally. Changed the script to initialise on window.load rather than document ready and it's working as expected. I think that has been the main reason my experimentation has not been yielding results.\nThanks for your help!\n. ",
    "pleasantBailey": "Nevermind, I figured it out!\nI changed a href=\"javascript:toggle_visibility('1a');\"\nto a href=\"javascript:toggle_visibility('1a');s.refresh();\"\nFunny how trying to find the answer myself for 2 hours only comes to a head after I give up and ask for help, and then find the answer 15 minutes later.\n. ",
    "oilmundo": "Thanks a million Alexander. Tried this and it works.\nRegards\nMarc\nSent from my iPhone\n\nOn 21 Feb 2015, at 07:44, Alexander Prinzhorn notifications@github.com wrote:\nHow can this be?\nrace-conditions. Locally your images load almost instantly. On the web they don't. When you init skrollr some images are missing. Once they are loaded, the meaning of stuff like data-top changed, because the new images moved elements in the document down. Refresh skrollr when all images are loaded.\n$(window).load(function() { skrollr.get().refresh(); });\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "sramos14": "I have a novice question. Where do I put the above code? Do I wrap it in script tags at the bottom near the init skrollr? Please advise. Thank you!\n. ",
    "axebox": "I'm reproducing in iOS Safari. Any ideas what's going on?\n. I removed forceHeight:false and it works for me now. This is pretty critical to skrollr not working in iOS.\n. ",
    "dontfeedthecode": "I'm having the same issue.\n. I've managed to sort my issue out, I moved the content that was above the skrollr-body previously inside it and removed forceHeight:false - it seems to be working now.\n. ",
    "ethanclevenger91": "I'm also having this issue. You can see the issue at http://cellularadvantage.webspec.org on Android at least Chrome and Firefox. It also reproduces using Chrome mobile emulation when navigating via click-and-drag but not scroll wheel.\n. Codepen - http://codepen.io/ethanclevenger91/full/WbVOoO\nOn a desktop, I can scroll down the page just fine and Skrollr behaves as expected. Open that on mobile (tested in Android 4.4.2 with Chrome 41) and you can't scroll down the page, though skrollr will still fire its events.\n. Ah, yep. Went ahead and fixed that, thanks. Though I still have an issue - if you get to scrolling on mobile before skrollr has loaded, you end up with whitespace on the bottom that seems to be equal to as far as you've scrolled, and then that much of the top can't get scrolled back to. I tried adding $(window).scrollTop(0) before the call but it doesn't seem to be helping. Let me know if anything strikes you off the bat as wonky.\n. I did not come up with a solution. Hopefully we get a response. I'll tinker with the Codepen maybe this weekend to emulate the issue so that they've got a test case.\n. Same as the CodePen, but served natively.\n. ",
    "herrherrmann": "I'm having the same problem as you just described, @ethanclevenger91.\nHere's the site: http://www.wassersportcenter-berlin.de\nAs it was stated already: If I scroll down on mobile (Android Chrome, iOS Safari) before Skrollr is loaded, the site cannot be scrolled to the top anymore - instead it now \"starts\" in the middle of the page (the spot I reached before Skrollr was loaded) and extends the page on the bottom. Is there any way to avoid that?\n. ",
    "sanderha": "Found the problem. Somewhere on body and html, overflow-x: hidden was set.\n. ",
    "fallenartist": "I can see it in Safari 7.1.6 on OS X. Performance on Safari vs Chrome is night and day.\n. ",
    "jaydickinson": "Yeah I thought that might be the case.\nThanks\n. ",
    "qikkeronline": "Thanks, makes sense :+1: \n. ",
    "tab83": "i have the same overflow issue on all smart devices.\nI can't scroll down on all smart devices.\nI only init the skrollr. i would like to use it, but seems like is not ready yet.\n. ",
    "thoughtspacewebsites": "Well for your issue, you should be able to just wrap your entire contents in a div with an ID of skrollr-body. My issue is that horizontal scroll on elements contained in the skrollr-body element does not work.\n. Couldn't you check on touchmove to get the direction of the move, and then calculate the trajectory angle for the move, and if the angle is between 30deg and -30deg then do a stopPropagation as mentioned in the other issue? Or maybe I'm just blowing steam....\n. ",
    "ain": "Reproduced it as well. Complete lock-down on mobile, no scroll at all.\n. ",
    "freakinruben": "I agree that it removes some of the good parts of JS, but for me it's not a matter of taste but wanting to use the benefits of the closure compiler like DCE and code checking. From that perspective it also adds value to this library to at least have the option to use the closure compiler. Besides, most of the code is already compatible :-)\n. I wasn't aware that you could leave the version-nr out\n. ",
    "Igcorreia": "Yes something like that. Does that  work? Does it mean I can animate any property without using pixels? If that is the case, then there is no bug :)\n-- Suggestion to make this easier to find in the docs.\n. ",
    "ianecross": "I'm hosting my site locally a at the moment\nThis is a screen shot before any scrolling\nhttps://cloud.githubusercontent.com/assets/10887650/7031537/281f070c-dd64-11e4-8620-167c5cd6137b.jpg\nand below is after scrolling, you will notice the image moves across exposing the white background of the underlying div container\nhttps://cloud.githubusercontent.com/assets/10887650/7031624/cf10343c-dd64-11e4-912e-0d41b6320282.jpg\n. ",
    "breadbaker": "Thanks, you're right setScrollTop does exactly what I need, don't know why I didn't see that.\n. ",
    "E-VANCE": "Hi Alexander,\nyeah, guess the footer should be inside skrollr-body and that was at least a symptom of the problem, I doubt that <div id=\"offset\"></div> could really have been causing the issue... Anyhow, I managed to somehow work around the footer-issue and now it is working as intended (well, more or less).\nMany thanks for a great script and keep up the good work!\nCheers,\nHenning\n. ",
    "llyfre": "Looks like I can't leave code --hope someone can still help, the link at the bottom goes to the site live.\n. ",
    "gdoot": "UPDATE:  I actually removed skrollr from that page since it doesn't need it. But my home page does (http://workwave.joomlatest01.mms-dev.com/).\nI saw your other posts about needing a div with an of \"skrollr-body\" so I added it to my home page and it scrolls now, but not all the way down.  I'll mess with placement some more, but if you can tell easily why its not scrolling all the way, please let me know...  \nThanks for a great library!\n. ",
    "wcu1117": "you  can look up the code of original website .maybe it works \n. You can check these,if the scroll code of CSS conflict the body,just  individual opinion\u3002if you had not do it ,you can try it.\n. ",
    "kc234": "The horizontal scroll comes from using the Bootstrap plugin, but I need to find a way to disable it without affecting Skrollr\n. ",
    "aaroniker": "ah oh god - stupid me!\nthis helped me:\nhttps://docs.google.com/drawings/d/13WWhNhQayokmDtzuhKv7YAq6bQrcp4b_s03vc3LgNys/edit\n. ",
    "idesignpixels": "Hey thanks for the input, I'll be honest I gave up on it and started learning scrollmagic aka scrollarama along with greensock. If anyone else was like me and had a quick look but we're put off by how complicated it looks it really isn't.\nIt gives a completely new dimension of control and compatibility and I would highly recommend it to anyone wanting to go past basic parallax and animations as skrollr seems to have a lot of knock on affects that can be frustrating, although I appreciate the simplicity of its integration.\n. ",
    "andrewkyh": "After I tried to use Skrollrs render event as the code below, it seems like working fine on mobile device. Thank you so much!\njavascript\njQuery(window).load(function () {\n    \"use strict\";\n    var header = jQuery(\".navbar\");\n    skrollr.init({\n        forceHeight: false,\n        smoothScrolling: false,\n        render: function (scrollMobile) {\n            if (scrollMobile.curTop >= 80) {\n                header.addClass(\"navbar-scroll\");\n            } else {\n                header.removeClass(\"navbar-scroll\");\n            }\n        }\n    });\n});\n. ",
    "benface": "Have you tried setting forceHeight to false?\n. ",
    "enoversum": "I have a similar problem. I have the following to initiate for Desktop and disable skrollr on mobile/screen sizes below 960px:\n```\njQuery(function () {\n  // initialize skrollr if the window width is large enough\n  if (jQuery(window).width() > 960) {\n    var s = skrollr.init({\n      forceHeight: false\n    });\n  }\n// disable skrollr if the window is resized below 960px wide\n  jQuery(window).on('load resize', function () {\n    if (jQuery(window).width() <= 960) {\n      var s = skrollr.init().destroy(); // skrollr.init() returns the singleton created above\n    }\n  });\n});\n```\nOn mobile Firefox, the whole thing behaves well. When I use Chrome, when I scroll down a page (which shows no animations from skrollr, since it\u2019s disabled for mobile) I get jumped up to the top every few seconds, no matter where I am on the page. Once I disable only skrollr the whole thing is scrollable again without having it jump to the top again. This is both on Android.\n. I have now disabled skrollr on mobile completely through user agent sniffing, but this is far from ideal, especially if you want to use skrollr on mobile.\n. ",
    "shamank": "More improvements to be fully compatible with last JQM version.\n. I think that if you want your plugin to be mobile compatible it should be compatible with popular mobile frameworks. they all (not only jqm) catch and play with touch events like you do, so this change is necessary for all of them. I didn't add any jq/jqm specific platform code but pure js. you can't use it in jqm if you don't make those changes. even more, I improved it fixing other stuff not related to jqm. it's all documented. thanks for your excelent work!\n. moreover, allowing a custom selector is a more flexible option that's not related to jqm.\n. ",
    "renorcht": "Finally i have found why !\n. ",
    "InspireGroup": "Yeah man - it is a long scroller. \nAaaand it looks like you're right. IE scroll limit is 1533900.\nhttp://stackoverflow.com/questions/18708598/ie-fundamental-limit-of-scrolltop-in-a-large-scrollable-div \nThanks for pointing me in the right direction. Really wicked tool you made. :)\n. ",
    "thanhnhan2tn": "The site  http://moto.oakley.com replace class rendered to unrenderd.\nAnd your page replace class skrollable-before to skrollable-between and skrollable-after.\nThis may be the cause it.\n. Oh, thanks for this information.\n. Hello,\nYou can add a ID named \"#skrollr-body\" to content or set skrollrBody='id-of-content' to init options\nMore details: https://github.com/Prinzhorn/skrollr#what-you-need-in-order-to-support-mobile-browsers\n. I also a similar problem, \nMy solution is disable it on touch device\n. You can add a ID named \"#skrollr-body\" to content.\n. I was try on my project, and it works for me. I have not checked it\n. ",
    "EpikMicky": "That is because moto.oakley uses a prev version of skrollr, rendered and unrendered has been replaced by the between, after, and before classes: https://github.com/Prinzhorn/skrollr/issues/191\n. No problem! Thanks for your response!\n. ",
    "bfintal": "Another alternative would be to check for 'Mobi' in the User Agent: https://developer.mozilla.org/en-US/docs/Browser_detection_using_the_user_agent\n. ",
    "peiche": "@bfintal How is that any better than the already existing user agent check?\n. ",
    "romain-ni": "I have a related issue, I can not use the body to get the height because my parallax is not used just after the that body markup, but very deep inside other divs.\nThe issue is that if you put an extra div between the body and the \"skrollr-body\" div, the parallax doesn't work anymore\n. ",
    "BN83": "I think the issue is because when you change the width of the page one or two of your content boxes are having the height adjusted due to squashing the width. This in turn forces everything to be pushed down the page and thus the triggers are at different points than they would normally be....\nAll of that said, i'm not sure how to get around it, as i'm currently in the same situation as you!\n. Ignore that. I've now realised that using data-bottom etc will offset it automatically.\n. ",
    "ellell": ":+1: I do the same with a variable that I set to true after the first render, would be great to be able to use onReady instead. \n. ",
    "egtumaob": "@thanhnhan2tn Thanks for your response.\nShould I add #skrollr-body to the section with parallax only or to the ? \nDoes the #skrollr-body id have additional css?\n. Thanks! I'll try that solution. I'll let you know if it works for me too.\n. ",
    "NPC": "I usually have to turn mobile emulation off, refresh the page in desktop mode, and then turn emulation back on\u2014then it works. Refreshing in emulated mode disabled scrolling for me too.\n. ",
    "hrag": "This happens to me without emulating touch, just regular ol Chrome (45.0.2454.15 beta (64-bit) on OSX 10.10.3) with dev tools open.\n. ",
    "AliciaRamirez": "I'm having the same issue as @hrag. If I close the dev tools, scrolling comes back.\n. ",
    "ChristianSchramm": "Yes, I tried to find the differences between the zip file and the bower instalation. When I started bower install the folders were missing and so I had no js-file to work with. I forked skrollr and changed the bower.json and then tried from my repository and it worked like every other bower project.\n. i used bower install skrollr like mentioned in the bower.json, or when you search it via bower search skrollr.\n. I use npm 2.13.3 and bower 1.4.1. I tried again bower install skrollr and its the same, only examples and guide are included as dirs. dist and src are missing. My co-worker also tried, but he got the folders like you. that makes no sense\n. ",
    "timawork": "Hello, I try it \njQuery('#openmenu').click(function(){\n     skrollr.disableMobile();\n });\nbut\nUncaught TypeError: skrollr.disableMobile is not a function. Ups sorry, my fault. All works perfect. This works for me\nvar s = skrollr.init({\n    .....\n});\njQuery('#openmenu').click(function(){\n    s.disableMobile();\n});\n. I Found Solution\nhttps://github.com/Prinzhorn/skrollr/pull/763. ",
    "Xixi20160512": "I also get \nUncaught TypeError: skrollr.disableMobile is not a function\nhow do you fix it ?\n@timawork . ",
    "tlcsalad": "I'm closing this as i've managed to use the animateTo function to get around the issue, thanks for the great plugin ;)\n. ",
    "tobz-nz": "+1 one for this.\n. ",
    "BobWassermann": "@Prinzhorn That does the trick, thanks!\n. ",
    "coresinceeightyfour": "Oh sorry, found it myself ;) https://github.com/Prinzhorn/skrollr-menu\n. ",
    "simonron": "But did it work ? I can not get any of the anchor demos with skrollr-menu to work on my El Capitain mac machine. Has anything changed?\n. ",
    "nagman": "Ok,\nIf anyone gets there for the same issue, I've solved it:\nThe skrollr.init was launched before every image in the page has loaded (so when the images loaded, the document was taller and the skrollr used the previous calculated height).\nTo get rid of the blank area at the bottom of the page, I just added  (I could set something else than line-height, this is not important). So that skrollr creates an empty element which forces the page to go to the very end.\n. Woops... Apparently, I've never finished my sentence.\nActually, I added <div data-bottom-top=\"line-height:0\"></div>\n. ",
    "EvilDonkeyLondon": "I fixed this with destroying and reinitializing skrollr in the ajax callback\nskrollr.init().destroy();\ns = skrollr.init({forceHeight: false});\n. ",
    "Tusko": "s.refresh();. ",
    "nickels55": "Solved by using skrollr-menu script found here:\nhttps://github.com/Prinzhorn/skrollr-menu\n. ",
    "EddieDemon": "What is the HTML response of the page?\n. ",
    "RaphaelHofer": "use .get() otherwise you initialize a skrollr instance on mobile devices instead of destroying one.\nif (viewportWidth >= mobile) { \n    skrollr.init({ \n        forceHeight: false, \n        smoothScrolling: true \n    }); \n} else if (typeof skrollr.get() !== 'undefined') { \n    skrollr.get().destroy(); \n}. ",
    "evanalexander": "For instance, how would data-anchor-target work in your \"Pausing\" example?\n. ",
    "boltgolt": "Skrollr is initiated just fine, but you haven't added any data tags. (as described here)\n. ",
    "soulmotion": "I had checked but i dont see any way to active just the smooth scroll function.\n. ",
    "illycz": "I prepare demo within anchor target: http://codepen.io/illycz/pen/qZpYEq\nRed smile never gets to data-top, but animation still go to rotate(360deg);\nMaybe helps you understand my question.\nThanks a lot\n. ",
    "guiliredu": "You can get the height of the page and use document.body.scrollTop to scroll down\n. ",
    "osleg": "Was just sleepy, rgba require 0-1 as last param, closing\n. ",
    "dmitrybelyakov": "Scroll is locked on iPhones as well. Both in Chrome and Safari,\n. Ended up using ScrollMagic, sorry.\n. ",
    "sander4318": "Encountered same issue on android 4.4.2 tablets. Didn't test on tablets with higher android version.\nTested (and was working) on:\n- android 4.4.2 phone\n- iphone\n- ipad\n. ",
    "TomS-": "Yup, doesn't work anymore. Android here.\n. ",
    "panoply": "You have a position overflow issue conflicting. FYI, This repo ain't maintained anymore bra. \n. ",
    "b0gd4n": "I guess, in other words - I want Skrollr to exclude the navbar at the bottom of the screen, so when I scroll that, it doesn't scroll the whole page, but just the navbar.\nI've tried stoppingPropagation on touchmove on the navbar, and does stop scrolling the whole page, but it also stops itself from scrolling horizontally.\n. thought to upload a sketch of what I want to achieve to make it more clear.\nThe overlay is position fixed, sitting at the bottom of the screen, z indexed above everything, with it's contents overflowing to the right:\nwhite-space: nowrap;\n  overflow-x: auto;\n  overflow-y: hidden;\nOn mobile, dragging the overlay starts scrolling the whole page, and the overlay is not scrolling left-right. If I use the mouse horizontal wheel, it does scroll, but not on touch.\n\n. managed to fixed this by stopping propagation on touchmove, touchstart and touchend events, on the overlay element:\n$overlay.on('touchmove touchstart touchend', function(e) {\n    e.stopPropagation();\n});\nthis broke tapping on any links that are inside the overlay, but adding a dummy listener to them fixed it:\n$overlayLinks.on('touchmove touchstart touchend', function() {\n    return true;\n});\n. ",
    "RyanRoberts": "You'll want to see this part of the documentation if you haven't already: https://github.com/Prinzhorn/skrollr#mobile-support\n. Would the following work for you?\n<script>\n  var s = skrollr.init({\n    mobileCheck: function() {\n      return false;\n    }\n  });\n</script>\n. ",
    "eerikson": "Definitely works, I'm just hoping newcomers aren't turned off by comparatively wonky iOS support\u2014the default legacy workaround included by mobileCheck -> true is unnecessary and makes things worse than the default behavior. And yes, I realize this is just an opinion!\nI'd be happy to contribute if it can be decided how to proceed (ie, maybe mobileCheck only checks for older versions of iOS where the hack was required).\n. ",
    "jde1126": "I am pretty sure the reason you are unable Copy, is the fact that this is Javascript, and Mobile Phones need to be nurtured for accurate responses.. You can!\nBut not with a simple line. For example:\n<div data-550=\"opacity:0;top: 25%; left: -50%;\"\n     data-750=\"opacity:1;top: 30%; left: 10%;\"\n     data-850=\"opacity:1;top: 30%; left: 30%\">\n<div style=\"font-size: 30px;\">My Website!</div>\n</div>\nIt basically drags out the animation, by slowly showing the text.\nUse the dimmed words to your advantage.\nMy website is VERY basic, but it is: Website!\nEDIT: Warning, The link opens in current tab!. ",
    "davidfarina": "I found a fix by myself since nobody here seems to be concerned about this or cares anymore about this project which is sad, to say the least, as I found it the best parallax library.\nHowever, I noticed that a few elements still catch the scroll event and scroll the page how it should. The problem is that those are all small elements and neither the background nor one of the big foreground elements caught the event. So i simply added a dumb div with no function to the bottom right above my background layer inside the skrollr-body element which is called \"main\" in my project:\n```\n\n <!--\n Skrollr elemnts with data attributes and fancy things\n -->\n\n <div style=\"position:fixed;width:100%;height:100%;z-index:9;\"></div>\n\n\n```\nLuckily this catches all event no matter where the scroll starts and since its in the background its not hindering any links from being clicked.\nI hope I could help YOU when you landed on this page :). ",
    "RByers": "As for the warning from Chrome: sorry for the trouble, this is a breaking change in Chrome 56 to improve scroll performance.  There's probably a missing touch-action CSS rule, which is necessary to support touch on IE/Edge anyway.. ",
    "kev2480": "Yup - opened at work nonetheless \ud83d\ude48 . ",
    "ronidavelman": "@manueltomasir Where you able to figure this out?. After the skrollr.init(), try running .refresh() on your skrollr object. I had a similar issue where the last slide would break, so I had to call .refresh() once the user got 50% down the page. . ",
    "manueltomasir": "No, still no solution.... Thanks i'll give that a try. ",
    "jrue": "If you're using jQuery, this seems to work for me.\n```javascript\nvar s = skrollr.init();\n$(window).on(\"load\", function(){\n   s.refresh();\n});\n```. ",
    "barkins": "Getting the following warning message when on mobile:\n\nskrollr.min.js:2 [Intervention] Unable to preventDefault inside passive event listener due to target being treated as passive. See https://www.chromestatus.com/features/5093566007214080. \n",
    "Bumerjio": "Any ideas how to fix this problem?. ",
    "monospaceberlin": "I tested it on another MacBook (using Safari 10.1) and the same issue occurred. On an iMac 27\" (using Safari 10.0.3) I could not reproduce this issue.\nDoes anyone confirm that?. ",
    "talalzaki": "Use css property overflow:hidden on div parent\n. ",
    "AlexObreja": "Just add the  id=\"skrollr-body\" in the div where you are using skroll. ",
    "chezdev": "skrollr.init({forceHeight: false});\nhttps://stackoverflow.com/a/19768072/8198631. ",
    "slidych": "Nope, this wouldn't work. When you run this regexp on a string like @data-animate[easing]: 100 the result would be:\n[\"@data-animate[easing]\", \"data-animate\", \"easing\"]\nInstead of: \n[\"@data-animate[easing]\", \"@data-animate\", \"easing\"]\nAnd the @ is required there because you use it then as a name of a property to animate. And you need it to check if it's an attribute or a style.\nAlthough, it could be /^(@?[a-z-]+)[(\\w+)]$/. But the result is quite the same.\n. "
}