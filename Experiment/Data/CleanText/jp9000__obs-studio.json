{
    "sztanpet": "left out a few, will send another one that breaks up the replacing of the header guards in embedded libs and libobs proper\n. see https://github.com/jp9000/obs-studio/pull/568\n. why the duplicate?. No need, the person merging it can edit the merge message just fine, it does not matter one bit (it's all about the commits) and only causes an email \"storm\". Just something to remember for next time. Thanks for your contribution!. ",
    "jp9000": "Ah thank you very much!\n. Thank you kindly for the update.\n. Thanks, there's also some new platform-specific stuff in /obs as well.  I was going to fill in these functions myself later, but I am most appreciative if you having taken then initiative on that.  By the way, I'm sort of lacking in linux-knowledgeable people.  If you want to discuss stuff further on the linux end of things, feel free to email me any time, or come to chat in #obsproject on quakenet.\nAlso, I just realized os_gettime_ms() feels a slight bit redundant, a bit of a pointless function.  I feel silly for adding such a function in.  I should probably just take it out from the repo.\n. This doesn't happen even on my ancient linux distribution on my VM, and the function and its definitions should be posix, but if it makes yours work, then I okay, I guess.\n. very nice!\n. Oh hey again!  Thank you very much for the icon\n. by the way, it appears that it's missing a number of images.\n. Just so you know we might redo the logo in the future, so I'm not entirely sure if the icon will stick\n. There are a few things:\n- I don't know if Qt5 is available with brew/macports.  You can also download it direct from qt's website, which is what I did.\n- Why the part about CMAKE_PREFIX_PATH?\n- cpack doesn't actually seem to create a fully proper app bundle right now.  install_name_tool doesn't seem to be used for certain dependencies, and I don't think it's getting called for the plugin.  I had to make a script to handle it.\n. Right now what I do with cmake is create a \"debug\", \"release\", or \"builds\" directory within the main obs-studio directory (which are ignored by .gitignore), then just call \"cmake ..\", which builds everything.\nFor building the full package, it's..  still not working right.  I'm not sure if it's worth mentioning yet at this point.\n. Hey about the pull request -- I appreciate it, but we came to a general agreement that it was somewhat unneeded.  We actually prefer text in this case instead.\n. Woops, I think I caused a conflict with my last commit.  Do you want to resolve?\n. jenkins ok to build\n. jenkins ok to test\n. jenkins ok to build\n. jenkins add to whitelist\n. By the way, we're actually going to take out all the mixers except for floating point, so libobs will soon only support float internally.  Mixing with non-float is just terrible and pointless, so we're going to make the core float-only soon (though it can still input and output other formats of course, just that mixing will only be done with floating point)\nYou can just make those other functions return 0 for the time being, because we're not going to use the non-float versions anymore.\nI experimented with non-float just to see how they'd handle, but they just sounded horrible in comparison to float.\nOn top of that, future audio filter plugins would have to support those other formats, and audio filters are almost always designed to use floats anyway.  This will be especially important when we get the major audio filtering system in later in time.\n. jenkins ok to test\n. jenkins ok to build\n. Check the details of that build failure.  There is no 'max' function available.  I would probably instead just forget about the non-float versions as I said, and instead just use fmaxf from math.h.\n. there is no max/min macro in C -- or at least GCC and clang don't provide them.  I would recommend just using fmaxf\n. jenkins ok to build\n. Please avoid leaving messages on 2 year-old pull requests/commits.\n. Hey shousa, good to see you again.  I'll merge this, though it's still subject to a lot of change.\n. Dark-Dragon - Cease and desist, making one post for each single line you wish to correct is causing a massive amount of email spam.  Make a pull request with all the fixes in one go.  If you do not stop, I will unfortunately have to prevent you from being able to make any responses anymore.\n. jenkins add to whitelist\n. I think what palana is aiming for is an ideal git history where a given set of code is only associated with the most relevant commit related to it -- he tends to view it very strictly, he's yelled at me for 'bad' commits quite often on my own repo, and justifiably so.\nThe reason why this is a good practice is so that if any of us need to debug a segment of code and need to look at the git blame/history for a specific segment of code, it'll show the exact relevant commit where it originated.  Therefore, having code within a commit that's unrelated to that commit's purpose can cause confusion, making certain problems sometimes more difficult to debug.\nBasically I think he just wants you to take a specific segment of source and place it in the other commit instead.  So if you're fixing the coding style of the previous commit, I think he wants you to just fix the previous commit instead.  Because you're on a fork/branch, you can freely rebase, force push, and control the history as needed before it's put on to master, so you should be able to take a segment of code from one commit and put it in to the prior commit, rather than have that followup commit contain a 'fix' that's only relevant to the prior commit.  Would that be okay?\nIf you don't quite know how to do that for a specific segment of code, then let us know.\nAlso, feel free to come around to #obs-dev on quakenet any time, we're always around.  Thank you very much for taking the time to write this plugin by the way, excellent work.\n. Tested it out with a few devices, works quite nicely.  Terribly sorry it took me so long to get around to verify this.  Also thank you for cleaning up the commits, it's really appreciated, we've been trying to be much better about keeping the history cleaner to make it easier to debug and track down potential issues.\nIt's a bit weird, for some reason my C920 webcam queries 4:2:2 on linux, just like on mac, but on windows I can only get 4:2:0.  I'm not sure if the webcam secretly supports 4:2:2 or if it's getting converted to 4:2:2 on those operating systems.  Either way, works well so far.\n. jenkins add to whitelist\n. You should revert the segment of code in obs/obs-app.cpp.  If GetDataFilePath fails then englishPath will be invalid.\n. jenkins add to whitelist\n. jenkins add to whitelist\n. jenkins add to whitelist\n. Keep in mind that you can modify existing pull requests\n. I recently changed the locale system, so it's not possible to currently merge the change to be compatible.\nAlso, we're moving to crowdin translations, I'm terribly sorry for the trouble, but if you have time please update the text there, instead of via pull request:  https://crowdin.net/project/obs-studio\nWe're going to avoid pull request changes for text and update from crowdin instead.\nThank you so much by the way for the text updates!\n. We're moving to crowdin translations:  https://crowdin.net/project/obs-studio\nSo we're going to avoid pull request changes for text\n. jenkins add to whitelist\n. jenkins add to whitelist\n. This is fine for the time being, we can always update it later.  The logical/physical core thing can be implemented any time.\n. We actually fixed this in another pull request, https://github.com/jp9000/obs-studio/commit/1525877bccdbe1f691fa010e352135299bbd58c2 and https://github.com/jp9000/obs-studio/commit/82168702cda8aa47f9a89c3afe9397ae423261b8\n. Thank you very much for the pull request, but we actually haven't decided whether we're even going to keep these menu items yet.  Their internal item names aren't so much erroneous as they may appear, but they are actually not filled in.  Usually what I do is when I get around to using a particular action, I'll rename it to something better (if you take a look at the other internal names for items that are in use, you'll see that they're a bit different and more consistent with one another).  We're not actually using those actions at the moment, and the menu items are disabled.\nThank you very much for the pull request though, and sorry about the confusion on this matter.\n. Uh..  I'm guessing you were trying to post an issue?  You used a pull request.  Wrong features.\nAlso, post requests on to the forums, not in github issues.\n. Hey FloFri - did you just copy the file here?  Instead of doing this I may just merge the two modules.\n. Did you test this code?  In source creation, you're supposed to call obs_enter_graphics() before doing any graphics stuff (cursor initialization), and then obs_leave_graphics() when finished.  It seems that you did not do that and it fails to create a texture for the cursor.\n. Ah, it's because you probably compiled in release mode.  If you compile in debug you'll get the assertion error.  It probably works fine in release, but simply fails to create the texture on the first go.\n. The reason why source creation/destruction is not automatically put inside the graphics context implicitly is because sources can take a long time doing stuff completely unrelated to graphics when being created/destroyed, so to prevent performance issues it's required that you explicitly enter/leave the graphics context for any graphics operations during create/destroy.\nThough I'm considering delaying this and combining the two plugins together so they can share the file\n. I combined the plugins in to one directory and added cursor capture:  https://github.com/jp9000/obs-studio/commit/66e8674100d15aa30b1cfc1e337112cb01646fb5\nI also made it so that the cursor does not get captured if it is outside the boundry of the window.\n. File it on mantis I guess, I didn't see any issue when I was making it, and asked another person to verify who also didn't have any issue, so you may need to give specific steps to replicate the problem.\n. https://github.com/jp9000/obs-studio/commit/0f228e6ee50ad734915a1095e50514576dca9926 - should be fixed here\n. jenkins ok to build\n. I'm confused about what this fixes.  Your title isn't very descriptive.  It appears there's a text issue with the title of the window (wrong locale lookup), but why are you explicitly adding yes/no buttons all of a sudden?  Those buttons are already present in the original code, and should be using the system localization for the buttons.\n. Okay then, could you squash the commits?  Also, is your operating system set to german as well?  Just checking.\n. Do a merge with master then do a force push on your fork.\n. Er, a rebase with our master rather\n. jenkins ok to build\n. jenkins build this\n. Thank you, by the way\n. We're going to introduce a means of adding services without the need for us to store the list on the git.  You may have to wait a bit before this change is added however.  The program is still in sort of an alpha state anyway.\n. https://github.com/jp9000/obs-studio/commit/774731fbaf0b976134881547030f42f64bfc9da0\nChanged code and merged.\n. Could you squash those two commits together?\n. jenkins add to whitelist\n. Modified and added here: https://github.com/jp9000/obs-studio/commit/3e74e96649231017d7dccd03a837bda08992d30e\n. jenkins ok to build\n. jenkins add to whitelist\n. Let me know when you get time to work on this again\n. It's no problem, take your time.\n. jenkins add to whitelist\n. Manual merge here, split one commit real quick:\nhttps://github.com/jp9000/obs-studio/commit/d82f986ebd149287d11e0886f64dfcefe169947f\nhttps://github.com/jp9000/obs-studio/commit/89591843dcda36da7471df627cb832f58315aa7b\nhttps://github.com/jp9000/obs-studio/commit/3d2966208471cfa39031441845df89cecbca9be2\n. jenkins add to whitelist\n. I am very grateful you would take the time to do something like this, thank you.\nThat being said, here are the issues I have with it:\n1.) Needs to be plain text, 80 columns max.  Having random section of markdown in a plain text file feels wrong.\n2.) You deleted the original instructions for the ppa/etc.  I don't feel that's the right thing to do.  People may see it when reading the file, and opt to use it instead if they don't really want to compile it.  I feel the original basic instructions should be fine, and this should more be an entirely different section, perhaps labelled \"compiling from scratch or setting up a development environment.\"\n3.) I feel like you shouldn't need to download/compile some of those packages manually.  It's making your instructions a bit too verbose.  I understand that on debian-based distros that ffmpeg isn't provided due to libav overlords, so some are understandable.\n4.) libpvx, opus?  I don't know why you have those listed.  While we do plan on supporting webm in the future, it's probably not necessary at the moment.  FDK also is optional, as it will default to the FFmpeg AAC encoder otherwise (which while not amazing, is quite adequate for the job.)\n5.) File links in /usr/lib for /usr/local/lib?  I've never seen anyone do that before.  I don't know how I feel about that, I don't have a huge amount of experience with unix systems, but it still feels wrong to me.  Why not just add /usr/local/lib to /etc/ld.so.conf?\n6.) (Edit 3) - Okay wait, /build?  I originally misread this as build/.  As in root directory?  Shouldn't that be in the repository directory?  I created exceptions for build directories in the repo directory via gitignore to use.\n7.) (Edit 2) - Those package names you specify with apt-get won't be the same for other distros, and those are not ubuntu packages, they are probably debian packages, as ubuntu is a debian-based distribution.  Other distros will also not use apt-get of course.  There's other package managers, such as yum and emerge.\n. Going to close this for the time being -- feel free to fix, simplify, and resubmit for review again when ready.\n. Slightly modified and merged here (make sure to fetch and reset your master to origin):\nhttps://github.com/jp9000/obs-studio/commit/ab7fa5bdb4df82b10dbcecf80cdd1b933dfb600b\nThank you for fixing that bug.\n. Note about commit messages:  Your commit message should not contain links to the bugs.  Internet links aren't guaranteed to exist forever.  Your commit message should be considered an annotation to your patch.  It should be both descriptive and concise.\nSee an example of the common 50/72 commit style, and how to make good commit messages here:  http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html\n. For this particular project, I opted to use the linux-style kernel normal form.  If you don't know how to style your code, please see this:  https://www.kernel.org/doc/Documentation/CodingStyle\n. Another note is that you have two changes in one commit.  They should be in two separate commits to keep the history of changes for these two things separate (and thus annotated individually).\n. Your new task, should you choose to accept it:\n1.) Create exactly one function to remove carriage return characters from a non-const wchar_t string, without using an extra allocation to do so.  You should be able to do this very easily with a single function without having to use an extra allocation at all.  Make that function static, and place it above the function where it's used.\n2.) The RTMP stream should not have to know what type of service is being used.  Instead of checking for a non-empty stream key for a specific service type, remove it for all service types.  Remove the if statement and its contents entirely for the empty stream key check.\n3.) Split the commit in to two commits.  To modify your history in this case, simply doing a git reset --soft HEAD^ (or HEAD^^ in a windows command prompt) will cause your last commit to be removed, but your changes remain in a staged state.  Have one commit for each bug that you fix, and give them descriptive yet concise commit messages\n4.) Force push your changes and then reopen the pull request when complete for review again.\n. Much better!  That was pretty much exactly what I wanted, thank you very much for fixing it up.\nMerged then, though I included some minor formatting changes:\nhttps://github.com/jp9000/obs-studio/commit/9c34be8\nhttps://github.com/jp9000/obs-studio/commit/a2deddfa\nJust for future reference, remove_CR should have been remove_cr, and you also need to make sure to use an editor that adds a line at the end of the file\n. I'm not going to be able to really go through this thoroughly for some time, but I can tell you the first problem:  Look at the commits for this pull request.  Five commits.  Also, a back-merge, which is strange to say the least.  You definitely need to get some more experience with git.  This should all be a single commit.\nIf you are unaware of how to squash your commits and edit your history, check internet search engines for \"interactive rebase.\"  You should be able to get rid of that merge commit by just rebasing with master as well.\nA quick glance shows that there are also formatting issues; it appears whatever editor you're using is terrible.  You're using tab idents in the readme for some reason, where as you should be using spaces for this particular file.  Check the \"Files Changed\" part of this pull request to see the formatting issues it's caused.  No tabs should be used in this file.\n. Okay.  I have a little bit of time to take a look at this now.  Sorry if I don't always get to PRs right away, I'm usually coding myself so I tend to put off PRs sometimes, especially if they require a lot of time and lengthy responses, which is the case most of the time.\nYou've got the formatting down much better.  However, I'm going to be picking away at the content now.\nFirst, it's a bit wordy.  I'd prefer concise as possible without losing information.\nFor example, in the section marked \"Install from PPA (Ubuntu 14.04 only)\":\n\nIf you are unsure about compiling the software from source yourself, and you happen to be using Ubuntu 14.04, then you can install OBS Studio via the PPA repository by entering the following commands:\n\nShould be:\n\nYou can install OBS Studio with these commands:\n\nAlso, the FFmpeg PPAs should be mentioned before mention the OBS PPA.\nSo, in the end, that section should look something like:\n```\n  Ubuntu 14.04 Installation\n    - FFmpeg is required.  If you do not have the FFmpeg installed (if you\n      don't know, then you probably don't have it), you can get it with the\n      following commands:\n  sudo add-apt-repository ppa:jon-severinsson/ffmpeg\n  sudo apt-get update && sudo apt-get install ffmpeg\n\n- Then you can install OBS with the following commands:\n\n  sudo add-apt-repository ppa:obsproject/obs-studio\n  sudo apt-get update && sudo apt-get install obs-studio\n\n```\nClear, concise, to the point.  I want the entire thing to be that way if possible.\nOkay, now for the \"Compile From Source\" section.  Compiling from source even on linux is pretty advanced, and it's not for the average user, honestly I can't help but feel like it's mostly for developers and people who are experienced with compiling from source.  I don't think there's any good way to make a \"compiling from source\" section for average users who don't normally compile.  It's unrealistic because often times different repos require different commands, the packages for the package managers have different names, so I feel like we shouldn't be trying to give compile instructions for the average user.  So I feel like most of this section should be cut out.\nThe main problem is regardless of what I've done in the past for compilation instructions, if I try to give instructions for average users, they always end up not fully understanding things or not doing something correctly and they somehow get stuck on compiler errors or linker errors simply due to not understanding how things work.  I don't want to have to offer \"support\" for compiling for average users.  It sucks, but on linux, you either know how to compile things or you don't, and teaching people how to manually compile things isn't fun, and not something that should really be in the scope of this file.  If you don't, it seems like something is always going to go wrong when you're given instructions unless those instructions are specific to your distribution and its version.\nHowever there is one particularly good thing that you do, you list the packages required for each package manager.  Aptitude packages, RPM, etc.  Those package names are valuable to have listed.\nAs for FFmpeg install instructions..  isn't there a lot of instructions available out there on the internet on how to compile FFmpeg?  There's almost 500 words over 91 lines before you get to the part about actually compiling obs itself, most of which are for compiling FFmpeg.\nHonestly, for developers, the older instructions were mostly fine, though you add a few details that I feel are important, such as required packages for each package manager.  Another developer I know said \"what was wrong with the old instructions?  They were fine.\", and I generally tend to agree with that sentiment.\n. Hear me out for a second.\nI don't want to discourage you from contributing.  If I did, I would have just closed your pull request without even talking to you, but at the same time, I can't be dishonest or disingenuous either, it would be wrong to do that to you.\nContributing is stressful (especially if you haven't done it much before).  To become a good contributor for any project, you'll often you may have to scrap or make big changes to things depending on how other contributors feel about it.\nHowever, I would like you to take in to account that taking contributions is also stressful as well, especially when someone submits something they feel very strongly about, or submits something that they really want in the project, or something that someone worked very hard on to construct (I know you worked hard on this).  It becomes a very delicate situation where people can become upset or discouraged very easily.  They mistakenly think that what they're doing isn't good enough, or get insulted at someone pointing out something they disagree with.\nAnyway, let me give you an example.  A few months back, one of the other main members of the project was openly doing all of the code reviews for the project, critiquing code of submissions and telling people to fix code and commits and such.  He is excellent at it, notices all the details that others miss, and in fact probably the best person for the job hands down, but what happened is one person took offense because they thought he was telling them that their submissions were bad (he was very blunt, but wasn't trying to hurt anyone's feelings intentionally; he wanted the submission otherwise he would have closed it).  It was stressful enough that he decided not to do it anymore, at least openly.  Because I tend to have more finesse with dealing and negotiating with people than most, it usually falls on me now.\nI myself feel anxious whenever pull requests come in for that reason alone as well.  I mean, that's partly the reason why I let pull requests go without review for a little too long, it's because it's this tense situation where if you say something wrong, someone will take it the wrong way.  Other maintainers have told me that I shouldn't care about feelings, and I can sort of understand why now, but I don't like to be that way.\nIn this case, perhaps I made the mistake of not really vocalizing all the critique earlier, or focusing on things I shouldn't have, or just letting myself get too busy with code to really look at it thoroughly.  We've actually all been really busy, and I have about 3 or 4 different things I'm doing at any given time right now, which is really frustrating.  However, I have to say something.  If I don't say something, if I don't be honest, it hurts the project, and more so it hurts your own progress as a contributor.\nMy point is that if you care about a project, don't give up.  I've scrapped probably a few hundred thousand lines of code in my lifetime.  Immense amounts of work tossed in to the trash to be forgotten, but I wouldn't be here now had I not done that.  Sometimes it's not the work itself that matters, it's the experience that comes with it.\n. Manually merged (with some additions/changes) here:\nhttps://github.com/jp9000/obs-studio/commit/15fb91ed63e5899c18fd94abb95b8d4cd9282b40\nSo here's what I did:  I installed a few distros from scratch via VM (mainly just redhat-based and debian-based), and tested them and checked all the required packages needed to get OBS compiling and working on each, and built up some manual build instructions for debian and redhat based distros based upon my testing.\nI also listened to your frustration in getting it set up on debian specifically and put in some bare essential FFmpeg install instructions, though just for a very simple/compact FFmpeg build, because the common non-free dependencies really aren't required to get OBS operational, so I was able to put it back in yet make it much easier to set up.\nAlso, I included the arch/opensuse/gentoo package install links in there as well.\nDon't kill me for changing it a bit, I just wanted to make sure that the instructions were tested, thorough, and as easy as possible to set up.\nAlthough one more minor critique about commits for future reference:  when you make a commit message, it needs to be in the present tense, and needs to be in the 50/72 format.  See http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html for a good guide on how to make good commit messages.\nYou're doing fine though otherwise, again don't let this sort of stuff discourage you.  This is totally normal with contribution.  Even if your original instructions may not have gone through the way you had originally planned, the fact that you made the contribution made me realize that the install instructions really could be much better, so no matter what you made a positive change, and will only get better at contribution with time if you ever decide to get in to more serious development.\n. Hm, well, currently we sort of require FFmpeg -- at some point we were thinking about reducing the dependency upon FFmpeg, but right now we're pretty heavily dependent upon it for various things.\nIs there any benefit to using this instead of just using FFmpeg as a fallback?\nThen again I don't see any reason not to merge it.\n. By the way, excellently constructed PR.\nAlthough one minor thing - there's no ending newline on the file.  Take a look at it on github and you'll see what I mean.  I assume you're using a windows text editor.\n. Well I'm pretty sure we're going to disable imagemagick at this point due to the arch issues.  Could you instead make a new PR that uses FFmpeg over ImageMagick in the cmake files for the time being?  It should fix the fundamental problem for now.\nThe thing about FFmpeg is that we require it even on debian (we're pretty heavily dependent upon ffmpeg at this point, and it's not compatible with libav), so at the moment I don't feel we need an alternative.\nThis PR is pretty small so if we ever reduce dependency on FFmpeg I wouldn't have objections to adding it, but at this point this code will just end up not being used.  Keep the branch around just in case for the future.\n. jenkins add to whitelist\n. jenkins add to whitelist\n. Merged here, removed trailing whitespace:  https://github.com/jp9000/obs-studio/commit/de6e997\n. Merged here: https://github.com/jp9000/obs-studio/commit/c6ad237b4bffd9e8052f1398530ca2a5467b568e\nWould suggest better commit messages next time though.\n. Also I just noticed you missed at least one other word, but to be honest, I really don't care about not having every noun properly capitalized.  I just can't find myself saying, \"gee, this README sure would be better if 'Mantis' were capitalized everywhere.\"\n. Sorry I haven't been available to look at the PRs lately.\nSeems like you got git sorted out a bit more, though you didn't really need to delete the repo in order to make changes.  You can always force pull changes if you want to edit a pull request's history.\nTo be able to use git effectively for pull requests, you need to learn how to edit your git history to clean up problems without having to actually start over again.  To edit history, you need to learn how to amend commits and use interactive rebase, then force pushing your changes when you have updated your fork's branch and want to edit the pull request (though generally you wouldn't want to edit history and force push until the pull request is finally accepted and needs to be squashed, but the pull request is much more broken in this case so you should probably fix those fundamental flaws first).  Look up \"interactive git rebase\" on an internet search for more information.\nIf you are creating multiple commits that do the same thing, or including fixes to previous commits superfluously, then such commits should be squashed together in to a single commit (in an interactive rebase, this would be a 'fixup' operation).\nYour commits also don't really have any descriptive text.  You should always try to add descriptive yet concise commit messages to explain what you are doing and why.  Your code also has styling flaws that are inconsistent with the rest of the project.  Read this file for information on how to properly style your code and how to properly make commits for the sake of keeping as consistent with the project as possible: https://github.com/jp9000/obs-studio/blob/master/CONTRIBUTING\nOutside of those issues, let's talk about your actual changes.\nI feel like your app bundle changes were unnecessary.  Although yes, our OSX app bundle code may be a little superfluous, there is really no need to refactor it yet I think, and there's always the possibility of adding windows-specific code later or something.  Also in your previous pull request, you had mentioned that you did not test it on OSX despite being a pull request for OSX.  You should always test your code.  You don't want to submit untested code.\nNow, down to the animated gif format support, first let's go over the inconsistencies and design flaws:\n1. Your code uses 4-space indents instead of 8-column tabs, has inconsistency in spacing (such as between parentheses and keywords like while/if/etc), and sometimes the code breaks the 80-column code limit.  Some of these things are usually dependent on the editor you're using.  Please see the contributing file for more information on how to style your code.  We use the linux kernel KNF coding style, see here: https://www.kernel.org/doc/Documentation/CodingStyle -- you may also want to look thoroughly through the rest of the project to understand how we style our code.\n2. libobs/graphics/graphics-ffmpeg.c, line 197 to 233 are not indented inside of that while loop.\n3. You have multiple warnings (graphics-ffmpeg.c lines 214, 216, and 293)\n4. The code feels very squished together and overall feels very difficult to read; I feel like this code could be cleaned up considerably.\n5. The overall design of returning pointer of a list of pointers feels very wrong to me.  You're loading all frames on the GPU; you shouldn't shouldn't load all frames at once because people often like to use very large gifs sometimes (had a user with a gif of upwards of 95 megs one time), and it's a complete waste of VRAM.  Gif files should really be loaded dynamically (at least by default).\n6. Your addition of the animated gif support to libobs would break the API if someone opted to use a different image loading library, we support both FFmpeg and imagemagick for generic image file loading.\nFundamentally though, what's really needed is a video source plugin that could put all this FFmpeg video/animated loading code in one single place.  That was one of the things I was going to make a little bit later on when I manage to scrounge up the time to work on it (hopefully right before filters).\nAlthough I am very grateful, I don't feel that it's right to accept this addition in its current form.  What we really need is the FFmpeg video source plugin as I mentioned, as that would encapsulate not only animated gif files, but also video files, input from a remote source, and other things.\nWhatever you do, don't be discouraged.  I wrote out this long response because I want you to learn, I want you help you to get better, to teach you how to submit changes to the project properly, what changes to submit, learn what's optimal and what's not, and I want you to get better and come back and submit better code.  You definitely have potential, but it's in a very raw state right now.\nIf such potential could be honed and polished, it could become formidable.  Don't ever give up, get better.  When learning, you have nowhere to go but up.\n. We can just use the name SourceListWidget.  LDCListWidget feels a bit confusing.  I just changed the name to SourceListWidget and manually merged here:  https://github.com/jp9000/obs-studio/commit/88333b0f4721b69edf04e29218b65a5abafd910b and https://github.com/jp9000/obs-studio/commit/24776b7f65c9a724aaac1152626d92febb679586\n. Manually merged here with a few changes:  https://github.com/jp9000/obs-studio/commit/6095e7ef51e59def4392a2cd09516fc1a4775a72\n. Excellent, thank you.  Manually merged here, with a few changes: https://github.com/jp9000/obs-studio/commit/2152b40\nChanges I made:\n- You left some trailing whitespace.  Trailing whitespace is bad.  If you're using vim and you think you might have unintentionally left trailing whitespace, execute this - :%s/\\s+$//\n- General writing rule, not so much code:  when you end a sentence and make a new sentence, you need to make sure that there are two spaces after the period before starting your new sentence, not a single space.  I changed the message \"You have unsaved settings. Would you like to save them?\" to \"You have unsaved settings.  Would you like to keep them?\" -- just a minor editing nitpick.\n. Manually merged here: https://github.com/jp9000/obs-studio/commit/471d87c940097a97776618b40bb5192b08f43f47\nJust added the module name of the module being modified to the commit message.\n. Thank you, manually merged here:  https://github.com/jp9000/obs-studio/commit/0fea987ed4571a6b507240c57babf6b97e72c5a1\n1.) Opening the file becomes redundant.\n2.) Your commit message was not proper form (needs to be 50/72 format\n3.) The line exceeded 80-columns\n. Going to look at this more in depth at some point, just need to make sure old settings can be preserved\n. I left it open because there were changes that had to be made (due to the fact that it doesn't preserve any of your settings), but I was interested in eventually getting it merged.  I was really busy for the last patch, and now I will have free time again to see if I can get it merged (depending on how it functions).\n. We use the version string in many places.  What you're doing right now is making OBS_VERSION basically empty unless explicitly set by the person using cmake.  What you should be doing is making a way to optionally override the variable instead.  Make it do that, and I won't mind merging it.\n. I cannot merge it because by default it now sets OBS_VERSION to the string \"OFF\" instead of its proper version.  So anything that queries the version string now just gets the string \"OFF\" instead of \"0.7.3\" for example.\n. Okay, I apologize if I misunderstood; would using a separate variable to set it be okay for you?  I can just change it so it operates that way.\n. Manually merged here:  https://github.com/jp9000/obs-studio/commit/6158a7418ed3f8b8cdfbb3cce8ec680e3ee5d9c8\nChanged it so that it operates via an OBS_VERSION_OVERRIDE variable instead of using the OBS_VERSION variable directly.  If that variable is set, it will use the string it is set to as the version.  If the variable is not set, it will just use the original cmake defaults.\n. I probably should have showed you those changes on a separate branch before modifying and merging; apologies for that.  Could you confirm that the changes I added will work okay for what you need to do?\n. I actually should have had you counter-review it, I didn't do that intentionally.  Apologies about that.\n. Manually merged with some fixes, and also fixed a ton of warnings\n. Manually merged with some fixes, and also fixed a ton of warnings\n. Merged here, with 16bit conversion and mingw warning fixes:  https://github.com/jp9000/obs-studio/commit/74042ff\n. add to whitelist\n. https://github.com/jp9000/obs-studio/commit/73c7a7f8bbf574015fb3bc6fec5ca3d6ebdc8f65\n. Fixed it so that it would specify it for both mac and windows.  I didn't like the way it was formatted.  I should have also marked that the commit closes this PR -- apologies about that.\nAlso one minor critique about your commit message:  We use the 50/72 formatting.  Read here for more information:  http://stackoverflow.com/questions/2290016/git-commit-messages-50-72-formatting\n. Hey when you get time take a look at this:  https://github.com/jp9000/obs-studio/compare/scene-item-reordering\n- Fixed the commit messages:\n  1. Messages need to start with the module name\n  2. Message titles shouldn't end with a period\n- Made it so that the UI still operates on the reordering signal so that it'll still respond to the signal (just resorts the list box)\n- Fixed a potential unsafe dereference in this commit: https://github.com/Socapex/obs-studio/commit/ac44c871afb712eb50b06cfa753870518fcb4420 -- the first_item variable isn't guaranteed to be non-NULL.  Or is it?  Well either way it's a safety precaution.\n- Removed https://github.com/Socapex/obs-studio/commit/32b3ddb0ef9d921681ba0c0614e966b0110e26c3 - I think you left it from your previous revision by accident\n- Fixed a bug here: https://github.com/Socapex/obs-studio/commit/27c56334f928f3424d8b8ce26411dffdba9e561f#diff-57fee00864acfedbf5dfd179cdcd5eb3R722 (you forgot to set it to the new name you gave it, \"reorder\")\n- Squashed https://github.com/Socapex/obs-studio/commit/15d7316c1cb39b174735123ef6125139ad9a9462 and https://github.com/Socapex/obs-studio/commit/8aa22a85ebcdb8449724fc17f5d79bc0a7c53ea3 together\n- Reordered some of the commits\n- Renamed some of the commits to be more consistent to what they do\n- Fixed some whitespace alignment issues (where you inserted your name you used tabs for alignment - we just use tabs for indentation, not alignment)\nYou should open up each commit I did to try to understand what I changed and why, and then compare it to your current commits here.  It should give you a good example of the sort of stuff that I'd like to see.\nLet me know if the changes are okay with you, then I'll merge them.\n. This isn't generally a debugging issue, more just something that should have been checked for null.\nI modified a bit and merged here:  https://github.com/jp9000/obs-studio/commit/86d4ee68e6b4f4e4b3e65924f62b888e5de08fc0\n. As far as I can tell from my first glance, this has no visible difference on linux, and on windows breaks cmake completely.  I'm guessing you don't have access to a windows machine to test.\n. Your pull request now breaks for mac and linux.  Linux was the platform you were targeting, was it not?\n. Correction, fails for when unix directory structure is off.  Might be able to fix this now that I see what's going on.\n. This should fix it: https://github.com/jp9000/obs-studio/commit/c293c17620cf5e7096eeaa0e9fe9e078c5946ef4\nNow will cause it to reference libobs-opengl.so.0 if using the unix file structure, and otherwise use the normal file names if not or on other operating systems.  Okay with you?\n. ok to test\n. ok to test\n. 1.) If you're going to add a new platform-independent API function, don't just implement a single platform.  At the very least add usable stubs for other platforms, functions that will compile and be usable but just return 0 or something.  As it is, anything using these API functions will fail to compile.\n2.) You should probably use #ifdefs to prevent the UI code from being used on operating systems other than windows until someone else fills in the blanks.  Then again I don't like the idea of having #ifdefs in initializer lists.\n3.) = {0}; instead of = { 0 };\n4.) You tried to make it reference #373, but you ended up just including all of #373's code in the single commit you have here, which just conflicts with #373, not extends it\n5.) Commits should be considered annotation to code.  You do two things in a single commit, but your commit message implies you do one thing.  Is it adding API to query remaining disk space, or is it adding API to query the size of a file?  You could hypothetically make a commit that does both and give it an appropriate message, but ideally if you are able to split a commit because of two or more different segments of compilable code.\n6.) Due to the monolithic nature of the repo, commit message should be prefixed with the module name to signify where changes are occurring, example \"libobs: Add API to query disk space information\", unless they have to modify multiple modules.\n7.) Commit messages need to be descriptive but concise and to the point, in the 50/72 format: See http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html\n. Ah excellent, thank you!  The function stubs are no problem, we'll fill in the blanks.  I really appreciate it.  Will give it a look.\n. jenkins test this\n. ok to test\n. I left this open because again there were changes that had to be made, but I got majorly distracted by recent patches (and let it slide way too long).  Now that 0.11.0 is completed I'll have time to look at the pull request again.\n. I haven't closed it because I intend to add it, but It's been on the back-burner.  Still is for a bit.\nIt requires support for all three operating systems, and doesn't quite function the way I want, so it's still considered incomplete.\n. I should probably just make this a mantis issue and close this particular pull request, because I don't intend on adding this specific code.  I still have this on a branch on my windows computer.  I'll have to check and make sure it's still there though.  If it is, then I'll close the pull request and make it an item on the bug tracker for 0.13.0 or 0.14.0.\n. I finally took some time for the non-windows equivalent version of your function, and cleaned things up a bit (3e6db99 and e354a43), tested and verified as functional.  This solves the issue of API functions for getting free space and file size, but for now there hasn't been a decision on how to put it in to the UI yet, primarily because there's no room on the status bar.  The status bar is currently too cluttered, and I feel like a lot of the main window really needs a redesign.  For the time being the actual issue of displaying the file size and free space will remain unsolved until UI issues have been worked out.\nFor now I'm going to close this PR and leave the issue on the bug tracker, here:  https://obsproject.com/mantis/view.php?id=105\n. I used a spin box on purpose because there are codecs that allow much higher values in FFmpeg.\n. ok to test\n. test this\n. Manually merged here: https://github.com/jp9000/obs-studio/commit/641f626593b6007c3be0d935a718387ca181fb89\nReasons why I manually merged:\n1.) Code formatting used allman when the project uses K&R, wasn't spaced correctly in places, and went past 80 columns\n2.) Your commit message wasn't formatted correctly\n. ok to test\n. ok to test\n. Merged here: https://github.com/jp9000/obs-studio/commit/9b44b368b73330cc27b61d32781c5e310a62e729\nMostly just cleaned up the commits.  Please check them out if you have time to see what I was talking about earlier.\nOh I did do one minor thing, I removed the settings window icon changing code because I felt a bit uncomfortable with it, and just changed the \"advanced\" icon to have a white outline so that it's visible in both light and dark themes equally.\n. add to whitelist\n. Actually, do you think you could make this a setting?  Some people might not want the image to unload.\n. Also I noticed that you added that log stuff there too; that's not really relevant to the commit, it would be good to split that up.  If you want to know how to split it up I can explain how to do that some time if you wish.\n. I know it seems weird, but the way we do commits is we treat them as annotation to code as well, that way if you look up the history to a specific line, the history will make sense rather than seeing unrelated commits associated with that line.\nThe only reason I mention the activate/deactivate thing is because sometimes people like to use really large images, and depending on the type of file it can take significant time to decode and or load the image in to view, enough to cause missed frames.  I've had people complain about that in the past.  It's best that it be an option for the user.  This isn't something that's in the backend, the backend treats all sources as essentially global.  It's up to each individual source to decide what sort of functionality the source should have when showing/hiding.\nAlso you may want to use show/hide instead of activate/deactivate.  The difference between those two sets is that the former callbacks tell when it's being displayed, and the latter callbacks tell when they're being presented to the stream output.  So, for example, if we are editing scene A and presenting scene B, we want it to be visible when editing scene A.\n. ok to test\n. Merged here: https://github.com/jp9000/obs-studio/commit/c6008316e2ec841b07aaa7dbae5539fccb6f0061\n. I'll try to explain what's going on with why we haven't been adding new services.\nFirst, the background.  The fundamental bad decision I made was to make the services file a local file.  What happens is that when services want to be added, they have to ask us, and there have been a lot of new services cropping up lately.  At first, I always added services without really thinking about it, but later on other shadier services started asking us to add them to our list, and were trying to use it for advertising.  The second problem with this is when ingests are updated, it has to be updated on the repository too.  This is overall just not a good solution at all, and it needs to be fixed.\nI don't want to have some master list so people can have their servers easily accessible for their users.  It's unfair to those services and their users, so one of the quickest and easiest solutions I'm going to try is to redesign the \"common services\" plugin to allow the user to either:\n a. Type in the service's website and have it bring up a list of servers automatically\n b. Type in a URL for a remote JSON which will automatically update the list of servers\nProbably going to do both.  It'll make it very easy for services to provide an easy way for users to access their servers and service via obs.\nUsers should not have to use the 'custom' listing and have to manually type in a server when servers are always subject to change.  It's just terrible, and I apologize for that.\nUntil the new version of the plugin is completed, as a temporarily solution we have adopted a rule not to add new services to the list unless they gain a certain amount of notary.  I want to fix this, it's bugging the living daylights out of me.\n. Merged here:  https://github.com/jp9000/obs-studio/commit/7d3eedbcb01a76c17dd951611e38f21adaeed208\nJust made a minor modification to the text.\n. Made some very minor modifications to the layouts so they look closer to the original.\nhttps://github.com/jp9000/obs-studio/commit/1a7e594bdbb8567e7d32ef72dea61ef804c10fbe\n. Merged here:  https://github.com/jp9000/obs-studio/commit/8a55f3bda73e1dcc5fb4a79006bc9b936e1a4aa9\nYou had some trailing whitespace and went over the 80 column limit so I fixed that up for you.\n. I don't generally agree with installing to /usr, I made it install to /usr/local by default like any other software that you'd manually compile, the only real instructions that might be missing are possibly instructions to add /usr/local/lib to LD_LIBRARY_PATH, though I mean if you're compiling/installing software manually that should be common knowledge to some extent.  That's the reason why libobs can't be found.\nIdeally there would be some sort of fedora package for it, though I'm not sure if there is yet.  Would be real nice if there was a fedora package.\n. Because of the amount of install instruction pull requests we get, install instructions have been moved to the github wiki.  Feel free to edit it here:  https://github.com/jp9000/obs-studio/wiki\nPlease edit with caution, and keep your edits/instructions clean, concise, and easy to read/use.\nAlso please don't install to /usr.\n. add to whitelist\n. jenkins test this\n. jenkins test this\n. Merged here:  https://github.com/jp9000/obs-studio/commit/baa1890ed6f5aac7dbb15d6b5b30b0e11f2f9a83\n. test this\n. Going to make this use optionally a directory path at some point instead\n. Manually merged:  https://github.com/jp9000/obs-studio/commit/9983dbb491c0e9fb287bcdafa884b4c8a84c4e4b\nRemoved trailing whitespace and tab characters\n. ok to test\n. add to whitelist\n. Squashed your two commits together and formatted the commit message to 50/72.\n. jenkins add to whitelist\n. ok to test\n. jenkins add to whitelist\n. Because of the amount of install instruction pull requests we get, install instructions have been moved to the github wiki.  Feel free to edit it here:  https://github.com/jp9000/obs-studio/wiki\nPlease edit with caution, and keep your edits/instructions clean, concise, and easy to read/use.\n. Instead of comparing the string it should really just update when there's an actual change.  I'll see about fixing this problem, though I don't agree with string comparison.  I might end up replacing the code with another fix, if that's okay.\n. Install instructions have been moved to the github wiki.  Feel free to edit it here:  https://github.com/jp9000/obs-studio/wiki\nPlease edit with caution, and please keep your edits/instructions simple/clean/easy.  (Yours is actually pretty good just so you know)\n. First thing:  your commit title should be something like \"rtmp-services: Update recommended YouTube settings\", title should be prefixed by the module name, commit title no longer than 50 characters, followed by a blank line, then the descriptive commit message after that, which should be 72 columns max.\nSecond thing is that it actually works fine with 160 audio bitrate.  Please change that back.\n. jenkins test this\n. Because of the amount of install instruction pull requests we get, install instructions have been moved to the github wiki.  Feel free to edit it here:  https://github.com/jp9000/obs-studio/wiki\nPlease edit with caution, and keep your edits/instructions clean, concise, and easy to read/use.\n. ok to build\n. jenkins test this\n. Change the max audio bitrate to 160\n. wait a second, keyint 1?  that doesn't seem right at all.  That's terrible.  That can't be right.\n. Alright, thank you.  Where are you getting this information from by the way?  I feel like this should have CBR on as well.  The settings feel a slight bit inconsistent with normal streaming settings.   Are they using HLS for server -> viewer?  That's typically why the low keyframe interval is required, but 1 second would definitely be weird\n. Ah, my apologies for the misunderstanding then, and if I seemed rather forward, I should have looked at your profile from the beginning.\n160 audio bitrate should be fine, right?  We use that for default, and the reason is because we defer to FFmpeg's experimental AAC encoder if none other are available, which has pretty terrible quality if you go too low, and relative to the entire stream it's only a tiny bit more bitrate to possibly reduce audio artifacting in that case, so I feel like 160 feels just about right to compensate (though honestly I probably couldn't tell).  If however for technical reasons you need 128 then it would be more understandable, but it seems like you're okay with it so I appreciate it.\nThe keyframe interval thing was due to the fact that we're used to services using HLS, which usually operates at 2-second keyframe intervals, hence my confusion.  However, even with the fact that you're doing a different method, I can't help but feel it will start negatively affecting video quality if you go too low with the keyframe interval.  When Twitch and Youtube initially started these requirements there was a big uproar about it due to the fact that it couldn't really compress as well, though from a networking standpoint it's fairly understandable due to the need to cache smaller usable chunks.  Halving the keyframe interval once again to 1 from 2 feels like it'll lose more than it ultimately gains.  Is 2 seconds going to be okay for what you're doing?  I didn't mean to encroach on your recommendations, I was basing it upon what other streaming services were doing.  If you feel it's necessary to change it back I understand, but for quality reasons I would definitely prefer it if it didn't have to be at 1.\nAlso, I feel like CBR probably should be on for a few reasons, but primarily for the fact that the user might be forced to mess with their CRF value to adjust the quality relative to their bitrate manually if it's off.\n. You still there @ttaylor?  Is 160 audio bitrate and 2-second keyframe interval alright for you?  If so I'll merge.  Again I didn't mean to step on your recommendations, I didn't know who you were at the time, but we'd definitely prefer to have those settings.\n. Alrighty, thank you.\n. ok to build\n. Going to implement some changes before this is merged\n. Negative, still working on the new services plugin (right now as we speak)\n. https://github.com/jp9000/obs-studio/commit/b373f82c9eecdf382f8601f0a92a4330c835972f\n. \"Should not PR again\"?  Did I miss something?  Did someone say something?  You're always free to PR.\n. I feel like what they fundamentally were trying to say is they simply want people to to be more cautious about what they submit before submission, although they said it in an unfortunately negative and dismissive way, but I don't think they're saying \"don't submit pull requests\".  I can't really control what people in a public chat room say, I can't really police/force people to be nice to each other when anyone can join and get involved with the project.  I feel like the best thing to do is to confront that sort of thing, perhaps saying something like \"Listen, I'm only a human being.  This is my first time contributing, I'm probably going to make mistakes at first.\"  Although they could continue responding negatively, I feel most people would probably realize they were being a bit rude and probably be a bit more constructive in their response.\nThat being said, both of you are actually correct (in terms of the code).  He's correct that with your code, if the byte width of the source and target (the 'linesize' variable) of the data does not match for the source and target (which can happen), it won't copy correctly, and can cause a crash if the source ends up having a larger linesize than the target.  However, if for example you were to compare the linesizes and then only perform the single memcpy if the linesizes match, otherwise use multiple, then that would be a valid and safe thing to do, and your code would be fine, and I'm going to submit that change myself to close this pull request.\nThe reason why people probably get frustrated like they do with pull request submissions is because a significant number of pull requests from people tend to be flawed ones by people who are new to the project, and although that's perfectly fine, it can be frustrating to deal with.  When you're making a project and you're aiming for the highest quality possible, sadly you have to either aggressively reject or go over the problems with them continually over and over again until one of three things occur:  1.) they fix it up, 2.) we fix it up (not ideal), or 3.) they give up or we outright close the submission.  The most difficult part of the process isn't the code, it's the human factor.  It can sometimes be a frustrating process for everyone involved, and something we've had to do a fair number of times.  I've had people get offended that I wouldn't take their changes, and tell me they'd never make a change again.  I've even had a person who got really upset and basically told me to **** myself because I wouldn't merge their changes as-is.\nI think the people in chat have seen it happen over and over again and have started becoming a bit frustrated.  Although their response to it isn't generally how I feel, it's semi-understandable given what's happened in the past.\nAnyway, when making a submission to an open source project, an important (and often overlooked) thing to do is to look at how other contributors make commits, especially those who contribute most.  Coding style, commit message format, how lax or restrictive they are in terms of changes.  Simply by going to https://github.com/jp9000/obs-studio/commits/master and browsing the commits, you'd be able to notice how we handle commits and what sort of submissions get merged.\nFor example, you'd notice our commit messages are detailed, have a specific format (the standard 50/72 commit format), and are always worded with present tense.  Of course you'd probably realize most of these things a bit sooner by reading https://github.com/jp9000/obs-studio/blob/master/CONTRIBUTING file in the repo base directory as well.  It also displays when making an initial pull request on github.\nSo now that I've written my wall of text, I'm going to submit the actual change that will work for both cases.\n. Resolved here:  https://github.com/jp9000/obs-studio/commit/ffb3ca45958695f68875b4da6f627c49fc3b4496\n. I'm sorry I didn't get to this sooner.\nIt doesn't crash at startup due to that number, it certainly doesn't crash on startup for us or any of our packages.  Not sure what you're doing on your end.\nSOVERSION also isn't supposed to be the same as VERSION; VERSION specifies the build version (as in major/minor/etc), SOVERSION specifies the API/ABI version increment (this is typically just the major version, not a major/minor/etc version number).  What ever problem you're having, it isn't because of the SOVERSION and VERSION.  Maybe you're running from a really old version and have some broken symlinks?\nSee:\nhttp://www.cmake.org/pipermail/cmake/2007-September/016501.html\nhttp://www.cmake.org/cmake/help/v3.0/prop_tgt/SOVERSION.html\nhttps://mail.kde.org/pipermail/kde-buildsystem/2008-April/004544.html\nhttp://projects.csail.mit.edu/cgi-bin/wiki/view/SLS/Cmake\n. I would suspect that you just have broken symlinks from a really old version or something -- or that something else unusual happened.  I'd recommend seeing what exactly happened and if the symlinks are valid.\n. You need to make sure to prefix the commit header with the module you're modifying, like \"rtmp-services: Fix YouTube name capitalization\".  I'll go ahead and fix that and merge.\n. Due to the monolithic repository structure, all commit titles are prefixed with the module being modified, such as \"obs-outputs: \" in this case (user interface being the only exception where it doesn't match the directory name; prefix is \"UI\")\nJust for future reference, the RTMP onMetaData value sent also contains similar information along with the version number of the program.\nI'll edit the commit message and merge.\n. Actually, made one modification:  https://github.com/jp9000/obs-studio/commit/1ca065b\nNow shows as \"FMLE/3.0 (compatible; obs-studio/[version]; FMSc/1.0)\" in the string.\n. I am currently letting other people review this for now.  I won't be able to review this myself properly until 0.12.0, though I was originally just going to implement FFmpeg's compression filter.\nAlso, forgive me for having to say this, but unless you plan on fixing those commits before an actual merge, there's no way I'd ever merge those commits as-is.  The commits do not abide by the guidelines.\n. Woa woa, hold on here.  As I stated, I've been busy on 0.12.0 and haven't had time to go through and review it -- I'm already behind on releasing 0.12.0, I've been really trying to get it released ASAP.\n. This will be pending review until 0.12.0 is finished.  Note: The commit needs only be prefixed with \"obs-ffmpeg\".\n. jenkins build this\n. Okay, seems fine, sorry for the delay.  Will be merging this with a two modifications to the commit message (please take note):\n1.) Removed the \"plugins/\" from the title, it's unnecessary for core plugins (and I wonder if it's even worth using for deps either, somewhat of an inconsistent scheme on my part I admit)\n2.) Wrapped the text of the commit message to 72 columns.  Make sure to stick with the 50/72 commit format.\n. My review will be pending.  I have to work on getting 0.12.0 out first.\nTypically, before you start making significant changes, it's always recommended that you discuss your vision on how you'd want it to work with the rest of us before making significant code (which you seem to be doing somewhat, thankfully).  Multiple streams is perfectly doable, but our concern again is its user interface; ease of use, whether it would confuse users, would it add more steps to setting up a single stream, etc.\nJust as a note, unrelated to the code:  your commits could never be merged as they are now, just in case that's what you were intending.  There are multiple issues with the commits alone.  See the 'contributing' file, and observe our commit history to see how our commits and commit message are constructed.  We need good commit messages and commit titles that abide by the common 50/72 guidelines.  Two commits that do the same thing should be squashed.  Any commit that does more than one thing should be split for each thing it does.  Each commit should typically be fully compilable and safe to run when one sets the head to that commit.  No unnecessary merge commits\nAlso preferably no needless change to whitespace:  e.g. https://github.com/2mac/obs-studio/commit/ef1dfefa41dc1321925aec9b7de819dfd716965f#diff-d2ae3dbbc1ca4c1dcc778937ecfb4d79R370 - this would be classified both as \"doing two things in one commit\", and \"changing code unnecessarily\".\nI'm guessing in general that this is one of your first times submitting changes to an open source project and using git for a major project.  Unnecessary merge commits especially are a sign of inexperience with git.  Again, these things are all okay as long as they're fixed before a merge (and again, whether we even accept this code has yet to be decided).  We've all been there, everyone has to have a first time; I made similar mistakes a long time back, probably even worse mistakes.\nPull requests can be rebased/force pushed before being merged, which will update the pull request, so they can always be edited and fixed (not that I'm asking you to do that now necessarily, that should typically happen before you intend to have it merged).\n. That being said, as for your proposal, I'm not sure how I like the idea of this particular user interface (we will have a multiple later) having a programmable number of simultaneous streams.  I was originally designing this particular interface to be hard coded at a max of probably two streams at most, not a variable number, mostly as a means of making it more simple to configure.  As much as people might dislike hearing me say this (and I only say this for this particular user interface), a variable numbers leads to painful configuration for users because they have to juggle needlessly adding/removing/renaming/etc.  I generally dislike forcing 99.9% to have to deal with a feature that only the remaining 0.1% of the other users will want to use.\nI was going to let the whole \"as many as you want of anything\" sort of thing be put in to the more advanced UI (which hasn't been created yet), rather than the basic UI.  It's understandable you wouldn't have known about that though I suppose.\n. Well like I said it's perfectly fine if things aren't perfect, they can always be fixed, and you'll gain experience in doing so.  If you've never fixed up git commits before and need help, feel free to get in touch with me and I'll take some time to show you how to fix things up if you need, though it should probably wait until after a firm decision about the design.\nAgain though, this user interface wasn't really meant to use a variable numbers of streams.  It makes configuration more complex than it needs to be for the vast majority of people.  This particular user interface is designed for ease-of-use, not really so much the advanced functionality.  The key importance with this UI is that the casual users should not have to deal with any of the advanced features if they don't want/need to.  Though providing advanced functionality is fine, but it just needs to be separated from basic functionality.\nFor example if your proposed change to add multiple streams impacted casual/new users in any way, I wouldn't really want to do that.  For example, look at the way I separated \"simple\" and \"advanced\" outputs.  By default simple output mode is used, and basically makes it so a user only ever has to enter in their bitrate, and then almost everything else is automatically set up.  Makes encoder config super simple and quick (though even now it still needs to be more simple than it is, which is why I want to write a setup wizard in addition).\nI wouldn't want to ever make it more complicated than that for new/casual users, that's all I'm really saying.\nI kind of wish I had the advanced UI up and running so you had more options for this sort of stuff. that way you could do all the nifty things you want to do and make as many complex features as you want.\nSo many plans, so little time and so few skilled enough to handle it.\n. Haven't forgotten about this, the merge has conflicts so something will have to be resolved.  I'm trying to make some time for it but still getting pretty swamped by higher priority items.\n. I'll probably end up resolving the conflicts myself at some point, and fine-tuning the code a bit more to my liking.  I'm still trying to get a develop plan of attack for the whole multi-streaming thing that I'll feel comfortable with.\n. We're going to put this off until we've decided on a way to handle multiple streams elegantly.  Unfortunately multiple streams is not a high priority at the moment either so this pull request would probably just sit around forever.  I can't help with your situation however, that's not our responsibility.\n. I'll tell you specifically what happened with me specifically:\nFirstly, I've been really busy and trying to get 0.12.0 out ASAP.  I was way behind and I've been trying to avoid too much distraction.  However, I made a mistake in not responding right away, I'll take responsibility for that and make sure to always respond right away in the future.\nSecondly, for the other pull request, I was pretty much continually hounded about it on IRC (#obs-dev on quakenet) for the the pull request, which I indeed did cause unfair results where as it should have been equal treatment.  I also apologize for that.\nSo it was primarily my fault for not getting around to it fast enough.  Being busy isn't an excuse for lack of communication; if anything it means that I'm not managing my time as well as I should be, and I'll make sure not to repeat this in the future.\nI will make some adjustments to prevent this sort of thing in the future:\n1.) I will always respond as soon as possible when we get a pull request regardless of how busy I am.\n2.) If I see anything off at first glance, I will link the contributing document that states our guidelines for patches (every project that aims for high quality has guidelines for both code and commits), and try to get them involved in our development community or at least try to get in contact via email.\n3.) If the contributor is obviously a first-time contributor, I will link them something or have some sort of copy and paste text specific for first time contributors.  I'll probably write a guide for that soon.\nSo those are things I'm going to start doing.\nNow, as for the pull request, I should have realized it sooner: audio filters do not go above 2 channels, so this pull request wasn't necessary to begin with.\n. Also, just as a note, because of visual studio's abysmal C99 support, we don't support variable length arrays.\nAgain, if you want to get in contact with me/us, I'm jim [at] obsproject [dot] com -- \"Jim-\" on #obs-dev on quakenet.  Feel free to get in touch any time in the future.\n. Thank you!  Merged (with a minor modification to the commit message).  Make sure to read the contributor guidelines in the future so you know how to structure your commits.  Sorry it took me so long to get to this, been really busy with 0.12.0\n. Sorry, was out at twitchcon.\nYou changed the title of the pull request, but not the commits.  Also, there are merge/revert commits.  You need to rebase your branch and clean it up.\n. Nice!  Thank you for resolving this.\n(Note: please make sure to read the 'CONTRIBUTING' document for commit guidelines in the future)\n. First as for your issue:  Most likely your graphics adapter or graphics drivers don't support GL 3.2 at the very least.  The graphics subsystem requires OpenGL 3.2 at a minimum.\nSecondly as for the PR:\nHm, windows does have stat, but they name it _stat (same with the struct).  I'm sort of wondering if this is the right way to do file modification monitoring though.  There's API to monitor files on windows, and I think linux.  h based upon my first search results.  I might have to ask that we defer it to a better method like that.  On BSD/mac I think it's kqueue.  It really seems like a messy situation to get this set up in a \"proper\" way.  If I were in this position I'd probably be defering to the stat method too just out of sheer pain, but I feel like we probably shouldn't be doing stat.\nThis seems to be the list of the \"proper\" methods to do it on each operating system:\nReadDirectoryChangesW: https://msdn.microsoft.com/en-us/library/windows/desktop/aa365465%28v=vs.85%29.aspx\ninotify (linux): http://linux.die.net/man/7/inotify\nkqueue (bsd/mac):  https://developer.apple.com/library/mac/documentation/Darwin/Conceptual/FSEvents_ProgGuide/KernelQueues/KernelQueues.html\nThis may require some platform wrapper in libobs/util/platform.h or something though if we want to do it properly.\nThe stat thing could just be a band-aid solution for the time being until then.  I might be willing to merge as-is as a temporary solution if there are no disagreements, unless you're willing to take up the job of making the file change notification wrapper in libobs/util.\nWhat do you think?\n. Ah my apologies, should have read more carefully.\nOkay, then this is fine for the time being until we implement a monitoring API.  Made a mantis issue for it:  https://obsproject.com/mantis/view.php?id=350\nI made one modification to the commit message to state the issue, and also made one minor modification to the code to use the 'seconds' parameter from the tick function rather than use os_gettime_ns.\n. By the way, about the text plugin issue -- I agree, freetype isn't working out all that nicely by itself.  I'm going to attempt implementing a text source using DirectWrite, and then hopefully later on CoreText/pango (because I don't think pango has DirectWrite support yet).\n. Mind if SSL is disabled by default?  I don't want it enabled by default.  Have you tested this code?  I have no way of testing this currently.\n. What I mean is have you tested this with both RTMPS and RTMP servers to verify that they both function properly even despite being compiled with SSL support?  A lot of the code paths change when NO_CRYPTO isn't set.\n. Looks okay at first glance, though it breaks code styling a bit.  Will do a proper review after 0.13.0 is released.\n. Hi there, thank you very much, though you'll have to create an account on crowdin.com and make the changes there instead of here:  https://crowdin.com/project/obs-studio\n. I should have looked at this more closely and in-depth sooner because it almost implicitly implied I was considering/thinking about it, but after seeing it I really don't see any place at all what-so-ever where this fits in with our project and our goals.  I'm just not interested in it for our project, both for the sake of keeping down maintenance costs and because it just doesn't seem to have a place with our current goals.\nI can understand how it benefits your personal needs/fork, but how does this benefit the main project and our users?  How many total people will it benefit?  I can't help but feel the costs for adding this code is greater than the benefits we receive from it, because for users of OBS itself this will almost never be used/needed, at least as far as I can assess based upon what it does.\nWe have limited people on the project and every little bit of code adds a maintenance cost.  Adding an entire submodule/library dependency especially.  As much as I would love to add every feature imaginable, I just can't afford to do so when there's only one/two people really spending significant time working/maintaining the project.  We have to prioritize things best we can due to limited resources.\nPlease keep in mind that I am not even judging your code or what you've actually done, you could have the best code in the world but it would still be the same situation.  I'm just talking about the proposal overall.\n. By the way, if you (or anybody else) feel differently, please speak up and let me know.  I am completely willing to listen and debate it.\n. Currently, we just use scripts to build the main app package on apple, and this might conflict with it.  Due to the way dependencies work on OSX there's a need for a build script for a proper app package.  However for now, I don't want to cause conflicts with the way we're building.  If I can adjust cmake to help with it later I'll consider it, but for the time being there's no need for us to do this.\nI'll see about uploading it somewhere so everyone can build proper app packages at least.  Sorry about that.\n. Use the bug tracker for bug reports.  There's no code on this pull request.\n. Thanks for the submission, just wanted to let you know that I may not be able to get around to reviewing this until after 0.13.0 is released.  I'm trying to get it finished before the year is over.  I usually don't review big pull requests right away -- I usually do big pull requests when a major patch is released.  0.13.0 is fair amount behind schedule so I'm trying to work as hard as I can to get it out (though I don't want to rush it due to fairly big/important changes).\n. Looks good so far from what I've seen.  Works well, and the code is clear and straight forward.  I feel this can be merged in its current state.\nTwo questions:\nFirst, is there a way to differentiate between input/output devices?  For example, which is loopback and which are actual input devices?  Would be nice to separate those in to two different source types like I do with the other sources (this is mostly to make configuration more simple, if that makes sense).\nSecond question is I noticed that in the properties of the source it lists the same devices many times in configurations.  Is that normal?  Does each device not have a default/preferred mode and sample rate?  I'm not too familiar with how the linux audio backend works so I feel this may be a bit of ignorance on my part.  Mostly I'm trying to avoid any unnecessary conversions, and would like to use the device's current configured/preferred configuration by default if possible.\n. Yea, if possible separate loopback and input devices to different source types.  It may seem silly but overall it makes it more simple for configuration and general use.  It technically can be done without doing that, but mostly it's more about making things more clear for users.\n. Hey gamaral - how's this going?\n. Okay, seems great, much better.  Going to merge and get it out there for some testing.  Thank you for taking the time to make it.  Just making one minor change though -- making it always active by default.  I made some defines to do that, hope you don't mind.  I only did that to make it consistent with the expected functionality and to make transition fade-ins sound right.\nAlso, will try to make it so ALSA input sources can appear in audio settings in the future at some point -- right now it can only be added in scenes, which is sort of annoying.\n. Copying and pasting from my Norwegian friend:\nJust \"Norsk bokm\u00e5l\". We rarely capitalize more than first word\nSo dodgepong is correct.  Closing the PR.\n. I could be totally mistaken, but I'm pretty sure it's still \"high\", yea.\n. Let me guess, your linux distro's package manager doesn't provide 4.9 or above?  GCC is on version 5 already.\n. No it's fine, it's a trivial change.  Just was wanting to confirm whether it was a package issue or not.  Thanks for fixing.\n. Apologies if I seemed frustrated too, dealing with packages drives me crazy, but honestly packages on linux have been pretty good lately.\n. In what case would a source want to save to file, out of curiosity?\n. I'll be adding a front-end API to help with this sort of stuff.  I'll also add some global signals for outputs similar to what you're doing as well -- the way you're doing it isn't quite the right way to handle it, the signals you added have no parameters, they should have at least an output pointer.\n. You know what, this is silly -- I already added an alt-crop.\n. Hey there -- apologies for not responding sooner.\nAlthough I don't particularly mind the idea for the feature, I'd prefer not to add it in this way.  I feel like there should be better ways of changing the magnification filter when drawing a source.\nThe reason why it's not really proper is because the moment you add an effect filter to the source it would nullify the mag filter state anyway, so it's really not the right way of approaching the problem (at least from an official standpoint).  The most ideal way would probably be doing it internally in libobs where you have control over the filter loop of a source.  You could set the mag filter there before the source is rendered.  Alternatively, you could probably write an effect filter to upsize the source, although that would require manually setting the size as parameters, which probably wouldn't be ideal.  It's kind of an annoying situation to deal with.\n. Thank you very much for this!  I had to delay reviewing/merging this because I wanted to spend a little time tinkering with it for the following features:\n1.) I moved the option to advanced settings so it applies to all file names for the program\n2.) I added an \"overwrite if file exists\" option if the user really wants to do that (has happened)\n3.) In the case where \"overwrite if file exists\" is off, and a generic name with no unique time/date format is used, it'll now try to find a unique filename.  For example, if they make the file name format \"My Filename\", and then the file \"My Filename.mp4\" already exists, it'll use \"My Filename (2).mp4\" instead.\nI also squashed the last 5 commits together because there wasn't any reason to have them separate.\n. Hi chinhseoul, we already have this on a branch, please don't pull request existing branches.  I'm going to close the pull request because it's already existing on a branch.\nThere hasn't been much development on the branch at the moment due to the fact that 1.) I don't have a QSV-capable CPU, so I myself can't contribute to it yet, I've had to wait on others to do that, and 2.) I've been waiting for backward compatibility with older 2xxx model CPUs.\nI will acquire a QSV-capable CPU so I can help on this, I was already intending to do so for 0.14.0 if someone else didn't before me.\n. Thank you, merging.\n. Thank you -- changing the text for it so it shows the user that it's meant to be used as a workaround for those mesa situations.  Otherwise it's a bit vague about what it's for.  Merging.\n. You didn't need to actually create a shader to convert from lum to RGB.  You can just use GS_R8 to do the same thing.\nI had to modify this to remove the conversion stuff.\n. Thanks, merging with some minor modifications.\n. Just as a note, the modifications I made to this commit were\n1.) Fixed the commit message formatting (Please see the contributing file in the base repository directory, and take a look at the project commit history for general examples of commit formatting)\n2.) Took out the part of the code that appends the ID to the device name -- if you feel this is necessary please make a second pull request to do this, though I'd prefer it if the ID was not shown unless there's more than one of the same device.\n. The code for that patch was reverted for the time being, so this pull request is no longer needed for now.  Thank you!\n. Thanks!  Merged.\n. Thank you, merging.\n. Instead of moving controls from one column to another, I'm going to restrict the size of the transitions column instead, and make it something that can be hidden.  Might consider some other options later, but generally there's just not enough space in the lower part of the main window anymore.\nI think the UI just needs a thorough redesign possibly, not sure.\n. Merging this one ASAP -- please also make sure to use our commit message format in the future.\n. Okay, I managed to refactor the plugin significantly.  Simplified the code, and made it so you can pad from any side.  Merging with the changes.\n. Sorry it took so long -- I tend to get busy and pull requests that aren't high priority will tend to linger until I have some free time, then I'll typically try to do them all in one go.\n. Could you check the latest master and see if you're still getting a crash with the media source?  I'm pretty sure that your fix shouldn't be necessary.\n. Ah, this is for an unrelated pull request related to the media source.  You're probably receiving this message because you're subscribed to the obs-studio repository on github.\n. Did you just try to add a feature request by creating a pull request from a random old commit?  Please don't use the github repository for feature requests, use the forums/mantis.\nThat being said, I am aware of the need for it.  It's on the list.\n. Out of curiosity, where did you get those max bitrate and keyframe interval values?\n. At the bottom of the page it says 2500 max bitrate, and 2-sec keyframe interval, though in the file you put 2000 max bitrate and 1-sec keyframe interval.\nWas that intentional?  Just double-checking.\n. Alright then, going to change the commit title and merge.\n. That's correct, for non-english translations, they need to be added through crowdin.  Here's the link:  https://crowdin.com/project/obs-studio\nSorry about the trouble!\n. obs_property_list_item_string cannot return null in that code.  Even if the property had no items or if somehow the property did not exist it still could not return null there because that code would never be reached at that point.  The if (props != nullptr) is also good practice, but unnecessarily in this case.  The property functions will not crash or have undefined behavior with null values, though I can understand how you might have thought otherwise.\nYour definition of an i variable, then doing a while loop, then having the ++i also feels unusual -- you could have simply just done something like this instead:\nC\nfor (size_t i = 0; i < num && !icq_found; i++)\nI'm going to assume you're not submitting this PR due to any problem that you encountered (such as a crash or anything).  I'm going to close this PR.  If I'm mistaken feel free to explain.\n. What visual studio update are you on?  This doesn't sound like a bug with the code but rather with the compiler.  That code should be legal.  Also your change makes it so the data is no longer zeroed by default.\n. Thank you, though please remove the \"common\" json item.  Your service is a bit too new and I'd prefer not to have it in the list and basically be advertised to users.  I know it's annoying to have to deal with this, and I'll figure out a better way to deal with it in the future, but for now this is just how we have to handle it.\n. Thank you!\n. Er!  Meant to merge this.\n. I should have spotted that.  Apologies on my end as well.\n. Merging.  Just needed a minor tweak of the commit title.\n. Modifying the commit message and merging.\n. Also you had two commits -- the main commit and a fixup commit.  May want to learn how to do interactive rebases so you can squash commits like that in the future.\n. Thank you very much, definitely a needed feature, also another item on the parity list.  Apologies for not responding right away.  I'm resolving the conflicts and making minor tweaks, then will merge with a different commit.  If you see it close via a commit, it'll be that modified commit.\nNote 1: Make sure not to have trailing whitespace in your commits.  You had a fair amount of trailing whitespace.  When constructing a commit, make sure to use 'git diff' to check that your code for your commits look okay and don't have things such as trailing whitespace.  That trailing whitespace will be shown in red by the diff.\nNote 2: You corrected it already, but make sure that when making commits that the commit messages (especially titles) are in the present tense, not past tense.\nNote 3: When making changes like this, make sure to test all possible options with it, in this case stream delay didn't quite work correctly.  I'm going to make a few adjustments to ensure that it works properly.  I think the best way to handle automatic recording is to make it operate on the button signals rather than the actual obs signals.\n. Thank you, though I'd actually prefer not to list them in alphabetical order.  I like having a specific order, especially for most commonly used services.\n. Merged.  Just fixed the title.\n. Actually after some discussion (which I should have requested more of) I'm removing the merge -- I agree that we need an indicator, though I feel that this was more of a stop-gap solution rather than something I'd consider a \"solid\" solution.\nYour solution was simple, and when merging I thought \"this is a decent solution, and we can improve it later\", but that was a poor decision on my part, and something I need to stop doing.  I should have requested more feedback.  After merging, other people pointed out that it was not the right solution because it just overrides the QSS which wasn't ideal, especially with the fact that we support two sets of stylesheets.\nI should have asked about that on the original PR.  I apologize for that.\nI'm really terribly sorry for the trouble -- if you happen to have time, could you try making a set of icons instead, and using them with the buttons?  Though I'm not sure of what sort of icons to use.  I'd like to see what it looks like though at least.  Perhaps a simple color-filled circle would work.  I'm open to ideas.\n. I modified this to make it an option in general settings.\n. Although I appreciate the gesture, the readme isn't meant to be markdown.  I know that it's prettier and nicer on github and such, but I'd just prefer to leave it as text-only.  I'm terribly sorry for the trouble.\n. I think you're not using git or the github client correctly.  I'm assuming you've created a pull request on the obs-studio repository by mistake.\n. I understand that you're having trouble and are probably not very experienced with using git and github, but please do not make another pull request unless it's an actual pull request.\n. As for this PR, I'm just not feeling this proposed change unfortunately.  Everything we try here still makes me feel uncomfortable with it.  It just doesn't look/feel right to me.  Besides, your system tray addition sort of solves this to some extent anyway.\nWe can try to think of some alternatives later, but for now we should just shelve this idea for the time being.\n. I'm terribly sorry that you went to the work of converting this to markdown, though we prefer to use plain text.\n. The \"common\" stuff was done because we don't want to show all the services by default.  You may wonder why, but let me explain.\nYou know, originally I never had any intention of making anyone think we're treating any service as \"special\".  I remember I used to list every service that simply asked me to be listed, equally.\nThen, I started getting requests, lots, and lots of requests, constantly.  They'd email, post on our forums, ask in our chat, constantly.  A lot of services seem to view it as free advertisement.  They want to be listed to get their name out there to our users.\nBut where it started to take a turn for the worst was when there were sites that did porn, heavy monetizing, and even sites that seemed heavily centered around vaping (of ALL things to have a streaming site for) started asking -- sometimes demanding -- to be listed.  Sometimes they ask us to write in their service-specific APIs for them, which is now possible but quite frankly I just don't have time to do for every lesser service that asks.\nAt some point I came up with this quick solution -- newer sites that we don't know much about could have their stuff listed, but the user would simply have to click a checkbox that says \"Show all services\" to make them visible.  It required an extra step of clicking that checkbox for users, but they'd be in there and have servers listed.\nHonestly, it's not a good solution.  It's an inconsistent solution.  I very much dislike adopting any sort of indecisiveness or inconsistency in behavior and/or actions.\nI have an idea for a better solution however -- for newer sites I'm probably just going to add in a scripting solution to allow those other sites to let them make scripts that users download to automatically set up ingests/API/etc for their users in the program or something for their users.  Right now it's a bit difficult to maintain a master list anyway, as the \"lesser\" services often forget to update their ingests and expect us to write in their API for them.  One service completely died and was left in the list for weeks after because no one used it and no one told us anything until then.\nThough honestly, I'm not sure what the \"best\" solution is that would make everyone happy.  There's always someone who's going to be unhappy that they aren't treated as good as Twitch and Youtube.\nJust ranting here.  Fact is, I don't want to have to continually update the main repo for new services.\n. No, that's not necessarily the case, I can squash commits easily myself.  If a PR doesn't get merged/rejected, it just means it just hasn't been reviewed yet.  I'll put off PRs because of one of two reasons:  either they're a reasonable amount of work to review/merge, or they're on something that I haven't decided on yet.  It's kind of a bad habit on my part.\n. Oh so you don't want it merged then?  Well then I'll close it for the time being.  Feel free to modify/re-open when you feel like it.\n. Yea, although I understand that there are some who may specifically have a case for 5 tracks, I personally wish to avoid adding more tracks for now.  (And although some might be quick to say \"just make it variable\", the implications of such from both a performance, maintenance, and user interface perspective aren't something that I really feel are worth dealing with -- at this point in time at least)\n. Changing the title, then merging\n. Wait a sec -- no, your new code is incorrect.  It's supposed to keep looping if ret == ERROR_BUFFER_OVERFLOW.  Your older code functions correctly.\n. I can understand what you were trying to do, though it doesn't quite work the way you'd expect.  For example, even if rendering is lagging, it still reports the set FPS rather than the actual rendered FPS.\nI'm going to have to make some adjustments first before merging, I'll have to make some changes to the core, and then I will modify your PR to accommodate.\n. I fixed it so that the libobs core actually generates the active framerate based upon its actual rendering rather than some frame count, and I made your PR use that instead.  I also just combined the CPU/FPS indicators together to simplify it.  The FPS indicator is now always on as well.\n. This fix is incorrect.  A hotkey or hotkey pair id can legitimately be 0.\n. Going to make a few modifications then merge:\n1.) The commit message needs to be prefixed with the module.  This one for example would be prefixed with \"vlc-video: \".  The title should be something like \"vlc-video: Fix URLs not working on windows\", and the message should explain the issue in detail.\n2.) As stated adding vlc/ to the includes isn't necessary and probably means there's an issue with your configuration.  Make sure you're cloning the VLC repository and setting the VLCPath cmake variable to the repository directory.  That's all you need to make it work.\n3.) libvlc_video_get_size was used to correct sizing issues with video files.  It's hard to explain; VLC will use a size different than the video file's actual size, like it'll try to use 1920x1088 instead of 1920x1080, which makes it render incorrectly in the program (I assume it does that by default for optimization reasons).  It should always be used for video files, but doesn't work with URLs; it just returns 0x0.  That's my fault.  I'll fix it so it works, and I'll make sure to add a comment for this.\n4.) libvlc_media_new_location shouldn't be used for files.  I'll make it detect whether it was a URL by seeing if there's a \"://\" in the string, indicating a URL.\n. Did you close this because you had accidentally disabled the syphon plugin?  You don't need to close pull requests when you make a mistake.  You can just rebase/amend and then just force push your fork's branch to automatically update the pull request.\n. Ah okay, no problem, take your time.  Feel free to contact me any time if you have any questions about it.\n. Finally took a look at this, I love it.  However, one thing:  I think it shouldn't use tray popup notifications.  Popup notifications should be used for things the user has no control over.\nInstead, I feel that the icon should change, similar to how OBS1 did it, where it had a little red dot-looking thing on the tray icon indicating that the program is active.  One of the things people have requested the most is an indicator like that.  Would be a bit more ideal in my opinion, would that be okay?  I have some free time and can help out with it if needed, if it's okay I'll just modify it to do that.  Besides I think I may have to size-down the icon to look a bit better as a tray icon.\nAlso, you have a fair amount of trailing whitespace.\n. Okay, I modified the PR a slight bit:  I added tray notification messages for disconnection/reconnection, and refactored a bit of my own code in window-basic-main.cpp because I noticed you had to repeat a lot of code for when streaming starts/stops.\n. I don't mind including this in this case because it could be useful for plugin developers (which is what I'm assuming you're putting it in for).  When it comes to log messages, I don't really use FormatMessage in every case because any developer can just type the error code in to the visual studio error lookup tool and get the code.\nFor your code:\n1.) Commit messages needs to be prefixed with the module it's modifying (i.e. \"libobs: \", or in this case I typically use \"libobs/util: \" to signify it's for util in libobs.)\n2.) For our project C code must be lowercase with underscores, preferably with short/simple variables.\n3.) FORMAT_MESSAGE_ARGUMENT_ARRAY is ignored when FORMAT_MESSAGE_ALLOCATE_BUFFER is used.\n4.) The code has a memory leak, when using FORMAT_MESSAGE_ALLOCATE_BUFFER, you must free the string with LocalFree.\n5.) You probably want to make sure the error message is in english, specifying 0 for the message will probably make it use the system message.\n6.) %ls isn't necessary (and probably isn't even supported by microsoft), instead just use FormatMessageA.\nI'm going to modify the commit to fix these things and merge.\n. Thank you, though this isn't a grave whitespace violation in particular (like trailing whitespace).  I feel willing to live with it as-is so it doesn't necessarily pollute git blame, at least for now.\n. Thank you, although we're not currently using travis/appveyor.  Perhaps in the future if we decide to use those I'd be willing to add it in, but for now it feels somewhat unneeded.\n. Please avoid commenting on a PR unless it's about the PR.\nCould you please specify why you need this?  What case does it solve?  All devices should be listed by default in ALSA.\n. No, it shows the architecture of windows, so if you're running 32bit it'll specify whether windows itself is 32bit or 64bit.  However the architecure (which I think is what you meant instead of the word bitness) of windows doesn't particularly matter for logging.  The program already logs its own architecture when running anyway.\nIs there any specific reason why you need this?  I can't think of a reason where the architecture of windows itself really matters.\n. Made this a warning and took in to account the 32bit/64bit environment variables.\n. I think that rather than be in the advanced section and part of the main UI, this should be a tool in the tools menu, added in UI\\frontend-plugins\\frontend-tools.  I feel this feature should be something that shouldn't be in the main settings or part of the main UI.\nAs you have it programmed now, it will make it so the stream will always turn off after a specific amount every single time.  I think that most people will probably not want that, most will probably just want it as a one-time thing that they want to use for specific situations, hence why it'd be more ideal as a tool.\nThe tool window should be programmed to be non-modal and have the countdown timer in it.\nThink you can do that for me?\n. Thanks.  I'll close this for now then just so I can clear up the pull requests.  Re-open when you feel necessary.\nThe tool window should probably be super simple -- a small non-modal dialog with a timer label that shows the time counting down, an integer scroller widget with the seconds (or maybe minutes would be better?), and a button that can probably both start and cancel the shutdown timer.  I feel like that would probably be ideal, and can be extended later.  Probably doesn't even need to save settings.\nHm, I really need to help with the python plugin to make these little tools easier to implement.\n. Merged with 3b3933b.\n. Sorry it took me so long to get around to this, admittedly it's because it doesn't affect our own build process at all, and I'm not usually managing the mac side of things.\nI split the commits and improved the commit messages a slight bit.. Is there a reason you need the settings in a button callback?  The reason why settings aren't passed here is primarily because settings aren't really necessarily related.  The button is provided more as a utility function for the object, like with DirectShow it's used to open video/audio properties or the crossbar properties.  Settings would mostly just be passed for no reason most of the time.  Sometimes settings are used, but if they're really needed you can just get it from the object itself.\nIf you disagree with that let me know, but I don't really see it as a necessity for button callbacks due to their different nature from other properties.\n. This technically isn't necessary nor is it really intended.  The properties are meant to be independent of an actual object they're affecting, if that makes sense.  Properties already can change dynamically based upon settings depending on the setting of a particular property.  I really want to avoid expanding properties unless someone gives me a particular use-case where they absolutely need it.\nBesides, you can access settings if really needed via the first parameter, which is the internal data pointer.  Through that you should be able to get the source/etc and be able to get settings that way.  It's such a niche scenario that I'd rather avoid adding it as an actual parameter every time its used.. Alright, finally had time to spend on this, sorry about the delay (but then again I'm always delayed).\nMade a few minor changes:\n- Reduced repeated code (particularly in frontend-tools.c)\n- Reduced repeated cmake code in the frontend-tools CMakeLists.txt\n- Separated that API fix to a different commit (although it was used by the commit, it isn't related to the commit, so that sort of thing should always be separated)\n- There was a tiny little bit of trailing whitespace, just a space, keep an eye out for that, it can sneak up on anyone.  I recommend doing a git diff on changes because git will always point out whitespace problems.  If needed, you can also make git remove whitespace problems automatically with \"--whitespace=fix\" when rebasing.\n. Hey there, like I said in the dev chat, I don't mind if there is a change that removes the define and allows the buffering to be variable (and defaulting to 1 sec), but I will not allow just increasing the define.\nPerhaps I didn't quite explain why -- the buffer can spontaneously increase in certain situations.  Threads could be stalled and it could cause an increase, system could have lag and it'd have an increase, devices could stall, output old data and it could cause an increase.  I don't want users having their audio buffering spontaneously growing to 10 seconds (or in your previous case 100 seconds) just because some device lags up or whatever silly reason it could happen.  It needs sane limits.\nI made dynamic audio buffering so that most people will have minimum latency possible, but that downside is present with the technique, thus it needs those sane limitations.\nAnd like I said, I understand your particular use-case, but I'm not going to change something that could potentially be a detriment to all users just because it would benefit your specific use case.  You say that \"this pull request isn't perfect\", but unfortunately, for this particular situation, I'm not going to merge an imperfect solution that could negatively affect all users.\nI am not rejecting your request to get the problem solved; I am simply rejecting this particular solution to the problem.  I will not accept any solution where it makes every user have more than ~1000 milliseconds of maximum audio buffering by default.  The solution has to be to make it variable and default to 1000.  Or preferably 700.\n. That's another caveat -- it can't shrink once it's grown.\nI think I understand what you're asking, and I think it's relatively unnecessary.  Setting something with that much of a negative offset really should never need to happen.\nIt would still require making the system use a variable max buffering time though, so that might as well be implemented anyway.  I think the best solution is just to get some sort of variable maximum buffering time in.\n. Removed trailing whitespace.\n. I don't mind including this, but I feel like this is an bug with the package or something.  pkg-config should normally find the correct files every time.\n. I'd rather not have this message be a part of the initial pull request template itself if possible.  This is a problem that happens so rarely that I don't think that changing the initial template is warranted.. I changed one thing in the code:  \"everytime\" to \"every time\".  Also your commit message didn't quite follow the guidelines (commit message body is 72 columns max). The reason I didn't add them in there in the original is because it doesn't really make sense to use the arch suffix on the cmake variables.  The arch suffixes make sense on environment variables because they're global.  Cmake on the other hand can only generate project files for a single arch, so there's not much point in specifying the arch if using the cmake variables.  Furthermore, if a user erroneously defines DepsPath64 on a 32bit project, that will prevent the warning from occurring even though it should still technically happen.\nIf you disagree let me know, but I really don't think anyone should be using the suffixes if they're generating the project files via the cmake variables, so I feel it's more ideal as it was.\n. I think you accidentally modified the branch.  Are you going to re-open?\n. I'm really terribly sorry about this, but I just can't justify merging it.  I really don't think it's necessary.  I know things aren't ideal, but I just can't really justify it at this point.  There's no real reason why it needs to be one way or the other.  I know you put some effort in to this -- please don't take it the wrong way.. The reason why I put this one off is I wanted to check the disassembler output first.  I finally implemented the disassembler (via d2bb715) and checked the output.\nOld code:\nDisassembly output for shader '../../data/obs-plugins/obs-transitions/swipe_transition.effect (Pixel shader, technique Swipe, pass 0)':\nps_4_0\ndcl_constantbuffer CB0[1], immediateIndexed\ndcl_sampler s0, mode_default\ndcl_resource_texture2d (float,float,float,float) t0\ndcl_resource_texture2d (float,float,float,float) t1\ndcl_input_ps linear v1.xy\ndcl_output o0.xyzw\ndcl_temps 3\nadd r0.xy, v1.xyxx, cb0[0].xyxx\nmov_sat r0.zw, r0.xxxy\nadd r0.zw, -r0.zzzw, r0.xxxy\nsample r1.xyzw, r0.xyxx, t1.xyzw, s0\nne r0.xy, r0.zwzz, l(0.000000, 0.000000, 0.000000, 0.000000)\nor r0.x, r0.y, r0.x\nsample r2.xyzw, v1.xyxx, t0.xyzw, s0\nmovc o0.xyzw, r0.xxxx, r2.xyzw, r1.xyzw\nret \n// Approximately 9 instruction slots used\nYour change:\nDisassembly output for shader '../../data/obs-plugins/obs-transitions/swipe_transition.effect (Pixel shader, technique Swipe, pass 0)':\nps_4_0\ndcl_constantbuffer CB0[1], immediateIndexed\ndcl_sampler s0, mode_default\ndcl_resource_texture2d (float,float,float,float) t0\ndcl_resource_texture2d (float,float,float,float) t1\ndcl_input_ps linear v1.xy\ndcl_output o0.xyzw\ndcl_temps 3\nadd r0.xy, v1.xyxx, cb0[0].xyxx\nmov_sat r0.zw, r0.xxxy\nadd r0.zw, -r0.zzzw, r0.xxxy\nsample r1.xyzw, r0.xyxx, t0.xyzw, s0\nadd r0.x, r0.w, r0.z\nmul r0.x, |r0.x|, l(65535.000000)\nmin r0.x, r0.x, l(1.000000)\nsample r2.xyzw, v1.xyxx, t1.xyzw, s0\nadd r2.xyzw, -r1.xyzw, r2.xyzw\nmad o0.xyzw, r0.xxxx, r2.xyzw, r1.xyzw\nret \n// Approximately 11 instruction slots used\nAs you can see, your change actually just introduces two extra unnecessary instructions.  In both versions, both sample instructions are always executed regardless.  The old version unfolds and executes both of the branches, and then uses a movc to set the result on a register based upon the result of the expression in the if statement, so there is no actual branching occurring in the assembler output.  Because there's no branching in the actual output, that would also make the statement about caching concerns false (because the branches are unfolded and both samples always executed).\nWe cannot make presumptions about how something is compiled.  If we want to make an optimization to code in the higher level language with the presumption that it'll improve the compiled output, the disassembly output must be used to validate that optimization works as intended.. I apologize if I came off as offensive or anything -- definitely not what I meant to do.  I mean it with the umost respect of course.  Did you check the assembler output though?  I'm pretty sure that the HLSL assembly code is the same across all devices.. Sure, might change it a slight bit but I'll get it merged.\n. I'll see about making a release.  Apologies for that. I see the problem.  You're correct in that this isn't quite an adequate solution.  The problem is that the source has to render to update the async source dimensions, but when crop is active, the scene item won't render the source if the source has no size.  So it's stuck in a perpetual loop where it cannot render because the source dimensions are 0, but it cannot update the source dimensions until its renders.  The end result is it just never renders after loading.\nI agree that there should a better solution for this rather than forcing the source to render (which is essentially what you're doing to get it to work).  I'll see what I can do.\n. Okay, figured out a solution to this.  Thanks for bringing this to my attention.\n. This is one of the best pull requests I've ever received.  Everybody helped work together and shared their opinions, and it made for a great pull request for a great feature.  Well done.\nManually merging with three minor changes:\n1.) There was some trailing whitespace in some of your code.  You can use git's diff feature to view that trailing whitespace.  Git will show you that whitespace as big red blocks.\n2.) The code styling was fine, though I only changed one thing, the part where you had the expression of an \"if\" statement broken in to multiple lines.  Personally I don't like to begin lines with ||, I'd rather have them on the end.  Just changed that to make the code more consistent.\n3.) There were no notes in the commit itself.  It was only a commit title.  Your commit title was a bit long as well, and probably indicative that you could have shortened it and expanded upon it in the detailed part of the commit message.\nOther than that it's a fantastic feature, and also is a parity feature with OBS classic that we've been needing.  Thank you very much!\n. Thank you for this fix -- really appreciate it.\n. Keep in mind we have some guidelines for commits.  You can see how we write commit messages by looking at our commit history.  We also have code styling guidelines as well.  Read https://github.com/jp9000/obs-studio/blob/master/CONTRIBUTING for more info on both.  (Although that file is a bit out-of-date)\n. Because it's a monolithic repository with many subprojects, you need to prefix the commit with the module it's being committed for:  rtmp-services.\nFor example:\nrtmp-services: Update ingest list for Restream.io\n. Ah, and additionally, the message in the commit body needs to be 72 columns max.\n. We've had many pull requests for this in the past -- I realize that people like/prefer it, and I fully respect that opinion, but I personally don't prefer it.  I just prefer plain text - it conveys the information and is universal.  I'm terribly sorry for the trouble you went through for this.\n. Very nice icons.  I was almost expecting two dots instead of one dot.  Only design flaw with it at the moment is that it'll exclusively use the first icon that you use, rather than accommodate both.  If you turn on the stream, then turn on the recording, then turn off the stream, it'll still use the \"live\" icon.\nBut unfortunately, as nice as the icons are, I'm not sure if they're actually necessarily.  You don't really need to be able to differentiate whether you're live or whether you're streaming via the tray.  It feels like the old dot is more than sufficient to know that something is active.  Maybe I'm wrong or someone might disagree, but I really think this whole thing is a bit superfluous.. Unfortunately, although the icons are nice, as stated in my previous message, it cannot show both streaming and recording, it can only show one or the other, which can cause confusion to the user as to what it's currently doing.  Additionally, if you turn streaming on, then turn recording on, then turn streaming off, it'll still have the streaming icon.  So I've decided for now to respectfully decline this as I don't feel comfortable with it's actual inability to show both streaming/recording, and the possibility that it may miscommunicate its current state to the user.. Going to manually merge for now to make sure the branches are synced in case you happen to have any more incoming modifications.  I've made a few additional fixups (didn't compile on MSVC, I assume you were using GCC.  Also you accidentally changed the hash of an unrelated submodule).  Later on I'll squash these fixes and fix up the commits/commit messages/code styling, as well as remove or ifdef any debug code before it's merged to master.. Ah wait that submodule hash may have actually been on a branch on enc-amf that was removed -- my bad if so.  That would explain why you were using a different hash there.. The only thing that may not be quite identical is contrast -- the brightness/gamma settings however are identical.. I don't think I'll merge volume texture support unless you have it for both D3D11 and OpenGL.\nWhy do you need volume texture support just out of curiosity?  If you're just implementing it just for the sake of implementing it, it's not really worth it.\nIf you do need volume texture support, please implement the opengl version as well, then feel free to re-open a pull request.. Additionally, when you make a pull request, it should be rebased off of upstream master.  Don't have unnecessary merge commits.  The commit message title/body also need to follow our guidelines.  50/72 for title/body, in present tense, plus prefixing the commit title with the module being modified.  So for example, \"libobs-d3d11: Add volume texture support\" would be what you'd probably use, with the body explaining your need.  If you want to see how commit messages usually look just look at our commit history.  See http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html for more information on good commit message standards.\nWe also have code styling guidelines, see https://github.com/jp9000/obs-studio/blob/master/CONTRIBUTING for more information.. I slightly modified this to make it change scene collection menu items to use \"file_name\" the same way that profiles use \"file_name\", that way it's fixing a consistency issue rather than just fixing a typo caused by that inconsistency.. Doesn't this basically revert your prior commit?  https://github.com/cg2121/obs-studio/commit/7de289f6cc499b2591bc3390cb5f989aa8b455c6\nthe 'delete view' in that commit would always work before, even if view was null.. It does effectively revert your previous commit though.  The if statement is irrelevant because delete will do nothing if the pointer is null anyway.  That's what I meant in my second sentence.. The bug was actually unrelated to the code in the UI.  It was caused by a reverse mutex hard lock (two threads locking two different mutexes in opposite order, causing a hard lock).     This was due to the fact that the old view that deleteLater was being called on would linger, causing two property views to be displayed at the same time, resizing the filter dialog's display view.  e541e17 and 580f38a fix the bug properly.. Your fix did not take in to account D3D11.  Additionally, D3D11 does not provide an L8 texture format, so such a fix via the graphics libraries wouldn't work.\nIt's better to just convert Y800 to RGBX instead.. Ah, my apologies on that then.  Probably should have just made it an important note directly on the pull request itself.. I just used the wrong name for the commit.  There is no RGBX in terms of texture format, only RGBA, BGRA, and BGRX.. It's useful to share profiles, though scene collections not so much due to it storing local assets locations, and I don't want to make some elaborate scene collection exporter where it includes all files.  I don't mind merging this as-is for now, though how useful it is is debatable.\nI might end up removing the service file from profile exporting and just make it export the ini files though, I don't really want service info (such as stream key/etc) to be shared.. None.  The function is unused in obs.  He was just fixing it for the sake of fixing it I suppose.. I'm not going to allow this quite yet.  Maybe a bit later when I've adjusted how services are handled.  Services aren't handled in a way to where they should just be changed on the fly like this.  Instead I'd recommend using profiles for now.. Well first of all, what specifically are you making that requires these features?. If possible, please use profiles instead.  At this point in time I don't want it to change services on the fly like this via command line.. Manually merged. Merged, but modified it so it uses a wstring so allocation doesn't occur every time the function is called.  Additionally made it so that the debug output only occurs when a debugger is actually present.. Just for future reference, try not to break code styling, make sure all commits are compilable, fix up commits and keep related things in the same commit and don't have fixup commits.  I had to merge all your commits together and then split them myself.  I don't want to have to spend time doing that, but this PR had a number of issues that I didn't want to wait for so I fixed it all up myself.\nThe Qt \"foreach\" helper isn't necessary because C++11 has ranged for loops that work with Qt containers.\nSuper long variable names aren't really preferable, like list_of_visible_messageBoxes and things like that, can just be visMsgBoxes.  Also, combining the underscore_case with CamelCase feels strange there too.  Try to avoid that.\nYou had a fair amount of trailing whitespace in your code.  Avoid that by doing a git diff command on your code so it can point it out.\nYour coding style and indenting style in general was just unusual compared to the rest of the code.\nYou also had unused code that was just sitting there commented out that should have been removed.\nPlease see the three commits c15099d, 6dfec8e, and 8789e04 to see how I'd normally like things -- both in terms of working compilable commits, commit messages, and coding style.  If things are the way I like, PRs won't be delayed for merging and I can just test, review, and hit the merge button ideally.  Otherwise I may delay a PR to fix it up myself if it feels necessary.. Woops, forgot to set you as the original author of those commits.  Fixed that while things were still fresh.  abe4bfd, d473b2d, and 7eee8de. @cowai The PR isn't currently functioning properly.  Besides, I had some issues with it from a UX standpoint.  Please do not pressure me to merge code.. I had some issues with multiple sets of numbers being displayed.  I feel like it sort of made it confusing to users about what number means what, plus it increased the required paint updates to the UI which I don't really prefer (I'd prefer to keep UI painting to a minimum for performance reasons).\nHowever, the clip-detection is very useful, and that's something that I agree the users definitely need to have.\nSo, what I did instead was I made it so the meter will turn in to a red gradient if it detects audio clipping.  This way it doesn't require any extra UI changes or extra UI updating, and quite clearly gets the message across to the user that it's clipping/peaking.. There's also recordEncoder.json.  I modified the commit and added that in there.. This is fixed by your previous pull request.. Ah yes, hide to task tray might interact a bit negatively with the stats window considering the fact that it's considered a separate window.  The \"Shut down on last window\" functionality should probably be replaced with something more along the lines of \"Shut down when main window closed\".. Fixing conflicts, then merging. Thank you, though I'd rather not for now.. Mind if I include the LUT files with it?. Resolved conflicts and merged.. The bug you're seeing with the resize in that case you linked has to do with the transform.  The scene item transform process is what needs to be fixed.. Fixed it so that it detects whether the submodule is present to prevent it from breaking builds if submodules aren't properly fetched.. Fixed commit title and fixed source styling.  (Please make sure to read the contributing file in the future). There's no known issue capturing league, even on 8.1.  If league were having capture issues in any way I'd have countless emails/PMs about it non-stop.\nI could be misunderstanding this pull request -- perhaps you're doing this for the lobby window or something, which typically isn't meant to be captured in game capture.  If that's the case, then let me know.. Just as a note, GUI-mode applications can't print to console on windows, so some of those commands won't do anything on windows.. Merged with changes.  I don't mind this change as long as it doesn't affect the regular shaders.  It's actually a pretty cool little feature for people having to deal with ultrawide.\nI modified your effect to use a separate technique so that it effectively creates new shaders for your method rather than applying it to the regular Draw technique.  With the way you had it programmed originally, it would be applied any time the shader was used, which you definitely don't want to do.. Also, when making a PR, read the contributing text file before doing so, because your commits as-is were not acceptable for merge.  1.) You didn't make a proper commit title and commit message, and 2.) you had 'fixup' commits in the PR that should have been squashed.\nA good rule when making a PR to any repository is to observe how the primary contributors make their commits -- go through their commit history a bit and see how they make their commits, their coding standards, and such, and try to emulate it as best you can.  And of course read any contribution guidelines they may have (like we do).  It helps save me a bit of time when the PR commits are up to par with the rest of the repository.. Modifying the commit title, then merging.. For now, I did remove the baseline profile.  There wasn't a valid technical reason to justify that.  Web browsers are more than capable of handling main/high profiles, and we've never had an issues in that regard.  If you're using flash for playback, then that may be a different story, but even flash was also capable of main/high profiles.  (Flash also has terrible decoding performance, if you're using it you should consider HTML5 ASAP). Let me preface first:  Just so you know I don't mean to cause you problems.  Nor am I purposely trying to be stubborn or anything.  When I removed that from your mandatory encoder settings, it was because there is almost assuredly a misunderstanding, because no streaming service would ever implement a mandatory low-definition profile on their streamers.\nFirst, I'll need some sort of citation.  I cannot find any evidence that WebRTC requires the baseline H264 profile.  If it actually did and I were in your position, I'd immediately say \"right, this is garbage\", toss it in the bin, and start looking for something else, because the baseline H264 profile is an absolutely ridiculous thing to have to use.  It's meant almost specifically for video conferencing and mobile programs.  It's basically a low-definition profile.  Then main is meant for standard definition, and high is meant for high definition.\nAfter searching and scouring the net, the closest I see is an old WebRTC implementation memo from many many years ago, which may have been the root cause of this confusion:\nhttps://tools.ietf.org/id/draft-burman-rtcweb-h264-proposal-01.html\nIn the introduction section, it says:  \"The core of the proposal is that H.264 Constrained Baseline Profile Level 1.2 MUST be supported as Mandatory To Implement video codec.\" However, this is referring to implementation.  When it says \"MUST\", and \"Mandatory\", it's not saying that baseline \"must be used\", it's saying that baseline \"must be implemented\", and it's meaning minimum.  And case in point, the very next line says: \"To enable higher quality for devices capable of it, support for H.264 Constrained High Profile Level 1.3, extended to support 720p resolution at 30 Hz framerate is RECOMMENDED.\"\nDo not make the mistake of misunderstanding this document.  This document is meant for client applications (i.e. web browsers) that implement WebRTC.  Not web sites.\nWeb browsers fully support main/high profiles, they use FFmpeg pretty extensively for decoding, and it'd be silly if they only implemented baseline.  If you feel I am incorrect, I would humbly ask that you show me a proper citation for this, and not just base it upon circumstantial evidence just because you're seeing some playback issue.  Playback issues can be caused by any number of things.  I see your other comments on the OBS1 repository now, and you stated that it simply didn't look smooth with WebRTC.  But if WebRTC doesn't support it, why would it even be playing it back in the first place?\nI do not want to see people needlessly completely gimp their encoder settings due to a potential misunderstanding, or assumption based upon false premise.  There are too many misconceptions and misunderstandings about encoder settings out there, and it just causes me pain to see it.. Well I suppose my point was I think the WebRTC issue can't be an issue with with the encoder profile setting.  I really don't think that's the problem.  I definitely think you should absolutely confirm 100% before making that assumption and using a profile that's usually only used for video conferencing.  It'll negatively impact quality, so it's not something you should do lightly.  You should not be telling your users or forcing your users to use baseline.  It's just madness, this isn't something that should be accepted at all.  I see no data suggesting that suggests that proper profiles can't be supported.  You shouldn't be accepting it either, you can't accept it.  You should not do this.  With the utmost respect, it's absolutely crazy, you have to investigate in find out the cause of the issue, it feels too much like it's being made as an assumption; don't accept circumstantial evidence in this case.\nAs for the common thing, I take it on a case-by-case basis, I'm going to try to remove the checkbox in a patch or two, it's kind of stupid and can be inconsistent, I admit.  I did consider it when you made this pull request, but email me or PM me some time about it if you have time and I'll talk about why.. Fixed commit title and fixed the merge conflict.. Fixed up the commit messages and merged.. Fixed commit message, incremented package number and merged.. Please use the forums or the bug tracker.  You just made a pull request, which is a request to review/merge code.. Did you test this code?. I'm going to merge this PR over the other one, primarily because it's more simple and it's the only real value for VLC config that we really need.\nTerribly sorry about the delay, last few months have been very busy and I had to put lower priority PRs on the backburner.. Thank you -- fixing the commit title and merging.  Make sure to prefix your commit titles with CI in the future.. Fixing up the commit title and then merging.. In the future, 1.) Make sure to squash your commits, you don't want \"fix up\" sort of commits in a PR when it's ready to merge, and 2.) make sure that your commit message abides by the guidelines in the contributing.rst document.  (50/72)\nMerging with those fixes momentarily.. This should have been one commit.  It also did not follow the commit guidelines.  Read the \"contributing\" document in the repository root next time if possible.  I'll squash/fix and merge.  Thanks. Fixing code styling, then merging.  (Tabs for indent, spaces for alignment). Fixing the commit message, then merging.. Fixing commit title and merging.  Please make sure to read the contribution guidelines before making a commit.. The reason why filters probably don't work properly is because the source* isn't marked as a custom drawn source.  You might want to add that capability flag in there or'ed with OBS_SOURCE_VIDEO.. I'm moving this to the image-source plugin, if you have misc sources like this you can just put them in image-source instead of creating new modules.  Probably best to cut down on modules.. Also cg2121 just wanted to say for the record that you're amazing, this is definitely nice to have.\nYou just seem to keep going, adding high-quality stuff non-stop, even if I don't always merge everything.  You are awesome.. I'll remove the other function as well.. Fixed it so that it centers the window, and fixed a crash on exit that could happen due to the windows not being freed soon enough.. I wouldn't mind .rst, but preferably not markdown. There's not really something wrong with markdown per se, but it's mostly just preference.  Markdown just isn't quite as clean when you're looking at it in raw text form.  RST would probably be the best compromise for me personally.. As I said, I don't want to change the file to markdown at all.. Changed this to just be the same as the right-click preview submenu \"Projector (Fullscreen preview)\". This is a very nice easy feature.\nThough I hope you don't mind, but I feel like the \"Fullscreen Preview\" option isn't really necessary here either because that's sort of already served by the fullscreen projector options via the preview context menu.  You have some code to prevent conflict there, but I feel like inherently, they're never really likely to conflict because the fullscreen UI option makes it fullscreen for the display the UI is currently on, and the user is very unlikely to have their UI on the same display as a projector, so it already sort of automatically implies you have your UI on a screen that doesn't have a projector on it anyway.\nMerging with that minor tweak shortly.. I don't think this is really all that necessary -- this isn't something that's required or particularly normal for most programs, let alone most Qt programs.  Each operating system typically has a set of system shortcut keys for closing a program.  It feels a bit strange to be adding extra exit shortcuts manually.  I'd prefer not to merge this for now unless I get some good arguments for doing so.. WOW6432Node is for 32bit VLC, not 64bit.  Additionally, WOW6432Node is automatically used in the 32bit version of microsoft's registry functions, so manually specifying it is never needed.\nIf you're having a problem, I'd suspect that VLC probably isn't installed correctly.  There definitely is not a bug or issue with 64bit or 32bit VLC plugins.. Merging, but without the unrelated commits.  Also moved the opt check in window-basic-main.cpp. I'm going to approach this in a different way -- the entire UI kind of needs an overhaul.  Indicating on the button would work, but I think there's a better way to approach this, such as having a big \"LIVE\" indicator on the status bar or somewhere similar.\nSo closing this for now due to the fact that I'd prefer a different approach towards solving this problem, though not a bad pull request by any means.. It was about time I updated the files, so I rewrote the readme/contributing files from scratch and changed them to RST here instead:  41731bb096. Modifying this to allow pasting a reference or a full duplicate.. Also, I ensured that if filters are pasted twice, that they don't have duplicate names.. Closing due to extended inactivity.  Feel free to reopen later on.. Going to slightly amend this commit so that if the settings by happenstance have the preset set to \"default\", that it automatically treats it as \"hq\" as well.. Fixing some whitespace issues, then manually merging.  Thank you for the fix!. This won't compile on a 10.9 system, so I'm adding a macro that detects whether it's 10.10 or above (__MAC_10_10 is defined). Noticed that there was a bug in the obs_data code thanks to this PR.  Under certain circumstances defaults wouldn't be properly preserved.\nI'm going to rename the buttons to \"Defaults\" instead of \"Reset\" so it's a bit more explicit what they do for the users.  Also I cleaned up a code a slight bit, there's really no need to call obs_source_get_defaults for example.\nMerging shortly.. Going to add a close button to the advanced audio properties dialog, then I'll merge.. Modified the commit message, and changed it so RTMP_Init is called before connecting instead.\nAlso, what's the story behind this change?  What's the context?  I'll make the change, but I've never encountered this problem before.  For example, \"I was streaming to [service A], and then tried streaming to [service B], but it failed.  I then tracked it down to this bug.\". Ah, I understand, thank you very much for the clarification.. Hey there -- I'm a bit concerned about the deinterlace commit.  The thing I'm concerned about is that the decklink device may return an incorrect deinterlace field order or something, and then with automatic mode on, the user will not be able to change the settings.  I think it should be an option separate from automatic mode just to be safe, because the automatic resolution detection should be on by default in my opinion.\nSo here's what I want to do:  I want to merge your first commit for automatic mode, then I would like you to make the automatic deinterlacing a separate option, if possible.  Would that be okay?. Hm, I decided that I'd prefer to avoid the automatic deinterlacing for now, primarily because it just clashes with user values.  All the rest is fine however for the time being.\nMerging shortly.. Should no longer be necessary with 2e0d2373. I'm going to use #889 to fix the crash, so for this pull request, please change it to just be the feature that adds HTML support.  You will have to resolve the conflict.  In the future, please make sure to use separate commits for things like adding HTML support and fixing crashes.  In this pull request, you had them both in the same commit, which is not ideal.. I'll modify the wording and then merge.. I'm not sure why this is necessary, did you have a problem compiling on a specific linux or BSD distro?  This is usually included by default without needing to manually include libm or libdl.\nCould you explain what happened to make you say \"I need this\"?. I don't believe this is necessary.  I really have not heard of any issues with requiring explicitly linking with m and dl.\nIf I'm mistaken, please re-open and let me know.. When dragging/dropping raw text, it would use the text itself as the source's name, which was not ideal, especially if there was a lot of text.  I'm fixing that so it uses the original functionality (the source type's display name) in that case.\nFixing and merging.. They should now be available to all.  The program will now automatically update the new servers.. You had trailing whitespace, some inconsistent tabbing with the rest of the files, missing newline at the end of one file, and your commit message doesn't quite go along with the guidelines (not 50/72 -- see contributing.rst file for more information).  I edited it and fixed those issues, but please try to make sure to keep these things in mind for future pull requests so I don't have to backburner pull requests.\nMerging with those changes shortly.. Should no longer be necessary with 2e0d2373. Great PR, but I'm not sure why you made enable/disabling studio mode separate functions.  It should be called something similar, like obs_frontend_set_preview_program_mode(bool enable).. Also, obs_frontend_preview_mode_active should probably be obs_frontend_preview_program_mode_active instead.. Also, this PR should be squashed in to one commit.  (Sorry for the multiple replies). Going to modify this PR slightly, and then merge.\nYou changed some BPtr<> variables to use the dereference operator when used as %s printf parameters, which would cause a crash.  Instead, I added a .Get() function to the BPtr<> class and now have those use .Get() when used as printf parameters to ensure the pointer is returned.. Added a check to this that makes sure that the browser source actually exists.  Merging shortly.. Probably not if his doesn't use the same ID.  I wouldn't a fallback of some sort being implemented for linux.. Just so you guys know I sort of would prefer some way to recover a broken MP4 rather than always remuxing.  Remuxing requires a lot of space and a lot of time to process.\nUnfortunately, I just really don't want to merge this.  I'm probably going to do something else, like write a means of MP4 recovery (which is completely possible to do).  But forcing all users to remux every time?  I'm not going to do that.  The whole problem comes from unstable computers in the first place -- not with the program itself.  I already implement crash handling where the file will still save properly if the program crashes for whatever reason (that's the whole reason why I made it a completely separate process), the only issue remaining is if the user's computer itself is unstable and crashes/bluescreens for whatever reason (bad hardware or things like that).\nPeople are going to disagree with me but I'd rather just have an MP4 recovery option.  Yes, it's not simple to do.  But it's fully possible, and is the ideal solution.  For example, the user bluescreens, and the next time the program starts up, it would automatically fix the file or inform the user that it can fix the file.\nI don't however want a solution that's \"let's save it as one file format and then convert it to another file format after\".  I just can't agree with it, even as a temporary solution until I implement the MP4 recovery tool.  I just can't seem to accept it.  I'd rather just have the warning in the program like we have and pray that users actually read it.. Okay, I've had some time to think about this, and I will negotiate a bit here and say that I'd be okay with this as long as it's an option and off by default.  Otherwise I just don't want to do it.  Currently as it's programmed in this PR, it's not optional.  If it's optional and off by default, I'd be okay with it.\nIt would at least help for cases where people feel they \"need\" MP4s, want to make sure they can't be lost, but don't want to have to manually remux every time.  So if you want and happen to have time, please make this an option somewhere in settings (maybe advanced settings?), where there'd be a checkbox such as \"Automatically remux when using MP4 to prevent loss of file\" or something like that.  Definitely off by default.\n(And by the way cg2121, just so you know, as usual this pull request is actually great, even if I disagree with what you might be doing in it -- it's well-programmed and is a solid/valid attempt to solve the \"my computer crashed and I lost my MP4!\" problem in a realistic manner, even if I didn't necessarily agree 100% with it as a solution). You'll need to rebase your branch and get rid of that merge commit.. I'm going to change this to use BPtr, then going fix the commit message, and then I'll manually merge it via the modified commit.. I modified this PR so that it saves/loads the user's scroll position and zoom of the preview.  Manually merging with those changes shortly.. Hey there, nice to meet you, and welcome.  Out of curiosity, what specific VLC options have you tested with this?\n(Terribly sorry about the formatting issues by the way -- I should have just used .clang-format auto-formatting from the beginning, but using it this late in to the project would mess with the history significantly, so we're avoiding it at the moment). Hey there -- I chose to merge the network cache PR instead of this one.  This one is kind of complex and difficult to use unfortunately.  That and I'd prefer the individual VLC options be actual properties if there are any that should be added.\nDon't let that discourage you though, it's mostly just a particular design decision on my part.\nTerribly sorry about the delay, I've been putting off lower priority PRs because things have been busy these past few months.. What specific media options?. Your feelings are understandable, and you may think that there's no reason not to just because it doesn't hurt anyone to have the feature you want in, but my reasoning has nothing to do with what it provided, what it provided was fine, but instead is almost entirely UX (user experience) related.\n1.) It's a niche feature that is only for very specific and pretty rare cases,\n2.) It's difficult to document, the formatting required is weird, sort of like URL parameters but not really if that makes sense, they'd have to make this long string at the end of their URL starting with the \":\" character.  They'd have to browse the documentation to even understand how to do it.  If they mess up or make a mistake by accident with it, they may not realize they've done so, or you'd have to implement some convoluted way of communicating that to the user,\n3.) When the user is using the program, they have no idea it's even there, it's impossible for the user to know that this feature is available to them, again they'd have to browse the documentation to even know it's there, where as the network caching feature however is visible to every user who wants to use it and it's easy to use and doesn't require making a string at the end of your URL to be able to use it.\nThat is why I said if we want additional options, they should be explicit properties that are easy to use, that every user knows is there, and not some string that you have to mangle to the end of the URL.  I hope you understand my reasoning now behind why I decided to respectfully decline this particular patch.\n\nIn addition to the above reasons, I realize that you might say \"it hurts no one for it to be there\", but that's not quite true:  any code that's added to the repository adds a maintenance cost, however small, and that's something that people don't often realize when they say \"my code doesn't hurt anybody being there\", it hurts the people who have to take care of the project.  When a contributor comes along and says \"hey pull my code\", 99% of the time the maintainers of the project are the ones who have to maintain that code if there's a problem with it (directly or indirectly) in the future.  Even if it's just a small patch, it piles more code in to the project and decreases the quality of life for the maintainer because the repository just gets endlessly messy with these super niche, often almost-never-used features.\nSo your feelings are understandable, but there are very good reasons that I think you might not quite have realized.  Your code itself works, and its functionality is perfectly fine, that's not why I'm declining your code.\nI hope you understand, and I hope it does not discourage you from continuing contribution, but instead is something to learn from so your future contributions take these factors in to account.  I understand that having to deal with maintainers isn't always fun/fair, but I hope that even despite declining, that I have been as polite/respectful as possible.. Fixing the commit message a slight bit, then merging.. If possible edit this PR to have the packages modification, then remove the packages PR.. Fixing this commit up.  Your commit message doesn't follow the guidelines, and you didn't combine/squash this with the services.json pull request you made.  I'll fix it up, but if possible please try to avoid that in the future.\nMerging with those changes shortly.. Ah, that's a good warning to have.  Seems you have an issue with merge commits there though.  Might want to get that resolved first by rebasing your change to the current master.. I simplified this PR a bit.  Having the extra config value isn't really necessary.  Merging shortly.. Going to fix a few formatting preferences, then I'll merge.  You forgot a tab on the first unused parameter macro there as well.. It seems like you did not rebase to our master branch, and you are not following our commit guidelines.  You'll have to rebase to our master, and reword your commits so they follow our commit standards.\nOur contribution guidelines are here:\nhttps://github.com/jp9000/obs-studio/blob/master/CONTRIBUTING.rst\nTo see examples of our commit standards, read the commit history (excluding merge commits), here:\nhttps://github.com/jp9000/obs-studio/commits/master\nThat being said, I'm not sure if I want to save files at above 2 audio channels.  The reason is because it makes writing audio filters and audio encoders more complex than it should be.  It's kind of a needless complexity that I avoided on purpose.. Just for the sake of noting, here are the remaining issues with the branch that should be solved before merging:\n1.) Making sure to fix filters that don't necessarily work with it, as some filters currently do not work with it.  Additionally, VSTs may stop working with channel counts above 2, so you might just want to make the VST plugin do a bypass if it detects more than two channels.\n2.) Decide what to do in regards to how to handle outputs that may not support it (if there are any).  Automatically downmix is probably the easiest way to deal with it.  If all outputs and/or formats can support it, then you can probably just ignore this part.\n3.) Ask yourself if you want the specific ability to be able to downmix for specific outputs (like just as an example, stream with stereo and record with 5.1).  That route will complicate the situation, so you might choose not to support it.  It would require a lot of back-end modifications I think, probably wouldn't be fun to write.  This is sort of a niche feature after all, so if you want you can just say \"all outputs must output with the same channel count\" (provided item 2 above isn't an issue).\n4.) Tests:  Make sure it works on each operating system as expected, works without crashes, works properly in conjunction with other audio features such as audio monitoring, things like that.\nOnce these things are accounted for, it should be mergeable.  It's definitely a useful feature for the use cases where it applies (especially 5.1 music streams), so it'd be a cool feature to have.. Woops -- I closed the wrong pull request via commit.  The message here was meant for you:\nSplitting in to two commits (just a tiny nitpick, I suppose a comma instead of slash would have also worked). Everything looks good otherwise, although I must sort of lament over duplicated code between this and the linux-pulseaudio plugin. I really only have myself to blame for that I suppose -- not really anyone else's fault.\nMerging.. Just making a sort of official note here -- unfortunately still not mergeable as of yet I feel.  Also still has that cmake configuration issue where it still won't find va/va.h when compiling for example.  The required package really needs to be put in cmake.\nMight be worth checking out libyami like fruitman was saying.  Unfortunately I can't really dedicate the time to implement this myself -- I feel like I'll really have to delegate this to someone else who's able and willing.\nI have a backup of the old branch still locally as well just in case.. Oh really?  That's quite awesome, wish I could be there to see it in person and say hi -- if there's a video of it email it to me.\nPerfectly understandable though -- I'm very grateful regardless.  Having it as a PR put it kind of in a more public spotlight than when it was rotting on a stale branch, and the testing on the PR has been interesting.  VAAPI is certainly usable, although implementing it properly is definitely not a simple task.  A library that implements it is likely the best option at this point.\nIt's not really a critical or high priority thing these days as CPUs are more powerful and have more cores.  x264 doesn't really have troubles these days like it used to 4 or 5 years ago.  I suppose hardware encoding is mostly just a luxury more than anything, so definitely not a big deal either way.. I suppose that's true, I have a bad tendency to sort of disregard laptops when it comes to serious streaming -- it's kind of a bad habit.. Well technically all you'd need to do it basically copy a significant portion of the NVENC code (which is implemented through FFmpeg similarly) and just adapt it to VAAPI, I should probably try that if I ever get time.  Could probably make that code abstract at some point like I did for the audio encoders.. We're going to use FFmpeg's implementation rather than a custom implementation.  Someone is working on it currently, just not complete yet.. Moved -> https://github.com/obsproject/obs-studio/pull/1256. Hey there -- do you happen to have a video that doesn't work well with our deinterlacer?  Or rather the video or videos in question that you're talking about.. You didn't necessarily have to close this, I just wanted to see if I could debug the non-working videos with our deinterlacing first.. I would have probably merged it if there was no alternative, I know that issue 1 shouldn't be a case, there was a bug with VLC recently where the dimensions of the buffer wouldn't be correctly calculated, but it was fixed in more recent VLC versions (on nightly).\nI do acknowledge that VLC's deinterlacer might be better and may have more options, but I just wanted some test videos to see if I could fix things up a bit with our deinterlacer first before merging.\nYou can probably understand my position, I'd of course prefer to have our deinterlacing working as best as possible if there's an issue.\nAnd don't worry, you're doing fine, I definitely appreciate the PRs no matter what, you always have my thanks -- don't let it necessarily discourage you from continuing with contributions or anything if some get closed.. Modified this PR so that it properly puts the new hotkey at the end of the hotkey enum, rather at a place in the middle which would break enum indexing.  libobs/obs-hotkeys.h is actually a file used for an enum, so if you insert in the middle like that you'll mess with the indexing of values that come after.\nMerging with that fix shortly.. Going to split this in to two commits, then will merge manually.. I fixed this in a separate commit.  Thank you for pointing it out however.\n(Additionally your code was using spaces instead of tabs). Hi mntone, thank you for spending the time to write this, though could you specify why this renderer was implemented?  It should not technically have any performance improvements over OpenGL.. No -- that's a vsync-related issue.  I have a possible fix in the works for that particular issue which is unrelated to this.. Not necessarily -- Metal/Vulkan/DX12 are designed to allow you to more effectively thread your graphics calls.  This mostly applies to triple-A game engines which render a lot of things at once with many transforms and in large batches; not so much simpler graphics programs.  It has less to do with consuming less CPU, and more to do with using that CPU and GPU more effectively across multiple threads for graphics-related purposes.\nIn traditional DirectX (up to version 11) and OpenGL, more than one thread cannot really use the graphics context at the same time.  In DirectX 12, Vulkan, and presumably Metal, you're able to do graphics processing on many threads at once rather than confining all graphics-related processing to a single thread.\nOBS' rendering is not particularly complex, and does not require a heavy combination of CPU and GPU processing at the same time.  Most of the time it's just rendering rectangles to draw textures, where as a game is rendering complex meshes, animations, terrain, meanwhile processing things like physics and other such calculations related to the game.  For that reason, a single thread dedicated to graphics processing is more than enough, as the graphics thread is predominantly just fillrate; it does not do any particularly heavy CPU-related processing, nor does it need to draw multiple things at the same time.\nFor that reason, a DirectX12/Metal/Vulkan renderer for OBS doesn't really make sense.  I do need to write a capture method for Vulkan, but in terms of OBS' rendering backend, using these APIs would give no real benefit unless there was some specific feature in that API that would be useful specifically to what we're doing.  For example, if Metal provided a desktop capture method or something that you couldn't get otherwise.\nHopefully that made sense.  I'm still waiting to hear back from mntone.. I am grateful that you spent so much time working on this, but I do not know why it was implemented.  I'm going to close it for now to clear up the pull request list, but please re-open this pull request when you have time to discuss this again.. Some inconsistent code styling there.  Fixing it up and merging.. Fixing a few typos and merging.. Fixing text editor issues, fixing up the commit message, then merging.\nIn the future, check out the commit message guidelines specified here:  https://github.com/jp9000/obs-studio/blob/master/CONTRIBUTING.rst\nMake sure to watch out for the text editor issues as well -- some editors might unintentionally remove newlines at the end of files, or use spaces instead of tabs.  A good quick way to tell if your code looks as you expected is to do a git diff on your changes before submission or committing-- git's diff feature will show text inconsistencies and even things like trailing whitespace.. Fixing up the commit message a slight bit (it's all on one line), then merging.. I've gone through and reviewed the PR -- and you checked just about every edge case.  Great job.  However, there is one thing that I personally disagree with for now -- adding 16 channel support.  I know that for your specific use case you needed this, but for now I want to avoid going up to 16 channels unless necessary.  It's just such a niche use case that's so unlikely to be used that I can't justify changing the API for it right now.  Plus it can't even be used with anything but the FFmpeg output anyway.  So I'm going to remove the 16 channel support, clean up the code a bit, and then merge.  Perhaps later when I've evaluated it a bit more we can up it to 16 channel support, but for now I just prefer to stick to 2.1/4.0/5.1/7.1 support.\nI'm also changing the way it warns users when selecting 5.1/7.1/etc, instead of having that checkbox that the user has to check, the items will be there, and when the user selects those items, they will get a warning when they try to select surround sound items, similar to when you select lossless when you're changing the recording quality in the output section -- I feel like that's a little bit better of a user experience.  (Just so people know I was the one who originally suggested the checkbox, but I now realize that it's not as ideal as a popup when trying to select the item, so that one was on me, not pkviet).\nAdditionally, the warning in the audio section has been changed to an orange warning label, and is a separate label from the red one used to tell the user that they need to restart.  It makes it more clear to the user that they need to restart the program, that way the restart warning doesn't get lost in a sea of red text.\nOther than those things, this is great work.  I apologize it took me so long to get around to this -- I've been purposely delaying reviewing some of the bigger PRs due to time constraints before.  You did a great job in testing/verifying where they worked and giving a full report on what it works with and what it doesn't work with, and accounting for just about every edge case -- you even made sure that the AAC bitrates increased, and you even checked to see what encoders it worked with and what encoders it didn't work with.  You were very thorough, definitely a quintessential pull request if I've seen one.\nI will be merging this soon with some minor changes -- you'll see \"closed in [commit hash]\".. Feel free if there's something that requires explanation.  It should work pretty much automatically though.. Careful there, that code was quite a bit over our preferred column limit (I probably should have had a larger column limit from the beginning, but it's way too late now).  I'm fixing it up so that it doesn't go over 80 columns, then merging.. Hi there.  I didn't receive any key in my email -- I'd like to be able to test with the game itself.  Your code makes it so that the hooks exit out of the hook before the original GL hooked function is called -- it essentially makes it so that when your program calls a GL function, that GL function will essentially do nothing.\nIs there a specific reason why you'd be mixing GL and D3D at the same time?. Apparently RytoEx got them.  I'll ask him about it.. Did you compile Qt to use Direct3D via ANGLE?. Hey, could you re-send your email to me?  I accidentally deleted it by mistake.  Just forward the sent mail from the copy in your sent mailbox -- I'm terribly sorry about that.. Thank you very much for sending it.  I'll test it out and see what sort of crash you're getting.\nI'm probably not going to allow fully disabling of GL calls like this though.  This isn't something I feel comfortable with; although it may benefit your specific case, I feel like it could have adverse affects on other programs unintentionally.  I don't think disabling GL calls is the right thing to do.  I'm sure there's a more ideal way to handle the problem.. I'm probably not going to be able to fix the issue this patch due to time constraints unfortunately.  I just want to make sure that there are no negative side-effects from whatever fix gets applied.. > I honestly can't see how this could cause any negative side-effects, do you have any ideas on that?\n1.) All hooked functions will fail if gl_functions_initialized is false, which it defaults to.  gl_functions_initialized is initialized within gl_capture.  However, gl_capture is never called because gl_functions_initialized defaults to false, so the functions will always fail and gl_functions_initialized will never actually be properly initialized.\n2.) You do not even execute the original hooked function call.  Instead, you just have the hook function return and make it so the function effectively does absolutely nothing.  I can see that as having some major side effects, yes.  I tried to explain this to you in my first reply.\nThe code is quite clear in that any of the hooked GL functions will just cease executing ever again because they'll always return instead of calling the original hooked function call.. Hey why'd you close this?. Ah okay, that sounds good.  I apologize for not helping sooner, especially before 20 was released; I realize that it's important for you.  There were a lot of things going on before 20 was released, and it all happened a bit too close to version 20's planned release date, and I couldn't risk rushing a game capture modification so close to the release.  The game capture hook is an especially delicate library, so I didn't want to risk modifying it with a major change so soon before my planned release date.  It was just bad timing if anything.\nWe'll get it fixed before next patch.. 800 bitrate is almost nothing for desktop streaming.  If possible please show a citation for this.. Removed the hotkey destroys (because they automatically get destroyed when the source is destroyed).  Merging shortly. A filter is not the right place to do this in my humble opinion, API should probably be added to scenes or something similar to support perspective transformation and 3D coordinates.  It seems sort of a waste to use the extra required fillrate of a filter to do something that can be done with a matrix.. Making a minor adjustment to the text for manual mode to specify to the user that they need to use hotkeys then merging.  Pretty much a perfect PR here though otherwise.. Fixing the merge conflict and then merging manually.. Seems he did do a find/replace.  Yea, that fixup commit will have to be removed.  It's not a huge deal though, I can fix those things myself during merge.  For the format version change, @derrod was correct in explaining what it was, the Json format for that specific sub-object for mixer had changed (no longer using RTMP urls), prompting a format version change because it wasn't backward compatible (because older versions of the program wouldx expect those RTMP urls).  However, because they also decided to change the name of the service, using the the format version increment is no longer necessary because it's now considered a separate new object, so I'll just remove that myself as well.\nAs for the audio codec stuff, the stuff that allows alternate audio codecs for streams was already in the UI prior to the PR.  The part at the bottom where it specifies encoded_audio_codecs = \"opus\" will cause it to use the Opus encoder automatically instead of AAC (for just the stream encoder).  I had talked with them about that before, that was one of the primary problems they originally had apparently.\nI'm going to run it through some testing tomorrow and then merge along with a few other pending PRs.. Okay, I've refactored obs-ffmpeg-aac to allow Opus as well, because the Opus encoder was basically a duplicate of the AAC encoder.  The FTL output is basically from the RTMP output, but with more significant changes, so I'm going to keep that separate rather than try to refactor the RTMP output.  I fixed the whitespace issues and cleaned up the commit messages.\nA good tip for the future to check to see if your commits look good is to use \"git diff\" on the changes before committing, it'll usually point out any inconsistencies in the code formatting.\nFixed it up and will be merging with those changes shortly.  Will show up as \"closed from [x commit]\".. This is a good idea, but there are bugs preventing this from working, and I think a different approach might need to be taken anyway.  You use a transition source, which is definitely the right direction, but the problem is you spawn it as a sub-source of the filter itself.  It's an interesting way to try to get it working, but this just can't work ideally in a filter I feel.  I don't think this should be implemented as a filter in the first place, it may actually make more sense as a script.\nThis issue is complex though.  I have some ideas on how to do this -- for example you could replace the source of a scene item with a transition source, and than have the actual source as the transition's sub-source.  That's definitely how it should be done -- I designed transitions to also allow them to act as \"switches\", there's some internal API for it, but the external API is incomplete for it.  You would have to replace the actual scene item itself though, and I'm not sure how I feel about that.  Hm.\nIt's definitely not a simple situation.  I'll give some more thought on this, but I feel like a filter for doing this isn't a good idea right now.  Perhaps a script like I was saying?  I'm going to make some notes on this and see if there are more ideal ways this can be solved, and if I can I'll bring them up with you.\nI definitely can't agree with the filter approach though.  I'll get in touch with you later about this.. I made one minor change:  on windows, I just made it log the window executable.  I don't think the title is all that necessary if the title can be avoided, feels like more information from the user than necessary -- executable name should be useful enough.\nMerging shortly, you'll see \"closed in [commit hash]\".. Thank you for the fix.  Fixing up the commit message then merging.  Make sure that the long description part of the commit message is no longer than 72 columns in the future.. I'll figure out a more ideal way to handle this on linux.  Ultimately my own fault.. I hadn't been able to review until just recently because I didn't have a linux test setup, so fortunately I'll be able to review and if everything's okay merge this patch.. Splitting in to two commits (just a tiny nitpick, I suppose a comma instead of slash would have also worked).  Everything looks good otherwise, although I must sort of lament over duplicated code between this and the linux-pulseaudio plugin.  I really only have myself to blame for that I suppose -- not really anyone else's fault.\nMerging shortly.. Didn't mean to close this PR, put the wrong PR number in my commit when closing via commit.  My apologies.. Also meant that message for the other PR -- for this PR, I think the commit message title is a bit long, I changed it and put that in to the commit body instead.  Just a minor nitpick.  Merging shortly.. What specific code can you point me to that's causing you trouble with this?  You're supposed to use memory allocated with bmalloc on the values in the gs_vb_data structure.. Okay, I'm adding a flag to the parameters to make it so it optionally doesn't take ownership if requested -- instead it will make a copy and leave the gs_vbdata_t structure passed as-is, in case it was filled out with C++ vectors or something.  I admit that the \"taking ownership\" thing is unusual for an API, I probably should have made it copy the vertex data by default, but at the same time I don't want to break API.  However, just as a note, it copies, and to get its internal vertex data you will still have to use gs_vertexbuffer_get_data to get pointers to the actual buffers that will get flushed -- you won't be able to use the data of your std::vector to flush after initialization.\nIt would be like this regardless even had I not programmed it to take ownership of data.  I'm not going to design the API in such a way to where it will make the vertex buffer internally store pointers to foreign memory that it has to trust and flush memory that is foreign to itself without any sort of guarantee that the data is going to continue to exist -- so the options are either:  1.) take ownership, or 2.) copy the data and take ownership of the copy.  The idea that the vertex buffer should store pointers to foreign memory and hope that the memory is going to continue to exist is much worse than taking ownership of that memory by default like I have it programmed.  I do understand that there might be a use case to initialize the data more easily with foreign data such as C++ vectors, but the vertex buffer should never just store foreign pointers that it has no control over and just hope those pointers continue to exist for the vertex buffer's duration.  That would be worse API design, you have to understand that.\nAs for the use case of vertex animation, recreating a vertex buffer or index buffer every frame is not the correct approach, if you're doing it you need to re-examine your design.  If you need to increase vertex or index count dynamically, then set a specific maximum capacity for your vertex/index buffers, create vertex/index buffers with buffers set to that maximum capacity, and then perform a draw call specifying only the number of vertices/indices you want to use within the buffers.  You should never be recreating resources each frame if you can avoid it because it will negatively impact pipeline performance.\nI will be adding the flag to copy the data along with the documentation branch.\nAlthough I do admit that API has flaws, I do not want to change the API either -- I am very unlikely to merge patches that change API, just for future reference.  Additions to things like flags, or alternate versions of functions are fine, but API breakage is not fine, even if the API does have flaws.  I will not accept API design that is objectively worse either.. I think the proper solution to the situation that would solve this situation is to really to just implement standard map/unmap functions for vertex buffers to allow direct mapping/flushing of the data without having to rely on the internal data, though the problem with that is that the vertex buffer needs a copy of the vertex buffer data in case the driver crashes, that's the only thing that really holds the whole thing up.  I suppose I could make it so that it just uses old data for crashes if you really want to use a map/unmap instead of flush.\nPerhaps I did misunderstand or misread your vertex animation situation -- if so I apologize for needlessly explaining that.  I can understand how that may have seen condescending and probably didn't help.\nAs for the design debate, I will take back what I originally said about one being worse over another:  both your design and my original design are at least equally bad, because they both have crash cases -- that is what is truly objective.  In my case, I will acknowledge that it was: \"don't destroy the data after passing ownership, otherwise there may be a crash\".  However, with your case, it's at least equally as bad because: \"don't destroy/reallocate the data until the vertex buffer is destroyed, otherwise there may be a crash\".  These are both bad -- to say otherwise is to have cognitive dissonance.  Neither is normal.  It probably wouldn't be wise to go down the rabbit hole of arguing about whether one is better or worse.\nAs for me being condescending -- let's not forget the \"Workaround API stupidity in obs-studio\" hack as linked above, before I had even made the reply.  I think we are both equally butting heads here.  Yes, I do get upset as well.  It's normal for people to get frustrated with one another.  Programs, like everything else in life, are made by people, almost always with flaws of some sort.  However, make no mistake -- I do not consider myself \"better than you\" or any other human being.  The fact that I made the \"pass ownership\" thing in the first place with no other options is a clear sign that I am just as human as you are, just as you made an equally bad solution.  I do not look down upon you as some sort of peon just because I hold the executive power.  I acknowledge your potential and skill, at least when you put ego and emotion aside (as I hope you acknowledge I am doing here now).  You know I've told you these things in the past.  If I were in your situation and I wanted to use an API, but the API didn't allow for me to do the thing in the way that I wanted/expected, I would probably be annoyed too.  If you had caught me when I was designing it, perhaps I would have taken a different approach and realized this sooner.\nIt is difficult for me to compromise much here because of a few factors, the primary one being that I'm overworked at the moment and have higher priorities.\nI want to implement a map/unmap for the actual \"proper\" solution to allow you to use vertex data with vectors, but I'm not sure if I can do it right now.\nUnfortunately, there are three options:\n1.) Wait for me to eventually get around to making map/unmap functions,\n2.) Create the map/unmap functions in libobs yourself without having to rely on\n    me to do it for you (I don't think you'd enjoy that all that much), or\n3.) Learn to use vertex buffers as they're currently designed:\n- Call gs_vbdata_create\n- Populate members of that structure according to what you need with\n  bmalloc-allocated arrays\n- Pass that to gs_vertexbuffer_create\n- Use gs_vertexbuffer_get_data when you need the data, and modify it\n  accordingly -- without using vectors.\n\nI don't believe that last one is too hard.  That's how it's done throughout the entirety of the rest of the program, even in my own C++ parts.  I realize it's not what you want to hear, I realize I haven't been able to give you much in return right now.  I realize you want to create your vertex buffer wrapper the way you want to create it.\nI'm not going to accept the changes proposed in the pull request because they are no better than the way things currently are.  Allowing it would set a bad precedence towards other contributors, saying \"I allow people to code in hacks for convenience.\". Alright, I figured out a simple and effective way to solve the issue:  https://github.com/jp9000/obs-studio/commit/a46f0b4 and https://github.com/jp9000/obs-studio/commit/c111fa6\nThe direct flush functions will allow you to use your own data and directly flush to the vertex/index buffers without having to go through their internal data.  These are easier to use than map/unmap functions as well, so that should be an extra boon for you.  The internal data will still optionally be present in your use case, but will not be used for anything except for rebuilding the vertex/index buffers in case the graphics driver crashes.  This way, you can use your own vertex/index buffer data buffers without having to rely on the internal data at all, and without having to perform extra unnecessary copies.  Use the GS_DUP_BUFFER flag to create your index/vertex buffers with your own buffer data, then the gs_vertexbuffer_flush_direct and gs_indexbuffer_flush_direct functions to directly flush using your own buffers.\nHopefully this is acceptable for you -- it satisfies both of our conditions.  I didn't want additional technical debt, and you didn't want to have to rely on the internal data.\nThe admittedly flawed design of \"passing ownership\" was a hand-me-down from my game engine.  I do like that design as an option mostly as a convenience, but I definitely don't think it should have been the default and especially the only way to use vertex/index buffers.  This PR was a result of that technical debt I myself introduced from that design, so this was ultimately my own doing, I fully admit.\nJust in the future, two very important things I want out of code changes are:  that API isn't modified, and that technical debt does not increase (or is fixed rather than worked around).  I tend be pretty persistent when it comes to those two things.. Should be superseded by the sphinx documentation: https://github.com/jp9000/obs-studio/commit/d51e2a019bb6c166731800f25de035b1f99891f3. I'm guessing you didn't mean to make a pull request for whatever this is.  If you did intend to make a pull request, I'm not interested in it.. Fixed up the commit message a slight bit.. Squashed the commits and removed trailing whitespace.. Made some indentation modifications.  Kind of wish there was a way to use the main audio monitoring options in the UI, but due to the nature of the design it's sort of convoluted.  I suppose this will have to do for the time being I suppose.  Merging.. Merged via dab278e1b6. Great QoL fix.  I modified this somewhat significantly so that users can hide/unhide via the mixer itself, even things like global mix/desktop audio sources.  If all sources are hidden, the user can right-click the empty mixer area and select \"unhide all\" from a context menu, which will then unhide any currently active audio sources.\nI also added back-end API for custom settings on sources and scene items instead of having to add clunky API like this that applies only to the main OBS Studio UI.. Thanks, but I don't think typos/misspellings in comments are really all that critical.  Especially ones in dependencies.. Terribly sorry I haven't merged yet by the way -- I'm just finishing up something then I'll be getting back to all the pull requests.. We use FLV for the default format because it's the ideal format that doesn't have a footer, so if something happens (such as the computer crashing or running out of space), the file has no risk of failure.  MKV has some protections against this, but MKV isn't a common mux option either.  If people need another format, they can easily remux via the option in the file menu.. The actual reason why those buttons were added manually was because they needed translation, as buttonboxes do not seem to translate automatically.  I modified your PR so that it at least translates the buttons after they've been added in the way you add them.. Oh then the QButtonBox control is translating?  Hm, for some reason I was getting inconsistent behavior out of that then.  Well either way it's all good.. Removing unintentional whitespace changes, split it in to two commits, and merging shortly.. I'm rather confused about this pull request.  In most standard cases when handling navigational keys, it's almost always done through keycodes, not through a separate field, and not that special field being a bitfield of all things.\nAre navigational keys not currently functioning?  I'm unsure of what use case this pull request pertains to.. Could you explain what this pull request is ultimately for?  What happened that prompted you to make it?. Modified the wording a bit more -- merging.. Thank you very much -- I won't be able to do a thorough review it right away like with the rest of the PRs.  After I'm finished with what I'm currently working on, I'll take a look along with the rest of the pull requests.  Again thanks for this by the way -- I really appreciate it.  I've been a big bogged down with my own work lately and was going to do it, and you may have saved me a lot of time.. There were a few issues with this PR:\n1.) When changing the recording encoder, it wouldn't update the estimate.  I'm assuming you forgot to add the signal to that widget.  I added that signal for you.\n2.) When the encoder was set to \"use stream encoder\", it wouldn't start up.  I'm guessing you didn't quite test that case.  I fixed that for you.\n3.) When the encoding mode is set to something other than CBR/VBR/ABR, it should say that it's unable to make an estimate, and should display the option to set a maximum memory limit.  I added the maximum memory limit widget and fixed the estimate.\n4.) You changed the indentation of a few lines unnecessarily.  Might want to watch out for that in the future (always do a git diff on your code to see if there's anything unusual that sticks out in your diffs like that)\nI also tried to make it so that the tab itself goes invisible if FFmpeg is selected, but it seems you can't make tabs go invisible.  I guess you ran in to that same thing, so I suppose we'll just have to live with it.\nOther than those issues, from my testing it all seems to be working, even with multiple audio mixes.  Good work.  Merging with those changes shortly.. Not sure why github isn't showing PR <-> commit references anymore, this was closed via 9cba5660. Because the replay buffer output is an encoded output -- meaning it expects obs encoders.. This PR probably isn't all that necessary but I can see a case where it might close the media unintentionally.  I fixed this up a bit to abide by the commit guidelines and removed the second part that was changed because it does nothing.. I made my own fix for this in c9182a987885. I'm not merging this because it breaks other use cases like looping or when preloading video frames, where you are explicitly not supposed to call obs_source_output_video(s->source, NULL);.. What I mean when I say \"breaks\" is calling obs_source_output_video with a null value will make the source invisible and resize the source's dimensions to 0.  That's not something I want it to do.  Not to mention your particular scenario is pretty unusual to begin with.\nThe problem you're encountering with your scenario sounds more like that it's not preloading the frame, that's all.  Maybe you should be looking in to making it additionally preload in that circumstance.  This is what preloading was intended to fix.. Hey there again -- thank you for the pull request, but this should be an option, not something that overwrites and removes the previous functionality.  I put in the fade out/fade in for a specific reason.  If you dislike that functionality, you shouldn't be just removing that functionality and replacing it with the functionality you prefer, you should be providing the functionality you want as an additional option instead.. Thank you for modifying it this way.\nI also modified this further so it's a drop-down list with the two fade styles, and changed it so that it uses function pointers with the two mix styles separated in to different mix functions to ensure best performance.  You want to keep the instructions and memory accesses in those functions down as much as possible due to the frequency at which they're called.  Merging shortly.. Merged via 006fc35a2d. I changed this to be an option in general settings rather than the default behavior just in case the user doesn't want/expect this behavior.  I'm leaving it off by default for now just because I don't want to alert the current functionality and change functionality unexpectedly, but I might make it default to on in the future.\nMerging shortly -- you'll see \"closed in [commit hash]\".. Sure, I'll get back to you in a day or two.  Sorry on the wait.. I made a slight modification to this PR -- I noticed you were appending the \"Default\" item to the end of the list -- I changed it so it adds at index 0 instead.  Also with your strcmp it might be good to check to make sure the variable you're comparing isn't null, otherwise the strcmp will segfault if it's null, so I added a null pointer check there.\nMerging with those changes shortly -- it'll say \"closed from [commit hash]\".. Merging, but with the latest obs-vst version instead.  You'll see \"closed in [commit hash]\".. Thank you for fixing it up, though in the future make sure to squash your commits so that they're all in the same.  I'll squash and merge.  You should see \"closed in [commit hash]\".. I do like this PR quite a bit better than other proposals that have come before.  I'll accept this one.  Make sure to squash your commits however next time.  I'm going to squash your commits, then merge your changes.  You should see \"closed in [commit hash]\".. I'm confused, and I don't think this is necessary.  We don't really have trouble with curl with our builds.. I want someone here to give me a specific case where panning is useful to have in obs itself.. Going to close this because it's incompatible with the surround sound code.  However, keep this branch around -- there should be a way to adapt it.  If it ends up being too much trouble, we can probably just make an audio filter and limit its capability to stereo/mono inputs only.. I think it's working on all operating systems, the nature of the decklink SDK is that it's designed to work on all operating systems, although to use this PR, you'll have to compile it manually for now.  We would appreciate feedback, as that's what this PR is for.  We definitely need feedback on it, so if you could test it out for us and report back your findings (not just failures but also if it's working well), we would be most grateful.. I'm confused -- the audio monitor volume is already set by the regular source volume.  You want to have two different volume values?. I don't really like this right now.  I realize that some people might want this, but..  it just doesn't feel right to me, plus it modifies the back end a bit too much just to accomplish this right now, and I just don't want it yet.  I'll make some notes and think about other ways to approach this, but right now I just don't want it at the moment.  Just both due to user experience and complexity.  Keep the branch around though -- I may approach this again later on.. I rewrote this and significantly simplified how this works, and improved the user experience.  Now it just stores a specific transition/duration with the private front-end settings via the obs_source_get_private_settings() function, and instead of using a dialog box, it just makes it a sub-menu of a menu item in the scenes context menu, similar to how quick transition menus work in studio mode.\nMerging shortly, you'll see \"closed in [commit]\".. I don't want to add every single ultra niche feature.  You can always modify the program yourself and make custom versions if you need.  Every single change you need doesn't have to be in the public build.  Please also make sure to read the contribution guidelines in the future.. No need -- I'll add the version bump for you.  Merging with those changes shortly.. Nice QoL PR.\nThere was a bug with this where it would assume that a reference was incremented when using the VolControl::GetSource function.  Fixed it and it works great after that.  Merging shortly.. You had a comma at the end of that last json server entry when there isn't supposed to be commas on last entries.  Be careful to watch out for that.  I'll modify this and merge it shortly.. This should be fixed now and this PR should be unnecessary.  If it's not, feel free to re-open or let me know.. Making a tiny nitpick fix (you had some newlines omitted at end of two files), then will be merging shortly.  You should see \"closed from [commit hash]\".. Recreate a PR for each change you'd like, squash any \"fix\" commits that fix any of your previous commits.  For example, making a pull request that contains \"rtmp-services: Fix memory corruption issue\", and then two commits later adding another commit that reverts that commit is bad to have in a pull request.  Rebase your pull requests when that happens and force push the changes to your branch to fix the pull request.  If you don't know how to rebase, then learn how to rebase.  Additionally, your pull request has build failures that have not been corrected.\nMake separate pull request for each unrelated change you want to add rather than have a whole bunch of seemingly unrelated commits.\nNow, as for the last commit where you add a service parameter, I don't want that one.  I'd prefer it if you excluded that one.. You need to update this pull request with the package.json change -- not make a separate pull request for it.. Fixing the conflict and then merging.  You'll see \"closed in [commit hash of the merged commit]\".. Thank you for the bug fix.  The commit title for this PR needed to be prefixed with \"libobs-d3d11: \".  I fixed that, and am merging with that change.  You'll see \"closed in [commit hash]\" -- that'll be the commit.. Also something I just realized and actually missed -- avoid pronouns like \"I\" or \"my\" in commit messages in the future as well.  It's better to keep the subject on the bug itself rather than on the person who had the bug, if that makes sense; it makes for better commit messages.  It's a mistake I've made in the past as well.. @alexandrevicenzi -- You marking your approval on pull requests confuses contributors because they don't often realize that it's not the maintainer doing the approving.  Although I am grateful at the gesture, I would ask that you avoid doing that.. Unfortunately, I am not going to accept new plugins as submodules anymore.. Shaolin when you have a chance come by chat again.  I want to modify your branch a bit and want to discuss and update your repository.  I fixed up a number of things -- fixed the bugs, crashes, modified some of the design, removed the magic numbers, just generally a lot of refactoring.  I really like this feature so I want to see it get merged, though yea, the details on how users can use it might need a bit more ironing out later.  Still, I think it's actually pretty good as-is even displaying the first 8 scenes, we can probably work out on how to whitelist/blacklist scenes from the multiview later if you want.. Someone else suggested being able to click it.  It's definitely possible to do but a real pain for now.. I hope you don't mind but I changed this to DISABLE_PLUGINS.  It's a bit more consistent with other variables in the project (neither are technically wrong).  Also when just modifying cmake stuff, I think using a \"cmake: \" prefix might be a bit better, or at least that would be consistent with the way we've done it in the past (again neither are technically wrong).  Merging shortly.. Thanks for adding this, it's been something people have been requesting.  I made a slight modification to this:  I added a context menu to the program view, put \"Fullscreen/Windowed Projector (Program)\" there which projects the right program view, and then made it so the normal \"Fullscreen/Windows Projector (Preview)\" in the preview's context menu actually projects the left preview instead of vise-versa.  It feels a bit better that way, and prevents cluttering up the preview context menu a bit.\nMerging shortly, you'll see \"closed in [commit hash].\". Very tiny commit for something that feels like a significant change.  I modified the option so that it's in general settings rather than advanced settings (because I think most people won't find it otherwise), and I also modified some of the variable names so that they aren't so long (always try for shorter variable names when possible).\nMerging shortly, you'll see \"closed in [commit]\".. You need to make sure to rebase and fix up your branch in the future.  You need to spend some time learning how to use git a bit more.\nI fixed your commit issues, merging shortly -- you'll see \"closed in [commit hash]\".. Made a tiny little nitpick of a change -- merging shortly.  You'll see \"closed from [commit hash]\".. I notice you're removing the \" - dc->frame.origin.y\", but not the \" - dc->frame.origin.x\" on the line above it.  Why?  That seems rather inconsistent.. Let me know when you have a chance to respond to this.  Closing for the mean time because I'm not sure these changes are really accurate as-is and weren't thoroughly investigated/tested with different monitor setups.. Have you tested with monitors in all other possible orientations?  For example, it could work when you have your secondary monitor's orientation set as the \"right\" monitor, but it might not work if you have its orientation up above relative to the primary monitor.  The reason why I'm bothered by this code is the fact that you changed the Y and not the X makes it feel like \"this code worked for my specific case, but I don't know about other cases because I didn't/can't test them\".\nIn other words, are you absolutely 100% positive that your code is the correct code and not just the code that works for your specific case?. You need to include the \"CI: \" prefix in the future.  Merging shortly.. I fixed up the pull request a bit due to my changes to your libdshowcapture PR.  I also put the specific reason for the commit in the commit message (improving user experience due to the fact that users would have to manually select the audio to get it working otherwise).\nMerging shortly, you'll see \"merged in [commit]\".. Please make sure to capitalize your commit title after the prefix in the future.. Already fixed here:  https://github.com/jp9000/obs-studio/commit/6461b63\nThe projectors were actually swapped.. I fixed this a bit to prevent possible memory leaks.  Merging shortly, you'll see \"closed in [commit]\".. Additionally, just wanted to note that this check takes approximately 500ms, increasing load time by a notable margin.  We may want to consider a more proper way to perform NVENC detection in the future rather than actually initializing an encoder context (see OBS1's code, or the crucible NVENC code on forge's repository by Palana).  However, for the time being, it's a sufficient workaround under time constraints.. I'm reposting this here just so people can see this:\nWhen making commits, you want the title of your commits to start capitalized (additionally, you have the wrong module specified in your commit message).  So for example, instead of obs-ffmpeg: fix compilation with videotoolbox constant, use deps/media-playback: Fix compilation with videotoolbox constant, or even something like deps/media-playback: Fix compilation with older FFmpeg versions would be fine as well.\nYour commit message is also vague.  It says, should finally fix ticket 1045, however no one reading that really wants to go look up a mantis issue ID to know why the commit was made.  The commit message should fully specify what the commit is for, even if it's a repeat of the stuff that's on mantis.\nThe message should finally fix ticket 1045 should instead be something like:\n```\nFixes an issue where media-playback would not compile with older FFmpeg\nversions due to the fact that the AV_PIX_FMT_VIDEOTOOLBOX was\nunavailable until version 54.31.100 of libavutil (FFmpeg 2.8).\nFixes mantis issue 1045.\n```\nAdditionally, you should generally never have a \"should\" in your commit message, or something implying you don't know if your changes work or not.  You generally want to avoid that sort of situation unless it's completely unavoidable for some specific reason.  I'm assuming that you didn't really mean to say that though -- just something to keep in mind for the future.\nI checked the FFmpeg repository, and AV_PIX_FMT_VIDEOTOOLBOX was added in FFmpeg version 2.8, which was released in 2015.  I'm assuming this is affecting some very old LTS linux release hence why you're submitting this.  This constant is a avutil constant, not an avcodec constant, and was added in avutil version 54.31.100.  It would probably still work fine that way, but it wouldn't really be accurate.  You should try to take caution to make sure to check the right version of the right library.  You can typically do this via git blame, and performing checkouts of release tags.\nI fixed this for you, merging shortly.  You'll see \"closed in [commit].\". Still might need some tweaking it seems.. Why?. I got rid of the large parameter list for the mp_media_init however.  Merging shortly, you'll see \"closed in [commit]\".. I don't know what server you're using where this would be causing you problems, but I cleared up a possible null pointer deference.  Merging shortly.  You'll see \"closed from [commit]\".. There were some trailing whitespace and code styling issues.  Careful with that in the future.  Merging shortly, you'll see \"closed from [commit]\".. Audio buffering does not lead to desync.  Audio buffering is completely normal.  I actually do not see a purpose for this pull request.  If you are having desync, it is not caused by audio buffering.  Audio buffering just simply adds latency -- nothing more.  It does not alter or impact sync.. In the recording I'm not getting any issues from the media source when using your replications steps, so I'm rather confused.\nFurthermore, I wrote another test for audio buffering here in addition to this, which has both video/audio:  https://github.com/jp9000/obs-studio/commit/dd8cf409d0f35253813b3dd4d5e2bfa5ecc31fc2 -- it artificially induces approximately 750 milliseconds of audio buffering and instead of an on/off cycle, it uses 7 frequency cycles to ensure that audio/video are in the right place with no chance of any sort of placebo scenario.  That test was also successful and there were no playback issues there.. I think there must be some sort of communication breakdown going on because there's nothing here affecting audio sync, yet the word \"sync\" keeps being used here.  Are you sure that you're using the right wording here?  Buffering does not affect audio/video sync from any testing that I've done as of yet, including the steps you listed.  It can happen in response to something going going out of sync if the audio timestamps are bad for example and audio timing goes below video timing on a source or something, but the buffering itself is not and cannot be the cause of sync issues -- as of yet from my testing.. Super minor nitpick - just changed the second if to an else if.  Merging shortly.  You'll see \"closed from [commit]\".. Not quite the typo -- the function parameters were also wrong.  Merging shortly.. This fix was incorrect.  The bug was that it did not release the scene reference in UI\\window-basic-main-transitions.cpp:344 due to the \"!direct\" check.  Merging the fix shortly.. I modified this slightly so that it'll only memset on mixes that are actually used.  Merging, you'll see \"closed in [commit]\". Fixing up the styling, then merging.. We have the ability to save projectors, so this shouldn't be necessary.  I'm guessing you weren't aware of it.. Merging this one manually.. Top notch pull request.  A slight API change, but worth changing the API for.. I would prefer not to have to update at more than a 1 second frequency if possible.. I changed the prefix of the commits to \"UI\" (indicates the module being modified).  Merging, you'll see \"closed from [commit]\". Woops, unintentionally closed this.. Hey there, welcome to the project, I don't believe I've seen you before.  Good fix, it's along the lines of how I was intending to fix it eventually.  A simple/elegant solution, although there were a few problems with this pull request:\n1.) Your commit title and message did not follow our guidelines, and the commit message was much more data than necessary.  It should have been \"libobs-d3d11: Allow multiple display captures of same monitor\" or something similar, present tense, with a short and concise commit message explaining the commit.  We use the 50/72 style of commit messages.  Please see the contributing guidelines before making a pull request.\n2.) Your code also did not follow our code styling.  I don't quite understand how this happens, I'm guessing you didn't really look at much of the code before modifying it, it's a bit frustrating that some people don't realize that there are other coding styles out there other than the allman code style.  Again please see the contributing guidelines.\n3.) You didn't take in to account the fact that it would unnecessarily call IDXGIOutputDuplication::AcquireNextFrame multiple times in a single frame, which would reduce performance unnecessarily and cause additional unnecessary texture copies.  I fixed this so that it checks to see if gs_duplicator_update_frame has been called in the current frame, and if it has been called, it ignores the call and continues.  When a gs_flush has been called, it'll reset the update status of all the current output duplicators.\nStill, it was the right direction.  Just in the future when contributing to any open source project, try to be aware of their code and how they operate their project, look at their commit history to get a good gauge on how they make commits and how they code, and read any contribution guidelines so that the maintainer does not have to fix the code or force you to have to rewrite it.  I am probably one of the few that doesn't mind fixing pull requests for the contributors, especially if it's small and I like a contribution enough (and I definitely like this contribution, great work).\nI'm merging shortly with the fixes, you'll see \"closed in [commit]\", that will be the merged commit.. Hm, well either way it's no problem.  Thank you for this, it was a small and simple fix that probably should have been done a long time ago.. I changed the localization wording and variables to \"decay rate\" rather than \"return time\" because \"decay rate\" feels unnatural, and is inconsistent with the rest of the code.  I also slightly adjusted the positioning of the decay rate option, and put it at the bottom in audio settings.\nMerging shortly, you'll see \"closed in [commit]\".. We use 50/72 commit guideline -- specified in the commit guidelines.  When possible try to use an editor that automatically formats that for you.  Also I prefer two spaces after period, but I removed that part anyway.. I'm sorry for not having responded to this sooner -- I'm juggling a number of different things on the project and so pull requests often get delayed.  I'm going to try to respond more promptly to pull requests in the future.\nThe pull request is a great first step.  The way you designed it to browse files and automatically add new values is pretty much exactly how it should be done.  However, there are a number of issues with this proposed change:\n1.) On the top of the list box, there are three sections:  the first section is a tiny little blank space, the second section is \"OBS Recording\", and the third section is \"Target File\".  That section on the left seems unused, and should be removed.\n2.) I can't help but feel there needs to be the ability to mux directories, or at least select multiple files in the file open box.  Otherwise this isn't much of a \"batch\" remux because you have to continually select each file manually.  This makes it tedious to use on many files.\nPlease let me know if you are willing and have time to fix these issues or not.. If you're unable to remove that left column then that's okay.  I think the key important thing is just that users need to be able to select/add multiple files at least.. Well, actually the close button is useful because on Linux, because unfortunately on Linux there is no X button like on windows/mac.. It's gnome 3, the most common one.  You can close it via right-clicking on the title bar and closing there, but otherwise it's nice to have the buttons available.. I know it's taken me a long time to finally get to reviewing this, so I'm going to fix up the merge conflicts and code styling issues for you in this particular case.  I also changed it so that it automatically starts editing the first value so the user knows they can edit/add items a bit more easily (just a minor user experienced improvement).  But you did a superb job with this.  Thank you for making it, and apologies for taking a while to get to it -- it was just a lot of code to review so sometimes I put things on the backburner.\nMerging with those changes shortly -- you will see \"closed via [commit]\". This code doesn't fix anything -- it's supposed to erase the audio buffer of any size.  if you have a problem and can replicate that problem, please post it on our bug tracker and I'll take a look at it when I see it posted.. Merging shortly, you'll see \"closed in [commit]\".. Taking out the second commit -- there's a \"script_path()\" function you can call in scripts (no namespace) which will return the script's current directory.  Merging shortly, you'll see \"merged in [commit]\".. Definitely a good example.  There are a few things to note:\nBecause you draw multiple textures it needed to be marked as a \"custom draw\" source (the OBS_SOURCE_CUSTOM_DRAW output capability flag on the output_flags).  Additionally the blend state needs to be reset each time otherwise it'll pass blend states -- for example if you enabled scene item filtering, the background would just vanish due to the blend states varying.\nThere was a bug when drawing the hour hand, you were dividing the hour value by 60 when it needed to be 12.\nThe time is also UTC when using os.time(), so I changed it to use os.date(\"*t\") which will get the time according to the current system  time zone.\nAnd the last thing is that the clock and textures were super big, so I cut the size down by half (500x500).\nAlso I added a script description.\nGreat example of a lua source -- merging shortly.  You'll see \"closed in [commit]\".. No no, Fenrir -- this is honestly probably the best way to do it, through FFmpeg.  The other branch implementing it ourselves is likely always going to be more of a waste when FFmpeg already has an implementation.  If I can get some tests rolling on this I think I'll be likely to merge this at some point.. Wait you grabbed this from someone else's repository?  @GloriousEggroll was this yours originally?  Sorry, I didn't even realize.  Could you make a PR for this when you're ready with it?  I'm going to close this until the actual author of the FFmpeg VAAPI encoder implementation is ready to submit it.  But I will be very likely to merge an FFmpeg implementation of this if someone manages to get it working without any major issues.. Alrighty!  Well once you feel it's ready, feel free to make a pull request for it.  Thank you (to both of you) for doing that by the way.. The latter two commits do not conform to commit message standards.. I didn't mean for you to delete this, the code seemed fine.  To fix commit titles, you can do so via an interactive rebase with git.  It sounds intimidating but it's actually pretty simple.  You'd type for example \"git rebase -i master\" for example to edit any commits on your branch since master, and then you'd mark the commits you'd like to reword as \"reword\", then it'll allow you to edit the commit messages for them again.\nI probably would have helped and fixed it for you, but I've just been busy getting this deployment out these past few days.  It's just the speaker layout so it's not a huge deal, although if you have time feel free to recreate the PR and I'll merge it.. Looks good, just going to remove some of the unnecessary styling changes from this commit then I'll merge.  You'll see \"closed from [commit]\".. I resolved the conflict this commit had.  Merging shortly.  You'll see \"closed from [commit]\".. You had a bit of a submodule issue there, I fixed it and will merge shortly.. I modified the commit message a bit.  Merging shortly.. You're only changing one plugin with this commit, so I suppose it may as well use that plugin's module as the prefix in the commit title.  Just changing that, then merging shortly.. I'm fixing up those notes really quick, then going to merge.  Additionally, make sure the description part of your commit is word wrapped at 72 columns in the future.. Also, there was a bug with the user interface widget -- I'm not sure if you used Qt designer, but the widget was showing up at the bottom of the window for some reason.  I fixed that for you as well.. I added the necessary prefix to the commit title.  Merging shortly.  Make sure to put \"rtmp-services: \" at the start of the commit title when modifying the rtmp-services module.. Please include the use case.. I understand you may personally need things like this -- but I am hesitant to try to fill every single niche edge case on the main repository.. I changed it to flash red originally.  I don't want that change reverted.  I would be willing to accept something to make the red flash stay around longer, but I specifically want it to flash red when it clips so the user has a clear indicator that it's clipping than just being high on the meter.. Fixing up that styling inconsistency, then merging shortly.. I changed this so that it makes the additional log line a bit more compact, and if it's not running in a YUV color format it'll just say \"None\".  Merging shortly.. I made some minor style changes.  Merging shortly.. I modified this commit to fix these three issues:\n1.) There was a few compiler warnings for converting size_t to int\n2.) Some of the code went over 80 columns, fixed it to 80 columns max\n3.) The commit message went over 72 columns, fixed it to 72 columns max\nWill be merging this shortly.. I prefer it to just hold for one second.  Also, I think QTimer::singleShot is probably a bit more simple for this case.\nAdditionally, the clip color is already available to theme files, and doesn't really need an additional property.. So, what you are proposing with this fix is basically that (tex2_offset + aligned_tex) has a possibility of being outside of the boundary of the allocation -- in other words, you felt that the total_size could potentially be insufficient depending on what the pointer alignment was, the texture's pitch/height, and the size of the shmem_data structure was.\nSo, to find out whether that is actually true or not, I programmed a test using a variety of combinations of hypothetical starting pointer addresses (basically an offset of 0-31 just to be even more complete), texture sizes (1-4000 for both pitch and height), and structure sizes (of a hypothetical \"shmem_data\" struct, but for the sake of completeness tested sizes of 1-1000) to see whether (tex2_offset + aligned_tex) would ever be outside of the allocation's boundary.  Via that test, it never exceeded the pointer's memory boundary.  In other words, you're trying to fix something that wasn't broken.\nI'm assuming that this fix was made without actual testing or any actual encountered case where this fixed a problem you were having.  In the future, please make sure to perform tests and provide proof via those tests before attempting a fix of what you think may be a bug.. I really have to apologize, I should have asked you to clarify further before assuming what it was you were having problems with.  The reason why I was confused is because your original code just added a \"+ 32\" to the \"total_size\" variable, which was an incorrect fix: https://github.com/jp9000/obs-studio/pull/1202/commits/9bff5eaeee495b0ad96d08941f04daba5261c00c -- that commit would not fix align_pos being the wrong value as you state.  That commit made me incorrectly assume that you thought \"total_size\" was insufficient size for the memory allocated, which was not true if you don't modify the \"align_pos\" code.  In that commit I just linked, there was no change to \"align_pos\", hence my misunderstanding.\nSo I understand now -- the problem wasn't that the total memory size was insufficient and that the memory was out of bounds, the problem was that the offset of the first texture can intersect with the structure (depending on what the pointer's address was).  I see the problem.  Technically, the correct fix for this is here:  https://github.com/jp9000/obs-studio/commit/8a16fa8341821689e04f5a46cc3d06f44a46caef. Again I really apologize for the misunderstanding.  Thank you for reporting this bug.. I modified this slightly so that the obs_video_info::graphics_module variable is not be exposed to SWIG, because it was generating a warning otherwise.  Works fine either way.  Merging shortly.. I changed the old one to a deprecated function.  Merging shortly with that change.. This is something you should do from a script via Lua or Python rather than hard-code it directly in to the text source.  See the script examples that come with the project.  I'll link you to a similar example of where a timer is implemented and shown on a text source:\nhttps://github.com/jp9000/obs-studio/blob/master/UI/frontend-plugins/frontend-tools/data/scripts/countdown.lua. Also I plan on fixing some scripting issues in upcoming subsequent patches to make scripting a bit easier.  It's a little cumbersome to use at the moment due to having to manually free/release objects.. You had some trailing whitespace and incorrect code styling.  I fixed this and will be merging shortly, you'll see \"closed in [commit]\".. I'm assuming you didn't test this on all three primary operating systems.  This is safe to do on windows, but not on other operating systems.  On macOS for example, if you open the properties window, then set the main window to always on top, then try to close that properties window, the program will crash.  This is presumably because way the \"always on top\" feature works and can be modified varies between operating systems.  On some operating systems, such as windows, you can do this safely because internally the Win32 API can change the state with no issues.  On other operating systems such as macOS and certain Linux window managers, the entire window hierarchy has to be recreated internally.  The macOS crash is probably a bug with Qt, but none-the-less, the dialogs should still be closed on non-windows systems just to be safe.\nI'm modifying it with that change then committing.. Automatic removal after 30 days would be perfectly fine, it's good to keep the text server clean, and it's what I would do if I were to program my own log uploading (which I currently don't have time to do).  Basically it would be the most ideal replacement.. Your indentation is a bit off.  Make sure to watch that in the future.  Indentation for these json files is 4-spaces per indent.  Fixing and merging shortly, you'll see \"closed from [commit]\".. I'm adding the first commit for now, the second part of this commit I'd rather you wait until the new source list widget is finished.  Also the word you're probably looking for here is shortcut rather than hotkey.  Shortcuts are specifically in-program, where as hotkeys in our context are OBS hotkeys, which are global hotkeys.  The wording is important to prevent confusion in commit messages/code.. Hi there -- you should not have \"fix up\" commits as part of a pull request.  You should rebase and squash that third commit in to the previous commit, then force push back to this branch.  It will then automatically update the pull request.. I modified this so it locks, grabs a reference to the first filter, unlocks, renders the filter as before, then releases the reference.  It's a bit more optimal than holding the mutex locked for the duration of the rendering.\nMerging with those changes shortly.. This project is not meant to be built as a subproject of another project.  If you need to use the libraries externally, use the helper cmake files provided here, or something similar:\nhttps://github.com/obsproject/obs-studio/tree/master/cmake/external. Could you explain the issue you're seeing with this a bit more in-depth?  The Action::Activate item is not supposed to block.  It's meant to be asynchronous and the device is supposed to start sending data when it's finally activated.  Update calls are not really meant to block for long, and devices can take upwards of multiple seconds (or in rare cases more) to activate, which would block the graphics thread, causing stutter in the output.\nWhat's the race condition you're referring to?  A race condition would cause a permanent lock or a crash, and I've never heard of or encountered the win-dshow doing that unless the device itself is stalled.. I think I'm starting to understand how you got this issue.  When you try to create a win-dshow source for a specific device, and another win-dshow source with that device already exists, that second source cannot initialize because the operating system only allows there to be one instance of video devices active at any given time -- so that second instance will fail to initialize.  Is that what you were experiencing?\nIndeed, making the source's update call wait for initialization would likely fix the issue, because all \"obs_source_update\" calls are deferred to the graphics thread, and second source would not be able to call its update call until the first had finished.  However, the reason why this is not an ideal solution is because it would cause a very large stall to the graphics thread -- and a very large stall to the encoding and output, causing a burst of 2-3 seconds worth of video and audio frames.  It would also risk increasing the program's network latency by roughly that amount, causing more delay from streamer -> viewer.\nI am almost totally positive this is the issue you were seeing, because I'm guessing you were recreating scenes very quickly due to what you want to do with overlays.  I will be operating under this assumption, and if you think I'm incorrect please let me know.\nSo, assuming that this is the issue you encountered, and you were recreating either scenes or scene items very quickly, to solve this issue we will need to add some functions to allow synchronous destruction of sources.  And/or some way to signal when sources are fully initialized.  If my assumption about your issue is correct, then the fundamental problem is that there is no way to \"wait\" for a source to be fully destroyed.  However, there is a way to solve that.\nInitialization of a source can take a long time, where as termination should take much less time.  Would that be sufficient?  Having the ability to allow you to wait for destruction of sources?  Or perhaps having some signal to indicate full initialization of a source and/or scene?  Because stalling the update call like this would cause the entire backend output to stall, so ideally if you need to stall it should be somewhere else, like the UI thread.  I can implement a way to \"wait\" for either initialization and/or destruction if needed, although I would prefer not to have a wait inside the update call.. I apologize for not explaining what I meant, it already does wait on Action::Shutdown via the WaitForSingleObject call in the ~DShowInput destructor:  https://github.com/obsproject/obs-studio/blob/master/plugins/win-dshow/win-dshow.cpp#L224-L235 -- so that's not what I was meaning.\nWhat I was meaning was I would add an API -- for example, obs_source_wait() or obs_source_remove_wait() or something like that to you could call that would allow you to remove a source and then wait for the source to be fully destroyed, thus allowing you to wait before creating the new source or a new scene.  A scene-specific version such as obs_scene_remove_wait() that could wait on all the sources and then the scene itself to be fully destroyed before creating/adding your new scene.  Hopefully I'm making sense.\nCurrently, sources have a \"destroy\" signal, but it's a bit of a pain to use, so I feel this may be a bit easier.\nOr, if you'd prefer, we could implement a \"block\" or \"synchronous\" settings in to the win-dshow plugin and similar plugins, and cause this line to block in your UI call:  https://github.com/obsproject/obs-studio/blob/master/plugins/win-dshow/win-dshow.cpp#L218\nAlthough again, initialization of video devices takes a significant amount of time, so the thread calling obs_source_create would block for a few seconds.  Blocking on destruction may be more ideal.. Well the reason why waiting on source/scene destruction would be more ideal is because it would decrease the amount of time your thread would be required to block.\nI don't mind having either method implemented (or both), I'm just stating that it would prevent your thread from stalling because destruction is much faster than creation for devices.\nI don't want to change how operations are asynchronous by default, though I don't mind having the ability to optionally make things synchronous (or at least have the ability to wait on them).  On either creation and/or destruction.  We could add a \"block\" setting for win-dshow (off by default), which would cause it to wait for the activation to complete.\nI suppose this sort of thing really applies for all of these pull requests, these aren't technically race condition bugs, they are more just that you have no way to way to wait for backend operations.  If methods were provided that allow you to wait for these operations, without necessarily changing the asynchronous nature of the back-end, I think that would be more ideal than potentially (and unwittingly) causing blocking in the back-end.. I would be willing to accept that, off by default, if that's what you wish.  I would like to emphasize again that it would cause obs_source_create to stall for a disproportionate amount of time.  It should really only apply to the Action::Activate in the DShowInput::DShowInput constructor -- DShowInput::Update calls should not stall however because subsequent update calls are always called within the graphics thread, which would cause the negative effects explained above.. We have to avoid changing the the default asynchronous functionality of the back-end, and avoid changing the API/ABI, but I feel there are plenty of options/ideas for implementing the ability to wait for specific actions to occur, like creation/destruction/updating in particular.  The backend currently doesn't provide any such functions at the moment, which is causing your current dilemma.. That would be acceptable for the time being.  It'd be sort of a necessity in this case anyway.. Sorry for not responding right away -- I'm going to do some testing on this with some of my devices.  I'll get back to you.  Sorry if I'm not able to respond right away because I'm often juggling a few things at once.. I made two modifications:\n1.) I squashed the commits (you can always rebase/amend and then force push to your pull request's branch in the future to update the pull request).  Generally you'd like to avoid having \"fixup\" commits in a pull request.\n2.) I changed the names a bit to make it more clear about what these functions do.  Instead of:\nobs_frontend_save_suspend and obs_frontend_save_resume, I changed the naming to:  obs_frontend_defer_save_begin and obs_frontend_defer_save_end because of the fact that you save after resuming, so this naming is more in line with the functionality you're implementing.  I feel the naming also helps indicate specifically how the functions should be used a bit more clearly (calling begin and then end).\nMerging shortly, you'll see \"closed in [commit]\".. This is more of a bug with how the browser plugin compiles -- I'm closing this because I'm going to fix the browser plugin so that jansson is not longer necessary for it.. The \"SLIFix\" locale modification was specific to game capture, and is meant to be used usually when using SLI specifically.\nThe compatibility mode options in window/monitor capture are not for SLI, but instead more for use with laptops that have multiple GPUs.  That's why this locale change wasn't added to window-capture.c either.. Same comment as per the monitor capture change.  The \"SLIFix\" locale change is meant specifically for game capture and SLI, where as for monitor/window capture, compatibility mode is usually used in laptop cases with multiple GPUs.. This is an acceptable solution for the time being.  It would be nice if users could change the order themselves, and it would remember the order, but for now beggars can't be choosers and this is better than having the order change every time the program is restarted due to hashing.\nOne tiny nitpick about your commit: in the future, please make sure that the title of your commit (after the module prefix) starts capitalized.  For example, \"UI: Sort audio controls by source name\" instead.. You had a warning in your commit:\nui\\adv-audio-control.cpp(16): warning C4100: 'layout': unreferenced formal parameter\nOther than that looks good.  I'm going to fix that warning, then merge.  You'll see \"closed via [commit]\".. This pull request is not acceptable.  Your commit diff is a mess, changing code styling everywhere unnecessarily, causing the diff to have thousands of lines of changes unrelated to what you're trying to do.  I have no idea what you even changed because there's so much junk changed that is unrelated to what you're trying to do.  You have \"fixup\" commits that should be in the main commit, yet are in separate commits that you committed after as a \"fix\" to the first commit.  You changed a non-english locale file when the only language file you should change is en-US.  The commits and commit messages aren't in accordance to our guidelines.\nI apologize if this seems harsh, but it appears you didn't read the contribution guidelines at all.  It seems like you didn't even take a look through the project's commit history to see how we do things.  Respectfully, you'll have to start over again from scratch before I'll accept any changes you're trying to do.  This is non-reviewable as-is and can't be accepted.. I modified the commit message and comment slightly just to be a bit more clear.  Merging shortly.. (Also make sure to squish your commits in the future). The underscore is intentional -- it doesn't break compilation on any of our builds.. Although I appreciate offering your personal customizations to this script, I don't think it's necessary to modify the one that comes with OBS specifically.  The main point of this particular script is to be used as a simple example that you could copy and customize to your uses (as you are now).  I'm not sure I feel it's necessary to push these sort of customizations upstream however.. This causes a startup crash on windows, almost at random points during startup.. Okay, this appears to be working okay now.  I'll fix the conflicts and merge.. We could have it a three-state widget or something.  I kind of wish we could communicate to the user more easily what mode it's in so they don't get confused by the \"monitor but mute output\" mode.  Tooltip?  Status bar message?  Context menu?\nAdditionally, this could be put as three menu items in the \"configure\" context menu instead, and the options and what they do would become more clear.\nJust throwing out ideas.. I suppose that's true, if you monitor then mute then that would basically do the same thing as the third state.. Hm, I'm starting to think that yea, we may just have to change the API after all like @Himura2la suggested.  I'm beginning to see that @Himura2la was correct about this from the beginning.  I might help out with this, because I realize now quite clearly that what @Himura2la suggested is clearly the better design.  I wish I had thought of that from the beginning.\nI might take a crack at modifying this to his specifications -- but I do plan to merge this sooner than later.  This is actually a pretty important UX improvement if done that way.. You don't necessarily need to close/remake a PR just for the record.  A PR is just a remote branch.  If you fix up (rebase) your branch, then do a force push to your github fork, it'll automatically update the PR.. You didn't have to close the pull request.  A pull request is just a remote branch.  All you need to do to modify a pull request is push or force push on to that remote branch.. Ah, I see.  Alright, that was probably for the best then, you generally don't want to PR something on your fork's master branch.. Sorry for having delayed this.  I did actually end up looking at it, but I had an issue with compiling and headers, despite having the required package -- I'll give a detailed report when I get back to this, but have been a bit overworked recently.. Hey there GloriousEggroll, apologies for pining you on here, just wanted to let you know what was going on before I merge your code.  I finally managed to get my network sorted so I can use my linux machine properly again.  Just wanted to let you know that kkartaltepe didn't mean any harm -- he didn't try to change any of your code, he just cleaned the styling, fixed a magic number, and that's about it.\nAs for the header issue I had, it was because ubuntu 16.04 only had FFmpeg 2.8, and the libavutil/hwcontext.h file you used required FFmpeg 3.1 minimum, so that's why it didn't compile for me at the time.\nSo, what I did was I fixed up the 3.1 requirement, and fixed up the additional warnings.  I tested it and the encoder appears to work great.\nI will be merging your PR shortly with my additional fixes -- you'll see \"closed from [merged commit]\".\nThank you for making this, great work.. Fixed the conflict and made the title reflect the fact that it's affecting both the windowed projector and the stats window.  Merging.. Despite my review, I'll probably allow most of these things I commented on, so you don't necessarily have to change everything I commented on -- that would probably be a pain.  I'm going to give it a few more days to let you decide whether you want to act on those commit changes or not, but they're not a huge deal as long as you learn from them in the future I feel.\nYou're getting really good at bigger pull changes, which is not easy to do.  Your diffs are getting much better.\nIdeally, what you want to do before submitting your PR is use github's compare feature for your branch, and examine each commit individually to see if they feel right to you and don't have anything out of place.  Imagine yourself in the reviewer's shoes looking at each commit to see how you would feel about the changes.\nThe one thing I do want you to consider changing (or solving) is the configuration value change.  You changed an ini user configuration variable from a string to an int, which breaks the user's previous configuration for that one particular setting (causing it to \"reset\" to a different value).  I'm unsure if this was intentional.  One way you could approach solving this is to write something that converts old values to new values, I've done that a few times.  That would allow you to just simply add one extra commit to this branch, rather than necessarily having to go back and edit your previous commit.\nIt's just not really a nice thing for user experience when a program breaks existing user config settings with a new version, so that's really the sole important issue of this pull request that I can see so far.. This patch makes it so that \"paste filters\" is always enabled even if you haven't clicked \"copy filters\".  I'm unsure why you changed that.\nBut even with your other patch applied, if filters haven't been copied first before using \"paste filters\", this still causes a crash.  This can't be accepted until that crash is resolved.. Made slight modifications:  Added the functions to the sphinx docs, changed \"obs_output_flags\" that uses the output type id string to \"obs_get_output_flags\" to keep it consistent with other API (and yea, the naming conventions of the current API aren't perfect either).  Merging shortly.. I think the problem with remuxing multiple files at once is a flaw with the dialog the the other pull request intends to fix.  The dialog really should not be opened multiple times at once.\nI am modifying this so that it's more similar to the stats window with its modality.. I'm unsure how I feel about the idea of preventing a user from using certain keys for their hotkeys.\nI do agree that the way hotkeys are blocked is very confusing for users typically however.. Additionally, I'd like to note that the description part of your commit messages should wrap words when they're past 72 columns.. Okay, so we can all agree that implicitly blocking hotkeys while the window is in focus is confusing.  However, I don't think that means we should block a user from using specific hotkey combinations.  Instead, I'm going to add an option to allow the user to choose the behavior of hotkey blocking when the window is in focus.. Additionally, your commit messages don't follow the commit message guideline.  This is what your commit message looks like raw:\nUI: Save screenshot of main output to PNG\nAdd screenshot settings section\nAdd screenshot output directory setting\nAdd save output screenshot hotkey binding\nAdd swscale swresample libs to UI CMakeLists.txt\nUse existing ffmpeg bindings to save to PNG\nUse obs_add_raw_video_callback to get video frame\nThis is how is should look more ideally:\n```\nUI: Add hotkey to save screenshot of preview\nAdds the ability to save screenshots of the preview to PNG via hotkey.\n```\nFirst line should be no more than 50 characters (excluding prefix), second line should be blank, and the rest of the lines are used for the detailed yet concise description of the commit (word wrapping at 72 characters).. @zavitax Ah, it's because it uses obs_add_raw_video_callback().  obs_add_raw_video_callback() gets the output post-scaling.  (E.G., in video settings, set the \"Canvas/Base Resolution\" to 1920x1080, then set \"Output/Scaled Resolution\" to 1280x720 -- the screenshot code will only be able to get an image for the latter size, not the former)\nI now realize in retrospect that may have been a mistake -- there may need to be a custom render solution for getting a screenshot after all.. It wouldn't make sense to add that.  It would only be used for the screenshot code alone.. The only primary issue remaining is mostly just where to place the screenshot browse button.\nI'm also considering whether we should adapt this to be similar to the crucible-style screenshot provider, where you can get a screenshot of things other than the main preview, or perhaps whether we should at least make the code extensible to do that in the future.\nI'll take a better look at this once I've finished up version 22.. Making a tiny change to the commit title, then merging.. Hi there, thank you for the PR, however I have some disagreement with adding these specific settings directly as OBS settings.  Instead, I would prefer an option similar to how x264 works for advanced settings (its \"x264opts\" setting), where you can use a settings string to specify additional settings that are available.  I realize that this may be a bit frustrating, but I would prefer to respectfully reject it in favor of using a settings string instead.\nAdditionally, there are a few important notes about your pull request:\n1.) You didn't follow the contribution guidelines.  Please see RytoEX's review comments, and read the \"Coding guidelines\" and \"Commit guidelines\" sections of https://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst\n2.) You have multiple duplicate commits, and an unnecessary merge commit.  This is usually an indicator of lack of git experience.  I'm assuming you performed a merge rather than a rebase.  You should have rebased to fix the commits of your pull request and then force pushed to your fork's branch associated with this pull request (although in this case you used your fork's master branch, which you typically shouldn't do with a pull request).  I would also recommend taking the time to review our commit history, as that can give you a pretty quick understanding of how our commits and code normally look.\nI will be willing to allow the additional NVENC settings, however, I definitely have to opt for an options string rather than have additional advanced parameters as properties.\nI realize that having proposed changes can be frustrating -- please don't let that discourage you from submitting pull requests in the future.. This isn't how library distribution works.  The header by itself is useless without the the library files.  Additionally, you do not need to ship the header with the program to make or compile plugins, nor should you.. Hi.  You appear to have created another PR that modifies and existing PR that hadn't been merged yet.\nI realize now that you commented on the other PR that you were going to \"PR in to this PR\".  It probably would have been more ideal to discuss changes with @cg2121 rather than necessarily attempt to correct his changes with another PR right away.  @cg2121 is always willing to listen to proposed changes.\nAdditionally, I believe this should probably have been a PR in to @cg2121's fork rather than a PR to the master repository (at least if github gives the option).. I don't agree with changing API, regardless of whether or not the original API being changed is flawed.. Perhaps I got a bit tunnel-visioned on the API changes -- why specifically do you want to mark it as muted in that state?  To communicate to the user that the source itself is muted?. Hi, did you read my prior message about this?. In my response in your previous pull request, what I had tried to say was that I preferred these to be an extra opt string property, similar to x264's \"x264opts\", which you would then feed in to FFmpeg, instead of being new extra properties for each FFmpeg property at this point.  I think that would be the most extensible course of action to take in this case.\nAdditionally, it seems the code in this pull request hasn't been compiled or tested before being submitted, as it fails to build.. I think there's a bit of a miscommunication causing some frustration.  I want to do it to make sure it's extensible for future NVENC features so we don't have to manually add in each individual feature each time.\nThe reason why it doesn't make much sense to expose these in the way you're doing is that 99.9% of those users you're referring to will not know what these features do if they saw them in the UI.  Just because something may be beneficial doesn't mean the user knows it's beneficial.  If these features are useful to improve, say, CBR, they'd be something we'd add in the UI code anyway, so the users would never need to interact with them directly, or have to look up a guide.\nI realize that having to deal with the maintainer of a project can be frustrating like this, but it is important to work together in order to achieve the best possible results for everybody, rather than say just implement something without necessarily taking in to account other variables.  Working with others also often means compromise.  I realize that me being the maintainer and you being the contributor means that I kind of have executive privilege, but that does not necessarily mean I am unwilling to compromise.. I'm modifying the commit message to this:\n```\ntext-freetype2: Add chat line count property\nAllows the ability to choose the number of chat lines when using the\n\"Chat log mode\" feature.\n```\nAdditionally, I'll just cast that integer.  In the future, please make sure to use the correct prefix (the module's actual name), make sure the commit title is in present tense rather than past tense, and when possible commit message details like above.  Please see the contributor guidelines for more details.  I'll merge this shortly.. There's a reason why this is done via cmake.  If a custom location is needed, it really should be done via a cmake variable in obsconfig.h.in, not via detecting an environment variable that the user for all we know could change or have changed unwittingly.  This is a dangerous thing to do because anyone could override this environment variable and basically mess up or circumvent an install.\nI don't want to accept a change where the entire program's data location can suddenly have its location changed via an environment variable.  This is just a dangerous thing to do.. Make sure to include what the problem is or what it's fixing in the commit message in the future.  For your commit message here, it just says \"Draw cursor of actual size\" and \"use actual resource width\nand height instead of system metric values for icons\" with zero context as to what this is changing and why.. Actually, this may seem silly, but I didn't want to have \".exe\" included in the strings to prevent it from triggering any sort of anti-virus.  I might be paranoid, but honestly, this code isn't being called at any sort of performance-critical frequency, so it's not really something where this sort of thing matters anyway.  Although certainly this is normally better to do.  You are definitely correct.. Actually there should have been a comment in the code.  The reason why the item widgets are deleted manually like this is because ::clear() will cause them to delete via QObject::deleteLater(), which basically puts the deletions on the Qt queue to be deleted at a later time (and thus leaving internal OBS references dangling past their intended deletion point).  So to fix that, I deleted manually.  I can understand the misconception however -- there really should be a comment in the code.  I have no excuse for not having a comment there really.. Just to answer your question -- the item widget object uses references to sources.  So basically, to ensure that the references are released before the intended shutdown time, we have to explicitly delete the item widget on the spot.  It's very annoying and sort of an implicit funciton of Qt when it uses deleteLater() behind the scenes because it doesn't allow you to control the timing of the destruction/cleanup of objects.\nWhen deleteLater() is used and you for example switch between scene collections, sources from the previous scene collection will still have references when you switch to the new scene collection.  When exiting obs, sources will still have dangling references waiting to be deleted with the item widget on the Qt queue when obs_shutdown() is called.  The item widget \"deleteLater()\" functionality of item views is very frustrating when you need references to be released immediately.. I just want to make a note:  your commit message says that it's faster, but this code is not faster.  It is simply more compact, which is fine of course.  I'm merging but changing the commit message.. This won't work either -- when you call QListWidget::takeItem(), it will call QObject::deleteLater() on the item widget because that item widget object is a part of the list view object, not a part of the list item object or list model object.  I put breakpoints on both the item widget destructor and QObject::deleteLater to prove this:\n. You'll notice it says \"editor\".  The item widget for the duration of its existence is considered the \"editor\", similar to how a text box will pop up on the widget when you rename it.. No no, QListWidget::itemWidget() and QListWidget::takeItem() return two different types of objects.  If you call QListWidget::takeItem(), internally, it will perform a QObject::deleteLater() call on the object normally returned from QListWidget::itemWidget() associated with the row/index.  I realize it seems confusing.  They're just different objects.. Do you have an example where this is something that you'd sort of deem as necessary or important to have?  Just out of curiosity.  The solution feels so complex to solve -- is it really worth it?. I fixed up a tiny code styling inconsistency, and some trailing whitespace.  Make sure to use git diff on your work to check for that.  Merging shortly.. Hey there @TerjeGundersen, just checking in.  Haven't heard from you in a while since the last feedback from @Lange.  @RytoEX I think helped with the issues in a forked branch for SGDQ.\nJust giving you a bit of a nudge because I'd love to see any remaining issues resolved so we can review/merge.. Added RytoEX's customizations, and I fixed it so that it doesn't affect normal non-studio mode (I don't like doing this in normal mode). This should not be a separate pull request.  Update your other pull request commit and include this code in there.. You need to either update your previous pull request, or close it.\nYour commit title should also be \"rtmp-services: Add Instagram\" (not the pull request title -- the commit title).  I would recommend reading this document before contributing in the future:  https://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst\nAdditionally, I want you to tell me how one streams on instagram, and whether the stream key needs to be changed every time you stream or any little details like that.. Unfortunately, I don't want to fool users in to thinking instagram is actually available as a streaming service, only to find that the only way to do it is via some third-party web page that uses one of instagram's hidden APIs.  Until it's more publically available, I would prefer it if people who used this method just used the custom server section instead.. Not particularly necessary -- though thank you.. Please change commit titles to:\nlibobs: Fix macOS monitoring devices showing input devices\nlibobs: Add check for cf_uid pointer free\nlibobs: Fix compilation issue on case-sensitive filesystems. I do want to see DSK implemented, though I want to flesh out some better design ideas for it first.  I think we can possibly make this a bit better with more features.\nIt is however a very clever way of solving the problem with the existing system.  The only problem is that no one ever right-clicks on scenes, so almost no one would probably ever realize that the feature exists -- that sort of UX issue is another issue in and of itself.. Hmm, I'm not sure how I feel about this yet.  I need to go over it a bit more.  I'm not sure if I like it fortunately because there's no real need to perform a hide operation on a scene at the source level (rather than a hide at the scene item level).  Same with filters.\nHowever the bigger problem is hotkeys for filters -- filters have an inherent display issue in the hotkey section where I'm not sure if I like the idea of showing filters there.  The hotkeys section would get so incredibly cluttered.  I know there are some cases where hotkeys on filters may be useful, but I'm not sure if they're really applicable to all filters.  The second display issue is making sure to show that the filter is associated with a specific source in the hotkeys section.  The filters would show up as though they're regular sources, when they're more just child filters of a specific source typically.\nSo when people start talking about filter hotkeys, I just think back to that and can't help but think \"maybe there's a better approach\", or \"maybe the hotkeys section needs more work first\".. Hm, yea.  That could be an idea to solve the problem, although it doesn't really address the second display issue.  Filters are more contextual to the specific source they're applied to, and I can't help but feel like it needs to show that in the hotkeys section so the user realizes that a bit easier.  But I mean the problem with the hotkeys section is that there just tend to be so many hotkeys as it is, so it makes the hotkeys section feel almost intimidating.\nHonestly, the entire settings window kind of needs some reworking all together; I eventually plan to do it.  If/when I get to it, then yea we should have a discussion about how to approach this particular problem.. This is a very interesting way to approach this, however, I think it may be better to approach this at the scene item level rather than the source level -- as visibility technically applies to scene items currently rather than the sources themselves.  This feature is definitely doable however, but this proposal may need some significant reworking.  I'd love to get in sooner than later though.. The way to solve this is via adding transition support in to scene items somehow or another -- this should not have to modify obs-source.c.  obs-scene.c would be the file that would need to be modified.  We would not want to make this a transition that is tied to a specific source, but a scene item.. When you have time again @Andersama -- please take a look and address the comments made by palana.. Yea, @RytoEX is a contributor who has been reviewing code styling and commit formatting mostly.  The actual code and its design however I still haven't had a chance to personally review yet.  Apologies for that confusion.. I don't want to add extra parameters to the script.  The script is already hard enough to use without adding extra parameters that almost no one will ever use.  Besides, the whole point of these scripts are that they're example scripts.. Thank you for your work -- unfortunately there is already a pull request (#1269) that does this, and also prevents causing GPU stalls due to the download flush.  That's really the only issue with this PR.\nPlease do not stop contributing, as you are clearly skilled.  In this case, it just happened to be a duplicate pull request.. He had trouble implementing qss-specific color presets, so I said we'll merge it with some default initial presets that aren't tied to styles and we could take time to fix up the style issue later.  There was no reason not to merge the code for version 22 otherwise.  We will have the style-specific presets back in as time allows.\nThat is the end of the discussion.. Thank you, although this pull request is unnecessary.  The reason is because of the following:\nC\n    struct obs_core_video *video = &obs->video;\nIn this statement, there is no actual dereferencing.  When the obs pointer in this line is NULL, it does not crash; it will simply set the local variable, video, to the the offset of the obs_core::video member variable.  See https://en.wikipedia.org/wiki/Offsetof -- that is why it's safe to have the if (!obs) return; statements after rather than before.. I'm going to fix up a little bit of code formatting, then merge.  You'll see \"closed via [commit]\".\nThank you for fixing this up!. I'll allow it this time, but four is the max I will go for this.  I'm going to clean up the merge conflicts and then manually merge.  You'll see \"close via [commit]\".. There's currently multiple lines of thought here, so I'm delaying this for now.. So the idea I have is instead of displaying a dialog, we replace the contents of the list box with a big message that asks users to add sources if they don't already have any.  But..  hmm, would this necessarily conflict with the dialog?  Maybe I might still merge it.. Okay, only one suggestion:  add an option to allow the user to turn this off, but have this on by default.  Then it should be good. Actually, I'm kind of flip-flopping here on this one.\nIf the current scene is empty, but the user has other scenes with sources, I feel like this definitely should not be necessary.  I feel like we should have a graphical display, I think in the source list widget, or replacing the source list widget, that explains this to the user without necessarily warning them.\nHowever, we should have this dialog if the user has absolutely no non-scene sources.  For example, They have one or more scenes, but all of them are empty.  If that's the case, then it should absolutely display this dialog, every time, and furthermore, there's no need to allow the user to disable it like I had almost suggested, because it doesn't make sense for the user to record/stream if they have nothing added anywhere.. So to sum up my view:\n1.) If the currently displayed scene is an empty scene, the source list should show text and/or image or something, allowing the user to click on it to add sources directly.  It's be something like This scene is empty.  Click the '+ button or right-click to add sources.  Some of the others have suggested this before and it's a good idea.  After they add a source, the source list will revert to its normal functionality and show as a list.  This way, the user knows they have to add sources to display anything.  It'd be nicer from a design perspective.\n2.) If all of the user's scenes are empty, then we should absolutely display this dialog each time, 100%.\nI'm not sure how long it would take to make those changes however.  If you'd like, just implement this as item number 2 there, then I can help fill in item number 1.. Actually, you already do it that way -- perfect, I'll just merge the PR as-is.  Sorry for all the back-and forth rambling there -- turns out it was good as-is and operated the way I'd hoped.. Fixed conflicts and merged in bfbe9de5. Looks good, but I only just noticed another potential issue:  you're changing the obs_output_info::raw_audio API.  This could break existing plugins that rely on that, like Palakis' plugins.\nInstead, you should add a obs_output_info::raw_audio2 callback (at the bottom of the oobs_output_info structure), and use whichever one that's defined.  So for example:\nc\nif (output->info.raw_audio2)\n    output->info.raw_audio(output->context.data, mix_idx, frames);\nelse\n    output->info.raw_audio(output->context.data, frames);. I fixed up various issues with this:\n1.) It was not using the backend to set tracks.  Instead, it was using the output's obs_data settings to tell the output which track to use, which felt like more of a hack.  I've added some actual backend functions that allows setting the multi-track mixer mask instead, and made it backward-compatible with raw single-track outputs.\n2.) There were some bugs with FFmpeg -- it would not initialize the tracks correctly, so I fixed this.\n3.) This was not backward-compatible with older versions of OBS.  It would set the mix mask to the basic config's [AdvOut] FFAudioTrack={mix mask}, which was the same as what was used for the audio track in the older version, and would cause older versions to break.  Instead, I've changed this to use [AdvOut] FFAudioMixes={mix}, and made it automatically upgrade from older versions and separate it.\nI'll merge with my changes shortly.. Oh, and I also split the commit in to multiple compilable commits just in case something's wrong with some specific portion of the code, would make bisecting a bit more effective.. Fixed the the above issues.  Merging shortly with those changes.. The commit messages are a tiny bit different than what we'd usually use.  Although you're modifying the librtmp library, the module being modified for the first two is technically obs-outputs.  The commit messages are typically 50 character titles (minus prefix), blank line, then the commit description, which is word-wrapped at 72 columns.\nSo for your commits, I'd probably suggest something more along the lines of:\n```\nobs-outputs: Add support for and use mbedTLS for SSL\nThis diff adds mbedTLS support.  PolarSSL and mbedTLS have grown so\ndifferent between 2015-or-so when libRTMP was written and now that it's\nno longer feasible to just use the USE_POLARSSL flag that is present in\nlibRTMP already.  I kept the old PolarSSL flag, but now there's\nUSE_MBEDTLS instead which uses the library more responsibly due to the\nintroduction of a bunch of _init and _free functions, etc.\nRight now we're statically linking, meaning that the dependency on\nmbedTLS on the client machine is not necessary and which alleviates\nconcerns of shipping OBS with this flag on by default.\n```\n```\nobs-outputs: Fix OS-specific mbedTLS cmake rules\nCMake rule for mbedTLS should work correctly with the build system on\nLinux, MacOS, and Windows.\n```\nrtmp-services: Change Facebook stream URL to use RTMPS\nYou'll notice they're wrapped at 72 characters, and the titles are a bit shorter and more concise.\n\nNow, for the cmake/Modules/FindMbedTLS.cmake file, I'd probably suggest this instead, which is normally what we'd use to help with our windows dependencies:\nhttps://gist.github.com/jp9000/ed5b96a52bd7e8bbc515f69bca216c30\nThis would allow us to easily package mbedtls as part of the dependencies zip on windows.  You may have to change MBEDTLS_FOUND to LIBMBEDTLS_FOUND in the plugins/obs-outputs/CMakeLists.txt as well.\n\nLast issue is the custom send callback, RTMP::m_customSendFunc.  You'll notice that, if it's set, it'll be called in the WriteN() function in rtmp.c (normally set to socket_queue_data() in plugins/obs-outputs/rtmp-stream.c) instead of RTMPSockBuf_Send(), which means that TLS_write() may not be called for that case.  Instead, it calls the normal send() function in plugins/obs-outputs/rtmp-windows.c, lines 172 and 176.  A suggested fix would probably be to make check those two lines call RTMPSockBuf_Send() instead of send() directly.. Hey there @compiler-errors -- when you have time could you take a look at the comments on this pull request?. I'm probably going to squash some of these commits, then merge shortly.\nAdditionally, there's also a bug where if the user was already using Facebook in their settings, it would still use the non-secure URL.  I'm going to fix that up myself after.. Actually before merging to the repository I may have to submit an email to the BIS due to shipping (or more technically \"exporting\") mbedTLS.  May be a bit before that's finished up, just want to make sure I do it correctly.. Okay, everything looks good, tested it and everything seems to be working smoothly.  Going to squash this myself, and fix up a code styling issue or two.  Merging shortly, you should see something like \"closed from [commit]\".. Additionally, there was a bug where if the user was set to the old server, it would get stuck on that server and would not use RTMPS.  I made a fix for that here:  https://github.com/obsproject/obs-studio/commit/be8ddc06a2f8d31ff67813e2a39025ab4d8a2675. Hm, seems this is getting some undefined symbols on mac.  Do you have a mac for testing, @cg2121?  If not I'll help out when I can get around to it.. I don't know if this is the correct approach.  I don't want the image-source plugin to depend on obs-frontend-api.  Do you think you could try enumerating existing transitions?  Hm, I definitely don't want this plugin to depend on obs-frontend-api if possible.  Or, I would be okay with obs-frontend-api, but only if it was strictly a cmake option, disabled by default, otherwise it'd have its default functionality from before.. I've changed my mind about this.  Although it would be neat to be able to have access to more transitions, I think having the existing curated list specific to the slideshow is perfectly fine.  I don't think we need to go all feature crazy on something like the slide show.. Are you sure this is a memory leak?  It's stored in a QPointer, and if it's still running, it joins in OBSBasic::~OBSBasic.. You created two pull requests.  These code changes should all be in one commit, and in one pull request.  Please close one of the pull requests and update the other.. Oh you fixed up the json.  Thank you for doing that.. I do not think this is the best way to approach this problem right now.  I like the idea of having panic keys, but right now, there are issues with hotkeys on filters (see my comment on #1508 for more details).\nI really do not want to do this right now.  This is a solvable problem, but I think the issues with hotkeys on filters needs to be taken care of before we start proposing hotkeys for filters.\nBesides, I don't really want to modify the GPU/async delay filters to do this.  I think it might be more ideal as a separate filter or something.  But right now, let's put this aside for more important priorities.  Wait until after the clang-format processing before continuing any new proposals for this.. The BasicOutputHandler::StartRecording and BasicOutputHandler::StartReplayBuffer functions will return false if they failed.  Instead of fixing the check state for the buttons in the output handler code, I just checked the return values instead.  Simplified the code quite a bit.. Could you explain the need for this?. I don't want to add this right now specifically because if you edit the box in real time, it will update the source for each character typed.  This is not the ideal way to do this, and right now I'd prefer just to have the browse.  I am also a bit concerned about invalid paths.  Perhaps another go at this (later, after clang-format) would make it so that when editing the edit box, that it cannot update the source until focus on the widget has left.  But let's put this aside until clang-format later.\nSo I'm not outright rejecting it but I feel like it's sort of superfluous for now and could have unintended side-effects, so I think we should take a look at it again at a later time, and when priorities have settled down a bit.. Please remove this code:\n```C\ndefine a_ninth 0.111111111111111111111111111111111111111111111111111111111\n```\nand use a / 9.0; instead of a * a_ninth;.  The shader compiler's optimizer should automatically convert it in to a multiply, I believe.  Makes it a bit more readable too.. Just as a note for future reference, you can also do this:\ncpp\nD3D11_MAPPED_SUBRESOURCE map = {};\nwhich will have the same effect.. One thing I will say is I don't recommend changing code if you're not sure if it needs to be changed.  It's not like this was a bug or anything.. The function uses this structure to output data for the user of the API to use, not to input data from the user of the API set before the function call, read the documentation for Map() itself on this.  If it needed to be set for whatever reason, or cleared, or anything like that, it would have mentioned it in the documentation for the Map() function.  (Not to mention we would have had problems with this countless years ago, because it's one of the functions we call every single frame). Why specifically do you want to invert the polarity?  I could understand this in say music where you could have situations where specific audio is phasing each other out, but in recording/streaming?  Please explain in detail your use case.. Alrighty, I don't mind adding this if you really want just as long as it's contained to the advanced audio properties and doesn't use extra CPU usage when off.\nSeems there's a bit of a conflict on this though.  Are you willing to resolve the conflict?  If you're not experienced wit hthis and worried about losing work, remember you can always duplicate a branch to back up your previous changes.  Or if you need help let me know.. I actually decided to modify this and make it a filter instead -- that way it reduces clutter in the advanced audio properties, and allows the user to choose where in the filtering process you want to invert polarity.  See commit 7cfbdcf.. Needs translation.  Add the translation to the en-US file, and then use QTStr(\"MyString.Name\") to return the translation in QString form, or Str(\"MyString.name\") to return a const char *.  I'd also agree that \"Filter: \" is probably the better terminology.. Actually may want to make the text just \"Fillter\", no need to include the colon.  Keeps it consistent with the rest of the UI (for the most part at least).. Personally I don't really like this.  This is just my personal preference for the most part but I just don't really like associating colors with tracks like this.  I feel like there should be better ways to show the track information, but for now I think we should just put this aside for higher priority things.. What was the b-frame default before this patch?. Could you omit all /MTd for debug?  or use /MDd.. I can see why some might find this feature useful.  However, I think it's really not necessary.  I think it would require too much code to accomplish this, and I think only very limited numbers of users might ever really need something like this, especially if it has to be implemented on each operating system.\nUnfortunately, I can't help but think it's really not worth it.  I would anticipate that this would just get stuck on the PR list forever and probably not ever be implemented.  I personally can't devote time to a niche feature like this, and I would prefer not to see contributors spend time on niche features like this that only really benefits a very insignificant portion of the userbase overall.\nIf you want further explanation, I go in to detail on why I can't really accept every feature that someone suggests here:  https://obsproject.com/blog/how-to-contribute-to-open-source. First of all, let me say that I am grateful that you attempted to make a fix.\nI'm going to pretend you didn't say \"I created this PR to hint to you the solution, [not for me to actually get my PR merged]\", and that you didn't say \"I won't [fix my PR]\".  The reason is because that is not the right thing to do; it is not acceptable to misuse our systems of contribution in such a way.  When you make a pull request for any project, you must be willing to follow through on getting it merged -- otherwise, if you feel you have a solution, but are inexperienced with git and would just simply like to point it out, you should find a more appropriate place to let that project know of the issue.  Either tell them in their chats (we use discord and IRC -- feel free to ping me on either), post a message on their development forums or mailing lists, or post an issue on their bug tracker.  I'll link these at the bottom of the post.  I'll let this case slide and assume you did not know any of that, but I would kindly ask you not to make a pull request in the future unless you are willing to follow through with our requests.\nSo instead, I'm going pretend that you did not say any of that, and instead read all of this as:  \"I would like to help, but I am inexperienced with git, and do not know how to squash or reword commits.  I fear I would lose the changes I made.  If you are willing to help, I would be most grateful.\"\nI understand your fear with this.  It's natural for a newcomer to git to feel that way.  I would be glad to help you with this, although in the future if you want to make changes, please be prepared to learn more about it, otherwise please use our chats/forums/etc to get in touch with us.\nIf you are ever afraid of losing your changes, you can duplicate the branch of your changes.  If you are using command line, you would first want to make sure you're on your branch, and you'd type git branch my-branch-backup -- replacing \"my-branch\" with the name of your branch.  This will duplicate your branch as-is so your changes to not get destroyed -- it will ensure you do not lose those changes.\nHere is where you can get in touch with the project via our chat or forums:  https://obsproject.com/help -- our discord has development rooms where you can talk about issues.  Or you can post a message on our development section of the forums.\nAgain, I would respectfully ask that you do not make a pull request if you are unable or unwilling to follow through with any changes we request.  I don't mind helping make these changes for you for now, but you need to use the correct channels of communication in the future.. Could you please specify how you caused a heap corruption to occur in this case?  The ref counter should never be 0 at that point in the code.. Thank you!  Going to edit your commit title and manually merge it.  In the future, please make sure that the commit messages/titles are in accordance to our guidelines -- merging shortly, you'll see the message \"closed from [commit]\".. This is really cool.  However, it seems incomplete.  Clicking \"Authors\" causes a \"file not found\" error, then it tries to close the entire program and crashes.. Conflict needs to be fixed.  I also added an install_obs_data_file cmake function so you don't have to use gitignore or have to do a double copy of the AUTHORS file.  Rebase to master to fix the conflict and use that new cmake helper function.\nThis diff shows how it should be used:\n```diff\ndiff --git a/.gitignore b/.gitignore\nindex 3ffc534c..19fb10b3 100644\n--- a/.gitignore\n+++ b/.gitignore\n@@ -96,6 +96,3 @@ tags\n .DS_Store\n /.DS_Store\n /**/.DS_Store\n-\n-# Copied authors file\n-/UI/data/authors/\ndiff --git a/CMakeLists.txt b/CMakeLists.txt\nindex a110f823..c136e00f 100644\n--- a/CMakeLists.txt\n+++ b/CMakeLists.txt\n@@ -153,8 +153,4 @@ else()\n    obs_generate_multiarch_installer()\n endif()\n-configure_file(\"${CMAKE_CURRENT_SOURCE_DIR}/AUTHORS\"\n-       \"${CMAKE_CURRENT_SOURCE_DIR}/UI/data/authors/AUTHORS\"\n-       COPYONLY)\n-\n include(CopyMSVCBins)\ndiff --git a/UI/CMakeLists.txt b/UI/CMakeLists.txt\nindex 109c2373..b90943b1 100644\n--- a/UI/CMakeLists.txt\n+++ b/UI/CMakeLists.txt\n@@ -300,6 +300,7 @@ define_graphic_modules(obs)\ninstall_obs_core(obs)\n install_obs_data(obs data obs-studio)\n+install_obs_data_file(obs ../AUTHORS obs-studio/authors/AUTHORS)\nif (UNIX AND UNIX_STRUCTURE AND NOT APPLE)\n    install(FILES dist/obs.desktop DESTINATION ${CMAKE_INSTALL_FULL_DATAROOTDIR}/applications)\n```. _WIN32 is the generic macro that indicates the operating system is windows.  _WIN32 is always defined for windows, even when compiling for 64bit.\n_WIN64 is the one that's used to differentiate between 64bit and 32bit.  It's defined if you're compiling on 64bit, otherwise is not defined.\nI can understand your confusion given their similarity -- it's just something that microsoft got stuck with over the years.  They had a bad naming convention by happenstance.. Hm, I'm not sure how I feel about this being directly in the normal recording settings.  The reason is because most new users won't understand this option or why it's necessary.  I think this is more of an advanced settings option.  I think it would be best if moved there instead.  What does everyone else think?\nAdditionally, if it's set to MP4, I feel it should record as FLV rather than as MKV.  FLV is always the safest file type due to how it works.. Alright, I double-checked MKV and it's safe to use for remux.  Works great.\nLast nitpick however: would prefer this in advanced settings -- off by default.  This is mostly a user experience decision.  The program defaults to FLV anyway.. Hm, I feel like having the remux dialog left open after the remux is kind of bad user experience.  If it also leaves the original copy saved along with the remux, that feels redundant too and will just generate twice the disk space.  I think the original should probably be deleted if using this specific option.\nIdeas:\n1.) Have it close all the dialogs/ when complete and delete the original file (easiest option, but looks most clunky)\n2.) Only have a dialog that says \"Remuxing file...\", that closes when the file has completed remuxing.\n  2a.) Could give it a progress bar, but could be a pain to write\n  2b.) Could give it a cancel button, but also could be a pain to write\nWhat do you think?. Looks good!  Just those few code inconsistencies and it should be good to go.  Thank you for spending the time on this.. Great work, thanks for your patience.. Looks good.  However, just one more minor nitpick if you don't mind.  I'd recommend these changes:\n```diff\ndiff --git a/UI/adv-audio-control.cpp b/UI/adv-audio-control.cpp\nindex c9c7d9a6..68347040 100644\n--- a/UI/adv-audio-control.cpp\n+++ b/UI/adv-audio-control.cpp\n@@ -85,6 +85,7 @@ OBSAdvAudioCtrl::OBSAdvAudioCtrl(QGridLayout , obs_source_t source_)\n    balance->setMinimum(0);\n    balance->setMaximum(100);\n    balance->setTickPosition(QSlider::TicksAbove);\n+   balance->setTickInterval(50);\nOBSBasic *main = reinterpret_cast<OBSBasic*>(App()->GetMainWindow());\n\n@@ -306,6 +307,12 @@ void OBSAdvAudioCtrl::balanceChanged(int val)\n    float pan = (float)val / 100.0f;\nobs_source_set_balance_value(source, pan);\n\n+\n+   if (abs(50 - val) < 3) {\n+       balance->blockSignals(true);\n+       balance->setValue(50);\n+       balance->blockSignals(false);\n+   }\n }\nvoid OBSAdvAudioCtrl::ResetBalance()\n```\nShows tickmarks (although for some reason tickmarks don't show in any theme other than the system default/light theme), and also makes it so that when the user moves it close to center, it'll snap to the center.  Mostly just a nice little user experience addition for it.. I don't like the change to docks.  I do like almost all the other changes though.  Would it be okay to ask to revert the dock changes?. Hm, the text doesn't seem to center.  I feel like it should center right above the icons.  Other than that I love it.\nAdditionally, the text should probably just say \"Right-click here to add a source\" or something.\nI think you should consider doing this differently however.  Instead of making it a child of the sources widget, I think you should probably hide the sources list, then insert the label and whatever other widget you need above the sources list in to the layout, then delete them when no longer needed and unhide the sources widget.  Might be a bit complicated, but I think that should solve the problems you seem to be having with how the text doesn't center.  This would allow you to control the dimensions of the label and/or bitmap widget (if you choose to use one) as well.  What do you think?\nI definitely feel this is useful to have for the brand new users who are just getting started with the program.  A great little improvement to user experience.. I kind of agree with RytoEX that this shouldn't be changed from randomization to shuffle.  I feel like it should be able to randomize just as it did before.  It doesn't have to perform the randomization on the next upcoming item; but rather at least on the next item being loaded.. I also feel like this should be an option.  I'm not sure though.  I think it would be fine for most use cases, but I'm not sure why people are using so many images in the slide show in the first place.  It actually boggles my mind that this is even a problem.  It was meant for streamers to show sponsors.  What the heck are people using this for that they have this problem?. Hm, maybe making an option for it doesn't matter then.  Should probably just always be on.  The problem is I don't think image sources load asynchronously right now.  I'm a bit concerned about thread stalling, especially if people are using 1920x1080-sized images with it.. The random/shuffle options are not related to the PR -- for now its original random functionality is preferred for me.  I don't think there's a need to add shuffle right now, and I think it would be a waste of time/resources when there are more important things to be focusing on.. One last change you should do before merging:\n```diff\ndiff --git a/plugins/image-source/obs-slideshow.c b/plugins/image-source/obs-slideshow.c\nindex b29204572..f5b20ee29 100644\n--- a/plugins/image-source/obs-slideshow.c\n+++ b/plugins/image-source/obs-slideshow.c\n@@ -958,15 +958,17 @@ static obs_properties_t ss_properties(void data)\n    if (ss) {\n        pthread_mutex_lock(&ss->mutex);\n        if (ss->paths.num) {\n-           char path_ = bstrdup(da_end(ss->paths));\n+           char p_last_path = da_end(ss->paths);\n+           const char last_path;\n            const char *slash;\n\ndstr_copy(&path, path_);\nlast_path = p_last_path ? *p_last_path : \"\";\n+\ndstr_copy(&path, last_path);\n            dstr_replace(&path, \"\\\", \"/\");\n            slash = strrchr(path.array, '/');\n            if (slash)\n                dstr_resize(&path, slash - path.array + 1);\nbfree(path_);\n        }\n        pthread_mutex_unlock(&ss->mutex);\n    }\n```\n\nda_end() in this case will return a pointer to a pointer (because the dynamic array is an array of character pointers, and da_end does not return the last item's value, but rather a pointer to the last item, so a da_end for a DARRAY(char *) will return a char **).  The bstrdup/bfree is unnecessary.  It was duplicating an invalid pointer.. Great work.. I feel like this needs a dialog box (with a warning icon) associated with this action, explaining to the user in detail what it will do, and asking them whether they're sure they want to do that or not.  I just can see this as something that would be very frustrating if a user hit it by accident -- even in the off-chance.. One more thing: needs to check to make sure that neither the width nor height is 0.  Certain sources (image sources with no image set for example, or audio sources, things like that) will return a 0x0 size.. I like your proposed changes Warchamp, but the problem is we cannot really easily put stuff in that preview area.  That backdrop is technically also part of the preview \"widget\" so to speak, and we can't really place widgets on top of that preview.\nThe toolbar idea is good.  But we may just have to put it on the toolbar rather than in the preview pane.\n@cg2121 -- The other problem with this proposed change is you're suggesting taking out the existing context menus.  I'm not sure if that's a good idea, it may just end up confusing users.  I can't help feel that there's nothing wrong with a little bit of redundancy.\nWhat do you think?. It adds a lot of extra empty space.  Perhaps it if were an optional tool bar (like something warchamp suggested, though I'm not sure if we should make it exactly like that), it would feel a bit better.\nActually, we really should do a toolbar.  Tell you what -- I'm going to close this for now, and what we'll do is we'll add an optional toolbar.  We can go over what sort of things should and shouldn't be on the toolbar.  This is definitely one of those things that should be on a toolbar though I feel.. This doesn't change the style when the user changes the style.  You can use the OBSApp::StyleChanged signal to get notified when the user does that.. What do you mean?  The signal didn't fire?  It definitely fires, so I'm confused.\nFor example:\ncpp\nconnect(App(), SIGNAL(\"StyleChanged()\"), this, SLOT(\"MySlot()\"));\nor however else you can connect the signal for example.. Perhaps I'm confused.  Are you saying that obs_display_set_background_color() isn't working?  It should work.  It clears the background every frame so it's not like it wouldn't update.. Looking good, glad you got it working.  Seems there are some conflicts here.  Might need to be resolved first.. There should probably be a check to make sure the length of the string doesn't exceed the size of the buffer.  Or maybe use malloc/free or something instead?. Usually when the .pc file is installed, it's installed to ${CMAKE_INSTALL_PREFIX]/lib/pkgconfig.  Would that be acceptable?  It feels unusual that you have to use a cmake variable to control its install location.  I don't think there needs to be a cmake variable to set its location.  Would you mind if I changed it to do that?. Hi there.  Before I go over this, I would like you to first read this thoroughly from top to bottom, and then come back and go over your pull request:\nhttps://obsproject.com/blog/how-to-contribute-to-open-source. There's a binary blob in this?  We cannot include binary blob library files with proprietary code as part of our distribution.  Doing so would not be compatible with our license.. I'm closing this for now to clean up the pull requests section -- I am not outright rejecting the proposal to add zixi support, so I don't recommend deleting your branch, but please get back to me (here, discord, email, or PM) when your company has had time to discuss licensing issues with your code.  I cannot merge code that includes pre-compiled static libraries.\nAll code contributions to this project must be in source code form, and must be compatible with our license.\nSo basically put this on hold until zixi has discussed and/or decided how to deal with this first.. I would prefer not to do this, it'd just a bit confusing.  I'd rather have the other warning telling users what they can do.. This was added in #1418 (commit 99b8c83) so this PR should be redundant now.  Closing.. I don't really like adding too many advanced options like this, but I do acknowledge that the default hook retry interval is quite large.  In the future, I think some of these more advanced options need to be segregated from the simple options.  A redo of the settings here would be ideal in the future.. Functions should not have the opening brace on the same line as the function declaration.\nInstead of:\nC\nMODULE_EXPORT const char *obs_module_description(void) {\nit should be:\nC\nMODULE_EXPORT const char *obs_module_description(void)\n{. I am sort of confused as to why this PR was created.  There is functionally absolutely no difference between this PR and GloriousEggroll's PR.  The only thing that changed was code styling.  There were no headers added, there was no cmake added/changed -- the only thing that was changed was code styling.  That was all that changed.  I even checked to see if maybe I missed something and maybe some code changed in that styling, but there was none.  It was all the same code with different styling.. And I want to add that the code styling in this one is unfortunately less in compliance with our code styling.  What is going on with this PR?. Alright, I have your new changes:\nYou check to see if libva is available,\nyou remove a presumably unused header (avcodec.h for whatever reason), and\nyou changed the profile to a magic number of 578.  I do not know what this number is.\nIs that correct?. Oh, my apologies.  Hm, I must have diff'ed in the incorrect direction.  I see.  I'm sorry for the misunderstanding -- I think I read it wrong from the beginning.. Alright then, I see -- it seems that your changes are pretty trivial over GloriousEggroll's and don't really change anything he does -- more just cleans the code formatting, fixes a magic number, adds a missing header, and adds a libva check.\nThe only change really remaining is that this code needs to be disabled if FFmpeg is less than version 3.1, because libavutil/hwcontent. do not exist before that version.  I'll probably just amend this myself to detect that.. This does seem to remove the default handling of scrollbars when the stylesheet is unmodified unfortunately, so I'd rather not do this.  When there is no stylesheet applied, it will try to mimic the operating system's look/feel identically, but if a stylesheet is applied at all, it will basically remove that handling, and that's just not ideal.\nFor context: this was because a macOS user did not know that macOS hides scrollbars by default.\nBesides, the program defaults to dark theme anyway, so this isn't really a big concern.. I fixed up the merge conflicts -- merging shortly.  You'll see \"closed from [commit]\". (We talked about it and there's alternate methods of dealing with this issue for now). You were using the vec2/3/4 structure sizes for this incorrectly.  I'll fix and merge.. Very minor stylistic nitpick I fixed, merging shortly.. This isn't how you want to approach this.  This will cause any private source to have hotkeys when they shouldn't.  The reason I don't want to add filter hotkeys right now is due to some UI issues with it.  Filters of a source show up as an individual source in the hotkeys list, but the fundamental problem with this is a few things:\n1.) The \"namespace\" of filters and sources are separate.  Each source can have a set of filters which can have the same names as the filters on another source.\n2.) Filters do not show up \"under\" the source they're associated with; instead they show up as completely separate individual sources.  This causes confusion for how hotkeys show up for filters.\n3.) There are so many hotkeys in the program right now, and having lack of organization with them to me is unpleasant.\nAny solution we come up with really needs to figure out how to take these things in to account.  I do not want any PRs (for now) that propose hotkeys on filters until these issues are taken in to account or taken care of.. I don't think this is what you're looking for.  If you want to execute a custom function on a source, you should make those functions available to the source's procedure handler via obs_source_get_proc_handler().  See https://github.com/obsproject/obs-studio/blob/master/plugins/obs-ffmpeg/obs-ffmpeg-source.c#L445 for an example of this.. Does not particularly matter right now due to the fact that we will be running clang-format on the project anyway.. @Rua -- are you able to capture those things on the latest stable release (not master)?. @Lucretia does this PR function any differently from the current stable release?. 0 should never have been used as a \"default\" value to indicate gray.  I don't like modifying the API to fix this.  000000 should always indicate a black color.  If there is a case that requires gray, the API should be called to explicitly set gray.  When using color values, never use 0 as anything other than black.. Changed this slightly to my own version:  I used a member variable initializer instead of initializing it in the constructor initializer list.. I modified the commit message -- commit messages should be in present tense.  Other than that it looks good.  Merging shortly, you should see \"closed in [commit]\", which will be the modified and merged commit.. This was incorrectly closed -- sorry about that.. Actually I just realized that most passes don't have names, so this will actually end up with:\nPass (null) missing vertex shader! -- are you okay with that?  maybe you should use the pass index instead.. This wasn't quite the correct fix, and would allocate buffers for every audio segment, which would have been very unoptimal.  If you want to allocate data, you should store an upsizing buffer in the source internal data to ensure minimal reallocations.\nAlthough this code worked, that wasn't the actual correct fix for this issue.  The actual bug was in the obs_source_show_preloaded_frame function, which was incorrectly setting the source's starting audio timestamp even when audio monitoring was enabled.  It should not be doing this if audio monitoring is enabled because no audio segments are being output -- therefore, when audio monitoring is then disabled after that point, it would use that old audio timestamp from way back when the first frame was shown, and cause the audio timestamps to be off by however long the duration was from the call to the first audio segment after turning off audio monitoring.  Hence audio buffering max reached.\nI'll upload the correct bug fix for this shortly.  This is probably not something you could have easily figured out without having deeper knowledge of the audio subsystem, so don't sweat that fact or anything.  The audio subsystem is pretty complicated.  However keep the allocation suggestion in mind for the future, as that could have been a significant detriment to performance.. I made some minor name/style changes to this.  Merging shortly.. Merged in 1002f9b. You should read the contribution guidelines here:  https://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst\nI fixed your PR for you and will merge it.  Also, we curate which services get shown as common just simply because there are a lot of services.. I fixed your commits for you and will merge shortly.  You should be careful to use a separate branch for pull requests in the future rather than use the master branch of your fork.  Additionally, the commit title should ideally have been rtmp-services: Add Lightcast.com.. I squashed the redundant second commit, and made some code to handle service renaming seamlessly without breaking user settings in commit d7e80f87e.. I can't help but feel it's very unlikely that decode times could be impacted any significant extent.  Image decode times are not particularly a concern.. 600kb isn't really worth it for having to write 138 delta patches for when I make the update.  Much of this is probably just image file metadata, which is fine to have.  It's just insignificant relative to modern computing power, and it doesn't change the uncompressed size in memory, just the size on disk, which makes the changes even less significant.. We might have to rename this to \"Export scene collections\".\nAdditionally, the code goes over the column limit.  Could you fix that?  Everything seems okay otherwise.. Actually, here's what you should do.  Add a menu item to the file menu:  \"Export all settings data\" and \"Import all settings data\", where it saves/loads all settings data from a single folder.  That's what people want.\nThe reason is because people are going to be using this as you have committed here to try to do that, and it's still too cumbersome for that.  If people want to export/import a full obs-studio configuration folder, then there should be a menu option for doing that explicitly.  This PR feels like it's trying to solve the problem in the incorrect way.  I just don't like it in terms of user experience.. This is well programmed, but the problem I envision is that a user could use this by accident, shift a source to a non-90 degree angle by mistake, and then either they can't figure out how they did that and it stays slightly skewed, or they try to shift it back manually and it's also slightly skewed.  It's just putting more exposure to a very niche feature to users who would never actually \"need\" a non-90 degree angle under almost every circumstance.\nSee the way I tried to design things in the program are that the most easily accessible things are the things that are the most common/simple tasks, and the more uncommon/rare/advanced tasks are specifically not accessible without some specific purposeful effort, but still available.  That's sort of why the option to rotate to a non-90 degree angle exists within the program, but is within the transform dialog, which is more of an advanced dialog.  You need to gauge these sort of things when making a feature exposed to user:  how many people actually \"need\" some feature, how could said feature could have unintended consequences, and then gauge how exposed you want it to be.\nAnother reason why I may not accept something is due to maintenance costs.  If we have to make major changes to the preview, then we have to gauge these sort of features would need tweaking to accommodate that hypothetical change.  Grouping was a good example where maintenance costs came in to play in a very serious way, because every transform task had to be reprogrammed to accommodate group sub-items seamlessly.  There is always those sort of risks and unintended consequences that many may not always realize at first glance.\nAgain however, this is very well programmed and I like the way you added arrows, you just made it very well.  Please don't let my criticism and the fact that I decline here discourage you from making more features, because you are quite skilled.  It's inevitable that some will eventually be respectfully declined even despite being very well-made, just simply due to user experience concerns.  I hope you understand where I'm coming from with this.. I am skeptical when saying it's not niche.  Do you happen to have any real-world examples of where OBS users would want to rotate to a non-90 degree angle?  Maybe 3D transforms yea, but an actual 2D rotation I feel skeptical about.\nKeep in mind that image editing software and OBS are two very different things, and that's sort of comparing apples to oranges.. I would prefer not to update the library until there is a change that requires it to be updated.  When that time comes, feel free to add the library update as a commit to that PR if needed.. I condensed the code a bit.. Careful when adding members to public structures -- they should be added to the bottom of the structure to prevent breaking ABI.  It makes the structure a bit disorganized but it's better than potentially breaking ABI.  There probably aren't really any third-party encoder plugins out there though.  I also fixed code styling and a few minor things inconsistent with the rest of the code base.. Dialogs could be bad, and could take a user out of a fullscreen game or something unintentionally.  I think having some sort of system alert or toast thing like @DDRBoxman was saying would be ideal -- a big but very noticeable notification.  I would encourage you (or anyone willing) to experiment to see what they feel works best.. Additionally, it's important that the frequency of the notifications isn't high.  Also, we may have to try to find a way to do it without sound, so the user can see it pop up noticeably, but not necessarily have it be captured on a stream or recording.  I'm not entirely sure how to approach that however.  Any ideas/suggestions would be welcome in that regard.  (We could also make our own toast/notification popup widgets for example). I'm going to squash this PR, and then merge.  You'll see \"closed in [commit]\", that will be the merged commit.. Sorry that it takes a while for me to review things sometimes.  Just to supplement what you're trying to do here, what we're going to do is probably implement some sort of automatic file update detection to replace the polling.. Hi there, could you rename the commit title to: linux-v4l2: Make V4L device strings unique?  (Not the PR, but just the commit). I'm going to rename the commit and merge shortly.  You'll see \"closed in [commit]\", that will be the merged commit.. If this doesn't change the install directory, causing two installs for people upgrading, I'd be okay with it.  I'm not entirely sure how this typically works with linux.  Where is this potential confusion typically seen?  Console?  Do you have a screenshot for example?. If you could show me a screenshot of the potential confusion I'd be most grateful.  The name will not be changed on mac/windows though,. I apologize for not quite clarifying -- what I meant was could you show me a screenshot of where there could be potential confusion?  I'm just trying to understand what originally prompted the pull request.  When you had created the pull request, you had stated that it caused confusion with open build service.  Did you experience that confusion originally?  If so, do you have a screenshot of where the two were listed side by side for example?  That's what I was meaning.  If not, then I don't think it's really necessary to change the displayed link name.\nThe program is commonly known as either OBS or OBS Studio, it isn't too particularly important.  You might note the program's title bar:  you'll notice that during normal operation, on the title bar it says \"OBS\".  When you click studio mode, it'll then change the title bar to \"OBS Studio\".  It's sort of a play on the name there in terms of the mode it's operating in.. I don't mind changing the linux link as long as it's only a link and it doesn't affect any installation directory, but for the mac version we're not going to change because the name is used for the actual install directory.  As the author of the project, both \"OBS\" and \"OBS Studio\" are perfectly valid names for the program, so I don't particularly feel a need to be ultra consistent about it just for the record.. I fixed the commit title to adhere to our guidelines.  Please make sure you read this document, the \"Commit guidelines\" section in particular:\nhttps://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst\nAdditionally, I would recommend reading this to make good pull requests for any project:\nhttps://obsproject.com/blog/how-to-contribute-to-open-source. Thank you for the pull request -- if this pull request is a work-in-progress, please make sure to specify that it's a work in progress, that way I can know that your commits aren't finished/renamed/squashed for merge.\nIf this pull request is finished, please make sure to adhere to our guidelines for making commits and pull requests, please make sure to read these two links:\nhttps://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst and\nhttps://obsproject.com/blog/how-to-contribute-to-open-source. If the pull request is finalized, please squash any relevant commits, and please rename them so that they adhere to our commit guidelines.  I.E. for this pull request, it modifies the CI files primarily.  Modifications to files that are in the CI directory are prefixed with \"CI: \".  Also, any commits that solely exist to \"fix\" previous commits need to be squashed in to the commits they are fixing.. We're going to test this out a bit on various setups: might be a week or two if that's okay.. I wouldn't suggest including bazuka's version of the browser source at this point in time.  I'd prefer to get our version working at some point -- it should be doable.. I'll probably write a better fix for this that detects file system changes rather than increasing polling.\nCould you specify the use case or specific trouble you're having with the slower update interval, and why you prefer a higher update interval?. In the future, you want to squash (combine) these two commits.  I'll do that for you in this case just to help get it merged for you.  I will merge shortly.. If you want to initialize it to zero, do it in the header.  You can simply change this line here in the header:\ncpp\n    int32_t                                   maxChannel;\nto this:\ncpp\n    int32_t                                   maxChannel = 0;. Pages that this uses may as well be considered whitelisted.  OBS is not acting as a web browser, these are only specific pages we choose acting as UI elements.  Let's say they open a link in a chat window -- any external link they choose in say their chat window get redirected to their system browser, and not OBS itself.. I would love to implement anything like that which could be useful.  It'd be nice if Twitch dashboard elements could be used as individual popouts, that way we wouldn't necessarily have to implement that ourselves, and Twitch could customize them however they please.\nAs for the normal API, I'm not sure how much the Twitch API exposes for features like that, I know they switched to GraphQL for their recent API, if it's available in the current OAuth standard then I'd invite people to implement it after merging.  . The browser panel code is programmed not to allow popup windows, so that's not entirely surprising.  I'm not sure how I feel about having popup windows within the program.. Hm, I'll see what I can do.. Cleaned up commits and merged. I have no way of testing this currently so I suppose I'll just have to take your word on it.  As long as it doesn't affect our primary architecture targets I'm happy.. Yea we're just dropping 2013 support at this point.  Feel free to update the wiki to remove it.. Nice catch.. Your commit message was a bit off, so I updated that.  Merging shortly, you'll see \"closed in [commit]\".. Technically you could just delete any of the values there that map to the speaker layout from the channel count (with how the enum is programmed).  It doesn't really matter.  Not worth adding a commit to the repository for though.. I pushed a commit to fix the OBS_NATIVE/etc variables which now have that ${PropertyPrefix} thing.  The amf-test/CMakeLists.txt file hadn't been updated to use those new variable names, so the amf-test helper wouldn't get properly copied.  I modified the PR to include that.. I do not see the harm in the content of the PR.  It feels like a reasonable request.  Does anyone have any objections to the actual content of the PR itself?\nThis is probably something that has been vetted by Redhat lawyers, I highly doubt that they would just make something like this without any legal backing or legal understanding.  Arguing legalese here amongst ourselves is silly, and every time I see it happen it causes me physical pain.  It's just asking to ensure license violations are handled in a predictable manner.\nI personally have no problem with the request.  If it's part of the GPL3 anyway then it has my vote.. I'm just going to merge this.  It's basically from GPL3 anyway so I feel fine with it.  We already pretty much distribute under GPL3 anyway due to Qt's LGPL3 with our base GPL2+ license anyway, so it's not like it really changes anything.  May even be a bit redundant.  It's mostly just a friendly gesture towards Redhat at this point.\nThanks @richardfontana. I fixed the commit message of this pull request and will merge shortly (should be something like UI: Fix inconsistent use  of ellipsis.  I also squashed the commits.  You'll see \"closed in [commit]\".. Thank you -- I'm fixing the formatting.  Merging shortly.. This was closed unintentionally. I'm not sure how/why this was closed but please re-open.. Ah wait, I see.  This was closed because I just deleted the service integration branch, because I had merged the service integration branch.\nCould you please change these via our master branch and make a new pull request?. Reinitializing the audio subsystem is a bit of a chore right now.  All sources with audio have mixers built in to them for the audio hierarchy, so reinitializing means that you have to reinitialize all of their audio-related data.  In addition, there are also audio filters, and things like audio meters.  So it's unfortunately not quite as trivial as it seems it would be at first glance.. Hi, thanks for making this PR, I've been looking forward for a higher performance way to capture on Linux.\nJust to warn you, we're a bit backlogged on PRs at the moment, so it might be quite some time before we'll be able to review it.  Looking forward to it though.. (This message is stamped with the 'Jim is too anal about code formatting in the core' seal of approval)\nobs-studio is KNF so you might want to switch comments like these to /* and */ for this and any similar comments in the core, for example:\nC\n/*\n * This is a multi-line comment because we're all crazy people,\n * also, note that Jim is a madman\n */\n. (This message is stamped with the 'Jim is too anal about code formatting in the core' seal of approval)\ngasp!, two newlines after this function, making it unevenly spaced from the rest!  This is a violation of the 'libobs core formatting rulebook' section 238.6.12.b\nAlso, I think I should take some OCD medicine.\n. Surround with obs_enter_graphics() and obs_leave_graphics().\n. Surround this with obs_enter_graphics() and obs_leave_graphics()\n. Just noting, this usage of ternary operator makes us sad pandas.\nUse:\nC\nif (foo) {\n    bar1();\n} else {\n    bar2();\n}\nin the future.\n. Notice how this is not aligned with the lines above it.\nAlso, storing this should not be necessary.\n. Instead of doing this, removing this if statement entirely would be better.\nI also do not see a comparison on dstr_cmp.  dstr_cmp works just like strcmp in that it returns 0 if the strings are equal.\nAlso, this would break the 80 column limit.\n. This should not be necessary to store or use.  Also, I need to fix that function name.\n. 1.) It would appear that you are not familiar with kernel normal form.  We do not name functions/variables/etc with CamelCase, we use underscore.\n2.) You're declaring the functions above where they're used, and then defining the functions below where they're used.  There is no need to do that, just simply define them above where they're used so declarations are not needed.\n3.) The functions are not static.  Functions that are not static will be external and visible to the entire module, which pollutes the global namespace and puts more unnecessary load on the compiler.\n4.) There is little purpose of passing in a function callback here.  This function is only ever used once.  You may as well just write a function to simply remove carriage returns.\n5.) You deleted the newline above it, causing the declarations here to be squished together with the end of the previous function.  There are no newlines below them either, further squishing the code.\n. Three newlines here.\n. Putting the opening brace on the line after an if/for/do/while/etc is referred to the 'allman' style.  We don't use allman styling.  As stated, we use kernel normal form, which uses K&R, which keeps the opening brace on the same line.\nK&R would look like this:\nC\nwhile (*src) {\n. Doing 'this->' is sort of redundant unless you're explicitly avoiding a name conflict.\n. Note that os_get_config_path currently doesn't return a constant character pointer, it returns an allocation.  The BPtr<> template class should be used on this allocation to automatically free it for C++ (in this case BPtr).\nThis isn't entirely your fault however, I probably should fix this function so that it does not return an allocation (despite it being convenient), but instead have it take in a character array and max size as arguments, as per normal C functions.\nI may just go back and fix this throughout the project before merging the commit.\n. This wouldn't port to windows.  You cannot set the permissions like this.  It's why os_mkdir does not have this parameter in the first place.\n. Ah okay I see that you're just ignoring it on windows.  Apologies about that.\n. I think what he's trying to say is \"don't divide by zero\".  You have it set so softness can be 0.\n. This definitely is not necessary.  I've tested this on all three major operating systems and this has never been a problem.  In the cmake module in cmake/Modules/FindLibVLC.cmake, you'll notice it searches suffixes: vlc, include/libvlc.  This is most likely a problem with your setup rather than with the code itself.\n. Careful here, variable was used while uninitialized.  This should have been caught by your compiler.. That's trailing whitespace.  His editor probably removed it.  It doesn't really matter if trailing whitespace is removed, probably better that way.. Well they renamed the service entry so it's probably not necessary to increment the format version anymore.. It's false by default, you don't have to add the value unless it's actually set to true.. It seems you did not see my previous message on the other pull request:  the value is false by default.  You do not need to use it unless you're setting it to true.. The space after the function name and before the function parentheses isn't consistent with coding standards.  Make sure to watch out for this in the future.. This whitespace change is not relevant to the commit nor needed and should be removed.. This appears to be another whitespace change that wasn't necessary/relevant.  Make sure to review your diffs in the future to make sure the code you've committed is relevant to the changes you're trying to submit.. Code styling is inconsistent with the rest of the project (and with other lines of this commit) with this diff block.\n1.) You want a space before and after operators (such as == in these cases).\n2.) Surrounding the case values of the switch with parentheses is another inconsistency, and should generally be unnecessary.. This breaks compilation and causes it to fail with an error.  You must not have compiled your code before resubmitting.. We use the KNF code styling, so it would be \nC\n} else if (astrcmpi(rc, \"vbr\") == 0) {. Trailing whitespace.  Need to be careful about that.  Can happen to the best of us though.. Trailing whitepsace.. Trailing whitespace.. Trailing whitespace.. The reason we do it is because of Microsoft's compiler.  It's not particularly any fault of your own.  Microsoft's compiler warnings aren't the most useful.. In C++ you don't need the \"enum\" or \"struct\" keywords as all structs/enums are automatically made in to types, but it's not against the rules either (in order to keep interoperability with C).  I myself have occasionally been inconsistent with doing this.  You'll see various places throughout the C++ code where I'll prefix with \"struct\" or \"enum\" unnecessarily just because that's what I'm used to doing, so it's not a huge deal in this case.. Slight indent inconsistency here.  Typically when a function param goes to the next line, there are two indents.  (Mostly just following vim conventions on this).. Slight indent inconsistency here compared to the line a few lines up.. Typically a string like this can be split up in to multiple lines.  Currently this line goes over the column limit.. Microsoft gives a warning when converting a pointer to an integer type other than, say, uintptr_t.  Use uintptr_t here in the future to ensure that there are no warnings, and to ensure that it's more explicit that you're casting a pointer to an integer type on purpose.. env_path would not be freed in any of the other return paths.. env_path_utf8 would not guarantee to be freed if the return statement above it is called.. These two lines here would fit under the 80 column guideline if combined.  They're unnecessarily split.. Indent here for these parameters feels inconsistent with the rest of the project.. Minor/insignificant, but you should probably use wchar_t rather than WCHAR to be more consistent with the rest of the file.  (Yea they're the same, it just feels strange to use different type names.  It also affects highlighting in certain editors.)_. Minor/insignificant point here, but this should probably be \"= NULL;\" rather than \"= 0;\".  They're the same, but NULL is more proper to use for null pointer values.  A general \"avoid magic numbers\" rule sort of thing.. You're changing what a config file parameter expects here.  Previously, the [BasicWindow] MultiviewLayout variable was expected to be a string, and now you're sort of abruptly changing it to an int, basically breaking a user's existing config.\nFirst it has to be noted that the reason why list index values aren't usually used as config values is because if you add/change something in that list box, it breaks configuration, hence why strings are typically used to represent their values.  Basically, it was done to prevent the chance of breaking configuration.\nWhile an int is technically easier to use here, it's not necessarily safe due to that reason.\nChanging it from expecting a string value to expecting an int value just breaks previous config values for this int, which is not typically a good practice to do.\n1.) You can do this and allow it to break configuration\n2.) You can use the string values instead.  There are probably easier ways to map string -> int values than this.  If possible, I would recommend to try to make it continue to use a string if it works with the current configuration.. Indent here doesn't appear to be the same as the ones below it.  Just a totally minor and insignificant nitpick.. I'd probably not recommend removing these sort of code segmentation comments.  These comments were put in here to make a larger function like this a bit more readable.. Again, just wanted to note that you removed the segmentation comment here.  It also doesn't appear to be related to this particular commit.. You used this commit to correct a previous unrelated commit here.  Something that you want to avoid for ideal review diffs.. A strange little removal of a newline here.. Noticed here that you changed the parameter placement here unnecessarily.  The \"float cy\" parameter wasn't particularly going past the column limit.. I noticed you unnecessarily changing the explicit casts all over here.  I did explicit casts here to make the reader of the code more aware that the variable is not a float, and to prevent any conversion warnings (if any).  I admit it's become a habit due to microsoft's compiler design, but still, I feel these changes were an unnecessary/unrealted part of this commit/diff.. I am unsure why these names were changed for these variables.  The name you named them to makes them seemingly less readable, and add unnecessary changes to this commit/diff that sort of confuse me here, and have no mention in the commit message.. Unfortunately, due to the name change of these variables, this commit also appears to be affected with sort of \"unrelated\" changes, or so it feels.  Perhaps I will need to consult with you on why the variable name changes occurred, but they don't appear to have been mentioned in any commit messages.. obs_data_get_int returns a 64bit integer, and implicitly casting from 64bit -> 32bit causes a warning on microsoft's compiler.  I wonder if I should just disable that warning -- but for the time being we just manually cast it.. This sets a default value for the font_obj obs_data_t object.  This caused you not to actually set any default value because you were setting it on the wrong object.  You're supposed to use settings here instead.. Next time, try to create a separate commit if you would like to fix some whitespace issues.  Make sure to check your diff before submitting for any changes that don't seem to apply to your actual commit.. Same thing with the whitespaces change here.. QPaintEvent is not necessary in this file due to type forwarding.  It will in fact slow compile time of any source file that includes this header.. The override keyword is not really something that you need to use on a destructor.  Destructors cannot have multiple declarations/definitions, and can't change parameters, therefore the override keyword has no real purpose on a destructor.. Again, the override keyword is not really something that you need to use on a destructor.  Destructors cannot change parameters.. This probably should have gone in the \"Cleanup includes and code style\" commit.. Seems like this probably should have gone in the \"Avoid copies\" commit.. There's some trailing whitespace right here.. Styling: All these parameters appear to have inconsistent indent.  I assume this is what you were trying to do:\nmm\n    NSURL *url = [fm URLForDirectory:NSPicturesDirectory\n            inDomain:NSUserDomainMask\n            appropriateForURL:nil\n            create:true\n            error:nil];. Styling: this should have an extra indent here to keep it consistent with the rest of the project.  Also, the NULL here should probably be nullptr.  For example:\ncpp\n    SHGetFolderPathW(nullptr, CSIDL_MYPICTURES, nullptr, SHGFP_TYPE_CURRENT,\n            path_utf16);. Styling - just a minor indent inconsistency.  You'll notice the function call right above it is inconsistent as well.  Should be:\nC\n    config_set_default_string(basicConfig, \"ScreenShots\", \"FilePath\",\n            GetDefaultScreenShotsSavePath().c_str());. I don't think it's necessary to indent these four lines here.. Styling here again.  Should be:\ncpp\n    ui->menuTools->addAction(QTStr(\"SaveScreenshot\"),\n            this, SLOT(SaveScreenshotHandler()));. Styling, this should be:\nC\n    if (success) {\nand not\nC\n    if (success)\n    {. There seems to be an unnecessary newline here.\nC\n    frame = av_frame_alloc();\nwould be fine.. Instead of putting the function inside the if, I would recommend having an int ret; variable, and doing something like this:\nC\n    ret = av_image_alloc(\n            frame->data,\n            frame->linesize,\n            codec_context->width,\n            codec_context->height,\n            codec_context->pix_fmt,\n            32);\n    if (ret < 0)\n        goto err_av_image_alloc;\nAdditionally, I feel that adding comments for each parameter is a bit superfluous due to the fact that the variable names state what those parameters are quite clearly.\nAlso, using &frame->data[0] is identical to just using frame->data, same for the linesize array.  Mostly just a minor nitpick there.. Again, code styling here is just inconsistent with the rest of the project.  We've never really done anything like this before.  Again, I still feel the parameter comments are overkill.  Also in C++ files, NULL should be nullptr.  This would be what we'd normally do:\ncpp\n    sws_context = sws_getContext(\n            frame->width,\n            frame->height,\n            AV_PIX_FMT_RGBA,\n            frame->width,\n            frame->height,\n            codec_context->pix_fmt,\n            0,\n            nullptr,\n            nullptr,\n            nullptr);. Same aforementioned code styling inconsistency.. Should be:\nC\n    uint8_t    *image_data_ptr,\nInconsistent with the rest of the project, and with the outputFilePath parameter above.. Unnecessary newline here.\nc\n    codec_context = avcodec_alloc_context3(codec);\nwould be fine.. Unnecessary newline here.\nC\n    codec = avcodec_find_encoder(AV_CODEC_ID_PNG);\nwould be perfectly fine. C++ provides a nullptr operator, probably more ideal to use nullptr than NULL in C++.  I myself have made this mistake before.. Again, would be more ideal to do something like this:\nC\n    ret = sws_scale(\n            sws_context,\n            (const uint8_t *const *)&image_data_ptr,\n            (const int *)&image_data_linesize,\n            0,\n            frame->height,\n            frame->data,\n            frame->linesize);\n    if (ret < 0)\n        goto err_sws_scale;\nAgain, I disagree with comments describing each parameter.  We're not really trying to teach people this API function in particular, and the parameters describe themselves pretty well.. Should really be:\nC\n    ret = avcodec_encode_video2(\n            codec_context,\n            &pkt,\n            frame,\n            &got_output);\n    if (ret == 0) {\nOr, better, when using the variable name got_output instead of avcodec_encode_video2_got_output, it will fit great on just one line:\nC\n    ret = avcodec_encode_video2(codec_context, &pkt, frame, &got_output);\n    if (ret == 0) {\nCareful with the opening brace placement.  That's allman style -- this project uses KNF.. Code styling here again.  Opening brace styles here are allman, where as the rest of the project uses KNF.\n```C\n        if (got_output) {\n            FILE *of = os_fopen(outputFilePath, \"wb\");\n        if (of != nullptr) {\n            fwrite(pkt.data, pkt.size, 1, of);\n            fclose(of);\n\n            success = true;\n        }\n\n        av_free_packet(&pkt);\n    }\n}\n\n```. There appears to be an unnecessary extra space here after the pointer operator.. Again, I feel a lot of the comments here are sort of superfluous.  Someone reading this who has reasonable experience would be able to figure out what's going on without the need for most of these comments.  Comments should really provide context where context is often lacking.  As long as a specific segment has context, then it's usually more than sufficient.\n```C\n    / Encode frame, write file /\nret = avcodec_encode_video2(codec_context, &pkt, frame, &got_output);\nif (ret == 0) {\n    if (got_output) {\n        FILE *of = os_fopen(outputFilePath, \"wb\");\n\n        if (of != NULL) {\n            fwrite(pkt.data, pkt.size, 1, of);\n            fclose(of);\n\n            success = true;\n        }\n\n        av_free_packet(&pkt);\n    }\n}\n\n``. This variable name feels a bit too unnecessarily large.got_outputwould be sufficient.. Furthermore, theret == 0andgot_output` check can be combined in to a single if statement:\n```C\n    / Encode frame, write file /\nret = avcodec_encode_video2(codec_context, &pkt, frame, &got_output);\nif (ret == 0 && got_output) {\n    FILE *of = os_fopen(outputFilePath, \"wb\");\n\n    if (of != NULL) {\n        fwrite(pkt.data, pkt.size, 1, of);\n        fclose(of);\n\n        success = true;\n    }\n\n    av_free_packet(&pkt);\n}\n\n``. Again, probably should benullptrhere.  However, I don't think settings codec_context to null here is even necessary, as it's not used for the rest of the function, and is a local variable.  Setting it to null here seems to have little point.. Should probably have a space after thevoid`.\nC\n+       void (*raw_video_callback_ref)(void *, struct video_data *);. Inconsistent code styling with the rest of the project when calling this function.  Should be:\nC\n    bool success = SaveRGBABufferToPNGFile(\n            outputFilePath,\n            callback_data.width,\n            callback_data.height,\n            callback_data.image_data_ptr,\n            callback_data.image_data_buffer_length,\n            callback_data.image_data_linesize);. Code styling inconsistencies again.\nTo fix, you could do something like this:\n```cpp\n    takeScreenShotHotkey = obs_hotkey_register_frontend(\n            \"OBSBasic.SaveMainOutputScreenShot\",\n            Str(\"Basic.Main.SaveMainOutputScreenShot\"),\n            [] (void data, obs_hotkey_id, obs_hotkey_t,\n                    bool pressed)\n            {\n                OBSBasic &basic = *static_cast(data);\n            if (pressed) {\n                basic.SaveScreenshotHandler();\n            }\n        },\n        this);\n\n```\nOr if you want to make it a bit less squishy and clean looking:\n```cpp\n    auto screenshot_cb = [] (void data, obs_hotkey_id, obs_hotkey_t,\n            bool pressed)\n    {\n        OBSBasic &basic = *static_cast(data);\n    if (pressed) {\n        basic.SaveScreenshotHandler();\n    }\n};\n\ntakeScreenShotHotkey = obs_hotkey_register_frontend(\n        \"OBSBasic.SaveMainOutputScreenShot\",\n        Str(\"Basic.Main.SaveMainOutputScreenShot\"),\n        screenshot_cb,\n        this);\n\n``. Should bevoid *data`.. Inconsistent code syling with the rest of the project:\ncpp\n    QString dir = QFileDialog::getExistingDirectory(this,\n            QTStr(\"Basic.Settings.ScreenShots.SelectDirectory\"),\n            ui->screenshotOutputPath->text(),\n            QFileDialog::ShowDirsOnly |\n            QFileDialog::DontResolveSymlinks);. Trailing whitespace on this line.  Also, Inconsistent code styling with the rest of the project when calling this function. Should be:\nC\n    obs_add_raw_video_callback(\n            &raw_video_format,\n            callback_data.raw_video_callback_ref,\n            &callback_data);. Should be video_data *data.. Inconsistent indentation with the rest of the project.  I'll give you an example of how it should look normally:\n```C\n    callback_data.raw_video_callback_ref = [] (void param,\n            video_data data)\n    {\n        raw_video_callback_frame_data_args args =\n                (raw_video_callback_frame_data_args )param;\n    // Copy screenshot data aside\n    args->image_data_linesize = data->linesize[0];\n    args->image_data_buffer_length =\n            args->image_data_linesize * args->height;\n\n    // Allocate memory for video data\n    args->image_data_ptr = (uint8_t*)bmalloc(\n            args->image_data_buffer_length);\n\n    // Copy video data to our own buffer\n    memcpy(args->image_data_ptr, data->data[0],\n            args->image_data_buffer_length);\n\n    // Remove our callback as soon as we're done\n    obs_remove_raw_video_callback(\n            args->raw_video_callback_ref,\n            param);\n\n    // Signal the calling thread we're done\n    os_event_signal(args->complete_event);\n};\n\n``. Should beif (pressed) {`. This indentation of the parameters is inconsistent with the rest of the project.  It should be more like this:\ncpp\nstatic bool SaveRGBABufferToPNGFile(\n        const char  *outputFilePath,\n        uint32_t    width,\n        uint32_t    height,\n        uint8_t     *image_data_ptr,\n        size_t      image_data_buffer_length,\n        uint32_t    image_data_linesize)\n{. Code styling is inconsistent with the rest of the project.  It should be type, space, reference/pointer operator, then variable.  Like this:\ncpp\n    for (auto &i : volumes)\nAlso, I would prefer the variable be named something like vol rather than i if that's okay.  i is more of a name you'd use if it were iterating through numbers rather than objects.  vol makes it a bit more clear that it's an object.\nSo I feel:\ncpp\n    for (auto &vol : volumes)\n        delete vol;\nwould be a bit better.\nAdditionally, the reference operator isn't even necessary here due to the fact that the vector stores pointers.  You could do:\ncpp\n    for (auto vol : volumes)\n        delete vol;\nor, perhaps even:\ncpp\n    for (VolControl *vol : volumes)\n        delete vol;\nto make the code a bit more explicit/readable to someone reading the code.. Just a tiny indent inconsistency here, you'll notice the indent of these four lines is inconsistent with the previous lines.  Make sure to double-check your commit diffs in the future.. This block of text goes over the column limit (80), would probably be better like this:\nC\n    obs_property_t *alignmentProp = obs_properties_add_list(props,\n            \"alignment\", obs_module_text(\"Alignment\"),\n            OBS_COMBO_TYPE_LIST, OBS_COMBO_FORMAT_INT);\n    obs_property_list_add_int(alignmentProp, \"Left\",\n            TEXT_ALIGNMENT_LEFT);\n    obs_property_list_add_int(alignmentProp, \"Center\",\n            TEXT_ALIGNMENT_CENTER);\n    obs_property_list_add_int(alignmentProp, \"Right\",\n            TEXT_ALIGNMENT_RIGHT);. Goes over the column limit.  Should be:\nC\n                srcdata->lines_width[current_line_index] =\n                    current_line_width;. We start the brace on the next line after functions.  And some of these lines go over the column limit.  case statements should be on the same column as the switch.  Additionally, the braces for the case statements feel a bit unnecessary because you're not really declaring any variables there.  This block should be:\n```C\nuint32_t get_dx_for_line(struct ft2_source *srcdata, int line_index)\n{\n    if (line_index >= max_aligned_lines) {\n        return 0;\n    }\nswitch (srcdata->alignment) {\ncase TEXT_ALIGNMENT_CENTER:\n    return (srcdata->max_line_width -\n            srcdata->lines_width[line_index]) / 2;\ncase TEXT_ALIGNMENT_RIGHT:\n    return srcdata->max_line_width -\n        srcdata->lines_width[line_index];\ndefault:\n    return 0;\n}\n\n}\n```. Goes over the column limit.  Should probably be:\nuint32_t dx = get_dx_for_line(srcdata, 0), dy = srcdata->max_h;\n    uint32_t max_y = dy;. Although your change here is how it should be, this code styling change is unnecessary and should be removed from this commit.. You're changing code styling here unnecessarily.  Additionally, for this project it should always be\nC\n} else {. A styling nitpick -- especially in C code, I prefer not using single-line comments (//).  Instead, for your comments, format them like this to keep consistency with the rest of the project:\nC\n    /* bzalloc so the string is zeroed */\nAlso, I'd consider this particular comment unnecessary, as anyone who uses C should know fairly quickly that it's a zeroing allocation function.  Please remove this particular comment.\nThe other two comments however are good to have, because the code is not as obvious.  However, please change them so that they use /* and */, like above.. Oh, and additionally, please add a blank line before this.  Separating small code segments like this helps make the code more readable.  You erased the existing blank line here unnecessarily.  Keep things like that in mind for the future.. Should be\ncpp\n    } else if (preset > 1) {. Should be:\ncpp\n    virtual void paintEvent(QPaintEvent *event) override;\nThe virtual technically isn't necessary but I kind of prefer it.  The override however is definitely always good practice I feel.. Should be:\ncpp\n    for (int i = 1; i < 9; i++) {. Should be:\ncpp\n        if (preset == i + 1) {. Should be:\ncpp\n    } else if (action) {. Should be:\ncpp\n                } else {. Should be:\ncpp\n    while (treeItem && obs_sceneitem_get_id(item) != id) {. Should be:\ncpp\n    if (treeItem != nullptr)\nor better,\ncpp\n    if (treeItem). cpp\n    return nullptr;. Should be:\ncpp\nColorSelect::ColorSelect(QWidget *parent)\n    : QWidget(parent),\n      ui(new Ui::ColorSelect). Should be:\ncpp\nvoid SourceTreeItem::paintEvent(QPaintEvent *event). Unnecessary empty line here.. I think this is never released -- causing a memory leak.\nOne trick you can do is something like this:\n```cpp\n    QMenu menu = new QMenu(QTStr(\"ChangeBG\"));\n    QAction action;\nOBSData privData = obs_sceneitem_get_private_settings(item);\nobs_data_release(privData);\n\nobs_data_set_default_int(privData, \"color-preset\", 0);\nint preset = obs_data_get_int(privData, \"color-preset\");\n\n```\nI should probably add some constructor or sub-class of OBSData that allows it to pass the pointer without incrementing the reference.  Right now you have to release it right after because OBSData automatically increments the reference on construction.\nEither that, or you can release it with obs_data_release() normally when you're finished with the data, C-style.. Just a nitpick, I feel as though this feels a bit more clean:\n```cpp\n        int preset = colorButton->property(\"preset\").value();\n    treeItem->setStyleSheet(\"\");\n    treeItem->setProperty(\"preset\", preset);\n\n    obs_data_set_int(privData, \"color-preset\", preset + 1);\n    obs_data_set_string(privData, \"color\", \"\");\n\n    for (int i = 1; i < 9; i++) {\n        stringstream button;\n        button << \"preset\" << i;\n        QPushButton *cButton = colorButton->parentWidget()\n            ->findChild<QPushButton *>(button.str().c_str());\n        cButton->setStyleSheet(\"border: 1px solid black\");\n    }\n\n    colorButton->setStyleSheet(\"border: 2px solid black\");\n\n```. Should be:\ncpp\n    SourceTreeItem *GetItemWidgetFromSceneItem(obs_sceneitem_t *sceneItem);. Hm, seems these allocations are never freed.  Might want to free them somewhere in the obs shutdown phase.. I'm going to try the PR with that param.  Hopefully @compiler-errors can make some time verify this.. I tested the MBEDTLS_SSL_VERIFY_REQUIRED param and it seemed to work -- @compiler-errors may want to also confirm whether this is alright.. I think this may be better if the default is ON for this option.  Facebook won't function without it if it's set to rtmps anyway.. Oh, I'm sorry.  What I meant is that it appears to stream.  I did get a disconnect my first time I tried it, but I'm unsure if it was due to the cert code change.. You need to add this text to the data/locale/en-US.ini file of the module.. The code to get the id and then get the obs_source_info structure is redundant because the obs_source_info structure is stored as a part of the source.  So instead of:\nC\n    const char *id = obs_source_get_id(source);\n    const struct obs_source_info *info = get_source_info(id);\n    if (info)\n        info->media_play_pause(source->context.data);\nThis should be:\nC\n    if (source->info.media_play_pause)\n        source->info.media_play_pause(source->context.data);\nPlease fix for the rest of the functions you added as well.. Instead of a play_pause function that presumably toggles the play/pause state, have it set whether you want to pause or unpause.  For example:\nC\n    void (*media_set_paused)(void *data, bool pause);\nAnd then do the same for the actual source function as well if possible.  Not sure if it's worth adding a function to get the current pause state considering you already have a function to get the state, media_get_state.. These functions should really be in the source section, a sub-section for media functions (if you look in the file, you'll see sub-sections like \"functions used by sources\").\nAdditionally, these functions should be renamed.  For example, instead of obs_media_restart, I'd probably recommend obs_source_media_restart, then similarly for the other functions.. You shouldn't call show() as a part of the constructor.  It should typically be done by the calling creator of the class.. Not sure if this should be 100 milliseconds, considering that the source functions can only return seconds.. I would also probably recommend adding the Qt::WA_DeleteOnClose attribute for this window so that it doesn't use unnecessary resources when the user closes it.  That timer is always on otherwise, and scene item never dereferenced.\nAlso, this dialog should probably be deleted in OBSBasic::~OBSBasic(), similar to how the OBSBasic::properties member variable and others are handled.. You may want to store an OBSSource, or better, OBSWeakSource instead of OBSSceneItem.\nOBSWeakSource will require conversion to OBSSource every time you want to use it, but it will allow you to hold a reference without having actual ownership, and would allow you to very easily detect when the source has been destroyed/removed.  If it's converted and you get a null value for the OBSSource, then it's destroyed, and the window should probably terminate.\nAlternatively if you really want to hold a reference, you need to at least check for removal, similarly to how the OBSBasicProperties and OBSBasicFilters dialogs work.  Those hook the source's \"remove\" signal.  However, I think OBSWeakSource is more than adequate for your case and both easier and more ideal overall.. state variable is unused here -- the function returns right after this line.. This needs to be set to false above the strcmp first, to ensure it doesn't get \"stuck\" as true.. You removed All formats (*.bmp *.tga *.png *.jpeg *.jpg *.gif);; for some reason.  I don't feel it's redundant just because we have *.*.  We should have All files (*.*) too, but All formats I feel should not be removed.. should be\ncpp\nclass OBSSlider : public QSlider {. I wouldn't recommend lambdas for connections.  This isn't working on all versions of Qt, hence the build failures.  I'd probably just recommend using a slot function instead.. Check this section of the diff.  Purely a stylistic thing, but you may want to fix the alignment here.. ___WORDSIZE doesn't exist on microsoft's compilers.  I'd probably recommend including <util/platform.h> and then using ARCH_BITS instead, which defines the same value on all operating systems.. This variable is unused.. Should be:\nC\nstatic enum gs_shader_param_type get_effect_param_type(const char *type). Unnecessary code style change. Unnecessary change along with the 3 others above this.. Unnecessary change here as well.. The bstrdup/bfree feels unnecessary here.  Should just do:\nC\ndstr_copy(&path, da_end(ss->paths));. I think this line can be removed now.. I think you still forgot this part. You're including it twice here.. This line seems strangely out of place and unrelated to the commit.. This must be unintentional.  Probably want to remove this from the commit diff.. Probably want to remove this from the commit diff as well.. To clarify what Techjar is saying here, instead of using the number '5' throughout the code, you should create a macro at the top:\n```C\ndefine MAX_LOADED 5\nand then use that sort of macro throughout the codebase instead of using 5, both for the sake of code clarity and in case you want to change that number for whatever reason without having to change every instance where '5' is used (if it's used elsewhere).. Causes:\nwarning C4267: '=': conversion from 'size_t' to 'int', possible loss of data\n. Also causes:\nwarning C4267: '=': conversion from 'size_t' to 'int', possible loss of data\n```. Having braces for a single statement is fine.. Trailing whitespace here, just noticed it.. I would recommend changing this to:\ncpp\nbool autoRemux = false;. This diff hunk has a slight bit inconsistency:  the removal used spaces, and the addition uses a tab.  (I realize that this is a bit of a nitpick).  If it's okay, may I ask you to change the addition to use spaces?\nFixing this isn't too difficult, and there are a few ways you can do this:\n1.) You can modify the file to fix this, and then make a fixup commit, and rebase:\n    - git commit -a --fixup=HEAD~1:  The -a commits any unstaged changes, and --fixup=HEAD~1 marks it as a \"fixup\" commit for the CI: Create AppImage commit (HEAD~1).  The resulting commit should be fixup! CI: Create AppImage.\n    - git rebase -i --autosquash HEAD~3:  Performs an interactive (-i) rebase for the last three commits (HEAD~3), and then automatically squashes (--autosquash) the commits marked as fixup!.\n2.) You can do an interactive rebase against the last two commits, and edit during the rebase:\n    - git rebase -i HEAD~2:  Interactively (-i) rebases against the last two commits (HEAD~2)\n    - Mark the CI: Create AppImage as edit, then save to continue the rebase\n    - Edit the file\n    - git add .\n    - git rebase --continue to save the commit and finalize\nIf you are new to git and feel uneasy doing rebases, you can always back up your changes to another branch before performing a rebase via git branch my_backup_branch, and you can then restore your current branch to that backed up branch at any point by doing git reset --hard my_backup_branch, which will overwrite the current branch (and remove any unstaged changes I should note) to the state of the backed up branch.\nIn the future, I recommend using git diff to check your changes before committing/submitting so you can spot any inconsistencies.  git diff will show you any issues with your changes, and show you what it looks like from the maintainer's perspective.  Good diffs and commits help make life a bit easier for maintainers and help keep project contribution efficient.. Needs to be at the bottom of the enum, otherwise breaks ABI. ",
    "computerquip": "facepalm Sorry about that.\n. ThoNohT, this is only querying GLX version. The latest revision is 1.4 of the GLX specification. We require the latest because we use glXGetProcAddress. \nTesting for GL version is done in a later function inside of gl-subsystem.c (almost immediately after the platform_create function is called).\nI'll go ahead and add that I don't know of any system that doesn't support GLX 1.4 at this time (unless the system hasn't been touched for about 2 years).\n. Not that I'm reluctant against the change, but it still wouldn't matter. A GLX 2.3 would still be compatible with GLX 1.0, similar to how a GL 4.4 compatibility profile still supports GL 1.0. \n. Oh, I see your point. If you want, submit a merge request with said changes. If not, I'll probably do it sometime tomorrow. Obviously no rush.\nI really wish GLXEW worked. Then I could have just done \"if (GLXEW_VERSION_1_4)\" and be done with the damn thing...\n. Actually, nah, I'm going to just get GLXEW working by going the long route... should be better in the long run. \n. Did you test other compilers by any chance?\n. I need to review the display list patch. I didnt know prev_next is a double pointer. Dont merge yet. Rather confused as to why gcc isnt giving a warning of some kind....\n. Okay, we're left with just the debug proc touch up. The other commit didn't do what I thought and I can't reproduce the original segfault that was meant to fix. This should be good to merge if merge build is successful. \n. Good catch. Fixed in last commit.\n. Eagerestwolf, it's not that you're instructions are wrong, it's that they are long and some of it doesn't belong. What you provide here is prone to upkeep and may eventually be incorrect as a result. It's also not as complete as the installation instructions provided by each individual project that we require.\nI'm not against adhering to a novice user but I'd feel much better if they were to get more complete and correct information than a summary.\ntldr; The INSTALL should only adhere to obs-studio.\n. I help look into it Soon(tm) if no one finds a solution. We can use xrandr\ninstead of xinerama to my understanding which is more complete. Perhaps I\nshould look into that.\nOn Dec 2, 2014 9:57 AM, \"Jake Probst\" notifications@github.com wrote:\n\nWell thats the setup I have (1 server, 2 screens I cant move windows\nbetween) and it was crashing on startup about not having xinerama enabled.\nI do believe xinerama is an extention to allow you to move windows between\nseparate X screens.\nhttp://www.twitch.tv/toastermage/b/594920031 here is a recording I made\nwith my settings\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/308#issuecomment-65253078.\n. Test it up! Basically just see if everything works. Try resizing, minimizing, or pretty much anything to do with the window that might effect the rendering area. \n. I'm done with this branch for now and the pull request should now be stable for review and comments. Apologies ahead of time about any styling or habitual monstrosities. \n. I didn't mean to assign myself and I just now notice I was assigned. Apologies. \n. Was there no need to merge this? Otherwise, you should reopen the pull request.\n. Would it be reasonable to put this into a function so it doesn't introduce variables into the top-scope of the cmake script? . It's from before I had a working patch.\nReally, that variable can be removed entirely as it never changes from GS_RGBA at this moment. \nEither way, it doesn't effect anything. \n. \n",
    "ThoNohT": "glXQueryVersion(display, &major, &minor);\nif (major < 1 || minor < 4) {\nWouldn't this break for, say version 2.3?\n. Well, my comment was more general than really relating to any specific library, it just seems strange to use knowledge that you know might change in the future (like version numbers) and rely on that in the code.\nUnless you're sure that either 1.4 will always be the latest version, or if version 2 comes out, the minor numbers will keep increasing rather than resetting to 2.0, this might break sometime.\nWhat's the reason for not making this more robust by changing the guard to something that will always be correct, say\nif (major < 1 || (major == 1 && minor < 4))\nAnd even if you're sure it will always be correct, I'd personally still use guards that actually express the mathematical expression you're after, just for sanity's sake. Especially the sanity of other people trying to read the code :smile:\nI'm just thinking aloud here by the way, this might apply to other places too, and you guys might not agree with me at all, I just happened to notice it here. If I'm horribly mistaken, I'd love to know the reason why though.\n. Yes, that's why I suggested the change. The test as it is now will fail on 2.3, while like you just said, it would still be compatible. The change I proposed actually makes sure any version higher than 1.4 will pass the test.\n. I would think that Ctrl+ C copies the scene item, not just the transform. I'm not sure replacing the center shortcut for this is such a good idea, especially for functionality that is not entirely intuitive.. Ctrl + C is the center hotkey in OBS1, my bad, I thought that never changed. In OBS Studio it is Ctrl + D apparently. It's probably not that bad then. Though the discrepancy between n/c and Ctrl + D is still a bit weird, that's not the issue of this PR.. Please make sure this follows the contributing guidelines. This could all fit in a single commit, with a commit message. See https://github.com/jp9000/obs-studio/blob/master/CONTRIBUTING for the guidelines.\nAlso, does this introduce more locales? You should then update the en-US locale file as well. Other languages will be handled by Crowdin.. These strings should be localized.\n. ",
    "andy-kliman": "Hi, I'm glad to help you and the project. Sorry, but i don't understand what \"it appears that it's missing a number of images\" means. What images did u mean?\n. Ok, I understand :-)\n. Okay, I get it. By the way, \"brew install qt5\" works for me.\n. ",
    "palana": "See https://developer.apple.com/library/mac/documentation/userexperience/conceptual/applehiguidelines/IconsImages/IconsImages.html#//apple_ref/doc/uid/20000967-SW2 (Table 5-1 in case the anchor doesn't work properly)\n. Also squash commits like Socapex@f25a3695704d3e6fdab732fa0d2291605c016a17 and Socapex@e39b800ec641f51bc2a762fd9080a4dc2c320ff1\n. Also please squash your commits and/or provide more meaningful commits(/commit messages)\n. Sorry, but no, fix your commits, not your commit messages\n. Please squash your commits\n. Either way, please remove that merge commit from the pull request\n. I suggest splitting this PR into multiple PRs, random changes like https://github.com/BtbN/obs-studio/commit/fe75a38fdd51f153ea9e1ad9c72d8e385f731177 and https://github.com/BtbN/obs-studio/commit/13408ae61c51ab0a8e248ab4f1258da7c4d9d290 aren't relevant to \"CMake changes\" or \"additional C++ helpers\" at all\n. You'll have to explain how splitting the PR would \"make it a horrible mess\". And the reason is to focus discussion on related changes, which is a very good reason.\n. One question I was going to ask you on IRC: what's the use case for recording all mouse/keyboard activity?\nAlso, instead of adding those new start/stop functions you should probably look at the output signals instead.\nUnless there's a very compelling answer to the first question I don't think this will/should be merged (disregarding code style issues and such)\n. Let me rephrase\n\nAlso, instead of adding those new start/stop functions you should probably look at the output signals instead\"\n\nThese API calls don't make sense, and won't be merged. Use output signals instead.\n\nNote: the \"libobs/obs add source start/stop methods\" commits implement a solution for error reporting to users similar to what has been proposed in issue 309 \"Implement better error reporting for encoders/outputs\" https://obsproject.com/mantis/view.php?id=309\n\nSimilar in the sense that it returns a string, but not at all what's required. Ignoring the fact that these API calls don't make sense, the error message that the mantis issue wants is something to display to the user; so it would have to be localized. Also it should be possible to return a string with semi-dynamic content, so const char * return type won't work at all (the mantis issue explicitly mentions dstr * and char **)\n. VS2015 update 2 is what introduced the problem (according to not-so-recent messages in #obs-dev).\nThe actual problem is some interaction with volatile bool          issued_queries[NUM_BUFFERS]; inside the union (and the default initialization?); moving that outside the union is the least worst way of working around the internal compiler error\n. One other thing: pull requests should never* contain merge commits, please remove https://github.com/obsproject/obs-studio/pull/1268/commits/ab173c0fc6a87c034a9aefb3104c042c72e26a82. re:\n\nFYI you can rebase/squash commits and force-push to revise a PR. That's what is preferred for this project.\n\nYep, ideally some time* after the initial reviews are done. Could you change your commit message a bit?\n\nPatches a memory leak when a poorly matched type value is not handled by the case switch.\n\nIt's not about what is or isn't handled in the switch necessarily, it's about what source types are available at runtime (as the commit adding that if indicates, the browser is technically optional). E.g. just remove that line?. How about\nc\nlen = (unsigned int)(ret) > buflen ? buflen : (unsigned int)ret;\nto keep differences minimal?\n. Please make this a separate commit (and include a reference to the C99 standard 6.11.5 Storage-class specifiers in the commit message)\n. ``` c\ndefine MAKE_FOURCC(a, b, c, d) \\\n    ((uint32_t)(((d) << 24) | ((c) << 16) | ((b) << 8) | (a)))\n\n```\naccording to the style guide; could probably use a few \" & 0xff\" in there as well\n. c\n    case MAKE_FOURCC('U', 'Y', 'V', 'Y'):\ni.e. space after ,\n. c\n    if (!loading) {\n        \u2026\n    }\naccording to the style guide\n. Make sure to use tabs instead of spaces (in addition to the above comment)\n. Those lines are too long, make sure to stay within the limit (other lines might be too long as well)\n. No need to change this\n. Either remove this or make it an extra commit\n. This line is too long, I suggest replacing placeHolderText on line 1040\nc++\nQString const placeHolderText{QT_UTF8(obs_source_getdisplayname(\u2026))};\nto avoid this issue\n. These lines seem to be too long as well, easiest copy+pasteable fix is probably to rewrite all of this as\n``` cpp\nif (loading)\n    return;\ngeneralChanged = true;\nui->buttonBox->button(QDialogButtonBox::Apply)->setEnabled(true);\n```\nor maybe add a helper in window-basic-settings.hpp along the lines of\ncpp\ninline void EnableApply(bool enabled)\n{\n    ui->buttonBox->button(QDialogButtonBox::Apply)->setEnabled(enabled);\n}\n. This should probably not be part of the interface\n. Why did you add those additional blank lines?\n. Was this unnecessary before https://github.com/bazukas/obs-studio/commit/32a2cd2427616fc997641ed5f26e733ad107317a?\n. This should have been in https://github.com/bazukas/obs-studio/commit/1eeca365372f13f3f2b26f16cfec6863b7a4c822\n. According to https://github.com/bazukas/obs-studio/commit/32a2cd2427616fc997641ed5f26e733ad107317a#diff-e00c70db65e08372206db041893a7be5L195 it isn't\n. The problem is that https://github.com/bazukas/obs-studio/commit/32a2cd2427616fc997641ed5f26e733ad107317a#diff-e00c70db65e08372206db041893a7be5L195 contains a style guide fix for https://github.com/bazukas/obs-studio/commit/1eeca36#diff-e00c70db65e08372206db041893a7be5R195\nBoth this and the previous line I commented on seem unrelated to the properties implementation\n. This should be static const char *av_capture_getname(void)\n. This isn't relevant to https://github.com/BtbN/obs-studio/commit/a760a7f50419e4c9a8e832d209e7627d33f1a1b9\n. These two lines seem unnecessary; also maybe add a blank line before class VolumeMeter : public QWidget\n. This should be in a separate commit\n. This change seems unnecessary\n. CodingStyle: if (resetTimer) {\n. CodingStyle: if (resetTimer)\n. CodingStyle: if (event->timerId() == resetTimer)\n. This should be in its own commit\n. This doesn't seem relevant to the commit it is in\n. Feel free to make another commit that removes that variable or moves it to the top or whatever, but please don't do it in this commit\n. Variables should be camelCase, e.g.:\ncpp\nQFile file(\u2026);\nAlso you probably want to load the stylesheet from the (user) config directory as opposed to the current directory\n. Why use QLatin1String? QString str = file.readAll(); should automatically produce UTF8, which is probably more desirable than other encodings?\n. Please don't delete (empty) lines randomly\n. The addition of new API calls should happen in a separate commit from adding support for a new library\n. This should be in a separate commit.\n. All new functions seem to violate the coding style: opening braces for functions belong on a new line, e.g.:\ncpp\nint os_get_data_path(char *dst, size_t size, const char *name)\n{\n. Please keep all lines below 80 columns\n. Spotted a few tabs that should probably be spaces\n. The actual purpose of this call is to set an expected time between calls (and enable tracking of time between calls); unless you want to track recurring events (such as video rendering) you don't ever need to call this (even when profiling a different thread). NSPicturesDirectory re: your TODO. This function is \u2026 really big; you should consider splitting it up, and maybe even moving (all) the parts to a separate file (e.g. not have any ffmpeg includes in UI/window-basic-main.cpp). Keep in mind that @jp9000 has a limit on line lengths. Super-nitpick: just use a single space here?. The formatting below (and including) this line is kind of weird; reformat it to better match the other lines?. Noticed a few more minor thing while having this file open in an actual editor:\n- use spaces for alignment (e.g. no tabs after indentation is done)\n- * is attached to the identifier instead of the type name\nso these lines should read\nconst char *outputFilePath,\n    uint32_t   width,\nor similar, depending on how much space you need for alignment (though I don't think the code uses this style of alignment anywhere else in function parameter declarations). Non-function-level braces belong on the same line as the if (i.e. https://github.com/torvalds/linux/blob/master/Documentation/process/coding-style.rst#3-placing-braces-and-spaces) though in this case the guidelines would even omit braces (@jp9000 has been violating the \n\nDo not unnecessarily use braces where a single statement will do.\n\npart all over the place, so not sure what the exact stance on that is)\n\n. Found another case of weird formatting, you probably want a space instead of a tab here. So the overall formatting, while satisfying the line size limit just feels off a bit (sorry, and not sure if @jp9000 would mention this in his review), i.e. it's density is really low; I'd suggest something like\nswsc = sws_getContext(frame->width, frame->height, AV_PIX_FMT_RGBA,\n            frame->width, frame->height, codec_context->pix_fmt,\n            0, NULL, NULL, NULL);\nsemi-perhaps-logical grouping of parameters, so function calls don't span too many lines. Another small thing, was it necessary to change the width?. Alright. Sure, but there are no comments, so it's wasted space at this point. json_settings will leak here if obs_source_get_display_name returns NULL (which will happen e.g. for unknown types/ids). Yes, there already is a memory leak (settings leaks at that same point); not asking you to fix that, just pointing out that you shouldn't introduce another memory leak (also, you can either fix this by replacing obs_data_t json_settings = nullptr; with OBSData json_settings; and adding obs_data_release(json_settings); right after json_settings = obs_data_create_from_json_file(data);, or you can use something like\nif (!obs_source_get_display_name(type)) {\n        obs_data_release(json_settings);\n        return;\n    }. Please don't add this (obs_data_release(settings);) in the same commit; make a separate commit (\"UI: Fix drag&drop memory leak\" or similar). Ideally both (separate PR and commit). There'll likely not be a merge conflict if we follow these steps:\n1. you make a separate PR with the leak fix\n2. I merge that PR\n3. you rebase this PR on top of the fixed code. Ready for step 3. Pretty sure this fix isn't correct; streamname is still being referenced as out->av_val, so it has to be freed elsewhere. Looks like you included changes which don't belong in this commit (and PR). There's some unrelated whitespace change here that doesn't belong in this commit. You're blocking any callers of SaveScreenshotToFile for multiple frames, i.e. the UI thread will wait for multiple graphics thread frames; this really shouldn't happen imo, kind of the same problem as the initial design that blocked the graphics thread instead. It's not, he requested styling to change on the lines you added in that commit, not existing lines. By breaking git history? Nope. Seems unnecessary to store this here (only \"external\" user is https://github.com/obsproject/obs-studio/pull/1332/files#diff-49c79ab337c1b285fdee4bfa2b29ee6bR128), because you can easily \"recompute\" it around https://github.com/obsproject/obs-studio/pull/1332/files#diff-49c79ab337c1b285fdee4bfa2b29ee6bR190 (i.e. make it local like https://github.com/obsproject/obs-studio/pull/1332/files#diff-8b48bed5a6b15dfc1cdbc79269834540R122). This should probably be OBS_SOURCE_VIDEO instead of OBS_OUTPUT_VIDEO, even if their actual values are the same for the time being. Please remove this change from the commit. The indentation of the connect call didn't change, so this line shouldn't change either; please remove this change from the commit. Super-nitpick: call it drawable_preview instead of drawablePreview, to fit the local naming convention (should probably also rename it in the other file if you make it local). Another nitpick: to keep indentation consistent between the connect call and addDrawCallback, you should probably increase indentation here. Not sure if \"member functions\" is super accurate here, maybe just remove that part?. suggestion\n        case MFX_ERR_LOCK_MEMORY: do_log(LOG_WARNING, \"QSV failed to lock memory\"); break;. Not super important in this case I guess, but this file is kind of on the verge of being big enough that you want to define those macros very close to their actual call sites (and then probably undefined them immediately after the switch, more or less). This removal should happen in a separate commit btw. \n",
    "OBSJenkins": "Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Test PASSed.\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Test PASSed.\n. Test PASSed.\n. Can one of the admins verify this patch?\n. Test PASSed.\n. Test PASSed.\n. Test PASSed.\n. Test PASSed.\n. Test PASSed.\n. Can one of the admins verify this patch?\n. Test PASSed.\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Test PASSed.\n. Test PASSed.\n. Test PASSed.\n. Test PASSed.\n. ",
    "BtbN": "ok, jenkins build this\n. jenkins build this\n. jenkins build this\n. jenkins build this please\n. jenkins ok to build\n. jenkins build this\n. Yes, I did come accross a bunch of stuff that needed attention. But splitting this into 5 or even more individual PRs would make it a horrible mess for no good reason.\n. Jenkins build this\n. That seems like a good idea, yes.. Hm, i kind of think it'd be a better solution to get rid of the lib prefix instead.\n. ",
    "technodude458": "what do you mean by change to desktop - cd ~/Desktop\nclone repo - git clone https://github.com/jp9000/obs-studio.git (when finished this should give you an obs-studio folder)\nchange to into the obs-studio folder - cd obs-studio\ncreate a cmbuild folder - mkdir cmbuild\nand change to it - cd cmbuild\nthen run the following command - cmake .. && make && clack i cloned it to the desktop and now I'm kinda confused\n. just started to figure it out in terminal i had forgotten the cd command existed\n. i just got this\n\n. help\n. did that\n. one second\n. not working\n. i tried don't know if it worked I'm not seeing find_package(Qt5Widgets REQUIRED) in the cmakelist.txt document\n. i was having trouble setting the cmake_prefix_path\n. i tried that silly\n. it doesn't exist\n. and thats how i feel every day\n. ",
    "dalekurt": "Here is what I have done for my build, I'm not sure what the \"clack\" command is\ncmake .. && make && make package\n. If you have homebrew installed you should run the command \nbrew install qt5\nMake sure you have the latest commit to the master, I think the developers fixed the issue for Qt5\n. Run git pull the run your cmake ..&& make && make package again, if you still get the error message as before then you should edit the obs/CMakeList.txt. Add the line: \nset (CMAKE_PREFIX_PATH \"/usr/local/Cellar/qt5/5.2.1/lib/cmake/Qt5Widgets\") \nAbove this line\nfind_package(Qt5Widgets REQUIRED)\n. ",
    "shaqaruden": "Cd means change directory. You use the 'cd' command navigate into a directory\n. Was typing on my iphone must have been an auto correct or something \n. I have posted install instructions a few comments above. You may need to restart terminal after setting the CMAKE_PREFIX_PATH\n. What did you try? Did you set the CMAKE_PREFIX_PATH?\n. I put the command in that you need in my early post.\u00a0\u2014\nSent from Mailbox\nOn Tue, May 13, 2014 at 2:17 PM, Ambrosia notifications@github.com\nwrote:\n\nPlease go to IRC, you're spamming everyone's email.\nReply to this email directly or view it on GitHub:\nhttps://github.com/jp9000/obs-studio/pull/45#issuecomment-42992137\n. \n",
    "dodgepong": "Also @technodude458 this is not a chat room. It would be better if you wrote out complete responses, explaining your actions and the exact issues you're having, rather than spamming 2-word replies.\nIf you want a chat room, come to the #obs-dev IRC channel on Quakenet. Or if you feel that this compilation process is too complicated, then just wait until a public build is made available.\n. Localization fixes are submitted on CrowdIn, not via github. Please go there to submit your changes. https://crowdin.net/project/obs-studio\n. When you said you were translating into traditional Chinese earlier, I did not know you weren't aware of CrowdIn. We do not take localization pull requests anymore. Instead, submit translations via CrowdIn. More information here: https://obsproject.com/forum/threads/how-to-contribute-translations-for-obs.16327/\nThe obs-studio CrowdIn project is here: https://crowdin.net/project/obs-studio\n. I will go ahead and import your work into CrowdIn already to speed things up for you.\n. It might be worthwhile to include mentions of the Arch AUR and the openSUSE packman package if we're going to include the PPA instructions.\nAlso, you don't have to make a new PR every time you make a change, just commit, and resquash over the existing one.\n. Localization is not accepted via pull request. Please submit localization changed on CrowdIn: https://crowdin.com/project/obs-studio\n. I should have been more explicit in the chat: all localization should be removed from this pull request except for en-US. The rest will be overwritten by Crowdin. \n. No worries! Thanks for the contribution. \n. With all due respect, Jim's obligation is to the software and the code base, not your client. Can you not just implement what you need for your client and make a custom build for them? I don't see why there is time pressure for this to be merged.\n. Well, as a plugin, he can submit it as a new plugin resource on the forums if anyone wants to just install it on their own, like the Browser source.\n. Localization is handled in CrowdIn, not via PR. You can submit a fix here: https://crowdin.com/project/obs-studio\n. I didn't, I assumed it was an actual localization error. Whatever, I suppose this is fine.\n. Upon further investigation, I think the lowercase \"bokm\u00e5l\" is correct. In English it may be capitalized, but from what I understand in Norwegian itself, it would be lowercase. I would prefer the opinion of an native speaker before accepting this (your PR message leads me to believe you are not a native Norwegian speaker).\n. That is an automated message. But we do not take translation updates via Github PR anymore. Please submit your changes via CrowdIn.\nhttps://crowdin.com/project/obs-studio\n. That is not currently possible in OBS, as far as I know. @Alkaris is asking for a new feature that has not been implemented in OBS yet. I wouldn't worry about it.\n. Is there a reason you are submitting this PR? This branch has existed in the OBS repo for a while now, and if it was ready, it would have been merged. You yourself didn't add any code here. I don't see the point of this.\n. You can post on the forums: https://obsproject.com/forum/list/linux-support.34/\n. Whatever the solution is, if it's based on color, make sure it's friendly to those who are colorblind.\n. This seems a bit forward, given that OBS itself does not use Travis or AppVeyor. If you want to use them for your own builds, surely you can just keep the configs on your own? Or are you suggesting that OBS should use Travis/AppVeyor?\nOBS has a Jenkins server, though it's currently inactive, and I am generally in favor of nightly builds...I guess I just feel like this is the sort of thing that should be discussed more directly with Jim first. You can find him in the OBS dev chat room, #obs-dev on Quakenet.\n. That is what this PR changes. 4000 is being set as the \"max video bitrate\".\n. Thanks for the work, but I have a hunch this won't be kept...\n\nhttps://github.com/jp9000/obs-studio/pull/292\nhttps://github.com/jp9000/obs-studio/pull/568\nhttps://github.com/jp9000/obs-studio/pull/576\nhttps://github.com/jp9000/obs-studio/pull/701. I know this pull request was probably made by accident, but it got me curious. What are you working on? Some sort of \"store\" for people to \"buy\" plugins for OBS?. I would rather users be confused and still have their video than be angry and not have their video, so this seems like a cool idea to me. My only concern is about how long the remux process might take for large files after recording stops.. There is now a PR that uses the FFmpeg implementation of VAAPI here: https://github.com/obsproject/obs-studio/pull/1255. It's worth noting that Periscope is primarily a mobile streaming platform, so the bitrate is lower than normal desktop streaming services to accommodate mobile data speeds.. The window on the right (the actual live view) is referred to as Program, the window showing the scene that is \"queued up\" (on the left) is referred to as Preview.. Like, you want to remove your contribution history? Because that's not what this does. You can't just disappear from Github history by removing the changes you made in the past.\n\nAs it stands, if the site still exists in the same form as before, I don't see how this PR improves OBS at all. Instead it makes OBS less useful because users can't use the site as effectively anymore.. You can probably follow these instructions: https://github.com/obsproject/obs-studio/wiki/Install-Instructions#debian-based-build-directions. I think in general this PR would be more usefully constructed and presented as just a set of changes to OBS itself. Relegate the mentioning of the obs-websocket changes to a use-case example.\nReally, this PR (as I understand it) is intended to add API calls to get frame data from sources, and that's it. The rest of the description is largely superfluous.\nThus, to clarify what @Fenrirthviti is asking, why do you care about monitoring the frame rate of input videos? In what way does not having access to that information make OBS Studio \"unusable\"?\nI'm not suggesting that there isn't a good reason, but I would argue that this PR has not been properly motivated as-is.. Upon discussion in the discord, I actually think this feature should be enabled by default. For the average user, I think they would prefer to degrade quality and not drop frames rather than drop frames with static quality.. I think my only additional thought on this PR is that the arrow could use some better styling, and perhaps a tooltip on hover to describe what it is doing right now (if that's possible). Would it be possible to make the arrow green when increasing, and gray while even? Also, it looks like the arrow clips on the right when \"even\" so that the point isn't visible.\n(This is based on the screenshots in the OP -- if this isn't the case anymore, then feel free to ignore.). ...I'm an idiot, I didn't realize the \"stationary\" arrow only appeared during congestion. In that case I think it should be either red or yellow, not gray. Sorry, I know I'm being really nitpicky here ><. Assuming that this is a screenshot of the new bars, I don't believe it to be that confusing. Users might not know what the ticks and dot mean, but ignoring those, they would certainly know that higher is louder and red is bad, and that for a stereo meter, one bar is for L and one is for R. Perhaps this is a case where tooltips might be useful, just in case. Personally, I really like this level of information, especially the ticks and peak information.. Can you explain those use cases? It's possible there is a better way to accomplish what you are trying to do rather than via the text source.. I'm not sure I would go so far as to say it's a bug (if you try to add a DirectShow device that is already in use, that errors out but is not a bug), but I don't mind smoothing over the user experience for those that don't know about this limitation in Windows.. I think this is pretty cool and I would definitely use it myself. That said, it's starting to feel a bit like overload in the audio meter section. Perhaps this also needs a checkbox in audio settings to enable the loudness meters?\nEDIT: Or \"Separate Loudness meter from Level meter\" since the current meter already has a loudness indicator in it..  Ah, I didn't realize that the loudness meter was removed from the peak meters. Does that mean the VU section of the wiki guide is out of date?. This should not be a separate PR from #1190. Instead, update that PR with this change.\nEDIT: Ninja'd by Fenrir.. This is not at all the correct or appropriate way to use GitHub. Please keep these kinds of posts on the forum: https://obsproject.com/forum/\nAlso, you can already do this in OBS, just check the box in Output settings to Enable Advanced Encoder Settings (if you're in Simple mode), or change the output mode to Advanced.. Please post your issue on the forums.. Thanks for submitting! Do you think you could separate it into separate PRs for each fix? Not each commit, necessarily, but PRs are much more likely to be reviewed and accepted when they are each focused on a particular thing rather than several fixes all bundled in a large group.. This is very cool, I've been wanting something like this for a while. My main concern is whether it's clear enough to users that the General and Filters tab affect all sceneitems for that source, whereas the Transform tab only affects the selected sceneitem? Is there a UX concern there, or am I just paranoid?. Jim's comment from last week is the latest news on this issue.. I know you want this really badly, but this is too big of a change for it to be merged in before v22. Give Jim a chance to release the new version, at least, and eventually he will have time to take a closer look at this PR.. So I spent a bit of time playing with a build of this (thanks @palana) and had a couple thoughts on the usability side:\n\n\nIt was a bit weird not seeing a setting for the Screenshot hotkey under the Screenshot settings tab. I understand why it's under Hotkeys, and I don't think it's wrong for it to be under Hotkeys, but it still felt strange to not see a hotkey setting in the Screenshots section. I don't know if it's possible to also show a Screenshot hotkey setting in the screenshots tab, but if it is, then that would be nice. If not, then perhaps we should at least have a note or something saying that users can set the screenshot hotkey under the Hotkeys tab.\n\n\nI still found it disconcerting that there is no indication anywhere that a screenshot has been saved. I understand why we don't want an audio indicator, as it would be recorded when users might not want it recorded. Maybe a visual indicator, such as a temporary \"Screenshot Saved\" message in the status bar? Or a balloon notification? (are balloon notifications still a thing?) Obviously this is the sort of thing that could also be included in a game capture overlay, but that is an entirely different discussion.. Something that @palana just pointed out to me is that the screenshots are of the downscaled ouptut, re-upscaled to the canvas size. For example, if I have a 1920x1080 canvas resolution with a downscale to 640x360, the screenshot function will create a 1920x1080 image of the upscaled 640x360 output:\n\n\n. This is an utterly unacceptable way to make a feature request. If you have a suggestion for OBS, please post it on the forums or the ideas site, not as a meaningless PR.. Perhaps, but making it a dock will make it take even more vertical room due to the header. If vertical space is such a concern, I'd rather have it with a enable/disable toggle.\nIt's worth noting that one of the biggest motivating forces for this feature is to have a place to put media controls without having to open a properties window.. > I still need to see that mixer and the volume levels\nSo, I assume that means you pop-out the mixer and then just hide the rest of the window underneath other things?. For reference, the purpose of this feature is to be able to adjust the canvas size to exactly match the resolution of a particular source. For most people this isn't useful, but for some people who want to record exact windows or exact sources without having to manually change the resolution, then this is useful. . I don't think that the ability to easily rotate a source in non-90-degree increments is niche, personally. It's a very common operation in image editing software and the UI for such a thing is very familiar to people. Oftentimes, it's represented with an extra handle sticking out from one of the middle handles on the source, with a different shape, like so:\n\nAnyway, I think you may be misjudging how many users would appreciate being able to rotate a source outside the transform dialog. Rotating by typing numbers or scrolling a spindown is extremely awkward, and having a quick and easy way to rotate arbitrarily without opening the transform dialog is much better UX.. (Or Undo/Redo...). @bushwookieee Probably because you are watching the obs-studio repository on GitHub.. > Any ideas/suggestions would be welcome in that regard.\nIn-game overlay? \ud83d\ude10. The GDI+ plugin was not the first text plugin added to OBS Studio. Originally the only text plugin for OBS Studio was the Freetype plugin, which is cross-platform. The code from OBS Classic wasn't API compatible so it couldn't be used wholesale, so it's not really right to say it was \"dropped\", more just \"not added\".. This isn't directly related to this PR but I kind of think we should remove the reference to #obs-dev entirely. No dev discussion happens there anymore, as it has all moved to the #development channel on Discord.. This used to be in the program (https://github.com/obsproject/obs-studio/pull/650) but it was reverted (https://github.com/obsproject/obs-studio/commit/06894c6e84d1a12bce4cbfd635cdb17065f1e496, https://github.com/obsproject/obs-studio/commit/fa0bd585a56463b61de11cdddedc427e822e3c80) due to some unexpected behavior that it caused with things like weird title bar heights and not handling monitors with different DPIs well. It's possible things have been improved since then but we'll want to test this pretty thoroughly.. Unfortunately I don't think there were any formal bug reports, just an observation and confirmation on IRC. There may be others who can be more specific? @DDRBoxman . I would prefer this not be listed with my email address.. @SuslikV I think the screenshot is a bit misleading -- Color Source, the first Color Source 2, and Color Source 3 are all selected (with Color Source being the most-recently selected). The fact that the top Color Source has a color applied to the list item makes it hard to observe that. You'll notice that the second Color Source 2 is not selected, and as such does not have the resize handles around it.\nThat screenshot does seem to make the handles look a little on the big side to me. If they have the same width as the diameter of the old circular handles, then maybe they should be shrunk a little due to the fact that they have extra corners now, making them appear a bit bigger. Could just be me, though.. Would it be possible to label these meters as Before and After? I had no idea what they were supposed to represent just looking at the GIF.. Black and white are standard for defining keys, with black being opaque, white being transparent, and gray values being translucent corresponding to how close it is to black or white. It's essentially an extracted alpha channel.. Pardon, I misunderstood what you meant @jhobz. I don't actually know what the industry standard is for defining A and B in a track matte transition. Can you link to some real-world examples where these are used in live production? Are track matte transitions transferable between different production setups, or do they tend to be proprietary to each system?. Worth noting that the \"OFP\" files are just JSON files, sort of an arbitrary file designation to help distinguish them from other random JSON files that may be on a user's system.. If you need to update a pull request, you can just squash and force-push, no reason to close and re-submit the PR.. I see. Well, if you get the chance, I highly recommend and strongly suggest you learn how to use git on your local machine at some point to make use of all of its functionality, not to mention allowing you to use your code editor of choice.. Does this mean you're not testing your changes on a local build before pushing?. @bushwookieee Also worth noting that if you are \"watching\" a repository, you'll get emails about everything. You can click the \"Unwatch\" button at the top of the page on https://github.com/obsproject/obs-studio to unsubscribe from all emails related to this project.. Does the Dark theme not get labels on the boxes?\nIf you apply a filter, does it automatically expand boxes that contain matches?. Okay, but you didn't need to open a second PR to add a second commit. If you look at the Commits tab, you'll see this PR includes both 6b73307540aca04907217b5b475f08bddba10d57 and c660e374818ff989e9d0563bb16478c71c5fb6ee, whereas #1662 just has 6b73307540aca04907217b5b475f08bddba10d57. The better thing to do would have been to update the original PR with the new commit, but I suppose now that this PR exists, we can close #1662 in favor of this one.. Is it possible to make the default size of the widget bigger?. We actually manage our translations on CrowdIn: https://crowdin.com/project/obs-studio\nIf you have suggestions for changes, please post them there.. Hmm, first impression is that I don't like all the sharp corners of buttons, tabs, and fields :/. Thanks for making this! Now my fear is that users won't remember that they are in test mode. I wonder if there is some reasonable way to show users that they are streaming in test mode?. I believe this is supposed to be a locale file key, which typically has no spaces, and a corresponding entry added to this plugin's en-US.ini file.\n. That's correct. If this is GPLv2, then it's compatible with OBS's GPLv2 license. This is fine, as far as I can tell.. Compare to the license at the top of this random libobs file I grabbed: https://github.com/jp9000/obs-studio/blob/master/libobs/obs-audio.c#L1-L16. What is the purpose of this log line?\nSpeaking of which, I see that there is a log entry when bitrate is adjusted, but is there an entry anywhere to indicate whether the user has enabled this feature at all?. Maybe Experiencing network congestion.\\nDecreasing bitrate.? I think that might read better.. If this is the first time the user checks the tooltip, the \"still\" might throw them off. What about Network congestion ongoing.\\nMaintaining reduced bitrate.?. Should this be \"Twitch Activity Feed\"?. Does the name need to be this long? I would think that GameTips.TV should be sufficient.. Small nit: ...bandwidth test mode. This mode allows...\nAlso it might look a bit better with \\n\\n before Do you want to continue? but I could go either way.. Also I'm not sure about if you want to start streaming. This will let them start streaming, but no one will be able to see their stream. I don't want to imply that in bandwidth test mode they can't do a test stream. Not sure on a better phrasing though. Maybe Once you are done testing, you will need to disable it so that you can go live.. That would do it, too.. ",
    "Alkaris": "@technodude458 If you're using TextEdit press \u2318+F and search for it.\n. @technodude458 again with the spamming like if this is some chatroom\u2026 please stop.\nif you can't find it then you can just do this from the command line;\nexport CMAKE_PREFIX_PATH=/usr/local/Cellar/qt5/5.2.1/lib/cmake/Qt5Widgets\n. What about those wanting to split record video and audio separately instead of into one source file? It be much more useful to those who need to record video and audio inputs separately, more so if that person is streaming too, making it easier to manage volume mixing levels from one video source that has audio, but also have mic input audio.\n. ",
    "Ambrosia": "Please go to IRC, you're spamming everyone's email.\n. ",
    "NLDoA": "I would also suggest that someone adds a license to this project.\n. Oh, okay. Did not see that there.\n. Okay, that is fine. :)\n. ",
    "Warchamp7": "The license is in COPYING\n. For the sake of discussion, these are the mockups I created when proposing this idea. The big thing as mentioned was having a way to expose media source controls in a way that would also be useful for other sources.\n\n\nThis is the space I would expect the mac screenshot to take up\n. @WizardCM You probably don't need to touch the height on Acri, just set the padding to 0 for that element. I think at the very least this should have a label indicating what those buttons are for\nI tried adding this idea to the design mockup I've used to inspire #1447 and this is what I landed on\nMy thought would be to move all the Preview right-click options into a gear menu accompanied by a label\n\n\n. @RytoEX We should not be avoiding a reduction of clutter because a bug could break it. You could argue against any feature change or addition with that fear :P . I'd really prefer and recommend stuff like this not be able to be disabled. That said, I also understand we have users that enjoy a compact and barebones experience and my proposals thus far have eaten away ~60px of precious vertical space\nIf this particular row was toggled to be hidden, I'd say put the context menu entries back in that case. @SuslikV What version of Windows are you on? That highlight is not how Dark theme looks on Windows 10, and I wonder if there's a qss bug or something\n\nThis is 22.0.2 with Color Source 2 selected. The highlight is a slightly darker color than the background. It's not very noticeable, and perhaps that should be adjusted. It's not related to this PR though\nThis PRs changes are entirely within the preview area. Preview / Program is obviously the known production terminology but I'm wondering if it's better for us to do Preview / Live. Savvy users will understand and it will also be more clear to the average person. ",
    "p-groarke": "Added a message box to tell the user he needs a scene before adding a source.\n. Done, I think these few feature are helpful from a user standpoint. Open for review.\n. Will change it so it doesn't alert same message if the name is empty.\n. This pull request will get Sources drag&drop to reorder, so do not merge yet. Though code standard and critics are welcomed. I will place stubs for Scenes drag&drop reorder, but until a similar function to\nobs_sceneitem_set_order is implemented, it will wait.\n. Its not ready yet. Can someone on windows confirm that \"Save position and size of main window.\" doesn't save positions outside of screen?\n. No, well yes in a way. Lets say you drag the window so its half-way out of screen. Does it reload there, or is the window 100% visible?\n. So... it's ready then? :)\nTy for the info Reboot, first time doing such a feature. I wasn't sure everything was ok.\n. Evrything is perfect, the new reorder method is really slick, though a bit confusing for me (I don't think I'd ever come up with a solution like that). I will close the PR once the branch is merged.\n. Why not gray out the properties option, so you don't even show the window instead?\n. Ready for merge unless issues arise. If you have bugs/minor complaints, please include a screenshot. I have no way to test it on Virtual Machines unfortunately.\n. Right! Sorry I had switched to sublime text for those edits. Will fix.\n. noted\n. That is weird, it is ok on my side...\n. ",
    "antihax": "Float is easier to deal with. I will clean this code up when i get a chance to sit down.\n. Interesting. It's a macro included somewhere. Wonder why it didn't make this scope?\n. Will do. Got a new laptop yesterday, just getting it all setup.\nOn Fri, May 23, 2014 at 11:04 AM, Jim notifications@github.com wrote:\n\nthere is no max/min in C -- or at least GCC and clang don't provide them.\nI would recommend just using fmaxf\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/jp9000/obs-studio/pull/90#issuecomment-44029820\n.\n. Done.\n. It builds on linux and mac, but not sure on which instructions end up getting used,\n\nRemoved the merges... was trying to figure out why build fails on windows, but it is apparently a Jenkins issue. See manual build: https://ci.btbn.de/job/obs-studio-pr/114/\n. Erroneous, i must have missed it when i diff'ed between the two.\nWill clean it up and resubmit.\n. ",
    "aoisensi": "https://github.com/jp9000/obs-studio/pull/95 better\n. ",
    "trapped": "I know, I simply added the locale file. I thought of asking about those vague parts, but still starting the pull request as there might be some italians lurking the repo, you know.\nI'll add the language to the ini file as you tell me some more about how exactly I should translate the stuff I've specified in the pull request message.\n. ",
    "jsuereth": "Just a note from experimenting with this myself:\n1.  Appears to segfault on grabbing v4l2 device list when I plug in my USB camera and have more than one.\n2.  If the configuration JSON exists and is configured, I was able to modify it to point at the second device (/dev/video1).\n3. If I remove the second device, the plugin goes back to behaving normally.  \nIf I find time (which may be hard in the next few weeks) I'll see if I can patch it.\n. A final note from the peanut gallery:  Great work here!  Works really well for me (caveat the one minor issue), and I took it for a test spin on twitch today, after that one-line patch.\n. This causes issues when there is more than one webcamera.  I think you want to clear all of the buffer here.  Setting this line to:\nmemset(device, 0, 10);\nFixes the issue for me.\n. ",
    "bazukas": "Hey, thanks for your feedback and help!\n. Squashed the commits\n. Changed commit message to include style guide fixes\n. Thanks, Jim. I understand what needs to be done. The first commit is by fryshorts,\nso I'm waiting for his response.\n. Moved style guide fixes to first commit\n. I don't understand.. it is in bazukas@1eeca36\n. I'm sorry, I still don't get the problem. v4l2_thread was implemented in first commit and then changed to work with user selected values in the second one.\n. ",
    "taesheren": "I'm sorry, I'm still kinda new to how GitHub (and git in general) works. And I wasn't aware of the errors before after you had merged. But thank you for the tip!\n. I'm sorry, my bad. I was not aware it was moved there. When I first submitted this translation it was done here.\n. ",
    "NHDaly": "Hey, I just saw the pull request #45, and that one was closed, so i don't know if maybe this information isn't correct?\n. Perfect; love it!\n. Hey, no problem. Thanks for the clarification! :)\nIn the meantime, then, should you just remove the menu items? I was at first confused why they didn't do anything when I clicked on them, which is what prompted my foray into the code in the first place.\n. ",
    "fryshorts": "Thanks for the contribution, not sure if the list will stay, it was just meant as a temporary solution to enable devices without support for enumerating discrete framesizes. But maybe if this works fine it'll stay, so there's no harm in making sure that the list contains viable resolutions.\n. Oops, good catch. If you could change your commit message to something like \"linux-v4l2: Fix string for translation\" or similar that would be highly appreciated. Thank you very much.\n. Patches split up and resubmitted with other fixes here: #424 \n. Can someone confirm this is not causing any problems on Apple now instead?. It fails to load plugins for me because obs_load_module expects the name to not be prefixed with \"lib\".\nMaybe do something like:\nC++\nQString baseName = finfo.baseName();\nif (baseName.startsWith(\"lib\"))\n    baseName.remove(0, 3);\nobs_load_module(baseName.toUtf8().constData());\n. Please note that the volume meter might (in the future) use another algorithm to map deflection to dB. That being said it should be safe to assume that 0.0f dB yields 1.0f deflection and vice versa.\nYou could therefore just check for peakHold == 1.0f without converting it to dB.. This function is supposed to be internal and not necessarily the one used be the fader/volmeter to convert between dB and deflection. The function that is used is depends on obs_fader_type.\n. ",
    "bootkiller": "It should fix bug #173 \n. ",
    "david50407": "Sorry for my fault.\nAnd thanks @dodgepong again. :)\n. I just compiled the newest version, but it shows \nerror: os_dlopen(../obs-plugins/libobs-libfdk.so->../obs-plugins/libobs-libfdk.so): dlopen(../obs-plugins/libobs-libfdk.so, 1): image not found\nwarning: Module 'obs-libfdk' not found\nDoes this act as normal?\n. ",
    "benklett": "It is a nice thing, that you want to help translate obs-studio, but currently translations have to be made at CrowdIn. Have a look at it here https://crowdin.net/project/obs-studio.\n. Hey alexandrevicenzi,\njust tested this pr. If I understand it correctly, this should fix not setting the correct audio device on first startup.\nIt seems to set the device correctly, but the settings are not quiet right. They just show \"[Device not connected or not available]\".\nAnother thing, that c3r1c3 noticed. If you switch to a new scene collection, it does not set the device at all. Then it is just \"Disabled\".. @alexandrevicenzi I will get you the steps to reproduce asap. (I'm not at my PC atm) \nThe distro is Arch and the PA version is 10.\nYeah I do not think, that this is something, which happens because of this PR. . I first move the directory: .config/obs-studio to .config/obs-studio-bak\nThen I start obs and go to the settings.\nThis is what it shows: . I have tested this PR and it works great. Thank you.\nI am sorry for not answering on your last PR anymore. The problem was, I could not approve your PR. I was just testing it. Hope you can understand.. ",
    "iirelu": "+1. This would be very useful, most desktop environments use .desktop files to list programs in menus and make them searchable, etc.\n. ",
    "FloFri": "Sure, go ahead. xcursor is an exact copy of the xcursor in xshm-module\n. Strange, for me this code worked perfect.\n. I have tested it. For me, the positioning is correct. There is already code in this pull request, which eliminates the title bar from the coordinates.\n. ",
    "MedicMomcilo": "I tested this a little, and it needs coordinates offset because OBS is recording a window without title bar, but the cursor is shown like title bar is there.\nSo, basically the cursor is in slightly miss positioned.\n. Maybe we have different desktop environments and/or different window management, I am not sure.\nHere is the screenshot of my desktop and cursor positioning\n\n. So, do I need to file a bug report on mantis now, or are you aware of the positioning issue?\n. Sorry, this is a newbie mistake... I wanted to catch up with your master, but did completely wrong thing.\nThis can be deleted.\nSorry again.\n. This is actually failing to compile for me on Fedora 20 x86_64 with gcc-4.8.3-1 with this:\nIn file included from /home/momcilo/rpmbuild/BUILD/obs-studio-0.5.1/plugins/obs-ffmpeg/obs-ffmpeg-source.cpp:3:0:\n/home/momcilo/rpmbuild/BUILD/obs-studio-0.5.1/plugins/obs-ffmpeg/obs-ffmpeg-source.h:48:3:\nerror: 'condition_variable' in namespace 'std' does not name a type\n   std::condition_variable m_updateCondition;\n   ^\n. ",
    "jkoan": "Here is the old version: http://www11.pic-upload.de/16.08.14/us2gdp7wrq1.png\nI try to fix that the Headline is not the String \"ConfirmRemove.Remove\" and that the Buttons don\u00b4t show the English Version if German is set.\n. At first, yes my system ist set t german. But i don\u00b4t know how to squash the Commits right.\n//EDIT: I don\u00b4t hava any idea why the cmmits from the v4l2 Plugins are there.\n. It should work now :)\n. ",
    "nongnoobjung": "can you add mylive service to nomal OBS (OBS BETA) too ?\n. ",
    "drekryan": "I have updated the name from Twitch.tv to Twitch.\n. Sorry about that.. They should now be squashed\n. ",
    "mcoffin": "Should be fixed now. I don't know why it wasn't failing for me earlier.\nOn an unrelated note I seem to have introduced a new segfault dealing with the ending of the decoding thread, so it's broken on linux (not osx) at the moment.\nIt might be wiser to just use pthreads (and the w32-pthreads) like the other plugins instead of trying to leverage std::thread from C++11 as it doesn't have interrupt functionality. Alternatively, I could try grabbing the native thread handles from std::thread but that wouldn't be very portable and would probably be a nightmare to maintain.\n@MedicMomcilo \n. For some reason, std::thread is completely broken unless CMAKE_BUILD_TYPE is Debug. Closing until I've found the problem.\n. Yea sorry I've been swamped with school and while here I don't have access to any dev environments other than OSX. Might put some time back in to it over winter break and consider setting up a secondary dev environment at school.\n. ",
    "reboot": "I tested the change and found am issues, that might need fixing\n- The \"Captured Application\" list does not update, when you change the device. You always have to uncheck and recheck the \"Capture single application\" checkbox to update it.\n. I think this is a bad idea. You are making the code that is shared between platforms different for every platform instead of having the platform dependent code seperated in the platform files. Also the code is not object oriented it is kind of the template method design pattern, after the change it is not anymore. Imagine another change requires some kind of initialization on Linux, then you would have to partially revert this to allow an initialization method for Linux, changing the shared code again and adding more complexity to handle another platform dependent thing.\n. It would also be good if you use separate branches for each feature you are working on. If you submit a pull request for your master branch, you can not push any commits on it anymore until the pull request is closed, because otherwise it would update the pull request with unrelated commits. If you use one branch per feature you can individually submit and update them later, if you need to do any fixes or improvements for the pull request.\n. If the gentoo build for obs-studio does not enabled jack support, then that is really not a problem of OBS. Get in contact with the maintainer for the gentoo overlay to fix that.\n. If the position and size is saved correctly all the application can do on restart is request a certain position and size. It is still the decision of the operating system/window manager if the window is placed at the requested position or if it is placed differently, for example to not be outside of the visible screen. So you can never guarantee that it will keep the same position and size. Usually that is a good thing to do, because if an application saved a position that is completely off screen, maybe due to a resolution change, it would be bad.\n. Wouldn't adding a settings to keep the image loaded make image sources like global sources in OBS? It was my impression that OBS-studio does not need global sources, because their purpose is to keep sources active even when switch scenes for sources that start up slowly. Since OBS-studio does not deactivate sources if you switch scenes with the same source, that should not be needed. Does OBS keep image sources loaded all the time too? If you really want to reintroduce global sources in OBS-studio wouldn't it make more sense to make this a global flag for all sources, instead of making this a special behaviour for image sources?\nDo you really want to separate commit for a logging macro that is only used in a single file? I can do that, no problem.\n. If you are already looking at noise gate for audio data with more then 2 channels, you might want to check if it has other problems beside the memory corruption.\nI think inside the loop over the frames there is another problem, for cur_level only the first channel is used, if the audio has more then 2 channels. I think if noise gate is only triggered by the left channel of a surround audio source, that doesn't make much sense.\n. What is \"lock magnification to 1x\" supposed to do? Avoid upscaling sources? If you want that you can just use the bounding box type \"Maximum Size Only\" in the Edit Transformation dialog, as long as the bounding box is bigger then the source it will keep the original size.\n. The image looks rather large compared to the text. I add 4px padding to the image on each side and that made it look much nicer. Also Qt automatically downscales the image to match the text size, but it never upscales the image. So it is probably good to make the source image larger like 64px or something, so Qt can downscale it for larger font sizes. If the font is larger then the image and it is not upscaled then it would be too small.\nFor color blind people it would probably be nice if the stopped icon had a different shape, like a square that is usually used for \"Stop\" on video/audio players.\n. I added a 4px padding to the 16x16 icon, that is 25% of the original icon size. It seems you added a 4px padding to a 64x64 icon which is much less and almost not noticeable. A 25% padding makes a big difference.\n. Jim said in an earlier pull request he wants the files to remain normal plain text: https://github.com/jp9000/obs-studio/pull/568#issuecomment-233330846\n. I don't know if this makes sense, the video rendering thread is independent from outputs. It can only have one framerate, the FPS for stream and recording can never be different. So the FPS indicator should be based the frames rendered by the rendering thread. If frames get duplicated an output might receive more frames then the renderer actually produced.\n. I think the option is misslabeled. It does not only minimize to tray on start, it activates the tray icon at all. Minimize to tray on start should probably be an additional option. It should be possible to activate the tray icon without OBS starting minimized.\nIt would also be nice if you didn't have to restart OBS to activate the tray icon.\n. If you only enable \"Enable system tray icon\" without the \"Minimize to system try when started\" option the menu of the icon is wrong after you start OBS. It has a \"Show\" entry, but the window is already visible.\nAlso i would disable the minimize option entry when the system tray option is not enabled, like the automatic recording options. The second option only makes sense when the first option is enabled.\nMaybe it would also be a good idea to automatically disable the preview when the window is hidden. There is no need to make the video thread render the image, when you can't see it.\nYou also need to check your code style.\n. Another thing, if you close OBS using the exit menu entry from the tray icon while the window is hidden then the window position is lost and the window is not placed at the original position on the next start. You should probably rebase your commit on the current master branch, because this code has changed.\n. In my opinion it is better to keep the pull request open, to keep the history. You can always update it by pushing something new to your branch. Instead of merging the remote branch i would recommand rebasing it. You add jp9000's repository to your local git, for example with git remote add jp9000 http://github.com/..., then you fetch it with git fetch jp9000 and then you can rebase your local branch onto the current remote master with git rebase -i jp9000/master\n. I would disable the \"Minimize to system try when started\" option if \"Enable system tray icon\" is not enabled. It makes no sense to minimize to the tray, when you have no tray icon.\nIf you close OBS using the exit menu entry from the tray icon while the window is hidden then the window position is lost and the window is not placed at the original position on the next start.\n. It works now, but I think it would have been enough to just use isVisible() instead of adding the saveGeom property.\nHope you don't mind all this criticism, getting stuff to work correctly is of course required, improving the code is more for making it more maintainable in the future, and maybe some development experience for future stuff.\n. Maybe it would be good to add a close/cancel button too. I already hit the reset button multiple times by accident when i wanted to close the dialog. Once a dialog has buttons, you kind of expect it to have a close, ok or cancel button, because that is just standard for dialogs.\n. I would put the OK button to the right, so that the default buttons that dismiss a dialog are in the usual position. But i know that the Apply button in the settings is also not placed like this. So maybe someone else should decide that makes more sense.\n. After looking through some other UI code I think it would be the best to use a QDialogButtonBox for the buttons instead of making a custom horizontal QGridLayout. QDialogButtonBox also makes sure the buttons are placed and ordered consistently in all dialogs.\n. Why pass the QDesktopWidget through all those constructors and methods when you can just call the static method QApplication::desktop() where you need it?\n. Breaks the properties window on linux. Strangely popups out the content of the scrollable area in a separate window: http://imgur.com/x6hNlPe\n. This change breaks the full screen projector for me on Linux\n\nLeft: Current master\nRight. After reverting f3eb8aacfeb9c1f2f93b1bea0003e1279f23adc6\n. The commit added an UTF-8 byte order marker at be beginning, That is not visible on github. Whatever editor you used should be configured to save the file as one byte locale, like ASCII or ISO-8859-1. I would recommend always checking what you stage in git gui and if you see changes that you didn't do, just do not stage them and then revert the file after you commited.\n. Shouldn't the preview be at least somehow scrollable, if it is not scaled? If my base resolution is the same as the monitor resolution then the preview will never fit into the window with all the UI around it. So in the current state it is only useful if your base resolution is lower then the monitor resolution, which is bad in my opinion because using the monitor resolution is the default for the base resolution.\n. It works really well. The only thing i'm wondering about is if it is really a good idea that you can not scroll the preview when it is locked. Locking could mean that you can not change the preview at all, so that would include that you can not change the current visible area. But the original intent of locking might only have been that you can not accidently edit the scene. In that case I would say that it would still be useful if you can scroll the preview to look at different parts of it. Even if the preview is locked, you can still move sources using edit transformation, if you want to check if a position is correct you can not look at different parts of the preview for that.\n. No need to rush, it is not broken, it is just up for discussion if this should be improved. This pull request is in master, just start a new branch from the current master with the improvement and make a new PR.\n. Changing the default order of buttons generated by Qt is a terrible idea. The buttons are ordered by system preference and making a custom order that does not match the system default will only confuse users.. I would recommand to exclude the current scene collection from the dropdown for selecting the destination scene collection. It makes no sense to copy a scene to the same scene collection. Also you could probably combine the scene collection and scene name dialog into a single dialog.. obs_frontend_get_current_scene_collection() creates a copy of the scene collection name, you probably just have to free it, when you don't need it anymore.. You could probably still make the dropdown a reuseable component.\nBut overall, after thinking about this issue for some time, i think maybe the context menu of a scene is the wrong place to put this function at all. I think it may be better to reverse the whole process, instead of copying a scene from the current scene collection to another scene collection, it may be better to import a scene from another scene collection into the current scene collection. You could then put the function into the Scene Collection menu, maybe like\nScene Collection\n   `- ...\n   `- Import\n   |   `- Whole Scene Collection\n   |   `- Scene from other Scene Collection\n   `- ...\nThe first submenu item is the old import, the second one would be the new function. That would bring up a dialog that lets you select the source collection (maybe even allow selecting an exising scene collection or from an exported scene collection file) and one or multiple scenes to import.\nI don't know how much work that would be, or if it is even possible. Just an idea to keep a rarely used function out of the context menu. I think it is more likely that I need a scene from a different scene collection in the current scene collection. With the current appoach, i would have to switch to the other scene collection, copy the scene and then switch back. With an import into the current scene collection, i can just get the scene without switching the collection at all. I could even get multiple scenes from different collections easily.\nAllowing an import of multiple scene would also make it easier if 2 scenes share a source, for example a background image. With the current approach you have to do 2 copy operations, but after you completed the first copy, all sources with their names exist in the target scene collection. Copying another scene that shared sources with the first scene will then create conflicts.. I don't see any reason why you need this. You can should be able to use obs_source_get_type_data() on the source that the create function gets as the second parameter to get the type_data from the obs_source_info.. I would not do that, first it does not match what other programs show as free anymore, if these show the value from sysinfo. Also there is no guarantee that the buffer memory can be used by a program. It is a cache, but that doesn't mean it can be reduced to zero, for performance reasons there probably should always be a minimum cache size. If you check the output of free -m you see that available memory is not the sum of free and buffer:\n              total        used        free      shared  buff/cache   available\nMem:           7955        3315        1058         139        3582        4459\n\nAvailable memory seems to be the MemAvailable value from /proc/meminfo. I found this commit when i searched for an exact meaning of available memory: provide estimated available memory. I don't know if it is possible to get this value, but at least the commit message states\n\n... adding up \"free\" and \"cached\" ... is pretty much guaranteed to be wrong today.\n\nwhich is exactly what you are doing now.\nIn my optinion this is a useless information anyway, since the available memory is changing all the time and logging it once on startup does not really provide much information for troubleshooting, even if it is low it is possible that a lot of used memory can be swapped out and that it is not causing issues even if OBS needs more memory. Or on the other hand some other process could use up all the memory while OBS is running and you get memory related problems even if a lot of memory was initially free.\n. The kernel patch for meminfo has been in the kernel since v3.14-rc1, which was tagged in Feb 2014.. I think it makes no sense to move the null audio monitor to a *nix folder. It does not use any unix like functions, i would keep it in audio-monitoring/null and put the PulseAudio stuff into audio-monitoring/pulse and use it in the if(UNIX) when it is available. PulseAudio is not limited to unix systems, there is no reason why it can not be compiled into binaries for other systems, even if it is not the default for them. That does not have to be added in this PR, but it could be an option later.. Tested the PR today and i was really confused that the devices in the advanced settings are named \"Monitor of ...\", that makes no sense because those are the names for input devices and not output devices.. Yes, but that is still not the name of the output device. \"Monitor of ...\" is the name of the virtual input device that PulseAudio creates for every output device that records the audio that is played on the output device. That name is generated by PulseAudio and not OBS, but here you select an actual output device that should not have \"Monitor of ...\" in the name. Maybe it makes no sense for the Desktop Audio Device either, it would be better to select the actual output device and internally open the monitor device for it to record the audio. The user wants to select the output device for which audio output should be recorded, he does not care that there is a virtual input device that us used internally to capture the audio.. If you reopen the PR with the original branch don't forget to include the fix i made on https://github.com/reboot/obs-studio/commits/vaapi-h264. This PR is based on my repository, as far as i know, and should contain the fix.. I have been wondering if there is any benefit of directly implementing a VAAPI encoder. FFmpeg has a h264_vaapi encoder that could probably be used just like it is already done for NVENC. . The FFmpeg output in the advanced recording settings should allow any codec supported by FFmpeg.. I think this is not a good solution. It does not address why the problem exist, it just adds a workaround. Normally a file size can never change without changing the modification time.. If I understand the issue correctly the file changed twice within the same second, the first change is read because the tick happened between the 2 changes, and second change is ignored because the mtime did not change.\nSo one possible solution could be th file has to be at least x seconds old before it is read. If modification_time has to be less then the current system time (within the provided precision of one second) before the file is read then the next change would always increase the modification time and you would always read the last change that happened within the previous second. I think it is not a bad idea to delay the update anyway (more then one second) to prevent the source from reading an incomplete file while it is written. Like many build systems that have a quiet period were no change must happen within n minutes before a build is triggered, to prevent too many builds when changes happen to frequently.. Even if you use some kind of notification system by the OS you probably still want some quiet period that delays reading the new context in case the file is updated multiple times in a very short time like when a file is written in small chunks.. A lot of the fixes you did seem to be in dependencies, those are kind of pointless, because they will be overwritten the next time the dependency is updated from the source. You better contribute those to the original projects.. Did you ever consider that there may be reasons why the default format is FLV? It not not changed to MKV because noone had the time to changes those 2 lines. There are considerations behind some default values and submitting a change request for them without knowing the background information and discussing the reasons with someone who makes the decisions makes no sense.. The OK and Cancel buttons don't seem to need this, they are translated, when I change languages. Qt seems to take the button labels from the OBS language files, the OK and Cancel button text changes if I modify the OBS language files, even without setting the text manually. Only the Restore Defaults button does not work. I guess OBS would just need a text in the language files for the message key that Qt uses for it.. The PR will be updated with whatever you push on the branch you used to create it. If you create a feature branch you can just force push the new changes. In your case you used your master branch, so it may be a problem. But you can still push only the change you want to it, by removing all other changes from your master branch. You can just not use the master branch for something else until the PR got merged. And in the future better use one branch per feature, so you won't get problems when you need to update them.. I tested the update and the meter bahviour seems a bit strange. If source is completely silence when I start OBS it doesn't seem to draw any meters for the source. It only draws the ticks. While audio is reveived it is ok, but if I stop the audio source again, then the meters will freeze like I would still receive the same audio levels I has when I stopped the audio. It does not go down to 0 again.\nYou can see the problem here: https://youtu.be/cnhiX2A_Wys\nI'm using pulseaudio on Linux.. It is a null sink that only receives audio from programs that should be streamed. Usually no source is sending audio to it. It only got audio while the music was playing.. Can't you determine the number of planes/channels before a source receives audio?. You don't have to close the PR and submit a new one, if you update the branch in your repository it will update the PR with the new changes. So if you clean up the branch and do a force push then the PR will only contain the cleaned up commits. . If the levels are based on a standard like the comment indicates then this is complete nonsense. Since you didn't update the comments you probably didn't even read them.. To add properties to a source you don't need to know any UI programming or C++, the plugin API for sources is only in C.. That is not correct, when the linesizes of input and output are not the same.\n. Is this correct? You create adata as an array with a fixed size of 2 elements, but then you interate over it from 0 to (channels - 1), if channels is greater then 2 you will read past the end of the array.\n. The window position is still lost for me, when i close OBS using the exit menu entry. I'm not sure if this code makes sense. You try to make the window visible with a 250ms delay, but then you immediately close it. Maybe a better solution would be to remove the geometry saving from the destructor and execute it every time the window is hidden, which should happen on normal exit and when using \"Hide\" from the tray icon. Then you can close the hidden window without messing up the saved geometry.\n. You should probably replace this with an http URL like all the other submodules.. You are creating a reference to a pulse audio string and you don't know how long is is valid after the end of the callback, you have to duplicate it, to make sure this does not cause any errors.. You did not free the default_source_name and default_sink_name which are (should be) allocated in the callback. This will create a memory leak.. You did not free the default_source_name and default_sink_name which are (should be) allocated in the callback. This will create a memory leak.. strcpy does not allocate new memory. The best option is probably to use bstrdup(). The signature is copied from the existing function for sources, if i change it then the style in the file is inconsistent.. I copied it from the C file, but it seems this file uses a differnent style.. I think for future additions of more encoders it would be better to not hard code this exclusion but instead let the encoder specify if it supports dynamic bitrate changes or not.. ",
    "ONSBalder": "Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?\n. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. Can one of the admins verify this patch?. ",
    "kc5nra": "jenkins test this please\n. jenkins test this please\n. jenkins build this\n. ok to test\n. add to whitelist\n. ok to test\n. jenkins test this please\n. add to whitelist\n. This PR pulled in all the changes (including API).  Probably better to just issue 1 PR with two commits\n. jenkins test this please\n. ok to test\n. ok to test\n. test this please\n. test this please\n. The plugin feasibly allows everything that ffmpeg can play.  So if you normally used ffmpeg -i /dev/some/device, you could put the same /dev/some/device in the input field and it should pull frames from the device correctly.  I don't have any test devices so I can't actually verify this.\n. ok to test\n. That is more in the Media Source's domain.  Currently you could achieve all that except the audio channel bit.  I'll need to add custom flags for that to be enabled\n. jenkins add to whitelist\n. Merged\n. Hey David,\nLet me know if if you have any questions about this code!  I think the only\nremaining was adding b-day support (more complicated logic for setting\nwhich frames ref each other in the gop, since now it is pretty easy and\njust increments with a single ref to ref frame)\nOn Jun 9, 2017 7:10 AM, \"David Carver\" notifications@github.com wrote:\n\nUnfortunately work is blocking the travis-ci build link, I'll have to\ncheck to see why that failed this weekend.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/941#issuecomment-307372169,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAOGagojgF6P4fJ-rOqi0HdGS-8K7quoks5sCTYqgaJpZM4N0fH8\n.\n. Haha, thanks RytoEX.  This code is old, though I appreciate you going through all this.\n\nIt might make more sense if I reopen this PR with RytoEX's fixes so that the origin authorship is preserved in the git history.  Let me know if this is something you are interested in!. Ya, debating whether to submit it with libyami which would get vp8/9,264/5\nhardware encoding, or fixing mine to work with bframes.\nOn Jun 25, 2017 12:48 PM, \"David Carver\" notifications@github.com wrote:\n\nActually, I think @kc5nra https://github.com/kc5nra was going to\nre-submit the PR since he originally worked on it, and it would contain the\nfull development history. That is the reason I haven't tried to address any\nof the issues above or the build failure.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/941#issuecomment-310917176,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAOGaj0a8P5UOj3GskerHcoVAb8-n-U6ks5sHp1RgaJpZM4N0fH8\n.\n. My daughter got ahold of my phone haha, apologies.  Will leave for posterity. \n",
    "ubuntuaddicted": "if you need testing of this commit i can enable a branch and test. let me know\n. I would like to provide my input as an end user if you'll don't mind. Clear and concise commands to get obs-studio installed is what an end user will look for, commands to simply copy and paste into the terminal are best since GUI frontends can be look/be different. Most end users don't really care to understand why something is done, just the steps to get it installed.\nI can see how it would be difficult to maintain the INSTALL instructions for each distro due to certain distros handling things differently. For example Arch doesn't even have *-dev packages.\nIn the end it's your choice to contribute to a project or not but things should never be taken personally, ever. The end goal is to provide a great piece of software. I think you guys are doing a fantastic job with the re-write and you all should be commended!!!!\n. Does this allow the capturing of an X screen when using xinerama? Cause Nvidia's twin view isn't the same thing, with xinerama there's 1 x server, 2 x screens where you can drag windows between them and I don't think OBS is currently able to record  different X screens\n. The default may be xinerama but currently OBS doesnt capture an x screen at +1920,0 when using true xinerama. That's what another user is saying, I use twin view and obs works fine for me being able to capture my x screen at 0,0 or my x screen at +1920,0 but this other user says he uses xinerama and OBS isn't  capturing his second x screen. Then we got into a discussion about whether he had a separate x server or just a separate x screen and he says he's running 1 x server but 2 x screens (can't move windows between them) I'm pretty sure that's xinerama.\n. i will tell my friend to try it out again but he was complaining that he couldn't launch obs per x screen and or capture a certain x screen. thank you\n. If you need a tester I would love to help. I want to contribute to OBS anyway I can. \n. WORKS GREAT. I added XSHM, Xcomposite windows, a V4L2,  and images, I scaled them, moved them etc etc and all works great. Great job!!!\n. solid in Arch for me. great work. I added XSHM, Xcomposite windows, a V4L2, and images, I scaled them, moved them etc etc and all works great\n. awesome commit!!  Does anyone know how the capture of Xcomposite windows that contain an alpha channel bug is coming?\n. Is this what github has come down to or is this just banter? \u2022_\u2022\n. Wow, is this going to allow users to make the UI look like they want based on a css file? Or am I misunderstanding something? I know the qt framework is highly configurable and may have played a role into why it was chosen. We'll that and it being cross platform of course\n. that's great man! awesome work by the way!\n. I thought obs used to use xcb and it was changed to something else? Can this help with capturing windows that have an alpha channel like xfce4's terminal window?\n. Awesome work! Is there any other GFX work that needs to be done? I really want to contribute to OBS but I'm not a developer.\n. I'm betting he means it saves it's position outside of the current screen it's on. If there 2 displays and its on display 1, displays 1 screen size is 1920x1080 for example. Maybe....\n. WOW, this is awesome! I'm always checking my home partition in linux because it's only 30GB and I locally store 1080p so I'm always worried about running out of space\n. This is awesome! Patiently waiting for Linux implementation. ;)\n. Just waiting for BlackMagic Design to send me their stuff to benchmark and review in Linux and I'll be helping test this.\n. Awesome! Thank you for creating a dark theme, it'll fit on my desktops much cleaner now.\n. Awesome, thanks guys!\n. This is great news!! Thanks for the hard work. \n. I have a thread on the OBS forums about webM and VP8/VP9. I'd like to see this option but whatever you guys do is great!\n. Does this mean that I can add any source that I put through ffmpeg? Because I believe I can pipe the output of an HD-PVR through ffmpeg. The problem was that the kernel module hdpvr doesn't really decide the hdpvr stream, it just allows the playback of it so it's still an encoded TS bitstream. I posted about it not working with the V4L2 plugin on the linux forums\n. ",
    "sethmurphy18": "Will do\n. Not removed persay, as not needed. As advised by Jim on my previous submission, opus webm and vpx are not needed at this time.\n. I am going to close, this pull request, fix my file (I was using Atom, I have since switched to Sublime), and squash my commits.\n. Sorry about that. I will fix that and squash the commit.\n. Fixed and rebased\n. I will gave to look into those packages. I am also aware of not needing to create a new PR each time I update, my branch was just so far gone that I felt the best thing to do was close the PR, delete my repo and start over.\n. I would like an admin input on the packages, as it appears neither of them is directly supported by Jim, so I want to ensure that he is okay with that before adding it to the instructions\n. Yeah, sorry. I guess this was not necessarily the place to try and make building software to get the most out of it available to novice users. I just like to not only make thing appeal to the power users, because if you think about it, we were all novice users at one point in time too, and we had to learn to compile software eventually. Anyhow, I guess I will just make a blog post about it in the future, once I finally get my website running again. I have made the changes you requested, and I doubt I will contribute to this project in the future.\n. Yeah, sorry. I was just getting very frustrated becuase it seemed like as soon as I fixed something, there was something else wrong. I tend to be more of a front-end person so I do tend to blather on for a bit, but computerquip made a very good point. Let's say in the future OBS ditches ffmpeg for it's own encoder. Then my entire document become mute, and has to be redone completely. I do plan to contribute further, but wait til I get to submitting code (those pull requests are gonna be BAD my C++/C is not too good, I can write the code, but I do mostly C# and Java so I OO EVERYTHING).\nTLDR; I'm dumb and lose my head too easily.\nPS - Not knowing git very well most likely didn't help.\n. Also, to the best of my knowlege this commit is complete, unless you have anything you want me to add. Should I add the Arch/OpenSUSE packages suggested? Those aren't maintained by you, so I want express permission for that.\n. ",
    "antable93": "What do you mean?\n. First time I've used GitHub\n. ",
    "Lexsus": "fix bugs:\n0000082: LF character rendered as space\n0000083: Allow blank stream key\n. \u043e\u043a\n2014-11-18 14:59 GMT+03:00 Jim notifications@github.com:\n\nMuch better! That was pretty much exactly what I wanted, thank you very\nmuch for fixing it up.\nMerged then, though I included some minor formatting changes:\n9c34be8 https://github.com/jp9000/obs-studio/commit/9c34be8\nfd41b6d https://github.com/jp9000/obs-studio/commit/fd41b6d\nJust for future reference, remove_CR should have been remove_cr, and you\nalso need to make sure to use an editor that adds a line at the end of the\nfile\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/301#issuecomment-63459741.\n. \n",
    "hzoo": "@Eagerestwolf another suggestion is making your changes on a new branch rather than master\n//assuming you have git remotes origin (yours) and upstream (jp9000)\n// new create new branch\ngit checkout -b update-linux-insturctions\n// push changes to your github\ngit push origin my-fix-branch\n//create new pull request\n// if you want to edit an existing pull request\n// rebase and squash commits like jp9000 said\ngit rebase master -i\n// force push to update PR\ngit push -f\n. ",
    "salamanderrake": "was opus, webm, and vpx support removed?\n. ",
    "CounterPillow": "I don't know if there's a benefit over ffmpeg (unless you count \"loading PSD files\" as a benefit, but I doubt anyone is even insane enough to do this), but there is a benefit over imagemagick in that it's a lighter dependency, works on distributions with Libav (Debian Jessie, Ubuntu 14.04) which previously required imagemagick apparently, and works on distributions with broken imagemagick (though that would be fixed with a fallback to ffmpeg, but the AUR package doesn't do that)\nThis may allow you to use the same image loading code across platforms, therefore possibly making it easier to respond to bug reports.\n\nAlthough one minor thing - there's no ending newline on the file. Take a look at it on github and you'll see what I mean. I assume you're using a windows text editor.\n\nI see, that's just KDE's Kate having a rubbish default config as usual; will fix, thanks for letting me know.\n. k, will do.\n. ",
    "jakeprobst": "The default is xinerama, this patch makes it so it doesn't abort if xinerama is not enabaled.\nI use the two X screen setup for dual monitors and obs sees both fine.\nHave not tried with twinview though.\n. Well thats the setup I have (1 server, 2 screens I cant move windows between) and it was crashing on startup about not having xinerama enabled.\nI do believe xinerama is an extention to allow you to move windows between separate X screens.\nhttp://www.twitch.tv/toastermage/b/594920031 here is a recording I made with my settings\n. I think my current solution is fine? xinerama should still be checked, as screen offsets are important while using it. and if xinerama isn't there then you can assume the offsets are zero?\nThe only function I change here is the one where it tries to get the resolutions of the attached screens.\n. ok I did this in xcb cause I think there was like a discussion in irc on moving to xcb anyway so I should do this.\nI stole the cmake stuff from computerquip's xcb branch and some other stuff to make it compile I have no idea how to do cmake so I just wrote what was needed in directly that was not already covered (xcb xinerama) so I`m not going to include that here since iti s terrible.\nit compiles and works but should wait for #310 to be merged to be able to build.\n. ",
    "Freso": "Not sure if https://obsproject.com/mantis/view.php?id=104 is this or #310. :|\n. For future record, this fixed https://obsproject.com/mantis/view.php?id=104\n. ",
    "Nightfirecat": "\nI just can't find myself saying, \"gee, this README sure would be better if 'Mantis' were capitalized everywhere.\n\n:thumbsup:\n. Change looks good as far as I can tell, but you'll want to squash your commits and format your commit title as libobs: Remove duplicated determinant calculation, or something similar. (include the module at the start)\n. I know where you're coming from. In the future, you should be able to change your branch's commits (ie. rebase/squash them) and force-push back to GitHub and the PR will update to use whatever is most recent in your branch.\n. :+1:\n. FYI, you'll need to squash those commits into your initial commit; the second one isn't needed, and doesn't follow the desired commit message schema.\n. Doesn't look like a GitHub problem; I think your editor is configured to translate 4 spaces into a tab.\n. FYI, translations are handled only through CrowdIn for better community contribution to translating: https://obsproject.com/forum/threads/how-to-contribute-translations-for-obs.16327/\n. You need to update the package version as well: https://github.com/CoDEmanX/obs-studio/blob/083ec80a84c5ff30daf469c178be2c1f9421daa4/plugins/rtmp-services/data/package.json\n. FYI, you need to update the version and re-format your commit message; see #770 as an example.. > package.json was also not updated.\nThis is still an issue.\nEdit: For reference, see other pull requests that make changes to this file, such as #863.. I'd recommend changing the commit title to \"win-capture: Add hook exception for Call of the Wild\" to match previous commit message styles.. Alternately, if you're fine with re-writing the commit message, you can first move to a point where all your changes are available in your stage with git reset --soft '3ababab' (where the given commit is the one just before your changes), then go ahead and commit your changes in a single commit there. From there, you'll be able to overwrite your changes like RytoEX mentioned with git push -f origin patch-1.. You can squash your commits in Git's CLI by using git rebase or git reset && git commit. While on your robocopy branch, you can do either of the following:\n```\nin the window which pops up, make sure you change \"pick\" to \"squash\" next to the merge commit line\nand order your change first, with the merge commit line second\ngit rebase -i 8962899\nor...\nyou will have to re-type your commit message in this method, but requires no further edits\ngit reset --soft 8962899 && git commit\n``. No, you'll just need to rungit push -f` to the same branch you committed to initially.. I don't have anything constructive to comment on the PR contents, but yes, you should force-push the correction to the PR's commit message. FYI you can rebase/squash commits and force-push to revise a PR. That's what is preferred for this project.. Comment should be updated. (20ms)\n. From the coding guidelines:\n\nTabs for indentation, spaces for alignment. Tabs are treated as 8 columns wide.. \n",
    "tacchinotacchi": "i had a little trouble with git, so i deleted this repo I will soon send a definitevely more useful feature:\ni added gif support\n. Also I read here https://obsproject.com/mantis/view.php?id=102#bugnotes an administrator was going to write a plugin to handle video streams. My code can't handle audio but with just a little renaming (_vid instead of _gif for instance) can handle video\n. ",
    "oaguy1": "This patch was super helpful when I was building OBS from course on Ubuntu!\n. ",
    "dotellie": "I don't even think you knew this, but this could be the patch for a recent bug report of mine: https://obsproject.com/mantis/view.php?id=131\n. ",
    "Weikardzaena": "Yeah I didn't know that was in the bug tracker. Are there other dialogs that don't have okay/cancel buttons that I should fix?  I would check myself but I have to go into work today :b\n. Ah yes good point.  I totally forgot about locales.  I'll fix that.  Now, this is my first time committing stuff to a major project, so should I edit this commit or just do the changes in a separate commit?\nEDIT:  Actually, since I also just added a popup confirmation for when the window is closed while streaming/recording, I'll just cancel this pull request and submit a new one with both UI changes in a single commit.\n. Oh nice.  Alright I'll do that.\n. ",
    "btorellALTA": "You can do a squash commit and force push, and the PR will update itself automatically.\n. It's not a matter of \"X PR got merged and min didn't, therefore mine will never be merged.\" It's a matter of Jim trying to handle a thousand things at once, and that PR was related to something he was working on. Jim just hasn't been able to get to this yet. No need to close the PR.\nAlso, Homeworld (hwdro, the author of PR 474) has contributed in the past and is active in the #obs-dev IRC channel on Quakenet, so he is in better contact with Jim. I recommend joining the IRC to be in better contact with devs and perhaps if you remind them, they can take a sooner look at the PR.\n. Though I overlooked that this has libobs modifications, so it can't be a standalone plugin.\n. @modeminho You will have to build it yourself with this PR #1502. The reason it was separated was because there is a bit of a UI overhaul in the works related to settings which will make that PR irrelevant. For the time being, though, you will need it to get the UI additions.. ",
    "ghost": "yes, it works properly, I will upload a default stylesheet once im done, I have to go back and edit the comments for them to properly be accepted by the OBS team\n. I was going based off examples, there are several ways to do it, now that you mention it you could do it without even needing the QString in there, it will work like this:\nQFile File(\"stylesheet.qss\");\nFile.open(QFile::ReadOnly);\nthis->setStyleSheet(File.readAll());\nI can change and resubmit if need\n. Alright, sorry about that. It's my first time committing to the project.\n. Of course. Thanks, Ben!\n. Html is useful. Don't drop html.\nOn Jun 30, 2017 02:12, \"Jim\" notifications@github.com wrote:\n\nAdded a check to this that makes sure that the browser source actually\nexists. Merging shortly.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/905#issuecomment-312193264,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbLLUhL7zdNabLBpaM02Sa5Z6-kFXqjqks5sJJ_EgaJpZM4NRlX7\n.\n. Scroll wheel broke.\nOn Jun 30, 2017 22:21, \"Jim\" notifications@github.com wrote:\nI modified this PR so that it saves/loads the user's scroll position and\nzoom of the preview. Manually merging with those changes shortly.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/917#issuecomment-312407168,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbLLUjlekvnfUiYI9ZtfpDyNjxsDKcBwks5sJbtDgaJpZM4Nb1ph\n.\n. What's all of this babble about?\nOn Jul 1, 2017 09:28, \"ch-sirius\" notifications@github.com wrote:\nHi there. Thank you for your valuable contributions. I'm personally\nwaiting for that feature since weeks. We plan to use OBS for a live stream\nwith 12 network cameras. There we need to optimize some stream properties\nto get a good video quality. So, the possibility of adding vlc options is\ncrucial in this project. @EstevanTH https://github.com/estevanth could\nyou please upload a build of the plugin with your latest version for 64bit,\ntoo? Thank you!\n@jp9000 https://github.com/jp9000 of course I understand your points.\nBut I think if you use VLC the MRL Syntax\nhttps://wiki.videolan.org/Media_resource_locator/ should be supported.\nPeople who need this options know how to use them (the same way as in vlc).\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/925#issuecomment-312435048,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbLLUtI0cmgmaKiCNgbziC3IHXJNo992ks5sJld0gaJpZM4Nlwcy\n.\n. @eduardoc25 - If you're only interested in full screen recording, newer versions of ffmpeg have -i kmsgrab, which should perform much better than x11grab as it can skip the overhead of X11 + hwupload entirely.. Any delivery runners available?\nOn Jun 11, 2017 11:11 PM, \"c3r1c3\" notifications@github.com wrote:\nFix Alpha not being preserved in some cases.\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/jp9000/obs-studio/pull/945\nCommit Summary\n\nplugins/obs-filters/data/color_grade_filter.effect:\n\nFile Changes\n\nM plugins/obs-filters/data/color_grade_filter.effect\n   https://github.com/jp9000/obs-studio/pull/945/files#diff-0 (5)\n\nPatch Links:\n\nhttps://github.com/jp9000/obs-studio/pull/945.patch\nhttps://github.com/jp9000/obs-studio/pull/945.diff\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/945, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AbLLUj3KpjrwAvuLvTQ4_a7DULYfD_bDks5sDLpVgaJpZM4N2ozt\n.\n. ninja420 Here from Mattis.\nGoing to test it very soon.\n\nThank you for all you work. ",
    "Gol-D-Ace": "@Weikardzaena & @jp9000 \nSave and Discard buttons aren't translatable.\n\n. @RobotCaleb \"Do I need to create stubs in the various locale ini files?\"\nYou don't need to do that. Crowdin will handle the rest as soon as you add a new string to the en-US.ini file.\n. This will be closed. Please see https://github.com/jp9000/obs-studio/pull/381#issuecomment-75668959\n. Yeah YouTube is a lot less problematic with bitrates than for example twitch. They basically eat anything, as long as you ingest with the right resolution.\n. Please prefix your commit with rtmp-services:\nFor example rtmp-services: Update Beam's recommended settings\nThank you. @ttaylorr \n. In case this gets merged (after fixing for example the commit title see for example: https://github.com/jp9000/obs-studio/pull/464#issuecomment-131265111 (if Jim doesn't fix it))\nI would prefer that the string is the same as the other ones.\nKeyframe Interval (seconds)\nI'm not sure how this works when it's set to 0.\nThe other strings have 0=auto but I'm not sure if this is the case here.\n. @dodgepong Did you even look at the commit? It's a change in the locale.ini file.\n. Nope. Hitbox wants high. It complains about main in the Dashboard and wants high.\nYour information must be a bit outdated.\n\n. Further information also mentioning high: http://help.hitbox.tv/customer/en/portal/articles/1320003-obs-setup\n. Should have a tool tip explaining all the variables in my opinion. (Like in OBS1.)\nAlso maybe this should be usable in Simple Output Mode.\n. You missed the package.json\n. Yes both the numbers.\n. but not format_version\n. I squashed your commits @Radzaquiel \n. Hi. Please follow the guidelines for commit titles.\nCommit title should be formatted like this:\nrtmp-services: Add DJlive.pl to services\nAlso you missed to increase the version number in the package.json like here: https://github.com/jp9000/obs-studio/commit/c95beb2920d220f7cf7b1d6c4fa01ed699846afb\n. Oh and I think you got some tabs in there.\nThis file only uses spaces for formatting.\n\n. Sure I will remove that.\n. You mean like this?\nYour system is missing runtime components that ${APPNAME} requires. Please make sure to install both vcredist_x64 and vcredist_x86. Would you like to download them?\n. Also forcing 2 seconds might not be the best idea. You can use different\nservices with restream.io and beam.pro for example wants 1 second. I recommend\nnot setting a recommended keyframe interval.\n. Hi\nPlease make sure to also increase the version numbers in package.json .\nThank you\n. Yep\n. Could you squash the commits?\n. Also the commit title should be formatted like this\nrtmp-services: Add new Beam.pro ingests\n. Not sure when they will go live.\nI will let @jp9000 know about this.\n. Giving estimates is hard.\nIt will just happen ;)\nJust look at the current version number cough\nhttps://obsproject.com/obs2_update/rtmp-services/package.json\n. Update should be out @MattJustMatt & @JamyDev \nThank @jp9000 \n. Note to translators: DO NOT translate this file directly. Instead, visit http://crowdin.com/project/obs-studio and submit your translations there.\nPull requests for translations outside of CrowdIn will not be accepted.\nRead this forum post for more instructions on submitting translations: https://obsproject.com/forum/threads/how-to-contribute-translations-for-obs.16327/\n. Wrong commit title. (rtmp-services: Add AfreecaTV streaming service)\nWrong ingest urls. (missing rtmp://)\nIsn't valid json. (hint you're missing , at multiple places)\nShould not be common.\nMissing version increment in package.json\nPlease fix this issues if you want to get this merged. \n. You're still missing the version increment in the package.json and the commit title is still wrong.\nAlso you should squash your commits into one.\n. I just amended your commit.\nThis is not possible through the GitHub Website.\nhttps://www.atlassian.com/git/tutorials/rewriting-history/\n. Merged by https://github.com/jp9000/obs-studio/commit/91f752aff486c512ed8f378477769fe61bee4738\n. Note to translators: DO NOT translate this file directly. Instead, visit http://crowdin.com/project/obs-studio and submit your translations there.\nPull requests for translations outside of CrowdIn will not be accepted.\nRead this forum post for more instructions on submitting translations: https://obsproject.com/forum/threads/how-to-contribute-translations-for-obs.16327/\n. It does @RytoEX \n. Could you squash the commits?\n. This is also useful for local backups. Not everyone wants to deal with the folder structure behind the scene.\nFor local backup scene collections and profiles are quite useful.\nMaybe warn the user that profiles contain stream keys but do not throw them just away.. \n\n. I see a few issues here.\nSituation:\nAdvanced Output doesn't support the Replay Buffer yet. (User is using Advanced Output instead of Simple Output.)\nCustom Output (FFmpeg) might never support Replay Buffer.\nUser didn't enable the Replay Buffer.\nAll situations will end up in not starting the Replay Buffer while the checkbox says that it will.\n. Hiding is an option but probably not the best.\nGraying it out might be better.\nYou will still know that the checkbox exist that way.. Why?\nThe transform function / menu is already covering this.. https://github.com/jp9000/obs-studio/blob/master/plugins/rtmp-services/data/package.json\nL3 & L7. The package.json describes the version of the services.json\nYou're updating the services.json which will require increasing the version in the package.json. jp9000 closed this in ea0f47e 4 minutes ago\nThe important part is \"in ea0f47e\".. @jrm780 \nIf you want I can push the changes that I mentioned to your repos master.. Well I goofed up...\nPushing through this wasn't a good idea.... I also have it...\nI just pushed the clean master into your master instead of the changed branch....\nPlease push your changes to your master again so I can see your current state.. I just pushed the fixed version to your master.\nI can't do an actual code review but it will now build under windows and the commit title is also in the right format.. What i exactly did was this.\ngit remote add jrm780 URL | Adding your repo as remote so I can fetch from it/push to it.\ngit checkout -b compression_filter | Creating a new branch that is up-to-date with obs-studio/master.\ngit pull --rebase jrm780 master | Pulling (fetch & rebase) your branch (in this case master) onto the newly created branch compression_filter . Certainly not the ideal solution.\ngit reset --hard  commithash | Before the merge commits. Getting rid of the merge commits.\n(git pull --rebase origin master | Didn't do this but this would have replaced your merge commit. Origin being jp9000/obs-studio)\nAdded your filter to the CMakeLists.txt\ngit add * | Because this was the only change. No special staging required.\ngit commit --amend | For amending your commit. Adding the missing CMakeLists.txt entry and renaming the commit.\n(don't do this) git push -f jrm780 master | The master part was the issue because i pulled your changes into a new branch named compression_filter . Doing this force pushed my clean master into your master. Ideally you would create a branch for a new feature and don't do this directly in master.\nThe correct command for this situation would have been: git push -f jrm780 head:master\nThis will push the current head (the currently checked out branch) into your master.. You might wanna add that change also to the windows version in the appveyor.yml file.. Not with git alone.\nYou would need to wrap the git command.. \n\n. Width, height and color should be translatable like the source name.\nEDIT: Thank you. \n\nThe first screenshot is without the cache. \nThe second one with it.. Another screenshot entirely without the cache\n\nMac build doesn't seem to profit from this at all currently. The build was just a bit slower in the first screenshot. (Most likely because of the deploy step.)\nThe cache size for this PR is currently 46.88MB \nMaybe this gives a hint?\n. I broke your PR by adding speexdsp. This might turn into a WIP PR.\nDO NOT MERGE PLS. Made it so that it only always notify on failure.\nAfter a failure the next build that will be successful will also get announced (fixing commits / builds).. Hi.\nYour commit title is not following https://github.com/jp9000/obs-studio/blob/master/CONTRIBUTING\nExample for a title: UI: Don't exit on unknown command line arguments\nIn the commit message you could mention that this is breaking flags for the browser source.. Hi @VodBox \nYour commit is still not following the 50/72 formatting.\nIf you want I can change this and push it directly to your branch.\n```\nUI: Don't exit on unknown command line arguments\nOBS Browser Source uses command line arguments for flags. Exiting on\ncommand line arguments that are unknown to OBS prevent's that\nfunctionality from working.\n```. If you want I will open a PR with new locale updates first.. Broadcast requirements are stating this now for almost 48 hours, so I don't think this is a mistake.\nI merged it.. Also as soon as you go onto https://beam.pro you will get a big popup.\n\n. Note to translators: DO NOT translate this file directly. Instead, visit http://crowdin.com/project/obs-studio and submit your translations there.\nPull requests for translations outside of CrowdIn will not be accepted.\nRead this forum post for more instructions on submitting translations: https://obsproject.com/forum/threads/how-to-contribute-translations-for-obs.16327/\nI added your change to crowdin.. Looks good.\n```\n-- Scripting: Luajit supported\n-- Scripting: Python 3 supported\n-- Found SWIG: /usr/bin/swig2.0 (found suitable version \"2.0.11\", minimum required is \"2\") \n-- Installing: /<>/debian/obs-studio/usr/lib/obs-scripting/obspython.py\n-- Installing: /<>/debian/obs-studio/usr/lib/obs-scripting/_obspython.so\n```. I made the necessary change.\nHope that is ok for you.. You renamed the PR.\nAlso you should squash your commits and then force push them to your branch.. Like RytoEX already mentioned...\nPlease don't use PRs as support request.. Just gave Travis a little poke ;). Looks good to me.\n\n. x264 is using the High Profile by default for streaming on Twitch since 7ea59ff3b4cc3b34a0159f457b5e01549eee61e7\nAll services that don't specifically request main will have the high profile when using x264.\nNVENC is still using the main profile like QSV.\nMy recommendation would be rather to also change this for NVENC.\nIf a service requires main for whatever reason it can be specified in the services.json .. I did assume... Sorry about that.\nI just checked R1CHs Analyzer which says High.. Already uploaded to Crowdin.. Examples can be found here\ns8601-nvidia-gpu-video-technologies.pdf\n. Hi\nThe strings should contain the effect name and not the image name like Vainock already mentioned.. Little oops there.\nI'm in contact with the PR author so this is nothing to worry about too much thankfully (otherwise I wouldn't have tried to do this on his branch).. \nThis is how the original looks like in OBS.\n\nAnd here with your change.\n%z should be worded like in your example to ISO 8601 offset from UTC in timezone\nFor your other changes...\nDecimal refers to the decimal number system. This means decimal digits, decimal mark and for negative numbers a minus sign.\nThis isn't referring to the number being a whole/integer.\nOther number systems would be for example Binary or Roman.\n. This change is mainly intended for end users which think they have to switch from simple output to advanced output mode.\nWhile your suggestion is fine to a technical advanced user a novice will not know what the VideoSDK or FFmpeg is.\nThey just want to use the \"new stuff that NVIDIA is advertising\".. Issue with a tooltip is discoverability, before they see the tooltip they will change the output mode to advanced, and we are back to the point why I'm making a PR for this.\nTo avoid users changing to advanced mode when it isn't necessary for them.. Clone the VLC Git Repo and point cmake to the folder.\n. ",
    "Akagi201": "@jp9000 Got it. Thanks!\n. ",
    "hwdro": "Maybe. Maybe not. Maybe remove the QFile entirely ..\n. Initially went with what you were suggesting, but this variant was the preferred one.\n. Don't add images that belongs to a theme into obs qrc.\n. -- set qframes back to styledpanel/sunken\n. I don't know what I can say about your PR ...\nWith your default values (upper/lower threshold , multiplier), you offset and attenuate the signal from [-1,1] to [-5.5,-5]. This can't be right.\nAlso, you're mixing directly decibels (if i understood correctly what upper/lower threshold values mean) with voltage (audio sample), and this isn't right too.\nProbably it will be best if you can provide more info about the dsp algorithm used in this \"audio filter\".\n. #474 , as it is right now, is unrelated to your PR, tho (and I will be honest about it), in the first iteration of it I did included a straightforward fix for more than 2 channels case (based on this PR), which I've dropped it in the end due to jp9000's advice.\nAlso, judging by this PR and the other one (compressor), I believe you're fairly new to coding ( and C language), yet, you were capable to spot issues in the current obs-mp code. My advice is to not give up so easily on your PRs in the future, also, if there are issues with your PRs or have questions regarding coding/best practices, do join #obs-dev channel on quakenet, we're more than happy to help you.\n. Can you explain in detail why showing the output type combo box is needed even when there are no audio devices attached?\n. Might want to move float *env_buf from compressor_filter_audio() into the compressor_data struct, have it allocated/freed in create/destroy.. As far as I remember , there's no way to retrieve the actual number of frames (in filters plugin - outside of audio data callback).\nSpeaking from my own experience, audio sources that play nice have a frame size of samples_per_sec * 0.01 (basically the buffer per each channel holds 10ms worth of audio). So, you can preallocate a buffer the size of num_channels * samples_per_sec / 100, and, if necessary , reallocate it (brealloc) in compressor_filter_audio if audio->frames is bigger than the previous frame size.. In case of softness = 0 the code path never reaches that line.\n. no\n. ",
    "Yberion": "I'll do it, thank you.\n. ",
    "sshnip": "Sry for maybe stupid question, but is it jack or jack2 support(or maybe both)?\n. The problem is that I just don't see any ins/outs in jack using gentoo. I've installed obs from overlay obs-studio-live and obs-studio just has no flags regarding to jack.\nPS: It would be really nice to have jack, for instance, I would add compression, noise gate, limitations for microphone with any additional software (Ardour in my case).\n. ",
    "buscher": "It should work for both, but I only tested it heavily with jack2 (and still use it), if it doesn't work with jack1 it is a bug.\n. ",
    "Streusel": "@jp9000 close? pull? status?\n. @jp9000 close? pull? status?\n. ",
    "boombatower": "That was definitely my intent, but I take it option() doesn't just make an optional variable with a default.\noption(OBS_VERSION \"OBS version string\" ${OBS_VERSION_DEFAULT})\nI saw that used to UNIX_STRUCTURE which I believe behaves the same way.\n. As I said I am not all the familiar with cmake so the issue was with knowing how to implement it, not disagreement on how it should work. I tested the following locally and it seems to behave as expected.\nAdditionally, I handled the case where .git directory is present, but git executable is not or fails to provide a version via describe.\nNow simply set -DOBS_VERSION=\"1.2.3\" when building.\n. Either way. The current approach preserved old functionality as well. It seems more convoluted to use a different variable name.\n. https://pmbs.links2linux.de/request/show/1616\nmerged in update to 0.8.2, changed to OBS_VERSION_OVERRIDE variable and all seems to work as intended\n. Thanks for merging. Question: Is there a reason you didn't keep the change to allow fallback when .git directory is present without git executable?\n. It certainly does, mainly a concern for supporting package builds for older releases of distro since it is typically not recommended to use a different gcc version than system libs were compiled with (ie 4.8).\nIn fact openSUSE Tumbleweed was the first major distro to switch to gcc 5.x.\nI can understand if you do not want to be restricted to writing code in a gcc < 4.9 compliant way. If so than perhaps bump the requirement in cmake and make it official. Otherwise, this is the same change you made last time.\n. Thanks again for the great piece of software.\n. ",
    "martell": "Okay so now this is at the stage where it can be build on the current mingw-w64.\nYou will have to disable libobs-d3d11 and win-dshow to get through a complete build.\nI have sent a PR to the other project which should fix some issues on the dshow part.\nonce mingw-w64 4.0 lands I'm confident this should work with a few small changes to libosb-d3d11\nPlease Review\n. Fully complete :)\nTest builds sent via irc\n. ",
    "thomasballinger": "Excellent, thanks for fixing. Thanks for the feedback on the commit message, I used the GitHub editor and wasn't thinking about the commit message the way I would have been in vim where this would have been syntax highlighted.\n. ",
    "Jack0r": "It saves window position and size on windows, but what do you mean with outside of screen?\n. It will keep half the window of screen.\n. Problems and errors are normally reported to the forum to the according section (win/linux/mac) and please include a log file. There is a reason the github issues are not available, so please stop posting to PR's in the future.\nhttps://obsproject.com/forum/categories/obs-multiplatform-support.30/\n. This is the wrong place to report problems, use the Multiplatform section of our forum for the corresponding system (I guess Windows). You might also want to update to OBS-MP 0.9.1\n. \n. I knew I forgot something. Package file is also updated now.\n. I think I might have been wrong with QT 5.10 as it seems nesting was introduced with Qt 4.2: http://doc.qt.io/qt-5/qmainwindow.html\n. ",
    "sagara-": "Ya, as I mentioned in my comment I don't have a windows setup to test with, and cmake's docs mention nothing about the var's behavior on windows. I could put the use of TARGET_SONAME_FILE inside an if block to only run if we're on a non-windows system to get around this.\nDo you happen to have OBS installed using /usr as the prefix by any chance? The final library location behavior of the dynamic loader (as noted in dlopen(3)) is to check /lib and /usr/lib for the requested library name, which would cause the current DL_OPENGL define to work in that situation.\nAfter installation and regenerating the cache via ldconfig, you end up with the following:\nls -l /usr/local/lib | grep obs-opengl \n    libobs-opengl.so -> libobs-opengl.so.0\n    libobs-opengl.so.0 -> libobs-opengl.so.0.0\n    libobs-opengl.so.0.0\nldconfig -pNX | grep obs-opengl\n    libobs-opengl.so.0 (libc6,x86-64) => /usr/local/lib/libobs-opengl.so.0\n    libobs-opengl.so (libc6,x86-64) => /usr/local/lib/libobs-opengl.so\ndlopen(\"libobs-opengl.so.0.0\") (the current behavior) will only find the library if it happens to be located under /lib or /usr/llib (or if provided via the LD_LIBRARY_PATH env var), since the dynamic linker cache doesn't include the fully versioned library filename itself.\n. I pushed two small updates to the branch; one is to fix usage of the wrong variable name, and the other to only use the SONAME var on unix systems, and to keep using TARGET_FILE_NAME on others as to not break the windows built.\n. That makes sense; I was building without specifying any options to cmake, so UNIX_STRUCTURE was set to true by default on linux.\nSadly I'm also not privy to how dynamic loading is done on OSX, and looking at the structure for UNIX_STRUCTURE && APPLE it seems libraries are put alongside the binaries under bin, so it shouldn't use TARGET_SONAME_FILE as that seems to be just linux-specific.\nI could change the condition to use UNIX_STRUCTURE instead of UNIX, since UNIX_STRUCTURE is set to false when running under OSX. Or possibly check for UNIX_STRUCTURE && NOT APPLE instead to be more specific?\nIs there any reason one would ever modify UNIX_STRUCTURE explicitly? It seems more of an internal build variable; if it's not meant to be modified than just checking for UNIX_STRUCTURE might do the trick, since it would only be set when building on linux, and not windows or OSX.\n. Yep, this works perfectly; thanks.\n. ",
    "adray": "Thanks for the detailed response, I have addressed most of those issues, still not quite ready.\nAfraid it will have to be stubs for the other platforms for now.\n. @reboot I moved the disk usage to its own timer. As for the file size, I had overlooked a function which already exists for this, which does it by similar means. Though whether it is safe to assume it will work if the file is currently open for writing, I have not been able to find a definite answer.\n. ",
    "timelf123": "Thanks for all the recent patches @jp9000 - the new 0.11.0 is looking good!\n. ",
    "ovr": "@jp9000 ping, any news?\n. @Xaymar cool job, is it needed an additional flag for cmake to compile plugin?\nI see BUILD_AMF_ENCODER directive and it's false by default (or manually edit?)\nI am having RX480 / Linux 4.8 / Ubuntu 16.10, I would like to test it on weekends\n. @Xaymar Awwww,  seems Linux is not supported https://github.com/GPUOpen-LibrariesAndSDKs/AMF/issues/4 :(\n. ",
    "SkylerLipthay": "I remade the plugin. It's pretty solid now, and conforms well to the repository styles. Still only Mac support for now.\n. I've updated this branch with an untested Linux implementation.\n. Bumping because I fixed a silly bitflag error.\n. ",
    "ckarthikv": "@SkylerLipthay - Tried this today using the Blackmagic Intensity Shuttle USB 3.0. Audio through HDMI in drops after a few mins into the Livestream. Audio Bitrate was set at 96/ 128 Kbps and sampling rate set at 44.1 Khz. Any idea how to solve this?\nP.S. - Tried a sampling rate of 22 Khz, and the audio stayed on. 44.1Khz and 48 Khz had an issue.\nPls help.\n. Thanks.\n. ",
    "RobotCaleb": "Awesome. Thanks @Gol-D-Ace \n. ",
    "Radzaquiel": "I think this pull request will be closed because no more streaming service will be added for now.\n(more information in pull request #381 )\n. oh that's new...do I just need to increase the version number then ?\n. ",
    "ElectronicWar": "Fair point. I missed that announcement. Thanks!\n. Well Studio has pretty strict coding guidelines to avoid the mess that Classic was code-wise.\nPlease read up here: https://github.com/jp9000/obs-studio/blob/master/CONTRIBUTING\n. Please close PR #1528 and push everything into a single change here.\nCheck the guidelines  on naming commits and pull requests and/or look at previously merged pull requests.. OBS issues are tracked on Mantis: https://obsproject.com/mantis/\nDevelopers can be reached directly on the OBS discord, found at https://discord.gg/obsproject. ",
    "u83rmensch": "okay so I follow orginal instructions provided by the install read me and I have the error \"obs: error while loading shared libraries: libobs.so.0: cannot open shared object file: No such file or directory\". How exactly do I fix this considering I installed with original instructions rather than what OP here has provided? \n. ",
    "MarsEdge": "@jp9000 Fedora by default doesn't include /usr/local/lib in LD_LIBRARY_PATH as explained by:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=144967\nThat's why I made it install to /usr\nI cannot find a Fedora package, but OBS is on the RPMFusion wishlist:\nhttp://rpmfusion.org/Wishlist\nI agree this is the ideal solution.\n. ",
    "shaded-enmity": "I guess that the problem is the FFmpeg dependency, if we can work this one out, I'll take on the packaging effort.\nI think that the only plausible alternative unhindered by patents is WebM, @jp9000, do you think OBS could use that as it's encoding/decoding backend?\n. ",
    "Dr-Shadow": "Thank you for this feature, this is exactly what I was needing !\nI succesfully tested it with a public rtmp flux.\n. ",
    "bokecc-cn": "Hello,Everyone,\nI have a external camera connect to PC, but when I use OBS MultiPlatform\n0.7.3 , I cannt get video and audio either.\nThis is the compare result between obs and AV/C:\nAdobe  Flash Media Live Encoder 3.2   => Video (OK) , Audio (OK)\nOBS 0.651               =>  Video (OK) , Audio (Failed)\nOBS MultiPlatform 0.7.3   => Video (Failed) , Audio (Failed)\nAnybody know why? Thanks!\n. ",
    "Xylemon": "With this commit, could I do something like this:\n\"-f oss -ac 2 -i /dev/dsp\" ?\n. That would be great, because currently OBS does not support OSS and that would be a nice solution.\n. ",
    "kmoore134": "On 05/01/2015 16:10, ONSBalder wrote:\n\nCan one of the admins verify this patch?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/421#issuecomment-98222176.\n\nI'm going to be committing a version with these patches to the FreeBSD\nports tree later today, so if somebody needs to test it out on a FreeBSD\nbox, that would probably be the easiest way.\nThe port is already in our fork here:\nhttps://github.com/pcbsd/freebsd-ports/tree/master/multimedia/obs-studio/\n\nKris Moore\nPC-BSD Software / iXsystems\nEnterprise Storage & Servers Driven By Open Source\n. ",
    "timwienk": "The same problem exists for Debian-based distributions: libcurl-dev is required.\nAn additional issue here, however, is that libcurl-dev is a virtual package, provided by libcurl4-openssl-dev, libcurl4-gnutls-dev or libcurl4-nss-dev. Just attempting to install libcurl-dev, would prompt the user to choose between these.\n(I (or you, or anyone, really) can make a separate issue out of this, but since this is basically the same documentation issue, might as well mention it here.)\n. ",
    "PsiLupan": "My only thought is that the bool shouldWrite is unnecessary, given that it's only an extension of the if statement.\n. ",
    "chhe": "You are absolutely correct. The bool is unnecessary so I removed it. I'm not sure why it was there in the first place ;-)\n. I can confirm that with commits 4b93b42dedb13164348e4135d278631d66d63a0f and da358da9a702e18dd73578de01d341d1dbd01d25 scenes.json is only written when something has changed. I'll close the pull request. Unfortunately I can't close the Mantis issue I opened (https://obsproject.com/mantis/view.php?id=207).\n. ",
    "nopjmp": "Read the json from the file system can cause unnecessary reads which can spin up hard drives if the json file is outside of the filesystem cache. It would be a better idea to have a 'dirty' flag after a scene is updated and check that instead.\n. ",
    "Bl00drav3n": "Fixed the commit and changed the commit message.\n. ",
    "chaironeko": "Have made recommended changes to the commits. how does it look now? :)\n. ok, all localisation removed. :)\n. Fixed the tabs in rtmp.c :)\n. New full list of things tested:\n- Connecting to custom server with auth\n- Manual reconnection to custom server with auth\n- Automatic reconnection to custom server with auth\n- Connecting to custom server with blank stream key\n- Attempted connection to custom server with invalid credentials\n- Connecting to Twitch\n- Manual reconnection to Twitch\n- Automatic reconnection to Twitch\n. Added commit to fix warning in b64enc() and retested as before.\n. ",
    "jiangtiandao": "OK now ^_^ @chaironeko \n. New line copied from zh-TW. \nshould be:\nUsername=\"\u7528\u6237\u540d\"\nPassword=\"\u5bc6\u7801\"\n. ",
    "ttaylorr": "Thank you for letting me know, I reworded my commit message to reflect this.\n. @jp9000: Sure, the max audio bitrate is now set to 160.\n. keyint now at 2.\n. I am a developer on the Beam project (can be verified by my presence in the GitHub organIzation: @WatchBeam).  Our ingest servers use RTMP, but we actually communicate from our distribution servers to client by sending the mp4 stream over a secure websocket connection, and a keyframe interval of 1 second works best there.  To answer your question about CBR, we don't currently enforce that users stream at a constant bitrate, which is why I've omitted it from the recommended settings.\n. Sorry, still talking with the rest of the team to see what's what :smile: \n. Thanks for weighing in here, @Doridian.\nI've gone ahead and enabled CBR for Beam in the services file, which makes this PR ready to merge.  Thanks again for all of your help and recommendations here, @jp9000! :smile: \n. ",
    "Doridian": "Greetings, another of the @WatchBeam team here.\nFirst of all, thanks for your feedback about our suggested values/settings.\nWe had some discussions among our team about these settings and we have come to the following conclusion: The 160 bitrate along with a 2 second keyframe interval is alright and will work fine with our technology stack.\nCBR should also be recommended to be on as you suggested to ensure an easier experience for our users.\nSo feel free to go ahead and merge this in.\n. ",
    "raoulvdberge": ":+1: \n. ",
    "gkbrk": "Any updates/changes that I need to make?\n. ",
    "paraboul": "I mean, shaming someone in public is not the best way to encourage people that are maybe not confident enough to submit there first contribution. :\n[23:43] <Reboot> why do people make pull requests for changes if they don't even understand the original code -_-\n[23:48] <floatingthru> do you really expect randoms to know what they are doing?\n[23:49] <secretply> I don't expect myself to know...especially on the first pull request, if I do one. lol\n[23:49] <Osiris> that's when you ask ppl who do know, before making a pull request\n[23:52] <Reboot> especially pull requests for a performance optimization should understand what the code does, before trying to optimize it, RP for bugfixes or features are probably different, there is always room for improvement and feedback\n[23:54] <Reboot> and often these optimizations like this are not even needed, because the compiler optimizes it anyway, if possible, it is better to write better code and let the compiler do the optimization, which is often better anyway\nAlso, regarding the optimisation (cc @reboot), an AOT compiler will not be able to optimize out something with no static guess (which is the case here.)\nThat being said, it seems that copy_rgbx_frame is only used in once place where input and output is the same linesize. (But I've to admit, I've a no experience with OBS codebase). \nHowever, what if output linesize is smaller than input linesize? Doesn't the last loop going to overflow the data buffer?\nJust wanted to clear this up :-)\n. It wasn't very clear since it's adding output->linesize[0]; and copy info->width * 4 (which I guess are the same values).\nOh, and thanks for letting me know through IRC that I should not PR again ;)\n. ",
    "storied": "It should be \"fixed\" now. For the record, multiplier is just that, a multiplier. Not a ratio, not a gain, a multiplier. No attack and release because most people would use it as a limiter anyway.\n. Not getting merged I guess.\n. Yeah, the noise gate is full of all kinds of jank but I deliberately limited the scope of this commit to just the security bug. Best to put out the fire before redecorating the wallpaper.\n. Given 474 got merged and this didn't it's not ever getting merged I guess.\n. Yeah, if OBS ever supports more than 2 audio channels (I assume it doesn't currently) it's a straight up exploitable stack buffer overflow.\n. ",
    "Metallord": "A proper dynamic range copression feature would be most welcome. It would make having more professional sound pretty much efortless as hardware solutions are really cumbersome. Even using third party stuff like vsthost is cumbersome. A compression filter right there in obs with sensible defaults gets a :+1: from me. Too bad I'm a filthy casual and don't program C. Anyway this is just some feedback - I really appreciate your time and what you do @jp9000 \nP.S. IMHO it shouldn't be \"dumbed down\" - just give it proper compressor settings with attack, release, etc. Just give it sensible defaults for speech. Really hoping this will come along at some point. Could really help a lot of people sound way better and also save a lot of eardrums :)\n. ",
    "teddybradford": "This really would be a fantastic addition to the OBS Studio suite, especially if there was an option to sidechain the filter from, for example, the mic track to the desktop audio track to create a \"ducking\" effect. I hope someone can take another look at this at some point. :+1: \n. ",
    "panzi": "(I just copied the guard around that symbol from a few lines above. It was obviously forgotten for that second line.)\n. ",
    "2mac": "Regarding the contribution process, I will review the file. How would you recommend revising the commits now that they have already been made?\nAs far as the variable list, I always use them to future-proof the code. Even in a case where I only planned to start with one stream, I would have made a variable list to support it in the future since the backend is already abstracted in a way which allows this.\nFor the UI, it's a bit imperative that it be possible to add an arbitrary number of streams. I intended on doing this with an anonymous list: the streams are not named, just numbered. The reason for this is that I have a client who has commissioned me to make these changes after talking with one of the main developers (he did not say who), because he was told that it was technically possible but lower on your priority list. It is higher on his priority list, and he knew me to be a supporter of libre software. That's not to say that there can't be a \"basic\" interface which hides the ability to have multiple streams from the user, but my client needs to be able to add as many as he wants, or else this work is pointless, and I can't fulfill his request. This is why I used a vector instead of a static array.\nAs stated, I'll review the contributing document. I already knew some of the commits weren't done perfectly, and I only did them to get things up to my server so I could work from another machine without using rsync or similar to just copy files. I don't remember about the first merge commit, but the second one for sure was needed to resolve conflicts.\n. Let's first focus on getting this change ready for merge. Once this is done, we can start talking about UI issues.\nI know that you don't have time to be rushed over this, but I do have pressure from my client, and I need to at least have direction in a timely manner. My ideal would be to agree on a design so that it can be added (either to an advanced interface or not) without requiring me to maintain my own concurrent version of OBS which supports the interface. This user requires this feature for his business, and lack thereof is forcing him to run nonfree software at the moment, so it is high on my priority list.\nFirst thing's first. Let's find a time to talk about fixing up the commits in a way that follows contribution standards so that this backend change can be merged. After that, we can find another time to talk UI.\n. Jim and I discussed some things last night over IRC. We had actually talked in the past in the development channel about adding this feature, so I suppose we'll continue with that and find the best way to make a UI to be added.\nYes, I'm fully capable of making my own custom build, but maintaining my own version is out of scope.\n. I've redone the commits and combined them into one.\n. ",
    "Kazunekit": "Just an outsider's idea: let a plugin handle streaming if the plugin hooks into the streaming. This way you can have multiple or single streaming dependant on what the user wants instead of forcing something on everyone.\nI haven't looked in the code, so sorry if it's not possible. In such case please disregard this message.\n. ",
    "genX75": "I'll mirror the behavior \"0 = auto\" with the keyframe interval setting found in the streaming tab.\n. There was a warning where an int64_t was expected in obs-ffmpeg-aac.c so I fixed that. I was also trying to copy the naming conversions nearby that is why I use kfsecInterval and keyframe_sec_interval which kind of feels weird and inconsistent. Which I suppose keyframe_sec_interval is in a struct but I still think it feels harder to follow this way.\n. ",
    "GoaLitiuM": "You should separate the misc changes into multiple commits (see CONTRIBUTING).\n. ",
    "akx": "I figured that was the issue with GL, yeah, but I can't do much better right now. :) If you have clues how to get even a software (Mesa?) OGL context on a virtual Linux, I'm all ears. Anyway...\nThe text-ft2 plugin builds on Windows, so I assume something makes just plain stat() works instead of _stat() there.\nThe issue I see with using ReadDirectoryChanges/inotify/kqueue in a place like this is that they seem too... heavy-weight. I mean, with RDC you have to have an open HANDLE to the containing directory and then wait for events; with inotify you open a watch descriptor and does a blocking read on the fd, and with kqueues you acquire a kqueue and look for events, etc.\nIt just feels a little too heavy for this sort of thing if you ask me.\nIf you do foresee that OBS'll be getting much more file watching in the future, then it would probably make sense to have a \"service\" in OBS core that deals with setting up handles, descriptors or queues and watching for events in them.\nI mean an API something like\nc\nbool obs_add_watch(obs_source_t *source, const char *path);\nvoid obs_remove_watch(obs_source_t *source, const char *path);\nbool obs_check_watch(obs_source_t *source, const char *path);\n(with the source argument there for automatic \"garbage collection\" of watch handles when a source is removed)\n. Cheers :) \n. ",
    "greenbigfrog": "YEAH!!! Finaly someone coded this! Thanks @reboot \n. ",
    "yogpstop": "Thank you for reviewing.\nOK. I'll update this pull request with SSL option (disabled default).\nI tested this code only in Windows 7 VS2013 64bit. But I can test it in other some platforms. (win 32bit, linux(gentoo) 64bit) I'll test in these environments. However I can't test in Macintosh.\nBut I'm sorry. I'm busy this weekend. So it takes 3 or 4 days.\n. oh, sorry.\nI tested on original Red5 RTMPS server and unknown RTMP server(japanese live streaming site, may be using official adobe media server) with SSL enabled. It works correctly.\n. Sorry for late updating.\nI added SSL option.\nAnd I built on both VC2013_64 and VC2013_32.\nAnd I can publish to both RTMP and RTMPS server.\nI don't test on linux yet, sorry.\n. ",
    "lorddrachenblut": "For people creating howto videos being able to have all the keypress the\nuse during a video could be very useful much like the gamepad site someone\ncreated\nOn Fri, Dec 11, 2015, 4:31 PM btorellALTA notifications@github.com wrote:\n\nThough I overlooked that this has libobs modifications, so it can't be a\nstandalone plugin.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/491#issuecomment-164052274.\n\n\nCheers\nMatthew \"Lord Drachenblut\" Williams\n. I would be curious what cam was this\nOn Fri, Mar 25, 2016, 10:28 PM John P. Kiffmeyer notifications@github.com\nwrote:\n\nOoh, gotcha. I was sort of following the example of how other YUV formats\nwere plumbed through (thinking Y800 is just YUV without chroma) and just\nmimicking those because I mostly didn't know what I was doing. :p\nThanks for fixing it up!\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/515#issuecomment-201678392\n\n\nCheers\nMatthew \"Lord Drachenblut\" Williams\n. ",
    "ChristianFrisson": "@palana one the use cases of recording all mouse/keyboard activity is to regenerate a timeline of commands and actions done during the screencast, as @lorddrachenblut noticed. I am working on an opensource solution similar to the Autodesk Screencast (http://screencast.autodesk.com/) timeline.\n@dodgepong I'd rather have the plugin be part of the main obs-studio distribution so that it is easier for users to get it ready.\n. Note: the \"libobs/obs add source start/stop methods\" commits implement a solution for error reporting to users similar to what has been proposed in issue 309 \"Implement better error reporting for encoders/outputs\" https://obsproject.com/mantis/view.php?id=309\n. @palana Let me propose you another use case for the possible relevance of start/stop methods in source plugins. When choosing proper settings for a recording, say one wants to evaluate the load of every source in the scene, to estimate if the system will handle both the load from the recording and the load from the main task that the user wants to record (gaming or other intensive workflows). From what I investigated prior to developing to work of this pull request, it seems that this user would have to add/remove each source (activate/deactivate signals) to/from the main view and reconfigure each source settings again and again. Moreover, if I understood it well the show/hide signals only affect the display of the sources in the main view and their presence in the recording, not the activity of their processes.\nIn a way, what I want to achieve would require both a source plugin (mouse/key events) and an output plugin (logging to file).\nBut my main concerns are 1) to merge as much as possible from this work into the main repository and 2) make this feature efficient and easy to use. So I'm ready to change the plugin type to output plugin if that's what is necessary to get the first concern solved.\nI'm afraid this will require obs/libobs changes:\n- another tab in the advanced output settings (OBSBasicSettings.ui)\n- another group box in the simple output settings (OBSBasicSettings.ui)\n- the underlying code to manage this in obs/libobs\nAre these changes suitable?\n. If I understand well (from #494), there is a major release with API changes (0.13.0) upcoming, I'll wait until then to mod commit what is required for this pull request. Good luck for the release!\n. ",
    "gamaral": "Found a bug, fixing it. :) I'm also adding source activate and deactivate handling.\n. PCM opening issue has been resolved.\n. No worries, take your time. It'll give me time to stress test it with a few more streams and recordings. :)\n. I have a pretty similar loopback setup with asound.\nHere's my copy which works a treat:\n```\npcm.!default {\n  type asym\n  playback.pcm \"Monitor\"\n  capture.pcm \"hw:Loopback,0,0\"\n}\nctl.!default {\n  type hw\n  card PCH\n}\npcm.Monitor {\n  type plug\n  slave.pcm mdev\n  route_policy \"duplicate\"\n}\npcm.mdev {\n  type multi\n  slaves.a.pcm pcm.MixPCH\n  slaves.a.channels 2\n  slaves.b.pcm pcm.MixLoopback\n  slaves.b.channels 2\n  bindings.0.slave a\n  bindings.0.channel 0\n  bindings.1.slave a\n  bindings.1.channel 1\n  bindings.2.slave b\n  bindings.2.channel 0\n  bindings.3.slave b\n  bindings.3.channel 1\n}\npcm.MixPCH {\n  type dmix\n  ipc_key 1024\n  slave {\n    pcm \"hw:PCH,0,0\"\n    rate 48000\n    periods 128\n    period_time 0\n    period_size 1024 # must be power of 2\n    buffer_size 8192\n  }\n}\npcm.MixLoopback {\n  type dmix\n  ipc_key 1025\n  slave {\n    pcm \"hw:Loopback,1,0\"\n    rate 48000\n    periods 128\n    period_time 0\n    period_size 1024 # must be power of 2\n    buffer_size 8192\n  }\n}\n```\nHope it helps. :)\nAs for the Desktop Device bit, I also get the same thing with other plugins so I guess it's normal? Not sure, I will need to check the code for that dialog.\n. Loopback shouldn't produce any noise. I bet you have mic or line unmuted in your main card. :)\n. Okay, I found out why the plugin doesn't show up in 'Desktop Audio Device' and 'Mic/Aux Audio Device' under settings. OBS currently filters out anything but pulseaudio sources on Linux.\n@jp9000 I was thinking maybe we can make OBSApp::InputAudioSource return a list, or perhaps add wildcard or regexp support to the search functions.\n. Glad to hear it!\n1) Yes! In fact, currently I only list and use input devices, but adding in output support wouldn't be too much trouble. I was just not sure how and where they are used in OBS (audio output devices in general).\n2) Unfortunately yes, ALSA lists separate PCMs for channel configurations: default, front, surround*, iec958. That said, I could break the options them down into separate dropdowns making the selection process better.I.e. one for Card + Device and another for Channels.\nI can also add an item for the default audio input, it's currently already setup to select it, but it doesn't get listed as such in the dropdown list since the name varies.\nI'll work on '2' this weekend, let me know if you want me to add the output sources ('1') also. ;)\n. Oops! It's almost done. I went on vacation (still am, currently in Japan eating Ramen) and totally forgot about it. I'll finish up the change-set ASAP. :)\n. Okay, sorry for the delay. I played around with a few ideas last month, this one was the one that stuck.\nHere's a Preview Image\n. ",
    "Chiitoo": "Very nice!  Awesome in fact!\nI've been recording things with a script using ffmpeg, adding features to something I found someone else had done, but of course, it's nothing even close to as fancy as obs-studio is (thanks for coming to Linux, by the by!).  I finally gave a shot trying it out here (on Gentoo).  Builds and runs like a charm so far!\nOnly... I will not have PulseAudio installed, which brings me to this pull request (yay!).\nHaving applied these changes, I can add an audio capture source, but I can not record audio from a Loopback device even though the virtual device appears in the list.  I have three real cards (Xonar DG, Creative X-Fi, and HDA ATI SB/Realtek ALC889 on-board), from which two seem to lack hardware mixing and the ability to record \u201cstereo mix/what I hear\u201d.\nThus I do software mixing and create a Loopback device in 'asoundrc'.  I'm able to use Audacity and ffmpeg to record this way, but the correct Loopback devices don't seem to appear in obs-studio (in fact none of the PCMs created in 'asoundrc' appear in the list):\n\nThe Loopback device for recording is, with this scheme, \u201chw:0,1\u201d, but only \u201chw:0,0\u201c and its subdevices seem to be detected.  The X-Fi as the sole device having the \u201cstereo mix\u201d option /does/ record audio, so it seems the issue is with the Loopback PCMs (or/and I'm doing something wrong!).\nI'm also not seeing any devices in the Settings; the Desktop Audio Device lists are empty, and not responsive.  Is that to be expected?\nHere's an example asoundrc that I'm playing with (although I may have to retire it for now, since I have discovered that the Loopdevice might be part of the reason for my media players dropping frames at about the rate of 30 per second, or more, and other applications spending core's worth of CPU in the audio driver).\nJust some thoughts, and again, thanks for the OBS Multiplatform, and thanks for the ALSA plug-in!\n. Yes!\nSomehow I had missed setting the slave correctly in, using your example, 'pcm.MixLoopback'.  That is, instead of 'pcm \"hw:Loopback,1,0\"' I'd have 'pcm \"hw:Loopback,0,0\"'.  Sometimes the most obvious things can be the most tricky ones to catch... or I was just super sleepy again.  Either way, feels weird I didn't catch that one!\nMany thanks!  Indeed, now I can record from any and all of the displayed Loopback devices, although the \u201cLoopback PCM Default Audio Device\u201d produces heaps of noise.\n(Now if only I can manage to stop the frame drops and other weirdness going on, I'll be quite happy about sound once more again (not related to this project).)\n. > Loopback shouldn't produce any noise. I bet you have mic or line unmuted in your main card. :)\nPretty close!  It was actually due to the Loopback recording volume being way high, so it made the audio very distorted-like.\nBringing it down by about 80% normalised it.  A little curious that it only happened with the 'default' device, but it's all good now.  ^^\n(This was not an obs-studio specific thing either; audio recorded via that specific device with Audacity had the same results as well.)\n. I, for one, want to thank jp9000 for this decision.  I prefer plain text myself, but I do understand it doesn't please everybody.  :]\nI don't see how it would make the project look less serious or professional, however, but that's me.  ^^\n. Indeed, this would be a very welcome change.\nI briefly touched upon this in [Linux] ALSA Input Plugin #494, but I didn't seem to make it clear that it would be best to have all the PCMs listed.  As it is, one needs to configure their 'default' device to be the one doing the magic (to use a Loopback device for example).\nIf a device isn't capable of doing hardware mixing, it's almost never useful to use them directly.  Without 'dmix', for example, as mentioned before me, an application will hog the device to itself.\nThanks!\n. Adjusted the changes to make things more elegant-like, and added a check that will stop configure in case ImageMagick support was requested, but couldn't be found.\nAlso adjusted grammar of a nearby error message.\nSpecial thanks to Hu for all the tips with the CMake related parts!\n. With regards to 'common', here are some thoughts on that (albeit from a while ago, I suspect not much, if anything, has changed): https://github.com/obsproject/obs-studio/pull/577#issuecomment-234386514\n(If I'm mistaken, someone will hopefully chime in.  :])\n. I thought I took into consideration all the different configurations with regards to defaults, and aimed to not change the behaviour for those that do not set the options themselves, while still allowing control over them.\nControl being the main point here, since scripting was enabled, and something needed for it isn't found, configure /should/ stop.  If a feature I requested for isn't going to be built, I would rather not build, and install the required dependencies (or build with '-DENABLE_SCRIPTING=no' for example, which of course isn't documented in the wikki parts at this time).\nThat the defaults can fail was certainly not intended, however, and should be fixed.. ",
    "OrdinaryMagician": "I depend so much on this plugin. It's much more reliable than hackily using a ffmpeg media source to record alsa, which tends to either introduce absurd delays or simply stop recording entirely because the device isn't closed and reopened properly when changing settings.\n. ",
    "jacobgoodo": ":)\n. Oh.\n. ",
    "elzapp": "\u00abNorsk bokm\u00e5l\u00bb, yes.\n. ",
    "Sasasu": "no...\nI will verify it.\nBut li looks will be no problem\n. ",
    "bl4": "Had to rejigger something.\n. ToolTip added.\n. Your'e welcome!  Thank you for the feedback!\n. facepalm\nThanks\n. ",
    "divinity76": "might wanna change it to a bool now\n. ",
    "partouf": "I have a plugin (https://github.com/partouf/OBSInfoWriter) that writes timestamps to a file, that file doesn't have to exist (initially).\n. ",
    "smhxx": "Good idea! Definitely a must-have for plugins that only run during streaming/recording.\n. ",
    "BlazyDoesDev": "+1\n. ",
    "robske110": "+1\n. Good thought there :)\n. I think you would have a better chance to get this merged if you squash all your commits :)\n. I think guthub messed up your formatting, please check that :)\n. Well, try to fix it anyways\n. Well, I know the Formatting problem a lot too. I always locally code in Tabs and size 4 github is space + size 8\nAnd sometimes it just doesn't work, allthough it is displayed correctly for me. If that happens i just put my code under a formatter, wich i usally set to tabs. Now some spaces that i couldn't see due to they looked exactly like the tabs are transformed into tabs don't mess up github. Annyoing, but i soon found that my beloved text editor had 'Indent selection'.\n. please squash your second commit into the first commit\n. squashing the commit would be appropriate for this small change\n. I think you should meld 3596286 into e56fcdc.\n. Nice PR!\n(The bot failed.) \n. \ud83d\udc4d\nDon't know who will actually use this though.\n. \ud83d\udc4d\n. Just a \"vote/request\" for this feature, because it opens many possibilities.. formatting?\n. formatting again\n. formatting\n. formatting\n. formatting\n. formatting\n. formatting\n. formatting\n. formatting\n. ",
    "DusteDdk": "Hi jp, thanks for the feedback, to be honest, I knew it was not the right way, but I was not able to find the right place. The patch works for me, so I'm not sure if I'm going to have a go at finding the right place in libobs, but I might do it, as I kind of want another option available on input sources \"lock magnification to 1x\" :) Thanks for taking the time to response! :) Keep up the great work.\n. Roger that reboot, I should spend more time searching :) That does exactly what I want ^_^\n. ",
    "Heufneutje": "What happens to the advanced recordings paths people had already set prior though?\n. You don't need to close and replace the PR to make changes to it. You can push to the branch you submitted your PR on again and it will update it.\n. Or provide an option they have to check if they want to include the keys.. The main problem with showing a warning and keeping the keys is that if the user does want to share the profile with somebody else, they would still need to go through and delete the keys manually . The commits should probably be squashed and the commit message should be formatted as 50/72 with the module name in front, essentially like how you formatted your PR title as well (without the period at the end).. If this is the one you want to get merged, you may want to close the other PR as to not cause confusion.. The 3 options seem the most user-friendly to me.. Which they can then remux manually. I like this idea as well. Maybe the user should be informed of this in some way? Not everyone might think to look for the MKV file and remux it themselves.. For reference: https://github.com/jp9000/obs-studio/commit/8298fa4dc7108f2e4323f26f04ab19fc6d43e376. If you want to report an issue, you might want to use the issue tracker.\nhttps://obsproject.com/mantis/. Isn't that competing with https://github.com/obsproject/obs-studio/pull/1153 ?. You may only want to change the en-US locale, as the other locale files will be overwritten by CrowdIn.. I also agree that this should probably be inside of a dock.. Well, for me it's not really the vertical space that's an issue. It's more wanting to position it where I like it, the same way the other docks work.\nEdit: I would like to mention that I definitely like the idea behind this and I understand why it's a good idea to have it. I'm just not sure I quite like it's fixed location. That's all.. > And I think (obviously, the intention to keep the application from changes) that the feature not needed, there is one - warning message when you start the output, it already exist in obs.\nI don't agree with this statement. There is a big difference between both features. The message you're talking about doesn't show up until after the user has already (presumably) set everything up and hits the stream/record button, while this feature uses a visual indication that immediately draws the user's attention to the source list, one of the most logical places to start when first starting up OBS. . I'm not really sure what you're trying to tell me. Your original point was that this feature wasn't necessary because of the message box that shows up when hitting record/stream without any sources. But now you're telling me that this doesn't draw enough attention. I'm thoroughly confused as to how this relates to the point you were originally making or my response to it. So you don't want this but at the same time you want this if it has color, sound and animation?. Very nice. I always found the original dialog a little awkward to use and this streamlines it quite nicely.. You may want to squash your commits. You also seem to be mixing tabs and spaces.. I would argue having them opt-out would be better since these can be extremely helpful for new users.. A new user may not necessarily think to look at the stats window is what I'm thinking. A status bar notification sounds like a good solution though. That's less intrusive than a message box while still informing the user there's a problem.. That's like saying the stats window's only reason for being dockable is to teach new users what the stats are for. Which is surely not the case.. You may want to squash those commits and look at https://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst#commit-guidelines for the correct commit message style.. Yeah the grammar on the confirm text is weird. \"Do you want to save them now?\" would probably be better.. I think having it large is fine. VLC for example does that as well.. ",
    "craysiii": "@Heufneutje they will have to re-add whatever advanced path they used one time. It will not effect new users or those who currently use Simple recording path.\n@reboot good catch. \n. Removed superfluous call to save FilePath twice. Changed commit msg to be more in line with pull request guidelines.\n. Also fixed tab inconsistencies in OBSBasicSettings::SimplePathChanged as well as OBSBasicSettings::AdvancedDefaultPathChanged.\n. Commit has been updated to account for advOutFFRecPath changes and to link it with the other two UI elements and config settings.\n. @Alkaris you make a good point, I didn't know one could do this. Does recording audio seperately only happen in the Advanced FFmpeg config dialog? If so then I could revert my change so that only the Simple Output Path and Advanced Standard Output Path are linked, but Advanced FFmpeg Output Path remains seperate. If not, then I guess this was all for naught. :P\n. If that's the case then this PR should be ready :+1: \n. Thanks for the heads up, I will install Windows later and take a look at it. What version are you on?\n. @shughes-uk are you still suffering from this? I finally have a Windows environment and would like to fix it if it's still a problem. Thanks\n. ",
    "shughes-uk": "Yes, I submitted a pull request that demonstrates how to sort of fix it. To implement this properly youll have to change which setting is used across the whole of obs https://github.com/jp9000/obs-studio/pull/519\n. ",
    "seung-woo": "I will double check with Jim to see why it hasn't been merged yet. \n. Could you refresh my memory on the context of the crash?\nSeung-Woo\nOn Apr 19, 2016, at 6:35 PM, Jim notifications@github.com<mailto:notifications@github.com> wrote:\nCould you check the latest master and see if you're still getting a crash with the media source? I'm pretty sure that your fix shouldn't be necessary.\n\ufffd\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly or view it on GitHubhttps://github.com/jp9000/obs-studio/pull/533#issuecomment-212203710\n. Ok, no homework for me. :)\nSeung-Woo\nOn Apr 19, 2016, at 6:42 PM, Jim notifications@github.com<mailto:notifications@github.com> wrote:\nAh, this is for an unrelated pull request related to the media source. You're probably receiving this message because you're subscribed to the obs-studio repository on github.\n\ufffd\nYou are receiving this because you commented.\nReply to this email directly or view it on GitHubhttps://github.com/jp9000/obs-studio/pull/533#issuecomment-212205642\n. ",
    "thatjpk": "Ooh, gotcha.  I was sort of following the example of how other YUV formats were plumbed through (thinking Y800 is just YUV without chroma) and just mimicking those because I mostly didn't know what I was doing. :p \nThanks for fixing it up!\n. @lorddrachenblut: In my particular case, it's a Celestron NexImage Burst M. Which is, as far as I know, a Celestron-packaged version of an Imaging Source DMM 42BUC03-ML.\n. @RytoEX Oops, sorry.  I've amended it.. Yeah, see the mantis ticket.  I asked about that but didn't get any feedback on it.. Right on, no worries :). @jp9000 Right on, thanks for the better fix!  FWIW I mentioned the stuff about D3D in the mantis ticket, asked for feedback, but didn't get any.  Is there a better place to do that?. Ah, okay.  Duly noted.  Thanks again!. ",
    "L469cdVCwE": "Ok, done\n. Yes, it still works, but it was sold by me and I want to retract my changes on github.. ",
    "Fishrock123": "Updated to add settings as @dodgepong suggested I should go ahead with in IRC.\n. As a note, the snapDistance always sets to 2.0 for some reason once it is adjusted.\n. This would probably work pretty nice with the new sources-to-sources preview snapping that was recently landed. :3\n. I edited this with qt designer, should these not have been changed?\n. Should == 0 be < EPSILON in these? I'm not actually sure :/\n. ",
    "omkelderman": "sample of how it might look: http://omk.pics/1/y01im.mp4\ntwo times the same image source, on the left just normal without filters, on the right, first a crop-filter with negative values and than a scroll-filter\n. oh snap, not sure if I deserve to be the author of that commit hahaha, you made quite a lot of changes yourself xd\nBut in all seriousness: thanks, will check out this behavior when om home :D\n. hey no worries <3 ofc this doesnt have priority so I didn't expect it to be high on your todo-list (to be completely honest: I kinda forgot about it, been busy with other stuff myself lately :P)\n. ",
    "bean07": "Im not know how to open issues but everyone help me pls :'(\nI'm streaming in incoming days but i upgraded to ubuntu 16.04 anyone use this os pls help me\n. ",
    "lindenkron": "Had H4ndy compile it (64 bit dll) and replaced the file in my OBS Studio. I swapped my scene away, and I was now allowed to delete the file without getting the message \"File is in use by an application\". This opens up the possibilities of using OBS Studio for instant replays!\n. ",
    "AnthonySuper": "Done.\n. ",
    "notr1ch": "I would prefer if it said \"Please make sure to install both vcredist_x64 and vcredist_x86\" and made no mention of 64 bit Windows, as users who have this problem likely aren't even sure what Windows architecture they are using. Almost all users will be on 64 bit anyway so this makes it unnecessarily confusing.\n. Also as a general UI design thing for question dialogs, I feel the question should come at the very end of the dialog so as to avoid users pressing yes or no before reading the rest of the message.\n. You need to increment the version number in the package file too.\nhttps://github.com/Dead133/obs-studio/blob/8ef76e62a3d0e51b5a11f544553a409117256467/plugins/rtmp-services/data/package.json\n. This is not a common service so the common flag should be omitted. You will also need to increment the version number of the package (see https://github.com/hoosierfan24/obs-studio/blob/762f8c8c2fbfe772a615cd84fb6429a423d7d764/plugins/rtmp-services/data/package.json) and format the commit message appropriately (example: https://github.com/jp9000/obs-studio/pull/545/commits)\n. Services marked \"common\" are those that are going to be one of the first choices a user is looking to use when installing OBS (eg \"I want to stream to twitch / facebook / youtube\"). As the main focus of stre.am appears to revolve around the app, it seems most users will never need to use RTMP ingesting.\n. I would prefer if this only looked at connection metrics as Classic does. For example, skipped frames should not affect the status square, as this is a CPU usage problem not a connectivity problem.. This was never intended to be merged as-is, it was opened for feedback. I've merged it to master manually.. I'd recommend adding this for compatibility with 3rd party code that's part of obs-outputs:\n[plugins/obs-outputs/librtmp/*.{cpp,c,h}]\nindent_style = space\nindent_size = 4\n. I have no idea what you're doing, but this is not a place for feature requests.. @businiaowyf I have contacted gca@garena.com regarding GPL infringements in the GarenaTV software (it's based on OBS Studio). If you're able to push this along internally it would be appreciated.. @businiaowyf GarenaTV appears to be using a lot of code from OBS Studio, but I saw no offer of source code or mention of the GPL during the download or installation. I searched github and Google and didn't find the source code for GarenaTV available anywhere. As OBS Studio is licensed under the GPL, it's required that other projects using the code are also licensed under the GPL, and that requires the source code for GarenaTV to be available.. The package.json needs updating too with a version number bump. You should also leave common unset as this isn't a well known service.. Don't forget to bump the version in package.json too!. While it's true lots of software can cause issues, antivirus has been one of the main sources of persistent user problems (eg Bitdefender's Webcam Protection or Avast's Game Mode). Logging which antivirus is present will make diagnosing these kinds of problems much easier.\nAntivirus products have a much larger install base than hooking tools like RivaTuner / FRAPS / etc so this will potentially help in a lot more cases.. This would technically break the API in a backwards-incompatible way. I'm not sure how many plugins are out there that make use of this, but it's something to consider.. I am able to build with Visual Studio without this change. What kind of errors are you seeing?. While we don't officially support Vista, purposefully breaking it with this commit makes little sense. There is no time critical code that makes use of PSAPI and there is no meaningful performance difference between the two exports (PSAPI is just a single JMP wrapper to KERNEL32 on supported OSes).. mbedTLS can be exported without a license.\nRef: https://tls.mbed.org/kb/generic/export-control-eccn-number-for-mbedtls. I've filed a Self Classification Report just to be sure then. The code can safely be used under the mass market exception.. Small style issue, the commit prefix should be \"win-capture:\", no square brackets.. The GPU delay filter is meant for minor sync adjustments, it's not really suitable for a dump buffer. It buffers raw video data, so if someone uses a capture card this new default of 20 seconds requires over 4 GB of VRAM and would likely cause major issues for users with lower end GPUs.\nI think the correct place to implement this would be the delay buffer, where already encoded video packets can be dumped instead.. Don't know much about the CMake portion but the resource file looks good to me.. I would perhaps remove the positional information (@ -1200, -478 for example) from user-facing dialogs, it's not terribly clear what this means to the average user and clutters up the information with lots of numbers. It might be worth keeping the \"Display X\" prefix though in case the user has three or more identical displays connected (assuming the X is in line with the OS indexing).. Is a full restart actually necessary? Why can't we reinitialize just the audio subsystem?. There's a missing comma here and instead it is at the bottom of the new section. This makes the file invalid JSON.. Mixed spaces / tabs.. Mixed spaces / tabs.. This is likely unintentional but probably desired due to the .editorconfig in use for OBS. Not all files are conforming to the .editorconfig format yet, but when saving a modified file, it will enforce some of the rules (in this case, no trailing whitespace) throughout the entire file.. What's the reason behind this change? Seems to introduce a lot of unnecessary casting later on.. The OBS API should never pass null to a source callback. Adding null checks would mask possible API errors that should be fixed if this ever occurs.. Shouldn't it be set to the last slide in the case that it's already at slide 0? I feel like introducing a type change isn't the best solution here.. Unnecessary tab added here. This is not a common service, this line should be omitted.. I think \"Dynamical Variable Bitrate\" is a bit too hard for a user to understand what it does.\nI would suggest \"Auto adjust bitrate for network conditions\" or \"Auto manage bitrate if congestion detected\" or something along those lines.. Could this be set to MBEDTLS_SSL_VERIFY_REQUIRED? Disabling certificate verification negates the security of an RTMPS connection. I'm not entirely sure how mbed TLS handles root certs, I suppose we'd need to ship a CA bundle?. We may want to disable low latency mode if using RTMPS. I'm not entirely sure how mbed TLS handles sizing of records, but writing lots of small chunks may result in a high TLS record overhead.. This seems to open up a race condition where the new process tries to start before the old one is completely done shutting down. Perhaps a new startup flag is needed to make OBS wait for any other OBS processes to exit before trying to load configs etc.. As this is not a common service, this line should be omitted.. ",
    "CallumHoward": "Hi jp9000, values from here, as well as advice from a Facebook software engineer.\n. Those figures were advised to me to achieve more stable performance than the minimum requirements. I have tested both sets of values and they both seem to perform fine.\n. ",
    "jumoog": "done :+1: \n. @Gol-D-Ace 2 it's needed for the HLS Service\n. maybe it's a good idea to move that plugin in a own repo and use github as update source. So the services are always up to date and people dont have to wait for a new relase\n. yes he is\n. lol ofc\n. tune parameter is usefull\n. I don't think MIT is compatible with GPL\n. sometimes you can recover the video if you have no moov data but its pain in the ass. Looks good. please remove common see -> https://github.com/jp9000/obs-studio/pull/577#issuecomment-234386514\n. please remove common see -> https://github.com/jp9000/obs-studio/pull/577#issuecomment-234386514\n. Format. Format. Garena.tv is no common Service please remove it. ",
    "SuslikV": "Sorry guys, sometimes I'm typing faster than thinking.\n. Oops, it looks like all commits goes to the master...\n. Actually there is one more bug with Studio Mode and hotkeys. When you delete source in studio mode it doesn't disappear from the hotkeys list at all. You'll need to complete transition (or exit studio mode). Sources created and deleted in Studio Mode itself - not affected.\nBecause this is different bug, I think, I'll need to fill another mantis report for it. But maybe I don't understand how this whole application work (the code is poorly commented as for me).\nEdit: I mean, removed Sources that has audio doesn't disappear from hotkey list, and in the way it do now, it seems that it shouldn't. So, output scene not fully \"locked\" and can be changed by user via hotkeys (mute/unmute keys), not only through transition as it should.\nSources that has audio don't appear at output if they were created in Studio Mode. Thus this hotkeys acts as intended and don't require attention. Transition works as intended (audio appear in the output only after transition complete).\n. Of course it can, otherwise it wouldn't disappear...\n. new steps to reproduce issue and further info https://obsproject.com/forum/threads/keybind.47611/#post-256608\n(linking just because mantis was closed recently).\nEdit: It seems, that id item->toggle_visibility from obs_sceneitem_destroy always return \"0\" when we call obs_sceneitem_release from obs_scene_duplicate (Duplicate Scene selected). And \"0\" id always belongs to the first hotkey pair when creating OBSBasic::CreateHotkeys (UI/window-basic-main.cpp), in our case this is streamingHotkeys. Probably, the obs_hotkey_pair_unregister(item->toggle_visibility) from obs_sceneitem_destroy should be called only on \"real\" sources.. In OBS Studio you can stream and record simultaneously. Whether this patch able to add a second icon to the tray (rec+stream=two icons) or no?\n. I have thread where I posted my icon examples: https://obsproject.com/forum/threads/new-main-icon-color.41567/#post-187695\nAs for code changes, I think, it is good option to change ALL icons you have when you change application theme. A lot of work there...\nAs for now, Studio uses fixed size icons and the simplest QT mechanism to scale them down. Small pictures usually require simple drawing (less detail) and higher contrast. So, amateur artist (like me:) prefer to replace or redraw the small image rather than scale it down for small icons.. A bit strange, I cannot repeat:\n\"If you close and reopen the filters dialog, and then reorder the filters it will still freeze.\"\nwith the first edition view->hide(); only.\nMaybe system related? In my case Filters dialog window always start with last filter in the list selected. Win7x32.\nAnyway, this is attempt to fix:\n1) https://obsproject.com/mantis/view.php?id=641\n2) https://obsproject.com/forum/threads/filters-window-scales-improperly.57467/. What obs is really lacks - is the exact values after cropping. Like, \"Cropped to: Width x Height\" label in Transform and in 'Crop' filter. I think it is unhandy to use mental arithmetic each time when you need to keep aspect ratio or fit the size. You even don't know is the source already fits the base canvas (or other size) or it  is still left 1-2 pixels... At least, 'Size' is available.\nEdit: And instead of FPS indicator at the info bar, I think, it is better to place string: pos(x,y), cropped(width,height), size(width, height) of the selected item (for audio sources you may place there other info).. And I didn't see purpose to implement \"transform copy\" to the application that wasn't designed to create complex scenes at all - it hasn't axis restraints (horizontal, vertical, angle, grid snapping), it hasn't source alignment (intermediate object needed), it hasn't \"undo\" option for any action taken, it lacks animation and so on. The scene build with the software - unhandy. Either you build simple scene - one cam, one source, one background or you need to spend hours to build up something new.\nHope your 'copy' will help a lot. But I don't think that it could change the things. The application is too complex to be managed by casual user and too weak to become a pro tool. You'll just add one more menu entry and that makes application even harder to understand by a newbie.\nAlso, maybe this is off the topic, but \"undo\" for OBS (locked while recording/streaming) and one more \"undo\" for Studio Mode (resets after exit) is good step forward, I think.\nBut really, I don't know where Studio is moving, so let it exist. Maybe this is step forward too.\nAs for naming. The Studio uses Duplicate (scenes, collections, profiles) - maybe it is wise to use Duplicate sources and change Device/File path/Whatever source has unique (not Add Existing)? Not only transform but the filters too? There is only a Scene available for duplicating for now. Edit: or maybe Cast transform>Choose the destination source.... Because Studio always uses \"Duplicate\" as name for copy operations, then full copies (or ref) of sources probably could be named \"Duplicate\" too (if this feature planned in the future) no matter are you copy source or just extends another clone. So, you are free on \"Copy transform\" CTRL + C and \"Paste transform\" CTRL +V use. I think so. And the fear that \"feature/keys\" is used in other programs doesn't make any sense. Just make it and don't touch what Studio already has.. May I bite you too?\n1) Scene Collections/Profiles hasn't version info, as I see. How you plan to detect further improvements in code and compatibility detection if you do not add this info to the Profile and Collection files itself (or to exported files)? Users always do wrong, just imagine if I want to import \"OBS Studio 2\" files to the \"OBS Studio\" not just \"OBS Classic\" (and Studio still hasn't \"safe\" run option with new profile and collection).\n2) Do you allow to the user to rename Imported collection and profile (or update/overwrite it) if the same profile/collection already exist?\n3) Exported Profiles stored as folders or single files (.zip maybe)?\n4) Users will share and exchange the collections and profiles - is it possible to include Sources origin in the exported files (not only path to the media) as an option maybe? There is a lot of work to do. Maybe create Sources folder... option when you import Collection with Sources origin etc.\n. In general, you didn't leave place to improve the commit or feature itself. Dead end.. That's why we had the Architect in the matrix movie - he had vision of whole project not just how to join the parts...\nStill think that using intermediate files to store the profiles (.obspr for example) and collections (.obssc for example) is better. If not a header and own format, then just a .zip compressed file with a comment inside or so. And maybe later, you would like to include something into the exported file (other data, comments, include/exclude streaming key etc.) as Studio improves and updates in time.\nDon't take in mind - it's just about the feature itself, not about the commit.. Huh, scalar product?. @reboot , OK. It's hardcoded \"Reset\" on the left half of the window and \"Close\" on the right half of the window.\n@kingargyle  , I will learn about it. Thank you.. @derrod , Thank you for the examples.\nI will create new pull request due to completely different code now.. Second attempt.. Not complete. Maybe later.\nOnly web interface of the github was used, so this strange formatting.... Small changes ahead.. Maybe it is wise to add \"matrix\" coefficients based on current Settings>Advanced>YUV Color Space?\n```\nconst static float red_weight709 = 0.2126f;\nconst static float green_weight709 = 0.7152f;\nconst static float blue_weight709 = 0.0722f;\nconst static float red_weight601 = 0.299f;\nconst static float green_weight601 = 0.587f;\nconst static float blue_weight601 = 0.114f;\n``\nAnd assignred_weight,green_weight,blue_weight` according to the current YUV Color Space setting.\n. OK.\nJust missing proper import from Media Source (or VLC) to get an option to import source as BT.709. (the original commit have had 'the_matrix' option, now I see why it was removed). @hobbyengineer probably the header I made for the commit not user friendly... This FIX prevents application crash (ungraceful shutdown) when application forces quit() before user call for it. It doesn't change the user interface or application behavior - application closes when you close it.\nEdit: maybe this is better one:\n(51 signs)\nUI: Fix ungraceful shutdown when last window closes\n(49 signs)\nUI: Fix ungraceful shutdown if last window closes. Just to explain a bit, the \n\n...previous pull request.\n\nwas about hiding dialog windows and message boxes on hide to tray. Thus, the situation when window opened and last parent already hidden - no longer happen (so, no crash). The option itself (hide dialogs to tray) was questionable, so this commit was made in case the previous one couldn't be accepted (unfortunately, it was merged by me into completely different feature, but all things were restored by @jp9000 - thank you).. @jp9000 I'm strongly recommend to you to review your opinion on this pull request, because current Stats and VST plugin's window has same flaw in code. Maybe, always minimize to system tray instead of task bar was not the best idea of mine. It only causes, new difficulties at programming (need to remember isolated window or not) and maybe nobody uses this kind of hide-to-tray at all. But if you still want to preserve it - as is, please review this part of code again.. Was adopted as: https://github.com/jp9000/obs-studio/commit/13741034dd0b68dc46e7d8e39bf204a49d960645 . It seems to be OK now.. \"Color Grading\" hardcoded name of the filter. I think, you need change this to support translations.. Should be closed by the same reason: \n\nno change required\n\nhttps://obsproject.com/mantis/view.php?id=724\n. From the one side, I can think only of \"notification message\" in that case (if tray icon enabled).\nFrom other side, I heard, that users are common with two displays these days, thus the status bar and buttons of the OBS Studio is always visible...\nAlso, popup on driver reboot (green splash) is possible (it is still happens to users), connection lost, reconnecting, reconnection success popup, capturing errors popup and many other popups. This things are destructive to streaming/recording.\nIn short - I don't like the idea of popups.. Recording and streaming can run independently and may start at any time (read it as \"when other one is already active\").\nNever thought that you can start recording and never check is it active or not (it is like light signal that cam is active). That's why I don't like the popups with this kind of messages. Is this point of view clear?. Short-circuit logic trick?. If accepted, I'll make pull request for new Default & Dark themes (at least to test this changes, because on themes each person has its own vision: someone prefer colors, someone - icons etc.).. With this two commits for Default theme:\nhttps://github.com/SuslikV/obs-studio/commit/f61cb3a14c86a3e297d346366adb804d111fc740\nhttps://github.com/SuslikV/obs-studio/commit/86803dd22f69a01719b29d859622497ff012c0a3\nfrom: https://github.com/SuslikV/obs-studio/commits/patch-4 branch\nFor W10, possible Default theme look,\n\n\nWith this commit for Dark theme:\nhttps://github.com/SuslikV/obs-studio/commit/101ad217fee3151139bf7eac7427da80309c33cd\nfrom: https://github.com/SuslikV/obs-studio/commits/patch-5 branch\nFor W10, possible Dark theme look,\n\n(Streaming, Recording and Replay buttons slightly taller from their counterparts)\nEdit: Actually, I wrote the qproperty-icon: url() to remove icon only - just to switch from the Default theme on the fly (without application restart while icon property may already be set). But even null icon has default size (this has its own benefits) and +4px width (hardcoded). Thus, widget size was slightly increased.\nIf button's size manipulation undesirable in Dark theme, and you want to preserve all buttons of the same size, just change \nqproperty-icon: url();\nto the next:\nqproperty-icon: url();\nicon-size: 0px 0px;\npadding-left: 16px;    /* -4px hardcoded pixels for icon width */\npadding-right: 20px;\nI assume, that icon for QPushButton always lies to the left(?) of the text.  If not - better to set 18px to both left and right padding (default value from the theme settings is 20px).\nEdit 2: After some experiments, I can say that under normal conditions icon always lies to the left of the text for QPushButton.\nEdit 3: changed Dark theme - https://github.com/SuslikV/obs-studio/commit/d6dfa9263839f283a939879e3b0fbec750b7d578. @Fenrirthviti then we need 3 options:\n\nCopy\nPaste as Original\nPaste as Clone\n\nPaste as Original always inserts original - if Paste as Original of the cloned source then insert original source.\n\nOr even four options:\n\nCopy as Clone\nPaste as Clone\nCopy\nPaste\n\nAnd all combinations should work:\n\nCopy as Clone --> Paste as Clone\nCopy as Clone --> Paste (always inserts original)\nCopy --> Paste as Clone\nCopy --> Paste (always inserts original)\n\nAnd this is too complicated for the users, I think.. I think, \"Duplicate to...\" (\"...\" at the end because of new dialog window) is better name for the option. At least, OBS Studio already has \"Duplicate\" option by right mouse click over the Scene.. With two dialog, at least on my PC, I see that something changes, fully redrawn (maybe for faster PC it is not quite visible?) and this rises my attention to the new dialog. If you reuse dialog, then only size of the dialog will update (nobody reads the text labels) - less attention to the changes from the user side. So, leave it as is.\nAny chance to implement source auto-renaming (as for copy/paste)?. Nope. Import/Export is when you can load/save data from/to disk. We have \"duplicate\" option that makes clones of sources automatically (paste as ref.), and you planning to add another option that has strange meaning? I think it is bad idea to make \"Import\" that can open only OBS own internal data and nothing else.. Basic.Main.CopySceneToSceneCollection=\"Copy To Scene Collection\"\nI think this one is better:\nBasic.Main.CopySceneToSceneCollection=\"Copy to Scene Collection\"\nLook at: Order>Move to Top\n@jp9000 Whole project (OBS Studio) don't uses ... at the end of the menu item name - but the action can be canceled, new dialog window created etc. Is this some kind of styling?. Oh my god! Do you all really loves this feature?\nI prefer self-contained Fragmented movie files, as Annex A of the ISO/IEC 14496-12 says, for mp4 files is actual:\n * Recording->crashing (power loss etc.)->written data survives but 'moov' box is lost->data unusable.\n * Recording->not enough RAM (portable devices)->allocate 'moov' box at the disk for all possible movie space (why disk? for example, only 'co64' box size can be 64bit fields by 2^32 entries = 32 GB) then recompute to shorten it->too slow because of recomputing after the movie finalized.\n * HTTP transfer->need to load whole 'moov' box even if it at the start of the file->\"long\" fast-start.\nThe Fragmented movie files...\n\n...a technique that may be used in ISO files...\n\n...to resolve all this issues.\nDisadvantages of fragmented file writing: software update required (unsupported soft will playback only first available \"fragment\" ~4...8 sec).\nAnd you can remux fragmented back to standard mp4.\nEdit: example, Custom Muxer Settings: movflags=frag_keyframe min_frag_duration=4000000. @Xaymar mkv has limited support (if not - why to remux?). Why not to use OBS own format and encoder then? Because it doesn't exist, yet. So it's workaround too.\nRemuxing disadvantages:\n * twice space required\n * additional time required\n * not clear what to do with Replay Buffer feature. Few words about Replay Buffer and remuxing.\nTry to write at least 3 Replay videos, and with OBS Studio own Remux feature you need to select them one by one, to turn them all into mp4 - it's annoying. Lately, it is possible that Replay feature may become multitrack too. What to do? Implement jobs list?. Also, the side problem may appear (VFR): https://obsproject.com/forum/threads/remuxing-creates-variable-framerate-file.68989/ that will scare users even more than that mp4 \"warning message\" of OBS Studio. At least, it is possible scenario... fO_of (this is zombie - two hands raised up to scare you even more). @Xaymar you can try to remux and see MediaInfo message. Did you even try it?\nmy example (Simple Output mode):\n```\nGeneral\nUnique ID                                : 49100966449446204166224757835631857707 (0x24F0808D72D6924FF8C026F261AA902B)\nComplete name                            : I:\\Temp\\2017-05-29 15-49-53.mkv\nFormat                                   : Matroska\nFormat version                           : Version 4 / Version 2\nFile size                                : 3.10 MiB\nDuration                                 : 10s 600ms\nOverall bit rate                         : 2 455 Kbps\nWriting application                      : Lavf57.66.102\nWriting library                          : Lavf57.66.102 / Lavf57.66.102\nErrorDetectionType                       : Per level 1\nVideo\nID                                       : 1\nFormat                                   : AVC\nFormat/Info                              : Advanced Video Codec\nFormat profile                           : High@L2\nFormat settings, CABAC                   : Yes\nFormat settings, ReFrames                : 4 frames\nCodec ID                                 : V_MPEG4/ISO/AVC\nDuration                                 : 10s 600ms\nNominal bit rate                         : 2 500 Kbps\nWidth                                    : 320 pixels\nHeight                                   : 240 pixels\nDisplay aspect ratio                     : 4:3\nFrame rate mode                          : Constant\nFrame rate                               : 25.000 fps\nColor space                              : YUV\nChroma subsampling                       : 4:2:0\nBit depth                                : 8 bits\nScan type                                : Progressive\nBits/(Pixel*Frame)                       : 1.302\nWriting library                          : x264 core 148 r2762 90a61ec\nEncoding settings                        : cabac=1 / ref=1 / deblock=1:0:0 / analyse=0x3:0x113 / me=hex / subme=2 / psy=1 / psy_rd=1.00:0.00 / mixed_ref=0 / me_range=16 / chroma_me=1 / trellis=0 / 8x8dct=1 / cqm=0 / deadzone=21,11 / fast_pskip=1 / chroma_qp_offset=0 / threads=3 / lookahead_threads=1 / sliced_threads=0 / nr=0 / decimate=1 / interlaced=0 / bluray_compat=0 / constrained_intra=0 / bframes=3 / b_pyramid=2 / b_adapt=1 / b_bias=0 / direct=1 / weightb=1 / open_gop=0 / weightp=1 / keyint=250 / keyint_min=25 / scenecut=40 / intra_refresh=0 / rc_lookahead=10 / rc=cbr / mbtree=1 / bitrate=2500 / ratetol=1.0 / qcomp=0.60 / qpmin=0 / qpmax=69 / qpstep=4 / vbv_maxrate=2500 / vbv_bufsize=2500 / nal_hrd=none / filler=1 / ip_ratio=1.40 / aq=1:1.00\nDefault                                  : Yes\nForced                                   : No\nDURATION                                 : 00:00:10.600000000\nAudio\nID                                       : 2\nFormat                                   : AAC\nFormat/Info                              : Advanced Audio Codec\nFormat profile                           : LC\nCodec ID                                 : A_AAC\nDuration                                 : 10s 600ms\nChannel(s)                               : 2 channels\nChannel positions                        : Front: L R\nSampling rate                            : 48.0 KHz\nFrame rate                               : 46.875 fps (1024 spf)\nCompression mode                         : Lossy\nDelay relative to video                  : -80ms\nTitle                                    : simple_aac\nDefault                                  : Yes\nForced                                   : No\nDURATION                                 : 00:00:10.453000000\n\nGeneral\nComplete name                            : I:\\Temp\\2017-05-29 15-49-53.mp4\nFormat                                   : MPEG-4\nFormat profile                           : Base Media\nCodec ID                                 : isom (isom/iso2/avc1/mp41)\nFile size                                : 3.11 MiB\nDuration                                 : 10s 474ms\nOverall bit rate                         : 2 490 Kbps\nWriting application                      : Lavf57.66.102\nVideo\nID                                       : 1\nFormat                                   : AVC\nFormat/Info                              : Advanced Video Codec\nFormat profile                           : High@L2\nFormat settings, CABAC                   : Yes\nFormat settings, ReFrames                : 4 frames\nCodec ID                                 : avc1\nCodec ID/Info                            : Advanced Video Coding\nDuration                                 : 10s 364ms\nBit rate                                 : 2 500 Kbps\nWidth                                    : 320 pixels\nHeight                                   : 240 pixels\nDisplay aspect ratio                     : 4:3\nFrame rate mode                          : Variable\nFrame rate                               : 25.282 fps\nMinimum frame rate                       : 25.000 fps\nMaximum frame rate                       : 984.615 fps\nOriginal frame rate                      : 25.000 fps\nColor space                              : YUV\nChroma subsampling                       : 4:2:0\nBit depth                                : 8 bits\nScan type                                : Progressive\nBits/(Pixel*Frame)                       : 1.288\nStream size                              : 3.09 MiB (100%)\nWriting library                          : x264 core 148 r2762 90a61ec\nEncoding settings                        : cabac=1 / ref=1 / deblock=1:0:0 / analyse=0x3:0x113 / me=hex / subme=2 / psy=1 / psy_rd=1.00:0.00 / mixed_ref=0 / me_range=16 / chroma_me=1 / trellis=0 / 8x8dct=1 / cqm=0 / deadzone=21,11 / fast_pskip=1 / chroma_qp_offset=0 / threads=3 / lookahead_threads=1 / sliced_threads=0 / nr=0 / decimate=1 / interlaced=0 / bluray_compat=0 / constrained_intra=0 / bframes=3 / b_pyramid=2 / b_adapt=1 / b_bias=0 / direct=1 / weightb=1 / open_gop=0 / weightp=1 / keyint=250 / keyint_min=25 / scenecut=40 / intra_refresh=0 / rc_lookahead=10 / rc=cbr / mbtree=1 / bitrate=2500 / ratetol=1.0 / qcomp=0.60 / qpmin=0 / qpmax=69 / qpstep=4 / vbv_maxrate=2500 / vbv_bufsize=2500 / nal_hrd=none / filler=1 / ip_ratio=1.40 / aq=1:1.00\nAudio\nID                                       : 2\nFormat                                   : AAC\nFormat/Info                              : Advanced Audio Codec\nFormat profile                           : LC\nCodec ID                                 : 40\nDuration                                 : 10s 474ms\nBit rate mode                            : Constant\nBit rate                                 : 2 263 bps\nChannel(s)                               : 2 channels\nChannel positions                        : Front: L R\nSampling rate                            : 48.0 KHz\nFrame rate                               : 46.875 fps (1024 spf)\nCompression mode                         : Lossy\nStream size                              : 2.89 KiB (0%)\nDefault                                  : Yes\nAlternate group                          : 1\n```\n. @Xaymar , Just in case, log file: https://gist.github.com/e1fe5bf70263c2b9e20a14e209ce8530\nand both files:\n2017-05-29 15-49-53.mp4.mkv.zip (~121 KB)\nmake experiment with any probe tool you have.\nI just want to say that MediaInfo message for user as strong, as  OBS Studio \"mp4 format warning\".. Any way we could use this to workaround this one: https://obsproject.com/mantis/view.php?id=860 ?. More clearly, if custom theme removed (when it was last in use) the Studio unable to start (\"Failed to find themes\\ ... error\"). Is it should solve this?. I think, \"File exist. Overwrite?\" warning should be implemented by this commit too.. Yeah, I messed up with my own settings to Profiles folder. All is OK. I just need to make unique folder per Profile when exporting.. Because it was mentioned. Just for info, the post was about the return value of the path - relative versus absolute (to current config folder) depends on launch mode (portable/native). The relative path doesn't  has info about parent folder name of the application itself, so it cannot produce unique identifier (application can be placed in root directory/different drives). No solution was given.. In the end, He bought only one candy bar to get Golden Ticket.\nhttps://github.com/jp9000 (there is contacts, try to ask him directly).. I can understand the \"Play/Pause\" button, but the other two (\"Restart\", \"Stop\") equals to Hide source via eye icon. Isn't it?. Also, it solves this issue: https://obsproject.com/mantis/view.php?id=354. I like the idea to Monitor stinger transition video file.\nAny way to have an checkbox to be able to add it (audio from Stinger transition) to the Mixer's pane as source, and use Advanced Audio Properties for Monitoring setup? (Of course, short sounds and movies are hard to edit because they disappear from Advanced Audio Properties on playback end. And while Media source possible to loop, preview stinger transition loop and thus volume adjustment not available right now). OBS 20.0.0, Resized window won't stick.. The buttons has more than two states: Start/Connecting/Stopping/Stop (some has 3, some 4).\nwas mentioned in https://github.com/jp9000/obs-studio/pull/856. Reconnecting can happen if your connection fails. And it can happen more often than you think. Sometimes people use laptops and Wi-Fi just to stream camera source... My suggestion was about free to modify your custom themes (if any). Later, there was Stats window implemented, where you can monitor tasks state (running/idle). Stats window still missing replay buffer for monitoring, of course, but it clearly indicates current status and \"health\" of the running task. Stats window was more important than themes at that time. And it more useful now days. I think, the decision to not deviate in favor of themes development was right. But now we can return to the scope of the UI development.\nAlso, from my point of view the window-basic-main.cpp is the most edited part of the project by the community. This means, that it has controversial basis. And your suggestion also acceptable.. 1) While 0.5f is skipping the panning, any value close to 0.5f will add -3dB to the almost centered signal (constant power panning law used). I mean, loudness lowers a bit as soon as you touch the ruler. I understand that it rare in use and will be skipped in most cases but what do you think about this? Maybe we need multiply of sqrt(2) when panning used? Of course, user can do it manually through the filters. The advantage of current implementation -  you can set center easily by your ears (max volume at the center position).\n2) If Audio set to mono in OBS Studio Settings and panning not equal to 0.5f - application will crash in obs.dll (probably second channel not exist - you cannot assign data).. No, no, no.  I didn't mean that the \"1)\" was wrong. Not this way. I was interested in your opinion only. It was better solution as for me. Because now all sounds will be at -3dB quieter and someone will complain about this.. Panning will be used with values about 0.6-0.7 mostly (my own estimation), this values close to 60 degrees or sqrt(3)/2. So, I can apply multiply of 2/sqrt(3) (+1.25dB) to each channel to make floor at 60 degrees. That means that at 45 (center) it will be only 20*log10(A) = 20*log10((2/sqrt(3))*sin(pi/4)) = 20*log10((2/sqrt(3))*sqrt(2)/2) = 20*log10(sqrt(2)/sqrt(3)) = -1.76dB lower; and at 90 (full right) = +1.25dB higher; just to keep same volume almost without overload at optimal channel balance.\nI see this as:\nif ((obs_source_get_panning_value(source) != 0.5f) && (!mono_output)) {\n...\n    there was my thoughts about 45 and 60 degree floor;\n...\nAlso, there is an example when Advanced feature was removed:\nhttps://obsproject.com/mantis/view.php?id=862\nSomething similar happened to OpenGL renderer under Windows.\nThis has very specific use too.... @c3r1c3 perfect catch. \"Downmix to Mono\" important. The panning should apply last. But I see as more posts appear in the thread the worsen it (feature) becomes...\n\"Downmix to Mono\" is just averaging channels feature. This is just bad wording (downmix to mono). It should average any signal between all channels (making planar sound). For example, input is 2 channels stereo, the Left channel 0% of amplitude, Right channel 100%, then \"downmix to mono\" = L = R = L*1/2 + R*1/2. Result: L= 50%, R= 50% of the same data (still 2 channels audio).\nOBS Studio supports only stereo output.. @jp9000 under the \"edit\" section: Only mono audio, can not achieve stereo\nbut this is only my own thoughts. Because OBS Studio captures devices only and for each device I can access balance settings from the Windows mixer. So, the feature not needed and should be removed. \nOnly if you planning to use \"Downmix to Mono\" then Panning L to R required inside obs (of course, if it applies last). And because it is hard to say if somebody needs this feature (downmix + panning) then it will be better to remove it completely.\nAlso, panning of the multi-channel is not just LtoR.\nEdit: I forgot about other systems, maybe Mac or Linux? And maybe as Filter? And \"Down mix to Mono\" as Filter too? Something like Downmix/Balance filter.. I think, of this option in different way. What the sense to preview only and not to switch scenes by single click?\nI think, in Studio Mode or not, it should update the output, always. If it could be implemented as one of the Tools feature... with its own interactive window, with options by right-click menu over any of this previews inside of this new window (for example layout switch: 2x2, 3x3, 4x4; reserve the cell for live{program} window; per scene transitions change) and with per scene switch hotkeys label reminder. Maybe it is hard to implement and it looks like \"Pro\" feature, but who knows.... Few info: https://obsproject.com/forum/threads/using-studio-mode-will-enable-all-fliters.75903/. The other issue is left. that windowed Preview, that was created outside the Studio Mode, has title Preview but shows Program window (live output of Studio Mode or right view) when you entering Studio Mode.. Exiting from the Studio Mode makes current windowed projector of Preview acts more like Scene windowed projector - it stuck on the last showed scene and you need to recreate the windowed projector of Preview to make it work as its window title says.\nEdit: double attention...\nEdit 2: changed in https://github.com/jp9000/obs-studio/commit/7d2cda57bbb8d7a7c2abaa14b4ee05dec59fa54c. 1) I don't see the way to modify the icons for my custom theme (.qss). Is it even possible?\n2) I have other thoughts for description text (the difference info).\nBasic.Settings.Output.DynamicBitrate=\"Auto manage bitrate decrease in case of network congestion\"\n\n(otherwise, I think that this option do miracle and auto-adjust my bitrate as magic Auto-Configuration Wizard. The encoder specific {NVENC} shouldn't be mentioned - you need to disable/hide that control - that's all.)\n\nBasic.Settings.Output.DynamicBitrate.Tooltip=\"If enabled and network congestion is detected, video bitrate\\nwill be decreased by few % every second.\\n\\nOnce the congestion has cleared up, bitrate will increase every 5 sec,\\nuntil target bitrate reached.\"\n\n(not clear, should I leave this option unchecked or enable it? Exact numbers (%%) not needed because they are subject to change and not adjustable, or you should give detail description at what % will decrease/increase each encoder. I mean - \"~about\" is not an option here.)\n\nBasic.Settings.Output.Adv.DynamicBitrate=\"Auto manage bitrate decrease in case of network congestion\"\n\n(same as Basic.Settings.Output.DynamicBitrate)\n\nBasic.Settings.Output.Adv.DynamicBitrate.Tooltip=\"If enabled and network congestion is detected, video bitrate\\nwill be decreased by few % every second.\\n\\nOnce the congestion has cleared up, bitrate will increase every 5 sec,\\nuntil target bitrate reached.\"\n\n(same as for Basic.Settings.Output.DynamicBitrate.Tooltip)\n\nBasic.Settings.Output.Adv.Dyn.Down=\"Decrease bitrate, step (in %)\"\nBasic.Settings.Output.Adv.Dyn.Up=\"Increase bitrate, step (in %)\"\n\n(of course, if rate is mentioned this should change only rate - because previous option says about bitrate, \"stepping\" - is option too, otherwise just leave it unchanged)\n\nBasic.Settings.Output.Adv.DynamicBitrate.Down.Tooltip=\"When congestion is detected, the video bitrate will be decreased\\nevery second by the specified amount until congestion stops.\"\n\n(I don't get what is \"X %\" here. If this variable then syntax is wrong. If not - leave only brief info here. Defaults may differ per encoder, if not - add \\n\\nDefault value is 15%. at the end)\n\nBasic.Settings.Output.Adv.DynamicBitrate.Up.Tooltip=\"When congestion clears up, the video bitrate will be increased every\\n5 seconds by the specified amount until target bitrate reached.\"\n\n(I don't get what is \"X %\" here. If this is variable then syntax is wrong. If not - leave only brief info here. Defaults may differ per encoder, if not - add \\n\\nDefault value is 10%. at the end)\n\n3) I want to know (from interface) how much it can decrease the bitrate (read - quality of the stream) when enabled, until frame dropping will be forced. Maybe you should add this to tool tip of the option as \\n\\nMinimum possible bitrate is half of the target bitrate,\\nif congestion continues - frame drop will be forced.. 1. I don't get it. The Rachni alternates only general icons for widgets, not the one that is from the storage (obs.qrc). And few, that has custom string properties (like \"themeID\"). Can you explain more, how to access your images by Qt stylesheet?\n2. As you wish.\n3. Queue shortens faster? The bitrate has minimum? How can you explain to the end user why dynamic bitrate is needed then? If this feature not needed - no sense to implement it. For example, I know, if I have a lot of drops - I need to lower bitrate - it always helps.. Oh, about the theme icons, I mean - custom (user) themes, for example: https://obsproject.com/forum/resources/categories/themes.10/\nI thought, that it would be nice to have styled elements when you make changes to UI and implementing this new code in obs. And current implementation as hardcoded strings in the code - they are exist but you cannot adjust them without bit-hack.\nThe description is nice. Unfortunately it is huge. And thus tool tip with all this info is a bad idea. Also, user may don't know about the encoder's buffer, it fullness etc. Let's imagine that All what I (user) see is: auto option; current bitrate value; up/down arrows; frame drop or quality drops (from stream watchers feedback). And all this, is connected to user settings of the mentioned option (no matter how it works).\nNow I thinking of naming the option: \"Dynamic bitrate reduction\" this is short and all other info can be moved into the tool tip.. In general I don't know how to select exact object. QLabel is selectable but all 3 states (up/down/static) is QPixmap picture that replaces each other. Thus I can give only one style to QLabel itself but not designate it states. After picture updates, the style needs to be updated in the code too (at least for this element), the simplest way is to set style with empty comment string. Also, to be able to address each state I need unique name for it (the simplest way is to add string to properties, for example \"themeID\"=\"up_bitrate\") this name should change as soon as new state switched, but before style update. Thus it will be possible to use .qss:\nQLabel[themeID=\"up_bitrate\"] {\n    my custom style...\n}\nAlso, it is desirable to have unique and predefined \"name\" property for the widget (QLabel). Because potentially you can share same picture to other widgets and adjust only size of it for each widget type individually.\nThe chance to be implemented is small because I'm talking about the changes that were not accepted. It is different, but the root is the same. https://github.com/jp9000/obs-studio/pull/856. Shouldn't we free the context if succseed? avcodec_free_context(&context). Actually, it was the question at the crowdin platform. Thus - it here.. I think, it should fix second part of the issue mentioned in: https://obsproject.com/forum/threads/using-studio-mode-will-enable-all-fliters.75903/ too (I mean, Duplicate Scene option of Studio Mode and scene filters).. Nice.. The string\nlate. buffering - either:\n late, buffering or \nlate - buffering or \nlate. Buffering or \nlate (buffering. Yeah, it solves the mentioned issue.\nThe @RytoEX should say that https://github.com/jp9000/obs-studio/pull/1113/files#diff-5ab27ab1468a600053d50b1305fffd97R164 string is too long (72 is max).. The only reason why I put some attention to this commit because of simple solution. Usually, simple and temporary workarounds merged first. Internal clipping is not the best option for the filter itself but it was in the original code, so. I think, it is acceptable right now.. The window size and multi-view scene index is not robust comparison. The window size not necessary has same size as drawing area. I have 5:4 display and my windowed previews always has black bars on the sides (I need manually to adjust window sides). If I change the canvas size - the Multiview reflects this changes but mouse clicks by this commit - not.\nI think, you need to release OBSSource sources after use. I get memory leaks and crashes in w32-pthreads.dll in case of Studio Mode (Scene Duplication checked), at least one Multiview transition (by double click) and OBS Studio close (by [x] button at the top right corner of the window).. Oh, I see.\nI'd made a PR https://github.com/jp9000/obs-studio/pull/1116 that should fix the crash that was in the code itself.. I think, having fixed layouts and fixed clicks areas is bad solution. Because the code can change a lot and you will need to change all modules to follow this changes.\nAs for the logic itself - the Multiview layouts available outside the Studio Mode too, so, no need to place the option to the Studio Mode section of the Settings window.. I don't think that this is good idea. Maybe standalone trouble-shoot utility that will show all required info about incompatible soft & hard would be acceptable here.\nWhen Studio uses external libs, system settings or hw - then, I understand, it can be added to the log. But loggin soft that is standalone product... There are progs that doing graphics mods, overlays, overclocks etc and can break OBS Studio experience too. Not only security software important, I mean.. It is sad, that we need build-in diagnosing tool because of (and only for) third party software. Don't take in mind, it's just a comment from me.. I don't like it. There is no scale (values on the bar). No one of the wiki examples uses empty meters. It is not a garland on a Christmas tree.. I think - \"falloff speed\" is way better.. We need the word from the main developer to know is it worth it or not - to include whole library into the project. How fast it, in which way it is better than what OBS Studio already has, and so on.\nSmall remark.\nThe 7.1 channels config in OBS Studio means, as I understand, all the \"Middle\" speakers (from ITU-R BS.2051 recommendations it is \"I\" config, that itself includes M+000; M+030; M-030; M+090; M-090; M+135; M-135 and LFE1 speakers: M=Middle, Number=degree). The ITU R-REC-BS 1770-4 says that weighting of the 135 speakers is 1 (+0.0dB), while 110 degree speakers is 1.41 (+1.5dB). You map all SPEAKERS_7POINT1 (\"I\" map; 0+7+0) sounds as SPEAKERS_5POINT1 (\"B\" map; 0+5+0), so last two channels over-weighted for 1.5dB.\nIf someone has other thoughts please, say that I'm wrong in this.. When channels were mentioned I used:\nhttps://github.com/jp9000/obs-studio/blob/master/plugins/win-wasapi/win-wasapi.cpp#L249\nand\nhttps://msdn.microsoft.com/en-us/library/windows/desktop/dd390971(v=vs.85).aspx\nthus I thought that SPEAKERS_7POINT1 is still 7.1 (90 and 135 degree speakers, or \"I\" map of the 7.1ch as it is in ITU-R BS.2051).\nalso, https://github.com/jp9000/obs-studio/blob/master/libobs/media-io/audio-io.h#L62\nwhile SPEAKERS_7POINT1 mentioned in\nhttps://github.com/jp9000/obs-studio/blob/master/libobs/audio-monitoring/win32/wasapi-output.c#L236\nis just not AV_CH_LAYOUT_7POINT1_WIDE that is uses speakers from KSAUDIO_SPEAKER_7POINT1\nhttps://github.com/jp9000/obs-studio/blob/master/plugins/obs-ffmpeg/obs-ffmpeg-audio-encoders.c#L85\nTotal mess with all this configurations and it is unknown what is SPEAKERS_7POINT1 in OBS Studio itself.. I think, side speakers appear in the surround sound only because of home theaters and small rooms -\n where there is wall right behind the sofa and no space to place the rear speakers. So, it is true 90 degree (by both sides of the sofa).\nThe 110 degree speakers is rear speakers (behind the sofa) in 5.1 (map \"B\") is +1.5dB.\nThe 90 degree speakers is side speakers (by both sides of the sofa) in 7.1 (map \"I\") is +1.5dB.\nThe 135 degree speakers is rear speakers (behind the sofa) in 7.1 (map \"I\") is +0.0dB.\n\n7.1\nMS:\nKSAUDIO_SPEAKER_7POINT1_SURROUND\nFFMPEG:\nAV_CH_LAYOUT_7POINT1\nBoth includes 90 degree side speakers and 135 degree rear speakers.\n\n5.1\nMS:\nKSAUDIO_SPEAKER_5POINT1\nFFMPEG:\nAV_CH_LAYOUT_5POINT1_BACK\nBoth includes rear speakers but in this setup they are placed at 110 degree. And thus weight is +1.5dB.\n\nIn some places OBS Studio uses SPEAKERS_5POINT1 as AV_CH_LAYOUT_5POINT1\n(https://github.com/jp9000/obs-studio/blob/master/libobs/media-io/audio-resampler-ffmpeg.c#L69)\nin other places it is mentioned as completely different KSAUDIO_SPEAKER_5POINT1\n(https://github.com/jp9000/obs-studio/blob/master/libobs/audio-monitoring/win32/wasapi-output.c#L235)\nEdit:\nForgot about 7.1. Here we go. In some places OBS Studio uses SPEAKERS_7POINT1 as AV_CH_LAYOUT_7POINT1\n(https://github.com/jp9000/obs-studio/blob/master/libobs/media-io/audio-resampler-ffmpeg.c#L70)\nin other places it is mentioned as completely different KSAUDIO_SPEAKER_7POINT1\n(https://github.com/jp9000/obs-studio/blob/master/libobs/audio-monitoring/win32/wasapi-output.c#L236)\nEdit 2:\nOn my PC const returns values (bitmaps) are\nKSAUDIO_SPEAKER_7POINT1_SURROUND => 0x63F (1599)\nAV_CH_LAYOUT_7POINT1 => 0x63F (1599)\nKSAUDIO_SPEAKER_5POINT1 => 0x3F (63) [= KSAUDIO_SPEAKER_5POINT1_BACK]\nAV_CH_LAYOUT_5POINT1_BACK => 0x3F (63)\nmore pairs:\nKSAUDIO_SPEAKER_7POINT1_WIDE => 0xFF (255)\nAV_CH_LAYOUT_7POINT1_WIDE_BACK => 0xFF (255)\nKSAUDIO_SPEAKER_5POINT1_SURROUND => 0x60F (1551)\nAV_CH_LAYOUT_5POINT1 => 0x60F (1551)\nWhile channels names (speaker positions) and bitmaps all matches for MS and FFmpeg.. https://github.com/jp9000/obs-studio/pull/1163 - pull request to reflect the 48a8e75 changes.. By small changes to:\nhttps://github.com/jp9000/obs-studio/blob/master/libobs/media-io/media-remux.c#L228\nlike this:\n```\nAVDictionary *dict = NULL; //muxer params\n//set faststart for mp4/mov format only, exact match...\nif ((RemuxDialogFastWriteCheckBoxON) &&\n    (strcmp(job->ofmt_ctx->oformat->name, \"mp4\") ||\n    strcmp(job->ofmt_ctx->oformat->name, \"mov\"))) {\n    ret = av_dict_set(&dict, \"movflags\", \"faststart\", 0);\n    if (ret < 0) {\n        blog(LOG_ERROR, \"media_remux: Error to set\n                muxing keys: %s\", av_err2str(ret));\n    }\n\n}\nret = avformat_write_header(job->ofmt_ctx, &dict);\nav_dict_free(&dict);\n```\nand new checkbox in remux UI it will be possible to add faststart to all remuxed mp4/mov files.\nWhat do you think?. Right now it doesn't support multiple files selection (only drop) and lacks combobox to convert all files to specific format.\nTools button's design is bad. The window min width is too large. Last two - is my IMHO.. I think, people will ask for:\n\nTransform animation of any source (maybe countdown clock's pulse for each last beat);\nthe way to access audio values (maybe equalizer);\nthe way to access and modify Filters parameters (maybe Image Mask/Blend opacity change animation);\nthe way to apply transition per source hide/show (maybe fake it through the above filter + hide at the end)\n\ntoo.. https://github.com/jp9000/obs-studio/blob/master/plugins/decklink/decklink-device-instance.cpp#L51 \n -> require revision.. commit titles?. I will give up at this time. I don't know how to make it possible from the web from. I am amateur, not the pro, thus all commits were made from the web interface. The changes doesn't affect many users as I understand.\nLet's say it was bug report not the PR itself.. The restrictions of the AAC is only the limit of the encoder itself. The Studio may operate wider number of channel setups. Specify, was it intended to use only AAC for multi-channel audio or not? A for me, I think only: stereo; 5.1 and 7.1 needed at all (even mono is obsolete).. Related bug report: https://github.com/jp9000/obs-studio/pull/1163\nI think 3 channels setup not required at all. The controversial info placed in the code intentionally may cause future problems in the development. Also, it should change the 48a8e75 for OBS SPEAKERS_2POINT1 description and MS KSAUDIO_SPEAKER_2POINT1 (custom made) value for audio monitoring. The forum has number of logs that shows only 2 channels usage. It is wise to wait to gather more info on multi-channel  formats usage requested by end-users.\nIn general, more restrictions in code - more stable software is.. This reverts https://github.com/jp9000/obs-studio/commit/17d2a17f9ed85d31cb7ba76ba49e30258983bb0b isn't it? For what purpose? The Studio has a lot of other interface glitches that waiting for fixes.. The frequency, at which the project updates - is not an issue at all. You may rewrite whole api and deprecate all functions until next release happens... ^_^. > Pastes will stay for 30 days from their last view.. Forgot \";\" operator. Giving different names to the same thing is not the best practice, no matter what motivation was.\nAdd tool tip but make the option clear and give same name across the application. User should know that this is the same thing and that it is still slow (as it mentioned in Game Capture source now). You think that user should know what the difference between all this modes and that laptops has 2 or more video cards? Laptops is chosen often because it looks less complicated, it smaller - less danger, in most cases the only wire is power cord.\nLet's place the warning in the sources Properties, that the PC has two, three or more video cards, to make  aware the user of possible capture difficulties and display right there the name of the video device where obs rendering/capturing is running.\nExample.\nDownload frame to RAM (Multi-GPU PC, slow method) disabled\nVideo cards (GPUs):\n1. Super video card - OBS Studio (capturing, rendering)\n2. Hyper video card - (capture unavailable)\n3. Ultra video - (capture unavailable)\n...\n\nDownload frame to RAM (Multi-GPU PC, slow method) enabled\nVideo cards (GPUs):\n1. Super video card - OBS Studio (capturing, rendering)\n2. Hyper video card - (capturing)\n3. Ultra video card - (capturing)\n...\n---. Just want to add, that even help says:\n\nWindow and Game Capture ... \"SLi/Crossfire Capture Mode (Slow)\" in their properties\nhttps://obsproject.com/wiki/Laptop-Performance-Issues#how-to-use-display-capture. This both goes in a row because the second one is not possible without the first one.. As far as I know, you need to modify only en-US.ini locale - all other languages done through the Crowdin site.\n\nThe commits headers also, will be banned.\nPlease, look at the: https://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst#coding-guidelines. I can say that from the web interface you can do only limited amount of github moves. Interesting that rebase and commits edit during merge operations leads to fake results - it is not visible original style and mistakes of the programmer. It reduces number of steps that were performed to went to the final result - and this changes price of the work, and cast shadow to amount of work that was done. Just my thoughts about everything.. It's my style. I can do mistakes and be rough.. 1. Similar PR already exist: https://github.com/obsproject/obs-studio/pull/1238\n2. Typo? Are you sure?. Please, look at the: https://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst#coding-guidelines (commits headers, look at most recent changes in \"cmake\" folder for example). I don't think that this is good idea. Is this \"Add headphone checkbox to mixer\" or Move monitoring controls to the mixer?\nAlso, converting three (and more) states UI elements into two becomes feature of the application...\nEdit: For example, I don't understand is this normal to have headphones sign always in OFF state or I did something wrong and it should be fixed.. @Himura2la Users struggling to select right tracks to record them all at once... Two and more switches makes any task harder to complete. For example, when I see headphones sign - I think that headphones are connected. If only this button could bring up window to select the device.\nI think, speaker - OFF should mute the audio and monitoring should reflect the current behavior of the sound (muted) and shouldn't change its own type.\nYou want to place this feature (that itself has config at Advanced section of the Settings) to the main UI - then add tool tip - it is unknown where to find the monitoring device settings. At least, when it was at advanced properties, the corresponding part was in advanced settings.\nMy view.\nI think of three options:\n\naudio monitoring disabled = Off (default)\nmonitor audio but do not output it = Listen\nmonitor audio and output it = Listen + Output\n\nThe button:    may act like gear icon button - bring up menu with 3 radio boxes mentioned above.\nI think, there is no need to remove the monitoring controls from Advanced Audio Properties.\nP.S. listen-obs-svg-source.zip if needed.\n. @Himura2la Users will decide. And, to be clear, I said that \"mute\" shouldn't change monitoring type.. @Himura2la In Russian, it will be too rude to understand, I think. I will try in English.\nLook,\nif (mute_checked) {\n        obs_source_set_monitoring_type(source,\n                OBS_MONITORING_TYPE_MONITOR_ONLY);\n...\n} else {\n        obs_source_set_monitoring_type(source,\n                OBS_MONITORING_TYPE_MONITOR_AND_OUTPUT);\n...\nThis part of code changes monitoring type, isn't it?\nWhat about the volume meter and mute? User had explicit control over the \"mute\" sound by single click or by hotkey. Now, it is mess of the controls and visuals. Simply add \"mute\" hotkey to your monitoring source and click the speaker icon while you monitoring or not. You'll notice the difference. And you said that 2+3 logic easily fits into two boolean variables?\nThe streamers is casual users, it is desirable to make intuitive interface. While two buttons solution is not intuitive at all. The icon disabled/inactive state is bad idea too, because it is unknown what it does when it enabled (the \"eye\" icon and \"lock\" icon, for example, has difference in drawing - this is two completely different pictures) and what to choose (I prefer to enable it). Also, when I first saw the OBS Studio's mixer UI, I didn't knew that the \"speaker\" icon - interactive, and you may on/off the sound (it's because icon doesn't changes on hover).\n. It is no way good, all this tabs. The preview on top is not the best thing and you reduces the space for properties even more by these tabs. The tabs should cover all properties (interlacing, filtering, transition overriding etc.).\nWhat purpose for this? Fast access to functions? Or just reminder that filter exist for the source? Then it is not the best place where it shown.. Toolbar? It always visible if not hidden. Also, tabs is scrollable on Windows by mouse wheel even without keyboard focus. And this behavior wouldn't be changed soon.. For what kind of system this change?. No need to log the user actions because they invalid. Should be ignored silently, I think.. I understanding this intention, but it's just a logic bug, and I don't think that it require more attention then just resolving the issue itself. It was oversight. It should be fixed as any bug.. How other applications works? I don't believe that blacklist is right solution here.. This is part of the https://github.com/obsproject/obs-studio/pull/1243. Animated cursors is out of scope in this PR. I think, it should be added as an option (\"Allow animated cursors\" or so).. @jp9000 , please, add more comments to the code in the future. Sometimes, it is hard to understand why you divide by 2 or what the code should do.. This done intentionally. You have other thoughts about the numbers?. I wanna say, that this meters only for visual control. Exact numbers not available anywhere else. While this is still sample meters BUT the screen updates only few times from all data flow, so operator error cannot be ignored.. It designed, it calculates, but the user is the final link in that chain...\nMaybe I miss something in the code but I don't see \"several seconds\". I see only more precise way to calculate data we already have, but the way it will be used (operator) - not changed, I think.. Ough, my bad. I'm totally forgot about this small ticks with almost half dB width in default UI. You are right. Operator not the case.\nMaybe let it exist as is.. My PR was wrong, I'm amateur. Maybe you'll have a better luck.\nClose was too late because @reboot said that this is nonsense by 12 of May. ^_^. I noticed that you mentioned few times the \"lossy\" encoding and -1 dB room for this purpose. Can you give more info on this, why it should be here, at meter? Isn't safe for all AAC encoders that Studio uses by default? Also, OBS Studio can do lossless recordings.. Animation in the mouse pointer for Display Capture source (at least under the win10) is out of scope by this PR.. I should mention, that this feature was never asked (I didn't found any related requests but mine) on the obs forum or anywhere else.. Actually, I was looking into how cursor capture works in obs (in attempt to resolve the crash issue that time to time may happen in OBS Studio - https://obsproject.com/mantis/view.php?id=996) and thus, I made attempt to reproduce the issue. During this attempts I noticed that cursors scaled wrongly, I tried to fix it (https://github.com/obsproject/obs-studio/pull/1284). But still unable to reproduce the issue, then I noticed, that animated cursors not captured, I tried to fix it... Now I see, that there was optimization in textures caching by texture size.\nSo, it is more like theoretical feature. It deviates from the main goal I had, but nobody do it, as I see. It is optional, by the way.\nAs for further improvements (shadow, trail, locator etc.) - I think, who doing 1:1 capture, can use the capture card.\nOne more thing, while working with this code I found another issue: https://obsproject.com/mantis/view.php?id=1242\nAll this is small things, and I doubt that you'll see major fix from me to the OBS Studio in the future.. 68 PRs on the list..! I should close it for some time. There is no sense to keep the features for so long in development. Let's prioritize simple fixes.. I think, you need to update the package version too. Like there: https://github.com/obsproject/obs-studio/commit/174ad29466ce754d623ed7f240f0c9c90ed7ff0a. Hardcoding stylesheets and mixing styles with pallets in Qt is bad idea.. OBS Studio uses Themes to define the final look of the widget. There is number of times where it mixed with different techniques in the code but this only because of long development by different programmers...\nYou may look at my attempt to make custom theme for the application and how difficult it was: https://obsproject.com/forum/resources/phos-light-theme.635/ (you may read some comments in .qss file). I don't agree. It doesn't fits in any theme style we have. All Studio themes are \"flat\" except the default one (which may highly depend on the system), so any use of the new widget will be out of any theme style. What you thinking is looking good - is awful from artist's view, they are looking mixed together, picked from the different themes and... usually, will be merged shortly :)\nIt was my IMHO.. Some info.\nIt is from MP4. Because all video is consist of samples, only integer is allowed.\nWhole movie:\n\n//movie lasts as longest track\n//timescale = 1000;\n//duration = 19920;\n//time ~19.92\n\n\nOr by tracks:\n\n//AAC (857 samples of 1024 time delta + 1 sample of 0 time delta at the end)\n//track timescale = 44100\n//track duration = 877568\n//time ~19.899501133786848072562358276644\n//H264 (498 samples of 512 time delta)\n//track timescale = 12800\n//track duration = 254976\n//time ~19.92\n\n\n. I just wanna say that 1000 in timescale is normal. FPS itself, is tricky thing. You trying to fix the thing that isn't broken. I may be wrong, of course.. So, in which way your solution is better if you are using time_base (that is not related to fps) to set the average fps?. Can you provide file example (1000FPS)? Small file is preferable.. @ntoff you may try Custom Muxer Settings for mp4 recordings instead (rather than remux videos from mkv). https://obsproject.com/forum/threads/stopping-recording-never-ends.63486/#post-274827. I can forget to enable/disable hotkeys for it, or I cannot?. Blind faith...\nI see, auto-building under the mac don't know this Member Function:\nhttps://github.com/obsproject/obs-studio/pull/1321/files#diff-a0eec92bde9402a347f40d7593c0cdc9R3584\nor QAction::QAction(QString)\n. The matrix can be set in x264 Options (separated by space).\nBT.601 has very specific use nowadays.\nIt is hard to find the player that playbacks low resolution video with BT.709 specified. By the way, what player are you talking about?. I thought, maybe if you have the player that correctly playbacks the BT.601 video it can do BT.709 too.. In VLC, what you set at video>output?\nAs for OBS Studio, the default one is NV12 (4:2:0), and BT.601 has only info about 4:2:2 and 4:4:4 subsampling (just because standard is old).. No. I don't. All things are connected.. I'm using test charts and test videos - https://obsproject.com/forum/resources/obs-studio-color-space-color-format-color-range-settings-guide-test-charts.442/ and my eyes.\nBut unfortunately, I cannot set Direct3D 11 (it flickers) and the best automatic for my system is DirectX (DirectDraw) I think.. It is not only about the DirectX. The VLC Player also available on Linux and users usually installs proprietary graphics drivers. Result unpredictable.\nAre your players correctly playback videos of 601 of HD sizes with this commit (both Partial and Full range - important, because I saw OpenGL goes bad on VLC)?. OK.. Is this only for https://github.com/obsproject/obs-studio/pull/1321? I think it will be hard to find exact scene. I think DSK in your case should appear in the top of the hotkey's list (like replays, recordings, studio mode controls).. Is this also should become the part of the #1321?. https://github.com/obsproject/obs-studio/commit/133fa04db34c41c05d4e0b6ebcbc9972313df01a. Not a dialog will pop up, anyway it was attempt to make the things... Not required. Let's it fall. You aware of the inconsistency in UI now.. Restless dreams, @jp9000 ? You need to sleep too.. Inherited from: https://github.com/obsproject/obs-studio/commit/d22a75401d82d51bb7eec29358e934bd3ee3099e. Thank you for the suggestion.\nActually, I don't know is it have any effect or not. I don't know how Map internally works. The example of Map usage, by Microsoft, recommends - init variable and zero it. So, I simply copied it as is (that's why macro ZeroMemory used).. But this Microsoft example was changed by some reason (previously it has no info to zero structure before the calling Map).. Let's make an experiment until real cause will be found. Not a big deal to null one pointer and few variables. It shouldn't cause major performance loss. After the release, I will make new PR that should revert this changes. What do you think?\n. Was changed in: https://github.com/obsproject/obs-studio/commit/8695be6a3409d90b3e9ea7b21a0e1f6ef4f13231\nRelated commit (I think): https://github.com/obsproject/obs-studio/commit/ce53c5cc70361341a7cc0f98ef07440de39c039a. Search and Filter items is different things. The first should point (scroll) to actual data, second should build the new list. My IMHO.. Like this one: https://obsproject.com/mantis/view.php?id=996 ?. OBS Studio had it as is for a long time. If Microsoft will add mandatory to null the structure before the Map call, then OBS Studio code will be changed again. Only Microsoft examples suggested to null the structure.. If take into account https://github.com/obsproject/obs-studio/commit/fb4a29a751a92439f2040fdd56930584aafed262 then all parts should be fixed, I think. Yeah, I don't like it, you know. But it can be done in this way too.\nFeel free to make other PR that will fix Acri theme. The mentioned one and some previous commits broke many things in themes. It is because of long development.. @Fenrirthviti , It looks like Acri theme was fixed recently (https://github.com/obsproject/obs-studio/commit/b58f5c7d4b86c64bda87b80380f49b57f8ff27fa).. Easter egg is missing.\nThe icon is too huge.\n\"About\" link in \"About\" window is a bit strange thing.\nEdit: There was info that in some linux environments there is no visible \"close\" button, thus it was added to all dialog windows in OBS Studio manually.. OK.. \"clean up\", mistake in the title. I hope, you aware of the possible reaction to this changes (you know how it works, but real numbers is hidden from the user).\nhttps://obsproject.com/forum/threads/please-allow-for-mono-recording-of-microphones-ill-explain-why.84834/. SVG is not the best solution for multiplatform with Qt. There, it is better to use PNG files, I think.\nToolbar should be floating window (or be able to change its position, be hidden). Also my IMHO.. For the object named \"noSourcesLabel\" the styleSheet shouldn't be forced.\nYou can use in .qss:\nQLabel#noSourcesLabel{\n/* your style */\n}\n. It doesn't matter how tools are build (I mean Qt, C++, C# etc. ).\nYou making 1 label on the fly and adding in the code 22 strings for this purpose - how it becomes clearer? You mixing techniques that shouldn't be mixed.\nSo, it is hard for you to keep the Themes up to date? Don't build complex widgets then. Every programmer that tries to modify Sources list has difficulties in styling as I see. let's say that this is design flaw then and you just continuing to dig it down and down and down.. Also, users rarely read the messages, so the annoying remainder in the sources list will be skipped by major number of new users.\nThe default behavior of obs is to add 2 audio sources on first run (devices at Settings>Audio) and this feature used by users, so, \"You don't have any sources...\" is not correct.\nAnd I think (obviously, the intention to keep the application from changes) that the feature not needed, there is one - warning message when you start the output, it already exist in obs.. @Heufneutje you should know that OBS Studio has text for the recording buttons, labels at status bar, stats window, system tray icon with the red dot, finally switchable buttons were implemented (I don't like it, because only one button - is the \"Studio Mode\" button should be like this), and still people want to see Overlay, Big Red Dot, Red Outline, Beep Sound indication that recording was started.\nThis label and picture cannot bring attention to any option.\nThe way to bring attention - color, sound, animation, size and sex. The option is grey color, no sound, not interactive and has no animation, text has default size, the last option is part to debate (\"click me\" to add the source for example, and so on :). @Heufneutje I say that I don't like this option. And it looks like it will be implemented sooner or later. It should be a way better if this not just a knot on the box.\n@WizardCM \nIt doesn't matter who you are (@jp9000  makes mistakes too, and more often in simple things) - I just don't like the:\nsourcesLabelInitial->setStyleSheet(\"background: transparent;\");\nstring from your PR, that's all. I don't care about the logic, code time etc. When you said about clearness, I said that is not clear... - You may not take it into account at all (each programmer has its own style). For example, you add background to one widget in one place (.qss) and modifying transparency of the other widget in other place (.cpp), right where you modifying properties of the object - it is acceptable, but for me - it is strange behavior. Edit: also, it sets limits on the widget customization via user's themes.. I think, that dynamic bitrate, size and frame rate is part of the encoding. And any controllers (like source size) should be implemented later.. I think, that toolbar is designed for tools and no sense to reinvent the wheel here. Also, many days ago was mentioned that previews may became dockable windows or so.. It does matter. The Windows applications is known for heavy use of right-click menus (from PhotoShop to Word). This even mentioned in the bugfix to Qt, when the behavior of UI was surprisingly changed after many years (https://bugreports.qt.io/browse/QTBUG-49435 and of course https://bugreports.qt.io/browse/QTBUG-65244). Well organized menu is the main goal, I think. If the feature is rare in use, then it can be moved to the main menu.. It is not visible (from UI) which source goes to which track. Only visible how many tracks/sources is active right now.\nEdit: For example, I cannot understand is the VLC Video Source goes only to Track 1 or it goes to all 6 tracks simultaneously.. Making icons similar to Source's list custom rendering is bad idea - there was used painting based on Palette and Roles while whole application uses Style Sheets. It always was pain in the _ to make any new themes because of this.. @pkviet it was just a comment to the last suggestion from @ivan2340 to make icons similar to Source's list rendering.\nThis custom painting, that were mentioned above - it was nice trick that shows that programmer can use some technique, but it worsens all other stuff. For example, next change to the sources/tree list, that adds colored background to the sources, unintentionally removes Styles for all underlying widgets (including QEdit, that is placed over, only when user renames the source) and this was bad. Now, its color only depends on Palette setting that is set as base option in OBSTheme section of the .qss file. And this (OBSTheme) is another artifact that was developed for another reason.. Mice idea!\nFeel free to use mine with obs project:\n\nSVG file (compressed ~4KB, uncompressed ~22KB): obs right mouse.zip\nAs said, right click is highlighted.... Also, the right image (as well as left one) was not recognized as PC mouse by independent viewer that able to browse internet...\nSo, all this attempts has almost zero result and only can add some aesthetic feel to the program.. Don't do this. Qt has bugs with scroll bars, when customized.\nDefault theme should be under the full OS control.. To clarify Qt bug - the scroll handle moves faster than mouse pointer if scrollbar margins not set: https://github.com/obsproject/obs-studio/pull/1489/commits/ac783946d00c07c81053668937352a03faf705a1. The initial value of GL_TEXTURE_MIN_FILTER is GL_NEAREST_MIPMAP_LINEAR\nThe mentioned patch doesn't sets min filter for both target and source like:\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST)\nand doesn't make any checks on this before calling copy.. Should look like this (new option at the bottom of the Remux dialog window):\nClick to expand\n\n\n. Maybe it is too complicated. I will close it for now. It was part of the user learning, because almost nobody understands why YouTube sometimes asks for streamable file format and how to record/handle fragmented files (protected against recording interruption with always short index table in the RAM) in OBS Studio directly, without any rudiments like remux menus and auto-remux options, while still using only popular mp4.\nLet's prioritize simple fixes and improvements.. Most noticeable in new \"About\" dialog, when you trying to scroll the \"Authors\", for example.. > To sum up the current audio process goes something like:\n\naudio -> resample -> filters -> meter\nWhere w/ the current UI it's written as if\naudio -> filters -> meter -> resample\nSo if the output layout has more channels than the source does resampling may like w/ mono, have the data in a channel that's not being drawn.\n\nSmall remark. Meter used only for display. The values of measurements is never used.. Not needed at all. User should use Stats window.\nYou can implement this as huge tooltip for the Stats or Status bar, for example.. @Heufneutje but the status bar warning already exist.... @WizardCM so, you missed the green/red square of the status bar, that only means that is not required too, and has unknown meaning for the end user.\nIn general, - how it can help to the user, these notifications I mean?\nLet's learn the users to use the stats. At least, it's dockable window now... What sense was to make it dockable then?. There was few messages on the forum where streaming track (that was written to the file as 1st track) may has different sync in comparison to other tracks. And some other cases where only first track had sync issues in comparison to other tracks.. I have no confirmation that any of them were caused by the same bug.\nBut I think, that next threads/posts on https://obsproject.com forum is related to this change of the obs code:\nLast evidence.\nhttps://obsproject.com/forum/threads/audio-in-file-recordings-is-2000-ms-ahead-all-the-time-the-stream-is-fine-is-this-a-design.96211/\nMore cases.\nhttps://obsproject.com/forum/threads/workaround-trouble-with-audio-out-of-sync.66081/#post-285157. @computerquip-streamlabs VS2013 deprecated itself, so not a big deal as for me,  I'm a lamer in c++.\nThe main reason for this was an attempt to follow the instructions for VS2013: https://github.com/obsproject/obs-studio/wiki/Install-Instructions#windows-build-directions\nIt is impossible to compile current master by following the instructions for VS2013 because of couple C++11 implementations (even without additional plugins). That's all.\nWhat is the right implementation here?\nSome thing like this:\n```\ninclude \n...\nstd::string                               hash;\nstd::int32_t                              maxChannel;\n...\nconst std::string& GetName(void) const;\n      std::int32_t GetMaxChannel(void) const;\n...\n``\nor?. libvlc_picture.h: No such file or directory - that's why it fails.... 'vlc/libvlc.h' file not found... Sure, linking to the fixed version is the best solution. Current path is \"include/vlc\".. Presets for gate filter has no sense here, because each environment has its own properties, so threshold should be adjusted manually. Auto option, that says \"keep silent\" for 3 sec, then \"say: 1, 2, 3, check; and hit OK button\" can do its magic. The mouse click or keyboard key press in the end is part of the measurement. This is only solution what I can think of.. The compilation error is seems to be theobs_data_default_stringvsobs_data_SET_default_string`. There is very limited number of cases where need to use OBS on linux.\nBecause of the wrapper any new build cannot be considered as test-build.. About the Linux usage, (statistics from the obs support forum, average of threads and messages)\nWindows 89.12 % (33070t 131177m)\nMac 8.01 % (2990t 11720m)\nLinux 2.87 % (1004t 4459m)\n\nAbout the test-builds:\n\n...upon each git push...\n\nyour application itself has 133 opened issues as I see.\n. Because of such huge change in OBS Studio is there any known security risks introduced by CEF integration?. \"Connect Account (optional)\" - I read this like: I can connect to as many accounts as I wish simultaneously. Maybe \"Bind Account (optional)\" is better naming of the option?. Mentioned \"non-repainting border\" reminds me this bug report: https://obsproject.com/mantis/view.php?id=703 (just in part).. How then a lot of Windows laptops works with obs? Too often there is set 125..150% scale of the screen.. What variables you would like to know about?. devicePixelRatio() = 1\ndevicePixelRatioF() = 1.00\nand no matter what scaling set in Windows itself.\nThe scale only changes its values on Preview Scaling (spacebar+mousewheel).\nThe bounding box border lines (red one), for scaled up display set at 125%,  still rendered as crisp single line.\nI'm unable to test it right now on the system where scaling is set by manufacturer (like laptop with high-DPI screen).\nThe renderer in obs was set default one for Windows: Direct3D 11.. No. It's normal. Did you get rid of the flickering you have?. Code maintainers will ask you to rename the commits headers to comply with the https://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst#commit-guidelines\nRebase, force update etc. Modifying the development history is normal practice here.... So, full drop?. I think, @Fenrirthviti already did it.. So, properties window may be closed?. This differ from the main UI behavior. It's no good.. Maybe all elements should be dockable and nested?. correct link: https://obsproject.com/mantis/view.php?id=1242. You need to test it on W7 too because of default DPI Awareness Level for Qt application. (if anybody uses W7). Was mentioned in:\nhttps://obsproject.com/mantis/view.php?id=1358. The both scenes should be more complex, has colorblindness safe colors, and clear meaning \"from\" the scene \"to\" the scene.. Ideally, there should be progress bar implemented of the transition itself (later it can be placed in Studio Mode as helper object). It would help to visualize duration and progress of the Stinger transition too. My thoughts.. I don't like how \"Preview Transition\" button is placed. Insert the button before the spacer (so it appear right under the last property option, here it named \"invert\") and align it by wrapping it into the same layout widget.. Also, the color range and space settings looks ugly with this change.. @ntoff You can add your own id/name if you need.. font-weight: bold in QGroupBox::title unneeded - it is simply background image under the box header. It has no text in it. Maybe I will take a look how it can be improved even more.\nTime to go to em units. What do you think?. @Fenrirthviti - you said? He did it wrong too. And Rachni theme has other issue, so it will be fixed sooner or later (https://obsproject.com/mantis/view.php?id=1345), I think.. I think, that this large indentation of the title to the left is not needed. Better to specify padding for the QGroupBox widget itself.\nExample (labels is placed right to the title):\n```\nQGroupBox {\n    border: 1px solid rgb(31,30,31); / veryDark /;\n    border-radius: 5px;\n    /*\npadding-top: 15px; to not overlap long titles in different translations\npadding-left: 15px; place content right to the title\npadding-right: 15px; symmetry\npadding-bottom: 15px; symmetry\n\nor in other words:\n*/\npadding: 15px;\n\nfont-weight: bold;\nmargin-top: 20px; /* title placed outside the QGroupBox content area */\n\n}\nQGroupBox::title {\n    top: -6px; / move it up, text centered (general formula of content's height is about: (font_size/6) + font_size) /\n    left: 6px; / to show border radius of the QGroupBox (that is on the left) /\n    padding-left: 4px;\n    padding-right: 4px;\n}\n```\nScreenshot is here:\n\nAnd forget about the font-weight for the ::title itself - it's only sub-control. Why are you set it in both places (is it changes something)?. OK. Hope, this happens this year.\nThanks for the compliment. But I do mistakes too.. One more question. If you resize Sources dock pane to minimum (shrink it) and the source's name consist of 25 characters and more, does the eye and lock icon hides from your view?. > One more question. If you resize Sources dock pane to minimum (shrink it) and the source's name consist of 25 characters and more, does the eye and lock icon hides from your view?\nOh, I found. It's because of Qt version 5.12.0. Also, The 5.11.3 has same issue and one more: the dock pane can't be docked in any place if you make it float then close (via dock header controls - \"X\"), and then show it again through the main menu.\nOnly after application restarted (or UI reset) the dock can be docked again. It doesn't happen for 5.10.1 that is shipped with obs now.. From the screenshot above is not clear what object is selected right now.\nAnd \"Highlight the out of bounds objects\" is not an optional feature.. What the sense in this feature then? If you need to select EACH object that may already lying out of preview window (whole object may be placed out of preview to be animated later with the plugins). I don't get it. Is this some kind of \"eye candy\"? Circles to squares? My oh my, I thought that this is some kind of helper (there is no dummy objects, gird, rulers etc. in obs).\n@dodgepong I missed the commit meaning, and in my OBS Studio if source selected in the Dark theme it highlighted in Sources list too... Is this new bug with the selection?\n@VodBox is this Dark theme screenshot?. Here is how items is highlighted in the Sources list for the Dark theme (all but \"Color Source 5\" is selected in the Preview):\n\nBy the way, the feature itself was discussed long time ago.. @Warchamp7 , screenshot from the Win7, and it seems that this is normal behavior, because selection color for the this complex widget with custom painting(!) never was customized in the Dark theme, so it may be different for all systems. I can say that for some colors it is hard to do without the code change (because the text color of the label in non-/selected states is always the same, and the item's own text element not used).\nText and objects of interest for customization in non-/selected states (for all obs versions):\nSourceTree QLabel,\nSourceTree QCheckBox,\nSourceListWidget QCheckBox,\nSourceListWidget QLabel,\nFocusList QCheckBox,\nFocusList QLabel\nThere is nothing to do with qss itself, it is part of the code, not a bug. This decision, to mix palette roles painting and stylesheets - was mistake. When the Dark theme was made default it simply inherited all these inconsistencies.. And if my source is blue?\nEdit:\nBlue is hardly visible on dark backgrounds. White background is the best for the blue selection (everywhere).. It wouldn't do much harm, because the return value in both cases defaults to the SPEAKERS_7POINT1 for 7.1 audio.\nThis change just fixes logic of the selection and removes double meaning of the SPEAKERS_7POINT1 enumeration (that was introduced earlier).. Just few steps left.... I will make new one.. And one more step.... Hope it's final one.... I'm using web form.... It is required to install all development software, I see no sense to install only git. And my PC slow as hell with all this development stuff (even if just installed, I think it is because of number of small files). Sorry, if it makes too many letters to your mail boxes.. Not always.. Whose rights it protects?\nPrecedents?. Usage is very limited. It has no repeat, only stretching. CSS allows repeat, stretch and round for the border images for example.\nIn case this is optional filter (until now it is not), why not to add the options?... Copyright? I only know - Original Author: Hugh Bailey (\"Jim\").. You should avoid branching at paint.\nIf you need to set limits of the parameters, do it at properties set functions.. @Fenrirthviti , do you think he is real person?. @bushwookieee , Why you don't follow @dodgepong recommendations then (to not follow/watch the obs studio)? The settings at: https://github.com/settings/notifications as far as I can understand...\nMy apologizes for he*, @bushwookieee.. > ...\n\n\nWhat if we used a monospace font, which I think would be consistent with the Script Log\n\n...\n\nthe fonts should be chosen carefully in this case, because some symbols may be missing for different systems and languages (while source/devices may has unpredictable names).\n. Math behind the simplifications:\n\nClick to expand\n\n```\nfloat element_size = 4.0; // = PIXEL_SIZE\n\nfloat row_y = floor(vert_in.uv.y * input_height); // get row # of the vert. buffer whom element belongs to\nfloat col_x = floor(vert_in.uv.x * width); // get column # of the vert. buffer whom element belongs to\n\nfloat elem_offset = row_y * width + col_x; // get offset in element units (from zero)\nfloat byte_offset = elem_offset * element_size; // pixel of interest(byte)\nfloat number_of_expanded_rows = element_size * row_y; // number of expanded rows before the row that contains point of interest\nfloat number_of_elements_in_one_expanded_row = floor(col_x * element_size / width) * width; // before the point of interest\nfloat number_elements = width * number_of_expanded_rows + number_of_elements_in_one_expanded_row; // all before the row that contains point of interest\n\nfloat x_offset_expanded = byte_offset - number_elements; // the column of the point of interest\nfloat u_val = x_offset_expanded * width_i;\n\n// rewriting \"u_val\" to final function:\nu_val = (col_x - floor(floor(col_x * element_size * width_i) * width / elenemt_size)) * element_size * width_i\n\n// reducing number of variables:\n// element_size_pitch = element_size * width_i = element_size / width;\n\n// due to width size optimization and fixed element_size - here, the result is always integer number:\n// element_size_pitch_reciprocal = width / element_size; - integer\n\n(col_x - floor(floor(col_x * element_size_pitch) / element_size_pitch)) * element_size_pitch\n\n// so, one floor() may be ommited:\n(col_x - floor(col_x * element_size_pitch) * element_size_pitch_reciprocal) * element_size_pitch\n\n// in other words:\n(col_x * element_size_pitch - floor(col_x * element_size_pitch) * element_size_pitch_reciprocal * element_size_pitch)\n\n// simplyfing:\ncol_x * element_size_pitch - floor(col_x * element_size_pitch);\n\n// reducing number of calculations:\n// optim_calc = col_x * element_size * width_i\nfloat optim_calc = floor(vert_in.uv.x * width) * element_size * width_i;\nu_val = optim_calc - floor(optim_calc);\n\n// using function modf(x, out ip), requires header Corecrt_math.h, minimum Shader Model 2, or OpenGL Shading Language Version 1.30:\nmodf(col_x * element_size_pitch, p_int_number);\n// it returns pointer to unneed integer, so x - floor(x) used instead (x>=0).\n```\n\n\n. Currently, Windows uses 3 separate dots in their menus as I see.. The mentioned document suggesting \"Peak\" as default rather then \"RMS\" detector. Why it was chosen RMS then?. Is this new expander filter intended to work as described here:\nhttps://www.mediacollege.com/audio/processing/expansion/\nor it doing something different?... After modern digital meter was implemented in obs, I see new filter that was transferred to digital world using analog metrics of amplitude and RMS calculations. The question was - what it should do rather than what it does.. That also means, that b-frames cannot be skipped or you'll get sequence of broken frames, isn't it? And number of referenced frames are limited by level. So, option is nice solution rather than hardcoded stuff here.. Ups.., Seems to be wrong mantis link.\nThe right one:\nhttps://obsproject.com/mantis/view.php?id=1339. Part of the changes has different implementation here:\nhttps://github.com/obsproject/obs-studio/pull/1623. #include \"ui_cefwidgetdialog.h\" - shouldn't be here.\nIs this interactive page? You can interact with it? Is it really needed in OBS?. https://obsproject.com/mantis/view.php?id=1339. It is stupid thing. There is warning label in OBS that says that you need to restart application. Why you changing things in this way?. Basic.PropertiesWindow.Confirm syntax is broken.\nThese changes are not required, I think.. Bug: https://obsproject.com/mantis/view.php?id=1393. I think, that \"Convert to\" is better wording here. Because \"Transform\" in obs is already used for geometry.. Is this changes only the https://doc.qt.io/archives/qt-4.8/designer-tab-order.html ?. > \n\n\n601/709 video source -> sRGB preview window: too dark\n601/709 video source -> 601/709 encoded video: \"correct\"\nsRGB window capture or stream layout image -> sRGB preview window: correct\nsRGB window capture or stream layout image -> 601/709 encoded video: too bright\n\n\n\nCan you share your test videos (the mentioned 601/709 video sources)? Or give a point about your test setup and environment.\nAbout 601 space - main developer is from the Europe, where PAL and SECAM rules. No need to change this.  It is pretty old standard for digital era of television.. Please, feed your capture source with the test videos.\nWhat are you using to check the colors and ranges?\nWhy do you think that the one of the posted images is the right one?. Maybe you are owner of the some rare device which able to show yuv directly. Mine is just HD5750 and SDM-E96D (Monitor has 6-bit per channel + FRC TN-matrix model: M190EN04-V5C) connected via DVI, and as far as I understand, I always looking at RGB no matter when or where it decoded.\nIf you want to add new color space to obs I don't mind, but...\nIf you not using even color bars or test charts or special measurement equipment - how you are working with colors?. You may continue Scaling holy-wars somewhere on the forum:\nhttps://obsproject.com/forum/threads/white-lines-on-certain-pngs.44786/\nThe way the changes are made, makes it harder to implement any new color spaces, I think.. About consoles:\nhttps://en.wikipedia.org/wiki/Pixel-art_scaling_algorithms\nArea filter has very limited usage by the way.. \"Area\" here named by the http://entropymine.com/imageworsener/pixelmixing/ algorithm? Same to FFmpeg and others?. Here, I was asking just because I'm going to translate the option (localization). Not a big deal about the FFmpeg for my case.\nI mentioned some strange behavior of the implementation here:\nhttps://github.com/obsproject/obs-studio/commit/5c16a96770619ab7726e3239e4de67a286a797a3#commitcomment-32746947\n. I think it is wise to link it here:\nhttps://obsproject.com/mantis/view.php?id=1372. It includes all changes that was reverted by:\nhttps://github.com/obsproject/obs-studio/commit/4c7860056e5b4473932aef0200b61538de024fba\nAlso, the report:\nhttps://obsproject.com/forum/threads/quicksync-not-working-properly.101227/#post-395651\nsays that the change itself not very helpful. So, despite mix (unfortunately) of the issues and solutions it is all related - if this merged, the mentioned above changes of the code changes will be reinstated.. @dlunch In which way it fixes?. Add Tip:\nMakes source transparent when playback ends.\nor name it like:\nMake source transparent when playback ends\nFrom user's perspective it just makes the source transparent and audio simply ends (the audio source of the media still listed in the mixer's pane).. I bet there is error in this code.\nAlso, \"N/A\" can be replaced for something neutral: \"-\".. Maybe.. I think that \"new\" itself should be avoided here. If this is only available option then no sense to change it.\nAnyway, my variant:\nHardware (NVENC), via SDK or FFmpeg. Maybe add tip here? That the SDK is new implementation (by Jim) of famous NVENC and will be used by default, and FFmpeg is here only for compatibility reasons while for Output Mode: Advanced, the FFmpeg also allows Rescaling.. In case of softness=0, the result may depend on shader compiler.\nI think, it is better to avoid undefined behavior when you are running multiplatform.\n. More like:\navoid (const / 0) or (0 / 0) expression.\n. can value of the 'softness' change between lines 43-49?\n. I thought that Qt::WA_DeleteOnClose can do it automatically when event accepted.... It is possible to place it in the stylesheet file (the place where it should be). Here, only style should be updated (if element created dynamically and it has its own special settings).. I can't believe, why it is still here?. I can't believe, why it is still here?. @DDRBoxman , It is not needed. Or you wish to solve all Qt bugs manually? Option introduced in Qt 5.6.0.\nQt 5.11.2 (and 5.12.0) for example has stylesheet bug with checked menus (when customized). Do you wish to fix it too with the custom painting for example?. ",
    "tumugin": "@hwdro \nDirectShow audio capture device isn't included in Device::EnumAudioDevices.\nIf there is no audio devices like microphones that doesn't use DirectShow , I can't select the audio output mode of the DirectShow capture device even if the device supports audio capturing.\n. ",
    "tgurr": "Note: This patch resolves installing the .desktop file and the icon, there is still more architecture independent stuff going to /usr/{host-triplet}, e.g. /usr/x86_64-pc-linux-gnu/share/obs/ which needs to be fixed in a followup patch since it seems to be a bit more complicated and I'm unable to solve that. I can teach CMake to install the share/obs stuff to /usr/share/obs with the prefix still being /usr/x86_64-pc-linux-gnu however there has to be something hardcoded in obs because obs fails to look in the right place.\n--- obs-studio/cmake/Modules/ObsHelpers.cmake   2016-05-15 21:23:09.000000000 +0200\n+++ obs-studio/cmake/Modules/ObsHelpers.cmake   2016-05-30 15:46:16.017747907 +0200\n@@ -92,7 +92,7 @@\n    set(OBS_PLUGIN_DESTINATION \"${OBS_LIBRARY_DESTINATION}/obs-plugins\")\n    set(OBS_PLUGIN32_DESTINATION \"${OBS_LIBRARY32_DESTINATION}/obs-plugins\")\n    set(OBS_PLUGIN64_DESTINATION \"${OBS_LIBRARY64_DESTINATION}/obs-plugins\")\n-   set(OBS_DATA_DESTINATION \"share/obs\")\n+   set(OBS_DATA_DESTINATION \"${CMAKE_INSTALL_FULL_DATAROOTDIR}/obs\")\n    set(OBS_CMAKE_DESTINATION \"${OBS_LIBRARY_DESTINATION}/cmake\")\n    set(OBS_INCLUDE_DESTINATION \"include/obs\")\nDoesn't do the trick and makes obs-studio fail during runtime.\n. ",
    "cg2121": "I deleted this because I am inexperienced with github, and I am not quite sure how it all works yet.\n. I have now added the option to keep recording if stream stops.\n. I actually like the icon idea better myself. It is a lot more subtle than my original idea and not so much in your face.\n. My intention was to make to icons look like a red LED light. With the icons being 16x16, this makes them   a consistent size with other icons.\n. I have now made the icons 64x64, so they can scale to whatever size they need to be.\n. As for color blindness, I believe as long as the active and inactive icons are completely different colors, in this case red and black, I think we should be fine.\n. It does look better when I put the 25% padding on the icons.\n. I have just noticed that the lines were greater than 80 characters. I have resolved this now.\n. Good to know, I will fix this and just make one indicator ASAP.\n. I have now changed it to just one fps indicator.\n. Everything should be in one commit now. \n. I have now added the option to start the system tray icon when the app is running.\n. I'm still fairly new to github, so I dont quite understand how the merging of remote tracking branches work. I will submit a new pull request when I figure everything out.\n. All of those issues are fixed now (hopefully).\n. See if that works for you now.\n. Just realized that I put the save geometry function in the wrong place. It is in the right place now.\n. I have now added a notification if the stream fails to connect if the main window is hidden. I also disabled the stream confirmation boxes if main window is hidden. Else if these boxes would show when not visible and you click okay a segmentation fault would happen. \n. I have now added a indicator to the icon when streaming or recording is active. When they are active a red dot appears, like in OBS Classic. I have also now removed the trailing whitespaces.\n. I am done with this now, so you can merge it whenever you want, or if anything needs changing I will still make those changes. \n. Now I am finally done. I forgot to add a toggle to show and hide when clicking the icon.\n. I have now added a OK button that closes the dialog, and added a confirmation dialog when the reset button is clicked.\n. I have now reordered the reset and ok buttons, and renamed OK to Close.\n. I have now changed it to use QDialogButtonBox.\n. I will see what I can do.\n. I have now finally got the window to be modeless. Only thing now is to get the frontend events to work.\n. I have got the frontend events to work now.\n. Nevermind about this PR. The crash that @reboot fixed in #621 is happening again with this commit. I will close this now.. If you close and reopen the filters dialog, and then reorder the filters it will still freeze. But if you click on a filter and reorder it will work fine. I believe it freezes because the properties dialog is hidden when first opening the dialog. If the properties dialog could be shown when opening the dialog, I believe we would be fine.. I've got everything to work now.. I made it now that it only looks at the connection.. The users can't import Classic's scene collection because the import file dialog only allows .json files, Classic's were .xconfig files. This is different for profiles as they are both .ini files.\nThe export profiles does export to a folder. . I have updated it to now allow for different fader types.. I have made it now that the projectors also open automatically when switching scene collections.. For some reason filters don't work with this.. Everything is working now.. The general settings was redesigned to have different sections. All this does is capitalize the t that is in the section header, to make it consistent with the other headers.. I have now changed the wording.. Ctrl+Q is the the standard way most programs can be closed.  For example, VLC can be closed this way.. The shortcut works only when OBS is in focus. If we had a configurable global hotkey, anytime the user would use the key, OBS would close. BTW, if the output is active, a confirmation box shows up to confirm if the users actually wants to quit or not. I will look into if I can have a global hotkey override the shortcut, so that users can have Ctrl+Q as a hotkey also.. This is basically the same as adding an existing source in the add source dialog, so webcams are copied without problems.. If someone tries to paste to another scene collection, nothing will happen.. I have made it now that the paste is disabled when switching scene collections.. I think having two paste options would confuse users. If users want the same source (clone), they should add the source the normal way. . I've now added the ability to copy filters between sources.. Yeah, they are basically the same. I didn't realize somebody already made a PR for this. I will close this now then.. This has been added as a script now.\nhttps://github.com/jp9000/obs-studio/commit/ba1a70c1a038f3571285e18f367c47b110bafd8b. At least they will have something, instead nothing at all.. I've now added transition support to this PR, where the source will transition when it is made visible or invisible.. This would just like if you hit the transition button, except this makes it do it automatically.. Once you double click the scene in the list, it goes to the program (on the left), then automatically transitions to the preview (on the right).. I have fixed the crash when mono is set in OBS settings. I have disabled panning when this is set. I have also fixed the issue when panning is in the center. I now render the panning even if the user changes nothing because it doesn't take that much CPU even when every source is rending the pan.. I've now added a switch case for different panning types.. I been trying to figure out how to make so you can double click to reset the panning.. What I have implemented is more of a stereo balancer. The further left the slider is, the quieter the right channel is and vice versa.. Here's where I got the equations from:\nhttp://www.hackaudio.com/digital-signal-processing/stereo-audio/linear-panning/. This was implemented so users could control the volume of the monitor without changing the volume of the stream or recording. Something similar was in Classic where users could change the volume of capture devices when outputting to desktop.. I've decided to add this to the audio bus PR. (#1045) . I've now added the volume controls from #1044 for each bus. I also now added the ability to mute the busses.. I've combined this with #1327 because my new PR has much simpler code.. I fixed the margin, just didn't update the image. I added the output to monitor only in the right click menu of the mixer.. @Himura2la idea IMO, doesn't seem very intuitive to me. I think it might confuse some users.\nI don't really like the right click menu for the 'output to monitory only' either.\nAnother idea:\nSingle click on the icon: toggle monitor on and off\nDouble click on icon: toggle the 'output to monitor only', turning the icon red when on. Now that I thinking about it more, your idea currently makes the most sense. There is not really an ideal solution for this.. I have now merged @Himura2la PR into this.\nhttps://github.com/obsproject/obs-studio/pull/1253/commits/32b071c21e020b97dcf6bfe76bc14d910bfc36e7. I've now fixed where the mute hotkey wouldn't work, and I've also added enable/disable audio monitor hotkeys.. I'm going to close this because #1469 is a better implementation of this.. The hotkeys tab is now finally added.. I've done a bit of a refactor of this PR. @WizardCM I've implemented most of things you suggested. Still can't figure out the crash when enabling the replay buffer.\nThis is what the interface currently looks like:\n\n. I will close this because the code is very sloppy and has several issues. A redo of properties is currently planned anyway.. I have reopened this because I fixed the replay buffer bug and fixed the memory leak I was getting. I also cleaned up the code a bit.. Formatting is fixed now.. He did make a PR to my repo here: https://github.com/cg2121/obs-studio/pull/2\nI wasn't sure what to do with it though because it made modifications to libobs, and significantly changed the monitoring type code. @jp9000 what are your thoughts on the libobs changes?. @Himura2la I reopened your PR on my repo again, so you can push to that one again. Sorry for all of the confusion.\nEDIT: I guess since I reopened the PR on my repo, it automatically tracks changes to your branch, so just keep pushing to it.. \n. I not quite sure why it failed. I don't have the ability to test on Windows at the moment.. I have now removed the restart button and fixed the styling issues.. I've now added the icons for the other themes, and fixed the other styling issues.. I did the changes @jp9000 suggested.\n~~One thing I can't figure out though, is why the scene item select and remove signals do not work.~~\nNevermind, I have figured it out now.. I have now made the media controls a dock widget.. I believe I have fixed all of the issues now.. I'm currently working on a refactor for this. I figured out how output channels are supposed to work, so I don't have to loop through every scene to add the dsk. I'm also a UI for users can edit the dsk.. I now pushed the refactor.\nTODO:\n-~~Fix crash on exit~~\n-~~Figure out why the dsk is not saving and loading~~. Just need to fix a few bugs.. Everything should be good to go now.. I closed #1133 and combined it with this one.. After thinking about it for a while, visibility toggle for scenes doesn't quite make sense. Now this PR is just for filters.. I will close this until a better UI can be made for the hotkeys.. \n. @WizardCM could you see if the issue is fixed now?. @WizardCM the issues are hopefully fixed now, if you want to test again.. There is a bug in which I haven't been able to figure out. When you transition to blank on a source with audio, the audio stops just fine on the recording but can still be heard on the audio monitor, at least on Linux anyway.. I have now changed the wording to your suggestion.. I've now added the 'Do not show again' checkbox to the dialog, and fixed a couple bugs that I have found.. No, I don't have a Mac. I also don't have Visual Studio on Windows set up at this time. It compiles fine on Linux though, so I don't know quite what the problem is.. @jp9000 the compiling issue is now fixed.. I have now added the cmake variable for the frontend api.. Fixed.. I have now fixed the tab indent in the cmake file.. The reason why I chose mkv is because flv doesn't support multiple audio tracks. I would argue it would be better in the recording section because it would let users know their is such a feature, and they would be less likely for them to record directly to mp4.. I have now moved the option to the advanced settings.. I have now implemented your suggestions.. I have now fixed the styling issues.. I have now got this to work with the batch remux commit.. The trailing white space is now removed.. I've set it now so it won't process when set in the middle. But I've tested with several sources at once, and there was hardly any CPU increase at all. It should still not processing though, because if the slider is in the middle it would be the same volume either processing or not. I created #1466 so users can easily reset the slider.. I added the snapping feature. I changed the value from 3 to 10 because with 3 you couldn't get the slider to snap to the middle at all because it is such a small value.. I chose shuffle because if a random file would be chosen it would need to be loaded on the spot. There are probably ways to do this with random, but the code would need to be more complex. The files are reshuffled every time the slideshow restarts.\nLoading images shouldn't really be a problem because the new images are loaded two images ahead of time.. Well I found the lines where the memory is leaking. Still don't how to fix it.\nIn the clear_buffer function:\nif (next) {\nbfree(ss->files.array[0].path);\nda_erase(ss->files, 0);\n} else {\nbfree(ss->files.array[ss->files.num - 1].path);\nda_pop_back(ss->files);\n}. Nevermind, I have figured it out.. I changed it back to random and fixed some bugs that I found.. The issues are fixed now.. I fixed the issue where it wouldn't work properly if there were less then MAX_LOADED images. The issue was also fixed where the images would resize when reloading when using random.. If the output is active, the resize output function is disabled.. I have now added the confirmation box.. I have now set the action to be disabled if the source size is 0.. At the time I was thinking we should remove as many things from the context menu as possible. But having redundant ability isn't bad either. The properties, for example, has a button on the main window and a right click menu item. So I guess it doesn't really matter.. I've added the right click menus back in and moved the icons to the right side of the window.. I tried that and it didn't work.. The display color is only set during the render_display_begin function in obs-display.c, so you can't set the color when the display is in use.. Never mind, I got it working now.. Conflicts are now fixed.. I have no idea how to fix the compiling issue. I'm using Linux, where it compiles just fine.. I have figured out the compiling issue. The obs-slider.hpp was not added in the frontend-tools cmake file. I think the lambdas are needed because the spinbox is a local variable.. This has been added to #1442 . I have now initialized it as a false.. I need to do some more investigating on the proper way of doing this. After rigorous testing I still sometimes have desync issues. I will close this until I can figure it out somehow.. I switched the icons to the https://octicons.github.com/ set. These are MIT licensed.. I think the SVGs are a much better idea going forward. Are the new icons you are using from the same icon set as before?. I have now fixed the general icon sizing. I had to use a different icon from the Open Iconic icon set. This set is also MIT licensed.. I decided to go back to the original Octicon gear icon because I thought it looked better. I edited it to make it fit.. It is only restarted when the settings windows is closed, so the user can still change other settings.. I've now changed it to use a confirmation dialog asking the user if they want to restart or not.. I have now set it to ask for restart also when the language changes.. Vertical Mode:\n\n. The others labels I was thinking of doing was Edit/Live, but the multiview has Preview/Program as well.. I have made the labels smaller, so they don't take up as much space.\n\n. I am going to close this because it just isn't necessary it this time. I will probably just make a new theme out of this.. @DDRBoxman I have now implemented it now to where the a OBS active tray icon can be used if available.. The three different icons should be accounted for now. I have also greatly simplified the code.. I refactored this a bit to use a 30 second QTimer instead of the totalSeconds variable. I also changed \"N/A\" to blank, and when the recording is first started, the string is set to \"Calculating..\". Fixed. I found out with JIm's qt-message-pump branch the performance is bad. I changed it to use @bazukas suggestion in https://github.com/obsproject/obs-browser/issues/141 to use QT_NO_GLIB, and the performance is much better.. It shouldn't. No other existing functions in this source have null checks.. If a user is at slide 0 and goes to previous slide, they would be at index -1 (which then the index will change from -1 to files.num-1). Int can be a negative number and size_t can't.. I fixed it now so it doesn't need a negative number.. The VLC function to play and pause is a toggle.. The reason I chose 100 ms is because with 1000 ms the timer would look choppy when updating (sometimes the timer would skip a second).. When I try your code I get a segmentation fault.. It is now set to reserve(REC_TIME_LEFT_INTERVAL / TIMER_INTERVAL);.. I'm now using a QTimer instead.. ",
    "aFoxNamedMorris": "@jp9000 Why not something like a red circle for record, and a broadcast tower with an aura for streaming? If not recording or streaming, the corresponding icon could be grayed out, when active, the color would become present.\n. @Jack0r That's great! Gets the point across without being too busy. \n. ",
    "Djidiouf": "The solution proposed by @Jack0r is perfect. I really miss that functionality in my use of OBS. @jp9000 , what do you think about that solution?\n. ",
    "Dead133": "Thanks, @notr1ch\nI did amend to my commit with version update.\n. @Gol-D-Ace 2 seconds keyframe interval is the recommended setting for Restream.io itself, as well as for most of the services.\n. Thanks @jp9000 \nThe commit message was fixed.\n. @derrod Thanks! I'll fix it asap.. Fixed. Pull request updated, added one more ingest: EU-West (Luxembourg). Thanks, Jim.. ",
    "viperwarp": "Removed some extraneous newlines and squashed the commit. \n. 10 minutes of formatting isn't any trouble, thanks for looking anyway.\n. ",
    "magixtone": "sync\n. ",
    "kkartaltepe": "The icon committed isn't monochrome red so it should be fine even for color blind individuals. Feel free to give http://www.color-blindness.com/coblis-color-blindness-simulator/ a whirl.\n. https://github.com/jp9000/obs-studio/blob/31f106c1b533c8b2e1a15ad914fb9d794277bcb6/libobs/obs-audio-controls.h#L208\nShould also be looked at, exported with no implementation.. If you want to check out the module that uses this you can see it at https://github.com/kkartaltepe/obs-lua its still a bit rough around the edges.. Well there we go, that was the link I thought I was missing when I asked in IRC. I'm not sure how I missed it but thanks!. Should probably not include \"free ram\" as that value is quite misleading on *nix and will probably lead to people misinterpreting it. Or at least attempting to make it more representative of what people colloquially call \"free\" such as adding buffers to this value.. You dont need to take swap into account, the sysinfo structure values about \"ram\" are only about ram.  Windows behaves in exactly the same way and you can use a tool like RAMMap to inspect windows memory usage and see that just like linux you will only have maybe a couple meg \"unused\" while the rest of it is being used to buffer various things (mostly disk). Window's \"unused\" is linux's \"free\". However linux doesnt provide an \"available\" like windows.\nIt appears the consensus is if you want to attempt to represent \"free\" ram free+buffers is the best choice.. I wholeheartedly agree that showing free memory is mostly useless especially since this estimate is done before plugins are even loaded although maybe that was the idea. But at the same time most people dont start their game (the other memory hog likely) until after obs so im not sure what its intended use was, but it is provided by the windows logging side.\nOn the estimate, most everyone agrees that free+buffers is already incorrect but its the most accurate estimate easily available in userland. That is an awesome commit to see someone finally attempted a solution for this problem however its rather recent doesnt look like it will be in anything before a 4.0 kernel. Also most of the non-freeable memory cases stated would be rather small in a user system imo. I dont believe this is available on a Stable Debian, but I dont have it installed so I cant confirm. It looks like it should be available in ubuntu 15.10 and newer.. so just barely in stable debian, cool.\nOn Sat, May 27, 2017 at 10:06 AM, Reboot notifications@github.com wrote:\n\nThe kernel patch for meminfo has been in the kernel since v3.14-rc1, which\nwas tagged in Feb 2014.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/929#issuecomment-304457755,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAgIUw7Y1FhTyTfjZjdglhHifN5gjN8Pks5r-DwRgaJpZM4NnK0z\n.\n. Perhaps move to c-ares enabled libcurl would be appropriate?. Ahh good point, I was mainly thinking with my windows hat on for that one, where libcurl is packaged with obs.. Be sure to increase the version number in package.json and fix your commit message to match the Commit Guidelines https://github.com/jp9000/obs-studio/blob/master/CONTRIBUTING.rst#commit-guidlines.\n\nsee #1026 for a proper PR following the commit message requirements and incrementing the version in package.json. Should add in another cmake module for finding libva, dependencies were updated in the readme but CMakeLists was not. libva should be distributed with pkg-config so a simple fallback should do ala\ninclude(FindPkgConfig)\npkg_check_modules(LIBVA REQUIRED libva>=1.0.0)\nReference https://github.com/obsproject/obs-studio/blob/master/cmake/Modules/FindLibv4l2.cmake for a simple cmake find module with pkg-config and a reasonable attempt at detecting should that fail.. compiled and running beautifully on 18.04 without any external PPA's on a 7100U.\n-- Edit\nOne question, is there any current issue preventing the hardware surface from being used as the encoding input? FFmpeg supports decoding vaapi -> encoding vaapi without downloading frames as explained https://trac.ffmpeg.org/wiki/Hardware/VAAPI#Encoding. Assuming the user has not selected an incompatible pixfmt for obs, and the main texture is on the correct device, is this possible as a future improvement?. Highly recommend running perf and just looking at the flamegraph of obs after a streaming session where you get encoder overload this will help you locate where the actual time is being spent. If it is wasted in memcpy it's probably not the encoders fault.\n(or otherwise instrumenting the process, you could also use OBS's existing performance tooling to simply break down areas you are interested as well).. It did not get picked up for 22, so thats why nothing has happened for the past few weeks. Hopefully we can see some renewed responses after 22 is released.. I'm going to count this PR as unmaintained at this point. But I have opened another PR #1482 to take care of any outstanding issues which may come up.. No worries, Thanks for taking a look.. CMake logic should be corrected imo. It claims user has requested WITH_RTMPS when user has not. It does not fail when user manually specifies WITH_RTMPS but the required libraries are not found, and instead disables RTMPS support (this should be done when a user does not specify anything).\nfindMbedTLS appears to attempt to hijack the library names to inject linker flags. This is not supported and should not be used.\nThere are walls of deprecation warnings when compiling against mbedtls 2.8.0, I'm not sure what version of Ubuntu is being targeting with the upcoming release but if these deprecated functions and include locations can be avoided I  recommend you do.\n~~Currently doesn't appear to compile on ubuntu 18.04 when using dynamic mbedTLS library as suggested it should by in OP~~ Ubuntu ships both static and shared and findMbedTLS has no method of linking the shared libs if desired in this case. The compilation error was due to linking the static libs packaged without fPIC.. Compiles when built against mbedtls 2.12.0 with fPIC enabled.\nAnd connects and streams successfully to an rtmps endpoint.\n--edit--\nI have no issues linking and streaming on rtmps without  the whole-archive hack, why is this supposedly required?. Sorry if there is a bit of misunderstanding, I don't think building with RTMPS should be disabled by default.\nIt should first check if the user has the libraries, If the user does have the libraries and has not explicitly disabled RTMPS then build with the feature. If the libraries are not found and RTMPS was enabled explicitly on the command line the build should fail. Finally if the libraries are not found, and nothing was explicitly specified the build should complete without enabling RTMPS.\nBasically if the user requests with/without RTMPS it should be respected and an error if it cannot be. If the user doesnt request anything build by default but dont fail if its not found.. In incorporating mbedTLS obs becomes it's own encryption tool which falls\nunder export law. Like mbedTLS it will likely fall under the Open Source\nexemption, but it still needs to be reported.\nFrom note 2:\nhttps://www.bis.doc.gov/index.php/policy-guidance/encryption/1-encryption-items-not-subject-to-the-ear\nOn Thu, Aug 2, 2018, 09:40 Richard Stanway notifications@github.com wrote:\n\nmbedTLS can be exported without a license.\nRef:\nhttps://tls.mbed.org/kb/generic/export-control-eccn-number-for-mbedtls\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1360#issuecomment-409991102,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAgIU7YKmF7pdDnZrOTdCd3WPSUazoIDks5uMyuJgaJpZM4VIGm5\n.\n. Correct, the purpose of the PR is so that I dont have to remember that.. What is the \"first\" message you are referring to?. Commit prefix was already changed, I just didnt change the PR title.. This should be part of the front-end api, not libobs api.\n\nE.g. this may fail if another front-end chooses to implement their translation layer using something other than what libobs uses (which they are more than free to do). This would mean they would not have the locale specified and or may choose to repackage and use different paths which would also foil this attempt at reading their translation files. Its also a lot easier to implement in the front-end as the proper lookup hooks are readily available or you can just call straight into the GetString function.. As you said this is dependent on the gui, all gui dependent functionality belongs in frontend-api (thats what its for).\nFor example any other user of libobs (say slobs or forge or some as of yet unreleased user) will very likely store there translations somewhere else so hardcoding obs-studio/locale inside of libobs is a sign it doesnt belong there. Better yet they may use an entirely different translation library.\nIf plugins want to depend on the obs-studio specific translations they should link against the frontend-api to signify that, just like if they want to control or depend on other obs-studio specific signals or features.\n-- edit --\nFor example, search for the string 'obs-studio' inside libobs, and you wont find it. This is for a reason.. Why is this necessary? I would expect any compiler to vectorize this code and a trivial example shows that GCC is highly likely to do such already.\nhttps://godbolt.org/g/MV7Hv2\nIs it actually the case that the real build of OBS does not vectorize this operation? (by not doing this we gain the added benefit of easily vectorizing using longer SSE instructions by simply targeting higher SSE/AVX compatibility levels, or allow downstream projects to do such without any code changes). In the release build of obs studio 21.1.2 these functions are vectorized at least in say apply_audio_actions since they are inlined everywhere. It would be embarrassing (to me) to upload  WinDbg(x64) disassembly, but I assure it you its in there I recommend you analyze the release build yourself.. Interesting. There is a tool which does this kind of drawing for linux (X11) called slop (https://github.com/naelstrof/slop) if anyone wanted to implement it using or taking inspiration from it. Since its the least buggy of all such implementations that I know of.. > I am mildly concerned that this will increase disk usage/wear \nMostly a non-issue anyone who was able to open their entire slideshow will have enough unused ram to cache them all or at least a large portion typically.\nI also agree there is no reason to introduce a change from random to shuffle in the same PR.\n. >only loads up to five images at any one time\nYes i mean in the OS disk cache is where they will be stored to prevent disk usage on the next load (in the case of random or getting through the end of the cycle). But if these people have enough free ram to load all their images into ram, then the savings after only loading a few should leave them with plenty of free ram for the OS to cache these which will hopefully survive until the next time they are used. (which is likely since the on disk forms are significantly smaller than the decoded images).. Before, this id probably say make obs actually install required files correctly into the install prefix. Last i checked it was missing a handful of headers. And doesnt work on portable mode.\nRequirement on x11 is only for specific plugins and not required for development against libobs or obs-studio.. In my personal opinion any changes to the install prefix should also package all headers in include/obs and set the package config include dir appropriately since obs headers include directly without a <obs/...h> style.. That should be trivial to do in your packaging script. Less complexity in the build script makes it easier to maintain.. >If a feature I requested for isn't going to be built, I would rather not build\n+1, the existing cmake rules are pretty... fluffy and will just disable things if dependencies are missing.\nIf you are trying to force a build with scripting enabled, you cannot. Generally its good practice for all features which can be enabled/disabled to be tri-state where on/off will cause a build error with the third state being a default or whatever where it wont cause a build error if dependencies are not found.\ne.g. for replacing option with tristate that works with gui\n```cmake\ncreate the variable\nset(ENABLE_SOMETHING AUTO CACHE STRING \"Enable SOMETHING support\")\ndefine list of values GUI will offer for the variable\nset_property(CACHE ENABLE_SOMETHING PROPERTY STRINGS AUTO ON OFF)\n```. Updated. Thanks for the review.. > It probably should be added into this pull request like with AVC.\nI humbly disagree. Simplicity is key and if it can be two PRs it should be. Notably with HEVC it would require some UI changes since HEVC isn't supported by RTMP and and would need to be hidden from streaming settings.\n\nFor an unknown reason the quality of the videos recorded with VAAPI H.264 encoding support with an RX 580 is MUCH worse in comparison to software rendering. Even pretty high bitrates (15.000) look a little blurry.\n\nI welcome any patches, however I do not have an AMD device so I cannot help in those cases.\n. I think its worth explaining why I created this PR.\nTo respond to the Eggroll's first comment\n\nMy patch still applies to the current version perfectly fine and compiles.\n\nIndeed I only rebased to head since it's just good practice.\n\nI haven't bothered to clean it up any more especially over name titles or space nitpicks because I don't have time and have other projects going on.\n\nI assumed as much and would rather just work on knocking out the goofy nitpicks here since your PR is already functionally complete in my opinion. This is basically why I created the PR, unfortunately I don't have write access to other's PRs so the simplest way to clear up all the nitpicks is to create a branch I own and have them cleared.\n\nIt would be nice to be in native OBS but I'm not going to bother pushing it any further. \n\nPersonally I want this PR in native OBS and am fine with maintaining it. Hence why I am putting this PR forth. You have done great work adapting w23's work and making a fully functional PR, its the least I can do to maintain functionally I personally desire.\n\nI don't even know why this pull request exists when my original patch still applies to the current git of OBS.\n\nI hope that explains why I created this PR.. Pumped through clang-format should resolve most formatting issues.\nIf anyone with amd hardware could please retest profiles other than baseline-constrained I would be quite thankful. intel hardware streams to twitch just fine on High and Main and twitch specifically calls these out as supported. If you are aware of any services where these are not supported that would also be helpful. One simple way to test this is with this command https://gist.github.com/kkartaltepe/401b79556950a123f22f09aaec9a8fee which will stream to twitch using the High profile. Changing it to -profile 77 will use Main.\nOn the b-frames not being supported. Intel hardware supports 1 bframe on my pretty new laptop hardware. But ffmpeg gracefully handles the lack of b-frames or more than one bframe being passed in (at least from the latest documentation and my testing on ubuntu 18.04). Can I ask anyone with AMD hardware to please run this command and provide the output?\nhttps://github.com/kkartaltepe/vainfo-bis/releases or you can compile it yourself it only depends on libva and libva-drm (building will require libclang llvm clang for generating bindings, one small addition to the VAEndpoint enum binding, and rust 1.29)\nvainfo-bis /dev/dri/card0 Or whatever card is your amd device.  this will produce output like this:\nhttps://gist.github.com/kkartaltepe/769f0bda39c83f73021d03ffa265f290\nIm mostly interested if these AMD devices report b-frame support and just fail or if it is perhaps an older version of ffmpeg causing the failure when bframes are used.. Can you link the results of normal vainfo on your system? It looks like libva is crashing before finishing initialization. This may be because I wrote my tool to use libva-drm which may or may not be supported on all drivers?\nYou can double check that you are calling it on the correct hardware device if you ls /dev/dri you might want to try /dev/dri/renderD128 or 129 depending on how many devices you have.. Here we go, can you give me the output of  vainfo --display help and see if vainfo --display drm produces the same issue?\nand a backtrace on the segfault, not sure how helpful it will be on system libraries but it may help.. And a backtrace and vainfo --display drm ?. any tool will work, rust compiler adds normal debug info. gdb is my preference but anything should work.. Not really the lack of b-frames but because its force to baseline-constrained for compatibility, which removes many of the possible compression techniques. Even on intel hardware b-frames are typically limited to a single reference.\nThanks for testing! This patch only differs by code formatting and some one liner build/header changes.. > You don't really want to use b-frames when streaming, since that requires you to send frames to clients out-of-order. \nThats not what that means, it simply adds frames to the latency of your encoding. And in most cases 16ms to 100ms of latency is perfectly acceptable in a streaming setup. I do agree that its fine not to support b-frames since it appears AMD's encoders were designed to find compression gains elsewhere since they dont support them.\nThanks for testing out other profiles on your card for me. Nice to hear Main might work on some systems.\nThe profiles define constraints on the encoding techniques used so it's entirely possible that AMD only uses techniques in Main that were compatible with both on your chip. I have no clue what they do. But the reason I want to ask this is more because profiles have a significant impact on chipsets that support them. Such as my intel hardware. So if possible, and probably not in this PR, id like to enable any supported profiles reported by vaapi. This is why im asking about this here.\n--- edit ----\nAnd what im trying to see via the tool is if AMD devices report their capabilities correctly via VAAPI mostly about bframes and profiles since those seemed to cause ffmpeg to fail entirely on some systems (or reported produced unusable video streams). Possibly these only affect older systems since I was testing on ubuntu 18.04 with a fairly new ffmpeg.\nThat way support could potentially be added on systems that support them by using the values reported.. Looks like I was not opening the DRM device with write capabilities which was fine for the Intel but probably the cause of the AMD issue at the very least its the only difference I could find with vainfo. \nhttps://github.com/kkartaltepe/vainfo-bis/releases/tag/0.1.1. ~~I did add the two changes I mentioned.~~ The coding style was pushed through a clang format which changed maybe 10 or so lines. after the changes recommended by rytoex.\nThe discussion is my attempt at getting information to make some changes in another PR at a later date. Since I don't have an AMD device and they seem to be far more troublesome then intel devices when it comes to vaapi.. Alright I may have accidently amended away my changes. in which case that would be unfortunate.. The changes have been restored.. > You check to see if libva is available,\nYes\n\nyou remove a presumably unused header (avcodec.h for whatever reason), and\nyou changed the profile to a magic number of 578. I do not know what this number is.\n\nNo, i add avcodec.h which defines FF_PROFILE_H264_CONSTRAINED_BASELINE  to replace the magic number 578.\n. No they were definitely missing when I checked after your comment. Not sure how I lost them, probably from attempting a clang format against the wrong version.. Correct there are no functional changes. Just cmake fixes to issues I had when trying to compile the original, Removing the magic number, and Formatting.. Thanks so much TheMuso, it looks like everything is reported as expected from Xaymar's AMF info though the color spaces are a bit limited since it appears it wont do conversion for us in the driver. I'm really not sure why ffmpeg doesnt disable b-frames automatically, but that can be worked around.\nNow to figure out why the High profile video is unusable. Would either you or zurohki be willing to send me a sample video encoded on profile 100 (aka High) with the ffmpeg incantation I gave above? and the source for that video.\nUnfortunately this also makes it look like dmabuf buffers are not supported on this version of the encoder. So frames will always have to be downloaded and re-uploaded to ffmpeg.. the _np in this case stands for non-posix. As evidenced by how its different on every platform in the file already. So nothing to worry about there.. Commits should apply cleanly onto master with a linear history. Im not sure if there is a simple guide to undoing a merge and rebasing onto head, but if all else fails you can always just make a new PR with the appropriate commit.. Should have an option of Show Notifications to globally disable all of these.\nWhile neat I firmly believe any and all popup's including toolbar popups must be opt in or appear on user interaction. Popups are the absolute bane of users because its impossible to stop them from getting in the way. I see you have tried but we have 20 years of evidence that no one has done it right yet.. > I do like that this system uses the system notifications instead of the popup if OBS isn't focused,\nFeel free to correct me if you have actually run this PR, but that's not how isVisible() works from a quick glance at the Qt docs.. I'm interested in why you still require the 32-bit build. If you wouldn't mind sharing.. I fail to see how anyone would confuse the two, notably because the Open Build Service you are discussing appears to be a web service and ships no desktop files (because it isnt a user application) to be confused with the OBS, which is a user application.\nIm not entirely opposed to this change, but OBS and OBS studio are valid names from the software, especially in Linux where the progenitor (now OBS classic, previously OBS) didn't exist.. This should only change the name of the software in user's menus like the gnome/kde application menus. Potentially also the name of any desktop icons they have to OBS. It's been a while since I have used anything that supported these.. > At least from the homepage and from the name of this GitHub project it appears that \"OBS\" is the organization/project and \"OBS Studio\" is the software.\nThe name of the project is \"OBS Project\", since OBS is already used for the name of the software.. While always interesting, there have been numerous issues from the people who already attempted and distributed other containerized formats, with less issues then this current PR has.\nThese containerized formats are designed to limit permissions of the containerized application. However due to the nature of OBS it often needs high privileged access, thus running into all the walls that containers are designed to put up.. > No root needed\nSuggests it is running in a pid namespace. Which does restrict access.. I see, can you also explain the qt repository you are adding? And the rest of the workarounds in the new script?. thanks for the work on getting it working, now we will need to test on some other common distributions as the documentation suggests and find someone to maintain the appimage.. On my 18.04 Ubuntu system the latest app image linked on this issue provides the ffmpeg VAAPI option. (the test used to check for VAAPI support is here \nhttps://github.com/obsproject/obs-studio/blob/master/plugins/obs-ffmpeg/obs-ffmpeg.c#L175\nHowever on my system actually initializing the VAAPI codec fails.\nbash\nlibva info: VA-API version 0.39.4\nlibva info: va_getDriverName() returns 0\nlibva info: Trying to open /usr/lib/x86_64-linux-gnu/dri/i965_drv_video.so\nlibva error: /usr/lib/x86_64-linux-gnu/dri/i965_drv_video.so has no function __vaDriverInit_0_32\nlibva info: va_openDriver() returns -1\n[AVHWDeviceContext @ 0x25a8d60] Failed to initialise VAAPI connection: -1 (unknown libva error).\nThis is on intel hardware, and the device initilizes fine when run from 22.0.3 normally.. This is implemented entirely in ffmpeg, so its not related to anything obs is compiled against. strictly the version of ffmpeg used.\n\nCan we disable it altogether? \n\nYou could compile without VAAPI, but to do so would make the AppImage unpalatable to most users considering how popular hardware encoders are for streamers.. What you are seeing when it doesnt start is the failure of ffmpeg to find its required libva dependency (because you compiled against an ffmpeg with libva). OBS itself has no direct dependency on libva and works perfectly without it. You can check yourself that obs executable has no direct dependency with objdump the libva requirement comes from libavcodec.\nYou dont see those symbols in any files because they are stored directly in the drivers. The drivers dynamically load the required symbols in some hellish mess. At least if amd drivers are anything to go by.\n--edit--\nThe real dependency on libva is in the ffmpeg plugin, which is dynamically loaded by obs as all plugins are (which is separate from the ffmpeg depency for the OBS ui).. Well if you delete the library from the appimage then the linkages are still screwed by the packaging process. So im not sure what was expected from just deleting it. Can you exclude it like libgl?. I think you are confused about what libva is. It is the library implementing the VA-API, which is platform agnostic. (libva the library is mostly maintained by intel, however it is the reference used by all other vendors).\nThis issue may also affect AMD and Nvidia (or other implementers of the VA-API interface) if they take the same tact and perhaps only support certain versions.\n-- edit --\nPerhaps then leaving it broken is the best option, though it makes it unappealing to me not having support for hardware encoding on potentially any platform. Though libva will be installed on basically every single linux system where users are watching or recording hardware accelerated video (except certain nvidia users).\n-- edit 2 --\nPersonally I dont really feel to badly about requiring users to have libva installed on their system, just like we require them to have graphics drivers.. Well, you may have qualms about libva. But it ships on the debian live CD. I leave it up to you to see what of your many distros include it by default even on a live CD.\nThis library going to be on almost any laptop or other low power device as without it you cannot watch hardware accelerated video on AMD or Intel hardware, and most nvidia hardware uses it as well. Requiring users of the appimage to have it on their system would help them if only because it finally allows their video players to use the hardware decoders they likely were not using before (including those provided by the Media Source and VLC Source which depend on libva).\nBut i dont feel the need to impress this any further its not my decision to make what needs to be supported if contributors want to take on owning the appimage.. We have had numerous PRs for this. Unfortunately there is no desire to increase the rate at which files are polled. Feel free to compile and run a modified version of text plugin if you need this functionality.. > But since you've had so many PRs about it, maybe there are people who would actually benefit a lot from this functionality? \nMore like this is simple enough to do that anyone who wants it typically can implement it.\nAlso this plugin is windows only. So other notification APIs are not applicable.. Interesting all of the services removed appear to still be alive in some shape or another except Dtube.\ndtube is now dlive which they also added to the services lists.\nstageten still advertises the same rmtp link at http://support.stageten.tv/advanced-usage/using-rtmp-feeds/what-is-the-url-for-sending-rtmp-feeds however not being a public service its hard to say if they are alive or dead.\nlinkstream also not being public is hard to say if they are alive or dead and provide even less public information.\nvimm.tv appears to have possibly 1 live streamer and advertises a different rtmp url, so i dont think there should be issues removing it. from https://www.vimm.tv/golive\n---edit---\nand in all cases the urls in services resolve and at least accept connections. So im not sure what measure was used to determine the staleness of these services.. We have enough warnings as it is. It could be under an 'advanced' option as much as I hate those. I think there are some issues with using a plain media source with RTSP streams. I have the list of settings to make it not terrible somewhere but ill have to go find them...\nI dont believe it required me to change any buffer size settings but again ill have to double check.. Is this just to support ancient PPC apple devices?. Interesting I wasnt aware of any modern POWER chips available in a desktop form factor. Thanks.. Would it be too much to ask for you to do a once over for RTL languages? On v22 RTL languages are all over the place in terms of alignment and a quick once over doesn't make this change look very promising. \n(Tested Hebrew). Looks like its probably for another PR to clean up the QSS or something to fix the inconsistencies. Thanks for taking a look.. If this were accepted into the OBS repository, in what way does it affect downtream forks who may be using (and wish to continue using) OBS code?. > If this goes through, when might it be available?\nA better question for your package maintainer. If you are on arch you could just use the git package probably. Otherwise you would be better off compiling it with this PR patched in (if you need it immediately).\nA couple lines over the 80c limit it looks like.. The versioned libraries are used to denote breaking ABI changes in the library. Linking in a vlc 4 library against vlc 3 compiled code will likely break it assuming the ABI changes as much has it has historically between major versions.\nChanging it to use the unversioned library would be a mistake imo.. Once the project migrates to 4.0 it should link the 4.0 libraries. It looks like there is no support in the build infrastructure to support building for multiple major versions.\n--edit--\nif we were so lucky as to be unaffected by 3.0 -> 4.0 changes it would probably be prudent to attempt to load 3.0 and fall back to 4.0. instead of just attempting to link one or the other. As users will likely not migrate as quickly as we can.. >Aside: Gamma space may not be the best space for filtering; a\nperceptual or linear space may produce more \"correct\" results, but that\ncan be addressed separately if desired.\nThis is hardly an aside. Working in non-linear spaces has been a consistent source of user complaints from log ago.\n--- edit ---\nFrom your description of the problem it sounds like you are trying to solve the issue where your are using a 601/709/sRGB source and it is being incorrectly processed as some other color space (sRGB, 601, whatever).  I think there is a lot of merit to adding a colorspace to the source metadata and handling inputs in various colorspaces correctly.\nHowever I don't believe the solution is to process all sources as if they were the users chosen output colorspace or worse converting all filtering to be done in the users chosen output colorspace.. > Take a simple example of wanting to upscale a 2x1 sRGB image to 3x1 sRGB, and that the left pixel is black, and the right pixel is white. In the 3x1 image, the left/right pixels should be black/white, but what should that center pixel be? If you interpolate in gamma space, you get (128, 128, 128), but in linear it's something like (188, 188, 188).\nThis is the classic example of double gamma correction.\nNvidia has a reasonable write up on why linear colorspaces should be used https://developer.nvidia.com/gpugems/GPUGems3/gpugems3_ch24.html\nI understand you may like the effect provided by doing operations in a gamma space, in-fact people liked it so much photoshop left it in as an option when they finally switched to linear space editing. However it will result in all the issues we had users complaining about for years. There are countless references for why algorithms designed for linear color spaces do not work correctly in non-linear spaces. (notably every filter in OBS is designed for linear color spaces).. > For 3D lighting calculations, yes, linear. You have no arguments from me there.\nLight doesnt work any differently in 2D then 3D. So im glad we agree on operating in linear space.\n\nI'm not sure what part of my example is double gamma correction. I'm just comparing middle grays \nfrom different perspectives; see Lab (119), sRGB (128), and Absolute Whiteness (188) on this page: https://en.wikipedia.org/wiki/Middle_gray\n\nWell if this is where you were getting it its not quite double gamma correction but a misinterpretation of what this graph is showing.\nIn this example they show various luminances in different color spaces when you pick the median color (by luminance) in the given color space. If you remember your gamma curves it should be immediately clear why the median color in a linear curve is brighter than a gamma curve (draw both curves on a square and then draw a vertical line down the middle of the square).\nThis has next to nothing to do with what color space you should be applying filters of any kind in unfortunately its just a different way of showing how gamma spaces let you encode more dark colors while using the same number of bits (there are more dark colors colors on the left side of middle grey, the median color, than in a linear space).\nI will try to read the article later, it is getting late where I am.\n--- edit ---\nIf you look at the absolute white middle grey you would also see it has a crosshatched black and white portion to show you how that actually matches your perceptual 50% brightness. Meanwhile the 50% sRGB is actually darker than the black white crosshatching. Meaning using the 50% sRGB for averaging black and white pixels (as your screen displays them) would be perceptually wrong (too dark).. Thanks suslik, this is an excellent example of where we can improve our colorspace handling. For instance currently the colorspace is completely ignored in the image-source plugin leading to the artifacts described therein and wonderfully exemplified in the testing images provided at http://www.ericbrasseur.org/gamma.html from the thread linked. Here our scaling filters are operating in sRGB space resulting in a multitude of artifacts and producing colors when there should be none.\nIndeed you can apply this patch and see that by using GL_SRGB or GS_SBGRA (which automatically resamples the texture into linear space) most of the artifacting and all phantom colors disappear.\nhttps://gist.github.com/kkartaltepe/3b0f5008ead203736e2ae2eabdf9fb6e\nI suspect we should offer a filter to transform the colorspace for non-linear inputs in cases like these where sources can often be found in mixed colorspaces with incorrect or missing colorspace metadata. Though in the case of images its almost always correct to assume they are in a gamma space so it seems odd we default to linear textures.. I finally found the good writeup on gamma correctness and image processing here\nhttps://blog.johnnovak.net/2016/09/21/what-every-coder-should-know-about-gamma/\nMostly covers how it affects things obs-studio actually does like rendering alpha blended elements (browser source with transparency these days, any and all text elements, etc), resizing, and a good section on gradients (where you can see people often prefer them in gamma space artistically though this wrong physically).\nPutting it here mostly for future preservation.. https://docs.krita.org/en/general_concepts/colors/linear_and_gamma.html\nKrita has a small blurb on gradients in particular. Typically \"natural looking\" if you are an artist is precisely not natural. Indeed creating an even gradient from black to white in a linear space looks like its mostly white.\nIm not sure I typically have never looked at the actual presentation layer myself.\n. I hope you dont take this as a reason to stop as this is really good work and something that should be done, but I personally dont believe this PR should be merged as written.\nThere are a few reasons but in particular its not at all backwards compatible, it's huge, lots of things are being conflated to enact color space conversions.\nI think the best steps forward are to first find a developer to chat with on the OBS discord on how best to approach. Probably this will take an unreasonable amount of time (if you are not used to open source development pace) as most developers are busy and this is quite an edge case so people would need a lot of background. You can help them by providing a detailed description of where precisely obs makes incorrect assumptions, how they are incorrect, and how it affects users (think places in the code, sample sources/scene setups for other developers to use to replicate the issues and investigate independently, etc).\nYou should also change your terminology and be mercilessly pedantically precise as this is a treacherous area where different people writing computer graphics sytem and professional broadcasters use different terms. Specifically you have already been using sRGB when you mean sRGB primaries. sRGB is a colorspace with the sRGB primaries and a gamma transfer curve. When I have said it previously I mean precisely this. When I have said RGB and in most cases throughout the openGL docs/impl (and likely DX) this means the sRGB primaries and a linear transfer curve. In the effects code it appears you are aware of this in your own terminology but not how opengl/dx treat it. For example, you set the color format for GS_SRGBA to the GL_SRGBA format and then change previously GS_RGBA to GS_SRGBA resulting in linear texture data erroneously having the inverse transform curve applied on sample even though the effect thinks its operating on linear data.\nI also think a lot of this can be broken up into small manageable and palatable pieces. Like adding SRGB texture support as its own PR. Adding color space correction filters as its own PR (not the entire plumbing but for users who might have non-linear sources reporting themselves as linear which is what I believe is your particular issues that prompted this work). Past this point I think things can still be broken apart but likely require a better vision of what the finished architecture should look like (likely after lots of discussion with a core developer, likely to be slow as this is, again, a treacherous part of graphics from drivers to OS).\nLastly color space transforms should be done at a minimum where needed. aces is a linear space so there is no reason for any transforms to be done before filters expecting linear data (all current OBS filters to my knowledge, also a case where talking about primaries versus transfer functions matters). However this PR as written forcibly converts colors in every filter. Not only wasting precious resources but making every filter harder to maintain. And anything that isn't heavily used (with so few people with any HDR/alternative color space media/equipment this is probably like 0.001% of users at best who might even notice) and easy to maintain will inevitability be dropped or never merged in the first place since there is so little time to maintain exotic features in an open source project.\nTo finish I would absolutely love it if you wouldn't be discouraged that this broad architectural change might take some time to enact. It's a lot of work to add this into a system where previously everything was assumed to be RGB and unfortunately there is not a lot of deep indepth knowledge on how all the moving parts interact (Jim basically wrote the rendering system (and everything else) himself and not many people have touched it since). But you have done spectacular work and I think with a bit of insight from others you can help make OBS even better!. > > there should be support for that in either the game itself, or window system\n\nOk. Can PipeWire solve that (like Syphon on macOS)?\n\nPipeWire is just a transport, it doesnt do anything more than send audio/video streams between two programs. Syphon is an openGL capture solution which is a very different beast.\nThis PR is a wonderful example of how to use dmabuf's which someone could use to inform an implementation of one of the wayland screen recording protocol that sits on top of pipewire for a zero-copy capture on supporting wayland compositors (though if its actually zerocopy depends on the compositor as they may chose to serialize the textures in any format pipewire supports).. > What about this?\nOne of the wayland screen capture protocols not based on pipewire. Basically all the protocols will result in passing dmabuf's (with or without pipewire) if they want to be performant. I didnt mean to derail this PR with wayland talk as its not directly related to this PR.. Lol this is what happens when i build in a dirty working dir. Thought I caught this, thanks.. If you look above you can see that it also registers MFH264 encoders.. I know intel likes to use (R), but by the same token every company name and branded technology could have some kind of legal marker. Will split the Quick Sync Video part.. Where and why?. To separate them showing they should not be reordered. All the previous block are freeing pointers withing enc which will be lost of enc is reordered within the upper block.. Where and why?. I agree with original authors style that elements of for loops are better joined to the block than separated.. Probably a failed attempt at proper use of tab for indentation and space for alignment.. This is a log for the vaapi_encode function, the rest of the log lines are not function prefixed. So in this case it should match function styling which it does.. Switched to matching existing NVENC style.. The other options are known to cause issues on various hardware setups. So this is the one that should be default unless you experience issues. Im not particularly invested in the name if you have any suggestions.. Levels are mostly used for documenting hardware decoder capabilities and are not defined in terms of resolutions or framerates. Devices which support certain levels may choose not to support resolution and frame rates that theoretically would fit in that level. The wiki page is a handy reference https://en.wikipedia.org/wiki/H.264/MPEG-4_AVC#Levels\nReviewing the code this sets a level parameter on the ffmpeg encoder which probably forces the stream to be within the level constraints. I would need to review the previous thread to pin down why level constraints were used if there is a reason at all.\n. Currently im not aware of any reason for this setting existing. I was looking into it since it can cause performance issues if your encoder is constrained by the level (on intel hardware). Xaymar provided documentation which says that even ancient AMD devices should support 5.1 and the vaapi default is 5.1. So presumably 5.1 would be a more appropriate default.. It may be related to the constrained baseline profile choice which was presumably because twitch ingest fails on other profiles. But twitch's own recommendations are a range of levels up to 4.2 and profiles of main/high so more information on why AMD devices at main/high were not working appropriately and if it still affects them or any other devices.. A world without VA lists is a better world.. undefied. ",
    "rikai": "Fwiw, i actually preferred the idea of the previous commit, at least as i understood it, not having actually tested it in master. From what i understood, it changed the color of the whole button when recording, correct?\nIn the our use case for OBS for my job, the OBS machine is all the way across the room and would be being controlled via a hardware switcher in the long term. So having a strong visual indicator, like changing the color of the entire button color, which is easily visible from a distance, would actually have been preferred.\nThe icon solution is essentially what wirecast does, and has been a problem for us verifying our recording status at a glance from the other side of the room and seeing the previous commit was a nice bonus for us in our slow transition to OBS.\nNot saying this approach is a bad one, just offering a bit of input from another perspective. :+1: \n. ",
    "patrickemuller": "I don't want to be rude but...plain text is horrible, unprofessional and terrible to read.\nIt's not just about be markdown, it's about to look good and pass confidence that this is a serious project and not a forgotten one like many other projects on Github.\nBut ok, it's not because of this that I'll stop helping this wonderful project ;)\n. ",
    "Spekular": "@patrickemuller the readme needs to be readable outside of github as well. Markdown isn't good for that.\n. ",
    "hoosierfan24": "Thanks for the feedback. Will make changes shortly, what are the requirements to be listed as common? The app is used by professional sports teams, celebrities, news publications, and influencers.\nhttp://www.usatoday.com/story/tech/2016/05/02/ditch-facebook-branding-stream-live-video/83816300/\n. Thanks for the explanation Jim! Looking forward to getting added as a service, just let me know if there are any additional changes I need to make.\n. ",
    "arBmind": "One big issue that remains is that audio cannot synchronize. The buffers run full and the whole thing goes crazy.\nI guess we need something like in ffplay - https://github.com/FFmpeg/FFmpeg/blob/1eb43af1a0e542ad83dcbf327197785d815fc42d/ffplay.c#L2357\nIn audio-resampler-ffmpeg it seems we do not have enough details.\n. I do not suggest to merge this PR.\nThe restart thing works reliably now. But this is not really a solution to the underlying issue.\nI already opened a ticket to discuss the real issues. See: https://obsproject.com/mantis/view.php?id=569\nBut this definitely needs more love and investigations.\n. Hi @admshao, I admire and love your persistence to teach me here.\nBut this is a 3 line change inside of a single function, which fixes a simple bug.\nI created this PR to hint you to the solution for this bug, not to claim credit or get this PR merged.\nJust fix the bug, please!\nI won't squish or change old commits. These are dangerous destructive operations. As I am unfamiliar with them, I would likely destroy my branch with all the patches.\nPlease apply the fix in one way or the other to master and close this PR.. @jp9000 Thanks! Got your message. Never thought about it like this. I will try to adapt\u2026. I am not sure this is necessary.\n. This should really be an option. 100ms is to reduce buffering on a local network device.\n. slash conversion should not be done to urls.\n. For streams this will not give the right frame size.\nThe arguments are already set, why is this needed anyways?\n. for urls a different call is required.\n. for we internally libvlc.h includes stuff with a vlc/ subfolder. I could not find a way to get this working without changing the includes here as well.\n. Can you add instructions, what a developer should download and use to get VLC support compiled?\nI downloaded the 7z archive and used the sdk folder. But I could not find any way to get it working without changing the includes.\n. ",
    "pipll": "I've squashed two commits into one.\n. ",
    "vasil7112": "Wow ONSBalder that was instant :smile: \n. Indeed it is not Github, its most likely my settings.\n. I mean that it should probably be different for each user and not the same. For example OBS for me was formatted differently than other projects. So i guess after all its just what each one enjoys.\nThanks though for trying to make it \"compatible\" for the master OBS ;)\n. Thanks for the info, but this specific Pull Request will not make it to the OBS. I talked with the Jim (The Developer) and he doesn't like the idea of more tracks than how many there actually are.\nAgain though, thanks for the info :)\n. ",
    "c3r1c3": "Hmmm.... found an error. I didn't update obs-jack.c to use the new LOCALE folder. Closing. I'll get the Windows version working (along with that fix) and submit a new pull request.\n. Umm... the log output in both Classic and Studio show the bitness in the log files already.\n. They came from BMD... but I could remove them manually.\n. nobme: What are you waiting for that the updated SDK fixes?\n. Thank you RytoEx. Code updated with the additional formatting. Initial Git commit message updated as well.. I have updated the branch with the formatting changes suggested by RytoEx.\nHomeWorld has reviewed it and made some suggestions on optimizations, which I am currently implementing.. Did all the optimizations I can. Please review.. Edited/cleaned-up/added a swath of comments, and reduced/removed a ton of variables/math/calls that I didn't need.. It is missing the color tint/overlay option that was in the previous model. (Which is why I was surprised that the other one was yanked). I can quickly add that (and fix some grammatical errors in the comments) if you want.\nAs to the brightness and Gamma settings being the same, that's because the gamma code is directly from Jim, and (while completely different) the brightness code end up being mathematically the same.\nThe contrast is a touch different because of the weighting system/math.. As per Jim, I created a new branch with the missing feature: https://github.com/c3r1c3/obs-studio/blob/Color_Overlay/plugins/obs-filters/color-correction-filter.c. Will keep in my repository for the time being. The code I was working appears to not need it.. Hm... I would like the Alpha to act more 'natural'... this might need another revision.. Alpha controls the intensity of the color wash coverage... which makes sense given what an alpha is supposed to do. (And yes, there is no code change because I did it 'correctly' the first time).. You know what? I see the color imbalance with the saturation (when each channel is divided by 3) and said \"Screw it! That's not right.\" So I fixed it.. The color correction isn't applied at that stage (i.e. the end when it gets compressed down to said compression settings+color space). You use the color weighting for the current color space that the item is in when you're using the effect, which in this case is when it's uploaded to the GPU (i.e. RGB-esqe).\nThat said, it might be useful to base them on the color space being used on the GPU (Settings->Advanced->Color Format).... but that'll be something to consider later.. Wouldn't this be better called \"Apply [1D/3D] External LUT\"?. Thank you for the review.\nMade the changes, but after (force) pushing it up, I don't see the title change on this page.\nEdit: I see. I have to manually update/edit the title.. I love it. Thanks. Hopefully Jim loves it as well. ;-). To reproduce the error that this code fixes:\nAdd source->Add Color Correction filter, and set opacity to 50%. Then add LUT Filter. Opacity goes away.. Thanks for the review.\nMissing Newline: Added.\nChange VS2015 \"plug-in\" to \"extension\": Done.\nMade the VS2015 line actually be something close to proper English: Done. ;-)\nFix line lengths: Done.\nChange/shorten message commit title: Done.\nDid everything but change 'plug-in' to 'plugin'. While I personally don't care if someone uses one form or the other, it bugs me to not put in the hyphen.. Thanks notr1ch! Added.. Okay, fixed everything RytoEx stated in his first pass (Thanks a ton!), so we should be better.\nSorry about all those mistakes. I know what happened. I was editing these files when I did the editorconfig crap... and forgot to check and fix them afterwards. Sorry about that.. Even more fixes!. RytoEx, thanks a ton for getting it this far. I fixed everything mentioned in your previous posts and going through it again found a few more fixes.. Sorry about the #ifdefs, fixed now.. That error is from Ubuntu trying to compile Opus... and failing.\nMy patch has nothing to do with Opus.. Many thanks RytoEX!. Removed 2 filters (will be moved to a different pack) and fixed a merge screw-up on my end.. Moved the Droste filter into a different filter pack.. Moved Sepia and Cross-hatching filters out as well.. Nice patch!\nCurrently there is no way to reset the pan bar to the middle.\nIf I'm understanding correctly what's happening, there is one L<->R bar and that controls both channels, so when any panning happens it 'combines' both channels of audio and moves them to the left or right( or the middle), which defeats stereo sources.\nThe only way I can see around it is to include 1 or 2 (or however many channels the device has) panning bars and pan for each channel. If the Mono checkbox is checked, I guess it would hide/deactivate all but the first bar.\nWhich leads us to the behavior of the \"Downmix to Mono\" option. It seems to combine both channels into a single channel and then outputs said mono channel twice, once on the left side and once on the right side, which seems to defeat the panning option. I think the solution would be to have OBS not double the audio.. Thanks for sharing.\nIn your repo's branch I'm submitting some additional code. I'll continue there.. This would be an excellent opportunity to express that difference @dodgepong, but as to details, you how Jim is about the interface.. I don't really see it as such, but I do see how it could be considered/construed as such.. No, you're correct. It should be 3 tabs.\nFixed.. Yes. There are several functions throughout the files that are rather on the nose when it comes to their names and what they do.. Thanks, I'll fix it.. Yes, but it might not be proper grammar. I'm thinking that the proper name of the filter is being referred to, hence the capitalization.. Thanks, fixed locally. Will push up soon.. You know... I'm not sure anymore. ;-)\nI do know that we did such for the plugins/obs-vst/obs-vst.cpp file.\n. Should be 2 tabs for the next line. Fixed locally.. Thanks, Fixed on all files.. Looks like this is a bug in VS2017. I'll fix all the files by hand using Notepad++.\nWell now I at least know what that means when I see it in git.. We should always do our best. Fixed.. Yes, it should be C99. Fixed.. Good catch. Fixed.. Done.. Done.. I'll get back to you on this one.. Fixed.. To play it safe I'll leave the bracing. That said, I have moved them to the correct lines.. The surrounding content is an if statement, but it's more of an #ifdef then a proper if...\nI'll have to a pin in it (like the other one) and get back to you on that.. Sorry, I have no idea... (well i do know how) this file got in there. Removing it.. Yes. Good catch. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Good catch. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Looking through the various language string files, I see the use of \"X.Y\" for multi-word strings.. Good catch. Fixed.. I asked Jim and he said it did matter, so it's fixed now.. I asked Jim about it, and he said it does matter for this... but not the obs-vst one.. Fixed.. Sorry. I had edited my response with the updated reply from Jim, but your comment hadn't shown up yet for me, hence the disturbance in the force.. Funny story. When I first envisioned this filter, it was going to grab multiple pixels, but it ended up being more efficient (maybe, don't have any GPU benchmarking up and running yet) to do it one at a time. The code went through a ton of changes, but that comment oddly enough remained unchanged.\nFixed.. Fixed.. Fixed.. I asked Jim about it and he said that it is used for context (as you suggested). Fixing now.. Fixed.. Fixed.. Fixed.. Okay, that was a good catch.\nAgreed. Using a dash would be proper from my understanding.\nFixed.. I only converted the public facing parts. I wanted to balance out the instances of \"Greyscale\" vs. \"Grayscale\" in the OBS source. ;-). Some of the items are kinda wordy, and that impacts how it not only looks, but the accuracy of the slider (more letters = fewer pixels per unique number).\nThat said, I could see the argument to go either way on it.. Changed to read \"Number\" in full.. ",
    "trymeouteh": "This will be very handy to see how much FPS my games drop when I am recording. Please add this!. This is so needed. Fraps is not available for Linux and when I am using Windows I would rather use OBS and ditch Fraps.. ",
    "Andersama": "You can find what you probably want under View. Either status bar or stats are probably what you want.. Sorry I didn't get back to this sooner, I just pushed the blink feature and made the changes like you guys asked. The idle indicator's intact, but in order to make the draws not overwrite the clipping indicator I moved the idle draw into the main drawing section.. Used to do broadcast work, @Himura2la 's approach is definitely what I'd go w/ and for all the reasons he laid out. And I'll definitely play around w/ this pr when I get back home. I'd throw in check-boxes in the right click drop down as well, but that's no deal breaker.\nAnother thought*, if this pr does eventually get added,\n\n monitoring device selection through right click menus? In a new pr of course.. Some examples of some weird stretching of widgets:\n\n\nFor scenes I'd suggest not listing all of the show / hide keys at least not w/o some break / label. Also it feels a bit off that the show / hide hotkeys don't show up in the source's list of hotkeys.\n(otherwise this pr looks fantastic). Well the goal of the other pr is to make it so that it's not possible to do via the user, it's more for if this ever ends up happening programmatically for some reason.. Any clues as to the mac build failure?. Jim described what that function was supposed to do, so I should actually probably close that other pr*, I'll be happy to split the pr into two parts.. Due to unexpected issues while trying to make use of annotations in https://github.com/nleseul/obs-shaderfilter this pull request should be considered a work in progress.. This pull request can be considered finished, memory leaks among other problems were solved.. @HarryPearce for a checkbox you'll want this in the properties callback\nc\nobs_properties_add_bool(settings, param_name, param_desc);\nthen something like this in the add_file function, or outside a w/ this as a additional parameter.\nc\nbool hw_accelerated = obs_data_get_bool(settings, param_name);\n...\nif(hw_acclerated)\nlibvlc_media_add_option_(new_media, \":avcodec-hw=any\");. @notr1ch the video frames are stored locally on the cpu (unless I'm mistaken, I'm probably mistaken stagesurf wasn't used), but you're right, it's quite hefty in terms of memory consumption. As for the right place to implement this, I went w/ the already existing filters, although I would definitely consider the delay buffer as well.. No real need, but it felt odd that the text area wasn't editable, the browse button w/ the popups provides some validation that file paths exist at the time, but it's not perfect when files are removed. So I didn't see why the text area shouldn't be made usable.\nAlso, for systems like mine that're a bit bogged down from time to time opening a file dialog can be slow, both when the dialog is opening and closing, for quicker and smaller edits this is handy.. This is meant to expand on the already existing obs_module_text function meant for plugins, giving access to commonly translated text that OBS uses across it's gui in addition to translations they may otherwise add themselves in /data/locale/. From my playing around w/ this, the MSVC compiler was not optimizing these instructions, but I couldn't tell of any performance improvements. Guys in the discord brought those issues.. @VodBox I specifically programmed in for the thing to ignore SysEx messages, as hotkeys are just button presses. (I'll be working on a different thing to bind gui elements to midi no worries). @VodBox w/o a higher level of access to obs w/ modules this hotkey approach is otherwise impossible. I'm essentially creating new events which are treated similar to key / mouse presses (and this requires me to change obs's event handling). And don't worry, I've got full access to all midi messages, I'll be making a more native / integrated support for midi than @DDRBoxman 's approach was. This is at the very least the starting point*\nThe next major step for this Midi support is to send signals for anything to process. atm there is already api functionality for sending / receiving signals w/ callback data. This'd be nice for plugins, but I'm more interested in the nitty gritty. My aim is to treat properties as things which can accept midi controls, eg a list for example could take numbers to mean select nth item of the list, and numerical stuff...well that's pretty simple.\nI'm not that far yet*\n(in the process of going this far I'm 100% certain it'll be handy for other integrations)\nAlso* a dumb brick is pretty handy if you consider that video games don't exactly pay attention to midi, so these offer opportunities to bind \"hotkeys\" that won't conflict w/ anything dealing with the keyboard or mouse. This'd what I'd be using mine for, mute/unmute, start/stop stream bindings.. @TheMuso from looking at the plugins CMakeLists, mac / freebsd and linux all have access to the linux-jack library, may be simplest to setup the CMakeLists.txt and RtMidi.h w/ jack for all three.\nelseif(APPLE)\n    add_subdirectory(coreaudio-encoder)\n    add_subdirectory(mac-avcapture)\n    add_subdirectory(mac-capture)\n    add_subdirectory(mac-vth264)\n    add_subdirectory(mac-syphon)\n    add_subdirectory(decklink/mac)\n    add_subdirectory(vlc-video)\n    add_subdirectory(linux-jack)\nelseif(\"${CMAKE_SYSTEM_NAME}\" MATCHES \"Linux\")\n    add_subdirectory(linux-capture)\n    add_subdirectory(linux-pulseaudio)\n    add_subdirectory(linux-v4l2)\n    add_subdirectory(linux-jack)\n    add_subdirectory(linux-alsa)\n    add_subdirectory(decklink/linux)\n    add_subdirectory(vlc-video)\nelseif(\"${CMAKE_SYSTEM_NAME}\" MATCHES \"FreeBSD\")\n    add_subdirectory(linux-capture)\n    add_subdirectory(linux-pulseaudio)\n    add_subdirectory(linux-v4l2)\n    add_subdirectory(linux-jack)\nendif(). @VodBox for the SysEx stuff the reason I'm not dealing w/ it is simply that there is no specification. SysEx is essentially a single byte that says \"the following is a SysEx message\" and can be any length. I don't know any standard SysEx messages to capture...if you have a list that you'd like paid attention to I can definitely work it in.. You'll have to fill me in more about midi, I'm not sure what those would do?. @RytoEX yeah I'll definitely go back to try to squash these commits as nicely as possible.. @pantherrui you're going to want to read through the contributing guidelines for code styling:\nhttps://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst\nOnly thing I'm spotting is that you'll want to change your commit message and title, including the module name libobs in the title. Maybe something like \nlibobs: Fix heap corruption in obs_source_output_video\nOtherwise, looks fine.. Yeah I saw that, didn't have much luck w/ it. I think I'm missing something else here's a bit of console feedback from when Midi's supposed to start up. Without the pragma comment (whether cmake uses winmm or winmm.lib) I get this.\n\n. @Alex-Dash this pr was just for treating MIDI events as hotkeys. I'm in the process of setting up OBS in such a way that the MIDI messages can be used to control properties / sliders, that'll be a future PR.. Yeah that's one of the first thoughts I had about it. My thought process was that I'd like to add a little icon / gui w/ the + symbol and maybe that'd make it more clear like you were doing w/ the no sources message, or maybe a mouse w/ the right click highlighted?. Whoops, good point, also passing null as far as I remember is invalid in a printf like function, idk how blog handles it...so going to test for that.. I used shift because control is already being used for selecting multiple scene items, and the previous behavior of using shift to stretch w/o the aspect ratio still works you just have to hold shift after dragging.. @dodgepong I think adding a handle would be nicer, especially if it was just a regular mouse click to get it going. I could go back and give it a shot.. To sum up the current audio process goes something like:\naudio -> resample -> filters -> meter\nWhere w/ the current UI it's written as if\naudio -> filters -> meter -> resample\nSo if the output layout has more channels than the source does resampling may, like w/ mono, have the data in a channel that's not being drawn.. Hey, so here's a question, what do you think of designing the api around singly linked lists of obs_properties_t * objects as opposed to the start / end approach?. @SuslikV the close button for dockable windows not setup in a dockable area is to collapse back down into it's original position. Just imagine that you can alternate between the two screenshots at will.. I guess in theory I could get the source properties and look for paths to try to export. My main concern w/ this design wise is the issue w/ scenes / groups. I'm not 100% certain how to have them imported as is. I'll take a look into today probably though.. @dodgepong that was a bit of a gaff on my part I uploaded the wrong gif, unfortunately this broke the filter*, I'm working on getting it back to a working state.\nEdit: Filter's been patched. Dockable actually wouldn't be too difficult a change, it is indeed missing a title. I could definitely add a label. Also formatting the timestamps wouldn't be nearly as nightmarish as the syntax highlighter, just would need a single regex.. @exeldro you might want to change the property to an int and add lowercase as an option.. The enter and leave events are guaranteed to exist at the time of call (could not be a member function otherwise) so it should.. Didn't realize there was a function for checking the validity of a source, should definitely do that. Oh...it just does a null check and does log, I'll go w/ that.. Just checked the copy / paste crash w/ the source deleted, that definitely needs to be handled. I'll squash again and commit.. When I used obs_data_release like this:\nc\n    case DropType_Source:\n        json_settings = obs_data_create_from_json_file(data);\n        settings = obs_data_get_obj(json_settings, \"settings\");\n        name = obs_data_get_string(json_settings, \"name\");\n        type = obs_data_get_string(json_settings, \"id\");\n        obs_data_release(json_settings);\n        break;\n    }\nthe import would fail because the name value of the string was being released...if this'd cause a memory leak, there's already one in here it seems.. Thanks for the catch, it didn't cross my mind about the return; at that point. I wrapped that part in an if block and properly released both pointers, so this'll solve the memory leak for the other one as well.. That would make more sense to do wouldn't it.... Ah...sorry, don't know why I thought you meant pr / commit as opposed to just commit. Now I'm proper confused.. There shouldn't be a merge conflict within the if block if I separate these out right?. Alright, well, got step 1. out of the way, I'll rebase after I actually finish my lunch.. Doing a local build just to triple check*, I'll be pushing in maybe 15~. Those were definitely by QT Designer, output_flags are not changable, they should be constant b/c they're set as part of the plugins...though maybe there's some plugin out there that changes those flags?\nAs for drawable_type vs live_drawable_type there's an opportunity for transitions to have a \"preview\", but with dummy sources likely w/ prerecorded or generated video, I prefixed the current variable w/ \"live\" to potentially distinguish that difference if it ends up being added in the future.\nIt's also why I wrote the if block in that way, distinguishing the top logic \"can this thing even draw to a preview\" from \"this thing has something to preview, and here's the callback to use\". . There were a few of these from the original code, wasn't sure if I should follow along w/ that at the time. I'll go over my functions again.. Was wondering about that, was thinking if I could find it, that I'd use the module text that the setting's gui uses.\n. thanks for that catch. OBSGetMidiPorts or ? How should that go, b/c there's two acronyms in that function.\n. Yeah this block of defines is what I modified in order for the thing to build But once I sort things out w/ Cmake and including the right libs I'm sure I can remove this.. I'm not 100% certain, I think I got this working right. whoops, that should've been removed I forgot to stage that change.. this can be made into an if else if block, saves on a conditional check. Sure. ",
    "JamyDev": "Sure, let me do that real quick\n. @Gol-D-Ace I'm assuming I increase both the versions?\n. Cool beans! Pushed.\n. Done!\n. Thanks, just comment in here if/when you have an estimate :)\n. Eesh :P Well I did my part of the process ;)\n. ",
    "MattJustMatt": "@jp9000 @Gol-D-Ace Hey guys! Totally get that ETAs are hard here. Did want to check in and see if we could get anything on this front. We'd love to promote these new ingests but since OBS is one of our most commonly used capture tools, we'd love to get this out in-tandem. \nThanks! \n. ",
    "DDRBoxman": "I was actually going to spend some more time digging into the graphics API to actually implement this correctly.\n. I'd like to investigate code style checking tools that could be run on PRs too.\n. My intent here was for OBS to leverage these services to do basic sanity checking of PRs. Make sure the code compiles across all platforms, run any unit tests, and do any other checks that could be automated.\nThey're free for open source and lots of open source contributors are used to working with them.\nI actually hadn't considered using them for actually distributing the artifacts since the current system seems to work okay.\n. This ico file only contains a single 64x64 image asset. While I can't speak for asset redesigns, I can say that we can't merge this until the other resolutions are packaged, including up to 256x26 and down to 16x16. I usually use IcoFx but imagemagick should be able to do it. http://www.imagemagick.org/discourse-server/viewtopic.php?t=14080. Updated the submodule reference to match a bunch of changes that @c3r1c3 made. @jp9000 The first two steps are going to be on you.\nLuckily you've done something similar to the second one when I had you upload the AWS keys to travis. I believe you ran it on your mac?. Updated to include locale data from @Gol-D-Ace . This works if I remove the if statement\nblog(LOG_INFO, \"[window-capture: '%s'] update settings:\\n\"\n            \"\\twindow: %s\\n\"\n            \"\\towner:  %s\",\n            obs_source_get_name(wc->source),\n            [wc->window.window_name UTF8String],\n            [wc->window.owner_name UTF8String]);. Latest code works on macOS. Quick loopback demo. Obviously runs at 60 fps when it's not a gif :P\n\n. Just ripped out the UI changes so I can work on a better solution until the output UI is overhauled.\nOld branch with UI stuff is at https://github.com/DDRBoxman/obs-studio/tree/decklinkout-ui. \n. @ddibiase try with the new commit. Also if you use checkinstall it doesn't seem to have the issue that make install has.. I'm putting up a windows build here off apveyor in case anyone wants to be an alpha tester. No warranty included ;)\nhttps://ci.appveyor.com/api/buildjobs/b9239c8dp7p83cvk/artifacts/0.15.4-1679-gbbbb40bb.zip. Oh, and look out for performance issues, I've seen it on one machine but haven't been able to replicate. So this should be interesting.. @florisporro @sk115 can you post your machine specs? I've been having trouble replicating this, but have had others report similar issues at 1080p, just trying to figure out how to track this down. Thanks!. @florisporro @sk115 I just pushed up some code that should fix the performance issues. Let me know how it runs!. \n. @Pimpmuckl This build should do the trick if you don't want to bother compiling: https://ci.appveyor.com/api/buildjobs/irspuohlyhvpi91g/artifacts/21.1.0-197-ga8680027.zip. Okay after doing a little digging there are three things. \n\nif you are on OSX disable studio mode since there is a bug that eats resources right now.\nMake sure your sample rate is set to 48khz under audio settings. I'll look into a better way to handle it at some point but the decklink SDK only supports that one.\nWatch the OBS output logs, It will keep making the audio buffer larger and this tends to cause hiccups, once it maxes out the hiccuping should stop.\n\nSo I at least have some stuff to look into now, and this might help narrow down what the actual issues are.\nThanks!. Okay, the sample rate issue should be fixed.\nBut yeah, if the audio buffer has to increase you'll get a hiccup.. @rhetr should show up under the tools menu. Okay, I've split out the UI stuff into a separate PR\nhttps://github.com/obsproject/obs-studio/pull/1502. \ud83d\udc4d . Fixed the quick transition icon too.\n\n\n\n. TIL you can do this. LGTM!. Just tested, works!. Looks like you may have missed the output icon.. \n. \n. \n. \n. \nNeeds signals hooked up for the new checkboxes. Okay, I went ahead and rebased this and removed the hide / lock / name parts. I was having a hard time figuring out a good way to deal with the signal binding / unbinding to make those work.. \n. \n\n. Oh, I found the script I wrote a while back that does this.\nhttps://gist.github.com/DDRBoxman/e9b057388e0590d9a435688b1b100a95. Try adding .lib apparently that worked for me at some point\nhttps://github.com/DDRBoxman/obs-midi/blob/master/CMakeLists.txt#L29. This definitely needs a proper UI outside of the hotkey settings so closing for now until we are ready to tackle that.. \n. That file gets generated from the UI file. Try running cmake again and doing a clean and build. Just a few thoughts:\n\nRotation should be from the center of the source and not the top left.\nInstead of changing the drag boxes would it make sense to change the cursor to a rotation cursor?\nIn other rotate mode apps you can drag from anywhere once you are in rotate mode and not just the corners, this would make rotation easier since we are already in \"rotate mode\" with the modifier key. What about integrating into the OS specific toast APIs instead of an alert dialog?. Cleaned this up a little, should be merged in a20aeb83623b2907b73f2d6d1b8def5eb8c02b48. I've added an issue to mantis to use the file polling.\nhttps://obsproject.com/mantis/view.php?id=1350\n\nI'm going to close this in lieu of making that change.. Thanks!. I'm keen on this one. What can consume these as inputs? For example decklink sdi passes the alpha and generates these on the card so it doesn't need the filter.. Turns out the effect filter was removing the alpha layer. So now OBS in RGB mode should work!\n@Pimpmuckl @florisporro. @Pimpmuckl here is a build with the UI for preview out that also has keyer stuff so you don't have to compile it.\nhttps://ci.appveyor.com/api/buildjobs/4j8ksci46d0vtyvv/artifacts/21.1.0-650-g41b74ba8.zip. @Pimpmuckl Is your color format RGB under advanced mode?. @localteampartners try just sticking an empty text file in /Users//documents/projects/obs/obs-studio/UI/frontend-plugins/decklink-output-ui/data. Make sure you don't have any of the keyer options enabled.. @localteampartners if the disable keyer stuff doesn't fix it let me know, there might be a bug with non keyer devices.. @cg2121 do they provide SVG versions of those icons?\nIf they do that would be awesome, you'll have to look at some of what I've done in my context ui PR to get the dlls copied over\nhttps://github.com/obsproject/obs-studio/pull/1447/files\ncmake/Modules/CopyMSVCBins.cmake\nAlso might be worth bumping this up back to the size that the settings options were before, makes it easier to click on.. \nSwitched over to svgs and changed up two of the icons.. Yup, same octicons icon set. I also modified one of them for the output icon. . Just leaving myself a note that this may need more dlls as I found out recently in a recent update to my context toolbar pr. Also make sure you aren't over the 80 char column limit.. @lukegb can you update the commit message to reflect the what's in the commit? Thanks!. Doing a quick fix to the commit message. Should show up in the commit log as 0c69f457a1ef92ad6cfd226abcaa26489f0ed708\nThanks!. I'm not exactly sold on the UX of the dial widget, it's a weird skeuomorphism hold over that I've found hard to use in other QT apps that use it.\nSo this is going to be closed since #1588 should take care of any UI stuff that we don't support natively. If the dial really fits use it!\nThanks for all the work you've been doing \ud83d\ude04 . There are weird things like moving between monitors with different DPIs where the titlebar will be the wrong size. I honestly don't remember the other issues, the title bar mostly stood out. But a multi DPI environment on windows will suss most of them out.. Changing this in so that it will enable on qt 5.11 since older versions have some DPI related bugs. Next release will most likely not have this enabled yet as there are a few issues to fix. But once we use 5.11 or newer it should be good to go!\nLook for a5fac7d78cf1193f7d07b14ad8f662b74e76937f. Merged in https://github.com/obsproject/obs-studio/commit/06081e799a88b48bd2bcc04b92548d136f9e110a. I've played with this a bit and while it looks better at a glance it does seem to make it harder to read when actually going in and changing a specific setting. It's less scannable.. Probably want to also rotate the drag handles. Now I understand why they were circles, haha. You'll see this merged in 0d9fb6c8b035189b783bc1cb1c3df94dab38590f. Would it make sense to move load / save over to the properties panel section?\nI think that might help with the context of the icons.. Updated to use the correct services version closed in https://github.com/obsproject/obs-studio/commit/0269f4eb01c981524263d8fc6f76f644707da4b0. Thoughts on expanding this to be able to export and load a zip container? The zip would contain a json file with a list of sources to add and also any assets like images or looping video that those sources would need too. This way designers could distribute pre skinned layouts that just work without any setup. Export would work similarly, find any needed assets and zip them up for distribution.. Example 9 patch image that gets loaded here. Note the black border showing padding \n/ content bounds. https://github.com/obsproject/obs-studio/blob/f953ab680a6e32dea297d8ae93a68044662e6833/plugins/obs-filters/data/cool2.9.png . \nanother example of the filter being used (source is scaled), placed next to the image that was loaded.. I'm going to close this and maybe rework it into a plugin. It's probably a little silly to include this in core.. @Gol-D-Ace this will need updated translations.. @bushwookieee might be worth contacting github support if that didn't work. I'm sure they can get you sorted.. @monkeywithacupcake If you could prefix the commit message with README.rst: I'll go ahead and merge this in. Looks great!. I'm going to close this, @Fenrirthviti proposed a promising UI for a hotkey overhaul and I think it will end up being much cleaner in the long run.. Will be merged in b835d7ec057e7a90d48cfe5222b0e73b2dbf889d. Implemented in #1671. KDE and apple also don't use a space in their examples.\nhttps://hig.kde.org/components/navigation/menubar.html\nhttps://developer.apple.com/design/human-interface-guidelines/macos/menus/menu-anatomy/\nI do know that German works differently so the OS uses a space before the ellipsis when the OS is in that language on OSX at least.. Hmm, just tried running this on a clean vm and ffmpeg can't find opus. I'll have to take a second look.. @RytoEX it just logs out shader compiler errors on opengl. The directx backed already does this.. What's the intended use for these?. Any thoughts on @notr1ch 's comment about the race condition?. @RytoEX\nThis code was being called to cleanup after the QSV encoder was failing to init properly. Luckily in the latest version those errors will at least be logged. But as is QSV failing to load will cause this crash. Some of the variables that were trying to be cleaned up were uninitialized so deleting them would lead to a crash. . @jpark37 just a quick question, what hardware / software are you using to capture this?. Will be merged in 8b6b8f33de47c14f563073ed4a235e72a710f33e. Should this be future proofed so themes can define the active tray icon?. The QSV encoder code is mostly from Intel and the default Visual Studio install compiles this fine so I'm not too worried about this one.. Merging in 6039cbb9385881a9910e0da52b5159c37fd0c30d. Can you revert the filename formatting changes and update the commit message to match the guidelines https://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst#commit-guidelines. Can this be done in the layout file?. these arrays should probably be pre allocated for performance. Pop out code shouldn't be part of this PR.. Update this to 5, 11 I've tested the behavior on that QT version and can verify that it works okay. But I know for a fact that some older QT versions don't have all the proper DPI stuff on windows.. You can actually check if the swap value is different in update here:\nhttps://github.com/obsproject/obs-studio/blob/master/plugins/decklink/DecklinkInput.cpp#L60\nand then the following code will stop the capture and restart the capture.. This bool should probably be called \"active\" or something of the sort. Should this use the tray icon or the app icon the theme provides?. Probably should be obs-tray.. Might be worth calling reserve() on this since we have a good idea how many samples it will have.. Probably makes sense to do a check here if seconds is > 30 and then reset it. This enables the TIMER_INTERVAL to change without breaking this and also we don't forever increment a variable.. ",
    "nxtreaming": "It's just cosmetics.\nOn Thu, Aug 18, 2016 at 8:52 AM, ONSBalder notifications@github.com wrote:\n\nCan one of the admins verify this patch?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/597#issuecomment-240593704,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AC9tC35kVOVC-zbnQOG5ytm8cEQ_uisaks5qg6zjgaJpZM4JnB8x\n.\n. FLV is far simple and stable than MKV. and it is very straight when you try\nto save RTMP to FLV.\n\nSo, stop your stupid suggestion.\n\nProductive. Reliable. Fast.\nOn Thu, Aug 17, 2017 at 5:23 AM, EntranceJew notifications@github.com\nwrote:\n\nEach day someone records with OBS and doesn't know what FLV is or why they\nhave one now. Even worse, someone will then deliver that FLV to someone\nelse without having any idea what to do with it.\nFor just one commit a month you could end this silent tragedy happening in\nyour neighborhoods.\n[image: please help my adorable spongey brained friends]\nhttps://camo.githubusercontent.com/87d22a3be03c4dfb0cd3bcb4b557567dbe4a9ca7/68747470733a2f2f692e696d6775722e636f6d2f356952526c4b642e706e67\n\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/jp9000/obs-studio/pull/1010\nCommit Summary\n\nChange default recording format to MKV from FLV\n\nFile Changes\n\nM UI/window-basic-main.cpp\n   https://github.com/jp9000/obs-studio/pull/1010/files#diff-0 (4)\n\nPatch Links:\n\nhttps://github.com/jp9000/obs-studio/pull/1010.patch\nhttps://github.com/jp9000/obs-studio/pull/1010.diff\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/1010, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AC9tCyGF5DwRflpcVTLmoz11U8omQNu0ks5sY13DgaJpZM4O5f3z\n.\n. Please do not merge this patch\n\nMKV has no any advantage compared with FLV in the scenario of live recording.\nJust think:\nYour MKV file will fail to seek if your OBS has been terminated by unexpected reasons( such as power down, reboot...), but FLV is fine in this case.\nFLV is simple, stable and fast.\n. ",
    "Enzime": "By default, accessing a HW device in ALSA will require exclusive access to that device, e.g. microphone. To get around this ALSA has http://alsa.opensrc.org/Dsnoop which will not show up as a hardware device, because it is a custom PCM, and allowing someone to specify a PCM, any PCMs they specify inside .asoundrc will be usable from obs.\nAn example PCM that I have in my .asoundrc which allows me to play audio that I want to record to both my loopback and speakers, and any recording that goes to that PCM will automatically go through the dsnoop ALSA module.\npcm.record {\n    type asym\n    playback.pcm \"plug:both\"\n    capture.pcm \"dsnoop:Loopback,1,0\"\n}\n. ",
    "Xaymar": "@ovr Only BUILD_AMF_ENCODER is needed to be enabled. Building requires the following:\n\nPrerequisites\n\nWindows\u00ae 7 (SP1 with the Platform Update), Windows\u00ae 8.1, or Windows\u00ae 10\nVisual Studio\u00ae 2013 or Visual Studio\u00ae 2015\nWindows 10 SDK (Version 10586)\nAMD Radeon Software Crimson Edition 16.7.3 (16.30.2311) or newer\n\n\nAnd of course it needs a windows system to run right now.\n. As far as I've seen, gstreamer partially supports encoding on the GPU with VAAPI - my understanding of gstreamer is limited though. I hope that in the future the linux drivers will see enough updates so that this is possible there too.\n. Nuking this PR as i accidentally did all the changes in the master branch instead of the sub branch. I'm stupid sometimes. Edit: Also because I'm too stupid to figure out how force pushing changes\n. @jumoog FSF seems to be of a different opinion here: https://directory.fsf.org/wiki/License:X11 (Yes, it's actually the X11 License, but generally known as MIT). See the full list here: https://www.gnu.org/licenses/license-list.en.html\n. Image Example: http://cdn.xaymar.com/private/2016/09/obs64_2016-09-29_19-07-52.png\nVideo Example: https://youtu.be/vNYooNdftIU  \nMay need an option to make it per-line, but that would add additional costs to rendering it (each line must be rendered alone).\n. Example Pictures:\n- Render Mode Additive, Outline Mode 'Text Over Outline'\n- Render Mode Additive, Outline Mode 'Outline Over Text'\n- Render Mode Additive, Outline Mode 'Text Replaces Outline'\n- Render Mode Additive, Outline Mode 'Outline Replaces Text'\n- Render Mode Replace, Outline Mode 'Text Over Outline'\n- Render Mode Replace, Outline Mode 'Outline Over Text'\n- Render Mode Replace, Outline Mode 'Text Replaces Outline'\n- Render Mode Replace, Outline Mode 'Outline Replaces Text'\n- All in One\nDefault Render Mode is Additive and default Outline MOde is 'Text Over Outline'. These settings will most likely only be used by few, but allow quite a lot of customization for those using the background feature.\nEdit: The UI looks like this: 1, 2\n. Render Mode and Outline Mode are now hidden behind a checkbox called \"Show Advanced Options\", so that new users are not confused by this.\n. It would be ideal if we had a better text renderer than the one currently in use, these changes only hide the real problem.. Perhaps add automatic conversion of detected windows to proper regex? Escape +,-,[,],{,},(,),*,?,!,: and ; to make it work. There may be some others I have missed.\n. I meant the former, but if this wasn't meant to address that then ignore my request.\n. Example:\n- \n- \nVideo: https://www.youtube.com/watch?v=OaNroAY3Nn4\n. Fixed thanks to @reboot helping with testing.\n. Math as requested by HomeWorld\ntex_a_uv = (-0.1, 0.1), \n- saturate(abs((tex_a_uv.x - saturate(tex_a_uv.x)) + (tex_a_uv.y - saturate(tex_a_uv.y))) * 65535);\n- saturate(abs((-0.1 - saturate(-0.1)) + (0.1 - saturate(0.1))) * 65535);\n- saturate(abs((-0.1 - 0) + (0.1 - 0.1)) * 65535);\n- saturate(abs(-0.1 + 0) * 65535);\n- saturate(0.1 * 65535);\n- saturate(6553.5);\n- 1;\ntex_a_uv = (0.1, 0.1), \n- saturate(abs((tex_a_uv.x - saturate(tex_a_uv.x)) + (tex_a_uv.y - saturate(tex_a_uv.y))) * 65535);\n- saturate(abs((0.1 - saturate(0.1)) + (0.1 - saturate(0.1))) * 65535);\n- saturate(abs((0.1 - 0.1) + (0.1 - 0.1)) * 65535);\n- saturate(abs(0 + 0) * 65535);\n- saturate(0 * 65535);\n- saturate(0);\n- 0;\nAs you can see, it will properly switch between A/B as long as there is no diagonal movement.\n[23:04:55] <HomeWorld> dont forget to provide some math behind it, or it will look as if it was pulled out of your ass (no offence), pretty much as it happened  in my first iteration :)\n[23:06:03] <Xaymar> Well, it's the same as before\n. Results seem inconsistent with this one. On some hardware this is faster, on other hardware this is slower. Hard to tell exactly what causes it\n. > @jp9000: We cannot make presumptions about how something is compiled. If we want to make an optimization to code in the higher level language with the presumption that it'll improve the compiled output, the disassembly output must be used to validate that optimization works as intended.\nI did not make presumptions, assumptions or guesses with this change. I tested it with GPUPerfStudio and on my Hardware and Driver it always produced a branch instruction before and none after. HomeWorld however had different results on his hardware (which I guess is Nvidia or Intel?), so this seems vendor specific. Not the first shader change that would need a #define AMD / #define NVIDIA / #define INTEL macro, but since I didn't have such hardware to actually test on I relied on the data that HomeWorld gave me at the time.. Not a personal favourite of mine, I much prefer the small red circle that OBSs tray icon shows when recording.\nPerhaps change this so that there are two circles, one for streaming (bottom left) and one for recording (bottom right). The streaming one would still be red, while the recording one would be blue/green/yellow/orange.. @Brainiarc7 \nIt should still improve overall performance for OBS, since the dedicated GPU provides better performance and (hopefully) better drivers too. And since OBS pulls the completely rendered frame from the GPU back to RAM, it has no impact on encoding output at all. Any direct-on-hardware features are not used by OBS as far as I can tell.\nThat means that Intel QSV, NVENC and AMF will still work as before, except they now use the dedicated GPU for rendering. Game Capture should (hopefully) stay unaffected, only Display Capture may be affected negatively, since the iGPU handles the rendering of the final display output.\nTo the black encoded output problem, did you actually test this yourself in OBS with this patch applied? Or is this something you remember happening in OBS Classic with the wrong device selected?\nThe primary goal of this patch is to actually enable the dedicated GPUs for use by OBS and it's loaded plugins, at least for AMD.. Will this collide with other Hotkeys? Ctrl-Q is my mic mute/unmute key (AutoHotkey) and Ctrl-Alt-Q is my Voice Device mute/unmute key (also AutoHotkey).. In VLC it overrides my hotkey - reacts anyway even though AHK caught it. Perhaps make this configurable (Hotkeys section)? I don't think a shortcut hotkey to close OBS is something that people actually need - you might accidentally hit that while streaming MMOs and RPGS.. Why does OBS need the --less-ui switch? I can understand the --always-on-top switch, but the --less-ui switch does not seem to be useful to the Project at all, only to your own project requirement.. In that case the switch should be --minimal. Or rather the switch shouldn't be a switch, but an option in the UI itself.. I've updated the PR to 2.1.0 now. Please keep in mind that the AMF SDK to be linked with needs to updated.. Auto remuxing sounds like a nice feature, especially considering mkv is a rather crash resistant semi-streamable format. To protect against the users only having a mkv file instead of an mp4 file OBS could keep track of files that should be automatically remuxed on the next start - no need for manual remuxing and users get what they want.\nFragmented files are about the worst thing you can do. Barely any software supports them and they only work around a problem that mkv solves.\n\nMy only concern is about how long the remux process might take for large files after recording stops.\n\nRemuxing MKV to MP4 is really fast with ffmpeg, speed depends on disk throughput though. Usually you can expect a 1gb video to be done in less than 15 seconds (takes <1s for me).. @SuslikV Matroska (MKV) has very widespread support and is a free format. There are only some applications not supporting it and usually these applications can't even work properly with fragmented videos or non-fixed timestep content (glares at Adobe).\nAlso why would we bother reinventing the wheel when its already there and several times better than what you suggested? . @SuslikV If the output of remuxing is suddenly VFR, then the input was also VFR. This can happen if the user had a dropped or skipped frame, as audio just continues on.. MediaInfo shows what the container knows, not what the content actually is. If you want to know what the content is, you use ffprobe.. So first some thing about the PR itself:\n\n.gitignore: Why are you modifying this to inclue /bin, /bin32, /bin64, /lib32 and /lib64?\nUI/forms/OBSBasicSettings.ui:  5.1 and 7.1 exist twice and Surround doesn't properly describe the actual layout (both are Surround). They should instead just be called '5.1 (Side)', '5.1 (Back)' and '7.1' - 7.1 Surround doesn't exist and would just be 7.1. Technically both 5.1 are the same too since players don't differentiate between these most of the time - and i'm pretty sure there are barely any codecs that actually implement a flag to show the difference.\nUI/window-basic-main.cpp: Your change to the \"Stereo\" line 1084 pushes it past column 80.\nlocale for decklink: You should only need to modify the en-US.ini, everything else is exported from CrowdIn.\nYour PR has an update for enc-amf? Why don't I know about this update?\nA bitrate of 1024 is kind of high, you can expect users to put it there and then blame OBS for it not working.\n\nOverall, you should put these extended options behind a checkbox that unlocks them so that they are hidden to the average user.\n\nThat being said, I'm not sure if I want to save files at above 2 audio channels. The reason is because it makes writing audio filters and audio encoders more complex than it should be. It's kind of a needless complexity that I avoided on purpose.\n\nMulti-channel audio is not too hard to deal with in terms of filters, but this should be put behind a checkbox that is in the advanced settings so that they don't mess with the average user. The average user will see \"higher bitrate, more channels = better quality\" and then don't understand why it's worse.\nEdit: Your PR also has a bunch of useless commits that should be collapsed into commits that follow the link Jim posted.. Yup. Looks like the changes Jim did are more compatible too. If Jim wants to close this in favor of his changes, go ahead. \nEdit: The changes in this PR are still more far reaching than the ones Jim did, I also did the extra type_data for encoders, not only sources. Once that is also in, close this PR.. Thanks @RytoEX, I've fixed them now.. @Obyoxar This one is actually over a month old. I was waiting for Jim to fork it, but it seems that that takes a while - this one is just a pure code copy from the original repo.. @Obyoxar See PR #960 . This has been moved back into its own plugin repository here: https://github.com/Xaymar/obs-stream-effects\nAn official build will be released with 0.3.0, the first \"stable\" version.. After merging, please close the following Mantis issue as resolved: https://obsproject.com/mantis/view.php?id=971. Updated to 2.2.1 to fix any last issues that existed.. @jp9000 Is there any change of this getting merged in the near future?\nI have plugins depending on correct graphics subsystem behaviour and this is currently crashing every single one of them. The only way to work around this issue is to duplicate the memory every time I want to do any changes to a vertex buffer and hope that the graphics subsystem works as expected.. My obs-stream-effects plugin currently works around the issue by memory patching the gs driver (D3D11 or OpenGL) to allow managed vertex data. The current behaviour does not allow for memory to be managed by anyone but the graphics subsystem, but the graphics subsystem is incredibly inconsistent with that. This PR fixes this inconsistency.\nAnother example for what would be really difficult to do is model loading. With the current approach I'd have to first load the model from disk, then copy the memory over into what OBS wants. If I also have a vertex-animated model, this copy has to be redone every frame, adding huge overhead. This also applies to the index buffers, which have the same issue.\nSimply put, the gs subsystem is incorrectly deleting memory that it didn't create in the first place. No matter what, functions should not delete memory that was not created by a previous function of similar kind. For example, if gs_vertexbuffer_create did not create the memory, then gs_vertexbuffer_destroy should not destroy it either.. While this does fix the deallocation crash, it does not fix the inherent performance drop that comes with the proposed change. I will now be forced to copy this data each frame, which is far worse than just allowed external/foreign memory to be used as is.\nSpeaking of foreign memory, you do not \"hope\" that the memory continues to exist, you outright make the API user guarantee this. An API user that does not guarantee this is outright using the API wrong and is as such responsible for the crashes that happen due to this. The same could be said about this PR and obs-stream-effects, but at that point there was very little documentation or comments in the code that actually said what does what and how.\nIt is not \"worse API design\" to rely on foreign memory, it is actually done very commonly to drastically improve performance in those cases - in cases where this is not possible, the memory that is allocated by the function is versatile enough to store any kind of data you want to use. Most of the APIs you use actually do exactly this, especially when working with Hardware. \nAs for vertex animations, you seem to have completely misunderstood what I said. I do not recreating any buffers each frame (except for texture caches if the texture changes) and updates are actually happening on the vertex information (position, normal, color, ...). The way the current and proposed API is going to work will add a second copy overhead from the third party provided buffer to whatever OBS gives me. While this is a fairly outdated animation technology, it does allow for things like morphing, which bone based animations do not.\nAdditionally you are being a bit condescending, if not straight up antagonizing, with your reply. You state \"worse API design\" as an objective fact, while it really is just an opinion/argument based on what you want the API to actually do. I can accept that you make a decision based on your opinions, I do not have to agree with these decisions or even \"have to understand\" it. Please separate your objective facts from opinions in the future, or at least try to make them sound less condescending.. The proposed fix works for me, I'll adjust my code once 21.x hits public.. There's been quite a few updates since I've made the original PR, which was for a 0.2.0 based version. Several crashes have been fixed, 3D Transform now works properly in Perspective rendering, Source Mirror was added and some much needed internal optimizations were done, which work much better with OBS gs code. See below for a full formatted changelist.\n\nChangelog\n0.3.0\n\nImproved cmake script to allow packaging from within the IDE.\nFixed a crash/freeze caused by not closing the rendering context.\n\nBlur Filter:\n\nReduced blur CPU usage and GPU usage.\nFixed LOD being calculated causing slower rendering.\nFixed an issue where the effect would randomly not load depending on the actions before starting obs.\nImproved rendering speed via pre-calculated Blur Kernel for those filters supporting it.\nAdded 'Color Format' option to improve de-noise type blur for cameras.\nAdded 'Bilateral Blur', a de-noise type blur which can be used to reduce low frequency noise.\nChanged default blur size to 5 pixels.\nImproved effect loading to only compile the shader once instead of every time.\n\nTransform Filter:\n\nAdded shearing support allowing for more weird shapes to be rendered.\nFixed camera aspect ratio when source width is smaller than source height.\nFixed scaling being affected by rotation.\nFixed an issue with the mesh reconstruction logic causing invisible sources.\n\n0.4.0\n\nImproved initialization code to ease future development.\nFixed several possible crashes in the GS subsystem wrappers.\nFixed 'Blur' filter color being wrong due to non-power-of-two textures.\nImproved 'Blur' filter error reporting for better debugging and support.\nFixed 'Blur' filter crashing OBS on GPU reset, better support for this is added in a future version of OBS.\nFixed 'Blur' filter occasionally just not working.\nAdded 'Source Mirror' source which allows you to add filters to a source without modifying it as well as rescaling it.\n\n0.4.1\n\nSwitched all filters and sources over to new initialization code.\nFixed a 32-bit crash on machines with CPUs capable of SSE caused by Vertex Buffers.\nReduced memory requirements of Vertex Buffers by ~60%.\nRemoved a superfluous reallocation, loop and copy from Vertex Buffers.\n\n0.4.2\nPlugin\n\nShipped files should now be actual images instead of broken images.\n\nSource Mirror\n\nFixed a memory leak caused by not releasing the mirrored source.\nFixed a rendering slowdown caused by trying to render the source inside an effect loop.\nFixed 'Point' scaling not actually using the correct sampling.\nImplemented an option for Source Mirror to keep the original size even if rescaling.\n. Updated PR to Version 2.3.1, which adds some other fixes.. What does this look like in action? This sounds like it'd be nice to have.. This looks like a really nice feature to have. Seems to work well with the styles too.. Yes. I went to sleep after releasing 2.4.1 as it was already 2 AM, so updating the PR was delayed.. Requested by DDRBoxman, take this with a grain of salt:\n\nI've attempted /MP before, way back when obs-amd-encoder was still Version 1.4. I quickly ran into an issue where just having /MP enabled would cause the encoder to suddenly be overloaded and no longer be capable of the peak speed. For my R9 285 at the time, that was 4k60 NV12 - it would always skip around 40% of frames. This was with MSVC 2013 and MSVC 2015 at the time, though I don't really have an explanation for why - my best guess was that the ambiguity of the code caused /MP to make worse guesses than the normal compile run.\nI hope that MSVC 2017 has this problem under control, as a 40% speed impact for the software AMD encoder path is pretty bad.. I'm in this list twice, once with my full name and once without my full name and just my alias. I think you should group these by email, which hopefully reduces duplicates.. I believe this would need to be agreed to by all current and previous contributors. A single no or missing reply would mean that this would have to be declined, or have all their code removed from the repository in all future version that include this notice. I'm against this until I can have a lawyer explain this to me in full.\n\nMoreover, your license from a particular copyright holder is reinstated permanently if the copyright holder notifies you of the violation by some reasonable means, this is the first time you have received notice of violation of this License (for any work) from that copyright holder, and you cure the violation prior to 30 days after your receipt of the notice.\n\nThis could be \"misunderstood\" to say that the license is reinstated permanently, even if there are future violations of the license. This could also be worded better to first say that the violation has to be cured and then the conditions in which the license is reinstated.\n[EDIT] Updating this post to not spam peoples E-Mails: I've talking with a lawyer, and my first observation is correct, this would require all maintainers to agree to this change. If even one of them doesn't reply or says no, that maintainers code and all new variations of that code have to be removed.\nAs for the second observation, it depends on the court it would end up in and what kind of lawyer you're going to fight. With this resolved, I am not against this, but would like the problematic part to be reworded.. > This definition was specifically included to facilitate projects adopting the commitment prospectively, so permission from past contributors is not needed.,..\nAs I am not a lawyer myself, this is but a rough translation of what I was told:\nDue to this being effectively a license change, people would need to keep track of if they are even allowed to reinstate the license. For example in the case that a small part of code is modified that was under GPLv3, only that modified part will be under GPLv3+GPLCC if the previous maintainer did not agree to the new license. So it would be in the best interest of everyone to get all (maintainers) to agree to this change.\nEnd of rough translation. I think this is accurate as to what will happen, so if there is a GPLv3 violation of a part of the code that isn't under GPLCC, the license would not be reinstated for that part of the code, and thus any modification to it from what I understand.\n\nIf it would be helpful I can talk to your lawyer.\n\nI can try getting you in contact with him, but unfortunately I'll have to find a translator first. And that takes time and money, the first I have, the latter I don't.\n\nI think I understand your concerns and I won't claim this language is perfect or free of all possible misinterpretation but it's now standard and widely used open source license language (it has even been used in another modern open source license, MPL 2.0) .\n\nIt's more about being able to enforce this in a court where the native language isn't English, thus a translator would need to be present. That translator may translate this wrong, thus resulting in an unfair advantage of one side over the other.\nEdit: To clarify, I am not against this license change.. Example of how this can improve user experience by grouping elements together visually:\n\n. At the moment I am rewriting the parent of all child properties in order to make this work right. However I do not think that this way is the best way, but I'm not sure how to properly solve this problem.. I have applied a working patch that does not mess with p->parent and instead adds a new parent field to obs_properties, which is used to verify that no duplicate properties exist.. As far as I understand the code at 1c35ae2, this currently does not ask the user if they want to restart, and only shows them a Message Box that OBS Studio is going to restart now. This might be considered unwanted behavior by the user and result in angry users that were still considering their changes or still working on something else in the scene collection or profile.. That is not what I was referring to. The problem is that it restarts, and does not ask the user if they want to restart. It only tells them \"I'm going to restart now. Kthxbye\", with no way for the user to prevent that.\nEdit: A better message would be:\n\nYou have changed options which requires OBS Studio to be restarted for them to be applied.\nDo you want to restart OBS Studio now?\n[Yes] [No]. ### Pointer Alignment\nCurrently this does not align the * of pointer types correctly with the name, it just pushes it one over. This is a result of aligning declaration and assignments, which was present in a large number of libobs file.\n// old\nstruct enum_cb {\n    obs_enum_audio_device_cb cb;\n    void *data;\n    int cont;\n};\n// new\nstruct enum_cb {\n    obs_enum_audio_device_cb cb;\n    void *                   data;\n    int                      cont;\n};\nThe pointer alignment issue also appears with casts, which should not be affected by it at all.\n\nDefines are not aligned\nThere seems to be no option to align defines with one another, so the following happens:\n```\n// old\ndefine CALL_PARAM_IN  (1<<0)\ndefine CALL_PARAM_OUT (1<<1)\n// new\ndefine CALL_PARAM_IN (1 << 0)\ndefine CALL_PARAM_OUT (1 << 1)\n```. Fixed the compiling problems by adjusting the sorting for C and Intrinsic headers to be higher.. Formatting: Indentation removed for no reason.. Formatting: Indentation removed for no reason.. Why did you remove the delete?. Line is longer than 80 columns, iirc 80 columns is the maximum.. /! is a Qt style documentation start that is compatible with Doxygen and Doxygen based tools. . Replaced with /*. Pointer does not align with name.. Wrapped line but first parameter still fits onto the same line.. Defines no longer aligned with each other.. Readable test converted into unreadable mess.. Alignment lost because of incorrect wrapping.. Multiple variables on a single line, should be fixed in origin source.. Lost alignment due to lack of define alignement options.. Additional padding before * in c-style cast.. ",
    "RytoEX": "@c3r1c3 As @jp9000 already said, the logs currently show whether OBS Studio is 32-bit or 64-bit, but not whether the OS is 32-bit or 64-bit.  For OS X, we might be able to assume 64-bit since OBS Studio only supports 10.8+, and OS X went 64-bit only starting at 10.7 (unless the user booted into the 32-bit kernel).  From what I've seen, some, but not all, Linux distros include the OS architecture in the strings that OBS Studio logs.  It's not mentioned in the Windows logs at all.\n@jp9000\nThe term architecture is often used (and confused) for processor architecture rather than OS architecture, so I used the term bitness, and that term is used elsewhere.  That said, I'm okay referring to it as OS architecture or just architecture in the context of this discussion, since we all seem to know the difference.\nAdmittedly, I don't need it.  The architecture of Windows itself shouldn't matter, ideally.  However, as a piece of diagnostic information that comes at seemingly low cost, I think it's useful to know the OS architecture.  Mainly, I find it useful as an easy way to be able to advise people to use the 64-bit version of OBS Studio if their OS is 64-bit, as most people in the support forum don't post their full system specs.\nIn the end, I largely did this because I wanted to see if I could, and it was an excuse to dig into the OBS Studio code and practice C, while potentially providing something that might be useful.\n. I forgot to comment earlier.  This has been edited per Jim's feedback.\n. Doesn't plugins/rtmp-services/data/package.json also need a version bump with this?\n. I imagine @jp9000 will want the commit message formatted as 50/72.\n. Not sure what you mean.  Do you mean to get the list of current window titles and convert those to valid regex?  Or do you mean check a user-entered regex and convert it to a valid regex if it was invalid?\nIf you mean the former, I think that's already done to some extent (the window title strings are all added to a regex object).  If it's not being done correctly (I didn't test that), that could probably be done, though that's not what this was meant to address.  You would probably also run into the issues I'm about to address below...\nIf you mean the latter, I think you'd have to write the code for that manually, and you'd have to cover every possible invalid case (unmatched brackets/braces/parentheses, bad character class, bad character range, etc.), and it's pretty easy to mess up regex, especially when you don't know you're writing regex and you're expecting things like * to act as a simple wildcard (Windows, shell glob, etc.) instead of a repetition operator.\nAs far as I'm aware, the C++ regex library doesn't have any kind of validation/correction functions exposed, it just throws errors when your regex is malformed.  Some of those errors do indicate specific invalid cases, which would help if you wanted to try to fix regex strings, but you'd still have to parse the string and try to fix it without accidentally \"fixing\" the wrong thing and just breaking it some other way (escaping an already escaped character, or matching an escape parenthesis/bracket/brace, for example).\n. Commits squashed per request by @jp9000.\n. @Temcoin You can use wildcards, but you have to use valid regex, not Windows/shell-style patterns.\n\".\" is a valid regex that is equivalent to the \"\" used in Windows/shell-style patterns.\nFor more info, read the Mantis bug noted in the initial comment, or read up on regular expressions.  There are plenty of resources for regular expressions across the Internet.\nhttp://www.regular-expressions.info/\nhttps://regex101.com/\nhttp://www.regexpal.com/\nhttp://regexr.com/\n. Amended the commit per @jp9000's requests.\n. I only disagree a little.  I personally specify the arch-suffixed variables in CMake, though at this point it's probably more due to habit than actual reason.\nHowever, I fully agree with you on your last point:\n\nFurthermore, if a user erroneously defines DepsPath64 on a 32bit project, that will prevent the warning from occurring even though it should still technically happen.\n\nThat had not occurred to me at the time, and I see your point here.  That would be problematic.  Perhaps I'll see if I can adjust my habits and specify unsuffixed vars in CMake from now on.\n. You should probably squash your commits into one commit.\n. I forgot to suggest - you should probably adjust your commit log message to indicate what component was changed.  Something like \"UI: Allow enable/disable of preview scaling\" would probably work.\n. Style nitpick:  statement continuations are tabbed in twice.  Jim will probably make those edits to tabbing himself if you don't.  I left comments using the review tool.\nOut of curiosity.  What did you change on the first line?  When I compare them, they seem to be the same.\n. @reboot Nice catch!  I had just cloned the forked repo to check that and came to same conclusion.\n. Jim may prefer the commit message/title to be \"\\<component>: [Fix/Add/Remove/\\<verb>] \\<issue here>\".\nSomething like \"UI: Fix scrolling while preview is locked\" would probably work.  The extra bugfix is mentioned in the commit description.  Up to you how you want to adjust before Jim gets to this PR.\n. Sorry.  It seems GitHub ate part of my previous comment, so it was unclear what I meant to say.  I've just gone back and edited it.\nIn the future, probably no need to change the PR title to match, as that is separate from the commit message.  Commit messages get preserved in the repository history (git log).\nThe commit message can probably just be \"UI: Enable scrolling while preview is locked\".  Of course, I may be completely off, and Jim may have other opinions.  Again, sorry my earlier comment wasn't clear.  I should've double checked it before posting.\n. The commit titles should be formatted like this:\n\"\\<component>: [Fix/Add/Remove/\\<verb>] \\<issue here>\"\nIn this case, the component is \"obs-filters\".. All of the commits are for files in plugins/obs-filters, so they should all be prefixed with \"obs-filters\" for the component part of the commit message title, assuming they remain as individual commits and are not squashed.. Are there any unexpected behaviors that would be caused on the user side from replacing a filter as done in d4cd14b?  Will existing filters still work exactly as they had before?  Can this new version still replicate the behavior of the old one, if desired?  What was the deciding factor in actually replacing the filter rather than supplementing it?\nI ask these questions both for posterity and in preparation for questions arising on the support areas of the forums about why their colors on filtered sources look different or don't work anymore, if that would indeed happen.  I'm not questioning the validity of any of the decisions made, I'm just asking for clarification and understanding.  Sorry for the trouble.. Could you be a bit more descriptive about what this does?  If @jp9000 would like, I can go through a code review with you to cleanup the commit and PR.. The commit message should be in 50/72 format (see here for details).  The commit title should be formatted like this:\n\"\\<component>: [Fix/Add/Remove/\\<verb>] \\<issue here>\"\nSomething like this might work, though it is just a suggestion:\n\nUI: Fix property name typo in frontend API\nThis commit fixes a typo that would cause the frontend API function \nobs_frontend_set_current_scene_collection to never be successful. Due to \nthe typo, the following null pointer check would always fail, so the \naction would never be triggered.\n\nMay also want to change the PR title to something more informative.  If nothing comes to mind, the commit title is usually okay to use as the PR title.. You only changed the PR title.  You can change the commit message by amending the commit and pushing it to your branch.  The PR will automatically see the newly amended commit.. The commit message body is not wrapped to 72 characters (the \"72\" in \"50/72\").  This is important, because right now your commit message looks like this in the git log:\n\nPlease wrap the commit message body to 72 characters, amend the commit with the new commit message, and push, and that should be the last change.. The commit message should be in 50/72 format (see here for details).  The commit title should be formatted like this:\n\"\\<component>: [Fix/Add/Remove/\\<verb>] \\<issue here>\". I didn't notice that this was OpenGL only.  Jim might ask for it to be fixed in D3D11 as well before merging.. I read the Mantis ticket.  Alas, I don't have any capture devices to test with, and that's outside my knowledge anyway.. @jp9000 You said it's better to convert Y800 to RGBX instead, but I noticed that the code uses \"VIDEO_FORMAT_BGRX\".  I did look into the code that backs that a bit and found that there is no \"VIDEO_FORMAT_RGBX\".  In this instance, does the RGB order not matter (RGB vs. BGR), or is this just a naming convention rather than a specific order of color values?. @jp9000 \nAh, okay then.  Just figured I'd ask now in case it would cause issues later.  Thanks for explaining!. @ThoNohT This doesn't create or replace a Control+C shortcut or hotkey combination.  It just replaced the menu shortcut key, so that if you have the transform menu itself opened, you can press \"c\" to select and activate the \"Copy Transform\" option.\nAt present, I don't believe there is a Control+C hotkey in OBS Studio.. @SuslikV \nDisplaying the exact size/dimensions of a source after cropping is something that could be displayed in the Transform window, but it is not the focus of this PR.  I'm pretty sure I could whip up a patch for that (displaying a read-only copy of the source's cropped size), though I'm not fully clear on exactly what purpose it would serve.\nI do not think that you need to display the source's transform info in the main OBS UI.  In fact, you can leave the Transform window open while you move the source around or adjust its size/crop settings and see the values change.. @SuslikV \nNo need to insult Jim's work or OBS itself.  When I said:\n\nI'm not fully clear on exactly what purpose it would serve.\n\nI just meant that I don't understand what added benefit it would create.  It was an invitation for you to explain your point of view on that feature request.  What would a user use the displayed \"crop size/dimensions\" info for?\nMy hesitance on it is mostly that I suspect users will see a read-only output of crop dimensions, become frustrated that it's read-only, and then ask that we make it so that they can directly specify crop dimensions.  Then, how do we determine which direction to crop?  Do we always crop the right and bottom edges?  Do we make it so that users can drag a source within its crop bounds?  Do we let a user specify which edges to crop?  It possibly introduces a bunch of future issues that I do not know how to handle.\nI've already discussed this comment with a few other users, and I've heard some use cases for such displayed information.  As I said previously, I can probably whip up a patch for that feature, so I will look at working on that next.  However, as always, accepting patches is up to Jim.  There's no guarantee that he'll take that one, or even this one.\nI did not want to provide a one-time copy-paste (such as Duplicate) because I wanted users to be able to copy the transform settings of one source and apply it to others multiple times, as much as they want.  That is why there are two menu items (Copy and Paste) instead of one (Duplicate).\nDuplicating sources is something else that I've looked into, again, at the suggestion of other users.\nThe purpose of this PR is that some people have complained that setting up multiple scenes to look similar in setup, but with different sources, is difficult because they have to hand transfer all of the transform and crop settings.  This PR makes it possible to avoid hand transferring those settings.  I appreciate your passion and the time you took to write your comments.  However, the purpose of this PR is not to address your other concerns about missing OBS Studio features.  If you have larger complaints about the state or direction of OBS Studio, this PR is not the appropriate place to discuss those concerns.  Write a feedback post in the forums, and tag Jim.. > So, you are free on \"Copy transform\" CTRL + C and \"Paste transform\" CTRL +V use. I think so. And the fear that \"feature/keys\" is used in other programs doesn't make any sense. Just make it and don't touch what Studio already has.\nAgain, this PR does not add, change, remove, or modify any \"Control+\\<Key>\" global hotkeys.  I only added and changed in-menu shortcut keys.  These are different things, as I discussed with @ThoNohT in previous comments.. Dang.  This one was in my list of items to do later.  Nice work!  I did a quick glance over the PR for code style, and I didn't see anything that jumped out at me.\nSeems you have some conflicts to resolve though.. @Fenrirthviti \nI think @derrod's converter still needs some work before it's considered for inclusion in core OBS Studio.  Though, I'm not sure exactly which (edge) cases it doesn't handle.  For this PR, I think simply detecting and disallowing imports from OBS Classic would be fine.. @Gol-D-Ace Beat me to it.  If the exports/imports are used by users for their own backups or setup duplication, then not having the stream key would probably be confusing (\"Why isn't it just working?  I imported my backup!\").  That said, I do understand the concern about users sharing their exports with other users, but I think that warning them should suffice for most cases.\n@Heufneutje's suggestion would also work.. @cg2121 \nHas the comment above from @wallrik been addressed?  Or is there some reason not to do what is suggested there?. Ah, I'd forgotten about this.  I'd meant to point out that Jansson 2.10 was officially released on March 2, 2017, which was after this PR was opened.  Instead of cherry-picking fixes from 2.10-dev, we probably could've just gone with 2.10 itself, unless there was some reason not to.  Sorry, thought I'd left a comment here previously.  =/. @cg2121 It looks like recent changes to the repo have caused conflicts. I'm not sure if the PR author gets notified when that happens, so I thought I'd let you know.. I've fixed the merge conflicts with master, and I've adjusted this patch to account for recent changes due to PR #917.  These fixes are minor and I've pushed those as an update to the original commit.\nAfter further testing of my own, I discovered that the original patch does not account for sources of type \"scene\" that are within a scene being copied.  I have fixed this, and have pushed a new commit for that fix.  For now, I'll keep it as a separate commit only to make it obvious what I had to add to fix that issue.  Again, keeping the separate commit is only temporary - the commits will be squashed later.  I'm not terribly pleased with the additional fix, as I think it's a bit ugly.  Hopefully, someone will have some constructive feedback on how to improve it, or I'll have some new insight later.\nI've also considered that I can probably remove all or most of the code in OBSBasic::AddSceneToSceneCollection related to saveData and GenerateSaveData.  Instead, I can just use obs_data_set_array to save the modified destSources source array back into loadData and save that back to the target Scene Collection JSON file.  When I originally wrote this patch, I think that I thought I might need some of the scene collection data later, so I kept the loaded data and the data intended for saving separate.  Thinking on it now, I don't see why I would need the data separate, and it just adds to the size (about 70 lines) and complexity (having to account for new/modified settings, like PR #917) of the patch.  I'll test this idea later.  Right now, I just wanted to address the immediately apparent issues with this PR that needed resolved.\n\n@SuslikV\nI don't like the \"Duplicate to...\" wording for a two reasons:\n1. It doesn't immediately indicate what kind of destination to which the user is copying the scene.\n2. The word \"duplicate\" is a more complex word than \"copy\" (according to language complexity analysis tools).. @reboot \nI implemented your first suggestion (exclude the current scene collection from the dropdown for selecting the destination scene collection), but it seems there's a memory leak that appears in the log output when I call OBSStudioAPI::obs_frontend_get_current_scene_collection to get the current scene collection name.  If I call config_get_string(App()->GlobalConfig(), \"Basic\", \"SceneCollection\") directly, I don't see the memory leak.  I'm not sure what's causing that, and it's outside the scope of this PR, but @jp9000 might be able to sort that out.  I may hold off on pushing this feature implementation until I have gotten some guidance, or at least until I've slept on it.\nAs for your second suggestion (combine the scene collection and scene name dialog into a single dialog), I'll look into it.\n\nAs for my earlier comment, I did test removing the code related to saveData and GenerateSaveData, and everything still works as expected.  Unless someone can think of a very good reason to keep those parts in the patch, I'll probably continue in that direction.\nThere's still obviously a lot of cleanup to do in my patch, so I'll probably work on that locally for a bit when I have time.. @reboot \nAh, you're right.  I've fixed that issue in my local copy.  The memory leak no longer appears.\nI'm still going over the idea of combining the two dialog boxes into one.  Originally, I'd hoped to keep the SceneCollectionDialog (the first dialog box you see to select the destination Scene Collection) generic enough that it could possibly be reused for other purposes.  I didn't want to make something so specific to my needs that it could only be used for this purpose.  However, if the UX factor outweighs the code-reuse factor here (it very well might), then I'll abandon that thought and see what I can do about simplifying that process.. @reboot\nFrom what I can recall, the workflow you suggest would be more difficult to implement because the scenes are not loaded, so I would not have ready access to initialized scene/source objects to use for things like obs_scene_enum_items.  I'm not sure if you can create a source/scene object from JSON data if that source isn't accessible in the currently loaded scene collection.  I would guess that it is possible, since that's probably how OBS would load a scene collection for display.  If you can't, I would have to manually iterate through the scene data to recursively find all of its child sources.  I'll look into that possibility, but I'm not convinced that importing data from unloaded scene collections is the best way to go.  Writing finished JSON data seemed to be the easier solution when I originally looked at this.\nThat challenge aside, I had originally modeled this after the workflow in OBS Classic, which uses this as a context menu item.  Though, I wasn't able to easily generate a new submenu for the context menu item, and I thought the submenu would get ridiculous for large sets of scene collections, which is why I used dialog boxes instead.. @SuslikV \nBasic.Main.CopySceneToSceneCollection=\"Copy to Scene Collection\"\nSounds good to me.  I've made that change locally.. I haven't addressed all issues brought up in this thread, but I've rebased and pushed some additional fixes to try to keep this from falling behind.. I've rebased my branch, squashed the commits, and pushed a single commit to keep this PR updated.\nHere's the previous commit history to show what issues I've addressed:\n\nFixup: Allow recursively adding sources if source is a scene\nFixup: Remove code related to GenerateSaveData to simplify things\nFixup: Don't allow user to copy scene to current scene collection\nFixup: Locale adjustments. To follow-up on the discussion that @jp9000 and I had in Discord, since there is a Fider issue with a fair number of votes, I'm currently planning to dust this off next month, rework the workflow, and reopen this at that time.. Force pushed an update to fix package and services versions in light of #798 (5845664).. The commit subject prefix should be \"obs-outputs\" and the commit subject line (header) should not end with a period.  The commit message body should be wrapped to 72 characters.. Hi!  The commit subject prefix should be \"UI\" and the commit subject line (header) should not end with a period.  You should probably squash these commits into one commit for this PR.  You'll also want to avoid pushing updates to your master branch until this PR is merged or closed.\n\nIn the future, please consult the CONTRIBUTING document in this project's root for more information on how best to format your commits and pull requests.. Hi!  The commit subject prefix should be \"UI\" and the commit subject line (header) should not end with a period. The commit message body should be wrapped to 72 characters.\nPlease consult the CONTRIBUTING document in this project's root for more information on how best to format your commits and pull requests.. @trwnh Originally, I would have suggested that you amend the last commit by using the Git Gui \"Amend Last Commit\" feature (or the command-line way) and simply change the commit message.  Now though, you've pushed some extra commits.  Not to worry!  Git has tools to handle this.  You'll need to squash them together and do a force push.\nIf you're using Git from the command-line, you would do this:\ngit rebase -i '3ababab^'\nThis should open your default text editor.  Then you would set the first commit (this should be the one with the subject: Update OBSBasic.ui: Ctrl+E to \"Edit Transform\") to use the \"reword\" or \"r\" option, and set the ones after that to \"squash\" or \"s\".  Save the file, and close your text editor.  It should open a new text editor window with your commit message.  Edit it as needed, and then save and close the editor.  Git should do some work and then stop.  After that, assuming your Git setup uses your fork as a remote named \"origin\" (it probably does) run:\ngit push -f origin patch-1\nLet me know if you have any questions!. @trwnh Yes, you absolutely could do that.  I don't see a problem with that.. Does this conflict with PR #882?. @Incalex Thanks for testing!  Weird that it crashes on Debug.  Does QSV also crash on a Debug build before this commit?. I just realized that there was no explanation about why this was closed, so I wanted to clarify on the status of this PR for future readers or anyone who was subscribed/following.\n@jp9000 and I discussed this in #obs-dev on IRC, and he felt that merging this PR would pollute the git history/blame too much.  He was also concerned about modifying the Intel files (if I understand/recall correctly:  common_directx11.cpp, common_directx11.h, common_directx9.cpp, common_directx9.h, common_utils.cpp, common_utils.h, common_utils_windows.cpp, device_directx9.cpp, device_directx9.h), especially should they ever be changed or require changes by Intel in the future.  After discussing these issues with him, I agreed.\nHe indicated that a PR like this might (big emphasis on \"might\") be easier to digest/merge if it didn't touch the Intel files.  To that end, I am willing to make a new PR or to edit this PR to exclude the Intel files, but for now we agreed to close the PR and set it aside.\nSomewhat related, I wonder if it would make sense to move the Intel files to a sub-folder to differentiate them from OBS code.\n@Incalex \nYou're still welcome to make PRs that provide functional changes/improvements to the QSV code, especially the Windows 7 related parts that you contributed.  If you happen to need to change a line for functional reasons that has some style issues, you could also correct the style issue then.. You should probably also note in the commit message body and the PR description that this commit makes changes in obs-ffmpeg and libobs.. > libobs/obs-ffmpeg: Add option to media source to play latest replay buffer\nAh, I didn't mean to change the commit subject prefix.  Here's an example of a commit that touches multiple components.  I'd recommend using \"obs-ffmpeg\" as the prefix and remarking in the commit message body and the PR description that this commit also modifies libobs.. @cg2121 It looks like recent changes to the repo have caused conflicts.  I'm not sure if the PR author gets notified when that happens, so I thought I'd let you know.. The free RAM issue was discussed in #obs-dev, and the possibility of including buffers was mentioned, but the conversation seemed inconclusive to my recollection.  Here's an excerpt:\n\n<leonhard> one thing still though, i'm not really sure about the \"free ram\" value\n<RytoEX> leonhard: What about it, in particular?\n<leonhard>   it might probably make sense to take buffers/caches into account. otherwise you'll have high usage indications while in reality it's mostly just buffers\n<leonhard>   so i'd say probably display \"freeram + bufferram\", which is what \"free\" gives you as \"available\"\n<mrasmus>    but then how do you handle representing swap as well\n<RytoEX> leonhard: That by itself would be a pretty minor change.  I could change that.  Not sure how to handle swap space per mrasmus.\n<leonhard>   dunno, i'd leave swap out or display it seperately. does obs display swap on win/mac?\n<mrasmus>    probably not\n<RytoEX> leonhard: I don't think the memory logging functions on Windows/Mac take into account swap, unless the underlying OS functions used do.\n<RytoEX> Mac actually doesn't even log free memory.\n\nI'm not familiar enough with the memory representations in *nix to say for sure what the \"correct\" way is to measure \"free RAM\".  If it's as simple as freeram+bufferram, then that's an easy fix.  All I'd need to know is that that's the correct way to represent free memory, rather than freeram+bufferram+swap.. Based on the advice here, I've changed the \"free\" memory representation to be \"freeram+bufferram\" with d6e43ae.  Though, in my experience while testing this on Ubuntu (and from some reading), \"bufferram\" is usually pretty low (around 20MB), and making this change didn't show a drastically different value than the before this change.  Maybe it would be larger if I had heavier usage or on other systems?\nI've compiled and tested the change on Ubuntu 16.04.  I would still appreciate feedback on whether or not the free memory value logged by OBS is what you expect it to be.. @reboot\nI'd actually read the commit that you linked in your comment, which is why I was apprehensive about changing the free memory representation from freeram to freeram+bufferram.\n@kkartaltepe \nI think that kernel patch might even be in Ubuntu 15.04, but that's EOL anyway.  The only currently supported version of Ubuntu that doesn't have easy access to a kernel with that patch (via official packages) is 14.04.5.\nAs for \"why include free RAM\" on Linux or any other OS and \"what's the purpose\", and whether or not I'll make more changes to how free RAM is represented on *nix...  I think I'll wait for @jp9000 to chime in.\nRegardless of the \"correctness\" of the free RAM value, has anyone had any issues compiling and running?  Any memory leaks or other issues I didn't catch?. I noticed that PR #953 is aiming to add some functions regarding memory logging.  As I've pointed out before, I don't know enough about memory representations to make any constructive comments on that.  I'm mostly interested in whether or not that PR has any implications for what I'm attempting to do in this PR, so I thought I'd mention it here.. PRs #932 and #933 should be one PR with a single commit.  See these examples of similar PRs:\n\nhttps://github.com/jp9000/obs-studio/pull/927\nhttps://github.com/jp9000/obs-studio/pull/901\nhttps://github.com/jp9000/obs-studio/pull/866\nhttps://github.com/jp9000/obs-studio/pull/692\n\nOr use this search filter on the \"Pull requests\" tab:\nis:pr is:closed rtmp-services\nThe commit message should be formatted as 50/72 and prefixed with \"rtmp-services: \".  See the CONTRIBUTING document for more details.\nIt may also be helpful if you pointed to documentation that verifies this change.\n\nFurther food for thought, though not directly related to #932 or #933...  Why are there two separate entries for \"Vaughn Live / iNSTAGIB\" and \"Breakers.TV\" that have identical ingests and recommended settings?  Would merging them cause disruption with existing user settings?  Is \"Breakers.TV\" still becoming its own service as mentioned in https://github.com/jp9000/obs-studio/commit/ea0f47e6d28221feccdccd0b1c9e69da033292d5?. @kc5nra No problem.  If you open a new PR for this and you want another review of that, just tag me.. @kingargyle @kc5nra @reboot\nAny additional work happening here or brewing behind the scenes?. @kingargyle \nONSBalder is a bot that had been dormat, and then suddenly awakened and commented on all of the open PRs.. I think @jp9000 commented a while ago that the best way to deal with file change handling would probably be using OS-specific file monitoring APIs wrapped in libobs API functions.  Using stat was supposed to be a temporary band-aid fix.  Though, redoing the entire file monitoring system is probably outside the scope of what you're trying to do here.\nFor details on the previous file monitoring discussion, see #482 and Mantis 350.. To keep the commit message succinct, you could probably change the commit message to this:\n\nobs-filters: Fix Alpha not being preserved in some cases.. Commit subject still gets cutoff by GitHub, which is actually more generous than other git clients, if I recall correctly.  =/  Best alternative I can suggest is this:\nobs-filters: Optimize and fix alpha in color grade filter\n\nOr just leave it be and Jim will change it to whatever he wants later.. I understand.  For years, I used \"e-mail\" instead of \"email\".  I don't know why GitHub doesn't recognize that my newline comment is solved, but eh.. It looks like Jim will be adding this functionality when the scripting branch is merged into master via https://github.com/jp9000/obs-studio/commit/2150e36794a1542e77e315075b610cf4d3234ef0 and https://github.com/jp9000/obs-studio/commit/750c12c8aea911de71ca86117e82be028aac911b.. I have a minor nitpick:  \"simbol\" is misspelled in your commit message.  It should be \"symbol\".. @mntone\nHi!  I just wanted to check in since we haven't heard from you in a while.  Could you please explain the benefits of this renderer over the OpenGL renderer?  Can you also explain why this is useful to have in OBS?  Thanks!. @bazhenovc \nI'm just a community member and contributor, so I couldn't say how many keys Jim would want.  If you've sent him an email, I'm sure he'll get to it in due time.  That said, I'll gladly take a key to help test this patch, if one is available.  I can be reached by email by sticking \"@gmail.com\" onto the end of my GitHub username.  If you'd rather work out key distribution with Jim, that's fine too.. Apologies for the delayed follow-up on my part.  I did confirm a while back that exiting the game with OBS game capture active will result in the game crashing (a bit redundant, since the game is exiting).  I also confirmed recently that the game will also crash if trying to start the tutorial with OBS game capture active, and it will crash upon either opening or closing the in-game browser (help/tutorial window; F1 key).\nJim seems to have fixed this behavior with commit https://github.com/jp9000/obs-studio/commit/e5d660e9441f0e7fc51b28096ae0bb740b64357c.  I've built and tested the current master branch (at commit https://github.com/jp9000/obs-studio/commit/9321b822bfc999416392b4a553f4171e476f8f7a), and these crashes no longer occurred during my testing.. Changes to rtmp-services services.json requires an update to package.json as well.  See PR #967 for an example of this.  Though, the version number used here will depend on which PR would be merged first.. As pointed out by @Gol-D-Ace, Hitbox (hitbox.tv) was also affected here.  I did end up making a Mixer account to test this, and it turned out that the names not matching the entries in plugins/rtmp-services/services.json caused the user to be unable to select appropriate regions for those two services.\nIncidentally, Mixer's \"OBS-FTL\" fork uses \"mixer.com\" for the rtmp-service name.  I'm not sure if we want to match that or not, so I'm leaving it as is for now.. I've rebased this branch in light of PR #980 being merged (mostly commit 4581a8164a8eda824f297f1f585c36ca4afd7ccf).  This PR now only affects hitbox/Smashcast in the autoconfig wizard.  Ignore the branch name.  I don't know how to change it without completely closing the PR and opening a new one.. @QuinnDamerell-MS \nDid you happen to Find-and-Replace \"\u00a0\u00a0\u00a0\u00a0\" (4 spaces) with \"\u2003\" (1 tab) across your entire patch, or most of it excluding the rtmp-services JSON?  That's what it seems like you did, and now you've introduced whitespace changes on line not originally included in this PR where there were no changes requested.  In fact, you've replaced spaces where Jim seems to have intentionally placed them, and you now have some lines tab-indented further than they should be indented.\nI suggest that you revert your recent code style commit, and individually reapply the code style fixes that were previously requested.\nYou also haven't addressed the comments about the rtmp-services JSON here or my questions about OBS-FTL's UI components for Opus here.. @jp9000\nThanks for the insight!  As I'd mentioned earlier, I'd looked into the differences between this and the OBS-FTL fork.  I had largely been referencing the GitHub diff between the forks, so I had been focusing on the differences in UI/audio-encoders.cpp and UI/audio-encoders.hpp when I mentioned the UI bits of Opus support.  Glad to hear you're way ahead of me here!  As we discussed earlier, I'll stop reviewing this PR since you're going to handle the edits.. @jp9000 \nI meant to discuss this with you prior to merging.  I was thinking that we could perhaps move information that isn't strongly needed for diagnostic purposes, like the window name, to use LOG_DEBUG (like I had done with some other pieces of information) or some other in between logging level (though I don't think one currently exists).  A nice complementary commit then would be to allow users to specify a commandline flag or ini file setting to switch the logging level to that level.  It might be neat to make it an advanced setting in-app so that the logging level can be changed on the fly, but that might be a bit much.  Either way, enabling the user to specify the log level would allow us to get that information if absolutely needed, but it would otherwise be left out of normal logs.\nLet me know if you want to talk further about those possibilities.  I'll understand if you'd prefer to keep things as they are after this merge.  Regardless of future decisions, thanks for merging!. Hi! Congrats on your first PR here! To help out, I've reviewed this PR.\nI can confirm that the Twitch API and sites use the correct spelling of \"Colombia\".\nhttps://ingest.twitch.tv/api/v2/ingests\nhttps://stream.twitch.tv/ingests/\nFor this PR, please also modify plugins/rtmp-services/data/package.json by incrementing the version number in both places in that file.  See PR #967 or PR #975 for examples of successfully merged PRs for rtmp-services.\nAdditionally, please squash the commits into a single commit and format your commit message as 50/72 and prefix the commit title with the component being modified (rtmp-services) per this project's CONTRIBUTING document.  Please feel free to ask questions if you have any.. Great!  I see two minor issues.\n\nThe commit title should use an imperative verb.  Something like this would work:\n\n\nrtmp-services: Fix misspelled country name\n\n\nIn the commit body, you might want to mention that the misspelled country name is for a Twitch ingest server.\n\nOther than that, this looks good to me.. You'll need to squash those commits into one commit, and the commit message should be formatted as 50/72 with the \"rtmp-services\" prefix.  See the Commit Guidelines from this project's CONTRIBUTING document.\nSee PR #967 or PR #975 for examples of successfully merged PRs for rtmp-services.. Hi! Congrats on your first PR here!  I've noticed that this PR and your other PR (#1020) both make changes to the same file (plugins/obs-transitions/transition-stinger.c) in the same places.  If the obs-transitions changes were not intended here, could you please cleanup the obs-transitions changes from this PR so that they don't make conflicting changes?\nAdditionally, please format your commit message as 50/72 and prefix the commit title with the component being modified (obs-ffmpeg) per this project's CONTRIBUTING document.  Please feel free to ask questions.. Hi! Congrats on your first PR here!\nThese commits should probably be squashed into a single commit, but I'll understand if you want to wait for maintainer/collaborator feedback on that.. @BenJuan26 Yes, you would make the updates and force push a new single commit.  At least, that's what Jim has asked me to do in the past.. Hi!  Please squash these commits and format your commit message as 50/72 and prefix the commit title with the component being modified (obs-transitions) per this project's CONTRIBUTING document.  You don't need to capitalize \"stinger\" in your commit message.\nCan you think of a situation where someone might want the original/existing behavior instead of the this crossfade?  Do you have an example video demonstrating the proposed crossfade behavior?. Hi! Congrats on your first GitHub PR!  Please format your commit message as 50/72 and prefix the commit title with the component being modified (obs-ffmpeg) per this project's CONTRIBUTING document.  You can also change \"in valid\" to \"invalid\" in your commit title.  Please feel free to ask questions.. GitHub seems to have temporarily forgotten how to mention commits that reference PRs.  For posterity and to keep everyone on the same page, this PR was closed by https://github.com/jp9000/obs-studio/commit/1ef4de7ce368e974d22100d87409a407dbc9e40b.. Hi!  Please use Crowdin for language translations instead of GitHub.. That typo doesn't exist in the base English language file, so it must be a mistake in that translation.  That should still be changed via Crowdin.. Do you mean directly to preview with no transition, or does it change the Program scene (the live scene, the one that's broadcasting/recording) with the intended transition?  I don't have time to build right now, or I'd test myself, so I thought I'd ask here.. So it makes the scene go to the Program view, not the Preview?. Hi!  I'm a bit confused by this PR, since it seems to mostly revert back to the behavior before PR #919, minus the -z option of curl.  Has there been a failure on AppVeyor recently that this PR would solve?  This PR also fails to build on AppVeyor.  I think this is because of the return output of curl being an error code.  The if statement checks in CI/download-deps.cmd looks for the existence of a file named filename.txt.\nTo do this in appveyor.yml without a separate script file, I think that this will work (keep indentation levels in mind):\n- if exist dependencies2015.zip (curl -kLO https://obsproject.com/downloads/dependencies2015.zip -f --retry 5 -z dependencies2015.zip) else (curl -kLO https://obsproject.com/downloads/dependencies2015.zip -f --retry 5 -C -)\n  - if exist vlc.zip (curl -kLO https://obsproject.com/downloads/vlc.zip -f --retry 5 -z vlc.zip) else (curl -kLO https://obsproject.com/downloads/vlc.zip -f --retry 5 -C -)\nIf you want it formatted with whitespace:\n- if exist dependencies2015.zip (\n      curl -kLO https://obsproject.com/downloads/dependencies2015.zip -f --retry 5 -z dependencies2015.zip\n    ) else (\n      curl -kLO https://obsproject.com/downloads/dependencies2015.zip -f --retry 5 -C -\n    )\n  - if exist vlc.zip (\n      curl -kLO https://obsproject.com/downloads/vlc.zip -f --retry 5 -z vlc.zip\n    ) else (\n      curl -kLO https://obsproject.com/downloads/vlc.zip -f --retry 5 -C -\n    )\nThe appveyor.yml file uses Windows Batch syntax for commands by default or PowerShell if specified.. > I find if file doesn't exist it will fail.\nThat's strange.  In my local tests with curl, it would issue a warning and then download the file anyway.  I'm not sure if it's handled differently on AppVeyor.\n\nCurl fails sometimes, it's not related to my changes.\n\nI'd guess that it's caused when curl tries to resume downloading against a completed file.  In this case, curl receives an HTTP 416 code and then gives a return code of 22, which is regarded as an error.\nAs for questions about the design and structure of the CI services used for OBS Studio, @DDRBoxman and @Gol-D-Ace set up most of this, so they would probably be the best people to ask.. Do you think you could separate the Decklink API updates into their own commit in this PR?  Also, there seems to be a bunch of whitespace changes introduced (EOF-newlines deleted, tabs/spaces swapped).  Could you fix those throughout?  You may also want to consider bumping the commit dates up to the present.\nI'd been holding off on that because I didn't want to distract from the other tasks, especially the performance issue, but I figured it'd be better to bring these up sooner rather than later.. @florisporro AppVeyor publishes Windows build artifacts.  You can find this particular build here.  In case there are more changes, the build history is here, and you'll want to make sure you're getting the latest build for the \"decklinkout\" branch.. @JamesRitson \nThose builds are from different branches, which, while similar, do not contain the same code with simply bugfixes.  Notably, the decklinkkeyer branch seems to use a different color/pixel format (BGRA vs. YUV), so I'm not sure that is an apples-to-apples comparison, but perhaps it's a point of interest that the branch using BGRA performs better for you than the branch using YUV.\nThanks for testing!. Hmm.  I think Microsoft started putting some of the DLLs and registry settings into Windows before making them publicly available, but I can't remember if that was in Insider Builds between 14393 and 15063 or if it was in 14393.  In this PR, I had set it to just check the Gaming Features on all versions of Windows at 10 or higher instead of specifically targeting Creators Update (Version 1703) and up.  That was partly because the full windows version struct wasn't available, and I figured that most Windows 10 Builds in the wild now should be somewhat current.  If it's determined to be problematic or confusing, I can adjust the constraints for when the logging should occur.. @jp9000 \nAny thoughts on this part?\n\nSimilarly, I didn't know if I needed to add an API event for this, like api->on_event(OBS_FRONTEND_EVENT_REPLAY_BUFFER_SAVED);\n\nShould we add an API event for that as a follow-up?  Or do you think it's unneeded?\nThanks for merging!. Hi! Congrats on your first PR here! To help out, I've reviewed this PR.\nCan you please link to documentation from Picarto to verify that these ingests are correct?\nFor this PR, please also modify plugins/rtmp-services/data/package.json by incrementing the version number in both places in that file.  See PR #967 or PR #975 for examples of successfully merged PRs for rtmp-services.  Please feel free to ask questions if you have any.. @jp9000 \nI don't mind the change at all!  Truthfully, I wasn't sure how best to name it.  I've seen some flags use DISABLE_x (VLC), and I've seen others as ENABLE_x (UI, WIN_UPDATER), and I've seen a few flags named BUILD_x (AMF_ENCODER, BROWSER, CAPTIONS, CA_ENCODER).\nNo worries about the prefix change!  I'd checked the commit history and seen both used.  I figured I'd pick one, and we could correct it later, which has been done.\nThanks for merging!. @jp9000\nThanks for the adjustments!  I'd tried to make a context menu for the program view, but after a while I gave up on it and decided it was better to push the PR and hope for discussion and adjustments after that.\nThanks for merging!. No problem on the modifications!  I was worried myself about the location of the preference, and I still somewhat think that we may need to investigate moving some settings from other tabs into a \"UI\" settings tab in the future.\nSorry that this proposal wasn't the most ideal or elegant solution.  Nonetheless, I'm sure this will make many users happy.\nThanks for merging!. I was checking up on some CI stuff, and this caught my eye.\nI'm a bit confused by this.  As far as I can tell from AppVeyor docs, you can't specify the version of curl/cURL that AppVeyor uses by doing this.  AppVeyor currently uses curl 7.55.1, and @jp9000's dependency bundle currently uses curl 7.49.0-DEV.  What this line in this file does is specify an environment variable for use by the AppVeyor build environment/matrices/jobs.  Maybe this was originally meant to be picked up by some CMake or build script?\n@DDRBoxman You originally added this file.  Care to chime in?. Thanks for addressing my review comments!\nUpon further review, I misspoke.  Please indent the last blog statement with one tab past the else keyword.  Please make sure the indentation uses tabs and not spaces.\nPlease squash your commits into a single commit, and make sure that commit conforms to the guidelines I've previously mentioned (50/72, prefix, etc.).. Last nitpick:  make the commit message subject start with an imperative verb.  Use \"improve\" instead of \"improved\".. Glad I could help!  The AppVeyor build seems to be failing.  I get the following build errors on my end:\n\n3>D:\\obs-studio\\plugins\\win-dshow\\win-dshow.cpp(578): warning C4244: 'argument': conversion from 'const int' to 'uint8_t', possible loss of data\n3>D:\\obs-studio\\plugins\\win-dshow\\win-dshow.cpp(762): warning C4189: 'flags': local variable is initialized but not referenced\n3>D:\\obs-studio\\plugins\\win-dshow\\win-dshow.cpp(849): error C2039: 'separateAudioFilter': is not a member of 'DShow::VideoDevice'\n3>  d:\\obs-studio\\plugins\\win-dshow\\libdshowcapture/dshowcapture.hpp(152): note: see declaration of 'DShow::VideoDevice'\n3>D:\\obs-studio\\plugins\\win-dshow\\win-dshow.cpp(927): error C2039: 'useSeparateAudioFilter': is not a member of 'DShow::AudioConfig'\n3>  d:\\obs-studio\\plugins\\win-dshow\\libdshowcapture/dshowcapture.hpp(182): note: see declaration of 'DShow::AudioConfig'\n3>D:\\obs-studio\\plugins\\win-dshow\\win-dshow.cpp(949): error C2039: 'useSeparateAudioFilter': is not a member of 'DShow::AudioConfig'\n3>  d:\\obs-studio\\plugins\\win-dshow\\libdshowcapture/dshowcapture.hpp(182): note: see declaration of 'DShow::AudioConfig'\n3>D:\\obs-studio\\plugins\\win-dshow\\win-dshow.cpp(1647): warning C4456: declaration of 'format' hides previous local declaration\n3>  D:\\obs-studio\\plugins\\win-dshow\\win-dshow.cpp(1632): note: see declaration of 'format'\n\nAre you able to successfully build this locally?. Ahh, okay.  That makes more sense.  I've pinged Jim to take a look at that PR.. I forgot to mention...\nPlease make sure to capitalize the first word of the commit subject, like this:\n\nobs-ffmpeg: Enable demuxer options for sources. You updated the PR title, but you still need to update the commit subject.  Those are separate.. Neat!  I'd tried something very similar to this, but it still detected that NVENC was supported on a system that had no Nvidia cards.  Does this log an FFmpeg/NVENC error when NVENC is not supported, or does it omit any logging in that case?. I was doing some research into this a few weeks ago.  FFmpeg has functions for checking NVENC support, but they're static C functions, so we can't call them.\n\nWe could try making the calls directly against the NVENC API to check the card's capabilities and NVENC support, though that may be a bit nightmarish.. Per this comment on PR #1070, you might consider changing the commit prefix to \"cmake\".  Please start the commit subject with a verb, like:\n\ncmake: Do not require X11 on OSX. @SuslikV The line limit is a strongly preferred 80 columns, but that line is still longer than even that.  I just haven't gotten around to reviewing this yet.. Interestingly, it seems that \"Qt 5.10+ does not support 32-bit builds.\"  Though, if nested docks doesn't require 5.10+, then this point is moot for now, but will likely become relevant later down the road.. Jim's likely to ask this if I don't, so...\n\nCould you explain why you want or need this added to OBS?. I've wanted to see a rework of the projector data for a while, so this makes me happy.. @cg2121 \nThis appears to require a rebase.. @ericfont That's a Qt compile error when compiling with Qt 5.11+, which OBS hasn't switched to just yet.  That will be addressed separate from this PR.  Actually, that specific change is already in UI/frontend-plugins/frontend-tools/scripts.cpp on master, but does need to be addressed elsewhere.. Hi!  A few things here.\n\nThe first three commits seem like general code fixes/cleanup that are separate from this PR's intended purpose.  Why are they included here?\nThe fourth commit seems to make a lot of changes to the QSS theme files, at least some of which don't appear to be related to this PR's intended purpose (removing comments, changing spacing, etc.).\nThis PR currently has merge conflicts with master, so those will need to be resolved.. Nitpick, the new commit message body contains an incomplete sentence:\n\n\nWhen a user tries to paste filters without selecting a source or when\npasting filters from a now deleted source.. Hi!  It seems like just below your additions in either file, obs-ffmpeg does something similar with some other fields/parameters.\n\nplugins/obs-ffmpeg/obs-ffmpeg-audio-encoders.c:\nenc->frame_size = enc->context->frame_size;\n    if (!enc->frame_size)\n        enc->frame_size = 1024;\nplugins/obs-ffmpeg/obs-ffmpeg-output.c\ndata->frame_size = context->frame_size ? context->frame_size : 1024;\nIs it possible for any of these new parameters to have null data in them?  What happens when it is passed to FFmpeg?  Should they then require null checks?\nAdditionally, how do older versions of FFmpeg handle these new parameters if they aren't expecting them?  I'd guess older versions would ignore any parameters that they are not aware of, but have you tested it to confirm there are no issues?. @Dusre\nHi!  Before I dig into this PR, is this thread also you?  I'd just like to establish some background information first.\n@h1z1\nThe newer versions of the NVIDIA SDK documentation and developer docs require an NVIDIA Developer Program account, which is a free signup (but yes, it is a required signup).  Some of the older versions listed here do not require an account, but they obviously will not have information on newer NVIDIA features.\nAs for why NVIDIA recommends CBR for \"Game-casting & cloud transcoding\", I'd guess it's exactly because it helps transcoders (or services that transcode) handle traffic bursts better.  To really know why NVIDIA made that recommendation, you'd have to ask NVIDIA.. Okay then.  It's not that there was no one interested, it's just that the video encoder flags/options can be very technical, and not everyone has the technical knowledge to be able to thoroughly understand them and how they should be implemented, myself included.  For example, are Spatial AQ and Temporal AQ mutually exclusive, or can they both be enabled together?  What does it mean to \"force keyframes\" such that forced-idr becomes an option?  Why implement just these NVENC parameters and not others?  What benefit does this grant end-users?  What are some common pitfalls that users may find?  What settings combinations should they pick?  What settings combinations should they not pick?\nYou're working off of older FFmpeg default settings, so we're going to have to bring some of that up to date.  I'll try to cover some of that in an upcoming code review.. Just a thought, but you can get slightly shorter code by splitting the #ifdef up like so:\n```\nifdef _WIN32\nextern void initialize_crash_handler(void);\nextern void initialize_com(void);\nextern void uninitialize_com(void);\nendif\nvoid obs_init_crash_handler(void)\n{\nifdef _WIN32\ninitialize_crash_handler();\n\nendif\n}\n```\nYou end up having two separate preprocessor blocks, though the generated code at the end is identical, or perhaps nearly identical depending on whitespace.  It may be marginally less efficient for the preprocessor to evaluate two blocks instead of one, but it's probably negligible.. > Additionally, I believe this should probably have been a PR in to @cg2121's fork rather than a fork to the master repository (at least if github gives the option).\nI believe you can do that by submitting a PR against @cg2121's branch here.  Then @cg2121 has to evaluate it and decide whether or not to merge it, and then #1253 would change if your proposed changes to that branch were merged.\nI agree with @jp9000 that you probably should have discussed your concerns with @cg2121 in #1253 first before going this route.. To account for scene transition overrides, this seems to work.\nI haven't seen OBS crash or complain about memory leaks with this, but I don't know that it's the best solution.. @Lange Rebuilding OBS Studio and obs-websocket on my end to test that.  What version of obs-websocket?  I hope it doesn't matter, I'm just trying to put together a comparable test.. I fixed the issue of obs-websocket scene transitions not disabling the transition button.  That patch is here.\nBasically, I moved the code to disable the button to the end of TransitionToScene, which is more or less equivalent to disabling it right after calling TransitionToScene.  This also removes the need to re-check the transition for scene transition overrides, because the transition has already been overridden inside TransitionToScene.  This also disables the Transition button during Quick Transitions, though that behavior can be reversed if needed.\nKnown Issues:\n1. The Transition button will be disabled briefly (for maybe a frame or two) while a Cut transition is occurring.\n2. The Quick Transition buttons will still remain active, and can still be used to interrupt an active transition (such as using Cut in the middle of a super long transition).\nWhether or not one considers those to be real problems is probably a matter of opinion.. I think I'd made a patch to disable Quick Transition buttons as well, but I hadn't posted it.  I'll try to dig it up later and post it, though I may just post an aggregate patch of all fixes instead of posting patches piecemeal (or maybe I'll post both).. @Lange\nI'd come across a forum post that points out that changing the default transition while a transition is active will also cause some trouble.  I don't know if that's worth investigating as a different bug, or if the default transition drop down should also be disabled while a transition is active.. I do have a branch with all patches and fixes applied.  I just pushed it to GitHub, so you can find it here.  You should be able to merge it directly to your branch, or just use it to compare against later.  Though my commits should be squashed and merged into the commit here before being merged to master.\nThere may yet be a few things left to sort out here, like if this should be a user-pref (should users be able to interrupt a long transition if they want to), and if the rest of the behavior is solid.. I've experimented a bit more with remuxing.  As mentioned above, if an MKV that reports has having 1,000 FPS is remuxed to MP4, its FPS is calculated to something that is pretty close to what it was set to in OBS but not exact.  For example, I remuxed a 60 FPS MKV to MP4 and it read as 60.03 FPS.  If I remux that MP4 back to MKV, it once again reports as having 1,000 FPS.  If I remux an MKV from this PR to MP4 and back to MKV, it also then reports as having 1,000 FPS.\nThat being the case, it seems like it might be wise to see if we can correctly transfer/specify the avg_frame_rate when remuxing MKVs.  I'm happy to try to address that here or in a separate PR, but please don't let that hold up merging this if it comes to that, as I do not know how quickly I can work out the solution.. Following up a bit on the \"why this happens\"...  From FFmpeg in libavformat/avformat.h for AVStream.avg_frame_rate:\n/**\n     * Average framerate\n     *\n     * - demuxing: May be set by libavformat when creating the stream or in\n     *             avformat_find_stream_info().\n     * - muxing: May be set by the caller before avformat_write_header().\n     */\n    AVRational avg_frame_rate;\nFrom FFmpeg in libavformat/avformat.h for AVStream.time_base:\n/**\n     * This is the fundamental unit of time (in seconds) in terms\n     * of which frame timestamps are represented.\n     *\n     * decoding: set by libavformat\n     * encoding: May be set by the caller before avformat_write_header() to\n     *           provide a hint to the muxer about the desired timebase. In\n     *           avformat_write_header(), the muxer will overwrite this field\n     *           with the timebase that will actually be used for the timestamps\n     *           written into the file (which may or may not be related to the\n     *           user-provided one, depending on the format).\n     */\n    AVRational time_base;\nSo in plugins/obs-ffmpeg/ffmpeg-mux/ffmpeg-mux.c#L315, OBS writes the user-specified FPS (inverted) into time_base and copies that into the video stream's time_base:\n```\ncontext->time_base =\n        (AVRational){ffm->params.fps_den, ffm->params.fps_num};\nffm->video_stream->time_base = context->time_base;\n```\nAt plugins/obs-ffmpeg/ffmpeg-mux/ffmpeg-mux.c#L501 when avformat_write_header is called, the time_base values are presumably overwritten with (AVRational){1, 1000}, ~though I still don't know exactly why that occurs~.  After that, avg_frame_rate ends up interpreted as the inverse of time_base, so it becomes 1,000 FPS.  However, r_frame_rate (the older method of determining file frame rate) is still correct in MKVs made by OBS, which is probably partly why some media players show the wrong framerate and some don't.\nAll in all, it seems easiest to set avg_frame_rate to the user's intended framerate, and to try to copy avg_frame_rate on remux if it is specified in the input file's streams.. If I'm reading the FFmpeg source correctly, in libavformat\\matroskaenc.c on line 2673 (for FFmpeg 4.0 source):\nfor (i = 0; i < s->nb_streams; i++) {\n        // ms precision is the de-facto standard timescale for mkv files\n        avpriv_set_pts_info(s->streams[i], 64, 1, 1000);\n    }\nThe function avpriv_set_pts_info is defined here in FFmpeg 4.0.  That seems to be what sets MKV's time_base to (AVRational){1, 1000}.. The MKV framerate issue has nothing to do with MP4.  You can remux an MKV with a properly specified avg_frame_rate into a new MKV file, and you will still see the new MKV with 1K FPS.. We're not changing the video track's time_base or time_scale, we're changing the avg_frame_rate on encode/mux.  These are often related, but they are different.\nLet's assume a user selects \"30 FPS\" in OBS and sets MKV as the output container.\nDuring MKV encode, if you don't specify an avg_frame_rate, FFmpeg will set a default track duration of 1000000000LL * st->time_base.num / st->time_base.den, or 1,000,000,000 * 1 / 1000, or 1,000,000.  During MKV decode, FFmpeg will then set avg_frame_rate to (AVRational) { 1000, 1 } via a call to av_reduce.  This is where the \"1,000 FPS\" comes from, and clearly does not match what the user specified.\nIf you specify an avg_frame_rate that meets these conditions:\n it is non-zero\n it is positive\n* its inverse is greater than the track's time_base (which is 1/1000)\nThen during MKV encode, FFmpeg will set the default track duration to 1000000000LL * st->avg_frame_rate.den / st->avg_frame_rate.num.  For a specified framerate of 30 FPS, that would be 1,000,000,000 * 1 / 30, or about 33,333,333.  During MKV decode, FFmpeg will then set avg_frame_rate to (AVRational) { 30, 1 }.  This is \"30 FPS\", which matches the original user-specified framerate.\nThe relevant sections of FFmpeg code are here:\n https://www.ffmpeg.org/doxygen/4.0/matroskaenc_8c_source.html#l01304\n https://www.ffmpeg.org/doxygen/4.0/matroskadec_8c_source.html#l02495. Because context->time_base; at that point is the inverse of the user selected FPS, as I pointed out earlier:\n\nSo in plugins/obs-ffmpeg/ffmpeg-mux/ffmpeg-mux.c#L315, OBS writes the user-specified FPS (inverted) into time_base and copies that into the video stream's time_base:\n\nIn MP4 containers, that is not overwritten (as far as I'm aware).  In MKV, it is overwritten by avformat_write_header, which the documentation says will happen.  For this patch, I'm using the time_base before FFmpeg overwrites it.  That's why it has the value we need at that time.  I didn't say that time_base is completely unrelated to FPS, I said they were related but different.  From the FFmpeg example file \"muxinc.c#L154\":\n/* timebase: This is the fundamental unit of time (in seconds) in terms\n * of which frame timestamps are represented. For fixed-fps content,\n * timebase should be 1/framerate and timestamp increments should be\n * identical to 1. */\nost->st->time_base = (AVRational){ 1, STREAM_FRAME_RATE };. @ntoff I don't actually know if this PR fixes that problem.  That was not within the scope of the tests that I performed.  I guess the MP4 gets marked as VFR because it has different values for minimum and maximum frame rates, and I don't remember off the top of my head how those values get set/read/interpreted.. The AppVeyor build failed.  Is that a legitimate failure, or does it seem like it just needs re-run?  Will review later once that is addressed.. I'm on Windows.  I'm updating my build tools.  I'll try to build it in a bit.. Seems like you may need to EXPORT the obs_media_paused function at libobs/obs.h#L1965.  Doing that successfully builds and runs for me on Windows 10 1803.. For reference, here's what it looks like in Windows.\n\n. I'm not sure that the restart button needed to be removed; I just didn't like where it was placed.  It might be neat if the user could customize the media controls, but I think that's out of scope for this PR.\n\"elaspedTime\" is still misspelled as such throughout the PR. It should be \"elapsedTime\".  Line 4188 in libobs/obs-source.c still needs a correction, and it's currently causing GitHub to be a bit unhappy.\n\n. In the original PR, the \"Restart\" button restarted the entire playlist, not the current song, which is a separate functionality from the \"Stop\" button.  They provided markedly different functionality.  I simply didn't like where the button was placed, and I'm just one person reviewing.. @cg2121 In addition to my notes above, this PR seems to have some merge conflicts.. @MulleDK19 \nI appreciate your enthusiasm for wanting a new feature added, but please be patient.  Jim has a lot of things on his to-do list, and this PR still needs some work, review, and testing before it's ready to merge.. Super minor nitpicks:\n\nThere's an extra space in the first commit's message body:\nThis  bug\nThe second commit message body is missing a period at the end of it.. @tea1111980 We are aware that the website is down.  In the future, this is not the best way to try to find out what is wrong with the website.  Please check the OBS Discord or IRC if you have trouble accessing the website.\n\nDiscord:  https://discord.gg/obsproject. The website seems to be back up now.. Please change your commit message to comply with this project commit guidelines.\nIn particular, make these changes:\n1.  Use a verb as the first word after the commit prefix.\n2.  Wrap the commit message body at 72 characters.\n\"EG\" is used incorrectly.  Can annotations be wrapped in something other than angle brackets (\\< and >)?  If so, you could instead say, \"Add the ability to retrieve param, technique, and pass annotations (e.g., blocks wrapped in <>).\"  Or you could drop the \"e.g.\" altogether and simply provide links to documentation on annotations in this PR.\nI also do not think that the commit message needs to include the entire list of added functions.. Something I keep mulling over for settings is being able to \"search\" for a setting (or hotkey).  So if you wanted to find a specific setting or hotkey, you could type into a search box and it would either allow you to go directly to that setting/hotkey or would display only matching settings/hotkeys.  If you need examples of what I'm talking about, Chrome, Opera, and Firefox all have a settings UI/UX like this.  I have no idea how much work it would be to implement something like that though.  If that sounds like something worth discussing, we should probably discuss it separate from this PR.. There are still three unresolved inline comments from my previous review.  Please address those.. As an aside, this would address Mantis Issue 556.. @exeldro Almost.\nUse a verb as the first word in the commit message subject.  Usually something like \"Add\" or \"Fix\".  \"frontend-tools: Add options and VLC support to instant replay script\" is probably appropriate.\nThe commit message body should use proper grammar.  Something like this is probably appropriate:\nIn the Instant Replay demo Lua script, make the maximum number of\nplayback attempts and the interval between playback attempts user\nconfigurable. Add support for using the VLC source to play instant\nreplays.. As the label's details explain (when hovering over it), this PR requires a review by the project maintainer, @jp9000 .  He reserves the right to review any patch before it is merged into the project, regardless of who else reviewed it beforehand.  My reviews are mostly to catch mistakes and request some clarity and cleaning before he gets to patches, so that it is easier for him to review patches when the time comes.. @TheOrsa No worries!  I'm not aware of any rush to get PRs merged into master.. To clarify, obs.c is located at libobs/obs.c and coreaudio-output.c is located at libobs/audio-monitoring/osx/coreaudio-output.c.. Left a reply to a previous inline review comment.\nWould also be great to get some UI screenshots to show how this looks.. For the sake of being in this PR, yes, I would prefer if those were separated here.  Jim may squash them on merge/commit, but that's up to him.. I successfully tested this on Windows 10 64-bit with a 64-bit build of OBS Studio (both Debug and RelWithDebInfo).  Seemed to work as expected once I got around some confusion over building mbedTLS.. @compiler-errors\nI wanted to follow-up on this.  Is it still at all possible to compile OBS with RTMPS support with libraries other than mbedTLS at this point?  There are still ifdefs in librtmp for GnuTLS and OpenSSL, but the OBS CMake files now seem to only support mbedTLS, unless I'm misunderstanding.  This question really only pertains to those who want to self-compile on platforms supported by those other libraries, and I wanted to confirm my understanding of this behavior.. @compiler-errors \nFair point.  Thanks for answering.  As I said, I mostly wanted to confirm my understanding for the present situation.. I'm wondering if it's a good idea to entwine image-source with the frontend-api like this.  I might be worrying about nothing, but it's gnawing at me.. I'd like to point out that this PR doesn't cover the log message for if the game capture falls back to memory capture naturally.  It only alters the message for when the user has forcefully enabled SLI/Crossfire mode (memory capture).\nAlso, your commit message has a typo in it (mutli-adapter), and seems to be wrapped at less than 72 characters.. GitHub ate my review because I can only review open PRs.. Hmm, I could probably do those things, though I'm not sure if it would be best to allow a simple \"enable/disable\" checkbox, or do what VLC does and give the user a dropdown list of hardware acceleration options.  I could probably build a PR that is just the checkbox to start, and then if we determine it should be a selectable dropdown, change it to that instead.. Should this be updated to 2.4.1 (or newer if more hotfixes are made)?. No worries.  I just wanted to mention it here in case Jim got to this PR before you were able to update it.. Tested on Windows 10 Home 64-bit with a 64-bit OBS build.  Streaming to Mixer with FTL worked fine for me as well.. @gburgwardt \nHi!  Yes, the maintainer can squash commits on merge, but we generally like to make pull requests as minimal-effort as possible.  Generally, it's a bad idea to use the GitHub web UI by itself to create pull requests, because you cannot edit commits and you end up with extra merge commits.\nA few things:\n\nWhat is Piczel.tv?\nUse one commit to make this change instead of multiple commits.\nPlease read this project's commit guidelines, and format your commit message appropriately.. @gburgwardt \nMuch better.  Thank you for revising.\n\nThe build failure on Travis CI is unrelated to this PR.. I tried to reduce the time taken for the show/unhide operation, but the Visual Studio profiler still shows that most of the time is spent in the calls to setVisible.  I had tried to reduce calls to setVisible by checking against isVisible first, but it seems that setVisible effectively checks isVisible and returns early if no change is needed, so I gave up on that avenue.\nI tried to disable widget updates for the whole loop, but it still runs sluggishly in Debug builds.  In a RelWithDebInfo build (the type used for release builds), it's much more performant, even with 50+ sources.  As @VodBox mentioned in a discussion on this, this may require some kind of threading to truly solve the performance issues.\nI lost track of how the original PR compared to my attempts at improving the responsiveness.  Here's my branch if you want to test that:\nhttps://github.com/RytoEX/obs-studio/tree/pr-1406. @gluneau \nHi!  You still need to update the commit subject line to comply with this project's commit guidelines.  Prefix the commit subject with the component being modified, use a properly capitalized present tense verb, and a short descriptive message (50 characters or less).  This would suffice:\nrtmp-services: Add DTube\nYou can update the commit subject line by amending the commit locally and then doing a force push to overwrite the commit already present here.. macOS and Linux builds are still failing on CMakeLists.txt line 158.\nCMake Error at CMakeLists.txt:158 (configure_file):\n  configure_file Problem configuring file. @WizardCM @WizardCM I hadn't caught that.  I agree - removing the version number from the title bar is not a good idea.. This is still failing on macOS and Linux (Ubuntu 14.04) CI with this CMake line:\nconfigure_file(${CMAKE_CURRENT_SOURCE_DIR}/AUTHORS ${CMAKE_INSTALL_PREFIX}/data/obs-studio/authors/AUTHORS COPYONLY)\nI'm unable to investigate that further, but that's the current major issue here.. @DungFu \nFollowing up on this, could you please provide links to the icon pack or individual icon pages on Flaticon and/or Freepik's site?  That way we can refer back to it should the need arise.. @Heufneutje \n\nEdit: I would like to mention that I definitely like the idea behind this and I understand why it's a good idea to have it. I'm just not sure I quite like it's fixed location. That's all.\n\nAs far as I'm aware, making it dockable or making it able to be hidden/shown are things that are being considered or looked into.  No promises on the final implementation, as this is a work-in-progress.\n@ntoff \n\nEven with media controls there, that's just more wasted space in my eyes, will those also be optionally shown?\n\nMedia Controls would likely be optional, if implemented this way.  This is very much still a work-in-progress towards broader goals of UI improvements to better enable feature discovery and spending less time in right-click menus and property windows.\n\nif I could disable the video preview window I would\n\nYou can.  Right-click the preview and uncheck \"Enable Preview\".  It will still take up some space, but not quite as much as with the preview enabled.\n\nYou also detach the Mixer dock instead, as @dodgepong said.  You can also close or detach any of the other docks (Scenes, Sources, Scene Transitions, Controls).  See the OBS Studio 20.0.0 blog post for visual examples.\nWhile minimizing OBS will also minimize detached docks, you can hide OBS to the system tray instead and detached docks will remain visible (though such docks will become unable to be targeted by alt-tab on Windows).\n\nOr make the mixer smaller:\n\nOr with mixer's new Vertical Layout:\n\n@DDRBoxman \nSince there's clearly a lot to talk about and consider on this, and things are still in motion, perhaps retitle the PR with a \"WIP\" prefix?. @ntoff \nYou and I cross-posted.  I was still typing my reply when yours came in, and I hadn't checked for new comments before submitting mine, so my comment above was made without the context of your latest comment.. > Mostly a non-issue anyone who was able to open their entire slideshow will have enough unused ram to cache them all or at least a large portion typically.\n@kkartaltepe \nIt looks like this behavior only loads up to five images at any one time (one image and two buffered in either direction)?  It doesn't try to load as many as it can.  Unless I've missed something?  From cg2121 in #development:\n\nLoads one image and a two image buffer. The other images are loaded when needed.\n\nAn explanation on the intended behavior might help.\nTo clarify my earlier opinion, I'd be more okay with the scope of these changes if the PR title, PR description, and commit message indicated the scope.  I would still have concerns about changing behaviors for users and how to deal with those changes (user option, user knowledge, support knowledge, changelog, etc.).. @kkartaltepe \nFair enough.. As far as I know, people are using it as a slideshow for hundreds of wallpaper images 1080p or higher.. The commit message still says that random was changed to shuffle.. Could you please explain what this is actually used for?  What does it do?. Wouldn't this fail to update if encoding is active?. I'm a bit leery of replacing the context menu options outright.  There was an issue recently where the source lock icons on macOS were pushed off the right side of the visible area of the source box, and it turns out there is no context menu item for show/hide and lock/unlock for sources.  Replacing the context menu item means that if there's ever an uncaught UI bug that makes it difficult or impossible to access it, users would not be able to use it.\nI'm all for implementing a solution that adds buttons/actions outside of the context menu though.. @Warchamp7 \nSure.  I'm actually mostly in favor of removing it from the context menu to add it somewhere else.  Reducing clutter is good.  I'm just looking for some discussion, as always.\nThough, a thought:  let's say that these UI elements are able to be hidden by a user preference or toggle.  What becomes the quickest way to show/hide or lock/unlock?  Show those UI elements, do the action, hide the UI elements vs. right-click, then do the action.. > Also, many days ago was mentioned that previews may became dockable windows or so.\nThe only recollection I have of the idea that the previews would become dockable is that someone asked a long time ago if it was possible to make them dockable.  Jim's answer was that it would not be easy.  I do not recall it being mentioned that this was definitely planned.. Seems Jim has merged this as-is for now.  If someone wants to provide a PR for a tristate field as described above, go for it.  The goal, as I understand it, is that a build with default flags (or omitted flags) should avoid hard failing, while a build with user-specified flags should fail on config if the config cannot complete (component not found, component invalid, component incompatible, etc.).. > As far as I have been able to tell thus far Twitch, Youtube Live, Huya all support high profile video streaming.\nIt's not just about the streaming service, but about the devices that consume those streams.  As far as I know, only extremely old devices do not support the \"high\" profile, but this is still a change that should be investigated thoroughly.\nFor example, Android still recommends the \"main\" profile.  Android and Apple both used to recommend baseline up to 2014, at least.  I'm not totally sure of the current state of things.. From what I can tell, Twitch only removed the mention from their old Broadcast Requirements page.  They still say \"main/high\" without specifying one over the other on their new broadcast guidelines at stream.twitch.tv.\n\nI think some OBS encoder Plugins ( x264, enc-amf ) may already enable high profile by default.\n\nobs-x264 doesn't set any profile by default, which would also effectively allow 8x8 transforms as long as the user didn't set the encoder to ultrafast, from what I can tell.\n\nAll services that don't specifically request main will have the high profile when using x264.\n\nAs far as I can tell, it's not that they have high profile by default, it's just that they aren't restricted by any profile by default.\nI don't know if there's anything special about the QSV encoder that necessitates it using main over high.\nTo be clear, I'm not exactly opposed to this change, but I'd be remiss if I didn't thoroughly question changing a default setting and the effects it could have.  As always, I'd encourage some testing in the field to make sure that nothing bizarre occurs, especially with older QSV-capable hardware.. Regarding the \"fallthrough\" issue, see Pull Request #935.  I do not believe \"[[fallthrough]]\", specifically, is supported in all compilers we currently use, which is why we use the comment mechanism instead.  I build primarily on Windows, so I don't use GCC that often.  You should be able to verify if this is needed by compiling with GCC 7.\n\nAlternatively I can simply remove the default case\n\nI'm not sure what compiler optimizations occur with a default case compared to assigning a default outside of the switch.  It's probably better to have the default case.\nAs for the commit message, the specific style rule in question is:\n\nOBS Studio uses the 50/72 standard for commits. 50 characters max for the title (excluding module prefix), an empty line, and then a full description of the commit, wrapped to 72 columns max. See this link for more information: http://chris.beams.io/posts/git-commit/\n\nI suppose one could interpret that as \"wrap the commit body at 72 characters or less\".  I don't know Jim's preference on this one.  I usually just recommend wrapping at 72, but you can keep it this way until Jim has time to review it.. Not sure if this will still emit a warning in GCC7 for the fallthrough syntax used.. After reviewing the GCC documentation on warning options, it looks like this will be fine for -Wimplicit-fallthrough=n where n is anything from 0 to 4.  It's not consistent with the other comments introduced in PR #935, but that's a nitpick.. > I haven't bothered to clean it up any more especially over name titles or space nitpicks because I don't have time and have other projects going on. It's there for those who want to use it. It would be nice to be in native OBS but I'm not going to bother pushing it any further. It's there for people who need it. I don't even know why this pull request exists when my original patch still applies to the current git of OBS.\n@GloriousEggroll \nJim has been trying to avoid editing PRs himself on merge to fix style issues and instead allowing the PRs to go through reviews by others and edits by the PR author.  He, too, doesn't have much time to spare and has other things going on.  As I understand it, this PR exists because people keep asking when the other one will be merged or when VAAPI encoding will be added, and the other PR is not likely to be merged in its current state.  As far as I could tell, you'd moved off of GitHub after Microsoft announced their plans to acquire GitHub, and you hadn't been replying on your PR any further since June.\n\nAnd it seems like that OBS devs are uninterested in implementing VAAPI and maintaining it.  I don't know if it's possible somehow to make PR to PRs without making a new PR.\n\n@nexfwall \nIt's not that the OBS devs are uninterested in implementing VAAPI, it's that:\n1. the other PR was awaiting a review from Jim\n2. either PR would/will require extensive testing\n3. it's not something that's just going to be added without review\n4. the code is not going to be merged without complying with style rules\nIt is possible to make a PR to a PR, but that requires the original PR author to approve and merge the second PR into the first one.  If @GloriousEggroll would prefer that route, then that's a path we could take, but that would require being responsive to PRs on the original PR.  It could also result in fragmented discussions occurring on those sub-PR threads rather than on the main PR thread.\n\nThank you for implementing it\n\nTo be clear, the original patch came from the user w23 on the OBS forums.  See this GitHub comment and this forum thread.\nAs always, if you want an official answer to any of these questions/issues, you'll have to wait for @jp9000 to have time to address them.. I also meant to ask, but does this have anything to do with any of the existing XComposite issues on Mantis, like these?\n\nhttps://obsproject.com/mantis/view.php?id=403\nhttps://obsproject.com/mantis/view.php?id=593\nhttps://obsproject.com/mantis/view.php?id=809\nhttps://obsproject.com/mantis/view.php?id=863\nhttps://obsproject.com/mantis/view.php?id=1064\nhttps://obsproject.com/mantis/view.php?id=1157\n\nThere may be others that I missed.. So it addresses Mantis 593?. You'll want to rebase/squash those commits into a single commit.  Or was this submitted with the GitHub web UI instead of through git?. So the \"32-bit:\" added to the log is for pixmap/color, not whether the app is 32-bit/64-bit or something else, correct?. I appreciate the extra clarity.  Thanks!. @SingularityAzure \nHave you had a chance to look at the issue described by @GloriousEggroll as well?  Thanks!. I'm pretty sure that the README was specifically changed away from Markdown to RST in this commit.. Apologies for my terse response earlier.  I should have grabbed a coffee first.\nHi!  Thanks for submitting your first OBS PR.  \nI've actually caught up on the discussion in the dev channel now.  This can mostly be done in RST, though image resizing/scaling and alignment seems hit-or-miss.  You can definitely embed images in RST though, so those parts are easily doable.. This sort of addresses Mantis 541, but uses Shift instead of Control.\nFails to build on Ubuntu 14, Ubuntu 16, and macOS CI.. @DDRBoxman For support reasons, could you explain what the crash condition is for this and if there is a way to avoid it or resolve it temporarily without this patch?. I noticed that this touches some of the lines that were commited in https://github.com/obsproject/obs-studio/commit/1b8ecae3b9e75d44228f34b7bcf13ee9baa06476.  Does this still avoid that potential race condition?. Unfortunately, gitignore does not apply to files that are already tracked, such as a file that exists in the repo that gets updated.. Tab in twice for statement continuations (lines 2584-2586).\n. Tab in twice for statement continuations (lines 3105-3106).\n. Style nitpick:  There's a trailing space on line 2587.  Remove it.\n. Style:  Don't indent case statements in a switch-case.  Align switch and its subordinate case labels.  Indent contents of each case.\n. Style:  Don't indent case statements in a switch-case.  Align switch and its subordinate case labels.  Indent contents of each case.\n. Style nitpick:  I think the indent for multi-line if statement conditions is four spaces (to match \"if (\").  See lines 383-384 as an example of this.\nSide note:  I do not know how that works with \"else if\" statements.\n. Style:  Tab twice for a continuation of a previous line.  See also other instances of single tab continuations throughout.. Style:  Opening curly brace ( { ) should go on the same line as the struct definition.  See also other similar lines below.. If you check plugins/obs-filters/color-filter.c for its equivalent line for this, it uses three tabs relative to its parent line.  I'm honestly not sure if two or three extra tabs is the desired style for this.. Style:  Curly braces should be on the same line as non-function statement blocks (if, else if, else, switch, for, while, do).  See Line 191-192 and 200-201.. Spelling nitpick:  \"alow\" should be \"allow\". Spelling nitpick:  \"assoicated\" should be \"associated\". This line goes over the 80 character limit.  Insert a line break after \"&network_caching_option,\" (right after the comma), delete the proceeding space character (right before the double quotation mark), and insert two tabs to indent.. This line goes over the 80 character limit.  Insert a line break after \"new_media,\" (right after the comma), delete the proceeding space character (right before \"network_caching_option.array\"), and insert two tabs to indent.. This line goes over the 80 character limit. Insert a line break after \"dir_path.array,\" (right after the comma), delete the proceeding space character (right before \"network_caching\"), and insert two tabs to indent.. This line goes over the 80 character limit. Insert a line break after \"100,\" (right after the comma), delete the proceeding space character (right before \"3600000\"), and insert two tabs to indent.. This left brace ( { ) on line 555 should be at the end of the preceding line (line 554).. The asterisk should immediately precede the parameter name.\n\"char filename\" should be \"char filename\". The asterisk should immediately precede the function name.\n\"char obs_get_replay_buffer_filename\" should be \"char obs_get_replay_buffer_filename\". The asterisk should immediately precede the function name.\n\"char obs_get_replay_buffer_filename\" should be \"char obs_get_replay_buffer_filename\". The asterisk should immediately precede the function name.\n\"char get_latest_replay_buffer\" should be \"char get_latest_replay_buffer\". You do not need braces for this if statement, since its contents are only a single statement and it has no \"else if\" or \"else\" branches that need branches.\nhttps://github.com/torvalds/linux/blob/master/Documentation/process/coding-style.rst#3-placing-braces-and-spaces. The asterisk should immediately precede the parameter name.\n\"char filename\" should be \"char filename\". Add a space on each side of the multiplication operator (asterisk).. Add a space on each side of the multiplication operator (asterisk).. Style:  Use two tabs for a continued/multi-line function declaration.. Style:  The asterisk should be next to the variable name when declaring a pointer.  Use \"const char path\".. Style: Place spaces around the equality operator (==).  There is some inconsistency in the existing codebase about whether or not there should be spaces around the plus signs (+) inside the square brackets for the array index indicators, so I'll let @jp9000 comment on that.. Style: Places spaces around the plus sign (+).. Style: Place spaces around the equality operator (==).. Style: Places spaces around the plus sign (+).. Style: Use two tabs for a continued/multi-line function declaration.. Style: Don't make multiple variable declarations on one line.  Split this into:\nint i;\nint j;. Style: The asterisk should be next to the variable name when declaring a pointer. Use \"char option_str\".. Style: \"else if\" should be on the same line as the closing curly brace above on the previous line.. Style: Places spaces around the plus sign (+) and minus sign (-).. Style: \"else\" should be on the same line as the closing curly brace on the previous line.. Style: Places spaces around the plus sign (+).. Style: Places spaces around the plus sign (+) . Style: Place spaces around the equality operator (==).. Style:  Lines 460-461 can actually be one line since they do not exceed 80 characters.\nInstead of:\noption_str = malloc((option_len + 1) *\n                sizeof(char));\nuse:\noption_str = malloc((option_len + 1) * sizeof(char));. Style: Lines 482-483 can actually be one line since they do not exceed 80 characters.\nInstead of:\nif (!custom_network_caching &&\n                option_len > 17) {\nuse:\nif (!custom_network_caching && option_len > 17) {. Spelling/Grammar: \"follow\" should be \"follows\"\nThese lines (1-4, or 2-4) could be wrapped much wider, as they have about 30 characters to spare before hitting the 80 character limit.\nAlso, I'm not sure about using \"Linux Kernel Conventions\"?  As far as I know, the phrase describing the coding style of OBS is one of these:\n\nkernel normal form (linux variant)\nKNF (Linux)\nLinux kernel coding style\n\nSee CONTRIBUTING.rst.. Missing new-line at the end of this file.. Style: Use spaces around the arithmetic operators, unless it would somehow break the define.. Style:  Remove this empty line.. Style:  This curly brace should be at the end of the preceding line (on the same line as the \"switch\" statement).. Style:  Lines 47-58 should be indented with a single tab instead of using spaces.. Style:  Lines 63-66 should be indented with a single tab instead of using spaces.. Style:  Lines 71-72 should be indented with a single tab instead of using spaces.. Style:  Remove this empty line.. Style: This curly brace should be at the end of the preceding line (on the same line as the \"struct\" declaration).. Style: Remove this empty line.. Style: This curly brace should be at the end of the preceding line (on the same line as the \"switch\" statement).. Style: This curly brace should be at the end of the preceding line (on the same line as the \"switch\" statement).. Style: This curly brace should be at the end of the preceding line (on the same line as the \"switch\" statement).. Style: This curly brace should be at the end of the preceding line (on the same line as the \"switch\" statement).. Style:  Don't break long lines for user-visible strings.  See CONTRIBUTING.rst.\nNormally, we break at 80 characters, though the Linux coding style document indicates that we shouldn't break user-visible strings.  @jp9000 might have a different opinion on this, and his opinion would be the final word here.. Style:  Same as above.  Don't break long lines for user-visible strings.  See CONTRIBUTING.rst.. Style:  Not sure if this indentation is correct.  Normally, we'd indent with two tabs for long statements, but by one tab for long if statements.. Style:  Remove this empty line.. Style: Indent by one tab for long if conditions.. Style: Indent by one tab for long if conditions.. Style:  Remove this empty line.. Style: This curly brace should be at the end of the preceding line (on the same line as the \"enum\" declaration).. Style: This curly brace should be at the end of the preceding line (on the same line as the \"enum\" declaration).. Style: This curly brace should be at the end of the preceding line (on the same line as the \"enum\" declaration).. Style: This curly brace should be at the end of the preceding line (on the same line as the \"enum\" declaration).. Style: Indent by one tab for long if conditions.. Style:  Indent by two tabs for a standard line continuation.. Style:  Don't break user-visible strings.  See other comments about this as well.. Style: Don't break user-visible strings. See other comments about this as well.. Style: Don't break user-visible strings. See other comments about this as well.. Style: Don't break user-visible strings. See other comments about this as well.. Style: Don't break user-visible strings. See other comments about this as well.. Style: Don't break user-visible strings. See other comments about this as well.. Style:  Indent with two tabs for line continuations.  See also next line for this.. Style: Indent by one tab for long if conditions.  See also the next two lines.. Is there a reason this is a nested if statement instead of a compound condition in a single if statement?. Style:  Use spaces around arithmetic operators (here, the plus sign).. Spelling:  \"aquire\" should be \"acquire\". Style: Don't break user-visible strings. See other comments about this as well.. Style:  For multi-line comments, start a properly indented blank line with \"/\", then each proceeding comment line with \" * \", and then conclude the comment block with \" /\".  See the Linux kernel coding style section on commenting.. Style: Indent by one tab for long if conditions.. Style: Place pointer indicator (asterisk, *) directly to the left of the function name (*vaapi_rc_to_str).. Style: This curly brace should be at the end of the preceding line (on the same line as the \"switch\" statement).. Style:  Remove this empty line.. Style: This curly brace should be at the end of the preceding line (on the same line as the \"struct\" declaration).. Style: This curly brace should be at the end of the preceding line (on the same line as the \"struct\" declaration).. Style: #ifdef conditionals should not be indented.. Style: #endif conditionals should not be indented.. Style: Not sure if this indentation is correct. Normally, we'd indent with two tabs for long statements, but by one tab for long if statements.. Style: Indent by one tab for long if conditions.. Style: Indent by one tab for long if conditions.. Style: Indent by one tab for long if conditions.. Style:  Remove this empty line.. Style:  I don't see a reason to line break this.  It doesn't exceed 80 characters.. This block (395-405) is odd.  It places spaces between the called function name and the opening parenthesis.  I'm pretty sure you aren't supposed to do that.  If you're going to use spaces to align something, you could use them to align the second parameter in these calls.. Style: Don't break user-visible strings. See other comments about this as well.\nConsistency note:  I've seen \"vaapi\", \"VAAPI\", and \"VA-API\" throughout.  For printed strings, I'd suggest picking one style and using that.. To allow disabling of this module, add this here:\nif(DISABLE_VA)\n    message(STATUS \"VAAPI plugin disabled\")\n    return()\nendif(). To allow graceful failure/omission of this module if libva or other dependencies are not found on the system, add this here:\nif(NOT LIBVA_INCLUDES_FOUND AND ENABLE_VA)\n    message(FATAL_ERROR \"LibVA includes not found but set as enabled\")\nelseif(NOT LIBVA_INCLUDES_FOUND)\n    message(STATUS \"LibVA includes not found, VAAPI plugin disabled\")\n    return()\nendif(). Style:  Indent with two tabs for continuing a function definition.. Style:  Indent with two tabs for continuing a function definition.. Style:  Indent with two tabs for continuing a function definition.. Style:  Indent with two tabs for continuing a function definition.. Style:  Indent with two tabs for continuing a function definition.. Style:  Indent with two tabs for continuing a line.. Style:  Indent with two tabs for continuing a line.. Style:  Indent with two tabs for continuing a line.. Style:  Indent with one tab for continuing a control structure or loop statement (if, while, for, etc.).. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a line.. Style:  No need to put this on a separate line.. Style: Indent with two tabs for continuing a function definition.. Style: Indent with two tabs for continuing a line.  See also the other continuations of this line.. Style: Indent with two tabs for continuing a line.. Style:  Don't line break between the function return type and the function name in a function declaration.  The line length of the above two lines combined is 80 characters exactly, so you shouldn't need to line break here.. Style: Indent with two tabs for continuing a function definition.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a function definition.. Style:  Don't line break between the function return type and the function name in a function declaration.. Lines 217-221 (this blog call) are broken up in a manner that makes them difficult to read.  See the following examples:\n\nhttps://github.com/jp9000/obs-studio/blob/e006d961a479699921323dc1350939221dc0ed58/plugins/linux-pulseaudio/pulse-input.c#L195\nhttps://github.com/jp9000/obs-studio/blob/a2953d1161a3ed64946d2cfbd98cafcc04d19be8/libobs/obs-output.c#L304. Style:  Indent with two tabs to continue a line.  See also, the next two lines in this blog call.. Style:  Indent with two tabs to continue a line.  See also, the next two lines in this blog call.. Lines 262-266 (this blog call) are broken up in a manner that makes them difficult to read. See the following examples:\n\nhttps://github.com/jp9000/obs-studio/blob/e006d961a479699921323dc1350939221dc0ed58/plugins/linux-pulseaudio/pulse-input.c#L195\nhttps://github.com/jp9000/obs-studio/blob/a2953d1161a3ed64946d2cfbd98cafcc04d19be8/libobs/obs-output.c#L304. Style: Indent with two tabs for continuing a function definition.. Style: Indent with two tabs for continuing a line.. Style:  You don't need braces for single-statement if blocks.  See also, the else block attached to this if.. Style: Indent with one tab for continuing a control structure or loop statement (if, while, for, etc.).. Style: Indent with one tab for continuing a control structure or loop statement (if, while, for, etc.).. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a line.. You should probably keep the opening parenthesis here attached to the function call above.. Style: Indent with two tabs for continuing a line.  See also, next line.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a line.  See also, next line.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a function declaration.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a line.  See also, next line.. Style: Indent with two tabs for continuing a line.  See also, next line.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a line.. Style: Don't line break between the function return type and the function name in a function declaration.. Style: Indent with two tabs for continuing a line.. Style: Don't line break between the function return type and the function name in a function declaration.. Style: Indent with two tabs for continuing a function declaration.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a function declaration.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a function declaration.. Style: Indent with two tabs for continuing a line.. Style: Indent with two tabs for continuing a function declaration.. Style: Don't line break between the function return type and the function name in a function declaration.. Style: This file needs a newline at the end of it.. Style: Indent with two tabs for continuing a function declaration.. Style: Indent with two tabs for continuing a function declaration.. Style: Indent with two tabs for continuing a function declaration.  See also, next line.. Style: Indent with two tabs for continuing a function declaration.\nThis file needs to end with a newline.. Style: Don't line break between the function return type and the function name in a function declaration.. Style: Don't line break between the function return type and the function name in a function declaration.. Style: Don't line break between the function return type and the function name in a function declaration.. Style:  Indent with two tabs to continue a line.. Style:  Indent with two tabs to continue a line.. Style:  Indent with two tabs to continue a line.. Remove these extra tabs.. Style:  Indent with two tabs to continue a line.. Style:  Indent with two tabs to continue a line.. Style:  Put the if statement body on its own line, indented with one tab.. Style:  Use a single space before the curly brace.. Style:  Indent with two tabs to continue a line.. Style:  Indent with two tabs to continue a line.  See also, the next two lines.. Style:  Move this curly brace to the end of the previous line.. Style:  Indent with two tabs to continue a line.. Style:  Put the for statement body on its own line, indented with one tab.. Style:  There's no need to line break here.  This call to blog can be a single line.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.  See also, the next two lines.. Style: Indent with two tabs to continue a function declaration.. Style:  The proper camelCase here would be \"restrictResetBitrates\".. Style:  This line needs to be indented more to be in line with its surroundings.\nSingle line comments should use //.  Multi-line comments should be like this.. Multi-line comments should be like this.. Multi-line comments should be like this.. Style:  This curly brace should be moved to the end of the previous line.. Style: Indent with two tabs to continue a line.\nThat said, I'm not sure of the best place to place the line break for this.. Style: Indent with two tabs to continue a line.. Style:  An else should be on the same line as the closing curly brace for the previous if/else if block.  If one block of an if statement uses curly braces, every other block should as well, even if it's a single statement.. Style: Indent with two tabs to continue a function declaration.. Style: Indent with two tabs to continue a function declaration.. Style:  This else should be on the same line as the preceding closing curly brace.. There's a rogue tab here before the &&.  Was that meant to be a line break?. I'm pretty sure that this closing curly brace and the one below it are misaligned.. I wouldn't remove this line.  If you feel you must remove a blank line near here, I'd remove the one after it, and even then it doesn't do much good.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.. Style: Indent with two tabs to continue a line.. I hadn't noticed before, but it seems that Jim does have some commits in where he aligns the opening parenthesis after a function call.  Feel free to do the same, or leave them as is for Jim to comment on.. Proper camelCase would be restrictResetBitrates.  If you change it, make sure you change it in all instances of the name.. Style:  Indent with two tabs to continue a line.. Style:  Single line comments use //.  There is an extra space between \"bitrates\" and \"when\".. Style:  Single line comments use //.  There is an extra space between \"bitrates\" and \"when\".. Style: Indent with two tabs to continue a line.  See also, the line below.. Style: Indent with two tabs to continue a line.. Unnecessary \\ character at the end of this line.. Style:  This curly brace should be at the end of the previous line.. Style:  This comment should be indented by one more tab to be in line with the contents of the if block.. Style:  This curly brace and the else on the preceding line should be on the same block as the closing curly brace above them (lines 3480-3482).. Style:  This multi-line comment should be indented one more level.  After the first line, there needs to be one space preceding the asterisk.  Below is an example.\n/*\n         * reset channel and bitrates settings when Multichannel is switched OFF\n         * first reset channel menu and save new setting\n         */. Style:  Add a space before the asterisk for multi-line comment lines after the first line.. Style:  There should be a single space between \"LOG_INFO,\" and the quoted parameter after it.\nblog(LOG_INFO, \"Bitrates restricted to under 320kbs\");. Style: Add a space before the asterisk for multi-line comment lines after the first line.  See also, the next two lines.. Style:  Only use one tab to indent case block contents.. Style:  Add a single space on each side of the && operators.  See also, next line.. Style:  Indent with two tabs to continue a line.. Style:  This indentation should be consistent with the lines around it.. Style:  This indentation should be consistent with the lines around it.. License:  Is this actually okay?  I know that OBS itself is strictly GPLv2, so derivative works must have a compatible license, and this (in the GPLv2 option) is still compatible...  @dodgepong ?. Remove this blank line.. Remove this blank line.. This box here seems a bit mangled.  Give it some help to be a real box?. This box here seems a bit mangled. Give it some help to be a real box?. This box here seems a bit mangled. Give it some help to be a real box?. This file should end with a newline.. Ah, you're right.  I was thinking of this commit, but forgot it was GPLv2+ and not strictly GPLv2.  My mistake.. Style:  Files should end with a newline.. Style:  For consistency with other return statements, write \"FALSE\" in lowercase letters.. Style:  For consistency with other return statements, write \"FALSE\" in lowercase letters.. Style:  For consistency with other return statements, write \"FALSE\" in lowercase letters.. Style:  For consistency with other return statements, write \"FALSE\" in lowercase letters.. @canbal \nThe settings here would only override user specified settings if you had \"Enforce streaming service encoder settings\" checked (for Output Mode Simple: Settings > Output > Streaming > Enable Advanced Encoder Settings; for Output Mode Advanced:  Settings > Output > Streaming).. I think you have a leftover line from your AMF plugin.. Here's another leftover line from your AMF plugin.. Copyright years are generally meant to cover years of public releases of software, so this should probably be just 2017 like the rest of the files.. Style:  This should be indented from the if statement with one tab instead of two (two tabs total instead of three).. Style:  This if statement does not need curly braces since its contents only use one line.. Style:  This if statement does not need curly braces since its contents only use one line.. Style:  This if statement does not need curly braces since its contents only use one line.. Style:  This if statement does not need curly braces since its contents only use one line.. Style:  This if statement does not need curly braces since its contents only use one line.. Style:  This if statement does not need curly braces since its contents only use one line.. Style:  This if statement does not need curly braces since its contents only use one line.. Because the style guide linked to from this project's CONTRIBUTING document specifically says so:\n\nDo not unnecessarily use braces where a single statement will do.. I'm confused by this.  Why has the format_version changed?  Normally, we would increment the package version in plugins/rtmp-services/data/package.json, not the format_version here.  If changing the format_version here is correct, you would still need to increase the package version to indicate that the rtmp-services list has been updated.  See PR #971 as an example.. The copyright year should include the year the software was finished being prepared for release and each year a release was made.  Unless this file was previously released in 2014, this should say 2017 (the appropriate preparation and release years).  See this page for details.. The three lines above are oddly misaligned.  Either align them in some recognizable manner (variable name, assignment operator, etc.) or don't try to align them.. Style:  There's an extra space before the assignment operator (=).. Files should end with a newline.. See my earlier comment about copyright years.. Style:  Curly braces should be on the same line as if, if else, and else keywords.  This line and the previous line should be merged.. Style:  Multi-line comments should use /* */ rather than //.\n\n/*\n * This is the preferred style for multi-line\n * comments.\n */. Style:  Multi-line comments should use /* */ rather than //.\n/*\n * This is the preferred style for multi-line\n * comments.\n */. Style:  Curly braces are not needed for this if statement, since the contents of each branch is a single statement.. Style:  Curly braces are not needed for this if statement, since the contents of each branch is a single statement.. Style:  Curly braces are not needed for this if statement, since the contents of each branch is a single statement.. Style:  Curly braces are not needed for this if statement, since the contents of each branch is a single statement.. Style:  Curly braces are not needed for this if statement, since the contents of each branch is a single statement.. Style:  Curly braces are not needed for this if statement, since the contents of each branch is a single statement.. Style:  Curly braces are not needed for this if statement, since the contents of each branch is a single statement.. Style:  Curly braces are not needed for this if statement, since the contents of each branch is a single statement.. There's extra whitespace before the assignment operator (=).. This struct member definition is not aligned like the other members.. Style:  Curly braces are not needed for this if statement, since the contents of each branch is a single statement.. This struct seems to be meant to be aligned with the declarations below, but it is off by one space when compared to other alignments in this file.. There is a blank newline here that isn't mirrored in similar functions below.  For consistency, I'd suggest removing this newline, or adding one to each of the below functions.. Style:  Curly braces are not needed for this if statement, since the contents of each branch is a single statement.. Style:  Curly braces are not needed for this if statement, since the contents of each branch is a single statement.. Style:  When one branch of an if statement needs curly braces, use curly braces for all branches.. Not sure why this blank line has been added?. Style:  Place * next to the data/variable name rather than the type name.. Style:  Place * next to the data/variable name rather than the type name.. pulse_get_source_info (the function right below this one) uses type_name *data_name, so it's already inconsistent.  As I understand it from previous conversations with Jim, any additions/changes should follow the style guide.  You're welcome to change it or leave it.  I'm just making note of it.. noise-gate-filter.c is listed twice:  here, and line 38.  This one is alphabetically correct.. The apostrophe usage here indicates a namesake of multiple functions.  Is that the case?  This also occurs in a few other places throughout this PR.. \"Filter\" is capitalized here, but doesn't seem to be in other comments.  Is this intentional?. Spelling:  \"far\" should be \"for\". Style:  Indent with two tabs instead of one for a line continuation.. Aren't #ifdef preprocessor directives normally placed with no indentation?. This is indented with three tabs.  I've seen both one tab, two tabs, and spaces used for indenting continued if statement conditions.  I do not recall which is correct here.  Jim, of course, is the final arbiter there.. I meant about this particular comment attached to this particular function.  If this comment is describing this single function's purpose, then it would make more sense to be worded:\n\nAs the function's namesake, this provides the user facing name\n\nAs I'm rereading this though, using \"namesake\" doesn't really make sense either, since \"namesake\" is typically used when referring to a person who is named after another person (or the person from whom another's name originates).  The function isn't name after/for anything else, as far as I know.  I think you're trying to say that the function name indicates its purpose?  If so, it would make more sense altogether to use this:\n\nAs the function's name implies, this provides the user facing name. I think in this instance, it is appropriate to write \"filter\" with all lowercase letters.. I'm pretty sure #ifdef and other preprocessor statements are not indented in the rest of the project.  Though, you're free to check around other usages or check with Jim.. You seem to have introduced a byte order mark here.  The other files also seem to have them.  You should remove them by encoding the files as UTF-8 without BOM.. You have an open parenthesis here that is never closed.  This is also carried over to other files.  Admittedly, this is in a comment, so it's just a grammatical error that bothers me.. > pre-c99 compilers\n\nIn at least one other file you capitalize this as \"pre-C99\", which is probably how it should be written.. Style:  Indented with three tabs instead of two.. Remove this blank line between the comment block and its associated function.. Style:  This curly brace should be at the end of the preceding line.. Style:  This if statement doesn't need curly braces.  If it actually does need curly braces due to some oddity of being a .effect file that I'm unaware of, then move the opening curly brace to the same line as the if statement.. Style: This curly brace should be at the end of the preceding line.. Style: This curly brace should be at the end of the preceding line.. Style: This line and the preceding two lines (lines 121-123) should be on the same line, like so:\n} else {. Style: This line and the preceding two lines (lines 129-131) should be on the same line, like so:\n} else {. Style: This curly brace should be at the end of the preceding line.. Style: This curly brace should be at the end of the preceding line.. Style: This line and the preceding two lines (lines 138-140) should be on the same line, like so:\n} else {. Style:  Use tabs for indentation instead of spaces.. Weird.  I don't think VS2015 has that issue.. Supposedly it's fixed in the latest VS2017 update as of 20 hours ago?  I haven't verified that.\nhttps://developercommunity.visualstudio.com/content/problem/21744/vs2017-rc-breaks-the-encoding-of-my-files.html#reply-93979. Style:  There's an extra space after the tab indentation here.. I suggest that you reconsider your usage of dots/periods in language string names.  From what I've seen in the other OBS language files, the dot/period is usage to indicate some level of organization or categorization.  If they're used across multiple filters, they might not need a group/prefix.  If they are specific to a certain filter, then I would prefix the language string name with the filter name (e.g., \"NightVision.\" or \"NightVisionFilter.\").\nIf you do adjust the language string names, be sure to adjust them elsewhere in the PR as well.. Style:  Braces must have a single space separating them from other code.. Style:  This if-else statement block has curly braces on distinct lines.  Place them on lines adjacent to the if and else statements.. Style:  Indent with two tabs for line continuations.. Style:  Indent with two tabs for line continuations.. Style:  Indent with two tabs for line continuations.. Style:  This for loop has curly braces on distinct lines.  Place the opening curly brace on the same line as the for statement.. Style:  This if statement doesn't need curly braces.. compressor_filter is listed twice (line 13, line 17).. As far as I know, there's no reason to tab indent this, since the surrounding content is not indented.. #if preprocessor directive doesn't need to be indented, as far as I know.  The content inside can be indented to match the indentation of its surroundings (see the code before you modified it).. Style:  Place the opening curly brace for this struct on the same line as the struct definition.. Old version or debug code commented out here?. Style:  Indent with two tabs for line continuations.\nYou established in an earlier review that long if statement conditions are indented with two tabs.. Style:  Indent with two tabs for line continuations.\nYou established in an earlier review that long if statement conditions are indented with two tabs.. Style:  Place this opening curly brace on the same line as the if statement on the preceding line.. Style:  Indent with two tabs for line continuations.\nYou established in an earlier review that long if statement conditions are indented with two tabs.. Style:  Place this opening curly brace on the same line as the for statement on the preceding line.. > I asked Jim and he said it didn't matter\n~~Reading the chat log for that particular conversation, that's not what he said.  I assume this comment was before Jim clarified?~~\nI've edited this post to provide context to the conversation before edits in previous replies happened.. Could you provide an example?  I've only ever seen dots/periods used for grouping in the OBS lang files.  The lang strings for the compressor filter are a simple example.. If this is referring to a single pixel, use the singular possessive \"pixel's\" with an apostrophe followed by the letter \"s\".  If it's referring to a group of pixels, disregard this request.. Style:  Place this opening curly brace at the end of the preceding line.. If this is referring to a single pixel, use the singular possessive \"pixel's\" with an apostrophe followed by the letter \"s\".  If it's referring to a group of pixels, disregard this request.. Consider using a regular boolean rather than a boolean bitfield.  There was a recent commit (https://github.com/jp9000/obs-studio/commit/9e95b2eb6fb3dc5a1c8659c0a90cdeb52ea6b051) that converted boolean bitfields to regular booleans because the savings either weren't significant enough or the tradeoffs didn't make sense.  @notr1ch can probably elaborate if needed.. I'm actually not sure about the correct indentation for struct variables.  Have you checked for other instances like this?. No worries about the cross-edits and such.  I've provided some contextual edits to my own reply above, to hopefully keep this thread from being confusing in the future.. It seems like this is fixed in part of the file, but it hasn't been fixed at this specific location yet.. You've missed a quotation mark here right after the equal sign.. I personally don't see the need for blank lines surrounding the #if preprocessor directives here and below.  I'm not aware of a specifically preferred style for this project, but previous versions of this file don't seem to have them.  See the plugins/obs-filters/obs-filters.c@20.0.1 for comparison.. Same here.. Spelling choice nitpick.  I noticed that you did change \"greyscale\" to \"grayscale\" throughout, but there seem to be 5 instances here and on the next three lines that didn't get caught.. Consistency nitpick.  Here you use \"X-Offset\" and \"Y-Offset\" while further down you use \"X Offset\" and \"Y Offset\".  I have no preference on either, but it should be consistent.. In the full language string, you use the abbreviation \"No.\" instead of the word \"Number\".  Was there a particular reason for that (UI/UX issues displaying the string)?  I couldn't find any real precedent in the existing code base, and the only example of either usage/phrasing I could find was in the linux-jack plugin.. Style:  Indent with two tabs for line continuations.. Style:  Indent with two tabs for line continuations.. Style:  I'm pretty sure you don't need curly braces at all for this if statement because it reduces down to single statements in each branch.  If you find that you do need them for the top level if and else branches, then place this else if on the same line as the preceding curly brace.. Style:  This if statement does not need curly braces because its body is a single line/statement.. Style:  Indent with two tabs for line continuations.  See line 652 (line 620 before patch edits) below as an example.. Style:  Since one branch of this if statement requires curly braces, all branches must use curly braces.  See the end of this section of the style guide:  Placing Braces and Spaces.. Style:  The line length limit is a strongly preferred 80 columns.  This should be broken into two lines and properly indented.. Style:  I don't believe Jim uses one-line if statements.  Break this into two lines and properly indent it.. Style: The line length limit is a strongly preferred 80 columns. This should be broken into two lines and properly indented.. I'm pretty sure you don't have to specify \"common\": false.  False is assumed if the common property is not provided.. Style:  Missing newline at end of file.. Style:  Asterisk should be next to data/function name instead of data/function type.  Same for throughout the file.. Struct should end with a semi-colon.. Style:  There's no real reason to line break for this argument list since the previous line doesn't exceed the line column limit.  Make this function definition one line.. Style:  Place this curly brace at the end of the preceding line with a space before it.. Style:  case keywords should be aligned with the parent switch keyword.. Style: Place this curly brace at the end of the preceding line with a space before it.. Either align these assignment operators (equal signs, =) or leave them unaligned with just single spaces around them.. Align navigation_keys with spaces instead of tabs.. Please don't make non-English language file changes via GitHub.  Instead, please use Crowdin.. Style:  The line length limit is a strongly preferred 80 columns.  Please break this line accordingly (between s->is_hw_decoding, and s->is_not_seekable).. Minor nitpick:  Place a colon (:) after the text label is_not_seekable.  Don't forget to remove a space between the label and the data to keep everything aligned.. Style:  This isn't properly wrapped at 80 columns.  Tabs are 8 columns, so this and the below line should be written like this:\npreload_frame, s->is_hw_decoding,\n                s->is_not_seekable, s->range);\nEach line is indented with four (4) tabs.. Style:  Indent with tabs instead of spaces here.  See comment immediately above for more info.. Style:  This line and the line below can be on one line without hitting the 80 column line length limit.. Style:  Use 2 tabs for indenting line continuations.  See also the next two lines.. Style:  Use 2 tabs for indenting line continuations.. This indentation appears to be missing one space.. Style:  This curly brace should be at the end of the preceding line, placed after the if conditions and a single space.. Style:  Separate the opening parenthesis for the conditions from the if keyword by one space.. Style:  The blog call should be on its own line, indented by one tab.. Style:  Indent line continuations with two tabs.. Style:  Indent line continuations with two tabs.. Style:  Indent line continuations with two tabs.. Style:  Line breaks occur after 80 columns.   Lines 323-324 can be a single line.. Style:  Break this line to not exceed 80 columns, and indent continuations with two tabs:\nstream->switch_variable_bitrate = obs_data_get_bool(params,\n                \"dynamic_variable_bitrate\");. Style:  Move this line to the end of the preceding line:\n} else {. Style:  Avoid declaring multiple variables on a single line.. Style:  Break lines so they don't exceed 80 columns.  Here is a suggested adjustment:\nstream->mean_congestion = stream->mean_congestion +\n            (congestion - stream->congestion_array[counter]) /\n            CONGESTION_ARRAY_SIZE;. Style:  Do not put spaces between parentheses and their enclosed contents.. Style: Do not put spaces between parentheses and their enclosed contents.. Style:  Break lines to avoid exceeding 80 columns.  Suggestion:\nobs_properties_add_bool(props, \"dynamic_variable_bitrate\",\n            TEXT_DYN_BITRATE);. Style:  Indent line continuations with two tabs (Lines 341-342).\nDon't put a space between (AVRational) and the opening curly brace after it.. Style: Indent line continuations with two tabs.. Style:  Don't put a space between (AVRational) and the opening curly brace after it.. Coudn't this be if (!dst) or  if (obs_source_valid(dst, \"obs_source_copy_filters\")) instead?\nFor that matter, should we also be checking the validity of the source?  If a user copies filters from a source, but deletes that source before pasting the filters, OBS will also crash.. Style:  Tab twice to indent a line continuation.. Style:  Tab twice to indent a line continuation.. Style:  Tab twice to indent a line continuation.. Style:  Tab twice to indent a line continuation.. Style:  Tab twice to indent a line continuation.. Style:  Tab twice to indent a line continuation.. Style:  Could use a blank newline between this line and the next line.. Style:  Curly braces are not needed for this if-else statement.. Style: Could use a blank newline between this line and the next line.. Why not just return output->info.get_bitrate_state(output->context.data);?. Maybe add a doc-comment above this function?. Should be } else {. Missing comment?. Unnecessary newline.. Unnecessary newline.. Style:  This if statement does not need curly braces.. Unnecessary newline.. Style:  This if statement does not need curly braces.. Unnecessary newline.. Style:  Math operators should always be surrounded by a single space on each side.. Style: Math operators should always be surrounded by a single space on each side.. Style:  This if statement does not need curly braces.. Style:  Don't put multiple statements on a single line.. Style:  Don't put multiple statements on a single line.. There's an extra space before the equal sign.. Isn't this break unreachable?. In that case, I think the if statement does not need curly braces if it only contains a single-line statement.. Style:  This indentation is inconsistent with other indentations in this file.  Use a single tab for this line, and an additional tab for related lines.. Is there a reason to not use if(UNIX AND NOT APPLE)?. If the difference between Linux and not Linux is a single file, could you instead set all the platform-independent files as obs-ffmpeg_SOURCES first and then do:\nif(<linux/unix check>)\n    set(obs-ffmpeg_SOURCES\n        ${obs-ffmpeg_SOURCES}\n        obs-ffmpeg-vaapi.c)\nendif()\nOr does the order of the source files specified in obs-ffmpeg_SOURCES matter?. The proper capitalization is \"FFmpeg\".. Style:  This line exceeds 80 characters.  Insert a newline and tab-indent twice after AW_HWDEVICE_TYPE_VAAPI,.. Style:  Remove the unnecessary space between 0 and ).. There is a \"2.\" here, but no \"1.\" above?. Style:  This if-else statement does not need curly braces as the contents of each block are single statements.. Style:  This line appears to be indented inconsistently with the surrounding lines.. To cut down some indentation levels, couldn't you do this instead?\nif (!enc->initialized)\n    goto cleanup;\nThen place the current contents of the if block after that test and place a cleanup label above the last section of this function.  Would that work the same as this current setup?. This blank newline doesn't really seem necessary.. Style:  Place one space on either side of the == operator.. Style:  Place a space between if and (.. Style:  This if statement does not need curly braces.. Style:  Don't put multiple assignments on a single line.. The proper capitalization is \"FFmpeg\".. The proper capitalization is \"FFmpeg\".. Style:  The opening curly brace for a function should be on the line after the parameters.. Style:  The opening curly brace for a function should be on the line after the parameters.. I don't think you need to specify \"enum\" before the argument, at least in C++.  Just specifying obs_peak_meter_type seems to be sufficient.  If you change this here, please be sure to change it throughout the rest of the C++ code.. Since peakMeterTypeIdx is a uint with only two possible values, and a default of 0, would casting peakMeterTypeIdx to obs_peak_meter_type make more sense here?  I tried to find examples of either code style in the existing OBS codebase, but I've struggled to find applicable examples.. VS2017 didn't seem to care when I tried it, compiled it, and ran it.  I'd guess that's because it is in a function definition that is in a C++, regardless of where obs_peak_meter_type is declared/defined.  However, I don't know if VS2017 does some work behind the scenes to make these behave equivalently, and I'm admittedly not familiar with all the ins and outs of C.  Do other compilers complain about this?. I couldn't speak to whether or not it is proper code style to cast between integer and enum, here or elsewhere.  The code style documents for this project don't mention anything specifically when casts are and aren't appropriate.  I know casts are used elsewhere in this project, and I know that enums are sort of ints.\nYes, I will agree that this makes it clear which peakMeterTypeIdx corresponds to which value for the obs_peak_meter_type enum.  It just seemed like a large chunk of code (used more than once) for what seems to be type juggling.. A break; statement is not required for the last case.. Consider combining case 0 and default.  Though, if you do, take care not to accidentally introduce an implicit-fallthrough warning.. I found some examples of code examples in OBS that shows enums declared/defined in C (not typedefs, plain enums) but called in C++ that do not use the enum keyword.\nhttps://github.com/obsproject/obs-studio/blob/189e535014287a7c4999e716c2edb5fc07244b19/libobs/obs.h#L980\nhttps://github.com/obsproject/obs-studio/blob/9a1c27accbb2aaeb07d84d24177944df1fd2995c/UI/window-basic-main.cpp#L650\nI haven't found an example showing that you can also drop the enum keyword for C enums that are used in C++ function definitions.. I consulted with Jim on this one.  He said it doesn't particularly matter, though it's probably better to have it just as a programming safety measure.\nSince you probably got an email notification for the original comment, I'm going to leave it here to avoid confusion.. I found an example in OBS code of type casting between int and enum:\nhttps://github.com/obsproject/obs-studio/blob/189e535014287a7c4999e716c2edb5fc07244b19/libobs/obs.h#L980\nhttps://github.com/obsproject/obs-studio/blob/61839d8c94466a3d762837f2e198d982ef5a1eb6/UI/adv-audio-control.cpp#L304\nhttps://github.com/obsproject/obs-studio/blob/61839d8c94466a3d762837f2e198d982ef5a1eb6/UI/adv-audio-control.cpp#L98\nOBSAdvAudioCtrl::monitoringTypeChanged seems like a good example.. You should probably use \"NVENC.SpatialAQ.Strength\" for the string name and place it below \"NVENC.SpatialAQ\".. You should probably use \"NVENC.RCLookahead\" here.. Use \"NVENC.Surfaces\" here.. Use \"NVENC.ForcedIDR\" here.. If you want to abbreviate \"Spatial AQ Strength\" for the variable here, perhaps \"saqstrength\" would be slightly more appropriate?. You added a tab character here.  Please remove it.. Style:  This if should have its opening curly brace at the end of this line.. You changed the whitespace in this section.  Please revert your whitespace changes and present only the functional changes.. You aren't exposing these options to the user.  They're just being forced to their non-default settings.  Why?. Instead of adding this if block here, I think it would be better placed below the block of av_opt_set_int calls below.. The default setting for aq-strength (spatialaqstrength) should be 8, according to FFmpeg.. You changed the whitespace here.  Please revert this change.. Style:  Tab in twice to indicate a line continuation.. Style:  Tab in twice to indicate a line continuation.. Style:  Tab in twice to indicate a line continuation.. Style:  Tab in twice to indicate a line continuation.. Style:  This line can safely be at the end of the preceding line without exceeding the column limit.. Style:  This line can safely be at the end of the preceding line without exceeding the column limit.. Style:  This line can safely be at the end of the preceding line without exceeding the column limit.. Style: Tab in twice to indicate a line continuation.. Style: Tab in twice to indicate a line continuation.. The range for surfaces should be an integer from 0 to 64.  These three numbers should be 0, 64, 1. The default setting for surfaces should be 0, according to FFmpeg.. These comments seem excessively indented?. Nitpick:  Comment ends in punctuation, but does not seem to start as a sentence.. I always review from GitHub, initially.  In Notepad++, with a tab-size of 8 (this project's setting), it looks just like GitHub's representation.\n\nIn VS2017:\n. Style:  Use tabs instead of spaces to indent lines.. Style:  For a single line comment, using // is fine.  Otherwise, if using /* */, just use a single space between the comment markers and the contained text.. Style:  Move this curly brace to the end of the preceding line.. Style:  Kind of a nitpick, but put a space between the // and the text.. Spelling:  \"elaspedTime\" is misspelled as such throughout the PR.  It should be \"elapsedTime\".. Nitpick:  If you swap the if branches by reversing the condition here (remove the !), you save one character and an extra operation.. Nitpick:  If you swap the if branches by reversing the condition here (remove the !), you save one character and an extra operation.. Nitpick:  There seems to be an extra pair of parentheses here?\n(((float)value / 100.0f))\nCould be:\n((float)value / 100.0f)\nYou might not even need the parentheses grouping here since, as far as I can tell, division and multiplication have the same precedence and are evaluated left-to-right.  Since it wouldn't save enough characters to save a line, whether or not to have the grouping at all is probably a non-issue.  There's still an extra pair of parentheses though, so I'd at least address that.. Although it would break pattern with the other functions below, using an early return here would reduce indentation and line count:\n```\nif (!source)\n    return;\nif ()...\n. Nitpick:  If you swap the `if` branches by reversing the condition here (remove the `!`), you save one character and an extra operation.. Style:  This `if` statement does not need curly braces.. Style:  This `if` statement does not need curly braces.. Style:  This `if` statement does not need curly braces.. Style:  This `if` statement does not need curly braces.. Style:  This `if` statement does not need curly braces.. Style:  This `if` statement does not need curly braces.. Style:  This `if` statement does not need curly braces.. Style:  Use two tabs to indent a line continuation (here and the next line).. You should add a license header to the top of this file.. Instead of calling `obs_media_get_state(source)` repeatedly, consider either a `switch` statement, where the condition is evaluated once, or storing the result of `obs_media_get_state(source)` in a variable and then using that in the `if` condition checks.. Same as Line 80 above regarding `obs_media_get_state(source)`.. Same as Line 80 above regarding `obs_media_get_state(source)`.. Add a license header to the top of this file.. Missing the `return` keyword here before `OBS_MEDIA_STATE_NONE`.. There are extra parentheses here.  It should be:\n    float seconds = ((float)value / 100.0f) *\n            obs_media_get_duration(source);\n```\nYou might even be able to lose the first pair of grouping parentheses since the equation should be evaluated left-to-right, which would allow this to be one line.  Up to you on that last part though.. Style:  Extra tabs here.  You can remove two.. You've returned a non-void here which is causing a compile failure on macOS.. You've returned a non-void here which is causing a compile failure on macOS.. Removed commented line if no longer needed.. Remove commented out code section if no longer needed.. Style:  Put a space on each side of a math operator.. Remove commented out code section if no longer needed.. Style:  It seems the example Jim gave you used two tabs to indent here, but you used spaces.  Please switch to two tabs here for now.. Style:  Do not use curly braces for this if-else block.  But do leave a blank line after it where the last brace would have been.. Style:  Remove the curly braces from just this if statement.  Leave a blank line where the closing curly brace would have been.. Style:  Replace the spaces used to further indent this line with a single tab.. Style:  Remove the curly braces for this if statement.  Make sure to leave just one blank line between it and the switch statement below.. Style:  Replace the spaces used to further indent this line with a single tab.. Style:  Separate the declarations for dy and max_y into two separate statements:\nuint32_t dy = srcdata->max_h;\nuint32_t max_y = dy;. There's not really a reason to align like this here though.  You might align things like sequential variable declarations or maybe complex multi-line if conditions (text-freetype2.c:379, libobs/obs.c:980, libobs/obs.c:1200).  The sole exception in your examples is libobs/obs.c:968, and I can't really speak to that one.  Jim provided an example that used tabs, and the project normally uses tabs for the situation where you've used spaces.. There were, and if Jim ultimately wants to make multiple declarations on one line for whatever reason, that's his prerogative as maintainer.  For the purposes of my reviews though, if you've changed that line for a functional purpose, you might as well change it to better comply with the style guidelines.. Probably don't need to make this change unless you were already changing the line functionally for some other reason.. Style:  Don't add extra indentation to case statements.. Style:  Remove the curly braces for this if statement.. Style:  Remove the curly braces for this if statement.. Spelling:  Use either \"premultiply\" or \"pre-multiply\".  Other variants of \"premultiply\" occur throughout here, so you should probably keep them all consistent.. Style:  Separate the variable name and the operator with a single space.. Style:  Separate the variable name and the operator with a single space.. Style:  Use two tabs to indent this line continuation.. Style:  Use two tabs to indent this line continuation.. Spelling:  \"Kawas\" should be \"Kawase\".. Style:  Remove the curly braces for this if statement.. Style:  Multi-line comments should use /* */.. This line and the next seem to be duplicates?\nStyle:  Multi-line comments should use /* */.. Style: Use two tabs to indent this line continuation.. Style: Use two tabs to indent this line continuation.. Style: Use two tabs to indent this line continuation.. There seems to be an extra newline here?. Because the results of both \"fail\" branches are the same, I think this if statement can be rewritten like this:\nif (drawablePreview && live_drawable_type) {\n        preview->show();\n        connect(preview.data(), &OBSQTDisplay::DisplayCreated,\n                addDrawCallback);\n    } else {\n        preview->hide();\n    }. Style:  Use this format for multi-line comments:\n```\n/\n * text\n * goes\n * here\n /\nSorry, I should have been more specific in my initial request.. In comments, please capitalize \"Kawase\" as it is a proper name.  Variable names can follow whatever naming/capitalization convention being used (snake_case, camelCase, etc.).  Be sure to check this throughout.. Is the null check (!source) required here?  Doesn't obs_source_enabled(source) already do this check?  See libobs/obs-source.c#L3543 and libobs/obs-internal.h#L60 (lines 60-75).  If source would be evaluated as false, then obs_object_valid would return false, and then obs_source_enabled would return false, so !obs_source_enabled would be true if !source is true.  Similarly, if the source is valid and enabled, then !obs_source_enabled would be false and !source would also be false.  It seems to me that the !source condition would never be evaluated when !obs_source_enabled is true, and whenever it is evaluated, !source will always be false.\nI realize that removing !source here may make it seem unbalanced compared to the one in ShowSource above.  Something to consider.. Spelling:  \"Dowstream\" should be \"Downstream\". Everywhere else has \"Downstream Keyer\" capitalized as such.  Is there a particular reason to lowercase it here?. This whitespace change seems unrelated to the rest of the PR.  You should revert this.. This whitespace change seems unrelated to the rest of the PR. You should revert this.. Style:  Use two tabs to indent from the original line.. You need to make sure transitionButton is defined before acting on it.  For example, swapScenesMode can be true even when not in Studio Mode, but transitionButton wouldn't be defined then.  In this state, you can cause OBS to crash by doing this:\n1. Make sure Studio Mode is disabled (use the regular single preview pane layout).\n2. Transition to another scene.\nChecking if (transitionButton) should be sufficient.. This whitespace change is not related to the PR at hand.  Please remove it.. Style:  This if statement does not need the curly braces, because it only contains a single statement.  Remove the braces.. Style:  Use tabs instead of spaces here.. Style:  Use tabs instead of spaces here.. Style:  Indent the contents of the if.. Revert this change.  The file needs a newline at the end.. Style:  Add a newline to the end of this file.. Style:  Remove the extra spaces around the parentheses here and the next line.. Style:  This if statement does not need curly braces.  Remove them.\nIs there a particular reason to use !isVisible() instead of the slightly shorter isVisible()?. Style:  Functions should have their opening curly brace on a separate line.. Style:  This if statement does not need curly braces.  Remove them.\nWould if (propertiesView) be sufficient here?. Style: Functions should have their opening curly brace on a separate line.. Style:  This if statement does not need curly braces.  Remove them.\nWould if (data) be sufficient here?. Style:  This and the next two lines are tabbed in way too far.  Please fix that.. Style: Functions should have their opening curly brace on a separate line.. Style:  Use tabs to indent instead of spaces.. These three function declarations can probably be grouped without blank newlines.. Style:  Use OBSPropertiesView *propertiesView; instead.. Style:  This seems to be an unnecessary whitespace change.  Please revert it.\nThis file seems full of changes like this.  Maybe a find-replace gone bad?. I'd leave max_attempts at 10 to avoid changing behavior from the original script.. I'd leave interval at 1000 (ms) to avoid changing behavior from the original script.. You would need to update this comment to reflect that it stops attempting after max_attempts rather than after 10 seconds.. setings should be settings. setings should be settings. I think that \"attempts\" should be \"max_attempts\" to keep it consistent with the script variable name.  If you change this here, make sure to change it throughout.. Keep this blank line.  You might also want to add a blank line before the return props line.. Style:  It seems like the preferred style in CMake is if(<condition>).  Remove the space after if.. Style:  It seems like the preferred style in CMake is endif().  Remove the space after endif.. Style:  Tab once instead of twice to indent.  Think of the contents of set as enclosed rather than continued lines.. Style: Remove the extra spaces in the SIGNAL() call.. Style: These lines are indented too far.  Use two additional tabs from the original indent for continued lines.. Would if (data) be sufficient?  Or does this require a stricter check?. Remove this extra blank line.. Style:  This line is too long and needs to be broken.\nDoes this need to explicitly be a const char for os_mkdirs below?  It seems like obs_data_save_json_safe expects path to be a const char, but you use a char* for that.  If you were able to safely remove the const, this line does not need broken.. Style: This line is too long and needs to be broken.. Style: Functions should have their opening curly brace on its own line.. Style: This line is too long and needs to be broken.. Remove the extra space before the ending semi-colon.. Style:  Use tabs to indent.\nDid these declarations need to be moved, or could they be edited in place?. Place a blank newline above this line.. Style:  Use tabs to indent instead of spaces.. You can probably remove this blank line to group GetWidth() and GetHeight().. Style:  Remove the space between the ] and the (.  Put the opening curly brace at the end of this line.\nLambdas don't seem to have a single style in the project, but I prefer them with the changes requested here.. Style:  This line is too long, so it needs to be broken up.. Style:  Place the opening curly brace on its own line.. Style: Place the opening curly brace on its own line.. Style:  Use tabs to indent instead of spaces.. Is it possible to group/order these includes better?. I'm confused by this error message.  If curDevice is nullptr, the error says \"without nullptr device\"?. If this is just commented out for testing, you'll want to remove this and the following blank line before getting merged.. Style:  This line is too long, so it must be broken up.. Style:  Please move this opening curly brace to its own line.. Style:  Indent with tabs instead of spaces.. Style:  Add a newline to the end of this file.. Style: This line is too long and must be broken up.. Style: This line is too long and must be broken up.. Style:  These are indented too far.. Style:  This if statement does not need curly braces.. Style:  This line is too long. Style: This line is too long. Remove this blank line.. Put a blank line before this one to separate it from the if above.. Style:  Indented too far.. Style: Indented too far.. Style:  Place the opening curly brace on its own line.. Style:  Does not need curly braces.. Style:  Use tabs to indent instead of spaces.. Style:  Indented too far.  See also instances below.. Style:  Remove curly braces.. Style:  Tab twice.. Remove this blank line.. Style:  This needs line-broken differently.  Multiplication order doesn't matter, so you can probably lose the grouping parentheses.. Style:  Revert this change.. Style:  Revert this change.. Style:  Needs line-broken at the first (.. Style:  Needs line-broken at the first (.. Style:  This line needs broken up, or line-broken differently with its parent.. Is this a struct initialization?  I'm having trouble finding an example of this syntax.. I think you can use *= here, since * and / have the same precedence and are evaluated left-to-right.  Like so:\ncutoff *= (uint64_t)decklink->audio_samplerate / 1000000000;. Remove this blank line.. Style:  Indented too far.. Tabbed too far.. Tabbed too far.. Use a tab.. Use a tab.. Tabbed too far.. Remove curly braces.. Tabbed too far.. Tabbed too far.. Tabbed too far.. Revert this change.. Revert.. Revert.. You shouldn't need this line break anymore.. Needs a line break.. Doesn't need the parentheses.. Needs a line break.. These actually need line breaks at the first comma.. Tabbed too far.. Tabbed too far.. Tabbed too far.  See also several instances below.. Struct initialization.. Move opening curly brace to its own line.. I think the appropriate style here is:\nDecklinkBase::DecklinkBase(DeckLinkDeviceDiscovery *discovery_)\n    : discovery(discovery_)\n{\n}\nNewline after regular function args.  Single tab to indent.  Colon and single space.  Then the initialization list.. I think the appropriate style here is:\nDeckLinkInput::DeckLinkInput(obs_source_t *source, DeckLinkDeviceDiscovery *discovery_)\n    : DecklinkBase(discovery_),\n      source(source)\n{\n}\nNewline after regular function args.  Single tab to indent.  Colon and single space.  Then the initialization list, where each item is its own line and aligned with the first one.. See also my other notes about style for constructors with initialization lists.. Style:  Remove the space in the cast between DeckLinkOutput and *.. Put a blank line above this one to visually separate it from the if.. This should be line broken and formatted like so:\nresult = output->CreateVideoFrame(decklinkOutput->GetWidth(),\n            decklinkOutput->GetHeight(),\n            decklinkOutput->GetWidth() * 2,\n            bmdFormat8BitYUV, bmdFrameFlagDefault,\n            &decklinkOutputFrame);. Revert this change.. Delete this blank line.. This comment is incorrect.  The code will stop attempting to replay after the number of attempts reaches max_attempts, not exceeds.  That's the difference between >= and >.. You should add punctuation to the end of each sentence.  You can probably omit the text \"NOTE:\" from this comment and just leave the proceeding comment text in place.. Style:  Remove the curly braces.. Some janky alignment here due to mixing tabs and spaces.. Also janky alignment.. Mixed tabs and spaces here.. Is this syntax required?  I don't understand the need for the backslash here.  See also below.. Style:  This if doesn't need curly braces, so you can remove them, but leave a blank line after the if contents.. Add a blank line above this.. I'd personally remove this blank line to group it with the replayBufferButton->setText() below.. I'd personally remove this blank line to group it with the replayBufferButton->setText() below.. I'm not sure what this change is for.  I know there are some issues with needing to explicitly include QAction for Qt 5.11.  Is this change here for that reason?  If so, we're not yet building on Qt 5.11, so this change probably shouldn't be in this PR.. Style:  Use two tabs to indent for a line continuation.. Style:  This line is too long with the comment appended.  Consider moving the comment to above this line.. Nitpick, there are two spaces between /* and Audio.  For a single line comment, consider using /* */ or // on one line.. Style:  Put a blank line above this line.. Revert this whitespace change (removed a space at the beginning of the line).. There's a trailing comma after the last enum element.  I don't think it actually matters either way, but you could remove it since the line has changed.. Style:  This if statement does not need curly braces.  I believe the containing loop does still need its braces, since its contents are not a simple single line/statement.. Style:  This line is too long.  Consider moving the comment to the line above this, or shortening the comment.. Style:  This line is too long.  Consider moving the comment to its own line, or shortening the comment.. Style:  This line is too long, so it must be line-broken.. Consider adding a blank line above this line to give some visual separation from the preceding for loop.. Consider removing this blank line, since there are no content lines between this and the end of the function.. Style:  This line (and the one below) are now a bit too long.  Please line break them.. Style:  This line is too long.  Wrap it appropriately, and use this format:\n/*\n *\n */. Any particular reason for declaring i before the for loop instead of in the loop's init?. Place a blank line above this to separate from the previous if body.. Style:  You'll need to line break this before 80 columns.. Style:  The circlebuf_pop_front lines are a bit too long, so they need to be broken up a bit differently.. Style:  Indent line continuations with two tabs.\nIs there any difference between this and using SaveTrackIndex instead?  I'm not sure I'm a fan of ternaries here, but I guess we'll have to see how Jim feels about this syntax.. Is there a need to initialize this loop variable way up here instead of in the for loop init step?. Consider adding a blank line above this line (after your additions) to replace the lost blank line between the config assignments and the if statement.. Style:  This line is just slightly too long.  You should line break it.. Please document the function parameters.. @returns should show the return type separately, and then a description of what is returned.. SaveTrackIndex is still called above that at Line 3030, though.. I don't think this block of whitespace changes was intentional.  If it was, could you explain it?  If not, could you please revert it?. Style:  This line is slightly too long.. Maybe move this line up to group it with the other obs_properties_add_* call?  Up to you.. Style:  Align \"Param object\" with with the lines below.  See examples throughout file.. Style:  Tab twice for continued lines.. Style:  Tab twice for continued lines.. Style:  Tab twice for continued lines.. Style:  Tab twice for continued lines.. Style:  Avoid combining multiple statements on a single line.. Style:  Tab twice for continued lines.. Add a blank line above this one.. There are some cases where I might consider it disruptive to stray from existing patterns within a particular file/subproject/submodule (e.g., alignments, indents, naming conventions).  This is not one of them.  I'm not saying you need to change all of the previously existing instances, just don't introduce new ones with that pattern.. Remove this blank line.. Style:  Tab twice.. This seems like an unrelated style change to an existing line.  While I would eventually like to bring style consistency to the existing codebase, it's not generally hidden within an existing commit for changing functionality.. Style:  Don't write multiple statements on one line.. Style:  Tab twice.. Style:  This does not need to be line-broken.. Style:  Tab twice.. Increase the length of this underline to match the contents above it.. @notr1ch I noticed this comment seemed unresolved.  Is this still a concern?. As far as I can tell, https://obs-nightly.s3.amazonaws.com/ is served fine as HTTPS, and its cert is valid for *.s3.amazonaws.com, so this should probably be an HTTPS URL.  Was there an issue getting this to work on HTTPS?  If not, this should probably be changed to HTTPS.. Not sure if it makes more sense to say \"Photoshop Files\" or \"PSD Files\".  The only item in the list that doesn't follow the pattern of \"\\ Files\" is Targa.  As an aside or historical note, TARGA is apparently an acronym.. There should be a space between the # and the proceeding text.. Style:  You must have a space between if and the opening parenthesis.. Style:  This if block does not need curly braces.. Style:  Indent twice for a line continuation.. Style:  C++ function names should be CamelCase.. MIDI is an acronym and should be written this way in log messages.. MIDI is an acronym and should be written this way in log messages.. Style:  The asterisk should be placed next to the variable name.. Style: C++ function names should be CamelCase.  C functions use snake_case.. Style: C++ function names should be CamelCase.  C functions use snake_case.. Style: The asterisk should be placed next to the function name.. Style: C++ function names should be CamelCase. C functions use snake_case.. MIDI is an acronym and should be written this way in log messages.. MIDI is an acronym and should be written this way in log messages.. Style:  Tab twice to indent a line continuation.. Add a blank line above this to provide some separation.. MIDI is an acronym and should be written this way in log messages.. MIDI is an acronym and should be written this way in log messages.. MIDI is an acronym and should be written this way in log messages.. MIDI is an acronym and should be written this way in log messages.. MIDI is an acronym and should be written this way in log messages.. MIDI is an acronym and should be written this way in comments.. Unless \"sysex\" is the more common stylization, capitalize \"SysEx\" here.. MIDI is an acronym and should be written this way in comments.. \"midiin\" should probably be \"midiIn\". Style:  Wrap and block text like it is above.. You mention in the commit message that credit is required.  Is that a byproduct of the license (CC3.0) or something on their website?  Can you provide the justification more specifically than just saying it's required?. Style:  These lines are longer than 80-characters.  You will probably have to line break them differently, like so:\nlockedImage = QPixmap::fromImage(QImage(\n                \":/res/images/locked_mask@2x.png\"));. Why are these values being hardcoded here?. Style: These lines are longer than 80-characters. You will probably have to line break them differently, like so:\ncheckedImage = QPixmap::fromImage(QImage(\n                \":/res/images/visible_mask@2x.png\"));. Why are these values hardcoded?. Why does it need to be prefixed with \"OBS\"?  I've generally only seen that in class names.  GetMidiPorts or GetMIDIPorts should be fine.  Sometimes acronyms in CamelCase names get separated by an underscore, but check the project source for examples, or wait for Jim to render an opinion.. I was looking over the RtMidi source...  Did you add a bunch of stuff in here?  If so, you should really make a note of that somewhere that you're using a modified RtMidi, or you should move all of your defines somewhere else.. If this commented line is unneeded, remove it.. This is tabbed twice while the similar lines above it are tabbed once.  Find the appropriate tab style, and use that consistently.. To further elaborate on function names prefixed with \"obs_\", that's usually done in libobs (and maybe the frontend-api), not the UI.\nHonestly, in function and variable names, \"Midi\" (or \"midi\" when camelCase instead of CamelCase) should be fine.. How does this affect the icon displays on other operating systems, if at all?. If this commented out block is not required, remove it.  If it's meant for documentation, make it clear that this is documentation.. File must end in a newline.. I think we had this conversation in another thread, but \"Midi\" or \"midi\" is fine in function names.  In comments or user-facing or logged text, it should be \"MIDI\".. Is this still an active todo?. Add a blank line above for spacing.. Add a blank line above for spacing.. Style:  Mixed tabs and spaces here.. This change seems out of scope for the PR and commit title, especially since there's no explanation of the scope of the changes in the PR description beyond that \"Now the slideshow source will only load 5 images at a time.\"  I'll explain more in my main review comment.. I believe \"macOS\" always has a lowercase \"m\", regardless of where it is in a sentence.. \"MacOS\" should be \"macOS\".. The correct style is \"Intel\u00ae Quick Sync Video\".. This file seems to not be a currently included core/first-party plugin?  Was this added by mistake?. I thought WMF was only used for audio.  Does AAC have to be designated as \"H.264/AAC\"?. There's an unneeded comma after the last enum item.  Remove it.. Style:  Generally, avoid putting multiple statements on a single line.  In this case, split case and return statements onto separate lines.. I believe a \"fallthrough\" indicator is needed above this to avoid a GCC-7 warning.. Style:  Typically, you need to surround math operators by a single space on each side.  Don't leave a trailing space at the end of the line either, so in this case:\ngc->retry_interval = DEFAULT_RETRY_INTERVAL *. Style:  Tab twice to indent a line continuation.. Style: Typically, you need to surround math operators by a single space on each side. Don't leave a trailing space at the end of the line.. Style: Tab twice to indent a line continuation.. Style: You need to surround math operators by a single space on each side.. Style:  The line length limit is 80 columns.  You'll have to line-break this line.. Style: You need to surround math operators by a single space on each side.  Doing this will exceed the line length limit, so also line-break this line.. Style: Typically, you need to surround math operators by a single space on each side. Don't leave a trailing space at the end of the line.. Style: Tab twice to indent a line continuation.. Style: Typically, you need to surround math operators by a single space on each side. Don't leave a trailing space at the end of the line.. Style: Tab twice to indent a line continuation.. Unrelated style change can be omitted.. Style:  Tab twice for a line continuation.. Style:  Tab twice for a line continuation.. Style:  Tab twice for a line continuation.. Style:  This will need a line-break.. Style: Tab twice for a line continuation.  Tabbing twice here should be sufficient.. Is there a point to separate these bfree calls?. Style: This will need a line-break.. Could use a blank line above this for visual separation.. Style: Tab twice for a line continuation.. Style: Tab twice for a line continuation.\nWhy are there tabs and spaces mixed here?. Nitpick:  \"Error\" here is capitalized, but most of the rest of the log messages don't seem to be capitalized this way.  I'd suggest picking one capitalization style over the other for consistency.. Double space between res/fps and AVC level in parentheses.  Use a single space.. Double space between res/fps and AVC level in parentheses.  Use a single space.. \"FFMPEG\" should be \"FFmpeg\".. I feel it's a bit odd to name Level 4.0 differently from the others.. I'm finding mixed information on the maximum res/FPS for Level 4.0 and 4.1. I've seen 2,048\u00d71,024@30 and 1920\u00d71088@30.1 for both 4.0 and 4.1.. Use spaces instead of tabs here.. Use spaces instead of tabs here.. Use spaces instead of tabs here.. I notice that GLX_DOUBLEBUFFER, GL_FALSE, seem to be completely removed.  Did anything rely on them?  Was their functionality here replaced elsewhere that I'm not seeing?. It exceeds the line length limit of 80 columns.  A tab is 8-columns, and there are 75 columns of text, which adds up to 83 columns total.  This would be correct:\nav_pix_fmt_get_chroma_sub_sample(format, &h_chroma_shift,\n            &v_chroma_shift);. It exceeds the line length limit of 80 columns.  A tab is 8-columns, and there are 66 columns of text, which adds up to 82 columns total.  This would be correct:\nenc->context->gop_size = keyint_sec * voi->fps_num /\n                voi->fps_den;. Other log warning messages in vaapi_encode are capitalized like so:\nwarn(\"vaapi_encode: failed to allocate hw frame\");\nwarn(\"vaapi_encode: failed to get buffer for hw frame: %s\", av_err2str(ret));\nwarn(\"vaapi_encode: failed to upload hw frame: %s\", av_err2str(ret));\nwarn(\"vaapi_encode: failed to copy props to hw frame: %s\", av_err2str(ret));\nOnly this one has the first word after the prefix capitalized:\nwarn(\"vaapi_encode: Error encoding: %s\", av_err2str(ret));\nThe word \"Error\" is capitalized, while the other words immediately proceeding the prefix (\"failed\"), are not capitalized.  That's what I'm talking about, which is why it's marked as a nitpick.. I just meant that all of the other profiles are listed like so:\n<resolution>p<FPS>[/<resolution>p<FPS>][ (<H.264/AVC Level>)]\nThis one is different, because in an attempt to mark it as default/compatibility, it doesn't follow that scheme.  I think \"Default, compatibility mode\" could be listed at the end, after the usual naming scheme values, to try to keep them more consistent with each other.. Yes, I've read that Wikipedia page quite often.  I'm aware that the Levels actually specify something different than resolution/FPS (macroblocks/second, macroblocks/frame, bitrate, buffer sizes, etc.), though those specifications can be converted to expected allowable resolution/FPS.  I've also read other resources on the supposed resolution/FPS limits.\n\nhttps://www.vocal.com/video/profiles-and-levels-in-h-264-avc/\nhttp://blog.mediacoderhq.com/h264-profiles-and-levels/\nhttps://www.itu.int/ITU-T/worksem/h325/200605/presentations/s3p1-luthra.pdf\n\nMy point here was that I'd found conflicting information on expected maximums for resolution/FPS, so I wasn't sure what was appropriate to cite in this list of options.  Level 4.0 and Level 4.1 differ mostly in maximum bitrate, which allows for more reference frames, I believe.  Admittedly, my experience and knowledge with this area is limited.. Most modern hardware should handle 5.1, yes.  The presentation I linked earlier was from 2006 and mentioned Level 5.1.  There are even levels above that, which modern hardware supports.  For other encoders, we leave it at auto/0, and let the encoder/FFmpeg decide, which we usually recommend users to leave it at because selecting a level too low for their desired resolution/FPS/bitrate can cause the encoder to fail to start, which is a commonly seen support case.\nI'm not sure why we allow users to select Level either, since it mostly leads to misconfigurations.  I just know that we do allow it in Advanced Output Mode for other encoders.. Yeah, Twitch's current recommendations are main/high, as seen on stream.twitch.tv.  Their older recommendations, which are still publicly available, do say \"Main (preferred) or Baseline\".  Not sure why \"main\" would fail these days, but more testing may help.. Style:  Place the asterisk next to the function name.. Style:  Use two tabs to indent line continuations.  Do not use spaces for indents.. Style: Place the asterisk next to the function name.. Style:  Don't include multiple statements on a single line.  Place the return on its own line.. Style:  Line exceeds 80 columns.  Line-break this line and indent accordingly.. Style:  This if statement does not need curly braces.  Remove them.. Style:  This if statement does not need curly braces.  Remove them.. Style:  This if statement does not need curly braces.  Remove them.. Style: Use two tabs to indent line continuations.\nYou could have inserted the line-break after the second parameter, which is what I'd prefer, but this is probably acceptable.. Style:  Don't include multiple statements on a single line.  Place the return on its own line.. Style: Line exceeds 80 columns. Line-break this line and indent accordingly.. I think \"boolean\" is usually lowercased.  Unless this is special somehow?. I think \"boolean\" is usually lowercased.  Unless this is special somehow?. Style:  This if statement does not need curly braces.  Remove them.. Style:  Indent a line continuation with two tabs from the starting indent.. Style:  This if statement does not need curly braces.  Remove them.. Style:  Indent a line continuation with two tabs from the starting indent.. Unnecessary whitespace changes.  Remove these added lines.. Style:  This if statement does not need curly braces.  Remove them.\nI know it was this way in the original code.  The style guide says not to do this, so we should avoid introducing or reintroducing code like this where possible.. Nitpick:  There are two spaces after the first sentence, but there is only one space after the second sentence.  The original line used two spaces after each sentence, so use that.. Style:  The asterisk should be next to configs.. Style:  This if statement does not need curly braces.  Leave a blank line below the if contents.. Style:  This if statement does not need curly braces.  Leave a blank line below the if contents.. Style:  This if statement does not need curly braces.  Leave a blank line below the if contents.. Style:  Place asterisk (*) next to variable name instead of next to type.\nsuggestion\n        char *infoLog = malloc(sizeof(char) * infoLength);. Style:  Nitpick, but add a new line here.\n```suggestion\n};\n. Style:  This line does not _need_ to have a line-break.suggestion\n        transform(text.begin(), text.end(), text.begin(), towupper);\n. This line can be unwrapped/removed.suggestion\n```. Sorry.  I meant tab twice from the start of the previous line, like 394 and 395 above.. Style:  Place asterisk next to variable name, not type.\nsuggestion\n        const char *url = obs_service_get_url(service);. Style:  Line exceeds 80 characters.  Needs spaces between arguments.  Needs spaces between parentheses and braces.\nsuggestion\n        if (url != NULL && strncmp(url, RTMP_PROTOCOL,\n            strlen(RTMP_PROTOCOL)) != 0) {. Style:  Place asterisk next to parameter name, not type.\nsuggestion\nstatic void *ffmpeg_encoded_output_create(obs_data_t *settings,. Style:  Place asterisk next to parameter name, not type.\nsuggestion\n                      obs_output_t *output);. Style:  Place asterisk next to parameter name, not type.\nsuggestion\nstatic void ffmpeg_encoded_output_defaults(obs_data_t *defaults);. Style:  Place asterisk next to parameter name, not type.\nsuggestion\nstatic void *ffmpeg_encoded_output_create(obs_data_t *settings,. Style:  Place asterisk next to parameter name, not type.\nsuggestion\n                      obs_output_t *output). Style:  The alignment here with spaces is not necessary.  You can remove it.\nsuggestion\n            stream) == 0;. Style:  No need to align like this.  Use two tabs to indent a line continuation.\nsuggestion\n        struct encoder_packet *packet);. Style: No need to align like this. Use two tabs to indent a line continuation.\nsuggestion\n        struct encoder_packet *packet, bool is_header);. Style:  Tab twice to indent a line continuation.\nsuggestion\n                (uint64_t) stream->max_shutdown_time_sec *\n                1000000000ULL;. Style:  This if statement does not need curly braces.  Remove them.. Style:  This if-else block does not need curly braces.  Remove them.. Style:  Place asterisk next to parameter name.\nsuggestion\nvoid obs_properties_remove(obs_properties_t *props, const char *name). Style:  I don't recognize this particular comment style.  /* should be sufficient to open a comment block.  Does /*! have some special meaning?. Style:  Tab twice for a line continuation.\nsuggestion\n        const char *property);. Style:  Tab twice to indent a line continuation (see line 434->436 above).\nsuggestion\n                \":audio-track=%d\", track_index - 1);. Style:  Avoid declaring multiple variables on a single line.\nsuggestion\n    int network_caching;\n    int track_index;. Style:  Line exceeds 80 characters.\nsuggestion\n            add_file(c, &new_files.da, path, network_caching,\n                    track_index);. Style:  Don't add trailing whitespace.\nsuggestion\n    struct luma_wipe_info *lwipe = data;. Don't make unnecessary whitespace changes.\nsuggestion. Style: Don't add trailing whitespace.\nsuggestion\n    struct luma_wipe_info *lwipe = data;. Style:  Align the assignment operator (=) with the lines above and below it.\nsuggestion\n    lwipe->ep_l_color  = gs_effect_get_param_by_name(effect, \"l_color\");. Style:  Use spaces for alignment instead of tabs.\n```suggestion\ndefine S_LUMA_COLOR            \"luma_color\"\n```. Style:  Place a space between the closing parenthesis and the opening curly brace.\nsuggestion\n    if (luma <= time - soft) {. Style:  Add a space between the name and the curly brace.\nsuggestion\nsampler_state textureSampler {. Style:  This if statement does not need curly braces.  Remove them.. Style:  Add spaces between arguments.\nsuggestion\n    float luminance = dot(rgba * color, lumaCoef);. Style: Add spaces between arguments.\nsuggestion\n    float clo = smoothstep(lumaMin, lumaMin + lumaMinSmooth, luminance);. Style: Add spaces between arguments.\nsuggestion\n    float chi = 1. - smoothstep(lumaMax - lumaMaxSmooth, lumaMax,\n            luminance);. Style:  This if statement does not need curly braces.  Remove them.. Style:  Use spaces for alignment instead of tabs.\n```suggestion\ndefine SETTING_COLOR              \"color\"\n```. Style: Use spaces for alignment instead of tabs.\n```suggestion\ndefine SETTING_INVERT_LUMA        \"invert_luma\"\n```. Style: Use spaces for alignment instead of tabs.\n```suggestion\ndefine SETTING_INVERT_COLOR       \"invert_color\"\n```. Style: Use spaces for alignment instead of tabs.\n```suggestion\ndefine TEXT_INVERT_LUMA        obs_module_text(\"Invert Luma\")\n```. Style: Use spaces for alignment instead of tabs.\n```suggestion\ndefine TEXT_INVERT_COLOR       obs_module_text(\"Invert Color\")\n```. Style: Add spaces between arguments.\nsuggestion\n    float luminance = dot(rgba, lumaCoef);. Style: Add spaces between arguments.  Add spaces between operators.\nsuggestion\n    float clo = smoothstep(lumaMin, lumaMin + lumaMinSmooth, luminance);. Style: Add spaces between arguments. Add spaces between operators.\nsuggestion\n    float chi = 1. - smoothstep(lumaMax - lumaMaxSmooth, lumaMax,\n            luminance);. Style: Add spaces between arguments.\nsuggestion\n    return float4(rgba.rgb, amask);. Style: Use spaces for alignment instead of tabs.\nsuggestion\n    bool            invert_color;. Style: Use spaces for alignment instead of tabs.\nsuggestion\n    bool            invert_luma;. Style:  Line exceeds 80 characters.\nsuggestion\n    double lumaMaxSmooth = obs_data_get_double(settings,\n            SETTING_LUMA_MAX_SMOOTH);. Style: Line exceeds 80 characters.\nsuggestion\n    double lumaMinSmooth = obs_data_get_double(settings,\n            SETTING_LUMA_MIN_SMOOTH);. Style: Line exceeds 80 characters.\nsuggestion\n    filter->invert_color = obs_data_get_bool(settings,\n            SETTING_INVERT_COLOR);. Style:  Tab twice for a line continuation.\nsuggestion\n            bzalloc(sizeof(struct luma_key_filter_data));. Style:  For multi-line if conditions, either tab twice to indent or align with spaces.. Style: Tab twice for a line continuation.  See also the lines below.\nsuggestion\n                filter->effect, \"lumaMax\");. Style:  Indent with two tabs for a line continuation.\nsuggestion\n            QIcon(\":/res/images/obs.png\")), this));. Style:  While files must end in a newline character, they don't need an extra blank newline.  You can remove this line.\nsuggestion. ",
    "codertux": "Hello, just fixed the merge conflicts, can someone take a look at it again please?\n. ",
    "Simran-B": "The issue on mantis can be closed: https://obsproject.com/mantis/view.php?id=588. What effect did this mistake have?. Okay thanks for clarifying. Was just wondering if this could be in any kind related some bug when re-scaling a flipped source, but it is not.. ",
    "rpslack": "I fixed issues. please check again.\n. i can't merge #613, #614 . someone merge request.\n. ",
    "WizardCM": "Oooh, this would be perfect for recording Overwatch highlights - auto-stop at 16 seconds. :D\n. That is not the recommended video bitrate but the \"recommended maximum,\" but yes, all of this is correct - the audio should be 128 kbps. https://www.facebook.com/facebookmedia/get-started/live\n. Yeah, I realised that directly after posting. Provided a source for reference. :)\n. Yes! I'm excited for this one. :D. For consistency, and to avoid confusion, I feel Open in Window should read Windowed Projector as that'd align with Fullscreen Projector, because people already know what those are.\nLove this idea though, and have seen it requested a fair bit recently.. To expand upon Jim's response, the harder OBS is to close the better - I don't want to accidentally kill my recording/stream by hitting a key combination.. Also, how would this behave if someone tries copying from one Scene Collection to another?. Why not\n\nPaste (as Existing)\nPaste (as Duplicate)\n\nor something? \"Clone\" and \"Original\" could be reversible and mean the same thing.. The term is \"ducking\". I do like the idea of having this as a setting, but I don't know if people would understand what the option means at first glance, as OBS has no native ducking functionality. Windows has this as a configurable option in Sound -> Communications. Would the two conflict?. While I really like this idea.. if the recording is interrupted, the user will be left confused with an mkv file when they expected an mp4.. Details can be found here https://blog.mixer.com/welcome/\nPersonally I think mentioning that it's formerly Beam is a good idea, as I don't expect this one to be an instant transition for all users - especially as the name is pretty generic.. This is looking really good already. Alongside the borders (which I agree should be thicker), I really feel there should be actual spacing between each preview too, right now it really feels like a weird mashup.\nI agree with what you said in IRC, that there should be some kind of selector, maybe something very similar to the \"Choose Existing\" menu but for scenes. Maybe a context/right click menu which has the following options: \n|-------------------------|\n| Modify this scene slot  |   Show a \"Choose Existing\" menu for scenes\n| Add a new scene slot    |   \n| Remove this scene slot  |\n|-------------------------|\nCombine this with an ability to drag scenes to reorder them (with similar drag-and-drop behaviour to the modular UI, and it should be super intuitive. Though this'd be a bonus because usually people have their scenes in a very specific order already.. I'm curious. Currently OBS will mix down desktop audio that's surround (5.1 in my case) into Stereo for a Twitch stream really well. How would this new (really cool-looking) volume meter treat that?\nI also agree that having a secondary, larger mixer would be really useful with a design like this - one that can be popped out and displayed separately.. A wiki page has been created to help explain this system to users (once it's released, of course). I would still like to add graphs and images to the technical details section, but in the meantime would love feedback.\nhttps://github.com/jp9000/obs-studio/wiki/Understanding-the-Mixer. I'd assume if you wanted different filters on different parts of the screen, like if you use a display capture for one UWP app and a different display capture for half the screen (for example, capturing a VR preview, something I've done before).. I agree this extra meter being an option would be a good idea, as I think most people won't care and won't bother to learn what it means. Love it as a feature though.. A few notes after running a small test myself (I dragged 5 files across to the dialog)\n If any of the files already exist, it gives you a Yes/No dialog to continue, and if you click \"No\" there's no way to easily tell which of those files caused the conflict - maybe a 'Skip this file' kind of button would be handy for a future iteration?\n It's a little unclear how to individually remove files as the buttons aren't revealed on hover. Not sure if most users would notice/care, though.\n* The default Target File field (in my test) showed a backslash before the filename, inconsistent with the original path:\nD:/User/Videos/Stream VoD/2017-06-02 20-38-32.mkv -> D:/User/Videos/Stream VoD\\2017-10-05 12-47-22.mp4\nOverall though - looking good!. Tested on Windows 10 using VS2017, it compiled and ran well.. The revert is mainly because rather than turning and staying red like originally, the current bar when clipping flickers very quickly between red and \"normal\" - it doesn't stay red for very long. It's basically useless in its current state, and this is more to give Jim a reason to look over the code again and decide how he'd prefer to do it.. Hi there, it looks like your IDE changed the formatting of your file. Next time, please check before committing. As it is now, your change wouldn't be merged. Please look over it and correct it.\n. After experimenting with this a little, I agree removing the existing options in Advanced Audio Properties is a bad idea. What happens to the users who have already configured their monitoring settings? What happens to the third option that it used to provide?. Note: a variation of this PR has been included as part of the following PR: #1469. Some sort of split, maybe? Or a second layer of tabs at the top of the window? Or move the General/Filters/etc tabs to the bottom (up-side down) and put two tabs to choose between global/this scene in the current spot.\n. Primary purpose is discoverability, and secondary purpose is to lower the number of things in right click menus. Lots of people don't know about Transform, because they don't use the right click menu.. @cg2121 Looking good! I explored the PR today, here's what I found:\n\n In Simple mode, if you enable the replay buffer, attempting to open properties for any source or scene will crash OBS, complaining about the hotkeys enum\n Personally, I think source hide/show hotkeys should appear both in a scene's hotkeys tab, and the relevant source's. I like them being in a consolidated location (ie the scene) and visible specifically in that source's properties. Groups should also contain all hotkeys for themselves and any child sources\n Double clicking a source opens the properties, but double clicking a scene does not. Properties also seems to be missing from the dropdown for a Scene\n The Source/scene hotkeys tab is not a scrollable container, so a scene with a lot of sources will result in a really tall properties window that cannot be made smaller, even if the hotkeys tab isn't open\n The height of the source properties window is now defined entirely by hotkeys or by transform, whichever's taller\n The height of the properties does not reset if you switch from a tall scene with lots of sources, to a source with few hotkeys\n Transform shortcuts available in the right click menu like Reset, Rotate, Flip, _ to screen should be added to the Transform tab\n There should be a message in the Hotkeys screen of Settings to let the user know that majority of their hotkeys have moved to a more... logical location\n If no hotkeys are available for a source/scene, the tab should either be disabled, or when switched to, should display a message similar to the general tab which can sometimes say \"No properties available\"\n Would it be possible to move the Game capture source's SLI/Crossfire option to the Advanced tab, as well as the Video Capture Device's Color Space/Range & Video Format? I'd vote for a \"advanced\" property that can be set for each.. property/setting, making it relatively dynamic, and a way for plugins to set their own sources' properties to advanced if needed\n How hard would it be to make the preview in properties inherit the capabilities of Interact if a source can be interacted with? One less window for the user to open, and everything in one place\n The default themes will need to be updated to visibly show disabled tabs, as proven by the Properties window for an Audio source, Transform/Advanced are disabled\n* Why does an Audio source added via Settings -> Audio have Transform and Advanced tabs (even if disabled), while a Transition does not? Feels inconsistent. I'd vote they all show all possible tabs even if they're not relevant, as long as the user can tell they're disabled\nOverall, love how consolidated everything feels, and just how much more discoverable certain aspects are. Not to mention how much cleaner the Hotkeys window looks with just global hotkeys in it - man it's beautiful. Awesome work!. Quickly tested this in the Color Source (which is a bit redundant, visually) and works perfectly. \nYou're right that the contrast isn't always 100% - I wonder if drawing a path around the text in the opposite colour to provide a basic contrasting outline would be useful for those situations, or if it's not worth the added complexity.. Small note after a quick test - \"None\" doesn't seem to be an available option in the menu, inconsistent with scene transition overrides.\nTested this in an existing scene of mine. Configured a Luma Wipe onto a Video Capture source, tried hiding/showing the source - nothing happened. Then, changed the transition to a Fade, and immediately hit this:\nLog:\nprivate source '(null)' (wipe_transition) created\nThe thread 0x5988 has exited with code 0 (0x0).\nThe thread 0x283c has exited with code 0 (0x0).\nprivate source '(null)' (fade_transition) created\nprivate source '(null)' destroyed\nException thrown: read access violation.\n**mx** was nullptr.\nCall Stack:\n```\n\nw32-pthreads.dll!pthread_mutex_trylock(pthread_mutex_t_ *  mutex) Line 67  C   Symbols loaded.\n    w32-pthreads.dll!pthread_mutex_destroy(pthread_mutex_t_ *  mutex) Line 58  C   Symbols loaded.\n    obs.dll!obs_source_destroy(obs_source * source) Line 596    C   Symbols loaded.\n    obs.dll!obs_source_release(obs_source * source) Line 632    C   Symbols loaded.\n    obs.dll!obs_source_create_visibility_transition(obs_source * source, obs_source * transition) Line 4198 C   Symbols loaded.\n    obs64.exe!OBSBasic::CreateVisibilityTransitionMenu::__l2::(QAction * action) Line 940   C++ Symbols loaded.\n    [External Code]     Annotated Frame\n    obs64.exe!QtPrivate::FunctorCall,QtPrivate::List,void,std::_Binder(QAction ) & __ptr64,QAction * __ptr64 & __ptr64> >::call(std::_Binder(QAction ) &,QAction * &> & f, void *  arg) Line 130   C++ Symbols loaded.\n    obs64.exe!QtPrivate::Functor(QAction ) & __ptr64,QAction * __ptr64 & __ptr64>,1>::call,void>(std::_Binder(QAction ) &,QAction * &> & f, void * __formal, void *  arg) Line 241  C++ Symbols loaded.\n    obs64.exe!QtPrivate::QFunctorSlotObject(QAction ) & __ptr64,QAction * __ptr64 & __ptr64>,1,QtPrivate::List,void>::impl(int which, QtPrivate::QSlotObjectBase * this_, QObject * r, void *  a, bool * ret) Line 174    C++ Symbols loaded.\n```\n\nI was able to reproduce this every time following the same steps. Tested on Windows 10 1803.. @cg2121 Good news is, I'm no longer getting the crash. Bad news is, any source that I apply a transition to, no longer actually disappears when I toggle the visibility - which is what I was getting alongside the crash. Restarting OBS then correctly makes it invisible, and then toggling works - though I only tested it with a Cut. Restarting seems to reset the transition time, by the way.\nI seem to now be having issues actually launching OBS after enabling a Luma Wipe transition with 700ms  on said webcam source and restarting. Will research further. Seems the scene collection gets loaded, but not much happens after that.\nEdit: Just confirmed, removed the following from the scene item and OBS launched fine.\n\"vis_transition\": \"Luma Wipe\",\n\"vis_transition_duration\": 700. Flawless! Behaves as expected now - and restarting doesn't cause OBS to hang on launch. Awesome work! Only thing missing now is being able to remove transitions altogether from a source (the \"None\" option).\n. The anchor point for a source by default is the Top Left. Right click -> Transform -> Edit Transform has a \"Positional Alignment\" dropdown. Change that to Center, and that'll stop the drop shadow shifting the source's position.. After a quick test myself, this looks good!. For those who feel the description is insufficient, this feature is basically related to https://ideas.obsproject.com/ideas/33/add-a-shortcut-to-clear-the-buffer-before-it-leaves-obs-to-prevent-streaming-bad-things \nI do worry about UX and discoverability for this kind of feature, but have no idea what the best way to expose it would be.. I would be against removing the version number from the window title. I realise not a lot of applications do that these days, but it's kind of expected within OBS as it's always been there, even since Classic.. As long as we explain why it's a good idea, preferably in the UI itself, then at least the smart users will switch to this and not even worry about it.. * I'd vote for less spacing above/below.\n It's not immediately obvious why the menu is missing when a locked source is selected\n It seems to work backwards when using the preview to select sources? I seem to be getting a context menu when nothing is selected, then losing it when my 1 source is selected. Using the Sources list works correctly.. Added two updates:\n Coloured the Mixer with the same background as Scenes/Sources\n Added a hover color for dropdown menus similar to buttons\nI'm also considering getting rid of the gradient behind the scrollbar grip - it just looks silly.. No worries, I'll do that and let you know when it's ready. Likely tomorrow.. @jp9000 Done!. @SuslikV I agree it shouldn't be, but as OBS doesn't have a concept of fallback styles, it's cleaner to style it in the code rather than every theme having to define it manually - being a QLabel it'd stick out as a sore thumb.. @SuslikV Even with all the existing indicators (and the new dialog in v22) we still have multiple people every day join the support channel and ask \"how to fix the black screen\", because they're new and don't know they need to add a source.\nTo quote Jim from the development channel:\n\nHere is the equation of how to calculate my happiness for any given pull request, idea, or improvement:\n[how many users benefit] x\n[simplicity and cleanliness of code] x\n(1 + [how much it benefits new users])\n\nThis is exclusively designed to benefit new users, and it's only the first step. Much more is planned.\nIn relation to your comment on so much code to add a simple label, I originally tried to do it in OBSBasic.ui, which would have been much cleaner, but unfortunately that doesn't support floating labels, as far as I can tell.\nThis PR was my first time using C++ ever - I'm a JavaScript developer by trade - so any feedback is appreciated, and suggestions on how to use less code are always great (the less code the better!).\nI agree that we should cut down on visual noise, and you're welcome to PR/suggest ways to do that, but making core OBS features more obvious to new users is a high priority too.. My only concern with hiding the main sources widget for a new user, is that the moment they use it for the first time the look/feel/behaviour would change slightly. They already barely know what's up. I'll experiment with the idea and see how it feels.. I had a tiny bit of a chance to play with the existing implementation this weekend, and couldn't figure out how to make the QLabel resize itself when the user resizes the window, so the text still doesn't look centered. If anyone could help on this aspect, that'd be great.\nI still plan on experimenting with Jim's idea but just haven't had a lot of time to do something this big from scratch.. Note: This PR exists to make managing filters with the keyboard consistent with managing scenes and sources.. @bushwookieee You've likely been unsubscribing from individual threads, not the whole project.\nStep 1: Sign in to https://github.com\nStep 2: Visit http://github.com/obsproject/obs-studio\nStep 3: On the top right, click \"Unwatch\" and select \"Not watching\" - example https://imgur.com/b9bm7NN. I've been testing this PR myself in streams over the past few weeks, and here's what I've seen:\n\nfunctionally, this is flawless. all the buttons do what they're supposed to, no complaints on that front\nI feel that the sends/monitoring buttons are a really good idea (and should be merged), but I'd probably remove the tracks buttons only because visually it becomes very noisy. I can see the benefit, and maybe this'd be better suited to a future \"advanced\" UI of some sorts (or a toggle), as I feel having to open the Edit Advanced Audio Properties window for specific things isn't fun, but I feel this capability shouldn't be merged together with the master mixer as it'll be a big jump\nthe master mixer dock is fantastic for seeing if there is audio buffering - i've had situations where my audio got delayed by a media source by 500ms and it's immediately visible side-by-side. means i can immediately check the log to confirm\nThe stream button in the master mixer seems to be stretched in vertical mode, where it looks fine in horizontal mode (or the other way around - not sure).\nI haven't run into any audio issues or any stability issues with this PR. \n\nOverall, love this.. My only concern with this functionality, is that it changes behaviour of empty vs not-empty and could therefore be confusing.. Doesn't need to be a new PR as long as it's on the same branch.. Personally I feel this is a good step in the right direction, but it should only be considered the first step.\nI agree with @kkartaltepe that popups are bad, and that there should be an option to disable it (but enabled by default is important!). Popups require attention. I do like that this system uses the system notifications instead of the popup if OBS isn't focused, however Windows 10 (for example) automatically silences notifications when a game is running, so the user wouldn't see these.\nI vote for the end result being a toolbar, either at the top or the bottom, that has to be manually dismissed. It should be a bright colour that stands out, so that if/when the streamer looks over to OBS, it's immediately noticeable, or if OBS is in the corner of their eye, it stands out and grabs their attention.\nOther people on Discord mentioned that when we eventually have an in-game overlay that this would be a great thing to have there, and I agree - showing something to the user mid-stream is tricky as their attention is taken up by the game + alerts + chat + any voice chat they're in. Doing it in an overlay would also mean it'd be front-and-center for the user AND it wouldn't be visible to viewers.\n@SuslikV The status bar only warns about the encoder overloading, not about dropped frames or low FPS. It also doesn't stand out enough, and isn't long enough to fit informative messages.. As far as we've been able to tell, the main issue is we're building against VLC master rather than a specific tag, so every time they change something our build process is likely to break.. I just wanted to add my two cents - I agree using a consistent naming scheme (\"OBS Studio\") is a good idea - having it called \"OBS Studio\" on Windows and \"OBS\" on macOS doesn't make a lot of sense as it's the same application. Whenever it's referenced in guides and how-tos, people always try their best to call it \"OBS Studio\" and I think within the application we should be doing the same.. If one of the reasons for removing the setting in the past is that users may not know what it does, I recommend we add a description of some kind within the app to give users an idea on what it's for and what they have to do.. The Auto-config wizard in the Tools menu already uses the bandwidth test mode. That's a good point though - I'd be curious what kind of integration https://inspector.twitch.tv/ supports. It'd allow us to show a streaming report using Twitch's own data.. Warning: During the v23 release we learned the updater didn't like @ symbols in filenames (or files starting with a dot)\nAfter testing this, here's my feedback\n Because the icons don't have a fixed width of any kind, the \"General\" label doesn't line up with the rest of the options, and the icon is off-center\n I'd add a lot more padding around the icons, especially to the left and right. Double those at least, and then make sure the top and bottom are equal to them.\n* I don't think the icon should dim for the currently focused page. I've tested this myself with a variety of filters, and have run into no issues with the PR itself or any overall stability issues due to these changes. \ud83d\udc4d\nAs a side note, I did run into a small quirk with the motion-effect transition, but that's due to the fact that it's a different text source in each scene and so the visual behaviour that occurs is to be expected.. Linux builds failed due to xenial running Qt 5.5.1, and support for removeRow on QFormLayout was added in Qt 5.8. For this PR to work in its current form, it requires at least bionic. Not sure about the best course of action here.. I've rebased on master to ensure this merges OK.\nAfter some research and a quick chat with @DDRBoxman I think it may be a good idea to put this on hold until I find a way for this PR to work under Qt 5.5, as xenial LTS will be supported until 2021, and if OBS Browser gets updated to work on Linux before then, I'd rather users on Ubuntu 16.04 get the chance to play with that before we bump up to 5.8 (which is the new minimum I believe we should have on Linux).\nI plan on exploring this change in the next couple days and will post an update when this is ready to merge.. Build issues should be solved with #1739. Safe to merge once checks succeed.. Note: Fider request for this here https://ideas.obsproject.com/posts/236/make-hotkey-subsections-collapsible-in-settings. * I vote this be a dockable window ;)\n The window seems to be missing a title\n I think a QLabel next to the SpinBox (which shouldn't be as wide as it is) that says \"Lines\" or something would be a good idea\n* What if we used a monospace font, which I think would be consistent with the Script Log\nI'm also wondering if we should be doing parsing of timestamps. I almost suggested formatting (colouring the timestamp differently) but then remembered that's actually a pain in the butt to do.. I agree @notr1ch, this'd be a step towards removing positional information as it's a lot of numbers resulting in noise. I also agree that keeping numbers would be a good idea.\nI've run into a couple challenges since originally opening this PR:\n\nThe indexing in Qt's screens() function is different to that of Windows, and also that of Display Capture, so I actually think it'd be a good idea to turn the GetMonitorInfo code into a reusable function so that we can use it in combination with screens()' handle() response which'd allow us to get the same display correctly, or scrap the screens() array on Windows in favour of Windows APIs directly. In the PR's current state, this menu on certain setups will show the wrong names for the wrong displays.\nDepending on the monitor driver, some displays can appear as \"Generic PnP Monitor\", and that's only the English version - other languages will show a different string. Now, you're supposed to be able to fall back to the model name (which tends to be more accurate), however after many hours I couldn't find the right API that could expose this to me. I'm honestly not sure where to go from here on this one.. Fider post for reference.. I second @Xaymar's suggestion. . > \nIt is stupid thing. There is warning label in OBS that says that you need to restart application. Why you changing things in this way?\n\n\n\nImproves the user experience and gets them back up and running more quickly.. Should this also be configurable in Settings -> General -> Preview, so that people who want to be as space efficient as possible can disable these?. I'd personally name it \"Transform text to uppercase\" or something. \"All caps\" is too informal.. > \n\n@WizardCM that would give a very long variable name. Or only change it in the locale file?\n\nYou could name the variable uppercase, then update the locale.. Mostly comes down to a streamer's style.. > \n\nIs this changes only the https://doc.qt.io/archives/qt-4.8/designer-tab-order.html ?\n\nYes. When you open the Settings window and hit Tab again and again, it doesn't currently go in order. This fixes the order so that it goes from top to bottom.. Translations should be supplied via https://crowdin.com/project/obs-studio - they will not be accepted by a PR directly.. I'd probably name this \"Click to switch between scenes\". Based on my understanding, this is related to scenes rather than sources, yeah?\n\"Show scene names\" might suit better.. This might come down to personal preference, but would small 'x' improve readability? 2x4x4 vs 2X4X4. The layout measurements here would be confusing to most users, I'm not exactly sure what it means just by reading it. Not sure how it could be improved.. I think it would, as most people won't care about the size/shape of the grid but how many scenes they get out of it. That's a good idea.. I'd change it to something friendlier, and more helpful.\n\"It looks like you haven't added any sources to your scene, so you will only be recording a blank screen. Are you sure you want to do this?\nYou can add sources by clicking the + under the Sources box in the main window at any time.\". Note: this seems to break obs-ndi. Would this be considered a breaking change to the API?\n\"'obs_source_create': function does not take 4 arguments\". This should be auto-generated.. I mean something like this https://github.com/obsproject/obs-studio/pull/1629/files#diff-af3b638bc2a3e6c650974192a53c7291R42\nIt does a string replace to generate a final file.. ",
    "srgpqt": "We use it in a custom plugin ; when clicking the button we fetch data from an API and store it inside the settings object for use in other parts of the plugin.\nYou're right that simpler plugins don't need it, but I did find it strange that button click handlers (and get_properties) didn't receive the settings, while basically every other plugin function/callback receive them.\n. ",
    "nobme": "Hi. Will this be committed soon? Waiting on BMD sdk update.\n. I have trouble With using OBS against a New BMD Television Studio. It seems so the New SDK(v.10.8) will fix this issue.\n. ",
    "yurijmi": "Oh. I'm sorry. Haven't noticed crowdin before committing.\n. Fixed this string in CrowdIn. Please approve\nhttps://crowdin.com/translate/obs-studio/29/en-ru#2507\n. ",
    "BedrosovaYulia": "Hi, Yuijmi! Can I connect with you someway?\n. ",
    "CoDEmanX": "I see, I'll fix that. Do both of the numbers need to be increased?\n. Okay, both need to be changed (package.json stores the metadata for both files).\nJust pushed an update to the PR, should be fine now.\n. ",
    "kingargyle": "@jp9000 any chance of reviewing this and possibly getting it into the build.  Would help clean up some edge cases for the text in certain videos.. @ughman I wonder if what you are describing is similar to what I'm seeing with the CPU usage growing exponentially with the preview screen cast to full screen under linux.\nhttps://obsproject.com/mantis/view.php?id=733\n. @jp9000 Is there any time frame for merging this pull request in?  I have a work around that I can use,  but can't currently Stream and Record at different encoding levels or formats without this fix being implement for the Linux builds.\n. Better way is probably to specify which button gets the default action. \nhttp://stackoverflow.com/a/16851351/1950264\n. Would love to see this added, it might fix some issues I'm seeing on Linux with the current projector.. @jp9000 Is this going to work with other browser source plugins besides the obs-browser-source?  I ask because under linux we need to use @bazukas linux-browser-source plugin.  Otherwise this will only work on Mac and Windows as it is currently implemented.  Or is it looking for any plugin that says it is a browser source?\nWhat if you have two plugins with the same type supported?. @PadelMagazine these types of questions are best asked on the OBS Forum.   \nhttps://obsproject.com/forum/\n. @EstevanTH  I'm not one of the developers, but one thing that might help from a UI and user stand point to address one of @jp9000  concerns, is having an Advanced option in the UI for the VLC plugin itself.  Something that isn't readily enabled all the time, and clearly marks it as advanced territory.  From here, you could have a Properties box that allows the appropriate key value pair to be applied. \nThe other option would be to make a UI that supports various options you wanted to add by default and gives the option to add additional ones free hand.  Again I'd put this all under an advanced configuration section of the vlc plugin's properties dialog.   It would make it a little more user friendly, and in general the user may not need to know what the exact format should be.  Just a suggestion.\n. Unfortunately work is blocking the travis-ci build link, I'll have to check to see why that failed this weekend.. @kc5nra It is pretty functional as it is right now from my limited testing.  I mainly wanted to get this back out to a wider audience, as it really made a huge difference on my dedicated streaming laptop I take to tournaments with me.   I might not have time myself to work on it but figure the wider community could help out to finish it up.\n. This looks like it is missing the libva-dev files installed on the travis build system.\nIn file included from /home/travis/build/jp9000/obs-studio/plugins/linux-vaapi/surface-queue.c:1:0:\n/home/travis/build/jp9000/obs-studio/plugins/linux-vaapi/surface-queue.h:3:19: fatal error: va/va.h: No such file or directory\n #include \n                   ^\ncompilation terminated.\nIt can't find the appropriate header files on the system.\n. @kc5nra yeah, I'm fine with you re-opening the PR since you originally wrote it and have the commit history.   I just didn't want this to get lost and found it useful enough to use in place of the x264 encoder.\n. @reboot yes, it is based on your repository.\n. Actually, I think @kc5nra was going to re-submit the PR since he originally worked on it, and it would contain the full development history.  That is the reason I haven't tried to address any of the issues above or the build failure.\n. @kc5nra I ran this code for 13+ hrs of recording this last weekend, and it worked well, expect for the occasional B-Frame glitch every once in a while.   If I had the time I'd try and investigate it myself as this worked well enough for what I needed it to do (i.e. relieve the stress on the CPU so it could do other things besides encode the video).  I'd encourage fixing the B-Frame and then working on the libyami implementation, but it is up to you.\n. @vsnrain what does the command vainfo report?. @vsnrain after upgrading to 17.04 of Ubuntu, I'm seeing the same error.. More information;\ninfo: [VAAPI encoder]: settings:\ndevice_type :          X11\ndevice:                Intel i965 driver for Intel(R) Haswell Mobile - 1.8.0\ndevice_path:           (null)\nfps_num:               30\nfps_den:               1\nwidth:                 1280\nheight:                720\nprofile:               main\nkeyint:                2 (s)\nrc_type:               CBR\nbitrate:               2500 (kbit)\nuse_custom_cpb:        no\n\ninfo: libfdk_aac encoder created\ninfo: libfdk_aac bitrate: 160, channels: 2\ninfo: ==== Recording Start ===============================================\ninfo: [ffmpeg muxer: 'adv_file_output'] Writing file '/home/dcarver/Videos/ravensq/2017-07-28 19-34-16.mkv'...\nerror: [VAAPI encoder]: \"vaEndPicture(q->display, q->context)\": invalid parameter\nerror: [VAAPI encoder]: unable to encode frame\nerror: Error encoding with encoder 'recording_h264'\nThe issue appears that the display_path is returning NULL.  I'll see if I can track this down.. Further investigation seems to be a bug either in Ubuntu 17.04 or the libva implementation there.  1.7.3-2 causes the same problem.   Ubuntu 16.10 which has 1.7.1 and corresponding intel drivers worked.  I didn't have any issues until upgrading to 17.04.\nI've opened up an issue with the libva project, so maybe I can get some info from them\nhttps://github.com/01org/libva/issues/87.  @vsnrain I'm going to try and install a dual boot into ubuntu 16.10 later tonight which has 1.7.1-2 and I'll let you know what I see.   I didn't start getting problems until I upgraded to 17.04.   I'll let people know what I find out, and hopefully can get some extra info from the libva project itself.\n. Locally I was able to get this working again, but I had to go back to Ubuntu 16.04 and it's native libva libraries.  This is running 1.7.0 of the intel driver.   I've tested it with FLV and MKV files.   I do think long term that lib-yami is probably a better option as it wraps VA-API and takes much of the grunt work out of it from what I can tell.   Something changed in the later versions, just not sure what yet.\n. So answer I got from the LIBVA developers is as follows.\n\"intra_period is set to 60 however ip_period is to 0 in your case, however 0 is invalid for ip_period when using CBR mode. The new driver adds some checks for intra_period/ip_period. Please set a valid ip_period, sorry for the inconvenience.\"\nSo, it looks like with the newer drivers we need to ip_period to something other than 0.. Putting this here, as a sample on on how to set the ip_period, (sample comes from the libva project).\n\"You may refer to https://github.com/01org/libva-utils/blob/master/encode/h264encode.c for how to set ip_period in your application:\"\n. yeah, this code should be considered beta.  I'm hoping to get some time soon to at least address the CBR issue that has been reported.   I've had some success with VBR but again that it is on Ubuntu 16.04.. @iopq what is the  vainfo output.  It looks like it it isn't able to even initialize your driver.\n. I know it works with 1.7.0 of the libva driver   newer versions may not work.. @Bleuzen  I suspect you are hitting the bug described in this comment where the newer drivers are expecting a non zero value for the ip_period.  I unfortunately haven't had time to take a look at the code to make any adjustments.. @RytoEX haven't had time myself to work on things.  I know what is causing the issue for the crashes some people are experiencing I just haven't had time to actually make the appropriate change in the code. I thought @kc5nra was going to either update this or create a different implementation.  I've got a working system locally but would like to try and fix it for others using the newer vaapi drivers.\nLast implementation I did was just to sync my code up with master to make sure it still worked locally.\n. @jp9000 I agree that libyami is probably the way forward.   I'll be giving a presentation in a couple weeks at the Ohio Linuxfest on OBS Studio and I'll bring up there that the project is looking for someone to step up and create an Intel hardware encoder.  Like others, my time unfortunately right now is limited and I have a version working for my needs.   If you want to close the PR, feel free to do so  I'll keep my branch up to date with master.\n. @jp9000 actually, I use a laptop for most of my use of OBS and honestly, I had to have hardware encoding because using the x264 encoder would eventually cause dropped frames when the CPU usage would get up around 20% on the system.  Using the VAAPI hardware encoder built into the laptop, keeps the CPU usage around 8% to 10% which doesn't cause any frame drops.    So in my case, I need the hardware encoding as x264 even on the fastest setting possible uses too much CPU for the poor laptop.\n. @jp9000 No big deal, the use case I have, is recording Live events for miniature games, and the laptop was just the most portable solution.  Ideally I get the time to build out a more robust mini desktop machine that can be taken, but until then the laptop with hardware encoding does the job.\n. @reboot I've tried to get the ffmpeg encoder with vaapi working in OBS and have failed miserably.  None of the command line options seem to work in the ffmpeg encoder settings.   If somebody wants to wrap a friendlier gui around it I'd be all for it, but until then, I think from a users point of view, having something native just makes it easier for those that don't want to have a PHD in FFMPeg.\n. @ONSBalder  there are some bugs as noted with this patch that would need to be addressed so that it works with the newer VAAPI versions.  I think this is mainly staying open until either I get time to try and fix a few of the bugs, or somebody comes along and writes a better more complete implementation.\n. Ah... thought that was the case after I checked it's activity. :)\n. ",
    "Patrick-Seymour": "Fair enough! I suppose the worst case scenario would be something like: Set sync offset to -500ms, start streaming, all of a sudden the buffer wants to increase to -50s, and the stream I suppose would freeze for that length of time until the buffer catches up? At least with a low setting the buffer can't change by all that much during operation.\nWould it make sense to have the buffer limited to 1000 or 700 milliseconds, but in addition to the manually defined sync offset? So if someone specifies a -500ms offset, the maximum buffer would be 1200ms? And if someone wants a -1000ms sync offset on one of the audio sources, the max buffer would be 1700ms? This would keep it initially very limited, while still allowing it to be increased by 700ms if needed.\nWould it also make sense to \"reset\" the buffer at some point (if it's not doing so already)? I noticed that increasing the buffer from 1s to 8s caused it to grow, but the buffer doesn't seem to shrink, even when not recording or streaming.\n. ",
    "vamsi787": "plz tell me how to change it I need it badly.. ",
    "Temcoin": "How can I use a wildcard in the window title without OBS crashing? I thought that was supported.\n. ",
    "wt": "Replaced with #646 \n. I just updated this PR as I incorrectly implemented the logic pertaining to restoring the previous window location when the app is launch. Everything should be ready to go now.\n. Squashed and updated per our discussion on IRC.\n. All autos removed.\n. not ready yet....ooops\n. I just rebased this against master as there was a conflicting change.\n. I am certainly not offended by the decision.\nHowever, I will say that one of the reasons I did it is that QT has a number of translations built in for normal UI components. I did think it would be useful to find a way to use them. That was on my further work list if this was accepted.. ",
    "Jarod997": "If people stream using Studio view, it's handy to add instant messages on the fly. I was looking to do this just yesterday - I would have had to create a text item, set the size, properties, position, etc then fade/cut it into the live side. But I didn't because I was more busy with the streaming. Good job!\n. ",
    "ag10yen": "It looks super useful to me. :)\nOn Oct 3, 2016 12:26 AM, \"Tim (robske_110)\" notifications@github.com\nwrote:\n\n\ud83d\udc4d\nDon't know who will actually use this though.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/644#issuecomment-251042669,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ATv0e3ATR15UpEwjPYvXQAAMXtCRhu3nks5qwK42gaJpZM4KMJYi\n.\n. \n",
    "camaradetubo": "info: Using preferred locale 'es-ES'\nAttempted path: share/obs/obs-studio/themes/Dark.qss\nAttempted path: /usr/share/obs/obs-studio/themes/Dark.qss\nAttempted path: share/obs/obs-studio/license/gplv2.txt\nAttempted path: /usr/share/obs/obs-studio/license/gplv2.txt\ninfo: Processor: 4 logical cores\ninfo: Processor: Intel(R) Core(TM) i5-3210M CPU @ 2.50GHz\ninfo: Physical Memory: 7877MB Total\ninfo: Kernel Version: Linux 3.16.0-4-amd64\ninfo: Distribution: \"Debian GNU/Linux\" \"8\"\ninfo: Portable mode: false\nQObject::connect: invalid null parameter\ninfo: OBS 0.16.2-62-g39a91d7 (linux)\ninfo: ---------------------------------\ninfo: ---------------------------------\ninfo: audio settings reset:\n    samples per sec: 44100\n    speakers:        2\nerror: os_dlopen(libobs-opengl.so.0->libobs-opengl.so.0): libobs-opengl.so.0: no se puede abrir el fichero del objeto compartido: No existe el fichero o el directorio\nerror: Failed to initialize video:  Graphics module not found\n. ",
    "dalegaard": "Yeah I will, I messed up - sorry :-) Can't figure out how to re-open this one, so will resubmit instead. Hope that's okay, sorry for the inconvenience.\n. ",
    "miblodelcarpio": "This seems to be an Intel-specific issue. Folks I know who are on NVIDIA cards don't experience it, while I and others on Intel Graphics do. ebd837d fixes it for me, so thanks for this.\nI plan to investigate what is happening with those events and potentially let mesa know about it.. ",
    "ughman": "I believe this change may have fixed the memory issue I have been having with studio on linux. I am comparing:\n\nTag 0.16.6 plus cherry-picked commit ebd837d605cbac0dac586a675a49da92ab004cdb, vs\nArch Linux package obs-studio 0.16.6-1.\n\nOn the latter, my memory usage balloons over time until the system is slow (or the OOM killer picks it off). This seems to be accelerated by having previews enabled, and moreso with studio mode active. With the former, I'm not seeing these issues at all.\nI am using AMD hardware unlike what @miblodelcarpio suggests.\nThanks for the fix.. ",
    "Leeo97one": "I can confirm that I have no more crash with this patch, good job!\n. Yeah it's time for a Linux Hotfix!\n. ",
    "chrisromic2": "Has this fix been implemented into the PPA repository of OBS? I have OBS 0.16.2 (linux) installed, but i'm still getting the crash when switching to NVENC in output mode advanced. . It's alright. I just wanted to see if the crash was related to me messing up on getting NVENC to show up as an option or not. It also seems that the unstable PPA repo of OBS is also having the same problem for me.. ",
    "sorayuki": "Hello, I'm considering this patch maybe \"overkilled\" (or, has bad effect on some situation).  Some logic should only be applied when width and height of an async-source are both zero.\nI think there should be better way to fix.\n. @jp9000 \nRecently I met a CDN provider called \"Baidu\" in China who has its RTMP server configured to request a chunk size of 60000 bytes when client connected. When I stop the streaming and start again (without restarting obs-studio), it won't push stream to the server.\nI tracked the code and found librtmp failing to parse AMF objects in RTMP protocol because server sends chunks in 128 bytes (default behavior. it has not requested a chunk size of 60000 bytes yet) and client parses chunks in 60000 bytes (status not clean). Result in that the chunk header is regarded as part of chunk payload.\nIf the RTMP server is not configured to request a chunk size other than 128 bytes, the protocol will be parsed successfully next time client connects, what most CDN provider does.. How to reproduce the case more easily:\n\n\nchange game_capture_width to:\nstatic uint32_t game_capture_width(void *data)\n{\n    struct game_capture *gc = data;\n    uint32_t retval = 0;\n    for (int i = 0; i < 100000; ++i)\n        retval = gc->active ? gc->global_hook_info->cx : 0;\n    return retval;\n}\n\n\nwrite a script to do following work:\n    sleep 5 seconds -> close the game window\n\n\nlaunch the game and capture it with modified (according to step 1) obs\n\n\nrun the script in step 2\n\n\nkeep dragging & droping on item handle in preview window to continuously\nchange the size of game-capture scene item\n\n\nin the moment the game exits, obs crashes. If it didn't happed, retry again.. \n\n",
    "Savestate2A03": "Wasn't aware I could do that! Still moderately new to GitHub.\nedit: gimme a few, still trying to figure this out...\nedit2: Ok! I think we're good to go.\n. Ah, can do!\n. I am not sure, for some reason it says it's changed... Maybe something related to newlines? I just headed out to town and will be able to look further into it (and fix the indentation) when I get back. \nI appreciate the look-over!\n. Ok! Implemented the tab suggestions, but I couldn't figure out why the diff is bugging me about that first line in the locale. \n. Ah! Thanks for the info. I was using Sublime Text 3, and I'll look for the option. I'll see if I can fix it up and re-commit.\n. Got the space, and removed the byte-order marker! \n. I am used to streaming at 1280x720 on a larger monitor so the thought never crossed my mind.\nI don't think there were ever scrollbars in OBS Classic, but that shouldn't be a reason to not add them in. I'll see what I can do!\n. Being my 1st time using QT, I don't know the ropes all too well. I had a prelim version working earlier today but it was (as far as I could tell) horribly hacked together. Any insight to how I might go about adding scrollbars the right way? \nIn the mean time I'll continue reading up on how this all works.\n. I decided to not use scrollbars, as I could not figure out how to implement them properly. Instead, I went for the approach that I know After Effects uses, where if you hold down the space bar and click and drag, you can move the current view around.\nCurrently however, I've noticed that if the window is resized to be smaller than the canvas in width or height, the display is instead stretched (ignoring aspect ratio) to the full view area. I suspect this is something related to rendering something out of bounds? I am currently not sure how to figure that out... If someone could point me in the right direction, that'd be great. Otherwise, I'll keep poking around. \n. Figured it out! it was some integer overflow stuff. Changed a few things in the offset calculation to floats and it works perfectly. \n. Got the switches indented properly, lemmie know if there's other stuff as well!\n. Hmm, I don't really see a reason for a fixed scale besides 1:1. What's the reason?\n. That is correct!\n. Well, while I don't see a particularly useful reason for the output-level zoom, I'll try and add it in! I guess it is kinda nice to be able to see your stream at resolution you're outputting at, in addition to being able to do pixel-perfect edits with a canvas-level zoom. \n. Ah, I wasn't aware! My base resolution was always my output resolution; I didn't know it was different in OBS Classic. Thanks for the heads up!\n. Here's what I'll try to have it look like when I'm finished with it.\n\n. Yes (: they will be set based on your current canvas/output resolution. Just finished this actually, but I am without internet right now. I'm copying it to a USB drive and bringing it to my university later today to push the changes. \n. It seems that my USB drive fell out of my pocket while I was riding my bike to school. Looks like this will have to wait until tomorrow, sorry!\n. Ok! The update allows choosing between 3 scaling modes: Window, Canvas, and Output. \nAs always, if I didn't get something, point it out and I'll make changes\nin-action: https://www.youtube.com/watch?v=_lnZm0_GxAk \n. An oversight on my part, thanks for pointing it out! I'll see if I can get that fixed by sometime tonight. \n. Looks like this will have to wait until tomorrow again. I installed visual studio on a school computer to fix it up, but it required a restart after installation and these computers have deep freeze, so that's not happening haha. \n. Looks like that's everything; lemmie know if there's anything else I should do, whether it be code or formatting... Otherwise, I think it's ready to merge!\n. I've used your software so much, it's a small way of saying thank you! I also appreciate the tips; I'll keep them in mind when working on OBS in the future. \n. You make a good point. It probably wouldn't be very hard to fix, but I don't know how to go about fixing it since it was already pulled. Would I make another pull request, and then Jim can rebase it or -\nAlso it would probably be another day before I could get to it since I'm still without internet at my apartment, but I'm sure it's simple enough for someone else to do it in the time. \n. Sweet, can do!\n. Bam, done and done. \n. Just realized a few issues with this. Gonna see if I can fix them this afternoon. . You are the man!. ",
    "style1925": "This is displayed in the Base (Canvas) Resolution?\nIs it possible to Output (Scaling) Resolution?\nIt's different from OBS Classic.\nSorry about my poor English.\n. oops.\nMaybe I might have misunderstood the function.\nWhether it had been interpreted in this way, different Did you mean?\nleft OBS Classic / right OBS Studio (You Pull requests)\nScale to fit mode = Scale Preview to Window (Enabled)\n1:1 mode = Scale Preview to Window (Disabled)\nIf different, I'm sorry.\n. Sorry for the late reply.\nEnglish is difficult\u2026\nThank you for confirmation!\nreason.\nMy output (Scaled) resolution is very small. (The bitrate of the site is limited. up to 480kb/s\u2026)\nSo small, and the first to the scene editing. \"scale to fit mode\" \nThen to use here. \"1:1 mode\" \nThis request, the \u201dBase (Canvas) Resolution\u201d is used.\nIn OBS Classic, it is displayed in the Resolution Downscale. (1:1 mode)\nIt was very convenient!\n. You're welcome!\nIt is choice? (scale to window, canvas , output)\nI think very good!\nCanvas and output is based on a set resolution?\n. Good morning.\noh.\nThat\u2019s sad...\ntomorrow ok!\n. It is amazing!\nThank you for changing.\nIt works properly!\nOnly one thing to worry about.\n\"Canvas / Output\" Space position adjustment\nprocedure\nSpace position adjustment by either \"Canvas / output\"\nReturn to \"Scale to Window\"\nMake it \"Canvas / output\" again. (The position has not been reset.)\nthe reason\n\"Canvas / output\" has different resolution \"Preview\" is outside the screen.\nIn order to avoid it, I think that it is better to reset the position when \"Canvas / Output\" is selected.\n. ",
    "joaoportela": "I just realized that I need to clean up the commit history a bit better.\nI'll be closing the pull request for now and re-open it when things look OK. \n. ",
    "SilverCory": "I guess that's fair. @sztanpet I wandered why I couldn't find an open one..\nIt's no trouble not 5 minutes went into this. However to counter your opinion, the source for markdown is plain text in itself and not too different from what you had. The only real changes are how it's displayed and it's much much cleaner.\n. ",
    "TotalCaesar659": "@SuslikV , I've forgot about that. I'll try to do that later with one more icon - it's too much with 2 icons in the tray, I guess.\n. @SuslikV , great icons, but maybe it's better to create a separate OBS theme with same cyan colors for these icons? For one united style.\n@Xaymar , I wanted to make the icons more informative. Unlike simple circles, text explains the OBS state and creates association that is easier for understanding. Of course I don't expect that everyone will like it, tastes are different, but it's not bad to propose something new.\nIt would be good to create poll on the forum or something for this.. Oh, sorry. Could you give me advice about how to add these resolutions? And list of the resolutions.\nI made this ICO by Gimp on Linux, but I don't know how to add more resolutions to the ICO with it.. Re-created the icon by Imagemagick, please check this PR https://github.com/jp9000/obs-studio/pull/745\nI close this one.. ",
    "Brainiarc7": "Hello there,\nThis patch may not be necessary for the following reasons:\nWhat of users who have discrete mobile GPUs that do not have SIP blocks for hardware accelerated video encoding, yet they have Intel Integrated graphics with the same feature set (Intel QuickSync)?\nWe still have SKUs in use where pre-Kepler (NVIDIA GPUs) and pre-GCN (for AMD) are still in use and lacking NVENC and VCE respectively, yet they often have Sandy-bridge and above Intel IGPs. This patch would be a disservice to such users.\nSecondly, on Optimus systems where the dGPU has no displays connected to it, you will not be able to record in-game content (passed through the IGP to the display panel). On such systems, its' necessary to force-assign OBS to the integrated GPU via the Nvidia Control Panel to make QuickSync - based encoding work. All attempts to use NVENC result in a blank display captured in the resulting video file(s).\nTake that into account as you consider the patch for acceptance.\nKind regards,\nBrainiarc7. Hmm, makes sense.\nLet me apply the patch and test.. ",
    "cleoag": "i need them for 3d LUT filter (https://en.wikipedia.org/wiki/3D_lookup_table), already did it\nwill do opengl version on next week probably\n. ",
    "viclin920": "RytoEx, Thanks for your reminder, I will keep in mind.. ",
    "Fenrirthviti": "This looks great, but might want to check for and add a warning for anyone trying to import Classic scenes/profiles. Ideally, it should allow import/parsing of the Classic scenes and profiles, but this would take much more work. Possible that the work Rodney did here: http://obsproject.com/forum/resources/obs-classic-to-obs-studio-scene-converter.430/ could be leveraged?. Redoing.. see #701 . - #292\n- #568\n- #576\n- #701 \n- #844. Might be worth having two paste options, one as Paste as New and Paste as Existing to avoid issues with devices like capture cards being added multiple times.. That's good for the default, but folks might also want to copy a source WITHOUT being used as an existing source. It has been requested several times the ability to duplicate a source without having to use add existing. Just a thought!. The scenecut=0 param was requested by Twitch to \"help mitigate buffering\". You'd have to reach out to them for more details.. I've tested these changes locally, and they introduce a inconsistent audio delay (tested against 18.0.1 release), as well as a crash when trying to change channel settings or exit OBS at line 112 of audio-repack.c.\nThe delay seems to happen randomly, only when buffering is enabled, and I'm only able to replicate about 1/10 times launching so I'm not sure what's causing it.\nThe crash is able to be replicated every time I either exit OBS, or try to change the audio channel settings in the Blackmagic Device Source properties.. Thank you for the update, I was able to test the new version and everything is working properly now. I was also able to replicate the audio delay issue in 18.0.1 release, so that is unrelated to these changes.\nThank you for your quick responses!. I love the idea of adding an automatic remux feature, but I don't like the idea of the program doing something without the explicit request of the end user (apologies if I'm misreading this PR, I'm not very good with c/c++).\nWe should instead have a dialogue window that asks the user if they would rather record to mkv and auto-remux to mp4 after the recording completes when mp4 is selected, and a persistent checkbox always available to automatically remux (maybe with a drop down selection for which format to remux to?) in the Output settings tab.\nAuto-remux in general is a fantastic idea that several people have requested in the past, after losing recordings to crashes or other interruptions, but I feel this is a bit too laser focused and will just serve to make users angry and upset if they find out what's actually going on. We've had quite a few (likely incorrect) users claim that files remuxed to mp4 after the fact \"don't work as well\" as files recorded directly to mp4. There could be some merit to this, as I believe there were a few bugs found in the remux function due to an old version of ffmpeg that has since been updated. Since these issues are difficult to replicate, it's hard to say for certain.. Cleaned this up a bit, and removed the changes to indentation for the existing lines. This breaks the consistency of the formatting of this file, but allows my changes to actually be visible without showing nearly the whole file as being changed. Over 3000 lines would need to have indentation changed to a degree that would make git diff unhappy. If there is a simpler way of changing the outputs page into a scrollable area, it might be better overall to avoid such a large change in the file itself simply on formatting.. @SuslikV Thank you, confirmed this is the case. Added that to the PR description.. Please do not ask for PRs to be merged or reviewed. Be patient and it will be looked at when time allows.. The only relevant typo I see here is cmake/Modules/CopyMSVCBins.cmake and it's just a comment.\nThe rest are all dependencies and not worth the effort as @reboot mentioned.. I don't disagree with this on any particular point, but just as an FYI there's a remux option in the File menu in OBS that can convert the file from any container to anything else you want, pretty much.. Hi! Thanks for the PR. You are probably going to want to squash your commits there before this will be able to be merged.\nCan you also explain your reason for wanting to remove this service? It appears to be still active.. In addition to the change to the buttons, you might want to include a screenshot of what this change looks like when paired with an updated theme (and probably update the themes themselves to utilize this), as this change alone does nothing to help the actual issue.. Thanks for this. I did miss a few things when working on the Rachni theme, thanks for cleaning that one up!\nLooks great, very simple QoL improvement.. Can you please provide a specific use case example where this would be required?. Would it be possible to create a separate, dockable item in the main UI that contains a full volume meter readout? Most users of OBS aren't going to care about this level of fidelity, and at worst it might confuse people. Having an optional, dockable window (i.e. some kind of audio control panel with this information) might be better from a UX standpoint? For stereo, it seems reasonable to have in the main OBS mixer, but for anything else it would get pretty messy pretty fast without a better way of displaying the information.. Can you explain the use case where Add Existing for a display capture source a second time is not sufficient? . You will definitely need to squash those commits down.. Well, reading the contribution guidelines is probably a good place to start, since this is kind of a bad PR. \nThere's also another PR already open about this, which can be found here: https://github.com/jp9000/obs-studio/pull/941\nI would recommend you close this one and move any discussion/updates to that PR instead.. Since Vimeo Live is a subscription based service, please update this PR to remove the \"common\": true statement. It would also help if this contained the recommended max streaming settings, similar to the other streaming services. You also did not update the package version.. I would recommend you close this PR and add this change to your original PR (make sure you squash the commits). It will not be accepted split like this.. Could I trouble you to update the theme files to remove the extra whitespace and comment? I don't think it's necessary given that it's already with the rest of the volume meter color settings, and the property title is pretty clear what it is. This will keep the styling of the theme files consistent.. Looks like you have some formatting inconsistencies (you changed the indentation in plugins/obs-ffmpeg/obs-ffmpeg-nvenc.c L230-L260), and you'll want to squash those commits. Also, would recommend updating your title to something like \"obs-ffmpeg: Add additional NVENC settings\" to adhere to commit message guidelines.\nFor more info, see the contribution guidelines\nEDIT: Also, as a personal note, I'm not sure that adding options that a user can unintentionally hurt themselves by enabling is a good idea. These should be checked and enabled/disabled programatically, or at the very least, issue warnings when set improperly.. Sorry, maybe I wasn't quite clear on what I meant. Currently, you have the options translated as:\n\nNVENC.noscenecut=\"No-Scenecut (When lookahead is enabled, enable this)\"\nNVENC.badapt=\"B-Adapt (When lookahead is enabled, disable this)\"\n\nThis shouldn't be left to the user, IMO, if it's not recommended and can cause issues. There should be a programmatic check to enable/disable, or at the very least, a warning sent to the UI instead of putting this in the string of the option itself.. This almost definitely conflicts with #1269\nProbably a good idea to check open PRs before submitting.\n. This PR does not follow this project's contribution guidelines. Please review them and update this PR accordingly.\nhttps://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst. Shouldn't this second message just be removed entirely? It's redundant to line 729.\nI had always assumed the second message was referencing the anti-cheat hook, but looking at the code it seems to just be redundant. . Never mind, just my ignorance of C code. The single message is split between two lines, carry on. . Please squash your commits.. Added a few small fixes for Acri theme as well.. Can you explain what this actually fixes? Or is this just a change for the sake of change?\nFrom the looks of it, this change would require a theme to apply [themeID=\"error\"] or it will not be styled at all, which is a terrible idea. All the current themes have this (except Acri, currently, so this change would break Acri), but the defaults should not be messed with like this, and leaving it as is does not break anything.. I've reviewed this change again, and in testing it looks like this is the best option for consistency's sake, as Qt does not like mixing styles set in code and QSS.\nAccording to their recommendations, setting the \"themeID\" property and allowing the theme to style this would be the best option for now, until the settings UI can be revamped.. Please update the commit to follow the contribution commit guidelines with the proper prefix (probably UI in this case).. Hi! Thanks for the submission. Please update the PR and commit titles to reflect the contribution guidelines, or check previous similar PRs for the proper formatting.. To take care of the accidental movement, maybe a checkbox in the transform dialog to \"Lock Free Rotation\" would be useful?. Hey! Thanks for the big update. Is there any additional information you are able to provide that explains what the major changes are? Is it performance, overall compatibility/support, etc.?\nThis is a very major change, so it would be helpful to understand the reasoning behind it.. HI!\nCan you update the commit title to follow the commit title guidelines? That will speed up this being accepted. Thanks!. This is not how you submit a PR, and a PR is not a feature request.\nYou need to properly update only the files that you are trying to change, and then submit them back with a cohesive commit title and description. If you do not now how to edit the files to accomplish what you are trying to do, then please do not try and submit a PR.\nThis is a very inappropriate way to request that a service be added to OBS.. I have updated the install directions to no longer reference 2013. This was an oversight when we migrated to 2015+ support.. Looks like you have a couple white-space issues.. Can you update the commit title to include UI: and squash the commits?. I also agree that the handles are a bit too big. A few px reduction in size might be a good idea. Looks great otherwise! . @bushwookieee You can un-follow the project to stop receiving update emails. They are not emailing you directly, they are commenting on the PR which sends an update if you are following the project.. Did you intend to add a space before each ellipsis? That seems incorrect to me.\nEdit: I think for consistency with OS (and virtually every other application) we should be using no spaces. See: https://docs.microsoft.com/en-us/windows/desktop/uxguide/cmd-menus#using-ellipses. Why have you opened a second PR? Is there something wrong with #1662?. Changing the versions/files that this links against seems a bit dangerous, as the VLC source was coded for a specific VLC library version. Has it been tested and validated that the VLC source continues to function after these changes have been made, with any version of VLC that this now targets? It's great that this may fix a cmake error, but if it breaks the plugin that this is for, it seems like a bad idea.. You did not follow the appropriate contribution guidelines here, and the content of the PR is not the greatest. You're changing case on comment lines for no reason, Consider using fewer video settings doesn't make any sense, and the change to NoNameEntered.Text is entirely unnecessary as your proposed change is the exact same thing with different words.\nThe only change here I agree with is the Basic.PropertiesWindow.Confirm\nAt the least, you will need to update your commit title to include \"UI:\". How does this look in vertical mode?. This PR seems well thought out, and thank you for explaining the what of everything, but can you give a reason as to the why? What problem is this solving?. @torisar93 Commenting on an open PR is not an appropriate place to request a feature or report a bug. Please use the OBS help pages or stop by the Discord and the #help-and-support channel.. This is probably not related. The issue in that Mantis report is with other changes that enabled b-frame support and changed default settings. This PR does not fix that crash, and does not seem related.\nThat said, if there is any input that can be provided on the Intel side on what the issue in that Mantis report is, we would be happy for it.. Can you explain how this differs from the custom ffmpeg output that is currently in OBS? Why is this change required? Also, it looks like you included a commit for the VLC source that is not related to this change, please remove it from this PR.. Thanks for the clarification, can you also provide a quick rundown on how this is activated in OBS so that folks wishing to test have a clear set of instructions to follow? You can assume that there's an SRT server ingest point already set up, no need to worry about that, just on how to configure within OBS. I want to test this tonight, but I'm a bit confused on how to actually use it.. ",
    "Autumin": "I am studying some fundamentals of Computer Graphics from this project and find this by accident.. ",
    "derrod": "You can do this programmatically by adding something like this to window-basic-transform.cpp\n```cpp\n    ui->buttonBox->button(QDialogButtonBox::Reset)->setAutoDefault(false);\n    ui->buttonBox->button(QDialogButtonBox::Reset)->setDefault(false);\nui->buttonBox->button(QDialogButtonBox::Close)->setAutoDefault(true);\nui->buttonBox->button(QDialogButtonBox::Close)->setDefault(true);\n\nor like this (looks a little nicer imo):cpp\n    QPushButton* button_reset = ui->buttonBox->button(QDialogButtonBox::Reset);\n    button_reset->setAutoDefault(false);\n    button_reset->setDefault(false);\nQPushButton* button_close = ui->buttonBox->button(QDialogButtonBox::Close);\nbutton_close->setAutoDefault(true);\nbutton_close->setDefault(true);\n\n``. Also the way profile should be set is via theprofileproperty. I would alsp argue that marking the service as \"common\" is debatable.. Changed the code a bit to no longer require an additionalQLabel` since we're only using one anyways (error has priority over warning). Also removed the second if statement and used ternary operators instead.\nAlso changed the wording of the warning message a bit.. It is the kind of error where you want a clear and absolutely unambiguous notification that something went wrong. A popup notification is the proper way to do that.\nThis error will also only ever appear if streaming/recording fails to start once you click the button/hotkey. Never while streaming or recording is already active.. I'm pretty sure people will notice that the site they're trying to stream to has changed the name.\nEdit: Whoops, thought the \"Close and Comment\" button was a \"Cancel\" button for a sec.. The max bitrate is set to 20000 kbps (20 Mbps), that seems a bit high. Did you mean to set it to 2000 kbps (2 Mbps)?. Fixed style issues, there was an empty line where I deleted some temporary code.\nNot sure why the appveyor build failed but it seems to be working this time.. The madrid server's domain does not resolve to any IP.. This is what I get on Windows Build 14393 \n13:57:58.261: Windows Version: 10.0 Build 14393 (revision: 1198; 64-bit)\n13:57:58.261: Running as administrator: false\n13:57:58.261: Aero is Enabled (Aero is always on for windows 8 and above)\n13:57:58.261: Windows 10 Gaming Features:\n13:57:58.261:   Game Bar: Off\n13:57:58.261:   Game DVR Allowed: Yes\n13:57:58.261:   Game DVR: Off\n13:57:58.261:   Game DVR Background Recording: Off\n13:57:58.262:   Game Mode: Off\n13:57:58.262: Portable mode: true\n13:57:58.276: OBS 20.0.1-87-gb02a97a (64bit, windows)\nThis machine had been downgraded from the Creator's Update some time ago due to issues, so I'm not sure whether or not it behaves exactly the same as a vanilla build 14393.. Please take a look at the guidelines (and other PRs) and adjust the commit message.\nThe service should also not be marked as common and added at the end of the list.. One thing I noticed while checking it out is that source names and order do not update in the multiview at the moment. That might be one area for improvement.. Screenshots of the current version on Windows with default window dimensions and all three themes:\nDefault:\n\nDark:\n\nRachni:\n. Right now: yes. Unless someone is willing to share a build or you clone it into your own repo and set up AppVeyor with the provided config to provide builds.\n  . Please check the Contributing guidelines and/or previous changes to rtmp-services and adjust your commit message accordingly.\nAs has already been mentioned the common tag is pretty arbitrary and large overhauls of the entire output configuration UI are planned for the major updates following version 22. Seeing as your site has exactly zero live streams and viewers right now it certainly does not need to be marked as \"common\".. Hey there, it appears you included binary files (two .libs and one .dylib) file in this PR. We'd rather avoid that. Also where can one find the source code used to create those binaries?. It's just a simple test to see if the connection to a server worked. I tested it from multiple ISPs in different countries and only removed the ones that always failed. If none of the listed servers were able to be connected to the service would be removed entirely.\nStageTen, Linkstream, and vimm.tv instruct you to use an rtmp URL you get from your dashboard in their official instructions rather than using the predefined one in OBS. Since the listed servers also would fail to connect they have been removed. The wording \"dead service\" might be misleading here since in their cases only the servers listed weren't working.. The domain you have supplied does not exist. You're also missing an application (e.g. /live) in the rtmp URL.. It doesn't have to be live, but almost any RTMP client/server expects there to be an application name. OBS will also work without one I think. Also you don't need to specify the port if it's the default.. Please check the commit guidelines, the commit message should be formatted as such: rtmp-services: Add GameTips.tv. Also common has to be omitted.. Someone on Discord suggested a simple message box like the stream start confirmation box. I'm not sure how hard that would be to add but I'll look into it.. I added a confirmation dialog when starting the stream, looks like this:\n. This is the new dialog box:\n\nLet me know if there area any outstanding issues.. Correct me if I'm wrong but isn't the inner if-block redundant?. Mixed tabs/spaces. Again spaces instead of tabs. And again. And again. again.... Again. (This whole section). again. again. Again. again. again. Again. This is most likely due to the addition of the ftl type of service not being backwards compatible and thus making this a new version of the format. It also means that older versions of obs won't load the new services file as it could cause issues.. The service should not be marked as common. . I have considered altering the phrasing to something like you will need to disable it in order for your viewers to be able to watch your stream. ",
    "rvman": "That was my original approach, but there aren't sufficient APIs to allow me to create a profile from a plugin.  Would you accept a patch that exposes a create-profile API?. ",
    "Centny": "what your mean is adding the profiles on appdata folder and start obs by profile name?. ",
    "wallrik": "Is it possible to change the patch to use UI styles instead of hard coded red? errorLabel parhaps?. Looks really good. I just figured I'd throw a ball into court. Instead of replacing the current icons with their closest neighbor in this set, I'd love to see if there could be something even better.\nI'm thinking of the stream and output icons. Since output is more about quality/speed settings, maybe it could have one of these? Dashboard, Settings, Circuit board, Media file or External link.\nAnd stream could instead have the current radio tower or broadcast. Just a thought :). ",
    "cowai": "@jp9000  Can this please be merged?. ",
    "shiina424": "I did not notice recordEncoder.json.\nThank you.. ",
    "hobbyengineer": "Wouldn't it be more user-friendly to allow the user to toggle this in the settings?. ",
    "mape": "Some LUTs to test with:\nhttps://h.ma.pe/lut/posterize.png\nhttps://h.ma.pe/lut/blackAndWhite.png\nhttps://h.ma.pe/lut/tealLowsOrangeHighs.png\nhttps://h.ma.pe/lut/redIsolated.png\nhttps://h.ma.pe/lut/original.png\n. Updated to use \"ColorGradeFilter\" instead of \"Color Grade\". I don't mind at all.. ",
    "xeropresence": "Looks like hotkey for saving the replay buffer is hidden when we are not in a state to use it, the same could be applied to the checkboxes.. @Gol-D-Ace Now the checkboxes are greyed out when either output mode is set to advanced or the replay checkbox is unchecked.. ",
    "PadelMagazine": "Hi, \nI use the last version of OBS STUDIO. And impossible for me to understand 2 things :\n1/ How to integrate an video MP4 for example. Each time i do it i have a black screen in preview and not the video. \n2/ How can i make a replay with the NEW VERSION ? It's different that the older one. \nThanks for you help\nFranck. Hi, \nI use the last version of OBS STUDIO. And impossible for me to understand 2 things :\n1/ How to integrate an video MP4 for example. Each time i do it i have a black screen in preview and not the video. \n2/ How can i make a replay with the NEW VERSION ? It's different that the older one. \nThanks for you help\nFranck. ",
    "EpicCoder": "Yes but why is there a flip vertically option in the video capture device properties? And i think it is not bad to add a flip horizontally option because it is easier to see if one or both options are enabled or not as the transform function . With my added \"flip horizontally\" option there is no issue when manual resize the transform\nhttps://obsproject.com/forum/threads/horizontal-cam-flip-undone-by-manual-resizing.54156/. ",
    "beeanyew": "The flip vertical option is there because some (often virtual) capture devices that output RGB do so the incorrect way, and need to be flipped to be displayed the right way around. There are however no capture devices that output horizontally flipped video for any reason.. BT.601 partial is the default setting for OBS, it's under Advanced. Being able to set it in the X264 Options is irrelevant, as this is the default setting for any OBS user, and it should be outputting the color space properly to ensure playback accuracy.\nI don't know why you're suddenly talking about BT.709, header output using that option (under Advanced) has always been correct.. I have no problem playing back 640x480 BT.709/Partial video in any of the players I've tried, among those VLC and MPC-HC. If BT.709 low resolution (I assume you mean 640x480 and below) plays back with incorrect colors in your media player, it is most likely due to the hardware decoder used, or the player ignoring the header and treating it as 601 no matter what.. My video output in VLC is set to \"Automatic\", which is Direct3D 11.\nYou're mixing things up, I have never said anything about the chroma subsampling format, which is completely irrelevant to the color space and range selected and their respective pieces of header information.. Except for when they're not. I did not change any of the color conversion or chroma subsampling behavior at all, only the H264 header, please stop pretending any of that matters for this.\nAt worst, your playback will look exactly the same as it did before, but for players with decoders that do parse the header, this will make them output proper colors. You can check using ffplay if you're that concerned, it's a very good reference renderer.. Okay, but that has nothing to do with this. Like I said, if your player/decoder/renderer ignores the information provided, it won't make a difference.\nI know for a fact that the DirectDraw renderer in VLC for instance does not handle full range color properly, it's possible that it also doesn't handle different color spaces in the way you would expect.. No, most players do not play back any full range video properly. From what I gather, it's not really part of the feature set for any hardware accelerated decoding. As for partial range 601 videos of higher resolutions though, yes, they do render correctly with this change.. ",
    "kszere": "When VST for Linux? :). ",
    "RandomWalkEagle": "nobody check?. @jp9000 , you can check similar issue on stackoverflow:\nhttp://stackoverflow.com/questions/28303436/openprocess-access-denied-error-only-on-windows-8-1. ",
    "notmark": "I don't understand what you mean by update the version. . I'm not updating package.json, just services.json. As for my service being listed as common, I have higher traffic than hitbox and beam, and quite a few other services, so why not?. Ah, gotcha. I wasn't aware of that. . Closed? I'm confused. . Ah okay. I see only part of my changes were committed. profile=baseline was removed and so was common: true. . The reason for baseline profile is for WebRTC playback. Unless it's set to baseline profile the playback in the browser does not render correctly. We are starting WebRTC testing for certain streams on our sites in the coming weeks and it is required the baseline profile is used. \nAlso, not sure why our service isn't allowed to be listed as common. We get more traffic than a few of the sites listed as common. . No I totally get it but we're moving into new territory with WebRTC and I'd like OBS Studio to work out of the box for our users as far as WebRTC compatibility. I know you guys are working on that already, but in the meantime this is the solution we came up with for those that don't want to use the web based WebRTC broadcaster. It's been a week since I discovered only baseline, regardless of encoder, will work with WebRTC and h264 playback. Now granted this could be some sort of SDP issue within Wowza causing this, but I haven't had time to test WebRTC on other video server software to verify. Sounds like the best solution for the time being is to give my users instructions on how to set the baseline profile in OBS Studio rather than it automatically be set. \nI appreciate the response!\nAlso, about Vaughn Live being listed under common? \ud83d\ude03 . I'm half asleep and quite frankly forgot about the version change until after I submitted the first request. Sorry!\nAs for the reason of separation: Breakers.TV may soon be sold and no longer a part of VaughnSoft. Also it would mess with existing user settings like you said.. ",
    "alexandrevicenzi": "Not sure if it's the best solution but it fix issue 799. @reboot is everything ok with this PR? I haven't heard from you anymore.. @Heufneutje done.. @benklett This fix a bug when the device name is \"default\". In the first run, the device_id is \"default\". So basically, yes.\nWell, I can't reproduce the bug here, if I add a new audio device it works. If I switch between scenes it works too.\nWhat OS do you reproduce? What version of Pulse Audio?\nI see no way to get this bug because of this PR. What my code does, is just if devide_id == \"default\" then device_id = get_correct_device_name().\n. @benklett I'll take a look.. @benklett Finally I had some time to take a look. This problem of \"Device not found or no available\" has no relation with my change. It happens on master.\nHere is the step to reproduce:\n\nRemove OBS configuration from ~/.config/obs-studio this will simulate a fresh install.\nOpen OBS, the mic and desktop audio doesn't work because is what this PR is supposed to fix.\nOpen Settings go to Audio.\n\nYou will see the same problem.\nI'm trying to find a solution for this, it just needs to do the same thing that I did on pulse plugin in the settings window.\nYou may accept this PR, since it's not a bug from this code. But I'll find a way to fix this new bug, since it's related with Pulse Audio.. @reboot @benklett I was looking for a solution for this bug, and there are two ways.\nOn settings file, the device_id is default if the user doesn't change.\nWhen we open OBS we check if device_id is equal to default and if true, we get the correct default device name. So this makes pulse works. This is the current PR.\nThe new problem is, when we open the Settings windows we get the error \"Device not found or no available\". This happens because the settings file has default as device_id and this window doesn't know how to find the correct devide_id name.\nSolution 1:\nOn pulse plugin, we change device_id to default if it's the default source. This makes Settings window works and doesn't break the current audio source because this PR get the correct name. So we need to change pulse_defaults and pulse_properties functions.\nThe downside is that we always will need to get the correct device id if it's the default. But this will be only when we create the source, so it won't be called too frequently.\nSolution 2:\nChange OBSBasicSettings to discover the correct device id. In this solution, I see no pretty way to fix. It would be an ifdef linux and call pulse api, wich we don't have access at this point (at least I think we don't have).\nSo, I would take solution 1, but I would like to know what you guys think about. Maybe you could point a better solution than these two.. @benklett it's ok, the last PR was buggy, this one I think it's ok.. @reboot could you take a look into this?. @jp9000 Any chance to get a review from one of the admins?. @jp9000 Thanks for the feedback. I just refactored some code and this implementation was based on the Windows WASAPI plugin.. @Alcaros could you squash these commits into a single one?. you mean strcpy?. ok. ok. please, take a look in the new changes.. Fixed. I didn't set. ",
    "john5788": "@jp9000 \nI did test this and I have been running with my own patched version of vlc-video.so against 17.0.2. I discovered there was one missing line of code in my fork and I've updated to reflect this.. ",
    "EstevanTH": "This PR may have a conflict with my new patch #786. And I guess that with the ability to specify any media option, this PR is not really needed anymore. \ud83d\ude03\nJust wanting to bring up good ideas, wouldn't it be more natural to add a field to struct vlc_source instead of using an additional argument to static void add_file(...)?. Hi!\nI just had an idea to improve my work. I parse quotes as delimiters, but the media path given to libVLC does not support them. However, despite quoting not being allowed, the ability to quote the path seems natural to me when parameters may appear after it. So I guess I should remove quotes from the path given to libVLC and make life easier. \ud83d\ude1b\n@RytoEX: Thanks for the coding style notes, I'll fix that very soon.\n@jp9000: Thanks! I have tested successfully :network-caching=..., :screen-fps=..., :demux=... and I have successlessly \ud83d\ude06 tested :repeat, which does not seem to be a media option.\nI just have successfully tested the media string dvb-t://frequency=554167000:bandwidth=8 :dvb-adapter=0 :live-caching=2000 :program=515 to grab a DVB-T channel (deinterlacing is not media options \ud83d\ude22). Capturing DirectShow devices is totally possible as well.\nIn my case I absolutely need to change RTP options, but I'm not sure yet whether it changed anything or not rtp/ts://@192.168.**.**:**** :network-caching=5000 :rtp-max-dropout=32767 :rtp-max-misorder=32767 :no-avcodec-dr.\n@SuslikV: Well actually I have more information about that said VLC resolution issue. It seems to depend on how the video was encoded. In some cases MediaInfo is able to report the weird VLC resolution. If you do not know the size in advance, maybe there are filters that you can use, I do not really know.. Hello, tell me what you guys think now! \ud83d\ude1b. Thank you, you have a good eye! \ud83d\udc40\nUgh, if I have to squash then the begin of my lost state is beginning!. Okay it seems that the job is all done! I am waiting for further instructions to make it ready to be merged. \ud83d\ude0b\nFor my next pull request I will probably try to add the possibility to use VLC general options (passed to libvlc_new()), even though there is a warning (more applicable to permanent options):\n\nThere is absolutely no warranty or promise of forward, backward and cross-platform compatibility with regards to libvlc_new() arguments. We recommend that you do not use them, other than when debugging.. Unfortunately it's not as easy with global VLC options... \ud83d\ude22\nvlc-video: Allow global options {GitHub}\nvlc-video: random bug while passing argv[] (threaded problem?) {forum}. Okay then I'll publish my own because I need media options and I believe others also do, for RTP, DVB and many others.\n\nI thought I really did my best to make it simple and super easy. \ud83d\ude1e At least it's not some lost work. \ud83d\ude1b. I have edited my message weeks ago, I gave all options that I was using. I put bold where I need.\n- :network-caching=...: useless with the new option\n- :screen-fps=..., to replace screen capture fps (useless because who uses VLC screen capture)\n- :demux=... to replace demuxer (mostly useless)\n- :dvb-adapter=0: I do not know if it is mandatory when having just 1 tuner\n- :live-caching=2000: maybe default value is alright anyway\n- :program=515: mandatory to select a TV/radio channel on with a tuner\n- :rtp-max-dropout=32767: the default value does packet losses because of a huge packet misorder in my case\n- :rtp-max-misorder=32767: same as the previous\n- :no-avcodec-dr: no idea if it has something to do with libVLC, but VLC Media Player was not happy and constantly re-enables & disables direct rendering when I was playing my RTP stream (although it has probably nothing to do with RTP playback), so I used it\nIt's a matter of freedom. My attempt here was to bring freedom to other users.. Now that my bad feelings are 70% gone, I can provide a thought answer.\nI do not understand why this PR has been denied, simply because it's totally transparent to the user. If the user does not use any option, it's alright, there is no change anywhere in this case. If the user needs options, he just enters them after the path / MRL and here we go. I added support for quotes in case of problems with spaces, but still it's transparent to anyone not using options.\nOkay I have to admit something, if the path is not quoted and contains the exact sequence : then it will be understood as the beginning of an option. As this is not likely to happen and there is the quoting solution, I think that it's totally worth accepting this tiny problem.\nI do not understand how this is complicated either. It's just about copying and pasting advanced options displayed in the Open box in VLC Media Player.\nFor anybody interested, I have published my own vlc-video plugin featuring VLC deinterlace and media options, based on the latest version.. Yes you have been very respectful and explicit, thanks for that.\nI know that more code is more maintenance time. This said, I'm still at the step of programming experience when I think that the number of useful possibilities in using a library in a given program is a finished number. And if I had to imagine the whole possibilities, allowing media options is for me a big part amongst the others.\nNow I have said what I wanted to tell. See you next post!. Hello. I believe that this is a nice idea. Then my question to @jp9000 is: can we modify the interface used to load modules? I think it's not so much of a good idea, but maybe. It's like a switch to enable \"experimental\" things.\nIf I put a boolean to disabled advanced stuff, then maybe it's safer to add such features that are somehow dangerous because they are like a knife in a string. \ud83d\ude03. Hi @ch-sirius I'm glad you appreciate it. Building a Windows AMD64 version should not be too difficult so I'm going to do it and I come back to you when it's done.. It's done, but of course untested because I cannot have both VLC 32-bit and 64-bit on the same machine!\nMay you find it now: VLC source (Windows IA-32 + AMD64) 2017-06-26. Hey. I'm not 100% sure that it's alright, but:\n- if the video size cannot be properly got, OBSS's deinterlace should fail.\n- in my case, I deinterlace 50i video and I put it in a 30p canvas, which unfortunately produces a weird laggy effect but output is still 30 fps.\n- I have not looked closely if I have a nice 30 fps output with OBSS's deinterlace methods that should output 50p, but in my memories I could not properly get the video deinterlaced except with the discard method (which outputs a laggier 25p).\nAll I can confirm that VLC's deinterlace works perfectly.\nIn either case it is too complicated, not worth adding an option which is used by 0.002% of people around the world.\nI can record and upload some 50i video if you cannot find one, it will be nice and shiny H.264 High 1080i50.. The Close pull request button was calling me, I could not resist! I'm sorry.. I have tested again OBSS's deinterlace. I have to admit that I was wrong: it works. The 50 -> 30 fps lag made me think about a problem that does not exist. I'm sorry for this mistake. I think I have messed up while developing this PR.\nWe'll see if VLC will return the right size now when the pending fix is released. \ud83d\ude0b\nAlso note that VLC is plenty of deinterlace methods that are not in OBSS. \ud83d\ude04\nI'm publishing my own modded vlc-plugin.. ",
    "admshao": "Rebased to current master. Gonna check all style changes but regarding to \n\nDoes moving audio-monitoring/null to audio-monitoring/nix cause any issues? What platforms have you tested this on?\n\nOBS calls for those functions implemented in audio-monitoring/null/null-audio-monitoring.c and when no pulseaudio is found (and this is only on *nix systems) it just returns doing nothing. I moved it to audio-monitoring/nix/null-audio-monitoring.c so it clearly shows that this code is only compiled when on nix systems and no pulseaudio found.\nthis Branch was tested on Arch linux with pulse10.0. on Ubuntu 16.10 with pulse9.0. on Windows 10 CU just to check it wasn't breaking the build. The Arch tests with no pulseaudio build was tested commenting out the line that sets HAVE_PULSEAUDIO in CMakeLists.txt. Makes sense. I'll change that too. Added 2 tab indent in general.\nAs for indenting with 1 tab only in control statements i couldn't find a way to do it in CLion and saw some 1 tab examples on https://github.com/admshao/obs-studio/blob/23178dd78a6b93837f0daf1581c746b06791ea5b/libobs/obs.c#L1248-L1248\nI'll leave as is for now but would need some help to find a way to handle this right.. I just followed what's being used in the Audio Settings for consistency. When selecting Desktop Audio Device (Output) it shows \"Monitor of ...\". When selecting Mic/Auxiliary Audio Device there is no \"Monitor of ...\". I'll double check the clink area.\nAbout the memory leaks its quite possible. Right now my obs is crashing on exit due to decklink plugin and i'll not load that plugin and test again. Thx for the report..  Fixed the clicking area.. You don't need to resize the window anymore. It will automatically only counts clicks inside sources areas.\nAbout the need to release OBSSource and memory leaks. I'm still investigating. I get the same erros triggered if double clicking in the main UI scene in studio mode to a image source only scene. . I'll reopen this later until finding a proper solution. Don't forget this one: libobs/audio-monitoring/pulse/pulseaudio-output.c#L241. You can go to Edit -> Advanced Audio properties and enable audio\nmonitoring. It defaults to your system default pulse sink. You can try to\nlisten to your mic or media sources as an option.\nOn Jan 8, 2018 16:01, \"Take Vos\" notifications@github.com wrote:\n\n@admshao https://github.com/admshao I updated pulseaudio-output.c, but\nI have not an easy way to test it.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/1136#issuecomment-356044064,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AIOoggecodeDQCAhDEJUj5UzDRss8MnQks5tIlfUgaJpZM4RV_vx\n.\n. As i gave more thoughts on this. Would it be a better solution to just lock the scene item if it has no video flag instead of ignoring in the selection function?. All requested changes were done on latest push. > This is incorrect and there's nothing in the GLX standard that says the highest profile will be chosen if left to a default.\n\nThere were no word of that in the spec. Correct. That was the result from tests on nvidia proprietary + mesa git.\n\nIf I remember correctly, this is the case for Mesa.\n\nMesa is already returning the latest version available with the GLX_CONTEXT_CORE_PROFILE_BIT_ARB and that motivated me to start looking why NVIDIA wasn't.\n\nIs there a reason you want a higher version of OpenGL selected?\n\nIt would allow the obs graphics subsystem to be expanded since there are a growing number of plugins that do crazy stuff with the DX subsystem in windows and could be ported to GL subsystem. Higher profile version while still conformant to 3.2 would allow new extensions to be used to the same graphics subsystem and a really minor and maybe not valid point is that we don't limit the context on windows (i know opengl renderer there is deprecated).\nI updated the PR to change the GLX_CONTEXT_CORE_PROFILE_BIT_ARB to GLX_CONTEXT_COMPATIBILITY_PROFILE_BIT_ARB to better comply with the only words in the spec i could find.\n\" If version 3.2 or greater is requested, the context returned may implement any of the following versions:\n      * The requested profile of the requested version.\n      * The requested profile of any later version, so long as no\n        features have been removed from that later version and profile. \"\nThanks for the review.. Thanks for the review again.\nDetecting GL extensions dynamically probably is the best way to handle this.. 1) Usually when i tackle some feature i tend to do those fixes/cleanup on the start so that if its accepted it will be linked closer to the new feature. I think its more visible to have on the same PR but on a separeted commit than to duplicate the number of PRs.\n2) The changes are directly related to the slider but the removed comment. Done.\n3) Done.. From the contributor guidelines. You should squash the second commit into the first and also change the commit message to something like this\n`UI: Fix a multiview hang\nWhen a scene have show_in_multiview as false the while loop would stuck as the control variable wasn't chainging .... Insert and explanation of the change`. Changed to heap allocation.. No emails and removed duplicates.. Updated the formatting to reflect audio-io.c\nhttps://github.com/admshao/obs-studio/blob/20db7649aad04cb7431e14ce4bbfc9dd62340159/libobs/media-io/audio-io.c#L307. Right, updated the boolean field.. Yes exactly, I did a long session of trial and error with 0-10 starting Xs and print screen + gimp full zoom to check the aligned pixels. Those values were the best i've got.. Urgh.. Yeah. Unecessary. Will update in a moment. Done. That is correct. Will update.. Would change the \"(aXbXc)\" to juse \"8 scenes\"/\"24 scenes\" work better?. Will update.. Just change this to size_t then this is clear to merge for me. ",
    "neogenix": "@Nightfirecat oh, wow, I'm a moron. Sorry, I was focused on the bad juju in the services.json, not the package.json. I'll update that shortly. . Sorry my bad. I'll fix that shortly. . @notr1ch should be fixed in the PR now. sorry about the lag. Fixing the conflict(s) at the moment \ud83d\ude22 . ",
    "jrm780": "@Gol-D-Ace Sorry! I just saw your message now. No worries, if my changes resolved the issues you've mentioned in review. Otherwise, feel free to make any changes you feel are necessary.. Haha, no worries. I still have everything locally. What do you need me to do, in order to get this change integrated?. ^ Done. @hwdro Thanks for the feedback! That definitely makes sense. Is the number of samples guaranteed to be the same for each call to compressor_filter_audio() throughout the lifetime of the filter? I was looking at where it's fed audio data, but I want to make sure there aren't any edge-cases I'm missing. If that's the case, is there already a convenience function I should use to retrieve the buffer size?. ",
    "juvester": "Now also retries to download on fails (up to 5 times).. Good point, done! Not sure if there's a way to retry \"git clone\" also.. Fixes -- Libfdk not found - obs-libfdk plugin disabled warning (link).. Yeah, I noticed the same yesterday.\nThe time spent in before_install phase seems to be fluctuating a lot on osx. But time spent in the script phase does drop from ~170s to ~70s when using ccache.\nI was using brew install --HEAD ccache which compiled it from source I believe (I just copy/pasted it from some other project). That probably negated all the benefits. I changed it to use the default brew ccache, let's see if that helps anything.. Latest result:\n\nInterestingly the cache hit rate went up from 7.38% to 53.62% by installing the normal ccache instead of\n--HEAD ccache.. For reference https://gist.github.com/juvester/0e73668c5da8af2ddd145204e8145bdb. @GloriousEggroll @RytoEX \nSomething to keep in mind is that the change would not be limited to just the CI builds, the PPA for OBS itself would be affected too. Current users on Trusty would need to purge the old FFmpeg PPA from their system and add the new one. Also users on Xenial would now need to add it as well. Probably not a big deal but definitely something to keep in mind.\nI believe one way to get rid of the whole 3rd party PPA issue would be to just host the relevant FFmpeg packages in OBS' own repository. Not even build them or anything, just copy them from ppa:jonathonf/ffmpeg-3 to ppa:obsproject/obs-studio. Not sure if there's any drawbacks to this but according to https://help.launchpad.net/Packaging/PPA/Copying it seems to be at least allowed.\nedit.\nAlso tagging @Gol-D-Ace since he's the PPA guy.. Travis failed to download Qt, the commit itself should build fine.\ncurl: (56) LibreSSL SSL_read: SSL_ERROR_SYSCALL, errno 54\nError: Failed to download resource \"qt\". On Windows the desktop shortcut also says \"OBS Studio\" so it would make sense. Although on macOS it's just \"OBS\".. Nice!\nI tested it on Ubuntu MATE 18.04 and one thing I noticed is that the Tools menu is missing these entries: Automatic Scene Switcher, Output Timer, Scripts. These are normally available in the .deb version from OBS PPA.\nI believe it has something to do with frontend-tools.so not being loaded:\n```\ninfo: ---------------------------------\nerror: os_dlopen(././././lib/obs-plugins/frontend-tools.so->././././lib/obs-plugins/frontend-tools.so): libobs-scripting.so: cannot open shared object file: No such file or directory\nwarning: Module '././././lib/obs-plugins/frontend-tools.so' not loaded\nlibDeckLinkAPI.so: cannot open shared object file: No such file or directory\ninfo: No blackmagic support\nerror: os_dlopen(libnvidia-encode.so.1->libnvidia-encode.so.1): libnvidia-encode.so.1: cannot open shared object file: No such file or directory\n```\nOther than that all the basic stuff seemed to be working fine: Recording, Screen Capture, Window Capture, VLC Video Source, webcam, mic, etc.. > I don't know how to squash the commits (as the author) that are in an already-existing PR.\nJust do git rebase and then force push to the same branch you originally pushed (probonopd:master in this case). GitHub will update the PR accordingly.. This symbolic link points to a folder that is outside the project root.. ",
    "mikesmiffy128": "If you're advocating capitalising it I'd suggest doing so everywhere, rather than just on that one line. But also, I believe it's being used as a general term rather than a specific name. I think Windows calls it the Notification Area, at least sometimes. So I wouldn't say capitalising it is necessary.. Oh, silly me. I just saw a single letter change and it didn't appear to make sense. If it's a header that makes way sense.\ud83d\udc4d. I can predict incoming complaints about commit message formatting and lack of rebasing / squashing.. ",
    "MtacMinor": "@RobertArmenta click unwatch on the obs-studio repo to not get emails. ",
    "VodBox": "Would have deleted the previous if GitHub gave me the option. Changed branch name, because I realized it doubled up on \"VodBox\". Wouldn't want the merge commit to read \"Merge pull request 835 from VodBox/VodBox/chromium-flags-patch\". Plus made it easier to redo the commit I named poorly.. Not necessarily something you'd have to implement, but an idea could be to have load_interval be invisible, and assign a modified callback to the load_on_interval bool to reveal load_interval when it's enabled. That way, you're not shown an option unless it'll actually do something.\nobs-ffmpeg-source has examples of this, with it's callback for is_local_file that reveals and hides option depend on local or remote media.\nPurely just a suggestion though, one extra int wouldn't add too much to the UI as is, so may be unnecessary.. I don't see how that would necessarily be a problem. If it's for support, then it's going to be same day. If the content of a log needs to be remembered for longer, then it can just be stored with a local copy.. @SuslikV All of my iterations prior to the final push had the preset colors be defined in the stylesheets for a given theme, and that is still how I would rather this worked.\nHowever, with fallbacks being difficult to implement (since QSS does not have !important like CSS does, and therefore cannot override a style applied directly to a widget), it was going to be problematic for a user's custom themes, and would have required Acri and Rachni to be updated by their respective maintainers.\nIt was by request from Jim to make them hardcoded in the meantime so it could be merged into OBS 22 while theme considerations and/or a fallback mechanism is put in place later.. On Windows, I have been able to confirm this to work with my Novation Impulse keyboard. Transport buttons worked when the mode on the keyboard was set for CC, but did not work when using MMC (a SysEx message style defined in the MIDI protocol specifically for controlling recorders and the like). I was unable to get this to work with my Launchpad Mk. 2 and with my Launch Control.\nMaking MIDI work with the hotkey system is great, but I could not see this being enough for the use cases that a person with MIDI equipment would actually want: Namely, being able to control sliders and toggle checkboxes for parts of the mixer, filter properties or similar. A slightly more niche use case would be along the line of vision mixers, where knobs can be used for the placement and scaling of sources.\nMaking it purely another input for hotkeys only makes buttons or keys useful for inputs, since knobs would just be treated as another binary on/off input. If you look at @DDRBoxman's initial test for MIDI stuff here, it would switch to \"Scene 2\" on key presses (easily done with the existing hotkey work) but would also treat any CC message as a volume assignment for the Mic/Aux, allowing the use of a volume knob. I'd consider functionality like this to be absolutely essential to any MIDI integration for OBS.\nDoing something like that won't be possible if the changes are bound to the hotkey system. It would require the ability to select arbitrary property controls and assign a MIDI control to it, which makes a system already quite firmly tied to the UI even harder to make portable, however that's probably not much of a concern in this instance.\nThe big barrier for me personally though is that I feel it is necessary (at least for common devices like Launchpads) to provide some sort of visual response or feedback to the device. It's all well and good to assign a control to a button, but it's beneficial to be able to see on the device which controls have been assigned already, provide color setting options (where applicable), or to potentially offer pagination and some means of interpreting a devices inputs that would allow for more controls.\nI can understand though that we cannot afford to provide support for a large number of devices, given the additions would only be made by people who contribute to OBS, have their own MIDI devices and have the time to provide an interface for them. As such, I can understand someone else seeing this as non-essential, but I wouldn't be happy with devices just behaving and looking like a dumb brick of buttons.\nWhile I'm hesitant to compare OBS to DAW's, since OBS is definitely not a DAW and shouldn't be used as one, their solution of providing support for known devices and then treating all unknown devices as a generic controller would work to provide some of that visual feedback, while still working with any arbitrary MIDI device.\nOverall, I'm glad to see work being started on this, and I'd be happy to do further testing for this down the line. Given the niche nature of the feature, I could see being hesitant to merge this, but I'd definitely like to see this mature and get added.. @Andersama - MMC transport is still just button presses. And if you're going to accept CC changes as triggers for hotkeys, why not accept messages that are sent over SysEx? (So long as they are not device specific and are part of the MIDI specification).\nAs far as binding to GUI elements as a later thing, that doesn't properly alleviate my concerns - My concerns relate to how I see MIDI integration working with OBS on the whole, and I don't think merely hooking them to hotkeys is enough for a PR. Even using this as an initial implementation can be problematic, since it makes restructuring or reworking harder down the line.\nIt also doesn't change the fact that merely accepting inputs as triggers still means that the controllers themselves act as dumb bricks with buttons. MIDI implementation will be tricky, but for it to be worth it, it needs to be a single solution that properly makes use of the devices strengths and integrates more nicely with OBS functions, rather than a makeshift implementation for hotkeys.. To be clear, I'm glad to see this work being done. Using MIDI controls for hotkeys is something a lot of people have been wanting to see for a while. It is merely my concern that the undertaking of MIDI support is going to have to be a much bigger task than this basic implementation.\nI mentioned in my first comment that I feel visual feedback or response for at least the more common devices is necessary to make things feel more integrated and are essential for the addition as a whole. This system on initial examination doesn't seem to provide a good framework for properly dealing with the outputs necessary for that to happen.\nTying it into the UI directly also creates a problem where, should the end result not be merged, that it would need to be reworked from the ground up for it to properly function. Given the niche nature of MIDI devices, it makes it a bit more difficult to justify shipping with the base program, rather than as a plugin or submodule (much like obs-vst currently is).\nAnd while I think visual response is essential, someone else might not, and Jim might have his own thoughts on the subject. How much are we willing to go into DAW territory, where is the line drawn and will the result be maintainable and expandable down the line? If we do decide to provide individual device support, will it be written with device specific code, or will there be a generic interface with configurations maintained by the community?\nWhat if a plugin down the line wishes to be able to register functions specifically to be handled through MIDI devices, outside of just hooking into GUI widgets (which would pretty much be essential for VSTs to properly work with the learn functionality you mention)? How much customization to how an input is treated do we want? Would it maybe be better to provide a common interface for this kind of thing first, so other input types (like XInput) could be configured later?\nI don't see MIDI being nearly as simple as the todo bits you have here, and not something you can incrementally split into different PRs for different fucntionality.. @Andersama - I'm not saying a dumb brick wouldn't still be useful, only that it's under utilizing the available hardware. For example, you say you want to use it for mute/unmute, and start/stop streaming, which is very similar to my current setup.\nFor my local setup, I added functions into obs-browser to do that, which get triggered by the page with WebMIDI. Rather than just accept the input, being muted or unmuted will be reflected by a color on my Launch Control (so the mute key toggles between Green and Red depending), and my start/stop recording button would flash bright red for as long as the recording runs, otherwise will be a dim red.\nI'm not saying these exact things are not going to have implementation details that'll need to be sorted out, but that is still a level of feedback for inputs that MIDI devices offer that other inputs simply don't provide a consistent interface for.\nI'll be looking through the code more thoroughly when I'm not pre-occupied, but I am still cautious about how things progress: It may be worth making this PR one for general MIDI support so that any work going forward is consolidated, since design might drastically change from this starting point as some of the later functionality is worked on.. MSC (MIDI Show Control) and MMC (MIDI Machine Control) are standardized SysEx based messages that should definitely be interpreted.. As of this moment, I can think of at least one decently common one, one slightly niche one, and one super niche one.\nIf someone cannot get a camera to be placed somewhere level, being able to rotate it easily at non-90 angles can help to alleviate that.\nSomeone may wish to have a text source sit on the edge of some overlay graphic or background element.\nSomeone could be trying make their camera group and border match the style of a particular game's UI that has rotation or have some kind of lens distortion that makes elements look rotated.. Additionally, I feel that while something like rotation indicators can have an unintended consequence that people use it when they shouldn't, producing a bad looking stream, those who don't need it and are aware they don't need it aren't exactly inconvenienced by the option being there. It doesn't take up more space and doesn't demand attention, but still gives an option to people who would make use of it.\nAlso, if we wanted to prevent people making bad looking streams, then scaling without respecting aspect ratio should also be hidden in the transform dialog, but instead we have a shortcut for it. For people who know what they're doing, it's useful and speed things up. For people who don't need it, they're not inconvenienced by it being an option. I feel as though rotation fits in the same space.. @DDRBoxman The reason rotation happens from the top left, is due to all sources having the top left as their anchor point by default. Changing the alignment in transform properties will change where the rotation happens from.. I will look to pick some colors that are better for color blindness. As far as being more complex, I feel that it's better to keep the scenes simple, but have suitable contrast between them to show off what the transition is actually doing. The blue & green A/B images are pretty standard across NLEs, and was my reason for using similar here. \nThe issue with doing a \"From\" and \"To\" scene, is it's setup to go A <--> B, rather than just A -> B. I'm in the process of adding a button to start the preview, rather than just having a loop, and having a progress bar is something relatively simple to add on top of that, so I'll see about that.. I changed this to have a \"Preview Transition\" button, instead of constantly just playing a loop that would sometimes take a few moments after changing a property to actually start playing.\n. If a scene item is selected and visible, an overflow will be rendered. If either is not true, it will not render an overflow. That's what my screenshot was trying to show, as the two on the top left are selected and visible, the bottom is left is selected but not visible, and the right one is not selected.\nTo be honest, I don't see why this would need to be made an optional feature, if it's only going to happen for selected items anyway?\nAs far as handle size, it would seem I left the handle size bigger from when I was messing with different circle sizes. I will pick a more reasonable size and force push that sometime today.. Given that without glasses, A: I can't see the border of an item outside the canvas to know where a source is, and B: can't see the circle handles, but can tell where the square handles are, I'd say there's plenty of sense, and is hardly just eye candy.\nThe reason to only have the overflow showing with selected items, is that the whole point is to make editing more readable. The selection still works if you select the item in the sources list, so you don't have to be clicking outside the canvas at nothing to find it, so I don't know why you're making selecting the items seem like it's such a hurdle.\nAdditionally, it speeds up recognition of both where a source is, and how big it is. For example, if you've scaled up a scene item, and the source ups in resolution (such as with webcams), then the overflow is immediately alerting you to the fact that the size of the scene item extends well beyond the canvas, and in a much more clear way than the 1px thick red border does.\nYes, this is a dark theme screenshot.. @DDRBoxman Before committing my changes, some others and I went through a bunch of programs to look at their handle behavior. Of the ones that were square handles, none of them rotated.. I added options to Settings around how the overflow should be shown, and fixed handle sizes being too large. Here's a (hopefully) clearer screenshot.\n. \nThe newest commit adds outlines to scene items when hovered over in the sources list, or in the preview. When in the preview, it will highlight the one that will be selected by the next click. This change also results in a thicker outline for selection in general.. OBS doesn't exactly have the clearest outlines for sources anyway. The only reason red (or green in cases of crop) works at all is because of the handles. At least this change makes the outlines themselves thicker, uses a color that's distinguishable from red with almost all forms of color blindness, and will still be visible in a lot of cases since it's not pure blue.. I've usually seen blue and green more in the context of previewing what a transition will look like (#1603), and always see black and white when something is the actual track matte being used.. A problem with this commit as-is, is that I had to come up with icons myself, and it's hard to tell which should be load and which should be save.\n\nCurrently, the one on the left is load, and the one on the right is save.. Just FYI, I am not a lawyer so nothing I'm saying should be treated as legal truth, but merely my interpretation.\nI feel as though this is meant to be interpreted as, rather than a change to the actual license, a contributor license agreement. It isn't making a change to the actual license for the code, it's simply a contract between the submitter and the repository owner, that in exchange for getting their code merged, they agree to be bound by the extra restrictions in the commitment.\nIf it is meant to be interpreted as such, then it is correct to say that it doesn't affect any of the code already present in the repository, and doesn't need permission from previous contributors. The previous contributors are not bound by the commitment, because they would have had their code merged before the agreement is in place. Any code wanting to be merged from that point onwards would be when the agreement is in place, and would be bound by it.\nIf someone forks the code, they could remove the commitment from their particular fork, but as long as it is present in a given repo, then it's extra rules can apply to anyone submitting code to that particular repo, but at the very least, it will always apply to any code being pushed upstream.\nAs far as the actual goals of the commitment, I do like the terms it seeks to add the repo (regardless of whether it's enforceable or not). Giving a period of benefit of the doubt to first-time GPL offenders, and giving people time to correct compliance issues is something I can get behind. It also shows that the project isn't about to use legal action as a first course of action, and can possibly make people or companies more comfortable with involving themselves with the project, if they believe that a misstep won't immediately result in a license termination or damaging legal action.. Oh right. The cleaner code I got given didn't have the &&, but looks like I forgot to remove the inner if statement.. ",
    "egordorichev": "Yes, those bugs with linux display are so annoying!. ",
    "RoiEXLab": "lol ^^. @jp9000 I still don't get why you prefer raw text over markdown, but whatever :D\nI will delete my branch/fork then.... @jp9000 If it's just about the raw text form, is this better?. No problem then.... ",
    "trwnh": "More apps I know use Ctrl+W, not Ctrl+Q. Or possibly Alt+F4.. @RytoEX Ah, my apologies. I thought editing the title would be enough. I'm somewhat new to Git. How do I change this?. @RytoEX OK, I think I fixed the commits now.. Ahh, I'm still a noob, I'm using the Github website currently. Could I start over and open a new pull request? Or is this discouraged?. @RytoEX OK, I opened #894 . ",
    "OsirisNL": "What does this fix exactly? The detection with 64bit OBS works fine here.. Yes, i have both 32bit and 64bit installed.. You might as well close this PR, it's not gonna be merged.. Why?. The browse dialog already gives that warning, atleast for scene collections. For profiles it asks for a destination folder.. A stinger is usually not very long, so I don't see the point of adding the hidden Media Source to the mixer or advanced audio properties. What might be possible is a volume slider in the stinger's properties.. This is not how you get support, you need to close this and go to the forum or the community chat.. Nah, it doesn't log anything if it isn't supported.\nI tested it on a VM with no NVIDIA GPU and just copied NvEncodeApi64.dll to System32 which was enough to make 20.1.3 think NVENC was supported. Using the version with this fix applied on the VM results in OBS no longer thinking NVENC is supported, on my PC with an NVIDIA GPU it still reports as supported.. He means the last two commits, they don't specify what part it applies to, the first one specifies libobs.. Those 2 commits by Jim should not be in this PR.. Record to MKV with OBS and you'll get a file where ffmpeg reports 1000fps.. Why did you close this? Seems like a good addition.. Ah, yep seems so, closing this one.. ",
    "Gargaj": "Do you have x64 VLC installed?. ",
    "JustGregory-zz": "If you have both 32- and 64-bit VLC, which is launched by default?. ",
    "shamun": "@Xaymar : i agree, but that flag we can use later as \"mini UI version\" like VLC has where you can switch to full feature or less feature modes. If you dont like or want i can remove them and do a new pull request ?\nPlease confirm.. OK - i will change it.. ",
    "MP2E": "er actually I'm going to clean this up a bit and reopen after\nEDIT: see my new open PR, sorry for all the noise. This version is way less readable than it needs to be... Yup exactly! My previous PR used nested if statements but due to the way && short-circuits, this is the same, just easier to read IMO. I noticed in a different editor that my whitespace didn't match up with the other lines. Fixed.\nIf there is anything else I need to do to help get this merged, let me know.. ",
    "timothy003": "That's weird - default shouldn't yield much worse quality than hq (and definitely not hp).\nTested with a GTX 670, driver 381.65, encoding a 1080p60 clip using the following command:\nffmpeg -i \"2017-04-19 03-59-39.flv\" -an -c:v h264_nvenc -preset <preset> -rc constqp -cq 25 -f null NUL\nResults:\npreset | fps | size\n------ | --- | ----\ndefault | 85 | 83974kB\nhp | 212 | 103119kB\nhq | 61 | 83757kB\nhp output is 23% larger with a 2.5x speedup.\nhq output is ~0.3% smaller while being 39% slower.\nBased on these results, default offers the best balance between speed and quality.\nIn any case, 2pass hq isn't suitable for real-time 1080p60 encoding on Kepler, so default needs to stay in some form.. ",
    "mntone": "Thank you for your report.\nThe crash is fixed in latest commit of my repository. I will apply commit to PR.\nI squashed old commit and bug fix commit.\nI confirmed the delay, but I'm not sure what's causing it, too. I examine this phenomenon.. I pushed the commit for multi channel audio.\nI continue to examine the delay, however, I will create new PR for the delay, and you evaluate this PR and merge.. It seems good! I separate two options.. I resolved the conflicts with the master branch.. OK. I create new PR.. Two option do not completely match. This option turn off reducing OBS monitoring volume only.\n\"Disable reducing OBS volume when VoIP\" is better? If you have better message, please tell me. I\u2019m sorry, my poor English.. About this PR:\n\nI think commit 1fd660b message is inappropriate.\n   That surround array is by video specification (CEA-861-D). Is it better to change e.g \"Rearrange the surround array according to the specifications.\"\n_mm_storeu_si128 write 128 bit (= 16 bytes) data. So, you shouldn't comment extra_dst_size.. Uncomment extra_dst_size because of _mm_storeu_si128.. \n",
    "Palakis": "Gonna take some time to redo this right. Sorry for the inconvenience.. Done: #895 . Sorry for the inconvenience, Jim. Thanks for the merge.\nI have to admit that I misred the 50/72 commit guideline. Gonna read that linked resource about it.\nAs for the other problems mentioned, I will setup my dev environment to detect these issues earliers.. Thanks for reviewing this! Code updated and commits squashed.. > I think in general this PR would be more usefully constructed and presented as just a set of changes to OBS itself. Relegate the mentioning of the obs-websocket changes to a use-case example.\nCan't agree more with @dodgepong. I'd add: don't add too much clutter/non-relevant content to the PR. This frees unnecessary cognitive load from maintainers and reviewers.. Hi @yinzara. Not a big deal but I'd suggest you to rename this pull request to make it tell what the fix is, instead of the context where it's been discovered.. Fixed the merge conflict.. @jp9000 \n\"If you are having desync, it is not caused by audio buffering. Audio buffering just simply adds latency -- nothing more. It does not alter or impact sync.\"\nMy bad, I used wrong wording.\nBy \"desync\" I don't mean phase desync of the timing values, but rather audio/video relative delay.\nMany users of the previous version of obs-ndi have reported that they encounter a quick or moderately quick build-up of A/V relative delay. The NDI source was sending late timestamps, which cause additional audio buffering, up to the point of reaching the maximum allowed audio buffering of around 960 ms.\nBut this was a pain to diagnose each individual case because other async sources (media sources, WASAPI, ...) can cause additional audio buffering, which causes additional A/V relative delay.\nThis wouldn't be much of a trouble if OBS compensated the additional audio buffering with additional video buffering (hypothetically speaking just as an example, not an actual suggestion), because lips or other video content synced to audio would be kept in sync with each other (no relative A/V delay).. @jp9000 Following up on our Discord chat yesterday, I've added a \"late async audio source\" (didn't come with a better name) that sends audio frames 1 second in the past (os_gettime_ns() minus 1 second). This instantly maxes out audio buffering. When tested with media sources or capture devices loaded, it causes noticeable A/V desync.\nMost sync tests videos have a 1 second interval between ticks. As the maximum possible A/V desync is 960 ms, 1 second ticks don't show noticeable desync. I've made a test sequence with ticks spaced at 2-second intervals.\nThe video on YouTube : https://youtu.be/hUbM_qhsTd8\nReady to download : https://transfer.sh/bKN1e/1080p60%20sync%20test%20-%202-second%20interval.mp4\nSteps to reproduce:\n- Start OBS with a clean scene collection.\n- Start a stream or recording (in order to the see and hear if there's an A/V desync)\n- Load the sync test video as a Media Source to the current scene\n- Have a look at \"Audio buffering\" in the stats window. Should be under 200 ms.\n- On the output, the sync test video source should show the test card in the sync with the 1 kHz beep\n- Add a \"Late Async Audio Source (causes audio buffering)\" to the current scene\n- Have a look at \"Audio buffering\" in the stats window. Should be at 960 ms, the maximum possible\n- Look at the output : the test card image and beep are not synced anymore. Some audio drops are also audible, but these are normal and expected.\n- Remove the \"Late Async Audio Source\"\n- Look at the output again : audio stopped dropping, but the desync is still there, and audio buffering is still at 960 ms.. Closing this, as the desync issue doesn't appear in stream and recording output. These work perfectly fine.\nMy test setup was faulty, as I used the NDI output from obs-ndi, which isn't my greatest piece of engineering.\nI got biaised. I owe deep apologies to Jim.. Noticed a framerate drop and CPU usage increase when labels are shown.\nItem not selected: ~6% CPU usage, 60fps\nItem selected and helpers shown: ~17% CPU usage, 45fps. Relegating this to WIP. That performance issue is a showstopper.. Fixed the framerate drop issue, but still almost 8% CPU increase when helpers are shown.. Gonna close this, as I don't have time to work on it anymore and don't want to clutter the PR section with WIPs. . Logiciel libre d'enregistrement et de diffusion vid\u00e9o sur Internet\nIsn't it better?. I'd like to call DrawLine in DrawSingleSpacingHelper. But when I do so, the line is hidden while the label is visible. Did I miss something?. I tried using a single text source, by changing text and calling obs_source_video_render right after, doing this consecutively for each label, but this didn't work. Apparently the actual render to texture is not done when calling obs_source_video_render.. Would be best with sous licence libre instead of \u00e0 code source ouvert.. Also, free in FOSS means free as in freedom, not free as in free beer.. These two should be moved to const variables to avoid magic numbers.. ",
    "mrasmus": "As mentioned in IRC, I tested this behavior on Windows 10 and confirmed it works. I would suggest \"Prevent Windows from ducking OBS monitor volume\" or similar. Default-on is probably the right call, but is a change in behavior. Most people won't notice/will want the new behavior though, if I had to guess.. Just piping in to support the idea of per-source (or per-source-group, or other-scene) functionality; I'm looking to build something that will need to use a cropped screenshot, and letting the user configure the crop via OBS's interface will be much cleaner than what I was going to do (rip from the program feed, then configure the crops after the fact).. ",
    "Skullcan": "any chance we get this merged into the new release? sp/rj servers are really bad rn. thx!. ",
    "Incalex": "Hello,\nConsidering the part of shame I still feel about that patch (seriously, that was one ugly piece of code), I'm happy to see that pull request!\nAnd, apparently it's not too late to contribute a bit on that one. More seriously, I successfully compiled your cleaned up version on Windows 7 64-bit (for a 32bit target, and for a 64bit target too), using Visual Studio Community 2015 (Update 2).\nSo far, on Release 64-bit, QSV works fine with a short test (starting a record, stopping it, doing that multiple times). But both Debug versions (32-bit and 64-bit) crash when stopping the record.\nHere's a gist on the crash itself (Debug 64bit): https://gist.github.com/Incalex/f68a184cc86a1ceb34f0d2d231777cc0\nThough, it seems on Release, it works fine, at least for a short test (no crash at all).\nIf you need me to do longer test, I'll be watching this thread (I don't think there's a lot of people still using QSV and Windows 7 here, and even I will probably migrate to Windows 10 this year).. After a very fast check, even the original commit had this Debug crash. I've tested it with a very old build before it got merged in OBS Studio, and I have the exact same crash. I'm actually wondering if it was already present BEFORE my patch, but I'd need more testing that I'd probably won't do tonight.\nSo in summary, your commit isn't the cause of the Debug crash, and it seems to work fine on Release builds.\nPlus, when I reread the code, there's a lot of unreachable parts that I should delete (I've never really took the time to clean it up correctly so the current implementation looks more like a working personal test than decent code, see the m_bD3D9HACK variable for example), but that's outside the scope of this PR.\nI'll also try to take the time later to test it with the same PC but on my Windows 10 (Pro, Creator Update, x64) partition, just in case ;). I realized I've never really check the licenses behind the files I used. I mostly adapted for OBS Studio a patch originally made for OBS Classic.\nI kinda got curious and the latest Intel Media SDK Samples have this license: \n```\n/************\\\nCopyright (c) 2005-2016, Intel Corporation\nAll rights reserved.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\n\nRedistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n\n\nRedistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n\n\nNeither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\n\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\nThis sample was distributed or derived from the Intel's Media Samples package.\nThe original version of this sample may be obtained from https://software.intel.com/en-us/intel-media-server-studio\nor https://software.intel.com/en-us/media-client-solutions-support.\n****************/\n```\nBut the current OBS files also already look modified (some commented parts were part of an older SDK Sample and the license might actually not allow the modifications that are already present), for example the \"mfx_samples_config.h\" include that is commented.\nIn any way, the new license allows modifications and the latest files seems a bit different from the ones OBS Studio is currently using. I don't know yet if they give better performance or anything (doubt it to be honest) but trying to migrate to the latest version might be better (better support of latest integrated GPU maybe?) as we could freely change the style and code for sure.\nFor the moment, I'll try to commit a cleanup of dead parts I've created when doing the Win7 modification, as using the latest Intel samples will probably be a way bigger modification (at least for the d3d11 device, d3d9 seems pretty much the same).. ",
    "e00E": "Also of note is that QT 5.8 does not build in VS2017, but 5.9.0beta3 (which was available in the QT installer) does and this is what I used.. With the most recent commit there are no more warnings.. The continuous-integration/travis-ci/pr  thing for my most recent patch failed, but it does not seem related to my change. Navigating to its log I see\n```\nThe command \"./CI/install-dependencies-osx.sh\" failed and exited with 56 during .\nYour build has been stopped.\n/Users/travis/.travis/job_stages: line 150: shell_session_update: command not found\n```\nwhich as far as I can tell has nothing to do with my patch.. Looks like a new build was triggered and now the builds pass.  I do not know what caused it to fail before.. ",
    "maxiang": "It's a tool to help people download and manage OBS plugins more convenient and easily,you can find it from the OBS tools menu.\nRight now,all the plugins come from the OBS Forum and i will update it regularly.\nAre you interested in this?do you wanna join me?:). Sorry to bother you. This plug-in installation tool is intended to see you get annoyed with each of your BBS posts with other plug-in path copy. I hope I can do something for you. Of course the code quality can be improved and the form of cooperation can be discussed. I wish the obs team members a happy work!. ",
    "craftwar": "Sorry, I am new to git and github. How do I do that? My fork contains some customization.\nI created branch at old point and updated to latest jp9000 on GitHub Desktop.\nGitHub Desktop adds Merge commit automatically.. Do I need delete branch on github and create robocopy branch again? Or fresh start on new branch and pr?\nIn the first way, I get error. In the second way, only local repository is fixed the github branch is not effected.. I find if file doesn't exist it will fail. (no file to compare) Use old behavior if file doesn't exist.\nI did try to add in .yml but fail. I don't know the syntax yml use. \nCurl fails sometimes, it's not related to my changes. Maybe, we should find a more reliable way to download file.\nMy build is successful.\nhttps://ci.appveyor.com/project/craftwar_appveyor/obs-studio/build/172. @RytoEX nice, it works.\nAnother question, do we prefer all scripts in yml or separate some functions into file. (like obs-studio\\CI\\before-deploy-win.cmd)\nI don't understand why three move are required. (maybe an old hack?) I can use VS2017 build successfully without them on PC and appveyor.\nBut don't upgrade appveyor to VS2017. (No Qt 32bit binary on appveyor VS2017 image). I remember why I create this now. If someone fork this repo, he will get error when using appveyor. This may happen when appveyor cache dispears accidentally too. Looks like it's bugged, can't be updated. I will create new PR.. Will it delete the same item twice and make OBS in uncertain state?. nvm, I will submit another patch. Still better than current one.. I use takeItem() and cache count() will reduce function calls.  It should be faster.\nI put a delete on each takeItem(). I don't rely on takeItem to delete it. It should be functional the same as original one.. Someone tells me only Win7 later is supported. There is no reason to use slower user lib (psapi version1), not to use faster kernel lib. (available in Win7 later) If XP or Vista is still supported, this should be closed.. Don't mind, that's why I close this pr.\nI tried to do in this pr.\nI think rapid updated file will be constantly updated in most use cases. \"update_file\" fix is not good. Remove it basically does the same thing and fewer delays.. ",
    "Jasim27": "Tr. ",
    "ch-sirius": "Hi there. Thank you for your valuable contributions. I'm personally waiting for that feature since weeks. We plan to use OBS for a live stream with 12 network cameras. There we need to optimize some stream properties to get a good video quality. So, the possibility of adding vlc options is crucial in this project. @EstevanTH could you please upload a build of the plugin with your latest version for 64bit, too? Thank you!\n@jp9000 of course I understand your points. But I think if you use VLC the MRL Syntax should be supported. People who need this options know how to use them (the same way as in vlc).. Thank you @EstevanTH! It works like a charm. . ",
    "sebix": "RAM used for buffers is always available for programs like OBS. All other GUIs show it as free.\nTechnically speaking it's not actually free or unallocated, because it's still used. The usage of this available RAM for buffers has a lot advantages over leaving it unused.. @pschichtel One build fails on travis: https://travis-ci.org/jp9000/obs-studio/jobs/240913031#L4248 (may be a reason). ",
    "pkviet": "@Xaymar \nthanks a lot for your very valuable comments ! I have less than two weeks history with vs 2015, c++, git so  I'm very much learning and making a lot of rookie mistakes. For instance when I tried to rebase yesterday, I lost all that I had coded. Ha ha. \n\n.gitignore: Why are you modifying this to inclue /bin, /bin32, /bin64, /lib32 and /lib64?\n\nthese are the includes and bin from dependencies2015.zip provided in the install page of the wiki ; I've struggled to get them out of the way; maybe I should just start over from a clean branch, sorry for my crass ignorance. \n\nUI/forms/OBSBasicSettings.ui: 5.1 and 7.1 exist twice and Surround doesn't properly describe the actual layout (both are Surround). They should instead just be called '5.1 (Side)', '5.1 (Back)' and '7.1' - 7.1 Surround doesn't exist and would just be 7.1. Technically both 5.1 are the same too since players don't differentiate between these most of the time - and i'm pretty sure there are barely any codecs that actually implement a flag to show the difference.\n\nok thanks a lot ! I'll change that\n\nUI/window-basic-main.cpp: Your change to the \"Stereo\" line 1084 pushes it past column 80.\nlocale for decklink: You should only need to modify the en-US.ini, everything else is exported from CrowdIn.\n\nagain thanks, was not aware of that\n\nYour PR has an update for enc-amf? Why don't I know about this update?\n\nthis again is an instance of my fucking badly with git ... I wanted to have my branch up to date with the commits of upstream/master but apparently I did it wrong.\nI'll try to squash that update (might need some pointers on how to do it)\n\nA bitrate of 1024 is kind of high, you can expect users to put it there and then blame OBS for it not working.\nOverall, you should put these extended options behind a checkbox that unlocks them so that they are hidden to the average user.\n\nYes you're absolutely right on both counts; I'll add a checkbox in the audioPage. I haven't put much thought on useability, because I wanted more to investigate whether obs can support multichannel.\n\nEdit: Your PR also has a bunch of useless commits that should be collapsed into commits that follow the link Jim posted.\n\nyes I'll fix that !. @mntone \n\nI think commit 1fd660b message is inappropriate.\nThat surround array is by video specification (CEA-861-D). Is it better to change e.g \"Rearrange the surround array according to the specifications.\"\n\nNo worry, the commit will be squashed; I need to rebase so in the process I'll remove it.\nOk thanks a lot for the pointer to CEA-861-D; I 've checked the page dealing with speakers assignments, very informative. \n\n_mm_storeu_si128 write 128 bit (= 16 bytes) data. So, you shouldn't comment extra_dst_size\n\nmy bad; I struggled to understand that line so I tried commenting it and uncommenting it to check what happens; I just forgot to uncomment when doing the PR.\nWhat is odd is that, when I commented it, it did not make any difference. The audio was fine.\nCould you elaborate your explanation ? I had figured out from sse2 instructions that _mm_storeu_si128 writes 128 bit .\nnew_size = frame_count * repack->base_dst_size already holds all the bytes for the active channels; \nwhy add extra_dst_size ? do you mean that _mm_storeu_si128 requires new_size to be a modulo of 128 bit ? if so, I don't get it because new_size = frame_count * repack->base_dst_size + extra_dst_size is clearly not such a modulo.\nAnd when extra_dst_size is removed, it does not seem to make a difference.\nCare to elaborate ? this has puzzled me a lot. Thanks.\n. - Rebased to master\n- fixes suggested by Xaymar all done, except the additional advanced setting checkbox  (to be done later, would enable multichannel and higher bitrates)\n- uncommented line indicated in mntone review)\n. Follow-up of Xaymar's comments:\n\ntoggle switch added to enable/disable multichannel audio and higher bitrates (> 320 kbs)\nrebased to master\nremoved trailing spaces\n\n. @RytoEX \nthanks a lot; sorry to have given you so much work. I'll do a better job next time !. @RytoEX \nmuch much thanks again, I feel a bit shameful for so many styling errors, rookie errors ha ha . thanks for the feedback, good to know !  \ud83d\udc4d . Following exchanges with Jim on #obs-dev , closing for now ; although the features are working, they're not mature enough in terms of integration with the rest of the ecosystem (filters, vst); much more extensive work would be required. If I have time I'll reopen later if there is progress.. Thanks very much Jim ! \nFor those interested in multichannel and who would like to work on it, here's the state of the PR regarding the issues mentioned by Jim:\n1) Filters:\n- compressor : working OOB\n- gain: not working (mono stereo are hard-coded; generalization to multichannel does not seem too hard)\n- noise gate: not working (crashes OBS, stereo hard-coded but most of the code is multichannel compatible so generalization seems quite do-able)\n- noise suppression( crashes OBS, since stereo is hard-coded)\nDisabling VST2 when multichannel is active (until VST3 is added) is the best option due to limited compatibility. \n2) outputs:\nAlready tested extensively (see link in first post); basically they all work (simple output rec and stream, advanced ouput streaming, standard rec, ffmepg rec).\nIn a few exceptional cases there are issues depending on the codec: for instance aac encoders do not go beyond 7.1 so 8.0 and 16.0 are not working (ffmpeg-output is then required with compatible codec: opus or uncompressed formats).\n3) personally I don't need different channel setups for different outputs though I could understand that for some users this is desireable for bandwidth saving (e.g. record in 5.1, stream in 2.0); twitch or FB live can ingest multichannel audio through rtmp (june 2017) and downmix it so (dependent on the streaming  service) multichannel streaming is not such a big concern for those having large bandwidth.  A per output speaker setup complicates the coding because it involves core functionalities so my preference would be not to implement such feature (and since Jim seems OK with not implementing that, which is a relief). \n4) Testings:\n- working perfectly on windows 10 (streaming, recording, monitoring)\n- working mostly fine on macOs (sierra at least) (streaming, recording, monitoring)\n [limitation on osx is that coreaudio_aac encoder is changing the order of channels ; but when using ffmpeg-aac, multichannel works fine exactly as on windows; an easy workaround would be to disable coreaudio_aac for multichannel; anyway the channel re-ordering with coreaudio_aac should not be too hard to implement anyway thanks to libswresample)\n- untested on linux\nMost of the multichannel coding consists in UI changes (basically adding speaker choices in audio menu) because the core coding is already multichannel capable so I have seen as yet very few compatibility issues apart from the coreaudio_aac  mentioned above.\nIf I find some time or if someone wants to address the filter issues I'll reopen the PR.\nPeople interested in these features can discuss on my repo or in this issue of OBS-Studio/mantis:\nhttps://obsproject.com/mantis/view.php?id=878\n. Update:\nFilters (win): all audio filters are actually working with multichannel with very minimal change of the code (extend arrays to number of channels)\nBut not re-opening yet; waiting for tests on linux.\n . Update 07/08/2017:\n\nmonitoring checked to work with multichannel (win & macOS).\nAudio Filters: working  with multichannel on all platforms (win, linux, macOs).\nvst: working on win and macOS (not implemented on linux)\nNB: \nstereo VST keep the first two channels\nmultichannel VST such as http://www.matthiaskronlachner.com/?p=1910 work properly.\nlinux: everything works as well as win/macOs \n\ncapture from Desktop audio in 7.1 tested and working.\n. Update 07/18/17:\n\n\nVideo players tested and supporting live surround sound:\nTwitch\nViblast. Update:\n\n\nCoreAudio aac channel mapping corrected to put in line with FFmpeg  / wav\n\n\nlibfdk_aac : small fixes for compatibility with multichannel\nNB: requires libfdk-aac > 1.3 which brought support of 7.1 surround. Uncomment l.134 of plugins/obs-libfdk/obs-libfdk.c to enable 7.1 . I've commented it because Travis + Ubuntu trusty has libfdk-aac 1.2 only with no backports. I'll update the deps script for linux later maybe for manual install of libfdk-aac-dev .\n. Update:\n\n\ncompatible with Mixer rtmp service (not Mixer FTL which has a stereo player). Update:\n\n\ntested with smashcast.tv, works fine with surround sound.. To do:\n\n\nwith addition of pulse audio monitoring, needs to update linux code  (requires minor additions to code, not difficult)\n\n16 channels setups work for recording to mkv with opus but not for streaming in mpeg-ts with opus (ffmpeg does not support opus in mpegts for more than 8 channels; I have submitted a patch to ffmpeg to remedy that)\ndecklink channel swapping was fixed for windows but the swapping code must be OS customized for linux and macOS (no swapping required)\n\nEdit: issues fixed\n. Update:\n\npulse-audio monitoring enabled for multichannel\n\ndecklink: there is a channel swap on windows but not on macOs nor linux; issue fixed.. Update 10/05/2017:\n\n\nFull support in rtmp of up to 16 channels in aac.\n\n\nRequires a patched ffmpeg enabling aac encode beyong 7.1 (branch aacdev of my FFmpeg fork); the patch is with ffmpeg main aac maintainer who started the work on enabling PCE (program config element) with aac encoder.\n(For libopus + mpeg-ts support beyond 7.1, another ffmpeg patch is necessary; I've submitted to ffmpeg dev for review. For recording to mkv, no patch is necessary to record up to 255 channels, only the mapping_family=255 argument).\n. Update:\n\nbinaries are available for testing purposes in the repo of my fork.  \nI have used them without issues in prod though.  \n\n. Thanks a lot again.\nI agree with your assessment of 16.0 ; it is indeed very very fringe case. I'll keep it in a separate fork.\nIf you're OK with it, I would like to work on a wiki page on surround sound / multichannel, integration in a DAW, decklink etc .... hi, the cutoff frequency in obs-ffmpeg-opus.c (line 162, which was copy pasted from ffmpeg-aac ) is quite probably off the mark for libopus; from libavcodec/libopusenc (function libopus_encode_init):\n\nCutoff frequency must be exactly one of: 4000, 6000, 8000, 12000 or 20000\n\nSo it will probably be inactive most of the time.. nice PR. \nCould you change your check of stereo condition from :\nif (strcmp(speakers, \"Mono\") == 0)\n        panning->setEnabled(false);\n else\n        panning->setEnabled(true);\nto:\nif (strcmp(speakers, \"Stereo\") == 0)\n        panning->setEnabled(true);\n else\n        panning->setEnabled(false);\nThis will have the same effect but it creates compatibility if other speaker layouts are enabled in the future (as in my PR). it is a good idea to pan per channel; so +1 also about c3r1c3 remarks . @Wiethoofd  or one could write a filter implementing channel routing or mixing using libswresample; i might write one when i have some free time. It should not be very difficult. . btw the sdk was updated to 10.10 about 2 weeks ago\n. right, check https://obsproject.com/mantis/view.php?id=1045 ; R1CH has several commits which should fix these issues (some pending from what I was told on irc ). Following Jim's advice, added version check of libavcodec.\nAVFMT_RAWPICTURE : is removed if avcodec_version >= 58 .\nAV_PIX_FMT_VDA_VLD: replaced by AV_PIX_FMT_VIDEOTOOLBOX in all cases (supported for macOS >= 10.8)\n(check : commit in ffmpeg )\n==> tested and working on High Sierra (10.13).\nA test on Sierra, El Capitan and Yosemite would be welcome ...\nOr AV_PIX_FMT_VIDEOTOOLBOX could be scraped .... yes, Jim told me ! I corrected the title already as you can see above. Oh, sorry. That's corrected now. thanks again !. On Hold\n======\nFollowing a suggestion of Xaymar, I'll add enc-amf support. For now this plugin works only for x264.\nI'll try to add also for nvenc and libmfx (qsv)     \nEdit:\nsupport for qsv and enc-amf added.   \nNvenc NOT supported (dynamic bitrate is supported by nvidia api but this does not seem implemented in ffmpeg).  \nIn testing phase for enc-amf.\n. PR Updated\n=================\nSupport for enc-amf and QSV added.  \nFFmpeg-nvenc is unfortunately incompatible with dynamic bitrate; the feature was not implemented.   \nIn terms of bitrate switching, the most efficient encoder is QSV ; enc-amf and x264  are on par, one better than the other in some conditions.   \nThe switching has been tested under hard-wall conditions: upload speed bounded (through a router),  \nand on macOS by simulating various internet connexions using Network Link Conditioner (free XCode tool).. Update and to do\n=================\n\nAdded flags to h264 encoders ( through info.caps ) to signal dynamic bitrate support (cf @reboot ).    \nAdded log when dynamic bitrate is enabled (cf @dodgepong )    \nChanged text displayed in UI for option (cf @notr1ch )\nAdded an arrow in status bar to indicate whether bitrate switching is active and which way it is going (increasing bitrate, decreasing it  or leaving it) (cf @dodgepong on discord )    \nTO DO: enable finer user control on bitrate decrease or increase rate in UI (cf @jp9000 on discord who thought the decrease rate is quite steep; the right rate much depends on local network conditions so this would allow the user to adapt it a bit).  \nI'll push the additional commits when the last item is done.  \nI'm separating the features in different commits for easier cherry-picking.\n\nedit: last task done (02/22/18). Update (02/22/2018)\nApplied the suggestions in the various reviews.    \nNOTE (reminder):\nin plugins/enc-amf/Source/enc-h264.cpp#LN101\nadd: encoder_info->caps = OBS_ENCODER_VIDEO_DYN; \nwill submit a PR in submodule later if this PR is merged.. @SuslikV \n1. check in UI/forms/images for the icons names. Then look at UI/data/themes/Rachni to see how you can override the icons.\n2. Disabling the option for nvenc requires some UI work which I hesitate to implement at the moment because it will have to be reverted if ffmpeg-nvenc gets dynamic bitrate support (I'm thinking of submitting a patch to ffmepg eventually). But I'll look into it.\nFor the tooltips, texts, let me think about it and also in light of further reviews.\n3. The dynamic bitrate mechanism is independent from the frame drop mechanism. It sets in much sooner than frame dropping so it can prevent frame dropping altogether if aggressive enough, though in general it won't prevent frame drops but will mitigate them. \nSo it's not possible to quantify when frame dropping will start as a function of bitrate decrease.. 1) look at the list of files in that PR: there are 3 png, dyn.png, dynup.png and dyndown.png ;\nonce merged they will be located in UI/forms/images ; if you check obs.qrc of this PR you will see there are three new entries.\n3) if the user has say 1 Mbs of upload bandwidth but selects more, the  option will lower automatically the bitrate for him/her. If the upload bandwidth fluctuates , it will do also. And when bandwidth gets larger, the option will increase back the bitrate. \nIf the bitrate is contained, it will of course decrease the number of frame drops. The option controls frame drops indirectly in this way: if bitrate decreases, buffer will not be as filled and therefore frame drops will be less frequent. \nWhen I say the option can only mitigate drops and not prevent them completely is because when the algo tries to increase the bitrate, it will test against congestion parameter (which is a measure of how filled is the buffer): if there is no congestion, the algo knows it can still increase the bitrate until congestion appears. Then as to frame drops occuring during that increase phase, it all depends on a combination of how fast network bandwidth fluctuates and how fast the algo adjusts bitrate. When decreasing bitrate, it is the same; suppose bandwidth is going down faster than the bitrate adjustment, the buffer will get filled and therefore there will be drops. But less than if the option had not been activated.  \nWhat must be realized is that frame drops / dynamic bitrate are two different mechanisms to deal with fluctuating bandwidth. The first prioritizes the quality of the picture, with less frames; the second prioritizes the frames continuity to the expense of image quality.     . 1) Themes can override all icons, so these icons in my PR can also be overriden . But maybe I misunderstood you, sorry then. Might be simpler to discuss this on discord on dev channel.  \n2) You're right , the end-user does not need too much info. Notice the controls for the algo only appear in Output > Advanced mode.  \nI get your point about tooltips and the rest. I'm waiting for Jim's review to synthesize everything now. Thanks.  \n. Update 03/14/18: fixed some UI bugs (never use Qt Creator on obs ui files !). Update:\nFixed mem leaks.. Update:\nAdded 3 controls in Advanced Output mode in order to be able to set them for Twitch.\nCode cleanup.. Update 05/05/18\n- Styling fixes (per RytoEx review)   \n- Support for Nvenc dynamic bitrate added (requires ffmpeg master with my commit https://git.ffmpeg.org/gitweb/ffmpeg.git/commit/155375123c1f2e41f97057f00e65bcbb20f7833a\nwhich adds dynamic bitrate for nvenc encoder in ffmpeg)  \n- Change of defaults after some testings (more aggressive when decreasing bitrate)  \n- Improved algo for the bitrate increase phase : if congestion reappears, the bitrate is almost immediately returned to previous value (between 30-90 ms reaction time)\n- bugfix when default bitrate is used (2500 kbs): since no bitrate is saved in streamEncoder.json , if one stopped a stream during a congestion and restarted later the initial bitrate was not reset to initial value (because no value was found in json). . @RytoEX \nthere are no issues if the avcodec dll is not up to date. The bitrate update block in obs-ffmpeg-nvenc sends an updated bitrate to nvenc which won't take it into account.\nSo no absolute need to put preprocessor directives but to be on the safe side I'll add some.  It requires avcodec 58.19.101 (bump from may 7 while my ffmpeg patch was merged on may 5). Update (07/18/18):\n\nrebased to a single commit for better readibility.\n\n. Update (08/02/18):\n\n\nBitrate floor setting added (sets the minimum bitrate; defaults to half the initial bitrate; some might want to have more aggressive settings.)    \n\n\nDefaults changed due to Twitch requirements for 30 sec between congestion detection and earliest bitrate increase : \n\npolling time between increases: every 30 sec ;\n35 % increase rate .\n . Update 11/08/2018\nRebased to git head.\nPR split in several commits.\nMinor fixes (removal of a warning, function in obs_output_info moved to end of struct to avoid API break). > Whats the current status of this PR and getting it merged? There are quite a few IRL streamers that could benefit from this once it's merged.\n\n\n\nNo ETA.\nIf you're interested in that feature, upvote it : https://ideas.obsproject.com/posts/349/dynamic-bitrate-support. @Krutonium great to hear that. Don't forget to upvote https://ideas.obsproject.com/posts/349/dynamic-bitrate-support. @Krutonium nope i've updated the PR to latest nvenc, both jim-nvenc and ffmpeg-nvenc (jim-nvenc is Jim's implementation which is more efficient) and dynamic bitrate works on both. > Awesome, so just build as normal then? Wanders off to get started\nright. update 02/21/19\nPer Dodgepong suggestions:\n- changed colour of icons on the status bar;\n- fixed the incomplete arrow;\n- added localized tooltips.\n(updated with last comments). > This looks great but how does one download this for use?\nThis is a pull request, meaning a request for this code to be merged into the project. If you want to use these features, you'll have to compile binaries yourself (see the wiki for instructions) or wait until it's merged (or not).. > I found using the default NVENC encoder rather than the one marked (new) didn't work as desired with dynamic variable bitrate.\n\nIt would constantly flit between the lowered bitrate and the normal high bitrate specified in the encoder settings (CBR), causing frame droppage during congestion.\nHowever, selecting the (new) NVENC encoder fixed this issue.\nI'm curious to know if anyone else has experienced this.\n\nFirstly, it's true that the new nvenc is better than the other encoders as to dynamic bitrate.\nFor the other encoders (x264, old nvenc, amd amf), you need to tighten the params:\n- set for instance 100 ms for Decrease polling time instead of the 300 default\n- increase the 'Bitrate decrease rate' (ex: 25% instead of 15 %).\nIn that way with CBR, old nvenc I completely avoid dropped frames.\n- i'm gonna set the minimum threshold for bitrate drop to 1% (instead of 5% currently). update\n- changed the default settings to decrease bitrate more aggressively ; will play better with old nvenc and x264\n(see discussion with @hedgehog90 ). yes I agree.\n. Closing because it is redundant with PR 1110. hi, \nsomething went wrong with your commits: the diffs are too large , as if you had removed the original files and replaced with other ones.\n. very nice; how hard would it be to generalize that for surround sound ?. only speaking for myself, but meters for surround would be great of course.\nyou can also go to irc #obs-dev for futher discussion since this is drawing the attention of several devs. wow, wonderful. i had not noticed those were api changes, thought them local to the module ; so 'media-io: Surround Speaker Map' would be more appropriate as title of the commit (you'll have to git commit --amend and force push as well as edit the title here)\nwould it build on win if your api changes to media-io become local to pulse-audio ?\n  edit:\nafaik the surround layouts work fine on win + macOS so no need for a new api; when I tested them on pulseAudio I didn't observe the channel scrambling you have, except when i was using an hdmi audio source from my CG captured with a decklink card. What is your audio source ? live capture or file ?\nI'll try to check on my linux box but i'm surprised.\nIf would be good to have confirmations. OTH i've had issues to setup correctly pulse-audio on my box, so .... doesn't build on msvc 2015 here. Same errors as appveyor\nError C2059 syntax error: 'constant'    win-wasapi audio-io.h   56 \nError C3805 'constant': unexpected token, expected either '}' or a ','  win-wasapi audio-io.h   56    \nError C2440 '=': cannot convert from 'int' to 'speaker' win-wasapi audio-io.h   135   \nError C2440 '=': cannot convert from 'int' to 'speaker' win-wasapi audio-io.h   136 \nError C2440 '=': cannot convert from 'int' to 'speaker' win-wasapi audio-io.h   137\nError C2065 'SPEAKER_LFE': undeclared identifier    win-wasapi audio-io.h   138 \nError C2065 'SPEAKER_REAR_LEFT': undeclared identifier  win-wasapi audio-io.h   139 \nError C2065 'SPEAKER_REAR_RIGHT': undeclared identifier win-wasapi audio-io.h   140 \nError C2440 '=': cannot convert from 'int' to 'speaker' win-wasapi audio-io.h   141 \nError C2440 '=': cannot convert from 'int' to 'speaker' win-wasapi audio-io.h   142 \nError C2065 'SPEAKER_LFE': undeclared identifier    win-wasapi audio-io.h   157 \n Error C2065    'SPEAKER_REAR_LEFT': undeclared identifier  win-wasapi audio-io.h 162 \nError C2065 'SPEAKER_REAR_RIGHT': undeclared identifier audio-io.h  163 \nError C2065 'SPEAKER_LFE': undeclared identifier    win-wasapi audio-io.h   168 \nError C2065 'SPEAKER_REAR_LEFT': undeclared identifier  win-wasapi audio-io.h   169 \n Error C2065    'SPEAKER_REAR_RIGHT': undeclared identifier win-wasapi audio-io.h   170   \n`. for compat with wasapi, you will need to rename all your speaker positions from enum speaker ;\nfor instance: SPEAKER_MONO ==> POSITION_MONO etc \nAfter that it compiles fine. The issue is because the constants are already in use in wasapi\n  . Hi again;\ni checked on master sources with 4.0 5.1 7.1 ; I can't confirm what you report about channel map being incorrect with pulse-audio.\nAll the channels are properly assigned for me.\nMy test protocol (ubuntu 17.10 x64 / obs master head):\n- multichannel file source (n channels) with audio identification of the channels (voice over spelling channel 1, channel 2 etc )\n- settings > audio > speaker set for n channels\n- record mkv with surround sound\n-  split into n mono wav files \n- listen each individual file\nI think something else is messing with channel order in your setup.\n. Hi, \nmy bad;\n i hadn't seen that mantis report. Thought that your issues were more general. \nI can't easily try to reproduce the bug as my multichannel sound cards have driver issues on linux.\nWhatever, from your report the issue seems quite clear and the addition of channel map for pulse-audio is clearly useful.\nAnd you removed the compat issues with wasapi. So LGTM.\n . well spotted. LGTM. ok i will do it then; and actually I realized a change should be made for 2.1 :  SPEAKERS_2POINT1:          return AV_CH_LAYOUT_2POINT1 ==> should be  AV_CH_LAYOUT_SURROUND\nReason is ffmpeg aac encoder directly support 2.1 only on master; while earlier versions of ffmpeg for three channels support only AV_CH_LAYOUT_SURROUND = FL FR FC ; it is not 2.1 but it is working fine because the LFE channel is encoded as a SCE without low freq filters.\n. ffmpeg native aac encoder supports all layouts in avutil/channel-layout.h on master head.\nBut on earlier versions including 3.4 which ships with obs on windows only the following layouts are supported :  (extracted from libavcodec/aacenctab.h )\nstatic const int64_t aac_normal_chan_layouts[7] = {\n    AV_CH_LAYOUT_MONO,\n    AV_CH_LAYOUT_STEREO,\n    AV_CH_LAYOUT_SURROUND,\n    AV_CH_LAYOUT_4POINT0,\n    AV_CH_LAYOUT_5POINT0_BACK,\n    AV_CH_LAYOUT_5POINT1_BACK,\n    AV_CH_LAYOUT_7POINT1,\n};\nThis follows from aac spec.\nlibfdk_aac and coreaudio aac follow the spec also and therefore for 3 channels, treat it as FL+FR+FC ;\nbut as explained above this can still be used for 2.1 because LFE gets encoded as FC (as an SCE channel in spec terms).\nI'll fix that later today.. > The restrictions of the AAC is only the limit of the encoder itself.\nRight\nFor instance mf-aac does not support the full aac spec.  \nOn the other side of the spectrum, the (native) aac ffmpeg encoder supports up to 16.0 (on master only, not on current release 3.4), (aac spec supports up to 48 channels ; aac ffmpeg is the only encoder to go beyond 8 channels).    \n\nThe Studio may operate wider number of channel setups. \n\nIt could. I had added up to 16.0  in my PR on surround audio but Jim felt it was too much; I do agree that's it's a very specific use-case that i have.   \n\nSpecify, was it intended to use only AAC for multi-channel audio or not?    \n\nNo. If other codecs support surround , they should work.  (used libopus, ac3, vorbis, pcm without issues)\nBut this misses the point which is that you need to have your speaker layouts tailored to aac spec since this is the default audio encoder.    \n\nA for me, I think only: stereo; 5.1 and 7.1 needed at all (even mono is obsolete).\n\nMaybe for your case uses. \n4.0 is useful for ambisonics == order 1 ===> can be used to stream to FB live 360 with spacial audio, if you have an ambisonics capture device. \nI personnally use with decklink capture card all the range of speaker layouts provided by OBS (and also beyond). \n. > I think 3 channels setup not required at all. The controversial info placed in the code intentionally may cause future problems in the development.    \nThat's your opinion. Please could you not conflate your own usage to other people's case-uses ?        \n\nAlso, it should change the 48a8e75 for OBS SPEAKERS_2POINT1 description    \n\nNo need to change anything as I explained in detail. This will be properly encoded as 2.1 by FFmpeg native aac if ffmpeg is on git head (or later than commit fc9dcfe7d50d7 dated nov 9 2017); on earlier FFmpeg with this commit it will be encoded as 3.0 which just means some low-pass filter is not applied by the encoder.  \nThe other encoders coreaudio aac or lib-fdk-aac  will also encode as 3.0 without any issues.  \nThe opus encoders, pcm, ac3 will encode correctly 2.1. \nIt is a bit hasty to judge there is no case use for 2.1 surround sound.      \n\nand MS KSAUDIO_SPEAKER_2POINT1 (custom made) value for audio monitoring.     \n\nThis requires a separate commit . You can resubmit that if you want. But that would be purely cosmetic with no impact. \n\nThe forum has number of logs that shows only 2 channels usage.  It is wise to wait to gather more info on multi-channel formats usage requested by end-users.    \n\nThe release is what ? 11 days old ... \n. i've wanted to investigate this bug for a long time; good work.\nIMO you should separate in 3 different commits since there are three bugfixes.\nWhen you're done just force push your local branch to your fixMonitoringOnOSX ; this will update the PR automatically (no need to close it). much thanks  @RytoEX \nI've done all the changes. overlooked your comment on savetrackindex function ; it saves a single track. That's why it is used for saving the track for streaming. For recording standard, a bitmask is used. That's what I copied from Rec Standard fo Rec FFmpeg.. Jim, changes applied per your review. \n. @RytoEX good point; i've implemented it and removed the period.. @PicoCentauri you need to rebase; it's definitely wrong to have all these commits in your PR.\nFirst go back in history: git reflog ==> spot the hash you want to go back to (before all your current operations), git reset --hard hash (the hash you spotted)\nThen git fetch upstream (if upstream is the name for obsproject/obs-studio remote ), git rebase -i upstream/master . right , we thought of adding checkboxes to source mixer to indicate to which tracks the sources are routed. But we've been told that the UI is too cramped as it is ... but we agree this would be useful. . Update: 10/06/18\n- changed the icons;  \n- changes due to ffmpeg output supporting multi-track. . Update: 10/21:18\nFollowing SuslikV suggestion, we've added tracks buttons. They are more convenient in our opinion than in the Advanced Audio Properties. This simplifies the routing setup.\n. sends could be send but i've put plural because it's sending a source audio to several tracks (to several sends, , same term as in a DAW) . Anyway no big deal.\nAs to the icons, I must say that design is not my thing. Feel free to create new set of icons ; you can contact me on discord to drop them.\nBe sure though to check against the four themes; there might be different sets of icons for each of the current themes. \nAs to merge time frame, I doubt this will be merged any time soon. There are higher priority features. You can always upvote the feature on fider:\nHERE. go to obs server, #development , ping me there (@pkv ). @SuslikV i'm not knowledgeable enough with qt styling to really understand your suggestions, not your fault, just my ignorance. Feel free to make a PR to my branch so that I understand better what you mean, I'm really open to any improvements . update 02/03/19\n- hide the tracks buttons (of input mixer) on default.\n- the tracks buttons are displayed through context menu of the mixer.\n(see @WizardCM comment). @Himura2la note that the record/stream buttons appear only in Advanced mode; so people using this mode presumably are there for some reason. The buttons just reflect the current state of obs; they're not exposing any new feature. Different tracks for streaming and recording ARE available already so UI should reflect that, don't you think ?. @Himura2la what do you mean ? when you click on the green icon , it selects the track for streaming and deselect other tracks; when you click on the red REC icon, it selects the track; if you click again it deselects the track. In other words the icon is associated with a checkbox and there are two png for each state.\nI don't know what you mean by 'linking' in that context. Please elaborate or show up on obs discord to chat.. update 02/05/19\n- changed stream icon in master mixer and positioned it at top\n\n. Update 02/06/19\n- moved the AIR icon on top of the meter. This might very well fix also the max buffering issues with rtmp /rtsp sources with Media Source.\nThere are several mantis issue pertaining to that. A recent instance: \nhttps://obsproject.com/mantis/view.php?id=1320. @twrist can you confirm if with latest master your issue is fixed ?\nsee especially 4fa30c6\nping me on discord if you want to dsicuss the issue further (pkv). Closed due to Jim adding a check. . if you have the links, feel free to add them in a comment; i'll edit the fist post to add them.. Open source should be translated. A software can be free but not open source, and the converse is also possible.\nAs a matter of fact, the term Open Source is now used in French directly ... \nSee for instance the wikipedia entry: https://fr.wikipedia.org/wiki/Logiciel_libre\nI would even leave streaming untranslated ... since it's commonly used in French too.\nSee again: https://fr.wikipedia.org/wiki/Streaming\nSo:\nLogiciel Libre Open Source d'enregistrement et de streaming\nDiffusion translates Broadcast rather than streaming.. Hello again, I still disagree with removing Open Source. It's in the original; whether it is redundant with 'free' or not is irrelevant. You have to keep it since it was intended.. Hi,\ni've reviewed the appimage with several debian based distros (stretch, mint, ubuntu, last versions). It's working really well and should prove useful to linux users.\nThe only issue I found is that scripting is broken. Both python and lua.\nThe logs show that the obs-python module is not loaded; I thought that lua was checking Travis log, it does build so I don't know why it is not working.\nAlso, couldn't test vaapi due to some local issues on my side. It would be great if someone could check it works.. go to Tools Menu > scripts : click on + ; there are some demo scripts; one is a python script which loads text from a url (you need to create a text source first; try a url which is text only); other demo scripts are lua. You can also find scripts in here: https://obsproject.com/forum/list/scripts.28/\nYou can ping on discord if you want some help. Scripting is indeed fixed, both python and lua; good job !\nWould you consider Bazukas suggestion to include browser source ?\nThis would be quite useful.. Jim, that's what I meant; Bazukas suggested earlier to probono to include your browser version (can't find where it was)\nedit: oh sorry for the confusion; bazukas did link to his obs-browser not yours. So strike my suggestion. probono: check this discussion https://github.com/obsproject/obs-browser/issues/141\nJim's obs-browser requires two linux fixes to work which are discussed there.. Update: 01/12/19\n\nAdded presets for expander/gate.\nAdded Detector setting (RMS, Peak).\n. you need to increment the package version in plugins/rtmp-services/data/package.json. > I'm in this list twice, once with my full name and once without my full name and just my alias. I think you should group these by email, which hopefully reduces duplicates.\n\nA mailmap would be a solution.\nhttps://git-scm.com/docs/git-shortlog\nedit: there's already one; it just need to be updated. I'll see what I can do @admshao . could you give more detailed explanations as to what this commit (and the others you offered) do ? It would help the reviewing from Jim and other devs.. > What about also alternating colours for the different audio push to mute sections? One device slightly darker/lighter just to make it easier to distinguish the individual sections. Something like this\nuh . Why not, except that this would be better left to themes, no ?\n. There would need though to be some changes to distinguish for odd and even\nindexed source. That would be a separate PR.\nLe ven. 11 janv. 2019 \u00e0 19:46, ntoff notifications@github.com a \u00e9crit :\n\noh sorry I didn't realise you could do it with themes, I figured it was\nall just one big element so couldn't be separated out.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1610#issuecomment-453617221,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AI2nTw0i6Z6rE3FY29vSFOuNd1b-hTChks5vCNvpgaJpZM4Z6hVh\n.\n. update\n- moved bold styling to qss.\n- fixed alignment issues with rescale checkbox.\n- for dark theme, change style for groupbox titles to same as rachni.. > Only \"Dark\" theme seems to have the above problem.\n\nno issue on my side; can you check in your rundir whether the Dark.qss file was updated or not ?. what's your Qt version ? I'm on qt 5.10.1 same that ships with current release.. Yeah, this is a qt issue then. We had bugs with qt 5.11 so we're still on 5.10.1 and next release will very probably stay there. . > Would it be too much to ask for you to do a once over for RTL languages? On v22 RTL languages are all over the place in terms of alignment and a quick once over doesn't make this change look very promising.\n\n(Tested Hebrew)\n\nHey Kurufu, yeah Fenrir pointed this out too. To Warchamp and me it looked ok but I don't read hebrew.\nTo make it work as before for RTL I guess I would have to create themeIds for that. Not completely sure how to achieve that since my knowledge of qt styling is very limited ... A lot of the styling is hard-coded atm in the .ui file. It would be more sane anyway to have these styling stuffs moved wholly to qss.\nLet me give some more thought on ho< to do that and discuss with the qss gurus among us.\n. @SuslikV i can't comment on what is proper or not, regarding: QGroupBox::title {\n    left: 20px;\n    padding-left: 5px;\n    padding-right: 4px;\n    padding-top: -14px;\n    font-weight: bold;\n}\nI just copied the block from rachni theme.\nYou might want to bring that to the attention of  Fenrir.\n. update:\n- I've removed the styling changes copied from Rachni.\n- @SuslikV regarding your comments : feel free to PR them separately. Your command of qss is far better than mine !. no objection. > The mentioned document suggesting \"Peak\" as default rather then \"RMS\" detector. Why it was chosen RMS then?\nI followed Dedrick recommendation. For the expander for short release time, RMS gives you time to speak while Peak gets choppy. (the pdf deals with compressor so small differences are to be expected). > Is this new expander filter intended to work as described here:\n\nhttps://www.mediacollege.com/audio/processing/expansion/\nor it doing something different?..\n\nit's a regular downward expander; you can test it in the RC1 and RC2. LGTM, just a missing CR in the locale file. The feature is useful, avoids opening the blackmagic setup app. I've tested it, no fuss.. will do thanks. ok will align then. done. done. done. done, thanks a lot !. thanks R1CH, you're right, will change to what you suggest.\nDodgepong suggested to add  an indicator at the bottom when bitrate switching is active.\nWondering also if it would be useful to add some user control on the bitrate decrease and increase rate (that would be in Advanced mode obviously).\n. that's a good point. \nThat was the lazy option I took.  \nIt would require to add a flag to h264 encoders. \nWill do that as well as other improvements; I forgot to check videotoolbox for instance.. oh i just forgot to remove the line which helped me during dev. \nIt was to track the bool. It is used for UI . Initially I had coded only for x264 but if other h264 encoders are supported I needed the option to appear in Simple and Advanced mode as well. \nI'll log the activation of variable bitrate, good idea.   . you probably reviewed from github ? github display seems faulty; in VS2017 ide and notepad++ the  lines are aligned . line added, dunno why github keeps this open. oh i guess i have tabs at 4 then ... shit, lemme fix that. ah shit, ok i'll revert it. Thanks for the comment. syntax is that of Jim for standard recording, cf line 3048-3054 of same file. nope; just following ffmpeg c style; mixing up projects and styles , sorry. I have no objection to letting the user set the floor bitrate.\n50 % should be enough in most cases though because the resolution is not changed so lowering the bitrate even more is kind of violent. But I admit that some prefer to lower quality all the way rather than dropping frames.\nDid you test several encoders? Qsv behaves better than the others. . I'll add the floor setting next week along with other things. I'll add the floor setting next week along with other things. Sure, I've added back the line and restored original order.. bitrate floor setting added.. ok changed photoshop to psd. moved that to qss. just forgot it, moved to qss. removed. thanks for pointing that out. I've removed all the unnecessary checks.. done. ok will do. will do. done. done. ",
    "fugalh": "I can confirm that this works properly with Facebook ambisonics live streaming using \"4.0 quad\". ",
    "chrishobcroft": "Thank you guys for including the audio monitoring function in OBS on Linux... I just installed 20.1 and was super happy to have this function as an option now.\nThanks @jp9000 @admshao @RytoEX @admshao @gamaral \n\n. ",
    "pschichtel": "What is currently holding this back?. From what I have seen about libyami, this library seems focus on Intel's CPUs. Would this still work with other GPUs supporting vaapi ?. ",
    "vsnrain": "Hello. I tried using this branch, but whenever I start recording or streaming with hardware encoder, it fails with error:\n12:00:52 AM.413: [VAAPI encoder]: \"vaEndPicture(q->display, q->context)\": invalid parameter\n12:00:52 AM.413: [VAAPI encoder]: unable to encode frame\n12:00:52 AM.413: Error encoding with encoder 'streaming_h264'\nStill, h264_vaapi hardware encoder seems to work ok when converting streams in ffmpeg.\nWhat could be the problem?\nFull logs here.. @kingargyle vainfo. I am using Arch, and I tried downgrading packages to\nlibva-intel-driver-1.7.1-1\nlibva-1.7.1-1\nand it is still does not work. Same behavior, but this time it does not even show error and end log with \n==== Recording Start ===============================================\n[ffmpeg muxer: 'adv_file_output'] Writing file '/home/vsnrain/2017-07-29 10-39-16.mkv'...\nthe video file is created, but only with single frame.. ",
    "Bleuzen": "I also get this error when using CBR:\nerror: [VAAPI encoder]: \"vaEndPicture(q->display, q->context)\": invalid parameter\nerror: [VAAPI encoder]: unable to encode frame\nerror: Error encoding with encoder 'streaming_h264'\nSo I tryed CQP, maybe I can at least use it for recording.\nBut no.\nWhen recording with VAAPI CQP it freezes my computer after about 20 seconds.\nI can't even press the reset button: nothing happens\nI have to take it from the power cable to 'shut down' and restart it.\nA part of the console output after obs started:\nlibva info: VA-API version 0.40.0\nlibva info: va_getDriverName() returns 0\nlibva info: Trying to open /usr/lib/dri/radeonsi_drv_video.so\nlibva info: va_openDriver() returns -1\nerror: [VAAPI encoder]: \"vaInitialize(display, &major_version, &minor_version)\": unknown libva error                \nlibva info: VA-API version 0.40.0                                                                                   \nlibva info: va_getDriverName() returns 0                                                                            \nlibva info: Trying to open /usr/lib/dri/i965_drv_video.so                                                           \nlibva info: Found init function __vaDriverInit_0_40                                                                 \nlibva info: va_openDriver() returns 0                                                                               \nlibva info: VA-API version 0.40.0                                                                                   \nlibva info: va_getDriverName() returns 0                                                                            \nlibva info: Trying to open /usr/lib/dri/radeonsi_drv_video.so                                                       \nlibva info: va_openDriver() returns -1                                                                              \nerror: [VAAPI encoder]: \"vaInitialize(display, &major_version, &minor_version)\": unknown libva error                \nerror: os_dlopen(libnvidia-encode.so.1->libnvidia-encode.so.1): libnvidia-encode.so.1: Kann die Shared-Object-Datei nicht \u00f6ffnen: Datei oder Verzeichnis nicht gefunden\nI made a 2 seconds test recording (because I don't want my computer to freeze again) and this is the log file of it:\n2017-08-12 09-24-29.txt\nThe recorded video is ok and plays fine in VLC.\nMy OBS settings:\n\nI'm using this branch: https://github.com/kingargyle/obs-studio/tree/vaapi-h264. I hadn't the libvdpau-va-gl installed.\nSo I installed it.\nCBR and VBR still doesn't work and CQP still freezes my PC :/. I took the code from w23 and updated it to work with the newest obs.\nThis uses ffmpeg and it works for me on Manjaro with ffmpeg 3.4 and libva 1.8.3 installed.\nOld source: https://github.com/w23/obs-studio/tree/ffmpeg-vaapi\nUpdated branch with 20.1: https://github.com/Bleuzen/obs-studio/tree/ffmpeg-vaapi\nPatch file: https://patch-diff.githubusercontent.com/raw/Bleuzen/obs-studio/pull/1.patch\nThe only thing that you have to change is this line in /plugins/obs-ffmpeg/obs-ffmpeg-vaapi.c:\nc\nret = av_hwdevice_ctx_create(&enc->vadevice_ref, AV_HWDEVICE_TYPE_VAAPI, \"/dev/dri/renderD129\" /*FIXME*/, NULL, 0);\nfor me it works with /dev/dri/renderD129, because /dev/dri/renderD128 is my AMD GPU and /dev/dri/renderD129 my Intel GPU.\nIf you also have 2 GPUs, you may have to change /dev/dri/renderD129 to /dev/dri/renderD128 before compiling, if you want to use your other GPU.\nIf you only have 1 GPU, you should also change it to /dev/dri/renderD128.\nTODO:\n - There is no way to change the render device from GUI already\n - Implement VBR encoding (currently only CBR supported)\nBUGS:\n - CBR encoding is not realy constant bitrate. The set bitrate just acts like a maximum. If nothing happens on the screen, the bitrate drops down.\n - Sometimes when starting a recording, the bitrate drops to 0. The output file is empty. Restarting OBS helps, if not, restarting my system, and it work's fine again. It only happens realy rarely. I still try to figure out, how to trigger it. I'm not sure if this is an issue with OBS or my system configuration.. Works. But what would be nice for recording:\n - Variable Bitrate setting\n - HEVC support. ",
    "iopq": "I tried compiling the fork, and I can't run it. It compiles, then:\nAttempted path: ../../data/obs-studio/locale/en-US.ini\nAttempted path: ../../data/obs-studio/locale.ini\nAttempted path: ../../data/obs-studio/themes/Default.qss\nAttempted path: ../../data/obs-studio/license/gplv2.txt\ninfo: Processor: 4 logical cores\ninfo: Processor: Intel(R) Core(TM) i7-4770K CPU @ 3.50GHz\ninfo: Physical Memory: 15975MB Total\ninfo: Kernel Version: Linux 4.10.0-32-generic\ninfo: Distribution: \"Ubuntu\" \"16.04\"\ninfo: Portable mode: false\ninfo: OBS 19.0.2-21-g6d467e4 (linux)\ninfo: ---------------------------------\ninfo: ---------------------------------\ninfo: audio settings reset:\n    samples per sec: 44100\n    speakers:        2\ninfo: ---------------------------------\ninfo: Initializing OpenGL...\ninfo: OpenGL version: 4.5 (Core Profile) Mesa 17.3.0-devel - padoka PPA\ninfo: ---------------------------------\ninfo: video settings reset:\n    base resolution:   2560x1440\n    output resolution: 852x480\n    downscale filter:  Bilinear\n    fps:               30/1\n    format:            NV12\ninfo: ---------------------------------\nlibDeckLinkAPI.so: cannot open shared object file: No such file or directory\ninfo: No blackmagic support\nlibva info: VA-API version 0.40.0\nlibva info: va_getDriverName() returns 0\nlibva info: Trying to open /usr/lib/x86_64-linux-gnu/dri/r600_drv_video.so\n: CommandLine Error: Option 'help-list' registered more than once!\nLLVM ERROR: inconsistency in registered CommandLine options\nMaster compiles and runs just fine. I'd love to test this.. I solved the issue, it was with padoka PPA. Works fine when I purged it.. Correction: it started and let me select the encoder. It doesn't actually encode.\nrelevant part of the log:\n07:31:05 PM.410: [VAAPI encoder]: \"vaInitialize(display, &major_version, &minor_version)\": unknown libva error\ninterestingly enough, it lets me try to start recording, but won't record anything. Stopping the recording usually just keep the program alive forever and you have to actually kill it.. \nlibva info: VA-API version 0.39.2\nlibva info: va_getDriverName() returns 0\nlibva info: Trying to open /usr/lib/x86_64-linux-gnu/dri/radeonsi_drv_video.so\nlibva info: Found init function __vaDriverInit_0_39\nlibva info: va_openDriver() returns 0\nvainfo: VA-API version: 0.39 (libva 1.7.1)\nvainfo: Driver version: mesa gallium vaapi\nvainfo: Supported profile and entrypoints\n      VAProfileMPEG2Simple            : VAEntrypointVLD\n      VAProfileMPEG2Main              : VAEntrypointVLD\n      VAProfileVC1Simple              : VAEntrypointVLD\n      VAProfileVC1Main                : VAEntrypointVLD\n      VAProfileVC1Advanced            : VAEntrypointVLD\n      VAProfileH264ConstrainedBaseline: VAEntrypointVLD\n      VAProfileH264ConstrainedBaseline: VAEntrypointEncSlice\n      VAProfileH264Main               : VAEntrypointVLD\n      VAProfileH264Main               : VAEntrypointEncSlice\n      VAProfileH264High               : VAEntrypointVLD\n      VAProfileH264High               : VAEntrypointEncSlice\n      VAProfileNone                   : VAEntrypointVideoProc\n. Any way to use the ffmpeg h264_vaapi encoder in OBS? Or is that something that would require a pull request?. There isn't such a setting in the streaming tab. ",
    "parataxia": "Confirming I got this to work in ArchBang Linux (basically identical to arch linux besides the fact it uses openrc and linux LTS.. same repos, however.) It works great when installing these packages before making your build:  libvdpau-va-gland lib32-libva-intel-driver , and of course compiling your source. Thanks to this I can stream my games unlike before. Using Intel Series 2000, I had a variable FPS of 40/60 depending on graphic processing intensity... so now I'm getting a steady 60FPS, vasts better. Thanks.\n. ",
    "eduardoc25": "Hi guys,\nI've tried the @kingargyle branch and this is what throws me into the console:\nnfo: ==== Recording Start ===============================================\ninfo: [ffmpeg muxer: 'adv_file_output'] Writing file '/home/eduardo/2017-10-26_14-56-01.mp4'...\nerror: [VAAPI encoder]: \"vaDeriveImage(enc->display, surface, &image)\": invalid VASurfaceID\nerror: [VAAPI encoder]: unable to upload frame to input surface\nerror: Error encoding with encoder 'recording_h264'\nThis is the last configuration that probe, but without success in any test.\n\nI've also tested the @Bleuzen branch and the latter works but with glitches...\ninfo: ==== Recording Start ===============================================\ninfo: [ffmpeg muxer: 'adv_file_output'] Writing file '/home/eduardo/2017-10-26_15-09-08.mp4'...\n[mp4 @ 0x2043280] Using AVStream.codec to pass codec parameters to muxers is deprecated, use AVStream.codecpar instead.\n[mp4 @ 0x2043280] Using AVStream.codec to pass codec parameters to muxers is deprecated, use AVStream.codecpar instead.\n[mp4 @ 0x2043280] track 1: codec frame size is not set\ninfo: [ffmpeg muxer: 'adv_file_output'] Output of file '/home/eduardo/2017-10-26_15-09-08.mp4' stopped\ninfo: Output 'adv_file_output': stopping\ninfo: Output 'adv_file_output': Total frames output: 1775\ninfo: Output 'adv_file_output': Total drawn frames: 1938 (1944 attempted)\ninfo: Output 'adv_file_output': Number of lagged frames due to rendering lag/stalls: 6 (0,3%)\ninfo: ==== Recording Stop ================================================\ninfo: Video stopped, number of skipped frames due to encoding lag: 1665/1855 (89,8%)\nThis is the last configuration that probe:\n\nI do not know if I still have to implement B frames for AMD accelerators, since both in my R9 290 and my old 7850 I get the same message:\nlibva info: VA-API version 0.40.0\nlibva info: va_getDriverName() returns 0\nlibva info: Trying to open /usr/lib64/dri/radeonsi_drv_video.so\nlibva info: Found init function __vaDriverInit_0_40\nlibva info: va_openDriver() returns 0\n[h264_vaapi @ 0x2aa68c0] B frames are not supported (0x1).\nwarning: [VAAPI encoder: 'recording_h264'] Failed to open VAAPI codec: Argumento inv\u00e1lido\nThis is how it is recorded with AMD cards:\nhttps://youtu.be/qBEZ58nl0No\nPS: My distribution is Opensuse Tumbleweed (desktop) and Opensuse 42.3 (notebook), I had no problem compiling both projects on my computers, I have all packages updated to date. I want to emphasize that both projects work for me as long as I use the intel accelerator (HD4600). Actually my skills as a programmer are very low so I point to test.\nRegards. Hi guys, as I do not see any new advances... I want to inform mine ...\nAt last I have managed to make vaapi work with my  AMD GPU through ffmpeg, these are the parameters:\nDRI_PRIME=1 LIBVA_DRIVER_NAME=radeonsi ffmpeg -hwaccel vaapi -vaapi_device /dev/dri/renderD128 -hwaccel_output_format vaapi -f x11grab -r 30 -s 1920x1080 -i :0.0+0,0 -an -f pulse -ac 2 -i 1 -vf 'format=nv12|vaapi,hwupload' -threads 4 -vcodec h264_vaapi -profile 66 -bf 0 -b 10M -acodec pcm_s16le output.mkv\nRegards. ",
    "soredake": "Is it dead?. ",
    "Angelspiritofswe": "Hello and here I am on Monday will I start for real\n\u00c5sa Angelspirit Eriksson\n2018-02-23 21:18 GMT+01:00 soredake notifications@github.com:\n\nIs it dead?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/941#issuecomment-368127234,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AfyPL-bMvOkOt9HMoY_cOKmUKb4q6sjeks5tXx0NgaJpZM4N0fH8\n.\n. \n",
    "rkantos": "I tried building this for my x5-z8300 Intel Compute Stick using kingargyles sources and had the same issues as Bleuzen.. Going to try with his solution next..\n\nIt's not really a critical or high priority thing these days as CPUs are more powerful and have more cores. x264 doesn't really have troubles these days like it used to 4 or 5 years ago. I suppose hardware encoding is mostly just a luxury more than anything, so definitely not a big deal either way.\n\nPlease NO! I cannot understand why people working with similar open source projects do not take the time to understand hardware encoding / decoding etc. In my opinion it is very important to understand that a lot of people are using very old hardware or in other words cheap hardware to run.. you've guessed it; open source software. This means one should forget modern hardware, such as the Intel Atoms like Bay Trail and more recently Cherry Trail CPUs which are all very capable computers for the price.\nAnd I mean all, ALL!!, it takes is to implement proper support for at least the basic hardware capabilities of the CPUs that exist! Imagine all the Atom-based TV-devices running 2W TDP (and older hardware, like the Intel HD2000, HD2500 and HD3000) going from potentially unusable 720p h264 encoding to something where you can actually encode 1080p on a 2W cpu with less than 70% cpu usage. Again, In my opinion it is a very big deal.\n\nI suppose that's true, I have a bad tendency to sort of disregard laptops when it comes to serious streaming -- it's kind of a bad habit.\n\nIf I can ask, maybe in the future at least think about disregarding ALL low power cpus and older hardware, not just laptops, since the reality is you can reliably run OBS on this: \n\n...On Windows.. > One question, is there any current issue preventing the hardware surface from being used as the encoding input? FFmpeg supports decoding vaapi -> encoding vaapi without downloading frames as explained https://trac.ffmpeg.org/wiki/Hardware/VAAPI#Encoding. Assuming the user has not selected an incompatible pixfmt for obs, and the main texture is on the correct device, is this possible as a future improvement?\nWhile I would appreciate all hardware encoding since it would make OBS usable on nearly anything running with an Intel integrated GPU; Isn't this something that would need to be addressed much more fundamentally in OBS in relation to FFmpeg? It would be nice to be able to select hardware decoding as per input source too. However as far as I know it isn't enabled anywhere, and furthermore isn't really related to this PR (hw enc on Linux) either.. ",
    "Skid-Inc": "Second commit failed due to my forgetting to move  from the c file to he header file, not sure how it compiled to begin with.. While true, the only real solution would be to just re-read the file every time the update time elapsed, given this wasn't done to begin with I assumed it was undesirable behaviour. This was the best solution I could come up with that in mind, I tried to minimize any impact this change would have, it should catch most the edges cases that I'm trying to fix.\nI'm welcome to suggestions if you can think of a way to detect if a file changed twice in the same second that doesn't involve opening and reading the file, unless removing the check altogether and just re-reading the file every update timer isn't going to cause any issues.. That would fix the current edge case problem but it could potentially break in a different edge case, it would appear to hang if it was being used to log an really active chat, or for anything that does update consistently every second or however long the delay is.\nWe could add a delay trigger, IE when it detects the file has changed it updates the modified time but doesn't perform the file read until the next time the update is called. So in other words, revert the code back to the master version, then when the update is triggered set a boolean, and the next time the update is called (which I think is every second anyway), update the text then check the modify time again.\nThat would fix my issue without causing another one, and without overcomplicating the fix, thoughts?. Apologises for the delay in response, I've have a look into the file monitoring APIs more deeply, but it is a little outside of the scope I was aiming for here, and implementing 3 different APIs for 3 different operating systems might be a little outside of my current area of expertise.\nWhat I'll do in the mean time is close this pull request, and I'll revert my local copy and implement the quick fix I discussed above, as it should be a better fix, and submit that, after that I'll give the APIs a closer look.. ",
    "chaturbateorg": "Thanks for the concern @derrod, however 20 Mbps is correct, we ingest up to 4K and are transcoding all streams.. ",
    "asquelt": "would that potentially fix https://obsproject.com/mantis/view.php?id=847 ?. ",
    "ROCKNROLLKID": "Don't know if this is still open for discussion, but doesn't low level apis, like Metal/Vulkan/Direct x 12, also have a drastic reduction is CPU overhead? So wouldn't using Metal/Vulkan/Direct x 12 allow OBS to consume less CPU while maintaining the same, or even better, performance?. ",
    "PatTheMav": "With macOS Mojave pushing people to use Metal (as Quartz now runs on Metal only and Mojave drops support for non-Metal compatible Macs) and OpenGL's drivers not being updated by Apple, this pull request looks like an important step to take. I guess that's why it's reopened? \ud83d\udc4d\ud83c\udffb\ud83d\udc4d\ud83c\udffb. ",
    "Janisku7": "as all those options to come with Metal/Vulkan/DirectX12 come with other beneficts too in OBS for use. . ",
    "SirBryan": "@jp9000 (Jim), would switching to a Metal renderer be a faster fix to the low FPS issue in Studio Mode (see https://obsproject.com/mantis/view.php?id=847#c3154)?  At least for Sierra/High Sierra/Mojave?   \nI might try building it to see.... ",
    "HeavyDeception": "My bad\nJesseC.\nOn Jul 1, 2017 2:25 PM, \"Richard Stanway\" notifications@github.com wrote:\n\nClosed #961 https://github.com/jp9000/obs-studio/pull/961.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/961#event-1147037548, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ATzI0Wp4mx7VzHSc1uvDGmQMHSD7cz5Qks5sJp0ugaJpZM4OLY52\n.\n. \n",
    "bazhenovc": "Hi,\nThanks for your help, I've fixed the code and commit message style issues.\nOur application is a game, I'm not sure whether I can advertise it here, but we will be happy to provide some steam keys for Jim and other people who would want to test it - tell me how many keys are needed and I'll DM you them :). Done! I've emailed you the details :). Hi Jim,\nSorry, I forgot to send you an email indeed. Check your mail, should be right there at this moment :)\n\nit essentially makes it so that when your program calls a GL function, that GL function will essentially do nothing.\n\nYes, exactly - I thought that this will be the best way to fix the issue.\n\nIs there a specific reason why you'd be mixing GL and D3D at the same time?\n\nWell, we're not actually rendering things with both APIs at the same time. We use Qt for our ingame web browser and UI, and Qt does some GL calls occasionally (and probably in the wrong places), and this leads to these crashes.\nSorry for the initial \"wording\" not being clear enough.\n. Yes, and we also use a patched ANGLE that is compatible with our rendering engine.. Our patch just delegates D3D device & context creation to our engine, so we're able to initialize some vendor extensions and debug layers, obviously this code is not going upstream. And there are no other changes or modifications.. Done, no problem.. The easiest step to reproduce this crash is to just quit the game as soon as it loads to the main menu with OBS capture active - it will crash in hook_wgl_delete_context. The other way to crash is to open a web browser in the game.. Aight, thanks for your help :)\nOne thing that I wanted to note that I've not disabled GL calls, I've essentially added a check for null pointers. The crash was because somehow hooked calls were made before gl_capture() was called, thus before those hooks were actually initialized, thus I believe that this change shouldn't affect normal OpenGL capturing and recording workflow.\nI can also send you the PDB files on Monday if you wish, that might help with debugging.. Hi everyone,\nI just wanted to ask if there's any news regarding this.\nThanks in advance.. GL calls are disabled if and only if init_gl_functions() was not called before. This function initializes GL function pointers to valid values and calling any GL functions before it will dereference a NULL pointer and cause a crash. Application behaviour is unchanged after this call. init_gl_functions() is static, thus not available outside gl-capture.c, and is called once in one place.\nI honestly can't see how this could cause any negative side-effects, do you have any ideas on that?\n. > The code is quite clear in that any of the hooked GL functions will just cease executing ever again because they'll always return instead of calling the original hooked function call.\nOMG! How could I miss this? You're completely right, forgive me for being blind.\nWould you mind if I properly fix this with another commit?\n\nI tried to explain this to you in my first reply.\n\nYes, I misunderstood that completely. My bad.. Well, it obviously isn't going to be merged with this code issues, so I decided to fix it properly and submit another PR.. ",
    "LtRoyalShrimp": "Here's the Periscope broadcast info, which recommends 800. https://help.pscp.tv/customer/en/portal/articles/2600293-what-is-periscope-producer. ",
    "canbal": "Here's the documentation on recommended settings: https://www.periscope.tv/help/external-encoders\nScreenshot as well:\n\n. Thanks @RytoEX for pointing that out. I updated the PR hoping that I can get in first, if not I'll update again.. In my tests, these actually didn't really have any effect, I had to manually set the bitrate and keyint regardless.\nThese values are our advertised recommended settings.. ",
    "johnboiles": "For Twitter/Periscope users without transcoding enabled, the broadcasting bitrate is what viewers will see. As @dodgepong mentions, we're primarily a mobile streaming platform; going higher means that fewer people will be able to watch the stream.. These set sane defaults right? You can still override with higher manually if you want, correct?. ",
    "dodocat": "Is it possible seeking forward/backward via hotkeys like this?. ",
    "Obyoxar": "I find it kinda funny, that both of us programmed a 3D-Transform-filter at the same time. I'll definitely check out yours, maybe you do better than me :P. . @Xaymar Ouo, really? Well apparently I didn't look close enough when I was searching for this kind of plugin, but hey, I guess two are better than one, hehe.. @Xaymar Good work indeed, I'd really like to see this filter in the source code one time, so pls carry on. . ",
    "QuinnDamerell-MS": "@Xaymar @notr1ch @derrod @RytoEX \nGreat feedback! Thanks so much! I think I have addressed all of the issues, if you see any more please let me know!. Thanks!. I fixed all of the formating issues. :). All fixed!. All fixed!. All fixed!. All fixed!. All fixed!. All fixed!. All fixed!. All fixed!. All fixed!. All fixed!. All fixed!. All fixed!. All fixed!. All fixed!. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. Fixed.. ",
    "Zopieux": "Tested & confirmed to work on my own i3wm setup. Thanks for the patch.. ",
    "ashkitten": "Works for me as well. ",
    "h4k1m0u": "Is this part of the OBS-22.0.2-1 available in Archlinux official repo?\nI'm asking because in i3 on Archlinux, unless I put the Chrome window to record (e.g. Youtube) side-by-side with OBS in the same workspace, the video will freeze on the first frame of the video (note that the audio is recorded normally).. ",
    "seirl": "Yes it is. This is the expected behavior, the window has to be visible for it to be recorded. What happened before this patch is that the video stayed frozen when we switched back to its workspace and made it visible again. . Yeah sorry, I applied the patch from the bugtracker without looking at that. It wasn't a line easy to wrap so I did the best I could to match as closely as possible to the surrounding style.... ",
    "ishitatsuyuki": "@jp9000 can you review?. ",
    "ErunamoJAZZ": "Hi, thanks for look in this PR.\nAll done!. Right.. ",
    "luzpaz": "@reboot can you cherry pick the ones that are relevant to you? i tried to weed out the deps since i thought many of them were in modules/ (or was it plugins/?). ",
    "pkuznets": "Could you please review my pull request. ",
    "EntranceJew": "I have considered that it is possible that the reason FLV is default is for speed of writing, or that it has a lot less CPU overhead, or something to do with how RTMP works or used to work, or that it might work in the largest variety of situations, or that it could potentially produce the smallest files over-all. I have even considered that the decision was important enough to survive transitioning to the rewrite from OBS to OBS-studio.\nBut I have also considered that I have been privately helping people get OBS set up for their use for nearly 4 years now, and in nearly every situation I find out that they end up not knowing how to work with FLVs in their video editor, or I hear that the host they're working with does not prefer FLV at all, or comments about how YouTube would gently remind them to upload as MKV for faster processing and how they don't know how to do that. The same people that still get tripped up over which version of OBS is the correct one to download from the site, or how none of the tutorials they see look like the new OBS, or the people that are confused by stale and old information still floating around. A google search for \"how to import flv in (adobe premire/imovie/sony vegas/avidemux)\" brings up info from 2008-2015 of varying levels of complexity or even straight up adware. Old questions from 2014 show up 3rd for me, with no answer. People have paid money to thank other people that helped them figure it out. I have also considered that the people I teach are resistant to enter Advanced mode to utilize multiple audio tracks as they are met with a big warning that says that the default option will not work with advanced features like multiple audio tracks no matter what setting is selected. This is not helped by the fact that remuxing causes all audio tracks to lose their names.\nI have also considered that before doing all this research, the average person would not know what that option is or why it is that way. None of the other values are presented to inform you of their strengths or drawbacks, only significant warnings, they would never be inspired to change from it. The UI does not communicate the reasoning for the decisions you have made their behalf, they were never asked why they are recording or what for. The setup wizard even dumps you out with FLV, even though as I have covered, nobody that would need a wizard of sorts would know what to do with a FLV when they want to edit it.. ",
    "FishamanP": "Let me get this straight...\nYou want to change the default to MKV for BETTER video editor support?\nCan I have some of what you're smoking?. ",
    "ConX": "This hasn't been fixed in the current version. Whenever I deactivate and reactivate a media source it always shows a couple of frames where it was previously stopped regardless of the settings. Shouldn't the option \"restart playback when source becomes active\" make sure that the playback will restart?. ",
    "nleseul": "I've addressed the style concerns noted in a new commit. Thanks for the review! Sorry it took a while to get to it; I've been without power and network for a while due to hurricane damage. \nHowever, per jp9000's comment, I am looking at input handling again and do see that there is an obs_key_from_virtual_key() function in obs-hotkey.h, which is probably the better way for an interaction window to handle keyboard input. I'll try testing my plugin using that API and close this PR if it proves to be unnecessary. . My goal was to support arrow keys in an interaction window for my plugin. The obs_key_event structure that gets passed to the interaction callback has platform-independent representations of character keys and modifier keys, but not navigation keys like the arrow keys. I was trying to add support for that. \nBut, I've tested using obs_key_from_virtual_key() on the native_vkey field in obs_key_event. That seems to work beautifully, and is probably a much better approach. Given that, this PR is probably unnecessary. \nOne possible future suggestion I'd make is that obs_key_event could include an obs_key_t field and do this translation via obs_key_from_virtual_key() internally. That would help make that representation of the input more visible to other developers using interaction windows. . Thanks! I've updated the branch. Yes, I was referring to the issue in Mantis. . @Fenrirthviti, here are some shots of how this looks with the built-in themes, with no other changes. The default QButton styling already knows how to render differently in a checked state, as seen in the existing \"Studio Mode\" button. I'd argue that the scope of this change really doesn't need to go any further than making the streaming and recording buttons behave in the same way as the \"Studio Mode\" button. \nDefault theme: \n\nDark theme: \n\nRachni theme: \n\nNow, I do note that the \"Rachni\" theme seems like it has a unique checked style applied to the \"Studio Mode\" button that isn't getting applied to the other buttons with my change. I'd definitely like to look into getting that applied to the streaming and recording buttons too. \n@RytoEX, good catch. I've added that missing space. \n@SuslikV, thanks for pointing out #856. Regarding @jp9000's comment on closing that one, I think this change is much smaller in scope than that one and more reasonable as an interim approach, pending a larger overhaul of the UI. And while the button text does present four states, using the built-in two-state checkable behavior of QButton makes it much simpler to implement, and I think it gives the user sufficient visual feedback to be worthwhile (even if it doesn't immediately distinguish between \"connecting\" and \"actively streaming\" states). . Here's Rachni updated to apply its custom \"checked\" styling to these buttons: \n\nI added the other main menu buttons to that group receiving this styling too, even though there's probably no reason they'll ever need to be \"checked\", just because it seems silly to me to have the styling inconsistent. . Is there a way I can squash these commits through GitHub? The help files seem to indicate I should have been given that option during the submission process, but it never showed up that I saw.\nAnyway, I'll attach a screenshot that I previously posted on the forum of what the updated dialog ends up looking like. \n\nI renamed that one localization string on the assumption that this will flag the string as needing to be retranslated by localizers, rather than having other translations just continue to blindly use the old string without the path included. No idea if that's the best practice for the localization workflow, though; please let me know if I should just edit the existing string in place. \n. Ugh. What a mess. I'll try to fix that commit history and resubmit. . I'll attach a screenshot that I previously posted on the forum of what the updated dialog ends up looking like. \n\nI renamed that one localization string on the assumption that this will flag the string as needing to be retranslated by localizers, rather than having other translations just continue to blindly use the old string without the path included. No idea if that's the best practice for the localization workflow, though; please let me know if I should just edit the existing string in place. \n. Not a problem... I haven't had much time to think about this for a while either. \nTo your points:\n\n\nYou're referring to the column header for the status column on the left? I'm not sure if QTableView gives you any way to hide the header for a single column... even if it did, is a blank dark gray space better than a blank light gray rounded rectangle?As an alternative, what do you think about making that column wider so a header label like \"Status\" will fit there? That would at least help clarify the purpose of that column to the user, at the cost of a bit of unused space around the square-ish icons.\n\n\nThe intended workflow is for users to add multiple files to the dialog with drag/drop. It's true that multi-selection wouldn't be a terrible thing to support as well, but it's a bit architecturally complex to do with my current implementation (each entry's \"Browse\" button is owned by an item delegate and just knows how to modify the text field associated with it). I can try and come up with a way of inserting new rows in response to a browse button, if you think it's important.Regardless, you are correct that even with drag/drop, dropping directories doesn't work properly right now. I'll definitely look into fixing that.. Fair enough. I just got done with my refactor of this code, so the PR should now be updated with those changes. If I've done everything right, it should now support multi-selection in the file dialog as well as drag/drop of directories. I've also cleaned up the code a lot and streamlined the UI a bit as follows:\n\n\nIt now has both \"Clear all\" and \"Clear finished\" buttons\n\nThe \"Remux\" button now changes to a \"Stop\" button during an operation, so you can interrupt the process without closing the window and starting over\nThe \"Close\" button has been removed, since it's redundant to the window's \"X\" and doesn't really add enough to justify the space it takes up, in my opinion. . Someone actually made a Linux window manager with no standard way to close a window? Wow. \n\nWell, it's easy enough to add back; the PR is updated. Still wish I could resize those buttons so the important one stands out more, but Qt Designer's layout tools weren't cooperating very well with me when I tried it. . No problem! Thanks for taking care of it. . Hmm. You're thinking of a pattern more like this?\nc\nobs_property_group_t *group = obs_properties_add_group(props, \"Group name\");\nobs_property_group_add_int(group, \"Thing 1\");\nobs_property_group_add_int(group, \"Thing 2\");\nMy main reason for doing it the way I did (making group references just another field on the existing obs_property structure) is that I wanted to leave the existing code as untouched as possible to reduce the risk of introducing bugs, and also to make it relatively easy for other authors to go back and add grouping to their existing code. It seems like making groups into self-contained sublists would require a more complicated API and some other changes, but I'm not totally sure on that. Either way, I don't see any big advantage of doing it that way offhand. . ",
    "Techjar": "Awesome! I will build and test this. Also, you should probably revert that merge commit and do a rebase instead, to avoid the useless spam commit.. Small issue: by default the replay buffer is \"enabled\" except it doesn't actually work (start button and hotkey don't appear either). I have to disable it, apply, then enable it again and it works.. The settings window is still defaulting to the Video section when I open it, but with General still selected, making it require 2 clicks to get to General. Not sure what's going on there. Besides that, everything seems to be working perfectly.. I think we should have both random and shuffle as an option. Personally I'd prefer shuffle, as random sometimes picks the same image very soon after it was last shown, which is a bit annoying. Perhaps that should be a separate PR though.. Here's the problem, this should be a config_get_bool, whatever this is doing with a string is probably nasty.. I see this magic 5 used a lot. Perhaps there should be a constant for it instead?. ",
    "BenJuan26": "Will do, I had done a squash from a local branch to avoid that and then realized I had to do a pull.. Glad to contribute. Looking forward to your review.. Okay I deleted my %AppData%/Roaming/obs-studio folder to reset the config and I'm seeing some strange issues I hadn't run into before. For example, unchecking the replay buffer checkbox should hide the fields below and it's not doing that. I'm investigating.\nEdit: There is a bug while using the stream encoder where it will render the replay buffer controls inoperable. It's because I didn't correctly handle using the stream encoder for recording.. Fixed the stream encoder issue. Still not sure about defaulting to checked.. Fixed the checkbox default. Sorry about the mess.. Hi @RytoEX, thanks for the style remarks. I will make the necessary changes.\nThe only question I have is whether I'm correct in making these updates by rewriting the history of the current PR commit so that there's still only one commit going in.. I've made the style changes and fixed the settings dialog issue mentioned in the Mantis-bug where it would always default to the Advanced page even when Simple was selected. Turns out the currentIndex of the outputs page has to be 0 for it to work properly. I also changed the default tab in Advanced view to the first tab.. That might be a regression caused by further fixes of mine. Will test tonight.. @Techjar You're right, I had fixed the video page, but hadn't made the general page the default. It's pretty annoying that Qt Creator/Designer works that way -- if you select a page/tab it's actually making it the default. Have a look and check whether the recent push fixes the issue.. That's exactly right, I just pushed the fix. This is 78 columns in my editor. My tabs are rendered using 4 spaces. Are you assuming tabs are rendered using 8 spaces?. Missed that, thanks.. ",
    "kaimi": "\nAs per Jim's request, the options are in a new tab and the buffer is not available with lossless or FFmpeg enabled.\n\nWhat\u2019s the reason for that? I\u2019d like to keep using ffmpeg output and still have a replay buffer :). > Because the replay buffer output is an encoded output -- meaning it expects obs encoders.\nThat does make sense :)\nI know this is getting waaaayyyy off topic now, but if you allow me a last question here: I\u2019m mainly a Linux guy so I basically defaulted to using ffmpeg, is there anything I\u2019ll have to consider if I switch to the OBS encoder? Anything that\u2019s not possible? I guess quality won\u2019t drop? :)\nEdit: \n\nAnything that\u2019s not possible?\n\nAFAICS there\u2019s no HEVC option, for a start.. ",
    "makeen": "Ideally there would be options in the properties of the stinger transition for audio transition: crossfade, \"first fadeout then fadein\", \"cut at mid point\", \"cut at start/end\",... but how stinger transitions are very short (most of the time) then the difference between the options is minimal.\nOn the other hand if someone has different audio sources in the scenes and video stinger has no audio, crossfade (I think) is better than existing behavior because the latter produces a micro silence on transition. If video stinger has audio then crossfade or existing behavior are practically equivalent because the audio of the stinger will not allow the appreciation of the difference. If scenes share audio source then crossfade is the ideal with or without audio in video stinger.\nIn this clip https://clips.twitch.tv/ArbitraryTenderWoodpeckerShazBotstix you can hear how the caster's voice is muted for a moment during the transition with existing behavior, crossfade behavior avoids the muted.\nI go to close this PR and do a new with the correct format.. I dont understand, this line is only executed when source becomes active that is only when you toggle visivility from GUI or when you transition to the scene and this line never execute again when the source is playing with or without looping, and the preloading is working in the same way with or without this line, and looping works too. How does this line break looping or preloading?\nAnyway i have this video, it is completely transparent at first, after 1sec it turns green and after 1sec more turns red and it ends in red, I want it to stay in red indefinitely so I disable \"Hide source when playback end\" and \"Loop\" and enable \"Restart playback when becomes active\", after that I want it to be repeated again, I deactivate the source and active again but when I active the source I can see the source again red for a milisecond, like at the end of the video, instead completely transparent as expected, this is the bug than I try to fix.. ",
    "SpaceBison": "@RytoEX Thanks for the warm welcome! I've edited my commits according to your suggestions. . Updated formatting and commit messages.. ",
    "alexandre433": "Sorry then, but there's still an error or a typo on 587. ",
    "Sophira": "Okay, I'll go ahead and force-push a correction. Apologies to all those who already fetched this!. Pushed! And sorry for the delay; I was asleep when the OK to force-push came in.\nI'm especially sorry that I didn't do that before the changes were approved; I haven't made any changes to the commit other than the summary, but obviously you'll need to double-check that and re-approve the new commit - sorry!. By the way, an easy way to add a new ALSA device that can be detected by OBS (so that this PR can be tested) is by loading the snd_aloop kernel module. As root, execute the command:\nmodprobe snd_aloop\n\nThis will load the \"Loopback\" ALSA device, and ALSA will add a new front: PCM for it, which OBS should detect.\n[edit: Updated the kernel module name; unfortunately I got this wrong in my first iteration of this comment.]. ",
    "businiaowyf": "@Richard, could you tell me more details about the infringement? I will do\nmy best to push it and give feedback to you soon as possible.\nOn Thu, 5 Oct 2017 at 23:47, Richard Stanway notifications@github.com\nwrote:\n\n@businiaowyf https://github.com/businiaowyf I have contacted\ngca@garena.com regarding GPL infringements in the GarenaTV software (it's\nbased on OBS Studio). If you're able to push this along internally it would\nbe appreciated.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/1037#issuecomment-334507166,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AOzAXJ4fljpLNXDCSjnG_6b1n_C8hYV1ks5spPoQgaJpZM4PoXCe\n.\n. OK, I already removed it, thank you. \n",
    "patrickdepinguin": "@kkartaltepe Well, libcurl is something that is expected on the system, not something built by obs-studio. So, we cannot expect that that libcurl was indeed built against c-ares.\nFor example, on my Gentoo system, libcurl is not linked against c-ares. I could perhaps fix the problem for myself by changing the compilation of libcurl  to use c-ares, but other people will still face the same problem.\nOn non-source-based Linux systems like Debian, Ubuntu, ... we are fully depending on the choices made by these distributions.. ",
    "Wiethoofd": "\nI want someone here to give me a specific case where panning is useful to have in obs itself.\n\nIf you use OBS together with NDI to capture multiple devices on a single production PC this would allow you to create a splitscreen scenario where you position audio from your inputs to be on a specific side to match where they are on the screen.\nSimilar when you have separate audio inputs available (for instance 2 miced up people or audio only NDI sources), you would have the ability to space them out, so it doesn't sound like they are occupying the same chair & microphone but are in fact further apart.\n\nAt the moment having the panning slider in the Advanced Audio Properties without proper indication that they are in fact unable to be moved defeats the purpose of having them at all.. ",
    "sk115": "Just wanted to throw my sincere appreciation out there for this feature being pushed forward; would be amazing to see it get pulled in sometime soon, it would do wonders for our event workflow and eliminate the need for some messy workarounds. Thanks!. A field report: built this pull for testing and used that version in production for 8 hours while simultaneously streaming w/ x264 and recording w/ NVENC - it worked great! I used an older gen Decklink SDI PCIE card to output at 720p60 for monitoring. The signal delay as compared to a fullscreen preview window of the program output was minimal; ;it was also much less costly on the GPU.\nNoted issues: \n - OBS Crashes on attempt to 'start' without selecting a device. \n - While output is running, OBS will crash on attempting to add the same source currently used for output as a new Blackmagic source.\nThanks again for the work on this - super excited to have it working!. I have also experienced performance issues at 1080p60 that didn't occur with 720p60 - same card, Duo 2 SDI out.. Just got back from a bunch of events, will test the latest build out and report back - thanks so much!. ",
    "absentio": "This would be really useful to me. It's a thing i've been waiting for years. Please continue developing it.. ",
    "dx9s": "I see this is a pull request so it makes it into the base project and not a \"plugin\" (like NDI or websockets). As Decklink capture is already in the upstream (jp9000) it makes sense to add it via a pull request.\nWhat (if any) outstanding issues might there be? I'd like to test it and might just checkout the fork, but if it will be added here \"shortly\" then I can wait (depending on definition of \"short\").\n--Doug (dx9s). I cannot do any testing until RMA returns fixed or replaced Decklink. (1-2 weeks)\nHad issues with glitchy audio on one channel regardless of capturing or just A/V monitoring of inputs; neither digital from HDMI or analog from analog inputs / [Decklink Studio 4K]. Captures HDMI video no problem.\nHad to put into freshly installed Windows 10 [and not activated / no license] (older but adequate and completely different i7) and \"prove\" it was the card using Media Express. Glitchy still occurred even while NOT recording! (Linux users are second class citizens when it comes to BMD support)\nBUT think testing under Linux would also be good as well and report back good/bad-ness. When my card comes back and all is good, I will reinstall Linux onto that machine (not effecting production machine) and checkout code and compile / test on there.\n--Doug (dx9s). ",
    "florisporro": "Would be amazing if this has support for external keying. I looked into it once, the BM SDK can accept a video feed with alpha and output it as synchronized key and fill channels to a professional mixer. This would put OBS in a not-so-long list of professional graphics output systems.\nI'm not familiar enough with C to add this but if someone can put in the time I can probably convince my company to sponsor that feature.\nEDIT: It's section 2.4.8 in the BM SDK manual. IDeckLinkAttributes::GetFlag with BMDDeckLinkSupportsExternalKeying will determine availability of the feature.\nA bmdFormat8BitARGB or bmdFormat8BitBGRA video pixel format needs to be supplied. We have a Decklink Quad (4 HD outputs but no external keying support) and a Ultrastudio HD Mini which supports external keying to test with.. Tried this out on our test bench today and ran into some performance issues as well at 1080p60. Also some audio glitching via embedded SDI. Made a video for you:\nhttps://youtu.be/g63xZ7Sr_ec\nAs an example I\u2019ve included the result of V-Mix\u2019s key & fill implementation. I can test with this set at any time so let me know if there\u2019s anything I can do to help.. @DDRBoxman that's a 2017 15 inch MacBook Pro\n2,9 GHz Intel Core i7\n16GB 2133 Mhz RAM\nRadeon Pro 560 graphics card\nUltraStudio HD Mini output card running over Thunderbolt 3\nIt's good to note that the audio issues are independent of the video stuttering. The sound issue is always there whereas the video stuttering is only there at 1080p60.. @Lange running 10.9.7. Can you put up a windows build?\nI can test it Thursday. Just had a chance to put this into practice on our test bench! Here's the results:\nBuild tested | Resolution & Framerate | Test result | Video Link\n------------- | -------------------------- | ------------| -------------\n21.1.0-197-ga8680027 (keyer) | 1080p59.94 | Two channels are output, one is full white indicating the video buffer is succesfully being output in a key and a fill channel. However, the key channel is always full white indicating an opaque background, even when the scene has no layers.Additionally, performance issues are present. | https://youtu.be/jLdgbAEFucA\n21.1.0-197-ga8680027 (keyer) | 720p50 | Functionally identical but performance shows improvement. | https://youtu.be/mV-rxvQByXw\n21.1.0-201-g52581048 | 1080p59.94 | Flawless performance video wise, audio stuttering still present | https://youtu.be/_UIbXi4qC6k\n21.1.0-201-g52581048 | 720p50 | Flawless performance video wise, audio stuttering still present | https://youtu.be/A5mWzP8b47I\nFound a workaround to the audio issue by setting the windows audio device output to the Blackmagic device, and using the 'monitor only' setting in the audio mixer in OBS. That way the audio is output as system audio from the computer. Video: https://youtu.be/RC-_VWs-tLY. ",
    "ddibiase": "Very excited to see this functionality come to reality. I currently have a direct need to utilize the Decklink output on Ubuntu. Is this build in a testable/operable state that I can experiment with for production use? If so, is there any documentation or advice that can be supplied on how to get it operational?. Absolutely. Willing to do so but I don\u2019t have much experience with\ncompiling OBS. Would you mind giving me instructions for doing so? If it\u2019s\na matter of downloading the branch with the PR and triggering the compile\nthat should be easy but if it involves passing appropriate flags etc I\u2019ll\nbe out of my element.\nI\u2019m on Ubuntu btw\nOn Mon, Apr 9, 2018 at 12:33 PM Jim notifications@github.com wrote:\n\nI think it's working on all operating systems, the nature of the decklink\nSDK is that it's designed to work on all operating systems, although to use\nthis PR, you'll have to compile it manually for now. We would appreciate\nfeedback, as that's what this PR is for. We definitely need feedback on it,\nso if you could test it out for us and report back your findings (not just\nfailures but also if it's working well), we would be most grateful.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1043#issuecomment-379813734,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABHUDSThEeenTAOaefCEXdw98YrNi8k2ks5tm41VgaJpZM4Px7VW\n.\n\n\n-- \nThis email and any files transmitted with it are confidential and intended \nsolely for the use of the individual or entity to whom they are addressed. \nIf you have received this email in error please notify the system manager. \nThis message contains confidential information and is intended only for the \nindividual named. If you are not the named addressee you should not \ndisseminate, distribute or copy this e-mail. Please notify the sender \nimmediately by e-mail if you have received this e-mail by mistake and \ndelete this e-mail from your system. If you are not the intended recipient \nyou are notified that disclosing, copying, distributing or taking any \naction in reliance on the contents of this information is strictly \nprohibited.\n. Perfect. Exactly what I needed. I\u2019ll report back on findings. If there are\nany gotchas, known issues or best practice for collecting log data for\nreporting kindly let me know.\nOn Mon, Apr 9, 2018 at 12:40 PM Ben Torell notifications@github.com wrote:\n\nYou can probably follow these instructions:\nhttps://github.com/obsproject/obs-studio/wiki/Install-Instructions#debian-based-build-directions\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1043#issuecomment-379815953,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABHUDWwvCTgSw0DgUvUV_TWBjAEhnmfsks5tm48AgaJpZM4Px7VW\n.\n\n\n-- \nThis email and any files transmitted with it are confidential and intended \nsolely for the use of the individual or entity to whom they are addressed. \nIf you have received this email in error please notify the system manager. \nThis message contains confidential information and is intended only for the \nindividual named. If you are not the named addressee you should not \ndisseminate, distribute or copy this e-mail. Please notify the sender \nimmediately by e-mail if you have received this e-mail by mistake and \ndelete this e-mail from your system. If you are not the intended recipient \nyou are notified that disclosing, copying, distributing or taking any \naction in reliance on the contents of this information is strictly \nprohibited.\n. Having some trouble. I checked out https://github.com/DDRBoxman/obs-studio/tree/decklinkout and ran the compile process. Towards the end of checkin the install I'm getting:\nCMake Error at UI/frontend-plugins/decklink-output-ui/cmake_install.cmake:56 (file):\n  file INSTALL cannot find\n  \"/home/administrator/obs-studio/UI/frontend-plugins/decklink-output-ui/data\".\nCall Stack (most recent call first):\n  UI/frontend-plugins/cmake_install.cmake:37 (include)\n  UI/cmake_install.cmake:86 (include)\n  cmake_install.cmake:40 (include)\nMakefile:137: recipe for target 'install' failed\nmake: *** [install] Error 1\nI'm wondering if I should be using the decklink-output-ui branch instead or if I'm missing a step? Sorry for the questions guys, new to using OBS under the hood.. I haven\u2019t gotten any further with this since I posted. Blocked from testing\nuntil I sort out this compile issue. :-/\nOn Thu, Apr 12, 2018 at 6:23 PM LingMan notifications@github.com wrote:\n\nSame issue as @ddibiase https://github.com/ddibiase here on Manjaro.\nmake runs fine but make install after that errors.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1043#issuecomment-380962476,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABHUDSacLfSjWJQAK2hA86EQbQ0f9_C-ks5tn9P_gaJpZM4Px7VW\n.\n\n\n-- \nThis email and any files transmitted with it are confidential and intended \nsolely for the use of the individual or entity to whom they are addressed. \nIf you have received this email in error please notify the system manager. \nThis message contains confidential information and is intended only for the \nindividual named. If you are not the named addressee you should not \ndisseminate, distribute or copy this e-mail. Please notify the sender \nimmediately by e-mail if you have received this e-mail by mistake and \ndelete this e-mail from your system. If you are not the intended recipient \nyou are notified that disclosing, copying, distributing or taking any \naction in reliance on the contents of this information is strictly \nprohibited.\n. ",
    "LingMan": "Same issue as @ddibiase here on Manjaro. make runs fine but make install after that errors.. ",
    "Lange": "@florisporro and @sk115: What version of the Decklink drivers do you have installed? You can check this by opening Desktop Video Setup, then going to the top left \"Help\" menu and clicking \"About Desktop Video Setup\".. Got it, thanks. I thought that driver version might be a factor in this issue. But, after much testing, it does not seem to be.. Can confirm we experienced the same thing as @JamesRitson at SGDQ, and our solution was to use normal Video Capture Device sources instead.. I have found a case where the Transition button will become permanently disabled:\n\nTurn off \"Duplicate Scenes\"\nPut the same scene in both Program and Preview\nClick \"Transition\" \n\nThe \"Transition\" button will disable, no transition will play, and the button will remain disabled.. @TerjeGundersen We're planning to use this for SGDQ 2018. In the next few days, do you think you'll have time to fix the bug described in my last comment?. @TerjeGundersen It now seems to no longer respect transition overrides. Repro:\n\nCreate a video stinger transition\nRight click on a scene and set its \"Transition Override\" to use that stinger.\nSelect \"Cut\" as the default transition.\nTransition to the scene you just applied the Transition Override to.\n\nThe stinger will play, but the transition button will not disable. Presumably, this is because it thinks a Cut transition is being used?. Thank you so much @TerjeGundersen, your assistance is greatly appreciated.. It appears that transitions invoked via obs-websocket do not disable the Transition button. Thanks @RytoEX.\nTo provide a bit more context: our goal for SGDQ was to make it impossible to clobber or otherwise cancel an in-progress transition. We didn't get to that point, but simply disabling the \"Transition\" button while a transition is in progress was sufficient to prevent most of the possible issues.. ",
    "Pimpmuckl": "@DDRBoxman I could test external keying with a Decklink 4k Pro this week. \nIf I can figure out how to compile the decklinkkeyer branch of your fork that you linked, I'll get to it. Really appreciate the work put in this!. I have replicated the same issue with simple scrolling text and Color Sources where the key is always entirely white.\nI suspect that the \"base layer\" in OBS is fully black instead of fully transparent?. > Would this also allow me to output fill and alpha via something like an UltraStudio?\nThat would work in theory. Right now the fill is always fully white everywhere due to the base layer being black instead of being transparent.. > I got it to work ! Thanks alot !\n\n\u2026\nOn Nov 2, 2018, at 1:48 PM, btorellALTA @.***> wrote: @modeminho https://github.com/modeminho You will have to build it yourself with this PR #1502 <#1502>. The reason it was separated was because there is a bit of a UI overhaul in the works related to settings which will make that PR irrelevant. For the time being, though, you will need it to get the UI additions. \u2014 You are receiving this because you were mentioned. Reply to this email directly, view it on GitHub <#1043 (comment)>, or mute the thread https://github.com/notifications/unsubscribe-auth/ABdXs-T0Y-zwIZnOkIN0jZTjDePvN_TRks5urK-ngaJpZM4Px7VW.\n\nWould you mind posting your compiled .exe or maybe even the whole folder as .zip?\nI can help test the keyer output, as it stands I believe the bottom layer being \"black\" instead of transparent might still be the keyer issue that I noticed in the decklinkkeyer fork a while back.. @DDRBoxman Thank you for the build, really appreciate it! \nFor now, I could not figure out how to get the proper external keying to work.\nI used \"Keyer: External\" in the Decklink Output settings dialogue and the key output is fully white (no transparency). I played around with different sort of scenes, but even a completely empty scene produces no transparency on the key output.\nDo I need to add anything to the scene to make that work?. > @Pimpmuckl Is your color format RGB under advanced mode?\nThat did the trick! Works now and looks excellent, thank you! Will try to dive deeper into it in the following days/weeks and test out more demanding compositions.\nIn the final way it's implemented, might be worth to throw a warning when selecting external keyers without RGB on.. ",
    "JamesRitson": "Hi, thanks so much for this work, I've been investigating the custom builds provided as I'm producing a live stream with several cameras/sources and need to send the live mix back out into a video matrix where it will then go to several TVs.\nIt works really well, but I'm having an issue as I'm using Blackmagic capture cards, specifically a DeckLink 4K Extreme and two Intensity Pro cards. Every time I launch OBS, there's no signal from the cards and the log files read:\ndecklink: Tried to activate an input with nullptr device.\nOne way to quickly bring them back is to double-click the Blackmagic Device sources, then toggle the Use Buffering checkbox on the dialog (I have it on, so I just disable then re-enable it). This seems to reload the devices? Other sources work fine: I've got a Media Source for example and that has no issues displaying when OBS is first run up.\nJust wanted to point this out, not sure if I might be doing something wrong. I've tried changing the output device too: I was initially using the DeckLink for output but then switched to the Intensity Pro, but I still get the same issue where I have to effectively re-add the devices every time OBS is run up.\nAnother potential workaround I've found is to add the capture cards as DirectShow devices (e.g. using Video Capture Device instead of Blackmagic Device). A bit more manual tweaking involved but they seem to persist after closing and re-opening OBS.\nThanks again for the great work.\n2018-07-03 14-57-30.txt\n. Hi again, thanks for the fix, can confirm it works. I have however run into another issue, and it seems to be with any build after 21.1.0-197-ga8680027 - the output is stuttery with very noticeable hitching.\nI've worked my way through the artifact history and have these findings:\nBuild 1.0.170 (Initial pass on keyer: https://ci.appveyor.com/project/DDRBoxman/obs-studio/build/1.0.170/artifacts) produces the smoothest results. Camera footage is fine and media sources have the occasional dropped frame, but the output is usable.\nBuild 1.0.171 (https://ci.appveyor.com/project/DDRBoxman/obs-studio/build/1.0.171/artifacts) starts to get slightly choppy. The log files don't report any lagged frames but the camera footage is clearly not as smooth as it is with build 1.0.170. This is where the issues start, as it were.\nBuild 1.0.173 (https://ci.appveyor.com/project/DDRBoxman/obs-studio/build/1.0.173/artifacts) is where things start to go wrong: the camera footage is incredibly choppy and the log file reports lagged frames.\nAny build after 1.0.173 (or 1.0.171 to be honest) exhibits the stuttering and lagging, producing an unusable output. I've tried using the Intensity Pro cards for output rather than the DeckLink but am getting the same issue.\nHere are a couple of log files from build 1.0.170 (no lag) and build 1.0.173 (stuttering and lagging) in case they're useful:\nNo lag - 21.1.0-197-ga8680027 - Build 1.0.170.txt\nLag - 21.1.0-196-g8f6f20c4 - Build 1.0.173.txt\nThanks again,\nJames. @RytoEX thanks for the insight, apologies as I didn't spot they were different branches. The decklinkkeyer branch does perform significantly better and is usable\u2014at the moment, the decklinkout branch is too choppy and laggy.\nWill also add that I'm seeing the exact same audio stuttering/lagging issue @florisporro demonstrated in his video on both the DeckLink and Intensity Pro outputs (both branches too).\nThis live streaming project will be ongoing so if there's anything in particular that could use testing I'd be happy to try it out (especially if it's a potential workaround!).. ",
    "baltedewit": "Just putting a quick note in here that I've succesfully used the decklinkkeyer branch (with samplerate set to 48khz) to run a PAL output from OBS into CasparCG for an event over the weekend.. ",
    "rhetr": "how do you configure obs to use the decklink output on the decklinkout branch? I don't see the same GUI option as in decklinkout-ui (using OS X El Capitan). is this different from obs-gstreamer?. ",
    "sqwk": "Would this also allow me to output fill and alpha via something like an UltraStudio?. ",
    "yannok": "Since it has been merged, I have compiled ffmpeg with decklink support and obs from scratch. The Decklink Output does not appear anywhere anymore (related to #1502 I guess). How can we select Decklink Output now?\nI have added the #1502 locally but I face an include error: \n/home/me/obs-studio/UI/frontend-plugins/decklink-output-ui/DecklinkOutputUI.h:3:10: fatal error: ui_output.h: No such file or directory\n. Missing file? \n/home/me/obs-studio/UI/frontend-plugins/decklink-output-ui/DecklinkOutputUI.h:3:10: fatal error: ui_output.h: No such file or directory\n. ",
    "modeminho": "im not seeing the DeckLink output option under tools  . where can I find a build that has it ?. @btorellALTA thanks a lot ! will check that out .. I got it to work ! Thanks alot !\n\nOn Nov 2, 2018, at 1:48 PM, btorellALTA notifications@github.com wrote:\n@modeminho https://github.com/modeminho You will have to build it yourself with this PR #1502 https://github.com/obsproject/obs-studio/pull/1502. The reason it was separated was because there is a bit of a UI overhaul in the works related to settings which will make that PR irrelevant. For the time being, though, you will need it to get the UI additions.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/obsproject/obs-studio/pull/1043#issuecomment-435497898, or mute the thread https://github.com/notifications/unsubscribe-auth/ABdXs-T0Y-zwIZnOkIN0jZTjDePvN_TRks5urK-ngaJpZM4Px7VW.\n\n\n. ",
    "ThommiTechnik": "\nI got it to work ! Thanks alot !\n\nUnfortunately, me not. Trying to compile it under Antergos Linux. But I'm failing all the times. Maybe a small guide would be helpful?\nAm I right, I have to be in the ../plugins/decklink/linux, and then do a cmake, make, sudo make install? Can't get to manage it.\nTnaks for hints, help, and Cheers, Thomas. ",
    "stwr": "Could this also be used to output OBS's multiview over the Decklink? This is something I would be interested in using.. ",
    "masikh": "My use case:\nI am using OBS-studio for capturing satellite live feeds on boats for redistributing aboard. Since boats tend to rock the input source is not reliable. The auto restart facilities in either vlc or ffmpeg input source are unable to recover in certain frame drop/stall situations. Leading to an input stream which although still shown is standing still, in other words, it got stuck. I am making a multiview from 12 input streams (tv-channels) into 1 output stream. Surely a way to detect that one of the input streams got stuck (thus not producing any frames anymore!) enables me to restart this input source, hence makes the application (OBS-Studio) more suitable for 24/7 broadcasting. Without a programmatic way to detect that one of the input streams got stuck I need to watch this scene 24/7, not doable right! The 'GetSourceData'  function enables OBS-Studio users to programmatically monitor input streams hence makes is more reliable. Surely its true that OBS-Studio fails to circumstantial reasons, but most often that's the case in broadcasting.... (birds, lightning etc...). Below is an example frame of what I am talking about.\nMore in general:\nThe 'broadcast chain' start at the feed and ends at the broadcast. The last part is very well covered with regards to monitoring facilities e.g fps/frame-counter etc. The feed part is mostly taken for granted but of no less importance. In above mentioned example the frame drops ocurre due to weather conditions, but another situation could be network related e.g. a live news reporter with bad reception. Automatically acting upon such an event would be very handy.\nSome examples\nFPS drops:\n\nA very strong indication of exhausted resources (e.g. GPU/CPU, network, memory, ...)\nMotion detection camera has stopped feeding\n\nFrame stalls:\n\nAn indication that an internet stream has become invalidated (e.g. a subscribed stream)\nAn indication that an attached device (e.g. IP-camera-feed) is no longer available\nAn indication that a disc is dis-aligned\n\nHopefully you consider this as enough motivation to take my request upon consideration.\nKind regards,\nRobert\n\n. ",
    "damongant": "Hi, and thank you for checking on my PR.\nI'm with Picarto, we wanted to get this ingress into OBS before officially announcing it, though by now it has been mentioned on Twitter. I'll get the incremented version number in tomorrow.. Commit should be clean now. Let me know if you need anything else to get this in. Thanks!. ",
    "jseeley78": "@derrod @notr1ch apologies; marked common as false, move service to the end, bumped the version and updated the commit message. . ",
    "LiminWang": "What's the problem for the CI building?  it seems the failure isn't caused by my PR.\n/home/travis/build/jp9000/obs-studio/deps/media-playback/media-playback/decode.c:27:24: error: \u2018AV_PIX_FMT_VDA_VLD\u2019 undeclared (first use in this function)\n    if (hwa->pix_fmt == AV_PIX_FMT_VDA_VLD ||\n                        ^\n/home/travis/build/jp9000/obs-studio/deps/media-playback/media-playback/decode.c:27:24: note: each undeclared identifier is reported only once for each function it appears in\n/home/travis/build/jp9000/obs-studio/deps/media-playback/media-playback/decode.c: In function \u2018mp_decode_init\u2019:\n/home/travis/build/jp9000/obs-studio/deps/media-playback/media-playback/decode.c:145:31: error: \u2018CODEC_CAP_TRUNCATED\u2019 undeclared (first use in this function)\n  if (d->codec->capabilities & CODEC_CAP_TRUNCATED)\n                               ^\n/home/travis/build/jp9000/obs-studio/deps/media-playback/media-playback/decode.c:146:24: error: \u2018CODEC_FLAG_TRUNCATED\u2019 undeclared (first use in this function)\n   d->decoder->flags |= CODEC_FLAG_TRUNCATED;\n                        ^\nmake[2]:  [deps/media-playback/CMakeFiles/media-playback.dir/media-playback/decode.c.o] Error 1\nmake[1]:  [deps/media-playback/CMakeFiles/media-playback.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\n. ",
    "yinzara": "Looks like the fix isn't actually doing what I intended. Let me reevaluate.. ",
    "kiroma": "LGFM, compiles successfully on Kubuntu 17.10 and functions fine. There are still warnings about deprecated calls though, might be a good idea to take care of those as well sometime.. ",
    "FarzadKarkhani": "It's done.. Current pull request updated.. @RytoEX Thank you for reviewing my PR, It seems everything is fixed.. ",
    "scanlime": "It doesn't look like the linux build failure is actually related to this patch, could an admin re-run that test?. Sorry about the stylistic gaffes; thanks for the merge!\nOn Sat, Nov 25, 2017 at 6:21 PM Jim notifications@github.com wrote:\n\nAlso something I just realized and actually missed -- avoid pronouns like\n\"I\" or \"my\" in commit messages in the future as well. It's better to keep\nthe subject on the bug itself rather than on the person who had the bug, if\nthat makes sense; it makes for better commit messages. It's a mistake I've\nmade in the past as well.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/1064#issuecomment-346979261,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA4YpGry7zDkCIJeIxty6St_PuvrEBQuks5s6MsVgaJpZM4QPGtJ\n.\n. \n",
    "enzanki-ars": "Just adding my two cents here:\nI would absolutely love to see this feature.  I have been manually emulating it as close as possible using either:\n- an extra scene with all of the scenes and using preview windows\n- a bunch of preview windows\nClearly, neither of these are a great option.  Therefore, a feature like this is very wonderful.\nAlso, I have an interesting method of setting up my scenes:\nAs seen below, 3 types of scenes:\n Base: These are either the background scenes or the overlay scenes\n Input: These are all of the inputs, with any backgrounds added in (just incase the input is not 16:9 or the input goes offline)\n* Main: These are the actual scenes I use when switching.  It usually ends up looking like:\n  * Background\n  * Inputs\n  * Overlays\n(EDIT: Someone already addressed the sidenote in mantis  ~Sidenote: it would be neat for a folder like feature to organize the scenes.  I will look for/submit a feature request soon.  Keep forgetting....~)\n\nAs you can see, that is a lot of scenes.  If this feature were to be added, the ability to select which scenes are displayed would be greatly appreciated.  . ",
    "Alcaros": "@jp9000 Thank you very much.. ",
    "derickbailey": "@jp9000 oops - sorry. didn't see the comments on this. my github folder in my email is constantly piling up with stuff.\nregarding your question about the x not being removed: it isn't an issue on the x-axis. it's only the y-axis that has problems on second monitors. \nremoving the - dc->frame.origin.y works fine for both primary and second monitors, one or two monitors connected. I've run this modified code a dozen times on my laptop w/ external monitor, and this change appears to be pretty solid to me. \nwhat additional testing needs to be done? what additional investigation? i'd be happy to help where I can, instead of just having the issue closed. it is a legit issue, and shouldn't be closed like this, IMO.. ",
    "elgato-tschnitzler": "Hi,\nthank you for your kind welcome and for reviewing my code. I just added another commit to fix the mentioned issues.. Thanks again. There's a single commit with the desired changes now.. Thanks for your hint. I learned a lot today.\nI updated commit messages for my obs-studio and libdshowcapture PRs right now.. I think the reason for that is that you need to switch the libdshowcapture submodule reference. I wasn't sure if I should switch it to my fork of the libdshowcapture. Please see the PR in this repository.\nhttps://github.com/jp9000/libdshowcapture/pull/11. Perfect, thanks a lot!. ",
    "maxiannunziata": "im waiting this feaure guys!. ",
    "ethaniel": "I need this feature as well!. Little user-side request here.\nOnce this change is approved, can it please be made accessible via the websockets API?\nI'm running a remote camera on a beach and using obs to broadcast it to youtube (link if anyone interested). The camera (hero 6) sometimes turns itself off and I have no way of knowing this. Right now I'm using the \"replay buffer\" which I'm triggering via websockets API every 10 seconds. I then have to use ffmpeg to extract keyframes from the resulting file which takes it's toll on the limited resources of the tiny computer that I'm using. (i compare the keyframes to each other, and if they're the same, then I reboot the camera).\nIt would be much easier and less CPU intensive to trigger a snapshot via websockets API directly.. > I want to add a suggestion; What about adding the ability to automatically take screenshots every X seconds?\nI second that. I'm using OBS to broadcast an outdoor webcam. I have a script which runs diagnostics (uploads thumbnails to youtube, calculates image \"niceness\", uses AI to count people). Right now I have to use the replay buffer and extract snapshots with ffmpeg. It would make my life much easier if OBS could automatically make a snapshots every X seconds.\n. ",
    "TorreyBetts": "Whats the current status of this PR and getting it merged? There are quite a few IRL streamers that could benefit from this once it's merged.. ",
    "Krutonium": "I've been using this for about 2 weeks now, and frankly it's amazing. It's save me literally hundreds of thousands of dropped frames.. Does building with Dynamic Bitrate on nvenc require any extra steps? Do I need to build ffmpeg or some such? @pkviet . Awesome, so just build as normal then? Wanders off to get started. ",
    "OBSAnon222": "This looks great but how does one download this for use?. ",
    "hedgehog90": "I found using the default NVENC encoder rather than the one marked (new) didn't work as desired with dynamic variable bitrate.\nIt would constantly flit between the lowered bitrate and the normal high bitrate specified in the encoder settings (CBR), causing frame droppage during congestion.\nHowever, selecting the (new) NVENC encoder fixed this issue.\nI'm curious to know if anyone else has experienced this.. > This looks great but how does one download this for use?\nI just compiled it for 64 bit windows: https://drive.google.com/file/d/17tO5KRQaSUFxcmlUtYVdagbcXazrc3VU/view. ",
    "Ciommi": "If some pro can compile every new Version of Obs with this fantastic feature would be fantastic for nabs people like me \ud83d\ude0b thx anyway and amazing work. ",
    "exeldro": "I use it for slow motion replays. Where can I find the reason for closing this pull request?. It is not added because the speed feature is already added to the ffmpeg media source and the VLC source is sort of meant to play back playlists and kept simple.. @RytoEX Thanks for reviewing my pull request. I think I fixed it all now.. Why is the pending review label? I changed everything @RytoEX suggested.. Sorry I thought it was pull request maintainer instead of project maintainer. My mistake.. Most plugins/sources have multiple hotkey callback functions but no proc handler callbacks, so I think it would be easier to allow to call the hotkey callbacks than to add proc handle callbacks to all plugins.\nAlso for the hotkeys I found a enum function and not for the proc handle callbacks.\nI wan't to be able to call any hotkey function on a source from obs-websocket for example.. @WizardCM that would give a very long variable name. Or only change it in the locale file?. Done suggested changes by @WizardCM and @RytoEX . @Andersama Are there use cases for all lowercase text?. Added lowercase option. ",
    "chinasarft": "is this \"adding x milliseconds of audio buffering\" lead to desync?\nwhen i streaming(rtmp), this is desync and sometimes audio will disapeared.\nand more, desync is up to 20 second\nyeah, there is adding x milliseconds of audio buffering in the log file.\nin my case, all souce are media source. @jp9000 \n19.0.3 and 20.1.3 i tested\nmy case: one scene, 6 media souce, in studio mode and very awful network environment\nwhen I streaming, i encountered a/v not sync. video ahead of audio up to about 20s(is the max), even if I update the media source which not sync\nand sometimes voice will dispeared, but update will recover\nI not found why.\nfor audio disapear:\nin discard_audio => audio->total_buffering_ticks== MAX_BUFFERING_TICKS => ignore_audio, there, num_floats is less than AUDIO_OUTPUT_FRAME but droped anyway. this  cause audio disapeared.\nin ignore_audio, i change to if(num_floats > AUDIO_OUTPUT_FRAME) then drop; i'm testing, but this \nsituation is accidental. so i'm not sure\n. ",
    "jdpurcell": "Yeah it's a shame it can't stay floating point all the way through, but unless someone is brave enough to rework the Speex preprocessing code, I'm not sure what else to do \ud83d\ude04. You could change the float <-> int scale factor to (INT16_MAX / 2) to give some more headroom, but then you're losing a bit of precision of course.\nIMHO simply clipping is a major improvement over the current behavior. The distortion caused by the overflow is quite awful / alarming, so leaving it as-is would be really unfortunate.. ",
    "karlsoderback": "Hi,\nSorry didn't see that, I'll fix it. Should I remove this pull request for\nnow and make another when I have fixed it?\n2017-12-29 14:11 GMT+01:00 pkviet notifications@github.com:\n\nhi,\nsomething went wrong with your commits: the diffs are too large , as if\nyou had removed the original files and replaced with other ones.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/jp9000/obs-studio/pull/1125#issuecomment-354444175,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AhKQiZ_I1zPrmazRDWonPCS5-tA8sVfeks5tFOTlgaJpZM4RO8dl\n.\n. \n",
    "takev": "It would be pretty easy. libobs/obs-audio-controls already export the peak and magnitude for every plane. I was just thinking that maybe a boolean should be passed for each plane to know if it is enabled, which I think you can find out if the audio data for the plane is NULL or not.\nThe design of UI/volume-control.cpp also has a seperate function for drawing the meter. Together with the boolean it could draw 0 or more of them. I am not sure how QT will react by resize events generated by the paintEvent function though, because you would need to reserve more vertical space.\nedit: to remove slight sarcasm.. Would you like me to do the suround sound work?\nFenrirthviti, with a slight modification of how it shows, it only requires 4 pixels in height per audio-plane.\nI think it would be reasonable to show all channels of a source from a UX standpoint, because it shows the user how many planes are actually being used by OBS instead of hiding this.\nI haven't looked to deep into how audio is routed in OBS, can you already in the advanced options select which plane is used by an audio source?\n. Yes dodgepong, that is almost how it looks, I made the ticks look slightly better now.\nI was thinking of having the ticks above the volume meters and below the volume meters. Then have all volume meters in the center with a pixel spacing between each.. Okay. I will update this pull request to:\n * Draw a meter for all enabled audio channels of audio source.\n * Draw a dot (probably a square) in front of each channel for the input-peak\n * Draw the ticks above and below the set of meters.\n * Draw all the ticks with a single drawLines() call for performance.. SuslikV, scale values do increase the height of the meters, but it may be worth it. However each tick is a single dB and full scale is 0dB.. Okay, I have updated this pull request. It now handles suround sound. It also adds numbers below the meters. Drawing of ticks and numbers are cached for performance.\nBelow is an example (except in reality the ticks are now even shorter).\n\n. Sadly, I can not really check how this patch looks on OS X and Windows. I hope it looks just as well.\n. Interesting. I think I know a bit where the problem comes from. What kind of audio source are you using, maybe I can duplicate the issue and then fix it.\nI think at the start the source is not only silent, but it is not sending audio at all. So the number of channels never get reported. I am not sure what is happening at the end, but I guess the sound is no longer being send.. reboot, I tried reproducing it, but I was not successful. However I think I know what is wrong and I will attempt a solution tomorrow.\n\nA source that has no live audio stream yet, will have a single meter, so that it won't look weird.\nOnce a source has a live audio stream it will work like normal.\nIf there hasn't been a live audio stream for 1 second the number of meters will remain normal, but the value will be set to \"no sound\". So that it won't look like the meter is stuck.\n. The planes that are enabled are actually fixed for all source based on the global \"Channels\" setting in OBS.\n\nThe number of channels can variate at run time, while a source already exists. I could add a callback mechanism to react of of changes to the configuration of a source (which could also change without user interaction), but that seems extreme overkill.\n. I hope I fixed the issue that reboot had.\n Now checks how many channels there are on each redraw.\n The number is channels are: The number of channels of the source, clamped between 1 and global OBS channel configuration.\n The meters monitor if the audio source becomes idle. When it does it clears the meters and removes the little input-peak squares so that you can visually determine the difference between an idle audio stream and quiet audio.\n Updated the Rachni theme with Fenrir's new color scheme.\n. Hopefully the last update on this pull-request:\n * Double the speed of the peak meter decay rate to more closely match the speed of the original meters.. Thank you for the screenshot derrod. It looks correct.. Modified pull request to fit within 80 character line limit.. I love the wiki page. Both easy to understand and a lot of detail when wanting more information.\n. @admshao I updated pulseaudio-output.c, but I have not an easy way to test it.. My system default sink isn't working much, I have a complicated pulse-audio setup.\n. Oops, forgot to commit\n. I updated the pull request. But I have not yet tested this new code. I first want to see it pass windows compilation.. Here is the bug report that caused me to write this pull request https://obsproject.com/mantis/view.php?id=1104. Don't worry about not noticing the mantis report, it may have something to do with that it wasn't written before today.\n. I will update this pull request, I made a mistake for 4.0 and 4.1 layouts.. Okay I fixed the 4.0 and 4.1 speaker layouts.. I read the pull request. It looks fine to me.\nI am glad I didn't need to do this, I probably would have made quite a few mistakes.. I did remove the VU indicators from the peak meters. Because of information overload. And also because the ebur128 library is not able to give me a per channel loudness.\n. I will try a combined meter, wish me luck. I will make a setting for it so you can switch between combined and separate.. Yea, the VU section will be out of date. But lets hold of until the meters are finalised.\n. Okay, updated the pull request so it looks almost identical to the meters in master.\nChanges:\n Add libebur128 library (MIT License) in the deps directory. This calculates true peak and loudness correctly, even for different sample rates.\n Removed individual black ticks showing VU on each channel.\n Added a vertical black bar across all channels showing short-term loudness (slow updating)\n Moved yellow area to -13 dB, the loudness level where youtube starts lowering volume of video.\n* Moved red area to -2 dB, the maximum peak level which will cause no clipping after mpeg audio compression.\nThere is still some code that needs to be removed, but I first want to know if people are happy with this.. You are right about the 7.1 channels, when implementing I didn't check close enough to the API. I will fix that suff.. Bottom of this page shows the ordering of channels in standard multichannel formats:\nhttps://trac.ffmpeg.org/wiki/AudioChannelManipulation\nI will need to modify some of these channel mappings in OBS to be correct though, especially 4.1.\nFor 7.1 the side channels are between 90 and 110 degrees. And rear channels between 135 and 150.\nEBUR128_LEFT_SURROUND is equal to 110 degrees.. I've already had the issue that libobs SPEAKERS_* API does not specify what those mean. I made a patch for this (and also to fix pulse-audio) here: https://github.com/jp9000/obs-studio/pull/1139/files\nI fixed libobs by just adding comments to what channel-speaker layout each SPEAKER_* constant means.\nIt seams that even ffmpeg uses rear-left and rear-right for both 5.1 and 7.1 formats. While the actual locations of rear-left and rear-right is 110 (for 5.1) vs 135 (for 7.1).\nAt the time I did not know the 4.0 and 4.1 layout and made an educated and wrong guess about those, but the ffmpeg documentation includes those so I will fix this pull request.\n. I updated the speaker layout. Also made the loudness needle, red with a drop shadow so it is more clear on top of the peak meter with changing colours.. This pull request will be replaced by smaller ones.. Is this 6 instead of 5 as a slight nudge to get the ticks to line up with the start and end of the meter-bar?\nI guess that is fine, it would solve the problem rather well.. Yea my in-my-mind-calculation would say that 6 is exactly right.. The original 5 would draw the -60 tick exactly one full pixel to the left of the meter.. obs_peak_meter_type is declared in libobs so it is a C-type (as opposed to C++) therefor I cannot use the new C++ style enum-class.\nAlso obs_peak_meter_type is not a typedef, but a plain enum, so the enum is required here. ln libobs code-style it is normal to not make typedefs and use the types like enums and structs directly.. I don't think it is proper code style to cast between integer and enum values. This code makes it very clear which integer values correspond with which enum value.\nAlso it is easy and clear how to handle integer values outside the enum range, without resorting to adding PEAK_METER_TYPE_END enum value and comparing against it. Which on modern compilers requires the PEAK_METER_TYPE_END to be used in switch statements on that enum.. ",
    "ntoff": "Hell yeah! Adjusting the gate settings is a royal pain in the neck since OBS doesn't put numbers anywhere. How are you meant to set your input gate to a certain db level, when not one single location in OBS shows any kind of db number? I would love for this to become a part of OBS (even if it is some sort of optional extra).. do you have to compile OBS yourself to get it on windows? I'd love to try this out but don't have anything set up to compile it. >I still found it disconcerting that there is no indication anywhere that a screenshot has been saved. I understand why we don't want an audio indicator, as it would be recorded when users might not want it recorded. Maybe a visual indicator, such as a temporary \"Screenshot Saved\" message in the status bar? Or a balloon notification? (are balloon notifications still a thing?) Obviously this is the sort of thing that could also be included in a game capture overlay, but that is an entirely different discussion.\nI mean, there's no indication OBS saves anything, really. Save the replay buffer? Nothing at all to indicate it's been saved. No audio, no visual, no overlay, nothing. I hacked some functionality into the websockets plugin + obs tablet remote to allow me some replay buffer control and at least made the save button (in tablet remote) change to \"saving ...\" while saving, but that's still just a best guess that it did infact save based I think on perhaps the fact OBS didn't spit out an error (I'd have to go back and check what I actually did).\n\nIt was a bit weird not seeing a setting for the Screenshot hotkey under the Screenshot settings tab.\n\nI made a bit of a post on the forum about the hotkeys being all sorts of jumbled up or separated in weird ways. Like the replay buffer hot key being in a section all on its own for saving yet the buttons for starting and stopping it are up the top in with the streaming controls. OBS's hotkey section needs a major tidy up / rework. I tried to have a go but couldn't figure out how to rearrange them properly, I did find where they're hiding but never managed to properly rearrange them.. >The only primary issue remaining is mostly just where to place the screenshot browse button.\nIn the \"File\" menu? Near the recording remux functions? I mean, that's where the \"show settings folder\" clickable menu item is so it makes sense all the other \"browse x folder\" items would also be there, no? yes?. Will this fix remuxing creating (apparently?) variable fps mp4s?\n\nLeft is original mkv recorded with obs 21.1.2 on windows 10, right is the remuxed video (using obs's built in remuxer), the original mkv is 60fps constant while the mp4 claims to be a variable rate with max 1000fps\nand here's the video information (mp4) in virtualdub \n\nwhile the original mkv shows ~60fps \n\n. >I'm not sure that the restart button needed to be removed; I just didn't like where it was placed.\nSomething I've seen other media players do is auto-rewind on stop. This would eliminate the need for a restart button entirely.\n\nPlay / pause plays on first press\nPlay / pause, pauses pauses playback at the current location on second press (and resumes / pauses playback upon subsequent presses)\nStop stops playback and rewinds to the beginning\nRewind rewinds to the beginning and is intended to restart playback without having to press stop, then rewind, then play. In the case of multiple files (playlist) it may go back to the start of the current track for single press, back one full track for 2 presses in quick succession (not double click speed, maybe 1 second apart) my car stereo does this.\nFFW goes to the next file in the playlist if there is one, else does nothing.. >In the original PR, the \"Restart\" button restarted the entire playlist,\n\nahh ok, my bad, never got to see what it did first hand. That does sound like it'd be a useful button to keep in. If it were me, I'd probably have it be the very first button to perhaps signify that it's like a super-rewind button (assuming the original editor puts it back).. Is it the same as the already open PR here https://github.com/obsproject/obs-studio/pull/1352 ?. Please no. I like to keep my UI as clean and small as possible to fit in 1 corner of the 2nd screen, I remove a few of the docks I already don't use, if this is a thing, please at least make it optional or part of some removable dock. Thanks.. Even with media controls there, that's just more wasted space in my eyes, will those also be optionally shown? I like to make the obs window as small and compact as possible to fit a few things on my 2nd screen, I don't need media controls or some stupid buttons taking up precious space, if I could disable the video preview window I would because I don't even need that (all my scenes and overlays are handled on another PC, OBS is nothing more than a glorified mixer / video sender to me but I still need to see that mixer and the volume levels).. No, I have it all sort of as small as possible so I can see the mixer, and whether or not I'm on the \"games\" scene or \"system\" scene.\n\nI have it sitting in 1 corner of the screen, making sure my mic & other things are bouncing the little meters around, and browser window(s) in another corner(s) and perhaps voicemeeter in another corner.\nI wasn't even aware you could pop things out (I only knew about dragging them around), this pleases us.\nThis is probably the most common way I have things organised \n\nSo having less stuff cluttering up the UI the more room there is for the mixer, or the buttons to see whether the replay buffer is going, whether I'm on the games or system scene (ignore all the other scenes, sometimes I add stuff just to test, the only 2 that get used are games & system, all the other brb, etc, are handled by the other pc).\nI guess if worst comes to worst I'll just pop everything out and have a bunch of random floating windows around like the GiMP had.. >You can. Right-click the preview and uncheck \"Enable Preview\". It will still take up some space, but not quite as much as with the preview enabled.\nOops I meant disable as in completely remove (a question I've asked before and know to be impossible), I know you can \"turn it off\" which I already do (I enable it, make sure the game is being picked up, then disable it usually).. What about also alternating colours for the different audio push to mute sections? One device slightly darker/lighter just to make it easier to distinguish the individual sections. Something like this \n\n. oh sorry I didn't realise you could do it with themes, I figured it was all just one big element so couldn't be separated out, as in each device just had the same id/name.. At least with the current version, it's very clear which part you can click on (the header) in order to drag things around. Perhaps make it a new theme, \"Flat Dark\" rather than outright replacing the current dark theme? I quite like having the headers on the individual sections for clarity.. Perhaps have the streaming button change it's text from \"Start Streaming\" to \"Bandwidth Test\" or something?. \"show nothing\" might be even more confusing, if you tick it, what would it show? \"something\"? What is that something? If it does what I think it does, wouldn't changing the way it works, and rewording it as \"Keep last frame visible when playback ends (for video sources)\" make more sense?. ",
    "copyliu": "I think users can use scripts if they need more frequency updated text after OBS 21.0. ",
    "Wouterdek": "Also, while Add Existing often works, the current behaviour is clearly a bug. Either users should not be able to create a second \"Display Capture\" with the same display, OR it should just work. Allowing users to create a second one, but then having it not work without any info is just confusing.. Believe it or not, I actually did read the contribution guidelines. I have contributed to a couple of open-source projects before and I fully understand the importance of having and enforcing rules to maintain a consistent style throughout the project.\nI checked for trailing spaces, max column width and tabs vs spaces, but I forgot several other things. For future reference, I do not mind cleaning up these mistakes myself. It reduces the workload of project owner and allows me to learn. I'll compare the committed code and my pull request and take a look at the changes.\nThank you for your time and patience.. ",
    "rigred": "Thanks. \nI am simply boldly going for it to find out what's going on with this feature.\nIt obviously it needs adaptation to flesh it out and work out the edge cases and some likely bugs.\nEDIT: Ok not completely stable. Noticed some odd stuttering when recording and the framerate being stuck at 1000 in the recording file.\nSo this is just a start. \n. Refer to the linked reference above by GloriousEggroll.\nThis requires very new mesa 17.3 with amdgpu and va-api extensions. \nSo everything is WIP.. Yes @jp9000 I mentioned in the first message that this is a repo based on an adapted patch generated from: https://github.com/w23/obs-studio/tree/ffmpeg-vaapi\nvia GloriousEggrolls' patch.\nI claim no credit for this. It's simply an attempt to get the ball rolling on getting any sort of hardware accelerated enconding on linux for non nvidia users.. Resolved the framerate oddity by clearing OBS settings back to default. \nUnfortunately not sure what caused that. \nStill have abysmal framedrop at higher resolutions and framerates. \nBitrate is set sufficiently above the needed rate. But doesn't seem to have any impact.\nMy system: \nDual Rx580 + Ryzen 1700X.\nArch Linux 4.14.13 + latest amdgpu/mesa 17.3.2\nDoesn't matter on which GPU I encode, the framedrop is there. \nAlso happens on my other Rx 550 machine.\nSettings:\n1080p60fps\nh264 baseline\nbitrate 10'000/40'000/80'000\nkeyframe interval 2.\nWill test further.\nUPDATE: No framedrop at:\n720p 60fps.\n1080p 30fps\nEDIT:\nUnderstood! jp9000. ",
    "GloriousEggroll": "this is not ready for upstream yet. it requires at least mesa 17.3, and the vaapi amdpu featureset is not near complete yet, some features are not fully functional. Also I do not have any stuttering or anything when i record using this. I've used it for both recording and streaming. Some tips:\nWhen streaming you have to use baseline profile or twitch wont recognize it. main and high also work for recording. I do not have the framerate issue you had either. Make sure your keyframe interval is set to 2 and bframes and quality are both set to 0 for amd gpus. Currently running mesa 17.3.2. w23 created the base patch just to get h264 working on the default system gpu, so originally it was his work. I updated it to get it working with mesa, allow selecting of gpus, allow multiple codecs (hevc, h264, mpeg2, vp8, vp9), profiles, keyframes, bframes, levels, quality,render modes, etc, all the necessary features.\nsome of these features however, while implemented, are incomplete in mesa, in particular on the amdgpu side.\nIdeally you could remove some of the features: force h264 codec, baseline profile, bitrate render mode, and remove the bframe and quality settings, and this would work for most users. alright. I've run into a road block.\nthe build system for travis-ci uses ubuntu 14.04.\nlibav requires libavutil-dev because the PPA used does not include these:\nlibavutil/hwcontext.h\nlibavutil/hwcontext_vaapi.h  \nand I can't change the packages to the non-ffmpeg versions, because the ffmpeg packages all require\nlibavutil-ffmpeg-dev, AND..\nlibswresample-dev doesn't exist in trusty, because ubuntu and debian decided they wanted to be special at some point in that time and fork ffmpeg, and they used libavresample with a different prefix on all the libraries.\nso in order for travis-ci not to complain.. it needs to use artful or higher because hwcontext.h and hwcontext_vaapi.h were not added until 17.10.\nedit: attempting alternative ppa. yaaay build problems resolved. I'll clean this up and do a clean PR tomorrow. dead tired. 5 am.. ehh, I wanted to cleanup my fork anyway and put the changes in another branch in case I needed to update them or add onto them later. Should've done that to begin with. yeah I got your message and replied before I closed it, I wanted to move the changes to a completely seperate branch so that I could add onto it later if I need to and keep the master branch in sync with upstream. my old changes were committed directly to master because I did them in a hurry. @Entropy512 I removed quite a bit of unimplemented/unfinished features and left strictly h264 and strictly profile 578 (constrained baseline) after further researching why certain other profiles would not work. Mesa devs confirmed in particular that 578 should be used. This profile is also the only profile that would render properly on twitch for both intel and amd. I assume the same is for facebook. I also fixed the device selection as the menu worked but it would not actually select the proper device. Should work properly now. . @Entropy512 b-frames are not supported on amd, this needs to be set to 0 on amd (which is noted in the interface). some settings did work for intel but not for amd for example the high profile worked for recording on intel and not on amd. amd was able to record using main profile as well, but the profile was not accepted when streaming to twitch. I removed the extra options and limited only availability that works on both platforms. constrained baseline (578) should work for both intel and amd for all streaming+recording purposes.  As this is an initial patch that just allows base functionality, extra features can be added later on. @RytoEX \n\"Additionally, could you explain the changes in the Linux dependencies that you made in CI/install-dependencies-linux.sh so that we know what changed and why?\"\nThis was explained in my previous PR: https://github.com/obsproject/obs-studio/pull/1255\nexact answer: https://github.com/obsproject/obs-studio/pull/1255#issuecomment-379529635\nthe new ppa is a backport of ffmpeg-3 to 14.04\nI'll see if I can fix those styling nitpicks when I get some time. I feel I need to clear some confusion on the PPAs. The PPA change is only for the buildbot, because it uses older ubuntu 14.04. I explained already why this change is needed for ubuntu 14.0.4 but I'll do so again:\nthe build system for travis-ci uses ubuntu 14.04.\nlibav requires libavutil-dev because the PPA used does not include these:\nlibavutil/hwcontext.h\nlibavutil/hwcontext_vaapi.h\nand I can't change the packages to the non-ffmpeg versions, because the ffmpeg packages all require\nlibavutil-ffmpeg-dev, AND..\nlibswresample-dev doesn't exist in trusty, because ubuntu and debian decided they wanted to be special at some point in that time and fork ffmpeg, and they used libavresample with a different prefix on all the libraries.\nso in order for travis-ci not to complain the PPA needs to be changed to one with a more recent version of ffmpeg backported (which is what I did). again, this is only for much older versions of ubuntu.\n@juvester is correct that people using these older versions of ubuntu would have to purge their current ffmpeg+ ffmpeg ppa and add+install from the new one. I also agree that hosting it on obs's own ppa would be a good idea\n@kkartaltepe I'm unsure on the answer to your question regarding the hardware surface. This patch was originally created by forum user w23, I just cleaned it up and fixed it so it allowed the user to select which encoding device to use and fixed the profiles used so that it's compatible with both intel and amd hardware. If you have any changes you're more than welcome to submit a pull request on my repo\n. Just a note for those running on AMD hardware - I did some tests digging a bit further into the \"encoding  overload\" issue. From what I can tell, weaker cards seem much less capable of maintaining 60fps. \nI got my hands on an RX 550, and was able to run some tests: \n1080p60 fps, encoder overload no matter what settings\n1080p30fps with no problem \n900p60fps encoder overload no matter what settings\n900p30fps no problem\n720p60fps encoder overload no matter what settings\n720p30fps no problem\nI really do believe it comes down to the strength of the card, as I did not have these problems with my Vega. I was unable to test my RX 580 because I currently have it passed through a VM for windows.  It may also be some hidden firmware that is limiting the cards. I'm not sure. I would also like to test more on intel integrated gpus, however I do not have one at the moment. I found something interesting. \nMy encoder overloads with window capture (xcomposite) and any capture device I use like my magewell, however i was able to use screen capture (xshm) and record at 1080p60. The encoder would not give me the overloaded warning, but frames would drop under heavy load, especially with tessellation on or very high textures. Eventually I DID get it to overload during a texture change from high to very high in rise of the tomb raider. Frames dropped under heavy load but i didnt get a warning for it unlike the other two mentioned.\n@jp9000 any idea why window capture or video capture device might cause the issue but screen capture doesnt?. Ermm.. i have a 2400g and it shows fine. Additionally there is no hevc support in my patch so I'm not sure what you're looking at\nSent from my Sprint Samsung Galaxy S7.\n-------- Original message --------From: Pablo notifications@github.com Date: 6/9/18  12:28 PM  (GMT-05:00) To: obsproject/obs-studio obs-studio@noreply.github.com Cc: Thomas Crider gloriouseggroll@gmail.com, Mention mention@noreply.github.com Subject: Re: [obsproject/obs-studio] obs-ffmpeg: add linux VAAPI h.264\n\u00a0 encoding support (#1256) \nOn Vega10 hardware, only HEVC encoder is present (at least for now, but it may be due to hardware reasons)\nOBS built with this patch will refuse to work as (obviously) h264 encoding is not present.\nHowever, the option is still incorrectly shown. Would it be difficult to add HEVC encode?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n{\"@context\":\"http://schema.org\",\"@type\":\"EmailMessage\",\"potentialAction\":{\"@type\":\"ViewAction\",\"target\":\"https://github.com/obsproject/obs-studio/pull/1256#issuecomment-395981875\",\"url\":\"https://github.com/obsproject/obs-studio/pull/1256#issuecomment-395981875\",\"name\":\"View Pull Request\"},\"description\":\"View this Pull Request on GitHub\",\"publisher\":{\"@type\":\"Organization\",\"name\":\"GitHub\",\"url\":\"https://github.com\"}}\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/obsproject/obs-studio\",\"title\":\"obsproject/obs-studio\",\"subtitle\":\"GitHub repository\",\"main_image_url\":\"https://assets-cdn.github.com/images/email/message_cards/header.png\",\"avatar_image_url\":\"https://assets-cdn.github.com/images/email/message_cards/avatar.png\",\"action\":{\"name\":\"Open in GitHub\",\"url\":\"https://github.com/obsproject/obs-studio\"}},\"updates\":{\"snippets\":[{\"icon\":\"PERSON\",\"message\":\"@p4block in #1256: On Vega10 hardware, only HEVC encoder is present (at least for now, but it may be due to hardware reasons)\\r\\n\\r\\nOBS built with this patch will refuse to work as (obviously) h264 encoding is not present. \\r\\n\\r\\nHowever, the option is still incorrectly shown. Would it be difficult to add HEVC encode? \"}],\"action\":{\"name\":\"View Pull Request\",\"url\":\"https://github.com/obsproject/obs-studio/pull/1256#issuecomment-395981875\"}}}\n{\n\"@type\": \"MessageCard\",\n\"@context\": \"http://schema.org/extensions\",\n\"hideOriginalBody\": \"false\",\n\"originator\": \"AF6C5A86-E920-430C-9C59-A73278B5EFEB\",\n\"title\": \"Re: [obsproject/obs-studio] obs-ffmpeg: add linux VAAPI h.264 encoding support (#1256)\",\n\"sections\": [\n{\n\"text\": \"\",\n\"activityTitle\": \"Pablo\",\n\"activityImage\": \"https://assets-cdn.github.com/images/email/message_cards/avatar.png\",\n\"activitySubtitle\": \"@p4block\",\n\"facts\": [\n]\n}\n],\n\"potentialAction\": [\n{\n\"name\": \"Add a comment\",\n\"@type\": \"ActionCard\",\n\"inputs\": [\n{\n\"isMultiLine\": true,\n\"@type\": \"TextInput\",\n\"id\": \"IssueComment\",\n\"isRequired\": false\n}\n],\n\"actions\": [\n{\n\"name\": \"Comment\",\n\"@type\": \"HttpPOST\",\n\"target\": \"https://api.github.com\",\n\"body\": \"{\\n\\\"commandName\\\": \\\"IssueComment\\\",\\n\\\"repositoryFullName\\\": \\\"obsproject/obs-studio\\\",\\n\\\"issueId\\\": 1256,\\n\\\"IssueComment\\\": \\\"{{IssueComment.value}}\\\"\\n}\"\n}\n]\n},\n{\n\"name\": \"Close pull request\",\n\"@type\": \"HttpPOST\",\n\"target\": \"https://api.github.com\",\n\"body\": \"{\\n\\\"commandName\\\": \\\"PullRequestClose\\\",\\n\\\"repositoryFullName\\\": \\\"obsproject/obs-studio\\\",\\n\\\"pullRequestId\\\": 1256\\n}\"\n},\n{\n\"targets\": [\n{\n\"os\": \"default\",\n\"uri\": \"https://github.com/obsproject/obs-studio/pull/1256#issuecomment-395981875\"\n}\n],\n\"@type\": \"OpenUri\",\n\"name\": \"View on GitHub\"\n},\n{\n\"name\": \"Unsubscribe\",\n\"@type\": \"HttpPOST\",\n\"target\": \"https://api.github.com\",\n\"body\": \"{\\n\\\"commandName\\\": \\\"MuteNotification\\\",\\n\\\"threadId\\\": 321823624\\n}\"\n}\n],\n\"themeColor\": \"26292E\"\n}. I have a vega 64 in my main system, both have H264. If you dont have a\nvaapi h264 entrypoint then this plugin will not work for you.\nOn Sat, Jun 9, 2018 at 8:04 PM, Pablo notifications@github.com wrote:\n\nSorry for the badly worded comment, what I meant is that with the current\nvaapi stack, vega10 only has an HVEC encoder available, (no h264 entrypoint\nslice). When using obs with this patch, h264 encoding is shown as available\nfor the vaapi encoder when it's impossible for it to work.\n2400G doesn't have the same VCE as desktop vega, it's actually much newer.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1256#issuecomment-396007785,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AKw9HbkeKfb8zmrhSWcUyGLqAj76Kfnnks5t7GKjgaJpZM4TLqOI\n.\n. @nexfwall you're wrong. amdgpu on mesa has had vaapi support since at least 17.3. b-frames are not supported and the profiles are limited which is why baseline is used, but the functionality is definitely there and has been for some time. vainfo can show you details.  My patch still applies to the current version perfectly fine and compiles. I haven't bothered to clean it up any more especially over name titles or space nitpicks because I don't have time and have other projects going on. It's there for those who want to use it. It would be nice to be in native OBS but I'm not going to bother pushing it any further. It's there for people who need it. I don't even know why this pull request exists when my original patch still applies to the current git of OBS.\n\n. @RytoEX I have kept the github repo with the PR up on github despite moving my projects to gitlab specifically for my PR. At the time of sending the PR, I made all modifications necessary to be compliant with format, styling and code requests. I have not responded since then, because there had not been additional requirements since then. Jim was having compiling problems, which were unrelated directly to my pull request, but rather the build environment, specifically regarding FFmpeg. If someone else wants to continue the work in the amended PR that's fine. I don't wish to get such notices any more like the one mentioned above. I did what was asked when the initial PR request was made. \nAnd to be clear, the original patch from w23. did not include any extra options or the ability to choose what device was used.\nFeel free to close my original PR.. @SingularityAzure I checked out your fork and made a patch of the most recent commit, everything seems to work except it's rendering very dark. See screenshots\n\n\n. Further digging leads me to believe it's an opacity problem. If I add a white color source and put it in the background it shows through the layer. Screenshot:\n\n. @SingularityAzure if I do that it just renders a black screen\n\n. sorry I don't know why i didnt get an email notice on this. I just thought about it and remembered to check back. I will get these to you later today. fwiw reverting the 3 commits on this make xcomposite work fine as it was prior to those 3 being added, rendering correctly with no transparency problem. @SingularityAzure sorry this took longer than expected. work has been hectic\nBefore enabling alpha-less texture workaround\nhttps://obsproject.com/logs/XeZPIpx_-eridcQc\nAfter:\nhttps://obsproject.com/logs/6CFowaisPxw2QsER\nxwininfo:\n```\nxwininfo -name Warframe\nxwininfo: Window id: 0x3e00001 \"Warframe\"\nAbsolute upper-left X:  0\n  Absolute upper-left Y:  0\n  Relative upper-left X:  0\n  Relative upper-left Y:  0\n  Width: 1920\n  Height: 1080\n  Depth: 24\n  Visual: 0x45\n  Visual Class: TrueColor\n  Border width: 0\n  Class: InputOutput\n  Colormap: 0x3a0001c (not installed)\n  Bit Gravity State: NorthWestGravity\n  Window Gravity State: NorthWestGravity\n  Backing Store State: NotUseful\n  Save Under State: no\n  Map State: IsViewable\n  Override Redirect State: no\n  Corners:  +0+0  -1920+0  -1920-0  +0-0\n  -geometry 1920x1080+0+0\n```\nglxinfo:\nhttps://hastebin.com/enubetehih\nglxinfo | grep \"OpenGL\":\n```\nOpenGL vendor string: X.Org\nOpenGL renderer string: Radeon RX 580 Series (POLARIS10, DRM 3.26.0, 4.18.12-arch1-1-ARCH, LLVM 8.0.0)\nOpenGL core profile version string: 4.5 (Core Profile) Mesa 18.3.0-devel (git-b7397b09d5)\nOpenGL core profile shading language version string: 4.50\nOpenGL core profile context flags: (none)\nOpenGL core profile profile mask: core profile\nOpenGL core profile extensions:\nOpenGL version string: 4.5 (Compatibility Profile) Mesa 18.3.0-devel (git-b7397b09d5)\nOpenGL shading language version string: 4.50\nOpenGL context flags: (none)\nOpenGL profile mask: compatibility profile\nOpenGL extensions:\nOpenGL ES profile version string: OpenGL ES 3.2 Mesa 18.3.0-devel (git-b7397b09d5)\nOpenGL ES profile shading language version string: OpenGL ES GLSL ES 3.20\nOpenGL ES profile extensions:\n```. changing !has_alpha to has_alpha fixes the transparency bug mentioned here:\nhttps://github.com/obsproject/obs-studio/pull/1485\nand here:\nhttps://obsproject.com/mantis/view.php?id=1337\nI may be wrong but from what I see, has_alpha is set to true by default, which would mean it should check if has_alpha remains true before setting opaqueness.  Here from what it seems, you're setting opaqueness even though has_alpha is false.. which doesn't seem right no?\neasy way to replicate to test is try capturing Skyrim SE, and adding a white color source behind it. It's easy to see the washout with/without this change.\napart from that everything i tested works - native vulkan games, dxvk vulkan games, chrome, opengl games, all captured fine.\n. ",
    "steffenWi": "@rigred regarding framedrop: I haven't tested it with the 21st version but on my RX 570 with amdgpu/radeonsi I can go up to 1080p@48fps with a bitrate of ~15000 without getting framedrops. \nIf I go higher, either with the FPS or the bitrate I get framedrops as well. Interestingly this has no impact on the game (no reduction in performance) and no impact on the CPU either (it's not running at full capacity).\nThe only 'hint' I get is that in the status bar on the bottom of the OBS window it will, after ~10 seconds of recording, say something like that the encoder is overloaded and to reduce settings to avoid framedrops.\nI'm on Arch Linux as well just for the record.. ",
    "fosspill": "Vega 56. Kernel 4.15:\n1080p60fps\nh264 baseline\nbitrate 15000\nkeyframe interval 2\n1 frame dropped.\nedit:\nSame settings, but 25k bitrate. ~7 dropped frames:\ninfo: Output 'adv_file_output': Total frames output: 2168\ninfo: Output 'adv_file_output': Total drawn frames: 2175\nDropped under 60 fps for a very short time while recording. I'm guessing this happens when OBS isn't getting enough frames from whatever it is recording?. ",
    "dR3b": "This works really well! Thanks!\n```bash\ninfo: OBS 21.0.3_17_g7337b7ff (linux)\ninfo: ---------------------------------\ninfo: ---------------------------------\ninfo: audio settings reset:\n    samples per sec: 44100\n    speakers:        2\ninfo: ---------------------------------\ninfo: Initializing OpenGL...\ninfo: Loading up OpenGL on adapter Intel Open Source Technology Center Mesa DRI Intel(R) Iris Plus Graphics 650 (Kaby Lake GT3e) \ninfo: OpenGL loaded successfully, version 4.5 (Core Profile) Mesa 17.3.6, shading language 4.50\ninfo: ---------------------------------\ninfo: video settings reset:\n    base resolution:   3440x1440\n    output resolution: 3440x1440\n    downscale filter:  Lanczos\n    fps:               30/1\n    format:            NV12\n    YUV mode:          601/Partial\ninfo: Audio monitoring device:\n    name: Default\n    id: default\ninfo: ---------------------------------\n...\ninfo: FFMPEG VAAPI supported\ninfo: VLC found, VLC video source enabled\ninfo: ---------------------------------\ninfo:   Loaded Modules:\ninfo:     vlc-video.so\ninfo:     text-freetype2.so\ninfo:     rtmp-services.so\ninfo:     obs-x264.so\ninfo:     obs-transitions.so\ninfo:     obs-outputs.so\ninfo:     obs-libfdk.so\ninfo:     obs-filters.so\ninfo:     obs-ffmpeg.so\ninfo:     linux-v4l2.so\ninfo:     linux-pulseaudio.so\ninfo:     linux-jack.so\ninfo:     linux-decklink.so\ninfo:     linux-capture.so\ninfo:     linux-alsa.so\ninfo:     image-source.so\ninfo:     frontend-tools.so\ninfo: ---------------------------------\ninfo: ==== Startup complete ===============================================\nerror: Service '' not found\ninfo: All scene data cleared\ninfo: ------------------------------------------------\ninfo: pulse-input: Server name: 'pulseaudio 11.1'\ninfo: pulse-input: Audio format: s16le, 44100 Hz, 2 channels\ninfo: pulse-input: Started recording from 'alsa_output.pci-0000_00_1f.3.analog-stereo.monitor'\ninfo: xshm-input: Geometry 3440x1440 @ 0,0\ninfo: Switched to scene 'Szene'\ninfo: ------------------------------------------------\ninfo: Loaded scenes:\ninfo: - scene 'Szene':\ninfo:     - source: 'scene1 (XSHM)' (xshm_input)\ninfo: ------------------------------------------------\nqt5ct: D-Bus system tray: no\nqt5ct: custom style sheet is disabled\ninfo: adding 46 milliseconds of audio buffering, total audio buffering is now 46 milliseconds\nQXcbConnection: XCB error: 8 (BadMatch), sequence: 7123, resource id: 62914623, major code: 130 (Unknown), minor code: 3\nQXcbConnection: XCB error: 8 (BadMatch), sequence: 7153, resource id: 62914623, major code: 130 (Unknown), minor code: 3\nQXcbConnection: XCB error: 8 (BadMatch), sequence: 7156, resource id: 62914623, major code: 130 (Unknown), minor code: 3\nQXcbConnection: XCB error: 8 (BadMatch), sequence: 7176, resource id: 62914623, major code: 130 (Unknown), minor code: 3\ninfo: ---------------------------------\ninfo: [FFMPEG VAAPI encoder: 'recording_h264'] settings:\n    qp:           20\n    quality:      0\n    profile:      100\n    level:        42\n    bitrate:      8192\n    keyint:       120\n    width:        3440\n    height:       1440\n    b-frames:     0\n    loop-filter-level:     16\n    loop-filter-sharpness:     4\ninfo: libfdk_aac encoder created\ninfo: libfdk_aac bitrate: 160, channels: 2\ninfo: ==== Recording Start ===============================================\ninfo: [ffmpeg muxer: 'adv_file_output'] Writing file '/home/xxx/2018-03-07 07-45-47.mkv'...\n[matroska @ 0x55d9c7f942e0] Using AVStream.codec to pass codec parameters to muxers is deprecated, use AVStream.codecpar instead.\n[matroska @ 0x55d9c7f942e0] Using AVStream.codec to pass codec parameters to muxers is deprecated, use AVStream.codecpar instead.\nQXcbConnection: XCB error: 8 (BadMatch), sequence: 13671, resource id: 62914623, major code: 130 (Unknown), minor code: 3\nQXcbConnection: XCB error: 8 (BadMatch), sequence: 13706, resource id: 62914623, major code: 130 (Unknown), minor code: 3\nQXcbConnection: XCB error: 8 (BadMatch), sequence: 13709, resource id: 62914623, major code: 130 (Unknown), minor code: 3\ninfo: [ffmpeg muxer: 'adv_file_output'] Output of file '/home/xxx/2018-03-07 07-45-47.mkv' stopped\ninfo: Output 'adv_file_output': stopping\ninfo: Output 'adv_file_output': Total frames output: 524\ninfo: Output 'adv_file_output': Total drawn frames: 529\ninfo: ==== Recording Stop ================================================\ninfo: libfdk_aac encoder destroyed\n```\n. ",
    "Entropy512": "I assume the Mesa requirements are AMD-specific?\nI'll provide the log files tonight, but I had very good results with GloriousEggroll's original patch (I have not tried rigred's changes) on a machine with Intel Kaby Lake and Ubuntu 17.10 - no \"special\" driver or OpenGL/Mesa upgrades.. I'll try and give this patch a test in the next day or two.\nIt appears you've significantly reworked profile handling since one of your much older patches?  (dated November 26, 2017) - That patch had a bunch of codec-specific profiles (such as h264-main) which did not match the naming conventions for profiles in OBS' \"Enforce streaming service encoder settings\" feature, which would choose a profile of \"main\" for Facebook for example - which would get rejected by the driver as invalid causing a fairly generic \"unimplemented\" error.\nI'll give this patchset a whirl soon to see if that issue is resolved, I'm guessing from the significant architectural changes of this patch it may be.. I'm pretty sure h264-main was what I was using on Facebook without issues, but sticking with Main should probably be OK.\nI know there was one thing in your old patchset (deleting the patch when I was prepping my repo for your new patch was probably a mistake...) regarding something that had to be set to 0 for AMD but was OK to be set to a nonzero value on Intel.  Apparently a special/ultra-recent version of Mesa was needed on AMD chipsets?  A mostly unmodified (I was only running PPAs for kdenlive and gnuradio-related items I'm fairly certain) Ubuntu 17.10 install seemed to work fine with your old patchset on a Kaby Lake machine.  I've built your latest patchset and fired up OBS, but not actually tried doing any streaming yet.  I might get a chance tomorrow.  Unfortunately most local venues don't have a good enough network connection for livestreaming, but the one that does has a weekly Thursday show of their house band.. Thanks for the clarification.  Makes sense to stick with the basics for now - it would be nice if there were a way to query for allowable/supported values, permitting bframes to be enabled on Intel devices.  Perhaps after the initial patch gets accepted with basic support - which is still a MASSIVE improvement on a Kaby Lake laptop.. I'm testing the current patch on an Intel Kaby Lake machine (i5-7200U) using an Elgato Cam Link (USB3 HDMI-to-UVC) fed by a Sony A7III - it's working very well.  I forgot to turn \"Enforce streaming service encoder settings\" back on though - I need to verify that, but overall the patch seems to be solid so far.. Out of curiosity, what is the policy on how many releases back a PPA supports?\nObviously to the most recent LTS makes sense, which explains why one would have to go back to xenial prior to the release of 18.04 - but now that bionic is out, what's the new policy on a PPA supporting old revisions?  Will the ci system be moved to bionic as that is an LTS release?\nPulling in ffmpeg from a PPA was not necessary on artful and I assume it isn't on bionic either (I have not tried rebuilding OBS since upgrading.). @ericfont Last time I had looked at the most recent patchset, it had been simplified significantly to the point where it should have resolved that issue - but I need to look again.  At least for Facebook, the workaround is to disable that \"Enforce encoder settings\" option - this patch defaults to a \"main\" profile accepted by Facebook anyway.\nI haven't tested this patchset in a while.  Will need to try again next time I'm in a scenario favorable for livestreaming - the problem is that the music venue I used to stream a lot from due to it having a combination of frequent good acts AND amazing upstream bandwidth now has a fairly nasty upstream cap, apparently their deal with a local ISP that offered fiber and wireless service to get amazing fiber bandwidth in exchange for roof space to put that ISP's WISP antennas expired.  Now if anyone livestreams from their phone, the bandwidth cap gets hit and everyone's streams start flaking out.. ",
    "bhstahl": "Thanks for reviewing so quickly @Fenrirthviti. Removed common and bumped the package.\nAt this juncture, I would prefer to not set any recommended settings. We will follow on as this changes though.. ",
    "blueben": "I should specify, this fixes the search for MacOS. Unknown if it's required on any other platform.. ",
    "tjienta": "The performance can be increased quite a bit if SSE4 is allowed. With SSE4 you have horizontal add, which means that the expensive TRANSPOSE macro is not needed.\nAdding SSE4 support is quite easy, simply modify the CMakefile.txt. But it does mean a higher minimum requirement for OBS. . Didn't you update this patch already on your own machine?. I did not know about EBU R68-2000. This is a new standard that has changed the error and warning levels. It looks like the alignment level (warning) of -18 dB is now made in line with SMPTE.\nActually you can argue that it is more exactly -18.063656 dB, because EBU has specified the alignment level as exact sample values. (top three bits chopped off from the maximum value). But we are talking about audio levels so more precision is not needed.\nThey have not exactly specified where the maximum program level is, this is different between meters.\nI would argue that in OBS (both meters) there is no operator error of -3 dB due to the inclusion of a sample-and-hold meter.\nI would also argue that -1 dB should be added in OBS (both meters) to the maximum program level because of lossy audio encoding.\n. Actually the peak meter is designed so that the peak-and-hold is calculated outside of the screen-update specifically because of that problem. Peak-and-hold will always shows the maximum peak for several seconds.. UI/volume-control.cpp:\n517         peakHoldDuration = 20.0;\nIt is actually 20 seconds that the peak-and-hold is shown, 20 seconds to see the actual maximum peak level on the meter is long enough for an operator.. peak-and-hold is the small vertical line in front of the peak meter.\n. Oops, that was a quick close.\nI am totally in agreement with changing the reference/warning level to -18 dB in correspondence with EBU R68-2000. Maybe a separate pull request can deal with that.\n. I am going to reverse the offset sliders, so when you move the X-slider to the right, the shadow goes to the right as well. If you move the Y-slider to the right, then shadow goes down.. @RytoEX Thank you for the review, I have made the changes locally, I will push once I made a few more changes.. Okay I updated the pull request, removed colour conversion that should not have been done. Also reduced code duplication. And added a few more comments. Also fixed the direction of the offset sliders so that it feels more natural. I am pretty happy with it now.. I am not sure how I missed those, but I addressed those now.. I made the modification to use seperate texture targets for each pass to reduce graphic pipeline stalls.. Something is wrong, it looks like I no longer am able to retrieve the source image.\nDid something change in how the stack of filters need to be processed?. Okay, I found some time and fixed it. It now also allocated and deallocated the texture targets based on how large the current blur setting is.. Updated so that shadows are calculated for only a single plane using GS_R8 texture targets.. I reverted the GS_R8 texture target to GS_RGB. The plugin seems stable again, I have been running it for about  week again.. I've rebased from master since OBS 23.\nI am not sure why the Mac build doesn't work, seems to be something about installing prerequisites, I don't think this is about my code.. Thanks :-). The source get larger because space needs to be made for the shadow which is rendered inside the source. Other filters that change the source size behave in the same way.\nIt would be nice if there was a way to specify and anchor point so that it doesn't feel as if the source is moving. But that would be a whole other can of worms that I don't want to open.. Okay, you can do the same but with more computational power by stacking chroma key filters with the color spill set to 1.. Please don't uncomment this. It is important for the little box in the front of the meter to be drawn for debugging audio problems.. The -3dB for possible operator error was in reference to the quasi-peak meter. Due to peak-hold meter, this allows the operator to read the peak exactly, thus the operator error does not count here, nor does it count for the sample peak meter, a quasi-peak meter does not have this sample peak meter.\nEBU R128 Did mention specifically to add -1 dB to the permittted maximum level if the audio would be compressed using mpeg audio encoding (I am guessing for any kind of lossy audio encoding).\nI would keep the setErrorLevel to -2.. There is something to say to remove the operator error here, since we have the added peak-and-hold meter that quasi-peak meters do not have.\nBut we do need to add -1 dB for lossy encoding.\nI recommend -4 dB, I can live with -6 dB.. Done.. Done.. ",
    "astudios123": "That\u2019s great! Thanks for doing that. It\u2019s my first time using Github!. ",
    "inflex": "@VodBox perfectly reasonable suggestion, I was contemplating on it, just wasn't quite sure how to implement it; I'll look at the suggested source.. Sorry about all the post-PR-submission commits.. Any ideas/progress on this PR?  Just thought I'd bubble it up.. All good. If it ever expands out of niche at least it exists pre-prepared.. ",
    "computerquip-streamlabs": "This is incorrect and there's nothing in the GLX standard that says the highest profile will be chosen if left to a default. If I remember correctly, this is the case for Mesa. \nIs there a reason you want a higher version of OpenGL selected?. I meant to look into this further but haven't had the time. What I can say without much research is that you can probably get away with detecting GL extensions (I think libobs exposes the GLAD wrapper headings as well) and using those dynamically rather than trying to raise the required version of OpenGL. \nTake this with a grain of salt since my memory has faded a bit on the topic: An OpenGL implementation that supports version 3.2 is required to support the core profile bit.  If 3.2 is requested, a valid OpenGL implementation may return 3.2 or anything that implements 3.2. \nThe problem with compatibility mode is that ARB_compatibility is optional. Mesa takes advantage of this, there is no compatibility bit capability in Mesa. The compatibility mode they provide is for 3.1 (sometimes) and below only.\nIn other words, the only thing you can expect with OpenGL context versioning is what you ask for is what you should expect. If you ask for 3.2 core, you should expect 3.2 core, nothing more, nothing less. You can test for the version that it actually provides you and you can base things on that but you should never make the assumption that all drivers are going to have similar behavior when it's not defined by standard to have that behavior. \nSome of that might have also changed since I last looked into as well. I think there was some ARB_compatibility work back in 2017 at some point but don't know if it ever actually made it in.. Is there anything in Activate() that's done asynchronously so we have to wait like this? Otherwise, actions appear to be done FIFO sequentially. . What's the justification for this?. For what it's worth, I usually specify -DUSE_STATIC_CRT=off explicitly when building obs-browser which works around this for now. . I'm going to close this for now until I have time to work around the race condition using asynchronous means. The race condition will only occur in testing environments where startup/shutdown is almost instant anyways, no rush on this. . Seems Ninja is still broken. CMocka places both shared and static libraries into the same directory. That doesn't work on Windows since they'll both generate .lib files. Ninja then gets confused since there's two producers of the same file and runs the rule for shared libraries by chance to generate the dependency. Will have to fix..... Since the bug is in CMocka and I can't seem to work around the bug otherwise, I've made a custom repository with the fix. Currently, it just changes the static library name from cmocka.lib to cmocka_static.lib.. Corresponding upstream cmocka issue. Not sure if it will be acknowledged or not yet. . I think going for readability here is more beneficial. That said, I think your suggestion is more readable so I changed it anyways. . New changes as discussed in discord applied. The crash handler initialization function is now windows specific and is only called on Windows. . Eh, just noticed env_path can be leaked there. Will revise. . Closing since this not only doesn't work for the intended purpose but it doesn't even work to solve my problem. I'll be submitting yet another solution to this problem soon.... CMake makes it a little inconvenient to work with object archives until 3.12 (very recent). I'm going to just use static libraries instead which has the same practical use here. I've also added another commit for blake2 that does similar where the updater (uses /MT) and the obs target (uses /MD) links against it. . I've pushed one last change to change CMAKE_HOST_WIN32 to WIN32.. If you use MDd and you apply that object to a binary that uses the static runtime, you will get linker errors unless the resulting binary is dynamically linked. /MTd /Zl works with both as it satisfies the requirements of both. The only way this would be useful is if any binary you're using the static or object libraries with will never statically link the runtime. \nA good example of another library that implements this strategy I recently learned is OpenSSL for Windows. Unfortunately, I realize there isn't a lot of documentation on this strategy but OpenSSL is a practical example of this working. . The PR for the FTL-SDK along with explanation: https://github.com/mixer/ftl-sdk/pull/78\nNo work for enc-amf yet. . > \n\nWhen running with LD_DEBUG=libs, getting some\nerror: symbol lookup error: undefined symbol: obs_module_unload (fatal)\nerror: symbol lookup error: undefined symbol: obs_module_post_load (fatal)\nerror: symbol lookup error: undefined symbol: obs_module_name (fatal)\nerror: symbol lookup error: undefined symbol: obs_module_author (fatal)\nWhat might be causing this?\n\nWhen we load plugins, it searches for those symbols in order to initialize the plugin. I'm guessing it's trying to load some plugin that fails to find those specific functions.. Javascript is rubbing off on me. Fixed.. ",
    "sexmen130": "No speak inglish\n. El mi\u00e9., 6 jun. 2018 15:59, Alik Send notifications@github.com escribi\u00f3:\n\n@aliksend commented on this pull request.\nIn plugins/text-freetype2/text-freetype2.c\nhttps://github.com/obsproject/obs-studio/pull/1317#discussion_r193419982\n:\n\n@@ -130,6 +130,12 @@ static obs_properties_t ft2_source_properties(void unused)\n  obs_properties_add_text(props, \"text\",\n      obs_module_text(\"Text\"), OBS_TEXT_MULTILINE);\n\n\nobs_property_t *alignmentProp = obs_properties_add_list(props, \"alignment\",\nobs_module_text(\"Alignment\"), OBS_COMBO_TYPE_LIST, OBS_COMBO_FORMAT_INT);\nobs_property_list_add_int(alignmentProp, \"Left\", TEXT_ALIGNMENT_LEFT);\nobs_property_list_add_int(alignmentProp, \"Center\", TEXT_ALIGNMENT_CENTER);\nobs_property_list_add_int(alignmentProp, \"Right\", TEXT_ALIGNMENT_RIGHT);\n+\n\nNo, there is 76 columns, but I can wrap if you want\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1317#discussion_r193419982,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AjOQo-w6gpilddS-P1VjK3-0d9I9s1nnks5t5-BWgaJpZM4Ucoyx\n.\n. \n",
    "zhk": "Hi Jim,\nThanks for spending time test it. I should have provided more information, sorry.\nSo I made a simple test as below,\nuint32_t  aligned_header = 32;  // Real header size is 12\nuint32_t  aligned_tex = 320;        // For test\nuint32_t  total_size = aligned_header + aligned_tex * 2;\n\nuint32_t tmpInt = 0;\nvoid    *shmem_info = &tmpInt;  // In my test time, the address is 0x010ff89c\n                            // 0x010ff89c % 32 = 28\n\nuintptr_t align_pos;\n\n/* to ensure fast copy rate, align texture data to 256bit addresses */\nalign_pos = (uintptr_t)shmem_info;\nalign_pos += aligned_header;\nalign_pos &= ~(32 - 1);\nalign_pos -= (uintptr_t)shmem_info;\n\n// now align_pos = 4, (28 + 4 will be aligned) the tex_offset will be start at (shmem_info + 4)\n// So this is another bug, that the header(struct shmem_data) will be overwritten by texture data.\n// And the texture data can not exceed the total_size bound.\n\n// Below is the fix,\nalign_pos = (uintptr_t)shmem_info;\nalign_pos += aligned_header;\nalign_pos &= ~(32 - 1);\nalign_pos -= (uintptr_t)shmem_info;\nalign_pos += aligned_header;\n// total size is better to be increased by 32(32 for safe)\n\n// A better understanding fix,\nalign_pos = 32 - (((uintptr_t)shmem_info) % 32);\nalign_pos += aligned_header;\n\nFor the default SETTING_COMPATIBILITY is share texture, \nand the initialization is occurred before the copy_texture.\nSo the bug is not very obvious.\n\nAnd thank you for OBS. I like it and your code.\nZhang Kun\n. Yes, the bug has gone now. Thanks.. ",
    "cpuwolf": "https://obsproject.com/mantis/view.php?id=1168\nis it same issue here?. ",
    "jamacanbacn": "That is a good point. I will look around at some and see. Definitely do not want to intentionally break others work. \ud83d\udc4d . ",
    "Adam-Human": "sorry for that im new here , and did you see the image to understand what i mean :  [link removed] i mean changing the ratefactor quality , i'm already in Advanced mode and whats the name of that box u talking about ?. ",
    "TheMuso": "On Wed, Mar 07, 2018 at 12:51:58PM AEDT, Jim wrote:\n\nHi there -- you should not have \"fix up\" commits as part of a pull request.\nYou should rebase and squash that third commit in to the previous commit, \nthen force push back to this branch.  It will then automatically update the \npull request.\n\nOk, wasn't sure what your position was on force-pushing pull requests after \nthe fact, will do, thanks for the heads up.\n. Thought I'd build this and try it out in Linux. I'm getting the following in my termainl when running obs, seems there is still things need addressing.\ndebug: obs_media_get_duration: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_duration: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_state: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_duration: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_duration: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_state: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_duration: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_duration: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_state: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_duration: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_duration: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_state: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_duration: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_duration: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\ndebug: obs_media_get_state: Null 'source' parameter\ndebug: obs_media_get_time: Null 'source' parameter\n. Just to add, I would think the media methods would not be active if there were no VL source added, which of course with fres configs, I don't.\n. On Wed, Jun 27, 2018 at 12:37:19PM AEST, RytoEX wrote:\n\nHi!  Thanks for this PR.\nCould you please update your commit message to comply with this project's commit guidelines?\n\nWhoops, thanks, that should be fixed now.\nLuke\n. Sorry I didn't reply sooner, was away from my dev/test environment for the weekend.\nHappy to encorporate those changes into my PR.\n. Ok, I've made your suggested changes locally, however I am able to crash Obs when audio monitoring is enabled. The annoying thing is that the crashes are inconsistant. Here is the best way I have found to trigger a crash.\n\nUpdate your local copy of this pull request and build it, as it now has @TheOrsa's changes included.\nStart with fresh OBS settings, license agreement and all.\nGo into settings, and choose an audio monitoring device other than the default. Built in Output should be sufficient, but I have seen this behavior with both built in output and my MOTU firewire audio interface that is connected. I've also found that a couple of times I would set the monitoring device, click OK, enable monitoring, only to find when checking settings that it reset back to Default. So maybe to be sure, apply changes, click OK, quit and restart OBS before continuing, to make sure the monitoring device is set.\nAdd an audio source. I am using an mp3 file with the media source for my testing.\nGo into the advanced audio properties, and enable monitoring for your source, either monitor only, or monitor and output should be sufficient.\nEither you hear audio from your selected monitoring device, or OBS will crash. If it doesn't crash straight away, it may be as simple as closing the advanced audio properties window, or opening/closing settings before crashing.\n\nI have tested the above with both debug and non-debug builds of OBS. That is to say, debug builds are with passing -DCMAKE_BUILD_TYPE=Debug to cmake.\nTHe backtraces I have attempted to get when running in an LLDB session are also inconsistant, and given that this crash is ONLY observed when choosing an audio device other than \"Default\", I am wondering whether it is something to do with the memory handling for the string used to set the kAudioQueueProperty_CurrentDevice property, lines 201-203 of libobs/audio-monitoring/osx/coreaudio-output.c.\nA quick glance at the code for the pulseaudio monitor and Wasapi monitor implementations show that a local copy of the audio device id string is made, and in the case of pulseaudio, the copy is used and then freed when the monitor is destroyed. I don't see such code in the coreaudio implementation. I am wondering whether that could be a possible point of failure, given that the pointer pointed to by the CFStringRef is not owned by the coreaudio monitor code, and is managed by the UI and the OBS settings data structures. Anybody more experienced with Mac OS APIs feel free to chime in.\n. Ok, I made the following change:\n@@ -193,10 +193,10 @@ static bool audio_monitor_init(struct audio_monitor *monitor,\n        }\n    if (strcmp(uid, \"default\") != 0) {\n\n\nCFStringRef cf_uid = CFStringCreateWithBytesNoCopy(NULL,\nCFStringRef cf_uid = CFStringCreateWithBytes(NULL,\n                                (const UInt8*)uid, strlen(uid),\n                                kCFStringEncodingUTF8,\nfalse, NULL);\nfalse);        stat = AudioQueueSetProperty(monitor->queue,\n                        kAudioQueueProperty_CurrentDevice,\n\n\n\nWith this change I am no longer getting any crashes. Can change to/from default, between built-in output and my MOTU audio device, enable monitoring for a source, and disable it again all without any crashes.\nIf others can test and verify, I will add this to the most recent commit on my pull request, and we are probably done unless others find any issues.\n. Thanks, both requests are reasonable. Decided to use load instead since dlopen is the function call, and it is essentially loading libraries, so load makes more sense.\n. Am I reading that changed code correctly, or is the volume multiplication being done twice in both circumstances, once using SSE, and then once without?\nSecondly, I wonder whether it would make more sense to have a common public/exported method to do volume processing. The audio monitoring code also does volume processing, and all 3 monitoring implementations have their own code, PulseAudio's code being slightly different in that volume processing needs to be done for types other than float. Surely it would make sense to change all volume processing code to using one method which can then be optimized appropriately.\n. Ok, on second look I can see why the original code was left there.\nMy second query still stands about having one volume process method for all instances throughout obs.\n. Clearly I am not yet awake enough... I see those volume implementations are slightly different as well.\nI'll just keep quiet. :)\n. I had to google what reversing the polarity of audio was... Seems that it is similar, if not the same to inverting phase. Maybe referring to it as affecting the audio phase would make it more explanable to more people.\nSecondly, I think this should also have setter/getter functions, similar to almost all other advanced audio controls, mute, volume, monitoring type, etc.\nFinally, a quick glance, and I found the below hunk.\n@@ -2624,6 +2635,11 @@ static void process_audio(obs_source_t *source,\nif (!mono_output && (source->flags & OBS_SOURCE_FLAG_FORCE_MONO) != 0)\n    downmix_to_mono_planar(source, frames);\n\n\n//printf(\"%s audio mono\\n\", obs_source_get_name(source));\n+\nif ((source->flags & OBS_SOURCE_FLAG_INVERT_POLARITY) != 0)\ninvert_polarity(source, frames);\n//printf(\"%s audo inverted\\n\", obs_source_get_name(source));\n }\n\nvoid obs_source_output_audio(obs_source_t *source,\nSeems you forgot to remove some commented out debug printf statements.\nIf you want to leave them in there, libobs does have facilities for debug logging, maybe you could use those.\n. I don't mind being corrected. Like I said, I googled it, and it was a quick google. and without reading a lot more, I couldn't be sure what I read was accurate anyway.\nIn terms of setters/getters, I am thinking from a consistancy point of view, but I guess calling obs_source_set_flags with appropriate flags is ok.\n. On Sun, Aug 12, 2018 at 03:46:57AM AEST, Alex Anderson wrote:\n\nAdds midi hotkey support, midi notes and control codes can now be used\nas hotkeys.\nTodo:\nAdd linux / mac support (see RtMidi.h)\n\nYou could use portmidi everywhere and add it as a dep.\n. Oh ok, RtMid is similar to portmidi. I'll see what I can do to hook up Linux bits then.\n. Ok, feel free to pull/merge https://github.com/TheMuso/obs-studio/tree/midi-hotkeys and make any necessary changes.\nI've tested this with a Launchpad mini here, and it works.\n. On Sun, Aug 12, 2018 at 11:45:01AM AEST, Dillon Pentz wrote:\n\nMaking MIDI work with the hotkey system is great, but I could not see this being enough for the use cases that a person with MIDI equipment would actually want: Namely, being able to control sliders and toggle checkboxes for parts of the mixer, filter properties or similar. A slightly more niche use case would be along the line of vision mixers, where knobs can be used for the placement and scaling of sources.\n\nI was thinking about this when I saw the PR as well. I have been thinking about an actual MIDI plugin for OBS, and maybe long term this is likely to be the best way to solve this problem, since such advanced MIDI control is not likely to be needed by most users, and those who need such would download the plugin.\n. On Mon, Aug 13, 2018 at 01:05:57AM AEST, Alex Anderson wrote:\n\n@TheMuso from looking at the plugins CMakeLists, mac / freebsd and linux all have access to the linux-jack library, may be simplest to setup the CMakeLists.txt and RtMidi.h for all three.\n\nJack requires the user to run a separate server process, and is not nearly as common as even PulseAudio is. I think FreeBSD uses OSS for audio in general, including MIDI. I have never heard of ALSA, which stands for Advanced Linux Sound Architecture being used on FreeBSD.\n. Agree. I also find the version in the title bar useful when testing code from git branches, and having one or more copies lying around on my system, starting one up, walking away, and coming back, seeing OBS is open, and being able to approximately tell if I am using a dev version just by the title bar.\n. I am on Fedora 28, kernel 4.18.5, Mesa 18.1.6, libva 2.1.0, with an AMD RX480, and your vainfo-bis tool segfaults for me, both your prebuilt version, and built from source.\nthemuso@balta debug]$ sudo ./vainfo-bis /dev/dri/card0 \nlibva info: VA-API version 1.1.0\nlibva info: va_getDriverName() returns 0\nlibva info: Trying to open /usr/lib64/dri/radeonsi_drv_video.so\nlibva info: Found init function __vaDriverInit_1_1\namdgpu: amdgpu_bo_cpu_map failed. (-13)\nradeonsi: Failed to create a context.\namdgpu: amdgpu_bo_cpu_map failed. (-13)\nradeonsi: Failed to create a context.\nSegmentation fault\nNot experienced with debugging rust, but happy to work with you to get it solved so I can get you the info you want. Of course I may be using the tool incorrectly...\n. Forgot to add, clang and llvm both at 6.0.1.\n. Ok, using /dev/dri/renderD128 gave the same segfault.\nHere is vainfo output.\nthemuso@balta ~]$ vainfo \nlibva info: VA-API version 1.1.0\nlibva info: va_getDriverName() returns 0\nlibva info: Trying to open /usr/lib64/dri/radeonsi_drv_video.so\nlibva info: Found init function __vaDriverInit_1_1\nlibva info: va_openDriver() returns 0\nvainfo: VA-API version: 1.1 (libva 2.1.0)\nvainfo: Driver version: Mesa Gallium driver 18.1.6 for AMD Radeon (TM) RX 480 Graphics (POLARIS10, DRM 3.26.0, 4.18.5-200.fc28.x86_64, LLVM 6.0.1)\nvainfo: Supported profile and entrypoints\n      VAProfileMPEG2Simple            : VAEntrypointVLD\n      VAProfileMPEG2Main              : VAEntrypointVLD\n      VAProfileVC1Simple              : VAEntrypointVLD\n      VAProfileVC1Main                : VAEntrypointVLD\n      VAProfileVC1Advanced            : VAEntrypointVLD\n      VAProfileH264ConstrainedBaseline: VAEntrypointVLD\n      VAProfileH264ConstrainedBaseline: VAEntrypointEncSlice\n      VAProfileH264Main               : VAEntrypointVLD\n      VAProfileH264Main               : VAEntrypointEncSlice\n      VAProfileH264High               : VAEntrypointVLD\n      VAProfileH264High               : VAEntrypointEncSlice\n      VAProfileHEVCMain               : VAEntrypointVLD\n      VAProfileHEVCMain               : VAEntrypointEncSlice\n      VAProfileHEVCMain10             : VAEntrypointVLD\n      VAProfileJPEGBaseline           : VAEntrypointVLD\n      VAProfileNone                   : VAEntrypointVideoProc\n. [themuso@balta ~]$ vainfo --display help\nAvailable displays:\n  wayland\n  x11\n  drm\n. Do you mean a backtrace from your tool? If so, can I use lldb, or do I need to use a rust specific tool? If so, what is it called?\n[themuso@balta ~]$ vainfo --display drm\nlibva info: VA-API version 1.1.0\nlibva info: va_getDriverName() returns 0\nlibva info: Trying to open /usr/lib64/dri/radeonsi_drv_video.so\nlibva info: Found init function __vaDriverInit_1_1\nlibva info: va_openDriver() returns 0\nvainfo: VA-API version: 1.1 (libva 2.1.0)\nvainfo: Driver version: Mesa Gallium driver 18.1.6 for AMD Radeon (TM) RX 480 Graphics (POLARIS10, DRM 3.26.0, 4.18.5-200.fc28.x86_64, LLVM 6.0.1)\nvainfo: Supported profile and entrypoints\n      VAProfileMPEG2Simple            : VAEntrypointVLD\n      VAProfileMPEG2Main              : VAEntrypointVLD\n      VAProfileVC1Simple              : VAEntrypointVLD\n      VAProfileVC1Main                : VAEntrypointVLD\n      VAProfileVC1Advanced            : VAEntrypointVLD\n      VAProfileH264ConstrainedBaseline: VAEntrypointVLD\n      VAProfileH264ConstrainedBaseline: VAEntrypointEncSlice\n      VAProfileH264Main               : VAEntrypointVLD\n      VAProfileH264Main               : VAEntrypointEncSlice\n      VAProfileH264High               : VAEntrypointVLD\n      VAProfileH264High               : VAEntrypointEncSlice\n      VAProfileHEVCMain               : VAEntrypointVLD\n      VAProfileHEVCMain               : VAEntrypointEncSlice\n      VAProfileHEVCMain10             : VAEntrypointVLD\n      VAProfileJPEGBaseline           : VAEntrypointVLD\n      VAProfileNone                   : VAEntrypointVideoProc\n. gdb) run /dev/dri/card0\nStarting program: /home/themuso/tmp/vainfo-bis/target/debug/vainfo-bis /dev/dri/card0\nMissing separate debuginfos, use: dnf debuginfo-install glibc-2.27-32.fc28.x86_64\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib64/libthread_db.so.1\".\nlibva info: VA-API version 1.1.0\nlibva info: va_getDriverName() returns 0\nlibva info: Trying to open /usr/lib64/dri/radeonsi_drv_video.so\nlibva info: Found init function __vaDriverInit_1_1\n[New Thread 0x7fffef6d0700 (LWP 2621)]\n[New Thread 0x7fffeeab4700 (LWP 2622)]\n[New Thread 0x7fffee2b3700 (LWP 2623)]\n[New Thread 0x7fffedab2700 (LWP 2624)]\n[New Thread 0x7fffed2b1700 (LWP 2625)]\n[New Thread 0x7fffecab0700 (LWP 2626)]\n[New Thread 0x7fffd7fff700 (LWP 2627)]\namdgpu: amdgpu_bo_cpu_map failed. (-13)\nradeonsi: Failed to create a context.\namdgpu: amdgpu_bo_cpu_map failed. (-13)\nradeonsi: Failed to create a context.\n[Thread 0x7fffed2b1700 (LWP 2625) exited]\n[Thread 0x7fffd7fff700 (LWP 2627) exited]\n[Thread 0x7fffecab0700 (LWP 2626) exited]\n[Thread 0x7fffedab2700 (LWP 2624) exited]\n[Thread 0x7fffee2b3700 (LWP 2623) exited]\nThread 1 \"vainfo-bis\" received signal SIGSEGV, Segmentation fault.\n0x00007ffff542fd56 in si_destroy_screen (pscreen=0x555555826b30) at si_pipe.c:653\n653     sscreen->aux_context->destroy(sscreen->aux_context);\nMissing separate debuginfos, use: dnf debuginfo-install libdrm-2.4.93-1.fc28.x86_64 llvm-libs-6.0.1-7.fc28.x86_64 sssd-client-1.16.3-2.fc28.x86_64\n(gdb) bt\n0  0x00007ffff542fd56 in si_destroy_screen (pscreen=0x555555826b30) at si_pipe.c:653\n1  0x00007ffff5156382 in vl_drm_screen_destroy (vscreen=0x555555821f20) at vl/vl_winsys_drm.c:84\n2  0x00007ffff514bcab in __vaDriverInit_1_1 (ctx=0x5555557d9de0) at context.c:205\n3  0x00007ffff7bb6743 in va_openDriver (dpy=dpy@entry=0x5555557d9c70, driver_name=driver_name@entry=0x5555557da5a0 \"radeonsi\") at va.c:447\n4  0x00007ffff7bb780e in vaInitialize (dpy=0x5555557d9c70, major_version=0x7fffffffe0f4, minor_version=0x7fffffffe0f8) at va.c:718\n5  0x0000555555560f19 in vainfo_bis::main () at src/main.rs:47\n. Ok, output from the updated vainfo-bis tool:\n[themuso@balta debug]$ sudo ./vainfo-bis /dev/dri/card0 \nlibva info: VA-API version 1.2.0\nlibva info: va_getDriverName() returns 0\nlibva info: Trying to open /usr/lib64/dri/radeonsi_drv_video.so\nlibva info: Found init function __vaDriverInit_1_2\nlibva info: va_openDriver() returns 0\nVA-API version 1.2 initialized\nVAProfileH264ConstrainedBaseline:\n    VAEntrypointEncSlice:\n        VAConfigAttribEncMaxRefFrames: P-Frames: 1, B-Frames: 0\n        VAConfigAttribEncPackedHeaders:0\n        VASurfaceAttribPixelFormat:Ok(\"NV12\")\n        VASurfaceAttribMemoryType:0b100000000000000000000000000001\n        VASurfaceAttribExternalBufferDescriptor:0\n        VASurfaceAttribMaxWidth:4096\n        VASurfaceAttribMaxHeight:2304\nVAProfileH264Main:\n    VAEntrypointEncSlice:\n        VAConfigAttribEncMaxRefFrames: P-Frames: 1, B-Frames: 0\n        VAConfigAttribEncPackedHeaders:0\n        VASurfaceAttribPixelFormat:Ok(\"NV12\")\n        VASurfaceAttribMemoryType:0b100000000000000000000000000001\n        VASurfaceAttribExternalBufferDescriptor:0\n        VASurfaceAttribMaxWidth:4096\n        VASurfaceAttribMaxHeight:2304\nVAProfileH264High:\n    VAEntrypointEncSlice:\n        VAConfigAttribEncMaxRefFrames: P-Frames: 1, B-Frames: 0\n        VAConfigAttribEncPackedHeaders:0\n        VASurfaceAttribPixelFormat:Ok(\"NV12\")\n        VASurfaceAttribMemoryType:0b100000000000000000000000000001\n        VASurfaceAttribExternalBufferDescriptor:0\n        VASurfaceAttribMaxWidth:4096\n        VASurfaceAttribMaxHeight:2304\nVAProfileHEVCMain:\n    VAEntrypointEncSlice:\n        VAConfigAttribEncMaxRefFrames: P-Frames: 1, B-Frames: 0\n        VAConfigAttribEncPackedHeaders:0\n        VASurfaceAttribPixelFormat:Ok(\"NV12\")\n        VASurfaceAttribMemoryType:0b100000000000000000000000000001\n        VASurfaceAttribExternalBufferDescriptor:0\n        VASurfaceAttribMaxWidth:4096\n        VASurfaceAttribMaxHeight:2304\n. On Sat, Dec 08, 2018 at 09:42:10AM AEDT, probonopd wrote:\n\nI don't know how to squish the commits (as the author) that are in an already-existing PR.\n\nInterractively rebase against origin/master, and you will see how you can squash commits together in the comments below the list of commits you want to rebase/edit etc.\nOnce done, use git push -f to force-update the branch. The pull request will automatically update on github.\n. If we really must have a suid binary to fetch the fd, then it should be authenticated via policykit IMO. That way if distros want to lock it down with a password, then they can do so, even if the default is to allow it with no need for a password.\n. > Thanks for the suggestion! I was scratching my head on how to approach this elevated capabilities thing, but had zero knowledge of polkit. I will have to read about it and figure out whether it supports running a binary with just one required capability, instead of full-root.\nI don't think so. In other wordds, the binary still has to be suid root. Have a look at the pkexec command that comes with policykit. Its like sudo in that it lets you run commands as root, but authenticated with policykit.\n. ",
    "zavitax": "\nThanks for submitting! Do you think you could separate it into separate PRs for each fix? Not each commit, necessarily, but PRs are much more likely to be reviewed and accepted when they are each focused on a particular thing rather than several fixes all bundled in a large group.\n\nI'm closing this PR in favor of a group of smaller PRs @dodgepong . Closing this in favor of https://github.com/obsproject/obs-studio/pull/1234/files. ```\nstatic void UpdateDShowInput(void data, obs_data_t settings)\n{\n    DShowInput *input = reinterpret_cast(data);\n    if (input->active)\n        input->QueueAction(Action::Activate);\nUNUSED_PARAMETER(settings);\n\n}\n```\nAction is queued for processing by an async DirectShow thread:\n```\nstatic DWORD CALLBACK DShowThread(LPVOID ptr)\n{\n    DShowInput dshowInput = (DShowInput)ptr;\nos_set_thread_name(\"win-dshow: DShowThread\");\n\nCoInitialize(nullptr);\ndshowInput->DShowLoop();\nCoUninitialize();\nreturn 0;\n\n}\n```. Sure.\nWhen removing the device and then adding the same device back fast enough\n(automation), the source fails to initialize and you get an empty black\nrectangle instead of video input.\nWaiting for Activate to complete resolves this.\nLater on, clicking Deactivate and the Activate in the source properties\ndialog brings the video source back online in it's original dimensions.\n\u1427\nOn Sat, Apr 7, 2018 at 9:20 AM, Jim notifications@github.com wrote:\n\nCould you explain the issue you're seeing with this a bit more in-depth?\nThe Action::Active item is not supposed to block. It's meant to be\nasynchronous and the device is supposed to start sending data when it's\nfinally activated. Update calls are not really meant to block for long, and\ndevices can take upwards of multiple seconds (or in rare cases more) to\nactivate, which would block the graphics thread, causing stutter in the\noutput.\nWhat's the race condition you're referring to? A race condition would\ncause a permanent lock or a crash, and I've never heard of or encountered\nthe win-dshow doing that unless the device itself is stalled.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1228#issuecomment-379422158,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ANYYJ7kYRdIXNhoiB_iCGoAuVzGkzh0Lks5tmBRcgaJpZM4StUTL\n.\n. I tested this hypothesis by adding a similar lock around Action::Shutdown\n(that's the one which is queued upon obs_source_destroy() call) and\ndisabling the lock around Action::Activate.\n\nThis did not have a positive effect. I still get blank video input every\ntime.\nCan you explain how a lock around Action::Activate blocks the video thread?\nHave I missed a video thread lock in obs_source_create()?\n\u1427\nOn Sat, Apr 7, 2018 at 9:29 PM, Jim notifications@github.com wrote:\n\nI think I'm starting to understand how you got this issue. When you try to\ncreate a win-dshow source for a specific device, and another win-dshow\nsource with that device already exists, that second source cannot\ninitialize because the operating system only allows there to be one\ninstance of video devices active at any given time -- so that second\ninstance will fail to initialize. Is that what you were experiencing?\nIndeed, making the source's update call wait for initialization would\nlikely fix the issue, because all \"obs_source_update\" calls are deferred to\nthe graphics thread, and second source would not be able to call it's\nupdate call until the first had finished. However, the reason why this is\nnot an ideal solution is because it would cause a very large stall to the\ngraphics thread -- and a very large stall to the encoding and output,\ncausing a burst of 2-3 seconds worth of video and audio frames. It would\nalso risk increasing the program's network latency by roughly that amount,\ncausing more delay from streamer -> viewer.\nI am almost totally positive this is the issue you were seeing, because\nI'm guessing you were recreating scenes very quickly due to what you want\nto do with overlays. I will be operating under this assumption, and if you\nthink I'm incorrect please let me know.\nSo, assuming that this is the issue you encountered, and you were\nrecreating either scenes or scene items very quickly, to solve this issue\nwe will need to add some functions to allow synchronous destruction of\nsources. If my assumption about your issue is correct, then the fundamental\nproblem is that there is no way to \"wait\" for a source to be fully\ndestroyed. However, there is a way to solve that.\nInitialization of a source can take a long time, where as termination\nshould take much less time. Would that be sufficient? Having the ability to\nallow you to wait for destruction of sources? Or perhaps having some signal\nto indicate full initialization of a source and/or scene? Because stalling\nthe update call like this would cause the entire backend output to stall,\nso ideally if you need to stall it should be somewhere else, like the UI\nthread. I can implement a way to \"wait\" for either initialization and/or\ndestruction if needed, although I would prefer not to have a wait inside\nthe update call.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1228#issuecomment-379469275,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ANYYJzPT3SK-wBiKOy7AMpQW6OaVutW7ks5tmL8kgaJpZM4StUTL\n.\n. I can see the implementation of Action::Deactivate destroys the video capture graph.\n\nPerhaps instead, to save CPU cycles, it would make more sense to add a flag and alter DShowInput::OnEncodedVideoData and DShowInput::OnEncodedAudioData to drop samples when source is inactive?\nAm I missing the goal of \"deactivate when invisible\"?. Given the fact that blocking on Action::Activate resolves the issue, waiting on source destroy seems impractical.\nI think adding a synchronous mode which would enable a lock around Action::Activate would be better.\nIf you have a specific implementation in mind, I could add that to the PR.. Another pro for a \"synchronous mode\" is that it would simplify synchronous programming. Anyone wishing to bypass the calling thread lock could spawn an async thread to do so, or, use the default asynchronous mode.. So... Would adding a \"synchronous_mode\" false/true setting affecting the Action::Activate lock be acceptable?. I guess this does not negate the other options to be implemented down the road. This one is a simple solution which will do the job. I will also test whether disabling the synchronous mode after initial creation will have any impact.\nPerhaps splitting this into \"syncronous_create\" and \"synchronous_update\" (false/true) would be better?. I agree. Back to the matter: are you willing to accept two settings, namely \"synchronous_create\" and \"synchronous_update\", which will cause synchronous creation and update when set to true (false by default)?\nI have some experience with DirectShow programming. I do understand the implications.. I will add this to the PR in the upcoming days.. Action::Activate lock is now engaged only when \"synchronous_create\" or \"synchronous_update\" are explicitly set to true.\nIs this implementation acceptable?\n. When building with MS Visual Studio, jansson currently compiles with /MD by default. This causes linker failures. Setting /MT instead of /MD resolves this.. Severity Code Description Project File Line Suppression State\nError LNK2019 unresolved external symbol __imp_fgetc referenced in function\njson_loadf cef-bootstrap\nC:\\Dev\\obs-studio\\plugins\\obs-browser\\jansson.lib(load.obj) 1\nError LNK2019 unresolved external symbol __imp_fopen referenced in function\njson_load_file cef-bootstrap\nC:\\Dev\\obs-studio\\plugins\\obs-browser\\jansson.lib(load.obj) 1\nError LNK2001 unresolved external symbol __imp_fopen cef-bootstrap\nC:\\Dev\\obs-studio\\plugins\\obs-browser\\jansson.lib(dump.obj) 1\nError LNK2019 unresolved external symbol __imp__time64 referenced in\nfunction seed_from_timestamp_and_pid cef-bootstrap\nC:\\Dev\\obs-studio\\plugins\\obs-browser\\jansson.lib(hashtable_seed.obj) 1\nError LNK2019 unresolved external symbol __imp_strncpy referenced in\nfunction hashtable_set cef-bootstrap\nC:\\Dev\\obs-studio\\plugins\\obs-browser\\jansson.lib(hashtable.obj) 1\nError LNK2001 unresolved external symbol __imp_strncpy cef-bootstrap\nC:\\Dev\\obs-studio\\plugins\\obs-browser\\jansson.lib(error.obj) 1\nError LNK1120 4 unresolved externals cef-bootstrap\nC:\\Dev\\obs-studio\\plugins\\obs-browser\\RelWithDebInfo\\cef-bootstrap.exe 1\nError LNK2019 unresolved external symbol __imp__time64 referenced in\nfunction seed_from_timestamp_and_pid obs-browser\nC:\\Dev\\obs-studio\\plugins\\obs-browser\\jansson.lib(hashtable_seed.obj) 1\nError LNK2019 unresolved external symbol __imp_strncpy referenced in\nfunction hashtable_set obs-browser\nC:\\Dev\\obs-studio\\plugins\\obs-browser\\jansson.lib(hashtable.obj) 1\nError LNK2001 unresolved external symbol __imp_strncpy obs-browser\nC:\\Dev\\obs-studio\\plugins\\obs-browser\\jansson.lib(error.obj) 1\nError LNK1120 2 unresolved externals obs-browser\nC:\\Dev\\obs-studio\\plugins\\obs-browser\\RelWithDebInfo\\obs-browser.dll 1\n\u1427\nOn Wed, Apr 4, 2018 at 4:43 PM, Richard Stanway notifications@github.com\nwrote:\n\nI am able to build with Visual Studio without this change. What kind of\nerrors are you seeing?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1233#issuecomment-378604247,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ANYYJ6eedU2X6r5flrH-YleB7NOEfJ_Qks5tlM4PgaJpZM4StkKk\n.\n. Closing this PR in favor of the revised https://github.com/obsproject/obs-studio/pull/1269. @dodgepong can you provide steps to reproduce?. @jp9000 is it possible to add a pre-scale version of obs_add_raw_video_callback() ?. @dodgepong @jp9000 @palana the scaling issue should be fixed now.\n\nCould you test from your end, please?. I disagree. Breaking args into one-per-line leaves space for comments.. Yes, otherwise \"Screenshots\" would not fit in the list horizontally. This is correct. Looking at string GetDefaultVideoSavePath() above, we have the same indentation issues (I just copied & pasted the implementation as-is to keep them as similar as possible). I'll fix indentation in both.. For the comments part, I do see how they aid readability. this is styling (whitespace) change requested by @jp9000 in the previous set of comments. when you see a broken window, you fix it?. ",
    "Stargateur": "I get a lot more issue that I expect, why a simple add_subdirectory is not working correctly.... I replace every CMAKE_SOURCE_DIR by obs-studio_SOURCE_DIR and CMAKE_BINARY_DIR by obs-studio_BINARY_DIR and some minor fix about a generating file frontend-tools-config.h.. ",
    "twdragon": "Absence of QAction header ruins the compilation using bleeding-edge Qt.. I am sure about the PR #1238 it is on the same issue.\nOn underscore in obspython target: it shows very strange behavior so now I might to check my compilation pipeline strictly.. ",
    "GenesisFR": "Thanks for the review Jim, I'll share it on the forum then!. ",
    "Himura2la": "OMG, I was totally ready to do the same. I'm glad I checked the existing PRs first.\nI'm going to PR into this PR to fix the left margin and try to make the obs_monitoring_type boolean.\nUPD: The screenshot lies, margins are totally OK\n\n. @SuslikV Call it as you like, but monitoring control Must be easily accessible, I'm very new to OBSS and I was shocked how inconvenient the monitoring is now. I was forced to google how to do it and swear each time I add a new source.\nTwo buttons determines four states, three of which are defined in the monitoring_type enum. It's way more intuitive than the drop-down in Advanced  Configuration. Monitoring is an essential feature, why Advanced? \n(Sorry, I really hate the way it's done now). There's no need in the third state, all states are easily covered by two Boolean widgets. Check my PR into this PR https://github.com/cg2121/obs-studio/pull/2\nMonitor-and-mute is easily recognizable by red speaker icon with cross. I built it for Windows to send my friend for testing. This build is made from the https://github.com/cg2121/obs-studio/pull/2/commits/3a4d175bfb8fcb4fcf7d25576bac59054856f554 commit merged with the current master (dcbad4af).\nYou guys may also test it to ensure it's convenient!\nMinSizeRel.zip\n. @SuslikV \nI agree we need a tooltip.\nI don't agree that muting should disable monitoring. It's a comon task to listen to the output before sending it live. And monitoring should not be linked with stream, 'cause it's just two different audio targets, why the heck to link them? I want to monitor -- I start monitoring, I'm ready to stream -- I unmute... I just don't get it, why stream muting should prevent monitoring, and we should overcomplicate the UI to enable monitoring-only as a separate state... It's not a special state, it's just stream==off && monitor==on (users never know how it's made in the code [it's strange, I tried to fix this])\nI believe monitoring feature must be one click away, because it's essential. Hiding it in context menus and/or doubling in advanced settings does not feel good for me.\nAnd we need more opinions, especially from the decision-making guys )). @SuslikV \n\nI think, speaker - OFF should mute the audio and monitoring....\n\nSorry, I stopped understanding this paragraph on ellipsis, and the meaning I got was probably incorrect. (you can explain it in Russian if it's more convenient for you). Anyway, your idea of three states involves the Listen and Listen + Output options, but the output is controled by the Mute button. How are they supposed to live together? Like how it is now? I strongly disagree to control output in two places, it's dangerous and may easily cause errors. I've got to be sure that the sound goes to stream when unmuting and does not when muting. No other hidden options should interfere this.\n\nUsers struggling to select right tracks to record them all at once... \nIf only this button could bring up window to select the device.\n\nOBS Studio is widely used for live streaming where the timing is EXTREMELY important. It's very easy to learn what two bottons does and very difficult to fight tons of windows menus and dialogs when the timing is on fire. I think my next contribution would be putting the Target Bitrate setting to the main window, because I should never need to invoke settings while straming.\nAs for the icon, your option seems way less elegant from the design point of view, I'd better stick with the headphones....\nAs for monitoring device, I was also wondering about this, seems like it's only possible to use the default output now.\nAaaaand, the good news!\nI added the tooltip in https://github.com/cg2121/obs-studio/pull/2/commits/24948593332668804a09a4e04202ef95e25dd86d\n\n. Please see the code from my PR into this PR. I still not sure I understand what's wrong, because two botton logic is the only possible intuitive way here, the context menu item used in this PR is a mess, I removed it. There's no 2+3 logic, it's four separate states. \n1. No stream no monitor\n2. Stream no monitor\n3. No stream monitor\n4. Stream monitor\nAnd these states are perfectly controlled by two switches\nVolume meter does not work only in state 1, because I may need it to fix the levels before going live.\nIf you say that there's some problem with shortcuts, we should research it, because personally I didn't test shortcuts.\nThe crossed out icon is a nice idea, but I don't think it's a showstopper if everything else works. . Not bad, but I still don't understand how the 'make Mute button useless' state may help, sorry. This PR does not go into massive refactoring involving the removal of three OBS_MONITORING_TYPE_* states (though, I have such a changeset in my repo)\nThe existing configured behavior should not change with the update. \nThe headphone button will be pushed in these cases https://github.com/obsproject/obs-studio/pull/1253/files#diff-b0fb175ce6adf3beb2f5402ebdc434c3R210 \nThe Mute button won't be pushed automatically.\nIf someone was so mad to set the OBS_MONITORING_TYPE_MONITOR_ONLY, the behavior will change for him and the sound will go to the stream unless he mute. No big deal, I think. It's OK to make things better in updates\nIf you think it's significant, I think it's possible to auto-mute if the OBS_MONITORING_TYPE_MONITOR_ONLY state came from existing settings. @jp9000 Thank you very much for appreciation, I'm glad to be helpful. If you are interested in a massive refactoring of this OBS Studio part, I've already made some sketchy work in that direction: https://github.com/cg2121/obs-studio/compare/a5a808c...Himura2la:virtual-mute \nWe can create another PR for this. OK, but I think I still need the @jp9000's decision about what version to use. Are there any problems with having source->user_muted == true in OBS_MONITORING_TYPE_MONITOR_ONLY ?. OK, in this case, my code is not useful. I'll try to fix the stream muting checkbox inside the context menu issue without affecting the libobs API. I did not know someone uses it separately from the UI. @jp9000, By the way, the original question about source->user_muted == true still exists. I reworked my code in order to preserve the API, but there are still two ways. I chose my favorite -- the one that changes the original muting state.\nhttps://github.com/cg2121/obs-studio/pull/2/commits/20c283016043bad06bf7081c9f8d76d87e2e9543#diff-dacc5c76347b805359fc1792c222b324R1310 . @jp9000 Because that's how it works with minimal code changes. And the source is indeed muted in the monitor-only state. The only reason of my doubts is that I don't know about possible side effects. I changed only one condition with respect to the monitor-only situation and it somehow works. If it's OK, I'm totally fine with the final version.\nThe peaks are alive in monitor-only, I think it's the way it should be. If I'm monitoring and not streamibg, I may need to fix the levels before making the track live. . It looks great and feels just like common mixer interface of major audio software and hardware. The current Tracks implementation in OBSS is very non-intuitive unlike this clear division on inputs and outputs with the individual routing of every output. The one thing that I'm not sure about is a separate button for recording. I guess in 99.9% cases the streaming state should equal to the recording state... This division may lead to human mistakes.. If these icons are clickable, I would think about linking them by default. And adding a hint that explains how to unlink.... Oh, sorry, I did not know that I can stream only one track at a time. It absolutely makes sense now, thanks for clarification. You guys did a great job, I want this to be merged very much.. ",
    "Alex-Dash": "Pretty useful button for live performances of any kind) Love it). It is cool, but there is still some work to be done.\nFor example, you can't control the volume or speed of particular transition. \nFor some functions you can check @lebaston100 and his MidiToOBS solution.. ",
    "gilles-duboscq": "Thank you @GloriousEggroll for putting this together.\nI gave it a quick try on a RX 580 and it worked fine.\nNote however that the cmake files don't check for the presence of va/va.h.. ",
    "dribbleondo": "I should probably make you aware of the FFMPEG-4 PPA which, on my test bench of an Ryzen 5 1500x and a RX 470, fixed the issue of VA-API either not loading or constantly stammering, no matter the resolution, which is what I experienced using the FFMPEG-3 PPA. I still can't record 1080@60fps footage, but I can record 1080p footage if I downscale to 1760x990, which is a sort-of workaround i'm willing to share.\nI did some 1080@60fps downscaled to 720p@60fps recording on twitch while playing Hitman to test if Twitch would even accept the stream settings. Interestingly Rise Of The Tomb Raider absolutely refused to be recorded with VA-API at any resolution or frame rate.. I think the compiling issue was fixed when the QT compile error was fixed a few days ago.. I posted a while ago an alternative PPA to provide FFMPEG 4 (which fixed a few issues with video encoding so long as it isn't 1080p or you're playing ROTTR). In a similar vein, here's Nate Carlson's FFMPEG 4 PPA for Bionic Distro's. as I had problems getting FFMPEG to work via manually compiling.. One of @GloriousEggroll first patches for this included HEVC support, as well as AVC, but removed the functionality to cleanup the code. I tested it ages ago, and it does indeed work. It probably should be added into this pull request like with AVC.. ",
    "Readek": "Can't replicate. Encoder still overloads, and well, it was overloading anyways with no sources added (1080@60fps only, RX480). ",
    "p4block": "On Vega10 hardware, only HEVC encoder is present (at least for now, but it may be due to hardware reasons)\nOBS built with this patch will refuse to work as (obviously) h264 encoding is not present. \nHowever, the option is still incorrectly shown. Would it be possible to add HEVC encode, or check if the hardware supports h264 first?. Sorry for the badly worded comment, what I meant is that with the current vaapi stack, vega10 only has an HVEC encoder available, (no h264 entrypoint slice). When using obs with this patch, h264 encoding is shown as available for the vaapi encoder when it's impossible for it to work. \n2400G doesn't have the same VCE as desktop vega, it's actually much newer. . ",
    "cRaZy-bisCuiT": "Any news on this? Could we expect a merge into mainline any time soon? It would be amazing to have an official release including vaapi support for Linux soon. :). Is there a major blocker not to merge this patch right now?. I think it would be pretty nice to have a merge into mainline soon. @GloriousEggroll is a very talented programmer (if you check out his projects on his Gitlab) so I'm sure he'll maintain / improve this while he can. :). For an unknown reason the quality of the videos recorded with VAAPI H.264 encoding support with an RX 580 is MUCH worse in comparison to software rendering. Even pretty high bitrates (15.000) look a little blurry. \nI think it's a good thing to get this PR merged soon. Still I think this feature needs more polishing in the future.. ",
    "ericfont": "I couldn't compile because of two compile errors in: UI/frontend-plugins/frontend-tools/scripts.cpp \nobs-studio/UI/frontend-plugins/frontend-tools/scripts.cpp:551:8: error: invalid use of incomplete type \u2018class QAction\u2019\n  action->connect(action, &QAction::triggered, cb);\nobs-studio/UI/frontend-plugins/frontend-tools/scripts.cpp:551:36: error: incomplete type \u2018QAction\u2019 used in nested name specifier\n  action->connect(action, &QAction::triggered, cb);\nhowever, that was easily fixed by adding #include <QAction> to the top of scripts.cpp and then compiled and ran fine.\nI've tested streaming and recording and I have observed that my GPU is being utilized when I select the VAAPI FFMPEG encoder.  Good work...I'm looking forward to this PR being merged.. Thanks.  Twitch w/ vaapi 264 worked for me, but Facebook didn't...obs gave me a strange error message about being unsupported even though it is still 264 format.  I'm guessing that is related to a comment 4 months ago:\n\n\"That patch had a bunch of codec-specific profiles (such as h264-main) which did not match the naming conventions for profiles in OBS' \"Enforce streaming service encoder settings\" feature, which would choose a profile of \"main\" for Facebook for example - which would get rejected by the driver as invalid causing a fairly generic \"unimplemented\" error.\"\n\nIf it indeed such a simple problem, then I hope that can be resolved.... ",
    "nexfwall": "I made a test build for local testing. Added this PR.patch to RPMFusion obs-studio package, without any changes and built for Fedora 28. This PR was applied to 22.0.3 version of OBS without any errors and rpm package built successful from the first time.\nThe results are amazing, but it wasn't easy to find how to use it.\nI don't know why it's still delayed while it's working well. For such results in encoding speed on Linux these PR deserves some love. It kills two birds with one stone. Adding Intel QSV and AMD GPU acceleration at once.. > For an unknown reason the quality of the videos recorded with VAAPI H.264 encoding support with an RX 580 is MUCH worse in comparison to software rendering. Even pretty high bitrates (15.000) look a little blurry.\nBecause these patches are hard coded to use Constrained Baseline Profile, I think.\n\nAnd also, how did you used VAAPI on RX580? There's NO WAY. amdgpu does not have a video driver for VAAPI, at least in open source Mesa. Maybe you had used Intel ones, like I did?\n\nI think it's a good thing to get this PR merged soon. Still I think this feature needs more polishing in the future.\n\nThis feature need support for configuration from GUI. Because at this point, encoding with VAAPI is buried inside extended settings and have a small amount of available options.\nAuto-Configuration Wizard also have to be patched, for VAAPI auto-detection... \ud83e\udd14. > vainfo can show you details.\nUsing radeonsi driver, maybe. Because there is no amdgpu driver in\n/usr/lib/dri\n$ ls /usr/lib/dri | grep video\nnouveau_drv_video.so\nr600_drv_video.so\nradeonsi_drv_video.so\nI can use radeonsi driver to list profiles from vainfo, but it fails to\nplay video, even if profile is listed as supported.\nBut Intel driver still have much more profiles available. I've used Intel\nto record my cast, and still it was recorded using Constrained Baseline\nProfile. That's why I think it's hard coded in plugin of subject.\n. > I don't even know why this pull request exists when my original patch still applies to the current git of OBS.\nBecause @kkartaltepe can fix Style Issues and wanted to help at least a bit. And it seems like what OBS devs are uninterested in implementing VAAPI and maintaining it.\nI don't know if it's possible somehow to make PR to PRs without making a new PR.\n\nI'm not going to bother pushing it any further.\n\nThank you for implementing it, but it's sad to see you surrendered before it was merged. Because it still requires a bit more intention. And I can't help with C/C++ :disappointed:.. ",
    "xmetaldavex": "I'd like to use this feature. Will it be included in an update, or do I need to manually modify the files?. ",
    "panhartstuff": "I want to add a suggestion; What about adding the ability to automatically take screenshots every X seconds?. ",
    "Dusre": "Quote from the latest NVENC_VideoEncoder_API_ProgGuide.pdf:\n\nGame-casting &\ncloud transcoding\n\u27a2 High quality preset\n\u27a2 Rate control mode = CBR\n\u27a2 Medium VBV buffer size (1 second)\n\u27a2 B Frames*\n\u27a2 Look-ahead\n\u27a2 B frame as reference\n\u27a2 Finite GOP length (2 seconds)\n\u27a2 Adaptive quantization (AQ) enabled\n*: Recommended for low motion games and natural video.\n: Recommended on second generation Maxwell GPUs and above. \n\nSo i dont get why these would be recommended by nvidia them self if its bad.. Should be better now.\n\nif (rclookahead > 0)\n    {\n        av_opt_set_int(enc->context->priv_data, \"b_adapt\", false, 0);\n        av_opt_set_int(enc->context->priv_data, \"no-scenecut\", true, 0);\n    }. Why would you use VBR for streaming? You can get the documents from here https://developer.nvidia.com/designworks/video_codec_sdk/downloads/v8.1. Yes thats my post but i now decided to post here since no one was interested there.\nAlso VBR is configured wrong in the code example when you put 6k bitrate it can burst even 10k and then you gonna see dropped frames.\nThis example fixes that problem so it doesnt go over the max bitrate.\nelse if (astrcmpi(rc, \"cbr\") == 0) { / CBR by default /\n        av_opt_set_int(enc->context->priv_data, \"cbr\", true, 0);\n        enc->context->rc_max_rate = bitrate * 1000;\n        enc->context->rc_min_rate = bitrate * 1000;\n        cqp = 0;\n    }\n    else if (astrcmpi(rc, \"vbr\") == 0) {\n        enc->context->rc_max_rate = bitrate * 1000;\n        cqp = 0;\n    }. Yes i fixed those things in here.. The thing is that same argument could be made for why there is options for Level, Profile and Preset. Especially Level i would say that doesnt benefit 99.9% users which Spatial AQ and others would but i guess you have made your mind.. \n",
    "h1z1": "Interesting.  Only version of this guide I could find has no mention of the text above?  Kind of odd they'd recommend CBR.  Not saying it doesn't exist but it's not clear what version is being referenced.. Because it's technically better?  CBR breaks down as you run out of bitrate bandwidth.  Sites like Twitch recommend it because it helps THEM control traffic bursts and I don't think their old flash player handled ABR/VBR too well.    Given that, should settings like this not be part of their specific service config?\nYour link requires a login.. Bitrate flucuations aside, 2M should be enough to hold ~2s of a 1080p 8Mbit stream.  Can you identify why OBS is not able to process your source fast enough?  MPV and ffplay have quite different buffer requirements.  A full cache drain in them would duplicate any network related issues.. Output doesn't really show much form OBS.  Based purely on the difference I'd say the bitrate is either not taking or you have something else set wrong.  Your OBS output looks quite different from mpv.   mpv confirms a larger buffer should not matter though (1-2s from what I could see).  . Your OBS settings would help, I don't disagree increasing the buffer in OBS resolves your issue though rather there it's a bandaid to something else.  Could very well be as simple as the socket buffer is larger in mpv or your're reencoding in OBS without knowing.  CPU bottleneck, etc.   \n1MB is the current buffer/cache that adjusts as data is consumed, I only caught a bit of it as you hovered over mpv.. What is the contents of \ngrep .  /proc/sys/net/ipv4/{tcp,udp}_*mem*\n. See updated grep.  r/wmem.   I blame github and I\"m assuming you have at least 2G free,  appropriate hardware with no CPU issues, nor are you running this all in a vm or something.  Were you recording with OBS at the time?\n. ",
    "DreadWingKnight": "Updated. Forcing shared memory is always SLI capture mode and never to do with anti-cheat.\nAnti-cheat still uses shared texture capturing.. those values should be set to match up with what the streaming service have in their documentation.. ",
    "TerjeGundersen": "@Lange \nThank you, will investigate & redo.. @Lange \nThat's awesome!\nI don't have any plans tomorrow (Sunday GMT), so I will have most of the day to take a look at it. I'm not intimitely familiar with the code yet, but I will certainly do my best to try and have it resolved in a matter of a few days.. @Lange \nIt appears to me that my latest change addresses the bug you described. (No longer disables the transition button when no transition plays!) Please try it for yourself to confirm this is now behaving correctly.. @Lange \nI believe your presumption to be correct, I don't have the program in front of me currently but I assume it disables for the short amount of time a cut transition takes (which maybe isn't even noticeable).\nSolving that is slightly more difficult, and I realize you guys begin streaming in ~2 days.\nAs earlier, I'm not so familiar with OBS, but I will certainly try to allocate some free time to resolve this.. ",
    "JustinLove": "The palette set was there... and apparently didn't do anything, or was being overridden. This was the other way I could find to set colors.. \n. I wanted to keep things simple for my first try at QT. Other options:\n\nCustom Widget(?) to allow laying out a box next to the label while maintaining a single widget pointer for WidgetInfo.\nRewrite how the signal works (?) to separate showing the dialog box from returning the color, so that two controls could subscribe to the color change.\nAdding a checkerboard image to the project for use in the alpha background, instead of the simple two-tone slash that can be done with gradients.\n. \n",
    "350d": "@jp9000 Jim, thank you for your corrections. I will check and update title. Service key can be requested via instagram hidden API from here. I've builded simple interface here (No any login/passwords stored on server) if needed. Key needs to be updated on every stream.. @radiostorm try one more time, I've updated proxy list.. ",
    "radiostorm": "hey Vladimir is there a trick to getting the interface you posted working? . ",
    "vokama": "@RytoEX Hi! Thank you!\nI have applied the requested style change and reworded commit messages as you suggested.. ",
    "lebaston100": "It would be awesome if this popup could be a dockable window like the audio mixer.. ",
    "MulleDK19": "This needs to happen already.. ",
    "myLordJ": "Hey, I would love this feature, Thanks.. ",
    "kumario": "@cg2121 @jp9000 anything yet keeping this from merging after the changes were made?. ",
    "luin1": "Hello, would it be possible to add an additional feature like:\nCheckbox - stop video on last frame or stop video in set time ?. ",
    "NinoM4ster": "Hello. When will this be available on a stable release?\nI really need this feature. Isn't there a plugin that does this?. ",
    "TheOrsa": "Thanks for reviewing, pkviet! I have splitted into 3 commits so fixes are more clear and separate.\nPlease let me know any other suggestion!. Thank you for that!. Thanks! . Would you give me until this Thursday to test on my side? I have other devices which I would like to make sure will work fine.. I was able to test it and its fine on my side. However, there are additional changes that need to be done so the output monitor works independently of the system-wide output setting.\n1. obs.c:2013\n@@ -2010,7 +2010,9 @@ bool obs_set_audio_monitoring_device(const char name, const char id)\n        if (!obs || !name || !id || !name || !id)\n                return false;\n -#if defined(_WIN32) || HAVE_PULSEAUDIO\n+#if defined(_WIN32) || HAVE_PULSEAUDIO || defined(__APPLE__)\nThat change allows to actually set the monitor device to anything other than \"default\"\nAfter that, you will get a crash back in coreaudio-output.c, since a newly exercise code path has another bug:\n@@ -200,12 +200,13 @@ static bool audio_monitor_init(struct audio_monitor *monitor,\nstat = AudioQueueSetProperty(monitor->queue,\n                                kAudioQueueProperty_CurrentDevice,\n-                               cf_uid, sizeof(cf_uid));\n+                               &cf_uid, sizeof(cf_uid));\nCould you make those changes in your branch, test on your side and commit on this same PR?\nThanks!. I was able to quickly test your change again. Actually, I recall some earlier crashes and I attributed all of them to the & one.\nWhen I came back to re-test after your post, I couldn't even get OBS to start. Made your change and its again working fine.\n1) During my previous work session, the regions of memory I was using were probably stabilized/cleaned up by repeated crashes and starting, thus making my work environment working right when doing the testing, so I couldn't catch this other issue. Probably I should have restarted and tested from zero again.\n2) If I understand correctly from the apple dev site, CFStringCreateWithBytesNoCopy uses the same input buffer (const char* uid here) to try to allocate the output (cf_uid):\n\"that might serve as the backing store for the new string.\"\nSince that same memory address is accordingly used as read/write buffer for AudioQueueSetProperty, I think that the crash would occur at some point after the bfree call is made in obs.c: around 2013, because it propagates as obs->audio.monitoring_device_id into uid, which in turn is used by the apple function. So yeah, calling CFStringCreateWithBytes sounds the like the right thing to do!\nAfter testing, I switched back and forth distinct output devices, and switched the system-wide output setting, just to be sure.. ",
    "tea1111980": "@RytoEX  Thank you for your help. I've been there.. ",
    "emdemir": "Hi, I built master with your patch just now and everything seems to be working fine, aside from one small nitpick: When you change the blur radius on the filter, the source seems to get larger, causing it to shift from wherever it was. Is there a way to fix that?. ",
    "ePirat": "Thanks for having a look at my PR.\n\nAs @Heufneutje said above, please remove the changes to the locale files (other than en-US.ini). \n\nDone. Thanks!. That's exactly the fix I had in mind for this too.. This hardcodes Requires: x11 which is not true for all platforms. Is the post-level per-filter or of all filters?. Boolean is a special macOS thing, afaik. It is defined in MacTypes.h and written with an uppercase B.. ",
    "dtcooper": "Preemptive fix to commit message per comment on other PR from @RytoEX.. Updated per @RytoEX's feedback.. Feedback addressed! bfree(cmdline_args) called during obs_shutdown(), freeing the allocation.. Thanks for merging! @jp9000 note the corresponding PR in obs-browser that is part 2 can be found here. Thanks!\nhttps://github.com/obsproject/obs-browser/pull/134/. Note the cp before this patch renamed <path>/Chromium Embedded Framework.framework to <path>/Frameworks rather than putting it in that dir. Woops! :upside_down:. Thanks for taking a look. I'll do that now @RytoEX. All right. Updated @RytoEX. :). Observed that this bug only occurs if build_app.py is called without the --sparkle-framework <path.to/Sparkle.framework>, which means in practice this bug doesn't exist. However, since people can (and in my case do!) build OBS without Sparkle, I believe this should be merged.. Sure, will do.. All right, will update.. Great, where is the best place to free memory allocated with bmalloc(...) at shutdown?\nBy the way, thanks for the feedback and reviewing! This paves the way for obs-browser to work properly with command line argument passthrough on MacOS which is a (dependent) fix I have as well.. Woops. I'm an idiot. obs_shutdown(...) appears to be the spot. Will update! \ud83d\ude43. ",
    "allenh1": "\nIt looks like you've mixed up some commits.\n\nYep, that's certainly a thing that happened. Fixed!\n\nchanging loop var type and adding missing return type should be separate commits here\n\nThat was indeed my intent. @RytoEX would you prefer I separate them?. > For the sake of being in this PR, yes, I would prefer if those were separated here.\n@RytoEX done. Let me know if you need anything else!. ",
    "crossan007": "Same thing.   I started this a few weeks before realizing @fzwoch did the same thing, and then I abandoned it because his is better :-). ",
    "compiler-errors": "@jp9000, I fixed my commit messages and addressed the new Windows networking stack send() issue you mentioned. I've tested on all three OSes, and it seems to work fine.\nI adjusted that cmake file you provided in the gist with some OS-specific peculiarities I had found. I've commented them in the FindMbedtls cmake file pretty well, but I also wanted to mention them here:\n\nWindows: The mbedtls Visual Studio solution generates one *.lib file, instead of the three *.a files found on MacOS and Linux. This means that I had to add a few cases in the cmake file to handle exporting either one or three files.\nLinux and MacOS: I set the _MBED*_LIBRARIES variables to their libmbed*.a equivalent, or else find_library() will prefer the dynamically-linked version which we do not want.\nLinux-only: At the end, I wrap the dependency with -Wl,--whole-archive, or else the linker won't include a statically linked library (libmbed*.a) in the obs-outputs.so file. Commented in the file.\n\nA lot of these issues are due to the fact that (as far as I understand), we want to statically link mbedtls into the obs-outputs plugin.. Note: Also, anyone who has checked out these sources, I git push --force'ed my sources so I could reword the commit stack, so make sure you git fetch --all && git reset --hard origin/master if you want to avoid weird merges due to the diverged master branch.. Edit: Read new update below\nA few things:\nEven though I've enabled WITH_RTMPS, the continuous-integration platforms are essentially skipping over the option since they haven't been configured to have the modified build environment (i.e. one that provides mbedTLS static libs). This should get fixed so CI would catch RTMPS-specific bugs.\nCommit caec9ab seems like a quick fix to a bigger cert problem in MacOS. The general philosophical issue here is that MacOS uses its own keystores to store all of its encryption info. Luckily, when I load the certs included in /etc/ssl/cert.pem, my Facebook RTMPS tests work, but I'm not sure if this will work for all RTMPS-encrypted servers. \nI'll test Windows RTMPS functionality with the VERIFY_REQUIRED option enabled tonight, but I wanted to get this message out sooner than later since I've pushed a commit without much explanation.\nI'd like to hear what both of y'all think, @jp9000 @notr1ch.. Hey y'all,\nSorry for all the updates. I actually went ahead and wrote a dedicated RTMP_TLS_LoadCerts() whose functionality should be to load default root certificates from the OS. It seems to work fine on Linux and Mac, but I'm for some reason not loading any certificates on Windows.\nI've never worked with the windows crypt32.lib library, so maybe one of y'all has more experience than me.\nOn another note, for some reason the RTMP_TLS_ctx pointer is non-NULL upon program start in Windows, even though I explicitly set it to NULL. It's probably something I missed in the program init flow, but that cases RTMP_TLS_Init (and thus RTMP_TLS_LoadCerts) to not be called sometimes on Windows... Any ideas?. Works on Linux and MacOS.. I also confirmed it works without the --whole-archive flag. I was under the impression it was needed when linking a static library into a shared library, but upon further investigation, this isn't necessary given the linker dependency tree (i.e. given that nothing in the main binary needs mbedTLS, just in obs-outputs). This has been removed.\nAbout the CMake logic, @jp9000 suggested that WITH_RTMPS should be on by default. See the comments on plugins/obs-outputs/CMakeLists.txt from 10 days ago. I'll disable WITH_RTMPS by default for those who are missing the dependencies, and make a STATIC_MBEDTLS cmake option so you can build with static or shared libs by choice.\nThe \"fall back and disable crypto if SSL is missing\" logic was already present in OBS when it was using OpenSSL before my changes. I have made it explicitly an error so the builder is aware that they're intending to build with RTMPS and cmake unable to find the correct dependencies.\nThese options (WITH_RTMPS and MBEDTLS_STATIC) will need to be enabled on the official build flow: the intention that I have discussed with @jp9000 is to ship OBS with RTMPS and mbedTLS enabled by default, since otherwise RTMPS-only targets won't be able to connect on officially-packaged versions of the OBS binary. Statically, too, since we don't want to introduce a extra dependency on the client machine either.. Okay! In that case, I'll try to amend it with the default/explicit behavior that you described above. Thanks.. Amended WITH_RTMPS option to take a tri-state (AUTO|ON|OFF) value instead of just boolean ON/OFF, as to emulate the functionality that @kkartaltepe suggested.. (forgot to support the AUTO option everywhere, fixed in 06f288b). Right now there isn't a simple way to build with another SSL library (e.g. GnuTLS). \nIt would be possible to modify the CMake logic to allow that to happen, but I wanted to keep it simple. Before this PR, the CMake logic also only allowed OpenSSL, so I don't think OBS ever let you choose your SSL library easily.. I tested VERIFY_REQUIRED and it doesn't seem to work out-of-the-box. Did you add anything to the client init code to load root certs from the OS? \n(tested on MacOS, maybe Linux or Windows know where to look by default?). So I tested on Linux, and it works there. I tested on MacOS, and it works after I manually load the root certs at /etc/ssl/cert.pem. I'm about to commit an OS-specific case to load this on MacOS, and I'd like to see what @notr1ch thinks.. ",
    "HarryPearce": "Sorry about the mess. I realized that this could potentially lead to undesired behavior like crashes, if there is an issue with any of the acceleration framework, be it dxva2 or vaapi, on the client machine. While HW acceleration is certainly desirable, it needs to be configurable in the settings. And I know very little about UI development in c++ as of now, as well as how configuration values are propagated in obs itself. If you know how to do those things, feel free to work this in.. ",
    "Dmitry-Me": "@RytoEX Done.. Yes, it should, but what happens if it isn't overwritten? You have unrepeatable behavior then.. @jp9000 Okay, I changed the code as you suggested. I also added initializers for the members that were added recently.. This check is redundant. You can delete a null pointer.. ",
    "gburgwardt": "Apologies, not sure how I can go about doing that with github's UI.\nFrom what I've read it looks like whoever merges it can squash while accepting the merge.. Agreed, I can close this commit if you prefer. \n\n\nAn art/games streaming site (to keep it short) - we compete with Picarto.tv, people keep stumbling over there not being an option in the obs server dropdown for us so figured I'd put in a pull request, and I've bungled it haha.\n\n\nWeb UI problems. I'll make a new commit, sorry about that.\n\n\nDone, fwiw.. \n\n",
    "PicoCentauri": "@TheMuso Sorry to correct you but inverting the phase makes no sense. You can shift the phase by some specific value and you get the same result as for inverting the polarity. If you want you can take a look at this link. But if its more clear we can call it \"Polarity/Phase invert\".\nI'm not sure if I get you point correctly but currently its just a flag like OBS_SOURCE_FLAG_FORCE_MONO which can be set.\nNo you are right I forgot to delete the print statements, should be fixed.. This is exacty what I want to do to. For some events I have to subtract music from a \u201cphysical\u201d mix which I record with an extra microphone using a reference signal. Currently I doing this using a DAW but I thought this is to much for this simple task.. No there is no extra CPU usage if its turned off.\nI tried to fix the conflicts and get the branch up to date. I don't know if this is correct since it involves all the latter commits.... @pkviet awesome! I rebased the changes and now it should work.. I'm totally fine with this. Still the advanced audio properties are really crowded and probably hard to find for new users. But this a topic for the future I think. . ",
    "cabirdme": "Default before this patch was 7 b frames.\nhttps://github.com/obsproject/obs-studio/blob/master/plugins/obs-qsv11/obs-qsv11.c#L298\nIn some of our testing we found that 7 b frames was causing issues in the streamed output bitstream ( I believe it was provoked with low bitrates like 1080p60@3Mbps ).\n7 b frames seemed like a strange setting to use for streaming case.  We\u2019d prefer to have default set to 1 b frame.  As far as we could tell most other video encoders also set to 1 or 0 bframes as default.. My desire for making this change is for the video quality improvement that can be expected with high profile by allowing 8x8 transforms.\nI share the same concern wrt streaming services support, so your experience is welcome feedback to me.  As far as I have been able to tell thus far Twitch, Youtube Live, Huya all support high profile video streaming.  XSplit may be using high profile by default.  I think some OBS encoder Plugins ( x264, enc-amf ) may already enable high profile by default.. ",
    "gluneau": "@jp9000, is it good to go?\nHow do we get the \"common\": true, entry?  Any particular criteria measured?\nThanks.. ",
    "pantherrui": "\nCould you please specify how you caused a heap corruption to occur in this case? The ref counter should never be 0 at that point in the code.\n\nthe issue occurs in follwing case\uff1a\nthere are two threads\uff0c camera capture thread\n1\uff09camera caputre thread calls \u2018obs_source_frame cache_video(struct obs_source source,\n        const struct obs_source_frame *frame)\u2018  in \u2018obs_source_output_video\u2019\n2\uff09camera caputre thread paused due to CPU switching\n3\uff09the new frame has been pushed into 'source->async_cache' by 'camera caputre thread'\n4)   NOW user may change camera capture setting, then cause 'free_async_cache(source);' in  another thread. the former frame is freed by \u2018free_async_cache(source);'\u2019\n5\uff09the former \u2018camera caputre thread\u2019 MAY go continue\uff08if it is not terminated\uff09\uff0cmake access violation of such as \u2018&output->refs\u2019. > @pantherrui you're going to want to read through the contributing guidelines for code styling:\n\nhttps://github.com/obsproject/obs-studio/blob/master/CONTRIBUTING.rst\nOnly thing I'm spotting is that you'll want to change your commit message and title, including the module name libobs in the title. Maybe something like\nlibobs: Fix heap corruption in obs_source_output_video\nOtherwise, looks fine.\n\nOK\uff0c thks. ",
    "Ndugutse": "Dcec was\nOn Thu, Aug 23, 2018 at 6:55 PM Jim notifications@github.com wrote:\n\nMerged #1443 https://github.com/obsproject/obs-studio/pull/1443 into\nmaster.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1443#event-1806530675, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AgbFvTj5vEzN0wtMmRLOe_dVWY-urhZBks5uTzL9gaJpZM4WIuQ5\n.\n. \n",
    "DungFu": "@DDRBoxman I could not find a higher resolution source for that icon and figured that if the icon was to be changed, that it should probably happen in a separate PR.\nIf anyone has the original source for that icon, that would be great and I can add it to this PR.. @DDRBoxman I managed to find the source for the output icon and updated the commit with the new file. The screenshots are also updated to reflect the new image.. Will fix. Will fix. Will fix. The image width/height is too large in the retina case and only the upper left corner of the image will be rendered in the space. There's an earlier part of the file that is already hard coded to 16x16.. The image width/height is too large in the retina case and only the upper left corner of the image will be rendered in the space. There's an earlier part of the file that is already hard coded to 16x16.. After searching around for higher resolution versions of the icons (specifically the visible/invisible/gear icons) I found the pixel perfect originals and Freepik is the creator. Under the license they have chosen, credit must be given unless they are paid for. So I figured it would be legally safer to add credit to the readme for these images.. seems like a strange hard coded size for the icon (and maybe a little large?). ",
    "CatxFish": "I am not sure what is the purpose of this commit, but you shouldn't just check buttons of stream and record , there are still some custom output plugins do not expect resolution change when they are active. . ",
    "bushwookieee": "i\u2019ve unsubscribed several times. yet i\u2019m still recieving emails.\nOn Wed, Mar 13, 2019 at 11:49 PM Colin Edwards notifications@github.com\nwrote:\n\nClosed #1464 https://github.com/obsproject/obs-studio/pull/1464.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1464#event-2202215501, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AhWnhz04ZJi1Jni99UaNyVCtjqUfGuk_ks5vWcbjgaJpZM4WWn4i\n.\n. May I ask why I'm getting messages from you guys?\n\nOn Wed, Nov 7, 2018 at 2:40 PM Brittney Clark notifications@github.com\nwrote:\n\nHi! The major changes are for overall compatibility/support to align with\nthe current Intel Media SDK and Intel Media SDK samples. There is an\nongoing effort to improve quality of this plug-in and this update could\nhelp with enabling features to do so.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1539#issuecomment-436751632,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AhWnh2NzOLh1WhdR5Df5fEsHOkP8FE2Iks5uszdHgaJpZM4YS-yb\n.\n. Well I just unsubscribes and yet I\u2019m still getting emailed. Is there a\nbetter solution to this?\n\nOn Fri, Feb 1, 2019 at 12:45 PM Colin Edwards notifications@github.com\nwrote:\n\nMerged #1632 https://github.com/obsproject/obs-studio/pull/1632 into\nmaster.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1632#event-2112817232, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AhWnh6FvmLKDWx1U5T0I6Hw1OtWB6GmTks5vJH08gaJpZM4adWlL\n.\n. Stop emailing me\n\nOn Fri, Feb 1, 2019 at 9:28 AM SuslikV notifications@github.com wrote:\n\nYou should avoid branching at paint.\nIf you need to set limits of the parameters, do it at properties set\nfunctions.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1634#issuecomment-459739921,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AhWnh0Z6nJXIQKOBazyf2NLL01fX4sP7ks5vJE8ZgaJpZM4aeVal\n.\n. yes I\u2019m a real person. and it\u2019s she*\n\nOn Fri, Feb 1, 2019 at 11:41 AM SuslikV notifications@github.com wrote:\n\n@Fenrirthviti https://github.com/Fenrirthviti , do you think he is real\nperson?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1634#issuecomment-459785229,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AhWnh0r_PqflEr4CMXFfAXWyggd7JcI6ks5vJG4ggaJpZM4aeVal\n.\n. \n",
    "swills": "@computerquip Yeah, I was wondering if someone was going to suggest it go in cmake/Modules/ObsHelpers.cmake, but I'm not sure which bits belong where.. Sorry, missed that comment, but I do need to be able to set the location of the .pc file since on FreeBSD we keep them in libdata instead of lib.. ",
    "ivan2340": "Only thing that might need improvement is the streamON/OFF.png the icon is horizontally squashed/vertically stretched. Also not sure if its ok to use a modified version of the cast-icon\nAlso the naming seems to be inconsistent, one thing is called sendsON/OFF, the other streamON/OFF\nI'd suggest sticking with send/stream or sends/streams\nThere's also a little inconsistency with the UI States, if you compare it to the sourcevisibility or to the source locking, the active state is 100% white and the other state is a different icon with (i suppose) 50% transparency. This is important for theme compatibility since if someone had a green theme the active state of the buttons would not be visible.\nSo i would suggest making the active state white, and the inactive state maybe the same icon but with a diagonal line through it and transparency (not sure how the other features have implemented this but i would try and keep it the same everywhere).\nI hope this gets merged ASAP, since this is really an essential feature. If i can be of any help with the icons etc. i'd be glad to help.. How can i contact you on discord?\n. is it worth doing this for 600kb? this could increase decoding time for those images, leading to worse performance. Might be unlikely, but why risk the possibility of the performance being impacted (at all) for 600kb? Just my 2 cents. if something is compressed more it will inevitably take longer to decompress, that's my understanding. A zip file takes longer to read than a Raw file, raw is only slower once you exhaust the bandwidth of your storage and/or anything else in the pipeline, with images this small this is a non issue tho, we might be talking about microseconds here, all I'm saying is that IMO having any additional latency at all just to save 600k is not worth it.\nJust wondering what the benefits of this would be, and if there are any would they be worth risking any weird side-effects etc. I don't wanna say \"never touch a running system\" (... unless it improves something) but I hope you get my point. Sorry I missed that part, most of my argumentation is still valid though. If there is any difference in decoding time it's miniscule anyways, but 600kb aren't much either, that's what I'm saying :D\nAlso I guess/hope someday we'll have vector graphics for high dpi anyways but yeah. I see, now I understand :D also read a bit through the Truepng docs, then it's probably fine, especially if both the optimizers and the library that's reading the images in obs are PNG-spec compliant, sorry for the misunderstanding. . Linux has inotify, I also think that doing it event based would be the way to go. I would argue that 1 second polling is still something \"not so great\" and maybe fs events for each platform would be a great idea, just my two cents.\nfor OPs use case it would probably be better to use something better for the task like the different apis/scripting, or what I personally prefer nodeCG. ",
    "tompeeters368": "Lots of style comments! Apologies, I've never worked with C that much so I mostly just tried to copy the style of the files. Should've just read the proper guide.\nI addressed all points you mentioned except for the fallthrough issue. I could not get it to compile with a [[fallthrough]] indicator, and I can't find any in the surrounding code so I presume that it is a feature from a later update than what OBS runs on. I added a comment instead to signify that it is intentional. Alternatively I can simply remove the default case and have it return the default value in case no switch condition applies, if that would be preferred?\nAs for the commit message, is the current message a problem? I believe that the current, equal length message:\nThis option slows down or speeds up the rate at which\nthe game capture plugin checks for a valid window.\nreads nicer than the enforced wrap at 72 characters:\nThis option slows down or speeds up the rate at which the game capture\nplugin checks for a valid window.\nOr did I misinterpret the style guidelines? To me it was purely an aesthetical choice, since it is shorter than 72 characters regardless.. ",
    "lemmi": "I thought I report that just tested hardware encoding on a Vega64, Mesa 18.2.0, Amdgpu 18.1.0 and this patch: https://gitlab.com/GloriousEggroll/arch-obs-studio-latest-ffmpeg-vaapi\nResults are ok. The quality sucks as expected since the firmware doesn't allow for b-frames, but at least it works. Was able to record 1440p (my monitor resolution) between 30-60fps, but I attribute the framedrops rather to the rest of my machine than the encoder. 720p60 produced just a couple of hick-ups.\nI don't know how much these patches differ, maybe I try this PR directly if someone wants me to.. ",
    "Tynach": "It's worth noting that b-frames are frames that use data from future frames to construct themselves. You don't really want to use b-frames when streaming, since that requires you to send frames to clients out-of-order. Having no b-frames is fine when it comes to streaming. In my experience, disabling them gets rid of a lot of stuttering and other unwanted artifacts, even with libx264.\nSecondly, even with the most recent ffmpeg (I build from the latest code from git, and tested this shortly before typing this comment), at least on Ubuntu 16.04 (technically I'm on KDE Neon, and am using Mesa 18.3 from the Oibaf repositories), it is necessary to set LIBVA_DRIVER_NAME=radeonsi in the environment (I nowadays just export it in my .profile script) in order for ffmpeg to properly use vaapi. I'm using the AMDGPU kernel driver, which uses the radeonsi Mesa driver. Don't think \"but I use AMDGPU instead of radeonsi!\" because no, you don't. You use AMDGPU for the kernel interface, and radeonsi for libva, Mesa, Gallium, etc. Everything that receives instructions from user applications.\nAs for the 'support' for Main and High profiles... Well, it's dubious. If I run vainfo, it claims that it's supported. Here's some tests I did:\nIf I try to use High profile, it generates a file that doesn't work.\nIf I disable bframes with a high profile, nothing changes.\nHowever, if I use a Main profile, it works!\nDisabling bframes also works... But the output file doesn't change. Literally, same checksums and everything.\nI found an example on the ffmpeg wiki that sets profile to 578, which.. Is weird and I can't find a simple list anywhere for numeric profile codes... But it turns out to basically be constrained baseline. That results in it telling me that bframes are disabled anyway (if I don't set -bf 0, but if I do, the message goes away at least), and... A different file checksum!\n... And a file that has a 100% identical byte count. Same filesize, down to the byte count, as the other files generated with Main profiles. I'm betting that the checksum difference is caused by a slightly different bit of metadata being set.\n\nOverall, I don't think more than one profile is actually supported, except that it might set a few different bits of metadata. And of course, b-frames - at least for streaming - are fine to leave out and not worry about.\nI should point out, however, that I'm on an R9 290X, which has only experimental AMDGPU support. There could be something screwy with my setup, but based on the fact that GPU encoding does in fact work at all, I think the only thing that'd actually be messed up is fixed by me setting that environment variable.. ",
    "zurohki": "I don't have a Twitch account, but I did some testing outputting to a file.\nffmpeg -hwaccel vaapi -hwaccel_device /dev/dri/renderD128 -hwaccel_output_format vaapi   -i Johnny_1280x720_60.webm -vf 'fps=30,scale_vaapi=w=640:h=-2:format=nv12' -c:v h264_vaapi -b:v 1M -maxrate 1M -profile:v 100 -bf 0 -y test.mkv\n\nFailed with:\nImpossible to convert between the formats supported by the filter 'Parsed_fps_0' and the filter 'auto_scaler_0'\nError reinitializing filters!\nFailed to inject frame into filter network: Function not implemented\nError while processing the decoded data for stream #0:0\nConversion failed!\n\nIt doesn't seem to like something about the input file ( yuv420p(tv)? ), because another file I had worked:\nffmpeg -hwaccel vaapi -hwaccel_device /dev/dri/renderD128 -hwaccel_output_format vaapi   -i ../2018-08-11\\ 01-12-57.mkv -vf 'fps=30,scale_vaapi=w=640:h=-2:format=nv12' -c:v h264_vaapi -b:v 1M -maxrate 1M -profile:v 100 -bf 0 -y test.mkv\n\nHowever, this produced a file that didn't play. Mplayer spammed [h264 @ 0x7f2cc4c9dc80]separate color planes are not supported. VLC just didn't display video. ffmpeg -i test.mkv spammed:\n[h264 @ 0x1ffe580] separate color planes are not supported\n[h264 @ 0x1ffe580] sps_id 0 out of range\n[h264 @ 0x1ffe580] non-existing PPS 0 referenced\n[h264 @ 0x1ffe580] separate color planes are not supported\n    Last message repeated 2 times\n[h264 @ 0x1ffe580] sps_id 0 out of range\n[h264 @ 0x1ffe580] non-existing PPS 0 referenced\n[h264 @ 0x1ffe580] decode_slice_header error\n[h264 @ 0x1ffe580] no frame!\n[h264 @ 0x1ffe580] non-existing PPS 0 referenced\n\nEnding with:\n[matroska,webm @ 0x1ffa3e0] decoding for stream 0 failed\n[matroska,webm @ 0x1ffa3e0] Could not find codec parameters for stream 0 (Video: h264, none(progressive), 640x360): unspecified pixel format\n\nProfile 77 worked, and produced a file that played.\nffmpeg -hwaccel vaapi -hwaccel_device /dev/dri/renderD128 -hwaccel_output_format vaapi   -i ../2018-08-11\\ 01-12-57.mkv -vf 'fps=30,scale_vaapi=w=640:h=-2:format=nv12' -c:v h264_vaapi -b:v 1M -maxrate 1M -profile:v 77 -bf 0 -y test.mkv\n\nInput #0, matroska,webm, from '../2018-08-11 01-12-57.mkv':\n  Metadata:\n    ENCODER         : Lavf57.83.100\n  Duration: 00:00:49.72, start: 0.000000, bitrate: 2659 kb/s\n    Stream #0:0: Video: h264 (High), yuv420p(progressive), 1920x1080, 60 fps, 60 tbr, 1k tbn, 120 tbc (default)\n    Metadata:\n      DURATION        : 00:00:49.717000000\n    Stream #0:1: Audio: aac (LC), 44100 Hz, stereo, fltp (default)\n    Metadata:\n      title           : Track1\n      DURATION        : 00:00:49.621000000\nStream mapping:\n  Stream #0:0 -> #0:0 (h264 (native) -> h264 (h264_vaapi))\n  Stream #0:1 -> #0:1 (aac (native) -> vorbis (libvorbis))\nPress [q] to stop, [?] for help\n[h264_vaapi @ 0x63f5e0] Warning: some packed headers are not supported (want 0xd, got 0).\nOutput #0, matroska, to 'test.mkv':\n  Metadata:\n    encoder         : Lavf57.83.100\n    Stream #0:0: Video: h264 (h264_vaapi) (Main) (H264 / 0x34363248), vaapi_vld, 640x360, q=0-31, 1000 kb/s, 30 fps, 1k tbn, 30 tbc (default)\n    Metadata:\n      DURATION        : 00:00:49.717000000\n      encoder         : Lavc57.107.100 h264_vaapi\n    Stream #0:1: Audio: vorbis (libvorbis) (oV[0][0] / 0x566F), 44100 Hz, stereo, fltp (default)\n    Metadata:\n      title           : Track1\n      DURATION        : 00:00:49.621000000\n      encoder         : Lavc57.107.100 libvorbis\nframe= 1491 fps=215 q=-0.0 Lsize=    6372kB time=00:00:49.66 bitrate=1051.0kbits/s speed=7.15x    \nvideo:5633kB audio:693kB subtitle:0kB other streams:0kB global headers:4kB muxing overhead: 0.729983%\n\nI get the same segfault from vainfo-bis as TheMuso.. I used 9. H.264 1080p/60.000 (MKV) from the Kodi samples page.\nffmpeg -hwaccel vaapi -hwaccel_device /dev/dri/renderD128 \\ \n -hwaccel_output_format vaapi -i FPS_test_1080p60_L4.2.mkv \\ \n -vf 'fps=30,scale_vaapi=w=640:h=-2:format=nv12' -c:v h264_vaapi -b:v 1M  \\\n -maxrate 1M -profile:v 100 -bf 0 -an test-profile100.mkv\n\nThis seems to work fine, apart from one warning:\n[h264_vaapi @ 0xc496c0] Warning: some packed headers are not supported (want 0xd, got 0).\n\nThe resulting file doesn't play: https://drive.google.com/open?id=1P-m3FxZZQ4XMSQX6Z21GQyqMa5Q00ZQg (72MB). ",
    "SingularityAzure": "My original aim with this change was to fix the\nerror: glCopyImageSubData failed, glGetError returned 0x502\nerror: device_copy_texture (GL) failed\nerrors for windows with 32-bit pixmaps, and it has done so according to my testing. This will potentially fix all relevant errors created by compositing managers (as they tend use 32-bit windows quite often). It may fix some errors not directly related to my goal as well, but these changes still did not make Chrome work under XComposite, so that's an ongoing issue.. I believe so, yes. I don't have KDE Plasma 5 or Cinnamon to test for sure, but my best guess is that those errors were created because the terminals in those DEs use 32-bit pixmaps.. Done! :smile: . Yeah, I suppose I should have been more clear. When I say 32-bit I'm referring to 32-bits-per-pixel.. I've updated it to say \"Has alpha\" instead.. @dionney Thanks for the info! I believe I know why the color swapping is happening, and I'll get back to you on the Chrome capture issue.. @dionney Would you mind posting info about your Distribution, DE, and log from  a session where you tried Wine applications?\nBehavior between DEs and compositing managers seems to vary significantly, and while I'd like to make this work everywhere, there's little to no accurate information online, so the best I've got is my own tests. And as far as I've tested on Arch, a lot of the old use-cases that seemed to have worked before for you were broken by other updates a long time ago for me. All of these things, however, work perfectly on Pop!_OS as far as I've tested them.. @dionney Thank you, that's a lot of good info. One last thing that could help would be the output of \"glxinfo\", which would tell me more specific information about what might be causing the incompatibility. I'll start investigating this soon.. @GloriousEggroll and @RytoEX  Thanks for the heads up! I believe I understand why that might be crashing.\nI have a fairly comprehensive rewrite of the relevant section that should hopefully make it be more consistent overall. It just got pushed to the backburner for a little while, but I'll be pushing it out today if all my tests go well.. @GloriousEggroll Does the problem persist when you check \"Use alpha-less texture format\" in the window capture settings?. @GloriousEggroll Could you provide a log file for a session in which you tried both with and without the \"alpha-less\" setting? Also the output of the \"xwininfo\" command for the WINE window and the output of \"glxinfo\" might help in diagnosing what's going on.. @RytoEX I was unaware of the conversation going on on Mantis, so thanks for bringing that to my attention. I'll look into that patch when I have some extra time. It looks like it may help fix the issues I'm still having on Arch with Chromium and Nautilus.\nAlso style conformance changes have been committed and squashed.. > Here's the patch.\n\n0001-Force-FBO-use-instead-of-glCopyImageSubData-due-to-i.patch.gz\n\nThis patch breaks all xcomposite capture on my machine running Gnome on Arch.. Previously, the capture worked by creating an \"ideal\" GLXFBConfig for capture, but that didn't work for every window. Now, under the model of attempting to inherit the GLXFBConfig from the window, by having that condition meant that inheriting from double-buffered windows was impossible.. My original purpose in making these changes was to enable capture of windows with Alpha, such that the alpha is used in compositing the capture (transparent windows remain transparent when captured). This is helpful for a number of reasons, such as some GTK+ windows that include the shadow in their pixmap, and (as was my main use-case) to capture a transparent overlay window I was developing for streaming purposes.\nAlso, when a window doesn't have alpha, it needs to be drawn opaque or else it's drawn with an alpha of 0, making it invisible.\nThis behavior should be toggle-able for transparent windows by disabling transparency, but that appears to not work in all situations.. ",
    "dionney": "This PR do not work for me. \nIt reverse colours randomly when moving the window being captured.\nIt gives error \"glCopyImageSubData failed, glGetError returned 0x502\" while trying to capture chrome, which works without this PR.\nFedora 28 with AMD RX 580 on amdgpu driver with mesa-18.2.0.. The colours swapping has indeed be corrected.\nBut now, if a window do not have 32bits (alpha), I MUST choose to swap blue and red colours, which I did not have to do before this PR (and pr1485).\nAlso, I can't capture applications running under Wine, such as steam or Skyrim, which I could before this PR (and pr1485).. uname -a\nLinux dionney 4.18.8-200.fc28.x86_64 #1 SMP Sun Sep 16 18:15:41 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\nDesktop is XFCE 4.\nMy video card is a AMD RX-580 8G\nXDPYINFO (just in case...)\nxdpyinfo.txt\nLog of a session (don't mind the 22.0.4 version, it's just so my package manager don't complain since I've compiled it from git)\nAnd a log of me selecting steam (running under wine) for capture (new scene collection, with juste a xcomposite capture).\n2018-09-25 17-52-58.txt\nMaybe I should enter all this in mantis...\nOh and xwininfo of steam.exe\nsteam.txt\nAnd xwininfo of xfce4-panel, which capture correctly.\nxfce4-panel.txt\n. glxinfo, as requested.\nglxinfo.txt\n. ",
    "torokati44": "With this PR, I cannot get any capture from Trackmania 2 Lagoon (Demo). No matter what combination of the XComposite workarounds I use, only black image.\nFedora 28, Mesa 18.0.5, Radeon RX 580 Series (POLARIS10 / DRM 3.26.0 / 4.18.14-200.fc28.x86_64, LLVM 6.0.1)\nThe game is running with Steam Proton (or Steam Play or whatever they call it, it's the integrated Wine + DXVK stuff).\nAfter reverting \nc286f0c202366a6a83631f8b0532c799b04638ca: linux-capture: Fix repeated swapping of swapRedBlue and improve robustness further\nand\n5fe6feb59a83b8523f7aedf8f1c9f6b43403c3e0: linux-capture: Improve XComposite capture robustness\ncapture and FFMPEG VA-API h264 encoding works flawlessly, no workarounds needed.. Oh, if instead of reverting the above two commits, I just apply #1513 (rebased to master), it works again.\nAs mentioned in the commits of that PR, it also resolves the GL errors.\nAnd I too get a black image when checking \"Use alpha-less texture format\" (but IIRC this happened in older versions too, so meh). If that is unchecked, it works fine.\nOne slight issue is this glitch:\n\nI guess this is where the actual window contents have alpha less than one? Maybe?\nOther than this, everything else is captured correctly in the game.. ",
    "NerdsLTD": "I have a maxed out 2018 \uf8ff Mac mini with a dedicated eGPU & DeckLink duo 2 capture / playback card ready to test any stable build. . ",
    "TheKnarf": "You can see how the Readme would look after accepting the PR over at my fork. I can understand if you don't want to merge the PR as it's only stylistic changes, but I do think it makes the readme easier to read. Using markdown it wont format sections of the readme to look like quotes as in the current version.. Since the project wants to keep the readme in RST then I'll close the PR.. ",
    "Lucretia": "This fixes issues with recording failinging due to:\nerror: glCopyImageSubData failed, glGetError returned 0x502\nerror: device_copy_texture (GL) failed\nVSCode recording now works for me.\nI still get the errors if I enable \"Use alpha-less texture format (mesa)\"\n```\n$ glxinfo -B\nname of display: :0\ndisplay: :0  screen: 0\ndirect rendering: Yes\nExtended renderer info (GLX_MESA_query_renderer):\n    Vendor: X.Org (0x1002)\n    Device: AMD Radeon (TM) R9 380 Series (TONGA, DRM 3.27.0, 4.19.0-rc4, LLVM 7.0.0) (0x6939)\n    Version: 18.3.0\n    Accelerated: yes\n    Video memory: 4096MB\n    Unified memory: no\n    Preferred profile: core (0x1)\n    Max core profile version: 4.5\n    Max compat profile version: 4.5\n    Max GLES1 profile version: 1.1\n    Max GLES[23] profile version: 3.2\nMemory info (GL_ATI_meminfo):\n    VBO free memory - total: 3581 MB, largest block: 3581 MB\n    VBO free aux. memory - total: 4079 MB, largest block: 4079 MB\n    Texture free memory - total: 3581 MB, largest block: 3581 MB\n    Texture free aux. memory - total: 4079 MB, largest block: 4079 MB\n    Renderbuffer free memory - total: 3581 MB, largest block: 3581 MB\n    Renderbuffer free aux. memory - total: 4079 MB, largest block: 4079 MB\nMemory info (GL_NVX_gpu_memory_info):\n    Dedicated video memory: 4096 MB\n    Total available memory: 8192 MB\n    Currently available dedicated video memory: 3581 MB\nOpenGL vendor string: X.Org\nOpenGL renderer string: AMD Radeon (TM) R9 380 Series (TONGA, DRM 3.27.0, 4.19.0-rc4, LLVM 7.0.0)\nOpenGL core profile version string: 4.5 (Core Profile) Mesa 18.3.0-devel (git-a9475d9337)\nOpenGL core profile shading language version string: 4.50\nOpenGL core profile context flags: (none)\nOpenGL core profile profile mask: core profile\nOpenGL version string: 4.5 (Compatibility Profile) Mesa 18.3.0-devel (git-a9475d9337)\nOpenGL shading language version string: 4.50\nOpenGL context flags: (none)\nOpenGL profile mask: compatibility profile\nOpenGL ES profile version string: OpenGL ES 3.2 Mesa 18.3.0-devel (git-a9475d9337)\nOpenGL ES profile shading language version string: OpenGL ES GLSL ES 3.20\n```\n. I'm back to xcapture not working on Linux with VSCode and --disable-gpu doesn't work.. @jp9000 Current git tree is what I've been using. I'm now using a custom build in which I comment out the glCopyImageSubData calls and fall back to FBO's. This works fine.. I also, compiled a lot of tagged versions and none of them worked. Early version = red screen, later versions = black screen. I think it's a mesa bug somewhere.. Here's the patch.\n0001-Force-FBO-use-instead-of-glCopyImageSubData-due-to-i.patch.gz\n. Just to add, there should be a switch for for this to drop back to FBO's if the latest stuff isn't working, which it isn't.. ",
    "Rua": "With this PR, I am able to capture a terminal window, which I wasn't able to before. But I'm still not able to capture the Steam window or Skyrim (running through Proton).. With the stable release 22.0.3 I'm not able to capture desktop, terminal, Steam or Skyrim. The same as with the previous stable release.. ",
    "willianrampazzo": "Just to mention, with the current master as of today, I'm able to record Terminator screen but still unable to record Chrome browser. . > Just to mention, with the current master as of today, I'm able to record Terminator screen but still unable to record Chrome browser.\nI tested with Firefox and it worked fine, so my problem is just with Chrome now. I tried to disable hardware acceleration without success.. ",
    "cogwheel": "I'm going to roll this into a new PR with some other improvements for services. Superseded by upcoming auth/service rewrite. Will revisit once we've updated on our side.. > \n\nLooks like you have a couple white-space issues.\n\nI think that's just because of a couple places where indentation level increased. If you add ?w=1 on the github files changed URL it should look a bit cleaner. I've been using Visual Studio so it should be correctly formatted.. Incorporated style fixes from @Andersama . Either it is a change to the license and everyone has to agree, or it is not a change in license and it doesn't actually affect anything. Just because you have a document in the tree with the word \"we\" in it doesn't magically make anyone who downloads the repository bound by the agreement. That's what the license is for.. > There's nothing to clarify. It's distributed under GPLv2.\nThis was discussed in Discord the other night. The source code says that it's licensed under the GPLv2 \"or any later version\" which is distinct from simply being licensed strictly under the GPLv2. Additionally, it seems that when linked to Qt, it is implicitly upgraded to v3.. By my understanding, this won't be needed at all with the upcoming service auth changes, so this should be going away.. This clause seems to exclude any contributors whose first contributions are after the date the commitment is included in the repository.. ",
    "brittneysclark": "Few more details about this PR:\nEnabling B-pyramid will improve quality, especially for high motion content. B-pyramid allows a B-frame to choose closer frames for reference which may have more correlation. \nX264 also has this feature enabled in veryfast+ modes.. Hi! The major changes are for overall compatibility/support to align with the current Intel Media SDK and Intel Media SDK samples. There is an ongoing effort to improve quality of this plug-in and this update could help with enabling features to do so.. Sure, @pkviet. \nThis PR will improve performance and reduce CPU load. This is achieved by offloading scaling operations to HW (fixed function block) on iGPU and removes memory copies to GPU. . Updating the MSDK dispatcher should solve the issue. However, I found few other clean up items that need to be addressed with this PR, so closing for now. Please wait for updates soon.. ",
    "twrist": "Author of the latest issue here, I can confirm this patch solves the issue.. ",
    "Phineas": "Please merge ASAP, this is a huge issue for us.. ",
    "sergenguetta": "Hello i have closed these pull requests and i did a new one on PR #1529 Hope this matches the guidelines.\nThank you in advance for your reactivity.. ",
    "Peppernrino": "I'm not sure I understand how this could increase decoding time... Are you thinking like matrices or whatever? The images don't have like, extra things added to them... all of the compression is live in the images. They're not packed like a .zip or anything.... if that's how you're thinking of it. :)\nThere ARE techniques you can use to preview images at lower quality, say, on a website while the full image is loading... but that's not what is happening here.\nI'll admit the file size difference isn't awe-inspiring... lol, just trying to help out where I can.. I would like an explanation as to how the performance could/would be impacted. We can't operate on fear. :D. I already explained how this wasn't like a .zip file. I don't think you're actually reading what I'm typing... :\\\nAnd yeah, don't want to waste a commit. lol. There isn't anything to \"unpack\", per se. That's what I'm trying to tell you. lol. If it were a pixmap or something, you'd have a point, as the math inside the file would be changed (I would still change it to more efficient math anyway)... but with this, it's just a change in bit depth, frame size, creation date... stuff like that. \"Lossless\" compression. The resulting files could be nothing but easier on a system. :). All good, friend. :). ",
    "ty2570": "some virtual camera(with img-pro function)only have 32-bit,so only use obs32.exe .\ntaojingyi2006@126.com\nFrom: Kurt Kartaltepe\nDate: 2018-11-16 12:05\nTo: obsproject/obs-studio\nCC: taojingyi; Author\nSubject: Re: [obsproject/obs-studio] win32 x86 add /LARGEADDRESSAWARE (#1546)\nI'm interested in why you still require the 32-bit build. If you wouldn't mind sharing.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. ",
    "trebmuh": "\nLogiciel Libre Open Source d'enregistrement et de streaming\n\nThis is definitely wrong because it duplicates one meaning and it therefore redundant. A \"libre\" software is always \"open source\" (at least when we refer to the GPL license which we do in our case).\n\nDiffusion translates Broadcast rather than streaming.\n\nWhile I can agree that \"broadcast\" (EN) can be translated into \"diffusion\" (FR), I do not agree that \"streaming\" (EN) doesn't translate to \"diffusion\" (FR). It actually translates to \"diffusion en continu\".\n. Done, without the \"video\" which isn't there in the EN version, since it's always better to stick the best we can to the original version.. > Hello again, I still disagree with removing Open Source. It's in the original; whether it is redundant with 'free' or not is irrelevant. You have to keep it since it was intended.\nOnce again, this is completely wrong.\nLet's put it in French here:\n\"free and open source\" se traduit lit\u00e9ralement par \"gratuit et opensource\". Une autre traduction utilis\u00e9e est le mot \"libre\". Il est d'ailleurs parfois \u00e9galement utilis\u00e9 en anglais (Stallman par exemple \u00e0 maintes fois expliqu\u00e9 que c'\u00e9tait d'ailleurs plus juste et correct, que de s'ennuyer avec le double-sens anglophone \"free as a beer/speech\"). Pour un francophone, dans le cas qui nous int\u00e9resse ici (le logiciel est sous GPL2), la traduction la plus correcte et respectueuse du sens originel de \"free and open source\" est \"libre\". C'est \u00e9galement la traduction la plus utilis\u00e9e dans la plupart des logiciels libres.\n. Nice. ty @jp9000 and all :+1: . The EN -> FR translation of \"free\" isn't always the same amongst different projects, hence I choose to stay literal/conservative with this translation.\nIf the original meaning here is \"free as in beer and in freedom\", then \"sous licence libre\" is fine and the \"gratuit\" can be removed since it would duplicates.\nGiven the project states that the licence is GPL 2+, I'm changing it this way.. ",
    "Cheeseness": "Looks like the current Travis CI failure isn't related to my changes and happens on the current master as well. Happy to rebase when that's resolved if that's a problem at all.. Thanks!. Apologies for not seeing the commit message rename request. I didn't spot the notification email >_<. ",
    "probonopd": "At least from the homepage and from the name of this GitHub project it appears that \"OBS\" is the organization/project and \"OBS Studio\" is the software.. This will not change the install directory. The only effect will be that the correct name will be shown in the menu.. Then maybe in Windows the name needs to be changed as well for consistency.. The About screen clearly shows that the application is called OBS Studio:\n\n. Consider this dialog:\n\"Are you using OBS?\"\n\"Which one?\"\n\"The OBS streaming software\"\n\"Yes\"\nvs.\n\"Are you using OBS Studio?\"\n\"Yes\"\nConsistent use of names makes things easier.\n(Maybe I am a bit pedantic here but my day job includes ensuring consistent use of product names.). The resulting AppImage does not run properly yet, e.g., on Clear Linux OS:\nuser@host ~/Downloads $ ./OBS-git.ea50599-x86_64.AppImage \nAttempted path: share/obs/obs-studio/locale/en-US.ini\nAttempted path: /usr/share/obs/obs-studio/locale/en-US.ini\nerror: Failed to load locale\ninfo: == Profiler Results =============================\ninfo: run_program_init: 3172.4\u00a0ms\ninfo:  \u2517OBSApp::AppInit: 2019.77\u00a0ms\ninfo:    \u2517OBSApp::InitLocale: 2016.82\u00a0ms\ninfo: =================================================\ninfo: == Profiler Time Between Calls ==================\ninfo: =================================================\ninfo: Number of memory leaks: 1\nIt seems like it is trying to load its resources from share/obs/obs-studio/locale/en-US.ini relative to the user's current working directory, rather than from a location relative to the main executable itself. This is something that needs most likely to be fixed in the application's source code, and I am asking for help from one of the OBS Studio developers to do it.\nYou could use QString QCoreApplication::applicationFilePath() instead and construct a relative path.. Which is why AppImage is a great match, as (unlike other solutions) it does not run in a sandbox or otherwise restrict the application. Inside an AppImage you can do what you want, as an AppImage is just a self-mounting filesystem image (think .app in a .dmg on the Mac).. Well, it means that unlike deb or rpm, which need root rights to get the application installed, the AppImage format does not need this (since there is no installation step). It does not mean that you can't run an AppImage with root rights, if you so desire/need.. > can you also explain the qt repository you are adding?\nThe Qt that comes with Ubuntu 14.04 has a bug in that it tries to load the platform plugins from the wrong location (relative to the user's current working directory, rather than from a location relative to the Qt being used). This has been resolved in more recent versions of Qt. The beineri ppa is a very reliable source for recent Qt versions compiled on older Ubuntu releases, and has been around for years.\n\nAnd the rest of the workarounds in the new script?\n\nLet me go through it:\n```\nMake sure the Qt from the beineri repository (see above) is used\nexport LD_LIBRARY_PATH=/opt/qt59/lib/x86_64-linux-gnu:/opt/qt59/lib:$LD_LIBRARY_PATH\nexport PKG_CONFIG_PATH=/opt/qt59/lib/pkgconfig:$PKG_CONFIG_PATH\nexport PATH=/opt/qt59/bin:$PATH\nBuild the application\ncd ./build\nmake -j$(nproc)\nInstall the application into a directory called \"appdir\" which is going to become an AppDir\nhttp://rox.sourceforge.net/desktop/AppDirs.html\nmake DESTDIR=appdir -j$(nproc) install ; find appdir/\nMake sure the contents of the AppDir do not depend on anything outside of the AppDir\nthat cannot be resolved\nfind appdir -executable -type f -exec ldd {} \\; | grep \" => /usr\" | cut -d \" \" -f 2-3 | sort | uniq\nGet linuxdeployqt, a tool which will finalize the AppDir and convert it to AppImage\nwget -c -nv \"https://github.com/probonopd/linuxdeployqt/releases/download/continuous/linuxdeployqt-continuous-x86_64.AppImage\"\nSince linuxdeployqt is an AppImage itself, we need to make it executable\nchmod a+x linuxdeployqt-continuous-x86_64.AppImage\nMake sure nothing is interfering with the correct operation of linuxdeployqt\nunset QTDIR; unset QT_PLUGIN_PATH ; unset LD_LIBRARY_PATH\nexport VERSION=$(git rev-parse --short HEAD) # linuxdeployqt uses this for naming the file\nUse linuxdeployqt to bundle (\"deploy\") dependencies into the AppDir\n./linuxdeployqt-continuous-x86_64.AppImage appdir/usr/share/applications/*.desktop -bundle-non-qt-libs\nWe need to patch the RPATH of one library using patchelf, and since patchelf is contained inside\nlinuxdeployqt-continuous-x86_64.AppImage, we extract that to be able to use it from there\n./linuxdeployqt-continuous-x86_64.AppImage --appimage-extract ; export PATH=./squashfs-root/usr/bin:$PATH # Get patchelf\nPatch the RPATH of one library using patchelf (for the other libraries, linuxdeployqt does this automatically)\npatchelf --set-rpath '$ORIGIN' appdir/usr/lib/libobs-opengl.so.0 # This is loaded by obs with dlopen(), so linuxdeployqt can't know about it\nFinally, convert the AppDir into a self-mounting AppImage\n./linuxdeployqt-continuous-x86_64.AppImage appdir/usr/share/applications/*.desktop -appimage\nUpload the AppImage\nTODO: The next line should be replaced by a native upload mechanism defined in .travis.yml,\ne.g., using https://github.com/probonopd/uploadtool\ncurl --upload-file OBS*.AppImage https://transfer.sh/OBS-git.$(git rev-parse --short HEAD)-x86_64.AppImage\n```. On Discord, https://github.com/obsproject/obs-studio/wiki/Install-Instructions#linux-portable-mode-all-distros was pointed out. To be investigated.\nBut note that it says\n\nChange to bin/64bit or bin/32bit and then simply run: ./obs\n\nWhich implies that it, too, will load stuff relative from the current working directory (cwd).. If I extract the AppImage, cd to usr/ inside the AppDir, then I do not get this error.\nBut another one:\n```\nuser@host ~/Downloads $ ./OBS-git.ea50599-x86_64.AppImage --appimage-extract\nuser@host ~/Downloads $ cd squashfs-root/usr/\nuser@host ~/Downloads/squashfs-root/usr $ ../AppRun \nAttempted path: share/obs/obs-studio/locale/en-US.ini\nAttempted path: share/obs/obs-studio/locale.ini\nAttempted path: share/obs/obs-studio/themes/Dark.qss\ninfo: CPU Name: Intel(R) Core(TM) i3-5010U CPU @ 2.10GHz\ninfo: CPU Speed: 1971.744MHz\ninfo: Physical Cores: 2, Logical Cores: 4\ninfo: Physical Memory: 3816MB Total, 666MB Free\ninfo: Kernel Version: Linux 4.19.5-665.native\ninfo: Distribution: \"Clear Linux OS\" 26600\ninfo: Window System: X11.0, Vendor: The X.Org Foundation, Version: 1.20.3\ninfo: Portable mode: false\nQMetaObject::connectSlotsByName: No matching signal for on_advAudioProps_clicked()\nQMetaObject::connectSlotsByName: No matching signal for on_advAudioProps_destroyed()\nQMetaObject::connectSlotsByName: No matching signal for on_program_customContextMenuRequested(QPoint)\ninfo: OBS ea50599 (linux)\ninfo: ---------------------------------\ninfo: ---------------------------------\ninfo: audio settings reset:\n    samples per sec: 44100\n    speakers:        2\ninfo: ---------------------------------\ninfo: Initializing OpenGL...\ninfo: Loading up OpenGL on adapter Intel Open Source Technology Center Mesa DRI Intel(R) HD Graphics 5500 (Broadwell GT2) \ninfo: OpenGL loaded successfully, version 4.5 (Core Profile) Mesa 19.0.0-devel, shading language 4.50\ninfo: ---------------------------------\ninfo: video settings reset:\n    base resolution:   1920x1080\n    output resolution: 1280x720\n    downscale filter:  Bicubic\n    fps:               30/1\n    format:            NV12\n    YUV mode:          601/Partial\ninfo: Audio monitoring device:\n    name: Default\n    id: default\ninfo: ---------------------------------\ninfo: ---------------------------------\ninfo:   Loaded Modules:\ninfo: ---------------------------------\ninfo: ==== Startup complete ===============================================\nerror: Encoder ID 'obs_x264' not found\nerror: Failed to get properties for encoder '' (ffmpeg_aac)\nerror: Could not enumerate any AAC encoder bitrates\nerror: Failed to create aac streaming encoder (simple output)\ninfo: Freeing OBS context data\n(...)\n``. As was pointed out on Discord,info:   Loaded Modules:` should not be empty. It is not loading its modules.\nAnd indeed it is looking in \"strange\" places:\nuser@host ~/Downloads/squashfs-root/usr $ strace -f ../AppRun 2>&1 | grep obs-plugins\n[pid 14895] openat(AT_FDCWD, \"../../obs-plugins/64bit\", O_RDONLY|O_NONBLOCK|O_CLOEXEC|O_DIRECTORY <unfinished ...>\n[pid 14895] openat(AT_FDCWD, \"/usr//lib/obs-plugins\", O_RDONLY|O_NONBLOCK|O_CLOEXEC|O_DIRECTORY <unfinished ...>\nAs was pointed out on Discord, the relative path is meant for -DUNIX_STRUCTURE=0. So, I guess that using -DUNIX_STRUCTURE=0 and doing a chdir() before executing the obs binary will get it working.\nBut is it the cleanest way to go?\n. As a workaround,\n```\nuser@host ~/Downloads/squashfs-root/usr $  sed -i -e 's|../../obs-plugins/64bit|././././lib/obs-plugins|g' ./lib/libobs.so.0\nuser@host ~/Downloads/squashfs-root/usr $  ../AppRun \nAttempted path: share/obs/obs-studio/locale/en-US.ini\nAttempted path: share/obs/obs-studio/locale.ini\nAttempted path: share/obs/obs-studio/themes/Dark.qss\ninfo: CPU Name: Intel(R) Core(TM) i3-5010U CPU @ 2.10GHz\ninfo: CPU Speed: 1972.376MHz\ninfo: Physical Cores: 2, Logical Cores: 4\ninfo: Physical Memory: 3816MB Total, 274MB Free\ninfo: Kernel Version: Linux 4.19.5-665.native\ninfo: Distribution: \"Clear Linux OS\" 26600\ninfo: Window System: X11.0, Vendor: The X.Org Foundation, Version: 1.20.3\ninfo: Portable mode: false\nQMetaObject::connectSlotsByName: No matching signal for on_advAudioProps_clicked()\nQMetaObject::connectSlotsByName: No matching signal for on_advAudioProps_destroyed()\nQMetaObject::connectSlotsByName: No matching signal for on_program_customContextMenuRequested(QPoint)\ninfo: OBS ea50599 (linux)\ninfo: ---------------------------------\ninfo: ---------------------------------\ninfo: audio settings reset:\n    samples per sec: 44100\n    speakers:        2\ninfo: ---------------------------------\ninfo: Initializing OpenGL...\ninfo: Loading up OpenGL on adapter Intel Open Source Technology Center Mesa DRI Intel(R) HD Graphics 5500 (Broadwell GT2) \ninfo: OpenGL loaded successfully, version 4.5 (Core Profile) Mesa 19.0.0-devel, shading language 4.50\ninfo: ---------------------------------\ninfo: video settings reset:\n    base resolution:   1920x1080\n    output resolution: 1280x720\n    downscale filter:  Bicubic\n    fps:               30/1\n    format:            NV12\n    YUV mode:          601/Partial\ninfo: Audio monitoring device:\n    name: Default\n    id: default\ninfo: ---------------------------------\nerror: os_dlopen(././././lib/obs-plugins/frontend-tools.so->././././lib/obs-plugins/frontend-tools.so): libobs-scripting.so: cannot open shared object file: No such file or directory\nwarning: Module '././././lib/obs-plugins/frontend-tools.so' not loaded\nlibDeckLinkAPI.so: cannot open shared object file: No such file or directory\ninfo: No blackmagic support\nerror: os_dlopen(././././lib/obs-plugins/linux-jack.so->././././lib/obs-plugins/linux-jack.so): libjack.so.0: cannot open shared object file: No such file or directory\nwarning: Module '././././lib/obs-plugins/linux-jack.so' not loaded\nerror: os_dlopen(././././lib/obs-plugins/obs-ffmpeg.so->././././lib/obs-plugins/obs-ffmpeg.so): libavdevice.so.57: cannot open shared object file: No such file or directory\nwarning: Module '././././lib/obs-plugins/obs-ffmpeg.so' not loaded\nerror: os_dlopen(././././lib/obs-plugins/obs-libfdk.so->././././lib/obs-plugins/obs-libfdk.so): libfdk-aac.so.0: cannot open shared object file: No such file or directory\nwarning: Module '././././lib/obs-plugins/obs-libfdk.so' not loaded\nerror: os_dlopen(libvlc.so.5->libvlc.so.5): libvlc.so.5: cannot open shared object file: No such file or directory\ninfo: Couldn't find VLC installation, VLC video source disabled\ninfo: ---------------------------------\ninfo:   Loaded Modules:\ninfo:     vlc-video.so\ninfo:     text-freetype2.so\ninfo:     rtmp-services.so\ninfo:     obs-x264.so\ninfo:     obs-transitions.so\ninfo:     obs-outputs.so\ninfo:     obs-filters.so\ninfo:     linux-v4l2.so\ninfo:     linux-pulseaudio.so\ninfo:     linux-decklink.so\ninfo:     linux-capture.so\ninfo:     linux-alsa.so\ninfo:     image-source.so\ninfo: ---------------------------------\ninfo: ==== Startup complete ===============================================\nerror: Failed to get properties for encoder '' (ffmpeg_aac)\nerror: Could not enumerate any AAC encoder bitrates\nerror: Failed to create aac streaming encoder (simple output)\ninfo: Freeing OBS context data\n(...)\n```\nSeems like we are getting somewhere. Also seems like OBS Studio is making extensive use of dlopen() on the libraries in the obs-plugins directory which means that linuxdeployqt could not work its magic and we still have unbundled dependencies that need to be bundled.\nAt least we are getting somewhere.. ...and working :+1: \nThis is the OBS Studio AppImage running on Clear Linux OS:\n\nThanks to the friendly developers on Discord who helped me make this happen.. This is the same AppImage on Ubuntu 18.04:\n\n. This is the same AppImage on elementary OS 5.0 Juno:\n. This is the same AppImage on openSUSE Tumbleweed:\n. This is the same AppImage on Xubuntu 16.04:\n. This is the same AppImage on Manjaro:\n. This is the same AppImage on Netrunner 17.03:\n. This is the same AppImage on Pop! OS 17.10:\n. This is the same AppImage on Deepin Linux 15.5:\n. This is the same AppImage on Maui Linux 2.1:\n. This is the same AppImage on Linux Mint 18.1:\n. When trying a screen capture:\ninfo: ==== Recording Start ===============================================\ninfo: [ffmpeg muxer: 'simple_file_output'] Writing file '/home/me/2018-12-03 02-09-50.flv'...\nshare/obs/obs-plugins/obs-ffmpeg/ffmpeg-mux: error while loading shared libraries: libavcodec.so.57: cannot open shared object file: No such file or directory\nwarning: [ffmpeg muxer: 'simple_file_output'] os_process_pipe_write for packet data failed\nArgh, there seem architecture-dependent binaries to be hiding in usr/share/obs/obs-plugins/... not sure whether this is even FHS compliant.\nme@host ~ $ ldd /tmp/.mount_OBS-gi7o01ja/usr/share/obs/obs-plugins/obs-ffmpeg/ffmpeg-mux\n    linux-vdso.so.1 =>  (0x00007fff4afd7000)\n    libavcodec.so.57 => not found\n    libavutil.so.55 => not found\n    libavformat.so.57 => not found\n    libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007fc5a8a8c000)\n    /lib64/ld-linux-x86-64.so.2 (0x000055d172d27000)\nIn any case, such errors seem to be pretty distribution-independent.. Sure enough, recording works now. :+1: \nIf you want to give it a try:\nhttps://transfer.sh/Hh3PL/OBS-git.fc36b1c-x86_64.AppImage (link available for 14 days). > There is very limited number of cases where need to use OBS on linux.\nWhat do you mean by this? There are many Linux users who would appreciate being able to download the most recent version of OBS Studio right from its download page (myself included).\n\nBecause of the wrapper any new build cannot be considered as test-build.\n\nWhat do you mean by this? I don't understand. Please elaborate.. When running with LD_DEBUG=libs, getting some\nerror: symbol lookup error: undefined symbol: obs_module_unload (fatal)\nerror: symbol lookup error: undefined symbol: obs_module_post_load (fatal)\nerror: symbol lookup error: undefined symbol: obs_module_name (fatal)\nerror: symbol lookup error: undefined symbol: obs_module_author (fatal)\nWhat might be causing this?. Thanks @juvester. The latest commits should fix this (by deploying all plugin dependencies and by bundling Python).\n\nhttps://transfer.sh/MZkFZ/OBS-git.ea68a98-x86_64.AppImage\n. @SuslikV this pretty closely reflects OS market shares, which means that OBS has pretty much the same popularity among Linux users as it has among Windows users.\n\nSource: https://media.ccc.de/v/ASG2018-174-2018_desktop_linux_platform_issues/\n\nyour application itself has 133 opened issues as I see.\n\nI don't quite understand what you mean by this.. If you would like to see only one entry for the Pull Request in your project's history, then please enable this GitHub functionality on your repo. It allows you to squash (combine) the commits when merging. While at it, you can edit the headline and description of the PR.\n```\nCI: Create AppImage\nCreate and upload an AppImage from the Travis CI build products\n```\nI don't know how to squash the commits (as the author) that are in an already-existing PR.. @jp9000 I think the latest build failure is unrelated to my changes, please restart the build.. How exactly can I test to make sure that scripting really works as intended? I do see the script menu entries. (Sorry, I have never used OBS scripting so far.). OBS Studio is trying to load obslua.so from absolute paths determined at compile-time in /usr, and from ./ which is the current working directory. Neither will work in the case of AppImage. Instead, OBS Studio should be loading it from a path relative to the main binary, i.e. (the direcotry of the main binary)/../lib/obs-scripting/.\n```\nme@host:~$ find squashfs-root/ | grep obsl\nsquashfs-root/usr/lib/obs-scripting/obslua.so\nme@host:~$ strace -f squashfs-root/AppRun 2>&1 | grep obslua.so\n[pid  7456] openat(AT_FDCWD, \"./obslua.so\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid  7456] openat(AT_FDCWD, \"/usr/local/lib/lua/5.1/obslua.so\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid  7456] openat(AT_FDCWD, \"/usr/lib/x86_64-linux-gnu/lua/5.1/obslua.so\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid  7456] openat(AT_FDCWD, \"/usr/lib/lua/5.1/obslua.so\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid  7456] openat(AT_FDCWD, \"/usr/lib/obs-scripting/obslua.so\", O_RDONLY) = -1 ENOENT (No such file or directory)\n    no file './obslua.so'\n    no file '/usr/local/lib/lua/5.1/obslua.so'\n    no file '/usr/lib/x86_64-linux-gnu/lua/5.1/obslua.so'\n    no file '/usr/lib/lua/5.1/obslua.so'\n    no file '/usr/lib/obs-scripting/obslua.so'\n```\nImplementing a workaround for now.. Please try https://transfer.sh/14SdEw/OBS-git.6dba6e7-x86_64.AppImage now. It should contain a workaround for the scripting.. I was able to run obs-linuxbrowser with no issues at all when using the OBS Studio AppImage, like this:\nmkdir -p \"$HOME/.config/obs-studio/plugins\"\ntar xf linuxbrowser0.5.2-obs21.1.2-64bit.tgz obs-linuxbrowser/\nmv ./obs-linuxbrowser \"$HOME/.config/obs-studio/plugins/\"\n./OBS-git.6dba6e7-x86_64.AppImage\nOnce obs-browser runs on Linux, I think we will be able to do the same, or bundle it in the AppImage.\n. Endless OS\n\n. Seems to be a known issue: https://github.com/intel/media-driver/issues/235#issue-341600240. My OBS Studio build is compiled against i965_drv_video.so that ships with Ubuntu 14.04, because this is currently the oldest still-supported distribution release. Unfortunately Intel seems to have broken backward binary compatibility since, which means that applications compiled against the old version of the Intel library will no longer run on newer systems that ship a newer version of the Intel library. \nI don't know what is the best cause of action here. Can we disable it altogether? Libraries that break backward compatibility are not something I am keen on supporting.\n. Funny fact is, nothing in the AppImage seems to be hardcoding __vaDriverInit_0_32. I can't find the string in the whole AppImage. Also, nothing hardcodes i965_drv_video. So something must be loading this stuff, but I don't know what...\nWhat happens if, on the system that shows the problem, you run\n./OBS-git.6dba6e7-x86_64.AppImage --appimage-extract\nfind squashfs-root/ -name '*libva*' -type f -delete\n./squashfs-root/AppRun\nOn my Xubuntu 18.04 system, I get\n./bin/obs: error while loading shared libraries: libva.so.1: cannot open shared object file: No such file or directory\nbut maybe a system with a complete Intel driver setup does have this locally. Maybe we need to not load this if a local version is present?. Let's decide how to best proceed once we have collected some feedback on https://github.com/obsproject/obs-studio/pull/1565#issuecomment-450043972 from Intel users. I'd assume that people who know how to use hardware encoders might have the library installed locally, so that we should give preference to the local one if it exists. We sill need to ship something (a shim?) in the AppImage for those systems on which the Intel libraries are not installed, otherwise the application will not even launch.. > The drivers dynamically load the required symbols in some hellish mess. \nLooks like it ;-)\nSo ideally we would not bundle anything that has to do with the Intel drivers and let the system figure that part out. However, if I delete libva.so.1 from the AppImage then I get the error shown above. Hence my idea to make some shim library that satisfies the linker if the library is not on the system. So that OBS will at least launch.. > Can you exclude it like libgl?\nThen the application will not even launch on systems that don't have this library, e.g., on systems that don't even have any Intel GPU.. While I may not be the typical user of OBS Studio, I am using it e.g., to record screencasts using a large collection of different Linux Live ISOs, some of which may or may not have libva preinstalled. It would be nice if OBS Studio at least continued to run everywhere, regardless of whether it is fully accelerated or not. Of course it would be best if we could make it use the acceleration on systems on which it is available while still continuing to work on systems where it is not.. Note to self, need to \n\nsee what of your many distros include it by default even on a live CD.\n\nEveryone's experience appreciated.. ",
    "Illutorium": "\nSo why aren't be included \"VAAPI\" hardware Encode?\nThen if OBS can be rend hardware on to Windows {Intel Quick Video Sync|Marketing in Technically} so Why on VAAPI can't be encode for OBS?\nInfo: Lubuntu 18.10 (amd64)|ACEPC T5 (HDMI Stick)|OBS from Newest git of AppImage. ",
    "mat1jaczyyy": "Thank you for your responses.\nI understand the reasoning behind keeping the rate at 1s (avoid unnecessarily opening file). But since you've had so many PRs about it, maybe there are people who would actually benefit a lot from this functionality? Even if increasing the rate isn't a proper solution, I believe something else could be considered.\nFrom what I've researched about, OBS Classic used Windows event-based notifications to update in real time. During the transition to OBS Studio, I assume this was dropped for better cross-platform integration. It would be extremely nice for this to return, hopefully for all supported OSes (macOS has fsevents, not sure about Linux equivalents).\nMy specific use case is a game which allows exporting statistics about its state in real time, for example current playing speed, a value which constantly changes as I play.. Not everyone has Visual Studio and knows C++ well enough to make such a modification.\nIf it is a Windows only plugin, why were the event notifications dropped when transitioning?. ",
    "bongalive": "@jp9000 thank u. ",
    "garoto": "How you make sure the service is really dead and not other issue is to blame like a route error between your ISP and the destination network?. ",
    "DragoonAethis": "On a local network, streaming from a phone over WiFi (1080p, 6Mbit, H.264) to a PC over Gbe Ethernet, stream is sent over UDP and packets seem to arrive in a wildly different order. Both the encoder on the phone and decoder on PC can keep up just fine CPU-wise, ffmpeg logs while running under OBS:\n[rtsp @ 0x7fe3f4000c40] jitter buffer full\n[rtsp @ 0x7fe3f4000c40] RTP: missed 37 packets\n[h264 @ 0x7fe3f410c600] corrupted macroblock 99 42 (total_coeff=-1)\n[h264 @ 0x7fe3f410c600] error while decoding MB 99 42\n[h264 @ 0x7fe3f410c600] concealing 3070 DC, 3070 AC, 3070 MV errors in I frame\nThis is repeated every few seconds, received video is mostly broken. Here's how it looks under OBS and mpv (slightly loud audio warning) - at the beginning, the RTSP stream shown is received with OBS in the upper right corner. Later the same stream is played from mpv. The camera is pointed at the captured desktop.\nSetting the bitrate to 8-10Mbps completely breaks OBS source, mpv/ffmpeg does just fine. Bumping the network buffer to 3MB for 6Mbps, 4MB for 8-10Mbps solves all issues.. I've found this commit, so you probably don't want this... still, there is a somewhat valid use case now! :D. mpv cache seems to hover at around 1s+1MB, which doesn't say how much actual data is in the buffer (1s for the 8Mbps 1080p stream should be around 1MB, but add some audio, in this case 160Kbps AAC stream, and you're over that). The buffer does matter because setting a larger buffer (by just 1MB) fixes the issue presented in the video. I can prepare a video that shows OBS behavior w/ default buffer vs larger one if you'd like?. Attached the settings: ObsConfig.zip\nSpeaking of the socket buffer being weird, under most Linux systems OBS logs mention this:\n[udp @ 0x7f81a0009340] attempted to set receive buffer to size 3145728 but it only ended up set as 425984attempted to set receive buffer to size 3145728 but it only ended up set as 425984attempted to set receive buffer to size 3145728 but it only ended up set as 425984attempted to set receive buffer to size 3145728 but it only ended up set as 425984maxdelay reached. need to consume packet\n\nThis is mentioned here in FFmpeg, and the value it tries to set is the size of the network buffer set in the plugin. It fails, making the socket buffer pretty small, and the reason it fails is that a Linux kernel property, net.core.rmem_max, is set to a low value, which can be easily fixed with # echo 2147483647 > /proc/sys/net/core/rmem_max (letting network sockets have up to 4GB buffers allocated - could be smaller but it's the maximum and doesn't affect other settings, so it's fine). I have this value set permanently on my machine via sysctl.d. The 2MB buffer size with the said fix still doesn't handle the stream correctly..     # grep . /proc/sys/net/ipv4/tcp_mem\n    184764  246354  369528\nThe source tries to use UDP, so there's also:\n# grep . /proc/sys/net/ipv4/udp_mem\n369531  492708  739062.     # grep . {tcp,udp}_*mem*\ntcp_mem:184764  246354  369528\ntcp_rmem:4096   87380   6291456\ntcp_wmem:4096   16384   4194304\nudp_mem:369531  492708  739062\nudp_rmem_min:4096\nudp_wmem_min:4096\n\nI have 8 out of 16GB RAM free, 6700K at 4.0GHz, Ethernet connection on a gigabit link, not running in a VM, no CPU/GPU-heavy processes running, nothing downloading or using the network (aside from an idle browser, closing it doesn't do anything). The RTSP stream visible in OBS preview is garbled when it's idle or recording, doesn't matter. Recording doesn't seem to make it worse, logs are spammed with the same frequency.. How about adding a tooltip in the app with something along the lines of \"You shouldn't change this if you're not sure what this does - see https://obsproject.com/wiki/Sources-Guide for more information.\" and documenting what it does under Media Source docs?. ",
    "localteampartners": "When building I get this error:\n[ 96%] Linking CXX shared module decklink-ouput-ui.so\nError copying directory from \"/Users/*/documents/projects/obs/obs-studio/UI/frontend-plugins/decklink-output-ui/data\" to \"/Users//documents/projects/obs/obs-studio/build/rundir/RelWithDebInfo/data/obs-plugins/decklink-ouput-ui\".\nmake[2]:  [UI/frontend-plugins/decklink-output-ui/decklink-ouput-ui.so] Error 1\nmake[2]:  Deleting file UI/frontend-plugins/decklink-output-ui/decklink-ouput-ui.so'\nmake[2]: TargetUI/frontend-plugins/decklink-output-ui/CMakeFiles/decklink-ouput-ui.dir/build' not remade because of errors.\nmake[1]: ** [UI/frontend-plugins/decklink-output-ui/CMakeFiles/decklink-ouput-ui.dir/all] Error 2. @DDRBoxman That worked. Thanks!. @DDRBoxman  I was able to load obs and the UltraStudio Mini monitor was found. When I click on start output I get this error in the terminal: \ninfo: decklink: Starting output...\nCould not obtain the IDeckLinkKeyer interface\nIf I click start output obs crashes. Keying is disabled. Never could get output. Will keep testing.\nOn Mon, Feb 4, 2019, 11:08 PM Colin Edwards <notifications@github.com wrote:\n\n@localteampartners https://github.com/localteampartners if the disable\nkeyer stuff doesn't fix it let me know, there might be a bug with non keyer\ndevices.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1577#issuecomment-460514709,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AcmgHmsIjl9F30lsPy_l6hR4_rALefsdks5vKRHDgaJpZM4ZOi2G\n.\n. \n",
    "jhobz": "This is great! In addition to the identified usefulness of being able to update game/title directly from OBS, I think a big win would also be having a hotkey that generates a Stream Marker for use in highlighting.. Are black and white industry standard? I thought blue and green were the usual colors? Either way, thanks for addressing this!\nPotentially related repo: https://github.com/Andersama/obs-color-wipe-transitions. It's possible I've simply seen more previews like @VodBox said and was thinking of those. I'm certainly not an expert. \ud83d\ude04 . ",
    "Scrxtchy": "\nThis is great! In addition to the identified usefulness of being able to update game/title directly from OBS, I think a big win would also be having a hotkey that generates a Stream Marker for use in highlighting.\n\nHmm, If the oauth tokens were easily picked up from API bindings, these could more easily people to add additional functionality like stream markers. You could do it right now with some scripting, but you'd need an oauth key handy, they aren't hard to get, it's just not going to be as pleasant compared to it being handled by OBS studio. The current situation with Twitch's API is kinda bonkers, Since there are a number of endpoints that aren't implemented on the new API, and even in production they have to resolve to using the old API (v5). Other than that, anything that does use the new API is a lot easier to manage.\nFor example, updating your current game still points to using Kraken (v5), this is also used on the mobile version of twitch, therefore this sounds like a chore \ud83d\ude12. The FFZ control centre doesn't work. \nIt opens a tab within the desktop browser, where I do not use the extension\n\n. > CEF is programmed not to allow popup windows, so that's not entirely surprising. I'm not sure how I feel about having popup windows within the program.\nIt's a tough one because I don't think everyone as well wants the default configurations that come with these userscripts. For example, the recolouring of usernames\n\n. Well, I could consider adding a settings pane for integration. Could allow users to disable the userscripts for running at all, as well as opening their settings. Only thing is I know you can easily open FFZ's settings from adding ?ffz-settings to your URL (https://github.com/FrankerFaceZ/FrankerFaceZ/blob/e3ab5d63a31c5a904ea05a8848cf9397ede82738/src/sites/twitch-twilight/index.js#L93), should work as long as the script is loaded. But BTTV is another story, they also have an option to open settings from chat, which displays their inline settings, but it doesn't work in the frames (https://github.com/night/BetterTTV/blob/8d5dda3951ae96fc9a97d25a8b5ca70432ae4ce6/src/modules/chat_settings/index.js#L45), could probably nicely ask @night to implement a param check into the extension (similar to ffz) to automattically open the bttv settings screen, as OBS should be able to just load these webpages in their own QWidget, as long as localStorage is shared between instances. Another addition to the twitch service integration is to easily run a stream to twitch inspector\n\nCurrently, you are unable to access this if you have the account connected, due to the streamkey input being no longer used. I guess that this also restricts streaming to someone else's page through your own account\n\n. I use it alongside OBS's stats window to do testing in a live environment. Means I'm outputting to a twitch ingest, but not broadcasting to a channel. Helps for debugging. ",
    "techkid6": "First off, I'm really excited to see this become part of OBS.  Secondly, will it be possible to support services which could have multiple stream keys?  For instance, YouTube can have multiple liveBroadcast objects, each with their own \"bound\" liveStream, where you would find a stream key.  Some more info on that is here but being able to choose between different broadcasts on an account would be amazing.  Right now the osb-service API only seems to support get_url and get_key, implying a single key per service.. ",
    "rkfg": "Hmmm, the tests use pretty old Qt that doesn't have these functions (QPaintDevice::devicePixelRatioF() is added in 5.6). Well, we can't do much in this case and should fall back to just devicePixelRatio() if Qt version is older than 5.6.. Here's a video demonstrating the bug with scaling factor of 1.2: 2018-12-16_23-15-33.zip\nIt's not critical and otherwise OBS works fine but this non-repainting border is quite annoying. I suppose it's not an issue for 2x scaling but it's too much for my 2k monitor and 1.2x fits much better.. Could be but it's not related to scaling it seems.. I have no idea, don't have any Windows around. Would be interesting to look at the returned values.. The old values of the changed lines and the new ones, devicePixelRatio() vs devicePixelRatioF(). But it's mostly out of curiosity.. Then my patch shouldn't affect the Windows build. Do you experience this scaling issue on Windows (the preview widget not occupying all the available space)?. The flickering only appears on the non-repainting area, since with this patch the preview widget fills up the whole top of the window I don't have any visible flickering. It can also be related to the GPU buffers flipping, for instance with it enabled OBS doesn't capture Prey on Linux instead showing a black or white screen. It can be the same on Windows since NVIDIA's driver shares most of the code between the platforms. I made a short script to disable flipping, run OBS and enable it back when it exits but that's probably outside of this patch scope.. Sure, thanks. Github allows squashing on merge though but I'm fine with doing it myself.. Should be good to go now.. ",
    "justinlynn": "Note that on this architecture there's an issue with the software h.264 encoder and it produces broken h.264 streams (incorrect motion vectors, etc). This needs to be debugged but the FFMPEG VAAPI advanced encoder settings do produce correct streams which work perfectly. It's functional and stable - I've been streaming for the last several hours on the new architecture using a test build.\n\n. This may require GCC 8+ (tested on Ubuntu Cosmic libgcc-8-dev:ppc64el at version 8.2.0-7ubuntu1) ... checking\nYes, it's going to require a version of GCC with the following shim/macro enablement patch applied (available in ubuntu cosmic - checking elsewhere now): https://patchwork.ozlabs.org/patch/969493/. > > This is in preparation for a direct port to AltiVec/native vector acceleration.\n\nWill this still be happening? I ask because Ad\u00e9lie is still using GCC 6 and there's no way we're going to be bumping to 8 any time soon, so I can't test this on BE right now.\nBE is still very important to support, too, and is still the default endianness on modern POWER in addition to older systems.\n\nYes, this is still a goal - but it's going to depend a lot on available time and a growing familiarity w/ AltiVec; that said, the compatibility shim does offer a nice starting point for how to go about implementing natively.. ",
    "hlandau": "@kkartaltepe No, this is for enabling modern POWER systems.\n https://www.ibm.com/it-infrastructure/power/power9\n https://raptorcs.com/ . ",
    "madscientist159": "\nInteresting I wasnt aware of any modern POWER chips available in a desktop form factor. Thanks.\n\nIn case you're interested in why we're seeing a resurgence of POWER in the open source sphere, our systems (the Talos II / Blackbird products) target individuals that are looking for security and owner control in a desktop / server form factor.  There's no binary signed firmware like the Intel ME / AMD PSP, and all firmware source is open at https://git.raptorcs.com ; this is a level of owner control + computing power that hasn't been seen in many years (people simply can't get Intel / AMD chips without the signed DRM bits and pieces by design).. ",
    "bdragon28": "I am planning on using OBS at some point on my Talos II as well. Too busy at the moment working on FreeBSD/POWER9BSD stuff to test things out on LE at the moment, but a vote from me as well for allowing to build for POWER.. ",
    "awilfox": "\nThis is in preparation for a direct port to AltiVec/native vector acceleration.\n\nWill this still be happening?  I ask because Ad\u00e9lie is still using GCC 6 and there's no way we're going to be bumping to 8 any time soon, so I can't test this on BE right now.\nBE is still very important to support, too, and is still the default endianness on modern POWER in addition to older systems.. ",
    "MisterTeeXD": "Looks really good, great job \ud83d\udc4d . I would love to see this in the next update as this could solve quite a problem, not to mention those red boxes looks very nice, Well done :D. ",
    "geemion": "https://blogs.msdn.microsoft.com/oldnewthing/20050912-14/?p=34253. ",
    "k-ross": "I tried following an online guide to squashing, but it just messed things up. Deleted the branch and pull request, and started over. . Are there any bug reports associated with those reverts? I'd be willing to re-test, if I had some specifics.. I don't know if my test environment exactly replicates the environment you're talking about. I have two monitors (the same size), and in the Windows 10 display settings, I set the scaling to 100% on one, and 225% on the other.\nI then tested Qt 5.6, 5.10.1, and 5.12. I tried all four themes. I dragged the OBS window back and forth between the monitors. I tried with and without high DPI enabled in Qt. I can say that in all cases, having high DPI option enabled in Qt resulted in DRASTICALLY better results. With high DPI not enabled, I would get very odd UI behavior going back and forth. With it enabled, all those issues went away.\nMaybe some changes to OBS have been made since then that helps this situation.\nAll I know is, I have yet to find a scenario where enabling high DPI makes things worse. So far, it has always made things better. Of course, YMMV.\nI'm willing to try other testing scenarios if you like.\n. ",
    "cristisilaghi": "@brittneysclark I've tried this PR, but it seems I cannot check \"Use HW Scale\" in Streaming tab, but in Recording tab I can (seems useless, the tick seems to not get remembered). Perhaps incomplete PR?. Oh, this works only for QuickSync, my bad.. \n\nUhmmm... I think something's wrong.. Only \"Dark\" theme seems to have the above problem.. The fix for Dark.qss:\n\nQGroupBox::title {\n    left: 20px;\n    padding-left: 4px;\n    padding-right: 4px;\n    padding-top: -12px;\n    font-weight: bold;\n}. \n\nThis is how it looks after I've edited Dark.qss with above fix.. @pkviet Qt 5.12.0. @pkviet\nCan you try this out for Dark.qss?\nQGroupBox::title {\n    left: 20px;\n    top: -6px;\n    font-weight: bold;\n    padding-left: 5px;\n    padding-right: 4px;\n}\nIt looks okay with Qt 5.12.0, not sure about how it looks with Qt 5.10.1.\n\n. ",
    "wahajdar": "@jp9000 , Please consider or suggest required optimizations.\nThanks. ",
    "richardfontana": "\nIf this were accepted into the OBS repository, in what way does it affect downtream forks who may be using (and wish to continue using) OBS code?\n\nBy default, a downstream fork would include a copy of the COMMITMENT file, and thus changes made in the fork would be subject to the commitment. A fork could choose to delete the file though. In this respect it is a lot like traditional GPL exceptions -- which are viewed as deletable by creators of derivative works, though in practice they tend to get preserved.. > I believe this would need to be agreed to by all current and previous contributors. A single no or missing reply would mean that this would have to be declined, or have all their code removed from the repository in all future version that include this notice. I'm against this until I can have a lawyer explain this to me in full.\n[...]\n\n[EDIT] Updating this post to not spam peoples E-Mails: I've talking with a lawyer, and my first observation is correct, this would require all maintainers to agree to this change. If even one of them doesn't reply or says no, that maintainers code and all new variations of that code have to be removed.\n\nThis is not so, because of the definition of \"We\":\nhttps://github.com/obsproject/obs-studio/blob/e1a74356e96011f922a2d309d70af611a4ce58a5/COMMITMENT#L41-L43\nThis definition was specifically included to facilitate projects adopting the commitment prospectively, so permission from past contributors is not needed -- it applies to contributions as of the date of adoption of the commitment, and does not attempt to reach past contributions. In this way a GPLv2 or LGPLv2.x project can gradually migrate over time to having an increasing amount of its code covered by the commitment, but there is no burden to get agreement from past contributors. If it would be helpful I can talk to your lawyer. .  > > Moreover, your license from a particular copyright holder is reinstated permanently if the copyright holder notifies you of the violation by some reasonable means, this is the first time you have received notice of violation of this License (for any work) from that copyright holder, and you cure the violation prior to 30 days after your receipt of the notice.\n\nThis could be \"misunderstood\" to say that the license is reinstated permanently, even if there are future violations of the license. This could also be worded better to first say that the violation has to be cured and then the conditions in which the license is reinstated.\n[EDIT] Updating this post to not spam peoples E-Mails: I've talking with a lawyer, and my first observation is correct, this would require all maintainers to agree to this change. If even one of them doesn't reply or says no, that maintainers code and all new variations of that code have to be removed.\nAs for the second observation, it depends on the court it would end up in and what kind of lawyer you're going to fight. With this resolved, I am not against this, but would like the problematic part to be reworded.\n\nThis is language taken verbatim from GPLv3 where it has been in use by projects since 2008. A future violation after the \"permanent reinstatement\" would trigger a new instance of license termination - the \"permanent reinstatement\" is permanent reinstatement of a license that was terminated specifically because of that previous past violation. I think I understand your concerns and I won't claim this language is perfect or free of all possible misinterpretation but it's now standard and widely used open source license language (it has even been used in another modern open source license, MPL 2.0) .\n. The intention is that if the file is adopted at time T, \"as of\" brings in contributors who first contribute on or after T. I think this is consistent with the way \"as of\" is commonly used in English-language legal documents -- see also this dictionary definition https://www.merriam-webster.com/dictionary/as%20of. ",
    "pongraczgabor87": "The /live ending is a MUST?\nThe domain will be created soon, I will let you know when it's up.. For now, we wouldn't like to add the /live ending. \nI've removed the default port.\nFrom now the domain is available.. ",
    "yerAWeeGit": "Yes, yes! I've been spending ages messing about with ffmpeg in order to capture full range and am having tremendous issue with the audio sync, but OBS doesn't have such issues and this is all that's stopping me from using it. The timing of this feels too perfect. If this goes through, when might it be available?. @kkartaltepe I don't need it immediately - just for a project later in a few months. What I'll do is wait it out for a bit and if this doesn't seem to be getting anywhere I'll look into compiling a build with this included.. @ChAoSWK How did you compile it? I tried following the instructions at https://github.com/obsproject/obs-studio/wiki/Install-Instructions#debian-based-build-directions but if I install it in /usr it complains about missing locales (it also screws up permissions, so my system won't boot until using a live CD to fix it) and if I install it in its own directory I get error while loading shared libraries: libobs-frontend-api.so.0: cannot open shared object file: No such file or directory.. ",
    "ChAoSWK": "works great for me\ncompiled in ubuntu 18.4 with all deps and now getting better, clearer image with my hdmi grabber\nThx for that patch. @yerAWeeGit \ni am really not an expert, so i struggled many hours with that...\nI made a clean install of ubuntu 18.04lts\napt-get update && apt-get upgrade\nthen dl the files with this patch included as zip\nextracted it and\none after one apt-get all depending packages. these were about 20-30\nI used only the portabe mode of this guide:\nmkdir build && cd build\n  cmake -DUNIX_STRUCTURE=0 \\\n          -DCMAKE_INSTALL_PREFIX=\"${HOME}/obs-studio-portable\" ..\n  make -j4 && make install\ncmake told one after other the missing deps\nbe careful with the ffmpeg. I thought apt-get or manual compiling ffmpeg will work, but the trick is to dl / apt-get the parts told in the ( )\nfor example libavtools or other, i dont know it actually and have no pc at the time to verify.\nbut be sure you dont waste time with correct installing and getting ffmpeg - you need the single dependencies.\nAfter cmake tells that averyting is fine (repeat the cmake step everytime and get the deps) you can \"make\" it.\nAfter successfully make  and make install you get a bin/64 directory and inside youll find the executable obs\nfor me it works perfectly\n. ",
    "Vainock": "@Fenrirthviti\nThe space is not incorrect. There are different styles on how and where you place the space and which ellipsis you use.\nBut I see that I have not really a chance. I will change it because of the consistency.. I have updated the fork again. It is now I think the best solution.. Close this PR because I created the suggestion that this page should be translateable: https://obsproject.com/mantis/view.php?id=1377. I have updated the case of the comments only for consistency, not really important, I know. Have you problems with this?\nI have chosen \"The name is required.\" for NoNameEntered.Text because it's chlarifys the message behind the text much more. You told that you only agree with Basic.PropertiesWindow.Confirm, and what is with the hours, minutes and seconds?. Yes, you are right. To write only \"Want\" seems not very correct.. Build_Windows64 is broken?. Why have you defined the paths in the locale file? Does not make sense for me.. https://cdn.discordapp.com/attachments/549677588143013898/555420043501109259/Screenshot_20190313-170038.png. ? What do you mean? I only provided a picture where you can see that you made something wrong. It's not correct that the file names are in the drop down list.... The placement is wrong. The locale files are only for the texts that should be shown in the GUI, not for file names or something like that.. Could you please change \"Calculating..\" to \"Calculating...\" for consistency?. This change is not needed because you already know how to enable the test mode and by that also how to disable it again.. \"Uses newest available implementation\" is much better I think.. ",
    "grimmy": "Here's some example output of my gnarly setup.  Note that screen 3 is just supported by the video card and not actually in connected.  I can probably remove it from the list but I need to figure out how to detect that in the API yet.\n\n. Forgot to add this the other day, but this is what 22.0.3 looks line on the same setup. (minus the screen not found obviously since that was set from the xrandr build).\n\n. ",
    "SoftwareArchitector": "No, the second PR contains additional functions (firtst PR is only\nauthorization for restream service, second - restream chat after\nauthorization)\n\u043f\u043d, 18 \u0444\u0435\u0432\u0440. 2019 \u0433., 17:29 Joel Bethke notifications@github.com:\n\nWhy have you opened a second PR? Is there something wrong with #1662\nhttps://github.com/obsproject/obs-studio/pull/1662?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1669#issuecomment-464774939,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACGiusm8BMKL9F1bYnsiMUeZyB0dKyatks5vOsbAgaJpZM4bA095\n.\n. Ok, I got it, thank you\n\n\u043f\u043d, 18 \u0444\u0435\u0432\u0440. 2019 \u0433., 17:42 Ben Torell notifications@github.com:\n\nOkay, but you didn't need to open a second PR to add a second commit. If\nyou look at the Commits tab, you'll see this PR includes both 6b73307\nhttps://github.com/obsproject/obs-studio/commit/6b73307540aca04907217b5b475f08bddba10d57\nand c660e37\nhttps://github.com/obsproject/obs-studio/commit/c660e374818ff989e9d0563bb16478c71c5fb6ee,\nwhereas #1662 https://github.com/obsproject/obs-studio/pull/1662 just\nhas 6b73307\nhttps://github.com/obsproject/obs-studio/commit/6b73307540aca04907217b5b475f08bddba10d57.\nThe better thing to do would have been to update the original PR with the\nnew commit, but I suppose now that this PR exists, we can close #1662\nhttps://github.com/obsproject/obs-studio/pull/1662 in favor of this one.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1669#issuecomment-464780531,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACGiurOdjp9v9JTvw4ARPfJezHd7I71yks5vOsnkgaJpZM4bA095\n.\n. Ok, I will do.\n\n\u0441\u0440, 6 \u043c\u0430\u0440. 2019 \u0433. \u0432 02:22, Jim notifications@github.com:\n\nAh wait, I see. This was closed because I just deleted the service\nintegration branch, because I had merged the service integration branch.\nCould you please change these via our master branch and make a new pull\nrequest?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1669#issuecomment-469913931,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACGiupDa-I2F6C8WsSzMM80UX5-Gu-7Pks5vTwoygaJpZM4bA095\n.\n. \n",
    "boxerab": "\nChanging the versions/files that this links against seems a bit dangerous, as the VLC source was coded for a specific VLC library version. Has it been tested and validated that the VLC source continues to function after these changes have been made, with any version of VLC that this now targets? It's great that this may fix a cmake error, but if it breaks the plugin that this is for, it seems like a bad idea.\n\nThanks. So,as it turns out, VLC 4 increments libvlc version to 12. Once VLC 4 is released, there will be two versions out in the wild. If OBS is hard coded to version 5, then it won't be able to build against newer version of VLC.. Thanks, @kkartaltepe . So, once it is validated against VLC 4, which SO version will OBS link against?. Cool I will remove that change.. Thanks, @RytoEX . . > Can you explain how this differs from the custom ffmpeg output that is currently in OBS? Why is this change required? Also, it looks like you included a commit for the VLC source that is not related to this change, please remove it from this PR.\nThanks. VLC has been removed and I've added some explanation for why this PR is useful. . I have now fixed all issues from my side. Ready for feedback from OBS developers.. Thanks. Under streaming just set a custom URL of the form. srt://YOURSERVER. com\nand start streaming . Also you need to build ffmpeg with\n      - - enable-libsrt. Note: new files have been formatted in KNF form.\nindent -nbad -bap -nbc -bbo -hnl -br -brs -c33 -cd33 -ncdb -ce -ci4 -cli0 -d0 -di1 -nfc1 -i8 -ip0 -l80 -lp -npcs -nprs -npsl -sai -saf -saw -ncs -nsc -sob -nfca -cp33 -ss -ts8 -il1 FILENAME.c. > Hi! Thanks for submitting this PR. To help out with this process, I've reviewed this PR, mostly for conformance with this project's style guidelines.\n\nPlease note that I did not mark every occurrence where the proposed code diverges from the project's code style. Please review the entire PR for such instances.\n\nThanks!! I have reformatted the files in my editor (Eclipse CDT) using KNF style. Thanks. This is resolve with latest push..  This is resolve with latest push.. This should be fixed now.. should be fixed now.. FIxed.. ",
    "Oncorporation": "I wrote a luminance filter for my plugin that seems to share a lot in common with this code. \nI added the following to increase the number of effects and simplify the testing\n- inverters for color \n- inverter for alpha\n- a color filter \nThis effect creates an Alpha layer on live video sources and is useful when colors are not a good way to merge layers.\nhttps://www.twitch.tv/videos/369409420 is an example of a matrix effect that I made with luminance.\nI like the use of smoothstep, but it seems to have a very limited impact.. https://clips.twitch.tv/SteamyArtsyBubbleteaCoolStoryBro  video on how to use luminance. resubmitting now that 1685 is in the code base for easier reviewing. Woops mean to do that as a separate pull request... trying again. I just updated existing code and always follow the current architecture of the project.\nRefactoring the code would be a different task.. > https://cdn.discordapp.com/attachments/549677588143013898/555420043501109259/Screenshot_20190313-170038.png\nAnswering your own question?  I like\ud83d\ude01. Oh. I thought you were saying that the actual placement of where the strings were was wrong.  Will update the config file, thank you.. These string are shown in the GUI. The actual file names are in Wipes.json. \nI had copied and pasted to ensure everything lined up while developing and did not go back and change the names for the GUI drop down list. So, thank you for your review!\nThis is now updated, but I did not rebase and squash . ",
    "nocodedweb": "rtmp-services: Added GamePlank to services. ",
    "CDshenwa": "Thanks\nOn Wed, Feb 27, 2019, 12:56 AM Alex Anderson notifications@github.com\nwrote:\n\nAdds functions to return the duration of a transition.\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/obsproject/obs-studio/pull/1698\nCommit Summary\n\nlibobs: Add obs_transition_get_duration_ms()\nlibobs: Add obs_transition_get_duration_frames()\n\nFile Changes\n\nM docs/sphinx/reference-sources.rst\n   https://github.com/obsproject/obs-studio/pull/1698/files#diff-0 (12)\nM libobs/obs-source-transition.c\n   https://github.com/obsproject/obs-studio/pull/1698/files#diff-1 (16)\nM libobs/obs.h\n   https://github.com/obsproject/obs-studio/pull/1698/files#diff-2 (2)\n\nPatch Links:\n\nhttps://github.com/obsproject/obs-studio/pull/1698.patch\nhttps://github.com/obsproject/obs-studio/pull/1698.diff\n\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/obsproject/obs-studio/pull/1698, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ArTRdYXbHzVrHTuoOEfDpHf_mNZRmHb0ks5vRiwhgaJpZM4bT1QG\n.\n. \n",
    "eliasthompson": "This would be pretty useful to use with the suggestion to allow switching their places.. ",
    "jpark37": "I've done some light local testing, but I haven't checked every single code path, and I haven't seen how Twitch displays/transcodes yet. I'd like to see if you'd consider taking this change before i go through all of that first though.. Muf mentioned it might be worth considering a larger intermediate buffer, but I did some offline estimates and the converting 601/709 through 8-bit sRGB isn't tremendously lossy, so I decided not to expand the scope of this change.. From my experience, the most noticeable issue is that 601/709 and sRGB have a significant brightness difference if you alias one as the other. If you alias 601/709 as sRGB, the image comes out too dark. If you do the opposite, the image comes out too bright.\nIgnoring that 601 (525-line) and 709 have slightly different color primaries, my understanding is that this is the current situation, at least on Windows:\n\n601/709 video source -> sRGB preview window: too dark\n601/709 video source -> 601/709 encoded video: \"correct\"\nsRGB window capture or stream layout image -> sRGB preview window: correct\nsRGB window capture or stream layout image -> 601/709 encoded video: too bright\n\nWith the attempted fixes:\n\n601/709 video source -> [601/709 -> sRGB convert] -> sRGB preview window: correct\n601/709 video source -> [601/709 -> sRGB convert] -> [sRGB  -> 601/709 convert] -> 601/709 encoded video: correct\nsRGB window capture or stream layout image -> sRGB preview window: correct\nsRGB window capture or stream layout image -> [sRGB  -> 601/709 convert] -> 601/709 encoded video: correct\n\nOutstanding questions:\n\nMy relatively vanilla Windows installation seems to use sRGB by default for applications, but when does GDI not provide colors in sRGB? Ignore if rarely occurs in practice? What about Mac/Linux?\nHow will the popular video decoders/players react to this change? Twitch, Chrome, VLC, etc. They could easily handle video metadata incorrectly.. \n\n\nI've attached two images from the OBS preview window of my video capture. One is 601 pretending to be sRGB, and the other is 601 converted into sRGB. It might be hard to notice the difference side-by-side, but it's pretty noticeable if you toggle back and forth.\nI think 601 is still meaningful today. Anyone capturing an NTSC game console <= 480p is likely dealing with something close to 525-line 601, and it would be nice if users could process the signal accurately.. Sounds reasonable. I wouldn't mind trying to work in a larger buffer format and ACES.. Those images were from my video capture card. My capture device reports in its properties that the data stream is 601 in the cases that I use 601, but that's kind of irrelevant, isn't it? Selecting the correct color space for video capture devices is a user setting. If the user says the color space is \"X,\" it's up to OBS to treat the selection as \"X.\"\nAbout ACES, I'm kind of new to HDR, so I'm guessing 16-bit FP ACEScg would be the \"normal\" choice for this? I think an additional SDR target would also be necessary for window preview.. For GPUs, bandwidth is usually the main factor for speed. Given that the ACEScg standard itself says FP16 is reasonable, I'm willing to take its word for it and try 64-bit elements (16_16_16_16). It seems like a lot of effort and trouble to try to squeeze down to 32-bit elements (11_11_10): https://bartwronski.com/2017/04/02/small-float-formats-r11g11b10f-precision/\nMy attempts to Google for a comparison/recommendation between FP16 and FP32 ACEScg came up empty.. Filtering space is an aside from the point of view that I would rather address filtering that in a separate discussion or pull request, and just wing it for now. But since you bring it up, let's go deeper!\n1715 For this proposed scale filter where resampling is a simple weighted average of pixel coverage, I would argue linear is not what you want from a brightness perspective. Take a simple example of wanting to upscale a 2x1 sRGB image to 3x1 sRGB, and that the left pixel is black, and the right pixel is white. In the 3x1 image, the left/right pixels should be black/white, but what should that center pixel be? If you interpolate in gamma space, you get (128, 128, 128), but in linear it's something like (188, 188, 188). Linear is correct from an energy(?) point of view, but in a perceptual space like CIELAB the middle color is something like (119, 119, 119). I have done some testing where you can see the perceived overbrightness of filtering in linear is apparent where dark meets light.\nSo then should we just use gamma? 128 is close to 119 after all. Well, not so fast. Saturated colors of different hues don't look right if you average them in gamma space, and the gradients look better in linear space.\nSo is CIELAB the answer? I thought so at first, but there are particular color endpoints like blue/yellow that weirdly interpolate through orange.\nUltimately, I decided on CIELUV for my scale filter because it seemed to perform the best at all the gradients I threw at it out of these four options, but I don't know if it's the best answer for all the scale filters in OBS.. > @jpark37 just a quick question, what hardware / software are you using to capture this?\nThe Zelda images above were \"Print Screen'd\" from the OBS preview window with my fixes, and the sRGB conversion toggled on/off. I have a Micomsoft SC-512N1-L/DVI with proc amp device settings roughly calibrated to minimize error from an SMPTE test pattern generator with output voltages that seemed appropriate from oscilloscope testing.. For 3D lighting calculations, yes, linear. You have no arguments from me there.\nI think resampling an image is a separate issue. Note that I'm not advocating for resampling in gamma, so we already agree there.\nThis is the paper that made me consider perceptual spaces like CIELAB for resampling. I only knew about sRGB gamma/linear at the time: http://johanneskopf.de/publications/downscaling/paper/downscaling.pdf\nIt could be true CIELUV falls apart under other resampling algorithms; I don't have that data, but I think it's the right choice for mine. I'd like my pixels to be averaged like a human perceives, not photon-correct if that causes the image to appear too bright. If you know of a scenario (image and scale factors) where my specific scale filter would produce better results in linear than CIELUV, I'd love to know. I certainly have examples where the opposite is true.\nI'm not sure what part of my example is double gamma correction. I'm just comparing middle grays from different perspectives; see Lab (119), sRGB (128), and Absolute Whiteness (188) on this page: https://en.wikipedia.org/wiki/Middle_gray. See below for partial calculations of the black/white averages. I took shortcuts because I've done the math before, and I just don't want to replicate it now.\nYou hit on something interesting that a coworker pointed out to me a while back. There's an alternative perspective of perceptual. When you squint at a checkerboard of sRGB whites and blacks, you get a color resembling sRGB (188,188,188). But is that the color a person thinks is halfway between black and white? Some people might say that looks something closer to 76% white, and that wouldn't be crazy. When I say perceptual, I'm more referring to the CIELAB lightness column, not the relative whiteness column.\n50% sRGB gamma (128,128,128) is actually a bit too light (53.39% perceptual).\nWhen averaging white and black in linear space leaves me with a CIELAB lightness of 76% instead of 50%, it better make up for that in other ways, but I have no evidence that it does. I've only seen this make target images worse.\nOn the other hand, I'm pretty sure averaging in CIELUV gives me a 50% perceptual brightness for that scenario, and I haven't run into other drawbacks.\nLab:\nsRGB gamma 255 (0,0,0)/(255,255,255)\nsRGB gamma (0,0,0)/(1,1,1)\nsRGB linear (0,0,0)/(1,1,1)\nXYZ (0,0,0)/(...) // Too lazy to calculate.\nLAB (0,0,0)/(...) // Too lazy to calculate.\nLAB average (...) // Too lazy to calculate.\nXYZ average (...) // Too lazy to calculate.\nsRGB linear average (...) // Too lazy to calculate.\nsRGB gamma average (...) // Too lazy to calculate.\nsRGB gamma 255 average (119, 119, 119)\nsRGB linear:\nsRGB gamma 255 (0,0,0)/(255,255,255)\nsRGB gamma (0,0,0)/(1,1,1)\nsRGB linear (0,0,0)/(1,1,1)\nsRGB linear average (0.5, 0.5, 0.5)\nsRGB gamma average (?, ?, ?) // Too lazy to calculate.\nsRGB gamma 255 average (188,188,188)\nsRGB gamma:\nsRGB gamma 255 (0,0,0)/(255,255,255)\nsRGB gamma (0,0,0)/(1,1,1)\nsRGB gamma average (0.5, 0.5, 0.5)\nsRGB gamma 255 average (128,128,128). I did a search, and the FP16 performance gimp he's referring to appears to be for shader math, not memory access. That would be an insane handicap for consumer games if NVIDIA did that. Even shader math could become an issue; HLSL has historically prevented access to half-float math but Shader Model 6.2 appears to allow them; it appears SPIR-V does as well. I suppose PC game developers will avoid though if NVIDIA is not going to play ball.\nI don't know enough about color physics or biology to speak against what you're saying, but I can put together some images after work tonight, and I'd welcome any thoughts. I didn't expect the resampling discussion to become so long, so I'll post them to the other PR: #1715. > The way the changes is made, makes it harder to implement any new color spaces, I think.\nThis is true although I think I'd be inclined to resolve that separately. It might actually be better to do it beforehand. I mentioned this in the original description, \"Moving color matrix/range values into shaders would make things simpler, but that can be refactored separately.\"\nAn approach would be to not switch on technique name, but to pass a colorspace enum instead of the colorspace constants. The effect itself (or a helper file) could contain the constants that currently live inside in C code. That way, we don't have 2*N (Draw/DrawMatrix) colorspace techniques for M effect files.. I'm on board with linear space for scaling now, but one of the things that made me think CIELUV was a good idea was specifically gradients, which I wish that blog post explored. I did tests where I tried all endpoint combinations between black/white/red/green/blue/cyan/magenta/yellow, and CIELUV seemed to do a better job than sRGB gamma and linear spaces for producing natural-looking gradients. I also tried CIELAB, but it caused hue shifts in some cases.\nI'm currently working on plumbing in the ACEScg space. I noticed the swap chain is already separated from the working space, so that's nice. I am looking at potentially switching the swap chain to sRGB BGRA8 (after implementing it) to avoid computing sRGB linear -> gamma in shader, but is there a compatibility issue, or some reason OBS isn't already doing it that way?. I'm finding it a bit tricky to figure out how to tag things to have the information needed at draw time about the source and target spaces. I'm trying to minimize the mess, but it could take a while to find a clean solution. If anyone has any tips, I'd gladly take them.. I submitted a pass at the the 16-bit ACEScg space changes that work for my personal scenes at least; see latest submission comments for details. I'd like to know if I'm on a path to get this change merged in if I keep going because there's still a good chunk of work left.\nTODOs\n\nShort: Remove intermediate XYZ matrix calculations.\nMedium: Add missing effect techniques for other OBS filters besides crop.\nMedium: Add missing \"undistort\" effect technique permutations.\nMedium: Remaining \"Draw\" technique selections need to be checked, and likely need to be addressed.\nLong: Check all code paths from first submission for correctness, and correctness/performance regressions.\n\nPossible TODO (not planning to address myself)\n\ngs_create_texture_file_data just assumes sRGB color space. To make this better would require support for additional color spaces, and parsing AVStream metadata.\n\nQuestions\n\nShould color space be a part of swap chain and render target, arguments to functions gs_load_swapchain() and gs_set_render_target(), or tracked separately as I have it now? Keeping the color space separate keeps the API somewhat more \"pure,\" but requires more caller effort to keep things in sync.\nShould I just get rid of non-translating \"Draw\" and make \"DrawTranslate\" the only \"Draw\" technique? I'm not sure how many remaining \"Draw\" paths don't need color space conversion, or if they won't need conversion in the future. I wouldn't think there would be a big penalty for calling a translating draw that doesn't translate, but that should probably be measured.. I can compare some RenderDoc timings on my Intel HD 530 and NVIDIA 2080 Ti to see how bad the 16-bit targets and color conversions are. I'd also like to see if I can just use my \"DrawTranslate\" technique everywhere and remove the non-converting \"Draw\" without losing too much perf.\n\nOn Windows, my skimmed understanding is that every HWND has a client-area HDC, which is tagged with an HCOLORSPACE. For D3D, the DXGI swap chain itself also has a color space. Both HDC and DXGI color spaces seem to default to sRGB. It looks like Windows 10 provides the ability to alter DXGI color space for HDR (IDXGISwapChain3::SetColorSpace1), but I don't know how about previous versions of Windows. Does WIndows 8.1 just not support HDR?\nMy assumption is that DXGI is responsible for converting swap chain values from DXGI space to HDC space, and Windows is responsible for HDC space to monitor space. The application shouldn't need to concern itself with monitor details unless it's trying to do something fancy. (I don't know about (W)GL.) In this pull request, the preview window should already be doing the right thing since I'm converting to sRGB values, and not touching window or swap chain color space settings.\nAs far as flexible input color space goes, I think that's a bit beyond the scope of this pull request, which is large enough as it is. Refactoring the color pipeline to handle things like HCOLORSPACE and ICC profiles could be separate PRs, and not ones that I'm keen on implementing myself. At least this change isn't a significantly backwards step for something like that if someone wants it do it.\nI'd like to follow up this PR with a PR to add a handful of other common color spaces that I want for myself though:\n\"FCC\" NTSC - This PR's \"601\" with slightly different luma coefficients.\nBT.470 System B/G - Most popular PAL?\nBT.601 625-line - HDMI 576p? This PR defines \"601\" as BT.601 525-line.\n\"NTSC-J\" - For Japanese game consoles as they would appear on their native TVs.\nEven on Windows, OBS media playback appears to be working well in my branch, but VLC colors don't match. I suspect I'm doing things correctly, but I'd really need to debug VLC to find the answer to that. I feel like OBS shouldn't go out of its way to cater to badly behaving decoders though because the results aren't devastatingly wrong, but maybe that position is a bit naive.. \"I think the best steps forward are to first find a developer to chat with on the OBS discord on how best to approach.\"\n\"I also think a lot of this can be broken up into small manageable and palatable pieces.\"\nI'm in the OBS discord as \"rcdrone\" although I don't try to read it anymore because there's way too much chat. :P If anyone has any questions about the PR, or wants discuss breaking it into smaller pieces, just @ me.\n\"You should also change your terminology and be mercilessly pedantically precise as this is a treacherous area where different people writing computer graphics sytem and professional broadcasters use different terms. Specifically you have already been using sRGB when you mean sRGB primaries.\"\nIn general, I feel like I am careful to be precise and consistent. GS_SRGBA/GS_SBGRX/GS_SBGRA is consistent with GS_RGBA/GS_BGRX/GS_BGRA. (Edit: I just updated them to GS_RGBA_SRGB/GS_BGRX_SRGB/GS_BGRA_SRGB.) It's just the SRGB  versions of those hardware formats. And I'm not sure there's a better name for GS_SPACE_SRGB than what it is.\n\"For example, you set the color format for GS_SRGBA to the GL_SRGBA format and then change previously GS_RGBA to GS_SRGBA resulting in linear texture data erroneously having the inverse transform curve applied on sample even though the effect thinks its operating on linear data.\"\nThe shader code is aware of the difference; it assumes linear in shader if GS_SPACE_SRGB. I even have a comment that reads, \"Use GPU sRGB conversion.\" The CPU code to always use SRGB hardware targets for GS_SPACE_SRGB isn't finished, but it'll get there.\n\"Lastly color space transforms should be done at a minimum where needed. aces is a linear space so there is no reason for any transforms to be done before filters expecting linear data (all current OBS filters to my knowledge, also a case where talking about primaries versus transfer functions matters). However this PR as written forcibly converts colors in every filter. Not only wasting precious resources but making every filter harder to maintain. And anything that isn't heavily used (with so few people with any HDR/alternative color space media/equipment this is probably like 0.001% of users at best who might even notice) and easy to maintain will inevitability be dropped or never merged in the first place since there is so little time to maintain exotic features in an open source project.\"\nFirst, I just submitted a change to make DrawTranslate and TranslateColor very cheap if the source and target colors match (one non-divergent branch). I hope that alleviates your concern of redundant color transformations.\nI don't see a way to avoid updating effects to support translations without introducing additional draws, but that would be rather complicated. This PR is a compatibility break for people with existing custom shaders, but that seems like the necessary price of progress. I'm open to better ideas.\nSomething I had considered was keeping things in their original SDR spaces to try to minimize target size and memory bandwidth, but that turned out to be hard to solve. If I have a source with filters attached, then change the source color space, that knowledge would need to propagate down the chain. That seemed annoying to implement, and might just be the tip of the iceberg of complications, so I decided to just make all filters 16-bit ACEScg. And if all the filters are the same space, no conversions between them! :)\nAdditional memory bandwidth would be my main performance concern. I don't exactly think of OBS as Crysis, but maybe I'm underestimating how complex scenes can be for some people. I can put together some numbers soonish. If there are existing and realistic stress test scenes, I'd be happy to profile them.\nI was planning to code a bit tonight, but I ended up writing this instead, heh.. > I didn't mean to imply flexible input colour spaces needing to be implemented in this PR, but rather that while you're refactoring parts of the GS architecture to provide for colour space management, it might be good to keep future additions like that in mind (specifically the decision to use an enum for colour spaces).\nI get that the enum isn't flexible and forward-thinking, but I feel like it'll do for now. I don't think it makes the next guy's job harder to have to replace them.. Performance is complicated. Even finding a profiler that works has been a chore.\n\nRenderDoc provides unreliable timings, and this is a known issue.\nVisual Studio graphics debugger also seems to provide unreliable timings.\nNsight won't capture DX GPU events correctly for my NVIDIA card.\nPIX works, but uses 11on12 emulation because it's really a DX12 analyzer at heart. NVIDIA results look reasonable enough, but Intel results are definitely wrong with crazy ResourceBarrier lengths.\nIntel GPA seems to be fine on Intel, and looks rather nice on the surface. Forced analytics tracking though. :/\n\nEarly takeaways:\n\nsRGB hardware formats seem to be busted on Intel. I think I'll just resort to shader math; it'll also be nice to not have to do the format dance for the sake of trying to wrap this up.\nMy test scene with local record enabled in PIX on NVIDIA: base 2.44ms, color changes 3.06ms, color changes (forced 8-bit targets) 2.94ms. Bandwidth of 16-bit targets is not the concern I thought it would be on my discrete GPU. I think the Lanczos shader is the major performance regression, but I'd need to dig deeper to figure out why.\nIntegrated Intel graphics is getting hurt much worse, also mostly in the Lanczos shader. It'll take a while to try to isolate the causes of performance losses though.. sRGB formats mostly work on Intel, but D3D/GDI interop seems to produce bad results for whatever reason. Maybe there's some sort of D3D or GDI state that can be set to make things consistent, but it could be a driver bug as well. For now, I just switched GDI cases back to doing sRGB transfer in shader math.\n\nShaders with lots of taps like Lanczos are problematic in the current setup because I do color primary and matrix conversion per tap, so there's a lot of redundant ALU, and possibly bad occupancy because of code bloat. I think the cleanest fix is to move the color transformations into the format_conversion shaders. From skimming the code, full functionality coverage for this looks doable without making too much of a mess, and my partial prototype seems to work and perform well enough (numbers below). I think this also means that the DrawMatrix variant of several shaders more or less will go away. I'll set up a separate PR for this soonish.\nI've measured the impact on my Intel GPU for fat targets and color conversions on a modest 1920x1080 test scene with one upscaled 480p video capture (Retro deinterlace + Lanczos), and two window captures (one Point, one Lanczos). Performance measured using Intel GPA frame analysis:\nmaster: 7876 us (480p Lanczos: 4107 us)\nmaster with 16-bit intermediate targets: 9846 us (480p Lanczos: 4293 us)\ncurrent PR: 25763 us (480p Lanczos: 19357 us)\ncurrent PR (WIP optimizations): 11466 us (480p Lanczos: 4033 us)\nThis PR could result in something like a 25-45% hit on integrated. My hope is to magically claw that back somehow, but that could be wishful thinking.. #1713 impacts how the color interpolation for this algorithm is implemented.. These changes are no longer dependent on #1713, and can go in without.\nThis is going to blend in gamma space like all the other scale filters. They can all be adjusted to linear at once later, possibly by #1713. There was discussion on that PR were I felt CIELUV gave better-looking results, but it was definitely not producing better results on several provided test images, so I am on the linear train now.. Well, everyone's taste is different. I don't like the artificially smooth look that most pixel-art enhancement algorithms provide.. Yes, it looks like the same algorithm. I came up with it on my own, but couldn't find a standard name when I tried to searched for it. I thought it was going to get trashed from the URL, but it seems like a pretty fair take.\nSkimming the code, FFmpeg appears to switch over to bilinear for their area algorithm when upscaling, but in OBS, Area and Bilinear give very different results. I have not looked at their downsampling algorithm, but I would suspect it's the same from the name.. Sorry, I should have tested the downscale path better. Made a PR to remove that option here: #1750. There's already code to auto-clamp, but this fixes the log warning.. ",
    "mufunyo": "\nMuf mentioned it might be worth considering a larger intermediate buffer, but I did some offline estimates and the converting 601/709 through 8-bit sRGB isn't tremendously lossy, so I decided not to expand the scope of this change.\n\n8 bit is already inadequate for the multiple luma range conversions that OBS currently does, and when you throw multiple gamma corrections (worst case: from 2.8 to sRGB to 2.4) into the mix you are thrashing your histogram completely. You are correct that the colour primaries don't change very much, however keep in mind that having some form of colour space management is going to balloon into people requesting wide gamut support in the future (P3/Rec2020) where the gamuts are so large that 8 bit is not going to cut it even more than it already isn't, and also sRGB won't do for a \"neutral space\" because it is one of the smallest gamuts to choose from.\nInstead of hacks like these I would propose compositing in int10 or float16 linear gamma (1.0) with ACES primaries. This would be a truly neutral space that can accommodate all possible gamuts, and also paves the way for potential HDR support in the future.. > About ACES, I'm kind of new to HDR, so I'm guessing 16-bit FP ACEScg would be the \"normal\" choice for this? I think an additional SDR target would also be necessary for window preview.\nI'm not well versed enough in GPU internals to know if it's faster to work in FP16 or in FP32, but instinctively I'd assume 16 bit would probably be lighter on resources while still eliminating all possible banding and gamut issues. ACEScg is a lot less out there in terms of primaries while still larger than Rec2020 so I'd say a  good choice for OBS.\nFor now, I would treat it purely as an intermediate space and convert to sRGB for preview, and to Rec709 for Decklink and stream outputs, simply ignoring HDR (read: clamp out of range values). Things like image/text/browser sources should be assumed to be sRGB, but maybe it can be useful to let the user override the input colour space somehow.\nFor the future, HDR is going to involve a lot more hairy details so I wouldn't bother with them now.. > Maybe you are owner of the some rare device which able to show yuv directly. Mine is just HD5750 and SDM-E96D (Monitor has 6-bit per channel + FRC TN-matrix model: M190EN04-V5C) connected via DVI, and as far as I understand, I always looking at RGB no matter when or where it decoded.\nDisplay hardware is irrelevant, the OP is correct that the numbers are wrong. This has to do with converting YUV with the wrong matrix to RGB for compositing (and eventually back to YUV for stream output). Correctly tagging the source or at least allowing the input matrix to be changed fixes that issue.\nThink of it like this. If there are two formulae to go from YUV to RGB and back, and you mix the two, you are going to end up with different numbers than what you started with:\nRGB -> Rec601 matrix -> YUV -> Rec601 inverse matrix -> RGB = output is same as input (ignoring round-off errors)\nRGB -> Rec601 matrix -> YUV -> Rec709 inverse matrix -> RGB = output is incorrect.. > I'm not well versed enough in GPU internals to know if it's faster to work in FP16 or in FP32, but instinctively I'd assume 16 bit would probably be lighter on resources while still eliminating all possible banding and gamut issues.\nFrom Discord:\n\n[13:27] Rodney: @M\u00fcf regarding your comment on the color space PR: FP16 performance on nvidia consumer GPUs is severely kneecapped to get people to buy quadros/teslas for deep learning so it would be faster to use FP32.\n[13:28] Rodney: On a GTX 1080 FP16 is 1/64th the speed of FP32\n\nSomething to keep in mind. Memory/bandwidth don't tell the complete story unfortunately.\nAbout perceptual brightness: although the HVS (human visual system) is generally thought of as a monolithic entity (light goes in, colour sensations come out), it can be important to separate out the various components if one wants to \"compensate\" for them. Light goes in your eye, gets transformed by your pupils and lenses, and hits the retina. After that, it gets turned into colour sensations in the Lms space which can be thought of as RGB for simplicity's sake. Then it gets sent to the optic nerve in a differential format which can be thought of as YUV (again for simplicity's sake). If this differential signal gets degraded it is possible to see colours that can't exist, like a tint that is halfway between yellow and blue. It then gets processed by the brain, and stuff like retinex effects are applied. This can be thought of as HSL, and this is where the medium grey thing applies.\nIf you want to simulate effects that occur before or during light passing into the eye, you have to use a close approximation of the properties of optical (physical) light. This means linear gamma. Blurring and making things smaller (seeing them from a distance) are a simulation of physical manifestations of light. Doing anything \"perceptual\" here is incorrect.\nIf you want to simulate effects that occur on the retina, like chromatic adaptation (white balance) you have to use an approximation of how the retina senses tristimuli. This means XYZ space.\nIf you want to simulate effects that occur in the brain, like retinex effects (HDR) or the user asking for the scene to be \"50% darker\", you have to use an approximation of how the brain thinks about colour. This means CIELUV space.\ntl;dr CIELUV for scaling is wrong, use linear gamma RGB.. As far as I can tell you're doing great. I can't comment on the GS architecture things as I'm not intimately familiar (well not familiar at all actually) with OBS Studio's innards.\nSome unorganised thoughts:\nI wonder what the performance impact is on light hardware like Intel HD Graphics. If it's significant, there may need to be a way to turn all this off in favour of raw speed.\nIt will be nice in the future to be able to convert to/from other colour spaces than predefined ones. Use cases I can think of are images tagged with an ICC profile, window capture of colour managed apps like Photoshop which render to monitor native space instead of sRGB, and eventually, the OBS preview itself being rendered in monitor native space. Off the top of my head to be able to do this you need to be able to support matrix conversion (which you already do), but also 3DLUTs. ICC profiles like the ones generated by DisplayCAL have LUTs that convert between device RGB and XYZ.\nThere will be the inevitable question from Mac users why their preview doesn't match playing back the resulting file in QuickTime X. The answer to this is that QT on Mac uses an incorrect gamma value of 1.961 instead of 2.4. You can either match QT's incorrect behaviour, or tell ffmpeg to mangle the bitstream's colour tags in a way that forces QT to use the correct gamma.. HDR wasn't even supported on the first release of Windows 10. It has been added in and gradually fleshed out since the Creator's Update. A lot of the plumbing like DXGI colour space is most likely not how Windows apps behave currently, but rather how Microsoft would like them to start behaving in the future with HDR in mind. Microsoft also has some other half-baked colour management ideas floating around their code like scRGB output since Windows 7 which to my knowledge literally nobody has ever used. The way colour management has traditionally been done on Windows and what is the current de facto standard, is that apps request the ICC profile associated with the device they're drawing to, and then implement everything themselves because the APIs Microsoft exposes reliably date back to Windows 3.11.\nI didn't mean to imply flexible input colour spaces needing to be implemented in this PR, but rather that while you're refactoring parts of the GS architecture to provide for colour space management, it might be good to keep future additions like that in mind (specifically the decision to use an enum for colour spaces).. ",
    "torisar93": "can someone pull request about adding win key and f13-f24 keys to keybindings. ",
    "dlunch": "Applying this PR fixes quick sync for my pc (skylake igpu). After installing dch driver, qsv encoding fails with following log: \n17:03:25.977: [qsv encoder: 'msdk_impl'] Unsupported configurations, parameters, or features (MFX_ERR_UNSUPPORTED)\n17:03:25.990: [qsv encoder: 'simple_h264_recording'] qsv failed to load\nBut after applying this PR manually, qsv encoding works fine with dch driver.. also, intel says updating dispatcher solves the problem.\nhttps://software.intel.com/en-us/forums/intel-media-sdk/topic/800921 . ",
    "h-o-sein": "\nPlease check the commit guidelines, the commit message should be formatted as such: rtmp-services: Add GameTips.tv. Also common has to be omitted.\n\nThankful\nI corrected it. Give it a change: GameTips.TV. This service is special for Iran. ",
    "WeiYuanStudio": "Thank you for your reply. Hope to fix it soon. \n\n. ",
    "Kojoley": "Most likely Azure have problems with delivering notifications to GitHub, because the build have succeeded https://dev.azure.com/obsjim/obsjim/_build/results?buildId=136. I do not know what do you mean by default VS installation, but mine does not have ATL, and I do not want to install this outdated monster for a single class from it.. ",
    "w23": "\nJust to warn you, we're a bit backlogged on PRs at the moment, so it might be quite some time before we'll be able to review it. Looking forward to it though.\n\nNo problem. I think it will take me at least a few more weeks to clean this out of WIP status, given how little free time I have to work on this.\nIn the meantime I'd still appreciate a high-level feedback on whether I'm doing things right or moving the system in the right way. I'll update the description with more details a bit later to give possible reviewers easier time understanding this.\n\nIf we really must have a suid binary to fetch the fd, then it should be authenticated via policykit IMO. That way if distros want to lock it down with a password, then they can do so, even if the default is to allow it with no need for a password.\n\nThanks for the suggestion! I was scratching my head on how to approach this elevated capabilities thing, but had zero knowledge of polkit. I will have to read about it and figure out whether it supports running a binary with just one required capability, instead of full-root.. > There is no PipeWire support?\nNope. While I'm fascinated by pipewire and certainly looking forward to it being stabilized, it is out of scope of this relatively conservative change.\nThere was a separate pipewire-source effort here: https://gitlab.com/petejohanson/obs-pipewire-screen-casting and discussed here: https://obsproject.com/mantis/view.php?id=719. > Does it support capture of game's window only?\nIt doesn't. Moreover, in its current state it breaks existing Xcomposite support :D (on EGL, GLX mode is not affected), but I will fix that in a subsequent update before marking it as ready for review.\nFor this particular plugin to support capture of a single game window, there should be support for that in either the game itself, or window system (X11 or Wayland). I'm not aware of any robust way around that (it's technically possible to crop a region from a full framebuffer based on X11 window rect, but that is a bit weird).\nI feel that more pressing is the issue of capturing a particular CRTC/monitor regardless of framebuffer/mode/rotation changes. I haven't thought about it that much.. ",
    "Sunderland93": "There is no PipeWire support?. Does it support capture of game's window only?. > there should be support for that in either the game itself, or window system\nOk. Can PipeWire solve that (like Syphon on macOS)?. > This PR is a wonderful example of how to use dmabuf's which someone could use to inform an implementation of one of the wayland screen recording protocol that sits on top of pipewire for a zero-copy capture on supporting wayland compositors (though if its actually zerocopy depends on the compositor as they may chose to serialize the textures in any format pipewire supports).\nWhat about this? https://github.com/swaywm/wlr-protocols/blob/master/unstable/wlr-export-dmabuf-unstable-v1.xml and this https://github.com/swaywm/wlr-protocols/blob/master/unstable/wlr-screencopy-unstable-v1.xml. ",
    "Xaymar-Streamlabs": "I've changed the text to reflect this now.. ",
    "harm27": "It is missing the following line: \"common\": false,. Jep, missed that one. I have seen some use it earlier, so expected that these also needed it. Check line 1078 for that. Also this pull request has it: https://github.com/jp9000/obs-studio/pull/1073. ",
    "aliksend": "According to coding guidelines I should use tabs for indentation and spaces for alignment. But I can change all to tabs if you want. \nYou can see example in text-freetype2.c:379, also in libobs/obs.c:968 or :980 or :1200 etc.. As you can see in deleted line, there were three declarations in one line that I divided into two lines, but I can divide into three if you want.. ",
    "Joefis-x20s": "I have built and tested this under my own conditions and have concluded that the bitrate floor should be user configurable. (It's the only problem I had with this) In some conditions for me the bitrate can vary more than 50%. Personally I would like to set my bitrate at 5000kb/s However, under heavy congestion I may only be able to achieve 1000kb/s even only 250kb/s at the worst times. I know the quality will be bad however I still prefer that than dropping frames. Other reasons is low end streams with an initial bitrate of 1000kb/s will only drop to 500kb/s under some conditions available upload may only be 200kb/s\nI suggest making this user configurable as it can be very important in some cases.. Yeah I get you with not being able to change resolution. Just the odd times my upload does fall under 50% the bitrate floor it would be nice just to show something that looks a little bad as it's better than nothing by a lot. When I'm streaming to twitch at 6000kb/s bitrate the video can still look good at 1500kb/s for some less complex parts as that's usually my go to bit-rate when my upload is bad at rare points.\nThe main point I see from dynamic bitrate is just the goal of not dropping frames but still pushing the best quality the upload can handle. The bitrate floor can sometimes be a limiting factor for this and even if it falls below 50% I'm sure people would prefer the lower quality than dropping frames (Is there any benefit to dropping frames?) Also I couldn't get to test other encoders as I don't have QSV.. Thanks :) This PR was the only reason I went to find out how to build OBS since for me and others it can be such an important feature.. ",
    "eszlari": "But please keep the build reproducible!. I know. You could replace the version string, but the date can't be a build timestamp.\nMultiple release entries are also possible:\n<releases>\n  <release version=\"23.0.2\" date=\"2019-03-08\"/>\n  <release version=\"23.0.1\" date=\"2019-XX-XX\"/>\n  <release version=\"23.0.0\" date=\"2019-XX-XX\"/>\n  ...\n</releases>. "
}