{
    "romainneutron": "Version 0.3 has this feature\n. fixed in #16\n. PHP ffmpeg requires PHP 5.3.3, available on every latest Linux distros\nRomain\nOn 16 juin 2012, at 15:56, matteosistisette\nreply@reply.github.com\nwrote:\n\nSorry for posting this here, but I can't find any forum nor mailing list. If one exists, I can't find any link to it.\nIs it possible to use this library without relying on Composer? I have php 5.1.6 so I can't install composer.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/alchemy-fr/PHP-FFmpeg/issues/8\n. Thanks, it's merged\n. Added in version 0.3\n. Thanks, i'll review it very soon.\nBTW, this should fix #7\n. Hello Robert !\n\nSorry for the late reply, but thanks for this work !\nI would like to take some time and improve the API before merging this cool feature :) \nI would prefer to define a general HelperInterface that would run parameted callbacks instead of expose the Process output.\nAdding helpers to a FFMpeg instance would be done like this : \n``` php\nuse FFMpeg\\Helper\\ProgressHelper;\n$ffmpeg->attachHelper(new ProgressHelper(function($percentage) {\n    echo sprintf(\"%f percent done\\n\", $percentage);\n}));\n```\nThe HelperInterface could look like this one\n``` php\nnamespace FFMpeg\\Helper;\ninterface HelperInterface\n{\n    public function registerCallbacks($callbacks);\n}\n```\nWhat do you think about this ?\nAre you interested in working on this ?\nTell me,\nRomain\n. This is clever !\n. Fixed in #75\n. Forget it, I was thinking about registering multiple callback per Helper, but it's not a good idea.\nThis PR is great.\nI've a question, what's the difference between the VideoProgressHelper and AudioProgressHelper ?\nWhat happens if I do such code ? it seems it would be the same.\nphp\n$ffmpeg->attachHelper(new AudioProgressHelper(function($percent, $remaining, $rate) {\n    // ...\n}))->open('video.mpg')\n    ->encode(new WebM(), 'file.webm')\n    ->encode($x264, 'file.mp4')\n    ->encode(new Ogg(), 'file.ogv')\n    ->close();\n. merged !\n. Thanks\n. Can you have a look at travis build and fix tests ?\n. Closing because of the lack of activity\n. Hello,\nI implemented it this morning.\nIf you update to the latest version (dev-master), you will now use this fast seek by default.\nnote : \n- Time can be in seconds or in hh:mm:ss[.xxx] form.\n- You can use the old version by explicitly ask for whole decompression : \nphp\n$ffmpeg\n    ->open('movie.mpg')\n    // third argument use the \"accurate\" option\n    ->extractImage(25, 'image.png', true)\n    ->close();\n. I'm sorry this is not possible as Phraseanet does not use PHP-FFMpeg, but Media-Alchemyst v0.1.\nAs Media-Alchemyst v0.1 does only support PHP-FFMpeg 0.1, it is not possible.\nPhraseanet 3.8 will support Media-Alchemyst v0.2 which will support PHP-FFMpeg 0.2 that will embed this functionality.\nFinally, you should ask for feature / enhancement / question in the right issue tracker, for instance https://github.com/alchemy-fr/Phraseanet/issues in this case\n. I'll take care of this very soon, thanks for the report\n. Hi @pulse00, it seems this issue has already been fixed in master, see https://github.com/alchemy-fr/PHP-FFmpeg/blob/master/src/FFMpeg/Helper/ProgressHelper.php#L159\n. Thanks !\n. I've not use the print_format option as it is available since ffmpeg 0.9. Latest ubuntu LTS only provides ffprobe 0.8.4.\nI want to ensure Ubuntu and other common linux distro support of this lib without a whole ffmpeg/avconv compilation.\nSo i think the easiest way to support this option would be to add a getVersion method on the abstract binary object that would return the ffmpeg / ffprobe version.\nWith this version getter, we could use the print_format option and provide the actual fallback for earlier versions.\nWhat do you think about this ?\n. @ak76 I've wrote two comments, if you can handle this, I'll merge the PR as soon as it's fixed\n. Closing as some improvements have been done in version 0.3\n. This is a design issue, I'll solve this in the next release\n. sure !\n. Great ! please fix the annotations I wrote and I'll merge that !\n. thanks !\n. released in version 0.2.1\n. For the record http://howto-pages.org/ffmpeg/\n. Closing this issue as version 0.3 has been released\n. I don't understand, is there an issue ?\n. If there's an issue, we better keep it open, no matter we got a solution or not\n. I'm gonna merge this tomorrow, just need a bit time.\nIn the meantime, could you provide some video sizes that produces errors ? \nI need Input dimensions, resize dimensions, expected output dimensions and current output dimensions.\nFor example : \ninput : 2,048\u00d71,536\nresized to : 1024 x 720\nexpected : 920 x 760\ncurrent PHP-FFMpeg output : 904 x 760 \n. Great ! thanks for the link, merge tomorrow !\n. Merged ! tweaked few things and added unit tests. Thanks for the work and the links !\n. Which version os Symfony Process component are you using ?\n. It seems related to the Symfony Process use, I'm thinking about process timeout ...  Is it happening after 60 seconds ?\n. I'm on a fix\n. This is fixed in PHP-FFmpeg 0.2.3, please read the related PR above, I've explained how to set timeout in documentation. Thanks for the report !\n. For the record, this is described here https://ffmpeg-php.readthedocs.org/en/latest/#process-timeout \n. You're welcome, thanks !\n. Thanks !\n. I just released version 0.2.4 that includes your patch\n. Hello,\nthanks for the PR. AFAIK, setting the timeout on the ProcessBuilder is enough to set the timeout on the generated Process.\nWhy this change would solve your issue ?\nFor the record, to symfony process timeout have been buggy for a long time, and only symfony 2.1.10, 2.2.x-dev and 2.3.x-dev (aka master) would work as expected\n. FYI, timeout handling in process has been fixed here https://github.com/symfony/Process/commit/f54332e6309545d344a754d7b4914911e07d48e4\n. We did not understand : I mean that AFAIK, your patch does not solve the issue you mention as the issue is in the older versions of the process component. You can set timeout either in the process builder or in the process object itself, it would result the same as the the timeout does not work properly.\nOr I am missing something ...\n. Closing this issue as the problem is solved\n. You are right, it's fixed ! Thanks !\n. Thanks !\n. Actually, timeout was always set to 60 seconds ; the issue occured in symfony/process where the timeout was never reached.\nIn 0.2.1, I added a timeout getter / setter and added a default value on constructor. The default value I set is the same as symfony/process.\nAs of symfony 2.2.2 and symfony 2.3 (and latest 2.1), the timeout is now working, that's why there's a problem.\nI'm not against increase this default value, but I'd rather be against set it to 0.\nWhat is the average length of your transcoding ? Is 900 (15min) or 1800 (30min) enough ?\n. you are right, thanks for the report.\nBtw, this is actually the 0.3.x-dev version you're checking. I strongly recommend you to use the latest 0.2.* version for production use\n. Please also note that documentation has not been updated for this new 0.3 version that is a complete rewrite of PHP-FFMpeg.\n. document has not been updated yet :)\n. Can you paste a snippet of code you use ?\n. Hello,\nPHP-FFMpeg does not require the FFMpeg extension, it uses ffmpeg commandline.\nHave you installed ffmpeg on the server you're running your script ?\nffmpeg provides few binaries, including ffmpeg and ffprobe. These binaries are required to use PHP-FFMpeg\n. You are absolutely right. Thanks for the report\n. Hello,\nAs of PHP-FFmpeg version 0.3.0, it is possible using FFProbe on local files : \nphp\n$ffprobe = FFMpeg\\FFProbe::create();\n$ffprobe\n    ->streams('/path/to/video/mp4') // extracts streams informations\n    ->videos()                      // filters video streams\n    ->first()                       // returns the first video stream\n    ->get('duration');              // returns the duration property\nI've just submitted #50 that allows to extract such informations from remote file (through HTTP for example)\n. #50 has been merged in master and will be released in upcoming version 0.3.1\n. Closed in favor of #52\n. Hello,\nFFProbe is required to get metadata from media. These metadata are used by FFMpeg.\nOn OSX, you can easily install ffmpeg and ffprobe with homebrew : \n. for any homebrew package, use brew options package to list the options, use the options you want.\nIn case of ffmpeg brew options ffmpeg\n. Please contact github if you experience any problem regarding project downloads\n. Hello !\nthanks for this job, this is really cool. Here are few notes about your proposal : \n- Please have a look a the latest changes I did in frame filters and rebase your work on this (the state of your PR is out of sync).\n- Please add unit tests for each of your new filters. PHP-FFMpeg is covered by number of tests, we need it to ensure a good karma :)\n- Please fix the code style according to PHP-FFMpeg one. I think using PHP CS fixer would solve most of what's currently wrong.\nFinally, you're proposing this on the master branch (0.4-dev). If you want your changes available in version 0.3, please open another PR against branch 0.3.\n. Re Hello,\nPlease open atomic PRs for each of the features you bring.\nThere are too many. I particularly think of the \"preview filter\" that is proposed in another way as \"clip filter\" (see #62)\nIt will be easier to merge what's easy, and discuss what's need some more thoughts.\nThanks again\n. I did not want to be rude, what I say is not about coding standards.\nI wrote about unit testing and Pull Request decoupling and sync your work with latest changes. \nI asked you to fix CS with a tool, yes, but most maintainers will ask you to do so because it's easier for a newcomer to explore a library with consistant code style, variable and method naming than exploring a mix of custom rules developers might have used.\n. Wow man, calm down. \nI'm not speaking of your rules ; I mean that by participating to an open project, you have to use the rules of the project, not yours.\nWhen I say \"a mix of custom rules\" I mean that If the project is using PSR-1 and a contributor use its own rules, then it starts to be fucked up.\nIf you don't feel comfortable with this, then forget any contribution to OSS.\n. Well, it might be an right-access error.\nWhat's the user used by nginx ? Does running the same command with this user works ?\nI mean, if nginx is run with \"www-data\" user and if www-data user does not have access to the resources used by nginx, it would fail.\n. Then, what do you think the problem is ?\n. Can you add a dump of $process->getOutput() and $process->getErrorOutput() ?\n. well, use print instead of var_dump, the error dump is not complete\n. Please try run the command as nginx user\n. Well, great,\nlet this issue open. I'm sure we can add something in the lib to avoid such error\n. Fixed in #67 , pass log files are now stored in a dedicated directory with PHP tmp directory (return value of sys_get_temp_dir)\n. For information, the patch will be released in PHP FFMpeg 0.3.5\n. Hello,\nA PR should focus on a single feature, it's impossible to work on such amount of changes.\nBy the way, you pushed your whole fork to PHP-FFMpeg, it's something you should not do as there are some changes I don't want to receive.\nPlease open atomic PR containing a single feature (a filter or a fix)\n. ping @lboynton \n. Thanks ! this is good. Can you fix code style with PHP CS Fixer (see http://cs.sensiolabs.org/) ?\nPlease open the PR against branch 0.3 to get this released in the next 0.3 version\n. Well, I need some more time to think about this one. \nI first thought about doing such clips in the Video core itself : \nFFMpeg\\Media\\Video::cut(TimeCode $from, TimeCode $duration) would update the object to save the clip itself and FFMpeg\\Media\\Video::extract(TimeCode $from, TimeCode $duration) would do exactly the same, except it would return a new object (nice for extracting multiple sequences)\n. Merged\n. I'm merging this as a workaround, waiting having time to implement this feature at lower level (implementing this at filter level does not seem the best for me)\n. I close this one as it's full desynchronized with the master (see commit list), I keep #62 that I could manually merge in 0.3\n. Do you have installed FFMpeg and FFProbe ?\nHave you registered the path to FFMpeg binary folder in your system Path ?\nPlease understand what's happening here, it's exactly the same issue as #45. You wrote that \"that issue didn't actually present any working solution\" : That's normal, it's a system configuration issue.\n. I've added some notes https://github.com/alchemy-fr/PHP-FFmpeg/commit/088eb5a8010c1a8f114ca5d4a4a14e1b77828d9a\n. This is actually not an issue\n. This should fix #4\n. There is currently no support to open multiple streams as input in PHP-FFMpeg.\nOtherwise, it is possible using a custom VideoCodec to copy settings from source.\nLet me think about how we could handle this\n. Hello, \nI don't know if I understand your use case correctly.\nThis feature should not be necessary if you're using a queue and let workers do the job for you. Have a look at Bernard PHP (http://bernardphp.com) that does such job\nYou should not have to transcode video when the user uploads it, it's a bad practice and could be harmful for your server : if an attacker wants to kill your server, he just has to send many videos to produces a high CPU load.\nIf this is not your use case, let me know\n. Closing this issue due to lack of activity, tell me to reopen if needed\n. Using the codecs , you can specify the bitrate : \nOn a video codec : \nphp\n$codec = new FFMpeg\\Format\\Video\\X264();\n$codec\n    -> setKiloBitrate(1000)\n    -> setAudioKiloBitrate(256);\nOn a audio codec : \nphp\n$codec = new FFMpeg\\Format\\Audio\\Mp3();\n$codec\n    -> setAudioKiloBitrate(256);\nDoes it answer your question ?\n. Hello, \nI'd encourage you to use a dedicated image library to do so. https://github.com/avalanche123/Imagine is suitable for this.\n. Yes, there's currently no support for resizing an image.\n. Closed in favor of #75\n. Yeah ! indeed !\nFork from branch 0.4 and pull request on it.\nI'm working on php-ffmpeg these days, don't worry if you don't have enough time, I'll take care of it\n. I've merged a pactch that should fix your issue.\nYou can try it by using latest 0.4.x version : \njson\n{\n    \"require\": {\n        \"php-ffmpeg/php-ffmpeg\": \"0.4.x-dev@dev\"\n    }\n}\nLet me know if it's okay for you. It would be available in the next stable release, 0.4.2\n. Weird, I'm running almost the same conf (OSX w/ ffmpeg 1.2.4) and everything is okay. \nIs the command /usr/local/bin/ffprobe '-help' '-loglevel' 'quiet' running correctly manually ?\n. run echo $? to get the exitcode of the last run command ;) it should write 0.\nAre you running your script through the commandline or a webserver ?\n. I've updated your script (fix some syntax errors and add a logger)\nCan your run this script in the commandline ?\n``` php\nrequire DIR . '/vendor/autoload.php';\n$config = array(\n 'ffmpeg.binarie' => '/usr/local/bin/ffmpeg',\n 'ffprobe.binaries' => '/usr/local/bin/ffprobe',\n 'timeout' => 3600,\n 'ffmpeg.threads' => 12,\n);\n$logger = new Monolog\\Logger('test');\n$logger->pushHandler(new Monolog\\Handler\\StreamHandler('php://stdout'));\n$ffprobe = FFMpeg\\FFProbe::create($config, $logger);\n$file_path = 'tests/files/portrait.MOV';\n$file_info = $ffprobe\n  ->streams($file_path)\n  ->videos()\n  ->first()\n  ->get('duration');\n```\n. Definitely, a webserver does not provide the same environment as the CLI.\nLet's try in the CLI. If it works, we'll find out why it fails with the webserver\n. then the issue comes from the webserver. I don't know MAMP, but you can now try to run this script through the server and show me the output\n. maybe it's about the right to execute ffprobe. Which user runs the webserver ?\n. Is your issue solved ?\n. yep, that's right, it's ffmpeg.binaries\nIf you don't provide a correct path, ffmpeg will try to locate an installed version of the executable. As yours is in /usr/local/bin, it's automatically detected.\nWhat does the webserver test output ?\n. Hello,\nwe're running /usr/local/bin/ffprobe '-help' '-loglevel' 'quiet' to detect which commands are supported by ffprobe. Older versions do not support the json output format. In this case, PHP-FFMpeg parses ffprobe custom output.\nWith the latest homebrew version (2.1.3) you should not experience this problem.\nI suppose you have a problem with your environment variables and/or lib configurations. You should not have to provide ffmpeg.binaries or ffprobe.binaries options in case these programs are located within your PATH\nYou can test FFProbe with a logger to get the command runs : \n``` php\n$logger = new \\Monolog\\Logger('test');\n$logger->pushHandler(new \\Monolog\\Handler\\StreamHandler('php://stdout'));\n$ffprobe = \\FFMpeg\\FFProbe::create(array(), $logger);\nvar_dump($ffprobe->streams($pathToMediaFile));\n```\n. @lukedanielson sorry for the late reply, this is indeed an error in your setup.\nOn your linux you get an error : \nArray\n(\n    [0] => ffmpeg version 0.8.6-4:0.8.6-0ubuntu0.12.04.1, Copyright (c) 2000-2013 the Libav developers\n    [1] =>   built on Apr  2 2013 17:02:36 with gcc 4.6.3\n    [2] => *** THIS PROGRAM IS DEPRECATED ***\n    [3] => This program is only provided for compatibility and will be removed in a future release. Please use avconv instead.\n    [4] => Use -h to get full help or, even better, run 'man ffmpeg'\n    [5] => Hyper fast Audio and Video encoder\n    [6] => usage: ffmpeg [options] [[infile options] -i infile]... {[outfile options] outfile}...\n    [7] => \n)\nBecause you've hardcoded the path. On latest ubuntus, you should use avconv binary instead of ffmpeg\n. I would love to get rid of these errors. If you find the source of this bug, I'd add some test to prevent this error to show up\n. Hello,\nYou should extend the x264 codec to use libfdk_acc. It's quite easy, have a look at the codec code. \nIf you don't manage to get this work, ping me again\n. Just extend https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/master/src/FFMpeg/Format/Video/X264.php and override X264::getAvailableVideoCodecs()\n. Thanks for reporting this issue.\nTo avoid timeouts, you can set a timeout to 0 using the option when instancing ffmpeg: \nphp\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n    // ...\n    'timeout'          => 0, // The timeout for the underlying process\n), $logger);\nI'll dig to properly fix the issue you mentioned (the underlying ffmpeg process is not properly stop)\n. Hello,\nI suppose this is due to a wrong duration detection... Could you provide a\nsnippet of code that does not work with the erroneous file ?\nplease also give me the platform, version, ffmpeg version\nI'm AFK till the end of the week, but I'll check this when I come back\nThanks !\nRomain\nOn 24 mars 2014, at 10:31, Chris Chacholiades notifications@github.com\nwrote:\nI am developing an application with laravel and I am using php ffmpeg to do\nmultiple things, probe, extract frame and encode. I am having an issue with\ncreating a frame from the uploaded video file.\nThis is how I am creating the frame:\n$video = $ffmpeg->open($destinationPath.'/'.$filename);\n$video\n        ->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(10))\n        ->save(public_path().$frame_path);\nThis is sometimes working and other times not. I noticed that this bug\ncomes up when I am trying to open a .mov file.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/87\n.\n. it's probably due to a timeout, have you tried to run it with a timeout equals to 0 ? (see timeout option in https://github.com/PHP-FFMpeg/PHP-FFMpeg#ffmpeg)\n. humm, it seems to be about the pass files (49% is when it moves from a file to another)\nWhen the exception is thrown, the command line is run is available, have you tried to run it manually ?\n. then exception that is thrown might be an Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException, if you print $exception->getMessage(), you will get the commandline that failed\n. run it manually, it's probably about reading the passfile\n. cool you managed to do the job.\nI'll work on a proper debugger soon (see #94), but you can have an insight about what's wrong with such code:\nphp\n$ffmpeg = \\FFMpeg\\FFMpeg::create();\n$ffmpeg->getFFMpegDriver()->listen(new \\Alchemy\\BinaryDriver\\Listeners\\DebugListener());\n$ffmpeg->getFFMpegDriver()->on('debug', function ($message) {\n    echo $message.\"\\n\";\n});\n$video = $ffmpeg->open($source);\n$video->save(new \\FFMpeg\\Format\\Video\\X264(), $target);\n. It might be a lack of support of codecs. Try to run the commandline by yourself and read ffmpeg output\n. It's actually true that too much save options are hardcoded, we've to them in codecs\n. Hello, \ntmpfile returns a file resource, not the filename. Video::save second parameters is a string.\nThat's why you get this error.\nTry the following code, it should solve your issue\n``` php\n        $ffmpeg = \\FFMpeg\\FFMpeg::create();\n        $video = $ffmpeg->open((string) $file);\n    $video\n        ->filters()\n        ->resize(new \\FFMpeg\\Coordinate\\Dimension(640, 480))\n        ->synchronize();\n\n    $mp4tmp = tempnam(sys_get_temp_dir(), 'mp4');\n    $webmtmp = tempnam(sys_get_temp_dir(), 'webm');\n\n    $video\n        ->save(new \\FFMpeg\\Format\\Video\\X264(), $mp4tmp)\n        ->save(new \\FFMpeg\\Format\\Video\\WebM(), $webmtmp);\n\n```\nSee documentation of the tempnam function http://www.php.net/manual/en/function.tempnam.php\n. I'm thinking about merging these extras to the core as it's not a feature that is difficult to maintain. Please submit in this repo, thanks for your participation :)\n. See #90\n. thanks !\n. Hello,\nthere is currently no tool to do that in PHP-FFMpeg.\nHowever, you can have a look at https://github.com/alchemy-fr/Media-Alchemyst/blob/master/src/MediaAlchemyst/Transmuter/Video2Image.php and https://github.com/alchemy-fr/Media-Alchemyst/blob/master/src/MediaAlchemyst/Transmuter/Video2Video.php that does what you're looking for\n. It could be easily achieved using a custom filter\n. There is no current support for this. I'd rather prefer a stream support\n. Hello,\nThere is no support for using PHP-FFMpeg without composer. As this library depends on other package, you have to use composer to use it.\n. Could you submit a PR ?\n. nice !\n. ping @nlegoff \n. Thanks for this work ! merged !\n. Thanks\n. :+1: \nCould you please fix the code style using PHP CS fixer so I could merge this one ?\n. Merged ! Thanks !\n. Please open this issue in the correct one\n. Merged ! Thanks !\n. This has been addressed in #115\n. php\n$ffprobe = FFMpeg\\FFProbe::create();\n$dimension = $ffprobe\n    ->streams('/path/to/video/mp4') // extracts streams informations\n    ->videos()                      // filters video streams\n    ->first()                       // returns the first video stream\n    ->getDimensions();              // returns a FFMpeg\\Coordinate\\Dimension object\n. Why not just moving the current filter to the audio namespace ? Audio filters can be applied on videos\n. Not related to this library\n. You can use the SimpleFilter to do so\n. Have you tried this way, as mentioned in the README?\nphp\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/opt/local/ffmpeg/bin/ffmpeg',\n    'ffprobe.binaries' => '/opt/local/ffmpeg/bin/ffprobe',\n));\n. Hello,\nThis is not currently possible. I'd have to work on it but I currently don't have time :/\n. You can't just copy/paste code like this, we need to find a better solution\n. What about moving the logic in a AbstractResizeFilter in the Filter namespace?\n. That's absolutely right, it needs some love there\n. Hi guys,\nI'm quite open to pull requests, see the changelog that mentions contributors. If you don't believe me, see contributors page (https://github.com/PHP-FFMpeg/PHP-FFMpeg/graphs/contributors)\nI feel a bit annoyed by users that promote their forks instead of pushing up things. Given the time I spend on writing and maintaining this library, solving issues I don't have and implementing features I did not need, I definitely think this kind of behavior is rude.\nYou may think that building an over-engineered library is fun and easy to maintain. \nIt took me a lot of time to write this library. And you know what? It did the job I was expecting :)\nIf you see any change that could improve this library, I'm very open to pull requests.\nUnfortunately, my life is quite busy now, and I don't have time to accept new feature that I should maintain (that's why some feature pull requests are still open). However, your help to review, test them is more than welcome.\nConcerning patch on the existing feature, they're mostly accepted. So, if you want to fix this in a proper way, you can propose patches.\nLast but not least, If you really need a patch to be included in this library but it take some time, you can use Composer custom repositories in the meantime (https://getcomposer.org/doc/05-repositories.md#loading-a-package-from-a-vcs-repository)\nFor the sake of Open Source, please contribute, think twice before posting comments, contact the author, participate in the library elaboration. \nThanks.\n. I'm sorry, this is definitely not related to PHP-FFMpeg. Using workers to execute jobs asynchronously using a broker is indeed the right way to use this library, however, there are so many ways and resources on the internet, I recommend you to find out on google by yourself\n. @nlegoff Have you reviewed this one?\n. Thanks!\n. Sorry for the delay, thanks !\n. It's supported in the latest version.\n. Thanks!\n. Thanks!\n. Wow ! such a PR !\nIt's a very big one. Unfortunately, it's not mergeable now :(\n. Please consider add your PR introduction text to the readme\n. It's the right way\n. try to run \n'/usr/bin/ffmpeg' '-y' '-i'\n'/var/www/clemweb/public_html/ffmpeg/dexter.avi' '-async' '1'\n'-metadata:s0' 'start_time=0' '-s' '50x40' '-vcodec' 'libx264' '-acodec'\n'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40'\n'-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp'\n'0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '256k' '-ac' '2' '-pass' '1'\n'-passlogfile' '/tmp/ffmpeg-passes54ca312d7bcd63na03/pass-54ca312d7c0c1'\n'video.avi''\nin your terminal\n. You should probably ask google \n. I've merged two of your commits. Your change on json_decode is wrong, it does not throw any exception.\nThanks !\n. Please check composer https://getcomposer.org/\n. Please give me the link, I don't know what you're talking about\n. Fixed in #257. Hello @Romain and @jens1o \nI just granted @jens1o merge access to these repos.\nPlease be sure to merge code when tests are green, never push force to master, and wait for reviews whenever it's possible.\nI trust both of you on loving this code.. I'd recommend to fork alchemy/binary driver in the FFMPeg org. would you like that I do it ?. It's been forked here https://github.com/PHP-FFMpeg/BinaryDriver/\nYou should be able to push in this repo. Please use brackets, multiline alignements\n. Why is it commented ? \n. Why not caching this output ?\n. why not caching this ?\n. Should'nt it be $timeout ? ;)\n. please use Integer rather than number\n. I'd prefer an explicit cast instead of calling the magic method like (string) $this->start\n. This should not be in this class but in the codec itself\n. null !== $width && null !== $height\n. right ?\n. please revert this change\n. Let's add an array $filters = array() arguments instead\n. Missing php open tag. ",
    "Romain": "Documentation. Hi @romainneutron,\nCould you point me to the FFMPEG documentation which refers to this feature?\nThanks. Hi @romainneutron,\nCould you tell me more about what you had in mind with this feature?\nIt seems that the documentation evolved and that your link is dead.\nThanks. I think that the getKiloBitrate() function is what you were looking for.. Thanks @Purus for this contribution.\nRegarding the age of this issue, I'll close it for now.\nIf anyone has a similar issue, please open a new one.. @zinzinday Have you managed to solve your issue?\nIf no, what is your environment? OS, FFMPEG version, etc.... @Tinywan What is this? Could you add some description to your command?\nIf you have an issue, please create a new one.. Hi @shtse8,\nThis issue is pretty old, and doesn't relate specifically to watermarking.\nCould you create a new one pasting the error throwed, your piece of code, and the result of the execution of the command line if you have it, so that we can help you debug your code?\nThanks. I managed to open a 1Gb file.\nI think this issue is no more relevant.. @romainneutron Don't you think we should close this PR?. I don't see the difference with the Frame filter.\nI think we should just close this PR since it hasn't been updated for a long time.. See issue #262 and PR #215.. If I'm right, the command to clip audio is ffmpeg -ss 10 -t 6 -i input.mp3 output.mp3.\nYou could try to use the video clip filter: \nphp\n$video->filters()->clip(FFMpeg\\Coordinate\\TimeCode::fromSeconds(30), FFMpeg\\Coordinate\\TimeCode::fromSeconds(15));\nLet me know if it works for you.. Thanks for this work @taylorvc.\n@swordsreversed pushed a PR #240 which does the same.\nHowever your code adds 2 parameters which may be interesting.. It looks good to me too.\n@hanserdev Could you update your branch with the latest master?\n@romainneutron I think this is mergeable, don't you think?. @jens1o, I cannot do it.\nI need @hanserdev to update his branch with master first.\n\n. Yep.... This question has been duplicated in issue #217 with more details.. @romainneutron Shouldn't we close this PR?\nI think we already have a resize filter.... For now, I would recommand to use the new additionalParams filter to pass the \"-sn\" option.\nI wouldn't guarantee it will work, but refering to this section of the doc, my guess is that it's the proper option.\nSince your project is on hold and you didn't provided more information on how to do this with the command line, I'll close this issue for now.. @jens1o I don't think that there is anything new here.\nCould you create a PR with a new method allowing the user to save the file into multiple outputs in one request?. Thanks @jens1o . @romainneutron, shouldn't we close this PR?\nIt hasn't moved since more than a year + it doesn't pass the tests.... Hi @spearmootz,\nThanks for this feedback.\nCould you create an issue with the parameters you would need? I will consider creating a filter.\nThanks\nRomain. A doc has already been generated using SAMI.\nCould we update it this way?\nIt would be great to share the SAMI config file, therefore, each person submitting a PR could update the doc accordingly.\n. The code looks good to me.\nShouldn't we write any tests though?. @alexwybraniec In order to validate this PR, could you write the tests that correspond to this feature?\nThanks\nRomain. Hi @alexwybraniec,\nYou could take in exemple what has been done for other filters, like the SynchronizeFilter.\nLook at the tests/Unit/Filters/Video/SynchronizeFilterTest.php file for instance, and create a new one on the same model.\nLet me know if you struggle.\nR. @jens1o, if you have time to write the tests, yes, please.\nI'll try to have a look at your other PRs.. I created a PR on @alexwybraniec repo with a fix to the conflict.\nCould you update your PR please, so I could squash and merge this one?\nThanks\nRomain. PR #366 fixes this in a nice and simple way.. Hi @illmatic,\nCould you be more specific on what this command does?\nThanks\nRomain\n. Hi @illmatic,\nHave you tried breaking down the request into a succession of actions, like below?\n```php\n$ffmpeg = \\FFMpeg\\FFMpeg::create();\n// Open your video\n$video = $ffmpeg->open('/path/to/video');\n// Resize it and crop it\n$video\n        ->filters()\n        ->resize(new FFMpeg\\Coordinate\\Dimension(225, 150), 'inset')\n        ->crop(new FFMpeg\\Coordinate\\Point(37, 0), new FFMpeg\\Coordinate\\Dimension(150, 150))\n        ->synchronize();\n// You need here to define which frame you want to get. \n// This strings is composed as follows: 'days:hours:minutes:seconds.frames'. \n// If I understand your request correctly, you want to add 4 frames to a quarter of second. Lets consider that a second contains 24 frames, this is worth 6 frames + 4 which makes 10 frames.\n$frame = $video->frame(FFMpeg\\Coordinate\\TimeCode::fromString( '0:0:0:0.10' )); \n$frame->save( '/path/to/preview.png' );\n```\nLet me know if this works for you. I haven't tried it, but I think it may look like what you're looking for.\nRomain. Hi @illmatic,\nHave you managed to try the code I sent to you?\nIs this issue still valid?. Ok, I'll just close this issue then.\nIf at some point you can try this code, and think it's not relevant, just reopen it.. This issue should be closed, no?\n. Hi @sethtroisi,\nI would surely help. If you could, it would be great.\nThanks. @Ninos Did you manage to find the solution?. Hi @Ninos,\nI think I got it.\nYou're trying to use a float as seconds. Here is what PHP-FFMPEG does when you initialize this:\n```php\npublic function __construct($hours, $minutes, $seconds, $frames)\n    {\n        $this->hours = $hours;\n        $this->minutes = $minutes;\n        $this->seconds = $seconds;\n        $this->frames = $frames;\n    }\npublic function __toString()\n{\n    return sprintf('%02d:%02d:%02d.%02d', $this->hours, $this->minutes, $this->seconds, $this->frames);\n}\n\n```\nThis will lead  to hh:mm:0.25.00 (replace hh:mm with whatever you want). This makes no sense.\nCould you try this instead?\nphp\n$video = $ffmpeg->open( $file );\n$video\n    ->frame( FFMpeg\\Coordinate\\TimeCode::fromString( \"00:00:00:00.25\" ) )\n    ->save( 'frame.jpg' );. @sethtroisi no problem.\nGlad you found the solution to your problem.\nI think we should stick with the initial issue from @Ninos here.\nIf you encounter any issue, please create a new one.. As far as I know, you won't be able to do it using this library.\nI think this should be a feature request.\n. @sm2017, I just created a pull request: #253 \n. Hi @jamesgraham,\nI'm waiting for the PR to be approved.\nFor now, I've got no answer from @romainneutron or @patkar.\nThe method generates a PNG.. This PR has been merged.\nI close this issue.. @sm2017, what I would do is:\n- get the length of the video in seconds\n- pick a random integer between 1 and the length of your video\n- extract an image using this integer as pointed out by @David-Crty \n- resize the image using an image library.\n. Hi @sm2017 ,\nHave you tried what I recommended to you?\nIs this question still valid or could I close it?. Hi @swordsreversed,\nThe code looks good, but shouldn't you write tests, too?\nI think this would be a good complement to this pull request.\nI think you should also update the documentation.\n. @dubems No. Please read @romainneutron's comment.\nYour code lacks a php tag. Your code won't be merged until you apply these changes.\nMoreover, to my opinion, you should write tests for this filter.\nFinally, as a follow-up to my comment on issue #147, I'm wondering if the video clip is not already the solution.... Thanks for this change.\nThe tests are here to guarantee the stability of the bundle. Without them, this won't probably be merged.\nI hear your point with regards to the readability of the filter and that it is counter-intuitive to use the video one for audio.. @swordsreversed, @taylorvc provided code for a filter which is the same as yours in issue #147.\nHe added 2 parameters to his request, which prevent the video to be re-encoded. I think that it may be interesting to edit your PR accordingly.\n```php\n    public function apply(Audio $audio, AudioInterface $format)\n    {\n        $commands = array('-ss', (string) $this->start);\n    if ($this->duration !== null) {\n      $commands[] = '-t';\n      $commands[] = (string) $this->duration;\n    }\n\n    $commands[] = '-acodec';\n    $commands[] = 'copy';\n\n    return $commands;\n}\n\n```. @jens1o, I'm not eager to merge a PR into master which hasn't tests written. This wouldn't be sustainable for the bundle, there are too much risks too introduce bugs.\n@swordsreversed Could you please post here your the files that you created and/or modified so that @jens1o can integrate them into his fork and push a new PR with the tests?\nThanks. Hi @mehran-prs,\nI think you'll need to encode the video for each of these formats.\n``` php\n// Step 1\n$ffmpeg = FFMpeg\\FFMpeg::create([\n        'ffmpeg.binaries'  => '/path/to/ffmpeg'),\n        'ffprobe.binaries' => '/path/to/ffprobe'),\n        'timeout' => 3600,\n        'ffmpeg.threads'   => 1,\n], $logger);\n// Step 2\n$video = $ffmpeg->open( $full_video_path );\n// Step 3\n$format_x264 = new FFMpeg\\Format\\Video\\X264();\n$format_x264->setAudioCodec(\"libmp3lame\");\n// Step 4\n$video_ffmpeg\n        ->filters()\n        ->resize(new FFMpeg\\Coordinate\\Dimension($desired_width, $desired_height))\n        ->synchronize();\n// Step 5\n$video_ffmpeg\n        ->save($format_x264, $upload_path . '/' . $output_video);\n```\nRepeat steps 4 and 5 for each format...\nLet me know if this helps.\nRomain\n. Hi all,\nI've created a pull request to allow users to do it programmatically: #251 \nI think this answers the question.\n. This PR has been merged.\nI close this issue.. Hi @theDTD,\nAs far as I know, FFMPEG allows concatenation, but this feature is not implemented in this library (or I haven't seen it).\nI think this may be a feature request. With regards to your description, I think that the concat protocol is the one appropriated to what you want to do, but in order to get library persistent with what FFMPEG offers, I think we should implement both.\nI'll work on a Pull Request if I have some time.\n. I re-read your feature request.\nThis is slightly different from concatenation since you want to read both videos at the same time.\nI'm not sure how to do it. Do you have any idea on how to do it through the command line?. Thanks @theDTD.\nI will try to look at it. I'm currently working on the concatenation feature. This will come afterwards.. @h3242749, any news on this side?\nHave you tried @matrunchyk advice?. Since the problem seemed to happen at the beginning of the second pass, I tried to encode the video in only 1 pass, changing the getPasses value in Format/Video/X264.\nThis didn't solve the problem, here's the error I get when I do that: \n\nffmpeg failed to execute command '/usr/bin/ffmpeg' '-y' '-i' '/opt/nginx/encoding/web/uploads/c507669ca6/236b4bd5db57421b86fb9488fcd9b2a9240aeb3c.m4v' '-async' '1' '-metadata:s:v:0' 'start_time=0' '-s' '1280x720' '-threads' '1' '-vcodec' 'libx264' '-acodec' 'libmp3lame' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '/opt/nginx/encoding/web/uploads/c507669ca6/236b4bd5db57421b86fb9488fcd9b2a9240aeb3c-converted.mp4'\n\nHowever, if I try to run this command manually doing \n'/usr/bin/ffmpeg' '-y' '-i' '/opt/nginx/encoding/web/uploads/c507669ca6/236b4bd5db57421b86fb9488fcd9b2a9240aeb3c.m4v' '-async' '1' '-metadata:s:v:0' 'start_time=0' '-s' '1280x720' '-threads' '1' '-vcodec' 'libx264' '-acodec' 'libmp3lame' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '/opt/nginx/encoding/web/uploads/c507669ca6/236b4bd5db57421b86fb9488fcd9b2a9240aeb3c-converted.mp4'\nIt's converting.\nI've absolutely no clue what could be the problem.\n. I'm still trying to narrow down the problem.\nI tried to encode a file which was lighter but whose video lasted longer (~400Mo instead of ~1Go, but 50' instead of 30'). The problem occurs as well.\nCould this be related to the length of the video?\n. Reading the issue #90,  I realized it may be a problem of timeout and indeed it was.\nI suggest that, when the encoding times out, it logs a specific error therefore we can easily understand that this is the issue.\n. @matrunchyk Thanks for approving the changes.\nDo you have the ability to merge this request?\n. Thanks for your reply.\nI have also posted another pull request which implements the waveform feature. Feel free to let me know what you think about it.\n. @patkar, any comment regarding this PR?. Hi @jens1o,\nHave you tried something like this?\n```\n$ffmpeg = FFMpeg\\FFMpeg::create([\n        'ffmpeg.binaries'  => '/path/to/binaries', // the path to the FFMpeg binary\n        'ffprobe.binaries' => '/path/to/ffprobe/binaries', // the path to the FFProbe binary\n        'timeout' => 3600, // the timeout for the underlying process\n        'ffmpeg.threads'   => 1,   // the number of threads that FFMpeg should use\n], $logger);\n// Open the video\n$video = $ffmpeg->open( $full_video_path );\n// Set the formats\n$output_format = new FFMpeg\\Format\\Audio\\Mp3(); // Here you choose your output format\n$output_format->setAudioCodec(\"libmp3lame\");\n$video->save($output_format, '/path/to/output/file');\n```\nI haven't tried it, but my guess is that it may be a solution.\nLet me know.\n. You're welcome.\nLet me know if it works for you.\n. You're welcome, glad it works. ;)\n. Hi @nvtiencom,\nIf I'm right, FFMPEG allows you to encode a video with no sound, using the -an option (see this post).\nHowever, this bundle has no feature implemented which would let you add this to the request.\nI think this should be a feature request.\nIf I have any chance to work on this anytime soon, I'll let you know.. Any comment regarding this PR?. Hi @travoliti,\nHave you tried to use the MP4 created to generate the webm?\nThis could be a workaround...\nRomain\n. @travoliti, I agree.\nAs I said, this is a workaround.\nI've no clue why this doesn't work this way, we will have to work on this.. Hi @travoliti,\nThanks for this follow-up.\nWe will investigate on the issue #269 and get back to you as soon as we have more information.\nIf you wanna help improve the VP9 support in this library, feel free to submit a PR.\nR. Ok, thanks for this feedback.\nYou may want to use the setAdditionalParameters function of the DefaultVideo format to do this.. Hi @misterkek,\nTo my knowledge, at the moment, you can only convert your file to MP3, Wav, Flac, Aac and Vorbis.\nCan you confirm to me that PCM is another codec and that you would need this library to be extended in order to support this format?\nThanks\nRomain. @misterkek, I'll try to work on a PR in the next few weeks.\nHowever, I've troubles reaching out to the bundle owners to make them approve it, I'm not sure a new PR would have more chances to be merged.... Hi @huyvh19,\nWhy don't you include your library like below in your Controller, instead of requiring bootstrap.php?\nuse FFMpeg;\nCould you provide more of you code in order for us to figure out what's wrong in it?\nThanks\nRomain. Hi @huyvh19,\nOne more time, why don't you include your library like below in your Controller, instead of requiring bootstrap.php?\nuse FFMpeg;\nCan you confirm to me that you are in a Controller in Symfony?. Are you using Symfony for your project?\nOr, at least, Composer to deal with this library?. I've never used Laravel, but my guess is that this library should be used the same way than with Symfony.\nCould you try using this snippet instead of your code:\n```php\nuse FFMpeg;\n$logger = new Monolog\\Logger('test');\n$logger->pushHandler(new Monolog\\Handler\\StreamHandler('php://stdout'));\n$config = array(\n'ffmpeg.binaries' => '/usr/local/bin/ffmpeg',\n'ffprobe.binaries' => '/usr/local/bin/ffprobe',\n'timeout' => 3600,\n'ffmpeg.threads' => 12,\n);\n$ffprobe = FFMpeg\\FFProbe::create($config, $logger);\n$file_path = '/Sites/Demo/php-ffmpeg/tests/files/test.mp4';\n$file_info = $ffprobe\n->streams($file_path)\n->videos()\n->first()\n->keys();\nvar_dump($file_info);die;\n```\n. @huyvh19 Have you solved your problem?\nHave you tried what I suggest?. Thanks @huyvh19 !\nTherefore, I close this issue.. Hi @jamesgraham,\nI'm not sure you can do it for now.\nI'll tag this as a feature request.. Hi @joyebright,\nHave you found a solution for this issue?\nShould we close it?. @joyebright can you tell us how you installed FFMPEG? Was is using apt-get?\nIf yes, could you try to install it using the compilation guide?. @joyebright, can you try to reinstall it using the compilation guide?\nIt frequently solves problems.\nIf you also have any trace or log to provide, it would be helpful.. The doc has been initially generated using SAPI.\nIt should be regenerated to update it.\nI would be great if we could have the default SAPI config file.. Pull request #215 fixes this.. Hi @pbaheti,\nCould you try this and let me know if it solves your problem?\nphp\n$video = $ffmpeg->open($videoFile);\n$video\n    ->filters()\n    ->resize(new FFMpeg\\Coordinate\\Dimension(320, 240))\n    ->synchronize();\n$frame = $video->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(1));\n$frame->save('C:\\wamp64\\www\\woc\\image_bucket\\thumbnail\\\\'.$thumbnailFileName);\nReplace the dimensions with those you want.\nR\n. Could you give us the errors you got?. > How do I see the command that php-ffmpeg is generating?\nYou can find it in the logs.\n\nif I use 'use FFMpeg;' in my PHP header I'll get 'The use statement with non-compound name 'FFMpeg' has no effect'.\n\nHow have you installed FFMPEG? Using composer? If yes, is your autoload file properly required? What is the framework your using?\nCould you provide us more details about your environment?\nThere's no reason for the use statement to not be properly interpreted, and there's no reason to use FFMpeg\\Media instead.... Hi @bizilliam,\nThanks for these details.\nCould you look in your logs for the ffmpeg command that is being executed? Could you try to execute it manually, and copy-paste it here, with the error message you get, if you get one?\nI don't know Yii nor Vagrant, so for the moment, the only thing I can do to help you is trying to figure out what is the reaction of FFMPEG.. Hi @boomuo,\nHere is the way to get this information:\n```php\n$ffprobe = FFMpeg\\FFProbe::create();\n$video_dimensions = $ffprobe\n    ->streams( $full_video_path )   // extracts streams informations\n    ->videos()                      // filters video streams\n    ->first()                       // returns the first video stream\n    ->getDimensions();              // returns a FFMpeg\\Coordinate\\Dimension object\n$width = $video_dimensions->getWidth();\n$height = $video_dimensions->getHeight();\n$duration = $ffprobe->format( $full_video_path )->get('duration');\n// This is in the main doc...\n$ffprobe\n    ->streams($full_video_path) // extracts streams informations\n    ->videos()                      // filters video streams\n    ->first()                       // returns the first video stream\n    ->get('codec_name');            // returns the codec_name property\n```\nThanks to let me know if this solves your question.. If you think that there are differences between the library and the command line, the best way to test it is to mesure the time your script takes to run, to take the exact command line executed by the script from the logs, and to execute it measuring as well the duration.\nIf you still think this is an issue, please open a new ticket.\nWith regards to the screenshots, everything is explained in the doc here: \nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg#extracting-image\nincluding the resize options:\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg#extracting-image\nPlease read the doc first.\nThanks. Looks good to me.\n@romainneutron, could you double check? This would be my first merge, I don't want to screw up everything.. Could you rephrase this in proper english?\nI don't get what you mean exactly.. Hi @aziev,\nCould you try using a string instead of the const?\nphp\n$video->filters()\n    ->resize(new \\FFMpeg\\Coordinate\\Dimension(640, 360), 'inset')\n    ->synchronize();\nI'll try to see on my side why this doesn't work.... Thanks for this feedback.\nI've tried this filter on my side, it works great:\n```php\n$ffmpeg = FFMpeg\\FFMpeg::create([\n            'ffmpeg.binaries'  => $this->container->getParameter('ffmpeg_ffmpeg_path'), // the path to the FFMpeg binary\n            'ffprobe.binaries' => $this->container->getParameter('ffmpeg_ffprobe_path'), // the path to the FFProbe binary\n            'timeout'          => $this->container->getParameter('ffmpeg_timeout'), // the timeout for the underlying process\n            'ffmpeg.threads'   => $this->container->getParameter('ffmpeg_threads'),   // the number of threads that FFMpeg should use\n], $logger);\n$video = $ffmpeg->open('/path/to/test.mp4' );\n$video\n            ->filters()\n            ->pad(new FFMpeg\\Coordinate\\Dimension(300, 300), \\FFMpeg\\Filters\\Video\\ResizeFilter::RESIZEMODE_INSET)\n            ->synchronize();\n    $video\n        ->save(new FFMpeg\\Format\\Video\\X264(), '/path/to/test-resized.mp4');\n\n```. Hi @paq85,\nYes, RESIZEMODE_FIT intends to resize a video to a specific resolution.\nCould you point me to the FFMPEG doc of the filter you're talking about? I've been browsing it but with no luck. I'd like to compare it to what the actual FFMPEG Resize filter does, to understand the differences between both.\nThanks. @romainneutron, @patkar,\nSince I wrote this feature, could one of you review it?\nThanks\nRomain. I've got a question with regards with the test.\nWhen I use locally getMock, I get this warning:\n\nPHPUnit_Framework_TestCase::getMock() is deprecated, use PHPUnit_Framework_TestCase::createMock() or PHPUnit_Framework_TestCase::getMockBuilder() instead\n\nBut then, the tests fail on Travis, which says that createMock doesn't exist.\nDo you guys have any idea why we have this inconsistency between local environment and Travis?. It seems rather old, indeed.\nShould we upgrade it?. Haha, got it.\nIf we can't switch to newer phpunit features, I'm not sure it's worth upgrading up then.\nHowever, I'm wondering how long we should support PHP5.4 and PHP5.5 since they're quite old too and no more supported...\nOn an other topic, what do you think of this PR.\nDoes it look good to you?. I just realize that the CustomFilter allows to do exactly this. However, I don't see any method in VideoFilters.php to apply this custom filter.\nI wonder if we should keep on creating a new filter for this or if we should drop this PR.\nAny thought?. Honestly, I don't really know what to think.\nI've created PR #271 to be able to use custom method like the one used to apply padding. This was a small lack of the bundle to my opinion, but I don't find it convenient to use.\nI feel like the custom filters are complex to use, and they require an expertise of FFPMEG. A filter like this one helps the newbies.\nI think both filters (custom and pad) can live side by side.\nAny opinion?. Hi @travoliti,\nThanks for this feedback.\nFirst of all, could you check that libvpx is enabled on your system?\nffmpeg -codecs\nYou can also checks which codecs are available for WebM this way:\nphp\n$format = new \\FFMpeg\\Format\\Video\\WebM();\n$format->getAvailableVideoCodecs();\nCould you provide me the result?\nThanks\nRomain. Thanks @travoliti.\nIn the first response, I see this: Google VP9 (decoders: vp9 libvpx-vp9 ) (encoders: libvpx-vp9 ).\nSo my guess is that the codec is properly installed.\nThis is weird. For now, I have no clue why it's not working, I'll need to do some tests.\nI'll let you know if find a solution. If you find one, let me know as well.. Hi @Barker91,\nThis question has already been raised in issue #262, and the PR #215 will fix this.\nWe're still in the process of writing tests for this PR. Once this has been done, we will merge it.\nR. This is an answer to the discussion I've opened in PR #268.\nWhat's the best way to tackle this issue?. Hi @NerdGuruDevelopers,\nJust to be sure to clearly understand your need, do you want to stream the original file, or the file that is being generated by the conversion?\nIf you want to stream the original file, I don't see why you couldn't do it from a server point of you. It would just create another read action on the file. However, you may face issues while playing it in a browser if the format of the file is not standard.\nIf you want to stream the newly converted file, I'm not sure this is doable, I've never tried it, but you need to know that most of the time, the files are the result of 2 passes. Which means that before 50% of conversion, you've nothing worth to play, and even after this stage, I'm not sure that the result is readable...\nI don't know if this helps. Let me know.\nR. I think you should wait at least for the encoding to have reached 50% so 1 pass is done.\nThen, you could try to break it into segments or stream it directly. I've no clue of what the result may be, but I'm interested in the results of your tests.\nIf you look at what streaming platforms like Youtube or Vimeo do, they don't provide you with your video before many minutes once you have uploaded the video, because they're encoding it. It's true that they also put you in a queue and you have to wait before your video gets encoded, but my guess is that they don't stream the video until the encoding is done.. Hi @4wellsolutions,\nCould you give us the code you used, so we could figure out if there is any error in it?\nThanks. Thanks @4wellsolutions,\nThe problem is that you don't declare your class.\nAdd use FFMpeg; right after use App\\Http\\Controllers\\Controller;.\nR\n. When you create FFMPEG, make sure to declare where your executables reside, if they're not located in the default folder...\nphp\n$ffmpeg = FFMpeg\\FFMpeg::create([\n            'ffmpeg.binaries'  => '/path/to/ffmpeg',\n            'ffprobe.binaries' => '/path/to/ffmprobe',\n            'timeout'          => 3600, // the timeout for the underlying process\n            'ffmpeg.threads'   => 1,   // the number of threads that FFMpeg should use\n        ], $logger);. Hi @Ara4Sh,\nThe news you're refering to, is the one from January the 30th, 2016, is that correct?\nhttps://www.ffmpeg.org/index.html#news\nIf yes, they talk in this article about libvo-aacenc and libaacplus, but not libfaac. Could you tell me more about this announcement?\nCould you point me to the documentation which refers to the strict option?\nShould it be added in all the commands or should it be an option?\nIs there some possible incompatibilities with previous versions of FFMPEG?\nThanks\nRomain. More details in #276.. Could you be a bit more explicit on what you're trying to achieve, and what is the problem?. @Tinywan, I'm still not sure to really understand what you need or want. Many things.\nFirst one, when you post an issue here, please provide your complete code, the description of what you're trying to achieve, and at least an error message.\nCould you try to create your FFMPEG object like this:\nphp\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/path/to/ffmpeg',\n    'ffprobe.binaries' => '/path/to/ffprobe',\n    'timeout'          => 3600, // The timeout for the underlying process\n    'ffmpeg.threads'   => 1,   // The number of threads that FFMpeg should use\n), $logger);\nThen, to open your video:\nphp\n$ffmpeg->open('/path/to/video.mpeg');\nDoes this solve your problem?. You're welcome.. @Tinywan, we're here to help, but we're all volunteers. There are some rules to respect when posting here.\nWhen you create an issue, you have a layout which is provided which intend to help us understand what you're trying to do, and what is the problem you're facing. Copy-pasting piece of codes everywhere is of no help. I'm not gonna answer this issue until you fulfill correctly the layout below.\nIf you're uncomfortable reproducing it in a comment, please close this issue and create a new one.\n\n| Q              | A\n| -------------- | ---\n| Bug?           | no\n| New Feature?   | no\n| Version Used   | Specific tag or commit sha\n| FFmpeg Version | FFmpeg or AVConv and version\n| OS             | Your OS and version\nActual Behavior\nHow does PHP-FFMpeg behave at the moment?\nExpected Behavior\nWhat is the behavior you expect?\nSteps to Reproduce\nWhat are the steps to reproduce this bug? Please add code examples,\nscreenshots or links to GitHub repositories that reproduce the problem.\nPossible Solutions\nIf you have already ideas how to solve the issue, add them here.\nOtherwise remove this section.\n. Hi @pickzy,\nCould you show us your composer.json?\nThere seems to be a conflict between your requirements and those of PHP-FFMPEG.\nThanks\nRomain. This is the composer.json of PHP-FFMPEG, I was talking about your composer.json, more particularly the require part. I'd like to see if there may be any conflict between these 2 files.\nI just tried to run composer require php-ffmpeg/php-ffmpeg on my side, and it worked well.. Ok @pickzy, you're not answering my comment. I asked you for the composer.json file of your app. Could you provide it to me so I can see what are the requirements of your app?\nCould you also tell us what is your version of PHP by running the command php -v ?. Your PHP version should'nt be a problem.\nThe file you sent me is PHP-FFMPEG composer.json file. So my guess is that you're trying to install it as a standalone bundle in a project, not as a depency of Symfony or any other framework, is that correct?\nCould you try to run the command in a new folder, out of your current project and see if you get any error?. Hi @pickzy,\nHave you been able to solve this issue?. Could you answer my questions then?\nOr should I close this issue?. Hi @shadrech,\nThanks for this PR!\nHere are my comments:\n- I think we should make priority a parameter of your class, to be able to set it. This what is done with all the other filters. This would allow us to be consistent all over our filters\nOtherwise, it looks good to me. Nice job.. @shadrech Looks good to me! Thanks. Now someone needs to merge your branch. I've asked @romainneutron if he's ok with your contribution. I can do it, but since I'm new to administrating this bundle, I prefer to refer to him for now.\nThen, once it's merged, you can delete your branch, but github will invite you to do so.\nThen, I think that Romain needs to prepare a new version with the feature, for it to be available on Packagist.. Hi @ahotnik,\nThanks for the encouragements.\nI'm not sure to understand your need. Would you like to add this to the core files of the bundle? If yes, could you tell us where you would like it to be added?\nOr would you like to get a confirmation that this code allows you to select your codec?. Hi @ahotnik,\nAny news?\nShould I close this issue?. Ok, thanks @jens1o . You're welcome.\nLet me know if it fits your needs.. You're welcome.. I agree with @gabriel-munteanu, the size of the videos should be handled independantly of the concatenation, IMO.\n@romainneutron, could you review this PR?. @romainneutron Thanks for the feedback!\n@gabriel-munteanu You say that you would like to pass an array of paths to videos as an argument, instead of the path to a file, and that the function creates the file needed by FFMPEG? Is that correct?\n@codex-corp Since the resizing of the vid\u00e9os wouldn't be a BC break, I offer that you create an issue with a feature request, so we can make evolve this feature in a future release. Would you be ok with this?. Hi @gabriel-munteanu,\nI just changed the behaviour of this function.\nYou can now pass an array of paths to the videos.\nI've also tested the progress callback and it doesn't work.\nFeel free to propose a PR once this one has been merged.. Hi @gabriel-munteanu,\nThanks for this great feedback.\nLet me know if it looks better to you.. I'll do it now.. Hi @gabriel-munteanu,\nI saw your PR. I'll publish a new realease.. Sorry, wasn't your PR. ;)\nI created a new one, and will merge both of them.. Hi @webfreaks,\nI don't think that the size is a problem. I'm encoding files up to many Gb with PHP-FFMPEG without any problem.\nFrom what I can see, the problem seems to be with your codecs: Unknown encoder 'libfaac'.\nCould you tell me how you have installed FFMPEG on your server? Have compiled it using the compilation guide? \nhttps://trac.ffmpeg.org/wiki/CompilationGuide\nIf not, I would recommend that you follow this guide.\nAlso, have you tried to copy the command and paste it in your terminal to see if it works this way?\n'ffmpeg failed to execute command '/usr/local/bin/ffmpeg' '-y' '-i' 'video_source2.mp4' '-vf' 'movie=overlay_588a4d1b8e1e2.png [watermark]; [in][watermark] overlay=main_w - 0 - overlay_w:main_h - 0 - overlay_h [out]' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes588a4d1b98b20v107g/pass-588a4d1b98c20' 'export/masked_video.mp4'\nCould you paste here the result of this command?\nCould you also paste your piece of code from the moment you're creating ffmpeg object to the moment you're saving your file?\nThanks\nRomain. Hi @webfreaks,\nThanks for this answer.\nLike I said, I think that the problem comes from the fact that you don't have the codec aac installed. Following the compiling guide to install FFMPEG is the best way to prevent this.\nHowever, I think there is a work-around.\nCould you try to define the format of the exported video as follow:\nphp\n$format = new FFMpeg\\Format\\Video\\X264();\n$format->setAudioCodec(\"libmp3lame\");\n$save = $video->save($format, $video_export_path);\nLet me know if this works for you.\nRomain. You're welcome! ;). Hi @zimmermanj42,\nI don't have the answer to your question right now, I'll need to think about a way to do that.\nHowever, have you tried to run the probe on the distant file? I don't think it downloads it locally, the probe action may be quite fast...\nCould you try this and let me know if the performances are what you look for or not?\nThanks\nRomain. I completely agree with @schmanat, logs are mandatory to understand the problem.\nCould you paste them here, along with your code?\nThanks. Hi @nikunj1990,\nHave you tried to execute your command manually, in the terminal?\nCould you do it and paste here the result?\nSecond thing, I'm not sure about the combination of the resize and the frame in one command.\nCould you try the frame command without the resize? Or try to save the video after the resize and before generating the frame?\nThanks\nRomain. Hi @nikunj1990,\nCould you show us your complete command?\nCould you also try my second proposition, and tell us what it says?\nThanks\nRomain. Hi @nikunj1990,\nThanks for these details.\nCould you tell us more about your environment: distribution, version. Could you also tell us how you have installed FFMPEG, is it through a package or through the compilation guide?\nThanks\nR. Hi @nikunj1990,\nAre you sure that the destination folder is writable?\nHave you checked the logs?. Hi @nikunj1990,\nAny news on this issue?. Hi @GuillaumeVerdon,\nThe idea is interesting and the implementation seems clean.\nI'm just questioning myself if this is worth creating a new function for this, because the code only varies in the last parameters of the FFMPEG request, or if we should modify the save function to add a parameter to define if we generate a new file or get the result as base64. This parameter would be set to generate a new file by default.\nThis would avoid duplicating the code...\nWhat's your point of view on this?. Looks good to me.\nI'm waiting for reviews on another PR to merge both at the same time.. Hi @GuillaumeVerdon, it's likely it will be merged at the beginning of next week.. Hi @pedro380085,\nCould you post your image, so we can see what it looks like?\nI'll dig into the issue #177.. Ok, thanks.\nI better understand what's your issue.. Hi @Tinywan,\nWhat you're asking is that, if the start time is bigger than the duration of the video, we raise an error, or if the start time + the duration of the clip is bigger of the duration of the video, we raise an error or clip the video until the end?\nIs that correct?. Hi @Tinywan,\nThanks for these details.\nI tagged this request as a feature request, so we can add it to a future PR.. Hi @DHoogland,\nYou shouldn't have to change the core files. This has already been fixed in 0.7.0 by @Neck, in PR #257.\nSince this issue is solved, and you found the proper way to use it, I'll close it.\nR. @Sensetivity is the way to install FFMPEG.\nIf you want to use PHP-FFMPEG, install it through composer as explained here, and integrate it into your app.. Hi @ibrahimch,\nI guess that you will want to concatenate your mp4 files first. A PR will be released soon to tackle this: #287.\nWith regards to your second question, have you any idea on how to do it with the command line?. Hi @totomtornado,\nIt seems clear that the executable is not found, so the problem comes from the way you installed FFMPEG on your machine.\nI don't know the guide you follow, but I can only recommend that you follow the official guide, which is cristal clear and works like a charm.\nLet me know if this helps.. I've no experience with Ubuntu MATE.\nHowever, if your executable cannot be found, an exec won't work either.... Thanks for the feedback.\nI'm glad it worked for you.\nI'll close this issue then.. Hi @gabrielschuck,\nCould you try this:\nphp\n$video->save($audio_format, 'audio.mp3');\nand tell me if it works?. Yeah, normally the core features of the bundle have been really nicely developed by @romainneutron.\nWhen we face an issue with sound encoding it's mainly due to a lack of codecs on the server of the user, or to the way FFMPEG has been installed.\nThe best way to install FFMPEG is to compile it following this documentation.\nIn this case, it would be great if @gabrielschuck could manually execute the commande generated by the bundle and give us the result, so we could get the exact error message.. Hi @mario-laserna,\nAre you sure this is doable with the command line?\nIf yes, could you provide the command line to use?. Thanks @mario-laserna, looks like this could do the job.\nI think this is a feature request.. Hi @loicm,\nThanks for this feature request.\nJust to be sure to clearly understand your need, you don't want the image to be added in front of the video like a regular watermark, you want to be able to create an introduction or ending screen, which will be visible for a certain amount of time, is that correct? You may also want to be able to do this in the middle of the video?\nHave you any idea on the way to do it with the command line?\nThanks. Thanks!\nIf I've got some time, I'll dig into it too, but it's always easier if the person who suggests the feature points us to right direction... ;). Thanks @loicm,\nI'll dig into it as soon as I have time.\nI also invite you to take a look at this PR which may help you: #287 . Hi @andrekat, could you be more specific on what you wanna get exactly?\nHave you tried this?\nphp\nvar_dump( $currentFormat->getAudioCodec() );. What about \nphp\nvar_dump( $audio->getAudioCodec() );\n?\nWhat type of information to you expect?. Ok, thanks for this follow-up.. Hi @Laurent3170,\nThere is currently no option to set the KiloBitrate option in the X264 interface.\nHave you tried to use another format, like MP3 instead of AAC?\n$format->setAudioCodec(\"libmp3lame\");\nAs I'm not an expert on iOS formats, I don't know any specific configuration for these devices.. I'm unsure.\nThe best way would be for you to figure out what the ffmpeg command should be and post it here, so we can consider modifying the bundle to either create a new feature for iDevices or simply give you the ability to change the KiloBitrate for videos.. Hi @Laurent3170,\nThanks for this follow-up.\nFeel free to paste any error here, so we can help with it.. The function is present in the DefaultVideo class, but that's right, not in the H264 one.\nYes a PR would be helpful. Thanks!. @jens1o You're right, I answered a bit fast.\nclass X264 extends DefaultVideo\nNo need to recreate one. The example is valid.\nWhen @Laurent3170 says:\n\nBy using ffmpeg -i video-master.mov -c:v mpeg4 -r 24 -b:v 160k -c:a aac -b:a 160k -strict -2 -s 640x400 video.mp4 I should have an audio bitrate of 160kbps but I obtain 1411kbps...\n\nThis is not related to the bundle but to FFMPEG itself. I think you should make sure your version of FFMPEG is working properly, @Laurent3170 .. @Laurent3170, the setKiloBitrate function must be applied on a format, not on the video... ;)\nSee the example provided by @jens1o . Hehe, sure it's better... ;o)\nThanks for the PR, I'll look at it!. Hi @Laurent3170,\nI'm not an expert on iPhone encoding...\nI'll check if I can find some help on this.... I asked @FranckHAEGELI, who thinks that it may come from number of frame per seconds (30 when iOS only accept 23,976 , 25 or 29,97, but it's not sure that this is the problem.... This definitely looks like an encoding problem.\nThanks for investigating on this and sharing your results, it's really nice to you.. @Laurent3170 could you paste here the complete logs so we can figure out where the error resides?. Ok, I misunderstood your previous message, you already pasted the logs you had.\nCan you confirm that you're using your PR to do this:\nphp\n$format\n    ->setProfile(Profile::HIGH)\n    ->setLevel(4.1);\n?\nWhy is $format NULL? Haven't you this before?\n$format = new X264();. Hi @weituotian,\nThe error is quite explicit. A quick search in the issues would have given you the solution.\nThe problem is that you don't have the required codec installed on your machine.\nYou need to select another audio codec:\nphp\n$format = new FFMpeg\\Format\\Video\\X264();\n$format->setAudioCodec(\"libmp3lame\");\n$save = $video->save($format, $video_export_path);\nMore details with issue #295 or #288 . Hi @weituotian, any news on this issue?. Hi @Purus,\nIn the path src/FFMPEG/Driver of the bundle, you have the 2 classes responsible for throwing an error if the binaries cannot be found.\nThe file src/FFMPEG/FFMpeg.php loads these binaries.\nHope this helps.. Hi @shtse8,\nThat's correct, the filters apply when you execute the save function.\nWhich means that if you chain them, they will all interact together.\nI don't see an easy way to change this behaviour.\nWhat is the problem with executing 2 times the save function?. Then, I'll let you suggest a PR to improve this behaviour.. Thanks for the PR @shtse8.\nI commented on it.. @jens1o, Let me know if it looks good to you.. Just saw it.\nI pushed a patch. I'll wait to see what the tests say.. Hi @jens1o,\nI pushed a fix.\nI'll publish a new release probably tomorrow.. I published the new release.. Here's the proper way to do it:\n```php\n$format = new FFMpeg\\Format\\Video\\X264();\n$format->setAudioCodec(\"libmp3lame\");\n$video\n    ->save($format, '/path/to/new/file');\n``. You're welcome.. Is it good for you @DVendy?. @jens1o I agree with you. I don't know whylibfaacis the default one. It has been developed like this.\nMoreover, AAC is really complicated to handle, there has been changes with this format and its codecs lately. \nI think we should switch forlibmp3lame` indeed, and I agree with the check. I'll try to work on something and week or the following one.. Hi @genora-saish,\nCan you give use your code for us to see how you're doing it?\nCan you also try to use the function for videos with different codecs to see if it works?\nThanks. @genora-saish thanks for these details. I think I understand better what happens here.\nThis forum is only for PHP-FFMPEG bundle. If you encounter any issue related to FFMPEG specifically, I suggest that you post your question on a forum dedicated to FFMPEG.\nHowever, reading to the error, it seems that you don't have the aac codec installed on your machine, or at least not the good one. I can suggest to you that you re-install FFMPEG compiling it as described here.\nAlso, using PHP-FFMPEG, I could have suggested to you to use the MP3 codec instead. Using the command line, I think that you need to add -acodec libmp3lame, but I'm not 100% sure.. @genora-saish, any news on this issue?. Hi @ibrahimch,\nCould the video filter setAdditionalParameters() be a solution for you?\nsrc/FFMPEG/Format/Video/DefaultVideo.php\nThanks\nRomain. Looks good to me. Thanks @jens1o.\nI relaunched the tests, because master had been updated since the last push.\nOnce they passed, I'll merge it.. My guess is that you're missing a use statement:\nuse FFMpeg;. @mailightkun, can you also tell us which version is causing this issue? 0.8? 0.9?. Hi @Nirjonadda,\nI've no idea how to install FFMPEG through cPanel. My advice would be to follow the compilation guide though, to make sure you have all the required codecs installed.\nWith regards to PHP-FFMPEG, you don't have to install it through cPanel, but in your PHP project with Composer, using the command composer require php-ffmpeg/php-ffmpeg.. Hi @Miky94,\nI think you're missing the use statement:\nuse FFMpeg;. @Miky94, could you try to execute the command directly in the console and paste here the error you get?. @jens1o No, to me this is the result of the command you suggested: C:/inetpub/wwwroot/FFmpeg/ffprobe.exe -help -loglevel quiet\nI'd like him to paste the command generated by his code.. My bad, I misread your message, I thought you would have another command in your logs, but this one was actually the one you got in your logs.\nCan you try this instead of chaining save commands:\nphp\n$video->save(new FFMpeg\\Format\\Video\\X264(), 'export-x264.mp4');\n$video->save(new FFMpeg\\Format\\Video\\WMV(), 'export-wmv.wmv');\n$video->save(new FFMpeg\\Format\\Video\\WebM(), 'export-webm.webm');. @Miky94 Are you sure of the path of the video?\nDoes the video have the proper rights?. Can you try with another video file, to make sure this one is not corrupted?\nThe Windows log are not very explicit and I know nothing about Windows servers of FFMPEG on Windows.... I'm sorry, but I'm not use to working on Windows. If it's not a problem of rights, localization of the binaries or a missing use statement, I don't see why it doesn't want to execute the probe file.... @jens1o If you can, please do, I have a lot on my plate these weeks.\nThanks for your help.. Thanks @jens1o . Ok, I'll try to have a look ASAP, I really have very few time these days.. I think it would be better to autodetect it based on the extension of the file. However, if the user is not rigorous about this, it may generate errors.\n@jens1o, what do you think about auto-detection?. If you can, please do, thanks a lot!. Unfortunately no, I tried but Github doesn't allow me to add assignees who are not admins.. @cjw0202, the README file is pretty explicit on how to use this bundle in a PHP project.\nIf you don't know what a bundle is or how to use it, please begin by asking google, and then if you have a specific question we may help.. Hi @dragu,\nFirst of all, if you need a specific feature, feel free to push a pull request instead of keeping it for you, the community will be grateful.\nThen, with regards to your implementation, I think that the $additionalParameters of the DefaultVideo class already does what you want.\nWith regards to your problem, since your command is exactly the same, I don't see why FFMPEG would react differently...\nHave you tried to copy and paste the command generated by the bundle in your terminal to see what you get?. The thing is, I don't see any difference between this: \n/usr/bin/ffmpeg -y -i 379.gif -crf 25 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -pass 1 379.gif.mp4\nand this:\n'/usr/bin/ffmpeg' '-y' '-i' '379.gif' '-crf' '25' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes58c79e103cf11hf8l6/pass-58c79e103cfeb' '379.gif.mp4'\nSame command should give the same result.\nAs long as the command generated is the one you're looking for, I think that the problem doesn't come from PHP-FFMPEG.. The idea is nice.\nHowever, I won't be of much help with the tests, I'm not a phpunit expert either.... Hi @HipsterJazzbo, I think that the additionalParams option is what you're looking for.\nLet me know if it fits your needs.. Good point. We need to add this feature then.. @HipsterJazzbo, you can copy the way the additionalParams works and apply it to the Audio class.. I'll try to catch up a bit, I've tens of notifications... . Sure! Thanks a lot for this!. Hi think this should be a new filter, like a MergeFilter.\nThis needs a PR.\n@Nonnis-M can you provide us with the link to FFMPEG documentation of this feature?. I will @jens1o.\n@totomtornado www-data needs a write access to your destination folder. He is the owner of the FFMPEG process and therefore needs to be able to write the generated file. ;). @jens1o, just after $commands = array();, we should add $duration = 0;.\nI will create a PR.. Your tests should try to include the -vprofile and -level options, to be sure that they pass.\nWe can release an option which may break the bundle with some versions of FFMPEG.. @jens1o, I had to fix a conflict in the the merge of this PR with the PR that we lately added.\nI let you check why it doesn't pass the tests.. @mcfriend99 I think you're missing codecs.\nCan you give us more details about your environment? There was a template when you submitted the bug. Thanks to clearly fulfill it when submitting any new issue, so we can help.\n| Q              | A\n| -------------- | ---\n| Bug?           | no\n| New Feature?   | no\n| Version Used   | Specific tag or commit sha\n| FFmpeg Version | FFmpeg or AVConv and version\n| OS             | Your OS and version. I just did.. Nice one. I'll merge it.. I think that both PRs will be merged together and the correction will apply anyway.. Ok, I'm fine with the idea.\nCan you just update the README file with the new way to use this class?\nThanks for this. Otherwise, I'm globally fine with these changes.. Oh, and can you just say in the description of your PR, which issue you're solving?. Oh, I just realized, you used a version of the bundle which is not merged yet.\nYou have the code of the #335 PR.... I'm also having an error.\nI'll check if I can rollback to 0.9.3.. @jamesgraham I've reverted this PR for the moment and published a new release without it.\nI think we need to take time to check more in details how this PR was built and what was wrong in the code and in the tests. Tests properly written shouldn't have pass...\nMy bad on the review, I didn't detect this bug.. I tried the 0.9.5, it seems to work properly. If it's not the case, just let me know.. @testchik, what I understand is that you have a server which you wanna use to execute FFMPEG, but you haven't install FFMPEG on it. Just saying shows you that this is wrong. You cannot execute FFMPEG without installing it. You need to install it on your server first. I recommend that you compile it as described in this guide (use the one corresponding to your distribution).\nIf you cannot install software on your server and don't have any SSH access, you're screwed, you will need to upgrade your server.\nSecond thing, we cannot include the binaries into this bundle.\nFinally, as @jens1o, the feature to merge a video file with an audio file is not ready yet but will come soon.\nThanks.. Thanks @jens1o.\nI'll prepare a new version today to push this fix.. Hi @mcfriend99,\nCould you also paste the logs please, so we can figure out what is the command generated?\nThanks. Here is the complete way to create a FFMPEG instance:\nphp\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/opt/local/ffmpeg/bin/ffmpeg',\n    'ffprobe.binaries' => '/opt/local/ffmpeg/bin/ffprobe',\n    'timeout'          => 3600, // The timeout for the underlying process\n    'ffmpeg.threads'   => 12,   // The number of threads that FFMpeg should use\n), $logger);. @igorveremsky keeping it open can allow someone to use this code to create the tests.\nWe cannot merge it without them.. Tests are still missing for this PR.\nI cannot merge it without them.. Hi @jamesfroud79,\nI'm not exactly sure to understand what you mean by \"adding the transcoding to the queue\"...\nDo you want them to be parallelized with your script?\nIf yes, I think you should consider externalizing the transcoding into another app that you would request through an API.. If you could also provide any link to the related documentation, so we could at least understand what this is supposed to do, it would be great.. Thanks for this documentation @BPing.\nI've got absolutely no experience with live stream, if someone wants to dig into this...\nHowever, I'll tag this as a feature request.. Hi @Scarlicity,\nCan you give us some details about your environment?\nWhich version of Linux do you use? How did you install FFMPEG?\nCan you try installing FFMPEG by compiling it as described here?. Hi @adepolas,\nYour code seems good.\nI don't think that you can optimize your code.\nIf you want to improve performances, you will have to increase the resources of your machine.\nIt also depends on the way your file is encoded.\nI hope this helps.. @jens1o Have you tested it with these 2 codecs to make sure that it is properly interpreted?. It looks like a duplicate of #215, but it also looks like it's way cleaner.\nI'll merge this one and close the other one.. @jens1o, you're missing some tests though. They should be pretty straightforward to add since you just have one option to test.. @jens1o I have been pretty busy lately.\nYou've been very active here these last few months. You should ask @romainneutron to add you to the mergers so you can merge PRs. He is the creator and manager of this bundle, though he is inactive today.\nIf you want, we can handle the PRs together, talking about it. If you have merging access, I'll give you my email address so we could discuss specific issue by email, I'll be more reactive (if you don't flood me with emails... ;)).. We need to be very careful on what we merge though...\nThe last PR you wrote that I merged introduced a bug that the tests should have detected, but haven't. I think, the key challenge is not to merge all the PRs or publish a release every but much more to maintain the stability of the bundle.\nWhen we push a PR or merge one, we need to also do manual tests of video conversion to make sure that no error has been introduced.. I think that an error has been introduced in 0.9.4.\nCan you try with the version 0.9.3 and let me know if it works?. Good point, I changed this.. Shouldn't we put this:\nphp\nif (null !== $format->getAdditionalParameters()) {\n             foreach ($format->getAdditionalParameters() as $additionalParameter) {\n                 $commands[] = $additionalParameter;\n              }\n          }\ninside the test if ($format instanceof AudioInterface) ?. Do we have to put [int] and [out]?\nThis doc don't use them.. Hi @shtse8,\nThanks for this PR.\nWhat are you trying to do here?\nWhy are you defining a command like this: [in]scale=...[out] to get rid of the [in] and [out] afterwards?\nI think you should also wrap this in a test if($commands !== NULL) and use foreach instead of for.\nTo my opinion, this part is useless. The command generated by the filter should already be clean enough to be used by the save function, as is, without being processed in another way.\nCan you paste here the desired command? Is it somethink like ffmpeg -i input.avi -vf scale=320:240 output.avi?\nIf yes, I think you don't need all this.. I would add a test like this:\nphp\nif(is_bool($value)) {\n    $this->enableVbrEncoding = (bool) $value;\n}\nelse {\n    $this->enableVbrEncoding = FALSE;\n}\nJust to make sure we're not trying to convert something which is not appropriate.. I would add this test before:\nphp\nif(!is_int($value)) {\n    throw new InvalidArgumentException('Wrong type of value');\n}\nelse if ...\n. You also need to consider the case were this parameter will not have been set:\nif (($format->getEnableVbrEncoding() === NULL) || !$format->getEnableVbrEncoding()) {. Same thing:\nif (($format->getEnableVbrEncoding() === NULL) || !$format->getEnableVbrEncoding()) {. Ok, thanks for the explanation.. Ok, thanks for the explanation.. Overall, I'm fine with your additions.\nI think this var declaration should be Array and not string[] though, but this can be fixed later.. ",
    "Rudloff": "I would be interested in this as well: outputting to a pipe instead of a file.\nHere is a very basic example of how it can be done:\nphp\n$stream = popen('ffmpeg -i foo.mp4 -f mp3 -vn pipe:1', 'r');\n$stream can then be streamed to the browser or to various other libraries.\n(Of course it only works with formats that are streamable.). @jens1o It could be a solution but I don't think I know enough about file formats to do it myself.. ",
    "jens1o": "@Rudloff Could you do a pr implementing that? I'm kinda busy... Otherwise I could implement it next week.. I planned to do this, but I'm busy at the moment with personal things... :/\nAlso, it has a low priority for me, because it may result in a breaking change.... @totomtornado Use $dimension->getWidth() and $dimension->getHeight().. I don't see where the bug lies in? Do you basically want us to set a default resample filter of 32000?. In any case, that would mean a breaking change :/. any news on this?. Okay, close it. . @dovidgef Just do it like this:\n```php\n$frame = $this->media->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds($start));\n$frame->filters()->fixDisplayRatio();\n$frame->save('test.jpg');\n```\nThis way, you do not reference the filters itself.\n(Closing this due to inactivity). @Romain Why you don't update it with latest master?. Ah, in most cases the owner is able to update the branch with just a click.... Thanks!. @xvrzhao Most likely it is because of wrong permissions. :). I'm sorry, but does this error still occur when you are explicit bound the wrapper to these files?. Probably, we should use a different service for locating software. The current one is not that maintained anymore, unfortunately. I'll explore in it once I'm not busy anymore.. Well, we provide the conf file, in every case, you can set the binaries manually? I don't understand what you're trying to say?. That's what we do at the moment. We're going even deeper, we ask the operation system.. Well, with that configuration I mean the parameters from the create method, then I misunderstood you. I'm sorry.. > The only question I have right now is that, in the scenario that I deploy this php file onto my web server, I should install ffmpeg on my server and set the path to where it is stored on my server, correct?\nYes, that's the right way to do that.. Could you check whether the user that is executing the php process has access to those files and open_basedir check is not activated @Mr-Anonymous ?. Any updates on this request? I think this feature would be useful for my project.. I'll do it on the weekend. @Romain . @shtse8 \nIt's on my list and (nearly) finished. But I'm waiting so the others pr's can be resolved first. Thanks for the ping. At the moment, this may include a bc break, but I would look after other possibilities. . Unfortunately, I'm on a different pc now, and I didn't pushed it. I'll do as soon as I can, but I wan't to make sure it works properly and does not cause any side effects. Also, it's the end of the school year, and I have to learn for class exams... :/. To be honest, I totally forgot that issue here, but the exams went quite well. Apologize.. :/\nI should have pushed my changes, then at least I'd have something to work with.... @airani I'm lacking of time, I'm in the middle of the Christmas exam phase, but I'd be happy to see another PR. :)\nSo in case somebody wants to help, a pr would be appreciated. :). Although this would require a massive rewrite of the existing codebase. We would need to check whether we can do this with as less api changes as possible.. Any news on this? Otherwise I could write the tests and making a new pr.. Okay. I expect it to be done tomorrow.. Forgot to push it. It is done since the same day I said it... I'll push it in the evening.. I'm not sure whether this is even possible, as the action is blocking the hole thread. It isn't designed to be able to interrupt the process.. closing as duplicate.. Closing due to inactivity.. Are there any updates? Otherwise I could write the tests. But first, it needs to pull the latest master.. @harikt\n\n\nIs there a way we can get the ffmpeg command that is going to run on the cli via this wrapper ?\n\n\nYes, just use getFinalCommand instead of save.\n\n\nare you guys looking for the ffmpeg command that can do this convertion ?\n\n\nYes ;)\n. Oh. I'd overseen it. I'll try when I have some time. But thanks! ;)\n. Great! It works! Thanks! :smile:\n. The results are cached. You need to construct a new one.. duplicate #336 . Which error do you run into @ysk99 ?. But we need the error, so we have something to work with. May you check your server logs, please?. Closing due to inactivity.. I'll do a pr to make this possible.. @iemm96 Please see the readme for documentation on it :). @iemm96 Please see the readme for documentation on it :). removed because of a exact same thread. closing due to inactivity... thanks for the heads up @dernawy :). Anyway, we should validate wether it's a valid audio format submitted. I'm creating a pr.. Huhh? It seems that @gabrielschuck's php binaries are broken. Actually, there is a type hint already included.... > Hi @Laurent3170,\nThere is currently no option to set the KiloBitrate option in the X264 interface.\nMay I create a PR? I'd searched after this, but didn't found anything.. @Romain But it's used in the examples? And since it's just extending, why it doesn't inherit these functions?  https://github.com/PHP-FFMpeg/PHP-FFMpeg#transcoding. I think I'd might got it.\nhttps://trac.ffmpeg.org/wiki/Encode/H.264#Compatibility\nUse simple filters to get what you want \ud83d\ude09 \nBut I'm already making a pr for this.. Oh. Thanks for searching this, there is a mistake... You'd found a bug!. he uses baseline and level 3.0, you're using profile high and level 4.1. I'm afraid, but I do not have any experiences with iOS. :/. Hi!\n$format->setAdditionalParameters(array('foo', 'bar')); may help you.. @Romain Why is it using libfaac instead of libmp3lame in default? Is libfaac faster? Anyway, we should check wether the codec exists before trying to encode with a non-existent codec.. @DVendy Could you show us a output from ffmpeg -version?. @nhoctanker This seems to be a ffmpeg issue :/. > I then found that there was newer stable aac codec included in the latest version of FFMPEG that can be used simply by specifying \"aac\" in the audio codec parameter.\nThanks for the heads up, scheduling this to set as default for v1.x.\nEdit: This has been implemented.. > \"Encoding failed\" doesn't help much except frustrating you all day long :O\nThis would be indeed great. We should look for the actual error instead of throwing a very general one.\nIf you want to create a pr, feel free!. What does -map offers? I think you can convert it like this:\n```php\n<?php\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('video.mkv');\n$video->save(new FFMpeg\\Format\\Video\\X264(), 'export-x264.mp4');\n. err... Well, I don't know. Excuse me.. any news on this?. Okey, thanks.. You need to put this before the first line(but after the php tag)php\nrequire_once 'vendor/autoload.php';\n``\nbecause you need to include the composer libs that you provided. So this is basic for composer, because you need to load them when you want to use them.. How did you required the lib? Global or not? If global, try to require it just in the directory.. Did you load the composer autoloader?. I'll take a look as soon as I've time to investigate... Could you show us affmpeg -versionoutput?. Could you execute the command yourself (in the command prompt) and show us the output?C:/inetpub/wwwroot/FFmpeg/ffprobe.exe -help -loglevel quiet`. @Romain I don't think it's the solution, since he's in the global namespace. I think the user which is executing the command does not have the required permission to do that.. @Romain He already did provide it, don't he? https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/321#issuecomment-284392601. Yes, that's because your ffprobe fails.. That's the question, but the lib does valid things. Is the php process allowed to execute things? What is the version of ffprobe? Could you try it out with the newest version?. closed due to inactivity.. I think I could get into it, if you want to.. Okey, I'll do it. I think the PR will be available in the evening(UTC+1). Well, if you could help me out with the tests, we could close this issue \ud83d\ude09 \nI don't know how to fix it :/. Will extract the codec testing thing in a seperate issue.. can reproduce it.. It's a orientation, but we shouldn't rely on it. May I create a pr with some checking?. I'll do it as soon as the others are merged. Otherwise, the sums of pr aren't controllable anymore. Can you assign me to this issue in any way?. I'm happy to see a pr, I didn't had the time to invest it, and I also think it would mean a major break, so it is considered for 1.x for now.. There is a fix for this problem, I'd happy to see that more people would test this to see if there is any regression(while I couldn't find one). \nSee https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/402#issuecomment-464319454 for the patch.. First of all, please fill out the template. Second of all, this project doesn't provide an php extension, but only a library(which can be pulled by composer), so this won't be shown in phpinfo output.. Here you go: https://github.com/PHP-FFMpeg/PHP-FFMpeg#basic-usage. What type of php feature I'd used is new in php 7.x?. As long as I don't know what new php feature I'd used, I can't bring this to front... \ud83d\ude2d . Will take another look today. Romain is busy(and inactive) these days, so I would say that you implement it the way you like and let him make critics.. no, it's not possible to do that, yet. But it's a great idea. I'm making a pr.. Glad you're back!. I'd supported the users a bit. Is it ok to do so?. no, it's not possibe yet using prewritten filters. But you can use the SimpleFilters to complete this.. yes, I do. If you know the ffmpeg command for this, it would be quite useful(I'm at mobile).\nBasically, it is like this: https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/master/src/FFMpeg/Media/Video.php#L74\nThat way, you can add something that will be executed. (Use Video#addFilter to add it)\n. I'll check wether this is possible today. Thanks for providing the command, it is quite helpful.. I'll do a pr once I created the \"audio-muting\" pr.. This is not yet implemented, feel free to file a Pull Request. :). after installed all the dependencies, execute \\vendor\\bin\\phpunit.. is the php safemode activated?. could I have the test.mp4 file? I'll try to reproduce it.. Nah, the file you want to process.\nIn the line $video = $ffmpeg->open('test.mp4'); you're opening test.mp4, and I want that file to check.\n. Okey, I'm looking for another file I can reproduce it. \ud83d\ude09 And I'm watching out for something strange, too.. Glad you'd made it.\n\nPossibly get all your code working perfectly up until the ffmpeg call and then you will have less of an area to debug.\n\nHmm... I think it isn't possible, because maybe we don't have access to a file ffmpeg may have access to. The exception is thrown when the exit status is not 0(0 = successful exit/not an error).\n@romainneutron you may want to close this?. I do not understand how you want to fix it, but I can reproduce it. You need that thing, and I don't think that you are allowed to set the value to something \"default\", since there are many different standards.. Ah, now I do understand what you mean. Do you want to do a PR setting it to 0?. Okey, it seems that we need to do a bc break, so that we can pass the tests(we need to add 2 methods to the VideoInterface).. I too. Do you know how to fix these tests? I'll try again asap.. I got it!. I'm waiting for your feedbacks. I'd decided to clean up the tests I needed to fix. But we need to rewrite them. I'll look into it. It's worrying the user when he wants to contribute a little feature.... as soon as @Romain had a look.\nAnd the tests won't fail. \ud83d\ude06 Let's hope. \ud83d\udc4d . IT WORKS \ud83d\ude4c FINALLY!11111111. ah, thanks \ud83d\ude03 . Okay, do this asap. But I'm busy.... @Romain Making tests for this, would make an backwards-incompatible change?. Will do this later this day.. That's not possible with the current code. I would recommend saving the file, loading it with the image adapter of your choice(gd or imagick) and resize it using this.\nBut I'll do a pr after my previous have been merged(so I can still focus on them, before making 100 of pull requests...). @FlexIDK Do you want to file a pull request?. The build you're referring to isn't the newest. The build is too old(2014!) and doesn't support the option. Try out with the newest stable build.\nWhen you can't upgrade, then you may not use the \"Synchronize\" feature. Do not use the synchronize and rotate feature. But then you probably have some new issues. Also, I would rather think about moving to another hosting company. The code is old and there are various security vulnerabilities you're open to.\n@romainneutron You may want to close this.. Well, there is. 0.4.1(current: 0.9.1) was the latest release, where this should work without: https://github.com/PHP-FFMpeg/PHP-FFMpeg/releases/tag/0.4.1\nBut I wouldn't use this, it is unmaintained and old. Consider asking your customer before dealing with big security issues!. To be honest, I don't know exactly. I'm going to take a look, now. Stay tuned.. Result: Anything should work.. Ah, that's true. I'd overseen that. Let me know.. Ah, I thought you already searched about it. Let me look.\n-- Later --\nNo. There's no way. Even the first version that implements the feature of encoding videos uses this for setting the kilo-bitrate. You could try modify Video.php. Remove the lines 88 and 89, then it might work.. lol. Try to use wmv. It should be available by it. Next, try ogg.. When your ffmpeg doesn't support mp4(which uses lib264), then I can't help you... Could you explain what \"static builds\" mean?. Hmm. I don't know. Maybe use https://ffmpeg.org/download.html and check wether they are init scripts?. any news on this @mcfriend99 ?. @mcfriend99 Can you close this, please?. and it's available, executable and writeable for the web server user?. Then you may need to upgrade \ud83d\ude09 . I don't think so. libx264 is responsible for encoding mp4/mp3 files.. Do you want to create the pr? \ud83d\ude09 \n. Hi,\nthis is also been fixed by #329. . nah, don't close it. Maybe something is wrong with my pr, so yours can be merged earlier than mine.. Thanks for your contribution! Anything is alright(but I would remove the 2 comments). It's easy fix these tests:\n\nGo to ResizeFilterTest.php\nDo what you did in your pr:\nReplace the commands you deleted with what you added\n\n\n\nFor example:\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/master/tests/Unit/Filters/Video/ResizeFilterTest.php#L45 should be  array(new Dimension(320, 240), ResizeFilter::RESIZEMODE_FIT, 640, 480, 2, array('-vf', '[in]scale=320:240 [out]')),. Let's look wether we missed something. \ud83d\ude09 This takes about 20 minutes. Don't panic.... Okay, something went wrong with encoding... I don't know why.. it works! Great! Well done. Now, it is time to wait until @Romain had a look.. oh... I'd created the branch depending on another branch... That wasn't me!!!. You can't access it directly @jamesgraham, it is protected. You need to use the setter.. What did i do... My bad...\nAfaik php, calling $audio->save((new Wav)->setAdditionalParameters(array()), $trimmedTmpFile); should fix the error... Omg, how could this happen.... Does it work for you? I'm creating an pr immediately, hopefully @Romain has some time to merge asap.. I wonder why the tests passed successfully.... Please check wether the php executing process has also these permissions and they are not exclusive to the root user.. Check to which user the directory owns(and maybe overwrite it to the php user). Could you post the exact error message? Usally, there is a command inside the exception message. That's interesting. But this can't be the full stacktrace... Also, there should be a exception included(\"previous\"). okey, could you try to execute the command on your own(and show us the output)?\n'/home3/myuser/public_html/spiff/binvideos/ffmpeg' '-y' '-i' '/home3/myuser/public_html/spiff/public/uploads/targets/video_EdFcBkLPmCfuWQwy6PMa.mp4' '-threads' '12' '-vcodec' 'libx264' '-acodec' 'aac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes58e7cb31b2f0dwczeb/pass-58e7cb31b2fcf' '/home3/myuser/public_html/spiff/public/uploads/targets/export_ODxmwE3cgKmRGN6lKn0H.mp4'. Well, that's a ffmpeg problem(and I don't know how to fix it; sorry!) and not one with the library. Maybe try a different file? And please update your ffmpeg, since it is outdated.. Please let us tuned.. After some research, most people suggested that you're only using one thread(when your server forces code to be single-threaded), do so by replacing\nphp\n$ffmpeg = FFMpeg::create([\n    'ffmpeg.binaries' => '/home3/myuser/public_html/myproject/binvideos/ffmpeg',\n    'ffprobe.binaries' => '/home3/myuser/public_html/myproject/binvideos/ffprobe',\n    'timeout' => 9800, // The timeout for the underlying process\n    'ffmpeg.threads' => 12 // The number of threads that FFMpeg should use\n]);\nto this:\nphp\n$ffmpeg = FFMpeg::create([\n    'ffmpeg.binaries' => '/home3/myuser/public_html/myproject/binvideos/ffmpeg',\n    'ffprobe.binaries' => '/home3/myuser/public_html/myproject/binvideos/ffprobe',\n    'timeout' => 9800, // The timeout for the underlying process\n    'ffmpeg.threads' => 1 // The number of threads that FFMpeg should use\n]);\nlet me know wether this works for you.. I don't know to be honest. Let us know when you found something out, it could be useful for others, too.. No, you can't do that(it's not possible by ffmpeg, therefore not by this lib). If you want to do 2 exports, you need to create two formats and save both.. Hey, no problem. We'll update the implementation and check that this won't happen ever again. It's fine. You'd actually found a bug(we should check that).. First of all, please use the template,so we have a detailed feel on what you're talking about.\nCurrently, this feature isn't implemented(I'll implement it once my other PRs are merged). But here is a way to do so simply:\n```php\n<?php\nrequire_once 'vendor\\autoload.php';\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open(DIR . '\\tests\\files\\lucky-day.mp4');\n$video->addFilter(new \\FFMpeg\\Filters\\Audio\\SimpleFilter(array('-i ' . DIR . '\\tests\\files\\Audio.mp3', '-shortest')));\n$video->save(new \\FFMpeg\\Format\\Video\\X264(), 'testoutput.mp4');\n``. Maybe install it with the command line(viaapt-get install ffmpeg). I do not understand exactly what you want. Could you post the exception you get?. Did you installed ffmpeg? How did you install it? This library is just a wrapper, but it depends on a installed binary.. Is your live server just a web server? Then it isn't possible to execute binaries. I would suggest you ask your support, we can't help with it.. I don't know any. Maybe you want to upgrade your plan to a virtual/dedicated server.. Then try to execute this command and send us the output:\"C:\\ffmpeg\\bin\\ffmpeg.EXE\" \"-y\" \"-i\" \"videos/localfile84201711432.mp4\" \"-i videos/Kalimba_Audio.mp3\" \"-shortest\" \"-vcodec\" \"libx264\" \"-acodec\" \"libfaac\" \"-b:v\" \"1000k\" \"-refs\" \"6\" \"-coder\" \"1\" \"-sc_threshold\" \"40\" \"-flags\" \"+loop\" \"-me_range\" \"16\" \"-subq\" \"7\" \"-i_qfactor\" \"0.71\" \"-qcomp\" \"0.6\" \"-qdiff\" \"4\" \"-trellis\" \"1\" \"-b:a\" \"128k\"`. That's weird.. I don't understand what your ffmpeg is. There are two input files, one is required.. closed due to inactivity.. That's known. Duplicate of #333 will be fixed in #334 once @Romain 's back. That's not really helpful. Complete error, source file, destination files, complete code from you.... What's corrupt for you? I need something I can work with. It would be quite useful when I get the watermark image, a example video and the corrupted watermark.\nWhich ffmpeg version are you using? maybe it's a bug of ffmpeg that's fixed in newer versions?. Sorry, I do not understand what \"\u5929\u6cb3\" means. Could you explain it, please?. Ah. That makes sense, you can do it like this:\nphp\n$ffprobe = FFMpeg\\FFProbe::create();\n$length = $ffprobe\n    ->format('/path/to/video/mp4') // extracts file informations\n    ->get('duration');             // returns the duration property. I think you should only add a new space and leave it with 2 #.. Well, that's not enough information. Where are the drivers located? Which OS? (When on Windows:) Is it added to the PATH Variable?. That's strange. By default, it tries to execute ffmpeg and avconv, and when it's not there, it tries to find them in some path variables. This pathfinding is not handled in this lib, but here:\nhttps://github.com/alchemy-fr/BinaryDriver/blob/master/src/Alchemy/BinaryDriver/AbstractBinary.php#L160-L162. Nah, the library is not maintained anymore, and we should look for a maintained lib. Good luck with getting a response!. Good point. I forgot that issue here.. How should we do that? The script waits for the response of ffmpeg before it gives the control back. But feel free to do a pr for this.. On Linux, you can install it with your package manager(e.g. apt). closed due to inactivity.. Cannot reproduce, can you give us the file itself so I can reproduce, too?. code lgtm. You may want to add a property to each format(and a getter method) and declare wether it's streamable or not.. I'll wait for @Romain and @Rudloff maybe wants to resolve the conflict. I need to look out which formats are streamable.... closed due to inactivity. Change the owner of the tmp directory, so it belongs to the user which is executing php. (Mostly www-data). Who's executing the php binary?. Okay, another question: Do you use FPM?. Okay, I would ask the hosting company wether it could allow the path /home/project/tmp for php.. Yeah, it is correct. Just try it out.. closed due to inactivity.. @masoudline Turn off php's safe_mode.. Could somebody explain what this means?. >  This feature should be requested upstream (i.e. at ffmpeg).\nGood point, could you request it there, please?. @gailingmic Could you show a way how?. Yes, I did. FFMpeg looks for each codec and uses the first one it has, that's why it fixes the issue.. Good ping. I wanted to pull that in. Now let me check whether the tests won't fail again.. I know that, but I want to wait for @Romain for at least some time.... Maybe we pull that in in 2-3 days?\nI'm sorry. :/. Okay, then we might do it now.(when the tests passed). \ud83c\udf89 . You need to set an SimpleFilter and add it.. Yep, that will come. I thought this library is dead, thus I started doing something. But I'm happy to hear you're back!. @AkgunFatih thanks for the useful ping! I just marked it as something to do for 1.x :). Closing because there is a valid solution... (and personally, I want to keep an overview of the issues). @adriangoris Maybe you want to do a pull request?. I'll try to reproduce tomorrow(sorry, I must be in bed in 5 minutes, tomorrow's school time), and see what's wrong.\nThanks for the ping!. Thanks for posting it, I'm going to take a look now. :). It's working for me. My test script:\n```php\n<?php\nrequire_once './vendor/autoload.php';\nuse FFMpeg\\FFMpeg;\nuse FFMpeg\\Format\\Video\\X264;\nuse FFMpeg\\Filters\\Audio\\SimpleFilter;\nconst PATHTOMP4 = './original-bug-video.mp4';\n$ffmpeg = FFMpeg::create();\n$video = $ffmpeg->open(PATHTOMP4)\n    ->addFilter(new SimpleFilter(array('-an')));\n$streams = $video->getFFProbe()->streams(PATHTOMP4);\nvar_dump($streams); // works as expected\n$format = new X264();\n$video->save($format, './finish.mp4');\n// Used later in the code, irrelevant\n$dimensions = $streams->videos()\n    ->first()\n    ->getDimensions();\n```\nso for me it looks like something in your environment isn't right. What php version do you use? I'm using the exact same ffmpeg version, but I'm on Windows.. Wow. Nice catch. Yep, you found a bug! But this lib doesn't \"save\" the file, we just generate an command ffmpeg will handle itself.\nI recommend filing an issue at ffmpeg itself, there's nothing we can do. I would propose you save it to a different file, and if you really need it, you delete (the unlink function is your friend) it and rename the source file, although it's always good to have the original, because when you're able to upgrade to a better format, you can reencode the video to make it better.. I'm afraid but I would try it out, I don't know more in this topic than you. I didn't expected ffmpeg to do that.. Ah, that makes sense. So it's not a bug. I would rather start using another file. I fixed this \"bug\" in my development version of my ffmpeg php wrapper.. you may want to add a simple filter -c copy. ;) In my version, it copies the data by default.. Modify the sources. This isn't accessible via an api.. Wait, I got a sudden idea: You may want to manually set the rates, which you can get by ffprobe. I think it takes that long, because in your real video, the rates are different, so ffmpeg cannot copy.. You can do that yourself. ;). @sahadatfci Also, check whether ffmpeg is installed at all, since this project is just a wrapper around it.. Is ffmpeg/ffprobe installed?. closed due to inactivity.. Can you check your php-user do have permission to execute ffmpeg and on these directories?. @ruhong65 Could you close this issue, please?. Nice pr, and looks good to me, but the maintainer is currently inactive... :/. I'm in! @Romain Would love to do that. I think that would also be good for this library. I'll write him a email later this day.. Yeah, good suggestion.. Thank you :)\nI'll obey to your rules :). Can you give me the command you would've expected that is faster when using the prompt?. Use ffprobe to get the values and set it to the format.. @hub20xx Sure, here to help:\n```php\n<?php\nrequire_once './vendor/autoload.php';\n$probe = FFMpeg\\FFProbe::create();\n$bitRate = $probe\n    ->streams('video.mp4')\n    ->videos()\n    ->first()\n    ->get('bit_rate') / 1024;\n// open actual video\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('video.mp4');\n$format = new FFMpeg\\Format\\Video\\X264;\n$format->setKiloBitrate($bitRate);\n$video->save($format, 'myFancyVideo.mp4');\n```\nDoes it work for you? Maybe we should explore into keeping everything in default when it hasn't been changed...\nEdit:\nOh... Sorry for the wrong example, but I thought you want to keep the bitrate, to be honest, you should create another issue for that if you don't want my solution, so everything's sorted.. It's working for me. Could you try the following command to explore what's wrong?\n/usr/bin/ffmpeg -y -i /home/myuser/code/input.mp4 -vcodec libx264 -acodec libfaac -b:v 499k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -vf movie=/home/myuser/code/watermark.png [watermark];[in][watermark] overlay=main_w - 50 - overlay_w:main_h - 20 - overlay_h [out] -pass 1/home/myuser/code/output.mp4.. Closed due to inactivity.. Does only this feature does not work or do you have a general problem?. @Nehadigi Please create a new issue. Thanks :). @chantrea Does it work for you when you use that wrapper @ferryvg proposed?. sorry, wrong button. May you execute the command @ferryvg suggested, so we have something to work with? :). Please come up with a problem where this wrapper is causing, for me it looks like you have problems specifying your paths for the wrapper. Without more pieces of  information, we can't help. Closing for now.. Can you show us your code?. That looks right. How do you save your video? We can only apply the filters when you save it somewhere.\n\nHint: Do not use the same filename.. Ah, wait.\nYour code is actually wrong, but it looks right...\nYou need to do it like this:\n$video\n    ->filters()\n    ->custom('-boxblur 5:1');. Can you execute this command on the shell and tell us the output?\n/usr/local/bin/ffmpeg -y -i test-video.mp4 -async 1 -metadata:s:v:0 start_time=0 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -\nflags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -vf movie=img/logo-white.png [watermark];[in]scale=1080:768 [p0];[p0]-box\nblur 5:1[p1];[p1][watermark] overlay=main_w - 50 - overlay_w:main_h - 50 - overlay_h [out]. Okay, then you need to get your hands dirty and remove all double spaces... Will do this tomorrow if you didn't, I need to learn for my last freakin' class test I write on Wednesday. Then I'm done and I can spend all my time into this \ud83d\ude0d . You see, I don't have enough time... Sorry. I'll look into this later. Maybe someone else has an idea... I'm afraid, but I have to do my work. :/. Thanks! Will take this into account once there is a related issue. :). No, it's not possible without getting your hands dirty. We have a bunch of dependencies that this wrapper actually works, and you would need to download every dependency and its sub-dependencies and the sub-sub-dependencies... And include every file to the running script. I'm afraid but I  think you can't do that, because it would need really long time.. Please fill out the issue template, so we can help you properly... Which version?\n\nIs ffmpeg inside your PATH variable?. I'm sorry, but I don't understand what you mean?. I'm sorry, but we're an open-source project, which means that all communication is public as well, so we don't offer personal support, so we can avoid duplicates. Please provide a real-world example so I can reproduce, and I will reopen this issue.. This is not natively possible, but you can use a simple filter and add the flags(would be nice if you post them here). I'm sorry, but I don't know this. When you have found the ffmpeg code, you can simply add a simple filter.. First of all, thanks for the pr.\nI'll check this out, thanks for the suggestion. :). Woah, I'm really bad at resolving to-dos. Sorry.. Thanks again!. Afaik, this handler does not provide that awesome way to accomplish this if you don't want to split up and/or use the simplefilters.... You need to play a little as soon as I got time.\nvar_dumping https://github.com/PHP-FFMpeg/PHP-FFMpeg#ffprobe with your opened audio file should give you the key.. closed due to inactivity.. Adding more threads without having more cpu cores results in the negative effect. In ideal cases, each processor core should have one thread to handle. So, you may want to set you want to use 4 cores.. All your issues can be solved using the simple filters, but if you'd like to have something provided out-of-the-box, create a separate issue for each one and I'll label it as feature, so once I got more time, I'll fulfill the requests.\nExample using simple filters(for the first question):\n```php\n<?php\n// load your audio\n$mp3 = $ffmpeg->load('myFancyAudio.mp3');\n$customFilter = '--af \u201clowpass=f=3000\u201d';\n$mp3->addFilter(new FFMpeg\\Filters\\Audio\\SimpleFilter([$customFilter]));\n// now save it somewhere\n```\nLet me know if you have additional questions.. What does not work exactly? Can you show us your code?. Well, that looks wrong, yes, but we don't handle these. We just wrap your php code into something that ffmpeg understands, so there's nothing we can do. Please file an issue at ffmpeg itself, not at our end.. Can you show your existing code? Basically, you need to get the format(what is not working for you?) and then you can determine the right class to use as the format. Then you're basically finished.. There is no method format on FFProbe.\nYou get the format like this:\n```php\n<?php\nrequire_once './vendor/autoload.php';\n$probe = FFMpeg\\FFProbe::create();\n$formatString = $probe\n    ->streams('video.mp4')\n    ->videos()\n    ->first()\n    ->get('codec_name');\n$className = null;\nswitch($formatString) {\n    case 'h264':\n        $className = FFmpeg\\Format\\Video\\X264::class;\n    break;\n    // add your format codecs here\n    default:\n        throw new \\LogicException(\"Unknown video format {$formatString}\");\n}\n// open actual video\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('video.mp4');\n$format = new $className;\n$video->save($format, 'myFancyVideo.mp4');. Don't have time right now, but there should be a response in the next days. If I hadn't have replied in three days, please ping me.. Okay, that's a bit of a problem here. It might be a good idea to refactor the code and make some other ways possible( #403 and so on) and implement it right here.. @sagarnasit Just for clarity: is that the code which prevents that or is it just your testing snippet?. @sagarnasit I think because of these settings: https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/a1d5fa51ba94929c93e9a03dce16990d6ca177bc/src/FFMpeg/Media/Video.php#L162-L183. Yeah, that's a valid approach.... Will implement this as soon as I got more time and more fun implementing those. Somehow, I like writing comments, but I lack of implementing things.... \ud83c\udf89 \nMay you say whether it works for you too @huglester ?. Yeah, that's actually true, but I will check whether I can implement other feature requests until I tag a new version. :). Does the synchronize filter help?. Seems to be right... Will have to investigate, but I have a time lack... :/. Hi there,\n\nWould an example application help?\n\nYeah, that might be a good idea. At the moment, I'd got some time and I'm digging through the issues here.. @acircuit The same counts for you. Could you send me the files and the code you're using privately, so I can take a look?. The files are being connected by ffmpeg itself, we do not handle that. Can you elaborate, please?. Ah... Okay, that sounds reasonable.... will have a look... I think something serious broke... don't have time.... Either using ffprobe, or you check the classname.. You need to include the composer's autoloader.\nrequire_once './vendor/autoload.php';. Can you share the file, please?. Upload it to Dropbox, Google, or, when it's a quite small file, you can select it when you click here:\n\n. will look into this later this day. :)\nThanks for the file. It works for me, the bitrate is 3895951 / 1000 = 3895.951\nWhen it doesn't work for you, it is more likely a ffmpeg bug... Are you sure you're on the latest version?. > and you can see this event in task manager by cpu percentage.\nvideo editing in general is quite expensive\n\nwhen i test it with cmd and write command line i have not this problem !!!\n\ncan you share the command you use for that case?\n\nrefresh destination directory for many time (during converting) you can see file size increase to max suddenlly file size change to 0 and again increase to max.\n\nThat's how moving a file works. :/. Sorry, but personally I don't see the problem happen live.. @Miky94 Yes, it is. That's when ffmpeg is finished, closing the internal cursor(drop to 0) and then it's done.. The video you have looks to be the audio cover. Does the audio file has one? . Can you give me the file after removing the metadata? I'm sure it will not remove the cover itself.... I'm not aware how you can tell the lib to do so. \nfirst of all, I need to get something so I can reproduce it.. Could you pass me the file, please? For example by e-mailing it to me. :). I can reproduce it with the file you sent and the following script:\n```php\n<?php\ndeclare(strict_types=1);\nrequire_once './../vendor/autoload.php';\nuse FFMpeg\\FFMpeg;\nuse FFMpeg\\Media{Video, Audio};\n$ffmpeg = FFMpeg::create();\n$mediaFile = $ffmpeg->open('sample.mp3');\nif ($mediaFile instanceof Video) {\n    echo \"Hit!\";\n}\n```. I think I know why this happens. \nFFProbe gives the following reply when I ask what streams the audio you provided has.\njson\n[\n  {\n    \"index\": 0,\n    \"codec_name\": \"mp3\",\n    \"codec_long_name\": \"MP3 (MPEG audio layer 3)\",\n    \"codec_type\": \"audio\",\n    \"codec_time_base\": \"1/44100\",\n    \"codec_tag_string\": \"[0][0][0][0]\",\n    \"codec_tag\": \"0x0000\",\n    \"sample_fmt\": \"fltp\",\n    \"sample_rate\": \"44100\",\n    \"channels\": 2,\n    \"channel_layout\": \"stereo\",\n    \"bits_per_sample\": 0,\n    \"r_frame_rate\": \"0/0\",\n    \"avg_frame_rate\": \"0/0\",\n    \"time_base\": \"1/14112000\",\n    \"start_pts\": 353600,\n    \"start_time\": \"0.025057\",\n    \"duration_ts\": 570286080,\n    \"duration\": \"40.411429\",\n    \"bit_rate\": \"298356\",\n    \"disposition\": {\n      \"default\": 0,\n      \"dub\": 0,\n      \"original\": 0,\n      \"comment\": 0,\n      \"lyrics\": 0,\n      \"karaoke\": 0,\n      \"forced\": 0,\n      \"hearing_impaired\": 0,\n      \"visual_impaired\": 0,\n      \"clean_effects\": 0,\n      \"attached_pic\": 0,\n      \"timed_thumbnails\": 0\n    },\n    \"tags\": {\n      \"encoder\": \"LAME3.100\"\n    }\n  },\n  {\n    \"index\": 1,\n    \"codec_name\": \"png\",\n    \"codec_long_name\": \"PNG (Portable Network Graphics) image\",\n    \"codec_type\": \"video\",\n    \"codec_time_base\": \"0/1\",\n    \"codec_tag_string\": \"[0][0][0][0]\",\n    \"codec_tag\": \"0x0000\",\n    \"width\": 600,\n    \"height\": 600,\n    \"coded_width\": 600,\n    \"coded_height\": 600,\n    \"has_b_frames\": 0,\n    \"sample_aspect_ratio\": \"1:1\",\n    \"display_aspect_ratio\": \"1:1\",\n    \"pix_fmt\": \"rgb24\",\n    \"level\": -99,\n    \"color_range\": \"pc\",\n    \"refs\": 1,\n    \"r_frame_rate\": \"90000/1\",\n    \"avg_frame_rate\": \"0/0\",\n    \"time_base\": \"1/90000\",\n    \"start_pts\": 2255,\n    \"start_time\": \"0.025056\",\n    \"duration_ts\": 3637029,\n    \"duration\": \"40.411433\",\n    \"disposition\": {\n      \"default\": 0,\n      \"dub\": 0,\n      \"original\": 0,\n      \"comment\": 0,\n      \"lyrics\": 0,\n      \"karaoke\": 0,\n      \"forced\": 0,\n      \"hearing_impaired\": 0,\n      \"visual_impaired\": 0,\n      \"clean_effects\": 0,\n      \"attached_pic\": 1,\n      \"timed_thumbnails\": 0\n    },\n    \"tags\": {\n      \"comment\": \"Cover (front)\"\n    }\n  }\n]\n(Note that the audio cover gets mapped as an video, confirming what you have said before!). Honestly, I'm not sure how to fix this problem without involving breaking changes. \nThe fix for this behavior is as simple as applying this diff:\n```diff\ndiff --git a/src/FFMpeg/FFMpeg.php b/src/FFMpeg/FFMpeg.php\nindex 91ce361..f5dfa58 100644\n--- a/src/FFMpeg/FFMpeg.php\n+++ b/src/FFMpeg/FFMpeg.php\n@@ -93,7 +93,11 @@ class FFMpeg\n             throw new RuntimeException(sprintf('Unable to probe \"%s\".', $pathfile));\n         }\n\nif (0 < count($streams->videos())) {\n$videoStreams = $streams->videos();\n+\n// do not detect audio artwork(encoded as a png) as a video stream\n// workaround for not needed ffprobe feature\nif (0 < count($videoStreams) && 'png' !== $videoStreams->all()[0]->get('codec_name')) {\n             return new Video($pathfile, $this->driver, $this->ffprobe);\n         } elseif (0 < count($streams->audios())) {\n             return new Audio($pathfile, $this->driver, $this->ffprobe);\n\n```\nHowever, it might be possible that some have profited out of it and expect it as valid behavior, even though it is really complicated (and not making sense for me personally).\nI wonder whether you could run this (fairly simple) patch in production for a little while and report whether it works without creating new bugs, @pieterdt?\nThanks for providing a file I can reproduce with.. @pieterdt Did you found any regressions?. duplicate https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/402. It's not possible, but it would be quite useful for debugging purposes... will have a look as soon as possible.... Why the travis build is stuck?. I opened another pull request, because the procedure to merge this is not worth it. In a nutshell: You've been automatically excluded from travis ci builds because of spam.\nBut: Thanks for the pull request and your proposed change:). Sorry, but personally, I do not want to support users who just want to copy and paste their code. If you have concrete problems, we can help you, but we won't do your job.. This isn't possible at the moment, unfortunately... this would result in many breaking changes while reviewing the code behind it. :(. Looks good to me, can you provide the tests please?. Looks good to me, but I will check the changes again when I've got more time\nThanks!. That's valid, because we didn't come to a point where we use the video defaults, but specific rates... I don't know the exact issue number in the moment, but there is one... :c. Duplicate of https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/172\nSo far I didn't found an solution. \ud83d\ude2d . Not yet, it would be possible using SimpleFilters, but its not natively possible.. Oh.. 6.3 is just for PHP 7.x :(\nmaybe PHPUnit 5.7, which would mean that we drop support for anything less than php 5.6.\nThoughts?. Okay, nice to hear that. But #419 confused me a bit. Thanks for the response!. PHP 7.0 will be EOL before to PHP 5.6. Okay, let's jump to PHP 7.1 directly(I'm sooo happy to do this). @griffins What do you want to say with this?\nThe change is actually done, and it works great :). @acodinguy I'm sorry? Could you elaborate on this?. Updated the issue description with tasks.. lgtm.. Well, it would be quite helpful to see what the error is. Do you have FFMPEG installed on your server?. @tammyruihuang See here: https://guides.github.com/features/mastering-markdown/#examples. Closed due to inactivity.. https://github.com/PHP-FFMpeg/PHP-FFMpeg#ffprobe\nYes, and when you var dump an instance, you can see what it has been called or you're doing a dictionary attack and check how the property is called.. May you show your code please?. Please read the README file and please do not insert code as a screenshot.\nHINT: The namespace is wrong.. Okay, that's something to work with. :)\nDo you have ffmpeg installed? Remember, this is just a wrapper around it, so you can work with it without dealing with the command shell.. I don't mean php-ffmpeg, but ffmpeg itself. You can download the binary files at https://ffmpeg.org/ This libary is a wrapper for it.. Okay, seems to be another duplicate of #172 \nCould you try setting it manually? https://github.com/PHP-FFMpeg/PHP-FFMpeg#ffmpeg. Please do not create multiple issues for one topic. Duplicate of https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/416. Yeah, thus I encourage you to answer on the previous issue. We're here to help, but it looks like you didn't read the readme, and it's really annoying to help someone who can't read what is in the readme... Please understand my position.. Unfortunately no, it cannot at the moment. It looks like it would introduce major breaking changes. But yeah, it's interesting.. Yeah, that's the plan. I forgot to mention, that the 0.x tree would get deprecated.. @huglester because I want to support the latest supported PHP Version too, because literally any framework does that(and there are some dependencies to this utility, too). Okay, it looks like they've been changed the file structure. Will remove the link, since I have no possibilities to fix that. :/. This isn't implemented yet. You may end up using SimpleFilter to achieve this functionality.. In a nutshell: https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/d386cc0ceae5d74506acd909d2e188bd9f80fdb9/src/FFMpeg/Media/Video.php#L70\nYou can do simple parameters with it.. The filters are getting appended in the middle, so between input.gif and output.mp4, does it work for you also when you do the filter between it? I don't think so.. Ehm, at least they're not exposed to the user.. > I would be open to creating a pull request for these things\nPerfect, I'm lacking of time at the moment, again. Class tests :( Thanks in advance!. Are there some more pieces of information from the error?. I'm sorry, but we won't write code for you. If you have a specific question, do not hesitate to ask, but we won't write code for you. (SimpleFilter is the key). Please look into the readme file or write your injury in English.. I think https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/c64c9e764b80de104a3ebe5a199967ee738eb17d/src/FFMpeg/Media/Video.php#L87-L110 is the problem. To clarify, can you transcode it in the command line and tell use the size?. @kminek Well, yeah. You could also try to leave out all parameters PHP-FFMPEG appends.. Closed due to inactivity.. will check this now, please hang on for a moment :). yap... can indeed reproduce it. \ud83d\ude37 \nthat's quite bad... because I do not want to touch the video encoding part of php-ffmpeg in the 0.x tree(neither I'm sure which setting is the root cause for this), because it is quite critical and personally I do not trust the tests that much anymore, although I'm still in love with them. Will mark this as bug and assign this to the upcoming 1.x milestone. But I do not know yet when we will be able to publish it.\nI'm sorry. :/\n  . As far as I know, the current implementation using strict types forces you (because of a reason I don't know) to encode it multiple times. Let's make that better in 1.x (we plan to do that and deprecate the 0.x tree #412 ). First of all, encode it as an audio whithout any filters(like you did, but just remove the filter line). Then reencode the finished audio with your cutting filters.. Not yet, please open a new issue @phylaxis and it will be added to 1.x. Can you try to crop the video? https://github.com/PHP-FFMpeg/PHP-FFMpeg#crop\nWhen it doesn't work, could you send me the files?\nRegards from Germany to Germany :). Okay, but I think this bug seems to be an bug with ffmpeg itself. Could you build the command to do that by yourself and test out whether it works then? (I want to check whether it is really a bug with this wrapper or not)\n(I'm really lacking of time atm \ud83d\ude22 ) . Using a Try-Catch Block should help. Please use the search engine of your choice before asking us.. Do you have a code? We do not write code for you nor this should be a forum.\nIf you have a code, we're glad to help you.. I think you'd need to explore yourself. I do not use YouTube actively at all, so I can't help.. Hi,\nI just noticed that you are trying to encode wmv with the h264 codec, which won't work.\nAs stated in https://github.com/PHP-FFMpeg/PHP-FFMpeg-Extras , it is still on our todo list. When you want to provide a pr, please go ahead, I'm willing to merge it, but personally, wmv is dying and thus I'm giving it a quite low priority(and I have close to no time atm). . Hmm... That's weird. You should be able to set the metadata. Unfortunately, I'm on vacation and can't test it out.. Could you fix the tests please? When you need some help, I'm here to help you.. Thanks! \ud83c\udf89 . Release is on its way ;). It's released. Thanks again! :). Hmm... Personally, I hate PSR-2(and its usage of the braces in newlines) and I created my own. But I was too lazy to write it down to something like Codesniffer.. I decided to use CodeSniffer as of now. Won't be fun to do that, but we need to do it.. Done. We're using psr-2 as of now. the codebase however still needs updates.. Reopened for the task of document everything. :). Yes, it needs it. it's just a wrapper. You can download windows binaries, too.. Perfect, thanks! I started to migrate already, see the v1.x branch.\nRef: #412 . any ideas? I'm not sure anymore what I initially wanted to present there.. You should use extra parameters instead to do this :). can you try moving the filter lines? So first your cutom filter and then the crop one? Could you share your file?. Well, I meant the file test.mp4 which you are trying to encode. Or does it work with any file? I'll check that tomorrow.. I'd like to have something I can reproduce it. ;)\nBut in general, no, it's not possible to force any kind of priority. I was able to reproduce it, and I'll take this as a feature request for version 1.x(which is in development.). Here: https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/a99804b6b929c968ec497d7ee2a21693747f1db0/src/FFMpeg/Media/Video.php#L143. Could you update the readme, please?. But you could mention that this format actually exists. ;). I'm not sure on what you want to achieve with -r 6. Could you clarify on this?. Ah, that link was good. I'll respond later today, since I'm in a hurry, in the meantime, you could look for https://github.com/PHP-FFMpeg/PHP-FFMpeg#extracting-image although custom number of frames is not implemented, yet.. Could you send me the file you're trying it with?. @rvsky To be able to reproduce it.. Let me set up my environment ;) I'll message you in a few moments.. There are no more pieces of information there. What version of FFMpeg(the software itself) and the wrapper(this) do you use?. You're code is incomplete. You need to save the actual file, that's why your error logs are blank. Please refer to the readme of laravel-ffmpeg on how you save it.. @nise Do you want to do that? :). When this reproduces, this is a major bug. But I don't have time for that, at the moment :(\nCould someone else confirm this?. I'll check this at the weekend. And then we should be quite fast with fixing, because the api is not working as expected.. I'm not able to reproduce this issue somehow?\nCould you provide a example video? I'm seeing the results as they're meant to be and the automated tests are not looking like they're false.?. Thanks :). Could you work on the tests please? Many tests are failing :(. Oh, that's strange. Tests that are supposed to work are failing. Actually, invalid Framerates should be thrown too... I simplified it too much. :/\nWill push the change to the branch this afternoon.. Could you file it again please(without that framerate test)? actually, I wanted to pull from the latest commit, but instead, I merged. :/. Good idea. I'm glad you're here to contribute. :)\nLet me know if you need some help. :). It won't work, because of the countable thing. :/\nCould you instead let it allow to fail?. Okay, I think I'm kind of stupid but we still use deprecated methods :/\nThanks!. ... but you need to check, that the interfaces complies with the method signatures :/. Yeah, please. I want to avoid merging something where tests are failing.. Thank you. :). awesome :). what's the exact error? Do you perhaps save to the same file you were reading out?. Does ffmpeg have the right to create, read and modify files in those directories?. does the user have permission to write and read from the tmp directory?. You can use SimpleFilters to achieve that functionality.\nAdding this as a feature request for 1.x.. @johanneshro Would you mind creating a pr against 1.x?. psr-16 is more than enough for us, no need for psr-6. ;). done. Moved to Psr\\SimpleCache while using Sabre's Memory Cache as a fallback. :). @romainneutron Sure, but I do not have permission to fork any repositories to this organisation. :( So I'm okay that you're forking it to here, so I'm able to take control.\nAnd perhaps you could give me permission, so I can maintain the driver myself(with the community).. Yeah, it works. Thank you!\nClosing this issue, as we will maintain it over there.. @romainneutron Perhaps you can link the old repo to the new one and perhaps abandon your package on packagist, so the users can use the maintained version?. You could try debugging here(using Throwable#getPrevious(): https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/2649d45b7b5b67e2699fff695a1ee7e800e4ff64/src/FFMpeg/FFProbe.php#L263. Closed due to inactivity.. Could you show your code?\nPlease notice that this is a wrapper and thus most \"bugs\" are created by users having wrong expectations. Take a deep look at permissions for your system.. Closed due to inactivity.. Could you post the full exception message please? . The exception message does not match to what your code is saying. \nCan you verify that the user hosting the php process has access to the tmp directory and any files you're touching?. > According to error message he looks for ffmpeg in / usr / bin / ffmpeg\nwhat was not with wmv and webm (new files have also copied there and reboot)\nThe Format does not change how the executables are being looked up in any way.\nCould you try changing the method save to getFinalCommand? Do not change the parameters. It will give you the command that will be executed under the hood. Next, try to execute the given command in the CLI and report to us what you can see.. The code will be returned that you need to execute.. Please check the permissions of the user executing the php script.. Please write in proper English sentences.. @nise Could you please ping me in a few days? At the moment, I do not have time to troubleshot.. @nise Not yet.. I think we might set parameters that confuse ffpeg.. Hello! :)\nThis should not be done with this library, because a memory leak is going to come, because we store much information about the rendering process, because actually it is supposed to be used for short-living scripts. It should not be used for hours, days, or even months without a restart of the php process. (Unfortunately, the PHP GC is not that good.)\nThe hole library is not compatible for using pipes, and it would be a big b/c break and at the moment, I'm restricted to use Windows, so I can not test it, while this is a key goal.\nI'm sorry.\nPerhaps you could dig in other wrappers, e.g. node.js. Thank you for interest.\nI closed the issue, but do not worry about asking questions about your project.. Hi,\nthanks for the issue. This sounds quite interesting to me, because actually everything is done synchronously(which is why the performance isn't that good at all). You can test this by outputting \"my random value\" and you see that it is done after(!) the frame has been extracted. You may want to add a sleep call to it.\nIf you see any patterns, I'm looking forward to test and fix it.\nThank you!. What happens if you check the filesize when restarting the script(and removing the FFMpeg-part)?. I don't know. perhaps this is a cache by the operating system?\nBut tbh, I don't know.. @sm2017 Did you found out something new?. Uh. This is dilemma. Looks like we need to write our own temporary filesystem wrapper since neutron/temporary-filesystem is not maintained anymore.\nI can't help you with this, because we may not upgrade any third party dependencies to avoid breaking changes.\nWe will resolve this with version 1.0.. >  If not, we can create new fork based on old filesystem\nThat's the plan.. I created a fork, and added compatibility with that. I referenced composer to use my fork as of now, till the branch has been merged.. ah, thanks for the heads up. Fixed.. I will wait, since 1.x is somewhat scheduled to be released this summer(I plan to release it on my birthday, July 12th).. > Is there a workaround for this problem until version 1.0 is released?\nRely on the v1.x branch, which is not stable.. That shouldn't be possible?. use laravel 5.3 ;)\nI'll look into this later today.. > But I got another problem as long as use getenv functios\nSorry? Could you open a new issue with detailed information?. see https://github.com/PHP-FFMpeg/PHP-FFMpeg/pull/559#issuecomment-423138352. New release is out. :). Please open a new issue, because it is (probably) unrelated to this. Please include your full composer.json there.. It is implemented, but I need to write tests(as of 1c218ba8a7cf5cbae2bf3bf2b0f5348cf4480a3f). I'll do this as soon as I fixed the existing tests.\n. Hi,\nthanks for creating the issue. You're right, the functionality is not implemented. We'll take this into account for 1.x. In case somebody wants to help us, feel free to ask questions and finally, create a pr. . Would you mind creating a pr?. I'd like to have this in a pr for the 1.x branch. So in case somebody wants to commit this change and write tests for it, I'm happy to merge it.\nIf you need help, do not hesitate to ask.. No worries :). 0.4 is the wrong branch. You need to push againt 1.x. No, unfortunately it's the wrong branch again. I want you to create a pull request based on v1.x from your branch. You need to do a commit on that new created branch. :). Hi,\nthanks for creating such an issue. Unfortunately you need to work around with this, because it isn't supported to achieve exactly what you want to do. You can achieve this using SimpleFilters that will create and modify the command, so you can inject custom (sub-)commands.\nIn case you have more questions, do not hesitate to ask.\nRegards\nJens. duplicate of #470 \nPlease do not use words like help. Thank you. Oh, and search for duplicates, too.. You can initialize it and catch all FFMpeg\\Exception\\ExecutableNotFoundException exceptions that are being thrown when the executables couldn't be found.. Please use the issue template, so I can give you an proper answer.\nCan you elaborate this?\nsome cases but giving trouble in some other.\nPlease check the syntax of the executed command. Using additional parameters is risky.. > Please use the issue template, so I can give you an proper answer.\n\nPlease check the syntax of the executed command. Using additional parameters is risky.. Then that's not a problem of this lib, but a ffmpeg issue.. I can only say that the process is identical and we do not handle any file extension special. Perhaps you need to change the video codec to the one that fits to that movie-file.. Could you post the complete code? Is FFProbe installed on the system?. perhaps a bug of php or the operating system? I'd like you to file a php bug then, because this is the wrong address for this behavior.. :/\n\nWe're using proc_open under the hood: https://github.com/symfony/process/blob/768debc5996f599c4372b322d9061dba2a4bf505/Process.php#L290\nI'm sorry.. And then I replaced 'Process.php ' , but the error had no change What do you mean by that?. Closing due to inactivity.. Thanks!. Only custom filters. Added as a feature request for v1.x. Thanks for your interest. However, documentation does not exist yet. :/ Code design: PSR-2.\nIn the best case, you'd add a method the audio filters with a string $previewImage and then instantiate a (new) class that returns the parameters given in the issue description. Feel free to ask if you have any further questions.. On v1.x. Thanks! I'll review once you filed the pull request.. I like the general approach, although we should look whether we can cleanup the section with v1.x.\nPlease fix the commenting style and write a test for this(so this will not happen again) and I'll merge it and immediately file a release.\nIf you need help, do not hesitate to ask. :). v0.11.1 is out \ud83c\udf89 . Is this worth a patchlevel release?. duplicate of #418 \nIn the meantime, you can use SimpleFilter.. @ContatKarc You can see https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/233742db0a0ec9b7e648b49b5725c36e16ca4e26/tests/Unit/Filters/FiltersCollectionTest.php#L42-L50\nand https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/233742db0a0ec9b7e648b49b5725c36e16ca4e26/src/FFMpeg/Media/Audio.php#L36-L50\nThis is how it works.. I'm not sure what you mean?\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg#concatenation\nIs this what you want to do?\nBefore this, you'd need to cut and save the videos on your own.\n(btw, helping with the documentation is highly appreciated, so in case you want to improve it, feel free to file a pr). Alright. Closing this. If you have any questions, feel free to write a comment.. > I just want to add a PNG frame over video.\nI'm not sure what you want to do. Do you want to watermark your video or are you trying to make thumbnails out of it?. Please understand that we do not give support on using FFMpeg in general, but we focus on using this php-library. Please use a appropriated way(e.g. something like a forum dedicated for ffmpeg) to ask specific questions on how to use ffmpeg fiters.\nThis library is not affiliated with the FFMpeg project in any way.\n\nprocess should run in background. because application is public\n\nThere can be a video encoding worker executed in the background ;)\nPHP is not limited for serving webpages.. Please tell us which ffmpeg version you're using.. Can you make sure that the directories referenced in your code are existant?. Alright. Can you only let it save one video(so only one export)?\nThen, if this still doesn't works, I need you to modify the statement to something like this:\necho $video->getFinalCommand($myFormat, 'my-test-export.EXTENSION');\nThen, please execute the command you've been given with the user that hosts the php thing and send me that output.. I told you to use the command that we provide. You should not use your own command.. You're not using the library? I'm actually curious to dig down to find the core problem, but I need you to work with us.. Alright, closing this. Thank you.. effectly the same as #470 . No, it's not. You need to resize it before.. If you want to, feel free to add an PR which solves this problem for you, although personally, I'd rather resize it before.. Could you elaborate on what you want to achieve with this command? You want to extract each frame, but I'm unsure why you want to set filters(and what are those expected to do?).. > When I use extractMltipleFrames(ExtractMultipleFramesFilter::FRAMERATE_EVERY_60SEC, $dir) using 1 minutes video, I get 1682 images (frameXXXX.jpg) AND for some reason I also get output_XX files.\nThis sounds like a bug, would you consider opening a new issue for that, so we can check that? Could you upload a video file where you can reproduce with? Actually, we should have tests that should guarantee this functionality.. > Plus, I was thinking about doing a PR which allows one to choose the image type of the frame (e.g jpg/png/etc). What do you think?\nFeel free, I'm curious :). > Do you have any idea what would be the right way to use the extract multiple images method while keeping the maximum quality?\nI'm sorry, I actually never used that method and I haven't written it.. Thank you for the report! Will look into this in the next days, I'm in a hurry atm. Feel free to ping me when I don't reply until Thursday. :). So, do you have a point where I can step into?. Alright, that is very helpful. Thank you! I'm going to investigate, now.. I can confirm this, but tbh, I don't now why ffmpeg declines with Could not open file : output/frame-01.jpg. . > I'd start with removing passes and see if it changes anything. Also, is it possible to do somehow do $video->save without saving another file?\nNo, because we somehow need to track its progress in a general way. Literally what I'm doing:\n\nSet up my env\nDownload your test video directly to avoid long running scripts(just wastes time).\nModify the last section to\n```\n$finalCommand = $video\n    ->getFinalCommand($format, $path);\n\nvar_dump($finalCommand);\n``\n4. Copy out the first command in that array.\n5. Prependffmpeg ` to it, remove the pass things and let it run.\n6. Get confused about the result \ud83d\udc1b \nSo atm, I'm trying to find the parts of the final command which are breaking these things.\n--\n\nI can open the frame%d.jpg/png files but can't open whatever comes from $video->save(format, 'output%d.jpg').\n\nI'm not trying to open then, that's the error of ffmpeg itself(not of this wrapper!). Ah, okay. \nGot it!\nWe're setting the output thing twice, so instead of\nffmpeg -y -i test-video-494.mp4 output/frame-%02d.jpg -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -vf [in]fps=1/60[out] output/output_%d.png\nwe should use\nffmpeg -y -i test-video-494.mp4 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -vf [in]fps=1/60[out] output/output_%d.png\nNote that we're only giving it one output stream and perhaps ffmpeg thinks we give two inputs to it.\n--\nPerhaps you want to fix it? It's an easy bug after the first look. :). Awesome, could you please file a PR(with tests) as soon as the current one has been approved? Please do not do it yet, because your first PR is based on the master branch.. Would you mind filing a pull request @vincenzodibiaggio ?. A note for future PRs(in general): Please do not make your changes on your fork's master branch, but instead create a new one. This helps the reviewers, for example when you're filing another pr, while the previous PR was not merged, the changes are included in there. . will need to test this, hopefully tomorrow I've got time to play around with it. Please be patient.. Works good!. Please change the line $video->save(new FFMpeg\\Format\\Video\\X264(), 'done/export-x264.mp4'); into $video->save(new FFMpeg\\Format\\Video\\X264('libmp3lame'), 'done/export-x264.mp4');\nduplicate of the reasons for #322 . duplicate of #470 . Looks good, but because this is a bc break, I cannot publish it in the v0.x branch, but only in the upcoming v1.x branch.. Last step for now, please resolve the conflicts. If you need help, do not hesitate to ask :). Afaik, you're forced to resolve them online and then pull from your (updated) branch to the local one.. This is not supported, because SimpleFilter are appended(at the very end). . > Failed to inject frame into filter network: No such file or directory\nAre you sure the given file exists? If so, could you attach it?. Okay, I then would like to try it out myself. Could you post your watermark(or send it privately) and an example video?. Thanks for the files, but this is a ffmpeg issue itself. Please file it there.. Glad you've got it! :). That's strange, could you please verify that the user hosting the php process has enough permissions to execute files and open new processes?. Okay, then it's most likely that the user may not open new processes.. We still use ffprobe and ffmpeg under the hood and open new processes to get the output of it(and handle it). This library is bascially a wrapper, so you do not need to create the command yourself, but we're managing it under-the-hood.. Thanks for reaching back!. Just one more thing and we're done. :) Thanks for your patience.. Thanks, I'll get back to this as soon as I found some time :) If you need to do something more, feel free to do it :). @lasselehtinen Sorry I missed your branch, but thanks for pinging me. If the update does not fail, I'm happy to merge and release.. duplicate of #470 . What about doing a simple search before this? Duplicate of #470 . Could you please elaborate?. Alright, thank you! :). You do need to install any extension for this project. Could you post the full error please?. Could you try referencing directly to the executables? https://github.com/PHP-FFMpeg/PHP-FFMpeg#ffmpeg I do not have any deep experiences with centOS, unfortunately.. You're supposed to change the arguments of FFMpeg::create :)\n. Oh. I'm sorry, but I can't help you with this, because the project is not affiliated with us(and personally, I never heard of it).. We do not need the php.ini file. Why do you intend to change it?. Okay, I see. I think you should rather use this library directly and stop using this (unmaintained) wrapper.\nPlease use composer to use this library,I'm not able to give you support for that weird extension.. Yes, that's true. Sorry for the confusion.. No, we use proc_open under the hood.. This sounds like a permission problem identifying itself as too old.\nCould you verify that the user hosting the php process has enough permissions to execute, read, and write in the directories?. @laravelish I'm not able to reproduce it?. There are no built-in filters for that, you would need to use SimpleFilter. If you want this to be included in v1.x, please create am new issue and I'll handle it as a feature request.. Could you please verify that there are enough permissions for the user hosting php to execute those files?. Often it is the www-data user, and this user(group) needs access to all input files, the binaries itself(ffmpeg, ffprobe..) and the output folders.. Could you just allow the folders to be accessed by www-data? I do not use linux as a daily-driver, yet. I'm sorry. But this issue is more likely a permission problem.... Unfortunately, then, I don't know why that should fail. Do you allow proc_open in your php.ini files?. Puuhh.. Okay, thanks. I'll remember that.. Piping is not supported by this library, and due to PHP lack of support(and usefulness) for that, I need to say that we can't do this. I'd rather use another programming language for that. :) But yes, the idea itself is really nice.. @jerauf Why did you closed the issue?. Ah, alright. Thanks for the clarification.. Which values?. That's not possible, because PHP is not event-driven.. There is no built-in support for that. You'd need to use SimpleFilter's all over the place. I think it is not possible to use this lib, because basically everything bases on one input path, but you could look how far you can go with the concat feature.. This is because we need to specify an output format in the current version. Adding this as a feature request to remove the need to re-save the video.. Feel free to file a pr ;). That's not possible, as it is not intended to do that.. I don't know whether it is possible, but in case you already found a solution, please feel free to file a PR.. Did you make sure to explicitly specify the path to the binaries?\nIn the future, please fill out the complete issue template.. Could you add the .exe suffix to the binaries' path?. > windows must specify exact path\nfuck windows\n\ud83d\ude00 \nGlad it works!. Okay, sorry for my confusing, I just looked up and that would mean a huge effort, I'll do that for v1.x(the upcoming release branch). . > ffmpeg irc claims it can only be set in a file list input.\nYep, we're doing this under the hood. That would mean a huge implementation effort. I would check whether we can implement it in v1.x.. Sounds great, unfortunately I don't know, yet, how we could gracefully handle the error without need to preparse the file and having a lot of overhead(we could also improve maintainability and future-proofing).\n\nAs it stands now it takes an array of file paths and makes its own file list if I read the code correctly, could it not take an array that includes the path and duration? \n\nThat would mean a breaking change, and the Concat is a little bit different(implementation-wise). It would mean we would need to clean it up (a lot). I think it will be worth it, but it would take some time. I want the v1.x to be a huge improvement, but I'm missing the time I'd like to have to make it awesome. :/. I think that's a feature request then. Would you mind creating a PR? I will allow it to be included in the current branch.\nThanks for the investigations!. > It's a fair performance hit for a minority of cases, you'd want to possibly have it as a different command call.\nThat's the struggle I'm under. When we would rewrite the logic to fetch it dynamically, I'd need to check whether that would mean breaking changes.\nMoved to v1.x.. What do you mean by crashing? This is probably some PHP bug, since I develop the lib using PHP 7.2 only. On what system you're experiencing this?. Could you please get in touch with core PHP developers? I really don't know how I need to handle this. \nI'm sorry. :(. still, I'd like the issue to be resolved, not to be worked-arounded. :/. Please remove the $flags parameter. Users are expected to use SimpleFilters. Documentation will follow.. Looks good, I just found something worth to make a little discussion. :) Thanks for your contribution!. > Can't we not remove flag because we could need one or two flags that could be added to customize the video output which i don't want to hard code in the function.\nI can see your point and understand it pretty well, but that would mean another way of injecting additional filters. Users are encouraged to only use this: https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/a1d5fa51ba94929c93e9a03dce16990d6ca177bc/src/FFMpeg/Filters/Audio/SimpleFilter.php\nWhich is really identical.\nSo what you do instead:\n$audio->addFilter(new SimpleFilter(['-r', '30', '-crf', '23']));\nDo you understand my point?. The ci build failure is not really/only related to this pr, I'll take that.\nThank you! \ud83c\udf89. Could you please explain me a use-case for this? In general, you should inject them via the class construct parameters(and the set*-methods) and should not modify them later.. Please read basic composer usage docs..\nSee require 'vendor/autoload.php';. Oh. I misunderstood this totally... Sorry. But personally, I think we would need to require root permissions and we would need to handle different distros and operating systems.. > From the top of my head, we could do new Symfony\\Component\\Process\\Process('ffmpeg -v') and inspect the response in a PHP file which would run before composer installs required libs.\nThat would require that ffmpeg is either in $PATH(linux) or %PATH%(win), so it's not 100% sure that it doesn't exist, because php-ffmpeg allows you to specify the binaries.. updated my comment. > Sure, but that's the norm.\nI still think it's to hard to let the hole process fail. Adding as v1.x, but I'm still not sure. If we implement it, it would mean a semver-major would be needed.\nPerhaps we should consider issueing a warning instead?. > don't you require ffmpeg in $PATH for use in this lib anyway?\nNo, see https://github.com/PHP-FFMpeg/PHP-FFMpeg#ffmpeg\nI'm using this option on my testing environment every day.. >  can just advise that the library wasn't found and how to install it depending on OS\nPersonally, I would use a really defensive wording, like it's a notice, but not anything dangerous, users only need to specify the exact path in further uses. Would you like to file a pr? . > Nope because I've decided not to use the lib, my problem was that the documentation for concat was confusing (in the example you pass a string for output file, PHPDoc state an array)\nCould you please still file another issue for that? Please understand my point of view. I can only fix bugs that I'm aware of. I did not implemented nor reviewed the Concat feature.. Please respond on the issue item, first.. The problem here is, that the documentation is right, but the phpdoc is right. \nPerhaps the person implemented this had been confused with this line, where he is converting it internally into an array: https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/a1d5fa51ba94929c93e9a03dce16990d6ca177bc/src/FFMpeg/Media/Concat.php#L140. I'll need to check whether we can improve the binary guessing location. Could you please share where your binaries are located, exactly?. Thanks, I'll check what we can do :). @Broutard May I ask you how you configured it? Do you use mod_php in apache and php_fpm with nginx?. /usr/bin/ffmpeg -y -i video.mp4 -async 1 -metadata:s:v:0 start_time=0 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -vf [in]scale=320:240 [out] export-x264.mp4\nWhat happens if you execute this command?. pardon me, I forgot a part of the command. I updated the comment of me. Could you try again, please?. I need to finish the 1.x version..\nChange $format = new \\FFMpeg\\Format\\Video\\X264();\nto\nphp\n$format = new \\FFMpeg\\Format\\Video\\X264();\n$format->setAudioCodec(\"aac\");. > it suggests me the codecs that are available\nNo, that would be a feature of v1.x. It only compares whether the codec you entered is in a list of codecs that we know this format is working with.\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/e91b2276e349e28030e6d2a46eb292294fd5e947/src/FFMpeg/Format/Audio/DefaultAudio.php#L59\n. @qcjackman Could you create a pull request please?. thanks, thought I had to do this myself. Yeah, I really need to fix all these problems, want to do this in the next two weeks, since I got (school) holidays. :). Could you also fix the test expectations, as they are also wrong?. Thanks!. Sorry, but please do that on your own. I really do not like somebody blindly copying and pasting something. You should know what your code is doing.. Could you please resolve the conflicts?. Thanks, the last step would be to modify(fixing) the existing (wrong) tests. If you need any help on that, do not hesitate to ask :). @vincenzodibiaggio Hi, do you need help fixing the tests?. It doesn't work yet. A search on the existing issues would yield to an already existing issue: https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/470. Thank you.. Please file this issue at symfony's repo. This is not our problem.. Could you please execute the command C:\\ffmpeg\\bin\\ffmpeg.EXE -y -i C:\\wamp64\\www\\memevibe\\vid.mp4 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 256k -ac 2 using cmd and report the output?. That's weird, as we are preferring aac over libfaac..\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/0c1ed583e6dbb9101c2017947de49bea75da70fa/src/FFMpeg/Format/Video/X264.php#L72-L75. @iki789 Oh, good catch. Would you mind testing whether it works and then file a pr to change it?. Does somebody wants to create a PR? :). Could you please give us our test_video.mp4 and the favicon.ico file?. Thanks, I'll try to look into it as soon as possible, but school is really time-consuming at the moment. Please ping me when I didn't had replied after Thursday. :). Need. more. time.\nAt the moment, I'm full of doing exams. Still couldn't verify it. I will try to do it tomorrow. Just set a reminder.\nI'm sorry :(. I cannot verify this. Here is the file that will be encoded. I can clearly see the watermark.\ntest332.zip\nThis looks like a system (or possibly an ffmpeg) issue to me. Could you please tell me the exact version of your OS and the exact ffmpeg version you can reproduce with?. > conversion to WMV works fine but when i add the watermark to the video the issue occurs.\nwhat happens if you convert the ico file to something more general(like png) and try it again?. I updated my ffmpeg version to the latest 4.0 build for windows(I used an rather old nightly version before) and still cannot reproduce on Windows 10 Home. :/. Oh, you are on the experimental v1.x branch. I only tested against master.. I don't get this far actually. My error is that no codecs for WMV are supported.\nCould you please test the exact same code snippet with the current stable branch? This would help me troubleshooting/locating the problem tremendously.. There's a reason this branch is experimental :/\nWould you mind filing a pr?. Could you please file this against the v1.x branch?. > one that uses a minimum php 7.1? I'd rather merge this into branch that supports 5.6\nYeah, please, because you are doing multiple bc breaks and changing core behaviour, and I won't push this into the v0.x branch.\nAlso, I'm not really comfortable with work-a-rounds in the processing of the filters and medias. :/ Perhaps there is an option to work-a-round this, for example to implement it like Concat, so with a separate handler?. I'll look into this at the weekend, please ping me if I couldn't catch up with it :). Thank you for your pr, but the 0.x branch will be deprecated and will not support PHP 7.3. However, the new 1.x branch already tests against those nightly builds:\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/0c1ed583e6dbb9101c2017947de49bea75da70fa/.travis.yml#L15-L18. Thanks for your contribution. :). Thank you! I'm going to test this in a bit and then file a new release with this pull request. :). Plan to test this at the weekend. Sorry for the delay :/. AWESOME! It is working fine for me! Thank you very much. \ud83c\udf89 \nI want to file a new release tomorrow, hope that's okay for you. :). Could you please send us the file you are encoding and the file that turns out? Unfortunately, I only have a very limited set of videos I can test with :). I cut the video to 10 seconds, to make its encoding process faster, but I'm still not able to reproduce this.\n\nHTML5 video player.\n\nI dragged the wmv-file into Firefox and it's playing perfectly fine.\ntest.zip\n. Yeah, I also think this is system specific :/\nIt looks correct, yes, so I do not know a place where you could dig deeper into, I'm sorry.\nCould you try reproducing on another machine?. This wrapper does not handle this at all. :/ It only provides a seamless interface for interacting with it nicely.. Thank you Sir, and that's a good suggestion to close the issue. And yes, it is really broad.\nThank you for the list, I just saved that reply. :). Terminate immediately with message \" PHP Fatal error: Uncaught Error: Call to a member function get() on null in ... \"\nPlease paste the full error message, sounds like you found a bug.. Looks like you are misunderstanding something. $ffprobe->isValid() returns only a bool(true/false), and does not throw an exception. You need to check the return status on your own.. No, that's not possible. You could try using proc_nice before, because the subprocesses also inherit that value :). This is not possible currently, because it starts with the input file always be the first file. Need to reorganize all this code. Adding it as a feature request to provide a seamlessy API to make it even easier for the user.. No, it's not. But it should be possible with little code of yourself.https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/0b871e59e7a809033fa27c3086588e72c662e9ab/src/FFMpeg/Coordinate/TimeCode.php#L67-L91\nBut I'd be willing to add another method to TimeCode to make it accessible for anyone. :). I implemented it wrong... You need to install the binary ffmpeg to use this libary.. https://github.com/PHP-FFMpeg/PHP-FFMpeg/commit/ab9fcdc725f7f6ad3b0506ad2616808d64d34435. Could you please execute /usr/local/bin/ffprobe -help -loglevel quiet and give us the uncompressed, complete output?. > And I can use php cli mode to exec php file to save a frame from video.\nCan you ensure the user you are executing this may execute ffprobe or any other file?. That's weird.. What is the process return code after executing /usr/local/bin/ffprobe -help -loglevel quiet in CLI?. Could you do a var_dump in a try-catch block on the ExecutionFailureException you caught, please?. I got a new idea:\nhttps://github.com/alchemy-fr/BinaryDriver#binary-detection-troubleshooting. > Could it be a permission problem?\nYeah, although right now I cannot say what you need to change.. https://stackoverflow.com/questions/1763156/127-return-code-from#1763178. Thanks @ybos!\nWould you mind filing a PR to add a notice to this odd behavior intothe README?. No, there isn't, but you can feel free to create one!\nThe only documentation is the README at the moment. You can feel free improving it! If you have any questions, just create a new GitHub issue.. Could you try it out on dev-master, too?. No, I don't. The build is failing, I don't know why, there are bugs. But you are encouraged to help.. Sorry, I completely missed that this was in the 0.x branch, not in the 1.x one, will release now.. has been released. https://github.com/PHP-FFMpeg/PHP-FFMpeg#manipulate-media\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg#transcoding\nI would have expected that you, at least, read the current docs.. You need to install ffmpeg, too.. is it in your PATH?. what happens when you execute ffmpeg in the same folder your php-files are in?. Can you ensure PHP has proper permission and may open new processes?\n. > C:\\wamp64\\www\\imgcomptest\\ffmpeg\\bin\\ffmpeg.EXE -y -i rj.mp4 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 256k -ac 2 video.mp4\nCould you send us the output of this command?. You need to run the full command.. > Unknown encoder 'libfaac'\nTry using $format = new FFMpeg\\Format\\Video\\X264('aac'); instead of $format = new FFMpeg\\Format\\Video\\X264();\nThis issue will be resolved with 1.0.. That's something you need to try out yourself ;)\nPlease make sure that your hosting provider allows video encoding on shared-hosting machines ;). Please read the README. Although the documentation is rather bad, it is there and describes exactly what you need! It is not possible for me to provide 1:1 support. Thanks!. Please learn some basic PHP. lol.. What did you do to get this error?. Please provide the information.. Duplicate of #470 . Could you send us the code you are using?. What is happening if you replace RESIZEMODE_INSET with RESIZEMODE_SCALE_WIDTH?. But when you try to resize it to 600 x 600, it should be a square and RESIZEMODE_SCALE_WIDTH tries to further optimize it?. Thanks for reporting @mdolnik \nWould you mind filing a pull request with your proposed change?. > I can't seem to get permission to push my commit\nYes, you may not push directly here. However, you are allowed to fork this repository. Then you may push the commit to a new branch and then you can file a pull request on this repo.. Thanks for the bug report. Do you want to fix this and make a pull request on the 1.x branch?. thank you. :) Please use setAudioCodec for now. :). perfect, thanks!. No, the v1.x branch is currently a mess. I don't know exactly what causes this, but anything with the Progress Listener. No worries :). I'll look into this tomorrow, please be patient.. Yeah, in the meantime you can rollback to 0.9 ;). The codebase for this filter really hasn't changed much since the release of 0.9. We added the possibility to define the file extension. Could you try using the latest ffmpeg?. >  it fails since 0.9.4 what a coincidence...\nI feel like I'm stupid, I'm sorry, but thanks for the regression test. :)\n0.9.3 has been released on Apr 12, 2017. 0.9.4 has been released on Jun 28, 2017 (without any release note).\nBut there weren't any updates to this file between these two releases. https://github.com/PHP-FFMpeg/PHP-FFMpeg/commits/0.9.4/src/FFMpeg/Filters/Video/ExtractMultipleFramesFilter.php (note the first(latest) commit in that tag was already released with 0.9.3). Which means either I'm stupid or the problem may lay anywhere in the codebase. \nI can't set up any environment at the moment, but could you try what 0.9.3 is applying(after calculation) and what 0.9.4 does? If they are the same, we need to debug the hole codebase.. (Prepend a var_dump($commands); statement(or work with a real debugger) or anything else here: https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/cedcd37bd22479bbe7874fd0e063a2047e122d0a/src/FFMpeg/Filters/Video/ExtractMultipleFramesFilter.php#L126 ). me. I'll look into it.. Okay, I can (finally) confirm this. There are two commits that may cause this, that have been implemented in the 0.9.4 release:\n1. https://github.com/PHP-FFMpeg/PHP-FFMpeg/commit/4cfcabd7b50266f11c00e4c2c39292b15b312c13\n2. https://github.com/PHP-FFMpeg/PHP-FFMpeg/commit/cb7d850338844d74f425c44c0b883d3b24681255\nI try manually de-cherry-picking them, and hopefully this will resolve this.. looks like nobody is using this.. :/\nIt is the commit of https://github.com/PHP-FFMpeg/PHP-FFMpeg/commit/4cfcabd7b50266f11c00e4c2c39292b15b312c13 in the Video.php part.\n(not my commit c:)...\nThis commit does have tests though. I honestly do not understand what it tries to do, and these tests do not fail, they are passing.. (the strict use of semver and a changelog would have made this a lot easier). I think about rewriting everything from scratch for 1.x, because the codebase is so... old-fashion. But I do not know if it is worth it, close to nobody uses it. (No, I will not abandon this project.)\nI do not understand the need behind the change(/commit), yet. The most trivial method would be to back the change out.. I'm still not able to tell what the code is doing there. :| I'll need to check whether it is possible to back the change out.. Moving this to the next release, hopefully I'm able to handle this soon, but I'm not available next week. :/. Which version are you using?. Okay, you know that this is currently unstable. ;) Would you like to file a PR?. thanks, fixed.. Please fill out the issue template.. I think this should throw an exception at any given time. No user manipulation required.\n\nThis is causing a docker based workflow of mine to fail at unpredictable times.\n\nCould you further elaborate on this? Maybe the docker image is broken?. Perfect!. Cool you want to get involved! Personally, I would rewrite the entire filter system and add priorities to every single command part, and then we can simply inject some with a priority, and then the users are literally able to put them anywhere they want.\nI'm not sure whether this is the best thing to get involved, but let me know!. thanks for the ping, I just missed that it was in the 0.x release. See https://github.com/PHP-FFMpeg/PHP-FFMpeg/pull/559#issuecomment-423138352. You can use SimpleFilters for that. Please notice that I do not provide full code snippets. If you have any exact questions, I'm happy to help.. Oh, I'm sorry, now I understand what you were trying to say. Adding this as a feature request for 1.x. PR welcome!. Please remove the vcs part, it should now be supported without overriding.. > Do you know how can change the code, in order to convert the output file to aac?\nNot supported directly, yet. Although it sounds very decent for a new version(1.x).. Please send us the hole output of /usr/local/bin/ffmpeg -f concat -safe 0 -i /private/var/folders/dw/919v2nds7s78pz_qhp7z9rcm0000gn/T/ffmpeg-concatVZ6Ncg -c copy /Users/francescomussi/Desktop/Apps/cameraProject/back-end/camera-laravel/storage/app/public/videos/output.mp4. Okay, more debugging here. Could you give me a full list of files(with their respective filepath) you want to concat?. Great! Yeah, giving users a hint what could have failed is on track #310 :). I keep forgetting to actually merge this pr... Oh, sorry I missed this. Thank you!. Please further elaborate in the issue description, or just remove it, thanks! :)\nIf it isn't supported, as explained in the README, you can easily add your own Format(although we might want to have it here).. Increase the number of php workers.. > $video->save(new FFMpeg\\Format\\Audio\\Mp3(), 'audio.jpg');\nWhat should it save? How could a video.mpg be a image? Personally, I prefer strong, reliable behavior, but maybe you can make some more points.. > I would expect that $video->save(new FFMpeg\\Format\\Audio\\Mp3(), 'audio.jpg'); saves a mp3 file called audio.jpg (despite the .jpg file extension) but actually it creates an image from the video since the file extension determines the output format not the Format object passed.\nOh. Now I understand. I think this is more like a design flaw(not a specific bug), but this would introduce a breaking change in the odd behavior, but scheduling for 1.x. I hope this is okay for you.\nWould you like to handle this and add -f flags all over the place?\n. Please fill out the issue template.. Sounds like a good idea. Feel free to file a PR :). Could you provide (the) example files you can reproduce, please?. Thank you for the contribution :) However, I'm on a hackathon with a quite short timelimit, so I'll need to review it later.. Thanks for the contribution! I'm currently on a hackathon and will thus review it in a few days.. Thanks again :). Everything that works in ffmpeg works here, too. So as long as you have the command, you can implement this using this wrapper.. I'm sorry, but I do not write any code for you. You're looking for a file watcher basically.. maybe this gets resolved by #430 . Please do not download something when possible in production areas. I'm not able to assist any further without a link.. Then please find an example I can reproduce with. Feel free to reopen this as you have found a way to reproduce this with public sources.. You should not write your own composer.json file, please use a clean one and just require this library. ;). You never need to touch one manually. You only need to run composer require php-ffmpeg/php-ffmpeg(include the autoload file afterwards) and you're done.. Is it in your path? Do you installed FFMpeg and FFProbe?. Could you try executing ffprobe -help in the same directory (lamp) with the user hosting the server/php process?. Please provide the full output as a text document somewhere.. Could you tell me the exit status of this command?. I was on a medical education the last days(and the next days), but it looks pretty normal.\nCould you try setting a var_dump($e); right before this line? https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/6dacd82c9b1c86e67563340d509b500815144178/src/FFMpeg/FFProbe/OptionsTester.php#L63. Sorry, as I said I was on a medical education course from 9 to 7, literally. No need to ping me.. Anyway, I'm looking into it.. [processInformation:Symfony\\Component\\Process\\Process:private] => Array\n                                        (\n                                            [command] => '/usr/bin/ffprobe' '-help' '-loglevel' 'quiet'\n                                            [pid] => 8524\n                                            [running] => \n                                            [signaled] => \n                                            [stopped] => \n                                            [exitcode] => 1\nIirc, this seems like the process didn't successfully quit. Could you try again with the exact steps and the permissions correctly set? It is important that the exit-code is zero.. Is the exit code reported still non-zero?. Are you absolutely sure that the permissions are correct? Otherwise I'm not able to help you any further. It must be related to some special, extraordinary configuration on your side(something like a group membership is missing).. >  read-only\nEvery user needs to be able to execute the files and also own the files you want to edit.. Awesome, great it works for you. :). with too less time, I'd really love to publish 1.0, but exams are going crazy until the end of the year right now. :/\n. Are there any exact reasons to avoid composer?. No problem, you can basically upload your files(including stuff added/managed by composer) from your local computer to the server.. > \\vendor\\doctrine\\cache\\lib\\Doctrine\\Common\\Cache\\CacheProvider.php\nIt looks like it is not ready for PHP 7.x in the version we use in the 0.x branch.. I do not have access to my development machine right now, but could you upload the contents of the file \\vendor\\doctrine\\cache\\lib\\Doctrine\\Common\\Cache\\CacheProvider.php and put it on a hastebin/pastebin/gist/whatever<, please? I assume you are on windows?. Okay, thank you. Please remain using PHP 7.2(doctrine is using newer language features there).\nApache is basically telling that the HTTP headers are missing. Could you provide the logging lines before this(for the same request only) to help find out the root cause?\n\nI have no idea where the address hastebin/pastebin/gist/ is, sorry.\n\nThis is a place where you can upload such files. \nFor example: https://hastebin.com/ , http://pastebin.com/ or https://gist.github.com/\n\nAre you really 16 years old? Why r u so cool\uff1f\n\nhaha, thanks.. I think you may run into max_execution_time errors. Could you try increasing those timeouts(both php.ini and httpd.conf) or try to process a smaller file?. Could you please remove your boilerplate code and provide a tiny, reproducable test case?. cool!. Please do a (quick) research before asking stuff here. :)\nBut basically:\nhttps://getcomposer.org/doc/00-intro.md\ngo into the right directory you want it to be installed.\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg#installation. Awesome, thanks!. :/\nThanks for this fix!. You could try setting additional parameters and then set the same -b:v as you got from the/one input.\nref #430. You can increase the number of parallel php processes handling incoming requests to resolve this issue.\nPlease note that it is not recommended to let this action be executed in the same request as the user is uploading it.\nI'd create a background queue, that processes such media and the user may poll each x seconds another endpoint returning the process.. As it is a \"normal\" PHP exception, you can get the message(getMessage()). I would use strpos to check if something is strictly not false(!== false) and check whether specific substrings are in that string.\nDo you know how we could make this more efficient? If so, we could improve this for the upcoming versions.. I don't think it is a bug. It should be able to clear the directory. Can you make sure it has permissions to do that? I'm not that familiar with permissions on Windows, though, so I cannot give you exact steps. :/. I would personally avoid using listeners, and as PHP is single-threaded (and the action is blocking everything until it's done) just do something like that:\nphp\ntry {\n    $video\n        ->save(new FFMpeg\\Format\\Video\\X264(), 'export-x264.mp4')\n        ->save(new FFMpeg\\Format\\Video\\WMV(), 'export-wmv.wmv')\n        ->save(new FFMpeg\\Format\\Video\\WebM(), 'export-webm.webm');\n} catch (\\Throwable $e) {\n    // handle the exception\n} finally {\n    // do something to remember this was (at least partially) processed\n    $this->res[\"compress\"] = true;\n}. > I've already tried to use the CustomFilter to create it within PHP-FFmpeg, but it lacks of saving image formats.\nCould you show your existing code?. This is great. It would be awesome if you file a PR. :) . Nice contribution. Thanks!\nOne more thing: Could you please add a test? Just like https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/6dacd82c9b1c86e67563340d509b500815144178/tests/Unit/Filters/Video/SynchronizeFilterTest.php. I went ahead and changed the tabs to spaces, to be compliant with the rest of the codebase. As soon as travis passed, I'm happy to merge. Thanks again :). This is most likely because of permission issues. I never worked with IIS, but does the user has access to the files you want to edit and may execute the ff(probe|mpeg).exe in your document root?. > Maybe this should be added to the readme?\nI would love to see this. I never used this proprietary software once, I have no clue and I'd like somebody else to take responsibility on wording it.\nAnyway, I'm happy it works for you now. :). Could you provide the original video you can reproduce with?. Thanks for your reply. I'm attending 35c3 now, so I cannot look at it until December, 31. I will look at this issue as soon as possible.\nThank you for your understanding.. Hi, this is a easy issue: works as designed.\nThe problem is, that you apply a resize filter on a video, and on the very same video(before you actually made it smaller), you are extracting a frame. This could be solved in a new version when there are (more) filters for a Frame. You cna solve your problem like this:\n```php\n<?php\ndeclare(strict_types=1);\nrequire_once './../vendor/autoload.php';\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('intro.mp4');\n$video ->filters()\n->resize(new FFMpeg\\Coordinate\\Dimension(320, 240))\n->synchronize();\n$video->save(new FFMpeg\\Format\\Video\\X264('aac'), 'minified-intro.mp4');\n$video = $ffmpeg->open('minified-intro.mp4');\n$video->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(1))\n->save('save.jpg');\n``. What do you mean withvoice? Do you mean that there is no audio?. Could you provide the file you can reproduce with? This is most likely not an issue with this driver itself.. I'm sorry, but I'm not able to be here 24/7. Glad it works for you now! :). sounds like a great idea. Thanks for the heads up :). I honestly do not believe this is an error, more like a bug of your server (mis-)configuration. Either way, we're using an unsupported version ofsymfony/process, so I don't believe this is getting fixed.. I do not see a bug here, as the method(and documentation) says explicitly that itadd`s a metadata(like an artwork). It is permitted to have multiple artworks in one media file.\nWe could implement this as a new feature though.. I'd accept a pull request in the v1 branch. :) I really think this is a good idea.. Please fill out the issue template, it provides valuable information. Is ffmpeg even installed on the system?. That's not possible yet. I think this is a good feature request, though.. I'm sorry for the late reply, I was disconnected from the Internet, because my new ISP wasn't able to set-up my connection properly.\nI actually like this idea. This is also already (partly) implemented in the upcoming version branch. I want to make it possible to insert custom filters at truly any location through filters(https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/464). This would also fix your problem. Let us keep it open still. :). We currently only have the feature of modifying metadata. I see the general ambitions behind this, so adding as a feature request. Thanks for the request!. Thanks for the pull request.\nI'd be happy to merge it for the next minor release. Where exactly may I help you with creating tests?. Hope you're well again!\nBut yeah, that sounds perfect. \nI think you can relate from something like that: https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/d1a281f30ffbee3110a58b1d41644ed0782f505b/tests/Unit/Filters/Video/CustomFilterTest.php\nLet me know if you have further questions about adding a test.. You can see https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/252\nMaybe separate processes will be needed to cut it afterwards.. I would ask something different: Do you really need to write it down? Memory-based databases (e.g. Redis) are proven to be much faster than using I/O. \nIf you need to put it inside a file, there's no real way to make it better.. What do you actually want to achieve? You may need to say more about what you want to achieve, not how.. > Hence I'm trying to find out how i can implement it with my code.\nThis is the most appropiate solution. Are you sure this exact thing is causing the slowness? Do you have numbers for that?. This is not useful at all. Please report that issue to your wrapper-wrapper, so we \ncan get a more detailed cause of the exception. \nLast but not least, fill out the issue template, please. Thanks.. No, this is not yet possible, although I find it an very interesting approach, if we could make it more dynamic.. Could you manually execute './ffmpeg/ffmpeg' '-y' '-i' '/tmp/phpSANJ06' '-async' '1' '-metadata:s:v:0' 'start_time=0' '-f' 'webm' '-vcodec' 'libvpx' '-acodec' 'libvorbis' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vf' '[in]scale=256:144 [out]' '/home/slatsh/public_html/storage/app/files/lR5Wu12LSeE/videos/lR5Wu12LSeE_144.webm' and append the full output?. That won't work, because fopen returns a resource or false. But does not throw an Exception. (Note: It should be \\Exception, because there is no Exception class on that namespace)\nDo it like this:\n````php\n$fileStream = @fopen($sourcesFile, 'w');\nif($fileStream === false) {\n    throw new ExecutionFailureException('Cannot open the temporary file.');\n}. but why is this line here twice?. @sebdesign I don't see any difference between 43 and 44? You'd not removed a line.. Yeah, and I am talking about this line(which is useless). Anyway, it doesn't bother us in any way.. I'm dumb. Thanks...\nI'm so sorry. I'd forgot the context.... I didn't did that because it inherits it. The video interface extends the audio interface.. oops.. Could you describe the third argument, please?. please use a regex instead.. Please insert a new paragraph before this line.. new line before this line please. new line please. I'm not sure. I think this should throw an InvalidArgumentException instead... :c. Did you pushed it? I don't see it unfortunately. :(. is that slash placed by purpose? . last thing: Could you use the old style array() syntax? We're still supporting PHP 5.3(unfortunately). This also needs to use the array() syntax. :(. Please use // instead.\n// check the filters of the video, and if the video has the ClipFilter then\n// take the new video duration and send to the\n// FFMpeg\\Format\\ProgressListener\\AbstractProgressListener class\n(I fixed some typos for you). please add phpdoc and validate for the allowed file extension.. please add tests for png and whatever format you can dream of(please check that those are supported by ffmpeg).. okay, please check whether $frameFileType is one of the extensions defined in a class property with an array of ['jpg', 'jpeg', 'png']. (in_array will help you.) Throw a PHP-FFMpeg InvalidArgumentException then.. please insert a line break before this line to improve readability.\nPlease also put a space before 'jpg' or 'png'. at least one line is indented incorrectly.. Yeah, that's the plan for the v1.x-branch. No worries :). also a bc break. this comment needs to be adjusted.. use clearstatcache(); before this to prevent caching issues.. I see the approach, but why do you prefer current over reset(out of curiousity)?. That won't work(see the manual page), simply use clearstatcache();. You basically do not follow the argument order of the method.. Please leave a space before and after the ==.. use \\FFMpeg\\Filters\\Audio\\ImageVideoFilter::class instead.. please use typehinting :). Perhaps we can rename it to something like addVideoArtwork to make it more clear what it does? Please use typehinting and return type hints :). Adds the `$artwork` to the audio and converts it to a video file.. use @inheritDoc instead.. feel free to leave your name(or put general info in a docblock) using the @author tag. :). Could you check whether the preset is allowed? This would save runtime(we would not need to launch the process and wait for an error message). :)\nThe cast won't be necessary once we added typehints. :) . I know what it does and what are the allowed values for it, but I think we should check whether the user supplied one of ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow(like with the in_array method), so we can save enormous time.. Please use ['-loop', '1', '-i', $this->artwork] instead. We want to match the requested types and use more beautiful language syntax. :). Please use [] notation.\nPlease use a more clear codestyle and do something like this:\n[\n'-loop',\n'-i',\n'/path/to/artwork.jpg',\n'-preset',\n'veryslow',\n'-shortest'\n]\nThe number notations are not necessary in this array. :). as described in #412 we'll drop support for anything lower than 7.1. Please note that the first version of the v1.x branch is scheduled to be released on July, 12. I really hope that then noone will use PHP 5.x anymore.. Please throw an FFMpeg\\Exception\\InvalidArgumentException instead when you're detecting an undefined preset.. Could you please define a protected const FFMPEG_PRESETS = [ 'ultrafast', 'superfast', 'veryfast', 'faster', 'fast', 'medium', 'slow', 'slower', 'veryslow' ] instead? I think this would clean up this method.. please replace 1 with '1', as it will be replaced later and is more clean for ffmpeg, while I see that a numeric value is always awesome here.. I just want to note that I'm impressed and satisfied that you found this trait without any doc.. :). * (c) PHP-FFMpeg and Contributors. could you please add a linebreak here? I think then we're done :). note to myself, this method does not exist, it's addVideoArtwork. I couldn't find documentation on this option, do you have any doc for it? . Ah, thanks. Clips the video at the given time(s). sounds better in my opinion :). Please use \\Alchemy\\BinaryDriver\\ConfigurationInterface::class (and so on) instead. :). use null !== $durationValue instead. Unrelated in this code branch. There is nothing to improve in this codestyle :). Please fix the formatting(fix intending).. ",
    "pulse00": "yeah, i was already thinking about something like that too. I can work on this next week. \nOne thing which came to my mind, maybe you can give some feedback on that: What about a helper that dispatches a progress event (from the symfony-event-dispatcher component)?\nThis could be used in a silex service provider and i could also wire up a ready-to-use helper in the ffmpeg-bundle: https://github.com/pulse00/ffmpeg-bundle \nThis way you could properly separate the transcoding class from a handler which exposes the progress.\n. @romainneutron i've opened a new PR in #16. Feedback welcome ;)\n. @romainneutron what do you think so far? i wasn't sure what you meant by the registerCallbacks method in the HelperInterface. Could you explain it?\nRight now the FFMpeg class sets an internal callback to the Process and then iterates over the helpers to delegate it to them.\n. You're right, currently there is no difference between the Audio/VideoHelpers. Nevertheless, i've split them up, because in our case we are only working with audio, and i assumed that there might be other/better patterns for getting relevant information during video transcoding.\nTo be more specific, here's the 2 formats that ffmpeg provides during transcoding:\n- Video: frame=  171 fps=0.0 q=10.0 size=      18kB time=00:00:05.72 bitrate=  26.4kbits/s dup=8 drop=0\n- Audio: size=    3552kB time=00:03:47.29 bitrate= 128.0kbits/s\nSo if someone wants to extract additional information for video transcoding, this can be easily done by extending the regex in the getPattern() of the VideoProgressHelper.\n. great, thanks.\n. sorry, didn't see that.\n. closed in favor of #24 \n. @ak76 make sense. sorry i didn't see that, was probably too late yesterday ;)\n. @romainneutron alright, didn't know that. the fallback makes sense to me. i'll update my PR.\n. @ak76 i probably won't have time before the end of this week, so if you also want to update the stream PR, you could do the format stuff in one PR ;)\n. The checkOption solution sounds like a good idea to me. \n. would you accept a PR for this?\n. @romainneutron: fixed the docblocks. \n. I wanted to keep the number of arguments for the progress callback small, and these 2 values seemed irrelevant. I'll remove them completely.\n. @romainneutron btw: i've added caching of the formats based on $pathfile in the FFProbe class. For example in our setup, we also need the format of the input file outside of the helpers, and in this case the call to the low-level prober can be cached.\n. done.\n. Maybe we can cache this low level call too if probeFormat / probeStreams is called multiple times.\n. Ahm, yes ;) fixed.\n. ",
    "bronco0": "Can we put the latest version of php-FFMpeg in version 3.7.3 of Phrasea?\n. ",
    "ak76": "@romainneutron & @pulse00 \nOk. I will refactore it today later or tomorrow.\n. Unfortunately under Windows latest builds of ffprobe returns version number something like ffprobe version N-47062-g26c531c. There's no way to get the version number in the identical format like ffprobe version 0.9.1 on different operating systems.\nTherefore, I decided to add in Binary.php the new method checkOption for check option's availability. In methods probeFormat and probeStreams I added checking availability of print_format option.\nParsing of binary output is performed, depending on the availability of this option.\nThe code is a little bit bulky, but it's worth it. I see that it's possible to refactor, combining code of the methods parseFormatFromJson and parseStreamsFromJson.\n. Made some changes.\n. Good idea.\nWe can parse all options and cache it for future usage.\n. ",
    "retrojunk": "After testing a little I found simply disabling the above code caused problems. I guess I need to re-evaluate some of my resolutions. In particular 640x360. Youtube must be doing some trickery behind the scenes to get that resolution to work without looking weird.\n. I closed this because my proposal of disabling the code above was not a good one. There does seem to be inconsistencies between 16:9 resolutions if 640x360 is 16:9 which it seems to be. I am not really sure of the solution though. I will keep playing around with it.\n. For instance after scaling 1280x720 to a target of 640x360 I end up with 640x352. Not sure if 640x360 is just not a proper 16:9 resolution or if something else is going on.\n. http://en.wikipedia.org/wiki/16:9 seems to back up the fact that my most troublesome resolutions 640x360 and 854\u00d7480 are indeed proper 16:9.\nSo there seems to be a problem with the way the multiple of the width and height are calculated. Math has never been my strong suit but I will keep rooting around and see what I can figure out.\n. Found this good discussion on aspect ratios http://pacoup.com/2011/06/12/list-of-true-169-resolutions/\nSeems like this problem is more complicated than it first seems. Maybe it would be a good idea to allow you to specify an aspect ratio and then adjust things based on that aspect ratio and resolution. Not sure how you would do that in an elegant way though...\n. Ok I think I have found a solution. You have been forcing mod16 which is the most compatible but the resolutions I was trying, including the very important 1920x1080 were not mod16. My solution is to add the ability to choose if you want to use mod2, mod4, mod8 or mod16 depending on what the encoder supports. For instance x264 is fine with mod2. If none is chosen it defaults to mod16. This seems to solve my problem while adding a lot of flexibility and maintaining backwards compatibility. It should be in line with the values this calculator generates http://www.undeadborn.net/tools/arcalculator.php \nChanges In FFMpeg.php:\nat line 336\n\n    $width = $this->getMultiple($dimensions->getWidth(), $format->getModulus());\n    $height = $this->getMultiple($dimensions->getHeight(), $format->getModulus());\n\nat line 456 changed the method to find the next highest divisible number if not divisible my modulus\n\n    protected function getMultiple($value, $multiple)\n    {\n        if (($value % $multiple) === 0){\n            return $value;\n        }\n        do {\n            $value++;\n        } while (($value % $multiple) != 0);\n        return $value;\n    }\n\nChanges In DefaultVideo.php:\nat line 35 added\n\nprotected $modulus = 16;\n\nat line 233 added\n\n    /**\n     * Used to determine what resolutions sizes are valid.\n     *\n     * @param int $value\n     */\n    public function setModulus($value)\n    {\n        if(!in_array($value, array(2, 4, 8, 16))){\n            throw new InvalidArgumentException('Wrong modulus division value. Valid values are 2, 4, 8 or 16');\n        }\n        $this->modulus = $value;\n    }\n    /**\n     * @return int\n     */\n    public function getModulus()\n    {\n        return $this->modulus;\n    }\n\nChanges In Resizable.php:\nat line 37 added\n\npublic function getModulus();\n\nChanges In X264.php:\nat line 56 added\n\n    public function getModulus()\n    {\n        return 2;\n    }\n\n. Ok I have implemented one last piece of the puzzle that gives very accurate control over resolutions while maintaining backwards compatibility for the bundle. I needed to scale width based on the defined height but the current RESIZEMODE_FIT did not do that. In order to scale with more control I added two new resize modes.\nChanges in DefaultVideo.php\nat line 27 added\n\n    const RESIZEMODE_SCALE_WIDTH = 'width';\n    const RESIZEMODE_SCALE_HEIGHT = 'height';\n\nat line 86 changed method\n\n    public function getComputedDimensions($originalWidth, $originalHeight)\n    {\n        $originalRatio = $originalWidth / $originalHeight;\n        switch ($this->getResizeMode()) {\n            case self::RESIZEMODE_SCALE_WIDTH:\n                $height = $this->height;\n                $width = round($originalRatio * $this->height);\n                break;\n            case self::RESIZEMODE_SCALE_HEIGHT:\n                $width = $this->width;\n                $height = round($this->width / $originalRatio);\n                break;\n            case self::RESIZEMODE_INSET:\n                $targetRatio = $this->width / $this->height;\n                if ($targetRatio > $originalRatio) {\n                    $height = $this->height;\n                    $width = round($originalRatio * $this->height);\n                } else {\n                    $width = $this->width;\n                    $height = round($this->width / $originalRatio);\n                }\n                break;\n            case self::RESIZEMODE_FIT:\n            default:\n                if (null !== $this->width && null !== $this->height) {\n                    $width = $this->width;\n                    $height = $this->height;\n                } else {\n                    $width = $originalWidth;\n                    $height = $originalHeight;\n                }\n                break;\n        }\n        return new Dimension($width, $height);\n    }\n\nchanged method\n\n    public function setResizeMode($mode)\n    {\n        if ( ! in_array($mode, array(self::RESIZEMODE_FIT, self::RESIZEMODE_INSET, self::RESIZEMODE_SCALE_WIDTH, self::RESIZEMODE_SCALE_HEIGHT))) {\n            throw new InvalidArgumentException(\n                'Resize mode `%s` is not valid , avalaible values are %s',\n                $mode,\n                implode(', ', array(self::RESIZEMODE_FIT, self::RESIZEMODE_INSET, self::RESIZEMODE_SCALE_WIDTH, self::RESIZEMODE_SCALE_HEIGHT))\n            );\n        }\n        $this->resizeMode = $mode;\n        return $this;\n    }\n\n. I have never contributed to a project here so just let me know what I need to do if you would like to add these changes.\n. I have added a pull request for these changes.\n. Would really like to get it merged as well. romainneutron must be busy or something.\n. Any resolution that cannot be divided by 16 will result in an incorrect resolution currently even if the codec supports it. It comes down to how accurate you want the resize to be and what the destination codec can support. The lower the modulus is the more accurately you can set the output resolution. Mod16 is very compatible but very restrictive.\nhttp://www.undeadborn.net/tools/arcalculator.php is a good tool to test out what the values should be.\nI have only set x264 to use mod2 and all the rest use the default mod16 since I am not sure what they support. Some google searches would probably turn up the info.\nfor instance currently trying to encode to 1920x1080 would result in a resolution correction and it would no longer be true 1080p.\n. ",
    "bricev": "I'm using the 2.3-dev (composer install).\n. I just tested twice.\nYour right : it happens after 60 seconds of encoding...\nHow can I set up a higher timeout?\nI'm gonna encode some very huge videos (courses from universities that may last more than 4h in HD :s )\n. Thank you so much!!\n. Thank you so much it works!!\nI really love your components (PHP-FFmpeg, PHP-Unoconv & PHP-Swftools), very cool stuff :)\n. Thanks :)\nActually you implemented a lot of new stuff I've been doing my own way so far...\nStuff you've been doing in a more 'interesting' way.\nSo I'm \"using with precaution\" in pre-production environment.\n... and yes, I can't wait to read the updated doc :p\n. ",
    "gizmola": "Sorry for the failure on Github use.  Only the first Commit (6ba3de6) addresses the issue.  I am working on an internal project and have made essentially a fork for now, and the other commits are related to that and have nothing to do with the issue.  I didn't realize they would show up attached to this issue.\n. Hi,\n  Yes, setting timeout on the processBuilder is correct.  That's what my PR does differently.  In the original code, the process builder returned a process obj, and then attempts to set the timeout, but that does not work.  According to the documentation, it should work according to the process docs, but for some reason, it does not.  \nI know this all may be obsolete given your work on your new version, so do with this PR as you will.  \nAt present, without this patch, people who try and set the timeout will find that their processes timeout after 60 seconds, and this is hard to debug currently because it doesn't seem to throw the expected exception in process.  Looks like you already noticed the same problem and your patch may have fixed the problem, given you actually wrote a test for it!\n. Hi, sorry, I editted my comment to clarify.  The process docs indicate that it should work.  We are using symfony 2.1.*.  what I found after putting extensive debugging statements in process was that it did not.\nHere's a gist with the basics of how I'm using php-ffmpeg. https://gist.github.com/gizmola/5639226\nWe are also using symfony 2.1x and the pulse00/ffmpeg-bundle.  I had to fork it to get around the dependency issue with composer and their current composer.json.\n. I made a test clone to take our version of symfony and the bundle out the equation, and i could not replicate the behavior.  I'm leaving this around just in case it helps someone else.\n. ",
    "tgabi333": "Thanks, i see now, then as i see leave it as is would be the best, because a process execution time can vary depending on task: probeFormat  should be done in seconds, while encodeVideo may last for hours.\nI will explicitly call setTimeout before every action when there is a chance to drawn out\n. ",
    "ablankenship10": "Oops, must have used the company account earlier. I simply used the create method:\n$ffmpeg = FFMpeg\\FFMpeg::create();\nAt first I had an error that FFMpeg was not installed so I got that along with the common dlls that go in the SysWOW folder, after that I now have the FFProbe issue. Gd2 is also enabled. I'm using the Laravel 4 Framework with Composer.\n\n. Ah hah! Figured it all out, it tripped me up cause the error changed after I installed the PHP extension so I figured it was another extension I needed.\nThanks for the help!\n. ",
    "tchalvak": "https://trac.ffmpeg.org/wiki/CompilationGuide/Ubuntu#ffmpeg appears to be the linux/ubuntu guide, for anyone searching for that.\n. ",
    "0x1ad2": "How I did it\nI'm using the following directory for the FFMpeg binaries: C:\\FFmpeg\\bin\n- Download the binaries and place them into a C:** directory in my case.\n- Set your Windows PATH variable be sure to set both the user and system variable.\n- Open up your CLI (command line interface) by running cmd.exe and check if FFMpeg** could be executed.\n- If the command could be executed run the following lines of PHP code to configure the FFMpeg wrapper and use it to create awesome video features for you application.\nphp\n        $FFMpeg = FFMpeg\\FFMpeg::create([\n            'ffmpeg.binaries'  => 'C:/FFmpeg/bin/ffmpeg.exe', // the path to the FFMpeg binary\n            'ffprobe.binaries' => 'C:/FFmpeg/bin/ffprobe.exe', // the path to the FFProbe binary\n            'timeout'          => 3600, // the timeout for the underlying process\n            'ffmpeg.threads'   => 12,   // the number of threads that FFMpeg should use\n        ]);\nI'm using the PHP 5.4 short array syntax\n. @bentinata just use the path's to the binaries in you unix machine mostly something like /usr/binaries/mmpeg or something.\n. # How I did it\nI'm using the following directory for the FFMpeg binaries: C:\\FFmpeg\\bin\n- Download the binaries and place them into a C:** directory in my case.\n- Set your Windows PATH variable be sure to set both the user and system variable.\n- Open up your CLI (command line interface) by running cmd.exe and check if FFMpeg** could be executed.\n- If the command could be executed run the following lines of PHP code to configure the FFMpeg wrapper and use it to create awesome video features for you application.\nphp\n        $FFMpeg = FFMpeg\\FFMpeg::create([\n            'ffmpeg.binaries'  => 'C:/FFmpeg/bin/ffmpeg.exe', // the path to the FFMpeg binary\n            'ffprobe.binaries' => 'C:/FFmpeg/bin/ffprobe.exe', // the path to the FFProbe binary\n            'timeout'          => 3600, // the timeout for the underlying process\n            'ffmpeg.threads'   => 12,   // the number of threads that FFMpeg should use\n        ]);\nI'm using the PHP 5.4 short array syntax\n. ",
    "bentinata": "I also thought just put ffmpeg and ffprobe at PATH would solve this problem. Maybe, I do wrong somewhere?\nEDIT: My problem is solved. Am using configuration file, since I'm developing on Windows machine, while my code deployed on CentOS.\n. ",
    "wonderco": "Hello\nmy code is : \n$ffmpeg = FFMpeg::create(array(\n            'ffmpeg.binaries'  => '/root/bin/ffmpeg',\n            'ffprobe.binaries' => '/root/bin/ffprobe',\n            'timeout'          => 3600,\n            'ffmpeg.threads'   => 12,\n        ));\nbut not work ! :(\nplease help me\n\n. ",
    "feefk": "@wonderco you should install ffmpeg first.. ",
    "bapijun": "\nHello\nmy code is :\n$ffmpeg = FFMpeg::create(array( 'ffmpeg.binaries' => '/root/bin/ffmpeg', 'ffprobe.binaries' => '/root/bin/ffprobe', 'timeout' => 3600, 'ffmpeg.threads' => 12, ));\nbut not work ! :(\nplease help me\n\n\ntry to move the ffmpeg to the /usr/local/ffmpeg,a binary in the root folder will not allow a non-root user to execute that command. so use this command \"sudo mv /root/bin/ffmpeg /usr/local/ffmpeg\"  \"sudo nv /root/bin/ffprobe /usr/local/ffmpeg\". ",
    "ghost": "THX @romainneutron \nFor all others with OSX problems:\nbash\nbrew install ffmpeg --with-fdk-aac --with-ffplay --with-freetype --with-frei0r --with-libass --with-libvo-aacenc --with-libvorbis --with-libvpx --with-opencore-amr --with-openjpeg --with-opus --with-rtmpdump --with-schroedinger --with-speex --with-theora --with-tools\n. Ok. Thank you very much for building this project. :)\n. ",
    "remiheens": "I developped this features some weeks ago, you don't want to use, so it's your choice. \nI don't use PSR, I think it's just a wast of time and don't give optimization to your code. I prefer use SonarQube and PHP_CodeSniffer. \nyou're free to merge my work, but I haven't time to adjust my code to \"your standard\".\n. This is not a mix of custom rules, PHP_CodeSniffer is a pear library. \nhttp://pear.php.net/package/PHP_CodeSniffer\nIf I find time to develop unit testing, I develop some test. But now, I can't.\n. ",
    "serpro": "@romainneutron the user is 'nginx' and the output file is been created but with 0 bytes, so I don't think the problem is in the permissions.\n. I think the problem is somewhere in the class because if I run the command \"exec()\" in my php file it also works. But I'm really lost and don't know what else can I do for debugging.\n. This is what I get with var_dump of those two methods\nOUTPUT: string(0) \"\"\nERROR: string(3201) \"ffmpeg version 0.10.7 Copyright (c) 2000-2013 the FFmpeg developers\n  built on May 19 2013 18:47:10 with gcc 4.4.7 20120313 (Red Hat 4.4.7-3)\n  configuration: --prefix=/usr --bindir=/usr/bin --datadir=/usr/share/ffmpeg --incdir=/usr/include/ffmpeg --libdir=/usr/lib64 --mandir=/usr/share/man --arch=x86_64 --extra-cflags='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic' --enable-bzlib --disable-crystalhd --enable-gnutls --enable-li\"...\n. This is better, but still no clue why does it work on the command line:\nERROR: ffmpeg version 0.10.7 Copyright (c) 2000-2013 the FFmpeg developers\n  built on May 19 2013 18:47:10 with gcc 4.4.7 20120313 (Red Hat 4.4.7-3)\n  configuration: --prefix=/usr --bindir=/usr/bin --datadir=/usr/share/ffmpeg --incdir=/usr/include/ffmpeg --libdir=/usr/lib64 --mandir=/usr/share/man --arch=x86_64 --extra-cflags='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic' --enable-bzlib --disable-crystalhd --enable-gnutls --enable-libass --enable-libcdio --enable-libcelt --enable-libdc1394 --disable-indev=jack --enable-libfreetype --enable-libgsm --enable-libmp3lame --enable-openal --enable-libopenjpeg --enable-libpulse --enable-librtmp --enable-libschroedinger --enable-libspeex --enable-libtheora --enable-libvorbis --enable-libv4l2 --enable-libx264 --enable-libxvid --enable-x11grab --enable-avfilter --enable-postproc --enable-pthreads --disable-static --enable-shared --enable-gpl --disable-debug --disable-stripping --shlibdir=/usr/lib64 --enable-runtime-cpudetect\n  libavutil      51. 35.100 / 51. 35.100\n  libavcodec     53. 61.100 / 53. 61.100\n  libavformat    53. 32.100 / 53. 32.100\n  libavdevice    53.  4.100 / 53.  4.100\n  libavfilter     2. 61.100 /  2. 61.100\n  libswscale      2.  1.100 /  2.  1.100\n  libswresample   0.  6.100 /  0.  6.100\n  libpostproc    52.  0.100 / 52.  0.100\nInput #0, flv, from '/tmp/php7nMKmX':\n  Metadata:\n    hasKeyframes    : true\n    hasVideo        : true\n    canSeekToEnd    : false\n    datasize        : 2292109\n    lasttimestamp   : 33\n    audiosize       : 543898\n    hasAudio        : true\n    audiodelay      : 0\n    videosize       : 1747143\n    metadatacreator : inlet media FLVTool2 v1.0.6 - http://www.inlet-media.de/flvtool2\n    lastkeyframetimestamp: 30\n    hasMetadata     : true\n    hasCuePoints    : false\n  Duration: 00:00:33.00, start: 0.000000, bitrate: 557 kb/s\n    Stream #0:0: Video: flv1, yuv420p, 320x176, 431 kb/s, 25 tbr, 1k tbn, 1k tbc\n    Stream #0:1: Audio: mp3, 44100 Hz, stereo, s16, 128 kb/s\n[buffer @ 0x1b36300] w:320 h:176 pixfmt:yuv420p tb:1/1000000 sar:0/1 sws_param:\n[scale @ 0x1b36d40] w:320 h:176 fmt:yuv420p -> w:1024 h:554 fmt:yuv420p flags:0x4\n[libx264 @ 0x1b341a0] using cpu capabilities: none!\n[libx264 @ 0x1b341a0] ratecontrol_init: can't open stats file\nOutput #0, mp4, to '/tmp/video_f025c54e28af1560ec7d139fce2dee0f.mp4':\n  Metadata:\n    hasKeyframes    : true\n    hasVideo        : true\n    canSeekToEnd    : false\n    datasize        : 2292109\n    lasttimestamp   : 33\n    audiosize       : 543898\n    hasAudio        : true\n    audiodelay      : 0\n    videosize       : 1747143\n    metadatacreator : inlet media FLVTool2 v1.0.6 - http://www.inlet-media.de/flvtool2\n    lastkeyframetimestamp: 30\n    hasMetadata     : true\n    hasCuePoints    : false\n    Stream #0:0: Video: h264, yuv420p, 1024x554, q=-1--1, pass 1, 1000 kb/s, 90k tbn, 25 tbc\n    Stream #0:1: Audio: none, 44100 Hz, stereo, s16, 128 kb/s\nStream mapping:\n  Stream #0:0 -> #0:0 (flv -> libx264)\n  Stream #0:1 -> #0:1 (mp3 -> libmp3lame)\nError while opening encoder for output stream #0:0 - maybe incorrect parameters such as bit_rate, rate, width or height\n. Ok, so we found the problem. Permissions, but with the stats file.. If I run the command as nginx from /tmp it works.. if I ran it from / it doesn't.\n\n[libx264 @ 0x12a01a0] ratecontrol_init: can't open stats file\n. Yes the issue in particular is with this option:\n'-passlogfile' 'pass-5231cb6a9085e'\n\nif we change it to \n\n'-passlogfile' '/tmp/pass-5231cb6a9085e'\n\nworks perfect :+1: \n. Great :+1: \n. ",
    "lboynton": "Thanks for your speedy help @romainneutron!\n. Thanks :+1: \n. Sorry, I no longer have need for this. Therefore I will close this issue.\n. ",
    "IAkumaI": "Hi,\nsorry, i am git-newbie. Hope, next time i'll do it right, Thanks!\n. ",
    "guimeira": "Sure! I'll do it now and open a new PR in a minute :)\n. ",
    "hailwood": "What's the status on this?\n. ",
    "bfeyaerts": "Frankly, I don't know whether or not they are installed, so I'm pretty sure the system path is not OK. I did in fact (try to) install ffmpeg-php, and one of the installation steps involved copying files like avformat.dll and avcodec.dll to the Windows/System32 and Windows/SysWOW64 folders. These files are still there.\nLike I said, I couldn't find any decent step-by-step guide on how to install ffmpeg-php; every description I found contained tons of caveats, offered links to different dll-files and even worse: they disagreed on numerous steps.\nNow, I already assumed it would be a configuration issue, so what I actually meant with 'a working solution' would be a tutorial or some kind of step-by-step guide on how to get PHP-FFmpeg working starting from a blank system, or at least a clear listing of the prerequisites to make PHP-FFmpeg work.\nFor now, I followed the readme of this project, meaning: I installed Composer, created the composer.json-file and ran composer.phar.\nAs there is no mention of any (other) dependencies for getting PHP-FFmpeg to work (such as having some stuff installed and having certain locations in the system path), I did not install any additional software or do any other configuration steps...\nAssuming I do need to install additional software and perform some additional configuration, could you point me out, not only what to install, but also where to get it and - if appropriate - a brief description on how this stuff should be configured...\n. Thanks nlegoff, that did the trick!\nFor all other newbies like me out there, this is how I got it to work:\nAdditional to the installation of PHP-FFmpeg described in this project's readme, you need a working version of FFmpeg (and FFprobe) (the command-line tools actually performing the video and audio magic).\nSpecifically for Windows:\nYou can find neatly packaged versions of FFmpeg (including FFprobe) at http://ffmpeg.zeranoe.com/builds/.\nAfter you've unzipped the downloaded package, you either add the bin-folder of the package to the system path or you supply the location of the bin-folder to PHP-FFmpeg when calling FFMpeg\\FFMpeg::create() as described in https://github.com/alchemy-fr/#ffmpeg.\n. ",
    "nlegoff": "You just need to a working version of FFMPEG on your system http://ffmpeg.zeranoe.com/builds/\n. I will add tests with some sample videos as well very soon.\n. @romainneutron I'v added tests that would have failed in the previous implementation but are ok now.\nIn the previous implementation for the last test case for example \n- the result_width and the result_height would have been 689x576 according to a 52:28 PAR for a 16:9 = 1,77 (DAR) video which is wrong as 689:576 = 1,20, the DAR is not preserved resulting in a anamorphic video.\nnow\n- the result_width and the result_height is 1337x752 wich keep the 16:9 ratio.\n. Hi, wrong repository ! See https://github.com/CodeScaleInc/ffmpeg-php\n. Hi, I did not try this PR on my laptop ! But hardcoded options in the save method is definitively a problem we must solve.\nI'm not a big fan of adding an other public method to do the same thing that the saveone! I think that the save method must be fixed instead. \nThere is maybe an other way to solve this issue which is to put these options in the Format classes using getExtraParams() method. See here as an example https://github.com/PHP-FFMpeg/PHP-FFMpeg/pull/148  thus we will be able to extends the format and define our custom params.\n``` php\n<?php\nclass CustomX264 extends X264\n{\n    public function getExtraParams()\n    {\n         return array('-custom-option', 'value');\n    }\n}\n```\nI will look deeper into this to see if it is possible when i'll get a bit more times and get back to you.\nHowever this PR does not break anything which is great!\nBecause php-ffmpeg is third-party library I think composer.lock must be removed!\n. Hi, \nTry\nphp\n$format = new FFMPeg\\Format\\Video\\X264();\n. Yep sorry : \nphp\n$format = new FFMpeg\\Format\\Video\\X264();\n. You will get more detail about the error that occurred in ffmpeg if you execute the generated command in your terminal! Maybe you dont have the proper codec installed on you system. \n. Hi,\nThe API does not provide this feature.\n. unecessary else\n. Yep ;)\n. ",
    "jack-fdrv": "What mean \"Have you registered the path to FFMpeg binary folder in your system Path ?\" ?\n. Ok, thank you =)\nWell after some playing around it I have realized that the problem was in the path to avprobe and ffprobe is /usr/local/bin/ffprobe, while it should be /usr/bin/ffprobe, so I have manually created symlinks and it start working =)\nIf some one will have the same problem, just move ur extensions to /usr/bin'\n. New Info, i have updated my system to El Capitan and now we have protection for the/usr/binfolder, we cant disable it with [this](http://apple.stackexchange.com/a/196226/105812) commands to prevent this error/usr/bin : Operation not permitted` but I read readme.md and found that we can specify the path to extensions with this code:\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/usr/local/bin/ffmpeg',\n    'ffprobe.binaries' => '/usr/local/bin/ffprobe'\n));\nAnd it works perfect.\nBut I want make this path as default, so i go to the\n vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFMpegServiceProvider.php\n and try rewrite it \n$app['ffmpeg.default.configuration'] = array(\n            'ffmpeg.threads'   => 4,\n            'ffmpeg.timeout'   => 300,\n            'ffmpeg.binaries'  => array('/usr/local/bin/avconv', '/usr/local/bin/ffmpeg'),\n            'ffprobe.timeout'  => 30,\n            'ffprobe.binaries' => array('/usr/local/bin/avprobe', '/usr/local/bin/ffprobe'),\n        );\nor even\n$app['ffmpeg.logger'] = array(\n            'ffmpeg.binaries'  => '/usr/local/bin/ffmpeg',\n            'ffprobe.binaries' => '/usr/local/bin/ffprobe'\n        );\nBut this doesnt work, the same error is showing. Any idea what I do wrong?\n. <?php\nvar_dump(getenv('PATH'));\nvar_dump(exec('which ffmpeg'));\nvar_dump(ini_get('open_basedir'));\nvar_dump(is_file(exec('which ffmpeg')));\nvar_dump(is_executable(exec('which ffmpeg')));\nshows\n- '/usr/bin:/bin:/usr/sbin:/sbin' (length=29)\n- '' (length=0)\n- '' (length=0)\n-  false\n-  false\n. It doesnt work in EL Capitan. Mamp ticket Stackoverflow\n. ",
    "Elite": "Thanks, waiting eagerly for something nice to come up.\n. ",
    "Filoz": "Hi, \nI know this is a very old discussion...\nare there some news about it?. ",
    "mouhsinelonly": "i would love to see this feature :+1: \n. ",
    "iSaadSalman": "Can please elaborate what is the best approach for converting the video in background? I went to Bernard PHP site but I'm still not able to grasp the concept of it.\nIn my setup for converting the videos, I'm using separate server for processing the videos and using queue and cron combination to let processor server know what to process. The problem is that request can be very long ( 1 - 6 hours even ) depending on the size of the video and it could fail in the middle and mess up the system.\nEdit: I opened a new issue here https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/125\n. ",
    "NSBrianWard": "So my understanding is that this would significantly decrease CPU usage when running FFMpeg in the background (Dean's answer): http://stackoverflow.com/questions/2946479/lower-cpu-used-by-ffmpeg-process-via-php-flv-video-conversion\n. So right after the -trellis 1 flag that's coded into the actual ffmpeg command that gets run (in FFMpeg/Media/Video.php), I want to insert -pix_fmt yuv420p because without it there seems to be some issues dealing with quicktime rle files. Any thoughts on how to do this correctly? I tried popping it straight into the file, and that solved my problem. But in a production environment, I'm not sure how to implement this. Do I have to reimplement the whole save method? If so, what's the best way to do that as an override? I'm under the constraint that I can't change anything in my laravel vendor folder.\n. I never did get this solved. If I ever have resources to go back and address that in my project, I'd still like to. MOST of the files users upload to my app don't have this problem, but the sticking point is our 3D animators who export Quicktime RLE files out of 3ds Max (they don't have a bunch of video export options, unfortunately, and really hate having to spend a bunch of time running a bunch of file conversions). Their files ALWAYS break in the way the I described above. It would be really nice to see a fix for this.. I think I'm running into the same problem here. My FFMpeg\\Format\\Video\\X264() video save is failing out with FFMpeg not recognizing the audio format. It does seem to work in the command line if I force it to use libfdk_aac. The incoming file format is MP4/MP3.\nTrying to update PHP-FFMpeg via Composer in my project isn't yielding much luck though. It's claiming that I already have the latest version. Is there something else I need to do here to make this happen? I do see that there is a 0.6 tag in the repo, but changing to require-dev isn't working either. Is that the latest version you're referring to? I originally grabbed PHP-FFMpeg in November through Composer with this exact same setup...\n{\n    \"require\": {\n        \"php-ffmpeg/php-ffmpeg\": \"~0.5\"\n    }\n}\nThoughts?\nEdit: Alright, managed to get 0.6 to happen... Still not working though. Investigating...\nEdit 2: Yep, even after grabbing 0.6, it still wants to use libfaac as the audio codec...\nAlright, so changing line 22 in X264.php as follows resolved this for me:\npublic function __construct($audioCodec = 'libfdk_aac', $videoCodec = 'libx264')\n. Thank you for this!. ",
    "jonathanlundstrom": "Thanks, that clears it up! :)\nOn Nov 20, 2013 7:25 PM, \"Romain Neutron\" notifications@github.com wrote:\n\nUsing the codecs , you can specify the bitrate :\nOn a video codec :\n$codec = new FFMpeg\\Format\\Video\\X264();$codec\n    -> setKiloBitrate(1000)\n    -> setAudioKiloBitrate(256);\nOn a audio codec :\n$codec = new FFMpeg\\Format\\Audio\\Mp3();$codec\n    -> setAudioKiloBitrate(256);\nDoes it answer your question ?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/alchemy-fr/PHP-FFmpeg/issues/72#issuecomment-28914780\n.\n. Thanks, I'll look into using the other library!\n\nCould you shed some light on this other issue I have?\nhttps://github.com/alchemy-fr/PHP-FFmpeg/issues/72\n. ",
    "gGambit": "Sorry to bump a closed thread, but just wanted to confirm for clarity cause I'm not sure.\n$video->frame()->save();\ndoesn't take any applied filters when saving an image?  I tried the following code and also noticed that the resulting video will be resized but the image outputted would be unaffected by the resize filter.\n$video\n    ->filters()\n    ->resize(new FFMpeg\\Coordinate\\Dimension(320, 240))\n    ->synchronize();\n$video\n    ->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(10))\n    ->save('frame.jpg');\nJust wanted to confirm, is there no way to save the frame to the dimension specified in the filter?  It has to be re-read from the drive, resampled then saved back to the drive?\n. For my Windows users...\nI had this problem too.  Spent two days using procmon to determine why PHP wasn't starting ffprobe.exe on a new Windows 2016 install.\nTurns out if your IIS AppPool identity doesn't have at least modify writes on the C:\\Windows\\temp folder, you will get this misleading error.\nYou can get the App Pool identity/context of your site using (not to be confused with the user context provided from get_current_user(). ):\necho \"Get ENV: \".getenv(\"APP_POOL_ID\");\n    Or\n    echo \"Get SERVER: \".$_SERVER[\"APP_POOL_ID\"];\nFrom my analysis, this is because PHP-CGI.exe, CMD.exe & the ffmpeg exe's (ffmpeg.exe, ffprobe.exe, ffplay.exe) use flat files in the temp folder to exchange and parse information.  When PHP-CGI.exe creates a temp file in this location all other processes can only read from the temp file, leaving it empty 0 bytes.  Every page load, I had these empty temp files being written to C:\\Windows\\Temp and ffprobe.exe would never execute.\nHope this helps someone.. ",
    "FlexIDK": "Filter class:\n```php\nnamespace FFMpeg\\Filters\\Frame;\nuse FFMpeg\\Exception\\RuntimeException;\nuse FFMpeg\\Media\\Frame;\nclass ImageDimensionFilter implements FrameFilterInterface\n{\n    /* @var \\FFMpeg\\Coordinate\\Dimension /\n    private $dimension;\n/** @var integer */\nprivate $priority;\n\npublic function __construct($priority = 0)\n{\n    $this->priority = $priority;\n\n    return $this;\n}\n\n/**\n * {@inheritdoc}\n */\npublic function getPriority()\n{\n    return $this->priority;\n}\n\n/**\n * {@inheritdoc}\n */\npublic function getDimension()\n{\n    return $this->dimension;\n}\n\npublic function setDimension(\\FFMpeg\\Coordinate\\Dimension $dimension) {\n    $this->dimension = $dimension;\n\n    return $this;\n}\n\n/**\n * {@inheritdoc}\n */\npublic function apply(Frame $frame)\n{\n    $dimensions = null;\n    $commands = array();\n\n    foreach ($frame->getVideo()->getStreams() as $stream) {\n        if ($stream->isVideo()) {\n            try {\n                $commands[] = '-s';\n                $commands[] = $this->dimension->getWidth() . 'x' . $this->dimension->getHeight();\n                break;\n            } catch (RuntimeException $e) {\n\n            }\n        }\n    }\n\n    return $commands;\n}\n\n}\n```\nHow to use:\nphp\n$frame->addFilter(\n    (new \\FFMpeg\\Filters\\Frame\\ImageDimensionFilter())\n        ->setDimension(\n            new \\FFMpeg\\Coordinate\\Dimension($width, $height)\n        )\n);. Filter class:\n```php\nnamespace FFMpeg\\Filters\\Frame;\nuse FFMpeg\\Exception\\RuntimeException;\nuse FFMpeg\\Media\\Frame;\nclass ImageDimensionFilter implements FrameFilterInterface\n{\n    /* @var \\FFMpeg\\Coordinate\\Dimension /\n    private $dimension;\n/** @var integer */\nprivate $priority;\n\npublic function __construct($priority = 0)\n{\n    $this->priority = $priority;\n\n    return $this;\n}\n\n/**\n * {@inheritdoc}\n */\npublic function getPriority()\n{\n    return $this->priority;\n}\n\n/**\n * {@inheritdoc}\n */\npublic function getDimension()\n{\n    return $this->dimension;\n}\n\npublic function setDimension(\\FFMpeg\\Coordinate\\Dimension $dimension) {\n    $this->dimension = $dimension;\n\n    return $this;\n}\n\n/**\n * {@inheritdoc}\n */\npublic function apply(Frame $frame)\n{\n    $dimensions = null;\n    $commands = array();\n\n    foreach ($frame->getVideo()->getStreams() as $stream) {\n        if ($stream->isVideo()) {\n            try {\n                $commands[] = '-s';\n                $commands[] = $this->dimension->getWidth() . 'x' . $this->dimension->getHeight();\n                break;\n            } catch (RuntimeException $e) {\n\n            }\n        }\n    }\n\n    return $commands;\n}\n\n}\n```\nHow to use:\nphp\n$frame->addFilter(\n    (new \\FFMpeg\\Filters\\Frame\\ImageDimensionFilter())\n        ->setDimension(\n            new \\FFMpeg\\Coordinate\\Dimension($width, $height)\n        )\n);. Filter class:\n```php\nnamespace FFMpeg\\Filters\\Frame;\nuse FFMpeg\\Exception\\RuntimeException;\nuse FFMpeg\\Media\\Frame;\nclass ImageDimensionFilter implements FrameFilterInterface\n{\n    /* @var \\FFMpeg\\Coordinate\\Dimension /\n    private $dimension;\n/** @var integer */\nprivate $priority;\n\npublic function __construct($priority = 0)\n{\n    $this->priority = $priority;\n\n    return $this;\n}\n\n/**\n * {@inheritdoc}\n */\npublic function getPriority()\n{\n    return $this->priority;\n}\n\n/**\n * {@inheritdoc}\n */\npublic function getDimension()\n{\n    return $this->dimension;\n}\n\npublic function setDimension(\\FFMpeg\\Coordinate\\Dimension $dimension) {\n    $this->dimension = $dimension;\n\n    return $this;\n}\n\n/**\n * {@inheritdoc}\n */\npublic function apply(Frame $frame)\n{\n    $dimensions = null;\n    $commands = array();\n\n    foreach ($frame->getVideo()->getStreams() as $stream) {\n        if ($stream->isVideo()) {\n            try {\n                $commands[] = '-s';\n                $commands[] = $this->dimension->getWidth() . 'x' . $this->dimension->getHeight();\n                break;\n            } catch (RuntimeException $e) {\n\n            }\n        }\n    }\n\n    return $commands;\n}\n\n}\n```\nHow to use:\nphp\n$frame->addFilter(\n    (new \\FFMpeg\\Filters\\Frame\\ImageDimensionFilter())\n        ->setDimension(\n            new \\FFMpeg\\Coordinate\\Dimension($width, $height)\n        )\n);. > @FlexIDK Do you want to file a pull request?\nI'm don't know, how make this. If you want, you can add this file.. ",
    "lukedanielson": "When I run that command, I get:\n``` shell\n$ /usr/local/bin/ffprobe '-help' '-loglevel' 'quiet'\nSimple multimedia streams analyzer\nusage: ffprobe [OPTIONS] [INPUT_FILE]\nMain options:\n-L                  show license\n-h topic            show help\n-? topic            show help\n-help topic         show help\n--help topic        show help\n-version            show version\n-formats            show available formats\n...\n```\nIt continues for a while, giving a list of options for a number of 'muxer's....  So I believe it is working correctly.\n. Running through the commandline (ie iTerm/Terminal).\nI ran echo $? and it indeed wrote 0\nConfusing right?\n. Sorry, the php scripting is running through a local MAMP stack dev environment:\nhttp://bitnami.com/stack/mamp\nSo yes it is running through a local webserver.\nCould the enviro not be using the same ffmpeg as my commandline?\n. Alright, here is the result from running php -f test.php in the console:\n```\n$ php -f test.php\n[2014-01-14 15:16:12] test.INFO: ffprobe running command '/usr/local/bin/ffprobe' '-help' '-loglevel' 'quiet' [] []\n[2014-01-14 15:16:12] test.INFO: ffprobe executed command successfully [] []\n[2014-01-14 15:16:12] test.INFO: ffprobe running command '/usr/local/bin/ffprobe' 'tests/files/portrait.MOV' '-show_streams' '-print_format' 'json' [] []\n[2014-01-14 15:16:12] test.ERROR: ffprobe failed to execute command '/usr/local/bin/ffprobe' 'tests/files/portrait.MOV' '-show_streams' '-print_format' 'json' [] []\nPHP Fatal error:  Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffprobe failed to execute command '/usr/local/bin/ffprobe' 'tests/files/portrait.MOV' '-show_streams' '-print_format' 'json'' in /Applications/mampstack-5.4.17-0/apps/etc/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100\nStack trace:\n0 /Applications/mampstack-5.4.17-0/apps/etc/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure(''/usr/local/bin...')\n1 /Applications/mampstack-5.4.17-0/apps/etc/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(209): Alchemy\\BinaryDriver\\ProcessRunner->run(Object(Symfony\\Component\\Process\\Process), Object(SplObjectStorage), false)\n2 /Applications/mampstack-5.4.17-0/apps/etc/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(137): Alchemy\\BinaryDriver\\AbstractBinary->run(Object(Symfony\\Component\\Process\\Process), false, NULL)\n3 /Applicat in /Applications/mampstack-5.4.17-0/apps/etc/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php on line 243\nFatal error: Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffprobe failed to execute command '/usr/local/bin/ffprobe' 'tests/files/portrait.MOV' '-show_streams' '-print_format' 'json'' in /Applications/mampstack-5.4.17-0/apps/etc/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100\nStack trace:\n0 /Applications/mampstack-5.4.17-0/apps/etc/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure(''/usr/local/bin...')\n1 /Applications/mampstack-5.4.17-0/apps/etc/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(209): Alchemy\\BinaryDriver\\ProcessRunner->run(Object(Symfony\\Component\\Process\\Process), Object(SplObjectStorage), false)\n2 /Applications/mampstack-5.4.17-0/apps/etc/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(137): Alchemy\\BinaryDriver\\AbstractBinary->run(Object(Symfony\\Component\\Process\\Process), false, NULL)\n3 /Applicat in /Applications/mampstack-5.4.17-0/apps/etc/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php on line 243\n```\n. Updated the file path for the test video file in test.php to:\n$file_path = __DIR__ . '/vendor/php-ffmpeg/php-ffmpeg/tests/files/portrait.MOV';\nand got:\nphp -f test.php\n[2014-01-14 15:21:04] test.INFO: ffprobe running command '/usr/local/bin/ffprobe' '-help' '-loglevel' 'quiet' [] []\n[2014-01-14 15:21:04] test.INFO: ffprobe executed command successfully [] []\n[2014-01-14 15:21:04] test.INFO: ffprobe running command '/usr/local/bin/ffprobe' '/Applications/mampstack-5.4.17-0/apps/etc/vendor/php-ffmpeg/php-ffmpeg/tests/files/portrait.MOV' '-show_streams' '-print_format' 'json' [] []\n[2014-01-14 15:21:04] test.INFO: ffprobe executed command successfully [] []\n. Still trying to debug it.  No luck.\nLooking through the src files, it looks like the correct configuration parameter name is 'ffmpeg.binaries', and not 'ffmpeg.binarie', as your test code above shows. However, it successfully runs in the command line, regardless of whether I set the key to 'binaries', or 'binarie'.\nPerhaps it's just not correctly taking the right paths to the command?\n. Here's the php error log of when running the test (named test.php) at the web root of the project (htdocs):\n``` bash\n[Wed Jan 15 12:04:42.383915 2014] [:error] [pid 70725] [client 127.0.0.1:55558]\nPHP Fatal error:  Uncaught exception 'Symfony\\Component\\Process\\Exception\\RuntimeException' with message 'The process has been signaled with signal \"5\".' in /Applications/mampstack-5.4.17-0/apps/etc/vendor/symfony/process/Symfony/Component/Process/Process.php:330\nStack trace:\n0 /Applications/mampstack-5.4.17-0/apps/etc/vendor/symfony/process/Symfony/Component/Process/Process.php(200): Symfony\\Component\\Process\\Process->wait()\n1 /Applications/mampstack-5.4.17-0/apps/etc/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(64): Symfony\\Component\\Process\\Process->run(Object(Closure))\n2 /Applications/mampstack-5.4.17-0/apps/etc/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(209): Alchemy\\BinaryDriver\\ProcessRunner->run(Object(Symfony\\Component\\Process\\Process), Object(SplObjectStorage), false)\n3 /Applications/mampstack-5.4.17-0/apps/etc/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(137): Alchemy\\BinaryDriver\\AbstractBinary->run(Object(Symfony\\Component\\Pro in /Applications/mampstack-5.4.17-0/apps/etc/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php on line 63\n```\nIt's throwing the 'too old' exception...\n. I'm going to upload to a linux staging server to see if it occurs there or if it's just a local issue...\n. Alright, so I have uploaded to a linux server where ffmpeg is located at /usr/bin/ffmpeg, and ffprobe is at /usr/bin/ffprobe, updated the config values to reflect and it works successfully.  It probes the test video file without any errors.\nSo i'm guessing it has to with how the local webserver uses/doesn't use the mac's paths?  Or perhaps a permissions issue with the webserver.\nInterestingly enough, I've tried with both a Bitnami Mampstack (http://bitnami.com/stack/mamp), and with plain old MAMP itself (http://mamp.info), both throw the line 63 exception.\nHowever, when I just run php's built in webserver, it works no problem:\nbash\n$ php -S localhost:8000\nAnyone else able to run this in a local webserver-based environment?\n. Some further digging... I've run an exec command locally and on a remote server, here are the differences:\nscript:\n``` php\n<?php\n$exectest = array();\nexec('ffmpeg 2>&1', $exectest, $return_var);\n?>\n\n\n \n```\nresult on linux 'lampstack' server (where ffmpeg works):\nhtml\n<pre>Array\n(\n    [0] => ffmpeg version 0.8.6-4:0.8.6-0ubuntu0.12.04.1, Copyright (c) 2000-2013 the Libav developers\n    [1] =>   built on Apr  2 2013 17:02:36 with gcc 4.6.3\n    [2] => *** THIS PROGRAM IS DEPRECATED ***\n    [3] => This program is only provided for compatibility and will be removed in a future release. Please use avconv instead.\n    [4] => Use -h to get full help or, even better, run 'man ffmpeg'\n    [5] => Hyper fast Audio and Video encoder\n    [6] => usage: ffmpeg [options] [[infile options] -i infile]... {[outfile options] outfile}...\n    [7] => \n)\n</pre>\n<br>\n<pre>1</pre>\n<br>\n<pre>/opt/bitnami/frameworks/laravel/app/Console:/opt/bitnami/frameworks/cakephp/app/Console:/opt/bitnami/frameworks/codeigniter/bin:/opt/bitnami/frameworks/symfony/bin:/opt/bitnami/frameworks/zendframework/app/Console:/opt/bitnami/heroku/bin:/opt/bitnami/ruby/bin:/opt/bitnami/git/bin:/opt/bitnami/perl/bin:/opt/bitnami/varnish/bin:/opt/bitnami/sqlite/bin:/opt/bitnami/php/bin:/opt/bitnami/mysql/bin:/opt/bitnami/apache2/bin:/opt/bitnami/common/bin:/opt/bitnami/frameworks/laravel/app/Console:/opt/bitnami/frameworks/cakephp/app/Console:/opt/bitnami/frameworks/codeigniter/bin:/opt/bitnami/frameworks/symfony/bin:/opt/bitnami/frameworks/zendframework/app/Console:/opt/bitnami/heroku/bin:/opt/bitnami/ruby/bin:/opt/bitnami/git/bin:/opt/bitnami/perl/bin:/opt/bitnami/varnish/bin:/opt/bitnami/sqlite/bin:/opt/bitnami/php/bin:/opt/bitnami/mysql/bin:/opt/bitnami/apache2/bin:/opt/bitnami/common/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin</pre>\nresult on local mampstack server (where ffmpeg doesn't work):\nhtml\n<pre>Array\n(\n    [0] => dyld: Library not loaded: /usr/local/lib/libfreetype.6.dylib\n    [1] =>   Referenced from: /usr/local/bin/ffmpeg\n    [2] =>   Reason: Incompatible library version: ffmpeg requires version 18.0.0 or later, but libfreetype.6.dylib provides version 15.0.0\n)\n</pre>\n<br>\n<pre>133</pre>\n<br>\n<pre>/Applications/mampstack-5.4.17-0/frameworks/laravel/app/Console:/Applications/mampstack-5.4.17-0/frameworks/cakephp/app/Console:/Applications/mampstack-5.4.17-0/frameworks/codeigniter/bin:/Applications/mampstack-5.4.17-0/frameworks/symfony/bin:/Applications/mampstack-5.4.17-0/frameworks/zendframework/app/Console:/Applications/mampstack-5.4.17-0/heroku/bin:/Applications/mampstack-5.4.17-0/ruby/bin:/Applications/mampstack-5.4.17-0/git/bin:/Applications/mampstack-5.4.17-0/perl/bin:/Applications/mampstack-5.4.17-0/varnish/bin:/Applications/mampstack-5.4.17-0/sqlite/bin:/Applications/mampstack-5.4.17-0/php/bin:/Applications/mampstack-5.4.17-0/mysql/bin:/Applications/mampstack-5.4.17-0/apache2/bin:/Applications/mampstack-5.4.17-0/common/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:/Users/vaughnjuares/.rvm/bin:/Users/vaughnjuares/bin:/Applications/mampstack-5.4.17-0/php/bin/:/Users/vaughnjuares/.rvm/bin</pre>\nSo I'm thinking it has to do with a conflicting libfreetype in my PATH environment?\n. Hey everyone, there are really no source code errors, and just has to do with the environment that is running the code.\nOn a typical linux/ubuntu server with a standard ffmpeg install, it will work just fine.\nOn virtual environments, particularly in MAMP on OSX, ffmpeg setup can get hairy because of the libraries that MAMP loads, so when you start adding/subtracting path items to work in MAMP, you'll likely run across some compatibility issues and/or errors.\nI tried digging deep to track down the specific issue in MAMP, and didn't come up with a specific answer, but I isolated everything across a couple setups to find a difference that would cause ffmpeg to either not be callable, or throw a library version error, and discovered the the LD_LIBRARY_PATH, the var that MAMP loads, was the culprit.  Something in the MAMP setup that loads libraries and packages that conflict, at least on OSX, with ffmpeg.  Other virtual environments load it as well, so perhaps this could lead someone in the right direction....\n. ",
    "codeclown": "Having this problem right now. Unfortunately I'm not that experienced with servers so I don't think I can provide that insightful data.\nI'm running on a MAMP installation on OS X 10.7.5. Set up PHP-FFMpeg via Composer in a Laravel installation.\nAt first I also had problems due to the library not locating the binaries, even though they are located in /usr/local/bin. Fixed that easily by simply defining them while loading the library:\nApp::singleton('FFMpeg', function() {\n    return FFMpeg\\FFMpeg::create(array(\n        'ffmpeg.binaries' => '/usr/local/bin/ffmpeg',\n        'ffprobe.binaries' => '/usr/local/bin/ffprobe'\n    ));\n});\nHowever, as said, I get the same error as @lukedanielson:\nYour FFProbe version is too old and does not support `-help` option, please upgrade.\nI installed ffmpeg via Homebrew (brew install ffmpeg) 30 minutes ago, so I doubt it's an out-dated version.\nRunning ffprobe -help in Terminal works fine.\nWhy exactly is the -help option needed, even?\n. It certainly is something to do with MAMP. As said, I'm using Laravel, and I just tried creating a Artisan (Laravel's CLI) command instead. I don't get the same error anymore, when running it from Terminal.\nHowever, I enabled MonoLog when not using Artisan and these are the first two rows that I get:\n[2014-02-09 16:22:19] production.INFO: ffprobe running command '/usr/local/bin/ffprobe' '-help' '-loglevel' 'quiet' [] []\n[2014-02-09 16:22:20] production.ERROR: ffprobe failed to execute command '/usr/local/bin/ffprobe' '-help' '-loglevel' 'quiet' [] []\nAfter that there are 90 lines of stack trace.\nHowever, as it's not a bug in the library, but a problem with my environment, we can just leave it here, since I can use the library via Artisan. Thanks for the fast reply.\n. @micayael Did that solution fix it for you?\n. Alright guys, I've found a fix, sort of. I found this detailed on multiple sources, here's one.\nSo, what you have to do to get rid of these errors:\n1. Open /Applications/MAMP/Library/bin/.\n2. Find the file envvars and open it in a text editor.\n3. Comment out the whole if-statement, so basically every uncommented line.\nNow, I'm not sure if this breaks something with MAMPP. It would be great if this \"solution\" provided @romainneutron some useful details on how to crack this mystery.\n. Alright, so I simply copied the raw command from the error above and pasted it in Terminal. Got the result I needed (unknown encoder 'libx264').\n. ",
    "micayael": "I have the same problem and I found this: http://stackoverflow.com/questions/8834210/unable-to-execute-cli-commands-through-php\n. ",
    "atiberius": "I had this problem myself on XAMPP and I solved it by putting this line:\nDYLD_LIBRARY_PATH=/usr/bin\njust before the line:\nexport DYLD_LIBRARY_PATH\nfrom /Applications/XAMPP/bin/envvars and then restarted XAMPP.\nThanks, lukedanielson and codeclown!\n. ",
    "woellij": "@atiberius  \nI faced the same error and this helped me aswell. Though with my setup it was LD_LIBRARY_PATH=/usr/bin\nexport LD_LIBRARY_PATH\n. ",
    "kinddylee": "I had fixed this issue on CentOS 6.5 , use nginx.\nIn 'php.ini' file liks this:\ndisabled_functions = 'exec,...'\nremove 'exec' in this line,then and everything is okay.\n. ",
    "zang": "It works well. Thanks ;)\n. Fab!\nI will give it a try.\nThanks, Lucy\n. Here is an example of an encoded mp4 video that doesn't play on iPad nor Android (but plays well on desktop). Please help......\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'test.mp4':\n  Metadata:\n    major_brand     : mp42\n    minor_version   : 0\n    compatible_brands: mp42mp41\n    creation_time   : 2011-11-10 03:49:28\n  Duration: 00:00:30.03, start: 0.041708, bitrate: 43129 kb/s\n    Stream #0:0(eng): Video: h264 (Main) (avc1 / 0x31637661), yuv420p(tv), 1920x1080 [SAR 1:1 DAR 16:9], 43119 kb/s, 23.98 fps, 23.98 tbr, 23976 tbn, 47.95 tbc (default)\n    Metadata:\n      creation_time   : 2011-11-10 03:49:28\n      handler_name    : Mainconcept MP4 Video Media Handler\n. I've changed the default bitrate to:\nprotected $audioKiloBitrate = null;\nIs that going to break anything? \nthanks,\nLucy\n. ",
    "tdaryani01": "Thank you for fixing this, I have set the timeout to 0 to avoid them. \n. Hi,\nI was doing some investigation on this issue and came across this issue for Symfony:\nhttps://github.com/symfony/symfony/issues/5030\nAdding 'exec' in front of the command does fix the issue. I saw you had contributed to the Symfony  issue. Is there a reason for not adding 'exec' to the command line in php-ffmpeg? \nIn my original post I mentioned two scenarios where this issue happened:\n1- frame sync error happened\n2- timeout happened.\nI think for the timeout scenario the ffmpeg process should be stopped as well. However, it seems to me that the underlying ffmpeg lib treats frame sync error as a warning and continues to run after generating the frame sync problem. I think \"php-ffmpeg\" should keep that behaviour and treat frame sync error as a warning not a runtime exception and shouldn't throw the exception( though it should log it as a warning) and let the process to continue. \nyour thoughts are appreciated.\nThanks\nTaher\n. ",
    "JoeDawson": "I too am interested in trying to do this, I've browsed the README several times but can't see any way of doing so. Although I have done with the command line. Preferably though, I'd love to include audio too.\nThis works from the command line;\nffmpeg -loop 1 -i image.jpg -i audio.mp3 -shortest -acodec copy -f x264 video.mp4\nI was wondering how I would do this with this package?\nEdit: Just come across this, doesn't look like it's possible @HOM3RJaySimpson: https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/146\n. Hey @jens1o unfortunately not, I assume I'm using it in the correct way here?\n```php\n$ffmpeg = FFMpeg::create([\n    'ffmpeg.binaries'  => '/usr/local/Cellar/ffmpeg/3.3.3/bin/ffmpeg',\n    'ffprobe.binaries' => '/usr/local/Cellar/ffmpeg/3.3.3/bin/ffprobe'\n]);\n$video = $ffmpeg->open($clips->first()->source);\n$video->filters()->synchronize();\n$video->concat($clips->pluck('source')->all())\n      ->saveFromSameCodecs($this->video->source, true);\n``. Thanks @jens1o, here's the output for reference usingsynchronize()` https://www.youtube.com/watch?v=IspALiSKD1I. Hi @jens1o,\nHope you're well. I know you said you were tight on time, just wondered if you had a chance to take a look at this issue?\nWould an example application help?\nThanks. ",
    "blainesch": ":+1: would really love this feature\n. ",
    "massimans": "i had the same probleme i fixed it by the bin path to the global PATH variable sins appach apparently dont look to the user path\n. ",
    "Aphax": "I have the same problem with my wamp. All is set up correctly (path to executables ffmpeg and ffprobe), I can run them from terminal, but got that error in my browser : \nType: FFMpeg\\Exception\\ExecutableNotFoundException\nMessage: Unable to load FFProbe\n. ",
    "amontero": "Same problem here on Windows Server 2008 R2 64b. and Ffmpeg 0f16dfd-win64-static. Running Wamp Server Php 5.4\nI also try this:\n$ffmpeg = \\FFMpeg\\FFMpeg::create(array(\n            'ffmpeg.binaries' => 'C:/Program Files (x86)/Ffmpeg/bin/ffmpeg.exe',\n            'fprobe.binaries' => 'C:/Program Files (x86)/Ffmpeg/bin/ffprobe.exe',   \n        ));\nbut still doesn't work.\nAny idea?\n. May be you have the same problem as: https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/89\nAnyway, have you tried this:\n$format->setAudioCodec(\"libmp3lame\");\n. ",
    "lingtalfi": "Thanks @massimans, using the ffprobe's full path did it for me (so obvious when you think about it).\n. ",
    "Purus": "Note which slash you use. Use \"C:/FFmpeg/bin/ffmpeg.exe\" and not \"C:\\FFmpeg\\bin\\ffmpeg.exe\"\nHope it helps someone.. ",
    "micronax": "I have a similar issue concerning the encoding. PHP-FFMPEG always throws an error Encoding failed after about 49% of the encoding. When I execute the exact command (except for the passlog-parameter) it wont abort unexpectly. \nEdit: I tried different videos and codecs. It always stops at 49%..\nIs there a posibility to debug the output?\n. timeout is set to zero. Also tried a video of size ~3MB which takes about 5 seconds to 49% and a video with about 100MB which takes ~30sek to 49%\n. Thats a useful information! Without any passfile-stuff (run from CLI) no error is thrown. \nsys_temp_dir = /tmp. PHP also creates the first passlogfile. I've checked this.\nWhat do you mean with \"command line is available\"?\n. Yes. The error thrown is:\nffmpeg failed to execute command '/usr/bin/ffmpeg' '-y' '-i' '/var/video/e9c97892aea34b21e2390a47498a9e29.mp4' '-async' '1' '-metadata:s:v:0' 'start_time=0' '-s' '960x720' '-threads' '12' '-vcodec' 'libx264' '-acodec' 'libvo_aacenc' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-pass' '2' '-passlogfile' '/tmp/ffmpeg-passes5354eb172ab23ztc1r/pass-5354eb172abf3' '/var/video/output/e9c97892aea34b21e2390a47498a9e29.mp4'\n'-pass' '2 seems to prove the php-ffmpeg is unable to create the second passfile? But why? It's an chmod 0777 tmp-folder \n. I cannot. The passfile seems to be deleted after the exception? When i strip the passfile paramters I can run it manually.\n. \nFile-size is zero?\nRunning under root just for test purposes..\n. I tried switching from ffmpeg to avconv. Now it seems to work. Strange! Maybe it was an incompatibility with that ffmpeg version..\n. Thanks for your help and that snippet - And also thanks for that great library.\n. :+1:\n. ",
    "seanmadhaven": "I am converting flv file into mp4 file on laravel. But I get encoding failed error.. I tried to save a frame and it worked fine. So it may not a permission problem.\n```\nexception 'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffmpeg failed to execute command '/usr/bin/ffmpeg' '-y' '-i' '/var/www/html/public/temp/pTSKGIGRGGrPL2l6IWAP.flv' '-s' '320x240' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes54060c1f4a7ce5y500/pass-54060c1f4a945' '/var/www/html/public/videos/2014/09/g73mcjbKxxWFfiR7uG1x.mp4'' in /var/www/html/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100\nStack trace:\n0 /var/www/html/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure(''/usr/bin/ffmpe...')\n1 /var/www/html/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(209): Alchemy\\BinaryDriver\\ProcessRunner->run(Object(Symfony\\Component\\Process\\Process), Object(SplObjectStorage), false)\n2 /var/www/html/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(137): Alchemy\\BinaryDriver\\AbstractBinary->run(Object(Symfony\\Component\\Process\\Process), false, Array)\n3 /var/www/html/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Media/Video.php(158): Alchemy\\BinaryDriver\\AbstractBinary->command(Array, false, Array)\n4 /var/www/html/app/controllers/VideoController.php(134): FFMpeg\\Media\\Video->save(Object(FFMpeg\\Format\\Video\\X264), '/var/www/html/p...')\n5 [internal function]: VideoController->videoupload_ajax()\n6 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(231): call_user_func_array(Array, Array)\n7 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(93): Illuminate\\Routing\\Controller->callAction('videoupload_aja...', Array)\n8 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(62): Illuminate\\Routing\\ControllerDispatcher->call(Object(VideoController), Object(Illuminate\\Routing\\Route), 'videoupload_aja...')\n9 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Router.php(962): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'VideoController', 'videoupload_aja...')\n10 [internal function]: Illuminate\\Routing\\Router->Illuminate\\Routing{closure}()\n11 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Route.php(109): call_user_func_array(Object(Closure), Array)\n12 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Router.php(1028): Illuminate\\Routing\\Route->run(Object(Illuminate\\Http\\Request))\n13 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Router.php(996): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n14 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(776): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n15 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(746): Illuminate\\Foundation\\Application->dispatch(Object(Illuminate\\Http\\Request))\n16 /var/www/html/vendor/laravel/framework/src/Illuminate/Session/Middleware.php(72): Illuminate\\Foundation\\Application->handle(Object(Illuminate\\Http\\Request), 1, true)\n17 /var/www/html/vendor/laravel/framework/src/Illuminate/Cookie/Queue.php(47): Illuminate\\Session\\Middleware->handle(Object(Illuminate\\Http\\Request), 1, true)\n18 /var/www/html/vendor/laravel/framework/src/Illuminate/Cookie/Guard.php(51): Illuminate\\Cookie\\Queue->handle(Object(Illuminate\\Http\\Request), 1, true)\n19 /var/www/html/vendor/stack/builder/src/Stack/StackedHttpKernel.php(23): Illuminate\\Cookie\\Guard->handle(Object(Illuminate\\Http\\Request), 1, true)\n20 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(642): Stack\\StackedHttpKernel->handle(Object(Illuminate\\Http\\Request))\n21 /var/www/html/public/index.php(49): Illuminate\\Foundation\\Application->run()\n22 {main}\nNext exception 'FFMpeg\\Exception\\RuntimeException' with message 'Encoding failed' in /var/www/html/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Media/Video.php:168\nStack trace:\n0 /var/www/html/app/controllers/VideoController.php(134): FFMpeg\\Media\\Video->save(Object(FFMpeg\\Format\\Video\\X264), '/var/www/html/p...')\n1 [internal function]: VideoController->videoupload_ajax()\n2 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(231): call_user_func_array(Array, Array)\n3 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(93): Illuminate\\Routing\\Controller->callAction('videoupload_aja...', Array)\n4 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(62): Illuminate\\Routing\\ControllerDispatcher->call(Object(VideoController), Object(Illuminate\\Routing\\Route), 'videoupload_aja...')\n5 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Router.php(962): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'VideoController', 'videoupload_aja...')\n6 [internal function]: Illuminate\\Routing\\Router->Illuminate\\Routing{closure}()\n7 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Route.php(109): call_user_func_array(Object(Closure), Array)\n8 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Router.php(1028): Illuminate\\Routing\\Route->run(Object(Illuminate\\Http\\Request))\n9 /var/www/html/vendor/laravel/framework/src/Illuminate/Routing/Router.php(996): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n10 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(776): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n11 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(746): Illuminate\\Foundation\\Application->dispatch(Object(Illuminate\\Http\\Request))\n12 /var/www/html/vendor/laravel/framework/src/Illuminate/Session/Middleware.php(72): Illuminate\\Foundation\\Application->handle(Object(Illuminate\\Http\\Request), 1, true)\n13 /var/www/html/vendor/laravel/framework/src/Illuminate/Cookie/Queue.php(47): Illuminate\\Session\\Middleware->handle(Object(Illuminate\\Http\\Request), 1, true)\n14 /var/www/html/vendor/laravel/framework/src/Illuminate/Cookie/Guard.php(51): Illuminate\\Cookie\\Queue->handle(Object(Illuminate\\Http\\Request), 1, true)\n15 /var/www/html/vendor/stack/builder/src/Stack/StackedHttpKernel.php(23): Illuminate\\Cookie\\Guard->handle(Object(Illuminate\\Http\\Request), 1, true)\n16 /var/www/html/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(642): Stack\\StackedHttpKernel->handle(Object(Illuminate\\Http\\Request))\n17 /var/www/html/public/index.php(49): Illuminate\\Foundation\\Application->run()\n```\n. Thank you! I cloned from latest ffmpeg repo and it worked! The problem was libfaac.\n. ",
    "Grald": "@sean-madhavan, how did u solve that problem i got same error too. and i downloaded the latest version what the next step? thank you in advance\n. thanks @ghotgalkar for the comment. How about on linux platform?\n. Hi guys, why i can't transcode video using php-ffmpeg in CENTOS server I tried in terminal and it works perfectly using root then the command but if not root 'encoding failed' occured. any idea what happening? \n. @ghotgalkar it's okay now thanks :)\n. ",
    "ghotgalkar": "If on a mac - Install FFMpeg like this\nbrew reinstall ffmpeg --with-faac --with-fdk-aac --with-ffplay --with-freetype --with-frei0r --with-libass --with-libvo-aacenc --with-libvorbis --with-libvpx --with-opencore-amr --with-openjpeg --with-opus --with-rtmpdump --with-schroedinger --with-speex --with-theora --with-tools\nRemove the older version first.\n. @Grald sorry for the super late reply. Not tried on linux. The main issue is that you need the compile flags to make sure you have all the requirements for audio and video encoding.\nI found a lot of info on https://trac.ffmpeg.org/wiki/CompilationGuide\nand also there is something specific for CentOS on https://trac.ffmpeg.org/wiki/CompilationGuide/Centos\nHopefully this helps.\n. ",
    "keygenqt": "thanks @ghotgalkar!!\n. ",
    "farico": "Thanks @romainneutron for your commnt! Printing out errors revealed me that $ffmpeg->save(); could not save to target directory (even it was chmodded to 0777). I have changed it to /tmp/anyname and now it works.\n. ",
    "bakerstreetsystems": "Thanks @ghotgalkar . Your suggestion worked perfectly on my Mac running El Capitan.\n. ",
    "zinzinday": "Watermark short videos upload from pc working.\nBut download video 720p from vimeo and watermark not working\nphp\n      use FFMpeg\\FFMpeg;\n      use FFMpeg\\Format\\Video\\X264;\n     ......\n        set_time_limit(0);\n     .......\n        $ffmpeg = FFMpeg::create([\n            'ffmpeg.binaries' => '/usr/bin/ffmpeg',\n            'ffprobe.binaries' => '/usr/bin/ffprobe',\n            'timeout' => 0, // The timeout for the underlying process\n            //'ffmpeg.threads' => 12,   // The number of threads that FFMpeg should use\n        ]);\n         $video = $ffmpeg->open( '/var/www/webroot/ccbank/frontend/web/uploads/vimeo.mp4');\n        $watermark = '/var/www/webroot/ccbank/frontend/web/uploads/logo-h100.png';\n        $video->filters()->watermark($watermark, [\n            'position' => 'relative',\n            'right' => 50,\n            'top' => 50,\n        ]);\n        $format = new X264();\n        $output =  '/var/www/webroot/ccbank/frontend/web/uploads/watermark1.mp4';\n        $video->save($format, $output);\nBrowser error:\n\nerror command line:\n'/usr/bin/ffmpeg' '-y' '-i' '/var/www/webroot/ccbank/frontend/web/uploads/vimeo.mp4' '-vf' 'movie=/var/www/webroot/ccbank/frontend/web/uploads/logo-h100.png [watermark]; [in][watermark] overlay=main_w - 50 - overlay_w:50 [out]' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes57ee9ba784e323laim/pass-57ee9ba784f92' '/var/www/webroot/ccbank/frontend/web/uploads/watermark1.mp4'\nTerminal:\n\nlib libfaac-dev ready installed\nHow to fix that?\n. ",
    "Tinywan": "shell_exec(\"ffmpeg -y -i input.avi output.avi </dev/null >/dev/null 2>/var/log/ffmpeg.log &\");. @Romain OK!. This file path to use the absolute path, for example: http://127.0.0.1/ThinkPhpStudy/Uploads/FFmpegVideo/out.mpg. @Romain I think it is a relative path, the result is an absolute path, but the output file path can not specify the directory, this do not know how to do?. @Romain \nWell, thank you very much, this problem has been solved. @Romain Hi,Is the second possibility you may immediately prompt the wrong message, rather than editing the video until the end\nIf the start time + duration of the clip is greater than the duration of the video, an error is thrown! error codeEncoding failed. Hi @Romain \nI also have the same problem in linux (Ubuntu 14.0), Windows is ok, do not know what the cause\nlinux env\nroot@iZbp18bgyon12iapklpi9rZ:/home/www # whereis ffmpeg\nffmpeg: /usr/local/bin/ffmpeg /usr/local/ffmpeg\nroot@iZbp18bgyon12iapklpi9rZ:/home/www # whereis ffprobe\nffprobe: /usr/local/bin/ffprobe\nthis is error\nphp\n $ffmpeg = FFMpeg::create();\n var_dump($ffmpeg);\nthis is success\nphp\n $ffmpeg = FFMpeg::create([\n     'ffmpeg.binaries'  => '/usr/local/bin/ffmpeg',\n     'ffprobe.binaries' => '/usr/local/bin/ffprobe'\n ]);\n var_dump($ffmpeg);\n. @Scarlicity Thank you! It has been solved . @Scarlicity yes ,you too\uff1f. @Scarlicity Haha, that is also#. @WhiteSnowGirl  Only Windows or Mac OS. @ShaoGongBra  \u5177\u4f53\u4ec0\u4e48\u95ee\u9898\uff0c\u8bf7\u4f60\u63cf\u5199\u6e05\u695a\u4e00\u4e0b . ",
    "shtse8": "I have the same issue, when adding watermark to images. some of images will throw Encoding error. and the result file size become zero.. @jens1o Any progress? I think this feature would be useful for my project too. Saving to different formats from one input is common in many cases.. I have tried to execute two times, but the behavior is weird - the second time run before the first time completed resulting in incompleted result file (only one second of the result file). Also, executing two times takes much more time, that's why I want to make it into one.. I have created a PR https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/343 for this feature. . @Romain Thanks for your review. I have replied and explained in details.. I have tested some cases and they all works like a charm. But I haven't any experience in creating tests in GitHub. Please help me to create some tests.. Thanks! I have corrected the tests.. It's because some apply method returns are just using simple syntax such as transpose=1. But I had assumed everyone is coding like [in]transpose=1 [out], so it failed to merge each filter into one with ordering.\nI am trying to fix. Hope this fix can help. . because mutiple vf is not allow in one command. if you want to process the video with ordering . you need to merge mutiple vf into one with ordering.. because it is used to be merged outside . it is the best practice to have in and out in filter command .\nbut if you have only one filter . you can just ignore the in and out. because it must be in in front and out behind. but we need to do the orderinga and multiple filters. it s better to specify the in and out.. but merging the filters into one is not an easy job. because the structure of the class is now returning the command directly. that mean mutiple vf command is returned. we have to find a way to merge then instead to reconstruct the whole class which is a huge change of the class. this is the best i think without any problem because all commands are returned by the classes, it is easy for us to know the format and merge them into one.. foreach is not better then for because we need to take two arguments if matching the vf command.. foreach is hard to control the index resulting in poor performance.. the commands generated by the filter is not clean enough to be used by the save function. we need to do the ordering, vf is the procedure to do the ordering filter. you are hard to generate only one perfect command as only one vf command is allowed but you have mutiple filter classes generating multiple vf command. so now we have no choice, one is to modify all classes to generate a special return for vf, and one is to merge multiple vf into one in the preprocess. i think the second way is the best for our situation.. the desired command is not just that simple.\nbecause we need to scale first and then adding watermark.\nthe desired command is \nffmpeg -i input.avi -vf \"movie=watermark.png [watermark]; [in] scale=320:240 [p1]; [p1] [watermark] overlay=100:100 [out]\" output.avi\nAlso, because the pull request is to support multiple filters with ordering.\nthe desired command can be more complex as follow:\nffmpeg -i input.avi -vf \"movie=watermark.png [watermark]; [in][watermark] overlay=100:100 [p1]; [p1] scale=320:240 [p2]; [p2] [watermark] overlay=200:200 [p3]; [p3] scale=100:100 [out]\" output.avi\nnot only watermark and scale. all filters using vf will be supported ordering.. the doc is just simplify for basic user. but for the concept of vf is to control the in and out and then adding filters step by step.\n-vf scale=100:100 means -v \"[in] scale=100:100 [out]\" actually.\nif you want to scale two times, you will have a command like this:\n-vf \"[in] scale=100:100 [p1]; [p1] scale=200:200 [out]\" \nbut you cannot do \n-vf \"scale=100:100; scale=200:200\" \nas you are missing the in and out. the filter processor don't know how to do.\nthe command above means you input from input and then scale to 100x100 and then save to p1; then input from p1 and then scale to 200x200 and then save to output.\nevery vf command support only one [in] and [out], and if you miss the [in] and [out]. it will basically add one in front and one behind.. Reference: http://stackoverflow.com/questions/10934420/ffmpeg-how-to-scale-a-video-then-apply-a-watermark. p1 is a custom variable defined by me.\nso we can easy to merge multiple filters with the variables p1, p2, p3, p4 .... p100 somethings like this.. ",
    "barricas": "Just to say I would be fine if there was like an interface/abstract video with the default save method and we could inject our custom object with an overriden save method or something like that.\n. Yes that sounds a good ideia, the DefaultVideo could have the already existing settings and in a codec object we could set more, modify or remove existing settings.\n\nEdit:\nMy suggestion:\nCodec object would have:\n- $commands property, this would be an array, maybe assoc for easy add/removal?\n- a set($option, $value) method which would set/add an option or modify in case it already exists.\n- a remove($option) which is self-explanatory\n- a getCommands() would get the $commands property of the object, since you currently pass a simple array you could flatten it from assoc to simple, unless the process manager is able to also handle an assoc array.\n- also, DefaultVideo would have the default settings you already specify in the save() method\nThis way it would be more modular with ffmpeg settings with very little changes. What you think?\n. ",
    "jkaflik": "Hello,\nThanks for response and sorry for my mistake ;)\n. ",
    "GrahamCampbell": "It's on the todo list of https://github.com/alchemy-fr/PHP-FFMpeg-Extras.\n. It's not for me to say. Let's wait for @romainneutron.\n. :+1:\n. @iolloyd It's normally not a good idea for libraries to have composer.lock files unless there is a real need. Otherwise, doing so is considered a bad practice. Lock files are intended for use with projects, not libraries.\n. Why this change? phpunit123.xml is not a valid file name.\n. ",
    "MrHash": "Ok i can submit it there but i thought it might be useful as a core format\n. ",
    "m4tthumphrey": "Try this filter @kenianbei \n. ",
    "kenianbei": "Thanks, I'll check it out!\n. Thanks for the quick reply... and sorry for the somewhat vague error report.\nI hadn't looked closely enough at how the Video save class worked, and was somewhat confused on the error handling. I looked at it this morning and see now that it's perfectly fine.\nI solved my issue just by wrapping the save function as so:\nphp\n        try {\n            $video->save($format, $output);\n        }\n        catch (IOException $e) {\n            error_log($e->getMessage());\n        }\nSince I don't care about the clean up, and since my docker file system is temporary anyway, I can ignore clean up errors.\nWith my docker workflow, for some reason on AWS I think the file system perms get changed or temp files get automatically deleted and causes the clean function to throw an error when it tries to clean up files that already don't exist. I'm still not exactly sure why it's happening.\nAnyway, issue closed and thanks again for this great module, I've been using it for years.\n. ",
    "SimonSimCity": "Tested it now for MP3, MP4, WebM and OGV and it seems to work. I always get a duration in the format object of the response of ffprobe.\n. Please update your documentation, to use $res->getFormat()->get(\"duration\") for getting the duration of a file instead of using $res->getStreams()->first()->get(\"duration\"). The first works in much more use-cases than the later.\n. Done :)\n. @romainneutron, done that. Nothing shows up when calling php-cs-fixer fix . --level=all\n. @romainneutron Can you please check it again? Thanks to @mhor, the php-cs-fixer shouldn't complain anymore.\n. Ok, what I can tell you is, that this error is thrown in https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/e9f87eee94288b7aadd909b217925fb101cb3e7b/src/FFMpeg/FFProbe/OptionsTester.php#L63 - a method that is used in the has() method call right above, that confirms that ffprobe also has the parameter you want to call it with.\nFor some reason now the library distinguished that the parameter -help is not part of your library.\nAre you sure you have ffmpeg installed, or is it eventually just libav? If not, I have a story to tell \ud83d\ude1c http://stackoverflow.com/questions/9477115/what-are-the-differences-and-similarities-between-ffmpeg-libav-and-avconv Have you upgraded your Ubuntu or have you installed it from a fresh image?\nThat's all I can tell here ... I've also just been using this library a while ago and am not one of the maintainers .... @kenkataiwa This change is related to your environment and not to the project, or tools used within the project (like phpunit). It's a good practice to put all environment related ignores (specific to your OS, your IDE, etc) in a global gitignore file.\n. ",
    "done": "Ran into the same problem, did you happen to find a solution for this you'd like to share?\n. ",
    "jberns88": "Duplicate of #106\n. ",
    "madtechsupport": "Yes, but I'm following your instructions! As described here https://github.com/CodeScaleInc/ffmpeg-php.\n$ sudo pear channel-discover pear.codescale.net\n$ sudo pear install codescale/FFmpegPHP2\nFor the dev environment I'm setting up I would like to install using pear. Composer works, but I want to use pear. Can you help?\n. Ah yes, wrong repository.\n. ",
    "Metrakit": "Hi,\nHave you find how to do it ?\nThanks.\n. ok thanks\n. Yes thanks i found before\n. ",
    "muyline": "php\n$video = $ffmpeg->open($movie);\n$format = $video->getFormat();\n$duration = $format->get('duration');// you get it\n. ",
    "iolloyd": "Any chance of this being merged soon?\n. Nice\n. Is the project still in active development? I would be interesting in helping out if need be.\n. I think it is a good idea to have the composer.lock file in the repository\n. Yeah good point\u00a0Lloyd Moore - via HopOn September 21, 2014 at 12:08 GMT, Graham Campbell notifications@github.com wrote:@iolloyd It's normally not a good idea for libraries to have composer.lock files unless there is a real need. Otherwise, doing so is considered a bad practice. Lock files are intended for use with projects, not libraries.\u2014Reply to this email directly or view it on GitHub.\n. ",
    "totomtornado": "This works fine but I am having trouble getting to the actual dimensions... How do I access the properties?  I keep getting the error \nFatal error: Uncaught Error: Cannot access private property FFMpeg\\Coordinate\\Dimension::$height in /var/www/html/utilities/make_thumbnails/Assets_Insert_Setup_PHP.php:68 Stack trace: #0 /var/www/html/utilities/Assets/Assets_Insert.php(1): require() #1 {main} thrown in /var/www/html/utilities/make_thumbnails/Assets_Insert_Setup_PHP.php on line 68\nI tried something like below and then wanted to send the value to my own array.\n$height = $dimension->height;. Long post I know....\nIt seems so tough to get solid info on ffmpeg install for jessie... after thought I am considering a second machine(another pi3B) to use with this wrapper.  This fits what I want to do with my project a little better anyway.\nI am contemplating using ubuntu MATE on this new pi to run a second LAMP and ultimately ffmpeg and this wrapper.  Any experiences with ubuntu MATE, ffmpeg, and this wrapper used together?  Can anyone give feedback on positive or negative experiences using this setup?\nIs there a better lightweight option I am missing, perhaps?\nCheers.... right... it says \"Executable not found, proposed : /usr/share/ffprobe\"... which is because I specified the path to the ffprobe and ffmpeg in the script I wrote BUT... the thing is that the files were in that location so....\nAll in all... My searching showed me way too many ways to compile or install ffmpeg on raspbian jessie and so many more errors or problems with it on this system.  That is why I was curious about ubuntu mate... \nLike I said in my 2nd post above... another pi makes sense in my setup anyway.  I plan on using the 2nd pi just for making video thumbnails and as my testing area.  With the new pi, I plan on using a different OS this time around... Ubuntu MATE has ffmpeg on its repository and is fine for what I want to do with it so I am hoping for a smoother approach.  Any feedback on how that works with someone else would be awesome.  \nTo someone more comfortable with linux systems this may all sound stupid but I am a bit of a novice.  Regardless it seems safer to go with an OS that officially supports ffmpeg and has it on their repository rather than workaround through the back in something like raspbian Jessie...\nIf none of it works then I guess I will just use a plain old exec call and run it from the command line out of php... I would love to use the wrapper though as I assume it is better in many ways else why make a wrapper...???\nSo... Still wondering... Anyone?  Anyone?\nHave you used this with Ubuntu Mate on a pi with minimal hassle?  I will try to post back in a week or so with my experience regardless.. I was able to get my new pi and try out a Ubuntu Mate install with this wrapper.\nI am happy to report it works very well.\nI copied over the image and used Ubuntu's Tasksel to install my LAMP stack\nhttps://help.ubuntu.com/community/Tasksel\nThen I got ffmpeg apt-get... the package is available on the repository and fine for me but for other situations you still may need to compile, etc.\nhttps://ubuntu-mate.community/t/tutorial-build-or-download-ffmpeg-libavcodec-with-mmal-support-hardware-acceleration-video-decoding/3565\nI installed composer and then got the wrapper as suggested here.\nNo fuss... working fine.... \nI recommend this over using Jessie... It was much simpler and straightforward if you are not an expert with linux or the terminal stuff yet.\n. Hmmm... I am running PHP Version 7.0.15\nNo mention of a safemode in my php.ini file and after searching it appears to gone....\nhttp://php.net/manual/en/features.safe-mode.php\nThis is as far as I can tell.... This is the php file I am using which is straight from the git here ....\n`<?php\ninclude 'vendor/autoload.php';\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/usr/bin/ffmpeg',\n    'ffprobe.binaries' => '/usr/bin/ffprobe',\n    'timeout'          => 0, // The timeout for the underlying process\n    'ffmpeg.threads'   => 12,   // The number of threads that FFMpeg should use\n), @$logger);\n$video = $ffmpeg->open('test.mp4');\n$video\n    ->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(10))\n    ->save('frame.jpg');\n?>`. The php file?  Sure... it is the code above though...so... . Oh.. sorry missed the mention of mp4.... hmmm... i am hesitant to give u the files just because it is of students.  I am sure other mp4s will do the same.  I can experiment and see.  I wish it was a different file and i would shoot it over no problem.  Ughhh.... I have got this working finally!!! Ah... I feel so good.\nI thought it was a permissions issue.  The trouble with the above error (Fatal error: Uncaught Alchemy\\BinaryDriv....) is that it is so nondescript.  In experimenting it would return the same error if the save directory was not a valid path or some other php error.  I caution those using this library to therefore not read to much into this message.  It is possible that the installation is incorrect but also possible that there is some minor issue with your code itself.  Possibly get all your code working perfectly up until the ffmpeg call and then you will have less of an area to debug.\nFor me, I was able to get this working by creating a usergroup with www-data(apache user) and myself... then I changed permissions for the folders I needed to read and write to.  For me, I am so sick of the permissions BS in linux and I am not super concerned about security(which I am unclear how much of a risk this is anyway) but I just set this up for the www folder entirely.  like so:\nsudo chown -R me:me_and_www-data_usergroup /var/www\n. ",
    "kenkataiwa": "Okay if you say so, but that wasn't particularly clear. And well there is more than one way to do something. Proceed however you see fit, that was my two cents.\n. I was ignoring PHPStorm (the IDE I use, and a lot others) project files. \n. Touch\u00e9. Thanks, I'll definitely keep it in mind next time.\n. ",
    "serialworm": "This worked for me on trusty\nphp\n$ffmpeg = \\FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/usr/bin/ffmpeg',\n    'ffprobe.binaries' => '/usr/bin/ffprobe',\n));\nThe leading \\ is due to being in another namespace.\n. Good catch.\n. ",
    "jayers": "$ffmpeg = \\FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/usr/bin/ffmpeg',\n    'fprobe.binaries' => '/usr/bin/ffprobe',\n));\nyou miss a 'f'\nit should be\n$ffmpeg = \\FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/usr/bin/ffmpeg',\n    'ffprobe.binaries' => '/usr/bin/ffprobe',\n));\n. ",
    "lucadem1313": "Hi developers, have you made any progress on this subject?\n. ",
    "absfarah": "Any updates on this? Or maybe an explanation on how to do this?\n. ",
    "brandesign": "Since it is not possible to apply video filters to frames, this looked like the most simple solution. A possibility to use one filter for both would be nice though.\n. ",
    "alphanull": "Yeah, I have to chime in here! I was actually almost shocked seeing such a complex, almost over-engineered piece of software, but still missing one of the most obvious and most important things, ie the ability to actually control my encodings. For starters, the resulting H.264 encodings are simply not compatible with any Android devices, due to a wrong profile (\"high\" instead of \"baseline\").\nActually, this makes the software almost useless for my needs. So, will this be improved, and any Ideas how to fix this? The only way I see is just hacking \"Video.php\" - or just use another wrapper. Any tips who to solve this without too much work are appreciated! Imho all these hardcoded stuff actually belongs  in the Format Class, so this really really needs some refactoring imho.\n. Thanks, I will take a look at this! But frankly, I am already looking at phpvideotoolkit-v2, which seems to have better support for setting encoding parameters. I think this is such a glaring hole here, that I don't know if it makes any sense for me to use a fork, bc this is whole format architecture seems to be simply broken by design, so I do not know if a patch here and there is actually enough. Would be nice if the Author would accept your pull request, or at least acknowledge the problem - or even better: think about the whole format architecture again. As it stands now it is (imho!) simply a violation of the \"SoC\" principle and needs a fix. Just my 2c.\n. Yeah, looks better. But I already encounter the first bugs .... oh well.\n. Sorry, I did not mean to be rude! I appreciate your work, and I hope you continue this project. A good working FFMpeg / PHP wrapper is sorely needed!\nBut in my eyes, contributing also means just reporting issues - not everyone is a PHP god - and in my eyes(!) this is a rather serious one. I mean you have this complex structure, with format classes and all, but still you end up hardcoding(!) certain values for any encoding in any format, so in a lot of these cases these params will  have no effect, or may even cause side effects. In my eyes(!) this subverts the whole effort you have done, and I think it is a valid point to mention. Again, sorry if my criticism sounded too rude!\nI think a solution would be to move these specific settings from \"Video.php\" to the actual format classes, so that we have functions like \"setProfile\" with the X264 Format. Video.php should just pull in all these additional params from the appropriate format class and should make no assumptions about them, since these can be quite different for example with H.264 vs webm encoding.\nAnd as you said yourself, you do not have the time to incorporate new features / fixes. So I am actually glad that curtisdf pointed me to his fork, bc I also do not have the time right now to rewrite everything perfectly. Of course I would really appreciate any improvments in the \"original\" fork.\n. ",
    "curtisdf": "I ended up fixing this by writing an alternate save() method that lets you inject arbitrary FFMpeg encoding parameters, effectively bypassing a lot of the other classes.  It's called transcode().  Here's my fork: https://github.com/curtisdf/PHP-FFMpeg  I haven't submitted a pull request because I wasn't sure if that's the direction the author wanted to \"officially\" go with it. Plus, it doesn't appear that pull requests are getting honored.\n. Oh dear.  My google-fu really failed me on this one.  If I'd known about phpvideotoolkit-v2, I probably would have gone with that instead.  Looks way better!  Thanks for mentioning it.  (Here's the link for anyone reading this later: https://github.com/buggedcom/phpvideotoolkit-v2)\n. @GrahamCampbell  I added phpunit*.xml because this project has two different phpunit config file examples - phpunit.xml.dist and phpunit-functional.xml.dist.  I used the wildcard so if anyone is using either one (e.g. by making a copy and removing the \".dist\" extension), neither will get in the way when running Git commands.  And if this project ends up with any additional phpunit configs, those should be covered too.\nWould you prefer to replace the phpunit*.xml line with explicit references to phpunit.xml and phpunit-functional.xml so we avoid the wildcard?\n. The composer.lock file can be useful to have committed.  Without it, one has to run \"composer update\" to pull in dependencies. However, this causes Composer to pull in the latest minor versions of everything, and to re-scan the whole dependency tree to negotiate which versions of everything to install.\nBut if composer.lock is part of the repository, then one can run \"composer install\" instead.  This looks in composer.lock for the exact versions of all the dependencies and installs those, without re-scanning the whole tree and re-negotiating everything.  So if a project is concerned about inconsistencies and possible breakage with re-negotiating dependencies all the time, then keeping composer.lock in the repository is a way to pin down all the dependency versions and keep them from changing randomly.\nIt's up to the project's decision-makers.  I don't think there's a one-size-fits-all recommendation.\n. I'm fine if project leadership wants to solve this in a different way.  Making a separate public function was a bit of a hack because the library was not flexible enough for my needs.  FFMpeg is such a flexible and powerful tool... but PHP-FFMpeg is currently hamstrung by not allowing users to enter their own options at runtime.\n. Taking 12+ months to respond to a PR minimizes your chances of getting PR's in the first place....\nMy last comments on this PR were over a year ago (Feb 2015.)  By July when I made those additional commits, I had assumed that this project was abandonware and was trying to prepare my fork for Packagist so my changes could actually see the light of day.  But GitHub assumes any subsequent commits are also intended to be included in the original PR, so that's why you're seeing them here.\nI really hope your comments represent a renewed interest in PHP-FFMpeg by its leadership.  However, I am content to continue using my own fork.  Sorry to say, I am too occupied on other projects to get back into this one.\n. ",
    "seblavoie": "I actually have the exact same problem as @NSBrianWard. I would also like to add -pix_fmt yuv420p at the end of the command. As I understand from other issues, there is some refactoring planned. \nFor now, what I could think about as a solution would be to add an optional arguent that would take an array of commands that would get merged into $commands somewhere around this line.\nIt could then look like this:\n$format = new \\FFMpeg\\Format\\Video\\X264('libvo_aacenc', 'libx264');\n$video->save($format, storage_path() . '/renders/output.mp4', ['-pix_fmt', 'yuv420p']);\nThis might be a shortsighted solution so let me know if you have any other suggestions. As @NSBrianWard, I am a bit lost as where to go from here.. Hi, here\u2019s basically the function I ended up using:\n```\n  public function compress() {\n    $ffmpeg = \\FFMpeg\\FFMpeg::create([\n      'ffmpeg.binaries' => '/usr/local/bin/ffmpeg',\n      'ffprobe.binaries' => '/usr/local/bin/ffprobe',\n    ]);\n$video = $ffmpeg->open(\"path/to/video.mov\");\n\n$video\n  ->filters()\n  ->resize(new \\FFMpeg\\Coordinate\\Dimension(640, 360))\n  ->watermark('path/to/watermark.png', [\n    'position' => 'relative',\n    'bottom' => 50,\n    'right' => 50,\n  ])\n  ->synchronize();\n$video\n  ->save(new \\FFMpeg\\Format\\Video\\X264(), \"path/to/watermarked-video.mp4\");\n\n}\n```\nThere are a couple of ways you can position the watermark. The relative allows you to position as you would with a position: absolute in CSS. \nYou can find the method handling the watermark here https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/master/src/FFMpeg/Filters/Video/WatermarkFilter.php#L49. It\u2019s not too daunting, but I still think the documentation should cover that without needing to point users to the code. I\u2019ll try and draft some pull request when I\u2019ll get a couple of minutes. \n. Glad it helped! I drafted a pull request for the maintainer to merge when he or she is ready:  https://github.com/PHP-FFMpeg/PHP-FFMpeg/pull/221\n. Sure! I think this should be all good now \ud83d\udc4d \n. ",
    "Gemorroj": "I added this hook for my code. This fixes my problem.\n``` php\n    /\n     * libmp3lame not supported sample_rate lower 16000\n     * firefox not play sample_rate lower 32000\n     \n     * @param FFmpegAudio $media\n     * @return Video\n     /\n    protected function addLibMp3LameFilter(FFmpegAudio $media)\n    {\n        $sampleRate = $media->getStreams()->audios()->first()->get('sample_rate');\n        if ($sampleRate < 32000) {\n            $media->addFilter(new AudioResamplableFilter(32000));\n        }\n    return $this;\n}\n\n. @EmiiKhaos, @visakhsujathan, @sathio sorry for delay \ud83e\udd13 \nthis issue steel actual for `v0.11.1 pl 1` release.\ni use windows 10x64, ffmpeg 3.4.2 (https://ffmpeg.zeranoe.com/builds/)\ntested 3gp file: [small.3gp.zip](https://github.com/PHP-FFMpeg/PHP-FFMpeg/files/1911948/small.3gp.zip)\nexample:php\n<?php\nuse FFMpeg\\Format\\Video\\X264;\nuse FFMpeg\\Filters\\Audio\\AudioResamplableFilter;\nuse FFMpeg\\FFMpeg;\n$ffmpeg = FFMpeg::create();\n$media = $ffmpeg->open('path_to_original_file.3gp');\n$format = new X264('libmp3lame'); // but now i use aac, with aac, the bug is not reproduced\n// add workaround\n// libmp3lame not supported sample_rate lower 16000\n// firefox not play sample_rate lower 32000\n$sampleRate = $media->getStreams()->audios()->first()->get('sample_rate');\nif ($sampleRate < 32000) {\n    $media->addFilter(new AudioResamplableFilter(32000));\n}\n// end workaround\n$media->save($format, 'path_to_converted_file.mp4');\n``. @jens1o no, I don't know what the right behavior is. Previously,libmp3lame` was used and it did not convert the file. It is unclear why. You may need to call trigger_error or Exception, or add filter... That is, hint the user about the problem.. @kavin-90 First, upgrade to the latest version of php (https://windows.php.net/download#php-7.2).\nAnd check the bug on the latest version of php.. ",
    "sathio": "Hi I'm having the same problem, where would I add this hook? and how would I invoke it?\nthanks\n. Hi, I'm not sure about this: \n$video\n    ->options()\n    ->resize(new Dimension(100, 100))\n    ->filter(filters)\n    ->synchronize();\n$video\n    ->save(new FFMpeg\\Format\\Video\\X264(), 'export-x264.mp4')\nwhere is the filter() method? I can't find it\n. ",
    "EmiiKhaos": "@Gemorroj still actual?\n. @iolloyd May you add tests please?\n. @curtisdf First of all, thanks for your contributions :) But it seems you blindly submitted your fork (see my diff comments).\nAs said in the other pull requests, I don't like the idea of adding blind parameters to ffmpeg, wheter through a transcode method or additonal params in save. If you have any needs where PHP-FFMpeg needs more flexbility, please create some issues about it. It's not a secret that the format and filters API needs more extension points :)\nBtw. please never not contiguous commits to a pull requests, like the composer.lock (which is wrong, then you should remove the file too :grimacing:) or ignore-changes. This minimizes your chances to get a pull request accepted, if there are commits with negative feedback, but the main purpose is correct..\nEither create a issue for such stuff or separate commits. There is no problem if you create more PRs for separate little changes.\n. Duplicate of #69\n. At least those one installed on Travis and tested with :smirk: \n. Phew, that's a huge PR and many BC breaks ;) Definitely needs review and rework.\nI like the code examples, very good :+1: \n. Duplicate of #69\n. @acemureithi ffmpeg support exists?\n. Looks good on the first sight :+1: Needs detailed review, especially the unit tests :)\n. Looks good to me :+1: \nMight have a refactoring on this aspect ratios ^^\n. @zang Is it supported in ffmpeg?\n. @gbaumgart Use case?\n. Seems your version missing an encoder in your build. Anyway, old version, not actual anymore.\n. @QuentinLORIOT If you know what to do, please create a Pull Request.\n@ivan0013 If you have generel questions about the usage which is not a bug, please ask them on http://stackoverflow.com/questions/tagged/php-ffmpeg\n. @virendravyas When reporting errors, always post your code and possible error messages please. The description of you is not reproducible.\n. If you have generel questions about the usage which is not a bug, please ask them on http://stackoverflow.com/questions/tagged/php-ffmpeg\n. @cwbeck Still a problem?\n. @gopalindians Still a problem?\n. @ivokun Still a problem?\n. \"Duplicate\" of #172 :)\n. @Ortix92 Do you know how is this done with ffmpeg itself? If yes, please tell us and be detailed and specific.\n. May you research please?\n. Do you have open_basedir set? Please also mind, the PATH for webserver is most of the time not the same as the PATH of your user account.\n. What does var_dump(getenv('PATH')) contain?\n. Damn strange. Definitely no open basedir restriction set? var_dump(ini_get('open_basedir'))\nPlease also test those two, to be really sure:\n- var_dump(is_file(exec('which ffmpeg')))\n- var_dump(is_executable(exec('which ffmpeg')))\n. Fuuuuuu, that's strange :(\n. Erm, you tested this all on console. Can you please test your test.php through the webserver?\n. Dr. Strange strikes again ^^\n. For the purpose of reproducing please add the output of composer show -i\n. And maybe copy your whole composer.json and composer.lock to hastebin please, so we can get exactly the same vendors :)\n. @jeffsrepoaccount Do you know if this has any speed or performance improvements instead of calling $video->save() multiple times?\n. I think this could be implemented like the following, if only the formats would differ.\n$video->enableMultipleOutput()\n    ->save($format1, ..)\n    ->save($format2, ..)\n    ->save($format3, ..)\n    ->doSave()\n;\nBut in your example the size differs, which means a separate filter and thus not solveable with the current filter implementation. May you take a look at #141 if such filter chains could be a step forward to this?\n. So you define the format as a complete output line in this example. Maybe a BC break ^^ But looks reasonable :+1: \nMust analyse the current code more deeply to take decisions for such new features, but any 1.0 release in the future has BC breaks, for sure :grimacing: \n. The point is not only the save() method. Adding methods to a interface like format is a BC too, it breaks implementors, which are not using the abstract DefaultVideo and DefaultAudio classes. But I think this is not the biggest problem, as long it's properly documented.\n. @beeseenmedia What is your use case of additional commands to ffmpeg? Could this be solved through more features in the formats or anywhere else?\nIt seems a bit dangerous to pass unfiltered commands to ffmpeg.\n. @Lyberii @warrickbayman @Grimbode Which error do you get on console, if you execute the command from the exception (without the quotes) directly on a command line?\n. @sujayjaju Docs in FFmpeg documenting this automatic rotate? Has FFmpeg a flag/option to disable it?\n. > There is a \"-noautorotate\" option to disable it.\n\nThanks, this should be automatically incorporated, depending if the installed ffmpeg supports it to keep BC and maybe a autorotate filter or similar if autorotate is really needed..\n. The ffmpeg-php extension has nothing to do with this library and the extension seems btw EOL\n. If you have generel questions about the usage which is not a bug, please ask them on http://stackoverflow.com/questions/tagged/php-ffmpeg\n. @hitswa The chrome console has nothing to do with a php error. Please be specific about your error. Do you get any messages in the web servers error log?\n. @citosid Is it possible with ffmpeg? If yes, tell us how please? If not, no. But IMHO a m3u playlist is a simple text file, thus I don't understand why you would need a library or ffmpeg?\n. Note to self: https://trac.ffmpeg.org/wiki/Concatenate\n. Thanks for the info :+1: \n. Duplicate of #69\n. @sheikhasadmuneer Is it solved?\n. Btw, it's a whole library not only a class :wink:\n. You should be able to pass all supported protocols by ffmpeg to the open() method.\n. @romainneutron seems busy with blackfire.io, but he is cleaning up a little bit atm, so you can count this lib still as active, even if there are hardly releases ;)\n. Since now I help maintain it, so yes :grimacing: \n. Do you have code examples?\n. Can you give code examples? How do you apply filters? Please be detailed, so we can reproduce.\n. The stackoverflow answer misses one topic. Composer hooks are only executed on the root package. If you add those to PHP-FFMPeg, they have no effect. You have to mention them in in the install docs. Not the best usability improvement to now. Especially, where to write the config file?\n\nHow about Symfony, Laravel and others frameworks who have their own way to configure stuff? This would conflict.\nHow about sysadmin who don't want auto-detection, because they ship their own binaries (self compiled)?\n. The underlying symfony process component, handles the execution of the binary itself, does a limited auto-discovery of the binaries already if not supplied by configuration.\n. @SnehalK12 still actual?\n. Please ask questions on http://stackoverflow.com/questions/tagged/php-ffmpeg, a question is not an issue :)\n. It seems you are using ffmpeg standalone and not this lib, please ask generic ffmpeg questions on http://stackoverflow.com/questions/tagged/ffmpeg\n. @thomashiron In which ffmpeg version was this change introduced? May you do this change in backwards compatible way?\n. @Grimbode Do you have code examples? Is it possible you can fix it in PHP-FFMpeg?\n. You should really take a look at https://getcomposer.org/ and how it works. A simple include is not possible. The regular way is now composer in the PHP ecosystem ;)\n. @vibhavsinha Issue covered within #208 now\n. Hi @jack-fdrv, this seems to be a duplicate of #172 \nTo be sure, please post your result of the following tests: \nphp\n<?php\nvar_dump(getenv('PATH'));\nvar_dump(exec('which ffmpeg'));\nvar_dump(ini_get('open_basedir'));\nvar_dump(is_file(exec('which ffmpeg')));\nvar_dump(is_executable(exec('which ffmpeg')));\nand the output of composer show -i. Would be also helpful if you post your composer.json and composer.lock to hastebin or similar.\nP.S.: When creating a issue, you were presented with an issue template. You are supposed to fill out the template as it says and don't ignore it completely please. :smile: \n. Thanks for the info.\n. As the var_dump(getenv('PATH')); shows, your /usr/local/bin path is not in your PATH variable which the webserver uses.\nSee http://stackoverflow.com/questions/11256008/setting-environment-variables-in-mamp how to set environment variables for your MAMP Pro and adapt your PATH=$PATH:/usr/local/bin\n. Please reformat/recreate your issue with our provided issue template and don't simple delete it and use proper code formatting (fenced code blocks for errors) and show more of your code changes and the ffmpeg output :)\n. Such a beatiful issue report :heart: \nThere are plans to refactor the format classes, they need some more love :) See #124 too. Getting the codecs from ffmpeg directly seems practical, but means another roundtrip to ffmpeg, but I will take the idea in mind.\nBtw. for your AAC you have also the libvo_aacenc encoder available.\n. Hi @realone09!\nSadly your issue is very unclear to me. The php gd extension has nothing to do with the lib and IRC PHP-FFmpeg doesn't use GD functions. Another point, ffmpeg-php is not PHP-FFmpeg. ffmpeg-php is an outdated php extension and is not this repository. Please look closer before spamming repos. :smiling_imp: \nAnd please, for the next time you create a issue on GitHub, if you are presented a issue template please fill it out and don't write your stuff above! :smiley: \n. What do you exactly mean with \"automating extracting multiple frames\"?\n. Thank you for the PR. Some open points:\n- Please use the provided PR template by GitHub in the future, even for docs.\n- Please format the code examples with correct code style (PSR-2) ;)\n- Please use backticks for inline formatting of the variable names, e.g. $watermarkPath\n. @seblavoie I've edited your PR with the template, please fill in the license (only MIT is accepted) :smile: \n. Thanks :+1: \n. Thanks for your pull request. Some points:\n- Please use the provided pull request template you see when creating a pull request and don't delete it (I've updated your pull request description)\n- Please add the license above (only MIT accepted :grin: )\n- Have you tested if this change breaks installations with older ffmpeg binaries, where the aac encoder is not present?\n. Do you have a complete stack trace?\nP.S.: Please don't delete the provided issue templat by GitHub. Please fill those fields out.\n. Please install the xdebug extension, so your error should print a complete stack trace\n. No, because the video is reencoded every frame with the watermark. Take the source video if you don't want the watermark ;)\n. This is a simple library and not a finished Laravel provider. Thus it's clear you can't add it to the config/app.php :smirk: \nSimply FFMpeg class directly in your code/controller/services as described in the readme.\n. Since .m3u/.m3u8 are playlists formats, which can simply be crafted by hand (some strings an newlines :grin:) I'll close this one.\n. Thanks for the bug report. May you include the ffmpeg params which are called to produce the debug output please?\n. Please simply read the readme: https://github.com/PHP-FFMpeg/PHP-FFMpeg#basic-usage\n. It's funny that you get a deprecation message, although it doesn't exist. The phpunit version 4.8 is rather old, isn't it?. The problem are the PHP versions, since newer phpunit versions dropped support for php < 5.6.\nWhat I always do:\n\"phpunit/phpunit\": \"^4.8 ||  ^5.7\"\nso newer php versions use newer phpunit (for performance). Sill you can't use new features from 5.7 because php-ffmpeg still supports the older php versions.. A silent catch is never good. What do you think you want to catch?\n. I don't like the idea to pass unfiltered stuff to the save method. We have an filter API..\n. Obviously ^^\n. Those are not method params..\n. Why you would remove?\n. Erm? This is not your fork anymore? ;)\n. ",
    "visakhsujathan": "@Gemorroj please mention where to add these codes and how to se it\n. ",
    "ogheo": "there is a DisplayRatioFixerFilter wich should solve your problem without editing original code.\njust use:\n$video->frame(\\FFMpeg\\Coordinate\\TimeCode::fromSeconds(5)->filters()->fixDisplayRatio();\n. ",
    "dovidgef": "Hi I am having a similar issue with frame aspect ratio.\nThe following code:\n$frame = $this->media\n                        ->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds($start))\n                        ->filters()>fixDisplayRatio();\n$frame->save('test.jpg');\nThrows the following error:\nFatal error: Uncaught Error: Call to undefined method FFMpeg\\Filters\\Frame\\FrameFilters::save()\nWhat am I doing wrong?\nthanks. It's working now.\nThanks for the quick reply.\nOn Nov 9, 2017 10:08 PM, \"Jens Hausdorf\" notifications@github.com wrote:\n\nClosed #129 https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/129.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/129#event-1334766480,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AUQaIQ_tSn1ijp8Gj6GIXdOvt7XOXHwTks5s01vRgaJpZM4Cln4r\n.\n. I tried that,\nhere is the file I am using:\n<?php\nset_time_limit(0);\n\nrequire_once 'vendor/autoload.php';\n$ffmpeg = FFMpeg\\FFMpeg::create(array('ffmpeg.binaries'  =>\n'ffmpeg/bin/ffmpeg.exe',\n                                      'ffprobe.binaries' =>\n'ffmpeg/bin/ffprobe.exe',\n                                      'timeout'          => 3600, // The\ntimeout for the underlying process\n                                      'ffmpeg.threads'   => 8,   // The\nnumber of threads that FFMpeg should use\n                                    ));\n$video = $ffmpeg->open('test.MTS');\n// Add deinterlacing filter\n$video->filters()->custom('yadif');\n$video->filters()->crop(new FFMpeg\\Coordinate\\Point(\"400\", \"400\"), new\nFFMpeg\\Coordinate\\Dimension(720, 540));\n$format = new FFMpeg\\Format\\Video\\X264();\n$format\n    ->setAudioChannels(2)\n    ->setAudioKiloBitrate(256)\n    ->setAudioCodec(\"libmp3lame\");\n$video->save($format, 'test.mp4');\nOn Sat, Nov 11, 2017 at 9:02 PM, Jens Hausdorf notifications@github.com\nwrote:\n\ncan you try moving the filter lines? So first your cutom filter and then\nthe crop one? Could you share your file?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/448#issuecomment-343686752,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AUQaIT7APrPvMegbE_48YHsLzvyflzLYks5s1e9egaJpZM4Qal_a\n.\n. I dont know if this applies to my specific issue, but I found the following:\nhttps://bogner.sh/2014/08/scaling-and-deinterlacing-with-ffmpegffmbc/\n\nOn Sat, Nov 11, 2017 at 9:02 PM, Jens Hausdorf notifications@github.com\nwrote:\n\ncan you try moving the filter lines? So first your cutom filter and then\nthe crop one? Could you share your file?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/448#issuecomment-343686752,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AUQaIT7APrPvMegbE_48YHsLzvyflzLYks5s1e9egaJpZM4Qal_a\n.\n. Is there any way to force the custom yadif filter to be added to the\nconvert command before the crop filter is added?\nI believe that it would take care of this issue.\n\nthanks\nOn Sun, Nov 12, 2017 at 12:20 AM, Dovid Gefen dovidgef@gmail.com wrote:\n\nI am using a standard MTS file from sony camcorder.\nOn Sat, Nov 11, 2017 at 11:15 PM, Jens Hausdorf notifications@github.com\nwrote:\n\nWell, I meant the file test.mp4 which you are trying to encode. I'll\ncheck that tomorrow.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/448#issuecomment-343694678,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AUQaIT2JmwQqVOb6ysAB5jbVRXmCwmEYks5s1g5agaJpZM4Qal_a\n.\n\n\n. Thanks , in the meantime where in the source code can I manually place the\nfilter so that it will be added first?\n\nOn Nov 23, 2017 6:48 PM, \"Jens Hausdorf\" notifications@github.com wrote:\nI was able to reproduce it, and I'll take this as a feature request for\nversion 1.x(which is in development.)\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/448#issuecomment-346664077,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AUQaIabLywf9-plZKsfLexJWssrMWCOXks5s5aHNgaJpZM4Qal_a\n.\n. ",
    "brokentone": "Does clip not do it for you?\nE.g.\n$video->filters()->clip(FFMpeg\\Coordinate\\TimeCode::fromSeconds(20), FFMpeg\\Coordinate\\TimeCode::fromSeconds(8));\n. ",
    "iongion": "Does this clip method produce anything ? is its return value ? how can the video be sent to the client ?\n. ",
    "allan-simon": "https://github.com/we-bridge/PHP-FFMpeg/pull/1  you or the author of php-ffpmeg may want to rework that pull request to integrate the feature mainstream \n. ",
    "edianogama": "@allan-simon I can use this now ? I view the commits of @we-brige but the function is not avaiable for me in composer. \"php-ffmpeg/php-ffmpeg\": \"~0.5\"\nHow I can use this ?\nThanks;\n. ```\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('input.mp4');\n$video->filters()->clip(FFMpeg\\Coordinate\\TimeCode::fromSeconds(0), FFMpeg\\Coordinate\\TimeCode::fromSeconds(5));\n$video->save(new FFMpeg\\Format\\Video\\X264(), 'output.mp4');\n```\n. ",
    "NerdGr8": "Did you end up resolving this issue?\nHaving the same issue on IIS\n. @JOOSTR correct that works!\nThanks so much\n. ",
    "JOOSTR": "I \"fixed\" it by making the application pool run as administrator.\nPreviously I managed to fix it by giving IUSR and IIS_USRS full permissions to the executable, though that didn't work this time.\n. ",
    "jankal": "@romainneutron Please reopen. Not fixed. #231 and #222. Related: #212 #137 #231 #222 #153 #156. Related to: #222 #231 #137 #212 #165 . @patkar Reference: #212 #137 #231 #222 . This is also related to #137 #231 #222. @patkar This should urgently be resolved as I also made more or less the same change on jankal/PHP-FFMpeg.\nThis pull request also references to #137, #231 and #153. @Ninos What did you do to get this to work? I now fully recompiled FFMpeg v 3.2.1 from source on my machine with following options:\n./configure --enable-gpl --enable-postproc --enable-swscale --enable-avfilter --enable-libmp3lame --enable-libvorbis --enable-libtheora --enable-libx264 --enable-libx265 --enable-libspeex --enable-shared --enable-pthreads --enable-libopenjpeg --enable-nonfree\nThough --enable-libfaac is not available with this FFMpeg version anymore.\nBefore that I installed all libraries:\napt install libmp3lame-dev libvorbis-dev libtheora-dev libspeex-dev yasm pkg-config libfaac-dev libopenjpeg-dev libx264-dev libx265-dev\nTo now have the following ffmpeg output:\nffmpeg version 3.2.1 Copyright (c) 2000-2016 the FFmpeg developers\n  built with gcc 4.9.2 (Debian 4.9.2-10)\n  configuration: --enable-gpl --enable-postproc --enable-swscale --enable-avfilter --enable-libmp3lame --enable-libvorbis --enable-libtheora --enable-libx264 --enable-libx265 --enable-libspeex --enable-shared --enable-pthreads --enable-libopenjpeg --enable-nonfree\n  libavutil      55. 34.100 / 55. 34.100\n  libavcodec     57. 64.101 / 57. 64.101\n  libavformat    57. 56.100 / 57. 56.100\n  libavdevice    57.  1.100 / 57.  1.100\n  libavfilter     6. 65.100 /  6. 65.100\n  libswscale      4.  2.100 /  4.  2.100\n  libswresample   2.  3.100 /  2.  3.100\n  libpostproc    54.  1.100 / 54.  1.100\nAnd it still does not work!\nWhat could I try next?. I now fixed this.\nI followed #137 and changed the constructor for /src/FFMpeg/Format/Video/X264.php\nI updated /src/FFMpeg/Format/Video/X264.php to:\n22: -    public function __construct($audioCodec = 'libfaac', $videoCodec = 'libx264')\n22: +    public function __construct($audioCodec = 'aac', $videoCodec = 'libx264')\n54: -        return array('libvo_aacenc', 'libfaac', 'libmp3lame', 'libfdk_aac');\n54: +        return array('libvo_aacenc', 'libfaac', 'libmp3lame', 'libfdk_aac', 'aac');\nI may now file a Pull Request for that.. Maybe. But I also found a already existing PR. Look here for my changes: jankal/PHP-FFMpeg and this PR #222 should already start to fix this.. @Ninos which ffmpeg version do you use?. Okay. @Ninos Then you are not affected. Should be starting at like FFMpeg 3.2 to get that problem. Libav is affacted too, as I see now.. ",
    "daviddomain": "Try the following.\nFirst create your own video format like it is described in the readme file or by coping an existing video format. Then add the get extra params method to your custom format like so:\n``` php\npublic function getExtraParams()\n{\n    return array('-an');\n}\n\n```\nYou can find this method in the DefaultAudio abstract class. Since DefaultVideo extends DefaultAudio this should work just fine. This is what the docs are saying:\nphp\narray() getExtraParams()\n//Returns an array of extra parameters to add to ffmpeg commandline.\nI tested this by adding the above to the X264 format and it worked for me, but i would not recommend to add this to an existing format.\n. ",
    "mnek84": "i found this alternative\n    $video = $ffmpeg->open($filePath);\n    $streams = $video->getFFProbe()->streams($filePath);\n```\n$duration = 0;\nforeach ($streams as $stream) {\n    $codecT = $stream->get('codec_type');\n    if ($codecT==\"video\"){\n        $duration = $stream->get('duration');\n    }     \n}\n$frame = $video->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds($duration/2));\n```\nthere is another way to do it?\n. ",
    "CSI68": "Hi,\nThanks for your response but same problem :\nFatal error: Class 'FFMPeg\\Format\\Video\\X264' not found in /var/www/clemweb/public_html/ffmpeg/index.php on line 19\n. It's a bit better but :\nFatal error: Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffmpeg failed to execute command '/usr/bin/ffmpeg' '-y' '-i' '/var/www/clemweb/public_html/ffmpeg/dexter.avi' '-async' '1' '-metadata:s:v:0' 'start_time=0' '-s' '50x40' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '256k' '-ac' '2' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes54ca312d7bcd63na03/pass-54ca312d7c0c1' 'video.avi'' in /var/www/clemweb/public_html/ffmpeg/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100 Stack trace: #0 /var/www/clemweb/public_html/ffmpeg/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure(''/usr/bin/ffmpe...') #1 /var/www/clemweb/public_html/ffmpeg/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.ph in /var/www/clemweb/public_html/ffmpeg/src/FFMpeg/Media/Video.php on line 168\nTx nlegoff\n. Hi romainneutron,\nI obtain this \nffmpeg version 0.8.16-6:0.8.16-1, Copyright (c) 2000-2014 the Libav developers\n  built on Sep 16 2014 23:10:48 with gcc 4.7.2\nThe ffmpeg program is only provided for script compatibility and will be removed\nin a future release. It has been deprecated in the Libav project to allow for\nincompatible command line syntax improvements in its replacement called avconv\n(see Changelog for details). Please use avconv instead.\n[mpeg4 @ 0x1686e40] Invalid and inefficient vfw-avi packed B frames detected\nInput #0, avi, from '/var/www/clemweb/public_html/ffmpeg/dexter.avi':\n  Metadata:\n    encoder         : MEncoder 1.0pre8-3.3.5\n  Duration: 00:48:45.14, start: 0.000000, bitrate: 993 kb/s\n    Stream #0.0: Video: mpeg4 (Advanced Simple Profile), yuv420p, 624x352 [PAR 1:1 DAR 39:22], 23.98 tbr, 25 tbn, 23.98 tbc\n    Stream #0.1: Audio: mp3, 48000 Hz, stereo, s16, 128 kb/s\nUnknown encoder 'libfaac'\nIt seems libfaac missing. How can I install it on my Debian ?\nThx\n. ",
    "ozzon91": "On Jan 29, 2015 3:11 PM, \"Cl\u00e9ment\" notifications@github.com wrote:\n\nIt's a bit better but :\nFatal error: Uncaught exception\n'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message\n'ffmpeg failed to execute command '/usr/bin/ffmpeg' '-y' '-i'\n'/var/www/clemweb/public_html/ffmpeg/dexter.avi' '-async' '1'\n'-metadata:s0' 'start_time=0' '-s' '50x40' '-vcodec' 'libx264' '-acodec'\n'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40'\n'-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp'\n'0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '256k' '-ac' '2' '-pass' '1'\n'-passlogfile' '/tmp/ffmpeg-passes54ca312d7bcd63na03/pass-54ca312d7c0c1'\n'video.avi'' in\n/var/www/clemweb/public_html/ffmpeg/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100\nStack trace: #0\n/var/www/clemweb/public_html/ffmpeg/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(72\n):\nAlchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure(''/usr/bin/ffmpe...')\n1\n/var/www/clemweb/public_html/ffmpeg/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.ph\nin /var/www/clemweb/public_html/ffmpeg/src/FFMpeg/Media/Video.php on line\n168\nTx nlegoff\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "tvancleave": "Is there a way to clip audio? I know that you can clip audio files via ffmpeg through the command line, but I cannot seem to get it to work with the provided clip function.\n. ",
    "dubems": "@tvancleave please could u help with the command for audio cliping frm the command line. Thanks. Please, has this feature been integrated into the main codebase? I need to use this feature ASAP. Thanks. ",
    "taylorvc": "@dubems You can clip audio via FFMpeg with the command @Romain stated:\nffmpeg -ss 10 -t 6 -i input.mp3 output.mp3\nThis will cut a 6 second file starting at 10 seconds in.\nHowever, if you wish to trim the file without re-encoding it, use the command:\nffmpeg -i input.mp3 -ss 10 -t 6 -acodec copy output.mp3\nI wasn't able to get the video clip filter to work with audio files, so I ended up creating a custom clip filter for audio. It looks very similar to the video clip filter, except it uses the audio filter interface:\n```\n<?php\nnamespace FFMpeg\\Filters\\Audio;\nuse FFMpeg\\Format\\AudioInterface;\nuse FFMpeg\\Media\\Audio;\nuse FFMpeg\\Coordinate\\TimeCode;\nclass ClipFilter implements AudioFilterInterface\n{\n    / @var TimeCode */\n    private $start;\n    / @var TimeCode /\n    private $duration;\n    / @var integer /\n    private $priority;\npublic function __construct(TimeCode $start, TimeCode $duration = null, $priority = 0)\n{\n    $this->start = $start;\n    $this->duration = $duration;\n    $this->priority = $priority;\n}\n\n/**\n * {@inheritdoc}\n */\npublic function getPriority()\n{\n    return $this->priority;\n}\n\n/**\n * @return TimeCode\n */\npublic function getStart()\n{\n    return $this->start;\n}\n\n/**\n * @return TimeCode\n */\npublic function getDuration()\n{\n    return $this->duration;\n}\n\n/**\n * {@inheritdoc}\n */\npublic function apply(Audio $audio, AudioInterface $format)\n{\n    $commands = array('-ss', (string) $this->start);\n\n    if ($this->duration !== null) {\n      $commands[] = '-t';\n      $commands[] = (string) $this->duration;\n    }\n\n    $commands[] = '-acodec';\n    $commands[] = 'copy';\n\n    return $commands;\n}\n\n}\n```\n. ",
    "ortix": "It says how to do this right in the docs:\nphp\n$ffprobe = FFMpeg\\FFProbe::create();\n$ffprobe\n    ->format('/path/to/video/mp4') // extracts file informations\n    ->get('duration');             // returns the duration property\nor a more fluent style if you have the FFMpeg object loaded\nphp\n$ffmpeg = FFMpeg::create();\n$ffmpeg->getFFProbe()\n            ->format('yoururl')\n            ->get('duration');\n. @patkar unfortunately I don't know. I have stopped developing my application for now. You can find it here: https://github.com/Ortix92/torshot\n. ",
    "tbergeron": "Only thing I see as a difference is that from CLI it uses libfdk_aac but it seems to try to use libfaac instead, or maybe I'm talking gibberish since I'm not really an expert in that area hehe.\nI also made sure I was using the same binary. Here's a complete log of a file I was trying to convert earlier using your lib:\nvagrant@homestead:~/workshop/video-manager/public/uploads$ /home/vagrant/bin/ffmpeg -i /home/vagrant/workshop/IMG_0383.m4v test.mp4\nffmpeg version 2.5.git Copyright (c) 2000-2015 the FFmpeg developers\n  built with gcc 4.8 (Ubuntu 4.8.2-19ubuntu1)\n  configuration: --prefix=/home/vagrant/ffmpeg_build --extra-cflags=-I/home/vagrant/ffmpeg_build/include --extra-ldflags=-L/home/vagrant/ffmpeg_build/lib --bindir=/home/vagrant/bin --enable-gpl --enable-libass --enable-libfdk-aac --enable-libfreetype --enable-libmp3lame --enable-libopus --enable-libtheora --enable-libvorbis --enable-libvpx --enable-libx264 --enable-nonfree\n  libavutil      54. 18.100 / 54. 18.100\n  libavcodec     56. 21.102 / 56. 21.102\n  libavformat    56. 19.101 / 56. 19.101\n  libavdevice    56.  4.100 / 56.  4.100\n  libavfilter     5. 10.100 /  5. 10.100\n  libswscale      3.  1.101 /  3.  1.101\n  libswresample   1.  1.100 /  1.  1.100\n  libpostproc    53.  3.100 / 53.  3.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/vagrant/workshop/IMG_0383.m4v':\n  Metadata:\n    major_brand     : qt  \n    minor_version   : 0\n    compatible_brands: qt  \n    creation_time   : 2015-02-12 20:07:02\n    encoder         : 8.1.3\n    encoder-eng     : 8.1.3\n    date            : 2015-01-30T18:02:17-0500\n    date-eng        : 2015-01-30T18:02:17-0500\n    make            : Apple\n    make-eng        : Apple\n    model           : iPhone 5\n    model-eng       : iPhone 5\n  Duration: 00:00:34.99, start: 0.000023, bitrate: 6715 kb/s\n    Stream #0:0(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 62 kb/s (default)\n    Metadata:\n      creation_time   : 2015-02-12 20:07:02\n      handler_name    : Core Media Data Handler\n    Stream #0:1(und): Video: h264 (Main) (avc1 / 0x31637661), yuv420p(tv, bt709), 720x1280, 6647 kb/s, SAR 1:1 DAR 9:16, 24.01 fps, 24 tbr, 600 tbn, 50 tbc (default)\n    Metadata:\n      creation_time   : 2015-02-12 20:07:02\n      handler_name    : Core Media Data Handler\n      encoder         : H.264\n[libx264 @ 0x3e65960] using SAR=1/1\n[libx264 @ 0x3e65960] using cpu capabilities: MMX2 SSE2Fast SSSE3 Cache64\n[libx264 @ 0x3e65960] profile High, level 3.1\n[libx264 @ 0x3e65960] 264 - core 142 - H.264/MPEG-4 AVC codec - Copyleft 2003-2014 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=1 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=24 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00\nOutput #0, mp4, to 'test.mp4':\n  Metadata:\n    major_brand     : qt  \n    minor_version   : 0\n    compatible_brands: qt  \n    model-eng       : iPhone 5\n    model           : iPhone 5\n    encoder         : Lavf56.19.101\n    date            : 2015-01-30T18:02:17-0500\n    date-eng        : 2015-01-30T18:02:17-0500\n    make            : Apple\n    make-eng        : Apple\n    Stream #0:0(und): Video: h264 (libx264) ([33][0][0][0] / 0x0021), yuv420p, 720x1280 [SAR 1:1 DAR 9:16], q=-1--1, 24 fps, 12288 tbn, 24 tbc (default)\n    Metadata:\n      creation_time   : 2015-02-12 20:07:02\n      handler_name    : Core Media Data Handler\n      encoder         : Lavc56.21.102 libx264\n    Stream #0:1(und): Audio: aac (libfdk_aac) ([64][0][0][0] / 0x0040), 44100 Hz, mono, s16, 96 kb/s (default)\n    Metadata:\n      creation_time   : 2015-02-12 20:07:02\n      handler_name    : Core Media Data Handler\n      encoder         : Lavc56.21.102 libfdk_aac\nStream mapping:\n  Stream #0:1 -> #0:0 (h264 (native) -> h264 (libx264))\n  Stream #0:0 -> #0:1 (aac (native) -> aac (libfdk_aac))\nPress [q] to stop, [?] for help\nframe=  840 fps=8.3 q=28.0 Lsize=   14234kB time=00:00:35.03 bitrate=3327.8kbits/s    \nvideo:13794kB audio:412kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.192868%\n[libx264 @ 0x3e65960] frame I:5     Avg QP:21.98  size: 51507\n[libx264 @ 0x3e65960] frame P:422   Avg QP:23.55  size: 24827\n[libx264 @ 0x3e65960] frame B:413   Avg QP:25.55  size:  8208\n[libx264 @ 0x3e65960] consecutive B-frames:  7.4% 76.7% 13.6%  2.4%\n[libx264 @ 0x3e65960] mb I  I16..4: 17.4% 65.0% 17.6%\n[libx264 @ 0x3e65960] mb P  I16..4:  5.8% 10.4%  1.8%  P16..4: 56.0% 15.2%  8.0%  0.0%  0.0%    skip: 2.8%\n[libx264 @ 0x3e65960] mb B  I16..4:  0.3%  0.6%  0.2%  B16..8: 39.4%  6.1%  0.9%  direct:16.1%  skip:36.5%  L0:39.9% L1:52.6% BI: 7.6%\n[libx264 @ 0x3e65960] 8x8 transform intra:58.1% inter:73.6%\n[libx264 @ 0x3e65960] coded y,uvDC,uvAC intra: 52.7% 95.9% 63.8% inter: 22.7% 58.5% 6.7%\n[libx264 @ 0x3e65960] i16 v,h,dc,p: 26% 20% 26% 28%\n[libx264 @ 0x3e65960] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 16% 15% 29%  6%  7%  8%  7%  6%  8%\n[libx264 @ 0x3e65960] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 22% 21% 17%  6%  8% 10%  7%  5%  6%\n[libx264 @ 0x3e65960] i8c dc,h,v,p: 58% 16% 17%  9%\n[libx264 @ 0x3e65960] Weighted P-Frames: Y:4.0% UV:0.2%\n[libx264 @ 0x3e65960] ref P L0: 67.6% 12.8% 13.5%  6.0%  0.1%\n[libx264 @ 0x3e65960] ref B L0: 92.5%  7.0%  0.5%\n[libx264 @ 0x3e65960] ref B L1: 98.5%  1.5%\n[libx264 @ 0x3e65960] kb/s:3228.45\nvagrant@homestead:~/workshop/video-manager/public/uploads\n. I forced `libfdk_aac in X264.php:22 and it worked!!!\nSo now all I gotta do is find a way to pass libfdk_aac as a parameter somewhere.\n. Got it! For the record I did:\nphp\n$video->save(new \\FFMpeg\\Format\\Video\\X264('libfdk_aac'), $converted_filename);\n. ",
    "CDNRocket": "Oh my god, sorry \ud83d\udc4d . ",
    "kamov": "Seem that is supported in new version, see: http://superuser.com/questions/556029/how-do-i-convert-a-video-to-gif-using-ffmpeg-with-reasonable-quality\nDoes this library support?\nThanks!\n. ",
    "samthomson": "run the command via the command line to get detailed error output on what the actual cause of the exception is, likely you are missing an encoding library (libfaac likely) in which case you can try any of the following (depends on what's installed on your system): libvo_aacenc, libfaac, libmp3lame, libfdk_aac\nphp\n$format ->setAudioCodec(\"libmp3lame\");\n. Try any of the following: libvo_aacenc, libfaac, ~~libmp3lame~~, libfdk_aac\nphp\n$format ->setAudioCodec(\"libvo_aacenc\");\n. run the command via the command line to get detailed error output on what the actual cause of the exception is, likely you are missing an encoding library (libfaac likely). Include your code next time ;)\n. ",
    "devendragohil": "I have the same problem but I cannot use libmp3lame as it is not producing audio in iOS devices. Please let me know how to solve this?\n. ",
    "mateusjatenee": "Found the problem running the commands on Terminal.\nThx\n. ",
    "xmoroccan": "@mateusjatenee can you give us solution please, because i run the command on terminal,  nothing wrong !\n. i have the same problem i try all the solution found in this question and others\nthe probleme is: Fatal error: Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffprobe failed to execute command '/usr/bin/ffprobe' '-help' '-loglevel' 'quiet''\ni try running command manually, it's work !\nanother user have the same problem in this question #157\n. ",
    "luciddesignconcepts": "@mateusjatenee, What was the solution? I'm running it to the same issues.. ",
    "xvrzhao": "Just closed issue with no solution , this is funny. . And I executed it in CLI:\n```\n[root@localhost ~]# /usr/bin/ffprobe -help -loglevel quiet\nSimple multimedia streams analyzer\nusage: ffprobe [OPTIONS] [INPUT_FILE]\nMain options:\n-L                  show license\n-h                  show help\n-?                  show help\n-help               show help\n--help              show help\n-version            show version\n-formats            show available formats\n-codecs             show available codecs\n-bsfs               show available bit stream filters\n-protocols          show available protocols\n-filters            show available filters\n-pix_fmts           show available pixel formats\n-sample_fmts        show available audio sample formats\n-loglevel loglevel  set libav logging level\n-v loglevel         set libav logging level\n-debug flags        set debug flags\n-report             generate a report\n-max_alloc bytes    set maximum size of a single allocated block\n-f format           force format\n-unit               show unit of the displayed values\n-prefix             use SI prefixes for the displayed values\n-byte_binary_prefix  use binary prefixes for byte units\n-sexagesimal        use sexagesimal format HOURS:MM:SS.MICROSECONDS for time units\n-pretty             prettify the format of displayed values, make it more human readable\n-print_format format  set the output printing format (available formats are: default, compact, csv, json, xml)\n-show_error         show probing error\n-show_format        show format/container info\n-show_frames        show frames info\n-show_packets       show packets info\n-show_streams       show streams info\n-show_program_version  show ffprobe version\n-show_library_versions  show library versions\n-show_versions      show program and library versions\n-show_private_data  show private data\n-private            same as show_private_data\n-default            generic catch all option\n-i input_file       read specified file\nAVFormatContext AVOptions:\n-probesize            .D... set probing size\n-fflags             ED...\n   ignidx                  .D... ignore index\n   genpts                  .D... generate pts\n   nofillin                .D... do not fill in missing values that can be exactly calculated\n   noparse                 .D... disable AVParsers, this needs nofillin too\n   igndts                  .D... ignore dts\n   discardcorrupt          .D... discard corrupted frames\n   sortdts                 .D... try to interleave outputted packets by dts\n   keepside                .D... dont merge side data\n-analyzeduration      .D... how many microseconds are analyzed to estimate duration\n-cryptokey          .D... decryption key\n-indexmem             .D... max memory used for timestamp index (per stream)\n-rtbufsize            .D... max memory used for buffering real-time frames\n-fdebug             ED... print specific debug info\n   ts                      ED...\n-max_delay            ED... maximum muxing or demuxing delay in microseconds\n-fpsprobesize         .D... number of frames used to probe fps\n-f_err_detect       .D... set error detection flags (deprecated; use err_detect, save via avconv)\n   crccheck                .D... verify embedded CRCs\n   bitstream               .D... detect bitstream specification deviations\n   buffer                  .D... detect improper bitstream length\n   explode                 .D... abort decoding on minor error detection\n   careful                 .D... consider things that violate the spec and have not been seen in the wild as errors\n   compliant               .D... consider all spec non compliancies as errors\n   aggressive              .D... consider things that a sane encoder shouldnt do as an error\n-err_detect         .D... set error detection flags\n   crccheck                .D... verify embedded CRCs\n   bitstream               .D... detect bitstream specification deviations\n   buffer                  .D... detect improper bitstream length\n   explode                 .D... abort decoding on minor error detection\n   careful                 .D... consider things that violate the spec and have not been seen in the wild as errors\n   compliant               .D... consider all spec non compliancies as errors\n   aggressive              .D... consider things that a sane encoder shouldnt do as an error\nAVI demuxer AVOptions:\n-use_odml             .D... use odml index\ncavsvideo demuxer AVOptions:\n-framerate          .D...\ndirac demuxer AVOptions:\n-framerate          .D...\ndnxhd demuxer AVOptions:\n-framerate          .D...\ng729 demuxer AVOptions:\n-bit_rate             .D...\ngsm demuxer AVOptions:\n-sample_rate          .D...\nh261 demuxer AVOptions:\n-framerate          .D...\nh263 demuxer AVOptions:\n-framerate          .D...\nh264 demuxer AVOptions:\n-framerate          .D...\nimage2 demuxer AVOptions:\n-pixel_format       .D...\n-video_size         .D...\n-framerate          .D...\n-loop                 .D...\nimage2pipe demuxer AVOptions:\n-pixel_format       .D...\n-video_size         .D...\n-framerate          .D...\n-loop                 .D...\ningenient demuxer AVOptions:\n-framerate          .D...\nm4v demuxer AVOptions:\n-framerate          .D...\nmjpeg demuxer AVOptions:\n-framerate          .D...\nmov,mp4,m4a,3gp,3g2,mj2 AVOptions:\n-use_absolute_path    .DV.. allow using absolute path when opening alias, this is a possible security issue\nmpegtsraw demuxer AVOptions:\n-compute_pcr          .D... Compute exact PCR for each transport stream packet.\nmpegvideo demuxer AVOptions:\n-framerate          .D...\nalaw demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nmulaw demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nf64be demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nf64le demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nf32be demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nf32le demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\ns32be demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\ns32le demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\ns24be demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\ns24le demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\ns16be demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\ns16le demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\ns8 demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nu32be demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nu32le demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nu24be demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nu24le demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nu16be demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nu16le demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nu8 demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nrawvideo demuxer AVOptions:\n-video_size         .D... A string describing frame size, such as 640x480 or hd720.\n-pixel_format       .D...\n-framerate          .D...\nRTP demuxer AVOptions:\n-rtp_flags          .D... RTP flags\n   filter_src              .D... Only receive packets from the negotiated peer IP\nRTSP demuxer AVOptions:\n-initial_pause        .D... Don't start playing the stream immediately\n-rtsp_transport     ED... RTSP transport protocols\n   udp                     ED... UDP\n   tcp                     ED... TCP\n   udp_multicast           .D... UDP multicast\n   http                    .D... HTTP tunneling\n-rtsp_flags         .D... RTSP flags\n   filter_src              .D... Only receive packets from the negotiated peer IP\n-allowed_media_types  .D... Media types to accept from the server\n   video                   .D... Video\n   audio                   .D... Audio\n   data                    .D... Data\n-min_port             ED... Minimum local UDP port\n-max_port             ED... Maximum local UDP port\nsbg_demuxer AVOptions:\n-sample_rate          .D...\n-frame_size           .D...\n-max_file_size        .D...\nSDP demuxer AVOptions:\n-sdp_flags          .D... SDP flags\n   filter_src              .D... Only receive packets from the negotiated peer IP\n-allowed_media_types  .D... Media types to accept from the server\n   video                   .D... Video\n   audio                   .D... Audio\n   data                    .D... Data\nTTY demuxer AVOptions:\n-chars_per_frame      .D...\n-video_size         .D... A string describing frame size, such as 640x480 or hd720.\n-framerate          .D...\nvc1 demuxer AVOptions:\n-framerate          .D...\nWAV demuxer AVOptions:\n-ignore_length        .D... Ignore length\nALSA demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nDV1394 indev AVOptions:\n-standard             .D...\n   PAL                     .D...\n   NTSC                    .D...\n-channel              .D...\nfbdev indev AVOptions:\n-framerate          .D...\nlavfi indev AVOptions:\n-graph              .D... Libavfilter graph\n-dumpgraph          .D... Dump graph to stderr\nopenal AVOptions:\n-channels             .D... set number of channels\n-sample_rate          .D... set sample rate\n-sample_size          .D... set sample size\n-list_devices         .D... list available devices\n   true                    .D...\n   false                   .D...\nOSS demuxer AVOptions:\n-sample_rate          .D...\n-channels             .D...\nPulse demuxer AVOptions:\n-server             .D... pulse server name\n-name               .D... application name\n-stream_name        .D... stream description\n-sample_rate          .D... sample rate in Hz\n-channels             .D... number of audio channels\n-frame_size           .D... number of bytes per frame\n-fragment_size        .D... buffering size, affects latency and cpu usage\nV4L2 indev AVOptions:\n-standard           .D... TV standard, used only by analog frame grabber\n-channel              .D... TV channel, used only by frame grabber\n-video_size         .D... A string describing frame size, such as 640x480 or hd720.\n-pixel_format       .D... Preferred pixel format\n-input_format       .D... Preferred pixel format (for raw video) or codec name\n-framerate          .D...\n-list_formats         .D... List available formats and exit\n   all                     .D... Show all available formats\n   raw                     .D... Show only non-compressed formats\n   compressed              .D... Show only compressed formats\nV4L indev AVOptions:\n-standard             .D...\n   PAL                     .D...\n   SECAM                   .D...\n   NTSC                    .D...\nX11grab indev AVOptions:\n-video_size         .D... A string describing frame size, such as 640x480 or hd720.\n-framerate          .D...\n-draw_mouse           .D... Draw the mouse pointer.\n-follow_mouse         .D... Move the grabbing region when the mouse pointer reaches within specified amount of pixels to the edge of region.\n   centered                .D... Keep the mouse pointer at the center of grabbing region when following.\n-show_region          .D... Show the grabbing region.\nlibcdio indev AVOptions:\n-speed                .D... Drive reading speed.\n-paranoia_mode      .D... Error recovery mode.\n   verify                  .D... Verify data integrity in overlap area\n   overlap                 .D... Perform overlapped reads.\n   neverskip               .D... Do not skip failed reads.\nlibdc1394 indev AVOptions:\n-video_size         .D... A string describing frame size, such as 640x480 or hd720.\n-pixel_format       .D...\n-framerate          .D...\ndv AVOptions:\nGIF muxer AVOptions:\nGXF muxer AVOptions:\nimage2 muxer AVOptions:\nipod muxer AVOptions:\nismv muxer AVOptions:\nLATM/LOAS muxer AVOptions:\nmov muxer AVOptions:\nMP3 muxer AVOptions:\nmp4 muxer AVOptions:\nmpeg muxer AVOptions:\nvcd muxer AVOptions:\ndvd muxer AVOptions:\nsvcd muxer AVOptions:\nvob muxer AVOptions:\nMPEGTS muxer AVOptions:\nmxf AVOptions:\nmxf_d10 AVOptions:\nOgg muxer AVOptions:\npsp muxer AVOptions:\nRTP muxer AVOptions:\nRTSP muxer AVOptions:\n-initial_pause        .D... Don't start playing the stream immediately\n-rtsp_transport     ED... RTSP transport protocols\n   udp                     ED... UDP\n   tcp                     ED... TCP\n   udp_multicast           .D... UDP multicast\n   http                    .D... HTTP tunneling\n-rtsp_flags         .D... RTSP flags\n   filter_src              .D... Only receive packets from the negotiated peer IP\n-allowed_media_types  .D... Media types to accept from the server\n   video                   .D... Video\n   audio                   .D... Audio\n   data                    .D... Data\n-min_port             ED... Minimum local UDP port\n-max_port             ED... Maximum local UDP port\nsegment muxer AVOptions:\nspdif AVOptions:\ntg2 muxer AVOptions:\ntgp muxer AVOptions:\nWAV muxer AVOptions:\nsdl outdev AVOptions:\n. Yes, and I guess that is due to permission, I will check and verify that and reply you when I back to company next Monday. Thank you !. I saw the source code where in the stack trace, and I found line 63:\nthrow new RuntimeException('Your FFProbe version is too old and does not support -help option, please upgrade.', $e->getCode(), $e);\nThen, I checked the version of  ffprobe on my host:\n[root@localhost ~]# /usr/bin/ffprobe -version\nffprobe version 0.10.16\nbuilt on Aug 26 2016 13:01:36 with gcc 4.4.7 20120313 (Red Hat 4.4.7-17)\nconfiguration: --prefix=/usr --bindir=/usr/bin --datadir=/usr/share/ffmpeg --incdir=/usr/include/ffmpeg --libdir=/usr/lib64 --mandir=/usr/share/man --arch=x86_64 --extra-cflags='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic' --enable-bzlib --disable-crystalhd --enable-gnutls --enable-libass --enable-libcdio --enable-libcelt --enable-libdc1394 --disable-indev=jack --enable-libfreetype --enable-libgsm --enable-libmp3lame --enable-openal --enable-libopenjpeg --enable-libpulse --enable-librtmp --enable-libschroedinger --enable-libspeex --enable-libtheora --enable-libvorbis --enable-libv4l2 --enable-libx264 --enable-libxvid --enable-x11grab --enable-avfilter --enable-postproc --enable-pthreads --disable-static --enable-shared --enable-gpl --disable-debug --disable-stripping --shlibdir=/usr/lib64 --enable-runtime-cpudetect\nlibavutil      51. 35.100 / 51. 35.100\nlibavcodec     53. 61.100 / 53. 61.100\nlibavformat    53. 32.100 / 53. 32.100\nlibavdevice    53.  4.100 / 53.  4.100\nlibavfilter     2. 61.100 /  2. 61.100\nlibswscale      2.  1.100 /  2.  1.100\nlibswresample   0.  6.100 /  0.  6.100\nlibpostproc    52.  0.100 / 52.  0.100\n```\nThe version is 0.10 ! And I found that other people's version is over 3.0. It is too old, devops installed such an old version for me, but is that the problem?. Still threw the exception with the same info after installing a new version of ffprobe, why? \nAnd what's the meaning of new processes you said ?. I have fixed the problem, the arch-criminal is the libs dependencies of ffmpeg is too old.. ",
    "ivan0013": "Hi, I know this is not the best place to post this, but I need some tips using this plugin. I want to create a progress bar, so for me is enough getting the percentage of the conversion. How did you do to retrieve it? I have tried this piece of code:\n$format->on('progress', function ($video, $format, $percentage) {\n        echo \"$percentage % transcoded\";\n    });\nIt works, but I need to put it in a function to call it via $ajax and refresh the progress bar. I don't know how to do that because it is using the event handler. Then I your question, about using the ProgressListener, but I can't retrieve the data, it is always 0, in spite of the conversion is fine. \nSo could you tell me how to retrieve the info about percentage using the ProgressListener, or other way to get the percentage via $ajax?\nThank you very much!\n. Thanks. This is a very useful info. I haven't thought about the possibility of storing the % on the DB and then read it.\n. Same here. I would need some tips to get the conversion percentage via $ajax.\nThank you very much!\n. Thanks. This is a very useful info. I haven't thought about the possibility of storing the % on the DB and then read it.\n. ",
    "QuentinLORIOT": "Hi Ivan,\nYour piece of code is good.\nWhen I want to start an encoding, I put a flag into my database to notify a daemon script to run the encoding for the video downloaded, so it's a server thread which are used.\nThen during the encoding I put the progress data into the database, with something like this:\n$format->on('progress', function ($video, $format, $percentage) {\n      -->Here I update the field corresponding to my video with percentage<---\n});\nFor getting the progress data in \"real time\" I use an ajax calling which it get data from database. So the thread used is this one used by the user connected to the website.\nHoping that help you :) \n. ",
    "beesofts": "need this feature too\n. ",
    "karpy47": "Please merge this commit! I need it also.\n. ",
    "aliabbas-2012": "You haven't done the Resize frame filter . Well there is no way to use filters with frames\nOn Sat, 29 Sep 2018, 2:33 p.m. Jens Hausdorf, notifications@github.com\nwrote:\n\nClosed #578 https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/578.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/578#event-1874868873,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACIXZ-K-Oh6mW68MGA7UxeytOfQGEAgxks5ufz5pgaJpZM4W7Blh\n.\n. \n",
    "studhm": "Wrong repo sorry...\n. ",
    "mikehuebner": "I'm having a similar problem with only grabbing around a meg of the data and trying to save that. I pulled it from a StackOverflow question but still coming across problems.\nhttp://stackoverflow.com/questions/12620631/ffmpegphp-get-thumbnail-from-external-url\nHere is my code after doing what they were saying. I'm pulling from an S3 bucket and the videos could be up to 3 gigs and would not want to pull that...\n```\nclass ThumbnailGeneration {\n    public $fh = null;\n    public $ch = null;\n    public $size = 0;\n    public $videoUrl;\npublic function __construct($video, $filename) {\n    $this->videoUrl = $video;\n\n    $file = 'tmp_video_' . rand();\n\n    $this->ch = curl_init();\n    $this->fh = fopen($file, 'w+');\n    $this->ch = curl_init($this->videoUrl);\n\n    $this->size = 0;\n    curl_setopt($this->ch, CURLOPT_URL, $this->videoUrl);\n    curl_setopt($this->ch, CURLOPT_HEADER, 0);\n    curl_setopt($this->ch, CURLOPT_WRITEFUNCTION, array($this, 'generationLimit'));\n    curl_exec($this->ch);\n\n    fclose($this->fh);\n    curl_close($this->ch);\n\n    $ffmpeg = \\FFMpeg\\FFMpeg::create(array(\n        'ffmpeg.binaries'  => '/usr/local/bin/ffmpeg',\n        'ffprobe.binaries' => '/usr/local/bin/ffprobe'\n    ));\n\n    $movie = $ffmpeg->open($file);\n    $movie\n        ->frame(\\FFMpeg\\Coordinate\\TimeCode::fromSeconds(20))\n        ->save($filename);\n\n    unlink($file);\n}\n\nfunction generationLimit($ch, $data) {\n    $length = fwrite($this->fh, $data);\n    $size=&$this->size;\n\n    if ($length === FALSE) {\n        return 0;\n    } else {\n        $size += $length;\n    }\n\n    // Downloads 1MB.\n    // return $size < 1024 * 1024 * 1 ? $length : 0;\n    return $length;\n}\n\n}\n```\nSo simply I have the video in the directory I'm hosting the server from locally, but no thumbnail ever appears even if I grab the full video from the server. If I grab partial content I have this error from ffprobe\n[mov,mp4,m4a,3gp,3g2,mj2 @ 0x7fcf93001400] moov atom not found\ntmp_video_1341134961.mov: Invalid data found when processing input\nWhere is save() putting the data and what do I have to do to retrieve it?\nUPDATE:\nI was working late on this last night and wasn't thinking about the timing of the video itself, 20 seconds was too long over the test content I was using. I still cannot just grab 1 MB of the video and transcode that into an image. Is that possible?\n. ",
    "gopalindians": "Working with recent(0.9.2) updates.. ",
    "tolstoyleo": "more info:\nAlchemy\\BinaryDriver\\Configuration Object ( [data:Alchemy\\BinaryDriver\\Configuration:private] => Array ( [ffmpeg.binaries] => /usr/bin/ffmpeg [ffprobe.binaries] => /usr/bin/ffprobe ) ) \nfor the life of me I cannot figure out why this vendor library will not load these executables.\n. ls -la ffmpeg \n-rwxr-xr-x 1 root root 17033152 Jul 14 13:53 ffmpeg\nls -la avprobe \n-rwxr-xr-x 1 root root 60560 Apr 10 16:22 avprobe\nit's been that way, same error, i've just stopped using this bundle because of it. crap library.\n. ",
    "valmayaki": "try making the binary executable by using\n sudo chmod +x  /path/to/ffmpeg|ffprobe/binary \nSolved the same problem I had.\n. ",
    "gabrielkaputa": "i had the same problem, made no sense so i gave it the path to binaries explicitly like it says in https://github.com/PHP-FFMpeg/PHP-FFMpeg#ffmpeg and it worked\n. ",
    "murnieza": "I am also experiencing the same problem. It does not make any sense.\n. It can't be PATH problem, as following code works:\nphp\n                $ffmpeg = FFMpeg::create([\n                    'ffmpeg.binaries' => exec('which ffmpeg'),\n                    'ffprobe.binaries' => exec('which ffprobe'),\n                ]);\nwhich searches in PATH and find executables.\n. bash\n\u279c  ~  cat test.php\n<?php\nvar_dump(getenv('PATH'));\nvar_dump(exec('which ffmpeg'));\n\u279c  ~  php test.php\nstring(44) \"/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin\"\nstring(21) \"/usr/local/bin/ffmpeg\"\nI find this problem really strange, as code looks good and it works on some platforms.\n. All good.\nbash\n\u279c  ~ cat test.php\n<?php\nvar_dump(getenv('PATH'));\nvar_dump(exec('which ffmpeg'));\nvar_dump(ini_get('open_basedir'));\nvar_dump(is_file(exec('which ffmpeg')));\nvar_dump(is_executable(exec('which ffmpeg')));\n\u279c  ~ php test.php\nstring(44) \"/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin\"\nstring(21) \"/usr/local/bin/ffmpeg\"\nstring(0) \"\"\nbool(true)\nbool(true)\n. I encountered that problem while running CLI script so it should not matter.There is output from web request:\nbash\nstring(88) \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games\"\nstring(15) \"/usr/local/bin/ffmpeg\"\nstring(0) \"\"\nbool(true)\nbool(true)\n. ",
    "apsg": "The same problem here. I tried everything, including setting the paths manually. Nothing works.\n. ",
    "amirkhiz": "What we should do now i have the same problem and everything is alright with these commands :\nvar_dump(getenv('PATH'));\nvar_dump(exec('which ffmpeg'));\nvar_dump(ini_get('open_basedir'));\nvar_dump(is_file(exec('which ffmpeg')));\nvar_dump(is_executable(exec('which ffmpeg'))); \nstring(60) \"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\nstring(15) \"/usr/bin/ffmpeg\"\nstring(0) \"\"\nbool(true)\nbool(true). ",
    "Miky94": "Guys... Same error here on windows, executable runnable from system path... anyone found a solution? . yes here's the output :\n```\nSimple multimedia streams analyzer\nusage: ffprobe [OPTIONS] [INPUT_FILE]\nMain options:\n-L                  show license\n-h topic            show help\n-? topic            show help\n-help topic         show help\n--help topic        show help\n-version            show version\n-buildconf          show build configuration\n-formats            show available formats\n-muxers             show available muxers\n-demuxers           show available demuxers\n-devices            show available devices\n-codecs             show available codecs\n-decoders           show available decoders\n-encoders           show available encoders\n-bsfs               show available bit stream filters\n-protocols          show available protocols\n-filters            show available filters\n-pix_fmts           show available pixel formats\n-layouts            show standard channel layouts\n-sample_fmts        show available audio sample formats\n-colors             show available color names\n-loglevel loglevel  set logging level\n-v loglevel         set logging level\n-report             generate a report\n-max_alloc bytes    set maximum size of a single allocated block\n-cpuflags flags     force specific cpu flags\n-hide_banner hide_banner  do not show program banner\n-sources device     list sources of the input device\n-sinks device       list sinks of the output device\n-f format           force format\n-unit               show unit of the displayed values\n-prefix             use SI prefixes for the displayed values\n-byte_binary_prefix  use binary prefixes for byte units\n-sexagesimal        use sexagesimal format HOURS:MM:SS.MICROSECONDS for time units\n-pretty             prettify the format of displayed values, make it more human readable\n-print_format format  set the output printing format (available formats are: default, compact, csv, flat, ini, json, xml)\n-of format          alias for -print_format\n-select_streams stream_specifier  select the specified streams\n-sections           print sections structure and section information, and exit\n-show_data          show packets data\n-show_data_hash     show packets data hash\n-show_error         show probing error\n-show_format        show format/container info\n-show_frames        show frames info\n-show_format_entry entry  show a particular entry from the format/container info\n-show_entries entry_list  show a set of specified entries\n-show_packets       show packets info\n-show_programs      show programs info\n-show_streams       show streams info\n-show_chapters      show chapters info\n-count_frames       count the number of frames per stream\n-count_packets      count the number of packets per stream\n-show_program_version  show ffprobe version\n-show_library_versions  show library versions\n-show_versions      show program and library versions\n-show_pixel_formats  show pixel format descriptions\n-show_private_data  show private data\n-private            same as show_private_data\n-bitexact           force bitexact output\n-read_intervals read_intervals  set read intervals\n-default            generic catch all option\n-i input_file       read specified file\nAVFormatContext AVOptions:\n  -avioflags               ED...... (default 0)\n     direct                       ED...... reduce buffering\n  -probesize               .D...... set probing size (from 32 to I64_MAX) (default 5e+006)\n  -formatprobesize           .D...... number of bytes to probe file format (from 0 to 2.14748e+009) (default 1.04858e+006)\n  -fflags                  ED...... (default flush_packets+autobsf)\n     ignidx                       .D...... ignore index\n     genpts                       .D...... generate pts\n     nofillin                     .D...... do not fill in missing values that can be exactly calculated\n     noparse                      .D...... disable AVParsers, this needs nofillin too\n     igndts                       .D...... ignore dts\n     discardcorrupt               .D...... discard corrupted frames\n     sortdts                      .D...... try to interleave outputted packets by dts\n     keepside                     .D...... don't merge side data\n     fastseek                     .D...... fast but inaccurate seeks\n     nobuffer                     .D...... reduce the latency introduced by optional buffering\n  -seek2any              .D...... allow seeking to non-keyframes on demuxer level when supported (default false)\n  -analyzeduration         .D...... specify how many microseconds are analyzed to probe the input (from 0 to I64_MAX) (default 0)\n  -cryptokey              .D...... decryption key\n  -indexmem                  .D...... max memory used for timestamp index (per stream) (from 0 to INT_MAX) (default 1.04858e+006)\n  -rtbufsize                 .D...... max memory used for buffering real-time frames (from 0 to INT_MAX) (default 3.04128e+006)\n  -fdebug                  ED...... print specific debug info (default 0)\n     ts                           ED......\n  -max_delay                 ED...... maximum muxing or demuxing delay in microseconds (from -1 to INT_MAX) (default -1)\n  -fpsprobesize              .D...... number of frames used to probe fps (from -1 to 2.14748e+009) (default -1)\n  -f_err_detect            .D...... set error detection flags (deprecated; use err_detect, save via avconv) (default crccheck)\n     crccheck                     .D...... verify embedded CRCs\n     bitstream                    .D...... detect bitstream specification deviations\n     buffer                       .D...... detect improper bitstream length\n     explode                      .D...... abort decoding on minor error detection\n     ignore_err                   .D...... ignore errors\n     careful                      .D...... consider things that violate the spec, are fast to check and have not been seen in the wild as errors\n     compliant                    .D...... consider all spec non compliancies as errors\n     aggressive                   .D...... consider things that a sane encoder shouldn't do as an error\n  -err_detect              .D...... set error detection flags (default crccheck)\n     crccheck                     .D...... verify embedded CRCs\n     bitstream                    .D...... detect bitstream specification deviations\n     buffer                       .D...... detect improper bitstream length\n     explode                      .D...... abort decoding on minor error detection\n     ignore_err                   .D...... ignore errors\n     careful                      .D...... consider things that violate the spec, are fast to check and have not been seen in the wild as errors\n     compliant                    .D...... consider all spec non compliancies as errors\n     aggressive                   .D...... consider things that a sane encoder shouldn't do as an error\n  -use_wallclock_as_timestamps     .D...... use wallclock as timestamps (default false)\n  -skip_initial_bytes       .D...... set number of bytes to skip before reading header and frames (from 0 to I64_MAX) (default 0)\n  -correct_ts_overflow     .D...... correct single timestamp overflows (default true)\n  -f_strict                  ED...... how strictly to follow the standards (deprecated; use strict, save via avconv) (from INT_MIN to INT_MAX) (default normal)\n     very                         ED...... strictly conform to a older more strict version of the spec or reference software\n     strict                       ED...... strictly conform to all the things in the spec no matter what the consequences\n     normal                       ED......\n     unofficial                   ED...... allow unofficial extensions\n     experimental                 ED...... allow non-standardized experimental variants\n  -strict                    ED...... how strictly to follow the standards (from INT_MIN to INT_MAX) (default normal)\n     very                         ED...... strictly conform to a older more strict version of the spec or reference software\n     strict                       ED...... strictly conform to all the things in the spec no matter what the consequences\n     normal                       ED......\n     unofficial                   ED...... allow unofficial extensions\n     experimental                 ED...... allow non-standardized experimental variants\n  -max_ts_probe              .D...... maximum number of packets to read while waiting for the first timestamp (from 0 to INT_MAX) (default 50)\n  -dump_separator         ED...... set information dump field separator (default \", \")\n  -codec_whitelist        .D...... List of decoders that are allowed to be used\n  -format_whitelist       .D...... List of demuxers that are allowed to be used\n  -protocol_whitelist      .D...... List of protocols that are allowed to be used\n  -protocol_blacklist      .D...... List of protocols that are not allowed to be used\n  -max_streams               .D...... maximum number of streams (from 0 to INT_MAX) (default 1000)\nAVIOContext AVOptions:\n  -protocol_whitelist      .D...... List of protocols that are allowed to be used\nURLContext AVOptions:\n  -protocol_whitelist      .D...... List of protocols that are allowed to be used\n  -protocol_blacklist      .D...... List of protocols that are not allowed to be used\n  -rw_timeout              ED...... Timeout for IO operations (in microseconds) (from 0 to I64_MAX) (default 0)\nAsync AVOptions:\nbluray AVOptions:\n  -playlist                  .D......  (from -1 to 99999) (default -1)\n  -angle                     .D......  (from 0 to 254) (default 0)\n  -chapter                   .D......  (from 1 to 65534) (default 1)\nCache AVOptions:\n  -read_ahead_limit          .D...... Amount in bytes that may be read ahead when seeking isn't supported, -1 for unlimited (from -1 to INT_MAX) (default 65536)\ncrypto AVOptions:\n  -key                    ED...... AES encryption/decryption key\n  -iv                     ED...... AES encryption/decryption initialization vector\n  -decryption_key         .D...... AES decryption key\n  -decryption_iv          .D...... AES decryption initialization vector\nfile AVOptions:\n  -follow                    .D...... Follow a file as it is being written (from 0 to 1) (default 0)\nftp AVOptions:\n  -timeout                   ED...... set timeout of socket I/O operations (from -1 to INT_MAX) (default -1)\n  -ftp-anonymous-password      ED...... password for anonymous login. E-mail address should be used.\nhttp AVOptions:\n  -seekable              .D...... control seekability of connection (default auto)\n  -http_proxy             ED...... set HTTP proxy to tunnel through\n  -headers                ED...... set custom HTTP headers, can override built in default headers\n  -content_type           ED...... set a specific content type for the POST messages\n  -user_agent             .D...... override User-Agent header (default \"Lavf/57.66.102\")\n  -user-agent             .D...... override User-Agent header (default \"Lavf/57.66.102\")\n  -multiple_requests     ED...... use persistent connections (default false)\n  -post_data              ED...... set custom HTTP post data\n  -cookies                .D...... set cookies to be sent in applicable future requests, use newline delimited Set-Cookie HTTP field value syntax\n  -icy                   .D...... request ICY metadata (default true)\n  -auth_type                 ED...... HTTP authentication type (from 0 to 1) (default none)\n     none                         ED...... No auth method set, autodetect\n     basic                        ED...... HTTP basic authentication\n  -location               ED...... The actual location of the data received\n  -offset                  .D...... initial byte offset (from 0 to I64_MAX) (default 0)\n  -end_offset              .D...... try to limit the request to bytes preceding this offset (from 0 to I64_MAX) (default 0)\n  -method                 ED...... Override the HTTP method or set the expected HTTP method from a client\n  -reconnect             .D...... auto reconnect after disconnect before EOF (default false)\n  -reconnect_at_eof      .D...... auto reconnect at EOF (default false)\n  -reconnect_streamed     .D...... auto reconnect streamed / non seekable streams (default false)\n  -reconnect_delay_max         .D...... max reconnect delay in seconds after which to give up (from 0 to 4294) (default 120)\n  -listen                    ED...... listen on HTTP (from 0 to 2) (default 0)\nhttps AVOptions:\n  -seekable              .D...... control seekability of connection (default auto)\n  -http_proxy             ED...... set HTTP proxy to tunnel through\n  -headers                ED...... set custom HTTP headers, can override built in default headers\n  -content_type           ED...... set a specific content type for the POST messages\n  -user_agent             .D...... override User-Agent header (default \"Lavf/57.66.102\")\n  -user-agent             .D...... override User-Agent header (default \"Lavf/57.66.102\")\n  -multiple_requests     ED...... use persistent connections (default false)\n  -post_data              ED...... set custom HTTP post data\n  -cookies                .D...... set cookies to be sent in applicable future requests, use newline delimited Set-Cookie HTTP field value syntax\n  -icy                   .D...... request ICY metadata (default true)\n  -auth_type                 ED...... HTTP authentication type (from 0 to 1) (default none)\n     none                         ED...... No auth method set, autodetect\n     basic                        ED...... HTTP basic authentication\n  -location               ED...... The actual location of the data received\n  -offset                  .D...... initial byte offset (from 0 to I64_MAX) (default 0)\n  -end_offset              .D...... try to limit the request to bytes preceding this offset (from 0 to I64_MAX) (default 0)\n  -method                 ED...... Override the HTTP method or set the expected HTTP method from a client\n  -reconnect             .D...... auto reconnect after disconnect before EOF (default false)\n  -reconnect_at_eof      .D...... auto reconnect at EOF (default false)\n  -reconnect_streamed     .D...... auto reconnect streamed / non seekable streams (default false)\n  -reconnect_delay_max         .D...... max reconnect delay in seconds after which to give up (from 0 to 4294) (default 120)\n  -listen                    ED...... listen on HTTP (from 0 to 2) (default 0)\nicecast AVOptions:\npipe AVOptions:\nprompeg AVOptions:\nrtp AVOptions:\n  -ttl                       ED...... Time to live (in milliseconds, multicast only) (from -1 to INT_MAX) (default -1)\n  -buffer_size               ED...... Send/Receive buffer size (in bytes) (from -1 to INT_MAX) (default -1)\n  -rtcp_port                 ED...... Custom rtcp port (from -1 to INT_MAX) (default -1)\n  -local_rtpport             ED...... Local rtp port (from -1 to INT_MAX) (default -1)\n  -local_rtcpport            ED...... Local rtcp port (from -1 to INT_MAX) (default -1)\n  -connect               ED...... Connect socket (default false)\n  -write_to_source       ED...... Send packets to the source address of the latest received packet (default false)\n  -pkt_size                  ED...... Maximum packet size (from -1 to INT_MAX) (default -1)\n  -dscp                      ED...... DSCP class (from -1 to INT_MAX) (default -1)\n  -sources                ED...... Source list\n  -block                  ED...... Block list\nsrtp AVOptions:\n  -srtp_in_suite          .D...... \n  -srtp_in_params         .D...... \nsubfile AVOptions:\n  -start                   .D...... start offset (from 0 to I64_MAX) (default 0)\n  -end                     .D...... end offset (from 0 to I64_MAX) (default 0)\ntee AVOptions:\ntcp AVOptions:\n  -listen                    ED...... Listen for incoming connections (from 0 to 2) (default 0)\n  -timeout                   ED...... set timeout (in microseconds) of socket I/O operations (from -1 to INT_MAX) (default -1)\n  -listen_timeout            ED...... Connection awaiting timeout (in milliseconds) (from -1 to INT_MAX) (default -1)\n  -send_buffer_size          ED...... Socket send buffer size (in bytes) (from -1 to INT_MAX) (default -1)\n  -recv_buffer_size          ED...... Socket receive buffer size (in bytes) (from -1 to INT_MAX) (default -1)\ntls AVOptions:\n  -ca_file                ED...... Certificate Authority database file\n  -cafile                 ED...... Certificate Authority database file\n  -tls_verify                ED...... Verify the peer certificate (from 0 to 1) (default 0)\n  -cert_file              ED...... Certificate file\n  -key_file               ED...... Private key file\n  -listen                    ED...... Listen for incoming connections (from 0 to 1) (default 0)\n  -verifyhost             ED...... Verify against a specific hostname\nudp AVOptions:\n  -buffer_size               ED...... System data size (in bytes) (from -1 to INT_MAX) (default -1)\n  -localport                 ED...... Local port (from -1 to INT_MAX) (default -1)\n  -local_port                ED...... Local port (from -1 to INT_MAX) (default -1)\n  -localaddr              ED...... Local address\n  -udplite_coverage          ED...... choose UDPLite head size which should be validated by checksum (from 0 to INT_MAX) (default 0)\n  -pkt_size                  ED...... Maximum UDP packet size (from -1 to INT_MAX) (default 1472)\n  -reuse                 ED...... explicitly allow reusing UDP sockets (default auto)\n  -reuse_socket          ED...... explicitly allow reusing UDP sockets (default auto)\n  -connect               ED...... set if connect() should be called on socket (default false)\n  -fifo_size                 .D...... set the UDP receiving circular buffer size, expressed as a number of packets with size of 188 bytes (from 0 to INT_MAX) (default 28672)\n  -overrun_nonfatal      .D...... survive in case of UDP receiving circular buffer overrun (default false)\n  -timeout                   .D...... set raise error timeout (only in read mode) (from 0 to INT_MAX) (default 0)\n  -sources                ED...... Source list\n  -block                  ED...... Block list\nudplite AVOptions:\n  -buffer_size               ED...... System data size (in bytes) (from -1 to INT_MAX) (default -1)\n  -localport                 ED...... Local port (from -1 to INT_MAX) (default -1)\n  -local_port                ED...... Local port (from -1 to INT_MAX) (default -1)\n  -localaddr              ED...... Local address\n  -udplite_coverage          ED...... choose UDPLite head size which should be validated by checksum (from 0 to INT_MAX) (default 0)\n  -pkt_size                  ED...... Maximum UDP packet size (from -1 to INT_MAX) (default 1472)\n  -reuse                 ED...... explicitly allow reusing UDP sockets (default auto)\n  -reuse_socket          ED...... explicitly allow reusing UDP sockets (default auto)\n  -connect               ED...... set if connect() should be called on socket (default false)\n  -fifo_size                 .D...... set the UDP receiving circular buffer size, expressed as a number of packets with size of 188 bytes (from 0 to INT_MAX) (default 28672)\n  -overrun_nonfatal      .D...... survive in case of UDP receiving circular buffer overrun (default false)\n  -timeout                   .D...... set raise error timeout (only in read mode) (from 0 to INT_MAX) (default 0)\n  -sources                ED...... Source list\n  -block                  ED...... Block list\nlibrtmp protocol AVOptions:\n  -rtmp_app               ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer            ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn              ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver          ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live                 .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl           .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath          ED...... Stream identifier to play or to publish\n  -rtmp_subscribe         .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl            ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify         .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl             ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size          ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmpe protocol AVOptions:\n  -rtmp_app               ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer            ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn              ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver          ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live                 .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl           .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath          ED...... Stream identifier to play or to publish\n  -rtmp_subscribe         .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl            ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify         .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl             ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size          ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmps protocol AVOptions:\n  -rtmp_app               ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer            ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn              ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver          ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live                 .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl           .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath          ED...... Stream identifier to play or to publish\n  -rtmp_subscribe         .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl            ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify         .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl             ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size          ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmpt protocol AVOptions:\n  -rtmp_app               ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer            ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn              ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver          ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live                 .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl           .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath          ED...... Stream identifier to play or to publish\n  -rtmp_subscribe         .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl            ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify         .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl             ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size          ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmpte protocol AVOptions:\n  -rtmp_app               ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer            ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn              ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver          ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live                 .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl           .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath          ED...... Stream identifier to play or to publish\n  -rtmp_subscribe         .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl            ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify         .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl             ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size          ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\naa AVOptions:\n  -aa_fixed_key           .D...... Fixed key used for handling Audible AA files\nArtworx Data Format demuxer AVOptions:\n  -linespeed                 .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size         .D...... set video size, such as 640x480 or hd720.\n  -framerate          .D...... set framerate (frames per second) (default \"25\")\nAPNG demuxer AVOptions:\n  -ignore_loop           .D...... ignore loop setting (default true)\n  -max_fps                   .D...... maximum framerate (0 is no limit) (from 0 to INT_MAX) (default 15)\n  -default_fps               .D...... default framerate (0 is as fast as possible) (from 0 to INT_MAX) (default 15)\naqtdec AVOptions:\n  -subfps               .D...S.. set the movie frame rate (from 0 to INT_MAX) (default 25/1)\nasf demuxer AVOptions:\n  -no_resync_search      .D...... Don't try to resynchronize by looking for a certain optional start code (default false)\n  -export_xmp            .D...... Export full XMP metadata (default false)\navi AVOptions:\n  -use_odml              .D...... use odml index (default true)\nBinary text demuxer AVOptions:\n  -linespeed                 .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size         .D...... set video size, such as 640x480 or hd720.\n  -framerate          .D...... set framerate (frames per second) (default \"25\")\ncavsvideo demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nCDXL demuxer AVOptions:\n  -sample_rate               .D......  (from 1 to INT_MAX) (default 11025)\n  -framerate              .D...... \nconcat demuxer AVOptions:\n  -safe                  .D...... enable safe mode (default true)\n  -auto_convert          .D...... automatically convert bitstream format (default true)\n  -segment_time_metadata     .D...... output file segment start time and duration as packet metadata (default false)\ndirac demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\ndnxhd demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\ndvbsub demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\ndvbtxt demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nffm demuxer AVOptions:\nflvdec AVOptions:\n  -flv_metadata          .D.V.... Allocate streams according to the onMetaData array (default false)\n  -missing_streams           .D.V..XR  (from 0 to 255) (default 0)\nlive_flvdec AVOptions:\n  -flv_metadata          .D.V.... Allocate streams according to the onMetaData array (default false)\n  -missing_streams           .D.V..XR  (from 0 to 255) (default 0)\ng729 demuxer AVOptions:\n  -bit_rate                  .D......  (from 0 to INT_MAX) (default 8000)\nGIF demuxer AVOptions:\n  -min_delay                 .D...... minimum valid delay between frames (in hundredths of second) (from 0 to 6000) (default 2)\n  -max_gif_delay             .D...... maximum valid delay between frames (in hundredths of seconds) (from 0 to 65535) (default 65535)\n  -default_delay             .D...... default delay between frames (in hundredths of second) (from 0 to 6000) (default 10)\n  -ignore_loop           .D...... ignore loop setting (netscape extension) (default true)\ngsm demuxer AVOptions:\n  -sample_rate               .D......  (from 1 to 6.50753e+007) (default 8000)\nh261 demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nh263 demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nh264 demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nhevc demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nhls,applehttp AVOptions:\n  -live_start_index          .D...... segment index to start live streams at (negative values are from the end) (from INT_MIN to INT_MAX) (default -3)\niCE Draw File demuxer AVOptions:\n  -linespeed                 .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size         .D...... set video size, such as 640x480 or hd720.\n  -framerate          .D...... set framerate (frames per second) (default \"25\")\nimage2 demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nimage2pipe demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nalias_pix demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nbrender_pix demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ningenient demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nm4v demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nmicrodvddec AVOptions:\n  -subfps               .D...S.. set the movie frame rate fallback (from 0 to INT_MAX) (default 0/1)\nmjpeg demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nmjpeg_2000 demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nmov,mp4,m4a,3gp,3g2,mj2 AVOptions:\n  -use_absolute_path     .D.V.... allow using absolute path when opening alias, this is a possible security issue (default false)\n  -seek_streams_individually     .D.V.... Seek each stream individually to the to the closest point (default true)\n  -ignore_editlist       .D.V....  (default false)\n  -ignore_chapters       .D.V....  (default false)\n  -use_mfra_for              .D.V.... use mfra for fragment timestamps (from -1 to 2) (default auto)\n     auto                         .D.V.... auto\n     dts                          .D.V.... dts\n     pts                          .D.V.... pts\n  -export_all            .D.V.... Export unrecognized metadata entries (default false)\n  -export_xmp            .D.V.... Export full XMP metadata (default false)\n  -activation_bytes       .D...... Secret bytes for Audible AAX files\n  -audible_fixed_key      .D...... Fixed key used for handling Audible AAX files\n  -decryption_key         .D...... The media decryption key (hex)\n  -enable_drefs          .D.V.... Enable external track support. (default false)\nmp3 AVOptions:\n  -usetoc                .D...... use table of contents (default false)\nmpegts demuxer AVOptions:\n  -resync_size               .D...... set size limit for looking up a new synchronization (from 0 to INT_MAX) (default 65536)\n  -fix_teletext_pts      .D...... try to fix pts values of dvb teletext streams (default true)\n  -ts_packetsize             .D....XR output option carrying the raw packet size (from 0 to 0) (default 0)\n  -scan_all_pmts         .D...... scan and combine all PMTs (default auto)\nmpegtsraw demuxer AVOptions:\n  -resync_size               .D...... set size limit for looking up a new synchronization (from 0 to INT_MAX) (default 65536)\n  -compute_pcr           .D...... compute exact PCR for each transport stream packet (default false)\n  -ts_packetsize             .D....XR output option carrying the raw packet size (from 0 to 0) (default 0)\nmpegvideo demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nMPJPEG demuxer AVOptions:\n  -strict_mime_boundary     .D...... require MIME boundaries match (default false)\nalaw demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nmulaw demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nf64be demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nf64le demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nf32be demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nf32le demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\ns32be demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\ns32le demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\ns24be demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\ns24le demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\ns16be demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\ns16le demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\ns8 demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nu32be demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nu32le demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nu24be demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nu24le demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nu16be demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nu16le demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nu8 demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\nrawvideo demuxer AVOptions:\n  -video_size         .D...... set frame size\n  -pixel_format           .D...... set pixel format (default \"yuv420p\")\n  -framerate          .D...... set frame rate (default \"25\")\nRTP demuxer AVOptions:\n  -rtp_flags               .D...... set RTP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n  -reorder_queue_size         .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size               ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\nRTSP demuxer AVOptions:\n  -initial_pause         .D...... do not start playing the stream immediately (default false)\n  -rtsp_transport          ED...... set RTSP transport protocols (default 0)\n     udp                          ED...... UDP\n     tcp                          ED...... TCP\n     udp_multicast                .D...... UDP multicast\n     http                         .D...... HTTP tunneling\n  -rtsp_flags              .D...... set RTSP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n     listen                       .D...... wait for incoming connections\n     prefer_tcp                   ED...... try RTP via TCP first, if available\n  -allowed_media_types       .D...... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D...... Video\n     audio                        .D...... Audio\n     data                         .D...... Data\n     subtitle                     .D...... Subtitle\n  -min_port                  ED...... set minimum local UDP port (from 0 to 65535) (default 5000)\n  -max_port                  ED...... set maximum local UDP port (from 0 to 65535) (default 65000)\n  -timeout                   .D...... set maximum timeout (in seconds) to wait for incoming connections (-1 is infinite, imply flag listen) (from INT_MIN to INT_MAX) (default -1)\n  -stimeout                  .D...... set timeout (in microseconds) of socket TCP I/O operations (from INT_MIN to INT_MAX) (default 0)\n  -reorder_queue_size         .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size               ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\n  -user-agent             .D...... override User-Agent header (default \"Lavf57.66.102\")\nsbg_demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 0)\n  -frame_size                .D......  (from 0 to INT_MAX) (default 0)\n  -max_file_size             .D......  (from 0 to INT_MAX) (default 5e+006)\nSDP demuxer AVOptions:\n  -sdp_flags               .D...... SDP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n     custom_io                    .D...... use custom I/O\n     rtcp_to_source               .D...... send RTCP packets to the source address of received packets\n  -allowed_media_types       .D...... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D...... Video\n     audio                        .D...... Audio\n     data                         .D...... Data\n     subtitle                     .D...... Subtitle\n  -reorder_queue_size         .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size               ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\nsln demuxer AVOptions:\n  -sample_rate               .D......  (from 0 to INT_MAX) (default 8000)\n  -channels                  .D......  (from 0 to INT_MAX) (default 1)\ntedcaptions_demuxer AVOptions:\n  -start_time              .D...S.. set the start time (offset) of the subtitles, in ms (from I64_MIN to I64_MAX) (default 15000)\nTTY demuxer AVOptions:\n  -chars_per_frame           .D......  (from 1 to INT_MAX) (default 6000)\n  -video_size         .D...... A string describing frame size, such as 640x480 or hd720.\n  -framerate          .D......  (default \"25\")\nv210 demuxer AVOptions:\n  -video_size         .D...... set frame size\n  -framerate          .D...... set frame rate (default \"25\")\nv210x demuxer AVOptions:\n  -video_size         .D...... set frame size\n  -framerate          .D...... set frame rate (default \"25\")\nvc1 demuxer AVOptions:\n  -framerate          .D......  (default \"25\")\nvobsub AVOptions:\n  -sub_name               .D...... URI for .sub file\nWAV demuxer AVOptions:\n  -ignore_length         .D...... Ignore length (default false)\nWebM DASH Manifest demuxer AVOptions:\n  -live                  .D...... flag indicating that the input is a live file that only has the headers. (default false)\nWebVTT demuxer AVOptions:\neXtended BINary text (XBIN) demuxer AVOptions:\n  -linespeed                 .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size         .D...... set video size, such as 640x480 or hd720.\n  -framerate          .D...... set framerate (frames per second) (default \"25\")\nbmp demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ndds demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ndpx demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nexr demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nj2k demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\njpeg demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\njpegls demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npam demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npbm demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npcx demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npgmyuv demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npgm demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npictor demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npng demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nppm demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npsd demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nqdraw demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nsgi demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nsunrast demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ntiff demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nwebp demuxer AVOptions:\n  -framerate          .D...... set the video framerate (default \"25\")\n  -loop                  .D...... force loop over input file sequence (default false)\n  -pattern_type              .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format           .D...... set video pixel format\n  -start_number              .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D...... set video size\n  -frame_size                .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nGame Music Emu demuxer AVOptions:\n  -track_index               .D..A... set track that should be played (from 0 to INT_MAX) (default 0)\n  -sample_rate               .D..A... set sample rate (from 1000 to 999999) (default 44100)\n  -max_size                .D..A... set max file size supported (in bytes) (from 0 to 1.84467e+019) (default 5.24288e+007)\nModPlug demuxer AVOptions:\n  -noise_reduction           .D...... Enable noise reduction 0(off)-1(on) (from 0 to 1) (default 0)\n  -reverb_depth              .D...... Reverb level 0(quiet)-100(loud) (from 0 to 100) (default 0)\n  -reverb_delay              .D...... Reverb delay in ms, usually 40-200ms (from 0 to INT_MAX) (default 0)\n  -bass_amount               .D...... XBass level 0(quiet)-100(loud) (from 0 to 100) (default 0)\n  -bass_range                .D...... XBass cutoff in Hz 10-100 (from 0 to 100) (default 0)\n  -surround_depth            .D...... Surround level 0(quiet)-100(heavy) (from 0 to 100) (default 0)\n  -surround_delay            .D...... Surround delay in ms, usually 5-40ms (from 0 to INT_MAX) (default 0)\n  -max_size                  .D...... Max file size supported (in bytes). Default is 5MB. Set to 0 for no limit (not recommended) (from 0 to 1.04858e+008) (default 5.24288e+006)\n  -video_stream_expr      .D...... Color formula\n  -video_stream              .D...... Make demuxer output a video stream (from 0 to 1) (default 0)\n  -video_stream_w            .D...... Video stream width in char (one char = 8x8px) (from 20 to 512) (default 30)\n  -video_stream_h            .D...... Video stream height in char (one char = 8x8px) (from 20 to 512) (default 30)\n  -video_stream_ptxt         .D...... Print speed, tempo, order, ... in video stream (from 0 to 1) (default 1)\ndshow indev AVOptions:\n  -video_size         .D...... set video size given a string such as 640x480 or hd720.\n  -pixel_format          .D...... set video pixel format (default none)\n  -framerate              .D...... set video frame rate\n  -sample_rate               .D...... set audio sample rate (from 0 to INT_MAX) (default 0)\n  -sample_size               .D...... set audio sample size (from 0 to 16) (default 0)\n  -channels                  .D...... set number of audio channels, such as 1 or 2 (from 0 to INT_MAX) (default 0)\n  -audio_buffer_size         .D...... set audio device buffer latency size in milliseconds (default is the device's default) (from 0 to INT_MAX) (default 0)\n  -list_devices          .D...... list available devices (default false)\n  -list_options          .D...... list available options for specified device (default false)\n  -video_device_number         .D...... set video device number for devices with same name (starts at 0) (from 0 to INT_MAX) (default 0)\n  -audio_device_number         .D...... set audio device number for devices with same name (starts at 0) (from 0 to INT_MAX) (default 0)\n  -crossbar_video_input_pin_number         .D...... set video input pin number for crossbar device (from -1 to INT_MAX) (default -1)\n  -crossbar_audio_input_pin_number         .D...... set audio input pin number for crossbar device (from -1 to INT_MAX) (default -1)\n  -show_video_device_dialog     .D...... display property dialog for video capture device (default false)\n  -show_audio_device_dialog     .D...... display property dialog for audio capture device (default false)\n  -show_video_crossbar_connection_dialog     .D...... display property dialog for crossbar connecting pins filter on video device (default false)\n  -show_audio_crossbar_connection_dialog     .D...... display property dialog for crossbar connecting pins filter on audio device (default false)\n  -show_analog_tv_tuner_dialog     .D...... display property dialog for analog tuner filter (default false)\n  -show_analog_tv_tuner_audio_dialog     .D...... display property dialog for analog tuner audio filter (default false)\n  -audio_device_load      .D...... load audio capture filter device (and properties) from file\n  -audio_device_save      .D...... save audio capture filter device (and properties) to file\n  -video_device_load      .D...... load video capture filter device (and properties) from file\n  -video_device_save      .D...... save video capture filter device (and properties) to file\nGDIgrab indev AVOptions:\n  -draw_mouse                .D...... draw the mouse pointer (from 0 to 1) (default 1)\n  -show_region               .D...... draw border around capture area (from 0 to 1) (default 0)\n  -framerate          .D...... set video frame rate (default \"ntsc\")\n  -video_size         .D...... set video frame size\n  -offset_x                  .D...... capture area x offset (from INT_MIN to INT_MAX) (default 0)\n  -offset_y                  .D...... capture area y offset (from INT_MIN to INT_MAX) (default 0)\nlavfi indev AVOptions:\n  -graph                  .D...... set libavfilter graph\n  -graph_file             .D...... set libavfilter graph filename\n  -dumpgraph              .D...... dump graph to stderr\nVFW indev AVOptions:\n  -video_size             .D...... A string describing frame size, such as 640x480 or hd720.\n  -framerate              .D......  (default \"ntsc\")\nADTS muxer AVOptions:\nAIFF muxer AVOptions:\nAPNG muxer AVOptions:\nASF muxer AVOptions:\nass muxer AVOptions:\nAST muxer AVOptions:\nASF stream muxer AVOptions:\nAVI muxer AVOptions:\ndash muxer AVOptions:\nf4v muxer AVOptions:\nFifo muxer AVOptions:\nflac muxer AVOptions:\nflv muxer AVOptions:\nframe hash encoder class AVOptions:\nframe hash encoder class AVOptions:\nGIF muxer AVOptions:\nhash encoder class AVOptions:\nHDS muxer AVOptions:\nhls muxer AVOptions:\nimage2 muxer AVOptions:\nipod muxer AVOptions:\nismv muxer AVOptions:\nLATM/LOAS muxer AVOptions:\nMD5 encoder class AVOptions:\nmatroska muxer AVOptions:\nmatroska audio muxer AVOptions:\nmov muxer AVOptions:\nMP3 muxer AVOptions:\nmp4 muxer AVOptions:\nmpeg muxer AVOptions:\nvcd muxer AVOptions:\ndvd muxer AVOptions:\nsvcd muxer AVOptions:\nvob muxer AVOptions:\nMPEGTS muxer AVOptions:\nmpjpeg_muxer AVOptions:\nMXF muxer AVOptions:\nMXF-D10 muxer AVOptions:\nMXF-OPAtom muxer AVOptions:\nnutenc AVOptions:\nOgg audio muxer AVOptions:\nOgg muxer AVOptions:\nOgg video muxer AVOptions:\nOgg Opus muxer AVOptions:\npsp muxer AVOptions:\nRTP muxer AVOptions:\nRTSP muxer AVOptions:\n  -initial_pause         .D...... do not start playing the stream immediately (default false)\n  -rtsp_transport          ED...... set RTSP transport protocols (default 0)\n     udp                          ED...... UDP\n     tcp                          ED...... TCP\n     udp_multicast                .D...... UDP multicast\n     http                         .D...... HTTP tunneling\n  -rtsp_flags              .D...... set RTSP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n     listen                       .D...... wait for incoming connections\n     prefer_tcp                   ED...... try RTP via TCP first, if available\n  -allowed_media_types       .D...... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D...... Video\n     audio                        .D...... Audio\n     data                         .D...... Data\n     subtitle                     .D...... Subtitle\n  -min_port                  ED...... set minimum local UDP port (from 0 to 65535) (default 5000)\n  -max_port                  ED...... set maximum local UDP port (from 0 to 65535) (default 65000)\n  -timeout                   .D...... set maximum timeout (in seconds) to wait for incoming connections (-1 is infinite, imply flag listen) (from INT_MIN to INT_MAX) (default -1)\n  -stimeout                  .D...... set timeout (in microseconds) of socket TCP I/O operations (from INT_MIN to INT_MAX) (default 0)\n  -reorder_queue_size         .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size               ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\n  -user-agent             .D...... override User-Agent header (default \"Lavf57.66.102\")\nsegment muxer AVOptions:\nstream_segment muxer AVOptions:\nsmooth streaming muxer AVOptions:\nOgg Speex muxer AVOptions:\nspdif AVOptions:\nTee muxer AVOptions:\ntg2 muxer AVOptions:\ntgp muxer AVOptions:\nWAV muxer AVOptions:\nwebm muxer AVOptions:\nWebM DASH Manifest muxer AVOptions:\nWebM Chunk Muxer AVOptions:\nWebP muxer AVOptions:\ncaca_outdev AVOptions:\nsdl2 outdev AVOptions:\n``. @jens1o to exclude that, I set my user with all permissions on iis . only to test obviously, but nothing changed. So what command should I execute?. I didn't understand the question, that's the command generated by the code, I'm exactly trying to use this library to avoid using cmd. it is possible to receive these errors just while testing basic usage?. @Romain the problem is that I get the error at:$video = $ffmpeg->open('input.mp4');`. why?. @jens1o I had the ffmpeg-20170225-7e4f32f-win64-static version, so I downloaded the ffmpeg-20170321-db7a05d-win64-static, the latest but nothing changed. What do you mean with: \n\nIs the php process allowed to execute things?\n\n?\nI set my administrator user on IIS to exclude permissions problems. . index.php , where there is $video = $ffmpeg->open('input.mp4'); and input.mp4 are in the same folder \nI set my administrator user on IIS so I own rights on everything . tried but same error. Hi SGhazayi, did you understand why this happens e how to solve this problem? Thanks . yes , but I noticed that with small video files it doesn't happen (or happens too fast?) \n\nrefresh destination directory for many time (during converting) you can see file size increase to max suddenlly file size change to 0 and again increase to max.\nThat's how moving a file works. :/\n\n@jens1o \nI didn't understand this , is it normal during the converting process?. ",
    "jangrewe": "Same here, with PHP7 on Debian stretch.\nvar_dump(getenv('PATH'));\nvar_dump(exec('which ffprobe'));\nvar_dump(ini_get('open_basedir'));\nvar_dump(is_file(exec('which ffprobe')));\nvar_dump(is_executable(exec('which ffprobe')));\nresults in\nbool(false)\nstring(16) \"/usr/bin/ffprobe\"\nstring(0) \"\"\nbool(true)\nbool(true)\nI have also explicitly set the paths:\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/usr/bin/ffmpeg',\n    'ffprobe.binaries' => '/usr/bin/ffprobe'\n  ));. ",
    "user23145": "Same problem here on Ubuntu 16.04.\nInstalled ffmpeg through:\nsudo apt-get install ffmpeg\nBoth ffmpeg and ffprobe binaries are located in:\n/usr/bin/ffmpeg\n/usr/bin/ffprobe\nMy PATH:\n/home/ubuntu/bin:/home/ubuntu/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\nGetting the same error message. Makes no sense.. ",
    "sbourdette": "Same here. Maybe, the sympliest is to provide a conf file like https://github.com/pascalbaljetmedia/laravel-ffmpeg\n. It would be great that the constructor read a config file to set the binaries if not provided.. Sorry but i don't find this config file. could you tell me where it is ?\nI had always to provide binaries path at the create methode.. Any chance to have a merge ?. ",
    "tammyruihuang": "I used the solution suggested by @gabrielkaputa, and it worked for me. The only two changes I made were:\n1. find out which ffmpeg and which ffprobe in Terminal first, and replaced the path in that array with my path;\n2. deleted $logger since I don't have that interface. It works without it for me.\nThe only question I have right now is that, in the scenario that I deploy this php file onto my web server, I should install ffmpeg on my server and set the path to where it is stored on my server, correct? Just want to double check. Sorry for this dummy question. I am new to php and backend.. @lolmore  Sorry to ask you, but how did you post your code in this post? I clicked on <> to insert code, but it didn't recognize my code as a code section. Thanks for your help!. I am reeeealy sorry that I left my descriptions in the title. I tried to change it, however I didn't find edit function to my issue.. Sorry I didn't get back to you earlier. I was busy this weekend. Here's my code:\n\nI clicked on \"insert code\", but the code didn't show property? Did I do something wrong?. I am pretty new to PHP. Sorry for some of my stupid questions/issues. I started a new project today, and I run composer again. I wrote an index.php as follows. I copied my sample wav file to the same directory as index.php. After all these, I run the index.php in my terminal: php index.php, and I did get the converted FLAC file successfully. \n```\n<?php\nrequire DIR . '/vendor/autoload.php';\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$audio = $ffmpeg->open('trimmedClip.wav');\n$format = new FFMpeg\\Format\\Audio\\Flac();\n$format->on('progress', function ($audio, $format, $percentage) {\n    echo \"$percentage % transcoded\";\n});\n$format\n    ->setAudioChannels(2)\n    ->setAudioKiloBitrate(256);\n$audio->save($format, 'trimmedClip.flac');\n?>\n```\nHowever, when I run index.php in Chome at the address: localhost:8888/converterFLAC/index.php (I use MAMP), I received another fatal error:\n\nFatal error: Uncaught Alchemy\\BinaryDriver\\Exception\\ExecutableNotFoundException: Executable not found, proposed : avprobe, ffprobe in /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php:160 Stack trace: #0 /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Driver/FFProbeDriver.php(48): Alchemy\\BinaryDriver\\AbstractBinary::load(Array, NULL, Object(Alchemy\\BinaryDriver\\Configuration)) #1 /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php(207): FFMpeg\\Driver\\FFProbeDriver::create(Object(Alchemy\\BinaryDriver\\Configuration), NULL) #2 /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFMpeg.php(117): FFMpeg\\FFProbe::create(Array, NULL, Object(Doctrine\\Common\\Cache\\ArrayCache)) #3 /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/index.php(4): FFMpeg\\FFMpeg in /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Driver/FFProbeDriver.php on line 50\n\nDid I do something wrong?. Yes, I run \"$ composer require php-ffmpeg/php-ffmpeg\" succefully. Is there another way to install ffmpeg?\nIn my project, I do need to call a php file from Unity3D game in order to convert a wav file into FLAC. I have solved to issue of calling a php file from a Unity3D game. The only issue I have is - to make a php WWW call to do the audio format converting. This is why your lib is crucial to me.\nI sincerely appreciate your kind help!. I just run brew install ffmpeg in Terminal, and I received the following message: \n\nconverterFLAC > brew install ffmpeg\nError: ffmpeg 3.2.3 is already installed\nTo upgrade to 3.3.4, run brew upgrade ffmpeg\nconverterFLAC >\n\n\nI then upgraded my ffmpeg to the newest version. After successfully upgraded ffmpeg, I run my index.php in browser again. The following error message showed (seems like the same as before):\n\nFatal error: Uncaught Alchemy\\BinaryDriver\\Exception\\ExecutableNotFoundException: Executable not found, proposed : avprobe, ffprobe in /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php:160 Stack trace: #0 /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Driver/FFProbeDriver.php(48): Alchemy\\BinaryDriver\\AbstractBinary::load(Array, NULL, Object(Alchemy\\BinaryDriver\\Configuration)) #1 /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php(207): FFMpeg\\Driver\\FFProbeDriver::create(Object(Alchemy\\BinaryDriver\\Configuration), NULL) #2 /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFMpeg.php(117): FFMpeg\\FFProbe::create(Array, NULL, Object(Doctrine\\Common\\Cache\\ArrayCache)) #3 /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/index.php(4): FFMpeg\\FFMpeg in /Users/TammyHuang/Documents/CodingStudy/php/htdocs/converterFLAC/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Driver/FFProbeDriver.php on line 50\n. Thank you both @schmanat and @jens1o, my problem is solved. I have posted my solution based on minor modifications to manually setup the paths. It'll be a reference for later users.. I am sorry but the issue was not solved. There\u2019s no way I can use the code right now.\nOn Oct 2, 2017, at 1:34 PM, Jens Hausdorf notifications@github.com wrote:\nClosed #417 https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/417.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/417#event-1274495086, or mute the thread https://github.com/notifications/unsubscribe-auth/AYw_dI8z0feRiBK18Ym_cTiHHH7GQgktks5soR6ugaJpZM4Pq-kY.\n\n\n. ",
    "jammarmalade": "like this \n\n$ffmpeg = FFMpeg\\FFMpeg::create([\n    'ffmpeg.binaries'  => '/usr/local/bin/avconv',\n    'ffmpeg.binaries' => '/usr/local/bin/ffmpeg',\n    'ffprobe.binaries' => '/usr/local/bin/avprobe',\n    'ffprobe.binaries' => '/usr/local/bin/ffprobe',\n]);\n\nyou can use  \"which ffprobe\",find the path. ",
    "Mr-Anonymous": "I have the same issue in my CentOS7 and php7. I have installed FFmpeg and FFProbe. Using which ffmpeg and which ffprobe in the terminal, I got the path:\n[root@host ~]# which ffmpeg\n/usr/bin/ffmpeg\n[root@host ~]# which ffprobe\n/usr/bin/ffprobe\nI added the path to my FFMpeg config and its unable to find the FFProbe:\nExecutable not found, proposed : /usr/bin/ffprobe\nMy Php file produces this result:\n```\n<?php\n  var_dump(getenv('PATH'));\n  var_dump(exec('which ffmpeg'));\n  var_dump(exec('which ffprobe'));\n  var_dump(ini_get('open_basedir'));\n  var_dump(is_file(exec('which ffmpeg')));\n  var_dump(is_executable(exec('which ffmpeg')));\n?>\nstring(28) \"/bin:/usr/bin:/usr/local/bin\"\nstring(0) \"\"\nstring(0) \"\"\nstring(0) \"\"\nbool(false)\nbool(false)\n```\nI have confirmed that the ffmpeg and ffprobe files inside /usr/bin has execute permission and I had also set it to 777. Totally stumped on this for 2 days. I installed the same in Mac and I had no issues. But my Centos server is giving this strange behaviour. I can't figure out why the php is not seeing the binary files when the path is correct.\nAny suggestions please?\n-- Neel. ",
    "kavin-90": "I'm facing same issue :/ \ncurrently i'm using \n```\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/usr/bin/ffmpeg',\n    'ffprobe.binaries' => '/usr/bin/ffprobe'\n  ));\n```\nusing that code it works xD.\nphp runs as www-data (default user group). PHP crash when PHP-FFMpeg code hit and no error log generated so i dunno what code cause it :cry: \nPHP crash on $video = $ffmpeg->open($file); line\nI'm using Windows 7 x64 for testing because my linux server and windows use same PHP version\nProblem signature:\n  Problem Event Name:   APPCRASH\n  Application Name: php-cgi.exe\n  Application Version:  7.2.1.0\n  Application Timestamp:    5a4da717\n  Fault Module Name:    StackHash_9201\n  Fault Module Version: 6.1.7601.17514\n  Fault Module Timestamp:   4ce7c8f9\n  Exception Code:   c0000374\n  Exception Offset: 00000000000c40f2\n  OS Version:   6.1.7601.2.1.0.256.1\n  Locale ID:    1033\n  Additional Information 1: 9201\n  Additional Information 2: 9201a7d91c83a87dea54503f3ea37767\n  Additional Information 3: 0827\n  Additional Information 4: 08276d8106d380575e6a854cb534f60a\nI also tried to use php 5.6 but it give Fatal error: syntax error, unexpected ':', expecting ';' or '{'\nI will try with other php version to see it works :/\nEdit: Issue is with PHP 7.2 only :relieved: . @Gemorroj sure. but I'm using latest PHP :smile: \nPHP 7 is working without issue so i will use php 7 not php 7.2 . I don't use laravel so i don't have .env file but when i manual give path it works .. @jens1o they're located in /usr/bin/\n```\nwhich ffmpeg\n/usr/bin/ffmpeg\nwhich ffprobe\n/usr/bin/ffprobe\n. @dmfusionVTF  use this code\n                  $ffmpeg = FFMpeg\\FFMpeg::create(array(\n                  'ffmpeg.binaries' => '/usr/bin/ffmpeg',\n                  'ffprobe.binaries' => '/usr/bin/ffprobe'\n                  ));\n\n``. as error says there is no/user/bin` path in that list :P. do u have those packages?\nbecause to make them work u need those packages in system \nrun command yum install libfaac or sudo apt-get install libfacc something like that. I'm not sure tho :/. https://centos.pkgs.org/6/linuxtech/libfaac-1.28-3.el6.x86_64.rpm.html\ni found that one\nlibfdk_aac installed by ffmpeg iirc\ni can't help much because it not related to this package but related to ffmpeg :/. i think it maybe due to PHP version? So try using different version of PHP like 5.6 .\n. php 5.4 is no longer supported you will get php 5.6 or php 7 if you fresh install it .\ntry to test ffmpeg, ffprobe on php 5.4 on your PC\ni always test on PC because i run same version on production and local xD. i installed ffmpeg via command not from source so i don't have that issue. Glad that it is working now for you. to get rid of PATH issue insert FFMPEG , PHP, NGINX, APACHE,WAMP bin path into PATH list so no issue will return but after insert path into env you have to restart cmd to apply new changes xD \n. ",
    "dodododooo": "I'm facing same issue ,on widows , it works by restart the webserver,,,,. ",
    "CrK01": "Hi guys, had the same problem, check if SELinux is doing something, and also check the php setting open_basedir (php.net/manual/en/ini.core.php#ini.open-basedir)\ncheers. ",
    "warp3r": "Your solution fixed this issue for me! Works like a charm!\n\nHi guys, had the same problem, check if SELinux is doing something, and also check the php setting open_basedir (php.net/manual/en/ini.core.php#ini.open-basedir)\ncheers\n\n. ",
    "Rustynote": "Hey. I had same problem that is now fixed. It differs from the solutions found above so I'm posting the fix in case it will help someone.\nwhich ffmpeg and which ffprobe returned empty string, and getenv('PATH') returned /bin:/usr/bin. \nputenv(\"PATH=\".getenv('PATH').':/usr/local/bin');\nPutting this code above \\FFMpeg\\FFMpeg::create did fix the problem.\nHope this will help.. ",
    "jeffsrepoaccount": "@patkar The issue I was facing at the time was attempting to transcode a few thousand videos on an oversized EC2 instance.  Using php FFMpeg was failing to saturate all of the cores, yet running the command line version above would. If I remember correctly, there were also issues with different codecs not being able to be multithreaded anyway, so they would block all other encoding outputs until that output was complete regardless of whether I was using php ffmpeg and $video->save() or command line options.\n. Yeah, I imagine that PR is probably a step forward. As a consumer, ideally I would think that a single invocation should be able to somehow coalesce to any number of outputs, each with their own size/format combination, or any possible set of options that command-line ffmpeg allows.  That said, I also appreciate the esoteric nature ffmpeg command-line options, so it may be hard to design a way to be able to tell ffmpeg how to do it.\nHere's at least a look at how I could envision a calling context utilizing both:\n``` php\n$twelveEighty = new Dimension(1280, 720);\n$sixForty = new Dimension(640, 480);\n$x264 = new X264();\n$x264\n    ->addSize($twelveEighty, 'out-1280-720.mp4')\n    ->addSize($sixForty, 'out-640-480.mp4');\n$ogg = new Ogg();\n$ogg\n    ->addSize($twelveEighty, 'out-1280-720.ogg')\n    ->addSize($sixForty, 'out-640-480.ogg');\n$video\n    ->options()\n    ->filter($filters)  // The filter graph\n    // Now add the formats?\n    ->addFormat($x264)\n    ->addFormat($ogg)\n    ->synchronize()\n    ->save()\n;\n```\nI'm not sure if that actually helps you any or not.\n. I think it should be fairly easy to support BC, at least in this feature thread (not really sure about filter graphs).\n->save() with no arguments: Build command-line options through filter graph and added formats\n->save() with arguments: \"BC Mode\"\n. ",
    "sufyandeveloper": "@jens1o  i want save multiple outputs with different sizes could you please help me i want this feature waiting for reponse thank you. ",
    "JapSeyz": "Thank you for the hard work @jens1o, hopefully, your exams went well!\nThis would definitely be a wonderful feature to have in the library, especially when pairing it with MP4box for MPEG-DASH. Hey man no worries, I am glad the exams went well, and you don't have to apologise at all, it's open source, anyone can contribute, it doesn't have to be you, I had just hoped you had something that was already in the making.. Yes, I'll try to push something else . ",
    "airani": "@jens1o Hi, What news about this issue PR?. ",
    "spearmootz": "Sorry, you can close it.\nThe use case was that i needed certain parameters in order for the output video to be compatible with android devices and instagram.. ",
    "robertkraig": "http://wiki.multimedia.cx/index.php?title=FFmpeg_Metadata might want to look up how it's done manually to do it via the library.\n. ",
    "warrickbayman": "I'm seeing this as well, but only with some videos. On Centos 7.\n. ",
    "Grimbode": "Having the same problem. \n. I have found a temporary solution, which is to calculate roughly the percentage \"limit\". It has it's downsides and occasionally throws a \"unable to probe\" error.\n. Here is my code dump. As you can see I do a little calculation to find the \"percent limit\" \n```\n$max = $duration * (0.3); // 0.3 signifies I only want the first 30% of the video, $duration is the duration of the video. This information is taken from the video's meta-data\n$temp = ($max * 100 / $duration);\n$percentLimit = (95 - ceil($temp)); //I don't even know how this works but it works.\n$format->on('progress', function ($video, $format, $percentage) use ($ffmpegservice, $videoExportPath, $videoExportPathFinal, $outro_path, $percentLimit, $array_info) {\n                //If we reach the limit, we know we can now concatenate the new temporarly clipped video with the temporary resized outdo\n                if ($percentage == $percentLimit) {\n                    $array_info[] = \"$percentage == $percentLimit, concatenating now...\";\n                    $array_info[] = $ffmpegservice->concatWithOutro($videoExportPath, $videoExportPathFinal, $outro_path);\n            }\n        });\n\n```\nSorry for the late response.\nHonestly, I could. This project is actually on pause. I'm currently working on something else, once I'm done.. I'll get back to this one.\n. ",
    "shyamsunderct": "Check the video file path. I too got the same error and problem is with the video file path.\n. ",
    "sujayjaju": "Under change log: https://raw.githubusercontent.com/FFmpeg/FFmpeg/master/Changelog it says:\nversion 2.7:\n...\n- Automatically rotate videos based on metadata in ffmpeg\n...\nThats the only documentation I found.\nThere is a \"-noautorotate\" option to disable it.\n. ",
    "tengotengo": "was it ever fixed?. ",
    "haphan": "Can you merge @romainneutron?\n. @romainneutron I may throw exception when $data is not a valid json string. \nIt is better to wrap it up in try catch block rather than silently mute the error (https://insight.sensiolabs.com/projects/607f3111-e2d7-44e8-8bcc-54dd64521983/analyses/31).\n. ",
    "anasri": "[root@server ffmpeg-php]# make\n/bin/sh /usr/src/ffmpeg-php/libtool --mode=compile cc  -I. -I/usr/src/ffmpeg-php -DPHP_ATOM_INC -I/usr/src/ffmpeg-php/include -I/usr/src/ffmpeg-php/main -I/usr/src/ffmpeg-php -I/usr/local/php54/include/php -I/usr/local/php54/include/php/main -I/usr/local/php54/include/php/TSRM -I/usr/local/php54/include/php/Zend -I/usr/local/php54/include/php/ext -I/usr/local/php54/include/php/ext/date/lib  -DHAVE_CONFIG_H  -g -O2   -c /usr/src/ffmpeg-php/ffmpeg_movie.c -o ffmpeg_movie.lo\n cc -I. -I/usr/src/ffmpeg-php -DPHP_ATOM_INC -I/usr/src/ffmpeg-php/include -I/usr/src/ffmpeg-php/main -I/usr/src/ffmpeg-php -I/usr/local/php54/include/php -I/usr/local/php54/include/php/main -I/usr/local/php54/include/php/TSRM -I/usr/local/php54/include/php/Zend -I/usr/local/php54/include/php/ext -I/usr/local/php54/include/php/ext/date/lib -DHAVE_CONFIG_H -g -O2 -c /usr/src/ffmpeg-php/ffmpeg_movie.c  -fPIC -DPIC -o .libs/ffmpeg_movie.o\n/usr/src/ffmpeg-php/ffmpeg_movie.c:42:32: error: libavcodec/version.h: No such file or directory\n/usr/src/ffmpeg-php/ffmpeg_movie.c:76:1: warning: \"MAX_STREAMS\" redefined\nIn file included from /usr/src/ffmpeg-php/ffmpeg_movie.c:43:\n/usr/include/libavformat/avformat.h:569:1: warning: this is the location of the previous definition\n/usr/src/ffmpeg-php/ffmpeg_movie.c: In function \u2018php_get_dict_value\u2019:\n/usr/src/ffmpeg-php/ffmpeg_movie.c:509: error: \u2018AVDictionaryEntry\u2019 undeclared (first use in this function)\n/usr/src/ffmpeg-php/ffmpeg_movie.c:509: error: (Each undeclared identifier is reported only once\n/usr/src/ffmpeg-php/ffmpeg_movie.c:509: error: for each function it appears in.)\n/usr/src/ffmpeg-php/ffmpeg_movie.c:509: error: \u2018m_entry\u2019 undeclared (first use in this function)\n/usr/src/ffmpeg-php/ffmpeg_movie.c: In function \u2018zim_ffmpeg_movie_getPixelFormat\u2019:\n/usr/src/ffmpeg-php/ffmpeg_movie.c:828: warning: assignment makes pointer from integer without a cast\nmake: *** [ffmpeg_movie.lo] Error 1\n. ",
    "tuxado": "Hi \nI Test this lib the progress fonction it is not with very great precision \n$dbmanager // the database manager or native php mysql fonction as you want\n$item // item stored in your data base\n$format = new Format\\Video\\X264();\n$format->on('progress', function ($video, $format, $percentage) use ($dbmanager, $item) {\n    $dbmanager->update(($item->setprorgress($progress)));\n});\n$format\n    -> setKiloBitrate(1000)\n    -> setAudioChannels(2)\n    -> setAudioKiloBitrate(256);\n$video->save($format, 'video.avi');\nAnd you use Ajax to retrieve the item by id and return th\u00e9 progress value \nnote that th\u00e9 lib is not asynch and th\u00e9 progress value at many time stop at 50% or give a not very  exacte values\n. I forget you need to force the progress at 100 % in the database change the last line like this :p\nIf  ($video->save($format, 'video.avi'))\n{\n$dbmanager->update(($item->setprorgress(100)));\n}\n. ",
    "jpost": "I am running into the same problem. Any thoughts on upgrading?\n. ",
    "citosid": "@patkar with ffmpeg is possible by doing something like:\nffmpeg -i file.mp4 output.m3u8\nI don't remember why I wanted to create the M3U8 with PHP and this library... the question was 4 months ago... but either way, we decided to go with Python instead of PHP (for the specific things in ffmpeg).\nThank you for your reply.\n. ",
    "sheikhasadmuneer": "figured out the probem !! lol\n. Resolved , i was giving the binaries path wrong ! \n. @patkar  : Yes , but now i am not using FFMPEG via PHP CLASS , installed ffmpeg build on my ubuntu server . works perfect ! \n. ",
    "chyupa": "Hi,\nI fixed this.\nThe error comes when you try and autoload the service provider, but if you use as standalone it works.\nRegards!\n. ",
    "david-baghdasaryan": "Find solutions here > https://packagist.org/packages/php-ffmpeg/php-ffmpeg . ",
    "clagiordano": "Thank you for your answer, I know that method and I have used it with php shell exec functions.\nI hope it is implemented as a new feature in the future.\n. Best (and fast) way indeed is use concat demuxer but video parts must be much as possible similar in video format, audio frequency, and obviously codec otherwise the demuxer generate artefacts or unpredictable results.\nA useful trick is, as shown by documentation, a conversion to mpeg transport streams, only the container will be changed not the streams but simplifies final concat operation.\nI used this method in production system and works well.\nI hope it can be useful.\n. ",
    "saulporras": "like I said, \nI am new to composer so all I had to do after installations was adding this line:\nrequire DIR . '/vendor/autoload.php';\n. ",
    "adnnor": "I am also facing this error. File is missing vendor/autoload.php\n. ",
    "TheLuckyOne": "And don't miss:\nuse FFMpeg;\n. ",
    "thomas-hiron": "Sorry I had an older version of ffmpeg where these options were'nt available yet. My bad.\n. ",
    "shadrech": "Yh just came across the same thing. The $percentage emitted by PHP-FFMpeg is in relation to the duration of the final clipped video. For me my solution was similar:\n```\n//$clipDuration is how long the final video clip is. $mainDuration is the total duration of the main video you're clipping from. Basically we calculate the fraction the clipped video is in relation to the whole video and convert to a percentage (multiply by 100)\n$clipPercentage = floor(($clipDuration / $mainDuration) * 100);\n$format->on('progress', function($video, $format, $progress) use ($clipPercentage) {\n     // percentage emitted by $progress is in relation to the clipped video. So actual percentage\n     // of the progress of the clipped video is found by calculating the fraction of \n     // $progress in relation to the total $clipPercentage and converting to percentage again\n    $percentage = ($progress / $clipPercentage) * 100;\nevent(new TranscodeProgress($percentage));\n\n});\n```\nYou can ignore the code 'event(new Transcode...)'....laravel specific implementation there...\n. Done. Let me know if that will do @Romain. @Romain Let me know (I'm kinda new to open source contribution). What happens now? Do I have to pull in the branch I've made manually to access the new filter or will it be merged to the master branch? Thanks. ",
    "vibhavsinha": "Line 410 of ./README.md \nLink is http://readthedocs.org/docs/ffmpeg-php/en/latest/_static/API/\nBrowse the API\n. @romainneutron Please re-open this issue. Should I create a new issue?\n. ",
    "jack-theripper": "Maybe create another class (or namespace) with name \"Codec\" ? and delegate all logic with codecs, encoders and decoders.\nFor example:\n``` php\nclass Codec\n{\n/*\n * Get all the codecs on the operating system\n /\npublic function getAvailableCodecs();\n/*\n * Test on supported codec\n /\npublic function hasSupport($codec);\n/*\n * Test codec on support encoding\n /\npublic function hasSupportEncoding($codec);\n}\n```\nI think it is good the decision to carry out operation with codecs in a separate packet (or namespace).\n. ",
    "alexwybraniec": "@Romain Happy to write tests, but can you point me in the direction of some project specific documentation about doing so?. ",
    "travoliti": "Any updates on this?. @Romain \nThat worked, but it still seems odd to have to load the mp4 just to save as webm (like I do below), instead of just saving the gif as both.\n```\n$ffmpeg = \\FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('/tmp/giphy.gif');\n$video\n    ->save(new \\FFMpeg\\Format\\Video\\X264(), '/tmp/mp4.mp4');\n$video = $ffmpeg->open('/tmp/mp4.mp4');\n$video\n    ->save(new \\FFMpeg\\Format\\Video\\WebM(), '/tmp/webm.webm');\n```\n. I found that using VP9 to convert a GIF to a WEBM works, however, VP9 doesn't seem to work with this library:\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/269. @Romain \nHere's the output for ffmpeg -codecs:\n```\nffmpeg version 3.2.2 Copyright (c) 2000-2016 the FFmpeg developers\n  built with gcc 4.8 (Ubuntu 4.8.4-2ubuntu1~14.04.3)\n  configuration: --extra-libs=-ldl --prefix=/opt/ffmpeg --mandir=/usr/share/man --enable-avresample --disable-debug --enable-nonfree --enable-gpl --enable-version3 --enable-libopencore-amrnb --enable-libopencore-amrwb --disable-decoder=amrnb --disable-decoder=amrwb --enable-libpulse --enable-libfreetype --enable-gnutls --enable-libx264 --enable-libx265 --enable-libfdk-aac --enable-libvorbis --enable-libmp3lame --enable-libopus --enable-libvpx --enable-libspeex --enable-libass --enable-avisynth --enable-libsoxr --enable-libxvid --enable-libvidstab --enable-libwavpack --enable-nvenc\n  libavutil      55. 34.100 / 55. 34.100\n  libavcodec     57. 64.101 / 57. 64.101\n  libavformat    57. 56.100 / 57. 56.100\n  libavdevice    57.  1.100 / 57.  1.100\n  libavfilter     6. 65.100 /  6. 65.100\n  libavresample   3.  1.  0 /  3.  1.  0\n  libswscale      4.  2.100 /  4.  2.100\n  libswresample   2.  3.100 /  2.  3.100\n  libpostproc    54.  1.100 / 54.  1.100\nCodecs:\n D..... = Decoding supported\n .E.... = Encoding supported\n ..V... = Video codec\n ..A... = Audio codec\n ..S... = Subtitle codec\n ...I.. = Intra frame-only codec\n ....L. = Lossy compression\n .....S = Lossless compression\n\nD.VI.. 012v                 Uncompressed 4:2:2 10-bit\n D.V.L. 4xm                  4X Movie\n D.VI.S 8bps                 QuickTime 8BPS video\n .EVIL. a64_multi            Multicolor charset for Commodore 64 (encoders: a64multi )\n .EVIL. a64_multi5           Multicolor charset for Commodore 64, extended with 5th color (colram) (encoders: a64multi5 )\n D.V..S aasc                 Autodesk RLE\n D.VIL. aic                  Apple Intermediate Codec\n DEVI.S alias_pix            Alias/Wavefront PIX image\n DEVIL. amv                  AMV Video\n D.V.L. anm                  Deluxe Paint Animation\n D.V.L. ansi                 ASCII/ANSI art\n DEV..S apng                 APNG (Animated Portable Network Graphics) image\n DEVIL. asv1                 ASUS V1\n DEVIL. asv2                 ASUS V2\n D.VIL. aura                 Auravision AURA\n D.VIL. aura2                Auravision Aura 2\n D.V... avrn                 Avid AVI Codec\n DEVI.. avrp                 Avid 1:1 10-bit RGB Packer\n D.V.L. avs                  AVS (Audio Video Standard) video\n DEVI.. avui                 Avid Meridien Uncompressed\n DEVI.. ayuv                 Uncompressed packed MS 4:4:4:4\n D.V.L. bethsoftvid          Bethesda VID video\n D.V.L. bfi                  Brute Force & Ignorance\n D.V.L. binkvideo            Bink video\n D.VI.. bintext              Binary text\n DEVI.S bmp                  BMP (Windows and OS/2 bitmap)\n D.V..S bmv_video            Discworld II BMV video\n D.VI.S brender_pix          BRender PIX image\n D.V.L. c93                  Interplay C93\n D.V.L. cavs                 Chinese AVS (Audio Video Standard) (AVS1-P2, JiZhun profile)\n D.V.L. cdgraphics           CD Graphics video\n D.VIL. cdxl                 Commodore CDXL video\n D.V.L. cfhd                 Cineform HD\n DEV.L. cinepak              Cinepak\n DEVIL. cljr                 Cirrus Logic AccuPak\n D.VI.S cllc                 Canopus Lossless Codec\n D.V.L. cmv                  Electronic Arts CMV video (decoders: eacmv )\n D.V... cpia                 CPiA video format\n D.V..S cscd                 CamStudio (decoders: camstudio )\n D.VIL. cyuv                 Creative YUV (CYUV)\n ..V.LS daala                Daala\n D.VILS dds                  DirectDraw Surface image decoder\n D.V.L. dfa                  Chronomaster DFA\n DEV.LS dirac                Dirac (encoders: vc2 )\n DEVIL. dnxhd                VC3/DNxHD\n DEVI.S dpx                  DPX (Digital Picture Exchange) image\n D.V.L. dsicinvideo          Delphine Software International CIN video\n DEVIL. dvvideo              DV (Digital Video)\n D.V..S dxa                  Feeble Files/ScummVM DXA\n D.VI.S dxtory               Dxtory\n D.VIL. dxv                  Resolume DXV\n D.V.L. escape124            Escape 124\n D.V.L. escape130            Escape 130\n D.VILS exr                  OpenEXR image\n DEV..S ffv1                 FFmpeg video codec #1\n DEVI.S ffvhuff              Huffyuv FFmpeg variant\n D.V.L. fic                  Mirillis FIC\n DEV..S flashsv              Flash Screen Video v1\n DEV.L. flashsv2             Flash Screen Video v2\n D.V..S flic                 Autodesk Animator Flic video\n DEV.L. flv1                 FLV / Sorenson Spark / Sorenson H.263 (Flash Video) (decoders: flv ) (encoders: flv )\n D.V..S fraps                Fraps\n D.VI.S frwu                 Forward Uncompressed\n D.V.L. g2m                  Go2Meeting\n DEV..S gif                  GIF (Graphics Interchange Format)\n DEV.L. h261                 H.261\n DEV.L. h263                 H.263 / H.263-1996, H.263+ / H.263-1998 / H.263 version 2\n D.V.L. h263i                Intel H.263\n DEV.L. h263p                H.263+ / H.263-1998 / H.263 version 2\n DEV.LS h264                 H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10 (decoders: h264 h264_vdpau ) (encoders: libx264 libx264rgb h264_nvenc h264_vaapi nvenc nvenc_h264 )\n D.VIL. hap                  Vidvox Hap decoder\n DEV.L. hevc                 H.265 / HEVC (High Efficiency Video Coding) (encoders: libx265 nvenc_hevc hevc_nvenc )\n D.V.L. hnm4video            HNM 4 video\n D.VIL. hq_hqa               Canopus HQ/HQA\n D.VIL. hqx                  Canopus HQX\n DEVI.S huffyuv              HuffYUV\n D.V.L. idcin                id Quake II CIN video (decoders: idcinvideo )\n D.VI.. idf                  iCEDraw text\n D.V.L. iff_ilbm             IFF ACBM/ANIM/DEEP/ILBM/PBM/RGB8/RGBN (decoders: iff )\n D.V.L. indeo2               Intel Indeo 2\n D.V.L. indeo3               Intel Indeo 3\n D.V.L. indeo4               Intel Indeo Video Interactive 4\n D.V.L. indeo5               Intel Indeo Video Interactive 5\n D.V.L. interplayvideo       Interplay MVE video\n DEVILS jpeg2000             JPEG 2000\n DEVILS jpegls               JPEG-LS\n D.VIL. jv                   Bitmap Brothers JV video\n D.V.L. kgv1                 Kega Game Video\n D.V.L. kmvc                 Karl Morton's video codec\n D.VI.S lagarith             Lagarith lossless\n .EVI.S ljpeg                Lossless JPEG\n D.VI.S loco                 LOCO\n D.VI.S m101                 Matrox Uncompressed SD\n D.V.L. mad                  Electronic Arts Madcow Video (decoders: eamad )\n D.VI.S magicyuv             MagicYUV video\n D.VIL. mdec                 Sony PlayStation MDEC (Motion DECoder)\n D.V.L. mimic                Mimic\n DEVIL. mjpeg                Motion JPEG\n D.VIL. mjpegb               Apple MJPEG-B\n D.V.L. mmvideo              American Laser Games MM Video\n D.V.L. motionpixels         Motion Pixels video\n DEV.L. mpeg1video           MPEG-1 video (decoders: mpeg1video mpeg1video_vdpau )\n DEV.L. mpeg2video           MPEG-2 video (decoders: mpeg2video mpegvideo mpegvideo_vdpau )\n DEV.L. mpeg4                MPEG-4 part 2 (decoders: mpeg4 mpeg4_vdpau ) (encoders: mpeg4 libxvid )\n D.V.L. mpegvideo_xvmc       MPEG-1/2 video XvMC (X-Video Motion Compensation)\n D.V.L. msa1                 MS ATC Screen\n D.V.L. msmpeg4v1            MPEG-4 part 2 Microsoft variant version 1\n DEV.L. msmpeg4v2            MPEG-4 part 2 Microsoft variant version 2\n DEV.L. msmpeg4v3            MPEG-4 part 2 Microsoft variant version 3 (decoders: msmpeg4 ) (encoders: msmpeg4 )\n D.V..S msrle                Microsoft RLE\n D.V.L. mss1                 MS Screen 1\n D.VIL. mss2                 MS Windows Media Video V9 Screen\n DEV.L. msvideo1             Microsoft Video 1\n D.VI.S mszh                 LCL (LossLess Codec Library) MSZH\n D.V.L. mts2                 MS Expression Encoder Screen\n D.VIL. mvc1                 Silicon Graphics Motion Video Compressor 1\n D.VIL. mvc2                 Silicon Graphics Motion Video Compressor 2\n D.V.L. mxpeg                Mobotix MxPEG video\n D.V.L. nuv                  NuppelVideo/RTJPEG\n D.V.L. paf_video            Amazing Studio Packed Animation File Video\n DEVI.S pam                  PAM (Portable AnyMap) image\n DEVI.S pbm                  PBM (Portable BitMap) image\n DEVI.S pcx                  PC Paintbrush PCX image\n DEVI.S pgm                  PGM (Portable GrayMap) image\n DEVI.S pgmyuv               PGMYUV (Portable GrayMap YUV) image\n D.VIL. pictor               Pictor/PC Paint\n DEV..S png                  PNG (Portable Network Graphics) image\n DEVI.S ppm                  PPM (Portable PixelMap) image\n DEVIL. prores               Apple ProRes (iCodec Pro) (decoders: prores prores_lgpl ) (encoders: prores prores_aw prores_ks )\n D.VIL. ptx                  V.Flash PTX image\n D.VI.S qdraw                Apple QuickDraw\n D.V.L. qpeg                 Q-team QPEG\n DEV..S qtrle                QuickTime Animation (RLE) video\n DEVI.S r10k                 AJA Kona 10-bit RGB Codec\n DEVI.S r210                 Uncompressed RGB 10-bit\n DEVI.S rawvideo             raw video\n D.VIL. rl2                  RL2 video\n DEV.L. roq                  id RoQ video (decoders: roqvideo ) (encoders: roqvideo )\n D.V.L. rpza                 QuickTime video (RPZA)\n D.V..S rscc                 innoHeim/Rsupport Screen Capture Codec\n DEV.L. rv10                 RealVideo 1.0\n DEV.L. rv20                 RealVideo 2.0\n D.V.L. rv30                 RealVideo 3.0\n D.V.L. rv40                 RealVideo 4.0\n D.V.L. sanm                 LucasArts SANM/SMUSH video\n D.V..S screenpresso         Screenpresso\n DEVI.S sgi                  SGI image\n D.VI.S sgirle               SGI RLE 8-bit\n D.VI.S sheervideo           BitJazz SheerVideo\n D.V.L. smackvideo           Smacker video (decoders: smackvid )\n D.V.L. smc                  QuickTime Graphics (SMC)\n D.V... smvjpeg              Sigmatel Motion Video\n DEV.LS snow                 Snow\n D.VIL. sp5x                 Sunplus JPEG (SP5X)\n DEVI.S sunrast              Sun Rasterfile image\n DEV.L. svq1                 Sorenson Vector Quantizer 1 / Sorenson Video 1 / SVQ1\n D.V.L. svq3                 Sorenson Vector Quantizer 3 / Sorenson Video 3 / SVQ3\n DEVI.S targa                Truevision Targa image\n D.VI.. targa_y216           Pinnacle TARGA CineWave YUV16\n D.V.L. tdsc                 TDSC\n D.V.L. tgq                  Electronic Arts TGQ video (decoders: eatgq )\n D.V.L. tgv                  Electronic Arts TGV video (decoders: eatgv )\n D.V.L. theora               Theora\n D.VIL. thp                  Nintendo Gamecube THP video\n D.V.L. tiertexseqvideo      Tiertex Limited SEQ video\n DEVI.S tiff                 TIFF image\n D.VIL. tmv                  8088flex TMV\n D.V.L. tqi                  Electronic Arts TQI video (decoders: eatqi )\n D.V.L. truemotion1          Duck TrueMotion 1.0\n D.V.L. truemotion2          Duck TrueMotion 2.0\n D.V.L. truemotion2rt        Duck TrueMotion 2.0 Real Time\n D.V..S tscc                 TechSmith Screen Capture Codec (decoders: camtasia )\n D.V.L. tscc2                TechSmith Screen Codec 2\n D.VIL. txd                  Renderware TXD (TeXture Dictionary) image\n D.V.L. ulti                 IBM UltiMotion (decoders: ultimotion )\n DEVI.S utvideo              Ut Video\n DEVI.S v210                 Uncompressed 4:2:2 10-bit\n D.VI.S v210x                Uncompressed 4:2:2 10-bit\n DEVI.. v308                 Uncompressed packed 4:4:4\n DEVI.. v408                 Uncompressed packed QT 4:4:4:4\n DEVI.S v410                 Uncompressed 4:4:4 10-bit\n D.V.L. vb                   Beam Software VB\n D.VI.S vble                 VBLE Lossless Codec\n D.V.L. vc1                  SMPTE VC-1 (decoders: vc1 vc1_vdpau )\n D.V.L. vc1image             Windows Media Video 9 Image v2\n D.VIL. vcr1                 ATI VCR1\n D.VIL. vixl                 Miro VideoXL (decoders: xl )\n D.V.L. vmdvideo             Sierra VMD video\n D.V..S vmnc                 VMware Screen Codec / VMware Video\n D.V.L. vp3                  On2 VP3\n D.V.L. vp5                  On2 VP5\n D.V.L. vp6                  On2 VP6\n D.V.L. vp6a                 On2 VP6 (Flash version, with alpha channel)\n D.V.L. vp6f                 On2 VP6 (Flash version)\n D.V.L. vp7                  On2 VP7\n DEV.L. vp8                  On2 VP8 (decoders: vp8 libvpx ) (encoders: libvpx )\n DEV.L. vp9                  Google VP9 (decoders: vp9 libvpx-vp9 ) (encoders: libvpx-vp9 )\n D.VILS webp                 WebP\n DEV.L. wmv1                 Windows Media Video 7\n DEV.L. wmv2                 Windows Media Video 8\n D.V.L. wmv3                 Windows Media Video 9 (decoders: wmv3 wmv3_vdpau )\n D.V.L. wmv3image            Windows Media Video 9 Image\n D.VIL. wnv1                 Winnov WNV1\n .EV..S wrapped_avframe      AVFrame to AVPacket passthrough\n D.V.L. ws_vqa               Westwood Studios VQA (Vector Quantized Animation) video (decoders: vqavideo )\n D.V.L. xan_wc3              Wing Commander III / Xan\n D.V.L. xan_wc4              Wing Commander IV / Xxan\n D.VI.. xbin                 eXtended BINary text\n DEVI.S xbm                  XBM (X BitMap) image\n DEVIL. xface                X-face image\n DEVI.S xwd                  XWD (X Window Dump) image\n DEVI.. y41p                 Uncompressed YUV 4:1:1 12-bit\n D.VI.S ylc                  YUY2 Lossless Codec\n D.V.L. yop                  Psygnosis YOP Video\n DEVI.. yuv4                 Uncompressed packed 4:2:0\n D.V..S zerocodec            ZeroCodec Lossless Video\n DEVI.S zlib                 LCL (LossLess Codec Library) ZLIB\n DEV..S zmbv                 Zip Motion Blocks Video\n ..A.L. 4gv                  4GV (Fourth Generation Vocoder)\n D.A.L. 8svx_exp             8SVX exponential\n D.A.L. 8svx_fib             8SVX fibonacci\n DEA.L. aac                  AAC (Advanced Audio Coding) (decoders: aac aac_fixed libfdk_aac ) (encoders: aac libfdk_aac )\n D.A.L. aac_latm             AAC LATM (Advanced Audio Coding LATM syntax)\n DEA.L. ac3                  ATSC A/52A (AC-3) (decoders: ac3 ac3_fixed ) (encoders: ac3 ac3_fixed )\n D.A.L. adpcm_4xm            ADPCM 4X Movie\n DEA.L. adpcm_adx            SEGA CRI ADX ADPCM\n D.A.L. adpcm_afc            ADPCM Nintendo Gamecube AFC\n D.A.L. adpcm_aica           ADPCM Yamaha AICA\n D.A.L. adpcm_ct             ADPCM Creative Technology\n D.A.L. adpcm_dtk            ADPCM Nintendo Gamecube DTK\n D.A.L. adpcm_ea             ADPCM Electronic Arts\n D.A.L. adpcm_ea_maxis_xa    ADPCM Electronic Arts Maxis CDROM XA\n D.A.L. adpcm_ea_r1          ADPCM Electronic Arts R1\n D.A.L. adpcm_ea_r2          ADPCM Electronic Arts R2\n D.A.L. adpcm_ea_r3          ADPCM Electronic Arts R3\n D.A.L. adpcm_ea_xas         ADPCM Electronic Arts XAS\n DEA.L. adpcm_g722           G.722 ADPCM (decoders: g722 ) (encoders: g722 )\n DEA.L. adpcm_g726           G.726 ADPCM (decoders: g726 ) (encoders: g726 )\n D.A.L. adpcm_g726le         G.726 ADPCM little-endian (decoders: g726le )\n D.A.L. adpcm_ima_amv        ADPCM IMA AMV\n D.A.L. adpcm_ima_apc        ADPCM IMA CRYO APC\n D.A.L. adpcm_ima_dat4       ADPCM IMA Eurocom DAT4\n D.A.L. adpcm_ima_dk3        ADPCM IMA Duck DK3\n D.A.L. adpcm_ima_dk4        ADPCM IMA Duck DK4\n D.A.L. adpcm_ima_ea_eacs    ADPCM IMA Electronic Arts EACS\n D.A.L. adpcm_ima_ea_sead    ADPCM IMA Electronic Arts SEAD\n D.A.L. adpcm_ima_iss        ADPCM IMA Funcom ISS\n D.A.L. adpcm_ima_oki        ADPCM IMA Dialogic OKI\n DEA.L. adpcm_ima_qt         ADPCM IMA QuickTime\n D.A.L. adpcm_ima_rad        ADPCM IMA Radical\n D.A.L. adpcm_ima_smjpeg     ADPCM IMA Loki SDL MJPEG\n DEA.L. adpcm_ima_wav        ADPCM IMA WAV\n D.A.L. adpcm_ima_ws         ADPCM IMA Westwood\n DEA.L. adpcm_ms             ADPCM Microsoft\n D.A.L. adpcm_mtaf           ADPCM MTAF\n D.A.L. adpcm_psx            ADPCM Playstation\n D.A.L. adpcm_sbpro_2        ADPCM Sound Blaster Pro 2-bit\n D.A.L. adpcm_sbpro_3        ADPCM Sound Blaster Pro 2.6-bit\n D.A.L. adpcm_sbpro_4        ADPCM Sound Blaster Pro 4-bit\n DEA.L. adpcm_swf            ADPCM Shockwave Flash\n D.A.L. adpcm_thp            ADPCM Nintendo THP\n D.A.L. adpcm_thp_le         ADPCM Nintendo THP (Little-Endian)\n D.A.L. adpcm_vima           LucasArts VIMA audio\n D.A.L. adpcm_xa             ADPCM CDROM XA\n DEA.L. adpcm_yamaha         ADPCM Yamaha\n DEA..S alac                 ALAC (Apple Lossless Audio Codec)\n DEA.L. amr_nb               AMR-NB (Adaptive Multi-Rate NarrowBand) (decoders: libopencore_amrnb ) (encoders: libopencore_amrnb )\n D.A.L. amr_wb               AMR-WB (Adaptive Multi-Rate WideBand) (decoders: libopencore_amrwb )\n D.A..S ape                  Monkey's Audio\n D.A.L. atrac1               ATRAC1 (Adaptive TRansform Acoustic Coding)\n D.A.L. atrac3               ATRAC3 (Adaptive TRansform Acoustic Coding 3)\n D.A.L. atrac3p              ATRAC3+ (Adaptive TRansform Acoustic Coding 3+) (decoders: atrac3plus )\n D.A.L. avc                  On2 Audio for Video Codec (decoders: on2avc )\n D.A.L. binkaudio_dct        Bink Audio (DCT)\n D.A.L. binkaudio_rdft       Bink Audio (RDFT)\n D.A.L. bmv_audio            Discworld II BMV audio\n ..A.L. celt                 Constrained Energy Lapped Transform (CELT)\n DEA.L. comfortnoise         RFC 3389 Comfort Noise\n D.A.L. cook                 Cook / Cooker / Gecko (RealAudio G2)\n D.A.L. dsd_lsbf             DSD (Direct Stream Digital), least significant bit first\n D.A.L. dsd_lsbf_planar      DSD (Direct Stream Digital), least significant bit first, planar\n D.A.L. dsd_msbf             DSD (Direct Stream Digital), most significant bit first\n D.A.L. dsd_msbf_planar      DSD (Direct Stream Digital), most significant bit first, planar\n D.A.L. dsicinaudio          Delphine Software International CIN audio\n D.A.L. dss_sp               Digital Speech Standard - Standard Play mode (DSS SP)\n D.A..S dst                  DST (Direct Stream Transfer)\n DEA.LS dts                  DCA (DTS Coherent Acoustics) (decoders: dca ) (encoders: dca )\n D.A.L. dvaudio              DV audio\n DEA.L. eac3                 ATSC A/52B (AC-3, E-AC-3)\n D.A.L. evrc                 EVRC (Enhanced Variable Rate Codec)\n DEA..S flac                 FLAC (Free Lossless Audio Codec)\n DEA.L. g723_1               G.723.1\n D.A.L. g729                 G.729\n D.A.L. gsm                  GSM\n D.A.L. gsm_ms               GSM Microsoft variant\n D.A.L. iac                  IAC (Indeo Audio Coder)\n ..A.L. ilbc                 iLBC (Internet Low Bitrate Codec)\n D.A.L. imc                  IMC (Intel Music Coder)\n D.A.L. interplay_dpcm       DPCM Interplay\n D.A.L. interplayacm         Interplay ACM\n D.A.L. mace3                MACE (Macintosh Audio Compression/Expansion) 3:1\n D.A.L. mace6                MACE (Macintosh Audio Compression/Expansion) 6:1\n D.A.L. metasound            Voxware MetaSound\n DEA..S mlp                  MLP (Meridian Lossless Packing)\n D.A.L. mp1                  MP1 (MPEG audio layer 1) (decoders: mp1 mp1float )\n DEA.L. mp2                  MP2 (MPEG audio layer 2) (decoders: mp2 mp2float ) (encoders: mp2 mp2fixed )\n DEA.L. mp3                  MP3 (MPEG audio layer 3) (decoders: mp3 mp3float ) (encoders: libmp3lame )\n D.A.L. mp3adu               ADU (Application Data Unit) MP3 (MPEG audio layer 3) (decoders: mp3adu mp3adufloat )\n D.A.L. mp3on4               MP3onMP4 (decoders: mp3on4 mp3on4float )\n D.A..S mp4als               MPEG-4 Audio Lossless Coding (ALS) (decoders: als )\n D.A.L. musepack7            Musepack SV7 (decoders: mpc7 )\n D.A.L. musepack8            Musepack SV8 (decoders: mpc8 )\n DEA.L. nellymoser           Nellymoser Asao\n DEA.L. opus                 Opus (Opus Interactive Audio Codec) (decoders: opus libopus ) (encoders: libopus )\n D.A.L. paf_audio            Amazing Studio Packed Animation File Audio\n DEA.L. pcm_alaw             PCM A-law / G.711 A-law\n D.A..S pcm_bluray           PCM signed 16|20|24-bit big-endian for Blu-ray media\n D.A..S pcm_dvd              PCM signed 20|24-bit big-endian\n DEA..S pcm_f32be            PCM 32-bit floating point big-endian\n DEA..S pcm_f32le            PCM 32-bit floating point little-endian\n DEA..S pcm_f64be            PCM 64-bit floating point big-endian\n DEA..S pcm_f64le            PCM 64-bit floating point little-endian\n D.A..S pcm_lxf              PCM signed 20-bit little-endian planar\n DEA.L. pcm_mulaw            PCM mu-law / G.711 mu-law\n DEA..S pcm_s16be            PCM signed 16-bit big-endian\n DEA..S pcm_s16be_planar     PCM signed 16-bit big-endian planar\n DEA..S pcm_s16le            PCM signed 16-bit little-endian\n DEA..S pcm_s16le_planar     PCM signed 16-bit little-endian planar\n DEA..S pcm_s24be            PCM signed 24-bit big-endian\n DEA..S pcm_s24daud          PCM D-Cinema audio signed 24-bit\n DEA..S pcm_s24le            PCM signed 24-bit little-endian\n DEA..S pcm_s24le_planar     PCM signed 24-bit little-endian planar\n DEA..S pcm_s32be            PCM signed 32-bit big-endian\n DEA..S pcm_s32le            PCM signed 32-bit little-endian\n DEA..S pcm_s32le_planar     PCM signed 32-bit little-endian planar\n DEA..S pcm_s64be            PCM signed 64-bit big-endian\n DEA..S pcm_s64le            PCM signed 64-bit little-endian\n DEA..S pcm_s8               PCM signed 8-bit\n DEA..S pcm_s8_planar        PCM signed 8-bit planar\n DEA..S pcm_u16be            PCM unsigned 16-bit big-endian\n DEA..S pcm_u16le            PCM unsigned 16-bit little-endian\n DEA..S pcm_u24be            PCM unsigned 24-bit big-endian\n DEA..S pcm_u24le            PCM unsigned 24-bit little-endian\n DEA..S pcm_u32be            PCM unsigned 32-bit big-endian\n DEA..S pcm_u32le            PCM unsigned 32-bit little-endian\n DEA..S pcm_u8               PCM unsigned 8-bit\n D.A.L. pcm_zork             PCM Zork\n D.A.L. qcelp                QCELP / PureVoice\n D.A.L. qdm2                 QDesign Music Codec 2\n ..A.L. qdmc                 QDesign Music\n DEA.L. ra_144               RealAudio 1.0 (14.4K) (decoders: real_144 ) (encoders: real_144 )\n D.A.L. ra_288               RealAudio 2.0 (28.8K) (decoders: real_288 )\n D.A..S ralf                 RealAudio Lossless\n DEA.L. roq_dpcm             DPCM id RoQ\n DEA..S s302m                SMPTE 302M\n D.A.L. sdx2_dpcm            DPCM Squareroot-Delta-Exact\n D.A..S shorten              Shorten\n D.A.L. sipr                 RealAudio SIPR / ACELP.NET\n D.A.L. smackaudio           Smacker audio (decoders: smackaud )\n ..A.L. smv                  SMV (Selectable Mode Vocoder)\n D.A.L. sol_dpcm             DPCM Sol\n DEA... sonic                Sonic\n .EA... sonicls              Sonic lossless\n DEA.L. speex                Speex (decoders: libspeex ) (encoders: libspeex )\n D.A..S tak                  TAK (Tom's lossless Audio Kompressor)\n DEA..S truehd               TrueHD\n D.A.L. truespeech           DSP Group TrueSpeech\n DEA..S tta                  TTA (True Audio)\n D.A.L. twinvq               VQF TwinVQ\n D.A.L. vmdaudio             Sierra VMD audio\n DEA.L. vorbis               Vorbis (decoders: vorbis libvorbis ) (encoders: vorbis libvorbis )\n ..A.L. voxware              Voxware RT29 Metasound\n D.A... wavesynth            Wave synthesis pseudo-codec\n DEA.LS wavpack              WavPack (encoders: wavpack libwavpack )\n D.A.L. westwood_snd1        Westwood Audio (SND1) (decoders: ws_snd1 )\n D.A..S wmalossless          Windows Media Audio Lossless\n D.A.L. wmapro               Windows Media Audio 9 Professional\n DEA.L. wmav1                Windows Media Audio 1\n DEA.L. wmav2                Windows Media Audio 2\n D.A.L. wmavoice             Windows Media Audio Voice\n D.A.L. xan_dpcm             DPCM Xan\n D.A.L. xma1                 Xbox Media Audio 1\n D.A.L. xma2                 Xbox Media Audio 2\n ..D... bin_data             binary data\n ..D... dvd_nav_packet       DVD Nav packet\n ..D... klv                  SMPTE 336M Key-Length-Value (KLV) metadata\n ..D... otf                  OpenType font\n ..D... scte_35              SCTE 35 Message Queue\n ..D... timed_id3            timed ID3 metadata\n ..D... ttf                  TrueType font\n DES... ass                  ASS (Advanced SSA) subtitle (decoders: ssa ass ) (encoders: ssa ass )\n DES... dvb_subtitle         DVB subtitles (decoders: dvbsub ) (encoders: dvbsub )\n ..S... dvb_teletext         DVB teletext\n DES... dvd_subtitle         DVD subtitles (decoders: dvdsub ) (encoders: dvdsub )\n D.S... eia_608              EIA-608 closed captions (decoders: cc_dec )\n D.S... hdmv_pgs_subtitle    HDMV Presentation Graphic Stream subtitles (decoders: pgssub )\n ..S... hdmv_text_subtitle   HDMV Text subtitle\n D.S... jacosub              JACOsub subtitle\n D.S... microdvd             MicroDVD subtitle\n DES... mov_text             MOV text\n D.S... mpl2                 MPL2 subtitle\n D.S... pjs                  PJS (Phoenix Japanimation Society) subtitle\n D.S... realtext             RealText subtitle\n D.S... sami                 SAMI subtitle\n ..S... srt                  SubRip subtitle with embedded timing\n ..S... ssa                  SSA (SubStation Alpha) subtitle\n D.S... stl                  Spruce subtitle format\n DES... subrip               SubRip subtitle (decoders: srt subrip ) (encoders: srt subrip )\n D.S... subviewer            SubViewer subtitle\n D.S... subviewer1           SubViewer v1 subtitle\n DES... text                 raw UTF-8 text\n D.S... vplayer              VPlayer subtitle\n DES... webvtt               WebVTT subtitle\n DES... xsub                 XSUB\n```\nHere's the output with getAvailableVideoCodecs():\n```\nFFMpeg\\Format\\Video\\WebM Object\n(\n    [videoCodec:protected] => libvpx\n    [kiloBitrate:protected] => 1000\n    [modulus:protected] => 16\n    [audioCodec:protected] => libvorbis\n    [audioKiloBitrate:protected] => 128\n    [audioChannels:protected] => \n    [listeners:protected] => Array\n        (\n        )\n)\n```. Any updates on this?. @astierler \nJust tried your suggestion. It worked!\nNow just need to merge this fix. @Romain . ",
    "quentint": "Hi, I'm trying to use the watermark filter but can't make it work. Any help would be appreciated!\n. Hey, thanks very much!\nI just realized my code was breaking because of the way Windows handles files paths.\nI was using something like this: D:/path/to/file.png, where I had to use /path/to/file.png\nAll good now!\n. ",
    "huemane": "Thank You seblavoie!\nIve been pulling my hair out over \" the way Windows handles files paths.\"\nFinally got round it by simply removing the \"C:\"\nWho would have known, no error messages gave any insight to this!. What i was hoping to find out is how can i get process.txt written directly to a txt file by ffmpeg?\nIn CLI mode they use the following:\nffmpeg -i \".$image.\" -i \".$music.\" video.avi **1> progress.txt**\nBut I am using thea different php coding method as follows:\n    ```\n$video = $ffmpeg->open($thevideo); // \"path/to/video.mov\"\n$video\n  ->filters()\n  ->resize(new \\FFMpeg\\Coordinate\\Dimension(640, 360))\n  ->synchronize();\n\n        $format = new \\FFMpeg\\Format\\Video\\X264();\n        $format->on('progress', function ($video, $format, $percentage) {\n            $pc = \"$percentage\";\n            file_put_contents('progress.txt', $pc);\n        });\n\n        $video->save($format, $newvideo);\n\n```\nAny ideas?. > What do you actually want to achieve? You may need to say more about what you want to achieve, not how.\nI'm giving the user progress feedback during conversion. It works the way i'm doing it but it's slow.\nIt seems that FFMPEG has internal coding to write the progress to a file, I'm hoping that is faster.\nHence I'm trying to find out how i can implement it with my code.\nI've seen different methods but they all seem to be for CLI mode or when executing a direct command.... Oh, I thought perhaps FFmpeg's built in method was probably faster.\nNevermind, thanks for the info!. ",
    "Prometee": "I make a workaround to kill the process : \nphp\n//Retrive the PID of the current symfony task\n//My project store this pid in a database\n$pid = getmypid();\nTo kill the task and all children processes : \nphp\npublic function recursiveKill($pid) {\n    $child_pid_list = array();\n    exec('pgrep -P '.$pid, $child_pid_list);\n    foreach ($child_pid_list as $child_pid) {\n        if (preg_match('#[0-9]+#', $child_pid)) {\n            $this->recursiveKill($child_pid);\n        }\n    }\n    exec('kill -9 '.$pid);\n}\nSo if avconv or ffmpeg is currently running in a php cli task, it will be killed by : \nphp\n$my_class->recursiveKill(1234);\n. ",
    "shellus": "I need this to implement the pause and resume system process function.. ",
    "illmatic": "This particular command takes a video then does the following actions\n- starting after the .25 second mark\n- scales the video down to width x heigh spec\n- creates a 2x2 thumbnail preview\n- stops after the 4th frame\n- creates 1 files called preview.png\n. Hi Romain,\nSorry, I haven't had a chance. Since my initial request I just run a shell\ncommand directly to ffmpeg.\nOn Thu, Dec 15, 2016 at 1:47 PM, Romain Biard notifications@github.com\nwrote:\n\nHi @illmatic https://github.com/illmatic,\nHave you managed to try the code I sent to you?\nIs this issue still valid?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/219#issuecomment-267408066,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADwK-QqxtuEusYKs43eAJ0erWUJIJeRpks5rIYtJgaJpZM4ILSgn\n.\n. \n",
    "abdullahtekin": "I mean every seconds extract frames\nexec('/usr/local/bin/ffmpeg -i \"video.mp4\" -vf fps=1/60 capture/img%03d.jpg');\n@seblavoie @patkar \n. ",
    "ettoredn": "Any updates?\n. ",
    "Spharian": "Hi,\nAny news on this? Just made the same change on my fork. Useful when using FFmpeg 3 and newer.. ",
    "Edvardas-idea": "no, i only have the line at which it brakes vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Media/Frame.php:119\n. ",
    "lumilo8": "Hi, i have the same error, here is the trace:\n\nIf i execute the same command in terminal, it works fine\nThanks!\n. I've found the problem, the destination folder had not permissions for www-data user\n. ",
    "wiktordev": "hi @shillo92 \nI got the same error.\nI resolved it in below code.\n$video->save(new FFMpeg\\Format\\Video\\X264('libmp3lame', 'libx264'), 'clip1.mp4');\nPlease consider this url:\nhttp://stackoverflow.com/questions/29253498/php-ffmpeg-unknown-encoder-libfaac-on-windows\n. ",
    "jesus143": "Hi,\nI know this is a long time ago, but in case somebody encounters the same issue. \nInstead of using \n `$ffmpegVideo->save(new X264(), 'video_1.mp4');`\n\nI used either of the 2 and it works.\n`$ffmpegVideo->save(new FFMpeg\\Format\\Video\\WMV(), 'video_1.wmv');`\n\nor\n\n`$ffmpegVideo->save(new FFMpeg\\Format\\Video\\WebM(), 'video_1.webm');`\n\nHope this helps someone.\nCheers! \nJesus\nhttp://jesuserwinsuarez.com\n. ",
    "GuillaumeVerdon": "Hello @OliverTempel \nI had the same problem with european accent.\nThe issue was due to the use of the primitive function escapeshellarg() into the process builder of Symfony. This function will delete every non-ascii chars if the locale LC_CTYPE is not set as UTF-8\nI did a pull request here that resolve the issue on linux : https://github.com/symfony/symfony/pull/21485#event-946454196\nAnyway, a workaround is to use the function setlocale(LC_CTYPE, \"en_US.UTF-8\") before calling the save() method\nLet me know if it worked. Hello all,\nMaybe an answer here : \nhttp://stackoverflow.com/questions/25559917/ffmpeg-error-when-using-non-root-user. Yep you're right, creating a new method add a lot of code redundancy\nI merged the two logics and the tests, it should be better now.. Is everything ok from your side to release now ?. Hi @Romain !\nCould you let me know when you think it will be merged ?\nI need this feature in a personal project :+1: . ",
    "schmanat": "Could you post the ffmpeg command to do that? I think so its easier to realize your feature.\n. +1\n. It is realy a issue with this library? What did the Server Log says?. If you don't know where the binaries are located type the following in your terminal:\nwhich ffmpeg\nwhich ffprobe\n\nthis should show your the full path of your binaries.. ",
    "jojotjebaby": "I use this little bit to scale down the size of my video. For exemple to downscale a video to 405:320 and add the black bars to the top and bottom or left and right.\n-vf \"scale=iw*min(405/iw\\,320/ih):ih*min(405/iw\\,320/ih),pad=405:320:(405-iw)/2:(320-ih)/2\"\nyou defined the max width and max height in your original question\nmax_width     = 405\nmax_height    = 320\nfirst, scale the image to fit along one dimension\nscale         = min(max_width/input_width, max_height/input_height)\nscaled_width  = input_width  * scale\nscaled_height = input_height * scale\nthen, position the image on the padded background\npadding_ofs_x = (max_width  - input_width) / 2\npadding_ofs_y = (max_height - input_height) / 2\nThe target height and width are given by the user. I think this would be pretty helpful to implement it. I will look if I can make it work.\nSource: ffmpeg on Stackoverflow\n. ",
    "Niruyi": "Sorry, latest pull request not seen\n. ",
    "hernandev": "@Niruyi it looks like still not merged or something, do you know why not ? i'm currently doing a fork in order to keep up with that, libfaac is not compiled by default on most systems\n. ",
    "ceefour": "See also #367.. ",
    "Ninos": "Same problem here. Just can convert to webm. x264 lib is installed.\nSystem: Debian Jessie arm64\nffmpeg -version\nffmpeg version 3.0.2-4~bpo8+1 Copyright (c) 2000-2016 the FFmpeg developers\nbuilt with gcc 4.9.2 (Debian 4.9.2-10)\nconfiguration: --prefix=/usr --extra-version='4~bpo8+1' --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --cc=cc --cxx=g++ --enable-gpl --enable-shared --disable-stripping --disable-decoder=libopenjpeg --disable-decoder=libschroedinger --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmodplug --enable-libmp3lame --enable-libopenjpeg --enable-libopus --enable-libpulse --enable-librubberband --enable-librtmp --enable-libschroedinger --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxvid --enable-libzvbi --enable-openal --enable-opengl --enable-x11grab --enable-libdc1394 --enable-libiec61883 --enable-libzmq --enable-frei0r --enable-chromaprint --enable-libx264\nlibavutil      55. 17.103 / 55. 17.103\nlibavcodec     57. 24.102 / 57. 24.102\nlibavformat    57. 25.100 / 57. 25.100\nlibavdevice    57.  0.101 / 57.  0.101\nlibavfilter     6. 31.100 /  6. 31.100\nlibavresample   3.  0.  0 /  3.  0.  0\nlibswscale      4.  0.100 /  4.  0.100\nlibswresample   2.  0.101 /  2.  0.101\nlibpostproc    54.  0.100 / 54.  0.100\n. Problem solved by installing newer libraries from multimedia rep. About the frame images bug I've created a new issue:\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/235\n. I just installed latest packages on my debian jessie machine to get my problem fixed. Thx for the changes. Is it possible to create a PR for that? :). I'm using following version:\nffmpeg version 3.1.1 Copyright (c) 2000-2016 the FFmpeg developers\n  built with gcc 4.9.2 (Debian 4.9.2-10)\n  configuration: --enable-gpl --enable-postproc --enable-swscale --enable-avfilter --enable-libmp3lame --enable-libvorbis --enable-libtheora --enable-libx264 --enable-libspeex --enable-shared --enable-pthreads --enable-libopenjpeg --enable-libfaac --enable-nonfree\n  libavutil      55. 28.100 / 55. 28.100\n  libavcodec     57. 48.101 / 57. 48.101\n  libavformat    57. 41.100 / 57. 41.100\n  libavdevice    57.  0.101 / 57.  0.101\n  libavfilter     6. 47.100 /  6. 47.100\n  libswscale      4.  1.100 /  4.  1.100\n  libswresample   2.  1.100 /  2.  1.100\n  libpostproc    54.  0.100 / 54.  0.100\nUsing this version I only have following issue with mkv's:\n235. Sure\n$ffmpeg->getFFMpegDriver()->listen( new \\Alchemy\\BinaryDriver\\Listeners\\DebugListener() );\n$ffmpeg->getFFMpegDriver()->on( 'debug', function ( $message ) {\n    echo \"<pre>\";\n    echo $message . \"\\n\";\n} );\n. Any news about that? :)\n. @Romain still not :/. ",
    "Sensetivity": "MP4 - video.\nM3U8 - playlist.\nHow you imagine it?\n. Download ffmpeg zipball, for comfort unpack it to domain folder and then run for example as \"C;/wamp/your-silte.loc/binaries/ffmpeg\" - some - command - here.. ",
    "eliogsolis": "Nvm i fix my problem downloading ffmpeg.dll \n. ",
    "sethtroisi": "I am having a similar problem where I get all black frames then saving frames from any MKV.\nI can post debug info if it will help.. Using ffprobe from commandline\nffprobe version git-2017-01-01-68cdeb0 Copyright (c) 2007-2016 the FFmpeg developers\n  built with gcc 4.9.2 (Raspbian 4.9.2-10)\n  configuration: --arch=armel --target-os=linux --enable-gpl --enable-libx264 --enable-nonfree\n  libavutil      55. 43.100 / 55. 43.100\n  libavcodec     57. 70.101 / 57. 70.101\n  libavformat    57. 61.100 / 57. 61.100\n  libavdevice    57.  2.100 / 57.  2.100\n  libavfilter     6. 68.100 /  6. 68.100\n  libswscale      4.  3.101 /  4.  3.101\n  libswresample   2.  4.100 /  2.  4.100\n  libpostproc    54.  2.100 / 54.  2.100\nInput #0, matroska,webm, from '.mkv':\n  Metadata:\n    encoder         : libebml v0.7.8 + libmatroska v0.8.1\n    creation_time   : 2009-10-24T21:08:20.000000Z\n  Duration: 01:34:55.40, start: 0.024000, bitrate: 1173 kb/s\n    Stream #0:0: Video: mpeg4 (Advanced Simple Profile) (XVID / 0x44495658), yuv420p, 608x352 [SAR 1:1 DAR 19:11], 25 fps, 25 tbr, 1k tbn, 25 tbc (default)\n    Stream #0:1: Audio: ac3, 48000 Hz, 5.1(side), fltp, 384 kb/s (default)\nbut \n$ffprobe->streams($path)->videos()->first()->get('duration');\nis returning 0;. When I iterate over the keys in the first video stream I get\nkey: index = 0\nkey: codec_name = mpeg4\nkey: codec_long_name = MPEG-4 part 2\nkey: codec_type = video\nkey: codec_time_base = 1/25\nkey: codec_tag_string = XVID\nkey: codec_tag = 0x44495658\nkey: profile = Advanced Simple Profile\nkey: width = 608\nkey: height = 352\nkey: has_b_frames = 1\nkey: sample_aspect_ratio = 1:1\nkey: display_aspect_ratio = 19:11\nkey: pix_fmt = yuv420p\nkey: level = 5\nkey: avg_frame_rate = 25/1\nkey: time_base = 1/1000\nkey: start_time = 0.000000\nkey: duration = N/A\nwhich looks right other than start_time and duration.. Sorry to have bothered you.\nSome more documentation reading (https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/103) shows that I should get duration using ffprobe->format($filename). ",
    "cuongdcdev": "I have same problem like you, php-ffmpeg always rendering video in clip filter . ",
    "dernawy": "add\n echo json_encode($output , true);\n$output->writeln(\"$percentage % transcoded\");\nafter the line . @qwill \nstep 1: open the CMD command line tool then point to the directory where you want to install the ffmpeg (YOUR APP PATH)and copy paste this command -> (composer require php-ffmpeg/php-ffmpeg) -> this step needs COMPOSER to be installed on your windows.\nstep 2: close the CMD command line tool then go to the directory where you installed the ffmpeg in(step 1)\n(YOUR APP PATH) then integrate  ffmpeg in your app.. @testchik \nif on your shared server you don't have a FFmpeg plane, so the script can not work because it will trying to get the (FFmpeg.exe and FFprobe.exe) paths to work then while you don't have access to these files due to your hosting plane this script will not work, there is a point, that you install the ffmpeg in your home dirctory and to change the paths in the script to this dirctive, NB: on local host (xampp on windows 7 primum) works very good.. ",
    "jamesgraham": "@Romain did you find any interim solution? Are you trying to generate png or svg, or even json?. @jens1o is there any hope of getting this merged?. @Romain does every format now need this $audioParameters attribute?\nWe are getting an error in the Wav one:\nUndefined property: FFMpeg\\Format\\Audio\\Wav::$additionalParameters. Hi @jens1o \nWe aren't trying to access this attribute or set any parameters.\nOur code looks a bit like this:\n$audio->filters()->clip(TimeCode::fromSeconds($duration));\n$audio->save(new Wav(), $trimmedTmpFile);\nAnd the error now throws\nUndefined property: FFMpeg\\Format\\Audio\\Wav::$additionalParameters\nline    54\ncode    8\nfile    /home/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Format/Audio/DefaultAudio.php. Maybe I am missing something but I don't see that attribute listed in the DefaultAudio class.\nAgain we may be doing something wrong but I just wanted to ask before I dig deeper.. Thanks @jens1o we have just pinned the version for now. ",
    "David-Crty": "Checking this part of documentation may help you ?\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg#extracting-image \n. ",
    "sm2017": "Ok , thanks. @jens1o I really don't known how it happens . I just know the output of filesize is incorrect . What you think? Why the output is incorrect? clearstatcache is called exactly before filesize\nIf ffpmpeg command executed synchronously . I think just maybe it is a PHP 7.1 core bug, may be!!\n. @jens1o The filesize is correct , Even if I don't remove FFMpeg-part\nAs I told before when I process million files just hundred(s) files have incorrect filesize , But If I run the script for those files again , The result is correct. @jens1o I found that it is not PHP-FFMpeg issue , the issue come from a dependency. ",
    "swordsreversed": "Hi guys, will get onto these fixes asap.. Hi sorry i've had to concentrate on other projects. I've fixed the tag, but currently don't have time to write tests. As for using the video clip filter for audio, seems somewhat counterintuitive and against good API practices to me.... @Romain thanks for that. I should have time next week to write tests and take a look at the code from @taylorvc.. @Romain I've added the copy flag from @taylorvc. @jens1o I've started writing the test but I'm not really a PHP guy and don't have the time to work out how to check the length of the clipped file in the test. Something like ffprobe doing:\nffprobe -i tests/files/Audio.mp3 -show_entries format=duration -v quiet -of csv=\"p=0\" -sexagesimal\nI'm actually using node-fluent-ffmpeg now, sorry I couldn't get this merged. Good luck!. @Romain all changes have been committed, you can grab em from the last commit. (btw if there was a test for the video clip filter this would not been a problem).. fixed. ",
    "LaurentMarquet": "The answer to this question was found with the help of issue #243. The function getPasses() in\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/a1e12ecf3300badc9337f2986ea5ab000a7db6e3/src/FFMpeg/Format/Video/X264.php#L68-L71 is set to 2, which explain why the file is written twice.\nBy setting it to 1, the file is only written once but it takes the same amount of time around 3' for video of 1'30\".\n. It looks like this is the \"answer\" of \"my issue\" #242, no ?\nFrom https://ffmpeg.org/ffmpeg.html\n\n-pass[:stream_specifier] n (output,per-stream)\n```\nSelect the pass number (1 or 2). It is used to do two-pass video encoding. The statistics of the video are recorded in the first pass into a log file (see also the option -passlogfile), and in the second pass that log file is used to generate the video at the exact requested bitrate. On pass 1, you may just deactivate audio and set output to null, examples for Windows and Unix:\nffmpeg -i foo.mov -c:v libxvid -pass 1 -an -f rawvideo -y NUL\nffmpeg -i foo.mov -c:v libxvid -pass 1 -an -f rawvideo -y /dev/null\n``\n. I don't have the ambition to try to answer to your question as I don't have this knowledge. I was just asking if the \"-pass\" is the reason why the file is written twice, as I've asked in issue #242, if you have this answer.\nSo I've modified thegetPasses()in the library you mentioned and it solved my question. Thanks\n. Hi @Romain, thanks for your answer.\nYes I was usinglibmp3lamebeforelibfdk_aac. I have changed tolibfdk_aacbecause of the link above specifying that AAC-LC is needed.\nI have also tried withaac,libvo_aacencandlibfaac, but the result is the same: not able to view the video on iDevices.... Do you know where I can find help ? I don't think I'm alone to have the need to have videos viewable on iDevices ;-). Thanks. The thing is that I don't know what my command line should look like... But I'll make investigations.. I have found https://korben.info/ffmpeg-pour-les-nuls.html (in french) that specifies the command line for iPhoneffmpeg -i source_video.avi input -acodec aac -ab 128kb -vcodec mpeg4 -b 1200kb -mbd 2 -flags +4mv+trell -aic 2 -cmp 2 -subcmp 2 -s 320x180 -title X final_video.mp4. I have tested it but I have errors and for the time being it's still chinese for me as I have to know what means every flag...\nIf it talks to you... I will continue investigations but next week, as children are on holidays.. I've made some tests. By usingffmpeg -i video-master.mov -c:v mpeg4 -r 24 -b:v 160k -c:a aac -b:a 160k -strict -2 -s 640x400 video.mp4I should have an audio bitrate of 160kbps but I obtain 1411kbps...\nI've tried to lower the-b:avalue but the result is still 1411 kbps.\nMaybe it's due to the fact that I use a quite old versionffmpeg version 2.8.11-0ubuntu0.16.04.1. I'm trying to install a newer version but its' not that easy.... I have updated toffmpeg version 3.2.4-1~16.04.york1` on my Ubuntu computer but the result with the ffmpeg command line is till the same... Don't know how to do better.\n\nI have also tried\n```\n$video\n    ->filters()\n    ...\n    ->setKiloBitrate(128)\n    ...\n$video\n    ->save(new X264('libfdk_aac'), 'filenameMp4');\n``\nBut I receive this error messageAttempted to call an undefined method named \"setKiloBitrate\" of class \"FFMpeg\\Filters\\Video\\VideoFilters\". Ah... It works better like this! I still can't read the video on iDevices, but now I can search and \"play\" with data. I'll let you know.\nAdditionally, I've found extra-spaces in the examples, I've made a PR (#318) to correct them.. So, I'm still fighting with videos...\nI have a video that works on iPhone (but not made by me): https://edlo.eu/images/participatif.mp4\nand the other one still not working: https://edlo.eu/6gkfwk/img/video.mp4.\nThey are coded both using video:H264 - MPEG-4 AVC (part 10) (avc1)and audio:MPEG AAC Audio (mp4a) 44100 Hz`.\nI don't know what to do...\nIf you can help, it would be greatly appreciated!\n. Thanks for the search. Unfortunately it doesn't work. My framerate was 24. I have tested with 23,976, 25 and 29,97, but it's the same, I can't read on a iPhone. I think it's related to the sound codec, but apart with VLC, I don't know how to have all the encoding's details of a video, to check the difference between the two videos I've cited above. I've googled a while ago but it was not giving a \"good\" result, I'll try again later.\nThanks again. I've found mediainfo which gave me information about the two video above that I have compared. Here is the result (just the meaningful differences):\nVideo Ok = not encoded via this library\nVideo Nok = video encoded via this library with this code:\n```\n$framerate = new FrameRate(25);\n$gop = 48;\n$maximumTime = 90;\n//Calculation to define $finalWidth, $finalHeight and $angle\n$dimensions = new Dimension($finalWidth, $finalHeight);\n$ffmpeg = FFMpeg::create(array(\n    'timeout' => $timeOut - 10,\n    'ffmpeg.threads' => 5,\n));\n$video = $ffmpeg->open($file);\n//Resizes video\n$video\n    ->filters()\n    ->clip(TimeCode::fromSeconds(0), TimeCode::fromSeconds($maximumTime))\n    ->framerate($framerate, $gop)\n    ->addMetadata(['title' => 'Title'])\n    ->rotate($angle)\n    ->resize($dimensions, $resizeMode, true)\n    ->watermark(DIR.'/../XXX.png', array(\n        'position' => 'relative',\n        'bottom' => 50,\n        'right' => 50,\n        ))\n    ->synchronize();\n//Defines format\n$format = new X264();\n$format\n    ->setAudioCodec('aac')\n    ->setKiloBitrate(1200)\n    ->setAudioChannels(2)\n    ->setAudioKiloBitrate(126);\n//Saves video\n$video->save($format, $filenameMp4);\n```\nResult\nObject | Video Ok | Video Nok\nisStreamable | Yes | No\nCodec profile | Main@L4 | High@L2.1\nCodec settings | CABAC / 1 Ref Frames | CABAC / 6 Ref Frames\nSo, the main thing is that the video seems to be NOT streamable which may explain why I can't read, and the other about the Codec don't talk to me.\nI'll investigate about the streamable part.. Really thanks for your work!\nI have tested with the default value (main & 3.1) which should be ok for iPhone 4s but it still doesn't work :-(\nThe format seems to be well coded as, when I do a dump, I obtain\nFFMpeg\\Format\\Video\\X264 {#1138\n  -bframesSupport: true\n  -passes: 2\n  #videoCodec: \"libx264\"\n  #kiloBitrate: 1200\n  #modulus: 16\n  -profile: \"main\"\n  -level: 3.1\n  #additionalParamaters: null\n  #audioCodec: \"aac\"\n  #audioKiloBitrate: 126\n  #audioChannels: 2\n  #listeners: []\n}\nI have also tried\n$format\n    ->setAudioCodec('aac')\n    ->setKiloBitrate(1200)\n    ->setAudioChannels(2)\n    ->setAudioKiloBitrate(126)\n    ->setProfile(Profile::HIGH)\n    ->setLevel(4.1);\nBut then I obtain this error (but here it may be due to a bad copy/paste, event if I've checked)\n[Symfony\\Component\\Debug\\Exception\\FatalThrowableError]  \nCall to a member function setLevel() on null. Finding a bug (without knowing it) is not the main part of the problem ;-)\nThanks to you!. @Romain The only logs I can produce are the ones produced by the Command I use to resize the videos, which are not useful as they only bring the error mentioned above. Can you explain me how to produce the logs you wanna see?. @Romain Yes I have copied/pasted the changes from #335 on my computer and then run the script.\nWhen I don't use setProfile and setLevel the video is encoded but not working on iDevices and when I use those functions the format is set as null, but There are some changes on #335 since my message above, that I haven't tested yet.. The changes were just about the test. So the result is still the same for me, not being displayed oniPhone 4s and $format = null. Yes, I do\n$format = new X264();\n$format\n    ->setAudioCodec('aac')\n    ->setKiloBitrate(1200)\n    ->setAudioChannels(2)\n    ->setAudioKiloBitrate(126)\n    ->setProfile(Profile::HIGH)\n    ->setLevel(4.1);\nBut like this I have an error. Yes this was due to a bad copy/paste from the code above. But I have tried with baseline and 3.0, the $format is not null so this error has disappeared :-) the video is well encoded, but I still can't read the video https://edlo.eu/6gkfwk/img/video.mp4.. Any news ? I've tried with an iPhone 6 and still the video is not readable.... @discoveryjames thanks for your answer but what is the value of $filters?. Thanks for that adding (didn't know about faststart) but what about $filters value (see my question above)?. So, I have tried using your code but I have an encoding failed error\n'/usr/bin/avconv' '-y' '-i' '/.../video-master.mov' '-metadata:s:v:0' 'rotate=0' '-async' '1' '-metadata:s:v:0' 'start_time=0' '-metadata' 'title=Title' '-ss' '0  \n  0:00:00.00' '-t' '00:01:30.00' '-r' '29.97' '-b_strategy' '1' '-bf' '3' '-g' '48' '-threads' '4' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-  \n  qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vprofile' 'baseline' '-level' '3' '-movflags' '+faststart' '-vf' 'movie=/.../edlo.eu/src/AppBundle/Command/../../../web/images/stamp.png [watermark];[in]transpose=1[p0];[p0]scale=854:480 [p1];[p1]  \n  [watermark] overlay=main_w - 50 - overlay_w:main_h - 50 - overlay_h [out]' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes598c7977ac09554hoy/pass-598c7977ac17a' '/.../video.mp4'\nSo, I have also tried with\n$format = new X264();\n$format\n    ->setPasses(1)\n    ->setAudioCodec('aac')\n    ->setKiloBitrate(1200)\n    ->setAudioChannels(2)\n    ->setAudioKiloBitrate(126)\n    ->setAdditionalParameters(['-vprofile', 'baseline', '-level', 3.0, '-movflags', '+faststart'])\n;\nThis one works and is currently in https://edlo.eu/6gkfwk/img/video.mp4, but it doesn't display on my iPhone 6... But well displayed on Firefox.\n. @dmanthing How did you manage to make the video working on iDevices using this?\nI have used it to resize video: https://edlo.eu/6gkfwk/img/video.mp4, but it still doesn't display on iPhone 4S using default Profile (high) and level (3.1).\nCan you post a link of a video that has worked for you in order for me to compare what's different with mine? (see #304). Thanks for your code! So I have tried your configuration but I still can't read the video on iPhone 4S. The only difference with your code is the value you use for $kilobits as it's not specified in your code, I've left 1200.\nThe \"dump\" of the format obtained is the following:\nFFMpeg\\Format\\Video\\X264 {#1138\n  -bframesSupport: true\n  -passes: 2\n  #videoCodec: \"libx264\"\n  #kiloBitrate: 1200\n  #modulus: 16\n  -profile: \"baseline\"\n  -level: 3.0\n  #additionalParameters: array:4 [\n    0 => \"-preset\"\n    1 => \"ultrafast\"\n    2 => \"-pix_fmt\"\n    3 => \"yuv420p\"\n  ]\n  #audioCodec: \"aac\"\n  #audioKiloBitrate: 92\n  #audioChannels: 2\n  #listeners: []\n}\nand the code I've used is \n```\n    $format = new X264();\n$additionalParameters = array(\n    '-preset',\n    'ultrafast',\n    '-pix_fmt',\n    'yuv420p',\n);\n\n$format\n    ->setAudioCodec('aac')\n    ->setKiloBitrate(1200)\n    ->setAudioChannels(2)\n    ->setAudioKiloBitrate(92)\n    ->setProfile(Profile::BASELINE)\n    ->setLevel(3.0)\n    ->setAdditionalParameters($additionalParameters)\n;\n\n```. ",
    "xmon": "Thanks @Laurent3170 but the question is, how can I modify the passes using PHP-FFMpeg?\nThe 2 passes are hardcoded in this library.\n. ",
    "matrunchyk": "@xmon It's always better to ask not on the Issue tracker, but somewhere like StackOverflow.\nYou can easily create your own class and specify as many passes as you want:\n```\nuse FFMpeg\\Format\\Video\\x264;\nclass myX264 extends x264 {\n    public function getPasses()\n    {\n        return 1;\n    }\n}\n``\n. @h3242749 Have you tried the same conversion withffmpeg` in cli?\n. @SunChero would be nice to take a look at your full backtrace.\n. @Romain Unfortunately I don't. @patkar Please take a look\n. ",
    "theDTD": "Hello, you can actually do it with overlay filter based from this command line example from https://ffmpeg.org/ffmpeg-filters.html#Examples-68\nffmpeg -i left.avi -i right.avi -filter_complex \"\nnullsrc=size=200x100 [background];\n[0:v] setpts=PTS-STARTPTS, scale=100x100 [left];\n[1:v] setpts=PTS-STARTPTS, scale=100x100 [right];\n[background][left]       overlay=shortest=1       [background+left];\n[background+left][right] overlay=shortest=1:x=100 [left+right]\nThough, I am not using php now. I will just share this here :). ",
    "Mika2413": "Did you install it using composer?\nIf no, you should install it with composer to get all dependencies. I think it will solve the problem\n. ",
    "h3242749": "Thank you. I tried with your suggestion and no longer receive error about Doctrine anymore. However, I still can not make it work.\nI include composer first: require_once(\"vendor/autoload.php\");\nWhen I use: \"use FFMpeg;\" it always throw class not found. So I back to require_once(\"FFMpeg/FFMpeg.php\"); and then it keep throwing a lot of not found class: FFProbeDriver then OptionsTester'  .... is there any sample or anyway to quick connect and test?\nIf I try with class and extends, it throw the same as above: Catchable fatal error: Argument 1 passed to FFMpeg\\FFMpeg ..... \n. ",
    "harikt": "I find the same issue regarding size. \n\nIs there a way we can get the ffmpeg command that is going to run on the cli via this wrapper ? \nor are you guys looking for the ffmpeg command that can do this convertion ?. I did ffmpeg -i <input-file> -s <width>:<height> <output-file> , and the file size reduced for smaller resolutions.\n\nphp\n[\n    '240p' => [\n        'width' => 352,\n        'height' => 240,\n    ],\n    '360p' => [\n        'width' => 480,\n        'height' => 360,\n    ],\n    '480p' => [\n        'width' => 858,\n        'height' => 480,\n    ],\n    '720p' => [\n        'width' => 1280,\n        'height' => 720,\n    ],\n    '1080p' => [\n        'width' => 1920,\n        'height' => 1080,\n    ],\n]\nThe width and height taken from https://www.quora.com/What-are-these-240p-360p-480p-720p-1080p-units-for-videos-Whats-the-basic-idea-behind-it . ",
    "nvtiencom": "Hello,\nCan we extract video (no sound) from original video (has sound) files? and how?\nPlease help, thanks. ",
    "AyrA": "If not yet fixed, this is an ffmpeg issue. add -auto-alt-ref 0 to the command line and the error is gone.. ",
    "misterkek": "@Romain yes, it would be great. \nAs I heard, Python library has this codec.. ",
    "huyvh19": "this is my code, if i run in command line, it ok but i run it in browser chorme, it not ok.\nrequire \"bootstrap.php\";\nset_time_limit(0);\n$logger = new Monolog\\Logger('test');\n$logger->pushHandler(new Monolog\\Handler\\StreamHandler('php://stdout'));\n$config = array(\n    'ffmpeg.binaries' => '/usr/local/bin/ffmpeg',\n    'ffprobe.binaries' => '/usr/local/bin/ffprobe',\n    'timeout' => 3600,\n    'ffmpeg.threads' => 12,\n);\n$ffprobe = FFMpeg\\FFProbe::create($config, $logger);\n$file_path = '/Sites/Demo/php-ffmpeg/tests/files/test.mp4';\n$file_info = $ffprobe\n    ->streams($file_path)\n    ->videos()\n    ->first()\n    ->keys();\nvar_dump($file_info);die;. hi @Romain \ni use FFmpeg; it show error \nWarning: The use statement with non-compound name 'FFMpeg' has no effect in /Sites/Demo/php-ffmpeg/tests/test.php \ni attack my test project.\nPlease help me this issue.\nThanks!\nFFMpeg.zip\n. Thanks @Romain  i use framework laravel and it run success. thank you @Romain  i use laravel framework and i run success full your code.\n. ",
    "JoyeBright": "@Romain Actually no,\nI couldn't find any solutions !. @Romain yes I used apt-get.. @Romain tnq for ur kind reply, but actually now I am on another project which is completely far from FFMpeg, So if I could find enough time, I would follow ur instruction soon.\n. ",
    "bizilliam": "Romain,\nI've tried this and kept getting videofilter resize errors.  Now, I quit getting errors, but it's not resizing at all.  It's creating a native 720x480 frame.  I'll go back to drawing board tomorrow and try from command line.\n\n  $video = $ffmpeg->open('/var/www/FTP_TBGS/MasterVideoLibrary2/TEST0009.mpg');\n    $video\n    ->filters()\n    ->resize(new FFMpeg\\Coordinate\\Dimension(320, 240))\n    ->synchronize();\n    $frame = $video->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(1));\n    $frame->save('TEST0009.jpg');\n\n\n. I'm not getting errors anymore, but if I use 'use FFMpeg;' in my PHP header I'll get 'The use statement with non-compound name 'FFMpeg' has no effect'.  If i use 'use FFMpeg\\Media;', the error goes away.\nRegardless,  I still can't resize.  I can resize manually.  For example, from command line\nffmpeg -i /var/www/FTP_TBGS/MasterVideoLibrary2/TEST0009.mpg -ss 00:00:01 -s 320x240 -vframes 1 out.jpg\nCreates a 320x240 jpg image.  How do I see the command that php-ffmpeg is generating?  I'm still using the same code.  I end up getting a full size frame in the save.\n\n$video = $ffmpeg->open('/var/www/FTP_TBGS/MasterVideoLibrary2/TEST0009.mpg');\n    $video\n  ->filters()\n  ->resize(new FFMpeg\\Coordinate\\Dimension(320, 240))\n  ->synchronize();\n    $frame = $video->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(1));\n    $frame->save('TEST0009.jpg');. I installed php-ffmpeg plugin via composer.\nI installed FFMpeg software by downloading the ffmpeg/ffprobe pre-compiled binaries from the website in the readme and placed them in the proper directories (linux).  I didn't compile from source.\n\nI'm using Yii2 on a Vagrant VM, so the 'use FFMPEG' I guess is a Yii2 generated error?\nI just found that I am having the same problem as #267 .  The resize parameters are being ignored.\n\nMaybe we have an FFMpeg version mis-match?  I'm using FFMpeg 3.2.2-64-bit static.\nffmpeg version 3.2.2-static http://johnvansickle.com/ffmpeg/  Copyright (c) 2000-2016 the FFmpeg developers\n  built with gcc 5.4.1 (Debian 5.4.1-4) 20161202\n  configuration: --enable-gpl --enable-version3 --enable-static --disable-debug --disable-ffplay --disable-indev=sndio --disable-outdev=sndio --cc=gcc-5 --enable-fontconfig --enable-frei0r --enable-gnutls --enable-gray --enable-libass --enable-libfreetype --enable-libfribidi --enable-libmp3lame --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libopus --enable-librtmp --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libvidstab --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxvid --enable-libzimg\n  libavutil      55. 34.100 / 55. 34.100\n  libavcodec     57. 64.101 / 57. 64.101\n  libavformat    57. 56.100 / 57. 56.100\n  libavdevice    57.  1.100 / 57.  1.100\n  libavfilter     6. 65.100 /  6. 65.100\n  libswscale      4.  2.100 /  4.  2.100\n  libswresample   2.  3.100 /  2.  3.100\n  libpostproc    54.  1.100 / 54.  1.100\nHyper fast Audio and Video encoder\nusage: ffmpeg [options] [[infile options] -i infile]... {[outfile options] outfile}...\n. ",
    "wskeee": "I have the same problem.\nI'm using WAMP + YII2 + window ffmpeg\nWhen I run\n\n\nthe result is\n\nThere is no change in size !\n. ",
    "boomuo": "Thank you, but very low speed, 1sec+. Maybe this all lib low speed?\nThis code high speed (0.2sec):\n```\n               $cmd = $this->ffmpegPath.\" -i $filePath -hide_banner 2>&1\";\n        $ffmpeg = shell_exec($cmd);\n        $search = \"/Duration: (.?)./\";\n        preg_match($search, $ffmpeg, $matches);\n        $data['duration'] = $matches[1];\n        $time_sec = explode(':', $data['duration']);\n        $data['durationSecond'] = ($time_sec['0']3600)+($time_sec['1']*60)+$time_sec['2'];\n    $search = \"|Video:.* (\\d{3,4}+x\\d{3,4})|\";\n    preg_match($search, $ffmpeg, $matches);\n    $data['video'] = $matches[1];\n    return $data;\n\n```\nHow i can create screenshots to video? Simple: rows-3, colls - 4, width every little screen - 200px. Will that posible on this lib? . ",
    "aziev": "@Romain thank you for the response,\nIf I using string 'inset' it has the same behavior. ",
    "paq85": "Hi I have quite similar issue,\nSeems like the \\FFMpeg\\Filters\\Video\\ResizeFilter::RESIZEMODE_FIT mode has no chance to work since FFmpeg by default tries to save source video aspect ratio.\nIn order to resize to precise resolution (is that what RESIZEMODE_FIT should do?) the filter would have to use \n-filter_complex 'scale=w=1280:h=720,setsar=1/1'\ninstead of currently used\n-s 1280x720. ",
    "astierler": "@travoliti if you edit src/FFMpeg/Format/Video/WebM.php and change getAvailableVideoCodecs (last function in class) to include \"libvpx-vp9\" in the array - are you able to run it?\nIt appears \"libvpx\" is just the only hardcoded option for getAvailableVideoCodecs.  I tried this on my environment and my video encoded properly.  Give that a try.\nI will look into adding this into a pull request along with some misc things I have on mine.. ",
    "NerdGuruDevelopers": "I was going for streaming a newly converted file. Perhaps by breaking it into 1 minute segments or something?. ",
    "4wellsolutions": "`<?php\nnamespace App\\Http\\Controllers;\nuse App\\Http\\Controllers\\Controller;\nclass TestController extends Controller\n{\n    public function index(){\n    $ffmpeg = FFMpeg\\FFMpeg::create();\n    $video = \"http://www.dailymotion.com/cdn/H264-176x144-2/video/x56cpxc.mp4?auth=1483507736-2562-c6cmioov-b1be3ef782de022e4cdfedb4c674859b\";\n\n    // Open your video file\n    $video = $ffmpeg->open($video);\n\n    // Set an audio format\n    $audio_format = new FFMpeg\\Format\\Audio\\Mp3();\n\n    // Extract the audio into a new file\n    $video->save('audio.mp3');\n}\n\n}`. Now this error occur\nExecutableNotFoundException in FFProbeDriver.php line 50:\nUnable to load FFProbe. ",
    "ysk99": "here is my code in laravel,,run it a 500error occure!!?? thanks\n```\n<?php\nnamespace App\\Http\\Controllers;\nuse FFMpeg;\nclass ConvController extends Controller\n{\n    public function conv2mp3()\n    {\n        $ffmpeg = FFMpeg\\FFMpeg::create(array(\n            'ffmpeg.binaries'  => '/root/bin/ffmpeg',\n            'ffprobe.binaries' => '/root/bin/ffprobe',\n            'timeout'          => 3600, // The timeout for the underlying process\n            'ffmpeg.threads'   => 12,   // The number of threads that FFMpeg should use\n        ));\n        // Open your video file\n        $video = $ffmpeg->open( 'beeen.mp4' );\n    $video\n        ->save(new FFMpeg\\Format\\Audio\\Mp3(), 'beeen.mp3');\n\n}\n\n}\n```\n. @ it give a 500 Internal Server Error\uff0cmaybe it a server error..so  i dont know is there any other config to do?. @jens1o it give a 500 Internal Server Error\uff0cmaybe it a server error..so i dont know is there any other config to do?. But the site other function is work well..only this error. ",
    "pickzy": "Here is the composer.json file content.. Do I want to edit any thing in this file?\n{\n    \"name\": \"php-ffmpeg/php-ffmpeg\",\n    \"type\": \"library\",\n    \"description\": \"FFMpeg PHP, an Object Oriented library to communicate with AVconv / ffmpeg\",\n    \"keywords\": [\"video processing\", \"video\", \"audio processing\", \"audio\", \"avconv\", \"ffmpeg\", \"avprobe\", \"ffprobe\"],\n    \"license\": \"MIT\",\n    \"authors\": [],\n    \"require\": {\n        \"php\": \"^5.6.24 || ^7.0\",\n        \"alchemy/binary-driver\": \"^1.5\",\n        \"doctrine/cache\": \"^1.0\",\n        \"evenement/evenement\": \"^2.0 || ^1.0\",\n        \"neutron/temporary-filesystem\": \"^2.1.1\"\n    },\n    \"suggest\": {\n        \"php-ffmpeg/extras\": \"A compilation of common audio & video drivers for PHP-FFMpeg\"\n    },\n    \"require-dev\": {\n        \"sami/sami\": \"~1.0\",\n        \"silex/silex\": \"~1.0\",\n        \"phpunit/phpunit\": \"^4.8\"\n    },\n    \"autoload\": {\n        \"psr-0\": {\n            \"FFMpeg\": \"src\"\n        }\n    },\n    \"autoload-dev\": {\n        \"psr-4\": {\n            \"Tests\\FFMpeg\\\": \"tests\"\n        }\n    },\n    \"extra\": {\n        \"branch-alias\": {\n            \"dev-master\": \"0.7-dev\"\n        }\n    }\n}\nDo I want to edit any thing in this file?\n. \nPlease see this attached screen shot. Kindly suggest me the right command.\nand also if you provide any example program file to test in my side would be helpful for me.. My Php version: PHP 5.6.24 (cli) (built: Aug  8 2016 16:58:37)\nAttached my composer.json file\ncomposer.json.zip\n. no\n--\nThanks and have a great day.\nRegards\nRatheesh | Director\n http://www.pickzyinteractive.com/\n| JVL Plaza Building | 6th Floor | Anna Salai |\n| Teynampet | Chennai 600 018 | India |\n| India Phone : (044) - 45014466 | US Direct : (213)(261)-0683 |\n| Skype : macratheesh |\n| Email  : ratheesh@pickzy.com |\n| URL    : www.pickzyinteractive.com |\nDisclaimer Statement:\nInformation contained and transmitted by this E-MAIL is proprietary to\npickZy.com and is intended for use only by the individual/entity to\nwhom/which it is addressed, and may contain information that is privileged,\nconfidential or exempt from disclosure under applicable law. If this is a\nforwarded message, the content of this E-MAIL may not have been sent with\nthe authority of the Company. If you are not the intended recipient, an\nagent of the intended recipient or a person responsible for delivering the\ninformation to the named recipient, you are notified that any use,\ndistribution, transmission, printing, copying or dissemination of this\ninformation in any way or in any manner is strictly prohibited. If you have\nreceived this communication in error, please delete this mail.\nOn Thu, Feb 9, 2017 at 10:50 PM, Romain Biard notifications@github.com\nwrote:\n\nHi @pickzy https://github.com/pickzy,\nHave you been able to solve this issue?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/280#issuecomment-278710103,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFbfO1PnXNkUfvrop8Ydwvzo75vLL28Iks5ra0rbgaJpZM4Lb3zb\n.\n. The file you sent me is PHP-FFMPEG composer.json file. So my guess is that you're trying to install it as a standalone bundle in a project, not as a depency of Symfony or any other framework, is that correct? YES\nCould you try to run the command in a new folder, out of your current project and see if you get any error? I tried still getting same issue.\nTomorrow again let me try with different pc and let your know.. \n",
    "dana321": "I thought i would post here since i had the same issue.\nYou need to run composer update first, then you will be able to install php-ffmpeg\n. ",
    "kdesigns": "Thank you!!!. ",
    "codex-corp": "i have run a quick test , the code not handle the video size\nInput link in1:v0 parameters (size 720x480, SAR 1:1) do not match the corresponding output link in0:v0 parameters (1280x720, SAR 1:1)\nInput link in1:v0 parameters (size 1280x720, SAR 2559:2560) do not match the corresponding output link in0:v0 parameters (1280x720, SAR 1:1)\nit can be done, something like the below,\nffmpeg -i video_1.mp4 -i video_2.mp4 -filter_complex \\\n\"[0:v]scale=1280:720:force_original_aspect_ratio=decrease,pad=1280:720:(ow-iw)/2:(oh-ih)/2[v0]; \\\n [v0][0:a][1:v][1:a]concat=n=2:v=1:a=1[v][a]\" \\\n-map \"[v]\" -map \"[a]\" -c:v libx264 -c:a aac -movflags +faststart output.mp4\nalso see : http://superuser.com/questions/547296/resizing-videos-with-ffmpeg-avconv-to-fit-into-static-sized-player/1136305#1136305\n. i mean that it can be done through single command , \ncan i ask you @Romain why you are list the videos from txt file instead of list of array ?. @gabriel-munteanu yes i'm sure https://ffmpeg.org/ffmpeg-filters.html#Filtering-Introduction, \ni read the code and it's good and clear .\nhe just need to implode the sources array (-i video_1.mp4 -i video_2.mp4 -filter_complex ...) \nhttps://github.com/Romain/PHP-FFMpeg/blob/24b0ca7224ebe70cf95b7f1434e11dd423aba3a3/src/FFMpeg/Media/Concat.php#L155. ",
    "gabriel-munteanu": "I don't think that this filter should care about video size(resolution). The programmer should do this before the concatenation step.\nI think that it could just throw an exception if all the video files doesn't have the same size.. @codex-corp are you sure that what you say is available also for multiple videos(more than 2)?\nFor the file thing I can also answer: ffmpeg works this way, it take as a parameter the file with videos. Look here: https://trac.ffmpeg.org/wiki/Concatenate .\nI would also like that this feature to not request the developer to create that file but just pass an array with videos and the filter implementation to take care of the file.. Ok, there could be an optional parameter for this extra feature.\n@Romain does this feature support progress callback?. @Romain  Yes, that is what I meant. \nPlease answer to my question about progress callback(watcher).. @Romain Thank you for the feature, I appreciate!\nI suggest a few improvements:\nfor the temp file used to pass to ffmpeg with what to concatenate, don't use getcwd() because it can lead to problems for multiple concatenation processes started from the same folder. Instead you can use TemporaryFilesystem which is already in the composer dependencies and used here: https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/master/src/FFMpeg/Media/Video.php#L134\nYou can use instead createTemporaryFile\nphp\nuse Neutron\\TemporaryFilesystem\\Manager as FsManager;\n$fs = FsManager::create();\n$file = $fs->createTemporaryFile('ffmpeg-concat');\nuse the file\nunlink($fs);\nThe first parameter of createTemporaryFile is only a prefix.. @Romain It looks very good now. \ud83d\ude01 When merge with master?. @Romain I saw that the readme file is not up to date with the API because you followed my tip and forgot to update it.. Problem 2: I just want to add padding to a video to get it to a bigger resolution.\n/usr/bin/ffmpeg '-y' '-i' '/tmp/rec3.2.mp4' '-vf' 'scale=iw*min(1366/iw\\,768/ih):ih*min(1366/iw\\,768/ih),pad=1366:768:(1366-iw)/2:(768-ih)/2' '-vcodec' 'libx264' '-acodec' 'aac' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes5898cc0144c73hoobv/pass-5898cc0144d30' '/tmp/rec3.2_pad.mp4'\nffmpeg version 3.2.2-1~bpo8+1 Copyright (c) 2000-2016 the FFmpeg developers\n  built with gcc 4.9.2 (Debian 4.9.2-10)\n  configuration: ......\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/tmp/rec3.2.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf57.56.100\n  Duration: 00:00:05.73, start: 0.000000, bitrate: 605 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 473 kb/s, 30 fps, 30 tbr, 15360 tbn, 60 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n[libx264 @ 0x7f4719907600] using SAR=1/1\n[libx264 @ 0x7f4719907600] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX AVX2 FMA3 LZCNT BMI2\n[libx264 @ 0x7f4719907600] ratecontrol_init: can't open stats file\nStream mapping:\n  Stream #0:0 -> #0:0 (h264 (native) -> h264 (libx264))\n  Stream #0:1 -> #0:1 (aac (native) -> aac (native))`\nError while opening encoder for output stream #0:0 - maybe incorrect parameters such as bit_rate, rate, width or height\n. I found that the problems is because of the parameter -pass 1 . I don't know what this is does but I'm going to find a way to remove from the command.. Ok. There were other errors like typos in the output filename or the folder for pass was not existent when I was running the command manually. After all, the only problem was with the codec and I used the fix from issue #295  . ",
    "iemm96": "Hello, I'm trying to use the concat function, I want to concatenate 3 videos, so, What it's the correct form to pass the files paths to the concat() function? . ",
    "vivevio": "Hi,\nThank you for the response.\nI installed FFMPEG from this source https://s3bubble.com/installing-ffmpeg-on-centos-6-6-in-usrlocalbin/.\nAnd here piece my code.\n```\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n        'ffmpeg.binaries'  => '/usr/local/bin/ffmpeg',\n        'ffprobe.binaries' => '/usr/local/bin/ffprobe',\n    ), $logger);\n$video = $ffmpeg->open( $video_path );\n\n$ffmpeg->getFFMpegDriver()->listen(new \\Alchemy\\BinaryDriver\\Listeners\\DebugListener());\n$ffmpeg->getFFMpegDriver()->on('debug', function ($message) {\n    echo $message.\"<br>\";\n});\n\n\n$video\n    ->filters()\n    ->watermark($watermarkPath, array(\n        'position' => 'relative',\n        'bottom' => 0,\n        'right' => 0,\n    ));\n\n$video_export_path = 'export/masked_video.mp4';\n$save = $video->save(new FFMpeg\\Format\\Video\\X264(), $video_export_path);\n\n```\nThank you.. Hi,\nIt's working like a charm :D.\nThank you for the help @Romain . ",
    "nikunj1990": "Hello, I have tried to execute command manually in the terminal but got below errors.\n[AVFilterGraph @ 0x3e99160] Error initializing threading.\n[AVFilterGraph @ 0x3e99160] Error creating filter 'null'\nplease see this screenshot\nhttps://www.screencast.com/t/Wq4qadyCV. hi @Romain ,\nThank you for the reply.\nYes We have tried after removed resize method but same issues are occurring. Please see below code.\n```\n$ffmpeg = FFMpeg\\FFMpeg::create([\n            'ffmpeg.binaries'  => base_path('public/ffmpeg/ffmpeg'), // the path to the FFMpeg binary\n            'ffprobe.binaries' => base_path('public/ffmpeg/ffprobe'), // the path to the FFProbe binary\n            'timeout'          => 0, // the timeout for the underlying process\n            'ffmpeg.threads'   => 12,   // the number of threads that FFMpeg should use\n        ]);\n                  $ffmpeg->getFFMpegDriver()->listen(new \\Alchemy\\BinaryDriver\\Listeners\\DebugListener());\n$ffmpeg->getFFMpegDriver()->on('debug', function ($message) {\n    echo $message.\"\\n\";\n});\n              $mp4=base_path('public/uploads/0b14d35e92f96497d0cabd0ebe9ea566.mp4');\n            $video = $ffmpeg->open($mp4);\n            //print_r($video);\n          //  $video->filters()->resize(new FFMpeg\\Coordinate\\Dimension(320, 240))->synchronize();\n            $destinationPath =base_path('public/'); \n            $frame=$video->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(2));\n            $frame->save($destinationPath.'uploadframe1.jpg');\n\n```\nPlease see this screenshot for the cmd https://www.screencast.com/t/lT1CTCCOyWA.\n. Hello,\nWe have executed the direct command and it is working fine.\nNow we no getting any kind of error but there is not create snapshot of the video.\nWe have print_r $video  variable and given below output...\n`/var/www/html/public/0b14d35e92f96497d0cabd0ebe9ea566.mp4 \n/var/www/html/public/screenshot_done.jpgFFMpeg\\Media\\Video Object\n(\n    [streams:FFMpeg\\Media\\AbstractStreamableMedia:private] => \n    [pathfile:protected] => /var/www/html/public/0b14d35e92f96497d0cabd0ebe9ea566.mp4\n    [driver:protected] => FFMpeg\\Driver\\FFMpegDriver Object\n        (\n            [configuration:protected] => Alchemy\\BinaryDriver\\Configuration Object\n                (\n                    [data:Alchemy\\BinaryDriver\\Configuration:private] => Array\n                        (\n                            [ffmpeg.binaries] => /var/www/html/public/ffmpeg/ffmpeg\n                            [ffprobe.binaries] => /var/www/html/public/ffmpeg/ffprobe\n                            [timeout] => 3600\n                            [ffmpeg.threads] => 12\n                        )\n            )\n\n        [factory:protected] => Alchemy\\BinaryDriver\\ProcessBuilderFactory Object\n            (\n                [binary:protected] => /var/www/html/public/ffmpeg/ffmpeg\n                [timeout:Alchemy\\BinaryDriver\\ProcessBuilderFactory:private] => 3600\n                [builder:Alchemy\\BinaryDriver\\ProcessBuilderFactory:private] => Symfony\\Component\\Process\\ProcessBuilder Object\n                    (\n                        [arguments:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                            (\n                                [0] => -y\n                                [1] => -ss\n                                [2] => 00:00:10.00\n                                [3] => -i\n                                [4] => /var/www/html/public/0b14d35e92f96497d0cabd0ebe9ea566.mp4\n                                [5] => -vframes\n                                [6] => 1\n                                [7] => -f\n                                [8] => image2\n                                [9] => /var/www/html/public/screenshot_done.jpg\n                            )\n\n                        [cwd:Symfony\\Component\\Process\\ProcessBuilder:private] => \n                        [env:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                            (\n                            )\n\n                        [input:Symfony\\Component\\Process\\ProcessBuilder:private] => \n                        [timeout:Symfony\\Component\\Process\\ProcessBuilder:private] => 3600\n                        [options:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                            (\n                            )\n\n                        [inheritEnv:Symfony\\Component\\Process\\ProcessBuilder:private] => 1\n                        [prefix:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                            (\n                                [0] => /var/www/html/public/ffmpeg/ffmpeg\n                            )\n\n                        [outputDisabled:Symfony\\Component\\Process\\ProcessBuilder:private] => \n                    )\n\n            )\n\n        [processRunner:Alchemy\\BinaryDriver\\AbstractBinary:private] => Alchemy\\BinaryDriver\\ProcessRunner Object\n            (\n                [logger:Alchemy\\BinaryDriver\\ProcessRunner:private] => Monolog\\Logger Object\n                    (\n                        [name:protected] => Alchemy\\BinaryDriver logger\n                        [handlers:protected] => Array\n                            (\n                                [0] => Monolog\\Handler\\NullHandler Object\n                                    (\n                                        [level:protected] => 100\n                                        [bubble:protected] => \n                                        [formatter:protected] => \n                                        [processors:protected] => Array\n                                            (\n                                            )\n\n                                    )\n\n                            )\n\n                        [processors:protected] => Array\n                            (\n                            )\n\n                    )\n\n                [name:Alchemy\\BinaryDriver\\ProcessRunner:private] => ffmpeg\n            )\n\n        [listenersManager:Alchemy\\BinaryDriver\\AbstractBinary:private] => Alchemy\\BinaryDriver\\Listeners\\Listeners Object\n            (\n                [storage] => SplObjectStorage Object\n                    (\n                        [storage:SplObjectStorage:private] => Array\n                            (\n                            )\n\n                    )\n\n                [listeners:protected] => Array\n                    (\n                    )\n\n            )\n\n        [listeners:protected] => Array\n            (\n            )\n\n    )\n\n[ffprobe:protected] => FFMpeg\\FFProbe Object\n    (\n        [cache:FFMpeg\\FFProbe:private] => Doctrine\\Common\\Cache\\ArrayCache Object\n            (\n                [data:Doctrine\\Common\\Cache\\ArrayCache:private] => Array\n                    (\n                        [[help][1]] => Array\n                            (\n                                [0] => Simple multimedia streams analyzer\n\nusage: ffprobe [OPTIONS] [INPUT_FILE]\nMain options:\n-L                  show license\n-h topic            show help\n-? topic            show help\n-help topic         show help\n--help topic        show help\n-version            show version\n-buildconf          show build configuration\n-formats            show available formats\n-muxers             show available muxers\n-demuxers           show available demuxers\n-devices            show available devices\n-codecs             show available codecs\n-decoders           show available decoders\n-encoders           show available encoders\n-bsfs               show available bit stream filters\n-protocols          show available protocols\n-filters            show available filters\n-pix_fmts           show available pixel formats\n-layouts            show standard channel layouts\n-sample_fmts        show available audio sample formats\n-colors             show available color names\n-loglevel loglevel  set logging level\n-v loglevel         set logging level\n-report             generate a report\n-max_alloc bytes    set maximum size of a single allocated block\n-cpuflags flags     force specific cpu flags\n-hide_banner hide_banner  do not show program banner\n-sources device     list sources of the input device\n-sinks device       list sinks of the output device\n-f format           force format\n-unit               show unit of the displayed values\n-prefix             use SI prefixes for the displayed values\n-byte_binary_prefix  use binary prefixes for byte units\n-sexagesimal        use sexagesimal format HOURS:MM:SS.MICROSECONDS for time units\n-pretty             prettify the format of displayed values, make it more human readable\n-print_format format  set the output printing format (available formats are: default, compact, csv, flat, ini, json, xml)\n-of format          alias for -print_format\n-select_streams stream_specifier  select the specified streams\n-sections           print sections structure and section information, and exit\n-show_data          show packets data\n-show_data_hash     show packets data hash\n-show_error         show probing error\n-show_format        show format/container info\n-show_frames        show frames info\n-show_format_entry entry  show a particular entry from the format/container info\n-show_entries entry_list  show a set of specified entries\n-show_packets       show packets info\n-show_programs      show programs info\n-show_streams       show streams info\n-show_chapters      show chapters info\n-count_frames       count the number of frames per stream\n-count_packets      count the number of packets per stream\n-show_program_version  show ffprobe version\n-show_library_versions  show library versions\n-show_versions      show program and library versions\n-show_pixel_formats  show pixel format descriptions\n-show_private_data  show private data\n-private            same as show_private_data\n-bitexact           force bitexact output\n-read_intervals read_intervals  set read intervals\n-default            generic catch all option\n-i input_file       read specified file\nAVFormatContext AVOptions:\n  -avioflags       \n      ED...... (default 0)\n     direct                       ED...... reduce buffering\n  -probesize       \n      .D...... set probing size (from 32 to I64_MAX) (default 5e+06)\n  -formatprobesize \n        .D...... number of bytes to probe file format (from 0 to 2.14748e+09) (default 1.04858e+06)\n  -fflags          \n      ED...... (default flush_packets+autobsf)\n     ignidx                       .D...... ignore index\n     genpts                       .D...... generate pts\n     nofillin                     .D...... do not fill in missing values that can be exactly calculated\n     noparse                      .D...... disable AVParsers, this needs nofillin too\n     igndts                       .D...... ignore dts\n     discardcorrupt               .D...... discard corrupted frames\n     sortdts                      .D...... try to interleave outputted packets by dts\n     keepside                     .D...... don't merge side data\n     fastseek                     .D...... fast but inaccurate seeks\n     nobuffer                     .D...... reduce the latency introduced by optional buffering\n  -seek2any        \n    .D...... allow seeking to non-keyframes on demuxer level when supported (default false)\n  -analyzeduration \n      .D...... specify how many microseconds are analyzed to probe the input (from 0 to I64_MAX) (default 0)\n  -cryptokey       \n     .D...... decryption key\n  -indexmem        \n        .D...... max memory used for timestamp index (per stream) (from 0 to INT_MAX) (default 1.04858e+06)\n  -rtbufsize       \n        .D...... max memory used for buffering real-time frames (from 0 to INT_MAX) (default 3.04128e+06)\n  -fdebug          \n      ED...... print specific debug info (default 0)\n     ts                           ED......\n  -max_delay       \n        ED...... maximum muxing or demuxing delay in microseconds (from -1 to INT_MAX) (default -1)\n  -fpsprobesize    \n        .D...... number of frames used to probe fps (from -1 to 2.14748e+09) (default -1)\n  -f_err_detect    \n      .D...... set error detection flags (deprecated; use err_detect, save via avconv) (default crccheck)\n     crccheck                     .D...... verify embedded CRCs\n     bitstream                    .D...... detect bitstream specification deviations\n     buffer                       .D...... detect improper bitstream length\n     explode                      .D...... abort decoding on minor error detection\n     ignore_err                   .D...... ignore errors\n     careful                      .D...... consider things that violate the spec, are fast to check and have not been seen in the wild as errors\n     compliant                    .D...... consider all spec non compliancies as errors\n     aggressive                   .D...... consider things that a sane encoder shouldn't do as an error\n  -err_detect      \n      .D...... set error detection flags (default crccheck)\n     crccheck                     .D...... verify embedded CRCs\n     bitstream                    .D...... detect bitstream specification deviations\n     buffer                       .D...... detect improper bitstream length\n     explode                      .D...... abort decoding on minor error detection\n     ignore_err                   .D...... ignore errors\n     careful                      .D...... consider things that violate the spec, are fast to check and have not been seen in the wild as errors\n     compliant                    .D...... consider all spec non compliancies as errors\n     aggressive                   .D...... consider things that a sane encoder shouldn't do as an error\n  -use_wallclock_as_timestamps \n                                                            .D...... use wallclock as timestamps (default false)\n  -skip_initial_bytes \n                                                                  .D...... set number of bytes to skip before reading header and frames (from 0 to I64_MAX) (default 0)\n  -correct_ts_overflow \n                                                                    .D...... correct single timestamp overflows (default true)\n  -f_strict        \n        ED...... how strictly to follow the standards (deprecated; use strict, save via avconv) (from INT_MIN to INT_MAX) (default normal)\n     very                         ED...... strictly conform to a older more strict version of the spec or reference software\n     strict                       ED...... strictly conform to all the things in the spec no matter what the consequences\n     normal                       ED......\n     unofficial                   ED...... allow unofficial extensions\n     experimental                 ED...... allow non-standardized experimental variants\n  -strict          \n        ED...... how strictly to follow the standards (from INT_MIN to INT_MAX) (default normal)\n     very                         ED...... strictly conform to a older more strict version of the spec or reference software\n     strict                       ED...... strictly conform to all the things in the spec no matter what the consequences\n     normal                       ED......\n     unofficial                   ED...... allow unofficial extensions\n     experimental                 ED...... allow non-standardized experimental variants\n  -max_ts_probe    \n        .D...... maximum number of packets to read while waiting for the first timestamp (from 0 to INT_MAX) (default 50)\n  -dump_separator  \n     ED...... set information dump field separator (default \", \")\n  -codec_whitelist \n     .D...... List of decoders that are allowed to be used\n  -format_whitelist\n     .D...... List of demuxers that are allowed to be used\n  -protocol_whitelist \n                                                                                                 .D...... List of protocols that are allowed to be used\n  -protocol_blacklist \n                                                                                                     .D...... List of protocols that are not allowed to be used\n  -max_streams     \n        .D...... maximum number of streams (from 0 to INT_MAX) (default 1000)\nAVIOContext AVOptions:\n  -protocol_whitelist \n                                                                                                             .D...... List of protocols that are allowed to be used\nURLContext AVOptions:\n  -protocol_whitelist \n                                                                                                                 .D...... List of protocols that are allowed to be used\n  -protocol_blacklist \n                                                                                                                     .D...... List of protocols that are not allowed to be used\n  -rw_timeout      \n      ED...... Timeout for IO operations (in microseconds) (from 0 to I64_MAX) (default 0)\nAsync AVOptions:\nCache AVOptions:\n  -read_ahead_limit\n        .D...... Amount in bytes that may be read ahead when seeking isn't supported, -1 for unlimited (from -1 to INT_MAX) (default 65536)\ncrypto AVOptions:\n  -key             \n     ED...... AES encryption/decryption key\n  -iv              \n     ED...... AES encryption/decryption initialization vector\n  -decryption_key  \n     .D...... AES decryption key\n  -decryption_iv   \n     .D...... AES decryption initialization vector\nfile AVOptions:\n  -follow          \n        .D...... Follow a file as it is being written (from 0 to 1) (default 0)\nftp AVOptions:\n  -timeout         \n        ED...... set timeout of socket I/O operations (from -1 to INT_MAX) (default -1)\n  -ftp-anonymous-password \n                                                                                                                                                         ED...... password for anonymous login. E-mail address should be used.\nhttp AVOptions:\n  -seekable        \n    .D...... control seekability of connection (default auto)\n  -http_proxy      \n     ED...... set HTTP proxy to tunnel through\n  -headers         \n     ED...... set custom HTTP headers, can override built in default headers\n  -content_type    \n     ED...... set a specific content type for the POST messages\n  -user_agent      \n     .D...... override User-Agent header (default \"Lavf/57.62.100\")\n  -user-agent      \n     .D...... override User-Agent header (default \"Lavf/57.62.100\")\n  -multiple_requests \n                                                                                                                                                                                    ED...... use persistent connections (default false)\n  -post_data       \n     ED...... set custom HTTP post data\n  -cookies         \n     .D...... set cookies to be sent in applicable future requests, use newline delimited Set-Cookie HTTP field value syntax\n  -icy             \n    .D...... request ICY metadata (default true)\n  -auth_type       \n        ED...... HTTP authentication type (from 0 to 1) (default none)\n     none                         ED...... No auth method set, autodetect\n     basic                        ED...... HTTP basic authentication\n  -location        \n     ED...... The actual location of the data received\n  -offset          \n      .D...... initial byte offset (from 0 to I64_MAX) (default 0)\n  -end_offset      \n      .D...... try to limit the request to bytes preceding this offset (from 0 to I64_MAX) (default 0)\n  -method          \n     ED...... Override the HTTP method or set the expected HTTP method from a client\n  -reconnect       \n    .D...... auto reconnect after disconnect before EOF (default false)\n  -reconnect_at_eof\n    .D...... auto reconnect at EOF (default false)\n  -reconnect_streamed \n                                                                                                                                                                                                                                .D...... auto reconnect streamed / non seekable streams (default false)\n  -reconnect_delay_max \n                                                                                                                                                                                                                                        .D...... max reconnect delay in seconds after which to give up (from 0 to 4294) (default 120)\n  -listen          \n        ED...... listen on HTTP (from 0 to 2) (default 0)\nhttps AVOptions:\n  -seekable        \n    .D...... control seekability of connection (default auto)\n  -http_proxy      \n     ED...... set HTTP proxy to tunnel through\n  -headers         \n     ED...... set custom HTTP headers, can override built in default headers\n  -content_type    \n     ED...... set a specific content type for the POST messages\n  -user_agent      \n     .D...... override User-Agent header (default \"Lavf/57.62.100\")\n  -user-agent      \n     .D...... override User-Agent header (default \"Lavf/57.62.100\")\n  -multiple_requests \n                                                                                                                                                                                                                                                                    ED...... use persistent connections (default false)\n  -post_data       \n     ED...... set custom HTTP post data\n  -cookies         \n     .D...... set cookies to be sent in applicable future requests, use newline delimited Set-Cookie HTTP field value syntax\n  -icy             \n    .D...... request ICY metadata (default true)\n  -auth_type       \n        ED...... HTTP authentication type (from 0 to 1) (default none)\n     none                         ED...... No auth method set, autodetect\n     basic                        ED...... HTTP basic authentication\n  -location        \n     ED...... The actual location of the data received\n  -offset          \n      .D...... initial byte offset (from 0 to I64_MAX) (default 0)\n  -end_offset      \n      .D...... try to limit the request to bytes preceding this offset (from 0 to I64_MAX) (default 0)\n  -method          \n     ED...... Override the HTTP method or set the expected HTTP method from a client\n  -reconnect       \n    .D...... auto reconnect after disconnect before EOF (default false)\n  -reconnect_at_eof\n    .D...... auto reconnect at EOF (default false)\n  -reconnect_streamed \n                                                                                                                                                                                                                                                                                                                .D...... auto reconnect streamed / non seekable streams (default false)\n  -reconnect_delay_max \n                                                                                                                                                                                                                                                                                                                        .D...... max reconnect delay in seconds after which to give up (from 0 to 4294) (default 120)\n  -listen          \n        ED...... listen on HTTP (from 0 to 2) (default 0)\nicecast AVOptions:\npipe AVOptions:\nprompeg AVOptions:\nrtp AVOptions:\n  -ttl             \n        ED...... Time to live (in milliseconds, multicast only) (from -1 to INT_MAX) (default -1)\n  -buffer_size     \n        ED...... Send/Receive buffer size (in bytes) (from -1 to INT_MAX) (default -1)\n  -rtcp_port       \n        ED...... Custom rtcp port (from -1 to INT_MAX) (default -1)\n  -local_rtpport   \n        ED...... Local rtp port (from -1 to INT_MAX) (default -1)\n  -local_rtcpport  \n        ED...... Local rtcp port (from -1 to INT_MAX) (default -1)\n  -connect         \n    ED...... Connect socket (default false)\n  -write_to_source \n    ED...... Send packets to the source address of the latest received packet (default false)\n  -pkt_size        \n        ED...... Maximum packet size (from -1 to INT_MAX) (default -1)\n  -dscp            \n        ED...... DSCP class (from -1 to INT_MAX) (default -1)\n  -sources         \n     ED...... Source list\n  -block           \n     ED...... Block list\nsctp AVOptions:\n  -listen          \n    ED...... Listen for incoming connections (default false)\n  -timeout         \n        ED...... Connection timeout (in milliseconds) (from INT_MIN to INT_MAX) (default 10000)\n  -listen_timeout  \n        ED...... Bind timeout (in milliseconds) (from INT_MIN to INT_MAX) (default -1)\n  -max_streams     \n        ED...... Max stream to allocate (from 0 to 32767) (default 0)\nsrtp AVOptions:\n  -srtp_in_suite   \n     .D...... \n  -srtp_in_params  \n     .D...... \nsubfile AVOptions:\n  -start           \n      .D...... start offset (from 0 to I64_MAX) (default 0)\n  -end             \n      .D...... end offset (from 0 to I64_MAX) (default 0)\ntee AVOptions:\ntcp AVOptions:\n  -listen          \n        ED...... Listen for incoming connections (from 0 to 2) (default 0)\n  -timeout         \n        ED...... set timeout (in microseconds) of socket I/O operations (from -1 to INT_MAX) (default -1)\n  -listen_timeout  \n        ED...... Connection awaiting timeout (in milliseconds) (from -1 to INT_MAX) (default -1)\n  -send_buffer_size\n        ED...... Socket send buffer size (in bytes) (from -1 to INT_MAX) (default -1)\n  -recv_buffer_size  undefined        ED...... Socket receive buffer size (in bytes) (from -1 to INT_MAX) (default -1)\ntls AVOptions:\n  -ca_file           undefined     ED...... Certificate Authority database file\n  -cafile            undefined     ED...... Certificate Authority database file\n  -tls_verify        undefined        ED...... Verify the peer certificate (from 0 to 1) (default 0)\n  -cert_file         undefined     ED...... Certificate file\n  -key_file          undefined     ED...... Private key file\n  -listen            undefined        ED...... Listen for incoming connections (from 0 to 1) (default 0)\n  -verifyhost        undefined     ED...... Verify against a specific hostname\nudp AVOptions:\n  -buffer_size       undefined        ED...... System data size (in bytes) (from -1 to INT_MAX) (default -1)\n  -localport         undefined        ED...... Local port (from -1 to INT_MAX) (default -1)\n  -local_port        undefined        ED...... Local port (from -1 to INT_MAX) (default -1)\n  -localaddr         undefined     ED...... Local address\n  -udplite_coverage  undefined        ED...... choose UDPLite head size which should be validated by checksum (from 0 to INT_MAX) (default 0)\n  -pkt_size          undefined        ED...... Maximum UDP packet size (from -1 to INT_MAX) (default 1472)\n  -reuse             undefined    ED...... explicitly allow reusing UDP sockets (default auto)\n  -reuse_socket      undefined    ED...... explicitly allow reusing UDP sockets (default auto)\n  -connect           undefined    ED...... set if connect() should be called on socket (default false)\n  -fifo_size         undefined        .D...... set the UDP receiving circular buffer size, expressed as a number of packets with size of 188 bytes (from 0 to INT_MAX) (default 28672)\n  -overrun_nonfatal  undefined    .D...... survive in case of UDP receiving circular buffer overrun (default false)\n  -timeout           undefined        .D...... set raise error timeout (only in read mode) (from 0 to INT_MAX) (default 0)\n  -sources           undefined     ED...... Source list\n  -block             undefined     ED...... Block list\nudplite AVOptions:\n  -buffer_size       undefined        ED...... System data size (in bytes) (from -1 to INT_MAX) (default -1)\n  -localport         undefined        ED...... Local port (from -1 to INT_MAX) (default -1)\n  -local_port        undefined        ED...... Local port (from -1 to INT_MAX) (default -1)\n  -localaddr         undefined     ED...... Local address\n  -udplite_coverage  undefined        ED...... choose UDPLite head size which should be validated by checksum (from 0 to INT_MAX) (default 0)\n  -pkt_size          undefined        ED...... Maximum UDP packet size (from -1 to INT_MAX) (default 1472)\n  -reuse             undefined    ED...... explicitly allow reusing UDP sockets (default auto)\n  -reuse_socket      undefined    ED...... explicitly allow reusing UDP sockets (default auto)\n  -connect           undefined    ED...... set if connect() should be called on socket (default false)\n  -fifo_size         undefined        .D...... set the UDP receiving circular buffer size, expressed as a number of packets with size of 188 bytes (from 0 to INT_MAX) (default 28672)\n  -overrun_nonfatal  undefined    .D...... survive in case of UDP receiving circular buffer overrun (default false)\n  -timeout           undefined        .D...... set raise error timeout (only in read mode) (from 0 to INT_MAX) (default 0)\n  -sources           undefined     ED...... Source list\n  -block             undefined     ED...... Block list\nunix AVOptions:\n  -listen            undefined    ED...... Open socket for listening (default false)\n  -timeout           undefined        ED...... Timeout in ms (from -1 to INT_MAX) (default -1)\n  -type              undefined        ED...... Socket type (from INT_MIN to INT_MAX) (default stream)\n     stream                       ED...... Stream (reliable stream-oriented)\n     datagram                     ED...... Datagram (unreliable packet-oriented)\n     seqpacket                    ED...... Seqpacket (reliable packet-oriented\nlibrtmp protocol AVOptions:\n  -rtmp_app          undefined     ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer       undefined     ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn         undefined     ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver     undefined     ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live         undefined        .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl      undefined     .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath     undefined     ED...... Stream identifier to play or to publish\n  -rtmp_subscribe    undefined     .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl       undefined     ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify    undefined     .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl        undefined     ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size  undefined        ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmpe protocol AVOptions:\n  -rtmp_app          undefined     ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer       undefined     ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn         undefined     ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver     undefined     ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live         undefined        .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl      undefined     .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath     undefined     ED...... Stream identifier to play or to publish\n  -rtmp_subscribe    undefined     .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl       undefined     ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify    undefined     .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl        undefined     ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size  undefined        ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmps protocol AVOptions:\n  -rtmp_app          undefined     ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer       undefined     ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn         undefined     ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver     undefined     ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live         undefined        .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl      undefined     .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath     undefined     ED...... Stream identifier to play or to publish\n  -rtmp_subscribe    undefined     .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl       undefined     ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify    undefined     .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl        undefined     ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size  undefined        ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmpt protocol AVOptions:\n  -rtmp_app          undefined     ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer       undefined     ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn         undefined     ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver     undefined     ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live         undefined        .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl      undefined     .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath     undefined     ED...... Stream identifier to play or to publish\n  -rtmp_subscribe    undefined     .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl       undefined     ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify    undefined     .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl        undefined     ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size  undefined        ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmpte protocol AVOptions:\n  -rtmp_app          undefined     ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer       undefined     ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn         undefined     ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver     undefined     ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live         undefined        .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl      undefined     .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath     undefined     ED...... Stream identifier to play or to publish\n  -rtmp_subscribe    undefined     .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl       undefined     ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify    undefined     .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl        undefined     ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size  undefined        ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\naa AVOptions:\n  -aa_fixed_key      undefined     .D...... Fixed key used for handling Audible AA files\nArtworx Data Format demuxer AVOptions:\n  -linespeed         undefined        .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size        undefined .D...... set video size, such as 640x480 or hd720.\n  -framerate         undefined .D...... set framerate (frames per second) (default \"25\")\nAPNG demuxer AVOptions:\n  -ignore_loop       undefined    .D...... ignore loop setting (default true)\n  -max_fps           undefined        .D...... maximum framerate (0 is no limit) (from 0 to INT_MAX) (default 15)\n  -default_fps       undefined        .D...... default framerate (0 is as fast as possible) (from 0 to INT_MAX) (default 15)\naqtdec AVOptions:\n  -subfps            undefined   .D...S.. set the movie frame rate (from 0 to INT_MAX) (default 25/1)\nasf demuxer AVOptions:\n  -no_resync_search  undefined    .D...... Don't try to resynchronize by looking for a certain optional start code (default false)\n  -export_xmp        undefined    .D...... Export full XMP metadata (default false)\navi AVOptions:\n  -use_odml          undefined    .D...... use odml index (default true)\nBinary text demuxer AVOptions:\n  -linespeed         undefined        .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size        undefined .D...... set video size, such as 640x480 or hd720.\n  -framerate         undefined .D...... set framerate (frames per second) (default \"25\")\ncavsvideo demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nCDXL demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 1 to INT_MAX) (default 11025)\n  -framerate         undefined     .D...... \nconcat demuxer AVOptions:\n  -safe              undefined    .D...... enable safe mode (default true)\n  -auto_convert      undefined    .D...... automatically convert bitstream format (default true)\n  -segment_time_metadata undefined    .D...... output file segment start time and duration as packet metadata (default false)\ndirac demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\ndnxhd demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\ndvbsub demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\ndvbtxt demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nffm demuxer AVOptions:\nflvdec AVOptions:\n  -flv_metadata      undefined    .D.V.... Allocate streams according to the onMetaData array (default false)\n  -missing_streams   undefined        .D.V..XR  (from 0 to 255) (default 0)\nlive_flvdec AVOptions:\n  -flv_metadata      undefined    .D.V.... Allocate streams according to the onMetaData array (default false)\n  -missing_streams   undefined        .D.V..XR  (from 0 to 255) (default 0)\ng729 demuxer AVOptions:\n  -bit_rate          undefined        .D......  (from 0 to INT_MAX) (default 8000)\nGIF demuxer AVOptions:\n  -min_delay         undefined        .D...... minimum valid delay between frames (in hundredths of second) (from 0 to 6000) (default 2)\n  -max_gif_delay     undefined        .D...... maximum valid delay between frames (in hundredths of seconds) (from 0 to 65535) (default 65535)\n  -default_delay     undefined        .D...... default delay between frames (in hundredths of second) (from 0 to 6000) (default 10)\n  -ignore_loop       undefined    .D...... ignore loop setting (netscape extension) (default true)\ngsm demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 1 to 6.50753e+07) (default 8000)\nh261 demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nh263 demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nh264 demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nhevc demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nhls,applehttp AVOptions:\n  -live_start_index  undefined        .D...... segment index to start live streams at (negative values are from the end) (from INT_MIN to INT_MAX) (default -3)\niCE Draw File demuxer AVOptions:\n  -linespeed         undefined        .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size        undefined .D...... set video size, such as 640x480 or hd720.\n  -framerate         undefined .D...... set framerate (frames per second) (default \"25\")\nimage2 demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nimage2pipe demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nalias_pix demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nbrender_pix demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ningenient demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nm4v demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nmicrodvddec AVOptions:\n  -subfps            undefined   .D...S.. set the movie frame rate fallback (from 0 to INT_MAX) (default 0/1)\nmjpeg demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nmjpeg_2000 demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nmov,mp4,m4a,3gp,3g2,mj2 AVOptions:\n  -use_absolute_path undefined    .D.V.... allow using absolute path when opening alias, this is a possible security issue (default false)\n  -seek_streams_individually undefined    .D.V.... Seek each stream individually to the to the closest point (default true)\n  -ignore_editlist   undefined    .D.V....  (default false)\n  -ignore_chapters   undefined    .D.V....  (default false)\n  -use_mfra_for      undefined        .D.V.... use mfra for fragment timestamps (from -1 to 2) (default auto)\n     auto                         .D.V.... auto\n     dts                          .D.V.... dts\n     pts                          .D.V.... pts\n  -export_all        undefined    .D.V.... Export unrecognized metadata entries (default false)\n  -export_xmp        undefined    .D.V.... Export full XMP metadata (default false)\n  -activation_bytes  undefined     .D...... Secret bytes for Audible AAX files\n  -audible_fixed_key undefined     .D...... Fixed key used for handling Audible AAX files\n  -decryption_key    undefined     .D...... The media decryption key (hex)\n  -enable_drefs      undefined    .D.V.... Enable external track support. (default false)\nmp3 AVOptions:\n  -usetoc            undefined    .D...... use table of contents (default false)\nmpegts demuxer AVOptions:\n  -resync_size       undefined        .D...... set size limit for looking up a new synchronization (from 0 to INT_MAX) (default 65536)\n  -fix_teletext_pts  undefined    .D...... try to fix pts values of dvb teletext streams (default true)\n  -ts_packetsize     undefined        .D....XR output option carrying the raw packet size (from 0 to 0) (default 0)\n  -scan_all_pmts     undefined    .D...... scan and combine all PMTs (default auto)\nmpegtsraw demuxer AVOptions:\n  -resync_size       undefined        .D...... set size limit for looking up a new synchronization (from 0 to INT_MAX) (default 65536)\n  -compute_pcr       undefined    .D...... compute exact PCR for each transport stream packet (default false)\n  -ts_packetsize     undefined        .D....XR output option carrying the raw packet size (from 0 to 0) (default 0)\nmpegvideo demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nMPJPEG demuxer AVOptions:\n  -strict_mime_boundary undefined    .D...... require MIME boundaries match (default false)\nalaw demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nmulaw demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nf64be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nf64le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nf32be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nf32le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns32be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns32le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns24be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns24le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns16be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns16le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns8 demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu32be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu32le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu24be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu24le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu16be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu16le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu8 demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nrawvideo demuxer AVOptions:\n  -video_size        undefined .D...... set frame size\n  -pixel_format      undefined     .D...... set pixel format (default \"yuv420p\")\n  -framerate         undefined .D...... set frame rate (default \"25\")\nRTP demuxer AVOptions:\n  -rtp_flags         undefined      .D...... set RTP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n  -reorder_queue_size undefined        .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size       undefined        ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\nRTSP demuxer AVOptions:\n  -initial_pause     undefined    .D...... do not start playing the stream immediately (default false)\n  -rtsp_transport    undefined      ED...... set RTSP transport protocols (default 0)\n     udp                          ED...... UDP\n     tcp                          ED...... TCP\n     udp_multicast                .D...... UDP multicast\n     http                         .D...... HTTP tunneling\n  -rtsp_flags        undefined      .D...... set RTSP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n     listen                       .D...... wait for incoming connections\n     prefer_tcp                   ED...... try RTP via TCP first, if available\n  -allowed_media_types undefined      .D...... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D...... Video\n     audio                        .D...... Audio\n     data                         .D...... Data\n     subtitle                     .D...... Subtitle\n  -min_port          undefined        ED...... set minimum local UDP port (from 0 to 65535) (default 5000)\n  -max_port          undefined        ED...... set maximum local UDP port (from 0 to 65535) (default 65000)\n  -timeout           undefined        .D...... set maximum timeout (in seconds) to wait for incoming connections (-1 is infinite, imply flag listen) (from INT_MIN to INT_MAX) (default -1)\n  -stimeout          undefined        .D...... set timeout (in microseconds) of socket TCP I/O operations (from INT_MIN to INT_MAX) (default 0)\n  -reorder_queue_size undefined        .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size       undefined        ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\n  -user-agent        undefined     .D...... override User-Agent header (default \"Lavf57.62.100\")\nsbg_demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 0)\n  -frame_size        undefined        .D......  (from 0 to INT_MAX) (default 0)\n  -max_file_size     undefined        .D......  (from 0 to INT_MAX) (default 5e+06)\nSDP demuxer AVOptions:\n  -sdp_flags         undefined      .D...... SDP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n     custom_io                    .D...... use custom I/O\n     rtcp_to_source               .D...... send RTCP packets to the source address of received packets\n  -allowed_media_types undefined      .D...... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D...... Video\n     audio                        .D...... Audio\n     data                         .D...... Data\n     subtitle                     .D...... Subtitle\n  -reorder_queue_size undefined        .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size       undefined        ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\nsln demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 8000)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ntedcaptions_demuxer AVOptions:\n  -start_time        undefined      .D...S.. set the start time (offset) of the subtitles, in ms (from I64_MIN to I64_MAX) (default 15000)\nTTY demuxer AVOptions:\n  -chars_per_frame   undefined        .D......  (from 1 to INT_MAX) (default 6000)\n  -video_size        undefined .D...... A string describing frame size, such as 640x480 or hd720.\n  -framerate         undefined .D......  (default \"25\")\nv210 demuxer AVOptions:\n  -video_size        undefined .D...... set frame size\n  -framerate         undefined .D...... set frame rate (default \"25\")\nv210x demuxer AVOptions:\n  -video_size        undefined .D...... set frame size\n  -framerate         undefined .D...... set frame rate (default \"25\")\nvc1 demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nvobsub AVOptions:\n  -sub_name          undefined     .D...... URI for .sub file\nWAV demuxer AVOptions:\n  -ignore_length     undefined    .D...... Ignore length (default false)\nWebM DASH Manifest demuxer AVOptions:\n  -live              undefined    .D...... flag indicating that the input is a live file that only has the headers. (default false)\nWebVTT demuxer AVOptions:\neXtended BINary text (XBIN) demuxer AVOptions:\n  -linespeed         undefined        .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size        undefined .D...... set video size, such as 640x480 or hd720.\n  -framerate         undefined .D...... set framerate (frames per second) (default \"25\")\nbmp demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ndds demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ndpx demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nexr demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nj2k demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\njpeg demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\njpegls demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npam demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npbm demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npcx demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npgmyuv demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npgm demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npictor demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npng demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nppm demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npsd demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nqdraw demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nsgi demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nsunrast demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ntiff demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nwebp demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nDV1394 indev AVOptions:\n  -standard          undefined        .D......  (from 0 to 1) (default NTSC)\n     PAL                          .D...... \n     NTSC                         .D...... \n  -channel           undefined        .D......  (from 0 to INT_MAX) (default 63)\nfbdev indev AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nlavfi indev AVOptions:\n  -graph             undefined     .D...... set libavfilter graph\n  -graph_file        undefined     .D...... set libavfilter graph filename\n  -dumpgraph         undefined     .D...... dump graph to stderr\nOSS demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 1 to INT_MAX) (default 48000)\n  -channels          undefined        .D......  (from 1 to INT_MAX) (default 2)\nV4L2 indev AVOptions:\n  -standard          undefined     .D...... set TV standard, used only by analog frame grabber\n  -channel           undefined        .D...... set TV channel, used only by frame grabber (from -1 to INT_MAX) (default -1)\n  -video_size        undefined .D...... set frame size\n  -pixel_format      undefined     .D...... set preferred pixel format\n  -input_format      undefined     .D...... set preferred pixel format (for raw video) or codec name\n  -framerate         undefined     .D...... set frame rate\n  -list_formats      undefined        .D...... list available formats and exit (from 0 to INT_MAX) (default 0)\n     all                          .D...... show all available formats\n     raw                          .D...... show only non-compressed formats\n     compressed                   .D...... show only compressed formats\n  -list_standards    undefined        .D...... list supported standards and exit (from 0 to 1) (default 0)\n     all                          .D...... show all supported standards\n  -timestamps        undefined        .D...... set type of timestamps for grabbed frames (from 0 to 2) (default default)\n     default                      .D...... use timestamps from the kernel\n     abs                          .D...... use absolute timestamps (wall clock)\n     mono2abs                     .D...... force conversion from monotonic to absolute timestamps\n  -ts                undefined        .D...... set type of timestamps for grabbed frames (from 0 to 2) (default default)\n     default                      .D...... use timestamps from the kernel\n     abs                          .D...... use absolute timestamps (wall clock)\n     mono2abs                     .D...... force conversion from monotonic to absolute timestamps\n  -use_libv4l2       undefined    .D...... use libv4l2 (v4l-utils) conversion functions (default false)\nxcbgrab indev AVOptions:\n  -x                 undefined        .D...... Initial x coordinate. (from 0 to INT_MAX) (default 0)\n  -y                 undefined        .D...... Initial y coordinate. (from 0 to INT_MAX) (default 0)\n  -grab_x            undefined        .D...... Initial x coordinate. (from 0 to INT_MAX) (default 0)\n  -grab_y            undefined        .D...... Initial y coordinate. (from 0 to INT_MAX) (default 0)\n  -video_size        undefined     .D...... A string describing frame size, such as 640x480 or hd720. (default \"vga\")\n  -framerate         undefined     .D......  (default \"ntsc\")\n  -draw_mouse        undefined        .D...... Draw the mouse pointer. (from 0 to 1) (default 1)\n  -follow_mouse      undefined        .D...... Move the grabbing region when the mouse pointer reaches within specified amount of pixels to the edge of region. (from -1 to INT_MAX) (default 0)\n     centered                     .D...... Keep the mouse pointer at the center of grabbing region when following.\n  -show_region       undefined        .D...... Show the grabbing region. (from 0 to 1) (default 0)\n  -region_border     undefined        .D...... Set the region border thickness. (from 1 to 128) (default 3)\nADTS muxer AVOptions:\nAIFF muxer AVOptions:\nAPNG muxer AVOptions:\nASF muxer AVOptions:\nass muxer AVOptions:\nAST muxer AVOptions:\nASF stream muxer AVOptions:\nAVI muxer AVOptions:\ndash muxer AVOptions:\nf4v muxer AVOptions:\nFifo muxer AVOptions:\nflac muxer AVOptions:\nflv muxer AVOptions:\nframe hash encoder class AVOptions:\nframe hash encoder class AVOptions:\nGIF muxer AVOptions:\nhash encoder class AVOptions:\nHDS muxer AVOptions:\nhls muxer AVOptions:\nimage2 muxer AVOptions:\nipod muxer AVOptions:\nismv muxer AVOptions:\nLATM/LOAS muxer AVOptions:\nMD5 encoder class AVOptions:\nmatroska muxer AVOptions:\nmatroska audio muxer AVOptions:\nmov muxer AVOptions:\nMP3 muxer AVOptions:\nmp4 muxer AVOptions:\nmpeg muxer AVOptions:\nvcd muxer AVOptions:\ndvd muxer AVOptions:\nsvcd muxer AVOptions:\nvob muxer AVOptions:\nMPEGTS muxer AVOptions:\nmpjpeg_muxer AVOptions:\nMXF muxer AVOptions:\nMXF-D10 muxer AVOptions:\nMXF-OPAtom muxer AVOptions:\nnutenc AVOptions:\nOgg audio muxer AVOptions:\nOgg muxer AVOptions:\nOgg video muxer AVOptions:\nOgg Opus muxer AVOptions:\npsp muxer AVOptions:\nRTP muxer AVOptions:\nRTSP muxer AVOptions:\n  -initial_pause     undefined    .D...... do not start playing the stream immediately (default false)\n  -rtsp_transport    undefined      ED...... set RTSP transport protocols (default 0)\n     udp                          ED...... UDP\n     tcp                          ED...... TCP\n     udp_multicast                .D...... UDP multicast\n     http                         .D...... HTTP tunneling\n  -rtsp_flags        undefined      .D...... set RTSP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n     listen                       .D...... wait for incoming connections\n     prefer_tcp                   ED...... try RTP via TCP first, if available\n  -allowed_media_types undefined      .D...... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D...... Video\n     audio                        .D...... Audio\n     data                         .D...... Data\n     subtitle                     .D...... Subtitle\n  -min_port          undefined        ED...... set minimum local UDP port (from 0 to 65535) (default 5000)\n  -max_port          undefined        ED...... set maximum local UDP port (from 0 to 65535) (default 65000)\n  -timeout           undefined        .D...... set maximum timeout (in seconds) to wait for incoming connections (-1 is infinite, imply flag listen) (from INT_MIN to INT_MAX) (default -1)\n  -stimeout          undefined        .D...... set timeout (in microseconds) of socket TCP I/O operations (from INT_MIN to INT_MAX) (default 0)\n  -reorder_queue_size undefined        .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size       undefined        ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\n  -user-agent        undefined     .D...... override User-Agent header (default \"Lavf57.62.100\")\nsegment muxer AVOptions:\nstream_segment muxer AVOptions:\nsmooth streaming muxer AVOptions:\nOgg Speex muxer AVOptions:\nspdif AVOptions:\nTee muxer AVOptions:\ntg2 muxer AVOptions:\ntgp muxer AVOptions:\nWAV muxer AVOptions:\nwebm muxer AVOptions:\nWebM DASH Manifest muxer AVOptions:\nWebM Chunk Muxer AVOptions:\nWebP muxer AVOptions:\nfbdev outdev AVOptions:\n                                [1] => \n                            )\n\n                        [[option--show_streams][1]] => Array\n                            (\n                                [0] => 1\n                                [1] => \n                            )\n\n                        [[option--print_format][1]] => Array\n                            (\n                                [0] => 1\n                                [1] => \n                            )\n\n                        [[-show_streams-/var/www/html/public/0b14d35e92f96497d0cabd0ebe9ea566.mp4][1]] => Array\n                            (\n                                [0] => FFMpeg\\FFProbe\\DataMapping\\StreamCollection Object\n                                    (\n                                        [streams:FFMpeg\\FFProbe\\DataMapping\\StreamCollection:private] => Array\n                                            (\n                                                [0] => FFMpeg\\FFProbe\\DataMapping\\Stream Object\n                                                    (\n                                                        [properties:FFMpeg\\FFProbe\\DataMapping\\AbstractData:private] => Array\n                                                            (\n                                                                [index] => 0\n                                                                [codec_name] => h264\n                                                                [codec_long_name] => H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10\n                                                                [profile] => Main\n                                                                [codec_type] => video\n                                                                [codec_time_base] => 1/50\n                                                                [codec_tag_string] => avc1\n                                                                [codec_tag] => 0x31637661\n                                                                [width] => 1280\n                                                                [height] => 720\n                                                                [coded_width] => 1280\n                                                                [coded_height] => 720\n                                                                [has_b_frames] => 0\n                                                                [sample_aspect_ratio] => 1:1\n                                                                [display_aspect_ratio] => 16:9\n                                                                [pix_fmt] => yuv420p\n                                                                [level] => 31\n                                                                [chroma_location] => left\n                                                                [refs] => 1\n                                                                [is_avc] => true\n                                                                [nal_length_size] => 4\n                                                                [r_frame_rate] => 25/1\n                                                                [avg_frame_rate] => 25/1\n                                                                [time_base] => 1/12800\n                                                                [start_pts] => 0\n                                                                [start_time] => 0.000000\n                                                                [duration_ts] => 67584\n                                                                [duration] => 5.280000\n                                                                [bit_rate] => 1205959\n                                                                [bits_per_raw_sample] => 8\n                                                                [nb_frames] => 132\n                                                                [disposition] => Array\n                                                                    (\n                                                                        [default] => 1\n                                                                        [dub] => 0\n                                                                        [original] => 0\n                                                                        [comment] => 0\n                                                                        [lyrics] => 0\n                                                                        [karaoke] => 0\n                                                                        [forced] => 0\n                                                                        [hearing_impaired] => 0\n                                                                        [visual_impaired] => 0\n                                                                        [clean_effects] => 0\n                                                                        [attached_pic] => 0\n                                                                        [timed_thumbnails] => 0\n                                                                    )\n\n                                                                [tags] => Array\n                                                                    (\n                                                                        [creation_time] => 1970-01-01T00:00:00.000000Z\n                                                                        [language] => und\n                                                                        [handler_name] => VideoHandler\n                                                                    )\n\n                                                            )\n\n                                                    )\n\n                                                [1] => FFMpeg\\FFProbe\\DataMapping\\Stream Object\n                                                    (\n                                                        [properties:FFMpeg\\FFProbe\\DataMapping\\AbstractData:private] => Array\n                                                            (\n                                                                [index] => 1\n                                                                [codec_name] => aac\n                                                                [codec_long_name] => AAC (Advanced Audio Coding)\n                                                                [profile] => LC\n                                                                [codec_type] => audio\n                                                                [codec_time_base] => 1/48000\n                                                                [codec_tag_string] => mp4a\n                                                                [codec_tag] => 0x6134706d\n                                                                [sample_fmt] => fltp\n                                                                [sample_rate] => 48000\n                                                                [channels] => 6\n                                                                [channel_layout] => 5.1\n                                                                [bits_per_sample] => 0\n                                                                [r_frame_rate] => 0/0\n                                                                [avg_frame_rate] => 0/0\n                                                                [time_base] => 1/48000\n                                                                [start_pts] => 0\n                                                                [start_time] => 0.000000\n                                                                [duration_ts] => 254976\n                                                                [duration] => 5.312000\n                                                                [bit_rate] => 384828\n                                                                [max_bit_rate] => 400392\n                                                                [nb_frames] => 249\n                                                                [disposition] => Array\n                                                                    (\n                                                                        [default] => 1\n                                                                        [dub] => 0\n                                                                        [original] => 0\n                                                                        [comment] => 0\n                                                                        [lyrics] => 0\n                                                                        [karaoke] => 0\n                                                                        [forced] => 0\n                                                                        [hearing_impaired] => 0\n                                                                        [visual_impaired] => 0\n                                                                        [clean_effects] => 0\n                                                                        [attached_pic] => 0\n                                                                        [timed_thumbnails] => 0\n                                                                    )\n\n                                                                [tags] => Array\n                                                                    (\n                                                                        [creation_time] => 1970-01-01T00:00:00.000000Z\n                                                                        [language] => und\n                                                                        [handler_name] => SoundHandler\n                                                                    )\n\n                                                            )\n\n                                                    )\n\n                                            )\n\n                                    )\n\n                                [1] => \n                            )\n\n                    )\n\n                [hitsCount:Doctrine\\Common\\Cache\\ArrayCache:private] => 1\n                [missesCount:Doctrine\\Common\\Cache\\ArrayCache:private] => 1\n                [upTime:Doctrine\\Common\\Cache\\ArrayCache:private] => 1487679679\n                [namespace:Doctrine\\Common\\Cache\\CacheProvider:private] => \n                [namespaceVersion:Doctrine\\Common\\Cache\\CacheProvider:private] => 1\n            )\n\n        [optionsTester:FFMpeg\\FFProbe:private] => FFMpeg\\FFProbe\\OptionsTester Object\n            (\n                [ffprobe:FFMpeg\\FFProbe\\OptionsTester:private] => FFMpeg\\Driver\\FFProbeDriver Object\n                    (\n                        [configuration:protected] => Alchemy\\BinaryDriver\\Configuration Object\n                            (\n                                [data:Alchemy\\BinaryDriver\\Configuration:private] => Array\n                                    (\n                                        [ffmpeg.binaries] => /var/www/html/public/ffmpeg/ffmpeg\n                                        [ffprobe.binaries] => /var/www/html/public/ffmpeg/ffprobe\n                                        [timeout] => 3600\n                                        [ffmpeg.threads] => 12\n                                    )\n\n                            )\n\n                        [factory:protected] => Alchemy\\BinaryDriver\\ProcessBuilderFactory Object\n                            (\n                                [binary:protected] => /var/www/html/public/ffmpeg/ffprobe\n                                [timeout:Alchemy\\BinaryDriver\\ProcessBuilderFactory:private] => 3600\n                                [builder:Alchemy\\BinaryDriver\\ProcessBuilderFactory:private] => Symfony\\Component\\Process\\ProcessBuilder Object\n                                    (\n                                        [arguments:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                                            (\n                                                [0] => /var/www/html/public/0b14d35e92f96497d0cabd0ebe9ea566.mp4\n                                                [1] => -show_streams\n                                                [2] => -print_format\n                                                [3] => json\n                                            )\n\n                                        [cwd:Symfony\\Component\\Process\\ProcessBuilder:private] => \n                                        [env:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                                            (\n                                            )\n\n                                        [input:Symfony\\Component\\Process\\ProcessBuilder:private] => \n                                        [timeout:Symfony\\Component\\Process\\ProcessBuilder:private] => 3600\n                                        [options:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                                            (\n                                            )\n\n                                        [inheritEnv:Symfony\\Component\\Process\\ProcessBuilder:private] => 1\n                                        [prefix:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                                            (\n                                                [0] => /var/www/html/public/ffmpeg/ffprobe\n                                            )\n\n                                        [outputDisabled:Symfony\\Component\\Process\\ProcessBuilder:private] => \n                                    )\n\n                            )\n\n                        [processRunner:Alchemy\\BinaryDriver\\AbstractBinary:private] => Alchemy\\BinaryDriver\\ProcessRunner Object\n                            (\n                                [logger:Alchemy\\BinaryDriver\\ProcessRunner:private] => Monolog\\Logger Object\n                                    (\n                                        [name:protected] => Alchemy\\BinaryDriver logger\n                                        [handlers:protected] => Array\n                                            (\n                                                [0] => Monolog\\Handler\\NullHandler Object\n                                                    (\n                                                        [level:protected] => 100\n                                                        [bubble:protected] => \n                                                        [formatter:protected] => \n                                                        [processors:protected] => Array\n                                                            (\n                                                            )\n\n                                                    )\n\n                                            )\n\n                                        [processors:protected] => Array\n                                            (\n                                            )\n\n                                    )\n\n                                [name:Alchemy\\BinaryDriver\\ProcessRunner:private] => ffprobe\n                            )\n\n                        [listenersManager:Alchemy\\BinaryDriver\\AbstractBinary:private] => Alchemy\\BinaryDriver\\Listeners\\Listeners Object\n                            (\n                                [storage] => SplObjectStorage Object\n                                    (\n                                        [storage:SplObjectStorage:private] => Array\n                                            (\n                                            )\n\n                                    )\n\n                                [listeners:protected] => Array\n                                    (\n                                    )\n\n                            )\n\n                        [listeners:protected] => Array\n                            (\n                            )\n\n                    )\n\n                [cache:FFMpeg\\FFProbe\\OptionsTester:private] => Doctrine\\Common\\Cache\\ArrayCache Object\n                    (\n                        [data:Doctrine\\Common\\Cache\\ArrayCache:private] => Array\n                            (\n                                [[help][1]] => Array\n                                    (\n                                        [0] => Simple multimedia streams analyzer\n\nusage: ffprobe [OPTIONS] [INPUT_FILE]\nMain options:\n-L                  show license\n-h topic            show help\n-? topic            show help\n-help topic         show help\n--help topic        show help\n-version            show version\n-buildconf          show build configuration\n-formats            show available formats\n-muxers             show available muxers\n-demuxers           show available demuxers\n-devices            show available devices\n-codecs             show available codecs\n-decoders           show available decoders\n-encoders           show available encoders\n-bsfs               show available bit stream filters\n-protocols          show available protocols\n-filters            show available filters\n-pix_fmts           show available pixel formats\n-layouts            show standard channel layouts\n-sample_fmts        show available audio sample formats\n-colors             show available color names\n-loglevel loglevel  set logging level\n-v loglevel         set logging level\n-report             generate a report\n-max_alloc bytes    set maximum size of a single allocated block\n-cpuflags flags     force specific cpu flags\n-hide_banner hide_banner  do not show program banner\n-sources device     list sources of the input device\n-sinks device       list sinks of the output device\n-f format           force format\n-unit               show unit of the displayed values\n-prefix             use SI prefixes for the displayed values\n-byte_binary_prefix  use binary prefixes for byte units\n-sexagesimal        use sexagesimal format HOURS:MM:SS.MICROSECONDS for time units\n-pretty             prettify the format of displayed values, make it more human readable\n-print_format format  set the output printing format (available formats are: default, compact, csv, flat, ini, json, xml)\n-of format          alias for -print_format\n-select_streams stream_specifier  select the specified streams\n-sections           print sections structure and section information, and exit\n-show_data          show packets data\n-show_data_hash     show packets data hash\n-show_error         show probing error\n-show_format        show format/container info\n-show_frames        show frames info\n-show_format_entry entry  show a particular entry from the format/container info\n-show_entries entry_list  show a set of specified entries\n-show_packets       show packets info\n-show_programs      show programs info\n-show_streams       show streams info\n-show_chapters      show chapters info\n-count_frames       count the number of frames per stream\n-count_packets      count the number of packets per stream\n-show_program_version  show ffprobe version\n-show_library_versions  show library versions\n-show_versions      show program and library versions\n-show_pixel_formats  show pixel format descriptions\n-show_private_data  show private data\n-private            same as show_private_data\n-bitexact           force bitexact output\n-read_intervals read_intervals  set read intervals\n-default            generic catch all option\n-i input_file       read specified file\nAVFormatContext AVOptions:\n  -avioflags         undefined      ED...... (default 0)\n     direct                       ED...... reduce buffering\n  -probesize         undefined      .D...... set probing size (from 32 to I64_MAX) (default 5e+06)\n  -formatprobesize   undefined        .D...... number of bytes to probe file format (from 0 to 2.14748e+09) (default 1.04858e+06)\n  -fflags            undefined      ED...... (default flush_packets+autobsf)\n     ignidx                       .D...... ignore index\n     genpts                       .D...... generate pts\n     nofillin                     .D...... do not fill in missing values that can be exactly calculated\n     noparse                      .D...... disable AVParsers, this needs nofillin too\n     igndts                       .D...... ignore dts\n     discardcorrupt               .D...... discard corrupted frames\n     sortdts                      .D...... try to interleave outputted packets by dts\n     keepside                     .D...... don't merge side data\n     fastseek                     .D...... fast but inaccurate seeks\n     nobuffer                     .D...... reduce the latency introduced by optional buffering\n  -seek2any          undefined    .D...... allow seeking to non-keyframes on demuxer level when supported (default false)\n  -analyzeduration   undefined      .D...... specify how many microseconds are analyzed to probe the input (from 0 to I64_MAX) (default 0)\n  -cryptokey         undefined     .D...... decryption key\n  -indexmem          undefined        .D...... max memory used for timestamp index (per stream) (from 0 to INT_MAX) (default 1.04858e+06)\n  -rtbufsize         undefined        .D...... max memory used for buffering real-time frames (from 0 to INT_MAX) (default 3.04128e+06)\n  -fdebug            undefined      ED...... print specific debug info (default 0)\n     ts                           ED......\n  -max_delay         undefined        ED...... maximum muxing or demuxing delay in microseconds (from -1 to INT_MAX) (default -1)\n  -fpsprobesize      undefined        .D...... number of frames used to probe fps (from -1 to 2.14748e+09) (default -1)\n  -f_err_detect      undefined      .D...... set error detection flags (deprecated; use err_detect, save via avconv) (default crccheck)\n     crccheck                     .D...... verify embedded CRCs\n     bitstream                    .D...... detect bitstream specification deviations\n     buffer                       .D...... detect improper bitstream length\n     explode                      .D...... abort decoding on minor error detection\n     ignore_err                   .D...... ignore errors\n     careful                      .D...... consider things that violate the spec, are fast to check and have not been seen in the wild as errors\n     compliant                    .D...... consider all spec non compliancies as errors\n     aggressive                   .D...... consider things that a sane encoder shouldn't do as an error\n  -err_detect        undefined      .D...... set error detection flags (default crccheck)\n     crccheck                     .D...... verify embedded CRCs\n     bitstream                    .D...... detect bitstream specification deviations\n     buffer                       .D...... detect improper bitstream length\n     explode                      .D...... abort decoding on minor error detection\n     ignore_err                   .D...... ignore errors\n     careful                      .D...... consider things that violate the spec, are fast to check and have not been seen in the wild as errors\n     compliant                    .D...... consider all spec non compliancies as errors\n     aggressive                   .D...... consider things that a sane encoder shouldn't do as an error\n  -use_wallclock_as_timestamps undefined    .D...... use wallclock as timestamps (default false)\n  -skip_initial_bytes undefined      .D...... set number of bytes to skip before reading header and frames (from 0 to I64_MAX) (default 0)\n  -correct_ts_overflow undefined    .D...... correct single timestamp overflows (default true)\n  -f_strict          undefined        ED...... how strictly to follow the standards (deprecated; use strict, save via avconv) (from INT_MIN to INT_MAX) (default normal)\n     very                         ED...... strictly conform to a older more strict version of the spec or reference software\n     strict                       ED...... strictly conform to all the things in the spec no matter what the consequences\n     normal                       ED......\n     unofficial                   ED...... allow unofficial extensions\n     experimental                 ED...... allow non-standardized experimental variants\n  -strict            undefined        ED...... how strictly to follow the standards (from INT_MIN to INT_MAX) (default normal)\n     very                         ED...... strictly conform to a older more strict version of the spec or reference software\n     strict                       ED...... strictly conform to all the things in the spec no matter what the consequences\n     normal                       ED......\n     unofficial                   ED...... allow unofficial extensions\n     experimental                 ED...... allow non-standardized experimental variants\n  -max_ts_probe      undefined        .D...... maximum number of packets to read while waiting for the first timestamp (from 0 to INT_MAX) (default 50)\n  -dump_separator    undefined     ED...... set information dump field separator (default \", \")\n  -codec_whitelist   undefined     .D...... List of decoders that are allowed to be used\n  -format_whitelist  undefined     .D...... List of demuxers that are allowed to be used\n  -protocol_whitelist undefined     .D...... List of protocols that are allowed to be used\n  -protocol_blacklist undefined     .D...... List of protocols that are not allowed to be used\n  -max_streams       undefined        .D...... maximum number of streams (from 0 to INT_MAX) (default 1000)\nAVIOContext AVOptions:\n  -protocol_whitelist undefined     .D...... List of protocols that are allowed to be used\nURLContext AVOptions:\n  -protocol_whitelist undefined     .D...... List of protocols that are allowed to be used\n  -protocol_blacklist undefined     .D...... List of protocols that are not allowed to be used\n  -rw_timeout        undefined      ED...... Timeout for IO operations (in microseconds) (from 0 to I64_MAX) (default 0)\nAsync AVOptions:\nCache AVOptions:\n  -read_ahead_limit  undefined        .D...... Amount in bytes that may be read ahead when seeking isn't supported, -1 for unlimited (from -1 to INT_MAX) (default 65536)\ncrypto AVOptions:\n  -key               undefined     ED...... AES encryption/decryption key\n  -iv                undefined     ED...... AES encryption/decryption initialization vector\n  -decryption_key    undefined     .D...... AES decryption key\n  -decryption_iv     undefined     .D...... AES decryption initialization vector\nfile AVOptions:\n  -follow            undefined        .D...... Follow a file as it is being written (from 0 to 1) (default 0)\nftp AVOptions:\n  -timeout           undefined        ED...... set timeout of socket I/O operations (from -1 to INT_MAX) (default -1)\n  -ftp-anonymous-password undefined     ED...... password for anonymous login. E-mail address should be used.\nhttp AVOptions:\n  -seekable          undefined    .D...... control seekability of connection (default auto)\n  -http_proxy        undefined     ED...... set HTTP proxy to tunnel through\n  -headers           undefined     ED...... set custom HTTP headers, can override built in default headers\n  -content_type      undefined     ED...... set a specific content type for the POST messages\n  -user_agent        undefined     .D...... override User-Agent header (default \"Lavf/57.62.100\")\n  -user-agent        undefined     .D...... override User-Agent header (default \"Lavf/57.62.100\")\n  -multiple_requests undefined    ED...... use persistent connections (default false)\n  -post_data         undefined     ED...... set custom HTTP post data\n  -cookies           undefined     .D...... set cookies to be sent in applicable future requests, use newline delimited Set-Cookie HTTP field value syntax\n  -icy               undefined    .D...... request ICY metadata (default true)\n  -auth_type         undefined        ED...... HTTP authentication type (from 0 to 1) (default none)\n     none                         ED...... No auth method set, autodetect\n     basic                        ED...... HTTP basic authentication\n  -location          undefined     ED...... The actual location of the data received\n  -offset            undefined      .D...... initial byte offset (from 0 to I64_MAX) (default 0)\n  -end_offset        undefined      .D...... try to limit the request to bytes preceding this offset (from 0 to I64_MAX) (default 0)\n  -method            undefined     ED...... Override the HTTP method or set the expected HTTP method from a client\n  -reconnect         undefined    .D...... auto reconnect after disconnect before EOF (default false)\n  -reconnect_at_eof  undefined    .D...... auto reconnect at EOF (default false)\n  -reconnect_streamed undefined    .D...... auto reconnect streamed / non seekable streams (default false)\n  -reconnect_delay_max undefined        .D...... max reconnect delay in seconds after which to give up (from 0 to 4294) (default 120)\n  -listen            undefined        ED...... listen on HTTP (from 0 to 2) (default 0)\nhttps AVOptions:\n  -seekable          undefined    .D...... control seekability of connection (default auto)\n  -http_proxy        undefined     ED...... set HTTP proxy to tunnel through\n  -headers           undefined     ED...... set custom HTTP headers, can override built in default headers\n  -content_type      undefined     ED...... set a specific content type for the POST messages\n  -user_agent        undefined     .D...... override User-Agent header (default \"Lavf/57.62.100\")\n  -user-agent        undefined     .D...... override User-Agent header (default \"Lavf/57.62.100\")\n  -multiple_requests undefined    ED...... use persistent connections (default false)\n  -post_data         undefined     ED...... set custom HTTP post data\n  -cookies           undefined     .D...... set cookies to be sent in applicable future requests, use newline delimited Set-Cookie HTTP field value syntax\n  -icy               undefined    .D...... request ICY metadata (default true)\n  -auth_type         undefined        ED...... HTTP authentication type (from 0 to 1) (default none)\n     none                         ED...... No auth method set, autodetect\n     basic                        ED...... HTTP basic authentication\n  -location          undefined     ED...... The actual location of the data received\n  -offset            undefined      .D...... initial byte offset (from 0 to I64_MAX) (default 0)\n  -end_offset        undefined      .D...... try to limit the request to bytes preceding this offset (from 0 to I64_MAX) (default 0)\n  -method            undefined     ED...... Override the HTTP method or set the expected HTTP method from a client\n  -reconnect         undefined    .D...... auto reconnect after disconnect before EOF (default false)\n  -reconnect_at_eof  undefined    .D...... auto reconnect at EOF (default false)\n  -reconnect_streamed undefined    .D...... auto reconnect streamed / non seekable streams (default false)\n  -reconnect_delay_max undefined        .D...... max reconnect delay in seconds after which to give up (from 0 to 4294) (default 120)\n  -listen            undefined        ED...... listen on HTTP (from 0 to 2) (default 0)\nicecast AVOptions:\npipe AVOptions:\nprompeg AVOptions:\nrtp AVOptions:\n  -ttl               undefined        ED...... Time to live (in milliseconds, multicast only) (from -1 to INT_MAX) (default -1)\n  -buffer_size       undefined        ED...... Send/Receive buffer size (in bytes) (from -1 to INT_MAX) (default -1)\n  -rtcp_port         undefined        ED...... Custom rtcp port (from -1 to INT_MAX) (default -1)\n  -local_rtpport     undefined        ED...... Local rtp port (from -1 to INT_MAX) (default -1)\n  -local_rtcpport    undefined        ED...... Local rtcp port (from -1 to INT_MAX) (default -1)\n  -connect           undefined    ED...... Connect socket (default false)\n  -write_to_source   undefined    ED...... Send packets to the source address of the latest received packet (default false)\n  -pkt_size          undefined        ED...... Maximum packet size (from -1 to INT_MAX) (default -1)\n  -dscp              undefined        ED...... DSCP class (from -1 to INT_MAX) (default -1)\n  -sources           undefined     ED...... Source list\n  -block             undefined     ED...... Block list\nsctp AVOptions:\n  -listen            undefined    ED...... Listen for incoming connections (default false)\n  -timeout           undefined        ED...... Connection timeout (in milliseconds) (from INT_MIN to INT_MAX) (default 10000)\n  -listen_timeout    undefined        ED...... Bind timeout (in milliseconds) (from INT_MIN to INT_MAX) (default -1)\n  -max_streams       undefined        ED...... Max stream to allocate (from 0 to 32767) (default 0)\nsrtp AVOptions:\n  -srtp_in_suite     undefined     .D...... \n  -srtp_in_params    undefined     .D...... \nsubfile AVOptions:\n  -start             undefined      .D...... start offset (from 0 to I64_MAX) (default 0)\n  -end               undefined      .D...... end offset (from 0 to I64_MAX) (default 0)\ntee AVOptions:\ntcp AVOptions:\n  -listen            undefined        ED...... Listen for incoming connections (from 0 to 2) (default 0)\n  -timeout           undefined        ED...... set timeout (in microseconds) of socket I/O operations (from -1 to INT_MAX) (default -1)\n  -listen_timeout    undefined        ED...... Connection awaiting timeout (in milliseconds) (from -1 to INT_MAX) (default -1)\n  -send_buffer_size  undefined        ED...... Socket send buffer size (in bytes) (from -1 to INT_MAX) (default -1)\n  -recv_buffer_size  undefined        ED...... Socket receive buffer size (in bytes) (from -1 to INT_MAX) (default -1)\ntls AVOptions:\n  -ca_file           undefined     ED...... Certificate Authority database file\n  -cafile            undefined     ED...... Certificate Authority database file\n  -tls_verify        undefined        ED...... Verify the peer certificate (from 0 to 1) (default 0)\n  -cert_file         undefined     ED...... Certificate file\n  -key_file          undefined     ED...... Private key file\n  -listen            undefined        ED...... Listen for incoming connections (from 0 to 1) (default 0)\n  -verifyhost        undefined     ED...... Verify against a specific hostname\nudp AVOptions:\n  -buffer_size       undefined        ED...... System data size (in bytes) (from -1 to INT_MAX) (default -1)\n  -localport         undefined        ED...... Local port (from -1 to INT_MAX) (default -1)\n  -local_port        undefined        ED...... Local port (from -1 to INT_MAX) (default -1)\n  -localaddr         undefined     ED...... Local address\n  -udplite_coverage  undefined        ED...... choose UDPLite head size which should be validated by checksum (from 0 to INT_MAX) (default 0)\n  -pkt_size          undefined        ED...... Maximum UDP packet size (from -1 to INT_MAX) (default 1472)\n  -reuse             undefined    ED...... explicitly allow reusing UDP sockets (default auto)\n  -reuse_socket      undefined    ED...... explicitly allow reusing UDP sockets (default auto)\n  -connect           undefined    ED...... set if connect() should be called on socket (default false)\n  -fifo_size         undefined        .D...... set the UDP receiving circular buffer size, expressed as a number of packets with size of 188 bytes (from 0 to INT_MAX) (default 28672)\n  -overrun_nonfatal  undefined    .D...... survive in case of UDP receiving circular buffer overrun (default false)\n  -timeout           undefined        .D...... set raise error timeout (only in read mode) (from 0 to INT_MAX) (default 0)\n  -sources           undefined     ED...... Source list\n  -block             undefined     ED...... Block list\nudplite AVOptions:\n  -buffer_size       undefined        ED...... System data size (in bytes) (from -1 to INT_MAX) (default -1)\n  -localport         undefined        ED...... Local port (from -1 to INT_MAX) (default -1)\n  -local_port        undefined        ED...... Local port (from -1 to INT_MAX) (default -1)\n  -localaddr         undefined     ED...... Local address\n  -udplite_coverage  undefined        ED...... choose UDPLite head size which should be validated by checksum (from 0 to INT_MAX) (default 0)\n  -pkt_size          undefined        ED...... Maximum UDP packet size (from -1 to INT_MAX) (default 1472)\n  -reuse             undefined    ED...... explicitly allow reusing UDP sockets (default auto)\n  -reuse_socket      undefined    ED...... explicitly allow reusing UDP sockets (default auto)\n  -connect           undefined    ED...... set if connect() should be called on socket (default false)\n  -fifo_size         undefined        .D...... set the UDP receiving circular buffer size, expressed as a number of packets with size of 188 bytes (from 0 to INT_MAX) (default 28672)\n  -overrun_nonfatal  undefined    .D...... survive in case of UDP receiving circular buffer overrun (default false)\n  -timeout           undefined        .D...... set raise error timeout (only in read mode) (from 0 to INT_MAX) (default 0)\n  -sources           undefined     ED...... Source list\n  -block             undefined     ED...... Block list\nunix AVOptions:\n  -listen            undefined    ED...... Open socket for listening (default false)\n  -timeout           undefined        ED...... Timeout in ms (from -1 to INT_MAX) (default -1)\n  -type              undefined        ED...... Socket type (from INT_MIN to INT_MAX) (default stream)\n     stream                       ED...... Stream (reliable stream-oriented)\n     datagram                     ED...... Datagram (unreliable packet-oriented)\n     seqpacket                    ED...... Seqpacket (reliable packet-oriented\nlibrtmp protocol AVOptions:\n  -rtmp_app          undefined     ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer       undefined     ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn         undefined     ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver     undefined     ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live         undefined        .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl      undefined     .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath     undefined     ED...... Stream identifier to play or to publish\n  -rtmp_subscribe    undefined     .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl       undefined     ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify    undefined     .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl        undefined     ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size  undefined        ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmpe protocol AVOptions:\n  -rtmp_app          undefined     ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer       undefined     ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn         undefined     ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver     undefined     ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live         undefined        .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl      undefined     .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath     undefined     ED...... Stream identifier to play or to publish\n  -rtmp_subscribe    undefined     .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl       undefined     ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify    undefined     .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl        undefined     ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size  undefined        ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmps protocol AVOptions:\n  -rtmp_app          undefined     ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer       undefined     ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn         undefined     ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver     undefined     ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live         undefined        .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl      undefined     .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath     undefined     ED...... Stream identifier to play or to publish\n  -rtmp_subscribe    undefined     .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl       undefined     ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify    undefined     .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl        undefined     ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size  undefined        ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmpt protocol AVOptions:\n  -rtmp_app          undefined     ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer       undefined     ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn         undefined     ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver     undefined     ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live         undefined        .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl      undefined     .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath     undefined     ED...... Stream identifier to play or to publish\n  -rtmp_subscribe    undefined     .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl       undefined     ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify    undefined     .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl        undefined     ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size  undefined        ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\nlibrtmpte protocol AVOptions:\n  -rtmp_app          undefined     ED...... Name of application to connect to on the RTMP server\n  -rtmp_buffer       undefined     ED...... Set buffer time in milliseconds. The default is 3000. (default \"3000\")\n  -rtmp_conn         undefined     ED...... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver     undefined     ED...... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live         undefined        .D...... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default recorded)\n     any                          .D...... both\n     live                         .D...... live stream\n     recorded                     .D...... recorded stream\n  -rtmp_pageurl      undefined     .D...... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath     undefined     ED...... Stream identifier to play or to publish\n  -rtmp_subscribe    undefined     .D...... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfurl       undefined     ED...... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify    undefined     .D...... URL to player swf file, compute hash/size automatically. (unimplemented)\n  -rtmp_tcurl        undefined     ED...... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_buffer_size  undefined        ED...... set buffer size in bytes (from -1 to INT_MAX) (default -1)\naa AVOptions:\n  -aa_fixed_key      undefined     .D...... Fixed key used for handling Audible AA files\nArtworx Data Format demuxer AVOptions:\n  -linespeed         undefined        .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size        undefined .D...... set video size, such as 640x480 or hd720.\n  -framerate         undefined .D...... set framerate (frames per second) (default \"25\")\nAPNG demuxer AVOptions:\n  -ignore_loop       undefined    .D...... ignore loop setting (default true)\n  -max_fps           undefined        .D...... maximum framerate (0 is no limit) (from 0 to INT_MAX) (default 15)\n  -default_fps       undefined        .D...... default framerate (0 is as fast as possible) (from 0 to INT_MAX) (default 15)\naqtdec AVOptions:\n  -subfps            undefined   .D...S.. set the movie frame rate (from 0 to INT_MAX) (default 25/1)\nasf demuxer AVOptions:\n  -no_resync_search  undefined    .D...... Don't try to resynchronize by looking for a certain optional start code (default false)\n  -export_xmp        undefined    .D...... Export full XMP metadata (default false)\navi AVOptions:\n  -use_odml          undefined    .D...... use odml index (default true)\nBinary text demuxer AVOptions:\n  -linespeed         undefined        .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size        undefined .D...... set video size, such as 640x480 or hd720.\n  -framerate         undefined .D...... set framerate (frames per second) (default \"25\")\ncavsvideo demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nCDXL demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 1 to INT_MAX) (default 11025)\n  -framerate         undefined     .D...... \nconcat demuxer AVOptions:\n  -safe              undefined    .D...... enable safe mode (default true)\n  -auto_convert      undefined    .D...... automatically convert bitstream format (default true)\n  -segment_time_metadata undefined    .D...... output file segment start time and duration as packet metadata (default false)\ndirac demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\ndnxhd demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\ndvbsub demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\ndvbtxt demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nffm demuxer AVOptions:\nflvdec AVOptions:\n  -flv_metadata      undefined    .D.V.... Allocate streams according to the onMetaData array (default false)\n  -missing_streams   undefined        .D.V..XR  (from 0 to 255) (default 0)\nlive_flvdec AVOptions:\n  -flv_metadata      undefined    .D.V.... Allocate streams according to the onMetaData array (default false)\n  -missing_streams   undefined        .D.V..XR  (from 0 to 255) (default 0)\ng729 demuxer AVOptions:\n  -bit_rate          undefined        .D......  (from 0 to INT_MAX) (default 8000)\nGIF demuxer AVOptions:\n  -min_delay         undefined        .D...... minimum valid delay between frames (in hundredths of second) (from 0 to 6000) (default 2)\n  -max_gif_delay     undefined        .D...... maximum valid delay between frames (in hundredths of seconds) (from 0 to 65535) (default 65535)\n  -default_delay     undefined        .D...... default delay between frames (in hundredths of second) (from 0 to 6000) (default 10)\n  -ignore_loop       undefined    .D...... ignore loop setting (netscape extension) (default true)\ngsm demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 1 to 6.50753e+07) (default 8000)\nh261 demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nh263 demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nh264 demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nhevc demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nhls,applehttp AVOptions:\n  -live_start_index  undefined        .D...... segment index to start live streams at (negative values are from the end) (from INT_MIN to INT_MAX) (default -3)\niCE Draw File demuxer AVOptions:\n  -linespeed         undefined        .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size        undefined .D...... set video size, such as 640x480 or hd720.\n  -framerate         undefined .D...... set framerate (frames per second) (default \"25\")\nimage2 demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nimage2pipe demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nalias_pix demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nbrender_pix demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ningenient demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nm4v demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nmicrodvddec AVOptions:\n  -subfps            undefined   .D...S.. set the movie frame rate fallback (from 0 to INT_MAX) (default 0/1)\nmjpeg demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nmjpeg_2000 demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nmov,mp4,m4a,3gp,3g2,mj2 AVOptions:\n  -use_absolute_path undefined    .D.V.... allow using absolute path when opening alias, this is a possible security issue (default false)\n  -seek_streams_individually undefined    .D.V.... Seek each stream individually to the to the closest point (default true)\n  -ignore_editlist   undefined    .D.V....  (default false)\n  -ignore_chapters   undefined    .D.V....  (default false)\n  -use_mfra_for      undefined        .D.V.... use mfra for fragment timestamps (from -1 to 2) (default auto)\n     auto                         .D.V.... auto\n     dts                          .D.V.... dts\n     pts                          .D.V.... pts\n  -export_all        undefined    .D.V.... Export unrecognized metadata entries (default false)\n  -export_xmp        undefined    .D.V.... Export full XMP metadata (default false)\n  -activation_bytes  undefined     .D...... Secret bytes for Audible AAX files\n  -audible_fixed_key undefined     .D...... Fixed key used for handling Audible AAX files\n  -decryption_key    undefined     .D...... The media decryption key (hex)\n  -enable_drefs      undefined    .D.V.... Enable external track support. (default false)\nmp3 AVOptions:\n  -usetoc            undefined    .D...... use table of contents (default false)\nmpegts demuxer AVOptions:\n  -resync_size       undefined        .D...... set size limit for looking up a new synchronization (from 0 to INT_MAX) (default 65536)\n  -fix_teletext_pts  undefined    .D...... try to fix pts values of dvb teletext streams (default true)\n  -ts_packetsize     undefined        .D....XR output option carrying the raw packet size (from 0 to 0) (default 0)\n  -scan_all_pmts     undefined    .D...... scan and combine all PMTs (default auto)\nmpegtsraw demuxer AVOptions:\n  -resync_size       undefined        .D...... set size limit for looking up a new synchronization (from 0 to INT_MAX) (default 65536)\n  -compute_pcr       undefined    .D...... compute exact PCR for each transport stream packet (default false)\n  -ts_packetsize     undefined        .D....XR output option carrying the raw packet size (from 0 to 0) (default 0)\nmpegvideo demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nMPJPEG demuxer AVOptions:\n  -strict_mime_boundary undefined    .D...... require MIME boundaries match (default false)\nalaw demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nmulaw demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nf64be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nf64le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nf32be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nf32le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns32be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns32le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns24be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns24le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns16be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns16le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ns8 demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu32be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu32le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu24be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu24le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu16be demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu16le demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nu8 demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 44100)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\nrawvideo demuxer AVOptions:\n  -video_size        undefined .D...... set frame size\n  -pixel_format      undefined     .D...... set pixel format (default \"yuv420p\")\n  -framerate         undefined .D...... set frame rate (default \"25\")\nRTP demuxer AVOptions:\n  -rtp_flags         undefined      .D...... set RTP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n  -reorder_queue_size undefined        .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size       undefined        ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\nRTSP demuxer AVOptions:\n  -initial_pause     undefined    .D...... do not start playing the stream immediately (default false)\n  -rtsp_transport    undefined      ED...... set RTSP transport protocols (default 0)\n     udp                          ED...... UDP\n     tcp                          ED...... TCP\n     udp_multicast                .D...... UDP multicast\n     http                         .D...... HTTP tunneling\n  -rtsp_flags        undefined      .D...... set RTSP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n     listen                       .D...... wait for incoming connections\n     prefer_tcp                   ED...... try RTP via TCP first, if available\n  -allowed_media_types undefined      .D...... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D...... Video\n     audio                        .D...... Audio\n     data                         .D...... Data\n     subtitle                     .D...... Subtitle\n  -min_port          undefined        ED...... set minimum local UDP port (from 0 to 65535) (default 5000)\n  -max_port          undefined        ED...... set maximum local UDP port (from 0 to 65535) (default 65000)\n  -timeout           undefined        .D...... set maximum timeout (in seconds) to wait for incoming connections (-1 is infinite, imply flag listen) (from INT_MIN to INT_MAX) (default -1)\n  -stimeout          undefined        .D...... set timeout (in microseconds) of socket TCP I/O operations (from INT_MIN to INT_MAX) (default 0)\n  -reorder_queue_size undefined        .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size       undefined        ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\n  -user-agent        undefined     .D...... override User-Agent header (default \"Lavf57.62.100\")\nsbg_demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 0)\n  -frame_size        undefined        .D......  (from 0 to INT_MAX) (default 0)\n  -max_file_size     undefined        .D......  (from 0 to INT_MAX) (default 5e+06)\nSDP demuxer AVOptions:\n  -sdp_flags         undefined      .D...... SDP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n     custom_io                    .D...... use custom I/O\n     rtcp_to_source               .D...... send RTCP packets to the source address of received packets\n  -allowed_media_types undefined      .D...... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D...... Video\n     audio                        .D...... Audio\n     data                         .D...... Data\n     subtitle                     .D...... Subtitle\n  -reorder_queue_size undefined        .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size       undefined        ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\nsln demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 0 to INT_MAX) (default 8000)\n  -channels          undefined        .D......  (from 0 to INT_MAX) (default 1)\ntedcaptions_demuxer AVOptions:\n  -start_time        undefined      .D...S.. set the start time (offset) of the subtitles, in ms (from I64_MIN to I64_MAX) (default 15000)\nTTY demuxer AVOptions:\n  -chars_per_frame   undefined        .D......  (from 1 to INT_MAX) (default 6000)\n  -video_size        undefined .D...... A string describing frame size, such as 640x480 or hd720.\n  -framerate         undefined .D......  (default \"25\")\nv210 demuxer AVOptions:\n  -video_size        undefined .D...... set frame size\n  -framerate         undefined .D...... set frame rate (default \"25\")\nv210x demuxer AVOptions:\n  -video_size        undefined .D...... set frame size\n  -framerate         undefined .D...... set frame rate (default \"25\")\nvc1 demuxer AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nvobsub AVOptions:\n  -sub_name          undefined     .D...... URI for .sub file\nWAV demuxer AVOptions:\n  -ignore_length     undefined    .D...... Ignore length (default false)\nWebM DASH Manifest demuxer AVOptions:\n  -live              undefined    .D...... flag indicating that the input is a live file that only has the headers. (default false)\nWebVTT demuxer AVOptions:\neXtended BINary text (XBIN) demuxer AVOptions:\n  -linespeed         undefined        .D...... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size        undefined .D...... set video size, such as 640x480 or hd720.\n  -framerate         undefined .D...... set framerate (frames per second) (default \"25\")\nbmp demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ndds demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ndpx demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nexr demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nj2k demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\njpeg demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\njpegls demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npam demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npbm demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npcx demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npgmyuv demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npgm demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npictor demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npng demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nppm demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\npsd demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nqdraw demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nsgi demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nsunrast demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\ntiff demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nwebp demuxer AVOptions:\n  -framerate         undefined .D...... set the video framerate (default \"25\")\n  -loop              undefined    .D...... force loop over input file sequence (default false)\n  -pattern_type      undefined        .D...... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D...... select glob/sequence pattern type\n     glob                         .D...... select glob pattern type\n     sequence                     .D...... select sequence pattern type\n     none                         .D...... disable pattern matching\n  -pixel_format      undefined     .D...... set video pixel format\n  -start_number      undefined        .D...... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range undefined        .D...... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size        undefined .D...... set video size\n  -frame_size        undefined        .D...... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file      undefined        .D...... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D...... none\n     sec                          .D...... second precision\n     ns                           .D...... nano second precision\nDV1394 indev AVOptions:\n  -standard          undefined        .D......  (from 0 to 1) (default NTSC)\n     PAL                          .D...... \n     NTSC                         .D...... \n  -channel           undefined        .D......  (from 0 to INT_MAX) (default 63)\nfbdev indev AVOptions:\n  -framerate         undefined .D......  (default \"25\")\nlavfi indev AVOptions:\n  -graph             undefined     .D...... set libavfilter graph\n  -graph_file        undefined     .D...... set libavfilter graph filename\n  -dumpgraph         undefined     .D...... dump graph to stderr\nOSS demuxer AVOptions:\n  -sample_rate       undefined        .D......  (from 1 to INT_MAX) (default 48000)\n  -channels          undefined        .D......  (from 1 to INT_MAX) (default 2)\nV4L2 indev AVOptions:\n  -standard          undefined     .D...... set TV standard, used only by analog frame grabber\n  -channel           undefined        .D...... set TV channel, used only by frame grabber (from -1 to INT_MAX) (default -1)\n  -video_size        undefined .D...... set frame size\n  -pixel_format      undefined     .D...... set preferred pixel format\n  -input_format      undefined     .D...... set preferred pixel format (for raw video) or codec name\n  -framerate         undefined     .D...... set frame rate\n  -list_formats      undefined        .D...... list available formats and exit (from 0 to INT_MAX) (default 0)\n     all                          .D...... show all available formats\n     raw                          .D...... show only non-compressed formats\n     compressed                   .D...... show only compressed formats\n  -list_standards    undefined        .D...... list supported standards and exit (from 0 to 1) (default 0)\n     all                          .D...... show all supported standards\n  -timestamps        undefined        .D...... set type of timestamps for grabbed frames (from 0 to 2) (default default)\n     default                      .D...... use timestamps from the kernel\n     abs                          .D...... use absolute timestamps (wall clock)\n     mono2abs                     .D...... force conversion from monotonic to absolute timestamps\n  -ts                undefined        .D...... set type of timestamps for grabbed frames (from 0 to 2) (default default)\n     default                      .D...... use timestamps from the kernel\n     abs                          .D...... use absolute timestamps (wall clock)\n     mono2abs                     .D...... force conversion from monotonic to absolute timestamps\n  -use_libv4l2       undefined    .D...... use libv4l2 (v4l-utils) conversion functions (default false)\nxcbgrab indev AVOptions:\n  -x                 undefined        .D...... Initial x coordinate. (from 0 to INT_MAX) (default 0)\n  -y                 undefined        .D...... Initial y coordinate. (from 0 to INT_MAX) (default 0)\n  -grab_x            undefined        .D...... Initial x coordinate. (from 0 to INT_MAX) (default 0)\n  -grab_y            undefined        .D...... Initial y coordinate. (from 0 to INT_MAX) (default 0)\n  -video_size        undefined     .D...... A string describing frame size, such as 640x480 or hd720. (default \"vga\")\n  -framerate         undefined     .D......  (default \"ntsc\")\n  -draw_mouse        undefined        .D...... Draw the mouse pointer. (from 0 to 1) (default 1)\n  -follow_mouse      undefined        .D...... Move the grabbing region when the mouse pointer reaches within specified amount of pixels to the edge of region. (from -1 to INT_MAX) (default 0)\n     centered                     .D...... Keep the mouse pointer at the center of grabbing region when following.\n  -show_region       undefined        .D...... Show the grabbing region. (from 0 to 1) (default 0)\n  -region_border     undefined        .D...... Set the region border thickness. (from 1 to 128) (default 3)\nADTS muxer AVOptions:\nAIFF muxer AVOptions:\nAPNG muxer AVOptions:\nASF muxer AVOptions:\nass muxer AVOptions:\nAST muxer AVOptions:\nASF stream muxer AVOptions:\nAVI muxer AVOptions:\ndash muxer AVOptions:\nf4v muxer AVOptions:\nFifo muxer AVOptions:\nflac muxer AVOptions:\nflv muxer AVOptions:\nframe hash encoder class AVOptions:\nframe hash encoder class AVOptions:\nGIF muxer AVOptions:\nhash encoder class AVOptions:\nHDS muxer AVOptions:\nhls muxer AVOptions:\nimage2 muxer AVOptions:\nipod muxer AVOptions:\nismv muxer AVOptions:\nLATM/LOAS muxer AVOptions:\nMD5 encoder class AVOptions:\nmatroska muxer AVOptions:\nmatroska audio muxer AVOptions:\nmov muxer AVOptions:\nMP3 muxer AVOptions:\nmp4 muxer AVOptions:\nmpeg muxer AVOptions:\nvcd muxer AVOptions:\ndvd muxer AVOptions:\nsvcd muxer AVOptions:\nvob muxer AVOptions:\nMPEGTS muxer AVOptions:\nmpjpeg_muxer AVOptions:\nMXF muxer AVOptions:\nMXF-D10 muxer AVOptions:\nMXF-OPAtom muxer AVOptions:\nnutenc AVOptions:\nOgg audio muxer AVOptions:\nOgg muxer AVOptions:\nOgg video muxer AVOptions:\nOgg Opus muxer AVOptions:\npsp muxer AVOptions:\nRTP muxer AVOptions:\nRTSP muxer AVOptions:\n  -initial_pause     undefined    .D...... do not start playing the stream immediately (default false)\n  -rtsp_transport    undefined      ED...... set RTSP transport protocols (default 0)\n     udp                          ED...... UDP\n     tcp                          ED...... TCP\n     udp_multicast                .D...... UDP multicast\n     http                         .D...... HTTP tunneling\n  -rtsp_flags        undefined      .D...... set RTSP flags (default 0)\n     filter_src                   .D...... only receive packets from the negotiated peer IP\n     listen                       .D...... wait for incoming connections\n     prefer_tcp                   ED...... try RTP via TCP first, if available\n  -allowed_media_types undefined      .D...... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D...... Video\n     audio                        .D...... Audio\n     data                         .D...... Data\n     subtitle                     .D...... Subtitle\n  -min_port          undefined        ED...... set minimum local UDP port (from 0 to 65535) (default 5000)\n  -max_port          undefined        ED...... set maximum local UDP port (from 0 to 65535) (default 65000)\n  -timeout           undefined        .D...... set maximum timeout (in seconds) to wait for incoming connections (-1 is infinite, imply flag listen) (from INT_MIN to INT_MAX) (default -1)\n  -stimeout          undefined        .D...... set timeout (in microseconds) of socket TCP I/O operations (from INT_MIN to INT_MAX) (default 0)\n  -reorder_queue_size undefined        .D...... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size       undefined        ED...... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\n  -user-agent        undefined     .D...... override User-Agent header (default \"Lavf57.62.100\")\nsegment muxer AVOptions:\nstream_segment muxer AVOptions:\nsmooth streaming muxer AVOptions:\nOgg Speex muxer AVOptions:\nspdif AVOptions:\nTee muxer AVOptions:\ntg2 muxer AVOptions:\ntgp muxer AVOptions:\nWAV muxer AVOptions:\nwebm muxer AVOptions:\nWebM DASH Manifest muxer AVOptions:\nWebM Chunk Muxer AVOptions:\nWebP muxer AVOptions:\nfbdev outdev AVOptions:\n                                        [1] => \n                                    )\n\n                                [[option--show_streams][1]] => Array\n                                    (\n                                        [0] => 1\n                                        [1] => \n                                    )\n\n                                [[option--print_format][1]] => Array\n                                    (\n                                        [0] => 1\n                                        [1] => \n                                    )\n\n                                [[-show_streams-/var/www/html/public/0b14d35e92f96497d0cabd0ebe9ea566.mp4][1]] => Array\n                                    (\n                                        [0] => FFMpeg\\FFProbe\\DataMapping\\StreamCollection Object\n                                            (\n                                                [streams:FFMpeg\\FFProbe\\DataMapping\\StreamCollection:private] => Array\n                                                    (\n                                                        [0] => FFMpeg\\FFProbe\\DataMapping\\Stream Object\n                                                            (\n                                                                [properties:FFMpeg\\FFProbe\\DataMapping\\AbstractData:private] => Array\n                                                                    (\n                                                                        [index] => 0\n                                                                        [codec_name] => h264\n                                                                        [codec_long_name] => H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10\n                                                                        [profile] => Main\n                                                                        [codec_type] => video\n                                                                        [codec_time_base] => 1/50\n                                                                        [codec_tag_string] => avc1\n                                                                        [codec_tag] => 0x31637661\n                                                                        [width] => 1280\n                                                                        [height] => 720\n                                                                        [coded_width] => 1280\n                                                                        [coded_height] => 720\n                                                                        [has_b_frames] => 0\n                                                                        [sample_aspect_ratio] => 1:1\n                                                                        [display_aspect_ratio] => 16:9\n                                                                        [pix_fmt] => yuv420p\n                                                                        [level] => 31\n                                                                        [chroma_location] => left\n                                                                        [refs] => 1\n                                                                        [is_avc] => true\n                                                                        [nal_length_size] => 4\n                                                                        [r_frame_rate] => 25/1\n                                                                        [avg_frame_rate] => 25/1\n                                                                        [time_base] => 1/12800\n                                                                        [start_pts] => 0\n                                                                        [start_time] => 0.000000\n                                                                        [duration_ts] => 67584\n                                                                        [duration] => 5.280000\n                                                                        [bit_rate] => 1205959\n                                                                        [bits_per_raw_sample] => 8\n                                                                        [nb_frames] => 132\n                                                                        [disposition] => Array\n                                                                            (\n                                                                                [default] => 1\n                                                                                [dub] => 0\n                                                                                [original] => 0\n                                                                                [comment] => 0\n                                                                                [lyrics] => 0\n                                                                                [karaoke] => 0\n                                                                                [forced] => 0\n                                                                                [hearing_impaired] => 0\n                                                                                [visual_impaired] => 0\n                                                                                [clean_effects] => 0\n                                                                                [attached_pic] => 0\n                                                                                [timed_thumbnails] => 0\n                                                                            )\n\n                                                                        [tags] => Array\n                                                                            (\n                                                                                [creation_time] => 1970-01-01T00:00:00.000000Z\n                                                                                [language] => und\n                                                                                [handler_name] => VideoHandler\n                                                                            )\n\n                                                                    )\n\n                                                            )\n\n                                                        [1] => FFMpeg\\FFProbe\\DataMapping\\Stream Object\n                                                            (\n                                                                [properties:FFMpeg\\FFProbe\\DataMapping\\AbstractData:private] => Array\n                                                                    (\n                                                                        [index] => 1\n                                                                        [codec_name] => aac\n                                                                        [codec_long_name] => AAC (Advanced Audio Coding)\n                                                                        [profile] => LC\n                                                                        [codec_type] => audio\n                                                                        [codec_time_base] => 1/48000\n                                                                        [codec_tag_string] => mp4a\n                                                                        [codec_tag] => 0x6134706d\n                                                                        [sample_fmt] => fltp\n                                                                        [sample_rate] => 48000\n                                                                        [channels] => 6\n                                                                        [channel_layout] => 5.1\n                                                                        [bits_per_sample] => 0\n                                                                        [r_frame_rate] => 0/0\n                                                                        [avg_frame_rate] => 0/0\n                                                                        [time_base] => 1/48000\n                                                                        [start_pts] => 0\n                                                                        [start_time] => 0.000000\n                                                                        [duration_ts] => 254976\n                                                                        [duration] => 5.312000\n                                                                        [bit_rate] => 384828\n                                                                        [max_bit_rate] => 400392\n                                                                        [nb_frames] => 249\n                                                                        [disposition] => Array\n                                                                            (\n                                                                                [default] => 1\n                                                                                [dub] => 0\n                                                                                [original] => 0\n                                                                                [comment] => 0\n                                                                                [lyrics] => 0\n                                                                                [karaoke] => 0\n                                                                                [forced] => 0\n                                                                                [hearing_impaired] => 0\n                                                                                [visual_impaired] => 0\n                                                                                [clean_effects] => 0\n                                                                                [attached_pic] => 0\n                                                                                [timed_thumbnails] => 0\n                                                                            )\n\n                                                                        [tags] => Array\n                                                                            (\n                                                                                [creation_time] => 1970-01-01T00:00:00.000000Z\n                                                                                [language] => und\n                                                                                [handler_name] => SoundHandler\n                                                                            )\n\n                                                                    )\n\n                                                            )\n\n                                                    )\n\n                                            )\n\n                                        [1] => \n                                    )\n\n                            )\n\n                        [hitsCount:Doctrine\\Common\\Cache\\ArrayCache:private] => 1\n                        [missesCount:Doctrine\\Common\\Cache\\ArrayCache:private] => 1\n                        [upTime:Doctrine\\Common\\Cache\\ArrayCache:private] => 1487679679\n                        [namespace:Doctrine\\Common\\Cache\\CacheProvider:private] => \n                        [namespaceVersion:Doctrine\\Common\\Cache\\CacheProvider:private] => 1\n                    )\n\n            )\n\n        [parser:FFMpeg\\FFProbe:private] => FFMpeg\\FFProbe\\OutputParser Object\n            (\n            )\n\n        [ffprobe:FFMpeg\\FFProbe:private] => FFMpeg\\Driver\\FFProbeDriver Object\n            (\n                [configuration:protected] => Alchemy\\BinaryDriver\\Configuration Object\n                    (\n                        [data:Alchemy\\BinaryDriver\\Configuration:private] => Array\n                            (\n                                [ffmpeg.binaries] => /var/www/html/public/ffmpeg/ffmpeg\n                                [ffprobe.binaries] => /var/www/html/public/ffmpeg/ffprobe\n                                [timeout] => 3600\n                                [ffmpeg.threads] => 12\n                            )\n\n                    )\n\n                [factory:protected] => Alchemy\\BinaryDriver\\ProcessBuilderFactory Object\n                    (\n                        [binary:protected] => /var/www/html/public/ffmpeg/ffprobe\n                        [timeout:Alchemy\\BinaryDriver\\ProcessBuilderFactory:private] => 3600\n                        [builder:Alchemy\\BinaryDriver\\ProcessBuilderFactory:private] => Symfony\\Component\\Process\\ProcessBuilder Object\n                            (\n                                [arguments:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                                    (\n                                        [0] => /var/www/html/public/0b14d35e92f96497d0cabd0ebe9ea566.mp4\n                                        [1] => -show_streams\n                                        [2] => -print_format\n                                        [3] => json\n                                    )\n\n                                [cwd:Symfony\\Component\\Process\\ProcessBuilder:private] => \n                                [env:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                                    (\n                                    )\n\n                                [input:Symfony\\Component\\Process\\ProcessBuilder:private] => \n                                [timeout:Symfony\\Component\\Process\\ProcessBuilder:private] => 3600\n                                [options:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                                    (\n                                    )\n\n                                [inheritEnv:Symfony\\Component\\Process\\ProcessBuilder:private] => 1\n                                [prefix:Symfony\\Component\\Process\\ProcessBuilder:private] => Array\n                                    (\n                                        [0] => /var/www/html/public/ffmpeg/ffprobe\n                                    )\n\n                                [outputDisabled:Symfony\\Component\\Process\\ProcessBuilder:private] => \n                            )\n\n                    )\n\n                [processRunner:Alchemy\\BinaryDriver\\AbstractBinary:private] => Alchemy\\BinaryDriver\\ProcessRunner Object\n                    (\n                        [logger:Alchemy\\BinaryDriver\\ProcessRunner:private] => Monolog\\Logger Object\n                            (\n                                [name:protected] => Alchemy\\BinaryDriver logger\n                                [handlers:protected] => Array\n                                    (\n                                        [0] => Monolog\\Handler\\NullHandler Object\n                                            (\n                                                [level:protected] => 100\n                                                [bubble:protected] => \n                                                [formatter:protected] => \n                                                [processors:protected] => Array\n                                                    (\n                                                    )\n\n                                            )\n\n                                    )\n\n                                [processors:protected] => Array\n                                    (\n                                    )\n\n                            )\n\n                        [name:Alchemy\\BinaryDriver\\ProcessRunner:private] => ffprobe\n                    )\n\n                [listenersManager:Alchemy\\BinaryDriver\\AbstractBinary:private] => Alchemy\\BinaryDriver\\Listeners\\Listeners Object\n                    (\n                        [storage] => SplObjectStorage Object\n                            (\n                                [storage:SplObjectStorage:private] => Array\n                                    (\n                                    )\n\n                            )\n\n                        [listeners:protected] => Array\n                            (\n                            )\n\n                    )\n\n                [listeners:protected] => Array\n                    (\n                    )\n\n            )\n\n        [mapper:FFMpeg\\FFProbe:private] => FFMpeg\\FFProbe\\Mapper Object\n            (\n            )\n\n    )\n\n[filters:protected] => FFMpeg\\Filters\\FiltersCollection Object\n    (\n        [sorted:FFMpeg\\Filters\\FiltersCollection:private] => \n        [filters:FFMpeg\\Filters\\FiltersCollection:private] => Array\n            (\n                [0] => Array\n                    (\n                        [0] => FFMpeg\\Filters\\Video\\ResizeFilter Object\n                            (\n                                [dimension:FFMpeg\\Filters\\Video\\ResizeFilter:private] => FFMpeg\\Coordinate\\Dimension Object\n                                    (\n                                        [width:FFMpeg\\Coordinate\\Dimension:private] => 320\n                                        [height:FFMpeg\\Coordinate\\Dimension:private] => 240\n                                    )\n\n                                [mode:FFMpeg\\Filters\\Video\\ResizeFilter:private] => fit\n                                [forceStandards:FFMpeg\\Filters\\Video\\ResizeFilter:private] => 1\n                                [priority:FFMpeg\\Filters\\Video\\ResizeFilter:private] => 0\n                            )\n\n                    )\n\n                [12] => Array\n                    (\n                        [0] => FFMpeg\\Filters\\Video\\SynchronizeFilter Object\n                            (\n                                [priority:FFMpeg\\Filters\\Video\\SynchronizeFilter:private] => 12\n                            )\n\n                    )\n\n            )\n\n    )\n\n)\n`. Thank you for the support @Romain \nYes it is done...  there was wrong path but now done.. ",
    "pedro380085": "Hi @Romain, thanks for your reply!\nHere it is: \n\n. ",
    "DHoogland": "I had the same problem today. I solved it by adding 'aac' to the getAvaibleAudioCodecs function in the X264 class. It appears that FFmpeg ded deprecate libfaac.\nnow it looks like:\n/**\n     * {@inheritDoc}\n     */\n    public function getAvailableAudioCodecs()\n    {\n        return array('aac','libvo_aacenc', 'libfaac', 'libmp3lame', 'libfdk_aac');\n    }\nThen I convert the file this way:\n$video->save(new X264('aac', 'libx264'), $sDownloadDir.$file->getTitle().'.mp4');\nThis is for html5 friendly video/audio.\nWe might want to update this in the repo?. ",
    "jenky": "Thanks, new X264('aac', 'libx264') did the job. ",
    "gabrielschuck": "Thanks guys, I got the hang of it. I had to give permissions on the files and folders. The script works very well, I even did the installation of ffmpeg in Centos following this tutorial:\nHttps://trac.ffmpeg.org/wiki/CompilationGuide/Centos\ngreetings. ",
    "mario-laserna": "Hi @Romain \nI am not sure, but based on this http://stackoverflow.com/questions/12378667/ffmpeg-watermarking-multiple-images \nshould be possible\n. ",
    "loicm": "This is exactly the feature I suggests :)\nAt the moment, I don't know how to do it, I'm quite new with ffmpeg, but I can read the documentation to understand if it is possible and how to do it.\nI'll let you know.. It looks like a way to do is:\n\nconvert intro/outro image to video. Eg: ffmpeg -loop 1 -i intro.png -c:v libx264 -t 10 intro.mp4\nthen concat the intro video with the main video. Not sure how to do it properly at the moment.\n\nI think we should forget about inserting image the middle of the video. Having start/end image will be a great first step.. ",
    "andrekat": "Hello @Romain, I followed your suggestion and this is the result:\nCall to undefined method FFMpeg\\\\FFProbe\\\\DataMapping\\\\Format::getAudioCodec()\nAny idea?\n. Accessing the properties via \"get\" method is working now.\ne.g.:\n$currentFormat->get(\"format_name\") == \"mp3\"\n$currentFormat->get(\"bit_rate\") == 192852\n. ",
    "dmanthing": "You must create format first then set level and profile last. Also i use baseline and level 3.0. would love to see this functionallity integrated asap :P. When will you be able to merge to master?. Let's hope this gets merged quickly... This is supposed to be a core feature of the package.. I use this on my site to change profiles and levels (due to iphone playing only certain profiles) and it works flawlessly :).         $format = new FFMpeg\\Format\\Video\\X264();\n    $additional = array();\n    $additional[] = \"-preset\";\n    $additional[] = \"ultrafast\";\n    $additional[] = \"-pix_fmt\";\n    $additional[] = \"yuv420p\";\n\n    $format\n    ->setAudioCodec('aac')\n    ->setKiloBitrate($kilobits)\n    ->setAudioChannels(2)\n    ->setAudioKiloBitrate(92)\n    ->setProfile(FFMpeg\\Format\\Profile::BASELINE)\n    ->setLevel(3.0)\n    ->setAdditionalParameters($additional);. I did it on Laravel 5.2. Store a file after upload and create a model instance in the database that holds a filename. Pass that instance to a Laravel job and let the job do the encode..\n",
    "discoveryjames": "I resolved this issue. I have attached the code for you.\n$format = new FFMpeg\\Format\\Video\\X264();\nif ($format instanceof VideoInterface) {\n    if (null !== $format->getVideoCodec()) {\n        $filters->add(new SimpleFilter(['-vprofile', 'baseline']));\n        $filters->add(new SimpleFilter(['-level', 3.0]));\n    }\n}\n. I would also recommend using the faststart flag too, so that the whole file doesn't have to download before it starts playing.\n$format = new FFMpeg\\Format\\Video\\X264();\nif ($format instanceof VideoInterface) {\n    if (null !== $format->getVideoCodec()) {\n         $filters->add(new SimpleFilter(['-vprofile', 'baseline']));\n        $filters->add(new SimpleFilter(['-level', 3.0]));\n        $filters->add(new SimpleFilter(['-movflags', '+faststart']));\n    }\n}. Sorry for the confusion. I have rewritten the code anyway, I'm using the line below. This is using a php7 array, but if you're not using php7 you can just use array() instead of []\n$format = new FFMpeg\\Format\\Video\\X264();\n$format->setAdditionalParameters(['-vprofile', 'baseline', '-level', 3.0, '-movflags', '+faststart']);. ",
    "weituotian": "\n. @Romain thanks for your replies !. ",
    "sullyfischer": "Thanks man, that did the trick . ",
    "antonkomarev": "Thanks @Romain you've made my day!. And Is there is a way to get more verbose reason why encoding was failed? Because it's always the same error when directory don't have write access, when audio codec not supported and so on.. ",
    "DVendy": "Still the same error :/\nDid I miss something? Should I install some additional file?. ",
    "zGaron": "audiocodec  use aac\n@DVendy. ",
    "nhoctanker": "When using  $format->setAudioCodec('libfdk_aac');  cause this issue too\n ffmpeg -version\nffmpeg version N-87353-g183fd30 Copyright (c) 2000-2017 the FFmpeg developers\nbuilt with gcc 7.2.0 (GCC)\nconfiguration: --disable-static --enable-shared --enable-gpl --enable-version3 --enable-cuda --enable-cuvid --enable-d3d11va --enable-dxva2 --enable-libmfx --enable-nvenc --enable-avisynth --enable-bzlib --enable-fontconfig --enable-frei0r --enable-gnutls --enable-iconv --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libfreetype --enable-libgme --enable-libgsm --enable-libilbc --enable-libmodplug --enable-libmp3lame --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenh264 --enable-libopenjpeg --enable-libopus --enable-librtmp --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxavs --enable-libxvid --enable-libxml2 --enable-libzimg --enable-lzma --enable-zlib\nlibavutil      55. 76.100 / 55. 76.100\nlibavcodec     57.106.101 / 57.106.101\nlibavformat    57. 82.101 / 57. 82.101\nlibavdevice    57.  8.101 / 57.  8.101\nlibavfilter     6.105.100 /  6.105.100\nlibswscale      4.  7.103 /  4.  7.103\nlibswresample   2.  8.100 /  2.  8.100\nlibpostproc    54.  6.100 / 54.  6.100\n. @jens1o  Change  to $format->setAudioCodec(\"libmp3lame\"); that is fast solution.  . ",
    "loveglove": "Encountered this issue recently using recently laravel 5.6 and ffmpeg 3.4.2, i found (as many others before me) that although using (\"libmp3lame\") as the audio codec does succeed, the down side is it  does not produce audio when .mp4's are view on iOS devices.  After some research i found that many of these older \"libaac\" codecs have been deprecated. I then found that there was newer stable aac codec included in the latest version of FFMPEG that can be used simply by specifying \"aac\" in the audio codec parameter. For example:\n$format = new FFMpeg\\Format\\Video\\X264('aac', 'libx264')\nAfter i setup my format like that, any conversion to .mp4 or to .mov succeeded and audio and video was viewable on all android and ios devices\n. ",
    "abdeljabar": "I was getting this error because the target folder didn't exist. Perhaps ffmpeg failed to write to non existent folder. It would be awesome if you could handle errors and exceptions separately.\n\"Encoding failed\" doesn't help much except frustrating you all day long :O . ",
    "recepkocur": "I had the same problem. I used that\n$ chmod -R g+w youroutputmoviedir\nProblem is solved.. ",
    "genora-saish": "Hi Romain,\nThanks for your reply.\nI have hard-coded the command mentioned below and assigned it to a string variable.\nSame string I am passing to exec function. When I execute it gives me above mentioned error.\nHowever same function or code executes perfectly on local windows 7 machine. Details are mentioned above.\nEven Permissions are set properly for each of the folder. Same code works for merging 2 videos but above 2 videos, merging 3 or 4 videos it fails on online server.\nBelow is the code snippet\n`$cmd_final = '\\/usr\\/local\\/bin\\/ffmpeg  -i http:\\/\\/www.example-tv.com\\/example\\/example\\/media\\/video\\/video_3_1_1_1486473677.mp4  -i http:\\/\\/www.example-tv.com\\/example\\/example\\/media\\/video\\/video_3_2_1_1486473692.mp4  -i http:\\/\\/www.example-tv.com\\/example\\/example\\/media\\/video\\/video_3_3_1_1486473723.mp4  -i http:\\/\\/www.example-tv.com\\/example\\/example\\/media\\/video\\/video_3_4_1_1486473708.mp4  -filter_complex \"nullsrc=size=640x380 [base]; [0:v] setpts=PTS-STARTPTS, scale=320x190 [upperleft]; [1:v] setpts=PTS-STARTPTS, scale=320x190 [upperright]; [2:v] setpts=PTS-STARTPTS, scale=320x190 [lowerleft]; [3:v] setpts=PTS-STARTPTS, scale=320x190 [lowerright]; [base][upperleft] overlay=shortest=1:x=0:y=0 [tmp1]; [tmp1][upperright] overlay=shortest=1:x=320:y=0 [tmp2]; [tmp2][lowerleft] overlay=shortest=1:x=0:y=190 [tmp3]; [tmp3][lowerright] overlay=shortest=1:x=320:y=190;[0:a] [1:a] [2:a] [3:a] amix=inputs=4:duration=longest:dropout_transition=1[aa],[aa]volume=2[ab]\" -map [ab] -c:v  libx264 example\\/output\\/vishal2.mp4 2>&1'\nexec($cmd_final,$o, $v);\n        if($v == '0'){\n            echo \"Success output : \";\n            echo \"<pre> \";\n            print_r($o);\n            echo \"</pre> \";\n            echo \"<br> v: \".$v;\n        }\n        else{ \n            //echo \"Error output1 : \".json_encode($o);\n            echo \"<br>Error output : \";\n            echo \"<pre> \";\n            print_r($o);\n            echo \"</pre> \";\n            echo \"<br> v: \".$v;\n        }\n\n`. ",
    "ibrahimch": "How can I convert mkv to mp4 aur 2nd audio track (MKV File Has 2 or more audio track) Then how can I select audio track. Here is map feature description\nhttps://trac.ffmpeg.org/wiki/Map. ",
    "JayB-K": "I put require_once 'vendor/autoload.php'; right after the php tag.\nSince autoload.php is located in /usr/share/php/Composer/autoload.php in my server, I put it as below.\n```\n<?php\nrequire_once '/usr/share/php/Composer/autoload.php';\nheader(\"Content-Type: text/html;charset=UTF-8\");\n$ffmpeg = FFMpeg\\FFMpeg::create([\n                'ffmpeg.binaries'  => '/usr/bin/ffmpeg',\n                'ffprobe.binaries' => '/usr/bin/ffmprobe',\n                'timeout'          => 3600, // the timeout for the underlying process\n                'ffmpeg.threads'   => 1,   // the number of threads that FFMpeg should use\n            ], $logger);\n// Open your video file\n    $video = $ffmpeg->open('./test.mp4');\n$video\n    ->filters()\n    ->resize(new FFMpeg\\Coordinate\\Dimension(320, 240))\n    ->synchronize();\n\n$video\n    ->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(10))\n    ->save('test_frame.jpg');\n\n}\n?>\n```\nThis gives me the below error.\nFatal error: Uncaught Error: Class 'FFMpeg\\FFMpeg' not found. ",
    "AJ-TechSoul": "by using this code\nuse FFMpeg;\ni m getting error\n\nParse error: syntax error, unexpected 'use' (T_USE)\nthen i have made a class file and used use FFMpeg above CLASS \n```\n<?php\nuse FFMpeg;\nCLASS VIDENCODER {\n\nfunction transform($video,$saveas=\"\",$screenshot=\"\"){\n  $randfile = time();\n  $saveas = ($saveas!=\"\") ? $saveas : $randfile;\n  $screenshot = ($screenshot!=\"\") ? $screenshot : $saveas;\n  $ffmpeg = FFMpeg\\FFMpeg::create();\n  $video = $ffmpeg->open($video);\n  $video\n      ->filters()\n      ->resize(new FFMpeg\\Coordinate\\Dimension(320, 240))\n      ->synchronize();\n  $video\n      ->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(10))\n      ->save($screenshot.'.jpg');\n  $video\n      ->save(new FFMpeg\\Format\\Video\\X264(), 'export-x264.mp4')\n      ->save(new FFMpeg\\Format\\Video\\WMV(), 'export-wmv.wmv')\n      ->save(new FFMpeg\\Format\\Video\\WebM(), 'export-webm.webm');\n}\n\n}\n?>\n```\nbut still error coming is \n\nFatal error:  Uncaught Error: Class 'FFMpeg\\FFMpeg' not found \n\n### Composer is installed as Global (fyi). Yeah i used composer autoloader.\nthen the new error comes.\nFatal error: Uncaught Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException: ffmpeg failed to execute command '/usr/bin/ffmpeg' '-y' '-i' 'tmp/how_to_repair_water_damage_mobile_display_fault_solution.mp4' '-async' '1' '-metadata:s:v:0' 'start_time=0' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vf' '[in]scale=320:240 [out]' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes599179429625aan82w/pass-5991794296323' 'export-x264.mp4' in /var/www/OnlineClasses/core/plugins/FFMpeg/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100 Stack trace: #0 /var/www/OnlineClasses/core/plugins/FFMpeg/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure(''/usr/bin/ffmpe...') #1 /var/www/OnlineClasses/core/plugins/FFMpeg/vendor/alchemy/binary-driver/src/Alchemy/Bi in\nI dont know why this error accurs, i have searched on Google and i dont find any relevant answers. . ",
    "Sitesh1064": "@jens1o @Romain, I am facing the same issue currently i am using ubuntu 16.04 with ffmpeg and ffprobe version in the image can you guys help me out ASAP \n\n. ",
    "thecodeflash": "I am also facing the same issue. I am using the latest ffmpeg (ffmpeg version 2.8.11-0ubuntu0.16.04.1) on Ubuntu 16.04.\n. ",
    "TCB13": "Looks like this is the same issue I just reported at https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/612\n@Miky94 did you find a solution?. @jens1o thanks for the answer. I'm not that experienced in IIS also but I found an interesting thing, if I run it on powershell calling PHP directly it works as expected, however via IIS I get this error.. Managed to fix this, one more complex thing within IIS.\nI had to change IIS Application Pool > Advanced Settings > Process Model > Identity from ApplicationPoolIdentity to LocalSystem.\nMaybe this should be added to the readme? . ",
    "Aizazdinho": "Don't why this works when i used this \nsudo mv /opt/lampp/lib/libstdc++.so.6 /opt/lampp/lib/libstdc++.so.6.orig\nin the terminal it fixed the issue, this might help you . Using this cmd \n' > sudo mv /opt/lampp/lib/libstdc++.so.6 /opt/lampp/lib/libstdc++.so.6.orig'\nfixed the ffprobe failed to execute command error. ",
    "marchrius": "IMHO the best choose is to change flaac with aac. In this way you use a counter-part very close to flaac.. ",
    "php2020": "`$format = new FFMpeg\\Format\\Video\\X264('libmp3lame', 'libx264');\n$format->on('progress', function ($video, $format, $percentage) {\n    echo \"$percentage % transcoded\";\n});\n$video->save($format, 'video.avi');`. ",
    "twmbx": "Would the solution be to introduce an optional flag to allow forcing of the object type one wants returned?\nOr would it be better to try detect audio more accurately?. Nobody lending a hand with this huh?. ",
    "phylaxis": "Is there any fix for this yet?. I'm having the exact same issue with an MP3 file I'm trying to work with. I think part of the problem might be this file is an MP3 with Chapter support. Is there a way to \"force\" FFMPEG to only open and work with the audio portion?. I'm attempting to do something similar with an MP3 audio file that for some reason the open command thinks my file is video. The issue I have though is when I attempt to re-encode an save I'm hitting an FFMPEG issue. The error is: Too many packets buffered for output stream 0:1. I think the trouble is I'm working with a large source file (~62MB). There is a bug report here: https://trac.ffmpeg.org/ticket/6375 and the workaround seems to be to set the -max_muxing_queue_size to a larger vale, around 1000, though in my case I had to set it to 300000 to work with my file. Is there a way to set the -max_muxing_queue_size in PHP-FFMpeg?. ",
    "cjw0202": "thanks for your responses,but how to use ffmpeg in php programs?\n\u53d1\u81ea\u6211\u7684 iPhone\n\u5728 2017\u5e743\u670814\u65e5\uff0c01:59\uff0cJens Hausdorf notifications@github.com<mailto:notifications@github.com> \u5199\u9053\uff1a\nFirst of all, please fill out the template. Second of all, this project doesn't provide an php extension, but only a library(which can be pulled by composer), so this won't be shown in phpinfo output.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHubhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/324#issuecomment-286190910, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AQxK1VjaeLT6ojicx83itGxE9Pz-pc0hks5rlYPcgaJpZM4MbBxl.\n. [cid:_Foxmail.1@84f74c3a-4d62-07d9-d5a1-ee7ebb6a09bd]\n[cid:_Foxmail.1@283ae7ce-843a-6b2c-bf4d-e29e11f9a6ff]\nI don't know why\n\nweijia0202@outlook.com\n\u53d1\u4ef6\u4eba\uff1a Jens Hausdorfnotifications@github.com\n\u53d1\u9001\u65f6\u95f4\uff1a 2017-03-14 13:15\n\u6536\u4ef6\u4eba\uff1a PHP-FFMpeg/PHP-FFMpegPHP-FFMpeg@noreply.github.com\n\u6284\u9001\uff1a cjw0202weijia0202@outlook.com; Authorauthor@noreply.github.com\n\u4e3b\u9898\uff1a Re: [PHP-FFMpeg/PHP-FFMpeg] i have installed PHP-FFMpeg,But when i executed phpinfo() function.it has no php-fmpeg moudle \uff0cwhy\uff1fPlease tell me\uff0cThanks (#324)\nHere you go: https://github.com/PHP-FFMpeg/PHP-FFMpeg#basic-usage\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHubhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/324#issuecomment-286324474, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AQxK1VZ0oOo-17BwfemMCj1MyENeeuz_ks5rliKJgaJpZM4MbBxl.\n. hello:\n[cid:_Foxmail.1@fefc4e0c-75c4-8efa-ce6c-d65b7d06bcfb]\nwhat means\n\nweijia0202@outlook.com\n\u53d1\u4ef6\u4eba\uff1a Jens Hausdorfnotifications@github.com\n\u53d1\u9001\u65f6\u95f4\uff1a 2017-03-14 13:15\n\u6536\u4ef6\u4eba\uff1a PHP-FFMpeg/PHP-FFMpegPHP-FFMpeg@noreply.github.com\n\u6284\u9001\uff1a cjw0202weijia0202@outlook.com; Authorauthor@noreply.github.com\n\u4e3b\u9898\uff1a Re: [PHP-FFMpeg/PHP-FFMpeg] i have installed PHP-FFMpeg,But when i executed phpinfo() function.it has no php-fmpeg moudle \uff0cwhy\uff1fPlease tell me\uff0cThanks (#324)\nHere you go: https://github.com/PHP-FFMpeg/PHP-FFMpeg#basic-usage\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHubhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/324#issuecomment-286324474, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AQxK1VZ0oOo-17BwfemMCj1MyENeeuz_ks5rliKJgaJpZM4MbBxl.\n. ",
    "dragu": "\nHave you tried to copy and paste the command generated by the bundle in your terminal to see what you get?\n\nI have, I even wrote how I get command generated by the lib and uploaded output  files.. ",
    "martin-1988": "I think the -crf option is ignored because of the \"b:v 1000k\" option? This could result in the different filesizes. \nIs there a way to remove the bitrate 'b:v' option?\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/96225b2dff65a4c3b0b541f2420742ffe5851127/src/FFMpeg/Media/Video.php#L88\n. ",
    "hipsterjazzbo": "Near as I can tell, that only applies to video. I'm processing audio files.. Awesome!. @Romain I'd be happy to make this change and PR it, if you could point me in the direction of how you'd like it done?. ",
    "Nonnis-M": "Do you refer to https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/master/src/FFMpeg/Filters/Audio/SimpleFilter.php ?\nWhat I have to do to properly use it?. apologize for writing again but the ffmpeg cmd to mix audio and video is the follow:\nffmpeg -i input0 -i input1 -map 0:a -map 1:v -c copy output\nand I have no idea about how to bind input0 and input1 (respectively the audio and video file in this sample) to real input files with my SimpleFilter. I have searched for samples in this repository but I didn't find anything useful.. ",
    "EGreg": "Has this been done? How do you accomplish this?. ",
    "sarvap-praharanayuthan": "sudo chown -R\nThanks for the hint :). ",
    "djekl": "I didn't say just a default, I said a sane default. You are using a variable without a check that is conditionally set. By a sane default, I mean to instantiate $duration with (for example) a value of 0 before line 83 https://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/7cff2ecb23d48f927981ad8cee0583d41eb8d620/src/FFMpeg/Filters/Video/ExtractMultipleFramesFilter.php#L83\nThis way you have a value defined, and can either quit early, throw an exception to be caught, or continue on with the default value.. ",
    "mcfriend99": "I am on a shared hosting account. And they have refused to upgrade in order to keep other users code compatible or so they say... Please what can I do?. Ya, I now get another error saying \"Unrecognized option 'b:v'\". I can't afford to ask my customer for another money to purchase another hosting. Please what can I do??. Is it possible to get a version of PHP-FFMpeg compatible with this build??. Will the code be compatible with the one above or will I have to tweak my code to conform? My customer just needs it to run as we are now concerned with making it work while we source alternative hosting.. Thanks, I glued!!. Thanks. \nFor someone else who may wonder though, I just confirmed that setAudioChannel does not exist in that build.. Will test it on the production server now to see if it will work!. Still getting the \"Unrecognized option 'b:v'\" error. Any more help? Really appreciated!. Now its \"Unknown encoder 'libx264'\". Any ideas? You really been helpful. . I need a video that can play across all major platforms and not heavy on the file size. That's why am going for mp4.. Is there a way to use static builds with this script?. I mean I could download static (compiled) builds of ffmpeg from their server and change the path of ffmpeg to it. I already tried it, my problem is that I am getting ExecutableNotFoundException.\n. They are working builds and I am already using them on my website. Thanks a lot.. Yes. After fixing permissions.\nThe new error is now This version of ffprobe is too old and does not support -show_format option. I fixed that already.\nNow I still get \"Unknown encoder: libx264\" error. Is there any other encoder I can use?. No errors reported.\nHere is the Complete Code:\n```\ntry{\n        $ffmpeg = $ffmpeg = FFMpeg\\FFMpeg::create(['timeout'=>3600, 'ffmpeg.thread'=>12]);\n\n        $ffprobe_prep = FFMpeg\\FFProbe::create();\n        $ffprobe = $ffprobe_prep->format($video_file);\n\n        $video = $ffmpeg->open($video_file);\n\n        // Get video duration to ensure our videos are never longer than our video limit.\n        $duration = $ffprobe->get('duration');\n\n        // Use mp4 format and set the audio bitrate to 56Kbit and Mono channel.\n        // TODO: Try stereo later...\n        $format = new FFMpeg\\Format\\Video\\X264('libmp3lame');\n        $format\n            -> setKiloBitrate(256)\n            -> setAudioChannels(1)\n            -> setAudioKiloBitrate(8);\n\n        $first = $ffprobe_prep\n                    ->streams($video_file)\n                    ->videos()\n                    ->first();\n\n        $width = $first->get('width');\n\n        if($width > VIDEO_WIDTH){\n            // Resize to 558 x 314 and resize to fit width.\n            $video\n                ->filters()\n                ->resize(new FFMpeg\\Coordinate\\Dimension(VIDEO_WIDTH, ceil(VIDEO_WIDTH / 16 * 9)));\n        }\n\n        // Trim to videos longer than three minutes to 3 minutes.\n        if($duration > MAX_VIDEO_PLAYTIME){\n\n            $video\n                ->filters()\n                ->clip(FFMpeg\\Coordinate\\TimeCode::fromSeconds(0), FFMpeg\\Coordinate\\TimeCode::fromSeconds(MAX_VIDEO_PLAYTIME));\n        }\n\n        // Change the framerate to 16fps and GOP as 9.\n        $video\n            ->filters()\n            ->framerate(new FFMpeg\\Coordinate\\FrameRate(16), 9);\n\n        // Synchronize audio and video\n        $video\n            ->filters()\n            ->watermark('includes/images/watermark.png', array(\n                'position' => 'relative',\n                'bottom' => 50,\n                'right' => 50,\n            ))\n            ->synchronize();\n\n        $video->save($format, $video_file_new_2);\n\n        } catch(Exception $e){}\n\n```. ",
    "justice93kg": "SOLVED(at least for me): see answer here: #310. ",
    "farooqkz": "ok, sorry, i closed this.. ok i opened it. ",
    "xparthxvorax": "I also had the same error:\nUndefined property: FFMpeg\\Format\\Audio\\Mp3::$additionalParameters\nAdding below in php-ffmpeg/php-ffmpeg/src/FFMpeg/Format/Audio/DefaultAudio.php fixed the issue for me.\nprotected $additionalParameters = null;. ",
    "marcoapferegrino": "Yes is writing the file because it appears in the directory I wrote but for some reason it fails when is encoding, or at least that said the issue. \nFFMpeg\\Media\\Video->save(Object(FFMpeg\\Format\\Video\\X264), '/home3/myuser...')\nHow can I check those because in local I didn't need it . My web user is the same as the owner in my web dir and the dir where I have the binaries. \nI remember you, I have binaries inside my web dir because I can not put them in usr/bin or usr/local/bin. This is all I have, I tried get something more but is all. \n{$e->getMessage()},\n            {$e->getFile()},\n            {$e->getLine()},\n            {$e->getCode()}:::::::\n            {$e->getTraceAsString()}\n[2017-04-07 14:36:23] local.INFO: Run time exception :::::::Encoding failed,\n            whoami: myuser,\n        /home3/myuser/public_html/spiff/vendor/phpffmpeg/phpffmpeg/src/FFMpeg/Media/Video.php,\n           Line  178,\n           Code 0:::::::\n            #0 /home3/myuser/public_html/spiff/app/Http/Controllers/TargetsController.php(134): FFMpeg\\Media\\Video->save(Object(FFMpeg\\Format\\Video\\X264), '/home3/myproject...'). Oh sure here I had \n\nexception 'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffmpeg failed to execute command '/home3/myuser/public_html/spiff/binvideos/ffmpeg' '-y' '-i' '/home3/myuser/public_html/spiff/public/uploads/targets/video_EdFcBkLPmCfuWQwy6PMa.mp4' '-threads' '12' '-vcodec' 'libx264' '-acodec' 'aac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes58e7cb31b2f0dwczeb/pass-58e7cb31b2fcf' '/home3/myuser/public_html/spiff/public/uploads/targets/export_ODxmwE3cgKmRGN6lKn0H.mp4'' in /home3/myuser/public_html/spiff/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100. I got this : \nI checked it and the resource already exists \nffmpeg version 3.2.2-static http://johnvansickle.com/ffmpeg/  Copyright (c) 2000-2016 the FFmpeg developers\n  built with gcc 5.4.1 (Debian 5.4.1-4) 20161202\n  configuration: --enable-gpl --enable-version3 --enable-static --disable-debug --disable-ffplay --disable-indev=sndio --disable-outdev=sndio --cc=gcc-5 --enable-fontconfig --enable-frei0r --enable-gnutls --enable-gray --enable-libass --enable-libfreetype --enable-libfribidi --enable-libmp3lame --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libopus --enable-librtmp --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libvidstab --enable-libvo-amrwbenc --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxvid --enable-libzimg\n  libavutil      55. 34.100 / 55. 34.100\n  libavcodec     57. 64.101 / 57. 64.101\n  libavformat    57. 56.100 / 57. 56.100\n  libavdevice    57.  1.100 / 57.  1.100\n  libavfilter     6. 65.100 /  6. 65.100\n  libswscale      4.  2.100 /  4.  2.100\n  libswresample   2.  3.100 /  2.  3.100\n  libpostproc    54.  1.100 / 54.  1.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home3/inmersy1/public_html/spiff/public/uploads/targets/video_EdFcBkLPmCfuWQwy6PMa.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    creation_time   : 2012-04-24T23:55:03.000000Z\n    encoder         : Lavf53.24.0\n  Duration: 00:00:11.85, start: 0.000000, bitrate: 944 kb/s\n    Stream #0:0(eng): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 596x336 [SAR 1:1 DAR 149:84], 941 kb/s, 29.97 fps, 29.97 tbr, 2997 tbn, 59.94 tbc (default)\n    Metadata:\n      creation_time   : 2012-04-24T23:55:03.000000Z\n      handler_name    : VideoHandler\nStream mapping:\n  Stream #0:0 -> #0:0 (h264 (native) -> h264 (libx264))\nError while opening decoder for input stream #0:0 : Resource temporarily unavailable. Ok I will try it. Is weird because in my local environment is working. I really appreciate your help. Thanks. Hi, tried with one thread and I got this error. My Binaries works are the same as I use in local and works and are the lasts version, also the videos I test have no problem, in my local works fine.  any idea?.\nAlchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffmpeg failed to execute command '/home3/inmersy1/public_html/spiff/binvideos/ffmpeg' '-y' '-i' '/home3/inmersy1/public_html/spiff/public/uploads/targets/video_Noq6Vq36N7uRIexbGWrL.mp4' '-threads' '1' '-vcodec' 'libx264' '-acodec' 'aac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes58eb90f55173apy834/pass-58eb90f5517f1' '/home3/inmersy1/public_html/spiff/public/uploads/targets/export_CY8qvAXM1XocpdXeWDte.mp4'' in /home3/inmersy1/public_html/spiff/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100. SOLVED I guess\n\nI already solved just  changing this line \n$format->setAudioCodec('aac','libmp3lame');\nby this one\n$format->setAudioCodec('libmp3lame');\nCan I not add two codecs? or is in array param? . Oh, so, at end it was my typo I really feel like a fool, sorry to waste your time dude I did not notice. ",
    "testchik": "The merge is work on localhost. It is not work in shared server. I needs to work with shared server. How can add ffmpeg in shared server. is it possible to get binary file ffmpeg?. \nI get error like:::::::\nFatal error: Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutableNotFoundException' with message 'Executable not found, proposed : avprobe, ffprobe' in /home/igeniusdev/public_html/Unity_Hex/SuperMarket Promotion-WebGL3/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php:160 Stack trace: #0 /home/igeniusdev/public_html/Unity_Hex/SuperMarket Promotion-WebGL3/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Driver/FFProbeDriver.php(48): Alchemy\\BinaryDriver\\AbstractBinary::load(Array, NULL, Object(Alchemy\\BinaryDriver\\Configuration)) #1 /home/igeniusdev/public_html/Unity_Hex/SuperMarket Promotion-WebGL3/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php(207): FFMpeg\\Driver\\FFProbeDriver::create(Array, NULL) #2 /home/igeniusdev/public_html/Unity_Hex/SuperMarket Promotion-WebGL3/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFMpeg.php(117): FFMpeg\\FFProbe::create(Array, NULL, NULL) #3 /home/igeniusdev/public_html/Unity_Hex/SuperMarket Promotion-WebGL3/merger.php(16): FFMpeg\\FFMpeg::create() #4 {main} Next exc in /home/igeniusdev/public_html/Unity_Hex/SuperMarket Promotion-WebGL3/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Driver/FFProbeDriver.php on line 50\n. you say that binaries can be located with system PATH to get the benefit of the binary detection, otherwise you should have to explicitly give the binaries path on load.\nHow to include binaries file. How can find binaries file.. I installed ffmpeg in localhost on windows system.so it is work well. My live server which is godaddy can't able to install it.  I needs to include binary file.. yes live server just a web server...............\nAre any other methods provides solution of merging video and audio file?\n. I used your code like:\n`<?php\ninclude 'vendor/autoload.php';\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('videos/localfile84201711432.mp4');\n  $video->addFilter(new \\FFMpeg\\Filters\\Audio\\SimpleFilter(array('-i ' . 'videos/Kalimba_Audio.mp3', '-shortest')));\n  $video->save(new \\FFMpeg\\Format\\Video\\X264(), 'testoutput.mp4');`\nI got error message like that Fatal error: Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffmpeg failed to execute command \"C:\\ffmpeg\\bin\\ffmpeg.EXE\" \"-y\" \"-i\" \"videos/localfile84201711432.mp4\" \"-i videos/Kalimba_Audio.mp3\" \"-shortest\" \"-vcodec\" \"libx264\" \"-acodec\" \"libfaac\" \"-b:v\" \"1000k\" \"-refs\" \"6\" \"-coder\" \"1\" \"-sc_threshold\" \"40\" \"-flags\" \"+loop\" \"-me_range\" \"16\" \"-subq\" \"7\" \"-i_qfactor\" \"0.71\" \"-qcomp\" \"0.6\" \"-qdiff\" \"4\" \"-trellis\" \"1\" \"-b:a\" \"128k\" \"-pass\" \"1\" \"-passlogfile\" \"C:\\Users\\abcd\\AppData\\Local\\Temp\\ffmpeg-passes58faeeb204dd96w1zk/pass-58faeeb2055a9\" \"testoutput.mp4\"' in C:\\xampp\\htdocs\\Unity_Hex\\vendor\\alchemy\\binary-driver\\src\\Alchemy\\BinaryDriver\\ProcessRunner.php:100 Stack trace: #0 C:\\xampp\\htdocs\\Unity_Hex\\vendor\\alchemy\\binary-driver\\src\\Alchemy\\BinaryDriver\\ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure('\"C:\\ffmpeg\\bin...') #1 C:\\xampp\\htdocs\\Unity_Hex\\vendor\\alchemy\\binary-driver\\src\\Alchemy\\BinaryDriver\\AbstractBinary.php(209): Alchemy\\BinaryDriver\\P in C:\\xampp\\htdocs\\Unity_Hex\\vendor\\php-ffmpeg\\php-ffmpeg\\src\\FFMpeg\\Media\\Video.php on line 178\n. I execute this command message that at least one output file required\n. I can't understand what to do?. Any other command for merge audio and video file without ffprobe?\n . I execute below script:\nshell_exec(\"ffmpeg -y -i videos/localfile84201711432.mp4 -i videos/Kalimba_Audio.mp3 -shortest -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -pass 1 -passlogfile export/localfile84201711432.mp4\");\nIt is work in localhost, but issue in host upon web server.. ",
    "vrajroham": "ok. Using with Silex Microframework is not like other headings in readme. Any other alternative?. Thanks @jens1o  updated as per your suggestion . ",
    "adepolas": "In Ubuntu, the driver's path is in PATH variable  : \n```\n$whereis ffmpeg\nffmpeg: /usr/bin/ffmpeg /usr/share/ffmpeg /usr/share/man/man1/ffmpeg.1.gz\n$echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\n```. Oh I've opened an issue in the wrong repository ! Thank you @jens1o \ud83d\udc4d   . ",
    "igorveremsky": "add documentation to README.MD for new features from this PR. @jens1o is it make sense to keep it PR open till someone will write a tests for this features? . @Romain thanks for your code review. I agree with you and apply your changes.. ",
    "eberkund": "This should be closed, it has nothing to do with FFMpeg and more to do with Laravel. You should ask this question on Stackoverflow.. Sorry, what is SimpleFilter?. Ah okay, thanks.. When I do\nffmpeg -stream_loop 3 -i input.gif output.mp4\n\nI get exactly what I want but if I do,\n    $video = $ffmpeg->open($path);\n    $video->addFilter(new SimpleFilter(['-stream_loop', '2']));\n    $video->save($format, $videoPath);\n\nI get \"encoding failed\". If I remove the call to addFilter() it works but then I don't get the loop I need.. Oh, I see what you mean. I was looking through the code and I see there is an option to set a priority on the filter but that won't but it before the input I don't think. Is there away to specify that the filter goes before the input?. Okay, so I guess this falls under 2 potential new features\n\nNew filter for \"stream_loop\"\nAbility to add filters before the input flag\n\nI would be open to creating a pull request for these things, for now I think I am just going to revert back to a shell script for my project. Anyone reading this please feel free to post your input on what the API should look like for these features and ideas for implementation.\nThanks for the help @jens1o . ",
    "BPing": "When the live broadcast, the video through the RTMP protocol pushed to the live server\nPublishing video to the server @Romain . ",
    "rickerd": "I also would like to read rtsp and send them to a rtmp server. For hobby projects i would like to stream birdhouses and stuff and manage this trough a web interface built with php.\nI don't know how it all works but if i could contribute i certain will contribute.. ",
    "Scarlicity": "@Tinywan,\nHi, I find a way to solve it, but i do not know whether it can solve your problem.\nI think it is an authority problem. You can try 'chmod 777 your-ffmpeg-root-path'. . @Tinywan Are you chinese? Or?. @Tinywan yeal. Two Chinese use English to communicate. That's so funny~. ",
    "WhiteSnowGirl": "https://ffmpeg.zeranoe.com/builds/ How to solved? just chmod 777?How to install in linux?. thanks. ",
    "ShaoGongBra": "@Scarlicity @Tinywan \n\u4f60\u4eec\u5c31\u4e0d\u80fd\u6765\u53e5\u4e2d\u6587\u5417\uff0c\u6211\u4e5f\u9047\u5230\u8fd9\u4e2a\u95ee\u9898\u4e86\uff0c\u6309\u7167\u4f60\u4eec\u7684\u65b9\u6cd5\u90fd\u4e0d\u884c\uff0c\u8981\u600e\u4e48\u529e. @Tinywan \nUnable to load FFProbe only\n\u5c31\u662f\u8fd9\u4e2a\uff0c\u6211\u53d1\u73b0\u4e86\uff0c\u662f\u6211\u7684\u6267\u884c\u8def\u5f84\u5199\u9519\u4e86. @jens1o \nI am using thinkphp\n[0] ExecutableNotFoundException in FFProbeDriver.php line 50\nUnable to load FFProbe\n        if (!$configuration instanceof ConfigurationInterface) {\n            $configuration = new Configuration($configuration);\n        }\n    $binaries = $configuration->get('ffprobe.binaries', array('avprobe', 'ffprobe'));\n\n    try {\n        return static::load($binaries, $logger, $configuration);\n    } catch (BinaryDriverExecutableNotFound $e) {\n        throw new ExecutableNotFoundException('Unable to load FFProbe', $e->getCode(), $e);\n    }\n}\n\n}\nCall Stack\nin FFProbeDriver.php line 50\nat FFProbeDriver::create(object(Configuration), null) in FFProbe.php line 226\nat FFProbe::create([], null, object(ArrayCache)) in FFMpeg.php line 117\nat FFMpeg::create() in Api.php line 44\nat Api->make_gif()\nat ReflectionMethod->invokeArgs(object(Api), []) in App.php line 343\nat App::invokeMethod([object(Api), 'make_gif'], []) in App.php line 595\nat App::module(['sorrygif', 'api', 'make_gif'], ['app_host' => '', 'app_debug' => true, 'app_trace' => '0', ...], true) in App.php line 456\nat App::exec(['type' => 'module', 'module' => ['sorrygif', 'api', 'make_gif']], ['app_host' => '', 'app_debug' => true, 'app_trace' => false, ...]) in App.php line 139\nat App::run() in start.php line 19\nat require('/www/wwwroot/gif.dho...') in index.php line 34. @jens1o \nThe text is translated by translation software. It may be a bit blunt to read. Sorry.. @jens1o \nThinkphp uses this method\nFirst introduced\nUse FFMpeg\\FFMpeg;\nUse it immediately\n$ffmpeg = FFMpeg::create();\nHere's an error. @jens1o \nI saw that the tutorial said to install this, but his version is old\nHttps://sourceforge.net/projects/ffmpeg-php/files/ffmpeg-php/. @jens1o \nSo how do you configure the php.ini file when you use it?. @jens1o \nI saw the tutorial saying to add this\nExtension=ffmpeg.so. @jens1o \nIn other words, as long as I installed ffmpeg on the server, can I use this library directly?. @jens1o \nI'm from China. The information on our side is not called backward. I'll try it.. @jens1o \nIs this function used in this library?\nshell_exec. @jens1o \nOk, thank you, I try again. @jens1o \nNow encountered such an error\nYour FFProbe version is too old and does not support -help option, please upgrade.\nMy function disable list is as follows:\nPassthru\nSystem\nChroot\nChgrp\nChown\nShell_exec\nPopen\nIni_alter\nIni_restore\nDl\nOpenlog\nSyslog\nReadlink\nSymlink\nPopepassthru\nIs it because of the reason that these functions are disabled?\nI perform ffprobe '-help' in Linux, can display normally. ",
    "Defunktt1": "It was a problem with ffmpeg. When I updated the package, everything began to work fine. . ",
    "grray": "Year is returned as key \"date\", so try changing \"year\" to \"date\".. ",
    "davidospina": "Hi. Worked perfectly. Thanks. ",
    "saeedhbi": "I do like this but none of meta tags works. Is there any another option? I'm in ubuntu 16.04.. ",
    "dinhchuong7913": "I using nginx and run chown nginx:nginx already but still this issue. I dont understand clearly?? exce right??. Not my server so I am not sure, I checked, it not use FPM. sorry I am confused about this.\nMy local, I use wamp, install ffmpeg, ervery things is ok but on server have this issue when I want get thumbnail and connver video.\nI searched but not find solution.\nplease teach me more detail, thanks\nopen_basedir = /srv/http/:/home/:/tmp/:/usr/share/pear/:/usr/share/webapps/:/usr/bin/:/usr/local/bin/:/home/schenker/web/project/public_html:/home/project/tmp\nis it correct??.  I try already but still this issue. ",
    "asyncpjax": "@dinhchuong7913 \nMy same problem has been resolved .\nhttp://www.iamle.com/archives/1609.html\nphp-fpm.conf :\nenv[TMP] = /tmp/\nenv[TMPDIR] = /tmp/\nenv[TEMP] = /tmp/\nphp_admin_value[sendmail_path] = /usr/sbin/sendmail -t -i -f webmaster@qq.com\nphp_admin_value[open_basedir] = /home/wwwroot/:/tmp/:/var/tmp:/proc/\nphp_admin_value[session.save_path] = /tmp/\nphp_admin_value[upload_tmp_dir] = /tmp/\nslowlog = /usr/local/php/var/log/$pool.log\nrequest_slowlog_timeout = 3s\n\u5728nginx \u914d\u7f6e fastcgi_param\u53c2\u6570\nfastcgi_param PHP_ADMIN_VALUE \"open_basedir=$document_root/:/tmp/:/proc/\";. ",
    "masoudline": "I have the same issue on nginx laravel centos \nI use ffmpeg command and its work fine but when I want to save my data from backend panel these errors show:\n\"file_exists(): open_basedir restriction in effect. File(/usr/bin/ffprobe) is not within the allowed path(s): (/home/roxo/:/tmp/:/var/tmp/:/usr/local/php72/lib/:/usr/local/php54/lib/:/usr/local/php55/lib/:/usr/local/php56/lib/:/usr/local/php70/lib/:/usr/local/php71/lib/:/usr/local/lib/php/)\". ",
    "rsnitsch": "Yes, this would be a very useful feature. Any news on this?\nBy the way. A few alternatives are elaborated here:\nhttps://superuser.com/questions/559372/using-ffmpeg-to-locate-moov-atom. @jens1o When processing videos with ffmpeg you have the option to use -movflags +faststart as a commandline switch. This moves an important part of the resulting video file (the MOOV atom) to the beginning of that file, such that the video can be streamed directly, typically from a webserver. Without this, the video must be downloaded completely before the playback can start.\nI don't think that \\FFMpeg\\FFProbe can implement such a MOOV location check, because the ffprobe tool itself lacks such a feature. This feature should be requested upstream (i.e. at ffmpeg).. ",
    "gailingmic": "you can check it with fprobe already!. ",
    "huglester": "hello\n@jens1o thanks for this. \nwith default, libvpx - my videos were converted but were 'green'\nI have added libvpx-vp9\nchanged the codec to: new \\FFMpeg\\Format\\Video\\WebM('libvorbis', 'libvpx-vp9')\nand it works! thanks. I think this can be safety merged.\nthis should also fix this issues: https://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/269\nthanks\n. Hello @jens1o \njust a friendly reminder :). Sure!:) thanks for sollution btw. Helpec me on mac. @jens1o no sign of @Romain  ?:(. For now I came up with a solution:\n```php\n$ffprobe = FFProbe::create($config);\n    $duration = (int) $ffprobe\n        ->format($value->path())\n        ->get('duration');\n\n    return $duration > 0;\n\n```\nso if duration is more than 1 second -  it's ok\ndoes it seem correct? If so maybe this issue van be close, or maybe some ->validate() method could be implemented? . Thank you :)  works\nbut it would be better if you tag a new version sometime not too late\nbeeing on dev-master I don't feel good:). I think most of people are already on 7.0, 5.6, 7.1\nso upping the requirements should not be the problem.. just make sure you tag last version of 5.3 or so... then just jump to 7.0 for example - with version 1.0\nsymfony newest LTS version is moving to 7.1, laravel is on 7.0+\n5.6 is almost eol already.. \nYou never will make everyone happy :) \nbut moving to newer version will force you to use newer, more feature rich dependencies and it will make this project easier to be required in probably newer projects\nbut as I see you are already using 7.0 syntax, no? if so - just close this :)\n. Why not go atrait to 7.0 or so in 1.x version?. probably best would be to apply fixes with one PR... psr2 or something.\nlike symfony/laravel has.\nmaybe even use some free automation tools, which would check each PR for code styles. ",
    "adriangoris": "I am also trying to figure out what is the best way to create custom ffmpeg commands. It would be nice to get some documentation on creating custom commands in the mean time. I am interested in running some hls commands such as:\nffmpeg -y -i video.mp4 -g 60 -hls_time 10 -hls_list_size 0 video.m3u8. I was able to add my own \"hls\" method to FFmpeg/Media/Video.php which instantiated a new Hls Class which I defined in FFmpeg/Media/Hls.php . It followed the methodology of the \"frame\" method in Video.php . \nI didn't want to hack away at the thing but i didn't see another elegant option. . That would be a very useful feature - verbose or dry run. Currently my method is to set an additional parameter that I know will cause an error, and see the output in console. For example:\n$format->setAdditionalParameters(array('stupidflag', 'iknowthiswontwork'));. ",
    "aminyazdanpanah": "I solved the problem by using SimpleFilter class like this:\n...\n$video = $ffmpeg->open(public_path('video.mp4'))\n->addFilter(new SimpleFilter(['-g','60','-hls_time', '10' , '-hls_list_size', '0' , ...]));\n...\nor you can use setAdditionalParameters when you set format of video\n...\n$format = new X264();\n$format->setAdditionalParameters(['-g','60','-hls_time', '10' , '-hls_list_size', '0' , ...]);\n...\nbut if you use Laravel framework for development, you can use this library to create HLS videos:\nhttps://github.com/pascalbaljetmedia/laravel-ffmpeg\nthat also uses the PHP-FFmpeg library.\n. ",
    "ruhong65": "Fatal error: Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffprobe failed to execute command \"./vendor/ffmpeg/bin/ffprobe.exe\" 1.mp3 -show_streams -print_format json' in D:\\xampp\\htdocs\\d\\trunk\\vendor\\alchemy\\binary-driver\\src\\Alchemy\\BinaryDriver\\ProcessRunner.php:100 Stack trace: #0 D:\\xampp\\htdocs\\d\\trunk\\vendor\\alchemy\\binary-driver\\src\\Alchemy\\BinaryDriver\\ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure('\"./vendor/ffmpe...') #1 D:\\xampp\\htdocs\\d\\trunk\\vendor\\alchemy\\binary-driver\\src\\Alchemy\\BinaryDriver\\AbstractBinary.php(209): Alchemy\\BinaryDriver\\ProcessRunner->run(Object(Symfony\\Component\\Process\\Process), Object(SplObjectStorage), false) #2 \nwhat's this problem?\ni want change the mp3 to flac . \n$audio = $ffmpeg->open('1.mp3');\n\n    $format = new FFMpeg\\Format\\Audio\\Flac();\n\n    $format->on('progress', function ($audio, $format, $percentage) {\n        echo \"$percentage % transcoded\";\n    });\n    $format\n        ->setAudioChannels(2)\n        ->setAudioKiloBitrate(256);\n\n    $audio->save($format, 'track.flac');. fixed ,please closed. you should write the\n\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/opt/local/ffmpeg/bin/ffmpeg',\n    'ffprobe.binaries' => '/opt/local/ffmpeg/bin/ffprobe',\n    'timeout'          => 3600, // The timeout for the underlying process\n    'ffmpeg.threads'   => 12,   // The number of threads that FFMpeg should use\n), $logger);\ngive write path . thanks @jens1o  I add the permission and it's works .. ",
    "sahadatfci": "How you fixed this. Can you please explain. I am also having the same problem.. ",
    "anaouda": "please help \ni'm working on windows 10 \ni provided the path \n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n        'ffmpeg.binaries'  => 'C:/FFmpeg/bin/ffmpeg.exe',\n        'ffprobe.binaries' => 'C:/FFmpeg/bin/ffprope.exe',\n        'timeout'          => 3600, // The timeout for the underlying process\n        'ffmpeg.threads'   => 12,   // The number of threads that FFMpeg should use\n    ), @$logger);\nbut still got this error \nFatal error: Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutableNotFoundException' with message 'Executable not found, proposed : C:/FFmpeg/bin/ffprope.exe' in C:\\xampp\\htdocs\\videoConvert\\vendor\\alchemy\\binary-driver\\src\\Alchemy\\BinaryDriver\\AbstractBinary.php:160 Stack trace: #0 C:\\xampp\\htdocs\\videoConvert\\vendor\\php-ffmpeg\\php-ffmpeg\\src\\FFMpeg\\Driver\\FFProbeDriver.php(48): Alchemy\\BinaryDriver\\AbstractBinary::load('C:/FFmpeg/bin/f...', NULL, Object(Alchemy\\BinaryDriver\\Configuration)) #1 C:\\xampp\\htdocs\\videoConvert\\vendor\\php-ffmpeg\\php-ffmpeg\\src\\FFMpeg\\FFProbe.php(226): FFMpeg\\Driver\\FFProbeDriver::create(Array, NULL) #2 C:\\xampp\\htdocs\\videoConvert\\vendor\\php-ffmpeg\\php-ffmpeg\\src\\FFMpeg\\FFMpeg.php(117): FFMpeg\\FFProbe::create(Array, NULL, NULL) #3 C:\\xampp\\htdocs\\videoConvert\\index.php(18): FFMpeg\\FFMpeg::create(Array, NULL) #4 {main} Next exception 'FFMpeg\\Exception\\ExecutableNotFoundException' with message 'Unable to load FFProbe' in C:\\xampp\\htdocs\\videoConvert\\vendor\\php-ffmpeg\\php-ffmpeg\\src\\FFMp in C:\\xampp\\htdocs\\videoConvert\\vendor\\php-ffmpeg\\php-ffmpeg\\src\\FFMpeg\\Driver\\FFProbeDriver.php on line 50. ### working fine bro\ni put \nffmpeg in folder C:/FFmpeg/bin/ffmpeg.exe and \nffprope in folder C:/FFmpeg/bin/ffprope.exe \nand added the path C:/FFmpeg/bin/ to environment variables to both user and system variables\nafter refresh and cleaning cache it's working fine now\nthanks for replay. ",
    "hub20xx": "@jens1o Could you give an example please? \nOr maybe @user23145 solved it and could help?\nI'm trying to keep the audio and video settings unchanged (modified other things in the video but don't want to transcode).\nI cannot find a way to extract the format from ffprobe and to use it so that I could do something like $video->save($format, 'newVideo.mp4'); (I tried $ffprobe->format($videoPath)->get('format') but it does not seem to be the way...). @jens1o Thank you for your help!\nI tried your solution like this (with the watermark):\n```\n<?php\nrequire_once './vendor/autoload.php';\n$probe = FFMpeg\\FFProbe::create();\n$videoPath = DIR . '/input.mp4';\n$imagePath = DIR . '/watermark.png';\n$newVideoPath = DIR . '/output.mp4';\n$bitRate = $probe\n    ->streams($videoPath)\n    ->videos()\n    ->first()\n    ->get('bit_rate') / 1024;\n// open actual video\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open($videoPath);\n// add watermark\n$video->filters()->watermark($imagePath, [\n    'position' => 'relative',\n    'bottom' => 20,\n    'right' => 50\n]);\n// set format\n$format = new FFMpeg\\Format\\Video\\X264;\n$format->setKiloBitrate($bitRate);\n$video->save($format, $newVideoPath);\nand I got the error:\nPHP Fatal error:  Uncaught Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException: ffmpeg failed to execute command '/usr/bin/ffmpeg' '-y' '-i' '/home/myuser/code/input.mp4' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '499k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vf' 'movie=/home/myuser/code/watermark.png [watermark];[in][watermark] overlay=main_w - 50 - overlay_w:main_h - 20 - overlay_h [out]' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes598bfcf4209326coz2/pass-598bfcf4209b9' '/home/myuser/code/output.mp4' in /home/myuser/code/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100\nStack trace:\n0 /home/myuser/code/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure(''/usr/bin/ffmpe.. in /home/myuser/code/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Media/Video.php on line 228\nshell returned 255\nMy video and watermark files seem ok, I tried to do something similar from the command line and it works:\nffmpeg -i input.mp4 -i watermark.png -filter_complex \"overlay=(main_w-overlay_w)/2:(main_h-overlay_h)/2\" -codec:a copy output.mp4\n```. @jens1o Thank you for your answer\nHere is what I have so far:\n```\n<?php\nrequire DIR . '/vendor/autoload.php';\n$videoPath = DIR . '/input.mp4';\n$imagePath = DIR . '/watermark.png';\n$newVideoPath = DIR . '/output.mp4';\n$ffmpeg = \\FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open($videoPath);\n$ffprobe = \\FFMpeg\\FFProbe::create();\n// THIS IS NOT WORKING... HOW DO I GET THE FORMAT?...\n$format = $ffprobe->format($videoPath)->get('format')));\n$video->filters()->watermark($imagePath, [\n    'position' => 'relative',\n    'bottom' => 20,\n    'right' => 50\n]);\n// ... SO THAT I CAN SAVE THE VIDEO?\n$video->save($format, $newVideoPath);\n```. @jens1o Thank you very much!. ",
    "alexkart": "No errors for me with 0.11.0 version. ",
    "Mehrdad-Dadkhah": "@jens1o \nthanks for follow up\nYes, I have problem only with this feature. I use duration feature with this code and it's work good:\n```\n$ffprobe = FFProbe::create(array(\n            'ffmpeg.binaries'  => '/usr/bin/ffmpeg',\n            'ffprobe.binaries' => '/usr/bin/ffprobe',\n            'timeout'          => 360000, // The timeout for the underlying process\n            'ffmpeg.threads'   => 16,   // The number of threads that FFMpeg should use\n        ));\n    return round($ffprobe->format($url)->get('duration'));\n\n```\n. I update my package (PHP-FFmpeg) from 0.9.3 to 0.9.5 and problem resolved!\n. ",
    "Nehadigi": "HI,\nPlease help me to resolve the error:-\n ExecutionFailureException: ffmpeg failed to execute command '/usr/bin/ffprobe' '-y' '-ss' '00:00:05.00' '-i' '/home/dmlabs-5/iasp/IASP_platform/web/uploads/media/default/0001/01/529d9972c548e552271728e915cbbf98c9514f13.mp4' '-vframes' '1' '-f' 'image2' '/home/dmlabs-5/iasp/IASP_platform/web/uploads/media/default/0001/01/529d9972c548e552271728e915cbbf98c9514f13.jpg'. ",
    "ferryvg": "Run this command in console:\n/usr/local/bin/ffmpeg '-y' '-i' '/tmp/phpKagNEA' '-async' '1' '-metadata:s\u270c\ufe0f0' 'start_time=0' '-threads' '1' '-vcodec' 'libx264' '-acodec' 'aac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vf' '[in]scale=640:320 [out]' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes595e2ca8292fa6xbbg/pass-595e2ca8295fd'\nIf error is \"Unknown encoder 'libfaac'\" you need manual compile ffmpeg with libfaac. You need sign in to server over ssh and run command:\n/usr/local/bin/ffmpeg '-y' '-i' '/tmp/phpKagNEA' '-async' '1' 'start_time=0' '-threads' '1' '-vcodec' 'libx264' '-acodec' 'aac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vf' '[in]scale=640:320 [out]' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes595e2ca8292fa6xbbg/pass-595e2ca8295fd' '/path/to/storage/uploads/users/videos/20170706122719.mp4'\n\n/path/to/storage/\n\nThis is default value for some config. You using Laravel? :)\nIf you using Laravel: upgrade php to 7.0/7.1 and use this package https://github.com/pascalbaljetmedia/laravel-ffmpeg\nHe works with A3. libfaac is non-free package, but is default in X264. Use another audio codec, ex. \nnew X264('libfdk_aac'). @chantrea, you must change right path to source and destination files. Using help function like storage_path for it.\nPlease, give php code (chunk of video save) and laravel configs for more details.. @chantrea, what the error you have?. /app/storage is strange path for laravel and is absolute path of server\nGood path is [/path/to/laravel]/storage/app\nPlease give me composer.json file and config/filesystem.php (without S3 key and secret) for that can i help you. Problem in your environment, not vendor packages. I don't help you without more details. ",
    "chantrea": "Can you please let me know what is the step to do that? Because I need to use that to convert video from users upload and the goal is to support for every browser and devices I already tried in different ffmpeg version but still no luck. And moreover is that possible in save method after video converted then auto upload to amazon s3.\nBest Regards,\nChantrea \n\nOn Jul 6, 2017, at 7:45 PM, ferryvg notifications@github.com wrote:\nRun this command in console:\n/usr/local/bin/ffmpeg '-y' '-i' '/tmp/phpKagNEA' '-async' '1' '-metadata:s\u270c\ufe0f0' 'start_time=0' '-threads' '1' '-vcodec' 'libx264' '-acodec' 'aac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vf' '[in]scale=640:320 [out]' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes595e2ca8292fa6xbbg/pass-595e2ca8295fd'\nIf error is \"Unknown encoder 'libfaac'\" you need manul compile ffmpeg with libfaac\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Yeah I am using laravel 5.4\n\nOn Thu, Jul 6, 2017 at 8:00 PM, ferryvg notifications@github.com wrote:\n\nIf you using Laravel: upgrade php to 7.0/7.1 and use this package\nhttps://github.com/pascalbaljetmedia/laravel-ffmpeg\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/379#issuecomment-313574687,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AQtWLFT0KdDh5Co4loUmv5BWSOVlTDHZks5sLZ9lgaJpZM4OPkcl\n.\n. It is still an issue but it is different thing I also open the ticket at the wrapper @ferryvg proposed. Will be appreciated if you could answer this too\n\nhttps://github.com/pascalbaljetmedia/laravel-ffmpeg/issues/21\n. I already used the libfdk_aac but it is still the same issue.\nOn Sat, Jul 8, 2017 at 5:43 AM, ferryvg notifications@github.com wrote:\n\nlibfaac is non-free package. Use another audio codec, ex.\nnew X264('libfdk_aac')\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/379#issuecomment-313853813,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AQtWLI0_hMLEkizqj2gsLvkrxvzc-Qknks5sL3l2gaJpZM4OPkcl\n.\n. Here is my code in Laravel 5.4\n$uploadedFile = $request->file('post_video_upload');\n$timestamp = date('YmdHis');\nFFMpeg::open($uploadedFile->getRealPath())\n->addFilter(function ($filters) {\n$filters->resize(new \\FFMpeg\\Coordinate\\Dimension(640, 480));\n})\n->export()\n->toDisk('s3')\n->inFormat(new \\FFMpeg\\Format\\Video\\WMV)\n->save('users/videos/'.$timestamp.\"wmv\")\n// export to Amazon S3, converted in X264\n->export()\n->inFormat(new \\FFMpeg\\Format\\Video\\X264)\n->save('users/videos/'.$timestamp.\"mp4\")\n->export()\n->inFormat(new \\FFMpeg\\Format\\Video\\WebM)\n->save('users/videos/'.$timestamp.\"webm\")\n;. the problem is the library cannot read from the source it defaults to storage path but I am getting the file from user upload, not the storage path.. Unable to probe /app/storage/....\n\nBut actually is wrong path like I mention because I am getting file from user upload so the path should be like that /tmp/phpa344x something like that. I checked the details of function fromDisk it has default to storage path. \nBest Regards,\nChantrea \n\nOn Jul 8, 2017, at 6:41 PM, ferryvg notifications@github.com wrote:\n@chantrea, what the error you have?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. But the problem is the file is located in /tmp folder that is Linux apache php default when users upload the file.\n\nBest Regards,\nChantrea \n\nOn Jul 8, 2017, at 7:43 PM, ferryvg notifications@github.com wrote:\n/app/storage is strange path for laravel and is absolute path of server\nGood path is [/path/to/laravel]/storage/app\nPlease give me composer.json file and config/filesystem.php (without S3 key and secret) for that can i help you\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Is that possible that we can do screen share on skype?\n\nMy skype is wattanak2015\nOn Sat, Jul 8, 2017 at 8:54 PM, ferryvg notifications@github.com wrote:\n\nProblem in your envirovment, not vendor packages. I don't help you without\nmore details\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/379#issuecomment-313896584,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AQtWLA6RmYoEsr34VaVsws5L7akmny0Gks5sME70gaJpZM4OPkcl\n.\n. \n",
    "RatFou": "Sure :)\n$video\n    ->filters()\n    ->custom('boxblur','5:1');. $video\n    ->save(new FFMpeg\\Format\\Video\\X264(), 'export-x264.mp4');\nIt's not the same video name than the input.. Thank you but I have this error in my logs with this code : Uncaught exception 'Alchemy\\\\BinaryDriver\\\\Exception\\\\ExecutionFailureException' with message 'ffmpeg failed to execute command '/usr/local/bin/ffmpeg' '-y' '-i' 'test-video.mp4' '-async' '1' '-metadata:s:v:0' 'start_time=0' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vf' 'movie=img/logo-white.png [watermark];[in]scale=1080:768 [p0];[p0]-boxblur 5:1[p1];[p1][watermark] overlay=main_w - 50 - overlay_w:main_h - 50 - overlay_h [out]' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes596249b343c13m3it8/pass-596249b343dac' 'export-x264.mp4'\nMy full code:\n```\nrequire_once(\"lib/FFMpeg/vendor/autoload.php\");\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('test-video.mp4');\n/ Force 1080p /\n$video\n    ->filters()\n    ->resize(new FFMpeg\\Coordinate\\Dimension(1080, 768))\n    ->synchronize();\n/ Force 1080p /\n/ Get Thumbnail /\n$video\n    ->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(5))\n    ->save('frame.jpg');\n/ Get Thumbnail /\n/ Blur /\n$video\n    ->filters()\n    ->custom('-boxblur 5:1');\n/ Blur /\n/ Add Watermark /\n$video\n    ->filters()\n    ->watermark(URL_IMG.\"logo-white.png\", array(\n        'position' => 'relative',\n        'bottom' => 50,\n        'right' => 50,\n        //'scale2ref' => '(110/43)iw/8:ih/8',\n        //'boxblur' => '5:1',\n    ));\n/ Add Watermark /\n/ Save video /\n$video\n    ->save(new FFMpeg\\Format\\Video\\X264(), 'export-x264.mp4');\n/ Save video /\n. I have this error :[NULL @ 0x313bf80] Unable to find a suitable output format for 'pipe:'\npipe:: Invalid argument. The full output:\n`ffmpeg version 1.0.10 Copyright (c) 2000-2014 the FFmpeg developers\n  built on Jul  8 2017 11:31:05 with gcc 4.7 (Debian 4.7.2-5)\n  configuration: --enable-gpl --enable-nonfree --enable-libfaac --enable-libgsm --enable-libmp3lame --enable-libtheora --enable-libvorbis --enable-libx264 --enable-libxvid --enable-zlib --enable-postproc --enable-swscale --enable-pthreads --enable-x11grab --enable-libdc1394 --enable-version3 --enable-libopencore-amrnb --enable-libopencore-amrwb\n  libavutil      51. 73.101 / 51. 73.101\n  libavcodec     54. 59.100 / 54. 59.100\n  libavformat    54. 29.104 / 54. 29.104\n  libavdevice    54.  2.101 / 54.  2.101\n  libavfilter     3. 17.100 /  3. 17.100\n  libswscale      2.  1.101 /  2.  1.101\n  libswresample   0. 15.100 /  0. 15.100\n  libpostproc    52.  0.100 / 52.  0.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/var/www/test-video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf56.40.101\n  Duration: 00:00:08.80, start: 0.000000, bitrate: 310 kb/s\n    Stream #0:0(und): Video: h264 (Main) (avc1 / 0x31637661), yuv420p, 272x480 [SAR 1:1 DAR 17:30], 209 kb/s, 30.11 fps, 30 tbr, 90k tbn, 60 tbc\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (mp4a / 0x6134706D), 44100 Hz, mono, s16, 93 kb/s\n    Metadata:\n      handler_name    : SoundHandler\n[NULL @ 0x1a21440] Unable to find a suitable output format for 'pipe:'\npipe:: Invalid argument\n-bash: [in]scale=1080:768: command not found\n-bash: [p0]-box: command not found\n-bash: [p1][watermark]: command not found`. I replaced `- flag` by `-flag` and now I have this error: `5100] Unable to find a suitable output format for '[watermark]'\n[watermark]: Invalid argument`. There is no double space anymore ;). Don't worry, I will find a solution and post it here as soon as possible ;). This filter works:\n$video\n            ->filters()\n            ->custom(' boxblur=10:9 ');\n```. ",
    "karanshahmuradyan": "Is it possible that I sent you my teamviewer code and you installed it on my computer?. ",
    "karenshahmuradyan": "Can you connect to my computer and install it by yourself?\nOn Tue, Jul 18, 2017 at 8:25 AM, Jens Hausdorf notifications@github.com\nwrote:\n\nI'm sorry, but I don't understand what you mean?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/383#issuecomment-315954558,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Abc_N2LbtghMhxMzhxhvUHDlvuByNz9Hks5sPDOvgaJpZM4OaAKJ\n.\n. ok, thank you\n\nOn Tue, Jul 18, 2017 at 2:53 PM, Jens Hausdorf notifications@github.com\nwrote:\n\nI'm sorry, but we're an open-source project, which means that all\ncommunication is public as well, so we don't offer personal support, so we\ncan avoid duplicates. Please provide a real-world example so I can\nreproduce, and I will reopen this issue.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/383#issuecomment-316028437,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Abc_N5PBiPiekbIZvx7C-DI-uBNiR76Cks5sPI6WgaJpZM4OaAKJ\n.\n. \n",
    "teddywest32": "@jens1o I am having same issue but do you know how can we add ISRC in mp4 video? +1 for this feature. @jens1o I am also trying to perform the same task. Is there any documentation for contributing and code design?. @jens1o Thanks for mentioning the method. I have done the work and have a passing build on my end. \nYou could see here:\nhttps://github.com/teddywest32/PHP-FFMpeg/pull/1\nOn which branch shall i do the pull request on? \n. @jens1o Can't we not remove flag because we could need one or two flags that could be added to customize the video output which i don't want to hard code in the function. . if the build was passing that wouldn't be a case.  ;). @jens1o here is the files that you have requested.\nvideo-files.zip\nIf you need any informations let me know. thanks\n. @jens1o Is there any update on this issue?. @jens1o \nthe ffmpeg version is:\nffmpeg version 4.0 Copyright (c) 2000-2018 the FFmpeg developers\n  built with gcc 7.3.0 (GCC)\n  configuration: --enable-gpl --enable-version3 --enable-sdl2 --enable-bzlib --enable-fontconfig --enable-gnutls --enable-iconv --enable-libass --enable-libbluray --enable-libfreetype --enable-libmp3lame --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libopus --en\nable-libshine --enable-libsnappy --enable-libsoxr --enable-libtheora --enable-libtwolame --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libzimg --enable-lzma --enable-zlib --enable-gmp --enable-libvidstab --enable-libvorbis --enable-l\nibvo-amrwbenc --enable-libmysofa --enable-libspeex --enable-libxvid --enable-libaom --enable-libmfx --enable-amf --enable-ffnvcodec --enable-cuvid --enable-d3d11va --enable-nvenc --enable-nvdec --enable-dxva2 --enable-avisynth\n  libavutil      56. 14.100 / 56. 14.100\n  libavcodec     58. 18.100 / 58. 18.100\n  libavformat    58. 12.100 / 58. 12.100\n  libavdevice    58.  3.100 / 58.  3.100\n  libavfilter     7. 16.100 /  7. 16.100\n  libswscale      5.  1.100 /  5.  1.100\n  libswresample   3.  1.100 /  3.  1.100\n  libpostproc    55.  1.100 / 55.  1.100\nMissing argument for option 'v'.\nError splitting the argument list: Invalid argument\nand the os used is windows 8 and ubuntu 16.04\nconversion to WMV works fine but when i add the watermark to the video the issue occurs.\nIf you need any more information i could still provide it. Thanks\n. @jens1o I have used this static build ffmpeg version:\nhttps://ffmpeg.zeranoe.com/builds/win64/static/ffmpeg-4.0-win64-static.zip\nand here is the code just to use the conversion and it is still showing the same issue.\nffmpeg.zip\n. @jens1o have you got some time to see my issues?  . @jens1o I could see some different codes from the master than in  v1 branch and which is causing the issue as i think so.\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/v1.x/src/FFMpeg/Media/Video.php#L143\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/v1.x/src/FFMpeg/Media/Video.php#L151\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/v1.x/src/FFMpeg/Media/Video.php#L168\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/v1.x/src/FFMpeg/Media/Video.php#L176\nalso the format when checked i could only see these formats and not the \"wmv2\" codecs. Do you know what has changed on v1 for the codes? \n\n\ngpl\n\n\nversion3\n\n\nsdl2\n\n\nbzlib\n\n\nfontconfig\n\n\ngnutls\n\n\niconv\n\n\nlibass\n\n\nlibbluray\n\n\nlibfreetype\n\n\nlibmp3lame\n\n\nibopencore\n\n\nibopencore\n\n\nibopenjpeg\n\n\nibopus\n\n\nibshine\n\n\nibsnappy\n\n\nibsoxr\n\n\nibtheora\n\n\nibtwolame\n\n\nibvpx\n\n\nibwavpack\n\n\nibwebp\n\n\nibx264\n\n\nibx265\n\n\nibxml2\n\n\nibzimg\n\n\nzma\n\n\nlib\n\n\nmp\n\n\nibvidstab\n\n\nibvorbis\n\n\nibvo\n\n\nibmysofa\n\n\nibspeex\n\n\nibxvid\n\n\nibaom\n\n\nibmfx\n\n\nmf\n\n\nfnvcodec\n\n\nuvid\n\n\n3d11va\n\n\nvenc\n\n\nvdec\n\n\nxva2\n\n\nvisynth\n\n\nEdit:\nAlso when adding the video and audio codecs in $availableVideoCodec and $availableAudioCodec makes the watermark to be visible without any error.. @jens1o I have tested the preset and it works. The work of preset is to provide a certain encoding speed to compression ratio. \nAvailable presets include ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow. Faster speed corresponds to greater file size. Slower speeds are due to greater compression. was thinking to support lower version of php too. :) but no problem will upgrade and push again ;). done :). ",
    "Samip91": "I am able to add upc and isrc on mp3 with this code\n$audio->filters()->addMetadata([\"title\" => \"My song\", \"artist\"=>\"artist1\", \"album\"=>\"Album2\", \"composer\"=>\"Composer2\", \"track\" => \"03\",\"date\"=>\"2017\", \"isrc\"=>\"123434545\",'upc'=>'124153234']);\nBut for mp4 it does not work. .         $ffmpeg = FFMpeg\\FFMpeg::create(array(\n            'ffmpeg.binaries'  => 'ffmpeg/bin/ffmpeg',\n            'ffprobe.binaries' => 'ffmpeg/bin/ffprobe',\n            'timeout'          => 360000, // The timeout for the underlying process\n            'ffmpeg.threads'   => 12,   // The number of threads that FFMpeg should use\n        ), $logger);\n        $img_url=DIR . '/image.png';\n        $video = $ffmpeg->open(DIR . '/input.mp3');\n        $format = new FFMpeg\\Format\\Video\\X264();\n        $format->setVideoCodec('libx264');\n        $format ->setAudioCodec(\"aac\");\n         $video->filters()->addMetadata([\"title\" => \"My songVideo\", \"artist\"=>\"artistVideo\", \"album\"=>\"AlbumVideo\", \"composer\"=>\"ComposerVideo4\", \"track\" => \"103\",\"date\"=>\"2018\",\"isrc\"=>\"us:1231123123\",\"upc\"=>\"213213324\",\"artwork\"=>$img_url]);\n        $format->on('progress', function ($video, $format, $percentage) {\n            echo \"$percentage % transcoded\";\n        });\n    $video->save($format, 'outpur.wmv');. On Oct 31, 2017 5:00 PM, \"Jens Hausdorf\" <notifications@github.com> wrote:\n\nHi,\nI just noticed that you are trying to encode wmv with the h264 codec, which\nwon't work.\nAs stated in https://github.com/PHP-FFMpeg/PHP-FFMpeg-Extras , it is still\non our todo list. When you want to provide a pr, please go ahead, I'm\nwilling to merge it, but personally, wmv is dying and thus I'm giving it a\nquite low priority.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/436#issuecomment-340731792,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AM1Rf9MBxBv6McT6cA0wXYLoEipeuR-yks5sxwE3gaJpZM4QKNsp\n.\nI am currently working on audio to video conversion and I need isrc, upc\nand artwork on converted video.I prefer converting audio to mp4 file but\ncouldn\u2019t add these metadata. So I made WMV as an option for the solution.\nIf you have any solution regarding mp4, could you please suggest me?\nThank you for your kind cooperation.\n. ",
    "WyriHaximus": "No problem at all, took over maintenance of evenement a few weeks ago and now going through the most used packages using to with PR's like these :).. @jens1o glad to see this is coming through and you're welcome :+1: . ",
    "loga4": "can you merge this PR ?. ",
    "frisch1": "Thank you. This is excellent. I went wrong both on the addfilter structure and by not using the simplefilter. This works like a charm.. ",
    "sagarnasit": "library reducing quality slightly. In some cases, it is reducing the quality ridiculously. Don't know why.\nThis is the code.\n$format = new FFMpeg\\Format\\Video\\X264( 'libmp3lame', 'libx264' );\n$format->setAdditionalParameters( [ '-crf', '29' ] );. $format = new FFMpeg\\Format\\Video\\X264( 'libmp3lame', 'libx264' );\nThis is the code to set Format and codecs.\n$format->setAdditionalParameters( [ '-crf', '29' ] );\nThis lines sets ffmpeg additional parameter to maintain same video quality. but, it isn't working on library. can  you suggest anything in library to maintain same video quality?. the problem in converting .mov to .mp4. other formats work fine.. I checked with ffmpeg, it works fine. But when i'm using this lib to convert then it gets fail every time with only .mov file.. ",
    "acircuit": "Hi, i am also getting this issue wherein the video after concatenation has sync issue. The audio is ahead of the video. I also tried the synchronize filter, but it is of no use.. ",
    "szliugx": "I did that:\nPut a minimum (1 second) video file\nAnd then will be connected to the audio file to pass in\n```\n    /*\n     * \u5408\u5e76\u97f3\u9891\n     * @param $firstFile \u521d\u59cb\u5316\u4e00\u4e2a\u6700\u5c0f\u7684\u89c6\u9891\u6587\u4ef6\u4f9b\u8c03\u7528\uff08\u6b64\u53c2\u6570\u5fc5\u987b\u4e3a\u89c6\u9891\u7c7b\u578b\uff09\n     * @param array $arrayFile\n     * @param $outputFile\n     * @return bool\n     /\n    public static function concat($firstFile,array $arrayFile, $outputFile)\n    {\n        try{\n            //Get an instance of FFMpeg\n            $audio = self::getInstance()->open($firstFile);\n            $audio->concat($arrayFile)->saveFromSameCodecs($outputFile, TRUE);\n        return true;\n    }catch (Exception $e){\n\n        return false;\n    }\n\n}\n\n. This is the test audio address I encountered this problem:\nhttps://github.com/szliugx/test/blob/master/CRITTY%20-%20\u9047\u8424\uff08\u7eaf\u6b4c\u7248\uff09.mp3\n. This may be my media file MetaData things too much\nI cleared the MetaData by this method and passed it\n    /*\n     * removeMetadata\n     * @param $audioFile\n     * @param $outFile\n     * @return bool\n     /\n    public static function removeMetadata($audioFile, $outFile)\n    {\n        try{\n            $audio = self::getInstance()->open($audioFile);\n            $audio->filters()->addMetadata();\n            $audio->save(self::$audio_format, $outFile);\n        return true;\n    }catch (Exception $e){\n\n        return false;\n    }\n}\n\n```\nBecause I put this document in the win7 window related operations will throw exception, the following is my window in the operation of the picture:\n. ",
    "lgugliotta": "You need to especific a filename \n$output='C:\\laragon\\www\\blog\\storage\\app\\public\\video1234.mp4';\n$video->save($format,$output);\nFrom my own experience, don`t replace the file, save a new file (another name) then delete original file and rename the new, this because ffmpeg read the original by fragments. If you replace the original file you're reading only one fragment and the proccess will be bad.\nPD: Sorry for my english. ",
    "rnicholls": "```\nrequire_once('./vendor/autoload.php');\nuse FFMpeg;\n$ffmpeg = FFMpeg\\FFMpeg::create();\n```\nI am getting the same issue\nFatal error: Uncaught Error: Class 'FFMpeg\\FFMpeg' not found in /app/video.php:11 Stack trace: #0 {main} thrown in /app/video.php on line 11. Nm. Please ignore. Looks like some dependencies was blocking it. had to run composer install --ignore-platform-reqs. ",
    "Iranian-Atheist": "how can i upload video here? is it posible? i'm Beginner :)). Thanks Bro ;)\nhttps://drive.google.com/file/d/0BwACtx6W46MLRmppWGxhZ1BZczQ/view?usp=sharing\n. Your wellcome.. you can test this code with every video you want:\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => 'C:\\ffmpeg\\bin\\ffmpeg.exe',\n    'ffprobe.binaries' => 'C:\\ffmpeg\\bin\\ffprobe.exe',\n    'timeout'          => 3600,\n    'ffmpeg.threads'   => 12,\n), @$logger);\n$video = $ffmpeg->open('input.mp4');\n$video\n    ->filters()\n    ->resize(new FFMpeg\\Coordinate\\Dimension(1920, 1080))\n    ->framerate(new FFMpeg\\Coordinate\\Framerate(25), 50);\n$final = new FFMpeg\\Format\\Video\\X264('aac', 'libx264');\n$final\n    ->setKiloBitrate(2300)\n    ->setAudioChannels(2)\n    ->setAudioKiloBitrate(192);\n$video\n    ->save($final, 'output.mp4');\n\nand you can test this command line. this command do same work that above code do:\nffmpeg -i input.mp4 -b:v 2300k -c:v libx264 -vf scale=1920:1080 -b:a 192k -c:a aac output.mp4. Hi Miky94, Sorry i left this package and used exec() function.do you have this problem too?. i think that happens too fast. at all this is very important bug each user's videos convert for two times!!! The server can be disabled. ",
    "pieterdt": "having the same issue, I can provide you the file if you want.\nIn my case, I'm dealing with a lot of mp3 files for which i want to create a sample clip of a couple of seconds.\nIf the file is detected (after $ffmpeg->open(...)) as Audio, the clipping works.\nWhen the file is detected as video, the clipping complains that it expects to get a Video, but received an Audio file. It indeed gets an audio file, but it initially detects it wrongly as a video file hence loads the wrong processors.\nThe difference I see with ffprobe on the command line between a file that gets correctly detected and one that gets wrongly detected:\ndetected as video:\nDuration: 00:00:40.41, start: 0.025056, bitrate: 452 kb/s\n    Stream #0:0: Audio: mp3, 44100 Hz, stereo, s16p, 298 kb/s\n    Metadata:\n      encoder         : LAME3.100\n    Stream #0:1: Video: png, rgb24(pc), 600x600 [SAR 11810:11810 DAR 1:1], 90k tbr, 90k tbn, 90k tbc\n    Metadata:\n      comment         : Cover (front)\ndifferent file, created with another software, detected correctly as audio file:\nDuration: 00:01:25.61, start: 0.000000, bitrate: 320 kb/s\n    Stream #0:0: Audio: mp3, 44100 Hz, stereo, s16p, 320 kb/s\nIt looks like the album cover is added as a very short video stream.\nNow the weird thing to me is that $ffmpeg->open decides on a wrong type, while the filter detects the correct type.\nIn the problematic case, the following code returns 'FFMpeg\\Media\\Video':\n$ffmpeg = FFMpeg::create();\n$song = $ffmpeg->open($uri_remote);\necho get_class($song);\nand if I try to create the sample with the following code:\n$song->filters()->clip(TimeCode::fromSeconds($sampleStart),TimeCode::fromSeconds($sampleDuration));\ncomplains with the following message:\nTypeError: Argument 2 passed to FFMpeg\\Filters\\Video\\ClipFilter::apply() must be an instance of FFMpeg\\Format\\VideoInterface, instance of FFMpeg\\Format\\Audio\\Mp3\nversion information:\n$ ffmpeg -version\nffmpeg version 3.2.12-1~deb9u1 Copyright (c) 2000-2018 the FFmpeg developers\nbuilt with gcc 6.3.0 (Debian 6.3.0-18+deb9u1) 20170516\nconfiguration: --prefix=/usr --extra-version='1~deb9u1' --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libebur128 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared\nlibavutil      55. 34.101 / 55. 34.101\nlibavcodec     57. 64.101 / 57. 64.101\nlibavformat    57. 56.101 / 57. 56.101\nlibavdevice    57.  1.100 / 57.  1.100\nlibavfilter     6. 65.100 /  6. 65.100\nlibavresample   3.  1.  0 /  3.  1.  0\nlibswscale      4.  2.100 /  4.  2.100\nlibswresample   2.  3.100 /  2.  3.100\nlibpostproc    54.  1.100 / 54.  1.100. sure, what address can i send it to? This one? Or will that be a message on\ngithub?\nedit: found your address in your profile. Mail is sent!\nPieter\nOn Fri, Feb 15, 2019 at 10:26 PM Jens Hausdorf notifications@github.com\nwrote:\n\nCould you pass me the file, please? For example by e-mailing it to me. :)\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/402#issuecomment-464206108,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAuK9IjHZ_9xBHFf7MRmC-EX0_YECIyUks5vNyX1gaJpZM4PG4Fm\n.\n. great, thx, will apply it as such!. \n",
    "Mahdi-Mohammadi": "thanks a lot. @adriangoris \nplease share more about your solution?. ",
    "onlinesnic": "I beg you to help me\nwant to video watermark\n. ",
    "letungit90": "@jens1o i added UT for dynamic point. Please check my merge request again pls. ",
    "griffins": "7.2 . ",
    "acodinguy": "php 5.6.x or php 5.5.x. ",
    "esokullu": "5.3 is still the standard with RHEL 6 systems, which have another 3 years till EOL. Perhaps 1.0 can get rid of older versions and focus on 5.6+ while 0.x would still work for older php installations, and with community support.. ",
    "kminek": "@jens1o you mean transcode in CLI using the same params as generated by PHP_FFMpeg?. Hi there,\nsorry for late reply. Here are the details:\ninput.mp4 (74MB - 1280x720) - http://www11.zippyshare.com/v/xEyhVyjw/file.html\nnow i'm trying to resize input down to 240p:\n```\n$video = FFMpeg::create()->open($input);\n$video\n            ->filters()\n            ->resize(new Dimension(320, 240), ResizeFilter::RESIZEMODE_SCALE_WIDTH)\n            ->synchronize()\n ;\n$format = new X264();\n$format->setKiloBitrate(800);\n$format->setAudioCodec($format->getAvailableAudioCodecs()[0]);\n$format->setAudioChannels(2);\n$format->setAudioKiloBitrate(128);\n$video->save($format, $output); \n```\nand resulting files is larger that input. Note that this happens only for certain files (others are\nindeed smaller).\ni also tested pure CLI conversion with following command (https://trac.ffmpeg.org/wiki/Scaling):\nffmpeg -i input.mp4  -vf scale=-2:240 output.mp4\nand output is 50% smaller than input so it works fine.\n. no problem, thx for you time and looking forward to 1.x milestone :). ",
    "CharguiTaieb": "So i though that i do something wrong, but is there any work around for this matter ??\n. Ok thanks for helping . ",
    "MathRat": "cropping is not a solution for me. i try to transform all videos to 16:9 1280,720 (portrait videos with black sides or blurred backgrounds) and combine to save it as a clip-on-clip-video. the pure video files you can find on mrnetworks.de/projekte/video.tar.gz i just downloaded some clips from youtube to test.\nthank you for your support.\n. ",
    "iganev": "Sorry I was unaware that I broke the tests after adding the -y option. Totally forgot to check them.. Glad I can help! :). Done. Done. There was a bit of misunderstanding here. I though you mean to update the docblock section of the method. I have updated the README.md now. :). That sounds reasonable.. Not that I know of.. :D I've asked the cat, but she denies all allegations.. I have updated:\nREADME.md\nsrc/FFMpeg/Media/Audio.php\nsrc/FFMpeg/Media/Waveform.php\n. ",
    "HeroSony": "Hello, again.\nNow it's working after I have modified FFMpeg/Media/Video.php\nAdding two options( '-strict' and '-2' )\nif ($format instanceof VideoInterface) {\n            $commands[] = '-b:v';\n            $commands[] = $format->getKiloBitrate() . 'k';\n            $commands[] = '-refs';\n            $commands[] = '6';\n            $commands[] = '-coder';\n            $commands[] = '1';\n            $commands[] = '-sc_threshold';\n            $commands[] = '40';\n            $commands[] = '-flags';\n            $commands[] = '+loop';\n            $commands[] = '-me_range';\n            $commands[] = '16';\n            $commands[] = '-subq';\n            $commands[] = '7';\n            $commands[] = '-i_qfactor';\n            $commands[] = '0.71';\n            $commands[] = '-qcomp';\n            $commands[] = '0.6';\n            $commands[] = '-qdiff';\n            $commands[] = '4';\n            $commands[] = '-trellis';\n            $commands[] = '1';\n            $commands[] = '-strict';\n            $commands[] = '-2';\n        }\nI still do not know it will be affected to the others part or not, but this changed made this problem passed.. ",
    "kk0501": "hello, @jens1o \nThis PR adds a audio format , the usage is same as other formats and is already included in readme.. ",
    "algery": "@jens1o\n Thanks for reply\uff1b\n6 is the number of frames per second. -r 6 will get 6 frame per second;\nI found from this address\n. ok\uff0cI will read the doc carefully\uff1bWhen you are free, please respond , thanks;. ",
    "rvsky": "Here's the video:\nLink\nWhy you need this?. @jens1o okay, and how? It is working?. Okay, so I am waiting. . Take a look here please\nhttps://github.com/pascalbaljetmedia/laravel-ffmpeg/issues/48\nmaybe i am doing something wrong?. \"version\": \"1.3.0\",\nMaybe there is sth wrong with chmods? But I think not, i gave even 777. ",
    "nise": "Could you please add the line 'require_once 'vendor/autoload.php';' before the '$ffmpeg = FFMpeg\\FFMpeg::create();' in order to make it clear that composer needs to loaded.\nThanx. In order to obtain N images from a video one could simply write:\nrequire_once 'vendor/autoload.php';\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n            'ffmpeg.binaries'  => '/usr/bin/ffmpeg',\n            'ffprobe.binaries' => '/usr/bin/ffprobe',\n            'timeout'          => 360000, // The timeout for the underlying process\n            'ffmpeg.threads'   => 16,   // The number of threads that FFMpeg should use\n        ));\n$ffprobe = FFMpeg\\FFProbe::create();\n$video = $ffmpeg->open( $videosource . $filename ); \n$duration = round( $ffprobe->format( $videosource . $filename )->get('duration'));\n$this->extractImages($video, $duration, 4);\n//...\n function extractImages( $video, $duration, $n ){\n        $interval = floor( $duration / $n );\n        for($i = 0; $i < $n; $i++){\n            $frame = $video->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds( $i * $interval ));\n            $frame->save( '/your/path/frame-' . $i . '.jpg');\n        }\n    }. I would suggest to correct the documentation and naming. Then the expected method, as shown above, from scratch.. I have a similar problem with the following code. All files, paths, and permissions are well defined. The php-File is owned by www-data and has been set on 777 for testing. \n`require_once 'vendor/autoload.php';\n        $ffmpeg = FFMpeg\\FFMpeg::create(array(\n            'ffmpeg.binaries'  => $this->config['ffmpeg'], // /usr/bin\n            'ffprobe.binaries' => $this->config['ffprobe'],\n            'timeout'          => 360000, // The timeout for the underlying process\n            'ffmpeg.threads'   => 16,   // The number of threads that FFMpeg should use\n        ));\n    $ffmpeg = FFMpeg\\FFMpeg::create();\n    $video = $ffmpeg->open( $filename );\n    $formatx264 = new FFMpeg\\Format\\Video\\X264();\n    $formatx264->setAudioCodec(\"libmp3lame\");\n   //...\n\n    $video->save($formatx264, $this->TMP_DIR . '/' . $name . '.mp4');`\n\nApache error log says:\n\nPHP Fatal error:  Uncaught Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException: ffmpeg failed to execute command '/usr/bin/ffmpeg' '-y' '-i' '/home/abb/Documents/www/videos/tmp/1527848448-pn3260p.mp4' '-vcodec' 'libx264' '-acodec' 'libmp3lame' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-pass' '2' '-passlogfile' '/tmp/ffmpeg-passes5b111e09a5e49snw9r/pass-5b111e09a5f02' '/home/abb/Documents/www/videos/tmp/1527848448-pn3260p.mp4' in /home/abb/Documents/www/videos/php-video-upload-chain/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100\\nStack trace:\\n#0 /home/abb/Documents/www/videos/php-video-upload-chain/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure(''/usr/bin/ffmpe...')\\n#1 /home/abb/Documents/www/videos/php-video-upload-chain/vendor/alchemy/binary-driver/src/Alchemy/BinaryDri in /home/abb/Documents/www/videos/php-video-upload-chain/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Media/Video.php on line 109, referer: http://localhost/moodle/mod/videodatabase/view.php?id=1\n\nIf I run the ffmpeg command in terminal: /usr/bin/ffmpeg -y -i  /home/abb/Downloads/pn3260p.mp4 -vcodec libx264 -acodec libmp3lame -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -pass 2 -passlogfile /tmp/ffmpeg-passes5b111e09a5e49snw9r/pass-5b111e09a5f02 /home/abb/Documents/www/videos/tmp/1527848448-pn3260p.mp4\nI am getting an error:\n\nsudo /usr/bin/ffmpeg -y -i /home/abb/Downloads/pn3260p.mp4 -vcodec libx264 -acodec libmp3lame -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -pass 2 -passlogfile /tmp/ffmpeg-passes5b111e09a5e49snw9r/pass-5b111e09a5f02 /home/abb/Documents/www/videos/tmp/1527848448-pn3260p.mp4\nffmpeg version 2.8.14-0ubuntu0.16.04.1 Copyright (c) 2000-2018 the FFmpeg developers\n  built with gcc 5.4.0 (Ubuntu 5.4.0-6ubuntu1~16.04.9) 20160609\n  configuration: --prefix=/usr --extra-version=0ubuntu0.16.04.1 --build-suffix=-ffmpeg --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --cc=cc --cxx=g++ --enable-gpl --enable-shared --disable-stripping --disable-decoder=libopenjpeg --disable-decoder=libschroedinger --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmodplug --enable-libmp3lame --enable-libopenjpeg --enable-libopus --enable-libpulse --enable-librtmp --enable-libschroedinger --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxvid --enable-libzvbi --enable-openal --enable-opengl --enable-x11grab --enable-libdc1394 --enable-libiec61883 --enable-libzmq --enable-frei0r --enable-libx264 --enable-libopencv\n  libavutil      54. 31.100 / 54. 31.100\n  libavcodec     56. 60.100 / 56. 60.100\n  libavformat    56. 40.101 / 56. 40.101\n  libavdevice    56.  4.100 / 56.  4.100\n  libavfilter     5. 40.101 /  5. 40.101\n  libavresample   2.  1.  0 /  2.  1.  0\n  libswscale      3.  1.101 /  3.  1.101\n  libswresample   1.  2.101 /  1.  2.101\n  libpostproc    53.  3.100 / 53.  3.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/home/abb/Downloads/pn3260p.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf57.25.100\n    replaygain_track_gain: 0.55\n    replaygain_track_peak: 0.50\n    replaygain_track_minmax: 106,167\n  Duration: 00:00:30.29, start: 0.021333, bitrate: 1538 kb/s\n    Stream #0:0(eng): Video: h264 (Constrained Baseline) (avc1 / 0x31637661), yuv420p, 854x480, 1408 kb/s, 59.94 fps, 59.94 tbr, 60k tbn, 119.88 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(eng): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 123 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n    Side data:\n      replaygain: track gain - 0.550000, track peak - 0.000012, album gain - unknown, album peak - unknown, \n[libx264 @ 0xf2e1a0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX\n[libx264 @ 0xf2e1a0] ratecontrol_init: can't open stats file\nOutput #0, mp4, to '/home/abb/Documents/www/videos/tmp/1527848448-pn3260p.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf57.25.100\n    replaygain_track_gain: 0.55\n    replaygain_track_peak: 0.50\n    replaygain_track_minmax: 106,167\n    Stream #0:0(eng): Video: h264, none, q=2-31, 128 kb/s, 59.94 fps (default)\n    Metadata:\n      handler_name    : VideoHandler\n      encoder         : Lavc56.60.100 libx264\n    Stream #0:1(eng): Audio: mp3, 0 channels, 128 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\n      encoder         : Lavc56.60.100 libmp3lame\nStream mapping:\n  Stream #0:0 -> #0:0 (h264 (native) -> h264 (libx264))\n  Stream #0:1 -> #0:1 (aac (native) -> mp3 (libmp3lame))\nError while opening encoder for output stream #0:0 - maybe incorrect parameters such as bit_rate, rate, width or height\n\nMediainfo:\n\nGeneral\nComplete name                            : /home/abb/Downloads/pn3260p.mp4\nFormat                                   : MPEG-4\nFormat profile                           : Base Media\nCodec ID                                 : isom (isom/iso2/avc1/mp41)\nFile size                                : 5.56 MiB\nDuration                                 : 30s 294ms\nOverall bit rate mode                    : Variable\nOverall bit rate                         : 1 539 Kbps\nEncoded date                             : UTC 1904-01-01 00:00:00\nTagged date                              : UTC 2017-03-11 16:04:01\nWriting application                      : Lavf57.25.100\nreplaygain_track_gain                    : 0.55\nreplaygain_track_peak                    : 0.50\nreplaygain_track_minmax                  : 106,167\nVideo\nID                                       : 1\nFormat                                   : AVC\nFormat/Info                              : Advanced Video Codec\nFormat profile                           : Baseline@L3.1\nFormat settings, CABAC                   : No\nFormat settings, ReFrames                : 3 frames\nCodec ID                                 : avc1\nCodec ID/Info                            : Advanced Video Coding\nDuration                                 : 30s 231ms\nBit rate                                 : 1 409 Kbps\nWidth                                    : 854 pixels\nHeight                                   : 480 pixels\nDisplay aspect ratio                     : 16:9\nFrame rate mode                          : Constant\nFrame rate                               : 59.940 (60000/1001) fps\nColor space                              : YUV\nChroma subsampling                       : 4:2:0\nBit depth                                : 8 bits\nScan type                                : Progressive\nBits/(Pixel*Frame)                       : 0.057\nStream size                              : 5.08 MiB (91%)\nWriting library                          : x264 core 148 r2601 a0cd7d3\nEncoding settings                        : cabac=0 / ref=3 / deblock=1:0:0 / analyse=0x1:0x111 / me=hex / subme=7 / psy=1 / psy_rd=1.00:0.00 / mixed_ref=1 / me_range=16 / chroma_me=1 / trellis=1 / 8x8dct=0 / cqm=0 / deadzone=21,11 / fast_pskip=1 / chroma_qp_offset=-2 / threads=6 / lookahead_threads=1 / sliced_threads=0 / nr=0 / decimate=1 / interlaced=0 / bluray_compat=0 / constrained_intra=0 / bframes=0 / weightp=0 / keyint=250 / keyint_min=25 / scenecut=40 / intra_refresh=0 / rc_lookahead=40 / rc=crf / mbtree=1 / crf=23.0 / qcomp=0.60 / qpmin=0 / qpmax=69 / qpstep=4 / ip_ratio=1.40 / aq=1:1.00\nLanguage                                 : English\nEncoded date                             : UTC 1904-01-01 00:00:00\nTagged date                              : UTC 1904-01-01 00:00:00\nAudio\nID                                       : 2\nFormat                                   : AAC\nFormat/Info                              : Advanced Audio Codec\nFormat profile                           : LC\nCodec ID                                 : 40\nDuration                                 : 30s 294ms\nBit rate mode                            : Variable\nBit rate                                 : 124 Kbps\nMaximum bit rate                         : 128 Kbps\nChannel(s)                               : 2 channels\nChannel positions                        : Front: L R\nSampling rate                            : 48.0 KHz\nFrame rate                               : 46.875 fps (1024 spf)\nCompression mode                         : Lossy\nStream size                              : 457 KiB (8%)\nLanguage                                 : English\nDefault                                  : Yes\nAlternate group                          : 1\nEncoded date                             : UTC 1904-01-01 00:00:00\nTagged date                              : UTC 1904-01-01 00:00:00\n\n. @jens1o You want to be pinged back. Have you any ideas on how to solve the error?. ",
    "carusogabriel": "Fixed all of them now :tada: . Let's do it in parts? Let's submit:\n- Fluent mock definition to avoid getMock deprecated alerts;\n- @expectedException annotations;\n- Fix real tests failing;\n. Actually, the tests passed. Do you want to allow failures?. Done!. Should I fix the typos in this PR?. Done! Now only setExpectedException fail tests remain, and fix them in another PR, as discussed in #455. ",
    "beckharuo": "error Message\uff1a\nffmpeg failed to execute command '/usr/local/ffmpeg/bin/ffmpeg' '-y' '-i' '/upload/video/test.mp4' '-threads' '12' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vf' 'movie=/upload/logo.PNG [watermark];[in][watermark] overlay=main_w - 50 - overlay_w:main_h - 50 - overlay_h [out]' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes5a48d22a137b6n4ej1/pass-5a48d22a13860' '/upload/video.mp4'\nThe filename are different,And i saw save first param is an interface,but all document use instantiation class X264,Is this right?. the may right to create and read,beacuse $frame->save is working. and this folder permission 777. '/root/bin/ffmpeg' '-y' '-i' '/media/test.mp4' '-threads' '12' '-vcodec' 'libx264' '-acodec' 'libfdk_aac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vf' 'movie=/media/1.png [watermark];[in][watermark] overlay=main_w - 50 - overlay_w:main_h - 50 - overlay_h [out]' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes5a4cf25757f5evaddr/pass-5a4cf25758016' '/media/video.mp4'\nffmpeg version N-89672-g41e51fb Copyright (c) 2000-2018 the FFmpeg developers\n  built with gcc 4.8.5 (GCC) 20150623 (Red Hat 4.8.5-16)\n  configuration: --prefix=/root/ffmpeg_build --pkg-config-flags=--static --extra-cflags=-I/root/ffmpeg_build/include --extra-ldflags=-L/root/ffmpeg_build/lib --extra-libs=-lpthread --extra-libs=-lm --bindir=/root/bin --enable-gpl --enable-libfdk_aac --enable-libfreetype --enable-libmp3lame --enable-libopus --enable-libvorbis --enable-libvpx --enable-libx264 --enable-libx265 --enable-nonfree\n  libavutil      56.  7.100 / 56.  7.100\n  libavcodec     58.  9.100 / 58.  9.100\n  libavformat    58.  3.100 / 58.  3.100\n  libavdevice    58.  0.100 / 58.  0.100\n  libavfilter     7.  8.100 /  7.  8.100\n  libswscale      5.  0.101 /  5.  0.101\n  libswresample   3.  0.101 /  3.  0.101\n  libpostproc    55.  0.100 / 55.  0.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/media/test.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    encoder         : Lavf57.41.100\n  Duration: 00:00:09.67, start: 0.000000, bitrate: 744 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p, 480x480, 691 kb/s, 15 fps, 15 tbr, 15360 tbn, 30 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 48 kb/s (default)\n    Metadata:\n      handler_name    : SoundHandler\nStream mapping:\n  Stream #0:0 -> #0:0 (h264 (native) -> h264 (libx264))\n  Stream #0:1 -> #0:1 (aac (native) -> aac (libfdk_aac))\nPress [q] to stop, [?] for help\n[libx264 @ 0x44cc200] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2\n[libx264 @ 0x44cc200] ratecontrol_init: can't open stats file\nError initializing output stream 0:0 -- Error while opening encoder for output stream #0:0 - maybe incorrect parameters such as bit_rate, rate, width or height\n. @jens1o @Romain . ffmpeg -i /media/test.mp4 -i /media/1.png -filter_complex \"overlay=5:5\" /media/out.mp4\n. ",
    "johanneshro": "/**\n * Saves the high quality gif in the given filename.\n *\n * @param string  $pathfile\n *\n * @return Gif\n *\n * @throws RuntimeException\n */\npublic function save_with_high_quality($pathfile)\n{\n    /**\n     * @see http://blog.pkh.me/p/21-high-quality-gif-with-ffmpeg.html\n     */\n\n    $filters = \"fps=30,scale=\".$this->dimension->getWidth().\":-1:flags=lanczos\";\n    $palette = \"/tmp/palette.png\";\n\n    $commands = $commands_2 = array(\n        '-ss', (string)$this->timecode\n    );\n\n    if(null !== $this->duration) {\n        $commands[] = $commands_2[] = '-t';\n        $commands[] = $commands_2[] = (string)$this->duration;\n    }\n\n    $commands[] = $commands_2[] = '-i';\n    $commands[] = $commands_2[] = $this->pathfile;\n    $commands[] = '-vf';\n    $commands[] = $filters.\",palettegen\";\n    $commands[] = '-y';\n    $commands[] = $palette;\n\n    $commands_2[] = '-i';\n    $commands_2[] = $palette;\n    $commands_2[] = '-lavfi';\n    $commands_2[] = $filters.\" [x]; [x][1:v] paletteuse\";\n    $commands_2[] = '-y';\n\n    $commands_2 = array_merge($commands_2, array($pathfile));\n\n    try {\n        $this->driver->command($commands);\n    } catch (ExecutionFailureException $e) {\n        $this->cleanupTemporaryFile($pathfile);\n        throw new RuntimeException('Unable to generate palette', $e->getCode(), $e);\n    }\n\n    try {\n        $this->driver->command($commands_2);\n    } catch (ExecutionFailureException $e) {\n        $this->cleanupTemporaryFile($pathfile);\n        throw new RuntimeException('Unable to save gif', $e->getCode(), $e);\n    }\n\n    return $this;\n}. Sorry, i'm not experienced with github yet to create a PR in the right way :-(.\n",
    "Sub-7": "Sicher doch,\nFatal error: Uncaught Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException: ffmpeg failed to execute command '/usr/bin/ffmpeg' '-y' '-i' 'INPUT/video.mp4' '-async' '1' '-metadata:s:v:0' 'start_time=0' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vf' '[in]scale=320:240 [out]' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes5a5fa9e2b5e3bsx8v8/pass-5a5fa9e2b5eb9' 'OUTPUT/output-x264.mp4' in /var/www/html/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100 Stack trace: #0 /var/www/html/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure(''/usr/bin/ffmpe...') #1 /var/www/html/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(209): Alchemy\\BinaryDriver\\ProcessRunner->run(Object(Symfony\\Component\\Process\\Process), Object(Spl in /var/www/html/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Media/Video.php on line 96. Error message is correct, I only copied the last line\neven rights changed, nothing happens,\nbut it works fine with webm and wmv.\nAccording to error message he looks for ffmpeg in / usr / bin / ffmpeg\nwhat was not with wmv and webm (new files have also copied there and reboot)\nidea?. like so? but i see no output\nrequire 'vendor/autoload.php';\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('INPUT/video.mp4');\n$video\n    ->filters()\n    ->resize(new FFMpeg\\Coordinate\\Dimension(320, 240))\n    ->synchronize();\n$video\n    ->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(10))\n    ->save('OUTPUT/frame.jpg');\n$video\n    ->getFinalCommand(new FFMpeg\\Format\\Video\\X264(), 'OUTPUT/export.mp4');. ",
    "nikolamakin": "I have the same problem.\n| Fatal error:  Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffmpeg failed to execute command '/server/ffmpeg/bin/ffmpeg' '-y' '-i' '/www/xinqi/1.mp4' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes5a70624d609803hedm/pass-5a70624d60a65' '2.mp4'' in /www/xinqi/plug/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100\n\u00a0 | Stack trace:\n\u00a0 | #0 /www/xinqi/plug/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure(''/server/ffmpeg...')\n\u00a0 | #1 /www/xinqi/plug/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(209): Alchemy\\BinaryDriver\\ProcessRunner->run(Object(Symfony\\Component\\Process\\Process), Object(SplObjectStorage), false)\n\u00a0 | #2 /www/xinqi/plug/vendor/alc in /www/xinqi/plug/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Media/Video.php on line 96\n. but,its can \nssh :ffmpeg -i /www/xinqi/1.wmv -vcodec libx264 /www/xinqi/s.mp4. php script is default use 'daemon'\nuse :\n->save(new FFMpeg\\Format\\Video\\WMV(), 'export-wmv.wmv')\nis no problem\nBut it's a problem with this:\n->save(new FFMpeg\\Format\\Video\\X264(), 'export-x264.mp4'). \u95ee\u9898\u89e3\u51b3\u4e86\uff0c\u662f\u56e0\u4e3a\u6700\u65b0\u7248\u672c\u7684ffmpeg\u4e0d\u652f\u6301--enable-libfaac ,\u6240\u4ee5PHP-FFMpeg\u9ed8\u8ba4\u7528\u7684libfaac\u4f1a\u5bfc\u81f4\u9519\u8bef\u3002\n\u53ef\u4ee5\u8fd9\u6837new FFMpeg\\Format\\Video\\X264('libmp3lame')\n\u6216\u8005\u4f7f\u7528libfdk_aac\n\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6539\u5199\u7c7b\npublic function __construct($audioCodec = 'libfdk_aac', $videoCodec = 'libx264')\n\u611f\u8c22PHP-FFMpeg. ",
    "GitDaimos": "There is already fix made for this issue on neutron/temporary-filesystem\nMaybe author will merge it. If not, we can create new fork based on old filesystem\nhttps://github.com/romainneutron/Temporary-Filesystem/pull/10. ",
    "MonsieurLanza": "Hello,\nYour fork's branch should not be named \"dev-jens1o-update-deps\" but just \"jens1o-update-deps\", \"dev-\" prefix is removed by composer.\n(I need this fix too ^^). ",
    "cb8": "the problems with neutron/temporary-filesystem have been resolved in version 2.3.0. however, alchemy/binary-driver still requires symfony/process:^2.0|^3.0. i submitted a PR in alchemy-fr/BinaryDriver#18. @jens1o feel free to include it in a fork in case you dont want to way until it gets merged (hopefully).. ",
    "uschmann": "HI,\ni just started a fresh laravel 5.6 project and would like to use php-ffmpeg in it.\nIs there a workaround for this problem until version 1.0 is released?\nAny help is really appreciated.\nKind regards\nAndr\u00e9\n. ",
    "AliN11": "\nRely on the v1.x branch, which is not stable\n\nHow I install that ?\nI still get same error with:\ncomposer require php-ffmpeg/php-ffmpeg:v1.x. Anyway to use in Laravel ?. It's so sad \ud83d\ude22. ",
    "xorik": "To install this package with symfony 4:\n1) Add to your composer.json:\n\"repositories\": [\n        {\n            \"type\": \"vcs\",\n            \"url\": \"https://github.com/PHP-FFMpeg/BinaryDriver.git\"\n        }\n    ],\n2) run composer require php-ffmpeg/binary-driver=dev-master\n3) run composer require php-ffmpeg/php-ffmpeg. ",
    "Youngkingoo6": "I had done as @xorik said.And I succed download the php-ffmpeg ,But I got another problem.\nas long as use getenv function ,the application shut down and return 500.And it is not usefull even regist the shut down funciton.. I am sure the file exist. If not,it will throw file not exist exception.what should i post\nto you?. if not add waterark,it could success.. i will post you later.. follow the https://trac.ffmpeg.org/wiki/CompilationGuide/Centos officail documents.\nAnd use this \n$format = new X264('libfdk_aac', 'libx264');\nIt's fine.. ",
    "nikkii94": "I can't get it to work, I got this error everytime I try to install this package with Symfony 4\nProblem 1\n    - Installation request for php-ffmpeg/php-ffmpeg ^0.13.0 -> satisfiable by php-ffmpeg/php-ffmpeg[v0.13].\n    - php-ffmpeg/php-ffmpeg v0.13 requires evenement/evenement ^2.0 || ^1.0 -> satisfiable by evenement/evenement[1.0.x-dev, 2.0.x-dev, v1.0.0, v1.1.0, v2.0.0, v2.1.0] b\nut these conflict with your requirements or minimum-stability.\nI tried everything mentioned above, but with no luck :/\nCan you please help? :). ",
    "averichev": "Help please. ",
    "thrijith": "the conversion from mkv to mp4 is working without issue but not working in mov's case. ",
    "Abu3safeer": "That happened to me just today, it was working yesterday, \nI tried to use shell_exec & exec and noticed they return null.\nI don't know if PHP-FFMpeg uses them or other way. \nyou could try to use \nvar_dump(shell_exec(\"ffprobe -help\"));. just copy this:\n'/usr/local/bin/ffmpeg' '-y' '-i' 'resources/Danni no Transfer 2.wav' '-acodec' 'flac' '-b:a' '256k' '-ac' '1' 'audiob6abdd0.flac'\nand paste it in terminal to see if that command works or not.. the output file, does it work?. beside what is the version of ffmpeg you are currently using?. the version number is not really a number, looks like this is a special build.\nthe latest official build is (FFmpeg 3.4.2 \"Cantor\")\nwhere did you get this ffmpeg from?. Is the version on the macbook same as the version on the server? \n. 777 is dangerous, especially if you website is live, try to use more secure permissions.. I think ffmpeg can write a log file, so you can read it and see if it ended or not.. ",
    "ooiikaka1": "@jens1o  , this is the code.\n$ffmpeg = \\FFMpeg\\FFMpeg::create(\n                ['ffmpeg.binaries'  => 'D:/binaries/bin/ffmpeg.exe',\n                'ffprobe.binaries' => 'D:/binaries/bin/ffmpeg.exe'\n                ]\n        );\nAnd then I replaced 'Process.php ' , but the error had no change. ",
    "ariebombarie14": "I had the same issues on windows server 2016. The c:/windows/temp folder needs the proper rights to write stuff. In my case the IISUSR.. ",
    "igorkosteski": "Jens,\nI fixed the comment and I make some changes on the  VideoProgressListenerTest class.\nCan you review the changes? Feel free to change anything if you think that is not OK.\nThank you.. Thank you!. Yes please.\nThank you.. ",
    "ContatKarc": "How to use SimpleFilter?. ",
    "msl2000": "I see, yes I have attempted to cut it and save them individually before concatenating them. However, felt it to be rather a long roundabout way and figured I could clip videos, concatenate and then save.\nI will play around with the the package and hopefully streamline it and help with the docs :). ",
    "socialpixe": "Yeah, exactly. i want to add watermark to my video. using C# and the process should run in background. because application is public\nI tried this\n```\npublic void AddWaterMark(string orginalVideoPath, string waterMarkPath, string outPutVideoPath)\n        {\n            string ffmpeg = System.AppDomain.CurrentDomain.BaseDirectory + @\"\\Tools\\ffmpeg.exe\";\n        System.Diagnostics.Process ffmpegProcess = new System.Diagnostics.Process();\n\n        System.Diagnostics.ProcessStartInfo startInfo = new System.Diagnostics.ProcessStartInfo(ffmpeg);\n\n        startInfo.WindowStyle = System.Diagnostics.ProcessWindowStyle.Normal;\n\n        startInfo.Arguments = \" -i \" + orginalVideoPath + \" -i \" + waterMarkPath + \" -filter_complex \\\"overlay=10:10\\\" \" + outPutVideoPath;\n        try\n        {\n            System.Diagnostics.Process.Start(startInfo).WaitForExit();\n        }\n        catch (Exception err)\n        {\n            MessageBox.Show(err.Message);\n        }\n    }\n\n```. ",
    "gifary": "@Abu3safeer ffmpeg version N-90176-g27cbbbb Copyright (c) 2000-2018 the FFmpeg developers\n  built with gcc 5.4.1 (Ubuntu 5.4.1-2ubuntu1~16.04) 20160904\n  configuration: \n  libavutil      56.  7.101 / 56.  7.101\n  libavcodec     58. 13.100 / 58. 13.100\n  libavformat    58. 10.100 / 58. 10.100\n  libavdevice    58.  2.100 / 58.  2.100\n  libavfilter     7. 12.100 /  7. 12.100\n  libswscale      5.  0.101 /  5.  0.101\n  libswresample   3.  0.101 /  3.  0.101\nInput #0, wav, from 'resources/Danni no Transfer 2.wav':\n  Duration: 00:01:05.79, bitrate: 13 kb/s\n    Stream #0:0: Audio: gsm_ms (1[0][0][0] / 0x0031), 8000 Hz, mono, s16, 13 kb/s\nStream mapping:\n  Stream #0:0 -> #0:0 (gsm_ms (native) -> flac (native))\nPress [q] to stop, [?] for help\nOutput #0, flac, to 'audiob602df5.flac':\n  Metadata:\n    encoder         : Lavf58.10.100\n    Stream #0:0: Audio: flac, 8000 Hz, mono, s16, 256 kb/s\n    Metadata:\n      encoder         : Lavc58.13.100 flac\n[gsm_ms @ 0x2e3b800] Packet is too small\nError while decoding stream #0:0: Invalid data found when processing input\nI can't find solution for this. But it created the file audiob6abdd0.flac. Yeah it's work, ffmpeg version N-90176. oh sorry i am wrong @Abu3safeer  this is my ffmpeg version 3.4.2-1. i try on macbook is running well, but on server getting trouble like above. thanks you for your response @Abu3safeer . I fixed that to set permission folder for save file to 777.. yup, i try to change 755 or 765 still error. ",
    "Srijeeta": "I'm using 11.1. @jens1o Checked!! They are all existant. Checked the version.\nffmpeg version 2.8.11-0ubuntu0.16.04.1. I tried \nvar_dump(shell_exec(\"ffmpeg -i sites/default/files/video-thumbnails/2018-02/videoplayback.mp4 -r 30 -s 320x240 sites/default/files/video-thumbnails/2018-02/compressed-video.mp4 2>&1\"));\nThis is working!! . Could you please tell me what is wrong with the one I'm using.. I was giving wrong path to save the thumbnail. So that worked. But the encoding still failed.. @jens1o \n$video\n            ->save(new \\FFMpeg\\Format\\Video\\X264(), 'sites/default/files/video-thumbnails/2018-02/compressed-video.mp4')\n            ->save(new \\FFMpeg\\Format\\Video\\WMV(), 'sites/default/files/video-thumbnails/2018-02/compressed-video2.wmv')\n            ->save(new \\FFMpeg\\Format\\Video\\WebM(), 'sites/default/files/video-thumbnails/2018-02/compressed-video2.webm');\nI just checked wmv and webm are working, but not the mp4.. Solved it!!\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/310\nThis was very useful. Thanks anyway!. ",
    "raakkan": "this is my composer file\n{\n    \"name\": \"laravel/laravel\",\n    \"description\": \"The Laravel Framework.\",\n    \"keywords\": [\"framework\", \"laravel\"],\n    \"license\": \"MIT\",\n    \"type\": \"project\",\n    \"require\": {\n        \"php\": \">=7.0.0\",\n        \"facebook/graph-sdk\": \"^5.6\",\n        \"fideloper/proxy\": \"~4.0\",\n        \"intervention/image\": \"^2.4\",\n        \"laravel/framework\": \"5.6.*\",\n        \"laravel/tinker\": \"~1.0\",\n        \"rap2hpoutre/laravel-log-viewer\": \"^0.12.0\"\n    },\n    \"require-dev\": {\n        \"filp/whoops\": \"~2.0\",\n        \"fzaninotto/faker\": \"~1.4\",\n        \"mockery/mockery\": \"~1.0\",\n        \"nunomaduro/collision\": \"~2.0\",\n        \"phpunit/phpunit\": \"~7.0\"\n    },\n    \"autoload\": {\n        \"classmap\": [\n            \"database/seeds\",\n            \"database/factories\"\n        ],\n        \"psr-4\": {\n            \"App\\\": \"app/\"\n        }\n    },\n    \"autoload-dev\": {\n        \"psr-4\": {\n            \"Tests\\\": \"tests/\"\n        }\n    },\n    \"extra\": {\n        \"laravel\": {\n            \"dont-discover\": [\n            ]\n        }\n    },\n    \"scripts\": {\n        \"post-root-package-install\": [\n            \"@php -r \\\"file_exists('.env') || copy('.env.example', '.env');\\\"\"\n        ],\n        \"post-create-project-cmd\": [\n            \"@php artisan key:generate\"\n        ],\n        \"post-autoload-dump\": [\n            \"Illuminate\\Foundation\\ComposerScripts::postAutoloadDump\",\n            \"@php artisan package:discover\"\n        ]\n    },\n    \"config\": {\n        \"preferred-install\": \"dist\",\n        \"sort-packages\": true,\n        \"optimize-autoloader\": true\n    },\n    \"minimum-stability\": \"dev\",\n    \"prefer-stable\": true\n}\n. ",
    "Shaked": "Sorry for that.\nWhat I want to do in general is to convert a video to images (frames) while keeping of the images' quality. I assumed -qscale:V X would improve the quality of the images and -r 1 should save a new image very 1 second. \nI have trying doing the following but end up with very bad quality: \n```\n$path = sprintf('%s/output_%s.png', $dir, '%d');\n$ffmpeg = \\FFMpeg\\FFMpeg::create();\n            $video = $ffmpeg->open($url);\n            $video\n                ->filters()\n                ->watermark($watermarkPath, [\n                    'position' => 'absolute',\n                    'x'        => 10,\n                    'y'        => 10,\n                ])\n            ->extractMultipleFrames('1/1', $dir)\n            ->synchronize();\n\n$format = new \\FFMpeg\\Format\\Video\\X264();\n$format->on('progress', function ($video, $format, $percentage) use ($driver) {\n                $driver->set('percentage', $percentage);\n            });\n$video\n                ->save($format, $path);\n``` \nEDIT:\nWhen I use extractMltipleFrames(ExtractMultipleFramesFilter::FRAMERATE_EVERY_60SEC, $dir) using 1 minutes video, I get 1682 images (frameXXXX.jpg) AND for some reason I also get output_XX files. \nThank you!\nShaked. > This sounds like a bug, would you consider opening a new issue for that, so we can check that? Could you upload a video file where you can reproduce with?\nYes. Will make an example later today.\nPlus, I was thinking about doing a PR which allows one to choose the image type of the frame (e.g jpg/png/etc). What do you think? . > This sounds like a bug, would you consider opening a new issue for that, so we can check that? Could you upload a video file where you can reproduce with? Actually, we should have tests that should guarantee this functionality.\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/issues/494\nDo you have any idea what would be the right way to use the extract multiple images method while keeping the maximum quality? . BTW I have just ran: \n$ ffmpeg -i 'https://instagram.fmex7-1.fna.fbcdn.net/vp/1417659ca05109537276143f6fa427c2/5AA336A7/t50.2886-16/26162850_164145864357402_482322447928918016_n.mp4' -q:v 1 -vf fps=1 ./frame%04d.png\nand I get 57 images which makes sense cause the video is 57 seconds \ud83d\ude42 \nEDIT:\nWhile debugging I found that ExtractMultipleFrameFilter's line 127 disappears from the executed commands. I.E \nThis: $commands[] = $this->destinationFolder . 'frame-%' . $nbDigitsInFileNames . 'd.png'; \nIs not available in: Video:73:\n$passes = $this->buildCommand($format, $outputPathfile);\nvar_dump($passes);\n\n[42]=>\n    string(3) \"-vf\"\n    [43]=>\n    string(17) \"[in]fps=1/60[out]\"\n    [44]=>\n    string(5) \"-pass\"\n    [45]=>\n\nEDIT 2: \nOK the line is there, just not next to string(17) \"[in]fps=1/60[out]\". I have few potential ideas but not sure what's the source currently: \n\nSome of the passes is messing up -vf fps=1/X path \nThe save() method appends another path, maybe that's the problem?\nGoing far but maybe the fps=1/60 which means \"one frame every minute\" becomes 0,016? that would create a huge amount of frames cause it means \"one frame every 0,016seconds\"\n . I can open the frame%d.jpg/png files but can't open whatever comes from $video->save(format, 'output%d.jpg').\n\nI'd start with removing passes and see if it changes anything. Also, is it possible to do somehow do $video->save without saving another file? . > Perhaps you want to fix it? It's an easy bug after the first look. :)\nNo problem. I am just gonna remove the frame-%d output basically. Correct? \nEDIT:\nI am playing with my example while I removed this line: \n$commands[] = $this->destinationFolder . 'frame-%' . $nbDigitsInFileNames . 'd.png';\nWhen executing print_r($video->getFinalCommand($format, $path), true) I get 2 commands for some reason which end up with: \nArray\n(\n    [0] => -y -i https://instagram.fmex7-1.fna.fbcdn.net/vp/1417659ca05109537276143f6fa427c2/5AA336A7/t50.2886-16/26162850_164145864357402_482322447928918016_n.mp4 -async 1 -metadata:s:v:0 start_time=0 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -vf [in]fps=1/60[out] -pass 1 -passlogfile /var/folders/mx/g385rhp53w76tqh1s66_p28h0000gn/T/ffmpeg-passes5aa1c8023e0cbab0rb/pass-5aa1c8023e19c /private/var/www/whattoeatabroad.com/config/../web/videos/73c021fbca8a0164c0e38c5a1e8a78914db04352/output_%d.png\n    [1] => -y -i https://instagram.fmex7-1.fna.fbcdn.net/vp/1417659ca05109537276143f6fa427c2/5AA336A7/t50.2886-16/26162850_164145864357402_482322447928918016_n.mp4 -async 1 -metadata:s:v:0 start_time=0 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -vf [in]fps=1/60[out] -pass 2 -passlogfile /var/folders/mx/g385rhp53w76tqh1s66_p28h0000gn/T/ffmpeg-passes5aa1c8023e0cbab0rb/pass-5aa1c8023e19c /private/var/www/whattoeatabroad.com/config/../web/videos/73c021fbca8a0164c0e38c5a1e8a78914db04352/output_%d.png\n)\nWhen trying to open the output_%d.png files, I get an error - no image. \nNOTE also the onProgress method sometimes never gets to 100% but rather to 99% or 98%.\nEDIT 2\nFOUND IT. When using -vcodec libx264 -acodec libfaac the generated images are corrupted. I guess because it tries to use video codecs for the images? \nIt is impossible to disable video & audio codecs, so for my temp solution is to have this: \n```\n<?php\n/\n * This file is part of PHP-FFmpeg.\n \n * (c) Alchemy info@alchemy.fr\n\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n /\nnamespace FFMpeg\\Format\\Video;\n/\n * The X264 video format\n */\nclass Simple extends DefaultVideo {\n    / @var boolean */\n    private $bframesSupport = true;\n/** @var integer */\nprivate $passes = 1;\n\n/**\n * {@inheritDoc}\n */\npublic function supportBFrames() {\n    return $this->bframesSupport;\n}\n\n/**\n * @param $support\n *\n * @return X264\n */\npublic function setBFramesSupport($support) {\n    $this->bframesSupport = $support;\n\n    return $this;\n}\n\n/**\n * {@inheritDoc}\n */\npublic function getAvailableAudioCodecs() {\n    return [];\n}\n\n/**\n * {@inheritDoc}\n */\npublic function getAvailableVideoCodecs() {\n    return [];\n}\n\n/**\n * @param $passes\n *\n * @return X264\n */\npublic function setPasses($passes) {\n    $this->passes = $passes;\n    return $this;\n}\n\n/**\n * {@inheritDoc}\n */\npublic function getPasses() {\n    return $this->passes;\n}\n\n/**\n * @return int\n */\npublic function getModulus() {\n    return 2;\n}\n\n}\n$path = sprintf('%s/output_%s.png', $dir, '%d');\n$format = new \\FFMpeg\\Format\\Video\\Simple();\n$format->on('progress', function ($video, $format, $percentage) {\nerror_log('percentage: '. $percentage);\n});\n $video\n                ->save($format, $path);\n```\nWhich works as expected! Final command is: \nffmpeg -y -i https://instagram.fmex7-1.fna.fbcdn.net/vp/1417659ca05109537276143f6fa427c2/5AA336A7/t50.2886-16/26162850_164145864357402_482322447928918016_n.mp4 -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -vf [in]fps=1/1[out] /private/var/www/whattoeatabroad.com/config/../web/videos/73c021fbca8a0164c0e38c5a1e8a78914db04352/output_%d.png. > Awesome, could you please file a PR(with tests) as soon as the current one has been approved? Please do not do it yet, because your first PR is based on the master branch.\nYes I will start making one and file a PR this week. Thank you . > Last step for now, please resolve the conflicts. If you need help, do not hesitate to ask :)\nActually I am not sure why there are conflicts now, especially in src/FFMpeg/Filters/Video/ExtractMultipleFramesFilter.php. How do I see them on my fork? . AFAI can tell only PNG and JPG are supported. . Added together with a test. Sorry for that, fixed. Might be worth using some PHP formatter in the future. ",
    "vincenzodibiaggio": "From the version 0.11.1 I've resolved this issue with this patch\n```\ndiff --git a/src/FFMpeg/Filters/Video/ExtractMultipleFramesFilter.php b/src/FFMpeg/Filters/Video/ExtractMultipleFramesFilter.php\nindex d0ed54f..0cbee70 100644\n--- a/src/FFMpeg/Filters/Video/ExtractMultipleFramesFilter.php\n+++ b/src/FFMpeg/Filters/Video/ExtractMultipleFramesFilter.php\n@@ -89,35 +89,10 @@ class ExtractMultipleFramesFilter implements VideoFilterInterface\n                 }\n             }\n\n// Get the number of frames per second we have to extract.\nif(preg_match('/(\\d+)(?:\\s)([+-*\\/])(?:\\s)(\\d+)/', $this->frameRate, $matches) !== FALSE){\n\n$operator = $matches[2];\n\nswitch($operator){\ncase '/':\n$nbFramesPerSecond = $matches[1] / $matches[3];\n\nbreak;\n\ndefault:\nthrow new InvalidArgumentException('The frame rate is not a proper division: ' . $this->frameRate);\nbreak;\n}\n\n}\n\n// Set the number of digits to use in the exported filenames\n\n$nbImages = ceil( $duration * $nbFramesPerSecond );\n\nif($nbImages < 100)\n$nbDigitsInFileNames = \"02\";\nelseif($nbImages < 1000)\n$nbDigitsInFileNames = \"03\";\nelse\n\n$nbDigitsInFileNames = \"06\";\n     // Set the parameters\n\n\n$commands[] = '-vf';\n$commands[] = 'fps=' . $this->frameRate;\n$commands[] = $this->destinationFolder . 'frame-%'.$nbDigitsInFileNames.'d.jpg';\n$commands[] = '-r';\n$commands[] = $this->frameRate;\n$commands[] = $this->destinationFolder . 'frame-%d.jpg';\n         }\n         catch (RuntimeException $e) {\n             throw new RuntimeException('An error occured while extracting the frames: ' . $e->getMessage() . '. The code: ' . $e->getCode());\n```. @jens1o done. https://ffmpeg.org/ffmpeg.html#toc-Video-Options\n. \n",
    "DutchChannels": "I've the same issue, any solution yet?. ",
    "azaddeveloper": "@xvrzhao How have you corrected this problem, please explain because I'm facing  same problem. @octalsolutions  heve you found any solution?.. Please refer\nhttps://stackoverflow.com/questions/30438732/getting-exception-your-ffprobe-version-is-too-old-and-does-not-support-help-o/53395048#53395048. Do you have composer.json file?If have, please share. Now i am getting this error\nAn uncaught Exception was encountered\nType: FFMpeg\\Exception\\RuntimeException\nMessage: Your FFProbe version is too old and does not support -help option, please upgrade.\nFilename: /opt/lampp/htdocs/project-name/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php\n. yes,\nThis code i am using \n$ffmpeg = \\FFMpeg\\FFMpeg::create(array(\n          'ffmpeg.binaries'  => '/usr/bin/ffmpeg',\n           'ffprobe.binaries' => '/usr/bin/ffprobe'\n  ));\n$movie = $ffmpeg->open('/opt/lampp/htdocs/project-name/assets/video/ieked3hqfoj.mp4');. Ok,This command is working without any error.\n\nplease see screenshot\n\n. Ok\nPFA\nffprobe -help.txt\n. status 0\nPlease see screenshot\n\n. @jens1o did you get time to analyse this screenshot. . Ok, Please see result in txt file,\nffprobe-1.txt\n. @jens1o  is there any issue  in this ouput (ffprobe-1.txt)? I am waiting for your reply.. @jens1o Sorry for late response actually there was festival called Diwali in India. \nSo there was holiday for a  week.\nAnyways i have tried it again but no luck. . yes\n. Sorry  i can't understand what do you  mean by permissions are correct? Is it related to  ffmpeg or ffprobe file location. I have checked in my ubuntu machine at path  /usr/bin/ffmpeg and /usr/bin/ffprobe   the file permission  is read-only.\nDo i need to change it or there is another problem?. You were right. This was the permission issue. I was going wrongly. In previous comment when you said it was permission issue,then I have tried this code on Windows machine and it is successfully execute.I solved this issue even in Ubuntu\nThanks for the help . Thanks again, you are a very helpful person.. Sorry for the late answer .\nThis is the Dropbox URL, you will find the video from here.\nhttps://www.dropbox.com/s/nsdx3royiurl1k2/intro.mp4?dl=0. ok\n. Hi,  @jens1o   can you look on my issue?.. Hi @jens1o,\nThanks, It is working perfectly.\n. ",
    "lasselehtinen": "I added tests. I used two audio files with CC license and added attribution to the readme as the license requires.. Both adjustments made, how does it look now?. No worries, this package has been really useful for me. Last adjustment done. I was trying to imitate the existing tests.. I have been successfully using my dev branch in production for months now, so this seems to be working just fine. Any ideas when then this could me merged and released?. ",
    "watnuweer": "Sorry but I don't know what I did to open this ticket. I don't have any issues and love the product.\nKeep up the good work!. ",
    "laravelish": "not a permission issue ~~this has something to do with your package~~. Hi, how do i do that ? \ni ran ps aux | grep -E '[p]hp|[n]ginx' | grep -v root | head -1 | cut -d\\  -f1\nthe ouput is admin. @jens1o this is my php-fpm conf\n```\nphp7.2-fpm - The PHP FastCGI Process Manager\ndescription \"The PHP 7.2 FastCGI Process Manager\"\nauthor \"Ond\u0159ej Sur\u00fd ondrej@debian.org\"\nstart on runlevel [2345]\nstop on runlevel [016]\nyou can uncomment this with recent upstart\nreload signal USR2\npre-start script\nmkdir -p /run/php\nchmod 0755 /run/php\nchown www-data:www-data /run/php\nend script\nrespawn\nexec /usr/sbin/php-fpm7.2 --nodaemonize --fpm-config /etc/php/7.2/fpm/php-fpm.conf\n```\ni changed chown user to admin and root but its the same error again. @jens1o i get mkdir(): Permission denied if use www-data. i dont think it has to do with permission\nbecause admin:admin has root access\nit can read write delete edit. only these are disabled\ndisable_functions = pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,. if i disable proc_open i get this error\nThe Process class relies on proc_open, which is not available on your PHP installation.\nso it is enabled by default. @jens1o i'm a idiot !\ni added the ffprobe.binaries path to look for ffmpeg instead of ffprobe ! thats why i get the error\nso i changed\n'ffprobe.binaries' => '/usr/bin/ffmpeg',\nto\n'ffprobe.binaries' => '/usr/bin/ffprobe',\nnow everything works perfectly\nif anyone else get similar error they should check their binary paths !. ",
    "4unkur": "@laravelish Thanks for sharing dude ) Helped a lot. ",
    "jerauf": "I posted it on in the wrong repo. Mean to post in the Laravel version of this.. ",
    "carrotis": "That code is called every second.\nSo every second print  \"$percentage % transcoded\";\"\nI'd like to set interval.. Sorry, late reply.\nIt's same code, I want to do  call API server if the video file has problem.\nBut it's terminate before calling.\n  $src_video_path=\"broken_video.avi\";\n\n  try {\n      $ffprobe->isValid($src_video_path);\n    } catch (Exception $e) {\n        echo 'Caught exception: ',  $e->getMessage(), \"\\n\";\n        $description = array('comment'=> \"not valid video\" );\n        ApiCall ( $description );\n        exit ;\n   } .\n",
    "videni": "@jens1o  it is a bad idea, very bad performance penalty.. ",
    "hamedmoody": "sorry\ni set below code and then worked:\n$ffmpeg = FFMpeg\\FFMpeg::create(array(\n    'ffmpeg.binaries'  => '/opt/local/ffmpeg/bin/ffmpeg',\n    'ffprobe.binaries' => '/opt/local/ffmpeg/bin/ffprobe',\n    'timeout'          => 3600, // The timeout for the underlying process\n    'ffmpeg.threads'   => 12,   // The number of threads that FFMpeg should use\n), $logger);. ",
    "miraklo": "I installed ffmpeg on D:\\software\\ffmpeg folder\nand my config is \n$config = [\n                'ffmpeg.binaries'  => 'D:/software/ffmpeg/bin/ffmpeg',\n                'ffprobe.binaries' => 'D:/software/ffmpeg/bin/ffprobe',\n                'timeout'          => 3600, // The timeout for the underlying process\n                'ffmpeg.threads'   => 12,   // The number of threads that FFMpeg should use\n            ];. i also add it to environment path which i can run ffmpeg and ffprobe  at any path. i use config array like this\n$config = [\n                'ffmpeg.binaries'  => 'D:/software/ffmpeg/bin/ffmpeg.exe',\n                'ffprobe.binaries' => 'D:/software/ffmpeg/bin/ffprobe.exe',\n                'timeout'          => 3600, // The timeout for the underlying process\n                'ffmpeg.threads'   => 12,   // The number of threads that FFMpeg should use\n            ];\nand my problem solved\nthank you \nwindows must specify exact path\nfuck windows. ",
    "lucaasleaal": "I don't really know how to add tests, what kind of documentation is required? Sorry I really don't know. If you could point me to the right direction I'd be glad to do the tests.. ",
    "danielloader": "Got the source/output files for the above example here:\nhttps://www.dropbox.com/sh/py5hsp2k5o7wblb/AADjj_vWQ0zDwuoGop8KBG6Ia?dl=0&lst=\nAs to fixing the source files, it's CCTV generated from unifi Video, there's no options to change anything other than resolution and bitrate - it spits out a lot of broken MP4 segments but fortunately they work fine with a HLS playlist with a forced duration. \nI would need to force the generation to export concatenated footage using duration tags, else it thinks an 8 second clip is 30mins long as in the example, and playback is broken on every player.\nI had to use ffprobe on the source files to find the frame count and frame rate to work it out reliably. . Well I guess there's two options:\n\nOffer the ability to grab a file list from the filesystem as a substitute for the temporary one being used now \nOffer the ability to set duration entries after each file (or any other ffmpeg permitted tags).\n\nAs it stands now it takes an array of file paths and makes its own file list if I read the code correctly, could it not take an array that includes the path and duration? Could continue to use the existing temporary file production code but allow having two keys worth of data written per pass.\npath: file1.mp4\nduration: 2\npath: file2.mp4\nduration: 3\netc etc\nI mean the reason for having this is having broken duration files, from documentation:\n\nThe duration of each file is used to adjust the timestamps of the next file: if the duration is incorrect (because it was computed using the bit-rate or because the file is truncated, for example), it can cause artifacts. The duration directive can be used to override the duration stored in each file.\n\nPerk of providing a bigger array to the file list builder function is that you can optionally implement all the tags the file allows: https://ffmpeg.org/ffmpeg-formats.html#concat\nI can see exact_stream_id being useful if you want to concat specific audio tracks.\nIt should be fine to offloading the difficulty for arranging the multidimensional array to be read by php-ffmpeg on the user rather than doing anything too fancy to fix it under the hood.. Code used:\n```\n$ffprobe = FFMpeg\\FFProbe::create();\n$framerate = $ffprobe\n    ->streams('1524058465393_1524058467393_2147483647_56769989.mp4')\n    ->videos()\n    ->first()\n    ->get('r_frame_rate');\n$framecount = $ffprobe\n    ->streams('1524058465393_1524058467393_2147483647_56769989.mp4')\n    ->videos()\n    ->first()\n    ->get('nb_frames');\n$incorrectDuration = $ffprobe\n    ->streams('1524058465393_1524058467393_2147483647_56769989.mp4')\n    ->videos()\n    ->first()\n    ->get('duration');\nvar_dump($framerate);\nvar_dump($framecount);\nvar_dump($incorrectDuration);\n$framerate = intval($framerate);\n$framecount = intval($framecount);\n$duration = $framecount / $framerate;\necho PHP_EOL . \"Framerate: \" . $framerate . PHP_EOL . \"Framecount: \" . $framecount . PHP_EOL;\necho \"Calculated Duration: \" . $duration . PHP_EOL . \"Container Reported Duration: \" . $incorrectDuration;\n``\nHowever,nb_read_frames` comes back with null. \nAt Powershell:\nffprobe -v error -count_frames -select_streams v:0 -show_entries stream=nb_read_frames -of default=nokey=\n1:noprint_wrappers=1 .\\1524058465393_1524058467393_2147483647_56769989.mp4\n60\nOutput:\n```\nstring(4) \"30/1\"\nNULL\nstring(12) \"56771.989389\"\nFramerate: 30\nFramecount: 0\nCalculated Duration: 0\nContainer Reported Duration: 56771.989389\n```\nExpected output:\n```\nstring(4) \"30/1\"\nstring(2) \"60\"\nstring(12) \"56771.989389\"\nFramerate: 30\nFramecount: 60\nCalculated Duration: 2\nContainer Reported Duration: 56771.989389\n```\nSource file: \nhttps://www.dropbox.com/s/fbxu4y660bspr8n/1524058465393_1524058467393_2147483647_56769989.mp4?dl=0. I think I've isolated it to the missing -count_frames flag, when run without it on ffprobe I get back N/A so as expected this library is giving me a null value. Running the command with it gives me the expected value.\nDebug log: https://pastebin.com/raw/6KC2W3em\nThoughts @jens1o ? Need any more information?. I'm hesitant to suggest a global adjustment to enable -count-frames as it has to decode the entire file sequentially to grab that frame count. It's a fair performance hit for a minority of cases, you'd want to possibly have it as a different command call.\nI don't know enough about php to suggest if it should be called as an argument to a function or its own logic.\nSuggestion?\n. Yeah I guess checking if certain attributes are being requested and pass the required flags down to ffmpeg so they don't return a null value.. ",
    "1linecode": "after some search I found the solution.\nAdd to your composer.json:\n\"repositories\": [\n    {\n        \"type\": \"vcs\",\n        \"url\": \"https://github.com/PHP-FFMpeg/BinaryDriver.git\"\n    }\n],\nrun composer require php-ffmpeg/binary-driver=dev-master\nrun composer require php-ffmpeg/php-ffmpeg. ",
    "AkgunFatih": "@1linecode  Thank you soo much. ",
    "NinoSkopac": "Could check for ffmpeg version and ffprobe as well. What?. I don't think so.\nFrom the top of my head, we could do new Symfony\\Component\\Process\\Process('ffmpeg -v') and inspect the response in a PHP file which would run before composer installs required libs.\nHopefully there's an even easier way without using an external script.. untested/coded here in a comment textarea:\n```php\n!/usr/bin/env php\n<?php\n$ffmpeg = new Symfony\\Component\\Process\\Process('ffmpeg -v');\n$output = $ffmpeg->mustRun();\nif (strpos($output, 'not found') !== false)\n  // library is not installed\nelse\n  // library is installed, detect OS and advise on how to instal lit (e.g. sudo apt install ffmpeg on nix, brew install ffmpeg on mac)\n```. > That would require that ffmpeg is either in $PATH(linux) or %PATH%(win).\nSure, but that's the norm.\nComposer supports --ignore-platform-reqs which we could check for in our pre-install script.. sure.\ndon't you require ffmpeg in $PATH for use in this lib anyway?\nbtw we don't have to fail the install, can just advise that the library wasn't found and how to install it depending on OS. oh yeah, that's good. Yea I think that's good. \n\nWould you like to file a pr?\n\nNope because I've decided not to use the lib, my problem was that the documentation for concat was confusing (in the example you pass a string for output file, PHPDoc state an array). sure #529 . ",
    "MikeChugunov": "@kavin-90 what you have in config or .env?\n/config/laravel-ffmpeg.php. ",
    "Broutard": "Same issue here but only with Nginx !\nIt works with Apache 2.4. @jens1o It works with apache/php-fpm but we have recently switch to nginx/php-fpm and it failed.\nMy nginx configuration : \n```\nserver {\n    listen 80;\n    server_name app.dev;\n    root \"/var/www/app/public\";\nindex index.html index.htm index.php;\n\ncharset utf-8;\n\nlocation / {\n    try_files $uri $uri/ /index.html /index.php?$query_string;\n}\n\naccess_log off;\nerror_log  /var/log/nginx/error.log error;\n\nclient_max_body_size 100m;\n\nlocation ~ \\.php$ {\n    fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n    fastcgi_pass unix:/var/run/php/php7.1-fpm.sock;\n    fastcgi_index index.php;\n    include fastcgi_params;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_intercept_errors off;\n    fastcgi_buffer_size 16k;\n    fastcgi_buffers 4 16k;\n    fastcgi_connect_timeout 300;\n    fastcgi_send_timeout 300;\n    fastcgi_read_timeout 300;\n}\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\n}\n```. ",
    "dmfusionVTF": "Please help me with this problem, it's been 3 days now and it's still not working...\nI use CentOS 7 and used composer to install the library.\nPHP 7.1\nI also get:\nwhich ffmpeg\n/usr/bin/ffmpeg\nwhich ffprobe\n/usr/bin/ffprobe\nand can list all version info etc. for both of them.\nTried many things I found on the internet about this issue including changing paths manually but nothing seems to work.\nThis is the error I get:\nFatal error: Uncaught Alchemy\\BinaryDriver\\Exception\\ExecutableNotFoundException: Executable not found, proposed : avprobe, ffprobe in /home/admin/domains/public_html/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php:160 Stack trace: #0 /home/admin/domains/public_html/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Driver/FFProbeDriver.php(48): Alchemy\\BinaryDriver\\AbstractBinary::load(Array, NULL, Object(Alchemy\\BinaryDriver\\Configuration)) #1 /home/admin/domains/public_html/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php(226): FFMpeg\\Driver\\FFProbeDriver::create(Object(Alchemy\\BinaryDriver\\Configuration), NULL) #2 /home/admin/domains/public_html/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFMpeg.php(118): FFMpeg\\FFProbe::create(Array, NULL, Object(Doctrine\\Common\\Cache\\ArrayCache)) #3 /home/admin/domains/public_html/index.php(38): FFMpeg\\FFMpeg::create() #4 {main} Next FFMpeg\\Exception\\ExecutableNotFoundEx in /home/admin/domains/public_html/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/Driver/FFProbeDriver.php on line 50\nI really need this library to work for a big project so I hope somebody can help me out.... @kavin-90 \nthanks for your reply.\nI tried this code but get the same error with an extra error: \nWarning: file_exists(): open_basedir restriction in effect. File(/usr/bin/ffprobe) is not within the allowed path(s): (/home/admin/:/tmp/:/var/tmp/:/usr/local/php71/lib/:/usr/local/php54/lib/:/usr/local/php55/lib/:/usr/local/php56/lib/:/usr/local/php70/lib/:/usr/local/php71/lib/:/usr/local/php72/lib/:/usr/local/lib/php/) in /home/admin/domains/public_html/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php on line 150\nFound some things to get rid of that such as turning open_basedir off in DirectAdmin for all domains, and php safe_mode=off in php.ini but nothing... (also after server restart, have my own VPS and full control). @kavin-90 \nOk, I found where to ad it to the list :P (php-fpm71.conf) and it fixed that, but now I have:\nFatal error: Uncaught Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException: ffmpeg failed to execute command '/usr/bin/ffmpeg' '-y' '-i' 'video.mp4' '-async' '1' '-metadata:s:v:0' 'start_time=0' '-vcodec' 'libx264' '-acodec' 'libfaac' '-b:v' '1000k' '-refs' '6' '-coder' '1' '-sc_threshold' '40' '-flags' '+loop' '-me_range' '16' '-subq' '7' '-i_qfactor' '0.71' '-qcomp' '0.6' '-qdiff' '4' '-trellis' '1' '-b:a' '128k' '-vf' '[in]scale=320:240 [out]' '-pass' '1' '-passlogfile' '/tmp/ffmpeg-passes5b7539f4b26dacd4vh/pass-5b7539f4b2864' 'export-x264.mp4'\nSorry if i'm being stupid...\n. @jens1o \nI get: \nffmpeg version 2.8.15 Copyright (c) 2000-2018 the FFmpeg developers\n  built with gcc 4.8.5 (GCC) 20150623 (Red Hat 4.8.5-28)\n  configuration: --prefix=/usr --bindir=/usr/bin --datadir=/usr/share/ffmpeg --incdir=/usr/include/ffmpeg --libdir=/usr/lib64 --mandir=/usr/share/man --arch=x86_64 --optflags='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic' --extra-ldflags='-Wl,-z,relro ' --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libvo-amrwbenc --enable-version3 --enable-bzlib --disable-crystalhd --enable-gnutls --enable-ladspa --enable-libass --enable-libcdio --enable-libdc1394 --disable-indev=jack --enable-libfreetype --enable-libgsm --enable-libmp3lame --enable-openal --enable-libopenjpeg --enable-libopus --enable-libpulse --enable-libschroedinger --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libvorbis --enable-libv4l2 --enable-libx264 --enable-libx265 --enable-libxvid --enable-x11grab --enable-avfilter --enable-avresample --enable-postproc --enable-pthreads --disable-static --enable-shared --enable-gpl --disable-debug --disable-stripping --shlibdir=/usr/lib64 --enable-runtime-cpudetect\n  libavutil      54. 31.100 / 54. 31.100\n  libavcodec     56. 60.100 / 56. 60.100\n  libavformat    56. 40.101 / 56. 40.101\n  libavdevice    56.  4.100 / 56.  4.100\n  libavfilter     5. 40.101 /  5. 40.101\n  libavresample   2.  1.  0 /  2.  1.  0\n  libswscale      3.  1.101 /  3.  1.101\n  libswresample   1.  2.101 /  1.  2.101\n  libpostproc    53.  3.100 / 53.  3.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    creation_time   : 1970-01-01 00:00:00\n    encoder         : Lavf53.24.2\n  Duration: 00:00:05.31, start: 0.000000, bitrate: 1589 kb/s\n    Stream #0:0(und): Video: h264 (Main) (avc1 / 0x31637661), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], 1205 kb/s, 25 fps, 25 tbr, 12800 tbn, 50 tbc (default)\n    Metadata:\n      creation_time   : 1970-01-01 00:00:00\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, 5.1, fltp, 384 kb/s (default)\n    Metadata:\n      creation_time   : 1970-01-01 00:00:00\n      handler_name    : SoundHandler\n[NULL @ 0x157bb80] Unable to find a suitable output format for '[out]'\n[out]: Invalid argument\n. /usr/bin/ffmpeg -y -i video.mp4 -async 1 -metadata:s:v:0 start_time=0 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 128k -vf scale=320:240  export-x264.mp4\nffmpeg version 2.8.15 Copyright (c) 2000-2018 the FFmpeg developers\n  built with gcc 4.8.5 (GCC) 20150623 (Red Hat 4.8.5-28)\n  configuration: --prefix=/usr --bindir=/usr/bin --datadir=/usr/share/ffmpeg --incdir=/usr/include/ffmpeg --libdir=/usr/lib64 --mandir=/usr/share/man --arch=x86_64 --optflags='-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic' --extra-ldflags='-Wl,-z,relro ' --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libvo-amrwbenc --enable-version3 --enable-bzlib --disable-crystalhd --enable-gnutls --enable-ladspa --enable-libass --enable-libcdio --enable-libdc1394 --disable-indev=jack --enable-libfreetype --enable-libgsm --enable-libmp3lame --enable-openal --enable-libopenjpeg --enable-libopus --enable-libpulse --enable-libschroedinger --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libvorbis --enable-libv4l2 --enable-libx264 --enable-libx265 --enable-libxvid --enable-x11grab --enable-avfilter --enable-avresample --enable-postproc --enable-pthreads --disable-static --enable-shared --enable-gpl --disable-debug --disable-stripping --shlibdir=/usr/lib64 --enable-runtime-cpudetect\n  libavutil      54. 31.100 / 54. 31.100\n  libavcodec     56. 60.100 / 56. 60.100\n  libavformat    56. 40.101 / 56. 40.101\n  libavdevice    56.  4.100 / 56.  4.100\n  libavfilter     5. 40.101 /  5. 40.101\n  libavresample   2.  1.  0 /  2.  1.  0\n  libswscale      3.  1.101 /  3.  1.101\n  libswresample   1.  2.101 /  1.  2.101\n  libpostproc    53.  3.100 / 53.  3.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'video.mp4':\n  Metadata:\n    major_brand     : isom\n    minor_version   : 512\n    compatible_brands: isomiso2avc1mp41\n    creation_time   : 1970-01-01 00:00:00\n    encoder         : Lavf53.24.2\n  Duration: 00:00:05.31, start: 0.000000, bitrate: 1589 kb/s\n    Stream #0:0(und): Video: h264 (Main) (avc1 / 0x31637661), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], 1205 kb/s, 25 fps, 25 tbr, 12800 tbn, 50 tbc (default)\n    Metadata:\n      creation_time   : 1970-01-01 00:00:00\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, 5.1, fltp, 384 kb/s (default)\n    Metadata:\n      creation_time   : 1970-01-01 00:00:00\n      handler_name    : SoundHandler\nUnknown encoder 'libfaac'\n. @jens1o \nThis works but only with libmp3lame, every option with aac gives the 'ffmpeg failed to execute' error. \n(tried aac, libvo_aacenc, libfaac, libfdk_aac)\nI do get an output file now (with mp3 audio)\n. yes I did a yum search aac and installed every library I could find\nfdk-aac.x86_64 : Fraunhofer FDK AAC Codec Library\nfdk-aac-devel.x86_64 : Development files for fdk-aac\nfaac.x86_64 : Encoder and encoding library for MPEG2/4 AAC\nfaac-devel.x86_64 : Development libraries of the FAAC AAC encoder\nSo I think at least one of them should work ? (Or are this the wrong libraries ?)\n. Installed them (libaacs, libfaac +devel's) but not yet working (also after server reboot, if that is even necessary)\nIf I input a wrong codec name it suggests me the codecs that are available:\nFatal error: Uncaught FFMpeg\\Exception\\InvalidArgumentException: Wrong audiocodec value for libaacs, available formats are aac, libvo_aacenc, libfaac, libmp3lame, libfdk_aac\nOnly the mp3 one works so far...lame :P . Ok, I will try to get it to work myself, at least I get some output now\n@kavin-90, @jens1o Thanks for your help so far! :)\n. ",
    "qcjackman": "I have found out the cause of the problem, The source code has a bug in\n\nFrame::save()\n\nWhen set $returnBase64 true, the generated commands always contain the output file path, It`s unright, So I fixed it like this in line 119 of src\\FFMpeg\\Media\\Frame.php:\n\nif(!$returnBase64) {\n            $commands = array_merge($commands, array($pathfile));\n        }\n\nGet a binary of image like this:\n\n$frame->save('', false, true);\n\nI`m from China, please forgive my English for not very good, So, Am I right?. @jens1o Yes, I've done that.. ",
    "mpryvkin": "Possibly related to #525 where workaround is listed. ",
    "iki789": "Executing: \nffmpeg.EXE -y -i C:\\wamp64\\www\\memevibe\\vid.mp4 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 256k -ac 2 C:\\wamp64\\www\\memevibe\\vid1.mp4\nleads to an error saying Unknown encoder 'libfaac'\nReplacing libfaac  with aac seemed to work.\nI set the audio codec using the library with setAudioCodec('aac'):\n```\n$format = new \\FFMpeg\\Format\\Video\\X264();\n$format->setAudioCodec(\"aac\");\n``\nSince audio codeclibfaachas been [removed](http://git.videolan.org/gitweb.cgi/ffmpeg.git/?a=commit;h=dc0f711459e0c682bf9f94ba38d26736e90cff45) from ffmpeg, I think instantiatingFFMpeg\\Format\\Video` should default to using  aac codec for audio.. Hmm. Maybe change this to 'aac'. ",
    "chris-redbeed": "For me only aac works. ",
    "biozshock": "@jens1o one that uses a minimum php 7.1? I'd rather merge this into branch that supports 5.6. ok, made another approach that will not introduce BCs.. ",
    "CameronCT": "https://www.dropbox.com/s/euc5p0nfxlisswb/Files.zip?dl=0\nThe files you are looking for are above, I have both before & afters of the AVI / WMV's since it only occurs for both.. Hey, any update on this by chance?\nEDIT: Didn't mean to close this.. Hmm, is it something with my FFMPEG settings? Does everything that I have look correct to you?. Last time I made a transcoding system was on CentOS though that was a year now since I've done it. Which is why my site hasn't been allowing anything that's not MP4's.. ",
    "Krzysiu": "I vote for closing bug report until anything is known - with HTML5 video there's a chance that anything could cause that, especially (see reason 4 and link 3) with\n\nI dragged the wmv-file into Firefox and it's playing perfectly fine\n\nIf it's fine, then it's proper HTML5 video for your system (including all from OS through drivers, browser, its settings etc. - see the list below). By proper I don't mean something that's good for everybody, because it's not easy to achieve that.\nThis issue is so broad, it needs not general comments, but ones that specify browser, system and even server, because there might be problems with:\n1) video wrongly encoded (but wrong is specific for the 2 and 3)\n2) unsupported video in browser\n3) browser supports such video but only on some systems\n3a) browser settings needs to be tuned\n3b) some plugins must be disabled or enabled\n3c) bug in browser, i.e. browser supports video but because bug it doesn't play it; might be very specific case (see last paragraph)\n4) rare, but worth checking - does server correctly handles video MIME? (see link 3 for setting up Apache)\n5) is it a proper container? MP4 have different flavors\n6) is audio fine? For some 2&3 combinations bad audio might cause video to don't play at all\n7) could be ffmpeg fault - who knows\n8) outdated graphic card drivers causing internal fallbacks in OS/browser and then playback fail\nI'd start with:\n1) https://developer.mozilla.org/en-US/docs/Web/HTML/Supported_media_formats#Browser_compatibility (read the footnotes!)\n2) https://superuser.com/questions/859010/what-ffmpeg-command-line-produces-video-more-compatible-across-all-devices - some general info + discussion\n3) https://developer.mozilla.org/en-US/Apps/Fundamentals/Audio_and_video_delivery#1._The_media_server_is_not_delivering_the_correct_mime_types_with_the_file\nSometimes I use (with ffmpeg.exe) optimal settings, videos are working ok, but about 1 per 20-30 videos is simply broken. Is it browser fault? Is it ffmpeg fault? I don't have a clue. The best way (and that's how most video hosting services do) is to encode video with different formats and if video decode fails, make fallback using JS (link 3).. ",
    "rohitgaidhane": "why this error showing. this error occurs:\n( ! )\u00a0Fatal error: Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutableNotFoundException' with message 'Executable not found, proposed : avprobe, ffprobe' in C:\\wamp64\\www\\test\\vendor\\php-ffmpeg\\php-ffmpeg\\src\\FFMpeg\\Driver\\FFProbeDriver.php on line\u00a050\n1 | 0.0016 | 241096 | {main}( ) | ...\\index.php:0\n2 | 0.0293 | 395288 | FFMpeg\\FFMpeg::create( ) | ...\\index.php:4\n3 | 0.0306 | 444648 | FFMpeg\\FFProbe::create( ) | ...\\FFMpeg.php:117\n4 | 0.0466 | 656872 | FFMpeg\\Driver\\FFProbeDriver::create( ) | ...\\FFProbe.php:226\n5 | 0.0513 | 683640 | Alchemy\\BinaryDriver\\AbstractBinary::load( ) | ...\\FFProbeDriver.php:48\n1 | 0.0016 | 241096 | {main}( ) | ...\\index.php:0\n2 | 0.0293 | 395288 | FFMpeg\\FFMpeg::create( ) | ...\\index.php:4\n3 | 0.0306 | 444648 | FFMpeg\\FFProbe::create( ) | ...\\FFMpeg.php:117\n4 | 0.0466 | 656872 | FFMpeg\\Driver\\FFProbeDriver::create( ) | ...\\FFProbe.php:226\n. what does it means\n. i have installed lab using composer. ok. but how ?. i have installed ffmpeg using cli.but same issue occurs.. yes. i m able to execute ffmpeg any where in my pc using cli but if i want to execute this using php so error ouccers. which permission can you plz explain?. now after some changes i am now able to take snaps of video but this error happning \nFatal error: Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffmpeg failed to execute command C:\\wamp64\\www\\imgcomptest\\ffmpeg\\bin\\ffmpeg.EXE -y -i rj.mp4 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 256k -ac 2 -pass 1 -passlogfile \"C:\\WINDOWS\\TEMP\\ffmpeg-passes5b6962c4bdaf07tcpp/pass-5b6962c4be2a8\" video.mp4' in C:\\wamp64\\www\\test\\vendor\\php-ffmpeg\\php-ffmpeg\\src\\FFMpeg\\Media\\AbstractVideo.php on line 106\n( ! ) Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException: ffmpeg failed to execute command C:\\wamp64\\www\\imgcomptest\\ffmpeg\\bin\\ffmpeg.EXE -y -i rj.mp4 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 256k -ac 2 -pass 1 -passlogfile \"C:\\WINDOWS\\TEMP\\ffmpeg-passes5b6962c4bdaf07tcpp/pass-5b6962c4be2a8\" video.mp4 in C:\\wamp64\\www\\test\\vendor\\alchemy\\binary-driver\\src\\Alchemy\\BinaryDriver\\ProcessRunner.php on line 100\nCall Stack\nTime    Memory  Function    Location\n1   0.0016  240968  {main}( )   ...\\index.php:0\n2   0.5958  2078888 FFMpeg\\Media\\AbstractVideo->save( ) ...\\index.php:31\n3   0.6102  2513728 Alchemy\\BinaryDriver\\AbstractBinary->command( ) ...\\AbstractVideo.php:96\n4   0.6113  2516272 Alchemy\\BinaryDriver\\AbstractBinary->run( ) ...\\AbstractBinary.php:137\n5   0.6114  2517176 Alchemy\\BinaryDriver\\ProcessRunner->run( )  ...\\AbstractBinary.php:209\n6   1.0341  2534744 Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure( )   ...\\ProcessRunner.php:72\n( ! ) FFMpeg\\Exception\\RuntimeException: Encoding failed in C:\\wamp64\\www\\test\\vendor\\php-ffmpeg\\php-ffmpeg\\src\\FFMpeg\\Media\\AbstractVideo.php on line 106\nCall Stack\nTime    Memory  Function    Location\n1   0.0016  240968  {main}( )   ...\\index.php:0\n2   0.5958  2078888 FFMpeg\\Media\\AbstractVideo->save( ) ...\\index.php:31\n. `<?php\nrequire 'vendor/autoload.php';\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('rj.mp4');\n// $video\n    // ->filters()\n    // ->resize(new FFMpeg\\Coordinate\\Dimension(320, 240))\n    // ->synchronize();\n// $video\n    // ->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(10))\n    // ->save('frame.jpg');\n// $video\n    // ->save(new FFMpeg\\Format\\Video\\X264(), 'export-x264.mp4')\n    // ->save(new FFMpeg\\Format\\Video\\WMV(), 'export-wmv.wmv')\n    // ->save(new FFMpeg\\Format\\Video\\WebM(), 'export-webm.webm');\n$format = new FFMpeg\\Format\\Video\\X264();\n\n$format->on('progress', function ($video, $format, $percentage) {\n    echo \"$percentage % transcoded\";\n});\n$format\n    ->setKiloBitrate(1000)\n    ->setAudioChannels(2)\n    ->setAudioKiloBitrate(256);\n$video->save($format, 'video.mp4');\n    ?>this is my code.\n\n\n\n\n\n\n\n\n\n<?php\nif(isset($_POST['submit'])){\n    //$_FILES['userfile']['name']\n$currentPath =  $_FILES['video']['tmp_name'];\nif(exec(\"ffmpeg -i tareaditi.mp4 -b 1500k -minrate 1000k -maxrate 1100k -bufsize 1835k aa112.mp4\"))\n{\n    echo \"success\";\n}       \nelse{\n    echo \"fail\";\n}\n\n}\n?>`\n\\\nin this way its working . C:\\wamp64\\www\\imgcomptest>-y -i rj.mp4 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 256k -ac 2 video.mp4\n'-y' is not recognized as an internal or external command,\noperable program or batch file.. C:\\Users\\Amrata Technologies .LAPTOP-SDM41ULD\\Downloads>ffmpeg -y -i rj.mp4 -vcodec libx264 -acodec libfaac -b:v 1000k -refs 6 -coder 1 -sc_threshold 40 -flags +loop -me_range 16 -subq 7 -i_qfactor 0.71 -qcomp 0.6 -qdiff 4 -trellis 1 -b:a 256k -ac 2 video.mp4\nffmpeg version N-91548-g481741ece0 Copyright (c) 2000-2018 the FFmpeg developers\n  built with gcc 7.3.1 (GCC) 20180722\n  configuration: --enable-gpl --enable-version3 --enable-sdl2 --enable-bzlib --enable-fontconfig --enable-gnutls --enable-iconv --enable-libass --enable-libbluray --enable-libfreetype --enable-libmp3lame --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libopus --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libtheora --enable-libtwolame --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libzimg --enable-lzma --enable-zlib --enable-gmp --enable-libvidstab --enable-libvorbis --enable-libvo-amrwbenc --enable-libmysofa --enable-libspeex --enable-libxvid --enable-libaom --enable-libmfx --enable-amf --enable-ffnvcodec --enable-cuvid --enable-d3d11va --enable-nvenc --enable-nvdec --enable-dxva2 --enable-avisynth\n  libavutil      56. 18.102 / 56. 18.102\n  libavcodec     58. 22.100 / 58. 22.100\n  libavformat    58. 17.101 / 58. 17.101\n  libavdevice    58.  4.101 / 58.  4.101\n  libavfilter     7. 26.100 /  7. 26.100\n  libswscale      5.  2.100 /  5.  2.100\n  libswresample   3.  2.100 /  3.  2.100\n  libpostproc    55.  2.100 / 55.  2.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from 'rj.mp4':\n  Metadata:\n    major_brand     : mp42\n    minor_version   : 0\n    compatible_brands: mp42mp41isomavc1\n    creation_time   : 2018-08-01T06:27:02.000000Z\n  Duration: 00:00:17.58, start: 0.000000, bitrate: 2555 kb/s\n    Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, bt709), 1280x720, 2413 kb/s, 29.97 fps, 29.97 tbr, 30k tbn, 60k tbc (default)\n    Metadata:\n      creation_time   : 2018-08-01T06:27:02.000000Z\n      handler_name    : L-SMASH Video Handler\n      encoder         : AVC Coding\n    Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 137 kb/s (default)\n    Metadata:\n      creation_time   : 2018-08-01T06:27:02.000000Z\n      handler_name    : L-SMASH Audio Handler\nUnknown encoder 'libfaac'. ok i will try.thanks for response. thanks its working...\nand one thing ,is this code work on my linux based vps hosting\n. okkkk.Thanks you help me lots on this.. can you plz tell me how to reduce framerate?. as i found that reducing video size is not only thing i needed i also needed to reduce video framerate. i got this code but how to implement this ?\n$video\n    ->filters()\n    ->resize($dimension, $mode, $useStandards)\n    ->framerate($framerate, $gop)\n    ->synchronize();\ni m stucked here plz help me out there?. ok..,thanks. ",
    "ybos": "ffprobe version\nffprobe version 4.0.2 Copyright (c) 2007-2018 the FFmpeg developers\nbuilt with gcc 4.4.7 (GCC) 20120313 (Red Hat 4.4.7-17)\nconfiguration: --enable-shared --disable-x86asm\nlibavutil      56. 14.100 / 56. 14.100\nlibavcodec     58. 18.100 / 58. 18.100\nlibavformat    58. 12.100 / 58. 12.100\nlibavdevice    58.  3.100 / 58.  3.100\nlibavfilter     7. 16.100 /  7. 16.100\nlibswscale      5.  1.100 /  5.  1.100\nlibswresample   3.  1.100 /  3.  1.100\nffmpeg version\nffmpeg version 4.0.2 Copyright (c) 2000-2018 the FFmpeg developers\nbuilt with gcc 4.4.7 (GCC) 20120313 (Red Hat 4.4.7-17)\nconfiguration: --enable-shared --disable-x86asm\nlibavutil      56. 14.100 / 56. 14.100\nlibavcodec     58. 18.100 / 58. 18.100\nlibavformat    58. 12.100 / 58. 12.100\nlibavdevice    58.  3.100 / 58.  3.100\nlibavfilter     7. 16.100 /  7. 16.100\nlibswscale      5.  1.100 /  5.  1.100\nlibswresample   3.  1.100 /  3.  1.100\nphp version\nPHP 5.4.37 (cli) (built: Nov 24 2016 16:39:07) \nCopyright (c) 1997-2014 The PHP Group\nZend Engine v2.4.0, Copyright (c) 1998-2014 Zend Technologies. ```\nSimple multimedia streams analyzer\nusage: ffprobe [OPTIONS] [INPUT_FILE]\nMain options:\n-L                  show license\n-h topic            show help\n-? topic            show help\n-help topic         show help\n--help topic        show help\n-version            show version\n-buildconf          show build configuration\n-formats            show available formats\n-muxers             show available muxers\n-demuxers           show available demuxers\n-devices            show available devices\n-codecs             show available codecs\n-decoders           show available decoders\n-encoders           show available encoders\n-bsfs               show available bit stream filters\n-protocols          show available protocols\n-filters            show available filters\n-pix_fmts           show available pixel formats\n-layouts            show standard channel layouts\n-sample_fmts        show available audio sample formats\n-colors             show available color names\n-loglevel loglevel  set logging level\n-v loglevel         set logging level\n-report             generate a report\n-max_alloc bytes    set maximum size of a single allocated block\n-cpuflags flags     force specific cpu flags\n-hide_banner hide_banner  do not show program banner\n-sources device     list sources of the input device\n-sinks device       list sinks of the output device\n-f format           force format\n-unit               show unit of the displayed values\n-prefix             use SI prefixes for the displayed values\n-byte_binary_prefix  use binary prefixes for byte units\n-sexagesimal        use sexagesimal format HOURS:MM:SS.MICROSECONDS for time units\n-pretty             prettify the format of displayed values, make it more human readable\n-print_format format  set the output printing format (available formats are: default, compact, csv, flat, ini, json, xml)\n-of format          alias for -print_format\n-select_streams stream_specifier  select the specified streams\n-sections           print sections structure and section information, and exit\n-show_data          show packets data\n-show_data_hash     show packets data hash\n-show_error         show probing error\n-show_format        show format/container info\n-show_frames        show frames info\n-show_format_entry entry  show a particular entry from the format/container info\n-show_entries entry_list  show a set of specified entries\n-show_log           show log\n-show_packets       show packets info\n-show_programs      show programs info\n-show_streams       show streams info\n-show_chapters      show chapters info\n-count_frames       count the number of frames per stream\n-count_packets      count the number of packets per stream\n-show_program_version  show ffprobe version\n-show_library_versions  show library versions\n-show_versions      show program and library versions\n-show_pixel_formats  show pixel format descriptions\n-show_private_data  show private data\n-private            same as show_private_data\n-bitexact           force bitexact output\n-read_intervals read_intervals  set read intervals\n-default            generic catch all option\n-i input_file       read specified file\n-find_stream_info   read and decode the streams to fill missing information with heuristics\nAVFormatContext AVOptions:\n  -avioflags               ED....... (default 0)\n     direct                       ED....... reduce buffering\n  -probesize               .D....... set probing size (from 32 to I64_MAX) (default 5e+06)\n  -formatprobesize           .D....... number of bytes to probe file format (from 0 to 2.14748e+09) (default 1.04858e+06)\n  -fflags                  ED....... (default autobsf)\n     ignidx                       .D....... ignore index\n     genpts                       .D....... generate pts\n     nofillin                     .D....... do not fill in missing values that can be exactly calculated\n     noparse                      .D....... disable AVParsers, this needs nofillin too\n     igndts                       .D....... ignore dts\n     discardcorrupt               .D....... discard corrupted frames\n     sortdts                      .D....... try to interleave outputted packets by dts\n     keepside                     .D....... deprecated, does nothing\n     fastseek                     .D....... fast but inaccurate seeks\n     nobuffer                     .D....... reduce the latency introduced by optional buffering\n  -seek2any              .D....... allow seeking to non-keyframes on demuxer level when supported (default false)\n  -analyzeduration         .D....... specify how many microseconds are analyzed to probe the input (from 0 to I64_MAX) (default 0)\n  -cryptokey              .D....... decryption key\n  -indexmem                  .D....... max memory used for timestamp index (per stream) (from 0 to INT_MAX) (default 1.04858e+06)\n  -rtbufsize                 .D....... max memory used for buffering real-time frames (from 0 to INT_MAX) (default 3.04128e+06)\n  -fdebug                  ED....... print specific debug info (default 0)\n     ts                           ED.......\n  -max_delay                 ED....... maximum muxing or demuxing delay in microseconds (from -1 to INT_MAX) (default -1)\n  -fpsprobesize              .D....... number of frames used to probe fps (from -1 to 2.14748e+09) (default -1)\n  -f_err_detect            .D....... set error detection flags (deprecated; use err_detect, save via avconv) (default crccheck)\n     crccheck                     .D....... verify embedded CRCs\n     bitstream                    .D....... detect bitstream specification deviations\n     buffer                       .D....... detect improper bitstream length\n     explode                      .D....... abort decoding on minor error detection\n     ignore_err                   .D....... ignore errors\n     careful                      .D....... consider things that violate the spec, are fast to check and have not been seen in the wild as errors\n     compliant                    .D....... consider all spec non compliancies as errors\n     aggressive                   .D....... consider things that a sane encoder shouldn't do as an error\n  -err_detect              .D....... set error detection flags (default crccheck)\n     crccheck                     .D....... verify embedded CRCs\n     bitstream                    .D....... detect bitstream specification deviations\n     buffer                       .D....... detect improper bitstream length\n     explode                      .D....... abort decoding on minor error detection\n     ignore_err                   .D....... ignore errors\n     careful                      .D....... consider things that violate the spec, are fast to check and have not been seen in the wild as errors\n     compliant                    .D....... consider all spec non compliancies as errors\n     aggressive                   .D....... consider things that a sane encoder shouldn't do as an error\n  -use_wallclock_as_timestamps     .D....... use wallclock as timestamps (default false)\n  -skip_initial_bytes       .D....... set number of bytes to skip before reading header and frames (from 0 to I64_MAX) (default 0)\n  -correct_ts_overflow     .D....... correct single timestamp overflows (default true)\n  -f_strict                  ED....... how strictly to follow the standards (deprecated; use strict, save via avconv) (from INT_MIN to INT_MAX) (default normal)\n     very                         ED....... strictly conform to a older more strict version of the spec or reference software\n     strict                       ED....... strictly conform to all the things in the spec no matter what the consequences\n     normal                       ED.......\n     unofficial                   ED....... allow unofficial extensions\n     experimental                 ED....... allow non-standardized experimental variants\n  -strict                    ED....... how strictly to follow the standards (from INT_MIN to INT_MAX) (default normal)\n     very                         ED....... strictly conform to a older more strict version of the spec or reference software\n     strict                       ED....... strictly conform to all the things in the spec no matter what the consequences\n     normal                       ED.......\n     unofficial                   ED....... allow unofficial extensions\n     experimental                 ED....... allow non-standardized experimental variants\n  -max_ts_probe              .D....... maximum number of packets to read while waiting for the first timestamp (from 0 to INT_MAX) (default 50)\n  -dump_separator         ED....... set information dump field separator (default \", \")\n  -codec_whitelist        .D....... List of decoders that are allowed to be used\n  -format_whitelist       .D....... List of demuxers that are allowed to be used\n  -protocol_whitelist      .D....... List of protocols that are allowed to be used\n  -protocol_blacklist      .D....... List of protocols that are not allowed to be used\n  -max_streams               .D....... maximum number of streams (from 0 to INT_MAX) (default 1000)\nAVIOContext AVOptions:\n  -protocol_whitelist      .D....... List of protocols that are allowed to be used\nURLContext AVOptions:\n  -protocol_whitelist      .D....... List of protocols that are allowed to be used\n  -protocol_blacklist      .D....... List of protocols that are not allowed to be used\n  -rw_timeout              ED....... Timeout for IO operations (in microseconds) (from 0 to I64_MAX) (default 0)\nAsync AVOptions:\nCache AVOptions:\n  -read_ahead_limit          .D....... Amount in bytes that may be read ahead when seeking isn't supported, -1 for unlimited (from -1 to INT_MAX) (default 65536)\ncrypto AVOptions:\n  -key                    ED....... AES encryption/decryption key\n  -iv                     ED....... AES encryption/decryption initialization vector\n  -decryption_key         .D....... AES decryption key\n  -decryption_iv          .D....... AES decryption initialization vector\nffrtmphttp AVOptions:\n  -ffrtmphttp_tls        .D....... Use a HTTPS tunneling connection (RTMPTS). (default false)\nfile AVOptions:\n  -follow                    .D....... Follow a file as it is being written (from 0 to 1) (default 0)\nftp AVOptions:\n  -timeout                   ED....... set timeout of socket I/O operations (from -1 to INT_MAX) (default -1)\n  -ftp-anonymous-password      ED....... password for anonymous login. E-mail address should be used.\nhttp AVOptions:\n  -seekable              .D....... control seekability of connection (default auto)\n  -http_proxy             ED....... set HTTP proxy to tunnel through\n  -headers                ED....... set custom HTTP headers, can override built in default headers\n  -content_type           ED....... set a specific content type for the POST messages\n  -user_agent             .D....... override User-Agent header (default \"Lavf/58.12.100\")\n  -referer                .D....... override referer header\n  -user-agent             .D....... override User-Agent header (default \"Lavf/58.12.100\")\n  -multiple_requests     ED....... use persistent connections (default false)\n  -post_data              ED....... set custom HTTP post data\n  -cookies                .D....... set cookies to be sent in applicable future requests, use newline delimited Set-Cookie HTTP field value syntax\n  -icy                   .D....... request ICY metadata (default true)\n  -auth_type                 ED....... HTTP authentication type (from 0 to 1) (default none)\n     none                         ED....... No auth method set, autodetect\n     basic                        ED....... HTTP basic authentication\n  -location               ED....... The actual location of the data received\n  -offset                  .D....... initial byte offset (from 0 to I64_MAX) (default 0)\n  -end_offset              .D....... try to limit the request to bytes preceding this offset (from 0 to I64_MAX) (default 0)\n  -method                 ED....... Override the HTTP method or set the expected HTTP method from a client\n  -reconnect             .D....... auto reconnect after disconnect before EOF (default false)\n  -reconnect_at_eof      .D....... auto reconnect at EOF (default false)\n  -reconnect_streamed     .D....... auto reconnect streamed / non seekable streams (default false)\n  -reconnect_delay_max         .D....... max reconnect delay in seconds after which to give up (from 0 to 4294) (default 120)\n  -listen                    ED....... listen on HTTP (from 0 to 2) (default 0)\nicecast AVOptions:\npipe AVOptions:\nprompeg AVOptions:\nrtmp AVOptions:\n  -rtmp_app               ED....... Name of application to connect to on the RTMP server\n  -rtmp_buffer               ED....... Set buffer time in milliseconds. The default is 3000. (from 0 to INT_MAX) (default 3000)\n  -rtmp_conn              ED....... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver          ED....... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live                 .D....... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default any)\n     any                          .D....... both\n     live                         .D....... live stream\n     recorded                     .D....... recorded stream\n  -rtmp_pageurl           .D....... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath          ED....... Stream identifier to play or to publish\n  -rtmp_subscribe         .D....... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfhash           .D....... SHA256 hash of the decompressed SWF file (32 bytes).\n  -rtmp_swfsize              .D....... Size of the decompressed SWF file, required for SWFVerification. (from 0 to INT_MAX) (default 0)\n  -rtmp_swfurl            ED....... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify         .D....... URL to player swf file, compute hash/size automatically.\n  -rtmp_tcurl             ED....... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_listen               .D....... Listen for incoming rtmp connections (from INT_MIN to INT_MAX) (default 0)\n  -listen                    .D....... Listen for incoming rtmp connections (from INT_MIN to INT_MAX) (default 0)\n  -timeout                   .D....... Maximum timeout (in seconds) to wait for incoming connections. -1 is infinite. Implies -rtmp_listen 1 (from INT_MIN to INT_MAX) (default -1)\nrtmpt AVOptions:\n  -rtmp_app               ED....... Name of application to connect to on the RTMP server\n  -rtmp_buffer               ED....... Set buffer time in milliseconds. The default is 3000. (from 0 to INT_MAX) (default 3000)\n  -rtmp_conn              ED....... Append arbitrary AMF data to the Connect message\n  -rtmp_flashver          ED....... Version of the Flash plugin used to run the SWF player.\n  -rtmp_live                 .D....... Specify that the media is a live stream. (from INT_MIN to INT_MAX) (default any)\n     any                          .D....... both\n     live                         .D....... live stream\n     recorded                     .D....... recorded stream\n  -rtmp_pageurl           .D....... URL of the web page in which the media was embedded. By default no value will be sent.\n  -rtmp_playpath          ED....... Stream identifier to play or to publish\n  -rtmp_subscribe         .D....... Name of live stream to subscribe to. Defaults to rtmp_playpath.\n  -rtmp_swfhash           .D....... SHA256 hash of the decompressed SWF file (32 bytes).\n  -rtmp_swfsize              .D....... Size of the decompressed SWF file, required for SWFVerification. (from 0 to INT_MAX) (default 0)\n  -rtmp_swfurl            ED....... URL of the SWF player. By default no value will be sent\n  -rtmp_swfverify         .D....... URL to player swf file, compute hash/size automatically.\n  -rtmp_tcurl             ED....... URL of the target stream. Defaults to proto://host[:port]/app.\n  -rtmp_listen               .D....... Listen for incoming rtmp connections (from INT_MIN to INT_MAX) (default 0)\n  -listen                    .D....... Listen for incoming rtmp connections (from INT_MIN to INT_MAX) (default 0)\n  -timeout                   .D....... Maximum timeout (in seconds) to wait for incoming connections. -1 is infinite. Implies -rtmp_listen 1 (from INT_MIN to INT_MAX) (default -1)\nrtp AVOptions:\n  -ttl                       ED....... Time to live (in milliseconds, multicast only) (from -1 to INT_MAX) (default -1)\n  -buffer_size               ED....... Send/Receive buffer size (in bytes) (from -1 to INT_MAX) (default -1)\n  -rtcp_port                 ED....... Custom rtcp port (from -1 to INT_MAX) (default -1)\n  -local_rtpport             ED....... Local rtp port (from -1 to INT_MAX) (default -1)\n  -local_rtcpport            ED....... Local rtcp port (from -1 to INT_MAX) (default -1)\n  -connect               ED....... Connect socket (default false)\n  -write_to_source       ED....... Send packets to the source address of the latest received packet (default false)\n  -pkt_size                  ED....... Maximum packet size (from -1 to INT_MAX) (default -1)\n  -dscp                      ED....... DSCP class (from -1 to INT_MAX) (default -1)\n  -sources                ED....... Source list\n  -block                  ED....... Block list\nsrtp AVOptions:\n  -srtp_in_suite          .D....... \n  -srtp_in_params         .D....... \nsubfile AVOptions:\n  -start                   .D....... start offset (from 0 to I64_MAX) (default 0)\n  -end                     .D....... end offset (from 0 to I64_MAX) (default 0)\ntee AVOptions:\ntcp AVOptions:\n  -listen                    ED....... Listen for incoming connections (from 0 to 2) (default 0)\n  -timeout                   ED....... set timeout (in microseconds) of socket I/O operations (from -1 to INT_MAX) (default -1)\n  -listen_timeout            ED....... Connection awaiting timeout (in milliseconds) (from -1 to INT_MAX) (default -1)\n  -send_buffer_size          ED....... Socket send buffer size (in bytes) (from -1 to INT_MAX) (default -1)\n  -recv_buffer_size          ED....... Socket receive buffer size (in bytes) (from -1 to INT_MAX) (default -1)\n  -tcp_nodelay           ED....... Use TCP_NODELAY to disable nagle's algorithm (default false)\nudp AVOptions:\n  -buffer_size               ED....... System data size (in bytes) (from -1 to INT_MAX) (default -1)\n  -localport                 ED....... Local port (from -1 to INT_MAX) (default -1)\n  -local_port                ED....... Local port (from -1 to INT_MAX) (default -1)\n  -localaddr              ED....... Local address\n  -udplite_coverage          ED....... choose UDPLite head size which should be validated by checksum (from 0 to INT_MAX) (default 0)\n  -pkt_size                  ED....... Maximum UDP packet size (from -1 to INT_MAX) (default 1472)\n  -reuse                 ED....... explicitly allow reusing UDP sockets (default auto)\n  -reuse_socket          ED....... explicitly allow reusing UDP sockets (default auto)\n  -connect               ED....... set if connect() should be called on socket (default false)\n  -fifo_size                 .D....... set the UDP receiving circular buffer size, expressed as a number of packets with size of 188 bytes (from 0 to INT_MAX) (default 28672)\n  -overrun_nonfatal      .D....... survive in case of UDP receiving circular buffer overrun (default false)\n  -timeout                   .D....... set raise error timeout (only in read mode) (from 0 to INT_MAX) (default 0)\n  -sources                ED....... Source list\n  -block                  ED....... Block list\nudplite AVOptions:\n  -buffer_size               ED....... System data size (in bytes) (from -1 to INT_MAX) (default -1)\n  -localport                 ED....... Local port (from -1 to INT_MAX) (default -1)\n  -local_port                ED....... Local port (from -1 to INT_MAX) (default -1)\n  -localaddr              ED....... Local address\n  -udplite_coverage          ED....... choose UDPLite head size which should be validated by checksum (from 0 to INT_MAX) (default 0)\n  -pkt_size                  ED....... Maximum UDP packet size (from -1 to INT_MAX) (default 1472)\n  -reuse                 ED....... explicitly allow reusing UDP sockets (default auto)\n  -reuse_socket          ED....... explicitly allow reusing UDP sockets (default auto)\n  -connect               ED....... set if connect() should be called on socket (default false)\n  -fifo_size                 .D....... set the UDP receiving circular buffer size, expressed as a number of packets with size of 188 bytes (from 0 to INT_MAX) (default 28672)\n  -overrun_nonfatal      .D....... survive in case of UDP receiving circular buffer overrun (default false)\n  -timeout                   .D....... set raise error timeout (only in read mode) (from 0 to INT_MAX) (default 0)\n  -sources                ED....... Source list\n  -block                  ED....... Block list\nunix AVOptions:\n  -listen                ED....... Open socket for listening (default false)\n  -timeout                   ED....... Timeout in ms (from -1 to INT_MAX) (default -1)\n  -type                      ED....... Socket type (from INT_MIN to INT_MAX) (default stream)\n     stream                       ED....... Stream (reliable stream-oriented)\n     datagram                     ED....... Datagram (unreliable packet-oriented)\n     seqpacket                    ED....... Seqpacket (reliable packet-oriented\naa AVOptions:\n  -aa_fixed_key           .D....... Fixed key used for handling Audible AA files\nArtworx Data Format demuxer AVOptions:\n  -linespeed                 .D....... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size         .D....... set video size, such as 640x480 or hd720.\n  -framerate          .D....... set framerate (frames per second) (default \"25\")\nAPNG demuxer AVOptions:\n  -ignore_loop           .D....... ignore loop setting (default true)\n  -max_fps                   .D....... maximum framerate (0 is no limit) (from 0 to INT_MAX) (default 0)\n  -default_fps               .D....... default framerate (0 is as fast as possible) (from 0 to INT_MAX) (default 15)\naptx demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 48000)\naptx hd demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 48000)\naqtdec AVOptions:\n  -subfps               .D...S... set the movie frame rate (from 0 to INT_MAX) (default 25/1)\nasf demuxer AVOptions:\n  -no_resync_search      .D....... Don't try to resynchronize by looking for a certain optional start code (default false)\n  -export_xmp            .D....... Export full XMP metadata (default false)\navi AVOptions:\n  -use_odml              .D....... use odml index (default true)\nBinary text demuxer AVOptions:\n  -linespeed                 .D....... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size         .D....... set video size, such as 640x480 or hd720.\n  -framerate          .D....... set framerate (frames per second) (default \"25\")\ncavsvideo demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nCDXL demuxer AVOptions:\n  -sample_rate               .D.......  (from 1 to INT_MAX) (default 11025)\n  -framerate              .D....... \ncodec2 demuxer AVOptions:\n  -frames_per_packet         .D....... Number of frames to read at a time. Higher = faster decoding, lower granularity (from 1 to INT_MAX) (default 1)\ncodec2raw demuxer AVOptions:\n  -mode                      .D....... codec2 mode [mandatory] (from -1 to 8) (default -1)\n     3200                         .D....... 3200\n     2400                         .D....... 2400\n     1600                         .D....... 1600\n     1400                         .D....... 1400\n     1300                         .D....... 1300\n     1200                         .D....... 1200\n     700                          .D....... 700\n     700B                         .D....... 700B\n     700C                         .D....... 700C\n  -frames_per_packet         .D....... Number of frames to read at a time. Higher = faster decoding, lower granularity (from 1 to INT_MAX) (default 1)\nconcat demuxer AVOptions:\n  -safe                  .D....... enable safe mode (default true)\n  -auto_convert          .D....... automatically convert bitstream format (default true)\n  -segment_time_metadata     .D....... output file segment start time and duration as packet metadata (default false)\ndirac demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\ndnxhd demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\ndvbsub demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\ndvbtxt demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nFITS demuxer AVOptions:\n  -framerate          .D....... set the framerate (default \"1\")\nflvdec AVOptions:\n  -flv_metadata          .D.V..... Allocate streams according to the onMetaData array (default false)\n  -missing_streams           .D.V..XR.  (from 0 to 255) (default 0)\nlive_flvdec AVOptions:\n  -flv_metadata          .D.V..... Allocate streams according to the onMetaData array (default false)\n  -missing_streams           .D.V..XR.  (from 0 to 255) (default 0)\nG.726 big-endian demuxer AVOptions:\n  -code_size                 .D....... Bits per G.726 code (from 2 to 5) (default 4)\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 8000)\nG.726 little-endian demuxer AVOptions:\n  -code_size                 .D....... Bits per G.726 code (from 2 to 5) (default 4)\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 8000)\ng729 demuxer AVOptions:\n  -bit_rate                  .D.......  (from 0 to INT_MAX) (default 8000)\nGIF demuxer AVOptions:\n  -min_delay                 .D....... minimum valid delay between frames (in hundredths of second) (from 0 to 6000) (default 2)\n  -max_gif_delay             .D....... maximum valid delay between frames (in hundredths of seconds) (from 0 to 65535) (default 65535)\n  -default_delay             .D....... default delay between frames (in hundredths of second) (from 0 to 6000) (default 10)\n  -ignore_loop           .D....... ignore loop setting (netscape extension) (default true)\ngsm demuxer AVOptions:\n  -sample_rate               .D.......  (from 1 to 6.50753e+07) (default 8000)\nh261 demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nh263 demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nh264 demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nhevc demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nhls,applehttp AVOptions:\n  -live_start_index          .D....... segment index to start live streams at (negative values are from the end) (from INT_MIN to INT_MAX) (default -3)\n  -allowed_extensions      .D....... List of file extensions that hls is allowed to access (default \"3gp,aac,avi,flac,mkv,m3u8,m4a,m4s,m4v,mpg,mov,mp2,mp3,mp4,mpeg,mpegts,ogg,ogv,oga,ts,vob,wav\")\n  -max_reload                .D....... Maximum number of times a insufficient list is attempted to be reloaded (from 0 to INT_MAX) (default 1000)\n  -http_persistent       .D....... Use persistent HTTP connections (default true)\n  -http_multiple         .D....... Use multiple HTTP connections for fetching segments (default auto)\niCE Draw File demuxer AVOptions:\n  -linespeed                 .D....... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size         .D....... set video size, such as 640x480 or hd720.\n  -framerate          .D....... set framerate (frames per second) (default \"25\")\nimage2 demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nimage2pipe demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nalias_pix demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nbrender_pix demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\ningenient demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nm4v demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nmicrodvddec AVOptions:\n  -subfps               .D...S... set the movie frame rate fallback (from 0 to INT_MAX) (default 0/1)\nmjpeg demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nmjpeg_2000 demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nmov,mp4,m4a,3gp,3g2,mj2 AVOptions:\n  -use_absolute_path     .D.V..... allow using absolute path when opening alias, this is a possible security issue (default false)\n  -seek_streams_individually     .D.V..... Seek each stream individually to the to the closest point (default true)\n  -ignore_editlist       .D.V..... Ignore the edit list atom. (default false)\n  -advanced_editlist     .D.V..... Modify the AVIndex according to the editlists. Use this option to decode in the order specified by the edits. (default true)\n  -ignore_chapters       .D.V.....  (default false)\n  -use_mfra_for              .D.V..... use mfra for fragment timestamps (from -1 to 2) (default auto)\n     auto                         .D.V..... auto\n     dts                          .D.V..... dts\n     pts                          .D.V..... pts\n  -export_all            .D.V..... Export unrecognized metadata entries (default false)\n  -export_xmp            .D.V..... Export full XMP metadata (default false)\n  -activation_bytes       .D....... Secret bytes for Audible AAX files\n  -audible_fixed_key      .D....... Fixed key used for handling Audible AAX files\n  -decryption_key         .D....... The media decryption key (hex)\n  -enable_drefs          .D.V..... Enable external track support. (default false)\nmp3 AVOptions:\n  -usetoc                .D....... use table of contents (default false)\nmpegts demuxer AVOptions:\n  -resync_size               .D....... set size limit for looking up a new synchronization (from 0 to INT_MAX) (default 65536)\n  -fix_teletext_pts      .D....... try to fix pts values of dvb teletext streams (default true)\n  -ts_packetsize             .D....XR. output option carrying the raw packet size (from 0 to 0) (default 0)\n  -scan_all_pmts         .D....... scan and combine all PMTs (default auto)\nmpegtsraw demuxer AVOptions:\n  -resync_size               .D....... set size limit for looking up a new synchronization (from 0 to INT_MAX) (default 65536)\n  -compute_pcr           .D....... compute exact PCR for each transport stream packet (default false)\n  -ts_packetsize             .D....XR. output option carrying the raw packet size (from 0 to 0) (default 0)\nmpegvideo demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nMPJPEG demuxer AVOptions:\n  -strict_mime_boundary     .D....... require MIME boundaries match (default false)\nalaw demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nmulaw demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nf64be demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nf64le demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nf32be demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nf32le demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\ns32be demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\ns32le demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\ns24be demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\ns24le demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\ns16be demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\ns16le demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\ns8 demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nu32be demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nu32le demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nu24be demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nu24le demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nu16be demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nu16le demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nu8 demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 44100)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\nrawvideo demuxer AVOptions:\n  -video_size         .D....... set frame size\n  -pixel_format           .D....... set pixel format (default \"yuv420p\")\n  -framerate          .D....... set frame rate (default \"25\")\nRTP demuxer AVOptions:\n  -rtp_flags               .D....... set RTP flags (default 0)\n     filter_src                   .D....... only receive packets from the negotiated peer IP\n  -reorder_queue_size         .D....... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size               ED....... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\nRTSP demuxer AVOptions:\n  -initial_pause         .D....... do not start playing the stream immediately (default false)\n  -rtsp_transport          ED....... set RTSP transport protocols (default 0)\n     udp                          ED....... UDP\n     tcp                          ED....... TCP\n     udp_multicast                .D....... UDP multicast\n     http                         .D....... HTTP tunneling\n  -rtsp_flags              .D....... set RTSP flags (default 0)\n     filter_src                   .D....... only receive packets from the negotiated peer IP\n     listen                       .D....... wait for incoming connections\n     prefer_tcp                   ED....... try RTP via TCP first, if available\n  -allowed_media_types       .D....... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D....... Video\n     audio                        .D....... Audio\n     data                         .D....... Data\n     subtitle                     .D....... Subtitle\n  -min_port                  ED....... set minimum local UDP port (from 0 to 65535) (default 5000)\n  -max_port                  ED....... set maximum local UDP port (from 0 to 65535) (default 65000)\n  -listen_timeout            .D....... set maximum timeout (in seconds) to wait for incoming connections (-1 is infinite, imply flag listen) (from INT_MIN to INT_MAX) (default -1)\n  -timeout                   .D....... set maximum timeout (in seconds) to wait for incoming connections (-1 is infinite, imply flag listen) (deprecated, use listen_timeout) (from INT_MIN to INT_MAX) (default -1)\n  -stimeout                  .D....... set timeout (in microseconds) of socket TCP I/O operations (from INT_MIN to INT_MAX) (default 0)\n  -reorder_queue_size         .D....... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size               ED....... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\n  -user_agent             .D....... override User-Agent header (default \"Lavf58.12.100\")\n  -user-agent             .D....... override User-Agent header (deprecated, use user_agent) (default \"Lavf58.12.100\")\nsbg_demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 0)\n  -frame_size                .D.......  (from 0 to INT_MAX) (default 0)\n  -max_file_size             .D.......  (from 0 to INT_MAX) (default 5e+06)\nSDP demuxer AVOptions:\n  -sdp_flags               .D....... SDP flags (default 0)\n     filter_src                   .D....... only receive packets from the negotiated peer IP\n     custom_io                    .D....... use custom I/O\n     rtcp_to_source               .D....... send RTCP packets to the source address of received packets\n  -allowed_media_types       .D....... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D....... Video\n     audio                        .D....... Audio\n     data                         .D....... Data\n     subtitle                     .D....... Subtitle\n  -reorder_queue_size         .D....... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size               ED....... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\nsln demuxer AVOptions:\n  -sample_rate               .D.......  (from 0 to INT_MAX) (default 8000)\n  -channels                  .D.......  (from 0 to INT_MAX) (default 1)\ntedcaptions_demuxer AVOptions:\n  -start_time              .D...S... set the start time (offset) of the subtitles, in ms (from I64_MIN to I64_MAX) (default 15000)\nTTY demuxer AVOptions:\n  -chars_per_frame           .D.......  (from 1 to INT_MAX) (default 6000)\n  -video_size         .D....... A string describing frame size, such as 640x480 or hd720.\n  -framerate          .D.......  (default \"25\")\nv210 demuxer AVOptions:\n  -video_size         .D....... set frame size\n  -framerate          .D....... set frame rate (default \"25\")\nv210x demuxer AVOptions:\n  -video_size         .D....... set frame size\n  -framerate          .D....... set frame rate (default \"25\")\nvc1 demuxer AVOptions:\n  -framerate          .D.......  (default \"25\")\nvobsub AVOptions:\n  -sub_name               .D....... URI for .sub file\nWAV demuxer AVOptions:\n  -ignore_length         .D....... Ignore length (default false)\nWebM DASH Manifest demuxer AVOptions:\n  -live                  .D....... flag indicating that the input is a live file that only has the headers. (default false)\n  -bandwidth                 .D....... bandwidth of this stream to be specified in the DASH manifest. (from 0 to INT_MAX) (default 0)\nWebVTT demuxer AVOptions:\neXtended BINary text (XBIN) demuxer AVOptions:\n  -linespeed                 .D....... set simulated line speed (bytes per second) (from 1 to INT_MAX) (default 6000)\n  -video_size         .D....... set video size, such as 640x480 or hd720.\n  -framerate          .D....... set framerate (frames per second) (default \"25\")\nbmp demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\ndds demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\ndpx demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nexr demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nj2k demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\njpeg demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\njpegls demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\npam demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\npbm demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\npcx demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\npgmyuv demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\npgm demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\npictor demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\npng demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nppm demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\npsd demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nqdraw demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nsgi demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nsvg demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nsunrast demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\ntiff demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nwebp demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nxpm demuxer AVOptions:\n  -framerate          .D....... set the video framerate (default \"25\")\n  -loop                  .D....... force loop over input file sequence (default false)\n  -pattern_type              .D....... set pattern type (from 0 to INT_MAX) (default 4)\n     glob_sequence                .D....... select glob/sequence pattern type\n     glob                         .D....... select glob pattern type\n     sequence                     .D....... select sequence pattern type\n     none                         .D....... disable pattern matching\n  -pixel_format           .D....... set video pixel format\n  -start_number              .D....... set first number in the sequence (from INT_MIN to INT_MAX) (default 0)\n  -start_number_range         .D....... set range for looking at the first sequence number (from 1 to INT_MAX) (default 5)\n  -video_size         .D....... set video size\n  -frame_size                .D....... force frame size in bytes (from 0 to INT_MAX) (default 0)\n  -ts_from_file              .D....... set frame timestamp from file's one (from 0 to 2) (default none)\n     none                         .D....... none\n     sec                          .D....... second precision\n     ns                           .D....... nano second precision\nALSA demuxer AVOptions:\n  -sample_rate               .D.......  (from 1 to INT_MAX) (default 48000)\n  -channels                  .D.......  (from 1 to INT_MAX) (default 2)\nfbdev indev AVOptions:\n  -framerate          .D.......  (default \"25\")\nlavfi indev AVOptions:\n  -graph                  .D....... set libavfilter graph\n  -graph_file             .D....... set libavfilter graph filename\n  -dumpgraph              .D....... dump graph to stderr\nOSS demuxer AVOptions:\n  -sample_rate               .D.......  (from 1 to INT_MAX) (default 48000)\n  -channels                  .D.......  (from 1 to INT_MAX) (default 2)\nV4L2 indev AVOptions:\n  -standard               .D....... set TV standard, used only by analog frame grabber\n  -channel                   .D....... set TV channel, used only by frame grabber (from -1 to INT_MAX) (default -1)\n  -video_size         .D....... set frame size\n  -pixel_format           .D....... set preferred pixel format\n  -input_format           .D....... set preferred pixel format (for raw video) or codec name\n  -framerate              .D....... set frame rate\n  -list_formats              .D....... list available formats and exit (from 0 to INT_MAX) (default 0)\n     all                          .D....... show all available formats\n     raw                          .D....... show only non-compressed formats\n     compressed                   .D....... show only compressed formats\n  -list_standards            .D....... list supported standards and exit (from 0 to 1) (default 0)\n     all                          .D....... show all supported standards\n  -timestamps                .D....... set type of timestamps for grabbed frames (from 0 to 2) (default default)\n     default                      .D....... use timestamps from the kernel\n     abs                          .D....... use absolute timestamps (wall clock)\n     mono2abs                     .D....... force conversion from monotonic to absolute timestamps\n  -ts                        .D....... set type of timestamps for grabbed frames (from 0 to 2) (default default)\n     default                      .D....... use timestamps from the kernel\n     abs                          .D....... use absolute timestamps (wall clock)\n     mono2abs                     .D....... force conversion from monotonic to absolute timestamps\n  -use_libv4l2           .D....... use libv4l2 (v4l-utils) conversion functions (default false)\nxcbgrab indev AVOptions:\n  -x                         .D....... Initial x coordinate. (from 0 to INT_MAX) (default 0)\n  -y                         .D....... Initial y coordinate. (from 0 to INT_MAX) (default 0)\n  -grab_x                    .D....... Initial x coordinate. (from 0 to INT_MAX) (default 0)\n  -grab_y                    .D....... Initial y coordinate. (from 0 to INT_MAX) (default 0)\n  -video_size             .D....... A string describing frame size, such as 640x480 or hd720. (default \"vga\")\n  -framerate              .D.......  (default \"ntsc\")\n  -draw_mouse                .D....... Draw the mouse pointer. (from 0 to 1) (default 1)\n  -follow_mouse              .D....... Move the grabbing region when the mouse pointer reaches within specified amount of pixels to the edge of region. (from -1 to INT_MAX) (default 0)\n     centered                     .D....... Keep the mouse pointer at the center of grabbing region when following.\n  -show_region               .D....... Show the grabbing region. (from 0 to 1) (default 0)\n  -region_border             .D....... Set the region border thickness. (from 1 to 128) (default 3)\nADTS muxer AVOptions:\nAIFF muxer AVOptions:\nAPNG muxer AVOptions:\nASF muxer AVOptions:\nass muxer AVOptions:\nAST muxer AVOptions:\nASF stream muxer AVOptions:\nAVI muxer AVOptions:\ndash muxer AVOptions:\nf4v muxer AVOptions:\nFifo muxer AVOptions:\nFifo test muxer AVOptions:\nflac muxer AVOptions:\nflv muxer AVOptions:\nframe hash encoder class AVOptions:\nframe hash encoder class AVOptions:\nGIF muxer AVOptions:\nhash encoder class AVOptions:\nHDS muxer AVOptions:\nhls muxer AVOptions:\nimage2 muxer AVOptions:\nipod muxer AVOptions:\nismv muxer AVOptions:\nLATM/LOAS muxer AVOptions:\nMD5 encoder class AVOptions:\nmatroska muxer AVOptions:\nmatroska audio muxer AVOptions:\nmov muxer AVOptions:\nMP3 muxer AVOptions:\nmp4 muxer AVOptions:\nmpeg muxer AVOptions:\nvcd muxer AVOptions:\ndvd muxer AVOptions:\nsvcd muxer AVOptions:\nvob muxer AVOptions:\nMPEGTS muxer AVOptions:\nmpjpeg_muxer AVOptions:\nMXF muxer AVOptions:\nMXF-D10 muxer AVOptions:\nMXF-OPAtom muxer AVOptions:\nnutenc AVOptions:\nOgg audio muxer AVOptions:\nOgg muxer AVOptions:\nOgg video muxer AVOptions:\nOgg Opus muxer AVOptions:\npsp muxer AVOptions:\nRTP muxer AVOptions:\nRTSP muxer AVOptions:\n  -initial_pause         .D....... do not start playing the stream immediately (default false)\n  -rtsp_transport          ED....... set RTSP transport protocols (default 0)\n     udp                          ED....... UDP\n     tcp                          ED....... TCP\n     udp_multicast                .D....... UDP multicast\n     http                         .D....... HTTP tunneling\n  -rtsp_flags              .D....... set RTSP flags (default 0)\n     filter_src                   .D....... only receive packets from the negotiated peer IP\n     listen                       .D....... wait for incoming connections\n     prefer_tcp                   ED....... try RTP via TCP first, if available\n  -allowed_media_types       .D....... set media types to accept from the server (default video+audio+data+subtitle)\n     video                        .D....... Video\n     audio                        .D....... Audio\n     data                         .D....... Data\n     subtitle                     .D....... Subtitle\n  -min_port                  ED....... set minimum local UDP port (from 0 to 65535) (default 5000)\n  -max_port                  ED....... set maximum local UDP port (from 0 to 65535) (default 65000)\n  -listen_timeout            .D....... set maximum timeout (in seconds) to wait for incoming connections (-1 is infinite, imply flag listen) (from INT_MIN to INT_MAX) (default -1)\n  -timeout                   .D....... set maximum timeout (in seconds) to wait for incoming connections (-1 is infinite, imply flag listen) (deprecated, use listen_timeout) (from INT_MIN to INT_MAX) (default -1)\n  -stimeout                  .D....... set timeout (in microseconds) of socket TCP I/O operations (from INT_MIN to INT_MAX) (default 0)\n  -reorder_queue_size         .D....... set number of packets to buffer for handling of reordered packets (from -1 to INT_MAX) (default -1)\n  -buffer_size               ED....... Underlying protocol send/receive buffer size (from -1 to INT_MAX) (default -1)\n  -user_agent             .D....... override User-Agent header (default \"Lavf58.12.100\")\n  -user-agent             .D....... override User-Agent header (deprecated, use user_agent) (default \"Lavf58.12.100\")\nsegment muxer AVOptions:\nstream_segment muxer AVOptions:\nsmooth streaming muxer AVOptions:\nOgg Speex muxer AVOptions:\nspdif AVOptions:\nTee muxer AVOptions:\ntg2 muxer AVOptions:\ntgp muxer AVOptions:\nWAV muxer AVOptions:\nwebm muxer AVOptions:\nWebM DASH Manifest muxer AVOptions:\nWebM Chunk Muxer AVOptions:\nWebP muxer AVOptions:\nfbdev outdev AVOptions:\nAVCodecContext AVOptions:\n  -flags                   ED.VAS... (default 0)\n     unaligned                    .D.V..... allow decoders to produce unaligned output\n     gray                         ED.V..... only decode/encode grayscale\n     truncated                    .D.V..... Input bitstream might be randomly truncated\n     low_delay                    ED.V..... force low delay\n     bitexact                     ED.VAS... use only bitexact functions (except (I)DCT)\n     output_corrupt               .D.V..... Output even potentially corrupted frames\n  -ar                        ED..A.... set audio sampling rate (in Hz) (from 0 to INT_MAX) (default 0)\n  -ac                        ED..A.... set number of audio channels (from 0 to INT_MAX) (default 0)\n  -bug                     .D.V..... work around not autodetected encoder bugs (default autodetect)\n     autodetect                   .D.V.....\n     xvid_ilace                   .D.V..... Xvid interlacing bug (autodetected if FOURCC == XVIX)\n     ump4                         .D.V..... (autodetected if FOURCC == UMP4)\n     no_padding                   .D.V..... padding bug (autodetected)\n     amv                          .D.V.....\n     qpel_chroma                  .D.V.....\n     std_qpel                     .D.V..... old standard qpel (autodetected per FOURCC/version)\n     qpel_chroma2                 .D.V.....\n     direct_blocksize              .D.V..... direct-qpel-blocksize bug (autodetected per FOURCC/version)\n     edge                         .D.V..... edge padding bug (autodetected per FOURCC/version)\n     hpel_chroma                  .D.V.....\n     dc_clip                      .D.V.....\n     ms                           .D.V..... work around various bugs in Microsoft's broken decoders\n     trunc                        .D.V..... truncated frames\n     iedge                        .D.V.....\n  -strict                    ED.VA.... how strictly to follow the standards (from INT_MIN to INT_MAX) (default normal)\n     very                         ED.VA.... strictly conform to a older more strict version of the spec or reference software\n     strict                       ED.VA.... strictly conform to all the things in the spec no matter what the consequences\n     normal                       ED.VA....\n     unofficial                   ED.VA.... allow unofficial extensions\n     experimental                 ED.VA.... allow non-standardized experimental things\n  -err_detect              .D.VA.... set error detection flags (default 0)\n     crccheck                     .D.VA.... verify embedded CRCs\n     bitstream                    .D.VA.... detect bitstream specification deviations\n     buffer                       .D.VA.... detect improper bitstream length\n     explode                      .D.VA.... abort decoding on minor error detection\n     ignore_err                   .D.VA.... ignore errors\n     careful                      .D.VA.... consider things that violate the spec, are fast to check and have not been seen in the wild as errors\n     compliant                    .D.VA.... consider all spec non compliancies as errors\n     aggressive                   .D.VA.... consider things that a sane encoder should not do as an error\n  -idct                      ED.V..... select IDCT implementation (from 0 to INT_MAX) (default auto)\n     auto                         ED.V.....\n     int                          ED.V.....\n     simple                       ED.V.....\n     simplemmx                    ED.V.....\n     arm                          ED.V.....\n     altivec                      ED.V.....\n     simplearm                    ED.V.....\n     simplearmv5te                ED.V.....\n     simplearmv6                  ED.V.....\n     simpleneon                   ED.V.....\n     xvid                         ED.V.....\n     xvidmmx                      ED.V..... deprecated, for compatibility only\n     faani                        ED.V..... floating point AAN IDCT\n     simpleauto                   ED.V.....\n  -ec                      .D.V..... set error concealment strategy (default guess_mvs+deblock)\n     guess_mvs                    .D.V..... iterative motion vector (MV) search (slow)\n     deblock                      .D.V..... use strong deblock filter for damaged MBs\n     favor_inter                  .D.V..... favor predicting from the previous frame\n  -debug                   ED.VAS... print specific debug info (default 0)\n     pict                         .D.V..... picture info\n     bitstream                    .D.V.....\n     mb_type                      .D.V..... macroblock (MB) type\n     qp                           .D.V..... per-block quantization parameter (QP)\n     dct_coeff                    .D.V.....\n     green_metadata               .D.V.....\n     skip                         .D.V.....\n     startcode                    .D.V.....\n     er                           .D.V..... error recognition\n     mmco                         .D.V..... memory management control operations (H.264)\n     bugs                         .D.V.....\n     buffers                      .D.V..... picture buffer allocations\n     thread_ops                   .D.VA.... threading operations\n     nomc                         .D.VA.... skip motion compensation\n  -flags2                  ED.VA.... (default 0)\n     ignorecrop                   .D.V..... ignore cropping information from sps\n     chunks                       .D.V..... Frame data might be split into multiple chunks\n     showall                      .D.V..... Show all frames before the first keyframe\n     export_mvs                   .D.V..... export motion vectors through frame side data\n     skip_manual                  .D.V..... do not skip samples and export skip information as frame side data\n     ass_ro_flush_noop              .D...S... do not reset ASS ReadOrder field on flush\n  -threads                   ED.VA.... set the number of threads (from 0 to INT_MAX) (default 1)\n     auto                         ED.V..... autodetect a suitable number of threads to use\n  -skip_top                  .D.V..... number of macroblock rows at the top which are skipped (from INT_MIN to INT_MAX) (default 0)\n  -skip_bottom               .D.V..... number of macroblock rows at the bottom which are skipped (from INT_MIN to INT_MAX) (default 0)\n  -lowres                    .D.VA.... decode at 1= 1/2, 2=1/4, 3=1/8 resolutions (from 0 to INT_MAX) (default 0)\n  -skip_loop_filter          .D.V..... skip loop filtering process for the selected frames (from INT_MIN to INT_MAX) (default default)\n     none                         .D.V..... discard no frame\n     default                      .D.V..... discard useless frames\n     noref                        .D.V..... discard all non-reference frames\n     bidir                        .D.V..... discard all bidirectional frames\n     nokey                        .D.V..... discard all frames except keyframes\n     nointra                      .D.V..... discard all frames except I frames\n     all                          .D.V..... discard all frames\n  -skip_idct                 .D.V..... skip IDCT/dequantization for the selected frames (from INT_MIN to INT_MAX) (default default)\n     none                         .D.V..... discard no frame\n     default                      .D.V..... discard useless frames\n     noref                        .D.V..... discard all non-reference frames\n     bidir                        .D.V..... discard all bidirectional frames\n     nokey                        .D.V..... discard all frames except keyframes\n     nointra                      .D.V..... discard all frames except I frames\n     all                          .D.V..... discard all frames\n  -skip_frame                .D.V..... skip decoding for the selected frames (from INT_MIN to INT_MAX) (default default)\n     none                         .D.V..... discard no frame\n     default                      .D.V..... discard useless frames\n     noref                        .D.V..... discard all non-reference frames\n     bidir                        .D.V..... discard all bidirectional frames\n     nokey                        .D.V..... discard all frames except keyframes\n     nointra                      .D.V..... discard all frames except I frames\n     all                          .D.V..... discard all frames\n  -channel_layout         ED..A.... (from 0 to 1.84467e+19) (default 0)\n  -request_channel_layout      .D..A.... (from 0 to 1.84467e+19) (default 0)\n  -ticks_per_frame           ED.VA.... (from 1 to INT_MAX) (default 1)\n  -color_primaries           ED.V..... color primaries (from 1 to INT_MAX) (default unknown)\n     bt709                        ED.V..... BT.709\n     unknown                      ED.V..... Unspecified\n     bt470m                       ED.V..... BT.470 M\n     bt470bg                      ED.V..... BT.470 BG\n     smpte170m                    ED.V..... SMPTE 170 M\n     smpte240m                    ED.V..... SMPTE 240 M\n     film                         ED.V..... Film\n     bt2020                       ED.V..... BT.2020\n     smpte428                     ED.V..... SMPTE 428-1\n     smpte428_1                   ED.V..... SMPTE 428-1\n     smpte431                     ED.V..... SMPTE 431-2\n     smpte432                     ED.V..... SMPTE 422-1\n     jedec-p22                    ED.V..... JEDEC P22\n     unspecified                  ED.V..... Unspecified\n  -color_trc                 ED.V..... color transfer characteristics (from 1 to INT_MAX) (default unknown)\n     bt709                        ED.V..... BT.709\n     unknown                      ED.V..... Unspecified\n     gamma22                      ED.V..... BT.470 M\n     gamma28                      ED.V..... BT.470 BG\n     smpte170m                    ED.V..... SMPTE 170 M\n     smpte240m                    ED.V..... SMPTE 240 M\n     linear                       ED.V..... Linear\n     log100                       ED.V..... Log\n     log316                       ED.V..... Log square root\n     iec61966-2-4                 ED.V..... IEC 61966-2-4\n     bt1361e                      ED.V..... BT.1361\n     iec61966-2-1                 ED.V..... IEC 61966-2-1\n     bt2020-10                    ED.V..... BT.2020 - 10 bit\n     bt2020-12                    ED.V..... BT.2020 - 12 bit\n     smpte2084                    ED.V..... SMPTE 2084\n     smpte428                     ED.V..... SMPTE 428-1\n     arib-std-b67                 ED.V..... ARIB STD-B67\n     unspecified                  ED.V..... Unspecified\n     log                          ED.V..... Log\n     log_sqrt                     ED.V..... Log square root\n     iec61966_2_4                 ED.V..... IEC 61966-2-4\n     bt1361                       ED.V..... BT.1361\n     iec61966_2_1                 ED.V..... IEC 61966-2-1\n     bt2020_10bit                 ED.V..... BT.2020 - 10 bit\n     bt2020_12bit                 ED.V..... BT.2020 - 12 bit\n     smpte428_1                   ED.V..... SMPTE 428-1\n  -colorspace                ED.V..... color space (from 0 to INT_MAX) (default unknown)\n     rgb                          ED.V..... RGB\n     bt709                        ED.V..... BT.709\n     unknown                      ED.V..... Unspecified\n     fcc                          ED.V..... FCC\n     bt470bg                      ED.V..... BT.470 BG\n     smpte170m                    ED.V..... SMPTE 170 M\n     smpte240m                    ED.V..... SMPTE 240 M\n     ycgco                        ED.V..... YCGCO\n     bt2020nc                     ED.V..... BT.2020 NCL\n     bt2020c                      ED.V..... BT.2020 CL\n     smpte2085                    ED.V..... SMPTE 2085\n     unspecified                  ED.V..... Unspecified\n     ycocg                        ED.V..... YCGCO\n     bt2020_ncl                   ED.V..... BT.2020 NCL\n     bt2020_cl                    ED.V..... BT.2020 CL\n  -color_range               ED.V..... color range (from 0 to INT_MAX) (default unknown)\n     unknown                      ED.V..... Unspecified\n     tv                           ED.V..... MPEG (2192^(n-8))\n     pc                           ED.V..... JPEG (2^n-1)\n     unspecified                  ED.V..... Unspecified\n     mpeg                         ED.V..... MPEG (2192^(n-8))\n     jpeg                         ED.V..... JPEG (2^n-1)\n  -chroma_sample_location         ED.V..... chroma sample location (from 0 to INT_MAX) (default unknown)\n     unknown                      ED.V..... Unspecified\n     left                         ED.V..... Left\n     center                       ED.V..... Center\n     topleft                      ED.V..... Top-left\n     top                          ED.V..... Top\n     bottomleft                   ED.V..... Bottom-left\n     bottom                       ED.V..... Bottom\n     unspecified                  ED.V..... Unspecified\n  -thread_type             ED.VA.... select multithreading type (default slice+frame)\n     slice                        ED.V.....\n     frame                        ED.V.....\n  -request_sample_fmt  .D..A.... sample format audio decoders should prefer (default none)\n  -sub_charenc            .D...S... set input text subtitles character encoding\n  -sub_charenc_mode        .D...S... set input text subtitles character encoding mode (default 0)\n     do_nothing                   .D...S...\n     auto                         .D...S...\n     pre_decoder                  .D...S...\n     ignore                       .D...S...\n  -sub_text_format           .D...S... set decoded text subtitle format (from 0 to 1) (default ass_with_timings)\n     ass                          .D...S...\n     ass_with_timings              .D...S...\n  -refcounted_frames     .D.VA.... (default false)\n  -apply_cropping        .D.V..... (default true)\n  -skip_alpha            .D.V..... Skip processing alpha (default false)\n  -field_order               ED.V..... Field order (from 0 to 5) (default 0)\n     progressive                  ED.V.....\n     tt                           ED.V.....\n     bb                           ED.V.....\n     tb                           ED.V.....\n     bt                           ED.V.....\n  -dump_separator         ED.VAS... set information dump field separator\n  -codec_whitelist        .D.VAS... List of decoders that are allowed to be used\n  -max_pixels              ED.VAS... Maximum number of pixels (from 0 to INT_MAX) (default INT_MAX)\n  -hwaccel_flags           .D.V..... (default ignore_level)\n     ignore_level                 .D.V..... ignore level even if the codec level used is unknown or higher than the maximum supported level reported by the hardware driver\n     allow_high_depth              .D.V..... allow to output YUV pixel formats with a different chroma sampling than 4:2:0 and/or other than 8 bits per component\n     allow_profile_mismatch              .D.V..... attempt to decode anyway if HW accelerated decoder's supported profiles do not exactly match the stream\n  -extra_hw_frames           .D.V..... Number of extra hardware frames to allocate for the user (from -1 to INT_MAX) (default -1)\namv encoder AVOptions:\nAPNG encoder AVOptions:\ncinepak AVOptions:\ncljr encoder AVOptions:\ndnxhd AVOptions:\ndvvideo encoder AVOptions:\nffv1 encoder AVOptions:\nffvhuff AVOptions:\nflv encoder AVOptions:\nGIF encoder AVOptions:\nh261 encoder AVOptions:\nH.263 encoder AVOptions:\nH.263p encoder AVOptions:\nhuffyuv AVOptions:\njpeg 2000 encoder AVOptions:\njpegls AVOptions:\nljpeg AVOptions:\nmagicyuv AVOptions:\nmjpeg encoder AVOptions:\nmpeg1video encoder AVOptions:\nmpeg2video encoder AVOptions:\nMPEG4 encoder AVOptions:\nmsmpeg4v2 encoder AVOptions:\nmsmpeg4v3 encoder AVOptions:\nPNG encoder AVOptions:\nProRes encoder AVOptions:\nRoQ AVOptions:\nrv10 encoder AVOptions:\nrv20 encoder AVOptions:\nsgi AVOptions:\nsnow encoder AVOptions:\nsunrast AVOptions:\nsvq1enc AVOptions:\ntarga AVOptions:\nTIFF encoder AVOptions:\nutvideo AVOptions:\nSMPTE VC-2 encoder AVOptions:\nwmv1 encoder AVOptions:\nwmv2 encoder AVOptions:\nAAC encoder AVOptions:\nAC-3 Encoder AVOptions:\nFixed-Point AC-3 Encoder AVOptions:\nalacenc AVOptions:\nDCA (DTS Coherent Acoustics) AVOptions:\nE-AC-3 Encoder AVOptions:\nFLAC encoder AVOptions:\nOpus encoder AVOptions:\nsbc encoder AVOptions:\nWavPack encoder AVOptions:\ng726 AVOptions:\ng726le AVOptions:\nVOBSUB subtitle encoder AVOptions:\nEXR AVOptions:\n  -layer                  .D.V..... Set the decoding layer (default \"\")\n  -gamma                   .D.V..... Set the float gamma value when decoding (from 0.001 to FLT_MAX) (default 1)\n  -apply_trc                 .D.V..... color transfer characteristics to apply to EXR linear input (from 1 to 18) (default gamma)\n     bt709                        .D.V..... BT.709\n     gamma                        .D.V..... gamma\n     gamma22                      .D.V..... BT.470 M\n     gamma28                      .D.V..... BT.470 BG\n     smpte170m                    .D.V..... SMPTE 170 M\n     smpte240m                    .D.V..... SMPTE 240 M\n     linear                       .D.V..... Linear\n     log                          .D.V..... Log\n     log_sqrt                     .D.V..... Log square root\n     iec61966_2_4                 .D.V..... IEC 61966-2-4\n     bt1361                       .D.V..... BT.1361\n     iec61966_2_1                 .D.V..... IEC 61966-2-1\n     bt2020_10bit                 .D.V..... BT.2020 - 10 bit\n     bt2020_12bit                 .D.V..... BT.2020 - 12 bit\n     smpte2084                    .D.V..... SMPTE ST 2084\n     smpte428_1                   .D.V..... SMPTE ST 428-1\nFIC encoder AVOptions:\n  -skip_cursor           .D.V..... skip the cursor (default false)\nFITS decoder AVOptions:\n  -blank_value               .D.V..... value that is used to replace BLANK pixels in data array (from 0 to 65535) (default 0)\nfrwu Decoder AVOptions:\n  -change_field_order     .D.V..... Change field order (default false)\ngif decoder AVOptions:\n  -trans_color               .D.V..... color value (ARGB) that is used instead of transparent color (from 0 to UINT32_MAX) (default 1.67772e+07)\nH264 Decoder AVOptions:\n  -enable_er             .D.V..... Enable error resilience on damaged frames (unsafe) (default auto)\n  -x264_build                .D.V..... Assume this x264 version if no x264 version found in any SEI (from -1 to INT_MAX) (default -1)\nHEVC decoder AVOptions:\n  -apply_defdispwin      .D.V..... Apply default display window from VUI (default false)\n  -strict-displaywin     .D.V..... stricly apply default display window size (default false)\njpeg2000 AVOptions:\n  -lowres                    .D.V..... Lower the decoding resolution by a power of two (from 0 to 33) (default 0)\nMJPEG decoder AVOptions:\n  -extern_huff           .D.V..... Use external huffman table. (default false)\nMPEG4 Video Decoder AVOptions:\nrawdec AVOptions:\n  -top                   .D.V..... top field first (default auto)\nSMPTE 302M Decoder AVOptions:\n  -non_pcm_mode              .D..A.... Chooses what to do with NON-PCM (from 0 to 3) (default decode_drop)\n     copy                         .D..A.... Pass NON-PCM through unchanged\n     drop                         .D..A.... Drop NON-PCM\n     decode_copy                  .D..A.... Decode if possible else passthrough\n     decode_drop                  .D..A.... Decode if possible else drop\nV210 Decoder AVOptions:\n  -custom_stride             .D.V..... Custom V210 stride (from INT_MIN to INT_MAX) (default 0)\nAAC decoder AVOptions:\n  -dual_mono_mode            .D..A.... Select the channel to decode for dual mono (from -1 to 2) (default auto)\n     auto                         .D..A.... autoselection\n     main                         .D..A.... Select Main/Left channel\n     sub                          .D..A.... Select Sub/Right channel\n     both                         .D..A.... Select both channels\nAC3 decoder AVOptions:\n  -cons_noisegen         .D..A.... enable consistent noise generation (default false)\n  -drc_scale               .D..A.... percentage of dynamic range compression to apply (from 0 to 6) (default 1)\n  -heavy_compr           .D..A.... enable heavy dynamic range compression (default false)\n  -target_level              .D..A.... target level in -dBFS (0 not applied) (from -31 to 0) (default 0)\nFixed-Point AC-3 Decoder AVOptions:\n  -cons_noisegen         .D..A.... enable consistent noise generation (default false)\n  -drc_scale               .D..A.... percentage of dynamic range compression to apply (from 0 to 6) (default 1)\n  -heavy_compr           .D..A.... enable heavy dynamic range compression (default false)\nalac AVOptions:\n  -extra_bits_bug        .D..A.... Force non-standard decoding process (default false)\nAPE decoder AVOptions:\n  -max_samples               .D..A.... maximum number of samples decoded per call (from 1 to INT_MAX) (default 4608)\n     all                          .D..A.... no maximum. decode all samples for each packet at once\nDCA decoder AVOptions:\n  -core_only             .D..A.... Decode core only without extensions (default false)\nE-AC3 decoder AVOptions:\n  -cons_noisegen         .D..A.... enable consistent noise generation (default false)\n  -drc_scale               .D..A.... percentage of dynamic range compression to apply (from 0 to 6) (default 1)\n  -heavy_compr           .D..A.... enable heavy dynamic range compression (default false)\n  -target_level              .D..A.... target level in -dBFS (0 not applied) (from -31 to 0) (default 0)\nevrc AVOptions:\n  -postfilter            .D..A.... enable postfilter (default true)\nFLAC decoder AVOptions:\n  -use_buggy_lpc         .D..A.... emulate old buggy lavc behavior (default false)\nG.723.1 decoder AVOptions:\n  -postfilter            .D..A.... enable postfilter (default true)\nOpus Decoder AVOptions:\n  -apply_phase_inv       .D..A.... Apply intensity stereo phase inversion (default true)\nTTA Decoder AVOptions:\n  -password               .D..A.... Set decoding password\ng722 decoder AVOptions:\n  -bits_per_codeword         .D..A.... Bits per G722 codeword (from 6 to 8) (default 8)\nClosed caption Decoder AVOptions:\n  -real_time             .D...S... emit subtitle events as they are decoded for real-time display (default false)\nDVB Sub Decoder AVOptions:\n  -compute_edt           .D...S... compute end of time using pts or timeout (default false)\n  -compute_clut          .D...S... compute clut when not available(-1) or always(1) or never(0) (default auto)\n  -dvb_substream             .D...S...  (from -1 to 63) (default -1)\ndvdsubdec AVOptions:\n  -palette                .D...S... set the global palette\n  -ifo_palette            .D...S... obtain the global palette from .IFO file\n  -forced_subs_only      .D...S... Only show forced subtitles (default false)\nPGS subtitle decoder AVOptions:\n  -forced_subs_only      .D...S... Only show forced subtitles (default false)\npjs decoder AVOptions:\n  -keep_ass_markup       .D...S... Set if ASS tags must be escaped (default false)\nstl decoder AVOptions:\n  -keep_ass_markup       .D...S... Set if ASS tags must be escaped (default false)\nsubviewer1 decoder AVOptions:\n  -keep_ass_markup       .D...S... Set if ASS tags must be escaped (default false)\ntext decoder AVOptions:\n  -keep_ass_markup       .D...S... Set if ASS tags must be escaped (default false)\nvplayer decoder AVOptions:\n  -keep_ass_markup       .D...S... Set if ASS tags must be escaped (default false)\n``\nAnd I can use php cli mode to exec php file to save a frame from video.. I edited the php-fpm.conf and use root to execute php-fpm, after that I saw the same errors.. It return 0. But I don't know if I get your point.\nI execute/usr/local/php5/bin/php test.php`\ntest.php\n```\n<?php\nexec(\"/usr/local/bin/ffprobe -help -loglevel quiet\", $output, $return);\nvar_export($return);\necho \"\\n\\n\";\n. @kavin-90 I'm trying to use php 5.6.33. But I think change version is a very dangerous thing in production environment.. @jens1o @kavin-90 I try to install a new environment includes nginx(1.14.0) / php(5.6.36) / gcc(6.3.0) / ffprobe(4.0.2) / ffmpeg(4.0.2). and give me a same problem:\n\nFatal error:  Uncaught exception 'Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException' with message 'ffprobe failed to execute command '/usr/local/bin/ffprobe' '-help' '-loglevel' 'quiet'' in /data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php:100\nStack trace:\n0 /data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php(72): Alchemy\\BinaryDriver\\ProcessRunner->doExecutionFailure(''/usr/local/bin...')\n1 /data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(209): Alchemy\\BinaryDriver\\ProcessRunner->run(Object(Symfony\\Component\\Process\\Process), Object(SplObjectStorage), false)\n2 /data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php(137): Alchemy\\BinaryDriver\\AbstractBinary->run(Object(Symfony\\Component\\Process\\Process), false, NULL)\n3 /data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php(61): Alchemy\\BinaryDriver\\AbstractBinary->command(Array)\n4 /data/upload/vendor/php- in\n/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php on line\n63\n\nWhat can I do now?  PHP 5.4.37 / PHP 5.6.33 / PHP 5.6.36 and the last one is on a new environment.. @jens1o\nobject(FFMpeg\\Exception\\RuntimeException)#29 (7) {\n  [\"message\":protected]=>\n  string(84) \"Your FFProbe version is too old and does not support -help option, please upgrade.\"\n  [\"string\":\"Exception\":private]=>\n  string(0) \"\"\n  [\"code\":protected]=>\n  int(0)\n  [\"file\":protected]=>\n  string(78) \"/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php\"\n  [\"line\":protected]=>\n  int(63)\n  [\"trace\":\"Exception\":private]=>\n  array(6) {\n    [0]=>\n    array(6) {\n      [\"file\"]=>\n      string(78) \"/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php\"\n      [\"line\"]=>\n      int(43)\n      [\"function\"]=>\n      string(18) \"retrieveHelpOutput\"\n      [\"class\"]=>\n      string(28) \"FFMpeg\\FFProbe\\OptionsTester\"\n      [\"type\"]=>\n      string(2) \"->\"\n      [\"args\"]=>\n      array(0) {\n      }\n    }\n    [1]=>\n    array(6) {\n      [\"file\"]=>\n      string(64) \"/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php\"\n      [\"line\"]=>\n      int(237)\n      [\"function\"]=>\n      string(3) \"has\"\n      [\"class\"]=>\n      string(28) \"FFMpeg\\FFProbe\\OptionsTester\"\n      [\"type\"]=>\n      string(2) \"->\"\n      [\"args\"]=>\n      array(1) {\n        [0]=>\n        &string(13) \"-show_streams\"\n      }\n    }\n    [2]=>\n    array(6) {\n      [\"file\"]=>\n      string(64) \"/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php\"\n      [\"line\"]=>\n      int(206)\n      [\"function\"]=>\n      string(5) \"probe\"\n      [\"class\"]=>\n      string(14) \"FFMpeg\\FFProbe\"\n      [\"type\"]=>\n      string(2) \"->\"\n      [\"args\"]=>\n      array(3) {\n        [0]=>\n        &string(33) \"/data/upload/upload/test/test.mp4\"\n        [1]=>\n        &string(13) \"-show_streams\"\n        [2]=>\n        &string(7) \"streams\"\n      }\n    }\n    [3]=>\n    array(6) {\n      [\"file\"]=>\n      string(63) \"/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFMpeg.php\"\n      [\"line\"]=>\n      int(92)\n      [\"function\"]=>\n      string(7) \"streams\"\n      [\"class\"]=>\n      string(14) \"FFMpeg\\FFProbe\"\n      [\"type\"]=>\n      string(2) \"->\"\n      [\"args\"]=>\n      array(1) {\n        [0]=>\n        &string(33) \"/data/upload/upload/test/test.mp4\"\n      }\n    }\n    [4]=>\n    array(6) {\n      [\"file\"]=>\n      string(23) \"/data/upload/upload.php\"\n      [\"line\"]=>\n      int(54)\n      [\"function\"]=>\n      string(4) \"open\"\n      [\"class\"]=>\n      string(13) \"FFMpeg\\FFMpeg\"\n      [\"type\"]=>\n      string(2) \"->\"\n      [\"args\"]=>\n      array(1) {\n        [0]=>\n        &string(33) \"/data/upload/upload/test/test.mp4\"\n      }\n    }\n    [5]=>\n    array(4) {\n      [\"file\"]=>\n      string(23) \"/data/upload/upload.php\"\n      [\"line\"]=>\n      int(32)\n      [\"function\"]=>\n      string(14) \"frameFromVideo\"\n      [\"args\"]=>\n      array(1) {\n        [0]=>\n        &string(33) \"/data/upload/upload/test/test.mp4\"\n      }\n    }\n  }\n  [\"previous\":\"Exception\":private]=>\n  object(Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException)#28 (7) {\n    [\"message\":protected]=>\n    string(86) \"ffprobe failed to execute command '/usr/local/bin/ffprobe' '-help' '-loglevel' 'quiet'\"\n    [\"string\":\"Exception\":private]=>\n    string(0) \"\"\n    [\"code\":protected]=>\n    int(0)\n    [\"file\":protected]=>\n    string(84) \"/data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php\"\n    [\"line\":protected]=>\n    int(100)\n    [\"trace\":\"Exception\":private]=>\n    array(10) {\n      [0]=>\n      array(6) {\n        [\"file\"]=>\n        string(84) \"/data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php\"\n        [\"line\"]=>\n        int(72)\n        [\"function\"]=>\n        string(18) \"doExecutionFailure\"\n        [\"class\"]=>\n        string(34) \"Alchemy\\BinaryDriver\\ProcessRunner\"\n        [\"type\"]=>\n        string(2) \"->\"\n        [\"args\"]=>\n        array(1) {\n          [0]=>\n          string(52) \"'/usr/local/bin/ffprobe' '-help' '-loglevel' 'quiet'\"\n        }\n      }\n      [1]=>\n      array(6) {\n        [\"file\"]=>\n        string(85) \"/data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php\"\n        [\"line\"]=>\n        int(209)\n        [\"function\"]=>\n        string(3) \"run\"\n        [\"class\"]=>\n        string(34) \"Alchemy\\BinaryDriver\\ProcessRunner\"\n        [\"type\"]=>\n        string(2) \"->\"\n        [\"args\"]=>\n        array(3) {\n          [0]=>\n          object(Symfony\\Component\\Process\\Process)#18 (29) {\n            [\"callback\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n            [\"hasCallback\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(true)\n            [\"commandline\":\"Symfony\\Component\\Process\\Process\":private]=>\n            string(52) \"'/usr/local/bin/ffprobe' '-help' '-loglevel' 'quiet'\"\n            [\"cwd\":\"Symfony\\Component\\Process\\Process\":private]=>\n            string(12) \"/data/upload\"\n            [\"env\":\"Symfony\\Component\\Process\\Process\":private]=>\n            array(0) {\n            }\n            [\"input\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n            [\"starttime\":\"Symfony\\Component\\Process\\Process\":private]=>\n            float(1533603519.4275)\n            [\"lastOutputTime\":\"Symfony\\Component\\Process\\Process\":private]=>\n            float(1533603519.43)\n            [\"timeout\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n            [\"idleTimeout\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n            [\"options\":\"Symfony\\Component\\Process\\Process\":private]=>\n            array(1) {\n              [\"suppress_errors\"]=>\n              bool(true)\n            }\n            [\"exitcode\":\"Symfony\\Component\\Process\\Process\":private]=>\n            int(127)\n            [\"fallbackStatus\":\"Symfony\\Component\\Process\\Process\":private]=>\n            array(0) {\n            }\n            [\"processInformation\":\"Symfony\\Component\\Process\\Process\":private]=>\n            array(8) {\n              [\"command\"]=>\n              string(52) \"'/usr/local/bin/ffprobe' '-help' '-loglevel' 'quiet'\"\n              [\"pid\"]=>\n              int(29767)\n              [\"running\"]=>\n              bool(false)\n              [\"signaled\"]=>\n              bool(false)\n              [\"stopped\"]=>\n              bool(false)\n              [\"exitcode\"]=>\n              int(127)\n              [\"termsig\"]=>\n              int(0)\n              [\"stopsig\"]=>\n              int(0)\n            }\n            [\"outputDisabled\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(false)\n            [\"stdout\":\"Symfony\\Component\\Process\\Process\":private]=>\n            resource(53) of type (stream)\n            [\"stderr\":\"Symfony\\Component\\Process\\Process\":private]=>\n            resource(55) of type (stream)\n            [\"enhanceWindowsCompatibility\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(true)\n            [\"enhanceSigchildCompatibility\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(false)\n            [\"process\":\"Symfony\\Component\\Process\\Process\":private]=>\n            resource(63) of type (Unknown)\n            [\"status\":\"Symfony\\Component\\Process\\Process\":private]=>\n            string(10) \"terminated\"\n            [\"incrementalOutputOffset\":\"Symfony\\Component\\Process\\Process\":private]=>\n            int(0)\n            [\"incrementalErrorOutputOffset\":\"Symfony\\Component\\Process\\Process\":private]=>\n            int(0)\n            [\"tty\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n            [\"pty\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(false)\n            [\"inheritEnv\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(true)\n            [\"useFileHandles\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(false)\n            [\"processPipes\":\"Symfony\\Component\\Process\\Process\":private]=>\n            object(Symfony\\Component\\Process\\Pipes\\UnixPipes)#30 (8) {\n              [\"ttyMode\":\"Symfony\\Component\\Process\\Pipes\\UnixPipes\":private]=>\n              bool(false)\n              [\"ptyMode\":\"Symfony\\Component\\Process\\Pipes\\UnixPipes\":private]=>\n              bool(false)\n              [\"haveReadSupport\":\"Symfony\\Component\\Process\\Pipes\\UnixPipes\":private]=>\n              bool(true)\n              [\"pipes\"]=>\n              array(0) {\n              }\n              [\"inputBuffer\":\"Symfony\\Component\\Process\\Pipes\\AbstractPipes\":private]=>\n              string(0) \"\"\n              [\"input\":\"Symfony\\Component\\Process\\Pipes\\AbstractPipes\":private]=>\n              NULL\n              [\"blocked\":\"Symfony\\Component\\Process\\Pipes\\AbstractPipes\":private]=>\n              bool(false)\n              [\"lastError\":\"Symfony\\Component\\Process\\Pipes\\AbstractPipes\":private]=>\n              NULL\n            }\n            [\"latestSignal\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n          }\n          [1]=>\n          object(SplObjectStorage)#13 (1) {\n            [\"storage\":\"SplObjectStorage\":private]=>\n            array(0) {\n            }\n          }\n          [2]=>\n          bool(false)\n        }\n      }\n      [2]=>\n      array(6) {\n        [\"file\"]=>\n        string(85) \"/data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php\"\n        [\"line\"]=>\n        int(137)\n        [\"function\"]=>\n        string(3) \"run\"\n        [\"class\"]=>\n        string(35) \"Alchemy\\BinaryDriver\\AbstractBinary\"\n        [\"type\"]=>\n        string(2) \"->\"\n        [\"args\"]=>\n        array(3) {\n          [0]=>\n          object(Symfony\\Component\\Process\\Process)#18 (29) {\n            [\"callback\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n            [\"hasCallback\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(true)\n            [\"commandline\":\"Symfony\\Component\\Process\\Process\":private]=>\n            string(52) \"'/usr/local/bin/ffprobe' '-help' '-loglevel' 'quiet'\"\n            [\"cwd\":\"Symfony\\Component\\Process\\Process\":private]=>\n            string(12) \"/data/upload\"\n            [\"env\":\"Symfony\\Component\\Process\\Process\":private]=>\n            array(0) {\n            }\n            [\"input\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n            [\"starttime\":\"Symfony\\Component\\Process\\Process\":private]=>\n            float(1533603519.4275)\n            [\"lastOutputTime\":\"Symfony\\Component\\Process\\Process\":private]=>\n            float(1533603519.43)\n            [\"timeout\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n            [\"idleTimeout\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n            [\"options\":\"Symfony\\Component\\Process\\Process\":private]=>\n            array(1) {\n              [\"suppress_errors\"]=>\n              bool(true)\n            }\n            [\"exitcode\":\"Symfony\\Component\\Process\\Process\":private]=>\n            int(127)\n            [\"fallbackStatus\":\"Symfony\\Component\\Process\\Process\":private]=>\n            array(0) {\n            }\n            [\"processInformation\":\"Symfony\\Component\\Process\\Process\":private]=>\n            array(8) {\n              [\"command\"]=>\n              string(52) \"'/usr/local/bin/ffprobe' '-help' '-loglevel' 'quiet'\"\n              [\"pid\"]=>\n              int(29767)\n              [\"running\"]=>\n              bool(false)\n              [\"signaled\"]=>\n              bool(false)\n              [\"stopped\"]=>\n              bool(false)\n              [\"exitcode\"]=>\n              int(127)\n              [\"termsig\"]=>\n              int(0)\n              [\"stopsig\"]=>\n              int(0)\n            }\n            [\"outputDisabled\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(false)\n            [\"stdout\":\"Symfony\\Component\\Process\\Process\":private]=>\n            resource(53) of type (stream)\n            [\"stderr\":\"Symfony\\Component\\Process\\Process\":private]=>\n            resource(55) of type (stream)\n            [\"enhanceWindowsCompatibility\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(true)\n            [\"enhanceSigchildCompatibility\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(false)\n            [\"process\":\"Symfony\\Component\\Process\\Process\":private]=>\n            resource(63) of type (Unknown)\n            [\"status\":\"Symfony\\Component\\Process\\Process\":private]=>\n            string(10) \"terminated\"\n            [\"incrementalOutputOffset\":\"Symfony\\Component\\Process\\Process\":private]=>\n            int(0)\n            [\"incrementalErrorOutputOffset\":\"Symfony\\Component\\Process\\Process\":private]=>\n            int(0)\n            [\"tty\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n            [\"pty\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(false)\n            [\"inheritEnv\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(true)\n            [\"useFileHandles\":\"Symfony\\Component\\Process\\Process\":private]=>\n            bool(false)\n            [\"processPipes\":\"Symfony\\Component\\Process\\Process\":private]=>\n            object(Symfony\\Component\\Process\\Pipes\\UnixPipes)#30 (8) {\n              [\"ttyMode\":\"Symfony\\Component\\Process\\Pipes\\UnixPipes\":private]=>\n              bool(false)\n              [\"ptyMode\":\"Symfony\\Component\\Process\\Pipes\\UnixPipes\":private]=>\n              bool(false)\n              [\"haveReadSupport\":\"Symfony\\Component\\Process\\Pipes\\UnixPipes\":private]=>\n              bool(true)\n              [\"pipes\"]=>\n              array(0) {\n              }\n              [\"inputBuffer\":\"Symfony\\Component\\Process\\Pipes\\AbstractPipes\":private]=>\n              string(0) \"\"\n              [\"input\":\"Symfony\\Component\\Process\\Pipes\\AbstractPipes\":private]=>\n              NULL\n              [\"blocked\":\"Symfony\\Component\\Process\\Pipes\\AbstractPipes\":private]=>\n              bool(false)\n              [\"lastError\":\"Symfony\\Component\\Process\\Pipes\\AbstractPipes\":private]=>\n              NULL\n            }\n            [\"latestSignal\":\"Symfony\\Component\\Process\\Process\":private]=>\n            NULL\n          }\n          [1]=>\n          bool(false)\n          [2]=>\n          NULL\n        }\n      }\n      [3]=>\n      array(6) {\n        [\"file\"]=>\n        string(78) \"/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php\"\n        [\"line\"]=>\n        int(61)\n        [\"function\"]=>\n        string(7) \"command\"\n        [\"class\"]=>\n        string(35) \"Alchemy\\BinaryDriver\\AbstractBinary\"\n        [\"type\"]=>\n        string(2) \"->\"\n        [\"args\"]=>\n        array(1) {\n          [0]=>\n          array(3) {\n            [0]=>\n            string(5) \"-help\"\n            [1]=>\n            string(9) \"-loglevel\"\n            [2]=>\n            string(5) \"quiet\"\n          }\n        }\n      }\n      [4]=>\n      array(6) {\n        [\"file\"]=>\n        string(78) \"/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php\"\n        [\"line\"]=>\n        int(43)\n        [\"function\"]=>\n        string(18) \"retrieveHelpOutput\"\n        [\"class\"]=>\n        string(28) \"FFMpeg\\FFProbe\\OptionsTester\"\n        [\"type\"]=>\n        string(2) \"->\"\n        [\"args\"]=>\n        array(0) {\n        }\n      }\n      [5]=>\n      array(6) {\n        [\"file\"]=>\n        string(64) \"/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php\"\n        [\"line\"]=>\n        int(237)\n        [\"function\"]=>\n        string(3) \"has\"\n        [\"class\"]=>\n        string(28) \"FFMpeg\\FFProbe\\OptionsTester\"\n        [\"type\"]=>\n        string(2) \"->\"\n        [\"args\"]=>\n        array(1) {\n          [0]=>\n          &string(13) \"-show_streams\"\n        }\n      }\n      [6]=>\n      array(6) {\n        [\"file\"]=>\n        string(64) \"/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php\"\n        [\"line\"]=>\n        int(206)\n        [\"function\"]=>\n        string(5) \"probe\"\n        [\"class\"]=>\n        string(14) \"FFMpeg\\FFProbe\"\n        [\"type\"]=>\n        string(2) \"->\"\n        [\"args\"]=>\n        array(3) {\n          [0]=>\n          &string(33) \"/data/upload/upload/test/test.mp4\"\n          [1]=>\n          &string(13) \"-show_streams\"\n          [2]=>\n          &string(7) \"streams\"\n        }\n      }\n      [7]=>\n      array(6) {\n        [\"file\"]=>\n        string(63) \"/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFMpeg.php\"\n        [\"line\"]=>\n        int(92)\n        [\"function\"]=>\n        string(7) \"streams\"\n        [\"class\"]=>\n        string(14) \"FFMpeg\\FFProbe\"\n        [\"type\"]=>\n        string(2) \"->\"\n        [\"args\"]=>\n        array(1) {\n          [0]=>\n          &string(33) \"/data/upload/upload/test/test.mp4\"\n        }\n      }\n      [8]=>\n      array(6) {\n        [\"file\"]=>\n        string(23) \"/data/upload/upload.php\"\n        [\"line\"]=>\n        int(54)\n        [\"function\"]=>\n        string(4) \"open\"\n        [\"class\"]=>\n        string(13) \"FFMpeg\\FFMpeg\"\n        [\"type\"]=>\n        string(2) \"->\"\n        [\"args\"]=>\n        array(1) {\n          [0]=>\n          &string(33) \"/data/upload/upload/test/test.mp4\"\n        }\n      }\n      [9]=>\n      array(4) {\n        [\"file\"]=>\n        string(23) \"/data/upload/upload.php\"\n        [\"line\"]=>\n        int(32)\n        [\"function\"]=>\n        string(14) \"frameFromVideo\"\n        [\"args\"]=>\n        array(1) {\n          [0]=>\n          &string(33) \"/data/upload/upload/test/test.mp4\"\n        }\n      }\n    }\n    [\"previous\":\"Exception\":private]=>\n    NULL\n  }\n}\nI download the source package from [http://ffmpeg.org/download.html](url).\nAnd the package is [https://ffmpeg.org/releases/ffmpeg-4.0.2.tar.bz2](url).\n. And I try to fix the problem of binary detection, but it not work.\nfastcgi_param PATH \"/usr/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/go/go/bin\";\n```\nFFMpeg\\Exception\\RuntimeException::__set_state(array(\n   'message' => 'Your FFProbe version is too old and does not support `-help` option, please upgrade.',\n   'string' => '',\n   'code' => 0,\n   'file' => '/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php',\n   'line' => 63,\n   'trace' => \n  array (\n    0 => \n    array (\n      'file' => '/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php',\n      'line' => 43,\n      'function' => 'retrieveHelpOutput',\n      'class' => 'FFMpeg\\\\FFProbe\\\\OptionsTester',\n      'type' => '->',\n      'args' => \n      array (\n      ),\n    ),\n    1 => \n    array (\n      'file' => '/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php',\n      'line' => 237,\n      'function' => 'has',\n      'class' => 'FFMpeg\\\\FFProbe\\\\OptionsTester',\n      'type' => '->',\n      'args' => \n      array (\n        0 => '-show_streams',\n      ),\n    ),\n    2 => \n    array (\n      'file' => '/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php',\n      'line' => 206,\n      'function' => 'probe',\n      'class' => 'FFMpeg\\\\FFProbe',\n      'type' => '->',\n      'args' => \n      array (\n        0 => '/data/upload/upload/test/test.mp4',\n        1 => '-show_streams',\n        2 => 'streams',\n      ),\n    ),\n    3 => \n    array (\n      'file' => '/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFMpeg.php',\n      'line' => 92,\n      'function' => 'streams',\n      'class' => 'FFMpeg\\\\FFProbe',\n      'type' => '->',\n      'args' => \n      array (\n        0 => '/data/upload/upload/test/test.mp4',\n      ),\n    ),\n    4 => \n    array (\n      'file' => '/data/upload/upload.php',\n      'line' => 54,\n      'function' => 'open',\n      'class' => 'FFMpeg\\\\FFMpeg',\n      'type' => '->',\n      'args' => \n      array (\n        0 => '/data/upload/upload/test/test.mp4',\n      ),\n    ),\n    5 => \n    array (\n      'file' => '/data/upload/upload.php',\n      'line' => 32,\n      'function' => 'frameFromVideo',\n      'args' => \n      array (\n        0 => '/data/upload/upload/test/test.mp4',\n      ),\n    ),\n  ),\n   'previous' => \n  Alchemy\\BinaryDriver\\Exception\\ExecutionFailureException::__set_state(array(\n     'message' => 'ffprobe failed to execute command \\'/usr/local/bin/ffprobe\\' \\'-help\\' \\'-loglevel\\' \\'quiet\\'',\n     'string' => '',\n     'code' => 0,\n     'file' => '/data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php',\n     'line' => 100,\n     'trace' => \n    array (\n      0 => \n      array (\n        'file' => '/data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/ProcessRunner.php',\n        'line' => 72,\n        'function' => 'doExecutionFailure',\n        'class' => 'Alchemy\\\\BinaryDriver\\\\ProcessRunner',\n        'type' => '->',\n        'args' => \n        array (\n          0 => '\\'/usr/local/bin/ffprobe\\' \\'-help\\' \\'-loglevel\\' \\'quiet\\'',\n        ),\n      ),\n      1 => \n      array (\n        'file' => '/data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php',\n        'line' => 209,\n        'function' => 'run',\n        'class' => 'Alchemy\\\\BinaryDriver\\\\ProcessRunner',\n        'type' => '->',\n        'args' => \n        array (\n          0 => \n          Symfony\\Component\\Process\\Process::__set_state(array(\n             'callback' => NULL,\n             'hasCallback' => true,\n             'commandline' => '\\'/usr/local/bin/ffprobe\\' \\'-help\\' \\'-loglevel\\' \\'quiet\\'',\n             'cwd' => '/data/upload',\n             'env' => \n            array (\n            ),\n             'input' => NULL,\n             'starttime' => 1533606743.86395,\n             'lastOutputTime' => 1533606743.8662851,\n             'timeout' => NULL,\n             'idleTimeout' => NULL,\n             'options' => \n            array (\n              'suppress_errors' => true,\n            ),\n             'exitcode' => 127,\n             'fallbackStatus' => \n            array (\n            ),\n             'processInformation' => \n            array (\n              'command' => '\\'/usr/local/bin/ffprobe\\' \\'-help\\' \\'-loglevel\\' \\'quiet\\'',\n              'pid' => 30215,\n              'running' => false,\n              'signaled' => false,\n              'stopped' => false,\n              'exitcode' => 127,\n              'termsig' => 0,\n              'stopsig' => 0,\n            ),\n             'outputDisabled' => false,\n             'stdout' => NULL,\n             'stderr' => NULL,\n             'enhanceWindowsCompatibility' => true,\n             'enhanceSigchildCompatibility' => false,\n             'process' => NULL,\n             'status' => 'terminated',\n             'incrementalOutputOffset' => 0,\n             'incrementalErrorOutputOffset' => 0,\n             'tty' => NULL,\n             'pty' => false,\n             'inheritEnv' => true,\n             'useFileHandles' => false,\n             'processPipes' => \n            Symfony\\Component\\Process\\Pipes\\UnixPipes::__set_state(array(\n               'ttyMode' => false,\n               'ptyMode' => false,\n               'haveReadSupport' => true,\n               'pipes' => \n              array (\n              ),\n               'inputBuffer' => '',\n               'input' => NULL,\n               'blocked' => false,\n               'lastError' => NULL,\n            )),\n             'latestSignal' => NULL,\n          )),\n          1 => \n          SplObjectStorage::__set_state(array(\n          )),\n          2 => false,\n        ),\n      ),\n      2 => \n      array (\n        'file' => '/data/upload/vendor/alchemy/binary-driver/src/Alchemy/BinaryDriver/AbstractBinary.php',\n        'line' => 137,\n        'function' => 'run',\n        'class' => 'Alchemy\\\\BinaryDriver\\\\AbstractBinary',\n        'type' => '->',\n        'args' => \n        array (\n          0 => \n          Symfony\\Component\\Process\\Process::__set_state(array(\n             'callback' => NULL,\n             'hasCallback' => true,\n             'commandline' => '\\'/usr/local/bin/ffprobe\\' \\'-help\\' \\'-loglevel\\' \\'quiet\\'',\n             'cwd' => '/data/upload',\n             'env' => \n            array (\n            ),\n             'input' => NULL,\n             'starttime' => 1533606743.86395,\n             'lastOutputTime' => 1533606743.8662851,\n             'timeout' => NULL,\n             'idleTimeout' => NULL,\n             'options' => \n            array (\n              'suppress_errors' => true,\n            ),\n             'exitcode' => 127,\n             'fallbackStatus' => \n            array (\n            ),\n             'processInformation' => \n            array (\n              'command' => '\\'/usr/local/bin/ffprobe\\' \\'-help\\' \\'-loglevel\\' \\'quiet\\'',\n              'pid' => 30215,\n              'running' => false,\n              'signaled' => false,\n              'stopped' => false,\n              'exitcode' => 127,\n              'termsig' => 0,\n              'stopsig' => 0,\n            ),\n             'outputDisabled' => false,\n             'stdout' => NULL,\n             'stderr' => NULL,\n             'enhanceWindowsCompatibility' => true,\n             'enhanceSigchildCompatibility' => false,\n             'process' => NULL,\n             'status' => 'terminated',\n             'incrementalOutputOffset' => 0,\n             'incrementalErrorOutputOffset' => 0,\n             'tty' => NULL,\n             'pty' => false,\n             'inheritEnv' => true,\n             'useFileHandles' => false,\n             'processPipes' => \n            Symfony\\Component\\Process\\Pipes\\UnixPipes::__set_state(array(\n               'ttyMode' => false,\n               'ptyMode' => false,\n               'haveReadSupport' => true,\n               'pipes' => \n              array (\n              ),\n               'inputBuffer' => '',\n               'input' => NULL,\n               'blocked' => false,\n               'lastError' => NULL,\n            )),\n             'latestSignal' => NULL,\n          )),\n          1 => false,\n          2 => NULL,\n        ),\n      ),\n      3 => \n      array (\n        'file' => '/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php',\n        'line' => 61,\n        'function' => 'command',\n        'class' => 'Alchemy\\\\BinaryDriver\\\\AbstractBinary',\n        'type' => '->',\n        'args' => \n        array (\n          0 => \n          array (\n            0 => '-help',\n            1 => '-loglevel',\n            2 => 'quiet',\n          ),\n        ),\n      ),\n      4 => \n      array (\n        'file' => '/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe/OptionsTester.php',\n        'line' => 43,\n        'function' => 'retrieveHelpOutput',\n        'class' => 'FFMpeg\\\\FFProbe\\\\OptionsTester',\n        'type' => '->',\n        'args' => \n        array (\n        ),\n      ),\n      5 => \n      array (\n        'file' => '/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php',\n        'line' => 237,\n        'function' => 'has',\n        'class' => 'FFMpeg\\\\FFProbe\\\\OptionsTester',\n        'type' => '->',\n        'args' => \n        array (\n          0 => '-show_streams',\n        ),\n      ),\n      6 => \n      array (\n        'file' => '/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFProbe.php',\n        'line' => 206,\n        'function' => 'probe',\n        'class' => 'FFMpeg\\\\FFProbe',\n        'type' => '->',\n        'args' => \n        array (\n          0 => '/data/upload/upload/test/test.mp4',\n          1 => '-show_streams',\n          2 => 'streams',\n        ),\n      ),\n      7 => \n      array (\n        'file' => '/data/upload/vendor/php-ffmpeg/php-ffmpeg/src/FFMpeg/FFMpeg.php',\n        'line' => 92,\n        'function' => 'streams',\n        'class' => 'FFMpeg\\\\FFProbe',\n        'type' => '->',\n        'args' => \n        array (\n          0 => '/data/upload/upload/test/test.mp4',\n        ),\n      ),\n      8 => \n      array (\n        'file' => '/data/upload/upload.php',\n        'line' => 54,\n        'function' => 'open',\n        'class' => 'FFMpeg\\\\FFMpeg',\n        'type' => '->',\n        'args' => \n        array (\n          0 => '/data/upload/upload/test/test.mp4',\n        ),\n      ),\n      9 => \n      array (\n        'file' => '/data/upload/upload.php',\n        'line' => 32,\n        'function' => 'frameFromVideo',\n        'args' => \n        array (\n          0 => '/data/upload/upload/test/test.mp4',\n        ),\n      ),\n    ),\n     'previous' => NULL,\n  )),\n)). I found that I can execute exec(\"/usr/local/bin/iconv --version\"), it's works well.\nBut I can't execute exec(\"/usr/local/bin/ffprobe -help\"). its return code is 127.\nBoth are work well on CLI mode.\nCould it be a permission problem?. @jens1o @kavin-90 I'm so happy I found the problems.\nThere are two different ways to fix the problem.\n1.  When I compiled source file, I added --enable-shared flag, so it will to find shared libraries. The solution is remove --enable-shared.\n2. I edited /etc/profile file to add LD_LIBRARY_PATH in it, but it only useful to login shell, so it works well when I use PHP CLI Mode.\nBut php-fpm is differect, it's nonlogin shell, so I have to edit /etc/ld.so.conf file to add library path. Then it works well.\n. @jens1o That's great.\nThere're two points:\n1. the return code of exec: 127 means command is not found, or the command is found but a dependent library is not found.\n2. use exec(\"command 2>&1\", $output, $return_var) to get error message in shell.\nMy English is not good, so you can descript this odd behavior in your words. Thank you for your help!. ",
    "jonbonsilver": "@jens1o Thanks for this info. I had PHP-FFMpeg working perfectly on my local dev environment, but on my production server, it will not work (php can execute shell no problem). I always have problems with CentoOs 6, nothing works straight away on it.\nI like PHP-FFMpeg because of the integrated toDisk option, though in this case I am probably just going to run a shell and push the converted file to my cloud server after.. ",
    "dmongeau": "Do you plan to release this soon?. ",
    "larzuk91": ":+1: \n. Oh, and the video generated has its length fine (~5 seconds). Sure thing @jens1o \nIf there is something you think I should try in the meanwhile, just let me know. Sure, I'll update to the latest version and give it another try\n\nYeah, in the meantime you can rollback to 0.9 ;)\n\nMy real problem is that I'm using Symfony4 and there is an incompatibility version with alchemy/binary-driver dependency, it requires version >= 2.0 and since it was added in the latest commit (Actually, I proposed the change), I need to require master's branch for my project. Dang, upgrading to FFMpeg 4.0.2 didn't help. I did some more digging to the class ExtractMultipleFramesFilter and its values look correct ($duration, $nbImages & $nbFramesPerSecond) and also I noticed an interesting thing, I tried with another video which has 1 second more length (5 seconds length total), and from generating 135 images it raised to 160\nOh, and FFMpeg 4.0.2 with PHP-FFMpeg 0.9.3 works correctly\nAnother note: it only works with version 0.9.3 it fails since 0.9.4 what a coincidence.... Sure, I'll try it out tomorrow morning - Thanks for your support :). Sorry I expected to have some free time this weekend but well... here it is the output from both versions (they are equals =/)\n```\n==0.9.3==\nExtractMultipleFramesFilter.php on line 126:\narray:3 [\n  0 => \"-vf\"\n  1 => \"fps=1/1\"\n  2 => \"/tmp/thumbnails5b8d57b5c39af5.64543542/frame-%02d.jpg\"\n]\nGenerates 5 images\n==0.9.4==\nExtractMultipleFramesFilter.php on line 126:\narray:3 [\n  0 => \"-vf\"\n  1 => \"fps=1/1\"\n  2 => \"/tmp/thumbnails5b8d58e9ce7959.86058999/frame-%02d.jpg\"\n]\nGenerates 135\n```. Thanks man\n. Oh, interesting, maybe an integration test would have caught this\n\nlooks like nobody is using this.. :/\n\nThat's what I thought (How could I be the only one having this issue?), thanks for your help man, I hope the fix would be easy enough :). Oh man, I completely understand you, doing a rewrite it's always very tempting but it can be a trap because of all the hidden work it may have. Hello @jens1o, sorry for disturbing you but do you think this bug will be fixed any time soon?. Dang, let me know if you find something\nThanks for your support. Ah ok, I understand, thanks for your time man. ",
    "1271": "Video source:\nFF2KWhaOXoyp.mov.zip\n```php\nrequire 'vendor/autoload.php';\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('video.mov');\n$video->filters()\n    ->resize(\n        new FFMpeg\\Coordinate\\Dimension(600, 600),\n        FFMpeg\\Filters\\Video\\ResizeFilter::RESIZEMODE_INSET\n    )\n    ->synchronize();\n$video\n    ->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(10))\n    ->save('frame.jpg'); // bad orientation\n$video\n    ->save(new FFMpeg\\Format\\Video\\X264(), 'export-x264.mp4'); // bad orientation\n```. It does not change anything. The problem is not in the size of the video, but in the fact that it has the wrong orientation.. The problem is not that the video will be square.\nThe problem is that it is rotated 90 degrees\nIn this case, if this video is converted using ffmpeg from the terminal, everything is fine.. try playing the video using mplayer and ffplay. ",
    "mdolnik": "I've been trying to push a change for 20 mins to no avail.\nI can't seem to get permission to push my commit, after all sorts of combinations of changing the remote repository settings back and forth between ssh and https and setting up oath keys and ssh keys and no luck.\nThe change is simple enough, can someone else make the change and pull request for me?. > Yes, you may not push directly here. However, you are allowed to fork this repository.\nSorry that seems to me like too much effort to make a 3 line change, I'll just have my change local for now, and someone else with an existing fork can make the effort if they wish.\nI have attached a patch for anyone interested.\ngithub_issue_566.zip\n. ",
    "bensquire": "@jens1o done.... @jens1o did I break the travis build? Errors don't look related, but I could be wrong.. ",
    "eriksulymosi": "1.x. i know it, but the older one has some compatibility problem with Laravel 5.7.\nPR is here: https://github.com/PHP-FFMpeg/PHP-FFMpeg/pull/571. thanks for merge ;). ",
    "wachterjohannes": "@jens1o thanks for the quick response :). ",
    "ultimike": "Closing this issue, as I determined it was a bug with the Drupal PHP-FFMPEG integration module.\n-mike. ",
    "rolandstarke": "I got the same error on windows. Changing the following line in the library\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/fc8dbd6f02d1682c8db810b30897bf0bc5219db0/src/FFMpeg/Media/Concat.php#L108\nto\nphp\n$line .= \"file '\" . $videoPath . \"'\";\nfixed the error for me. But I am not sure about the correct escaping.\nHere the contents of the temp file not working\nfile C:\\Users\\Roland\\Documents\\MyStuff\\programmieren\\test/big_buck_bunny.mp4\nfile C:\\Users\\Roland\\Documents\\MyStuff\\programmieren\\test/big_buck_bunny.mp4\nand here the working version\nfile 'C:\\Users\\Roland\\Documents\\MyStuff\\programmieren\\test/big_buck_bunny.mp4'\nfile 'C:\\Users\\Roland\\Documents\\MyStuff\\programmieren\\test/big_buck_bunny.mp4'. ",
    "FrancescoMussi": "I think I have found the cause.\nWhen I am trying to concat using the command line: \nffmpeg -f concat -safe 0 -i mylist.txt -c copy output.mp4\nI get this error:\n\nAnd that may be because the two video files have audio opus codec.\nSo if I run this commands it works:\nffmpeg -f concat -safe 0 -i mylist.txt -c:v copy -c:a aac output.mp4\nThe video is properly created as a concatenation of the two videos.\nDo you know how can change the code, in order to convert the output file to aac?\n. Thanks for replying @jens1o.\nI am now try a simple concat using two files mp4 with aac audio codec.\nIt should work but it doesn't :(\nEverytime I get this error:\nffmpeg failed to execute command '/usr/local/bin/ffmpeg' '-f' 'concat' '-safe' '0' '-i' '/private/var/folders/dw/919v2nds7s78pz_qhp7z9rcm0000gn/T/ffmpeg-concatVZ6Ncg' '-c' 'copy' '/Users/francescomussi/Desktop/Apps/cameraProject/back-end/camera-laravel/storage/app/public/videos/output.mp4'\nDo you know why? What can be the reason ffmpeg cannot execute the command?\nDid somebody encounter a similar problem?\nDo you have some hints for more debugging.. I am totally out of ideas...\n. This is the output:\n/private/var/folders/dw/919v2nds7s78pz_qhp7z9rcm0000gn/T/ffmpeg-concatVZ6Ncg: No such file or directory\n\nThis is what happen inside the folder /private/var/folders/dw/919v2nds7s78pz_qhp7z9rcm0000gn/T/ right after I run the command:\n\nSomething is being created and deleted soon afterwards\n. These are the paths of the two mp4 videos and the output:\n\n. If I can exclude with certainty some reasons for the failure I would say:\n- It's not because of the files themselves (I have tried with many different mp4 and webm videos - also video samples downloaded here and there)\n- It's not because of the path (I don't get any ffprobe error message)\n- It's not because of the ffmpeg in the system (command lines in console work. I also have reinstalled it with all the possible libraries included)\nWhat else can be?\nThe library has been installed through the laravel bundle: https://github.com/pascalbaljetmedia/laravel-ffmpeg\nIn the composer.json of that bundle, the PHP-FFMpeg library is included as following:\n\"php-ffmpeg/php-ffmpeg\": \"dev-master#c11b79ab5b0174aa1a56c54c67491169e78a4c17\",\nIs that correct? I am not sure which version is that..\n. And actually this is the whole code:\n```\n$disk = FFMpeg::fromDisk('local');\n$video1 = $disk->open('public/videos/test3.mp4');\n$video2 = $disk->open('public/videos/test4.mp4');\n$output = $disk->open('public/videos/output.mp4');\n$path1 = $video1->getPathfile();\n$path2 = $video2->getPathfile();\n$output_path = $output->getPathfile();\n$result = $video1\n    ->concat([$path1, $path2])\n    ->saveFromSameCodecs($output_path, TRUE);\nreturn response()->json(compact('result')); \n```. The issue has been finally been resolved!\nThe problem was that I totally misunderstood about the output file.\nI thought it had to exists and with video and audio coded of the other videos.\nI don't remember where I read it or if I dream about.\nThat was the reason why it was failing...\nIf the output doesn't exists then everything works perfectly!!\nThank you very much for your time and sorry for trivial error!\nBy the way is it possible to improve that error message in the source code.\nFor example: \n\n\nbefore executing the commands - check that there is no existing file in the output_path given. \n\n\nIf it exists then give error: 'output file already exists in the path given. Commands cannot be executed'\n\n\nSomething like that. \nOtherwise ffmpeg failed to execute command ... is generic and difficult to identify the actual cause.\nIf is possible would be great!\n. Ah great! That will be perfect!. ",
    "Nepoh": "\nWhat should it save?\n\nI would expect that $video->save(new FFMpeg\\Format\\Audio\\Mp3(), 'audio.jpg'); saves a mp3 file called audio.jpg (despite the .jpg file extension) but actually it creates an image from the video since the file extension determines the output format not the Format object passed.\nThis behaviour is very counter-intuitive. I would expect that I can name the output file however I like (without a file extension or even with some \"non-sense\" extension like .jpg for a mp3 file).\n\nI just found out the WebM format uses the -f option so it does not matter how the output file is named:\nhttps://github.com/PHP-FFMpeg/PHP-FFMpeg/blob/1f81e5f0f8c8ae7be402a21a48808b5efba211be/src/FFMpeg/Format/Video/WebM.php#L37-L40\n. ",
    "jonhassall": "Enjoy the hackathon @jens1o. ",
    "pedrofurtado": "@jens1o Today I execute this command: \nffmpeg -i /path/to/my/wav/file.wav -vn -ac 2 -acodec aac -f segment -segment_format mpegts -segment_time 100 -segment_list /path/to/my/index.m3u8 /path/to/my/ts/file-%05d.ts\nBut I don't know exactly how to convert this in pure PHP code using this library \ud83d\udc4d . ",
    "artxuan": "\nPlease do not download something when possible in production areas. I'm not able to assist any further without a link.\n\nlink need user-sign , only support once link and five min time;. ",
    "pws2016": "i haven't access to execute cmd in my server. ",
    "StudyForZX": "My code \n```php\n<?php\nrequire './vendor/autoload.php';\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$audio = $ffmpeg->open('track.mp3');\n$format = new FFMpeg\\Format\\Audio\\Flac();\n$format->on('progress', function ($audio, $format, $percentage) {\n    echo \"$percentage % transcoded\";\n});\n$format\n    ->setAudioChannels(2)\n    ->setAudioKiloBitrate(256);\n$audio->save($format, 'track.flac');\n```\nI test the problem and I think here  it is:\n```php\n    /\n     * Creates a new FFMpeg instance.\n     \n     * @param array|ConfigurationInterface $configuration\n     * @param LoggerInterface              $logger\n     * @param FFProbe                      $probe\n     \n     * @return FFMpeg\n     */\n    public static function create($configuration = array(), LoggerInterface $logger = null, FFProbe $probe = null)\n    {\n        if (null === $probe) {\n            $probe = FFProbe::create($configuration, $logger, null); // here is the break poit\n        }\n    return new static(FFMpegDriver::create($logger, $configuration), $probe);\n}\n\n```\n. Yes,My development environment is windows\u3002\nCacheProvider.php  line 16:\nphp\nabstract class CacheProvider implements Cache, FlushableCache, ClearableCache, MultiOperationCache\n{\n    public const DOCTRINE_NAMESPACE_CACHEKEY = 'DoctrineNamespaceCacheKey[%s]'; // line 16\n    ...\n}\nI have no idea where the address hastebin/pastebin/gist/ is, sorry.\nAre you really 16 years old? Why r u so cool\uff1f\n. shell\n$ ./httpd -v\nServer version: Apache/2.4.23 (Win32)\nServer built:   Jul  1 2016 16:42:20\nThe whole request only recorded one log\nEnd of script output before headers: index.php\nNormal operation on the command line,it works.\nShould be a permission issue\nThank u cool guy.\n. ",
    "AndManowar": "Sry man, that was my mistake. I was trying to overwrite file and it gave me the duration = 0. ",
    "phamhoangha": "I had tried.\nffmpeg can't get a video bitrate from mpeg format.\nI'll try another way\nThanks for your reply.\n. It looks good to me.\nThanks for your advice!. ",
    "iljalukin": "I've ended up with implementing CustomFrameFilter using existing CustomFilter as an example.\nThe following code works for me:\nphp\n$ffmpeg = FFMpeg\\FFMpeg::create();\n$video = $ffmpeg->open('/some/video.mp4');\n$video->frame(FFMpeg\\Coordinate\\TimeCode::fromSeconds(0))\n      ->addFilter(new CustomFrameFilter('scale=142:80,fps=1,tile=10x10:margin=2:padding=2'))\n      ->save('/some/picture.jpg');\nPlease look at https://github.com/iljalukin/PHP-FFMpeg/commit/b3bfb34475465a186aafa2968607e85086e87fb8 whether it's worth for PR.. Done. Sorry for inconvenience.. ",
    "ChinaBygones": "\n\u4f60\u662f\u4ec0\u200b\u200b\u4e48\u610f\u601dvoice\uff1f\u4f60\u7684\u610f\u601d\u662f\u6ca1\u6709\u97f3\u9891\u5417\uff1f\n\nThank you for your reply. Yeah, after the video is generated, there is no sound. I don't know what's going on or there are few parameters.. > Could you provide the file you can reproduce with? This is most likely not an issue with this driver itself.\nOkay, wait a minute. I'll pack it and upload it to GitHub for you to download.. > \u4f60\u80fd\u63d0\u4f9b\u4f60\u53ef\u4ee5\u590d\u5236\u7684\u6587\u4ef6\u5417\uff1f\u8fd9\u5f88\u53ef\u80fd\u4e0d\u662f\u8fd9\u4e2a\u9a71\u52a8\u7a0b\u5e8f\u672c\u8eab\u7684\u95ee\u9898\u3002\nOkay, here's the code link you can clone\nHttps://github.com/ChinaBygones/PHP-FFmpegcode. > Could you provide the file you can reproduce with? This is most likely not an issue with this driver itself.\nHello, are you still here?. > Could you provide the file you can reproduce with? This is most likely not an issue with this driver itself.\nI solved it. I changed a decoder from libmp3lame to libfdk_aac. Thank you very much for your reply.. ",
    "laichixin": "hello , Can u solve it?. ",
    "SinonFX": "oh, I apologize for the mistake!\nyes, it can be a nice feature!. ",
    "throttlehead": "\nI actually like this idea. This is also already (partly) implemented in the upcoming version branch. I want to make it possible to insert custom filters at truly any location through filters(#464). This would also fix your problem. Let us keep it open still. :)\n\nThe library definitely needs this option!!! I'm using opus pretty heavily in my application and need to be able to set '-acodec libopus' in the ffmpeg command to properly transcode to AAC with fewer audio issues.\nAfter digging through the code I was thinking the easiest way to implement would be to a '->setInitialParams()' method that would be used when forming the base command with '->basePartOfCommand()'.\nFor now I'm going to sideline using the library for this and just running custom ffmpeg commands but please consider this feature!. I've gotten a little more comfortable with automated php testing now but still have not added a test for this method in VideoTest.php.\nIf anyone would like to add it it would help me learn!. Hey sorry been sick the past few days. I'm not sure but I would think you'd want a test that sets the array and then gets the array and ensures it matches.. ",
    "codecybe": "hard to know I'm not using ubuntu. ",
    "sebdesign": "@jens1o The second line would make the test to fail with the previous implementation, because of the missing artwork parameter. Now with this PR, this assertion passes.. @jens1o I meant that the artwork related parameters were missing from the array the apply method returns, which is a bug.. Not that's not useless, that's what I'm trying to explain. The first time the apply method was called the assertion passed. But if you wanted to apply again the same filter for a second time (e.g. to export to another format), then that second line would make the test fail, because it would return a different array.. No worries! I know it's a silly assertion, but it works.\nThank you for your feedback. :). ",
    "miranovy": "sorry I do not understand :(. replaced. "
}